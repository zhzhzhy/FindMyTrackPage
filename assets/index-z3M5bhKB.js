var qme=Object.defineProperty;var Yme=(t,e,n)=>e in t?qme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Xme=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var oi=(t,e,n)=>(Yme(t,typeof e!="symbol"?e+"":e,n),n);var g3t=Xme((Od,Dd)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function wD(t,e){const n=new Set(t.split(","));return r=>n.has(r)}const yo={},_w=[],Va=()=>{},Zme=()=>!1,C8=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),xD=t=>t.startsWith("onUpdate:"),Fl=Object.assign,CD=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Jme=Object.prototype.hasOwnProperty,ra=(t,e)=>Jme.call(t,e),Jn=Array.isArray,yw=t=>x6(t)==="[object Map]",E8=t=>x6(t)==="[object Set]",Z_=t=>x6(t)==="[object Date]",Dr=t=>typeof t=="function",Hr=t=>typeof t=="string",Gg=t=>typeof t=="symbol",Ai=t=>t!==null&&typeof t=="object",mC=t=>(Ai(t)||Dr(t))&&Dr(t.then)&&Dr(t.catch),LJ=Object.prototype.toString,x6=t=>LJ.call(t),rS=t=>x6(t).slice(8,-1),nT=t=>x6(t)==="[object Object]",ED=t=>Hr(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,L4=wD(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),S8=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},ege=/-(\w)/g,Ud=S8(t=>t.replace(ege,(e,n)=>n?n.toUpperCase():"")),tge=/\B([A-Z])/g,n0=S8(t=>t.replace(tge,"-$1").toLowerCase()),C6=S8(t=>t.charAt(0).toUpperCase()+t.slice(1)),iS=S8(t=>t?`on${C6(t)}`:""),dm=(t,e)=>!Object.is(t,e),aS=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},PJ=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},jF=t=>{const e=parseFloat(t);return isNaN(e)?t:e},nge=t=>{const e=Hr(t)?Number(t):NaN;return isNaN(e)?t:e};let gQ;const FJ=()=>gQ||(gQ=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function or(t){if(Jn(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Hr(r)?sge(r):or(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(Hr(t)||Ai(t))return t}const rge=/;(?![^(]*\))/g,ige=/:([^]+)/,age=/\/\*[^]*?\*\//g;function sge(t){const e={};return t.replace(age,"").split(rge).forEach(n=>{if(n){const r=n.split(ige);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Se(t){let e="";if(Hr(t))e=t;else if(Jn(t))for(let n=0;n<t.length;n++){const r=Se(t[n]);r&&(e+=r+" ")}else if(Ai(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function uo(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Hr(e)&&(t.class=Se(e)),n&&(t.style=or(n)),t}const oge="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",lge=wD(oge);function kJ(t){return!!t||t===""}function uge(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=$w(t[r],e[r]);return n}function $w(t,e){if(t===e)return!0;let n=Z_(t),r=Z_(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Gg(t),r=Gg(e),n||r)return t===e;if(n=Jn(t),r=Jn(e),n||r)return n&&r?uge(t,e):!1;if(n=Ai(t),r=Ai(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const l in t){const c=t.hasOwnProperty(l),a=e.hasOwnProperty(l);if(c&&!a||!c&&a||!$w(t[l],e[l]))return!1}}return String(t)===String(e)}function RJ(t,e){return t.findIndex(n=>$w(n,e))}const Cn=t=>Hr(t)?t:t==null?"":Jn(t)||Ai(t)&&(t.toString===LJ||!Dr(t.toString))?JSON.stringify(t,OJ,2):String(t),OJ=(t,e)=>e&&e.__v_isRef?OJ(t,e.value):yw(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[QI(r,s)+" =>"]=i,n),{})}:E8(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>QI(n))}:Gg(e)?QI(e):Ai(e)&&!Jn(e)&&!nT(e)?String(e):e,QI=(t,e="")=>{var n;return Gg(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Bd;class DJ{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Bd,!e&&Bd&&(this.index=(Bd.scopes||(Bd.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Bd;try{return Bd=this,e()}finally{Bd=n}}}on(){Bd=this}off(){Bd=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function cge(t){return new DJ(t)}function hge(t,e=Bd){e&&e.active&&e.effects.push(t)}function SD(){return Bd}function TD(t){Bd&&Bd.cleanups.push(t)}let R_;class BD{constructor(e,n,r,i){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,hge(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,h1();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(dge(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),d1()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=Dv,n=R_;try{return Dv=!0,R_=this,this._runnings++,vQ(this),this.fn()}finally{_Q(this),this._runnings--,R_=n,Dv=e}}stop(){this.active&&(vQ(this),_Q(this),this.onStop&&this.onStop(),this.active=!1)}}function dge(t){return t.value}function vQ(t){t._trackId++,t._depsLength=0}function _Q(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)NJ(t.deps[e],t);t.deps.length=t._depsLength}}function NJ(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let Dv=!0,GF=0;const UJ=[];function h1(){UJ.push(Dv),Dv=!1}function d1(){const t=UJ.pop();Dv=t===void 0?!0:t}function MD(){GF++}function ID(){for(GF--;!GF&&KF.length;)KF.shift()()}function zJ(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&NJ(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const KF=[];function $J(t,e,n){MD();for(const r of t.keys()){let i;r._dirtyLevel<e&&(i??(i=t.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=e),r._shouldSchedule&&(i??(i=t.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&KF.push(r.scheduler)))}ID()}const VJ=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},rT=new WeakMap,O_=Symbol(""),WF=Symbol("");function zh(t,e,n){if(Dv&&R_){let r=rT.get(t);r||rT.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=VJ(()=>r.delete(n))),zJ(R_,i)}}function Ug(t,e,n,r,i,s){const l=rT.get(t);if(!l)return;let c=[];if(e==="clear")c=[...l.values()];else if(n==="length"&&Jn(t)){const a=Number(r);l.forEach((f,A)=>{(A==="length"||!Gg(A)&&A>=a)&&c.push(f)})}else switch(n!==void 0&&c.push(l.get(n)),e){case"add":Jn(t)?ED(n)&&c.push(l.get("length")):(c.push(l.get(O_)),yw(t)&&c.push(l.get(WF)));break;case"delete":Jn(t)||(c.push(l.get(O_)),yw(t)&&c.push(l.get(WF)));break;case"set":yw(t)&&c.push(l.get(O_));break}MD();for(const a of c)a&&$J(a,4);ID()}function fge(t,e){const n=rT.get(t);return n&&n.get(e)}const pge=wD("__proto__,__v_isRef,__isVue"),HJ=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Gg)),yQ=Age();function Age(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=ja(this);for(let s=0,l=this.length;s<l;s++)zh(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(ja)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){h1(),MD();const r=ja(this)[e].apply(this,n);return ID(),d1(),r}}),t}function mge(t){Gg(t)||(t=String(t));const e=ja(this);return zh(e,"has",t),e.hasOwnProperty(t)}class QJ{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?Mge:WJ:s?KJ:GJ).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const l=Jn(e);if(!i){if(l&&ra(yQ,n))return Reflect.get(yQ,n,r);if(n==="hasOwnProperty")return mge}const c=Reflect.get(e,n,r);return(Gg(n)?HJ.has(n):pge(n))||(i||zh(e,"get",n),s)?c:hs(c)?l&&ED(n)?c:c.value:Ai(c)?i?x2(c):ua(c):c}}class jJ extends QJ{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const a=gC(s);if(!iT(r)&&!gC(r)&&(s=ja(s),r=ja(r)),!Jn(e)&&hs(s)&&!hs(r))return a?!1:(s.value=r,!0)}const l=Jn(e)&&ED(n)?Number(n)<e.length:ra(e,n),c=Reflect.set(e,n,r,i);return e===ja(i)&&(l?dm(r,s)&&Ug(e,"set",n,r):Ug(e,"add",n,r)),c}deleteProperty(e,n){const r=ra(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&Ug(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!Gg(n)||!HJ.has(n))&&zh(e,"has",n),r}ownKeys(e){return zh(e,"iterate",Jn(e)?"length":O_),Reflect.ownKeys(e)}}class gge extends QJ{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const vge=new jJ,_ge=new gge,yge=new jJ(!0),LD=t=>t,T8=t=>Reflect.getPrototypeOf(t);function xE(t,e,n=!1,r=!1){t=t.__v_raw;const i=ja(t),s=ja(e);n||(dm(e,s)&&zh(i,"get",e),zh(i,"get",s));const{has:l}=T8(i),c=r?LD:n?RD:vC;if(l.call(i,e))return c(t.get(e));if(l.call(i,s))return c(t.get(s));t!==i&&t.get(e)}function CE(t,e=!1){const n=this.__v_raw,r=ja(n),i=ja(t);return e||(dm(t,i)&&zh(r,"has",t),zh(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function EE(t,e=!1){return t=t.__v_raw,!e&&zh(ja(t),"iterate",O_),Reflect.get(t,"size",t)}function bQ(t){t=ja(t);const e=ja(this);return T8(e).has.call(e,t)||(e.add(t),Ug(e,"add",t,t)),this}function wQ(t,e){e=ja(e);const n=ja(this),{has:r,get:i}=T8(n);let s=r.call(n,t);s||(t=ja(t),s=r.call(n,t));const l=i.call(n,t);return n.set(t,e),s?dm(e,l)&&Ug(n,"set",t,e):Ug(n,"add",t,e),this}function xQ(t){const e=ja(this),{has:n,get:r}=T8(e);let i=n.call(e,t);i||(t=ja(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&Ug(e,"delete",t,void 0),s}function CQ(){const t=ja(this),e=t.size!==0,n=t.clear();return e&&Ug(t,"clear",void 0,void 0),n}function SE(t,e){return function(r,i){const s=this,l=s.__v_raw,c=ja(l),a=e?LD:t?RD:vC;return!t&&zh(c,"iterate",O_),l.forEach((f,A)=>r.call(i,a(f),a(A),s))}}function TE(t,e,n){return function(...r){const i=this.__v_raw,s=ja(i),l=yw(s),c=t==="entries"||t===Symbol.iterator&&l,a=t==="keys"&&l,f=i[t](...r),A=n?LD:e?RD:vC;return!e&&zh(s,"iterate",a?WF:O_),{next(){const{value:m,done:_}=f.next();return _?{value:m,done:_}:{value:c?[A(m[0]),A(m[1])]:A(m),done:_}},[Symbol.iterator](){return this}}}}function j0(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function bge(){const t={get(s){return xE(this,s)},get size(){return EE(this)},has:CE,add:bQ,set:wQ,delete:xQ,clear:CQ,forEach:SE(!1,!1)},e={get(s){return xE(this,s,!1,!0)},get size(){return EE(this)},has:CE,add:bQ,set:wQ,delete:xQ,clear:CQ,forEach:SE(!1,!0)},n={get(s){return xE(this,s,!0)},get size(){return EE(this,!0)},has(s){return CE.call(this,s,!0)},add:j0("add"),set:j0("set"),delete:j0("delete"),clear:j0("clear"),forEach:SE(!0,!1)},r={get(s){return xE(this,s,!0,!0)},get size(){return EE(this,!0)},has(s){return CE.call(this,s,!0)},add:j0("add"),set:j0("set"),delete:j0("delete"),clear:j0("clear"),forEach:SE(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=TE(s,!1,!1),n[s]=TE(s,!0,!1),e[s]=TE(s,!1,!0),r[s]=TE(s,!0,!0)}),[t,n,e,r]}const[wge,xge,Cge,Ege]=bge();function PD(t,e){const n=e?t?Ege:Cge:t?xge:wge;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(ra(n,i)&&i in r?n:r,i,s)}const Sge={get:PD(!1,!1)},Tge={get:PD(!1,!0)},Bge={get:PD(!0,!1)},GJ=new WeakMap,KJ=new WeakMap,WJ=new WeakMap,Mge=new WeakMap;function Ige(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Lge(t){return t.__v_skip||!Object.isExtensible(t)?0:Ige(rS(t))}function ua(t){return gC(t)?t:kD(t,!1,vge,Sge,GJ)}function FD(t){return kD(t,!1,yge,Tge,KJ)}function x2(t){return kD(t,!0,_ge,Bge,WJ)}function kD(t,e,n,r,i){if(!Ai(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const l=Lge(t);if(l===0)return t;const c=new Proxy(t,l===2?r:n);return i.set(t,c),c}function P4(t){return gC(t)?P4(t.__v_raw):!!(t&&t.__v_isReactive)}function gC(t){return!!(t&&t.__v_isReadonly)}function iT(t){return!!(t&&t.__v_isShallow)}function qJ(t){return t?!!t.__v_raw:!1}function ja(t){const e=t&&t.__v_raw;return e?ja(e):t}function bw(t){return Object.isExtensible(t)&&PJ(t,"__v_skip",!0),t}const vC=t=>Ai(t)?ua(t):t,RD=t=>Ai(t)?x2(t):t;class YJ{constructor(e,n,r,i){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new BD(()=>e(this._value),()=>F4(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=ja(this);return(!e._cacheable||e.effect.dirty)&&dm(e._value,e._value=e.effect.run())&&F4(e,4),OD(e),e.effect._dirtyLevel>=2&&F4(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function XJ(t,e,n=!1){let r,i;const s=Dr(t);return s?(r=t,i=Va):(r=t.get,i=t.set),new YJ(r,i,s||!i,n)}function OD(t){var e;Dv&&R_&&(t=ja(t),zJ(R_,(e=t.dep)!=null?e:t.dep=VJ(()=>t.dep=void 0,t instanceof YJ?t:void 0)))}function F4(t,e=4,n){t=ja(t);const r=t.dep;r&&$J(r,e)}function hs(t){return!!(t&&t.__v_isRef===!0)}function Te(t){return ZJ(t,!1)}function ms(t){return ZJ(t,!0)}function ZJ(t,e){return hs(t)?t:new Pge(t,e)}class Pge{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:ja(e),this._value=n?e:vC(e)}get value(){return OD(this),this._value}set value(e){const n=this.__v_isShallow||iT(e)||gC(e);e=n?e:ja(e),dm(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:vC(e),F4(this,4))}}function S(t){return hs(t)?t.value:t}const Fge={get:(t,e,n)=>S(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return hs(i)&&!hs(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function JJ(t){return P4(t)?t:new Proxy(t,Fge)}class kge{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=e(()=>OD(this),()=>F4(this));this._get=n,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function eee(t){return new kge(t)}function zu(t){const e=Jn(t)?new Array(t.length):{};for(const n in t)e[n]=tee(t,n);return e}class Rge{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return fge(ja(this._object),this._key)}}class Oge{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Oa(t,e,n){return hs(t)?t:Dr(t)?new Oge(t):Ai(t)&&arguments.length>1?tee(t,e,n):Te(t)}function tee(t,e,n){const r=t[e];return hs(r)?r:new Rge(t,e,n)}/**
* @vue/runtime-core v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Nv(t,e,n,r){try{return r?t(...r):t()}catch(i){B8(i,e,n)}}function wf(t,e,n,r){if(Dr(t)){const i=Nv(t,e,n,r);return i&&mC(i)&&i.catch(s=>{B8(s,e,n)}),i}if(Jn(t)){const i=[];for(let s=0;s<t.length;s++)i.push(wf(t[s],e,n,r));return i}}function B8(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const f=s.ec;if(f){for(let A=0;A<f.length;A++)if(f[A](t,l,c)===!1)return}s=s.parent}const a=e.appContext.config.errorHandler;if(a){h1(),Nv(a,null,10,[t,l,c]),d1();return}}Dge(t,n,i,r)}function Dge(t,e,n,r=!0){console.error(t)}let _C=!1,qF=!1;const Mc=[];let GA=0;const ww=[];let pv=null,A_=0;const nee=Promise.resolve();let DD=null;function dr(t){const e=DD||nee;return t?e.then(this?t.bind(this):t):e}function Nge(t){let e=GA+1,n=Mc.length;for(;e<n;){const r=e+n>>>1,i=Mc[r],s=yC(i);s<t||s===t&&i.pre?e=r+1:n=r}return e}function ND(t){(!Mc.length||!Mc.includes(t,_C&&t.allowRecurse?GA+1:GA))&&(t.id==null?Mc.push(t):Mc.splice(Nge(t.id),0,t),ree())}function ree(){!_C&&!qF&&(qF=!0,DD=nee.then(aee))}function Uge(t){const e=Mc.indexOf(t);e>GA&&Mc.splice(e,1)}function zge(t){Jn(t)?ww.push(...t):(!pv||!pv.includes(t,t.allowRecurse?A_+1:A_))&&ww.push(t),ree()}function EQ(t,e,n=_C?GA+1:0){for(;n<Mc.length;n++){const r=Mc[n];if(r&&r.pre){if(t&&r.id!==t.uid)continue;Mc.splice(n,1),n--,r()}}}function iee(t){if(ww.length){const e=[...new Set(ww)].sort((n,r)=>yC(n)-yC(r));if(ww.length=0,pv){pv.push(...e);return}for(pv=e,A_=0;A_<pv.length;A_++)pv[A_]();pv=null,A_=0}}const yC=t=>t.id==null?1/0:t.id,$ge=(t,e)=>{const n=yC(t)-yC(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function aee(t){qF=!1,_C=!0,Mc.sort($ge);try{for(GA=0;GA<Mc.length;GA++){const e=Mc[GA];e&&e.active!==!1&&Nv(e,null,14)}}finally{GA=0,Mc.length=0,iee(),_C=!1,DD=null,(Mc.length||ww.length)&&aee()}}function Vge(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||yo;let i=n;const s=e.startsWith("update:"),l=s&&e.slice(7);if(l&&l in r){const A=`${l==="modelValue"?"model":l}Modifiers`,{number:m,trim:_}=r[A]||yo;_&&(i=n.map(y=>Hr(y)?y.trim():y)),m&&(i=n.map(jF))}let c,a=r[c=iS(e)]||r[c=iS(Ud(e))];!a&&s&&(a=r[c=iS(n0(e))]),a&&wf(a,t,6,i);const f=r[c+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,wf(f,t,6,i)}}function see(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let l={},c=!1;if(!Dr(t)){const a=f=>{const A=see(f,e,!0);A&&(c=!0,Fl(l,A))};!n&&e.mixins.length&&e.mixins.forEach(a),t.extends&&a(t.extends),t.mixins&&t.mixins.forEach(a)}return!s&&!c?(Ai(t)&&r.set(t,null),null):(Jn(s)?s.forEach(a=>l[a]=null):Fl(l,s),Ai(t)&&r.set(t,l),l)}function M8(t,e){return!t||!C8(e)?!1:(e=e.slice(2).replace(/Once$/,""),ra(t,e[0].toLowerCase()+e.slice(1))||ra(t,n0(e))||ra(t,e))}let mu=null,I8=null;function aT(t){const e=mu;return mu=t,I8=t&&t.type.__scopeId||null,e}function Hge(t){I8=t}function Qge(){I8=null}function xt(t,e=mu,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&UQ(-1);const s=aT(e);let l;try{l=t(...i)}finally{aT(s),r._d&&UQ(1)}return l};return r._n=!0,r._c=!0,r._d=!0,r}function jI(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:l,attrs:c,emit:a,render:f,renderCache:A,props:m,data:_,setupState:y,ctx:T,inheritAttrs:E}=t,P=aT(t);let I,F;try{if(n.shapeFlag&4){const N=i||r,z=N;I=jA(f.call(z,N,A,m,y,_,T)),F=c}else{const N=e;I=jA(N.length>1?N(m,{attrs:c,slots:l,emit:a}):N(m,null)),F=e.props?c:jge(c)}}catch(N){N4.length=0,B8(N,t,1),I=ht(Lc)}let R=I;if(F&&E!==!1){const N=Object.keys(F),{shapeFlag:z}=R;N.length&&z&7&&(s&&N.some(xD)&&(F=Gge(F,s)),R=Kg(R,F,!1,!0))}return n.dirs&&(R=Kg(R,null,!1,!0),R.dirs=R.dirs?R.dirs.concat(n.dirs):n.dirs),n.transition&&(R.transition=n.transition),I=R,aT(P),I}const jge=t=>{let e;for(const n in t)(n==="class"||n==="style"||C8(n))&&((e||(e={}))[n]=t[n]);return e},Gge=(t,e)=>{const n={};for(const r in t)(!xD(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function Kge(t,e,n){const{props:r,children:i,component:s}=t,{props:l,children:c,patchFlag:a}=e,f=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return r?SQ(r,l,f):!!l;if(a&8){const A=e.dynamicProps;for(let m=0;m<A.length;m++){const _=A[m];if(l[_]!==r[_]&&!M8(f,_))return!0}}}else return(i||c)&&(!c||!c.$stable)?!0:r===l?!1:r?l?SQ(r,l,f):!0:!!l;return!1}function SQ(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!M8(n,s))return!0}return!1}function Wge({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const UD="components",qge="directives";function Kr(t,e){return zD(UD,t,!0,e)||t}const oee=Symbol.for("v-ndc");function di(t){return Hr(t)?zD(UD,t,!1)||t:t||oee}function L8(t){return zD(qge,t)}function zD(t,e,n=!0,r=!1){const i=mu||Ju;if(i){const s=i.type;if(t===UD){const c=U0e(s,!1);if(c&&(c===e||c===Ud(e)||c===C6(Ud(e))))return s}const l=TQ(i[t]||s[t],e)||TQ(i.appContext[t],e);return!l&&r?s:l}}function TQ(t,e){return t&&(t[e]||t[Ud(e)]||t[C6(Ud(e))])}const Yge=t=>t.__isSuspense;function Xge(t,e){e&&e.pendingBranch?Jn(t)?e.effects.push(...t):e.effects.push(t):zge(t)}const Zge=Symbol.for("v-scx"),Jge=()=>ar(Zge);function rc(t,e){return P8(t,null,e)}function e0e(t,e){return P8(t,null,{flush:"sync"})}const BE={};function un(t,e,n){return P8(t,e,n)}function P8(t,e,{immediate:n,deep:r,flush:i,once:s,onTrack:l,onTrigger:c}=yo){if(e&&s){const Q=e;e=(...j)=>{Q(...j),z()}}const a=Ju,f=Q=>r===!0?Q:w_(Q,r===!1?1:void 0);let A,m=!1,_=!1;if(hs(t)?(A=()=>t.value,m=iT(t)):P4(t)?(A=()=>f(t),m=!0):Jn(t)?(_=!0,m=t.some(Q=>P4(Q)||iT(Q)),A=()=>t.map(Q=>{if(hs(Q))return Q.value;if(P4(Q))return f(Q);if(Dr(Q))return Nv(Q,a,2)})):Dr(t)?e?A=()=>Nv(t,a,2):A=()=>(y&&y(),wf(t,a,3,[T])):A=Va,e&&r){const Q=A;A=()=>w_(Q())}let y,T=Q=>{y=R.onStop=()=>{Nv(Q,a,4),y=R.onStop=void 0}},E;if(O8)if(T=Va,e?n&&wf(e,a,3,[A(),_?[]:void 0,T]):A(),i==="sync"){const Q=Jge();E=Q.__watcherHandles||(Q.__watcherHandles=[])}else return Va;let P=_?new Array(t.length).fill(BE):BE;const I=()=>{if(!(!R.active||!R.dirty))if(e){const Q=R.run();(r||m||(_?Q.some((j,H)=>dm(j,P[H])):dm(Q,P)))&&(y&&y(),wf(e,a,3,[Q,P===BE?void 0:_&&P[0]===BE?[]:P,T]),P=Q)}else R.run()};I.allowRecurse=!!e;let F;i==="sync"?F=I:i==="post"?F=()=>Bh(I,a&&a.suspense):(I.pre=!0,a&&(I.id=a.uid),F=()=>ND(I));const R=new BD(A,Va,F),N=SD(),z=()=>{R.stop(),N&&CD(N.effects,R)};return e?n?I():P=R.run():i==="post"?Bh(R.run.bind(R),a&&a.suspense):R.run(),E&&E.push(z),z}function t0e(t,e,n){const r=this.proxy,i=Hr(t)?t.includes(".")?lee(r,t):()=>r[t]:t.bind(r,r);let s;Dr(e)?s=e:(s=e.handler,n=e);const l=E6(this),c=P8(i,s.bind(r),n);return l(),c}function lee(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function w_(t,e=1/0,n){if(e<=0||!Ai(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,hs(t))w_(t.value,e,n);else if(Jn(t))for(let r=0;r<t.length;r++)w_(t[r],e,n);else if(E8(t)||yw(t))t.forEach(r=>{w_(r,e,n)});else if(nT(t))for(const r in t)w_(t[r],e,n);return t}function Jr(t,e){if(mu===null)return t;const n=D8(mu)||mu.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,l,c,a=yo]=e[i];s&&(Dr(s)&&(s={mounted:s,updated:s}),s.deep&&w_(l),r.push({dir:s,instance:n,value:l,oldValue:void 0,arg:c,modifiers:a}))}return t}function Z1(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let l=0;l<i.length;l++){const c=i[l];s&&(c.oldValue=s[l].value);let a=c.dir[r];a&&(h1(),wf(a,n,8,[t.el,c,t,e]),d1())}}const Av=Symbol("_leaveCb"),ME=Symbol("_enterCb");function uee(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return kr(()=>{t.isMounted=!0}),ds(()=>{t.isUnmounting=!0}),t}const of=[Function,Array],cee={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:of,onEnter:of,onAfterEnter:of,onEnterCancelled:of,onBeforeLeave:of,onLeave:of,onAfterLeave:of,onLeaveCancelled:of,onBeforeAppear:of,onAppear:of,onAfterAppear:of,onAppearCancelled:of},n0e={name:"BaseTransition",props:cee,setup(t,{slots:e}){const n=ci(),r=uee();return()=>{const i=e.default&&$D(e.default(),!0);if(!i||!i.length)return;let s=i[0];if(i.length>1){for(const _ of i)if(_.type!==Lc){s=_;break}}const l=ja(t),{mode:c}=l;if(r.isLeaving)return GI(s);const a=BQ(s);if(!a)return GI(s);const f=bC(a,l,r,n);wC(a,f);const A=n.subTree,m=A&&BQ(A);if(m&&m.type!==Lc&&!m_(a,m)){const _=bC(m,l,r,n);if(wC(m,_),c==="out-in"&&a.type!==Lc)return r.isLeaving=!0,_.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},GI(s);c==="in-out"&&a.type!==Lc&&(_.delayLeave=(y,T,E)=>{const P=hee(r,m);P[String(m.key)]=m,y[Av]=()=>{T(),y[Av]=void 0,delete f.delayedLeave},f.delayedLeave=E})}return s}}},r0e=n0e;function hee(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function bC(t,e,n,r){const{appear:i,mode:s,persisted:l=!1,onBeforeEnter:c,onEnter:a,onAfterEnter:f,onEnterCancelled:A,onBeforeLeave:m,onLeave:_,onAfterLeave:y,onLeaveCancelled:T,onBeforeAppear:E,onAppear:P,onAfterAppear:I,onAppearCancelled:F}=e,R=String(t.key),N=hee(n,t),z=(H,K)=>{H&&wf(H,r,9,K)},Q=(H,K)=>{const ie=K[1];z(H,K),Jn(H)?H.every(q=>q.length<=1)&&ie():H.length<=1&&ie()},j={mode:s,persisted:l,beforeEnter(H){let K=c;if(!n.isMounted)if(i)K=E||c;else return;H[Av]&&H[Av](!0);const ie=N[R];ie&&m_(t,ie)&&ie.el[Av]&&ie.el[Av](),z(K,[H])},enter(H){let K=a,ie=f,q=A;if(!n.isMounted)if(i)K=P||a,ie=I||f,q=F||A;else return;let W=!1;const ee=H[ME]=ue=>{W||(W=!0,ue?z(q,[H]):z(ie,[H]),j.delayedLeave&&j.delayedLeave(),H[ME]=void 0)};K?Q(K,[H,ee]):ee()},leave(H,K){const ie=String(t.key);if(H[ME]&&H[ME](!0),n.isUnmounting)return K();z(m,[H]);let q=!1;const W=H[Av]=ee=>{q||(q=!0,K(),ee?z(T,[H]):z(y,[H]),H[Av]=void 0,N[ie]===t&&delete N[ie])};N[ie]=t,_?Q(_,[H,W]):W()},clone(H){return bC(H,e,n,r)}};return j}function GI(t){if(F8(t))return t=Kg(t),t.children=null,t}function BQ(t){if(!F8(t))return t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Dr(n.default))return n.default()}}function wC(t,e){t.shapeFlag&6&&t.component?wC(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function $D(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let l=t[s];const c=n==null?l.key:String(n)+String(l.key!=null?l.key:s);l.type===Vn?(l.patchFlag&128&&i++,r=r.concat($D(l.children,e,c))):(e||l.type!==Lc)&&r.push(c!=null?Kg(l,{key:c}):l)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Be(t,e){return Dr(t)?Fl({name:t.name},e,{setup:t}):t}const k4=t=>!!t.type.__asyncLoader,F8=t=>t.type.__isKeepAlive;function i0e(t,e){fee(t,"a",e)}function dee(t,e){fee(t,"da",e)}function fee(t,e,n=Ju){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(k8(e,r,n),n){let i=n.parent;for(;i&&i.parent;)F8(i.parent.vnode)&&a0e(r,e,n,i),i=i.parent}}function a0e(t,e,n,r){const i=k8(e,t,r,!0);Rf(()=>{CD(r[e],i)},n)}function k8(t,e,n=Ju,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...l)=>{if(n.isUnmounted)return;h1();const c=E6(n),a=wf(e,n,t,l);return c(),d1(),a});return r?i.unshift(s):i.push(s),s}}const r0=t=>(e,n=Ju)=>(!O8||t==="sp")&&k8(t,(...r)=>e(...r),n),R8=r0("bm"),kr=r0("m"),VD=r0("bu"),i0=r0("u"),ds=r0("bum"),Rf=r0("um"),s0e=r0("sp"),o0e=r0("rtg"),l0e=r0("rtc");function u0e(t,e=Ju){k8("ec",t,e)}function Yr(t,e,n,r){let i;const s=n;if(Jn(t)||Hr(t)){i=new Array(t.length);for(let l=0,c=t.length;l<c;l++)i[l]=e(t[l],l,void 0,s)}else if(typeof t=="number"){i=new Array(t);for(let l=0;l<t;l++)i[l]=e(l+1,l,void 0,s)}else if(Ai(t))if(t[Symbol.iterator])i=Array.from(t,(l,c)=>e(l,c,void 0,s));else{const l=Object.keys(t);i=new Array(l.length);for(let c=0,a=l.length;c<a;c++){const f=l[c];i[c]=e(t[f],f,c,s)}}else i=[];return i}function Ro(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(Jn(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return t}function kt(t,e,n={},r,i){if(mu.isCE||mu.parent&&k4(mu.parent)&&mu.parent.isCE)return e!=="default"&&(n.name=e),ht("slot",n,r&&r());let s=t[e];s&&s._c&&(s._d=!1),X();const l=s&&pee(s(n)),c=Ut(Vn,{key:n.key||l&&l.key||`_${e}`},l||(r?r():[]),l&&t._===1?64:-2);return c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),s&&s._c&&(s._d=!0),c}function pee(t){return t.some(e=>js(e)?!(e.type===Lc||e.type===Vn&&!pee(e.children)):!0)?t:null}function c0e(t,e){const n={};for(const r in t)n[iS(r)]=t[r];return n}const YF=t=>t?Iee(t)?D8(t)||t.proxy:YF(t.parent):null,R4=Fl(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>YF(t.parent),$root:t=>YF(t.root),$emit:t=>t.emit,$options:t=>HD(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,ND(t.update)}),$nextTick:t=>t.n||(t.n=dr.bind(t.proxy)),$watch:t=>t0e.bind(t)}),KI=(t,e)=>t!==yo&&!t.__isScriptSetup&&ra(t,e),h0e={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:l,type:c,appContext:a}=t;let f;if(e[0]!=="$"){const y=l[e];if(y!==void 0)switch(y){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(KI(r,e))return l[e]=1,r[e];if(i!==yo&&ra(i,e))return l[e]=2,i[e];if((f=t.propsOptions[0])&&ra(f,e))return l[e]=3,s[e];if(n!==yo&&ra(n,e))return l[e]=4,n[e];XF&&(l[e]=0)}}const A=R4[e];let m,_;if(A)return e==="$attrs"&&zh(t.attrs,"get",""),A(t);if((m=c.__cssModules)&&(m=m[e]))return m;if(n!==yo&&ra(n,e))return l[e]=4,n[e];if(_=a.config.globalProperties,ra(_,e))return _[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return KI(i,e)?(i[e]=n,!0):r!==yo&&ra(r,e)?(r[e]=n,!0):ra(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},l){let c;return!!n[l]||t!==yo&&ra(t,l)||KI(e,l)||(c=s[0])&&ra(c,l)||ra(r,l)||ra(R4,l)||ra(i.config.globalProperties,l)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ra(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Eo(){return Aee().slots}function py(){return Aee().attrs}function Aee(){const t=ci();return t.setupContext||(t.setupContext=Pee(t))}function MQ(t){return Jn(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let XF=!0;function d0e(t){const e=HD(t),n=t.proxy,r=t.ctx;XF=!1,e.beforeCreate&&IQ(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:l,watch:c,provide:a,inject:f,created:A,beforeMount:m,mounted:_,beforeUpdate:y,updated:T,activated:E,deactivated:P,beforeDestroy:I,beforeUnmount:F,destroyed:R,unmounted:N,render:z,renderTracked:Q,renderTriggered:j,errorCaptured:H,serverPrefetch:K,expose:ie,inheritAttrs:q,components:W,directives:ee,filters:ue}=e;if(f&&f0e(f,r,null),l)for(const ne in l){const he=l[ne];Dr(he)&&(r[ne]=he.bind(n))}if(i){const ne=i.call(n,n);Ai(ne)&&(t.data=ua(ne))}if(XF=!0,s)for(const ne in s){const he=s[ne],ce=Dr(he)?he.bind(n,n):Dr(he.get)?he.get.bind(n,n):Va,ye=!Dr(he)&&Dr(he.set)?he.set.bind(n):Va,Ee=le({get:ce,set:ye});Object.defineProperty(r,ne,{enumerable:!0,configurable:!0,get:()=>Ee.value,set:se=>Ee.value=se})}if(c)for(const ne in c)mee(c[ne],r,n,ne);if(a){const ne=Dr(a)?a.call(n):a;Reflect.ownKeys(ne).forEach(he=>{Ii(he,ne[he])})}A&&IQ(A,t,"c");function te(ne,he){Jn(he)?he.forEach(ce=>ne(ce.bind(n))):he&&ne(he.bind(n))}if(te(R8,m),te(kr,_),te(VD,y),te(i0,T),te(i0e,E),te(dee,P),te(u0e,H),te(l0e,Q),te(o0e,j),te(ds,F),te(Rf,N),te(s0e,K),Jn(ie))if(ie.length){const ne=t.exposed||(t.exposed={});ie.forEach(he=>{Object.defineProperty(ne,he,{get:()=>n[he],set:ce=>n[he]=ce})})}else t.exposed||(t.exposed={});z&&t.render===Va&&(t.render=z),q!=null&&(t.inheritAttrs=q),W&&(t.components=W),ee&&(t.directives=ee)}function f0e(t,e,n=Va){Jn(t)&&(t=ZF(t));for(const r in t){const i=t[r];let s;Ai(i)?"default"in i?s=ar(i.from||r,i.default,!0):s=ar(i.from||r):s=ar(i),hs(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:l=>s.value=l}):e[r]=s}}function IQ(t,e,n){wf(Jn(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function mee(t,e,n,r){const i=r.includes(".")?lee(n,r):()=>n[r];if(Hr(t)){const s=e[t];Dr(s)&&un(i,s)}else if(Dr(t))un(i,t.bind(n));else if(Ai(t))if(Jn(t))t.forEach(s=>mee(s,e,n,r));else{const s=Dr(t.handler)?t.handler.bind(n):e[t.handler];Dr(s)&&un(i,s,t)}}function HD(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:l}}=t.appContext,c=s.get(e);let a;return c?a=c:!i.length&&!n&&!r?a=e:(a={},i.length&&i.forEach(f=>sT(a,f,l,!0)),sT(a,e,l)),Ai(e)&&s.set(e,a),a}function sT(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&sT(t,s,n,!0),i&&i.forEach(l=>sT(t,l,n,!0));for(const l in e)if(!(r&&l==="expose")){const c=p0e[l]||n&&n[l];t[l]=c?c(t[l],e[l]):e[l]}return t}const p0e={data:LQ,props:PQ,emits:PQ,methods:c4,computed:c4,beforeCreate:Yc,created:Yc,beforeMount:Yc,mounted:Yc,beforeUpdate:Yc,updated:Yc,beforeDestroy:Yc,beforeUnmount:Yc,destroyed:Yc,unmounted:Yc,activated:Yc,deactivated:Yc,errorCaptured:Yc,serverPrefetch:Yc,components:c4,directives:c4,watch:m0e,provide:LQ,inject:A0e};function LQ(t,e){return e?t?function(){return Fl(Dr(t)?t.call(this,this):t,Dr(e)?e.call(this,this):e)}:e:t}function A0e(t,e){return c4(ZF(t),ZF(e))}function ZF(t){if(Jn(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Yc(t,e){return t?[...new Set([].concat(t,e))]:e}function c4(t,e){return t?Fl(Object.create(null),t,e):e}function PQ(t,e){return t?Jn(t)&&Jn(e)?[...new Set([...t,...e])]:Fl(Object.create(null),MQ(t),MQ(e??{})):e}function m0e(t,e){if(!t)return e;if(!e)return t;const n=Fl(Object.create(null),t);for(const r in e)n[r]=Yc(t[r],e[r]);return n}function gee(){return{app:null,config:{isNativeTag:Zme,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let g0e=0;function v0e(t,e){return function(r,i=null){Dr(r)||(r=Fl({},r)),i!=null&&!Ai(i)&&(i=null);const s=gee(),l=new WeakSet;let c=!1;const a=s.app={_uid:g0e++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:$0e,get config(){return s.config},set config(f){},use(f,...A){return l.has(f)||(f&&Dr(f.install)?(l.add(f),f.install(a,...A)):Dr(f)&&(l.add(f),f(a,...A))),a},mixin(f){return s.mixins.includes(f)||s.mixins.push(f),a},component(f,A){return A?(s.components[f]=A,a):s.components[f]},directive(f,A){return A?(s.directives[f]=A,a):s.directives[f]},mount(f,A,m){if(!c){const _=ht(r,i);return _.appContext=s,m===!0?m="svg":m===!1&&(m=void 0),A&&e?e(_,f):t(_,f,m),c=!0,a._container=f,f.__vue_app__=a,D8(_.component)||_.component.proxy}},unmount(){c&&(t(null,a._container),delete a._container.__vue_app__)},provide(f,A){return s.provides[f]=A,a},runWithContext(f){const A=O4;O4=a;try{return f()}finally{O4=A}}};return a}}let O4=null;function Ii(t,e){if(Ju){let n=Ju.provides;const r=Ju.parent&&Ju.parent.provides;r===n&&(n=Ju.provides=Object.create(r)),n[t]=e}}function ar(t,e,n=!1){const r=Ju||mu;if(r||O4){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:O4._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Dr(e)?e.call(r&&r.proxy):e}}const vee={},_ee=()=>Object.create(vee),yee=t=>Object.getPrototypeOf(t)===vee;function _0e(t,e,n,r=!1){const i={},s=_ee();t.propsDefaults=Object.create(null),bee(t,e,i,s);for(const l in t.propsOptions[0])l in i||(i[l]=void 0);n?t.props=r?i:FD(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function y0e(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:l}}=t,c=ja(i),[a]=t.propsOptions;let f=!1;if((r||l>0)&&!(l&16)){if(l&8){const A=t.vnode.dynamicProps;for(let m=0;m<A.length;m++){let _=A[m];if(M8(t.emitsOptions,_))continue;const y=e[_];if(a)if(ra(s,_))y!==s[_]&&(s[_]=y,f=!0);else{const T=Ud(_);i[T]=JF(a,c,T,y,t,!1)}else y!==s[_]&&(s[_]=y,f=!0)}}}else{bee(t,e,i,s)&&(f=!0);let A;for(const m in c)(!e||!ra(e,m)&&((A=n0(m))===m||!ra(e,A)))&&(a?n&&(n[m]!==void 0||n[A]!==void 0)&&(i[m]=JF(a,c,m,void 0,t,!0)):delete i[m]);if(s!==c)for(const m in s)(!e||!ra(e,m))&&(delete s[m],f=!0)}f&&Ug(t.attrs,"set","")}function bee(t,e,n,r){const[i,s]=t.propsOptions;let l=!1,c;if(e)for(let a in e){if(L4(a))continue;const f=e[a];let A;i&&ra(i,A=Ud(a))?!s||!s.includes(A)?n[A]=f:(c||(c={}))[A]=f:M8(t.emitsOptions,a)||(!(a in r)||f!==r[a])&&(r[a]=f,l=!0)}if(s){const a=ja(n),f=c||yo;for(let A=0;A<s.length;A++){const m=s[A];n[m]=JF(i,a,m,f[m],t,!ra(f,m))}}return l}function JF(t,e,n,r,i,s){const l=t[n];if(l!=null){const c=ra(l,"default");if(c&&r===void 0){const a=l.default;if(l.type!==Function&&!l.skipFactory&&Dr(a)){const{propsDefaults:f}=i;if(n in f)r=f[n];else{const A=E6(i);r=f[n]=a.call(null,e),A()}}else r=a}l[0]&&(s&&!c?r=!1:l[1]&&(r===""||r===n0(n))&&(r=!0))}return r}function wee(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,l={},c=[];let a=!1;if(!Dr(t)){const A=m=>{a=!0;const[_,y]=wee(m,e,!0);Fl(l,_),y&&c.push(...y)};!n&&e.mixins.length&&e.mixins.forEach(A),t.extends&&A(t.extends),t.mixins&&t.mixins.forEach(A)}if(!s&&!a)return Ai(t)&&r.set(t,_w),_w;if(Jn(s))for(let A=0;A<s.length;A++){const m=Ud(s[A]);FQ(m)&&(l[m]=yo)}else if(s)for(const A in s){const m=Ud(A);if(FQ(m)){const _=s[A],y=l[m]=Jn(_)||Dr(_)?{type:_}:Fl({},_);if(y){const T=OQ(Boolean,y.type),E=OQ(String,y.type);y[0]=T>-1,y[1]=E<0||T<E,(T>-1||ra(y,"default"))&&c.push(m)}}}const f=[l,c];return Ai(t)&&r.set(t,f),f}function FQ(t){return t[0]!=="$"&&!L4(t)}function kQ(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function RQ(t,e){return kQ(t)===kQ(e)}function OQ(t,e){return Jn(e)?e.findIndex(n=>RQ(n,t)):Dr(e)&&RQ(e,t)?0:-1}const xee=t=>t[0]==="_"||t==="$stable",QD=t=>Jn(t)?t.map(jA):[jA(t)],b0e=(t,e,n)=>{if(e._n)return e;const r=xt((...i)=>QD(e(...i)),n);return r._c=!1,r},Cee=(t,e,n)=>{const r=t._ctx;for(const i in t){if(xee(i))continue;const s=t[i];if(Dr(s))e[i]=b0e(i,s,r);else if(s!=null){const l=QD(s);e[i]=()=>l}}},Eee=(t,e)=>{const n=QD(e);t.slots.default=()=>n},w0e=(t,e)=>{const n=t.slots=_ee();if(t.vnode.shapeFlag&32){const r=e._;r?(Fl(n,e),PJ(n,"_",r,!0)):Cee(e,n)}else e&&Eee(t,e)},x0e=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,l=yo;if(r.shapeFlag&32){const c=e._;c?n&&c===1?s=!1:(Fl(i,e),!n&&c===1&&delete i._):(s=!e.$stable,Cee(e,i)),l=e}else e&&(Eee(t,e),l={default:1});if(s)for(const c in i)!xee(c)&&l[c]==null&&delete i[c]};function ek(t,e,n,r,i=!1){if(Jn(t)){t.forEach((_,y)=>ek(_,e&&(Jn(e)?e[y]:e),n,r,i));return}if(k4(r)&&!i)return;const s=r.shapeFlag&4?D8(r.component)||r.component.proxy:r.el,l=i?null:s,{i:c,r:a}=t,f=e&&e.r,A=c.refs===yo?c.refs={}:c.refs,m=c.setupState;if(f!=null&&f!==a&&(Hr(f)?(A[f]=null,ra(m,f)&&(m[f]=null)):hs(f)&&(f.value=null)),Dr(a))Nv(a,c,12,[l,A]);else{const _=Hr(a),y=hs(a);if(_||y){const T=()=>{if(t.f){const E=_?ra(m,a)?m[a]:A[a]:a.value;i?Jn(E)&&CD(E,s):Jn(E)?E.includes(s)||E.push(s):_?(A[a]=[s],ra(m,a)&&(m[a]=A[a])):(a.value=[s],t.k&&(A[t.k]=a.value))}else _?(A[a]=l,ra(m,a)&&(m[a]=l)):y&&(a.value=l,t.k&&(A[t.k]=l))};l?(T.id=-1,Bh(T,n)):T()}}}const Bh=Xge;function C0e(t){return E0e(t)}function E0e(t,e){const n=FJ();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:l,createText:c,createComment:a,setText:f,setElementText:A,parentNode:m,nextSibling:_,setScopeId:y=Va,insertStaticContent:T}=t,E=(Pe,Ge,Ne,je=null,Ye=null,vt=null,Lt=void 0,Et=null,Vt=!!Ge.dynamicChildren)=>{if(Pe===Ge)return;Pe&&!m_(Pe,Ge)&&(je=be(Pe),se(Pe,Ye,vt,!0),Pe=null),Ge.patchFlag===-2&&(Vt=!1,Ge.dynamicChildren=null);const{type:_t,ref:qt,shapeFlag:tn}=Ge;switch(_t){case C2:P(Pe,Ge,Ne,je);break;case Lc:I(Pe,Ge,Ne,je);break;case qI:Pe==null&&F(Ge,Ne,je,Lt);break;case Vn:W(Pe,Ge,Ne,je,Ye,vt,Lt,Et,Vt);break;default:tn&1?z(Pe,Ge,Ne,je,Ye,vt,Lt,Et,Vt):tn&6?ee(Pe,Ge,Ne,je,Ye,vt,Lt,Et,Vt):(tn&64||tn&128)&&_t.process(Pe,Ge,Ne,je,Ye,vt,Lt,Et,Vt,Je)}qt!=null&&Ye&&ek(qt,Pe&&Pe.ref,vt,Ge||Pe,!Ge)},P=(Pe,Ge,Ne,je)=>{if(Pe==null)r(Ge.el=c(Ge.children),Ne,je);else{const Ye=Ge.el=Pe.el;Ge.children!==Pe.children&&f(Ye,Ge.children)}},I=(Pe,Ge,Ne,je)=>{Pe==null?r(Ge.el=a(Ge.children||""),Ne,je):Ge.el=Pe.el},F=(Pe,Ge,Ne,je)=>{[Pe.el,Pe.anchor]=T(Pe.children,Ge,Ne,je,Pe.el,Pe.anchor)},R=({el:Pe,anchor:Ge},Ne,je)=>{let Ye;for(;Pe&&Pe!==Ge;)Ye=_(Pe),r(Pe,Ne,je),Pe=Ye;r(Ge,Ne,je)},N=({el:Pe,anchor:Ge})=>{let Ne;for(;Pe&&Pe!==Ge;)Ne=_(Pe),i(Pe),Pe=Ne;i(Ge)},z=(Pe,Ge,Ne,je,Ye,vt,Lt,Et,Vt)=>{Ge.type==="svg"?Lt="svg":Ge.type==="math"&&(Lt="mathml"),Pe==null?Q(Ge,Ne,je,Ye,vt,Lt,Et,Vt):K(Pe,Ge,Ye,vt,Lt,Et,Vt)},Q=(Pe,Ge,Ne,je,Ye,vt,Lt,Et)=>{let Vt,_t;const{props:qt,shapeFlag:tn,transition:Nt,dirs:wt}=Pe;if(Vt=Pe.el=l(Pe.type,vt,qt&&qt.is,qt),tn&8?A(Vt,Pe.children):tn&16&&H(Pe.children,Vt,null,je,Ye,WI(Pe,vt),Lt,Et),wt&&Z1(Pe,null,je,"created"),j(Vt,Pe,Pe.scopeId,Lt,je),qt){for(const We in qt)We!=="value"&&!L4(We)&&s(Vt,We,null,qt[We],vt,Pe.children,je,Ye,Le);"value"in qt&&s(Vt,"value",null,qt.value,vt),(_t=qt.onVnodeBeforeMount)&&OA(_t,je,Pe)}wt&&Z1(Pe,null,je,"beforeMount");const De=S0e(Ye,Nt);De&&Nt.beforeEnter(Vt),r(Vt,Ge,Ne),((_t=qt&&qt.onVnodeMounted)||De||wt)&&Bh(()=>{_t&&OA(_t,je,Pe),De&&Nt.enter(Vt),wt&&Z1(Pe,null,je,"mounted")},Ye)},j=(Pe,Ge,Ne,je,Ye)=>{if(Ne&&y(Pe,Ne),je)for(let vt=0;vt<je.length;vt++)y(Pe,je[vt]);if(Ye){let vt=Ye.subTree;if(Ge===vt){const Lt=Ye.vnode;j(Pe,Lt,Lt.scopeId,Lt.slotScopeIds,Ye.parent)}}},H=(Pe,Ge,Ne,je,Ye,vt,Lt,Et,Vt=0)=>{for(let _t=Vt;_t<Pe.length;_t++){const qt=Pe[_t]=Et?mv(Pe[_t]):jA(Pe[_t]);E(null,qt,Ge,Ne,je,Ye,vt,Lt,Et)}},K=(Pe,Ge,Ne,je,Ye,vt,Lt)=>{const Et=Ge.el=Pe.el;let{patchFlag:Vt,dynamicChildren:_t,dirs:qt}=Ge;Vt|=Pe.patchFlag&16;const tn=Pe.props||yo,Nt=Ge.props||yo;let wt;if(Ne&&J1(Ne,!1),(wt=Nt.onVnodeBeforeUpdate)&&OA(wt,Ne,Ge,Pe),qt&&Z1(Ge,Pe,Ne,"beforeUpdate"),Ne&&J1(Ne,!0),_t?ie(Pe.dynamicChildren,_t,Et,Ne,je,WI(Ge,Ye),vt):Lt||he(Pe,Ge,Et,null,Ne,je,WI(Ge,Ye),vt,!1),Vt>0){if(Vt&16)q(Et,Ge,tn,Nt,Ne,je,Ye);else if(Vt&2&&tn.class!==Nt.class&&s(Et,"class",null,Nt.class,Ye),Vt&4&&s(Et,"style",tn.style,Nt.style,Ye),Vt&8){const De=Ge.dynamicProps;for(let We=0;We<De.length;We++){const ut=De[We],It=tn[ut],Xe=Nt[ut];(Xe!==It||ut==="value")&&s(Et,ut,It,Xe,Ye,Pe.children,Ne,je,Le)}}Vt&1&&Pe.children!==Ge.children&&A(Et,Ge.children)}else!Lt&&_t==null&&q(Et,Ge,tn,Nt,Ne,je,Ye);((wt=Nt.onVnodeUpdated)||qt)&&Bh(()=>{wt&&OA(wt,Ne,Ge,Pe),qt&&Z1(Ge,Pe,Ne,"updated")},je)},ie=(Pe,Ge,Ne,je,Ye,vt,Lt)=>{for(let Et=0;Et<Ge.length;Et++){const Vt=Pe[Et],_t=Ge[Et],qt=Vt.el&&(Vt.type===Vn||!m_(Vt,_t)||Vt.shapeFlag&70)?m(Vt.el):Ne;E(Vt,_t,qt,null,je,Ye,vt,Lt,!0)}},q=(Pe,Ge,Ne,je,Ye,vt,Lt)=>{if(Ne!==je){if(Ne!==yo)for(const Et in Ne)!L4(Et)&&!(Et in je)&&s(Pe,Et,Ne[Et],null,Lt,Ge.children,Ye,vt,Le);for(const Et in je){if(L4(Et))continue;const Vt=je[Et],_t=Ne[Et];Vt!==_t&&Et!=="value"&&s(Pe,Et,_t,Vt,Lt,Ge.children,Ye,vt,Le)}"value"in je&&s(Pe,"value",Ne.value,je.value,Lt)}},W=(Pe,Ge,Ne,je,Ye,vt,Lt,Et,Vt)=>{const _t=Ge.el=Pe?Pe.el:c(""),qt=Ge.anchor=Pe?Pe.anchor:c("");let{patchFlag:tn,dynamicChildren:Nt,slotScopeIds:wt}=Ge;wt&&(Et=Et?Et.concat(wt):wt),Pe==null?(r(_t,Ne,je),r(qt,Ne,je),H(Ge.children||[],Ne,qt,Ye,vt,Lt,Et,Vt)):tn>0&&tn&64&&Nt&&Pe.dynamicChildren?(ie(Pe.dynamicChildren,Nt,Ne,Ye,vt,Lt,Et),(Ge.key!=null||Ye&&Ge===Ye.subTree)&&jD(Pe,Ge,!0)):he(Pe,Ge,Ne,qt,Ye,vt,Lt,Et,Vt)},ee=(Pe,Ge,Ne,je,Ye,vt,Lt,Et,Vt)=>{Ge.slotScopeIds=Et,Pe==null?Ge.shapeFlag&512?Ye.ctx.activate(Ge,Ne,je,Lt,Vt):ue(Ge,Ne,je,Ye,vt,Lt,Vt):J(Pe,Ge,Vt)},ue=(Pe,Ge,Ne,je,Ye,vt,Lt)=>{const Et=Pe.component=R0e(Pe,je,Ye);if(F8(Pe)&&(Et.ctx.renderer=Je),O0e(Et),Et.asyncDep){if(Ye&&Ye.registerDep(Et,te),!Pe.el){const Vt=Et.subTree=ht(Lc);I(null,Vt,Ge,Ne)}}else te(Et,Pe,Ge,Ne,Ye,vt,Lt)},J=(Pe,Ge,Ne)=>{const je=Ge.component=Pe.component;if(Kge(Pe,Ge,Ne))if(je.asyncDep&&!je.asyncResolved){ne(je,Ge,Ne);return}else je.next=Ge,Uge(je.update),je.effect.dirty=!0,je.update();else Ge.el=Pe.el,je.vnode=Ge},te=(Pe,Ge,Ne,je,Ye,vt,Lt)=>{const Et=()=>{if(Pe.isMounted){let{next:qt,bu:tn,u:Nt,parent:wt,vnode:De}=Pe;{const Pt=See(Pe);if(Pt){qt&&(qt.el=De.el,ne(Pe,qt,Lt)),Pt.asyncDep.then(()=>{Pe.isUnmounted||Et()});return}}let We=qt,ut;J1(Pe,!1),qt?(qt.el=De.el,ne(Pe,qt,Lt)):qt=De,tn&&aS(tn),(ut=qt.props&&qt.props.onVnodeBeforeUpdate)&&OA(ut,wt,qt,De),J1(Pe,!0);const It=jI(Pe),Xe=Pe.subTree;Pe.subTree=It,E(Xe,It,m(Xe.el),be(Xe),Pe,Ye,vt),qt.el=It.el,We===null&&Wge(Pe,It.el),Nt&&Bh(Nt,Ye),(ut=qt.props&&qt.props.onVnodeUpdated)&&Bh(()=>OA(ut,wt,qt,De),Ye)}else{let qt;const{el:tn,props:Nt}=Ge,{bm:wt,m:De,parent:We}=Pe,ut=k4(Ge);if(J1(Pe,!1),wt&&aS(wt),!ut&&(qt=Nt&&Nt.onVnodeBeforeMount)&&OA(qt,We,Ge),J1(Pe,!0),tn&&Ve){const It=()=>{Pe.subTree=jI(Pe),Ve(tn,Pe.subTree,Pe,Ye,null)};ut?Ge.type.__asyncLoader().then(()=>!Pe.isUnmounted&&It()):It()}else{const It=Pe.subTree=jI(Pe);E(null,It,Ne,je,Pe,Ye,vt),Ge.el=It.el}if(De&&Bh(De,Ye),!ut&&(qt=Nt&&Nt.onVnodeMounted)){const It=Ge;Bh(()=>OA(qt,We,It),Ye)}(Ge.shapeFlag&256||We&&k4(We.vnode)&&We.vnode.shapeFlag&256)&&Pe.a&&Bh(Pe.a,Ye),Pe.isMounted=!0,Ge=Ne=je=null}},Vt=Pe.effect=new BD(Et,Va,()=>ND(_t),Pe.scope),_t=Pe.update=()=>{Vt.dirty&&Vt.run()};_t.id=Pe.uid,J1(Pe,!0),_t()},ne=(Pe,Ge,Ne)=>{Ge.component=Pe;const je=Pe.vnode.props;Pe.vnode=Ge,Pe.next=null,y0e(Pe,Ge.props,je,Ne),x0e(Pe,Ge.children,Ne),h1(),EQ(Pe),d1()},he=(Pe,Ge,Ne,je,Ye,vt,Lt,Et,Vt=!1)=>{const _t=Pe&&Pe.children,qt=Pe?Pe.shapeFlag:0,tn=Ge.children,{patchFlag:Nt,shapeFlag:wt}=Ge;if(Nt>0){if(Nt&128){ye(_t,tn,Ne,je,Ye,vt,Lt,Et,Vt);return}else if(Nt&256){ce(_t,tn,Ne,je,Ye,vt,Lt,Et,Vt);return}}wt&8?(qt&16&&Le(_t,Ye,vt),tn!==_t&&A(Ne,tn)):qt&16?wt&16?ye(_t,tn,Ne,je,Ye,vt,Lt,Et,Vt):Le(_t,Ye,vt,!0):(qt&8&&A(Ne,""),wt&16&&H(tn,Ne,je,Ye,vt,Lt,Et,Vt))},ce=(Pe,Ge,Ne,je,Ye,vt,Lt,Et,Vt)=>{Pe=Pe||_w,Ge=Ge||_w;const _t=Pe.length,qt=Ge.length,tn=Math.min(_t,qt);let Nt;for(Nt=0;Nt<tn;Nt++){const wt=Ge[Nt]=Vt?mv(Ge[Nt]):jA(Ge[Nt]);E(Pe[Nt],wt,Ne,null,Ye,vt,Lt,Et,Vt)}_t>qt?Le(Pe,Ye,vt,!0,!1,tn):H(Ge,Ne,je,Ye,vt,Lt,Et,Vt,tn)},ye=(Pe,Ge,Ne,je,Ye,vt,Lt,Et,Vt)=>{let _t=0;const qt=Ge.length;let tn=Pe.length-1,Nt=qt-1;for(;_t<=tn&&_t<=Nt;){const wt=Pe[_t],De=Ge[_t]=Vt?mv(Ge[_t]):jA(Ge[_t]);if(m_(wt,De))E(wt,De,Ne,null,Ye,vt,Lt,Et,Vt);else break;_t++}for(;_t<=tn&&_t<=Nt;){const wt=Pe[tn],De=Ge[Nt]=Vt?mv(Ge[Nt]):jA(Ge[Nt]);if(m_(wt,De))E(wt,De,Ne,null,Ye,vt,Lt,Et,Vt);else break;tn--,Nt--}if(_t>tn){if(_t<=Nt){const wt=Nt+1,De=wt<qt?Ge[wt].el:je;for(;_t<=Nt;)E(null,Ge[_t]=Vt?mv(Ge[_t]):jA(Ge[_t]),Ne,De,Ye,vt,Lt,Et,Vt),_t++}}else if(_t>Nt)for(;_t<=tn;)se(Pe[_t],Ye,vt,!0),_t++;else{const wt=_t,De=_t,We=new Map;for(_t=De;_t<=Nt;_t++){const at=Ge[_t]=Vt?mv(Ge[_t]):jA(Ge[_t]);at.key!=null&&We.set(at.key,_t)}let ut,It=0;const Xe=Nt-De+1;let Pt=!1,Bt=0;const it=new Array(Xe);for(_t=0;_t<Xe;_t++)it[_t]=0;for(_t=wt;_t<=tn;_t++){const at=Pe[_t];if(It>=Xe){se(at,Ye,vt,!0);continue}let et;if(at.key!=null)et=We.get(at.key);else for(ut=De;ut<=Nt;ut++)if(it[ut-De]===0&&m_(at,Ge[ut])){et=ut;break}et===void 0?se(at,Ye,vt,!0):(it[et-De]=_t+1,et>=Bt?Bt=et:Pt=!0,E(at,Ge[et],Ne,null,Ye,vt,Lt,Et,Vt),It++)}const Mt=Pt?T0e(it):_w;for(ut=Mt.length-1,_t=Xe-1;_t>=0;_t--){const at=De+_t,et=Ge[at],St=at+1<qt?Ge[at+1].el:je;it[_t]===0?E(null,et,Ne,St,Ye,vt,Lt,Et,Vt):Pt&&(ut<0||_t!==Mt[ut]?Ee(et,Ne,St,2):ut--)}}},Ee=(Pe,Ge,Ne,je,Ye=null)=>{const{el:vt,type:Lt,transition:Et,children:Vt,shapeFlag:_t}=Pe;if(_t&6){Ee(Pe.component.subTree,Ge,Ne,je);return}if(_t&128){Pe.suspense.move(Ge,Ne,je);return}if(_t&64){Lt.move(Pe,Ge,Ne,Je);return}if(Lt===Vn){r(vt,Ge,Ne);for(let tn=0;tn<Vt.length;tn++)Ee(Vt[tn],Ge,Ne,je);r(Pe.anchor,Ge,Ne);return}if(Lt===qI){R(Pe,Ge,Ne);return}if(je!==2&&_t&1&&Et)if(je===0)Et.beforeEnter(vt),r(vt,Ge,Ne),Bh(()=>Et.enter(vt),Ye);else{const{leave:tn,delayLeave:Nt,afterLeave:wt}=Et,De=()=>r(vt,Ge,Ne),We=()=>{tn(vt,()=>{De(),wt&&wt()})};Nt?Nt(vt,De,We):We()}else r(vt,Ge,Ne)},se=(Pe,Ge,Ne,je=!1,Ye=!1)=>{const{type:vt,props:Lt,ref:Et,children:Vt,dynamicChildren:_t,shapeFlag:qt,patchFlag:tn,dirs:Nt}=Pe;if(Et!=null&&ek(Et,null,Ne,Pe,!0),qt&256){Ge.ctx.deactivate(Pe);return}const wt=qt&1&&Nt,De=!k4(Pe);let We;if(De&&(We=Lt&&Lt.onVnodeBeforeUnmount)&&OA(We,Ge,Pe),qt&6)Ue(Pe.component,Ne,je);else{if(qt&128){Pe.suspense.unmount(Ne,je);return}wt&&Z1(Pe,null,Ge,"beforeUnmount"),qt&64?Pe.type.remove(Pe,Ge,Ne,Ye,Je,je):_t&&(vt!==Vn||tn>0&&tn&64)?Le(_t,Ge,Ne,!1,!0):(vt===Vn&&tn&384||!Ye&&qt&16)&&Le(Vt,Ge,Ne),je&&oe(Pe)}(De&&(We=Lt&&Lt.onVnodeUnmounted)||wt)&&Bh(()=>{We&&OA(We,Ge,Pe),wt&&Z1(Pe,null,Ge,"unmounted")},Ne)},oe=Pe=>{const{type:Ge,el:Ne,anchor:je,transition:Ye}=Pe;if(Ge===Vn){_e(Ne,je);return}if(Ge===qI){N(Pe);return}const vt=()=>{i(Ne),Ye&&!Ye.persisted&&Ye.afterLeave&&Ye.afterLeave()};if(Pe.shapeFlag&1&&Ye&&!Ye.persisted){const{leave:Lt,delayLeave:Et}=Ye,Vt=()=>Lt(Ne,vt);Et?Et(Pe.el,vt,Vt):Vt()}else vt()},_e=(Pe,Ge)=>{let Ne;for(;Pe!==Ge;)Ne=_(Pe),i(Pe),Pe=Ne;i(Ge)},Ue=(Pe,Ge,Ne)=>{const{bum:je,scope:Ye,update:vt,subTree:Lt,um:Et}=Pe;je&&aS(je),Ye.stop(),vt&&(vt.active=!1,se(Lt,Pe,Ge,Ne)),Et&&Bh(Et,Ge),Bh(()=>{Pe.isUnmounted=!0},Ge),Ge&&Ge.pendingBranch&&!Ge.isUnmounted&&Pe.asyncDep&&!Pe.asyncResolved&&Pe.suspenseId===Ge.pendingId&&(Ge.deps--,Ge.deps===0&&Ge.resolve())},Le=(Pe,Ge,Ne,je=!1,Ye=!1,vt=0)=>{for(let Lt=vt;Lt<Pe.length;Lt++)se(Pe[Lt],Ge,Ne,je,Ye)},be=Pe=>Pe.shapeFlag&6?be(Pe.component.subTree):Pe.shapeFlag&128?Pe.suspense.next():_(Pe.anchor||Pe.el);let Re=!1;const Qe=(Pe,Ge,Ne)=>{Pe==null?Ge._vnode&&se(Ge._vnode,null,null,!0):E(Ge._vnode||null,Pe,Ge,null,null,null,Ne),Re||(Re=!0,EQ(),iee(),Re=!1),Ge._vnode=Pe},Je={p:E,um:se,m:Ee,r:oe,mt:ue,mc:H,pc:he,pbc:ie,n:be,o:t};let nt,Ve;return{render:Qe,hydrate:nt,createApp:v0e(Qe,nt)}}function WI({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function J1({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function S0e(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function jD(t,e,n=!1){const r=t.children,i=e.children;if(Jn(r)&&Jn(i))for(let s=0;s<r.length;s++){const l=r[s];let c=i[s];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=i[s]=mv(i[s]),c.el=l.el),n||jD(l,c)),c.type===C2&&(c.el=l.el)}}function T0e(t){const e=t.slice(),n=[0];let r,i,s,l,c;const a=t.length;for(r=0;r<a;r++){const f=t[r];if(f!==0){if(i=n[n.length-1],t[i]<f){e[r]=i,n.push(r);continue}for(s=0,l=n.length-1;s<l;)c=s+l>>1,t[n[c]]<f?s=c+1:l=c;f<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,l=n[s-1];s-- >0;)n[s]=l,l=e[l];return n}function See(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:See(e)}const B0e=t=>t.__isTeleport,D4=t=>t&&(t.disabled||t.disabled===""),DQ=t=>typeof SVGElement<"u"&&t instanceof SVGElement,NQ=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,tk=(t,e)=>{const n=t&&t.to;return Hr(n)?e?e(n):null:n},M0e={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,s,l,c,a,f){const{mc:A,pc:m,pbc:_,o:{insert:y,querySelector:T,createText:E,createComment:P}}=f,I=D4(e.props);let{shapeFlag:F,children:R,dynamicChildren:N}=e;if(t==null){const z=e.el=E(""),Q=e.anchor=E("");y(z,n,r),y(Q,n,r);const j=e.target=tk(e.props,T),H=e.targetAnchor=E("");j&&(y(H,j),l==="svg"||DQ(j)?l="svg":(l==="mathml"||NQ(j))&&(l="mathml"));const K=(ie,q)=>{F&16&&A(R,ie,q,i,s,l,c,a)};I?K(n,Q):j&&K(j,H)}else{e.el=t.el;const z=e.anchor=t.anchor,Q=e.target=t.target,j=e.targetAnchor=t.targetAnchor,H=D4(t.props),K=H?n:Q,ie=H?z:j;if(l==="svg"||DQ(Q)?l="svg":(l==="mathml"||NQ(Q))&&(l="mathml"),N?(_(t.dynamicChildren,N,K,i,s,l,c),jD(t,e,!0)):a||m(t,e,K,ie,i,s,l,c,!1),I)H?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):IE(e,n,z,f,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const q=e.target=tk(e.props,T);q&&IE(e,q,null,f,0)}else H&&IE(e,Q,j,f,1)}Tee(e)},remove(t,e,n,r,{um:i,o:{remove:s}},l){const{shapeFlag:c,children:a,anchor:f,targetAnchor:A,target:m,props:_}=t;if(m&&s(A),l&&s(f),c&16){const y=l||!D4(_);for(let T=0;T<a.length;T++){const E=a[T];i(E,e,n,y,!!E.dynamicChildren)}}},move:IE,hydrate:I0e};function IE(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:l,anchor:c,shapeFlag:a,children:f,props:A}=t,m=s===2;if(m&&r(l,e,n),(!m||D4(A))&&a&16)for(let _=0;_<f.length;_++)i(f[_],e,n,2);m&&r(c,e,n)}function I0e(t,e,n,r,i,s,{o:{nextSibling:l,parentNode:c,querySelector:a}},f){const A=e.target=tk(e.props,a);if(A){const m=A._lpa||A.firstChild;if(e.shapeFlag&16)if(D4(e.props))e.anchor=f(l(t),e,c(t),n,r,i,s),e.targetAnchor=m;else{e.anchor=l(t);let _=m;for(;_;)if(_=l(_),_&&_.nodeType===8&&_.data==="teleport anchor"){e.targetAnchor=_,A._lpa=e.targetAnchor&&l(e.targetAnchor);break}f(m,e,A,n,r,i,s)}Tee(e)}return e.anchor&&l(e.anchor)}const Ay=M0e;function Tee(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Vn=Symbol.for("v-fgt"),C2=Symbol.for("v-txt"),Lc=Symbol.for("v-cmt"),qI=Symbol.for("v-stc"),N4=[];let Up=null;function X(t=!1){N4.push(Up=t?null:[])}function L0e(){N4.pop(),Up=N4[N4.length-1]||null}let xC=1;function UQ(t){xC+=t}function Bee(t){return t.dynamicChildren=xC>0?Up||_w:null,L0e(),xC>0&&Up&&Up.push(t),t}function ve(t,e,n,r,i,s){return Bee(pe(t,e,n,r,i,s,!0))}function Ut(t,e,n,r,i){return Bee(ht(t,e,n,r,i,!0))}function js(t){return t?t.__v_isVNode===!0:!1}function m_(t,e){return t.type===e.type&&t.key===e.key}const Mee=({key:t})=>t??null,sS=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Hr(t)||hs(t)||Dr(t)?{i:mu,r:t,k:e,f:!!n}:t:null);function pe(t,e=null,n=null,r=0,i=null,s=t===Vn?0:1,l=!1,c=!1){const a={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Mee(e),ref:e&&sS(e),scopeId:I8,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:mu};return c?(GD(a,n),s&128&&t.normalize(a)):n&&(a.shapeFlag|=Hr(n)?8:16),xC>0&&!l&&Up&&(a.patchFlag>0||s&6)&&a.patchFlag!==32&&Up.push(a),a}const ht=P0e;function P0e(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===oee)&&(t=Lc),js(t)){const c=Kg(t,e,!0);return n&&GD(c,n),xC>0&&!s&&Up&&(c.shapeFlag&6?Up[Up.indexOf(t)]=c:Up.push(c)),c.patchFlag|=-2,c}if(z0e(t)&&(t=t.__vccOpts),e){e=nu(e);let{class:c,style:a}=e;c&&!Hr(c)&&(e.class=Se(c)),Ai(a)&&(qJ(a)&&!Jn(a)&&(a=Fl({},a)),e.style=or(a))}const l=Hr(t)?1:Yge(t)?128:B0e(t)?64:Ai(t)?4:Dr(t)?2:0;return pe(t,e,n,r,i,l,s,!0)}function nu(t){return t?qJ(t)||yee(t)?Fl({},t):t:null}function Kg(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:l,children:c,transition:a}=t,f=e?Xr(i||{},e):i,A={__v_isVNode:!0,__v_skip:!0,type:t.type,props:f,key:f&&Mee(f),ref:e&&e.ref?n&&s?Jn(s)?s.concat(sS(e)):[s,sS(e)]:sS(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:c,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Vn?l===-1?16:l|16:l,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:a,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Kg(t.ssContent),ssFallback:t.ssFallback&&Kg(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return a&&r&&(A.transition=a.clone(A)),A}function wi(t=" ",e=0){return ht(C2,null,t,e)}function bt(t="",e=!1){return e?(X(),Ut(Lc,null,t)):ht(Lc,null,t)}function jA(t){return t==null||typeof t=="boolean"?ht(Lc):Jn(t)?ht(Vn,null,t.slice()):typeof t=="object"?mv(t):ht(C2,null,String(t))}function mv(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Kg(t)}function GD(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Jn(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),GD(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!yee(e)?e._ctx=mu:i===3&&mu&&(mu.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Dr(e)?(e={default:e,_ctx:mu},n=32):(e=String(e),r&64?(n=16,e=[wi(e)]):n=8);t.children=e,t.shapeFlag|=n}function Xr(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Se([e.class,r.class]));else if(i==="style")e.style=or([e.style,r.style]);else if(C8(i)){const s=e[i],l=r[i];l&&s!==l&&!(Jn(s)&&s.includes(l))&&(e[i]=s?[].concat(s,l):l)}else i!==""&&(e[i]=r[i])}return e}function OA(t,e,n,r=null){wf(t,e,7,[n,r])}const F0e=gee();let k0e=0;function R0e(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||F0e,s={uid:k0e++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new DJ(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:wee(r,i),emitsOptions:see(r,i),emit:null,emitted:null,propsDefaults:yo,inheritAttrs:r.inheritAttrs,ctx:yo,data:yo,props:yo,attrs:yo,slots:yo,refs:yo,setupState:yo,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=Vge.bind(null,s),t.ce&&t.ce(s),s}let Ju=null;const ci=()=>Ju||mu;let oT,nk;{const t=FJ(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(l=>l(s)):i[0](s)}};oT=e("__VUE_INSTANCE_SETTERS__",n=>Ju=n),nk=e("__VUE_SSR_SETTERS__",n=>O8=n)}const E6=t=>{const e=Ju;return oT(t),t.scope.on(),()=>{t.scope.off(),oT(e)}},zQ=()=>{Ju&&Ju.scope.off(),oT(null)};function Iee(t){return t.vnode.shapeFlag&4}let O8=!1;function O0e(t,e=!1){e&&nk(e);const{props:n,children:r}=t.vnode,i=Iee(t);_0e(t,n,i,e),w0e(t,r);const s=i?D0e(t,e):void 0;return e&&nk(!1),s}function D0e(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,h0e);const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?Pee(t):null,s=E6(t);h1();const l=Nv(r,t,0,[t.props,i]);if(d1(),s(),mC(l)){if(l.then(zQ,zQ),e)return l.then(c=>{$Q(t,c,e)}).catch(c=>{B8(c,t,0)});t.asyncDep=l}else $Q(t,l,e)}else Lee(t,e)}function $Q(t,e,n){Dr(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ai(e)&&(t.setupState=JJ(e)),Lee(t,n)}let VQ;function Lee(t,e,n){const r=t.type;if(!t.render){if(!e&&VQ&&!r.render){const i=r.template||HD(t).template;if(i){const{isCustomElement:s,compilerOptions:l}=t.appContext.config,{delimiters:c,compilerOptions:a}=r,f=Fl(Fl({isCustomElement:s,delimiters:c},l),a);r.render=VQ(i,f)}}t.render=r.render||Va}{const i=E6(t);h1();try{d0e(t)}finally{d1(),i()}}}const N0e={get(t,e){return zh(t,"get",""),t[e]}};function Pee(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,N0e),slots:t.slots,emit:t.emit,expose:e}}function D8(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(JJ(bw(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in R4)return R4[n](t)},has(e,n){return n in e||n in R4}}))}function U0e(t,e=!0){return Dr(t)?t.displayName||t.name:t.name||e&&t.__name}function z0e(t){return Dr(t)&&"__vccOpts"in t}const le=(t,e)=>XJ(t,e,O8);function Fee(t,e,n=yo){const r=ci(),i=Ud(e),s=n0(e),l=eee((a,f)=>{let A;return e0e(()=>{const m=t[e];dm(A,m)&&(A=m,f())}),{get(){return a(),n.get?n.get(A):A},set(m){const _=r.vnode.props;!(_&&(e in _||i in _||s in _)&&(`onUpdate:${e}`in _||`onUpdate:${i}`in _||`onUpdate:${s}`in _))&&dm(m,A)&&(A=m,f()),r.emit(`update:${e}`,n.set?n.set(m):m)}}}),c="modelModifiers";return l[Symbol.iterator]=()=>{let a=0;return{next(){return a<2?{value:a++?t[c]||{}:l,done:!1}:{done:!0}}}},l}function wr(t,e,n){const r=arguments.length;return r===2?Ai(e)&&!Jn(e)?js(e)?ht(t,null,[e]):ht(t,e):ht(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&js(n)&&(n=[n]),ht(t,e,n))}const $0e="3.4.27",V0e=Va;/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const H0e="http://www.w3.org/2000/svg",Q0e="http://www.w3.org/1998/Math/MathML",gv=typeof document<"u"?document:null,HQ=gv&&gv.createElement("template"),j0e={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?gv.createElementNS(H0e,t):e==="mathml"?gv.createElementNS(Q0e,t):gv.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>gv.createTextNode(t),createComment:t=>gv.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>gv.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const l=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{HQ.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const c=HQ.content;if(r==="svg"||r==="mathml"){const a=c.firstChild;for(;a.firstChild;)c.appendChild(a.firstChild);c.removeChild(a)}e.insertBefore(c,n)}return[l?l.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},G0="transition",kx="animation",Vw=Symbol("_vtc"),co=(t,{slots:e})=>wr(r0e,Ree(t),e);co.displayName="Transition";const kee={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},G0e=co.props=Fl({},cee,kee),e_=(t,e=[])=>{Jn(t)?t.forEach(n=>n(...e)):t&&t(...e)},QQ=t=>t?Jn(t)?t.some(e=>e.length>1):t.length>1:!1;function Ree(t){const e={};for(const W in t)W in kee||(e[W]=t[W]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:l=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:a=s,appearActiveClass:f=l,appearToClass:A=c,leaveFromClass:m=`${n}-leave-from`,leaveActiveClass:_=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=t,T=K0e(i),E=T&&T[0],P=T&&T[1],{onBeforeEnter:I,onEnter:F,onEnterCancelled:R,onLeave:N,onLeaveCancelled:z,onBeforeAppear:Q=I,onAppear:j=F,onAppearCancelled:H=R}=e,K=(W,ee,ue)=>{sv(W,ee?A:c),sv(W,ee?f:l),ue&&ue()},ie=(W,ee)=>{W._isLeaving=!1,sv(W,m),sv(W,y),sv(W,_),ee&&ee()},q=W=>(ee,ue)=>{const J=W?j:F,te=()=>K(ee,W,ue);e_(J,[ee,te]),jQ(()=>{sv(ee,W?a:s),Mg(ee,W?A:c),QQ(J)||GQ(ee,r,E,te)})};return Fl(e,{onBeforeEnter(W){e_(I,[W]),Mg(W,s),Mg(W,l)},onBeforeAppear(W){e_(Q,[W]),Mg(W,a),Mg(W,f)},onEnter:q(!1),onAppear:q(!0),onLeave(W,ee){W._isLeaving=!0;const ue=()=>ie(W,ee);Mg(W,m),Mg(W,_),Dee(),jQ(()=>{W._isLeaving&&(sv(W,m),Mg(W,y),QQ(N)||GQ(W,r,P,ue))}),e_(N,[W,ue])},onEnterCancelled(W){K(W,!1),e_(R,[W])},onAppearCancelled(W){K(W,!0),e_(H,[W])},onLeaveCancelled(W){ie(W),e_(z,[W])}})}function K0e(t){if(t==null)return null;if(Ai(t))return[YI(t.enter),YI(t.leave)];{const e=YI(t);return[e,e]}}function YI(t){return nge(t)}function Mg(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Vw]||(t[Vw]=new Set)).add(e)}function sv(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Vw];n&&(n.delete(e),n.size||(t[Vw]=void 0))}function jQ(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let W0e=0;function GQ(t,e,n,r){const i=t._endId=++W0e,s=()=>{i===t._endId&&r()};if(n)return setTimeout(s,n);const{type:l,timeout:c,propCount:a}=Oee(t,e);if(!l)return r();const f=l+"end";let A=0;const m=()=>{t.removeEventListener(f,_),s()},_=y=>{y.target===t&&++A>=a&&m()};setTimeout(()=>{A<a&&m()},c+1),t.addEventListener(f,_)}function Oee(t,e){const n=window.getComputedStyle(t),r=T=>(n[T]||"").split(", "),i=r(`${G0}Delay`),s=r(`${G0}Duration`),l=KQ(i,s),c=r(`${kx}Delay`),a=r(`${kx}Duration`),f=KQ(c,a);let A=null,m=0,_=0;e===G0?l>0&&(A=G0,m=l,_=s.length):e===kx?f>0&&(A=kx,m=f,_=a.length):(m=Math.max(l,f),A=m>0?l>f?G0:kx:null,_=A?A===G0?s.length:a.length:0);const y=A===G0&&/\b(transform|all)(,|$)/.test(r(`${G0}Property`).toString());return{type:A,timeout:m,propCount:_,hasTransform:y}}function KQ(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>WQ(n)+WQ(t[r])))}function WQ(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Dee(){return document.body.offsetHeight}function q0e(t,e,n){const r=t[Vw];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const lT=Symbol("_vod"),Nee=Symbol("_vsh"),la={beforeMount(t,{value:e},{transition:n}){t[lT]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Rx(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Rx(t,!0),r.enter(t)):r.leave(t,()=>{Rx(t,!1)}):Rx(t,e))},beforeUnmount(t,{value:e}){Rx(t,e)}};function Rx(t,e){t.style.display=e?t[lT]:"none",t[Nee]=!e}const Y0e=Symbol(""),X0e=/(^|;)\s*display\s*:/;function Z0e(t,e,n){const r=t.style,i=Hr(n);let s=!1;if(n&&!i){if(e)if(Hr(e))for(const l of e.split(";")){const c=l.slice(0,l.indexOf(":")).trim();n[c]==null&&oS(r,c,"")}else for(const l in e)n[l]==null&&oS(r,l,"");for(const l in n)l==="display"&&(s=!0),oS(r,l,n[l])}else if(i){if(e!==n){const l=r[Y0e];l&&(n+=";"+l),r.cssText=n,s=X0e.test(n)}}else e&&t.removeAttribute("style");lT in t&&(t[lT]=s?r.display:"",t[Nee]&&(r.display="none"))}const qQ=/\s*!important$/;function oS(t,e,n){if(Jn(n))n.forEach(r=>oS(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=J0e(t,e);qQ.test(n)?t.setProperty(n0(r),n.replace(qQ,""),"important"):t[r]=n}}const YQ=["Webkit","Moz","ms"],XI={};function J0e(t,e){const n=XI[e];if(n)return n;let r=Ud(e);if(r!=="filter"&&r in t)return XI[e]=r;r=C6(r);for(let i=0;i<YQ.length;i++){const s=YQ[i]+r;if(s in t)return XI[e]=s}return e}const XQ="http://www.w3.org/1999/xlink";function eve(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(XQ,e.slice(6,e.length)):t.setAttributeNS(XQ,e,n);else{const s=lge(e);n==null||s&&!kJ(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function tve(t,e,n,r,i,s,l){if(e==="innerHTML"||e==="textContent"){r&&l(r,i,s),t[e]=n??"";return}const c=t.tagName;if(e==="value"&&c!=="PROGRESS"&&!c.includes("-")){const f=c==="OPTION"?t.getAttribute("value")||"":t.value,A=n??"";(f!==A||!("_value"in t))&&(t.value=A),n==null&&t.removeAttribute(e),t._value=n;return}let a=!1;if(n===""||n==null){const f=typeof t[e];f==="boolean"?n=kJ(n):n==null&&f==="string"?(n="",a=!0):f==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(e)}function wv(t,e,n,r){t.addEventListener(e,n,r)}function nve(t,e,n,r){t.removeEventListener(e,n,r)}const ZQ=Symbol("_vei");function rve(t,e,n,r,i=null){const s=t[ZQ]||(t[ZQ]={}),l=s[e];if(r&&l)l.value=r;else{const[c,a]=ive(e);if(r){const f=s[e]=ove(r,i);wv(t,c,f,a)}else l&&(nve(t,c,l,a),s[e]=void 0)}}const JQ=/(?:Once|Passive|Capture)$/;function ive(t){let e;if(JQ.test(t)){e={};let r;for(;r=t.match(JQ);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):n0(t.slice(2)),e]}let ZI=0;const ave=Promise.resolve(),sve=()=>ZI||(ave.then(()=>ZI=0),ZI=Date.now());function ove(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;wf(lve(r,n.value),e,5,[r])};return n.value=t,n.attached=sve(),n}function lve(t,e){if(Jn(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const ej=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,uve=(t,e,n,r,i,s,l,c,a)=>{const f=i==="svg";e==="class"?q0e(t,r,f):e==="style"?Z0e(t,n,r):C8(e)?xD(e)||rve(t,e,n,r,l):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):cve(t,e,r,f))?tve(t,e,r,s,l,c,a):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),eve(t,e,r,f))};function cve(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&ej(e)&&Dr(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return ej(e)&&Hr(n)?!1:e in t}const Uee=new WeakMap,zee=new WeakMap,uT=Symbol("_moveCb"),tj=Symbol("_enterCb"),$ee={name:"TransitionGroup",props:Fl({},G0e,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=ci(),r=uee();let i,s;return i0(()=>{if(!i.length)return;const l=t.moveClass||`${t.name||"v"}-move`;if(!Ave(i[0].el,n.vnode.el,l))return;i.forEach(dve),i.forEach(fve);const c=i.filter(pve);Dee(),c.forEach(a=>{const f=a.el,A=f.style;Mg(f,l),A.transform=A.webkitTransform=A.transitionDuration="";const m=f[uT]=_=>{_&&_.target!==f||(!_||/transform$/.test(_.propertyName))&&(f.removeEventListener("transitionend",m),f[uT]=null,sv(f,l))};f.addEventListener("transitionend",m)})}),()=>{const l=ja(t),c=Ree(l);let a=l.tag||Vn;if(i=[],s)for(let f=0;f<s.length;f++){const A=s[f];A.el&&A.el instanceof Element&&(i.push(A),wC(A,bC(A,c,r,n)),Uee.set(A,A.el.getBoundingClientRect()))}s=e.default?$D(e.default()):[];for(let f=0;f<s.length;f++){const A=s[f];A.key!=null&&wC(A,bC(A,c,r,n))}return ht(a,null,s)}}},hve=t=>delete t.mode;$ee.props;const Vee=$ee;function dve(t){const e=t.el;e[uT]&&e[uT](),e[tj]&&e[tj]()}function fve(t){zee.set(t,t.el.getBoundingClientRect())}function pve(t){const e=Uee.get(t),n=zee.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",t}}function Ave(t,e,n){const r=t.cloneNode(),i=t[Vw];i&&i.forEach(c=>{c.split(/\s+/).forEach(a=>a&&r.classList.remove(a))}),n.split(/\s+/).forEach(c=>c&&r.classList.add(c)),r.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(r);const{hasTransform:l}=Oee(r);return s.removeChild(r),l}const Hw=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Jn(e)?n=>aS(e,n):e};function mve(t){t.target.composing=!0}function nj(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const zg=Symbol("_assign"),KD={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[zg]=Hw(i);const s=r||i.props&&i.props.type==="number";wv(t,e?"change":"input",l=>{if(l.target.composing)return;let c=t.value;n&&(c=c.trim()),s&&(c=jF(c)),t[zg](c)}),n&&wv(t,"change",()=>{t.value=t.value.trim()}),e||(wv(t,"compositionstart",mve),wv(t,"compositionend",nj),wv(t,"change",nj))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},s){if(t[zg]=Hw(s),t.composing)return;const l=(i||t.type==="number")&&!/^0\d/.test(t.value)?jF(t.value):t.value,c=e??"";l!==c&&(document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===c)||(t.value=c))}},cT={deep:!0,created(t,e,n){t[zg]=Hw(n),wv(t,"change",()=>{const r=t._modelValue,i=Qee(t),s=t.checked,l=t[zg];if(Jn(r)){const c=RJ(r,i),a=c!==-1;if(s&&!a)l(r.concat(i));else if(!s&&a){const f=[...r];f.splice(c,1),l(f)}}else if(E8(r)){const c=new Set(r);s?c.add(i):c.delete(i),l(c)}else l(jee(t,s))})},mounted:rj,beforeUpdate(t,e,n){t[zg]=Hw(n),rj(t,e,n)}};function rj(t,{value:e,oldValue:n},r){t._modelValue=e,Jn(e)?t.checked=RJ(e,r.props.value)>-1:E8(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=$w(e,jee(t,!0)))}const Hee={created(t,{value:e},n){t.checked=$w(e,n.props.value),t[zg]=Hw(n),wv(t,"change",()=>{t[zg](Qee(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[zg]=Hw(r),e!==n&&(t.checked=$w(e,r.props.value))}};function Qee(t){return"_value"in t?t._value:t.value}function jee(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const gve=["ctrl","shift","alt","meta"],vve={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>gve.some(n=>t[`${n}Key`]&&!e.includes(n))},Fr=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...s)=>{for(let l=0;l<e.length;l++){const c=vve[e[l]];if(c&&c(i,e))return}return t(i,...s)})},_ve={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Qa=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const s=n0(i.key);if(e.some(l=>l===s||_ve[l]===s))return t(i)})},yve=Fl({patchProp:uve},j0e);let ij;function Gee(){return ij||(ij=C0e(yve))}const fm=(...t)=>{Gee().render(...t)},Kee=(...t)=>{const e=Gee().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=wve(r);if(!i)return;const s=e._component;!Dr(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const l=n(i,!1,bve(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),l},e};function bve(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function wve(t){return Hr(t)?document.querySelector(t):t}function Li(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Ss(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Dp(t,e){const n=Li(t);return isNaN(e)?Ss(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function $p(t,e){const n=Li(t);if(isNaN(e))return Ss(t,NaN);if(!e)return n;const r=n.getDate(),i=Ss(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}function Wee(t,e){const{years:n=0,months:r=0,weeks:i=0,days:s=0,hours:l=0,minutes:c=0,seconds:a=0}=e,f=Li(t),A=r||n?$p(f,r+n*12):f,m=s||i?Dp(A,s+i*7):A,_=c+l*60,T=(a+_*60)*1e3;return Ss(t,m.getTime()+T)}function xve(t,e){const n=+Li(t);return Ss(t,n+e)}const qee=6048e5,Cve=864e5,Eve=6e4,Yee=36e5,Sve=1e3;function Tve(t,e){return xve(t,e*Yee)}let Bve={};function my(){return Bve}function jp(t,e){var c,a,f,A;const n=my(),r=(e==null?void 0:e.weekStartsOn)??((a=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:a.weekStartsOn)??n.weekStartsOn??((A=(f=n.locale)==null?void 0:f.options)==null?void 0:A.weekStartsOn)??0,i=Li(t),s=i.getDay(),l=(s<r?7:0)+s-r;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function Qw(t){return jp(t,{weekStartsOn:1})}function Xee(t){const e=Li(t),n=e.getFullYear(),r=Ss(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Qw(r),s=Ss(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const l=Qw(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=l.getTime()?n:n-1}function aj(t){const e=Li(t);return e.setHours(0,0,0,0),e}function hT(t){const e=Li(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Zee(t,e){const n=aj(t),r=aj(e),i=+n-hT(n),s=+r-hT(r);return Math.round((i-s)/Cve)}function Mve(t){const e=Xee(t),n=Ss(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Qw(n)}function Ive(t,e){const n=e*3;return $p(t,n)}function WD(t,e){return $p(t,e*12)}function sj(t,e){const n=Li(t),r=Li(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function Jee(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function U4(t){if(!Jee(t)&&typeof t!="number")return!1;const e=Li(t);return!isNaN(Number(e))}function oj(t){const e=Li(t);return Math.trunc(e.getMonth()/3)+1}function Lve(t,e){const n=Li(t),r=Li(e);return n.getFullYear()-r.getFullYear()}function Pve(t,e){const n=Li(t),r=Li(e),i=sj(n,r),s=Math.abs(Lve(n,r));n.setFullYear(1584),r.setFullYear(1584);const l=sj(n,r)===-i,c=i*(s-+l);return c===0?0:c}function ete(t,e){const n=Li(t.start),r=Li(t.end);let i=+n>+r;const s=i?+n:+r,l=i?r:n;l.setHours(0,0,0,0);let c=1;const a=[];for(;+l<=s;)a.push(Li(l)),l.setDate(l.getDate()+c),l.setHours(0,0,0,0);return i?a.reverse():a}function x_(t){const e=Li(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function Fve(t,e){const n=Li(t.start),r=Li(t.end);let i=+n>+r;const s=i?+x_(n):+x_(r);let l=x_(i?r:n),c=1;const a=[];for(;+l<=s;)a.push(Li(l)),l=Ive(l,c);return i?a.reverse():a}function kve(t){const e=Li(t);return e.setDate(1),e.setHours(0,0,0,0),e}function tte(t){const e=Li(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function qD(t){const e=Li(t),n=Ss(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function nte(t,e){var c,a,f,A;const n=my(),r=(e==null?void 0:e.weekStartsOn)??((a=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:a.weekStartsOn)??n.weekStartsOn??((A=(f=n.locale)==null?void 0:f.options)==null?void 0:A.weekStartsOn)??0,i=Li(t),s=i.getDay(),l=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+l),i.setHours(23,59,59,999),i}function lj(t){const e=Li(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}const Rve={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ove=(t,e,n)=>{let r;const i=Rve[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function JI(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Dve={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Nve={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Uve={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zve={date:JI({formats:Dve,defaultWidth:"full"}),time:JI({formats:Nve,defaultWidth:"full"}),dateTime:JI({formats:Uve,defaultWidth:"full"})},$ve={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Vve=(t,e,n,r)=>$ve[t];function Ox(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,c=n!=null&&n.width?String(n.width):l;i=t.formattingValues[c]||t.formattingValues[l]}else{const l=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[c]||t.values[l]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const Hve={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Qve={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},jve={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Gve={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Kve={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Wve={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},qve=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Yve={ordinalNumber:qve,era:Ox({values:Hve,defaultWidth:"wide"}),quarter:Ox({values:Qve,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ox({values:jve,defaultWidth:"wide"}),day:Ox({values:Gve,defaultWidth:"wide"}),dayPeriod:Ox({values:Kve,defaultWidth:"wide",formattingValues:Wve,defaultFormattingWidth:"wide"})};function Dx(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const l=s[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],a=Array.isArray(c)?Zve(c,m=>m.test(l)):Xve(c,m=>m.test(l));let f;f=t.valueCallback?t.valueCallback(a):a,f=n.valueCallback?n.valueCallback(f):f;const A=e.slice(l.length);return{value:f,rest:A}}}function Xve(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Zve(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Jve(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let l=t.valueCallback?t.valueCallback(s[0]):s[0];l=n.valueCallback?n.valueCallback(l):l;const c=e.slice(i.length);return{value:l,rest:c}}}const e1e=/^(\d+)(th|st|nd|rd)?/i,t1e=/\d+/i,n1e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},r1e={any:[/^b/i,/^(a|c)/i]},i1e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},a1e={any:[/1/i,/2/i,/3/i,/4/i]},s1e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},o1e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},l1e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},u1e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},c1e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},h1e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},d1e={ordinalNumber:Jve({matchPattern:e1e,parsePattern:t1e,valueCallback:t=>parseInt(t,10)}),era:Dx({matchPatterns:n1e,defaultMatchWidth:"wide",parsePatterns:r1e,defaultParseWidth:"any"}),quarter:Dx({matchPatterns:i1e,defaultMatchWidth:"wide",parsePatterns:a1e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Dx({matchPatterns:s1e,defaultMatchWidth:"wide",parsePatterns:o1e,defaultParseWidth:"any"}),day:Dx({matchPatterns:l1e,defaultMatchWidth:"wide",parsePatterns:u1e,defaultParseWidth:"any"}),dayPeriod:Dx({matchPatterns:c1e,defaultMatchWidth:"any",parsePatterns:h1e,defaultParseWidth:"any"})},rte={code:"en-US",formatDistance:Ove,formatLong:zve,formatRelative:Vve,localize:Yve,match:d1e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function f1e(t){const e=Li(t);return Zee(e,qD(e))+1}function YD(t){const e=Li(t),n=+Qw(e)-+Mve(e);return Math.round(n/qee)+1}function XD(t,e){var A,m,_,y;const n=Li(t),r=n.getFullYear(),i=my(),s=(e==null?void 0:e.firstWeekContainsDate)??((m=(A=e==null?void 0:e.locale)==null?void 0:A.options)==null?void 0:m.firstWeekContainsDate)??i.firstWeekContainsDate??((y=(_=i.locale)==null?void 0:_.options)==null?void 0:y.firstWeekContainsDate)??1,l=Ss(t,0);l.setFullYear(r+1,0,s),l.setHours(0,0,0,0);const c=jp(l,e),a=Ss(t,0);a.setFullYear(r,0,s),a.setHours(0,0,0,0);const f=jp(a,e);return n.getTime()>=c.getTime()?r+1:n.getTime()>=f.getTime()?r:r-1}function p1e(t,e){var c,a,f,A;const n=my(),r=(e==null?void 0:e.firstWeekContainsDate)??((a=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:a.firstWeekContainsDate)??n.firstWeekContainsDate??((A=(f=n.locale)==null?void 0:f.options)==null?void 0:A.firstWeekContainsDate)??1,i=XD(t,e),s=Ss(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),jp(s,e)}function ZD(t,e){const n=Li(t),r=+jp(n,e)-+p1e(n,e);return Math.round(r/qee)+1}function Hs(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const K0={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Hs(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Hs(n+1,2)},d(t,e){return Hs(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Hs(t.getHours()%12||12,e.length)},H(t,e){return Hs(t.getHours(),e.length)},m(t,e){return Hs(t.getMinutes(),e.length)},s(t,e){return Hs(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Hs(i,e.length)}},fb={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},uj={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return K0.y(t,e)},Y:function(t,e,n,r){const i=XD(t,r),s=i>0?i:1-i;if(e==="YY"){const l=s%100;return Hs(l,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Hs(s,e.length)},R:function(t,e){const n=Xee(t);return Hs(n,e.length)},u:function(t,e){const n=t.getFullYear();return Hs(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Hs(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Hs(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return K0.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Hs(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=ZD(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Hs(i,e.length)},I:function(t,e,n){const r=YD(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Hs(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):K0.d(t,e)},D:function(t,e,n){const r=f1e(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Hs(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Hs(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Hs(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Hs(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=fb.noon:r===0?i=fb.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=fb.evening:r>=12?i=fb.afternoon:r>=4?i=fb.morning:i=fb.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return K0.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):K0.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Hs(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Hs(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):K0.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):K0.s(t,e)},S:function(t,e){return K0.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return hj(r);case"XXXX":case"XX":return h_(r);case"XXXXX":case"XXX":default:return h_(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return hj(r);case"xxxx":case"xx":return h_(r);case"xxxxx":case"xxx":default:return h_(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+cj(r,":");case"OOOO":default:return"GMT"+h_(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+cj(r,":");case"zzzz":default:return"GMT"+h_(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Hs(r,e.length)},T:function(t,e,n){const r=t.getTime();return Hs(r,e.length)}};function cj(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Hs(s,2)}function hj(t,e){return t%60===0?(t>0?"-":"+")+Hs(Math.abs(t)/60,2):h_(t,e)}function h_(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Hs(Math.trunc(r/60),2),s=Hs(r%60,2);return n+i+e+s}const dj=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},ite=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},A1e=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return dj(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",dj(r,e)).replace("{{time}}",ite(i,e))},rk={p:ite,P:A1e},m1e=/^D+$/,g1e=/^Y+$/,v1e=["D","DD","YY","YYYY"];function ate(t){return m1e.test(t)}function ste(t){return g1e.test(t)}function ik(t,e,n){const r=_1e(t,e,n);if(console.warn(r),v1e.includes(t))throw new RangeError(r)}function _1e(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const y1e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,b1e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,w1e=/^'([^]*?)'?$/,x1e=/''/g,C1e=/[a-zA-Z]/;function im(t,e,n){var A,m,_,y,T,E,P,I;const r=my(),i=(n==null?void 0:n.locale)??r.locale??rte,s=(n==null?void 0:n.firstWeekContainsDate)??((m=(A=n==null?void 0:n.locale)==null?void 0:A.options)==null?void 0:m.firstWeekContainsDate)??r.firstWeekContainsDate??((y=(_=r.locale)==null?void 0:_.options)==null?void 0:y.firstWeekContainsDate)??1,l=(n==null?void 0:n.weekStartsOn)??((E=(T=n==null?void 0:n.locale)==null?void 0:T.options)==null?void 0:E.weekStartsOn)??r.weekStartsOn??((I=(P=r.locale)==null?void 0:P.options)==null?void 0:I.weekStartsOn)??0,c=Li(t);if(!U4(c))throw new RangeError("Invalid time value");let a=e.match(b1e).map(F=>{const R=F[0];if(R==="p"||R==="P"){const N=rk[R];return N(F,i.formatLong)}return F}).join("").match(y1e).map(F=>{if(F==="''")return{isToken:!1,value:"'"};const R=F[0];if(R==="'")return{isToken:!1,value:E1e(F)};if(uj[R])return{isToken:!0,value:F};if(R.match(C1e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return{isToken:!1,value:F}});i.localize.preprocessor&&(a=i.localize.preprocessor(c,a));const f={firstWeekContainsDate:s,weekStartsOn:l,locale:i};return a.map(F=>{if(!F.isToken)return F.value;const R=F.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&ste(R)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&ate(R))&&ik(R,e,String(t));const N=uj[R[0]];return N(c,R,i.localize,f)}).join("")}function E1e(t){const e=t.match(w1e);return e?e[1].replace(x1e,"'"):t}function S1e(t){return Li(t).getDay()}function T1e(t){const e=Li(t),n=e.getFullYear(),r=e.getMonth(),i=Ss(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function B1e(){return Object.assign({},my())}function Wg(t){return Li(t).getHours()}function M1e(t){let n=Li(t).getDay();return n===0&&(n=7),n}function Kv(t){return Li(t).getMinutes()}function Xa(t){return Li(t).getMonth()}function jw(t){return Li(t).getSeconds()}function Ra(t){return Li(t).getFullYear()}function Gw(t,e){const n=Li(t),r=Li(e);return n.getTime()>r.getTime()}function CC(t,e){const n=Li(t),r=Li(e);return+n<+r}function rw(t,e){const n=Li(t),r=Li(e);return+n==+r}function I1e(t,e){const n=e instanceof Date?Ss(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const L1e=10;class ote{constructor(){oi(this,"subPriority",0)}validate(e,n){return!0}}class P1e extends ote{constructor(e,n,r,i,s){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,s&&(this.subPriority=s)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class F1e extends ote{constructor(){super(...arguments);oi(this,"priority",L1e);oi(this,"subPriority",-1)}set(n,r){return r.timestampIsSet?n:Ss(n,I1e(n,Date))}}let Ts=class{run(e,n,r,i){const s=this.parse(e,n,r,i);return s?{setter:new P1e(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,n,r){return!0}};class k1e extends Ts{constructor(){super(...arguments);oi(this,"priority",140);oi(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const Ml={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},KA={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Il(t,e){return t&&{value:e(t.value),rest:t.rest}}function Go(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function WA(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,l=n[5]?parseInt(n[5],10):0;return{value:r*(i*Yee+s*Eve+l*Sve),rest:e.slice(n[0].length)}}function lte(t){return Go(Ml.anyDigitsSigned,t)}function cl(t,e){switch(t){case 1:return Go(Ml.singleDigit,e);case 2:return Go(Ml.twoDigits,e);case 3:return Go(Ml.threeDigits,e);case 4:return Go(Ml.fourDigits,e);default:return Go(new RegExp("^\\d{1,"+t+"}"),e)}}function dT(t,e){switch(t){case 1:return Go(Ml.singleDigitSigned,e);case 2:return Go(Ml.twoDigitsSigned,e);case 3:return Go(Ml.threeDigitsSigned,e);case 4:return Go(Ml.fourDigitsSigned,e);default:return Go(new RegExp("^-?\\d{1,"+t+"}"),e)}}function JD(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function ute(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const s=r+50,l=Math.trunc(s/100)*100,c=t>=s%100;i=t+l-(c?100:0)}return n?i:1-i}function cte(t){return t%400===0||t%4===0&&t%100!==0}class R1e extends Ts{constructor(){super(...arguments);oi(this,"priority",130);oi(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const s=l=>({year:l,isTwoDigitYear:r==="yy"});switch(r){case"y":return Il(cl(4,n),s);case"yo":return Il(i.ordinalNumber(n,{unit:"year"}),s);default:return Il(cl(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const s=n.getFullYear();if(i.isTwoDigitYear){const c=ute(i.year,s);return n.setFullYear(c,0,1),n.setHours(0,0,0,0),n}const l=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(l,0,1),n.setHours(0,0,0,0),n}}class O1e extends Ts{constructor(){super(...arguments);oi(this,"priority",130);oi(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const s=l=>({year:l,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Il(cl(4,n),s);case"Yo":return Il(i.ordinalNumber(n,{unit:"year"}),s);default:return Il(cl(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,s){const l=XD(n,s);if(i.isTwoDigitYear){const a=ute(i.year,l);return n.setFullYear(a,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),jp(n,s)}const c=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(c,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),jp(n,s)}}class D1e extends Ts{constructor(){super(...arguments);oi(this,"priority",130);oi(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return dT(r==="R"?4:r.length,n)}set(n,r,i){const s=Ss(n,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),Qw(s)}}class N1e extends Ts{constructor(){super(...arguments);oi(this,"priority",130);oi(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return dT(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class U1e extends Ts{constructor(){super(...arguments);oi(this,"priority",120);oi(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return cl(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class z1e extends Ts{constructor(){super(...arguments);oi(this,"priority",120);oi(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return cl(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class $1e extends Ts{constructor(){super(...arguments);oi(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);oi(this,"priority",110)}parse(n,r,i){const s=l=>l-1;switch(r){case"M":return Il(Go(Ml.month,n),s);case"MM":return Il(cl(2,n),s);case"Mo":return Il(i.ordinalNumber(n,{unit:"month"}),s);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class V1e extends Ts{constructor(){super(...arguments);oi(this,"priority",110);oi(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const s=l=>l-1;switch(r){case"L":return Il(Go(Ml.month,n),s);case"LL":return Il(cl(2,n),s);case"Lo":return Il(i.ordinalNumber(n,{unit:"month"}),s);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function H1e(t,e,n){const r=Li(t),i=ZD(r,n)-e;return r.setDate(r.getDate()-i*7),r}class Q1e extends Ts{constructor(){super(...arguments);oi(this,"priority",100);oi(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return Go(Ml.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return cl(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,s){return jp(H1e(n,i,s),s)}}function j1e(t,e){const n=Li(t),r=YD(n)-e;return n.setDate(n.getDate()-r*7),n}class G1e extends Ts{constructor(){super(...arguments);oi(this,"priority",100);oi(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return Go(Ml.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return cl(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return Qw(j1e(n,i))}}const K1e=[31,28,31,30,31,30,31,31,30,31,30,31],W1e=[31,29,31,30,31,30,31,31,30,31,30,31];class q1e extends Ts{constructor(){super(...arguments);oi(this,"priority",90);oi(this,"subPriority",1);oi(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return Go(Ml.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return cl(r.length,n)}}validate(n,r){const i=n.getFullYear(),s=cte(i),l=n.getMonth();return s?r>=1&&r<=W1e[l]:r>=1&&r<=K1e[l]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class Y1e extends Ts{constructor(){super(...arguments);oi(this,"priority",90);oi(this,"subpriority",1);oi(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return Go(Ml.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return cl(r.length,n)}}validate(n,r){const i=n.getFullYear();return cte(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function eN(t,e,n){var m,_,y,T;const r=my(),i=(n==null?void 0:n.weekStartsOn)??((_=(m=n==null?void 0:n.locale)==null?void 0:m.options)==null?void 0:_.weekStartsOn)??r.weekStartsOn??((T=(y=r.locale)==null?void 0:y.options)==null?void 0:T.weekStartsOn)??0,s=Li(t),l=s.getDay(),a=(e%7+7)%7,f=7-i,A=e<0||e>6?e-(l+f)%7:(a+f)%7-(l+f)%7;return Dp(s,A)}class X1e extends Ts{constructor(){super(...arguments);oi(this,"priority",90);oi(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=eN(n,i,s),n.setHours(0,0,0,0),n}}class Z1e extends Ts{constructor(){super(...arguments);oi(this,"priority",90);oi(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,s){const l=c=>{const a=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+a};switch(r){case"e":case"ee":return Il(cl(r.length,n),l);case"eo":return Il(i.ordinalNumber(n,{unit:"day"}),l);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=eN(n,i,s),n.setHours(0,0,0,0),n}}class J1e extends Ts{constructor(){super(...arguments);oi(this,"priority",90);oi(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,s){const l=c=>{const a=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+a};switch(r){case"c":case"cc":return Il(cl(r.length,n),l);case"co":return Il(i.ordinalNumber(n,{unit:"day"}),l);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=eN(n,i,s),n.setHours(0,0,0,0),n}}function e_e(t,e){const n=Li(t),r=M1e(n),i=e-r;return Dp(n,i)}class t_e extends Ts{constructor(){super(...arguments);oi(this,"priority",90);oi(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const s=l=>l===0?7:l;switch(r){case"i":case"ii":return cl(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return Il(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiii":return Il(i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiiii":return Il(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiii":default:return Il(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=e_e(n,i),n.setHours(0,0,0,0),n}}class n_e extends Ts{constructor(){super(...arguments);oi(this,"priority",80);oi(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(JD(i),0,0,0),n}}class r_e extends Ts{constructor(){super(...arguments);oi(this,"priority",80);oi(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(JD(i),0,0,0),n}}class i_e extends Ts{constructor(){super(...arguments);oi(this,"priority",80);oi(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(JD(i),0,0,0),n}}class a_e extends Ts{constructor(){super(...arguments);oi(this,"priority",70);oi(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return Go(Ml.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return cl(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const s=n.getHours()>=12;return s&&i<12?n.setHours(i+12,0,0,0):!s&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class s_e extends Ts{constructor(){super(...arguments);oi(this,"priority",70);oi(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return Go(Ml.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return cl(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class o_e extends Ts{constructor(){super(...arguments);oi(this,"priority",70);oi(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return Go(Ml.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return cl(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class l_e extends Ts{constructor(){super(...arguments);oi(this,"priority",70);oi(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return Go(Ml.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return cl(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const s=i<=24?i%24:i;return n.setHours(s,0,0,0),n}}class u_e extends Ts{constructor(){super(...arguments);oi(this,"priority",60);oi(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return Go(Ml.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return cl(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class c_e extends Ts{constructor(){super(...arguments);oi(this,"priority",50);oi(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return Go(Ml.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return cl(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class h_e extends Ts{constructor(){super(...arguments);oi(this,"priority",30);oi(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=s=>Math.trunc(s*Math.pow(10,-r.length+3));return Il(cl(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class d_e extends Ts{constructor(){super(...arguments);oi(this,"priority",10);oi(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return WA(KA.basicOptionalMinutes,n);case"XX":return WA(KA.basic,n);case"XXXX":return WA(KA.basicOptionalSeconds,n);case"XXXXX":return WA(KA.extendedOptionalSeconds,n);case"XXX":default:return WA(KA.extended,n)}}set(n,r,i){return r.timestampIsSet?n:Ss(n,n.getTime()-hT(n)-i)}}class f_e extends Ts{constructor(){super(...arguments);oi(this,"priority",10);oi(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return WA(KA.basicOptionalMinutes,n);case"xx":return WA(KA.basic,n);case"xxxx":return WA(KA.basicOptionalSeconds,n);case"xxxxx":return WA(KA.extendedOptionalSeconds,n);case"xxx":default:return WA(KA.extended,n)}}set(n,r,i){return r.timestampIsSet?n:Ss(n,n.getTime()-hT(n)-i)}}class p_e extends Ts{constructor(){super(...arguments);oi(this,"priority",40);oi(this,"incompatibleTokens","*")}parse(n){return lte(n)}set(n,r,i){return[Ss(n,i*1e3),{timestampIsSet:!0}]}}class A_e extends Ts{constructor(){super(...arguments);oi(this,"priority",20);oi(this,"incompatibleTokens","*")}parse(n){return lte(n)}set(n,r,i){return[Ss(n,i),{timestampIsSet:!0}]}}const m_e={G:new k1e,y:new R1e,Y:new O1e,R:new D1e,u:new N1e,Q:new U1e,q:new z1e,M:new $1e,L:new V1e,w:new Q1e,I:new G1e,d:new q1e,D:new Y1e,E:new X1e,e:new Z1e,c:new J1e,i:new t_e,a:new n_e,b:new r_e,B:new i_e,h:new a_e,H:new s_e,K:new o_e,k:new l_e,m:new u_e,s:new c_e,S:new h_e,X:new d_e,x:new f_e,t:new p_e,T:new A_e},g_e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,v_e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,__e=/^'([^]*?)'?$/,y_e=/''/g,b_e=/\S/,w_e=/[a-zA-Z]/;function ak(t,e,n,r){var E,P,I,F,R,N,z,Q;const i=B1e(),s=(r==null?void 0:r.locale)??i.locale??rte,l=(r==null?void 0:r.firstWeekContainsDate)??((P=(E=r==null?void 0:r.locale)==null?void 0:E.options)==null?void 0:P.firstWeekContainsDate)??i.firstWeekContainsDate??((F=(I=i.locale)==null?void 0:I.options)==null?void 0:F.firstWeekContainsDate)??1,c=(r==null?void 0:r.weekStartsOn)??((N=(R=r==null?void 0:r.locale)==null?void 0:R.options)==null?void 0:N.weekStartsOn)??i.weekStartsOn??((Q=(z=i.locale)==null?void 0:z.options)==null?void 0:Q.weekStartsOn)??0;if(e==="")return t===""?Li(n):Ss(n,NaN);const a={firstWeekContainsDate:l,weekStartsOn:c,locale:s},f=[new F1e],A=e.match(v_e).map(j=>{const H=j[0];if(H in rk){const K=rk[H];return K(j,s.formatLong)}return j}).join("").match(g_e),m=[];for(let j of A){!(r!=null&&r.useAdditionalWeekYearTokens)&&ste(j)&&ik(j,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&ate(j)&&ik(j,e,t);const H=j[0],K=m_e[H];if(K){const{incompatibleTokens:ie}=K;if(Array.isArray(ie)){const W=m.find(ee=>ie.includes(ee.token)||ee.token===H);if(W)throw new RangeError(`The format string mustn't contain \`${W.fullToken}\` and \`${j}\` at the same time`)}else if(K.incompatibleTokens==="*"&&m.length>0)throw new RangeError(`The format string mustn't contain \`${j}\` and any other token at the same time`);m.push({token:H,fullToken:j});const q=K.run(t,j,s.match,a);if(!q)return Ss(n,NaN);f.push(q.setter),t=q.rest}else{if(H.match(w_e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+H+"`");if(j==="''"?j="'":H==="'"&&(j=x_e(j)),t.indexOf(j)===0)t=t.slice(j.length);else return Ss(n,NaN)}}if(t.length>0&&b_e.test(t))return Ss(n,NaN);const _=f.map(j=>j.priority).sort((j,H)=>H-j).filter((j,H,K)=>K.indexOf(j)===H).map(j=>f.filter(H=>H.priority===j).sort((H,K)=>K.subPriority-H.subPriority)).map(j=>j[0]);let y=Li(n);if(isNaN(y.getTime()))return Ss(n,NaN);const T={};for(const j of _){if(!j.validate(y,a))return Ss(n,NaN);const H=j.set(y,T,a);Array.isArray(H)?(y=H[0],Object.assign(T,H[1])):y=H}return Ss(n,y)}function x_e(t){return t.match(__e)[1].replace(y_e,"'")}function fj(t,e){const n=x_(t),r=x_(e);return+n==+r}function C_e(t,e){return Dp(t,-e)}function hte(t,e){const n=Li(t),r=n.getFullYear(),i=n.getDate(),s=Ss(t,0);s.setFullYear(r,e,15),s.setHours(0,0,0,0);const l=T1e(s);return n.setMonth(e,Math.min(i,l)),n}function lo(t,e){let n=Li(t);return isNaN(+n)?Ss(t,NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=hte(n,e.month)),e.date!=null&&n.setDate(e.date),e.hours!=null&&n.setHours(e.hours),e.minutes!=null&&n.setMinutes(e.minutes),e.seconds!=null&&n.setSeconds(e.seconds),e.milliseconds!=null&&n.setMilliseconds(e.milliseconds),n)}function E_e(t,e){const n=Li(t);return n.setHours(e),n}function dte(t,e){const n=Li(t);return n.setMilliseconds(e),n}function S_e(t,e){const n=Li(t);return n.setMinutes(e),n}function fte(t,e){const n=Li(t);return n.setSeconds(e),n}function XA(t,e){const n=Li(t);return isNaN(+n)?Ss(t,NaN):(n.setFullYear(e),n)}function Kw(t,e){return $p(t,-e)}function T_e(t,e){const{years:n=0,months:r=0,weeks:i=0,days:s=0,hours:l=0,minutes:c=0,seconds:a=0}=e,f=Kw(t,r+n*12),A=C_e(f,s+i*7),m=c+l*60,y=(a+m*60)*1e3;return Ss(t,A.getTime()-y)}function pte(t,e){return WD(t,-e)}function E2(){return X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[pe("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),pe("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),pe("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),pe("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}E2.compatConfig={MODE:3};function Ate(){return X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[pe("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),pe("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}Ate.compatConfig={MODE:3};function tN(){return X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[pe("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}tN.compatConfig={MODE:3};function nN(){return X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[pe("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}nN.compatConfig={MODE:3};function rN(){return X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[pe("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),pe("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}rN.compatConfig={MODE:3};function iN(){return X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[pe("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}iN.compatConfig={MODE:3};function aN(){return X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[pe("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}aN.compatConfig={MODE:3};const am=(t,e)=>e?new Date(t.toLocaleString("en-US",{timeZone:e})):new Date(t),sN=(t,e,n)=>sk(t,e,n)||xr(),B_e=(t,e,n)=>{const r=e.dateInTz?am(new Date(t),e.dateInTz):xr(t);return n?rh(r,!0):r},sk=(t,e,n)=>{if(!t)return null;const r=n?rh(xr(t),!0):xr(t);return e?e.exactMatch?B_e(t,e,n):am(r,e.timezone):r},M_e=t=>{if(!t)return 0;const e=new Date,n=new Date(e.toLocaleString("en-US",{timeZone:"UTC"})),r=new Date(e.toLocaleString("en-US",{timeZone:t})),i=r.getTimezoneOffset()/60;return(+n-+r)/(1e3*60*60)-i};var Bp=(t=>(t.month="month",t.year="year",t))(Bp||{}),d_=(t=>(t.top="top",t.bottom="bottom",t))(d_||{}),D_=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(D_||{}),Tc=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(Tc||{});const I_e=["timestamp","date","iso"];var Xc=(t=>(t.up="up",t.down="down",t.left="left",t.right="right",t))(Xc||{}),Qo=(t=>(t.arrowUp="ArrowUp",t.arrowDown="ArrowDown",t.arrowLeft="ArrowLeft",t.arrowRight="ArrowRight",t.enter="Enter",t.space=" ",t.esc="Escape",t.tab="Tab",t.home="Home",t.end="End",t.pageUp="PageUp",t.pageDown="PageDown",t))(Qo||{});function pj(t){return e=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${e}T00:00:00+00:00`)).slice(0,2)}function L_e(t){return e=>im(new Date(`2017-01-0${e}T00:00:00+00:00`),"EEEEEE",{locale:t})}const P_e=(t,e,n)=>{const r=[1,2,3,4,5,6,7];let i;if(t!==null)try{i=r.map(L_e(t))}catch{i=r.map(pj(e))}else i=r.map(pj(e));const s=i.slice(0,n),l=i.slice(n+1,i.length);return[i[n]].concat(...l).concat(...s)},oN=(t,e,n)=>{const r=[];for(let i=+t[0];i<=+t[1];i++)r.push({value:+i,text:_te(i,e)});return n?r.reverse():r},mte=(t,e,n)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(s=>{const l=s<10?`0${s}`:s;return new Date(`2017-${l}-01T00:00:00+00:00`)});if(t!==null)try{const s=n==="long"?"MMMM":"MMM";return r.map((l,c)=>{const a=im(am(l,"UTC"),s,{locale:t});return{text:a.charAt(0).toUpperCase()+a.substring(1),value:c}})}catch{}const i=new Intl.DateTimeFormat(e,{month:n,timeZone:"UTC"});return r.map((s,l)=>{const c=i.format(s);return{text:c.charAt(0).toUpperCase()+c.substring(1),value:l}})},F_e=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],Au=t=>{const e=S(t);return e!=null&&e.$el?e==null?void 0:e.$el:e},k_e=t=>({type:"dot",...t??{}}),gte=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,lN={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},Ru=t=>t,Aj=t=>t===0?t:!t||isNaN(+t)?null:+t,mj=t=>t===null,vte=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},R_e=t=>{const e=[],n=r=>r.filter(i=>i);for(let r=0;r<t.length;r+=3){const i=[t[r],t[r+1],t[r+2]];e.push(n(i))}return e},EC=(t,e,n)=>{const r=n!=null,i=e!=null;if(!r&&!i)return!1;const s=+n,l=+e;return r&&i?+t>s||+t<l:r?+t>s:i?+t<l:!1},Ww=(t,e)=>R_e(t).map(n=>n.map(r=>{const{active:i,disabled:s,isBetween:l,highlighted:c}=e(r);return{...r,active:i,disabled:s,className:{dp__overlay_cell_active:i,dp__overlay_cell:!i,dp__overlay_cell_disabled:s,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:s&&i,dp__cell_in_between:l,"dp--highlighted":c}}})),Uv=(t,e,n=!1)=>{t&&e.allowStopPropagation&&(n&&t.stopImmediatePropagation(),t.stopPropagation())},O_e=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function D_e(t,e){let n=[...document.querySelectorAll(O_e())];n=n.filter(i=>!t.contains(i)||i.hasAttribute("data-datepicker-instance"));const r=n.indexOf(t);if(r>=0&&(e?r-1>=0:r+1<=n.length))return n[r+(e?-1:1)]}const N_e=(t,e)=>t==null?void 0:t.querySelector(`[data-dp-element="${e}"]`),_te=(t,e)=>new Intl.NumberFormat(e,{useGrouping:!1,style:"decimal"}).format(t),uN=t=>im(t,"dd-MM-yyyy"),eL=t=>Array.isArray(t),fT=(t,e)=>e.get(uN(t)),U_e=(t,e)=>t?e?e instanceof Map?!!fT(t,e):e(xr(t)):!1:!0,Fh=(t,e,n=!1)=>{if(t.key===Qo.enter||t.key===Qo.space)return n&&t.preventDefault(),e()},gj=(t,e,n,r,i,s)=>{const l=ak(t,e.slice(0,t.length),new Date,{locale:s});return U4(l)&&Jee(l)?r||i?l:lo(l,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},z_e=(t,e,n,r,i,s)=>{const l=Array.isArray(n)?n[0]:n;if(typeof e=="string")return gj(t,e,l,r,i,s);if(Array.isArray(e)){let c=null;for(const a of e)if(c=gj(t,a,l,r,i,s),c)break;return c}return typeof e=="function"?e(t):null},xr=t=>t?new Date(t):new Date,$_e=(t,e,n)=>{if(e){const i=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getDate().toString().padStart(2,"0"),l=t.getHours().toString().padStart(2,"0"),c=t.getMinutes().toString().padStart(2,"0"),a=n?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${i}-${s}T${l}:${c}:${a}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},rh=(t,e)=>{const n=xr(JSON.parse(JSON.stringify(t))),r=lo(n,{hours:0,minutes:0,seconds:0,milliseconds:0});return e?kve(r):r},zv=(t,e,n,r)=>{let i=t?xr(t):xr();return(e||e===0)&&(i=E_e(i,+e)),(n||n===0)&&(i=S_e(i,+n)),(r||r===0)&&(i=fte(i,+r)),dte(i,0)},ll=(t,e)=>!t||!e?!1:CC(rh(t),rh(e)),ns=(t,e)=>!t||!e?!1:rw(rh(t),rh(e)),Cl=(t,e)=>!t||!e?!1:Gw(rh(t),rh(e)),N8=(t,e,n)=>t!=null&&t[0]&&t!=null&&t[1]?Cl(n,t[0])&&ll(n,t[1]):t!=null&&t[0]&&e?Cl(n,t[0])&&ll(n,e)||ll(n,t[0])&&Cl(n,e):!1,Np=t=>{const e=lo(new Date(t),{date:1});return rh(e)},tL=(t,e,n)=>e&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===e?[r,n]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},N_=t=>({hours:Wg(t),minutes:Kv(t),seconds:jw(t)}),yte=(t,e)=>{if(e){const n=Ra(xr(e));if(n>t)return 12;if(n===t)return Xa(xr(e))}},bte=(t,e)=>{if(e){const n=Ra(xr(e));return n<t?-1:n===t?Xa(xr(e)):void 0}},qw=t=>{if(t)return Ra(xr(t))},wte=(t,e)=>{const n=Cl(t,e)?e:t,r=Cl(e,t)?e:t;return ete({start:n,end:r})},V_e=t=>{const e=$p(t,1);return{month:Xa(e),year:Ra(e)}},Pg=(t,e)=>{const n=jp(t,{weekStartsOn:+e}),r=nte(t,{weekStartsOn:+e});return[n,r]},xte=(t,e)=>{const n={hours:Wg(xr()),minutes:Kv(xr()),seconds:e?jw(xr()):0};return Object.assign(n,t)},Ev=(t,e,n)=>[lo(xr(t),{date:1}),lo(xr(),{month:e,year:n,date:1})],Dg=(t,e,n)=>{let r=t?xr(t):xr();return(e||e===0)&&(r=hte(r,e)),n&&(r=XA(r,n)),r},Cte=(t,e,n,r,i)=>{if(!r||i&&!e||!i&&!n)return!1;const s=i?$p(t,1):Kw(t,1),l=[Xa(s),Ra(s)];return i?!Q_e(...l,e):!H_e(...l,n)},H_e=(t,e,n)=>ll(...Ev(n,t,e))||ns(...Ev(n,t,e)),Q_e=(t,e,n)=>Cl(...Ev(n,t,e))||ns(...Ev(n,t,e)),Ete=(t,e,n,r,i,s,l)=>{if(typeof e=="function"&&!l)return e(t);const c=n?{locale:n}:void 0;return Array.isArray(t)?`${im(t[0],s,c)}${i&&!t[1]?"":r}${t[1]?im(t[1],s,c):""}`:im(t,s,c)},pb=t=>{if(t)return null;throw new Error(lN.prop("partial-range"))},LE=(t,e)=>{if(e)return t();throw new Error(lN.prop("range"))},ok=t=>Array.isArray(t)?U4(t[0])&&(t[1]?U4(t[1]):!0):t?U4(t):!1,j_e=(t,e)=>lo(e??xr(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),nL=(t,e,n,r)=>{if(!t)return!0;if(r){const i=n==="max"?CC(t,e):Gw(t,e),s={seconds:0,milliseconds:0};return i||rw(lo(t,s),lo(e,s))}return n==="max"?t.getTime()<=e.getTime():t.getTime()>=e.getTime()},rL=(t,e,n)=>t?j_e(t,e):xr(n??e),vj=(t,e,n,r,i)=>{if(Array.isArray(r)){const l=rL(t,r[0],e),c=rL(t,r[1],e);return nL(r[0],l,n,!!e)&&nL(r[1],c,n,!!e)&&i}const s=rL(t,r,e);return nL(r,s,n,!!e)&&i},iL=t=>lo(xr(),N_(t)),G_e=(t,e)=>t instanceof Map?Array.from(t.values()).filter(n=>Ra(xr(n))===e).map(n=>Xa(n)):[],Ste=(t,e,n)=>typeof t=="function"?t({month:e,year:n}):!!t.months.find(r=>r.month===e&&r.year===n),cN=(t,e)=>typeof t=="function"?t(e):t.years.includes(e),Tte=t=>im(t,"yyyy-MM-dd"),Nx=ua({menuFocused:!1,shiftKeyInMenu:!1}),Bte=()=>{const t=n=>{Nx.menuFocused=n},e=n=>{Nx.shiftKeyInMenu!==n&&(Nx.shiftKeyInMenu=n)};return{control:le(()=>({shiftKeyInMenu:Nx.shiftKeyInMenu,menuFocused:Nx.menuFocused})),setMenuFocused:t,setShiftKey:e}},Io=ua({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),aL=Te(null),PE=Te(!1),sL=Te(!1),oL=Te(!1),lL=Te(!1),gc=Te(0),bl=Te(0),f1=()=>{const t=le(()=>PE.value?[...Io.selectionGrid,Io.actionRow].filter(m=>m.length):sL.value?[...Io.timePicker[0],...Io.timePicker[1],lL.value?[]:[aL.value],Io.actionRow].filter(m=>m.length):oL.value?[...Io.monthPicker,Io.actionRow]:[Io.monthYear,...Io.calendar,Io.time,Io.actionRow].filter(m=>m.length)),e=m=>{gc.value=m?gc.value+1:gc.value-1;let _=null;t.value[bl.value]&&(_=t.value[bl.value][gc.value]),!_&&t.value[bl.value+(m?1:-1)]?(bl.value=bl.value+(m?1:-1),gc.value=m?0:t.value[bl.value].length-1):_||(gc.value=m?gc.value-1:gc.value+1)},n=m=>{bl.value===0&&!m||bl.value===t.value.length&&m||(bl.value=m?bl.value+1:bl.value-1,t.value[bl.value]?t.value[bl.value]&&!t.value[bl.value][gc.value]&&gc.value!==0&&(gc.value=t.value[bl.value].length-1):bl.value=m?bl.value-1:bl.value+1)},r=m=>{let _=null;t.value[bl.value]&&(_=t.value[bl.value][gc.value]),_?_.focus({preventScroll:!PE.value}):gc.value=m?gc.value-1:gc.value+1},i=()=>{e(!0),r(!0)},s=()=>{e(!1),r(!1)},l=()=>{n(!1),r(!0)},c=()=>{n(!0),r(!0)},a=(m,_)=>{Io[_]=m},f=(m,_)=>{Io[_]=m},A=()=>{gc.value=0,bl.value=0};return{buildMatrix:a,buildMultiLevelMatrix:f,setTimePickerBackRef:m=>{aL.value=m},setSelectionGrid:m=>{PE.value=m,A(),m||(Io.selectionGrid=[])},setTimePicker:(m,_=!1)=>{sL.value=m,lL.value=_,A(),m||(Io.timePicker[0]=[],Io.timePicker[1]=[])},setTimePickerElements:(m,_=0)=>{Io.timePicker[_]=m},arrowRight:i,arrowLeft:s,arrowUp:l,arrowDown:c,clearArrowNav:()=>{Io.monthYear=[],Io.calendar=[],Io.time=[],Io.actionRow=[],Io.selectionGrid=[],Io.timePicker[0]=[],Io.timePicker[1]=[],PE.value=!1,sL.value=!1,lL.value=!1,oL.value=!1,A(),aL.value=null},setMonthPicker:m=>{oL.value=m,A()},refSets:Io}},_j=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),K_e=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,...t??{}}),yj=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,W_e=t=>{const e=typeof t=="object"&&t,n={static:!0,solo:!1};if(!t)return{...n,count:yj(!1)};const r=e?t:{},i=e?r.count??!0:t,s=yj(i);return Object.assign(n,r,{count:s})},q_e=(t,e,n)=>t||(typeof n=="string"?n:e),Y_e=t=>typeof t=="boolean"?t?_j({}):!1:_j(t),X_e=t=>{const e={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...e,...t??{},enabled:!0}:{...e,enabled:t}},Z_e=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),J_e=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),eye=t=>{const e={input:!1};return typeof t=="object"?{...e,...t??{},enabled:!0}:{enabled:t,...e}},tye=t=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,...t??{}}),nye=t=>{const e={dates:Array.isArray(t)?t.map(n=>xr(n)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof t=="function"?t:{...e,...t??{}}},rye=t=>typeof t=="object"?{type:(t==null?void 0:t.type)??"local",hideOnOffsetDates:(t==null?void 0:t.hideOnOffsetDates)??!1}:{type:t,hideOnOffsetDates:!1},iye=(t,e)=>typeof t=="object"?{enabled:!0,...{noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1},...t}:{enabled:t,noDisabledRange:e.noDisabledRange,showLastInRange:e.showLastInRange,minMaxRawRange:e.minMaxRawRange,partialRange:e.partialRange,disableTimeRangeValidation:e.disableTimeRangeValidation,maxRange:e.maxRange,minRange:e.minRange,autoRange:e.autoRange,fixedStart:e.fixedStart,fixedEnd:e.fixedEnd},aye=(t,e)=>t?typeof t=="string"?{timezone:t,exactMatch:!1,dateInTz:void 0,emitTimezone:e,convertModel:!0}:{timezone:t.timezone,exactMatch:t.exactMatch??!1,dateInTz:t.dateInTz??void 0,emitTimezone:e??t.emitTimezone,convertModel:t.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:e},uL=(t,e,n)=>new Map(t.map(r=>{const i=sN(r,e,n);return[uN(i),i]})),sye=(t,e)=>t.length?new Map(t.map(n=>{const r=sN(n.date,e);return[uN(r),n]})):null,oye=t=>{var e;return{minDate:sk(t.minDate,t.timezone,t.isSpecific),maxDate:sk(t.maxDate,t.timezone,t.isSpecific),disabledDates:eL(t.disabledDates)?uL(t.disabledDates,t.timezone,t.isSpecific):t.disabledDates,allowedDates:eL(t.allowedDates)?uL(t.allowedDates,t.timezone,t.isSpecific):null,highlight:typeof t.highlight=="object"&&eL((e=t.highlight)==null?void 0:e.dates)?uL(t.highlight.dates,t.timezone):t.highlight,markers:sye(t.markers,t.timezone)}},lye=(t,e)=>typeof t=="boolean"?{enabled:t,dragSelect:!0,limit:+e}:{enabled:!!t,limit:t.limit?+t.limit:null,dragSelect:t.dragSelect??!0},Yo=t=>{const e=()=>{const z=t.enableSeconds?":ss":"",Q=t.enableMinutes?":mm":"";return t.is24?`HH${Q}${z}`:`hh${Q}${z} aa`},n=()=>{var z;return t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?e():t.weekPicker?`${((z=P.value)==null?void 0:z.type)==="iso"?"RR":"ww"}-yyyy`:t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${e()}`:"MM/dd/yyyy"},r=z=>xte(z,t.enableSeconds),i=()=>N.value.enabled?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,s=le(()=>W_e(t.multiCalendars)),l=le(()=>i()),c=le(()=>K_e(t.ariaLabels)),a=le(()=>Z_e(t.filters)),f=le(()=>Y_e(t.transitions)),A=le(()=>J_e(t.actionRow)),m=le(()=>q_e(t.previewFormat,t.format,n())),_=le(()=>X_e(t.textInput)),y=le(()=>eye(t.inline)),T=le(()=>tye(t.config)),E=le(()=>nye(t.highlight)),P=le(()=>rye(t.weekNumbers)),I=le(()=>aye(t.timezone,t.emitTimezone)),F=le(()=>lye(t.multiDates,t.multiDatesLimit)),R=le(()=>oye({minDate:t.minDate,maxDate:t.maxDate,disabledDates:t.disabledDates,allowedDates:t.allowedDates,highlight:E.value,markers:t.markers,timezone:I.value,isSpecific:t.monthPicker||t.yearPicker||t.quarterPicker})),N=le(()=>iye(t.range,{minMaxRawRange:!1,maxRange:t.maxRange,minRange:t.minRange,noDisabledRange:t.noDisabledRange,showLastInRange:t.showLastInRange,partialRange:t.partialRange,disableTimeRangeValidation:t.disableTimeRangeValidation,autoRange:t.autoRange,fixedStart:t.fixedStart,fixedEnd:t.fixedEnd}));return{defaultedTransitions:f,defaultedMultiCalendars:s,defaultedStartTime:l,defaultedAriaLabels:c,defaultedFilters:a,defaultedActionRow:A,defaultedPreviewFormat:m,defaultedTextInput:_,defaultedInline:y,defaultedConfig:T,defaultedHighlight:E,defaultedWeekNumbers:P,defaultedRange:N,propDates:R,defaultedTz:I,defaultedMultiDates:F,getDefaultPattern:n,getDefaultStartTime:i}},uye=(t,e,n)=>{const r=Te(),{defaultedTextInput:i,defaultedRange:s,defaultedTz:l,defaultedMultiDates:c,getDefaultPattern:a}=Yo(e),f=Te(""),A=Oa(e,"format"),m=Oa(e,"formatLocale");un(r,()=>{typeof e.onInternalModelChange=="function"&&t("internal-model-change",r.value,Le(!0))},{deep:!0}),un(s,(be,Re)=>{be.enabled!==Re.enabled&&(r.value=null)}),un(A,()=>{he()});const _=be=>l.value.timezone&&l.value.convertModel?am(be,l.value.timezone):be,y=be=>{if(l.value.timezone&&l.value.convertModel){const Re=M_e(l.value.timezone);return Tve(be,Re)}return be},T=(be,Re,Qe=!1)=>Ete(be,e.format,e.formatLocale,i.value.rangeSeparator,e.modelAuto,Re??a(),Qe),E=be=>be?e.modelType?ye(be):{hours:Wg(be),minutes:Kv(be),seconds:e.enableSeconds?jw(be):0}:null,P=be=>e.modelType?ye(be):{month:Xa(be),year:Ra(be)},I=be=>Array.isArray(be)?c.value.enabled?be.map(Re=>F(Re,XA(xr(),Re))):LE(()=>[XA(xr(),be[0]),be[1]?XA(xr(),be[1]):pb(s.value.partialRange)],s.value.enabled):XA(xr(),+be),F=(be,Re)=>(typeof be=="string"||typeof be=="number")&&e.modelType?ce(be):Re,R=be=>Array.isArray(be)?[F(be[0],zv(null,+be[0].hours,+be[0].minutes,be[0].seconds)),F(be[1],zv(null,+be[1].hours,+be[1].minutes,be[1].seconds))]:F(be,zv(null,be.hours,be.minutes,be.seconds)),N=be=>{const Re=lo(xr(),{date:1});return Array.isArray(be)?c.value.enabled?be.map(Qe=>F(Qe,Dg(Re,+Qe.month,+Qe.year))):LE(()=>[F(be[0],Dg(Re,+be[0].month,+be[0].year)),F(be[1],be[1]?Dg(Re,+be[1].month,+be[1].year):pb(s.value.partialRange))],s.value.enabled):F(be,Dg(Re,+be.month,+be.year))},z=be=>{if(Array.isArray(be))return be.map(Re=>ce(Re));throw new Error(lN.dateArr("multi-dates"))},Q=be=>{if(Array.isArray(be)&&s.value.enabled){const Re=be[0],Qe=be[1];return[xr(Array.isArray(Re)?Re[0]:null),xr(Array.isArray(Qe)?Qe[0]:null)]}return xr(be[0])},j=be=>e.modelAuto?Array.isArray(be)?[ce(be[0]),ce(be[1])]:e.autoApply?[ce(be)]:[ce(be),null]:Array.isArray(be)?LE(()=>be[1]?[ce(be[0]),be[1]?ce(be[1]):pb(s.value.partialRange)]:[ce(be[0])],s.value.enabled):ce(be),H=()=>{Array.isArray(r.value)&&s.value.enabled&&r.value.length===1&&r.value.push(pb(s.value.partialRange))},K=()=>{const be=r.value;return[ye(be[0]),be[1]?ye(be[1]):pb(s.value.partialRange)]},ie=()=>r.value[1]?K():ye(Ru(r.value[0])),q=()=>(r.value||[]).map(be=>ye(be)),W=(be=!1)=>(be||H(),e.modelAuto?ie():c.value.enabled?q():Array.isArray(r.value)?LE(()=>K(),s.value.enabled):ye(Ru(r.value))),ee=be=>!be||Array.isArray(be)&&!be.length?null:e.timePicker?R(Ru(be)):e.monthPicker?N(Ru(be)):e.yearPicker?I(Ru(be)):c.value.enabled?z(Ru(be)):e.weekPicker?Q(Ru(be)):j(Ru(be)),ue=be=>{const Re=ee(be);ok(Ru(Re))?(r.value=Ru(Re),he()):(r.value=null,f.value="")},J=()=>{const be=Re=>im(Re,i.value.format);return`${be(r.value[0])} ${i.value.rangeSeparator} ${r.value[1]?be(r.value[1]):""}`},te=()=>n.value&&r.value?Array.isArray(r.value)?J():im(r.value,i.value.format):T(r.value),ne=()=>r.value?c.value.enabled?r.value.map(be=>T(be)).join("; "):i.value.enabled&&typeof i.value.format=="string"?te():T(r.value):"",he=()=>{!e.format||typeof e.format=="string"||i.value.enabled&&typeof i.value.format=="string"?f.value=ne():f.value=e.format(r.value)},ce=be=>{if(e.utc){const Re=new Date(be);return e.utc==="preserve"?new Date(Re.getTime()+Re.getTimezoneOffset()*6e4):Re}return e.modelType?I_e.includes(e.modelType)?_(new Date(be)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?_(ak(be,a(),new Date,{locale:m.value})):_(ak(be,e.modelType,new Date,{locale:m.value})):_(new Date(be))},ye=be=>be?e.utc?$_e(be,e.utc==="preserve",e.enableSeconds):e.modelType?e.modelType==="timestamp"?+y(be):e.modelType==="iso"?y(be).toISOString():e.modelType==="format"&&(typeof e.format=="string"||!e.format)?T(y(be)):T(y(be),e.modelType,!0):y(be):"",Ee=(be,Re=!1,Qe=!1)=>{if(Qe)return be;if(t("update:model-value",be),l.value.emitTimezone&&Re){const Je=Array.isArray(be)?be.map(nt=>am(Ru(nt),l.value.emitTimezone)):am(Ru(be),l.value.emitTimezone);t("update:model-timezone-value",Je)}},se=be=>Array.isArray(r.value)?c.value.enabled?r.value.map(Re=>be(Re)):[be(r.value[0]),r.value[1]?be(r.value[1]):pb(s.value.partialRange)]:be(Ru(r.value)),oe=()=>{if(Array.isArray(r.value)){const be=Pg(r.value[0],e.weekStart),Re=r.value[1]?Pg(r.value[1],e.weekStart):[];return[be.map(Qe=>xr(Qe)),Re.map(Qe=>xr(Qe))]}return Pg(r.value,e.weekStart).map(be=>xr(be))},_e=(be,Re)=>Ee(Ru(se(be)),!1,Re),Ue=be=>{const Re=oe();return be?Re:t("update:model-value",oe())},Le=(be=!1)=>(be||he(),e.monthPicker?_e(P,be):e.timePicker?_e(E,be):e.yearPicker?_e(Ra,be):e.weekPicker?Ue(be):Ee(W(be),!0,be));return{inputValue:f,internalModelValue:r,checkBeforeEmit:()=>r.value?s.value.enabled?s.value.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:ue,formatInputValue:he,emitModelValue:Le}},cye=(t,e)=>{const{defaultedFilters:n,propDates:r}=Yo(t),{validateMonthYearInRange:i}=p1(t),s=(A,m)=>{let _=A;return n.value.months.includes(Xa(_))?(_=m?$p(A,1):Kw(A,1),s(_,m)):_},l=(A,m)=>{let _=A;return n.value.years.includes(Ra(_))?(_=m?WD(A,1):pte(A,1),l(_,m)):_},c=(A,m=!1)=>{const _=lo(xr(),{month:t.month,year:t.year});let y=A?$p(_,1):Kw(_,1);t.disableYearSelect&&(y=XA(y,t.year));let T=Xa(y),E=Ra(y);n.value.months.includes(T)&&(y=s(y,A),T=Xa(y),E=Ra(y)),n.value.years.includes(E)&&(y=l(y,A),E=Ra(y)),i(T,E,A,t.preventMinMaxNavigation)&&a(T,E,m)},a=(A,m,_)=>{e("update-month-year",{month:A,year:m,fromNav:_})},f=le(()=>A=>Cte(lo(xr(),{month:t.month,year:t.year}),r.value.maxDate,r.value.minDate,t.preventMinMaxNavigation,A));return{handleMonthYearChange:c,isDisabled:f,updateMonthYear:a}},U8={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0}},Zp={...U8,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})}},hye=["title"],dye=["disabled"],fye=Be({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Zp},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:e}){const n=e,r=t,{defaultedActionRow:i,defaultedPreviewFormat:s,defaultedMultiCalendars:l,defaultedTextInput:c,defaultedInline:a,defaultedRange:f,defaultedMultiDates:A,getDefaultPattern:m}=Yo(r),{isTimeValid:_,isMonthValid:y}=p1(r),{buildMatrix:T}=f1(),E=Te(null),P=Te(null),I=Te(!1),F=Te({}),R=Te(null),N=Te(null);kr(()=>{r.arrowNavigation&&T([Au(E),Au(P)],"actionRow"),z(),window.addEventListener("resize",z)}),Rf(()=>{window.removeEventListener("resize",z)});const z=()=>{I.value=!1,setTimeout(()=>{var J,te;const ne=(J=R.value)==null?void 0:J.getBoundingClientRect(),he=(te=N.value)==null?void 0:te.getBoundingClientRect();ne&&he&&(F.value.maxWidth=`${he.width-ne.width-20}px`),I.value=!0},0)},Q=le(()=>f.value.enabled&&!f.value.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),j=le(()=>!_.value(r.internalModelValue)||!y.value(r.internalModelValue)||!Q.value),H=()=>{const J=s.value;return r.timePicker||r.monthPicker,J(Ru(r.internalModelValue))},K=()=>{const J=r.internalModelValue;return l.value.count>0?`${ie(J[0])} - ${ie(J[1])}`:[ie(J[0]),ie(J[1])]},ie=J=>Ete(J,s.value,r.formatLocale,c.value.rangeSeparator,r.modelAuto,m()),q=le(()=>!r.internalModelValue||!r.menuMount?"":typeof s.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?K():A.value.enabled?r.internalModelValue.map(J=>`${ie(J)}`):r.modelAuto?`${ie(r.internalModelValue[0])}`:`${ie(r.internalModelValue[0])} -`:ie(r.internalModelValue):H()),W=()=>A.value.enabled?"; ":" - ",ee=le(()=>Array.isArray(q.value)?q.value.join(W()):q.value),ue=()=>{_.value(r.internalModelValue)&&y.value(r.internalModelValue)&&Q.value?n("select-date"):n("invalid-select")};return(J,te)=>(X(),ve("div",{ref_key:"actionRowRef",ref:N,class:"dp__action_row"},[J.$slots["action-row"]?kt(J.$slots,"action-row",uo(Xr({key:0},{internalModelValue:J.internalModelValue,disabled:j.value,selectDate:()=>J.$emit("select-date"),closePicker:()=>J.$emit("close-picker")}))):(X(),ve(Vn,{key:1},[S(i).showPreview?(X(),ve("div",{key:0,class:"dp__selection_preview",title:ee.value,style:or(F.value)},[J.$slots["action-preview"]&&I.value?kt(J.$slots,"action-preview",{key:0,value:J.internalModelValue}):bt("",!0),!J.$slots["action-preview"]&&I.value?(X(),ve(Vn,{key:1},[wi(Cn(ee.value),1)],64)):bt("",!0)],12,hye)):bt("",!0),pe("div",{ref_key:"actionBtnContainer",ref:R,class:"dp__action_buttons","data-dp-element":"action-row"},[J.$slots["action-buttons"]?kt(J.$slots,"action-buttons",{key:0,value:J.internalModelValue}):bt("",!0),J.$slots["action-buttons"]?bt("",!0):(X(),ve(Vn,{key:1},[!S(a).enabled&&S(i).showCancel?(X(),ve("button",{key:0,ref_key:"cancelButtonRef",ref:E,type:"button",class:"dp__action_button dp__action_cancel",onClick:te[0]||(te[0]=ne=>J.$emit("close-picker")),onKeydown:te[1]||(te[1]=ne=>S(Fh)(ne,()=>J.$emit("close-picker")))},Cn(J.cancelText),545)):bt("",!0),S(i).showNow?(X(),ve("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:te[2]||(te[2]=ne=>J.$emit("select-now")),onKeydown:te[3]||(te[3]=ne=>S(Fh)(ne,()=>J.$emit("select-now")))},Cn(J.nowButtonLabel),33)):bt("",!0),S(i).showSelect?(X(),ve("button",{key:2,ref_key:"selectButtonRef",ref:P,type:"button",class:"dp__action_button dp__action_select",disabled:j.value,"data-test":"select-button",onKeydown:te[4]||(te[4]=ne=>S(Fh)(ne,()=>ue())),onClick:ue},Cn(J.selectText),41,dye)):bt("",!0)],64))],512)],64))],512))}}),pye={class:"dp__selection_grid_header"},Aye=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],mye=["aria-label"],S6=Be({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:e,emit:n}){const{setSelectionGrid:r,buildMultiLevelMatrix:i,setMonthPicker:s}=f1(),l=n,c=t,{defaultedAriaLabels:a,defaultedTextInput:f,defaultedConfig:A}=Yo(c),{hideNavigationButtons:m}=V8(),_=Te(!1),y=Te(null),T=Te(null),E=Te([]),P=Te(),I=Te(null),F=Te(0),R=Te(null);VD(()=>{y.value=null}),kr(()=>{dr().then(()=>q()),c.noOverlayFocus||z(),N(!0)}),Rf(()=>N(!1));const N=se=>{var oe;c.arrowNavigation&&((oe=c.headerRefs)!=null&&oe.length?s(se):r(se))},z=()=>{var se;const oe=Au(T);oe&&(f.value.enabled||(y.value?(se=y.value)==null||se.focus({preventScroll:!0}):oe.focus({preventScroll:!0})),_.value=oe.clientHeight<oe.scrollHeight)},Q=le(()=>({dp__overlay:!0,"dp--overlay-absolute":!c.useRelative,"dp--overlay-relative":c.useRelative})),j=le(()=>c.useRelative?{height:`${c.height}px`,width:"260px"}:void 0),H=le(()=>({dp__overlay_col:!0})),K=le(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:_.value,dp__button_bottom:c.isLast})),ie=le(()=>{var se,oe;return{dp__overlay_container:!0,dp__container_flex:((se=c.items)==null?void 0:se.length)<=6,dp__container_block:((oe=c.items)==null?void 0:oe.length)>6}});un(()=>c.items,()=>q(!1),{deep:!0});const q=(se=!0)=>{dr().then(()=>{const oe=Au(y),_e=Au(T),Ue=Au(I),Le=Au(R),be=Ue?Ue.getBoundingClientRect().height:0;_e&&(_e.getBoundingClientRect().height?F.value=_e.getBoundingClientRect().height-be:F.value=A.value.modeHeight-be),oe&&Le&&se&&(Le.scrollTop=oe.offsetTop-Le.offsetTop-(F.value/2-oe.getBoundingClientRect().height)-be)})},W=se=>{se.disabled||l("selected",se.value)},ee=()=>{l("toggle"),l("reset-flow")},ue=()=>{c.escClose&&ee()},J=(se,oe,_e,Ue)=>{se&&((oe.active||oe.value===c.focusValue)&&(y.value=se),c.arrowNavigation&&(Array.isArray(E.value[_e])?E.value[_e][Ue]=se:E.value[_e]=[se],te()))},te=()=>{var se,oe;const _e=(se=c.headerRefs)!=null&&se.length?[c.headerRefs].concat(E.value):E.value.concat([c.skipButtonRef?[]:[I.value]]);i(Ru(_e),(oe=c.headerRefs)!=null&&oe.length?"monthPicker":"selectionGrid")},ne=se=>{c.arrowNavigation||Uv(se,A.value,!0)},he=se=>{P.value=se,l("hover-value",se)},ce=()=>{if(ee(),!c.isLast){const se=N_e(c.menuWrapRef??null,"action-row");if(se){const oe=vte(se);oe==null||oe.focus()}}},ye=se=>{switch(se.key){case Qo.esc:return ue();case Qo.arrowLeft:return ne(se);case Qo.arrowRight:return ne(se);case Qo.arrowUp:return ne(se);case Qo.arrowDown:return ne(se);default:return}},Ee=se=>{if(se.key===Qo.enter)return ee();if(se.key===Qo.tab)return ce()};return e({focusGrid:z}),(se,oe)=>{var _e;return X(),ve("div",{ref_key:"gridWrapRef",ref:T,class:Se(Q.value),style:or(j.value),role:"dialog",tabindex:"0",onKeydown:ye,onClick:oe[0]||(oe[0]=Fr(()=>{},["prevent"]))},[pe("div",{ref_key:"containerRef",ref:R,class:Se(ie.value),role:"grid",style:or({"--dp-overlay-height":`${F.value}px`})},[pe("div",pye,[kt(se.$slots,"header")]),se.$slots.overlay?kt(se.$slots,"overlay",{key:0}):(X(!0),ve(Vn,{key:1},Yr(se.items,(Ue,Le)=>(X(),ve("div",{key:Le,class:Se(["dp__overlay_row",{dp__flex_row:se.items.length>=3}]),role:"row"},[(X(!0),ve(Vn,null,Yr(Ue,(be,Re)=>(X(),ve("div",{key:be.value,ref_for:!0,ref:Qe=>J(Qe,be,Le,Re),role:"gridcell",class:Se(H.value),"aria-selected":be.active||void 0,"aria-disabled":be.disabled||void 0,tabindex:"0","data-test":be.text,onClick:Fr(Qe=>W(be),["prevent"]),onKeydown:Qe=>S(Fh)(Qe,()=>W(be),!0),onMouseover:Qe=>he(be.value)},[pe("div",{class:Se(be.className)},[se.$slots.item?kt(se.$slots,"item",{key:0,item:be}):bt("",!0),se.$slots.item?bt("",!0):(X(),ve(Vn,{key:1},[wi(Cn(be.text),1)],64))],2)],42,Aye))),128))],2))),128))],6),se.$slots["button-icon"]?Jr((X(),ve("button",{key:0,ref_key:"toggleButton",ref:I,type:"button","aria-label":(_e=S(a))==null?void 0:_e.toggleOverlay,class:Se(K.value),tabindex:"0",onClick:ee,onKeydown:Ee},[kt(se.$slots,"button-icon")],42,mye)),[[la,!S(m)(se.hideNavigation,se.type)]]):bt("",!0)],38)}}}),z8=Be({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean}},setup(t){const e=t,n=le(()=>e.multiCalendars>0?[...Array(e.multiCalendars).keys()]:[0]),r=le(()=>({dp__instance_calendar:e.multiCalendars>0}));return(i,s)=>(X(),ve("div",{class:Se({dp__menu_inner:!i.stretch,"dp--menu--inner-stretched":i.stretch,dp__flex_display:i.multiCalendars>0,"dp--flex-display-collapsed":i.collapse})},[(X(!0),ve(Vn,null,Yr(n.value,(l,c)=>(X(),ve("div",{key:l,class:Se(r.value)},[kt(i.$slots,"default",{instance:l,index:c})],2))),128))],2))}}),gye=["aria-label","aria-disabled"],z4=Be({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:e}){const n=e,r=Te(null);return kr(()=>n("set-ref",r)),(i,s)=>(X(),ve("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":i.ariaLabel,"aria-disabled":i.disabled||void 0,onClick:s[0]||(s[0]=l=>i.$emit("activate")),onKeydown:s[1]||(s[1]=l=>S(Fh)(l,()=>i.$emit("activate"),!0))},[pe("span",{class:Se(["dp__inner_nav",{dp__inner_nav_disabled:i.disabled}])},[kt(i.$slots,"default")],2)],40,gye))}}),vye={class:"dp--year-mode-picker"},_ye=["aria-label","data-test"],Mte=Be({__name:"YearModePicker",props:{...Zp,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:e}){const n=e,r=t,{showRightIcon:i,showLeftIcon:s}=V8(),{defaultedConfig:l,defaultedMultiCalendars:c,defaultedAriaLabels:a,defaultedTransitions:f}=Yo(r),{showTransition:A,transitionName:m}=T6(f),_=(E=!1,P)=>{n("toggle-year-picker",{flow:E,show:P})},y=E=>{n("year-select",E)},T=(E=!1)=>{n("handle-year",E)};return(E,P)=>{var I,F,R;return X(),ve("div",vye,[S(s)(S(c),t.instance)?(X(),Ut(z4,{key:0,ref:"mpPrevIconRef","aria-label":(I=S(a))==null?void 0:I.prevYear,disabled:t.isDisabled(!1),onActivate:P[0]||(P[0]=N=>T(!1))},{default:xt(()=>[E.$slots["arrow-left"]?kt(E.$slots,"arrow-left",{key:0}):bt("",!0),E.$slots["arrow-left"]?bt("",!0):(X(),Ut(S(tN),{key:1}))]),_:3},8,["aria-label","disabled"])):bt("",!0),pe("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(F=S(a))==null?void 0:F.openYearsOverlay,"data-test":`year-mode-btn-${t.instance}`,onClick:P[1]||(P[1]=()=>_(!1)),onKeydown:P[2]||(P[2]=Qa(()=>_(!1),["enter"]))},[E.$slots.year?kt(E.$slots,"year",{key:0,year:t.year}):bt("",!0),E.$slots.year?bt("",!0):(X(),ve(Vn,{key:1},[wi(Cn(t.year),1)],64))],40,_ye),S(i)(S(c),t.instance)?(X(),Ut(z4,{key:1,ref:"mpNextIconRef","aria-label":(R=S(a))==null?void 0:R.nextYear,disabled:t.isDisabled(!0),onActivate:P[3]||(P[3]=N=>T(!0))},{default:xt(()=>[E.$slots["arrow-right"]?kt(E.$slots,"arrow-right",{key:0}):bt("",!0),E.$slots["arrow-right"]?bt("",!0):(X(),Ut(S(nN),{key:1}))]),_:3},8,["aria-label","disabled"])):bt("",!0),ht(co,{name:S(m)(t.showYearPicker),css:S(A)},{default:xt(()=>[t.showYearPicker?(X(),Ut(S6,{key:0,items:t.items,"text-input":E.textInput,"esc-close":E.escClose,config:E.config,"is-last":E.autoApply&&!S(l).keepActionRow,"hide-navigation":E.hideNavigation,"aria-labels":E.ariaLabels,type:"year",onToggle:_,onSelected:P[4]||(P[4]=N=>y(N))},Ro({"button-icon":xt(()=>[E.$slots["calendar-icon"]?kt(E.$slots,"calendar-icon",{key:0}):bt("",!0),E.$slots["calendar-icon"]?bt("",!0):(X(),Ut(S(E2),{key:1}))]),_:2},[E.$slots["year-overlay-value"]?{name:"item",fn:xt(({item:N})=>[kt(E.$slots,"year-overlay-value",{text:N.text,value:N.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels"])):bt("",!0)]),_:3},8,["name","css"])])}}}),hN=(t,e,n)=>{if(e.value&&Array.isArray(e.value))if(e.value.some(r=>ns(t,r))){const r=e.value.filter(i=>!ns(i,t));e.value=r.length?r:null}else(n&&+n>e.value.length||!n)&&e.value.push(t);else e.value=[t]},dN=(t,e,n)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?ll(e,r[0])?(r.unshift(e),n("range-start",r[0]),n("range-start",r[1])):(r[1]=e,n("range-end",e)):(r=[e],n("range-start",e)),r},$8=(t,e,n,r)=>{t&&(t[0]&&t[1]&&n&&e("auto-apply"),t[0]&&!t[1]&&r&&n&&e("auto-apply"))},Ite=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(e=>am(xr(e),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=am(xr(t.value),t.timezone))},Lte=(t,e,n,r)=>Array.isArray(e.value)&&(e.value.length===2||e.value.length===1&&r.value.partialRange)?r.value.fixedStart&&(Cl(t,e.value[0])||ns(t,e.value[0]))?[e.value[0],t]:r.value.fixedEnd&&(ll(t,e.value[1])||ns(t,e.value[1]))?[t,e.value[1]]:(n("invalid-fixed-range",t),e.value):[],Pte=({multiCalendars:t,range:e,highlight:n,propDates:r,calendars:i,modelValue:s,props:l,filters:c,year:a,month:f,emit:A})=>{const m=le(()=>oN(l.yearRange,l.locale,l.reverseYears)),_=Te([!1]),y=le(()=>(K,ie)=>{const q=lo(Np(new Date),{month:f.value(K),year:a.value(K)}),W=ie?tte(q):qD(q);return Cte(W,r.value.maxDate,r.value.minDate,l.preventMinMaxNavigation,ie)}),T=()=>Array.isArray(s.value)&&t.value.solo&&s.value[1],E=()=>{for(let K=0;K<t.value.count;K++)if(K===0)i.value[K]=i.value[0];else if(K===t.value.count-1&&T())i.value[K]={month:Xa(s.value[1]),year:Ra(s.value[1])};else{const ie=lo(xr(),i.value[K-1]);i.value[K]={month:Xa(ie),year:Ra(WD(ie,1))}}},P=K=>{if(!K)return E();const ie=lo(xr(),i.value[K]);return i.value[0].year=Ra(pte(ie,t.value.count-1)),E()},I=(K,ie)=>{const q=Pve(ie,K);return e.value.showLastInRange&&q>1?ie:K},F=K=>l.focusStartDate||t.value.solo?K[0]:K[1]?I(K[0],K[1]):K[0],R=()=>{if(s.value){const K=Array.isArray(s.value)?F(s.value):s.value;i.value[0]={month:Xa(K),year:Ra(K)}}};kr(()=>{R(),t.value.count&&E()});const N=(K,ie)=>{i.value[ie].year=K,A("update-month-year",{instance:ie,year:K,month:i.value[ie].month}),t.value.count&&!t.value.solo&&P(ie)},z=le(()=>K=>Ww(m.value,ie=>{var q;const W=a.value(K)===ie.value,ee=EC(ie.value,qw(r.value.minDate),qw(r.value.maxDate))||((q=c.value.years)==null?void 0:q.includes(a.value(K))),ue=cN(n.value,ie.value);return{active:W,disabled:ee,highlighted:ue}})),Q=(K,ie)=>{N(K,ie),H(ie)},j=(K,ie=!1)=>{if(!y.value(K,ie)){const q=ie?a.value(K)+1:a.value(K)-1;N(q,K)}},H=(K,ie=!1,q)=>{ie||A("reset-flow"),q!==void 0?_.value[K]=q:_.value[K]=!_.value[K],_.value[K]?A("overlay-toggle",{open:!0,overlay:Tc.year}):(A("overlay-closed"),A("overlay-toggle",{open:!1,overlay:Tc.year}))};return{isDisabled:y,groupedYears:z,showYearPicker:_,selectYear:N,toggleYearPicker:H,handleYearSelect:Q,handleYear:j}},yye=(t,e)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,defaultedRange:l,defaultedHighlight:c,propDates:a,defaultedTz:f,defaultedFilters:A,defaultedMultiDates:m}=Yo(t),{modelValue:_,year:y,month:T,calendars:E}=B6(t,e),P=le(()=>mte(t.formatLocale,t.locale,t.monthNameFormat)),I=Te(null),{checkMinMaxRange:F}=p1(t),{selectYear:R,groupedYears:N,showYearPicker:z,toggleYearPicker:Q,handleYearSelect:j,handleYear:H,isDisabled:K}=Pte({modelValue:_,multiCalendars:n,range:l,highlight:c,calendars:E,year:y,propDates:a,month:T,filters:A,props:t,emit:e});kr(()=>{t.startDate&&(_.value&&t.focusStartDate||!_.value)&&R(Ra(xr(t.startDate)),0)});const ie=oe=>oe?{month:Xa(oe),year:Ra(oe)}:{month:null,year:null},q=()=>_.value?Array.isArray(_.value)?_.value.map(oe=>ie(oe)):ie(_.value):ie(),W=(oe,_e)=>{const Ue=E.value[oe],Le=q();return Array.isArray(Le)?Le.some(be=>be.year===(Ue==null?void 0:Ue.year)&&be.month===_e):(Ue==null?void 0:Ue.year)===Le.year&&_e===Le.month},ee=(oe,_e,Ue)=>{var Le,be;const Re=q();return Array.isArray(Re)?y.value(_e)===((Le=Re[Ue])==null?void 0:Le.year)&&oe===((be=Re[Ue])==null?void 0:be.month):!1},ue=(oe,_e)=>{if(l.value.enabled){const Ue=q();if(Array.isArray(_.value)&&Array.isArray(Ue)){const Le=ee(oe,_e,0)||ee(oe,_e,1),be=Dg(Np(xr()),oe,y.value(_e));return N8(_.value,I.value,be)&&!Le}return!1}return!1},J=le(()=>oe=>Ww(P.value,_e=>{var Ue;const Le=W(oe,_e.value),be=EC(_e.value,yte(y.value(oe),a.value.minDate),bte(y.value(oe),a.value.maxDate))||G_e(a.value.disabledDates,y.value(oe)).includes(_e.value)||((Ue=A.value.months)==null?void 0:Ue.includes(_e.value)),Re=ue(_e.value,oe),Qe=Ste(c.value,_e.value,y.value(oe));return{active:Le,disabled:be,isBetween:Re,highlighted:Qe}})),te=(oe,_e)=>Dg(Np(xr()),oe,y.value(_e)),ne=(oe,_e)=>{const Ue=_.value?_.value:Np(new Date);_.value=Dg(Ue,oe,y.value(_e)),e("auto-apply"),e("update-flow-step")},he=(oe,_e)=>{const Ue=te(oe,_e);l.value.fixedEnd||l.value.fixedStart?_.value=Lte(Ue,_,e,l):_.value?F(Ue,_.value)&&(_.value=dN(_,te(oe,_e),e)):_.value=[te(oe,_e)],dr().then(()=>{$8(_.value,e,t.autoApply,t.modelAuto)})},ce=(oe,_e)=>{hN(te(oe,_e),_,m.value.limit),e("auto-apply",!0)},ye=(oe,_e)=>(E.value[_e].month=oe,se(_e,E.value[_e].year,oe),m.value.enabled?ce(oe,_e):l.value.enabled?he(oe,_e):ne(oe,_e)),Ee=(oe,_e)=>{R(oe,_e),se(_e,oe,null)},se=(oe,_e,Ue)=>{let Le=Ue;if(!Le&&Le!==0){const be=q();Le=Array.isArray(be)?be[oe].month:be.month}e("update-month-year",{instance:oe,year:_e,month:Le})};return{groupedMonths:J,groupedYears:N,year:y,isDisabled:K,defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,showYearPicker:z,modelValue:_,presetDate:(oe,_e)=>{Ite({value:oe,modelValue:_,range:l.value.enabled,timezone:_e?void 0:f.value.timezone}),e("auto-apply")},setHoverDate:(oe,_e)=>{I.value=te(oe,_e)},selectMonth:ye,selectYear:Ee,toggleYearPicker:Q,handleYearSelect:j,handleYear:H,getModelMonthYear:q}},bye=Be({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Zp},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=Eo(),s=Fd(i,"yearMode"),l=t;kr(()=>{l.shadow||r("mount",null)});const{groupedMonths:c,groupedYears:a,year:f,isDisabled:A,defaultedMultiCalendars:m,defaultedConfig:_,showYearPicker:y,modelValue:T,presetDate:E,setHoverDate:P,selectMonth:I,selectYear:F,toggleYearPicker:R,handleYearSelect:N,handleYear:z,getModelMonthYear:Q}=yye(l,r);return e({getSidebarProps:()=>({modelValue:T,year:f,getModelMonthYear:Q,selectMonth:I,selectYear:F,handleYear:z}),presetDate:E,toggleYearPicker:j=>R(0,j)}),(j,H)=>(X(),Ut(z8,{"multi-calendars":S(m).count,collapse:j.collapse,stretch:""},{default:xt(({instance:K})=>[j.$slots["top-extra"]?kt(j.$slots,"top-extra",{key:0,value:j.internalModelValue}):bt("",!0),j.$slots["month-year"]?kt(j.$slots,"month-year",uo(Xr({key:1},{year:S(f),months:S(c)(K),years:S(a)(K),selectMonth:S(I),selectYear:S(F),instance:K}))):(X(),Ut(S6,{key:2,items:S(c)(K),"arrow-navigation":j.arrowNavigation,"is-last":j.autoApply&&!S(_).keepActionRow,"esc-close":j.escClose,height:S(_).modeHeight,config:j.config,"no-overlay-focus":!!(j.noOverlayFocus||j.textInput),"use-relative":"",type:"month",onSelected:ie=>S(I)(ie,K),onHoverValue:ie=>S(P)(ie,K)},Ro({header:xt(()=>[ht(Mte,Xr(j.$props,{items:S(a)(K),instance:K,"show-year-picker":S(y)[K],year:S(f)(K),"is-disabled":ie=>S(A)(K,ie),onHandleYear:ie=>S(z)(K,ie),onYearSelect:ie=>S(N)(ie,K),onToggleYearPicker:ie=>S(R)(K,ie==null?void 0:ie.flow,ie==null?void 0:ie.show)}),Ro({_:2},[Yr(S(s),(ie,q)=>({name:ie,fn:xt(W=>[kt(j.$slots,ie,uo(nu(W)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[j.$slots["month-overlay-value"]?{name:"item",fn:xt(({item:ie})=>[kt(j.$slots,"month-overlay-value",{text:ie.text,value:ie.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse"]))}}),wye=(t,e)=>{const{modelValue:n}=B6(t,e),r=Te(null),{defaultedHighlight:i,defaultedMultiDates:s,defaultedFilters:l,defaultedRange:c,propDates:a}=Yo(t),f=Te();kr(()=>{t.startDate&&(n.value&&t.focusStartDate||!n.value)&&(f.value=Ra(xr(t.startDate)))});const A=T=>Array.isArray(n.value)?n.value.some(E=>Ra(E)===T):n.value?Ra(n.value)===T:!1,m=T=>c.value.enabled&&Array.isArray(n.value)?N8(n.value,r.value,y(T)):!1,_=le(()=>Ww(oN(t.yearRange,t.locale,t.reverseYears),T=>{const E=A(T.value),P=EC(T.value,qw(a.value.minDate),qw(a.value.maxDate))||l.value.years.includes(T.value),I=m(T.value)&&!E,F=cN(i.value,T.value);return{active:E,disabled:P,isBetween:I,highlighted:F}})),y=T=>XA(Np(new Date),T);return{groupedYears:_,modelValue:n,focusYear:f,setHoverValue:T=>{r.value=XA(Np(new Date),T)},selectYear:T=>{var E;if(e("update-month-year",{instance:0,year:T}),s.value.enabled)return n.value?Array.isArray(n.value)&&(((E=n.value)==null?void 0:E.map(P=>Ra(P))).includes(T)?n.value=n.value.filter(P=>Ra(P)!==T):n.value.push(XA(rh(xr()),T))):n.value=[XA(rh(xr()),T)],e("auto-apply",!0);c.value.enabled?(n.value=dN(n,y(T),e),dr().then(()=>{$8(n.value,e,t.autoApply,t.modelAuto)})):(n.value=y(T),e("auto-apply"))}}},xye=Be({compatConfig:{MODE:3},__name:"YearPicker",props:{...Zp},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(t,{expose:e,emit:n}){const r=n,i=t,{groupedYears:s,modelValue:l,focusYear:c,selectYear:a,setHoverValue:f}=wye(i,r),{defaultedConfig:A}=Yo(i);return e({getSidebarProps:()=>({modelValue:l,selectYear:a})}),(m,_)=>(X(),ve("div",null,[m.$slots["top-extra"]?kt(m.$slots,"top-extra",{key:0,value:m.internalModelValue}):bt("",!0),m.$slots["month-year"]?kt(m.$slots,"month-year",uo(Xr({key:1},{years:S(s),selectYear:S(a)}))):(X(),Ut(S6,{key:2,items:S(s),"is-last":m.autoApply&&!S(A).keepActionRow,height:S(A).modeHeight,config:m.config,"no-overlay-focus":!!(m.noOverlayFocus||m.textInput),"focus-value":S(c),type:"year","use-relative":"",onSelected:S(a),onHoverValue:S(f)},Ro({_:2},[m.$slots["year-overlay-value"]?{name:"item",fn:xt(({item:y})=>[kt(m.$slots,"year-overlay-value",{text:y.text,value:y.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),Cye={key:0,class:"dp__time_input"},Eye=["data-test","aria-label","onKeydown","onClick","onMousedown"],Sye=pe("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Tye=pe("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Bye=["aria-label","disabled","data-test","onKeydown","onClick"],Mye=["data-test","aria-label","onKeydown","onClick","onMousedown"],Iye=pe("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Lye=pe("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Pye={key:0},Fye=["aria-label"],kye=Be({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Zp},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{setTimePickerElements:s,setTimePickerBackRef:l}=f1(),{defaultedAriaLabels:c,defaultedTransitions:a,defaultedFilters:f,defaultedConfig:A,defaultedRange:m}=Yo(i),{transitionName:_,showTransition:y}=T6(a),T=ua({hours:!1,minutes:!1,seconds:!1}),E=Te("AM"),P=Te(null),I=Te([]),F=Te();kr(()=>{r("mounted")});const R=Ve=>lo(new Date,{hours:Ve.hours,minutes:Ve.minutes,seconds:i.enableSeconds?Ve.seconds:0,milliseconds:0}),N=le(()=>Ve=>te(Ve,i[Ve])||Q(Ve,i[Ve])),z=le(()=>({hours:i.hours,minutes:i.minutes,seconds:i.seconds})),Q=(Ve,Pe)=>m.value.enabled&&!m.value.disableTimeRangeValidation?!i.validateTime(Ve,Pe):!1,j=(Ve,Pe)=>{if(m.value.enabled&&!m.value.disableTimeRangeValidation){const Ge=Pe?+i[`${Ve}Increment`]:-+i[`${Ve}Increment`],Ne=i[Ve]+Ge;return!i.validateTime(Ve,Ne)}return!1},H=le(()=>Ve=>!Ee(+i[Ve]+ +i[`${Ve}Increment`],Ve)||j(Ve,!0)),K=le(()=>Ve=>!Ee(+i[Ve]-+i[`${Ve}Increment`],Ve)||j(Ve,!1)),ie=(Ve,Pe)=>Wee(lo(xr(),Ve),Pe),q=(Ve,Pe)=>T_e(lo(xr(),Ve),Pe),W=le(()=>({dp__time_col:!0,dp__time_col_block:!i.timePickerInline,dp__time_col_reg_block:!i.enableSeconds&&i.is24&&!i.timePickerInline,dp__time_col_reg_inline:!i.enableSeconds&&i.is24&&i.timePickerInline,dp__time_col_reg_with_button:!i.enableSeconds&&!i.is24,dp__time_col_sec:i.enableSeconds&&i.is24,dp__time_col_sec_with_button:i.enableSeconds&&!i.is24})),ee=le(()=>{const Ve=[{type:"hours"}];return i.enableMinutes&&Ve.push({type:"",separator:!0},{type:"minutes"}),i.enableSeconds&&Ve.push({type:"",separator:!0},{type:"seconds"}),Ve}),ue=le(()=>ee.value.filter(Ve=>!Ve.separator)),J=le(()=>Ve=>{if(Ve==="hours"){const Pe=be(+i.hours);return{text:Pe<10?`0${Pe}`:`${Pe}`,value:Pe}}return{text:i[Ve]<10?`0${i[Ve]}`:`${i[Ve]}`,value:i[Ve]}}),te=(Ve,Pe)=>{var Ge;if(!i.disabledTimesConfig)return!1;const Ne=i.disabledTimesConfig(i.order,Ve==="hours"?Pe:void 0);return Ne[Ve]?!!((Ge=Ne[Ve])!=null&&Ge.includes(Pe)):!0},ne=(Ve,Pe)=>Pe!=="hours"||E.value==="AM"?Ve:Ve+12,he=Ve=>{const Pe=i.is24?24:12,Ge=Ve==="hours"?Pe:60,Ne=+i[`${Ve}GridIncrement`],je=Ve==="hours"&&!i.is24?Ne:0,Ye=[];for(let vt=je;vt<Ge;vt+=Ne)Ye.push({value:i.is24?vt:ne(vt,Ve),text:vt<10?`0${vt}`:`${vt}`});return Ve==="hours"&&!i.is24&&Ye.unshift({value:E.value==="PM"?12:0,text:"12"}),Ww(Ye,vt=>({active:!1,disabled:f.value.times[Ve].includes(vt.value)||!Ee(vt.value,Ve)||te(Ve,vt.value)||Q(Ve,vt.value)}))},ce=Ve=>Ve>=0?Ve:59,ye=Ve=>Ve>=0?Ve:23,Ee=(Ve,Pe)=>{const Ge=i.minTime?R(tL(i.minTime)):null,Ne=i.maxTime?R(tL(i.maxTime)):null,je=R(tL(z.value,Pe,Pe==="minutes"||Pe==="seconds"?ce(Ve):ye(Ve)));return Ge&&Ne?(CC(je,Ne)||rw(je,Ne))&&(Gw(je,Ge)||rw(je,Ge)):Ge?Gw(je,Ge)||rw(je,Ge):Ne?CC(je,Ne)||rw(je,Ne):!0},se=Ve=>i[`no${Ve[0].toUpperCase()+Ve.slice(1)}Overlay`],oe=Ve=>{se(Ve)||(T[Ve]=!T[Ve],T[Ve]?r("overlay-opened",Ve):r("overlay-closed",Ve))},_e=Ve=>Ve==="hours"?Wg:Ve==="minutes"?Kv:jw,Ue=()=>{F.value&&clearTimeout(F.value)},Le=(Ve,Pe=!0,Ge)=>{const Ne=Pe?ie:q,je=Pe?+i[`${Ve}Increment`]:-+i[`${Ve}Increment`];Ee(+i[Ve]+je,Ve)&&r(`update:${Ve}`,_e(Ve)(Ne({[Ve]:+i[Ve]},{[Ve]:+i[`${Ve}Increment`]}))),!(Ge!=null&&Ge.keyboard)&&A.value.timeArrowHoldThreshold&&(F.value=setTimeout(()=>{Le(Ve,Pe)},A.value.timeArrowHoldThreshold))},be=Ve=>i.is24?Ve:(Ve>=12?E.value="PM":E.value="AM",F_e(Ve)),Re=()=>{E.value==="PM"?(E.value="AM",r("update:hours",i.hours-12)):(E.value="PM",r("update:hours",i.hours+12)),r("am-pm-change",E.value)},Qe=Ve=>{T[Ve]=!0},Je=(Ve,Pe,Ge)=>{if(Ve&&i.arrowNavigation){Array.isArray(I.value[Pe])?I.value[Pe][Ge]=Ve:I.value[Pe]=[Ve];const Ne=I.value.reduce((je,Ye)=>Ye.map((vt,Lt)=>[...je[Lt]||[],Ye[Lt]]),[]);l(i.closeTimePickerBtn),P.value&&(Ne[1]=Ne[1].concat(P.value)),s(Ne,i.order)}},nt=(Ve,Pe)=>(oe(Ve),r(`update:${Ve}`,Pe));return e({openChildCmp:Qe}),(Ve,Pe)=>{var Ge;return Ve.disabled?bt("",!0):(X(),ve("div",Cye,[(X(!0),ve(Vn,null,Yr(ee.value,(Ne,je)=>{var Ye,vt,Lt;return X(),ve("div",{key:je,class:Se(W.value)},[Ne.separator?(X(),ve(Vn,{key:0},[wi(" : ")],64)):(X(),ve(Vn,{key:1},[pe("button",{ref_for:!0,ref:Et=>Je(Et,je,0),type:"button",class:Se({dp__btn:!0,dp__inc_dec_button:!Ve.timePickerInline,dp__inc_dec_button_inline:Ve.timePickerInline,dp__tp_inline_btn_top:Ve.timePickerInline,dp__inc_dec_button_disabled:H.value(Ne.type)}),"data-test":`${Ne.type}-time-inc-btn-${i.order}`,"aria-label":(Ye=S(c))==null?void 0:Ye.incrementValue(Ne.type),tabindex:"0",onKeydown:Et=>S(Fh)(Et,()=>Le(Ne.type,!0,{keyboard:!0}),!0),onClick:Et=>S(A).timeArrowHoldThreshold?void 0:Le(Ne.type,!0),onMousedown:Et=>S(A).timeArrowHoldThreshold?Le(Ne.type,!0):void 0,onMouseup:Ue},[i.timePickerInline?(X(),ve(Vn,{key:1},[Sye,Tye],64)):(X(),ve(Vn,{key:0},[Ve.$slots["arrow-up"]?kt(Ve.$slots,"arrow-up",{key:0}):bt("",!0),Ve.$slots["arrow-up"]?bt("",!0):(X(),Ut(S(iN),{key:1}))],64))],42,Eye),pe("button",{ref_for:!0,ref:Et=>Je(Et,je,1),type:"button","aria-label":(vt=S(c))==null?void 0:vt.openTpOverlay(Ne.type),class:Se({dp__time_display:!0,dp__time_display_block:!Ve.timePickerInline,dp__time_display_inline:Ve.timePickerInline,"dp--time-invalid":N.value(Ne.type),"dp--time-overlay-btn":!N.value(Ne.type)}),disabled:se(Ne.type),tabindex:"0","data-test":`${Ne.type}-toggle-overlay-btn-${i.order}`,onKeydown:Et=>S(Fh)(Et,()=>oe(Ne.type),!0),onClick:Et=>oe(Ne.type)},[Ve.$slots[Ne.type]?kt(Ve.$slots,Ne.type,{key:0,text:J.value(Ne.type).text,value:J.value(Ne.type).value}):bt("",!0),Ve.$slots[Ne.type]?bt("",!0):(X(),ve(Vn,{key:1},[wi(Cn(J.value(Ne.type).text),1)],64))],42,Bye),pe("button",{ref_for:!0,ref:Et=>Je(Et,je,2),type:"button",class:Se({dp__btn:!0,dp__inc_dec_button:!Ve.timePickerInline,dp__inc_dec_button_inline:Ve.timePickerInline,dp__tp_inline_btn_bottom:Ve.timePickerInline,dp__inc_dec_button_disabled:K.value(Ne.type)}),"data-test":`${Ne.type}-time-dec-btn-${i.order}`,"aria-label":(Lt=S(c))==null?void 0:Lt.decrementValue(Ne.type),tabindex:"0",onKeydown:Et=>S(Fh)(Et,()=>Le(Ne.type,!1,{keyboard:!0}),!0),onClick:Et=>S(A).timeArrowHoldThreshold?void 0:Le(Ne.type,!1),onMousedown:Et=>S(A).timeArrowHoldThreshold?Le(Ne.type,!1):void 0,onMouseup:Ue},[i.timePickerInline?(X(),ve(Vn,{key:1},[Iye,Lye],64)):(X(),ve(Vn,{key:0},[Ve.$slots["arrow-down"]?kt(Ve.$slots,"arrow-down",{key:0}):bt("",!0),Ve.$slots["arrow-down"]?bt("",!0):(X(),Ut(S(aN),{key:1}))],64))],42,Mye)],64))],2)}),128)),Ve.is24?bt("",!0):(X(),ve("div",Pye,[Ve.$slots["am-pm-button"]?kt(Ve.$slots,"am-pm-button",{key:0,toggle:Re,value:E.value}):bt("",!0),Ve.$slots["am-pm-button"]?bt("",!0):(X(),ve("button",{key:1,ref_key:"amPmButton",ref:P,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(Ge=S(c))==null?void 0:Ge.amPmButton,tabindex:"0",onClick:Re,onKeydown:Pe[0]||(Pe[0]=Ne=>S(Fh)(Ne,()=>Re(),!0))},Cn(E.value),41,Fye))])),(X(!0),ve(Vn,null,Yr(ue.value,(Ne,je)=>(X(),Ut(co,{key:je,name:S(_)(T[Ne.type]),css:S(y)},{default:xt(()=>[T[Ne.type]?(X(),Ut(S6,{key:0,items:he(Ne.type),"is-last":Ve.autoApply&&!S(A).keepActionRow,"esc-close":Ve.escClose,type:Ne.type,"text-input":Ve.textInput,config:Ve.config,"arrow-navigation":Ve.arrowNavigation,"aria-labels":Ve.ariaLabels,onSelected:Ye=>nt(Ne.type,Ye),onToggle:Ye=>oe(Ne.type),onResetFlow:Pe[1]||(Pe[1]=Ye=>Ve.$emit("reset-flow"))},Ro({"button-icon":xt(()=>[Ve.$slots["clock-icon"]?kt(Ve.$slots,"clock-icon",{key:0}):bt("",!0),Ve.$slots["clock-icon"]?bt("",!0):(X(),Ut(di(Ve.timePickerInline?S(E2):S(rN)),{key:1}))]),_:2},[Ve.$slots[`${Ne.type}-overlay-value`]?{name:"item",fn:xt(({item:Ye})=>[kt(Ve.$slots,`${Ne.type}-overlay-value`,{text:Ye.text,value:Ye.value})]),key:"0"}:void 0,Ve.$slots[`${Ne.type}-overlay-header`]?{name:"header",fn:xt(()=>[kt(Ve.$slots,`${Ne.type}-overlay-header`,{toggle:()=>oe(Ne.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","onSelected","onToggle"])):bt("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),Rye={class:"dp--tp-wrap"},Oye=["aria-label","tabindex"],Dye=["tabindex"],Nye=["aria-label"],Fte=Be({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Zp},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMatrix:s,setTimePicker:l}=f1(),c=Eo(),{defaultedTransitions:a,defaultedAriaLabels:f,defaultedTextInput:A,defaultedConfig:m,defaultedRange:_}=Yo(i),{transitionName:y,showTransition:T}=T6(a),{hideNavigationButtons:E}=V8(),P=Te(null),I=Te(null),F=Te([]),R=Te(null);kr(()=>{r("mount"),!i.timePicker&&i.arrowNavigation?s([Au(P.value)],"time"):l(!0,i.timePicker)});const N=le(()=>_.value.enabled&&i.modelAuto?gte(i.internalModelValue):!0),z=Te(!1),Q=ne=>({hours:Array.isArray(i.hours)?i.hours[ne]:i.hours,minutes:Array.isArray(i.minutes)?i.minutes[ne]:i.minutes,seconds:Array.isArray(i.seconds)?i.seconds[ne]:i.seconds}),j=le(()=>{const ne=[];if(_.value.enabled)for(let he=0;he<2;he++)ne.push(Q(he));else ne.push(Q(0));return ne}),H=(ne,he=!1,ce="")=>{he||r("reset-flow"),z.value=ne,r(ne?"overlay-opened":"overlay-closed",Tc.time),i.arrowNavigation&&l(ne),dr(()=>{ce!==""&&F.value[0]&&F.value[0].openChildCmp(ce)})},K=le(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:i.autoApply&&!m.value.keepActionRow})),ie=Fd(c,"timePicker"),q=(ne,he,ce)=>_.value.enabled?he===0?[ne,j.value[1][ce]]:[j.value[0][ce],ne]:ne,W=ne=>{r("update:hours",ne)},ee=ne=>{r("update:minutes",ne)},ue=ne=>{r("update:seconds",ne)},J=()=>{if(R.value&&!A.value.enabled&&!i.noOverlayFocus){const ne=vte(R.value);ne&&ne.focus({preventScroll:!0})}},te=ne=>{r("overlay-closed",ne)};return e({toggleTimePicker:H}),(ne,he)=>{var ce;return X(),ve("div",Rye,[!ne.timePicker&&!ne.timePickerInline?Jr((X(),ve("button",{key:0,ref_key:"openTimePickerBtn",ref:P,type:"button",class:Se(K.value),"aria-label":(ce=S(f))==null?void 0:ce.openTimePicker,tabindex:ne.noOverlayFocus?void 0:0,"data-test":"open-time-picker-btn",onKeydown:he[0]||(he[0]=ye=>S(Fh)(ye,()=>H(!0))),onClick:he[1]||(he[1]=ye=>H(!0))},[ne.$slots["clock-icon"]?kt(ne.$slots,"clock-icon",{key:0}):bt("",!0),ne.$slots["clock-icon"]?bt("",!0):(X(),Ut(S(rN),{key:1}))],42,Oye)),[[la,!S(E)(ne.hideNavigation,"time")]]):bt("",!0),ht(co,{name:S(y)(z.value),css:S(T)&&!ne.timePickerInline},{default:xt(()=>{var ye;return[z.value||ne.timePicker||ne.timePickerInline?(X(),ve("div",{key:0,ref_key:"overlayRef",ref:R,class:Se({dp__overlay:!ne.timePickerInline,"dp--overlay-absolute":!i.timePicker&&!ne.timePickerInline,"dp--overlay-relative":i.timePicker}),style:or(ne.timePicker?{height:`${S(m).modeHeight}px`}:void 0),tabindex:ne.timePickerInline?void 0:0},[pe("div",{class:Se(ne.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[ne.$slots["time-picker-overlay"]?kt(ne.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:W,setMinutes:ee,setSeconds:ue}):bt("",!0),ne.$slots["time-picker-overlay"]?bt("",!0):(X(),ve("div",{key:1,class:Se(ne.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(X(!0),ve(Vn,null,Yr(j.value,(Ee,se)=>Jr((X(),Ut(kye,Xr({key:se,ref_for:!0},{...ne.$props,order:se,hours:Ee.hours,minutes:Ee.minutes,seconds:Ee.seconds,closeTimePickerBtn:I.value,disabledTimesConfig:t.disabledTimesConfig,disabled:se===0?ne.fixedStart:ne.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:F,"validate-time":(oe,_e)=>t.validateTime(oe,q(_e,se,oe)),"onUpdate:hours":oe=>W(q(oe,se,"hours")),"onUpdate:minutes":oe=>ee(q(oe,se,"minutes")),"onUpdate:seconds":oe=>ue(q(oe,se,"seconds")),onMounted:J,onOverlayClosed:te,onOverlayOpened:he[2]||(he[2]=oe=>ne.$emit("overlay-opened",oe)),onAmPmChange:he[3]||(he[3]=oe=>ne.$emit("am-pm-change",oe))}),Ro({_:2},[Yr(S(ie),(oe,_e)=>({name:oe,fn:xt(Ue=>[kt(ne.$slots,oe,Xr({ref_for:!0},Ue))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[la,se===0?!0:N.value]])),128))],2)),!ne.timePicker&&!ne.timePickerInline?Jr((X(),ve("button",{key:2,ref_key:"closeTimePickerBtn",ref:I,type:"button",class:Se(K.value),"aria-label":(ye=S(f))==null?void 0:ye.closeTimePicker,tabindex:"0",onKeydown:he[4]||(he[4]=Ee=>S(Fh)(Ee,()=>H(!1))),onClick:he[5]||(he[5]=Ee=>H(!1))},[ne.$slots["calendar-icon"]?kt(ne.$slots,"calendar-icon",{key:0}):bt("",!0),ne.$slots["calendar-icon"]?bt("",!0):(X(),Ut(S(E2),{key:1}))],42,Nye)),[[la,!S(E)(ne.hideNavigation,"time")]]):bt("",!0)],2)],14,Dye)):bt("",!0)]}),_:3},8,["name","css"])])}}}),kte=(t,e,n,r)=>{const{defaultedRange:i}=Yo(t),s=(R,N)=>Array.isArray(e[R])?e[R][N]:e[R],l=R=>t.enableSeconds?Array.isArray(e.seconds)?e.seconds[R]:e.seconds:0,c=(R,N)=>R?N!==void 0?zv(R,s("hours",N),s("minutes",N),l(N)):zv(R,e.hours,e.minutes,l()):fte(xr(),l(N)),a=(R,N)=>{e[R]=N},f=le(()=>t.modelAuto&&i.value.enabled?Array.isArray(n.value)?n.value.length>1:!1:i.value.enabled),A=(R,N)=>{const z=Object.fromEntries(Object.keys(e).map(Q=>Q===R?[Q,N]:[Q,e[Q]].slice()));if(f.value&&!i.value.disableTimeRangeValidation){const Q=H=>n.value?zv(n.value[H],z.hours[H],z.minutes[H],z.seconds[H]):null,j=H=>dte(n.value[H],0);return!(ns(Q(0),Q(1))&&(Gw(Q(0),j(1))||CC(Q(1),j(0))))}return!0},m=(R,N)=>{A(R,N)&&(a(R,N),r&&r())},_=R=>{m("hours",R)},y=R=>{m("minutes",R)},T=R=>{m("seconds",R)},E=(R,N,z,Q)=>{N&&_(R),!N&&!z&&y(R),z&&T(R),n.value&&Q(n.value)},P=R=>{if(R){const N=Array.isArray(R),z=N?[+R[0].hours,+R[1].hours]:+R.hours,Q=N?[+R[0].minutes,+R[1].minutes]:+R.minutes,j=N?[+R[0].seconds,+R[1].seconds]:+R.seconds;a("hours",z),a("minutes",Q),t.enableSeconds&&a("seconds",j)}},I=(R,N)=>{const z={hours:Array.isArray(e.hours)?e.hours[R]:e.hours,disabledArr:[]};return(N||N===0)&&(z.hours=N),Array.isArray(t.disabledTimes)&&(z.disabledArr=i.value.enabled&&Array.isArray(t.disabledTimes[R])?t.disabledTimes[R]:t.disabledTimes),z},F=le(()=>(R,N)=>{var z;if(Array.isArray(t.disabledTimes)){const{disabledArr:Q,hours:j}=I(R,N),H=Q.filter(K=>+K.hours===j);return((z=H[0])==null?void 0:z.minutes)==="*"?{hours:[j],minutes:void 0,seconds:void 0}:{hours:[],minutes:(H==null?void 0:H.map(K=>+K.minutes))??[],seconds:(H==null?void 0:H.map(K=>K.seconds?+K.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:a,updateHours:_,updateMinutes:y,updateSeconds:T,getSetDateTime:c,updateTimeValues:E,getSecondsValue:l,assignStartTime:P,validateTime:A,disabledTimesConfig:F}},Uye=(t,e)=>{const{modelValue:n,time:r}=B6(t,e),{defaultedStartTime:i,defaultedRange:s}=Yo(t),{updateTimeValues:l,getSetDateTime:c,setTime:a,assignStartTime:f,disabledTimesConfig:A,validateTime:m}=kte(t,r,n,_);function _(){e("update-flow-step")}const y=N=>{const{hours:z,minutes:Q,seconds:j}=N;return{hours:+z,minutes:+Q,seconds:j?+j:0}},T=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const z=y(t.startTime[0]),Q=y(t.startTime[1]);return[lo(xr(),z),lo(xr(),Q)]}const N=y(t.startTime);return lo(xr(),N)}return s.value.enabled?[null,null]:null},E=()=>{if(s.value.enabled){const[N,z]=T();n.value=[c(N,0),c(z,1)]}else n.value=c(T())},P=N=>Array.isArray(N)?[N_(xr(N[0])),N_(xr(N[1]))]:[N_(N??xr())],I=(N,z,Q)=>{a("hours",N),a("minutes",z),a("seconds",t.enableSeconds?Q:0)},F=()=>{const[N,z]=P(n.value);return s.value.enabled?I([N.hours,z.hours],[N.minutes,z.minutes],[N.seconds,z.seconds]):I(N.hours,N.minutes,N.seconds)};kr(()=>{if(!t.shadow)return f(i.value),n.value?F():E()});const R=()=>{Array.isArray(n.value)?n.value=n.value.map((N,z)=>N&&c(N,z)):n.value=c(n.value),e("time-update")};return{modelValue:n,time:r,disabledTimesConfig:A,updateTime:(N,z=!0,Q=!1)=>{l(N,z,Q,R)},validateTime:m}},zye=Be({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Zp},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Eo(),l=Fd(s,"timePicker"),c=Te(null),{time:a,modelValue:f,disabledTimesConfig:A,updateTime:m,validateTime:_}=Uye(i,r);return kr(()=>{i.shadow||r("mount",null)}),e({getSidebarProps:()=>({modelValue:f,time:a,updateTime:m}),toggleTimePicker:(y,T=!1,E="")=>{var P;(P=c.value)==null||P.toggleTimePicker(y,T,E)}}),(y,T)=>(X(),Ut(z8,{"multi-calendars":0,stretch:""},{default:xt(()=>[ht(Fte,Xr({ref_key:"tpRef",ref:c},y.$props,{hours:S(a).hours,minutes:S(a).minutes,seconds:S(a).seconds,"internal-model-value":y.internalModelValue,"disabled-times-config":S(A),"validate-time":S(_),"onUpdate:hours":T[0]||(T[0]=E=>S(m)(E)),"onUpdate:minutes":T[1]||(T[1]=E=>S(m)(E,!1)),"onUpdate:seconds":T[2]||(T[2]=E=>S(m)(E,!1,!0)),onAmPmChange:T[3]||(T[3]=E=>y.$emit("am-pm-change",E)),onResetFlow:T[4]||(T[4]=E=>y.$emit("reset-flow")),onOverlayClosed:T[5]||(T[5]=E=>y.$emit("overlay-toggle",{open:!1,overlay:E})),onOverlayOpened:T[6]||(T[6]=E=>y.$emit("overlay-toggle",{open:!0,overlay:E}))}),Ro({_:2},[Yr(S(l),(E,P)=>({name:E,fn:xt(I=>[kt(y.$slots,E,uo(nu(I)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),$ye={class:"dp--header-wrap"},Vye={key:0,class:"dp__month_year_wrap"},Hye={key:0},Qye={class:"dp__month_year_wrap"},jye=["aria-label","data-test","onClick","onKeydown"],Gye=Be({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Zp},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTransitions:s,defaultedAriaLabels:l,defaultedMultiCalendars:c,defaultedFilters:a,defaultedConfig:f,defaultedHighlight:A,propDates:m}=Yo(i),{transitionName:_,showTransition:y}=T6(s),{buildMatrix:T}=f1(),{handleMonthYearChange:E,isDisabled:P,updateMonthYear:I}=cye(i,r),{showLeftIcon:F,showRightIcon:R}=V8(),N=Te(!1),z=Te(!1),Q=Te([null,null,null,null]);kr(()=>{r("mount")});const j=Ee=>({get:()=>i[Ee],set:se=>{const oe=Ee===Bp.month?Bp.year:Bp.month;r("update-month-year",{[Ee]:se,[oe]:i[oe]}),Ee===Bp.month?J(!0):te(!0)}}),H=le(j(Bp.month)),K=le(j(Bp.year)),ie=le(()=>Ee=>({month:i.month,year:i.year,items:Ee===Bp.month?i.months:i.years,instance:i.instance,updateMonthYear:I,toggle:Ee===Bp.month?J:te})),q=le(()=>i.months.find(se=>se.value===i.month)||{text:"",value:0}),W=le(()=>Ww(i.months,Ee=>{const se=i.month===Ee.value,oe=EC(Ee.value,yte(i.year,m.value.minDate),bte(i.year,m.value.maxDate))||a.value.months.includes(Ee.value),_e=Ste(A.value,Ee.value,i.year);return{active:se,disabled:oe,highlighted:_e}})),ee=le(()=>Ww(i.years,Ee=>{const se=i.year===Ee.value,oe=EC(Ee.value,qw(m.value.minDate),qw(m.value.maxDate))||a.value.years.includes(Ee.value),_e=cN(A.value,Ee.value);return{active:se,disabled:oe,highlighted:_e}})),ue=(Ee,se,oe)=>{oe!==void 0?Ee.value=oe:Ee.value=!Ee.value,Ee.value?r("overlay-opened",se):r("overlay-closed",se)},J=(Ee=!1,se)=>{ne(Ee),ue(N,Tc.month,se)},te=(Ee=!1,se)=>{ne(Ee),ue(z,Tc.year,se)},ne=Ee=>{Ee||r("reset-flow")},he=(Ee,se)=>{i.arrowNavigation&&(Q.value[se]=Au(Ee),T(Q.value,"monthYear"))},ce=le(()=>{var Ee,se;return[{type:Bp.month,index:1,toggle:J,modelValue:H.value,updateModelValue:oe=>H.value=oe,text:q.value.text,showSelectionGrid:N.value,items:W.value,ariaLabel:(Ee=l.value)==null?void 0:Ee.openMonthsOverlay},{type:Bp.year,index:2,toggle:te,modelValue:K.value,updateModelValue:oe=>K.value=oe,text:_te(i.year,i.locale),showSelectionGrid:z.value,items:ee.value,ariaLabel:(se=l.value)==null?void 0:se.openYearsOverlay}]}),ye=le(()=>i.disableYearSelect?[ce.value[0]]:i.yearFirst?[...ce.value].reverse():ce.value);return e({toggleMonthPicker:J,toggleYearPicker:te,handleMonthYearChange:E}),(Ee,se)=>{var oe,_e,Ue;return X(),ve("div",$ye,[Ee.$slots["month-year"]?(X(),ve("div",Vye,[kt(Ee.$slots,"month-year",uo(nu({month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:S(I),handleMonthYearChange:S(E),instance:t.instance})))])):(X(),ve(Vn,{key:1},[Ee.$slots["top-extra"]?(X(),ve("div",Hye,[kt(Ee.$slots,"top-extra",{value:Ee.internalModelValue})])):bt("",!0),pe("div",Qye,[S(F)(S(c),t.instance)&&!Ee.vertical?(X(),Ut(z4,{key:0,"aria-label":(oe=S(l))==null?void 0:oe.prevMonth,disabled:S(P)(!1),onActivate:se[0]||(se[0]=Le=>S(E)(!1,!0)),onSetRef:se[1]||(se[1]=Le=>he(Le,0))},{default:xt(()=>[Ee.$slots["arrow-left"]?kt(Ee.$slots,"arrow-left",{key:0}):bt("",!0),Ee.$slots["arrow-left"]?bt("",!0):(X(),Ut(S(tN),{key:1}))]),_:3},8,["aria-label","disabled"])):bt("",!0),pe("div",{class:Se(["dp__month_year_wrap",{dp__year_disable_select:Ee.disableYearSelect}])},[(X(!0),ve(Vn,null,Yr(ye.value,(Le,be)=>(X(),ve(Vn,{key:Le.type},[pe("button",{ref_for:!0,ref:Re=>he(Re,be+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":Le.ariaLabel,"data-test":`${Le.type}-toggle-overlay-${t.instance}`,onClick:Le.toggle,onKeydown:Re=>S(Fh)(Re,()=>Le.toggle(),!0)},[Ee.$slots[Le.type]?kt(Ee.$slots,Le.type,{key:0,text:Le.text,value:i[Le.type]}):bt("",!0),Ee.$slots[Le.type]?bt("",!0):(X(),ve(Vn,{key:1},[wi(Cn(Le.text),1)],64))],40,jye),ht(co,{name:S(_)(Le.showSelectionGrid),css:S(y)},{default:xt(()=>[Le.showSelectionGrid?(X(),Ut(S6,{key:0,items:Le.items,"arrow-navigation":Ee.arrowNavigation,"hide-navigation":Ee.hideNavigation,"is-last":Ee.autoApply&&!S(f).keepActionRow,"skip-button-ref":!1,config:Ee.config,type:Le.type,"header-refs":[],"esc-close":Ee.escClose,"menu-wrap-ref":Ee.menuWrapRef,"text-input":Ee.textInput,"aria-labels":Ee.ariaLabels,onSelected:Le.updateModelValue,onToggle:Le.toggle},Ro({"button-icon":xt(()=>[Ee.$slots["calendar-icon"]?kt(Ee.$slots,"calendar-icon",{key:0}):bt("",!0),Ee.$slots["calendar-icon"]?bt("",!0):(X(),Ut(S(E2),{key:1}))]),_:2},[Ee.$slots[`${Le.type}-overlay-value`]?{name:"item",fn:xt(({item:Re})=>[kt(Ee.$slots,`${Le.type}-overlay-value`,{text:Re.text,value:Re.value})]),key:"0"}:void 0,Ee.$slots[`${Le.type}-overlay`]?{name:"overlay",fn:xt(()=>[kt(Ee.$slots,`${Le.type}-overlay`,Xr({ref_for:!0},ie.value(Le.type)))]),key:"1"}:void 0,Ee.$slots[`${Le.type}-overlay-header`]?{name:"header",fn:xt(()=>[kt(Ee.$slots,`${Le.type}-overlay-header`,{toggle:Le.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","onSelected","onToggle"])):bt("",!0)]),_:2},1032,["name","css"])],64))),128))],2),S(F)(S(c),t.instance)&&Ee.vertical?(X(),Ut(z4,{key:1,"aria-label":(_e=S(l))==null?void 0:_e.prevMonth,disabled:S(P)(!1),onActivate:se[2]||(se[2]=Le=>S(E)(!1,!0))},{default:xt(()=>[Ee.$slots["arrow-up"]?kt(Ee.$slots,"arrow-up",{key:0}):bt("",!0),Ee.$slots["arrow-up"]?bt("",!0):(X(),Ut(S(iN),{key:1}))]),_:3},8,["aria-label","disabled"])):bt("",!0),S(R)(S(c),t.instance)?(X(),Ut(z4,{key:2,ref:"rightIcon",disabled:S(P)(!0),"aria-label":(Ue=S(l))==null?void 0:Ue.nextMonth,onActivate:se[3]||(se[3]=Le=>S(E)(!0,!0)),onSetRef:se[4]||(se[4]=Le=>he(Le,Ee.disableYearSelect?2:3))},{default:xt(()=>[Ee.$slots[Ee.vertical?"arrow-down":"arrow-right"]?kt(Ee.$slots,Ee.vertical?"arrow-down":"arrow-right",{key:0}):bt("",!0),Ee.$slots[Ee.vertical?"arrow-down":"arrow-right"]?bt("",!0):(X(),Ut(di(Ee.vertical?S(aN):S(nN)),{key:1}))]),_:3},8,["disabled","aria-label"])):bt("",!0)])],64))])}}}),Kye=["aria-label"],Wye={class:"dp__calendar_header",role:"row"},qye={key:0,class:"dp__calendar_header_item",role:"gridcell"},Yye=["aria-label"],Xye=pe("div",{class:"dp__calendar_header_separator"},null,-1),Zye=["aria-label"],Jye={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},ebe={class:"dp__cell_inner"},tbe=["id","aria-selected","aria-disabled","aria-label","data-test","onClick","onKeydown","onMouseenter","onMouseleave","onMousedown"],nbe=Be({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Zp},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMultiLevelMatrix:s}=f1(),{defaultedTransitions:l,defaultedConfig:c,defaultedAriaLabels:a,defaultedMultiCalendars:f,defaultedWeekNumbers:A,defaultedMultiDates:m}=Yo(i),_=Te(null),y=Te({bottom:"",left:"",transform:""}),T=Te([]),E=Te(null),P=Te(!0),I=Te(""),F=Te({startX:0,endX:0,startY:0,endY:0}),R=Te([]),N=Te({left:"50%"}),z=Te(!1),Q=le(()=>i.calendar?i.calendar(i.mappedDates):i.mappedDates),j=le(()=>i.dayNames?Array.isArray(i.dayNames)?i.dayNames:i.dayNames(i.locale,+i.weekStart):P_e(i.formatLocale,i.locale,+i.weekStart));kr(()=>{r("mount",{cmp:"calendar",refs:T}),c.value.noSwipe||E.value&&(E.value.addEventListener("touchstart",he,{passive:!1}),E.value.addEventListener("touchend",ce,{passive:!1}),E.value.addEventListener("touchmove",ye,{passive:!1})),i.monthChangeOnScroll&&E.value&&E.value.addEventListener("wheel",oe,{passive:!1})});const H=Qe=>Qe?i.vertical?"vNext":"next":i.vertical?"vPrevious":"previous",K=(Qe,Je)=>{if(i.transitions){const nt=rh(Dg(xr(),i.month,i.year));I.value=Cl(rh(Dg(xr(),Qe,Je)),nt)?l.value[H(!0)]:l.value[H(!1)],P.value=!1,dr(()=>{P.value=!0})}},ie=le(()=>({[i.calendarClassName]:!!i.calendarClassName})),q=le(()=>Qe=>{const Je=k_e(Qe);return{dp__marker_dot:Je.type==="dot",dp__marker_line:Je.type==="line"}}),W=le(()=>Qe=>ns(Qe,_.value)),ee=le(()=>({dp__calendar:!0,dp__calendar_next:f.value.count>0&&i.instance!==0})),ue=le(()=>Qe=>i.hideOffsetDates?Qe.current:!0),J=async(Qe,Je,nt)=>{const Ve=Au(T.value[Je][nt]);if(Ve){const{width:Pe,height:Ge}=Ve.getBoundingClientRect();_.value=Qe.value;let Ne={left:`${Pe/2}px`},je=-50;if(await dr(),R.value[0]){const{left:Ye,width:vt}=R.value[0].getBoundingClientRect();Ye<0&&(Ne={left:"0"},je=0,N.value.left=`${Pe/2}px`),window.innerWidth<Ye+vt&&(Ne={right:"0"},je=0,N.value.left=`${vt-Pe/2}px`)}y.value={bottom:`${Ge}px`,...Ne,transform:`translateX(${je}%)`},r("tooltip-open",Qe.marker)}},te=async(Qe,Je,nt)=>{var Ve,Pe;if(z.value&&m.value.enabled&&m.value.dragSelect)return r("select-date",Qe);r("set-hover-date",Qe),(Pe=(Ve=Qe.marker)==null?void 0:Ve.tooltip)!=null&&Pe.length&&await J(Qe,Je,nt)},ne=Qe=>{_.value&&(_.value=null,y.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",Qe.marker))},he=Qe=>{F.value.startX=Qe.changedTouches[0].screenX,F.value.startY=Qe.changedTouches[0].screenY},ce=Qe=>{F.value.endX=Qe.changedTouches[0].screenX,F.value.endY=Qe.changedTouches[0].screenY,Ee()},ye=Qe=>{i.vertical&&!i.inline&&Qe.preventDefault()},Ee=()=>{const Qe=i.vertical?"Y":"X";Math.abs(F.value[`start${Qe}`]-F.value[`end${Qe}`])>10&&r("handle-swipe",F.value[`start${Qe}`]>F.value[`end${Qe}`]?"right":"left")},se=(Qe,Je,nt)=>{Qe&&(Array.isArray(T.value[Je])?T.value[Je][nt]=Qe:T.value[Je]=[Qe]),i.arrowNavigation&&s(T.value,"calendar")},oe=Qe=>{i.monthChangeOnScroll&&(Qe.preventDefault(),r("handle-scroll",Qe))},_e=Qe=>A.value.type==="local"?ZD(Qe.value,{weekStartsOn:+i.weekStart}):A.value.type==="iso"?YD(Qe.value):typeof A.value.type=="function"?A.value.type(Qe.value):"",Ue=Qe=>{const Je=Qe[0];return A.value.hideOnOffsetDates?Qe.some(nt=>nt.current)?_e(Je):"":_e(Je)},Le=(Qe,Je)=>{m.value.enabled||(Uv(Qe,c.value),r("select-date",Je))},be=Qe=>{Uv(Qe,c.value)},Re=Qe=>{m.value.enabled&&m.value.dragSelect?(z.value=!0,r("select-date",Qe)):m.value.enabled&&r("select-date",Qe)};return e({triggerTransition:K}),(Qe,Je)=>{var nt;return X(),ve("div",{class:Se(ee.value)},[pe("div",{ref_key:"calendarWrapRef",ref:E,role:"grid",class:Se(ie.value),"aria-label":(nt=S(a))==null?void 0:nt.calendarWrap},[pe("div",Wye,[Qe.weekNumbers?(X(),ve("div",qye,Cn(Qe.weekNumName),1)):bt("",!0),(X(!0),ve(Vn,null,Yr(j.value,(Ve,Pe)=>{var Ge,Ne;return X(),ve("div",{key:Pe,class:"dp__calendar_header_item",role:"gridcell","data-test":"calendar-header","aria-label":(Ne=(Ge=S(a))==null?void 0:Ge.weekDay)==null?void 0:Ne.call(Ge,Pe)},[Qe.$slots["calendar-header"]?kt(Qe.$slots,"calendar-header",{key:0,day:Ve,index:Pe}):bt("",!0),Qe.$slots["calendar-header"]?bt("",!0):(X(),ve(Vn,{key:1},[wi(Cn(Ve),1)],64))],8,Yye)}),128))]),Xye,ht(co,{name:I.value,css:!!Qe.transitions},{default:xt(()=>{var Ve;return[P.value?(X(),ve("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((Ve=S(a))==null?void 0:Ve.calendarDays)||void 0,onMouseleave:Je[1]||(Je[1]=Pe=>z.value=!1)},[(X(!0),ve(Vn,null,Yr(Q.value,(Pe,Ge)=>(X(),ve("div",{key:Ge,class:"dp__calendar_row",role:"row"},[Qe.weekNumbers?(X(),ve("div",Jye,[pe("div",ebe,Cn(Ue(Pe.days)),1)])):bt("",!0),(X(!0),ve(Vn,null,Yr(Pe.days,(Ne,je)=>{var Ye,vt,Lt;return X(),ve("div",{id:S(Tte)(Ne.value),ref_for:!0,ref:Et=>se(Et,Ge,je),key:je+Ge,role:"gridcell",class:"dp__calendar_item","aria-selected":(Ne.classData.dp__active_date||Ne.classData.dp__range_start||Ne.classData.dp__range_start)??void 0,"aria-disabled":Ne.classData.dp__cell_disabled||void 0,"aria-label":(vt=(Ye=S(a))==null?void 0:Ye.day)==null?void 0:vt.call(Ye,Ne),tabindex:"0","data-test":Ne.value,onClick:Fr(Et=>Le(Et,Ne),["prevent"]),onKeydown:Et=>S(Fh)(Et,()=>Qe.$emit("select-date",Ne)),onMouseenter:Et=>te(Ne,Ge,je),onMouseleave:Et=>ne(Ne),onMousedown:Et=>Re(Ne),onMouseup:Je[0]||(Je[0]=Et=>z.value=!1)},[pe("div",{class:Se(["dp__cell_inner",Ne.classData])},[Qe.$slots.day&&ue.value(Ne)?kt(Qe.$slots,"day",{key:0,day:+Ne.text,date:Ne.value}):bt("",!0),Qe.$slots.day?bt("",!0):(X(),ve(Vn,{key:1},[wi(Cn(Ne.text),1)],64)),Ne.marker&&ue.value(Ne)?(X(),ve(Vn,{key:2},[Qe.$slots.marker?kt(Qe.$slots,"marker",{key:0,marker:Ne.marker,day:+Ne.text,date:Ne.value}):(X(),ve("div",{key:1,class:Se(q.value(Ne.marker)),style:or(Ne.marker.color?{backgroundColor:Ne.marker.color}:{})},null,6))],64)):bt("",!0),W.value(Ne.value)?(X(),ve("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:R,class:"dp__marker_tooltip",style:or(y.value)},[(Lt=Ne.marker)!=null&&Lt.tooltip?(X(),ve("div",{key:0,class:"dp__tooltip_content",onClick:be},[(X(!0),ve(Vn,null,Yr(Ne.marker.tooltip,(Et,Vt)=>(X(),ve("div",{key:Vt,class:"dp__tooltip_text"},[Qe.$slots["marker-tooltip"]?kt(Qe.$slots,"marker-tooltip",{key:0,tooltip:Et,day:Ne.value}):bt("",!0),Qe.$slots["marker-tooltip"]?bt("",!0):(X(),ve(Vn,{key:1},[pe("div",{class:"dp__tooltip_mark",style:or(Et.color?{backgroundColor:Et.color}:{})},null,4),pe("div",null,Cn(Et.text),1)],64))]))),128)),pe("div",{class:"dp__arrow_bottom_tp",style:or(N.value)},null,4)])):bt("",!0)],4)):bt("",!0)],2)],40,tbe)}),128))]))),128))],40,Zye)):bt("",!0)]}),_:3},8,["name","css"])],10,Kye)],2)}}}),bj=t=>Array.isArray(t),rbe=(t,e,n,r)=>{const i=Te([]),s=Te(new Date),l=Te(),{modelValue:c,calendars:a,time:f,today:A}=B6(t,e),{defaultedMultiCalendars:m,defaultedStartTime:_,defaultedRange:y,defaultedConfig:T,defaultedTz:E,propDates:P,defaultedMultiDates:I}=Yo(t),{validateMonthYearInRange:F,isDisabled:R,isDateRangeAllowed:N,checkMinMaxRange:z}=p1(t),{updateTimeValues:Q,getSetDateTime:j,setTime:H,assignStartTime:K,validateTime:ie,disabledTimesConfig:q}=kte(t,f,c,r),W=le(()=>at=>a.value[at]?a.value[at].month:0),ee=le(()=>at=>a.value[at]?a.value[at].year:0),ue=at=>!T.value.keepViewOnOffsetClick||at?!0:!l.value,J=(at,et,St,sn=!1)=>{var bn,gr;ue(sn)&&(a.value[at]||(a.value[at]={month:0,year:0}),a.value[at].month=mj(et)?(bn=a.value[at])==null?void 0:bn.month:et,a.value[at].year=mj(St)?(gr=a.value[at])==null?void 0:gr.year:St)},te=()=>{t.autoApply&&e("select-date")};un(c,(at,et)=>{JSON.stringify(at)!==JSON.stringify(et)&&ce()},{deep:!0}),kr(()=>{t.shadow||(c.value||(Je(),_.value&&K(_.value)),ce(!0),t.focusStartDate&&t.startDate&&Je())});const ne=le(()=>{var at;return(at=t.flow)!=null&&at.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),he=()=>{t.autoApply&&ne.value&&e("auto-apply")},ce=(at=!1)=>{if(c.value)return Array.isArray(c.value)?(i.value=c.value,Le(at)):se(c.value,at);if(m.value.count&&at&&!t.startDate)return Ee(xr(),at)},ye=()=>Array.isArray(c.value)&&y.value.enabled?Xa(c.value[0])===Xa(c.value[1]??c.value[0]):!1,Ee=(at,et=!1)=>{if((!m.value.count||!m.value.static||et)&&J(0,Xa(at),Ra(at)),m.value.count&&(!m.value.solo||!c.value||ye()))for(let St=1;St<m.value.count;St++){const sn=lo(xr(),{month:W.value(St-1),year:ee.value(St-1)}),bn=Wee(sn,{months:1});a.value[St]={month:Xa(bn),year:Ra(bn)}}},se=(at,et)=>{Ee(at),H("hours",Wg(at)),H("minutes",Kv(at)),H("seconds",jw(at)),m.value.count&&et&&Qe()},oe=at=>{if(m.value.count){if(m.value.solo)return 0;const et=Xa(at[0]),St=Xa(at[1]);return Math.abs(St-et)<m.value.count?0:1}return 1},_e=(at,et)=>{at[1]&&y.value.showLastInRange?Ee(at[oe(at)],et):Ee(at[0],et);const St=(sn,bn)=>[sn(at[0]),at[1]?sn(at[1]):f[bn][1]];H("hours",St(Wg,"hours")),H("minutes",St(Kv,"minutes")),H("seconds",St(jw,"seconds"))},Ue=(at,et)=>{if((y.value.enabled||t.weekPicker)&&!I.value.enabled)return _e(at,et);if(I.value.enabled&&et){const St=at[at.length-1];return se(St,et)}},Le=at=>{const et=c.value;Ue(et,at),m.value.count&&m.value.solo&&Qe()},be=(at,et)=>{const St=lo(xr(),{month:W.value(et),year:ee.value(et)}),sn=at<0?$p(St,1):Kw(St,1);F(Xa(sn),Ra(sn),at<0,t.preventMinMaxNavigation)&&(J(et,Xa(sn),Ra(sn)),e("update-month-year",{instance:et,month:Xa(sn),year:Ra(sn)}),m.value.count&&!m.value.solo&&Re(et),n())},Re=at=>{for(let et=at-1;et>=0;et--){const St=Kw(lo(xr(),{month:W.value(et+1),year:ee.value(et+1)}),1);J(et,Xa(St),Ra(St))}for(let et=at+1;et<=m.value.count-1;et++){const St=$p(lo(xr(),{month:W.value(et-1),year:ee.value(et-1)}),1);J(et,Xa(St),Ra(St))}},Qe=()=>{if(Array.isArray(c.value)&&c.value.length===2){const at=xr(xr(c.value[1]?c.value[1]:$p(c.value[0],1))),[et,St]=[Xa(c.value[0]),Ra(c.value[0])],[sn,bn]=[Xa(c.value[1]),Ra(c.value[1])];(et!==sn||et===sn&&St!==bn)&&m.value.solo&&J(1,Xa(at),Ra(at))}else c.value&&!Array.isArray(c.value)&&(J(0,Xa(c.value),Ra(c.value)),Ee(xr()))},Je=()=>{t.startDate&&(J(0,Xa(xr(t.startDate)),Ra(xr(t.startDate))),m.value.count&&Re(0))},nt=(at,et)=>{if(t.monthChangeOnScroll){const St=new Date().getTime()-s.value.getTime(),sn=Math.abs(at.deltaY);let bn=500;sn>1&&(bn=100),sn>100&&(bn=0),St>bn&&(s.value=new Date,be(t.monthChangeOnScroll!=="inverse"?-at.deltaY:at.deltaY,et))}},Ve=(at,et,St=!1)=>{t.monthChangeOnArrows&&t.vertical===St&&Pe(at,et)},Pe=(at,et)=>{be(at==="right"?-1:1,et)},Ge=at=>{if(P.value.markers)return fT(at.value,P.value.markers)},Ne=(at,et)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[at==0,!0];case"fair":return[at==0||et>at,!0];case"append":return[!1,!1];default:return[!1,!1]}},je=(at,et,St,sn)=>{if(t.sixWeeks&&at.length<6){const bn=6-at.length,gr=(et.getDay()+7-sn)%7,tr=6-(St.getDay()+7-sn)%7,[Nn,lr]=Ne(gr,tr);for(let Qr=1;Qr<=bn;Qr++)if(lr?!!(Qr%2)==Nn:Nn){const xi=at[0].days[0],ai=Ye(Dp(xi.value,-7),Xa(et));at.unshift({days:ai})}else{const xi=at[at.length-1],ai=xi.days[xi.days.length-1],zi=Ye(Dp(ai.value,1),Xa(et));at.push({days:zi})}}return at},Ye=(at,et)=>{const St=xr(at),sn=[];for(let bn=0;bn<7;bn++){const gr=Dp(St,bn),tr=Xa(gr)!==et;sn.push({text:t.hideOffsetDates&&tr?"":gr.getDate(),value:gr,current:!tr,classData:{}})}return sn},vt=(at,et)=>{const St=[],sn=new Date(et,at),bn=new Date(et,at+1,0),gr=t.weekStart,tr=jp(sn,{weekStartsOn:gr}),Nn=lr=>{const Qr=Ye(lr,at);if(St.push({days:Qr}),!St[St.length-1].days.some(xi=>ns(rh(xi.value),rh(bn)))){const xi=Dp(lr,7);Nn(xi)}};return Nn(tr),je(St,sn,bn,gr)},Lt=at=>{const et=zv(xr(at.value),f.hours,f.minutes,wt());e("date-update",et),I.value.enabled?hN(et,c,I.value.limit):c.value=et,r(),dr().then(()=>{he()})},Et=at=>y.value.noDisabledRange?wte(i.value[0],at).some(et=>R(et)):!1,Vt=()=>{i.value=c.value?c.value.slice():[],i.value.length===2&&!(y.value.fixedStart||y.value.fixedEnd)&&(i.value=[])},_t=(at,et)=>{const St=[xr(at.value),Dp(xr(at.value),+y.value.autoRange)];N(St)?(et&&qt(at.value),i.value=St):e("invalid-date",at.value)},qt=at=>{const et=Xa(xr(at)),St=Ra(xr(at));if(J(0,et,St),m.value.count>0)for(let sn=1;sn<m.value.count;sn++){const bn=V_e(lo(xr(at),{year:W.value(sn-1),month:ee.value(sn-1)}));J(sn,bn.month,bn.year)}},tn=at=>{if(Et(at.value)||!z(at.value,c.value,y.value.fixedStart?0:1))return e("invalid-date",at.value);i.value=Lte(xr(at.value),c,e,y)},Nt=(at,et)=>{if(Vt(),y.value.autoRange)return _t(at,et);if(y.value.fixedStart||y.value.fixedEnd)return tn(at);i.value[0]?z(xr(at.value),c.value)&&!Et(at.value)?ll(xr(at.value),xr(i.value[0]))?(i.value.unshift(xr(at.value)),e("range-end",i.value[0])):(i.value[1]=xr(at.value),e("range-end",i.value[1])):(t.autoApply&&e("auto-apply-invalid",at.value),e("invalid-date",at.value)):(i.value[0]=xr(at.value),e("range-start",i.value[0]))},wt=(at=!0)=>t.enableSeconds?Array.isArray(f.seconds)?at?f.seconds[0]:f.seconds[1]:f.seconds:0,De=at=>{i.value[at]=zv(i.value[at],f.hours[at],f.minutes[at],wt(at!==1))},We=()=>{var at,et;i.value[0]&&i.value[1]&&+((at=i.value)==null?void 0:at[0])>+((et=i.value)==null?void 0:et[1])&&(i.value.reverse(),e("range-start",i.value[0]),e("range-end",i.value[1]))},ut=()=>{i.value.length&&(i.value[0]&&!i.value[1]?De(0):(De(0),De(1),r()),We(),c.value=i.value.slice(),$8(i.value,e,t.autoApply,t.modelAuto))},It=(at,et=!1)=>{if(R(at.value)||!at.current&&t.hideOffsetDates)return e("invalid-date",at.value);if(l.value=JSON.parse(JSON.stringify(at)),!y.value.enabled)return Lt(at);bj(f.hours)&&bj(f.minutes)&&!I.value.enabled&&(Nt(at,et),ut())},Xe=(at,et)=>{var St;J(at,et.month,et.year,!0),m.value.count&&!m.value.solo&&Re(at),e("update-month-year",{instance:at,month:et.month,year:et.year}),n(m.value.solo?at:void 0);const sn=(St=t.flow)!=null&&St.length?t.flow[t.flowStep]:void 0;!et.fromNav&&(sn===Tc.month||sn===Tc.year)&&r()},Pt=(at,et)=>{Ite({value:at,modelValue:c,range:y.value.enabled,timezone:et?void 0:E.value.timezone}),te(),t.multiCalendars&&dr().then(()=>ce(!0))},Bt=()=>{const at=sN(xr(),E.value);y.value.enabled?c.value&&Array.isArray(c.value)&&c.value[0]?c.value=ll(at,c.value[0])?[at,c.value[0]]:[c.value[0],at]:c.value=[at]:c.value=at,te()},it=()=>{if(Array.isArray(c.value))if(I.value.enabled){const at=Mt();c.value[c.value.length-1]=j(at)}else c.value=c.value.map((at,et)=>at&&j(at,et));else c.value=j(c.value);e("time-update")},Mt=()=>Array.isArray(c.value)&&c.value.length?c.value[c.value.length-1]:null;return{calendars:a,modelValue:c,month:W,year:ee,time:f,disabledTimesConfig:q,today:A,validateTime:ie,getCalendarDays:vt,getMarker:Ge,handleScroll:nt,handleSwipe:Pe,handleArrow:Ve,selectDate:It,updateMonthYear:Xe,presetDate:Pt,selectCurrentDate:Bt,updateTime:(at,et=!0,St=!1)=>{Q(at,et,St,it)}}},ibe={key:0},abe=Be({__name:"DatePicker",props:{...Zp},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,{calendars:s,month:l,year:c,modelValue:a,time:f,disabledTimesConfig:A,today:m,validateTime:_,getCalendarDays:y,getMarker:T,handleArrow:E,handleScroll:P,handleSwipe:I,selectDate:F,updateMonthYear:R,presetDate:N,selectCurrentDate:z,updateTime:Q}=rbe(i,r,ye,Ee),j=Eo(),{setHoverDate:H,getDayClassData:K,clearHoverDate:ie}=bbe(a,i),{defaultedMultiCalendars:q}=Yo(i),W=Te([]),ee=Te([]),ue=Te(null),J=Fd(j,"calendar"),te=Fd(j,"monthYear"),ne=Fd(j,"timePicker"),he=nt=>{i.shadow||r("mount",nt)};un(s,()=>{i.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const ce=le(()=>nt=>y(l.value(nt),c.value(nt)).map(Ve=>({...Ve,days:Ve.days.map(Pe=>(Pe.marker=T(Pe),Pe.classData=K(Pe),Pe))})));function ye(nt){var Ve;nt||nt===0?(Ve=ee.value[nt])==null||Ve.triggerTransition(l.value(nt),c.value(nt)):ee.value.forEach((Pe,Ge)=>Pe.triggerTransition(l.value(Ge),c.value(Ge)))}function Ee(){r("update-flow-step")}const se=(nt,Ve=!1)=>{F(nt,Ve),i.spaceConfirm&&r("select-date")},oe=(nt,Ve,Pe=0)=>{var Ge;(Ge=W.value[Pe])==null||Ge.toggleMonthPicker(nt,Ve)},_e=(nt,Ve,Pe=0)=>{var Ge;(Ge=W.value[Pe])==null||Ge.toggleYearPicker(nt,Ve)},Ue=(nt,Ve,Pe)=>{var Ge;(Ge=ue.value)==null||Ge.toggleTimePicker(nt,Ve,Pe)},Le=(nt,Ve)=>{var Pe;if(!i.range){const Ge=a.value?a.value:m,Ne=Ve?new Date(Ve):Ge,je=nt?jp(Ne,{weekStartsOn:1}):nte(Ne,{weekStartsOn:1});F({value:je,current:Xa(Ne)===l.value(0),text:"",classData:{}}),(Pe=document.getElementById(Tte(je)))==null||Pe.focus()}},be=nt=>{var Ve;(Ve=W.value[0])==null||Ve.handleMonthYearChange(nt,!0)},Re=nt=>{R(0,{month:l.value(0),year:c.value(0)+(nt?1:-1),fromNav:!0})},Qe=(nt,Ve)=>{nt===Tc.time&&r(`time-picker-${Ve?"open":"close"}`),r("overlay-toggle",{open:Ve,overlay:nt})},Je=nt=>{r("overlay-toggle",{open:!1,overlay:nt}),r("focus-menu")};return e({clearHoverDate:ie,presetDate:N,selectCurrentDate:z,toggleMonthPicker:oe,toggleYearPicker:_e,toggleTimePicker:Ue,handleArrow:E,updateMonthYear:R,getSidebarProps:()=>({modelValue:a,month:l,year:c,time:f,updateTime:Q,updateMonthYear:R,selectDate:F,presetDate:N}),changeMonth:be,changeYear:Re,selectWeekDate:Le}),(nt,Ve)=>(X(),ve(Vn,null,[ht(z8,{"multi-calendars":S(q).count,collapse:nt.collapse},{default:xt(({instance:Pe,index:Ge})=>[nt.disableMonthYearSelect?bt("",!0):(X(),Ut(Gye,Xr({key:0,ref:Ne=>{Ne&&(W.value[Ge]=Ne)},months:S(mte)(nt.formatLocale,nt.locale,nt.monthNameFormat),years:S(oN)(nt.yearRange,nt.locale,nt.reverseYears),month:S(l)(Pe),year:S(c)(Pe),instance:Pe},nt.$props,{onMount:Ve[0]||(Ve[0]=Ne=>he(S(D_).header)),onResetFlow:Ve[1]||(Ve[1]=Ne=>nt.$emit("reset-flow")),onUpdateMonthYear:Ne=>S(R)(Pe,Ne),onOverlayClosed:Je,onOverlayOpened:Ve[2]||(Ve[2]=Ne=>nt.$emit("overlay-toggle",{open:!0,overlay:Ne}))}),Ro({_:2},[Yr(S(te),(Ne,je)=>({name:Ne,fn:xt(Ye=>[kt(nt.$slots,Ne,uo(nu(Ye)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),ht(nbe,Xr({ref:Ne=>{Ne&&(ee.value[Ge]=Ne)},"mapped-dates":ce.value(Pe),month:S(l)(Pe),year:S(c)(Pe),instance:Pe},nt.$props,{onSelectDate:Ne=>S(F)(Ne,Pe!==1),onHandleSpace:Ne=>se(Ne,Pe!==1),onSetHoverDate:Ve[3]||(Ve[3]=Ne=>S(H)(Ne)),onHandleScroll:Ne=>S(P)(Ne,Pe),onHandleSwipe:Ne=>S(I)(Ne,Pe),onMount:Ve[4]||(Ve[4]=Ne=>he(S(D_).calendar)),onResetFlow:Ve[5]||(Ve[5]=Ne=>nt.$emit("reset-flow")),onTooltipOpen:Ve[6]||(Ve[6]=Ne=>nt.$emit("tooltip-open",Ne)),onTooltipClose:Ve[7]||(Ve[7]=Ne=>nt.$emit("tooltip-close",Ne))}),Ro({_:2},[Yr(S(J),(Ne,je)=>({name:Ne,fn:xt(Ye=>[kt(nt.$slots,Ne,uo(nu({...Ye})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse"]),nt.enableTimePicker?(X(),ve("div",ibe,[nt.$slots["time-picker"]?kt(nt.$slots,"time-picker",uo(Xr({key:0},{time:S(f),updateTime:S(Q)}))):(X(),Ut(Fte,Xr({key:1,ref_key:"timePickerRef",ref:ue},nt.$props,{hours:S(f).hours,minutes:S(f).minutes,seconds:S(f).seconds,"internal-model-value":nt.internalModelValue,"disabled-times-config":S(A),"validate-time":S(_),onMount:Ve[8]||(Ve[8]=Pe=>he(S(D_).timePicker)),"onUpdate:hours":Ve[9]||(Ve[9]=Pe=>S(Q)(Pe)),"onUpdate:minutes":Ve[10]||(Ve[10]=Pe=>S(Q)(Pe,!1)),"onUpdate:seconds":Ve[11]||(Ve[11]=Pe=>S(Q)(Pe,!1,!0)),onResetFlow:Ve[12]||(Ve[12]=Pe=>nt.$emit("reset-flow")),onOverlayClosed:Ve[13]||(Ve[13]=Pe=>Qe(Pe,!1)),onOverlayOpened:Ve[14]||(Ve[14]=Pe=>Qe(Pe,!0)),onAmPmChange:Ve[15]||(Ve[15]=Pe=>nt.$emit("am-pm-change",Pe))}),Ro({_:2},[Yr(S(ne),(Pe,Ge)=>({name:Pe,fn:xt(Ne=>[kt(nt.$slots,Pe,uo(nu(Ne)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):bt("",!0)],64))}}),sbe=(t,e)=>{const n=Te(),{defaultedMultiCalendars:r,defaultedConfig:i,defaultedHighlight:s,defaultedRange:l,propDates:c,defaultedFilters:a,defaultedMultiDates:f}=Yo(t),{modelValue:A,year:m,month:_,calendars:y}=B6(t,e),{isDisabled:T}=p1(t),{selectYear:E,groupedYears:P,showYearPicker:I,isDisabled:F,toggleYearPicker:R,handleYearSelect:N,handleYear:z}=Pte({modelValue:A,multiCalendars:r,range:l,highlight:s,calendars:y,propDates:c,month:_,year:m,filters:a,props:t,emit:e}),Q=(J,te)=>[J,te].map(ne=>im(ne,"MMMM",{locale:t.formatLocale})).join("-"),j=le(()=>J=>A.value?Array.isArray(A.value)?A.value.some(te=>fj(J,te)):fj(A.value,J):!1),H=J=>{if(l.value.enabled){if(Array.isArray(A.value)){const te=ns(J,A.value[0])||ns(J,A.value[1]);return N8(A.value,n.value,J)&&!te}return!1}return!1},K=(J,te)=>J.quarter===oj(te)&&J.year===Ra(te),ie=J=>typeof s.value=="function"?s.value({quarter:oj(J),year:Ra(J)}):!!s.value.quarters.find(te=>K(te,J)),q=le(()=>J=>{const te=lo(new Date,{year:m.value(J)});return Fve({start:qD(te),end:tte(te)}).map(ne=>{const he=x_(ne),ce=lj(ne),ye=T(ne),Ee=H(he),se=ie(he);return{text:Q(he,ce),value:he,active:j.value(he),highlighted:se,disabled:ye,isBetween:Ee}})}),W=J=>{hN(J,A,f.value.limit),e("auto-apply",!0)},ee=J=>{A.value=dN(A,J,e),$8(A.value,e,t.autoApply,t.modelAuto)},ue=J=>{A.value=J,e("auto-apply")};return{defaultedConfig:i,defaultedMultiCalendars:r,groupedYears:P,year:m,isDisabled:F,quarters:q,showYearPicker:I,modelValue:A,setHoverDate:J=>{n.value=J},selectYear:E,selectQuarter:(J,te,ne)=>{if(!ne)return y.value[te].month=Xa(lj(J)),f.value.enabled?W(J):l.value.enabled?ee(J):ue(J)},toggleYearPicker:R,handleYearSelect:N,handleYear:z}},obe={class:"dp--quarter-items"},lbe=["data-test","disabled","onClick","onMouseover"],ube=Be({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Zp},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end","overlay-toggle","update-month-year"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Eo(),l=Fd(s,"yearMode"),{defaultedMultiCalendars:c,defaultedConfig:a,groupedYears:f,year:A,isDisabled:m,quarters:_,modelValue:y,showYearPicker:T,setHoverDate:E,selectQuarter:P,toggleYearPicker:I,handleYearSelect:F,handleYear:R}=sbe(i,r);return e({getSidebarProps:()=>({modelValue:y,year:A,selectQuarter:P,handleYearSelect:F,handleYear:R})}),(N,z)=>(X(),Ut(z8,{"multi-calendars":S(c).count,collapse:N.collapse,stretch:""},{default:xt(({instance:Q})=>[pe("div",{class:"dp-quarter-picker-wrap",style:or({minHeight:`${S(a).modeHeight}px`})},[N.$slots["top-extra"]?kt(N.$slots,"top-extra",{key:0,value:N.internalModelValue}):bt("",!0),pe("div",null,[ht(Mte,Xr(N.$props,{items:S(f)(Q),instance:Q,"show-year-picker":S(T)[Q],year:S(A)(Q),"is-disabled":j=>S(m)(Q,j),onHandleYear:j=>S(R)(Q,j),onYearSelect:j=>S(F)(j,Q),onToggleYearPicker:j=>S(I)(Q,j==null?void 0:j.flow,j==null?void 0:j.show)}),Ro({_:2},[Yr(S(l),(j,H)=>({name:j,fn:xt(K=>[kt(N.$slots,j,uo(nu(K)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),pe("div",obe,[(X(!0),ve(Vn,null,Yr(S(_)(Q),(j,H)=>(X(),ve("div",{key:H},[pe("button",{type:"button",class:Se(["dp--qr-btn",{"dp--qr-btn-active":j.active,"dp--qr-btn-between":j.isBetween,"dp--qr-btn-disabled":j.disabled,"dp--highlighted":j.highlighted}]),"data-test":j.value,disabled:j.disabled,onClick:K=>S(P)(j.value,Q,j.disabled),onMouseover:K=>S(E)(j.value)},[N.$slots.quarter?kt(N.$slots,"quarter",{key:0,value:j.value,text:j.text}):(X(),ve(Vn,{key:1},[wi(Cn(j.text),1)],64))],42,lbe)]))),128))])],4)]),_:3},8,["multi-calendars","collapse"]))}}),cbe=["id","aria-label"],hbe={key:0,class:"dp--menu-load-container"},dbe=pe("span",{class:"dp--menu-loader"},null,-1),fbe=[dbe],pbe={key:0,class:"dp__sidebar_left"},Abe=["data-test","onClick","onKeydown"],mbe={key:2,class:"dp__sidebar_right"},gbe={key:3,class:"dp__action_extra"},wj=Be({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...U8,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Te(null),l=le(()=>{const{openOnTop:Ye,...vt}=i;return{...vt,flowStep:H.value,collapse:i.collapse,noOverlayFocus:i.noOverlayFocus,menuWrapRef:s.value}}),{setMenuFocused:c,setShiftKey:a,control:f}=Bte(),A=Eo(),{defaultedTextInput:m,defaultedInline:_,defaultedConfig:y}=Yo(i),T=Te(null),E=Te(0),P=Te(null),I=Te(!1),F=Te(null);kr(()=>{if(!i.shadow){I.value=!0,R(),window.addEventListener("resize",R);const Ye=Au(s);if(Ye&&!m.value.enabled&&!_.value.enabled&&(c(!0),J()),Ye){const vt=Lt=>{y.value.allowPreventDefault&&Lt.preventDefault(),Uv(Lt,y.value,!0)};Ye.addEventListener("pointerdown",vt),Ye.addEventListener("mousedown",vt)}}}),Rf(()=>{window.removeEventListener("resize",R)});const R=()=>{const Ye=Au(P);Ye&&(E.value=Ye.getBoundingClientRect().width)},{arrowRight:N,arrowLeft:z,arrowDown:Q,arrowUp:j}=f1(),{flowStep:H,updateFlowStep:K,childMount:ie,resetFlow:q,handleFlow:W}=wbe(i,r,F),ee=le(()=>i.monthPicker?bye:i.yearPicker?xye:i.timePicker?zye:i.quarterPicker?ube:abe),ue=le(()=>{var Ye;if(y.value.arrowLeft)return y.value.arrowLeft;const vt=(Ye=s.value)==null?void 0:Ye.getBoundingClientRect(),Lt=i.getInputRect();return Lt.width<E.value&&Lt.left<=((vt==null?void 0:vt.left)??0)?`${Lt.width/2}px`:"50%"}),J=()=>{const Ye=Au(s);Ye&&Ye.focus({preventScroll:!0})},te=le(()=>{var Ye;return((Ye=F.value)==null?void 0:Ye.getSidebarProps())||{}}),ne=()=>{i.openOnTop&&r("recalculate-position")},he=Fd(A,"action"),ce=le(()=>i.monthPicker||i.yearPicker?Fd(A,"monthYear"):i.timePicker?Fd(A,"timePicker"):Fd(A,"shared")),ye=le(()=>i.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),Ee=le(()=>({dp__menu_disabled:i.disabled,dp__menu_readonly:i.readonly,"dp-menu-loading":i.loading})),se=le(()=>({dp__menu:!0,dp__menu_index:!_.value.enabled,dp__relative:_.value.enabled,[i.menuClassName]:!!i.menuClassName})),oe=Ye=>{Uv(Ye,y.value,!0)},_e=()=>{i.escClose&&r("close-picker")},Ue=Ye=>{if(i.arrowNavigation){if(Ye===Xc.up)return j();if(Ye===Xc.down)return Q();if(Ye===Xc.left)return z();if(Ye===Xc.right)return N()}else Ye===Xc.left||Ye===Xc.up?Je("handleArrow",Xc.left,0,Ye===Xc.up):Je("handleArrow",Xc.right,0,Ye===Xc.down)},Le=Ye=>{a(Ye.shiftKey),!i.disableMonthYearSelect&&Ye.code===Qo.tab&&Ye.target.classList.contains("dp__menu")&&f.value.shiftKeyInMenu&&(Ye.preventDefault(),Uv(Ye,y.value,!0),r("close-picker"))},be=()=>{J(),r("time-picker-close")},Re=Ye=>{var vt,Lt,Et;(vt=F.value)==null||vt.toggleTimePicker(!1,!1),(Lt=F.value)==null||Lt.toggleMonthPicker(!1,!1,Ye),(Et=F.value)==null||Et.toggleYearPicker(!1,!1,Ye)},Qe=(Ye,vt=0)=>{var Lt,Et,Vt;return Ye==="month"?(Lt=F.value)==null?void 0:Lt.toggleMonthPicker(!1,!0,vt):Ye==="year"?(Et=F.value)==null?void 0:Et.toggleYearPicker(!1,!0,vt):Ye==="time"?(Vt=F.value)==null?void 0:Vt.toggleTimePicker(!0,!1):Re(vt)},Je=(Ye,...vt)=>{var Lt,Et;(Lt=F.value)!=null&&Lt[Ye]&&((Et=F.value)==null||Et[Ye](...vt))},nt=()=>{Je("selectCurrentDate")},Ve=(Ye,vt)=>{Je("presetDate",Ye,vt)},Pe=()=>{Je("clearHoverDate")},Ge=(Ye,vt)=>{Je("updateMonthYear",Ye,vt)},Ne=(Ye,vt)=>{Ye.preventDefault(),Ue(vt)},je=Ye=>{var vt;if(Le(Ye),Ye.key===Qo.home||Ye.key===Qo.end)return Je("selectWeekDate",Ye.key===Qo.home,Ye.target.getAttribute("id"));switch((Ye.key===Qo.pageUp||Ye.key===Qo.pageDown)&&(Ye.shiftKey?Je("changeYear",Ye.key===Qo.pageUp):Je("changeMonth",Ye.key===Qo.pageUp),Ye.target.getAttribute("id")&&((vt=s.value)==null||vt.focus({preventScroll:!0}))),Ye.key){case Qo.esc:return _e();case Qo.arrowLeft:return Ne(Ye,Xc.left);case Qo.arrowRight:return Ne(Ye,Xc.right);case Qo.arrowUp:return Ne(Ye,Xc.up);case Qo.arrowDown:return Ne(Ye,Xc.down);default:return}};return e({updateMonthYear:Ge,switchView:Qe,handleFlow:W}),(Ye,vt)=>{var Lt,Et,Vt;return X(),ve("div",{id:Ye.uid?`dp-menu-${Ye.uid}`:void 0,ref_key:"dpMenuRef",ref:s,tabindex:"0",role:"dialog","aria-label":(Lt=Ye.ariaLabels)==null?void 0:Lt.menu,class:Se(se.value),style:or({"--dp-arrow-left":ue.value}),onMouseleave:Pe,onClick:oe,onKeydown:je},[(Ye.disabled||Ye.readonly)&&S(_).enabled||Ye.loading?(X(),ve("div",{key:0,class:Se(Ee.value)},[Ye.loading?(X(),ve("div",hbe,fbe)):bt("",!0)],2)):bt("",!0),!S(_).enabled&&!Ye.teleportCenter?(X(),ve("div",{key:1,class:Se(ye.value)},null,2)):bt("",!0),pe("div",{ref_key:"innerMenuRef",ref:P,class:Se({dp__menu_content_wrapper:((Et=Ye.presetDates)==null?void 0:Et.length)||!!Ye.$slots["left-sidebar"]||!!Ye.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":t.collapse&&(((Vt=Ye.presetDates)==null?void 0:Vt.length)||!!Ye.$slots["left-sidebar"]||!!Ye.$slots["right-sidebar"])}),style:or({"--dp-menu-width":`${E.value}px`})},[Ye.$slots["left-sidebar"]?(X(),ve("div",pbe,[kt(Ye.$slots,"left-sidebar",uo(nu(te.value)))])):bt("",!0),Ye.presetDates.length?(X(),ve("div",{key:1,class:Se({"dp--preset-dates-collapsed":t.collapse,"dp--preset-dates":!0})},[(X(!0),ve(Vn,null,Yr(Ye.presetDates,(_t,qt)=>(X(),ve(Vn,{key:qt},[_t.slot?kt(Ye.$slots,_t.slot,{key:0,presetDate:Ve,label:_t.label,value:_t.value}):(X(),ve("button",{key:1,type:"button",style:or(_t.style||{}),class:Se(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":t.collapse}]),"data-test":_t.testId??void 0,onClick:Fr(tn=>Ve(_t.value,_t.noTz),["prevent"]),onKeydown:tn=>S(Fh)(tn,()=>Ve(_t.value,_t.noTz),!0)},Cn(_t.label),47,Abe))],64))),128))],2)):bt("",!0),pe("div",{ref_key:"calendarWrapperRef",ref:T,class:"dp__instance_calendar",role:"document"},[(X(),Ut(di(ee.value),Xr({ref_key:"dynCmpRef",ref:F},l.value,{"flow-step":S(H),onMount:S(ie),onUpdateFlowStep:S(K),onResetFlow:S(q),onFocusMenu:J,onSelectDate:vt[0]||(vt[0]=_t=>Ye.$emit("select-date")),onDateUpdate:vt[1]||(vt[1]=_t=>Ye.$emit("date-update",_t)),onTooltipOpen:vt[2]||(vt[2]=_t=>Ye.$emit("tooltip-open",_t)),onTooltipClose:vt[3]||(vt[3]=_t=>Ye.$emit("tooltip-close",_t)),onAutoApply:vt[4]||(vt[4]=_t=>Ye.$emit("auto-apply",_t)),onRangeStart:vt[5]||(vt[5]=_t=>Ye.$emit("range-start",_t)),onRangeEnd:vt[6]||(vt[6]=_t=>Ye.$emit("range-end",_t)),onInvalidFixedRange:vt[7]||(vt[7]=_t=>Ye.$emit("invalid-fixed-range",_t)),onTimeUpdate:vt[8]||(vt[8]=_t=>Ye.$emit("time-update")),onAmPmChange:vt[9]||(vt[9]=_t=>Ye.$emit("am-pm-change",_t)),onTimePickerOpen:vt[10]||(vt[10]=_t=>Ye.$emit("time-picker-open",_t)),onTimePickerClose:be,onRecalculatePosition:ne,onUpdateMonthYear:vt[11]||(vt[11]=_t=>Ye.$emit("update-month-year",_t)),onAutoApplyInvalid:vt[12]||(vt[12]=_t=>Ye.$emit("auto-apply-invalid",_t)),onInvalidDate:vt[13]||(vt[13]=_t=>Ye.$emit("invalid-date",_t)),onOverlayToggle:vt[14]||(vt[14]=_t=>Ye.$emit("overlay-toggle",_t)),"onUpdate:internalModelValue":vt[15]||(vt[15]=_t=>Ye.$emit("update:internal-model-value",_t))}),Ro({_:2},[Yr(ce.value,(_t,qt)=>({name:_t,fn:xt(tn=>[kt(Ye.$slots,_t,uo(nu({...tn})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),Ye.$slots["right-sidebar"]?(X(),ve("div",mbe,[kt(Ye.$slots,"right-sidebar",uo(nu(te.value)))])):bt("",!0),Ye.$slots["action-extra"]?(X(),ve("div",gbe,[Ye.$slots["action-extra"]?kt(Ye.$slots,"action-extra",{key:0,selectCurrentDate:nt}):bt("",!0)])):bt("",!0)],6),!Ye.autoApply||S(y).keepActionRow?(X(),Ut(fye,Xr({key:2,"menu-mount":I.value},l.value,{"calendar-width":E.value,onClosePicker:vt[16]||(vt[16]=_t=>Ye.$emit("close-picker")),onSelectDate:vt[17]||(vt[17]=_t=>Ye.$emit("select-date")),onInvalidSelect:vt[18]||(vt[18]=_t=>Ye.$emit("invalid-select")),onSelectNow:nt}),Ro({_:2},[Yr(S(he),(_t,qt)=>({name:_t,fn:xt(tn=>[kt(Ye.$slots,_t,uo(nu({...tn})))])}))]),1040,["menu-mount","calendar-width"])):bt("",!0)],46,cbe)}}});var zb=(t=>(t.center="center",t.left="left",t.right="right",t))(zb||{});const vbe=({menuRef:t,menuRefInner:e,inputRef:n,pickerWrapperRef:r,inline:i,emit:s,props:l,slots:c})=>{const a=Te({}),f=Te(!1),A=Te({top:"0",left:"0"}),m=Te(!1),_=Oa(l,"teleportCenter");un(_,()=>{A.value=JSON.parse(JSON.stringify({})),N()});const y=J=>{if(l.teleport){const te=J.getBoundingClientRect();return{left:te.left+window.scrollX,top:te.top+window.scrollY}}return{top:0,left:0}},T=(J,te)=>{A.value.left=`${J+te-a.value.width}px`},E=J=>{A.value.left=`${J}px`},P=(J,te)=>{l.position===zb.left&&E(J),l.position===zb.right&&T(J,te),l.position===zb.center&&(A.value.left=`${J+te/2-a.value.width/2}px`)},I=J=>{const{width:te,height:ne}=J.getBoundingClientRect(),{top:he,left:ce}=l.altPosition?l.altPosition(J):y(J);return{top:+he,left:+ce,width:te,height:ne}},F=()=>{A.value.left="50%",A.value.top="50%",A.value.transform="translate(-50%, -50%)",A.value.position="fixed",delete A.value.opacity},R=()=>{const J=Au(n),{top:te,left:ne,transform:he}=l.altPosition(J);A.value={top:`${te}px`,left:`${ne}px`,transform:he??""}},N=(J=!0)=>{var te;if(!i.value.enabled){if(_.value)return F();if(l.altPosition!==null)return R();if(J){const ne=l.teleport?(te=e.value)==null?void 0:te.$el:t.value;ne&&(a.value=ne.getBoundingClientRect()),s("recalculate-position")}return q()}},z=({inputEl:J,left:te,width:ne})=>{window.screen.width>768&&!f.value&&P(te,ne),H(J)},Q=J=>{const{top:te,left:ne,height:he,width:ce}=I(J);A.value.top=`${he+te+ +l.offset}px`,m.value=!1,f.value||(A.value.left=`${ne+ce/2-a.value.width/2}px`),z({inputEl:J,left:ne,width:ce})},j=J=>{const{top:te,left:ne,width:he}=I(J);A.value.top=`${te-+l.offset-a.value.height}px`,m.value=!0,z({inputEl:J,left:ne,width:he})},H=J=>{if(l.autoPosition){const{left:te,width:ne}=I(J),{left:he,right:ce}=a.value;if(!f.value){if(Math.abs(he)!==Math.abs(ce)){if(he<=0)return f.value=!0,E(te);if(ce>=document.documentElement.clientWidth)return f.value=!0,T(te,ne)}return P(te,ne)}}},K=()=>{const J=Au(n);if(J){const{height:te}=a.value,{top:ne,height:he}=J.getBoundingClientRect(),ce=window.innerHeight-ne-he,ye=ne;return te<=ce?d_.bottom:te>ce&&te<=ye?d_.top:ce>=ye?d_.bottom:d_.top}return d_.bottom},ie=J=>K()===d_.bottom?Q(J):j(J),q=()=>{const J=Au(n);if(J)return l.autoPosition?ie(J):Q(J)},W=function(J){if(J){const te=J.scrollHeight>J.clientHeight,ne=window.getComputedStyle(J).overflowY.indexOf("hidden")!==-1;return te&&!ne}return!0},ee=function(J){return!J||J===document.body||J.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:W(J)?J:ee(J.assignedSlot?J.assignedSlot.parentNode:J.parentNode)},ue=J=>{if(J)switch(l.position){case zb.left:return{left:0,transform:"translateX(0)"};case zb.right:return{left:`${J.width}px`,transform:"translateX(-100%)"};default:return{left:`${J.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:m,menuStyle:A,xCorrect:f,setMenuPosition:N,getScrollableParent:ee,shadowRender:(J,te)=>{var ne,he,ce;const ye=document.createElement("div"),Ee=(ne=Au(n))==null?void 0:ne.getBoundingClientRect();ye.setAttribute("id","dp--temp-container");const se=(he=r.value)!=null&&he.clientWidth?r.value:document.body;se.append(ye);const oe=ue(Ee),_e=wr(J,{...te,shadow:!0,style:{opacity:0,position:"absolute",...oe}},Object.fromEntries(Object.keys(c).filter(Ue=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(Ue)).map(Ue=>[Ue,c[Ue]])));fm(_e,ye),a.value=(ce=_e.el)==null?void 0:ce.getBoundingClientRect(),fm(null,ye),se.removeChild(ye)}}},W0=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]}],_be=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],ybe={all:()=>W0,monthYear:()=>W0.filter(t=>t.use.includes("month-year")),input:()=>_be,timePicker:()=>W0.filter(t=>t.use.includes("time")),action:()=>W0.filter(t=>t.use.includes("action")),calendar:()=>W0.filter(t=>t.use.includes("calendar")),menu:()=>W0.filter(t=>t.use.includes("menu")),shared:()=>W0.filter(t=>t.use.includes("shared")),yearMode:()=>W0.filter(t=>t.use.includes("year-mode"))},Fd=(t,e,n)=>{const r=[];return ybe[e]().forEach(i=>{t[i.name]&&r.push(i.name)}),n!=null&&n.length&&n.forEach(i=>{i.slot&&r.push(i.slot)}),r},T6=t=>{const e=le(()=>r=>t.value?r?t.value.open:t.value.close:""),n=le(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!t.value,menuTransition:n}},B6=(t,e)=>{const{defaultedRange:n,defaultedTz:r}=Yo(t),i=xr(am(xr(),r.value.timezone)),s=Te([{month:Xa(i),year:Ra(i)}]),l=m=>{const _={hours:Wg(i),minutes:Kv(i),seconds:0};return n.value.enabled?[_[m],_[m]]:_[m]},c=ua({hours:l("hours"),minutes:l("minutes"),seconds:l("seconds")});un(n,(m,_)=>{m.enabled!==_.enabled&&(c.hours=l("hours"),c.minutes=l("minutes"),c.seconds=l("seconds"))},{deep:!0});const a=le({get:()=>t.internalModelValue,set:m=>{!t.readonly&&!t.disabled&&e("update:internal-model-value",m)}}),f=le(()=>m=>s.value[m]?s.value[m].month:0),A=le(()=>m=>s.value[m]?s.value[m].year:0);return{calendars:s,time:c,modelValue:a,month:f,year:A,today:i}},bbe=(t,e)=>{const{defaultedMultiCalendars:n,defaultedMultiDates:r,defaultedHighlight:i,defaultedTz:s,propDates:l,defaultedRange:c}=Yo(e),{isDisabled:a}=p1(e),f=Te(null),A=Te(am(new Date,s.value.timezone)),m=oe=>{!oe.current&&e.hideOffsetDates||(f.value=oe.value)},_=()=>{f.value=null},y=oe=>Array.isArray(t.value)&&c.value.enabled&&t.value[0]&&f.value?oe?Cl(f.value,t.value[0]):ll(f.value,t.value[0]):!0,T=(oe,_e)=>{const Ue=()=>t.value?_e?t.value[0]||null:t.value[1]:null,Le=t.value&&Array.isArray(t.value)?Ue():null;return ns(xr(oe.value),Le)},E=oe=>{const _e=Array.isArray(t.value)?t.value[0]:null;return oe?!ll(f.value??null,_e):!0},P=(oe,_e=!0)=>(c.value.enabled||e.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?e.hideOffsetDates&&!oe.current?!1:ns(xr(oe.value),t.value[_e?0:1]):c.value.enabled?T(oe,_e)&&E(_e)||ns(oe.value,Array.isArray(t.value)?t.value[0]:null)&&y(_e):!1,I=(oe,_e)=>{if(Array.isArray(t.value)&&t.value[0]&&t.value.length===1){const Ue=ns(oe.value,f.value);return _e?Cl(t.value[0],oe.value)&&Ue:ll(t.value[0],oe.value)&&Ue}return!1},F=oe=>!t.value||e.hideOffsetDates&&!oe.current?!1:c.value.enabled?e.modelAuto&&Array.isArray(t.value)?ns(oe.value,t.value[0]?t.value[0]:A.value):!1:r.value.enabled&&Array.isArray(t.value)?t.value.some(_e=>ns(_e,oe.value)):ns(oe.value,t.value?t.value:A.value),R=oe=>{if(c.value.autoRange||e.weekPicker){if(f.value){if(e.hideOffsetDates&&!oe.current)return!1;const _e=Dp(f.value,+c.value.autoRange),Ue=Pg(xr(f.value),e.weekStart);return e.weekPicker?ns(Ue[1],xr(oe.value)):ns(_e,xr(oe.value))}return!1}return!1},N=oe=>{if(c.value.autoRange||e.weekPicker){if(f.value){const _e=Dp(f.value,+c.value.autoRange);if(e.hideOffsetDates&&!oe.current)return!1;const Ue=Pg(xr(f.value),e.weekStart);return e.weekPicker?Cl(oe.value,Ue[0])&&ll(oe.value,Ue[1]):Cl(oe.value,f.value)&&ll(oe.value,_e)}return!1}return!1},z=oe=>{if(c.value.autoRange||e.weekPicker){if(f.value){if(e.hideOffsetDates&&!oe.current)return!1;const _e=Pg(xr(f.value),e.weekStart);return e.weekPicker?ns(_e[0],oe.value):ns(f.value,oe.value)}return!1}return!1},Q=oe=>N8(t.value,f.value,oe.value),j=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,H=()=>e.modelAuto?gte(e.internalModelValue):!0,K=oe=>{if(e.weekPicker)return!1;const _e=c.value.enabled?!P(oe)&&!P(oe,!1):!0;return!a(oe.value)&&!F(oe)&&!(!oe.current&&e.hideOffsetDates)&&_e},ie=oe=>c.value.enabled?e.modelAuto?j()&&F(oe):!1:F(oe),q=oe=>i.value?U_e(oe.value,l.value.highlight):!1,W=oe=>{const _e=a(oe.value);return _e&&(typeof i.value=="function"?!i.value(oe.value,_e):!i.value.options.highlightDisabled)},ee=oe=>{var _e;return typeof i.value=="function"?i.value(oe.value):(_e=i.value.weekdays)==null?void 0:_e.includes(oe.value.getDay())},ue=oe=>(c.value.enabled||e.weekPicker)&&(!(n.value.count>0)||oe.current)&&H()&&!(!oe.current&&e.hideOffsetDates)&&!F(oe)?Q(oe):!1,J=oe=>{const{isRangeStart:_e,isRangeEnd:Ue}=ce(oe),Le=c.value.enabled?_e||Ue:!1;return{dp__cell_offset:!oe.current,dp__pointer:!e.disabled&&!(!oe.current&&e.hideOffsetDates)&&!a(oe.value),dp__cell_disabled:a(oe.value),dp__cell_highlight:!W(oe)&&(q(oe)||ee(oe))&&!ie(oe)&&!Le&&!z(oe)&&!(ue(oe)&&e.weekPicker)&&!Ue,dp__cell_highlight_active:!W(oe)&&(q(oe)||ee(oe))&&ie(oe),dp__today:!e.noToday&&ns(oe.value,A.value)&&oe.current,"dp--past":ll(oe.value,A.value),"dp--future":Cl(oe.value,A.value)}},te=oe=>({dp__active_date:ie(oe),dp__date_hover:K(oe)}),ne=oe=>{if(t.value&&!Array.isArray(t.value)){const _e=Pg(t.value,e.weekStart);return{...Ee(oe),dp__range_start:ns(_e[0],oe.value),dp__range_end:ns(_e[1],oe.value),dp__range_between_week:Cl(oe.value,_e[0])&&ll(oe.value,_e[1])}}return{...Ee(oe)}},he=oe=>{if(t.value&&Array.isArray(t.value)){const _e=Pg(t.value[0],e.weekStart),Ue=t.value[1]?Pg(t.value[1],e.weekStart):[];return{...Ee(oe),dp__range_start:ns(_e[0],oe.value)||ns(Ue[0],oe.value),dp__range_end:ns(_e[1],oe.value)||ns(Ue[1],oe.value),dp__range_between_week:Cl(oe.value,_e[0])&&ll(oe.value,_e[1])||Cl(oe.value,Ue[0])&&ll(oe.value,Ue[1]),dp__range_between:Cl(oe.value,_e[1])&&ll(oe.value,Ue[0])}}return{...Ee(oe)}},ce=oe=>{const _e=n.value.count>0?oe.current&&P(oe)&&H():P(oe)&&H(),Ue=n.value.count>0?oe.current&&P(oe,!1)&&H():P(oe,!1)&&H();return{isRangeStart:_e,isRangeEnd:Ue}},ye=oe=>{const{isRangeStart:_e,isRangeEnd:Ue}=ce(oe);return{dp__range_start:_e,dp__range_end:Ue,dp__range_between:ue(oe),dp__date_hover:ns(oe.value,f.value)&&!_e&&!Ue&&!e.weekPicker,dp__date_hover_start:I(oe,!0),dp__date_hover_end:I(oe,!1)}},Ee=oe=>({...ye(oe),dp__cell_auto_range:N(oe),dp__cell_auto_range_start:z(oe),dp__cell_auto_range_end:R(oe)}),se=oe=>c.value.enabled?c.value.autoRange?Ee(oe):e.modelAuto?{...te(oe),...ye(oe)}:e.weekPicker?he(oe):ye(oe):e.weekPicker?ne(oe):te(oe);return{setHoverDate:m,clearHoverDate:_,getDayClassData:oe=>e.hideOffsetDates&&!oe.current?{}:{...J(oe),...se(oe),[e.dayClass?e.dayClass(oe.value,e.internalModelValue):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName}}},p1=t=>{const{defaultedFilters:e,defaultedRange:n,propDates:r,defaultedMultiDates:i}=Yo(t),s=W=>r.value.disabledDates?typeof r.value.disabledDates=="function"?r.value.disabledDates(xr(W)):!!fT(W,r.value.disabledDates):!1,l=W=>{const ee=r.value.maxDate?Cl(W,r.value.maxDate):!1,ue=r.value.minDate?ll(W,r.value.minDate):!1,J=s(W),te=e.value.months.map(Ee=>+Ee).includes(Xa(W)),ne=t.disabledWeekDays.length?t.disabledWeekDays.some(Ee=>+Ee===S1e(W)):!1,he=m(W),ce=Ra(W),ye=ce<+t.yearRange[0]||ce>+t.yearRange[1];return!(ee||ue||J||te||ye||ne||he)},c=(W,ee)=>ll(...Ev(r.value.minDate,W,ee))||ns(...Ev(r.value.minDate,W,ee)),a=(W,ee)=>Cl(...Ev(r.value.maxDate,W,ee))||ns(...Ev(r.value.maxDate,W,ee)),f=(W,ee,ue)=>{let J=!1;return r.value.maxDate&&ue&&a(W,ee)&&(J=!0),r.value.minDate&&!ue&&c(W,ee)&&(J=!0),J},A=(W,ee,ue,J)=>{let te=!1;return J?r.value.minDate&&r.value.maxDate?te=f(W,ee,ue):(r.value.minDate&&c(W,ee)||r.value.maxDate&&a(W,ee))&&(te=!0):te=!0,te},m=W=>Array.isArray(r.value.allowedDates)&&!r.value.allowedDates.length?!0:r.value.allowedDates?!fT(W,r.value.allowedDates):!1,_=W=>!l(W),y=W=>n.value.noDisabledRange?!ete({start:W[0],end:W[1]}).some(ee=>_(ee)):!0,T=W=>{if(W){const ee=Ra(W);return ee>=+t.yearRange[0]&&ee<=t.yearRange[1]}return!0},E=(W,ee)=>!!(Array.isArray(W)&&W[ee]&&(n.value.maxRange||n.value.minRange)&&T(W[ee])),P=(W,ee,ue=0)=>{if(E(ee,ue)&&T(W)){const J=Zee(W,ee[ue]),te=wte(ee[ue],W),ne=te.length===1?0:te.filter(ce=>_(ce)).length,he=Math.abs(J)-(n.value.minMaxRawRange?0:ne);if(n.value.minRange&&n.value.maxRange)return he>=+n.value.minRange&&he<=+n.value.maxRange;if(n.value.minRange)return he>=+n.value.minRange;if(n.value.maxRange)return he<=+n.value.maxRange}return!0},I=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,F=W=>Array.isArray(W)?[W[0]?iL(W[0]):null,W[1]?iL(W[1]):null]:iL(W),R=(W,ee,ue)=>W.find(J=>+J.hours===Wg(ee)&&J.minutes==="*"?!0:+J.minutes===Kv(ee)&&+J.hours===Wg(ee))&&ue,N=(W,ee,ue)=>{const[J,te]=W,[ne,he]=ee;return!R(J,ne,ue)&&!R(te,he,ue)&&ue},z=(W,ee)=>{const ue=Array.isArray(ee)?ee:[ee];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?N(t.disabledTimes,ue,W):!ue.some(J=>R(t.disabledTimes,J,W)):W},Q=(W,ee)=>{const ue=Array.isArray(ee)?[N_(ee[0]),ee[1]?N_(ee[1]):void 0]:N_(ee),J=!t.disabledTimes(ue);return W&&J},j=(W,ee)=>t.disabledTimes?Array.isArray(t.disabledTimes)?z(ee,W):Q(ee,W):ee,H=W=>{let ee=!0;if(!W||I())return!0;const ue=!r.value.minDate&&!r.value.maxDate?F(W):W;return(t.maxTime||r.value.maxDate)&&(ee=vj(t.maxTime,r.value.maxDate,"max",Ru(ue),ee)),(t.minTime||r.value.minDate)&&(ee=vj(t.minTime,r.value.minDate,"min",Ru(ue),ee)),j(W,ee)},K=W=>{if(!t.monthPicker)return!0;let ee=!0;const ue=xr(Np(W));if(r.value.minDate&&r.value.maxDate){const J=xr(Np(r.value.minDate)),te=xr(Np(r.value.maxDate));return Cl(ue,J)&&ll(ue,te)||ns(ue,J)||ns(ue,te)}if(r.value.minDate){const J=xr(Np(r.value.minDate));ee=Cl(ue,J)||ns(ue,J)}if(r.value.maxDate){const J=xr(Np(r.value.maxDate));ee=ll(ue,J)||ns(ue,J)}return ee},ie=le(()=>W=>!t.enableTimePicker||t.ignoreTimeValidation?!0:H(W)),q=le(()=>W=>t.monthPicker?Array.isArray(W)&&(n.value.enabled||i.value.enabled)?!W.filter(ee=>!K(ee)).length:K(W):!0);return{isDisabled:_,validateDate:l,validateMonthYearInRange:A,isDateRangeAllowed:y,checkMinMaxRange:P,isValidTime:H,isTimeValid:ie,isMonthValid:q}},V8=()=>{const t=le(()=>(r,i)=>r==null?void 0:r.includes(i)),e=le(()=>(r,i)=>r.count?r.solo?!0:i===0:!0),n=le(()=>(r,i)=>r.count?r.solo?!0:i===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:e,showRightIcon:n}},wbe=(t,e,n)=>{const r=Te(0),i=ua({[D_.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[D_.calendar]:!1,[D_.header]:!1}),s=le(()=>t.monthPicker||t.timePicker),l=m=>{var _;if((_=t.flow)!=null&&_.length){if(!m&&s.value)return A();i[m]=!0,Object.keys(i).filter(y=>!i[y]).length||A()}},c=()=>{var m,_;(m=t.flow)!=null&&m.length&&r.value!==-1&&(r.value+=1,e("flow-step",r.value),A()),((_=t.flow)==null?void 0:_.length)===r.value&&dr().then(()=>a())},a=()=>{r.value=-1},f=(m,_,...y)=>{var T,E;t.flow[r.value]===m&&n.value&&((E=(T=n.value)[_])==null||E.call(T,...y))},A=(m=0)=>{m&&(r.value+=m),f(Tc.month,"toggleMonthPicker",!0),f(Tc.year,"toggleYearPicker",!0),f(Tc.calendar,"toggleTimePicker",!1,!0),f(Tc.time,"toggleTimePicker",!0,!0);const _=t.flow[r.value];(_===Tc.hours||_===Tc.minutes||_===Tc.seconds)&&f(_,"toggleTimePicker",!0,!0,_)};return{childMount:l,updateFlowStep:c,resetFlow:a,handleFlow:A,flowStep:r}},xbe={key:1,class:"dp__input_wrap"},Cbe=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],Ebe={key:2,class:"dp__clear_icon"},Sbe=Be({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...U8},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTextInput:s,defaultedAriaLabels:l,defaultedInline:c,defaultedConfig:a,defaultedRange:f,defaultedMultiDates:A,getDefaultPattern:m,getDefaultStartTime:_}=Yo(i),{checkMinMaxRange:y}=p1(i),T=Te(),E=Te(null),P=Te(!1),I=Te(!1),F=le(()=>({dp__pointer:!i.disabled&&!i.readonly&&!s.value.enabled,dp__disabled:i.disabled,dp__input_readonly:!s.value.enabled,dp__input:!0,dp__input_icon_pad:!i.hideInputIcon,dp__input_valid:!!i.state,dp__input_invalid:i.state===!1,dp__input_focus:P.value||i.isMenuOpen,dp__input_reg:!s.value.enabled,[i.inputClassName]:!!i.inputClassName})),R=()=>{r("set-input-date",null),i.clearable&&i.autoApply&&(r("set-empty-date"),T.value=null)},N=te=>{const ne=_();return z_e(te,s.value.format??m(),ne??xte({},i.enableSeconds),i.inputValue,I.value,i.formatLocale)},z=te=>{const{rangeSeparator:ne}=s.value,[he,ce]=te.split(`${ne}`);if(he){const ye=N(he.trim()),Ee=ce?N(ce.trim()):null;if(Gw(ye,Ee))return;const se=ye&&Ee?[ye,Ee]:[ye];y(Ee,se,0)&&(T.value=ye?se:null)}},Q=()=>{I.value=!0},j=te=>{if(f.value.enabled)z(te);else if(A.value.enabled){const ne=te.split(";");T.value=ne.map(he=>N(he.trim())).filter(he=>he)}else T.value=N(te)},H=te=>{var ne;const he=typeof te=="string"?te:(ne=te.target)==null?void 0:ne.value;he!==""?(s.value.openMenu&&!i.isMenuOpen&&r("open"),j(he),r("set-input-date",T.value)):R(),I.value=!1,r("update:input-value",he)},K=te=>{s.value.enabled?(j(te.target.value),s.value.enterSubmit&&ok(T.value)&&i.inputValue!==""?(r("set-input-date",T.value,!0),T.value=null):s.value.enterSubmit&&i.inputValue===""&&(T.value=null,r("clear"))):W(te)},ie=te=>{s.value.enabled&&s.value.tabSubmit&&j(te.target.value),s.value.tabSubmit&&ok(T.value)&&i.inputValue!==""?(r("set-input-date",T.value,!0,!0),T.value=null):s.value.tabSubmit&&i.inputValue===""&&(T.value=null,r("clear",!0))},q=()=>{P.value=!0,r("focus"),dr().then(()=>{var te;s.value.enabled&&s.value.selectOnFocus&&((te=E.value)==null||te.select())})},W=te=>{te.preventDefault(),Uv(te,a.value,!0),s.value.enabled&&s.value.openMenu&&!c.value.input&&!i.isMenuOpen?r("open"):s.value.enabled||r("toggle")},ee=()=>{r("real-blur"),P.value=!1,(!i.isMenuOpen||c.value.enabled&&c.value.input)&&r("blur"),i.autoApply&&s.value.enabled&&T.value&&!i.isMenuOpen&&(r("set-input-date",T.value),r("select-date"),T.value=null)},ue=te=>{Uv(te,a.value,!0),r("clear")},J=te=>{if(te.key==="Tab"&&ie(te),te.key==="Enter"&&K(te),!s.value.enabled){if(te.code==="Tab")return;te.preventDefault()}};return e({focusInput:()=>{var te;(te=E.value)==null||te.focus({preventScroll:!0})},setParsedDate:te=>{T.value=te}}),(te,ne)=>{var he;return X(),ve("div",{onClick:W},[te.$slots.trigger&&!te.$slots["dp-input"]&&!S(c).enabled?kt(te.$slots,"trigger",{key:0}):bt("",!0),!te.$slots.trigger&&(!S(c).enabled||S(c).input)?(X(),ve("div",xbe,[te.$slots["dp-input"]&&!te.$slots.trigger&&(!S(c).enabled||S(c).enabled&&S(c).input)?kt(te.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:H,onEnter:K,onTab:ie,onClear:ue,onBlur:ee,onKeypress:J,onPaste:Q,onFocus:q,openMenu:()=>te.$emit("open"),closeMenu:()=>te.$emit("close"),toggleMenu:()=>te.$emit("toggle")}):bt("",!0),te.$slots["dp-input"]?bt("",!0):(X(),ve("input",{key:1,id:te.uid?`dp-input-${te.uid}`:void 0,ref_key:"inputRef",ref:E,"data-test":"dp-input",name:te.name,class:Se(F.value),inputmode:S(s).enabled?"text":"none",placeholder:te.placeholder,disabled:te.disabled,readonly:te.readonly,required:te.required,value:t.inputValue,autocomplete:te.autocomplete,"aria-label":(he=S(l))==null?void 0:he.input,"aria-disabled":te.disabled||void 0,"aria-invalid":te.state===!1?!0:void 0,onInput:H,onBlur:ee,onFocus:q,onKeypress:J,onKeydown:J,onPaste:Q},null,42,Cbe)),pe("div",{onClick:ne[2]||(ne[2]=ce=>r("toggle"))},[te.$slots["input-icon"]&&!te.hideInputIcon?(X(),ve("span",{key:0,class:"dp__input_icon",onClick:ne[0]||(ne[0]=ce=>r("toggle"))},[kt(te.$slots,"input-icon")])):bt("",!0),!te.$slots["input-icon"]&&!te.hideInputIcon&&!te.$slots["dp-input"]?(X(),Ut(S(E2),{key:1,class:"dp__input_icon dp__input_icons",onClick:ne[1]||(ne[1]=ce=>r("toggle"))})):bt("",!0)]),te.$slots["clear-icon"]&&t.inputValue&&te.clearable&&!te.disabled&&!te.readonly?(X(),ve("span",Ebe,[kt(te.$slots,"clear-icon",{clear:ue})])):bt("",!0),te.clearable&&!te.$slots["clear-icon"]&&t.inputValue&&!te.disabled&&!te.readonly?(X(),Ut(S(Ate),{key:3,class:"dp__clear_icon dp__input_icons","data-test":"clear-icon",onClick:ne[3]||(ne[3]=Fr(ce=>ue(ce),["prevent"]))})):bt("",!0)])):bt("",!0)])}}}),Tbe=typeof window<"u"?window:void 0,cL=()=>{},Bbe=t=>SD()?(TD(t),!0):!1,Mbe=(t,e,n,r)=>{if(!t)return cL;let i=cL;const s=un(()=>S(t),c=>{i(),c&&(c.addEventListener(e,n,r),i=()=>{c.removeEventListener(e,n,r),i=cL})},{immediate:!0,flush:"post"}),l=()=>{s(),i()};return Bbe(l),l},Ibe=(t,e,n,r={})=>{const{window:i=Tbe,event:s="pointerdown"}=r;return i?Mbe(i,s,l=>{const c=Au(t),a=Au(e);!c||!a||c===l.target||l.composedPath().includes(c)||l.composedPath().includes(a)||n(l)},{passive:!0}):void 0},Lbe=Be({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...U8},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Eo(),l=Te(!1),c=Oa(i,"modelValue"),a=Oa(i,"timezone"),f=Te(null),A=Te(null),m=Te(null),_=Te(!1),y=Te(null),T=Te(!1),E=Te(!1),P=Te(!1),{setMenuFocused:I,setShiftKey:F}=Bte(),{clearArrowNav:R}=f1(),{validateDate:N,isValidTime:z}=p1(i),{defaultedTransitions:Q,defaultedTextInput:j,defaultedInline:H,defaultedConfig:K,defaultedRange:ie,defaultedMultiDates:q}=Yo(i),{menuTransition:W,showTransition:ee}=T6(Q);kr(()=>{_e(i.modelValue),dr().then(()=>{if(!H.value.enabled){const St=ye(y.value);St==null||St.addEventListener("scroll",Ge),window==null||window.addEventListener("resize",Ne)}}),H.value.enabled&&(l.value=!0),window==null||window.addEventListener("keyup",je),window==null||window.addEventListener("keydown",Ye)}),Rf(()=>{if(!H.value.enabled){const St=ye(y.value);St==null||St.removeEventListener("scroll",Ge),window==null||window.removeEventListener("resize",Ne)}window==null||window.removeEventListener("keyup",je),window==null||window.removeEventListener("keydown",Ye)});const ue=Fd(s,"all",i.presetDates),J=Fd(s,"input");un([c,a],()=>{_e(c.value)},{deep:!0});const{openOnTop:te,menuStyle:ne,xCorrect:he,setMenuPosition:ce,getScrollableParent:ye,shadowRender:Ee}=vbe({menuRef:f,menuRefInner:A,inputRef:m,pickerWrapperRef:y,inline:H,emit:r,props:i,slots:s}),{inputValue:se,internalModelValue:oe,parseExternalModelValue:_e,emitModelValue:Ue,formatInputValue:Le,checkBeforeEmit:be}=uye(r,i,_),Re=le(()=>({dp__main:!0,dp__theme_dark:i.dark,dp__theme_light:!i.dark,dp__flex_display:H.value.enabled,"dp--flex-display-collapsed":P.value,dp__flex_display_with_input:H.value.input})),Qe=le(()=>i.dark?"dp__theme_dark":"dp__theme_light"),Je=le(()=>i.teleport?{to:typeof i.teleport=="boolean"?"body":i.teleport,disabled:!i.teleport||H.value.enabled}:{}),nt=le(()=>({class:"dp__outer_menu_wrap"})),Ve=le(()=>H.value.enabled&&(i.timePicker||i.monthPicker||i.yearPicker||i.quarterPicker)),Pe=()=>{var St,sn;return(sn=(St=m.value)==null?void 0:St.$el)==null?void 0:sn.getBoundingClientRect()},Ge=()=>{l.value&&(K.value.closeOnScroll?wt():ce())},Ne=()=>{var St;l.value&&ce();const sn=(St=A.value)==null?void 0:St.$el.getBoundingClientRect().width;P.value=document.body.offsetWidth<=sn},je=St=>{St.key==="Tab"&&!H.value.enabled&&!i.teleport&&K.value.tabOutClosesMenu&&(y.value.contains(document.activeElement)||wt()),E.value=St.shiftKey},Ye=St=>{E.value=St.shiftKey},vt=()=>{!i.disabled&&!i.readonly&&(Ee(wj,i),ce(!1),l.value=!0,l.value&&r("open"),l.value||Nt(),_e(i.modelValue))},Lt=()=>{var St;se.value="",Nt(),(St=m.value)==null||St.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),K.value.closeOnClearValue&&wt()},Et=()=>{const St=oe.value;return!St||!Array.isArray(St)&&N(St)?!0:Array.isArray(St)?q.value.enabled||St.length===2&&N(St[0])&&N(St[1])?!0:ie.value.partialRange&&!i.timePicker?N(St[0]):!1:!1},Vt=()=>{be()&&Et()?(Ue(),wt()):r("invalid-select",oe.value)},_t=St=>{qt(),Ue(),K.value.closeOnAutoApply&&!St&&wt()},qt=()=>{m.value&&j.value.enabled&&m.value.setParsedDate(oe.value)},tn=(St=!1)=>{i.autoApply&&z(oe.value)&&Et()&&(ie.value.enabled&&Array.isArray(oe.value)?(ie.value.partialRange||oe.value.length===2)&&_t(St):_t(St))},Nt=()=>{j.value.enabled||(oe.value=null)},wt=()=>{H.value.enabled||(l.value&&(l.value=!1,he.value=!1,I(!1),F(!1),R(),r("closed"),se.value&&_e(c.value)),Nt(),r("blur"))},De=(St,sn,bn=!1)=>{if(!St){oe.value=null;return}const gr=Array.isArray(St)?!St.some(Nn=>!N(Nn)):N(St),tr=z(St);gr&&tr&&(oe.value=St,sn&&(T.value=bn,Vt(),r("text-submit")))},We=()=>{i.autoApply&&z(oe.value)&&Ue(),qt()},ut=()=>l.value?wt():vt(),It=St=>{oe.value=St},Xe=()=>{j.value.enabled&&(_.value=!0,Le()),r("focus")},Pt=()=>{if(j.value.enabled&&(_.value=!1,_e(i.modelValue),T.value)){const St=D_e(y.value,E.value);St==null||St.focus()}r("blur")},Bt=St=>{A.value&&A.value.updateMonthYear(0,{month:Aj(St.month),year:Aj(St.year)})},it=St=>{_e(St??i.modelValue)},Mt=(St,sn)=>{var bn;(bn=A.value)==null||bn.switchView(St,sn)},at=St=>K.value.onClickOutside?K.value.onClickOutside(St):wt(),et=(St=0)=>{var sn;(sn=A.value)==null||sn.handleFlow(St)};return Ibe(f,m,()=>at(Et)),e({closeMenu:wt,selectDate:Vt,clearValue:Lt,openMenu:vt,onScroll:Ge,formatInputValue:Le,updateInternalModelValue:It,setMonthYear:Bt,parseModel:it,switchView:Mt,toggleMenu:ut,handleFlow:et}),(St,sn)=>(X(),ve("div",{ref_key:"pickerWrapperRef",ref:y,class:Se(Re.value),"data-datepicker-instance":""},[ht(Sbe,Xr({ref_key:"inputRef",ref:m,"input-value":S(se),"onUpdate:inputValue":sn[0]||(sn[0]=bn=>hs(se)?se.value=bn:null),"is-menu-open":l.value},St.$props,{onClear:Lt,onOpen:vt,onSetInputDate:De,onSetEmptyDate:S(Ue),onSelectDate:Vt,onToggle:ut,onClose:wt,onFocus:Xe,onBlur:Pt,onRealBlur:sn[1]||(sn[1]=bn=>_.value=!1)}),Ro({_:2},[Yr(S(J),(bn,gr)=>({name:bn,fn:xt(tr=>[kt(St.$slots,bn,uo(nu(tr)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(X(),Ut(di(St.teleport?Ay:"div"),uo(nu(Je.value)),{default:xt(()=>[ht(co,{name:S(W)(S(te)),css:S(ee)&&!S(H).enabled},{default:xt(()=>[l.value?(X(),ve("div",Xr({key:0,ref_key:"dpWrapMenuRef",ref:f},nt.value,{class:{"dp--menu-wrapper":!S(H).enabled},style:S(H).enabled?void 0:S(ne)}),[ht(wj,Xr({ref_key:"dpMenuRef",ref:A},St.$props,{"internal-model-value":S(oe),"onUpdate:internalModelValue":sn[2]||(sn[2]=bn=>hs(oe)?oe.value=bn:null),class:{[Qe.value]:!0,"dp--menu-wrapper":St.teleport},"open-on-top":S(te),"no-overlay-focus":Ve.value,collapse:P.value,"get-input-rect":Pe,onClosePicker:wt,onSelectDate:Vt,onAutoApply:tn,onTimeUpdate:We,onFlowStep:sn[3]||(sn[3]=bn=>St.$emit("flow-step",bn)),onUpdateMonthYear:sn[4]||(sn[4]=bn=>St.$emit("update-month-year",bn)),onInvalidSelect:sn[5]||(sn[5]=bn=>St.$emit("invalid-select",S(oe))),onAutoApplyInvalid:sn[6]||(sn[6]=bn=>St.$emit("invalid-select",bn)),onInvalidFixedRange:sn[7]||(sn[7]=bn=>St.$emit("invalid-fixed-range",bn)),onRecalculatePosition:S(ce),onTooltipOpen:sn[8]||(sn[8]=bn=>St.$emit("tooltip-open",bn)),onTooltipClose:sn[9]||(sn[9]=bn=>St.$emit("tooltip-close",bn)),onTimePickerOpen:sn[10]||(sn[10]=bn=>St.$emit("time-picker-open",bn)),onTimePickerClose:sn[11]||(sn[11]=bn=>St.$emit("time-picker-close",bn)),onAmPmChange:sn[12]||(sn[12]=bn=>St.$emit("am-pm-change",bn)),onRangeStart:sn[13]||(sn[13]=bn=>St.$emit("range-start",bn)),onRangeEnd:sn[14]||(sn[14]=bn=>St.$emit("range-end",bn)),onDateUpdate:sn[15]||(sn[15]=bn=>St.$emit("date-update",bn)),onInvalidDate:sn[16]||(sn[16]=bn=>St.$emit("invalid-date",bn)),onOverlayToggle:sn[17]||(sn[17]=bn=>St.$emit("overlay-toggle",bn))}),Ro({_:2},[Yr(S(ue),(bn,gr)=>({name:bn,fn:xt(tr=>[kt(St.$slots,bn,uo(nu({...tr})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","onRecalculatePosition"])],16)):bt("",!0)]),_:3},8,["name","css"])]),_:3},16))],2))}}),fN=(()=>{const t=Lbe;return t.install=e=>{e.component("Vue3DatePicker",t)},t})(),Pbe=Object.freeze(Object.defineProperty({__proto__:null,default:fN},Symbol.toStringTag,{value:"Module"}));Object.entries(Pbe).forEach(([t,e])=>{t!=="default"&&(fN[t]=e)});const M6=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},Fbe={class:"daterangepicker"},kbe={class:"sidebar"},Rbe={__name:"VueDatePicker",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(t){const e=Fee(t,"modelValue");if(!e.value||e.value.length===0){const s=new Date,l=new Date(new Date().setDate(s.getDate()-7));e.value=[l,s]}const n=()=>{const s=new Date,l=new Date(new Date().setHours(s.getHours()-1));e.value=[l,s]},r=()=>{const s=new Date,l=new Date(new Date().setDate(s.getDate()-1));e.value=[l,s]},i=()=>{const s=new Date,l=new Date(new Date().setDate(s.getDate()-7));e.value=[l,s]};return(s,l)=>(X(),ve("div",Fbe,[ht(S(fN),{modelValue:e.value,"onUpdate:modelValue":l[3]||(l[3]=c=>e.value=c),teleport:!0,range:""},{"right-sidebar":xt(()=>[pe("div",kbe,[pe("div",{class:"sidebar-div",onClick:l[0]||(l[0]=c=>n())},"Last Hour"),pe("div",{class:"sidebar-div",onClick:l[1]||(l[1]=c=>r())},"Last Day"),pe("div",{class:"sidebar-div",onClick:l[2]||(l[2]=c=>i())},"Last Week")])]),_:1},8,["modelValue"])]))}},xj=M6(Rbe,[["__scopeId","data-v-b97e0de4"]]),Obe={class:"block"},Dbe=Be({__name:"ElementDateTimePicker",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(t){const e=Fee(t,"modelValue");if(!e.value||e.value.length===0){const r=new Date,i=new Date(new Date().setDate(r.getDate()-7));e.value=[i,r]}const n=[{text:"Last day",value:()=>{const r=new Date,i=new Date;return i.setDate(i.getDate()-1),[i,r]}},{text:"Last week",value:()=>{const r=new Date,i=new Date;return i.setDate(i.getDate()-7),[i,r]}},{text:"Last month",value:()=>{const r=new Date,i=new Date;return i.setMonth(i.getMonth()-1),[i,r]}},{text:"Last 3 months",value:()=>{const r=new Date,i=new Date;return i.setMonth(i.getMonth()-3),[i,r]}}];return(r,i)=>{const s=Kr("el-date-picker");return X(),ve("div",Obe,[ht(s,{modelValue:e.value,"onUpdate:modelValue":i[0]||(i[0]=l=>e.value=l),type:"datetimerange",shortcuts:n,"range-separator":"To","start-placeholder":"Start date","end-placeholder":"End date"},null,8,["modelValue"])])}}}),Nbe=M6(Dbe,[["__scopeId","data-v-52fbece3"]]),Ube={__name:"GeoJSONConverter",props:{data:{type:Object,required:!0,default:{}}},setup(t,{expose:e}){const n=t,r=Te({}),i=s=>{if(Object.keys(s).length>0){const l=s.data,c=[...l].sort((_,y)=>new Date(_.isodatetime)-new Date(y.isodatetime)),a=c.map(_=>({type:"Feature",properties:{name:_.id_short,conf:_.conf,status:_.status,TimeStamp:_.isodatetime,statusCode:_.statusCode},geometry:{type:"Point",coordinates:[_.longitude,_.latitude]}})),f=new Map,A=new Set([...l].map(_=>_.id_short));for(const _ of A){const y=c.filter(T=>T.id_short==_).map(T=>[T.longitude,T.latitude]);f.set(_,y)}const m=Array.from(f,([_,y])=>({type:"Feature",properties:{name:_},geometry:{type:"LineString",coordinates:y,direction:"forward","arrow-symbol":"triangle"}}));r.value={type:"FeatureCollection",features:[...a,...m]}}};return kr(()=>{un(()=>n.data,s=>{Object.keys(s).length>0&&i(s)},{immediate:!0})}),e({convertToGeoJson:i,geoJsonData:r}),(s,l)=>null}},zbe={__name:"DataHandler",props:{payload:{type:Object,default:{}}},setup(t,{expose:e}){const n=Te(null),r=Te(!0),i=Te(null),s=Te(),l=Te(null),c=async a=>{const f={id_short:a.id_short,dateTimeRange:{start:a.dateTimeRange[0],end:a.dateTimeRange[1]}};try{const A=await fetch("https://fmt.geeek.cf/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!A.ok)throw new Error(`Error: ${A.statusText}`);const m=await A.json();return m&&(s.value=m),m}catch(A){i.value=A.message}finally{r.value=!1}};return kr(async()=>{un(()=>n.value.geoJsonData,a=>{a&&(l.value=n.value.geoJsonData)},{immediate:!0})}),e({fetchData:c,exposedData:l}),(a,f)=>(X(),Ut(Ube,{data:s.value,ref_key:"Geojsondata",ref:n},null,8,["data"]))}},pN=M6(zbe,[["__scopeId","data-v-af08713b"]]),$be={__name:"localStorage",props:{data:{type:Object,required:!0,default:{}}},setup(t){const n=t.data;return un(()=>n,r=>{const i=Array.from(r.data);localStorage.setItem("items",i.join(","))},{deep:!0}),(r,i)=>null}},Rte=t=>(Hge("data-v-3eead758"),t=t(),Qge(),t),Vbe={class:"main-layout-wrapper"},Hbe={class:"main-layout"},Qbe={id:"MainPanel",style:{flex:"auto"}},jbe={class:"container"},Gbe=Rte(()=>pe("span",{class:"hide-small",style:{"vertical-align":"middle"}}," Add ",-1)),Kbe=Rte(()=>pe("span",{class:"hide-small",style:{"vertical-align":"middle"}}," Clear ",-1)),Wbe={__name:"MainPanel",emits:["submit","addHeatMap"],setup(t,{emit:e}){const n=Te(!1),r=Te("btt"),i=Te([]),s=Te({}),l=Te([]),c=Te(""),a=Te(null),f=Te({}),A=Te([]),m=ua({id_short:[],dateTimeRange:{start:"",end:""}}),_=e,y=()=>{m.id_short.length>0&&Array.from(m.dateTimeRange).length>1&&_("submit",m)},T=()=>{m.id_short.length>0&&Array.from(m.dateTimeRange).length>1&&_("addHeatMap",m)},E=()=>{l.value=[]};return kr(()=>{if(m.dateTimeRange=i.value,localStorage.getItem("items")){const I=localStorage.getItem("items").split(",");A.value=I}un(()=>i.value,P=>{m.dateTimeRange=P,s.value=P}),un(()=>m,P=>{s.value=P},{deep:!0}),un(l,P=>{m.id_short=Array.from(P),f.value.data=P})}),(P,I)=>{const F=Kr("el-button"),R=Kr("el-input"),N=Kr("el-col"),z=Kr("CirclePlus"),Q=Kr("el-icon"),j=Kr("el-row"),H=Kr("el-form-item"),K=Kr("el-option"),ie=Kr("el-select"),q=Kr("CircleClose"),W=Kr("el-form"),ee=Kr("el-drawer");return X(),ve(Vn,null,[pe("div",Vbe,[pe("div",Hbe,[ht(xj,{modelValue:i.value,"onUpdate:modelValue":I[0]||(I[0]=ue=>i.value=ue),range:"",class:"VueDatePicker"},null,8,["modelValue"])]),ht(F,{class:"drawer-button",type:"primary",onClick:I[1]||(I[1]=ue=>n.value=!0)},{default:xt(()=>[wi("Data Select")]),_:1}),ht(pN,{payload:s.value,ref_key:"DataHandlerRef",ref:a},null,8,["payload"]),ht($be,{data:f.value},null,8,["data"])]),ht(ee,{modelValue:n.value,"onUpdate:modelValue":I[6]||(I[6]=ue=>n.value=ue),title:"Data select",direction:r.value,"with-header":!0,size:"60%"},{default:xt(()=>[pe("div",Qbe,[pe("div",jbe,[ht(W,{model:m,"label-width":"auto",style:{"max-width":"600px"}},{default:xt(()=>[ht(H,{label:"itemID"},{default:xt(()=>[ht(j,{gutter:20},{default:xt(()=>[ht(N,{span:18},{default:xt(()=>[ht(R,{style:{width:"200px"},modelValue:c.value,"onUpdate:modelValue":I[2]||(I[2]=ue=>c.value=ue)},null,8,["modelValue"])]),_:1}),ht(N,{span:6},{default:xt(()=>[ht(F,{type:"primary"},{default:xt(()=>[ht(Q,{style:{"vertical-align":"middle"}},{default:xt(()=>[ht(z)]),_:1}),Gbe]),_:1})]),_:1})]),_:1})]),_:1}),ht(H,{label:"Items select"},{default:xt(()=>[ht(j,{gutter:20},{default:xt(()=>[ht(N,{span:18},{default:xt(()=>[ht(ie,{modelValue:l.value,"onUpdate:modelValue":I[3]||(I[3]=ue=>l.value=ue),multiple:"",filterable:"","allow-create":"","default-first-option":"","reserve-keyword":!1,placeholder:"Choose your items",style:{"min-width":"200px"}},{default:xt(()=>[(X(!0),ve(Vn,null,Yr(A.value,ue=>(X(),Ut(K,{key:ue,label:ue,value:ue},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),ht(N,{span:6},{default:xt(()=>[ht(F,{onClick:E,type:"primary"},{default:xt(()=>[ht(Q,{style:{"vertical-align":"middle"}},{default:xt(()=>[ht(q)]),_:1}),Kbe]),_:1})]),_:1})]),_:1})]),_:1}),ht(H,{label:"Activity time",style:{"max-width":"600px"}},{default:xt(()=>[ht(N,{span:24},{default:xt(()=>[ht(Nbe,{class:"responsive-component",modelValue:i.value,"onUpdate:modelValue":I[4]||(I[4]=ue=>i.value=ue)},null,8,["modelValue"]),ht(xj,{class:"responsive-component-display",modelValue:i.value,"onUpdate:modelValue":I[5]||(I[5]=ue=>i.value=ue),range:""},null,8,["modelValue"])]),_:1})]),_:1}),ht(H,null,{default:xt(()=>[ht(F,{type:"primary",onClick:y},{default:xt(()=>[wi("Get Data")]),_:1}),ht(F,{type:"primary",onClick:T},{default:xt(()=>[wi("HeatMap")]),_:1}),ht(F,{type:"primary"},{default:xt(()=>[wi("RealTime")]),_:1})]),_:1})]),_:1},8,["model"])])])]),_:1},8,["modelValue","direction"])],64)}}},qbe=M6(Wbe,[["__scopeId","data-v-3eead758"]]);var Cm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ote={exports:{}};(function(t,e){var n={VITE_MAPBOX_ACCESS_TOKEN:"pk.eyJ1IjoiZ2Vla2NhdCIsImEiOiJjbHc5ZTJ6dmIwMTEyMmpudGowMXk5Y3o2In0.HDxYFBSNCpbYan731GLJEw"};(function(r,i){t.exports=i()})(Cm,function(){var r,i,s;function l(a,f){if(!r)r=f;else if(!i)i=f;else{var A="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+r+")(sharedChunk); ("+i+")(sharedChunk); self.onerror = null;",m={};r(m),s=f(m),typeof window<"u"&&window&&window.URL&&window.URL.createObjectURL&&(s.workerUrl=window.URL.createObjectURL(new Blob([A],{type:"text/javascript"})))}}l(["exports"],function(a){var f="3.3.0";let A;const m={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(A==null){const u=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{A=n.API_URL_REGEX!=null?new RegExp(n.API_URL_REGEX):u}catch{A=u}}return A},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){if(!m.API_URL)return null;try{const u=new URL(m.API_URL);return u.hostname==="api.mapbox.cn"?"https://events.mapbox.cn/events/v2":u.hostname==="api.mapbox.com"?"https://events.mapbox.com/events/v2":null}catch{return null}},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",RASTERARRAYS_URL_PREFIX:"rasterarrays/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,DEFAULT_STYLE:"mapbox://styles/mapbox/standard",MAX_PARALLEL_IMAGE_REQUESTS:16,DRACO_URL:"https://api.mapbox.com/mapbox-gl-js/draco_decoder_gltf_v1.5.6.wasm",MESHOPT_URL:"https://api.mapbox.com/mapbox-gl-js/meshopt_base_v0.20.wasm",MESHOPT_SIMD_URL:"https://api.mapbox.com/mapbox-gl-js/meshopt_simd_v0.20.wasm",GLYPHS_URL:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"};function _(u){return m.API_URL_REGEX.test(u)}function y(u){return u.indexOf("mapbox:")===0}function T(u){return m.API_CDN_URL_REGEX.test(u)}function E(u){return m.API_SPRITE_REGEX.test(u)}function P(u){return m.API_STYLE_REGEX.test(u)&&!E(u)}const I={create:"create",load:"load",fullLoad:"fullLoad"};function F(u){const o=u.name.split("?")[0];return T(o)&&o.includes("mapbox-gl.js")?"javascript":T(o)&&o.includes("mapbox-gl.css")?"css":function(h){return m.API_FONTS_REGEX.test(h)}(o)?"fontRange":E(o)?"sprite":P(o)?"style":function(h){return m.API_TILEJSON_REGEX.test(h)}(o)?"tilejson":"other"}function R(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var N=z;function z(u,o,h,p){this.cx=3*u,this.bx=3*(h-u)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*o,this.by=3*(p-o)-this.cy,this.ay=1-this.cy-this.by,this.p1x=u,this.p1y=o,this.p2x=h,this.p2y=p}z.prototype={sampleCurveX:function(u){return((this.ax*u+this.bx)*u+this.cx)*u},sampleCurveY:function(u){return((this.ay*u+this.by)*u+this.cy)*u},sampleCurveDerivativeX:function(u){return(3*this.ax*u+2*this.bx)*u+this.cx},solveCurveX:function(u,o){if(o===void 0&&(o=1e-6),u<0)return 0;if(u>1)return 1;for(var h=u,p=0;p<8;p++){var v=this.sampleCurveX(h)-u;if(Math.abs(v)<o)return h;var b=this.sampleCurveDerivativeX(h);if(Math.abs(b)<1e-6)break;h-=v/b}var C=0,M=1;for(h=u,p=0;p<20&&(v=this.sampleCurveX(h),!(Math.abs(v-u)<o));p++)u>v?C=h:M=h,h=.5*(M-C)+C;return h},solve:function(u,o){return this.sampleCurveY(this.solveCurveX(u,o))}};var Q=R(N),j=H;function H(u,o){this.x=u,this.y=o}H.prototype={clone:function(){return new H(this.x,this.y)},add:function(u){return this.clone()._add(u)},sub:function(u){return this.clone()._sub(u)},multByPoint:function(u){return this.clone()._multByPoint(u)},divByPoint:function(u){return this.clone()._divByPoint(u)},mult:function(u){return this.clone()._mult(u)},div:function(u){return this.clone()._div(u)},rotate:function(u){return this.clone()._rotate(u)},rotateAround:function(u,o){return this.clone()._rotateAround(u,o)},matMult:function(u){return this.clone()._matMult(u)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(u){return this.x===u.x&&this.y===u.y},dist:function(u){return Math.sqrt(this.distSqr(u))},distSqr:function(u){var o=u.x-this.x,h=u.y-this.y;return o*o+h*h},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(u){return Math.atan2(this.y-u.y,this.x-u.x)},angleWith:function(u){return this.angleWithSep(u.x,u.y)},angleWithSep:function(u,o){return Math.atan2(this.x*o-this.y*u,this.x*u+this.y*o)},_matMult:function(u){var o=u[2]*this.x+u[3]*this.y;return this.x=u[0]*this.x+u[1]*this.y,this.y=o,this},_add:function(u){return this.x+=u.x,this.y+=u.y,this},_sub:function(u){return this.x-=u.x,this.y-=u.y,this},_mult:function(u){return this.x*=u,this.y*=u,this},_div:function(u){return this.x/=u,this.y/=u,this},_multByPoint:function(u){return this.x*=u.x,this.y*=u.y,this},_divByPoint:function(u){return this.x/=u.x,this.y/=u.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var u=this.y;return this.y=this.x,this.x=-u,this},_rotate:function(u){var o=Math.cos(u),h=Math.sin(u),p=h*this.x+o*this.y;return this.x=o*this.x-h*this.y,this.y=p,this},_rotateAround:function(u,o){var h=Math.cos(u),p=Math.sin(u),v=o.y+p*(this.x-o.x)+h*(this.y-o.y);return this.x=o.x+h*(this.x-o.x)-p*(this.y-o.y),this.y=v,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},H.convert=function(u){return u instanceof H?u:Array.isArray(u)?new H(u[0],u[1]):u};var K=R(j);const ie=Math.PI/180,q=180/Math.PI;function W(u){return u*ie}function ee(u){return u*q}const ue=[[0,0],[1,0],[1,1],[0,1]];function J(u){if(u<=0)return 0;if(u>=1)return 1;const o=u*u,h=o*u;return 4*(u<.5?h:3*(u-o)+h-.75)}function te(u,o,h,p){const v=new Q(u,o,h,p);return function(b){return v.solve(b)}}const ne=te(.25,.1,.25,1);function he(u,o,h){return Math.min(h,Math.max(o,u))}function ce(u,o,h){return(h=he((h-u)/(o-u),0,1))*h*(3-2*h)}function ye(u,o,h){const p=h-o,v=((u-o)%p+p)%p+o;return v===o?h:v}function Ee(u,o,h){if(!u.length)return h(null,[]);let p=u.length;const v=new Array(u.length);let b=null;u.forEach((C,M)=>{o(C,(k,O)=>{k&&(b=k),v[M]=O,--p==0&&h(b,v)})})}function se(u,...o){for(const h of o)for(const p in h)u[p]=h[p];return u}let oe=1;function _e(){return oe++}function Ue(){return function u(o){return o?(o^Math.random()*(16>>o/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,u)}()}function Le(u){return u<=1?1:Math.pow(2,Math.ceil(Math.log(u)/Math.LN2))}function be(u){return!!u&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(u)}function Re(u,o){u.forEach(h=>{o[h]&&(o[h]=o[h].bind(o))})}function Qe(u,o){return u.indexOf(o,u.length-o.length)!==-1}function Je(u,o,h){const p={};for(const v in u)p[v]=o.call(h||this,u[v],v,u);return p}function nt(u,o,h){const p={};for(const v in u)o.call(h||this,u[v],v,u)&&(p[v]=u[v]);return p}function Ve(u){return Array.isArray(u)?u.map(Ve):typeof u=="object"&&u?Je(u,Ve):u}const Pe={};function Ge(u){Pe[u]||(typeof console<"u"&&console.warn(u),Pe[u]=!0)}function Ne(u,o,h){return(h.y-u.y)*(o.x-u.x)>(o.y-u.y)*(h.x-u.x)}function je(u){let o=0;for(let h,p,v=0,b=u.length,C=b-1;v<b;C=v++)h=u[v],p=u[C],o+=(p.x-h.x)*(h.y+p.y);return o}function Ye([u,o,h]){const p=W(o+90),v=W(h);return{x:u*Math.cos(p)*Math.sin(v),y:u*Math.sin(p)*Math.sin(v),z:u*Math.cos(v),azimuthal:o,polar:h}}function vt(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Lt(u){const o={};if(u.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(h,p,v,b)=>{const C=v||b;return o[p]=!C||C.toLowerCase(),""}),o["max-age"]){const h=parseInt(o["max-age"],10);isNaN(h)?delete o["max-age"]:o["max-age"]=h}return o}let Et,Vt,_t,qt,tn,Nt,wt=null;function De(u){try{const o=self[u];return o.setItem("_mapbox_test_",1),o.removeItem("_mapbox_test_"),!0}catch{return!1}}function We(u,o){return[u[4*o],u[4*o+1],u[4*o+2],u[4*o+3]]}function ut(u,o,h,p){for(;o<h;){const v=o+h>>1;u[v]<p?o=v+1:h=v}return o}function It(u,o,h,p){for(;o<h;){const v=o+h>>1;u[v]<=p?o=v+1:h=v}return o}function Xe(){return Et==null&&(Et=self.OffscreenCanvas&&new OffscreenCanvas(1,1).getContext("2d")&&typeof self.createImageBitmap=="function"),Et}const Pt={now:()=>qt!==void 0?qt:performance.now(),setNow(u){qt=u},restoreNow(){qt=void 0},frame(u){const o=requestAnimationFrame(u);return{cancel:()=>cancelAnimationFrame(o)}},getImageData(u,o=0){const{width:h,height:p}=u;tn||(tn=document.createElement("canvas"));const v=tn.getContext("2d",{willReadFrequently:!0});if(!v)throw new Error("failed to create canvas 2d context");return(h>tn.width||p>tn.height)&&(tn.width=h,tn.height=p),v.clearRect(-o,-o,h+2*o,p+2*o),v.drawImage(u,0,0,h,p),v.getImageData(-o,-o,h+2*o,p+2*o)},resolveURL:u=>(Vt||(Vt=document.createElement("a")),Vt.href=u,Vt.href),get devicePixelRatio(){return window.devicePixelRatio},get prefersReducedMotion(){return!!window.matchMedia&&(_t==null&&(_t=window.matchMedia("(prefers-reduced-motion: reduce)")),_t.matches)},hasCanvasFingerprintNoise(){if(Nt!==void 0)return Nt;if(!Xe())return Nt=!1,!1;const u=new OffscreenCanvas(85,1),o=u.getContext("2d",{willReadFrequently:!0});let h=0;for(let v=0;v<u.width;++v)o.fillStyle=`rgba(${h++},${h++},${h++}, 255)`,o.fillRect(v,0,1,1);const p=o.getImageData(0,0,u.width,u.height);h=0;for(let v=0;v<p.data.length;++v)if(v%4!=3&&h++!==p.data[v])return Nt=!0,!0;return Nt=!1,!1}},Bt="mapbox-tiles";let it=500,Mt=50,at,et;function St(){try{return caches}catch{}}function sn(){const u=St();u&&!at&&(at=u.open(Bt))}function bn(u){const o=u.indexOf("?");if(o<0)return u;const h=["language","worldview"],p=new URLSearchParams,v=new URLSearchParams(u.slice(o));for(const b of h){const C=v.get(b);C&&p.set(b,C)}return`${u.slice(0,o)}?${p.toString()}`}function gr(u,o){const h=u.indexOf("?");if(h<0)return`${u}?${new URLSearchParams(o).toString()}`;const p=new URLSearchParams(u.slice(h));for(const v in o)p.set(v,o[v]);return`${u.slice(0,h)}?${p.toString()}`}let tr=1/0;const Nn={supported:!1,testSupport:function(u){!xi&&Qr&&(ai?ma(u):lr=u)}};let lr,Qr,xi=!1,ai=!1;const zi=typeof self<"u"?self:{};function ma(u){const o=u.createTexture();u.bindTexture(u.TEXTURE_2D,o);try{if(u.texImage2D(u.TEXTURE_2D,0,u.RGBA,u.RGBA,u.UNSIGNED_BYTE,Qr),u.isContextLost())return;Nn.supported=!0}catch{}u.deleteTexture(o),xi=!0}zi.document&&(Qr=zi.document.createElement("img"),Qr.onload=function(){lr&&ma(lr),lr=null,ai=!0},Qr.onerror=function(){xi=!0,lr=null},Qr.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const Rr={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image",Model:"Model"};typeof Object.freeze=="function"&&Object.freeze(Rr);class Ki extends Error{constructor(o,h,p){h===401&&_(p)&&(o+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(o),this.status=h,this.url=p}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const $i=vt()?()=>self.worker&&self.worker.referrer:()=>(location.protocol==="blob:"?parent:self).location.href,Jt=function(u,o){if(!(/^file:/.test(h=u.url)||/^file:/.test($i())&&!/^\w+:/.test(h))){if(self.fetch&&self.Request&&self.AbortController&&Request.prototype.hasOwnProperty("signal"))return function(p,v){const b=new AbortController,C=new Request(p.url,{method:p.method||"GET",body:p.body,credentials:p.credentials,headers:p.headers,referrer:$i(),referrerPolicy:p.referrerPolicy,signal:b.signal});let M=!1,k=!1;const O=(U=C.url).indexOf("sku=")>0&&_(U);var U;p.type==="json"&&C.headers.set("Accept","application/json");const G=(fe,ge,xe)=>{if(k)return;if(fe&&fe.message!=="SecurityError"&&Ge(fe.toString()),ge&&xe)return Z(ge);const Ie=Date.now();fetch(C).then(Oe=>{if(Oe.ok){const rt=O?Oe.clone():null;return Z(Oe,rt,Ie)}return v(new Ki(Oe.statusText,Oe.status,p.url))}).catch(Oe=>{Oe.name!=="AbortError"&&v(new Error(`${Oe.message} ${p.url}`))})},Z=(fe,ge,xe)=>{(p.type==="arrayBuffer"?fe.arrayBuffer():p.type==="json"?fe.json():fe.text()).then(Ie=>{k||(ge&&xe&&function(Oe,rt,lt){if(sn(),!at)return;const ot=Lt(rt.headers.get("Cache-Control")||"");if(ot["no-store"])return;const Tt={status:rt.status,statusText:rt.statusText,headers:new Headers};rt.headers.forEach((Gt,Xt)=>Tt.headers.set(Xt,Gt)),ot["max-age"]&&Tt.headers.set("Expires",new Date(lt+1e3*ot["max-age"]).toUTCString());const yt=Tt.headers.get("Expires");if(!yt||new Date(yt).getTime()-lt<42e4)return;let Dt=bn(Oe.url);if(rt.status===206){const Gt=Oe.headers.get("Range");if(!Gt)return;Tt.status=200,Dt=gr(Dt,{range:Gt})}(function(Gt,Xt){if(et===void 0)try{new Response(new ReadableStream),et=!0}catch{et=!1}et?Xt(Gt.body):Gt.blob().then(Xt)})(rt,Gt=>{const Xt=new Response(Gt,Tt);sn(),at&&at.then(pn=>pn.put(Dt,Xt)).catch(pn=>Ge(pn.message))})}(C,ge,xe),M=!0,v(null,Ie,fe.headers.get("Cache-Control"),fe.headers.get("Expires")))}).catch(Ie=>{k||v(new Error(Ie.message))})};return O?function(fe,ge){if(sn(),!at)return ge(null);at.then(xe=>{let Ie=bn(fe.url);const Oe=fe.headers.get("Range");Oe&&(Ie=gr(Ie,{range:Oe})),xe.match(Ie).then(rt=>{const lt=function(ot){if(!ot)return!1;const Tt=new Date(ot.headers.get("Expires")||0),yt=Lt(ot.headers.get("Cache-Control")||"");return Tt>Date.now()&&!yt["no-cache"]}(rt);xe.delete(Ie),lt&&xe.put(Ie,rt.clone()),ge(null,rt,lt)}).catch(ge)}).catch(ge)}(C,G):G(null,null),{cancel:()=>{k=!0,M||b.abort()}}}(u,o);if(vt()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",u,o,void 0,!0)}var h;return function(p,v){const b=new XMLHttpRequest;b.open(p.method||"GET",p.url,!0),p.type==="arrayBuffer"&&(b.responseType="arraybuffer");for(const C in p.headers)b.setRequestHeader(C,p.headers[C]);return p.type==="json"&&(b.responseType="text",b.setRequestHeader("Accept","application/json")),b.withCredentials=p.credentials==="include",b.onerror=()=>{v(new Error(b.statusText))},b.onload=()=>{if((b.status>=200&&b.status<300||b.status===0)&&b.response!==null){let C=b.response;if(p.type==="json")try{C=JSON.parse(b.response)}catch(M){return v(M)}v(null,C,b.getResponseHeader("Cache-Control"),b.getResponseHeader("Expires"))}else v(new Ki(b.statusText,b.status,p.url))},b.send(p.body),{cancel:()=>b.abort()}}(u,o)},hn=function(u,o){return Jt(se(u,{type:"arrayBuffer"}),o)};function En(u){const o=document.createElement("a");return o.href=u,o.protocol===location.protocol&&o.host===location.host}const Hn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let Ht,an;Ht=[],an=0;const In=function(u,o){if(Nn.supported&&(u.headers||(u.headers={}),u.headers.accept="image/webp,*/*"),an>=m.MAX_PARALLEL_IMAGE_REQUESTS){const b={requestParameters:u,callback:o,cancelled:!1,cancel(){this.cancelled=!0}};return Ht.push(b),b}an++;let h=!1;const p=()=>{if(!h)for(h=!0,an--;Ht.length&&an<m.MAX_PARALLEL_IMAGE_REQUESTS;){const b=Ht.shift(),{requestParameters:C,callback:M,cancelled:k}=b;k||(b.cancel=In(C,M).cancel)}},v=hn(u,(b,C,M,k)=>{p(),b?o(b):C&&(self.createImageBitmap?function(O,U){const G=new Blob([new Uint8Array(O)],{type:"image/png"});createImageBitmap(G).then(Z=>{U(null,Z)}).catch(Z=>{U(new Error(`Could not load image because of ${Z.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(C,(O,U)=>o(O,U,M,k)):function(O,U){const G=new Image;G.onload=()=>{U(null,G),URL.revokeObjectURL(G.src),G.onload=null,requestAnimationFrame(()=>{G.src=Hn})},G.onerror=()=>U(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const Z=new Blob([new Uint8Array(O)],{type:"image/png"});G.src=O.byteLength?URL.createObjectURL(Z):Hn}(C,(O,U)=>o(O,U,M,k)))});return{cancel:()=>{v.cancel(),p()}}},Pn="01",er="NO_ACCESS_TOKEN",Gn=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Mr(u){const o=u.match(Gn);if(!o)throw new Error("Unable to parse URL object");return{protocol:o[1],authority:o[2],path:o[3]||"/",params:o[4]?o[4].split("&"):[]}}function ti(u){const o=u.params.length?`?${u.params.join("&")}`:"";return`${u.protocol}://${u.authority}${u.path}${o}`}const Tn="mapbox.eventData";function Kt(u){if(!u)return null;const o=u.split(".");if(!o||o.length!==3)return null;try{return JSON.parse(decodeURIComponent(atob(o[1]).split("").map(h=>"%"+("00"+h.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch{return null}}class Zn{constructor(o){this.type=o,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(o){const h=Kt(m.ACCESS_TOKEN);let p="";return p=h&&h.u?btoa(encodeURIComponent(h.u).replace(/%([0-9A-F]{2})/g,(v,b)=>String.fromCharCode(+("0x"+b)))):m.ACCESS_TOKEN||"",o?`${Tn}.${o}:${p}`:`${Tn}:${p}`}fetchEventData(){const o=De("localStorage"),h=this.getStorageKey(),p=this.getStorageKey("uuid");if(o)try{const v=localStorage.getItem(h);v&&(this.eventData=JSON.parse(v));const b=localStorage.getItem(p);b&&(this.anonId=b)}catch{Ge("Unable to read from LocalStorage")}}saveEventData(){const o=De("localStorage"),h=this.getStorageKey(),p=this.getStorageKey("uuid"),v=this.anonId;if(o&&v)try{localStorage.setItem(p,v),Object.keys(this.eventData).length>=1&&localStorage.setItem(h,JSON.stringify(this.eventData))}catch{Ge("Unable to write to LocalStorage")}}processRequests(o){}postEvent(o,h,p,v){if(!m.EVENTS_URL)return;const b=Mr(m.EVENTS_URL);b.params.push(`access_token=${v||m.ACCESS_TOKEN||""}`);const C={event:this.type,created:new Date(o).toISOString()},M=h?se(C,h):C,k={url:ti(b),headers:{"Content-Type":"text/plain"},body:JSON.stringify([M])};this.pendingRequest=function(O,U){return Jt(se(O,{method:"POST"}),U)}(k,O=>{this.pendingRequest=null,p(O),this.saveEventData(),this.processRequests(v)})}queueRequest(o,h){this.queue.push(o),this.processRequests(h)}}const jt=new class extends Zn{constructor(u){super("appUserTurnstile"),this._customAccessToken=u}postTurnstileEvent(u,o){m.EVENTS_URL&&m.ACCESS_TOKEN&&Array.isArray(u)&&u.some(h=>y(h)||_(h))&&this.queueRequest(Date.now(),o)}processRequests(u){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const o=Kt(m.ACCESS_TOKEN),h=o?o.u:m.ACCESS_TOKEN;let p=h!==this.eventData.tokenU;be(this.anonId)||(this.anonId=Ue(),p=!0);const v=this.queue.shift();if(this.eventData.lastSuccess){const b=new Date(this.eventData.lastSuccess),C=new Date(v),M=(v-this.eventData.lastSuccess)/864e5;p=p||M>=1||M<-1||b.getDate()!==C.getDate()}else p=!0;p?this.postEvent(v,{sdkIdentifier:"mapbox-gl-js",sdkVersion:f,skuId:Pn,"enabled.telemetry":!1,userId:this.anonId},b=>{b||(this.eventData.lastSuccess=v,this.eventData.tokenU=h)},u):this.processRequests()}},Xn=jt.postTurnstileEvent.bind(jt),Pr=new class extends Zn{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(u,o,h,p){this.skuToken=o,this.errorCb=p,m.EVENTS_URL&&(h||m.ACCESS_TOKEN?this.queueRequest({id:u,timestamp:Date.now()},h):this.errorCb(new Error(er)))}processRequests(u){if(this.pendingRequest||this.queue.length===0)return;const{id:o,timestamp:h}=this.queue.shift();o&&this.success[o]||(this.anonId||this.fetchEventData(),be(this.anonId)||(this.anonId=Ue()),this.postEvent(h,{sdkIdentifier:"mapbox-gl-js",sdkVersion:f,skuId:Pn,skuToken:this.skuToken,userId:this.anonId},p=>{p?this.errorCb(p):o&&(this.success[o]=!0)},u))}remove(){this.errorCb=null}},_r=Pr.postMapLoadEvent.bind(Pr),ha=new class extends Zn{constructor(){super("gljs.performance")}postPerformanceEvent(u,o){m.EVENTS_URL&&(u||m.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:o},u)}processRequests(u){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:o,performanceData:h}=this.queue.shift(),p=function(v){const b=performance.getEntriesByType("resource"),C=performance.getEntriesByType("mark"),M=function(fe){const ge={};if(fe){for(const xe in fe)if(xe!=="other")for(const Ie of fe[xe]){const Oe=`${xe}ResolveRangeMin`,rt=`${xe}ResolveRangeMax`,lt=`${xe}RequestCount`,ot=`${xe}RequestCachedCount`;ge[Oe]=Math.min(ge[Oe]||1/0,Ie.startTime),ge[rt]=Math.max(ge[rt]||-1/0,Ie.responseEnd);const Tt=yt=>{ge[yt]===void 0&&(ge[yt]=0),++ge[yt]};Ie.transferSize!==void 0&&Ie.transferSize===0&&Tt(ot),Tt(lt)}}return ge}(function(fe,ge){const xe={};if(fe)for(const Ie of fe){const Oe=ge(Ie);xe[Oe]===void 0&&(xe[Oe]=[]),xe[Oe].push(Ie)}return xe}(b,F)),k=window.devicePixelRatio,O=navigator.connection||navigator.mozConnection||navigator.webkitConnection,U=O?O.effectiveType:void 0,G={counters:[],metadata:[],attributes:[]},Z=(fe,ge,xe)=>{xe!=null&&fe.push({name:ge,value:xe.toString()})};for(const fe in M)Z(G.counters,fe,M[fe]);if(v.interactionRange[0]!==1/0&&v.interactionRange[1]!==-1/0&&(Z(G.counters,"interactionRangeMin",v.interactionRange[0]),Z(G.counters,"interactionRangeMax",v.interactionRange[1])),C)for(const fe of Object.keys(I)){const ge=I[fe],xe=C.find(Ie=>Ie.name===ge);xe&&Z(G.counters,ge,xe.startTime)}return Z(G.counters,"visibilityHidden",v.visibilityHidden),Z(G.attributes,"style",function(fe){if(fe)for(const ge of fe){const xe=ge.name.split("?")[0];if(P(xe)){const Ie=xe.split("/").slice(-2);if(Ie.length===2)return`mapbox://styles/${Ie[0]}/${Ie[1]}`}}}(b)),Z(G.attributes,"terrainEnabled",v.terrainEnabled?"true":"false"),Z(G.attributes,"fogEnabled",v.fogEnabled?"true":"false"),Z(G.attributes,"projection",v.projection),Z(G.attributes,"zoom",v.zoom),Z(G.metadata,"devicePixelRatio",k),Z(G.metadata,"connectionEffectiveType",U),Z(G.metadata,"navigatorUserAgent",navigator.userAgent),Z(G.metadata,"screenWidth",window.screen.width),Z(G.metadata,"screenHeight",window.screen.height),Z(G.metadata,"windowWidth",window.innerWidth),Z(G.metadata,"windowHeight",window.innerHeight),Z(G.metadata,"mapWidth",v.width/k),Z(G.metadata,"mapHeight",v.height/k),Z(G.metadata,"webglRenderer",v.renderer),Z(G.metadata,"webglVendor",v.vendor),Z(G.metadata,"sdkVersion",f),Z(G.metadata,"sdkIdentifier","mapbox-gl-js"),G}(h);for(const v of p.metadata);for(const v of p.counters);for(const v of p.attributes);this.postEvent(o,p,()=>{},u)}},is=ha.postPerformanceEvent.bind(ha),Ca=new class extends Zn{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(u,o,h,p){if(!m.API_URL||!m.SESSION_PATH)return;const v=Mr(m.API_URL+m.SESSION_PATH);v.params.push(`sku=${o||""}`),v.params.push(`access_token=${p||m.ACCESS_TOKEN||""}`);const b={url:ti(v),headers:{"Content-Type":"text/plain"}};this.pendingRequest=function(C,M){return Jt(se(C,{method:"GET"}),M)}(b,C=>{this.pendingRequest=null,h(C),this.saveEventData(),this.processRequests(p)})}getSessionAPI(u,o,h,p){this.skuToken=o,this.errorCb=p,m.SESSION_PATH&&m.API_URL&&(h||m.ACCESS_TOKEN?this.queueRequest({id:u,timestamp:Date.now()},h):this.errorCb(new Error(er)))}processRequests(u){if(this.pendingRequest||this.queue.length===0)return;const{id:o,timestamp:h}=this.queue.shift();o&&this.success[o]||this.getSession(h,this.skuToken,p=>{p?this.errorCb(p):o&&(this.success[o]=!0)},u)}remove(){this.errorCb=null}},zc=Ca.getSessionAPI.bind(Ca),iu=new Set;function jh(u,o,h){h[u]&&h[u].indexOf(o)!==-1||(h[u]=h[u]||[],h[u].push(o))}function uA(u,o,h){if(h&&h[u]){const p=h[u].indexOf(o);p!==-1&&h[u].splice(p,1)}}class Gh{constructor(o,h={}){se(this,h),this.type=o}}class $d extends Gh{constructor(o,h={}){super("error",se({error:o},h))}}class Vd{on(o,h){return this._listeners=this._listeners||{},jh(o,h,this._listeners),this}off(o,h){return uA(o,h,this._listeners),uA(o,h,this._oneTimeListeners),this}once(o,h){return h?(this._oneTimeListeners=this._oneTimeListeners||{},jh(o,h,this._oneTimeListeners),this):new Promise(p=>this.once(o,p))}fire(o,h){typeof o=="string"&&(o=new Gh(o,h||{}));const p=o.type;if(this.listens(p)){o.target=this;const v=this._listeners&&this._listeners[p]?this._listeners[p].slice():[];for(const M of v)M.call(this,o);const b=this._oneTimeListeners&&this._oneTimeListeners[p]?this._oneTimeListeners[p].slice():[];for(const M of b)uA(p,M,this._oneTimeListeners),M.call(this,o);const C=this._eventedParent;C&&(se(o,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),C.fire(o))}else o instanceof $d&&console.error(o.error);return this}listens(o){return!!(this._listeners&&this._listeners[o]&&this._listeners[o].length>0||this._oneTimeListeners&&this._oneTimeListeners[o]&&this._oneTimeListeners[o].length>0||this._eventedParent&&this._eventedParent.listens(o))}setEventedParent(o,h){return this._eventedParent=o,this._eventedParentData=h,this}}a.y=void 0;var ho={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Uf(u){return(u=Math.round(u))<0?0:u>255?255:u}function cA(u){return Uf(u[u.length-1]==="%"?parseFloat(u)/100*255:parseInt(u))}function zf(u){return(o=u[u.length-1]==="%"?parseFloat(u)/100:parseFloat(u))<0?0:o>1?1:o;var o}function $f(u,o,h){return h<0?h+=1:h>1&&(h-=1),6*h<1?u+(o-u)*h*6:2*h<1?o:3*h<2?u+(o-u)*(2/3-h)*6:u}try{a.y={}.parseCSSColor=function(u){var o,h=u.replace(/ /g,"").toLowerCase();if(h in ho)return ho[h].slice();if(h[0]==="#")return h.length===4?(o=parseInt(h.substr(1),16))>=0&&o<=4095?[(3840&o)>>4|(3840&o)>>8,240&o|(240&o)>>4,15&o|(15&o)<<4,1]:null:h.length===7&&(o=parseInt(h.substr(1),16))>=0&&o<=16777215?[(16711680&o)>>16,(65280&o)>>8,255&o,1]:null;var p=h.indexOf("("),v=h.indexOf(")");if(p!==-1&&v+1===h.length){var b=h.substr(0,p),C=h.substr(p+1,v-(p+1)).split(","),M=1;switch(b){case"rgba":if(C.length!==4)return null;M=zf(C.pop());case"rgb":return C.length!==3?null:[cA(C[0]),cA(C[1]),cA(C[2]),M];case"hsla":if(C.length!==4)return null;M=zf(C.pop());case"hsl":if(C.length!==3)return null;var k=(parseFloat(C[0])%360+360)%360/360,O=zf(C[1]),U=zf(C[2]),G=U<=.5?U*(O+1):U+O-U*O,Z=2*U-G;return[Uf(255*$f(Z,G,k+1/3)),Uf(255*$f(Z,G,k)),Uf(255*$f(Z,G,k-1/3)),M];default:return null}}return null}}catch{}class Ul{constructor(o,h,p,v=1){this.r=o,this.g=h,this.b=p,this.a=v}static parse(o){if(!o)return;if(o instanceof Ul)return o;if(typeof o!="string")return;const h=a.y(o);return h?new Ul(h[0]/255*h[3],h[1]/255*h[3],h[2]/255*h[3],h[3]):void 0}toString(){const[o,h,p,v]=this.toArray();return`rgba(${Math.round(o)},${Math.round(h)},${Math.round(p)},${v})`}toArray(){const{r:o,g:h,b:p,a:v}=this;return v===0?[0,0,0,0]:[255*o/v,255*h/v,255*p/v,v]}toArray01(){const{r:o,g:h,b:p,a:v}=this;return v===0?[0,0,0,0]:[o/v,h/v,p/v,v]}toArray01Scaled(o){const{r:h,g:p,b:v,a:b}=this;return b===0?[0,0,0]:[h/b*o,p/b*o,v/b*o]}toArray01PremultipliedAlpha(){const{r:o,g:h,b:p,a:v}=this;return[o,h,p,v]}toArray01Linear(){const{r:o,g:h,b:p,a:v}=this;return v===0?[0,0,0,0]:[Math.pow(o/v,2.2),Math.pow(h/v,2.2),Math.pow(p/v,2.2),v]}}Ul.black=new Ul(0,0,0,1),Ul.white=new Ul(1,1,1,1),Ul.transparent=new Ul(0,0,0,0),Ul.red=new Ul(1,0,0,1),Ul.blue=new Ul(0,0,1,1);var Ga=Ul;function Ri(u,o,h){return u*(1-h)+o*h}function au(u,o,h){return u.map((p,v)=>Ri(p,o[v],h))}var Hd=Object.freeze({__proto__:null,array:au,color:function(u,o,h){return new Ga(Ri(u.r,o.r,h),Ri(u.g,o.g,h),Ri(u.b,o.b,h),Ri(u.a,o.a,h))},number:Ri});function hA(u,...o){for(const h of o)for(const p in h)u[p]=h[p];return u}class y1 extends Error{constructor(o,h){super(h),this.message=h,this.key=o}}var Qu=y1;class km{constructor(o,h=[]){this.parent=o,this.bindings={};for(const[p,v]of h)this.bindings[p]=v}concat(o){return new km(this,o)}get(o){if(this.bindings[o])return this.bindings[o];if(this.parent)return this.parent.get(o);throw new Error(`${o} not found in scope.`)}has(o){return!!this.bindings[o]||!!this.parent&&this.parent.has(o)}}var g0=km;const Qd={kind:"null"},mr={kind:"number"},da={kind:"string"},fa={kind:"boolean"},Cu={kind:"color"},Eu={kind:"object"},Qi={kind:"value"},Kh={kind:"collator"},Wh={kind:"formatted"},Oo={kind:"resolvedImage"};function zl(u,o){return{kind:"array",itemType:u,N:o}}function ys(u){if(u.kind==="array"){const o=ys(u.itemType);return typeof u.N=="number"?`array<${o}, ${u.N}>`:u.itemType.kind==="value"?"array":`array<${o}>`}return u.kind}const rr=[Qd,mr,da,fa,Cu,Wh,Eu,zl(Qi),Oo];function qh(u,o){if(o.kind==="error")return null;if(u.kind==="array"){if(o.kind==="array"&&(o.N===0&&o.itemType.kind==="value"||!qh(u.itemType,o.itemType))&&(typeof u.N!="number"||u.N===o.N))return null}else{if(u.kind===o.kind)return null;if(u.kind==="value"){for(const h of rr)if(!qh(h,o))return null}}return`Expected ${ys(u)} but found ${ys(o)} instead.`}function si(u,o){return o.some(h=>h.kind===u.kind)}function dl(u,o){return o.some(h=>h==="null"?u===null:h==="array"?Array.isArray(u):h==="object"?u&&!Array.isArray(u)&&typeof u=="object":h===typeof u)}class Mi{constructor(o,h,p){this.sensitivity=o?h?"variant":"case":h?"accent":"base",this.locale=p,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(o,h){return this.collator.compare(o,h)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Yh{constructor(o,h,p,v,b){this.text=o.normalize?o.normalize():o,this.image=h,this.scale=p,this.fontStack=v,this.textColor=b}}class io{constructor(o){this.sections=o}static fromString(o){return new io([new Yh(o,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(o=>o.text.length!==0||o.image&&o.image.namePrimary.length!==0)}static factory(o){return o instanceof io?o:io.fromString(o)}toString(){return this.sections.length===0?"":this.sections.map(o=>o.text).join("")}serialize(){const o=["format"];for(const h of this.sections){if(h.image){o.push(["image",h.image.namePrimary]);continue}o.push(h.text);const p={};h.fontStack&&(p["text-font"]=["literal",h.fontStack.split(",")]),h.scale&&(p["font-scale"]=h.scale),h.textColor&&(p["text-color"]=["rgba"].concat(h.textColor.toArray())),o.push(p)}return o}}class Vr{constructor(o){this.namePrimary=o.namePrimary,o.nameSecondary&&(this.nameSecondary=o.nameSecondary),this.available=o.available}toString(){return this.nameSecondary?`[${this.namePrimary},${this.nameSecondary}]`:this.namePrimary}static fromString(o,h){return o?new Vr({namePrimary:o,nameSecondary:h,available:!1}):null}serialize(){return this.nameSecondary?["image",this.namePrimary,this.nameSecondary]:["image",this.namePrimary]}}function v0(u,o,h,p){return typeof u=="number"&&u>=0&&u<=255&&typeof o=="number"&&o>=0&&o<=255&&typeof h=="number"&&h>=0&&h<=255?p===void 0||typeof p=="number"&&p>=0&&p<=1?null:`Invalid rgba value [${[u,o,h,p].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof p=="number"?[u,o,h,p]:[u,o,h]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Xh(u){if(u===null||typeof u=="string"||typeof u=="boolean"||typeof u=="number"||u instanceof Ga||u instanceof Mi||u instanceof io||u instanceof Vr)return!0;if(Array.isArray(u)){for(const o of u)if(!Xh(o))return!1;return!0}if(typeof u=="object"){for(const o in u)if(!Xh(u[o]))return!1;return!0}return!1}function Gs(u){if(u===null)return Qd;if(typeof u=="string")return da;if(typeof u=="boolean")return fa;if(typeof u=="number")return mr;if(u instanceof Ga)return Cu;if(u instanceof Mi)return Kh;if(u instanceof io)return Wh;if(u instanceof Vr)return Oo;if(Array.isArray(u)){const o=u.length;let h;for(const p of u){const v=Gs(p);if(h){if(h===v)continue;h=Qi;break}h=v}return zl(h||Qi,o)}return Eu}function $l(u){const o=typeof u;return u===null?"":o==="string"||o==="number"||o==="boolean"?String(u):u instanceof Ga||u instanceof io||u instanceof Vr?u.toString():JSON.stringify(u)}class Su{constructor(o,h){this.type=o,this.value=h}static parse(o,h){if(o.length!==2)return h.error(`'literal' expression requires exactly one argument, but found ${o.length-1} instead.`);if(!Xh(o[1]))return h.error("invalid value");const p=o[1];let v=Gs(p);const b=h.expectedType;return v.kind!=="array"||v.N!==0||!b||b.kind!=="array"||typeof b.N=="number"&&b.N!==0||(v=b),new Su(v,p)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof Ga?["rgba"].concat(this.value.toArray()):this.value instanceof io?this.value.serialize():this.value}}var Vl=Su,Ks=class{constructor(u){this.name="ExpressionEvaluationError",this.message=u}toJSON(){return this.message}};const Zh={string:da,number:mr,boolean:fa,object:Eu};class Vf{constructor(o,h){this.type=o,this.args=h}static parse(o,h){if(o.length<2)return h.error("Expected at least one argument.");let p,v=1;const b=o[0];if(b==="array"){let M,k;if(o.length>2){const O=o[1];if(typeof O!="string"||!(O in Zh)||O==="object")return h.error('The item type argument of "array" must be one of string, number, boolean',1);M=Zh[O],v++}else M=Qi;if(o.length>3){if(o[2]!==null&&(typeof o[2]!="number"||o[2]<0||o[2]!==Math.floor(o[2])))return h.error('The length argument to "array" must be a positive integer literal',2);k=o[2],v++}p=zl(M,k)}else p=Zh[b];const C=[];for(;v<o.length;v++){const M=h.parse(o[v],v,Qi);if(!M)return null;C.push(M)}return new Vf(p,C)}evaluate(o){for(let h=0;h<this.args.length;h++){const p=this.args[h].evaluate(o);if(!qh(this.type,Gs(p)))return p;if(h===this.args.length-1)throw new Ks(`Expected value to be of type ${ys(this.type)}, but found ${ys(Gs(p))} instead.`)}return null}eachChild(o){this.args.forEach(o)}outputDefined(){return this.args.every(o=>o.outputDefined())}serialize(){const o=this.type,h=[o.kind];if(o.kind==="array"){const p=o.itemType;if(p.kind==="string"||p.kind==="number"||p.kind==="boolean"){h.push(p.kind);const v=o.N;(typeof v=="number"||this.args.length>1)&&h.push(v)}}return h.concat(this.args.map(p=>p.serialize()))}}var Tu=Vf;class Jh{constructor(o){this.type=Wh,this.sections=o}static parse(o,h){if(o.length<2)return h.error("Expected at least one argument.");const p=o[1];if(!Array.isArray(p)&&typeof p=="object")return h.error("First argument must be an image or text section.");const v=[];let b=!1;for(let C=1;C<=o.length-1;++C){const M=o[C];if(b&&typeof M=="object"&&!Array.isArray(M)){b=!1;let k=null;if(M["font-scale"]&&(k=h.parse(M["font-scale"],1,mr),!k))return null;let O=null;if(M["text-font"]&&(O=h.parse(M["text-font"],1,zl(da)),!O))return null;let U=null;if(M["text-color"]&&(U=h.parse(M["text-color"],1,Cu),!U))return null;const G=v[v.length-1];G.scale=k,G.font=O,G.textColor=U}else{const k=h.parse(o[C],1,Qi);if(!k)return null;const O=k.type.kind;if(O!=="string"&&O!=="value"&&O!=="null"&&O!=="resolvedImage")return h.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");b=!0,v.push({content:k,scale:null,font:null,textColor:null})}}return new Jh(v)}evaluate(o){return new io(this.sections.map(h=>{const p=h.content.evaluate(o);return Gs(p)===Oo?new Yh("",p,null,null,null):new Yh($l(p),null,h.scale?h.scale.evaluate(o):null,h.font?h.font.evaluate(o).join(","):null,h.textColor?h.textColor.evaluate(o):null)}))}eachChild(o){for(const h of this.sections)o(h.content),h.scale&&o(h.scale),h.font&&o(h.font),h.textColor&&o(h.textColor)}outputDefined(){return!1}serialize(){const o=["format"];for(const h of this.sections){o.push(h.content.serialize());const p={};h.scale&&(p["font-scale"]=h.scale.serialize()),h.font&&(p["text-font"]=h.font.serialize()),h.textColor&&(p["text-color"]=h.textColor.serialize()),o.push(p)}return o}}class uh{constructor(o,h){this.type=Oo,this.inputPrimary=o,this.inputSecondary=h}static parse(o,h){if(o.length<2)return h.error("Expected two or more arguments.");const p=h.parse(o[1],1,da);if(!p)return h.error("No image name provided.");if(o.length===2)return new uh(p);const v=h.parse(o[2],1,da);return v?new uh(p,v):h.error("Secondary image variant is not a string.")}evaluate(o){const h=Vr.fromString(this.inputPrimary.evaluate(o),this.inputSecondary?this.inputSecondary.evaluate(o):void 0);return h&&o.availableImages&&(h.available=o.availableImages.indexOf(h.namePrimary)>-1,h.nameSecondary&&h.available&&o.availableImages&&(h.available=o.availableImages.indexOf(h.nameSecondary)>-1)),h}eachChild(o){o(this.inputPrimary),this.inputSecondary&&o(this.inputSecondary)}outputDefined(){return!1}serialize(){return this.inputSecondary?["image",this.inputPrimary.serialize(),this.inputSecondary.serialize()]:["image",this.inputPrimary.serialize()]}}function ed(u){return u instanceof Number?"number":u instanceof String?"string":u instanceof Boolean?"boolean":Array.isArray(u)?"array":u===null?"null":typeof u}const Bu={"to-boolean":fa,"to-color":Cu,"to-number":mr,"to-string":da};class lc{constructor(o,h){this.type=o,this.args=h}static parse(o,h){if(o.length<2)return h.error("Expected at least one argument.");const p=o[0],v=[];let b=Qd;if(p==="to-array"){if(!Array.isArray(o[1]))return null;const C=o[1].length;if(h.expectedType){if(h.expectedType.kind!=="array")return h.error(`Expected ${h.expectedType.kind} but found array.`);b=zl(h.expectedType.itemType,C)}else{if(!(C>0&&Xh(o[1][0])))return null;b=zl(Gs(o[1][0]),C)}for(let M=0;M<C;M++){const k=o[1][M];let O;if(ed(k)==="array")O=h.parse(k,void 0,b.itemType);else{const U=ed(k);if(U!==b.itemType.kind)return h.error(`Expected ${b.itemType.kind} but found ${U}.`);O=h.registry.literal.parse(["literal",k===void 0?null:k],h)}if(!O)return null;v.push(O)}}else{if((p==="to-boolean"||p==="to-string")&&o.length!==2)return h.error("Expected one argument.");b=Bu[p];for(let C=1;C<o.length;C++){const M=h.parse(o[C],C,Qi);if(!M)return null;v.push(M)}}return new lc(b,v)}evaluate(o){if(this.type.kind==="boolean")return!!this.args[0].evaluate(o);if(this.type.kind==="color"){let h,p;for(const v of this.args){if(h=v.evaluate(o),p=null,h instanceof Ga)return h;if(typeof h=="string"){const b=o.parseColor(h);if(b)return b}else if(Array.isArray(h)&&(p=h.length<3||h.length>4?`Invalid rbga value ${JSON.stringify(h)}: expected an array containing either three or four numeric values.`:v0(h[0],h[1],h[2],h[3]),!p))return new Ga(h[0]/255,h[1]/255,h[2]/255,h[3])}throw new Ks(p||`Could not parse color from value '${typeof h=="string"?h:String(JSON.stringify(h))}'`)}if(this.type.kind==="number"){let h=null;for(const p of this.args){if(h=p.evaluate(o),h===null)return 0;const v=Number(h);if(!isNaN(v))return v}throw new Ks(`Could not convert ${JSON.stringify(h)} to number.`)}return this.type.kind==="formatted"?io.fromString($l(this.args[0].evaluate(o))):this.type.kind==="resolvedImage"?Vr.fromString($l(this.args[0].evaluate(o))):this.type.kind==="array"?this.args.map(h=>h.evaluate(o)):$l(this.args[0].evaluate(o))}eachChild(o){this.args.forEach(o)}outputDefined(){return this.args.every(o=>o.outputDefined())}serialize(){if(this.type.kind==="formatted")return new Jh([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new uh(this.args[0]).serialize();const o=this.type.kind==="array"?[]:[`to-${this.type.kind}`];return this.eachChild(h=>{o.push(h.serialize())}),o}}var Hl=lc;const Hf=["Unknown","Point","LineString","Polygon"];var td=class{constructor(u,o){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null,this.scope=u,this.options=o}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Hf[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}measureLight(u){return this.globals.brightness||0}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const u=this.featureDistanceData.center,o=this.featureDistanceData.scale,{x:h,y:p}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(h*o-u[0])+this.featureDistanceData.bearing[1]*(p*o-u[1])}return 0}parseColor(u){let o=this._parseColorCache[u];return o||(o=this._parseColorCache[u]=Ga.parse(u)),o}getConfig(u){return this.options?this.options.get(u):null}};class fl{constructor(o,h,p,v,b){this.name=o,this.type=h,this._evaluate=p,this.args=v,this._overloadIndex=b}evaluate(o){if(!this._evaluate){const h=fl.definitions[this.name];this._evaluate=Array.isArray(h)?h[2]:h.overloads[this._overloadIndex][1]}return this._evaluate(o,this.args)}eachChild(o){this.args.forEach(o)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(o=>o.serialize()))}static parse(o,h){const p=o[0],v=fl.definitions[p];if(!v)return h.error(`Unknown expression "${p}". If you wanted a literal array, use ["literal", [...]].`,0);const b=Array.isArray(v)?v[0]:v.type,C=Array.isArray(v)?[[v[1],v[2]]]:v.overloads,M=[];let k=null,O=-1;for(const[U,G]of C){if(Array.isArray(U)&&U.length!==o.length-1)continue;M.push(U),O++,k=new Zf(h.registry,h.path,null,h.scope,void 0,h._scope,h.options);const Z=[];let fe=!1;for(let ge=1;ge<o.length;ge++){const xe=o[ge],Ie=Array.isArray(U)?U[ge-1]:U.type,Oe=k.parse(xe,1+Z.length,Ie);if(!Oe){fe=!0;break}Z.push(Oe)}if(!fe)if(Array.isArray(U)&&U.length!==Z.length)k.error(`Expected ${U.length} arguments, but found ${Z.length} instead.`);else{for(let ge=0;ge<Z.length;ge++){const xe=Array.isArray(U)?U[ge]:U.type,Ie=Z[ge];k.concat(ge+1).checkSubtype(xe,Ie.type)}if(k.errors.length===0)return new fl(p,b,G,Z,O)}}if(M.length===1)h.errors.push(...k.errors);else{const U=(M.length?M:C.map(([Z])=>Z)).map(dA).join(" | "),G=[];for(let Z=1;Z<o.length;Z++){const fe=h.parse(o[Z],1+G.length);if(!fe)return null;G.push(ys(fe.type))}h.error(`Expected arguments of type ${U}, but found (${G.join(", ")}) instead.`)}return null}static register(o,h){fl.definitions=h;for(const p in h)o[p]=fl}}function dA(u){return Array.isArray(u)?`(${u.map(ys).join(", ")})`:`(${ys(u.type)}...)`}var Oi=fl;class Qf{constructor(o,h,p){this.type=Kh,this.locale=p,this.caseSensitive=o,this.diacriticSensitive=h}static parse(o,h){if(o.length!==2)return h.error("Expected one argument.");const p=o[1];if(typeof p!="object"||Array.isArray(p))return h.error("Collator options argument must be an object.");const v=h.parse(p["case-sensitive"]!==void 0&&p["case-sensitive"],1,fa);if(!v)return null;const b=h.parse(p["diacritic-sensitive"]!==void 0&&p["diacritic-sensitive"],1,fa);if(!b)return null;let C=null;return p.locale&&(C=h.parse(p.locale,1,da),!C)?null:new Qf(v,b,C)}evaluate(o){return new Mi(this.caseSensitive.evaluate(o),this.diacriticSensitive.evaluate(o),this.locale?this.locale.evaluate(o):null)}eachChild(o){o(this.caseSensitive),o(this.diacriticSensitive),this.locale&&o(this.locale)}outputDefined(){return!1}serialize(){const o={};return o["case-sensitive"]=this.caseSensitive.serialize(),o["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(o.locale=this.locale.serialize()),["collator",o]}}var jd={exports:{}};jd.exports=function(){function u(p,v,b,C,M){for(;C>b;){if(C-b>600){var k=C-b+1,O=v-b+1,U=Math.log(k),G=.5*Math.exp(2*U/3),Z=.5*Math.sqrt(U*G*(k-G)/k)*(O-k/2<0?-1:1);u(p,v,Math.max(b,Math.floor(v-O*G/k+Z)),Math.min(C,Math.floor(v+(k-O)*G/k+Z)),M)}var fe=p[v],ge=b,xe=C;for(o(p,b,v),M(p[C],fe)>0&&o(p,b,C);ge<xe;){for(o(p,ge,xe),ge++,xe--;M(p[ge],fe)<0;)ge++;for(;M(p[xe],fe)>0;)xe--}M(p[b],fe)===0?o(p,b,xe):o(p,++xe,C),xe<=v&&(b=xe+1),v<=xe&&(C=xe-1)}}function o(p,v,b){var C=p[v];p[v]=p[b],p[b]=C}function h(p,v){return p<v?-1:p>v?1:0}return function(p,v,b,C,M){u(p,v,b||0,C||p.length-1,M||h)}}();var b1=R(jd.exports);function Rm(u){let o=0;for(let h,p,v=0,b=u.length,C=b-1;v<b;C=v++)h=u[v],p=u[C],o+=(p.x-h.x)*(h.y+p.y);return o}function uc(u,o){u[0]=Math.min(u[0],o[0]),u[1]=Math.min(u[1],o[1]),u[2]=Math.max(u[2],o[0]),u[3]=Math.max(u[3],o[1])}function $c(u,o){return!(u[0]<=o[0]||u[2]>=o[2]||u[1]<=o[1]||u[3]>=o[3])}function nd(u,o,h){const p=u[0]-o[0],v=u[1]-o[1],b=u[0]-h[0],C=u[1]-h[1];return p*C-b*v==0&&p*b<=0&&v*C<=0}function ch(u,o,h=!1){let p=!1;for(let M=0,k=o.length;M<k;M++){const O=o[M];for(let U=0,G=O.length,Z=G-1;U<G;Z=U++){const fe=O[Z],ge=O[U];if(nd(u,fe,ge))return h;(b=fe)[1]>(v=u)[1]!=(C=ge)[1]>v[1]&&v[0]<(C[0]-b[0])*(v[1]-b[1])/(C[1]-b[1])+b[0]&&(p=!p)}}var v,b,C;return p}function jf(u,o,h,p){const v=p[0]-h[0],b=p[1]-h[1],C=(u[0]-h[0])*b-v*(u[1]-h[1]),M=(o[0]-h[0])*b-v*(o[1]-h[1]);return C>0&&M<0||C<0&&M>0}function cc(u,o,h,p){return(v=[p[0]-h[0],p[1]-h[1]])[0]*(b=[o[0]-u[0],o[1]-u[1]])[1]-v[1]*b[0]!=0&&!(!jf(u,o,h,p)||!jf(h,p,u,o));var v,b}const hh=8192;function dh(u,o){const h=(180+u[0])/360,p=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u[1]*Math.PI/360)))/360,v=Math.pow(2,o.z);return[Math.round(h*v*hh),Math.round(p*v*hh)]}function rd(u,o){for(let h=0;h<o.length;h++)if(ch(u,o[h]))return!0;return!1}function Gf(u,o,h){for(const p of h)for(let v=0,b=p.length,C=b-1;v<b;C=v++)if(cc(u,o,p[C],p[v]))return!0;return!1}function $o(u,o){for(let h=0;h<u.length;++h)if(!ch(u[h],o))return!1;for(let h=0;h<u.length-1;++h)if(Gf(u[h],u[h+1],o))return!1;return!0}function fA(u,o){for(let h=0;h<o.length;h++)if($o(u,o[h]))return!0;return!1}function me(u,o,h){const p=[];for(let v=0;v<u.length;v++){const b=[];for(let C=0;C<u[v].length;C++){const M=dh(u[v][C],h);uc(o,M),b.push(M)}p.push(b)}return p}function tt(u,o,h){const p=[];for(let v=0;v<u.length;v++){const b=me(u[v],o,h);p.push(b)}return p}function zt(u,o,h,p){if(u[0]<h[0]||u[0]>h[2]){const v=.5*p;let b=u[0]-h[0]>v?-p:h[0]-u[0]>v?p:0;b===0&&(b=u[0]-h[2]>v?-p:h[2]-u[0]>v?p:0),u[0]+=b}uc(o,u)}function Zt(u,o,h,p){const v=Math.pow(2,p.z)*hh,b=[p.x*hh,p.y*hh],C=[];if(!u)return C;for(const M of u)for(const k of M){const O=[k.x+b[0],k.y+b[1]];zt(O,o,h,v),C.push(O)}return C}function wn(u,o,h,p){const v=Math.pow(2,p.z)*hh,b=[p.x*hh,p.y*hh],C=[];if(!u)return C;for(const k of u){const O=[];for(const U of k){const G=[U.x+b[0],U.y+b[1]];uc(o,G),O.push(G)}C.push(O)}if(o[2]-o[0]<=v/2){(M=o)[0]=M[1]=1/0,M[2]=M[3]=-1/0;for(const k of C)for(const O of k)zt(O,o,h,v)}var M;return C}class Wn{constructor(o,h){this.type=fa,this.geojson=o,this.geometries=h}static parse(o,h){if(o.length!==2)return h.error(`'within' expression requires exactly one argument, but found ${o.length-1} instead.`);if(Xh(o[1])){const p=o[1];if(p.type==="FeatureCollection")for(let v=0;v<p.features.length;++v){const b=p.features[v].geometry.type;if(b==="Polygon"||b==="MultiPolygon")return new Wn(p,p.features[v].geometry)}else if(p.type==="Feature"){const v=p.geometry.type;if(v==="Polygon"||v==="MultiPolygon")return new Wn(p,p.geometry)}else if(p.type==="Polygon"||p.type==="MultiPolygon")return new Wn(p,p)}return h.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(o){if(o.geometry()!=null&&o.canonicalID()!=null){if(o.geometryType()==="Point")return function(h,p){const v=[1/0,1/0,-1/0,-1/0],b=[1/0,1/0,-1/0,-1/0],C=h.canonicalID();if(!C)return!1;if(p.type==="Polygon"){const M=me(p.coordinates,b,C),k=Zt(h.geometry(),v,b,C);if(!$c(v,b))return!1;for(const O of k)if(!ch(O,M))return!1}if(p.type==="MultiPolygon"){const M=tt(p.coordinates,b,C),k=Zt(h.geometry(),v,b,C);if(!$c(v,b))return!1;for(const O of k)if(!rd(O,M))return!1}return!0}(o,this.geometries);if(o.geometryType()==="LineString")return function(h,p){const v=[1/0,1/0,-1/0,-1/0],b=[1/0,1/0,-1/0,-1/0],C=h.canonicalID();if(!C)return!1;if(p.type==="Polygon"){const M=me(p.coordinates,b,C),k=wn(h.geometry(),v,b,C);if(!$c(v,b))return!1;for(const O of k)if(!$o(O,M))return!1}if(p.type==="MultiPolygon"){const M=tt(p.coordinates,b,C),k=wn(h.geometry(),v,b,C);if(!$c(v,b))return!1;for(const O of k)if(!fA(O,M))return!1}return!0}(o,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var vr=Wn,Wr={exports:{}};Wr.exports=function(){var u={kilometers:1,miles:.621371192237334,nauticalmiles:.5399568034557235,meters:1e3,metres:1e3,yards:1093.6132983377079,feet:3280.839895013123,inches:39370.078740157485},o=1/298.257223563,h=o*(2-o),p=Math.PI/180,v=function(O,U){if(O===void 0)throw new Error("No latitude given.");if(U&&!u[U])throw new Error("Unknown unit "+U+". Use one of: "+Object.keys(u).join(", "));var G=6378.137*p*(U?u[U]:1),Z=Math.cos(O*p),fe=1/(1-h*(1-Z*Z)),ge=Math.sqrt(fe);this.kx=G*ge*Z,this.ky=G*ge*fe*(1-h)},b={units:{configurable:!0}};function C(O,U){return O[0]===U[0]&&O[1]===U[1]}function M(O,U,G){var Z=k(U[0]-O[0]);return[O[0]+Z*G,O[1]+(U[1]-O[1])*G]}function k(O){for(;O<-180;)O+=360;for(;O>180;)O-=360;return O}return v.fromTile=function(O,U,G){var Z=Math.PI*(1-2*(O+.5)/Math.pow(2,U)),fe=Math.atan(.5*(Math.exp(Z)-Math.exp(-Z)))/p;return new v(fe,G)},b.units.get=function(){return u},v.prototype.distance=function(O,U){var G=k(O[0]-U[0])*this.kx,Z=(O[1]-U[1])*this.ky;return Math.sqrt(G*G+Z*Z)},v.prototype.bearing=function(O,U){var G=k(U[0]-O[0])*this.kx;return Math.atan2(G,(U[1]-O[1])*this.ky)/p},v.prototype.destination=function(O,U,G){var Z=G*p;return this.offset(O,Math.sin(Z)*U,Math.cos(Z)*U)},v.prototype.offset=function(O,U,G){return[O[0]+U/this.kx,O[1]+G/this.ky]},v.prototype.lineDistance=function(O){for(var U=0,G=0;G<O.length-1;G++)U+=this.distance(O[G],O[G+1]);return U},v.prototype.area=function(O){for(var U=0,G=0;G<O.length;G++)for(var Z=O[G],fe=0,ge=Z.length,xe=ge-1;fe<ge;xe=fe++)U+=k(Z[fe][0]-Z[xe][0])*(Z[fe][1]+Z[xe][1])*(G?-1:1);return Math.abs(U)/2*this.kx*this.ky},v.prototype.along=function(O,U){var G=0;if(U<=0)return O[0];for(var Z=0;Z<O.length-1;Z++){var fe=O[Z],ge=O[Z+1],xe=this.distance(fe,ge);if((G+=xe)>U)return M(fe,ge,(U-(G-xe))/xe)}return O[O.length-1]},v.prototype.pointToSegmentDistance=function(O,U,G){var Z=U[0],fe=U[1],ge=k(G[0]-Z)*this.kx,xe=(G[1]-fe)*this.ky,Ie=0;return ge===0&&xe===0||((Ie=(k(O[0]-Z)*this.kx*ge+(O[1]-fe)*this.ky*xe)/(ge*ge+xe*xe))>1?(Z=G[0],fe=G[1]):Ie>0&&(Z+=ge/this.kx*Ie,fe+=xe/this.ky*Ie)),ge=k(O[0]-Z)*this.kx,xe=(O[1]-fe)*this.ky,Math.sqrt(ge*ge+xe*xe)},v.prototype.pointOnLine=function(O,U){for(var G,Z,fe,ge,xe=1/0,Ie=0;Ie<O.length-1;Ie++){var Oe=O[Ie][0],rt=O[Ie][1],lt=k(O[Ie+1][0]-Oe)*this.kx,ot=(O[Ie+1][1]-rt)*this.ky,Tt=0;lt===0&&ot===0||((Tt=(k(U[0]-Oe)*this.kx*lt+(U[1]-rt)*this.ky*ot)/(lt*lt+ot*ot))>1?(Oe=O[Ie+1][0],rt=O[Ie+1][1]):Tt>0&&(Oe+=lt/this.kx*Tt,rt+=ot/this.ky*Tt));var yt=(lt=k(U[0]-Oe)*this.kx)*lt+(ot=(U[1]-rt)*this.ky)*ot;yt<xe&&(xe=yt,G=Oe,Z=rt,fe=Ie,ge=Tt)}return{point:[G,Z],index:fe,t:Math.max(0,Math.min(1,ge))}},v.prototype.lineSlice=function(O,U,G){var Z=this.pointOnLine(G,O),fe=this.pointOnLine(G,U);if(Z.index>fe.index||Z.index===fe.index&&Z.t>fe.t){var ge=Z;Z=fe,fe=ge}var xe=[Z.point],Ie=Z.index+1,Oe=fe.index;!C(G[Ie],xe[0])&&Ie<=Oe&&xe.push(G[Ie]);for(var rt=Ie+1;rt<=Oe;rt++)xe.push(G[rt]);return C(G[Oe],fe.point)||xe.push(fe.point),xe},v.prototype.lineSliceAlong=function(O,U,G){for(var Z=0,fe=[],ge=0;ge<G.length-1;ge++){var xe=G[ge],Ie=G[ge+1],Oe=this.distance(xe,Ie);if((Z+=Oe)>O&&fe.length===0&&fe.push(M(xe,Ie,(O-(Z-Oe))/Oe)),Z>=U)return fe.push(M(xe,Ie,(U-(Z-Oe))/Oe)),fe;Z>O&&fe.push(Ie)}return fe},v.prototype.bufferPoint=function(O,U){var G=U/this.ky,Z=U/this.kx;return[O[0]-Z,O[1]-G,O[0]+Z,O[1]+G]},v.prototype.bufferBBox=function(O,U){var G=U/this.ky,Z=U/this.kx;return[O[0]-Z,O[1]-G,O[2]+Z,O[3]+G]},v.prototype.insideBBox=function(O,U){return k(O[0]-U[0])>=0&&k(O[0]-U[2])<=0&&O[1]>=U[1]&&O[1]<=U[3]},Object.defineProperties(v,b),v}();var mi=R(Wr.exports),ia={exports:{}};ia.exports=function(){var u=function(h,p){if(h===void 0&&(h=[]),p===void 0&&(p=o),this.data=h,this.length=this.data.length,this.compare=p,this.length>0)for(var v=(this.length>>1)-1;v>=0;v--)this._down(v)};function o(h,p){return h<p?-1:h>p?1:0}return u.prototype.push=function(h){this.data.push(h),this.length++,this._up(this.length-1)},u.prototype.pop=function(){if(this.length!==0){var h=this.data[0],p=this.data.pop();return this.length--,this.length>0&&(this.data[0]=p,this._down(0)),h}},u.prototype.peek=function(){return this.data[0]},u.prototype._up=function(h){for(var p=this.data,v=this.compare,b=p[h];h>0;){var C=h-1>>1,M=p[C];if(v(b,M)>=0)break;p[h]=M,h=C}p[h]=b},u.prototype._down=function(h){for(var p=this.data,v=this.compare,b=this.length>>1,C=p[h];h<b;){var M=1+(h<<1),k=p[M],O=M+1;if(O<this.length&&v(p[O],k)<0&&(M=O,k=p[O]),v(k,C)>=0)break;p[h]=k,h=M}p[h]=C},u}();var ji=R(ia.exports),zn=8192;function Bs(u,o){return o.dist-u.dist}const Ws=100,qs=50;function Zo(u){const o=[1/0,1/0,-1/0,-1/0];if(o.length!==u.length)return!1;for(let h=0;h<o.length;h++)if(o[h]!==u[h])return!1;return!0}function Us(u){return u[1]-u[0]+1}function So(u,o){const h=u[1]>=u[0]&&u[1]<o;return h||console.warn("Distance Expression: Index is out of range"),h}function su(u,o){if(u[0]>u[1])return[null,null];const h=Us(u);if(o){if(h===2)return[u,null];const p=Math.floor(h/2);return[[u[0],u[0]+p],[u[0]+p,u[1]]]}{if(h===1)return[u,null];const p=Math.floor(h/2)-1;return[[u[0],u[0]+p],[u[0]+p+1,u[1]]]}}function ou(u,o){const h=[1/0,1/0,-1/0,-1/0];if(!So(o,u.length))return h;for(let p=o[0];p<=o[1];++p)uc(h,u[p]);return h}function Kf(u){const o=[1/0,1/0,-1/0,-1/0];for(let h=0;h<u.length;++h)for(let p=0;p<u[h].length;++p)uc(o,u[h][p]);return o}function Vc(u,o,h){if(Zo(u)||Zo(o))return NaN;let p=0,v=0;return u[2]<o[0]&&(p=o[0]-u[2]),u[0]>o[2]&&(p=u[0]-o[2]),u[1]>o[3]&&(v=u[1]-o[3]),u[3]<o[1]&&(v=o[1]-u[3]),h.distance([0,0],[p,v])}function Wf(u){return 360*u-180}function pA(u){return 360/Math.PI*Math.atan(Math.exp((180-360*u)*Math.PI/180))-90}function fh(u,o){const h=Math.pow(2,o.z),p=(u.y/zn+o.y)/h;return[Wf((u.x/zn+o.x)/h),pA(p)]}function Om(u,o){const h=[];for(let p=0;p<u.length;++p)h.push(fh(u[p],o));return h}function qf(u,o,h){const p=h.pointOnLine(o,u).point;return h.distance(u,p)}function lu(u,o,h,p,v){const b=h.slice(p[0],p[1]+1);let C=1/0;for(let M=o[0];M<=o[1];++M)if((C=Math.min(C,qf(u[M],b,v)))===0)return 0;return C}function Gd(u,o,h,p,v){const b=Math.min(v.pointToSegmentDistance(u,h,p),v.pointToSegmentDistance(o,h,p)),C=Math.min(v.pointToSegmentDistance(h,u,o),v.pointToSegmentDistance(p,u,o));return Math.min(b,C)}function AA(u,o,h,p,v){if(!So(o,u.length)||!So(p,h.length))return NaN;let b=1/0;for(let C=o[0];C<o[1];++C)for(let M=p[0];M<p[1];++M){if(cc(u[C],u[C+1],h[M],h[M+1]))return 0;b=Math.min(b,Gd(u[C],u[C+1],h[M],h[M+1],v))}return b}function mA(u,o,h,p,v){if(!So(o,u.length)||!So(p,h.length))return NaN;let b=1/0;for(let C=o[0];C<=o[1];++C)for(let M=p[0];M<=p[1];++M)if((b=Math.min(b,v.distance(u[C],h[M])))===0)return b;return b}function Dm(u,o,h){if(ch(u,o,!0))return 0;let p=1/0;for(const v of o){const b=v.length;if(b<2)return console.warn("Distance Expression: Invalid polygon!"),NaN;if(v[0]!==v[b-1]&&(p=Math.min(p,h.pointToSegmentDistance(u,v[b-1],v[0])))===0||(p=Math.min(p,qf(u,v,h)))===0)return p}return p}function uu(u,o,h,p){if(!So(o,u.length))return NaN;for(let b=o[0];b<=o[1];++b)if(ch(u[b],h,!0))return 0;let v=1/0;for(let b=o[0];b<o[1];++b)for(const C of h)for(let M=0,k=C.length,O=k-1;M<k;O=M++){if(cc(u[b],u[b+1],C[O],C[M]))return 0;v=Math.min(v,Gd(u[b],u[b+1],C[O],C[M],p))}return v}function Yf(u,o){for(const h of u)for(let p=0;p<=h.length-1;++p)if(ch(h[p],o,!0))return!0;return!1}function Nm(u,o,h,p=1/0){const v=Kf(u),b=Kf(o);if(p!==1/0&&Vc(v,b,h)>=p)return p;if($c(v,b)){if(Yf(u,o))return 0}else if(Yf(o,u))return 0;let C=p;for(const M of u)for(let k=0,O=M.length,U=O-1;k<O;U=k++)for(const G of o)for(let Z=0,fe=G.length,ge=fe-1;Z<fe;ge=Z++){if(cc(M[U],M[k],G[ge],G[Z]))return 0;C=Math.min(C,Gd(M[U],M[k],G[ge],G[Z],h))}return C}function Xf(u,o,h,p,v,b,C){if(b===null||C===null)return;const M=Vc(ou(p,b),ou(v,C),h);M<o&&u.push({dist:M,range1:b,range2:C})}function ju(u,o,h,p,v=1/0){let b=Math.min(p.distance(u[0],h[0][0]),v);if(b===0)return b;const C=new ji([{dist:0,range1:[0,u.length-1],range2:[0,0]}],Bs),M=o?qs:Ws,k=Kf(h);for(;C.length;){const O=C.pop();if(O.dist>=b)continue;const U=O.range1;if(Us(U)<=M){if(!So(U,u.length))return NaN;if(o){const G=uu(u,U,h,p);if((b=Math.min(b,G))===0)return b}else for(let G=U[0];G<=U[1];++G){const Z=Dm(u[G],h,p);if((b=Math.min(b,Z))===0)return b}}else{const G=su(U,o);if(G[0]!==null){const Z=Vc(ou(u,G[0]),k,p);Z<b&&C.push({dist:Z,range1:G[0],range2:[0,0]})}if(G[1]!==null){const Z=Vc(ou(u,G[1]),k,p);Z<b&&C.push({dist:Z,range1:G[1],range2:[0,0]})}}}return b}function gA(u,o,h,p,v,b=1/0){let C=Math.min(b,v.distance(u[0],h[0]));if(C===0)return C;const M=new ji([{dist:0,range1:[0,u.length-1],range2:[0,h.length-1]}],Bs),k=o?qs:Ws,O=p?qs:Ws;for(;M.length;){const U=M.pop();if(U.dist>=C)continue;const G=U.range1,Z=U.range2;if(Us(G)<=k&&Us(Z)<=O){if(!So(G,u.length)||!So(Z,h.length))return NaN;if(o&&p?C=Math.min(C,AA(u,G,h,Z,v)):o||p?o&&!p?C=Math.min(C,lu(h,Z,u,G,v)):!o&&p&&(C=Math.min(C,lu(u,G,h,Z,v))):C=Math.min(C,mA(u,G,h,Z,v)),C===0)return C}else{const fe=su(G,o),ge=su(Z,p);Xf(M,C,v,u,h,fe[0],ge[0]),Xf(M,C,v,u,h,fe[0],ge[1]),Xf(M,C,v,u,h,fe[1],ge[0]),Xf(M,C,v,u,h,fe[1],ge[1])}}return C}function Um(u,o,h,p,v=1/0){let b=v;const C=ou(u,[0,u.length-1]);for(const M of h)if(!(b!==1/0&&Vc(C,ou(M,[0,M.length-1]),p)>=b)&&(b=Math.min(b,gA(u,o,M,!0,p,b)),b===0))return b;return b}function vA(u,o,h,p,v=1/0){let b=v;const C=ou(u,[0,u.length-1]);for(const M of h){if(b!==1/0&&Vc(C,Kf(M),p)>=b)continue;const k=ju(u,o,M,p,b);if(isNaN(k))return k;if((b=Math.min(b,k))===0)return b}return b}function ph(u){return u==="Point"||u==="MultiPoint"||u==="LineString"||u==="MultiLineString"||u==="Polygon"||u==="MultiPolygon"}class Jo{constructor(o,h){this.type=mr,this.geojson=o,this.geometries=h}static parse(o,h){if(o.length!==2)return h.error(`'distance' expression requires either one argument, but found ' ${o.length-1} instead.`);if(Xh(o[1])){const p=o[1];if(p.type==="FeatureCollection"){for(let v=0;v<p.features.length;++v)if(ph(p.features[v].geometry.type))return new Jo(p,p.features[v].geometry)}else if(p.type==="Feature"){if(ph(p.geometry.type))return new Jo(p,p.geometry)}else if(ph(p.type))return new Jo(p,p)}return h.error("'distance' expression needs to be an array with format ['Distance', GeoJSONObj].")}evaluate(o){const h=o.geometry(),p=o.canonicalID();if(h!=null&&p!=null){if(o.geometryType()==="Point")return function(v,b,C){const M=[];for(const O of v)for(const U of O)M.push(fh(U,b));const k=new mi(M[0][1],"meters");return C.type==="Point"||C.type==="MultiPoint"||C.type==="LineString"?gA(M,!1,C.type==="Point"?[C.coordinates]:C.coordinates,C.type==="LineString",k):C.type==="MultiLineString"?Um(M,!1,C.coordinates,k):C.type==="Polygon"||C.type==="MultiPolygon"?vA(M,!1,C.type==="Polygon"?[C.coordinates]:C.coordinates,k):null}(h,p,this.geometries);if(o.geometryType()==="LineString")return function(v,b,C){const M=[];for(const O of v){const U=[];for(const G of O)U.push(fh(G,b));M.push(U)}const k=new mi(M[0][0][1],"meters");if(C.type==="Point"||C.type==="MultiPoint"||C.type==="LineString")return Um(C.type==="Point"?[C.coordinates]:C.coordinates,C.type==="LineString",M,k);if(C.type==="MultiLineString"){let O=1/0;for(let U=0;U<C.coordinates.length;U++){const G=Um(C.coordinates[U],!0,M,k,O);if(isNaN(G))return G;if((O=Math.min(O,G))===0)return O}return O}if(C.type==="Polygon"||C.type==="MultiPolygon"){let O=1/0;for(let U=0;U<M.length;U++){const G=vA(M[U],!0,C.type==="Polygon"?[C.coordinates]:C.coordinates,k,O);if(isNaN(G))return G;if((O=Math.min(O,G))===0)return O}return O}return null}(h,p,this.geometries);if(o.geometryType()==="Polygon")return function(v,b,C){const M=[];for(const O of function(U,G){const Z=U.length;if(Z<=1)return[U];const fe=[];let ge,xe;for(let Ie=0;Ie<Z;Ie++){const Oe=Rm(U[Ie]);Oe!==0&&(U[Ie].area=Math.abs(Oe),xe===void 0&&(xe=Oe<0),xe===Oe<0?(ge&&fe.push(ge),ge=[U[Ie]]):ge.push(U[Ie]))}return ge&&fe.push(ge),fe}(v)){const U=[];for(let G=0;G<O.length;++G)U.push(Om(O[G],b));M.push(U)}const k=new mi(M[0][0][0][1],"meters");if(C.type==="Point"||C.type==="MultiPoint"||C.type==="LineString")return vA(C.type==="Point"?[C.coordinates]:C.coordinates,C.type==="LineString",M,k);if(C.type==="MultiLineString"){let O=1/0;for(let U=0;U<C.coordinates.length;U++){const G=vA(C.coordinates[U],!0,M,k,O);if(isNaN(G))return G;if((O=Math.min(O,G))===0)return O}return O}return C.type==="Polygon"||C.type==="MultiPolygon"?function(O,U,G){let Z=1/0;for(const fe of O)for(const ge of U){const xe=Nm(fe,ge,G,Z);if(isNaN(xe))return xe;if((Z=Math.min(Z,xe))===0)return Z}return Z}(C.type==="Polygon"?[C.coordinates]:C.coordinates,M,k):null}(h,p,this.geometries);console.warn("Distance Expression: currently only evaluates valid Point/LineString/Polygon geometries.")}else console.warn("Distance Expression: requirs valid feature and canonical information.");return null}eachChild(){}outputDefined(){return!0}serialize(){return["distance",this.geojson]}}var Mu=Jo;function hc(u,o){switch(u){case"string":return $l(o);case"number":return+o;case"boolean":return!!o;case"color":return Ga.parse(o);case"formatted":return io.fromString($l(o));case"resolvedImage":return Vr.fromString($l(o))}return o}function dc(u,o,h,p){return p!==void 0&&(u=p*Math.round(u/p)),o!==void 0&&u<o&&(u=o),h!==void 0&&u>h&&(u=h),u}class Gu{constructor(o,h,p){this.type=o,this.key=h,this.scope=p}static parse(o,h){let p=h.expectedType;if(p==null&&(p=Qi),o.length<2||o.length>3)return h.error("Invalid number of arguments for 'config' expression.");const v=h.parse(o[1],1);if(!(v instanceof Vl))return h.error("Key name of 'config' expression must be a string literal.");if(o.length>=3){const b=h.parse(o[2],2);return b instanceof Vl?new Gu(p,$l(v.value),$l(b.value)):h.error("Scope of 'config' expression must be a string literal.")}return new Gu(p,$l(v.value))}evaluate(o){const h=[this.key,this.scope,o.scope].filter(Boolean).join(""),p=o.getConfig(h);if(!p)return null;const{type:v,value:b,values:C,minValue:M,maxValue:k,stepValue:O}=p,U=p.default.evaluate(o);let G=U;if(b){const Z=o.scope;o.scope=(Z||"").split("").slice(1).join(""),G=b.evaluate(o),o.scope=Z}return v&&(G=hc(v,G)),G===void 0||M===void 0&&k===void 0&&O===void 0||(typeof G=="number"?G=dc(G,M,k,O):Array.isArray(G)&&(G=G.map(Z=>typeof Z=="number"?dc(Z,M,k,O):Z))),b!==void 0&&G!==void 0&&C&&!C.includes(G)&&(G=U,v&&(G=hc(v,G))),(v&&v!==this.type||G!==void 0&&Gs(G)!==this.type)&&(G=hc(this.type.kind,G)),G}eachChild(){}outputDefined(){return!1}serialize(){const o=["config",this.key];return this.scope&&o.concat(this.key),o}}var Hc=Gu;function Ql(u){if(u instanceof Oi&&(u.name==="get"&&u.args.length===1||u.name==="feature-state"||u.name==="has"&&u.args.length===1||u.name==="properties"||u.name==="geometry-type"||u.name==="id"||/^filter-/.test(u.name))||u instanceof vr||u instanceof Mu)return!1;let o=!0;return u.eachChild(h=>{o&&!Ql(h)&&(o=!1)}),o}function Ah(u){if(u instanceof Oi&&u.name==="feature-state")return!1;let o=!0;return u.eachChild(h=>{o&&!Ah(h)&&(o=!1)}),o}function id(u){if(u instanceof Hc)return!1;let o=!0;return u.eachChild(h=>{o&&!id(h)&&(o=!1)}),o}function zs(u,o){if(u instanceof Oi&&o.indexOf(u.name)>=0)return!1;let h=!0;return u.eachChild(p=>{h&&!zs(p,o)&&(h=!1)}),h}class el{constructor(o,h){this.type=h.type,this.name=o,this.boundExpression=h}static parse(o,h){if(o.length!==2||typeof o[1]!="string")return h.error("'var' expression requires exactly one string literal argument.");const p=o[1];return h.scope.has(p)?new el(p,h.scope.get(p)):h.error(`Unknown variable "${p}". Make sure "${p}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(o){return this.boundExpression.evaluate(o)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var ao=el;class ad{constructor(o,h=[],p,v=new g0,b=[],C,M){this.registry=o,this.path=h,this.key=h.map(k=>`[${k}]`).join(""),this.scope=v,this.errors=b,this.expectedType=p,this._scope=C,this.options=M}parse(o,h,p,v,b={}){return h||p?this.concat(h,p,v)._parse(o,b):this._parse(o,b)}_parse(o,h){function p(v,b,C){return C==="assert"?new Tu(b,[v]):C==="coerce"?new Hl(b,[v]):v}if(o!==null&&typeof o!="string"&&typeof o!="boolean"&&typeof o!="number"||(o=["literal",o]),Array.isArray(o)){if(o.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const v=typeof o[0]=="string"?this.registry[o[0]]:void 0;if(v){let b=v.parse(o,this);if(!b)return null;if(this.expectedType){const C=this.expectedType,M=b.type;if(C.kind!=="string"&&C.kind!=="number"&&C.kind!=="boolean"&&C.kind!=="object"&&C.kind!=="array"||M.kind!=="value")if(C.kind!=="color"&&C.kind!=="formatted"&&C.kind!=="resolvedImage"||M.kind!=="value"&&M.kind!=="string"){if(this.checkSubtype(C,M))return null}else b=p(b,C,h.typeAnnotation||"coerce");else b=p(b,C,h.typeAnnotation||"assert")}if(!(b instanceof Vl)&&b.type.kind!=="resolvedImage"&&sd(b)){const C=new td(this._scope,this.options);try{b=new Vl(b.type,b.evaluate(C))}catch(M){return this.error(M.message),null}}return b}return Hl.parse(["to-array",o],this)}return this.error(o===void 0?"'undefined' value invalid. Use null instead.":typeof o=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof o} instead.`)}concat(o,h,p){const v=typeof o=="number"?this.path.concat(o):this.path,b=p?this.scope.concat(p):this.scope;return new ad(this.registry,v,h||null,b,this.errors,this._scope,this.options)}error(o,...h){const p=`${this.key}${h.map(v=>`[${v}]`).join("")}`;this.errors.push(new Qu(p,o))}checkSubtype(o,h){const p=qh(o,h);return p&&this.error(p),p}}var Zf=ad;function sd(u){if(u instanceof ao)return sd(u.boundExpression);if(u instanceof Oi&&u.name==="error"||u instanceof Qf||u instanceof vr||u instanceof Mu||u instanceof Hc)return!1;const o=u instanceof Hl||u instanceof Tu;let h=!0;return u.eachChild(p=>{h=o?h&&sd(p):h&&p instanceof Vl}),!!h&&Ql(u)&&zs(u,["zoom","heatmap-density","line-progress","raster-value","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center","measure-light","raster-particle-speed"])}function Iu(u,o){const h=u.length-1;let p,v,b=0,C=h,M=0;for(;b<=C;)if(M=Math.floor((b+C)/2),p=u[M],v=u[M+1],p<=o){if(M===h||o<v)return M;b=M+1}else{if(!(p>o))throw new Ks("Input is not a number.");C=M-1}return 0}class Kd{constructor(o,h,p){this.type=o,this.input=h,this.labels=[],this.outputs=[];for(const[v,b]of p)this.labels.push(v),this.outputs.push(b)}static parse(o,h){if(o.length-1<4)return h.error(`Expected at least 4 arguments, but found only ${o.length-1}.`);if((o.length-1)%2!=0)return h.error("Expected an even number of arguments.");const p=h.parse(o[1],1,mr);if(!p)return null;const v=[];let b=null;h.expectedType&&h.expectedType.kind!=="value"&&(b=h.expectedType);for(let C=1;C<o.length;C+=2){const M=C===1?-1/0:o[C],k=o[C+1],O=C,U=C+1;if(typeof M!="number")return h.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',O);if(v.length&&v[v.length-1][0]>=M)return h.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',O);const G=h.parse(k,U,b);if(!G)return null;b=b||G.type,v.push([M,G])}return new Kd(b,p,v)}evaluate(o){const h=this.labels,p=this.outputs;if(h.length===1)return p[0].evaluate(o);const v=this.input.evaluate(o);if(v<=h[0])return p[0].evaluate(o);const b=h.length;return v>=h[b-1]?p[b-1].evaluate(o):p[Iu(h,v)].evaluate(o)}eachChild(o){o(this.input);for(const h of this.outputs)o(h)}outputDefined(){return this.outputs.every(o=>o.outputDefined())}serialize(){const o=["step",this.input.serialize()];for(let h=0;h<this.labels.length;h++)h>0&&o.push(this.labels[h]),o.push(this.outputs[h].serialize());return o}}var jl=Kd;const mh=.95047,Ka=1.08883,bs=4/29,Ms=6/29,To=3*Ms*Ms,gh=Ms*Ms*Ms,Wd=Math.PI/180,Gl=180/Math.PI;function Jf(u){return u>gh?Math.pow(u,1/3):u/To+bs}function zm(u){return u>Ms?u*u*u:To*(u-bs)}function $m(u){return 255*(u<=.0031308?12.92*u:1.055*Math.pow(u,1/2.4)-.055)}function Vm(u){return(u/=255)<=.04045?u/12.92:Math.pow((u+.055)/1.055,2.4)}function _0(u){const o=Vm(u.r),h=Vm(u.g),p=Vm(u.b),v=Jf((.4124564*o+.3575761*h+.1804375*p)/mh),b=Jf((.2126729*o+.7151522*h+.072175*p)/1);return{l:116*b-16,a:500*(v-b),b:200*(b-Jf((.0193339*o+.119192*h+.9503041*p)/Ka)),alpha:u.a}}function y0(u){let o=(u.l+16)/116,h=isNaN(u.a)?o:o+u.a/500,p=isNaN(u.b)?o:o-u.b/200;return o=1*zm(o),h=mh*zm(h),p=Ka*zm(p),new Ga($m(3.2404542*h-1.5371385*o-.4985314*p),$m(-.969266*h+1.8760108*o+.041556*p),$m(.0556434*h-.2040259*o+1.0572252*p),u.alpha)}function w1(u,o,h){const p=o-u;return u+h*(p>180||p<-180?p-360*Math.round(p/360):p)}const qd={forward:_0,reverse:y0,interpolate:function(u,o,h){return{l:Ri(u.l,o.l,h),a:Ri(u.a,o.a,h),b:Ri(u.b,o.b,h),alpha:Ri(u.alpha,o.alpha,h)}}},od={forward:function(u){const{l:o,a:h,b:p}=_0(u),v=Math.atan2(p,h)*Gl;return{h:v<0?v+360:v,c:Math.sqrt(h*h+p*p),l:o,alpha:u.a}},reverse:function(u){const o=u.h*Wd,h=u.c;return y0({l:u.l,a:Math.cos(o)*h,b:Math.sin(o)*h,alpha:u.alpha})},interpolate:function(u,o,h){return{h:w1(u.h,o.h,h),c:Ri(u.c,o.c,h),l:Ri(u.l,o.l,h),alpha:Ri(u.alpha,o.alpha,h)}}};var cu=Object.freeze({__proto__:null,hcl:od,lab:qd});class Kl{constructor(o,h,p,v,b){this.type=o,this.operator=h,this.interpolation=p,this.input=v,this.labels=[],this.outputs=[];for(const[C,M]of b)this.labels.push(C),this.outputs.push(M)}static interpolationFactor(o,h,p,v){let b=0;if(o.name==="exponential")b=ld(h,o.base,p,v);else if(o.name==="linear")b=ld(h,1,p,v);else if(o.name==="cubic-bezier"){const C=o.controlPoints;b=new Q(C[0],C[1],C[2],C[3]).solve(ld(h,1,p,v))}return b}static parse(o,h){let[p,v,b,...C]=o;if(!Array.isArray(v)||v.length===0)return h.error("Expected an interpolation type expression.",1);if(v[0]==="linear")v={name:"linear"};else if(v[0]==="exponential"){const O=v[1];if(typeof O!="number")return h.error("Exponential interpolation requires a numeric base.",1,1);v={name:"exponential",base:O}}else{if(v[0]!=="cubic-bezier")return h.error(`Unknown interpolation type ${String(v[0])}`,1,0);{const O=v.slice(1);if(O.length!==4||O.some(U=>typeof U!="number"||U<0||U>1))return h.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);v={name:"cubic-bezier",controlPoints:O}}}if(o.length-1<4)return h.error(`Expected at least 4 arguments, but found only ${o.length-1}.`);if((o.length-1)%2!=0)return h.error("Expected an even number of arguments.");if(b=h.parse(b,2,mr),!b)return null;const M=[];let k=null;p==="interpolate-hcl"||p==="interpolate-lab"?k=Cu:h.expectedType&&h.expectedType.kind!=="value"&&(k=h.expectedType);for(let O=0;O<C.length;O+=2){const U=C[O],G=C[O+1],Z=O+3,fe=O+4;if(typeof U!="number")return h.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Z);if(M.length&&M[M.length-1][0]>=U)return h.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Z);const ge=h.parse(G,fe,k);if(!ge)return null;k=k||ge.type,M.push([U,ge])}return k.kind==="number"||k.kind==="color"||k.kind==="array"&&k.itemType.kind==="number"&&typeof k.N=="number"?new Kl(k,p,v,b,M):h.error(`Type ${ys(k)} is not interpolatable.`)}evaluate(o){const h=this.labels,p=this.outputs;if(h.length===1)return p[0].evaluate(o);const v=this.input.evaluate(o);if(v<=h[0])return p[0].evaluate(o);const b=h.length;if(v>=h[b-1])return p[b-1].evaluate(o);const C=Iu(h,v),M=Kl.interpolationFactor(this.interpolation,v,h[C],h[C+1]),k=p[C].evaluate(o),O=p[C+1].evaluate(o);return this.operator==="interpolate"?Hd[this.type.kind.toLowerCase()](k,O,M):this.operator==="interpolate-hcl"?od.reverse(od.interpolate(od.forward(k),od.forward(O),M)):qd.reverse(qd.interpolate(qd.forward(k),qd.forward(O),M))}eachChild(o){o(this.input);for(const h of this.outputs)o(h)}outputDefined(){return this.outputs.every(o=>o.outputDefined())}serialize(){let o;o=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const h=[this.operator,o,this.input.serialize()];for(let p=0;p<this.labels.length;p++)h.push(this.labels[p],this.outputs[p].serialize());return h}}function ld(u,o,h,p){const v=p-h,b=u-h;return v===0?0:o===1?b/v:(Math.pow(o,b)-1)/(Math.pow(o,v)-1)}var Wl=Kl;class ep{constructor(o,h){this.type=o,this.args=h}static parse(o,h){if(o.length<2)return h.error("Expectected at least one argument.");let p=null;const v=h.expectedType;v&&v.kind!=="value"&&(p=v);const b=[];for(const M of o.slice(1)){const k=h.parse(M,1+b.length,p,void 0,{typeAnnotation:"omit"});if(!k)return null;p=p||k.type,b.push(k)}const C=v&&b.some(M=>qh(v,M.type));return new ep(C?Qi:p,b)}evaluate(o){let h,p=null,v=0;for(const b of this.args){if(v++,p=b.evaluate(o),p&&p instanceof Vr&&!p.available&&(h||(h=p),p=null,v===this.args.length))return h;if(p!==null)break}return p}eachChild(o){this.args.forEach(o)}outputDefined(){return this.args.every(o=>o.outputDefined())}serialize(){const o=["coalesce"];return this.eachChild(h=>{o.push(h.serialize())}),o}}var _A=ep;class tp{constructor(o,h){this.type=h.type,this.bindings=[].concat(o),this.result=h}evaluate(o){return this.result.evaluate(o)}eachChild(o){for(const h of this.bindings)o(h[1]);o(this.result)}static parse(o,h){if(o.length<4)return h.error(`Expected at least 3 arguments, but found ${o.length-1} instead.`);const p=[];for(let b=1;b<o.length-1;b+=2){const C=o[b];if(typeof C!="string")return h.error(`Expected string, but found ${typeof C} instead.`,b);if(/[^a-zA-Z0-9_]/.test(C))return h.error("Variable names must contain only alphanumeric characters or '_'.",b);const M=h.parse(o[b+1],b+1);if(!M)return null;p.push([C,M])}const v=h.parse(o[o.length-1],o.length-1,h.expectedType,p);return v?new tp(p,v):null}outputDefined(){return this.result.outputDefined()}serialize(){const o=["let"];for(const[h,p]of this.bindings)o.push(h,p.serialize());return o.push(this.result.serialize()),o}}var Hm=tp;class ud{constructor(o,h,p){this.type=o,this.index=h,this.input=p}static parse(o,h){if(o.length!==3)return h.error(`Expected 2 arguments, but found ${o.length-1} instead.`);const p=h.parse(o[1],1,mr),v=h.parse(o[2],2,zl(h.expectedType||Qi));return p&&v?new ud(v.type.itemType,p,v):null}evaluate(o){const h=this.index.evaluate(o),p=this.input.evaluate(o);if(h<0)throw new Ks(`Array index out of bounds: ${h} < 0.`);if(h>=p.length)throw new Ks(`Array index out of bounds: ${h} > ${p.length-1}.`);if(h!==Math.floor(h))throw new Ks(`Array index must be an integer, but found ${h} instead.`);return p[h]}eachChild(o){o(this.index),o(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var Zi=ud;class Qm{constructor(o,h){this.type=fa,this.needle=o,this.haystack=h}static parse(o,h){if(o.length!==3)return h.error(`Expected 2 arguments, but found ${o.length-1} instead.`);const p=h.parse(o[1],1,Qi),v=h.parse(o[2],2,Qi);return p&&v?si(p.type,[fa,da,mr,Qd,Qi])?new Qm(p,v):h.error(`Expected first argument to be of type boolean, string, number or null, but found ${ys(p.type)} instead`):null}evaluate(o){const h=this.needle.evaluate(o),p=this.haystack.evaluate(o);if(p==null)return!1;if(!dl(h,["boolean","string","number","null"]))throw new Ks(`Expected first argument to be of type boolean, string, number or null, but found ${ys(Gs(h))} instead.`);if(!dl(p,["string","array"]))throw new Ks(`Expected second argument to be of type array or string, but found ${ys(Gs(p))} instead.`);return p.indexOf(h)>=0}eachChild(o){o(this.needle),o(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var b0=Qm;class yA{constructor(o,h,p){this.type=mr,this.needle=o,this.haystack=h,this.fromIndex=p}static parse(o,h){if(o.length<=2||o.length>=5)return h.error(`Expected 3 or 4 arguments, but found ${o.length-1} instead.`);const p=h.parse(o[1],1,Qi),v=h.parse(o[2],2,Qi);if(!p||!v)return null;if(!si(p.type,[fa,da,mr,Qd,Qi]))return h.error(`Expected first argument to be of type boolean, string, number or null, but found ${ys(p.type)} instead`);if(o.length===4){const b=h.parse(o[3],3,mr);return b?new yA(p,v,b):null}return new yA(p,v)}evaluate(o){const h=this.needle.evaluate(o),p=this.haystack.evaluate(o);if(!dl(h,["boolean","string","number","null"]))throw new Ks(`Expected first argument to be of type boolean, string, number or null, but found ${ys(Gs(h))} instead.`);if(!dl(p,["string","array"]))throw new Ks(`Expected second argument to be of type array or string, but found ${ys(Gs(p))} instead.`);if(this.fromIndex){const v=this.fromIndex.evaluate(o);return p.indexOf(h,v)}return p.indexOf(h)}eachChild(o){o(this.needle),o(this.haystack),this.fromIndex&&o(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const o=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),o]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var Ly=yA;class x1{constructor(o,h,p,v,b,C){this.inputType=o,this.type=h,this.input=p,this.cases=v,this.outputs=b,this.otherwise=C}static parse(o,h){if(o.length<5)return h.error(`Expected at least 4 arguments, but found only ${o.length-1}.`);if(o.length%2!=1)return h.error("Expected an even number of arguments.");let p,v;h.expectedType&&h.expectedType.kind!=="value"&&(v=h.expectedType);const b={},C=[];for(let O=2;O<o.length-1;O+=2){let U=o[O];const G=o[O+1];Array.isArray(U)||(U=[U]);const Z=h.concat(O);if(U.length===0)return Z.error("Expected at least one branch label.");for(const ge of U){if(typeof ge!="number"&&typeof ge!="string")return Z.error("Branch labels must be numbers or strings.");if(typeof ge=="number"&&Math.abs(ge)>Number.MAX_SAFE_INTEGER)return Z.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof ge=="number"&&Math.floor(ge)!==ge)return Z.error("Numeric branch labels must be integer values.");if(p){if(Z.checkSubtype(p,Gs(ge)))return null}else p=Gs(ge);if(b[String(ge)]!==void 0)return Z.error("Branch labels must be unique.");b[String(ge)]=C.length}const fe=h.parse(G,O,v);if(!fe)return null;v=v||fe.type,C.push(fe)}const M=h.parse(o[1],1,Qi);if(!M)return null;const k=h.parse(o[o.length-1],o.length-1,v);return k?M.type.kind!=="value"&&h.concat(1).checkSubtype(p,M.type)?null:new x1(p,v,M,b,C,k):null}evaluate(o){const h=this.input.evaluate(o);return(Gs(h)===this.inputType&&this.outputs[this.cases[h]]||this.otherwise).evaluate(o)}eachChild(o){o(this.input),this.outputs.forEach(o),o(this.otherwise)}outputDefined(){return this.outputs.every(o=>o.outputDefined())&&this.otherwise.outputDefined()}serialize(){const o=["match",this.input.serialize()],h=Object.keys(this.cases).sort(),p=[],v={};for(const C of h){const M=v[this.cases[C]];M===void 0?(v[this.cases[C]]=p.length,p.push([this.cases[C],[C]])):p[M][1].push(C)}const b=C=>this.inputType.kind==="number"?Number(C):C;for(const[C,M]of p)o.push(M.length===1?b(M[0]):M.map(b)),o.push(this.outputs[C].serialize());return o.push(this.otherwise.serialize()),o}}var C1=x1;class w0{constructor(o,h,p){this.type=o,this.branches=h,this.otherwise=p}static parse(o,h){if(o.length<4)return h.error(`Expected at least 3 arguments, but found only ${o.length-1}.`);if(o.length%2!=0)return h.error("Expected an odd number of arguments.");let p;h.expectedType&&h.expectedType.kind!=="value"&&(p=h.expectedType);const v=[];for(let C=1;C<o.length-1;C+=2){const M=h.parse(o[C],C,fa);if(!M)return null;const k=h.parse(o[C+1],C+1,p);if(!k)return null;v.push([M,k]),p=p||k.type}const b=h.parse(o[o.length-1],o.length-1,p);return b?new w0(p,v,b):null}evaluate(o){for(const[h,p]of this.branches)if(h.evaluate(o))return p.evaluate(o);return this.otherwise.evaluate(o)}eachChild(o){for(const[h,p]of this.branches)o(h),o(p);o(this.otherwise)}outputDefined(){return this.branches.every(([o,h])=>h.outputDefined())&&this.otherwise.outputDefined()}serialize(){const o=["case"];return this.eachChild(h=>{o.push(h.serialize())}),o}}var Py=w0;class jm{constructor(o,h,p,v){this.type=o,this.input=h,this.beginIndex=p,this.endIndex=v}static parse(o,h){if(o.length<=2||o.length>=5)return h.error(`Expected 3 or 4 arguments, but found ${o.length-1} instead.`);const p=h.parse(o[1],1,Qi),v=h.parse(o[2],2,mr);if(!p||!v)return null;if(!si(p.type,[zl(Qi),da,Qi]))return h.error(`Expected first argument to be of type array or string, but found ${ys(p.type)} instead`);if(o.length===4){const b=h.parse(o[3],3,mr);return b?new jm(p.type,p,v,b):null}return new jm(p.type,p,v)}evaluate(o){const h=this.input.evaluate(o),p=this.beginIndex.evaluate(o);if(!dl(h,["string","array"]))throw new Ks(`Expected first argument to be of type array or string, but found ${ys(Gs(h))} instead.`);if(this.endIndex){const v=this.endIndex.evaluate(o);return h.slice(p,v)}return h.slice(p)}eachChild(o){o(this.input),o(this.beginIndex),this.endIndex&&o(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const o=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),o]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var bA=jm;function E1(u,o){return u==="=="||u==="!="?o.kind==="boolean"||o.kind==="string"||o.kind==="number"||o.kind==="null"||o.kind==="value":o.kind==="string"||o.kind==="number"||o.kind==="value"}function Gm(u,o,h,p){return p.compare(o,h)===0}function Yd(u,o,h){const p=u!=="=="&&u!=="!=";return class Dte{constructor(b,C,M){this.type=fa,this.lhs=b,this.rhs=C,this.collator=M,this.hasUntypedArgument=b.type.kind==="value"||C.type.kind==="value"}static parse(b,C){if(b.length!==3&&b.length!==4)return C.error("Expected two or three arguments.");const M=b[0];let k=C.parse(b[1],1,Qi);if(!k)return null;if(!E1(M,k.type))return C.concat(1).error(`"${M}" comparisons are not supported for type '${ys(k.type)}'.`);let O=C.parse(b[2],2,Qi);if(!O)return null;if(!E1(M,O.type))return C.concat(2).error(`"${M}" comparisons are not supported for type '${ys(O.type)}'.`);if(k.type.kind!==O.type.kind&&k.type.kind!=="value"&&O.type.kind!=="value")return C.error(`Cannot compare types '${ys(k.type)}' and '${ys(O.type)}'.`);p&&(k.type.kind==="value"&&O.type.kind!=="value"?k=new Tu(O.type,[k]):k.type.kind!=="value"&&O.type.kind==="value"&&(O=new Tu(k.type,[O])));let U=null;if(b.length===4){if(k.type.kind!=="string"&&O.type.kind!=="string"&&k.type.kind!=="value"&&O.type.kind!=="value")return C.error("Cannot use collator to compare non-string types.");if(U=C.parse(b[3],3,Kh),!U)return null}return new Dte(k,O,U)}evaluate(b){const C=this.lhs.evaluate(b),M=this.rhs.evaluate(b);if(p&&this.hasUntypedArgument){const k=Gs(C),O=Gs(M);if(k.kind!==O.kind||k.kind!=="string"&&k.kind!=="number")throw new Ks(`Expected arguments for "${u}" to be (string, string) or (number, number), but found (${k.kind}, ${O.kind}) instead.`)}if(this.collator&&!p&&this.hasUntypedArgument){const k=Gs(C),O=Gs(M);if(k.kind!=="string"||O.kind!=="string")return o(b,C,M)}return this.collator?h(b,C,M,this.collator.evaluate(b)):o(b,C,M)}eachChild(b){b(this.lhs),b(this.rhs),this.collator&&b(this.collator)}outputDefined(){return!0}serialize(){const b=[u];return this.eachChild(C=>{b.push(C.serialize())}),b}}}const np=Yd("==",function(u,o,h){return o===h},Gm),S1=Yd("!=",function(u,o,h){return o!==h},function(u,o,h,p){return!Gm(0,o,h,p)}),X2=Yd("<",function(u,o,h){return o<h},function(u,o,h,p){return p.compare(o,h)<0}),Fy=Yd(">",function(u,o,h){return o>h},function(u,o,h,p){return p.compare(o,h)>0}),ky=Yd("<=",function(u,o,h){return o<=h},function(u,o,h,p){return p.compare(o,h)<=0}),Z2=Yd(">=",function(u,o,h){return o>=h},function(u,o,h,p){return p.compare(o,h)>=0});class T1{constructor(o,h,p,v,b,C){this.type=da,this.number=o,this.locale=h,this.currency=p,this.unit=v,this.minFractionDigits=b,this.maxFractionDigits=C}static parse(o,h){if(o.length!==3)return h.error("Expected two arguments.");const p=h.parse(o[1],1,mr);if(!p)return null;const v=o[2];if(typeof v!="object"||Array.isArray(v))return h.error("NumberFormat options argument must be an object.");let b=null;if(v.locale&&(b=h.parse(v.locale,1,da),!b))return null;let C=null;if(v.currency&&(C=h.parse(v.currency,1,da),!C))return null;let M=null;if(v.unit&&(M=h.parse(v.unit,1,da),!M))return null;let k=null;if(v["min-fraction-digits"]&&(k=h.parse(v["min-fraction-digits"],1,mr),!k))return null;let O=null;return v["max-fraction-digits"]&&(O=h.parse(v["max-fraction-digits"],1,mr),!O)?null:new T1(p,b,C,M,k,O)}evaluate(o){return new Intl.NumberFormat(this.locale?this.locale.evaluate(o):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(o):void 0,unit:this.unit?this.unit.evaluate(o):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(o):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(o):void 0}).format(this.number.evaluate(o))}eachChild(o){o(this.number),this.locale&&o(this.locale),this.currency&&o(this.currency),this.unit&&o(this.unit),this.minFractionDigits&&o(this.minFractionDigits),this.maxFractionDigits&&o(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const o={};return this.locale&&(o.locale=this.locale.serialize()),this.currency&&(o.currency=this.currency.serialize()),this.unit&&(o.unit=this.unit.serialize()),this.minFractionDigits&&(o["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(o["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),o]}}class B1{constructor(o){this.type=mr,this.input=o}static parse(o,h){if(o.length!==2)return h.error(`Expected 1 argument, but found ${o.length-1} instead.`);const p=h.parse(o[1],1);return p?p.type.kind!=="array"&&p.type.kind!=="string"&&p.type.kind!=="value"?h.error(`Expected argument of type string or array, but found ${ys(p.type)} instead.`):new B1(p):null}evaluate(o){const h=this.input.evaluate(o);if(typeof h=="string"||Array.isArray(h))return h.length;throw new Ks(`Expected value to be of type string or array, but found ${ys(Gs(h))} instead.`)}eachChild(o){o(this.input)}outputDefined(){return!1}serialize(){const o=["length"];return this.eachChild(h=>{o.push(h.serialize())}),o}}function cd(u){return function(){u=1831565813+(u|=0)|0;let o=Math.imul(u^u>>>15,1|u);return o=o+Math.imul(o^o>>>7,61|o)^o,((o^o>>>14)>>>0)/4294967296}}const Ku={"==":np,"!=":S1,">":Fy,"<":X2,">=":Z2,"<=":ky,array:Tu,at:Zi,boolean:Tu,case:Py,coalesce:_A,collator:Qf,format:Jh,image:uh,in:b0,"index-of":Ly,interpolate:Wl,"interpolate-hcl":Wl,"interpolate-lab":Wl,length:B1,let:Hm,literal:Vl,match:C1,number:Tu,"number-format":T1,object:Tu,slice:bA,step:jl,string:Tu,"to-boolean":Hl,"to-color":Hl,"to-number":Hl,"to-string":Hl,var:ao,within:vr,distance:Mu,config:Hc};function Qc(u,[o,h,p,v]){o=o.evaluate(u),h=h.evaluate(u),p=p.evaluate(u);const b=v?v.evaluate(u):1,C=v0(o,h,p,b);if(C)throw new Ks(C);return new Ga(o/255*b,h/255*b,p/255*b,b)}function Ry(u,[o,h,p,v]){o=o.evaluate(u),h=h.evaluate(u),p=p.evaluate(u);const b=v?v.evaluate(u):1,C=function(O,U,G,Z){return typeof O=="number"&&O>=0&&O<=360?typeof U=="number"&&U>=0&&U<=100&&typeof G=="number"&&G>=0&&G<=100?Z===void 0||typeof Z=="number"&&Z>=0&&Z<=1?null:`Invalid hsla value [${[O,U,G,Z].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid hsla value [${(typeof Z=="number"?[O,U,G,Z]:[O,U,G]).join(", ")}]: 's', and 'l' must be between 0 and 100.`:`Invalid hsla value [${(typeof Z=="number"?[O,U,G,Z]:[O,U,G]).join(", ")}]: 'h' must be between 0 and 360.`}(o,h,p,b);if(C)throw new Ks(C);const M=`hsla(${o}, ${h}%, ${p}%, ${b})`,k=Ga.parse(M);if(!k)throw new Ks(`Failed to parse HSLA color: ${M}`);return k}function x0(u,o){return u in o}function vh(u,o){const h=o[u];return h===void 0?null:h}function tl(u){return{type:u}}Oi.register(Ku,{error:[{kind:"error"},[da],(u,[o])=>{throw new Ks(o.evaluate(u))}],typeof:[da,[Qi],(u,[o])=>ys(Gs(o.evaluate(u)))],"to-rgba":[zl(mr,4),[Cu],(u,[o])=>o.evaluate(u).toArray()],rgb:[Cu,[mr,mr,mr],Qc],rgba:[Cu,[mr,mr,mr,mr],Qc],hsl:[Cu,[mr,mr,mr],Ry],hsla:[Cu,[mr,mr,mr,mr],Ry],has:{type:fa,overloads:[[[da],(u,[o])=>x0(o.evaluate(u),u.properties())],[[da,Eu],(u,[o,h])=>x0(o.evaluate(u),h.evaluate(u))]]},get:{type:Qi,overloads:[[[da],(u,[o])=>vh(o.evaluate(u),u.properties())],[[da,Eu],(u,[o,h])=>vh(o.evaluate(u),h.evaluate(u))]]},"feature-state":[Qi,[da],(u,[o])=>vh(o.evaluate(u),u.featureState||{})],properties:[Eu,[],u=>u.properties()],"geometry-type":[da,[],u=>u.geometryType()],id:[Qi,[],u=>u.id()],zoom:[mr,[],u=>u.globals.zoom],pitch:[mr,[],u=>u.globals.pitch||0],"distance-from-center":[mr,[],u=>u.distanceFromCenter()],"measure-light":[mr,[da],(u,[o])=>u.measureLight(o.evaluate(u))],"heatmap-density":[mr,[],u=>u.globals.heatmapDensity||0],"line-progress":[mr,[],u=>u.globals.lineProgress||0],"raster-value":[mr,[],u=>u.globals.rasterValue||0],"raster-particle-speed":[mr,[],u=>u.globals.rasterParticleSpeed||0],"sky-radial-progress":[mr,[],u=>u.globals.skyRadialProgress||0],accumulated:[Qi,[],u=>u.globals.accumulated===void 0?null:u.globals.accumulated],"+":[mr,tl(mr),(u,o)=>{let h=0;for(const p of o)h+=p.evaluate(u);return h}],"*":[mr,tl(mr),(u,o)=>{let h=1;for(const p of o)h*=p.evaluate(u);return h}],"-":{type:mr,overloads:[[[mr,mr],(u,[o,h])=>o.evaluate(u)-h.evaluate(u)],[[mr],(u,[o])=>-o.evaluate(u)]]},"/":[mr,[mr,mr],(u,[o,h])=>o.evaluate(u)/h.evaluate(u)],"%":[mr,[mr,mr],(u,[o,h])=>o.evaluate(u)%h.evaluate(u)],ln2:[mr,[],()=>Math.LN2],pi:[mr,[],()=>Math.PI],e:[mr,[],()=>Math.E],"^":[mr,[mr,mr],(u,[o,h])=>Math.pow(o.evaluate(u),h.evaluate(u))],sqrt:[mr,[mr],(u,[o])=>Math.sqrt(o.evaluate(u))],log10:[mr,[mr],(u,[o])=>Math.log(o.evaluate(u))/Math.LN10],ln:[mr,[mr],(u,[o])=>Math.log(o.evaluate(u))],log2:[mr,[mr],(u,[o])=>Math.log(o.evaluate(u))/Math.LN2],sin:[mr,[mr],(u,[o])=>Math.sin(o.evaluate(u))],cos:[mr,[mr],(u,[o])=>Math.cos(o.evaluate(u))],tan:[mr,[mr],(u,[o])=>Math.tan(o.evaluate(u))],asin:[mr,[mr],(u,[o])=>Math.asin(o.evaluate(u))],acos:[mr,[mr],(u,[o])=>Math.acos(o.evaluate(u))],atan:[mr,[mr],(u,[o])=>Math.atan(o.evaluate(u))],min:[mr,tl(mr),(u,o)=>Math.min(...o.map(h=>h.evaluate(u)))],max:[mr,tl(mr),(u,o)=>Math.max(...o.map(h=>h.evaluate(u)))],abs:[mr,[mr],(u,[o])=>Math.abs(o.evaluate(u))],round:[mr,[mr],(u,[o])=>{const h=o.evaluate(u);return h<0?-Math.round(-h):Math.round(h)}],floor:[mr,[mr],(u,[o])=>Math.floor(o.evaluate(u))],ceil:[mr,[mr],(u,[o])=>Math.ceil(o.evaluate(u))],"filter-==":[fa,[da,Qi],(u,[o,h])=>u.properties()[o.value]===h.value],"filter-id-==":[fa,[Qi],(u,[o])=>u.id()===o.value],"filter-type-==":[fa,[da],(u,[o])=>u.geometryType()===o.value],"filter-<":[fa,[da,Qi],(u,[o,h])=>{const p=u.properties()[o.value],v=h.value;return typeof p==typeof v&&p<v}],"filter-id-<":[fa,[Qi],(u,[o])=>{const h=u.id(),p=o.value;return typeof h==typeof p&&h<p}],"filter->":[fa,[da,Qi],(u,[o,h])=>{const p=u.properties()[o.value],v=h.value;return typeof p==typeof v&&p>v}],"filter-id->":[fa,[Qi],(u,[o])=>{const h=u.id(),p=o.value;return typeof h==typeof p&&h>p}],"filter-<=":[fa,[da,Qi],(u,[o,h])=>{const p=u.properties()[o.value],v=h.value;return typeof p==typeof v&&p<=v}],"filter-id-<=":[fa,[Qi],(u,[o])=>{const h=u.id(),p=o.value;return typeof h==typeof p&&h<=p}],"filter->=":[fa,[da,Qi],(u,[o,h])=>{const p=u.properties()[o.value],v=h.value;return typeof p==typeof v&&p>=v}],"filter-id->=":[fa,[Qi],(u,[o])=>{const h=u.id(),p=o.value;return typeof h==typeof p&&h>=p}],"filter-has":[fa,[Qi],(u,[o])=>o.value in u.properties()],"filter-has-id":[fa,[],u=>u.id()!==null&&u.id()!==void 0],"filter-type-in":[fa,[zl(da)],(u,[o])=>o.value.indexOf(u.geometryType())>=0],"filter-id-in":[fa,[zl(Qi)],(u,[o])=>o.value.indexOf(u.id())>=0],"filter-in-small":[fa,[da,zl(Qi)],(u,[o,h])=>h.value.indexOf(u.properties()[o.value])>=0],"filter-in-large":[fa,[da,zl(Qi)],(u,[o,h])=>function(p,v,b,C){for(;b<=C;){const M=b+C>>1;if(v[M]===p)return!0;v[M]>p?C=M-1:b=M+1}return!1}(u.properties()[o.value],h.value,0,h.value.length-1)],all:{type:fa,overloads:[[[fa,fa],(u,[o,h])=>o.evaluate(u)&&h.evaluate(u)],[tl(fa),(u,o)=>{for(const h of o)if(!h.evaluate(u))return!1;return!0}]]},any:{type:fa,overloads:[[[fa,fa],(u,[o,h])=>o.evaluate(u)||h.evaluate(u)],[tl(fa),(u,o)=>{for(const h of o)if(h.evaluate(u))return!0;return!1}]]},"!":[fa,[fa],(u,[o])=>!o.evaluate(u)],"is-supported-script":[fa,[da],(u,[o])=>{const h=u.globals&&u.globals.isSupportedScript;return!h||h(o.evaluate(u))}],upcase:[da,[da],(u,[o])=>o.evaluate(u).toUpperCase()],downcase:[da,[da],(u,[o])=>o.evaluate(u).toLowerCase()],concat:[da,tl(Qi),(u,o)=>o.map(h=>$l(h.evaluate(u))).join("")],"resolved-locale":[da,[Kh],(u,[o])=>o.evaluate(u).resolvedLocale()],random:[mr,[mr,mr,Qi],(u,o)=>{const[h,p,v]=o.map(C=>C.evaluate(u));if(h>p||h===p)return h;let b;if(typeof v=="string")b=function(C){let M=0;if(C.length===0)return M;for(let k=0;k<C.length;k++)M=(M<<5)-M+C.charCodeAt(k),M|=0;return M}(v);else{if(typeof v!="number")throw new Ks(`Invalid seed input: ${v}`);b=v}return h+cd(b)()*(p-h)}]});var wA=Ku;function M1(u){return{result:"success",value:u}}function Xd(u){return{result:"error",value:u}}function I1(u,o){return!!u&&!!u.parameters&&u.parameters.indexOf(o)>-1}function Km(u){return u["property-type"]==="data-driven"}function C0(u){return I1(u.expression,"measure-light")}function Oy(u){return I1(u.expression,"zoom")}function xA(u){return!!u.expression&&u.expression.interpolated}function rp(u){return typeof u=="object"&&u!==null&&!Array.isArray(u)}function CA(u){return u}function Wm(u,o){const h=o.type==="color",p=u.stops&&typeof u.stops[0][0]=="object",v=p||!(p||u.property!==void 0),b=u.type||(xA(o)?"exponential":"interval");if(h&&((u=hA({},u)).stops&&(u.stops=u.stops.map(O=>[O[0],Ga.parse(O[1])])),u.default=Ga.parse(u.default?u.default:o.default)),u.colorSpace&&u.colorSpace!=="rgb"&&!cu[u.colorSpace])throw new Error(`Unknown color space: ${u.colorSpace}`);let C,M,k;if(b==="exponential")C=Ny;else if(b==="interval")C=Dy;else if(b==="categorical"){C=J2,M=Object.create(null);for(const O of u.stops)M[O[0]]=O[1];k=typeof u.stops[0][0]}else{if(b!=="identity")throw new Error(`Unknown function type "${b}"`);C=Uy}if(p){const O={},U=[];for(let fe=0;fe<u.stops.length;fe++){const ge=u.stops[fe],xe=ge[0].zoom;O[xe]===void 0&&(O[xe]={zoom:xe,type:u.type,property:u.property,default:u.default,stops:[]},U.push(xe)),O[xe].stops.push([ge[0].value,ge[1]])}const G=[];for(const fe of U)G.push([O[fe].zoom,Wm(O[fe],o)]);const Z={name:"linear"};return{kind:"composite",interpolationType:Z,interpolationFactor:Wl.interpolationFactor.bind(void 0,Z),zoomStops:G.map(fe=>fe[0]),evaluate:({zoom:fe},ge)=>Ny({stops:G,base:u.base},o,fe).evaluate(fe,ge)}}if(v){const O=b==="exponential"?{name:"exponential",base:u.base!==void 0?u.base:1}:null;return{kind:"camera",interpolationType:O,interpolationFactor:Wl.interpolationFactor.bind(void 0,O),zoomStops:u.stops.map(U=>U[0]),evaluate:({zoom:U})=>C(u,o,U,M,k)}}return{kind:"source",evaluate(O,U){const G=U&&U.properties?U.properties[u.property]:void 0;return G===void 0?EA(u.default,o.default):C(u,o,G,M,k)}}}function EA(u,o,h){return u!==void 0?u:o!==void 0?o:h!==void 0?h:void 0}function J2(u,o,h,p,v){return EA(typeof h===v?p[h]:void 0,u.default,o.default)}function Dy(u,o,h){if(ed(h)!=="number")return EA(u.default,o.default);const p=u.stops.length;if(p===1||h<=u.stops[0][0])return u.stops[0][1];if(h>=u.stops[p-1][0])return u.stops[p-1][1];const v=Iu(u.stops.map(b=>b[0]),h);return u.stops[v][1]}function Ny(u,o,h){const p=u.base!==void 0?u.base:1;if(ed(h)!=="number")return EA(u.default,o.default);const v=u.stops.length;if(v===1||h<=u.stops[0][0])return u.stops[0][1];if(h>=u.stops[v-1][0])return u.stops[v-1][1];const b=Iu(u.stops.map(U=>U[0]),h),C=function(U,G,Z,fe){const ge=fe-Z,xe=U-Z;return ge===0?0:G===1?xe/ge:(Math.pow(G,xe)-1)/(Math.pow(G,ge)-1)}(h,p,u.stops[b][0],u.stops[b+1][0]),M=u.stops[b][1],k=u.stops[b+1][1];let O=Hd[o.type]||CA;if(u.colorSpace&&u.colorSpace!=="rgb"){const U=cu[u.colorSpace];O=(G,Z)=>U.reverse(U.interpolate(U.forward(G),U.forward(Z),C))}return typeof M.evaluate=="function"?{evaluate(...U){const G=M.evaluate.apply(void 0,U),Z=k.evaluate.apply(void 0,U);if(G!==void 0&&Z!==void 0)return O(G,Z,C)}}:O(M,k,C)}function Uy(u,o,h){return o.type==="color"?h=Ga.parse(h):o.type==="formatted"?h=io.fromString(h.toString()):o.type==="resolvedImage"?h=Vr.fromString(h.toString()):ed(h)===o.type||o.type==="enum"&&o.values[h]||(h=void 0),EA(h,u.default,o.default)}class E0{constructor(o,h,p,v){this.expression=o,this._warningHistory={},this._evaluator=new td(p,v),this._defaultValue=h?function(b){return b.type==="color"&&(rp(b.default)||Array.isArray(b.default))?new Ga(0,0,0,0):b.type==="color"?Ga.parse(b.default)||null:b.default===void 0?null:b.default}(h):null,this._enumValues=h&&h.type==="enum"?h.values:null}evaluateWithoutErrorHandling(o,h,p,v,b,C,M,k){return this._evaluator.globals=o,this._evaluator.feature=h,this._evaluator.featureState=p,this._evaluator.canonical=v||null,this._evaluator.availableImages=b||null,this._evaluator.formattedSection=C,this._evaluator.featureTileCoord=M||null,this._evaluator.featureDistanceData=k||null,this.expression.evaluate(this._evaluator)}evaluate(o,h,p,v,b,C,M,k){this._evaluator.globals=o,this._evaluator.feature=h||null,this._evaluator.featureState=p||null,this._evaluator.canonical=v||null,this._evaluator.availableImages=b||null,this._evaluator.formattedSection=C||null,this._evaluator.featureTileCoord=M||null,this._evaluator.featureDistanceData=k||null;try{const O=this.expression.evaluate(this._evaluator);if(O==null||typeof O=="number"&&O!=O)return this._defaultValue;if(this._enumValues&&!(O in this._enumValues))throw new Ks(`Expected value to be one of ${Object.keys(this._enumValues).map(U=>JSON.stringify(U)).join(", ")}, but found ${JSON.stringify(O)} instead.`);return O}catch(O){return this._warningHistory[O.message]||(this._warningHistory[O.message]=!0,typeof console<"u"&&console.warn(O.message)),this._defaultValue}}}function qm(u){return Array.isArray(u)&&u.length>0&&typeof u[0]=="string"&&u[0]in wA}function S0(u,o,h,p){const v=new Zf(wA,[],o?function(C){const M={color:Cu,string:da,number:mr,enum:da,boolean:fa,formatted:Wh,resolvedImage:Oo};return C.type==="array"?zl(M[C.value]||Qi,C.length):M[C.type]}(o):void 0,void 0,void 0,h,p),b=v.parse(u,void 0,void 0,void 0,o&&o.type==="string"?{typeAnnotation:"coerce"}:void 0);return b?M1(new E0(b,o,h,p)):Xd(v.errors)}class L1{constructor(o,h,p){this.kind=o,this._styleExpression=h,this.isLightConstant=p,this.isStateDependent=o!=="constant"&&!Ah(h.expression),this.isConfigDependent=!id(h.expression)}evaluateWithoutErrorHandling(o,h,p,v,b,C){return this._styleExpression.evaluateWithoutErrorHandling(o,h,p,v,b,C)}evaluate(o,h,p,v,b,C){return this._styleExpression.evaluate(o,h,p,v,b,C)}}class SA{constructor(o,h,p,v,b){this.kind=o,this.zoomStops=p,this._styleExpression=h,this.isStateDependent=o!=="camera"&&!Ah(h.expression),this.isLightConstant=b,this.isConfigDependent=!id(h.expression),this.interpolationType=v}evaluateWithoutErrorHandling(o,h,p,v,b,C){return this._styleExpression.evaluateWithoutErrorHandling(o,h,p,v,b,C)}evaluate(o,h,p,v,b,C){return this._styleExpression.evaluate(o,h,p,v,b,C)}interpolationFactor(o,h,p){return this.interpolationType?Wl.interpolationFactor(this.interpolationType,o,h,p):0}}function ip(u,o,h,p){if((u=S0(u,o,h,p)).result==="error")return u;const v=u.value.expression,b=Ql(v);if(!b&&!Km(o))return Xd([new Qu("","data expressions not supported")]);const C=zs(v,["zoom","pitch","distance-from-center"]);if(!C&&!Oy(o))return Xd([new Qu("","zoom expressions not supported")]);const M=zs(v,["measure-light"]);if(!M&&!C0(o))return Xd([new Qu("","measure-light expression not supported")]);const k=o.expression&&o.expression.relaxZoomRestriction,O=Xm(v);return O||C||k?O instanceof Qu?Xd([O]):O instanceof Wl&&!xA(o)?Xd([new Qu("",'"interpolate" expressions cannot be used with this property')]):M1(O?new SA(b?"camera":"composite",u.value,O.labels,O instanceof Wl?O.interpolation:void 0,M):new L1(b?"constant":"source",u.value,M)):Xd([new Qu("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression, or in the properties of atmosphere.')])}class Ym{constructor(o,h){this._parameters=o,this._specification=h,hA(this,Wm(this._parameters,this._specification))}static deserialize(o){return new Ym(o._parameters,o._specification)}static serialize(o){return{_parameters:o._parameters,_specification:o._specification}}}function Xm(u){let o=null;if(u instanceof Hm)o=Xm(u.result);else if(u instanceof _A){for(const h of u.args)if(o=Xm(h),o)break}else(u instanceof jl||u instanceof Wl)&&u.input instanceof Oi&&u.input.name==="zoom"&&(o=u);return o instanceof Qu||u.eachChild(h=>{const p=Xm(h);p instanceof Qu?o=p:o&&p&&o!==p&&(o=new Qu("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),o}var zy=re,V=3;function re(u,o,h){var p=this.cells=[];if(u instanceof ArrayBuffer){this.arrayBuffer=u;var v=new Int32Array(this.arrayBuffer);u=v[0],this.d=(o=v[1])+2*(h=v[2]);for(var b=0;b<this.d*this.d;b++){var C=v[V+b],M=v[V+b+1];p.push(C===M?null:v.subarray(C,M))}var k=v[V+p.length+1];this.keys=v.subarray(v[V+p.length],k),this.bboxes=v.subarray(k),this.insert=this._insertReadonly}else{this.d=o+2*h;for(var O=0;O<this.d*this.d;O++)p.push([]);this.keys=[],this.bboxes=[]}this.n=o,this.extent=u,this.padding=h,this.scale=o/u,this.uid=0;var U=h/o*u;this.min=-U,this.max=u+U}re.prototype.insert=function(u,o,h,p,v){this._forEachCell(o,h,p,v,this._insertCell,this.uid++),this.keys.push(u),this.bboxes.push(o),this.bboxes.push(h),this.bboxes.push(p),this.bboxes.push(v)},re.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},re.prototype._insertCell=function(u,o,h,p,v,b){this.cells[v].push(b)},re.prototype.query=function(u,o,h,p,v){var b=this.min,C=this.max;if(u<=b&&o<=b&&C<=h&&C<=p&&!v)return Array.prototype.slice.call(this.keys);var M=[];return this._forEachCell(u,o,h,p,this._queryCell,M,{},v),M},re.prototype._queryCell=function(u,o,h,p,v,b,C,M){var k=this.cells[v];if(k!==null)for(var O=this.keys,U=this.bboxes,G=0;G<k.length;G++){var Z=k[G];if(C[Z]===void 0){var fe=4*Z;(M?M(U[fe+0],U[fe+1],U[fe+2],U[fe+3]):u<=U[fe+2]&&o<=U[fe+3]&&h>=U[fe+0]&&p>=U[fe+1])?(C[Z]=!0,b.push(O[Z])):C[Z]=!1}}},re.prototype._forEachCell=function(u,o,h,p,v,b,C,M){for(var k=this._convertToCellCoord(u),O=this._convertToCellCoord(o),U=this._convertToCellCoord(h),G=this._convertToCellCoord(p),Z=k;Z<=U;Z++)for(var fe=O;fe<=G;fe++){var ge=this.d*fe+Z;if((!M||M(this._convertFromCellCoord(Z),this._convertFromCellCoord(fe),this._convertFromCellCoord(Z+1),this._convertFromCellCoord(fe+1)))&&v.call(this,u,o,h,p,ge,b,C,M))return}},re.prototype._convertFromCellCoord=function(u){return(u-this.padding)/this.scale},re.prototype._convertToCellCoord=function(u){return Math.max(0,Math.min(this.d-1,Math.floor(u*this.scale)+this.padding))},re.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var u=this.cells,o=V+this.cells.length+1+1,h=0,p=0;p<this.cells.length;p++)h+=this.cells[p].length;var v=new Int32Array(o+h+this.keys.length+this.bboxes.length);v[0]=this.extent,v[1]=this.n,v[2]=this.padding;for(var b=o,C=0;C<u.length;C++){var M=u[C];v[V+C]=b,v.set(M,b),b+=M.length}return v[V+u.length]=b,v.set(this.keys,b),v[V+u.length+1]=b+=this.keys.length,v.set(this.bboxes,b),b+=this.bboxes.length,v.buffer};var we=R(zy);const ke={};function ze(u,o,h={}){Object.defineProperty(u,"_classRegistryKey",{value:o,writeable:!1}),ke[o]={klass:u,omit:h.omit||[]}}ze(Object,"Object"),we.serialize=function(u,o){const h=u.toArrayBuffer();return o&&o.add(h),{buffer:h}},we.deserialize=function(u){return new we(u.buffer)},Object.defineProperty(we,"name",{value:"Grid"}),ze(we,"Grid"),ze(Ga,"Color"),ze(Error,"Error"),ze(io,"Formatted"),ze(Yh,"FormattedSection"),ze(Ki,"AJAXError"),ze(Vr,"ResolvedImage"),ze(Ym,"StylePropertyFunction"),ze(E0,"StyleExpression",{omit:["_evaluator"]}),ze(SA,"ZoomDependentExpression"),ze(L1,"ZoomConstantExpression"),ze(Oi,"CompoundExpression",{omit:["_evaluate"]});for(const u in wA)ke[wA[u]._classRegistryKey]||ze(wA[u],`Expression${u}`);function ct(u){return u&&typeof ArrayBuffer<"u"&&(u instanceof ArrayBuffer||u.constructor&&u.constructor.name==="ArrayBuffer")}function dt(u){return self.ImageBitmap&&u instanceof ImageBitmap}function gt(u,o){if(u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp)return u;if(ct(u)||dt(u))return o&&o.add(u),u;if(ArrayBuffer.isView(u)){const h=u;return o&&o.add(h.buffer),h}if(u instanceof ImageData)return o&&o.add(u.data.buffer),u;if(Array.isArray(u)){const h=[];for(const p of u)h.push(gt(p,o));return h}if(u instanceof Map){const h={$name:"Map"};for(const[p,v]of u.entries())h[p]=gt(v);return h}if(typeof u=="object"){const h=u.constructor,p=h._classRegistryKey;if(!p)throw new Error(`can't serialize object of unregistered class ${p}`);const v=h.serialize?h.serialize(u,o):{};if(!h.serialize){for(const b in u)u.hasOwnProperty(b)&&(ke[p].omit.indexOf(b)>=0||(v[b]=gt(u[b],o)));u instanceof Error&&(v.message=u.message)}if(v.$name)throw new Error("$name property is reserved for worker serialization logic.");return p!=="Object"&&(v.$name=p),v}throw new Error("can't serialize object of type "+typeof u)}function Ct(u){if(u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp||ct(u)||dt(u)||ArrayBuffer.isView(u)||u instanceof ImageData)return u;if(Array.isArray(u))return u.map(Ct);if(typeof u=="object"){const o=u.$name||"Object";if(o==="Map"){const v=new Map;for(const b of Object.keys(u))b!=="$name"&&v.set(b,Ct(u[b]));return v}const{klass:h}=ke[o];if(!h)throw new Error(`can't deserialize unregistered class ${o}`);if(h.deserialize)return h.deserialize(u);const p=Object.create(h.prototype);for(const v of Object.keys(u))v!=="$name"&&(p[v]=Ct(u[v]));return p}throw new Error("can't deserialize object of type "+typeof u)}const ft={"Latin-1 Supplement":u=>u>=128&&u<=255,Arabic:u=>u>=1536&&u<=1791,"Arabic Supplement":u=>u>=1872&&u<=1919,"Arabic Extended-A":u=>u>=2208&&u<=2303,"Hangul Jamo":u=>u>=4352&&u<=4607,"Unified Canadian Aboriginal Syllabics":u=>u>=5120&&u<=5759,Khmer:u=>u>=6016&&u<=6143,"Unified Canadian Aboriginal Syllabics Extended":u=>u>=6320&&u<=6399,"General Punctuation":u=>u>=8192&&u<=8303,"Letterlike Symbols":u=>u>=8448&&u<=8527,"Number Forms":u=>u>=8528&&u<=8591,"Miscellaneous Technical":u=>u>=8960&&u<=9215,"Control Pictures":u=>u>=9216&&u<=9279,"Optical Character Recognition":u=>u>=9280&&u<=9311,"Enclosed Alphanumerics":u=>u>=9312&&u<=9471,"Geometric Shapes":u=>u>=9632&&u<=9727,"Miscellaneous Symbols":u=>u>=9728&&u<=9983,"Miscellaneous Symbols and Arrows":u=>u>=11008&&u<=11263,"CJK Radicals Supplement":u=>u>=11904&&u<=12031,"Kangxi Radicals":u=>u>=12032&&u<=12255,"Ideographic Description Characters":u=>u>=12272&&u<=12287,"CJK Symbols and Punctuation":u=>u>=12288&&u<=12351,Hiragana:u=>u>=12352&&u<=12447,Katakana:u=>u>=12448&&u<=12543,Bopomofo:u=>u>=12544&&u<=12591,"Hangul Compatibility Jamo":u=>u>=12592&&u<=12687,Kanbun:u=>u>=12688&&u<=12703,"Bopomofo Extended":u=>u>=12704&&u<=12735,"CJK Strokes":u=>u>=12736&&u<=12783,"Katakana Phonetic Extensions":u=>u>=12784&&u<=12799,"Enclosed CJK Letters and Months":u=>u>=12800&&u<=13055,"CJK Compatibility":u=>u>=13056&&u<=13311,"CJK Unified Ideographs Extension A":u=>u>=13312&&u<=19903,"Yijing Hexagram Symbols":u=>u>=19904&&u<=19967,"CJK Unified Ideographs":u=>u>=19968&&u<=40959,"Yi Syllables":u=>u>=40960&&u<=42127,"Yi Radicals":u=>u>=42128&&u<=42191,"Hangul Jamo Extended-A":u=>u>=43360&&u<=43391,"Hangul Syllables":u=>u>=44032&&u<=55215,"Hangul Jamo Extended-B":u=>u>=55216&&u<=55295,"Private Use Area":u=>u>=57344&&u<=63743,"CJK Compatibility Ideographs":u=>u>=63744&&u<=64255,"Arabic Presentation Forms-A":u=>u>=64336&&u<=65023,"Vertical Forms":u=>u>=65040&&u<=65055,"CJK Compatibility Forms":u=>u>=65072&&u<=65103,"Small Form Variants":u=>u>=65104&&u<=65135,"Arabic Presentation Forms-B":u=>u>=65136&&u<=65279,"Halfwidth and Fullwidth Forms":u=>u>=65280&&u<=65519,"CJK Unified Ideographs Extension B":u=>u>=131072&&u<=173791};function nn(u){for(const o of u)if(An(o.charCodeAt(0)))return!0;return!1}function Bn(u){for(const o of u)if(!Mn(o.charCodeAt(0)))return!1;return!0}function Mn(u){return!(ft.Arabic(u)||ft["Arabic Supplement"](u)||ft["Arabic Extended-A"](u)||ft["Arabic Presentation Forms-A"](u)||ft["Arabic Presentation Forms-B"](u))}function An(u){return!(u!==746&&u!==747&&(u<4352||!(ft["Bopomofo Extended"](u)||ft.Bopomofo(u)||ft["CJK Compatibility Forms"](u)&&!(u>=65097&&u<=65103)||ft["CJK Compatibility Ideographs"](u)||ft["CJK Compatibility"](u)||ft["CJK Radicals Supplement"](u)||ft["CJK Strokes"](u)||!(!ft["CJK Symbols and Punctuation"](u)||u>=12296&&u<=12305||u>=12308&&u<=12319||u===12336)||ft["CJK Unified Ideographs Extension A"](u)||ft["CJK Unified Ideographs"](u)||ft["Enclosed CJK Letters and Months"](u)||ft["Hangul Compatibility Jamo"](u)||ft["Hangul Jamo Extended-A"](u)||ft["Hangul Jamo Extended-B"](u)||ft["Hangul Jamo"](u)||ft["Hangul Syllables"](u)||ft.Hiragana(u)||ft["Ideographic Description Characters"](u)||ft.Kanbun(u)||ft["Kangxi Radicals"](u)||ft["Katakana Phonetic Extensions"](u)||ft.Katakana(u)&&u!==12540||!(!ft["Halfwidth and Fullwidth Forms"](u)||u===65288||u===65289||u===65293||u>=65306&&u<=65310||u===65339||u===65341||u===65343||u>=65371&&u<=65503||u===65507||u>=65512&&u<=65519)||!(!ft["Small Form Variants"](u)||u>=65112&&u<=65118||u>=65123&&u<=65126)||ft["Unified Canadian Aboriginal Syllabics"](u)||ft["Unified Canadian Aboriginal Syllabics Extended"](u)||ft["Vertical Forms"](u)||ft["Yijing Hexagram Symbols"](u)||ft["Yi Syllables"](u)||ft["Yi Radicals"](u))))}function hr(u){return!(An(u)||function(o){return!!(ft["Latin-1 Supplement"](o)&&(o===167||o===169||o===174||o===177||o===188||o===189||o===190||o===215||o===247)||ft["General Punctuation"](o)&&(o===8214||o===8224||o===8225||o===8240||o===8241||o===8251||o===8252||o===8258||o===8263||o===8264||o===8265||o===8273)||ft["Letterlike Symbols"](o)||ft["Number Forms"](o)||ft["Miscellaneous Technical"](o)&&(o>=8960&&o<=8967||o>=8972&&o<=8991||o>=8996&&o<=9e3||o===9003||o>=9085&&o<=9114||o>=9150&&o<=9165||o===9167||o>=9169&&o<=9179||o>=9186&&o<=9215)||ft["Control Pictures"](o)&&o!==9251||ft["Optical Character Recognition"](o)||ft["Enclosed Alphanumerics"](o)||ft["Geometric Shapes"](o)||ft["Miscellaneous Symbols"](o)&&!(o>=9754&&o<=9759)||ft["Miscellaneous Symbols and Arrows"](o)&&(o>=11026&&o<=11055||o>=11088&&o<=11097||o>=11192&&o<=11243)||ft["CJK Symbols and Punctuation"](o)||ft.Katakana(o)||ft["Private Use Area"](o)||ft["CJK Compatibility Forms"](o)||ft["Small Form Variants"](o)||ft["Halfwidth and Fullwidth Forms"](o)||o===8734||o===8756||o===8757||o>=9984&&o<=10087||o>=10102&&o<=10131||o===65532||o===65533)}(u))}function Qn(u){return u>=1424&&u<=2303||ft["Arabic Presentation Forms-A"](u)||ft["Arabic Presentation Forms-B"](u)}function ln(u,o){return!(!o&&Qn(u)||u>=2304&&u<=3583||u>=3840&&u<=4255||ft.Khmer(u))}function dn(u){for(const o of u)if(Qn(o.charCodeAt(0)))return!0;return!1}const sr="deferred",fr="loading",ur="loaded";let Zr=null,Er="unavailable",yi=null;const Gr=function(u){u&&typeof u=="string"&&u.indexOf("NetworkError")>-1&&(Er="error"),Zr&&Zr(u)};function Wa(){as.fire(new Gh("pluginStateChange",{pluginStatus:Er,pluginURL:yi}))}const as=new Vd,Ea=function(){return Er},Pa=function(){if(Er!==sr||!yi)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Er=fr,Wa(),yi&&hn({url:yi},u=>{u?Gr(u):(Er=ur,Wa())})},Ma={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Er===ur||Ma.applyArabicShaping!=null,isLoading:()=>Er===fr,setState(u){Er=u.pluginStatus,yi=u.pluginURL},isParsed:()=>Ma.applyArabicShaping!=null&&Ma.processBidirectionalText!=null&&Ma.processStyledBidirectionalText!=null,getPluginURL:()=>yi};class Pi{constructor(o,h){this.zoom=o,h?(this.now=h.now,this.fadeDuration=h.fadeDuration,this.transition=h.transition,this.pitch=h.pitch,this.brightness=h.brightness):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0,this.brightness=0)}isSupportedScript(o){return function(h,p){for(const v of h)if(!ln(v.charCodeAt(0),p))return!1;return!0}(o,Ma.isLoaded())}}class aa{constructor(o,h,p,v){this.property=o,this.value=h,this.expression=function(b,C,M,k){if(rp(b))return new Ym(b,C);if(qm(b)||Array.isArray(b)&&b.length>0){const O=ip(b,C,M,k);if(O.result==="error")throw new Error(O.value.map(U=>`${U.key}: ${U.message}`).join(", "));return O.value}{let O=b;return typeof b=="string"&&C.type==="color"&&(O=Ga.parse(b)),{kind:"constant",isConfigDependent:!1,evaluate:()=>O}}}(h===void 0?o.specification.default:h,o.specification,p,v)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(o,h,p){return this.property.possiblyEvaluate(this,o,h,p)}}class fo{constructor(o,h,p){this.property=o,this.value=new aa(o,void 0,h,p)}transitioned(o,h){return new Ao(this.property,this.value,h,se({},o.transition,this.transition),o.now)}untransitioned(){return new Ao(this.property,this.value,null,{},0)}}class po{constructor(o,h,p){this._properties=o,this._values=Object.create(o.defaultTransitionablePropertyValues),this._scope=h,this._options=p,this.isConfigDependent=!1}getValue(o){return Ve(this._values[o].value.value)}setValue(o,h){this._values.hasOwnProperty(o)||(this._values[o]=new fo(this._values[o].property,this._scope,this._options)),this._values[o].value=new aa(this._values[o].property,h===null?void 0:Ve(h),this._scope,this._options),this.isConfigDependent=this.isConfigDependent||this._values[o].value.expression.isConfigDependent}setTransitionOrValue(o,h){h&&(this._options=h);const p=this._properties.properties;if(o)for(const v in o){const b=o[v];if(Qe(v,"-transition")){const C=v.slice(0,-11);p[C]&&this.setTransition(C,b)}else p[v]&&this.setValue(v,b)}}getTransition(o){return Ve(this._values[o].transition)}setTransition(o,h){this._values.hasOwnProperty(o)||(this._values[o]=new fo(this._values[o].property)),this._values[o].transition=Ve(h)||void 0}serialize(){const o={};for(const h of Object.keys(this._values)){const p=this.getValue(h);p!==void 0&&(o[h]=p);const v=this.getTransition(h);v!==void 0&&(o[`${h}-transition`]=v)}return o}transitioned(o,h){const p=new Do(this._properties);for(const v of Object.keys(this._values))p._values[v]=this._values[v].transitioned(o,h._values[v]);return p}untransitioned(){const o=new Do(this._properties);for(const h of Object.keys(this._values))o._values[h]=this._values[h].untransitioned();return o}}class Ao{constructor(o,h,p,v,b){const C=v.delay||0,M=v.duration||0;b=b||0,this.property=o,this.value=h,this.begin=b+C,this.end=this.begin+M,o.specification.transition&&(v.delay||v.duration)&&(this.prior=p)}possiblyEvaluate(o,h,p){const v=o.now||0,b=this.value.possiblyEvaluate(o,h,p),C=this.prior;if(C){if(v>this.end)return this.prior=null,b;if(this.value.isDataDriven())return this.prior=null,b;if(v<this.begin)return C.possiblyEvaluate(o,h,p);{const M=(v-this.begin)/(this.end-this.begin);return this.property.interpolate(C.possiblyEvaluate(o,h,p),b,J(M))}}return b}}class Do{constructor(o){this._properties=o,this._values=Object.create(o.defaultTransitioningPropertyValues)}possiblyEvaluate(o,h,p){const v=new pl(this._properties);for(const b of Object.keys(this._values))v._values[b]=this._values[b].possiblyEvaluate(o,h,p);return v}hasTransition(){for(const o of Object.keys(this._values))if(this._values[o].prior)return!0;return!1}}class ls{constructor(o,h,p){this._properties=o,this._values=Object.create(o.defaultPropertyValues),this._scope=h,this._options=p,this.isConfigDependent=!1}getValue(o){return Ve(this._values[o].value)}setValue(o,h){this._values[o]=new aa(this._values[o].property,h===null?void 0:Ve(h),this._scope,this._options),this.isConfigDependent=this.isConfigDependent||this._values[o].expression.isConfigDependent}serialize(){const o={};for(const h of Object.keys(this._values)){const p=this.getValue(h);p!==void 0&&(o[h]=p)}return o}possiblyEvaluate(o,h,p){const v=new pl(this._properties);for(const b of Object.keys(this._values))v._values[b]=this._values[b].possiblyEvaluate(o,h,p);return v}}class nl{constructor(o,h,p){this.property=o,this.value=h,this.parameters=p}isConstant(){return this.value.kind==="constant"}constantOr(o){return this.value.kind==="constant"?this.value.value:o}evaluate(o,h,p,v){return this.property.evaluate(this.value,this.parameters,o,h,p,v)}}class pl{constructor(o){this._properties=o,this._values=Object.create(o.defaultPossiblyEvaluatedValues)}get(o){return this._values[o]}}class jn{constructor(o){this.specification=o}possiblyEvaluate(o,h){return o.expression.evaluate(h)}interpolate(o,h,p){const v=Hd[this.specification.type];return v?v(o,h,p):o}}class Cr{constructor(o,h){this.specification=o,this.overrides=h}possiblyEvaluate(o,h,p,v){return new nl(this,o.expression.kind==="constant"||o.expression.kind==="camera"?{kind:"constant",value:o.expression.evaluate(h,null,{},p,v)}:o.expression,h)}interpolate(o,h,p){if(o.value.kind!=="constant"||h.value.kind!=="constant")return o;if(o.value.value===void 0||h.value.value===void 0)return new nl(this,{kind:"constant",value:void 0},o.parameters);const v=Hd[this.specification.type];return v?new nl(this,{kind:"constant",value:v(o.value.value,h.value.value,p)},o.parameters):o}evaluate(o,h,p,v,b,C){return o.kind==="constant"?o.value:o.evaluate(h,p,v,b,C)}}class Bo{constructor(o){this.specification=o}possiblyEvaluate(o,h,p,v){return!!o.expression.evaluate(h,null,{},p,v)}interpolate(){return!1}}class Ia{constructor(o){this.properties=o,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const h=new Pi(0,{});for(const p in o){const v=o[p];v.specification.overridable&&this.overridableProperties.push(p);const b=this.defaultPropertyValues[p]=new aa(v,void 0),C=this.defaultTransitionablePropertyValues[p]=new fo(v);this.defaultTransitioningPropertyValues[p]=C.untransitioned(),this.defaultPossiblyEvaluatedValues[p]=b.possiblyEvaluate(h)}}}function Lu(u){return u instanceof Number||u instanceof String||u instanceof Boolean?u.valueOf():u}function mo(u){if(Array.isArray(u))return u.map(mo);if(u instanceof Object&&!(u instanceof Number||u instanceof String||u instanceof Boolean)){const o={};for(const h in u)o[h]=mo(u[h]);return o}return Lu(u)}ze(Cr,"DataDrivenProperty"),ze(jn,"DataConstantProperty"),ze(Bo,"ColorRampProperty");var rn=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"fragment":{"type":"boolean"},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360},"pitch":{"type":"number","default":0},"light":{"type":"light"},"lights":{"required":false,"type":"array","value":"light-3d"},"terrain":{"type":"terrain","optional":true},"fog":{"type":"fog"},"camera":{"type":"camera"},"imports":{"type":"array","value":"import"},"schema":{"type":"schema"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string","default":"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"},"models":{"type":"models"}},"model":{"type":"string","required":true},"import":{"id":{"type":"string","required":true},"url":{"type":"string","required":true},"config":{"type":"config"},"data":{"type":"$root"}},"config":{"*":{"type":"*"}},"schema":{"*":{"type":"option"}},"option":{"default":{"type":"*","required":true},"type":{"type":"enum","values":{"string":1,"number":1,"boolean":1,"color":1}},"array":{"type":"boolean"},"minValue":{"type":"number"},"maxValue":{"type":"number"},"stepValue":{"type":"number"},"values":{"type":"array","value":"*"},"metadata":{"type":"*"}},"models":{"*":{"type":"model"}},"light-3d":{"id":{"type":"string","required":true},"properties":{"type":"properties"},"type":{"type":"enum","values":{"ambient":{},"directional":{},"flat":{}}}},"properties":["properties_light_directional","properties_light_ambient","properties_light_flat"],"properties_light_directional":{"direction":{"type":"array","default":[210,30],"minimum":[0,0],"maximum":[360,90],"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"cast-shadows":{"type":"boolean","default":false,"expression":{},"property-type":"data-constant"},"shadow-intensity":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"properties_light_ambient":{"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"properties_light_flat":{"anchor":{"type":"enum","default":"viewport","values":{"map":1,"viewport":1},"property-type":"data-constant","expression":{"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_raster_array","source_geojson","source_video","source_image","source_model"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":1,"tms":1},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512},"scheme":{"type":"enum","values":{"xyz":1,"tms":1},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":1,"mapbox":1},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_array":{"type":{"required":true,"type":"enum","values":{"raster-array":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512},"attribution":{"type":"string"},"rasterLayers":{"type":"*"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":1}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":1}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":1}},"url":{"required":false,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_model":{"type":{"required":true,"type":"enum","values":{"model":1,"batched-model":1}},"maxzoom":{"type":"number","default":18},"minzoom":{"type":"number","default":0},"tiles":{"type":"array","value":"string"}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"raster-particle":{},"hillshade":{},"model":{},"background":{},"sky":{},"slot":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"slot":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_raster-particle","layout_hillshade","layout_background","layout_sky","layout_model"],"layout_background":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_model":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"},"model-id":{"type":"string","default":"","property-type":"data-driven","expression":{"parameters":["zoom","feature"]}}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":1,"round":1,"square":1},"default":"butt","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":1,"round":1,"miter":1},"default":"miter","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":1,"line":1,"line-center":1},"default":"point","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":1,"viewport-y":1,"source":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-z-elevate":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":1,"width":1,"height":1,"both":1},"default":"none","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":1,"left":1,"right":1,"top":1,"bottom":1,"top-left":1,"top-right":1,"bottom-left":1,"bottom-right":1},"default":"center","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":1,"left":1,"center":1,"right":1},"default":"center","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","default":0,"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":1,"left":1,"right":1,"top":1,"bottom":1,"top-left":1,"top-right":1,"bottom-left":1,"bottom-right":1},"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":1,"left":1,"right":1,"top":1,"bottom":1,"top-left":1,"top-right":1,"bottom-left":1,"bottom-right":1},"default":"center","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":1,"vertical":1},"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":1,"uppercase":1,"lowercase":1},"default":"none","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","length":2,"default":[0,0],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_raster-particle":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":1,"!=":1,">":1,">=":1,"<":1,"<=":1,"in":1,"!in":1,"all":1,"any":1,"none":1,"has":1,"!has":1}},"geometry_type":{"type":"enum","values":{"Point":1,"LineString":1,"Polygon":1}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":1,"exponential":1,"interval":1,"categorical":1},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":1,"lab":1,"hcl":1},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"vertical-range":{"type":"array","default":[0,0],"minimum":0,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}}},"camera":{"camera-projection":{"type":"enum","values":{"perspective":1,"orthographic":1},"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"default":"perspective","property-type":"data-constant"}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":1,"viewport":1},"property-type":"data-constant","expression":{"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":1,"equalEarth":1,"equirectangular":1,"lambertConformalConic":1,"mercator":1,"naturalEarth":1,"winkelTripel":1,"globe":1},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky","paint_model"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-wall-radius":{"property-type":"data-constant","type":"number","default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-ground-radius":{"property-type":"data-constant","type":"number","default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-ground-attenuation":{"property-type":"data-constant","type":"number","default":0.69,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"fill-extrusion-flood-light-color":{"property-type":"data-constant","type":"color","default":"#ffffff","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]}},"fill-extrusion-flood-light-intensity":{"property-type":"data-constant","type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]}},"fill-extrusion-flood-light-wall-radius":{"property-type":"data-driven","type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["feature","feature-state"]}},"fill-extrusion-flood-light-ground-radius":{"property-type":"data-driven","type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["feature","feature-state"]}},"fill-extrusion-flood-light-ground-attenuation":{"property-type":"data-constant","type":"number","default":0.69,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"fill-extrusion-vertical-scale":{"property-type":"data-constant","type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"fill-extrusion-rounded-roof":{"property-type":"data-constant","type":"boolean","default":true,"expression":{"parameters":["zoom"]}},"fill-extrusion-cutoff-fade-range":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"},"fill-extrusion-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"property-type":"constant"},"line-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"line-border-width":{"type":"number","private":true,"default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-border-color":{"type":"color","private":true,"default":"rgba(0, 0, 0, 0)","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1},"default":"viewport","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-emissive-strength":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-driven"},"text-emissive-strength":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-image-cross-fade":{"type":"number","property-type":"data-driven","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"transition":true},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-color-saturation":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-color":{"type":"color","expression":{"interpolated":true,"parameters":["raster-value"]},"property-type":"color-ramp"},"raster-color-mix":{"type":"array","default":[0.2126,0.7152,0.0722,0],"length":4,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"raster-color-range":{"type":"array","length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":1,"nearest":1},"default":"linear","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"raster-array-band":{"type":"string","required":false,"property-type":"data-constant"},"raster-elevation":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster-particle":{"raster-particle-array-band":{"type":"string","required":false,"property-type":"data-constant"},"raster-particle-count":{"type":"number","default":512,"minimum":1,"property-type":"data-constant"},"raster-particle-color":{"type":"color","expression":{"interpolated":true,"parameters":["raster-particle-speed"]},"property-type":"color-ramp"},"raster-particle-max-speed":{"type":"number","default":1,"minimum":1,"property-type":"data-constant"},"raster-particle-speed-factor":{"type":"number","default":0.2,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-particle-fade-opacity-factor":{"type":"number","default":0.98,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-particle-reset-rate-factor":{"type":"number","default":0.8,"minimum":0,"maximum":1,"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"viewport","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"hillshade-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":1,"atmosphere":1},"default":"atmosphere","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"minimum":[0,0],"maximum":[360,180],"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","default":10,"minimum":0,"maximum":100,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","value":"number","default":[0,0],"length":2,"minimum":[0,0],"maximum":[360,180],"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","default":90,"minimum":0,"maximum":180,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_model":{"model-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"model-rotation":{"type":"array","value":"number","length":3,"default":[0,0,0],"period":360,"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"transition":true},"model-scale":{"type":"array","value":"number","length":3,"default":[1,1,1],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"transition":true},"model-translation":{"type":"array","value":"number","length":3,"default":[0,0,0],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"transition":true},"model-color":{"type":"color","default":"#ffffff","property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light","zoom"]},"transition":true},"model-color-mix-intensity":{"type":"number","property-type":"data-driven","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light"]},"transition":true},"model-type":{"type":"enum","values":{"common-3d":1,"location-indicator":1},"default":"common-3d","property-type":"data-constant"},"model-cast-shadows":{"type":"boolean","default":true,"expression":{},"property-type":"data-constant"},"model-receive-shadows":{"type":"boolean","default":true,"expression":{},"property-type":"data-constant"},"model-ambient-occlusion-intensity":{"type":"number","default":1,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant","transition":true},"model-emissive-strength":{"type":"number","property-type":"data-driven","default":0,"minimum":0,"maximum":5,"expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light"]},"transition":true},"model-roughness":{"type":"number","default":1,"minimum":0,"maximum":1,"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state"]},"transition":true},"model-height-based-emissive-strength-multiplier":{"type":"array","default":[1,1,1,1,0],"length":5,"value":"number","property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light"]},"transition":true},"model-cutoff-fade-range":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0},"delay":{"type":"number","default":0,"minimum":0}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function hd(u){if(u===!0||u===!1)return!0;if(!Array.isArray(u)||u.length===0)return!1;switch(u[0]){case"has":return u.length>=2&&u[1]!=="$id"&&u[1]!=="$type";case"in":return u.length>=3&&(typeof u[1]!="string"||Array.isArray(u[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return u.length!==3||Array.isArray(u[1])||Array.isArray(u[2]);case"any":case"all":for(const o of u.slice(1))if(!hd(o)&&typeof o!="boolean")return!1;return!0;default:return!0}}function rl(u,o="fill"){if(u==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};hd(u)||(u=fd(u));const h=u;let p=!0;try{p=function(O){if(!Zd(O))return O;let U=mo(O);return Ys(U),U=dd(U),U}(h)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(h,null,2)}
        `)}const v=rn[`filter_${o}`],b=S0(p,v);let C=null;if(b.result==="error")throw new Error(b.value.map(O=>`${O.key}: ${O.message}`).join(", "));C=(O,U,G)=>b.value.evaluate(O,U,{},G);let M=null,k=null;if(p!==h){const O=S0(h,v);if(O.result==="error")throw new Error(O.value.map(U=>`${U.key}: ${U.message}`).join(", "));M=(U,G,Z,fe,ge)=>O.value.evaluate(U,G,{},Z,void 0,void 0,fe,ge),k=!Ql(O.value.expression)}return{filter:C,dynamicFilter:M||void 0,needGeometry:Zm(p),needFeature:!!k}}function dd(u){if(!Array.isArray(u))return u;const o=function(h){if($y.has(h[0])){for(let p=1;p<h.length;p++)if(Zd(h[p]))return!0}return h}(u);return o===!0?o:o.map(h=>dd(h))}function Ys(u){let o=!1;const h=[];if(u[0]==="case"){for(let p=1;p<u.length-1;p+=2)o=o||Zd(u[p]),h.push(u[p+1]);h.push(u[u.length-1])}else if(u[0]==="match"){o=o||Zd(u[1]);for(let p=2;p<u.length-1;p+=2)h.push(u[p+1]);h.push(u[u.length-1])}else if(u[0]==="step"){o=o||Zd(u[1]);for(let p=1;p<u.length-1;p+=2)h.push(u[p+1])}o&&(u.length=0,u.push("any",...h));for(let p=1;p<u.length;p++)Ys(u[p])}function Zd(u){if(!Array.isArray(u))return!1;if((o=u[0])==="pitch"||o==="distance-from-center")return!0;var o;for(let h=1;h<u.length;h++)if(Zd(u[h]))return!0;return!1}const $y=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function Vy(u,o){return u<o?-1:u>o?1:0}function Zm(u){if(!Array.isArray(u))return!1;if(u[0]==="within"||u[0]==="distance")return!0;for(let o=1;o<u.length;o++)if(Zm(u[o]))return!0;return!1}function fd(u){if(!u)return!0;const o=u[0];return u.length<=1?o!=="any":o==="=="?Jd(u[1],u[2],"=="):o==="!="?_h(Jd(u[1],u[2],"==")):o==="<"||o===">"||o==="<="||o===">="?Jd(u[1],u[2],o):o==="any"?(h=u.slice(1),["any"].concat(h.map(fd))):o==="all"?["all"].concat(u.slice(1).map(fd)):o==="none"?["all"].concat(u.slice(1).map(fd).map(_h)):o==="in"?Wu(u[1],u.slice(2)):o==="!in"?_h(Wu(u[1],u.slice(2))):o==="has"?ap(u[1]):o!=="!has"||_h(ap(u[1]));var h}function Jd(u,o,h){switch(u){case"$type":return[`filter-type-${h}`,o];case"$id":return[`filter-id-${h}`,o];default:return[`filter-${h}`,u,o]}}function Wu(u,o){if(o.length===0)return!1;switch(u){case"$type":return["filter-type-in",["literal",o]];case"$id":return["filter-id-in",["literal",o]];default:return o.length>200&&!o.some(h=>typeof h!=typeof o[0])?["filter-in-large",u,["literal",o.sort(Vy)]]:["filter-in-small",u,["literal",o]]}}function ap(u){switch(u){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",u]}}function _h(u){return["!",u]}const Jm="";function TA(u,o){return o?`${u}${Jm}${o}`:u}const BA="-transition";class Al extends Vd{constructor(o,h,p,v){if(super(),this.id=o.id,this.fqid=TA(this.id,p),this.type=o.type,this.scope=p,this.options=v,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,this.isConfigDependent=!1,o.type!=="custom"&&(this.metadata=o.metadata,this.minzoom=o.minzoom,this.maxzoom=o.maxzoom,o.type!=="background"&&o.type!=="sky"&&o.type!=="slot"&&(this.source=o.source,this.sourceLayer=o["source-layer"],this.filter=o.filter),o.slot&&(this.slot=o.slot),h.layout&&(this._unevaluatedLayout=new ls(h.layout,this.scope,v),this.isConfigDependent=this.isConfigDependent||this._unevaluatedLayout.isConfigDependent),h.paint)){this._transitionablePaint=new po(h.paint,this.scope,v);for(const b in o.paint)this.setPaintProperty(b,o.paint[b]);for(const b in o.layout)this.setLayoutProperty(b,o.layout[b]);this.isConfigDependent=this.isConfigDependent||this._transitionablePaint.isConfigDependent,this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new pl(h.paint)}}getLayoutProperty(o){return o==="visibility"?this.visibility:this._unevaluatedLayout.getValue(o)}setLayoutProperty(o,h){if(this.type==="custom"&&o==="visibility")return void(this.visibility=h);const p=this._unevaluatedLayout;p._properties.properties[o]&&(p.setValue(o,h),this.isConfigDependent=this.isConfigDependent||p.isConfigDependent,o==="visibility"&&this.possiblyEvaluateVisibility())}possiblyEvaluateVisibility(){this.visibility=this._unevaluatedLayout._values.visibility.possiblyEvaluate({zoom:0})}getPaintProperty(o){return Qe(o,BA)?this._transitionablePaint.getTransition(o.slice(0,-11)):this._transitionablePaint.getValue(o)}setPaintProperty(o,h){const p=this._transitionablePaint,v=p._properties.properties;if(Qe(o,BA)){const G=o.slice(0,-11);return v[G]&&p.setTransition(G,h||void 0),!1}if(!v[o])return!1;const b=p._values[o],C=b.value.isDataDriven(),M=b.value;p.setValue(o,h),this.isConfigDependent=this.isConfigDependent||p.isConfigDependent,this._handleSpecialPaintPropertyUpdate(o);const k=p._values[o].value,O=k.isDataDriven(),U=Qe(o,"pattern")||o==="line-dasharray";return O||C||U||this._handleOverridablePaintPropertyUpdate(o,M,k)}_handleSpecialPaintPropertyUpdate(o){}getProgramIds(){return null}getDefaultProgramParams(o,h){return null}_handleOverridablePaintPropertyUpdate(o,h,p){return!1}isHidden(o){return!!(this.minzoom&&o<this.minzoom)||!!(this.maxzoom&&o>=this.maxzoom)||this.visibility==="none"}updateTransitions(o){this._transitioningPaint=this._transitionablePaint.transitioned(o,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(o,h){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(o,void 0,h)),this.paint=this._transitioningPaint.possiblyEvaluate(o,void 0,h)}serialize(){return nt({id:this.id,type:this.type,slot:this.slot,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()},(o,h)=>!(o===void 0||h==="layout"&&!Object.keys(o).length||h==="paint"&&!Object.keys(o).length))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}hasShadowPass(){return!1}canCastShadows(){return!1}hasLightBeamPass(){return!1}cutoffRange(){return 0}tileCoverLift(){return 0}resize(){}isStateDependent(){for(const o in this.paint._values){const h=this.paint.get(o);if(h instanceof nl&&Km(h.property.specification)&&(h.value.kind==="source"||h.value.kind==="composite")&&h.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=rl(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}getLayerRenderingStats(){return this._stats}resetLayerRenderingStats(o){this._stats&&(o.renderPass==="shadow"?this._stats.numRenderedVerticesInShadowPass=0:this._stats.numRenderedVerticesInTransparentPass=0)}}const P1={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class sp{constructor(o,h){this._structArray=o,this._pos1=h*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Ha{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(o,h){return o._trim(),h&&(o.isTransferred=!0,h.add(o.arrayBuffer)),{length:o.length,arrayBuffer:o.arrayBuffer}}static deserialize(o){const h=Object.create(this.prototype);return h.arrayBuffer=o.arrayBuffer,h.length=o.length,h.capacity=o.arrayBuffer.byteLength/h.bytesPerElement,h._refreshViews(),h}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(o){this.reserve(o),this.length=o}reserve(o){if(o>this.capacity){this.capacity=Math.max(o,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const h=this.uint8;this._refreshViews(),h&&this.uint8.set(h)}}_refreshViews(){throw new Error("StructArray#_refreshViews() must be implemented by each concrete StructArray layout")}emplace(...o){throw new Error("StructArray#emplace() must be implemented by each concrete StructArray layout")}emplaceBack(...o){throw new Error("StructArray#emplaceBack() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function Sa(u,o=1){let h=0,p=0;return{members:u.map(v=>{const b=P1[v.type].BYTES_PER_ELEMENT,C=h=eg(h,Math.max(o,b)),M=v.components||1;return p=Math.max(p,b),h+=b*M,{name:v.name,type:v.type,components:M,offset:C}}),size:eg(h,Math.max(p,o)),alignment:o}}function eg(u,o){return Math.ceil(u/o)*o}class qu extends Ha{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,h){const p=this.length;return this.resize(p+1),this.emplace(p,o,h)}emplace(o,h,p){const v=2*o;return this.int16[v+0]=h,this.int16[v+1]=p,o}}qu.prototype.bytesPerElement=4,ze(qu,"StructArrayLayout2i4");class go extends Ha{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,h,p){const v=this.length;return this.resize(v+1),this.emplace(v,o,h,p)}emplace(o,h,p,v){const b=3*o;return this.int16[b+0]=h,this.int16[b+1]=p,this.int16[b+2]=v,o}}go.prototype.bytesPerElement=6,ze(go,"StructArrayLayout3i6");class pd extends Ha{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,h,p,v){const b=this.length;return this.resize(b+1),this.emplace(b,o,h,p,v)}emplace(o,h,p,v,b){const C=4*o;return this.int16[C+0]=h,this.int16[C+1]=p,this.int16[C+2]=v,this.int16[C+3]=b,o}}pd.prototype.bytesPerElement=8,ze(pd,"StructArrayLayout4i8");class F1 extends Ha{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,h,p,v,b){const C=this.length;return this.resize(C+1),this.emplace(C,o,h,p,v,b)}emplace(o,h,p,v,b,C){const M=5*o;return this.int16[M+0]=h,this.int16[M+1]=p,this.int16[M+2]=v,this.int16[M+3]=b,this.int16[M+4]=C,o}}F1.prototype.bytesPerElement=10,ze(F1,"StructArrayLayout5i10");class k1 extends Ha{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,h,p,v,b,C,M){const k=this.length;return this.resize(k+1),this.emplace(k,o,h,p,v,b,C,M)}emplace(o,h,p,v,b,C,M,k){const O=6*o,U=12*o,G=3*o;return this.int16[O+0]=h,this.int16[O+1]=p,this.uint8[U+4]=v,this.uint8[U+5]=b,this.uint8[U+6]=C,this.uint8[U+7]=M,this.float32[G+2]=k,o}}k1.prototype.bytesPerElement=12,ze(k1,"StructArrayLayout2i4ub1f12");class Ad extends Ha{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,h,p,v){const b=this.length;return this.resize(b+1),this.emplace(b,o,h,p,v)}emplace(o,h,p,v,b){const C=4*o;return this.float32[C+0]=h,this.float32[C+1]=p,this.float32[C+2]=v,this.float32[C+3]=b,o}}Ad.prototype.bytesPerElement=16,ze(Ad,"StructArrayLayout4f16");class jc extends Ha{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,h,p,v,b){const C=this.length;return this.resize(C+1),this.emplace(C,o,h,p,v,b)}emplace(o,h,p,v,b,C){const M=6*o,k=3*o;return this.uint16[M+0]=h,this.uint16[M+1]=p,this.uint16[M+2]=v,this.uint16[M+3]=b,this.float32[k+2]=C,o}}jc.prototype.bytesPerElement=12,ze(jc,"StructArrayLayout4ui1f12");class op extends Ha{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,h,p,v){const b=this.length;return this.resize(b+1),this.emplace(b,o,h,p,v)}emplace(o,h,p,v,b){const C=4*o;return this.uint16[C+0]=h,this.uint16[C+1]=p,this.uint16[C+2]=v,this.uint16[C+3]=b,o}}op.prototype.bytesPerElement=8,ze(op,"StructArrayLayout4ui8");class tg extends Ha{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,h,p,v,b,C){const M=this.length;return this.resize(M+1),this.emplace(M,o,h,p,v,b,C)}emplace(o,h,p,v,b,C,M){const k=6*o;return this.int16[k+0]=h,this.int16[k+1]=p,this.int16[k+2]=v,this.int16[k+3]=b,this.int16[k+4]=C,this.int16[k+5]=M,o}}tg.prototype.bytesPerElement=12,ze(tg,"StructArrayLayout6i12");class ef extends Ha{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,h,p,v,b,C,M,k,O,U,G,Z){const fe=this.length;return this.resize(fe+1),this.emplace(fe,o,h,p,v,b,C,M,k,O,U,G,Z)}emplace(o,h,p,v,b,C,M,k,O,U,G,Z,fe){const ge=12*o;return this.int16[ge+0]=h,this.int16[ge+1]=p,this.int16[ge+2]=v,this.int16[ge+3]=b,this.uint16[ge+4]=C,this.uint16[ge+5]=M,this.uint16[ge+6]=k,this.uint16[ge+7]=O,this.int16[ge+8]=U,this.int16[ge+9]=G,this.int16[ge+10]=Z,this.int16[ge+11]=fe,o}}ef.prototype.bytesPerElement=24,ze(ef,"StructArrayLayout4i4ui4i24");class ng extends Ha{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,h,p,v,b,C){const M=this.length;return this.resize(M+1),this.emplace(M,o,h,p,v,b,C)}emplace(o,h,p,v,b,C,M){const k=10*o,O=5*o;return this.int16[k+0]=h,this.int16[k+1]=p,this.int16[k+2]=v,this.float32[O+2]=b,this.float32[O+3]=C,this.float32[O+4]=M,o}}ng.prototype.bytesPerElement=20,ze(ng,"StructArrayLayout3i3f20");class lp extends Ha{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(o){const h=this.length;return this.resize(h+1),this.emplace(h,o)}emplace(o,h){return this.uint32[1*o+0]=h,o}}lp.prototype.bytesPerElement=4,ze(lp,"StructArrayLayout1ul4");class Gc extends Ha{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,h){const p=this.length;return this.resize(p+1),this.emplace(p,o,h)}emplace(o,h,p){const v=2*o;return this.uint16[v+0]=h,this.uint16[v+1]=p,o}}Gc.prototype.bytesPerElement=4,ze(Gc,"StructArrayLayout2ui4");class R1 extends Ha{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,h,p,v,b,C,M,k,O,U,G,Z,fe){const ge=this.length;return this.resize(ge+1),this.emplace(ge,o,h,p,v,b,C,M,k,O,U,G,Z,fe)}emplace(o,h,p,v,b,C,M,k,O,U,G,Z,fe,ge){const xe=20*o,Ie=10*o;return this.int16[xe+0]=h,this.int16[xe+1]=p,this.int16[xe+2]=v,this.int16[xe+3]=b,this.int16[xe+4]=C,this.float32[Ie+3]=M,this.float32[Ie+4]=k,this.float32[Ie+5]=O,this.float32[Ie+6]=U,this.int16[xe+14]=G,this.uint32[Ie+8]=Z,this.uint16[xe+18]=fe,this.uint16[xe+19]=ge,o}}R1.prototype.bytesPerElement=40,ze(R1,"StructArrayLayout5i4f1i1ul2ui40");class tf extends Ha{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,h,p,v,b,C,M){const k=this.length;return this.resize(k+1),this.emplace(k,o,h,p,v,b,C,M)}emplace(o,h,p,v,b,C,M,k){const O=8*o;return this.int16[O+0]=h,this.int16[O+1]=p,this.int16[O+2]=v,this.int16[O+4]=b,this.int16[O+5]=C,this.int16[O+6]=M,this.int16[O+7]=k,o}}tf.prototype.bytesPerElement=16,ze(tf,"StructArrayLayout3i2i2i16");class rg extends Ha{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,h,p,v,b){const C=this.length;return this.resize(C+1),this.emplace(C,o,h,p,v,b)}emplace(o,h,p,v,b,C){const M=4*o,k=8*o;return this.float32[M+0]=h,this.float32[M+1]=p,this.float32[M+2]=v,this.int16[k+6]=b,this.int16[k+7]=C,o}}rg.prototype.bytesPerElement=16,ze(rg,"StructArrayLayout2f1f2i16");class ig extends Ha{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,h,p,v){const b=this.length;return this.resize(b+1),this.emplace(b,o,h,p,v)}emplace(o,h,p,v,b){const C=12*o,M=3*o;return this.uint8[C+0]=h,this.uint8[C+1]=p,this.float32[M+1]=v,this.float32[M+2]=b,o}}ig.prototype.bytesPerElement=12,ze(ig,"StructArrayLayout2ub2f12");class ws extends Ha{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,h,p){const v=this.length;return this.resize(v+1),this.emplace(v,o,h,p)}emplace(o,h,p,v){const b=3*o;return this.uint16[b+0]=h,this.uint16[b+1]=p,this.uint16[b+2]=v,o}}ws.prototype.bytesPerElement=6,ze(ws,"StructArrayLayout3ui6");class up extends Ha{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(o,h,p,v,b,C,M,k,O,U,G,Z,fe,ge,xe,Ie,Oe,rt,lt,ot,Tt){const yt=this.length;return this.resize(yt+1),this.emplace(yt,o,h,p,v,b,C,M,k,O,U,G,Z,fe,ge,xe,Ie,Oe,rt,lt,ot,Tt)}emplace(o,h,p,v,b,C,M,k,O,U,G,Z,fe,ge,xe,Ie,Oe,rt,lt,ot,Tt,yt){const Dt=30*o,Gt=15*o,Xt=60*o;return this.int16[Dt+0]=h,this.int16[Dt+1]=p,this.int16[Dt+2]=v,this.float32[Gt+2]=b,this.float32[Gt+3]=C,this.uint16[Dt+8]=M,this.uint16[Dt+9]=k,this.uint32[Gt+5]=O,this.uint32[Gt+6]=U,this.uint32[Gt+7]=G,this.uint16[Dt+16]=Z,this.uint16[Dt+17]=fe,this.uint16[Dt+18]=ge,this.float32[Gt+10]=xe,this.float32[Gt+11]=Ie,this.uint8[Xt+48]=Oe,this.uint8[Xt+49]=rt,this.uint8[Xt+50]=lt,this.uint32[Gt+13]=ot,this.int16[Dt+28]=Tt,this.uint8[Xt+58]=yt,o}}up.prototype.bytesPerElement=60,ze(up,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class ag extends Ha{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(o,h,p,v,b,C,M,k,O,U,G,Z,fe,ge,xe,Ie,Oe,rt,lt,ot,Tt,yt,Dt,Gt,Xt,pn,en,Sn,Dn,yn,On,gn){const Rn=this.length;return this.resize(Rn+1),this.emplace(Rn,o,h,p,v,b,C,M,k,O,U,G,Z,fe,ge,xe,Ie,Oe,rt,lt,ot,Tt,yt,Dt,Gt,Xt,pn,en,Sn,Dn,yn,On,gn)}emplace(o,h,p,v,b,C,M,k,O,U,G,Z,fe,ge,xe,Ie,Oe,rt,lt,ot,Tt,yt,Dt,Gt,Xt,pn,en,Sn,Dn,yn,On,gn,Rn){const cr=20*o,Un=40*o,Br=80*o;return this.float32[cr+0]=h,this.float32[cr+1]=p,this.int16[Un+4]=v,this.int16[Un+5]=b,this.int16[Un+6]=C,this.int16[Un+7]=M,this.int16[Un+8]=k,this.int16[Un+9]=O,this.int16[Un+10]=U,this.int16[Un+11]=G,this.int16[Un+12]=Z,this.uint16[Un+13]=fe,this.uint16[Un+14]=ge,this.uint16[Un+15]=xe,this.uint16[Un+16]=Ie,this.uint16[Un+17]=Oe,this.uint16[Un+18]=rt,this.uint16[Un+19]=lt,this.uint16[Un+20]=ot,this.uint16[Un+21]=Tt,this.uint16[Un+22]=yt,this.uint16[Un+23]=Dt,this.uint16[Un+24]=Gt,this.uint16[Un+25]=Xt,this.uint16[Un+26]=pn,this.uint16[Un+27]=en,this.uint32[cr+14]=Sn,this.float32[cr+15]=Dn,this.float32[cr+16]=yn,this.float32[cr+17]=On,this.float32[cr+18]=gn,this.uint8[Br+76]=Rn,o}}ag.prototype.bytesPerElement=80,ze(ag,"StructArrayLayout2f9i15ui1ul4f1ub80");class sg extends Ha{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o){const h=this.length;return this.resize(h+1),this.emplace(h,o)}emplace(o,h){return this.float32[1*o+0]=h,o}}sg.prototype.bytesPerElement=4,ze(sg,"StructArrayLayout1f4");class md extends Ha{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,h,p,v,b){const C=this.length;return this.resize(C+1),this.emplace(C,o,h,p,v,b)}emplace(o,h,p,v,b,C){const M=5*o;return this.float32[M+0]=h,this.float32[M+1]=p,this.float32[M+2]=v,this.float32[M+3]=b,this.float32[M+4]=C,o}}md.prototype.bytesPerElement=20,ze(md,"StructArrayLayout5f20");class nf extends Ha{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,h,p,v,b,C,M){const k=this.length;return this.resize(k+1),this.emplace(k,o,h,p,v,b,C,M)}emplace(o,h,p,v,b,C,M,k){const O=7*o;return this.float32[O+0]=h,this.float32[O+1]=p,this.float32[O+2]=v,this.float32[O+3]=b,this.float32[O+4]=C,this.float32[O+5]=M,this.float32[O+6]=k,o}}nf.prototype.bytesPerElement=28,ze(nf,"StructArrayLayout7f28");class og extends Ha{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,h,p,v){const b=this.length;return this.resize(b+1),this.emplace(b,o,h,p,v)}emplace(o,h,p,v,b){const C=6*o;return this.uint32[3*o+0]=h,this.uint16[C+2]=p,this.uint16[C+3]=v,this.uint16[C+4]=b,o}}og.prototype.bytesPerElement=12,ze(og,"StructArrayLayout1ul3ui12");class T0 extends Ha{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o){const h=this.length;return this.resize(h+1),this.emplace(h,o)}emplace(o,h){return this.uint16[1*o+0]=h,o}}T0.prototype.bytesPerElement=2,ze(T0,"StructArrayLayout1ui2");class cp extends Ha{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,h,p){const v=this.length;return this.resize(v+1),this.emplace(v,o,h,p)}emplace(o,h,p,v){const b=3*o;return this.float32[b+0]=h,this.float32[b+1]=p,this.float32[b+2]=v,o}}cp.prototype.bytesPerElement=12,ze(cp,"StructArrayLayout3f12");class MA extends Ha{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,h){const p=this.length;return this.resize(p+1),this.emplace(p,o,h)}emplace(o,h,p){const v=2*o;return this.float32[v+0]=h,this.float32[v+1]=p,o}}MA.prototype.bytesPerElement=8,ze(MA,"StructArrayLayout2f8");class O1 extends Ha{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,h,p,v,b,C,M,k,O,U,G,Z,fe,ge,xe,Ie){const Oe=this.length;return this.resize(Oe+1),this.emplace(Oe,o,h,p,v,b,C,M,k,O,U,G,Z,fe,ge,xe,Ie)}emplace(o,h,p,v,b,C,M,k,O,U,G,Z,fe,ge,xe,Ie,Oe){const rt=16*o;return this.float32[rt+0]=h,this.float32[rt+1]=p,this.float32[rt+2]=v,this.float32[rt+3]=b,this.float32[rt+4]=C,this.float32[rt+5]=M,this.float32[rt+6]=k,this.float32[rt+7]=O,this.float32[rt+8]=U,this.float32[rt+9]=G,this.float32[rt+10]=Z,this.float32[rt+11]=fe,this.float32[rt+12]=ge,this.float32[rt+13]=xe,this.float32[rt+14]=Ie,this.float32[rt+15]=Oe,o}}O1.prototype.bytesPerElement=64,ze(O1,"StructArrayLayout16f64");class gd extends Ha{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,h,p,v,b,C,M){const k=this.length;return this.resize(k+1),this.emplace(k,o,h,p,v,b,C,M)}emplace(o,h,p,v,b,C,M,k){const O=10*o,U=5*o;return this.uint16[O+0]=h,this.uint16[O+1]=p,this.uint16[O+2]=v,this.uint16[O+3]=b,this.float32[U+2]=C,this.float32[U+3]=M,this.float32[U+4]=k,o}}gd.prototype.bytesPerElement=20,ze(gd,"StructArrayLayout4ui3f20");class lg extends Ha{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer)}emplaceBack(o){const h=this.length;return this.resize(h+1),this.emplace(h,o)}emplace(o,h){return this.uint8[1*o+0]=h,o}}lg.prototype.bytesPerElement=1,ze(lg,"StructArrayLayout1ub1");class ug extends sp{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}ug.prototype.size=40;class yh extends R1{get(o){return new ug(this,o)}}ze(yh,"CollisionBoxArray");class vd extends sp{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(o){this._structArray.uint8[this._pos1+49]=o}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(o){this._structArray.uint8[this._pos1+50]=o}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(o){this._structArray.uint32[this._pos4+13]=o}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(o){this._structArray.uint8[this._pos1+58]=o}}vd.prototype.size=60;class _d extends up{get(o){return new vd(this,o)}}ze(_d,"PlacedSymbolArray");class cg extends sp{get tileAnchorX(){return this._structArray.float32[this._pos4+0]}get tileAnchorY(){return this._structArray.float32[this._pos4+1]}get projectedAnchorX(){return this._structArray.int16[this._pos2+4]}get projectedAnchorY(){return this._structArray.int16[this._pos2+5]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+6]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+7]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+11]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get key(){return this._structArray.uint16[this._pos2+13]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+14]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+15]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+17]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+19]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+21]}get featureIndex(){return this._structArray.uint16[this._pos2+22]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+23]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numIconVertices(){return this._structArray.uint16[this._pos2+25]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+26]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+27]}get crossTileID(){return this._structArray.uint32[this._pos4+14]}set crossTileID(o){this._structArray.uint32[this._pos4+14]=o}get textOffset0(){return this._structArray.float32[this._pos4+15]}get textOffset1(){return this._structArray.float32[this._pos4+16]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+17]}get zOffset(){return this._structArray.float32[this._pos4+18]}set zOffset(o){this._structArray.float32[this._pos4+18]=o}get hasIconTextFit(){return this._structArray.uint8[this._pos1+76]}}cg.prototype.size=80;class B0 extends ag{get(o){return new cg(this,o)}}ze(B0,"SymbolInstanceArray");class D1 extends sg{getoffsetX(o){return this.float32[1*o+0]}}ze(D1,"GlyphOffsetArray");class hg extends qu{getx(o){return this.int16[2*o+0]}gety(o){return this.int16[2*o+1]}}ze(hg,"SymbolLineVertexArray");class M0 extends sp{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}M0.prototype.size=12;class I0 extends og{get(o){return new M0(this,o)}}ze(I0,"FeatureIndexArray");class N1 extends Gc{geta_centroid_pos0(o){return this.uint16[2*o+0]}geta_centroid_pos1(o){return this.uint16[2*o+1]}}ze(N1,"FillExtrusionCentroidArray");const CM=Sa([{name:"a_pos",components:2,type:"Int16"}],4),y5=Sa([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class Xs{constructor(o=[]){this.segments=o}_prepareSegment(o,h,p,v){let b=this.segments[this.segments.length-1];return o>Xs.MAX_VERTEX_ARRAY_LENGTH&&Ge(`Max vertices per segment is ${Xs.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${o}`),(!b||b.vertexLength+o>Xs.MAX_VERTEX_ARRAY_LENGTH||b.sortKey!==v)&&(b={vertexOffset:h,primitiveOffset:p,vertexLength:0,primitiveLength:0},v!==void 0&&(b.sortKey=v),this.segments.push(b)),b}prepareSegment(o,h,p,v){return this._prepareSegment(o,h.length,p.length,v)}get(){return this.segments}destroy(){for(const o of this.segments)for(const h in o.vaos)o.vaos[h].destroy()}static simpleSegment(o,h,p,v){return new Xs([{vertexOffset:o,primitiveOffset:h,vertexLength:p,primitiveLength:v,vaos:{},sortKey:0}])}}function ex(u,o){return 256*(u=he(Math.floor(u),0,255))+he(Math.floor(o),0,255)}Xs.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,ze(Xs,"SegmentVector");const b5=Sa([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),w5=Sa([{name:"a_dash",components:4,type:"Uint16"}]);var U1={exports:{}},Hy={exports:{}};(function(u){u.exports=function(o,h){var p,v,b,C,M,k,O,U;for(v=o.length-(p=3&o.length),b=h,M=3432918353,k=461845907,U=0;U<v;)O=255&o.charCodeAt(U)|(255&o.charCodeAt(++U))<<8|(255&o.charCodeAt(++U))<<16|(255&o.charCodeAt(++U))<<24,++U,b=27492+(65535&(C=5*(65535&(b=(b^=O=(65535&(O=(O=(65535&O)*M+(((O>>>16)*M&65535)<<16)&4294967295)<<15|O>>>17))*k+(((O>>>16)*k&65535)<<16)&4294967295)<<13|b>>>19))+((5*(b>>>16)&65535)<<16)&4294967295))+((58964+(C>>>16)&65535)<<16);switch(O=0,p){case 3:O^=(255&o.charCodeAt(U+2))<<16;case 2:O^=(255&o.charCodeAt(U+1))<<8;case 1:b^=O=(65535&(O=(O=(65535&(O^=255&o.charCodeAt(U)))*M+(((O>>>16)*M&65535)<<16)&4294967295)<<15|O>>>17))*k+(((O>>>16)*k&65535)<<16)&4294967295}return b^=o.length,b=2246822507*(65535&(b^=b>>>16))+((2246822507*(b>>>16)&65535)<<16)&4294967295,b=3266489909*(65535&(b^=b>>>13))+((3266489909*(b>>>16)&65535)<<16)&4294967295,(b^=b>>>16)>>>0}})(Hy);var tx=Hy.exports,x5={exports:{}};(function(u){u.exports=function(o,h){for(var p,v=o.length,b=h^v,C=0;v>=4;)p=1540483477*(65535&(p=255&o.charCodeAt(C)|(255&o.charCodeAt(++C))<<8|(255&o.charCodeAt(++C))<<16|(255&o.charCodeAt(++C))<<24))+((1540483477*(p>>>16)&65535)<<16),b=1540483477*(65535&b)+((1540483477*(b>>>16)&65535)<<16)^(p=1540483477*(65535&(p^=p>>>24))+((1540483477*(p>>>16)&65535)<<16)),v-=4,++C;switch(v){case 3:b^=(255&o.charCodeAt(C+2))<<16;case 2:b^=(255&o.charCodeAt(C+1))<<8;case 1:b=1540483477*(65535&(b^=255&o.charCodeAt(C)))+((1540483477*(b>>>16)&65535)<<16)}return b=1540483477*(65535&(b^=b>>>13))+((1540483477*(b>>>16)&65535)<<16),(b^=b>>>15)>>>0}})(x5);var C5=tx,E5=x5.exports;U1.exports=C5,U1.exports.murmur3=C5,U1.exports.murmur2=E5;var nx=R(U1.exports);class z1{constructor(){this.ids=[],this.uniqueIds=[],this.positions=[],this.indexed=!1}add(o,h,p,v){this.ids.push(S5(o)),this.positions.push(h,p,v)}eachPosition(o,h){const p=S5(o);let v=0,b=this.ids.length-1;for(;v<b;){const C=v+b>>1;this.ids[C]>=p?b=C:v=C+1}for(;this.ids[v]===p;)h(this.positions[3*v],this.positions[3*v+1],this.positions[3*v+2]),v++}static serialize(o,h){const p=new Float64Array(o.ids),v=new Uint32Array(o.positions);return rx(p,v,0,p.length-1),h&&(h.add(p.buffer),h.add(v.buffer)),{ids:p,positions:v}}static deserialize(o){const h=new z1;let p;h.ids=o.ids,h.positions=o.positions;for(const v of h.ids)v!==p&&h.uniqueIds.push(v),p=v;return h.indexed=!0,h}}function S5(u){const o=+u;return!isNaN(o)&&Number.MIN_SAFE_INTEGER<=o&&o<=Number.MAX_SAFE_INTEGER?o:nx(String(u))}function rx(u,o,h,p){for(;h<p;){const v=u[h+p>>1];let b=h-1,C=p+1;for(;;){do b++;while(u[b]<v);do C--;while(u[C]>v);if(b>=C)break;Qy(u,b,C),Qy(o,3*b,3*C),Qy(o,3*b+1,3*C+1),Qy(o,3*b+2,3*C+2)}C-h<p-C?(rx(u,o,h,C),h=C+1):(rx(u,o,C+1,p),p=C)}}function Qy(u,o,h){const p=u[o];u[o]=u[h],u[h]=p}ze(z1,"FeaturePositionMap");class hp{constructor(o){this.gl=o.gl,this.initialized=!1}fetchUniformLocation(o,h){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(o,h),this.initialized=!0),!!this.location}}class jy extends hp{constructor(o){super(o),this.current=0}set(o,h,p){this.fetchUniformLocation(o,h)&&this.current!==p&&(this.current=p,this.gl.uniform1i(this.location,p))}}class Pu extends hp{constructor(o){super(o),this.current=0}set(o,h,p){this.fetchUniformLocation(o,h)&&this.current!==p&&(this.current=p,this.gl.uniform1f(this.location,p))}}class IA extends hp{constructor(o){super(o),this.current=[0,0]}set(o,h,p){this.fetchUniformLocation(o,h)&&(p[0]===this.current[0]&&p[1]===this.current[1]||(this.current=p,this.gl.uniform2f(this.location,p[0],p[1])))}}class T5 extends hp{constructor(o){super(o),this.current=[0,0,0]}set(o,h,p){this.fetchUniformLocation(o,h)&&(p[0]===this.current[0]&&p[1]===this.current[1]&&p[2]===this.current[2]||(this.current=p,this.gl.uniform3f(this.location,p[0],p[1],p[2])))}}class w extends hp{constructor(o){super(o),this.current=[0,0,0,0]}set(o,h,p){this.fetchUniformLocation(o,h)&&(p[0]===this.current[0]&&p[1]===this.current[1]&&p[2]===this.current[2]&&p[3]===this.current[3]||(this.current=p,this.gl.uniform4f(this.location,p[0],p[1],p[2],p[3])))}}class d extends hp{constructor(o){super(o),this.current=Ga.transparent}set(o,h,p){this.fetchUniformLocation(o,h)&&(p.r===this.current.r&&p.g===this.current.g&&p.b===this.current.b&&p.a===this.current.a||(this.current=p,this.gl.uniform4f(this.location,p.r,p.g,p.b,p.a)))}}const g=new Float32Array(16);class x extends hp{constructor(o){super(o),this.current=g}set(o,h,p){if(this.fetchUniformLocation(o,h)){if(p[12]!==this.current[12]||p[0]!==this.current[0])return this.current=p,void this.gl.uniformMatrix4fv(this.location,!1,p);for(let v=1;v<16;v++)if(p[v]!==this.current[v]){this.current=p,this.gl.uniformMatrix4fv(this.location,!1,p);break}}}}const B=new Float32Array(9),L=new Float32Array(4);class D extends hp{constructor(o){super(o),this.current=L}set(o,h,p){if(this.fetchUniformLocation(o,h)){for(let v=0;v<4;v++)if(p[v]!==this.current[v]){this.current=p,this.gl.uniformMatrix2fv(this.location,!1,p);break}}}}function $(u){return[ex(255*u.r,255*u.g),ex(255*u.b,255*u.a)]}class Y{constructor(o,h,p){this.value=o,this.uniformNames=h.map(v=>`u_${v}`),this.type=p}setUniform(o,h,p,v,b){h.set(o,b,v.constantOr(this.value))}getBinding(o,h){return this.type==="color"?new d(o):new Pu(o)}}class ae{constructor(o,h){this.uniformNames=h.map(p=>`u_${p}`),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(o){this.pixelRatio=o.pixelRatio||1,this.pattern=o.tl.concat(o.br)}setUniform(o,h,p,v,b){const C=b==="u_pattern"||b==="u_dash"?this.pattern:b==="u_pixel_ratio"?this.pixelRatio:null;C&&h.set(o,b,C)}getBinding(o,h){return h==="u_pattern"||h==="u_dash"?new w(o):new Pu(o)}}class de{constructor(o,h,p,v){this.expression=o,this.type=p,this.maxValue=0,this.paintVertexAttributes=h.map(b=>({name:`a_${b}`,type:"Float32",components:p==="color"?2:1,offset:0})),this.paintVertexArray=new v}populatePaintArray(o,h,p,v,b,C,M){const k=this.paintVertexArray.length,O=this.expression.evaluate(new Pi(0,{brightness:C}),h,{},b,v,M);this.paintVertexArray.resize(o),this._setPaintValue(k,o,O)}updatePaintArray(o,h,p,v,b,C,M){const k=this.expression.evaluate({zoom:0,brightness:M},p,v,void 0,b);this._setPaintValue(o,h,k)}_setPaintValue(o,h,p){if(this.type==="color"){const v=$(p);for(let b=o;b<h;b++)this.paintVertexArray.emplace(b,v[0],v[1])}else{for(let v=o;v<h;v++)this.paintVertexArray.emplace(v,p);this.maxValue=Math.max(this.maxValue,Math.abs(p))}}upload(o){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=o.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent||!this.expression.isLightConstant))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Ae{constructor(o,h,p,v,b,C){this.expression=o,this.uniformNames=h.map(M=>`u_${M}_t`),this.type=p,this.useIntegerZoom=v,this.zoom=b,this.maxValue=0,this.paintVertexAttributes=h.map(M=>({name:`a_${M}`,type:"Float32",components:p==="color"?4:2,offset:0})),this.paintVertexArray=new C}populatePaintArray(o,h,p,v,b,C,M){const k=this.expression.evaluate(new Pi(this.zoom,{brightness:C}),h,{},b,v,M),O=this.expression.evaluate(new Pi(this.zoom+1,{brightness:C}),h,{},b,v,M),U=this.paintVertexArray.length;this.paintVertexArray.resize(o),this._setPaintValue(U,o,k,O)}updatePaintArray(o,h,p,v,b,C,M){const k=this.expression.evaluate({zoom:this.zoom,brightness:M},p,v,void 0,b),O=this.expression.evaluate({zoom:this.zoom+1,brightness:M},p,v,void 0,b);this._setPaintValue(o,h,k,O)}_setPaintValue(o,h,p,v){if(this.type==="color"){const b=$(p),C=$(v);for(let M=o;M<h;M++)this.paintVertexArray.emplace(M,b[0],b[1],C[0],C[1])}else{for(let b=o;b<h;b++)this.paintVertexArray.emplace(b,p,v);this.maxValue=Math.max(this.maxValue,Math.abs(p),Math.abs(v))}}upload(o){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=o.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent||!this.expression.isLightConstant))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(o,h,p,v,b){const C=this.useIntegerZoom?Math.floor(p.zoom):p.zoom,M=he(this.expression.interpolationFactor(C,this.zoom,this.zoom+1),0,1);h.set(o,b,M)}getBinding(o,h){return new Pu(o)}}class Ce{constructor(o,h,p,v,b){this.expression=o,this.layerId=b,this.paintVertexAttributes=(p==="array"?w5:b5).members;for(let C=0;C<h.length;++C);this.paintVertexArray=new v}populatePaintArray(o,h,p){const v=this.paintVertexArray.length;this.paintVertexArray.resize(o),this._setPaintValues(v,o,h.patterns&&h.patterns[this.layerId],p)}updatePaintArray(o,h,p,v,b,C,M){this._setPaintValues(o,h,p.patterns&&p.patterns[this.layerId],C)}_setPaintValues(o,h,p,v){if(!v||!p)return;const b=v[p];if(!b)return;const{tl:C,br:M,pixelRatio:k}=b;for(let O=o;O<h;O++)this.paintVertexArray.emplace(O,C[0],C[1],M[0],M[1],k)}upload(o){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=o.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent||!this.expression.isLightConstant))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Me{constructor(o,h,p=()=>!0){this.binders={},this._buffers=[];const v=[];for(const b in o.paint._values){const C=o.paint.get(b);if(!p(b)||!(C instanceof nl&&Km(C.property.specification)))continue;const M=Ke(b,o.type),k=C.value,O=C.property.specification.type,U=!!C.property.useIntegerZoom,G=b==="line-dasharray"||b.endsWith("pattern"),Z=b==="line-dasharray"&&o.layout.get("line-cap").value.kind!=="constant";if(k.kind!=="constant"||Z)if(k.kind==="source"||Z||G){const fe=pt(b,O,"source");this.binders[b]=G?new Ce(k,M,O,fe,o.id):new de(k,M,O,fe),v.push(`/a_${b}`)}else{const fe=pt(b,O,"composite");this.binders[b]=new Ae(k,M,O,U,h,fe),v.push(`/z_${b}`)}else this.binders[b]=G?new ae(k.value,M):new Y(k.value,M,O),v.push(`/u_${b}`)}this.cacheKey=v.sort().join("")}getMaxValue(o){const h=this.binders[o];return h instanceof de||h instanceof Ae?h.maxValue:0}populatePaintArrays(o,h,p,v,b,C,M){for(const k in this.binders){const O=this.binders[k];(O instanceof de||O instanceof Ae||O instanceof Ce)&&O.populatePaintArray(o,h,p,v,b,C,M)}}setConstantPatternPositions(o){for(const h in this.binders){const p=this.binders[h];p instanceof ae&&p.setConstantPatternPositions(o)}}updatePaintArrays(o,h,p,v,b,C,M,k){let O=!1;const U=Object.keys(o),G=U.length!==0,Z=G?U:h.uniqueIds;for(const fe in this.binders){const ge=this.binders[fe];if((ge instanceof de||ge instanceof Ae||ge instanceof Ce)&&(ge.expression.isStateDependent===!0||ge.expression.isLightConstant===!1)){const xe=b.paint.get(fe);ge.expression=xe.value;for(const Ie of Z){const Oe=o[Ie.toString()];h.eachPosition(Ie,(rt,lt,ot)=>{const Tt=v.feature(rt);ge.updatePaintArray(lt,ot,Tt,Oe,C,M,k)})}if(!G)for(const Ie of p.uniqueIds){const Oe=o[Ie.toString()];p.eachPosition(Ie,(rt,lt,ot)=>{const Tt=v.feature(rt);ge.updatePaintArray(lt,ot,Tt,Oe,C,M,k)})}O=!0}}return O}defines(){const o=[];for(const h in this.binders){const p=this.binders[h];(p instanceof Y||p instanceof ae)&&o.push(...p.uniformNames.map(v=>`#define HAS_UNIFORM_${v}`))}return o}getBinderAttributes(){const o=[];for(const h in this.binders){const p=this.binders[h];if(p instanceof de||p instanceof Ae||p instanceof Ce)for(let v=0;v<p.paintVertexAttributes.length;v++)o.push(p.paintVertexAttributes[v].name)}return o}getBinderUniforms(){const o=[];for(const h in this.binders){const p=this.binders[h];if(p instanceof Y||p instanceof ae||p instanceof Ae)for(const v of p.uniformNames)o.push(v)}return o}getPaintVertexBuffers(){return this._buffers}getUniforms(o){const h=[];for(const p in this.binders){const v=this.binders[p];if(v instanceof Y||v instanceof ae||v instanceof Ae)for(const b of v.uniformNames)h.push({name:b,property:p,binding:v.getBinding(o,b)})}return h}setUniforms(o,h,p,v,b){for(const{name:C,property:M,binding:k}of p)this.binders[M].setUniform(o,k,b,v.get(M),C)}updatePaintBuffers(){this._buffers=[];for(const o in this.binders){const h=this.binders[o];(h instanceof de||h instanceof Ae||h instanceof Ce)&&h.paintVertexBuffer&&this._buffers.push(h.paintVertexBuffer)}}upload(o){for(const h in this.binders){const p=this.binders[h];(p instanceof de||p instanceof Ae||p instanceof Ce)&&p.upload(o)}this.updatePaintBuffers()}destroy(){for(const o in this.binders){const h=this.binders[o];(h instanceof de||h instanceof Ae||h instanceof Ce)&&h.destroy()}}}class He{constructor(o,h,p=()=>!0){this.programConfigurations={};for(const v of o)this.programConfigurations[v.id]=new Me(v,h,p);this.needsUpload=!1,this._featureMap=new z1,this._featureMapWithoutIds=new z1,this._bufferOffset=0,this._idlessCounter=0}populatePaintArrays(o,h,p,v,b,C,M,k){for(const O in this.programConfigurations)this.programConfigurations[O].populatePaintArrays(o,h,v,b,C,M,k);h.id!==void 0?this._featureMap.add(h.id,p,this._bufferOffset,o):(this._featureMapWithoutIds.add(this._idlessCounter,p,this._bufferOffset,o),this._idlessCounter+=1),this._bufferOffset=o,this.needsUpload=!0}updatePaintArrays(o,h,p,v,b,C){for(const M of p)this.needsUpload=this.programConfigurations[M.id].updatePaintArrays(o,this._featureMap,this._featureMapWithoutIds,h,M,v,b,C||0)||this.needsUpload}get(o){return this.programConfigurations[o]}upload(o){if(this.needsUpload){for(const h in this.programConfigurations)this.programConfigurations[h].upload(o);this.needsUpload=!1}}destroy(){for(const o in this.programConfigurations)this.programConfigurations[o].destroy()}}const $e={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-emissive-strength":["emissive_strength"],"icon-emissive-strength":["emissive_strength"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function Ke(u,o){return $e[u]||[u.replace(`${o}-`,"").replace(/-/g,"_")]}const Fe={"line-pattern":{source:jc,composite:jc},"fill-pattern":{source:jc,composite:jc},"fill-extrusion-pattern":{source:jc,composite:jc},"line-dasharray":{source:op,composite:op}},Ze={color:{source:MA,composite:Ad},number:{source:sg,composite:MA}};function pt(u,o,h){const p=Fe[u];return p&&p[h]||Ze[o][h]}ze(Y,"ConstantBinder"),ze(ae,"PatternConstantBinder"),ze(de,"SourceExpressionBinder"),ze(Ce,"PatternCompositeBinder"),ze(Ae,"CompositeExpressionBinder"),ze(Me,"ProgramConfiguration",{omit:["_buffers"]}),ze(He,"ProgramConfigurationSet");const st=zn/Math.PI/2,At=5,qe=6,mt=16383,Ft=64,Ot=[Ft,32,16],Qt=-st,fn=st;function Wt(u,o,h,p=st){return h=W(h),[u*Math.sin(h)*p,-o*p,u*Math.cos(h)*p]}function xn(u,o,h){return Wt(Math.cos(W(u)),Math.sin(W(u)),o,h)}const _n=63710088e-1,$n=2*Math.PI*_n;class Yt{constructor(o,h){if(isNaN(o)||isNaN(h))throw new Error(`Invalid LngLat object: (${o}, ${h})`);if(this.lng=+o,this.lat=+h,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Yt(ye(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(o){const h=Math.PI/180,p=this.lat*h,v=o.lat*h,b=Math.sin(p)*Math.sin(v)+Math.cos(p)*Math.cos(v)*Math.cos((o.lng-this.lng)*h);return _n*Math.acos(Math.min(b,1))}toBounds(o=0){const h=360*o/40075017,p=h/Math.cos(Math.PI/180*this.lat);return new mn({lng:this.lng-p,lat:this.lat-h},{lng:this.lng+p,lat:this.lat+h})}toEcef(o){return xn(this.lat,this.lng,st+o*st/_n)}static convert(o){if(o instanceof Yt)return o;if(Array.isArray(o)&&(o.length===2||o.length===3))return new Yt(Number(o[0]),Number(o[1]));if(!Array.isArray(o)&&typeof o=="object"&&o!==null)return new Yt(Number("lng"in o?o.lng:o.lon),Number(o.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}class mn{constructor(o,h){o&&(h?this.setSouthWest(o).setNorthEast(h):o.length===4?this.setSouthWest([o[0],o[1]]).setNorthEast([o[2],o[3]]):this.setSouthWest(o[0]).setNorthEast(o[1]))}setNorthEast(o){return this._ne=o instanceof Yt?new Yt(o.lng,o.lat):Yt.convert(o),this}setSouthWest(o){return this._sw=o instanceof Yt?new Yt(o.lng,o.lat):Yt.convert(o),this}extend(o){const h=this._sw,p=this._ne;let v,b;if(o instanceof Yt)v=o,b=o;else{if(!(o instanceof mn))return Array.isArray(o)?o.length===4||o.every(Array.isArray)?this.extend(mn.convert(o)):this.extend(Yt.convert(o)):typeof o=="object"&&o!==null&&o.hasOwnProperty("lat")&&(o.hasOwnProperty("lon")||o.hasOwnProperty("lng"))?this.extend(Yt.convert(o)):this;if(v=o._sw,b=o._ne,!v||!b)return this}return h||p?(h.lng=Math.min(v.lng,h.lng),h.lat=Math.min(v.lat,h.lat),p.lng=Math.max(b.lng,p.lng),p.lat=Math.max(b.lat,p.lat)):(this._sw=new Yt(v.lng,v.lat),this._ne=new Yt(b.lng,b.lat)),this}getCenter(){return new Yt((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Yt(this.getWest(),this.getNorth())}getSouthEast(){return new Yt(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(o){const{lng:h,lat:p}=Yt.convert(o);let v=this._sw.lng<=h&&h<=this._ne.lng;return this._sw.lng>this._ne.lng&&(v=this._sw.lng>=h&&h>=this._ne.lng),this._sw.lat<=p&&p<=this._ne.lat&&v}static convert(o){return!o||o instanceof mn?o:new mn(o)}}var $t={};(function(u,o){(function(h){function p(b,C,M){var k=v(256*b,256*(C=Math.pow(2,M)-C-1),M),O=v(256*(b+1),256*(C+1),M);return k[0]+","+k[1]+","+O[0]+","+O[1]}function v(b,C,M){var k=2*Math.PI*6378137/256/Math.pow(2,M);return[b*k-2*Math.PI*6378137/2,C*k-2*Math.PI*6378137/2]}h.getURL=function(b,C,M,k,O,U){return U=U||{},b+"?"+["bbox="+p(M,k,O),"format="+(U.format||"image/png"),"service="+(U.service||"WMS"),"version="+(U.version||"1.1.1"),"request="+(U.request||"GetMap"),"srs="+(U.srs||"EPSG:3857"),"width="+(U.width||256),"height="+(U.height||256),"layers="+C].join("&")},h.getTileBBox=p,h.getMercCoords=v,Object.defineProperty(h,"__esModule",{value:!0})})(o)})(0,$t);var on=$t;class Kn{constructor(o,h,p){this.z=o,this.x=h,this.y=p,this.key=pr(0,o,o,h,p)}equals(o){return this.z===o.z&&this.x===o.x&&this.y===o.y}url(o,h){const p=on.getTileBBox(this.x,this.y,this.z),v=function(b,C,M){let k,O="";for(let U=b;U>0;U--)k=1<<U-1,O+=(C&k?1:0)+(M&k?2:0);return O}(this.z,this.x,this.y);return o[(this.x+this.y)%o.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(h==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",v).replace("{bbox-epsg-3857}",p)}toString(){return`${this.z}/${this.x}/${this.y}`}}class ir{constructor(o,h){this.wrap=o,this.canonical=h,this.key=pr(o,h.z,h.z,h.x,h.y)}}class nr{constructor(o,h,p,v,b){this.overscaledZ=o,this.wrap=h,this.canonical=new Kn(p,+v,+b),this.key=h===0&&o===p?this.canonical.key:pr(h,o,p,v,b)}equals(o){return this.overscaledZ===o.overscaledZ&&this.wrap===o.wrap&&this.canonical.equals(o.canonical)}scaledTo(o){const h=this.canonical.z-o;return o>this.canonical.z?new nr(o,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new nr(o,this.wrap,o,this.canonical.x>>h,this.canonical.y>>h)}calculateScaledKey(o,h=!0){if(this.overscaledZ===o&&h)return this.key;if(o>this.canonical.z)return pr(this.wrap*+h,o,this.canonical.z,this.canonical.x,this.canonical.y);{const p=this.canonical.z-o;return pr(this.wrap*+h,o,o,this.canonical.x>>p,this.canonical.y>>p)}}isChildOf(o){if(o.wrap!==this.wrap)return!1;const h=this.canonical.z-o.canonical.z;return o.overscaledZ===0||o.overscaledZ<this.overscaledZ&&o.canonical.z<this.canonical.z&&o.canonical.x===this.canonical.x>>h&&o.canonical.y===this.canonical.y>>h}children(o){if(this.overscaledZ>=o)return[new nr(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const h=this.canonical.z+1,p=2*this.canonical.x,v=2*this.canonical.y;return[new nr(h,this.wrap,h,p,v),new nr(h,this.wrap,h,p+1,v),new nr(h,this.wrap,h,p,v+1),new nr(h,this.wrap,h,p+1,v+1)]}isLessThan(o){return this.wrap<o.wrap||!(this.wrap>o.wrap)&&(this.overscaledZ<o.overscaledZ||!(this.overscaledZ>o.overscaledZ)&&(this.canonical.x<o.canonical.x||!(this.canonical.x>o.canonical.x)&&this.canonical.y<o.canonical.y))}wrapped(){return new nr(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(o){return new nr(this.overscaledZ,o,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new ir(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function pr(u,o,h,p,v){const b=1<<Math.min(h,22);let C=b*(v%b)+p%b;return u&&h<22&&(C+=b*b*((u<0?-2*u-1:2*u)%(1<<2*(22-h)))),16*(32*C+h)+(o-h)}const Ir=[u=>{let o=u.canonical.x-1,h=u.wrap;return o<0&&(o=(1<<u.canonical.z)-1,h--),new nr(u.overscaledZ,h,u.canonical.z,o,u.canonical.y)},u=>{let o=u.canonical.x+1,h=u.wrap;return o===1<<u.canonical.z&&(o=0,h++),new nr(u.overscaledZ,h,u.canonical.z,o,u.canonical.y)},u=>new nr(u.overscaledZ,u.wrap,u.canonical.z,u.canonical.x,(u.canonical.y===0?1<<u.canonical.z:u.canonical.y)-1),u=>new nr(u.overscaledZ,u.wrap,u.canonical.z,u.canonical.x,u.canonical.y===(1<<u.canonical.z)-1?0:u.canonical.y+1)];ze(Kn,"CanonicalTileID"),ze(nr,"OverscaledTileID",{omit:["projMatrix","expandedProjMatrix"]});const jr=0,Nr=25.5;function zr(u){return $n*Math.cos(u*Math.PI/180)}function Fi(u){return(180+u)/360}function hi(u){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u*Math.PI/360)))/360}function Ci(u,o){return u/zr(o)}function bi(u){return 360*u-180}function na(u){return 360/Math.PI*Math.atan(Math.exp((180-360*u)*Math.PI/180))-90}function es(u,o){return u*zr(na(o))}const Wi=85.051129;function Is(u){return Math.cos(W(he(u,-Wi,Wi)))}function qi(u,o){const h=he(o,jr,Nr),p=Math.pow(2,h);return Is(u)*$n/(512*p)}function ga(u){return 1/Math.cos(u*Math.PI/180)}function Yi(u,o=0){const h=Math.exp(Math.PI*(1-(u.y+o/zn)/(1<<u.z)*2));return 80150034*h/(h*h+1)/zn/(1<<u.z)}class pa{constructor(o,h,p=0){this.x=+o,this.y=+h,this.z=+p}static fromLngLat(o,h=0){const p=Yt.convert(o);return new pa(Fi(p.lng),hi(p.lat),Ci(h,p.lat))}toLngLat(){return new Yt(bi(this.x),na(this.y))}toAltitude(){return es(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/$n*ga(na(this.y))}}function ss(u,o,h,p,v,b,C,M,k){const O=(o+p)/2,U=(h+v)/2,G=new K(O,U);M(G),function(Z,fe,ge,xe,Ie,Oe){const rt=ge-Ie,lt=xe-Oe;return Math.abs((xe-fe)*rt-(ge-Z)*lt)/Math.hypot(rt,lt)}(G.x,G.y,b.x,b.y,C.x,C.y)>=k?(ss(u,o,h,O,U,b,G,M,k),ss(u,O,U,p,v,G,C,M,k)):u.push(C)}function ba(u,o,h){let p=u[0],v=p.x,b=p.y;o(p);const C=[p];for(let M=1;M<u.length;M++){const k=u[M],{x:O,y:U}=k;o(k),ss(C,v,b,O,U,p,k,o,h),v=O,b=U,p=k}return C}function il(u,o,h,p){if(p(o,h)){const v=o.add(h)._mult(.5);il(u,o,v,p),il(u,v,h,p)}else u.push(h)}function ql(u,o){let h=u[0];const p=[h];for(let v=1;v<u.length;v++){const b=u[v];il(p,h,b,o),h=b}return p}const fc=Math.pow(2,14)-1,rf=-fc-1;function pc(u,o){const h=Math.round(u.x*o),p=Math.round(u.y*o);return u.x=he(h,rf,fc),u.y=he(p,rf,fc),(h<u.x||h>u.x+1||p<u.y||p>u.y+1)&&Ge("Geometry exceeds allowed extent, reduce your vector tile buffer size"),u}function al(u,o,h){const p=u.loadGeometry(),v=u.extent,b=zn/v;if(o&&h&&h.projection.isReprojectedInTileSpace){const C=1<<o.z,{scale:M,x:k,y:O,projection:U}=h,G=Z=>{const fe=bi((o.x+Z.x/v)/C),ge=na((o.y+Z.y/v)/C),xe=U.project(fe,ge);Z.x=(xe.x*M-k)*v,Z.y=(xe.y*M-O)*v};for(let Z=0;Z<p.length;Z++)if(u.type!==1)p[Z]=ba(p[Z],G,1);else{const fe=[];for(const ge of p[Z])ge.x<0||ge.x>=v||ge.y<0||ge.y>=v||(G(ge),fe.push(ge));p[Z]=fe}}for(const C of p)for(const M of C)pc(M,b);return p}function No(u,o){return{type:u.type,id:u.id,properties:u.properties,geometry:o?al(u):[]}}function Fu(u,o,h,p,v){u.emplaceBack(2*o+(p+1)/2,2*h+(v+1)/2)}function Yu(u,o,h){u.emplaceBack(o.x,o.y,o.z,h[0]*16384,h[1]*16384,h[2]*16384)}class Ac{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(h=>h.fqid),this.index=o.index,this.hasPattern=!1,this.projection=o.projection,this.layoutVertexArray=new qu,this.indexArray=new ws,this.segments=new Xs,this.programConfigurations=new He(o.layers,o.zoom),this.stateDependentLayerIds=this.layers.filter(h=>h.isStateDependent()).map(h=>h.id)}populate(o,h,p,v){const b=this.layers[0],C=[];let M=null;b.type==="circle"&&(M=b.layout.get("circle-sort-key"));for(const{feature:O,id:U,index:G,sourceLayerIndex:Z}of o){const fe=this.layers[0]._featureFilter.needGeometry,ge=No(O,fe);if(!this.layers[0]._featureFilter.filter(new Pi(this.zoom),ge,p))continue;const xe=M?M.evaluate(ge,{},p):void 0,Ie={id:U,properties:O.properties,type:O.type,sourceLayerIndex:Z,index:G,geometry:fe?ge.geometry:al(O,p,v),patterns:{},sortKey:xe};C.push(Ie)}M&&C.sort((O,U)=>O.sortKey-U.sortKey);let k=null;v.projection.name==="globe"&&(this.globeExtVertexArray=new tg,k=v.projection);for(const O of C){const{geometry:U,index:G,sourceLayerIndex:Z}=O,fe=o[G].feature;this.addFeature(O,U,G,h.availableImages,p,k,h.brightness),h.featureIndex.insert(fe,U,G,Z,this.index)}}update(o,h,p,v,b){const C=Object.keys(o).length!==0;C&&!this.stateDependentLayers.length||this.programConfigurations.updatePaintArrays(o,h,C?this.stateDependentLayers:this.layers,p,v,b)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,CM.members),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=o.createVertexBuffer(this.globeExtVertexArray,y5.members))),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(o,h,p,v,b,C,M){for(const k of h)for(const O of k){const U=O.x,G=O.y;if(U<0||U>=zn||G<0||G>=zn)continue;if(C){const ge=C.projectTilePoint(U,G,b),xe=C.upVector(b,U,G),Ie=this.globeExtVertexArray;Yu(Ie,ge,xe),Yu(Ie,ge,xe),Yu(Ie,ge,xe),Yu(Ie,ge,xe)}const Z=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,o.sortKey),fe=Z.vertexLength;Fu(this.layoutVertexArray,U,G,-1,-1),Fu(this.layoutVertexArray,U,G,1,-1),Fu(this.layoutVertexArray,U,G,1,1),Fu(this.layoutVertexArray,U,G,-1,1),this.indexArray.emplaceBack(fe,fe+1,fe+2),this.indexArray.emplaceBack(fe,fe+2,fe+3),Z.vertexLength+=4,Z.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,p,{},v,b,M)}}function af(u,o){for(let h=0;h<u.length;h++)if(dp(o,u[h]))return!0;for(let h=0;h<o.length;h++)if(dp(u,o[h]))return!0;return!!V1(u,o)}function LA(u,o,h){return!!dp(u,o)||!!H1(o,u,h)}function dg(u,o){if(u.length===1)return Gy(o,u[0]);for(let h=0;h<o.length;h++){const p=o[h];for(let v=0;v<p.length;v++)if(dp(u,p[v]))return!0}for(let h=0;h<u.length;h++)if(Gy(o,u[h]))return!0;for(let h=0;h<o.length;h++)if(V1(u,o[h]))return!0;return!1}function $1(u,o,h){if(u.length>1){if(V1(u,o))return!0;for(let p=0;p<o.length;p++)if(H1(o[p],u,h))return!0}for(let p=0;p<u.length;p++)if(H1(u[p],o,h))return!0;return!1}function V1(u,o){if(u.length===0||o.length===0)return!1;for(let h=0;h<u.length-1;h++){const p=u[h],v=u[h+1];for(let b=0;b<o.length-1;b++)if(ix(p,v,o[b],o[b+1]))return!0}return!1}function ix(u,o,h,p){return Ne(u,h,p)!==Ne(o,h,p)&&Ne(u,o,h)!==Ne(u,o,p)}function H1(u,o,h){const p=h*h;if(o.length===1)return u.distSqr(o[0])<p;for(let v=1;v<o.length;v++)if(L0(u,o[v-1],o[v])<p)return!0;return!1}function L0(u,o,h){const p=o.distSqr(h);if(p===0)return u.distSqr(o);const v=((u.x-o.x)*(h.x-o.x)+(u.y-o.y)*(h.y-o.y))/p;return u.distSqr(v<0?o:v>1?h:h.sub(o)._mult(v)._add(o))}function Gy(u,o){let h,p,v,b=!1;for(let C=0;C<u.length;C++){h=u[C];for(let M=0,k=h.length-1;M<h.length;k=M++)p=h[M],v=h[k],p.y>o.y!=v.y>o.y&&o.x<(v.x-p.x)*(o.y-p.y)/(v.y-p.y)+p.x&&(b=!b)}return b}function dp(u,o){let h=!1;for(let p=0,v=u.length-1;p<u.length;v=p++){const b=u[p],C=u[v];b.y>o.y!=C.y>o.y&&o.x<(C.x-b.x)*(o.y-b.y)/(C.y-b.y)+b.x&&(h=!h)}return h}function cz(u,o,h,p,v){for(const C of u)if(o<=C.x&&h<=C.y&&p>=C.x&&v>=C.y)return!0;const b=[new K(o,h),new K(o,v),new K(p,v),new K(p,h)];if(u.length>2){for(const C of b)if(dp(u,C))return!0}for(let C=0;C<u.length-1;C++)if(_fe(u[C],u[C+1],b))return!0;return!1}function _fe(u,o,h){const p=h[0],v=h[2];if(u.x<p.x&&o.x<p.x||u.x>v.x&&o.x>v.x||u.y<p.y&&o.y<p.y||u.y>v.y&&o.y>v.y)return!1;const b=Ne(u,o,h[0]);return b!==Ne(u,o,h[1])||b!==Ne(u,o,h[2])||b!==Ne(u,o,h[3])}function Ky(u,o,h,p,v,b){let C=o.y-u.y,M=u.x-o.x;if(b=b||0){const k=C*C+M*M;if(k===0)return!0;const O=Math.sqrt(k);C/=O,M/=O}return!((h.x-u.x)*C+(h.y-u.y)*M-b<0||(p.x-u.x)*C+(p.y-u.y)*M-b<0||(v.x-u.x)*C+(v.y-u.y)*M-b<0)}function EM(u,o,h,p,v,b,C){return!(Ky(u,o,p,v,b,C)||Ky(o,h,p,v,b,C)||Ky(h,u,p,v,b,C)||Ky(p,v,u,o,h,C)||Ky(v,b,u,o,h,C)||Ky(b,p,u,o,h,C))}function Wy(u,o,h){const p=o.paint.get(u).value;return p.kind==="constant"?p.value:h.programConfigurations.get(o.id).getMaxValue(u)}function B5(u){return Math.sqrt(u[0]*u[0]+u[1]*u[1])}function hz(u,o,h,p,v){if(!o[0]&&!o[1])return u;const b=K.convert(o)._mult(v);h==="viewport"&&b._rotate(-p);const C=[];for(let M=0;M<u.length;M++)C.push(u[M].sub(b));return C}function dz(u,o,h,p){const v=K.convert(u)._mult(p);return o==="viewport"&&v._rotate(-h),v}ze(Ac,"CircleBucket",{omit:["layers"]});const yfe=new Ia({"circle-sort-key":new Cr(rn.layout_circle["circle-sort-key"]),visibility:new jn(rn.layout_circle.visibility)});var bfe={paint:new Ia({"circle-radius":new Cr(rn.paint_circle["circle-radius"]),"circle-color":new Cr(rn.paint_circle["circle-color"]),"circle-blur":new Cr(rn.paint_circle["circle-blur"]),"circle-opacity":new Cr(rn.paint_circle["circle-opacity"]),"circle-translate":new jn(rn.paint_circle["circle-translate"]),"circle-translate-anchor":new jn(rn.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new jn(rn.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new jn(rn.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Cr(rn.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Cr(rn.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Cr(rn.paint_circle["circle-stroke-opacity"]),"circle-emissive-strength":new jn(rn.paint_circle["circle-emissive-strength"])}),layout:yfe},ml={},gl={};Object.defineProperty(gl,"__esModule",{value:!0}),gl.setMatrixArrayType=function(u){gl.ARRAY_TYPE=pz=u},gl.toRadian=function(u){return u*xfe},gl.equals=function(u,o){return Math.abs(u-o)<=fz*Math.max(1,Math.abs(u),Math.abs(o))},gl.RANDOM=gl.ARRAY_TYPE=gl.EPSILON=void 0;var fz=1e-6;gl.EPSILON=fz;var pz=typeof Float32Array<"u"?Float32Array:Array;gl.ARRAY_TYPE=pz;var wfe=Math.random;gl.RANDOM=wfe;var xfe=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var u=0,o=arguments.length;o--;)u+=arguments[o]*arguments[o];return Math.sqrt(u)});var Ls={};function SM(u){return SM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},SM(u)}Object.defineProperty(Ls,"__esModule",{value:!0}),Ls.create=function(){var u=new P0.ARRAY_TYPE(4);return P0.ARRAY_TYPE!=Float32Array&&(u[1]=0,u[2]=0),u[0]=1,u[3]=1,u},Ls.clone=function(u){var o=new P0.ARRAY_TYPE(4);return o[0]=u[0],o[1]=u[1],o[2]=u[2],o[3]=u[3],o},Ls.copy=function(u,o){return u[0]=o[0],u[1]=o[1],u[2]=o[2],u[3]=o[3],u},Ls.identity=function(u){return u[0]=1,u[1]=0,u[2]=0,u[3]=1,u},Ls.fromValues=function(u,o,h,p){var v=new P0.ARRAY_TYPE(4);return v[0]=u,v[1]=o,v[2]=h,v[3]=p,v},Ls.set=function(u,o,h,p,v){return u[0]=o,u[1]=h,u[2]=p,u[3]=v,u},Ls.transpose=function(u,o){if(u===o){var h=o[1];u[1]=o[2],u[2]=h}else u[0]=o[0],u[1]=o[2],u[2]=o[1],u[3]=o[3];return u},Ls.invert=function(u,o){var h=o[0],p=o[1],v=o[2],b=o[3],C=h*b-v*p;return C?(u[0]=b*(C=1/C),u[1]=-p*C,u[2]=-v*C,u[3]=h*C,u):null},Ls.adjoint=function(u,o){var h=o[0];return u[0]=o[3],u[1]=-o[1],u[2]=-o[2],u[3]=h,u},Ls.determinant=function(u){return u[0]*u[3]-u[2]*u[1]},Ls.multiply=mz,Ls.rotate=function(u,o,h){var p=o[0],v=o[1],b=o[2],C=o[3],M=Math.sin(h),k=Math.cos(h);return u[0]=p*k+b*M,u[1]=v*k+C*M,u[2]=p*-M+b*k,u[3]=v*-M+C*k,u},Ls.scale=function(u,o,h){var p=o[1],v=o[2],b=o[3],C=h[0],M=h[1];return u[0]=o[0]*C,u[1]=p*C,u[2]=v*M,u[3]=b*M,u},Ls.fromRotation=function(u,o){var h=Math.sin(o),p=Math.cos(o);return u[0]=p,u[1]=h,u[2]=-h,u[3]=p,u},Ls.fromScaling=function(u,o){return u[0]=o[0],u[1]=0,u[2]=0,u[3]=o[1],u},Ls.str=function(u){return"mat2("+u[0]+", "+u[1]+", "+u[2]+", "+u[3]+")"},Ls.frob=function(u){return Math.hypot(u[0],u[1],u[2],u[3])},Ls.LDU=function(u,o,h,p){return u[2]=p[2]/p[0],h[0]=p[0],h[1]=p[1],h[3]=p[3]-u[2]*h[1],[u,o,h]},Ls.add=function(u,o,h){return u[0]=o[0]+h[0],u[1]=o[1]+h[1],u[2]=o[2]+h[2],u[3]=o[3]+h[3],u},Ls.subtract=gz,Ls.exactEquals=function(u,o){return u[0]===o[0]&&u[1]===o[1]&&u[2]===o[2]&&u[3]===o[3]},Ls.equals=function(u,o){var h=u[0],p=u[1],v=u[2],b=u[3],C=o[0],M=o[1],k=o[2],O=o[3];return Math.abs(h-C)<=P0.EPSILON*Math.max(1,Math.abs(h),Math.abs(C))&&Math.abs(p-M)<=P0.EPSILON*Math.max(1,Math.abs(p),Math.abs(M))&&Math.abs(v-k)<=P0.EPSILON*Math.max(1,Math.abs(v),Math.abs(k))&&Math.abs(b-O)<=P0.EPSILON*Math.max(1,Math.abs(b),Math.abs(O))},Ls.multiplyScalar=function(u,o,h){return u[0]=o[0]*h,u[1]=o[1]*h,u[2]=o[2]*h,u[3]=o[3]*h,u},Ls.multiplyScalarAndAdd=function(u,o,h,p){return u[0]=o[0]+h[0]*p,u[1]=o[1]+h[1]*p,u[2]=o[2]+h[2]*p,u[3]=o[3]+h[3]*p,u},Ls.sub=Ls.mul=void 0;var P0=function(u,o){if(u&&u.__esModule)return u;if(u===null||SM(u)!=="object"&&typeof u!="function")return{default:u};var h=Az(void 0);if(h&&h.has(u))return h.get(u);var p={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in u)if(b!=="default"&&Object.prototype.hasOwnProperty.call(u,b)){var C=v?Object.getOwnPropertyDescriptor(u,b):null;C&&(C.get||C.set)?Object.defineProperty(p,b,C):p[b]=u[b]}return p.default=u,h&&h.set(u,p),p}(gl);function Az(u){if(typeof WeakMap!="function")return null;var o=new WeakMap,h=new WeakMap;return(Az=function(p){return p?h:o})(u)}function mz(u,o,h){var p=o[0],v=o[1],b=o[2],C=o[3],M=h[0],k=h[1],O=h[2],U=h[3];return u[0]=p*M+b*k,u[1]=v*M+C*k,u[2]=p*O+b*U,u[3]=v*O+C*U,u}function gz(u,o,h){return u[0]=o[0]-h[0],u[1]=o[1]-h[1],u[2]=o[2]-h[2],u[3]=o[3]-h[3],u}Ls.mul=mz,Ls.sub=gz;var $s={};function TM(u){return TM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},TM(u)}Object.defineProperty($s,"__esModule",{value:!0}),$s.create=function(){var u=new PA.ARRAY_TYPE(6);return PA.ARRAY_TYPE!=Float32Array&&(u[1]=0,u[2]=0,u[4]=0,u[5]=0),u[0]=1,u[3]=1,u},$s.clone=function(u){var o=new PA.ARRAY_TYPE(6);return o[0]=u[0],o[1]=u[1],o[2]=u[2],o[3]=u[3],o[4]=u[4],o[5]=u[5],o},$s.copy=function(u,o){return u[0]=o[0],u[1]=o[1],u[2]=o[2],u[3]=o[3],u[4]=o[4],u[5]=o[5],u},$s.identity=function(u){return u[0]=1,u[1]=0,u[2]=0,u[3]=1,u[4]=0,u[5]=0,u},$s.fromValues=function(u,o,h,p,v,b){var C=new PA.ARRAY_TYPE(6);return C[0]=u,C[1]=o,C[2]=h,C[3]=p,C[4]=v,C[5]=b,C},$s.set=function(u,o,h,p,v,b,C){return u[0]=o,u[1]=h,u[2]=p,u[3]=v,u[4]=b,u[5]=C,u},$s.invert=function(u,o){var h=o[0],p=o[1],v=o[2],b=o[3],C=o[4],M=o[5],k=h*b-p*v;return k?(u[0]=b*(k=1/k),u[1]=-p*k,u[2]=-v*k,u[3]=h*k,u[4]=(v*M-b*C)*k,u[5]=(p*C-h*M)*k,u):null},$s.determinant=function(u){return u[0]*u[3]-u[1]*u[2]},$s.multiply=_z,$s.rotate=function(u,o,h){var p=o[0],v=o[1],b=o[2],C=o[3],M=o[4],k=o[5],O=Math.sin(h),U=Math.cos(h);return u[0]=p*U+b*O,u[1]=v*U+C*O,u[2]=p*-O+b*U,u[3]=v*-O+C*U,u[4]=M,u[5]=k,u},$s.scale=function(u,o,h){var p=o[1],v=o[2],b=o[3],C=o[4],M=o[5],k=h[0],O=h[1];return u[0]=o[0]*k,u[1]=p*k,u[2]=v*O,u[3]=b*O,u[4]=C,u[5]=M,u},$s.translate=function(u,o,h){var p=o[0],v=o[1],b=o[2],C=o[3],M=o[4],k=o[5],O=h[0],U=h[1];return u[0]=p,u[1]=v,u[2]=b,u[3]=C,u[4]=p*O+b*U+M,u[5]=v*O+C*U+k,u},$s.fromRotation=function(u,o){var h=Math.sin(o),p=Math.cos(o);return u[0]=p,u[1]=h,u[2]=-h,u[3]=p,u[4]=0,u[5]=0,u},$s.fromScaling=function(u,o){return u[0]=o[0],u[1]=0,u[2]=0,u[3]=o[1],u[4]=0,u[5]=0,u},$s.fromTranslation=function(u,o){return u[0]=1,u[1]=0,u[2]=0,u[3]=1,u[4]=o[0],u[5]=o[1],u},$s.str=function(u){return"mat2d("+u[0]+", "+u[1]+", "+u[2]+", "+u[3]+", "+u[4]+", "+u[5]+")"},$s.frob=function(u){return Math.hypot(u[0],u[1],u[2],u[3],u[4],u[5],1)},$s.add=function(u,o,h){return u[0]=o[0]+h[0],u[1]=o[1]+h[1],u[2]=o[2]+h[2],u[3]=o[3]+h[3],u[4]=o[4]+h[4],u[5]=o[5]+h[5],u},$s.subtract=yz,$s.multiplyScalar=function(u,o,h){return u[0]=o[0]*h,u[1]=o[1]*h,u[2]=o[2]*h,u[3]=o[3]*h,u[4]=o[4]*h,u[5]=o[5]*h,u},$s.multiplyScalarAndAdd=function(u,o,h,p){return u[0]=o[0]+h[0]*p,u[1]=o[1]+h[1]*p,u[2]=o[2]+h[2]*p,u[3]=o[3]+h[3]*p,u[4]=o[4]+h[4]*p,u[5]=o[5]+h[5]*p,u},$s.exactEquals=function(u,o){return u[0]===o[0]&&u[1]===o[1]&&u[2]===o[2]&&u[3]===o[3]&&u[4]===o[4]&&u[5]===o[5]},$s.equals=function(u,o){var h=u[0],p=u[1],v=u[2],b=u[3],C=u[4],M=u[5],k=o[0],O=o[1],U=o[2],G=o[3],Z=o[4],fe=o[5];return Math.abs(h-k)<=PA.EPSILON*Math.max(1,Math.abs(h),Math.abs(k))&&Math.abs(p-O)<=PA.EPSILON*Math.max(1,Math.abs(p),Math.abs(O))&&Math.abs(v-U)<=PA.EPSILON*Math.max(1,Math.abs(v),Math.abs(U))&&Math.abs(b-G)<=PA.EPSILON*Math.max(1,Math.abs(b),Math.abs(G))&&Math.abs(C-Z)<=PA.EPSILON*Math.max(1,Math.abs(C),Math.abs(Z))&&Math.abs(M-fe)<=PA.EPSILON*Math.max(1,Math.abs(M),Math.abs(fe))},$s.sub=$s.mul=void 0;var PA=function(u,o){if(u&&u.__esModule)return u;if(u===null||TM(u)!=="object"&&typeof u!="function")return{default:u};var h=vz(void 0);if(h&&h.has(u))return h.get(u);var p={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in u)if(b!=="default"&&Object.prototype.hasOwnProperty.call(u,b)){var C=v?Object.getOwnPropertyDescriptor(u,b):null;C&&(C.get||C.set)?Object.defineProperty(p,b,C):p[b]=u[b]}return p.default=u,h&&h.set(u,p),p}(gl);function vz(u){if(typeof WeakMap!="function")return null;var o=new WeakMap,h=new WeakMap;return(vz=function(p){return p?h:o})(u)}function _z(u,o,h){var p=o[0],v=o[1],b=o[2],C=o[3],M=o[4],k=o[5],O=h[0],U=h[1],G=h[2],Z=h[3],fe=h[4],ge=h[5];return u[0]=p*O+b*U,u[1]=v*O+C*U,u[2]=p*G+b*Z,u[3]=v*G+C*Z,u[4]=p*fe+b*ge+M,u[5]=v*fe+C*ge+k,u}function yz(u,o,h){return u[0]=o[0]-h[0],u[1]=o[1]-h[1],u[2]=o[2]-h[2],u[3]=o[3]-h[3],u[4]=o[4]-h[4],u[5]=o[5]-h[5],u}$s.mul=_z,$s.sub=yz;var qa={};function BM(u){return BM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},BM(u)}Object.defineProperty(qa,"__esModule",{value:!0}),qa.create=function(){var u=new yd.ARRAY_TYPE(9);return yd.ARRAY_TYPE!=Float32Array&&(u[1]=0,u[2]=0,u[3]=0,u[5]=0,u[6]=0,u[7]=0),u[0]=1,u[4]=1,u[8]=1,u},qa.fromMat4=function(u,o){return u[0]=o[0],u[1]=o[1],u[2]=o[2],u[3]=o[4],u[4]=o[5],u[5]=o[6],u[6]=o[8],u[7]=o[9],u[8]=o[10],u},qa.clone=function(u){var o=new yd.ARRAY_TYPE(9);return o[0]=u[0],o[1]=u[1],o[2]=u[2],o[3]=u[3],o[4]=u[4],o[5]=u[5],o[6]=u[6],o[7]=u[7],o[8]=u[8],o},qa.copy=function(u,o){return u[0]=o[0],u[1]=o[1],u[2]=o[2],u[3]=o[3],u[4]=o[4],u[5]=o[5],u[6]=o[6],u[7]=o[7],u[8]=o[8],u},qa.fromValues=function(u,o,h,p,v,b,C,M,k){var O=new yd.ARRAY_TYPE(9);return O[0]=u,O[1]=o,O[2]=h,O[3]=p,O[4]=v,O[5]=b,O[6]=C,O[7]=M,O[8]=k,O},qa.set=function(u,o,h,p,v,b,C,M,k,O){return u[0]=o,u[1]=h,u[2]=p,u[3]=v,u[4]=b,u[5]=C,u[6]=M,u[7]=k,u[8]=O,u},qa.identity=function(u){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=1,u[5]=0,u[6]=0,u[7]=0,u[8]=1,u},qa.transpose=function(u,o){if(u===o){var h=o[1],p=o[2],v=o[5];u[1]=o[3],u[2]=o[6],u[3]=h,u[5]=o[7],u[6]=p,u[7]=v}else u[0]=o[0],u[1]=o[3],u[2]=o[6],u[3]=o[1],u[4]=o[4],u[5]=o[7],u[6]=o[2],u[7]=o[5],u[8]=o[8];return u},qa.invert=function(u,o){var h=o[0],p=o[1],v=o[2],b=o[3],C=o[4],M=o[5],k=o[6],O=o[7],U=o[8],G=U*C-M*O,Z=-U*b+M*k,fe=O*b-C*k,ge=h*G+p*Z+v*fe;return ge?(u[0]=G*(ge=1/ge),u[1]=(-U*p+v*O)*ge,u[2]=(M*p-v*C)*ge,u[3]=Z*ge,u[4]=(U*h-v*k)*ge,u[5]=(-M*h+v*b)*ge,u[6]=fe*ge,u[7]=(-O*h+p*k)*ge,u[8]=(C*h-p*b)*ge,u):null},qa.adjoint=function(u,o){var h=o[0],p=o[1],v=o[2],b=o[3],C=o[4],M=o[5],k=o[6],O=o[7],U=o[8];return u[0]=C*U-M*O,u[1]=v*O-p*U,u[2]=p*M-v*C,u[3]=M*k-b*U,u[4]=h*U-v*k,u[5]=v*b-h*M,u[6]=b*O-C*k,u[7]=p*k-h*O,u[8]=h*C-p*b,u},qa.determinant=function(u){var o=u[3],h=u[4],p=u[5],v=u[6],b=u[7],C=u[8];return u[0]*(C*h-p*b)+u[1]*(-C*o+p*v)+u[2]*(b*o-h*v)},qa.multiply=wz,qa.translate=function(u,o,h){var p=o[0],v=o[1],b=o[2],C=o[3],M=o[4],k=o[5],O=o[6],U=o[7],G=o[8],Z=h[0],fe=h[1];return u[0]=p,u[1]=v,u[2]=b,u[3]=C,u[4]=M,u[5]=k,u[6]=Z*p+fe*C+O,u[7]=Z*v+fe*M+U,u[8]=Z*b+fe*k+G,u},qa.rotate=function(u,o,h){var p=o[0],v=o[1],b=o[2],C=o[3],M=o[4],k=o[5],O=o[6],U=o[7],G=o[8],Z=Math.sin(h),fe=Math.cos(h);return u[0]=fe*p+Z*C,u[1]=fe*v+Z*M,u[2]=fe*b+Z*k,u[3]=fe*C-Z*p,u[4]=fe*M-Z*v,u[5]=fe*k-Z*b,u[6]=O,u[7]=U,u[8]=G,u},qa.scale=function(u,o,h){var p=h[0],v=h[1];return u[0]=p*o[0],u[1]=p*o[1],u[2]=p*o[2],u[3]=v*o[3],u[4]=v*o[4],u[5]=v*o[5],u[6]=o[6],u[7]=o[7],u[8]=o[8],u},qa.fromTranslation=function(u,o){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=1,u[5]=0,u[6]=o[0],u[7]=o[1],u[8]=1,u},qa.fromRotation=function(u,o){var h=Math.sin(o),p=Math.cos(o);return u[0]=p,u[1]=h,u[2]=0,u[3]=-h,u[4]=p,u[5]=0,u[6]=0,u[7]=0,u[8]=1,u},qa.fromScaling=function(u,o){return u[0]=o[0],u[1]=0,u[2]=0,u[3]=0,u[4]=o[1],u[5]=0,u[6]=0,u[7]=0,u[8]=1,u},qa.fromMat2d=function(u,o){return u[0]=o[0],u[1]=o[1],u[2]=0,u[3]=o[2],u[4]=o[3],u[5]=0,u[6]=o[4],u[7]=o[5],u[8]=1,u},qa.fromQuat=function(u,o){var h=o[0],p=o[1],v=o[2],b=o[3],C=h+h,M=p+p,k=v+v,O=h*C,U=p*C,G=p*M,Z=v*C,fe=v*M,ge=v*k,xe=b*C,Ie=b*M,Oe=b*k;return u[0]=1-G-ge,u[3]=U-Oe,u[6]=Z+Ie,u[1]=U+Oe,u[4]=1-O-ge,u[7]=fe-xe,u[2]=Z-Ie,u[5]=fe+xe,u[8]=1-O-G,u},qa.normalFromMat4=function(u,o){var h=o[0],p=o[1],v=o[2],b=o[3],C=o[4],M=o[5],k=o[6],O=o[7],U=o[8],G=o[9],Z=o[10],fe=o[11],ge=o[12],xe=o[13],Ie=o[14],Oe=o[15],rt=h*M-p*C,lt=h*k-v*C,ot=h*O-b*C,Tt=p*k-v*M,yt=p*O-b*M,Dt=v*O-b*k,Gt=U*xe-G*ge,Xt=U*Ie-Z*ge,pn=U*Oe-fe*ge,en=G*Ie-Z*xe,Sn=G*Oe-fe*xe,Dn=Z*Oe-fe*Ie,yn=rt*Dn-lt*Sn+ot*en+Tt*pn-yt*Xt+Dt*Gt;return yn?(u[0]=(M*Dn-k*Sn+O*en)*(yn=1/yn),u[1]=(k*pn-C*Dn-O*Xt)*yn,u[2]=(C*Sn-M*pn+O*Gt)*yn,u[3]=(v*Sn-p*Dn-b*en)*yn,u[4]=(h*Dn-v*pn+b*Xt)*yn,u[5]=(p*pn-h*Sn-b*Gt)*yn,u[6]=(xe*Dt-Ie*yt+Oe*Tt)*yn,u[7]=(Ie*ot-ge*Dt-Oe*lt)*yn,u[8]=(ge*yt-xe*ot+Oe*rt)*yn,u):null},qa.projection=function(u,o,h){return u[0]=2/o,u[1]=0,u[2]=0,u[3]=0,u[4]=-2/h,u[5]=0,u[6]=-1,u[7]=1,u[8]=1,u},qa.str=function(u){return"mat3("+u[0]+", "+u[1]+", "+u[2]+", "+u[3]+", "+u[4]+", "+u[5]+", "+u[6]+", "+u[7]+", "+u[8]+")"},qa.frob=function(u){return Math.hypot(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8])},qa.add=function(u,o,h){return u[0]=o[0]+h[0],u[1]=o[1]+h[1],u[2]=o[2]+h[2],u[3]=o[3]+h[3],u[4]=o[4]+h[4],u[5]=o[5]+h[5],u[6]=o[6]+h[6],u[7]=o[7]+h[7],u[8]=o[8]+h[8],u},qa.subtract=xz,qa.multiplyScalar=function(u,o,h){return u[0]=o[0]*h,u[1]=o[1]*h,u[2]=o[2]*h,u[3]=o[3]*h,u[4]=o[4]*h,u[5]=o[5]*h,u[6]=o[6]*h,u[7]=o[7]*h,u[8]=o[8]*h,u},qa.multiplyScalarAndAdd=function(u,o,h,p){return u[0]=o[0]+h[0]*p,u[1]=o[1]+h[1]*p,u[2]=o[2]+h[2]*p,u[3]=o[3]+h[3]*p,u[4]=o[4]+h[4]*p,u[5]=o[5]+h[5]*p,u[6]=o[6]+h[6]*p,u[7]=o[7]+h[7]*p,u[8]=o[8]+h[8]*p,u},qa.exactEquals=function(u,o){return u[0]===o[0]&&u[1]===o[1]&&u[2]===o[2]&&u[3]===o[3]&&u[4]===o[4]&&u[5]===o[5]&&u[6]===o[6]&&u[7]===o[7]&&u[8]===o[8]},qa.equals=function(u,o){var h=u[0],p=u[1],v=u[2],b=u[3],C=u[4],M=u[5],k=u[6],O=u[7],U=u[8],G=o[0],Z=o[1],fe=o[2],ge=o[3],xe=o[4],Ie=o[5],Oe=o[6],rt=o[7],lt=o[8];return Math.abs(h-G)<=yd.EPSILON*Math.max(1,Math.abs(h),Math.abs(G))&&Math.abs(p-Z)<=yd.EPSILON*Math.max(1,Math.abs(p),Math.abs(Z))&&Math.abs(v-fe)<=yd.EPSILON*Math.max(1,Math.abs(v),Math.abs(fe))&&Math.abs(b-ge)<=yd.EPSILON*Math.max(1,Math.abs(b),Math.abs(ge))&&Math.abs(C-xe)<=yd.EPSILON*Math.max(1,Math.abs(C),Math.abs(xe))&&Math.abs(M-Ie)<=yd.EPSILON*Math.max(1,Math.abs(M),Math.abs(Ie))&&Math.abs(k-Oe)<=yd.EPSILON*Math.max(1,Math.abs(k),Math.abs(Oe))&&Math.abs(O-rt)<=yd.EPSILON*Math.max(1,Math.abs(O),Math.abs(rt))&&Math.abs(U-lt)<=yd.EPSILON*Math.max(1,Math.abs(U),Math.abs(lt))},qa.sub=qa.mul=void 0;var yd=function(u,o){if(u&&u.__esModule)return u;if(u===null||BM(u)!=="object"&&typeof u!="function")return{default:u};var h=bz(void 0);if(h&&h.has(u))return h.get(u);var p={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in u)if(b!=="default"&&Object.prototype.hasOwnProperty.call(u,b)){var C=v?Object.getOwnPropertyDescriptor(u,b):null;C&&(C.get||C.set)?Object.defineProperty(p,b,C):p[b]=u[b]}return p.default=u,h&&h.set(u,p),p}(gl);function bz(u){if(typeof WeakMap!="function")return null;var o=new WeakMap,h=new WeakMap;return(bz=function(p){return p?h:o})(u)}function wz(u,o,h){var p=o[0],v=o[1],b=o[2],C=o[3],M=o[4],k=o[5],O=o[6],U=o[7],G=o[8],Z=h[0],fe=h[1],ge=h[2],xe=h[3],Ie=h[4],Oe=h[5],rt=h[6],lt=h[7],ot=h[8];return u[0]=Z*p+fe*C+ge*O,u[1]=Z*v+fe*M+ge*U,u[2]=Z*b+fe*k+ge*G,u[3]=xe*p+Ie*C+Oe*O,u[4]=xe*v+Ie*M+Oe*U,u[5]=xe*b+Ie*k+Oe*G,u[6]=rt*p+lt*C+ot*O,u[7]=rt*v+lt*M+ot*U,u[8]=rt*b+lt*k+ot*G,u}function xz(u,o,h){return u[0]=o[0]-h[0],u[1]=o[1]-h[1],u[2]=o[2]-h[2],u[3]=o[3]-h[3],u[4]=o[4]-h[4],u[5]=o[5]-h[5],u[6]=o[6]-h[6],u[7]=o[7]-h[7],u[8]=o[8]-h[8],u}qa.mul=wz,qa.sub=xz;var Di={};function MM(u){return MM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},MM(u)}Object.defineProperty(Di,"__esModule",{value:!0}),Di.create=function(){var u=new so.ARRAY_TYPE(16);return so.ARRAY_TYPE!=Float32Array&&(u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=0,u[12]=0,u[13]=0,u[14]=0),u[0]=1,u[5]=1,u[10]=1,u[15]=1,u},Di.clone=function(u){var o=new so.ARRAY_TYPE(16);return o[0]=u[0],o[1]=u[1],o[2]=u[2],o[3]=u[3],o[4]=u[4],o[5]=u[5],o[6]=u[6],o[7]=u[7],o[8]=u[8],o[9]=u[9],o[10]=u[10],o[11]=u[11],o[12]=u[12],o[13]=u[13],o[14]=u[14],o[15]=u[15],o},Di.copy=function(u,o){return u[0]=o[0],u[1]=o[1],u[2]=o[2],u[3]=o[3],u[4]=o[4],u[5]=o[5],u[6]=o[6],u[7]=o[7],u[8]=o[8],u[9]=o[9],u[10]=o[10],u[11]=o[11],u[12]=o[12],u[13]=o[13],u[14]=o[14],u[15]=o[15],u},Di.fromValues=function(u,o,h,p,v,b,C,M,k,O,U,G,Z,fe,ge,xe){var Ie=new so.ARRAY_TYPE(16);return Ie[0]=u,Ie[1]=o,Ie[2]=h,Ie[3]=p,Ie[4]=v,Ie[5]=b,Ie[6]=C,Ie[7]=M,Ie[8]=k,Ie[9]=O,Ie[10]=U,Ie[11]=G,Ie[12]=Z,Ie[13]=fe,Ie[14]=ge,Ie[15]=xe,Ie},Di.set=function(u,o,h,p,v,b,C,M,k,O,U,G,Z,fe,ge,xe,Ie){return u[0]=o,u[1]=h,u[2]=p,u[3]=v,u[4]=b,u[5]=C,u[6]=M,u[7]=k,u[8]=O,u[9]=U,u[10]=G,u[11]=Z,u[12]=fe,u[13]=ge,u[14]=xe,u[15]=Ie,u},Di.identity=Ez,Di.transpose=function(u,o){if(u===o){var h=o[1],p=o[2],v=o[3],b=o[6],C=o[7],M=o[11];u[1]=o[4],u[2]=o[8],u[3]=o[12],u[4]=h,u[6]=o[9],u[7]=o[13],u[8]=p,u[9]=b,u[11]=o[14],u[12]=v,u[13]=C,u[14]=M}else u[0]=o[0],u[1]=o[4],u[2]=o[8],u[3]=o[12],u[4]=o[1],u[5]=o[5],u[6]=o[9],u[7]=o[13],u[8]=o[2],u[9]=o[6],u[10]=o[10],u[11]=o[14],u[12]=o[3],u[13]=o[7],u[14]=o[11],u[15]=o[15];return u},Di.invert=function(u,o){var h=o[0],p=o[1],v=o[2],b=o[3],C=o[4],M=o[5],k=o[6],O=o[7],U=o[8],G=o[9],Z=o[10],fe=o[11],ge=o[12],xe=o[13],Ie=o[14],Oe=o[15],rt=h*M-p*C,lt=h*k-v*C,ot=h*O-b*C,Tt=p*k-v*M,yt=p*O-b*M,Dt=v*O-b*k,Gt=U*xe-G*ge,Xt=U*Ie-Z*ge,pn=U*Oe-fe*ge,en=G*Ie-Z*xe,Sn=G*Oe-fe*xe,Dn=Z*Oe-fe*Ie,yn=rt*Dn-lt*Sn+ot*en+Tt*pn-yt*Xt+Dt*Gt;return yn?(u[0]=(M*Dn-k*Sn+O*en)*(yn=1/yn),u[1]=(v*Sn-p*Dn-b*en)*yn,u[2]=(xe*Dt-Ie*yt+Oe*Tt)*yn,u[3]=(Z*yt-G*Dt-fe*Tt)*yn,u[4]=(k*pn-C*Dn-O*Xt)*yn,u[5]=(h*Dn-v*pn+b*Xt)*yn,u[6]=(Ie*ot-ge*Dt-Oe*lt)*yn,u[7]=(U*Dt-Z*ot+fe*lt)*yn,u[8]=(C*Sn-M*pn+O*Gt)*yn,u[9]=(p*pn-h*Sn-b*Gt)*yn,u[10]=(ge*yt-xe*ot+Oe*rt)*yn,u[11]=(G*ot-U*yt-fe*rt)*yn,u[12]=(M*Xt-C*en-k*Gt)*yn,u[13]=(h*en-p*Xt+v*Gt)*yn,u[14]=(xe*lt-ge*Tt-Ie*rt)*yn,u[15]=(U*Tt-G*lt+Z*rt)*yn,u):null},Di.adjoint=function(u,o){var h=o[0],p=o[1],v=o[2],b=o[3],C=o[4],M=o[5],k=o[6],O=o[7],U=o[8],G=o[9],Z=o[10],fe=o[11],ge=o[12],xe=o[13],Ie=o[14],Oe=o[15];return u[0]=M*(Z*Oe-fe*Ie)-G*(k*Oe-O*Ie)+xe*(k*fe-O*Z),u[1]=-(p*(Z*Oe-fe*Ie)-G*(v*Oe-b*Ie)+xe*(v*fe-b*Z)),u[2]=p*(k*Oe-O*Ie)-M*(v*Oe-b*Ie)+xe*(v*O-b*k),u[3]=-(p*(k*fe-O*Z)-M*(v*fe-b*Z)+G*(v*O-b*k)),u[4]=-(C*(Z*Oe-fe*Ie)-U*(k*Oe-O*Ie)+ge*(k*fe-O*Z)),u[5]=h*(Z*Oe-fe*Ie)-U*(v*Oe-b*Ie)+ge*(v*fe-b*Z),u[6]=-(h*(k*Oe-O*Ie)-C*(v*Oe-b*Ie)+ge*(v*O-b*k)),u[7]=h*(k*fe-O*Z)-C*(v*fe-b*Z)+U*(v*O-b*k),u[8]=C*(G*Oe-fe*xe)-U*(M*Oe-O*xe)+ge*(M*fe-O*G),u[9]=-(h*(G*Oe-fe*xe)-U*(p*Oe-b*xe)+ge*(p*fe-b*G)),u[10]=h*(M*Oe-O*xe)-C*(p*Oe-b*xe)+ge*(p*O-b*M),u[11]=-(h*(M*fe-O*G)-C*(p*fe-b*G)+U*(p*O-b*M)),u[12]=-(C*(G*Ie-Z*xe)-U*(M*Ie-k*xe)+ge*(M*Z-k*G)),u[13]=h*(G*Ie-Z*xe)-U*(p*Ie-v*xe)+ge*(p*Z-v*G),u[14]=-(h*(M*Ie-k*xe)-C*(p*Ie-v*xe)+ge*(p*k-v*M)),u[15]=h*(M*Z-k*G)-C*(p*Z-v*G)+U*(p*k-v*M),u},Di.determinant=function(u){var o=u[0],h=u[1],p=u[2],v=u[3],b=u[4],C=u[5],M=u[6],k=u[7],O=u[8],U=u[9],G=u[10],Z=u[11],fe=u[12],ge=u[13],xe=u[14],Ie=u[15];return(o*C-h*b)*(G*Ie-Z*xe)-(o*M-p*b)*(U*Ie-Z*ge)+(o*k-v*b)*(U*xe-G*ge)+(h*M-p*C)*(O*Ie-Z*fe)-(h*k-v*C)*(O*xe-G*fe)+(p*k-v*M)*(O*ge-U*fe)},Di.multiply=Sz,Di.translate=function(u,o,h){var p,v,b,C,M,k,O,U,G,Z,fe,ge,xe=h[0],Ie=h[1],Oe=h[2];return o===u?(u[12]=o[0]*xe+o[4]*Ie+o[8]*Oe+o[12],u[13]=o[1]*xe+o[5]*Ie+o[9]*Oe+o[13],u[14]=o[2]*xe+o[6]*Ie+o[10]*Oe+o[14],u[15]=o[3]*xe+o[7]*Ie+o[11]*Oe+o[15]):(v=o[1],b=o[2],C=o[3],M=o[4],k=o[5],O=o[6],U=o[7],G=o[8],Z=o[9],fe=o[10],ge=o[11],u[0]=p=o[0],u[1]=v,u[2]=b,u[3]=C,u[4]=M,u[5]=k,u[6]=O,u[7]=U,u[8]=G,u[9]=Z,u[10]=fe,u[11]=ge,u[12]=p*xe+M*Ie+G*Oe+o[12],u[13]=v*xe+k*Ie+Z*Oe+o[13],u[14]=b*xe+O*Ie+fe*Oe+o[14],u[15]=C*xe+U*Ie+ge*Oe+o[15]),u},Di.scale=function(u,o,h){var p=h[0],v=h[1],b=h[2];return u[0]=o[0]*p,u[1]=o[1]*p,u[2]=o[2]*p,u[3]=o[3]*p,u[4]=o[4]*v,u[5]=o[5]*v,u[6]=o[6]*v,u[7]=o[7]*v,u[8]=o[8]*b,u[9]=o[9]*b,u[10]=o[10]*b,u[11]=o[11]*b,u[12]=o[12],u[13]=o[13],u[14]=o[14],u[15]=o[15],u},Di.rotate=function(u,o,h,p){var v,b,C,M,k,O,U,G,Z,fe,ge,xe,Ie,Oe,rt,lt,ot,Tt,yt,Dt,Gt,Xt,pn,en,Sn=p[0],Dn=p[1],yn=p[2],On=Math.hypot(Sn,Dn,yn);return On<so.EPSILON?null:(Sn*=On=1/On,Dn*=On,yn*=On,v=Math.sin(h),b=Math.cos(h),k=o[1],O=o[2],U=o[3],Z=o[5],fe=o[6],ge=o[7],Ie=o[9],Oe=o[10],rt=o[11],lt=Sn*Sn*(C=1-b)+b,yt=Sn*Dn*C-yn*v,Dt=Dn*Dn*C+b,Gt=yn*Dn*C+Sn*v,Xt=Sn*yn*C+Dn*v,pn=Dn*yn*C-Sn*v,en=yn*yn*C+b,u[0]=(M=o[0])*lt+(G=o[4])*(ot=Dn*Sn*C+yn*v)+(xe=o[8])*(Tt=yn*Sn*C-Dn*v),u[1]=k*lt+Z*ot+Ie*Tt,u[2]=O*lt+fe*ot+Oe*Tt,u[3]=U*lt+ge*ot+rt*Tt,u[4]=M*yt+G*Dt+xe*Gt,u[5]=k*yt+Z*Dt+Ie*Gt,u[6]=O*yt+fe*Dt+Oe*Gt,u[7]=U*yt+ge*Dt+rt*Gt,u[8]=M*Xt+G*pn+xe*en,u[9]=k*Xt+Z*pn+Ie*en,u[10]=O*Xt+fe*pn+Oe*en,u[11]=U*Xt+ge*pn+rt*en,o!==u&&(u[12]=o[12],u[13]=o[13],u[14]=o[14],u[15]=o[15]),u)},Di.rotateX=function(u,o,h){var p=Math.sin(h),v=Math.cos(h),b=o[4],C=o[5],M=o[6],k=o[7],O=o[8],U=o[9],G=o[10],Z=o[11];return o!==u&&(u[0]=o[0],u[1]=o[1],u[2]=o[2],u[3]=o[3],u[12]=o[12],u[13]=o[13],u[14]=o[14],u[15]=o[15]),u[4]=b*v+O*p,u[5]=C*v+U*p,u[6]=M*v+G*p,u[7]=k*v+Z*p,u[8]=O*v-b*p,u[9]=U*v-C*p,u[10]=G*v-M*p,u[11]=Z*v-k*p,u},Di.rotateY=function(u,o,h){var p=Math.sin(h),v=Math.cos(h),b=o[0],C=o[1],M=o[2],k=o[3],O=o[8],U=o[9],G=o[10],Z=o[11];return o!==u&&(u[4]=o[4],u[5]=o[5],u[6]=o[6],u[7]=o[7],u[12]=o[12],u[13]=o[13],u[14]=o[14],u[15]=o[15]),u[0]=b*v-O*p,u[1]=C*v-U*p,u[2]=M*v-G*p,u[3]=k*v-Z*p,u[8]=b*p+O*v,u[9]=C*p+U*v,u[10]=M*p+G*v,u[11]=k*p+Z*v,u},Di.rotateZ=function(u,o,h){var p=Math.sin(h),v=Math.cos(h),b=o[0],C=o[1],M=o[2],k=o[3],O=o[4],U=o[5],G=o[6],Z=o[7];return o!==u&&(u[8]=o[8],u[9]=o[9],u[10]=o[10],u[11]=o[11],u[12]=o[12],u[13]=o[13],u[14]=o[14],u[15]=o[15]),u[0]=b*v+O*p,u[1]=C*v+U*p,u[2]=M*v+G*p,u[3]=k*v+Z*p,u[4]=O*v-b*p,u[5]=U*v-C*p,u[6]=G*v-M*p,u[7]=Z*v-k*p,u},Di.fromTranslation=function(u,o){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=1,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=1,u[11]=0,u[12]=o[0],u[13]=o[1],u[14]=o[2],u[15]=1,u},Di.fromScaling=function(u,o){return u[0]=o[0],u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=o[1],u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=o[2],u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u},Di.fromRotation=function(u,o,h){var p,v,b,C=h[0],M=h[1],k=h[2],O=Math.hypot(C,M,k);return O<so.EPSILON?null:(C*=O=1/O,M*=O,k*=O,p=Math.sin(o),v=Math.cos(o),u[0]=C*C*(b=1-v)+v,u[1]=M*C*b+k*p,u[2]=k*C*b-M*p,u[3]=0,u[4]=C*M*b-k*p,u[5]=M*M*b+v,u[6]=k*M*b+C*p,u[7]=0,u[8]=C*k*b+M*p,u[9]=M*k*b-C*p,u[10]=k*k*b+v,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u)},Di.fromXRotation=function(u,o){var h=Math.sin(o),p=Math.cos(o);return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=p,u[6]=h,u[7]=0,u[8]=0,u[9]=-h,u[10]=p,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u},Di.fromYRotation=function(u,o){var h=Math.sin(o),p=Math.cos(o);return u[0]=p,u[1]=0,u[2]=-h,u[3]=0,u[4]=0,u[5]=1,u[6]=0,u[7]=0,u[8]=h,u[9]=0,u[10]=p,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u},Di.fromZRotation=function(u,o){var h=Math.sin(o),p=Math.cos(o);return u[0]=p,u[1]=h,u[2]=0,u[3]=0,u[4]=-h,u[5]=p,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=1,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u},Di.fromRotationTranslation=Tz,Di.fromQuat2=function(u,o){var h=new so.ARRAY_TYPE(3),p=-o[0],v=-o[1],b=-o[2],C=o[3],M=o[4],k=o[5],O=o[6],U=o[7],G=p*p+v*v+b*b+C*C;return G>0?(h[0]=2*(M*C+U*p+k*b-O*v)/G,h[1]=2*(k*C+U*v+O*p-M*b)/G,h[2]=2*(O*C+U*b+M*v-k*p)/G):(h[0]=2*(M*C+U*p+k*b-O*v),h[1]=2*(k*C+U*v+O*p-M*b),h[2]=2*(O*C+U*b+M*v-k*p)),Tz(u,o,h),u},Di.getTranslation=function(u,o){return u[0]=o[12],u[1]=o[13],u[2]=o[14],u},Di.getScaling=Bz,Di.getRotation=function(u,o){var h=new so.ARRAY_TYPE(3);Bz(h,o);var p=1/h[0],v=1/h[1],b=1/h[2],C=o[0]*p,M=o[1]*v,k=o[2]*b,O=o[4]*p,U=o[5]*v,G=o[6]*b,Z=o[8]*p,fe=o[9]*v,ge=o[10]*b,xe=C+U+ge,Ie=0;return xe>0?(Ie=2*Math.sqrt(xe+1),u[3]=.25*Ie,u[0]=(G-fe)/Ie,u[1]=(Z-k)/Ie,u[2]=(M-O)/Ie):C>U&&C>ge?(Ie=2*Math.sqrt(1+C-U-ge),u[3]=(G-fe)/Ie,u[0]=.25*Ie,u[1]=(M+O)/Ie,u[2]=(Z+k)/Ie):U>ge?(Ie=2*Math.sqrt(1+U-C-ge),u[3]=(Z-k)/Ie,u[0]=(M+O)/Ie,u[1]=.25*Ie,u[2]=(G+fe)/Ie):(Ie=2*Math.sqrt(1+ge-C-U),u[3]=(M-O)/Ie,u[0]=(Z+k)/Ie,u[1]=(G+fe)/Ie,u[2]=.25*Ie),u},Di.fromRotationTranslationScale=function(u,o,h,p){var v=o[0],b=o[1],C=o[2],M=o[3],k=v+v,O=b+b,U=C+C,G=v*k,Z=v*O,fe=v*U,ge=b*O,xe=b*U,Ie=C*U,Oe=M*k,rt=M*O,lt=M*U,ot=p[0],Tt=p[1],yt=p[2];return u[0]=(1-(ge+Ie))*ot,u[1]=(Z+lt)*ot,u[2]=(fe-rt)*ot,u[3]=0,u[4]=(Z-lt)*Tt,u[5]=(1-(G+Ie))*Tt,u[6]=(xe+Oe)*Tt,u[7]=0,u[8]=(fe+rt)*yt,u[9]=(xe-Oe)*yt,u[10]=(1-(G+ge))*yt,u[11]=0,u[12]=h[0],u[13]=h[1],u[14]=h[2],u[15]=1,u},Di.fromRotationTranslationScaleOrigin=function(u,o,h,p,v){var b=o[0],C=o[1],M=o[2],k=o[3],O=b+b,U=C+C,G=M+M,Z=b*O,fe=b*U,ge=b*G,xe=C*U,Ie=C*G,Oe=M*G,rt=k*O,lt=k*U,ot=k*G,Tt=p[0],yt=p[1],Dt=p[2],Gt=v[0],Xt=v[1],pn=v[2],en=(1-(xe+Oe))*Tt,Sn=(fe+ot)*Tt,Dn=(ge-lt)*Tt,yn=(fe-ot)*yt,On=(1-(Z+Oe))*yt,gn=(Ie+rt)*yt,Rn=(ge+lt)*Dt,cr=(Ie-rt)*Dt,Un=(1-(Z+xe))*Dt;return u[0]=en,u[1]=Sn,u[2]=Dn,u[3]=0,u[4]=yn,u[5]=On,u[6]=gn,u[7]=0,u[8]=Rn,u[9]=cr,u[10]=Un,u[11]=0,u[12]=h[0]+Gt-(en*Gt+yn*Xt+Rn*pn),u[13]=h[1]+Xt-(Sn*Gt+On*Xt+cr*pn),u[14]=h[2]+pn-(Dn*Gt+gn*Xt+Un*pn),u[15]=1,u},Di.fromQuat=function(u,o){var h=o[0],p=o[1],v=o[2],b=o[3],C=h+h,M=p+p,k=v+v,O=h*C,U=p*C,G=p*M,Z=v*C,fe=v*M,ge=v*k,xe=b*C,Ie=b*M,Oe=b*k;return u[0]=1-G-ge,u[1]=U+Oe,u[2]=Z-Ie,u[3]=0,u[4]=U-Oe,u[5]=1-O-ge,u[6]=fe+xe,u[7]=0,u[8]=Z+Ie,u[9]=fe-xe,u[10]=1-O-G,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u},Di.frustum=function(u,o,h,p,v,b,C){var M=1/(h-o),k=1/(v-p),O=1/(b-C);return u[0]=2*b*M,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=2*b*k,u[6]=0,u[7]=0,u[8]=(h+o)*M,u[9]=(v+p)*k,u[10]=(C+b)*O,u[11]=-1,u[12]=0,u[13]=0,u[14]=C*b*2*O,u[15]=0,u},Di.perspectiveNO=Mz,Di.perspectiveZO=function(u,o,h,p,v){var b,C=1/Math.tan(o/2);return u[0]=C/h,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=C,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=-1,u[12]=0,u[13]=0,u[15]=0,v!=null&&v!==1/0?(u[10]=v*(b=1/(p-v)),u[14]=v*p*b):(u[10]=-1,u[14]=-p),u},Di.perspectiveFromFieldOfView=function(u,o,h,p){var v=Math.tan(o.upDegrees*Math.PI/180),b=Math.tan(o.downDegrees*Math.PI/180),C=Math.tan(o.leftDegrees*Math.PI/180),M=Math.tan(o.rightDegrees*Math.PI/180),k=2/(C+M),O=2/(v+b);return u[0]=k,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=O,u[6]=0,u[7]=0,u[8]=-(C-M)*k*.5,u[9]=(v-b)*O*.5,u[10]=p/(h-p),u[11]=-1,u[12]=0,u[13]=0,u[14]=p*h/(h-p),u[15]=0,u},Di.orthoNO=Iz,Di.orthoZO=function(u,o,h,p,v,b,C){var M=1/(o-h),k=1/(p-v),O=1/(b-C);return u[0]=-2*M,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=-2*k,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=O,u[11]=0,u[12]=(o+h)*M,u[13]=(v+p)*k,u[14]=b*O,u[15]=1,u},Di.lookAt=function(u,o,h,p){var v,b,C,M,k,O,U,G,Z,fe,ge=o[0],xe=o[1],Ie=o[2],Oe=p[0],rt=p[1],lt=p[2],ot=h[0],Tt=h[1],yt=h[2];return Math.abs(ge-ot)<so.EPSILON&&Math.abs(xe-Tt)<so.EPSILON&&Math.abs(Ie-yt)<so.EPSILON?Ez(u):(U=ge-ot,G=xe-Tt,Z=Ie-yt,v=rt*(Z*=fe=1/Math.hypot(U,G,Z))-lt*(G*=fe),b=lt*(U*=fe)-Oe*Z,C=Oe*G-rt*U,(fe=Math.hypot(v,b,C))?(v*=fe=1/fe,b*=fe,C*=fe):(v=0,b=0,C=0),M=G*C-Z*b,k=Z*v-U*C,O=U*b-G*v,(fe=Math.hypot(M,k,O))?(M*=fe=1/fe,k*=fe,O*=fe):(M=0,k=0,O=0),u[0]=v,u[1]=M,u[2]=U,u[3]=0,u[4]=b,u[5]=k,u[6]=G,u[7]=0,u[8]=C,u[9]=O,u[10]=Z,u[11]=0,u[12]=-(v*ge+b*xe+C*Ie),u[13]=-(M*ge+k*xe+O*Ie),u[14]=-(U*ge+G*xe+Z*Ie),u[15]=1,u)},Di.targetTo=function(u,o,h,p){var v=o[0],b=o[1],C=o[2],M=p[0],k=p[1],O=p[2],U=v-h[0],G=b-h[1],Z=C-h[2],fe=U*U+G*G+Z*Z;fe>0&&(U*=fe=1/Math.sqrt(fe),G*=fe,Z*=fe);var ge=k*Z-O*G,xe=O*U-M*Z,Ie=M*G-k*U;return(fe=ge*ge+xe*xe+Ie*Ie)>0&&(ge*=fe=1/Math.sqrt(fe),xe*=fe,Ie*=fe),u[0]=ge,u[1]=xe,u[2]=Ie,u[3]=0,u[4]=G*Ie-Z*xe,u[5]=Z*ge-U*Ie,u[6]=U*xe-G*ge,u[7]=0,u[8]=U,u[9]=G,u[10]=Z,u[11]=0,u[12]=v,u[13]=b,u[14]=C,u[15]=1,u},Di.str=function(u){return"mat4("+u[0]+", "+u[1]+", "+u[2]+", "+u[3]+", "+u[4]+", "+u[5]+", "+u[6]+", "+u[7]+", "+u[8]+", "+u[9]+", "+u[10]+", "+u[11]+", "+u[12]+", "+u[13]+", "+u[14]+", "+u[15]+")"},Di.frob=function(u){return Math.hypot(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15])},Di.add=function(u,o,h){return u[0]=o[0]+h[0],u[1]=o[1]+h[1],u[2]=o[2]+h[2],u[3]=o[3]+h[3],u[4]=o[4]+h[4],u[5]=o[5]+h[5],u[6]=o[6]+h[6],u[7]=o[7]+h[7],u[8]=o[8]+h[8],u[9]=o[9]+h[9],u[10]=o[10]+h[10],u[11]=o[11]+h[11],u[12]=o[12]+h[12],u[13]=o[13]+h[13],u[14]=o[14]+h[14],u[15]=o[15]+h[15],u},Di.subtract=Lz,Di.multiplyScalar=function(u,o,h){return u[0]=o[0]*h,u[1]=o[1]*h,u[2]=o[2]*h,u[3]=o[3]*h,u[4]=o[4]*h,u[5]=o[5]*h,u[6]=o[6]*h,u[7]=o[7]*h,u[8]=o[8]*h,u[9]=o[9]*h,u[10]=o[10]*h,u[11]=o[11]*h,u[12]=o[12]*h,u[13]=o[13]*h,u[14]=o[14]*h,u[15]=o[15]*h,u},Di.multiplyScalarAndAdd=function(u,o,h,p){return u[0]=o[0]+h[0]*p,u[1]=o[1]+h[1]*p,u[2]=o[2]+h[2]*p,u[3]=o[3]+h[3]*p,u[4]=o[4]+h[4]*p,u[5]=o[5]+h[5]*p,u[6]=o[6]+h[6]*p,u[7]=o[7]+h[7]*p,u[8]=o[8]+h[8]*p,u[9]=o[9]+h[9]*p,u[10]=o[10]+h[10]*p,u[11]=o[11]+h[11]*p,u[12]=o[12]+h[12]*p,u[13]=o[13]+h[13]*p,u[14]=o[14]+h[14]*p,u[15]=o[15]+h[15]*p,u},Di.exactEquals=function(u,o){return u[0]===o[0]&&u[1]===o[1]&&u[2]===o[2]&&u[3]===o[3]&&u[4]===o[4]&&u[5]===o[5]&&u[6]===o[6]&&u[7]===o[7]&&u[8]===o[8]&&u[9]===o[9]&&u[10]===o[10]&&u[11]===o[11]&&u[12]===o[12]&&u[13]===o[13]&&u[14]===o[14]&&u[15]===o[15]},Di.equals=function(u,o){var h=u[0],p=u[1],v=u[2],b=u[3],C=u[4],M=u[5],k=u[6],O=u[7],U=u[8],G=u[9],Z=u[10],fe=u[11],ge=u[12],xe=u[13],Ie=u[14],Oe=u[15],rt=o[0],lt=o[1],ot=o[2],Tt=o[3],yt=o[4],Dt=o[5],Gt=o[6],Xt=o[7],pn=o[8],en=o[9],Sn=o[10],Dn=o[11],yn=o[12],On=o[13],gn=o[14],Rn=o[15];return Math.abs(h-rt)<=so.EPSILON*Math.max(1,Math.abs(h),Math.abs(rt))&&Math.abs(p-lt)<=so.EPSILON*Math.max(1,Math.abs(p),Math.abs(lt))&&Math.abs(v-ot)<=so.EPSILON*Math.max(1,Math.abs(v),Math.abs(ot))&&Math.abs(b-Tt)<=so.EPSILON*Math.max(1,Math.abs(b),Math.abs(Tt))&&Math.abs(C-yt)<=so.EPSILON*Math.max(1,Math.abs(C),Math.abs(yt))&&Math.abs(M-Dt)<=so.EPSILON*Math.max(1,Math.abs(M),Math.abs(Dt))&&Math.abs(k-Gt)<=so.EPSILON*Math.max(1,Math.abs(k),Math.abs(Gt))&&Math.abs(O-Xt)<=so.EPSILON*Math.max(1,Math.abs(O),Math.abs(Xt))&&Math.abs(U-pn)<=so.EPSILON*Math.max(1,Math.abs(U),Math.abs(pn))&&Math.abs(G-en)<=so.EPSILON*Math.max(1,Math.abs(G),Math.abs(en))&&Math.abs(Z-Sn)<=so.EPSILON*Math.max(1,Math.abs(Z),Math.abs(Sn))&&Math.abs(fe-Dn)<=so.EPSILON*Math.max(1,Math.abs(fe),Math.abs(Dn))&&Math.abs(ge-yn)<=so.EPSILON*Math.max(1,Math.abs(ge),Math.abs(yn))&&Math.abs(xe-On)<=so.EPSILON*Math.max(1,Math.abs(xe),Math.abs(On))&&Math.abs(Ie-gn)<=so.EPSILON*Math.max(1,Math.abs(Ie),Math.abs(gn))&&Math.abs(Oe-Rn)<=so.EPSILON*Math.max(1,Math.abs(Oe),Math.abs(Rn))},Di.sub=Di.mul=Di.ortho=Di.perspective=void 0;var so=function(u,o){if(u&&u.__esModule)return u;if(u===null||MM(u)!=="object"&&typeof u!="function")return{default:u};var h=Cz(void 0);if(h&&h.has(u))return h.get(u);var p={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in u)if(b!=="default"&&Object.prototype.hasOwnProperty.call(u,b)){var C=v?Object.getOwnPropertyDescriptor(u,b):null;C&&(C.get||C.set)?Object.defineProperty(p,b,C):p[b]=u[b]}return p.default=u,h&&h.set(u,p),p}(gl);function Cz(u){if(typeof WeakMap!="function")return null;var o=new WeakMap,h=new WeakMap;return(Cz=function(p){return p?h:o})(u)}function Ez(u){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=1,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=1,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u}function Sz(u,o,h){var p=o[0],v=o[1],b=o[2],C=o[3],M=o[4],k=o[5],O=o[6],U=o[7],G=o[8],Z=o[9],fe=o[10],ge=o[11],xe=o[12],Ie=o[13],Oe=o[14],rt=o[15],lt=h[0],ot=h[1],Tt=h[2],yt=h[3];return u[0]=lt*p+ot*M+Tt*G+yt*xe,u[1]=lt*v+ot*k+Tt*Z+yt*Ie,u[2]=lt*b+ot*O+Tt*fe+yt*Oe,u[3]=lt*C+ot*U+Tt*ge+yt*rt,u[4]=(lt=h[4])*p+(ot=h[5])*M+(Tt=h[6])*G+(yt=h[7])*xe,u[5]=lt*v+ot*k+Tt*Z+yt*Ie,u[6]=lt*b+ot*O+Tt*fe+yt*Oe,u[7]=lt*C+ot*U+Tt*ge+yt*rt,u[8]=(lt=h[8])*p+(ot=h[9])*M+(Tt=h[10])*G+(yt=h[11])*xe,u[9]=lt*v+ot*k+Tt*Z+yt*Ie,u[10]=lt*b+ot*O+Tt*fe+yt*Oe,u[11]=lt*C+ot*U+Tt*ge+yt*rt,u[12]=(lt=h[12])*p+(ot=h[13])*M+(Tt=h[14])*G+(yt=h[15])*xe,u[13]=lt*v+ot*k+Tt*Z+yt*Ie,u[14]=lt*b+ot*O+Tt*fe+yt*Oe,u[15]=lt*C+ot*U+Tt*ge+yt*rt,u}function Tz(u,o,h){var p=o[0],v=o[1],b=o[2],C=o[3],M=p+p,k=v+v,O=b+b,U=p*M,G=p*k,Z=p*O,fe=v*k,ge=v*O,xe=b*O,Ie=C*M,Oe=C*k,rt=C*O;return u[0]=1-(fe+xe),u[1]=G+rt,u[2]=Z-Oe,u[3]=0,u[4]=G-rt,u[5]=1-(U+xe),u[6]=ge+Ie,u[7]=0,u[8]=Z+Oe,u[9]=ge-Ie,u[10]=1-(U+fe),u[11]=0,u[12]=h[0],u[13]=h[1],u[14]=h[2],u[15]=1,u}function Bz(u,o){var h=o[4],p=o[5],v=o[6],b=o[8],C=o[9],M=o[10];return u[0]=Math.hypot(o[0],o[1],o[2]),u[1]=Math.hypot(h,p,v),u[2]=Math.hypot(b,C,M),u}function Mz(u,o,h,p,v){var b,C=1/Math.tan(o/2);return u[0]=C/h,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=C,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=-1,u[12]=0,u[13]=0,u[15]=0,v!=null&&v!==1/0?(u[10]=(v+p)*(b=1/(p-v)),u[14]=2*v*p*b):(u[10]=-1,u[14]=-2*p),u}function Iz(u,o,h,p,v,b,C){var M=1/(o-h),k=1/(p-v),O=1/(b-C);return u[0]=-2*M,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=-2*k,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=2*O,u[11]=0,u[12]=(o+h)*M,u[13]=(v+p)*k,u[14]=(C+b)*O,u[15]=1,u}function Lz(u,o,h){return u[0]=o[0]-h[0],u[1]=o[1]-h[1],u[2]=o[2]-h[2],u[3]=o[3]-h[3],u[4]=o[4]-h[4],u[5]=o[5]-h[5],u[6]=o[6]-h[6],u[7]=o[7]-h[7],u[8]=o[8]-h[8],u[9]=o[9]-h[9],u[10]=o[10]-h[10],u[11]=o[11]-h[11],u[12]=o[12]-h[12],u[13]=o[13]-h[13],u[14]=o[14]-h[14],u[15]=o[15]-h[15],u}Di.perspective=Mz,Di.ortho=Iz,Di.mul=Sz,Di.sub=Lz;var Si={},ki={};function IM(u){return IM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},IM(u)}Object.defineProperty(ki,"__esModule",{value:!0}),ki.create=Fz,ki.clone=function(u){var o=new fg.ARRAY_TYPE(3);return o[0]=u[0],o[1]=u[1],o[2]=u[2],o},ki.length=kz,ki.fromValues=function(u,o,h){var p=new fg.ARRAY_TYPE(3);return p[0]=u,p[1]=o,p[2]=h,p},ki.copy=function(u,o){return u[0]=o[0],u[1]=o[1],u[2]=o[2],u},ki.set=function(u,o,h,p){return u[0]=o,u[1]=h,u[2]=p,u},ki.add=function(u,o,h){return u[0]=o[0]+h[0],u[1]=o[1]+h[1],u[2]=o[2]+h[2],u},ki.subtract=Rz,ki.multiply=Oz,ki.divide=Dz,ki.ceil=function(u,o){return u[0]=Math.ceil(o[0]),u[1]=Math.ceil(o[1]),u[2]=Math.ceil(o[2]),u},ki.floor=function(u,o){return u[0]=Math.floor(o[0]),u[1]=Math.floor(o[1]),u[2]=Math.floor(o[2]),u},ki.min=function(u,o,h){return u[0]=Math.min(o[0],h[0]),u[1]=Math.min(o[1],h[1]),u[2]=Math.min(o[2],h[2]),u},ki.max=function(u,o,h){return u[0]=Math.max(o[0],h[0]),u[1]=Math.max(o[1],h[1]),u[2]=Math.max(o[2],h[2]),u},ki.round=function(u,o){return u[0]=Math.round(o[0]),u[1]=Math.round(o[1]),u[2]=Math.round(o[2]),u},ki.scale=function(u,o,h){return u[0]=o[0]*h,u[1]=o[1]*h,u[2]=o[2]*h,u},ki.scaleAndAdd=function(u,o,h,p){return u[0]=o[0]+h[0]*p,u[1]=o[1]+h[1]*p,u[2]=o[2]+h[2]*p,u},ki.distance=Nz,ki.squaredDistance=Uz,ki.squaredLength=zz,ki.negate=function(u,o){return u[0]=-o[0],u[1]=-o[1],u[2]=-o[2],u},ki.inverse=function(u,o){return u[0]=1/o[0],u[1]=1/o[1],u[2]=1/o[2],u},ki.normalize=function(u,o){var h=o[0],p=o[1],v=o[2],b=h*h+p*p+v*v;return b>0&&(b=1/Math.sqrt(b)),u[0]=o[0]*b,u[1]=o[1]*b,u[2]=o[2]*b,u},ki.dot=$z,ki.cross=function(u,o,h){var p=o[0],v=o[1],b=o[2],C=h[0],M=h[1],k=h[2];return u[0]=v*k-b*M,u[1]=b*C-p*k,u[2]=p*M-v*C,u},ki.lerp=function(u,o,h,p){var v=o[0],b=o[1],C=o[2];return u[0]=v+p*(h[0]-v),u[1]=b+p*(h[1]-b),u[2]=C+p*(h[2]-C),u},ki.hermite=function(u,o,h,p,v,b){var C=b*b,M=C*(2*b-3)+1,k=C*(b-2)+b,O=C*(b-1),U=C*(3-2*b);return u[0]=o[0]*M+h[0]*k+p[0]*O+v[0]*U,u[1]=o[1]*M+h[1]*k+p[1]*O+v[1]*U,u[2]=o[2]*M+h[2]*k+p[2]*O+v[2]*U,u},ki.bezier=function(u,o,h,p,v,b){var C=1-b,M=C*C,k=b*b,O=M*C,U=3*b*M,G=3*k*C,Z=k*b;return u[0]=o[0]*O+h[0]*U+p[0]*G+v[0]*Z,u[1]=o[1]*O+h[1]*U+p[1]*G+v[1]*Z,u[2]=o[2]*O+h[2]*U+p[2]*G+v[2]*Z,u},ki.random=function(u,o){o=o||1;var h=2*fg.RANDOM()*Math.PI,p=2*fg.RANDOM()-1,v=Math.sqrt(1-p*p)*o;return u[0]=Math.cos(h)*v,u[1]=Math.sin(h)*v,u[2]=p*o,u},ki.transformMat4=function(u,o,h){var p=o[0],v=o[1],b=o[2],C=h[3]*p+h[7]*v+h[11]*b+h[15];return u[0]=(h[0]*p+h[4]*v+h[8]*b+h[12])/(C=C||1),u[1]=(h[1]*p+h[5]*v+h[9]*b+h[13])/C,u[2]=(h[2]*p+h[6]*v+h[10]*b+h[14])/C,u},ki.transformMat3=function(u,o,h){var p=o[0],v=o[1],b=o[2];return u[0]=p*h[0]+v*h[3]+b*h[6],u[1]=p*h[1]+v*h[4]+b*h[7],u[2]=p*h[2]+v*h[5]+b*h[8],u},ki.transformQuat=function(u,o,h){var p=h[0],v=h[1],b=h[2],C=o[0],M=o[1],k=o[2],O=v*k-b*M,U=b*C-p*k,G=p*M-v*C,Z=v*G-b*U,fe=b*O-p*G,ge=p*U-v*O,xe=2*h[3];return U*=xe,G*=xe,fe*=2,ge*=2,u[0]=C+(O*=xe)+(Z*=2),u[1]=M+U+fe,u[2]=k+G+ge,u},ki.rotateX=function(u,o,h,p){var v=[],b=[];return v[0]=o[0]-h[0],v[1]=o[1]-h[1],v[2]=o[2]-h[2],b[0]=v[0],b[1]=v[1]*Math.cos(p)-v[2]*Math.sin(p),b[2]=v[1]*Math.sin(p)+v[2]*Math.cos(p),u[0]=b[0]+h[0],u[1]=b[1]+h[1],u[2]=b[2]+h[2],u},ki.rotateY=function(u,o,h,p){var v=[],b=[];return v[0]=o[0]-h[0],v[1]=o[1]-h[1],v[2]=o[2]-h[2],b[0]=v[2]*Math.sin(p)+v[0]*Math.cos(p),b[1]=v[1],b[2]=v[2]*Math.cos(p)-v[0]*Math.sin(p),u[0]=b[0]+h[0],u[1]=b[1]+h[1],u[2]=b[2]+h[2],u},ki.rotateZ=function(u,o,h,p){var v=[],b=[];return v[0]=o[0]-h[0],v[1]=o[1]-h[1],v[2]=o[2]-h[2],b[0]=v[0]*Math.cos(p)-v[1]*Math.sin(p),b[1]=v[0]*Math.sin(p)+v[1]*Math.cos(p),b[2]=v[2],u[0]=b[0]+h[0],u[1]=b[1]+h[1],u[2]=b[2]+h[2],u},ki.angle=function(u,o){var h=u[0],p=u[1],v=u[2],b=o[0],C=o[1],M=o[2],k=Math.sqrt(h*h+p*p+v*v)*Math.sqrt(b*b+C*C+M*M),O=k&&$z(u,o)/k;return Math.acos(Math.min(Math.max(O,-1),1))},ki.zero=function(u){return u[0]=0,u[1]=0,u[2]=0,u},ki.str=function(u){return"vec3("+u[0]+", "+u[1]+", "+u[2]+")"},ki.exactEquals=function(u,o){return u[0]===o[0]&&u[1]===o[1]&&u[2]===o[2]},ki.equals=function(u,o){var h=u[0],p=u[1],v=u[2],b=o[0],C=o[1],M=o[2];return Math.abs(h-b)<=fg.EPSILON*Math.max(1,Math.abs(h),Math.abs(b))&&Math.abs(p-C)<=fg.EPSILON*Math.max(1,Math.abs(p),Math.abs(C))&&Math.abs(v-M)<=fg.EPSILON*Math.max(1,Math.abs(v),Math.abs(M))},ki.forEach=ki.sqrLen=ki.len=ki.sqrDist=ki.dist=ki.div=ki.mul=ki.sub=void 0;var fg=function(u,o){if(u&&u.__esModule)return u;if(u===null||IM(u)!=="object"&&typeof u!="function")return{default:u};var h=Pz(void 0);if(h&&h.has(u))return h.get(u);var p={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in u)if(b!=="default"&&Object.prototype.hasOwnProperty.call(u,b)){var C=v?Object.getOwnPropertyDescriptor(u,b):null;C&&(C.get||C.set)?Object.defineProperty(p,b,C):p[b]=u[b]}return p.default=u,h&&h.set(u,p),p}(gl);function Pz(u){if(typeof WeakMap!="function")return null;var o=new WeakMap,h=new WeakMap;return(Pz=function(p){return p?h:o})(u)}function Fz(){var u=new fg.ARRAY_TYPE(3);return fg.ARRAY_TYPE!=Float32Array&&(u[0]=0,u[1]=0,u[2]=0),u}function kz(u){return Math.hypot(u[0],u[1],u[2])}function Rz(u,o,h){return u[0]=o[0]-h[0],u[1]=o[1]-h[1],u[2]=o[2]-h[2],u}function Oz(u,o,h){return u[0]=o[0]*h[0],u[1]=o[1]*h[1],u[2]=o[2]*h[2],u}function Dz(u,o,h){return u[0]=o[0]/h[0],u[1]=o[1]/h[1],u[2]=o[2]/h[2],u}function Nz(u,o){return Math.hypot(o[0]-u[0],o[1]-u[1],o[2]-u[2])}function Uz(u,o){var h=o[0]-u[0],p=o[1]-u[1],v=o[2]-u[2];return h*h+p*p+v*v}function zz(u){var o=u[0],h=u[1],p=u[2];return o*o+h*h+p*p}function $z(u,o){return u[0]*o[0]+u[1]*o[1]+u[2]*o[2]}ki.sub=Rz,ki.mul=Oz,ki.div=Dz,ki.dist=Nz,ki.sqrDist=Uz,ki.len=kz,ki.sqrLen=zz;var pg,Cfe=(pg=Fz(),function(u,o,h,p,v,b){var C,M;for(o||(o=3),h||(h=0),M=p?Math.min(p*o+h,u.length):u.length,C=h;C<M;C+=o)pg[0]=u[C],pg[1]=u[C+1],pg[2]=u[C+2],v(pg,pg,b),u[C]=pg[0],u[C+1]=pg[1],u[C+2]=pg[2];return u});ki.forEach=Cfe;var Ji={};function LM(u){return LM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},LM(u)}Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.create=Hz,Ji.clone=function(u){var o=new sf.ARRAY_TYPE(4);return o[0]=u[0],o[1]=u[1],o[2]=u[2],o[3]=u[3],o},Ji.fromValues=function(u,o,h,p){var v=new sf.ARRAY_TYPE(4);return v[0]=u,v[1]=o,v[2]=h,v[3]=p,v},Ji.copy=function(u,o){return u[0]=o[0],u[1]=o[1],u[2]=o[2],u[3]=o[3],u},Ji.set=function(u,o,h,p,v){return u[0]=o,u[1]=h,u[2]=p,u[3]=v,u},Ji.add=function(u,o,h){return u[0]=o[0]+h[0],u[1]=o[1]+h[1],u[2]=o[2]+h[2],u[3]=o[3]+h[3],u},Ji.subtract=Qz,Ji.multiply=jz,Ji.divide=Gz,Ji.ceil=function(u,o){return u[0]=Math.ceil(o[0]),u[1]=Math.ceil(o[1]),u[2]=Math.ceil(o[2]),u[3]=Math.ceil(o[3]),u},Ji.floor=function(u,o){return u[0]=Math.floor(o[0]),u[1]=Math.floor(o[1]),u[2]=Math.floor(o[2]),u[3]=Math.floor(o[3]),u},Ji.min=function(u,o,h){return u[0]=Math.min(o[0],h[0]),u[1]=Math.min(o[1],h[1]),u[2]=Math.min(o[2],h[2]),u[3]=Math.min(o[3],h[3]),u},Ji.max=function(u,o,h){return u[0]=Math.max(o[0],h[0]),u[1]=Math.max(o[1],h[1]),u[2]=Math.max(o[2],h[2]),u[3]=Math.max(o[3],h[3]),u},Ji.round=function(u,o){return u[0]=Math.round(o[0]),u[1]=Math.round(o[1]),u[2]=Math.round(o[2]),u[3]=Math.round(o[3]),u},Ji.scale=function(u,o,h){return u[0]=o[0]*h,u[1]=o[1]*h,u[2]=o[2]*h,u[3]=o[3]*h,u},Ji.scaleAndAdd=function(u,o,h,p){return u[0]=o[0]+h[0]*p,u[1]=o[1]+h[1]*p,u[2]=o[2]+h[2]*p,u[3]=o[3]+h[3]*p,u},Ji.distance=Kz,Ji.squaredDistance=Wz,Ji.length=qz,Ji.squaredLength=Yz,Ji.negate=function(u,o){return u[0]=-o[0],u[1]=-o[1],u[2]=-o[2],u[3]=-o[3],u},Ji.inverse=function(u,o){return u[0]=1/o[0],u[1]=1/o[1],u[2]=1/o[2],u[3]=1/o[3],u},Ji.normalize=function(u,o){var h=o[0],p=o[1],v=o[2],b=o[3],C=h*h+p*p+v*v+b*b;return C>0&&(C=1/Math.sqrt(C)),u[0]=h*C,u[1]=p*C,u[2]=v*C,u[3]=b*C,u},Ji.dot=function(u,o){return u[0]*o[0]+u[1]*o[1]+u[2]*o[2]+u[3]*o[3]},Ji.cross=function(u,o,h,p){var v=h[0]*p[1]-h[1]*p[0],b=h[0]*p[2]-h[2]*p[0],C=h[0]*p[3]-h[3]*p[0],M=h[1]*p[2]-h[2]*p[1],k=h[1]*p[3]-h[3]*p[1],O=h[2]*p[3]-h[3]*p[2],U=o[0],G=o[1],Z=o[2],fe=o[3];return u[0]=G*O-Z*k+fe*M,u[1]=-U*O+Z*C-fe*b,u[2]=U*k-G*C+fe*v,u[3]=-U*M+G*b-Z*v,u},Ji.lerp=function(u,o,h,p){var v=o[0],b=o[1],C=o[2],M=o[3];return u[0]=v+p*(h[0]-v),u[1]=b+p*(h[1]-b),u[2]=C+p*(h[2]-C),u[3]=M+p*(h[3]-M),u},Ji.random=function(u,o){var h,p,v,b,C,M;o=o||1;do C=(h=2*sf.RANDOM()-1)*h+(p=2*sf.RANDOM()-1)*p;while(C>=1);do M=(v=2*sf.RANDOM()-1)*v+(b=2*sf.RANDOM()-1)*b;while(M>=1);var k=Math.sqrt((1-C)/M);return u[0]=o*h,u[1]=o*p,u[2]=o*v*k,u[3]=o*b*k,u},Ji.transformMat4=function(u,o,h){var p=o[0],v=o[1],b=o[2],C=o[3];return u[0]=h[0]*p+h[4]*v+h[8]*b+h[12]*C,u[1]=h[1]*p+h[5]*v+h[9]*b+h[13]*C,u[2]=h[2]*p+h[6]*v+h[10]*b+h[14]*C,u[3]=h[3]*p+h[7]*v+h[11]*b+h[15]*C,u},Ji.transformQuat=function(u,o,h){var p=o[0],v=o[1],b=o[2],C=h[0],M=h[1],k=h[2],O=h[3],U=O*p+M*b-k*v,G=O*v+k*p-C*b,Z=O*b+C*v-M*p,fe=-C*p-M*v-k*b;return u[0]=U*O+fe*-C+G*-k-Z*-M,u[1]=G*O+fe*-M+Z*-C-U*-k,u[2]=Z*O+fe*-k+U*-M-G*-C,u[3]=o[3],u},Ji.zero=function(u){return u[0]=0,u[1]=0,u[2]=0,u[3]=0,u},Ji.str=function(u){return"vec4("+u[0]+", "+u[1]+", "+u[2]+", "+u[3]+")"},Ji.exactEquals=function(u,o){return u[0]===o[0]&&u[1]===o[1]&&u[2]===o[2]&&u[3]===o[3]},Ji.equals=function(u,o){var h=u[0],p=u[1],v=u[2],b=u[3],C=o[0],M=o[1],k=o[2],O=o[3];return Math.abs(h-C)<=sf.EPSILON*Math.max(1,Math.abs(h),Math.abs(C))&&Math.abs(p-M)<=sf.EPSILON*Math.max(1,Math.abs(p),Math.abs(M))&&Math.abs(v-k)<=sf.EPSILON*Math.max(1,Math.abs(v),Math.abs(k))&&Math.abs(b-O)<=sf.EPSILON*Math.max(1,Math.abs(b),Math.abs(O))},Ji.forEach=Ji.sqrLen=Ji.len=Ji.sqrDist=Ji.dist=Ji.div=Ji.mul=Ji.sub=void 0;var sf=function(u,o){if(u&&u.__esModule)return u;if(u===null||LM(u)!=="object"&&typeof u!="function")return{default:u};var h=Vz(void 0);if(h&&h.has(u))return h.get(u);var p={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in u)if(b!=="default"&&Object.prototype.hasOwnProperty.call(u,b)){var C=v?Object.getOwnPropertyDescriptor(u,b):null;C&&(C.get||C.set)?Object.defineProperty(p,b,C):p[b]=u[b]}return p.default=u,h&&h.set(u,p),p}(gl);function Vz(u){if(typeof WeakMap!="function")return null;var o=new WeakMap,h=new WeakMap;return(Vz=function(p){return p?h:o})(u)}function Hz(){var u=new sf.ARRAY_TYPE(4);return sf.ARRAY_TYPE!=Float32Array&&(u[0]=0,u[1]=0,u[2]=0,u[3]=0),u}function Qz(u,o,h){return u[0]=o[0]-h[0],u[1]=o[1]-h[1],u[2]=o[2]-h[2],u[3]=o[3]-h[3],u}function jz(u,o,h){return u[0]=o[0]*h[0],u[1]=o[1]*h[1],u[2]=o[2]*h[2],u[3]=o[3]*h[3],u}function Gz(u,o,h){return u[0]=o[0]/h[0],u[1]=o[1]/h[1],u[2]=o[2]/h[2],u[3]=o[3]/h[3],u}function Kz(u,o){return Math.hypot(o[0]-u[0],o[1]-u[1],o[2]-u[2],o[3]-u[3])}function Wz(u,o){var h=o[0]-u[0],p=o[1]-u[1],v=o[2]-u[2],b=o[3]-u[3];return h*h+p*p+v*v+b*b}function qz(u){return Math.hypot(u[0],u[1],u[2],u[3])}function Yz(u){var o=u[0],h=u[1],p=u[2],v=u[3];return o*o+h*h+p*p+v*v}Ji.sub=Qz,Ji.mul=jz,Ji.div=Gz,Ji.dist=Kz,Ji.sqrDist=Wz,Ji.len=qz,Ji.sqrLen=Yz;var Efe=function(){var u=Hz();return function(o,h,p,v,b,C){var M,k;for(h||(h=4),p||(p=0),k=v?Math.min(v*h+p,o.length):o.length,M=p;M<k;M+=h)u[0]=o[M],u[1]=o[M+1],u[2]=o[M+2],u[3]=o[M+3],b(u,u,C),o[M]=u[0],o[M+1]=u[1],o[M+2]=u[2],o[M+3]=u[3];return o}}();function PM(u){return PM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},PM(u)}Ji.forEach=Efe,Object.defineProperty(Si,"__esModule",{value:!0}),Si.create=FM,Si.identity=function(u){return u[0]=0,u[1]=0,u[2]=0,u[3]=1,u},Si.setAxisAngle=Zz,Si.getAxisAngle=function(u,o){var h=2*Math.acos(o[3]),p=Math.sin(h/2);return p>Q1.EPSILON?(u[0]=o[0]/p,u[1]=o[1]/p,u[2]=o[2]/p):(u[0]=1,u[1]=0,u[2]=0),h},Si.getAngle=function(u,o){var h=i$(u,o);return Math.acos(2*h*h-1)},Si.multiply=Jz,Si.rotateX=function(u,o,h){h*=.5;var p=o[0],v=o[1],b=o[2],C=o[3],M=Math.sin(h),k=Math.cos(h);return u[0]=p*k+C*M,u[1]=v*k+b*M,u[2]=b*k-v*M,u[3]=C*k-p*M,u},Si.rotateY=function(u,o,h){h*=.5;var p=o[0],v=o[1],b=o[2],C=o[3],M=Math.sin(h),k=Math.cos(h);return u[0]=p*k-b*M,u[1]=v*k+C*M,u[2]=b*k+p*M,u[3]=C*k-v*M,u},Si.rotateZ=function(u,o,h){h*=.5;var p=o[0],v=o[1],b=o[2],C=o[3],M=Math.sin(h),k=Math.cos(h);return u[0]=p*k+v*M,u[1]=v*k-p*M,u[2]=b*k+C*M,u[3]=C*k-b*M,u},Si.calculateW=function(u,o){var h=o[0],p=o[1],v=o[2];return u[0]=h,u[1]=p,u[2]=v,u[3]=Math.sqrt(Math.abs(1-h*h-p*p-v*v)),u},Si.exp=e$,Si.ln=t$,Si.pow=function(u,o,h){return t$(u,o),r$(u,u,h),e$(u,u),u},Si.slerp=I5,Si.random=function(u){var o=Q1.RANDOM(),h=Q1.RANDOM(),p=Q1.RANDOM(),v=Math.sqrt(1-o),b=Math.sqrt(o);return u[0]=v*Math.sin(2*Math.PI*h),u[1]=v*Math.cos(2*Math.PI*h),u[2]=b*Math.sin(2*Math.PI*p),u[3]=b*Math.cos(2*Math.PI*p),u},Si.invert=function(u,o){var h=o[0],p=o[1],v=o[2],b=o[3],C=h*h+p*p+v*v+b*b,M=C?1/C:0;return u[0]=-h*M,u[1]=-p*M,u[2]=-v*M,u[3]=b*M,u},Si.conjugate=function(u,o){return u[0]=-o[0],u[1]=-o[1],u[2]=-o[2],u[3]=o[3],u},Si.fromMat3=n$,Si.fromEuler=function(u,o,h,p){var v=.5*Math.PI/180;o*=v,h*=v,p*=v;var b=Math.sin(o),C=Math.cos(o),M=Math.sin(h),k=Math.cos(h),O=Math.sin(p),U=Math.cos(p);return u[0]=b*k*U-C*M*O,u[1]=C*M*U+b*k*O,u[2]=C*k*O-b*M*U,u[3]=C*k*U+b*M*O,u},Si.str=function(u){return"quat("+u[0]+", "+u[1]+", "+u[2]+", "+u[3]+")"},Si.setAxes=Si.sqlerp=Si.rotationTo=Si.equals=Si.exactEquals=Si.normalize=Si.sqrLen=Si.squaredLength=Si.len=Si.length=Si.lerp=Si.dot=Si.scale=Si.mul=Si.add=Si.set=Si.copy=Si.fromValues=Si.clone=void 0;var Q1=M5(gl),Sfe=M5(qa),Ag=M5(ki),bd=M5(Ji);function Xz(u){if(typeof WeakMap!="function")return null;var o=new WeakMap,h=new WeakMap;return(Xz=function(p){return p?h:o})(u)}function M5(u,o){if(u&&u.__esModule)return u;if(u===null||PM(u)!=="object"&&typeof u!="function")return{default:u};var h=Xz(o);if(h&&h.has(u))return h.get(u);var p={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in u)if(b!=="default"&&Object.prototype.hasOwnProperty.call(u,b)){var C=v?Object.getOwnPropertyDescriptor(u,b):null;C&&(C.get||C.set)?Object.defineProperty(p,b,C):p[b]=u[b]}return p.default=u,h&&h.set(u,p),p}function FM(){var u=new Q1.ARRAY_TYPE(4);return Q1.ARRAY_TYPE!=Float32Array&&(u[0]=0,u[1]=0,u[2]=0),u[3]=1,u}function Zz(u,o,h){h*=.5;var p=Math.sin(h);return u[0]=p*o[0],u[1]=p*o[1],u[2]=p*o[2],u[3]=Math.cos(h),u}function Jz(u,o,h){var p=o[0],v=o[1],b=o[2],C=o[3],M=h[0],k=h[1],O=h[2],U=h[3];return u[0]=p*U+C*M+v*O-b*k,u[1]=v*U+C*k+b*M-p*O,u[2]=b*U+C*O+p*k-v*M,u[3]=C*U-p*M-v*k-b*O,u}function e$(u,o){var h=o[0],p=o[1],v=o[2],b=o[3],C=Math.sqrt(h*h+p*p+v*v),M=Math.exp(b),k=C>0?M*Math.sin(C)/C:0;return u[0]=h*k,u[1]=p*k,u[2]=v*k,u[3]=M*Math.cos(C),u}function t$(u,o){var h=o[0],p=o[1],v=o[2],b=o[3],C=Math.sqrt(h*h+p*p+v*v),M=C>0?Math.atan2(C,b)/C:0;return u[0]=h*M,u[1]=p*M,u[2]=v*M,u[3]=.5*Math.log(h*h+p*p+v*v+b*b),u}function I5(u,o,h,p){var v,b,C,M,k,O=o[0],U=o[1],G=o[2],Z=o[3],fe=h[0],ge=h[1],xe=h[2],Ie=h[3];return(b=O*fe+U*ge+G*xe+Z*Ie)<0&&(b=-b,fe=-fe,ge=-ge,xe=-xe,Ie=-Ie),1-b>Q1.EPSILON?(v=Math.acos(b),C=Math.sin(v),M=Math.sin((1-p)*v)/C,k=Math.sin(p*v)/C):(M=1-p,k=p),u[0]=M*O+k*fe,u[1]=M*U+k*ge,u[2]=M*G+k*xe,u[3]=M*Z+k*Ie,u}function n$(u,o){var h,p=o[0]+o[4]+o[8];if(p>0)h=Math.sqrt(p+1),u[3]=.5*h,u[0]=(o[5]-o[7])*(h=.5/h),u[1]=(o[6]-o[2])*h,u[2]=(o[1]-o[3])*h;else{var v=0;o[4]>o[0]&&(v=1),o[8]>o[3*v+v]&&(v=2);var b=(v+1)%3,C=(v+2)%3;h=Math.sqrt(o[3*v+v]-o[3*b+b]-o[3*C+C]+1),u[v]=.5*h,u[3]=(o[3*b+C]-o[3*C+b])*(h=.5/h),u[b]=(o[3*b+v]+o[3*v+b])*h,u[C]=(o[3*C+v]+o[3*v+C])*h}return u}Si.clone=bd.clone,Si.fromValues=bd.fromValues,Si.copy=bd.copy,Si.set=bd.set,Si.add=bd.add,Si.mul=Jz;var r$=bd.scale;Si.scale=r$;var i$=bd.dot;Si.dot=i$,Si.lerp=bd.lerp;var a$=bd.length;Si.length=a$,Si.len=a$;var s$=bd.squaredLength;Si.squaredLength=s$,Si.sqrLen=s$;var kM=bd.normalize;Si.normalize=kM,Si.exactEquals=bd.exactEquals,Si.equals=bd.equals;var fp,o$,l$,Tfe=(fp=Ag.create(),o$=Ag.fromValues(1,0,0),l$=Ag.fromValues(0,1,0),function(u,o,h){var p=Ag.dot(o,h);return p<-.999999?(Ag.cross(fp,o$,o),Ag.len(fp)<1e-6&&Ag.cross(fp,l$,o),Ag.normalize(fp,fp),Zz(u,fp,Math.PI),u):p>.999999?(u[0]=0,u[1]=0,u[2]=0,u[3]=1,u):(Ag.cross(fp,o,h),u[0]=fp[0],u[1]=fp[1],u[2]=fp[2],u[3]=1+p,kM(u,u))});Si.rotationTo=Tfe;var RM,OM,Bfe=(RM=FM(),OM=FM(),function(u,o,h,p,v,b){return I5(RM,o,v,b),I5(OM,h,p,b),I5(u,RM,OM,2*b*(1-b)),u});Si.sqlerp=Bfe;var pp,Mfe=(pp=Sfe.create(),function(u,o,h,p){return pp[0]=h[0],pp[3]=h[1],pp[6]=h[2],pp[1]=p[0],pp[4]=p[1],pp[7]=p[2],pp[2]=-o[0],pp[5]=-o[1],pp[8]=-o[2],kM(u,n$(u,pp))});Si.setAxes=Mfe;var sa={};function DM(u){return DM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},DM(u)}Object.defineProperty(sa,"__esModule",{value:!0}),sa.create=function(){var u=new Kc.ARRAY_TYPE(8);return Kc.ARRAY_TYPE!=Float32Array&&(u[0]=0,u[1]=0,u[2]=0,u[4]=0,u[5]=0,u[6]=0,u[7]=0),u[3]=1,u},sa.clone=function(u){var o=new Kc.ARRAY_TYPE(8);return o[0]=u[0],o[1]=u[1],o[2]=u[2],o[3]=u[3],o[4]=u[4],o[5]=u[5],o[6]=u[6],o[7]=u[7],o},sa.fromValues=function(u,o,h,p,v,b,C,M){var k=new Kc.ARRAY_TYPE(8);return k[0]=u,k[1]=o,k[2]=h,k[3]=p,k[4]=v,k[5]=b,k[6]=C,k[7]=M,k},sa.fromRotationTranslationValues=function(u,o,h,p,v,b,C){var M=new Kc.ARRAY_TYPE(8);M[0]=u,M[1]=o,M[2]=h,M[3]=p;var k=.5*v,O=.5*b,U=.5*C;return M[4]=k*p+O*h-U*o,M[5]=O*p+U*u-k*h,M[6]=U*p+k*o-O*u,M[7]=-k*u-O*o-U*h,M},sa.fromRotationTranslation=h$,sa.fromTranslation=function(u,o){return u[0]=0,u[1]=0,u[2]=0,u[3]=1,u[4]=.5*o[0],u[5]=.5*o[1],u[6]=.5*o[2],u[7]=0,u},sa.fromRotation=function(u,o){return u[0]=o[0],u[1]=o[1],u[2]=o[2],u[3]=o[3],u[4]=0,u[5]=0,u[6]=0,u[7]=0,u},sa.fromMat4=function(u,o){var h=mg.create();u$.getRotation(h,o);var p=new Kc.ARRAY_TYPE(3);return u$.getTranslation(p,o),h$(u,h,p),u},sa.copy=d$,sa.identity=function(u){return u[0]=0,u[1]=0,u[2]=0,u[3]=1,u[4]=0,u[5]=0,u[6]=0,u[7]=0,u},sa.set=function(u,o,h,p,v,b,C,M,k){return u[0]=o,u[1]=h,u[2]=p,u[3]=v,u[4]=b,u[5]=C,u[6]=M,u[7]=k,u},sa.getDual=function(u,o){return u[0]=o[4],u[1]=o[5],u[2]=o[6],u[3]=o[7],u},sa.setDual=function(u,o){return u[4]=o[0],u[5]=o[1],u[6]=o[2],u[7]=o[3],u},sa.getTranslation=function(u,o){var h=o[4],p=o[5],v=o[6],b=o[7],C=-o[0],M=-o[1],k=-o[2],O=o[3];return u[0]=2*(h*O+b*C+p*k-v*M),u[1]=2*(p*O+b*M+v*C-h*k),u[2]=2*(v*O+b*k+h*M-p*C),u},sa.translate=function(u,o,h){var p=o[0],v=o[1],b=o[2],C=o[3],M=.5*h[0],k=.5*h[1],O=.5*h[2],U=o[4],G=o[5],Z=o[6],fe=o[7];return u[0]=p,u[1]=v,u[2]=b,u[3]=C,u[4]=C*M+v*O-b*k+U,u[5]=C*k+b*M-p*O+G,u[6]=C*O+p*k-v*M+Z,u[7]=-p*M-v*k-b*O+fe,u},sa.rotateX=function(u,o,h){var p=-o[0],v=-o[1],b=-o[2],C=o[3],M=o[4],k=o[5],O=o[6],U=o[7],G=M*C+U*p+k*b-O*v,Z=k*C+U*v+O*p-M*b,fe=O*C+U*b+M*v-k*p,ge=U*C-M*p-k*v-O*b;return mg.rotateX(u,o,h),u[4]=G*(C=u[3])+ge*(p=u[0])+Z*(b=u[2])-fe*(v=u[1]),u[5]=Z*C+ge*v+fe*p-G*b,u[6]=fe*C+ge*b+G*v-Z*p,u[7]=ge*C-G*p-Z*v-fe*b,u},sa.rotateY=function(u,o,h){var p=-o[0],v=-o[1],b=-o[2],C=o[3],M=o[4],k=o[5],O=o[6],U=o[7],G=M*C+U*p+k*b-O*v,Z=k*C+U*v+O*p-M*b,fe=O*C+U*b+M*v-k*p,ge=U*C-M*p-k*v-O*b;return mg.rotateY(u,o,h),u[4]=G*(C=u[3])+ge*(p=u[0])+Z*(b=u[2])-fe*(v=u[1]),u[5]=Z*C+ge*v+fe*p-G*b,u[6]=fe*C+ge*b+G*v-Z*p,u[7]=ge*C-G*p-Z*v-fe*b,u},sa.rotateZ=function(u,o,h){var p=-o[0],v=-o[1],b=-o[2],C=o[3],M=o[4],k=o[5],O=o[6],U=o[7],G=M*C+U*p+k*b-O*v,Z=k*C+U*v+O*p-M*b,fe=O*C+U*b+M*v-k*p,ge=U*C-M*p-k*v-O*b;return mg.rotateZ(u,o,h),u[4]=G*(C=u[3])+ge*(p=u[0])+Z*(b=u[2])-fe*(v=u[1]),u[5]=Z*C+ge*v+fe*p-G*b,u[6]=fe*C+ge*b+G*v-Z*p,u[7]=ge*C-G*p-Z*v-fe*b,u},sa.rotateByQuatAppend=function(u,o,h){var p=h[0],v=h[1],b=h[2],C=h[3],M=o[0],k=o[1],O=o[2],U=o[3];return u[0]=M*C+U*p+k*b-O*v,u[1]=k*C+U*v+O*p-M*b,u[2]=O*C+U*b+M*v-k*p,u[3]=U*C-M*p-k*v-O*b,u[4]=(M=o[4])*C+(U=o[7])*p+(k=o[5])*b-(O=o[6])*v,u[5]=k*C+U*v+O*p-M*b,u[6]=O*C+U*b+M*v-k*p,u[7]=U*C-M*p-k*v-O*b,u},sa.rotateByQuatPrepend=function(u,o,h){var p=o[0],v=o[1],b=o[2],C=o[3],M=h[0],k=h[1],O=h[2],U=h[3];return u[0]=p*U+C*M+v*O-b*k,u[1]=v*U+C*k+b*M-p*O,u[2]=b*U+C*O+p*k-v*M,u[3]=C*U-p*M-v*k-b*O,u[4]=p*(U=h[7])+C*(M=h[4])+v*(O=h[6])-b*(k=h[5]),u[5]=v*U+C*k+b*M-p*O,u[6]=b*U+C*O+p*k-v*M,u[7]=C*U-p*M-v*k-b*O,u},sa.rotateAroundAxis=function(u,o,h,p){if(Math.abs(p)<Kc.EPSILON)return d$(u,o);var v=Math.hypot(h[0],h[1],h[2]);p*=.5;var b=Math.sin(p),C=b*h[0]/v,M=b*h[1]/v,k=b*h[2]/v,O=Math.cos(p),U=o[0],G=o[1],Z=o[2],fe=o[3];u[0]=U*O+fe*C+G*k-Z*M,u[1]=G*O+fe*M+Z*C-U*k,u[2]=Z*O+fe*k+U*M-G*C,u[3]=fe*O-U*C-G*M-Z*k;var ge=o[4],xe=o[5],Ie=o[6],Oe=o[7];return u[4]=ge*O+Oe*C+xe*k-Ie*M,u[5]=xe*O+Oe*M+Ie*C-ge*k,u[6]=Ie*O+Oe*k+ge*M-xe*C,u[7]=Oe*O-ge*C-xe*M-Ie*k,u},sa.add=function(u,o,h){return u[0]=o[0]+h[0],u[1]=o[1]+h[1],u[2]=o[2]+h[2],u[3]=o[3]+h[3],u[4]=o[4]+h[4],u[5]=o[5]+h[5],u[6]=o[6]+h[6],u[7]=o[7]+h[7],u},sa.multiply=f$,sa.scale=function(u,o,h){return u[0]=o[0]*h,u[1]=o[1]*h,u[2]=o[2]*h,u[3]=o[3]*h,u[4]=o[4]*h,u[5]=o[5]*h,u[6]=o[6]*h,u[7]=o[7]*h,u},sa.lerp=function(u,o,h,p){var v=1-p;return p$(o,h)<0&&(p=-p),u[0]=o[0]*v+h[0]*p,u[1]=o[1]*v+h[1]*p,u[2]=o[2]*v+h[2]*p,u[3]=o[3]*v+h[3]*p,u[4]=o[4]*v+h[4]*p,u[5]=o[5]*v+h[5]*p,u[6]=o[6]*v+h[6]*p,u[7]=o[7]*v+h[7]*p,u},sa.invert=function(u,o){var h=L5(o);return u[0]=-o[0]/h,u[1]=-o[1]/h,u[2]=-o[2]/h,u[3]=o[3]/h,u[4]=-o[4]/h,u[5]=-o[5]/h,u[6]=-o[6]/h,u[7]=o[7]/h,u},sa.conjugate=function(u,o){return u[0]=-o[0],u[1]=-o[1],u[2]=-o[2],u[3]=o[3],u[4]=-o[4],u[5]=-o[5],u[6]=-o[6],u[7]=o[7],u},sa.normalize=function(u,o){var h=L5(o);if(h>0){h=Math.sqrt(h);var p=o[0]/h,v=o[1]/h,b=o[2]/h,C=o[3]/h,M=o[4],k=o[5],O=o[6],U=o[7],G=p*M+v*k+b*O+C*U;u[0]=p,u[1]=v,u[2]=b,u[3]=C,u[4]=(M-p*G)/h,u[5]=(k-v*G)/h,u[6]=(O-b*G)/h,u[7]=(U-C*G)/h}return u},sa.str=function(u){return"quat2("+u[0]+", "+u[1]+", "+u[2]+", "+u[3]+", "+u[4]+", "+u[5]+", "+u[6]+", "+u[7]+")"},sa.exactEquals=function(u,o){return u[0]===o[0]&&u[1]===o[1]&&u[2]===o[2]&&u[3]===o[3]&&u[4]===o[4]&&u[5]===o[5]&&u[6]===o[6]&&u[7]===o[7]},sa.equals=function(u,o){var h=u[0],p=u[1],v=u[2],b=u[3],C=u[4],M=u[5],k=u[6],O=u[7],U=o[0],G=o[1],Z=o[2],fe=o[3],ge=o[4],xe=o[5],Ie=o[6],Oe=o[7];return Math.abs(h-U)<=Kc.EPSILON*Math.max(1,Math.abs(h),Math.abs(U))&&Math.abs(p-G)<=Kc.EPSILON*Math.max(1,Math.abs(p),Math.abs(G))&&Math.abs(v-Z)<=Kc.EPSILON*Math.max(1,Math.abs(v),Math.abs(Z))&&Math.abs(b-fe)<=Kc.EPSILON*Math.max(1,Math.abs(b),Math.abs(fe))&&Math.abs(C-ge)<=Kc.EPSILON*Math.max(1,Math.abs(C),Math.abs(ge))&&Math.abs(M-xe)<=Kc.EPSILON*Math.max(1,Math.abs(M),Math.abs(xe))&&Math.abs(k-Ie)<=Kc.EPSILON*Math.max(1,Math.abs(k),Math.abs(Ie))&&Math.abs(O-Oe)<=Kc.EPSILON*Math.max(1,Math.abs(O),Math.abs(Oe))},sa.sqrLen=sa.squaredLength=sa.len=sa.length=sa.dot=sa.mul=sa.setReal=sa.getReal=void 0;var Kc=NM(gl),mg=NM(Si),u$=NM(Di);function c$(u){if(typeof WeakMap!="function")return null;var o=new WeakMap,h=new WeakMap;return(c$=function(p){return p?h:o})(u)}function NM(u,o){if(u&&u.__esModule)return u;if(u===null||DM(u)!=="object"&&typeof u!="function")return{default:u};var h=c$(o);if(h&&h.has(u))return h.get(u);var p={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in u)if(b!=="default"&&Object.prototype.hasOwnProperty.call(u,b)){var C=v?Object.getOwnPropertyDescriptor(u,b):null;C&&(C.get||C.set)?Object.defineProperty(p,b,C):p[b]=u[b]}return p.default=u,h&&h.set(u,p),p}function h$(u,o,h){var p=.5*h[0],v=.5*h[1],b=.5*h[2],C=o[0],M=o[1],k=o[2],O=o[3];return u[0]=C,u[1]=M,u[2]=k,u[3]=O,u[4]=p*O+v*k-b*M,u[5]=v*O+b*C-p*k,u[6]=b*O+p*M-v*C,u[7]=-p*C-v*M-b*k,u}function d$(u,o){return u[0]=o[0],u[1]=o[1],u[2]=o[2],u[3]=o[3],u[4]=o[4],u[5]=o[5],u[6]=o[6],u[7]=o[7],u}function f$(u,o,h){var p=o[0],v=o[1],b=o[2],C=o[3],M=h[4],k=h[5],O=h[6],U=h[7],G=o[4],Z=o[5],fe=o[6],ge=o[7],xe=h[0],Ie=h[1],Oe=h[2],rt=h[3];return u[0]=p*rt+C*xe+v*Oe-b*Ie,u[1]=v*rt+C*Ie+b*xe-p*Oe,u[2]=b*rt+C*Oe+p*Ie-v*xe,u[3]=C*rt-p*xe-v*Ie-b*Oe,u[4]=p*U+C*M+v*O-b*k+G*rt+ge*xe+Z*Oe-fe*Ie,u[5]=v*U+C*k+b*M-p*O+Z*rt+ge*Ie+fe*xe-G*Oe,u[6]=b*U+C*O+p*k-v*M+fe*rt+ge*Oe+G*Ie-Z*xe,u[7]=C*U-p*M-v*k-b*O+ge*rt-G*xe-Z*Ie-fe*Oe,u}sa.getReal=mg.copy,sa.setReal=mg.copy,sa.mul=f$;var p$=mg.dot;sa.dot=p$;var A$=mg.length;sa.length=A$,sa.len=A$;var L5=mg.squaredLength;sa.squaredLength=L5,sa.sqrLen=L5;var Gi={};function UM(u){return UM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},UM(u)}Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.create=g$,Gi.clone=function(u){var o=new j1.ARRAY_TYPE(2);return o[0]=u[0],o[1]=u[1],o},Gi.fromValues=function(u,o){var h=new j1.ARRAY_TYPE(2);return h[0]=u,h[1]=o,h},Gi.copy=function(u,o){return u[0]=o[0],u[1]=o[1],u},Gi.set=function(u,o,h){return u[0]=o,u[1]=h,u},Gi.add=function(u,o,h){return u[0]=o[0]+h[0],u[1]=o[1]+h[1],u},Gi.subtract=v$,Gi.multiply=_$,Gi.divide=y$,Gi.ceil=function(u,o){return u[0]=Math.ceil(o[0]),u[1]=Math.ceil(o[1]),u},Gi.floor=function(u,o){return u[0]=Math.floor(o[0]),u[1]=Math.floor(o[1]),u},Gi.min=function(u,o,h){return u[0]=Math.min(o[0],h[0]),u[1]=Math.min(o[1],h[1]),u},Gi.max=function(u,o,h){return u[0]=Math.max(o[0],h[0]),u[1]=Math.max(o[1],h[1]),u},Gi.round=function(u,o){return u[0]=Math.round(o[0]),u[1]=Math.round(o[1]),u},Gi.scale=function(u,o,h){return u[0]=o[0]*h,u[1]=o[1]*h,u},Gi.scaleAndAdd=function(u,o,h,p){return u[0]=o[0]+h[0]*p,u[1]=o[1]+h[1]*p,u},Gi.distance=b$,Gi.squaredDistance=w$,Gi.length=x$,Gi.squaredLength=C$,Gi.negate=function(u,o){return u[0]=-o[0],u[1]=-o[1],u},Gi.inverse=function(u,o){return u[0]=1/o[0],u[1]=1/o[1],u},Gi.normalize=function(u,o){var h=o[0],p=o[1],v=h*h+p*p;return v>0&&(v=1/Math.sqrt(v)),u[0]=o[0]*v,u[1]=o[1]*v,u},Gi.dot=function(u,o){return u[0]*o[0]+u[1]*o[1]},Gi.cross=function(u,o,h){var p=o[0]*h[1]-o[1]*h[0];return u[0]=u[1]=0,u[2]=p,u},Gi.lerp=function(u,o,h,p){var v=o[0],b=o[1];return u[0]=v+p*(h[0]-v),u[1]=b+p*(h[1]-b),u},Gi.random=function(u,o){o=o||1;var h=2*j1.RANDOM()*Math.PI;return u[0]=Math.cos(h)*o,u[1]=Math.sin(h)*o,u},Gi.transformMat2=function(u,o,h){var p=o[0],v=o[1];return u[0]=h[0]*p+h[2]*v,u[1]=h[1]*p+h[3]*v,u},Gi.transformMat2d=function(u,o,h){var p=o[0],v=o[1];return u[0]=h[0]*p+h[2]*v+h[4],u[1]=h[1]*p+h[3]*v+h[5],u},Gi.transformMat3=function(u,o,h){var p=o[0],v=o[1];return u[0]=h[0]*p+h[3]*v+h[6],u[1]=h[1]*p+h[4]*v+h[7],u},Gi.transformMat4=function(u,o,h){var p=o[0],v=o[1];return u[0]=h[0]*p+h[4]*v+h[12],u[1]=h[1]*p+h[5]*v+h[13],u},Gi.rotate=function(u,o,h,p){var v=o[0]-h[0],b=o[1]-h[1],C=Math.sin(p),M=Math.cos(p);return u[0]=v*M-b*C+h[0],u[1]=v*C+b*M+h[1],u},Gi.angle=function(u,o){var h=u[0],p=u[1],v=o[0],b=o[1],C=Math.sqrt(h*h+p*p)*Math.sqrt(v*v+b*b);return Math.acos(Math.min(Math.max(C&&(h*v+p*b)/C,-1),1))},Gi.zero=function(u){return u[0]=0,u[1]=0,u},Gi.str=function(u){return"vec2("+u[0]+", "+u[1]+")"},Gi.exactEquals=function(u,o){return u[0]===o[0]&&u[1]===o[1]},Gi.equals=function(u,o){var h=u[0],p=u[1],v=o[0],b=o[1];return Math.abs(h-v)<=j1.EPSILON*Math.max(1,Math.abs(h),Math.abs(v))&&Math.abs(p-b)<=j1.EPSILON*Math.max(1,Math.abs(p),Math.abs(b))},Gi.forEach=Gi.sqrLen=Gi.sqrDist=Gi.dist=Gi.div=Gi.mul=Gi.sub=Gi.len=void 0;var j1=function(u,o){if(u&&u.__esModule)return u;if(u===null||UM(u)!=="object"&&typeof u!="function")return{default:u};var h=m$(void 0);if(h&&h.has(u))return h.get(u);var p={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in u)if(b!=="default"&&Object.prototype.hasOwnProperty.call(u,b)){var C=v?Object.getOwnPropertyDescriptor(u,b):null;C&&(C.get||C.set)?Object.defineProperty(p,b,C):p[b]=u[b]}return p.default=u,h&&h.set(u,p),p}(gl);function m$(u){if(typeof WeakMap!="function")return null;var o=new WeakMap,h=new WeakMap;return(m$=function(p){return p?h:o})(u)}function g$(){var u=new j1.ARRAY_TYPE(2);return j1.ARRAY_TYPE!=Float32Array&&(u[0]=0,u[1]=0),u}function v$(u,o,h){return u[0]=o[0]-h[0],u[1]=o[1]-h[1],u}function _$(u,o,h){return u[0]=o[0]*h[0],u[1]=o[1]*h[1],u}function y$(u,o,h){return u[0]=o[0]/h[0],u[1]=o[1]/h[1],u}function b$(u,o){return Math.hypot(o[0]-u[0],o[1]-u[1])}function w$(u,o){var h=o[0]-u[0],p=o[1]-u[1];return h*h+p*p}function x$(u){return Math.hypot(u[0],u[1])}function C$(u){var o=u[0],h=u[1];return o*o+h*h}Gi.len=x$,Gi.sub=v$,Gi.mul=_$,Gi.div=y$,Gi.dist=b$,Gi.sqrDist=w$,Gi.sqrLen=C$;var Ife=function(){var u=g$();return function(o,h,p,v,b,C){var M,k;for(h||(h=2),p||(p=0),k=v?Math.min(v*h+p,o.length):o.length,M=p;M<k;M+=h)u[0]=o[M],u[1]=o[M+1],b(u,u,C),o[M]=u[0],o[M+1]=u[1];return o}}();function zM(u){return zM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},zM(u)}Gi.forEach=Ife,Object.defineProperty(ml,"__esModule",{value:!0}),a.a7=ml.vec4=a.N=ml.vec3=ml.vec2=ml.quat2=a.bi=ml.quat=a.a6=ml.mat4=a.co=ml.mat3=ml.mat2d=a.b4=ml.mat2=ml.glMatrix=void 0;var Lfe=FA(gl);ml.glMatrix=Lfe;var Pfe=FA(Ls);a.b4=ml.mat2=Pfe;var Ffe=FA($s);ml.mat2d=Ffe;var kfe=FA(qa);a.co=ml.mat3=kfe;var Rfe=FA(Di);a.a6=ml.mat4=Rfe;var Ofe=FA(Si);a.bi=ml.quat=Ofe;var Dfe=FA(sa);ml.quat2=Dfe;var Nfe=FA(Gi);ml.vec2=Nfe;var Ufe=FA(ki);a.N=ml.vec3=Ufe;var zfe=FA(Ji);function E$(u){if(typeof WeakMap!="function")return null;var o=new WeakMap,h=new WeakMap;return(E$=function(p){return p?h:o})(u)}function FA(u,o){if(u&&u.__esModule)return u;if(u===null||zM(u)!=="object"&&typeof u!="function")return{default:u};var h=E$(o);if(h&&h.has(u))return h.get(u);var p={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in u)if(b!=="default"&&Object.prototype.hasOwnProperty.call(u,b)){var C=v?Object.getOwnPropertyDescriptor(u,b):null;C&&(C.get||C.set)?Object.defineProperty(p,b,C):p[b]=u[b]}return p.default=u,h&&h.set(u,p),p}a.a7=ml.vec4=zfe;class $M{constructor(o,h){this.pos=o,this.dir=h}intersectsPlane(o,h,p){const v=a.N.dot(h,this.dir);if(Math.abs(v)<1e-6)return!1;const b=((o[0]-this.pos[0])*h[0]+(o[1]-this.pos[1])*h[1]+(o[2]-this.pos[2])*h[2])/v;return p[0]=this.pos[0]+this.dir[0]*b,p[1]=this.pos[1]+this.dir[1]*b,p[2]=this.pos[2]+this.dir[2]*b,!0}closestPointOnSphere(o,h,p){if(a.N.equals(this.pos,o)||h===0)return p[0]=p[1]=p[2]=0,!1;const[v,b,C]=this.dir,M=this.pos[0]-o[0],k=this.pos[1]-o[1],O=this.pos[2]-o[2],U=v*v+b*b+C*C,G=2*(M*v+k*b+O*C),Z=G*G-4*U*(M*M+k*k+O*O-h*h);if(Z<0){const fe=Math.max(-G/2,0),ge=M+v*fe,xe=k+b*fe,Ie=O+C*fe,Oe=Math.hypot(ge,xe,Ie);return p[0]=ge*h/Oe,p[1]=xe*h/Oe,p[2]=Ie*h/Oe,!1}{const fe=(-G-Math.sqrt(Z))/(2*U);if(fe<0){const ge=Math.hypot(M,k,O);return p[0]=M*h/ge,p[1]=k*h/ge,p[2]=O*h/ge,!1}return p[0]=M+v*fe,p[1]=k+b*fe,p[2]=O+C*fe,!0}}}class VM{constructor(o,h,p,v,b){this.TL=o,this.TR=h,this.BR=p,this.BL=v,this.horizon=b}static fromInvProjectionMatrix(o,h,p){const v=[-1,1,1],b=[1,1,1],C=[1,-1,1],M=[-1,-1,1],k=a.N.transformMat4(v,v,o),O=a.N.transformMat4(b,b,o),U=a.N.transformMat4(C,C,o),G=a.N.transformMat4(M,M,o);return new VM(k,O,U,G,h/p)}}function ax(u,o,h){let p=1/0,v=-1/0;const b=[];for(const C of u){a.N.sub(b,C,o);const M=a.N.dot(b,h);p=Math.min(p,M),v=Math.max(v,M)}return[p,v]}function S$(u,o){let h=!0;for(let p=0;p<u.planes.length;p++){const v=u.planes[p];let b=0;for(let C=0;C<o.length;C++)b+=a.N.dot(v,o[C])+v[3]>=0;if(b===0)return 0;b!==o.length&&(h=!1)}return h?2:1}function T$(u,o){for(const h of u.projections){const p=ax(o,u.points[0],h.axis);if(h.projection[1]<p[0]||h.projection[0]>p[1])return 0}return 1}function B$(u,o){let h=0;const p=[0,0,0,0];for(let v=0;v<u.length;v++)p[0]=u[v][0],p[1]=u[v][1],p[2]=u[v][2],p[3]=1,a.a7.dot(p,o)>=0&&h++;return h}class HM{constructor(o,h){this.points=o||new Array(8).fill([0,0,0]),this.planes=h||new Array(6).fill([0,0,0,0]),this.bounds=Vs.fromPoints(this.points),this.projections=[],this.frustumEdges=[a.N.sub([],this.points[2],this.points[3]),a.N.sub([],this.points[0],this.points[3]),a.N.sub([],this.points[4],this.points[0]),a.N.sub([],this.points[5],this.points[1]),a.N.sub([],this.points[6],this.points[2]),a.N.sub([],this.points[7],this.points[3])];for(const p of this.frustumEdges){const v=[0,-p[2],p[1]],b=[p[2],0,-p[0]];this.projections.push({axis:v,projection:ax(this.points,this.points[0],v)}),this.projections.push({axis:b,projection:ax(this.points,this.points[0],b)})}}static fromInvProjectionMatrix(o,h,p,v){const b=Math.pow(2,p),C=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(O=>{const U=a.a7.transformMat4([],O,o),G=1/U[3]/h*b;return a.a7.mul(U,U,[G,G,v?1/U[3]:G,G])}),M=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(O=>{const U=a.N.sub([],C[O[0]],C[O[1]]),G=a.N.sub([],C[O[2]],C[O[1]]),Z=a.N.normalize([],a.N.cross([],U,G)),fe=-a.N.dot(Z,C[O[1]]);return Z.concat(fe)}),k=[];for(let O=0;O<C.length;O++)k.push([C[O][0],C[O][1],C[O][2]]);return new HM(k,M)}intersectsPrecise(o,h,p){for(let v=0;v<h.length;v++)if(!B$(o,h[v]))return 0;for(let v=0;v<this.planes.length;v++)if(!B$(o,this.planes[v]))return 0;for(const v of p)for(const b of this.frustumEdges){const C=a.N.cross([],v,b),M=a.N.length(C);if(M===0)continue;a.N.scale(C,C,1/M);const k=ax(this.points,this.points[0],C),O=ax(o,this.points[0],C);if(k[0]>O[1]||O[0]>k[1])return 0}return 1}}class Vs{static fromPoints(o){const h=[1/0,1/0,1/0],p=[-1/0,-1/0,-1/0];for(const v of o)a.N.min(h,h,v),a.N.max(p,p,v);return new Vs(h,p)}static fromTileIdAndHeight(o,h,p){const v=1<<o.canonical.z,b=o.canonical.x,C=o.canonical.y;return new Vs([b/v,C/v,h],[(b+1)/v,(C+1)/v,p])}static applyTransform(o,h){const p=o.getCorners();for(let v=0;v<p.length;++v)a.N.transformMat4(p[v],p[v],h);return Vs.fromPoints(p)}static projectAabbCorners(o,h){const p=o.getCorners();for(let v=0;v<p.length;++v)a.N.transformMat4(p[v],p[v],h);return p}constructor(o,h){this.min=o,this.max=h,this.center=a.N.scale([],a.N.add([],this.min,this.max),.5)}quadrant(o){const h=[o%2==0,o<2],p=a.N.clone(this.min),v=a.N.clone(this.max);for(let b=0;b<h.length;b++)p[b]=h[b]?this.min[b]:this.center[b],v[b]=h[b]?this.center[b]:this.max[b];return v[2]=this.max[2],new Vs(p,v)}distanceX(o){return Math.max(Math.min(this.max[0],o[0]),this.min[0])-o[0]}distanceY(o){return Math.max(Math.min(this.max[1],o[1]),this.min[1])-o[1]}distanceZ(o){return Math.max(Math.min(this.max[2],o[2]),this.min[2])-o[2]}getCorners(){const o=this.min,h=this.max;return[[o[0],o[1],o[2]],[h[0],o[1],o[2]],[h[0],h[1],o[2]],[o[0],h[1],o[2]],[o[0],o[1],h[2]],[h[0],o[1],h[2]],[h[0],h[1],h[2]],[o[0],h[1],h[2]]]}intersects(o){return this.intersectsAabb(o.bounds)?S$(o,this.getCorners()):0}intersectsFlat(o){return this.intersectsAabb(o.bounds)?S$(o,[[this.min[0],this.min[1],0],[this.max[0],this.min[1],0],[this.max[0],this.max[1],0],[this.min[0],this.max[1],0]]):0}intersectsPrecise(o,h){return h||this.intersects(o)?T$(o,this.getCorners()):0}intersectsPreciseFlat(o,h){return h||this.intersectsFlat(o)?T$(o,[[this.min[0],this.min[1],0],[this.max[0],this.min[1],0],[this.max[0],this.max[1],0],[this.min[0],this.max[1],0]]):0}intersectsAabb(o){for(let h=0;h<3;++h)if(this.min[h]>o.max[h]||o.min[h]>this.max[h])return!1;return!0}intersectsAabbXY(o){return!(this.min[0]>o.max[0]||o.min[0]>this.max[0]||this.min[1]>o.max[1]||o.min[1]>this.max[1])}encapsulate(o){for(let h=0;h<3;h++)this.min[h]=Math.min(this.min[h],o.min[h]),this.max[h]=Math.max(this.max[h],o.max[h])}encapsulatePoint(o){for(let h=0;h<3;h++)this.min[h]=Math.min(this.min[h],o[h]),this.max[h]=Math.max(this.max[h],o[h])}closestPoint(o){return[Math.max(Math.min(this.max[0],o[0]),this.min[0]),Math.max(Math.min(this.max[1],o[1]),this.min[1]),Math.max(Math.min(this.max[2],o[2]),this.min[2])]}}ze(Vs,"Aabb");const $fe=Sa([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:P5}=$fe,Vfe=Sa([{name:"a_pos_3",components:3,type:"Int16"}]);var M$=Sa([{name:"a_pos",type:"Int16",components:2}]);function F5(u){return u*st/_n}const Hfe=[new Vs([Qt,Qt,Qt],[fn,fn,fn]),new Vs([Qt,Qt,Qt],[0,0,fn]),new Vs([0,Qt,Qt],[fn,0,fn]),new Vs([Qt,0,Qt],[0,fn,fn]),new Vs([0,0,Qt],[fn,fn,fn])];function I$(u,o,h,p=!0){const v=a.N.scale([],u._camera.position,u.worldSize),b=[o,h,1,1];a.a7.transformMat4(b,b,u.pixelMatrixInverse),a.a7.scale(b,b,1/b[3]);const C=a.N.sub([],b,v),M=a.N.normalize([],C),k=u.globeMatrix,O=[k[12],k[13],k[14]],U=a.N.sub([],O,v),G=a.N.length(U),Z=a.N.normalize([],U),fe=u.worldSize/(2*Math.PI),ge=a.N.dot(Z,M),xe=Math.asin(fe/G);if(xe<Math.acos(ge)){if(!p)return null;const en=[],Sn=[];a.N.scale(en,M,G/ge),a.N.normalize(Sn,a.N.sub(Sn,en,U)),a.N.normalize(M,a.N.add(M,U,a.N.scale(M,Sn,Math.tan(xe)*G)))}const Ie=[];new $M(v,M).closestPointOnSphere(O,fe,Ie);const Oe=a.N.normalize([],We(k,0)),rt=a.N.normalize([],We(k,1)),lt=a.N.normalize([],We(k,2)),ot=a.N.dot(Oe,Ie),Tt=a.N.dot(rt,Ie),yt=a.N.dot(lt,Ie),Dt=ee(Math.asin(-Tt/fe));let Gt=ee(Math.atan2(ot,yt));Gt=u.center.lng+function(en,Sn){const Dn=(Sn-en+180)%360-180;return Dn<-180?Dn+360:Dn}(u.center.lng,Gt);const Xt=Fi(Gt),pn=he(hi(Dt),0,1);return new pa(Xt,pn)}class Qfe{constructor(o,h,p){this.a=a.N.sub([],o,p),this.b=a.N.sub([],h,p),this.center=p;const v=a.N.normalize([],this.a),b=a.N.normalize([],this.b);this.angle=Math.acos(a.N.dot(v,b))}}function QM(u,o){if(u.angle===0)return null;let h;return h=u.a[o]===0?1/u.angle*.5*Math.PI:1/u.angle*Math.atan(u.b[o]/u.a[o]/Math.sin(u.angle)-1/Math.tan(u.angle)),h<0||h>1?null:function(p,v,b,C){const M=Math.sin(b);return p*(Math.sin((1-C)*b)/M)+v*(Math.sin(C*b)/M)}(u.a[o],u.b[o],u.angle,he(h,0,1))+u.center[o]}function kA(u){if(u.z<=1)return Hfe[u.z+2*u.y+u.x];const o=jM(k5(u));return Vs.fromPoints(o)}function gg(u,o,h){return a.N.scale(u,u,1-h),a.N.scaleAndAdd(u,u,o,h)}function L$(u,o,h){for(const p of u)a.N.transformMat4(p,p,o),a.N.scale(p,p,h)}function P$(u,o,h,p){const v=o/u.worldSize,b=u.globeMatrix;if(h.z<=1){const Xt=kA(h).getCorners();return L$(Xt,b,v),Vs.fromPoints(Xt)}const C=k5(h,p),M=jM(C,st+F5(u._tileCoverLift));L$(M,b,v);const k=Number.MAX_VALUE,O=[-k,-k,-k],U=[k,k,k];if(C.contains(u.center)){for(const en of M)a.N.min(U,U,en),a.N.max(O,O,en);O[2]=0;const Xt=u.point,pn=[Xt.x*v,Xt.y*v,0];return a.N.min(U,U,pn),a.N.max(O,O,pn),new Vs(U,O)}if(u._tileCoverLift>0){for(const Xt of M)a.N.min(U,U,Xt),a.N.max(O,O,Xt);return new Vs(U,O)}const G=[b[12]*v,b[13]*v,b[14]*v],Z=C.getCenter(),fe=he(u.center.lat,-Wi,Wi),ge=he(Z.lat,-Wi,Wi),xe=Fi(u.center.lng),Ie=hi(fe);let Oe=xe-Fi(Z.lng);const rt=Ie-hi(ge);Oe>.5?Oe-=1:Oe<-.5&&(Oe+=1);let lt=0;if(Math.abs(Oe)>Math.abs(rt))lt=Oe>=0?1:3;else{lt=rt>=0?0:2;const Xt=[b[4]*v,b[5]*v,b[6]*v],pn=-Math.sin(W(rt>=0?C.getSouth():C.getNorth()))*st;a.N.scaleAndAdd(G,G,Xt,pn)}const ot=M[lt],Tt=M[(lt+1)%4],yt=new Qfe(ot,Tt,G),Dt=[QM(yt,0)||ot[0],QM(yt,1)||ot[1],QM(yt,2)||ot[2]],Gt=F0(u.zoom);if(Gt>0){const Xt=function({x:en,y:Sn,z:Dn},yn,On,gn,Rn){const cr=1/(1<<Dn);let Un=en*cr,Br=Un+cr,yr=Sn*cr,qn=yr+cr,ni=0;const Ur=(Un+Br)/2-gn;return Ur>.5?ni=-1:Ur<-.5&&(ni=1),Un=((Un+ni)*yn-(gn*=yn))*On+gn,Br=((Br+ni)*yn-gn)*On+gn,yr=(yr*yn-(Rn*=yn))*On+Rn,qn=(qn*yn-Rn)*On+Rn,[[Un,qn,0],[Br,qn,0],[Br,yr,0],[Un,yr,0]]}(h,o,u._pixelsPerMercatorPixel,xe,Ie);for(let en=0;en<M.length;en++)gg(M[en],Xt[en],Gt);const pn=a.N.add([],Xt[lt],Xt[(lt+1)%4]);a.N.scale(pn,pn,.5),gg(Dt,pn,Gt)}for(const Xt of M)a.N.min(U,U,Xt),a.N.max(O,O,Xt);return U[2]=Math.min(ot[2],Tt[2]),a.N.min(U,U,Dt),a.N.max(O,O,Dt),new Vs(U,O)}function k5({x:u,y:o,z:h},p=!1){const v=1/(1<<h),b=new Yt(bi(u*v),o===(1<<h)-1&&p?-90:na((o+1)*v)),C=new Yt(bi((u+1)*v),o===0&&p?90:na(o*v));return new mn(b,C)}function jM(u,o=st){const h=W(u.getNorth()),p=W(u.getSouth()),v=Math.cos(h),b=Math.cos(p),C=Math.sin(h),M=Math.sin(p),k=u.getWest(),O=u.getEast();return[Wt(b,M,k,o),Wt(b,M,O,o),Wt(v,C,O,o),Wt(v,C,k,o)]}function sx(u,o,h,p){const v=1<<h.z,b=(u/zn+h.x)/v;return xn(na((o/zn+h.y)/v),bi(b),p)}function R5({min:u,max:o}){return mt/Math.max(o[0]-u[0],o[1]-u[1],o[2]-u[2])}const F$=new Float64Array(16);function O5(u){const o=R5(u),h=a.a6.fromScaling(F$,[o,o,o]);return a.a6.translate(h,h,a.N.negate([],u.min))}function GM(u){const o=a.a6.fromTranslation(F$,u.min),h=1/R5(u);return a.a6.scale(o,o,[h,h,h])}function KM(u){const o=zn/(2*Math.PI);return u/(2*Math.PI)/o}function k$(u,o){return zn/(512*Math.pow(2,u))*R5(kA(o))}function R$(u,o,h,p,v){const b=KM(h),C=[u,o,-h/(2*Math.PI)],M=a.a6.identity(new Float64Array(16));return a.a6.translate(M,M,C),a.a6.scale(M,M,[b,b,b]),a.a6.rotateX(M,M,W(-v)),a.a6.rotateY(M,M,W(-p)),M}function F0(u){return ce(At,qe,u)}function O$(u,o){const h=xn(o.lat,o.lng),p=function(b){const C=xn(b._center.lat,b._center.lng),M=a.N.fromValues(0,1,0);let k=a.N.cross([],M,C);const O=a.a6.fromRotation([],-b.angle,C);k=a.N.transformMat4(k,k,O),a.a6.fromRotation(O,-b._pitch,k);const U=a.N.normalize([],C);return a.N.scale(U,U,F5(b.cameraToCenterDistance/b.pixelsPerMeter)),a.N.transformMat4(U,U,O),a.N.add([],C,U)}(u),v=a.N.subtract([],p,h);return a.N.angle(v,h)}function WM(u,o){return O$(u,o)>Math.PI/2*1.01}const D$=W(85),jfe=Math.cos(D$),Gfe=Math.sin(D$),Kfe=a.a6.create(),N$=u=>{const o=[];return u.paint.get("circle-pitch-alignment")==="map"&&o.push("PITCH_WITH_MAP"),u.paint.get("circle-pitch-scale")==="map"&&o.push("SCALE_WITH_MAP"),o};function U$(u,o,h,p,v,b,C,M,k){if(b&&u.queryGeometry.isAboveHorizon)return!1;b&&(k*=u.pixelToTileUnitsFactor);const O=u.tileID.canonical,U=h.projection.upVectorScale(O,h.center.lat,h.worldSize).metersToTile;for(const G of o)for(const Z of G){const fe=Z.add(M),ge=v&&h.elevation?h.elevation.exaggeration()*v.getElevationAt(fe.x,fe.y,!0):0,xe=h.projection.projectTilePoint(fe.x,fe.y,O);if(ge>0){const lt=h.projection.upVector(O,fe.x,fe.y);xe.x+=lt[0]*U*ge,xe.y+=lt[1]*U*ge,xe.z+=lt[2]*U*ge}const Ie=b?fe:Wfe(xe.x,xe.y,xe.z,p),Oe=b?u.tilespaceRays.map(lt=>Yfe(lt,ge)):u.queryGeometry.screenGeometry,rt=a.a7.transformMat4([],[xe.x,xe.y,xe.z,1],p);if(!C&&b?k*=rt[3]/h.cameraToCenterDistance:C&&!b&&(k*=h.cameraToCenterDistance/rt[3]),b){const lt=na((Z.y/zn+O.y)/(1<<O.z));k/=h.projection.pixelsPerMeter(lt,1)/Ci(1,lt)}if(LA(Oe,Ie,k))return!0}return!1}function Wfe(u,o,h,p){const v=a.a7.transformMat4([],[u,o,h,1],p);return new K(v[0]/v[3],v[1]/v[3])}const z$=a.N.fromValues(0,0,0),qfe=a.N.fromValues(0,0,1);function Yfe(u,o){const h=a.N.create();return z$[2]=o,u.intersectsPlane(z$,qfe,h),new K(h[0],h[1])}class $$ extends Ac{}function V$(u,{width:o,height:h},p,v){if(v){if(v instanceof Uint8ClampedArray)v=new Uint8Array(v.buffer);else if(v.length!==o*h*p)throw new RangeError("mismatched image size")}else v=new Uint8Array(o*h*p);return u.width=o,u.height=h,u.data=v,u}function H$(u,o,h){const{width:p,height:v}=o;p===u.width&&v===u.height||(qM(u,o,{x:0,y:0},{x:0,y:0},{width:Math.min(u.width,p),height:Math.min(u.height,v)},h),u.width=p,u.height=v,u.data=o.data)}function qM(u,o,h,p,v,b,C){if(v.width===0||v.height===0)return o;if(v.width>u.width||v.height>u.height||h.x>u.width-v.width||h.y>u.height-v.height)throw new RangeError("out of range source coordinates for image copy");if(v.width>o.width||v.height>o.height||p.x>o.width-v.width||p.y>o.height-v.height)throw new RangeError("out of range destination coordinates for image copy");const M=u.data,k=o.data,O=b===4&&C;for(let U=0;U<v.height;U++){const G=((h.y+U)*u.width+h.x)*b,Z=((p.y+U)*o.width+p.x)*b;if(O)for(let fe=0;fe<v.width;fe++){const ge=G+fe*b+3,xe=Z+fe*b;k[xe+0]=255,k[xe+1]=255,k[xe+2]=255,k[xe+3]=M[ge]}else for(let fe=0;fe<v.width*b;fe++)k[Z+fe]=M[G+fe]}return o}ze($$,"HeatmapBucket",{omit:["layers"]});class k0{constructor(o,h){V$(this,o,1,h)}resize(o){H$(this,new k0(o),1)}clone(){return new k0({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(o,h,p,v,b){qM(o,h,p,v,b,1)}}class wd{constructor(o,h){V$(this,o,4,h)}resize(o){H$(this,new wd(o),4)}replace(o,h){h?this.data.set(o):this.data=o instanceof Uint8ClampedArray?new Uint8Array(o.buffer):o}clone(){return new wd({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(o,h,p,v,b,C){qM(o,h,p,v,b,4,C)}}class Q${constructor(o,h){this.width=o.width,this.height=o.height,this.data=h instanceof Uint8Array?new Float32Array(h.buffer):h}}ze(k0,"AlphaImage"),ze(wd,"RGBAImage");const Xfe=new Ia({visibility:new jn(rn.layout_heatmap.visibility)});var Zfe={paint:new Ia({"heatmap-radius":new Cr(rn.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Cr(rn.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new jn(rn.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Bo(rn.paint_heatmap["heatmap-color"]),"heatmap-opacity":new jn(rn.paint_heatmap["heatmap-opacity"])}),layout:Xfe};function ox(u){const o={},h=u.resolution||256,p=u.clips?u.clips.length:1,v=u.image||new wd({width:h,height:p}),b=(C,M,k)=>{o[u.evaluationKey]=k;const O=u.expression.evaluate(o);O&&(v.data[C+M+0]=Math.floor(255*O.r/O.a),v.data[C+M+1]=Math.floor(255*O.g/O.a),v.data[C+M+2]=Math.floor(255*O.b/O.a),v.data[C+M+3]=Math.floor(255*O.a))};if(u.clips)for(let C=0,M=0;C<p;++C,M+=4*h)for(let k=0,O=0;k<h;k++,O+=4){const U=k/(h-1),{start:G,end:Z}=u.clips[C];b(M,O,G*(1-U)+Z*U)}else for(let C=0,M=0;C<h;C++,M+=4)b(0,M,C/(h-1));return v}const Jfe=new Ia({visibility:new jn(rn.layout_hillshade.visibility)});var epe={paint:new Ia({"hillshade-illumination-direction":new jn(rn.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new jn(rn.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new jn(rn.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new jn(rn.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new jn(rn.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new jn(rn.paint_hillshade["hillshade-accent-color"]),"hillshade-emissive-strength":new jn(rn.paint_hillshade["hillshade-emissive-strength"])}),layout:Jfe};const tpe=Sa([{name:"a_pos",components:2,type:"Int16"}],4),{members:npe}=tpe;var YM={exports:{}};function D5(u,o,h){h=h||2;var p,v,b,C,M,k,O,U=o&&o.length,G=U?o[0]*h:u.length,Z=j$(u,0,G,h,!0),fe=[];if(!Z||Z.next===Z.prev)return fe;if(U&&(Z=function(xe,Ie,Oe,rt){var lt,ot,Tt,yt=[];for(lt=0,ot=Ie.length;lt<ot;lt++)(Tt=j$(xe,Ie[lt]*rt,lt<ot-1?Ie[lt+1]*rt:xe.length,rt,!1))===Tt.next&&(Tt.steiner=!0),yt.push(cpe(Tt));for(yt.sort(ope),lt=0;lt<yt.length;lt++)Oe=lpe(yt[lt],Oe);return Oe}(u,o,Z,h)),u.length>80*h){p=b=u[0],v=C=u[1];for(var ge=h;ge<G;ge+=h)(M=u[ge])<p&&(p=M),(k=u[ge+1])<v&&(v=k),M>b&&(b=M),k>C&&(C=k);O=(O=Math.max(b-p,C-v))!==0?32767/O:0}return lx(Z,fe,h,p,v,O,0),fe}function j$(u,o,h,p,v){var b,C;if(v===JM(u,o,h,p)>0)for(b=o;b<h;b+=p)C=W$(b,u[b],u[b+1],C);else for(b=h-p;b>=o;b-=p)C=W$(b,u[b],u[b+1],C);return C&&N5(C,C.next)&&(cx(C),C=C.next),C}function G1(u,o){if(!u)return u;o||(o=u);var h,p=u;do if(h=!1,p.steiner||!N5(p,p.next)&&Vo(p.prev,p,p.next)!==0)p=p.next;else{if(cx(p),(p=o=p.prev)===p.next)break;h=!0}while(h||p!==o);return o}function lx(u,o,h,p,v,b,C){if(u){!C&&b&&function(U,G,Z,fe){var ge=U;do ge.z===0&&(ge.z=XM(ge.x,ge.y,G,Z,fe)),ge.prevZ=ge.prev,ge.nextZ=ge.next,ge=ge.next;while(ge!==U);ge.prevZ.nextZ=null,ge.prevZ=null,function(xe){var Ie,Oe,rt,lt,ot,Tt,yt,Dt,Gt=1;do{for(Oe=xe,xe=null,ot=null,Tt=0;Oe;){for(Tt++,rt=Oe,yt=0,Ie=0;Ie<Gt&&(yt++,rt=rt.nextZ);Ie++);for(Dt=Gt;yt>0||Dt>0&&rt;)yt!==0&&(Dt===0||!rt||Oe.z<=rt.z)?(lt=Oe,Oe=Oe.nextZ,yt--):(lt=rt,rt=rt.nextZ,Dt--),ot?ot.nextZ=lt:xe=lt,lt.prevZ=ot,ot=lt;Oe=rt}ot.nextZ=null,Gt*=2}while(Tt>1)}(ge)}(u,p,v,b);for(var M,k,O=u;u.prev!==u.next;)if(M=u.prev,k=u.next,b?ipe(u,p,v,b):rpe(u))o.push(M.i/h|0),o.push(u.i/h|0),o.push(k.i/h|0),cx(u),u=k.next,O=k.next;else if((u=k)===O){C?C===1?lx(u=ape(G1(u),o,h),o,h,p,v,b,2):C===2&&spe(u,o,h,p,v,b):lx(G1(u),o,h,p,v,b,1);break}}}function rpe(u){var o=u.prev,h=u,p=u.next;if(Vo(o,h,p)>=0)return!1;for(var v=o.x,b=h.x,C=p.x,M=o.y,k=h.y,O=p.y,U=v<b?v<C?v:C:b<C?b:C,G=M<k?M<O?M:O:k<O?k:O,Z=v>b?v>C?v:C:b>C?b:C,fe=M>k?M>O?M:O:k>O?k:O,ge=p.next;ge!==o;){if(ge.x>=U&&ge.x<=Z&&ge.y>=G&&ge.y<=fe&&qy(v,M,b,k,C,O,ge.x,ge.y)&&Vo(ge.prev,ge,ge.next)>=0)return!1;ge=ge.next}return!0}function ipe(u,o,h,p){var v=u.prev,b=u,C=u.next;if(Vo(v,b,C)>=0)return!1;for(var M=v.x,k=b.x,O=C.x,U=v.y,G=b.y,Z=C.y,fe=M<k?M<O?M:O:k<O?k:O,ge=U<G?U<Z?U:Z:G<Z?G:Z,xe=M>k?M>O?M:O:k>O?k:O,Ie=U>G?U>Z?U:Z:G>Z?G:Z,Oe=XM(fe,ge,o,h,p),rt=XM(xe,Ie,o,h,p),lt=u.prevZ,ot=u.nextZ;lt&&lt.z>=Oe&&ot&&ot.z<=rt;){if(lt.x>=fe&&lt.x<=xe&&lt.y>=ge&&lt.y<=Ie&&lt!==v&&lt!==C&&qy(M,U,k,G,O,Z,lt.x,lt.y)&&Vo(lt.prev,lt,lt.next)>=0||(lt=lt.prevZ,ot.x>=fe&&ot.x<=xe&&ot.y>=ge&&ot.y<=Ie&&ot!==v&&ot!==C&&qy(M,U,k,G,O,Z,ot.x,ot.y)&&Vo(ot.prev,ot,ot.next)>=0))return!1;ot=ot.nextZ}for(;lt&&lt.z>=Oe;){if(lt.x>=fe&&lt.x<=xe&&lt.y>=ge&&lt.y<=Ie&&lt!==v&&lt!==C&&qy(M,U,k,G,O,Z,lt.x,lt.y)&&Vo(lt.prev,lt,lt.next)>=0)return!1;lt=lt.prevZ}for(;ot&&ot.z<=rt;){if(ot.x>=fe&&ot.x<=xe&&ot.y>=ge&&ot.y<=Ie&&ot!==v&&ot!==C&&qy(M,U,k,G,O,Z,ot.x,ot.y)&&Vo(ot.prev,ot,ot.next)>=0)return!1;ot=ot.nextZ}return!0}function ape(u,o,h){var p=u;do{var v=p.prev,b=p.next.next;!N5(v,b)&&G$(v,p,p.next,b)&&ux(v,b)&&ux(b,v)&&(o.push(v.i/h|0),o.push(p.i/h|0),o.push(b.i/h|0),cx(p),cx(p.next),p=u=b),p=p.next}while(p!==u);return G1(p)}function spe(u,o,h,p,v,b){var C=u;do{for(var M=C.next.next;M!==C.prev;){if(C.i!==M.i&&hpe(C,M)){var k=K$(C,M);return C=G1(C,C.next),k=G1(k,k.next),lx(C,o,h,p,v,b,0),void lx(k,o,h,p,v,b,0)}M=M.next}C=C.next}while(C!==u)}function ope(u,o){return u.x-o.x}function lpe(u,o){var h=function(v,b){var C,M=b,k=v.x,O=v.y,U=-1/0;do{if(O<=M.y&&O>=M.next.y&&M.next.y!==M.y){var G=M.x+(O-M.y)*(M.next.x-M.x)/(M.next.y-M.y);if(G<=k&&G>U&&(U=G,C=M.x<M.next.x?M:M.next,G===k))return C}M=M.next}while(M!==b);if(!C)return null;var Z,fe=C,ge=C.x,xe=C.y,Ie=1/0;M=C;do k>=M.x&&M.x>=ge&&k!==M.x&&qy(O<xe?k:U,O,ge,xe,O<xe?U:k,O,M.x,M.y)&&(Z=Math.abs(O-M.y)/(k-M.x),ux(M,v)&&(Z<Ie||Z===Ie&&(M.x>C.x||M.x===C.x&&upe(C,M)))&&(C=M,Ie=Z)),M=M.next;while(M!==fe);return C}(u,o);if(!h)return o;var p=K$(h,u);return G1(p,p.next),G1(h,h.next)}function upe(u,o){return Vo(u.prev,u,o.prev)<0&&Vo(o.next,u,u.next)<0}function XM(u,o,h,p,v){return(u=1431655765&((u=858993459&((u=252645135&((u=16711935&((u=(u-h)*v|0)|u<<8))|u<<4))|u<<2))|u<<1))|(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o=(o-p)*v|0)|o<<8))|o<<4))|o<<2))|o<<1))<<1}function cpe(u){var o=u,h=u;do(o.x<h.x||o.x===h.x&&o.y<h.y)&&(h=o),o=o.next;while(o!==u);return h}function qy(u,o,h,p,v,b,C,M){return(v-C)*(o-M)>=(u-C)*(b-M)&&(u-C)*(p-M)>=(h-C)*(o-M)&&(h-C)*(b-M)>=(v-C)*(p-M)}function hpe(u,o){return u.next.i!==o.i&&u.prev.i!==o.i&&!function(h,p){var v=h;do{if(v.i!==h.i&&v.next.i!==h.i&&v.i!==p.i&&v.next.i!==p.i&&G$(v,v.next,h,p))return!0;v=v.next}while(v!==h);return!1}(u,o)&&(ux(u,o)&&ux(o,u)&&function(h,p){var v=h,b=!1,C=(h.x+p.x)/2,M=(h.y+p.y)/2;do v.y>M!=v.next.y>M&&v.next.y!==v.y&&C<(v.next.x-v.x)*(M-v.y)/(v.next.y-v.y)+v.x&&(b=!b),v=v.next;while(v!==h);return b}(u,o)&&(Vo(u.prev,u,o.prev)||Vo(u,o.prev,o))||N5(u,o)&&Vo(u.prev,u,u.next)>0&&Vo(o.prev,o,o.next)>0)}function Vo(u,o,h){return(o.y-u.y)*(h.x-o.x)-(o.x-u.x)*(h.y-o.y)}function N5(u,o){return u.x===o.x&&u.y===o.y}function G$(u,o,h,p){var v=z5(Vo(u,o,h)),b=z5(Vo(u,o,p)),C=z5(Vo(h,p,u)),M=z5(Vo(h,p,o));return v!==b&&C!==M||!(v!==0||!U5(u,h,o))||!(b!==0||!U5(u,p,o))||!(C!==0||!U5(h,u,p))||!(M!==0||!U5(h,o,p))}function U5(u,o,h){return o.x<=Math.max(u.x,h.x)&&o.x>=Math.min(u.x,h.x)&&o.y<=Math.max(u.y,h.y)&&o.y>=Math.min(u.y,h.y)}function z5(u){return u>0?1:u<0?-1:0}function ux(u,o){return Vo(u.prev,u,u.next)<0?Vo(u,o,u.next)>=0&&Vo(u,u.prev,o)>=0:Vo(u,o,u.prev)<0||Vo(u,u.next,o)<0}function K$(u,o){var h=new ZM(u.i,u.x,u.y),p=new ZM(o.i,o.x,o.y),v=u.next,b=o.prev;return u.next=o,o.prev=u,h.next=v,v.prev=h,p.next=h,h.prev=p,b.next=p,p.prev=b,p}function W$(u,o,h,p){var v=new ZM(u,o,h);return p?(v.next=p.next,v.prev=p,p.next.prev=v,p.next=v):(v.prev=v,v.next=v),v}function cx(u){u.next.prev=u.prev,u.prev.next=u.next,u.prevZ&&(u.prevZ.nextZ=u.nextZ),u.nextZ&&(u.nextZ.prevZ=u.prevZ)}function ZM(u,o,h){this.i=u,this.x=o,this.y=h,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function JM(u,o,h,p){for(var v=0,b=o,C=h-p;b<h;b+=p)v+=(u[C]-u[b])*(u[b+1]+u[C+1]),C=b;return v}YM.exports=D5,YM.exports.default=D5,D5.deviation=function(u,o,h,p){var v=o&&o.length,b=Math.abs(JM(u,0,v?o[0]*h:u.length,h));if(v)for(var C=0,M=o.length;C<M;C++)b-=Math.abs(JM(u,o[C]*h,C<M-1?o[C+1]*h:u.length,h));var k=0;for(C=0;C<p.length;C+=3){var O=p[C]*h,U=p[C+1]*h,G=p[C+2]*h;k+=Math.abs((u[O]-u[G])*(u[U+1]-u[O+1])-(u[O]-u[U])*(u[G+1]-u[O+1]))}return b===0&&k===0?0:Math.abs((k-b)/b)},D5.flatten=function(u){for(var o=u[0][0].length,h={vertices:[],holes:[],dimensions:o},p=0,v=0;v<u.length;v++){for(var b=0;b<u[v].length;b++)for(var C=0;C<o;C++)h.vertices.push(u[v][b][C]);v>0&&h.holes.push(p+=u[v-1].length)}return h};var $5=R(YM.exports);function eI(u,o){const h=u.length;if(h<=1)return[u];const p=[];let v,b;for(let C=0;C<h;C++){const M=je(u[C]);M!==0&&(u[C].area=Math.abs(M),b===void 0&&(b=M<0),b===M<0?(v&&p.push(v),v=[u[C]]):v.push(u[C]))}if(v&&p.push(v),o>1)for(let C=0;C<p.length;C++)p[C].length<=o||(b1(p[C],o,1,p[C].length-1,dpe),p[C]=p[C].slice(0,o));return p}function dpe(u,o){return o.area-u.area}function tI(u,o,h){const p=h.patternDependencies;let v=!1;for(const b of o){const C=b.paint.get(`${u}-pattern`);C.isConstant()||(v=!0);const M=C.constantOr(null);M&&(v=!0,p[M]=!0)}return v}function nI(u,o,h,p,v){const b=v.patternDependencies;for(const C of o){const M=C.paint.get(`${u}-pattern`).value;if(M.kind!=="constant"){let k=M.evaluate({zoom:p},h,{},v.availableImages);k=k&&k.name?k.name:k,b[k]=!0,h.patterns[C.id]=k}}return h}class rI{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(h=>h.fqid),this.index=o.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new qu,this.indexArray=new ws,this.indexArray2=new Gc,this.programConfigurations=new He(o.layers,o.zoom),this.segments=new Xs,this.segments2=new Xs,this.stateDependentLayerIds=this.layers.filter(h=>h.isStateDependent()).map(h=>h.id),this.projection=o.projection}populate(o,h,p,v){this.hasPattern=tI("fill",this.layers,h);const b=this.layers[0].layout.get("fill-sort-key"),C=[];for(const{feature:M,id:k,index:O,sourceLayerIndex:U}of o){const G=this.layers[0]._featureFilter.needGeometry,Z=No(M,G);if(!this.layers[0]._featureFilter.filter(new Pi(this.zoom),Z,p))continue;const fe=b?b.evaluate(Z,{},p,h.availableImages):void 0,ge={id:k,properties:M.properties,type:M.type,sourceLayerIndex:U,index:O,geometry:G?Z.geometry:al(M,p,v),patterns:{},sortKey:fe};C.push(ge)}b&&C.sort((M,k)=>M.sortKey-k.sortKey);for(const M of C){const{geometry:k,index:O,sourceLayerIndex:U}=M;if(this.hasPattern){const G=nI("fill",this.layers,M,this.zoom,h);this.patternFeatures.push(G)}else this.addFeature(M,k,O,p,{},h.availableImages,h.brightness);h.featureIndex.insert(o[O].feature,k,O,U,this.index)}}update(o,h,p,v,b){const C=Object.keys(o).length!==0;C&&!this.stateDependentLayers.length||this.programConfigurations.updatePaintArrays(o,h,C?this.stateDependentLayers:this.layers,p,v,b)}addFeatures(o,h,p,v,b,C){for(const M of this.patternFeatures)this.addFeature(M,M.geometry,M.index,h,p,v,C)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,npe),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.indexBuffer2=o.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(o,h,p,v,b,C=[],M){for(const k of eI(h,500)){let O=0;for(const xe of k)O+=xe.length;const U=this.segments.prepareSegment(O,this.layoutVertexArray,this.indexArray),G=U.vertexLength,Z=[],fe=[];for(const xe of k){if(xe.length===0)continue;xe!==k[0]&&fe.push(Z.length/2);const Ie=this.segments2.prepareSegment(xe.length,this.layoutVertexArray,this.indexArray2),Oe=Ie.vertexLength;this.layoutVertexArray.emplaceBack(xe[0].x,xe[0].y),this.indexArray2.emplaceBack(Oe+xe.length-1,Oe),Z.push(xe[0].x),Z.push(xe[0].y);for(let rt=1;rt<xe.length;rt++)this.layoutVertexArray.emplaceBack(xe[rt].x,xe[rt].y),this.indexArray2.emplaceBack(Oe+rt-1,Oe+rt),Z.push(xe[rt].x),Z.push(xe[rt].y);Ie.vertexLength+=xe.length,Ie.primitiveLength+=xe.length}const ge=$5(Z,fe);for(let xe=0;xe<ge.length;xe+=3)this.indexArray.emplaceBack(G+ge[xe],G+ge[xe+1],G+ge[xe+2]);U.vertexLength+=O,U.primitiveLength+=ge.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,p,b,C,v,M)}}ze(rI,"FillBucket",{omit:["layers","patternFeatures"]});const fpe=new Ia({"fill-sort-key":new Cr(rn.layout_fill["fill-sort-key"]),visibility:new jn(rn.layout_fill.visibility)});var ppe={paint:new Ia({"fill-antialias":new jn(rn.paint_fill["fill-antialias"]),"fill-opacity":new Cr(rn.paint_fill["fill-opacity"]),"fill-color":new Cr(rn.paint_fill["fill-color"]),"fill-outline-color":new Cr(rn.paint_fill["fill-outline-color"]),"fill-translate":new jn(rn.paint_fill["fill-translate"]),"fill-translate-anchor":new jn(rn.paint_fill["fill-translate-anchor"]),"fill-pattern":new Cr(rn.paint_fill["fill-pattern"]),"fill-emissive-strength":new jn(rn.paint_fill["fill-emissive-strength"])}),layout:fpe};const Ape=Sa([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),mpe=Sa([{name:"a_pos_end",components:4,type:"Int16"},{name:"a_angular_offset_factor",components:1,type:"Int16"}]),gpe=Sa([{name:"a_centroid_pos",components:2,type:"Uint16"}]),vpe=Sa([{name:"a_hidden_by_landmark",components:1,type:"Uint8"}]),_pe=Sa([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:ype}=Ape;var V5={},bpe=j,q$=Yy;function Yy(u,o,h,p,v){this.properties={},this.extent=h,this.type=0,this._pbf=u,this._geometry=-1,this._keys=p,this._values=v,u.readFields(wpe,this,o)}function wpe(u,o,h){u==1?o.id=h.readVarint():u==2?function(p,v){for(var b=p.readVarint()+p.pos;p.pos<b;){var C=v._keys[p.readVarint()],M=v._values[p.readVarint()];v.properties[C]=M}}(h,o):u==3?o.type=h.readVarint():u==4&&(o._geometry=h.pos)}function xpe(u){for(var o,h,p=0,v=0,b=u.length,C=b-1;v<b;C=v++)p+=((h=u[C]).x-(o=u[v]).x)*(o.y+h.y);return p}Yy.types=["Unknown","Point","LineString","Polygon"],Yy.prototype.loadGeometry=function(){var u=this._pbf;u.pos=this._geometry;for(var o,h=u.readVarint()+u.pos,p=1,v=0,b=0,C=0,M=[];u.pos<h;){if(v<=0){var k=u.readVarint();p=7&k,v=k>>3}if(v--,p===1||p===2)b+=u.readSVarint(),C+=u.readSVarint(),p===1&&(o&&M.push(o),o=[]),o.push(new bpe(b,C));else{if(p!==7)throw new Error("unknown command "+p);o&&o.push(o[0].clone())}}return o&&M.push(o),M},Yy.prototype.bbox=function(){var u=this._pbf;u.pos=this._geometry;for(var o=u.readVarint()+u.pos,h=1,p=0,v=0,b=0,C=1/0,M=-1/0,k=1/0,O=-1/0;u.pos<o;){if(p<=0){var U=u.readVarint();h=7&U,p=U>>3}if(p--,h===1||h===2)(v+=u.readSVarint())<C&&(C=v),v>M&&(M=v),(b+=u.readSVarint())<k&&(k=b),b>O&&(O=b);else if(h!==7)throw new Error("unknown command "+h)}return[C,k,M,O]},Yy.prototype.toGeoJSON=function(u,o,h){var p,v,b=this.extent*Math.pow(2,h),C=this.extent*u,M=this.extent*o,k=this.loadGeometry(),O=Yy.types[this.type];function U(fe){for(var ge=0;ge<fe.length;ge++){var xe=fe[ge];fe[ge]=[360*(xe.x+C)/b-180,360/Math.PI*Math.atan(Math.exp((180-360*(xe.y+M)/b)*Math.PI/180))-90]}}switch(this.type){case 1:var G=[];for(p=0;p<k.length;p++)G[p]=k[p][0];U(k=G);break;case 2:for(p=0;p<k.length;p++)U(k[p]);break;case 3:for(k=function(fe){var ge=fe.length;if(ge<=1)return[fe];for(var xe,Ie,Oe=[],rt=0;rt<ge;rt++){var lt=xpe(fe[rt]);lt!==0&&(Ie===void 0&&(Ie=lt<0),Ie===lt<0?(xe&&Oe.push(xe),xe=[fe[rt]]):xe.push(fe[rt]))}return xe&&Oe.push(xe),Oe}(k),p=0;p<k.length;p++)for(v=0;v<k[p].length;v++)U(k[p][v])}k.length===1?k=k[0]:O="Multi"+O;var Z={type:"Feature",geometry:{type:O,coordinates:k},properties:this.properties};return"id"in this&&(Z.id=this.id),Z};var Cpe=q$,Y$=X$;function X$(u,o){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=u,this._keys=[],this._values=[],this._features=[],u.readFields(Epe,this,o),this.length=this._features.length}function Epe(u,o,h){u===15?o.version=h.readVarint():u===1?o.name=h.readString():u===5?o.extent=h.readVarint():u===2?o._features.push(h.pos):u===3?o._keys.push(h.readString()):u===4&&o._values.push(function(p){for(var v=null,b=p.readVarint()+p.pos;p.pos<b;){var C=p.readVarint()>>3;v=C===1?p.readString():C===2?p.readFloat():C===3?p.readDouble():C===4?p.readVarint64():C===5?p.readVarint():C===6?p.readSVarint():C===7?p.readBoolean():null}return v}(h))}X$.prototype.feature=function(u){if(u<0||u>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[u];var o=this._pbf.readVarint()+this._pbf.pos;return new Cpe(this._pbf,o,this.extent,this._keys,this._values)};var Spe=Y$;function Tpe(u,o,h){if(u===3){var p=new Spe(h,h.readVarint()+h.pos);p.length&&(o[p.name]=p)}}var iI=V5.VectorTile=function(u,o){this.layers=u.readFields(Tpe,{},o)},H5=V5.VectorTileFeature=q$;function Q5(u,o,h,p){const v=[],b=p===0?(C,M,k,O,U,G)=>{C.push(new K(G,k+(G-M)/(O-M)*(U-k)))}:(C,M,k,O,U,G)=>{C.push(new K(M+(G-k)/(U-k)*(O-M),G))};for(const C of u){const M=[];for(const k of C){if(k.length<=2)continue;const O=[];for(let Z=0;Z<k.length-1;Z++){const fe=k[Z].x,ge=k[Z].y,xe=k[Z+1].x,Ie=k[Z+1].y,Oe=p===0?fe:ge,rt=p===0?xe:Ie;Oe<o?rt>o&&b(O,fe,ge,xe,Ie,o):Oe>h?rt<h&&b(O,fe,ge,xe,Ie,h):O.push(k[Z]),rt<o&&Oe>=o&&b(O,fe,ge,xe,Ie,o),rt>h&&Oe<=h&&b(O,fe,ge,xe,Ie,h)}let U=k[k.length-1];const G=p===0?U.x:U.y;G>=o&&G<=h&&O.push(U),O.length&&(U=O[O.length-1],O[0].x===U.x&&O[0].y===U.y||O.push(O[0]),M.push(O))}M.length&&v.push(M)}return v}function j5(u,o){return u.x-o.x||u.y-o.y}function Z$(u,o){return j5(u.min,o.min)===0&&j5(u.max,o.max)===0}function J$(u,o){return!(u.min.x>o.max.x||u.max.x<o.min.x||u.min.y>o.max.y||u.max.y<o.min.y)}function eV(u,o,h){const p=1/zn,v=1/(1<<h.canonical.z),b=(o.x*p+h.canonical.x)*v+h.wrap,C=(o.y*p+h.canonical.y)*v;return{min:new K((u.x*p+h.canonical.x)*v+h.wrap,(u.y*p+h.canonical.y)*v),max:new K(b,C)}}function Bpe(u,o,h){const p=1<<h.canonical.z,v=((o.x-h.wrap)*p-h.canonical.x)*zn,b=(o.y*p-h.canonical.y)*zn;return{min:new K(((u.x-h.wrap)*p-h.canonical.x)*zn,(u.y*p-h.canonical.y)*zn),max:new K(v,b)}}function tV(u,o,h,p,v,b,C){const M=u.indices,k=u.vertices,O=[];for(let U=p;U<p+v;U+=3){const G=o[h[U+0]+b],Z=o[h[U+1]+b],fe=o[h[U+2]+b],ge=Math.min(G.x,Z.x,fe.x),xe=Math.max(G.x,Z.x,fe.x),Ie=Math.min(G.y,Z.y,fe.y),Oe=Math.max(G.y,Z.y,fe.y);O.length=0,u.grid.query(new K(ge,Ie),new K(xe,Oe),O);for(let rt=0;rt<O.length;rt++){const lt=O[rt];if(EM(k[M[3*lt+0]],k[M[3*lt+1]],k[M[3*lt+2]],G,Z,fe,C))return!0}}return!1}function nV(u,o,h,p){if(!u||!h)return!1;let v=u.vertices;if(!o.canonical.equals(p.canonical)||o.wrap!==p.wrap){if(h.vertices.length<u.vertices.length)return nV(h,p,u,o);const b=o.canonical,C=p.canonical,M=Math.pow(2,C.z-b.z);v=u.vertices.map(k=>new K(k.x*b.x*zn*M-C.x*zn,k.y*b.y*zn*M-C.y*zn))}return tV(h,v,u.indices,0,u.indices.length,0,0)}V5.VectorTileLayer=Y$;class rV{constructor(o){this.size=o,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(o,h){const p=this.toIdx(o,h);return{min:this.minimums[p],max:this.maximums[p]}}isLeaf(o,h){return this.leaves[this.toIdx(o,h)]}toIdx(o,h){return h*this.size+o}}function iV(u,o,h,p){let v=0,b=Number.MAX_VALUE;for(let C=0;C<3;C++)if(Math.abs(p[C])<1e-15){if(h[C]<u[C]||h[C]>o[C])return null}else{const M=1/p[C];let k=(u[C]-h[C])*M,O=(o[C]-h[C])*M;if(k>O){const U=k;k=O,O=U}if(k>v&&(v=k),O<b&&(b=O),v>b)return null}return v}function aV(u,o,h,p,v,b,C,M,k,O,U){const G=p-u,Z=v-o,fe=b-h,ge=C-u,xe=M-o,Ie=k-h,Oe=U[1]*Ie-U[2]*xe,rt=U[2]*ge-U[0]*Ie,lt=U[0]*xe-U[1]*ge,ot=G*Oe+Z*rt+fe*lt;if(Math.abs(ot)<1e-15)return null;const Tt=1/ot,yt=O[0]-u,Dt=O[1]-o,Gt=O[2]-h,Xt=(yt*Oe+Dt*rt+Gt*lt)*Tt;if(Xt<0||Xt>1)return null;const pn=Dt*fe-Gt*Z,en=Gt*G-yt*fe,Sn=yt*Z-Dt*G,Dn=(U[0]*pn+U[1]*en+U[2]*Sn)*Tt;return Dn<0||Xt+Dn>1?null:(ge*pn+xe*en+Ie*Sn)*Tt}function sV(u,o,h){return(u-o)/(h-o)}function oV(u,o,h,p,v,b,C,M,k){const O=1<<h,U=b-p,G=C-v,Z=(u+1)/O*U+p,fe=(o+0)/O*G+v,ge=(o+1)/O*G+v;M[0]=(u+0)/O*U+p,M[1]=fe,k[0]=Z,k[1]=ge}class lV{constructor(o){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=o,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const h=function(b){const C=Math.ceil(Math.log2(b.dim/8)),M=[];let k=Math.ceil(Math.pow(2,C));const O=1/k,U=(fe,ge,xe,Ie,Oe)=>{const rt=Ie?1:0,lt=(fe+1)*xe-rt,ot=ge*xe,Tt=(ge+1)*xe-rt;Oe[0]=fe*xe,Oe[1]=ot,Oe[2]=lt,Oe[3]=Tt};let G=new rV(k);const Z=[];for(let fe=0;fe<k*k;fe++){U(fe%k,Math.floor(fe/k),O,!1,Z);const ge=R0(Z[0],Z[1],b),xe=R0(Z[2],Z[1],b),Ie=R0(Z[2],Z[3],b),Oe=R0(Z[0],Z[3],b);G.minimums.push(Math.min(ge,xe,Ie,Oe)),G.maximums.push(Math.max(ge,xe,Ie,Oe)),G.leaves.push(1)}for(M.push(G),k/=2;k>=1;k/=2){const fe=M[M.length-1];G=new rV(k);for(let ge=0;ge<k*k;ge++){U(ge%k,Math.floor(ge/k),2,!0,Z);const xe=fe.getElevation(Z[0],Z[1]),Ie=fe.getElevation(Z[2],Z[1]),Oe=fe.getElevation(Z[2],Z[3]),rt=fe.getElevation(Z[0],Z[3]),lt=fe.isLeaf(Z[0],Z[1]),ot=fe.isLeaf(Z[2],Z[1]),Tt=fe.isLeaf(Z[2],Z[3]),yt=fe.isLeaf(Z[0],Z[3]),Dt=Math.min(xe.min,Ie.min,Oe.min,rt.min),Gt=Math.max(xe.max,Ie.max,Oe.max,rt.max),Xt=lt&&ot&&Tt&&yt;G.maximums.push(Gt),G.minimums.push(Dt),G.leaves.push(Gt-Dt<=5&&Xt?1:0)}M.push(G)}return M}(this.dem),p=h.length-1,v=h[p];this._addNode(v.minimums[0],v.maximums[0],v.leaves[0]),this._construct(h,0,0,p,0)}raycastRoot(o,h,p,v,b,C,M=1){return iV([o,h,-100],[p,v,this.maximums[0]*M],b,C)}raycast(o,h,p,v,b,C,M=1){if(!this.nodeCount)return null;const k=this.raycastRoot(o,h,p,v,b,C,M);if(k==null)return null;const O=[],U=[],G=[],Z=[],fe=[{idx:0,t:k,nodex:0,nodey:0,depth:0}];for(;fe.length>0;){const{idx:ge,t:xe,nodex:Ie,nodey:Oe,depth:rt}=fe.pop();if(this.leaves[ge]){oV(Ie,Oe,rt,o,h,p,v,G,Z);const ot=1<<rt,Tt=(Ie+0)/ot,yt=(Ie+1)/ot,Dt=(Oe+0)/ot,Gt=(Oe+1)/ot,Xt=R0(Tt,Dt,this.dem)*M,pn=R0(yt,Dt,this.dem)*M,en=R0(yt,Gt,this.dem)*M,Sn=R0(Tt,Gt,this.dem)*M,Dn=aV(G[0],G[1],Xt,Z[0],G[1],pn,Z[0],Z[1],en,b,C),yn=aV(Z[0],Z[1],en,G[0],Z[1],Sn,G[0],G[1],Xt,b,C),On=Math.min(Dn!==null?Dn:Number.MAX_VALUE,yn!==null?yn:Number.MAX_VALUE);if(On!==Number.MAX_VALUE)return On;{const gn=a.N.scaleAndAdd([],b,C,xe);if(uV(Xt,pn,Sn,en,sV(gn[0],G[0],Z[0]),sV(gn[1],G[1],Z[1]))>=gn[2])return xe}continue}let lt=0;for(let ot=0;ot<this._siblingOffset.length;ot++){oV((Ie<<1)+this._siblingOffset[ot][0],(Oe<<1)+this._siblingOffset[ot][1],rt+1,o,h,p,v,G,Z),G[2]=-100,Z[2]=this.maximums[this.childOffsets[ge]+ot]*M;const Tt=iV(G,Z,b,C);if(Tt!=null){const yt=Tt;O[ot]=yt;let Dt=!1;for(let Gt=0;Gt<lt&&!Dt;Gt++)yt>=O[U[Gt]]&&(U.splice(Gt,0,ot),Dt=!0);Dt||(U[lt]=ot),lt++}}for(let ot=0;ot<lt;ot++){const Tt=U[ot];fe.push({idx:this.childOffsets[ge]+Tt,t:O[Tt],nodex:(Ie<<1)+this._siblingOffset[Tt][0],nodey:(Oe<<1)+this._siblingOffset[Tt][1],depth:rt+1})}}return null}_addNode(o,h,p){return this.minimums.push(o),this.maximums.push(h),this.leaves.push(p),this.childOffsets.push(0),this.nodeCount++}_construct(o,h,p,v,b){if(o[v].isLeaf(h,p)===1)return;this.childOffsets[b]||(this.childOffsets[b]=this.nodeCount);const C=v-1,M=o[C];let k=0,O=0;for(let U=0;U<this._siblingOffset.length;U++){const G=2*h+this._siblingOffset[U][0],Z=2*p+this._siblingOffset[U][1],fe=M.getElevation(G,Z),ge=M.isLeaf(G,Z),xe=this._addNode(fe.min,fe.max,ge);ge&&(k|=1<<U),O||(O=xe)}for(let U=0;U<this._siblingOffset.length;U++)k&1<<U||this._construct(o,2*h+this._siblingOffset[U][0],2*p+this._siblingOffset[U][1],C,O+U)}}function uV(u,o,h,p,v,b){return Ri(Ri(u,h,b),Ri(o,p,b),v)}function R0(u,o,h){const p=h.dim,v=he(u*p-.5,0,p-1),b=he(o*p-.5,0,p-1),C=Math.floor(v),M=Math.floor(b),k=Math.min(C+1,p-1),O=Math.min(M+1,p-1);return uV(h.get(C,M),h.get(k,M),h.get(C,O),h.get(k,O),v-C,b-M)}const Mpe={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};function Ipe(u,o,h){return(256*u*256+256*o+h)/10-1e4}function Lpe(u,o,h){return 256*u+o+h/256-32768}class G5{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(o,h,p,v=!1){if(this.uid=o,h.height!==h.width)throw new RangeError("DEM tiles must be square");if(p&&p!=="mapbox"&&p!=="terrarium")return Ge(`"${p}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=h.height;const b=this.dim=h.height-2,C=new Uint32Array(h.data.buffer);if(this.pixels=new Uint8Array(h.data.buffer),this.floatView=new Float32Array(h.data.buffer),this.borderReady=v,this._modifiedForSources={},!v){for(let k=0;k<b;k++)C[this._idx(-1,k)]=C[this._idx(0,k)],C[this._idx(b,k)]=C[this._idx(b-1,k)],C[this._idx(k,-1)]=C[this._idx(k,0)],C[this._idx(k,b)]=C[this._idx(k,b-1)];C[this._idx(-1,-1)]=C[this._idx(0,0)],C[this._idx(b,-1)]=C[this._idx(b-1,0)],C[this._idx(-1,b)]=C[this._idx(0,b-1)],C[this._idx(b,b)]=C[this._idx(b-1,b-1)]}const M=p==="terrarium"?Lpe:Ipe;for(let k=0;k<C.length;++k){const O=4*k;this.floatView[k]=M(this.pixels[O],this.pixels[O+1],this.pixels[O+2])}this._timestamp=Pt.now()}_buildQuadTree(){this._tree=new lV(this)}get(o,h,p=!1){p&&(o=he(o,-1,this.dim),h=he(h,-1,this.dim));const v=this._idx(o,h);return this.floatView[v]}set(o,h,p){const v=this._idx(o,h),b=this.floatView[v];return this.floatView[v]=p,p-b}static getUnpackVector(o){return Mpe[o]}_idx(o,h){if(o<-1||o>=this.dim+1||h<-1||h>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(h+1)*this.stride+(o+1)}static pack(o,h){const p=[0,0,0,0],v=G5.getUnpackVector(h);let b=Math.floor((o+v[3])/v[2]);return p[2]=b%256,b=Math.floor(b/256),p[1]=b%256,b=Math.floor(b/256),p[0]=b,p}getPixels(){return new Q$({width:this.stride,height:this.stride},this.pixels)}backfillBorder(o,h,p){if(this.dim!==o.dim)throw new Error("dem dimension mismatch");let v=h*this.dim,b=h*this.dim+this.dim,C=p*this.dim,M=p*this.dim+this.dim;switch(h){case-1:v=b-1;break;case 1:b=v+1}switch(p){case-1:C=M-1;break;case 1:M=C+1}const k=-h*this.dim,O=-p*this.dim;for(let U=C;U<M;U++)for(let G=v;G<b;G++){const Z=4*this._idx(G,U),fe=4*this._idx(G+k,U+O);this.pixels[Z+0]=o.pixels[fe+0],this.pixels[Z+1]=o.pixels[fe+1],this.pixels[Z+2]=o.pixels[fe+2],this.pixels[Z+3]=o.pixels[fe+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}ze(G5,"DEMData"),ze(lV,"DemMinMaxQuadTree",{omit:["dem"]});class Xy{constructor(o,h,p){this._demTile=o,this._dem=this._demTile.dem,this._scale=h,this._offset=p}static create(o,h,p){const v=p||o.findDEMTileFor(h);if(!v||!v.dem)return;const b=v.dem,C=v.tileID,M=1<<h.canonical.z-C.canonical.z;return new Xy(v,b.dim/zn/M,[(h.canonical.x/M-C.canonical.x)*b.dim,(h.canonical.y/M-C.canonical.y)*b.dim])}tileCoordToPixel(o,h){const p=h*this._scale+this._offset[1],v=Math.floor(o*this._scale+this._offset[0]),b=Math.floor(p);return new K(v,b)}getElevationAt(o,h,p,v){const b=o*this._scale+this._offset[0],C=h*this._scale+this._offset[1],M=Math.floor(b),k=Math.floor(C),O=this._dem;return v=!!v,p?Ri(Ri(O.get(M,k,v),O.get(M,k+1,v),C-k),Ri(O.get(M+1,k,v),O.get(M+1,k+1,v),C-k),b-M):O.get(M,k,v)}getElevationAtPixel(o,h,p){return this._dem.get(o,h,!!p)}getMeterToDEM(o){return(1<<this._demTile.tileID.canonical.z)*Ci(1,o)*this._dem.stride}}const Ppe=H5.types,Fpe=["fill-extrusion-base","fill-extrusion-height","fill-extrusion-color","fill-extrusion-pattern","fill-extrusion-flood-light-wall-radius"],kpe=["fill-extrusion-flood-light-ground-radius"],Rpe=Math.pow(2,13),Ope=Math.pow(2,15)-1,cV=new K(0,1),O0=2147483648;function hx(u,o,h,p,v,b,C,M){u.emplaceBack((o<<1)+C,(h<<1)+b,(Math.floor(p*Rpe)<<1)+v,Math.round(M))}function K5(u,o,h,p,v,b){u.emplaceBack(o.x,o.y,(h.x<<1)+p,(h.y<<1)+v,b)}function dx(u,o,h){u.emplaceBack(o.x,o.y,o.z,h[0]*16384,h[1]*16384,h[2]*16384)}class hV{constructor(){this.vertexOffset=0,this.vertexCount=0,this.indexOffset=0,this.indexCount=0}}class dV{constructor(){this.centroidXY=new K(0,0),this.vertexArrayOffset=0,this.vertexCount=0,this.groundVertexArrayOffset=0,this.groundVertexCount=0,this.flags=0,this.footprintSegIdx=-1,this.footprintSegLen=0,this.polygonSegIdx=-1,this.polygonSegLen=0,this.min=new K(Number.MAX_VALUE,Number.MAX_VALUE),this.max=new K(-Number.MAX_VALUE,-Number.MAX_VALUE),this.height=0}span(){return new K(this.max.x-this.min.x,this.max.y-this.min.y)}}class fV{constructor(){this.acc=new K(0,0),this.accCount=0,this.centroidDataIndex=0}startRing(o,h){o.min.x===Number.MAX_VALUE&&(o.min.x=o.max.x=h.x,o.min.y=o.max.y=h.y)}appendEdge(o,h,p){this.accCount++,this.acc._add(h);let v=!!this.borders;h.x<o.min.x?(o.min.x=h.x,v=!0):h.x>o.max.x&&(o.max.x=h.x,v=!0),h.y<o.min.y?(o.min.y=h.y,v=!0):h.y>o.max.y&&(o.max.y=h.y,v=!0),((h.x===0||h.x===zn)&&h.x===p.x)!=((h.y===0||h.y===zn)&&h.y===p.y)&&this.processBorderOverlap(h,p),v&&this.checkBorderIntersection(h,p)}checkBorderIntersection(o,h){h.x<0!=o.x<0&&this.addBorderIntersection(0,Ri(h.y,o.y,(0-h.x)/(o.x-h.x))),h.x>zn!=o.x>zn&&this.addBorderIntersection(1,Ri(h.y,o.y,(zn-h.x)/(o.x-h.x))),h.y<0!=o.y<0&&this.addBorderIntersection(2,Ri(h.x,o.x,(0-h.y)/(o.y-h.y))),h.y>zn!=o.y>zn&&this.addBorderIntersection(3,Ri(h.x,o.x,(zn-h.y)/(o.y-h.y)))}addBorderIntersection(o,h){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const p=this.borders[o];h<p[0]&&(p[0]=h),h>p[1]&&(p[1]=h)}processBorderOverlap(o,h){if(o.x===h.x){if(o.y===h.y)return;const p=o.x===0?0:1;this.addBorderIntersection(p,h.y),this.addBorderIntersection(p,o.y)}else{const p=o.y===0?2:3;this.addBorderIntersection(p,h.x),this.addBorderIntersection(p,o.x)}}centroid(){return this.accCount===0?new K(0,0):new K(Math.floor(Math.max(0,this.acc.x)/this.accCount),Math.floor(Math.max(0,this.acc.y)/this.accCount))}intersectsCount(){return this.borders?this.borders.reduce((o,h)=>o+ +(h[0]!==Number.MAX_VALUE),0):0}}function pV(u,o){const h=u.add(o)._unit(),p=he(u.x*h.x+u.y*h.y,-1,1);var v,b,C;return v=Math.acos(p),Math.min(4,Math.max(-4,Math.tan(v)))/4*Ope*((b=u).x*(C=o).y-b.y*C.x<0?-1:1)}const Dpe=[u=>u.x<0,u=>u.x>zn,u=>u.y<0,u=>u.y>zn];function Npe(u,o,h,p){const v=[4];if(p===0)return v;h._mult(p);const b=u.sub(h),C=o.sub(h),M=[u,o,b,C];for(let k=0;k<4;k++)for(const O of M)if(Dpe[k](O)){v.push(k);break}return v}class AV{constructor(o){this.vertexArray=new F1,this.indexArray=new ws,this.programConfigurations=new He(o.layers,o.zoom,h=>kpe.includes(h)),this._segments=new Xs,this.hiddenByLandmarkVertexArray=new lg,this._segmentToGroundQuads={},this._segmentToGroundQuads[0]=[],this._segmentToRegionTriCounts={},this._segmentToRegionTriCounts[0]=[0,0,0,0,0],this.regionSegments={},this.regionSegments[4]=new Xs}getDefaultSegment(){return this.regionSegments[4]}hasData(){return this.vertexArray.length!==0}addData(o,h,p,v=!1){const b=o.length;if(b>2){let C=Math.max(0,this._segments.get().length-1);const M=this._segments._prepareSegment(4*b,this.vertexArray.length,2*this._segmentToGroundQuads[C].length);let k;C!==this._segments.get().length-1&&(C++,this._segmentToGroundQuads[C]=[],this._segmentToRegionTriCounts[C]=[0,0,0,0,0]);{const O=o[0],U=o[1];k=pV(O.sub(o[b-1])._perp()._unit(),U.sub(O)._perp()._unit())}for(let O=0;O<b;O++){const U=O===b-1?0:O+1,G=o[O],Z=o[U],fe=o[U===b-1?0:U+1],ge=Z.sub(G)._perp()._unit(),xe=pV(ge,fe.sub(Z)._perp()._unit()),Ie=k,Oe=xe;if(aI(G,Z,h)||v&&vV(G,h)&&vV(Z,h)){k=xe;continue}const rt=M.vertexLength;K5(this.vertexArray,G,Z,1,1,Ie),K5(this.vertexArray,G,Z,1,0,Ie),K5(this.vertexArray,G,Z,0,1,Oe),K5(this.vertexArray,G,Z,0,0,Oe),M.vertexLength+=4;const lt=Npe(G,Z,ge,p);for(const ot of lt)this._segmentToGroundQuads[C].push({id:rt,region:ot}),this._segmentToRegionTriCounts[C][ot]+=2,M.primitiveLength+=2;k=xe}}}prepareBorderSegments(){if(!this.hasData())return;const o=this._segments.get(),h=o.length;for(let p=0;p<h;p++)this._segmentToGroundQuads[p].sort((v,b)=>v.region-b.region);for(let p=0;p<h;p++){const v=this._segmentToGroundQuads[p],b=o[p],C=this._segmentToRegionTriCounts[p];C.reduce((k,O)=>k+O,0);let M=0;for(let k=0;k<=4;k++){const O=C[k];if(O!==0){let U=this.regionSegments[k];U||(U=this.regionSegments[k]=new Xs);const G={vertexOffset:b.vertexOffset,primitiveOffset:b.primitiveOffset+M,vertexLength:b.vertexLength,primitiveLength:O};U.get().push(G)}M+=O}for(let k=0;k<v.length;k++){const O=v[k].id;this.indexArray.emplaceBack(O,O+1,O+3),this.indexArray.emplaceBack(O,O+3,O+2)}}this._segmentToGroundQuads=null,this._segmentToRegionTriCounts=null,this._segments.destroy(),this._segments=null}addPaintPropertiesData(o,h,p,v,b,C){this.hasData()&&this.programConfigurations.populatePaintArrays(this.vertexArray.length,o,h,p,v,b,C)}upload(o){this.hasData()&&(this.vertexBuffer=o.createVertexBuffer(this.vertexArray,mpe.members),this.indexBuffer=o.createIndexBuffer(this.indexArray))}uploadPaintProperties(o){this.hasData()&&this.programConfigurations.upload(o)}update(o,h,p,v,b,C){this.hasData()&&this.programConfigurations.updatePaintArrays(o,h,p,v,b,C)}updateHiddenByLandmark(o){if(!this.hasData())return;const h=o.groundVertexCount+o.groundVertexArrayOffset;if(o.groundVertexCount===0)return;const p=o.flags&O0?1:0;for(let v=o.groundVertexArrayOffset;v<h;++v)this.hiddenByLandmarkVertexArray.emplace(v,p);this._needsHiddenByLandmarkUpdate=!0}uploadHiddenByLandmark(o){this.hasData()&&this._needsHiddenByLandmarkUpdate&&(!this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexArray.length>0?this.hiddenByLandmarkVertexBuffer=o.createVertexBuffer(this.hiddenByLandmarkVertexArray,vpe.members,!0):this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexBuffer.updateData(this.hiddenByLandmarkVertexArray),this._needsHiddenByLandmarkUpdate=!1)}destroy(){if(this.vertexBuffer){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexBuffer.destroy(),this._segments&&this._segments.destroy(),this.programConfigurations.destroy();for(let o=0;o<=4;o++){const h=this.regionSegments[o];h&&h.destroy()}}}}class W5{constructor(o){this.zoom=o.zoom,this.canonical=o.canonical,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(h=>h.fqid),this.index=o.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=o.projection,this.activeReplacements=[],this.replacementUpdateTime=0,this.centroidData=[],this.footprintIndices=new ws,this.footprintVertices=new qu,this.footprintSegments=[],this.layoutVertexArray=new pd,this.centroidVertexArray=new N1,this.indexArray=new ws,this.programConfigurations=new He(o.layers,o.zoom,h=>Fpe.includes(h)),this.segments=new Xs,this.stateDependentLayerIds=this.layers.filter(h=>h.isStateDependent()).map(h=>h.id),this.groundEffect=new AV(o),this.maxHeight=0,this.partLookup={},this.triangleSubSegments=[],this.polygonSegments=[]}populate(o,h,p,v){this.features=[],this.hasPattern=tI("fill-extrusion",this.layers,h),this.featuresOnBorder=[],this.borderFeatureIndices=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=Yi(p),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:b,id:C,index:M,sourceLayerIndex:k}of o){const O=this.layers[0]._featureFilter.needGeometry,U=No(b,O);if(!this.layers[0]._featureFilter.filter(new Pi(this.zoom),U,p))continue;const G={id:C,sourceLayerIndex:k,index:M,geometry:O?U.geometry:al(b,p,v),properties:b.properties,type:b.type,patterns:{}},Z=this.layoutVertexArray.length;this.hasPattern?this.features.push(nI("fill-extrusion",this.layers,G,this.zoom,h)):this.addFeature(G,G.geometry,M,p,{},h.availableImages,v,h.brightness),h.featureIndex.insert(b,G.geometry,M,k,this.index,Z)}this.sortBorders(),this.projection.name==="mercator"&&this.splitToSubtiles(),this.groundEffect.prepareBorderSegments(),this.polygonSegments.length=0}addFeatures(o,h,p,v,b,C){for(const M of this.features){const{geometry:k}=M;this.addFeature(M,k,M.index,h,p,v,b,C)}this.sortBorders(),this.projection.name==="mercator"&&this.splitToSubtiles()}update(o,h,p,v,b){const C=Object.keys(o).length!==0;if(C&&!this.stateDependentLayers.length)return;const M=C?this.stateDependentLayers:this.layers;this.programConfigurations.updatePaintArrays(o,h,M,p,v,b),this.groundEffect.update(o,h,M,p,v,b)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload||this.groundEffect.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,ype),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=o.createVertexBuffer(this.layoutVertexExtArray,_pe.members,!0)),this.groundEffect.upload(o)),this.groundEffect.uploadPaintProperties(o),this.programConfigurations.upload(o),this.uploaded=!0}uploadCentroid(o){this.groundEffect.uploadHiddenByLandmark(o),this.needsCentroidUpdate&&(!this.centroidVertexBuffer&&this.centroidVertexArray.length>0?this.centroidVertexBuffer=o.createVertexBuffer(this.centroidVertexArray,gpe.members,!0):this.centroidVertexBuffer&&this.centroidVertexBuffer.updateData(this.centroidVertexArray),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.groundEffect.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(o,h,p,v,b,C,M,k){const O=this.layers[0].paint.get("fill-extrusion-flood-light-ground-radius").evaluate(o,{})/this.tileToMeter,U=[new K(0,0),new K(zn,zn)],G=M.projection,Z=G.name==="globe",fe=Ppe[o.type]==="Polygon",ge=new fV;ge.centroidDataIndex=this.centroidData.length;const xe=new dV,Ie=this.layers[0].paint.get("fill-extrusion-base").evaluate(o,{},v)<=0,Oe=this.layers[0].paint.get("fill-extrusion-height").evaluate(o,{},v);xe.height=Oe,xe.vertexArrayOffset=this.layoutVertexArray.length,xe.groundVertexArrayOffset=this.groundEffect.vertexArray.length,Z&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new tg);const rt=eI(h,500);for(let Gt=rt.length-1;Gt>=0;Gt--){const Xt=rt[Gt];(Xt.length===0||(lt=Xt[0]).every(pn=>pn.x<=0)||lt.every(pn=>pn.x>=zn)||lt.every(pn=>pn.y<=0)||lt.every(pn=>pn.y>=zn))&&rt.splice(Gt,1)}var lt;let ot;if(Z)ot=wV(rt,U,v);else{ot=[];for(const Gt of rt)ot.push({polygon:Gt,bounds:U})}const Tt=fe?this.edgeRadius:0,yt=Tt>0&&this.zoom<17,Dt=(Gt,Xt)=>{if(Gt.length===0)return!1;const pn=Gt[Gt.length-1];return Xt.x===pn.x&&Xt.y===pn.y};for(const{polygon:Gt,bounds:Xt}of ot){let pn=0,en=0;for(const On of Gt)fe&&!On[0].equals(On[On.length-1])&&On.push(On[0]),en+=fe?On.length-1:On.length;const Sn=this.segments.prepareSegment((fe?5:4)*en,this.layoutVertexArray,this.indexArray);xe.footprintSegIdx<0&&(xe.footprintSegIdx=this.footprintSegments.length),xe.polygonSegIdx<0&&(xe.polygonSegIdx=this.polygonSegments.length);const Dn={triangleArrayOffset:this.indexArray.length,triangleCount:0,triangleSegIdx:this.segments.segments.length-1},yn=new hV;if(yn.vertexOffset=this.footprintVertices.length,yn.indexOffset=3*this.footprintIndices.length,yn.ringIndices=[],fe){const On=[],gn=[];pn=Sn.vertexLength;for(let cr=0;cr<Gt.length;cr++){const Un=Gt[cr];Un.length&&cr!==0&&gn.push(On.length/2);const Br=[];let yr,qn;yr=Un[1].sub(Un[0])._perp()._unit(),yn.ringIndices.push(Un.length-1);for(let ni=1;ni<Un.length;ni++){const Ur=Un[ni],Sr=Un[ni===Un.length-1?1:ni+1],Yn=Ur.clone();if(Tt){qn=Sr.sub(Ur)._perp()._unit();const qr=yr.add(qn)._unit(),Ni=Tt*Math.min(4,1/(yr.x*qr.x+yr.y*qr.y));Yn.x+=Ni*qr.x,Yn.y+=Ni*qr.y,Yn.x=Math.round(Yn.x),Yn.y=Math.round(Yn.y),yr=qn}!Ie||Tt!==0&&!yt||Dt(Br,Yn)||Br.push(Yn),hx(this.layoutVertexArray,Yn.x,Yn.y,0,0,1,1,0),Sn.vertexLength++,this.footprintVertices.emplaceBack(Ur.x,Ur.y),On.push(Ur.x,Ur.y),Z&&dx(this.layoutVertexExtArray,G.projectTilePoint(Yn.x,Yn.y,v),G.upVector(v,Yn.x,Yn.y))}Ie&&(Tt===0||yt)&&(Br.length!==0&&Dt(Br,Br[0])&&Br.pop(),this.groundEffect.addData(Br,Xt,O))}const Rn=$5(On,gn);for(let cr=0;cr<Rn.length;cr+=3)this.footprintIndices.emplaceBack(yn.vertexOffset+Rn[cr+0],yn.vertexOffset+Rn[cr+1],yn.vertexOffset+Rn[cr+2]),this.indexArray.emplaceBack(pn+Rn[cr],pn+Rn[cr+2],pn+Rn[cr+1]),Sn.primitiveLength++;yn.indexCount+=Rn.length,yn.vertexCount+=this.footprintVertices.length-yn.vertexOffset}for(let On=0;On<Gt.length;On++){const gn=Gt[On];ge.startRing(xe,gn[0]);let Rn=gn.length>4&&_V(gn[gn.length-2],gn[0],gn[1]),cr=Tt?Upe(gn[gn.length-2],gn[0],gn[1],Tt):0;const Un=[];let Br,yr,qn;yr=gn[1].sub(gn[0])._perp()._unit();let ni=!0;for(let Ur=1,Sr=0;Ur<gn.length;Ur++){let Yn=gn[Ur-1],qr=gn[Ur];const Ni=gn[Ur===gn.length-1?1:Ur+1];if(ge.appendEdge(xe,qr,Yn),aI(qr,Yn,Xt)){Tt&&(yr=Ni.sub(qr)._perp()._unit(),ni=!ni);continue}const ri=qr.sub(Yn)._perp(),Ui=ri.x/(Math.abs(ri.x)+Math.abs(ri.y)),gi=ri.y>0?1:0,ea=Yn.dist(qr);if(Sr+ea>32768&&(Sr=0),Tt){qn=Ni.sub(qr)._perp()._unit();let ya=gV(Yn,qr,Ni,mV(yr,qn),Tt);isNaN(ya)&&(ya=0);const Ta=qr.sub(Yn)._unit();Yn=Yn.add(Ta.mult(cr))._round(),qr=qr.add(Ta.mult(-ya))._round(),cr=ya,yr=qn,Ie&&this.zoom>=17&&(Dt(Un,Yn)||Un.push(Yn),Dt(Un,qr)||Un.push(qr))}const Ei=Sn.vertexLength,Ya=gn.length>4&&_V(Yn,qr,Ni);let va=yV(Sr,Rn,ni);if(hx(this.layoutVertexArray,Yn.x,Yn.y,Ui,gi,0,0,va),hx(this.layoutVertexArray,Yn.x,Yn.y,Ui,gi,0,1,va),Sr+=ea,va=yV(Sr,Ya,!ni),Rn=Ya,hx(this.layoutVertexArray,qr.x,qr.y,Ui,gi,0,0,va),hx(this.layoutVertexArray,qr.x,qr.y,Ui,gi,0,1,va),Sn.vertexLength+=4,this.indexArray.emplaceBack(Ei+0,Ei+1,Ei+2),this.indexArray.emplaceBack(Ei+1,Ei+3,Ei+2),Sn.primitiveLength+=2,Tt){const ya=pn+(Ur===1?gn.length-2:Ur-2),Ta=Ur===1?pn:ya+1;if(this.indexArray.emplaceBack(Ei+1,ya,Ei+3),this.indexArray.emplaceBack(ya,Ta,Ei+3),Sn.primitiveLength+=2,Br===void 0&&(Br=Ei),!aI(Ni,gn[Ur],Xt)){const _a=Ur===gn.length-1?Br:Sn.vertexLength;this.indexArray.emplaceBack(Ei+2,Ei+3,_a),this.indexArray.emplaceBack(Ei+3,_a+1,_a),this.indexArray.emplaceBack(Ei+3,Ta,_a+1),Sn.primitiveLength+=3}ni=!ni}if(Z){const ya=this.layoutVertexExtArray,Ta=G.projectTilePoint(Yn.x,Yn.y,v),_a=G.projectTilePoint(qr.x,qr.y,v),Cs=G.upVector(v,Yn.x,Yn.y),Da=G.upVector(v,qr.x,qr.y);dx(ya,Ta,Cs),dx(ya,Ta,Cs),dx(ya,_a,Da),dx(ya,_a,Da)}}fe&&(pn+=gn.length-1),Ie&&Tt&&this.zoom>=17&&(Un.length!==0&&Dt(Un,Un[0])&&Un.pop(),this.groundEffect.addData(Un,Xt,O,Tt>0))}this.footprintSegments.push(yn),Dn.triangleCount=this.indexArray.length-Dn.triangleArrayOffset,this.polygonSegments.push(Dn),++xe.footprintSegLen,++xe.polygonSegLen}if(xe.vertexCount=this.layoutVertexArray.length-xe.vertexArrayOffset,xe.groundVertexCount=this.groundEffect.vertexArray.length-xe.groundVertexArrayOffset,xe.vertexCount!==0){if(xe.centroidXY=ge.borders?cV:this.encodeCentroid(ge,xe),this.centroidData.push(xe),ge.borders){this.featuresOnBorder.push(ge);const Gt=this.featuresOnBorder.length-1;for(let Xt=0;Xt<ge.borders.length;Xt++)ge.borders[Xt][0]!==Number.MAX_VALUE&&this.borderFeatureIndices[Xt].push(Gt)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,p,b,C,v,k),this.groundEffect.addPaintPropertiesData(o,p,b,C,v,k),this.maxHeight=Math.max(this.maxHeight,Oe)}}sortBorders(){for(let o=0;o<this.borderFeatureIndices.length;o++)this.borderFeatureIndices[o].sort((h,p)=>this.featuresOnBorder[h].borders[o][0]-this.featuresOnBorder[p].borders[o][0])}splitToSubtiles(){const o=[];for(let M=0;M<this.centroidData.length;M++){const k=this.centroidData[M],O=+(k.min.y+k.max.y>zn),U=2*O+(+(k.min.x+k.max.x>zn)^O);for(let G=0;G<k.polygonSegLen;G++){const Z=k.polygonSegIdx+G;o.push({centroidIdx:M,subtile:U,polygonSegmentIdx:Z,triangleSegmentIdx:this.polygonSegments[Z].triangleSegIdx})}}const h=new ws;o.sort((M,k)=>M.triangleSegmentIdx===k.triangleSegmentIdx?M.subtile-k.subtile:M.triangleSegmentIdx-k.triangleSegmentIdx);let p=0,v=0,b=0;for(const M of o){if(M.triangleSegmentIdx!==p)break;b++}const C=o.length;for(;v!==o.length;){p=o[v].triangleSegmentIdx;let M=0,k=v,O=v;for(let U=k;U<b&&o[U].subtile===M;U++)O++;for(;k!==b;){const U=o[k];M=U.subtile;const G=this.centroidData[U.centroidIdx].min.clone(),Z=this.centroidData[U.centroidIdx].max.clone(),fe={vertexOffset:this.segments.segments[p].vertexOffset,primitiveOffset:h.length,vertexLength:this.segments.segments[p].vertexLength,primitiveLength:0,sortKey:void 0,vaos:{}};for(let ge=k;ge<O;ge++){const xe=o[ge],Ie=this.polygonSegments[xe.polygonSegmentIdx],Oe=this.centroidData[xe.centroidIdx].min,rt=this.centroidData[xe.centroidIdx].max,lt=this.indexArray.uint16;for(let ot=Ie.triangleArrayOffset;ot<Ie.triangleArrayOffset+Ie.triangleCount;ot++)h.emplaceBack(lt[3*ot],lt[3*ot+1],lt[3*ot+2]);fe.primitiveLength+=Ie.triangleCount,G.x=Math.min(G.x,Oe.x),G.y=Math.min(G.y,Oe.y),Z.x=Math.max(Z.x,rt.x),Z.y=Math.max(Z.y,rt.y)}fe.primitiveLength>0&&this.triangleSubSegments.push({segment:fe,min:G,max:Z}),k=O;for(let ge=k;ge<b&&o[ge].subtile===o[k].subtile;ge++)O++}v=b;for(let U=v;U<C&&o[U].triangleSegmentIdx===o[v].triangleSegmentIdx;U++)b++}h._trim(),this.indexArray=h}getVisibleSegments(o,h,p){let v=0,b=0;const C=1<<o.canonical.z;if(h){const xe=h.getMinMaxForTile(o);xe&&(v=xe.min,b=xe.max)}b+=this.maxHeight;const M=o.toUnwrapped();let k;const O=[M.canonical.x/C+M.wrap,M.canonical.y/C],U=[(M.canonical.x+1)/C+M.wrap,(M.canonical.y+1)/C],G=new Xs,Z=(xe,Ie,Oe)=>[xe[0]*(1-Oe[0])+Ie[0]*Oe[0],xe[1]*(1-Oe[1])+Ie[1]*Oe[1]],fe=[],ge=[];for(const xe of this.triangleSubSegments){fe[0]=xe.min.x/zn,fe[1]=xe.min.y/zn,ge[0]=xe.max.x/zn,ge[1]=xe.max.y/zn;const Ie=Z(O,U,fe),Oe=Z(O,U,ge);if(new Vs([Ie[0],Ie[1],v],[Oe[0],Oe[1],b]).intersectsPrecise(p)===0){k&&(G.segments.push(k),k=void 0);continue}const rt=xe.segment;k&&k.vertexOffset!==rt.vertexOffset&&(G.segments.push(k),k=void 0),k?(k.vertexLength+=rt.vertexLength,k.primitiveLength+=rt.primitiveLength):k={vertexOffset:rt.vertexOffset,primitiveLength:rt.primitiveLength,vertexLength:rt.vertexLength,primitiveOffset:rt.primitiveOffset,sortKey:void 0,vaos:{}}}return k&&G.segments.push(k),G}encodeCentroid(o,h){const p=o.centroid(),v=h.span(),b=Math.min(7,Math.round(v.x*this.tileToMeter/10)),C=Math.min(7,Math.round(v.y*this.tileToMeter/10));return new K(he(p.x,1,zn-1)<<3|b,he(p.y,1,zn-1)<<3|C)}encodeBorderCentroid(o){if(!o.borders)return new K(0,0);const h=o.borders,p=Number.MAX_VALUE;if(h[0][0]!==p||h[1][0]!==p){const v=h[0][0]!==p?0:1;return new K(6|(h[0][0]!==p?0:65528),(h[v][0]+h[v][1])/2<<3|6)}{const v=h[2][0]!==p?2:3;return new K((h[v][0]+h[v][1])/2<<3|6,6|(h[2][0]!==p?0:65528))}}showCentroid(o){const h=this.centroidData[o.centroidDataIndex];h.flags&=O0,h.centroidXY.x=0,h.centroidXY.y=0,this.writeCentroidToBuffer(h)}writeCentroidToBuffer(o){this.groundEffect.updateHiddenByLandmark(o);const h=o.vertexArrayOffset,p=o.vertexCount+o.vertexArrayOffset,v=o.flags&O0?cV:o.centroidXY,b=this.centroidVertexArray.geta_centroid_pos0(h);if(this.centroidVertexArray.geta_centroid_pos1(h)!==v.y||b!==v.x){for(let C=h;C<p;++C)this.centroidVertexArray.emplace(C,v.x,v.y);this.needsCentroidUpdate=!0}}createCentroidsBuffer(){this.centroidVertexArray.resize(this.layoutVertexArray.length),this.groundEffect.hiddenByLandmarkVertexArray.resize(this.groundEffect.vertexArray.length);for(const o of this.centroidData)this.writeCentroidToBuffer(o)}updateReplacement(o,h){if(h.updateTime===this.replacementUpdateTime)return;this.replacementUpdateTime=h.updateTime;const p=h.getReplacementRegionsForTile(o.toUnwrapped());if(function(b,C){if(b.length!==C.length)return!1;for(let M=0;M<b.length;M++)if(b[M].sourceId!==C[M].sourceId||!Z$(b[M],C[M]))return!1;return!0}(this.activeReplacements,p))return;if(this.activeReplacements=p,this.centroidVertexArray.length===0)this.createCentroidsBuffer();else for(const b of this.centroidData)b.flags&=2147483647;const v=[];for(const b of this.activeReplacements){const C=Math.pow(2,b.footprintTileId.canonical.z-o.canonical.z);for(const M of this.centroidData)if(!(M.flags&O0||b.min.x>M.max.x||M.min.x>b.max.x||b.min.y>M.max.y||M.min.y>b.max.y))for(let k=0;k<M.footprintSegLen;k++){const O=this.footprintSegments[M.footprintSegIdx+k];if(v.length=0,zpe(this.footprintVertices,O.vertexOffset,O.vertexCount,b.footprintTileId.canonical,o.canonical,v),tV(b.footprint,v,this.footprintIndices.uint16,O.indexOffset,O.indexCount,-O.vertexOffset,-C)){M.flags|=O0;break}}}for(const b of this.centroidData)this.writeCentroidToBuffer(b);this.borderDoneWithNeighborZ=[-1,-1,-1,-1]}footprintContainsPoint(o,h,p){let v=!1;for(let b=0;b<p.footprintSegLen;b++){const C=this.footprintSegments[p.footprintSegIdx+b];let M=0;for(const k of C.ringIndices){for(let O=M,U=k+M-1;O<k+M;U=O++){const G=this.footprintVertices.int16[2*(O+C.vertexOffset)+0],Z=this.footprintVertices.int16[2*(O+C.vertexOffset)+1],fe=this.footprintVertices.int16[2*(U+C.vertexOffset)+1];Z>h!=fe>h&&o<(this.footprintVertices.int16[2*(U+C.vertexOffset)+0]-G)*(h-Z)/(fe-Z)+G&&(v=!v)}M=k}}return v}getHeightAtTileCoord(o,h){let p=Number.NEGATIVE_INFINITY,v=!0;const b=4*(o+zn)*zn+(h+zn);if(this.partLookup.hasOwnProperty(b)){const C=this.partLookup[b];return C?{height:C.height,hidden:!!(C.flags&O0)}:void 0}for(const C of this.centroidData)o>C.max.x||C.min.x>o||h>C.max.y||C.min.y>h||this.footprintContainsPoint(o,h,C)&&C&&C.height>p&&(p=C.height,this.partLookup[b]=C,v=!!(C.flags&O0));if(p!==Number.NEGATIVE_INFINITY)return{height:p,hidden:v};this.partLookup[b]=void 0}}function mV(u,o){const h=u.add(o)._unit();return u.x*h.x+u.y*h.y}function Upe(u,o,h,p){const v=o.sub(u)._perp()._unit(),b=h.sub(o)._perp()._unit();return gV(u,o,h,mV(v,b),p)}function gV(u,o,h,p,v){const b=Math.sqrt(1-p*p);return Math.min(u.dist(o)/3,o.dist(h)/3,v*b/p)}function aI(u,o,h){return u.x<h[0].x&&o.x<h[0].x||u.x>h[1].x&&o.x>h[1].x||u.y<h[0].y&&o.y<h[0].y||u.y>h[1].y&&o.y>h[1].y}function vV(u,o){return u.x<o[0].x||u.x>o[1].x||u.y<o[0].y||u.y>o[1].y}function _V(u,o,h){if(u.x<0||u.x>=zn||o.x<0||o.x>=zn||h.x<0||h.x>=zn)return!1;const p=h.sub(o),v=p.perp(),b=u.sub(o);return(p.x*b.x+p.y*b.y)/Math.sqrt((p.x*p.x+p.y*p.y)*(b.x*b.x+b.y*b.y))>-.866&&v.x*b.x+v.y*b.y<0}function yV(u,o,h){const p=o?2|u:-3&u;return h?1|p:-2&p}function bV(){const u=Math.PI/32,o=Math.tan(u),h=_n;return h*Math.sqrt(1+2*o*o)-h}function wV(u,o,h){const p=1<<h.z,v=bi(h.x/p),b=bi((h.x+1)/p),C=na(h.y/p),M=na((h.y+1)/p);return function(k,O,U,G,Z=0,fe){const ge=[];if(!k.length||!U||!G)return ge;const xe=(yt,Dt)=>{for(const Gt of yt)ge.push({polygon:Gt,bounds:Dt})},Ie=Math.ceil(Math.log2(U)),Oe=Math.ceil(Math.log2(G)),rt=Ie-Oe,lt=[];for(let yt=0;yt<Math.abs(rt);yt++)lt.push(rt>0?0:1);for(let yt=0;yt<Math.min(Ie,Oe);yt++)lt.push(0),lt.push(1);let ot=k;if(ot=Q5(ot,O[0].y-Z,O[1].y+Z,1),ot=Q5(ot,O[0].x-Z,O[1].x+Z,0),!ot.length)return ge;const Tt=[];for(lt.length?Tt.push({polygons:ot,bounds:O,depth:0}):xe(ot,O);Tt.length;){const yt=Tt.pop(),Dt=yt.depth,Gt=lt[Dt],Xt=yt.bounds[0],pn=yt.bounds[1],en=Gt===0?Xt.x:Xt.y,Sn=Gt===0?pn.x:pn.y,Dn=fe?fe(Gt,en,Sn):.5*(en+Sn),yn=Q5(yt.polygons,en-Z,Dn+Z,Gt),On=Q5(yt.polygons,Dn-Z,Sn+Z,Gt);if(yn.length){const gn=[Xt,new K(Gt===0?Dn:pn.x,Gt===1?Dn:pn.y)];lt.length>Dt+1?Tt.push({polygons:yn,bounds:gn,depth:Dt+1}):xe(yn,gn)}if(On.length){const gn=[new K(Gt===0?Dn:Xt.x,Gt===1?Dn:Xt.y),pn];lt.length>Dt+1?Tt.push({polygons:On,bounds:gn,depth:Dt+1}):xe(On,gn)}}return ge}(u,o,Math.ceil((b-v)/11.25),Math.ceil((C-M)/11.25),1,(k,O,U)=>{if(k===0)return .5*(O+U);{const G=na((h.y+O/zn)/p);return(hi(.5*(na((h.y+U/zn)/p)+G))*p-h.y)*zn}})}function zpe(u,o,h,p,v,b){const C=Math.pow(2,p.z-v.z);for(let M=0;M<h;M++){let k=u.int16[2*(M+o)+0],O=u.int16[2*(M+o)+1];k=(k+v.x*zn)*C-p.x*zn,O=(O+v.y*zn)*C-p.y*zn,b.push(new K(k,O))}}ze(W5,"FillExtrusionBucket",{omit:["layers","features"]}),ze(dV,"PartData"),ze(hV,"FootprintSegment"),ze(fV,"BorderCentroidData"),ze(AV,"GroundEffect");const $pe=new Ia({visibility:new jn(rn["layout_fill-extrusion"].visibility),"fill-extrusion-edge-radius":new jn(rn["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var Vpe={paint:new Ia({"fill-extrusion-opacity":new jn(rn["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Cr(rn["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new jn(rn["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new jn(rn["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Cr(rn["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Cr(rn["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Cr(rn["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new jn(rn["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new jn(rn["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new jn(rn["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"]),"fill-extrusion-ambient-occlusion-wall-radius":new jn(rn["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-wall-radius"]),"fill-extrusion-ambient-occlusion-ground-radius":new jn(rn["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-ground-radius"]),"fill-extrusion-ambient-occlusion-ground-attenuation":new jn(rn["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-ground-attenuation"]),"fill-extrusion-flood-light-color":new jn(rn["paint_fill-extrusion"]["fill-extrusion-flood-light-color"]),"fill-extrusion-flood-light-intensity":new jn(rn["paint_fill-extrusion"]["fill-extrusion-flood-light-intensity"]),"fill-extrusion-flood-light-wall-radius":new Cr(rn["paint_fill-extrusion"]["fill-extrusion-flood-light-wall-radius"]),"fill-extrusion-flood-light-ground-radius":new Cr(rn["paint_fill-extrusion"]["fill-extrusion-flood-light-ground-radius"]),"fill-extrusion-flood-light-ground-attenuation":new jn(rn["paint_fill-extrusion"]["fill-extrusion-flood-light-ground-attenuation"]),"fill-extrusion-vertical-scale":new jn(rn["paint_fill-extrusion"]["fill-extrusion-vertical-scale"]),"fill-extrusion-rounded-roof":new jn(rn["paint_fill-extrusion"]["fill-extrusion-rounded-roof"]),"fill-extrusion-cutoff-fade-range":new jn(rn["paint_fill-extrusion"]["fill-extrusion-cutoff-fade-range"]),"fill-extrusion-emissive-strength":new jn(rn["paint_fill-extrusion"]["fill-extrusion-emissive-strength"])}),layout:$pe};class Zy extends K{constructor(o,h,p){super(o,h),this.z=p}}function fx(u,o){return u.x*o.x+u.y*o.y}function xV(u,o){if(u.length===1){let h=0;const p=o[h++];let v;for(;!v||p.equals(v);)if(v=o[h++],!v)return 1/0;for(;h<o.length;h++){const b=o[h],C=u[0],M=v.sub(p),k=b.sub(p),O=C.sub(p),U=fx(M,M),G=fx(M,k),Z=fx(k,k),fe=fx(O,M),ge=fx(O,k),xe=U*Z-G*G,Ie=(Z*fe-G*ge)/xe,Oe=(U*ge-G*fe)/xe,rt=p.z*(1-Ie-Oe)+v.z*Ie+b.z*Oe;if(isFinite(rt))return rt}return 1/0}{let h=1/0;for(const p of o)h=Math.min(h,p.z);return h}}function CV(u,o,h,p,v,b,C,M){const k=C*v.getElevationAt(u,o,!0,!0),O=b[0]!==0,U=O?b[1]===0?C*(b[0]/7-450):C*function(G,Z,fe){const ge=Math.floor(Z[0]/8),xe=Math.floor(Z[1]/8),Ie=10*(Z[0]-8*ge),Oe=10*(Z[1]-8*xe),rt=G.getElevationAt(ge,xe,!0,!0),lt=G.getMeterToDEM(fe),ot=Math.floor(.5*(Ie*lt-1)),Tt=Math.floor(.5*(Oe*lt-1)),yt=G.tileCoordToPixel(ge,xe),Dt=2*ot+1,Gt=2*Tt+1,Xt=function(On,gn,Rn,cr,Un){return[On.getElevationAtPixel(gn,Rn,!0),On.getElevationAtPixel(gn+Un,Rn,!0),On.getElevationAtPixel(gn,Rn+Un,!0),On.getElevationAtPixel(gn+cr,Rn+Un,!0)]}(G,yt.x-ot,yt.y-Tt,Dt,Gt),pn=Math.abs(Xt[0]-Xt[1]),en=Math.abs(Xt[2]-Xt[3]),Sn=Math.abs(Xt[0]-Xt[2])+Math.abs(Xt[1]-Xt[3]),Dn=Math.min(.25,.5*lt*(pn+en)/Dt),yn=Math.min(.25,.5*lt*Sn/Gt);return rt+Math.max(Dn*Ie,yn*Oe)}(v,b,M):k;return{base:k+(h===0)?-1:h,top:O?Math.max(U+p,k+h+2):k+p}}const Hpe=Sa([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:Qpe}=Hpe,jpe=Sa([{name:"a_packed",components:4,type:"Float32"}]),{members:Gpe}=jpe;class EV{constructor(o,h){this.width=o,this.height=h,this.nextRow=0,this.image=new k0({width:o,height:h}),this.positions={},this.uploaded=!1}getDash(o,h){const p=this.getKey(o,h);return this.positions[p]}trim(){const o=this.width,h=this.height=Le(this.nextRow);this.image.resize({width:o,height:h})}getKey(o,h){return o.join(",")+h}getDashRanges(o,h,p){const v=[];let b=o.length%2==1?-o[o.length-1]*p:0,C=o[0]*p,M=!0;v.push({left:b,right:C,isDash:M,zeroLength:o[0]===0});let k=o[0];for(let O=1;O<o.length;O++){M=!M;const U=o[O];b=k*p,k+=U,C=k*p,v.push({left:b,right:C,isDash:M,zeroLength:U===0})}return v}addRoundDash(o,h,p){const v=h/2;for(let b=-p;b<=p;b++){const C=this.width*(this.nextRow+p+b);let M=0,k=o[M];for(let O=0;O<this.width;O++){O/k.right>1&&(k=o[++M]);const U=Math.abs(O-k.left),G=Math.abs(O-k.right),Z=Math.min(U,G);let fe;const ge=b/p*(v+1);if(k.isDash){const xe=v-Math.abs(ge);fe=Math.sqrt(Z*Z+xe*xe)}else fe=v-Math.sqrt(Z*Z+ge*ge);this.image.data[C+O]=Math.max(0,Math.min(255,fe+128))}}}addRegularDash(o,h){for(let k=o.length-1;k>=0;--k){const O=o[k],U=o[k+1];O.zeroLength?o.splice(k,1):U&&U.isDash===O.isDash&&(U.left=O.left,o.splice(k,1))}const p=o[0],v=o[o.length-1];p.isDash===v.isDash&&(p.left=v.left-this.width,v.right=p.right+this.width);const b=this.width*this.nextRow;let C=0,M=o[C];for(let k=0;k<this.width;k++){k/M.right>1&&(M=o[++C]);const O=Math.abs(k-M.left),U=Math.abs(k-M.right),G=Math.min(O,U);this.image.data[b+k]=Math.max(0,Math.min(255,(M.isDash?G:-G)+h+128))}}addDash(o,h){const p=this.getKey(o,h);if(this.positions[p])return this.positions[p];const v=h==="round",b=v?7:0,C=2*b+1;if(this.nextRow+C>this.height)return Ge("LineAtlas out of space"),null;o.length===0&&o.push(1);let M=0;for(let U=0;U<o.length;U++)o[U]<0&&(Ge("Negative value is found in line dasharray, replacing values with 0"),o[U]=0),M+=o[U];if(M!==0){const U=this.width/M,G=this.getDashRanges(o,this.width,U);v?this.addRoundDash(G,U,b):this.addRegularDash(G,h==="square"?.5*U:0)}const k=this.nextRow+b;this.nextRow+=C;const O={tl:[k,b],br:[M,0]};return this.positions[p]=O,O}}ze(EV,"LineAtlas");const Kpe=H5.types,Wpe=Math.cos(Math.PI/180*37.5);class sI{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(h=>h.fqid),this.index=o.index,this.projection=o.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(h=>{this.gradients[h.id]={}}),this.layoutVertexArray=new k1,this.layoutVertexArray2=new Ad,this.indexArray=new ws,this.programConfigurations=new He(o.layers,o.zoom),this.segments=new Xs,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(h=>h.isStateDependent()).map(h=>h.id)}populate(o,h,p,v){this.hasPattern=tI("line",this.layers,h);const b=this.layers[0].layout.get("line-sort-key"),C=[];for(const{feature:U,id:G,index:Z,sourceLayerIndex:fe}of o){const ge=this.layers[0]._featureFilter.needGeometry,xe=No(U,ge);if(!this.layers[0]._featureFilter.filter(new Pi(this.zoom),xe,p))continue;const Ie=b?b.evaluate(xe,{},p):void 0,Oe={id:G,properties:U.properties,type:U.type,sourceLayerIndex:fe,index:Z,geometry:ge?xe.geometry:al(U,p,v),patterns:{},sortKey:Ie};C.push(Oe)}b&&C.sort((U,G)=>U.sortKey-G.sortKey);const{lineAtlas:M,featureIndex:k}=h,O=this.addConstantDashes(M);for(const U of C){const{geometry:G,index:Z,sourceLayerIndex:fe}=U;if(O&&this.addFeatureDashes(U,M),this.hasPattern){const ge=nI("line",this.layers,U,this.zoom,h);this.patternFeatures.push(ge)}else this.addFeature(U,G,Z,p,M.positions,h.availableImages,h.brightness);k.insert(o[Z].feature,G,Z,fe,this.index)}}addConstantDashes(o){let h=!1;for(const p of this.layers){const v=p.paint.get("line-dasharray").value,b=p.layout.get("line-cap").value;if(v.kind!=="constant"||b.kind!=="constant")h=!0;else{const C=b.value,M=v.value;if(!M)continue;o.addDash(M,C)}}return h}addFeatureDashes(o,h){const p=this.zoom;for(const v of this.layers){const b=v.paint.get("line-dasharray").value,C=v.layout.get("line-cap").value;if(b.kind==="constant"&&C.kind==="constant")continue;let M,k;if(b.kind==="constant"){if(M=b.value,!M)continue}else M=b.evaluate({zoom:p},o);k=C.kind==="constant"?C.value:C.evaluate({zoom:p},o),h.addDash(M,k),o.patterns[v.id]=h.getKey(M,k)}}update(o,h,p,v,b){const C=Object.keys(o).length!==0;C&&!this.stateDependentLayers.length||this.programConfigurations.updatePaintArrays(o,h,C?this.stateDependentLayers:this.layers,p,v,b)}addFeatures(o,h,p,v,b,C){for(const M of this.patternFeatures)this.addFeature(M,M.geometry,M.index,h,p,v,C)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=o.createVertexBuffer(this.layoutVertexArray2,Gpe)),this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,Qpe),this.indexBuffer=o.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(o){if(o.properties&&o.properties.hasOwnProperty("mapbox_clip_start")&&o.properties.hasOwnProperty("mapbox_clip_end"))return{start:+o.properties.mapbox_clip_start,end:+o.properties.mapbox_clip_end}}addFeature(o,h,p,v,b,C,M){const k=this.layers[0].layout,O=k.get("line-join").evaluate(o,{}),U=k.get("line-cap").evaluate(o,{}),G=k.get("line-miter-limit"),Z=k.get("line-round-limit");this.lineClips=this.lineFeatureClips(o);for(const fe of h)this.addLine(fe,o,O,U,G,Z);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,p,b,C,v,M)}addLine(o,h,p,v,b,C){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Oe=0;Oe<o.length-1;Oe++)this.totalDistance+=o[Oe].dist(o[Oe+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const M=Kpe[h.type]==="Polygon";let k=o.length;for(;k>=2&&o[k-1].equals(o[k-2]);)k--;let O=0;for(;O<k-1&&o[O].equals(o[O+1]);)O++;if(k<(M?3:2))return;p==="bevel"&&(b=1.05);const U=this.overscaling<=16?15*zn/(512*this.overscaling):0,G=this.segments.prepareSegment(10*k,this.layoutVertexArray,this.indexArray);let Z,fe,ge,xe,Ie;this.e1=this.e2=-1,M&&(Z=o[k-2],Ie=o[O].sub(Z)._unit()._perp());for(let Oe=O;Oe<k;Oe++){if(ge=Oe===k-1?M?o[O+1]:void 0:o[Oe+1],ge&&o[Oe].equals(ge))continue;Ie&&(xe=Ie),Z&&(fe=Z),Z=o[Oe],Ie=ge?ge.sub(Z)._unit()._perp():xe,xe=xe||Ie;let rt=xe.add(Ie);rt.x===0&&rt.y===0||rt._unit();const lt=xe.x*Ie.x+xe.y*Ie.y,ot=rt.x*Ie.x+rt.y*Ie.y,Tt=ot!==0?1/ot:1/0,yt=2*Math.sqrt(2-2*ot),Dt=ot<Wpe&&fe&&ge,Gt=xe.x*Ie.y-xe.y*Ie.x>0;if(Dt&&Oe>O){const en=Z.dist(fe);if(en>2*U){const Sn=Z.sub(Z.sub(fe)._mult(U/en)._round());this.updateDistance(fe,Sn),this.addCurrentVertex(Sn,xe,0,0,G),fe=Sn}}const Xt=fe&&ge;let pn=Xt?p:M?"butt":v;if(Xt&&pn==="round"&&(Tt<C?pn="miter":Tt<=2&&(pn="fakeround")),pn==="miter"&&Tt>b&&(pn="bevel"),pn==="bevel"&&(Tt>2&&(pn="flipbevel"),Tt<b&&(pn="miter")),fe&&this.updateDistance(fe,Z),pn==="miter")rt._mult(Tt),this.addCurrentVertex(Z,rt,0,0,G);else if(pn==="flipbevel"){if(Tt>100)rt=Ie.mult(-1);else{const en=Tt*xe.add(Ie).mag()/xe.sub(Ie).mag();rt._perp()._mult(en*(Gt?-1:1))}this.addCurrentVertex(Z,rt,0,0,G),this.addCurrentVertex(Z,rt.mult(-1),0,0,G)}else if(pn==="bevel"||pn==="fakeround"){const en=-Math.sqrt(Tt*Tt-1),Sn=Gt?en:0,Dn=Gt?0:en;if(fe&&this.addCurrentVertex(Z,xe,Sn,Dn,G),pn==="fakeround"){const yn=Math.round(180*yt/Math.PI/20);for(let On=1;On<yn;On++){let gn=On/yn;if(gn!==.5){const cr=gn-.5;gn+=gn*cr*(gn-1)*((1.0904+lt*(lt*(3.55645-1.43519*lt)-3.2452))*cr*cr+(.848013+lt*(.215638*lt-1.06021)))}const Rn=Ie.sub(xe)._mult(gn)._add(xe)._unit()._mult(Gt?-1:1);this.addHalfVertex(Z,Rn.x,Rn.y,!1,Gt,0,G)}}ge&&this.addCurrentVertex(Z,Ie,-Sn,-Dn,G)}else if(pn==="butt")this.addCurrentVertex(Z,rt,0,0,G);else if(pn==="square"){const en=fe?1:-1;fe||this.addCurrentVertex(Z,rt,en,en,G),this.addCurrentVertex(Z,rt,0,0,G),fe&&this.addCurrentVertex(Z,rt,en,en,G)}else pn==="round"&&(fe&&(this.addCurrentVertex(Z,xe,0,0,G),this.addCurrentVertex(Z,xe,1,1,G,!0)),ge&&(this.addCurrentVertex(Z,Ie,-1,-1,G,!0),this.addCurrentVertex(Z,Ie,0,0,G)));if(Dt&&Oe<k-1){const en=Z.dist(ge);if(en>2*U){const Sn=Z.add(ge.sub(Z)._mult(U/en)._round());this.updateDistance(Z,Sn),this.addCurrentVertex(Sn,Ie,0,0,G),Z=Sn}}}}addCurrentVertex(o,h,p,v,b,C=!1){const M=h.y*v-h.x,k=-h.y-h.x*v;this.addHalfVertex(o,h.x+h.y*p,h.y-h.x*p,C,!1,p,b),this.addHalfVertex(o,M,k,C,!0,-v,b)}addHalfVertex({x:o,y:h},p,v,b,C,M,k){this.layoutVertexArray.emplaceBack((o<<1)+(b?1:0),(h<<1)+(C?1:0),Math.round(63*p)+128,Math.round(63*v)+128,1+(M===0?0:M<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const O=k.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,O),k.primitiveLength++),C?this.e2=O:this.e1=O}updateScaledDistance(){if(this.lineClips){const o=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=o*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(o,h){this.distance+=o.dist(h),this.updateScaledDistance()}}ze(sI,"LineBucket",{omit:["layers","patternFeatures"]});const qpe=new Ia({"line-cap":new Cr(rn.layout_line["line-cap"]),"line-join":new Cr(rn.layout_line["line-join"]),"line-miter-limit":new jn(rn.layout_line["line-miter-limit"]),"line-round-limit":new jn(rn.layout_line["line-round-limit"]),"line-sort-key":new Cr(rn.layout_line["line-sort-key"]),visibility:new jn(rn.layout_line.visibility)});var SV={paint:new Ia({"line-opacity":new Cr(rn.paint_line["line-opacity"]),"line-color":new Cr(rn.paint_line["line-color"]),"line-translate":new jn(rn.paint_line["line-translate"]),"line-translate-anchor":new jn(rn.paint_line["line-translate-anchor"]),"line-width":new Cr(rn.paint_line["line-width"]),"line-gap-width":new Cr(rn.paint_line["line-gap-width"]),"line-offset":new Cr(rn.paint_line["line-offset"]),"line-blur":new Cr(rn.paint_line["line-blur"]),"line-dasharray":new Cr(rn.paint_line["line-dasharray"]),"line-pattern":new Cr(rn.paint_line["line-pattern"]),"line-gradient":new Bo(rn.paint_line["line-gradient"]),"line-trim-offset":new jn(rn.paint_line["line-trim-offset"]),"line-emissive-strength":new jn(rn.paint_line["line-emissive-strength"]),"line-border-width":new Cr(rn.paint_line["line-border-width"]),"line-border-color":new Cr(rn.paint_line["line-border-color"])}),layout:qpe};function TV(u,o,h){return o*(zn/(u.tileSize*Math.pow(2,h-u.tileID.overscaledZ)))}function BV(u,o){return 1/TV(u,1,o.tileZoom)}function MV(u,o,h,p){return u.translatePosMatrix(p||o.tileID.projMatrix,o,h.paint.get("line-translate"),h.paint.get("line-translate-anchor"))}const IV=u=>{const o=[];LV(u)&&o.push("RENDER_LINE_DASH"),u.paint.get("line-gradient")&&o.push("RENDER_LINE_GRADIENT");const h=u.paint.get("line-trim-offset");return h[0]===0&&h[1]===0||o.push("RENDER_LINE_TRIM_OFFSET"),u.paint.get("line-border-width").constantOr(1)!==0&&o.push("RENDER_LINE_BORDER"),o};function LV(u){const o=u.paint.get("line-dasharray").value;return o.value||o.kind!=="constant"}const PV=new class extends Cr{possiblyEvaluate(u,o){return o=new Pi(Math.floor(o.zoom),{now:o.now,fadeDuration:o.fadeDuration,transition:o.transition}),super.possiblyEvaluate(u,o)}evaluate(u,o,h,p){return o=se({},o,{zoom:Math.floor(o.zoom)}),super.evaluate(u,o,h,p)}}(SV.paint.properties["line-width"].specification);function FV(u,o){return o>0?o+2*u:u}PV.useIntegerZoom=!0;const Ype=Sa([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Xpe=Sa([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),Zpe=Sa([{name:"a_projected_pos",components:4,type:"Float32"}],4);Sa([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const Jpe=Sa([{name:"a_z_offset",components:1,type:"Float32"}],4),eAe=Sa([{name:"a_texb",components:2,type:"Uint16"}]),tAe=Sa([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),nAe=Sa([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"},{name:"a_z_offset",components:1,type:"Float32"}]);Sa([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const kV=Sa([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),rAe=Sa([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Sa([{name:"triangle",components:3,type:"Uint16"}]),Sa([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),Sa([{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Float32",name:"zOffset"},{type:"Uint8",name:"hasIconTextFit"}]),Sa([{type:"Float32",name:"offsetX"}]),Sa([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var hu=24;const Ap=128;function oI(u,o){const{expression:h}=o;if(h.kind==="constant")return{kind:"constant",layoutSize:h.evaluate(new Pi(u+1))};if(h.kind==="source")return{kind:"source"};{const{zoomStops:p,interpolationType:v}=h;let b=0;for(;b<p.length&&p[b]<=u;)b++;b=Math.max(0,b-1);let C=b;for(;C<p.length&&p[C]<u+1;)C++;C=Math.min(p.length-1,C);const M=p[b],k=p[C];return h.kind==="composite"?{kind:"composite",minZoom:M,maxZoom:k,interpolationType:v}:{kind:"camera",minZoom:M,maxZoom:k,minSize:h.evaluate(new Pi(M)),maxSize:h.evaluate(new Pi(k)),interpolationType:v}}}function q5(u,{uSize:o,uSizeT:h},{lowerSize:p,upperSize:v}){return u.kind==="source"?p/Ap:u.kind==="composite"?Ri(p/Ap,v/Ap,h):o}function Jy(u,o){let h=0,p=0;if(u.kind==="constant")p=u.layoutSize;else if(u.kind!=="source"){const{interpolationType:v,minZoom:b,maxZoom:C}=u,M=v?he(Wl.interpolationFactor(v,o,b,C),0,1):0;u.kind==="camera"?p=Ri(u.minSize,u.maxSize,M):h=M}return{uSizeT:h,uSize:p}}var iAe=Object.freeze({__proto__:null,SIZE_PACK_FACTOR:Ap,evaluateSizeForFeature:q5,evaluateSizeForZoom:Jy,getSizeData:oI});function aAe(u,o,h){return u.sections.forEach(p=>{p.text=function(v,b,C){const M=b.layout.get("text-transform").evaluate(C,{});return M==="uppercase"?v=v.toLocaleUpperCase():M==="lowercase"&&(v=v.toLocaleLowerCase()),Ma.applyArabicShaping&&(v=Ma.applyArabicShaping(v)),v}(p.text,o,h)}),u}const px={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};function sAe(u){return u===""||u===""||u===""||u===""||u===""||u===""||u===""||u===""||u===""||u===""||u===""||u===""||u===""||u===""||u===""||u===""||u===""}function oAe(u){return u===""||u===""||u===""||u===""||u===""||u===""||u===""||u===""||u===""||u===""}var lAe={read:function(u,o,h,p,v){var b,C,M=8*v-p-1,k=(1<<M)-1,O=k>>1,U=-7,G=h?v-1:0,Z=h?-1:1,fe=u[o+G];for(G+=Z,b=fe&(1<<-U)-1,fe>>=-U,U+=M;U>0;b=256*b+u[o+G],G+=Z,U-=8);for(C=b&(1<<-U)-1,b>>=-U,U+=p;U>0;C=256*C+u[o+G],G+=Z,U-=8);if(b===0)b=1-O;else{if(b===k)return C?NaN:1/0*(fe?-1:1);C+=Math.pow(2,p),b-=O}return(fe?-1:1)*C*Math.pow(2,b-p)},write:function(u,o,h,p,v,b){var C,M,k,O=8*b-v-1,U=(1<<O)-1,G=U>>1,Z=v===23?Math.pow(2,-24)-Math.pow(2,-77):0,fe=p?0:b-1,ge=p?1:-1,xe=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(M=isNaN(o)?1:0,C=U):(C=Math.floor(Math.log(o)/Math.LN2),o*(k=Math.pow(2,-C))<1&&(C--,k*=2),(o+=C+G>=1?Z/k:Z*Math.pow(2,1-G))*k>=2&&(C++,k/=2),C+G>=U?(M=0,C=U):C+G>=1?(M=(o*k-1)*Math.pow(2,v),C+=G):(M=o*Math.pow(2,G-1)*Math.pow(2,v),C=0));v>=8;u[h+fe]=255&M,fe+=ge,M/=256,v-=8);for(C=C<<v|M,O+=v;O>0;u[h+fe]=255&C,fe+=ge,C/=256,O-=8);u[h+fe-ge]|=128*xe}},RV=xs,Y5=lAe;function xs(u){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(u)?u:new Uint8Array(u||0),this.pos=0,this.type=0,this.length=this.buf.length}xs.Varint=0,xs.Fixed64=1,xs.Bytes=2,xs.Fixed32=5;var lI=4294967296,OV=1/lI,DV=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function vg(u){return u.type===xs.Bytes?u.readVarint()+u.pos:u.pos+1}function eb(u,o,h){return h?4294967296*o+(u>>>0):4294967296*(o>>>0)+(u>>>0)}function NV(u,o,h){var p=o<=16383?1:o<=2097151?2:o<=268435455?3:Math.floor(Math.log(o)/(7*Math.LN2));h.realloc(p);for(var v=h.pos-1;v>=u;v--)h.buf[v+p]=h.buf[v]}function uAe(u,o){for(var h=0;h<u.length;h++)o.writeVarint(u[h])}function cAe(u,o){for(var h=0;h<u.length;h++)o.writeSVarint(u[h])}function hAe(u,o){for(var h=0;h<u.length;h++)o.writeFloat(u[h])}function dAe(u,o){for(var h=0;h<u.length;h++)o.writeDouble(u[h])}function fAe(u,o){for(var h=0;h<u.length;h++)o.writeBoolean(u[h])}function pAe(u,o){for(var h=0;h<u.length;h++)o.writeFixed32(u[h])}function AAe(u,o){for(var h=0;h<u.length;h++)o.writeSFixed32(u[h])}function mAe(u,o){for(var h=0;h<u.length;h++)o.writeFixed64(u[h])}function gAe(u,o){for(var h=0;h<u.length;h++)o.writeSFixed64(u[h])}function X5(u,o){return(u[o]|u[o+1]<<8|u[o+2]<<16)+16777216*u[o+3]}function tb(u,o,h){u[h]=o,u[h+1]=o>>>8,u[h+2]=o>>>16,u[h+3]=o>>>24}function UV(u,o){return(u[o]|u[o+1]<<8|u[o+2]<<16)+(u[o+3]<<24)}xs.prototype={destroy:function(){this.buf=null},readFields:function(u,o,h){for(h=h||this.length;this.pos<h;){var p=this.readVarint(),v=p>>3,b=this.pos;this.type=7&p,u(v,o,this),this.pos===b&&this.skip(p)}return o},readMessage:function(u,o){return this.readFields(u,o,this.readVarint()+this.pos)},readFixed32:function(){var u=X5(this.buf,this.pos);return this.pos+=4,u},readSFixed32:function(){var u=UV(this.buf,this.pos);return this.pos+=4,u},readFixed64:function(){var u=X5(this.buf,this.pos)+X5(this.buf,this.pos+4)*lI;return this.pos+=8,u},readSFixed64:function(){var u=X5(this.buf,this.pos)+UV(this.buf,this.pos+4)*lI;return this.pos+=8,u},readFloat:function(){var u=Y5.read(this.buf,this.pos,!0,23,4);return this.pos+=4,u},readDouble:function(){var u=Y5.read(this.buf,this.pos,!0,52,8);return this.pos+=8,u},readVarint:function(u){var o,h,p=this.buf;return o=127&(h=p[this.pos++]),h<128?o:(o|=(127&(h=p[this.pos++]))<<7,h<128?o:(o|=(127&(h=p[this.pos++]))<<14,h<128?o:(o|=(127&(h=p[this.pos++]))<<21,h<128?o:function(v,b,C){var M,k,O=C.buf;if(M=(112&(k=O[C.pos++]))>>4,k<128||(M|=(127&(k=O[C.pos++]))<<3,k<128)||(M|=(127&(k=O[C.pos++]))<<10,k<128)||(M|=(127&(k=O[C.pos++]))<<17,k<128)||(M|=(127&(k=O[C.pos++]))<<24,k<128)||(M|=(1&(k=O[C.pos++]))<<31,k<128))return eb(v,M,b);throw new Error("Expected varint not more than 10 bytes")}(o|=(15&(h=p[this.pos]))<<28,u,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var u=this.readVarint();return u%2==1?(u+1)/-2:u/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var u=this.readVarint()+this.pos,o=this.pos;return this.pos=u,u-o>=12&&DV?function(h,p,v){return DV.decode(h.subarray(p,v))}(this.buf,o,u):function(h,p,v){for(var b="",C=p;C<v;){var M,k,O,U=h[C],G=null,Z=U>239?4:U>223?3:U>191?2:1;if(C+Z>v)break;Z===1?U<128&&(G=U):Z===2?(192&(M=h[C+1]))==128&&(G=(31&U)<<6|63&M)<=127&&(G=null):Z===3?(k=h[C+2],(192&(M=h[C+1]))==128&&(192&k)==128&&((G=(15&U)<<12|(63&M)<<6|63&k)<=2047||G>=55296&&G<=57343)&&(G=null)):Z===4&&(k=h[C+2],O=h[C+3],(192&(M=h[C+1]))==128&&(192&k)==128&&(192&O)==128&&((G=(15&U)<<18|(63&M)<<12|(63&k)<<6|63&O)<=65535||G>=1114112)&&(G=null)),G===null?(G=65533,Z=1):G>65535&&(G-=65536,b+=String.fromCharCode(G>>>10&1023|55296),G=56320|1023&G),b+=String.fromCharCode(G),C+=Z}return b}(this.buf,o,u)},readBytes:function(){var u=this.readVarint()+this.pos,o=this.buf.subarray(this.pos,u);return this.pos=u,o},readPackedVarint:function(u,o){if(this.type!==xs.Bytes)return u.push(this.readVarint(o));var h=vg(this);for(u=u||[];this.pos<h;)u.push(this.readVarint(o));return u},readPackedSVarint:function(u){if(this.type!==xs.Bytes)return u.push(this.readSVarint());var o=vg(this);for(u=u||[];this.pos<o;)u.push(this.readSVarint());return u},readPackedBoolean:function(u){if(this.type!==xs.Bytes)return u.push(this.readBoolean());var o=vg(this);for(u=u||[];this.pos<o;)u.push(this.readBoolean());return u},readPackedFloat:function(u){if(this.type!==xs.Bytes)return u.push(this.readFloat());var o=vg(this);for(u=u||[];this.pos<o;)u.push(this.readFloat());return u},readPackedDouble:function(u){if(this.type!==xs.Bytes)return u.push(this.readDouble());var o=vg(this);for(u=u||[];this.pos<o;)u.push(this.readDouble());return u},readPackedFixed32:function(u){if(this.type!==xs.Bytes)return u.push(this.readFixed32());var o=vg(this);for(u=u||[];this.pos<o;)u.push(this.readFixed32());return u},readPackedSFixed32:function(u){if(this.type!==xs.Bytes)return u.push(this.readSFixed32());var o=vg(this);for(u=u||[];this.pos<o;)u.push(this.readSFixed32());return u},readPackedFixed64:function(u){if(this.type!==xs.Bytes)return u.push(this.readFixed64());var o=vg(this);for(u=u||[];this.pos<o;)u.push(this.readFixed64());return u},readPackedSFixed64:function(u){if(this.type!==xs.Bytes)return u.push(this.readSFixed64());var o=vg(this);for(u=u||[];this.pos<o;)u.push(this.readSFixed64());return u},skip:function(u){var o=7&u;if(o===xs.Varint)for(;this.buf[this.pos++]>127;);else if(o===xs.Bytes)this.pos=this.readVarint()+this.pos;else if(o===xs.Fixed32)this.pos+=4;else{if(o!==xs.Fixed64)throw new Error("Unimplemented type: "+o);this.pos+=8}},writeTag:function(u,o){this.writeVarint(u<<3|o)},realloc:function(u){for(var o=this.length||16;o<this.pos+u;)o*=2;if(o!==this.length){var h=new Uint8Array(o);h.set(this.buf),this.buf=h,this.length=o}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(u){this.realloc(4),tb(this.buf,u,this.pos),this.pos+=4},writeSFixed32:function(u){this.realloc(4),tb(this.buf,u,this.pos),this.pos+=4},writeFixed64:function(u){this.realloc(8),tb(this.buf,-1&u,this.pos),tb(this.buf,Math.floor(u*OV),this.pos+4),this.pos+=8},writeSFixed64:function(u){this.realloc(8),tb(this.buf,-1&u,this.pos),tb(this.buf,Math.floor(u*OV),this.pos+4),this.pos+=8},writeVarint:function(u){(u=+u||0)>268435455||u<0?function(o,h){var p,v;if(o>=0?(p=o%4294967296|0,v=o/4294967296|0):(v=~(-o/4294967296),4294967295^(p=~(-o%4294967296))?p=p+1|0:(p=0,v=v+1|0)),o>=18446744073709552e3||o<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");h.realloc(10),function(b,C,M){M.buf[M.pos++]=127&b|128,b>>>=7,M.buf[M.pos++]=127&b|128,b>>>=7,M.buf[M.pos++]=127&b|128,b>>>=7,M.buf[M.pos++]=127&b|128,M.buf[M.pos]=127&(b>>>=7)}(p,0,h),function(b,C){var M=(7&b)<<4;C.buf[C.pos++]|=M|((b>>>=3)?128:0),b&&(C.buf[C.pos++]=127&b|((b>>>=7)?128:0),b&&(C.buf[C.pos++]=127&b|((b>>>=7)?128:0),b&&(C.buf[C.pos++]=127&b|((b>>>=7)?128:0),b&&(C.buf[C.pos++]=127&b|((b>>>=7)?128:0),b&&(C.buf[C.pos++]=127&b)))))}(v,h)}(u,this):(this.realloc(4),this.buf[this.pos++]=127&u|(u>127?128:0),u<=127||(this.buf[this.pos++]=127&(u>>>=7)|(u>127?128:0),u<=127||(this.buf[this.pos++]=127&(u>>>=7)|(u>127?128:0),u<=127||(this.buf[this.pos++]=u>>>7&127))))},writeSVarint:function(u){this.writeVarint(u<0?2*-u-1:2*u)},writeBoolean:function(u){this.writeVarint(!!u)},writeString:function(u){u=String(u),this.realloc(4*u.length),this.pos++;var o=this.pos;this.pos=function(p,v,b){for(var C,M,k=0;k<v.length;k++){if((C=v.charCodeAt(k))>55295&&C<57344){if(!M){C>56319||k+1===v.length?(p[b++]=239,p[b++]=191,p[b++]=189):M=C;continue}if(C<56320){p[b++]=239,p[b++]=191,p[b++]=189,M=C;continue}C=M-55296<<10|C-56320|65536,M=null}else M&&(p[b++]=239,p[b++]=191,p[b++]=189,M=null);C<128?p[b++]=C:(C<2048?p[b++]=C>>6|192:(C<65536?p[b++]=C>>12|224:(p[b++]=C>>18|240,p[b++]=C>>12&63|128),p[b++]=C>>6&63|128),p[b++]=63&C|128)}return b}(this.buf,u,this.pos);var h=this.pos-o;h>=128&&NV(o,h,this),this.pos=o-1,this.writeVarint(h),this.pos+=h},writeFloat:function(u){this.realloc(4),Y5.write(this.buf,u,this.pos,!0,23,4),this.pos+=4},writeDouble:function(u){this.realloc(8),Y5.write(this.buf,u,this.pos,!0,52,8),this.pos+=8},writeBytes:function(u){var o=u.length;this.writeVarint(o),this.realloc(o);for(var h=0;h<o;h++)this.buf[this.pos++]=u[h]},writeRawMessage:function(u,o){this.pos++;var h=this.pos;u(o,this);var p=this.pos-h;p>=128&&NV(h,p,this),this.pos=h-1,this.writeVarint(p),this.pos+=p},writeMessage:function(u,o,h){this.writeTag(u,xs.Bytes),this.writeRawMessage(o,h)},writePackedVarint:function(u,o){o.length&&this.writeMessage(u,uAe,o)},writePackedSVarint:function(u,o){o.length&&this.writeMessage(u,cAe,o)},writePackedBoolean:function(u,o){o.length&&this.writeMessage(u,fAe,o)},writePackedFloat:function(u,o){o.length&&this.writeMessage(u,hAe,o)},writePackedDouble:function(u,o){o.length&&this.writeMessage(u,dAe,o)},writePackedFixed32:function(u,o){o.length&&this.writeMessage(u,pAe,o)},writePackedSFixed32:function(u,o){o.length&&this.writeMessage(u,AAe,o)},writePackedFixed64:function(u,o){o.length&&this.writeMessage(u,mAe,o)},writePackedSFixed64:function(u,o){o.length&&this.writeMessage(u,gAe,o)},writeBytesField:function(u,o){this.writeTag(u,xs.Bytes),this.writeBytes(o)},writeFixed32Field:function(u,o){this.writeTag(u,xs.Fixed32),this.writeFixed32(o)},writeSFixed32Field:function(u,o){this.writeTag(u,xs.Fixed32),this.writeSFixed32(o)},writeFixed64Field:function(u,o){this.writeTag(u,xs.Fixed64),this.writeFixed64(o)},writeSFixed64Field:function(u,o){this.writeTag(u,xs.Fixed64),this.writeSFixed64(o)},writeVarintField:function(u,o){this.writeTag(u,xs.Varint),this.writeVarint(o)},writeSVarintField:function(u,o){this.writeTag(u,xs.Varint),this.writeSVarint(o)},writeStringField:function(u,o){this.writeTag(u,xs.Bytes),this.writeString(o)},writeFloatField:function(u,o){this.writeTag(u,xs.Fixed32),this.writeFloat(o)},writeDoubleField:function(u,o){this.writeTag(u,xs.Fixed64),this.writeDouble(o)},writeBooleanField:function(u,o){this.writeVarintField(u,!!o)}};var nb=R(RV);const uI=3;function vAe(u,o,h){o.glyphs=[],u===1&&h.readMessage(_Ae,o)}function _Ae(u,o,h){if(u===3){const{id:p,bitmap:v,width:b,height:C,left:M,top:k,advance:O}=h.readMessage(yAe,{});o.glyphs.push({id:p,bitmap:new k0({width:b+2*uI,height:C+2*uI},v),metrics:{width:b,height:C,left:M,top:k,advance:O}})}else u===4?o.ascender=h.readSVarint():u===5&&(o.descender=h.readSVarint())}function yAe(u,o,h){u===1?o.id=h.readVarint():u===2?o.bitmap=h.readBytes():u===3?o.width=h.readVarint():u===4?o.height=h.readVarint():u===5?o.left=h.readSVarint():u===6?o.top=h.readSVarint():u===7&&(o.advance=h.readVarint())}const zV=uI,xd={horizontal:1,vertical:2,horizontalOnly:3};class Ax{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(o,h){const p=new Ax;return p.scale=o||1,p.fontStack=h,p}static forImage(o){const h=new Ax;return h.imageName=o,h}}class rb{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(o,h){const p=new rb;for(let v=0;v<o.sections.length;v++){const b=o.sections[v];b.image?p.addImageSection(b):p.addTextSection(b,h)}return p}length(){return this.text.length}getSection(o){return this.sections[this.sectionIndex[o]]}getSections(){return this.sections}getSectionIndex(o){return this.sectionIndex[o]}getCodePoint(o){return this.text.codePointAt(o)}verticalizePunctuation(o){this.text=function(h,p){let v="";for(let b=0;b<h.length;b++){const C=h.charCodeAt(b+1)||null,M=h.charCodeAt(b-1)||null;v+=!p&&(C&&hr(C)&&!px[h[b+1]]||M&&hr(M)&&!px[h[b-1]])||!px[h[b]]?h[b]:px[h[b]]}return v}(this.text,o)}trim(){let o=0;for(let p=0;p<this.text.length&&Z5[this.text.charCodeAt(p)];p++)o++;let h=this.text.length;for(let p=this.text.length-1;p>=0&&p>=o&&Z5[this.text.charCodeAt(p)];p--)h--;this.text=this.text.substring(o,h),this.sectionIndex=this.sectionIndex.slice(o,h)}substring(o,h){const p=new rb;return p.text=this.text.substring(o,h),p.sectionIndex=this.sectionIndex.slice(o,h),p.sections=this.sections,p}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((o,h)=>Math.max(o,this.sections[h].scale),0)}addTextSection(o,h){this.text+=o.text,this.sections.push(Ax.forText(o.scale,o.fontStack||h));const p=this.sections.length-1;for(let v=0;v<o.text.length;++v)this.sectionIndex.push(p)}addImageSection(o){const h=o.image?o.image.namePrimary:"";if(h.length===0)return void Ge("Can't add FormattedSection with an empty image.");const p=this.getNextImageSectionCharCode();p?(this.text+=String.fromCodePoint(p),this.sections.push(Ax.forImage(h)),this.sectionIndex.push(this.sections.length-1)):Ge("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function cI(u,o,h,p,v,b,C,M,k,O,U,G,Z,fe,ge){const xe=rb.fromFeature(u,v);G===xd.vertical&&xe.verticalizePunctuation(Z);let Ie=[];const Oe=function(yt,Dt,Gt,Xt,pn,en){if(!yt)return[];const Sn=[],Dn=function(Rn,cr,Un,Br,yr,qn){let ni=0;for(let Ur=0;Ur<Rn.length();Ur++){const Sr=Rn.getSection(Ur);ni+=$V(Rn.getCodePoint(Ur),Sr,Br,yr,cr,qn)}return ni/Math.max(1,Math.ceil(ni/Un))}(yt,Dt,Gt,Xt,pn,en),yn=yt.text.indexOf("")>=0;let On=0;for(let Rn=0;Rn<yt.length();Rn++){const cr=yt.getSection(Rn),Un=yt.getCodePoint(Rn);if(Z5[Un]||(On+=$V(Un,cr,Xt,pn,Dt,en)),Rn<yt.length()-1){const Br=!((gn=Un)<11904||!(ft["Bopomofo Extended"](gn)||ft.Bopomofo(gn)||ft["CJK Compatibility Forms"](gn)||ft["CJK Compatibility Ideographs"](gn)||ft["CJK Compatibility"](gn)||ft["CJK Radicals Supplement"](gn)||ft["CJK Strokes"](gn)||ft["CJK Symbols and Punctuation"](gn)||ft["CJK Unified Ideographs Extension A"](gn)||ft["CJK Unified Ideographs"](gn)||ft["Enclosed CJK Letters and Months"](gn)||ft["Halfwidth and Fullwidth Forms"](gn)||ft.Hiragana(gn)||ft["Ideographic Description Characters"](gn)||ft["Kangxi Radicals"](gn)||ft["Katakana Phonetic Extensions"](gn)||ft.Katakana(gn)||ft["Vertical Forms"](gn)||ft["Yi Radicals"](gn)||ft["Yi Syllables"](gn)));(bAe[Un]||Br||cr.imageName)&&Sn.push(HV(Rn+1,On,Dn,Sn,wAe(Un,yt.getCodePoint(Rn+1),Br&&yn),!1))}}var gn;return QV(HV(yt.length(),On,Dn,Sn,0,!0))}(xe,O,b,o,p,fe),{processBidirectionalText:rt,processStyledBidirectionalText:lt}=Ma;if(rt&&xe.sections.length===1){const yt=rt(xe.toString(),Oe);for(const Dt of yt){const Gt=new rb;Gt.text=Dt,Gt.sections=xe.sections;for(let Xt=0;Xt<Dt.length;Xt++)Gt.sectionIndex.push(0);Ie.push(Gt)}}else if(lt){const yt=lt(xe.text,xe.sectionIndex,Oe);for(const Dt of yt){const Gt=new rb;Gt.text=Dt[0],Gt.sectionIndex=Dt[1],Gt.sections=xe.sections,Ie.push(Gt)}}else Ie=function(yt,Dt){const Gt=[],Xt=yt.text;let pn=0;for(const en of Dt)Gt.push(yt.substring(pn,en)),pn=en;return pn<Xt.length&&Gt.push(yt.substring(pn,Xt.length)),Gt}(xe,Oe);const ot=[],Tt={positionedLines:ot,text:xe.toString(),top:U[1],bottom:U[1],left:U[0],right:U[0],writingMode:G,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(yt,Dt,Gt,Xt,pn,en,Sn,Dn,yn,On,gn,Rn){let cr=0,Un=0,Br=0;const yr=Dn==="right"?1:Dn==="left"?0:.5;let qn=!1;for(const Ni of pn){const ri=Ni.getSections();for(const Ui of ri){if(Ui.imageName)continue;const gi=Dt[Ui.fontStack];if(gi&&(qn=gi.ascender!==void 0&&gi.descender!==void 0,!qn))break}if(!qn)break}let ni=0;for(const Ni of pn){Ni.trim();const ri=Ni.getMaxScale(),Ui=(ri-1)*hu,gi={positionedGlyphs:[],lineOffset:0};yt.positionedLines[ni]=gi;const ea=gi.positionedGlyphs;let Ei=0;if(!Ni.length()){Un+=en,++ni;continue}let Ya=0,va=0;for(let Ta=0;Ta<Ni.length();Ta++){const _a=Ni.getSection(Ta),Cs=Ni.getSectionIndex(Ta),Da=Ni.getCodePoint(Ta);let Zs=_a.scale,Ho=null,Yl=null,fs=null,Ps=hu,vl=0;const _l=!(yn===xd.horizontal||!gn&&!An(Da)||gn&&(Z5[Da]||(Ur=Da,ft.Arabic(Ur)||ft["Arabic Supplement"](Ur)||ft["Arabic Extended-A"](Ur)||ft["Arabic Presentation Forms-A"](Ur)||ft["Arabic Presentation Forms-B"](Ur))));if(_a.imageName){const yl=Xt[_a.imageName];if(!yl)continue;fs=_a.imageName,yt.iconsInText=yt.iconsInText||!0,Yl=yl.paddedRect;const os=yl.displaySize;Zs=Zs*hu/Rn,Ho={width:os[0],height:os[1],left:0,top:-zV,advance:_l?os[1]:os[0],localGlyph:!1},vl=qn?-Ho.height*Zs:ri*hu-17-os[1]*Zs,Ps=Ho.advance;const wh=(_l?os[0]:os[1])*Zs-hu*ri;wh>0&&wh>Ei&&(Ei=wh)}else{const yl=Gt[_a.fontStack];if(!yl)continue;yl[Da]&&(Yl=yl[Da]);const os=Dt[_a.fontStack];if(!os)continue;const wh=os.glyphs[Da];if(!wh)continue;if(Ho=wh.metrics,Ps=Da!==8203?hu:0,qn){const H0=os.ascender!==void 0?Math.abs(os.ascender):0,mc=os.descender!==void 0?Math.abs(os.descender):0,xh=(H0+mc)*Zs;Ya<xh&&(Ya=xh,va=(H0-mc)/2*Zs),vl=-H0*Zs}else vl=(ri-Zs)*hu-17}_l?(yt.verticalizable=!0,ea.push({glyph:Da,imageName:fs,x:cr,y:Un+vl,vertical:_l,scale:Zs,localGlyph:Ho.localGlyph,fontStack:_a.fontStack,sectionIndex:Cs,metrics:Ho,rect:Yl}),cr+=Ps*Zs+On):(ea.push({glyph:Da,imageName:fs,x:cr,y:Un+vl,vertical:_l,scale:Zs,localGlyph:Ho.localGlyph,fontStack:_a.fontStack,sectionIndex:Cs,metrics:Ho,rect:Yl}),cr+=Ho.advance*Zs+On)}ea.length!==0&&(Br=Math.max(cr-On,Br),qn?jV(ea,yr,Ei,va,en*ri/2):jV(ea,yr,Ei,0,en/2)),cr=0;const ya=en*ri+Ei;gi.lineOffset=Math.max(Ei,Ui),Un+=ya,++ni}var Ur;const Sr=Un,{horizontalAlign:Yn,verticalAlign:qr}=hI(Sn);(function(Ni,ri,Ui,gi,ea,Ei){const Ya=(ri-Ui)*ea,va=-Ei*gi;for(const ya of Ni)for(const Ta of ya.positionedGlyphs)Ta.x+=Ya,Ta.y+=va})(yt.positionedLines,yr,Yn,qr,Br,Sr),yt.top+=-qr*Sr,yt.bottom=yt.top+Sr,yt.left+=-Yn*Br,yt.right=yt.left+Br,yt.hasBaseline=qn}(Tt,o,h,p,Ie,C,M,k,G,O,Z,ge),!function(yt){for(const Dt of yt)if(Dt.positionedGlyphs.length!==0)return!1;return!0}(ot)&&Tt}const Z5={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},bAe={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function $V(u,o,h,p,v,b){if(o.imageName){const C=p[o.imageName];return C?C.displaySize[0]*o.scale*hu/b+v:0}{const C=h[o.fontStack],M=C&&C.glyphs[u];return M?M.metrics.advance*o.scale+v:0}}function VV(u,o,h,p){const v=Math.pow(u-o,2);return p?u<o?v/2:2*v:v+Math.abs(h)*h}function wAe(u,o,h){let p=0;return u===10&&(p-=1e4),h&&(p+=150),u!==40&&u!==65288||(p+=50),o!==41&&o!==65289||(p+=50),p}function HV(u,o,h,p,v,b){let C=null,M=VV(o,h,v,b);for(const k of p){const O=VV(o-k.x,h,v,b)+k.badness;O<=M&&(C=k,M=O)}return{index:u,x:o,priorBreak:C,badness:M}}function QV(u){return u?QV(u.priorBreak).concat(u.index):[]}function hI(u){let o=.5,h=.5;switch(u){case"right":case"top-right":case"bottom-right":o=1;break;case"left":case"top-left":case"bottom-left":o=0}switch(u){case"bottom":case"bottom-right":case"bottom-left":h=1;break;case"top":case"top-right":case"top-left":h=0}return{horizontalAlign:o,verticalAlign:h}}function jV(u,o,h,p,v){if(!(o||h||p||v))return;const b=u.length-1,C=u[b],M=(C.x+C.metrics.advance*C.scale)*o;for(let k=0;k<=b;k++)u[k].x-=M,u[k].y+=h+p+v}function xAe(u,o,h,p){const{horizontalAlign:v,verticalAlign:b}=hI(p),C=h[0]-u.displaySize[0]*v,M=h[1]-u.displaySize[1]*b;return{imagePrimary:u,imageSecondary:o,top:M,bottom:M+u.displaySize[1],left:C,right:C+u.displaySize[0]}}function GV(u,o,h,p,v,b){const C=u.imagePrimary;let M;if(C.content){const Ie=C.content,Oe=C.pixelRatio||1;M=[Ie[0]/Oe,Ie[1]/Oe,C.displaySize[0]-Ie[2]/Oe,C.displaySize[1]-Ie[3]/Oe]}const k=o.left*b,O=o.right*b;let U,G,Z,fe;h==="width"||h==="both"?(fe=v[0]+k-p[3],G=v[0]+O+p[1]):(fe=v[0]+(k+O-C.displaySize[0])/2,G=fe+C.displaySize[0]);const ge=o.top*b,xe=o.bottom*b;return h==="height"||h==="both"?(U=v[1]+ge-p[0],Z=v[1]+xe+p[2]):(U=v[1]+(ge+xe-C.displaySize[1])/2,Z=U+C.displaySize[1]),{imagePrimary:C,imageSecondary:void 0,top:U,right:G,bottom:Z,left:fe,collisionPadding:M}}class _g extends K{constructor(o,h,p,v,b){super(o,h),this.angle=v,this.z=p,b!==void 0&&(this.segment=b)}clone(){return new _g(this.x,this.y,this.z,this.angle,this.segment)}}function KV(u,o,h,p,v){if(o.segment===void 0)return!0;let b=o,C=o.segment+1,M=0;for(;M>-h/2;){if(C--,C<0)return!1;M-=u[C].dist(b),b=u[C]}M+=u[C].dist(u[C+1]),C++;const k=[];let O=0;for(;M<h/2;){const U=u[C],G=u[C+1];if(!G)return!1;let Z=u[C-1].angleTo(U)-U.angleTo(G);for(Z=Math.abs((Z+3*Math.PI)%(2*Math.PI)-Math.PI),k.push({distance:M,angleDelta:Z}),O+=Z;M-k[0].distance>p;)O-=k.shift().angleDelta;if(O>v)return!1;C++,M+=U.dist(G)}return!0}function WV(u){let o=0;for(let h=0;h<u.length-1;h++)o+=u[h].dist(u[h+1]);return o}function qV(u,o,h){return u?.6*o*h:0}function YV(u,o){return Math.max(u?u.right-u.left:0,o?o.right-o.left:0)}function CAe(u,o,h,p,v,b){const C=qV(h,v,b),M=YV(h,p)*b;let k=0;const O=WV(u)/2;for(let U=0;U<u.length-1;U++){const G=u[U],Z=u[U+1],fe=G.dist(Z);if(k+fe>O){const ge=(O-k)/fe,xe=Ri(G.x,Z.x,ge),Ie=Ri(G.y,Z.y,ge),Oe=new _g(xe,Ie,0,Z.angleTo(G),U);return!C||KV(u,Oe,M,C,o)?Oe:void 0}k+=fe}}function EAe(u,o,h,p,v,b,C,M,k){const O=qV(p,b,C),U=YV(p,v),G=U*C,Z=u[0].x===0||u[0].x===k||u[0].y===0||u[0].y===k;return o-G<o/4&&(o=G+o/4),XV(u,Z?o/2*M%o:(U/2+2*b)*C*M%o,o,O,h,G,Z,!1,k)}function XV(u,o,h,p,v,b,C,M,k){const O=b/2,U=WV(u);let G=0,Z=o-h,fe=[];for(let ge=0;ge<u.length-1;ge++){const xe=u[ge],Ie=u[ge+1],Oe=xe.dist(Ie),rt=Ie.angleTo(xe);for(;Z+h<G+Oe;){Z+=h;const lt=(Z-G)/Oe,ot=Ri(xe.x,Ie.x,lt),Tt=Ri(xe.y,Ie.y,lt);if(ot>=0&&ot<k&&Tt>=0&&Tt<k&&Z-O>=0&&Z+O<=U){const yt=new _g(ot,Tt,0,rt,ge);p&&!KV(u,yt,b,p,v)||fe.push(yt)}}G+=Oe}return M||fe.length||C||(fe=XV(u,G/2,h,p,v,b,C,!0,k)),fe}function ZV(u,o,h,p,v){const b=[];for(let C=0;C<u.length;C++){const M=u[C];let k;for(let O=0;O<M.length-1;O++){let U=M[O],G=M[O+1];U.x<o&&G.x<o||(U.x<o?U=new K(o,U.y+(o-U.x)/(G.x-U.x)*(G.y-U.y))._round():G.x<o&&(G=new K(o,U.y+(o-U.x)/(G.x-U.x)*(G.y-U.y))._round()),U.y<h&&G.y<h||(U.y<h?U=new K(U.x+(h-U.y)/(G.y-U.y)*(G.x-U.x),h)._round():G.y<h&&(G=new K(U.x+(h-U.y)/(G.y-U.y)*(G.x-U.x),h)._round()),U.x>=p&&G.x>=p||(U.x>=p?U=new K(p,U.y+(p-U.x)/(G.x-U.x)*(G.y-U.y))._round():G.x>=p&&(G=new K(p,U.y+(p-U.x)/(G.x-U.x)*(G.y-U.y))._round()),U.y>=v&&G.y>=v||(U.y>=v?U=new K(U.x+(v-U.y)/(G.y-U.y)*(G.x-U.x),v)._round():G.y>=v&&(G=new K(U.x+(v-U.y)/(G.y-U.y)*(G.x-U.x),v)._round()),k&&U.equals(k[k.length-1])||(k=[U],b.push(k)),k.push(G)))))}}return b}function JV(u){let o=0,h=0;for(const C of u)o+=C.w*C.h,h=Math.max(h,C.w);u.sort((C,M)=>M.h-C.h);const p=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(o/.95)),h),h:1/0}];let v=0,b=0;for(const C of u)for(let M=p.length-1;M>=0;M--){const k=p[M];if(!(C.w>k.w||C.h>k.h)){if(C.x=k.x,C.y=k.y,b=Math.max(b,C.y+C.h),v=Math.max(v,C.x+C.w),C.w===k.w&&C.h===k.h){const O=p.pop();M<p.length&&(p[M]=O)}else C.h===k.h?(k.x+=C.w,k.w-=C.w):C.w===k.w?(k.y+=C.h,k.h-=C.h):(p.push({x:k.x+C.w,y:k.y,w:k.w-C.w,h:C.h}),k.y+=C.h,k.h-=C.h);break}}return{w:v,h:b,fill:o/(v*b)||0}}ze(_g,"Anchor");const bh=1;class dI{constructor(o,{pixelRatio:h,version:p,stretchX:v,stretchY:b,content:C}){this.paddedRect=o,this.pixelRatio=h,this.stretchX=v,this.stretchY=b,this.content=C,this.version=p}get tl(){return[this.paddedRect.x+bh,this.paddedRect.y+bh]}get br(){return[this.paddedRect.x+this.paddedRect.w-bh,this.paddedRect.y+this.paddedRect.h-bh]}get displaySize(){return[(this.paddedRect.w-2*bh)/this.pixelRatio,(this.paddedRect.h-2*bh)/this.pixelRatio]}}class eH{constructor(o,h){const p={},v={};this.haveRenderCallbacks=[];const b=[];this.addImages(o,p,b),this.addImages(h,v,b);const{w:C,h:M}=JV(b),k=new wd({width:C||1,height:M||1});for(const O in o){const U=o[O],G=p[O].paddedRect;wd.copy(U.data,k,{x:0,y:0},{x:G.x+bh,y:G.y+bh},U.data,U.sdf)}for(const O in h){const U=h[O],G=v[O].paddedRect,Z=G.x+bh,fe=G.y+bh,ge=U.data.width,xe=U.data.height;wd.copy(U.data,k,{x:0,y:0},{x:Z,y:fe},U.data),wd.copy(U.data,k,{x:0,y:xe-1},{x:Z,y:fe-1},{width:ge,height:1}),wd.copy(U.data,k,{x:0,y:0},{x:Z,y:fe+xe},{width:ge,height:1}),wd.copy(U.data,k,{x:ge-1,y:0},{x:Z-1,y:fe},{width:1,height:xe}),wd.copy(U.data,k,{x:0,y:0},{x:Z+ge,y:fe},{width:1,height:xe})}this.image=k,this.iconPositions=p,this.patternPositions=v}addImages(o,h,p){for(const v in o){const b=o[v],C={x:0,y:0,w:b.data.width+2*bh,h:b.data.height+2*bh};p.push(C),h[v]=new dI(C,b),b.hasRenderCallback&&this.haveRenderCallbacks.push(v)}}patchUpdatedImages(o,h,p){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(v=>o.hasImage(v,p)),o.dispatchRenderCallbacks(this.haveRenderCallbacks,p);for(const v in o.getUpdatedImages(p))this.patchUpdatedImage(this.iconPositions[v],o.getImage(v,p),h),this.patchUpdatedImage(this.patternPositions[v],o.getImage(v,p),h)}patchUpdatedImage(o,h,p){if(!o||!h||o.version===h.version)return;o.version=h.version;const[v,b]=o.tl,C=!!Object.keys(this.patternPositions).length;p.update(h.data,{useMipmap:C},{x:v,y:b})}}ze(dI,"ImagePosition"),ze(eH,"ImageAtlas");const mx=1e20;function tH(u,o,h,p,v,b,C,M,k){for(let O=o;O<o+p;O++)nH(u,h*b+O,b,v,C,M,k);for(let O=h;O<h+v;O++)nH(u,O*b+o,1,p,C,M,k)}function nH(u,o,h,p,v,b,C){b[0]=0,C[0]=-mx,C[1]=mx,v[0]=u[o];for(let M=1,k=0,O=0;M<p;M++){v[M]=u[o+M*h];const U=M*M;do{const G=b[k];O=(v[M]-v[G]+U-G*G)/(M-G)/2}while(O<=C[k]&&--k>-1);k++,b[k]=M,C[k]=O,C[k+1]=mx}for(let M=0,k=0;M<p;M++){for(;C[k+1]<M;)k++;const O=b[k],U=M-O;u[o+M*h]=v[O]+U*U}}const mp=2,fI={none:0,ideographs:1,all:2};class ib{constructor(o,h,p){this.requestManager=o,this.localGlyphMode=h,this.localFontFamily=p,this.urls={},this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(o,h){this.urls[h]=o}getGlyphs(o,h,p){const v=[],b=this.urls[h]||m.GLYPHS_URL;for(const C in o)for(const M of o[C])v.push({stack:C,id:M});Ee(v,({stack:C,id:M},k)=>{let O=this.entries[C];O||(O=this.entries[C]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let U=O.glyphs[M];if(U!==void 0)return void k(null,{stack:C,id:M,glyph:U});if(U=this._tinySDF(O,C,M),U)return O.glyphs[M]=U,void k(null,{stack:C,id:M,glyph:U});const G=Math.floor(M/256);if(256*G>65535)return void k(new Error("glyphs > 65535 not supported"));if(O.ranges[G])return void k(null,{stack:C,id:M,glyph:U});let Z=O.requests[G];Z||(Z=O.requests[G]=[],ib.loadGlyphRange(C,G,b,this.requestManager,(fe,ge)=>{if(ge){O.ascender=ge.ascender,O.descender=ge.descender;for(const xe in ge.glyphs)this._doesCharSupportLocalGlyph(+xe)||(O.glyphs[+xe]=ge.glyphs[+xe]);O.ranges[G]=!0}for(const xe of Z)xe(fe,ge);delete O.requests[G]})),Z.push((fe,ge)=>{fe?k(fe):ge&&k(null,{stack:C,id:M,glyph:ge.glyphs[M]||null})})},(C,M)=>{if(C)p(C);else if(M){const k={};for(const{stack:O,id:U,glyph:G}of M)k[O]===void 0&&(k[O]={}),k[O].glyphs===void 0&&(k[O].glyphs={}),k[O].glyphs[U]=G&&{id:G.id,bitmap:G.bitmap.clone(),metrics:G.metrics},k[O].ascender=this.entries[O].ascender,k[O].descender=this.entries[O].descender;p(null,k)}})}_doesCharSupportLocalGlyph(o){return this.localGlyphMode!==fI.none&&(this.localGlyphMode===fI.all?!!this.localFontFamily:!!this.localFontFamily&&(ft["CJK Unified Ideographs"](o)||ft["Hangul Syllables"](o)||ft.Hiragana(o)||ft.Katakana(o)||ft["CJK Symbols and Punctuation"](o)||ft["CJK Unified Ideographs Extension A"](o)||ft["CJK Unified Ideographs Extension B"](o)))}_tinySDF(o,h,p){const v=this.localFontFamily;if(!v||!this._doesCharSupportLocalGlyph(p))return;let b=o.tinySDF;if(!b){let xe="400";/bold/i.test(h)?xe="900":/medium/i.test(h)?xe="500":/light/i.test(h)&&(xe="200"),b=o.tinySDF=new ib.TinySDF({fontFamily:v,fontWeight:xe,fontSize:24*mp,buffer:3*mp,radius:8*mp}),b.fontWeight=xe}if(this.localGlyphs[b.fontWeight][p])return this.localGlyphs[b.fontWeight][p];const C=String.fromCodePoint(p),{data:M,width:k,height:O,glyphWidth:U,glyphHeight:G,glyphLeft:Z,glyphTop:fe,glyphAdvance:ge}=b.draw(C);return this.localGlyphs[b.fontWeight][p]={id:p,bitmap:new k0({width:k,height:O},M),metrics:{width:U/mp,height:G/mp,left:Z/mp,top:fe/mp-27,advance:ge/mp,localGlyph:!0}}}}ib.loadGlyphRange=function(u,o,h,p,v){const b=256*o,C=b+255,M=p.transformRequest(p.normalizeGlyphsURL(h).replace("{fontstack}",u).replace("{range}",`${b}-${C}`),Rr.Glyphs);hn(M,(k,O)=>{if(k)v(k);else if(O){const U={},G=function(Z){return new nb(Z).readFields(vAe,{})}(O);for(const Z of G.glyphs)U[Z.id]=Z;v(null,{glyphs:U,ascender:G.ascender,descender:G.descender})}})},ib.TinySDF=class{constructor({fontSize:u=24,buffer:o=3,radius:h=8,cutoff:p=.25,fontFamily:v="sans-serif",fontWeight:b="normal",fontStyle:C="normal"}={}){this.buffer=o,this.cutoff=p,this.radius=h;const M=this.size=u+4*o,k=this._createCanvas(M),O=this.ctx=k.getContext("2d",{willReadFrequently:!0});O.font=`${C} ${b} ${u}px ${v}`,O.textBaseline="alphabetic",O.textAlign="left",O.fillStyle="black",this.gridOuter=new Float64Array(M*M),this.gridInner=new Float64Array(M*M),this.f=new Float64Array(M),this.z=new Float64Array(M+1),this.v=new Uint16Array(M)}_createCanvas(u){const o=document.createElement("canvas");return o.width=o.height=u,o}draw(u){const{width:o,actualBoundingBoxAscent:h,actualBoundingBoxDescent:p,actualBoundingBoxLeft:v,actualBoundingBoxRight:b}=this.ctx.measureText(u),C=Math.ceil(h),M=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(b-v))),k=Math.min(this.size-this.buffer,C+Math.ceil(p)),O=M+2*this.buffer,U=k+2*this.buffer,G=Math.max(O*U,0),Z=new Uint8ClampedArray(G),fe={data:Z,width:O,height:U,glyphWidth:M,glyphHeight:k,glyphTop:C,glyphLeft:0,glyphAdvance:o};if(M===0||k===0)return fe;const{ctx:ge,buffer:xe,gridInner:Ie,gridOuter:Oe}=this;ge.clearRect(xe,xe,M,k),ge.fillText(u,xe,xe+C);const rt=ge.getImageData(xe,xe,M,k);Oe.fill(mx,0,G),Ie.fill(0,0,G);for(let lt=0;lt<k;lt++)for(let ot=0;ot<M;ot++){const Tt=rt.data[4*(lt*M+ot)+3]/255;if(Tt===0)continue;const yt=(lt+xe)*O+ot+xe;if(Tt===1)Oe[yt]=0,Ie[yt]=mx;else{const Dt=.5-Tt;Oe[yt]=Dt>0?Dt*Dt:0,Ie[yt]=Dt<0?Dt*Dt:0}}tH(Oe,0,0,O,U,O,this.f,this.v,this.z),tH(Ie,xe,xe,M,k,O,this.f,this.v,this.z);for(let lt=0;lt<G;lt++){const ot=Math.sqrt(Oe[lt])-Math.sqrt(Ie[lt]);Z[lt]=Math.round(255-255*(ot/this.radius+this.cutoff))}return fe}};const D0=bh;function rH(u,o,h,p){const v=[],b=u.imagePrimary,C=b.pixelRatio,M=b.paddedRect.w-2*D0,k=b.paddedRect.h-2*D0,O=u.right-u.left,U=u.bottom-u.top,G=b.stretchX||[[0,M]],Z=b.stretchY||[[0,k]],fe=(en,Sn)=>en+Sn[1]-Sn[0],ge=G.reduce(fe,0),xe=Z.reduce(fe,0),Ie=M-ge,Oe=k-xe;let rt=0,lt=ge,ot=0,Tt=xe,yt=0,Dt=Ie,Gt=0,Xt=Oe;if(b.content&&p){const en=b.content;rt=J5(G,0,en[0]),ot=J5(Z,0,en[1]),lt=J5(G,en[0],en[2]),Tt=J5(Z,en[1],en[3]),yt=en[0]-rt,Gt=en[1]-ot,Dt=en[2]-en[0]-lt,Xt=en[3]-en[1]-Tt}const pn=(en,Sn,Dn,yn)=>{const On=eE(en.stretch-rt,lt,O,u.left),gn=tE(en.fixed-yt,Dt,en.stretch,ge),Rn=eE(Sn.stretch-ot,Tt,U,u.top),cr=tE(Sn.fixed-Gt,Xt,Sn.stretch,xe),Un=eE(Dn.stretch-rt,lt,O,u.left),Br=tE(Dn.fixed-yt,Dt,Dn.stretch,ge),yr=eE(yn.stretch-ot,Tt,U,u.top),qn=tE(yn.fixed-Gt,Xt,yn.stretch,xe),ni=new K(On,Rn),Ur=new K(Un,Rn),Sr=new K(Un,yr),Yn=new K(On,yr),qr=new K(gn/C,cr/C),Ni=new K(Br/C,qn/C),ri=o*Math.PI/180;if(ri){const va=Math.sin(ri),ya=Math.cos(ri),Ta=[ya,-va,va,ya];ni._matMult(Ta),Ur._matMult(Ta),Yn._matMult(Ta),Sr._matMult(Ta)}const Ui=en.stretch+en.fixed,gi=Dn.stretch+Dn.fixed,ea=Sn.stretch+Sn.fixed,Ei=yn.stretch+yn.fixed,Ya=u.imageSecondary;return{tl:ni,tr:Ur,bl:Yn,br:Sr,texPrimary:{x:b.paddedRect.x+D0+Ui,y:b.paddedRect.y+D0+ea,w:gi-Ui,h:Ei-ea},texSecondary:Ya?{x:Ya.paddedRect.x+D0+Ui,y:Ya.paddedRect.y+D0+ea,w:gi-Ui,h:Ei-ea}:void 0,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:qr,pixelOffsetBR:Ni,minFontScaleX:Dt/C/O,minFontScaleY:Xt/C/U,isSDF:h}};if(p&&(b.stretchX||b.stretchY)){const en=iH(G,Ie,ge),Sn=iH(Z,Oe,xe);for(let Dn=0;Dn<en.length-1;Dn++){const yn=en[Dn],On=en[Dn+1];for(let gn=0;gn<Sn.length-1;gn++)v.push(pn(yn,Sn[gn],On,Sn[gn+1]))}}else v.push(pn({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:M+1},{fixed:0,stretch:k+1}));return v}function J5(u,o,h){let p=0;for(const v of u)p+=Math.max(o,Math.min(h,v[1]))-Math.max(o,Math.min(h,v[0]));return p}function iH(u,o,h){const p=[{fixed:-D0,stretch:0}];for(const[v,b]of u){const C=p[p.length-1];p.push({fixed:v-C.stretch,stretch:C.stretch}),p.push({fixed:v-C.stretch,stretch:C.stretch+(b-v)})}return p.push({fixed:o+D0,stretch:h}),p}function eE(u,o,h,p){return u/o*h+p}function tE(u,o,h,p){return u-o*h/p}function SAe(u,o,h,p){const v=o+u.positionedLines[p].lineOffset;return p===0?h+v/2:h+(v+(o+u.positionedLines[p-1].lineOffset))/2}function TAe(u,o=1,h=!1){let p=1/0,v=1/0,b=-1/0,C=-1/0;const M=u[0];for(let fe=0;fe<M.length;fe++){const ge=M[fe];(!fe||ge.x<p)&&(p=ge.x),(!fe||ge.y<v)&&(v=ge.y),(!fe||ge.x>b)&&(b=ge.x),(!fe||ge.y>C)&&(C=ge.y)}const k=Math.min(b-p,C-v);let O=k/2;const U=new ji([],BAe);if(k===0)return new K(p,v);for(let fe=p;fe<b;fe+=k)for(let ge=v;ge<C;ge+=k)U.push(new ab(fe+O,ge+O,O,u));let G=function(fe){let ge=0,xe=0,Ie=0;const Oe=fe[0];for(let rt=0,lt=Oe.length,ot=lt-1;rt<lt;ot=rt++){const Tt=Oe[rt],yt=Oe[ot],Dt=Tt.x*yt.y-yt.x*Tt.y;xe+=(Tt.x+yt.x)*Dt,Ie+=(Tt.y+yt.y)*Dt,ge+=3*Dt}return new ab(xe/ge,Ie/ge,0,fe)}(u),Z=U.length;for(;U.length;){const fe=U.pop();(fe.d>G.d||!G.d)&&(G=fe,h&&console.log("found best %d after %d probes",Math.round(1e4*fe.d)/1e4,Z)),fe.max-G.d<=o||(O=fe.h/2,U.push(new ab(fe.p.x-O,fe.p.y-O,O,u)),U.push(new ab(fe.p.x+O,fe.p.y-O,O,u)),U.push(new ab(fe.p.x-O,fe.p.y+O,O,u)),U.push(new ab(fe.p.x+O,fe.p.y+O,O,u)),Z+=4)}return h&&(console.log(`num probes: ${Z}`),console.log(`best distance: ${G.d}`)),G.p}function BAe(u,o){return o.max-u.max}class ab{constructor(o,h,p,v){this.p=new K(o,h),this.h=p,this.d=function(b,C){let M=!1,k=1/0;for(let O=0;O<C.length;O++){const U=C[O];for(let G=0,Z=U.length,fe=Z-1;G<Z;fe=G++){const ge=U[G],xe=U[fe];ge.y>b.y!=xe.y>b.y&&b.x<(xe.x-ge.x)*(b.y-ge.y)/(xe.y-ge.y)+ge.x&&(M=!M),k=Math.min(k,L0(b,ge,xe))}}return(M?1:-1)*Math.sqrt(k)}(this.p,v),this.max=this.d+this.h*Math.SQRT2}}const pI=Number.POSITIVE_INFINITY,MAe=Math.sqrt(2);function aH(u,[o,h]){let p=0,v=0;if(h===pI){o<0&&(o=0);const b=o/MAe;switch(u){case"top-right":case"top-left":v=b-7;break;case"bottom-right":case"bottom-left":v=7-b;break;case"bottom":v=7-o;break;case"top":v=o-7}switch(u){case"top-right":case"bottom-right":p=-b;break;case"top-left":case"bottom-left":p=b;break;case"left":p=o;break;case"right":p=-o}}else{switch(o=Math.abs(o),h=Math.abs(h),u){case"top-right":case"top-left":case"top":v=h-7;break;case"bottom-right":case"bottom-left":case"bottom":v=7-h}switch(u){case"top-right":case"bottom-right":case"right":p=-o;break;case"top-left":case"bottom-left":case"left":p=o}}return[p,v]}function AI(u){switch(u){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function IAe(u,o,h,p,v,b,C,M,k,O,U,G,Z,fe,ge){let xe=b.textMaxSize.evaluate(o,{},G);xe===void 0&&(xe=C);const Ie=u.layers[0].layout,Oe=Ie.get("icon-offset").evaluate(o,{},G),rt=oH(h.horizontal)||h.vertical,lt=Z.name==="globe",ot=hu,Tt=C/ot,yt=u.tilePixelRatio*xe/ot,Dt=(On=u.overscaling,u.zoom>18&&On>2&&(On>>=1),Math.max(zn/(512*On),1)*Ie.get("symbol-spacing")),Gt=Ie.get("text-padding")*u.tilePixelRatio,Xt=Ie.get("icon-padding")*u.tilePixelRatio,pn=W(Ie.get("text-max-angle")),en=Ie.get("text-rotation-alignment")==="map"&&Ie.get("symbol-placement")!=="point",Sn=Ie.get("icon-rotation-alignment")==="map"&&Ie.get("symbol-placement")!=="point",Dn=Ie.get("symbol-placement"),yn=Dt/2;var On;const gn=Ie.get("icon-text-fit").evaluate(o,{},G),Rn=Ie.get("icon-text-fit-padding").evaluate(o,{},G),cr=gn!=="none";let Un;u.hasAnyIconTextFit===!1&&cr&&(u.hasAnyIconTextFit=!0),p&&cr&&(u.allowVerticalPlacement&&h.vertical&&(Un=GV(p,h.vertical,gn,Rn,Oe,Tt)),rt&&(p=GV(p,rt,gn,Rn,Oe,Tt)));const Br=(yr,qn,ni)=>{if(qn.x<0||qn.x>=zn||qn.y<0||qn.y>=zn)return;let Ur=null;if(lt){const{x:Sr,y:Yn,z:qr}=Z.projectTilePoint(qn.x,qn.y,ni);Ur={anchor:new _g(Sr,Yn,qr,0,void 0),up:Z.upVector(ni,qn.x,qn.y)}}(function(Sr,Yn,qr,Ni,ri,Ui,gi,ea,Ei,Ya,va,ya,Ta,_a,Cs,Da,Zs,Ho,Yl,fs,Ps,vl,_l,yl,os,wh,H0){const mc=Sr.addToLineVertexArray(Yn,Ni);let xh,Ed,Fx,wE,lQ,uQ,cQ,hQ=0,dQ=0,fQ=0,pQ=0,NI=-1,UI=-1;const RA={};let AQ=nx("");const Y1=qr?qr.anchor:Yn,zI=Ei.layout.get("icon-text-fit").evaluate(Ps,{},os)!=="none";let $I=0,VI=0;if(Ei._unevaluatedLayout.getValue("text-radial-offset")===void 0?[$I,VI]=Ei.layout.get("text-offset").evaluate(Ps,{},os).map(Ch=>Ch*hu):($I=Ei.layout.get("text-radial-offset").evaluate(Ps,{},os)*hu,VI=pI),Sr.allowVerticalPlacement&&ri.vertical){const Ch=ri.vertical;if(Cs)uQ=mI(Ch),ea&&(cQ=mI(ea));else{const Eh=Ei.layout.get("text-rotate").evaluate(Ps,{},os)+90;Fx=nE(Ya,Y1,Yn,va,ya,Ta,Ch,_a,Eh,Da),ea&&(wE=nE(Ya,Y1,Yn,va,ya,Ta,ea,Ho,Eh))}}if(Ui){const Ch=Ei.layout.get("icon-rotate").evaluate(Ps,{},os),Eh=rH(Ui,Ch,_l,zI),db=ea?rH(ea,Ch,_l,zI):void 0;Ed=nE(Ya,Y1,Yn,va,ya,Ta,Ui,Ho,Ch),hQ=4*Eh.length;const mQ=Sr.iconSizeData;let X1=null;mQ.kind==="source"?(X1=[Ap*Ei.layout.get("icon-size").evaluate(Ps,{},os)],X1[0]>N0&&Ge(`${Sr.layerIds[0]}: Value for "icon-size" is >= ${gx}. Reduce your "icon-size".`)):mQ.kind==="composite"&&(X1=[Ap*vl.compositeIconSizes[0].evaluate(Ps,{},os),Ap*vl.compositeIconSizes[1].evaluate(Ps,{},os)],(X1[0]>N0||X1[1]>N0)&&Ge(`${Sr.layerIds[0]}: Value for "icon-size" is >= ${gx}. Reduce your "icon-size".`)),Sr.addSymbols(Sr.icon,Eh,X1,fs,Yl,Ps,!1,qr,Yn,mc.lineStartIndex,mc.lineLength,-1,yl,os,wh,H0),NI=Sr.icon.placedSymbolArray.length-1,db&&(dQ=4*db.length,Sr.addSymbols(Sr.icon,db,X1,fs,Yl,Ps,xd.vertical,qr,Yn,mc.lineStartIndex,mc.lineLength,-1,yl,os,wh,H0),UI=Sr.icon.placedSymbolArray.length-1)}for(const Ch in ri.horizontal){const Eh=ri.horizontal[Ch];xh||(AQ=nx(Eh.text),Cs?lQ=mI(Eh):xh=nE(Ya,Y1,Yn,va,ya,Ta,Eh,_a,Ei.layout.get("text-rotate").evaluate(Ps,{},os),Da));const db=Eh.positionedLines.length===1;if(fQ+=sH(Sr,qr,Yn,Eh,gi,Ei,Cs,Ps,Da,mc,ri.vertical?xd.horizontal:xd.horizontalOnly,db?Object.keys(ri.horizontal):[Ch],RA,NI,vl,yl,os,wh),db)break}ri.vertical&&(pQ+=sH(Sr,qr,Yn,ri.vertical,gi,Ei,Cs,Ps,Da,mc,xd.vertical,["vertical"],RA,UI,vl,yl,os,wh));let Q0=-1;const HI=(Ch,Eh)=>Ch?Math.max(Ch,Eh):Eh;Q0=HI(lQ,Q0),Q0=HI(uQ,Q0),Q0=HI(cQ,Q0);const Wme=Q0>-1?1:0;Sr.glyphOffsetArray.length>=65535&&Ge("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Ps.sortKey!==void 0&&Sr.addToSortKeyRanges(Sr.symbolInstances.length,Ps.sortKey),Sr.symbolInstances.emplaceBack(Yn.x,Yn.y,Y1.x,Y1.y,Y1.z,RA.right>=0?RA.right:-1,RA.center>=0?RA.center:-1,RA.left>=0?RA.left:-1,RA.vertical>=0?RA.vertical:-1,NI,UI,AQ,xh!==void 0?xh:Sr.collisionBoxArray.length,xh!==void 0?xh+1:Sr.collisionBoxArray.length,Fx!==void 0?Fx:Sr.collisionBoxArray.length,Fx!==void 0?Fx+1:Sr.collisionBoxArray.length,Ed!==void 0?Ed:Sr.collisionBoxArray.length,Ed!==void 0?Ed+1:Sr.collisionBoxArray.length,wE||Sr.collisionBoxArray.length,wE?wE+1:Sr.collisionBoxArray.length,va,fQ,pQ,hQ,dQ,Wme,0,$I,VI,Q0,0,zI?1:0)})(u,qn,Ur,yr,h,p,v,Un,u.layers[0],u.collisionBoxArray,o.index,o.sourceLayerIndex,u.index,Gt,en,k,0,Xt,Sn,Oe,o,b,O,U,G,fe,ge)};if(Dn==="line")for(const yr of ZV(o.geometry,0,0,zn,zn)){const qn=EAe(yr,Dt,pn,h.vertical||rt,p,ot,yt,u.overscaling,zn);for(const ni of qn)rt&&LAe(u,rt.text,yn,ni)||Br(yr,ni,G)}else if(Dn==="line-center"){for(const yr of o.geometry)if(yr.length>1){const qn=CAe(yr,pn,h.vertical||rt,p,ot,yt);qn&&Br(yr,qn,G)}}else if(o.type==="Polygon")for(const yr of eI(o.geometry,0)){const qn=TAe(yr,16);Br(yr[0],new _g(qn.x,qn.y,0,0,void 0),G)}else if(o.type==="LineString")for(const yr of o.geometry)Br(yr,new _g(yr[0].x,yr[0].y,0,0,void 0),G);else if(o.type==="Point")for(const yr of o.geometry)for(const qn of yr)Br([qn],new _g(qn.x,qn.y,0,0,void 0),G)}const gx=255,N0=gx*Ap;function sH(u,o,h,p,v,b,C,M,k,O,U,G,Z,fe,ge,xe,Ie,Oe){const rt=function(Tt,yt,Dt,Gt,Xt,pn,en,Sn){const Dn=[];if(yt.positionedLines.length===0)return Dn;const yn=Gt.layout.get("text-rotate").evaluate(pn,{})*Math.PI/180,On=function(Br){const yr=Br[0],qn=Br[1],ni=yr*qn;return ni>0?[yr,-qn]:ni<0?[-yr,qn]:yr===0?[qn,yr]:[qn,-yr]}(Dt);let gn=Math.abs(yt.top-yt.bottom);for(const Br of yt.positionedLines)gn-=Br.lineOffset;const Rn=yt.positionedLines.length,cr=gn/Rn;let Un=yt.top-Dt[1];for(let Br=0;Br<Rn;++Br){const yr=yt.positionedLines[Br];Un=SAe(yt,cr,Un,Br);for(const qn of yr.positionedGlyphs){if(!qn.rect)continue;const ni=qn.rect||{};let Ur=zV+1,Sr=!0,Yn=1,qr=0;if(qn.imageName){const fs=en[qn.imageName];if(!fs)continue;if(fs.sdf){Ge("SDF images are not supported in formatted text and will be ignored.");continue}Sr=!1,Yn=fs.pixelRatio,Ur=bh/Yn}const Ni=(Xt||Sn)&&qn.vertical,ri=qn.metrics.advance*qn.scale/2,Ui=qn.metrics,gi=qn.rect;if(gi===null)continue;Sn&&yt.verticalizable&&(qr=qn.imageName?ri-qn.metrics.width*qn.scale/2:0);const ea=Xt?[qn.x+ri,qn.y]:[0,0];let Ei=[0,0],Ya=[0,0],va=!1;Xt||(Ni?(Ya=[qn.x+ri+On[0],qn.y+On[1]-qr],va=!0):Ei=[qn.x+ri+Dt[0],qn.y+Dt[1]-qr]);const ya=gi.w*qn.scale/(Yn*(qn.localGlyph?mp:1)),Ta=gi.h*qn.scale/(Yn*(qn.localGlyph?mp:1));let _a,Cs,Da,Zs;if(Ni){const fs=qn.y-Un,Ps=new K(-ri,ri-fs),vl=-Math.PI/2,_l=new K(...Ya);_a=new K(-ri+Ei[0],Ei[1]),_a._rotateAround(vl,Ps)._add(_l),_a.x+=-fs+ri,_a.y-=(Ui.left-Ur)*qn.scale;const yl=qn.imageName?Ui.advance*qn.scale:hu*qn.scale,os=String.fromCodePoint(qn.glyph);sAe(os)?_a.x+=(1-Ur)*qn.scale:oAe(os)?_a.x+=yl-Ui.height*qn.scale+(-Ur-1)*qn.scale:_a.x+=qn.imageName||Ui.width+2*Ur===gi.w&&Ui.height+2*Ur===gi.h?(yl-Ta)/2:(yl-(Ui.height+2*Ur)*qn.scale)/2,Cs=new K(_a.x,_a.y-ya),Da=new K(_a.x+Ta,_a.y),Zs=new K(_a.x+Ta,_a.y-ya)}else{const fs=(Ui.left-Ur)*qn.scale-ri+Ei[0],Ps=(-Ui.top-Ur)*qn.scale+Ei[1],vl=fs+ya,_l=Ps+Ta;_a=new K(fs,Ps),Cs=new K(vl,Ps),Da=new K(fs,_l),Zs=new K(vl,_l)}if(yn){let fs;fs=Xt?new K(0,0):va?new K(On[0],On[1]):new K(Dt[0],Dt[1]),_a._rotateAround(yn,fs),Cs._rotateAround(yn,fs),Da._rotateAround(yn,fs),Zs._rotateAround(yn,fs)}const Ho=new K(0,0),Yl=new K(0,0);Dn.push({tl:_a,tr:Cs,bl:Da,br:Zs,texPrimary:ni,texSecondary:void 0,writingMode:yt.writingMode,glyphOffset:ea,sectionIndex:qn.sectionIndex,isSDF:Sr,pixelOffsetTL:Ho,pixelOffsetBR:Yl,minFontScaleX:0,minFontScaleY:0})}}return Dn}(0,p,k,b,C,M,v,u.allowVerticalPlacement),lt=u.textSizeData;let ot=null;lt.kind==="source"?(ot=[Ap*b.layout.get("text-size").evaluate(M,{},Ie)],ot[0]>N0&&Ge(`${u.layerIds[0]}: Value for "text-size" is >= ${gx}. Reduce your "text-size".`)):lt.kind==="composite"&&(ot=[Ap*ge.compositeTextSizes[0].evaluate(M,{},Ie),Ap*ge.compositeTextSizes[1].evaluate(M,{},Ie)],(ot[0]>N0||ot[1]>N0)&&Ge(`${u.layerIds[0]}: Value for "text-size" is >= ${gx}. Reduce your "text-size".`)),u.addSymbols(u.text,rt,ot,k,C,M,U,o,h,O.lineStartIndex,O.lineLength,fe,xe,Ie,Oe,!1);for(const Tt of G)Z[Tt]=u.text.placedSymbolArray.length-1;return 4*rt.length}function oH(u){for(const o in u)return u[o];return null}function nE(u,o,h,p,v,b,C,M,k,O){let U=C.top,G=C.bottom,Z=C.left,fe=C.right;const ge=C.collisionPadding;if(ge&&(Z-=ge[0],U-=ge[1],fe+=ge[2],G+=ge[3]),k){const xe=new K(Z,U),Ie=new K(fe,U),Oe=new K(Z,G),rt=new K(fe,G),lt=W(k);let ot=new K(0,0);O&&(ot=new K(O[0],O[1])),xe._rotateAround(lt,ot),Ie._rotateAround(lt,ot),Oe._rotateAround(lt,ot),rt._rotateAround(lt,ot),Z=Math.min(xe.x,Ie.x,Oe.x,rt.x),fe=Math.max(xe.x,Ie.x,Oe.x,rt.x),U=Math.min(xe.y,Ie.y,Oe.y,rt.y),G=Math.max(xe.y,Ie.y,Oe.y,rt.y)}return u.emplaceBack(o.x,o.y,o.z,h.x,h.y,Z,U,fe,G,M,p,v,b),u.length-1}function mI(u){u.collisionPadding&&(u.top-=u.collisionPadding[1],u.bottom+=u.collisionPadding[3]);const o=u.bottom-u.top;return o>0?Math.max(10,o):null}function LAe(u,o,h,p){const v=u.compareText;if(o in v){const b=v[o];for(let C=b.length-1;C>=0;C--)if(p.dist(b[C])<h)return!0}else v[o]=[];return v[o].push(p),!1}function lH(u,o){const h=u.fovAboveCenter,p=u.elevation?u.elevation.getMinElevationBelowMSL()*o:0,v=(u._camera.position[2]*u.worldSize-p)/Math.cos(u._pitch),b=Math.sin(h)*v/Math.sin(Math.max(Math.PI/2-u._pitch-h,.01)),C=Math.sin(u._pitch)*b+v;return Math.min(1.01*C,v*(1/u._horizonShift))}function vx(u,o){if(!o.isReprojectedInTileSpace)return{scale:1<<u.z,x:u.x,y:u.y,x2:u.x+1,y2:u.y+1,projection:o};const h=Math.pow(2,-u.z),p=u.x*h,v=(u.x+1)*h,b=u.y*h,C=(u.y+1)*h,M=bi(p),k=bi(v),O=na(b),U=na(C),G=o.project(M,O),Z=o.project(k,O),fe=o.project(k,U),ge=o.project(M,U);let xe=Math.min(G.x,Z.x,fe.x,ge.x),Ie=Math.min(G.y,Z.y,fe.y,ge.y),Oe=Math.max(G.x,Z.x,fe.x,ge.x),rt=Math.max(G.y,Z.y,fe.y,ge.y);const lt=h/16;function ot(yt,Dt,Gt,Xt,pn,en){const Sn=(Gt+pn)/2,Dn=(Xt+en)/2,yn=o.project(bi(Sn),na(Dn)),On=Math.max(0,xe-yn.x,Ie-yn.y,yn.x-Oe,yn.y-rt);xe=Math.min(xe,yn.x),Oe=Math.max(Oe,yn.x),Ie=Math.min(Ie,yn.y),rt=Math.max(rt,yn.y),On>lt&&(ot(yt,yn,Gt,Xt,Sn,Dn),ot(yn,Dt,Sn,Dn,pn,en))}ot(G,Z,p,b,v,b),ot(Z,fe,v,b,v,C),ot(fe,ge,v,C,p,C),ot(ge,G,p,C,p,b),xe-=lt,Ie-=lt,Oe+=lt,rt+=lt;const Tt=1/Math.max(Oe-xe,rt-Ie);return{scale:Tt,x:xe*Tt,y:Ie*Tt,x2:Oe*Tt,y2:rt*Tt,projection:o}}function uH(u,{x:o,y:h},p=0){return new K(((o-p)*u.scale-u.x)*zn,(h*u.scale-u.y)*zn)}const PAe=a.a6.identity(new Float32Array(16));class U0{constructor(o){this.spec=o,this.name=o.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(o,h){return{x:0,y:0,z:0}}unproject(o,h){return new Yt(0,0)}projectTilePoint(o,h,p){return{x:o,y:h,z:0}}locationPoint(o,h,p=!0){return o._coordinatePoint(o.locationCoordinate(h),p)}pixelsPerMeter(o,h){return Ci(1,o)*h}pixelSpaceConversion(o,h,p){return 1}farthestPixelDistance(o){return lH(o,o.pixelsPerMeter)}pointCoordinate(o,h,p,v){const b=o.horizonLineFromTop(!1),C=new K(h,Math.max(b,p));return o.rayIntersectionCoordinate(o.pointRayIntersection(C,v))}pointCoordinate3D(o,h,p){const v=new K(h,p);if(o.elevation)return o.elevation.pointCoordinate(v);{const b=this.pointCoordinate(o,v.x,v.y,0);return[b.x,b.y,b.z]}}isPointAboveHorizon(o,h){if(o.elevation)return!this.pointCoordinate3D(o,h.x,h.y);const p=o.horizonLineFromTop();return h.y<p}createInversionMatrix(o,h){return PAe}createTileMatrix(o,h,p){let v,b,C;const M=p.canonical,k=a.a6.identity(new Float64Array(16));if(this.isReprojectedInTileSpace){const O=vx(M,this);v=1,b=O.x+p.wrap*O.scale,C=O.y,a.a6.scale(k,k,[v/O.scale,v/O.scale,o.pixelsPerMeter/h])}else v=h/o.zoomScale(M.z),b=(M.x+Math.pow(2,M.z)*p.wrap)*v,C=M.y*v;return a.a6.translate(k,k,[b,C,0]),a.a6.scale(k,k,[v/zn,v/zn,1]),k}upVector(o,h,p){return[0,0,1]}upVectorScale(o,h,p){return{metersToTile:1}}}class FAe extends U0{constructor(o){super(o),this.range=[4,7],this.center=o.center||[-96,37.5];const[h,p]=this.parallels=o.parallels||[29.5,45.5],v=Math.sin(W(h));this.n=(v+Math.sin(W(p)))/2,this.c=1+v*(2*this.n-v),this.r0=Math.sqrt(this.c)/this.n}project(o,h){const{n:p,c:v,r0:b}=this,C=W(o-this.center[0]),M=W(h),k=Math.sqrt(v-2*p*Math.sin(M))/p;return{x:k*Math.sin(C*p),y:k*Math.cos(C*p)-b,z:0}}unproject(o,h){const{n:p,c:v,r0:b}=this,C=b+h;let M=Math.atan2(o,Math.abs(C))*Math.sign(C);C*p<0&&(M-=Math.PI*Math.sign(o)*Math.sign(C));const k=W(this.center[0])*p;M=ye(M,-Math.PI-k,Math.PI-k);const O=he(ee(M/p)+this.center[0],-180,180),U=Math.asin(he((v-(o*o+C*C)*p*p)/(2*p),-1,1)),G=he(ee(U),-Wi,Wi);return new Yt(O,G)}}const _x=1.340264,yx=-.081106,bx=893e-6,wx=.003796,rE=Math.sqrt(3)/2;class kAe extends U0{project(o,h){h=h/180*Math.PI,o=o/180*Math.PI;const p=Math.asin(rE*Math.sin(h)),v=p*p,b=v*v*v;return{x:.5*(o*Math.cos(p)/(rE*(_x+3*yx*v+b*(7*bx+9*wx*v)))/Math.PI+.5),y:1-.5*(p*(_x+yx*v+b*(bx+wx*v))/Math.PI+1),z:0}}unproject(o,h){o=(2*o-.5)*Math.PI;let p=h=(2*(1-h)-1)*Math.PI,v=p*p,b=v*v*v;for(let U,G,Z,fe=0;fe<12&&(G=p*(_x+yx*v+b*(bx+wx*v))-h,Z=_x+3*yx*v+b*(7*bx+9*wx*v),U=G/Z,p=he(p-U,-Math.PI/3,Math.PI/3),v=p*p,b=v*v*v,!(Math.abs(U)<1e-12));++fe);const C=rE*o*(_x+3*yx*v+b*(7*bx+9*wx*v))/Math.cos(p),M=Math.asin(Math.sin(p)/rE),k=he(180*C/Math.PI,-180,180),O=he(180*M/Math.PI,-Wi,Wi);return new Yt(k,O)}}class RAe extends U0{constructor(o){super(o),this.wrap=!0,this.supportsWorldCopies=!0}project(o,h){return{x:.5+o/360,y:.5-h/360,z:0}}unproject(o,h){const p=360*(o-.5),v=he(360*(.5-h),-Wi,Wi);return new Yt(p,v)}}const sb=Math.PI/2;function iE(u){return Math.tan((sb+u)/2)}class OAe extends U0{constructor(o){super(o),this.center=o.center||[0,30];const[h,p]=this.parallels=o.parallels||[30,30];let v=W(h),b=W(p);this.southernCenter=v+b<0,this.southernCenter&&(v=-v,b=-b);const C=Math.cos(v),M=iE(v);this.n=v===b?Math.sin(v):Math.log(C/Math.cos(b))/Math.log(iE(b)/M),this.f=C*Math.pow(iE(v),this.n)/this.n}project(o,h){h=W(h),this.southernCenter&&(h=-h),o=W(o-this.center[0]);const p=1e-6,{n:v,f:b}=this;b>0?h<-sb+p&&(h=-sb+p):h>sb-p&&(h=sb-p);const C=b/Math.pow(iE(h),v);let M=C*Math.sin(v*o),k=b-C*Math.cos(v*o);return M=.5*(M/Math.PI+.5),k=.5*(k/Math.PI+.5),{x:M,y:this.southernCenter?k:1-k,z:0}}unproject(o,h){o=(2*o-.5)*Math.PI,this.southernCenter&&(h=1-h),h=(2*(1-h)-.5)*Math.PI;const{n:p,f:v}=this,b=v-h,C=Math.sign(b),M=Math.sign(p)*Math.sqrt(o*o+b*b);let k=Math.atan2(o,Math.abs(b))*C;b*p<0&&(k-=Math.PI*Math.sign(o)*C);const O=he(ee(k/p)+this.center[0],-180,180),U=he(ee(2*Math.atan(Math.pow(v/M,1/p))-sb),-Wi,Wi);return new Yt(O,this.southernCenter?-U:U)}}class cH extends U0{constructor(o){super(o),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(o,h){return{x:Fi(o),y:hi(h),z:0}}unproject(o,h){const p=bi(o),v=na(h);return new Yt(p,v)}}const hH=W(Wi);class DAe extends U0{project(o,h){const p=(h=W(h))*h,v=p*p;return{x:.5*((o=W(o))*(.8707-.131979*p+v*(v*(.003971*p-.001529*v)-.013791))/Math.PI+.5),y:1-.5*(h*(1.007226+p*(.015085+v*(.028874*p-.044475-.005916*v)))/Math.PI+1),z:0}}unproject(o,h){o=(2*o-.5)*Math.PI;let p=h=(2*(1-h)-1)*Math.PI,v=25,b=0,C=p*p;do{C=p*p;const O=C*C;b=(p*(1.007226+C*(.015085+O*(.028874*C-.044475-.005916*O)))-h)/(1.007226+C*(.045255+O*(.259866*C-.311325-.005916*11*O))),p=he(p-b,-hH,hH)}while(Math.abs(b)>1e-6&&--v>0);C=p*p;const M=he(ee(o/(.8707+C*(C*(C*C*C*(.003971-.001529*C)-.013791)-.131979))),-180,180),k=ee(p);return new Yt(M,k)}}const dH=W(Wi);class NAe extends U0{project(o,h){h=W(h),o=W(o);const p=Math.cos(h),v=2/Math.PI,b=Math.acos(p*Math.cos(o/2)),C=Math.sin(b)/b,M=.5*(o*v+2*p*Math.sin(o/2)/C)||0,k=.5*(h+Math.sin(h)/C)||0;return{x:.5*(M/Math.PI+.5),y:1-.5*(k/Math.PI+1),z:0}}unproject(o,h){let p=o=(2*o-.5)*Math.PI,v=h=(2*(1-h)-1)*Math.PI,b=25;const C=1e-6;let M=0,k=0;do{const O=Math.cos(v),U=Math.sin(v),G=2*U*O,Z=U*U,fe=O*O,ge=Math.cos(p/2),xe=Math.sin(p/2),Ie=2*ge*xe,Oe=xe*xe,rt=1-fe*ge*ge,lt=rt?1/rt:0,ot=rt?Math.acos(O*ge)*Math.sqrt(1/rt):0,Tt=.5*(2*ot*O*xe+2*p/Math.PI)-o,yt=.5*(ot*U+v)-h,Dt=.5*lt*(fe*Oe+ot*O*ge*Z)+1/Math.PI,Gt=lt*(Ie*G/4-ot*U*xe),Xt=.125*lt*(G*xe-ot*U*fe*Ie),pn=.5*lt*(Z*ge+ot*Oe*O)+.5,en=Gt*Xt-pn*Dt;M=(yt*Gt-Tt*pn)/en,k=(Tt*Xt-yt*Dt)/en,p=he(p-M,-Math.PI,Math.PI),v=he(v-k,-dH,dH)}while((Math.abs(M)>C||Math.abs(k)>C)&&--b>0);return new Yt(ee(p),ee(v))}}class fH extends U0{constructor(o){super(o),this.center=o.center||[0,0],this.parallels=o.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(W(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(o,h){const{scale:p,cosPhi:v}=this;return{x:W(o)*v*p+.5,y:-Math.sin(W(h))/v*p+.5,z:0}}unproject(o,h){const{scale:p,cosPhi:v}=this,b=-(h-.5)/p,C=he(ee((o-.5)/p)/v,-180,180),M=Math.asin(he(b*v,-1,1)),k=he(ee(M),-Wi,Wi);return new Yt(C,k)}}class UAe extends cH{constructor(o){super(o),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug"],this.range=[3,5]}projectTilePoint(o,h,p){const v=sx(o,h,p),b=O5(kA(p));return a.N.transformMat4(v,v,b),{x:v[0],y:v[1],z:v[2]}}locationPoint(o,h){const p=xn(h.lat,h.lng),v=a.N.normalize([],p),b=o.elevation?o.elevation.getAtPointOrZero(o.locationCoordinate(h),o._centerAltitude):o._centerAltitude,C=Ci(1,0)*zn*b;a.N.scaleAndAdd(p,p,v,C);const M=a.a6.identity(new Float64Array(16));return a.a6.multiply(M,o.pixelMatrix,o.globeMatrix),a.N.transformMat4(p,p,M),new K(p[0],p[1])}pixelsPerMeter(o,h){return Ci(1,0)*h}pixelSpaceConversion(o,h,p){const v=Ci(1,o)*h,b=Ri(Ci(1,45)*h,v,p);return this.pixelsPerMeter(o,h)/b}createTileMatrix(o,h,p){const v=GM(kA(p.canonical));return a.a6.multiply(new Float64Array(16),o.globeMatrix,v)}createInversionMatrix(o,h){const{center:p}=o,v=O5(kA(h));return a.a6.rotateY(v,v,W(p.lng)),a.a6.rotateX(v,v,W(p.lat)),a.a6.scale(v,v,[o._pixelsPerMercatorPixel,o._pixelsPerMercatorPixel,1]),Float32Array.from(v)}pointCoordinate(o,h,p,v){return I$(o,h,p,!0)||new pa(0,0)}pointCoordinate3D(o,h,p){const v=this.pointCoordinate(o,h,p,0);return[v.x,v.y,v.z]}isPointAboveHorizon(o,h){return!I$(o,h.x,h.y,!1)}farthestPixelDistance(o){const h=function(v,b){const C=v.cameraToCenterDistance,M=v._centerAltitude*b,k=v._camera,O=v._camera.forward(),U=a.N.add([],a.N.scale([],O,-C),[0,0,M]),G=v.worldSize/(2*Math.PI),Z=[0,0,-G],fe=v.width/v.height,ge=Math.tan(v.fovAboveCenter),xe=a.N.scale([],k.up(),ge),Ie=a.N.scale([],k.right(),ge*fe),Oe=a.N.normalize([],a.N.add([],a.N.add([],O,xe),Ie)),rt=[];let lt;if(new $M(U,Oe).closestPointOnSphere(Z,G,rt)){const ot=a.N.add([],rt,Z),Tt=a.N.sub([],ot,U);lt=Math.cos(v.fovAboveCenter)*a.N.length(Tt)}else{const ot=a.N.sub([],U,Z),Tt=a.N.sub([],Z,U);a.N.normalize(Tt,Tt);const yt=a.N.length(ot)-G;lt=Math.sqrt(yt*(yt+2*G));const Dt=Math.acos(lt/(G+yt))-Math.acos(a.N.dot(O,Tt));lt*=Math.cos(Dt)}return 1.01*lt}(o,this.pixelsPerMeter(o.center.lat,o.worldSize)),p=F0(o.zoom);if(p>0){const v=lH(o,Ci(1,o.center.lat)*o.worldSize),b=o.worldSize/(2*Math.PI),C=Math.max(o.width,o.height)/o.worldSize*Math.PI;return Ri(h,v+b*(1-Math.cos(C)),Math.pow(p,10))}return h}upVector(o,h,p){return sx(h,p,o,1)}upVectorScale(o){return{metersToTile:F5(R5(kA(o)))}}}function pH(u){const o=u.parallels,h=!!o&&Math.abs(o[0]+o[1])<.01;switch(u.name){case"mercator":return new cH(u);case"equirectangular":return new RAe(u);case"naturalEarth":return new DAe(u);case"equalEarth":return new kAe(u);case"winkelTripel":return new NAe(u);case"albers":return h?new fH(u):new FAe(u);case"lambertConformalConic":return h?new fH(u):new OAe(u);case"globe":return new UAe(u)}throw new Error(`Invalid projection name: ${u.name}`)}const zAe=H5.types,$Ae=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function aE(u,o,h,p,v,b,C,M,k,O,U,G,Z){const fe=M?Math.min(N0,Math.round(M[0])):0,ge=M?Math.min(N0,Math.round(M[1])):0;u.emplaceBack(o,h,Math.round(32*p),Math.round(32*v),b,C,(fe<<1)+(k?1:0),ge,16*O,16*U,256*G,256*Z)}function sE(u,o,h){u.emplaceBack(o,h)}function oE(u,o,h,p,v,b,C){u.emplaceBack(o,h,p,v,b,C)}function lE(u,o,h,p,v){u.emplaceBack(o,h,p,v),u.emplaceBack(o,h,p,v),u.emplaceBack(o,h,p,v),u.emplaceBack(o,h,p,v)}function VAe(u){for(const o of u.sections)if(dn(o.text))return!0;return!1}class gI{constructor(o){this.layoutVertexArray=new ef,this.indexArray=new ws,this.programConfigurations=o,this.segments=new Xs,this.dynamicLayoutVertexArray=new Ad,this.opacityVertexArray=new lp,this.placedSymbolArray=new _d,this.iconTransitioningVertexArray=new Gc,this.globeExtVertexArray=new ng,this.zOffsetVertexArray=new sg}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0&&this.iconTransitioningVertexArray.length===0}upload(o,h,p,v,b){this.isEmpty()||(p&&(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,Ype.members),this.indexBuffer=o.createIndexBuffer(this.indexArray,h),this.dynamicLayoutVertexBuffer=o.createVertexBuffer(this.dynamicLayoutVertexArray,Zpe.members,!0),this.opacityVertexBuffer=o.createVertexBuffer(this.opacityVertexArray,$Ae,!0),this.iconTransitioningVertexArray.length>0&&(this.iconTransitioningVertexBuffer=o.createVertexBuffer(this.iconTransitioningVertexArray,eAe.members,!0)),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=o.createVertexBuffer(this.globeExtVertexArray,Xpe.members,!0)),!this.zOffsetVertexBuffer&&(this.zOffsetVertexArray.length>0||b)&&(this.zOffsetVertexBuffer=o.createVertexBuffer(this.zOffsetVertexArray,Jpe.members,!0)),this.opacityVertexBuffer.itemSize=1),(p||v)&&this.programConfigurations.upload(o))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.iconTransitioningVertexBuffer&&this.iconTransitioningVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy(),this.zOffsetVertexBuffer&&this.zOffsetVertexBuffer.destroy())}}ze(gI,"SymbolBuffers");class vI{constructor(o,h,p){this.layoutVertexArray=new o,this.layoutAttributes=h,this.indexArray=new p,this.segments=new Xs,this.collisionVertexArray=new ig,this.collisionVertexArrayExt=new Ad}upload(o){this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=o.createVertexBuffer(this.collisionVertexArray,tAe.members,!0),this.collisionVertexBufferExt=o.createVertexBuffer(this.collisionVertexArrayExt,nAe.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}ze(vI,"CollisionBuffers");class uE{constructor(o){this.collisionBoxArray=o.collisionBoxArray,this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(C=>C.fqid),this.index=o.index,this.pixelRatio=o.pixelRatio,this.sourceLayerIndex=o.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.hasAnyIconTextFit=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=a.a6.identity([]),this.placementViewportMatrix=a.a6.identity([]);const h=this.layers[0]._unevaluatedLayout._values;this.textSizeData=oI(this.zoom,h["text-size"]),this.iconSizeData=oI(this.zoom,h["icon-size"]);const p=this.layers[0].layout,v=p.get("symbol-sort-key"),b=p.get("symbol-z-order");this.canOverlap=p.get("text-allow-overlap")||p.get("icon-allow-overlap")||p.get("text-ignore-placement")||p.get("icon-ignore-placement"),this.sortFeaturesByKey=b!=="viewport-y"&&v.constantOr(1)!==void 0,this.sortFeaturesByY=(b==="viewport-y"||b==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=p.get("text-writing-mode").map(C=>xd[C]),this.stateDependentLayerIds=this.layers.filter(C=>C.isStateDependent()).map(C=>C.id),this.sourceID=o.sourceID,this.projection=o.projection,this.hasAnyZOffset=!1,this.zOffsetSortDirty=!1,this.zOffsetBuffersNeedUpload=p.get("symbol-z-elevate")}createArrays(){this.text=new gI(new He(this.layers,this.zoom,o=>/^text/.test(o))),this.icon=new gI(new He(this.layers,this.zoom,o=>/^icon/.test(o))),this.glyphOffsetArray=new D1,this.lineVertexArray=new hg,this.symbolInstances=new B0}calculateGlyphDependencies(o,h,p,v,b){for(let C=0;C<o.length;C++){const M=o.codePointAt(C);if(M===void 0)break;if(h[M]=!0,v&&b&&M<=65535){const k=px[o.charAt(C)];k&&(h[k.charCodeAt(0)]=!0)}}}populate(o,h,p,v){const b=this.layers[0],C=b.layout,M=this.projection.name==="globe",k=C.get("text-font"),O=C.get("text-field"),U=C.get("icon-image"),G=(O.value.kind!=="constant"||O.value.value instanceof io&&!O.value.value.isEmpty()||O.value.value.toString().length>0)&&(k.value.kind!=="constant"||k.value.value.length>0),Z=U.value.kind!=="constant"||!!U.value.value||Object.keys(U.parameters).length>0,fe=C.get("symbol-sort-key");if(this.features=[],!G&&!Z)return;const ge=h.iconDependencies,xe=h.glyphDependencies,Ie=h.availableImages,Oe=new Pi(this.zoom);for(const{feature:rt,id:lt,index:ot,sourceLayerIndex:Tt}of o){const yt=b._featureFilter.needGeometry,Dt=No(rt,yt);if(!b._featureFilter.filter(Oe,Dt,p))continue;if(yt||(Dt.geometry=al(rt,p,v)),M&&rt.type!==1&&p.z<=5){const en=Dt.geometry,Sn=.98078528056,Dn=(yn,On)=>{const gn=sx(yn.x,yn.y,p,1),Rn=sx(On.x,On.y,p,1);return a.N.dot(gn,Rn)<Sn};for(let yn=0;yn<en.length;yn++)en[yn]=ql(en[yn],Dn)}let Gt,Xt;if(G){const en=b.getValueAndResolveTokens("text-field",Dt,p,Ie),Sn=io.factory(en);VAe(Sn)&&(this.hasRTLText=!0),(!this.hasRTLText||Ea()==="unavailable"||this.hasRTLText&&Ma.isParsed())&&(Gt=aAe(Sn,b,Dt))}if(Z){const en=b.getValueAndResolveTokens("icon-image",Dt,p,Ie);Xt=en instanceof Vr?en:Vr.fromString(en)}if(!Gt&&!Xt)continue;const pn=this.sortFeaturesByKey?fe.evaluate(Dt,{},p):void 0;if(this.features.push({id:lt,text:Gt,icon:Xt,index:ot,sourceLayerIndex:Tt,geometry:Dt.geometry,properties:rt.properties,type:zAe[rt.type],sortKey:pn}),Xt&&(ge[Xt.namePrimary]=!0,Xt.nameSecondary&&(ge[Xt.nameSecondary]=!0)),Gt){const en=k.evaluate(Dt,{},p).join(","),Sn=C.get("text-rotation-alignment")==="map"&&C.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(xd.vertical)>=0;for(const Dn of Gt.sections)if(Dn.image)ge[Dn.image.namePrimary]=!0;else{const yn=nn(Gt.toString()),On=Dn.fontStack||en,gn=xe[On]=xe[On]||{};this.calculateGlyphDependencies(Dn.text,gn,Sn,this.allowVerticalPlacement,yn)}}}C.get("symbol-placement")==="line"&&(this.features=function(rt){const lt={},ot={},Tt=[];let yt=0;function Dt(en){Tt.push(rt[en]),yt++}function Gt(en,Sn,Dn){const yn=ot[en];return delete ot[en],ot[Sn]=yn,Tt[yn].geometry[0].pop(),Tt[yn].geometry[0]=Tt[yn].geometry[0].concat(Dn[0]),yn}function Xt(en,Sn,Dn){const yn=lt[Sn];return delete lt[Sn],lt[en]=yn,Tt[yn].geometry[0].shift(),Tt[yn].geometry[0]=Dn[0].concat(Tt[yn].geometry[0]),yn}function pn(en,Sn,Dn){const yn=Dn?Sn[0][Sn[0].length-1]:Sn[0][0];return`${en}:${yn.x}:${yn.y}`}for(let en=0;en<rt.length;en++){const Sn=rt[en],Dn=Sn.geometry,yn=Sn.text?Sn.text.toString():null;if(!yn){Dt(en);continue}const On=pn(yn,Dn),gn=pn(yn,Dn,!0);if(On in ot&&gn in lt&&ot[On]!==lt[gn]){const Rn=Xt(On,gn,Dn),cr=Gt(On,gn,Tt[Rn].geometry);delete lt[On],delete ot[gn],ot[pn(yn,Tt[cr].geometry,!0)]=cr,Tt[Rn].geometry=null}else On in ot?Gt(On,gn,Dn):gn in lt?Xt(On,gn,Dn):(Dt(en),lt[On]=yt-1,ot[gn]=yt-1)}return Tt.filter(en=>en.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((rt,lt)=>rt.sortKey-lt.sortKey)}update(o,h,p,v,b){const C=Object.keys(o).length!==0;if(C&&!this.stateDependentLayers.length)return;const M=C?this.stateDependentLayers:this.layers;this.text.programConfigurations.updatePaintArrays(o,h,M,p,v,b),this.icon.programConfigurations.updatePaintArrays(o,h,M,p,v,b)}updateZOffset(){const o=(b,C,M)=>{p+=C,p>b.length&&b.resize(p);for(let k=-C;k<0;k++)b.emplace(k+p,M)},h=(b,C,M)=>{v+=C,v>b.length&&b.resize(v);for(let k=-C;k<0;k++)b.emplace(k+v,M)};if(!this.zOffsetBuffersNeedUpload)return;this.zOffsetBuffersNeedUpload=!1;let p=0,v=0;for(let b=0;b<this.symbolInstances.length;b++){const C=this.symbolInstances.get(b),{numHorizontalGlyphVertices:M,numVerticalGlyphVertices:k,numIconVertices:O}=C,U=C.zOffset,G=O>0;if((M>0||k>0)&&(o(this.text.zOffsetVertexArray,M,U),o(this.text.zOffsetVertexArray,k,U)),G){const{placedIconSymbolIndex:Z,verticalPlacedIconSymbolIndex:fe}=C;Z>=0&&h(this.icon.zOffsetVertexArray,O,U),fe>=0&&h(this.icon.zOffsetVertexArray,C.numVerticalIconVertices,U)}}this.text.zOffsetVertexBuffer&&this.text.zOffsetVertexBuffer.updateData(this.text.zOffsetVertexArray),this.icon.zOffsetVertexBuffer&&this.icon.zOffsetVertexBuffer.updateData(this.icon.zOffsetVertexArray)}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(o){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(o),this.iconCollisionBox.upload(o)),this.text.upload(o,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload,this.zOffsetBuffersNeedUpload),this.icon.upload(o,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload,this.zOffsetBuffersNeedUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=pH(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(o,h){const p=this.lineVertexArray.length;if(o.segment!==void 0)for(const{x:v,y:b}of h)this.lineVertexArray.emplaceBack(v,b);return{lineStartIndex:p,lineLength:this.lineVertexArray.length-p}}addSymbols(o,h,p,v,b,C,M,k,O,U,G,Z,fe,ge,xe,Ie){const Oe=o.indexArray,rt=o.layoutVertexArray,lt=o.globeExtVertexArray,ot=o.segments.prepareSegment(4*h.length,rt,Oe,this.canOverlap?C.sortKey:void 0),Tt=this.glyphOffsetArray.length,yt=ot.vertexLength,Dt=this.allowVerticalPlacement&&M===xd.vertical?Math.PI/2:0,Gt=C.text&&C.text.sections;for(let pn=0;pn<h.length;pn++){const{tl:en,tr:Sn,bl:Dn,br:yn,texPrimary:On,texSecondary:gn,pixelOffsetTL:Rn,pixelOffsetBR:cr,minFontScaleX:Un,minFontScaleY:Br,glyphOffset:yr,isSDF:qn,sectionIndex:ni}=h[pn],Ur=ot.vertexLength,Sr=yr[1];if(aE(rt,O.x,O.y,en.x,Sr+en.y,On.x,On.y,p,qn,Rn.x,Rn.y,Un,Br),aE(rt,O.x,O.y,Sn.x,Sr+Sn.y,On.x+On.w,On.y,p,qn,cr.x,Rn.y,Un,Br),aE(rt,O.x,O.y,Dn.x,Sr+Dn.y,On.x,On.y+On.h,p,qn,Rn.x,cr.y,Un,Br),aE(rt,O.x,O.y,yn.x,Sr+yn.y,On.x+On.w,On.y+On.h,p,qn,cr.x,cr.y,Un,Br),k){const{x:Yn,y:qr,z:Ni}=k.anchor,[ri,Ui,gi]=k.up;oE(lt,Yn,qr,Ni,ri,Ui,gi),oE(lt,Yn,qr,Ni,ri,Ui,gi),oE(lt,Yn,qr,Ni,ri,Ui,gi),oE(lt,Yn,qr,Ni,ri,Ui,gi),lE(o.dynamicLayoutVertexArray,Yn,qr,Ni,Dt)}else lE(o.dynamicLayoutVertexArray,O.x,O.y,O.z,Dt);if(Ie){const Yn=gn||On;sE(o.iconTransitioningVertexArray,Yn.x,Yn.y),sE(o.iconTransitioningVertexArray,Yn.x+Yn.w,Yn.y),sE(o.iconTransitioningVertexArray,Yn.x,Yn.y+Yn.h),sE(o.iconTransitioningVertexArray,Yn.x+Yn.w,Yn.y+Yn.h)}Oe.emplaceBack(Ur,Ur+1,Ur+2),Oe.emplaceBack(Ur+1,Ur+2,Ur+3),ot.vertexLength+=4,ot.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(yr[0]),pn!==h.length-1&&ni===h[pn+1].sectionIndex||o.programConfigurations.populatePaintArrays(rt.length,C,C.index,{},fe,ge,xe,Gt&&Gt[ni])}const Xt=k?k.anchor:O;o.placedSymbolArray.emplaceBack(Xt.x,Xt.y,Xt.z,O.x,O.y,Tt,this.glyphOffsetArray.length-Tt,yt,U,G,O.segment,p?p[0]:0,p?p[1]:0,v[0],v[1],M,0,!1,0,Z,0)}_commitLayoutVertex(o,h,p,v,b,C,M){o.emplaceBack(h,p,v,b,C,Math.round(M.x),Math.round(M.y))}_addCollisionDebugVertices(o,h,p,v,b,C,M){const k=p.segments.prepareSegment(4,p.layoutVertexArray,p.indexArray),O=k.vertexLength,U=M.tileAnchorX,G=M.tileAnchorY;for(let fe=0;fe<4;fe++)p.collisionVertexArray.emplaceBack(0,0,0,0);this._commitDebugCollisionVertexUpdate(p.collisionVertexArrayExt,h,o.padding,M.zOffset),this._commitLayoutVertex(p.layoutVertexArray,v,b,C,U,G,new K(o.x1,o.y1)),this._commitLayoutVertex(p.layoutVertexArray,v,b,C,U,G,new K(o.x2,o.y1)),this._commitLayoutVertex(p.layoutVertexArray,v,b,C,U,G,new K(o.x2,o.y2)),this._commitLayoutVertex(p.layoutVertexArray,v,b,C,U,G,new K(o.x1,o.y2)),k.vertexLength+=4;const Z=p.indexArray;Z.emplaceBack(O,O+1),Z.emplaceBack(O+1,O+2),Z.emplaceBack(O+2,O+3),Z.emplaceBack(O+3,O),k.primitiveLength+=4}_addTextDebugCollisionBoxes(o,h,p,v,b,C){for(let M=v;M<b;M++){const k=p.get(M),O=this.getSymbolInstanceTextSize(o,C,h,M);this._addCollisionDebugVertices(k,O,this.textCollisionBox,k.projectedAnchorX,k.projectedAnchorY,k.projectedAnchorZ,C)}}_addIconDebugCollisionBoxes(o,h,p,v,b,C){for(let M=v;M<b;M++){const k=p.get(M),O=this.getSymbolInstanceIconSize(o,h,C.placedIconSymbolIndex);this._addCollisionDebugVertices(k,O,this.iconCollisionBox,k.projectedAnchorX,k.projectedAnchorY,k.projectedAnchorZ,C)}}generateCollisionDebugBuffers(o,h){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new vI(tf,kV.members,Gc),this.iconCollisionBox=new vI(tf,kV.members,Gc);const p=Jy(this.iconSizeData,o),v=Jy(this.textSizeData,o);for(let b=0;b<this.symbolInstances.length;b++){const C=this.symbolInstances.get(b);this._addTextDebugCollisionBoxes(v,o,h,C.textBoxStartIndex,C.textBoxEndIndex,C),this._addTextDebugCollisionBoxes(v,o,h,C.verticalTextBoxStartIndex,C.verticalTextBoxEndIndex,C),this._addIconDebugCollisionBoxes(p,o,h,C.iconBoxStartIndex,C.iconBoxEndIndex,C),this._addIconDebugCollisionBoxes(p,o,h,C.verticalIconBoxStartIndex,C.verticalIconBoxEndIndex,C)}}getSymbolInstanceTextSize(o,h,p,v){const b=this.text.placedSymbolArray.get(h.rightJustifiedTextSymbolIndex>=0?h.rightJustifiedTextSymbolIndex:h.centerJustifiedTextSymbolIndex>=0?h.centerJustifiedTextSymbolIndex:h.leftJustifiedTextSymbolIndex>=0?h.leftJustifiedTextSymbolIndex:h.verticalPlacedTextSymbolIndex>=0?h.verticalPlacedTextSymbolIndex:v),C=q5(this.textSizeData,o,b)/hu;return this.tilePixelRatio*C}getSymbolInstanceIconSize(o,h,p){const v=this.icon.placedSymbolArray.get(p),b=q5(this.iconSizeData,o,v);return this.tilePixelRatio*b}_commitDebugCollisionVertexUpdate(o,h,p,v){o.emplaceBack(h,-p,-p,v),o.emplaceBack(h,p,-p,v),o.emplaceBack(h,p,p,v),o.emplaceBack(h,-p,p,v)}_updateTextDebugCollisionBoxes(o,h,p,v,b,C){for(let M=v;M<b;M++){const k=p.get(M),O=this.getSymbolInstanceTextSize(o,C,h,M);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,O,k.padding,C.zOffset)}}_updateIconDebugCollisionBoxes(o,h,p,v,b,C){for(let M=v;M<b;M++){const k=p.get(M),O=this.getSymbolInstanceIconSize(o,h,C.placedIconSymbolIndex);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,O,k.padding,C.zOffset)}}updateCollisionDebugBuffers(o,h){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const p=Jy(this.iconSizeData,o),v=Jy(this.textSizeData,o);for(let b=0;b<this.symbolInstances.length;b++){const C=this.symbolInstances.get(b);this._updateTextDebugCollisionBoxes(v,o,h,C.textBoxStartIndex,C.textBoxEndIndex,C),this._updateTextDebugCollisionBoxes(v,o,h,C.verticalTextBoxStartIndex,C.verticalTextBoxEndIndex,C),this._updateIconDebugCollisionBoxes(p,o,h,C.iconBoxStartIndex,C.iconBoxEndIndex,C),this._updateIconDebugCollisionBoxes(p,o,h,C.verticalIconBoxStartIndex,C.verticalIconBoxEndIndex,C)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(o,h,p,v,b,C,M,k,O){const U={};if(h<p){const{x1:G,y1:Z,x2:fe,y2:ge,padding:xe,projectedAnchorX:Ie,projectedAnchorY:Oe,projectedAnchorZ:rt,tileAnchorX:lt,tileAnchorY:ot,featureIndex:Tt}=o.get(h);U.textBox={x1:G,y1:Z,x2:fe,y2:ge,padding:xe,projectedAnchorX:Ie,projectedAnchorY:Oe,projectedAnchorZ:rt,tileAnchorX:lt,tileAnchorY:ot},U.textFeatureIndex=Tt}if(v<b){const{x1:G,y1:Z,x2:fe,y2:ge,padding:xe,projectedAnchorX:Ie,projectedAnchorY:Oe,projectedAnchorZ:rt,tileAnchorX:lt,tileAnchorY:ot,featureIndex:Tt}=o.get(v);U.verticalTextBox={x1:G,y1:Z,x2:fe,y2:ge,padding:xe,projectedAnchorX:Ie,projectedAnchorY:Oe,projectedAnchorZ:rt,tileAnchorX:lt,tileAnchorY:ot},U.verticalTextFeatureIndex=Tt}if(C<M){const{x1:G,y1:Z,x2:fe,y2:ge,padding:xe,projectedAnchorX:Ie,projectedAnchorY:Oe,projectedAnchorZ:rt,tileAnchorX:lt,tileAnchorY:ot,featureIndex:Tt}=o.get(C);U.iconBox={x1:G,y1:Z,x2:fe,y2:ge,padding:xe,projectedAnchorX:Ie,projectedAnchorY:Oe,projectedAnchorZ:rt,tileAnchorX:lt,tileAnchorY:ot},U.iconFeatureIndex=Tt}if(k<O){const{x1:G,y1:Z,x2:fe,y2:ge,padding:xe,projectedAnchorX:Ie,projectedAnchorY:Oe,projectedAnchorZ:rt,tileAnchorX:lt,tileAnchorY:ot,featureIndex:Tt}=o.get(k);U.verticalIconBox={x1:G,y1:Z,x2:fe,y2:ge,padding:xe,projectedAnchorX:Ie,projectedAnchorY:Oe,projectedAnchorZ:rt,tileAnchorX:lt,tileAnchorY:ot},U.verticalIconFeatureIndex=Tt}return U}deserializeCollisionBoxes(o){this.collisionArrays=[];for(let h=0;h<this.symbolInstances.length;h++){const p=this.symbolInstances.get(h);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(o,p.textBoxStartIndex,p.textBoxEndIndex,p.verticalTextBoxStartIndex,p.verticalTextBoxEndIndex,p.iconBoxStartIndex,p.iconBoxEndIndex,p.verticalIconBoxStartIndex,p.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}hasIconTextFit(){return this.hasAnyIconTextFit}addIndicesForPlacedSymbol(o,h){const p=o.placedSymbolArray.get(h),v=p.vertexStartIndex+4*p.numGlyphs;for(let b=p.vertexStartIndex;b<v;b+=4)o.indexArray.emplaceBack(b,b+1,b+2),o.indexArray.emplaceBack(b+1,b+2,b+3)}getSortedSymbolIndexes(o){if(this.sortedAngle===o&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const h=Math.sin(o),p=Math.cos(o),v=[],b=[],C=[];for(let M=0;M<this.symbolInstances.length;++M){C.push(M);const k=this.symbolInstances.get(M);v.push(0|Math.round(h*k.tileAnchorX+p*k.tileAnchorY)),b.push(k.featureIndex)}return C.sort((M,k)=>v[M]-v[k]||b[k]-b[M]),C}getSortedIndexesByZOffset(){if(!this.zOffsetSortDirty)return this.symbolInstanceIndexesSortedZOffset;if(!this.symbolInstanceIndexesSortedZOffset){this.symbolInstanceIndexesSortedZOffset=[];for(let o=0;o<this.symbolInstances.length;++o)this.symbolInstanceIndexesSortedZOffset.push(o)}return this.zOffsetSortDirty=!1,this.symbolInstanceIndexesSortedZOffset.sort((o,h)=>this.symbolInstances.get(h).zOffset-this.symbolInstances.get(o).zOffset)}addToSortKeyRanges(o,h){const p=this.sortKeyRanges[this.sortKeyRanges.length-1];p&&p.sortKey===h?p.symbolInstanceEnd=o+1:this.sortKeyRanges.push({sortKey:h,symbolInstanceStart:o,symbolInstanceEnd:o+1})}sortFeatures(o){if(this.sortFeaturesByY&&this.sortedAngle!==o&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(o),this.sortedAngle=o,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const h of this.symbolInstanceIndexes){const p=this.symbolInstances.get(h);this.featureSortOrder.push(p.featureIndex);const{rightJustifiedTextSymbolIndex:v,centerJustifiedTextSymbolIndex:b,leftJustifiedTextSymbolIndex:C,verticalPlacedTextSymbolIndex:M,placedIconSymbolIndex:k,verticalPlacedIconSymbolIndex:O}=p;v>=0&&this.addIndicesForPlacedSymbol(this.text,v),b>=0&&b!==v&&this.addIndicesForPlacedSymbol(this.text,b),C>=0&&C!==b&&C!==v&&this.addIndicesForPlacedSymbol(this.text,C),M>=0&&this.addIndicesForPlacedSymbol(this.text,M),k>=0&&this.addIndicesForPlacedSymbol(this.icon,k),O>=0&&this.addIndicesForPlacedSymbol(this.icon,O)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}ze(uE,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),uE.addDynamicAttributes=lE;const HAe=new Ia({"symbol-placement":new jn(rn.layout_symbol["symbol-placement"]),"symbol-spacing":new jn(rn.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new jn(rn.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Cr(rn.layout_symbol["symbol-sort-key"]),"symbol-z-order":new jn(rn.layout_symbol["symbol-z-order"]),"symbol-z-elevate":new jn(rn.layout_symbol["symbol-z-elevate"]),"icon-allow-overlap":new jn(rn.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new jn(rn.layout_symbol["icon-ignore-placement"]),"icon-optional":new jn(rn.layout_symbol["icon-optional"]),"icon-rotation-alignment":new jn(rn.layout_symbol["icon-rotation-alignment"]),"icon-size":new Cr(rn.layout_symbol["icon-size"]),"icon-text-fit":new Cr(rn.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Cr(rn.layout_symbol["icon-text-fit-padding"]),"icon-image":new Cr(rn.layout_symbol["icon-image"]),"icon-rotate":new Cr(rn.layout_symbol["icon-rotate"]),"icon-padding":new jn(rn.layout_symbol["icon-padding"]),"icon-keep-upright":new jn(rn.layout_symbol["icon-keep-upright"]),"icon-offset":new Cr(rn.layout_symbol["icon-offset"]),"icon-anchor":new Cr(rn.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new jn(rn.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new jn(rn.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new jn(rn.layout_symbol["text-rotation-alignment"]),"text-field":new Cr(rn.layout_symbol["text-field"]),"text-font":new Cr(rn.layout_symbol["text-font"]),"text-size":new Cr(rn.layout_symbol["text-size"]),"text-max-width":new Cr(rn.layout_symbol["text-max-width"]),"text-line-height":new Cr(rn.layout_symbol["text-line-height"]),"text-letter-spacing":new Cr(rn.layout_symbol["text-letter-spacing"]),"text-justify":new Cr(rn.layout_symbol["text-justify"]),"text-radial-offset":new Cr(rn.layout_symbol["text-radial-offset"]),"text-variable-anchor":new jn(rn.layout_symbol["text-variable-anchor"]),"text-anchor":new Cr(rn.layout_symbol["text-anchor"]),"text-max-angle":new jn(rn.layout_symbol["text-max-angle"]),"text-writing-mode":new jn(rn.layout_symbol["text-writing-mode"]),"text-rotate":new Cr(rn.layout_symbol["text-rotate"]),"text-padding":new jn(rn.layout_symbol["text-padding"]),"text-keep-upright":new jn(rn.layout_symbol["text-keep-upright"]),"text-transform":new Cr(rn.layout_symbol["text-transform"]),"text-offset":new Cr(rn.layout_symbol["text-offset"]),"text-allow-overlap":new jn(rn.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new jn(rn.layout_symbol["text-ignore-placement"]),"text-optional":new jn(rn.layout_symbol["text-optional"]),visibility:new jn(rn.layout_symbol.visibility)});var _I={paint:new Ia({"icon-opacity":new Cr(rn.paint_symbol["icon-opacity"]),"icon-emissive-strength":new Cr(rn.paint_symbol["icon-emissive-strength"]),"text-emissive-strength":new Cr(rn.paint_symbol["text-emissive-strength"]),"icon-color":new Cr(rn.paint_symbol["icon-color"]),"icon-halo-color":new Cr(rn.paint_symbol["icon-halo-color"]),"icon-halo-width":new Cr(rn.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Cr(rn.paint_symbol["icon-halo-blur"]),"icon-translate":new jn(rn.paint_symbol["icon-translate"]),"icon-translate-anchor":new jn(rn.paint_symbol["icon-translate-anchor"]),"icon-image-cross-fade":new Cr(rn.paint_symbol["icon-image-cross-fade"]),"text-opacity":new Cr(rn.paint_symbol["text-opacity"]),"text-color":new Cr(rn.paint_symbol["text-color"],{runtimeType:Cu,getOverride:u=>u.textColor,hasOverride:u=>!!u.textColor}),"text-halo-color":new Cr(rn.paint_symbol["text-halo-color"]),"text-halo-width":new Cr(rn.paint_symbol["text-halo-width"]),"text-halo-blur":new Cr(rn.paint_symbol["text-halo-blur"]),"text-translate":new jn(rn.paint_symbol["text-translate"]),"text-translate-anchor":new jn(rn.paint_symbol["text-translate-anchor"]),"icon-color-saturation":new jn(rn.paint_symbol["icon-color-saturation"])}),layout:HAe};class AH{constructor(o){this.type=o.property.overrides?o.property.overrides.runtimeType:Qd,this.defaultValue=o}evaluate(o){if(o.formattedSection){const h=this.defaultValue.property.overrides;if(h&&h.hasOverride(o.formattedSection))return h.getOverride(o.formattedSection)}return o.feature&&o.featureState?this.defaultValue.evaluate(o.feature,o.featureState):this.defaultValue.property.specification.default}eachChild(o){this.defaultValue.isConstant()||o(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}ze(AH,"FormatSectionOverride",{omit:["defaultValue"]});class cE extends Al{constructor(o,h,p){super(o,_I,h,p)}recalculate(o,h){super.recalculate(o,h),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const p=this.layout.get("text-writing-mode");if(p){const v=[];for(const b of p)v.indexOf(b)<0&&v.push(b);this.layout._values["text-writing-mode"]=v}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(o,h,p,v){const b=this.layout.get(o).evaluate(h,{},p,v),C=this._unevaluatedLayout._values[o];return C.isDataDriven()||qm(C.value)||!b?b:function(M,k){return k.replace(/{([^{}]+)}/g,(O,U)=>U in M?String(M[U]):"")}(h.properties,b)}createBucket(o){return new uE(o)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const o of _I.paint.overridableProperties){if(!cE.hasPaintOverride(this.layout,o))continue;const h=this.paint.get(o),p=new AH(h),v=new E0(p,h.property.specification,this.scope,this.options);let b=null;b=h.value.kind==="constant"||h.value.kind==="source"?new L1("source",v):new SA("composite",v,h.value.zoomStops,h.value._interpolationType),this.paint._values[o]=new nl(h.property,b,h.parameters)}}_handleOverridablePaintPropertyUpdate(o,h,p){return!(!this.layout||h.isDataDriven()||p.isDataDriven())&&cE.hasPaintOverride(this.layout,o)}static hasPaintOverride(o,h){const p=o.get("text-field"),v=_I.paint.properties[h];let b=!1;const C=M=>{for(const k of M)if(v.overrides&&v.overrides.hasOverride(k))return void(b=!0)};if(p.value.kind==="constant"&&p.value.value instanceof io)C(p.value.value.sections);else if(p.value.kind==="source"){const M=O=>{b||(O instanceof Vl&&Gs(O.value)===Wh?C(O.value.sections):O instanceof Jh?C(O.sections):O.eachChild(M))},k=p.value;k._styleExpression&&M(k._styleExpression.expression)}return b}getProgramIds(){const o=this.paint.get("icon-opacity").constantOr(1)!==0,h=this.paint.get("text-opacity").constantOr(1)!==0,p=[];return o&&p.push("symbolIcon"),h&&p.push("symbolSDF"),p}getDefaultProgramParams(o,h){return{config:new Me(this,h),overrideFog:!1}}}const QAe=new Ia({visibility:new jn(rn.layout_background.visibility)});var jAe={paint:new Ia({"background-color":new jn(rn.paint_background["background-color"]),"background-pattern":new jn(rn.paint_background["background-pattern"]),"background-opacity":new jn(rn.paint_background["background-opacity"]),"background-emissive-strength":new jn(rn.paint_background["background-emissive-strength"])}),layout:QAe};const GAe=new Ia({visibility:new jn(rn.layout_raster.visibility)});var KAe={paint:new Ia({"raster-opacity":new jn(rn.paint_raster["raster-opacity"]),"raster-color":new Bo(rn.paint_raster["raster-color"]),"raster-color-mix":new jn(rn.paint_raster["raster-color-mix"]),"raster-color-range":new jn(rn.paint_raster["raster-color-range"]),"raster-hue-rotate":new jn(rn.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new jn(rn.paint_raster["raster-brightness-min"]),"raster-brightness-max":new jn(rn.paint_raster["raster-brightness-max"]),"raster-saturation":new jn(rn.paint_raster["raster-saturation"]),"raster-contrast":new jn(rn.paint_raster["raster-contrast"]),"raster-resampling":new jn(rn.paint_raster["raster-resampling"]),"raster-fade-duration":new jn(rn.paint_raster["raster-fade-duration"]),"raster-emissive-strength":new jn(rn.paint_raster["raster-emissive-strength"]),"raster-array-band":new jn(rn.paint_raster["raster-array-band"]),"raster-elevation":new jn(rn.paint_raster["raster-elevation"])}),layout:GAe},yI=Sa([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class bI{constructor(o,h,p,v){this.context=o,this.format=p,this.texture=o.gl.createTexture(),this.update(h,v)}update(o,h,p){const{width:v,height:b}=o,{context:C}=this,{gl:M}=C;if(M.bindTexture(M.TEXTURE_2D,this.texture),C.pixelStoreUnpackFlipY.set(!1),C.pixelStoreUnpack.set(1),C.pixelStoreUnpackPremultiplyAlpha.set(this.format===M.RGBA&&(!h||h.premultiply!==!1)),p||this.size&&this.size[0]===v&&this.size[1]===b){const{x:k,y:O}=p||{x:0,y:0};if(o instanceof HTMLImageElement||o instanceof HTMLCanvasElement||o instanceof HTMLVideoElement||o instanceof ImageData||ImageBitmap&&o instanceof ImageBitmap)M.texSubImage2D(M.TEXTURE_2D,0,k,O,M.RGBA,M.UNSIGNED_BYTE,o);else{let U=this.format,G=M.UNSIGNED_BYTE;this.format===M.R32F&&(U=M.RED,G=M.FLOAT),M.texSubImage2D(M.TEXTURE_2D,0,k,O,v,b,U,G,o.data)}}else if(this.size=[v,b],o instanceof HTMLImageElement||o instanceof HTMLCanvasElement||o instanceof HTMLVideoElement||o instanceof ImageData||ImageBitmap&&o instanceof ImageBitmap){let k=this.format;this.format===M.R8&&(k=M.RED),M.texImage2D(M.TEXTURE_2D,0,this.format,k,M.UNSIGNED_BYTE,o)}else{let k=this.format,O=this.format,U=M.UNSIGNED_BYTE;this.format===M.DEPTH_COMPONENT&&(k=M.DEPTH_COMPONENT16,U=M.UNSIGNED_SHORT),this.format===M.R8&&(O=M.RED),this.format===M.R32F&&(U=M.FLOAT,O=M.RED),M.texImage2D(M.TEXTURE_2D,0,k,v,b,0,O,U,o.data)}this.useMipmap=!!(h&&h.useMipmap),this.useMipmap&&M.generateMipmap(M.TEXTURE_2D)}bind(o,h,p=!1){const{context:v}=this,{gl:b}=v;b.bindTexture(b.TEXTURE_2D,this.texture),o!==this.minFilter&&(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,o),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,this.useMipmap&&!p?o===b.NEAREST?b.NEAREST_MIPMAP_NEAREST:b.LINEAR_MIPMAP_LINEAR:o),this.minFilter=o),h!==this.wrapS&&(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,h),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,h),this.wrapS=h)}bindExtraParam(o,h,p,v){const{context:b}=this,{gl:C}=b;C.bindTexture(C.TEXTURE_2D,this.texture),h!==this.magFilter&&(C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,h),this.magFilter=h),o!==this.minFilter&&(C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,this.useMipmap?o===C.NEAREST?C.NEAREST_MIPMAP_NEAREST:C.LINEAR_MIPMAP_LINEAR:o),this.minFilter=o),p!==this.wrapS&&(C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_S,p),this.wrapS=p),v!==this.wrapT&&(C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_T,v),this.wrapT=v)}destroy(){const{gl:o}=this.context;o.deleteTexture(this.texture),this.texture=null}}class hE{constructor(o,h){this.context=o,this.texture=h}bind(o,h){const{context:p}=this,{gl:v}=p;v.bindTexture(v.TEXTURE_2D,this.texture),o!==this.minFilter&&(v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,o),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,o),this.minFilter=o),h!==this.wrapS&&(v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_S,h),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_T,h),this.wrapS=h)}}function dE(u,o,h,p,v,b,C,M){const k=[u,o,1,h,p,1,v,b,1],O=[C,M,1],U=a.co.adjoint([],k),[G,Z,fe]=a.N.transformMat3(O,O,U);return a.co.multiply(k,k,[G,0,0,0,Z,0,0,0,fe])}function mH(u,o,h,p,v,b,C,M){const k=function(O,U,G,Z,fe,ge,xe,Ie){const Oe=dE(0,0,1,0,1,1,0,1),rt=dE(O,U,G,Z,fe,ge,xe,Ie),lt=a.co.adjoint([],Oe);return a.co.multiply(rt,rt,lt)}(u,o,h,p,v,b,C,M);return[k[2]/k[8]/zn,k[5]/k[8]/zn]}function fE(u){return[u[0],Math.min(Math.max(u[1],-Wi),Wi)]}class gH extends Vd{constructor(o,h,p,v){super(),this.id=o,this.dispatcher=p,this.coordinates=h.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.onNorthPole=!1,this.onSouthPole=!1,this.setEventedParent(v),this.options=h,this._dirty=!1}load(o,h){if(this._loaded=h||!1,this.fire(new Gh("dataloading",{dataType:"source"})),this.url=this.options.url,!this.url)return o&&(this.coordinates=o),this._loaded=!0,void this._finishLoading();this._imageRequest=In(this.map._requestManager.transformRequest(this.url,Rr.Image),(p,v)=>{this._imageRequest=null,this._loaded=!0,p?this.fire(new $d(p)):v&&(this.image=v instanceof HTMLImageElement?Pt.getImageData(v):v,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,o&&(this.coordinates=o),this._finishLoading())})}loaded(){return this._loaded}updateImage(o){return o.url?(this._imageRequest&&o.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=o.url,this.load(o.coordinates,this._loaded),this):this}setTexture(o){if(!(o.handle instanceof WebGLTexture))throw new Error("The provided handle is not a WebGLTexture instance");return this.texture=new hE(this.map.painter.context,o.handle),this.width=o.dimensions[0],this.height=o.dimensions[1],this._dirty=!1,this._loaded=!0,this._finishLoading(),this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new Gh("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(o){this.map=o,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),!this.texture||this.texture instanceof hE||this.texture.destroy(),this.boundsBuffer&&(this.boundsBuffer.destroy(),this.elevatedGlobeVertexBuffer&&this.elevatedGlobeVertexBuffer.destroy(),this.elevatedGlobeIndexBuffer&&this.elevatedGlobeIndexBuffer.destroy())}setCoordinates(o){if(this.coordinates=o,this._boundsArray=void 0,this._unsupportedCoords=!1,!o.length)return this;this.onNorthPole=!1,this.onSouthPole=!1;let h=o[0][1],p=o[0][1];for(const b of o)b[1]>p&&(p=b[1]),b[1]<h&&(h=b[1]);const v=(p+h)/2;if(v>Wi?this.onNorthPole=!0:v<-Wi&&(this.onSouthPole=!0),!this.onNorthPole&&!this.onSouthPole){const b=o.map(pa.fromLngLat);this.tileID=function(C){let M=1/0,k=1/0,O=-1/0,U=-1/0;for(const xe of C)M=Math.min(M,xe.x),k=Math.min(k,xe.y),O=Math.max(O,xe.x),U=Math.max(U,xe.y);const G=Math.max(O-M,U-k),Z=Math.max(0,Math.floor(-Math.log(G)/Math.LN2)),fe=Math.pow(2,Z);let ge=Math.floor((M+O)/2*fe);return ge>1&&(ge-=1),new Kn(Z,ge,Math.floor((k+U)/2*fe))}(b),this.minzoom=this.maxzoom=this.tileID.z}return this.fire(new Gh("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0,this._unsupportedCoords=!1}_prepareData(o){for(const Oe in this.tiles){const rt=this.tiles[Oe];rt.state!=="loaded"&&(rt.state="loaded",rt.texture=this.texture)}if(this._boundsArray||this.onNorthPole||this.onSouthPole||this._unsupportedCoords)return;const h=vx(new Kn(0,0,0),this.map.transform.projection),p=[h.projection.project(this.coordinates[0][0],this.coordinates[0][1]),h.projection.project(this.coordinates[1][0],this.coordinates[1][1]),h.projection.project(this.coordinates[2][0],this.coordinates[2][1]),h.projection.project(this.coordinates[3][0],this.coordinates[3][1])];if(!function(Oe){const rt=Oe[1].x-Oe[0].x,lt=Oe[1].y-Oe[0].y,ot=Oe[2].x-Oe[1].x,Tt=Oe[2].y-Oe[1].y,yt=Oe[3].x-Oe[2].x,Dt=Oe[3].y-Oe[2].y,Gt=Oe[0].x-Oe[3].x,Xt=Oe[0].y-Oe[3].y,pn=rt*Tt-ot*lt,en=ot*Dt-yt*Tt,Sn=yt*Xt-Gt*Dt,Dn=Gt*lt-rt*Xt;return pn>0&&en>0&&Sn>0&&Dn>0||pn<0&&en<0&&Sn<0&&Dn<0}(p))return console.warn("Image source coordinates are defining non-convex area in the Mercator projection"),void(this._unsupportedCoords=!0);const v=vx(this.tileID,this.map.transform.projection),[b,C,M,k]=this.coordinates.map(Oe=>{const rt=v.projection.project(Oe[0],Oe[1]);return uH(v,rt)._round()});this.perspectiveTransform=mH(b.x,b.y,C.x,C.y,M.x,M.y,k.x,k.y);const O=this._boundsArray=new pd;O.emplaceBack(b.x,b.y,0,0),O.emplaceBack(C.x,C.y,zn,0),O.emplaceBack(k.x,k.y,0,zn),O.emplaceBack(M.x,M.y,zn,zn),this.boundsBuffer&&(this.boundsBuffer.destroy(),this.elevatedGlobeVertexBuffer&&this.elevatedGlobeVertexBuffer.destroy(),this.elevatedGlobeIndexBuffer&&this.elevatedGlobeIndexBuffer.destroy()),this.boundsBuffer=o.createVertexBuffer(O,yI.members),this.boundsSegments=Xs.simpleSegment(0,0,4,2);const U=[],G=[fE((Z=this.coordinates)[0]),fE(Z[1]),fE(Z[2]),fE(Z[3])];var Z;const[fe,ge,xe,Ie]=function(Oe){let rt=Oe[0][0],lt=rt,ot=Oe[0][1],Tt=ot;for(let yt=1;yt<Oe.length;yt++)Oe[yt][0]<rt?rt=Oe[yt][0]:Oe[yt][0]>lt&&(lt=Oe[yt][0]),Oe[yt][1]<ot?ot=Oe[yt][1]:Oe[yt][1]>Tt&&(Tt=Oe[yt][1]);return[rt,ot,lt-rt,Tt-ot]}(G);{const Oe=new pd,[rt,lt,ot,Tt]=function(Rn){let cr=Rn[0].x,Un=cr,Br=Rn[0].y,yr=Br;for(let qn=1;qn<Rn.length;qn++)Rn[qn].x<cr?cr=Rn[qn].x:Rn[qn].x>Un&&(Un=Rn[qn].x),Rn[qn].y<Br?Br=Rn[qn].y:Rn[qn].y>yr&&(yr=Rn[qn].y);return[cr,Br,Un-cr,yr-Br]}(p),yt=Rn=>[(Rn.x-rt)/ot,(Rn.y-lt)/Tt],[Dt,Gt,Xt,pn]=p.map(yt),en=function(Rn,cr,Un,Br,yr,qn,ni,Ur){const Sr=dE(0,0,1,0,1,1,0,1),Yn=dE(Rn,cr,Un,Br,yr,qn,ni,Ur),qr=a.co.adjoint([],Yn);return a.co.multiply(Sr,Sr,qr)}(Dt[0],Dt[1],Gt[0],Gt[1],Xt[0],Xt[1],pn[0],pn[1]);this.elevatedGlobePerspectiveTransform=mH(Dt[0],Dt[1],Gt[0],Gt[1],Xt[0],Xt[1],pn[0],pn[1]);const Sn=(Rn,cr)=>{U.push(Rn.lng);const Un=Math.round((Rn.lng-fe)/xe*zn),Br=Math.round((Rn.lat-ge)/Ie*zn),yr=yt(cr),qn=a.N.transformMat3([],[yr[0],yr[1],1],en),ni=Math.round(qn[0]/qn[2]*zn),Ur=Math.round(qn[1]/qn[2]*zn);Oe.emplaceBack(Un,Br,ni,Ur)},Dn=p[3].x-p[0].x,yn=p[3].y-p[0].y,On=p[2].x-p[1].x,gn=p[2].y-p[1].y;for(let Rn=0;Rn<65;Rn++){const cr=Rn/64,Un=[p[0].x+cr*Dn,p[0].y+cr*yn],Br=[p[1].x+cr*On,p[1].y+cr*gn],yr=Br[0]-Un[0],qn=Br[1]-Un[1];for(let ni=0;ni<65;ni++){const Ur=ni/64,Sr={x:Un[0]+yr*Ur,y:Un[1]+qn*Ur,z:0};Sn(h.projection.unproject(Sr.x,Sr.y),Sr)}}this.elevatedGlobeVertexBuffer=o.createVertexBuffer(Oe,yI.members)}{this.maxLongitudeTriangleSize=0;let Oe=[],rt=new ws;const lt=(ot,Tt,yt)=>{rt.emplaceBack(ot,Tt,yt);const Dt=U[ot],Gt=U[Tt],Xt=U[yt],pn=Math.min(Math.min(Dt,Gt),Xt),en=Math.max(Math.max(Dt,Gt),Xt)-pn;en>this.maxLongitudeTriangleSize&&(this.maxLongitudeTriangleSize=en),Oe.push(pn+en/2)};for(let ot=0;ot<64;ot++)for(let Tt=0;Tt<64;Tt++){const yt=65*ot+Tt,Dt=yt+1,Gt=yt+65,Xt=Gt+1;lt(yt,Gt,Dt),lt(Dt,Gt,Xt)}[Oe,rt]=function(ot,Tt){const yt=Array.from({length:ot.length},(Xt,pn)=>pn);yt.sort((Xt,pn)=>ot[Xt]-ot[pn]);const Dt=[],Gt=new ws;for(let Xt=0;Xt<yt.length;Xt++){const pn=yt[Xt];Dt.push(ot[pn]);const en=3*pn,Sn=en+1;Gt.emplaceBack(Tt.uint16[en],Tt.uint16[Sn],Tt.uint16[Sn+1])}return[Dt,Gt]}(Oe,rt),this.elevatedGlobeTrianglesCenterLongitudes=Oe,this.elevatedGlobeIndexBuffer=o.createIndexBuffer(rt)}this.elevatedGlobeSegments=Xs.simpleSegment(0,0,4225,8192),this.elevatedGlobeGridMatrix=new Float32Array([0,xe/zn,0,Ie/zn,0,0,ge,fe,0])}prepare(){const o=Object.keys(this.tiles).length!==0;if(this.tileID&&!o)return;const h=this.map.painter.context,p=h.gl;!this._dirty||this.texture instanceof hE||(this.texture?this.texture.update(this.image):(this.texture=new bI(h,this.image,p.RGBA),this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE)),this._dirty=!1),o&&this._prepareData(h)}loadTile(o,h){this.tileID&&this.tileID.equals(o.tileID.canonical)?(this.tiles[String(o.tileID.wrap)]=o,o.buckets={},h(null)):(o.state="errored",h(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}getSegmentsForLongitude(o){const h=this.elevatedGlobeSegments;if(!this.elevatedGlobeTrianglesCenterLongitudes||!h)return null;const p=this.elevatedGlobeTrianglesCenterLongitudes;let v=((U,G)=>U+360*Math.round((G-U)/360))(o+180,p[0]);const b=new Xs,C=(U,G)=>{b.segments.push({vertexOffset:0,primitiveOffset:U,vertexLength:h.segments[0].vertexLength,primitiveLength:G,sortKey:void 0,vaos:{}})},M=.51*this.maxLongitudeTriangleSize;if(Math.abs(p[0]-v)<=M){const U=It(p,0,p.length,v+M);return U===p.length||C(U,ut(p,U+1,p.length,v+360-M)-U),b}v<p[0]&&(v+=360);const k=ut(p,0,p.length,v-M);if(k===p.length)return C(0,p.length),b;C(0,k-0);const O=It(p,k+1,p.length,v+M);return O!==p.length&&C(O,p.length-O),b}}const WAe=(Math.pow(256,2)-1)/16907520;class vH extends Al{constructor(o,h,p){super(o,KAe,h,p),this.updateColorRamp(),this._curRampRange=[NaN,NaN]}getProgramIds(){return["raster"]}hasColorMap(){return!!this._transitionablePaint._values["raster-color"].value.value}tileCoverLift(){return this.paint.get("raster-elevation")}isLayerDraped(o){return!(o&&o._source instanceof gH&&(o._source.onNorthPole||o._source.onSouthPole))&&this.paint.get("raster-elevation")===0}_handleSpecialPaintPropertyUpdate(o){o!=="raster-color"&&o!=="raster-color-range"||(this._curRampRange=[NaN,NaN],this.updateColorRamp())}updateColorRamp(o){if(!this.hasColorMap()||!this._curRampRange)return;const h=this._transitionablePaint._values["raster-color"].value.expression,[p,v]=o||this._transitionablePaint._values["raster-color-range"].value.expression.evaluate({zoom:0})||[NaN,NaN];isNaN(p)&&isNaN(v)||p===this._curRampRange[0]&&v===this._curRampRange[1]||(this.colorRamp=ox({expression:h,evaluationKey:"rasterValue",image:this.colorRamp,clips:[{start:p,end:v}],resolution:256}),this.colorRampTexture=null,this._curRampRange=[p,v])}}const qAe=new Ia({visibility:new jn(rn["layout_raster-particle"].visibility)});var YAe={paint:new Ia({"raster-particle-array-band":new jn(rn["paint_raster-particle"]["raster-particle-array-band"]),"raster-particle-count":new jn(rn["paint_raster-particle"]["raster-particle-count"]),"raster-particle-color":new Bo(rn["paint_raster-particle"]["raster-particle-color"]),"raster-particle-max-speed":new jn(rn["paint_raster-particle"]["raster-particle-max-speed"]),"raster-particle-speed-factor":new jn(rn["paint_raster-particle"]["raster-particle-speed-factor"]),"raster-particle-fade-opacity-factor":new jn(rn["paint_raster-particle"]["raster-particle-fade-opacity-factor"]),"raster-particle-reset-rate-factor":new jn(rn["paint_raster-particle"]["raster-particle-reset-rate-factor"])}),layout:qAe};class _H extends Al{constructor(o,h,p){super(o,YAe,h,p),this._updateColorRamp(),this.onRemove=v=>{this.colorRampTexture&&this.colorRampTexture.destroy(),this.transformFeedbackObject&&v.painter.context.gl.deleteTransformFeedback(this.transformFeedbackObject),this.tileFramebuffer&&this.tileFramebuffer.destroy()},this.lastInvalidatedAt=Pt.now()}hasColorMap(){return!!this._transitionablePaint._values["raster-particle-color"].value.value}getProgramIds(){return["rasterParticle"]}hasOffscreenPass(){return this.visibility!=="none"}isLayerDraped(o){return!1}_handleSpecialPaintPropertyUpdate(o){o!=="raster-particle-color"&&o!=="raster-particle-max-speed"||(this._updateColorRamp(),this._invalidateAnimationState()),o==="raster-particle-count"&&this._invalidateAnimationState()}_updateColorRamp(){if(!this.hasColorMap())return;const o=this._transitionablePaint._values["raster-particle-color"].value.expression,h=this._transitionablePaint._values["raster-particle-max-speed"].value.expression.evaluate({zoom:0});this.colorRamp=ox({expression:o,evaluationKey:"rasterParticleSpeed",image:this.colorRamp,clips:[{start:0,end:h}],resolution:256}),this.colorRampTexture=null}_invalidateAnimationState(){this.lastInvalidatedAt=Pt.now()}}class XAe extends Al{constructor(o,h){super(o,{},h),this.implementation=o,o.slot&&(this.slot=o.slot)}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}isLayerDraped(o){return this.implementation.renderToTile!==void 0}shouldRedrape(){return!!this.implementation.shouldRerenderTiles&&this.implementation.shouldRerenderTiles()}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(o){this.implementation.onAdd&&this.implementation.onAdd(o,o.painter.context.gl)}onRemove(o){this.implementation.onRemove&&this.implementation.onRemove(o,o.painter.context.gl)}}const ZAe=new Ia({visibility:new jn(rn.layout_sky.visibility)});var JAe={paint:new Ia({"sky-type":new jn(rn.paint_sky["sky-type"]),"sky-atmosphere-sun":new jn(rn.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new jn(rn.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new jn(rn.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new jn(rn.paint_sky["sky-gradient-radius"]),"sky-gradient":new Bo(rn.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new jn(rn.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new jn(rn.paint_sky["sky-atmosphere-color"]),"sky-opacity":new jn(rn.paint_sky["sky-opacity"])}),layout:ZAe};function wI(u,o,h){const p=[0,0,1],v=a.bi.identity([]);return a.bi.rotateY(v,v,h?-W(u)+Math.PI:W(u)),a.bi.rotateX(v,v,-W(o)),a.N.transformQuat(p,p,v),a.N.normalize(p,p)}var eme={paint:new Ia({})};function yH(u,o){const h=pE(u.projection,u.zoom,u.width,u.height),p=function(b,C,M,k,O){const U=new Yt(M.lng-180*z0,M.lat),G=new Yt(M.lng+180*z0,M.lat),Z=b.project(U.lng,U.lat),fe=b.project(G.lng,G.lat),ge=-Math.atan2(fe.y-Z.y,fe.x-Z.x),xe=pa.fromLngLat(M);xe.y=he(xe.y,-1+z0,1-z0);const Ie=xe.toLngLat(),Oe=b.project(Ie.lng,Ie.lat),rt=pa.fromLngLat(Ie);rt.x+=z0;const lt=rt.toLngLat(),ot=b.project(lt.lng,lt.lat),Tt=xH(ot.x-Oe.x,ot.y-Oe.y,ge),yt=pa.fromLngLat(Ie);yt.y+=z0;const Dt=yt.toLngLat(),Gt=b.project(Dt.lng,Dt.lat),Xt=xH(Gt.x-Oe.x,Gt.y-Oe.y,ge),pn=Math.abs(Tt.x)/Math.abs(Xt.y),en=a.a6.identity([]);a.a6.rotateZ(en,en,-ge*(1-(O?0:k)));const Sn=a.a6.identity([]);return a.a6.scale(Sn,Sn,[1,1-(1-pn)*k,1]),Sn[4]=-Xt.x/Xt.y*k,a.a6.rotateZ(Sn,Sn,ge),a.a6.multiply(Sn,en,Sn),Sn}(u.projection,0,u.center,h,o),v=bH(u);return a.a6.scale(p,p,[v,v,1]),p}function bH(u){const o=u.projection,h=pE(u.projection,u.zoom,u.width,u.height),p=wH(o,u.center),v=wH(o,Yt.convert(o.center));return Math.pow(2,p*h+(1-h)*v)}function pE(u,o,h,p,v=1/0){const b=u.range;if(!b)return 0;const C=Math.min(v,Math.max(h,p)),M=Math.log(C/1024)/Math.LN2;return ce(b[0]+M,b[1]+M,o)}const z0=1/4e4;function wH(u,o){const h=he(o.lat,-Wi,Wi),p=new Yt(o.lng-180*z0,h),v=new Yt(o.lng+180*z0,h),b=u.project(p.lng,h),C=u.project(v.lng,h),M=pa.fromLngLat(p),k=pa.fromLngLat(v),O=C.x-b.x,U=C.y-b.y,G=k.x-M.x,Z=k.y-M.y,fe=Math.sqrt((G*G+Z*Z)/(O*O+U*U));return Math.log(fe)/Math.LN2}function xH(u,o,h){const p=Math.cos(h),v=Math.sin(h);return{x:u*p-o*v,y:u*v+o*p}}function CH(u,o,h){a.a6.identity(u),a.a6.rotateZ(u,u,W(o[2])),a.a6.rotateX(u,u,W(o[0])),a.a6.rotateY(u,u,W(o[1])),a.a6.scale(u,u,h),a.a6.multiply(u,u,[1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,1])}function AE(u,o,h,p,v,b,C,M){const k=[h[0]-o[0],h[1]-o[1],0],O=[p[0]-o[0],p[1]-o[1],0];if(a.N.length(k)<1e-12||a.N.length(O)<1e-12)return a.bi.identity(u);const U=a.N.cross([],k,O);a.N.normalize(U,U),a.N.subtract(O,p,o),k[2]=(b-v)*M,O[2]=(C-v)*M;const G=k;return a.N.cross(G,k,O),a.N.normalize(G,G),a.bi.rotationTo(u,U,G)}function xI(u,o,h=!1){const p=F0(o.zoom),v=function(b,C,M){const k=C.worldSize,O=[b[12],b[13],b[14]],U=na(O[1]/k),G=bi(O[0]/k),Z=a.a6.identity([]),fe=Ci(1,U)*k,ge=Ci(1,0)*k*qi(U,C.zoom),xe=1/KM(k);let Ie=ge*xe;if(M){const ot=pE(C.projection,C.zoom,C.width,C.height,1024);Ie=xe*C.projection.pixelSpaceConversion(C.center.lat,k,ot)}const Oe=xn(U,G);a.N.add(Oe,Oe,a.N.scale([],a.N.normalize([],Oe),fe*Ie*O[2]));const rt=function(ot){const Tt=[ot[0],ot[1],ot[2]];let yt=[0,1,0];const Dt=a.N.cross([],yt,Tt);return a.N.cross(yt,Tt,Dt),a.N.squaredLength(yt)===0&&(yt=[0,1,0],a.N.cross(Dt,Tt,yt)),a.N.normalize(Dt,Dt),a.N.normalize(yt,yt),a.N.normalize(Tt,Tt),[Dt[0],Dt[1],Dt[2],0,yt[0],yt[1],yt[2],0,Tt[0],Tt[1],Tt[2],0,ot[0],ot[1],ot[2],1]}(Oe);a.a6.scale(Z,Z,[Ie,Ie,Ie*fe]),a.a6.translate(Z,Z,[-O[0],-O[1],-O[2]]);const lt=a.a6.multiply([],C.globeMatrix,rt);return a.a6.multiply(lt,lt,Z),a.a6.multiply(lt,lt,b),lt}(u,o,h);if(p>0){const b=function(C,M){const k=M.worldSize,O=Ci(1,0)*k*qi(M.center.lat,M.zoom)/KM(k),U=Ci(1,M.center.lat)*k,G=a.a6.identity([]);return a.a6.rotateY(G,G,W(M.center.lng)),a.a6.rotateX(G,G,W(M.center.lat)),a.a6.translate(G,G,[0,0,st]),a.a6.scale(G,G,[O,O,O*U]),a.a6.translate(G,G,[M.point.x-.5*k,M.point.y-.5*k,0]),a.a6.multiply(G,G,C),a.a6.multiply(G,M.globeMatrix,G)}(u,o);return function(C,M,k){const O=(ge,xe,Ie)=>{const Oe=a.N.length(ge),rt=a.N.length(xe),lt=gg(ge,xe,Ie);return a.N.scale(lt,lt,1/a.N.length(lt)*Ri(Oe,rt,Ie))},U=O([C[0],C[1],C[2]],[M[0],M[1],M[2]],k),G=O([C[4],C[5],C[6]],[M[4],M[5],M[6]],k),Z=O([C[8],C[9],C[10]],[M[8],M[9],M[10]],k),fe=gg([C[12],C[13],C[14]],[M[12],M[13],M[14]],k);return[U[0],U[1],U[2],0,G[0],G[1],G[2],0,Z[0],Z[1],Z[2],0,fe[0],fe[1],fe[2],1]}(v,b,p)}return v}function EH(u,o,h,p){const v=Vs.projectAabbCorners(p,h);let b=Number.MAX_VALUE,C=-1;for(let O=0;O<v.length;++O){const U=v[O];U[0]=(.5*U[0]+.5)*o.width,U[1]=(.5-.5*U[1])*o.height,U[2]<b&&(C=O,b=U[2])}const M=O=>new K(v[O][0],v[O][1]);let k;switch(C){case 0:case 6:k=[M(1),M(5),M(4),M(7),M(3),M(2),M(1)];break;case 1:case 7:k=[M(0),M(4),M(5),M(6),M(2),M(3),M(0)];break;case 3:case 5:k=[M(1),M(0),M(4),M(7),M(6),M(2),M(1)];break;default:k=[M(1),M(5),M(6),M(7),M(3),M(0),M(1)]}if(af(u,k))return b}const tme=Sa([{name:"a_pos_3f",components:3,type:"Float32"}]),nme=Sa([{name:"a_color_3f",components:3,type:"Float32"}]),rme=Sa([{name:"a_color_4f",components:4,type:"Float32"}]),ime=Sa([{name:"a_uv_2f",components:2,type:"Float32"}]),ame=Sa([{name:"a_normal_3f",components:3,type:"Float32"}]),sme=Sa([{name:"a_normal_matrix0",components:4,type:"Float32"},{name:"a_normal_matrix1",components:4,type:"Float32"},{name:"a_normal_matrix2",components:4,type:"Float32"},{name:"a_normal_matrix3",components:4,type:"Float32"}]),ome=Sa([{name:"a_pbr",components:4,type:"Uint16"},{name:"a_heightBasedEmissiveStrength",components:3,type:"Float32"}]);class SH{constructor(o,h){this.feature=o,this.instancedDataOffset=h,this.instancedDataCount=0,this.rotation=[0,0,0],this.scale=[1,1,1],this.translation=[0,0,0]}}class TH{constructor(){this.instancedDataArray=new O1,this.instancesEvaluatedElevation=[],this.features=[],this.idToFeaturesIndex={}}}class CI{constructor(o){this.zoom=o.zoom,this.canonical=o.canonical,this.layers=o.layers,this.layerIds=this.layers.map(h=>h.fqid),this.projection=o.projection,this.index=o.index,this.hasZoomDependentProperties=this.layers[0].isZoomDependent(),this.stateDependentLayerIds=this.layers.filter(h=>h.isStateDependent()).map(h=>h.id),this.hasPattern=!1,this.instancesPerModel={},this.validForExaggeration=0,this.maxVerticalOffset=0,this.maxScale=0,this.maxHeight=0,this.lookupDim=this.zoom>this.canonical.z?256:this.zoom>15?75:100,this.instanceCount=0,this.terrainElevationMin=0,this.terrainElevationMax=0,this.validForDEMTile={id:null,timestamp:0}}populate(o,h,p,v){this.tileToMeter=Yi(p);const b=this.layers[0]._featureFilter.needGeometry;this.lookup=new Uint8Array(this.lookupDim*this.lookupDim);for(const{feature:C,id:M,index:k,sourceLayerIndex:O}of o){const U=No(C,b);if(!this.layers[0]._featureFilter.filter(new Pi(this.zoom),U,p))continue;const G={id:M,sourceLayerIndex:O,index:k,geometry:b?U.geometry:al(C,p,v),properties:C.properties,type:C.type,patterns:{}},Z=this.addFeature(G,G.geometry,U);Z&&h.featureIndex.insert(C,G.geometry,k,O,this.index,this.instancesPerModel[Z].instancedDataArray.length,zn/32)}this.lookup=null}update(o,h,p,v){for(const b in this.instancesPerModel){const C=this.instancesPerModel[b];for(const M in o)C.idToFeaturesIndex.hasOwnProperty(M)&&this.evaluate(C.features[C.idToFeaturesIndex[M]],o[M],C,!0)}this.maxHeight=0}updateZoomBasedPaintProperties(){if(!this.hasZoomDependentProperties)return!1;let o=!1;for(const h in this.instancesPerModel){const p=this.instancesPerModel[h];for(const v of p.features){const b=this.layers[0],C=v.feature,M=this.canonical,k=b.paint.get("model-rotation").evaluate(C,{},M),O=b.paint.get("model-scale").evaluate(C,{},M),U=b.paint.get("model-translation").evaluate(C,{},M);a.N.exactEquals(v.rotation,k)&&a.N.exactEquals(v.scale,O)&&a.N.exactEquals(v.translation,U)||(this.evaluate(v,v.featureStates,p,!0),o=!0)}}return o}isEmpty(){for(const o in this.instancesPerModel)if(this.instancesPerModel[o].instancedDataArray.length!==0)return!1;return!0}uploadPending(){return!this.uploaded}upload(o){if(!this.uploaded)for(const h in this.instancesPerModel){const p=this.instancesPerModel[h];p.instancedDataArray.length<0||p.instancedDataArray.length===0||(p.instancedDataBuffer?p.instancedDataBuffer.updateData(p.instancedDataArray):p.instancedDataBuffer=o.createVertexBuffer(p.instancedDataArray,sme.members,!0,void 0,this.instanceCount))}this.uploaded=!0}destroy(){for(const o in this.instancesPerModel){const h=this.instancesPerModel[o];h.instancedDataArray.length!==0&&h.instancedDataBuffer&&h.instancedDataBuffer.destroy()}}addFeature(o,h,p){const v=this.layers[0],b=v.layout.get("model-id").evaluate(p,{},this.canonical);if(!b)return Ge(`modelId is not evaluated for layer ${v.id} and it is not going to get rendered.`),b;this.instancesPerModel[b]||(this.instancesPerModel[b]=new TH);const C=this.instancesPerModel[b],M=C.instancedDataArray,k=new SH(p,M.length);for(const O of h)for(const U of O){if(U.x<0||U.x>=zn||U.y<0||U.y>=zn)continue;const G=(this.lookupDim-1)/zn,Z=this.lookupDim*(U.y*G|0)+U.x*G|0;if(this.lookup){if(this.lookup[Z]!==0)continue;this.lookup[Z]=1}this.instanceCount++;const fe=M.length;M.resize(fe+1),C.instancesEvaluatedElevation.push(0),M.float32[16*fe]=U.x,M.float32[16*fe+1]=U.y}return k.instancedDataCount=C.instancedDataArray.length-k.instancedDataOffset,k.instancedDataCount>0&&(o.id&&(C.idToFeaturesIndex[o.id]=C.features.length),C.features.push(k),this.evaluate(k,{},C,!1)),b}evaluate(o,h,p,v){const b=this.layers[0],C=o.feature,M=this.canonical,k=o.rotation=b.paint.get("model-rotation").evaluate(C,h,M),O=o.scale=b.paint.get("model-scale").evaluate(C,h,M),U=o.translation=b.paint.get("model-translation").evaluate(C,h,M),G=b.paint.get("model-color").evaluate(C,h,M);G.a=b.paint.get("model-color-mix-intensity").evaluate(C,h,M);const Z=[];this.maxVerticalOffset<U[2]&&(this.maxVerticalOffset=U[2]),this.maxScale=Math.max(Math.max(this.maxScale,O[0]),Math.max(O[1],O[2])),CH(Z,k,O);const fe=Math.round(100*G.a)+G.b/1.05;for(let ge=0;ge<o.instancedDataCount;++ge){const xe=o.instancedDataOffset+ge,Ie=16*xe,Oe=p.instancedDataArray.float32;let rt=0;v&&(rt=Oe[Ie+6]-p.instancesEvaluatedElevation[xe]);const lt=0|Oe[Ie+1];Oe[Ie]=(0|Oe[Ie])+G.r/1.05,Oe[Ie+1]=lt+G.g/1.05,Oe[Ie+2]=fe,Oe[Ie+3]=1/(M.z>10?this.tileToMeter:Yi(M,lt)),Oe[Ie+4]=U[0],Oe[Ie+5]=U[1],Oe[Ie+6]=U[2]+rt,Oe[Ie+7]=Z[0],Oe[Ie+8]=Z[1],Oe[Ie+9]=Z[2],Oe[Ie+10]=Z[4],Oe[Ie+11]=Z[5],Oe[Ie+12]=Z[6],Oe[Ie+13]=Z[8],Oe[Ie+14]=Z[9],Oe[Ie+15]=Z[10],p.instancesEvaluatedElevation[xe]=U[2]}}}ze(CI,"ModelBucket",{omit:["layers"]}),ze(TH,"PerModelAttributes"),ze(SH,"ModelFeature");const lme=new Ia({visibility:new jn(rn.layout_model.visibility),"model-id":new Cr(rn.layout_model["model-id"])});var ume={paint:new Ia({"model-opacity":new jn(rn.paint_model["model-opacity"]),"model-rotation":new Cr(rn.paint_model["model-rotation"]),"model-scale":new Cr(rn.paint_model["model-scale"]),"model-translation":new Cr(rn.paint_model["model-translation"]),"model-color":new Cr(rn.paint_model["model-color"]),"model-color-mix-intensity":new Cr(rn.paint_model["model-color-mix-intensity"]),"model-type":new jn(rn.paint_model["model-type"]),"model-cast-shadows":new jn(rn.paint_model["model-cast-shadows"]),"model-receive-shadows":new jn(rn.paint_model["model-receive-shadows"]),"model-ambient-occlusion-intensity":new jn(rn.paint_model["model-ambient-occlusion-intensity"]),"model-emissive-strength":new Cr(rn.paint_model["model-emissive-strength"]),"model-roughness":new Cr(rn.paint_model["model-roughness"]),"model-height-based-emissive-strength-multiplier":new Cr(rn.paint_model["model-height-based-emissive-strength-multiplier"]),"model-cutoff-fade-range":new jn(rn.paint_model["model-cutoff-fade-range"])}),layout:lme};const K1=64,ob={CoordinateSpaceTile:1,CoordinateSpaceYUp:2,HasMapboxMeshFeatures:4,HasMeshoptCompression:8};function BH(u,o,h,p,v,b,C,M,k,O=!1){const U=h.zoom,G=h.project(p),Z=qi(p.lat,U),fe=1/Z;a.a6.identity(u),a.a6.translate(u,u,[G.x+C[0]*fe,G.y+C[1]*fe,C[2]]);let ge=1,xe=1;const Ie=h.worldSize;if(O){if(h.projection.name==="mercator"){let ot=0;h.elevation&&(ot=h.elevation.getAtPointOrZero(new pa(G.x/Ie,G.y/Ie),0));const Tt=a.a7.transformMat4([],[G.x,G.y,ot,1],h.projMatrix)[3]/h.cameraToCenterDistance;ge=Tt,xe=Tt*qi(h.center.lat,U)}else if(h.projection.name==="globe"){const ot=xI(u,h),Tt=a.a6.multiply([],h.projMatrix,ot),yt=[0,0,0,1];a.a7.transformMat4(yt,yt,Tt);const Dt=yt[3]/h.cameraToCenterDistance,Gt=F0(U),Xt=h.projection.pixelsPerMeter(p.lat,Ie)*qi(p.lat,U),pn=h.projection.pixelsPerMeter(h.center.lat,Ie)*qi(h.center.lat,U);ge=Dt/Ri(Xt,Is(h.center.lat),Gt),xe=Dt*Z/Xt,ge*=pn,xe*=pn}}else ge=fe;a.a6.scale(u,u,[ge,ge,xe]);const Oe=[...u],rt=o.orientation,lt=[];if(CH(lt,[rt[0]+v[0],rt[1]+v[1],rt[2]+v[2]],b),a.a6.multiply(u,Oe,lt),M&&h.elevation){let ot=0;const Tt=[];if(k&&h.elevation){ot=function(Gt,Xt,pn,en,Sn){const Dn=Xt.elevation;if(!Dn)return 0;const yn=Vs.projectAabbCorners(pn,en),On=Ci(1,Sn.lat)*Xt.worldSize,gn=function(qr,Ni){const ri=[0,0,1],Ui=[{corners:[0,1,3,2],dotProductWithUp:0},{corners:[1,5,2,6],dotProductWithUp:0},{corners:[0,4,1,5],dotProductWithUp:0},{corners:[2,6,3,7],dotProductWithUp:0},{corners:[4,7,5,6],dotProductWithUp:0},{corners:[0,3,4,7],dotProductWithUp:0}];for(const gi of Ui){const ea=qr[gi.corners[0]],Ei=qr[gi.corners[1]],Ya=qr[gi.corners[2]],va=[Ei[0]-ea[0],Ei[1]-ea[1],Ni*(Ei[2]-ea[2])],ya=a.N.cross(va,va,[Ya[0]-ea[0],Ya[1]-ea[1],Ni*(Ya[2]-ea[2])]);a.N.normalize(ya,ya),gi.dotProductWithUp=a.N.dot(ya,ri)}return Ui.sort((gi,ea)=>gi.dotProductWithUp-ea.dotProductWithUp),Ui[0].corners}(yn,On),Rn=yn[gn[0]],cr=yn[gn[1]],Un=yn[gn[2]],Br=yn[gn[3]],yr=Dn.getAtPointOrZero(new pa(Rn[0]/Xt.worldSize,Rn[1]/Xt.worldSize),0),qn=Dn.getAtPointOrZero(new pa(cr[0]/Xt.worldSize,cr[1]/Xt.worldSize),0),ni=Dn.getAtPointOrZero(new pa(Un[0]/Xt.worldSize,Un[1]/Xt.worldSize),0),Ur=Dn.getAtPointOrZero(new pa(Br[0]/Xt.worldSize,Br[1]/Xt.worldSize),0),Sr=(yr+Ur)/2,Yn=(qn+ni)/2;return Sr>Yn?qn<ni?AE(Gt,cr,Br,Rn,qn,Ur,yr,On):AE(Gt,Un,Rn,Br,ni,yr,Ur,On):yr<Ur?AE(Gt,Rn,cr,Un,yr,qn,ni,On):AE(Gt,Br,Un,cr,Ur,ni,qn,On),Math.max(Sr,Yn)}(Tt,h,o.aabb,u,p);const yt=a.a6.fromQuat([],Tt),Dt=a.a6.multiply([],yt,lt);a.a6.multiply(u,Oe,Dt)}else ot=h.elevation.getAtPointOrZero(new pa(G.x/Ie,G.y/Ie),0);ot!==0&&(u[14]+=ot)}}function xx(u,o,h=!1){u.uploaded||(u.gfxTexture=new bI(o,u.image,h?o.gl.R8:o.gl.RGBA,{useMipmap:u.sampler.minFilter>=o.gl.NEAREST_MIPMAP_NEAREST}),u.uploaded=!0,u.image=null)}function cme(u,o,h){u.indexBuffer=o.createIndexBuffer(u.indexArray,!1,!0),u.vertexBuffer=o.createVertexBuffer(u.vertexArray,tme.members,!1,!0),u.normalArray&&(u.normalBuffer=o.createVertexBuffer(u.normalArray,ame.members,!1,!0)),u.texcoordArray&&(u.texcoordBuffer=o.createVertexBuffer(u.texcoordArray,ime.members,!1,!0)),u.colorArray&&(u.colorBuffer=o.createVertexBuffer(u.colorArray,(u.colorArray.bytesPerElement===12?nme:rme).members,!1,!0)),u.featureArray&&(u.pbrBuffer=o.createVertexBuffer(u.featureArray,ome.members,!0)),u.segments=Xs.simpleSegment(0,0,u.vertexArray.length,u.indexArray.length);const p=u.material;p.pbrMetallicRoughness.baseColorTexture&&xx(p.pbrMetallicRoughness.baseColorTexture,o),p.pbrMetallicRoughness.metallicRoughnessTexture&&xx(p.pbrMetallicRoughness.metallicRoughnessTexture,o),p.normalTexture&&xx(p.normalTexture,o),p.occlusionTexture&&xx(p.occlusionTexture,o,h),p.emissionTexture&&xx(p.emissionTexture,o)}function EI(u,o,h){if(u.meshes)for(const p of u.meshes)cme(p,o,h);if(u.children)for(const p of u.children)EI(p,o,h)}function mE(u){if(u.meshes)for(const o of u.meshes)o.indexArray.destroy(),o.vertexArray.destroy(),o.colorArray&&o.colorArray.destroy(),o.normalArray&&o.normalArray.destroy(),o.texcoordArray&&o.texcoordArray.destroy(),o.featureArray&&o.featureArray.destroy();if(u.children)for(const o of u.children)mE(o)}function SI(u){if(u.meshes)for(const h of u.meshes)h.vertexBuffer&&(h.vertexBuffer.destroy(),h.indexBuffer.destroy(),h.normalBuffer&&h.normalBuffer.destroy(),h.texcoordBuffer&&h.texcoordBuffer.destroy(),h.colorBuffer&&h.colorBuffer.destroy(),h.pbrBuffer&&h.pbrBuffer.destroy(),h.segments.destroy(),h.material&&((o=h.material).pbrMetallicRoughness.baseColorTexture&&o.pbrMetallicRoughness.baseColorTexture.gfxTexture&&o.pbrMetallicRoughness.baseColorTexture.gfxTexture.destroy(),o.pbrMetallicRoughness.metallicRoughnessTexture&&o.pbrMetallicRoughness.metallicRoughnessTexture.gfxTexture&&o.pbrMetallicRoughness.metallicRoughnessTexture.gfxTexture.destroy(),o.normalTexture&&o.normalTexture.gfxTexture&&o.normalTexture.gfxTexture.destroy(),o.emissionTexture&&o.emissionTexture.gfxTexture&&o.emissionTexture.gfxTexture.destroy(),o.occlusionTexture&&o.occlusionTexture.gfxTexture&&o.occlusionTexture.gfxTexture.destroy()));var o;if(u.children)for(const h of u.children)SI(h)}class hme{constructor(o){this._callback=o,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class dme{constructor(){this.tasks={},this.taskQueue=[],Re(["process"],this),this.invoker=new hme(this.process),this.nextId=0}add(o,h){const p=this.nextId++,v=function({type:b,isSymbolTile:C,zoom:M}){return M=M||0,b==="message"?0:b!=="maybePrepare"||C?b!=="parseTile"||C?b==="parseTile"&&C?300-M:b==="maybePrepare"&&C?400-M:500:200-M:100-M}(h);if(v===0){vt();try{o()}finally{}return null}return this.tasks[p]={fn:o,metadata:h,priority:v,id:p},this.taskQueue.push(p),this.invoker.trigger(),{cancel:()=>{delete this.tasks[p]}}}process(){vt();try{if(this.taskQueue=this.taskQueue.filter(p=>!!this.tasks[p]),!this.taskQueue.length)return;const o=this.pick();if(o===null)return;const h=this.tasks[o];if(delete this.tasks[o],this.taskQueue.length&&this.invoker.trigger(),!h)return;h.fn()}finally{}}pick(){let o=null,h=1/0;for(let v=0;v<this.taskQueue.length;v++){const b=this.tasks[this.taskQueue[v]];b.priority<h&&(h=b.priority,o=v)}if(o===null)return null;const p=this.taskQueue[o];return this.taskQueue.splice(o,1),p}remove(){this.invoker.remove()}}class MH{constructor(o,h,p){this.target=o,this.parent=h,this.mapId=p,this.callbacks={},this.cancelCallbacks={},Re(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.scheduler=new dme}send(o,h,p,v,b=!1,C){const M=Math.round(1e18*Math.random()).toString(36).substring(0,10);p&&(p.metadata=C,this.callbacks[M]=p);const k=new Set;return this.target.postMessage({id:M,type:o,hasCallback:!!p,targetMapId:v,mustQueue:b,sourceMapId:this.mapId,data:gt(h,k)},k),{cancel:()=>{p&&delete this.callbacks[M],this.target.postMessage({id:M,type:"<cancel>",targetMapId:v,sourceMapId:this.mapId})}}}receive(o){const h=o.data,p=h.id;if(p&&(!h.targetMapId||this.mapId===h.targetMapId))if(h.type==="<cancel>"){const v=this.cancelCallbacks[p];delete this.cancelCallbacks[p],v&&v.cancel()}else if(h.mustQueue||vt()){const v=this.callbacks[p],b=this.scheduler.add(()=>this.processTask(p,h),v&&v.metadata||{type:"message"});b&&(this.cancelCallbacks[p]=b)}else this.processTask(p,h)}processTask(o,h){if(delete this.cancelCallbacks[o],h.type==="<response>"){const p=this.callbacks[o];delete this.callbacks[o],p&&(h.error?p(Ct(h.error)):p(null,Ct(h.data)))}else{const p=new Set,v=h.hasCallback?(C,M)=>{this.target.postMessage({id:o,type:"<response>",sourceMapId:this.mapId,error:C?gt(C):null,data:gt(M,p)},p)}:C=>{},b=Ct(h.data);if(this.parent[h.type])this.parent[h.type](h.sourceMapId,b,v);else if(this.parent.getWorkerSource){const C=h.type.split(".");this.parent.getWorkerSource(h.sourceMapId,C[0],b.source,b.scope)[C[1]](b,v)}else v(new Error(`Could not find function ${h.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}}class lb{constructor(o,h){this.workerPool=o,this.actors=[],this.currentActor=0,this.id=_e();const p=this.workerPool.acquire(this.id);for(let v=0;v<p.length;v++){const b=new lb.Actor(p[v],h,this.id);b.name=`Worker ${v}`,this.actors.push(b)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(o,h,p){Ee(this.actors,(v,b)=>{v.send(o,h,b)},p=p||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(o=>{o.remove()}),this.actors=[],this.workerPool.release(this.id)}}lb.Actor=MH;var Cx={workerUrl:"",workerClass:null,workerParams:void 0};function fme(){return Cx.workerClass!=null?new Cx.workerClass:new self.Worker(Cx.workerUrl,Cx.workerParams)}const TI="mapboxgl_preloaded_worker_pool";class Ex{constructor(){this.active={}}acquire(o){if(!this.workers)for(this.workers=[];this.workers.length<Ex.workerCount;)this.workers.push(new fme);return this.active[o]=!0,this.workers.slice()}release(o){delete this.active[o],this.workers&&this.numActive()===0&&(this.workers.forEach(h=>{h.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[TI]}numActive(){return Object.keys(this.active).length}}let Sx;function gE(){return Sx||(Sx=new Ex),Sx}Ex.workerCount=2;let vE,BI,gp,ub,MI,cb=null;function IH(){return vt()&&self.worker&&self.worker.dracoUrl?self.worker.dracoUrl:BI||m.DRACO_URL}function LH(){if(vt()&&self.worker&&self.worker.meshoptUrl)return self.worker.meshoptUrl;if(ub)return ub;const u=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]);if(typeof WebAssembly!="object")throw new Error("WebAssembly not supported, cannot instantiate meshoptimizer");return ub=WebAssembly.validate(u)?m.MESHOPT_SIMD_URL:m.MESHOPT_URL,ub}const _E={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},pme={5120:"DT_INT8",5121:"DT_UINT8",5122:"DT_INT16",5123:"DT_UINT16",5125:"DT_UINT32",5126:"DT_FLOAT32"},Tx={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16};function PH(u,o,h){const p=h.json.bufferViews.length,v=h.buffers.length;o.bufferView=p,h.json.bufferViews[p]={buffer:v,byteLength:u.byteLength},h.buffers[v]=u}const II="KHR_draco_mesh_compression";function Ame(u,o){const h=u.extensions&&u.extensions[II];if(!h)return;const p=new gp.Decoder,v=OH(o,h.bufferView),b=new gp.Mesh;if(!p.DecodeArrayToMesh(v,v.byteLength,b))throw new Error("Failed to decode Draco mesh");const C=o.json.accessors[u.indices],M=_E[C.componentType],k=C.count*M.BYTES_PER_ELEMENT,O=gp._malloc(k);M===Uint16Array?p.GetTrianglesUInt16Array(b,k,O):p.GetTrianglesUInt32Array(b,k,O),PH(gp.memory.buffer.slice(O,O+k),C,o),gp._free(O);for(const U of Object.keys(h.attributes)){const G=p.GetAttributeByUniqueId(b,h.attributes[U]),Z=o.json.accessors[u.attributes[U]],fe=pme[Z.componentType],ge=Z.count*Tx[Z.type]*_E[Z.componentType].BYTES_PER_ELEMENT,xe=gp._malloc(ge);p.GetAttributeDataArrayForAllPoints(b,G,gp[fe],ge,xe),PH(gp.memory.buffer.slice(xe,xe+ge),Z,o),gp._free(xe)}p.destroy(),b.destroy(),delete u.extensions[II]}const yE="EXT_meshopt_compression";function mme(u,o){if(!u.extensions||!u.extensions[yE])return;const h=u.extensions[yE],p=new Uint8Array(o.buffers[h.buffer],h.byteOffset||0,h.byteLength||0),v=new Uint8Array(h.count*h.byteStride);MI.decodeGltfBuffer(v,h.count,h.byteStride,p,h.mode,h.filter),u.buffer=o.buffers.length,u.byteOffset=0,o.buffers[u.buffer]=v.buffer,delete u.extensions[yE]}const FH=1179937895,kH=new TextDecoder("utf8");function RH(u,o){return new URL(u,o).href}function gme(u,o,h,p){return fetch(RH(u.uri,p)).then(v=>v.arrayBuffer()).then(v=>{o.buffers[h]=v})}function OH(u,o){const h=u.json.bufferViews[o];return new Uint8Array(u.buffers[h.buffer],h.byteOffset||0,h.byteLength)}function vme(u,o,h,p){if(u.uri){const v=RH(u.uri,p);return fetch(v).then(b=>b.blob()).then(b=>createImageBitmap(b)).then(b=>{o.images[h]=b})}if(u.bufferView!==void 0){const v=OH(o,u.bufferView),b=new Blob([v],{type:u.mimeType});return createImageBitmap(b).then(C=>{o.images[h]=C})}}function DH(u,o=0,h){const p={json:null,images:[],buffers:[]};if(new Uint32Array(u,o,1)[0]===FH){const U=new Uint32Array(u,o);let G=2;const Z=(U[G++]>>2)-3,fe=U[G++]>>2;if(G++,p.json=JSON.parse(kH.decode(U.subarray(G,G+fe))),G+=fe,G<Z){const ge=U[G++];G++;const xe=o+(G<<2);p.buffers[0]=u.slice(xe,xe+ge)}}else p.json=JSON.parse(kH.decode(new Uint8Array(u,o)));const{buffers:v,images:b,meshes:C,extensionsUsed:M,bufferViews:k}=p.json;let O=Promise.resolve();if(v){const U=[];for(let G=0;G<v.length;G++){const Z=v[G];Z.uri?U.push(gme(Z,p,G,h)):p.buffers[G]||(p.buffers[G]=null)}O=Promise.all(U)}return O.then(()=>{const U=[],G=M&&M.includes(II),Z=M&&M.includes(yE);if(G&&U.push(function(){if(!gp)return vE||(vE=function(fe){let ge,xe=null;function Ie(){ge=new Uint8Array(xe.buffer)}function Oe(){throw new Error("Unexpected Draco error.")}const rt={a:{a:Oe,d:function(lt,ot,Tt){return ge.copyWithin(lt,ot,ot+Tt)},c:function(lt){const ot=ge.length,Tt=Math.max(lt>>>0,Math.ceil(1.2*ot)),yt=Math.ceil((Tt-ot)/65536);try{return xe.grow(yt),Ie(),!0}catch{return!1}},b:Oe}};return(WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(fe,rt):fe.then(lt=>lt.arrayBuffer()).then(lt=>WebAssembly.instantiate(lt,rt))).then(lt=>{const{Rb:ot,Qb:Tt,P:yt,T:Dt,X:Gt,Ja:Xt,La:pn,Qa:en,Va:Sn,Wa:Dn,eb:yn,jb:On,f:gn,e:Rn,yb:cr,zb:Un,Ab:Br,Bb:yr,Db:qn,Gb:ni}=lt.instance.exports;xe=Rn;const Ur=(()=>{let Sr=0,Yn=0,qr=0,Ni=0;return ri=>{qr&&(ot(Ni),ot(Sr),Yn+=qr,qr=Sr=0),Sr||(Yn+=128,Sr=Tt(Yn));const Ui=ri.length+7&-8;let gi=Sr;Ui>=Yn&&(qr=Ui,gi=Ni=Tt(Ui));for(let ea=0;ea<ri.length;ea++)ge[gi+ea]=ri[ea];return gi}})();return Ie(),gn(),{memory:Rn,_free:ot,_malloc:Tt,Mesh:class{constructor(){this.ptr=yt()}destroy(){Dt(this.ptr)}},Decoder:class{constructor(){this.ptr=Xt()}destroy(){On(this.ptr)}DecodeArrayToMesh(Sr,Yn,qr){const Ni=Ur(Sr),ri=pn(this.ptr,Ni,Yn,qr.ptr);return!!Gt(ri)}GetAttributeByUniqueId(Sr,Yn){return{ptr:en(this.ptr,Sr.ptr,Yn)}}GetTrianglesUInt16Array(Sr,Yn,qr){Sn(this.ptr,Sr.ptr,Yn,qr)}GetTrianglesUInt32Array(Sr,Yn,qr){Dn(this.ptr,Sr.ptr,Yn,qr)}GetAttributeDataArrayForAllPoints(Sr,Yn,qr,Ni,ri){yn(this.ptr,Sr.ptr,Yn.ptr,qr,Ni,ri)}},DT_INT8:cr(),DT_UINT8:Un(),DT_INT16:Br(),DT_UINT16:yr(),DT_UINT32:qn(),DT_FLOAT32:ni()}})}(fetch(IH())),vE.then(fe=>{gp=fe,vE=void 0}))}()),Z&&U.push(function(){if(MI)return;const fe=function(ge){let xe;const Ie=WebAssembly.instantiateStreaming(ge,{}).then(lt=>{xe=lt.instance,xe.exports.__wasm_call_ctors()}),Oe={NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},rt={ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return{ready:Ie,supported:!0,decodeGltfBuffer(lt,ot,Tt,yt,Dt,Gt){(function(Xt,pn,en,Sn,Dn,yn,On){const gn=Xt.exports.sbrk,Rn=Sn+3&-4,cr=gn(Rn*Dn),Un=gn(yn.length),Br=new Uint8Array(Xt.exports.memory.buffer);Br.set(yn,Un);const yr=pn(cr,Sn,Dn,Un,yn.length);if(yr===0&&On&&On(cr,Rn,Dn),en.set(Br.subarray(cr,cr+Sn*Dn)),gn(cr-gn(0)),yr!==0)throw new Error(`Malformed buffer data: ${yr}`)})(xe,xe.exports[rt[Dt]],lt,ot,Tt,yt,xe.exports[Oe[Gt]])}}}(fetch(LH()));return fe.ready.then(()=>{MI=fe})}()),b)for(let fe=0;fe<b.length;fe++)U.push(vme(b[fe],p,fe,h));return(U.length?Promise.all(U):Promise.resolve()).then(()=>{if(G&&C)for(const{primitives:fe}of C)for(const ge of fe)Ame(ge,p);if(Z&&C&&k)for(const fe of k)mme(fe,p);return p})})}class NH{constructor(o,h,p){if(this.triangleCount=h.length/3,this.min=new K(0,0),this.max=new K(0,0),this.xScale=0,this.yScale=0,this.cellsX=0,this.cellsY=0,this.cells=[],this.payload=[],this.triangleCount===0||o.length===0||p===0)return;const v=o.map(U=>U.x),b=o.map(U=>U.y);this.min=new K(Math.min(...v),Math.min(...b)),this.max=new K(Math.max(...v),Math.max(...b));const C=this.max.sub(this.min);C.x=Math.max(C.x,1),C.y=Math.max(C.y,1);const M=Math.max(C.x,C.y)/p;this.cellsX=Math.max(1,Math.ceil(C.x/M)),this.cellsY=Math.max(1,Math.ceil(C.y/M)),this.xScale=1/M,this.yScale=1/M;const k=[];for(let U=0;U<this.triangleCount;U++){const G=o[h[3*U+0]].sub(this.min),Z=o[h[3*U+1]].sub(this.min),fe=o[h[3*U+2]].sub(this.min),ge=$0(Math.floor(Math.min(G.x,Z.x,fe.x)),this.xScale,this.cellsX),xe=$0(Math.floor(Math.max(G.x,Z.x,fe.x)),this.xScale,this.cellsX),Ie=$0(Math.floor(Math.min(G.y,Z.y,fe.y)),this.yScale,this.cellsY),Oe=$0(Math.floor(Math.max(G.y,Z.y,fe.y)),this.yScale,this.cellsY),rt=new K(0,0),lt=new K(0,0),ot=new K(0,0),Tt=new K(0,0);for(let yt=Ie;yt<=Oe;++yt){rt.y=lt.y=yt*M,ot.y=Tt.y=(yt+1)*M;for(let Dt=ge;Dt<=xe;++Dt)rt.x=ot.x=Dt*M,lt.x=Tt.x=(Dt+1)*M,(EM(G,Z,fe,rt,lt,Tt)||EM(G,Z,fe,rt,Tt,ot))&&k.push({cellIdx:yt*this.cellsX+Dt,triIdx:U})}}if(k.length===0)return;k.sort((U,G)=>U.cellIdx-G.cellIdx||U.triIdx-G.triIdx);let O=0;for(;O<k.length;){const U=k[O].cellIdx,G={start:this.payload.length,len:0};for(;O<k.length&&k[O].cellIdx===U;)++G.len,this.payload.push(k[O++].triIdx);this.cells[U]=G}}query(o,h,p){if(this.triangleCount===0||this.cells.length===0||o.x>this.max.x||this.min.x>h.x||o.y>this.max.y||this.min.y>h.y)return;this.lookup||(this.lookup=new Uint8Array(Math.ceil(this.triangleCount/8)));for(let k=0;k<this.lookup.length;k++)this.lookup[k]=0;const v=$0(o.x-this.min.x,this.xScale,this.cellsX),b=$0(h.x-this.min.x,this.xScale,this.cellsX),C=$0(o.y-this.min.y,this.yScale,this.cellsY),M=$0(h.y-this.min.y,this.yScale,this.cellsY);for(let k=C;k<=M;k++)for(let O=v;O<=b;O++){const U=this.cells[k*this.cellsX+O];if(U)for(let G=0;G<U.len;G++){const Z=this.payload[U.start+G],fe=Math.floor(Z/8),ge=1<<Z%8;if(!(this.lookup[fe]&ge)&&(this.lookup[fe]|=ge,p.push(Z),p.length===this.triangleCount))return}}}}function $0(u,o,h){return Math.max(0,Math.min(h-1,Math.floor(u*o)))}function W1(u,o){const h=u.json.bufferViews[o.bufferView],p=_E[o.componentType];return new p(u.buffers[h.buffer],(o.byteOffset||0)+(h.byteOffset||0),o.count*(h.byteStride&&h.byteStride!==Tx[o.type]*p.BYTES_PER_ELEMENT?h.byteStride/p.BYTES_PER_ELEMENT:Tx[o.type]))}function LI(u,o,h,p){const v=_E[o.componentType],b=function(U){switch(U){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:return 1}}(v),C=u.json.bufferViews[o.bufferView],M=C.byteStride?C.byteStride/v.BYTES_PER_ELEMENT:Tx[o.type],k=h.float32,O=k.length/h.capacity;for(let U=0,G=0;U<o.count*M;U+=M,G+=O)for(let Z=0;Z<O;Z++)k[G+Z]=p[U+Z]*b;h._trim()}function _me(u,o,h){const p=u.indices,v=u.attributes,b={};b.indexArray=new ws;const C=o.json.accessors[p],M=C.count/3;b.indexArray.reserve(M);const k=W1(o,C);for(let Z=0;Z<M;Z++)b.indexArray.emplaceBack(k[3*Z],k[3*Z+1],k[3*Z+2]);b.indexArray._trim(),b.vertexArray=new cp;const O=o.json.accessors[v.POSITION];b.vertexArray.reserve(O.count);const U=W1(o,O);for(let Z=0;Z<O.count;Z++)b.vertexArray.emplaceBack(U[3*Z],U[3*Z+1],U[3*Z+2]);if(b.vertexArray._trim(),b.aabb=new Vs(O.min,O.max),b.centroid=function(Z,fe){const ge=[0,0,0],xe=Z.length;if(xe>0){for(let Ie=0;Ie<xe;Ie++){const Oe=3*Z[Ie];ge[0]+=fe[Oe],ge[1]+=fe[Oe+1],ge[2]+=fe[Oe+2]}ge[0]/=xe,ge[1]/=xe,ge[2]/=xe}return ge}(k,U),v.COLOR_0!==void 0){const Z=o.json.accessors[v.COLOR_0],fe=Tx[Z.type],ge=W1(o,Z);b.colorArray=fe===3?new cp:new Ad,b.colorArray.resize(Z.count),LI(o,Z,b.colorArray,ge)}if(v.NORMAL!==void 0){b.normalArray=new cp;const Z=o.json.accessors[v.NORMAL];b.normalArray.resize(Z.count);const fe=W1(o,Z);LI(o,Z,b.normalArray,fe)}if(v.TEXCOORD_0!==void 0&&h.length>0){b.texcoordArray=new MA;const Z=o.json.accessors[v.TEXCOORD_0];b.texcoordArray.resize(Z.count);const fe=W1(o,Z);LI(o,Z,b.texcoordArray,fe)}if(v._FEATURE_ID_RGBA4444!==void 0){const Z=o.json.accessors[v._FEATURE_ID_RGBA4444];o.json.extensionsUsed&&o.json.extensionsUsed.includes("EXT_meshopt_compression")&&(b.featureData=W1(o,Z))}v._FEATURE_RGBA4444!==void 0&&(b.featureData=new Uint32Array(W1(o,o.json.accessors[v._FEATURE_RGBA4444]).buffer));const G=u.material;return b.material=function(Z,fe){const{emissiveFactor:ge=[0,0,0],alphaMode:xe="OPAQUE",alphaCutoff:Ie=.5,normalTexture:Oe,occlusionTexture:rt,emissiveTexture:lt,doubleSided:ot}=Z,{baseColorFactor:Tt=[1,1,1,1],metallicFactor:yt=1,roughnessFactor:Dt=1,baseColorTexture:Gt,metallicRoughnessTexture:Xt}=Z.pbrMetallicRoughness||{},pn=rt?fe[rt.index]:void 0;if(rt&&rt.extensions&&rt.extensions.KHR_texture_transform&&pn){const en=rt.extensions.KHR_texture_transform;pn.offsetScale=[en.offset[0],en.offset[1],en.scale[0],en.scale[1]]}return{pbrMetallicRoughness:{baseColorFactor:new Ga(...Tt),metallicFactor:yt,roughnessFactor:Dt,baseColorTexture:Gt?fe[Gt.index]:void 0,metallicRoughnessTexture:Xt?fe[Xt.index]:void 0},doubleSided:ot,emissiveFactor:ge,alphaMode:xe,alphaCutoff:Ie,normalTexture:Oe?fe[Oe.index]:void 0,occlusionTexture:pn,emissionTexture:lt?fe[lt.index]:void 0,defined:Z.defined===void 0}}(G!==void 0?o.json.materials[G]:{defined:!1},h),b}function UH(u,o,h){const{matrix:p,rotation:v,translation:b,scale:C,mesh:M,extras:k,children:O}=u,U={};if(U.matrix=p||a.a6.fromRotationTranslationScale([],v||[0,0,0,1],b||[0,0,0],C||[1,1,1]),M!==void 0){U.meshes=h[M];const G=U.anchor=[0,0];for(const Z of U.meshes){const{min:fe,max:ge}=Z.aabb;G[0]+=fe[0]+ge[0],G[1]+=fe[1]+ge[1]}G[0]=Math.floor(G[0]/U.meshes.length/2),G[1]=Math.floor(G[1]/U.meshes.length/2)}if(k&&(k.id&&(U.id=k.id),k.lights&&(U.lights=function(G){if(!G.length)return[];const Z=function(Oe){const rt=atob(Oe),lt=new Uint8Array(rt.length);for(let ot=0;ot<rt.length;ot++)lt[ot]=rt.codePointAt(ot);return lt}(G),fe=[],ge=Z.length/24,xe=new Uint16Array(Z.buffer),Ie=new Float32Array(Z.buffer);for(let Oe=0;Oe<ge;Oe++){const rt=xe[2*Oe*6]/30,lt=xe[2*Oe*6+1]/30,ot=xe[2*Oe*6+10]/100,Tt=Ie[6*Oe+1],yt=Ie[6*Oe+2],Dt=Ie[6*Oe+3],Gt=Ie[6*Oe+4],Xt=Dt-Tt,pn=Gt-yt,en=Math.hypot(Xt,pn);fe.push({pos:[Tt+.5*Xt,yt+.5*pn,lt],normal:[pn/en,-Xt/en,0],width:en,height:rt,depth:ot,points:[Tt,yt,Dt,Gt]})}return fe}(k.lights))),O){const G=[];for(const Z of O)G.push(UH(o.json.nodes[Z],o,h));U.children=G}return U}function yme(u){if(u.vertices.length===0||u.indices.length===0)return null;const[o,h]=[u.vertices[0].clone(),u.vertices[0].clone()];for(let C=1;C<u.vertices.length;++C){const M=u.vertices[C];o.x=Math.min(o.x,M.x),o.y=Math.min(o.y,M.y),h.x=Math.max(h.x,M.x),h.y=Math.max(h.y,M.y)}const p=Math.ceil(Math.max(h.x-o.x,h.y-o.y)/256),v=Math.max(8,p),b=new NH(u.vertices,u.indices,v);return{vertices:u.vertices,indices:u.indices,grid:b,min:o,max:h}}function bme(u){if(!u.extras||!u.extras.ground)return null;const o=u.extras.ground;if(!o||!Array.isArray(o)||o.length===0)return null;const h=o[0];if(!h||!Array.isArray(h)||h.length===0)return null;const p=[];for(const C of h){if(!Array.isArray(C)||C.length!==2)continue;const M=C[0],k=C[1];typeof M=="number"&&typeof k=="number"&&p.push(new K(M,k))}if(p.length<3)return null;p.length>1&&p[p.length-1].equals(p[0])&&p.pop();let v=0;for(let C=0;C<p.length;C++){const M=p[C],k=p[(C+1)%p.length],O=p[(C+2)%p.length];v+=(M.x-k.x)*(O.y-k.y)-(O.x-k.x)*(M.y-k.y)}v>0&&p.reverse();const b=$5(p.flatMap(C=>[C.x,C.y]),[]);return b.length===0?null:{vertices:p,indices:b}}function wme(u){const o=[],h=[];let p=0;for(const v of u){p=o.length;const b=v.vertexArray.float32,C=v.indexArray.uint16;for(let M=0;M<v.vertexArray.length;M++)o.push(new K(b[3*M+0],b[3*M+1]));for(let M=0;M<3*v.indexArray.length;M++)h.push(C[M]+p)}if(h.length%3!=0)return null;for(let v=0;v<h.length;v+=3){const b=o[h[v+0]],C=o[h[v+1]],M=o[h[v+2]];(b.x-C.x)*(M.y-C.y)-(M.x-C.x)*(b.y-C.y)>0&&([h[v+1],h[v+2]]=[h[v+2],h[v+1]])}return{vertices:o,indices:h}}function zH(u){const o=function(k,O){const U=[],G=WebGL2RenderingContext;if(k.json.textures)for(const Z of k.json.textures){const fe={magFilter:G.LINEAR,minFilter:G.NEAREST,wrapS:G.REPEAT,wrapT:G.REPEAT};Z.sampler!==void 0&&Object.assign(fe,k.json.samplers[Z.sampler]),U.push({image:O[Z.source],sampler:fe,uploaded:!1})}return U}(u,u.images),h=function(k,O){const U=[];for(const G of k.json.meshes){const Z=[];for(const fe of G.primitives)Z.push(_me(fe,k,O));U.push(Z)}return U}(u,o),{scenes:p,scene:v,nodes:b}=u.json,C=p?p[v||0].nodes:b,M=[];for(const k of C)M.push(UH(b[k],u,h));return function(k,O,U){const G={},Z=new Set;for(let fe=0;fe<k.length;fe++){const ge=U[O[fe]];if(!ge.extras)continue;const xe=ge.extras["mapbox:footprint:version"],Ie=ge.extras["mapbox:footprint:id"];(xe||Ie)&&Z.add(fe),xe==="1.0.0"&&Ie&&(G[Ie]=fe)}for(let fe=0;fe<k.length;fe++){if(Z.has(fe))continue;const ge=k[fe],xe=U[O[fe]];if(!xe.extras)continue;let Ie=null;ge.id in G&&(Ie=wme(k[G[ge.id]].meshes)),Ie||(Ie=bme(xe)),Ie&&(ge.footprint=yme(Ie))}if(Z.size>0){const fe=Array.from(Z.values()).sort((ge,xe)=>ge-xe);for(let ge=fe.length-1;ge>=0;ge--)k.splice(fe[ge],1)}}(M,C,u.json.nodes),M}function xme(u){u.heightmap=new Float32Array(4096),u.heightmap.fill(-1);const o=u.vertexArray.float32,h=u.aabb.min[0]-1,p=u.aabb.min[1]-1,v=K1/(u.aabb.max[0]-h+2),b=K1/(u.aabb.max[1]-p+2);for(let C=0;C<o.length;C+=3){const M=o[C+2],k=(o[C+0]-h)*v|0,O=(o[C+1]-p)*b|0;M>u.heightmap[O*K1+k]&&(u.heightmap[O*K1+k]=M)}}function Cme(u,o){const h={};h.indexArray=new ws,h.indexArray.reserve(4*u.length),h.vertexArray=new cp,h.vertexArray.reserve(10*u.length),h.colorArray=new Ad,h.vertexArray.reserve(10*u.length);let p=0;for(const C of u){const M=Math.min(10,Math.max(4,1.3*C.height))*o,k=[-C.normal[1],C.normal[0],0],O=Math.min(.29,.1*C.width/C.depth),U=C.width-2*C.depth*o*(O+.01),G=a.N.scaleAndAdd([],C.pos,k,U/2),Z=a.N.scaleAndAdd([],C.pos,k,-U/2),fe=[G[0],G[1],G[2]+C.height],ge=[Z[0],Z[1],Z[2]+C.height],xe=a.N.scaleAndAdd([],C.normal,k,O);a.N.scale(xe,xe,M);const Ie=a.N.scaleAndAdd([],C.normal,k,-O);a.N.scale(Ie,Ie,M),a.N.add(xe,G,xe),a.N.add(Ie,Z,Ie),G[2]+=.1,Z[2]+=.1,h.vertexArray.emplaceBack(xe[0],xe[1],xe[2]),h.vertexArray.emplaceBack(Ie[0],Ie[1],Ie[2]),h.vertexArray.emplaceBack(G[0],G[1],G[2]),h.vertexArray.emplaceBack(Z[0],Z[1],Z[2]),h.vertexArray.emplaceBack(fe[0],fe[1],fe[2]),h.vertexArray.emplaceBack(ge[0],ge[1],ge[2]),h.vertexArray.emplaceBack(G[0],G[1],G[2]),h.vertexArray.emplaceBack(Z[0],Z[1],Z[2]),h.vertexArray.emplaceBack(xe[0],xe[1],xe[2]),h.vertexArray.emplaceBack(Ie[0],Ie[1],Ie[2]);const Oe=U/M/2;h.colorArray.emplaceBack(-Oe-O,-1,Oe,.8),h.colorArray.emplaceBack(Oe+O,-1,Oe,.8),h.colorArray.emplaceBack(-Oe,0,Oe,1.3),h.colorArray.emplaceBack(Oe,0,Oe,1.3),h.colorArray.emplaceBack(Oe+O,-.8,Oe,.7),h.colorArray.emplaceBack(Oe+O,-.8,Oe,.7),h.colorArray.emplaceBack(0,0,Oe,1.3),h.colorArray.emplaceBack(0,0,Oe,1.3),h.colorArray.emplaceBack(Oe+O,-1.2,Oe,.8),h.colorArray.emplaceBack(Oe+O,-1.2,Oe,.8),h.indexArray.emplaceBack(6+p,4+p,8+p),h.indexArray.emplaceBack(7+p,9+p,5+p),h.indexArray.emplaceBack(0+p,1+p,2+p),h.indexArray.emplaceBack(1+p,3+p,2+p),p+=10}const v={defined:!0,emissiveFactor:[0,0,0]},b={};return b.baseColorFactor=Ga.white,v.pbrMetallicRoughness=b,h.material=v,h.aabb=new Vs([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),h}ze(NH,"TriangleGridIndex");class $H{constructor(o){this._stringToNumber={},this._numberToString=[];for(let h=0;h<o.length;h++){const p=o[h];this._stringToNumber[p]=h,this._numberToString[h]=p}}encode(o){return this._stringToNumber[o]}decode(o){return this._numberToString[o]}}const Eme=["tile","layer","source","sourceLayer","state"];class VH{constructor(o,h,p,v,b){this.type="Feature",this._vectorTileFeature=o,this._z=h,this._x=p,this._y=v,this.properties=o.properties,this.id=b}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(o){this._geometry=o}toJSON(){const o={type:"Feature",state:void 0,geometry:this.geometry,properties:this.properties};this.id!==void 0&&(o.id=this.id);for(const h of Eme)this[h]!==void 0&&(o[h]=this[h]);return o}}class HH{constructor(o,h){this.tileID=o,this.x=o.canonical.x,this.y=o.canonical.y,this.z=o.canonical.z,this.grid=new we(zn,16,0),this.featureIndexArray=new I0,this.promoteId=h,this.is3DTile=!1}insert(o,h,p,v,b,C=0,M=0){const k=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(p,v,b,C);const O=this.grid;for(let U=0;U<h.length;U++){const G=h[U],Z=[1/0,1/0,-1/0,-1/0];for(let fe=0;fe<G.length;fe++){const ge=G[fe];Z[0]=Math.min(Z[0],ge.x),Z[1]=Math.min(Z[1],ge.y),Z[2]=Math.max(Z[2],ge.x),Z[3]=Math.max(Z[3],ge.y)}M!==0&&(Z[0]-=M,Z[1]-=M,Z[2]+=M,Z[3]+=M),Z[0]<zn&&Z[1]<zn&&Z[2]>=0&&Z[3]>=0&&O.insert(k,Z[0],Z[1],Z[2],Z[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new iI(new nb(this.rawTileData)).layers,this.sourceLayerCoder=new $H(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const o in this.vtLayers)this.vtFeatures[o]=[]}return this.vtLayers}query(o,h,p,v){this.loadVTLayers();const b=o.params||{},C=rl(b.filter),M=o.tileResult,k=o.transform,O=M.bufferedTilespaceBounds,U=this.grid.query(O.min.x,O.min.y,O.max.x,O.max.y,(ge,xe,Ie,Oe)=>cz(M.bufferedTilespaceGeometry,ge,xe,Ie,Oe));U.sort(Sme);let G=null;k.elevation&&U.length>0&&(G=Xy.create(k.elevation,this.tileID));const Z={};let fe;for(let ge=0;ge<U.length;ge++){const xe=U[ge];if(xe===fe)continue;fe=xe;const Ie=this.featureIndexArray.get(xe);let Oe=null;if(this.is3DTile){const rt=this.bucketLayerIDs[0][0],lt=h[rt];if(lt.type!=="model")continue;const{queryFeature:ot,intersectionZ:Tt}=lt.queryIntersectsMatchingFeature(M,Ie.featureIndex,C,k);ot&&this.appendToResult(Z,rt,Ie.featureIndex,ot,Tt)}else this.loadMatchingFeature(Z,Ie,C,b.layers,b.availableImages,h,p,v,(rt,lt,ot,Tt=0)=>(Oe||(Oe=al(rt,this.tileID.canonical,o.tileTransform)),lt.queryIntersectsFeature(M,rt,ot,Oe,this.z,o.transform,o.pixelPosMatrix,G,Tt)))}return Z}loadMatchingFeature(o,h,p,v,b,C,M,k,O){const{featureIndex:U,bucketIndex:G,sourceLayerIndex:Z,layoutVertexArrayOffset:fe}=h,ge=this.bucketLayerIDs[G];if(v&&!function(rt,lt){for(let ot=0;ot<rt.length;ot++)if(lt.indexOf(rt[ot])>=0)return!0;return!1}(v,ge))return;const xe=this.sourceLayerCoder.decode(Z),Ie=this.vtLayers[xe].feature(U);if(p.needGeometry){const rt=No(Ie,!0);if(!p.filter(new Pi(this.tileID.overscaledZ),rt,this.tileID.canonical))return}else if(!p.filter(new Pi(this.tileID.overscaledZ),Ie))return;const Oe=this.getId(Ie,xe);for(let rt=0;rt<ge.length;rt++){const lt=ge[rt];if(v&&v.indexOf(lt)<0)continue;const ot=C[lt];if(!ot)continue;let Tt={};Oe!==void 0&&k&&(Tt=k.getState(ot.sourceLayer||"_geojsonTileLayer",Oe));const yt=!O||O(Ie,ot,Tt,fe);if(!yt)continue;const Dt=new VH(Ie,this.z,this.x,this.y,Oe),Gt=se({},M[lt]);Gt.paint=QH(Gt.paint,ot.paint,Ie,Tt,b),Gt.layout=QH(Gt.layout,ot.layout,Ie,Tt,b),Dt.layer=Gt,this.appendToResult(o,lt,U,Dt,yt)}}appendToResult(o,h,p,v,b){let C=o[h];C===void 0&&(C=o[h]=[]),C.push({featureIndex:p,feature:v,intersectionZ:b})}lookupSymbolFeatures(o,h,p,v,b,C,M,k){const O={};this.loadVTLayers();const U=rl(b);for(const G of o)this.loadMatchingFeature(O,{bucketIndex:p,sourceLayerIndex:v,featureIndex:G,layoutVertexArrayOffset:0},U,C,M,k,h);return O}loadFeature(o){const{featureIndex:h,sourceLayerIndex:p}=o;this.loadVTLayers();const v=this.sourceLayerCoder.decode(p),b=this.vtFeatures[v];if(b[h])return b[h];const C=this.vtLayers[v].feature(h);return b[h]=C,C}hasLayer(o){for(const h of this.bucketLayerIDs)for(const p of h)if(o===p)return!0;return!1}getId(o,h){let p=o.id;if(this.promoteId){const v=typeof this.promoteId=="string"?this.promoteId:this.promoteId[h];v!=null&&(p=o.properties[v]),typeof p=="boolean"&&(p=Number(p))}return p}}function QH(u,o,h,p,v){return Je(u,(b,C)=>{const M=o instanceof pl?o.get(C):null;return M&&M.evaluate?M.evaluate(h,p,v):M})}function Sme(u,o){return o-u}ze(HH,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});const PI=new Float32Array(262144),q1=new Uint8Array(262144);function jH(u){let o=0;if(u.meshes)for(const h of u.meshes)o=Math.max(o,h.aabb.max[2]);if(u.children)for(const h of u.children)o=Math.max(o,jH(h));return o}function GH(u,o,h){if(u.meshes)for(const p of u.meshes)p.aabb.min[0]!==1/0&&h.insert(o,p.aabb.min[0],p.aabb.min[1],p.aabb.max[0],p.aabb.max[1]);if(u.children)for(const p of u.children)GH(p,o,h)}const KH=["","wall","door","roof","window","lamp","logo"];class WH{constructor(o){this.node=o,this.evaluatedRMEA=[[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[.4,1,0,1],[1,0,0,1],[1,0,0,1]],this.hiddenByReplacement=!1,this.evaluatedScale=[1,1,1],this.evaluatedColor=[],this.emissionHeightBasedParams=[],this.feature={type:"Point",id:o.id,geometry:[],properties:{height:jH(o)}}}getLocalBounds(){if(!this.node.meshes)return new Vs([1/0,1/0,1/0],[-1/0,-1/0,-1/0]);if(!this.aabb){let o=0;const h=new Vs([1/0,1/0,1/0],[-1/0,-1/0,-1/0]);for(const p of this.node.meshes)this.node.lightMeshIndex!==o&&h.encapsulate(p.aabb),o++;this.aabb=h}return this.aabb}}class bE{constructor(o,h,p,v,b,C){this.id=h,this.modelTraits|=ob.CoordinateSpaceTile,this.uploaded=!1,this.hasPattern=!1,p&&(this.modelTraits|=ob.HasMapboxMeshFeatures),v&&(this.modelTraits|=ob.HasMeshoptCompression),this.zoom=-1,this.terrainExaggeration=1,this.projection={name:"mercator"},this.replacementUpdateTime=0,this.elevationReadFromZ=255,this.brightness=b,this.dirty=!0,this.needsUpload=!1,this.nodesInfo=[];for(const M of o)this.nodesInfo.push(new WH(M)),GH(M,C.featureIndexArray.length,C.grid),C.featureIndexArray.emplaceBack(this.nodesInfo.length-1,0,C.bucketLayerIDs.length-1,0)}update(){console.log("Update 3D model bucket")}populate(){console.log("populate 3D model bucket")}uploadPending(){return!this.uploaded||this.needsUpload}upload(o){if(!this.needsUpload)return;const h=this.getNodesInfo();for(const p of h){const v=p.node;this.uploaded?this.updatePbrBuffer(v):EI(v,o,!0)}for(const p of h)mE(p.node);this.uploaded=!0,this.needsUpload=!1}updatePbrBuffer(o){let h=!1;if(!o.meshes)return h;for(const p of o.meshes)p.pbrBuffer&&(p.pbrBuffer.updateData(p.featureArray),h=!0);return h}needsReEvaluation(o,h,p){const v=o.transform.projectionOptions,b=o.style.getBrightness(),C=this.brightness!==b;return!!(!this.uploaded||this.dirty||v.name!==this.projection.name||Bx(p.paint.get("model-color").value,C)||Bx(p.paint.get("model-color-mix-intensity").value,C)||Bx(p.paint.get("model-roughness").value,C)||Bx(p.paint.get("model-emissive-strength").value,C)||Bx(p.paint.get("model-height-based-emissive-strength-multiplier").value,C))&&(this.projection=v,this.brightness=b,!0)}evaluateScale(o,h){if(o.transform.zoom===this.zoom)return;this.zoom=o.transform.zoom;const p=this.getNodesInfo(),v=this.id.canonical;for(const b of p){const C=b.feature;b.evaluatedScale=h.paint.get("model-scale").evaluate(C,{},v)}}evaluate(o){const h=this.getNodesInfo();for(const p of h){if(!p.node.meshes)continue;const v=p.feature,b=p.node.meshes&&p.node.meshes[0].featureData,C=p.evaluatedColor[2],M=p.evaluatedRMEA[2],k=this.id.canonical;if(p.hasTranslucentParts=!1,b){for(let O=0;O<KH.length;O++){const U=KH[O];U.length&&(v.properties.part=U);const G=o.paint.get("model-color").evaluate(v,{},k),Z=o.paint.get("model-color-mix-intensity").evaluate(v,{},k);p.evaluatedColor[O]=[G.r,G.g,G.b,Z],p.evaluatedRMEA[O][0]=o.paint.get("model-roughness").evaluate(v,{},k),p.evaluatedRMEA[O][2]=o.paint.get("model-emissive-strength").evaluate(v,{},k),p.evaluatedRMEA[O][3]=G.a,p.emissionHeightBasedParams[O]=o.paint.get("model-height-based-emissive-strength-multiplier").evaluate(v,{},k),!p.hasTranslucentParts&&G.a<1&&(p.hasTranslucentParts=!0)}delete v.properties.part,Bme(p,C!==p.evaluatedColor[2]||M!==p.evaluatedRMEA[2],this.modelTraits)}else p.evaluatedRMEA[0][2]=o.paint.get("model-emissive-strength").evaluate(v,{},k);p.evaluatedScale=o.paint.get("model-scale").evaluate(v,{},k),this.updatePbrBuffer(p.node)||(this.needsUpload=!0)}this.dirty=!1}elevationUpdate(o,h,p,v){const b=o.findDEMTileFor(p);if(b&&(b.tileID.canonical!==this.terrainTile||h!==this.terrainExaggeration)){if(b.dem&&b.tileID.overscaledZ!==this.elevationReadFromZ){this.elevationReadFromZ=b.tileID.overscaledZ;const C=Xy.create(o,p,b);if(!C)return;this.modelTraits&ob.HasMapboxMeshFeatures&&this.updateDEM(o,C,p,v);for(const M of this.getNodesInfo()){const k=M.node;if(!k.footprint||!k.footprint.vertices||!k.footprint.vertices.length)continue;const O=k.footprint.vertices;let U=C.getElevationAt(O[0].x,O[0].y,!0,!0);for(let G=1;G<O.length;G++)U=Math.min(U,C.getElevationAt(O[G].x,O[G].y,!0,!0));k.elevation=U}}this.terrainTile=b.tileID.canonical,this.terrainExaggeration=h}}updateDEM(o,h,p,v){let b=h._dem._modifiedForSources[v];if(b===void 0&&(h._dem._modifiedForSources[v]=[],b=h._dem._modifiedForSources[v]),b.includes(p.canonical))return;const C=h._dem.dim;b.push(p.canonical);let M=!1;for(const k of this.getNodesInfo()){const O=k.node;if(!O.footprint||!O.footprint.grid)continue;const U=O.footprint.grid,G=h.tileCoordToPixel(U.min.x,U.min.y),Z=h.tileCoordToPixel(U.max.x,U.max.y),fe=Math.min(Math.min(C-Z.y,G.x),Math.min(G.y,C-Z.x));if(fe<0)continue;const ge=he(fe,2,5);let xe=Math.max(0,G.x-ge),Ie=Math.max(0,G.y-ge),Oe=Math.min(Z.x+ge,C-1),rt=Math.min(Z.y+ge,C-1);for(let yt=Ie;yt<=rt;++yt)for(let Dt=xe;Dt<=Oe;++Dt)q1[yt*C+Dt]=255;let lt=0,ot=0;for(let yt=0;yt<U.cellsY;++yt)for(let Dt=0;Dt<U.cellsX;++Dt){if(!U.cells[yt*U.cellsX+Dt])continue;const Gt=h.tileCoordToPixel(U.min.x+Dt/U.xScale,U.min.y+yt/U.yScale),Xt=h.tileCoordToPixel(U.min.x+(Dt+1)/U.xScale,U.min.y+(yt+1)/U.yScale);for(let pn=Gt.y;pn<=Math.min(Xt.y+1,C-1);++pn)for(let en=Gt.x;en<=Math.min(Xt.x+1,C-1);++en)q1[pn*C+en]===255&&(q1[pn*C+en]=0,lt+=h.getElevationAtPixel(en,pn),ot++)}const Tt=lt/ot;xe=Math.max(1,G.x-ge),Ie=Math.max(1,G.y-ge),Oe=Math.min(Z.x+ge,C-2),rt=Math.min(Z.y+ge,C-2),M=!0;for(let yt=Ie;yt<=rt;++yt)for(let Dt=xe;Dt<=Oe;++Dt)q1[yt*C+Dt]===0&&(PI[yt*C+Dt]=h._dem.set(Dt,yt,Tt));for(let yt=1;yt<ge;++yt){xe=Math.max(1,G.x-yt),Ie=Math.max(1,G.y-yt),Oe=Math.min(Z.x+yt,C-2),rt=Math.min(Z.y+yt,C-2);for(let Dt=Ie;Dt<=rt;++Dt)for(let Gt=xe;Gt<=Oe;++Gt){const Xt=Dt*C+Gt;if(q1[Xt]===255){let pn=0,en=0,Sn=-1,Dn=-1;for(let yn=-1;yn<=1;++yn)for(let On=-1;On<=1;++On){const gn=(Dt+yn)*C+Gt+On;if(q1[gn]>=yt)continue;const Rn=PI[gn],cr=Math.abs(Rn);cr>en&&(pn=Rn,en=cr,Sn=On,Dn=yn)}if(en>.1){const yn=1-(yt+.5*Math.abs(Sn*Dn))/ge;let On=h._dem.get(Gt,Dt)+pn*yn;const gn=h._dem.get(Gt+Sn,Dt+Dn),Rn=h._dem.get(Gt-Sn,Dt-Dn,!0);(On-gn)*(On-Rn)>0&&(On=(gn+Rn)/2),PI[Xt]=h._dem.set(Gt,Dt,On),q1[Xt]=yt}}}}}M&&(h._demTile.needsDEMTextureUpload=!0,h._dem._timestamp=Pt.now())}getNodesInfo(){return this.nodesInfo}destroy(){const o=this.getNodesInfo();for(const h of o)mE(h.node),SI(h.node)}isEmpty(){return!this.nodesInfo.length}updateReplacement(o,h){if(h.updateTime===this.replacementUpdateTime)return;this.replacementUpdateTime=h.updateTime;const p=h.getReplacementRegionsForTile(o.toUnwrapped()),v=this.getNodesInfo();for(let b=0;b<this.nodesInfo.length;b++){const C=v[b].node;v[b].hiddenByReplacement=!!C.footprint&&!p.find(M=>M.footprint===C.footprint)}}getHeightAtTileCoord(o,h){const p=this.getNodesInfo(),v=[];for(let b=0;b<this.nodesInfo.length;b++){const C=p[b],M=C.node.meshes[0];if(o<M.aabb.min[0]||h<M.aabb.min[1]||o>M.aabb.max[0]||h>M.aabb.max[1])continue;const k=(o-M.aabb.min[0])/(M.aabb.max[0]-M.aabb.min[0])*K1|0,O=Math.min(63,(h-M.aabb.min[1])/(M.aabb.max[1]-M.aabb.min[1])*K1|0)*K1+Math.min(63,k);if(!(M.heightmap[O]<0&&C.node.footprint))return C.hiddenByReplacement?void 0:{height:M.heightmap[O],maxHeight:C.feature.properties.height,hidden:!1,verticalScale:C.evaluatedScale[2]};if(C.node.footprint.grid.query(new K(o,h),new K(o,h),v),v.length>0)return{height:void 0,maxHeight:C.feature.properties.height,hidden:C.hiddenByReplacement,verticalScale:C.evaluatedScale[2]}}}}function Bx(u,o){return!u.isLightConstant&&o}function Tme(u,o,h,p,v,b,C,M){let k=(61440&o|(61440&o)>>4)>>8,O=(3840&o|(3840&o)>>4)>>4,U=240&o|(240&o)>>4;h[3]>0&&(k=Ri(k,255*h[0],h[3]),O=Ri(O,255*h[1],h[3]),U=Ri(U,255*h[2],h[3]));const G=k<<8|O,Z=U<<8|Math.floor(255*p[3]),fe=function(yt){const Dt=he(yt,0,2);return Math.min(Math.round(.5*Dt*255),255)}(p[2])<<8|15*p[0]<<4|15*p[1],ge=he(v[0],0,1),xe=he(v[1],0,1),Ie=he(v[2],0,1),Oe=he(v[3],0,1);let rt,lt,ot,Tt;if(ge!==xe&&C!==b&&xe!==ge){const yt=C-b;lt=1/(yt*(xe-ge)),ot=-(b+yt*ge)/(yt*(xe-ge));const Dt=he(v[4],-1,1);Tt=Math.pow(10,Dt),rt=255*Ie<<8|255*Oe}else rt=65535,lt=0,ot=1,Tt=1;if(u.emplaceBack(G,Z,fe,rt,lt,ot,Tt),M){const yt=M.length;M.clear();for(let Dt=0;Dt<yt;Dt++)M.emplaceBack(G,Z,fe,rt,lt,ot,Tt)}}function Bme(u,o,h){const p=u.node;let v=0;const b=h&ob.HasMeshoptCompression;for(const C of p.meshes){if(p.lights&&p.lightMeshIndex===v||!C.featureData)continue;C.featureArray=new gd,C.featureArray.reserve(C.featureData.length);let M=o;for(const k of C.featureData){const O=b?65535&k:k>>16&65535,U=b?k>>16&65535:65535&k,G=(15&U)<8?15&U:0,Z=u.evaluatedRMEA[G],fe=u.evaluatedColor[G],ge=u.emissionHeightBasedParams[G];let xe;if(M&&G===2&&p.lights&&(xe=new gd,xe.resize(10*p.lights.length)),Tme(C.featureArray,O,fe,Z,ge,C.aabb.min[2],C.aabb.max[2],xe),xe&&M){M=!1;const Ie=p.meshes[p.lightMeshIndex];Ie.featureArray=xe,Ie.featureArray._trim()}}C.featureArray._trim(),v++}}function qH(u,o,h,p){const v=1<<u.z;o.lat=na((p/zn+u.y)/v),o.lng=bi((h/zn+u.x)/v)}ze(bE,"Tiled3dModelBucket",{omit:["layers"]}),ze(WH,"Tiled3dModelFeature");const Mme={circle:class extends Al{constructor(u,o,h){super(u,bfe,o,h)}createBucket(u){return new Ac(u)}queryRadius(u){const o=u;return Wy("circle-radius",this,o)+Wy("circle-stroke-width",this,o)+B5(this.paint.get("circle-translate"))}queryIntersectsFeature(u,o,h,p,v,b,C,M){const k=dz(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),b.angle,u.pixelToTileUnitsFactor),O=this.paint.get("circle-radius").evaluate(o,h)+this.paint.get("circle-stroke-width").evaluate(o,h);return U$(u,p,b,C,M,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",k,O)}getProgramIds(){return["circle"]}getDefaultProgramParams(u,o){const h=N$(this);return{config:new Me(this,o),defines:h,overrideFog:!1}}},heatmap:class extends Al{createBucket(u){return new $$(u)}constructor(u,o,h){super(u,Zfe,o,h),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(u){u==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=ox({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(u){return Wy("heatmap-radius",this,u)}queryIntersectsFeature(u,o,h,p,v,b,C,M){const k=this.paint.get("heatmap-radius").evaluate(o,h);return U$(u,p,b,C,M,!0,!0,new K(0,0),k)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getDefaultProgramParams(u,o){return u==="heatmap"?{config:new Me(this,o),overrideFog:!1}:{}}},hillshade:class extends Al{constructor(u,o,h){super(u,epe,o,h)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}getDefaultProgramParams(u,o){return{overrideFog:!1}}},fill:class extends Al{constructor(u,o,h){super(u,ppe,o,h)}getProgramIds(){const u=this.paint.get("fill-pattern"),o=u&&u.constantOr(1),h=[o?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&h.push(o&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),h}getDefaultProgramParams(u,o){return{config:new Me(this,o),overrideFog:!1}}recalculate(u,o){super.recalculate(u,o);const h=this.paint._values["fill-outline-color"];h.value.kind==="constant"&&h.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(u){return new rI(u)}queryRadius(){return B5(this.paint.get("fill-translate"))}queryIntersectsFeature(u,o,h,p,v,b){return!u.queryGeometry.isAboveHorizon&&dg(hz(u.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),b.angle,u.pixelToTileUnitsFactor),p)}isTileClipped(){return!0}},"fill-extrusion":class extends Al{constructor(u,o,h){super(u,Vpe,o,h),this._stats={numRenderedVerticesInShadowPass:0,numRenderedVerticesInTransparentPass:0}}createBucket(u){return new W5(u)}queryRadius(){return B5(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}hasShadowPass(){return!0}cutoffRange(){return this.paint.get("fill-extrusion-cutoff-fade-range")}canCastShadows(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}queryIntersectsFeature(u,o,h,p,v,b,C,M,k){const O=dz(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),b.angle,u.pixelToTileUnitsFactor),U=this.paint.get("fill-extrusion-height").evaluate(o,h),G=this.paint.get("fill-extrusion-base").evaluate(o,h),Z=[0,0],fe=M&&b.elevation,ge=b.elevation?b.elevation.exaggeration():1,xe=u.tile.getBucket(this);if(fe&&xe instanceof W5){const ot=xe.centroidVertexArray,Tt=k+1;Tt<ot.length&&(Z[0]=ot.geta_centroid_pos0(Tt),Z[1]=ot.geta_centroid_pos1(Tt))}if(Z[0]===0&&Z[1]===1)return!1;b.projection.name==="globe"&&(p=wV([p],[new K(0,0),new K(zn,zn)],u.tileID.canonical).map(ot=>ot.polygon).flat());const Ie=fe?M:null,[Oe,rt]=function(ot,Tt,yt,Dt,Gt,Xt,pn,en,Sn,Dn,yn){return ot.projection.name==="globe"?function(On,gn,Rn,cr,Un,Br,yr,qn,ni,Ur,Sr){const Yn=[],qr=[],Ni=On.projection.upVectorScale(Sr,On.center.lat,On.worldSize).metersToTile,ri=[0,0,0,1],Ui=[0,0,0,1],gi=(Ei,Ya,va,ya)=>{Ei[0]=Ya,Ei[1]=va,Ei[2]=ya,Ei[3]=1},ea=bV();Rn>0&&(Rn+=ea),cr+=ea;for(const Ei of gn){const Ya=[],va=[];for(const ya of Ei){const Ta=ya.x+Un.x,_a=ya.y+Un.y,Cs=On.projection.projectTilePoint(Ta,_a,Sr),Da=On.projection.upVector(Sr,ya.x,ya.y);let Zs=Rn,Ho=cr;if(yr){const Yl=CV(Ta,_a,Rn,cr,yr,qn,ni,Ur);Zs+=Yl.base,Ho+=Yl.top}Rn!==0?gi(ri,Cs.x+Da[0]*Ni*Zs,Cs.y+Da[1]*Ni*Zs,Cs.z+Da[2]*Ni*Zs):gi(ri,Cs.x,Cs.y,Cs.z),gi(Ui,Cs.x+Da[0]*Ni*Ho,Cs.y+Da[1]*Ni*Ho,Cs.z+Da[2]*Ni*Ho),a.N.transformMat4(ri,ri,Br),a.N.transformMat4(Ui,Ui,Br),Ya.push(new Zy(ri[0],ri[1],ri[2])),va.push(new Zy(Ui[0],Ui[1],Ui[2]))}Yn.push(Ya),qr.push(va)}return[Yn,qr]}(ot,Tt,yt,Dt,Gt,Xt,pn,en,Sn,Dn,yn):pn?function(On,gn,Rn,cr,Un,Br,yr,qn,ni){const Ur=[],Sr=[],Yn=[0,0,0,1];for(const qr of On){const Ni=[],ri=[];for(const Ui of qr){const gi=Ui.x+cr.x,ea=Ui.y+cr.y,Ei=CV(gi,ea,gn,Rn,Br,yr,qn,ni);Yn[0]=gi,Yn[1]=ea,Yn[2]=Ei.base,Yn[3]=1,a.a7.transformMat4(Yn,Yn,Un),Yn[3]=Math.max(Yn[3],1e-5);const Ya=new Zy(Yn[0]/Yn[3],Yn[1]/Yn[3],Yn[2]/Yn[3]);Yn[0]=gi,Yn[1]=ea,Yn[2]=Ei.top,Yn[3]=1,a.a7.transformMat4(Yn,Yn,Un),Yn[3]=Math.max(Yn[3],1e-5);const va=new Zy(Yn[0]/Yn[3],Yn[1]/Yn[3],Yn[2]/Yn[3]);Ni.push(Ya),ri.push(va)}Ur.push(Ni),Sr.push(ri)}return[Ur,Sr]}(Tt,yt,Dt,Gt,Xt,pn,en,Sn,Dn):function(On,gn,Rn,cr,Un){const Br=[],yr=[],qn=Un[8]*gn,ni=Un[9]*gn,Ur=Un[10]*gn,Sr=Un[11]*gn,Yn=Un[8]*Rn,qr=Un[9]*Rn,Ni=Un[10]*Rn,ri=Un[11]*Rn;for(const Ui of On){const gi=[],ea=[];for(const Ei of Ui){const Ya=Ei.x+cr.x,va=Ei.y+cr.y,ya=Un[0]*Ya+Un[4]*va+Un[12],Ta=Un[1]*Ya+Un[5]*va+Un[13],_a=Un[2]*Ya+Un[6]*va+Un[14],Cs=Un[3]*Ya+Un[7]*va+Un[15],Da=ya+qn,Zs=Ta+ni,Ho=_a+Ur,Yl=Math.max(Cs+Sr,1e-5),fs=ya+Yn,Ps=Ta+qr,vl=_a+Ni,_l=Math.max(Cs+ri,1e-5);gi.push(new Zy(Da/Yl,Zs/Yl,Ho/Yl)),ea.push(new Zy(fs/_l,Ps/_l,vl/_l))}Br.push(gi),yr.push(ea)}return[Br,yr]}(Tt,yt,Dt,Gt,Xt)}(b,p,G,U,O,C,Ie,Z,ge,b.center.lat,u.tileID.canonical),lt=u.queryGeometry;return function(ot,Tt,yt){let Dt=1/0;dg(yt,Tt)&&(Dt=xV(yt,Tt[0]));for(let Gt=0;Gt<Tt.length;Gt++){const Xt=Tt[Gt],pn=ot[Gt];for(let en=0;en<Xt.length-1;en++){const Sn=Xt[en],Dn=[Sn,Xt[en+1],pn[en+1],pn[en],Sn];af(yt,Dn)&&(Dt=Math.min(Dt,xV(yt,Dn)))}}return Dt!==1/0&&Dt}(Oe,rt,lt.isPointQuery()?lt.screenBounds:lt.screenGeometry)}},line:class extends Al{constructor(u,o,h){super(u,SV,o,h),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(u){if(u==="line-gradient"){const o=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=o._styleExpression&&o._styleExpression.expression instanceof jl,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}widthExpression(){return this._transitionablePaint._values["line-width"].value.expression}recalculate(u,o){super.recalculate(u,o),this.paint._values["line-floorwidth"]=PV.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,u)}createBucket(u){return new sI(u)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getDefaultProgramParams(u,o){const h=IV(this);return{config:new Me(this,o),defines:h,overrideFog:!1}}queryRadius(u){const o=u,h=FV(Wy("line-width",this,o),Wy("line-gap-width",this,o)),p=Wy("line-offset",this,o);return h/2+Math.abs(p)+B5(this.paint.get("line-translate"))}queryIntersectsFeature(u,o,h,p,v,b){if(u.queryGeometry.isAboveHorizon)return!1;const C=hz(u.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),b.angle,u.pixelToTileUnitsFactor),M=u.pixelToTileUnitsFactor/2*FV(this.paint.get("line-width").evaluate(o,h),this.paint.get("line-gap-width").evaluate(o,h)),k=this.paint.get("line-offset").evaluate(o,h);return k&&(p=function(O,U){const G=[],Z=new K(0,0);for(let fe=0;fe<O.length;fe++){const ge=O[fe],xe=[];for(let Ie=0;Ie<ge.length;Ie++){const Oe=ge[Ie],rt=ge[Ie+1],lt=Ie===0?Z:Oe.sub(ge[Ie-1])._unit()._perp(),ot=Ie===ge.length-1?Z:rt.sub(Oe)._unit()._perp(),Tt=lt._add(ot)._unit();Tt._mult(1/(Tt.x*ot.x+Tt.y*ot.y)),xe.push(Tt._mult(U)._add(Oe))}G.push(xe)}return G}(p,k*u.pixelToTileUnitsFactor)),function(O,U,G){for(let Z=0;Z<U.length;Z++){const fe=U[Z];if(O.length>=3){for(let ge=0;ge<fe.length;ge++)if(dp(O,fe[ge]))return!0}if($1(O,fe,G))return!0}return!1}(C,p,M)}isTileClipped(){return!0}},symbol:cE,background:class extends Al{constructor(u,o,h){super(u,jAe,o,h)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}getDefaultProgramParams(u,o){return{overrideFog:!1}}},raster:vH,"raster-particle":_H,sky:class extends Al{constructor(u,o,h){super(u,JAe,o,h),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(u){u==="sky-gradient"?this._updateColorRamp():u!=="sky-atmosphere-sun"&&u!=="sky-atmosphere-halo-color"&&u!=="sky-atmosphere-color"&&u!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=ox({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(u){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const o=u.style.light.properties.get("position");return this._lightPosition.azimuthal!==o.azimuthal||this._lightPosition.polar!==o.polar}return!1}getCenter(u,o){if(this.paint.get("sky-type")==="atmosphere"){const p=this.paint.get("sky-atmosphere-sun"),v=!p,b=u.style.light,C=b.properties.get("position");return v&&b.properties.get("anchor")==="viewport"&&Ge("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),v?wI(C.azimuthal,90-C.polar,o):wI(p[0],90-p[1],o)}const h=this.paint.get("sky-gradient-center");return wI(h[0],90-h[1],o)}isSky(){return!0}markSkyboxValid(u){this._skyboxInvalidated=!1,this._lightPosition=u.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const u=this.paint.get("sky-type");return u==="atmosphere"?["skyboxCapture","skybox"]:u==="gradient"?["skyboxGradient"]:null}},slot:class extends Al{constructor(u,o,h){super(u,eme,o)}},model:class extends Al{constructor(u,o,h){super(u,ume,o,h),this._stats={numRenderedVerticesInShadowPass:0,numRenderedVerticesInTransparentPass:0}}createBucket(u){return new CI(u)}getProgramIds(){return["model"]}is3D(){return!0}hasShadowPass(){return!0}canCastShadows(){return!0}hasLightBeamPass(){return!0}cutoffRange(){return this.paint.get("model-cutoff-fade-range")}queryRadius(u){return u instanceof bE?zn-1:0}queryIntersectsFeature(u,o,h,p,v,b){if(!this.modelManager)return!1;const C=this.modelManager,M=u.tile.getBucket(this);if(!(M&&M instanceof CI))return!1;const k=M;for(const O in k.instancesPerModel){const U=k.instancesPerModel[O];if(U.idToFeaturesIndex.hasOwnProperty(o.id)){const G=U.features[U.idToFeaturesIndex[o.id]],Z=C.getModel(O,this.scope);if(!Z)return!1;let fe=a.a6.create();const ge=new Yt(0,0),xe=k.canonical;let Ie=Number.MAX_VALUE;for(let Oe=0;Oe<G.instancedDataCount;++Oe){const rt=16*(G.instancedDataOffset+Oe),lt=U.instancedDataArray.float32,ot=[lt[rt+4],lt[rt+5],lt[rt+6]];qH(xe,ge,lt[rt],0|lt[rt+1]),BH(fe,Z,b,ge,G.rotation,G.scale,ot,!1,!1,!1),b.projection.name==="globe"&&(fe=xI(fe,b));const Tt=a.a6.multiply([],b.projMatrix,fe),yt=u.queryGeometry,Dt=EH(yt.isPointQuery()?yt.screenBounds:yt.screenGeometry,b,Tt,Z.aabb);Dt!=null&&(Ie=Math.min(Dt,Ie))}return Ie!==Number.MAX_VALUE&&Ie}}return!1}_handleOverridablePaintPropertyUpdate(u,o,h){return!(!this.layout||o.isDataDriven()||h.isDataDriven()||u!=="model-color"&&u!=="model-color-mix-intensity"&&u!=="model-rotation"&&u!=="model-scale"&&u!=="model-translation"&&u!=="model-emissive-strength")}_isPropertyZoomDependent(u){const o=this._transitionablePaint._values[u];return o!=null&&o.value!=null&&o.value.expression!=null&&o.value.expression instanceof SA}isZoomDependent(){return this._isPropertyZoomDependent("model-scale")||this._isPropertyZoomDependent("model-rotation")||this._isPropertyZoomDependent("model-translation")}queryIntersectsMatchingFeature(u,o,h,p){const v=u.tile,b=v.getBucket(this);let C=null,M=Number.MAX_VALUE;if(!(b&&b instanceof bE))return{queryFeature:C,intersectionZ:M};const k=b.getNodesInfo()[o];if(k.hiddenByReplacement||!k.node.meshes||!h.filter(new Pi(v.tileID.overscaledZ),k.feature,v.tileID.canonical))return{queryFeature:C,intersectionZ:M};const O=k.node,U=p.calculatePosMatrix(v.tileID.toUnwrapped(),p.worldSize),G=k.evaluatedScale;let Z=0;p.elevation&&O.elevation&&(Z=O.elevation*p.elevation.exaggeration()),a.a6.translate(U,U,[(O.anchor?O.anchor[0]:0)*(G[0]-1),(O.anchor?O.anchor[1]:0)*(G[1]-1),Z]),a.a6.scale(U,U,G),a.a6.multiply(U,U,O.matrix);const fe=u.queryGeometry,ge=fe.isPointQuery()?fe.screenBounds:fe.screenGeometry,xe=function(Oe){const rt=a.a6.multiply([],U,Oe.matrix),lt=a.a6.multiply(rt,p.expandedFarZProjMatrix,rt);for(let ot=0;ot<Oe.meshes.length;++ot){const Tt=Oe.meshes[ot];if(ot===Oe.lightMeshIndex)continue;const yt=EH(ge,p,lt,Tt.aabb);yt!=null&&(M=Math.min(yt,M))}if(Oe.children)for(const ot of Oe.children)xe(ot)};if(xe(O),M===Number.MAX_VALUE)return{queryFeature:C,intersectionZ:M};const Ie=new Yt(0,0);return qH(v.tileID.canonical,Ie,k.node.anchor[0],k.node.anchor[1]),C={type:"Feature",geometry:{type:"Point",coordinates:[Ie.lng,Ie.lat]},properties:k.feature.properties,id:k.feature.id,state:{},layer:this.serialize()},{queryFeature:C,intersectionZ:M}}}},Ti={read:function(u,o){return u.readFields(Ti._readField,{header_length:0,x:0,y:0,z:0,layers:[]},o)},_readField:function(u,o,h){u===1?o.header_length=h.readFixed32():u===2?o.x=h.readVarint():u===3?o.y=h.readVarint():u===4?o.z=h.readVarint():u===5&&o.layers.push(Ti.Layer.read(h,h.readVarint()+h.pos))},PixelFormat:{PIXEL_FORMAT_UNKNOWN:{value:0,options:{}},PIXEL_FORMAT_UINT32:{value:1,options:{}},PIXEL_FORMAT_UINT16:{value:2,options:{}},PIXEL_FORMAT_UINT8:{value:3,options:{}}},Filter:{}};Ti.Filter.read=function(u,o){return u.readFields(Ti.Filter._readField,{delta_filter:null,filter:null,zigzag_filter:null,bitshuffle_filter:null,byteshuffle_filter:null},o)},Ti.Filter._readField=function(u,o,h){u===1?(o.delta_filter=Ti.Filter.Delta.read(h,h.readVarint()+h.pos),o.filter="delta_filter"):u===2?(o.zigzag_filter=Ti.Filter.Zigzag.read(h,h.readVarint()+h.pos),o.filter="zigzag_filter"):u===3?(o.bitshuffle_filter=Ti.Filter.BitShuffle.read(h,h.readVarint()+h.pos),o.filter="bitshuffle_filter"):u===4&&(o.byteshuffle_filter=Ti.Filter.ByteShuffle.read(h,h.readVarint()+h.pos),o.filter="byteshuffle_filter")},Ti.Filter.Delta={},Ti.Filter.Delta.read=function(u,o){return u.readFields(Ti.Filter.Delta._readField,{block_size:0},o)},Ti.Filter.Delta._readField=function(u,o,h){u===1&&(o.block_size=h.readVarint())},Ti.Filter.Zigzag={},Ti.Filter.Zigzag.read=function(u,o){return u.readFields(Ti.Filter.Zigzag._readField,{},o)},Ti.Filter.Zigzag._readField=function(u,o,h){},Ti.Filter.BitShuffle={},Ti.Filter.BitShuffle.read=function(u,o){return u.readFields(Ti.Filter.BitShuffle._readField,{},o)},Ti.Filter.BitShuffle._readField=function(u,o,h){},Ti.Filter.ByteShuffle={},Ti.Filter.ByteShuffle.read=function(u,o){return u.readFields(Ti.Filter.ByteShuffle._readField,{},o)},Ti.Filter.ByteShuffle._readField=function(u,o,h){},Ti.Codec={},Ti.Codec.read=function(u,o){return u.readFields(Ti.Codec._readField,{gzip_data:null,codec:null,jpeg_image:null,webp_image:null,png_image:null},o)},Ti.Codec._readField=function(u,o,h){u===1?(o.gzip_data=Ti.Codec.GzipData.read(h,h.readVarint()+h.pos),o.codec="gzip_data"):u===2?(o.jpeg_image=Ti.Codec.JpegImage.read(h,h.readVarint()+h.pos),o.codec="jpeg_image"):u===3?(o.webp_image=Ti.Codec.WebpImage.read(h,h.readVarint()+h.pos),o.codec="webp_image"):u===4&&(o.png_image=Ti.Codec.PngImage.read(h,h.readVarint()+h.pos),o.codec="png_image")},Ti.Codec.GzipData={},Ti.Codec.GzipData.read=function(u,o){return u.readFields(Ti.Codec.GzipData._readField,{},o)},Ti.Codec.GzipData._readField=function(u,o,h){},Ti.Codec.JpegImage={},Ti.Codec.JpegImage.read=function(u,o){return u.readFields(Ti.Codec.JpegImage._readField,{},o)},Ti.Codec.JpegImage._readField=function(u,o,h){},Ti.Codec.WebpImage={},Ti.Codec.WebpImage.read=function(u,o){return u.readFields(Ti.Codec.WebpImage._readField,{},o)},Ti.Codec.WebpImage._readField=function(u,o,h){},Ti.Codec.PngImage={},Ti.Codec.PngImage.read=function(u,o){return u.readFields(Ti.Codec.PngImage._readField,{},o)},Ti.Codec.PngImage._readField=function(u,o,h){},Ti.DataIndexEntry={},Ti.DataIndexEntry.read=function(u,o){return u.readFields(Ti.DataIndexEntry._readField,{first_byte:0,last_byte:0,filters:[],codec:null,offset:0,scale:0,bands:[]},o)},Ti.DataIndexEntry._readField=function(u,o,h){u===1?o.first_byte=h.readFixed64():u===2?o.last_byte=h.readFixed64():u===3?o.filters.push(Ti.Filter.read(h,h.readVarint()+h.pos)):u===4?o.codec=Ti.Codec.read(h,h.readVarint()+h.pos):u===5?o.offset=h.readFloat():u===6?o.scale=h.readFloat():u===7&&o.bands.push(h.readString())},Ti.Layer={},Ti.Layer.read=function(u,o){return u.readFields(Ti.Layer._readField,{version:0,name:"",units:"",tilesize:0,buffer:0,pixel_format:0,data_index:[]},o)},Ti.Layer._readField=function(u,o,h){u===1?o.version=h.readVarint():u===2?o.name=h.readString():u===3?o.units=h.readString():u===4?o.tilesize=h.readVarint():u===5?o.buffer=h.readVarint():u===6?o.pixel_format=h.readVarint():u===7&&o.data_index.push(Ti.DataIndexEntry.read(h,h.readVarint()+h.pos))};const vp={read:function(u,o){return u.readFields(vp._readField,{uint32_values:null,values:null,fixed32_values:null},o)},_readField:function(u,o,h){u===2?(o.uint32_values=vp.Uint32Values.read(h,h.readVarint()+h.pos),o.values="uint32_values"):u===3&&(o.fixed32_values=vp.Fixed32Values.read(h,h.readVarint()+h.pos),o.values="fixed32_values")},Uint32Values:{}};vp.Uint32Values.read=function(u,o){return u.readFields(vp.Uint32Values._readField,{values:[]},o)},vp.Uint32Values._readField=function(u,o,h){u===1&&(o.readValuesInto=function(p){if(p.type!==2)throw new Error(`Unsupported pbf type "${p.type}"`);const v=function(C){return C.type===2?C.readVarint()+C.pos:C.pos+1}(p),b=p.pos;return p.pos=v,function(C){p.pos=b;let M=0;for(;p.pos<v;){const k=p.readVarint();C[M++]=k}return C}}(h))},vp.Fixed32Values={},vp.Fixed32Values.read=function(u,o){return u.readFields(vp.Fixed32Values._readField,{values:[]},o)},vp.Fixed32Values._readField=function(u,o,h){throw new Error("Not implemented")};/**
 * tiny-lru
 *
 * @copyright 2023 Jason Mulligan <jason.mulligan@avoidwork.com>
 * @license BSD-3-Clause
 * @version 11.2.5
 */class Ime{constructor(o=0,h=0,p=!1){this.first=null,this.items=Object.create(null),this.last=null,this.max=o,this.resetTtl=p,this.size=0,this.ttl=h}clear(){return this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this}delete(o){if(this.has(o)){const h=this.items[o];delete this.items[o],this.size--,h.prev!==null&&(h.prev.next=h.next),h.next!==null&&(h.next.prev=h.prev),this.first===h&&(this.first=h.next),this.last===h&&(this.last=h.prev)}return this}entries(o=this.keys()){return o.map(h=>[h,this.get(h)])}evict(o=!1){if(o||this.size>0){const h=this.first;delete this.items[h.key],--this.size==0?(this.first=null,this.last=null):(this.first=h.next,this.first.prev=null)}return this}expiresAt(o){let h;return this.has(o)&&(h=this.items[o].expiry),h}get(o){let h;if(this.has(o)){const p=this.items[o];this.ttl>0&&p.expiry<=Date.now()?this.delete(o):(h=p.value,this.set(o,h,!0))}return h}has(o){return o in this.items}keys(){const o=[];let h=this.first;for(;h!==null;)o.push(h.key),h=h.next;return o}set(o,h,p=!1,v=this.resetTtl){let b;if(p||this.has(o)){if(b=this.items[o],b.value=h,p===!1&&v&&(b.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl),this.last!==b){const C=this.last,M=b.next,k=b.prev;this.first===b&&(this.first=b.next),b.next=null,b.prev=this.last,C.next=b,k!==null&&(k.next=M),M!==null&&(M.prev=k)}}else this.max>0&&this.size===this.max&&this.evict(!0),b=this.items[o]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:o,prev:this.last,next:null,value:h},++this.size==1?this.first=b:this.last.next=b;return this.last=b,this}values(o=this.keys()){return o.map(h=>this.get(h))}}function Lme(u,o){if(o.length!==4)throw new Error(`Expected data of dimension 4 but got ${o.length}.`);let h=o[3];for(let p=2;p>=1;p--){const v=p===1?1:0,b=p===2?1:0;for(let C=0;C<o[0];C++){const M=o[1]*C;for(let k=v;k<o[1];k++){const O=o[2]*(k+M);for(let U=b;U<o[2];U++){const G=o[3]*(U+O);for(let Z=0;Z<o[3];Z++){const fe=G+Z;u[fe]+=u[fe-h]}}}}h*=o[p]}return u}function Pme(u){for(let o=0,h=u.length;o<h;o++)u[o]=u[o]>>>1^-(1&u[o]);return u}function Fme(u,o){switch(o){case"uint32":return u;case"uint16":for(let h=0;h<u.length;h+=2){const p=u[h],v=u[h+1];u[h]=(240&p)>>4|(61440&p)>>8|(240&v)<<4|61440&v,u[h+1]=15&p|(3840&p)>>4|(15&v)<<8|(3840&v)<<4}return u;case"uint8":for(let h=0;h<u.length;h+=4){const p=u[h],v=u[h+1],b=u[h+2],C=u[h+3];u[h+0]=(192&p)>>6|(192&v)>>4|(192&b)>>2|192&C,u[h+1]=(48&p)>>4|(48&v)>>2|48&b|(48&C)<<2,u[h+2]=(12&p)>>2|12&v|(12&b)<<2|(12&C)<<4,u[h+3]=3&p|(3&v)<<2|(3&b)<<4|(3&C)<<6}return u;default:throw new Error(`Invalid pixel format, "${o}"`)}}class V0 extends Error{constructor(o){super(o),this.name="MRTError"}}var Cd=Uint8Array,Mx=Uint16Array,kme=Int32Array,YH=new Cd([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),XH=new Cd([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Rme=new Cd([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ZH=function(u,o){for(var h=new Mx(31),p=0;p<31;++p)h[p]=o+=1<<u[p-1];var v=new kme(h[30]);for(p=1;p<30;++p)for(var b=h[p];b<h[p+1];++b)v[b]=b-h[p]<<5|p;return{b:h,r:v}},JH=ZH(YH,2),eQ=JH.b,Ome=JH.r;eQ[28]=258,Ome[258]=28;for(var Dme=ZH(XH,0).b,tQ=new Mx(32768),Mo=0;Mo<32768;++Mo){var hb=(43690&Mo)>>1|(21845&Mo)<<1;tQ[Mo]=((65280&(hb=(61680&(hb=(52428&hb)>>2|(13107&hb)<<2))>>4|(3855&hb)<<4))>>8|(255&hb)<<8)>>1}var Ix=function(u,o,h){for(var p=u.length,v=0,b=new Mx(o);v<p;++v)u[v]&&++b[u[v]-1];var C,M=new Mx(o);for(v=1;v<o;++v)M[v]=M[v-1]+b[v-1]<<1;{C=new Mx(1<<o);var k=15-o;for(v=0;v<p;++v)if(u[v])for(var O=v<<4|u[v],U=o-u[v],G=M[u[v]-1]++<<U,Z=G|(1<<U)-1;G<=Z;++G)C[tQ[G]>>k]=O}return C},Lx=new Cd(288);for(Mo=0;Mo<144;++Mo)Lx[Mo]=8;for(Mo=144;Mo<256;++Mo)Lx[Mo]=9;for(Mo=256;Mo<280;++Mo)Lx[Mo]=7;for(Mo=280;Mo<288;++Mo)Lx[Mo]=8;var nQ=new Cd(32);for(Mo=0;Mo<32;++Mo)nQ[Mo]=5;var Nme=Ix(Lx,9),Ume=Ix(nQ,5),FI=function(u){for(var o=u[0],h=1;h<u.length;++h)u[h]>o&&(o=u[h]);return o},_p=function(u,o,h){var p=o/8|0;return(u[p]|u[p+1]<<8)>>(7&o)&h},kI=function(u,o){var h=o/8|0;return(u[h]|u[h+1]<<8|u[h+2]<<16)>>(7&o)},zme=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],yp=function(u,o,h){var p=new Error(o||zme[u]);if(p.code=u,Error.captureStackTrace&&Error.captureStackTrace(p,yp),!h)throw p;return p},$me=new Cd(0),Vme=typeof TextDecoder<"u"&&new TextDecoder;try{Vme.decode($me,{stream:!0})}catch{}const Hme={gzip_data:"gzip"},Qme={0:"uint32",1:"uint32",2:"uint16",3:"uint8"},jme={uint32:1,uint16:2,uint8:4},Gme={uint32:Uint32Array,uint16:Uint16Array,uint8:Uint8Array};class rQ{constructor(o=1){this.x=NaN,this.y=NaN,this.z=NaN,this.layers={},this._cacheSize=o}getLayer(o){return this.layers[o]}getHeaderLength(o){const h=new Uint8Array(o),p=new DataView(o);if(h[0]!==13)throw new V0("File is not a valid MRT.");return p.getUint32(1,!0)}parseHeader(o){const h=new Uint8Array(o),p=this.getHeaderLength(o);if(h.length<p)throw new V0(`Expected header with length >= ${p} but got buffer of length ${h.length}`);const v=new nb(h.subarray(0,p)),b=Ti.read(v);if(!isNaN(this.x)&&(this.x!==b.x||this.y!==b.y||this.z!==b.z))throw new V0(`Invalid attempt to parse header ${b.z}/${b.x}/${b.y} for tile ${this.z}/${this.x}/${this.y}`);this.x=b.x,this.y=b.y,this.z=b.z;for(const C of b.layers)this.layers[C.name]=new Kme(C,{cacheSize:this._cacheSize});return this}createDecodingTask(o){const h=[],p=this.getLayer(o.layerName);for(let v=0;v<p.dataIndex.length;v++){const b=p.dataIndex[v],C=b.first_byte-o.firstByte,M=b.last_byte+1-o.firstByte;if(v<o.firstBlock||v>o.lastBlock||p._blocksInProgress.has(v))continue;const k={layerName:p.name,firstByte:C,lastByte:M,pixelFormat:p.pixelFormat,blockIndex:v,blockShape:[b.bands.length].concat(p.bandShape),buffer:p.buffer,codec:b.codec.codec,filters:b.filters.map(O=>O.filter)};p._blocksInProgress.add(v),h.push(k)}return new iQ(h,()=>{h.forEach(v=>p._blocksInProgress.delete(v.blockIndex))},(v,b)=>{if(h.forEach(C=>p._blocksInProgress.delete(C.blockIndex)),v)throw v;b.forEach(C=>{this.getLayer(C.layerName).processDecodedData(C)})})}}class Kme{constructor({version:o,name:h,units:p,tilesize:v,pixel_format:b,buffer:C,data_index:M},k){if(this.version=o,this.version!==1)throw new V0(`Cannot parse raster layer encoded with MRT version ${o}`);this.name=h,this.units=p,this.tileSize=v,this.buffer=C,this.pixelFormat=Qme[b],this.dataIndex=M,this.bandShape=[v+2*C,v+2*C,jme[this.pixelFormat]],this._decodedBlocks=function(O=1e3,U=0,G=!1){if(isNaN(O)||O<0)throw new TypeError("Invalid max value");if(isNaN(U)||U<0)throw new TypeError("Invalid ttl value");if(typeof G!="boolean")throw new TypeError("Invalid resetTtl value");return new Ime(O,U,G)}(k?k.cacheSize:5),this._blocksInProgress=new Set}processDecodedData(o){const h=o.blockIndex.toString();this._decodedBlocks.get(h)||this._decodedBlocks.set(h,o.data)}getBlockForBand(o){let h=0;switch(typeof o){case"string":for(const[p,v]of this.dataIndex.entries()){for(const[b,C]of v.bands.entries())if(C===o)return{bandIndex:h+b,blockIndex:p,blockBandIndex:b};h+=v.bands.length}break;case"number":for(const[p,v]of this.dataIndex.entries()){if(o>=h&&o<h+v.bands.length)return{bandIndex:o,blockIndex:p,blockBandIndex:o-h};h+=v.bands.length}break;default:throw new V0(`Invalid band \`${JSON.stringify(o)}\`. Expected string or integer.`)}throw new V0(`Band not found: ${JSON.stringify(o)}`)}getDataRange(o){let h=1/0,p=-1/0,v=1/0,b=-1/0;for(const C of o){const{blockIndex:M}=this.getBlockForBand(C);if(M<0)throw new V0(`Invalid band: ${JSON.stringify(C)}`);const k=this.dataIndex[M];v=Math.min(v,M),b=Math.max(b,M),h=Math.min(h,k.first_byte),p=Math.max(p,k.last_byte)}return{layerName:this.name,firstByte:h,lastByte:p,firstBlock:v,lastBlock:b}}hasBand(o){const{blockIndex:h}=this.getBlockForBand(o);return h>=0}hasDataForBand(o){const{blockIndex:h}=this.getBlockForBand(o);return h>=0&&!!this._decodedBlocks.get(h.toString())}getBandView(o){const{blockIndex:h,blockBandIndex:p}=this.getBlockForBand(o),v=this._decodedBlocks.get(h.toString());if(!v)throw new V0(`Data for band ${JSON.stringify(o)} of layer "${this.name}" not decoded.`);const b=this.dataIndex[h],C=this.bandShape.reduce((O,U)=>O*U,1),M=p*C,k=v.subarray(M,M+C);return{data:k,bytes:new Uint8Array(k.buffer).subarray(k.byteOffset,k.byteOffset+k.byteLength),tileSize:this.tileSize,buffer:this.buffer,offset:b.offset,scale:b.scale}}}class iQ{constructor(o,h,p){this.tasks=o,this._onCancel=h,this._onComplete=p,this._finalized=!1}cancel(){this._finalized||(this._onCancel(),this._finalized=!0)}complete(o,h){this._finalized||(this._onComplete(o,h),this._finalized=!0)}}rQ.performDecoding=function(u,o){return Promise.all(o.tasks.map(h=>{const{layerName:p,firstByte:v,lastByte:b,pixelFormat:C,blockShape:M,blockIndex:k,filters:O,codec:U}=h,G=new Uint8Array(u).subarray(v,b+1),Z=new Uint32Array(M[0]*M[1]*M[2]);let fe;if(U!=="gzip_data")throw new Error(`Unhandled codec: ${U}`);return fe=function(ge,xe){if(!globalThis.DecompressionStream&&xe==="gzip_data")return Promise.resolve(((lt=function(yt){yt[0]==31&&yt[1]==139&&yt[2]==8||yp(6,"invalid gzip data");var Dt=yt[3],Gt=10;4&Dt&&(Gt+=2+(yt[10]|yt[11]<<8));for(var Xt=(Dt>>3&1)+(Dt>>4&1);Xt>0;Xt-=!yt[Gt++]);return Gt+(2&Dt)}(rt=ge))+8>rt.length&&yp(6,"invalid gzip data"),function(yt,Dt,Gt,Xt){var pn=yt.length;if(!pn||Dt.f&&!Dt.l)return Gt||new Cd(0);var en=!Gt,Sn=en||Dt.i!=2,Dn=Dt.i;en&&(Gt=new Cd(3*pn));var yn=function(mc){var xh=Gt.length;if(mc>xh){var Ed=new Cd(Math.max(2*xh,mc));Ed.set(Gt),Gt=Ed}},On=Dt.f||0,gn=Dt.p||0,Rn=Dt.b||0,cr=Dt.l,Un=Dt.d,Br=Dt.m,yr=Dt.n,qn=8*pn;do{if(!cr){On=_p(yt,gn,1);var ni=_p(yt,gn+1,3);if(gn+=3,!ni){var Ur=yt[(va=4+((gn+7)/8|0))-4]|yt[va-3]<<8,Sr=va+Ur;if(Sr>pn){Dn&&yp(0);break}Sn&&yn(Rn+Ur),Gt.set(yt.subarray(va,Sr),Rn),Dt.b=Rn+=Ur,Dt.p=gn=8*Sr,Dt.f=On;continue}if(ni==1)cr=Nme,Un=Ume,Br=9,yr=5;else if(ni==2){var Yn=_p(yt,gn,31)+257,qr=_p(yt,gn+10,15)+4,Ni=Yn+_p(yt,gn+5,31)+1;gn+=14;for(var ri=new Cd(Ni),Ui=new Cd(19),gi=0;gi<qr;++gi)Ui[Rme[gi]]=_p(yt,gn+3*gi,7);gn+=3*qr;var ea=FI(Ui),Ei=(1<<ea)-1,Ya=Ix(Ui,ea);for(gi=0;gi<Ni;){var va,ya=Ya[_p(yt,gn,Ei)];if(gn+=15&ya,(va=ya>>4)<16)ri[gi++]=va;else{var Ta=0,_a=0;for(va==16?(_a=3+_p(yt,gn,3),gn+=2,Ta=ri[gi-1]):va==17?(_a=3+_p(yt,gn,7),gn+=3):va==18&&(_a=11+_p(yt,gn,127),gn+=7);_a--;)ri[gi++]=Ta}}var Cs=ri.subarray(0,Yn),Da=ri.subarray(Yn);Br=FI(Cs),yr=FI(Da),cr=Ix(Cs,Br),Un=Ix(Da,yr)}else yp(1);if(gn>qn){Dn&&yp(0);break}}Sn&&yn(Rn+131072);for(var Zs=(1<<Br)-1,Ho=(1<<yr)-1,Yl=gn;;Yl=gn){var fs=(Ta=cr[kI(yt,gn)&Zs])>>4;if((gn+=15&Ta)>qn){Dn&&yp(0);break}if(Ta||yp(2),fs<256)Gt[Rn++]=fs;else{if(fs==256){Yl=gn,cr=null;break}var Ps=fs-254;fs>264&&(Ps=_p(yt,gn,(1<<(yl=YH[gi=fs-257]))-1)+eQ[gi],gn+=yl);var vl=Un[kI(yt,gn)&Ho],_l=vl>>4;if(vl||yp(3),gn+=15&vl,Da=Dme[_l],_l>3){var yl=XH[_l];Da+=kI(yt,gn)&(1<<yl)-1,gn+=yl}if(gn>qn){Dn&&yp(0);break}Sn&&yn(Rn+131072);var os=Rn+Ps;if(Rn<Da){var wh=0-Da,H0=Math.min(Da,os);for(wh+Rn<0&&yp(3);Rn<H0;++Rn)Gt[Rn]=Xt[wh+Rn]}for(;Rn<os;++Rn)Gt[Rn]=Gt[Rn-Da]}}Dt.l=cr,Dt.p=Yl,Dt.b=Rn,Dt.f=On,cr&&(On=1,Dt.m=Br,Dt.d=Un,Dt.n=yr)}while(!On);return Rn!=Gt.length&&en?function(mc,xh,Ed){return(Ed==null||Ed>mc.length)&&(Ed=mc.length),new Cd(mc.subarray(xh,Ed))}(Gt,0,Rn):Gt.subarray(0,Rn)}(rt.subarray(lt,-8),{i:2},new Cd(((Ie=rt)[(Oe=Ie.length)-4]|Ie[Oe-3]<<8|Ie[Oe-2]<<16|Ie[Oe-1]<<24)>>>0),void 0)));var Ie,Oe,rt,lt;const ot=Hme[xe];if(!ot)throw new Error(`Unhandled codec: ${xe}`);const Tt=new globalThis.DecompressionStream(ot);return new Response(new Blob([ge]).stream().pipeThrough(Tt)).arrayBuffer().then(yt=>new Uint8Array(yt))}(G,U).then(ge=>{const xe=vp.read(new nb(ge));if(xe.values==="uint32_values")return xe.uint32_values.readValuesInto(Z),new Gme[C](Z.buffer);throw new Error(`Unhandled numeric data "${xe.values}"`)}),fe.then(ge=>{for(let xe=O.length-1;xe>=0;xe--)switch(O[xe]){case"delta_filter":Lme(ge,M);break;case"zigzag_filter":Pme(ge);break;case"bitshuffle_filter":Fme(ge,C);break;default:throw new Error(`Unhandled filter "${O[xe]}"`)}return{layerName:p,blockIndex:k,data:ge}}).catch(ge=>{throw ge})}))},ze(iQ,"MRTDecodingBatch",{omit:["_onCancel","_onComplete"]});const aQ=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class RI{static from(o){if(!(o instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[h,p]=new Uint8Array(o,0,2);if(h!==219)throw new Error("Data does not appear to be in a KDBush format.");const v=p>>4;if(v!==1)throw new Error(`Got v${v} data when expected v1.`);const b=aQ[15&p];if(!b)throw new Error("Unrecognized array type.");const[C]=new Uint16Array(o,2,1),[M]=new Uint32Array(o,4,1);return new RI(M,C,b,o)}constructor(o,h=64,p=Float64Array,v){if(isNaN(o)||o<0)throw new Error(`Unpexpected numItems value: ${o}.`);this.numItems=+o,this.nodeSize=Math.min(Math.max(+h,2),65535),this.ArrayType=p,this.IndexArrayType=o<65536?Uint16Array:Uint32Array;const b=aQ.indexOf(this.ArrayType),C=2*o*this.ArrayType.BYTES_PER_ELEMENT,M=o*this.IndexArrayType.BYTES_PER_ELEMENT,k=(8-M%8)%8;if(b<0)throw new Error(`Unexpected typed array class: ${p}.`);v&&v instanceof ArrayBuffer?(this.data=v,this.ids=new this.IndexArrayType(this.data,8,o),this.coords=new this.ArrayType(this.data,8+M+k,2*o),this._pos=2*o,this._finished=!0):(this.data=new ArrayBuffer(8+C+M+k),this.ids=new this.IndexArrayType(this.data,8,o),this.coords=new this.ArrayType(this.data,8+M+k,2*o),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+b]),new Uint16Array(this.data,2,1)[0]=h,new Uint32Array(this.data,4,1)[0]=o)}add(o,h){const p=this._pos>>1;return this.ids[p]=p,this.coords[this._pos++]=o,this.coords[this._pos++]=h,p}finish(){const o=this._pos>>1;if(o!==this.numItems)throw new Error(`Added ${o} items when expected ${this.numItems}.`);return OI(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(o,h,p,v){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:b,coords:C,nodeSize:M}=this,k=[0,b.length-1,0],O=[];for(;k.length;){const U=k.pop()||0,G=k.pop()||0,Z=k.pop()||0;if(G-Z<=M){for(let Ie=Z;Ie<=G;Ie++){const Oe=C[2*Ie],rt=C[2*Ie+1];Oe>=o&&Oe<=p&&rt>=h&&rt<=v&&O.push(b[Ie])}continue}const fe=Z+G>>1,ge=C[2*fe],xe=C[2*fe+1];ge>=o&&ge<=p&&xe>=h&&xe<=v&&O.push(b[fe]),(U===0?o<=ge:h<=xe)&&(k.push(Z),k.push(fe-1),k.push(1-U)),(U===0?p>=ge:v>=xe)&&(k.push(fe+1),k.push(G),k.push(1-U))}return O}within(o,h,p){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:v,coords:b,nodeSize:C}=this,M=[0,v.length-1,0],k=[],O=p*p;for(;M.length;){const U=M.pop()||0,G=M.pop()||0,Z=M.pop()||0;if(G-Z<=C){for(let Ie=Z;Ie<=G;Ie++)oQ(b[2*Ie],b[2*Ie+1],o,h)<=O&&k.push(v[Ie]);continue}const fe=Z+G>>1,ge=b[2*fe],xe=b[2*fe+1];oQ(ge,xe,o,h)<=O&&k.push(v[fe]),(U===0?o-p<=ge:h-p<=xe)&&(M.push(Z),M.push(fe-1),M.push(1-U)),(U===0?o+p>=ge:h+p>=xe)&&(M.push(fe+1),M.push(G),M.push(1-U))}return k}}function OI(u,o,h,p,v,b){if(v-p<=h)return;const C=p+v>>1;sQ(u,o,C,p,v,b),OI(u,o,h,p,C-1,1-b),OI(u,o,h,C+1,v,1-b)}function sQ(u,o,h,p,v,b){for(;v>p;){if(v-p>600){const O=v-p+1,U=h-p+1,G=Math.log(O),Z=.5*Math.exp(2*G/3),fe=.5*Math.sqrt(G*Z*(O-Z)/O)*(U-O/2<0?-1:1);sQ(u,o,h,Math.max(p,Math.floor(h-U*Z/O+fe)),Math.min(v,Math.floor(h+(O-U)*Z/O+fe)),b)}const C=o[2*h+b];let M=p,k=v;for(Px(u,o,p,h),o[2*v+b]>C&&Px(u,o,p,v);M<k;){for(Px(u,o,M,k),M++,k--;o[2*M+b]<C;)M++;for(;o[2*k+b]>C;)k--}o[2*p+b]===C?Px(u,o,p,k):(k++,Px(u,o,k,v)),k<=h&&(p=k+1),h<=k&&(v=k-1)}}function Px(u,o,h,p){DI(u,h,p),DI(o,2*h,2*p),DI(o,2*h+1,2*p+1)}function DI(u,o,h){const p=u[o];u[o]=u[h],u[h]=p}function oQ(u,o,h,p){const v=u-h,b=o-p;return v*v+b*b}a.$=uH,a.A=rp,a.B=C0,a.C=Oi,a.D=rn,a.E=Vd,a.F=Ia,a.G=jn,a.H=class{constructor(u){this.specification=u}possiblyEvaluate(u,o){return Ye(u.expression.evaluate(o))}interpolate(u,o,h){return{x:Ri(u.x,o.x,h),y:Ri(u.y,o.y,h),z:Ri(u.z,o.z,h),azimuthal:Ri(u.azimuthal,o.azimuthal,h),polar:Ri(u.polar,o.polar,h)}}},a.I=dI,a.J=po,a.K=Pi,a.L=pa,a.M=class{constructor(u,o,h,p){this.id=u,this.position=o!=null?new Yt(o[0],o[1]):new Yt(0,0),this.orientation=h??[0,0,0],this.nodes=p,this.uploaded=!1,this.aabb=new Vs([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),this.matrix=[]}_applyTransformations(u,o){if(a.a6.multiply(u.matrix,o,u.matrix),u.meshes)for(const h of u.meshes){const p=Vs.applyTransform(h.aabb,u.matrix);this.aabb.encapsulate(p)}if(u.children)for(const h of u.children)this._applyTransformations(h,u.matrix)}computeBoundsAndApplyParent(){const u=a.a6.identity([]);for(const o of this.nodes)this._applyTransformations(o,u)}computeModelMatrix(u,o,h,p,v,b,C=!1){BH(this.matrix,this,u.transform,this.position,o,h,p,v,b,C)}upload(u){if(!this.uploaded){for(const o of this.nodes)EI(o,u);for(const o of this.nodes)mE(o);this.uploaded=!0}}destroy(){for(const u of this.nodes)SI(u)}},a.O=ce,a.P=K,a.Q=pl,a.R=Rr,a.S=F0,a.T=bI,a.U=Ri,a.V=zn,a.W=au,a.X=class{constructor(u){this.specification=u}possiblyEvaluate(u,o){return function([h,p]){const v=Ye([1,h,p]);return{x:v.x,y:v.y,z:v.z}}(u.expression.evaluate(o))}interpolate(u,o,h){return{x:Ri(u.x,o.x,h),y:Ri(u.y,o.y,h),z:Ri(u.z,o.z,h)}}},a.Y=function(u,o,h=0,p=!0){const v=new K(h,h),b=u.sub(v),C=o.add(v),M=[b,new K(C.x,b.y),C,new K(b.x,C.y)];return p&&M.push(b.clone()),M},a.Z=SA,a._=function(u,o){const h=[];for(let p=0;p<u.length;p++){const v=ye(p-1,-1,u.length-1),b=ye(p+1,-1,u.length-1),C=u[p],M=u[b],k=u[v].sub(C).unit(),O=M.sub(C).unit(),U=O.angleWithSep(k.x,k.y),G=k.add(O).unit().mult(-1*o/Math.sin(U/2));h.push(C.add(G))}return h},a.a=$d,a.a$=function(u){const o=[];for(const h in u)o.push(u[h]);return o},a.a0=cz,a.a1=function(u,o,h=0){return a.N.fromValues(((o.x-h)*u.scale-u.x)*zn,(o.y*u.scale-u.y)*zn,es(o.z,o.y))},a.a2=$M,a.a3=TV,a.a4=function(u){let o=1/0,h=1/0,p=-1/0,v=-1/0;for(const b of u)o=Math.min(o,b.x),h=Math.min(h,b.y),p=Math.max(p,b.x),v=Math.max(v,b.y);return{min:new K(o,h),max:new K(p,v)}},a.a5=Fi,a.a8=dp,a.a9=ba,a.aA=cd,a.aB=Xs,a.aC=_e,a.aD=yh,a.aE=uE,a.aF=function(){Ma.isLoading()||Ma.isLoaded()||Ea()!=="deferred"||Pa()},a.aG=rl,a.aH=No,a.aI=VH,a.aJ=Lt,a.aK=sI,a.aL=rI,a.aM=al,a.aN=qu,a.aO=T0,a.aP=M$,a.aQ=$5,a.aR=yI,a.aS=function(u,o){const h=F0(o.zoom);if(h===0)return kA(u);const p=k5(u),v=jM(p),b=Fi(p.getWest())*o.worldSize,C=Fi(p.getEast())*o.worldSize,M=hi(p.getNorth())*o.worldSize,k=hi(p.getSouth())*o.worldSize,O=[b,M,0],U=[C,M,0],G=[b,k,0],Z=[C,k,0],fe=a.a6.invert([],o.globeMatrix);return a.N.transformMat4(O,O,fe),a.N.transformMat4(U,U,fe),a.N.transformMat4(G,G,fe),a.N.transformMat4(Z,Z,fe),v[0]=gg(v[0],G,h),v[1]=gg(v[1],Z,h),v[2]=gg(v[2],U,h),v[3]=gg(v[3],O,h),Vs.fromPoints(v)},a.aT=O5,a.aU=sx,a.aV=gg,a.aW=go,a.aX=Vfe,a.aY=Re,a.aZ=rQ,a.a_=hn,a.aa=he,a.ab=st,a.ac=function(u,o){const h={};for(let p=0;p<o.length;p++){const v=o[p];v in u&&(h[v]=u[v])}return h},a.ad=mn,a.ae=hi,a.af=class{constructor(u){this.entries={},this.scheduler=u}request(u,o,h,p){const v=this.entries[u]=this.entries[u]||{callbacks:[]};if(v.result){const[b,C]=v.result;return this.scheduler?this.scheduler.add(()=>{p(b,C)},o):p(b,C),()=>{}}return v.callbacks.push(p),v.cancel||(v.cancel=h((b,C)=>{v.result=[b,C];for(const M of v.callbacks)this.scheduler?this.scheduler.add(()=>{M(b,C)},o):M(b,C);setTimeout(()=>delete this.entries[u],3e3)})),()=>{v.result||(v.callbacks=v.callbacks.filter(b=>b!==p),v.callbacks.length||(v.cancel(),delete this.entries[u]))}}},a.ag=TA,a.ah=function(u,o,h){const p=JSON.stringify(u.request);return u.data&&(this.deduped.entries[p]={result:[null,u.data]}),this.deduped.request(p,{type:"parseTile",isSymbolTile:u.isSymbolTile,zoom:u.tileZoom},v=>{const b=hn(u.request,(C,M,k,O)=>{C?v(C):M&&v(null,{vectorTile:h?void 0:new iI(new nb(M)),rawData:M,cacheControl:k,expires:O})});return()=>{b.cancel(),v()}},o)},a.ai=function(u){tr++,tr>Mt&&(u.getActor().send("enforceCacheSizeLimit",it),tr=0)},a.aj=Xn,a.ak=Xe,a.al=function(u){return u<=1?1:Math.pow(2,Math.floor(Math.log(u)/Math.LN2))},a.am=nr,a.an=vH,a.ao=_H,a.ap=gH,a.aq=function(u,o){const h=document.createElement("video");h.muted=!0,h.onloadstart=function(){o(null,h)};for(let p=0;p<u.length;p++){const v=document.createElement("source");En(u[p])||(h.crossOrigin="Anonymous"),v.src=u[p],h.appendChild(v)}return{cancel:()=>{}}},a.ar=hE,a.as=vx,a.at=bi,a.au=na,a.av=pd,a.aw=ws,a.ax=Ga,a.ay=Sa,a.az=cp,a.b=Gh,a.b$=Gr,a.b0=function(u,o){const h=[];for(const p in u)p in o||h.push(p);return h},a.b1=Ee,a.b2=["type","source","source-layer","minzoom","maxzoom","filter","layout"],a.b3=function(u,o){const{x:h,y:p}=u.point,v=R$(h,p,u.worldSize/u._pixelsPerMercatorPixel,0,0);return a.a6.multiply(v,v,GM(kA(o)))},a.b5=Jy,a.b6=xd,a.b7=q5,a.b8=function(u,o,h,p,v){const b=5*o+2;u.float32[b+0]=h,u.float32[b+1]=p,u.float32[b+2]=v},a.b9=lE,a.bA=pE,a.bB=yH,a.bC=function(u){const o=yH(u,!0);return a.b4.invert([],[o[0],o[1],o[4],o[5]])},a.bD=VM,a.bE=function(u){const{x:o,y:h}=u.point,{lng:p,lat:v}=u._center;return R$(o,h,u.worldSize,p,v)},a.bF=ee,a.bG=At,a.bH=function(u){const o=Math.round((u+45+360)%360/90)%4;return ue[o]},a.bI=45,a.bJ=zr,a.bK=x,a.bL=IA,a.bM=T5,a.bN=Pu,a.bO=jy,a.bP=w,a.bQ=function(u,o,h){const p=Math.sqrt(u*u+o*o+h*h),v=p>0?Math.acos(h/p)*q:0;let b=u!==0||o!==0?Math.atan2(-o,-u)*q+90:0;return b<0&&(b+=360),[p,b,v]},a.bR=Yi,a.bS=Vs,a.bT=Ye,a.bU=function(u){return[Math.pow(u[0],1/2.2),Math.pow(u[1],1/2.2),Math.pow(u[2],1/2.2)]},a.bV=function(u){return u({pluginStatus:Er,pluginURL:yi}),as.on("pluginStateChange",u),u},a.bW=lb,a.bX=gE,a.bY=ib,a.bZ=fI,a.b_=$i,a.ba=ZV,a.bb=af,a.bc=hu,a.bd=aH,a.be=AI,a.bf=hI,a.bg=RI,a.bh=ye,a.bj=W,a.bk=We,a.bl=Ci,a.bm=function(u,o,h){u[4*o+0]=h[0],u[4*o+1]=h[1],u[4*o+2]=h[2],u[4*o+3]=h[3]},a.bn=Yt,a.bo=pH,a.bp=ir,a.bq=HM,a.br=bH,a.bs=Kn,a.bt=P$,a.bu=function(u,o,h,p,v,b,C,M,k){if(k.name==="globe")return P$(u,o,new Kn(h,p,v),!1);const O=vx({z:h,x:p,y:v},k);return new Vs([(b+O.x/O.scale)*o,o*(O.y/O.scale),C],[(b+O.x2/O.scale)*o,o*(O.y2/O.scale),M])},a.bv=function(u,o,h){let p=0;for(let v=0;v<2;++v){const b=h?h[v]:0;u[v]>b&&(p+=(u[v]-b)*(u[v]-b)),o[v]<b&&(p+=(b-o[v])*(b-o[v]))}return p},a.bw=Wi,a.bx=qe,a.by=function(u){const o=a.a6.identity(new Float64Array(16));a.a6.multiply(o,u.pixelMatrix,u.globeMatrix);const h=[0,Qt,0],p=[0,fn,0];return a.N.transformMat4(h,h,o),a.N.transformMat4(p,p,o),[h[0]>0&&h[0]<=u.width&&h[1]>0&&h[1]<=u.height&&!WM(u,new Yt(u.center.lat,90)),p[0]>0&&p[0]<=u.width&&p[1]>0&&p[1]<=u.height&&!WM(u,new Yt(u.center.lat,-90))]},a.bz=function(u,o){const{scale:h}=u.tileTransform,p=h*zn/(u.tileSize*Math.pow(2,o.zoom-u.tileID.overscaledZ+u.tileID.canonical.z));return a.b4.scale(new Float32Array(4),o.inverseAdjustmentMatrix,[p,p])},a.c=zH,a.c$=function(){return!!document.fullscreenElement||!!document.webkitFullscreenElement},a.c0=y,a.c1=Ve,a.c2=function(u,o,h){return u.type==="custom"?new XAe(u,o):new Mme[u.type](u,o,h)},a.c3=function(u){const o=u.indexOf(Jm);return o>=0?u.slice(0,o):u},a.c4=function(u){return u.indexOf(Jm)>=0},a.c5=function(u){const o=u.indexOf(Jm);return o>=0?u.slice(o+1):""},a.c6=function(u){const o=[],h=u.id;return h===void 0&&o.push({message:`layers.${h}: missing required property "id"`}),u.render===void 0&&o.push({message:`layers.${h}: missing required method "render"`}),u.renderingMode&&u.renderingMode!=="2d"&&u.renderingMode!=="3d"&&o.push({message:`layers.${h}: property "renderingMode" must be either "2d" or "3d"`}),o},a.c7=nt,a.c8=as,a.c9=Jt,a.cA=IV,a.cB=(u,o,h,p,v,b)=>{const C=u.transform;return{u_matrix:MV(u,o,h,p),u_texsize:o.imageAtlasTexture?o.imageAtlasTexture.size:[0,0],u_pixels_to_tile_units:C.calculatePixelsToTileUnitsMatrix(o),u_device_pixel_ratio:v,u_image:0,u_tile_units_to_pixels:BV(o,C),u_units_to_pixels:[1/C.pixelsToGLUnits[0],1/C.pixelsToGLUnits[1]],u_alpha_discard_threshold:0,u_trim_offset:b}},a.cC=(u,o,h,p,v,b,C)=>{const M=u.transform,k=M.calculatePixelsToTileUnitsMatrix(o);return{u_matrix:MV(u,o,h,p),u_pixels_to_tile_units:k,u_device_pixel_ratio:b,u_units_to_pixels:[1/M.pixelsToGLUnits[0],1/M.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:v,u_texsize:LV(h)&&o.lineAtlasTexture?o.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:BV(o,u.transform),u_alpha_discard_threshold:0,u_trim_offset:C,u_emissive_strength:h.paint.get("line-emissive-strength")}},a.cD=Le,a.cE=ox,a.cF=bV,a.cG=Ir,a.cH=W5,a.cI=O0,a.cJ=450,a.cK=7,a.cL=WAe,a.cM=256,a.cN=GM,a.cO=md,a.cP=nf,a.cQ=function(u,o,h,p,v){return he((u-o)/(h-o)*(v-p)+p,p,v)},a.cR=qi,a.cS=xI,a.cT=[1,1,1],a.cU=Xy,a.cV=ob,a.cW=Gc,a.cX=class{constructor(){this._updateTime=0,this._sourceIds=[],this._activeRegions=[],this._prevRegions=[]}clear(){this._activeRegions.length>0&&++this._updateTime,this._activeRegions=[],this._prevRegions=[]}get updateTime(){return this._updateTime}getReplacementRegionsForTile(u){const o=eV(new K(0,0),new K(zn,zn),u),h=[];for(const p of this._activeRegions){if(p.hiddenByOverlap||!J$(o,p))continue;const v=Bpe(p.min,p.max,u);h.push({min:v.min,max:v.max,sourceId:this._sourceIds[p.priority],footprint:p.footprint,footprintTileId:p.tileId})}return h}setSources(u){this._setSources(u.map(o=>({getSourceId:()=>o.cache.id,getFootprints:()=>{const h=[];for(const p of o.cache.getVisibleCoordinates()){const v=o.cache.getTile(p).buckets[o.layer];if(v)for(const b of v.getNodesInfo()){const C=b.node;C.footprint&&h.push({footprint:C.footprint,id:p.toUnwrapped()})}}return h}})))}_addSource(u){const o=u.getFootprints();if(o.length!==0){for(const h of o){if(!h.footprint)continue;const p=eV(h.footprint.min,h.footprint.max,h.id);this._activeRegions.push({min:p.min,max:p.max,hiddenByOverlap:!1,priority:this._sourceIds.length,tileId:h.id,footprint:h.footprint})}this._sourceIds.push(u.getSourceId())}}_computeReplacement(){this._activeRegions.sort((o,h)=>o.priority-h.priority||j5(o.min,h.min)||j5(o.max,h.max));let u=this._activeRegions.length!==this._prevRegions.length;if(!u){let o=0,h=0;for(;!u&&o!==this._activeRegions.length;){const p=this._activeRegions[o],v=this._prevRegions[h];u=p.priority!==v.priority||!Z$(p,v),++o,++h}}if(u){++this._updateTime;const o=h=>{const p=this._activeRegions;if(h>=p.length)return h;const v=p[h].priority;for(;h<p.length&&p[h].priority===v;)++h;return h};if(this._sourceIds.length>1){let h=0,p=o(h);for(;h!==p;){let v=h;const b=h;for(;v!==p;){const C=this._activeRegions[v];C.hiddenByOverlap=!1;for(let M=0;M<b;M++){const k=this._activeRegions[M];if(!k.hiddenByOverlap&&J$(C,k)&&(C.hiddenByOverlap=nV(C.footprint,C.tileId,k.footprint,k.tileId),C.hiddenByOverlap))break}++v}h=p,p=o(h)}}}}_setSources(u){[this._prevRegions,this._activeRegions]=[this._activeRegions,[]],this._sourceIds=[];for(let o=u.length-1;o>=0;o--)this._addSource(u[o]);this._computeReplacement()}},a.cY=class{constructor(u){this._createGrid(u),this._createPoles(u)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const u of this._poleSegments)u.destroy();for(const u of this._gridSegments)u.withSkirts.destroy(),u.withoutSkirts.destroy()}_fillGridMeshWithLods(u,o){const h=new qu,p=new ws,v=[],b=u+1+2,C=o[0]+1,M=o[0]+1+(1+o.length),k=(O,U,G)=>{let Z=O===b-1?O-2:O===0?O:O-1;return Z+=G?24575:0,[Z,U]};for(let O=0;O<b;++O)h.emplaceBack(...k(O,0,!0));for(let O=0;O<C;++O)for(let U=0;U<b;++U)h.emplaceBack(...k(U,O,(U===0||U===b-1)&&!0));for(let O=0;O<o.length;++O){const U=o[O];for(let G=0;G<b;++G)h.emplaceBack(...k(G,U,!0))}for(let O=0;O<o.length;++O){const U=p.length,G=o[O]+1+2,Z=new ws;for(let xe=0;xe<G-1;xe++){const Ie=xe===G-2,Oe=Ie?b*(M-o.length+O-xe):b;for(let rt=0;rt<b-1;rt++){const lt=xe*b+rt;xe===0||Ie||rt===0||rt===b-2?(Z.emplaceBack(lt+1,lt,lt+Oe),Z.emplaceBack(lt+Oe,lt+Oe+1,lt+1)):(p.emplaceBack(lt+1,lt,lt+Oe),p.emplaceBack(lt+Oe,lt+Oe+1,lt+1))}}const fe=Xs.simpleSegment(0,U,h.length,p.length-U);for(let xe=0;xe<Z.uint16.length;xe+=3)p.emplaceBack(Z.uint16[xe],Z.uint16[xe+1],Z.uint16[xe+2]);const ge=Xs.simpleSegment(0,U,h.length,p.length-U);v.push({withoutSkirts:fe,withSkirts:ge})}return{vertices:h,indices:p,segments:v}}_createGrid(u){const o=this._fillGridMeshWithLods(Ft,Ot);this._gridSegments=o.segments,this._gridBuffer=u.createVertexBuffer(o.vertices,M$.members),this._gridIndexBuffer=u.createIndexBuffer(o.indices,!0)}_createPoles(u){const o=new ws;for(let C=0;C<=Ft;C++)o.emplaceBack(0,C+1,C+2);this._poleIndexBuffer=u.createIndexBuffer(o,!0);const h=new md,p=new md,v=new md,b=new md;this._poleSegments=[];for(let C=0,M=0;C<At;C++){const k=360/(1<<C);h.emplaceBack(0,-st,0,.5,0),p.emplaceBack(0,-st,0,.5,1),v.emplaceBack(0,-st,0,.5,.5),b.emplaceBack(0,-st,0,.5,.5);for(let O=0;O<=Ft;O++){let U=O/Ft,G=0;const Z=Ri(0,k,U),[fe,ge,xe]=Wt(jfe,Gfe,Z,st);h.emplaceBack(fe,ge,xe,U,G),p.emplaceBack(fe,ge,xe,U,1-G);const Ie=W(Z);U=.5+.5*Math.sin(Ie),G=.5+.5*Math.cos(Ie),v.emplaceBack(fe,ge,xe,U,G),b.emplaceBack(fe,ge,xe,U,1-G)}this._poleSegments.push(Xs.simpleSegment(M,0,66,64)),M+=66}this._poleNorthVertexBuffer=u.createVertexBuffer(h,P5,!1),this._poleSouthVertexBuffer=u.createVertexBuffer(p,P5,!1),this._texturedPoleNorthVertexBuffer=u.createVertexBuffer(v,P5,!1),this._texturedPoleSouthVertexBuffer=u.createVertexBuffer(b,P5,!1)}getGridBuffers(u,o){return[this._gridBuffer,this._gridIndexBuffer,o?this._gridSegments[u].withSkirts:this._gridSegments[u].withoutSkirts]}getPoleBuffers(u,o){return[o?this._texturedPoleNorthVertexBuffer:this._poleNorthVertexBuffer,o?this._texturedPoleSouthVertexBuffer:this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[u]]}},a.cZ=function(u){return iu.has(u)},a.c_=te,a.ca=d,a.cb=class extends hp{constructor(u){super(u),this.current=B}set(u,o,h){if(this.fetchUniformLocation(u,o)){for(let p=0;p<9;p++)if(h[p]!==this.current[p]){this.current=h,this.gl.uniformMatrix3fv(this.location,!1,h);break}}}},a.cc=J,a.cd=function(u,o,h){const p=F0(h.zoom),v=u.style.map._antialias,b=o.options.extStandardDerivativesForceOff||u.terrain&&u.terrain.exaggeration()>0;return p===0&&!v&&!b},a.ce=function(u){const o=u.pixelsPerMeter,h=o/Ci(1,u.center.lat),p=a.a6.identity(new Float64Array(16));return a.a6.translate(p,p,[u.point.x,u.point.y,0]),a.a6.scale(p,p,[h,h,o]),Float32Array.from(p)},a.cf=k5,a.cg=function(u){const o=Wi-5;u=he(u,-o,o)/o*90;const h=Math.pow(Math.abs(Math.sin(W(u))),3);return Math.round(h*(Ot.length-1))},a.ch=function(u,o,h,p){const v=o.getNorth(),b=o.getSouth(),C=o.getWest(),M=o.getEast(),k=1<<u.z,O=M-C,U=v-b,G=O/Ft,Z=-U/Ot[h],fe=[0,G,0,Z,0,0,v,C,0];if(u.z>0){const ge=180/p;a.co.multiply(fe,fe,[ge/O+1,0,0,0,ge/U+1,0,-.5*ge/G,.5*ge/Z,1])}return fe[2]=k,fe[5]=u.x,fe[8]=u.y,fe},a.ci=kA,a.cj=function(u,o,h){const p=a.a6.identity(new Float64Array(16)),v=(o/(1<<u)-.5)*Math.PI*2;return a.a6.rotateY(p,h.globeMatrix,v),Float32Array.from(p)},a.ck=class{isDataAvailableAtPoint(u){const o=this._source();if(this.isUsingMockSource()||!o||u.y<0||u.y>1)return!1;const h=o.getSource().maxzoom,p=1<<h,v=Math.floor(u.x),b=Math.floor((u.x-v)*p),C=Math.floor(u.y*p),M=this.findDEMTileFor(new nr(h,v,h,b,C));return!(!M||!M.dem)}getAtPointOrZero(u,o=0){return this.getAtPoint(u,o)||0}getAtPoint(u,o,h=!0){if(this.isUsingMockSource())return null;o==null&&(o=null);const p=this._source();if(!p||u.y<0||u.y>1)return o;const v=p.getSource().maxzoom,b=1<<v,C=Math.floor(u.x),M=u.x-C,k=new nr(v,C,v,Math.floor(M*b),Math.floor(u.y*b)),O=this.findDEMTileFor(k);if(!O||!O.dem)return o;const U=O.dem,G=1<<O.tileID.canonical.z,Z=(M*G-O.tileID.canonical.x)*U.dim,fe=(u.y*G-O.tileID.canonical.y)*U.dim,ge=Math.floor(Z),xe=Math.floor(fe);return(h?this.exaggeration():1)*Ri(Ri(U.get(ge,xe),U.get(ge,xe+1),fe-xe),Ri(U.get(ge+1,xe),U.get(ge+1,xe+1),fe-xe),Z-ge)}getAtTileOffset(u,o,h){const p=1<<u.canonical.z;return this.getAtPointOrZero(new pa(u.wrap+(u.canonical.x+o/zn)/p,(u.canonical.y+h/zn)/p))}getAtTileOffsetFunc(u,o,h,p){return v=>{const b=this.getAtTileOffset(u,v.x,v.y),C=p.upVector(u.canonical,v.x,v.y),M=p.upVectorScale(u.canonical,o,h).metersToTile;return a.N.scale(C,C,b*M),C}}getForTilePoints(u,o,h,p){if(this.isUsingMockSource())return!1;const v=Xy.create(this,u,p);return!!v&&(o.forEach(b=>{b[2]=this.exaggeration()*v.getElevationAt(b[0],b[1],h)}),!0)}getMinMaxForTile(u){if(this.isUsingMockSource())return null;const o=this.findDEMTileFor(u);if(!o||!o.dem)return null;const h=o.dem.tree,p=o.tileID,v=1<<u.canonical.z-p.canonical.z;let b=u.canonical.x/v-p.canonical.x,C=u.canonical.y/v-p.canonical.y,M=0;for(let k=0;k<u.canonical.z-p.canonical.z&&!h.leaves[M];k++){b*=2,C*=2;const O=2*Math.floor(C)+Math.floor(b);M=h.childOffsets[M]+O,b%=1,C%=1}return{min:this.exaggeration()*h.minimums[M],max:this.exaggeration()*h.maximums[M]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(u,o,h){throw new Error("Pure virtual method called.")}pointCoordinate(u){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(u){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}getMinMaxForVisibleTiles(){const u=this.visibleDemTiles;if(u.length===0)return null;let o=!1,h=Number.MAX_VALUE,p=Number.MIN_VALUE;for(const v of u){const b=this.getMinMaxForTile(v.tileID);b&&(h=Math.min(h,b.min),p=Math.max(p,b.max),o=!0)}return o?{min:h,max:p}:null}},a.cl=F5,a.cm=Q$,a.cn=function(u,o){return[Math.pow(u[0],2.2)*o,Math.pow(u[1],2.2)*o,Math.pow(u[2],2.2)*o]},a.cp=k$,a.cq=256,a.cr=function(u,o){const h=[0,0,0],p=O5(kA(o.canonical));return a.N.transformMat4(h,h,p),a.N.transformMat4(h,h,u),h},a.cs=u=>({u_camera_to_center_distance:new Pu(u),u_extrude_scale:new D(u),u_device_pixel_ratio:new Pu(u),u_matrix:new x(u),u_inv_rot_matrix:new x(u),u_merc_center:new IA(u),u_tile_id:new T5(u),u_zoom_transition:new Pu(u),u_up_dir:new T5(u),u_emissive_strength:new Pu(u)}),a.ct=u=>({u_matrix:new x(u),u_pixels_to_tile_units:new D(u),u_device_pixel_ratio:new Pu(u),u_units_to_pixels:new IA(u),u_dash_image:new jy(u),u_gradient_image:new jy(u),u_image_height:new Pu(u),u_texsize:new IA(u),u_tile_units_to_pixels:new Pu(u),u_alpha_discard_threshold:new Pu(u),u_trim_offset:new IA(u),u_emissive_strength:new Pu(u)}),a.cu=u=>({u_matrix:new x(u),u_texsize:new IA(u),u_pixels_to_tile_units:new D(u),u_device_pixel_ratio:new Pu(u),u_image:new jy(u),u_units_to_pixels:new IA(u),u_tile_units_to_pixels:new Pu(u),u_alpha_discard_threshold:new Pu(u),u_trim_offset:new IA(u)}),a.cv=rg,a.cw=rAe,a.cx=iAe,a.cy=N$,a.cz=(u,o,h,p,v,b)=>{const C=u.transform,M=C.projection.name==="globe";let k;if(b.paint.get("circle-pitch-alignment")==="map")if(M){const U=k$(C.zoom,o.canonical)*C._pixelsPerMercatorPixel;k=Float32Array.from([U,0,0,U])}else k=C.calculatePixelsToTileUnitsMatrix(h);else k=new Float32Array([C.pixelsToGLUnits[0],0,0,C.pixelsToGLUnits[1]]);const O={u_camera_to_center_distance:u.transform.getCameraToCenterDistance(C.projection),u_matrix:u.translatePosMatrix(o.projMatrix,h,b.paint.get("circle-translate"),b.paint.get("circle-translate-anchor")),u_device_pixel_ratio:Pt.devicePixelRatio,u_extrude_scale:k,u_inv_rot_matrix:Kfe,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0],u_emissive_strength:b.paint.get("circle-emissive-strength")};if(M){O.u_inv_rot_matrix=p,O.u_merc_center=v,O.u_tile_id=[o.canonical.x,o.canonical.y,1<<o.canonical.z],O.u_zoom_transition=F0(C.zoom);const U=v[0]*zn,G=v[1]*zn;O.u_up_dir=C.projection.upVector(new Kn(0,0,0),U,G)}return O},a.d=In,a.d0=ne,a.d1=ga,a.d2=xn,a.d3=function([u,o,h]){const p=Math.hypot(u,o,h),v=Math.atan2(u,h),b=.5*Math.PI-Math.acos(-o/p);return new Yt(ee(v),ee(b))},a.d4=_n,a.d5=m,a.d6=WM,a.d7=O$,a.d8=function(u){const o=[0,0,0],h=a.a6.identity(new Float64Array(16));return a.a6.multiply(h,u.pixelMatrix,u.globeMatrix),a.N.transformMat4(o,o,h),new K(o[0],o[1])},a.d9=function(u){const o=u.navigator?u.navigator.userAgent:null;return!!function(h){if(wt==null){const p=h.navigator?h.navigator.userAgent:null;wt=!!h.safari||!(!p||!(/\b(iPad|iPhone|iPod)\b/.test(p)||p.match("Safari")&&!p.match("Chrome")))}return wt}(u)&&o&&(o.match("Version/15.4")||o.match("Version/15.5")||o.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},a.dA=mp,a.dB=$H,a.dC=HH,a.dD=EV,a.dE=Je,a.dF=eH,a.dG=function(u,o,h,p,v,b,C,M,k,O,U){u.createArrays(),u.tilePixelRatio=zn/(512*u.overscaling),u.compareText={},u.iconsNeedLinear=!1;const G=u.layers[0].layout,Z=u.layers[0]._unevaluatedLayout._values,fe={};if(u.textSizeData.kind==="composite"){const{minZoom:Oe,maxZoom:rt}=u.textSizeData;fe.compositeTextSizes=[Z["text-size"].possiblyEvaluate(new Pi(Oe),M),Z["text-size"].possiblyEvaluate(new Pi(rt),M)]}if(u.iconSizeData.kind==="composite"){const{minZoom:Oe,maxZoom:rt}=u.iconSizeData;fe.compositeIconSizes=[Z["icon-size"].possiblyEvaluate(new Pi(Oe),M),Z["icon-size"].possiblyEvaluate(new Pi(rt),M)]}fe.layoutTextSize=Z["text-size"].possiblyEvaluate(new Pi(k+1),M),fe.layoutIconSize=Z["icon-size"].possiblyEvaluate(new Pi(k+1),M),fe.textMaxSize=Z["text-size"].possiblyEvaluate(new Pi(18),M);const ge=G.get("text-rotation-alignment")==="map"&&G.get("symbol-placement")!=="point",xe=G.get("text-size");let Ie=!1;for(const Oe of u.features)if(Oe.icon&&Oe.icon.nameSecondary){Ie=!0;break}for(const Oe of u.features){const rt=G.get("text-font").evaluate(Oe,{},M).join(","),lt=xe.evaluate(Oe,{},M),ot=fe.layoutTextSize.evaluate(Oe,{},M),Tt=(fe.layoutIconSize.evaluate(Oe,{},M),{horizontal:{},vertical:void 0}),yt=Oe.text;let Dt,Gt=[0,0];if(yt){const en=yt.toString(),Sn=G.get("text-letter-spacing").evaluate(Oe,{},M)*hu,Dn=G.get("text-line-height").evaluate(Oe,{},M)*hu,yn=Bn(en)?Sn:0,On=G.get("text-anchor").evaluate(Oe,{},M),gn=G.get("text-variable-anchor");if(!gn){const yr=G.get("text-radial-offset").evaluate(Oe,{},M);Gt=yr?aH(On,[yr*hu,pI]):G.get("text-offset").evaluate(Oe,{},M).map(qn=>qn*hu)}let Rn=ge?"center":G.get("text-justify").evaluate(Oe,{},M);const cr=G.get("symbol-placement")==="point",Un=cr?G.get("text-max-width").evaluate(Oe,{},M)*hu:1/0,Br=yr=>{u.allowVerticalPlacement&&nn(en)&&(Tt.vertical=cI(yt,o,h,v,rt,Un,Dn,On,yr,yn,Gt,xd.vertical,!0,ot,lt))};if(!ge&&gn){const yr=Rn==="auto"?gn.map(ni=>AI(ni)):[Rn];let qn=!1;for(let ni=0;ni<yr.length;ni++){const Ur=yr[ni];if(!Tt.horizontal[Ur])if(qn)Tt.horizontal[Ur]=Tt.horizontal[0];else{const Sr=cI(yt,o,h,v,rt,Un,Dn,"center",Ur,yn,Gt,xd.horizontal,!1,ot,lt);Sr&&(Tt.horizontal[Ur]=Sr,qn=Sr.positionedLines.length===1)}}Br("left")}else{if(Rn==="auto"&&(Rn=AI(On)),cr||G.get("text-writing-mode").indexOf("horizontal")>=0||!nn(en)){const yr=cI(yt,o,h,v,rt,Un,Dn,On,Rn,yn,Gt,xd.horizontal,!1,ot,lt);yr&&(Tt.horizontal[Rn]=yr)}Br(cr?"left":Rn)}}let Xt=!1;if(Oe.icon&&Oe.icon.namePrimary){const en=p[Oe.icon.namePrimary];en&&(Dt=xAe(v[Oe.icon.namePrimary],Oe.icon.nameSecondary?v[Oe.icon.nameSecondary]:void 0,G.get("icon-offset").evaluate(Oe,{},M),G.get("icon-anchor").evaluate(Oe,{},M)),Xt=en.sdf,u.sdfIcons===void 0?u.sdfIcons=en.sdf:u.sdfIcons!==en.sdf&&Ge("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(en.pixelRatio!==u.pixelRatio||G.get("icon-rotate").constantOr(1)!==0)&&(u.iconsNeedLinear=!0))}const pn=oH(Tt.horizontal)||Tt.vertical;u.iconsInText||(u.iconsInText=!!pn&&pn.iconsInText),(pn||Dt)&&IAe(u,Oe,Tt,Dt,p,fe,ot,0,Gt,Xt,C,M,O,U,Ie)}b&&u.generateCollisionDebugBuffers(k,u.collisionBoxArray)},a.dH=iI,a.dI=nb,a.dJ=G5,a.dK=R,a.dL=H5,a.dM=V5,a.dN=j,a.dO=RV,a.dP=function(u){let o=0;if(new Uint32Array(u,0,1)[0]!==FH){const h=new Uint32Array(u,0,7),[,,p,v,b,C]=h;o=h.byteLength+v+b+C+b,(p!==u.byteLength||o>=u.byteLength)&&Ge("Invalid b3dm header information.")}return DH(u,o)},a.dQ=function(u,o){const h=zH(u);for(const p of h){for(const v of p.meshes)xme(v);p.lights&&(p.lightMeshIndex=p.meshes.length,p.meshes.push(Cme(p.lights,o)))}return h},a.dR=bE,a.dS=MH,a.dT=Ma,a.dU=function(u){sn(),at&&at.then(o=>{o.keys().then(h=>{for(let p=0;p<h.length-u;p++)o.delete(h[p])})})},a.da=class{constructor(u,o,h){this._transformRequestFn=u,this._customAccessToken=o,this._silenceAuthErrors=!!h,this._createSkuToken()}_createSkuToken(){const u=function(){let o="";for(let h=0;h<10;h++)o+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",Pn,o].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=u.token,this._skuTokenExpiresAt=u.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(u,o){return this._transformRequestFn&&this._transformRequestFn(u,o)||{url:u}}normalizeStyleURL(u,o){if(!y(u))return u;const h=Mr(u);return h.params.push(`sdk=js-${f}`),h.path=`/styles/v1${h.path}`,this._makeAPIURL(h,this._customAccessToken||o)}normalizeGlyphsURL(u,o){if(!y(u))return u;const h=Mr(u);return h.path=`/fonts/v1${h.path}`,this._makeAPIURL(h,this._customAccessToken||o)}normalizeModelURL(u,o){if(!y(u))return u;const h=Mr(u);return h.path=`/models/v1${h.path}`,this._makeAPIURL(h,this._customAccessToken||o)}normalizeSourceURL(u,o,h,p){if(!y(u))return u;const v=Mr(u);return v.path=`/v4/${v.authority}.json`,v.params.push("secure"),h&&v.params.push(`language=${h}`),p&&v.params.push(`worldview=${p}`),this._makeAPIURL(v,this._customAccessToken||o)}normalizeSpriteURL(u,o,h,p){const v=Mr(u);return y(u)?(v.path=`/styles/v1${v.path}/sprite${o}${h}`,this._makeAPIURL(v,this._customAccessToken||p)):(v.path+=`${o}${h}`,ti(v))}normalizeTileURL(u,o,h){if(this._isSkuTokenExpired()&&this._createSkuToken(),u&&!y(u))return u;const p=Mr(u);p.path=p.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${o||h&&p.authority!=="raster"&&h===512?"@2x":""}${Nn.supported?".webp":"$1"}`),p.authority==="raster"?p.path=`/${m.RASTER_URL_PREFIX}${p.path}`:p.authority==="rasterarrays"?p.path=`/${m.RASTERARRAYS_URL_PREFIX}${p.path}`:(p.path=p.path.replace(/^.+\/v4\//,"/"),p.path=`/${m.TILE_URL_VERSION}${p.path}`);const v=this._customAccessToken||function(b){for(const C of b){const M=C.match(/^access_token=(.*)$/);if(M)return M[1]}return null}(p.params)||m.ACCESS_TOKEN;return m.REQUIRE_ACCESS_TOKEN&&v&&this._skuToken&&p.params.push(`sku=${this._skuToken}`),this._makeAPIURL(p,v)}canonicalizeTileURL(u,o){const h=Mr(u);if(!h.path.match(/^(\/v4\/|\/(raster|rasterarrays)\/v1\/)/)||!h.path.match(/\.[\w]+$/))return u;let p="mapbox://";h.path.match(/^\/raster\/v1\//)?p+=`raster/${h.path.replace(`/${m.RASTER_URL_PREFIX}/`,"")}`:h.path.match(/^\/rasterarrays\/v1\//)?p+=`rasterarrays/${h.path.replace(`/${m.RASTERARRAYS_URL_PREFIX}/`,"")}`:p+=`tiles/${h.path.replace(`/${m.TILE_URL_VERSION}/`,"")}`;let v=h.params;return o&&(v=v.filter(b=>!b.match(/^access_token=/))),v.length&&(p+=`?${v.join("&")}`),p}canonicalizeTileset(u,o){const h=!!o&&y(o),p=[];for(const v of u.tiles||[])_(v)?p.push(this.canonicalizeTileURL(v,h)):p.push(v);return p}_makeAPIURL(u,o){const h="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",p=Mr(m.API_URL);if(u.protocol=p.protocol,u.authority=p.authority,u.protocol==="http"){const v=u.params.indexOf("secure");v>=0&&u.params.splice(v,1)}if(p.path!=="/"&&(u.path=`${p.path}${u.path}`),!m.REQUIRE_ACCESS_TOKEN)return ti(u);if(o=o||m.ACCESS_TOKEN,!this._silenceAuthErrors){if(!o)throw new Error(`An API access token is required to use Mapbox GL. ${h}`);if(o[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${h}`)}return u.params=u.params.filter(v=>v.indexOf("access_token")===-1),u.params.push(`access_token=${o||""}`),ti(u)}},a.db=function(u,o){o?iu.add(u):iu.delete(u)},a.dc=Nn,a.dd=is,a.de=zc,a.df=er,a.dg=_r,a.dh=function(u){iu.delete(u)},a.di=Ca,a.dj=Pr,a.dk=f,a.dl=function(u,o){it=u,Mt=o},a.dm=function(u,o,h=!1){if(Er===sr||Er===fr||Er===ur)throw new Error("setRTLTextPlugin cannot be called multiple times.");yi=Pt.resolveURL(u),Er=sr,Zr=o,Wa(),h||Pa()},a.dn=Ea,a.dp=function(){gE().acquire(TI)},a.dq=function(){const u=Sx;u&&(u.isPreloaded()&&u.numActive()===1?(u.release(TI),Sx=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},a.dr=Ex,a.ds=function(u){const o=St();if(!o)return;const h=o.delete(Bt);u&&h.catch(u).then(()=>u())},a.dt=Cx,a.du=IH,a.dv=function(u){BI=Pt.resolveURL(u),cb||(cb=new lb(gE(),new Vd)),cb.broadcast("setDracoUrl",BI)},a.dw=LH,a.dx=function(u){ub=Pt.resolveURL(u),cb||(cb=new lb(gE(),new Vd)),cb.broadcast("setMeshoptUrl",ub)},a.dy=ze,a.dz=k0,a.e=se,a.f=Pt,a.g=function(u,o){return Jt(se(u,{type:"json"}),o)},a.h=wd,a.i=ed,a.j=hA,a.k=Km,a.l=function(u){return fetch(u).then(o=>o.arrayBuffer()).then(o=>DH(o,0,u))},a.m=Oy,a.n=qm,a.o=mo,a.p=JV,a.q=ip,a.r=S0,a.s=xA,a.t=Ah,a.u=Lu,a.v=zs,a.w=Ge,a.x=Ql,a.z=hd}),l(["./shared"],function(a){function f(wt){const De=wt?wt.url.toString():void 0;return De?performance.getEntriesByName(De):[]}function A(wt){if(typeof wt=="number"||typeof wt=="boolean"||typeof wt=="string"||wt==null)return JSON.stringify(wt);if(Array.isArray(wt)){let We="[";for(const ut of wt)We+=`${A(ut)},`;return`${We}]`}let De="{";for(const We of Object.keys(wt).sort())De+=`${We}:${A(wt[We])},`;return`${De}}`}function m(wt){let De="";for(const We of a.b2)De+=`/${A(wt[We])}`;return De}class _{constructor(De){this.keyCache={},this._layers={},this._layerConfigs={},De&&this.replace(De)}replace(De,We){this._layerConfigs={},this._layers={},this.update(De,[],We)}update(De,We,ut){this._options=ut;for(const Xe of De)this._layerConfigs[Xe.id]=Xe,(this._layers[Xe.id]=a.c2(Xe,this.scope,this._options)).compileFilter(),this.keyCache[Xe.id]&&delete this.keyCache[Xe.id];for(const Xe of We)delete this.keyCache[Xe],delete this._layerConfigs[Xe],delete this._layers[Xe];this.familiesBySource={};const It=function(Xe,Pt){const Bt={};for(let Mt=0;Mt<Xe.length;Mt++){const at=Pt&&Pt[Xe[Mt].id]||m(Xe[Mt]);Pt&&(Pt[Xe[Mt].id]=at);let et=Bt[at];et||(et=Bt[at]=[]),et.push(Xe[Mt])}const it=[];for(const Mt in Bt)it.push(Bt[Mt]);return it}(a.a$(this._layerConfigs),this.keyCache);for(const Xe of It){const Pt=Xe.map(St=>this._layers[St.id]),Bt=Pt[0];if(Bt.visibility==="none")continue;const it=Bt.source||"";let Mt=this.familiesBySource[it];Mt||(Mt=this.familiesBySource[it]={});const at=Bt.sourceLayer||"_geojsonTileLayer";let et=Mt[at];et||(et=Mt[at]=[]),et.push(Pt)}}}const y=1*a.dA;class T{constructor(De){const We={},ut=[];for(const Bt in De){const it=De[Bt],Mt=We[Bt]={};for(const at in it.glyphs){const et=it.glyphs[+at];if(!et||et.bitmap.width===0||et.bitmap.height===0)continue;const St=et.metrics.localGlyph?y:1,sn={x:0,y:0,w:et.bitmap.width+2*St,h:et.bitmap.height+2*St};ut.push(sn),Mt[at]=sn}}const{w:It,h:Xe}=a.p(ut),Pt=new a.dz({width:It||1,height:Xe||1});for(const Bt in De){const it=De[Bt];for(const Mt in it.glyphs){const at=it.glyphs[+Mt];if(!at||at.bitmap.width===0||at.bitmap.height===0)continue;const et=We[Bt][Mt],St=at.metrics.localGlyph?y:1;a.dz.copy(at.bitmap,Pt,{x:0,y:0},{x:et.x+St,y:et.y+St},at.bitmap)}}this.image=Pt,this.positions=We}}a.dy(T,"GlyphAtlas");class E{constructor(De){this.tileID=new a.am(De.tileID.overscaledZ,De.tileID.wrap,De.tileID.canonical.z,De.tileID.canonical.x,De.tileID.canonical.y),this.tileZoom=De.tileZoom,this.uid=De.uid,this.zoom=De.zoom,this.canonical=De.tileID.canonical,this.pixelRatio=De.pixelRatio,this.tileSize=De.tileSize,this.source=De.source,this.scope=De.scope,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=De.showCollisionBoxes,this.collectResourceTiming=!!De.collectResourceTiming,this.promoteId=De.promoteId,this.isSymbolTile=De.isSymbolTile,this.tileTransform=a.as(De.tileID.canonical,De.projection),this.projection=De.projection,this.brightness=De.brightness,this.extraShadowCaster=!!De.extraShadowCaster}parse(De,We,ut,It,Xe){this.status="parsing",this.data=De,this.collisionBoxArray=new a.aD;const Pt=new a.dB(Object.keys(De.layers).sort()),Bt=new a.dC(this.tileID,this.promoteId);Bt.bucketLayerIDs=[];const it={},Mt=new a.dD(256,256),at={featureIndex:Bt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:Mt,availableImages:ut,brightness:this.brightness},et=We.familiesBySource[this.source];for(const lr in et){const Qr=De.layers[lr];if(!Qr)continue;let xi=!1,ai=!1,zi=!1;for(const Ki of et[lr])Ki[0].type==="symbol"?xi=!0:ai=!0,Ki[0].is3D()&&Ki[0].type!=="model"&&(zi=!0);if(this.extraShadowCaster&&!zi||this.isSymbolTile===!0&&!xi||this.isSymbolTile===!1&&!ai)continue;Qr.version===1&&a.w(`Vector tile source "${this.source}" layer "${lr}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const ma=Pt.encode(lr),Rr=[];for(let Ki=0;Ki<Qr.length;Ki++){const $i=Qr.feature(Ki),Jt=Bt.getId($i,lr);Rr.push({feature:$i,id:Jt,index:Ki,sourceLayerIndex:ma})}for(const Ki of et[lr]){const $i=Ki[0];(!this.extraShadowCaster||$i.is3D()&&$i.type!=="model")&&(this.isSymbolTile!==void 0&&$i.type==="symbol"!==this.isSymbolTile||$i.minzoom&&this.zoom<Math.floor($i.minzoom)||$i.maxzoom&&this.zoom>=$i.maxzoom||$i.visibility!=="none"&&(P(Ki,this.zoom,at.brightness,ut),(it[$i.id]=$i.createBucket({index:Bt.bucketLayerIDs.length,layers:Ki,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:ma,sourceID:this.source,projection:this.projection.spec})).populate(Rr,at,this.tileID.canonical,this.tileTransform),Bt.bucketLayerIDs.push(Ki.map(Jt=>Jt.id))))}}let St,sn,bn,gr;Mt.trim();const tr={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},Nn=()=>{if(St)return this.status="done",Xe(St);if(this.extraShadowCaster)this.status="done",Xe(null,{buckets:a.a$(it).filter(lr=>!lr.isEmpty()),featureIndex:Bt,collisionBoxArray:null,glyphAtlasImage:null,lineAtlas:null,imageAtlas:null,brightness:at.brightness,glyphMap:null,iconMap:null,glyphPositions:null});else if(sn&&bn&&gr){const lr=new T(sn),Qr=new a.dF(bn,gr);for(const xi in it){const ai=it[xi];ai instanceof a.aE?(P(ai.layers,this.zoom,at.brightness,ut),a.dG(ai,sn,lr.positions,bn,Qr.iconPositions,this.showCollisionBoxes,ut,this.tileID.canonical,this.tileZoom,this.projection,this.brightness)):ai.hasPattern&&(ai instanceof a.aK||ai instanceof a.aL||ai instanceof a.cH)&&(P(ai.layers,this.zoom,at.brightness,ut),ai.addFeatures(at,this.tileID.canonical,Qr.patternPositions,ut,this.tileTransform,this.brightness))}this.status="done",Xe(null,{buckets:a.a$(it).filter(xi=>!xi.isEmpty()),featureIndex:Bt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:lr.image,lineAtlas:Mt,imageAtlas:Qr,brightness:at.brightness})}};if(!this.extraShadowCaster){const lr=a.dE(at.glyphDependencies,ai=>Object.keys(ai).map(Number));Object.keys(lr).length?It.send("getGlyphs",{uid:this.uid,stacks:lr,scope:this.scope},(ai,zi)=>{St||(St=ai,sn=zi,Nn())},void 0,!1,tr):sn={};const Qr=Object.keys(at.iconDependencies);Qr.length?It.send("getImages",{icons:Qr,source:this.source,scope:this.scope,tileID:this.tileID,type:"icons"},(ai,zi)=>{St||(St=ai,bn=zi,Nn())},void 0,!1,tr):bn={};const xi=Object.keys(at.patternDependencies);xi.length?It.send("getImages",{icons:xi,source:this.source,scope:this.scope,tileID:this.tileID,type:"patterns"},(ai,zi)=>{St||(St=ai,gr=zi,Nn())},void 0,!1,tr):gr={}}Nn()}}function P(wt,De,We,ut){const It=new a.K(De,{brightness:We});for(const Xe of wt)Xe.recalculate(It,ut)}class I extends a.E{constructor(De,We,ut,It,Xe,Pt){super(),this.actor=De,this.layerIndex=We,this.availableImages=ut,this.loadVectorData=Xe||a.ah,this.loading={},this.loaded={},this.deduped=new a.af(De.scheduler),this.isSpriteLoaded=It,this.scheduler=De.scheduler,this.brightness=Pt}loadTile(De,We){const ut=De.uid,It=De&&De.request,Xe=It&&It.collectResourceTiming,Pt=this.loading[ut]=new E(De);Pt.abort=this.loadVectorData(De,(Bt,it)=>{const Mt=!this.loading[ut];if(delete this.loading[ut],Mt||Bt||!it)return Pt.status="done",Mt||(this.loaded[ut]=Pt),We(Bt);const at=it.rawData,et={};it.expires&&(et.expires=it.expires),it.cacheControl&&(et.cacheControl=it.cacheControl),Pt.vectorTile=it.vectorTile||new a.dH(new a.dI(at));const St=()=>{Pt.parse(Pt.vectorTile,this.layerIndex,this.availableImages,this.actor,(sn,bn)=>{if(sn||!bn)return We(sn);const gr={};if(Xe){const tr=f(It);tr.length>0&&(gr.resourceTiming=JSON.parse(JSON.stringify(tr)))}We(null,a.e({rawTileData:at.slice(0)},bn,et,gr))})};this.isSpriteLoaded?St():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(St,{type:"parseTile",isSymbolTile:De.isSymbolTile,zoom:De.tileZoom}):St()}),this.loaded=this.loaded||{},this.loaded[ut]=Pt})}reloadTile(De,We){const ut=this.loaded,It=De.uid,Xe=this;if(ut&&ut[It]){const Pt=ut[It];Pt.showCollisionBoxes=De.showCollisionBoxes,Pt.projection=De.projection,Pt.brightness=De.brightness,Pt.tileTransform=a.as(De.tileID.canonical,De.projection),Pt.extraShadowCaster=De.extraShadowCaster;const Bt=(it,Mt)=>{const at=Pt.reloadCallback;at&&(delete Pt.reloadCallback,Pt.parse(Pt.vectorTile,Xe.layerIndex,this.availableImages,Xe.actor,at)),We(it,Mt)};Pt.status==="parsing"?Pt.reloadCallback=Bt:Pt.status==="done"&&(Pt.vectorTile?Pt.parse(Pt.vectorTile,this.layerIndex,this.availableImages,this.actor,Bt):Bt())}else We(null,void 0)}abortTile(De,We){const ut=De.uid,It=this.loading[ut];It&&(It.abort&&It.abort(),delete this.loading[ut]),We()}removeTile(De,We){const ut=this.loaded,It=De.uid;ut&&ut[It]&&delete ut[It],We()}}class F{loadTile(De,We){const{uid:ut,encoding:It,rawImageData:Xe,padding:Pt}=De,Bt=ImageBitmap&&Xe instanceof ImageBitmap?this.getImageData(Xe,Pt):Xe;We(null,new a.dJ(ut,Bt,It,Pt<1))}getImageData(De,We){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(De.width,De.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=De.width,this.offscreenCanvas.height=De.height,this.offscreenCanvasContext.drawImage(De,0,0,De.width,De.height);const ut=this.offscreenCanvasContext.getImageData(-We,-We,De.width+2*We,De.height+2*We);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),ut}}class R{decodeRasterArray({task:De,buffer:We},ut){a.aZ.performDecoding(We,De).then(It=>{ut(null,It)},It=>{ut(It)})}}function N(wt,De){if(wt.length!==0){z(wt[0],De);for(var We=1;We<wt.length;We++)z(wt[We],!De)}}function z(wt,De){for(var We=0,ut=0,It=0,Xe=wt.length,Pt=Xe-1;It<Xe;Pt=It++){var Bt=(wt[It][0]-wt[Pt][0])*(wt[Pt][1]+wt[It][1]),it=We+Bt;ut+=Math.abs(We)>=Math.abs(Bt)?We-it+Bt:Bt-it+We,We=it}We+ut>=0!=!!De&&wt.reverse()}var Q=a.dK(function wt(De,We){var ut,It=De&&De.type;if(It==="FeatureCollection")for(ut=0;ut<De.features.length;ut++)wt(De.features[ut],We);else if(It==="GeometryCollection")for(ut=0;ut<De.geometries.length;ut++)wt(De.geometries[ut],We);else if(It==="Feature")wt(De.geometry,We);else if(It==="Polygon")N(De.coordinates,We);else if(It==="MultiPolygon")for(ut=0;ut<De.coordinates.length;ut++)N(De.coordinates[ut],We);return De});const j=a.dL.prototype.toGeoJSON;let H=class{constructor(wt){this._feature=wt,this.extent=a.V,this.type=wt.type,this.properties=wt.tags,"id"in wt&&!isNaN(wt.id)&&(this.id=parseInt(wt.id,10))}loadGeometry(){if(this._feature.type===1){const wt=[];for(const De of this._feature.geometry)wt.push([new a.P(De[0],De[1])]);return wt}{const wt=[];for(const De of this._feature.geometry){const We=[];for(const ut of De)We.push(new a.P(ut[0],ut[1]));wt.push(We)}return wt}}toGeoJSON(wt,De,We){return j.call(this,wt,De,We)}},K=class{constructor(wt){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.V,this.length=wt.length,this._features=wt}feature(wt){return new H(this._features[wt])}};var ie={exports:{}},q=a.dN,W=a.dM.VectorTileFeature,ee=ue;function ue(wt,De){this.options=De||{},this.features=wt,this.length=wt.length}function J(wt,De){this.id=typeof wt.id=="number"?wt.id:void 0,this.type=wt.type,this.rawGeometry=wt.type===1?[wt.geometry]:wt.geometry,this.properties=wt.tags,this.extent=De||4096}ue.prototype.feature=function(wt){return new J(this.features[wt],this.options.extent)},J.prototype.loadGeometry=function(){var wt=this.rawGeometry;this.geometry=[];for(var De=0;De<wt.length;De++){for(var We=wt[De],ut=[],It=0;It<We.length;It++)ut.push(new q(We[It][0],We[It][1]));this.geometry.push(ut)}return this.geometry},J.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var wt=this.geometry,De=1/0,We=-1/0,ut=1/0,It=-1/0,Xe=0;Xe<wt.length;Xe++)for(var Pt=wt[Xe],Bt=0;Bt<Pt.length;Bt++){var it=Pt[Bt];De=Math.min(De,it.x),We=Math.max(We,it.x),ut=Math.min(ut,it.y),It=Math.max(It,it.y)}return[De,ut,We,It]},J.prototype.toGeoJSON=W.prototype.toGeoJSON;var te=a.dO,ne=ee;function he(wt){var De=new te;return function(We,ut){for(var It in We.layers)ut.writeMessage(3,ce,We.layers[It])}(wt,De),De.finish()}function ce(wt,De){var We;De.writeVarintField(15,wt.version||1),De.writeStringField(1,wt.name||""),De.writeVarintField(5,wt.extent||4096);var ut={keys:[],values:[],keycache:{},valuecache:{}};for(We=0;We<wt.length;We++)ut.feature=wt.feature(We),De.writeMessage(2,ye,ut);var It=ut.keys;for(We=0;We<It.length;We++)De.writeStringField(3,It[We]);var Xe=ut.values;for(We=0;We<Xe.length;We++)De.writeMessage(4,Ue,Xe[We])}function ye(wt,De){var We=wt.feature;We.id!==void 0&&De.writeVarintField(1,We.id),De.writeMessage(2,Ee,wt),De.writeVarintField(3,We.type),De.writeMessage(4,_e,We)}function Ee(wt,De){var We=wt.feature,ut=wt.keys,It=wt.values,Xe=wt.keycache,Pt=wt.valuecache;for(var Bt in We.properties){var it=We.properties[Bt],Mt=Xe[Bt];if(it!==null){Mt===void 0&&(ut.push(Bt),Xe[Bt]=Mt=ut.length-1),De.writeVarint(Mt);var at=typeof it;at!=="string"&&at!=="boolean"&&at!=="number"&&(it=JSON.stringify(it));var et=at+":"+it,St=Pt[et];St===void 0&&(It.push(it),Pt[et]=St=It.length-1),De.writeVarint(St)}}}function se(wt,De){return(De<<3)+(7&wt)}function oe(wt){return wt<<1^wt>>31}function _e(wt,De){for(var We=wt.loadGeometry(),ut=wt.type,It=0,Xe=0,Pt=We.length,Bt=0;Bt<Pt;Bt++){var it=We[Bt],Mt=1;ut===1&&(Mt=it.length),De.writeVarint(se(1,Mt));for(var at=ut===3?it.length-1:it.length,et=0;et<at;et++){et===1&&ut!==1&&De.writeVarint(se(2,at-1));var St=it[et].x-It,sn=it[et].y-Xe;De.writeVarint(oe(St)),De.writeVarint(oe(sn)),It+=St,Xe+=sn}ut===3&&De.writeVarint(se(7,1))}}function Ue(wt,De){var We=typeof wt;We==="string"?De.writeStringField(1,wt):We==="boolean"?De.writeBooleanField(7,wt):We==="number"&&(wt%1!=0?De.writeDoubleField(3,wt):wt<0?De.writeSVarintField(6,wt):De.writeVarintField(5,wt))}ie.exports=he,ie.exports.fromVectorTileJs=he,ie.exports.fromGeojsonVt=function(wt,De){De=De||{};var We={};for(var ut in wt)We[ut]=new ne(wt[ut].features,De),We[ut].name=ut,We[ut].version=De.version,We[ut].extent=De.extent;return he({layers:We})},ie.exports.GeoJSONWrapper=ne;var Le=a.dK(ie.exports);const be={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:wt=>wt},Re=Math.fround||(Qe=new Float32Array(1),wt=>(Qe[0]=+wt,Qe[0]));var Qe;const Je=3,nt=5,Ve=6;class Pe{constructor(De){this.options=Object.assign(Object.create(be),De),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(De){const{log:We,minZoom:ut,maxZoom:It}=this.options;We&&console.time("total time");const Xe=`prepare ${De.length} points`;We&&console.time(Xe),this.points=De;const Pt=[];for(let it=0;it<De.length;it++){const Mt=De[it];if(!Mt.geometry)continue;const[at,et]=Mt.geometry.coordinates,St=Re(je(at)),sn=Re(Ye(et));Pt.push(St,sn,1/0,it,-1,1),this.options.reduce&&Pt.push(0)}let Bt=this.trees[It+1]=this._createTree(Pt);We&&console.timeEnd(Xe);for(let it=It;it>=ut;it--){const Mt=+Date.now();Bt=this.trees[it]=this._createTree(this._cluster(Bt,it)),We&&console.log("z%d: %d clusters in %dms",it,Bt.numItems,+Date.now()-Mt)}return We&&console.timeEnd("total time"),this}getClusters(De,We){let ut=((De[0]+180)%360+360)%360-180;const It=Math.max(-90,Math.min(90,De[1]));let Xe=De[2]===180?180:((De[2]+180)%360+360)%360-180;const Pt=Math.max(-90,Math.min(90,De[3]));if(De[2]-De[0]>=360)ut=-180,Xe=180;else if(ut>Xe){const et=this.getClusters([ut,It,180,Pt],We),St=this.getClusters([-180,It,Xe,Pt],We);return et.concat(St)}const Bt=this.trees[this._limitZoom(We)],it=Bt.range(je(ut),Ye(Pt),je(Xe),Ye(It)),Mt=Bt.data,at=[];for(const et of it){const St=this.stride*et;at.push(Mt[St+nt]>1?Ge(Mt,St,this.clusterProps):this.points[Mt[St+Je]])}return at}getChildren(De){const We=this._getOriginId(De),ut=this._getOriginZoom(De),It="No cluster with the specified id.",Xe=this.trees[ut];if(!Xe)throw new Error(It);const Pt=Xe.data;if(We*this.stride>=Pt.length)throw new Error(It);const Bt=this.options.radius/(this.options.extent*Math.pow(2,ut-1)),it=Xe.within(Pt[We*this.stride],Pt[We*this.stride+1],Bt),Mt=[];for(const at of it){const et=at*this.stride;Pt[et+4]===De&&Mt.push(Pt[et+nt]>1?Ge(Pt,et,this.clusterProps):this.points[Pt[et+Je]])}if(Mt.length===0)throw new Error(It);return Mt}getLeaves(De,We,ut){const It=[];return this._appendLeaves(It,De,We=We||10,ut=ut||0,0),It}getTile(De,We,ut){const It=this.trees[this._limitZoom(De)],Xe=Math.pow(2,De),{extent:Pt,radius:Bt}=this.options,it=Bt/Pt,Mt=(ut-it)/Xe,at=(ut+1+it)/Xe,et={features:[]};return this._addTileFeatures(It.range((We-it)/Xe,Mt,(We+1+it)/Xe,at),It.data,We,ut,Xe,et),We===0&&this._addTileFeatures(It.range(1-it/Xe,Mt,1,at),It.data,Xe,ut,Xe,et),We===Xe-1&&this._addTileFeatures(It.range(0,Mt,it/Xe,at),It.data,-1,ut,Xe,et),et.features.length?et:null}getClusterExpansionZoom(De){let We=this._getOriginZoom(De)-1;for(;We<=this.options.maxZoom;){const ut=this.getChildren(De);if(We++,ut.length!==1)break;De=ut[0].properties.cluster_id}return We}_appendLeaves(De,We,ut,It,Xe){const Pt=this.getChildren(We);for(const Bt of Pt){const it=Bt.properties;if(it&&it.cluster?Xe+it.point_count<=It?Xe+=it.point_count:Xe=this._appendLeaves(De,it.cluster_id,ut,It,Xe):Xe<It?Xe++:De.push(Bt),De.length===ut)break}return Xe}_createTree(De){const We=new a.bg(De.length/this.stride|0,this.options.nodeSize,Float32Array);for(let ut=0;ut<De.length;ut+=this.stride)We.add(De[ut],De[ut+1]);return We.finish(),We.data=De,We}_addTileFeatures(De,We,ut,It,Xe,Pt){for(const Bt of De){const it=Bt*this.stride,Mt=We[it+nt]>1;let at,et,St;if(Mt)at=Ne(We,it,this.clusterProps),et=We[it],St=We[it+1];else{const gr=this.points[We[it+Je]];at=gr.properties;const[tr,Nn]=gr.geometry.coordinates;et=je(tr),St=Ye(Nn)}const sn={type:1,geometry:[[Math.round(this.options.extent*(et*Xe-ut)),Math.round(this.options.extent*(St*Xe-It))]],tags:at};let bn;bn=Mt||this.options.generateId?We[it+Je]:this.points[We[it+Je]].id,bn!==void 0&&(sn.id=bn),Pt.features.push(sn)}}_limitZoom(De){return Math.max(this.options.minZoom,Math.min(Math.floor(+De),this.options.maxZoom+1))}_cluster(De,We){const{radius:ut,extent:It,reduce:Xe,minPoints:Pt}=this.options,Bt=ut/(It*Math.pow(2,We)),it=De.data,Mt=[],at=this.stride;for(let et=0;et<it.length;et+=at){if(it[et+2]<=We)continue;it[et+2]=We;const St=it[et],sn=it[et+1],bn=De.within(it[et],it[et+1],Bt),gr=it[et+nt];let tr=gr;for(const Nn of bn){const lr=Nn*at;it[lr+2]>We&&(tr+=it[lr+nt])}if(tr>gr&&tr>=Pt){let Nn,lr=St*gr,Qr=sn*gr,xi=-1;const ai=(et/at<<5)+(We+1)+this.points.length;for(const zi of bn){const ma=zi*at;if(it[ma+2]<=We)continue;it[ma+2]=We;const Rr=it[ma+nt];lr+=it[ma]*Rr,Qr+=it[ma+1]*Rr,it[ma+4]=ai,Xe&&(Nn||(Nn=this._map(it,et,!0),xi=this.clusterProps.length,this.clusterProps.push(Nn)),Xe(Nn,this._map(it,ma)))}it[et+4]=ai,Mt.push(lr/tr,Qr/tr,1/0,ai,-1,tr),Xe&&Mt.push(xi)}else{for(let Nn=0;Nn<at;Nn++)Mt.push(it[et+Nn]);if(tr>1)for(const Nn of bn){const lr=Nn*at;if(!(it[lr+2]<=We)){it[lr+2]=We;for(let Qr=0;Qr<at;Qr++)Mt.push(it[lr+Qr])}}}}return Mt}_getOriginId(De){return De-this.points.length>>5}_getOriginZoom(De){return(De-this.points.length)%32}_map(De,We,ut){if(De[We+nt]>1){const Pt=this.clusterProps[De[We+Ve]];return ut?Object.assign({},Pt):Pt}const It=this.points[De[We+Je]].properties,Xe=this.options.map(It);return ut&&Xe===It?Object.assign({},Xe):Xe}}function Ge(wt,De,We){return{type:"Feature",id:wt[De+Je],properties:Ne(wt,De,We),geometry:{type:"Point",coordinates:[(ut=wt[De],360*(ut-.5)),vt(wt[De+1])]}};var ut}function Ne(wt,De,We){const ut=wt[De+nt],It=ut>=1e4?`${Math.round(ut/1e3)}k`:ut>=1e3?Math.round(ut/100)/10+"k":ut,Xe=wt[De+Ve],Pt=Xe===-1?{}:Object.assign({},We[Xe]);return Object.assign(Pt,{cluster:!0,cluster_id:wt[De+Je],point_count:ut,point_count_abbreviated:It})}function je(wt){return wt/360+.5}function Ye(wt){const De=Math.sin(wt*Math.PI/180),We=.5-.25*Math.log((1+De)/(1-De))/Math.PI;return We<0?0:We>1?1:We}function vt(wt){const De=(180-360*wt)*Math.PI/180;return 360*Math.atan(Math.exp(De))/Math.PI-90}var Lt={exports:{}};Lt.exports=function(){function wt(Jt,hn,En,Hn){for(var Ht,an=Hn,In=En-hn>>1,Pn=En-hn,er=Jt[hn],Gn=Jt[hn+1],Mr=Jt[En],ti=Jt[En+1],Tn=hn+3;Tn<En;Tn+=3){var Kt=De(Jt[Tn],Jt[Tn+1],er,Gn,Mr,ti);if(Kt>an)Ht=Tn,an=Kt;else if(Kt===an){var Zn=Math.abs(Tn-In);Zn<Pn&&(Ht=Tn,Pn=Zn)}}an>Hn&&(Ht-hn>3&&wt(Jt,hn,Ht,Hn),Jt[Ht+2]=an,En-Ht>3&&wt(Jt,Ht,En,Hn))}function De(Jt,hn,En,Hn,Ht,an){var In=Ht-En,Pn=an-Hn;if(In!==0||Pn!==0){var er=((Jt-En)*In+(hn-Hn)*Pn)/(In*In+Pn*Pn);er>1?(En=Ht,Hn=an):er>0&&(En+=In*er,Hn+=Pn*er)}return(In=Jt-En)*In+(Pn=hn-Hn)*Pn}function We(Jt,hn,En,Hn){var Ht={id:Jt===void 0?null:Jt,type:hn,geometry:En,tags:Hn,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(an){var In=an.geometry,Pn=an.type;if(Pn==="Point"||Pn==="MultiPoint"||Pn==="LineString")ut(an,In);else if(Pn==="Polygon"||Pn==="MultiLineString")for(var er=0;er<In.length;er++)ut(an,In[er]);else if(Pn==="MultiPolygon")for(er=0;er<In.length;er++)for(var Gn=0;Gn<In[er].length;Gn++)ut(an,In[er][Gn])}(Ht),Ht}function ut(Jt,hn){for(var En=0;En<hn.length;En+=3)Jt.minX=Math.min(Jt.minX,hn[En]),Jt.minY=Math.min(Jt.minY,hn[En+1]),Jt.maxX=Math.max(Jt.maxX,hn[En]),Jt.maxY=Math.max(Jt.maxY,hn[En+1])}function It(Jt,hn,En,Hn){if(hn.geometry){var Ht=hn.geometry.coordinates,an=hn.geometry.type,In=Math.pow(En.tolerance/((1<<En.maxZoom)*En.extent),2),Pn=[],er=hn.id;if(En.promoteId?er=hn.properties[En.promoteId]:En.generateId&&(er=Hn||0),an==="Point")Xe(Ht,Pn);else if(an==="MultiPoint")for(var Gn=0;Gn<Ht.length;Gn++)Xe(Ht[Gn],Pn);else if(an==="LineString")Pt(Ht,Pn,In,!1);else if(an==="MultiLineString"){if(En.lineMetrics){for(Gn=0;Gn<Ht.length;Gn++)Pt(Ht[Gn],Pn=[],In,!1),Jt.push(We(er,"LineString",Pn,hn.properties));return}Bt(Ht,Pn,In,!1)}else if(an==="Polygon")Bt(Ht,Pn,In,!0);else{if(an!=="MultiPolygon"){if(an==="GeometryCollection"){for(Gn=0;Gn<hn.geometry.geometries.length;Gn++)It(Jt,{id:er,geometry:hn.geometry.geometries[Gn],properties:hn.properties},En,Hn);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Gn=0;Gn<Ht.length;Gn++){var Mr=[];Bt(Ht[Gn],Mr,In,!0),Pn.push(Mr)}}Jt.push(We(er,an,Pn,hn.properties))}}function Xe(Jt,hn){hn.push(it(Jt[0])),hn.push(Mt(Jt[1])),hn.push(0)}function Pt(Jt,hn,En,Hn){for(var Ht,an,In=0,Pn=0;Pn<Jt.length;Pn++){var er=it(Jt[Pn][0]),Gn=Mt(Jt[Pn][1]);hn.push(er),hn.push(Gn),hn.push(0),Pn>0&&(In+=Hn?(Ht*Gn-er*an)/2:Math.sqrt(Math.pow(er-Ht,2)+Math.pow(Gn-an,2))),Ht=er,an=Gn}var Mr=hn.length-3;hn[2]=1,wt(hn,0,Mr,En),hn[Mr+2]=1,hn.size=Math.abs(In),hn.start=0,hn.end=hn.size}function Bt(Jt,hn,En,Hn){for(var Ht=0;Ht<Jt.length;Ht++){var an=[];Pt(Jt[Ht],an,En,Hn),hn.push(an)}}function it(Jt){return Jt/360+.5}function Mt(Jt){var hn=Math.sin(Jt*Math.PI/180),En=.5-.25*Math.log((1+hn)/(1-hn))/Math.PI;return En<0?0:En>1?1:En}function at(Jt,hn,En,Hn,Ht,an,In,Pn){if(Hn/=hn,an>=(En/=hn)&&In<Hn)return Jt;if(In<En||an>=Hn)return null;for(var er=[],Gn=0;Gn<Jt.length;Gn++){var Mr=Jt[Gn],ti=Mr.geometry,Tn=Mr.type,Kt=Ht===0?Mr.minX:Mr.minY,Zn=Ht===0?Mr.maxX:Mr.maxY;if(Kt>=En&&Zn<Hn)er.push(Mr);else if(!(Zn<En||Kt>=Hn)){var jt=[];if(Tn==="Point"||Tn==="MultiPoint")et(ti,jt,En,Hn,Ht);else if(Tn==="LineString")St(ti,jt,En,Hn,Ht,!1,Pn.lineMetrics);else if(Tn==="MultiLineString")bn(ti,jt,En,Hn,Ht,!1);else if(Tn==="Polygon")bn(ti,jt,En,Hn,Ht,!0);else if(Tn==="MultiPolygon")for(var Xn=0;Xn<ti.length;Xn++){var Pr=[];bn(ti[Xn],Pr,En,Hn,Ht,!0),Pr.length&&jt.push(Pr)}if(jt.length){if(Pn.lineMetrics&&Tn==="LineString"){for(Xn=0;Xn<jt.length;Xn++)er.push(We(Mr.id,Tn,jt[Xn],Mr.tags));continue}Tn!=="LineString"&&Tn!=="MultiLineString"||(jt.length===1?(Tn="LineString",jt=jt[0]):Tn="MultiLineString"),Tn!=="Point"&&Tn!=="MultiPoint"||(Tn=jt.length===3?"Point":"MultiPoint"),er.push(We(Mr.id,Tn,jt,Mr.tags))}}}return er.length?er:null}function et(Jt,hn,En,Hn,Ht){for(var an=0;an<Jt.length;an+=3){var In=Jt[an+Ht];In>=En&&In<=Hn&&(hn.push(Jt[an]),hn.push(Jt[an+1]),hn.push(Jt[an+2]))}}function St(Jt,hn,En,Hn,Ht,an,In){for(var Pn,er,Gn=sn(Jt),Mr=Ht===0?tr:Nn,ti=Jt.start,Tn=0;Tn<Jt.length-3;Tn+=3){var Kt=Jt[Tn],Zn=Jt[Tn+1],jt=Jt[Tn+2],Xn=Jt[Tn+3],Pr=Jt[Tn+4],_r=Ht===0?Kt:Zn,ha=Ht===0?Xn:Pr,is=!1;In&&(Pn=Math.sqrt(Math.pow(Kt-Xn,2)+Math.pow(Zn-Pr,2))),_r<En?ha>En&&(er=Mr(Gn,Kt,Zn,Xn,Pr,En),In&&(Gn.start=ti+Pn*er)):_r>Hn?ha<Hn&&(er=Mr(Gn,Kt,Zn,Xn,Pr,Hn),In&&(Gn.start=ti+Pn*er)):gr(Gn,Kt,Zn,jt),ha<En&&_r>=En&&(er=Mr(Gn,Kt,Zn,Xn,Pr,En),is=!0),ha>Hn&&_r<=Hn&&(er=Mr(Gn,Kt,Zn,Xn,Pr,Hn),is=!0),!an&&is&&(In&&(Gn.end=ti+Pn*er),hn.push(Gn),Gn=sn(Jt)),In&&(ti+=Pn)}var Ca=Jt.length-3;Kt=Jt[Ca],Zn=Jt[Ca+1],jt=Jt[Ca+2],(_r=Ht===0?Kt:Zn)>=En&&_r<=Hn&&gr(Gn,Kt,Zn,jt),Ca=Gn.length-3,an&&Ca>=3&&(Gn[Ca]!==Gn[0]||Gn[Ca+1]!==Gn[1])&&gr(Gn,Gn[0],Gn[1],Gn[2]),Gn.length&&hn.push(Gn)}function sn(Jt){var hn=[];return hn.size=Jt.size,hn.start=Jt.start,hn.end=Jt.end,hn}function bn(Jt,hn,En,Hn,Ht,an){for(var In=0;In<Jt.length;In++)St(Jt[In],hn,En,Hn,Ht,an,!1)}function gr(Jt,hn,En,Hn){Jt.push(hn),Jt.push(En),Jt.push(Hn)}function tr(Jt,hn,En,Hn,Ht,an){var In=(an-hn)/(Hn-hn);return Jt.push(an),Jt.push(En+(Ht-En)*In),Jt.push(1),In}function Nn(Jt,hn,En,Hn,Ht,an){var In=(an-En)/(Ht-En);return Jt.push(hn+(Hn-hn)*In),Jt.push(an),Jt.push(1),In}function lr(Jt,hn){for(var En=[],Hn=0;Hn<Jt.length;Hn++){var Ht,an=Jt[Hn],In=an.type;if(In==="Point"||In==="MultiPoint"||In==="LineString")Ht=Qr(an.geometry,hn);else if(In==="MultiLineString"||In==="Polygon"){Ht=[];for(var Pn=0;Pn<an.geometry.length;Pn++)Ht.push(Qr(an.geometry[Pn],hn))}else if(In==="MultiPolygon")for(Ht=[],Pn=0;Pn<an.geometry.length;Pn++){for(var er=[],Gn=0;Gn<an.geometry[Pn].length;Gn++)er.push(Qr(an.geometry[Pn][Gn],hn));Ht.push(er)}En.push(We(an.id,In,Ht,an.tags))}return En}function Qr(Jt,hn){var En=[];En.size=Jt.size,Jt.start!==void 0&&(En.start=Jt.start,En.end=Jt.end);for(var Hn=0;Hn<Jt.length;Hn+=3)En.push(Jt[Hn]+hn,Jt[Hn+1],Jt[Hn+2]);return En}function xi(Jt,hn){if(Jt.transformed)return Jt;var En,Hn,Ht,an=1<<Jt.z,In=Jt.x,Pn=Jt.y;for(En=0;En<Jt.features.length;En++){var er=Jt.features[En],Gn=er.geometry,Mr=er.type;if(er.geometry=[],Mr===1)for(Hn=0;Hn<Gn.length;Hn+=2)er.geometry.push(ai(Gn[Hn],Gn[Hn+1],hn,an,In,Pn));else for(Hn=0;Hn<Gn.length;Hn++){var ti=[];for(Ht=0;Ht<Gn[Hn].length;Ht+=2)ti.push(ai(Gn[Hn][Ht],Gn[Hn][Ht+1],hn,an,In,Pn));er.geometry.push(ti)}}return Jt.transformed=!0,Jt}function ai(Jt,hn,En,Hn,Ht,an){return[Math.round(En*(Jt*Hn-Ht)),Math.round(En*(hn*Hn-an))]}function zi(Jt,hn,En,Hn,Ht){for(var an=hn===Ht.maxZoom?0:Ht.tolerance/((1<<hn)*Ht.extent),In={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:En,y:Hn,z:hn,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Pn=0;Pn<Jt.length;Pn++){In.numFeatures++,ma(In,Jt[Pn],an,Ht);var er=Jt[Pn].minX,Gn=Jt[Pn].minY,Mr=Jt[Pn].maxX,ti=Jt[Pn].maxY;er<In.minX&&(In.minX=er),Gn<In.minY&&(In.minY=Gn),Mr>In.maxX&&(In.maxX=Mr),ti>In.maxY&&(In.maxY=ti)}return In}function ma(Jt,hn,En,Hn){var Ht=hn.geometry,an=hn.type,In=[];if(an==="Point"||an==="MultiPoint")for(var Pn=0;Pn<Ht.length;Pn+=3)In.push(Ht[Pn]),In.push(Ht[Pn+1]),Jt.numPoints++,Jt.numSimplified++;else if(an==="LineString")Rr(In,Ht,Jt,En,!1,!1);else if(an==="MultiLineString"||an==="Polygon")for(Pn=0;Pn<Ht.length;Pn++)Rr(In,Ht[Pn],Jt,En,an==="Polygon",Pn===0);else if(an==="MultiPolygon")for(var er=0;er<Ht.length;er++){var Gn=Ht[er];for(Pn=0;Pn<Gn.length;Pn++)Rr(In,Gn[Pn],Jt,En,!0,Pn===0)}if(In.length){var Mr=hn.tags||null;if(an==="LineString"&&Hn.lineMetrics){for(var ti in Mr={},hn.tags)Mr[ti]=hn.tags[ti];Mr.mapbox_clip_start=Ht.start/Ht.size,Mr.mapbox_clip_end=Ht.end/Ht.size}var Tn={geometry:In,type:an==="Polygon"||an==="MultiPolygon"?3:an==="LineString"||an==="MultiLineString"?2:1,tags:Mr};hn.id!==null&&(Tn.id=hn.id),Jt.features.push(Tn)}}function Rr(Jt,hn,En,Hn,Ht,an){var In=Hn*Hn;if(Hn>0&&hn.size<(Ht?In:Hn))En.numPoints+=hn.length/3;else{for(var Pn=[],er=0;er<hn.length;er+=3)(Hn===0||hn[er+2]>In)&&(En.numSimplified++,Pn.push(hn[er]),Pn.push(hn[er+1])),En.numPoints++;Ht&&function(Gn,Mr){for(var ti=0,Tn=0,Kt=Gn.length,Zn=Kt-2;Tn<Kt;Zn=Tn,Tn+=2)ti+=(Gn[Tn]-Gn[Zn])*(Gn[Tn+1]+Gn[Zn+1]);if(ti>0===Mr)for(Tn=0,Kt=Gn.length;Tn<Kt/2;Tn+=2){var jt=Gn[Tn],Xn=Gn[Tn+1];Gn[Tn]=Gn[Kt-2-Tn],Gn[Tn+1]=Gn[Kt-1-Tn],Gn[Kt-2-Tn]=jt,Gn[Kt-1-Tn]=Xn}}(Pn,an),Jt.push(Pn)}}function Ki(Jt,hn){var En=(hn=this.options=function(Ht,an){for(var In in an)Ht[In]=an[In];return Ht}(Object.create(this.options),hn)).debug;if(En&&console.time("preprocess data"),hn.maxZoom<0||hn.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(hn.promoteId&&hn.generateId)throw new Error("promoteId and generateId cannot be used together.");var Hn=function(Ht,an){var In=[];if(Ht.type==="FeatureCollection")for(var Pn=0;Pn<Ht.features.length;Pn++)It(In,Ht.features[Pn],an,Pn);else It(In,Ht.type==="Feature"?Ht:{geometry:Ht},an);return In}(Jt,hn);this.tiles={},this.tileCoords=[],En&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",hn.indexMaxZoom,hn.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(Hn=function(Ht,an){var In=an.buffer/an.extent,Pn=Ht,er=at(Ht,1,-1-In,In,0,-1,2,an),Gn=at(Ht,1,1-In,2+In,0,-1,2,an);return(er||Gn)&&(Pn=at(Ht,1,-In,1+In,0,-1,2,an)||[],er&&(Pn=lr(er,1).concat(Pn)),Gn&&(Pn=Pn.concat(lr(Gn,-1)))),Pn}(Hn,hn)).length&&this.splitTile(Hn,0,0,0),En&&(Hn.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function $i(Jt,hn,En){return 32*((1<<Jt)*En+hn)+Jt}return Ki.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Ki.prototype.splitTile=function(Jt,hn,En,Hn,Ht,an,In){for(var Pn=[Jt,hn,En,Hn],er=this.options,Gn=er.debug;Pn.length;){Hn=Pn.pop(),En=Pn.pop(),hn=Pn.pop(),Jt=Pn.pop();var Mr=1<<hn,ti=$i(hn,En,Hn),Tn=this.tiles[ti];if(!Tn&&(Gn>1&&console.time("creation"),Tn=this.tiles[ti]=zi(Jt,hn,En,Hn,er),this.tileCoords.push({z:hn,x:En,y:Hn}),Gn)){Gn>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",hn,En,Hn,Tn.numFeatures,Tn.numPoints,Tn.numSimplified),console.timeEnd("creation"));var Kt="z"+hn;this.stats[Kt]=(this.stats[Kt]||0)+1,this.total++}if(Tn.source=Jt,Ht){if(hn===er.maxZoom||hn===Ht)continue;var Zn=1<<Ht-hn;if(En!==Math.floor(an/Zn)||Hn!==Math.floor(In/Zn))continue}else if(hn===er.indexMaxZoom||Tn.numPoints<=er.indexMaxPoints)continue;if(Tn.source=null,Jt.length!==0){Gn>1&&console.time("clipping");var jt,Xn,Pr,_r,ha,is,Ca=.5*er.buffer/er.extent,zc=.5-Ca,iu=.5+Ca,jh=1+Ca;jt=Xn=Pr=_r=null,ha=at(Jt,Mr,En-Ca,En+iu,0,Tn.minX,Tn.maxX,er),is=at(Jt,Mr,En+zc,En+jh,0,Tn.minX,Tn.maxX,er),Jt=null,ha&&(jt=at(ha,Mr,Hn-Ca,Hn+iu,1,Tn.minY,Tn.maxY,er),Xn=at(ha,Mr,Hn+zc,Hn+jh,1,Tn.minY,Tn.maxY,er),ha=null),is&&(Pr=at(is,Mr,Hn-Ca,Hn+iu,1,Tn.minY,Tn.maxY,er),_r=at(is,Mr,Hn+zc,Hn+jh,1,Tn.minY,Tn.maxY,er),is=null),Gn>1&&console.timeEnd("clipping"),Pn.push(jt||[],hn+1,2*En,2*Hn),Pn.push(Xn||[],hn+1,2*En,2*Hn+1),Pn.push(Pr||[],hn+1,2*En+1,2*Hn),Pn.push(_r||[],hn+1,2*En+1,2*Hn+1)}}},Ki.prototype.getTile=function(Jt,hn,En){var Hn=this.options,Ht=Hn.extent,an=Hn.debug;if(Jt<0||Jt>24)return null;var In=1<<Jt,Pn=$i(Jt,hn=(hn%In+In)%In,En);if(this.tiles[Pn])return xi(this.tiles[Pn],Ht);an>1&&console.log("drilling down to z%d-%d-%d",Jt,hn,En);for(var er,Gn=Jt,Mr=hn,ti=En;!er&&Gn>0;)Gn--,Mr=Math.floor(Mr/2),ti=Math.floor(ti/2),er=this.tiles[$i(Gn,Mr,ti)];return er&&er.source?(an>1&&console.log("found parent tile z%d-%d-%d",Gn,Mr,ti),an>1&&console.time("drilling down"),this.splitTile(er.source,Gn,Mr,ti,Jt,hn,En),an>1&&console.timeEnd("drilling down"),this.tiles[Pn]?xi(this.tiles[Pn],Ht):null):null},function(Jt,hn){return new Ki(Jt,hn)}}();var Et=a.dK(Lt.exports);function Vt(wt,De){const We=wt.tileID.canonical;if(!this._geoJSONIndex)return De(null,null);const ut=this._geoJSONIndex.getTile(We.z,We.x,We.y);if(!ut)return De(null,null);const It=new K(ut.features);let Xe=Le(It);Xe.byteOffset===0&&Xe.byteLength===Xe.buffer.byteLength||(Xe=new Uint8Array(Xe)),De(null,{vectorTile:It,rawData:Xe.buffer})}class _t extends I{constructor(De,We,ut,It,Xe,Pt){super(De,We,ut,It,Vt,Pt),Xe&&(this.loadGeoJSON=Xe)}loadData(De,We){const ut=De&&De.request,It=ut&&ut.collectResourceTiming;this.loadGeoJSON(De,(Xe,Pt)=>{if(Xe||!Pt)return We(Xe);if(typeof Pt!="object")return We(new Error(`Input data given to '${De.source}' is not a valid GeoJSON object.`));{Q(Pt,!0);try{if(De.filter){const it=a.r(De.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(it.result==="error")throw new Error(it.value.map(at=>`${at.key}: ${at.message}`).join(", "));Pt={type:"FeatureCollection",features:Pt.features.filter(at=>it.value.evaluate({zoom:0},at))}}this._geoJSONIndex=De.cluster?new Pe(function({superclusterOptions:it,clusterProperties:Mt}){if(!Mt||!it)return it;const at={},et={},St={accumulated:null,zoom:0},sn={properties:null},bn=Object.keys(Mt);for(const gr of bn){const[tr,Nn]=Mt[gr],lr=a.r(Nn),Qr=a.r(typeof tr=="string"?[tr,["accumulated"],["get",gr]]:tr);at[gr]=lr.value,et[gr]=Qr.value}return it.map=gr=>{sn.properties=gr;const tr={};for(const Nn of bn)tr[Nn]=at[Nn].evaluate(St,sn);return tr},it.reduce=(gr,tr)=>{sn.properties=tr;for(const Nn of bn)St.accumulated=gr[Nn],gr[Nn]=et[Nn].evaluate(St,sn)},it}(De)).load(Pt.features):Et(Pt,De.geojsonVtOptions)}catch(it){return We(it)}this.loaded={};const Bt={};if(It){const it=f(ut);it&&(Bt.resourceTiming={},Bt.resourceTiming[De.source]=JSON.parse(JSON.stringify(it)))}We(null,Bt)}})}reloadTile(De,We){const ut=this.loaded;return ut&&ut[De.uid]?super.reloadTile(De,We):this.loadTile(De,We)}loadGeoJSON(De,We){if(De.request)a.g(De.request,We);else{if(typeof De.data!="string")return We(new Error(`Input data given to '${De.source}' is not a valid GeoJSON object.`));try{return We(null,JSON.parse(De.data))}catch{return We(new Error(`Input data given to '${De.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(De,We){try{We(null,this._geoJSONIndex.getClusterExpansionZoom(De.clusterId))}catch(ut){We(ut)}}getClusterChildren(De,We){try{We(null,this._geoJSONIndex.getChildren(De.clusterId))}catch(ut){We(ut)}}getClusterLeaves(De,We){try{We(null,this._geoJSONIndex.getLeaves(De.clusterId,De.limit,De.offset))}catch(ut){We(ut)}}}class qt{constructor(De,We){this.tileID=new a.am(De.tileID.overscaledZ,De.tileID.wrap,De.tileID.canonical.z,De.tileID.canonical.x,De.tileID.canonical.y),this.tileZoom=De.tileZoom,this.uid=De.uid,this.zoom=De.zoom,this.canonical=De.tileID.canonical,this.pixelRatio=De.pixelRatio,this.tileSize=De.tileSize,this.source=De.source,this.overscaling=this.tileID.overscaleFactor(),this.projection=De.projection,this.brightness=We}parse(De,We,ut,It){this.status="parsing";const Xe=new a.am(ut.tileID.overscaledZ,ut.tileID.wrap,ut.tileID.canonical.z,ut.tileID.canonical.x,ut.tileID.canonical.y),Pt={},Bt=We.familiesBySource[ut.source],it=new a.dC(Xe,ut.promoteId);return it.bucketLayerIDs=[],it.is3DTile=!0,a.dP(De).then(Mt=>{if(!Mt)return It(new Error("Could not parse tile"));const at=a.dQ(Mt,1/a.bR(ut.tileID.canonical)),et=Mt.json.extensionsUsed&&Mt.json.extensionsUsed.includes("MAPBOX_mesh_features")||Mt.json.asset.extras&&Mt.json.asset.extras.MAPBOX_mesh_features,St=Mt.json.extensionsUsed&&Mt.json.extensionsUsed.includes("EXT_meshopt_compression"),sn=new a.K(this.zoom,{brightness:this.brightness});for(const bn in Bt)for(const gr of Bt[bn]){const tr=gr[0];it.bucketLayerIDs.push(gr.map(lr=>lr.id)),tr.recalculate(sn,[]);const Nn=new a.dR(at,Xe,et,St,this.brightness,it);et||(Nn.needsUpload=!0),Pt[tr.fqid]=Nn,Nn.evaluate(tr)}this.status="done",It(null,{buckets:Pt,featureIndex:it})}).catch(Mt=>It(new Error(Mt.message)))}}class tn{constructor(De,We,ut,It,Xe,Pt){this.actor=De,this.layerIndex=We,this.brightness=Pt,this.loading={},this.loaded={}}loadTile(De,We){const ut=De.uid,It=this.loading[ut]=new qt(De,this.brightness);a.a_(De.request,(Xe,Pt)=>{const Bt=!this.loading[ut];return delete this.loading[ut],Bt||Xe?(It.status="done",Bt||(this.loaded[ut]=It),We(Xe)):Pt&&Pt.byteLength!==0?void It.parse(Pt,this.layerIndex,De,(it,Mt)=>{It.status="done",this.loaded=this.loaded||{},this.loaded[ut]=It,it||!Mt?We(it):We(null,Mt)}):(It.status="done",this.loaded[ut]=It,We())})}reloadTile(De,We){const ut=this.loaded,It=De.uid;if(ut&&ut[It]){const Xe=ut[It];Xe.projection=De.projection,Xe.brightness=De.brightness;const Pt=(Bt,it)=>{Xe.reloadCallback&&(delete Xe.reloadCallback,this.loadTile(De,We)),We(Bt,it)};Xe.status==="parsing"?Xe.reloadCallback=Pt:Xe.status==="done"&&this.loadTile(De,We)}}abortTile(De,We){const ut=De.uid;this.loading[ut]&&delete this.loading[ut],We()}removeTile(De,We){const ut=this.loaded,It=De.uid;ut&&ut[It]&&delete ut[It],We()}}class Nt{constructor(De){this.self=De,this.actor=new a.dS(De,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=a.bo({name:"mercator"}),this.workerSourceTypes={vector:I,geojson:_t,"batched-model":tn},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(We,ut)=>{if(this.workerSourceTypes[We])throw new Error(`Worker source with name "${We}" already registered.`);this.workerSourceTypes[We]=ut},this.self.registerRTLTextPlugin=We=>{if(a.dT.isParsed())throw new Error("RTL text plugin already registered.");a.dT.applyArabicShaping=We.applyArabicShaping,a.dT.processBidirectionalText=We.processBidirectionalText,a.dT.processStyledBidirectionalText=We.processStyledBidirectionalText}}clearCaches(De,We,ut){delete this.layerIndexes[De],delete this.availableImages[De],delete this.workerSources[De],delete this.demWorkerSources[De],delete this.rasterArrayWorkerSource,ut()}checkIfReady(De,We,ut){ut()}setReferrer(De,We){this.referrer=We}spriteLoaded(De,{scope:We,isLoaded:ut}){if(this.isSpriteLoaded[De]||(this.isSpriteLoaded[De]={}),this.isSpriteLoaded[De][We]=ut,this.workerSources[De]&&this.workerSources[De][We])for(const It in this.workerSources[De][We]){const Xe=this.workerSources[De][We][It];for(const Pt in Xe)Xe[Pt]instanceof I&&(Xe[Pt].isSpriteLoaded=ut,Xe[Pt].fire(new a.b("isSpriteLoaded")))}}setImages(De,{scope:We,images:ut},It){if(this.availableImages[De]||(this.availableImages[De]={}),this.availableImages[De][We]=ut,this.workerSources[De]&&this.workerSources[De][We]){for(const Xe in this.workerSources[De][We]){const Pt=this.workerSources[De][We][Xe];for(const Bt in Pt)Pt[Bt].availableImages=ut}It()}else It()}setProjection(De,We){this.projections[De]=a.bo(We)}setBrightness(De,We,ut){this.brightness=We,ut()}setLayers(De,We,ut){this.getLayerIndex(De,We.scope).replace(We.layers,We.options),ut()}updateLayers(De,We,ut){this.getLayerIndex(De,We.scope).update(We.layers,We.removedIds,We.options),ut()}loadTile(De,We,ut){We.projection=this.projections[De]||this.defaultProjection,this.getWorkerSource(De,We.type,We.source,We.scope).loadTile(We,ut)}loadDEMTile(De,We,ut){this.getDEMWorkerSource(De,We.source,We.scope).loadTile(We,ut)}decodeRasterArray(De,We,ut){this.getRasterArrayWorkerSource().decodeRasterArray(We,ut)}reloadTile(De,We,ut){We.projection=this.projections[De]||this.defaultProjection,this.getWorkerSource(De,We.type,We.source,We.scope).reloadTile(We,ut)}abortTile(De,We,ut){this.getWorkerSource(De,We.type,We.source,We.scope).abortTile(We,ut)}removeTile(De,We,ut){this.getWorkerSource(De,We.type,We.source,We.scope).removeTile(We,ut)}removeSource(De,We,ut){if(!(this.workerSources[De]&&this.workerSources[De][We.scope]&&this.workerSources[De][We.scope][We.type]&&this.workerSources[De][We.scope][We.type][We.source]))return;const It=this.workerSources[De][We.scope][We.type][We.source];delete this.workerSources[De][We.scope][We.type][We.source],It.removeSource!==void 0?It.removeSource(We,ut):ut()}loadWorkerSource(De,We,ut){try{this.self.importScripts(We.url),ut()}catch(It){ut(It.toString())}}syncRTLPluginState(De,We,ut){try{a.dT.setState(We);const It=a.dT.getPluginURL();if(a.dT.isLoaded()&&!a.dT.isParsed()&&It!=null){this.self.importScripts(It);const Xe=a.dT.isParsed();ut(Xe?void 0:new Error(`RTL Text Plugin failed to import scripts from ${It}`),Xe)}}catch(It){ut(It.toString())}}setDracoUrl(De,We){this.dracoUrl=We}getAvailableImages(De,We){this.availableImages[De]||(this.availableImages[De]={});let ut=this.availableImages[De][We];return ut||(ut=[]),ut}getLayerIndex(De,We){this.layerIndexes[De]||(this.layerIndexes[De]={});let ut=this.layerIndexes[De][We];return ut||(ut=this.layerIndexes[De][We]=new _,ut.scope=We),ut}getWorkerSource(De,We,ut,It){if(this.workerSources[De]||(this.workerSources[De]={}),this.workerSources[De][It]||(this.workerSources[De][It]={}),this.workerSources[De][It][We]||(this.workerSources[De][It][We]={}),this.isSpriteLoaded[De]||(this.isSpriteLoaded[De]={}),!this.workerSources[De][It][We][ut]){const Xe={send:(Pt,Bt,it,Mt,at,et)=>{this.actor.send(Pt,Bt,it,De,at,et)},scheduler:this.actor.scheduler};this.workerSources[De][It][We][ut]=new this.workerSourceTypes[We](Xe,this.getLayerIndex(De,It),this.getAvailableImages(De,It),this.isSpriteLoaded[De][It],void 0,this.brightness)}return this.workerSources[De][It][We][ut]}getDEMWorkerSource(De,We,ut){return this.demWorkerSources[De]||(this.demWorkerSources[De]={}),this.demWorkerSources[De][ut]||(this.demWorkerSources[De][ut]={}),this.demWorkerSources[De][ut][We]||(this.demWorkerSources[De][ut][We]=new F),this.demWorkerSources[De][ut][We]}getRasterArrayWorkerSource(){return this.rasterArrayWorkerSource||(this.rasterArrayWorkerSource=new R),this.rasterArrayWorkerSource}enforceCacheSizeLimit(De,We){a.dU(We)}getWorkerPerformanceMetrics(De,We,ut){ut(void 0,void 0)}}return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new Nt(self)),Nt}),l(["./shared"],function(a){function f(w,d){if(Array.isArray(w)){if(!Array.isArray(d)||w.length!==d.length)return!1;for(let g=0;g<w.length;g++)if(!f(w[g],d[g]))return!1;return!0}if(typeof w=="object"&&w!==null&&d!==null){if(typeof d!="object"||Object.keys(w).length!==Object.keys(d).length)return!1;for(const g in w)if(!f(w[g],d[g]))return!1;return!0}return w===d}var A=m;function m(w){return!function(d){return typeof window>"u"||typeof document>"u"?"not a browser":function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var x,B,L=new Blob([""],{type:"text/javascript"}),D=URL.createObjectURL(L);try{B=new Worker(D),x=!0}catch{x=!1}return B&&B.terminate(),URL.revokeObjectURL(D),x}()?function(){var x=document.createElement("canvas");x.width=x.height=1;var B=x.getContext("2d");if(!B)return!1;var L=B.getImageData(0,0,1,1);return L&&L.width===x.width}()?(_[g=d&&d.failIfMajorPerformanceCaveat]===void 0&&(_[g]=function(x){var B,L=function(D){var $=document.createElement("canvas"),Y=Object.create(m.webGLContextAttributes);return Y.failIfMajorPerformanceCaveat=D,$.getContext("webgl2",Y)}(x);if(!L)return!1;try{B=L.createShader(L.VERTEX_SHADER)}catch{return!1}return!(!B||L.isContextLost())&&(L.shaderSource(B,"void main() {}"),L.compileShader(B),L.getShaderParameter(B,L.COMPILE_STATUS)===!0)}(g)),_[g]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL2 support"):"insufficient Canvas/getImageData support":"insufficient worker support";var g}(w)}var _={};function y(w,d,g){const x=document.createElement(w);return d!=null&&(x.className=d),g&&g.appendChild(x),x}function T(w,d,g){const x=document.createElementNS("http://www.w3.org/2000/svg",w);for(const B of Object.keys(d))x.setAttributeNS(null,B,String(d[B]));return g&&g.appendChild(x),x}m.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const E=typeof document<"u"?document.documentElement&&document.documentElement.style:null,P=E&&E.userSelect!==void 0?"userSelect":"WebkitUserSelect";let I;function F(){E&&P&&(I=E[P],E[P]="none")}function R(){E&&P&&(E[P]=I)}function N(w){w.preventDefault(),w.stopPropagation(),window.removeEventListener("click",N,!0)}function z(){window.addEventListener("click",N,!0),window.setTimeout(()=>{window.removeEventListener("click",N,!0)},0)}function Q(w,d){const g=w.getBoundingClientRect();return K(w,g,d)}function j(w,d){const g=w.getBoundingClientRect(),x=[];for(let B=0;B<d.length;B++)x.push(K(w,g,d[B]));return x}function H(w){return window.InstallTrigger!==void 0&&w.button===2&&w.ctrlKey&&window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:w.button}function K(w,d,g){const x=w.offsetWidth===d.width?1:w.offsetWidth/d.width;return new a.P((g.clientX-d.left)*x,(g.clientY-d.top)*x)}class ie{constructor(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSourceCaches={},this._updatedPaintProps=new Set,this._updatedImages=new Set}isDirty(){return this._changed}setDirty(){this._changed=!0}getUpdatedSourceCaches(){return this._updatedSourceCaches}updateSourceCache(d,g){this._updatedSourceCaches[d]=g,this.setDirty()}discardSourceCacheUpdate(d){delete this._updatedSourceCaches[d]}updateLayer(d){const g=d.scope;this._updatedLayers[g]=this._updatedLayers[g]||new Set,this._updatedLayers[g].add(d.id),this.setDirty()}removeLayer(d){const g=d.scope;this._removedLayers[g]=this._removedLayers[g]||{},this._updatedLayers[g]=this._updatedLayers[g]||new Set,this._removedLayers[g][d.id]=d,this._updatedLayers[g].delete(d.id),this._updatedPaintProps.delete(d.fqid),this.setDirty()}getRemovedLayer(d){return this._removedLayers[d.scope]?this._removedLayers[d.scope][d.id]:null}discardLayerRemoval(d){this._removedLayers[d.scope]&&delete this._removedLayers[d.scope][d.id]}getLayerUpdatesByScope(){const d={};for(const g in this._updatedLayers)d[g]=d[g]||{},d[g].updatedIds=Array.from(this._updatedLayers[g].values());for(const g in this._removedLayers)d[g]=d[g]||{},d[g].removedIds=Object.keys(this._removedLayers[g]);return d}getUpdatedPaintProperties(){return this._updatedPaintProps}updatePaintProperties(d){this._updatedPaintProps.add(d.fqid),this.setDirty()}getUpdatedImages(){return Array.from(this._updatedImages.values())}updateImage(d){this._updatedImages.add(d),this.setDirty()}resetUpdatedImages(){this._updatedImages.clear()}reset(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSourceCaches={},this._updatedPaintProps.clear(),this._updatedImages.clear()}}class q extends a.E{constructor(d){super(),this.requestManager=d,this.models={"":{}},this.numModelsLoading={}}loadModel(d,g){return a.l(this.requestManager.transformRequest(g,a.R.Model).url).then(x=>{if(!x)return;const B=a.c(x),L=new a.M(d,void 0,void 0,B);return L.computeBoundsAndApplyParent(),L}).catch(x=>{this.fire(new a.a(new Error(`Could not load model ${d} from ${g}: ${x.message}`)))})}load(d,g){this.models[g]||(this.models[g]={});const x=Object.keys(d);this.numModelsLoading[g]=(this.numModelsLoading[g]||0)+x.length;const B=[];for(const L of x)B.push(this.loadModel(L,d[L]));Promise.allSettled(B).then(L=>{for(let D=0;D<L.length;D++){const{status:$,value:Y}=L[D];$==="fulfilled"&&Y&&(this.models[g][x[D]]=Y)}this.numModelsLoading[g]-=x.length,this.fire(new a.b("data",{dataType:"style"}))}).catch(L=>{this.fire(new a.a(new Error(`Could not load models: ${L.message}`)))})}isLoaded(){for(const d in this.numModelsLoading)if(this.numModelsLoading[d]>0)return!1;return!0}hasModel(d,g){return!!this.getModel(d,g)}getModel(d,g){return this.models[g]||(this.models[g]={}),this.models[g][d]}addModel(d,g,x){this.models[x]||(this.models[x]={}),this.hasModel(d,x)&&this.removeModel(d,x),this.load({[d]:this.requestManager.normalizeModelURL(g)},x)}addModels(d,g){const x={};for(const B in d)x[B]=this.requestManager.normalizeModelURL(d[B]);this.load(x,g)}removeModel(d,g){this.models[g]||(this.models[g]={});const x=this.models[g][d];delete this.models[g][d],x.destroy()}listModels(d){return this.models[d]||(this.models[d]={}),Object.keys(this.models[d])}upload(d,g){this.models[g]||(this.models[g]={});for(const x in this.models[g])this.models[g][x].upload(d.context)}}class W{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(d,g,x){const B=String(g);if(this.stateChanges[d]=this.stateChanges[d]||{},this.stateChanges[d][B]=this.stateChanges[d][B]||{},a.e(this.stateChanges[d][B],x),this.deletedStates[d]===null){this.deletedStates[d]={};for(const L in this.state[d])L!==B&&(this.deletedStates[d][L]=null)}else if(this.deletedStates[d]&&this.deletedStates[d][B]===null){this.deletedStates[d][B]={};for(const L in this.state[d][B])x[L]||(this.deletedStates[d][B][L]=null)}else for(const L in x)this.deletedStates[d]&&this.deletedStates[d][B]&&this.deletedStates[d][B][L]===null&&delete this.deletedStates[d][B][L]}removeFeatureState(d,g,x){if(this.deletedStates[d]===null)return;const B=String(g);if(this.deletedStates[d]=this.deletedStates[d]||{},x&&g!==void 0)this.deletedStates[d][B]!==null&&(this.deletedStates[d][B]=this.deletedStates[d][B]||{},this.deletedStates[d][B][x]=null);else if(g!==void 0)if(this.stateChanges[d]&&this.stateChanges[d][B])for(x in this.deletedStates[d][B]={},this.stateChanges[d][B])this.deletedStates[d][B][x]=null;else this.deletedStates[d][B]=null;else this.deletedStates[d]=null}getState(d,g){const x=String(g),B=a.e({},(this.state[d]||{})[x],(this.stateChanges[d]||{})[x]);if(this.deletedStates[d]===null)return{};if(this.deletedStates[d]){const L=this.deletedStates[d][g];if(L===null)return{};for(const D in L)delete B[D]}return B}initializeTileState(d,g){d.setFeatureState(this.state,g)}coalesceChanges(d,g){const x={};for(const B in this.stateChanges){this.state[B]=this.state[B]||{};const L={};for(const D in this.stateChanges[B])this.state[B][D]||(this.state[B][D]={}),a.e(this.state[B][D],this.stateChanges[B][D]),L[D]=this.state[B][D];x[B]=L}for(const B in this.deletedStates){this.state[B]=this.state[B]||{};const L={};if(this.deletedStates[B]===null)for(const D in this.state[B])L[D]={},this.state[B][D]={};else for(const D in this.deletedStates[B]){if(this.deletedStates[B][D]===null)this.state[B][D]={};else if(this.state[B][D])for(const $ of Object.keys(this.deletedStates[B][D]))delete this.state[B][D][$];L[D]=this.state[B][D]}x[B]=x[B]||{},a.e(x[B],L)}if(this.stateChanges={},this.deletedStates={},Object.keys(x).length!==0)for(const B in d)d[B].setFeatureState(x,g)}}function ee(w){const{userImage:d}=w;return!!(d&&d.render&&d.render())&&(w.data.replace(new Uint8Array(d.data.buffer)),!0)}class ue extends a.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded={},this.requestors=[],this.patterns={},this.atlasImage={},this.atlasTexture={},this.dirty=!0}createScope(d){this.images[d]={},this.loaded[d]=!1,this.updatedImages[d]={},this.patterns[d]={},this.callbackDispatchedThisFrame[d]={},this.atlasImage[d]=new a.h({width:1,height:1})}isLoaded(){for(const d in this.loaded)if(!this.loaded[d])return!1;return!0}setLoaded(d,g){if(this.loaded[g]!==d&&(this.loaded[g]=d,d)){for(const{ids:x,callback:B}of this.requestors)this._notify(x,g,B);this.requestors=[]}}hasImage(d,g){return!!this.getImage(d,g)}getImage(d,g){return this.images[g][d]}addImage(d,g,x){this._validate(d,x)&&(this.images[g][d]=x)}_validate(d,g){let x=!0;return this._validateStretch(g.stretchX,g.data&&g.data.width)||(this.fire(new a.a(new Error(`Image "${d}" has invalid "stretchX" value`))),x=!1),this._validateStretch(g.stretchY,g.data&&g.data.height)||(this.fire(new a.a(new Error(`Image "${d}" has invalid "stretchY" value`))),x=!1),this._validateContent(g.content,g)||(this.fire(new a.a(new Error(`Image "${d}" has invalid "content" value`))),x=!1),x}_validateStretch(d,g){if(!d)return!0;let x=0;for(const B of d){if(B[0]<x||B[1]<B[0]||g<B[1])return!1;x=B[1]}return!0}_validateContent(d,g){return!(d&&(d.length!==4||d[0]<0||g.data.width<d[0]||d[1]<0||g.data.height<d[1]||d[2]<0||g.data.width<d[2]||d[3]<0||g.data.height<d[3]||d[2]<d[0]||d[3]<d[1]))}updateImage(d,g,x){x.version=this.images[g][d].version+1,this.images[g][d]=x,this.updatedImages[g][d]=!0}removeImage(d,g){const x=this.images[g][d];delete this.images[g][d],delete this.patterns[g][d],x.userImage&&x.userImage.onRemove&&x.userImage.onRemove()}listImages(d){return Object.keys(this.images[d])}getImages(d,g,x){let B=!0;const L=!!this.loaded[g];if(!L)for(const D of d)this.images[g][D]||(B=!1);L||B?this._notify(d,g,x):this.requestors.push({ids:d,scope:g,callback:x})}getUpdatedImages(d){return this.updatedImages[d]}_notify(d,g,x){const B={};for(const L of d){this.images[g][L]||this.fire(new a.b("styleimagemissing",{id:L}));const D=this.images[g][L];D?B[L]={data:D.data.clone(),pixelRatio:D.pixelRatio,sdf:D.sdf,version:D.version,stretchX:D.stretchX,stretchY:D.stretchY,content:D.content,hasRenderCallback:!!(D.userImage&&D.userImage.render)}:a.w(`Image "${L}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}x(null,B)}getPixelSize(d){const{width:g,height:x}=this.atlasImage[d];return{width:g,height:x}}getPattern(d,g){const x=this.patterns[g][d],B=this.getImage(d,g);if(!B)return null;if(x&&x.position.version===B.version)return x.position;if(x)x.position.version=B.version;else{const L={w:B.data.width+2,h:B.data.height+2,x:0,y:0},D=new a.I(L,B);this.patterns[g][d]={bin:L,position:D}}return this._updatePatternAtlas(g),this.patterns[g][d].position}bind(d,g){const x=d.gl;let B=this.atlasTexture[g];B?this.dirty&&(B.update(this.atlasImage[g]),this.dirty=!1):(B=new a.T(d,this.atlasImage[g],x.RGBA),this.atlasTexture[g]=B),B.bind(x.LINEAR,x.CLAMP_TO_EDGE)}_updatePatternAtlas(d){const g=[];for(const D in this.patterns[d])g.push(this.patterns[d][D].bin);const{w:x,h:B}=a.p(g),L=this.atlasImage[d];L.resize({width:x||1,height:B||1});for(const D in this.patterns[d]){const{bin:$}=this.patterns[d][D],Y=$.x+1,ae=$.y+1,de=this.images[d][D].data,Ae=de.width,Ce=de.height;a.h.copy(de,L,{x:0,y:0},{x:Y,y:ae},{width:Ae,height:Ce}),a.h.copy(de,L,{x:0,y:Ce-1},{x:Y,y:ae-1},{width:Ae,height:1}),a.h.copy(de,L,{x:0,y:0},{x:Y,y:ae+Ce},{width:Ae,height:1}),a.h.copy(de,L,{x:Ae-1,y:0},{x:Y-1,y:ae},{width:1,height:Ce}),a.h.copy(de,L,{x:0,y:0},{x:Y+Ae,y:ae},{width:1,height:Ce})}this.dirty=!0}beginFrame(){for(const d in this.images)this.callbackDispatchedThisFrame[d]={}}dispatchRenderCallbacks(d,g){for(const x of d){if(this.callbackDispatchedThisFrame[g][x])continue;this.callbackDispatchedThisFrame[g][x]=!0;const B=this.images[g][x];ee(B)&&this.updateImage(x,g,B)}}}class J{constructor(d,g,x,B){this.message=(d?`${d}: `:"")+x,B&&(this.identifier=B),g!=null&&g.__line__&&(this.line=g.__line__)}}class te extends J{}function ne(w){const d=w.key,g=w.value,x=w.valueSpec||{},B=w.objectElementValidators||{},L=w.style,D=w.styleSpec;let $=[];const Y=a.i(g);if(Y!=="object")return[new J(d,g,`object expected, ${Y} found`)];for(const ae in g){const de=ae.split(".")[0];let Ae;B[de]?Ae=B[de]:x[de]?Ae=Et:B["*"]?Ae=B["*"]:x["*"]&&(Ae=Et),Ae?$=$.concat(Ae({key:(d&&`${d}.`)+ae,value:g[ae],valueSpec:x[de]||x["*"],style:L,styleSpec:D,object:g,objectKey:ae},g)):$.push(new te(d,g[ae],`unknown property "${ae}"`))}for(const ae in x)B[ae]||x[ae].required&&x[ae].default===void 0&&g[ae]===void 0&&$.push(new J(d,g,`missing required property "${ae}"`));return $}function he(w){const d=w.value,g=w.valueSpec,x=w.style,B=w.styleSpec,L=w.key,D=w.arrayElementValidator||Et;if(a.i(d)!=="array")return[new J(L,d,`array expected, ${a.i(d)} found`)];if(g.length&&d.length!==g.length)return[new J(L,d,`array length ${g.length} expected, length ${d.length} found`)];if(g["min-length"]&&d.length<g["min-length"])return[new J(L,d,`array length at least ${g["min-length"]} expected, length ${d.length} found`)];let $={type:g.value,values:g.values,minimum:g.minimum,maximum:g.maximum,function:void 0};B.$version<7&&($.function=g.function),a.i(g.value)==="object"&&($=g.value);let Y=[];for(let ae=0;ae<d.length;ae++)Y=Y.concat(D({array:d,arrayIndex:ae,value:d[ae],valueSpec:$,style:x,styleSpec:B,key:`${L}[${ae}]`},!0));return Y}function ce(w){const d=w.key,g=w.value,x=w.valueSpec;let B=a.i(g);if(B==="number"&&g!=g&&(B="NaN"),B!=="number")return[new J(d,g,`number expected, ${B} found`)];if("minimum"in x){let L=x.minimum;if(a.i(x.minimum)==="array"&&(L=x.minimum[w.arrayIndex]),g<L)return[new J(d,g,`${g} is less than the minimum value ${L}`)]}if("maximum"in x){let L=x.maximum;if(a.i(x.maximum)==="array"&&(L=x.maximum[w.arrayIndex]),g>L)return[new J(d,g,`${g} is greater than the maximum value ${L}`)]}return[]}function ye(w){const d=w.valueSpec,g=a.u(w.value.type);let x,B,L,D={};const $=g!=="categorical"&&w.value.property===void 0,Y=!$,ae=a.i(w.value.stops)==="array"&&a.i(w.value.stops[0])==="array"&&a.i(w.value.stops[0][0])==="object",de=ne({key:w.key,value:w.value,valueSpec:w.styleSpec.function,style:w.style,styleSpec:w.styleSpec,objectElementValidators:{stops:function(Me){if(g==="identity")return[new J(Me.key,Me.value,'identity function may not have a "stops" property')];let He=[];const $e=Me.value;return He=He.concat(he({key:Me.key,value:$e,valueSpec:Me.valueSpec,style:Me.style,styleSpec:Me.styleSpec,arrayElementValidator:Ae})),a.i($e)==="array"&&$e.length===0&&He.push(new J(Me.key,$e,"array must have at least one stop")),He},default:function(Me){return Et({key:Me.key,value:Me.value,valueSpec:d,style:Me.style,styleSpec:Me.styleSpec})}}});return g==="identity"&&$&&de.push(new J(w.key,w.value,'missing required property "property"')),g==="identity"||w.value.stops||de.push(new J(w.key,w.value,'missing required property "stops"')),g==="exponential"&&w.valueSpec.expression&&!a.s(w.valueSpec)&&de.push(new J(w.key,w.value,"exponential functions not supported")),w.styleSpec.$version>=8&&(Y&&!a.k(w.valueSpec)?de.push(new J(w.key,w.value,"property functions not supported")):$&&!a.m(w.valueSpec)&&de.push(new J(w.key,w.value,"zoom functions not supported"))),g!=="categorical"&&!ae||w.value.property!==void 0||de.push(new J(w.key,w.value,'"property" property is required')),de;function Ae(Me){let He=[];const $e=Me.value,Ke=Me.key;if(a.i($e)!=="array")return[new J(Ke,$e,`array expected, ${a.i($e)} found`)];if($e.length!==2)return[new J(Ke,$e,`array length 2 expected, length ${$e.length} found`)];if(ae){if(a.i($e[0])!=="object")return[new J(Ke,$e,`object expected, ${a.i($e[0])} found`)];if($e[0].zoom===void 0)return[new J(Ke,$e,"object stop key must have zoom")];if($e[0].value===void 0)return[new J(Ke,$e,"object stop key must have value")];const Fe=a.u($e[0].zoom);if(typeof Fe!="number")return[new J(Ke,$e[0].zoom,"stop zoom values must be numbers")];if(L&&L>Fe)return[new J(Ke,$e[0].zoom,"stop zoom values must appear in ascending order")];Fe!==L&&(L=Fe,B=void 0,D={}),He=He.concat(ne({key:`${Ke}[0]`,value:$e[0],valueSpec:{zoom:{}},style:Me.style,styleSpec:Me.styleSpec,objectElementValidators:{zoom:ce,value:Ce}}))}else He=He.concat(Ce({key:`${Ke}[0]`,value:$e[0],valueSpec:{},style:Me.style,styleSpec:Me.styleSpec},$e));return a.n(a.o($e[1]))?He.concat([new J(`${Ke}[1]`,$e[1],"expressions are not allowed in function stops.")]):He.concat(Et({key:`${Ke}[1]`,value:$e[1],valueSpec:d,style:Me.style,styleSpec:Me.styleSpec}))}function Ce(Me,He){const $e=a.i(Me.value),Ke=a.u(Me.value),Fe=Me.value!==null?Me.value:He;if(x){if($e!==x)return[new J(Me.key,Fe,`${$e} stop domain type must match previous stop domain type ${x}`)]}else x=$e;if($e!=="number"&&$e!=="string"&&$e!=="boolean"&&typeof Ke!="number"&&typeof Ke!="string"&&typeof Ke!="boolean")return[new J(Me.key,Fe,"stop domain value must be a number, string, or boolean")];if($e!=="number"&&g!=="categorical"){let Ze=`number expected, ${$e} found`;return a.k(d)&&g===void 0&&(Ze+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new J(Me.key,Fe,Ze)]}return g!=="categorical"||$e!=="number"||typeof Ke=="number"&&isFinite(Ke)&&Math.floor(Ke)===Ke?g!=="categorical"&&$e==="number"&&typeof Ke=="number"&&typeof B=="number"&&B!==void 0&&Ke<B?[new J(Me.key,Fe,"stop domain values must appear in ascending order")]:(B=Ke,g==="categorical"&&Ke in D?[new J(Me.key,Fe,"stop domain values must be unique")]:(D[Ke]=!0,[])):[new J(Me.key,Fe,`integer expected, found ${String(Ke)}`)]}}function Ee(w){const d=(w.expressionContext==="property"?a.q:a.r)(a.o(w.value),w.valueSpec);if(d.result==="error")return d.value.map(x=>new J(`${w.key}${x.key}`,w.value,x.message));const g=d.value.expression||d.value._styleExpression.expression;if(w.expressionContext==="property"&&w.propertyKey==="text-font"&&!g.outputDefined())return[new J(w.key,w.value,`Invalid data expression for "${w.propertyKey}". Output values must be contained as literals within the expression.`)];if(w.expressionContext==="property"&&w.propertyType==="layout"&&!a.t(g))return[new J(w.key,w.value,'"feature-state" data expressions are not supported with layout properties.')];if(w.expressionContext==="filter")return se(g,w);if(w.expressionContext&&w.expressionContext.indexOf("cluster")===0){if(!a.v(g,["zoom","feature-state"]))return[new J(w.key,w.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(w.expressionContext==="cluster-initial"&&!a.x(g))return[new J(w.key,w.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function se(w,d){const g=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(d.valueSpec&&d.valueSpec.expression)for(const B of d.valueSpec.expression.parameters)g.delete(B);if(g.size===0)return[];const x=[];return w instanceof a.C&&g.has(w.name)?[new J(d.key,d.value,`["${w.name}"] expression is not supported in a filter for a ${d.object.type} layer with id: ${d.object.id}`)]:(w.eachChild(B=>{x.push(...se(B,d))}),x)}function oe(w){const d=w.key,g=w.value,x=w.valueSpec,B=[];return Array.isArray(x.values)?x.values.indexOf(a.u(g))===-1&&B.push(new J(d,g,`expected one of [${x.values.join(", ")}], ${JSON.stringify(g)} found`)):Object.keys(x.values).indexOf(a.u(g))===-1&&B.push(new J(d,g,`expected one of [${Object.keys(x.values).join(", ")}], ${JSON.stringify(g)} found`)),B}function _e(w){return a.z(a.o(w.value))?Ee(a.j({},w,{expressionContext:"filter",valueSpec:w.styleSpec[`filter_${w.layerType||"fill"}`]})):Ue(w)}function Ue(w){const d=w.value,g=w.key;if(a.i(d)!=="array")return[new J(g,d,`array expected, ${a.i(d)} found`)];const x=w.styleSpec;let B,L=[];if(d.length<1)return[new J(g,d,"filter array must have at least 1 element")];switch(L=L.concat(oe({key:`${g}[0]`,value:d[0],valueSpec:x.filter_operator,style:w.style,styleSpec:w.styleSpec})),a.u(d[0])){case"<":case"<=":case">":case">=":d.length>=2&&a.u(d[1])==="$type"&&L.push(new J(g,d,`"$type" cannot be use with operator "${d[0]}"`));case"==":case"!=":d.length!==3&&L.push(new J(g,d,`filter array for operator "${d[0]}" must have 3 elements`));case"in":case"!in":d.length>=2&&(B=a.i(d[1]),B!=="string"&&L.push(new J(`${g}[1]`,d[1],`string expected, ${B} found`)));for(let D=2;D<d.length;D++)B=a.i(d[D]),a.u(d[1])==="$type"?L=L.concat(oe({key:`${g}[${D}]`,value:d[D],valueSpec:x.geometry_type,style:w.style,styleSpec:w.styleSpec})):B!=="string"&&B!=="number"&&B!=="boolean"&&L.push(new J(`${g}[${D}]`,d[D],`string, number, or boolean expected, ${B} found`));break;case"any":case"all":case"none":for(let D=1;D<d.length;D++)L=L.concat(Ue({key:`${g}[${D}]`,value:d[D],style:w.style,styleSpec:w.styleSpec}));break;case"has":case"!has":B=a.i(d[1]),d.length!==2?L.push(new J(g,d,`filter array for "${d[0]}" operator must have 2 elements`)):B!=="string"&&L.push(new J(`${g}[1]`,d[1],`string expected, ${B} found`))}return L}function Le(w,d){const g=w.key,x=w.style,B=w.layer,L=w.styleSpec,D=w.value,$=w.objectKey,Y=L[`${d}_${w.layerType}`];if(!Y)return[];const ae=$.match(/^(.*)-transition$/);if(d==="paint"&&ae&&Y[ae[1]]&&Y[ae[1]].transition)return Et({key:g,value:D,valueSpec:L.transition,style:x,styleSpec:L});const de=w.valueSpec||Y[$];if(!de)return[new te(g,D,`unknown property "${$}"`)];let Ae;if(a.i(D)==="string"&&a.k(de)&&!de.tokens&&(Ae=/^{([^}]+)}$/.exec(D))){const Me=`\`{ "type": "identity", "property": ${Ae?JSON.stringify(Ae[1]):'"_"'} }\``;return[new J(g,D,`"${$}" does not support interpolation syntax
Use an identity property function instead: ${Me}.`)]}const Ce=[];if(w.layerType==="symbol")$!=="text-field"||!x||x.glyphs||x.imports||Ce.push(new J(g,D,'use of "text-field" requires a style "glyphs" property')),$==="text-font"&&a.A(a.o(D))&&a.u(D.type)==="identity"&&Ce.push(new J(g,D,'"text-font" does not support identity functions'));else if(w.layerType==="model"&&d==="paint"&&B&&B.layout&&B.layout.hasOwnProperty("model-id")&&a.k(de)&&(a.B(de)||a.m(de))){const Me=a.q(a.o(D),de),He=Me.value.expression||Me.value._styleExpression.expression;He&&!a.v(He,["measure-light"])&&($==="model-emissive-strength"&&a.x(He)&&a.t(He)||Ce.push(new J(g,D,`${$} does not support measure-light expressions when the model layer source is vector tile or GeoJSON.`)))}return Ce.concat(Et({key:w.key,value:D,valueSpec:de,style:x,styleSpec:L,expressionContext:"property",propertyType:d,propertyKey:$}))}function be(w){return Le(w,"paint")}function Re(w){return Le(w,"layout")}function Qe(w){let d=[];const g=w.value,x=w.key,B=w.style,L=w.styleSpec;g.type||g.ref||d.push(new J(x,g,'either "type" or "ref" is required'));let D=a.u(g.type);const $=a.u(g.ref);if(g.id){const Y=a.u(g.id);for(let ae=0;ae<w.arrayIndex;ae++){const de=B.layers[ae];a.u(de.id)===Y&&d.push(new J(x,g.id,`duplicate layer id "${g.id}", previously used at line ${de.id.__line__}`))}}if("ref"in g){let Y;["type","source","source-layer","filter","layout"].forEach(ae=>{ae in g&&d.push(new J(x,g[ae],`"${ae}" is prohibited for ref layers`))}),B.layers.forEach(ae=>{a.u(ae.id)===$&&(Y=ae)}),Y?Y.ref?d.push(new J(x,g.ref,"ref cannot reference another ref layer")):D=a.u(Y.type):typeof $=="string"&&d.push(new J(x,g.ref,`ref layer "${$}" not found`))}else if(D!=="background"&&D!=="sky"&&D!=="slot")if(g.source){const Y=B.sources&&B.sources[g.source],ae=Y&&a.u(Y.type);Y?ae==="vector"&&D==="raster"?d.push(new J(x,g.source,`layer "${g.id}" requires a raster source`)):ae==="raster"&&D!=="raster"?d.push(new J(x,g.source,`layer "${g.id}" requires a vector source`)):ae!=="vector"||g["source-layer"]?ae==="raster-dem"&&D!=="hillshade"?d.push(new J(x,g.source,"raster-dem source can only be used with layer type 'hillshade'.")):ae!=="raster-array"||["raster","raster-particle"].includes(D)?D!=="line"||!g.paint||!g.paint["line-gradient"]&&!g.paint["line-trim-offset"]||ae==="geojson"&&Y.lineMetrics?D==="raster-particle"&&ae!=="raster-array"&&d.push(new J(x,g.source,`layer "${g.id}" requires a 'raster-array' source.`)):d.push(new J(x,g,`layer "${g.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):d.push(new J(x,g.source,"raster-array source can only be used with layer type 'raster'.")):d.push(new J(x,g,`layer "${g.id}" must specify a "source-layer"`)):d.push(new J(x,g.source,`source "${g.source}" not found`))}else d.push(new J(x,g,'missing required property "source"'));return d=d.concat(ne({key:x,value:g,valueSpec:L.layer,style:w.style,styleSpec:w.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Et({key:`${x}.type`,value:g.type,valueSpec:L.layer.type,style:w.style,styleSpec:w.styleSpec,object:g,objectKey:"type"}),filter:Y=>_e(a.j({layerType:D},Y)),layout:Y=>ne({layer:g,key:Y.key,value:Y.value,valueSpec:{},style:Y.style,styleSpec:Y.styleSpec,objectElementValidators:{"*":ae=>Re(a.j({layerType:D},ae))}}),paint:Y=>ne({layer:g,key:Y.key,value:Y.value,valueSpec:{},style:Y.style,styleSpec:Y.styleSpec,objectElementValidators:{"*":ae=>be(a.j({layerType:D,layer:g},ae))}})}})),d}function Je(w){const d=w.value,g=w.key,x=a.i(d);return x!=="string"?[new J(g,d,`string expected, ${x} found`)]:[]}const nt={promoteId:function({key:w,value:d}){if(a.i(d)==="string")return Je({key:w,value:d});{const g=[];for(const x in d)g.push(...Je({key:`${w}.${x}`,value:d[x]}));return g}}};function Ve(w){const d=w.value,g=w.key,x=w.styleSpec,B=w.style;if(!d.type)return[new J(g,d,'"type" is required')];const L=a.u(d.type);let D=[];switch(["vector","raster","raster-dem","raster-array"].includes(L)&&(d.url||d.tiles||D.push(new te(g,d,'Either "url" or "tiles" is required.'))),L){case"vector":case"raster":case"raster-dem":case"raster-array":return D=D.concat(ne({key:g,value:d,valueSpec:x[`source_${L.replace("-","_")}`],style:w.style,styleSpec:x,objectElementValidators:nt})),D;case"geojson":if(D=ne({key:g,value:d,valueSpec:x.source_geojson,style:B,styleSpec:x,objectElementValidators:nt}),d.cluster)for(const $ in d.clusterProperties){const[Y,ae]=d.clusterProperties[$],de=typeof Y=="string"?[Y,["accumulated"],["get",$]]:Y;D.push(...Ee({key:`${g}.${$}.map`,value:ae,expressionContext:"cluster-map"})),D.push(...Ee({key:`${g}.${$}.reduce`,value:de,expressionContext:"cluster-reduce"}))}return D;case"video":return ne({key:g,value:d,valueSpec:x.source_video,style:B,styleSpec:x});case"image":return ne({key:g,value:d,valueSpec:x.source_image,style:B,styleSpec:x});case"canvas":return[new J(g,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return oe({key:`${g}.type`,value:d.type,valueSpec:{values:Pe(x)},style:B,styleSpec:x})}}function Pe(w){return w.source.reduce((d,g)=>{const x=w[g];return x.type.type==="enum"&&(d=d.concat(Object.keys(x.type.values))),d},[])}function Ge(w){const d=w.value;let g=[];if(!d)return g;const x=a.i(d);return x!=="string"?(g=g.concat([new J(w.key,d,`string expected, "${x}" found`)]),g):(function(B){const L=B.indexOf("://")===-1;try{return new URL(B,L?"http://example.com":void 0),!0}catch{return!1}}(d)||(g=g.concat([new J(w.key,d,`invalid url "${d}"`)])),g)}function Ne(w){const d=w.value,g=w.styleSpec,x=g.light,B=w.style;let L=[];const D=a.i(d);if(d===void 0)return L;if(D!=="object")return L=L.concat([new J("light",d,`object expected, ${D} found`)]),L;for(const $ in d){const Y=$.match(/^(.*)-transition$/);L=L.concat(Y&&x[Y[1]]&&x[Y[1]].transition?Et({key:$,value:d[$],valueSpec:g.transition,style:B,styleSpec:g}):x[$]?Et({key:$,value:d[$],valueSpec:x[$],style:B,styleSpec:g}):[new J($,d[$],`unknown property "${$}"`)])}return L}function je(w){const d=w.value;let g=[];if(!d)return g;const x=a.i(d);if(x!=="object")return g=g.concat([new J("light-3d",d,`object expected, ${x} found`)]),g;const B=w.styleSpec,L=B["light-3d"],D=w.key,$=w.style,Y=w.style.lights;for(const Ae of["type","id"])if(!(Ae in d))return g=g.concat([new J("light-3d",d,`missing property ${Ae} on light`)]),g;if(d.type&&Y)for(let Ae=0;Ae<w.arrayIndex;Ae++){const Ce=a.u(d.type),Me=Y[Ae];a.u(Me.type)===Ce&&g.push(new J(D,d.id,`duplicate light type "${d.type}", previously defined at line ${Me.id.__line__}`))}const ae=`properties_light_${d.type}`;if(!(ae in B))return g=g.concat([new J("light-3d",d,`Invalid light type ${d.type}`)]),g;const de=B[ae];for(const Ae in d)if(Ae==="properties"){const Ce=d[Ae],Me=a.i(Ce);if(Me!=="object")return g=g.concat([new J("properties",Ce,`object expected, ${Me} found`)]),g;for(const He in Ce)g=g.concat(de[He]?Et({key:He,value:Ce[He],valueSpec:de[He],style:$,styleSpec:B}):[new te(w.key,Ce[He],`unknown property "${He}"`)])}else{const Ce=Ae.match(/^(.*)-transition$/);g=g.concat(Ce&&L[Ce[1]]&&L[Ce[1]].transition?Et({key:Ae,value:d[Ae],valueSpec:B.transition,style:$,styleSpec:B}):L[Ae]?Et({key:Ae,value:d[Ae],valueSpec:L[Ae],style:$,styleSpec:B}):[new te(Ae,d[Ae],`unknown property "${Ae}"`)])}return g}function Ye(w){const d=w.value,g=w.key,x=w.style,B=w.styleSpec,L=B.terrain;let D=[];const $=a.i(d);if(d===void 0||$==="null")return D;if($!=="object")return D=D.concat([new J("terrain",d,`object expected, ${$} found`)]),D;for(const Y in d){const ae=Y.match(/^(.*)-transition$/);D=D.concat(ae&&L[ae[1]]&&L[ae[1]].transition?Et({key:Y,value:d[Y],valueSpec:B.transition,style:x,styleSpec:B}):L[Y]?Et({key:Y,value:d[Y],valueSpec:L[Y],style:x,styleSpec:B}):[new te(Y,d[Y],`unknown property "${Y}"`)])}if(d.source){const Y=x.sources&&x.sources[d.source],ae=Y&&a.u(Y.type);Y?ae!=="raster-dem"&&D.push(new J(g,d.source,`terrain cannot be used with a source of type ${String(ae)}, it only be used with a "raster-dem" source type`)):D.push(new J(g,d.source,`source "${d.source}" not found`))}else D.push(new J(g,d,'terrain is missing required property "source"'));return D}function vt(w){const d=w.value,g=w.style,x=w.styleSpec,B=x.fog;let L=[];const D=a.i(d);if(d===void 0)return L;if(D!=="object")return L=L.concat([new J("fog",d,`object expected, ${D} found`)]),L;for(const $ in d){const Y=$.match(/^(.*)-transition$/);L=L.concat(Y&&B[Y[1]]&&B[Y[1]].transition?Et({key:$,value:d[$],valueSpec:x.transition,style:g,styleSpec:x}):B[$]?Et({key:$,value:d[$],valueSpec:B[$],style:g,styleSpec:x}):[new te($,d[$],`unknown property "${$}"`)])}return L}const Lt={"*":()=>[],array:he,boolean:function(w){const d=w.value,g=w.key,x=a.i(d);return x!=="boolean"?[new J(g,d,`boolean expected, ${x} found`)]:[]},number:ce,color:function(w){const d=w.key,g=w.value,x=a.i(g);return x!=="string"?[new J(d,g,`color expected, ${x} found`)]:a.y(g)===null?[new J(d,g,`color expected, "${g}" found`)]:[]},enum:oe,filter:_e,function:ye,layer:Qe,object:ne,source:Ve,model:Ge,light:Ne,"light-3d":je,terrain:Ye,fog:vt,string:Je,formatted:function(w){return Je(w).length===0?[]:Ee(w)},resolvedImage:function(w){return Je(w).length===0?[]:Ee(w)},projection:function(w){const d=w.value,g=w.styleSpec,x=g.projection,B=w.style;let L=[];const D=a.i(d);if(D==="object")for(const $ in d)L=L.concat(Et({key:$,value:d[$],valueSpec:x[$],style:B,styleSpec:g}));else D!=="string"&&(L=L.concat([new J("projection",d,`object or string expected, ${D} found`)]));return L},import:function(w){const{value:d,styleSpec:g}=w,{data:x,...B}=d;Object.defineProperty(B,"__line__",{value:d.__line__,enumerable:!1});let L=ne(a.j({},w,{value:B,valueSpec:g.import}));return a.u(B.id)===""&&L.push(new J(`${w.key}.id`,B,"import id can't be an empty string")),x&&(L=L.concat(_t(x,g,{key:`${w.key}.data`}))),L}};function Et(w,d=!1){const g=w.value,x=w.valueSpec,B=w.styleSpec;if(x.expression&&a.A(a.u(g)))return ye(w);if(x.expression&&a.n(a.o(g)))return Ee(w);if(x.type&&Lt[x.type]){const L=Lt[x.type](w);return d===!0&&L.length>0&&a.i(w.value)==="array"?Ee(w):L}return ne(a.j({},w,{valueSpec:x.type?B[x.type]:x}))}function Vt(w){const d=w.value,g=w.key,x=Je(w);return x.length||(d.indexOf("{fontstack}")===-1&&x.push(new J(g,d,'"glyphs" url must include a "{fontstack}" token')),d.indexOf("{range}")===-1&&x.push(new J(g,d,'"glyphs" url must include a "{range}" token'))),x}function _t(w,d=a.D,g={}){return Et({key:g.key||"",value:w,valueSpec:d.$root,styleSpec:d,style:w,objectElementValidators:{glyphs:Vt,"*":()=>[]}})}function qt(w,d=a.D){return it(_t(w,d))}const tn=w=>it(Ve(w)),Nt=w=>it(Ne(w)),wt=w=>it(je(w)),De=w=>it(Ye(w)),We=w=>it(vt(w)),ut=w=>it(Qe(w)),It=w=>it(_e(w)),Xe=w=>it(be(w)),Pt=w=>it(Re(w)),Bt=w=>it(Ge(w));function it(w){return w.slice().sort((d,g)=>d.line&&g.line?d.line-g.line:0)}function Mt(w,d){let g=!1;if(d&&d.length)for(const x of d)x instanceof te?a.w(x.message):(w.fire(new a.a(new Error(x.message))),g=!0);return g}const at=new a.F({anchor:new a.G(a.D.light.anchor),position:new a.H(a.D.light.position),color:new a.G(a.D.light.color),intensity:new a.G(a.D.light.intensity)});class et extends a.E{constructor(d,g="flat"){super(),this._transitionable=new a.J(at),this.setLight(d,g),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(d,g,x={}){this._validate(Nt,d,x)||(this._transitionable.setTransitionOrValue(d),this.id=g)}updateTransitions(d){this._transitioning=this._transitionable.transitioned(d,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(d){this.properties=this._transitioning.possiblyEvaluate(d)}_validate(d,g,x){return(!x||x.validate!==!1)&&Mt(this,d.call(qt,a.e({value:g,style:{glyphs:!0,sprite:!0},styleSpec:a.D})))}}const St=new a.F({source:new a.G(a.D.terrain.source),exaggeration:new a.G(a.D.terrain.exaggeration)});let sn=class extends a.E{constructor(w,d,g,x){super(),this.scope=g,this._transitionable=new a.J(St,g,x),this._transitionable.setTransitionOrValue(w,x),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=d}get(){return this._transitionable.serialize()}set(w,d){this._transitionable.setTransitionOrValue(w,d)}updateTransitions(w){this._transitioning=this._transitionable.transitioned(w,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(w){this.properties=this._transitioning.possiblyEvaluate(w)}getExaggeration(w){return this._transitioning.possiblyEvaluate(new a.K(w)).get("exaggeration")}isZoomDependent(){const w=this._transitionable._values.exaggeration;return w!=null&&w.value!=null&&w.value.expression!=null&&w.value.expression instanceof a.Z}};const bn=45,gr=65,tr=.05;function Nn(w,d,g,x){const B=a.O(bn,gr,g),[L,D]=lr(w,x);let $=1-Math.min(1,Math.exp((d-L)/(D-L)*-6));return $*=$*$,$=Math.min(1,1.00747*$),$*B*w.alpha}function lr(w,d){const g=.5/Math.tan(.5*d);return[w.range[0]+g,w.range[1]+g]}function Qr(w,d,g,x,B){const L=a.N.transformMat4([],[d,g,x],B.mercatorFogMatrix);return Nn(w,a.N.length(L),B.pitch,B._fov)}function xi(w,d,g,x,B,L,D){const $=[[g,x,0],[B,x,0],[B,L,0],[g,L,0]];let Y=Number.MAX_VALUE,ae=-Number.MAX_VALUE;for(const de of $){const Ae=a.N.transformMat4([],de,d),Ce=a.N.length(Ae);Y=Math.min(Y,Ce),ae=Math.max(ae,Ce)}return[Nn(w,Y,D.pitch,D._fov),Nn(w,ae,D.pitch,D._fov)]}const ai=new a.F({range:new a.G(a.D.fog.range),color:new a.G(a.D.fog.color),"high-color":new a.G(a.D.fog["high-color"]),"space-color":new a.G(a.D.fog["space-color"]),"horizon-blend":new a.G(a.D.fog["horizon-blend"]),"star-intensity":new a.G(a.D.fog["star-intensity"]),"vertical-range":new a.G(a.D.fog["vertical-range"])});class zi extends a.E{constructor(d,g,x,B){super(),this._transitionable=new a.J(ai,x,new Map(B)),this.set(d,B),this._transitioning=this._transitionable.untransitioned(),this._transform=g,this.properties=new a.Q(ai)}get state(){const d=this._transform,g=d.projection.name==="globe",x=a.S(d.zoom),B=this.properties.get("range"),L=[.5,3];return{range:g?[a.U(L[0],B[0],x),a.U(L[1],B[1],x)]:B,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(d,g,x={}){if(this._validate(We,d,x))return;const B=a.e({},d);for(const L of Object.keys(a.D.fog))B[L]===void 0&&(B[L]=a.D.fog[L].default);this._options=B,this._transitionable.setTransitionOrValue(this._options,g)}getOpacity(d){if(!this._transform.projection.supportsFog)return 0;const g=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:a.O(bn,gr,d))*g.a}getOpacityAtLatLng(d,g){return this._transform.projection.supportsFog?function(x,B,L){const D=a.L.fromLngLat(B),$=L.elevation?L.elevation.getAtPointOrZero(D):0;return Qr(x,D.x,D.y,$,L)}(this.state,d,g):0}getOpacityForTile(d){if(!this._transform.projection.supportsFog)return[1,1];const g=this._transform.calculateFogTileMatrix(d.toUnwrapped());return xi(this.state,g,0,0,a.V,a.V,this._transform)}getOpacityForBounds(d,g,x,B,L){return this._transform.projection.supportsFog?xi(this.state,d,g,x,B,L,this._transform):[1,1]}getFovAdjustedRange(d){return this._transform.projection.supportsFog?lr(this.state,d):[0,1]}isVisibleOnFrustum(d){if(!this._transform.projection.supportsFog)return!1;const g=[4,5,6,7];for(const x of g){const B=d.points[x];let L;if(B[2]>=0)L=B;else{const D=d.points[x-4];L=a.W(D,B,D[2]/(D[2]-B[2]))}if(Qr(this.state,L[0],L[1],0,this._transform)>=tr)return!0}return!1}updateConfig(d){this._transitionable.setTransitionOrValue(this._options,new Map(d))}updateTransitions(d){this._transitioning=this._transitionable.transitioned(d,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(d){this.properties=this._transitioning.possiblyEvaluate(d)}_validate(d,g,x){return(!x||x.validate!==!1)&&Mt(this,d.call(qt,a.e({value:g,style:{glyphs:!0,sprite:!0},styleSpec:a.D})))}}class ma extends a.E{constructor(d,g,x,B){super(),this.scope=x,this._options=d,this.properties=new a.Q(g),this._transitionable=new a.J(g,x,new Map(B)),this._transitionable.setTransitionOrValue(d.properties),this._transitioning=this._transitionable.untransitioned()}updateConfig(d){this._transitionable.setTransitionOrValue(this._options.properties,new Map(d))}updateTransitions(d){this._transitioning=this._transitionable.transitioned(d,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(d){this.properties=this._transitioning.possiblyEvaluate(d)}get(){return this._options.properties=this._transitionable.serialize(),this._options}set(d,g){this._options=d,this._transitionable.setTransitionOrValue(d.properties,g)}shadowsEnabled(){return!!this.properties&&this.properties.get("cast-shadows")===!0}}const Rr=new a.F({color:new a.G(a.D.properties_light_ambient.color),intensity:new a.G(a.D.properties_light_ambient.intensity)}),Ki=new a.F({direction:new a.X(a.D.properties_light_directional.direction),color:new a.G(a.D.properties_light_directional.color),intensity:new a.G(a.D.properties_light_directional.intensity),"cast-shadows":new a.G(a.D.properties_light_directional["cast-shadows"]),"shadow-intensity":new a.G(a.D.properties_light_directional["shadow-intensity"])});class $i{constructor(d,g,x,B){this.screenBounds=d,this.cameraPoint=g,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=x,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,B)}static createFromScreenPoints(d,g){let x,B;if(d instanceof a.P||typeof d[0]=="number"){const L=a.P.convert(d);x=[L],B=g.isPointAboveHorizon(L)}else{const L=a.P.convert(d[0]),D=a.P.convert(d[1]);x=[L,D],B=a.Y(L,D).every($=>g.isPointAboveHorizon($))}return new $i(x,g.getCameraPoint(),B,g)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(d){return a.Y(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],d)}bufferedCameraGeometry(d){const g=this.screenBounds[0],x=this.screenBounds.length===1?this.screenBounds[0].add(new a.P(1,1)):this.screenBounds[1],B=a.Y(g,x,0,!1);return this.cameraPoint.y>x.y&&(this.cameraPoint.x>g.x&&this.cameraPoint.x<x.x?B.splice(3,0,this.cameraPoint):this.cameraPoint.x>=x.x?B[2]=this.cameraPoint:this.cameraPoint.x<=g.x&&(B[3]=this.cameraPoint)),a._(B,d)}bufferedCameraGeometryGlobe(d){const g=this.screenBounds[0],x=this.screenBounds.length===1?this.screenBounds[0].add(new a.P(1,1)):this.screenBounds[1],B=a.Y(g,x,d),L=this.cameraPoint.clone();switch(3*((L.y>g.y)+(L.y>x.y))+((L.x>g.x)+(L.x>x.x))){case 0:B[0]=L,B[4]=L.clone();break;case 1:B.splice(1,0,L);break;case 2:B[1]=L;break;case 3:B.splice(4,0,L);break;case 5:B.splice(2,0,L);break;case 6:B[3]=L;break;case 7:B.splice(3,0,L);break;case 8:B[2]=L}return B}containsTile(d,g,x,B=0){const L=d.queryPadding/g._pixelsPerMercatorPixel+1,D=x?this._bufferedCameraMercator(L,g):this._bufferedScreenMercator(L,g);let $=d.tileID.wrap+(D.unwrapped?B:0);const Y=D.polygon.map(Ke=>a.$(d.tileTransform,Ke,$));if(!a.a0(Y,0,0,a.V,a.V))return;$=d.tileID.wrap+(this.screenGeometryMercator.unwrapped?B:0);const ae=this.screenGeometryMercator.polygon.map(Ke=>a.a1(d.tileTransform,Ke,$)),de=ae.map(Ke=>new a.P(Ke[0],Ke[1])),Ae=g.getFreeCameraOptions().position||new a.L(0,0,0),Ce=a.a1(d.tileTransform,Ae,$),Me=ae.map(Ke=>{const Fe=a.N.sub(Ke,Ke,Ce);return a.N.normalize(Fe,Fe),new a.a2(Ce,Fe)}),He=a.a3(d,1,g.zoom)*g._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:de,tilespaceRays:Me,bufferedTilespaceGeometry:Y,bufferedTilespaceBounds:($e=a.a4(Y),$e.min.x=a.aa($e.min.x,0,a.V),$e.min.y=a.aa($e.min.y,0,a.V),$e.max.x=a.aa($e.max.x,0,a.V),$e.max.y=a.aa($e.max.y,0,a.V),$e),tile:d,tileID:d.tileID,pixelToTileUnitsFactor:He};var $e}_bufferedScreenMercator(d,g){const x=En(d);if(this._screenRaycastCache[x])return this._screenRaycastCache[x];{let B;return B=g.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(d),g):{polygon:this.bufferedScreenGeometry(d).map(L=>g.pointCoordinate3D(L)),unwrapped:!0},this._screenRaycastCache[x]=B,B}}_bufferedCameraMercator(d,g){const x=En(d);if(this._cameraRaycastCache[x])return this._cameraRaycastCache[x];{let B;return B=g.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(d),g):{polygon:this.bufferedCameraGeometry(d).map(L=>g.pointCoordinate3D(L)),unwrapped:!0},this._cameraRaycastCache[x]=B,B}}_projectAndResample(d,g){const x=function(L,D){const $=a.a6.multiply([],D.pixelMatrix,D.globeMatrix),Y=[0,-a.ab,0,1],ae=[0,a.ab,0,1],de=[0,0,0,1];a.a7.transformMat4(Y,Y,$),a.a7.transformMat4(ae,ae,$),a.a7.transformMat4(de,de,$);const Ae=new a.P(Y[0]/Y[3],Y[1]/Y[3]),Ce=new a.P(ae[0]/ae[3],ae[1]/ae[3]),Me=a.a8(L,Ae)&&Y[3]<de[3],He=a.a8(L,Ce)&&ae[3]<de[3];if(!Me&&!He)return null;const $e=function(mt,Ft,Ot){for(let Qt=1;Qt<mt.length;Qt++){const fn=hn(Ft.pointCoordinate3D(mt[Qt-1]).x),Wt=hn(Ft.pointCoordinate3D(mt[Qt]).x);if(Ot<0){if(fn<Wt)return{idx:Qt,t:-fn/(Wt-1-fn)}}else if(Wt<fn)return{idx:Qt,t:(1-fn)/(Wt+1-fn)}}return null}(L,D,Me?-1:1);if(!$e)return null;const{idx:Ke,t:Fe}=$e;let Ze=Ke>1?Jt(L.slice(0,Ke),D):[],pt=Ke<L.length?Jt(L.slice(Ke),D):[];Ze=Ze.map(mt=>new a.P(hn(mt.x),mt.y)),pt=pt.map(mt=>new a.P(hn(mt.x),mt.y));const st=[...Ze];st.length===0&&st.push(pt[pt.length-1]);const At=a.U(st[st.length-1].y,(pt.length===0?Ze[0]:pt[0]).y,Fe);let qe;return qe=Me?[new a.P(0,At),new a.P(0,0),new a.P(1,0),new a.P(1,At)]:[new a.P(1,At),new a.P(1,1),new a.P(0,1),new a.P(0,At)],st.push(...qe),pt.length===0?st.push(Ze[0]):st.push(...pt),{polygon:st.map(mt=>new a.L(mt.x,mt.y)),unwrapped:!1}}(d,g);if(x)return x;const B=function(L,D){let $=!1,Y=-1/0,ae=0;for(let Ae=0;Ae<L.length-1;Ae++)L[Ae].x>Y&&(Y=L[Ae].x,ae=Ae);for(let Ae=0;Ae<L.length-1;Ae++){const Ce=(ae+Ae)%(L.length-1),Me=L[Ce],He=L[Ce+1];Math.abs(Me.x-He.x)>.5&&(Me.x<He.x?(Me.x+=1,Ce===0&&(L[L.length-1].x+=1)):(He.x+=1,Ce+1===L.length-1&&(L[0].x+=1)),$=!0)}const de=a.a5(D.center.lng);return $&&de<Math.abs(de-1)&&L.forEach(Ae=>{Ae.x-=1}),{polygon:L,unwrapped:$}}(Jt(d,g).map(L=>new a.P(hn(L.x),L.y)),g);return{polygon:B.polygon.map(L=>new a.L(L.x,L.y)),unwrapped:B.unwrapped}}}function Jt(w,d){return a.a9(w,g=>{const x=d.pointCoordinate3D(g);g.x=x.x,g.y=x.y},1/256)}function hn(w){return w<0?1+w%1:w%1}function En(w){return 100*w|0}function Hn(w,d,g,x,B){const L=function(D,$){if(D)return B(D);if($){w.url&&$.tiles&&w.tiles&&delete w.tiles;const Y=a.ac(a.e($,w),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);$.vector_layers&&(Y.vectorLayers=$.vector_layers,Y.vectorLayerIds=Y.vectorLayers.map(ae=>ae.id)),$.raster_layers&&(Y.rasterLayers=$.raster_layers,Y.rasterLayerIds=Y.rasterLayers.map(ae=>ae.id)),Y.tiles=d.canonicalizeTileset(Y,w.url),B(null,Y)}};return w.url?a.g(d.transformRequest(d.normalizeSourceURL(w.url,null,g,x),a.R.Source),L):a.f.frame(()=>L(null,w))}class Ht{constructor(d,g,x){this.bounds=a.ad.convert(this.validateBounds(d)),this.minzoom=g||0,this.maxzoom=x||24}validateBounds(d){return Array.isArray(d)&&d.length===4?[Math.max(-180,d[0]),Math.max(-90,d[1]),Math.min(180,d[2]),Math.min(90,d[3])]:[-180,-90,180,90]}contains(d){const g=Math.pow(2,d.z),x=Math.floor(a.a5(this.bounds.getWest())*g),B=Math.floor(a.ae(this.bounds.getNorth())*g),L=Math.ceil(a.a5(this.bounds.getEast())*g),D=Math.ceil(a.ae(this.bounds.getSouth())*g);return d.x>=x&&d.x<L&&d.y>=B&&d.y<D}}class an extends a.E{constructor(d,g,x,B){if(super(),this.id=d,this.dispatcher=x,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.e(this,a.ac(g,["url","scheme","tileSize","promoteId"])),this._options=a.e({type:"vector"},g),this._collectResourceTiming=!!g.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(B),this._tileWorkers={},this._deduped=new a.af}load(d){this._loaded=!1,this.fire(new a.b("dataloading",{dataType:"source"}));const g=Array.isArray(this.map._language)?this.map._language.join():this.map._language,x=this.map._worldview;this._tileJSONRequest=Hn(this._options,this.map._requestManager,g,x,(B,L)=>{this._tileJSONRequest=null,this._loaded=!0,B?(g&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${g}`),x&&x.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${x}`),this.fire(new a.a(B))):L&&(a.e(this,L),L.bounds&&(this.tileBounds=new Ht(L.bounds,this.minzoom,this.maxzoom)),a.aj(L.tiles,this.map._requestManager._customAccessToken),this.fire(new a.b("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.b("data",{dataType:"source",sourceDataType:"content"}))),d&&d(B)})}loaded(){return this._loaded}hasTile(d){return!this.tileBounds||this.tileBounds.contains(d.canonical)}onAdd(d){this.map=d,this.load()}reload(){this.cancelTileJSONRequest();const d=a.ag(this.id,this.scope);this.load(()=>this.map.style.clearSource(d))}setTiles(d){return this._options.tiles=d,this.reload(),this}setUrl(d){return this.url=d,this._options.url=d,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return a.e({},this._options)}loadTile(d,g){const x=this.map._requestManager.normalizeTileURL(d.tileID.canonical.url(this.tiles,this.scheme)),B={request:this.map._requestManager.transformRequest(x,a.R.Tile),data:void 0,uid:d.uid,tileID:d.tileID,tileZoom:d.tileZoom,zoom:d.tileID.overscaledZ,tileSize:this.tileSize*d.tileID.overscaleFactor(),type:this.type,source:this.id,scope:this.scope,pixelRatio:a.f.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:d.isSymbolTile,brightness:this.map.style&&this.map.style.getBrightness()||0,extraShadowCaster:d.isExtraShadowCaster};if(B.request.collectResourceTiming=this._collectResourceTiming,d.actor&&d.state!=="expired")d.state==="loading"?d.reloadCallback=g:d.request=d.actor.send("reloadTile",B,L.bind(this));else if(d.actor=this._tileWorkers[x]=this._tileWorkers[x]||this.dispatcher.getActor(),this.dispatcher.ready)d.request=d.actor.send("loadTile",B,L.bind(this),void 0,!0);else{const D=a.ah.call({deduped:this._deduped},B,($,Y)=>{$||!Y?L.call(this,$):(B.data={cacheControl:Y.cacheControl,expires:Y.expires,rawData:Y.rawData.slice(0)},d.actor&&d.actor.send("loadTile",B,L.bind(this),void 0,!0))},!0);d.request={cancel:D}}function L(D,$){return delete d.request,d.aborted?g(null):D&&D.status!==404?g(D):($&&$.resourceTiming&&(d.resourceTiming=$.resourceTiming),this.map._refreshExpiredTiles&&$&&d.setExpiryData($),d.loadVectorData($,this.map.painter),a.ai(this.dispatcher),g(null),void(d.reloadCallback&&(this.loadTile(d,d.reloadCallback),d.reloadCallback=null)))}}abortTile(d){d.request&&(d.request.cancel(),delete d.request),d.actor&&d.actor.send("abortTile",{uid:d.uid,type:this.type,source:this.id,scope:this.scope})}unloadTile(d){d.actor&&d.actor.send("removeTile",{uid:d.uid,type:this.type,source:this.id,scope:this.scope}),d.destroy()}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class In extends a.E{constructor(d,g,x,B){super(),this.id=d,this.dispatcher=x,this.setEventedParent(B),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.e({type:"raster"},g),a.e(this,a.ac(g,["url","scheme","tileSize"]))}load(d){this._loaded=!1,this.fire(new a.b("dataloading",{dataType:"source"})),this._tileJSONRequest=Hn(this._options,this.map._requestManager,null,null,(g,x)=>{this._tileJSONRequest=null,this._loaded=!0,g?this.fire(new a.a(g)):x&&(a.e(this,x),x.bounds&&(this.tileBounds=new Ht(x.bounds,this.minzoom,this.maxzoom)),a.aj(x.tiles),this.fire(new a.b("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.b("data",{dataType:"source",sourceDataType:"content"}))),d&&d(g)})}loaded(){return this._loaded}onAdd(d){this.map=d,this.load()}reload(){this.cancelTileJSONRequest();const d=a.ag(this.id,this.scope);this.load(()=>this.map.style.clearSource(d))}setTiles(d){return this._options.tiles=d,this.reload(),this}setUrl(d){return this.url=d,this._options.url=d,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return a.e({},this._options)}hasTile(d){return!this.tileBounds||this.tileBounds.contains(d.canonical)}loadTile(d,g){const x=a.f.devicePixelRatio>=2,B=this.map._requestManager.normalizeTileURL(d.tileID.canonical.url(this.tiles,this.scheme),x,this.tileSize);d.request=a.d(this.map._requestManager.transformRequest(B,a.R.Tile),(L,D,$,Y)=>(delete d.request,d.aborted?(d.state="unloaded",g(null)):L?(d.state="errored",g(L)):D?(this.map._refreshExpiredTiles&&d.setExpiryData({cacheControl:$,expires:Y}),d.setTexture(D,this.map.painter),d.state="loaded",a.ai(this.dispatcher),void g(null)):g(null)))}abortTile(d,g){d.request&&(d.request.cancel(),delete d.request),g()}unloadTile(d,g){d.texture&&d.texture instanceof a.T?(d.destroy(!0),d.texture&&d.texture instanceof a.T&&this.map.painter.saveTileTexture(d.texture)):d.destroy(),g()}hasTransition(){return!1}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class Pn extends In{constructor(d,g,x,B){super(d,g,x,B),this.type="raster-array",this.maxzoom=22,this._options=a.e({type:"raster-array"},g)}triggerRepaint(d){const g=this.map.painter._terrain,x=this.map.style.getSourceCache(this.id);g&&g.enabled&&x&&g._clearRenderCacheForTile(x.id,d.tileID),this.map.triggerRepaint()}loadTile(d,g){const x=this.map._requestManager.normalizeTileURL(d.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize),B=this.map._requestManager.transformRequest(x,a.R.Tile);d.requestParams=B,d.actor||(d.actor=this.dispatcher.getActor()),d.request=d.fetchHeader(void 0,(L,D,$,Y)=>{if(delete d.request,d.aborted)return d.state="unloaded",g(null);if(L)return L.code===20?void 0:(d.state="errored",g(L));this.map._refreshExpiredTiles&&d.setExpiryData({cacheControl:$,expires:Y}),d.state="empty",g(null)})}unloadTile(d){const g=d.texture;g&&g instanceof a.T?(d.destroy(!0),this.map.painter.saveTileTexture(g)):(d.destroy(),d.flushQueues(),d._isHeaderLoaded=!1,delete d._mrt,delete d.textureDescriptor),d.fbo&&(d.fbo.destroy(),delete d.fbo),delete d.request,delete d.requestParams,delete d.neighboringTiles,d.state="unloaded"}prepareTile(d,g,x){d._isHeaderLoaded&&(d.state!=="empty"&&(d.state="reloading"),d.fetchBand(g,x,(B,L)=>{if(B)return d.state="errored",this.fire(new a.a(B)),void this.triggerRepaint(d);L&&(d.setTexture(L,this.map.painter),d.state="loaded",this.triggerRepaint(d))}))}getInitialBand(d){if(!this.rasterLayers)return 0;const g=this.rasterLayers.find(({id:L})=>L===d),x=g&&g.fields,B=x&&x.bands&&x.bands;return B?B[0]:0}getTextureDescriptor(d,g,x){if(!d)return;const B=g.sourceLayer||this.rasterLayerIds&&this.rasterLayerIds[0];if(!B)return;let L=null;g instanceof a.an?L=g.paint.get("raster-array-band"):g instanceof a.ao&&(L=g.paint.get("raster-particle-array-band"));const D=L||this.getInitialBand(B);if(D!=null)if(d.textureDescriptor){if(!d.updateNeeded(B,D)||x)return Object.assign({},d.textureDescriptor,{texture:d.texture})}else this.prepareTile(d,B,D)}}const er=32,Gn=33,Mr=new Uint16Array(8184);for(let w=0;w<2046;w++){let d=w+2,g=0,x=0,B=0,L=0,D=0,$=0;for(1&d?B=L=D=er:g=x=$=er;(d>>=1)>1;){const ae=g+B>>1,de=x+L>>1;1&d?(B=g,L=x,g=D,x=$):(g=B,x=L,B=D,L=$),D=ae,$=de}const Y=4*w;Mr[Y+0]=g,Mr[Y+1]=x,Mr[Y+2]=B,Mr[Y+3]=L}const ti=new Uint16Array(2178),Tn=new Uint8Array(1089),Kt=new Uint16Array(1089);function Zn(w){return w===0?-.03125:w===32?.03125:0}class jt{constructor(d,g,x,B){this.id=jt.uniqueIdxCounter,jt.uniqueIdxCounter++,this.context=d;const L=d.gl;this.buffer=L.createBuffer(),this.dynamicDraw=!!x,this.context.unbindVAO(),d.bindElementBuffer.set(this.buffer),L.bufferData(L.ELEMENT_ARRAY_BUFFER,g.arrayBuffer,this.dynamicDraw?L.DYNAMIC_DRAW:L.STATIC_DRAW),this.dynamicDraw||B||g.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(d){this.id=jt.uniqueIdxCounter,jt.uniqueIdxCounter++;const g=this.context.gl;this.context.unbindVAO(),this.bind(),g.bufferSubData(g.ELEMENT_ARRAY_BUFFER,0,d.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}jt.uniqueIdxCounter=0;const Xn={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Pr{constructor(d,g,x,B,L,D){this.length=g.length,this.attributes=x,this.itemSize=g.bytesPerElement,this.dynamicDraw=B,this.instanceCount=D,this.context=d;const $=d.gl;this.buffer=$.createBuffer(),d.bindVertexBuffer.set(this.buffer),$.bufferData($.ARRAY_BUFFER,g.arrayBuffer,this.dynamicDraw?$.DYNAMIC_DRAW:$.STATIC_DRAW),this.dynamicDraw||L||g.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(d){const g=this.context.gl;this.bind(),g.bufferSubData(g.ARRAY_BUFFER,0,d.arrayBuffer)}enableAttributes(d,g){for(let x=0;x<this.attributes.length;x++){const B=g.attributes[this.attributes[x].name];B!==void 0&&d.enableVertexAttribArray(B)}}setVertexAttribPointers(d,g,x){for(let B=0;B<this.attributes.length;B++){const L=this.attributes[B],D=g.attributes[L.name];D!==void 0&&d.vertexAttribPointer(D,L.components,d[Xn[L.type]],!1,this.itemSize,L.offset+this.itemSize*(x||0))}}setVertexAttribDivisor(d,g,x){for(let B=0;B<this.attributes.length;B++){const L=g.attributes[this.attributes[B].name];L!==void 0&&this.instanceCount&&this.instanceCount>0&&d.vertexAttribDivisor(L,x)}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class _r{constructor(d){this.gl=d.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(d){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class ha extends _r{getDefault(){return a.ax.transparent}set(d){const g=this.current;(d.r!==g.r||d.g!==g.g||d.b!==g.b||d.a!==g.a||this.dirty)&&(this.gl.clearColor(d.r,d.g,d.b,d.a),this.current=d,this.dirty=!1)}}class is extends _r{getDefault(){return 1}set(d){(d!==this.current||this.dirty)&&(this.gl.clearDepth(d),this.current=d,this.dirty=!1)}}class Ca extends _r{getDefault(){return 0}set(d){(d!==this.current||this.dirty)&&(this.gl.clearStencil(d),this.current=d,this.dirty=!1)}}class zc extends _r{getDefault(){return[!0,!0,!0,!0]}set(d){const g=this.current;(d[0]!==g[0]||d[1]!==g[1]||d[2]!==g[2]||d[3]!==g[3]||this.dirty)&&(this.gl.colorMask(d[0],d[1],d[2],d[3]),this.current=d,this.dirty=!1)}}class iu extends _r{getDefault(){return!0}set(d){(d!==this.current||this.dirty)&&(this.gl.depthMask(d),this.current=d,this.dirty=!1)}}class jh extends _r{getDefault(){return 255}set(d){(d!==this.current||this.dirty)&&(this.gl.stencilMask(d),this.current=d,this.dirty=!1)}}class uA extends _r{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(d){const g=this.current;(d.func!==g.func||d.ref!==g.ref||d.mask!==g.mask||this.dirty)&&(this.gl.stencilFunc(d.func,d.ref,d.mask),this.current=d,this.dirty=!1)}}class Gh extends _r{getDefault(){const d=this.gl;return[d.KEEP,d.KEEP,d.KEEP]}set(d){const g=this.current;(d[0]!==g[0]||d[1]!==g[1]||d[2]!==g[2]||this.dirty)&&(this.gl.stencilOp(d[0],d[1],d[2]),this.current=d,this.dirty=!1)}}class $d extends _r{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const g=this.gl;d?g.enable(g.STENCIL_TEST):g.disable(g.STENCIL_TEST),this.current=d,this.dirty=!1}}class Vd extends _r{getDefault(){return[0,1]}set(d){const g=this.current;(d[0]!==g[0]||d[1]!==g[1]||this.dirty)&&(this.gl.depthRange(d[0],d[1]),this.current=d,this.dirty=!1)}}class ho extends _r{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const g=this.gl;d?g.enable(g.DEPTH_TEST):g.disable(g.DEPTH_TEST),this.current=d,this.dirty=!1}}class Uf extends _r{getDefault(){return this.gl.LESS}set(d){(d!==this.current||this.dirty)&&(this.gl.depthFunc(d),this.current=d,this.dirty=!1)}}class cA extends _r{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const g=this.gl;d?g.enable(g.BLEND):g.disable(g.BLEND),this.current=d,this.dirty=!1}}class zf extends _r{getDefault(){const d=this.gl;return[d.ONE,d.ZERO,d.ONE,d.ZERO]}set(d){const g=this.current;(d[0]!==g[0]||d[1]!==g[1]||d[2]!==g[2]||d[3]!==g[3]||this.dirty)&&(this.gl.blendFuncSeparate(d[0],d[1],d[2],d[3]),this.current=d,this.dirty=!1)}}class $f extends _r{getDefault(){return a.ax.transparent}set(d){const g=this.current;(d.r!==g.r||d.g!==g.g||d.b!==g.b||d.a!==g.a||this.dirty)&&(this.gl.blendColor(d.r,d.g,d.b,d.a),this.current=d,this.dirty=!1)}}class Ul extends _r{getDefault(){return this.gl.FUNC_ADD}set(d){(d!==this.current||this.dirty)&&(this.gl.blendEquationSeparate(d,d),this.current=d,this.dirty=!1)}}class Ga extends _r{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const g=this.gl;d?g.enable(g.CULL_FACE):g.disable(g.CULL_FACE),this.current=d,this.dirty=!1}}class Ri extends _r{getDefault(){return this.gl.BACK}set(d){(d!==this.current||this.dirty)&&(this.gl.cullFace(d),this.current=d,this.dirty=!1)}}class au extends _r{getDefault(){return this.gl.CCW}set(d){(d!==this.current||this.dirty)&&(this.gl.frontFace(d),this.current=d,this.dirty=!1)}}let Hd=class extends _r{getDefault(){return null}set(w){(w!==this.current||this.dirty)&&(this.gl.useProgram(w),this.current=w,this.dirty=!1)}};class hA extends _r{getDefault(){return this.gl.TEXTURE0}set(d){(d!==this.current||this.dirty)&&(this.gl.activeTexture(d),this.current=d,this.dirty=!1)}}class y1 extends _r{getDefault(){const d=this.gl;return[0,0,d.drawingBufferWidth,d.drawingBufferHeight]}set(d){const g=this.current;(d[0]!==g[0]||d[1]!==g[1]||d[2]!==g[2]||d[3]!==g[3]||this.dirty)&&(this.gl.viewport(d[0],d[1],d[2],d[3]),this.current=d,this.dirty=!1)}}class Qu extends _r{getDefault(){return null}set(d){if(d===this.current&&!this.dirty)return;const g=this.gl;g.bindFramebuffer(g.FRAMEBUFFER,d),this.current=d,this.dirty=!1}}class km extends _r{getDefault(){return null}set(d){if(d===this.current&&!this.dirty)return;const g=this.gl;g.bindRenderbuffer(g.RENDERBUFFER,d),this.current=d,this.dirty=!1}}class g0 extends _r{getDefault(){return null}set(d){if(d===this.current&&!this.dirty)return;const g=this.gl;g.bindTexture(g.TEXTURE_2D,d),this.current=d,this.dirty=!1}}class Qd extends _r{getDefault(){return null}set(d){if(d===this.current&&!this.dirty)return;const g=this.gl;g.bindBuffer(g.ARRAY_BUFFER,d),this.current=d,this.dirty=!1}}class mr extends _r{getDefault(){return null}set(d){const g=this.gl;g.bindBuffer(g.ELEMENT_ARRAY_BUFFER,d),this.current=d,this.dirty=!1}}class da extends _r{getDefault(){return null}set(d){this.gl&&(d!==this.current||this.dirty)&&(this.gl.bindVertexArray(d),this.current=d,this.dirty=!1)}}class fa extends _r{getDefault(){return 4}set(d){if(d===this.current&&!this.dirty)return;const g=this.gl;g.pixelStorei(g.UNPACK_ALIGNMENT,d),this.current=d,this.dirty=!1}}class Cu extends _r{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const g=this.gl;g.pixelStorei(g.UNPACK_PREMULTIPLY_ALPHA_WEBGL,d),this.current=d,this.dirty=!1}}class Eu extends _r{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const g=this.gl;g.pixelStorei(g.UNPACK_FLIP_Y_WEBGL,d),this.current=d,this.dirty=!1}}class Qi extends _r{constructor(d,g){super(d),this.context=d,this.parent=g}getDefault(){return null}}class Kh extends Qi{setDirty(){this.dirty=!0}set(d){if(d===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const g=this.gl;g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,d,0),this.current=d,this.dirty=!1}}class Wh extends Qi{attachment(){return this.gl.DEPTH_ATTACHMENT}set(d){if(d===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const g=this.gl;g.framebufferRenderbuffer(g.FRAMEBUFFER,this.attachment(),g.RENDERBUFFER,d),this.current=d,this.dirty=!1}}class Oo extends Qi{attachment(){return this.gl.DEPTH_ATTACHMENT}set(d){if(d===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const g=this.gl;g.framebufferTexture2D(g.FRAMEBUFFER,this.attachment(),g.TEXTURE_2D,d,0),this.current=d,this.dirty=!1}}class zl extends Wh{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class ys{constructor(d,g,x,B,L){this.context=d,this.width=g,this.height=x;const D=this.framebuffer=d.gl.createFramebuffer();B&&(this.colorAttachment=new Kh(d,D)),L&&(this.depthAttachmentType=L,this.depthAttachment=L==="renderbuffer"?new Wh(d,D):new Oo(d,D))}destroy(){const d=this.context.gl;if(this.colorAttachment){const g=this.colorAttachment.get();g&&d.deleteTexture(g)}if(this.depthAttachment&&this.depthAttachmentType)if(this.depthAttachmentType==="renderbuffer"){const g=this.depthAttachment.get();g&&d.deleteRenderbuffer(g)}else{const g=this.depthAttachment.get();g&&d.deleteTexture(g)}d.deleteFramebuffer(this.framebuffer)}}class rr{constructor(d,g,x){this.func=d,this.mask=g,this.range=x}}rr.ReadOnly=!1,rr.ReadWrite=!0,rr.disabled=new rr(519,rr.ReadOnly,[0,1]);const qh=7680;class si{constructor(d,g,x,B,L,D){this.test=d,this.ref=g,this.mask=x,this.fail=B,this.depthFail=L,this.pass=D}}si.disabled=new si({func:519,mask:0},0,0,qh,qh,qh);const dl=771;class Mi{constructor(d,g,x,B){this.blendFunction=d,this.blendColor=g,this.mask=x,this.blendEquation=B}}Mi.Replace=[1,0,1,0],Mi.disabled=new Mi(Mi.Replace,a.ax.transparent,[!1,!1,!1,!1]),Mi.unblended=new Mi(Mi.Replace,a.ax.transparent,[!0,!0,!0,!0]),Mi.alphaBlended=new Mi([1,dl,1,dl],a.ax.transparent,[!0,!0,!0,!0]),Mi.multiply=new Mi([774,0,774,0],a.ax.transparent,[!0,!0,!0,!0]);const Yh=1029,io=2305;class Vr{constructor(d,g,x){this.enable=d,this.mode=g,this.frontFace=x}}Vr.disabled=new Vr(!1,Yh,io),Vr.backCCW=new Vr(!0,Yh,io),Vr.backCW=new Vr(!0,Yh,2304),Vr.frontCW=new Vr(!0,1028,2304),Vr.frontCCW=new Vr(!0,1028,io);class v0{constructor(d,g){this.gl=d,this.clearColor=new ha(this),this.clearDepth=new is(this),this.clearStencil=new Ca(this),this.colorMask=new zc(this),this.depthMask=new iu(this),this.stencilMask=new jh(this),this.stencilFunc=new uA(this),this.stencilOp=new Gh(this),this.stencilTest=new $d(this),this.depthRange=new Vd(this),this.depthTest=new ho(this),this.depthFunc=new Uf(this),this.blend=new cA(this),this.blendFunc=new zf(this),this.blendColor=new $f(this),this.blendEquation=new Ul(this),this.cullFace=new Ga(this),this.cullFaceSide=new Ri(this),this.frontFace=new au(this),this.program=new Hd(this),this.activeTexture=new hA(this),this.viewport=new y1(this),this.bindFramebuffer=new Qu(this),this.bindRenderbuffer=new km(this),this.bindTexture=new g0(this),this.bindVertexBuffer=new Qd(this),this.bindElementBuffer=new mr(this),this.bindVertexArrayOES=new da(this),this.pixelStoreUnpack=new fa(this),this.pixelStoreUnpackPremultiplyAlpha=new Cu(this),this.pixelStoreUnpackFlipY=new Eu(this),this.options=g?{...g}:{},this.options.extTextureFilterAnisotropicForceOff||(this.extTextureFilterAnisotropic=d.getExtension("EXT_texture_filter_anisotropic")||d.getExtension("MOZ_EXT_texture_filter_anisotropic")||d.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=d.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT))),this.extDebugRendererInfo=d.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=d.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=d.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),this.options.extTextureFloatLinearForceOff||(this.extTextureFloatLinear=d.getExtension("OES_texture_float_linear")),this.extRenderToTextureHalfFloat=d.getExtension("EXT_color_buffer_half_float"),this.extTimerQuery=d.getExtension("EXT_disjoint_timer_query_webgl2"),this.maxTextureSize=d.getParameter(d.MAX_TEXTURE_SIZE),this.maxPointSize=d.getParameter(d.ALIASED_POINT_SIZE_RANGE)[1]}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArrayOES.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(d,g,x){return new jt(this,d,g,x)}createVertexBuffer(d,g,x,B,L){return new Pr(this,d,g,x,B,L)}createRenderbuffer(d,g,x){const B=this.gl,L=B.createRenderbuffer();return this.bindRenderbuffer.set(L),B.renderbufferStorage(B.RENDERBUFFER,d,g,x),this.bindRenderbuffer.set(null),L}createFramebuffer(d,g,x,B){return new ys(this,d,g,x,B)}clear({color:d,depth:g,stencil:x,colorMask:B}){const L=this.gl;let D=0;d&&(D|=L.COLOR_BUFFER_BIT,this.clearColor.set(d),this.colorMask.set(B||[!0,!0,!0,!0])),g!==void 0&&(D|=L.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(g),this.depthMask.set(!0)),x!==void 0&&(D|=L.STENCIL_BUFFER_BIT,this.clearStencil.set(x),this.stencilMask.set(255)),L.clear(D)}setCullFace(d){d.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(d.mode),this.frontFace.set(d.frontFace))}setDepthMode(d){d.func!==this.gl.ALWAYS||d.mask?(this.depthTest.set(!0),this.depthFunc.set(d.func),this.depthMask.set(d.mask),this.depthRange.set(d.range)):this.depthTest.set(!1)}setStencilMode(d){d.test.func!==this.gl.ALWAYS||d.mask?(this.stencilTest.set(!0),this.stencilMask.set(d.mask),this.stencilOp.set([d.fail,d.depthFail,d.pass]),this.stencilFunc.set({func:d.test.func,ref:d.ref,mask:d.test.mask})):this.stencilTest.set(!1)}setColorMode(d){f(d.blendFunction,Mi.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(d.blendFunction),this.blendColor.set(d.blendColor),d.blendEquation?this.blendEquation.set(d.blendEquation):this.blendEquation.setDefault()),this.colorMask.set(d.mask)}unbindVAO(){this.bindVertexArrayOES.set(null)}}var Xh=a.ay([{name:"a_pos",type:"Float32",components:3}]);class Gs{constructor(d,g,x,B){const L={width:x[0],height:x[1],data:null},D=d.gl;this.targetColorTexture=new a.T(d,L,D.RGBA,{useMipmap:!1}),this.backgroundColorTexture=new a.T(d,L,D.RGBA,{useMipmap:!1}),this.context=d,this.setNumParticles(g,B),this.lastInvalidatedAt=0}setNumParticles(d,g){if(this.numParticles===g)return;(this.particleVertices0||this.particleVertices1||this.particleSegment)&&(this.particleVertices0.destroy(),this.particleVertices1.destroy(),this.particleSegment.destroy());const x=new a.az;x.reserve(Math.round(g));const B=a.aA(d.key);for(let L=0;L<g;L++)x.emplaceBack(B(),B(),B());this.particleVertices0=this.context.createVertexBuffer(x,Xh.members,!0),this.particleVertices1=this.context.createVertexBuffer(x,Xh.members,!0),this.particleSegment=a.aB.simpleSegment(0,0,this.particleVertices0.length,0),this.numParticles=g}update(d){return!(this.lastInvalidatedAt<d&&(this.lastInvalidatedAt=a.f.now(),1))}destroy(){this.targetColorTexture.destroy(),this.backgroundColorTexture.destroy(),this.particleVertices0.destroy(),this.particleVertices1.destroy(),this.particleSegment.destroy()}}const $l={type:2,extent:a.V,loadGeometry:()=>[[new a.P(0,0),new a.P(a.V+1,0),new a.P(a.V+1,a.V+1),new a.P(0,a.V+1),new a.P(0,0)]]};class Su{constructor(d,g,x,B,L){this.tileID=d,this.uid=a.aC(),this.uses=0,this.tileSize=g,this.tileZoom=x,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=L,B&&B.style&&(this._lastUpdatedBrightness=B.style.getBrightness()),this.expiredRequestCount=0,this.state="loading",B&&B.transform&&(this.projection=B.transform.projection)}registerFadeDuration(d){const g=d+this.timeAdded;g<a.f.now()||this.fadeEndTime&&g<this.fadeEndTime||(this.fadeEndTime=g)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=a.as(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(d,g,x){if(this.unloadVectorData(),this.state="loaded",d){d.featureIndex&&(this.latestFeatureIndex=d.featureIndex,d.rawTileData?(this.latestRawTileData=d.rawTileData,this.latestFeatureIndex.rawTileData=d.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=d.collisionBoxArray,this.buckets=function(B,L){const D={};if(!L)return D;for(const $ of B){const Y=$.layerIds.map(ae=>L.getLayer(ae)).filter(Boolean);if(Y.length!==0){$.layers=Y,$.stateDependentLayerIds&&($.stateDependentLayers=$.stateDependentLayerIds.map(ae=>Y.filter(de=>de.id===ae)[0]));for(const ae of Y)D[ae.fqid]=$}}return D}(d.buckets,g.style),this.hasSymbolBuckets=!1;for(const B in this.buckets){const L=this.buckets[B];if(L instanceof a.aE){if(this.hasSymbolBuckets=!0,!x)break;L.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const B in this.buckets){const L=this.buckets[B];if(L instanceof a.aE&&L.hasRTLText){this.hasRTLText=!0,a.aF();break}}this.queryPadding=0;for(const B in this.buckets){const L=this.buckets[B],D=g.style.getOwnLayer(B);if(!D)continue;const $=D.queryRadius(L);this.queryPadding=Math.max(this.queryPadding,$)}d.imageAtlas&&(this.imageAtlas=d.imageAtlas),d.glyphAtlasImage&&(this.glyphAtlasImage=d.glyphAtlasImage),d.lineAtlas&&(this.lineAtlas=d.lineAtlas),this._lastUpdatedBrightness=d.brightness}else this.collisionBoxArray=new a.aD}unloadVectorData(){if(this.hasData()){for(const d in this.buckets)this.buckets[d].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(d){return this.buckets[d.fqid]}upload(d){for(const B in this.buckets){const L=this.buckets[B];L.uploadPending()&&L.upload(d)}const g=d.gl,x=this.imageAtlas;if(x&&!x.uploaded){const B=!!Object.keys(x.patternPositions).length;this.imageAtlasTexture=new a.T(d,x.image,g.RGBA,{useMipmap:B}),this.imageAtlas.uploaded=!0}this.glyphAtlasImage&&(this.glyphAtlasTexture=new a.T(d,this.glyphAtlasImage,g.R8),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new a.T(d,this.lineAtlas.image,g.R8),this.lineAtlas.uploaded=!0)}prepare(d,g,x){if(this.imageAtlas&&this.imageAtlasTexture&&this.imageAtlas.patchUpdatedImages(d,this.imageAtlasTexture,x),!g||!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData)return;const B=g.style.getBrightness();(this._lastUpdatedBrightness||B)&&(this._lastUpdatedBrightness&&B&&Math.abs(this._lastUpdatedBrightness-B)<.001||(this._lastUpdatedBrightness=B,this.updateBuckets(void 0,g)))}queryRenderedFeatures(d,g,x,B,L,D,$,Y){return this.latestFeatureIndex&&(this.latestFeatureIndex.rawTileData||this.latestFeatureIndex.is3DTile)?this.latestFeatureIndex.query({tileResult:B,pixelPosMatrix:$,transform:D,params:L,tileTransform:this.tileTransform},d,g,x):{}}querySourceFeatures(d,g){const x=this.latestFeatureIndex;if(!x||!x.rawTileData)return;const B=x.loadVTLayers(),L=g?g.sourceLayer:"",D=B._geojsonTileLayer||B[L];if(!D)return;const $=a.aG(g&&g.filter),{z:Y,x:ae,y:de}=this.tileID.canonical,Ae={z:Y,x:ae,y:de};for(let Ce=0;Ce<D.length;Ce++){const Me=D.feature(Ce);if($.needGeometry){const Ke=a.aH(Me,!0);if(!$.filter(new a.K(this.tileID.overscaledZ),Ke,this.tileID.canonical))continue}else if(!$.filter(new a.K(this.tileID.overscaledZ),Me))continue;const He=x.getId(Me,L),$e=new a.aI(Me,Y,ae,de,He);$e.tile=Ae,d.push($e)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}bucketsLoaded(){for(const d in this.buckets)if(this.buckets[d].uploadPending())return!1;return!0}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(d){const g=this.expirationTime;if(d.cacheControl){const x=a.aJ(d.cacheControl);x["max-age"]&&(this.expirationTime=Date.now()+1e3*x["max-age"])}else d.expires&&(this.expirationTime=new Date(d.expires).getTime());if(this.expirationTime){const x=Date.now();let B=!1;if(this.expirationTime>x)B=!1;else if(g)if(this.expirationTime<g)B=!0;else{const L=this.expirationTime-g;L?this.expirationTime=x+Math.max(L,3e4):B=!0}else B=!0;B?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(d,g){this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&Object.keys(d).length!==0&&g&&this.updateBuckets(d,g)}updateBuckets(d,g){if(!this.latestFeatureIndex)return;const x=this.latestFeatureIndex.loadVTLayers(),B=g.style.listImages(),L=g.style.getBrightness();for(const D in this.buckets){if(!g.style.hasLayer(D))continue;const $=this.buckets[D],Y=$.layers[0].sourceLayer||"_geojsonTileLayer",ae=x[Y];let de={};if(d&&(de=d[Y],!ae||!de||Object.keys(de).length===0))continue;if($.update(de,ae,B,this.imageAtlas&&this.imageAtlas.patternPositions||{},L),$ instanceof a.aK||$ instanceof a.aL){const Ce=g.style.getOwnSourceCache($.layers[0].source);g._terrain&&g._terrain.enabled&&Ce&&$.programConfigurations.needsUpload&&g._terrain._clearRenderCacheForTile(Ce.id,this.tileID)}const Ae=g&&g.style&&g.style.getOwnLayer(D);Ae&&(this.queryPadding=Math.max(this.queryPadding,Ae.queryRadius($)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<a.f.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(d){this.symbolFadeHoldUntil=a.f.now()+d}setTexture(d,g){const x=g.context,B=x.gl;this.texture=this.texture||g.getTileTexture(d.width),this.texture&&this.texture instanceof a.T?this.texture.update(d,{useMipmap:!0}):(this.texture=new a.T(x,d,B.RGBA,{useMipmap:!0}),this.texture.bind(B.LINEAR,B.CLAMP_TO_EDGE))}setDependencies(d,g){const x={};for(const B of g)x[B]=!0;this.dependencies[d]=x}hasDependency(d,g){for(const x of d){const B=this.dependencies[x];if(B){for(const L of g)if(B[L])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(d,g){if(!g||g.name==="mercator"||this._tileDebugBuffer)return;const x=a.aM($l,this.tileID.canonical,this.tileTransform)[0],B=new a.aN,L=new a.aO;for(let D=0;D<x.length;D++){const{x:$,y:Y}=x[D];B.emplaceBack($,Y),L.emplaceBack(D)}L.emplaceBack(0),this._tileDebugIndexBuffer=d.createIndexBuffer(L),this._tileDebugBuffer=d.createVertexBuffer(B,a.aP.members),this._tileDebugSegments=a.aB.simpleSegment(0,0,B.length,L.length)}_makeTileBoundsBuffers(d,g){if(this._tileBoundsBuffer||!g||g.name==="mercator")return;const x=a.aM($l,this.tileID.canonical,this.tileTransform)[0];let B,L;if(this.isRaster){const D=function($,Y){const ae=a.as($,Y),de=Math.pow(2,$.z);for(let Ke=0;Ke<Gn;Ke++)for(let Fe=0;Fe<Gn;Fe++){const Ze=a.at(($.x+(Fe+Zn(Fe))/er)/de),pt=a.au(($.y+(Ke+Zn(Ke))/er)/de),st=Y.project(Ze,pt),At=Ke*Gn+Fe;ti[2*At+0]=Math.round((st.x*ae.scale-ae.x)*a.V),ti[2*At+1]=Math.round((st.y*ae.scale-ae.y)*a.V)}Tn.fill(0),Kt.fill(0);for(let Ke=2045;Ke>=0;Ke--){const Fe=4*Ke,Ze=Mr[Fe+0],pt=Mr[Fe+1],st=Mr[Fe+2],At=Mr[Fe+3],qe=Ze+st>>1,mt=pt+At>>1,Ft=qe+mt-pt,Ot=mt+Ze-qe,Qt=pt*Gn+Ze,fn=At*Gn+st,Wt=mt*Gn+qe,xn=Math.hypot((ti[2*Qt+0]+ti[2*fn+0])/2-ti[2*Wt+0],(ti[2*Qt+1]+ti[2*fn+1])/2-ti[2*Wt+1])>=16;Tn[Wt]=Tn[Wt]||(xn?1:0),Ke<1022&&(Tn[Wt]=Tn[Wt]||Tn[(pt+Ot>>1)*Gn+(Ze+Ft>>1)]||Tn[(At+Ot>>1)*Gn+(st+Ft>>1)])}const Ae=new a.av,Ce=new a.aw;let Me=0;function He(Ke,Fe){const Ze=Fe*Gn+Ke;return Kt[Ze]===0&&(Ae.emplaceBack(ti[2*Ze+0],ti[2*Ze+1],Ke*a.V/er,Fe*a.V/er),Kt[Ze]=++Me),Kt[Ze]-1}function $e(Ke,Fe,Ze,pt,st,At){const qe=Ke+Ze>>1,mt=Fe+pt>>1;if(Math.abs(Ke-st)+Math.abs(Fe-At)>1&&Tn[mt*Gn+qe])$e(st,At,Ke,Fe,qe,mt),$e(Ze,pt,st,At,qe,mt);else{const Ft=He(Ke,Fe),Ot=He(Ze,pt),Qt=He(st,At);Ce.emplaceBack(Ft,Ot,Qt)}}return $e(0,0,er,er,er,0),$e(er,er,0,0,0,er),{vertices:Ae,indices:Ce}}(this.tileID.canonical,g);B=D.vertices,L=D.indices}else{B=new a.av,L=new a.aw;for(const{x:$,y:Y}of x)B.emplaceBack($,Y,0,0);const D=a.aQ(B.int16,void 0,4);for(let $=0;$<D.length;$+=3)L.emplaceBack(D[$],D[$+1],D[$+2])}this._tileBoundsBuffer=d.createVertexBuffer(B,a.aR.members),this._tileBoundsIndexBuffer=d.createIndexBuffer(L),this._tileBoundsSegments=a.aB.simpleSegment(0,0,B.length,L.length)}_makeGlobeTileDebugBuffers(d,g){const x=g.projection;if(!x||x.name!=="globe"||g.freezeTileCoverage)return;const B=this.tileID.canonical,L=a.aS(B,g),D=a.aT(L),$=a.S(g.zoom);let Y;$>0&&(Y=a.a6.invert(new Float64Array(16),g.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(d,B,g,D,Y,$),this._makeGlobeTileDebugTextBuffer(d,B,g,D,Y,$)}_globePoint(d,g,x,B,L,D,$){let Y=a.aU(d,g,x);if(D){const ae=1<<x.z,de=a.a5(B.center.lng),Ae=a.ae(B.center.lat),Ce=(x.x+.5)/ae-de;let Me=0;Ce>.5?Me=-1:Ce<-.5&&(Me=1);let He=(d/a.V+x.x)/ae+Me,$e=(g/a.V+x.y)/ae;He=(He-de)*B._pixelsPerMercatorPixel+de,$e=($e-Ae)*B._pixelsPerMercatorPixel+Ae;const Ke=[He*B.worldSize,$e*B.worldSize,0];a.N.transformMat4(Ke,Ke,D),Y=a.aV(Y,Ke,$)}return a.N.transformMat4(Y,Y,L)}_makeGlobeTileDebugBorderBuffer(d,g,x,B,L,D){const $=new a.aN,Y=new a.aO,ae=new a.aW,de=(Ce,Me,He,$e,Ke)=>{const Fe=(He-Ce)/(Ke-1),Ze=($e-Me)/(Ke-1),pt=$.length;for(let st=0;st<Ke;st++){const At=Ce+st*Fe,qe=Me+st*Ze;$.emplaceBack(At,qe);const mt=this._globePoint(At,qe,g,x,B,L,D);ae.emplaceBack(mt[0],mt[1],mt[2]),Y.emplaceBack(pt+st)}},Ae=a.V;de(0,0,Ae,0,16),de(Ae,0,Ae,Ae,16),de(Ae,Ae,0,Ae,16),de(0,Ae,0,0,16),this._tileDebugIndexBuffer=d.createIndexBuffer(Y),this._tileDebugBuffer=d.createVertexBuffer($,a.aP.members),this._globeTileDebugBorderBuffer=d.createVertexBuffer(ae,a.aX.members),this._tileDebugSegments=a.aB.simpleSegment(0,0,$.length,Y.length)}_makeGlobeTileDebugTextBuffer(d,g,x,B,L,D){const $=a.V/4,Y=new a.aN,ae=new a.aw,de=new a.aW,Ae=25;ae.reserve(32),Y.reserve(Ae),de.reserve(Ae);const Ce=(Me,He)=>Ae*Me+He;for(let Me=0;Me<Ae;Me++){const He=Me*$;for(let $e=0;$e<Ae;$e++){const Ke=$e*$;Y.emplaceBack(Ke,He);const Fe=this._globePoint(Ke,He,g,x,B,L,D);de.emplaceBack(Fe[0],Fe[1],Fe[2])}}for(let Me=0;Me<4;Me++)for(let He=0;He<4;He++){const $e=Ce(Me,He),Ke=Ce(Me,He+1),Fe=Ce(Me+1,He),Ze=Ce(Me+1,He+1);ae.emplaceBack($e,Ke,Fe),ae.emplaceBack(Fe,Ke,Ze)}this._tileDebugTextIndexBuffer=d.createIndexBuffer(ae),this._tileDebugTextBuffer=d.createVertexBuffer(Y,a.aP.members),this._globeTileDebugTextBuffer=d.createVertexBuffer(de,a.aX.members),this._tileDebugTextSegments=a.aB.simpleSegment(0,0,Ae,32)}destroy(d=!1){for(const g in this.buckets)this.buckets[g].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&(this.imageAtlasTexture.destroy(),delete this.imageAtlasTexture),this.glyphAtlasTexture&&(this.glyphAtlasTexture.destroy(),delete this.glyphAtlasTexture),this.lineAtlasTexture&&(this.lineAtlasTexture.destroy(),delete this.lineAtlasTexture),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),!d&&this.texture&&this.texture instanceof a.T&&(this.texture.destroy(),delete this.texture),this.hillshadeFBO&&(this.hillshadeFBO.destroy(),delete this.hillshadeFBO),this.dem&&delete this.dem,this.neighboringTiles&&delete this.neighboringTiles,this.demTexture&&(this.demTexture.destroy(),delete this.demTexture),this.rasterParticleState&&(this.rasterParticleState.destroy(),delete this.rasterParticleState),this.latestFeatureIndex=null,this.state="unloaded"}}const Vl={vector:an,raster:In,"raster-dem":class extends In{constructor(w,d,g,x){super(w,d,g,x),this.type="raster-dem",this.maxzoom=22,this._options=a.e({type:"raster-dem"},d),this.encoding=d.encoding||"mapbox"}loadTile(w,d){const g=this.map._requestManager.normalizeTileURL(w.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function x(B,L){B&&(w.state="errored",d(B)),L&&(w.dem=L,w.dem.onDeserialize(),w.needsHillshadePrepare=!0,w.needsDEMTextureUpload=!0,w.state="loaded",d(null))}w.request=a.d(this.map._requestManager.transformRequest(g,a.R.Tile),(function(B,L,D,$){if(delete w.request,w.aborted)w.state="unloaded",d(null);else if(B)w.state="errored",d(B);else if(L){this.map._refreshExpiredTiles&&w.setExpiryData({cacheControl:D,expires:$});const Y=ImageBitmap&&L instanceof ImageBitmap&&a.ak(),ae=1-(L.width-a.al(L.width))/2;ae<1||w.neighboringTiles||(w.neighboringTiles=this._getNeighboringTiles(w.tileID));const de=Y?L:a.f.getImageData(L,ae),Ae={uid:w.uid,coord:w.tileID,source:this.id,scope:this.scope,rawImageData:de,encoding:this.encoding,padding:ae};w.actor&&w.state!=="expired"||(w.actor=this.dispatcher.getActor(),w.actor.send("loadDEMTile",Ae,x.bind(this),void 0,!0))}}).bind(this))}_getNeighboringTiles(w){const d=w.canonical,g=Math.pow(2,d.z),x=(d.x-1+g)%g,B=d.x===0?w.wrap-1:w.wrap,L=(d.x+1+g)%g,D=d.x+1===g?w.wrap+1:w.wrap,$={};return $[new a.am(w.overscaledZ,B,d.z,x,d.y).key]={backfilled:!1},$[new a.am(w.overscaledZ,D,d.z,L,d.y).key]={backfilled:!1},d.y>0&&($[new a.am(w.overscaledZ,B,d.z,x,d.y-1).key]={backfilled:!1},$[new a.am(w.overscaledZ,w.wrap,d.z,d.x,d.y-1).key]={backfilled:!1},$[new a.am(w.overscaledZ,D,d.z,L,d.y-1).key]={backfilled:!1}),d.y+1<g&&($[new a.am(w.overscaledZ,B,d.z,x,d.y+1).key]={backfilled:!1},$[new a.am(w.overscaledZ,w.wrap,d.z,d.x,d.y+1).key]={backfilled:!1},$[new a.am(w.overscaledZ,D,d.z,L,d.y+1).key]={backfilled:!1}),$}},"raster-array":Pn,geojson:class extends a.E{constructor(w,d,g,x){super(),this.id=w,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=g.getActor(),this.setEventedParent(x),this._data=d.data,this._options=a.e({},d),this._collectResourceTiming=d.collectResourceTiming,d.maxzoom!==void 0&&(this.maxzoom=d.maxzoom),d.type&&(this.type=d.type),d.attribution&&(this.attribution=d.attribution),this.promoteId=d.promoteId;const B=a.V/this.tileSize;this.workerOptions=a.e({source:this.id,scope:this.scope,cluster:d.cluster||!1,geojsonVtOptions:{buffer:(d.buffer!==void 0?d.buffer:128)*B,tolerance:(d.tolerance!==void 0?d.tolerance:.375)*B,extent:a.V,maxZoom:this.maxzoom,lineMetrics:d.lineMetrics||!1,generateId:d.generateId||!1},superclusterOptions:{maxZoom:d.clusterMaxZoom!==void 0?d.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,d.clusterMinPoints||2),extent:a.V,radius:(d.clusterRadius!==void 0?d.clusterRadius:50)*B,log:!1,generateId:d.generateId||!1},clusterProperties:d.clusterProperties,filter:d.filter},d.workerOptions)}onAdd(w){this.map=w,this.setData(this._data)}setData(w){return this._data=w,this._updateWorkerData(),this}getClusterExpansionZoom(w,d){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:w,source:this.id,scope:this.scope},d),this}getClusterChildren(w,d){return this.actor.send("geojson.getClusterChildren",{clusterId:w,source:this.id,scope:this.scope},d),this}getClusterLeaves(w,d,g,x){return this.actor.send("geojson.getClusterLeaves",{source:this.id,scope:this.scope,clusterId:w,limit:d,offset:g},x),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new a.b("dataloading",{dataType:"source"})),this._loaded=!1;const w=a.e({},this.workerOptions);w.scope=this.scope;const d=this._data;typeof d=="string"?(w.request=this.map._requestManager.transformRequest(a.f.resolveURL(d),a.R.Source),w.request.collectResourceTiming=this._collectResourceTiming):w.data=JSON.stringify(d),this._pendingLoad=this.actor.send(`${this.type}.loadData`,w,(g,x)=>{if(this._loaded=!0,this._pendingLoad=null,g)this.fire(new a.a(g));else{const B={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&x&&x.resourceTiming&&x.resourceTiming[this.id]&&(B.resourceTiming=x.resourceTiming[this.id]),this.fire(new a.b("data",B)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(w,d){const g=w.actor?"reloadTile":"loadTile";w.actor=this.actor;const x={type:this.type,uid:w.uid,tileID:w.tileID,tileZoom:w.tileZoom,zoom:w.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,scope:this.scope,pixelRatio:a.f.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,brightness:this.map.style&&this.map.style.getBrightness()||0};w.request=this.actor.send(g,x,(B,L)=>(delete w.request,w.destroy(),w.aborted?d(null):B?d(B):(w.loadVectorData(L,this.map.painter,g==="reloadTile"),d(null))),void 0,g==="loadTile")}abortTile(w){w.request&&(w.request.cancel(),delete w.request),w.aborted=!0}unloadTile(w){this.actor.send("removeTile",{uid:w.uid,type:this.type,source:this.id,scope:this.scope}),w.destroy()}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return a.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends a.ap{constructor(w,d,g,x){super(w,d,g,x),this.roundZoom=!0,this.type="video",this.options=d}load(){this._loaded=!1;const w=this.options;this.urls=[];for(const d of w.urls)this.urls.push(this.map._requestManager.transformRequest(d,a.R.Source).url);a.aq(this.urls,(d,g)=>{this._loaded=!0,d?this.fire(new a.a(d)):g&&(this.video=g,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(w){if(this.video){const d=this.video.seekable;w<d.start(0)||w>d.end(0)?this.fire(new a.a(new J(`sources.${this.id}`,null,`Playback for this video can be set only between the ${d.start(0)} and ${d.end(0)}-second mark.`))):this.video.currentTime=w}}getVideo(){return this.video}onAdd(w){this.map||(this.map=w,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const w=this.map.painter.context,d=w.gl;this.texture?this.video.paused||(this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE),d.texSubImage2D(d.TEXTURE_2D,0,0,0,d.RGBA,d.UNSIGNED_BYTE,this.video)):(this.texture=new a.T(w,this.video,d.RGBA),this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(w)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:a.ap,model:class extends a.E{constructor(w,d,g,x){super(),this.id=w,this.type="model",this.models=[],this._loaded=!1,this._options=d}load(){const w=[];for(const d in this._options.models){const g=this._options.models[d],x=a.l(this.map._requestManager.transformRequest(g.uri,a.R.Model).url).then(B=>{if(!B)return;const L=a.c(B),D=new a.M(d,g.position,g.orientation,L);D.computeBoundsAndApplyParent(),this.models.push(D)}).catch(B=>{this.fire(new a.a(new Error(`Could not load model ${d} from ${g.uri}: ${B.message}`)))});w.push(x)}return Promise.allSettled(w).then(()=>{this._loaded=!0,this.fire(new a.b("data",{dataType:"source",sourceDataType:"metadata"}))}).catch(d=>{this.fire(new a.a(new Error(`Could not load models: ${d.message}`)))})}onAdd(w){this.map=w,this.load()}hasTransition(){return!1}loaded(){return this._loaded}getModels(){return this.models}loadTile(w,d){}serialize(){return{type:"model"}}},"batched-model":class extends a.E{constructor(w,d,g,x){super(),this.type="batched-model",this.id=w,this.tileSize=512,this._options=d,this.tiles=this._options.tiles,this.maxzoom=d.maxzoom||19,this.minzoom=d.minzoom||0,this.roundZoom=!0,this.usedInConflation=!0,this.dispatcher=g,this.reparseOverscaled=!1,this.scheme="xyz",this._loaded=!1,this.setEventedParent(x)}onAdd(w){this.map=w,this.load()}load(w){this._loaded=!1,this.fire(new a.b("dataloading",{dataType:"source"}));const d=Array.isArray(this.map._language)?this.map._language.join():this.map._language,g=this.map._worldview;this._tileJSONRequest=Hn(this._options,this.map._requestManager,d,g,(x,B)=>{this._tileJSONRequest=null,this._loaded=!0,x?(d&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${d}`),g&&g.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${g}`),this.fire(new a.a(x))):B&&(a.e(this,B),B.bounds&&(this.tileBounds=new Ht(B.bounds,this.minzoom,this.maxzoom)),a.aj(B.tiles,this.map._requestManager._customAccessToken),this.fire(new a.b("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.b("data",{dataType:"source",sourceDataType:"content"}))),w&&w(x)})}hasTransition(){return!1}hasTile(w){return!this.tileBounds||this.tileBounds.contains(w.canonical)}loaded(){return this._loaded}loadTile(w,d){const g=this.map._requestManager.normalizeTileURL(w.tileID.canonical.url(this.tiles,this.scheme)),x={request:this.map._requestManager.transformRequest(g,a.R.Tile),data:void 0,uid:w.uid,tileID:w.tileID,tileZoom:w.tileZoom,zoom:w.tileID.overscaledZ,tileSize:this.tileSize*w.tileID.overscaleFactor(),type:this.type,source:this.id,scope:this.scope,showCollisionBoxes:this.map.showCollisionBoxes,isSymbolTile:w.isSymbolTile,brightness:this.map.style&&this.map.style.getBrightness()||0};if(w.actor&&w.state!=="expired")if(w.state==="loading")w.reloadCallback=d;else{if(w.buckets){const L=Object.values(w.buckets);for(const D of L)D.dirty=!0;return void(w.state="loaded")}w.request=w.actor.send("reloadTile",x,B.bind(this))}else w.actor=this.dispatcher.getActor(),w.request=w.actor.send("loadTile",x,B.bind(this),void 0,!0);function B(L,D){return w.aborted?d(null):L&&L.status!==404?d(L):(D&&(D.resourceTiming&&(w.resourceTiming=D.resourceTiming),this.map._refreshExpiredTiles&&w.setExpiryData(D),w.buckets={...w.buckets,...D.buckets},D.featureIndex&&(w.latestFeatureIndex=D.featureIndex)),w.state="loaded",void d(null))}}serialize(){return a.e({},this._options)}},canvas:class extends a.ap{constructor(w,d,g,x){super(w,d,g,x),d.coordinates?Array.isArray(d.coordinates)&&d.coordinates.length===4&&!d.coordinates.some(B=>!Array.isArray(B)||B.length!==2||B.some(L=>typeof L!="number"))||this.fire(new a.a(new J(`sources.${w}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.a(new J(`sources.${w}`,null,'missing required property "coordinates"'))),d.animate&&typeof d.animate!="boolean"&&this.fire(new a.a(new J(`sources.${w}`,null,'optional "animate" property must be a boolean value'))),d.canvas?typeof d.canvas=="string"||d.canvas instanceof HTMLCanvasElement||this.fire(new a.a(new J(`sources.${w}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.a(new J(`sources.${w}`,null,'missing required property "canvas"'))),this.options=d,this.animate=d.animate===void 0||d.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.a(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(w){this.map=w,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let w=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,w=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,w=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const d=this.map.painter.context;this.texture?!w&&!this._playing||this.texture instanceof a.ar||this.texture.update(this.canvas,{premultiply:!0}):this.texture=new a.T(d,this.canvas,d.gl.RGBA,{premultiply:!0}),this._prepareData(d)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const w of[this.canvas.width,this.canvas.height])if(isNaN(w)||w<=0)return!0;return!1}},custom:class extends a.E{constructor(w,d,g,x){super(),this.id=w,this.type="custom",this._dataType="raster",this._dispatcher=g,this._implementation=d,this.setEventedParent(x),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new a.a(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new a.a(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new Ht(this._implementation.bounds,this.minzoom,this.maxzoom)),d.update=this._update.bind(this),d.clearTiles=this._clearTiles.bind(this),d.coveringTiles=this._coveringTiles.bind(this),a.e(this,a.ac(d,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return a.ac(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new a.b("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.b("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(w){this._map=w,this._loaded=!1,this.fire(new a.b("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(w),this.load()}onRemove(w){this._implementation.onRemove&&this._implementation.onRemove(w)}hasTile(w){if(this._implementation.hasTile){const{x:d,y:g,z:x}=w.canonical;return this._implementation.hasTile({x:d,y:g,z:x})}return!this.tileBounds||this.tileBounds.contains(w.canonical)}loadTile(w,d){const{x:g,y:x,z:B}=w.tileID.canonical,L=new AbortController;w.request=Promise.resolve(this._implementation.loadTile({x:g,y:x,z:B},{signal:L.signal})).then((function(D){return delete w.request,w.aborted?(w.state="unloaded",d(null)):D===void 0?(w.state="errored",d(null)):D===null?(this.loadTileData(w,{width:this.tileSize,height:this.tileSize,data:null}),w.state="loaded",d(null)):function($){return $ instanceof ImageData||$ instanceof HTMLCanvasElement||$ instanceof ImageBitmap||$ instanceof HTMLImageElement}(D)?(this.loadTileData(w,D),w.state="loaded",void d(null)):(w.state="errored",d(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}).bind(this)).catch(D=>{D.code!==20&&(w.state="errored",d(D))}),w.request.cancel=()=>L.abort()}loadTileData(w,d){w.setTexture(d,this._map.painter)}unloadTile(w,d){if(w.texture&&w.texture instanceof a.T?(w.destroy(!0),w.texture&&w.texture instanceof a.T&&this._map.painter.saveTileTexture(w.texture)):w.destroy(),this._implementation.unloadTile){const{x:g,y:x,z:B}=w.tileID.canonical;this._implementation.unloadTile({x:g,y:x,z:B})}d()}abortTile(w,d){w.request&&w.request.cancel&&(w.request.cancel(),delete w.request),d()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(w=>({x:w.canonical.x,y:w.canonical.y,z:w.canonical.z}))}_clearTiles(){const w=a.ag(this.id,this.scope);this._map.style.clearSource(w)}_update(){this.fire(new a.b("data",{dataType:"source",sourceDataType:"content"}))}}},Ks=function(w,d,g,x){const B=new Vl[d.type](w,d,g,x);if(B.id!==w)throw new Error(`Expected Source id to be ${w} instead of ${B.id}`);return a.aY(["load","abort","unload","serialize","prepare"],B),B};function Zh(w,d){const g=a.a6.identity([]);return a.a6.scale(g,g,[.5*w.width,.5*-w.height,1]),a.a6.translate(g,g,[1,-1,0]),a.a6.multiply(g,g,w.calculateProjMatrix(d.toUnwrapped())),Float32Array.from(g)}function Vf(w,d,g,x,B,L,D,$=!1){const Y=w.tilesIn(x,D,$);Y.sort(Jh);const ae=[];for(const Ae of Y)ae.push({wrappedTileID:Ae.tile.tileID.wrapped().key,queryResults:Ae.tile.queryRenderedFeatures(d,g,w._state,Ae,B,L,Zh(w.transform,Ae.tile.tileID),$)});const de=function(Ae){const Ce={},Me={};for(const He of Ae){const $e=He.queryResults,Ke=He.wrappedTileID,Fe=Me[Ke]=Me[Ke]||{};for(const Ze in $e){const pt=$e[Ze],st=Fe[Ze]=Fe[Ze]||{},At=Ce[Ze]=Ce[Ze]||[];for(const qe of pt)st[qe.featureIndex]||(st[qe.featureIndex]=!0,At.push(qe))}}return Ce}(ae);for(const Ae in de)de[Ae].forEach(Ce=>{const Me=Ce.feature,He=Me.layer;He&&He.type!=="background"&&He.type!=="sky"&&He.type!=="slot"&&(Me.source=He.source,He["source-layer"]&&(Me.sourceLayer=He["source-layer"]),Me.state=Me.id!==void 0?w.getFeatureState(He["source-layer"],Me.id):{})});return de}function Tu(w,d){const g=w.getRenderableIds().map(L=>w.getTileByID(L)),x=[],B={};for(let L=0;L<g.length;L++){const D=g[L],$=D.tileID.canonical.key;B[$]||(B[$]=!0,D.querySourceFeatures(x,d))}return x}function Jh(w,d){const g=w.tileID,x=d.tileID;return g.overscaledZ-x.overscaledZ||g.canonical.y-x.canonical.y||g.wrap-x.wrap||g.canonical.x-x.canonical.x}class uh extends Su{constructor(d,g,x,B,L){super(d,g,x,B,L),this._workQueue=[],this._fetchQueue=[],this._isHeaderLoaded=!1}setTexture(d,g){const x=g.context,B=x.gl;this.texture=this.texture||g.getTileTexture(d.width),this.texture&&this.texture instanceof a.T?this.texture.update(d,{useMipmap:!1,premultiply:!1}):this.texture=new a.T(x,d,B.RGBA,{useMipmap:!1,premultiply:!1})}flushQueues(){for(;this._workQueue.length;)this._workQueue.pop()();for(;this._fetchQueue.length;)this._fetchQueue.pop()()}fetchHeader(d=16384,g){const x=this._mrt=new a.aZ(30),B=Object.assign({},this.requestParams,{headers:{Range:"bytes=0-"+(d-1)}});return this.entireBuffer=null,this.request=a.a_(B,(L,D,$,Y)=>{if(L)g(L);else try{const ae=x.getHeaderLength(D);if(ae>d)return void(this.request=this.fetchHeader(ae,g));x.parseHeader(D),this._isHeaderLoaded=!0;let de=0;for(const Ae of Object.values(x.layers))de=Math.max(de,Ae.dataIndex[Ae.dataIndex.length-1].last_byte);D.byteLength>=de&&(this.entireBuffer=D),g(null,this.entireBuffer||D,$,Y)}catch(ae){g(ae)}}),this.request}fetchBand(d,g,x){const B=this._mrt;if(!this._isHeaderLoaded||!B)return void x(new Error("Tile header is not ready"));const L=this.actor;if(!L)return void x(new Error("Can't fetch tile band without an actor"));let D;const $=(Ae,Ce)=>{D.complete(Ae,Ce),Ae?x(Ae):(this.updateTextureDescriptor(d,g),x(null,this.textureDescriptor&&this.textureDescriptor.img))},Y=(Ae,Ce)=>{if(Ae)return x(Ae);const Me=L.send("decodeRasterArray",{buffer:Ce,task:D},$,void 0,!0);this._workQueue.push(()=>{Me&&Me.cancel(),D.cancel()})},ae=B.getLayer(d);if(!ae)return void x(new Error(`Unknown sourceLayer "${d}"`));if(ae.hasDataForBand(g))return this.updateTextureDescriptor(d,g),void x(null,this.textureDescriptor?this.textureDescriptor.img:null);const de=ae.getDataRange([g]);if(D=B.createDecodingTask(de),!D||D.tasks.length)if(this.flushQueues(),this.entireBuffer)Y(null,this.entireBuffer.slice(de.firstByte,de.lastByte+1));else{const Ae=Object.assign({},this.requestParams,{headers:{Range:`bytes=${de.firstByte}-${de.lastByte}`}}),Ce=a.a_(Ae,Y);this._fetchQueue.push(()=>{Ce.cancel(),D.cancel()})}else x(null)}updateNeeded(d,g){return(!this.textureDescriptor||this.textureDescriptor.band!==g||this.textureDescriptor.layer!==d)&&this.state!=="errored"}updateTextureDescriptor(d,g){if(!this._mrt)return;const x=this._mrt.getLayer(d);if(!x||!x.hasBand(g)||!x.hasDataForBand(g))return;const{bytes:B,tileSize:L,buffer:D,offset:$,scale:Y}=x.getBandView(g),ae=L+2*D,de={data:B,width:ae,height:ae},Ae=this.texture;Ae&&Ae instanceof a.T&&Ae.update(de,{useMipmap:!1,premultiply:!1}),this.textureDescriptor={layer:d,band:g,img:de,buffer:D,offset:$,tileSize:L,format:x.pixelFormat,mix:[Y,256*Y,65536*Y,16777216*Y]}}}class ed{constructor(d,g){this.max=d,this.onRemove=g,this.reset()}reset(){for(const d in this.data)for(const g of this.data[d])g.timeout&&clearTimeout(g.timeout),this.onRemove(g.value);return this.data={},this.order=[],this}add(d,g,x){const B=d.wrapped().key;this.data[B]===void 0&&(this.data[B]=[]);const L={value:g,timeout:void 0};if(x!==void 0&&(L.timeout=setTimeout(()=>{this.remove(d,L)},x)),this.data[B].push(L),this.order.push(B),this.order.length>this.max){const D=this._getAndRemoveByKey(this.order[0]);D&&this.onRemove(D)}return this}has(d){return d.wrapped().key in this.data}getAndRemove(d){return this.has(d)?this._getAndRemoveByKey(d.wrapped().key):null}_getAndRemoveByKey(d){const g=this.data[d].shift();return g.timeout&&clearTimeout(g.timeout),this.data[d].length===0&&delete this.data[d],this.order.splice(this.order.indexOf(d),1),g.value}getByKey(d){const g=this.data[d];return g?g[0].value:null}get(d){return this.has(d)?this.data[d.wrapped().key][0].value:null}remove(d,g){if(!this.has(d))return this;const x=d.wrapped().key,B=g===void 0?0:this.data[x].indexOf(g),L=this.data[x][B];return this.data[x].splice(B,1),L.timeout&&clearTimeout(L.timeout),this.data[x].length===0&&delete this.data[x],this.onRemove(L.value),this.order.splice(this.order.indexOf(x),1),this}setMaxSize(d){for(this.max=d;this.order.length>this.max;){const g=this._getAndRemoveByKey(this.order[0]);g&&this.onRemove(g)}return this}filter(d){const g=[];for(const x in this.data)for(const B of this.data[x])d(B.value)||g.push(B);for(const x of g)this.remove(x.value.tileID,x)}}class Bu extends a.E{constructor(d,g,x){super(),this.id=d,this._onlySymbols=x,g.on("data",B=>{B.dataType==="source"&&B.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&B.dataType==="source"&&B.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),g.on("error",()=>{this._sourceErrored=!0}),this._source=g,this._tiles={},this._cache=new ed(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=g.minTileCacheSize,this._maxTileCacheSize=g.maxTileCacheSize,this._loadedParentTiles={},this.castsShadows=!1,this.tileCoverLift=0,this._coveredTiles={},this._shadowCasterTiles={},this._state=new W,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="raster-array"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(d){this.map=d,this._minTileCacheSize=this._minTileCacheSize===void 0&&d?d._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&d?d._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const d in this._tiles){const g=this._tiles[d];if(g.state!=="errored"&&(g.state!=="loaded"||!g.bucketsLoaded()))return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const d=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,d&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(d,g){return d.isSymbolTile=this._onlySymbols,d.isExtraShadowCaster=this._shadowCasterTiles[d.tileID.key],this._source.loadTile(d,g)}_unloadTile(d){if(this._source.unloadTile)return this._source.unloadTile(d,()=>{})}_abortTile(d){if(this._source.abortTile)return this._source.abortTile(d,()=>{})}serialize(){return this._source.serialize()}prepare(d){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const g in this._tiles){const x=this._tiles[g];x.upload(d),x.prepare(this.map.style.imageManager,this.map?this.map.painter:null,this._source.scope)}}getIds(){return a.a$(this._tiles).map(d=>d.tileID).sort(lc).map(d=>d.key)}getRenderableIds(d,g){const x=[];for(const B in this._tiles)this._isIdRenderable(+B,d,g)&&x.push(this._tiles[B]);return d?x.sort((B,L)=>{const D=B.tileID,$=L.tileID,Y=new a.P(D.canonical.x,D.canonical.y)._rotate(this.transform.angle),ae=new a.P($.canonical.x,$.canonical.y)._rotate(this.transform.angle);return D.overscaledZ-$.overscaledZ||ae.y-Y.y||ae.x-Y.x}).map(B=>B.tileID.key):x.map(B=>B.tileID).sort(lc).map(B=>B.key)}hasRenderableParent(d){const g=this.findLoadedParent(d,0);return!!g&&this._isIdRenderable(g.tileID.key)}_isIdRenderable(d,g,x){return this._tiles[d]&&this._tiles[d].hasData()&&!this._coveredTiles[d]&&(g||!this._tiles[d].holdingForFade())&&(x||!this._shadowCasterTiles[d])}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const d in this._tiles)this._tiles[d].state!=="errored"&&this._reloadTile(+d,"reloading")}}_reloadTile(d,g){const x=this._tiles[d];x&&(x.state!=="loading"&&(x.state=g),this._loadTile(x,this._tileLoaded.bind(this,x,d,g)))}_tileLoaded(d,g,x,B){if(B)if(d.state="errored",B.status!==404)this._source.fire(new a.a(B,{tile:d}));else{if(!(d.tileID.key in this._loadedParentTiles))return void this._source.fire(new a.b("data",{dataType:"source",sourceDataType:"error",sourceId:this._source.id}));if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const L=this.map.painter.terrain;this.update(this.transform,L.getScaledDemTileSize(),!0),L.resetTileLookupCache(this.id)}else this.update(this.transform)}else d.timeAdded=a.f.now(),x==="expired"&&(d.refreshedUponExpiration=!0),this._setTileReloadTimer(g,d),this._source.type==="raster-dem"&&d.dem&&this._backfillDEM(d),this._state.initializeTileState(d,this.map?this.map.painter:null),this._source.fire(new a.b("data",{dataType:"source",tile:d,coord:d.tileID,sourceCacheId:this.id}))}_backfillDEM(d){const g=this.getRenderableIds();for(let B=0;B<g.length;B++){const L=g[B];if(d.neighboringTiles&&d.neighboringTiles[L]){const D=this.getTileByID(L);x(d,D),x(D,d)}}function x(B,L){if(!B.dem||B.dem.borderReady)return;B.needsHillshadePrepare=!0,B.needsDEMTextureUpload=!0;let D=L.tileID.canonical.x-B.tileID.canonical.x;const $=L.tileID.canonical.y-B.tileID.canonical.y,Y=Math.pow(2,B.tileID.canonical.z),ae=L.tileID.key;D===0&&$===0||Math.abs($)>1||(Math.abs(D)>1&&(Math.abs(D+Y)===1?D+=Y:Math.abs(D-Y)===1&&(D-=Y)),L.dem&&B.dem&&(B.dem.backfillBorder(L.dem,D,$),B.neighboringTiles&&B.neighboringTiles[ae]&&(B.neighboringTiles[ae].backfilled=!0)))}}getTile(d){return this.getTileByID(d.key)}getTileByID(d){return this._tiles[d]}_retainLoadedChildren(d,g,x,B){for(const L in this._tiles){let D=this._tiles[L];if(B[L]||!D.hasData()||D.tileID.overscaledZ<=g||D.tileID.overscaledZ>x)continue;let $=D.tileID;for(;D&&D.tileID.overscaledZ>g+1;){const ae=D.tileID.scaledTo(D.tileID.overscaledZ-1);D=this._tiles[ae.key],D&&D.hasData()&&($=ae)}let Y=$;for(;Y.overscaledZ>g;)if(Y=Y.scaledTo(Y.overscaledZ-1),d[Y.key]){B[$.key]=$;break}}}findLoadedParent(d,g){if(d.key in this._loadedParentTiles){const x=this._loadedParentTiles[d.key];return x&&x.tileID.overscaledZ>=g?x:null}for(let x=d.overscaledZ-1;x>=g;x--){const B=d.scaledTo(x),L=this._getLoadedTile(B);if(L)return L}}_getLoadedTile(d){const g=this._tiles[d.key];return g&&g.hasData()?g:this._cache.getByKey(this._source.reparseOverscaled?d.wrapped().key:d.canonical.key)}updateCacheSize(d,g){g=g||this._source.tileSize;const x=Math.ceil(d.width/g)+1,B=Math.ceil(d.height/g)+1,L=Math.floor(x*B*5),D=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,L):L,$=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,D):D;this._cache.setMaxSize($)}handleWrapJump(d){const g=Math.round((d-(this._prevLng===void 0?d:this._prevLng))/360);if(this._prevLng=d,g){const x={};for(const B in this._tiles){const L=this._tiles[B];L.tileID=L.tileID.unwrapTo(L.tileID.wrap+g),x[L.tileID.key]=L}this._tiles=x;for(const B in this._timers)clearTimeout(this._timers[B]),delete this._timers[B];for(const B in this._tiles)this._setTileReloadTimer(+B,this._tiles[B])}}update(d,g,x,B){if(this.transform=d,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!x)return;let L;if(this.updateCacheSize(d,g),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._shadowCasterTiles={},this._coveredTiles={},this.used||this.usedForTerrain)if(this._source.tileID)L=d.getVisibleUnwrappedCoordinates(this._source.tileID).map(Y=>new a.am(Y.canonical.z,Y.wrap,Y.canonical.z,Y.canonical.x,Y.canonical.y));else if(this.tileCoverLift!==0){const Y=d.clone();Y.tileCoverLift=this.tileCoverLift,L=Y.coveringTiles({tileSize:g||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!x,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.minzoom<=1&&d.projection.name==="globe"&&(L.push(new a.am(1,0,1,0,0)),L.push(new a.am(1,0,1,1,0)),L.push(new a.am(1,0,1,0,1)),L.push(new a.am(1,0,1,1,1)))}else L=d.coveringTiles({tileSize:g||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!x,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(L=L.filter(Y=>this._source.hasTile(Y)));else L=[];if(L.length>0&&this.castsShadows&&B&&this.transform.projection.name!=="globe"&&!this.usedForTerrain&&!Hl(this._source.type)){const Y=d.coveringZoomLevel({tileSize:g||this._source.tileSize,roundZoom:this._source.roundZoom&&!x}),ae=Math.min(Y,this._source.maxzoom),de=d.extendTileCoverForShadows(L,B,ae);for(const Ae of de)this._shadowCasterTiles[Ae.key]=!0,L.push(Ae)}const D=this._updateRetainedTiles(L);if(Hl(this._source.type)&&L.length!==0){const Y={},ae={},de=Object.keys(D);for(const Ce of de){const Me=D[Ce],He=this._tiles[Ce];if(!He||He.fadeEndTime&&He.fadeEndTime<=a.f.now())continue;const $e=this.findLoadedParent(Me,Math.max(Me.overscaledZ-Bu.maxOverzooming,this._source.minzoom));$e&&(this._addTile($e.tileID),Y[$e.tileID.key]=$e.tileID),ae[Ce]=Me}const Ae=L[L.length-1].overscaledZ;for(const Ce in this._tiles){const Me=this._tiles[Ce];if(D[Ce]||!Me.hasData())continue;let He=Me.tileID;for(;He.overscaledZ>Ae;){He=He.scaledTo(He.overscaledZ-1);const $e=this._tiles[He.key];if($e&&$e.hasData()&&ae[He.key]){D[Ce]=Me.tileID;break}}}for(const Ce in Y)D[Ce]||(this._coveredTiles[Ce]=!0,D[Ce]=Y[Ce])}for(const Y in D)this._tiles[Y].clearFadeHold();const $=a.b0(this._tiles,D);for(const Y of $){const ae=this._tiles[Y];ae.hasSymbolBuckets&&!ae.holdingForFade()?ae.setHoldDuration(this.map._fadeDuration):ae.hasSymbolBuckets&&!ae.symbolFadeFinished()||this._removeTile(+Y)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const d in this._tiles)this._tiles[d].holdingForFade()&&this._removeTile(+d)}_updateRetainedTiles(d){const g={};if(d.length===0)return g;const x={},B=d.reduce((ae,de)=>Math.min(ae,de.overscaledZ),1/0),L=d[0].overscaledZ,D=Math.max(L-Bu.maxOverzooming,this._source.minzoom),$=Math.max(L+Bu.maxUnderzooming,this._source.minzoom),Y={};for(const ae of d){const de=this._addTile(ae);g[ae.key]=ae,de.hasData()||B<this._source.maxzoom&&(Y[ae.key]=ae)}this._retainLoadedChildren(Y,B,$,g);for(const ae of d){let de=this._tiles[ae.key];if(de.hasData())continue;if(ae.canonical.z>=this._source.maxzoom){const Ce=ae.children(this._source.maxzoom)[0],Me=this.getTile(Ce);if(Me&&Me.hasData()){g[Ce.key]=Ce;continue}}else{const Ce=ae.children(this._source.maxzoom);if(g[Ce[0].key]&&g[Ce[1].key]&&g[Ce[2].key]&&g[Ce[3].key])continue}let Ae=de.wasRequested();for(let Ce=ae.overscaledZ-1;Ce>=D;--Ce){const Me=ae.scaledTo(Ce);if(x[Me.key]||(x[Me.key]=!0,de=this.getTile(Me),!de&&Ae&&(de=this._addTile(Me)),de&&(g[Me.key]=Me,Ae=de.wasRequested(),de.hasData())))break}}return g}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const d in this._tiles){const g=[];let x,B=this._tiles[d].tileID;for(;B.overscaledZ>0;){if(B.key in this._loadedParentTiles){x=this._loadedParentTiles[B.key];break}g.push(B.key);const L=B.scaledTo(B.overscaledZ-1);if(x=this._getLoadedTile(L),x)break;B=L}for(const L of g)this._loadedParentTiles[L]=x}}_addTile(d){let g=this._tiles[d.key];if(g)return g.isExtraShadowCaster!==!0||this._shadowCasterTiles[d.key]||this._reloadTile(d.key,"reloading"),g;g=this._cache.getAndRemove(d),g&&(this._setTileReloadTimer(d.key,g),g.tileID=d,this._state.initializeTileState(g,this.map?this.map.painter:null),this._cacheTimers[d.key]&&(clearTimeout(this._cacheTimers[d.key]),delete this._cacheTimers[d.key],this._setTileReloadTimer(d.key,g)));const x=!!g;if(!x){const B=this.map?this.map.painter:null,L=this._source.tileSize*d.overscaleFactor();g=this._source.type==="raster-array"?new uh(d,L,this.transform.tileZoom,B,this._isRaster):new Su(d,L,this.transform.tileZoom,B,this._isRaster),this._loadTile(g,this._tileLoaded.bind(this,g,d.key,g.state))}return g?(g.uses++,this._tiles[d.key]=g,x||this._source.fire(new a.b("dataloading",{tile:g,coord:g.tileID,dataType:"source"})),g):null}_setTileReloadTimer(d,g){d in this._timers&&(clearTimeout(this._timers[d]),delete this._timers[d]);const x=g.getExpiryTimeout();x&&(this._timers[d]=setTimeout(()=>{this._reloadTile(d,"expired"),delete this._timers[d]},x))}_removeTile(d){const g=this._tiles[d];g&&(g.uses--,delete this._tiles[d],this._timers[d]&&(clearTimeout(this._timers[d]),delete this._timers[d]),g.uses>0||(g.hasData()&&g.state!=="reloading"||g.state==="empty"?this._cache.add(g.tileID,g,g.getExpiryTimeout()):(g.aborted=!0,this._abortTile(g),this._unloadTile(g))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const d in this._tiles)this._removeTile(+d);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(d,g,x){const B=[],L=this.transform;if(!L)return B;const D=L.projection.name==="globe",$=a.a5(L.center.lng);for(const Y in this._tiles){const ae=this._tiles[Y];if(x&&ae.clearQueryDebugViz(),ae.holdingForFade())continue;let de;if(D){const Ae=ae.tileID.canonical;if(Ae.z===0){const Ce=[Math.abs(a.aa($,...Hf(Ae,-1))-$),Math.abs(a.aa($,...Hf(Ae,1))-$)];de=[0,2*Ce.indexOf(Math.min(...Ce))-1]}else{const Ce=[Math.abs(a.aa($,...Hf(Ae,-1))-$),Math.abs(a.aa($,...Hf(Ae,0))-$),Math.abs(a.aa($,...Hf(Ae,1))-$)];de=[Ce.indexOf(Math.min(...Ce))-1]}}else de=[0];for(const Ae of de){const Ce=d.containsTile(ae,L,g,Ae);Ce&&B.push(Ce)}}return B}getShadowCasterCoordinates(){return this._getRenderableCoordinates(!1,!0)}getVisibleCoordinates(d){return this._getRenderableCoordinates(d)}_getRenderableCoordinates(d,g){const x=this.getRenderableIds(d,g).map(L=>this._tiles[L].tileID),B=this.transform.projection.name==="globe";for(const L of x)L.projMatrix=this.transform.calculateProjMatrix(L.toUnwrapped()),L.expandedProjMatrix=B?this.transform.calculateProjMatrix(L.toUnwrapped(),!1,!0):L.projMatrix;return x}sortCoordinatesByDistance(d){const g=d.slice(),x=this.transform._camera.position,B=this.transform._camera.forward(),L={};for(const D of g){const $=1/(1<<D.canonical.z);L[D.key]=((D.canonical.x+.5)*$+D.wrap-x[0])*B[0]+((D.canonical.y+.5)*$-x[1])*B[1]-x[2]*B[2]}return g.sort((D,$)=>L[D.key]-L[$.key]),g}hasTransition(){if(this._source.hasTransition())return!0;if(Hl(this._source.type))for(const d in this._tiles){const g=this._tiles[d];if(g.fadeEndTime!==void 0&&g.fadeEndTime>=a.f.now())return!0}return!1}setFeatureState(d,g,x){this._state.updateState(d=d||"_geojsonTileLayer",g,x)}removeFeatureState(d,g,x){this._state.removeFeatureState(d=d||"_geojsonTileLayer",g,x)}getFeatureState(d,g){return this._state.getState(d=d||"_geojsonTileLayer",g)}setDependencies(d,g,x){const B=this._tiles[d];B&&B.setDependencies(g,x)}reloadTilesForDependencies(d,g){for(const x in this._tiles)this._tiles[x].hasDependency(d,g)&&this._reloadTile(+x,"reloading");this._cache.filter(x=>!x.hasDependency(d,g))}_preloadTiles(d,g){if(!this._sourceLoaded){const Y=()=>{this._sourceLoaded&&(this._source.off("data",Y),this._preloadTiles(d,g))};return void this._source.on("data",Y)}const x=new Map,B=Array.isArray(d)?d:[d],L=this.map.painter.terrain,D=this.usedForTerrain&&L?L.getScaledDemTileSize():this._source.tileSize;for(const Y of B){const ae=Y.coveringTiles({tileSize:D,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const de of ae)x.set(de.key,de);this.usedForTerrain&&Y.updateElevation(!1)}const $=Array.from(x.values());a.b1($,(Y,ae)=>{const de=new Su(Y,this._source.tileSize*Y.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(de,Ae=>{this._source.type==="raster-dem"&&de.dem&&this._backfillDEM(de),ae(Ae,de)})},g)}}function lc(w,d){const g=Math.abs(2*w.wrap)-+(w.wrap<0),x=Math.abs(2*d.wrap)-+(d.wrap<0);return w.overscaledZ-d.overscaledZ||x-g||d.canonical.y-w.canonical.y||d.canonical.x-w.canonical.x}function Hl(w){return w==="raster"||w==="image"||w==="video"||w==="custom"}function Hf(w,d){const g=1<<w.z;return[w.x/g+d,(w.x+1)/g+d]}Bu.maxOverzooming=10,Bu.maxUnderzooming=3;class td{constructor(d){this.style=d,this.layersGotHidden=!1,this.layers=[]}processLayersChanged(){this.layers=[];const d=!1,g=!1;for(const x in this.style._mergedLayers){const B=this.style._mergedLayers[x];if(B.type==="fill-extrusion")this.layers.push({layer:B,visible:d,visibilityChanged:g});else if(B.type==="model"){const L=this.style.getLayerSource(B);L&&L.type==="batched-model"&&this.layers.push({layer:B,visible:d,visibilityChanged:g})}}}onNewFrame(d){this.layersGotHidden=!1;for(const g of this.layers){const x=g.layer;let B=!1;x.type==="fill-extrusion"?B=!x.isHidden(d)&&x.paint.get("fill-extrusion-opacity")>0:x.type==="model"&&(B=!x.isHidden(d)&&x.paint.get("model-opacity")>0),this.layersGotHidden=this.layersGotHidden||!B&&g.visible,g.visible=B}}updateZOffset(d,g){this.currentBuildingBuckets=[];for(const B of this.layers){const L=B.layer,D=this.style.getLayerSourceCache(L);let $=1;L.type==="fill-extrusion"&&($=B.visible?L.paint.get("fill-extrusion-vertical-scale"):0);let Y=D?D.getTile(g):null;if(!Y&&D&&g.canonical.z>D.getSource().minzoom){let ae=g.scaledTo(Math.min(D.getSource().maxzoom,g.overscaledZ-1));for(;ae.overscaledZ>=D.getSource().minzoom&&(Y=D.getTile(ae),!Y&&ae.overscaledZ!==0);)ae=ae.scaledTo(ae.overscaledZ-1)}this.currentBuildingBuckets.push({bucket:Y?Y.getBucket(L):null,tileID:Y?Y.tileID:g,verticalScale:$})}d.hasAnyZOffset=!1;let x=!1;for(let B=0;B<d.symbolInstances.length;B++){const L=d.symbolInstances.get(B),D=L.zOffset,$=this._getHeightAtTileOffset(g,L.tileAnchorX,L.tileAnchorY);L.zOffset=$!==Number.NEGATIVE_INFINITY?$:D,x||D===L.zOffset||(x=!0),d.hasAnyZOffset||L.zOffset===0||(d.hasAnyZOffset=!0)}x&&(d.zOffsetBuffersNeedUpload=!0,d.zOffsetSortDirty=!0)}_mapCoordToOverlappingTile(d,g,x,B){let L=g,D=x;if(d.canonical.z!==B.canonical.z){const $=B.canonical,Y=1/(1<<d.canonical.z-$.z);L=(g+d.canonical.x*a.V)*Y-$.x*a.V|0,D=(x+d.canonical.y*a.V)*Y-$.y*a.V|0}return{tileX:L,tileY:D}}_getHeightAtTileOffset(d,g,x){let B,L;for(let D=0;D<this.layers.length;++D){if(this.layers[D].layer.type!=="fill-extrusion")continue;const{bucket:$,tileID:Y,verticalScale:ae}=this.currentBuildingBuckets[D];if(!$)continue;const{tileX:de,tileY:Ae}=this._mapCoordToOverlappingTile(d,g,x,Y),Ce=$.getHeightAtTileCoord(de,Ae);Ce&&Ce.height!==void 0&&(Ce.hidden?B=Ce.height:L=Math.max(Ce.height*ae,L||0))}if(L!==void 0)return L;for(let D=0;D<this.layers.length;++D){const $=this.layers[D];if($.layer.type!=="model"||!$.visible)continue;const{bucket:Y,tileID:ae}=this.currentBuildingBuckets[D];if(!Y)continue;const{tileX:de,tileY:Ae}=this._mapCoordToOverlappingTile(d,g,x,ae),Ce=Y.getHeightAtTileCoord(de,Ae);if(Ce&&!Ce.hidden)return Ce.height===void 0&&B!==void 0?Math.min(Ce.maxHeight,B)*Ce.verticalScale:(Ce.height||0)*Ce.verticalScale}return this.layersGotHidden?0:Number.NEGATIVE_INFINITY}}function fl(w,d){const g={};for(const x in w)x!=="ref"&&(g[x]=w[x]);return a.b2.forEach(x=>{x in d&&(g[x]=d[x])}),g}function dA(w){w=w.slice();const d=Object.create(null);for(let g=0;g<w.length;g++)d[w[g].id]=w[g];for(let g=0;g<w.length;g++)"ref"in w[g]&&(w[g]=fl(w[g],d[w[g].ref]));return w}const Oi={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setSlot:"setSlot",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setCamera:"setCamera",setLights:"setLights",setProjection:"setProjection",addImport:"addImport",removeImport:"removeImport",updateImport:"updateImport"};function Qf(w,d,g){g.push({command:Oi.addSource,args:[w,d[w]]})}function jd(w,d,g){d.push({command:Oi.removeSource,args:[w]}),g[w]=!0}function b1(w,d,g,x){jd(w,g,x),Qf(w,d,g)}function Rm(w,d,g){let x;for(x in w[g])if(w[g].hasOwnProperty(x)&&x!=="data"&&!f(w[g][x],d[g][x]))return!1;for(x in d[g])if(d[g].hasOwnProperty(x)&&x!=="data"&&!f(w[g][x],d[g][x]))return!1;return!0}function uc(w,d,g,x,B,L){let D;for(D in d=d||{},w=w||{})w.hasOwnProperty(D)&&(f(w[D],d[D])||g.push({command:L,args:[x,D,d[D],B]}));for(D in d)d.hasOwnProperty(D)&&!w.hasOwnProperty(D)&&(f(w[D],d[D])||g.push({command:L,args:[x,D,d[D],B]}))}function $c(w){return w.id}function nd(w,d){return w[d.id]=d,w}class ch{constructor(d,g){this.reset(d,g)}reset(d,g){this.points=d||[],this._distances=[0];for(let x=1;x<this.points.length;x++)this._distances[x]=this._distances[x-1]+this.points[x].dist(this.points[x-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(g||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(d){if(this.points.length===1)return this.points[0];d=a.aa(d,0,1);let g=1,x=this._distances[g];const B=d*this.paddedLength+this.padding;for(;x<B&&g<this._distances.length;)x=this._distances[++g];const L=g-1,D=this._distances[L],$=x-D,Y=$>0?(B-D)/$:0;return this.points[L].mult(1-Y).add(this.points[g].mult(Y))}}class jf{constructor(d,g,x){const B=this.boxCells=[],L=this.circleCells=[];this.xCellCount=Math.ceil(d/x),this.yCellCount=Math.ceil(g/x);for(let D=0;D<this.xCellCount*this.yCellCount;D++)B.push([]),L.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=d,this.height=g,this.xScale=this.xCellCount/d,this.yScale=this.yCellCount/g,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(d,g,x,B,L){this._forEachCell(g,x,B,L,this._insertBoxCell,this.boxUid++),this.boxKeys.push(d),this.bboxes.push(g),this.bboxes.push(x),this.bboxes.push(B),this.bboxes.push(L)}insertCircle(d,g,x,B){this._forEachCell(g-B,x-B,g+B,x+B,this._insertCircleCell,this.circleUid++),this.circleKeys.push(d),this.circles.push(g),this.circles.push(x),this.circles.push(B)}_insertBoxCell(d,g,x,B,L,D){this.boxCells[L].push(D)}_insertCircleCell(d,g,x,B,L,D){this.circleCells[L].push(D)}_query(d,g,x,B,L,D){if(x<0||d>this.width||B<0||g>this.height)return!L&&[];const $=[];if(d<=0&&g<=0&&this.width<=x&&this.height<=B){if(L)return!0;for(let Y=0;Y<this.boxKeys.length;Y++)$.push({key:this.boxKeys[Y],x1:this.bboxes[4*Y],y1:this.bboxes[4*Y+1],x2:this.bboxes[4*Y+2],y2:this.bboxes[4*Y+3]});for(let Y=0;Y<this.circleKeys.length;Y++){const ae=this.circles[3*Y],de=this.circles[3*Y+1],Ae=this.circles[3*Y+2];$.push({key:this.circleKeys[Y],x1:ae-Ae,y1:de-Ae,x2:ae+Ae,y2:de+Ae})}return D?$.filter(D):$}return this._forEachCell(d,g,x,B,this._queryCell,$,{hitTest:L,seenUids:{box:{},circle:{}}},D),L?$.length>0:$}_queryCircle(d,g,x,B,L){const D=d-x,$=d+x,Y=g-x,ae=g+x;if($<0||D>this.width||ae<0||Y>this.height)return!B&&[];const de=[];return this._forEachCell(D,Y,$,ae,this._queryCellCircle,de,{hitTest:B,circle:{x:d,y:g,radius:x},seenUids:{box:{},circle:{}}},L),B?de.length>0:de}query(d,g,x,B,L){return this._query(d,g,x,B,!1,L)}hitTest(d,g,x,B,L){return this._query(d,g,x,B,!0,L)}hitTestCircle(d,g,x,B){return this._queryCircle(d,g,x,!0,B)}_queryCell(d,g,x,B,L,D,$,Y){const ae=$.seenUids,de=this.boxCells[L];if(de!==null){const Ce=this.bboxes;for(const Me of de)if(!ae.box[Me]){ae.box[Me]=!0;const He=4*Me;if(d<=Ce[He+2]&&g<=Ce[He+3]&&x>=Ce[He+0]&&B>=Ce[He+1]&&(!Y||Y(this.boxKeys[Me]))){if($.hitTest)return D.push(!0),!0;D.push({key:this.boxKeys[Me],x1:Ce[He],y1:Ce[He+1],x2:Ce[He+2],y2:Ce[He+3]})}}}const Ae=this.circleCells[L];if(Ae!==null){const Ce=this.circles;for(const Me of Ae)if(!ae.circle[Me]){ae.circle[Me]=!0;const He=3*Me;if(this._circleAndRectCollide(Ce[He],Ce[He+1],Ce[He+2],d,g,x,B)&&(!Y||Y(this.circleKeys[Me]))){if($.hitTest)return D.push(!0),!0;{const $e=Ce[He],Ke=Ce[He+1],Fe=Ce[He+2];D.push({key:this.circleKeys[Me],x1:$e-Fe,y1:Ke-Fe,x2:$e+Fe,y2:Ke+Fe})}}}}}_queryCellCircle(d,g,x,B,L,D,$,Y){const ae=$.circle,de=$.seenUids,Ae=this.boxCells[L];if(Ae!==null){const Me=this.bboxes;for(const He of Ae)if(!de.box[He]){de.box[He]=!0;const $e=4*He;if(this._circleAndRectCollide(ae.x,ae.y,ae.radius,Me[$e+0],Me[$e+1],Me[$e+2],Me[$e+3])&&(!Y||Y(this.boxKeys[He])))return D.push(!0),!0}}const Ce=this.circleCells[L];if(Ce!==null){const Me=this.circles;for(const He of Ce)if(!de.circle[He]){de.circle[He]=!0;const $e=3*He;if(this._circlesCollide(Me[$e],Me[$e+1],Me[$e+2],ae.x,ae.y,ae.radius)&&(!Y||Y(this.circleKeys[He])))return D.push(!0),!0}}}_forEachCell(d,g,x,B,L,D,$,Y){const ae=this._convertToXCellCoord(d),de=this._convertToYCellCoord(g),Ae=this._convertToXCellCoord(x),Ce=this._convertToYCellCoord(B);for(let Me=ae;Me<=Ae;Me++)for(let He=de;He<=Ce;He++)if(L.call(this,d,g,x,B,this.xCellCount*He+Me,D,$,Y))return}_convertToXCellCoord(d){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(d*this.xScale)))}_convertToYCellCoord(d){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(d*this.yScale)))}_circlesCollide(d,g,x,B,L,D){const $=B-d,Y=L-g,ae=x+D;return ae*ae>$*$+Y*Y}_circleAndRectCollide(d,g,x,B,L,D,$){const Y=(D-B)/2,ae=Math.abs(d-(B+Y));if(ae>Y+x)return!1;const de=($-L)/2,Ae=Math.abs(g-(L+de));if(Ae>de+x)return!1;if(ae<=Y||Ae<=de)return!0;const Ce=ae-Y,Me=Ae-de;return Ce*Ce+Me*Me<=x*x}}const cc={unknown:0,flipRequired:1,flipNotRequired:2},hh=Math.tan(85*Math.PI/180);function dh(w,d,g,x,B,L,D){const $=a.a6.create();if(g)if(L.name==="globe"){const Y=a.b3(B,d);a.a6.multiply($,$,Y)}else{const Y=a.b4.invert([],D);$[0]=Y[0],$[1]=Y[1],$[4]=Y[2],$[5]=Y[3],x||a.a6.rotateZ($,$,B.angle)}else a.a6.multiply($,B.labelPlaneMatrix,w);return $}function rd(w,d,g,x,B,L,D){const $=dh(w,d,g,x,B,L,D);return L.name==="globe"&&g||($[2]=$[6]=$[10]=$[14]=0),$}function Gf(w,d,g,x,B,L,D){if(g){if(L.name==="globe"){const $=dh(w,d,g,x,B,L,D);return a.a6.invert($,$),a.a6.multiply($,w,$),$}{const $=a.a6.clone(w),Y=a.a6.identity([]);return Y[0]=D[0],Y[1]=D[1],Y[4]=D[2],Y[5]=D[3],a.a6.multiply($,$,Y),x||a.a6.rotateZ($,$,-B.angle),$}}return B.glCoordMatrix}function $o(w,d,g,x){const B=[w,d,g,1];g?a.a7.transformMat4(B,B,x):ia(B,B,x);const L=B[3];return B[0]/=L,B[1]/=L,B[2]/=L,B}function fA(w,d){return Math.min(.5+w/d*.5,1.5)}function me(w,d){const g=w[0]/w[3],x=w[1]/w[3];return g>=-d[0]&&g<=d[0]&&x>=-d[1]&&x<=d[1]}function tt(w,d,g,x,B,L,D,$,Y,ae){const de=g.transform,Ae=x?w.textSizeData:w.iconSizeData,Ce=a.b5(Ae,g.transform.zoom),Me=de.projection.name==="globe",He=[256/g.width*2+1,256/g.height*2+1],$e=x?w.text.dynamicLayoutVertexArray:w.icon.dynamicLayoutVertexArray;$e.clear();let Ke=null;Me&&(Ke=x?w.text.globeExtVertexArray:w.icon.globeExtVertexArray);const Fe=w.lineVertexArray,Ze=x?w.text.placedSymbolArray:w.icon.placedSymbolArray,pt=g.transform.width/g.transform.height;let st,At=!1;for(let qe=0;qe<Ze.length;qe++){const mt=Ze.get(qe),{numGlyphs:Ft,writingMode:Ot}=mt;if(Ot!==a.b6.vertical||At||st===a.b6.horizontal||(At=!0),st=Ot,(mt.hidden||Ot===a.b6.vertical)&&!At){mi(Ft,$e);continue}At=!1;const Qt=new a.P(mt.tileAnchorX,mt.tileAnchorY);let{x:fn,y:Wt,z:xn}=de.projection.projectTilePoint(Qt.x,Qt.y,ae.canonical);if(Y){const[pr,Ir,jr]=Y(Qt);fn+=pr,Wt+=Ir,xn+=jr}const _n=[fn,Wt,xn,1];if(a.a7.transformMat4(_n,_n,d),!me(_n,He)){mi(Ft,$e);continue}const $n=_n[3],Yt=fA(g.transform.getCameraToCenterDistance(de.projection),$n),mn=a.b7(Ae,Ce,mt),$t=D?mn/Yt:mn*Yt,on=$o(fn,Wt,xn,B);if(on[3]<=0){mi(Ft,$e);continue}let Kn={};const ir=D?null:Y,nr=wn(mt,$t,!1,$,d,B,L,w.glyphOffsetArray,Fe,$e,Ke,on,Qt,Kn,pt,ir,de.projection,ae,D);At=nr.useVertical,ir&&nr.needsFlipping&&(Kn={}),(nr.notEnoughRoom||At||nr.needsFlipping&&wn(mt,$t,!0,$,d,B,L,w.glyphOffsetArray,Fe,$e,Ke,on,Qt,Kn,pt,ir,de.projection,ae,D).notEnoughRoom)&&mi(Ft,$e)}x?(w.text.dynamicLayoutVertexBuffer.updateData($e),Ke&&w.text.globeExtVertexBuffer&&w.text.globeExtVertexBuffer.updateData(Ke)):(w.icon.dynamicLayoutVertexBuffer.updateData($e),Ke&&w.icon.globeExtVertexBuffer&&w.icon.globeExtVertexBuffer.updateData(Ke))}function zt(w,d,g,x,B,L,D,$,Y,ae,de,Ae,Ce,Me,He,$e){const{lineStartIndex:Ke,glyphStartIndex:Fe,segment:Ze}=$,pt=Fe+$.numGlyphs,st=Ke+$.lineLength,At=d.getoffsetX(Fe),qe=d.getoffsetX(pt-1),mt=Wr(w*At,g,x,B,L,D,Ze,Ke,st,Y,ae,de,Ae,Ce,!0,Me,He,$e);if(!mt)return null;const Ft=Wr(w*qe,g,x,B,L,D,Ze,Ke,st,Y,ae,de,Ae,Ce,!0,Me,He,$e);return Ft?{first:mt,last:Ft}:null}function Zt(w,d,g,x){return w===a.b6.horizontal&&Math.abs(x)>Math.abs(g)?{useVertical:!0}:w===a.b6.vertical?x>0?{needsFlipping:!0}:null:d!==cc.unknown&&function(B,L){return B===0||Math.abs(L/B)>hh}(g,x)?d===cc.flipRequired?{needsFlipping:!0}:null:g<0?{needsFlipping:!0}:null}function wn(w,d,g,x,B,L,D,$,Y,ae,de,Ae,Ce,Me,He,$e,Ke,Fe,Ze){const pt=d/24,st=w.lineOffsetX*pt,At=w.lineOffsetY*pt,{lineStartIndex:qe,glyphStartIndex:mt,numGlyphs:Ft,segment:Ot,writingMode:Qt,flipState:fn}=w,Wt=qe+w.lineLength,xn=_n=>{if(de){const[$t,on,Kn]=_n.up,ir=ae.length;a.b8(de,ir+0,$t,on,Kn),a.b8(de,ir+1,$t,on,Kn),a.b8(de,ir+2,$t,on,Kn),a.b8(de,ir+3,$t,on,Kn)}const[$n,Yt,mn]=_n.point;a.b9(ae,$n,Yt,mn,_n.angle)};if(Ft>1){const _n=zt(pt,$,st,At,g,Ae,Ce,w,Y,L,Me,$e,!1,Ke,Fe,Ze);if(!_n)return{notEnoughRoom:!0};if(x&&!g){let[$n,Yt,mn]=_n.first.point,[$t,on,Kn]=_n.last.point;[$n,Yt]=$o($n,Yt,mn,D),[$t,on]=$o($t,on,Kn,D);const ir=Zt(Qt,fn,($t-$n)*He,on-Yt);if(w.flipState=ir&&ir.needsFlipping?cc.flipRequired:cc.flipNotRequired,ir)return ir}xn(_n.first);for(let $n=mt+1;$n<mt+Ft-1;$n++){const Yt=Wr(pt*$.getoffsetX($n),st,At,g,Ae,Ce,Ot,qe,Wt,Y,L,Me,$e,!1,!1,Ke,Fe,Ze);if(!Yt)return ae.length-=4*($n-mt),{notEnoughRoom:!0};xn(Yt)}xn(_n.last)}else{if(x&&!g){const $n=$o(Ce.x,Ce.y,0,B),Yt=qe+Ot+1,mn=new a.P(Y.getx(Yt),Y.gety(Yt)),$t=$o(mn.x,mn.y,0,B),on=$t[3]>0?$t:vr(Ce,mn,$n,1,B,void 0,Ke,Fe.canonical),Kn=Zt(Qt,fn,(on[0]-$n[0])*He,on[1]-$n[1]);if(w.flipState=Kn&&Kn.needsFlipping?cc.flipRequired:cc.flipNotRequired,Kn)return Kn}const _n=Wr(pt*$.getoffsetX(mt),st,At,g,Ae,Ce,Ot,qe,Wt,Y,L,Me,$e,!1,!1,Ke,Fe,Ze);if(!_n)return{notEnoughRoom:!0};xn(_n)}return{}}function Wn(w,d,g,x,B){const{x:L,y:D,z:$}=x.projectTilePoint(w.x,w.y,d);if(!B)return $o(L,D,$,g);const[Y,ae,de]=B(w);return $o(L+Y,D+ae,$+de,g)}function vr(w,d,g,x,B,L,D,$){const Y=Wn(w.sub(d)._unit()._add(w),$,B,D,L);return a.N.sub(Y,g,Y),a.N.normalize(Y,Y),a.N.scaleAndAdd(Y,g,Y,x)}function Wr(w,d,g,x,B,L,D,$,Y,ae,de,Ae,Ce,Me,He,$e,Ke,Fe){const Ze=x?w-d:w+d;let pt=Ze>0?1:-1,st=0;x&&(pt*=-1,st=Math.PI),pt<0&&(st+=Math.PI);let At=$+D+(pt>0?0:1)|0,qe=B,mt=B,Ft=0,Ot=0;const Qt=Math.abs(Ze),fn=[],Wt=[];let xn=L,_n=xn;const $n=()=>vr(_n,xn,mt,Qt-Ft+1,de,Ce,$e,Ke.canonical);for(;Ft+Ot<=Qt;){if(At+=pt,At<$||At>=Y)return null;if(mt=qe,_n=xn,fn.push(mt),Me&&Wt.push(_n),xn=new a.P(ae.getx(At),ae.gety(At)),qe=Ae[At],!qe){const Ir=Wn(xn,Ke.canonical,de,$e,Ce);qe=Ir[3]>0?Ae[At]=Ir:$n()}Ft+=Ot,Ot=a.N.distance(mt,qe)}He&&Ce&&(Ae[At]&&(qe=$n(),Ot=a.N.distance(mt,qe)),Ae[At]=qe);const Yt=(Qt-Ft)/Ot,mn=xn.sub(_n)._mult(Yt)._add(_n),$t=a.N.sub([],qe,mt),on=a.N.scaleAndAdd([],mt,$t,Yt);let Kn=[0,0,1],ir=$t[0],nr=$t[1];if(Fe&&(Kn=$e.upVector(Ke.canonical,mn.x,mn.y),Kn[0]!==0||Kn[1]!==0||Kn[2]!==1)){const Ir=[Kn[2],0,-Kn[0]],jr=a.N.cross([],Kn,Ir);a.N.normalize(Ir,Ir),a.N.normalize(jr,jr),ir=a.N.dot($t,Ir),nr=a.N.dot($t,jr)}if(g){const Ir=a.N.cross([],Kn,$t);a.N.normalize(Ir,Ir),a.N.scaleAndAdd(on,on,Ir,g*pt)}const pr=st+Math.atan2(nr,ir);return fn.push(on),Me&&Wt.push(mn),{point:on,angle:pr,path:fn,tilePath:Wt,up:Kn}}function mi(w,d){const g=d.length,x=g+4*w;d.resize(x),d.float32.fill(-1/0,4*g,4*x)}function ia(w,d,g){const x=d[0],B=d[1];return w[0]=g[0]*x+g[4]*B+g[12],w[1]=g[1]*x+g[5]*B+g[13],w[3]=g[3]*x+g[7]*B+g[15],w}const ji=100;class zn{constructor(d,g,x=new jf(d.width+200,d.height+200,25),B=new jf(d.width+200,d.height+200,25)){this.transform=d,this.grid=x,this.ignoredGrid=B,this.pitchfactor=Math.cos(d._pitch)*d.cameraToCenterDistance,this.screenRightBoundary=d.width+ji,this.screenBottomBoundary=d.height+ji,this.gridRightBoundary=d.width+200,this.gridBottomBoundary=d.height+200,this.fogState=g}placeCollisionBox(d,g,x,B,L,D,$,Y){let ae=x.projectedAnchorX,de=x.projectedAnchorY,Ae=x.projectedAnchorZ;const Ce=x.elevation,Me=x.tileID,He=d.getProjection();if(Ce&&Me){const[qe,mt,Ft]=He.upVector(Me.canonical,x.tileAnchorX,x.tileAnchorY),Ot=He.upVectorScale(Me.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;ae+=qe*Ce*Ot,de+=mt*Ce*Ot,Ae+=Ft*Ce*Ot}const $e=this.projectAndGetPerspectiveRatio($,ae,de,Ae,x.tileID,He.name==="globe"||!!Ce||this.transform.pitch>0,He),Ke=D*$e.perspectiveRatio,Fe=(x.x1*g+B.x-x.padding)*Ke+$e.point.x,Ze=(x.y1*g+B.y-x.padding)*Ke+$e.point.y,pt=(x.x2*g+B.x+x.padding)*Ke+$e.point.x,st=(x.y2*g+B.y+x.padding)*Ke+$e.point.y,At=$e.perspectiveRatio<=.55||$e.occluded;return!this.isInsideGrid(Fe,Ze,pt,st)||!L&&this.grid.hitTest(Fe,Ze,pt,st,Y)||At?{box:[],offscreen:!1,occluded:$e.occluded}:{box:[Fe,Ze,pt,st],offscreen:this.isOffscreen(Fe,Ze,pt,st),occluded:!1}}placeCollisionCircles(d,g,x,B,L,D,$,Y,ae,de,Ae,Ce,Me,He,$e){const Ke=[],Fe=this.transform.elevation,Ze=d.getProjection(),pt=Fe?Fe.getAtTileOffsetFunc($e,this.transform.center.lat,this.transform.worldSize,Ze):null,st=new a.P(x.tileAnchorX,x.tileAnchorY);let{x:At,y:qe,z:mt}=Ze.projectTilePoint(st.x,st.y,$e.canonical);if(pt){const[mn,$t,on]=pt(st);At+=mn,qe+=$t,mt+=on}const Ft=Ze.name==="globe",Ot=this.projectAndGetPerspectiveRatio($,At,qe,mt,$e,Ft||!!Fe||this.transform.pitch>0,Ze),{perspectiveRatio:Qt}=Ot,fn=(Ae?D/Qt:D*Qt)/a.bc,Wt=$o(At,qe,mt,Y),xn=Ot.signedDistanceFromCamera>0?zt(fn,L,x.lineOffsetX*fn,x.lineOffsetY*fn,!1,Wt,st,x,B,Y,{},Fe&&!Ae?pt:null,Ae&&!!Fe,Ze,$e,Ae):null;let _n=!1,$n=!1,Yt=!0;if(xn&&!Ot.occluded){const mn=.5*Me*Qt+He,$t=new a.P(-100,-100),on=new a.P(this.screenRightBoundary,this.screenBottomBoundary),Kn=new ch,{first:ir,last:nr}=xn,pr=ir.path.length;let Ir=[];for(let zr=pr-1;zr>=1;zr--)Ir.push(ir.path[zr]);for(let zr=1;zr<nr.path.length;zr++)Ir.push(nr.path[zr]);const jr=2.5*mn;ae&&(Ir=Ir.map(([zr,Fi,hi],Ci)=>(pt&&!Ft&&(hi=pt(Ci<pr-1?ir.tilePath[pr-1-Ci]:nr.tilePath[Ci-pr+2])[2]),$o(zr,Fi,hi,ae))),Ir.some(zr=>zr[3]<=0)&&(Ir=[]));let Nr=[];if(Ir.length>0){let zr=1/0,Fi=-1/0,hi=1/0,Ci=-1/0;for(const bi of Ir)zr=Math.min(zr,bi[0]),hi=Math.min(hi,bi[1]),Fi=Math.max(Fi,bi[0]),Ci=Math.max(Ci,bi[1]);Fi>=$t.x&&zr<=on.x&&Ci>=$t.y&&hi<=on.y&&(Nr=[Ir.map(bi=>new a.P(bi[0],bi[1]))],(zr<$t.x||Fi>on.x||hi<$t.y||Ci>on.y)&&(Nr=a.ba(Nr,$t.x,$t.y,on.x,on.y)))}for(const zr of Nr){Kn.reset(zr,.25*mn);let Fi=0;Fi=Kn.length<=.5*mn?1:Math.ceil(Kn.paddedLength/jr)+1;for(let hi=0;hi<Fi;hi++){const Ci=hi/Math.max(Fi-1,1),bi=Kn.lerp(Ci),na=bi.x+ji,es=bi.y+ji;Ke.push(na,es,mn,0);const Wi=na-mn,Is=es-mn,qi=na+mn,ga=es+mn;if(Yt=Yt&&this.isOffscreen(Wi,Is,qi,ga),$n=$n||this.isInsideGrid(Wi,Is,qi,ga),!g&&this.grid.hitTestCircle(na,es,mn,Ce)&&(_n=!0,!de))return{circles:[],offscreen:!1,collisionDetected:_n,occluded:!1}}}}return{circles:!de&&_n||!$n?[]:Ke,offscreen:Yt,collisionDetected:_n,occluded:Ot.occluded}}queryRenderedSymbols(d){if(d.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const g=[];let x=1/0,B=1/0,L=-1/0,D=-1/0;for(const de of d){const Ae=new a.P(de.x+ji,de.y+ji);x=Math.min(x,Ae.x),B=Math.min(B,Ae.y),L=Math.max(L,Ae.x),D=Math.max(D,Ae.y),g.push(Ae)}const $=this.grid.query(x,B,L,D).concat(this.ignoredGrid.query(x,B,L,D)),Y={},ae={};for(const de of $){const Ae=de.key;if(Y[Ae.bucketInstanceId]===void 0&&(Y[Ae.bucketInstanceId]={}),Y[Ae.bucketInstanceId][Ae.featureIndex])continue;const Ce=[new a.P(de.x1,de.y1),new a.P(de.x2,de.y1),new a.P(de.x2,de.y2),new a.P(de.x1,de.y2)];a.bb(g,Ce)&&(Y[Ae.bucketInstanceId][Ae.featureIndex]=!0,ae[Ae.bucketInstanceId]===void 0&&(ae[Ae.bucketInstanceId]=[]),ae[Ae.bucketInstanceId].push(Ae.featureIndex))}return ae}insertCollisionBox(d,g,x,B,L){(g?this.ignoredGrid:this.grid).insert({bucketInstanceId:x,featureIndex:B,collisionGroupID:L},d[0],d[1],d[2],d[3])}insertCollisionCircles(d,g,x,B,L){const D=g?this.ignoredGrid:this.grid,$={bucketInstanceId:x,featureIndex:B,collisionGroupID:L};for(let Y=0;Y<d.length;Y+=4)D.insertCircle($,d[Y],d[Y+1],d[Y+2])}projectAndGetPerspectiveRatio(d,g,x,B,L,D,$){const Y=[g,x,B,1];let ae=!1;B||this.transform.pitch>0?(a.a7.transformMat4(Y,Y,d),this.fogState&&L&&$.name!=="globe"&&(ae=function(Ce,Me,He,$e,Ke,Fe){const Ze=Fe.calculateFogTileMatrix(Ke),pt=[Me,He,$e];return a.N.transformMat4(pt,pt,Ze),Nn(Ce,a.N.length(pt),Fe.pitch,Fe._fov)}(this.fogState,g,x,B,L.toUnwrapped(),this.transform)>.9)):ia(Y,Y,d);const de=Y[3];return{point:new a.P((Y[0]/de+1)/2*this.transform.width+ji,(-Y[1]/de+1)/2*this.transform.height+ji),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance($)/de*.5,1.5),signedDistanceFromCamera:de,occluded:D&&Y[2]>de||ae}}isOffscreen(d,g,x,B){return x<ji||d>=this.screenRightBoundary||B<ji||g>this.screenBottomBoundary}isInsideGrid(d,g,x,B){return x>=0&&d<this.gridRightBoundary&&B>=0&&g<this.gridBottomBoundary}getViewportMatrix(){const d=a.a6.identity([]);return a.a6.translate(d,d,[-100,-100,0]),d}}function Bs(w,d,g){const x=d.createTileMatrix(w,w.worldSize,g.toUnwrapped());return a.a6.multiply(new Float32Array(16),w.projMatrix,x)}function Ws(w,d,g){if(d.projection.name===g.projection.name)return w.projMatrix;const x=g.clone();return x.setProjection(d.projection),Bs(x,d.getProjection(),w)}function qs(w,d,g){return d.name===g.projection.name?w.projMatrix:Bs(g,d,w)}class Zo{constructor(d,g,x,B){this.opacity=d?Math.max(0,Math.min(1,d.opacity+(d.placed?g:-g))):B&&x?1:0,this.placed=x}isHidden(){return this.opacity===0&&!this.placed}}class Us{constructor(d,g,x,B,L,D=!1){this.text=new Zo(d?d.text:null,g,x,L),this.icon=new Zo(d?d.icon:null,g,B,L),this.clipped=D}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class So{constructor(d,g,x,B=!1){this.text=d,this.icon=g,this.skipFade=x,this.clipped=B}}class su{constructor(){this.invProjMatrix=a.a6.create(),this.viewportMatrix=a.a6.create(),this.circles=[]}}class ou{constructor(d,g,x,B,L){this.bucketInstanceId=d,this.featureIndex=g,this.sourceLayerIndex=x,this.bucketIndex=B,this.tileID=L}}class Kf{constructor(d){this.crossSourceCollisions=d,this.maxGroupID=0,this.collisionGroups={}}get(d){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[d]){const g=++this.maxGroupID;this.collisionGroups[d]={ID:g,predicate:x=>x.collisionGroupID===g}}return this.collisionGroups[d]}}function Vc(w,d,g,x,B){const{horizontalAlign:L,verticalAlign:D}=a.bf(w),$=-(L-.5)*d,Y=-(D-.5)*g,ae=a.bd(w,x);return new a.P($+ae[0]*B,Y+ae[1]*B)}function Wf(w,d,g,x,B){const L=new a.P(w,d);return g&&L._rotate(x?B:-B),L}class pA{constructor(d,g,x,B,L,D){this.transform=d.clone(),this.projection=d.projection.name,this.collisionIndex=new zn(this.transform,L),this.buildingIndex=D,this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=g,this.retainedQueryData={},this.collisionGroups=new Kf(x),this.collisionCircleArrays={},this.prevPlacement=B,B&&(B.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(d,g,x,B){const L=x.getBucket(g),D=x.latestFeatureIndex;if(!L||!D||g.fqid!==L.layerIds[0])return;const $=L.layers[0].layout,Y=x.collisionBoxArray,ae=Math.pow(2,this.transform.zoom-x.tileID.overscaledZ),de=x.tileSize/a.V,Ae=x.tileID.toUnwrapped();this.transform.setProjection(L.projection);const Ce=(Me=x.tileID,He=L.getProjection(),$e=this.transform,He.name===this.projection?$e.calculateProjMatrix(Me.toUnwrapped()):Bs($e,He,Me));var Me,He,$e;const Ke=$.get("text-pitch-alignment")==="map",Fe=$.get("text-rotation-alignment")==="map";g.compileFilter();const Ze=g.dynamicFilter(),pt=g.dynamicFilterNeedsFeature(),st=this.transform.calculatePixelsToTileUnitsMatrix(x),At=rd(Ce,x.tileID.canonical,Ke,Fe,this.transform,L.getProjection(),st);let qe=null;if(Ke){const Ot=Gf(Ce,x.tileID.canonical,Ke,Fe,this.transform,L.getProjection(),st);qe=a.a6.multiply([],this.transform.labelPlaneMatrix,Ot)}let mt=null;Ze&&x.latestFeatureIndex&&(mt={unwrappedTileID:Ae,dynamicFilter:Ze,dynamicFilterNeedsFeature:pt,featureIndex:x.latestFeatureIndex}),this.retainedQueryData[L.bucketInstanceId]=new ou(L.bucketInstanceId,D,L.sourceLayerIndex,L.index,x.tileID);const Ft={bucket:L,layout:$,posMatrix:Ce,textLabelPlaneMatrix:At,labelToScreenMatrix:qe,clippingData:mt,scale:ae,textPixelRatio:de,holdingForFade:x.holdingForFade(),collisionBoxArray:Y,partiallyEvaluatedTextSize:a.b5(L.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:a.b5(L.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(L.sourceID)};if(B)for(const Ot of L.sortKeyRanges){const{sortKey:Qt,symbolInstanceStart:fn,symbolInstanceEnd:Wt}=Ot;d.push({sortKey:Qt,symbolInstanceStart:fn,symbolInstanceEnd:Wt,parameters:Ft})}else d.push({symbolInstanceStart:0,symbolInstanceEnd:L.symbolInstances.length,parameters:Ft})}attemptAnchorPlacement(d,g,x,B,L,D,$,Y,ae,de,Ae,Ce,Me,He,$e,Ke,Fe,Ze){const{textOffset0:pt,textOffset1:st,crossTileID:At}=Ce,qe=[pt,st],mt=Vc(d,x,B,qe,L),Ft=this.collisionIndex.placeCollisionBox(He,L,g,Wf(mt.x,mt.y,D,$,this.transform.angle),Ae,Y,ae,de.predicate);if(Ke){const Ot=He.getSymbolInstanceIconSize(Ze,this.transform.zoom,Ce.placedIconSymbolIndex);if(this.collisionIndex.placeCollisionBox(He,Ot,Ke,Wf(mt.x,mt.y,D,$,this.transform.angle),Ae,Y,ae,de.predicate).box.length===0)return}if(Ft.box.length>0){let Ot;return this.prevPlacement&&this.prevPlacement.variableOffsets[At]&&this.prevPlacement.placements[At]&&this.prevPlacement.placements[At].text&&(Ot=this.prevPlacement.variableOffsets[At].anchor),this.variableOffsets[At]={textOffset:qe,width:x,height:B,anchor:d,textScale:L,prevAnchor:Ot},this.markUsedJustification(He,d,Ce,$e),He.allowVerticalPlacement&&(this.markUsedOrientation(He,$e,Ce),this.placedOrientations[At]=$e),{shift:mt,placedGlyphBoxes:Ft}}}placeLayerBucketPart(d,g,x,B){const{bucket:L,layout:D,posMatrix:$,textLabelPlaneMatrix:Y,labelToScreenMatrix:ae,clippingData:de,textPixelRatio:Ae,holdingForFade:Ce,collisionBoxArray:Me,partiallyEvaluatedTextSize:He,partiallyEvaluatedIconSize:$e,collisionGroup:Ke}=d.parameters,Fe=D.get("text-optional"),Ze=D.get("icon-optional"),pt=D.get("text-allow-overlap"),st=D.get("icon-allow-overlap"),At=D.get("text-rotation-alignment")==="map",qe=D.get("text-pitch-alignment")==="map",mt=D.get("symbol-z-order")==="viewport-y",Ft=D.get("symbol-z-elevate");this.transform.setProjection(L.projection);let Ot=pt&&(st||!L.hasIconData()||Ze),Qt=st&&(pt||!L.hasTextData()||Fe);!L.collisionArrays&&Me&&L.deserializeCollisionBoxes(Me),x&&B&&L.updateCollisionDebugBuffers(this.transform.zoom,Me);const fn=(Wt,xn,_n)=>{const{crossTileID:$n,numVerticalGlyphVertices:Yt}=Wt;if(de){const qi={zoom:this.transform.zoom,pitch:this.transform.pitch};let ga=null;if(de.dynamicFilterNeedsFeature){const Yi=this.retainedQueryData[L.bucketInstanceId];ga=de.featureIndex.loadFeature({featureIndex:Wt.featureIndex,bucketIndex:Yi.bucketIndex,sourceLayerIndex:Yi.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,de.dynamicFilter)(qi,ga,this.retainedQueryData[L.bucketInstanceId].tileID.canonical,new a.P(Wt.tileAnchorX,Wt.tileAnchorY),this.transform.calculateDistanceTileData(de.unwrappedTileID)))return this.placements[$n]=new So(!1,!1,!1,!0),void g.add($n)}if(g.has($n))return;if(Ce)return void(this.placements[$n]=new So(!1,!1,!1));let mn=!1,$t=!1,on=!0,Kn=!1,ir=!1,nr=null,pr={box:null,offscreen:null,occluded:null},Ir={box:null,offscreen:null,occluded:null},jr=null,Nr=null,zr=null,Fi=0,hi=0,Ci=0;_n.textFeatureIndex?Fi=_n.textFeatureIndex:Wt.useRuntimeCollisionCircles&&(Fi=Wt.featureIndex),_n.verticalTextFeatureIndex&&(hi=_n.verticalTextFeatureIndex);const bi=qi=>{qi.tileID=this.retainedQueryData[L.bucketInstanceId].tileID;const ga=this.transform.elevation;qi.elevation=Wt.zOffset+(ga?ga.getAtTileOffset(qi.tileID,qi.tileAnchorX,qi.tileAnchorY):0)},na=_n.textBox;if(na){bi(na);const qi=Yi=>{let pa=a.b6.horizontal;if(L.allowVerticalPlacement&&!Yi&&this.prevPlacement){const ss=this.prevPlacement.placedOrientations[$n];ss&&(this.placedOrientations[$n]=ss,pa=ss,this.markUsedOrientation(L,pa,Wt))}return pa},ga=(Yi,pa)=>{if(L.allowVerticalPlacement&&Yt>0&&_n.verticalTextBox){for(const ss of L.writingModes)if(ss===a.b6.vertical?(pr=pa(),Ir=pr):pr=Yi(),pr&&pr.box&&pr.box.length)break}else pr=Yi()};if(D.get("text-variable-anchor")){let Yi=D.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[$n]){const ba=this.prevPlacement.variableOffsets[$n];Yi.indexOf(ba.anchor)>0&&(Yi=Yi.filter(il=>il!==ba.anchor),Yi.unshift(ba.anchor))}const pa=(ba,il,ql)=>{const fc=L.getSymbolInstanceTextSize(He,Wt,this.transform.zoom,xn),rf=(ba.x2-ba.x1)*fc+2*ba.padding,pc=(ba.y2-ba.y1)*fc+2*ba.padding,al=Wt.hasIconTextFit&&!st?il:null;al&&bi(al);let No={box:[],offscreen:!1,occluded:!1};const Fu=pt?2*Yi.length:Yi.length;for(let Yu=0;Yu<Fu;++Yu){const Ac=this.attemptAnchorPlacement(Yi[Yu%Yi.length],ba,rf,pc,fc,At,qe,Ae,$,Ke,Yu>=Yi.length,Wt,xn,L,ql,al,He,$e);if(Ac&&(No=Ac.placedGlyphBoxes,No&&No.box&&No.box.length)){mn=!0,nr=Ac.shift;break}}return No};ga(()=>pa(na,_n.iconBox,a.b6.horizontal),()=>{const ba=_n.verticalTextBox;return ba&&bi(ba),L.allowVerticalPlacement&&!(pr&&pr.box&&pr.box.length)&&Yt>0&&ba?pa(ba,_n.verticalIconBox,a.b6.vertical):{box:null,offscreen:null,occluded:null}}),pr&&(mn=pr.box,on=pr.offscreen,Kn=pr.occluded);const ss=qi(!(!pr||!pr.box));if(!mn&&this.prevPlacement){const ba=this.prevPlacement.variableOffsets[$n];ba&&(this.variableOffsets[$n]=ba,this.markUsedJustification(L,ba.anchor,Wt,ss))}}else{const Yi=(pa,ss)=>{const ba=L.getSymbolInstanceTextSize(He,Wt,this.transform.zoom,xn),il=this.collisionIndex.placeCollisionBox(L,ba,pa,new a.P(0,0),pt,Ae,$,Ke.predicate);return il&&il.box&&il.box.length&&(this.markUsedOrientation(L,ss,Wt),this.placedOrientations[$n]=ss),il};ga(()=>Yi(na,a.b6.horizontal),()=>{const pa=_n.verticalTextBox;return L.allowVerticalPlacement&&Yt>0&&pa?(bi(pa),Yi(pa,a.b6.vertical)):{box:null,offscreen:null,occluded:null}}),qi(!!(pr&&pr.box&&pr.box.length))}}if(jr=pr,mn=jr&&jr.box&&jr.box.length>0,on=jr&&jr.offscreen,Kn=jr&&jr.occluded,Wt.useRuntimeCollisionCircles){const qi=L.text.placedSymbolArray.get(Wt.centerJustifiedTextSymbolIndex>=0?Wt.centerJustifiedTextSymbolIndex:Wt.verticalPlacedTextSymbolIndex),ga=a.b7(L.textSizeData,He,qi),Yi=D.get("text-padding");Nr=this.collisionIndex.placeCollisionCircles(L,pt,qi,L.lineVertexArray,L.glyphOffsetArray,ga,$,Y,ae,x,qe,Ke.predicate,Wt.collisionCircleDiameter*ga/a.bc,Yi,this.retainedQueryData[L.bucketInstanceId].tileID),mn=pt||Nr.circles.length>0&&!Nr.collisionDetected,on=on&&Nr.offscreen,Kn=Nr.occluded}if(_n.iconFeatureIndex&&(Ci=_n.iconFeatureIndex),_n.iconBox){const qi=ga=>{bi(ga);const Yi=Wt.hasIconTextFit&&nr?Wf(nr.x,nr.y,At,qe,this.transform.angle):new a.P(0,0),pa=L.getSymbolInstanceIconSize($e,this.transform.zoom,Wt.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(L,pa,ga,Yi,st,Ae,$,Ke.predicate)};Ir&&Ir.box&&Ir.box.length&&_n.verticalIconBox?(zr=qi(_n.verticalIconBox),$t=zr.box.length>0):(zr=qi(_n.iconBox),$t=zr.box.length>0),on=on&&zr.offscreen,ir=zr.occluded}const es=Fe||Wt.numHorizontalGlyphVertices===0&&Yt===0,Wi=Ze||Wt.numIconVertices===0;if(es||Wi?Wi?es||($t=$t&&mn):mn=$t&&mn:$t=mn=$t&&mn,mn&&jr&&jr.box&&this.collisionIndex.insertCollisionBox(jr.box,D.get("text-ignore-placement"),L.bucketInstanceId,Ir&&Ir.box&&hi?hi:Fi,Ke.ID),$t&&zr&&this.collisionIndex.insertCollisionBox(zr.box,D.get("icon-ignore-placement"),L.bucketInstanceId,Ci,Ke.ID),Nr&&(mn&&this.collisionIndex.insertCollisionCircles(Nr.circles,D.get("text-ignore-placement"),L.bucketInstanceId,Fi,Ke.ID),x)){const qi=L.bucketInstanceId;let ga=this.collisionCircleArrays[qi];ga===void 0&&(ga=this.collisionCircleArrays[qi]=new su);for(let Yi=0;Yi<Nr.circles.length;Yi+=4)ga.circles.push(Nr.circles[Yi+0]),ga.circles.push(Nr.circles[Yi+1]),ga.circles.push(Nr.circles[Yi+2]),ga.circles.push(Nr.collisionDetected?1:0)}const Is=L.projection.name!=="globe";Ot=Ot&&(Is||!Kn),Qt=Qt&&(Is||!ir),this.placements[$n]=new So(mn||Ot,$t||Qt,on||L.justReloaded),g.add($n)};if(Ft&&this.buildingIndex&&(this.buildingIndex.updateZOffset(L,this.retainedQueryData[L.bucketInstanceId].tileID),L.updateZOffset()),mt){const Wt=L.getSortedSymbolIndexes(this.transform.angle);for(let xn=Wt.length-1;xn>=0;--xn){const _n=Wt[xn];fn(L.symbolInstances.get(_n),_n,L.collisionArrays[_n])}L.hasAnyZOffset&&a.w(`${L.layerIds[0]} layer symbol-z-elevate: symbols are not sorted by elevation if symbol-z-order is evaluated to viewport-y`)}else if(L.hasAnyZOffset){const Wt=L.getSortedIndexesByZOffset();for(let xn=0;xn<Wt.length;++xn){const _n=Wt[xn];fn(L.symbolInstances.get(_n),_n,L.collisionArrays[_n])}}else for(let Wt=d.symbolInstanceStart;Wt<d.symbolInstanceEnd;Wt++)fn(L.symbolInstances.get(Wt),Wt,L.collisionArrays[Wt]);if(x&&L.bucketInstanceId in this.collisionCircleArrays){const Wt=this.collisionCircleArrays[L.bucketInstanceId];a.a6.invert(Wt.invProjMatrix,$),Wt.viewportMatrix=this.collisionIndex.getViewportMatrix()}L.justReloaded=!1}markUsedJustification(d,g,x,B){const{leftJustifiedTextSymbolIndex:L,centerJustifiedTextSymbolIndex:D,rightJustifiedTextSymbolIndex:$,verticalPlacedTextSymbolIndex:Y,crossTileID:ae}=x,de=a.be(g),Ae=B===a.b6.vertical?Y:de==="left"?L:de==="center"?D:de==="right"?$:-1;L>=0&&(d.text.placedSymbolArray.get(L).crossTileID=Ae>=0&&L!==Ae?0:ae),D>=0&&(d.text.placedSymbolArray.get(D).crossTileID=Ae>=0&&D!==Ae?0:ae),$>=0&&(d.text.placedSymbolArray.get($).crossTileID=Ae>=0&&$!==Ae?0:ae),Y>=0&&(d.text.placedSymbolArray.get(Y).crossTileID=Ae>=0&&Y!==Ae?0:ae)}markUsedOrientation(d,g,x){const B=g===a.b6.horizontal||g===a.b6.horizontalOnly?g:0,L=g===a.b6.vertical?g:0,{leftJustifiedTextSymbolIndex:D,centerJustifiedTextSymbolIndex:$,rightJustifiedTextSymbolIndex:Y,verticalPlacedTextSymbolIndex:ae}=x,de=d.text.placedSymbolArray;D>=0&&(de.get(D).placedOrientation=B),$>=0&&(de.get($).placedOrientation=B),Y>=0&&(de.get(Y).placedOrientation=B),ae>=0&&(de.get(ae).placedOrientation=L)}commit(d){this.commitTime=d,this.zoomAtLastRecencyCheck=this.transform.zoom;const g=this.prevPlacement;let x=!1;this.prevZoomAdjustment=g?g.zoomAdjustment(this.transform.zoom):0;const B=g?g.symbolFadeChange(d):1,L=g?g.opacities:{},D=g?g.variableOffsets:{},$=g?g.placedOrientations:{};for(const Y in this.placements){const ae=this.placements[Y],de=L[Y];de?(this.opacities[Y]=new Us(de,B,ae.text,ae.icon,null,ae.clipped),x=x||ae.text!==de.text.placed||ae.icon!==de.icon.placed):(this.opacities[Y]=new Us(null,B,ae.text,ae.icon,ae.skipFade,ae.clipped),x=x||ae.text||ae.icon)}for(const Y in L){const ae=L[Y];if(!this.opacities[Y]){const de=new Us(ae,B,!1,!1);de.isHidden()||(this.opacities[Y]=de,x=x||ae.text.placed||ae.icon.placed)}}for(const Y in D)this.variableOffsets[Y]||!this.opacities[Y]||this.opacities[Y].isHidden()||(this.variableOffsets[Y]=D[Y]);for(const Y in $)this.placedOrientations[Y]||!this.opacities[Y]||this.opacities[Y].isHidden()||(this.placedOrientations[Y]=$[Y]);x?this.lastPlacementChangeTime=d:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=g?g.lastPlacementChangeTime:d)}updateLayerOpacities(d,g){const x=new Set;for(const B of g){const L=B.getBucket(d);L&&B.latestFeatureIndex&&d.fqid===L.layerIds[0]&&(this.updateBucketOpacities(L,x,B.collisionBoxArray),L.layers[0].layout.get("symbol-z-elevate")&&this.buildingIndex&&(this.buildingIndex.updateZOffset(L,B.tileID),L.updateZOffset()))}}updateBucketOpacities(d,g,x){d.hasTextData()&&d.text.opacityVertexArray.clear(),d.hasIconData()&&d.icon.opacityVertexArray.clear(),d.hasIconCollisionBoxData()&&d.iconCollisionBox.collisionVertexArray.clear(),d.hasTextCollisionBoxData()&&d.textCollisionBox.collisionVertexArray.clear();const B=d.layers[0].layout,L=!!d.layers[0].dynamicFilter(),D=new Us(null,0,!1,!1,!0),$=B.get("text-allow-overlap"),Y=B.get("icon-allow-overlap"),ae=B.get("text-variable-anchor"),de=B.get("text-rotation-alignment")==="map",Ae=B.get("text-pitch-alignment")==="map",Ce=new Us(null,0,$&&(Y||!d.hasIconData()||B.get("icon-optional")),Y&&($||!d.hasTextData()||B.get("text-optional")),!0);!d.collisionArrays&&x&&(d.hasIconCollisionBoxData()||d.hasTextCollisionBoxData())&&d.deserializeCollisionBoxes(x);const Me=($e,Ke,Fe)=>{for(let Ze=0;Ze<Ke/4;Ze++)$e.opacityVertexArray.emplaceBack(Fe)};let He=0;for(let $e=0;$e<d.symbolInstances.length;$e++){const Ke=d.symbolInstances.get($e),{numHorizontalGlyphVertices:Fe,numVerticalGlyphVertices:Ze,crossTileID:pt,numIconVertices:st}=Ke,At=g.has(pt);let qe=this.opacities[pt];At?qe=D:qe||(qe=Ce,this.opacities[pt]=qe),g.add(pt);const mt=Fe>0||Ze>0,Ft=st>0,Ot=this.placedOrientations[pt],Qt=Ot===a.b6.vertical,fn=Ot===a.b6.horizontal||Ot===a.b6.horizontalOnly;if(!mt&&!Ft||qe.isHidden()||He++,mt){const Wt=uu(qe.text);Me(d.text,Fe,Qt?Yf:Wt),Me(d.text,Ze,fn?Yf:Wt);const xn=qe.text.isHidden(),{leftJustifiedTextSymbolIndex:_n,centerJustifiedTextSymbolIndex:$n,rightJustifiedTextSymbolIndex:Yt,verticalPlacedTextSymbolIndex:mn}=Ke,$t=d.text.placedSymbolArray,on=xn||Qt?1:0;_n>=0&&($t.get(_n).hidden=on),$n>=0&&($t.get($n).hidden=on),Yt>=0&&($t.get(Yt).hidden=on),mn>=0&&($t.get(mn).hidden=xn||fn?1:0);const Kn=this.variableOffsets[pt];Kn&&this.markUsedJustification(d,Kn.anchor,Ke,Ot);const ir=this.placedOrientations[pt];ir&&(this.markUsedJustification(d,"left",Ke,ir),this.markUsedOrientation(d,ir,Ke))}if(Ft){const Wt=uu(qe.icon),{placedIconSymbolIndex:xn,verticalPlacedIconSymbolIndex:_n}=Ke,$n=d.icon.placedSymbolArray,Yt=qe.icon.isHidden()?1:0;xn>=0&&(Me(d.icon,st,Qt?Yf:Wt),$n.get(xn).hidden=Yt),_n>=0&&(Me(d.icon,Ke.numVerticalIconVertices,fn?Yf:Wt),$n.get(_n).hidden=Yt)}if(d.hasIconCollisionBoxData()||d.hasTextCollisionBoxData()){const Wt=d.collisionArrays[$e];if(Wt){let xn=new a.P(0,0),_n=!0;if(Wt.textBox||Wt.verticalTextBox){if(ae){const Yt=this.variableOffsets[pt];Yt?(xn=Vc(Yt.anchor,Yt.width,Yt.height,Yt.textOffset,Yt.textScale),de&&xn._rotate(Ae?this.transform.angle:-this.transform.angle)):_n=!1}L&&(_n=!qe.clipped),Wt.textBox&&fh(d.textCollisionBox.collisionVertexArray,qe.text.placed,!_n||Qt,xn.x,xn.y),Wt.verticalTextBox&&fh(d.textCollisionBox.collisionVertexArray,qe.text.placed,!_n||fn,xn.x,xn.y)}const $n=_n&&!!(!fn&&Wt.verticalIconBox);Wt.iconBox&&fh(d.iconCollisionBox.collisionVertexArray,qe.icon.placed,$n,Ke.hasIconTextFit?xn.x:0,Ke.hasIconTextFit?xn.y:0),Wt.verticalIconBox&&fh(d.iconCollisionBox.collisionVertexArray,qe.icon.placed,!$n,Ke.hasIconTextFit?xn.x:0,Ke.hasIconTextFit?xn.y:0)}}}if(d.fullyClipped=He===0,d.sortFeatures(this.transform.angle),this.retainedQueryData[d.bucketInstanceId]&&(this.retainedQueryData[d.bucketInstanceId].featureSortOrder=d.featureSortOrder),d.hasTextData()&&d.text.opacityVertexBuffer&&d.text.opacityVertexBuffer.updateData(d.text.opacityVertexArray),d.hasIconData()&&d.icon.opacityVertexBuffer&&d.icon.opacityVertexBuffer.updateData(d.icon.opacityVertexArray),d.hasIconCollisionBoxData()&&d.iconCollisionBox.collisionVertexBuffer&&d.iconCollisionBox.collisionVertexBuffer.updateData(d.iconCollisionBox.collisionVertexArray),d.hasTextCollisionBoxData()&&d.textCollisionBox.collisionVertexBuffer&&d.textCollisionBox.collisionVertexBuffer.updateData(d.textCollisionBox.collisionVertexArray),d.bucketInstanceId in this.collisionCircleArrays){const $e=this.collisionCircleArrays[d.bucketInstanceId];d.placementInvProjMatrix=$e.invProjMatrix,d.placementViewportMatrix=$e.viewportMatrix,d.collisionCircleArray=$e.circles,delete this.collisionCircleArrays[d.bucketInstanceId]}}symbolFadeChange(d){return this.fadeDuration===0?1:(d-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(d){return Math.max(0,(this.transform.zoom-d)/1.5)}hasTransitions(d){return this.stale||d-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(d,g){const x=this.zoomAtLastRecencyCheck===g?1-this.zoomAdjustment(g):1;return this.zoomAtLastRecencyCheck=g,this.commitTime+this.fadeDuration*x>d}setStale(){this.stale=!0}}function fh(w,d,g,x,B){w.emplaceBack(d?1:0,g?1:0,x||0,B||0),w.emplaceBack(d?1:0,g?1:0,x||0,B||0),w.emplaceBack(d?1:0,g?1:0,x||0,B||0),w.emplaceBack(d?1:0,g?1:0,x||0,B||0)}const Om=Math.pow(2,25),qf=Math.pow(2,24),lu=Math.pow(2,17),Gd=Math.pow(2,16),AA=Math.pow(2,9),mA=Math.pow(2,8),Dm=Math.pow(2,1);function uu(w){if(w.opacity===0&&!w.placed)return 0;if(w.opacity===1&&w.placed)return 4294967295;const d=w.placed?1:0,g=Math.floor(127*w.opacity);return g*Om+d*qf+g*lu+d*Gd+g*AA+d*mA+g*Dm+d}const Yf=0;class Nm{constructor(d){this._sortAcrossTiles=d.layout.get("symbol-z-order")!=="viewport-y"&&d.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs=new Set,this._bucketParts=[]}continuePlacement(d,g,x,B,L){const D=this._bucketParts;for(;this._currentTileIndex<d.length;)if(g.getBucketParts(D,B,d[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,L())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,D.sort(($,Y)=>$.sortKey-Y.sortKey));this._currentPartIndex<D.length;){const $=D[this._currentPartIndex];if(g.placeLayerBucketPart($,this._seenCrossTileIDs,x,$.symbolInstanceStart===0),this._currentPartIndex++,L())return!0}return!1}}class Xf{constructor(d,g,x,B,L,D,$,Y,ae){this.placement=new pA(d,L,D,$,Y,ae),this._currentPlacementIndex=g.length-1,this._forceFullPlacement=x,this._showCollisionBoxes=B,this._done=!1}isDone(){return this._done}continuePlacement(d,g,x,B){const L=a.f.now(),D=()=>{const $=a.f.now()-L;return!this._forceFullPlacement&&$>2};for(;this._currentPlacementIndex>=0;){const $=g[d[this._currentPlacementIndex]],Y=this.placement.collisionIndex.transform.zoom;if($.type==="symbol"&&(!$.minzoom||$.minzoom<=Y)&&(!$.maxzoom||$.maxzoom>Y)){const ae=$,de=ae.layout.get("symbol-z-elevate"),Ae=this._inProgressLayer=this._inProgressLayer||new Nm(ae),Ce=a.ag($.source,$.scope);if(Ae.continuePlacement(de?B[Ce]:x[Ce],this.placement,this._showCollisionBoxes,$,D))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(d){return this.placement.commit(d),this.placement}}const ju=512/a.V/2;class gA{constructor(d,g,x){this.tileID=d,this.bucketInstanceId=x,this.index=new a.bg(g.length,16,Int32Array),this.keys=[],this.crossTileIDs=[];const B=d.canonical.x*a.V,L=d.canonical.y*a.V;for(let D=0;D<g.length;D++){const{key:$,crossTileID:Y,tileAnchorX:ae,tileAnchorY:de}=g.get(D),Ae=Math.floor((B+ae)*ju),Ce=Math.floor((L+de)*ju);this.index.add(Ae,Ce),this.keys.push($),this.crossTileIDs.push(Y)}this.index.finish()}findMatches(d,g,x){const B=this.tileID.canonical.z<g.canonical.z?1:Math.pow(2,this.tileID.canonical.z-g.canonical.z),L=ju/Math.pow(2,g.canonical.z-this.tileID.canonical.z),D=g.canonical.x*a.V,$=g.canonical.y*a.V;for(let Y=0;Y<d.length;Y++){const ae=d.get(Y);if(ae.crossTileID)continue;const{key:de,tileAnchorX:Ae,tileAnchorY:Ce}=ae,Me=Math.floor((D+Ae)*L),He=Math.floor(($+Ce)*L),$e=this.index.range(Me-B,He-B,Me+B,He+B);for(const Ke of $e){const Fe=this.crossTileIDs[Ke];if(this.keys[Ke]===de&&!x.has(Fe)){x.add(Fe),ae.crossTileID=Fe;break}}}}}class Um{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class vA{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(d){const g=Math.round((d-this.lng)/360);if(g!==0)for(const x in this.indexes){const B=this.indexes[x],L={};for(const D in B){const $=B[D];$.tileID=$.tileID.unwrapTo($.tileID.wrap+g),L[$.tileID.key]=$}this.indexes[x]=L}this.lng=d}addBucket(d,g,x){if(this.indexes[d.overscaledZ]&&this.indexes[d.overscaledZ][d.key]){if(this.indexes[d.overscaledZ][d.key].bucketInstanceId===g.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(d.overscaledZ,this.indexes[d.overscaledZ][d.key])}for(let L=0;L<g.symbolInstances.length;L++)g.symbolInstances.get(L).crossTileID=0;this.usedCrossTileIDs[d.overscaledZ]||(this.usedCrossTileIDs[d.overscaledZ]=new Set);const B=this.usedCrossTileIDs[d.overscaledZ];for(const L in this.indexes){const D=this.indexes[L];if(Number(L)>d.overscaledZ)for(const $ in D){const Y=D[$];Y.tileID.isChildOf(d)&&Y.findMatches(g.symbolInstances,d,B)}else{const $=D[d.scaledTo(Number(L)).key];$&&$.findMatches(g.symbolInstances,d,B)}}for(let L=0;L<g.symbolInstances.length;L++){const D=g.symbolInstances.get(L);D.crossTileID||(D.crossTileID=x.generate(),B.add(D.crossTileID))}return this.indexes[d.overscaledZ]===void 0&&(this.indexes[d.overscaledZ]={}),this.indexes[d.overscaledZ][d.key]=new gA(d,g.symbolInstances,g.bucketInstanceId),!0}removeBucketCrossTileIDs(d,g){for(const x of g.crossTileIDs)this.usedCrossTileIDs[d].delete(x)}removeStaleBuckets(d){let g=!1;for(const x in this.indexes){const B=this.indexes[x];for(const L in B)d[B[L].bucketInstanceId]||(this.removeBucketCrossTileIDs(x,B[L]),delete B[L],g=!0)}return g}}class ph{constructor(){this.layerIndexes={},this.crossTileIDs=new Um,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(d,g,x,B){let L=this.layerIndexes[d.fqid];L===void 0&&(L=this.layerIndexes[d.fqid]=new vA);let D=!1;const $={};B.name!=="globe"&&L.handleWrapJump(x);for(const Y of g){const ae=Y.getBucket(d);ae&&d.fqid===ae.layerIds[0]&&(ae.bucketInstanceId||(ae.bucketInstanceId=++this.maxBucketInstanceId),L.addBucket(Y.tileID,ae,this.crossTileIDs)&&(D=!0),$[ae.bucketInstanceId]=!0)}return L.removeStaleBuckets($)&&(D=!0),D}pruneUnusedLayers(d){const g={};d.forEach(x=>{g[x]=!0});for(const x in this.layerIndexes)g[x]||delete this.layerIndexes[x]}}class Jo{constructor(d=0,g=0,x=0,B=0){if(isNaN(d)||d<0||isNaN(g)||g<0||isNaN(x)||x<0||isNaN(B)||B<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=d,this.bottom=g,this.left=x,this.right=B}interpolate(d,g,x){return g.top!=null&&d.top!=null&&(this.top=a.U(d.top,g.top,x)),g.bottom!=null&&d.bottom!=null&&(this.bottom=a.U(d.bottom,g.bottom,x)),g.left!=null&&d.left!=null&&(this.left=a.U(d.left,g.left,x)),g.right!=null&&d.right!=null&&(this.right=a.U(d.right,g.right,x)),this}getCenter(d,g){const x=a.aa((this.left+d-this.right)/2,0,d),B=a.aa((this.top+g-this.bottom)/2,0,g);return new a.P(x,B)}equals(d){return this.top===d.top&&this.bottom===d.bottom&&this.left===d.left&&this.right===d.right}clone(){return new Jo(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function Mu(w,d){const g=a.bk(w,3);a.a6.fromQuat(w,d),a.bm(w,3,g)}function hc(w,d){const g=a.bi.identity([]);return a.bi.rotateZ(g,g,-d),a.bi.rotateX(g,g,-w),g}function dc(w,d){const g=[w[0],w[1],0],x=[d[0],d[1],0];if(a.N.length(g)>=1e-15){const D=a.N.normalize([],g);a.N.scale(x,D,a.N.dot(x,D)),d[0]=x[0],d[1]=x[1]}const B=a.N.cross([],d,w);if(a.N.len(B)<1e-15)return null;const L=Math.atan2(-B[1],B[0]);return hc(Math.atan2(Math.sqrt(w[0]*w[0]+w[1]*w[1]),-w[2]),L)}class Gu{constructor(d,g){this.position=d,this.orientation=g}get position(){return this._position}set position(d){if(d){const g=d instanceof a.L?d:new a.L(d[0],d[1],d[2]);this._renderWorldCopies&&(g.x=a.bh(g.x,0,1)),this._position=g}else this._position=null}lookAtPoint(d,g){if(this.orientation=null,!this.position)return;const x=this.position,B=this._elevation?this._elevation.getAtPointOrZero(a.L.fromLngLat(d)):0,L=a.L.fromLngLat(d,B),D=[L.x-x.x,L.y-x.y,L.z-x.z];g||(g=[0,0,1]),g[2]=Math.abs(g[2]),this.orientation=dc(D,g)}setPitchBearing(d,g){this.orientation=hc(a.bj(d),a.bj(-g))}}class Hc{constructor(d,g){this._transform=a.a6.identity([]),this.orientation=g,this.position=d}get mercatorPosition(){const d=this.position;return new a.L(d[0],d[1],d[2])}get position(){const d=a.bk(this._transform,3);return[d[0],d[1],d[2]]}set position(d){var g;d&&a.bm(this._transform,3,[(g=d)[0],g[1],g[2],1])}get orientation(){return this._orientation}set orientation(d){this._orientation=d||a.bi.identity([]),d&&Mu(this._transform,this._orientation)}getPitchBearing(){const d=this.forward(),g=this.right();return{bearing:Math.atan2(-g[1],g[0]),pitch:Math.atan2(Math.sqrt(d[0]*d[0]+d[1]*d[1]),-d[2])}}setPitchBearing(d,g){this._orientation=hc(d,g),Mu(this._transform,this._orientation)}forward(){const d=a.bk(this._transform,2);return[-d[0],-d[1],-d[2]]}up(){const d=a.bk(this._transform,1);return[-d[0],-d[1],-d[2]]}right(){const d=a.bk(this._transform,0);return[d[0],d[1],d[2]]}getCameraToWorld(d,g){const x=new Float64Array(16);return a.a6.invert(x,this.getWorldToCamera(d,g)),x}getCameraToWorldMercator(){return this._transform}getWorldToCameraPosition(d,g,x){const B=this.position;a.N.scale(B,B,-d);const L=new Float64Array(16);return a.a6.fromScaling(L,[x,x,x]),a.a6.translate(L,L,B),L[10]*=g,L}getWorldToCamera(d,g){const x=new Float64Array(16),B=new Float64Array(4),L=this.position;return a.bi.conjugate(B,this._orientation),a.N.scale(L,L,-d),a.a6.fromQuat(x,B),a.a6.translate(x,x,L),x[1]*=-1,x[5]*=-1,x[9]*=-1,x[13]*=-1,x[8]*=g,x[9]*=g,x[10]*=g,x[11]*=g,x}getCameraToClipPerspective(d,g,x,B){const L=new Float64Array(16);return a.a6.perspective(L,d,g,x,B),L}getCameraToClipOrthographic(d,g,x,B,L,D){const $=new Float64Array(16);return a.a6.ortho($,d,g,x,B,L,D),$}getDistanceToElevation(d,g=!1){const x=d===0?0:a.bl(d,g?a.au(this.position[1]):this.position[1]),B=this.forward();return(x-this.position[2])/B[2]}clone(){return new Hc([...this.position],[...this.orientation])}}const Ql=(w,d,g)=>(1-g)*w+g*d,Ah=w=>w*w*w*w*w;class id{constructor(d,g,x,B,L,D,$){this.tileSize=512,this._renderWorldCopies=L===void 0||L,this._minZoom=d||0,this._maxZoom=g||22,this._minPitch=x??0,this._maxPitch=B??60,this.setProjection(D),this.setMaxBounds($),this.width=0,this.height=0,this._center=new a.bn(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Jo,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._expandedProjMatrixCache={},this._distanceTileDataCache={},this._camera=new Hc,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._tileCoverLift=0,this._horizonShift=.1,this._orthographicProjectionAtLowPitch=!1}clone(){const d=new id(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return d._elevation=this._elevation,d._centerAltitude=this._centerAltitude,d._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,d.tileSize=this.tileSize,d.mercatorFromTransition=this.mercatorFromTransition,d.width=this.width,d.height=this.height,d.cameraElevationReference=this.cameraElevationReference,d._center=this._center,d._setZoom(this.zoom),d._seaLevelZoom=this._seaLevelZoom,d.angle=this.angle,d._fov=this._fov,d._pitch=this._pitch,d._nearZ=this._nearZ,d._farZ=this._farZ,d._averageElevation=this._averageElevation,d._orthographicProjectionAtLowPitch=this._orthographicProjectionAtLowPitch,d._unmodified=this._unmodified,d._edgeInsets=this._edgeInsets.clone(),d._camera=this._camera.clone(),d._calcMatrices(),d.freezeTileCoverage=this.freezeTileCoverage,d.frustumCorners=this.frustumCorners,d}get isOrthographic(){return this.projection.name!=="globe"&&this._orthographicProjectionAtLowPitch&&this.pitch<15}get elevation(){return this._elevation}set elevation(d){this._elevation!==d&&(this._elevation=d,this._updateCameraOnTerrain(),this._calcMatrices())}get depthOcclusionForSymbolsAndCircles(){return this.projection.name!=="globe"&&!this.isOrthographic}updateElevation(d,g=!1){const x=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||x)&&this._updateCameraOnTerrain(),(d||x)&&this._constrainCamera(g),this._calcMatrices()}getProjection(){return a.ac(this.projection,["name","center","parallels"])}setProjection(d){this.projectionOptions=d||{name:"mercator"};const g=this.projection?this.getProjection():void 0;this.projection=a.bo(this.projectionOptions);const x=!f(g,this.getProjection());return x&&this._calcMatrices(),this.mercatorFromTransition=!1,x}setOrthographicProjectionAtLowPitch(d){return this._orthographicProjectionAtLowPitch!==d&&(this._orthographicProjectionAtLowPitch=d,this._calcMatrices(),!0)}setMercatorFromTransition(){const d=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=a.bo({name:"mercator"});const g=d!==this.projection.name;return g&&this._calcMatrices(),g}get minZoom(){return this._minZoom}set minZoom(d){this._minZoom!==d&&(this._minZoom=d,this.zoom=Math.max(this.zoom,d))}get maxZoom(){return this._maxZoom}set maxZoom(d){this._maxZoom!==d&&(this._maxZoom=d,this.zoom=Math.min(this.zoom,d))}get minPitch(){return this._minPitch}set minPitch(d){this._minPitch!==d&&(this._minPitch=d,this.pitch=Math.max(this.pitch,d))}get maxPitch(){return this._maxPitch}set maxPitch(d){this._maxPitch!==d&&(this._maxPitch=d,this.pitch=Math.min(this.pitch,d))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(d){d===void 0?d=!0:d===null&&(d=!1),this._renderWorldCopies=d}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const d=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(d))}get cameraWorldSize(){const d=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(d))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return a.bl(1,this.center.lat)*this.cameraWorldSizeForFog}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new a.P(this.width,this.height)}get bearing(){return a.bh(this.rotation,-180,180)}set bearing(d){this.rotation=d}get rotation(){return-this.angle/Math.PI*180}set rotation(d){const g=-d*Math.PI/180;this.angle!==g&&(this._unmodified=!1,this.angle=g,this._calcMatrices(),this.rotationMatrix=a.b4.create(),a.b4.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(d){const g=a.aa(d,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==g&&(this._unmodified=!1,this._pitch=g,this._calcMatrices())}get aspect(){return this.width/this.height}get fov(){return this._fov/Math.PI*180}get fovX(){return this._fov}get fovY(){const d=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/d)}set fov(d){d=Math.max(.01,Math.min(60,d)),this._fov!==d&&(this._unmodified=!1,this._fov=a.bj(d),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(d){this._averageElevation=d,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(d){const g=Math.min(Math.max(d,this.minZoom),this.maxZoom);this._zoom!==g&&(this._unmodified=!1,this._setZoom(g),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(d){this._zoom=d,this.scale=this.zoomScale(d),this.tileZoom=Math.floor(d),this.zoomFraction=d-this.tileZoom}get tileCoverLift(){return this._tileCoverLift}set tileCoverLift(d){this._tileCoverLift!==d&&(this._tileCoverLift=d)}_updateCameraOnTerrain(){const d=this.elevation?this.elevation.getAtPoint(this.locationCoordinate(this.center),Number.NEGATIVE_INFINITY):Number.NEGATIVE_INFINITY,g=this.elevation&&d===Number.NEGATIVE_INFINITY&&this.elevation.visibleDemTiles.length>0&&this.elevation.exaggeration()>0&&this._centerAltitudeValidForExaggeration;if(!this._elevation||d===Number.NEGATIVE_INFINITY&&(!g||!this._centerAltitude))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const x=this._elevation;g||this._centerAltitude&&this._centerAltitudeValidForExaggeration&&x.exaggeration()&&this._centerAltitudeValidForExaggeration!==x.exaggeration()?(this._centerAltitude=this._centerAltitude/this._centerAltitudeValidForExaggeration*x.exaggeration(),this._centerAltitudeValidForExaggeration=x.exaggeration()):(this._centerAltitude=d||0,this._centerAltitudeValidForExaggeration=x.exaggeration()),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const d=this._elevation,g=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],x=this.horizonLineFromTop();let B=0,L=0;for(let D=0;D<g.length;D++){const $=new a.P(g[D][0]*this.width,x+g[D][1]*(this.height-x)),Y=d.pointCoordinate($);if(!Y)continue;const ae=1/Math.hypot(Y[0]-this._camera.position[0],Y[1]-this._camera.position[1]);B+=Y[3]*ae,L+=ae}return L===0?NaN:B/L}get center(){return this._center}set center(d){d.lat===this._center.lat&&d.lng===this._center.lng||(this._unmodified=!1,this._center=d,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const d=this._seaLevelZoom,g=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),x=this.pixelsPerMeter/this.worldSize*g,B=this._mercatorZfromZoom(d),L=this._mercatorZfromZoom(this._maxZoom),D=Math.max(B-x,L);this._setZoom(this._zoomFromMercatorZ(D))}get padding(){return this._edgeInsets.toJSON()}set padding(d){this._edgeInsets.equals(d)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,d,1),this._calcMatrices())}computeZoomRelativeTo(d){const g=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,d.toAltitude()));let x;x=d.z<this._camera.position[2]?[g.x,g.y,g.z]:[d.x,d.y,d.z];const B=a.N.length(a.N.sub([],this._camera.position,x));return a.aa(this._zoomFromMercatorZ(B),this._minZoom,this._maxZoom)}setFreeCameraOptions(d){if(!this.height||!d.position&&!d.orientation)return;this._updateCameraState();let g=!1;if(d.orientation&&!a.bi.exactEquals(d.orientation,this._camera.orientation)&&(g=this._setCameraOrientation(d.orientation)),d.position){const x=[d.position.x,d.position.y,d.position.z];a.N.exactEquals(x,this._camera.position)||(this._setCameraPosition(x),g=!0)}g&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const d=this._camera.position,g=new Gu;return g.position=new a.L(d[0],d[1],d[2]),g.orientation=this._camera.orientation,g._elevation=this.elevation,g._renderWorldCopies=this.renderWorldCopies,g}_setCameraOrientation(d){if(!a.bi.length(d))return!1;a.bi.normalize(d,d);const g=a.N.transformQuat([],[0,0,-1],d),x=a.N.transformQuat([],[0,-1,0],d);if(x[2]<0)return!1;const B=dc(g,x);return!!B&&(this._camera.orientation=B,!0)}_setCameraPosition(d){const g=this.zoomScale(this.minZoom)*this.tileSize,x=this.zoomScale(this.maxZoom)*this.tileSize,B=this.cameraToCenterDistance;d[2]=a.aa(d[2],B/x,B/g),this._camera.position=d}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(d){return this._edgeInsets.equals(d)}interpolatePadding(d,g,x){this._unmodified=!1,this._edgeInsets.interpolate(d,g,x),this._constrain(),this._calcMatrices()}coveringZoomLevel(d){const g=(d.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/d.tileSize));return Math.max(0,g)}getVisibleUnwrappedCoordinates(d){const g=[new a.bp(0,d)];if(this.renderWorldCopies){const x=this.pointCoordinate(new a.P(0,0)),B=this.pointCoordinate(new a.P(this.width,0)),L=this.pointCoordinate(new a.P(this.width,this.height)),D=this.pointCoordinate(new a.P(0,this.height)),$=Math.floor(Math.min(x.x,B.x,L.x,D.x)),Y=Math.floor(Math.max(x.x,B.x,L.x,D.x)),ae=1;for(let de=$-ae;de<=Y+ae;de++)de!==0&&g.push(new a.bp(de,d))}return g}isLODDisabled(d){return(!d||this.pitch<=60)&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace}extendTileCoverForShadows(d,g,x){let B=[];if(g[0]===0&&g[1]===0)return B;for(const D of d){const $=D.canonical,Y=D.overscaledZ,ae=D.wrap,de=1<<$.z,Ae=$.x+1<de,Ce=$.x>0,Me=$.y+1<de,He=$.y>0,$e=D.wrap-(Ce?0:1),Ke=D.wrap+(Ae?0:1),Fe=Ce?$.x-1:de-1,Ze=Ae?$.x+1:0;g[0]<0?(B.push(new a.am(Y,Ke,$.z,Ze,$.y)),g[1]<0&&Me&&(B.push(new a.am(Y,ae,$.z,$.x,$.y+1)),B.push(new a.am(Y,Ke,$.z,Ze,$.y+1))),g[1]>0&&He&&(B.push(new a.am(Y,ae,$.z,$.x,$.y-1)),B.push(new a.am(Y,Ke,$.z,Ze,$.y-1)))):g[0]>0?(B.push(new a.am(Y,$e,$.z,Fe,$.y)),g[1]<0&&Me&&(B.push(new a.am(Y,ae,$.z,$.x,$.y+1)),B.push(new a.am(Y,$e,$.z,Fe,$.y+1))),g[1]>0&&He&&(B.push(new a.am(Y,ae,$.z,$.x,$.y-1)),B.push(new a.am(Y,$e,$.z,Fe,$.y-1)))):g[1]<0&&Me?B.push(new a.am(Y,ae,$.z,$.x,$.y+1)):He&&B.push(new a.am(Y,ae,$.z,$.x,$.y-1))}if(B.length>1){B.sort((Y,ae)=>Y.overscaledZ-ae.overscaledZ||Y.wrap-ae.wrap||Y.canonical.z-ae.canonical.z||Y.canonical.x-ae.canonical.x||Y.canonical.y-ae.canonical.y);let D=0,$=0;for(;$<B.length;)B[$].equals(B[D])?++$:B[++D]=B[$++];B.length=D+1}const L=[];for(const D of B)B.some($=>D.isChildOf($))||L.push(D);return B=L.filter(D=>!d.some($=>!!(D.overscaledZ<x&&$.isChildOf(D))||D.equals($)||D.isChildOf($))),B}coveringTiles(d){let g=this.coveringZoomLevel(d);const x=g,B=this.elevation&&this.elevation.exaggeration(),L=B&&!d.isTerrainDEM,D=this.projection.name==="mercator";if(d.minzoom!==void 0&&g<d.minzoom)return[];d.maxzoom!==void 0&&g>d.maxzoom&&(g=d.maxzoom);const $=this.locationCoordinate(this.center),Y=this.center.lat,ae=1<<g,de=[ae*$.x,ae*$.y,0],Ae=this.projection.name==="globe",Ce=!Ae,Me=a.bq.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,g,Ce),He=Ae?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),$e=ae*a.bl(1,this.center.lat),Ke=this._camera.position[2]/a.bl(1,this.center.lat),Fe=[ae*He.x,ae*He.y,Ke*(Ce?1:$e)],Ze=Ae||B,pt=this.cameraToCenterDistance/d.tileSize*(d.roundZoom?1:.502),st=this.isLODDisabled(!0)?g:0;let At;if(this._elevation&&d.isTerrainDEM)At=1e4*this._elevation.exaggeration();else if(this._elevation){const $t=this._elevation.getMinMaxForVisibleTiles();At=$t?$t.max:this._centerAltitude}else At=this._centerAltitude;const qe=d.isTerrainDEM?-At:this._elevation?this._elevation.getMinElevationBelowMSL():0,mt=this.projection.isReprojectedInTileSpace?a.br(this):1,Ft=$t=>{const Kn=new a.L($t.x+25e-6,$t.y,$t.z),ir=new a.L($t.x,$t.y+25e-6,$t.z),nr=$t.toLngLat(),pr=Kn.toLngLat(),Ir=ir.toLngLat(),jr=this.locationCoordinate(nr),Nr=this.locationCoordinate(pr),zr=this.locationCoordinate(Ir),Fi=Math.hypot(Nr.x-jr.x,Nr.y-jr.y),hi=Math.hypot(zr.x-jr.x,zr.y-jr.y);return Math.sqrt(Fi*hi)*mt/25e-6},Ot=$t=>{const on=At,Kn=qe;return{aabb:a.bu(this,ae,0,0,0,$t,Kn,on,this.projection),zoom:0,x:0,y:0,minZ:Kn,maxZ:on,wrap:$t,fullyVisible:!1}},Qt=[];let fn=[];const Wt=g,xn=d.reparseOverscaled?x:g,_n=$t=>$t*$t,$n=_n((Ke-this._centerAltitude)*$e),Yt=$t=>{if(!this._elevation||!$t.tileID||!D)return;const on=this._elevation.getMinMaxForTile($t.tileID),Kn=$t.aabb;on?(Kn.min[2]=on.min,Kn.max[2]=on.max,Kn.center[2]=(Kn.min[2]+Kn.max[2])/2):($t.shouldSplit=mn($t),$t.shouldSplit||(Kn.min[2]=Kn.max[2]=Kn.center[2]=this._centerAltitude))},mn=$t=>{if($t.zoom<st)return!0;if($t.zoom===Wt)return!1;if($t.shouldSplit!=null)return $t.shouldSplit;const on=$t.aabb.distanceX(Fe),Kn=$t.aabb.distanceY(Fe);let ir=$n,nr=1;if(Ae){ir=_n($t.aabb.distanceZ(Fe));const jr=Math.pow(2,$t.zoom),Nr=a.au(($t.y+1)/jr),zr=a.au($t.y/jr),Fi=Math.min(Math.max(Y,Nr),zr),hi=a.bJ(Fi)/a.bJ(Y);if(nr=Fi===Y?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,hi/this._mercatorScaleRatio),this.zoom<=a.bG&&$t.zoom===Wt-1&&hi>=.9)return!0}else if(L&&(ir=_n($t.aabb.distanceZ(Fe)*$e)),this.projection.isReprojectedInTileSpace&&x<=5){const jr=Math.pow(2,$t.zoom),Nr=Ft(new a.L(($t.x+.5)/jr,($t.y+.5)/jr));nr=Nr>.85?1:Nr}const pr=on*on+Kn*Kn+ir,Ir=_n((1<<Wt-$t.zoom)*pt*nr*((jr,Nr)=>{if(Nr*_n(.707)<jr)return 1;const zr=Math.sqrt(Nr/jr);return zr/(1.4144271570014144+(Math.pow(1.1,zr-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(ir,$n),pr));return pr<Ir};if(this.renderWorldCopies)for(let $t=1;$t<=3;$t++)Qt.push(Ot(-$t)),Qt.push(Ot($t));for(Qt.push(Ot(0));Qt.length>0;){const $t=Qt.pop(),on=$t.x,Kn=$t.y;let ir=$t.fullyVisible;const nr=()=>this.projection.name==="globe"&&($t.y===0||$t.y===(1<<$t.zoom)-1);if(!ir){let pr=Ze?$t.aabb.intersects(Me):$t.aabb.intersectsFlat(Me);if(pr===0&&nr()){const Ir=new a.bs($t.zoom,on,Kn);pr=a.bt(this,ae,Ir,!0).intersects(Me)}if(pr===0)continue;ir=pr===2}if($t.zoom!==Wt&&mn($t))for(let pr=0;pr<4;pr++){const Ir=(on<<1)+pr%2,jr=(Kn<<1)+(pr>>1),Nr={aabb:D?$t.aabb.quadrant(pr):a.bu(this,ae,$t.zoom+1,Ir,jr,$t.wrap,$t.minZ,$t.maxZ,this.projection),zoom:$t.zoom+1,x:Ir,y:jr,wrap:$t.wrap,fullyVisible:ir,tileID:void 0,shouldSplit:void 0,minZ:$t.minZ,maxZ:$t.maxZ};L&&!Ae&&(Nr.tileID=new a.am($t.zoom+1===Wt?xn:$t.zoom+1,$t.wrap,$t.zoom+1,Ir,jr),Yt(Nr)),Qt.push(Nr)}else{const pr=$t.zoom===Wt?xn:$t.zoom;if(d.minzoom&&d.minzoom>pr)continue;if(!ir){let zr=Ze?$t.aabb.intersectsPrecise(Me):$t.aabb.intersectsPreciseFlat(Me);if(zr===0&&nr()){const Fi=new a.bs($t.zoom,on,Kn);zr=a.bt(this,ae,Fi,!0).intersectsPrecise(Me)}if(zr===0)continue}const Ir=de[0]-(.5+on+($t.wrap<<$t.zoom))*(1<<g-$t.zoom),jr=de[1]-.5-Kn,Nr=$t.tileID?$t.tileID:new a.am(pr,$t.wrap,$t.zoom,on,Kn);fn.push({tileID:Nr,distanceSq:Ir*Ir+jr*jr})}}if(this.fogCullDistSq){const $t=this.fogCullDistSq,on=this.horizonLineFromTop();fn=fn.filter(Kn=>{const ir=[0,0,0,1],nr=[a.V,a.V,0,1],pr=this.calculateFogTileMatrix(Kn.tileID.toUnwrapped());a.a7.transformMat4(ir,ir,pr),a.a7.transformMat4(nr,nr,pr);const Ir=a.a7.min([],ir,nr),jr=a.a7.max([],ir,nr),Nr=a.bv(Ir,jr);if(Nr===0)return!0;let zr=!1;const Fi=this._elevation;if(Fi&&Nr>$t&&on!==0){const hi=this.calculateProjMatrix(Kn.tileID.toUnwrapped());let Ci;d.isTerrainDEM||(Ci=Fi.getMinMaxForTile(Kn.tileID)),Ci||(Ci={min:qe,max:At});const bi=a.bH(this.rotation),na=[bi[0]*a.V,bi[1]*a.V,Ci.max];a.N.transformMat4(na,na,hi),zr=(1-na[1])*this.height*.5<on}return Nr<$t||zr})}return fn.sort(($t,on)=>$t.distanceSq-on.distanceSq).map($t=>$t.tileID)}resize(d,g){this.width=d,this.height=g,this.pixelsToGLUnits=[2/d,-2/g],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(d){return Math.pow(2,d)}scaleZoom(d){return Math.log(d)/Math.LN2}project(d){const g=a.aa(d.lat,-a.bw,a.bw),x=this.projection.project(d.lng,g);return new a.P(x.x*this.worldSize,x.y*this.worldSize)}unproject(d){return this.projection.unproject(d.x/this.worldSize,d.y/this.worldSize)}get point(){return this.project(this.center)}get pointMerc(){return this.point._div(this.worldSize)}get pixelsPerMeterRatio(){return this.pixelsPerMeter/a.bl(1,this.center.lat)/this.worldSize}setLocationAtPoint(d,g){let x,B;const L=this.centerPoint;if(this.projection.name==="globe"){const $=this.worldSize;x=(g.x-L.x)/$,B=(g.y-L.y)/$}else{const $=this.pointCoordinate(g),Y=this.pointCoordinate(L);x=$.x-Y.x,B=$.y-Y.y}const D=this.locationCoordinate(d);this.setLocation(new a.L(D.x-x,D.y-B))}setLocation(d){this.center=this.coordinateLocation(d),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(d){return this.projection.locationPoint(this,d)}locationPoint3D(d){return this.projection.locationPoint(this,d,!0)}pointLocation(d){return this.coordinateLocation(this.pointCoordinate(d))}pointLocation3D(d){return this.coordinateLocation(this.pointCoordinate3D(d))}locationCoordinate(d,g){const x=g?a.bl(g,d.lat):void 0,B=this.projection.project(d.lng,d.lat);return new a.L(B.x,B.y,x)}coordinateLocation(d){return this.projection.unproject(d.x,d.y)}pointRayIntersection(d,g){const x=g??this._centerAltitude,B=[d.x,d.y,0,1],L=[d.x,d.y,1,1];a.a7.transformMat4(B,B,this.pixelMatrixInverse),a.a7.transformMat4(L,L,this.pixelMatrixInverse);const D=L[3];a.a7.scale(B,B,1/B[3]),a.a7.scale(L,L,1/D);const $=B[2],Y=L[2];return{p0:B,p1:L,t:$===Y?0:(x-$)/(Y-$)}}screenPointToMercatorRay(d){const g=[d.x,d.y,0,1],x=[d.x,d.y,1,1];return a.a7.transformMat4(g,g,this.pixelMatrixInverse),a.a7.transformMat4(x,x,this.pixelMatrixInverse),a.a7.scale(g,g,1/g[3]),a.a7.scale(x,x,1/x[3]),g[2]=a.bl(g[2],this._center.lat)*this.worldSize,x[2]=a.bl(x[2],this._center.lat)*this.worldSize,a.a7.scale(g,g,1/this.worldSize),a.a7.scale(x,x,1/this.worldSize),new a.a2([g[0],g[1],g[2]],a.N.normalize([],a.N.sub([],x,g)))}rayIntersectionCoordinate(d){const{p0:g,p1:x,t:B}=d,L=a.bl(g[2],this._center.lat),D=a.bl(x[2],this._center.lat);return new a.L(a.U(g[0],x[0],B)/this.worldSize,a.U(g[1],x[1],B)/this.worldSize,a.U(L,D,B))}pointCoordinate(d,g=this._centerAltitude){return this.projection.pointCoordinate(this,d.x,d.y,g)}pointCoordinate3D(d){if(!this.elevation)return this.pointCoordinate(d);let g=this.projection.pointCoordinate3D(this,d.x,d.y);if(g)return new a.L(g[0],g[1],g[2]);let x=0,B=this.horizonLineFromTop();if(d.y>B)return this.pointCoordinate(d);const L=.02*B,D=d.clone();for(let $=0;$<10&&B-x>L;$++){D.y=a.U(x,B,.66);const Y=this.projection.pointCoordinate3D(this,D.x,D.y);Y?(B=D.y,g=Y):x=D.y}return g?new a.L(g[0],g[1],g[2]):this.pointCoordinate(d)}isPointAboveHorizon(d){return this.projection.isPointAboveHorizon(this,d)}isPointOnSurface(d){if(d.y<0||d.y>this.height||d.x<0||d.x>this.width)return!1;if(this.elevation||this.zoom>=a.bx)return!this.isPointAboveHorizon(d);const g=this.pointCoordinate(d);return g.y>=0&&g.y<=1}_coordinatePoint(d,g){const x=g&&this.elevation?this.elevation.getAtPointOrZero(d,this._centerAltitude):this._centerAltitude,B=[d.x*this.worldSize,d.y*this.worldSize,x+d.toAltitude(),1];return a.a7.transformMat4(B,B,this.pixelMatrix),B[3]>0?new a.P(B[0]/B[3],B[1]/B[3]):new a.P(Number.MAX_VALUE,Number.MAX_VALUE)}_getBoundsNonRectangular(){const{top:d,left:g}=this._edgeInsets,x=this.height-this._edgeInsets.bottom,B=this.width-this._edgeInsets.right,L=this.pointLocation3D(new a.P(g,d)),D=this.pointLocation3D(new a.P(B,d)),$=this.pointLocation3D(new a.P(B,x)),Y=this.pointLocation3D(new a.P(g,x));let ae=Math.min(L.lng,D.lng,$.lng,Y.lng),de=Math.max(L.lng,D.lng,$.lng,Y.lng),Ae=Math.min(L.lat,D.lat,$.lat,Y.lat),Ce=Math.max(L.lat,D.lat,$.lat,Y.lat);const Me=Math.pow(2,-this.zoom)/16*270,He=this.projection.name==="globe"?1:4,$e=(Ke,Fe,Ze,pt,st)=>{const At=(Ke+Ze)/2,qe=(Fe+pt)/2,mt=new a.P(At,qe),{lng:Ft,lat:Ot}=this.pointLocation3D(mt),Qt=Math.max(0,ae-Ft,Ae-Ot,Ft-de,Ot-Ce);ae=Math.min(ae,Ft),de=Math.max(de,Ft),Ae=Math.min(Ae,Ot),Ce=Math.max(Ce,Ot),(st<He||Qt>Me)&&($e(Ke,Fe,At,qe,st+1),$e(At,qe,Ze,pt,st+1))};if($e(g,d,B,d,1),$e(B,d,B,x,1),$e(B,x,g,x,1),$e(g,x,g,d,1),this.projection.name==="globe"){const[Ke,Fe]=a.by(this);Ke?(Ce=90,de=180,ae=-180):Fe&&(Ae=-90,de=180,ae=-180)}return new a.ad(new a.bn(ae,Ae),new a.bn(de,Ce))}_getBoundsRectangular(d,g){const{top:x,left:B}=this._edgeInsets,L=this.height-this._edgeInsets.bottom,D=this.width-this._edgeInsets.right,$=new a.P(B,x),Y=new a.P(D,x),ae=new a.P(D,L),de=new a.P(B,L);let Ae=this.pointCoordinate($,d),Ce=this.pointCoordinate(Y,d);const Me=this.pointCoordinate(ae,g),He=this.pointCoordinate(de,g),$e=(Ke,Fe)=>(Fe.y-Ke.y)/(Fe.x-Ke.x);return Ae.y>1&&Ce.y>=0?Ae=new a.L((1-He.y)/$e(He,Ae)+He.x,1):Ae.y<0&&Ce.y<=1&&(Ae=new a.L(-He.y/$e(He,Ae)+He.x,0)),Ce.y>1&&Ae.y>=0?Ce=new a.L((1-Me.y)/$e(Me,Ce)+Me.x,1):Ce.y<0&&Ae.y<=1&&(Ce=new a.L(-Me.y/$e(Me,Ce)+Me.x,0)),new a.ad().extend(this.coordinateLocation(Ae)).extend(this.coordinateLocation(Ce)).extend(this.coordinateLocation(He)).extend(this.coordinateLocation(Me))}_getBoundsRectangularTerrain(){const d=this.elevation;if(!d.visibleDemTiles.length||d.isUsingMockSource())return this._getBoundsRectangular(0,0);const g=d.visibleDemTiles.reduce((x,B)=>{if(B.dem){const L=B.dem.tree;x.min=Math.min(x.min,L.minimums[0]),x.max=Math.max(x.max,L.maximums[0])}return x},{min:Number.MAX_VALUE,max:0});return this._getBoundsRectangular(g.min*d.exaggeration(),g.max*d.exaggeration())}getBounds(){return this.projection.name==="mercator"||this.projection.name==="equirectangular"?this._terrainEnabled()?this._getBoundsRectangularTerrain():this._getBoundsRectangular(0,0):this._getBoundsNonRectangular()}horizonLineFromTop(d=!0){const g=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))-this.centerOffset.y,x=this.height/2-g*(1-this._horizonShift);return d?Math.max(0,x):x}getMaxBounds(){return this.maxBounds}setMaxBounds(d){this.maxBounds=d,this.minLat=-a.bw,this.maxLat=a.bw,this.minLng=-180,this.maxLng=180,d&&(this.minLat=d.getSouth(),this.maxLat=d.getNorth(),this.minLng=d.getWest(),this.maxLng=d.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=a.a5(this.minLng)*this.tileSize,this.worldMaxX=a.a5(this.maxLng)*this.tileSize,this.worldMinY=a.ae(this.maxLat)*this.tileSize,this.worldMaxY=a.ae(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(d,g){return this.projection.createTileMatrix(this,g,d)}calculateDistanceTileData(d){const g=d.key,x=this._distanceTileDataCache;if(x[g])return x[g];const B=d.canonical,L=1/this.height,D=this.cameraWorldSize,$=D/this.zoomScale(B.z),Y=(B.x+Math.pow(2,B.z)*d.wrap)*$,ae=B.y*$,de=this.point;de.x*=D/this.worldSize,de.y*=D/this.worldSize;const Ae=this.angle,Ce=Math.sin(-Ae),Me=-Math.cos(-Ae);return x[g]={bearing:[Ce,Me],center:[(de.x-Y)*L,(de.y-ae)*L],scale:$/a.V*L},x[g]}calculateFogTileMatrix(d){const g=d.key,x=this._fogTileMatrixCache;if(x[g])return x[g];const B=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,d);return a.a6.multiply(B,this.worldToFogMatrix,B),x[g]=new Float32Array(B),x[g]}calculateProjMatrix(d,g=!1,x=!1){const B=d.key;let L;if(L=x?this._expandedProjMatrixCache:g?this._alignedProjMatrixCache:this._projMatrixCache,L[B])return L[B];const D=this.calculatePosMatrix(d,this.worldSize);let $;return $=this.projection.isReprojectedInTileSpace?this.mercatorMatrix:x?this.expandedFarZProjMatrix:g?this.alignedProjMatrix:this.projMatrix,a.a6.multiply(D,$,D),L[B]=new Float32Array(D),L[B]}calculatePixelsToTileUnitsMatrix(d){const g=d.tileID.key,x=this._pixelsToTileUnitsCache;if(x[g])return x[g];const B=a.bz(d,this);return x[g]=B,x[g]}customLayerMatrix(){return this.mercatorMatrix.slice()}globeToMercatorMatrix(){if(this.projection.name==="globe"){const d=1/this.worldSize,g=a.a6.fromScaling([],[d,d,d]);return a.a6.multiply(g,g,this.globeMatrix),g}}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;const d=this._elevation;this._updateCameraState();const g=a.bl(1,this._center.lat)*this.worldSize,x=this._computeCameraPosition(g),B=this._camera.forward(),L=a.bl(1,this._center.lat);x[2]/=L,B[2]/=L,a.N.normalize(B,B);const D=d.raycast(x,B,d.exaggeration());if(D){const $=a.N.scaleAndAdd([],x,B,D),Y=new a.L($[0],$[1],a.bl($[2],a.au($[1]))),ae=(Y.z+a.N.length([Y.x-x[0],Y.y-x[1],Y.z-x[2]*L]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(ae),this._centerAltitude=Y.toAltitude(),this._center=this.coordinateLocation(Y),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(d=!1){if(!this._elevation)return;const g=this._elevation,x=a.bl(1,this._center.lat)*this.worldSize,B=this._computeCameraPosition(x),L=g.getAtPointOrZero(new a.L(...B)),D=this.pixelsPerMeter/this.worldSize*L,$=this._minimumHeightOverTerrain(),Y=B[2]-D;if(Y<=$)if(Y<0||d){const ae=this.locationCoordinate(this._center,this._centerAltitude),de=[B[0],B[1],ae.z-B[2]],Ae=a.N.length(de);de[2]-=($-Y)/this._pixelsPerMercatorPixel;const Ce=a.N.length(de);if(Ce===0)return;a.N.scale(de,de,Ae/Ce*this._pixelsPerMercatorPixel),this._camera.position=[B[0],B[1],ae.z*this._pixelsPerMercatorPixel-de[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const d=this.projection.name==="globe"||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||d){const Ce=this.center;return Ce.lat=a.aa(Ce.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!d)&&(Ce.lng=a.aa(Ce.lng,this.minLng,this.maxLng)),this.center=Ce,void(this._constraining=!1)}const g=this._unmodified,{x,y:B}=this.point;let L=0,D=x,$=B;const Y=this.width/2,ae=this.height/2,de=this.worldMinY*this.scale,Ae=this.worldMaxY*this.scale;if(B-ae<de&&($=de+ae),B+ae>Ae&&($=Ae-ae),Ae-de<this.height&&(L=Math.max(L,this.height/(Ae-de)),$=(Ae+de)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const Ce=this.worldMinX*this.scale,Me=this.worldMaxX*this.scale,He=this.worldSize/2-(Ce+Me)/2;D=(x+He+this.worldSize)%this.worldSize-He,D-Y<Ce&&(D=Ce+Y),D+Y>Me&&(D=Me-Y),Me-Ce<this.width&&(L=Math.max(L,this.width/(Me-Ce)),D=(Me+Ce)/2)}D===x&&$===B||(this.center=this.unproject(new a.P(D,$))),L&&(this.zoom+=this.scaleZoom(L)),this._constrainCamera(),this._unmodified=g,this._constraining=!1}_minZoomForBounds(){let d=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(d=Math.max(d,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),d}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const d=this.centerOffset,g=this.projection.name==="globe",x=this.pixelsPerMeter;this.projection.name==="globe"&&(this._mercatorScaleRatio=a.bl(1,this.center.lat)/a.bl(1,a.bI));const B=a.bA(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,B),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const L=this.projection.zAxisUnit==="meters"?x:1,D=this._camera.getWorldToCamera(this.worldSize,L);let $;const Y=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);if(Y[8]=2*-d.x/this.width,Y[9]=2*d.y/this.height,this.isOrthographic){let Ot=.5*this.height/Math.tan(this._fov/2)*1*Math.tan(.5*this._fov),Qt=Ot*this.aspect,fn=-Qt,Wt=-Ot;Qt-=d.x,fn-=d.x,Ot+=d.y,Wt+=d.y,$=this._camera.getCameraToClipOrthographic(fn,Qt,Wt,Ot,this._nearZ,this._farZ),((xn,_n,$n,Yt)=>{for(let mn=0;mn<16;mn++)xn[mn]=Ql(_n[mn],$n[mn],Yt)})($,$,Y,Ah(this.pitch>=15?1:this.pitch/15))}else $=Y;const ae=a.a6.mul([],Y,D);let de=a.a6.mul([],$,D);if(this.projection.isReprojectedInTileSpace){const Ot=this.locationCoordinate(this.center),Qt=a.a6.identity([]);a.a6.translate(Qt,Qt,[Ot.x*this.worldSize,Ot.y*this.worldSize,0]),a.a6.multiply(Qt,Qt,a.bB(this)),a.a6.translate(Qt,Qt,[-Ot.x*this.worldSize,-Ot.y*this.worldSize,0]),a.a6.multiply(de,de,Qt),a.a6.multiply(ae,ae,Qt),this.inverseAdjustmentMatrix=a.bC(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];if(this.mercatorMatrix=a.a6.scale([],de,[this.worldSize,this.worldSize,this.worldSize/L,1]),this.projMatrix=de,this.invProjMatrix=a.a6.invert(new Float64Array(16),this.projMatrix),g){const Ot=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,1/0);Ot[8]=2*-d.x/this.width,Ot[9]=2*d.y/this.height,this.expandedFarZProjMatrix=a.a6.mul([],Ot,D)}else this.expandedFarZProjMatrix=this.projMatrix;const Ae=a.a6.invert([],$);this.frustumCorners=a.bD.fromInvProjectionMatrix(Ae,this.horizonLineFromTop(),this.height),this.cameraFrustum=a.bq.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,0,!g);const Ce=new Float32Array(16);a.a6.identity(Ce),a.a6.scale(Ce,Ce,[1,-1,1]),a.a6.rotateX(Ce,Ce,this._pitch),a.a6.rotateZ(Ce,Ce,this.angle);const Me=a.a6.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ);this.starsProjMatrix=a.a6.clone(Me);const He=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;Me[8]=2*-d.x/this.width,Me[9]=2*(d.y+He)/this.height,this.skyboxMatrix=a.a6.multiply(Ce,Me,Ce);const $e=this.point,Ke=$e.x,Fe=$e.y,Ze=this.width%2/2,pt=this.height%2/2,st=Math.cos(this.angle),At=Math.sin(this.angle),qe=Ke-Math.round(Ke)+st*Ze+At*pt,mt=Fe-Math.round(Fe)+st*pt+At*Ze,Ft=new Float64Array(de);if(a.a6.translate(Ft,Ft,[qe>.5?qe-1:qe,mt>.5?mt-1:mt,0]),this.alignedProjMatrix=Ft,de=a.a6.create(),a.a6.scale(de,de,[this.width/2,-this.height/2,1]),a.a6.translate(de,de,[1,-1,0]),this.labelPlaneMatrix=de,de=a.a6.create(),a.a6.scale(de,de,[1,-1,1]),a.a6.translate(de,de,[-1,-1,0]),a.a6.scale(de,de,[2/this.width,2/this.height,1]),this.glCoordMatrix=de,this.pixelMatrix=a.a6.multiply(new Float64Array(16),this.labelPlaneMatrix,ae),this._calcFogMatrices(),this._distanceTileDataCache={},de=a.a6.invert(new Float64Array(16),this.pixelMatrix),!de)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=de,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=a.bE(this);const Ot=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=a.N.transformMat4(Ot,Ot,D),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=de;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={},this._expandedProjMatrixCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const d=this.cameraWorldSizeForFog,g=this.cameraPixelsPerMeter,x=this._camera.position,B=1/this.height/this._pixelsPerMercatorPixel,L=[d,d,g];a.N.scale(L,L,B),a.N.scale(x,x,-1),a.N.multiply(x,x,L);const D=a.a6.create();a.a6.translate(D,D,x),a.a6.scale(D,D,L),this.mercatorFogMatrix=D,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(d,g,B)}_computeCameraPosition(d){const g=(d=d||this.pixelsPerMeter)/this.pixelsPerMeter,x=this._camera.forward(),B=this.point,L=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*g-d/this.worldSize*this._centerAltitude;return[B.x/this.worldSize-x[0]*L,B.y/this.worldSize-x[1]*L,d/this.worldSize*this._centerAltitude-x[2]*L]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(d){const g=this._maxCameraBoundsDistance()*Math.cos(this._pitch),x=this._camera.position[2],B=d[2];let L=1;this.projection.wrap&&(this.center=this.center.wrap()),B>0&&(L=Math.min((g-x)/B,1)),this._camera.position=a.N.scaleAndAdd([],this._camera.position,d,L),this._updateStateFromCamera()}_updateStateFromCamera(){const d=this._camera.position,g=this._camera.forward(),{pitch:x,bearing:B}=this._camera.getPitchBearing(),L=a.bl(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,D=this._mercatorZfromZoom(this._maxZoom)*Math.cos(a.bj(this._maxPitch)),$=Math.max((d[2]-L)/Math.cos(x),D),Y=this._zoomFromMercatorZ($);a.N.scaleAndAdd(d,d,g,$),this._pitch=a.aa(x,a.bj(this.minPitch),a.bj(this.maxPitch)),this.angle=a.bh(B,-Math.PI,Math.PI),this._setZoom(a.aa(Y,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new a.L(d[0],d[1],d[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(d){return Math.pow(2,d)*this.tileSize}_mercatorZfromZoom(d){return this.cameraToCenterDistance/this._worldSizeFromZoom(d)}_minimumHeightOverTerrain(){const d=Math.min(this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom,this._maxZoom)+4;return this._mercatorZfromZoom(d)}_zoomFromMercatorZ(d){return this.scaleZoom(this.cameraToCenterDistance/(d*this.tileSize))}zoomFromMercatorZAdjusted(d){let g=0,x=a.bx,B=0,L=1/0;for(;x-g>1e-6&&x>g;){const D=g+.5*(x-g),$=this.tileSize*Math.pow(2,D),Y=this.getCameraToCenterDistance(this.projection,D,$),ae=this.scaleZoom(Y/(d*this.tileSize)),de=Math.abs(D-ae);de<L&&(L=de,B=D),D<ae?g=D:x=D}return B}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(a.w("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(d,g){const x=Math.min(d.x,g.x),B=Math.max(d.x,g.x),L=Math.min(d.y,g.y),D=Math.max(d.y,g.y);if(L<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const $=[new a.P(x,L),new a.P(B,D),new a.P(x,D),new a.P(B,L)],Y=this.renderWorldCopies?-3:0,ae=this.renderWorldCopies?4:1;for(const de of $){const Ae=this.pointRayIntersection(de);if(Ae.t<0)return!0;const Ce=this.rayIntersectionCoordinate(Ae);if(Ce.x<Y||Ce.y<0||Ce.x>ae||Ce.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+a.bF(this.fovAboveCenter)>88||this.anyCornerOffEdge(new a.P(0,0),new a.P(this.width,this.height))}zoomDeltaToMovement(d,g){const x=a.N.length(a.N.sub([],this._camera.position,d)),B=this._zoomFromMercatorZ(x)+g;return x-this._mercatorZfromZoom(B)}getCameraPoint(){if(this.projection.name==="globe"){const d=function([g,x,B],L){const D=[g,x,B,1];a.a7.transformMat4(D,D,L);const $=D[3]=Math.max(D[3],1e-6);return D[0]/=$,D[1]/=$,D[2]/=$,D}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new a.P(d[0],d[1])}{const d=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.P(0,d))}}getCameraToCenterDistance(d,g=this.zoom,x=this.worldSize){const B=a.bA(d,g,this.width,this.height,1024),L=d.pixelSpaceConversion(this.center.lat,x,B);let D=.5/Math.tan(.5*this._fov)*this.height*L;return this.isOrthographic&&(D=Ql(1,D,Ah(this.pitch>=15?1:this.pitch/15))),D}getWorldToCameraMatrix(){const d=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?this.pixelsPerMeter:1);return this.projection.name==="globe"&&a.a6.multiply(d,d,this.globeMatrix),d}getFrustum(d){return a.bq.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,d,this.projection.zAxisUnit==="meters")}}const zs={BaseColor:5,MetallicRoughness:6,Normal:7,Occlusion:8,Emission:9,ShadowMap0:10},el=(w,d)=>{if(d>0&&w.terrain&&a.w("Cutoff is currently disabled on terrain"),d<=0||w.terrain)return{shouldRenderCutoff:!1,uniformValues:{u_cutoff_params:[0,0,0,1]}};const g=w.transform,x=Math.max(Math.abs(g._zoom-(w.minCutoffZoom-1)),1),B=g.isLODDisabled(!1)?a.O(60,45,g.pitch):a.O(30,15,g.pitch),L=g._farZ-g._nearZ,D=d*g.height,$=((1-(Y=B))*g.cameraToCenterDistance+Y*(g._farZ+D))*x;var Y;return{shouldRenderCutoff:B<1,uniformValues:{u_cutoff_params:[g._nearZ,g._farZ,($-g._nearZ)/L,($-D-g._nearZ)/L]}}},ao={cascadeCount:2,shadowMapResolution:2048};class ad{constructor(d,g){this.aabb=d,this.lastCascade=g}}class Zf{add(d,g){const x=this.receivers[d.key];x!==void 0?(x.aabb.min[0]=Math.min(x.aabb.min[0],g.min[0]),x.aabb.min[1]=Math.min(x.aabb.min[1],g.min[1]),x.aabb.min[2]=Math.min(x.aabb.min[2],g.min[2]),x.aabb.max[0]=Math.max(x.aabb.max[0],g.max[0]),x.aabb.max[1]=Math.max(x.aabb.max[1],g.max[1]),x.aabb.max[2]=Math.max(x.aabb.max[2],g.max[2])):this.receivers[d.key]=new ad(g,null)}clear(){this.receivers={}}get(d){return this.receivers[d.key]}computeRequiredCascades(d,g,x){const B=a.bS.fromPoints(d.points);let L=0;for(const D in this.receivers){const $=this.receivers[D];if(!$||!B.intersectsAabb($.aabb))continue;$.aabb.min=B.closestPoint($.aabb.min),$.aabb.max=B.closestPoint($.aabb.max);const Y=$.aabb.getCorners();for(let ae=0;ae<x.length;ae++){let de=!0;for(const Ae of Y){const Ce=[Ae[0]*g,Ae[1]*g,Ae[2]];if(a.N.transformMat4(Ce,Ce,x[ae].matrix),Ce[0]<-1||Ce[0]>1||Ce[1]<-1||Ce[1]>1){de=!1;break}}if($.lastCascade=ae,L=Math.max(L,ae),de)break}}return L+1}}class sd{constructor(d){this.painter=d,this._enabled=!1,this._shadowLayerCount=0,this._numCascadesToRender=0,this._cascades=[],this._groundShadowTiles=[],this._receivers=new Zf,this._depthMode=new rr(d.context.gl.LEQUAL,rr.ReadWrite,[0,1]),this._uniformValues={u_light_matrix_0:new Float32Array(16),u_light_matrix_1:new Float32Array(16),u_shadow_intensity:0,u_fade_range:[0,0],u_shadow_normal_offset:[1,1,1],u_shadow_texel_size:1,u_shadow_map_resolution:1,u_shadow_direction:[0,0,1],u_shadow_bias:[36e-5,.0012,.012],u_shadowmap_0:0,u_shadowmap_1:0},this.useNormalOffset=!1,d.tp.registerParameter(ao,["Shadows"],"cascadeCount",{min:1,max:2,step:1}),d.tp.registerParameter(ao,["Shadows"],"shadowMapResolution",{min:32,max:2048,step:32})}destroy(){for(const d of this._cascades)d.texture.destroy(),d.framebuffer.destroy();this._cascades=[]}updateShadowParameters(d,g){const x=this.painter;if(this._enabled=!1,this._shadowLayerCount=0,this._receivers.clear(),!g||!g.properties)return;const B=g.properties.get("shadow-intensity");if(!g.shadowsEnabled()||B<=0||(this._shadowLayerCount=x.style.order.reduce((He,$e)=>{const Ke=x.style._mergedLayers[$e];return He+(Ke.hasShadowPass()&&!Ke.isHidden(d.zoom)?1:0)},0),this._enabled=this._shadowLayerCount>0,!this._enabled))return;const L=x.context,D=ao.shadowMapResolution,$=ao.shadowMapResolution;if(this._cascades.length===0||ao.shadowMapResolution!==this._cascades[0].texture.size[0]){this._cascades=[];for(let He=0;He<ao.cascadeCount;++He){const $e=x._shadowMapDebug,Ke=L.gl,Fe=L.createFramebuffer(D,$,$e,"texture"),Ze=new a.T(L,{width:D,height:$,data:null},Ke.DEPTH_COMPONENT);if(Fe.depthAttachment.set(Ze.texture),$e){const pt=new a.T(L,{width:D,height:$,data:null},Ke.RGBA);Fe.colorAttachment.set(pt.texture)}this._cascades.push({framebuffer:Fe,texture:Ze,matrix:[],far:0,boundingSphereRadius:0,frustum:new a.bq,scale:0})}}this.shadowDirection=Kd(g);let Y=0;if(d.elevation){const He=d.elevation,$e=[1e4,-1e4];He.visibleDemTiles.filter(Ke=>Ke.dem).forEach(Ke=>{const Fe=Ke.dem.tree;$e[0]=Math.min($e[0],Fe.minimums[0]),$e[1]=Math.max($e[1],Fe.maximums[0])}),$e[0]!==1e4&&(Y=($e[1]-$e[0])*He.exaggeration())}const ae=1.5*d.cameraToCenterDistance,de=3*ae,Ae=new Float64Array(16);for(let He=0;He<this._cascades.length;++He){const $e=this._cascades[He];let Ke=d.height/50,Fe=1;ao.cascadeCount===1?Fe=de:He===0?Fe=ae:(Ke=ae,Fe=de);const[Ze,pt]=mh(d,this.shadowDirection,Ke,Fe,ao.shadowMapResolution,Y);$e.scale=d.scale,$e.matrix=Ze,$e.boundingSphereRadius=pt,a.a6.invert(Ae,$e.matrix),$e.frustum=a.bq.fromInvProjectionMatrix(Ae,1,0,!0),$e.far=Fe}const Ce=this._cascades.length-1;this._uniformValues.u_fade_range=[.75*this._cascades[Ce].far,this._cascades[Ce].far],this._uniformValues.u_shadow_intensity=B,this._uniformValues.u_shadow_direction=[this.shadowDirection[0],this.shadowDirection[1],this.shadowDirection[2]],this._uniformValues.u_shadow_texel_size=1/ao.shadowMapResolution,this._uniformValues.u_shadow_map_resolution=ao.shadowMapResolution,this._uniformValues.u_shadowmap_0=zs.ShadowMap0,this._uniformValues.u_shadowmap_1=zs.ShadowMap0+1,this._groundShadowTiles=x.transform.coveringTiles({tileSize:512,renderWorldCopies:!0});const Me=x.transform.elevation;for(const He of this._groundShadowTiles){let $e={min:0,max:0};if(Me){const Ke=Me.getMinMaxForTile(He);Ke&&($e=Ke)}this.addShadowReceiver(He.toUnwrapped(),$e.min,$e.max)}}get enabled(){return this._enabled}set enabled(d){this._enabled=d}drawShadowPass(d,g){if(!this._enabled)return;const x=this.painter,B=x.context;this._numCascadesToRender=this._receivers.computeRequiredCascades(x.transform.getFrustum(0),x.transform.worldSize,this._cascades),B.viewport.set([0,0,ao.shadowMapResolution,ao.shadowMapResolution]);for(let L=0;L<this._numCascadesToRender;++L){x.currentShadowCascade=L,B.bindFramebuffer.set(this._cascades[L].framebuffer.framebuffer),B.clear({color:a.ax.white,depth:1});for(const D of d.order){const $=d._mergedLayers[D];if(!$.hasShadowPass()||$.isHidden(x.transform.zoom))continue;const Y=d.getLayerSourceCache($),ae=Y?g[Y.id]:void 0;($.type==="model"||ae&&ae.length)&&x.renderLayer(x,Y,$,ae)}}x.currentShadowCascade=0}drawGroundShadows(){if(!this._enabled)return;const d=this.painter,g=d.style,x=d.context,B=g.directionalLight,L=g.ambientLight;if(!B||!L)return;const D=[],$=el(d,d.longestCutoffRange);$.shouldRenderCutoff&&D.push("RENDER_CUTOFF");const Y=jl(B,L),ae=new rr(x.gl.LEQUAL,rr.ReadOnly,d.depthRangeFor3D);for(const de of this._groundShadowTiles){const Ae=de.toUnwrapped(),Ce=d.isTileAffectedByFog(de),Me=d.getOrCreateProgram("groundShadow",{defines:D,overrideFog:Ce});this.setupShadows(Ae,Me),d.uploadCommonUniforms(x,Me,Ae,null,$);const He={u_matrix:d.transform.calculateProjMatrix(Ae),u_ground_shadow_factor:Y};Me.draw(d,x.gl.TRIANGLES,ae,si.disabled,Mi.multiply,Vr.disabled,He,"ground_shadow",d.tileExtentBuffer,d.quadTriangleIndexBuffer,d.tileExtentSegments,{},d.transform.zoom,null,null)}}getShadowPassColorMode(){return this.painter._shadowMapDebug?Mi.unblended:Mi.disabled}getShadowPassDepthMode(){return this._depthMode}getShadowCastingLayerCount(){return this._shadowLayerCount}calculateShadowPassMatrixFromTile(d){const g=this.painter.transform,x=g.calculatePosMatrix(d,g.worldSize);return a.a6.multiply(x,this._cascades[this.painter.currentShadowCascade].matrix,x),Float32Array.from(x)}calculateShadowPassMatrixFromMatrix(d){return a.a6.multiply(d,this._cascades[this.painter.currentShadowCascade].matrix,d),Float32Array.from(d)}setupShadows(d,g,x,B=0){if(!this._enabled)return;const L=this.painter.transform,D=this.painter.context,$=D.gl,Y=this._uniformValues,ae=new Float64Array(16),de=L.calculatePosMatrix(d,L.worldSize);for(let Ae=0;Ae<this._cascades.length;Ae++)a.a6.multiply(ae,this._cascades[Ae].matrix,de),Y[Ae===0?"u_light_matrix_0":"u_light_matrix_1"]=Float32Array.from(ae),D.activeTexture.set($.TEXTURE0+zs.ShadowMap0+Ae),this._cascades[Ae].texture.bind($.NEAREST,$.CLAMP_TO_EDGE);if(this.useNormalOffset=!!x,this.useNormalOffset){const Ae=a.bR(d.canonical),Ce=2/L.tileSize*a.V/ao.shadowMapResolution,Me=Ce*this._cascades[0].boundingSphereRadius,He=Ce*this._cascades[this._cascades.length-1].boundingSphereRadius,$e=(x==="vector-tile"?1:3)/Math.pow(2,B-d.canonical.z-(1-L.zoom+Math.floor(L.zoom)));Y.u_shadow_normal_offset=[Ae,Me*$e,He*$e],Y.u_shadow_bias=[6e-5,.0012,.012]}else Y.u_shadow_bias=[36e-5,.0012,.012];g.setShadowUniformValues(D,Y)}setupShadowsFromMatrix(d,g,x=!1){if(!this._enabled)return;const B=this.painter.context,L=B.gl,D=this._uniformValues,$=new Float64Array(16);for(let Y=0;Y<ao.cascadeCount;Y++)a.a6.multiply($,this._cascades[Y].matrix,d),D[Y===0?"u_light_matrix_0":"u_light_matrix_1"]=Float32Array.from($),B.activeTexture.set(L.TEXTURE0+zs.ShadowMap0+Y),this._cascades[Y].texture.bind(L.NEAREST,L.CLAMP_TO_EDGE);this.useNormalOffset=x,x?(D.u_shadow_normal_offset=[1,5,5],D.u_shadow_bias=[6e-5,.0012,.012]):D.u_shadow_bias=[36e-5,.0012,.012],g.setShadowUniformValues(B,D)}getShadowUniformValues(){return this._uniformValues}getCurrentCascadeFrustum(){return this._cascades[this.painter.currentShadowCascade].frustum}computeSimplifiedTileShadowVolume(d,g,x,B){if(B[2]>=0)return{};const L=function(Y,ae,de){const Ae=de/(1<<Y.canonical.z);return new a.bS([Y.canonical.x*Ae+Y.wrap*de,Y.canonical.y*Ae+Y.wrap*de,0],[(Y.canonical.x+1)*Ae+Y.wrap*de,(Y.canonical.y+1)*Ae+Y.wrap*de,ae])}(d,g,x).getCorners(),D=g/-B[2];B[0]<0?(a.N.add(L[0],L[0],[B[0]*D,0,0]),a.N.add(L[3],L[3],[B[0]*D,0,0])):B[0]>0&&(a.N.add(L[1],L[1],[B[0]*D,0,0]),a.N.add(L[2],L[2],[B[0]*D,0,0])),B[1]<0?(a.N.add(L[0],L[0],[0,B[1]*D,0]),a.N.add(L[1],L[1],[0,B[1]*D,0])):B[1]>0&&(a.N.add(L[2],L[2],[0,B[1]*D,0]),a.N.add(L[3],L[3],[0,B[1]*D,0]));const $={};return $.vertices=L,$.planes=[Iu(L[1],L[0],L[4]),Iu(L[2],L[1],L[5]),Iu(L[3],L[2],L[6]),Iu(L[0],L[3],L[7])],$}addShadowReceiver(d,g,x){this._receivers.add(d,a.bS.fromTileIdAndHeight(d,g,x))}getMaxCascadeForTile(d){const g=this._receivers.get(d);return g&&g.lastCascade?g.lastCascade:0}}function Iu(w,d,g){const x=a.N.sub([],g,d),B=a.N.sub([],w,d),L=a.N.cross([],x,B),D=a.N.length(L);return D===0?[0,0,1,0]:(a.N.scale(L,L,1/D),[L[0],L[1],L[2],-a.N.dot(L,d)])}function Kd(w){const d=w.properties.get("direction"),g=a.bQ(d.x,d.y,d.z);g[2]=a.aa(g[2],0,75);const x=a.bT([g[0],g[1],g[2]]);return a.N.fromValues(x.x,x.y,x.z)}function jl(w,d){const g=w.properties.get("color"),x=w.properties.get("intensity"),B=w.properties.get("direction"),L=[B.x,B.y,B.z],D=d.properties.get("color"),$=d.properties.get("intensity"),Y=Math.max(a.N.dot([0,0,1],L),0),ae=[0,0,0];a.N.scale(ae,D.toArray01Linear().slice(0,3),$);const de=[0,0,0];return a.N.scale(de,g.toArray01Linear().slice(0,3),Y*x),a.bU([ae[0]>0?ae[0]/(ae[0]+de[0]):0,ae[1]>0?ae[1]/(ae[1]+de[1]):0,ae[2]>0?ae[2]/(ae[2]+de[2]):0])}function mh(w,d,g,x,B,L){const D=w.zoom,$=w.scale,Y=w.worldSize,ae=1/Y,de=w.aspect,Ae=Math.sqrt(1+de*de)*Math.tan(.5*w.fovX),Ce=Ae*Ae,Me=x-g,He=x+g;let $e,Ke;Ce>Me/He?($e=x,Ke=x*Ae):($e=.5*He*(1+Ce),Ke=.5*Math.sqrt(Me*Me+2*(x*x+g*g)*Ce+He*He*Ce*Ce));const Fe=w.projection.pixelsPerMeter(w.center.lat,Y),Ze=w._camera.getCameraToWorldMercator(),pt=[0,0,-$e*ae];a.N.transformMat4(pt,pt,Ze);let st=Ke*ae;const At=w._edgeInsets;if(!(At.left===0&&At.top===0&&At.right===0&&At.bottom===0||At.left===At.right&&At.top===At.bottom)){const ir=w._camera.getWorldToCamera(w.worldSize,w.projection.zAxisUnit==="meters"?Fe:1),nr=w._camera.getCameraToClipPerspective(w._fov,w.width/w.height,g,x);nr[8]=2*-w.centerOffset.x/w.width,nr[9]=2*w.centerOffset.y/w.height;const pr=new Float64Array(16);a.a6.mul(pr,nr,ir);const Ir=new Float64Array(16);a.a6.invert(Ir,pr);const jr=a.bq.fromInvProjectionMatrix(Ir,Y,D,!0);for(const Nr of jr.points){const zr=((qe=Nr)[0]/=$,qe[1]/=$,qe[2]=a.bl(qe[2],w._center.lat),qe);st=Math.max(st,a.N.len(a.N.subtract([],pt,zr)))}}var qe;st*=B/(B-1);const mt=Math.acos(d[2]),Ft=Math.atan2(-d[0],-d[1]),Ot=new Hc;Ot.position=pt,Ot.setPitchBearing(mt,Ft);const Qt=Ot.getWorldToCamera(Y,Fe),fn=st*Y,Wt=Math.min(w._mercatorZfromZoom(17)*Y*-2,-2*fn),xn=Ot.getCameraToClipOrthographic(-fn,fn,-fn,fn,Wt,(fn+L*Fe)/d[2]),_n=new Float64Array(16);a.a6.multiply(_n,xn,Qt);const $n=a.N.fromValues(Math.floor(1e6*pt[0])/1e6*Y,Math.floor(1e6*pt[1])/1e6*Y,0),Yt=.5*B,mn=[0,0,0];a.N.transformMat4(mn,$n,_n),a.N.scale(mn,mn,Yt);const $t=[Math.floor(mn[0]),Math.floor(mn[1]),Math.floor(mn[2])],on=[0,0,0];a.N.sub(on,mn,$t),a.N.scale(on,on,-1/Yt);const Kn=new Float64Array(16);return a.a6.identity(Kn),a.a6.translate(Kn,Kn,on),a.a6.multiply(_n,Kn,_n),[_n,fn]}const Ka=(w,d)=>Mt(w,d&&d.filter(g=>g.identifier!=="source.canvas")),bs=a.ac(Oi,["addLayer","removeLayer","setLights","setPaintProperty","setLayoutProperty","setSlot","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection","setCamera","addImport","removeImport","updateImport"]),Ms=a.ac(Oi,["setCenter","setZoom","setBearing","setPitch"]),To={version:8,layers:[],sources:{}},gh={duration:300,delay:0},Wd=new Set(["fill","line","background","hillshade","raster"]);class Gl extends a.E{constructor(d,g={}){super(),this.map=d,this.scope=g.scope||"",this.fragments=[],this.importDepth=g.importDepth||0,this.importsCache=g.importsCache||new Map,this.resolvedImports=g.resolvedImports||new Set,this.transition=a.e({},gh),this._buildingIndex=new td(this),this.crossTileSymbolIndex=new ph,this._mergedOrder=[],this._drapedFirstOrder=[],this._mergedLayers={},this._mergedSourceCaches={},this._mergedOtherSourceCaches={},this._mergedSymbolSourceCaches={},this._has3DLayers=!1,this._hasCircleLayers=!1,this._hasSymbolLayers=!1,this._changes=g.styleChanges||new ie,this.dispatcher=g.dispatcher?g.dispatcher:new a.bW(a.bX(),this),g.imageManager?this.imageManager=g.imageManager:(this.imageManager=new ue,this.imageManager.setEventedParent(this)),this.imageManager.createScope(this.scope),this.glyphManager=g.glyphManager?g.glyphManager:new a.bY(d._requestManager,g.localFontFamily?a.bZ.all:g.localIdeographFontFamily?a.bZ.ideographs:a.bZ.none,g.localFontFamily||g.localIdeographFontFamily),g.modelManager?this.modelManager=g.modelManager:(this.modelManager=new q(d._requestManager),this.modelManager.setEventedParent(this)),this._layers={},this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._precompileDone=!1,this._shouldPrecompile=!1,this._availableImages=[],this._order=[],this._markersNeedUpdate=!1,this.options=g.configOptions?g.configOptions:new Map,this._configDependentLayers=g.configDependentLayers?g.configDependentLayers:new Set,this._config=g.config,this.dispatcher.broadcast("setReferrer",a.b_());const x=this;this._rtlTextPluginCallback=Gl.registerForPluginStateChange(B=>{x.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:B.pluginStatus,pluginURL:B.pluginURL},(L,D)=>{if(a.b$(L),D&&D.every($=>$))for(const $ in x._sourceCaches){const Y=x._sourceCaches[$],ae=Y.getSource().type;ae!=="vector"&&ae!=="geojson"||Y.reload()}})}),this.on("data",B=>{if(B.dataType!=="source"||B.sourceDataType!=="metadata")return;const L=this.getOwnSource(B.sourceId);if(L&&L.vectorLayerIds)for(const D in this._layers){const $=this._layers[D];$.source===L.id&&this._validateLayer($)}})}loadURL(d,g={}){this.fire(new a.b("dataloading",{dataType:"style"}));const x=typeof g.validate=="boolean"?g.validate:!a.c0(d);d=this.map._requestManager.normalizeStyleURL(d,g.accessToken),this.resolvedImports.add(d);const B=this.importsCache.get(d);if(B)return this._load(B,x);const L=this.map._requestManager.transformRequest(d,a.R.Style);this._request=a.g(L,(D,$)=>{if(this._request=null,D)this.fire(new a.a(D));else if($)return this.importsCache.set(d,$),this._load($,x)})}loadJSON(d,g={}){this.fire(new a.b("dataloading",{dataType:"style"})),this._request=a.f.frame(()=>{this._request=null,this._load(d,g.validate!==!1)})}loadEmpty(){this.fire(new a.b("dataloading",{dataType:"style"})),this._load(To,!1)}_loadImports(d,g,x){if(this.importDepth>=4)return a.w("Style doesn't support nesting deeper than 5"),Promise.resolve();const B=[];for(const L of d){const D=this._createFragmentStyle(L),$=new Promise(de=>{D.once("style.import.load",de),D.once("error",de)}).then(()=>this.mergeAll());if(B.push($),this.resolvedImports.has(L.url)){D.loadEmpty();continue}const Y=L.data||this.importsCache.get(L.url);Y?D.loadJSON(Y,{validate:g}):L.url?D.loadURL(L.url,{validate:g}):D.loadEmpty();const ae={style:D,id:L.id,config:L.config};if(x){const de=this.fragments.findIndex(({id:Ae})=>Ae===x);this.fragments=this.fragments.slice(0,de).concat(ae).concat(this.fragments.slice(de))}else this.fragments.push(ae)}return Promise.allSettled(B)}_createFragmentStyle(d){const g=this.scope?a.ag(d.id,this.scope):d.id,x=new Gl(this.map,{scope:g,styleChanges:this._changes,importDepth:this.importDepth+1,importsCache:this.importsCache,resolvedImports:new Set(this.resolvedImports),dispatcher:this.dispatcher,imageManager:this.imageManager,glyphManager:this.glyphManager,modelManager:this.modelManager,config:d.config,configOptions:this.options,configDependentLayers:this._configDependentLayers});return x.setEventedParent(this.map,{style:x}),x}_reloadImports(){this.mergeAll(),this._updateMapProjection(),this.updateConfigDependencies(),this.map._triggerCameraUpdate(this.camera),this.dispatcher.broadcast("setLayers",{layers:this._serializeLayers(this._order),scope:this.scope,options:this.options});const d=this.isRootStyle();this._shouldPrecompile=d,this.fire(new a.b(d?"style.load":"style.import.load"))}_load(d,g){const x=d.schema;if(this.isRootStyle()&&(d.fragment||x&&d.fragment!==!1)){const D=a.e({},To,{imports:[{id:"basemap",data:d,url:""}]});return void this._load(D,g)}if(this.setConfig(this._config,x),g&&Ka(this,qt(d)))return;this._loaded=!0,this.stylesheet=a.c1(d);for(const D in d.sources)this.addSource(D,d.sources[D],{validate:!1,isInitialLoad:!0});d.sprite?this._loadSprite(d.sprite):(this.imageManager.setLoaded(!0,this.scope),this.dispatcher.broadcast("spriteLoaded",{scope:this.scope,isLoaded:!0})),this.glyphManager.setURL(d.glyphs,this.scope);const B=dA(this.stylesheet.layers);if(this._order=B.map(D=>D.id),this.stylesheet.light&&a.w("The `light` root property is deprecated, prefer using `lights` with `flat` light type instead."),this.stylesheet.lights)if(this.stylesheet.lights.length===1&&this.stylesheet.lights[0].type==="flat"){const D=this.stylesheet.lights[0];this.light=new et(D.properties,D.id)}else this.setLights(this.stylesheet.lights);this.light||(this.light=new et(this.stylesheet.light)),this._layers={},this._serializedLayers={};for(const D of B){const $=a.c2(D,this.scope,this.options);$.isConfigDependent&&this._configDependentLayers.add($.fqid),$.setEventedParent(this,{layer:{id:$.id}}),this._layers[$.id]=$,this._serializedLayers[$.id]=$.serialize();const Y=this.getOwnLayerSourceCache($),ae=!!this.directionalLight&&this.directionalLight.shadowsEnabled();Y&&$.canCastShadows()&&ae&&(Y.castsShadows=!0)}this.stylesheet.models&&this.modelManager.addModels(this.stylesheet.models,this.scope);const L=this.stylesheet.terrain;L&&(this.disableElevatedTerrain===void 0&&(this.disableElevatedTerrain=a.f.hasCanvasFingerprintNoise()),this.disableElevatedTerrain?a.w("Terrain and hillshade are disabled because of Canvas2D limitations when fingerprinting protection is enabled (e.g. in private browsing mode)."):this.terrainSetForDrapingOnly()||this._createTerrain(L,1)),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this.stylesheet.transition&&this.setTransition(this.stylesheet.transition),this.fire(new a.b("data",{dataType:"style"})),d.imports?this._loadImports(d.imports,g).then(()=>this._reloadImports()):this._reloadImports()}isRootStyle(){return this.importDepth===0}mergeAll(){let d,g,x,B,L,D,$,Y;this.terrain&&this.terrain.scope!==this.scope&&delete this.terrain,this.forEachFragmentStyle(ae=>{if(ae.stylesheet){if(ae.light!=null&&(d=ae.light),ae.stylesheet.lights)for(const de of ae.stylesheet.lights)de.type==="ambient"&&ae.ambientLight!=null&&(g=ae.ambientLight),de.type==="directional"&&ae.directionalLight!=null&&(x=ae.directionalLight);B=this._prioritizeTerrain(B,ae.terrain,ae.stylesheet.terrain),ae.stylesheet.fog&&ae.fog!=null&&(L=ae.fog),ae.stylesheet.camera!=null&&(Y=ae.stylesheet.camera),ae.stylesheet.projection!=null&&(D=ae.stylesheet.projection),ae.stylesheet.transition!=null&&($=ae.stylesheet.transition)}}),this.light=d,this.ambientLight=g,this.directionalLight=x,this.fog=L,B===null?delete this.terrain:this.terrain=B,this.camera=Y||{"camera-projection":"perspective"},this.projection=D||{name:"mercator"},this.transition=a.e({},gh,$),this.mergeSources(),this.mergeLayers()}forEachFragmentStyle(d){const g=x=>{for(const B of x.fragments)g(B.style);d(x)};g(this)}_prioritizeTerrain(d,g,x){const B=d&&d.drapeRenderMode===0;return x===null?g&&g.drapeRenderMode===0?g:B?d:null:g!=null&&(!d||B||g&&g.drapeRenderMode===1)?g:d}mergeTerrain(){let d;this.terrain&&this.terrain.scope!==this.scope&&delete this.terrain,this.forEachFragmentStyle(g=>{d=this._prioritizeTerrain(d,g.terrain,g.stylesheet.terrain)}),d===null?delete this.terrain:this.terrain=d}mergeProjection(){let d;this.forEachFragmentStyle(g=>{g.stylesheet.projection!=null&&(d=g.stylesheet.projection)}),this.projection=d||{name:"mercator"}}mergeSources(){const d={},g={},x={};this.forEachFragmentStyle(B=>{for(const L in B._sourceCaches){const D=a.ag(L,B.scope);d[D]=B._sourceCaches[L]}for(const L in B._otherSourceCaches){const D=a.ag(L,B.scope);g[D]=B._otherSourceCaches[L]}for(const L in B._symbolSourceCaches){const D=a.ag(L,B.scope);x[D]=B._symbolSourceCaches[L]}}),this._mergedSourceCaches=d,this._mergedOtherSourceCaches=g,this._mergedSymbolSourceCaches=x}mergeLayers(){const d={},g=[],x={};this._has3DLayers=!1,this._hasCircleLayers=!1,this._hasSymbolLayers=!1,this.forEachFragmentStyle(L=>{for(const D of L._order){const $=L._layers[D];if($.type==="slot"){const Y=a.c3(D);if(d[Y])continue;d[Y]=[]}$.slot&&d[$.slot]?d[$.slot].push($):g.push($)}}),this._mergedOrder=[];const B=(L=[])=>{for(const D of L)if(D.type==="slot"){const $=a.c3(D.id);d[$]&&B(d[$])}else{const $=a.ag(D.id,D.scope);this._mergedOrder.push($),x[$]=D,D.is3D()&&(this._has3DLayers=!0),D.type==="circle"&&(this._hasCircleLayers=!0),D.type==="symbol"&&(this._hasSymbolLayers=!0)}};B(g),this._mergedLayers=x,this.updateDrapeFirstLayers(),this._buildingIndex.processLayersChanged()}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}getCamera(){return this.stylesheet.camera}setCamera(d){return this.stylesheet.camera=a.e({},this.stylesheet.camera,d),this.camera=this.stylesheet.camera,this}setProjection(d){d?this.stylesheet.projection=d:delete this.stylesheet.projection,this.mergeProjection(),this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?(this.getTerrain()||this.stylesheet.terrain)&&!this.disableElevatedTerrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null,0))}_updateMapProjection(){this.isRootStyle()&&(this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.projection))}_loadSprite(d){this._spriteRequest=function(g,x,B){let L,D,$;const Y=a.f.devicePixelRatio>1?"@2x":"";let ae=a.g(x.transformRequest(x.normalizeSpriteURL(g,Y,".json"),a.R.SpriteJSON),(Ce,Me)=>{ae=null,$||($=Ce,L=Me,Ae())}),de=a.d(x.transformRequest(x.normalizeSpriteURL(g,Y,".png"),a.R.SpriteImage),(Ce,Me)=>{de=null,$||($=Ce,D=Me,Ae())});function Ae(){if($)B($);else if(L&&D){const Ce=a.f.getImageData(D),Me={};for(const He in L){const{width:$e,height:Ke,x:Fe,y:Ze,sdf:pt,pixelRatio:st,stretchX:At,stretchY:qe,content:mt}=L[He],Ft=new a.h({width:$e,height:Ke});a.h.copy(Ce,Ft,{x:Fe,y:Ze},{x:0,y:0},{width:$e,height:Ke}),Me[He]={data:Ft,pixelRatio:st,sdf:pt,stretchX:At,stretchY:qe,content:mt}}B(null,Me)}}return{cancel(){ae&&(ae.cancel(),ae=null),de&&(de.cancel(),de=null)}}}(d,this.map._requestManager,(g,x)=>{if(this._spriteRequest=null,g)this.fire(new a.a(g));else if(x)for(const B in x)this.imageManager.addImage(B,this.scope,x[B]);this.imageManager.setLoaded(!0,this.scope),this._availableImages=this.imageManager.listImages(this.scope),this.dispatcher.broadcast("setImages",{scope:this.scope,images:this._availableImages}),this.dispatcher.broadcast("spriteLoaded",{scope:this.scope,isLoaded:!0}),this.fire(new a.b("data",{dataType:"style"}))})}_validateLayer(d){const g=this.getOwnSource(d.source);if(!g)return;const x=d.sourceLayer;x&&(g.type==="geojson"||g.vectorLayerIds&&g.vectorLayerIds.indexOf(x)===-1)&&this.fire(new a.a(new Error(`Source layer "${x}" does not exist on source "${g.id}" as specified by style layer "${d.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._changes.getUpdatedSourceCaches()).length)return!1;for(const d in this._sourceCaches)if(!this._sourceCaches[d].loaded())return!1;if(!this.imageManager.isLoaded()||!this.modelManager.isLoaded())return!1;for(const{style:d}of this.fragments)if(!d.loaded())return!1;return!0}_serializeImports(){if(this.stylesheet.imports)return this.stylesheet.imports.map((d,g)=>{const x=this.fragments[g];return x&&x.style&&(d.data=x.style.serialize()),d})}_serializeSources(){const d={};for(const g in this._sourceCaches){const x=this._sourceCaches[g].getSource();d[x.id]||(d[x.id]=x.serialize())}return d}_serializeLayers(d){const g=[];for(const x of d){const B=this._layers[x];B&&B.type!=="custom"&&g.push(B.serialize())}return g}hasLightTransitions(){return!(!this.light||!this.light.hasTransition())||!(!this.ambientLight||!this.ambientLight.hasTransition())||!(!this.directionalLight||!this.directionalLight.hasTransition())}hasFogTransition(){return!!this.fog&&this.fog.hasTransition()}hasTransitions(){if(this.hasLightTransitions()||this.hasFogTransition())return!0;for(const d in this._sourceCaches)if(this._sourceCaches[d].hasTransition())return!0;for(const d in this._layers)if(this._layers[d].hasTransition())return!0;return!1}get order(){return this.terrain?this._drapedFirstOrder:this._mergedOrder}isLayerDraped(d){return!!this.terrain&&(typeof d.isLayerDraped=="function"?d.isLayerDraped(this.getLayerSourceCache(d)):Wd.has(d.type))}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}_checkLayer(d){const g=this.getOwnLayer(d);if(g)return g;this.fire(new a.a(new Error(`The layer '${d}' does not exist in the map's style.`)))}_checkSource(d){const g=this.getOwnSource(d);if(g)return g;this.fire(new a.a(new Error(`The source '${d}' does not exist in the map's style.`)))}update(d){if(!this._loaded)return;this.ambientLight&&this.ambientLight.recalculate(d),this.directionalLight&&this.directionalLight.recalculate(d);const g=this.calculateLightsBrightness();d.brightness=g||0,g!==this._brightness&&(this._brightness=g,this.dispatcher.broadcast("setBrightness",g));const x=this._changes.isDirty();if(this._changes.isDirty()){const L=this._changes.getLayerUpdatesByScope();for(const D in L){const{updatedIds:$,removedIds:Y}=L[D];($||Y)&&this._updateWorkerLayers(D,$,Y)}this.updateSourceCaches(),this._updateTilesForChangedImages(),this.updateLayers(d),this.light&&this.light.updateTransitions(d),this.ambientLight&&this.ambientLight.updateTransitions(d),this.directionalLight&&this.directionalLight.updateTransitions(d),this.fog&&this.fog.updateTransitions(d),this._changes.reset()}const B={};for(const L in this._mergedSourceCaches){const D=this._mergedSourceCaches[L];B[L]=D.used,D.used=!1,D.tileCoverLift=0}for(const L of this._mergedOrder){const D=this._mergedLayers[L];if(D.recalculate(d,this._availableImages),!D.isHidden(d.zoom)){const $=this.getLayerSourceCache(D);$&&($.used=!0,$.tileCoverLift=Math.max($.tileCoverLift,D.tileCoverLift()))}if(!this._precompileDone&&this._shouldPrecompile)for(let $=D.minzoom||0;$<(D.maxzoom||25.5);$++){const Y=this.map.painter;if(Y){const ae=D.getProgramIds();if(!ae)continue;for(const de of ae){const Ae=D.getDefaultProgramParams(de,d.zoom);Ae&&(Y.style=this,this.fog&&(Y._fogVisible=!0,Ae.overrideFog=!0,Y.getOrCreateProgram(de,Ae)),Y._fogVisible=!1,Ae.overrideFog=!1,Y.getOrCreateProgram(de,Ae),(this.stylesheet.terrain||this.stylesheet.projection&&this.stylesheet.projection.name==="globe")&&(Ae.overrideRtt=!0,Y.getOrCreateProgram(de,Ae)))}}}}this._shouldPrecompile&&(this._precompileDone=!0);for(const L in B){const D=this._mergedSourceCaches[L];B[L]!==D.used&&D.getSource().fire(new a.b("data",{sourceDataType:"visibility",dataType:"source",sourceId:D.getSource().id}))}this.light&&this.light.recalculate(d),this.terrain&&this.terrain.recalculate(d),this.fog&&this.fog.recalculate(d),this.z=d.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),x&&this.fire(new a.b("data",{dataType:"style"}))}_updateTilesForChangedImages(){const d=this._changes.getUpdatedImages();if(d.length){for(const g in this._sourceCaches)this._sourceCaches[g].reloadTilesForDependencies(["icons","patterns"],d);this._changes.resetUpdatedImages()}}_updateWorkerLayers(d,g,x){const B=this.getFragmentStyle(d);B&&this.dispatcher.broadcast("updateLayers",{layers:g?B._serializeLayers(g):[],scope:d,removedIds:x||[],options:B.options})}setState(d){if(this._checkLoaded(),Ka(this,qt(d)))return!1;(d=a.c1(d)).layers=dA(d.layers);const g=function(B,L){if(!B)return[{command:Oi.setStyle,args:[L]}];let D=[];try{if(!f(B.version,L.version))return[{command:Oi.setStyle,args:[L]}];f(B.center,L.center)||D.push({command:Oi.setCenter,args:[L.center]}),f(B.zoom,L.zoom)||D.push({command:Oi.setZoom,args:[L.zoom]}),f(B.bearing,L.bearing)||D.push({command:Oi.setBearing,args:[L.bearing]}),f(B.pitch,L.pitch)||D.push({command:Oi.setPitch,args:[L.pitch]}),f(B.sprite,L.sprite)||D.push({command:Oi.setSprite,args:[L.sprite]}),f(B.glyphs,L.glyphs)||D.push({command:Oi.setGlyphs,args:[L.glyphs]}),f(B.imports,L.imports)||function(Ae=[],Ce=[],Me){Ce=Ce||[];const He=(Ae=Ae||[]).map($c),$e=Ce.map($c),Ke=Ae.reduce(nd,{}),Fe=Ce.reduce(nd,{}),Ze=He.slice();let pt,st,At,qe;for(pt=0,st=0;pt<He.length;pt++)At=He[pt],Fe.hasOwnProperty(At)?st++:(Me.push({command:Oi.removeImport,args:[At]}),Ze.splice(Ze.indexOf(At,st),1));for(pt=0,st=0;pt<$e.length;pt++)At=$e[$e.length-1-pt],Ze[Ze.length-1-pt]!==At&&(Ke.hasOwnProperty(At)?(Me.push({command:Oi.removeImport,args:[At]}),Ze.splice(Ze.lastIndexOf(At,Ze.length-st),1)):st++,qe=Ze[Ze.length-pt],Me.push({command:Oi.addImport,args:[Fe[At],qe]}),Ze.splice(Ze.length-pt,0,At));for(const mt of Ce){const Ft=Ke[mt.id];Ft&&!f(Ft,mt)&&Me.push({command:Oi.updateImport,args:[mt.id,mt]})}}(B.imports,L.imports,D),f(B.transition,L.transition)||D.push({command:Oi.setTransition,args:[L.transition]}),f(B.light,L.light)||D.push({command:Oi.setLight,args:[L.light]}),f(B.fog,L.fog)||D.push({command:Oi.setFog,args:[L.fog]}),f(B.projection,L.projection)||D.push({command:Oi.setProjection,args:[L.projection]}),f(B.lights,L.lights)||D.push({command:Oi.setLights,args:[L.lights]}),f(B.camera,L.camera)||D.push({command:Oi.setCamera,args:[L.camera]});const $={},Y=[];(function(Ae,Ce,Me,He){let $e;for($e in Ce=Ce||{},Ae=Ae||{})Ae.hasOwnProperty($e)&&(Ce.hasOwnProperty($e)||jd($e,Me,He));for($e in Ce){if(!Ce.hasOwnProperty($e))continue;const Ke=Ce[$e];Ae.hasOwnProperty($e)?f(Ae[$e],Ke)||(Ae[$e].type==="geojson"&&Ke.type==="geojson"&&Rm(Ae,Ce,$e)?Me.push({command:Oi.setGeoJSONSourceData,args:[$e,Ke.data]}):b1($e,Ce,Me,He)):Qf($e,Ce,Me)}})(B.sources,L.sources,Y,$);const ae=[];B.layers&&B.layers.forEach(Ae=>{Ae.source&&$[Ae.source]?D.push({command:Oi.removeLayer,args:[Ae.id]}):ae.push(Ae)});let de=B.terrain;de&&$[de.source]&&(D.push({command:Oi.setTerrain,args:[void 0]}),de=void 0),D=D.concat(Y),f(de,L.terrain)||D.push({command:Oi.setTerrain,args:[L.terrain]}),function(Ae,Ce,Me){Ce=Ce||[];const He=(Ae=Ae||[]).map($c),$e=Ce.map($c),Ke=Ae.reduce(nd,{}),Fe=Ce.reduce(nd,{}),Ze=He.slice(),pt=Object.create(null);let st,At,qe,mt,Ft,Ot,Qt;for(st=0,At=0;st<He.length;st++)qe=He[st],Fe.hasOwnProperty(qe)?At++:(Me.push({command:Oi.removeLayer,args:[qe]}),Ze.splice(Ze.indexOf(qe,At),1));for(st=0,At=0;st<$e.length;st++)qe=$e[$e.length-1-st],Ze[Ze.length-1-st]!==qe&&(Ke.hasOwnProperty(qe)?(Me.push({command:Oi.removeLayer,args:[qe]}),Ze.splice(Ze.lastIndexOf(qe,Ze.length-At),1)):At++,Ot=Ze[Ze.length-st],Me.push({command:Oi.addLayer,args:[Fe[qe],Ot]}),Ze.splice(Ze.length-st,0,qe),pt[qe]=!0);for(st=0;st<$e.length;st++)if(qe=$e[st],mt=Ke[qe],Ft=Fe[qe],!pt[qe]&&!f(mt,Ft))if(f(mt.source,Ft.source)&&f(mt["source-layer"],Ft["source-layer"])&&f(mt.type,Ft.type)){for(Qt in uc(mt.layout,Ft.layout,Me,qe,null,Oi.setLayoutProperty),uc(mt.paint,Ft.paint,Me,qe,null,Oi.setPaintProperty),f(mt.slot,Ft.slot)||Me.push({command:Oi.setSlot,args:[qe,Ft.slot]}),f(mt.filter,Ft.filter)||Me.push({command:Oi.setFilter,args:[qe,Ft.filter]}),f(mt.minzoom,Ft.minzoom)&&f(mt.maxzoom,Ft.maxzoom)||Me.push({command:Oi.setLayerZoomRange,args:[qe,Ft.minzoom,Ft.maxzoom]}),mt)mt.hasOwnProperty(Qt)&&Qt!=="layout"&&Qt!=="paint"&&Qt!=="filter"&&Qt!=="metadata"&&Qt!=="minzoom"&&Qt!=="maxzoom"&&Qt!=="slot"&&(Qt.indexOf("paint.")===0?uc(mt[Qt],Ft[Qt],Me,qe,Qt.slice(6),Oi.setPaintProperty):f(mt[Qt],Ft[Qt])||Me.push({command:Oi.setLayerProperty,args:[qe,Qt,Ft[Qt]]}));for(Qt in Ft)Ft.hasOwnProperty(Qt)&&!mt.hasOwnProperty(Qt)&&Qt!=="layout"&&Qt!=="paint"&&Qt!=="filter"&&Qt!=="metadata"&&Qt!=="minzoom"&&Qt!=="maxzoom"&&Qt!=="slot"&&(Qt.indexOf("paint.")===0?uc(mt[Qt],Ft[Qt],Me,qe,Qt.slice(6),Oi.setPaintProperty):f(mt[Qt],Ft[Qt])||Me.push({command:Oi.setLayerProperty,args:[qe,Qt,Ft[Qt]]}))}else Me.push({command:Oi.removeLayer,args:[qe]}),Ot=Ze[Ze.lastIndexOf(qe)+1],Me.push({command:Oi.addLayer,args:[Ft,Ot]})}(ae,L.layers,D)}catch($){console.warn("Unable to compute style diff:",$),D=[{command:Oi.setStyle,args:[L]}]}return D}(this.serialize(),d).filter(B=>!(B.command in Ms));if(g.length===0)return!1;const x=g.filter(B=>!(B.command in bs));if(x.length>0)throw new Error(`Unimplemented: ${x.map(B=>B.command).join(", ")}.`);return g.forEach(B=>{this[B.command].apply(this,B.args)}),this.stylesheet=d,this.mergeAll(),this.dispatcher.broadcast("setLayers",{layers:this._serializeLayers(this._order),scope:this.scope,options:this.options}),!0}addImage(d,g){return this.getImage(d)?this.fire(new a.a(new Error("An image with this name already exists."))):(this.imageManager.addImage(d,this.scope,g),this._afterImageUpdated(d),this)}updateImage(d,g){this.imageManager.updateImage(d,this.scope,g)}getImage(d){return this.imageManager.getImage(d,this.scope)}removeImage(d){return this.getImage(d)?(this.imageManager.removeImage(d,this.scope),this._afterImageUpdated(d),this):this.fire(new a.a(new Error("No image with this name exists.")))}_afterImageUpdated(d){this._availableImages=this.imageManager.listImages(this.scope),this._changes.updateImage(d),this.dispatcher.broadcast("setImages",{scope:this.scope,images:this._availableImages}),this.fire(new a.b("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addModel(d,g,x={}){return this._checkLoaded(),this._validate(Bt,`models.${d}`,g,null,x)||(this.modelManager.addModel(d,g,this.scope),this._changes.setDirty()),this}hasModel(d){return this.modelManager.hasModel(d,this.scope)}removeModel(d){return this.hasModel(d)?(this.modelManager.removeModel(d,this.scope),this):this.fire(new a.a(new Error("No model with this ID exists.")))}listModels(){return this._checkLoaded(),this.modelManager.listModels(this.scope)}addSource(d,g,x={}){if(this._checkLoaded(),this.getOwnSource(d)!==void 0)throw new Error(`There is already a source with ID "${d}".`);if(!g.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(g).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(g.type)>=0&&this._validate(tn,`sources.${d}`,g,null,x))return;this.map&&this.map._collectResourceTiming&&(g.collectResourceTiming=!0);const B=Ks(d,g,this.dispatcher,this);B.scope=this.scope,B.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(B.id),source:B.serialize(),sourceId:B.id}));const L=D=>{const $=(D?"symbol:":"other:")+B.id,Y=a.ag($,this.scope),ae=this._sourceCaches[$]=new Bu(Y,B,D);(D?this._symbolSourceCaches:this._otherSourceCaches)[B.id]=ae,ae.onAdd(this.map)};L(!1),g.type!=="vector"&&g.type!=="geojson"||L(!0),B.onAdd&&B.onAdd(this.map),x.isInitialLoad||(this.mergeSources(),this._changes.setDirty())}removeSource(d){this._checkLoaded();const g=this.getOwnSource(d);if(!g)throw new Error("There is no source with this ID");for(const B in this._layers)if(this._layers[B].source===d)return this.fire(new a.a(new Error(`Source "${d}" cannot be removed while layer "${B}" is using it.`)));if(this.terrain&&this.terrain.scope===this.scope&&this.terrain.get().source===d)return this.fire(new a.a(new Error(`Source "${d}" cannot be removed while terrain is using it.`)));const x=this.getOwnSourceCaches(d);for(const B of x){const L=a.c3(B.id);delete this._sourceCaches[L],this._changes.discardSourceCacheUpdate(B.id),B.fire(new a.b("data",{sourceDataType:"metadata",dataType:"source",sourceId:B.getSource().id})),B.setEventedParent(null),B.clearTiles()}return delete this._otherSourceCaches[d],delete this._symbolSourceCaches[d],this.mergeSources(),g.setEventedParent(null),g.onRemove&&g.onRemove(this.map),this._changes.setDirty(),this}setGeoJSONSourceData(d,g){this._checkLoaded(),this.getOwnSource(d).setData(g),this._changes.setDirty()}getOwnSource(d){const g=this.getOwnSourceCache(d);return g&&g.getSource()}getOwnSources(){const d=[];for(const g in this._otherSourceCaches){const x=this.getOwnSourceCache(g);x&&d.push(x.getSource())}return d}areTilesLoaded(){const d=this._mergedSourceCaches;for(const g in d){const x=d[g]._tiles;for(const B in x){const L=x[B];if(L.state!=="loaded"&&L.state!=="errored")return!1}}return!0}setLights(d){if(this._checkLoaded(),!d)return delete this.ambientLight,void delete this.directionalLight;const g=this._getTransitionParameters();for(const B of d){if(this._validate(wt,"lights",B))return;switch(B.type){case"ambient":if(this.ambientLight){const L=this.ambientLight;L.set(B),L.updateTransitions(g)}else this.ambientLight=new ma(B,Rr,this.scope,this.options);break;case"directional":if(this.directionalLight){const L=this.directionalLight;L.set(B),L.updateTransitions(g)}else this.directionalLight=new ma(B,Ki,this.scope,this.options)}}const x=new a.K(this.z||0,g);this.ambientLight&&this.ambientLight.recalculate(x),this.directionalLight&&this.directionalLight.recalculate(x),this._brightness=this.calculateLightsBrightness(),this.dispatcher.broadcast("setBrightness",this._brightness)}calculateLightsBrightness(){const d=this.directionalLight,g=this.ambientLight;if(!d||!g)return;const x=Ae=>.2126*(Ae[0]<=.03928?Ae[0]/12.92:Math.pow((Ae[0]+.055)/1.055,2.4))+.7152*(Ae[1]<=.03928?Ae[1]/12.92:Math.pow((Ae[1]+.055)/1.055,2.4))+.0722*(Ae[2]<=.03928?Ae[2]/12.92:Math.pow((Ae[2]+.055)/1.055,2.4)),B=d.properties.get("color").toArray01(),L=d.properties.get("intensity"),D=d.properties.get("direction"),$=1-a.bQ(D.x,D.y,D.z)[2]/90,Y=x(B)*L*$,ae=g.properties.get("color").toArray01(),de=g.properties.get("intensity");return(Y+x(ae)*de)/2}getBrightness(){return this._brightness}getLights(){if(!this.enable3dLights())return null;const d=[];return this.directionalLight&&d.push(this.directionalLight.get()),this.ambientLight&&d.push(this.ambientLight.get()),d}enable3dLights(){return!!this.ambientLight&&!!this.directionalLight}getFragmentStyle(d){if(!d)return this;if(a.c4(d)){const g=a.c5(d),x=this.fragments.find(({id:L})=>L===g);if(!x)throw new Error(`Style import not found: ${d}`);const B=a.c3(d);return x.style.getFragmentStyle(B)}{const g=this.fragments.find(({id:x})=>x===d);if(!g)throw new Error(`Style import not found: ${d}`);return g.style}}getConfigProperty(d,g){const x=this.getFragmentStyle(d);if(!x)return null;const B=a.ag(g,x.scope),L=x.options.get(B),D=L?L.value||L.default:null;return D?D.serialize():null}setConfigProperty(d,g,x){const B=a.r(x);if(B.result!=="success")return void Ka(this,B.value);const L=B.value.expression,D=this.getFragmentStyle(d);if(!D)return;const $=a.ag(g,D.scope),Y=D.options.get($);Y&&(this.options.set($,{...Y,value:L}),this.updateConfigDependencies())}setConfig(d,g){if(this._config=d,d||g)if(g)for(const x in g){let B,L;const D=a.r(g[x].default);if(D.result==="success"&&(B=D.value.expression),d&&d[x]!==void 0){const Ce=a.r(d[x]);Ce.result==="success"&&(L=Ce.value.expression)}const{minValue:$,maxValue:Y,stepValue:ae,type:de,values:Ae}=g[x];if(B){const Ce=a.ag(x,this.scope);this.options.set(Ce,{default:B,value:L,minValue:$,maxValue:Y,stepValue:ae,type:de,values:Ae})}else this.fire(new a.a(new Error(`No schema defined for config option "${x}".`)))}else this.fire(new a.a(new Error("Attempting to set config for a style without schema.")))}updateConfigDependencies(){for(const d of this._configDependentLayers){const g=this.getLayer(d);g&&(g.possiblyEvaluateVisibility(),this._updateLayer(g))}this.ambientLight&&this.ambientLight.updateConfig(this.options),this.directionalLight&&this.directionalLight.updateConfig(this.options),this.fog&&this.fog.updateConfig(this.options),this._changes.setDirty()}addLayer(d,g,x={}){this._checkLoaded();const B=d.id;if(this._layers[B])return void this.fire(new a.a(new Error(`Layer with id "${B}" already exists on this map`)));let L;if(d.type==="custom"){if(Ka(this,a.c6(d)))return;L=a.c2(d,this.scope,this.options)}else{if(typeof d.source=="object"&&(this.addSource(B,d.source),d=a.c1(d),d=a.e(d,{source:B})),this._validate(ut,`layers.${B}`,d,{arrayIndex:-1},x))return;L=a.c2(d,this.scope,this.options),this._validateLayer(L),L.setEventedParent(this,{layer:{id:B}}),this._serializedLayers[L.id]=L.serialize()}L.isConfigDependent&&this._configDependentLayers.add(L.fqid);let D=this._order.length;if(g){const de=this._order.indexOf(g);if(de===-1)return void this.fire(new a.a(new Error(`Layer with id "${g}" does not exist on this map.`)));L.slot===this._layers[g].slot?D=de:a.w(`Layer with id "${g}" has a different slot. Layers can only be rearranged within the same slot.`)}this._order.splice(D,0,B),this._layerOrderChanged=!0,this._layers[B]=L;const $=this.getOwnLayerSourceCache(L),Y=!!this.directionalLight&&this.directionalLight.shadowsEnabled();$&&L.canCastShadows()&&Y&&($.castsShadows=!0);const ae=this._changes.getRemovedLayer(L);if(ae&&L.source&&$&&L.type!=="custom"){this._changes.discardLayerRemoval(L);const de=a.ag(L.source,L.scope);ae.type!==L.type?this._changes.updateSourceCache(de,"clear"):(this._changes.updateSourceCache(de,"reload"),$.pause())}this._updateLayer(L),L.onAdd&&L.onAdd(this.map),L.scope=this.scope,this.mergeLayers()}moveLayer(d,g){this._checkLoaded();const x=this._checkLayer(d);if(!x||d===g)return;const B=this._order.indexOf(d);this._order.splice(B,1);let L=this._order.length;if(g){const D=this._order.indexOf(g);if(D===-1)return void this.fire(new a.a(new Error(`Layer with id "${g}" does not exist on this map.`)));x.slot===this._layers[g].slot?L=D:a.w(`Layer with id "${g}" has a different slot. Layers can only be rearranged within the same slot.`)}this._order.splice(L,0,d),this._changes.setDirty(),this._layerOrderChanged=!0,this.mergeLayers()}removeLayer(d){this._checkLoaded();const g=this._checkLayer(d);if(!g)return;g.setEventedParent(null);const x=this._order.indexOf(d);this._order.splice(x,1),delete this._layers[d],delete this._serializedLayers[d],this._changes.setDirty(),this._layerOrderChanged=!0,this._configDependentLayers.delete(g.fqid),this._changes.removeLayer(g);const B=this.getOwnLayerSourceCache(g);if(B&&B.castsShadows){let L=!1;for(const D in this._layers)if(this._layers[D].source===g.source&&this._layers[D].canCastShadows()){L=!0;break}B.castsShadows=L}g.onRemove&&g.onRemove(this.map),this.mergeLayers()}getOwnLayer(d){return this._layers[d]}hasLayer(d){return d in this._mergedLayers}hasLayerType(d){for(const g in this._layers)if(this._layers[g].type===d)return!0;return!1}setLayerZoomRange(d,g,x){this._checkLoaded();const B=this._checkLayer(d);B&&(B.minzoom===g&&B.maxzoom===x||(g!=null&&(B.minzoom=g),x!=null&&(B.maxzoom=x),this._updateLayer(B)))}setSlot(d,g){this._checkLoaded();const x=this._checkLayer(d);x&&x.slot!==g&&(x.slot=g,this._updateLayer(x))}setFilter(d,g,x={}){this._checkLoaded();const B=this._checkLayer(d);if(B&&!f(B.filter,g))return g==null?(B.filter=void 0,void this._updateLayer(B)):void(this._validate(It,`layers.${B.id}.filter`,g,{layerType:B.type},x)||(B.filter=a.c1(g),this._updateLayer(B)))}getFilter(d){const g=this._checkLayer(d);if(g)return a.c1(g.filter)}setLayoutProperty(d,g,x,B={}){this._checkLoaded();const L=this._checkLayer(d);if(L&&!f(L.getLayoutProperty(g),x)){if(x!=null&&(!B||B.validate!==!1)&&Ka(L,Pt.call(qt,{key:`layers.${d}.layout.${g}`,layerType:L.type,objectKey:g,value:x,styleSpec:a.D,style:{glyphs:!0,sprite:!0}})))return;L.setLayoutProperty(g,x),L.isConfigDependent&&this._configDependentLayers.add(L.fqid),this._updateLayer(L)}}getLayoutProperty(d,g){const x=this._checkLayer(d);if(x)return x.getLayoutProperty(g)}setPaintProperty(d,g,x,B={}){this._checkLoaded();const L=this._checkLayer(d);if(!L||f(L.getPaintProperty(g),x)||x!=null&&(!B||B.validate!==!1)&&Ka(L,Xe.call(qt,{key:`layers.${d}.paint.${g}`,layerType:L.type,objectKey:g,value:x,styleSpec:a.D})))return;const D=L.setPaintProperty(g,x);L.isConfigDependent&&this._configDependentLayers.add(L.fqid),D&&this._updateLayer(L),this._changes.updatePaintProperties(L)}getPaintProperty(d,g){const x=this._checkLayer(d);if(x)return x.getPaintProperty(g)}setFeatureState(d,g){this._checkLoaded();const x=d.source,B=d.sourceLayer,L=this._checkSource(x);if(!L)return;const D=L.type;if(D==="geojson"&&B)return void this.fire(new a.a(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(D==="vector"&&!B)return void this.fire(new a.a(new Error("The sourceLayer parameter must be provided for vector source types.")));d.id===void 0&&this.fire(new a.a(new Error("The feature id parameter must be provided.")));const $=this.getOwnSourceCaches(x);for(const Y of $)Y.setFeatureState(B,d.id,g)}removeFeatureState(d,g){this._checkLoaded();const x=d.source,B=this._checkSource(x);if(!B)return;const L=B.type,D=L==="vector"?d.sourceLayer:void 0;if(L==="vector"&&!D)return void this.fire(new a.a(new Error("The sourceLayer parameter must be provided for vector source types.")));if(g&&typeof d.id!="string"&&typeof d.id!="number")return void this.fire(new a.a(new Error("A feature id is required to remove its specific state property.")));const $=this.getOwnSourceCaches(x);for(const Y of $)Y.removeFeatureState(D,d.id,g)}getFeatureState(d){this._checkLoaded();const g=d.source,x=d.sourceLayer,B=this._checkSource(g);if(B){if(B.type!=="vector"||x)return d.id===void 0&&this.fire(new a.a(new Error("The feature id parameter must be provided."))),this.getOwnSourceCaches(g)[0].getFeatureState(x,d.id);this.fire(new a.a(new Error("The sourceLayer parameter must be provided for vector source types.")))}}setTransition(d){return this.stylesheet.transition=a.e({},this.stylesheet.transition,d),this.transition=this.stylesheet.transition,this}getTransition(){return a.e({},this.stylesheet.transition)}serialize(){this._checkLoaded();const d=this.getTerrain(),g=d&&this.terrain&&this.terrain.scope===this.scope?d:this.stylesheet.terrain;return a.c7({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,imports:this._serializeImports(),schema:this.stylesheet.schema,camera:this.stylesheet.camera,light:this.stylesheet.light,lights:this.stylesheet.lights,terrain:g,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:this._serializeSources(),layers:this._serializeLayers(this._order)},x=>x!==void 0)}_updateLayer(d){this._changes.updateLayer(d);const g=this.getLayerSourceCache(d),x=a.ag(d.source,d.scope),B=this._changes.getUpdatedSourceCaches();d.source&&!B[x]&&g&&g.getSource().type!=="raster"&&(this._changes.updateSourceCache(x,"reload"),g.pause()),d.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(d){const g=$=>this._mergedLayers[$].type==="fill-extrusion"||this._mergedLayers[$].type==="model",x=this.order,B={},L=[];for(let $=x.length-1;$>=0;$--){const Y=x[$];if(g(Y)){B[Y]=$;for(const ae of d){const de=ae[Y];if(de)for(const Ae of de)L.push(Ae)}}}L.sort(($,Y)=>Y.intersectionZ-$.intersectionZ);const D=[];for(let $=x.length-1;$>=0;$--){const Y=x[$];if(g(Y))for(let ae=L.length-1;ae>=0;ae--){const de=L[ae].feature;if(B[de.layer.id]<$)break;D.push(de),L.pop()}else for(const ae of d){const de=ae[Y];if(de)for(const Ae of de)D.push(Ae.feature)}}return D}queryRenderedFeatures(d,g,x){g&&g.filter&&this._validate(It,"queryRenderedFeatures.filter",g.filter,null,g),g.scope=this.scope,g.availableImages=this._availableImages,g.serializedLayers=this._serializedLayers;const B={};if(g&&g.layers){if(!Array.isArray(g.layers))return this.fire(new a.a(new Error("parameters.layers must be an Array."))),[];for(const ae of g.layers){const de=this._mergedLayers[ae];if(!de)return this.fire(new a.a(new Error(`The layer '${ae}' does not exist in the map's style and cannot be queried for features.`))),[];B[de.source]=!0}}const L=[],D=g.serializedLayers||{},$=g&&g.layers?g.layers.some(ae=>{const de=this.getLayer(ae);return de&&de.is3D()}):this.has3DLayers(),Y=$i.createFromScreenPoints(d,x);for(const ae in this._mergedSourceCaches){const de=this._mergedSourceCaches[ae].getSource();if(!de||de.scope!==g.scope)continue;const Ae=this._mergedSourceCaches[ae].getSource().id;g.layers&&!B[Ae]||L.push(Vf(this._mergedSourceCaches[ae],this._mergedLayers,D,Y,g,x,$,!!this.map._showQueryGeometry))}return this.placement&&L.push(function(ae,de,Ae,Ce,Me,He,$e){const Ke={},Fe=He.queryRenderedSymbols(Ce),Ze=[];for(const pt of Object.keys(Fe).map(Number))Ze.push($e[pt]);Ze.sort(Jh);for(const pt of Ze){const st=pt.featureIndex.lookupSymbolFeatures(Fe[pt.bucketInstanceId],de,pt.bucketIndex,pt.sourceLayerIndex,Me.filter,Me.layers,Me.availableImages,ae);for(const At in st){const qe=Ke[At]=Ke[At]||[],mt=st[At];mt.sort((Ft,Ot)=>{const Qt=pt.featureSortOrder;if(Qt){const fn=Qt.indexOf(Ft.featureIndex);return Qt.indexOf(Ot.featureIndex)-fn}return Ot.featureIndex-Ft.featureIndex});for(const Ft of mt)qe.push(Ft)}}for(const pt in Ke)Ke[pt].forEach(st=>{const At=st.feature,qe=Ae(ae[pt]);if(!qe)return;const mt=qe.getFeatureState(At.layer["source-layer"],At.id);At.source=At.layer.source,At.layer["source-layer"]&&(At.sourceLayer=At.layer["source-layer"]),At.state=mt});return Ke}(this._mergedLayers,D,this.getLayerSourceCache.bind(this),Y.screenGeometry,g,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(L)}querySourceFeatures(d,g){g&&g.filter&&this._validate(It,"querySourceFeatures.filter",g.filter,null,g);const x=this.getOwnSourceCaches(d);let B=[];for(const L of x)B=B.concat(Tu(L,g));return B}addSourceType(d,g,x){return Gl.getSourceType(d)?x(new Error(`A source type called "${d}" already exists.`)):(Gl.setSourceType(d,g),g.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:d,url:g.workerSourceURL},x):x(null,null))}getFlatLight(){return this.light.getLight()}setFlatLight(d,g,x={}){this._checkLoaded();const B=this.light.getLight();let L=!1;for(const $ in d)if(!f(d[$],B[$])){L=!0;break}if(!L)return;const D=this._getTransitionParameters();this.light.setLight(d,g,x),this.light.updateTransitions(D)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(d,g=1){if(this._checkLoaded(),!d)return this.terrainSetForDrapingOnly()&&g!==0||delete this.terrain,d===null?this.stylesheet.terrain=null:delete this.stylesheet.terrain,this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);let x=d;const B=d.source==null;if(g===1){if(typeof x.source=="object"){const $="terrain-dem-src";this.addSource($,x.source),x=a.c1(x),x=a.e(x,{source:$})}const L=a.e({},x),D={};if(this.terrain&&B){L.source=this.terrain.get().source;const $=this.terrain?this.getFragmentStyle(this.terrain.scope):null;$&&(D.style=$.serialize())}if(this._validate(De,"terrain",L,D))return}if(!this.terrain||this.terrain.scope!==this.scope&&!B||this.terrain&&g!==this.terrain.drapeRenderMode){if(!x)return;this._createTerrain(x,g),this.fire(new a.b("data",{dataType:"style"}))}else{const L=this.terrain,D=L.get();for(const $ of Object.keys(a.D.terrain))!x.hasOwnProperty($)&&a.D.terrain[$].default&&(x[$]=a.D.terrain[$].default);for(const $ in d)if(!f(d[$],D[$])){L.set(d,this.options),this.stylesheet.terrain=d;const Y=this._getTransitionParameters({duration:0});L.updateTransitions(Y),this.fire(new a.b("data",{dataType:"style"}));break}}this.mergeTerrain(),this.updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(d){const g=this.fog=new zi(d,this.map.transform,this.scope,this.options);this.stylesheet.fog=g.get();const x=this._getTransitionParameters({duration:0});g.updateTransitions(x)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(const d of this.map._markers)d._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(d){if(this._checkLoaded(),!d)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const g=this.fog;if(!f(g.get(),d)){g.set(d,this.options),this.stylesheet.fog=g.get();const x=this._getTransitionParameters({duration:0});g.updateTransitions(x)}}else this._createFog(d);this._markersNeedUpdate=!0}_getTransitionParameters(d){return{now:a.f.now(),transition:a.e(this.transition,d)}}updateDrapeFirstLayers(){if(!this.terrain)return;const d=[],g=[];for(const x in this._mergedLayers)this.isLayerDraped(this._mergedLayers[x])?d.push(x):g.push(x);this._drapedFirstOrder=[],this._drapedFirstOrder.push(...d),this._drapedFirstOrder.push(...g)}_createTerrain(d,g){const x=this.terrain=new sn(d,g,this.scope,this.options);g===1&&(this.stylesheet.terrain=d),this.mergeTerrain(),this.updateDrapeFirstLayers(),this._force3DLayerUpdate();const B=this._getTransitionParameters({duration:0});x.updateTransitions(B)}_force3DLayerUpdate(){for(const d in this._layers){const g=this._layers[d];g.type==="fill-extrusion"&&this._updateLayer(g)}}_forceSymbolLayerUpdate(){for(const d in this._layers){const g=this._layers[d];g.type==="symbol"&&this._updateLayer(g)}}_validate(d,g,x,B,L={}){if(L&&L.validate===!1)return!1;const D=a.e({},this.serialize());return Ka(this,d.call(qt,a.e({key:g,style:D,value:x,styleSpec:a.D},B)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.c8.off("pluginStateChange",this._rtlTextPluginCallback);for(const d in this._mergedLayers)this._mergedLayers[d].setEventedParent(null);for(const d in this._mergedSourceCaches)this._mergedSourceCaches[d].clearTiles(),this._mergedSourceCaches[d].setEventedParent(null);this.setEventedParent(null),delete this.fog,delete this.terrain,delete this.ambientLight,delete this.directionalLight,this.isRootStyle()&&(this.imageManager.setEventedParent(null),this.modelManager.setEventedParent(null),this.dispatcher.remove())}clearSource(d){const g=this.getSourceCaches(d);for(const x of g)x.clearTiles()}clearSources(){for(const d in this._mergedSourceCaches)this._mergedSourceCaches[d].clearTiles()}reloadSource(d){const g=this.getSourceCaches(d);for(const x of g)x.resume(),x.reload()}reloadSources(){for(const d of this.getSources())d.reload&&d.reload()}updateSources(d){let g;this.directionalLight&&(g=Kd(this.directionalLight));for(const x in this._mergedSourceCaches)this._mergedSourceCaches[x].update(d,void 0,void 0,g)}_generateCollisionBoxes(){for(const d in this._sourceCaches){const g=this._sourceCaches[d];g.resume(),g.reload()}}_updatePlacement(d,g,x,B,L=!1){let D=!1,$=!1;const Y={},ae={};for(const de of this._mergedOrder){const Ae=this._mergedLayers[de];if(Ae.type!=="symbol")continue;const Ce=a.ag(Ae.source,Ae.scope);let Me=Y[Ce];if(!Me){const $e=this.getLayerSourceCache(Ae);if(!$e)continue;const Ke=$e.getRenderableIds(!0).map(Fe=>$e.getTileByID(Fe));ae[Ce]=Ke.slice(),Me=Y[Ce]=Ke.sort((Fe,Ze)=>Ze.tileID.overscaledZ-Fe.tileID.overscaledZ||(Fe.tileID.isLessThan(Ze.tileID)?-1:1))}const He=this.crossTileSymbolIndex.addLayer(Ae,Me,d.center.lng,d.projection);D=D||He}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._mergedOrder),L=L||this._layerOrderChanged||x===0,this._layerOrderChanged&&this.fire(new a.b("neworder")),(L||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.f.now(),d.zoom))&&(this.pauseablePlacement=new Xf(d,this._mergedOrder,L,g,x,B,this.placement,this.fog&&d.projection.supportsFog?this.fog.state:null,this._buildingIndex),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._mergedOrder,this._mergedLayers,Y,ae),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.f.now()),$=!0),D&&this.pauseablePlacement.placement.setStale()),$||D){this._buildingIndex.onNewFrame(d.zoom);for(const de of this._mergedOrder){const Ae=this._mergedLayers[de];Ae.type==="symbol"&&this.placement.updateLayerOpacities(Ae,Y[a.ag(Ae.source,Ae.scope)])}}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.f.now())}_releaseSymbolFadeTiles(){for(const d in this._sourceCaches)this._sourceCaches[d].releaseSymbolFadeTiles()}addImport(d,g){this._checkLoaded();const x=this.stylesheet.imports=this.stylesheet.imports||[];if(x.findIndex(({id:L})=>L===d.id)!==-1)return this.fire(new a.a(new Error(`Import with id '${d.id}' already exists in the map's style.`)));if(!g)return x.push(d),this._loadImports([d],!0),this;const B=x.findIndex(({id:L})=>L===g);return B===-1?this.fire(new a.a(new Error(`Import with id "${g}" does not exist on this map.`))):(this.stylesheet.imports=x.slice(0,B).concat(d).concat(x.slice(B)),this._loadImports([d],!0,g),this)}updateImport(d,g){this._checkLoaded();const x=this.stylesheet.imports||[],B=this.getImportIndex(d);return B===-1?this:typeof g=="string"?(this.setImportUrl(d,g),this):(g.url&&g.url!==x[B].url&&this.setImportUrl(d,g.url),f(g.config,x[B].config)||this.setImportConfig(d,g.config),f(g.data,x[B].data)||this.setImportData(d,g.data),this)}moveImport(d,g){this._checkLoaded();let x=this.stylesheet.imports||[];const B=this.getImportIndex(d);if(B===-1)return this;const L=this.getImportIndex(g);if(L===-1)return this;const D=x[B],$=this.fragments[B];return x=x.filter(({id:Y})=>Y!==d),this.fragments=this.fragments.filter(({id:Y})=>Y!==d),this.stylesheet.imports=x.slice(0,L).concat(D).concat(x.slice(L)),this.fragments=this.fragments.slice(0,L).concat($).concat(this.fragments.slice(L)),this.mergeLayers(),this}setImportUrl(d,g){this._checkLoaded();const x=this.stylesheet.imports||[],B=this.getImportIndex(d);if(B===-1)return this;x[B].url=g;const L=this.fragments[B];return L.style=this._createFragmentStyle(x[B]),L.style.on("style.import.load",()=>this.mergeAll()),L.style.loadURL(g),this}setImportData(d,g){this._checkLoaded();const x=this.getImportIndex(d),B=this.stylesheet.imports||[];return x===-1?this:g?(this.fragments[x].style.setState(g),this._reloadImports(),this):(delete B[x].data,this.setImportUrl(d,B[x].url))}setImportConfig(d,g){this._checkLoaded();const x=this.getImportIndex(d),B=this.stylesheet.imports||[];if(x===-1)return this;g?B[x].config=g:delete B[x].config;const L=this.fragments[x],D=L.style.stylesheet&&L.style.stylesheet.schema;return L.config=g,L.style.setConfig(g,D),this.updateConfigDependencies(),this}removeImport(d){this._checkLoaded();const g=this.stylesheet.imports||[],x=this.getImportIndex(d);return x===-1||(g.splice(x,1),this.fragments[x].style._remove(),this.fragments.splice(x,1),this._reloadImports()),this}getImportIndex(d){const g=(this.stylesheet.imports||[]).findIndex(x=>x.id===d);return g===-1&&this.fire(new a.a(new Error(`Import '${d}' does not exist in the map's style and cannot be updated.`))),g}getLayer(d){return this._mergedLayers[d]}getSources(){const d=[];for(const g in this._mergedOtherSourceCaches){const x=this._mergedOtherSourceCaches[g];x&&d.push(x.getSource())}return d}getSource(d,g){const x=this.getSourceCache(d,g);return x&&x.getSource()}getLayerSource(d){const g=this.getLayerSourceCache(d);return g&&g.getSource()}getSourceCache(d,g){const x=a.ag(d,g);return this._mergedOtherSourceCaches[x]}getLayerSourceCache(d){const g=a.ag(d.source,d.scope);return d.type==="symbol"?this._mergedSymbolSourceCaches[g]:this._mergedOtherSourceCaches[g]}getSourceCaches(d){const g=[];return this._mergedOtherSourceCaches[d]&&g.push(this._mergedOtherSourceCaches[d]),this._mergedSymbolSourceCaches[d]&&g.push(this._mergedSymbolSourceCaches[d]),g}updateSourceCaches(){const d=this._changes.getUpdatedSourceCaches();for(const g in d){const x=d[g];x==="reload"?this.reloadSource(g):x==="clear"&&this.clearSource(g)}}updateLayers(d){const g=this._changes.getUpdatedPaintProperties();for(const x of g){const B=this.getLayer(x);B&&B.updateTransitions(d)}}getImages(d,g,x){this.imageManager.getImages(g.icons,g.scope,x),this._updateTilesForChangedImages();const B=L=>{L&&L.setDependencies(g.tileID.key,g.type,g.icons)};B(this._otherSourceCaches[g.source]),B(this._symbolSourceCaches[g.source])}getGlyphs(d,g,x){this.glyphManager.getGlyphs(g.stacks,g.scope,x)}getResource(d,g,x){return a.c9(g,x)}getOwnSourceCache(d){return this._otherSourceCaches[d]}getOwnLayerSourceCache(d){return d.type==="symbol"?this._symbolSourceCaches[d.source]:this._otherSourceCaches[d.source]}getOwnSourceCaches(d){const g=[];return this._otherSourceCaches[d]&&g.push(this._otherSourceCaches[d]),this._symbolSourceCaches[d]&&g.push(this._symbolSourceCaches[d]),g}_isSourceCacheLoaded(d){const g=this.getOwnSourceCaches(d);return g.length===0?(this.fire(new a.a(new Error(`There is no source with ID '${d}'`))),!1):g.every(x=>x.loaded())}has3DLayers(){return this._has3DLayers}hasSymbolLayers(){return this._hasSymbolLayers}hasCircleLayers(){return this._hasCircleLayers}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.fragments.forEach(d=>{d.style._remove()}),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}Gl.getSourceType=function(w){return Vl[w]},Gl.setSourceType=function(w,d){Vl[w]=d},Gl.registerForPluginStateChange=a.bV;var Jf=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#ifdef RENDER_CUTOFF
float cutoff_opacity(vec4 cutoff_params,float depth) {float near=cutoff_params.x;float far=cutoff_params.y;float cutoffStart=cutoff_params.z;float cutoffEnd=cutoff_params.w;float linearDepth=(depth-near)/(far-near);return clamp((linearDepth-cutoffStart)/(cutoffEnd-cutoffStart),0.0,1.0);}
#endif`,zm=`
out vec4 glFragColor;highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}
#ifdef INDICATOR_CUTOUT
uniform vec2 u_indicator_cutout_centers;uniform vec4 u_indicator_cutout_params;
#endif
vec4 applyCutout(vec4 color) {
#ifdef INDICATOR_CUTOUT
float holeMinOpacity=u_indicator_cutout_params.x;float holeRadius=max(u_indicator_cutout_params.y,0.0);float holeAspectRatio=u_indicator_cutout_params.z;float fadeStart=u_indicator_cutout_params.w;float distA=distance(vec2(gl_FragCoord.x,gl_FragCoord.y*holeAspectRatio),vec2(u_indicator_cutout_centers[0],u_indicator_cutout_centers[1]*holeAspectRatio));return color*min(smoothstep(fadeStart,holeRadius,distA)+holeMinOpacity,1.0);
#else
return color;
#endif
}
#ifdef DEBUG_WIREFRAME
#define HANDLE_WIREFRAME_DEBUG \\
glFragColor=vec4(0.7,0.0,0.0,0.7); \\
gl_FragDepth=gl_FragCoord.z-0.0001;
#else
#define HANDLE_WIREFRAME_DEBUG
#endif
#ifdef RENDER_CUTOFF
uniform highp vec4 u_cutoff_params;in float v_cutoff_opacity;
#endif
vec4 textureLodCustom(sampler2D image,vec2 pos,vec2 lod_coord) {vec2 size=vec2(textureSize(image,0));vec2 dx=dFdx(lod_coord.xy*size);vec2 dy=dFdy(lod_coord.xy*size);float delta_max_sqr=max(dot(dx,dx),dot(dy,dy));float lod=0.5*log2(delta_max_sqr);return textureLod(image,pos,lod);}`,$m=`
#define EXTENT 8192.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(PI/4.0+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}
#ifdef RENDER_CUTOFF
uniform vec4 u_cutoff_params;out float v_cutoff_opacity;
#endif
const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);const float skirtOffset=24575.0;vec3 decomposeToPosAndSkirt(vec2 posWithComposedSkirt)
{float skirt=float(posWithComposedSkirt.x >=skirtOffset);vec2 pos=posWithComposedSkirt-vec2(skirt*skirtOffset,0.0);return vec3(pos,skirt);}`,Vm="in highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;out highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",_0=`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
#ifdef TERRAIN
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture(u_dem,pos).r;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=texture(u_dem,pos).r;float tr=texture(u_dem,pos+vec2(dd,0)).r;float bl=texture(u_dem,pos+vec2(0,dd)).r;float br=texture(u_dem,pos+vec2(dd,dd)).r;return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture(u_dem_prev,pos).r;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=texture(u_dem_prev,pos).r;float tr=texture(u_dem_prev,pos+vec2(dd,0)).r;float bl=texture(u_dem_prev,pos+vec2(0,dd)).r;float br=texture(u_dem_prev,pos+vec2(dd,dd)).r;return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
return currentElevation(apos);}
#endif
highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(
unpack_depth(texture(u_depth,uv-df.xz)),unpack_depth(texture(u_depth,uv+df.xz)),unpack_depth(texture(u_depth,uv-df.zy)),unpack_depth(texture(u_depth,uv+df.zy))
);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {float tl=texture(u_dem,pos).r;float tr=texture(u_dem,pos+vec2(off.x,0.0)).r;float bl=texture(u_dem,pos+vec2(0.0,off.y)).r;float br=texture(u_dem,pos+off).r;return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }
#endif`,y0=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;out vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,w1=`highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}
#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump vec2 u_fog_vertical_limit;uniform mediump float u_fog_temporal_offset;in vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos,float opacity_limit) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,min(opacity,opacity_limit));}vec3 fog_apply(vec3 color,vec3 pos) {return fog_apply(color,pos,1.0);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec4 fog_apply_premultiplied(vec4 color,vec3 pos,float heightMeters) {float verticalProgress=(u_fog_vertical_limit.x > 0.0 || u_fog_vertical_limit.y > 0.0) ? smoothstep(u_fog_vertical_limit.x,u_fog_vertical_limit.y,heightMeters) : 0.0;float opacityLimit=1.0-smoothstep(0.9,1.0,fog_opacity(pos));return mix(fog_apply_premultiplied(color,pos),color,min(verticalProgress,opacityLimit));}vec3 fog_dither(vec3 color) {
#ifdef FOG_DITHERING
vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);
#else
return color;
#endif
}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`,qd=`#ifdef RASTER_ARRAY
uniform sampler2D u_image0;uniform sampler2D u_image1;const vec4 NODATA=vec4(1);ivec4 _raTexLinearCoord(highp vec2 texCoord,highp vec2 texResolution,out highp vec2 fxy) {texCoord=texCoord*texResolution-0.5;fxy=fract(texCoord);texCoord-=fxy;return ivec4(texCoord.xxyy+vec2(1.5,0.5).xyxy);}vec2 _raTexLinearMix(highp vec2 fxy,highp vec4 colorMix,highp float colorOffset,highp vec4 t00,highp vec4 t10,highp vec4 t01,highp vec4 t11) {vec2 c00=t00==NODATA ? vec2(0) : vec2(colorOffset+dot(t00,colorMix),1);vec2 c10=t10==NODATA ? vec2(0) : vec2(colorOffset+dot(t10,colorMix),1);vec2 c01=t01==NODATA ? vec2(0) : vec2(colorOffset+dot(t01,colorMix),1);vec2 c11=t11==NODATA ? vec2(0) : vec2(colorOffset+dot(t11,colorMix),1);return mix(mix(c01,c11,fxy.x),mix(c00,c10,fxy.x),fxy.y);}vec2 raTexture2D_image0_linear(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec2 fxy;ivec4 c=_raTexLinearCoord(texCoord,texResolution,fxy);return _raTexLinearMix(fxy,colorMix,colorOffset,texelFetch(u_image0,c.yz,0),texelFetch(u_image0,c.xz,0),texelFetch(u_image0,c.yw,0),texelFetch(u_image0,c.xw,0)
);}vec2 raTexture2D_image1_linear(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec2 fxy;ivec4 c=_raTexLinearCoord(texCoord,texResolution,fxy);return _raTexLinearMix(fxy,colorMix,colorOffset,texelFetch(u_image1,c.yz,0),texelFetch(u_image1,c.xz,0),texelFetch(u_image1,c.yw,0),texelFetch(u_image1,c.xw,0)
);}vec2 raTexture2D_image0_nearest(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec4 t=texelFetch(u_image0,ivec2(texCoord*texResolution),0);return t==NODATA ? vec2(0) : vec2(colorOffset+dot(t,colorMix),1);}vec2 raTexture2D_image1_nearest(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec4 t=texelFetch(u_image1,ivec2(texCoord*texResolution),0);return t==NODATA ? vec2(0) : vec2(colorOffset+dot(t,colorMix),1);}
#endif`,od=`#ifdef RASTER_ARRAY
uniform sampler2D u_velocity;uniform vec2 u_velocity_res;uniform float u_max_speed;const vec2 INVALID_VELOCITY=vec2(-1);uniform vec2 u_texture_offset;uniform float u_data_offset;uniform vec4 u_data_scale;vec2 lookup_velocity(vec2 uv) {uv=u_texture_offset.x+u_texture_offset.y*uv;vec2 fxy;ivec4 c=_raTexLinearCoord(uv,u_velocity_res,fxy);vec4 tl=texelFetch(u_velocity,c.yz,0);vec4 tr=texelFetch(u_velocity,c.xz,0);vec4 bl=texelFetch(u_velocity,c.yw,0);vec4 br=texelFetch(u_velocity,c.xw,0);if (tl==NODATA) {return INVALID_VELOCITY;}if (tr==NODATA) {return INVALID_VELOCITY;}if (bl==NODATA) {return INVALID_VELOCITY;}if (br==NODATA) {return INVALID_VELOCITY;}vec4 t=mix(mix(bl,br,fxy.x),mix(tl,tr,fxy.x),fxy.y);
#ifdef DATA_FORMAT_UINT32
vec2 velocity=vec2(u_data_offset+dot(t,u_data_scale),0);return velocity;
#else
vec2 velocity=vec2(u_data_offset+dot(t.rg,u_data_scale.yx),-(u_data_offset+dot(t.ba,u_data_scale.yx)));
#endif
return velocity/max(u_max_speed,length(velocity));}
#endif`,cu=`#ifdef RENDER_SHADOWS
uniform mediump vec3 u_shadow_direction;uniform highp vec3 u_shadow_normal_offset;vec3 shadow_normal_offset(vec3 normal) {float tileInMeters=u_shadow_normal_offset[0];vec3 n=vec3(-normal.xy,tileInMeters*normal.z);float dotScale=min(1.0-dot(normal,u_shadow_direction),1.0)*0.5+0.5;return n*dotScale;}vec3 shadow_normal_offset_model(vec3 normal) {float dotScale=min(1.0-dot(normal,u_shadow_direction),1.0)*0.5+0.5;return normal*dotScale;}float shadow_normal_offset_multiplier0() {return u_shadow_normal_offset[1];}float shadow_normal_offset_multiplier1() {return u_shadow_normal_offset[2];}
#endif//RENDER_SHADOWS`,Kl=`#ifdef RENDER_SHADOWS
#ifdef DEPTH_TEXTURE
uniform highp sampler2D u_shadowmap_0;uniform highp sampler2D u_shadowmap_1;
#else
uniform sampler2D u_shadowmap_0;uniform sampler2D u_shadowmap_1;
#endif
uniform float u_shadow_intensity;uniform float u_shadow_map_resolution;uniform float u_shadow_texel_size;uniform highp vec3 u_shadow_normal_offset;uniform vec2 u_fade_range;uniform mediump vec3 u_shadow_direction;uniform highp vec3 u_shadow_bias;highp float shadow_sample_1(highp vec2 uv,highp float compare) {highp float shadow_depth;
#ifdef DEPTH_TEXTURE
shadow_depth=texture(u_shadowmap_1,uv).r;
#else
shadow_depth=unpack_depth(texture(u_shadowmap_1,uv))*0.5+0.5;
#endif
return step(shadow_depth,compare);}highp float shadow_sample_0(highp vec2 uv,highp float compare) {highp float shadow_depth;
#ifdef DEPTH_TEXTURE
shadow_depth=texture(u_shadowmap_0,uv).r;
#else
shadow_depth=unpack_depth(texture(u_shadowmap_0,uv))*0.5+0.5;
#endif
return step(shadow_depth,compare);}float shadow_occlusion_1(highp vec4 pos,highp float bias) {highp vec2 uv=pos.xy;return shadow_sample_1(uv,pos.z-bias);}float shadow_occlusion_0(highp vec4 pos,highp float bias) {highp float compare0=pos.z-bias;
#ifdef NATIVE
highp vec2 uv=pos.xy;highp vec4 samples=textureGather(u_shadowmap_0,uv,0);lowp vec4 stepSamples=step(samples,vec4(compare0));
#else
highp vec2 uv00=pos.xy-vec2(0.5*u_shadow_texel_size);highp vec2 uv10=uv00+vec2(u_shadow_texel_size,0.0);highp vec2 uv01=uv00+vec2(0.0,u_shadow_texel_size);highp vec2 uv11=uv01+vec2(u_shadow_texel_size,0.0);lowp vec4 stepSamples=vec4(
shadow_sample_0(uv01,compare0),shadow_sample_0(uv11,compare0),shadow_sample_0(uv10,compare0),shadow_sample_0(uv00,compare0)
);
#endif
vec2 f=fract(pos.xy*u_shadow_map_resolution-vec2(0.5));lowp vec2 lerpx=mix(stepSamples.wx,stepSamples.zy,f.xx);return mix(lerpx.x,lerpx.y,f.y);}float shadow_occlusion(highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth,highp float bias) {
#ifdef SHADOWS_SINGLE_CASCADE
light_view_pos0.xyz=light_view_pos0.xyz/light_view_pos0.w*0.5+0.5;return shadow_occlusion_0(light_view_pos0,bias);
#else
light_view_pos0.xyz/=light_view_pos0.w;light_view_pos1.xyz/=light_view_pos1.w;vec4 uv=vec4(light_view_pos0.xy,light_view_pos1.xy);vec4 abs_bounds=abs(uv);if (abs_bounds.x < 1.0 && abs_bounds.y < 1.0) {light_view_pos0.xyz=light_view_pos0.xyz*0.5+0.5;return shadow_occlusion_0(light_view_pos0,bias);}if (abs_bounds.z >=1.0 || abs_bounds.w >=1.0) {return 0.0;}light_view_pos1.xyz=light_view_pos1.xyz*0.5+0.5;float occlusion1=shadow_occlusion_1(light_view_pos1,bias);return mix(occlusion1,0.0,smoothstep(u_fade_range.x,u_fade_range.y,view_depth));
#endif
}highp float calculate_shadow_bias(float NDotL) {
#ifdef NORMAL_OFFSET
return 0.5*u_shadow_bias.x;
#else
return 0.5*(u_shadow_bias.x+clamp(u_shadow_bias.y*tan(acos(NDotL)),0.0,u_shadow_bias.z));
#endif
}float shadowed_light_factor_normal(vec3 N,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float NDotL=dot(N,u_shadow_direction);float bias=calculate_shadow_bias(NDotL);float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return mix(0.0,(1.0-(u_shadow_intensity*occlusion))*NDotL,step(0.0,NDotL));}float shadowed_light_factor_normal_unbiased(vec3 N,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float NDotL=dot(N,u_shadow_direction);float bias=0.0;float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return mix(0.0,(1.0-(u_shadow_intensity*occlusion))*NDotL,step(0.0,NDotL));}float shadowed_light_factor(highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float bias=0.0;float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return 1.0-(u_shadow_intensity*occlusion);}float shadow_occlusion(float ndotl,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float bias=calculate_shadow_bias(ndotl);return shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);}
#endif`;const ld=[];ud(Jf,ld),ud($m,ld),ud(zm,ld);const Wl={"_prelude_fog.vertex.glsl":y0,"_prelude_terrain.vertex.glsl":_0,"_prelude_shadow.vertex.glsl":cu,"_prelude_fog.fragment.glsl":w1,"_prelude_shadow.fragment.glsl":Kl,"_prelude_lighting.glsl":`
#ifdef LIGHTING_3D_MODE
uniform mediump vec3 u_lighting_ambient_color;uniform mediump vec3 u_lighting_directional_dir;uniform mediump vec3 u_lighting_directional_color;uniform mediump vec3 u_ground_radiance;float calculate_ambient_directional_factor(vec3 normal) {float NdotL=dot(normal,u_lighting_directional_dir);const float factor_reduction_max=0.3;float dir_luminance=dot(u_lighting_directional_color,vec3(0.2126,0.7152,0.0722));float directional_factor_min=1.0-factor_reduction_max*min(dir_luminance,1.0);float ambient_directional_factor=mix(directional_factor_min,1.0,min((NdotL+1.0),1.0));const float vertical_factor_min=0.92;float vertical_factor=mix(vertical_factor_min,1.0,normal.z*0.5+0.5);return vertical_factor*ambient_directional_factor;}vec3 linearProduct(vec3 srgbIn,vec3 k) {return srgbIn*pow(k,vec3(1./2.2));}vec3 apply_lighting(vec3 color,vec3 normal,float dir_factor) {float ambient_directional_factor=calculate_ambient_directional_factor(normal);vec3 ambient_contrib=ambient_directional_factor*u_lighting_ambient_color;vec3 directional_contrib=u_lighting_directional_color*dir_factor;return linearProduct(color,ambient_contrib+directional_contrib);}vec4 apply_lighting(vec4 color,vec3 normal,float dir_factor) {return vec4(apply_lighting(color.rgb,normal,dir_factor),color.a);}vec3 apply_lighting(vec3 color,vec3 normal) {float dir_factor=max(dot(normal,u_lighting_directional_dir),0.0);return apply_lighting(color.rgb,normal,dir_factor);}vec4 apply_lighting(vec4 color,vec3 normal) {float dir_factor=max(dot(normal,u_lighting_directional_dir),0.0);return vec4(apply_lighting(color.rgb,normal,dir_factor),color.a);}vec3 apply_lighting_ground(vec3 color) {return color*u_ground_radiance;}vec4 apply_lighting_ground(vec4 color) {return vec4(apply_lighting_ground(color.rgb),color.a);}float calculate_NdotL(vec3 normal) {const float ext=0.70710678118;return (clamp(dot(normal,u_lighting_directional_dir),-ext,1.0)+ext)/(1.0+ext);}vec4 apply_lighting_with_emission_ground(vec4 color,float emissive_strength) {return mix(apply_lighting_ground(color),color,emissive_strength);}vec3 compute_flood_lighting(vec3 flood_light_color,float fully_occluded_factor,float occlusion,vec3 ground_shadow_factor) {vec3 fully_occluded_color=flood_light_color*mix(ground_shadow_factor,vec3(1.0),fully_occluded_factor);float occlusion_ramp=smoothstep(0.0,0.2,1.0-occlusion);return mix(fully_occluded_color,flood_light_color,occlusion_ramp);}vec3 compute_emissive_draped(vec3 unlit_color,float fully_occluded_factor,float occlusion,vec3 ground_shadow_factor) {vec3 fully_occluded_color=unlit_color*mix(ground_shadow_factor,vec3(1.0),fully_occluded_factor);return mix(fully_occluded_color,unlit_color,1.0-occlusion);}
#endif//LIGHTING_3D_MODE`,"_prelude_raster_array.glsl":qd,"_prelude_raster_particle.glsl":od},ep={};Zi("",_0),Zi(w1,y0),Zi(Kl,cu),Zi(qd,""),Zi(od,"");const _A=Zi(zm,$m),tp=Jf;var Hm={background:Zi(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec4 u_color;uniform float u_opacity;
#ifdef LIGHTING_3D_MODE
in vec4 v_color;
#endif
void main() {vec4 out_color;
#ifdef LIGHTING_3D_MODE
out_color=v_color;
#else
out_color=u_color;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_lighting.glsl"
in vec2 a_pos;uniform mat4 u_matrix;
#ifdef LIGHTING_3D_MODE
uniform mediump vec4 u_color;out vec4 v_color;uniform float u_emissive_strength;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting_with_emission_ground(u_color,u_emissive_strength);
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:Zi(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform float u_emissive_strength;uniform sampler2D u_image;in vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=textureLodCustom(u_image,pos,v_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:Zi(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
in vec3 v_data;in float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
uniform float u_emissive_strength;void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
glFragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;in vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
out vec3 v_data;out float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);
#else 
surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;
#else
occlusion_world_center=world_center;occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:Zi("void main() {glFragColor=vec4(1.0);}","in vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Zi(`#include "_prelude_fog.fragment.glsl"
uniform highp float u_intensity;in vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);glFragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {glFragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_terrain.vertex.glsl"
#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;in vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
out vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:Zi(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));glFragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(0.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,"in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:Zi("in float v_placed;in float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);glFragColor =mix(red,blue,step(0.5,v_placed))*0.5;glFragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`#include "_prelude_terrain.vertex.glsl"
in vec3 a_pos;in vec2 a_anchor_pos;in vec2 a_extrude;in vec2 a_placed;in vec2 a_shift;in float a_size_scale;in vec2 a_padding;in float a_z_offset;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;out float v_placed;out float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*(a_z_offset+elevation(a_anchor_pos)),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:Zi("in float v_radius;in vec2 v_extrude;in float v_perspective_ratio;in float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);glFragColor=color*alpha*opacity_t;}",`in vec2 a_pos_2f;in float a_radius;in vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;out float v_radius;out vec2 v_extrude;out float v_perspective_ratio;out float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:Zi("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);glFragColor=mix(u_color,overlay_color,overlay_color.a);}",`#include "_prelude_terrain.vertex.glsl"
in vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;
#endif
out vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:Zi(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
uniform float u_emissive_strength;void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
in vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutline:Zi(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
in highp vec2 v_pos;uniform float u_emissive_strength;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
in vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;out highp vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:Zi(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_emissive_strength;in highp vec2 v_pos;in highp vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec2 lod_pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,v_pos);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=textureLodCustom(u_image,pos,lod_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;in vec2 a_pos;out highp vec2 v_pos;out highp vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:Zi(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec2 u_texsize;uniform sampler2D u_image;in vec2 v_pos;uniform float u_emissive_strength;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec2 lod_pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,v_pos);vec4 out_color=textureLodCustom(u_image,pos,lod_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:Zi(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_shadow.fragment.glsl"
#include "_prelude_lighting.glsl"
in vec4 v_color;in vec4 v_flat;
#ifdef RENDER_SHADOWS
in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;
#endif
uniform lowp float u_opacity;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;in vec2 v_ao;
#endif
#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)
in vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
in highp vec3 v_normal;
#endif
uniform vec3 u_flood_light_color;uniform highp float u_vertical_scale;uniform float u_flood_light_intensity;uniform vec3 u_ground_shadow_factor;
#if defined(LIGHTING_3D_MODE) && defined(FLOOD_LIGHT)
in float v_flood_radius;in float v_has_floodlight;
#endif
uniform float u_emissive_strength;in float v_height;void main() {
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
vec3 normal=normalize(v_normal);
#endif
float z;vec4 color=v_color;
#ifdef ZERO_ROOF_RADIUS
z=float(normal.z > 0.00001);
#ifdef LIGHTING_3D_MODE
normal=mix(normal,vec3(0.0,0.0,1.0),z);
#else
color=mix(v_color,v_roof_color,z);
#endif
#endif
float h=max(0.0,v_height);float ao_shade=1.0;
#ifdef FAUX_AO
float intensity=u_ao[0];float h_floors=h/(u_ao[1]*u_vertical_scale);float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);ao_shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;
#ifdef ZERO_ROOF_RADIUS
concave*=(1.0-z);
#endif
float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);ao_shade*=mix(1.0,x_shade*x_shade*x_shade,concave);
#ifdef LIGHTING_3D_MODE
#ifdef FLOOD_LIGHT
color.rgb*=mix(ao_shade,1.0,v_has_floodlight);
#else
color.rgb*=ao_shade;
#endif
#else
color.rgb*=ao_shade;
#endif
#endif
#ifdef LIGHTING_3D_MODE
float flood_radiance=0.0;
#ifdef FLOOD_LIGHT
flood_radiance=(1.0-min(h/v_flood_radius,1.0))*u_flood_light_intensity*v_has_floodlight;
#endif
#ifdef RENDER_SHADOWS
#ifdef FLOOD_LIGHT
float ndotl_unclamped=dot(normal,u_shadow_direction);float ndotl=max(0.0,ndotl_unclamped);float occlusion=ndotl_unclamped < 0.0 ? 1.0 : shadow_occlusion(ndotl,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);vec3 litColor=apply_lighting(color.rgb,normal,(1.0-u_shadow_intensity*occlusion)*ndotl);vec3 floodLitColor=compute_flood_lighting(u_flood_light_color*u_opacity,1.0-u_shadow_intensity,occlusion,u_ground_shadow_factor);color.rgb=mix(litColor,floodLitColor,flood_radiance);
#else
float shadowed_lighting_factor=shadowed_light_factor_normal(normal,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);color.rgb=apply_lighting(color.rgb,normal,shadowed_lighting_factor);
#endif
#else
color.rgb=apply_lighting(color.rgb,normal);
#ifdef FLOOD_LIGHT
color.rgb=mix(color.rgb,u_flood_light_color*u_opacity,flood_radiance);
#endif
#endif
color.rgb=mix(color.rgb,v_flat.rgb,u_emissive_strength);color*=u_opacity;
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos,h));
#endif
#ifdef INDICATOR_CUTOUT
color=applyCutout(color);
#endif
glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
#include "_prelude_lighting.glsl"
uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
uniform highp float u_vertical_scale;out vec4 v_color;out vec4 v_flat;
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out float v_depth;
#endif
#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)
out vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
out highp vec3 v_normal;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;out vec2 v_ao;
#endif
#if defined(LIGHTING_3D_MODE) && defined(FLOOD_LIGHT)
out float v_flood_radius;out float v_has_floodlight;
#endif
out float v_height;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
#pragma mapbox: define highp float flood_light_wall_radius
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize highp float flood_light_wall_radius
base*=u_vertical_scale;height*=u_vertical_scale;vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
v_normal=normal;
#endif
base=max(0.0,base);float attr_height=height;height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=0.0;float c_ele=0.0;vec3 pos;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);
#else
h=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float cutoff=1.0;vec3 scaled_pos=pos;
#ifdef RENDER_CUTOFF
vec3 centroid_random=vec3(centroid_pos.xy,centroid_pos.x+centroid_pos.y+1.0);vec3 ground_pos=centroid_pos.x==0.0 ? pos.xyz : (centroid_random/8.0);vec4 ground=u_matrix*vec4(ground_pos.xy,ele,1.0);cutoff=max(0.01,cutoff_opacity(u_cutoff_params,ground.z));if (centroid_pos.y !=0.0 && centroid_pos.x !=0.0) {vec3 g=floor(ground_pos);vec3 mod_=centroid_random-g*8.0;float seed=min(1.0,0.1*(min(3.5,max(mod_.x+mod_.y,0.2*attr_height))*0.35+mod_.z));if (cutoff < 0.8-seed) {cutoff=0.0;}}float cutoff_scale=cutoff;scaled_pos.z=mix(c_ele,h,cutoff_scale);
#endif
float hidden=float((centroid_pos.x==0.0 && centroid_pos.y==1.0) || (cutoff < 0.01 && centroid_pos.x !=0.0));gl_Position=mix(u_matrix*vec4(scaled_pos,1),AWAY,hidden);h=h-ele;v_height=h;
#ifdef RENDER_SHADOWS
vec3 shd_pos0=pos;vec3 shd_pos1=pos;
#ifdef NORMAL_OFFSET
vec3 offset=shadow_normal_offset(normal);shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);
#endif
float NdotL=0.0;float colorvalue=0.0;
#ifndef LIGHTING_3D_MODE
colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);if (normal.y !=0.0) {float r=0.84;r=mix(0.7,0.98,1.0-u_lightintensity);NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#endif
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec2(mix(concave,-concave,start),y_ground);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
#ifdef FLOOD_LIGHT
float is_wall=1.0-float(t > 0.0 && top_up_ny.y > 0.0);v_has_floodlight=float(flood_light_wall_radius > 0.0 && is_wall > 0.0);v_flood_radius=flood_light_wall_radius*u_vertical_scale;
#endif
v_color=vec4(color.rgb,1.0);v_flat=vec4(linearProduct(color.rgb,vec3(calculate_NdotL(normal))),1.0);
#else
v_color=vec4(0.0,0.0,0.0,1.0);v_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_color*=u_opacity;
#endif
#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)
float roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color=vec4(0.0,0.0,0.0,1.0);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_roof_color*=u_opacity;
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionDepth:Zi(`in highp float v_depth;void main() {
#ifndef DEPTH_TEXTURE
glFragColor=pack_depth(v_depth);
#endif
}`,`#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_matrix;uniform float u_edge_radius;uniform float u_vertical_scale;in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
out highp float v_depth;void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
base*=u_vertical_scale;height*=u_vertical_scale;vec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
vec3 pos;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;float ele=elevation(pos_nx.xy);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base);pos=vec3(pos_nx.xy,h);
#else
pos=vec3(pos_nx.xy,t > 0.0 ? height : base);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);v_depth=gl_Position.z/gl_Position.w;}`),fillExtrusionPattern:Zi(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec2 u_texsize;uniform sampler2D u_image;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;in vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
in vec3 v_normal;
#endif
in vec2 v_pos;in vec4 v_lighting;uniform lowp float u_opacity;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define highp float pixel_ratio
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize highp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec2 lod_pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,v_pos);vec4 out_color=textureLodCustom(u_image,pos,lod_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color,normalize(v_normal))*u_opacity;
#else
out_color=out_color*v_lighting;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef INDICATOR_CUTOUT
out_color=applyCutout(out_color);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#include "_prelude_lighting.glsl"
uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
out vec2 v_pos;out vec4 v_lighting;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;out vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
out vec3 v_normal;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define highp float pixel_ratio
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize highp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=z;vec3 p;float c_ele;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);
#else
p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_normal=normal;
#else
v_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#endif 
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),groundShadow:Zi(`#include "_prelude_shadow.fragment.glsl"
precision highp float;uniform vec3 u_ground_shadow_factor;in vec4 v_pos_light_view_0;in vec4 v_pos_light_view_1;
#ifdef FOG
in float v_fog_opacity;
#endif
void main() {float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);vec3 shadow=mix(u_ground_shadow_factor,vec3(1.0),light);
#ifdef RENDER_CUTOFF
shadow=mix(vec3(1.0),shadow,cutoff_opacity(u_cutoff_params,1.0/gl_FragCoord.w));
#endif
#ifdef FOG
shadow=mix(shadow,vec3(1.0),v_fog_opacity);
#endif
#ifdef INDICATOR_CUTOUT
shadow=mix(shadow,vec3(1.0),1.0-applyCutout(vec4(1.0)).r);
#endif
glFragColor=vec4(shadow,1.0);}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;in vec2 a_pos;out vec4 v_pos_light_view_0;out vec4 v_pos_light_view_1;
#ifdef FOG
out float v_fog_opacity;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0.0,1.0);v_pos_light_view_0=u_light_matrix_0*vec4(a_pos,0.0,1.0);v_pos_light_view_1=u_light_matrix_1*vec4(a_pos,0.0,1.0);
#ifdef FOG
v_fog_pos=fog_position(a_pos);v_fog_opacity=fog(v_fog_pos);
#endif
}`),fillExtrusionGroundEffect:Zi(`uniform highp float u_ao_pass;uniform highp float u_opacity;uniform highp float u_flood_light_intensity;uniform highp vec3 u_flood_light_color;uniform highp float u_attenuation;uniform sampler2D u_fb;uniform float u_fb_size;
#ifdef SDF_SUBPASS
in highp vec2 v_pos;in highp vec4 v_line_segment;in highp float v_flood_light_radius_tile;in highp vec2 v_ao;float line_df(highp vec2 a,highp vec2 b,highp vec2 p) {highp vec2 ba=b-a;highp vec2 pa=p-a;highp float r=clamp(dot(pa,ba)/dot(ba,ba),0.0,1.0);return length(pa-r*ba);}
#ifdef FOG
in highp float v_fog;
#endif
#endif
void main() {
#ifdef CLEAR_SUBPASS
vec4 color=vec4(1.0);
#ifdef CLEAR_FROM_TEXTURE
color=texture(u_fb,gl_FragCoord.xy/vec2(u_fb_size));
#endif
glFragColor=color;
#else
#ifdef SDF_SUBPASS
highp float d=line_df(v_line_segment.xy,v_line_segment.zw,v_pos);highp float effect_radius=mix(v_flood_light_radius_tile,v_ao.y,u_ao_pass);d/=effect_radius;d=min(d,1.0);d=1.0-pow(1.0-d,u_attenuation);highp float effect_intensity=mix(u_flood_light_intensity,v_ao.x,u_ao_pass);highp float fog=1.0;
#ifdef FOG
fog=v_fog;
#endif
#ifdef RENDER_CUTOFF
fog*=v_cutoff_opacity;
#endif
glFragColor=vec4(vec3(0.0),mix(1.0,d,effect_intensity*u_opacity*fog));
#else
vec4 color=mix(vec4(u_flood_light_color,1.0),vec4(vec3(0.0),1.0),u_ao_pass);
#ifdef OVERDRAW_INSPECTOR
color=vec4(1.0);
#endif
glFragColor=color;
#endif
HANDLE_WIREFRAME_DEBUG;
#endif
}`,`#include "_prelude_fog.vertex.glsl"
in highp vec4 a_pos_end;in highp float a_angular_offset_factor;in highp float a_hidden_by_landmark;
#ifdef SDF_SUBPASS
out highp vec2 v_pos;out highp vec4 v_line_segment;out highp float v_flood_light_radius_tile;out highp vec2 v_ao;
#ifdef FOG
out highp float v_fog;
#endif
#endif
uniform highp float u_flood_light_intensity;uniform highp mat4 u_matrix;uniform highp float u_ao_pass;uniform highp float u_meter_to_tile;uniform highp float u_edge_radius;uniform highp vec2 u_ao;
#pragma mapbox: define highp float flood_light_ground_radius
const float TANGENT_CUTOFF=4.0;const float NORM=32767.0;void main() {
#pragma mapbox: initialize highp float flood_light_ground_radius
vec2 p=a_pos_end.xy;vec2 q=floor(a_pos_end.zw*0.5);vec2 start_bottom=a_pos_end.zw-q*2.0;float fl_ground_radius=flood_light_ground_radius;fl_ground_radius=abs(flood_light_ground_radius);float direction=flood_light_ground_radius < 0.0 ?-1.0 : 1.0;float flood_radius_tile=fl_ground_radius*u_meter_to_tile;vec2 v=normalize(q-p);float ao_radius=u_ao.y/3.5;float effect_radius=mix(flood_radius_tile,ao_radius,u_ao_pass)+u_edge_radius;float angular_offset_factor=a_angular_offset_factor/NORM*TANGENT_CUTOFF;float angular_offset=direction*angular_offset_factor*effect_radius;float top=1.0-start_bottom.y;float side=(0.5-start_bottom.x)*2.0;vec2 extrusion_parallel=v*side*mix(1.0,angular_offset,top);vec2 perp=vec2(v.y,-v.x);vec2 extrusion_perp=direction*perp*effect_radius*top;vec3 pos=vec3(mix(q,p,start_bottom.x),0.0);pos.xy+=extrusion_parallel+extrusion_perp;
#ifdef SDF_SUBPASS
v_pos=pos.xy;v_line_segment=vec4(p,q)+perp.xyxy*u_edge_radius;v_flood_light_radius_tile=flood_radius_tile;v_ao=vec2(u_ao.x,ao_radius);
#ifdef FOG
v_fog_pos=fog_position(pos);v_fog=1.0-fog(v_fog_pos);
#endif
#endif
float hidden_by_landmark=0.0;
#ifdef HAS_CENTROID
hidden_by_landmark=a_hidden_by_landmark;
#endif
float isFloodlit=float(fl_ground_radius > 0.0 && u_flood_light_intensity > 0.0);float hidden=mix(1.0-isFloodlit,isFloodlit,u_ao_pass);hidden+=hidden_by_landmark;gl_Position=mix(u_matrix*vec4(pos,1.0),AWAY,float(hidden > 0.0));
#ifdef RENDER_CUTOFF
v_cutoff_opacity=cutoff_opacity(u_cutoff_params,gl_Position.z);
#endif
}`),hillshadePrepare:Zi(`precision highp float;uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;float getElevation(vec2 coord) {return texture(u_image,coord).r/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));glFragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Zi(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;uniform float u_emissive_strength;void main() {vec4 pixel=texture(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);glFragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef LIGHTING_3D_MODE
glFragColor=apply_lighting_with_emission_ground(glFragColor,u_emissive_strength);
#endif
#ifdef FOG
glFragColor=fog_dither(fog_apply_premultiplied(glFragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:Zi(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;in vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}uniform float u_emissive_strength;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float border_width
#pragma mapbox: define lowp vec4 border_color
float linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float border_width
#pragma mapbox: initialize lowp vec4 border_color
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist=texture(u_dash_image,v_tex).r;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);
#endif
highp vec4 out_color;
#ifdef RENDER_LINE_GRADIENT
out_color=texture(u_gradient_image,v_uv.xy);
#else
out_color=color;
#endif
float trimmed=1.0;
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);trimmed=0.0;}}
#endif
if (u_alpha_discard_threshold !=0.0) {if (alpha < u_alpha_discard_threshold) {discard;}}
#ifdef RENDER_LINE_BORDER
float edgeBlur=(border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);if (border_color.a==0.0) {    
float Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}} else {out_color.rgb=mix(border_color.rgb*border_color.a*trimmed,out_color.rgb,smoothAlpha);}}
#endif
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
out_color*=(alpha*opacity);
#ifdef INDICATOR_CUTOUT
out_color=applyCutout(out_color);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#define EXTRUDE_SCALE 0.015873016
in vec2 a_pos_normal;in vec4 a_data;
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
in highp vec4 a_packed;
#endif
#ifdef RENDER_LINE_DASH
in float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;out vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float border_width
#pragma mapbox: define lowp vec4 border_color
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float border_width
#pragma mapbox: initialize lowp vec4 border_color
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);
#else
v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
#endif
#ifdef RENDER_LINE_DASH
float scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),linePattern:Zi(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform highp vec2 u_trim_offset;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in float v_linesofar;in float v_gamma_scale;in float v_width;
#ifdef RENDER_LINE_TRIM_OFFSET
in highp vec4 v_uv;
#endif
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float pattern_x=v_linesofar/pattern_size.x*aspect;float x=mod(pattern_x,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec2 lod_pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(pattern_x,y));vec4 color=textureLodCustom(u_image,pos,lod_pos);
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {color=vec4(0,0,0,0);}}
#endif
#ifdef LIGHTING_3D_MODE
color=apply_lighting_ground(color);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
color*=(alpha*opacity);
#ifdef INDICATOR_CUTOUT
color=applyCutout(color);
#endif
glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;
#ifdef RENDER_LINE_TRIM_OFFSET
in highp vec4 a_packed;
#endif
in float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_linesofar;out float v_gamma_scale;out float v_width;
#ifdef RENDER_LINE_TRIM_OFFSET
out highp vec4 v_uv;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
#ifdef RENDER_LINE_TRIM_OFFSET
float a_uv_x=a_packed[0];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),raster:Zi(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_raster_array.glsl"
uniform float u_fade_t;uniform float u_opacity;uniform highp float u_raster_elevation;uniform highp float u_zoom_transition;in vec2 v_pos0;in vec2 v_pos1;in float v_depth;
#ifdef PROJECTION_GLOBE_VIEW
in float v_split_fade;
#endif
uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;uniform float u_emissive_strength;
#ifndef RASTER_ARRAY
uniform sampler2D u_image0;uniform sampler2D u_image1;
#endif
#ifdef RASTER_COLOR
uniform sampler2D u_color_ramp;uniform highp vec4 u_colorization_mix;uniform highp float u_colorization_offset;uniform vec2 u_texture_res;
#endif
void main() {vec4 color0,color1,color;vec2 value;
#ifdef RASTER_COLOR
#ifdef RASTER_ARRAY
#ifdef RASTER_ARRAY_LINEAR
value=mix(
raTexture2D_image0_linear(v_pos0,u_texture_res,u_colorization_mix,u_colorization_offset),raTexture2D_image1_linear(v_pos1,u_texture_res,u_colorization_mix,u_colorization_offset),u_fade_t
);
#else
value=mix(
raTexture2D_image0_nearest(v_pos0,u_texture_res,u_colorization_mix,u_colorization_offset),raTexture2D_image1_nearest(v_pos1,u_texture_res,u_colorization_mix,u_colorization_offset),u_fade_t
);
#endif
if (value.y > 0.0) value.x/=value.y;
#else
color=mix(texture(u_image0,v_pos0),texture(u_image1,v_pos1),u_fade_t);value=vec2(u_colorization_offset+dot(color.rgb,u_colorization_mix.rgb),color.a);
#endif
color=texture(u_color_ramp,vec2(value.x,0.5));if (color.a > 0.0) color.rgb/=color.a;color.a*=value.y;
#else
color0=texture(u_image0,v_pos0);color1=texture(u_image1,v_pos1);if (color0.a > 0.0) color0.rgb/=color0.a;if (color1.a > 0.0) color1.rgb/=color1.a;color=mix(color0,color1,u_fade_t);
#endif
color.a*=u_opacity;
#ifdef GLOBE_POLES
color.a*=1.0-smoothstep(0.0,0.05,u_zoom_transition);
#endif
vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(vec4(out_color,1.0),u_emissive_strength).rgb;
#endif
#ifdef FOG
highp float fog_limit_high_meters=1000000.0;highp float fog_limit_low_meters=600000.0;float fog_limit=1.0-smoothstep(fog_limit_low_meters,fog_limit_high_meters,u_raster_elevation);out_color=fog_dither(fog_apply(out_color,v_fog_pos,fog_limit));
#endif
glFragColor=vec4(out_color*color.a,color.a);
#ifdef PROJECTION_GLOBE_VIEW
glFragColor*=mix(1.0,1.0-smoothstep(0.0,0.05,u_zoom_transition),smoothstep(0.8,0.9,v_split_fade));
#endif
#ifdef RENDER_CUTOFF
glFragColor=glFragColor*cutoff_opacity(u_cutoff_params,v_depth);
#endif
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform mat3 u_grid_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;uniform vec2 u_texture_offset;uniform float u_raster_elevation;uniform float u_zoom_transition;uniform vec2 u_merc_center;
#define GLOBE_UPSCALE GLOBE_RADIUS/6371008.8
#ifdef GLOBE_POLES
in vec3 a_globe_pos;in vec2 a_uv;
#else
in vec2 a_pos;in vec2 a_texture_pos;
#endif
out vec2 v_pos0;out vec2 v_pos1;out float v_depth;
#ifdef PROJECTION_GLOBE_VIEW
out float v_split_fade;
#endif
void main() {vec2 uv;
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;gl_Position=u_matrix*u_globe_matrix*vec4(globe_pos   ,1.0);uv=a_uv;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(a_globe_pos,1.0)).xyz);
#endif
#else
float w=1.0+dot(a_texture_pos,u_perspective_transform);uv=a_texture_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);vec3 globe_pos=latLngToECEF(latLng.xy);globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);float mercatorY=mercatorYfromLat(latLng[0]);float mercatorX=mercatorXfromLng(latLng[1]);    
v_split_fade=0.0;if (u_zoom_transition > 0.0) {vec2 merc_pos=vec2(mercatorX,mercatorY);merc_world_pos=vec4(merc_pos,u_raster_elevation,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;float opposite_merc_center=mod(u_merc_center.x+0.5,1.0);float dist_from_poles=(abs(mercatorY-0.5)*2.0);float range=0.1;v_split_fade=abs(opposite_merc_center-mercatorX);v_split_fade=clamp(1.0-v_split_fade,0.0,1.0);v_split_fade=max(smoothstep(1.0-range,1.0,dist_from_poles),max(smoothstep(1.0-range,1.0,v_split_fade),smoothstep(1.0-range,1.0,1.0-v_split_fade)));}float tiles=u_grid_matrix[0][2];if (tiles > 0.0) {float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];float uvY=mercatorY*tiles-idy;float uvX=mercatorX*tiles-idx;uv=vec2(uvX,uvY);}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition)*w,w);gl_Position=u_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
#else
gl_Position=u_matrix*vec4(a_pos*w,u_raster_elevation*w,w);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
#endif
#endif
v_pos0=uv;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;v_pos0=u_texture_offset.x+u_texture_offset.y*v_pos0;v_pos1=u_texture_offset.x+u_texture_offset.y*v_pos1;
#ifdef RENDER_CUTOFF
v_depth=gl_Position.z;
#endif
}`),rasterParticle:Zi(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform float u_fade_t;uniform float u_opacity;uniform highp float u_raster_elevation;in vec2 v_pos0;in vec2 v_pos1;uniform sampler2D u_image0;uniform sampler2D u_image1;void main() {vec4 color0,color1,color;color0=texture(u_image0,v_pos0);color1=texture(u_image1,v_pos1);if (color0.a > 0.0) color0.rgb/=color0.a;if (color1.a > 0.0) color1.rgb/=color1.a;color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 out_color=color.rgb;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(vec4(out_color,1.0),0.0).rgb;
#endif
#ifdef FOG
highp float fog_limit_high_meters=1000000.0;highp float fog_limit_low_meters=600000.0;float fog_limit=1.0-smoothstep(fog_limit_low_meters,fog_limit_high_meters,u_raster_elevation);out_color=fog_dither(fog_apply(out_color,v_fog_pos,fog_limit));
#endif
glFragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform mat3 u_grid_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_raster_elevation;uniform float u_zoom_transition;uniform vec2 u_merc_center;
#define GLOBE_UPSCALE GLOBE_RADIUS/6371008.8
in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {float w=1.0;
#ifdef PROJECTION_GLOBE_VIEW
vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float mercatorX=mercatorXfromLng(latLng[1]);float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];float uvX=mercatorX*tiles-idx;float uvY=mercatorY*tiles-idy;vec2 uv=vec2(uvX,uvY);vec3 globe_pos=latLngToECEF(latLng.xy);globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {vec2 merc_pos=vec2(mercatorX,mercatorY);merc_world_pos=vec4(merc_pos,u_raster_elevation,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition)*w,w);gl_Position=u_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
#else
vec2 uv=a_texture_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*w,u_raster_elevation*w,w);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
#endif
v_pos0=uv;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),rasterParticleDraw:Zi("precision highp float;uniform sampler2D u_color_ramp;in float v_particle_speed;void main() {glFragColor=texture(u_color_ramp,vec2(v_particle_speed,0.5));}",`precision highp float;
#include "_prelude_raster_array.glsl"
#include "_prelude_raster_particle.glsl"
in vec3 a_pos;uniform vec2 u_tile_offset;out float v_particle_speed;void main() {vec2 pos=a_pos.xy+u_tile_offset;vec2 tex_coords=fract(pos);gl_PointSize=1.0;vec2 velocity=lookup_velocity(tex_coords);if (velocity==INVALID_VELOCITY) {v_particle_speed=0.0;gl_Position=vec4(2.0,2.0,2.0,1.0);} else {v_particle_speed=length(velocity);gl_Position=vec4(2.0*pos-vec2(1.0),0.0,1.0);}}`),rasterParticleTexture:Zi("uniform sampler2D u_texture;uniform float u_opacity;in vec2 v_tex_pos;void main() {vec4 color=texture(u_texture,v_tex_pos);glFragColor=vec4(floor(255.0*color*u_opacity)/255.0);}","in vec2 a_pos;out vec2 v_tex_pos;void main() {v_tex_pos=0.5*a_pos+vec2(0.5);gl_Position=vec4(a_pos,0.0,1.0);}"),rasterParticleUpdate:Zi("void main() {}",`#include "_prelude_raster_array.glsl"
#include "_prelude_raster_particle.glsl"
in vec3 a_pos;uniform float u_speed_factor;uniform float u_lifetime_delta;uniform float u_rand_seed;out vec3 v_new_particle;const vec3 rand_constants=vec3(12.9898,78.233,4375.85453);float rand(const vec2 co) {float t=dot(rand_constants.xy,co);return fract(sin(t)*(rand_constants.z+t));}void main() {float lifetime=a_pos.z;vec2 pos=a_pos.xy;vec2 uv=clamp(pos,vec2(0.0),vec2(1.0));vec2 velocity=lookup_velocity(uv);float next_lifetime=lifetime-u_lifetime_delta;float t=step(0.0,next_lifetime);
#ifdef DATA_FORMAT_UINT32
vec2 dp=vec2(0);
#else
vec2 dp=velocity==INVALID_VELOCITY ? vec2(0) : velocity*u_speed_factor;
#endif
vec2 seed=pos*u_rand_seed;vec2 next_pos=pos+dp;vec2 random_pos=vec2(rand(seed+1.3),rand(seed+2.1));v_new_particle=vec3(
vec2(mix(random_pos,next_pos,t)),mix(1.0,next_lifetime,t)
);}`),symbolIcon:Zi(`#include "_prelude_lighting.glsl"
uniform sampler2D u_texture;
#ifdef ICON_TRANSITION
uniform float u_icon_transition;
#endif
in float v_fade_opacity;in vec2 v_tex_a;
#ifdef ICON_TRANSITION
in vec2 v_tex_b;
#endif
uniform mediump float u_icon_saturation;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float emissive_strength
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float emissive_strength
lowp float alpha=opacity*v_fade_opacity;vec4 out_color;
#ifdef ICON_TRANSITION
vec4 a=texture(u_texture,v_tex_a)*(1.0-u_icon_transition);vec4 b=texture(u_texture,v_tex_b)*u_icon_transition;out_color=(a+b)*alpha;
#else
out_color=texture(u_texture,v_tex_a)*alpha;
#endif
#ifdef SATURATION
vec3 luma=vec3(dot(out_color.rgb,vec3(0.2126,0.7152,0.0722)));out_color.rgb=mix(luma,out_color.rgb,u_icon_saturation);
#endif
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,emissive_strength);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_terrain.vertex.glsl"
in vec4 a_pos_offset;in vec4 a_tex_size;in vec4 a_pixeloffset;in vec4 a_projected_pos;in float a_fade_opacity;
#ifdef Z_OFFSET
in float a_z_offset;
#endif
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_globe_anchor;in vec3 a_globe_normal;
#endif
#ifdef ICON_TRANSITION
in vec2 a_texb;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
out vec2 v_tex_a;
#ifdef ICON_TRANSITION
out vec2 v_tex_b;
#endif
out float v_fade_opacity;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float emissive_strength
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float emissive_strength
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;float e=elevation(tile_anchor);
#ifdef Z_OFFSET
e+=a_z_offset;
#endif
vec3 h=elevationVector(tile_anchor)*e;float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float out_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;float alpha=opacity*out_fade_opacity;float hidden=float(alpha==0.0 || projected_point.w <=0.0 || occlusion_fade==0.0);
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,hidden);
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,hidden);
#endif
v_tex_a=a_tex/u_texsize;
#ifdef ICON_TRANSITION
v_tex_b=a_texb/u_texsize;
#endif
v_fade_opacity=out_fade_opacity;}`),symbolSDF:Zi(`#include "_prelude_lighting.glsl"
#define SDF_PX 8.0
uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;uniform bool u_is_halo;in float v_draw_halo;in vec2 v_data0;in vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
#pragma mapbox: define lowp float emissive_strength
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
#pragma mapbox: initialize lowp float emissive_strength
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;bool draw_halo=v_draw_halo > 0.0;if (draw_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).r;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);vec4 out_color=color*(alpha*opacity*fade_opacity);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,emissive_strength);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_terrain.vertex.glsl"
in vec4 a_pos_offset;in vec4 a_tex_size;in vec4 a_pixeloffset;in vec4 a_projected_pos;in float a_fade_opacity;
#ifdef Z_OFFSET
in float a_z_offset;
#endif
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_globe_anchor;in vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform bool u_is_halo;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
out float v_draw_halo;out vec2 v_data0;out vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
#pragma mapbox: define lowp float emissive_strength
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
#pragma mapbox: initialize lowp float emissive_strength
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;float e=elevation(tile_anchor);
#ifdef Z_OFFSET
e+=a_z_offset;
#endif
vec3 h=elevationVector(tile_anchor)*e;float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float out_fade_opacity=interpolated_fade_opacity*projection_transition_fade;float alpha=opacity*out_fade_opacity;float hidden=float(alpha==0.0 || projected_point.w <=0.0 || occlusion_fade==0.0);
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,hidden);
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,hidden);
#endif
float gamma_scale=gl_Position.w;v_draw_halo=(u_is_halo && float(gl_InstanceID)==0.0) ? 1.0 : 0.0;v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,out_fade_opacity);}`),symbolTextAndIcon:Zi(`#include "_prelude_lighting.glsl"
#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_halo;in float v_draw_halo;in vec4 v_data0;in vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
#pragma mapbox: define lowp float emissive_strength
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
#pragma mapbox: initialize lowp float emissive_strength
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;glFragColor=texture(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;bool draw_halo=v_draw_halo > 0.0;if (draw_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).r;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);vec4 out_color=color*(alpha*opacity*fade_opacity);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,emissive_strength);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_terrain.vertex.glsl"
in vec4 a_pos_offset;in vec4 a_tex_size;in vec4 a_projected_pos;in float a_fade_opacity;
#ifdef Z_OFFSET
in float a_z_offset;
#endif
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_globe_anchor;in vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;uniform bool u_is_halo;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
out float v_draw_halo;out vec4 v_data0;out vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
#pragma mapbox: define lowp float emissive_strength
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
#pragma mapbox: initialize lowp float emissive_strength
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;float e=elevation(tile_anchor);
#ifdef Z_OFFSET
e+=a_z_offset;
#endif
vec3 h=elevationVector(tile_anchor)*e;float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
float out_fade_opacity=interpolated_fade_opacity*projection_transition_fade;float alpha=opacity*out_fade_opacity;float hidden=float(alpha==0.0 || projected_point.w <=0.0 || occlusion_fade==0.0);
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,hidden);
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,hidden);
#endif
float gamma_scale=gl_Position.w;v_draw_halo=(u_is_halo && float(gl_InstanceID)==0.0) ? 1.0 : 0.0;v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,out_fade_opacity,is_sdf);}`),terrainRaster:Zi(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_shadow.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform sampler2D u_image0;in vec2 v_pos0;
#ifdef FOG
in float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
in vec4 v_pos_light_view_0;in vec4 v_pos_light_view_1;
#endif
uniform vec3 u_ground_shadow_factor;void main() {vec4 image_color=texture(u_image0,v_pos0);vec4 color;
#ifdef LIGHTING_3D_MODE
const vec3 normal=vec3(0.0,0.0,1.0);
#ifdef RENDER_SHADOWS
float cutoffOpacity=1.0;
#ifdef RENDER_CUTOFF
cutoffOpacity=cutoff_opacity(u_cutoff_params,1.0/gl_FragCoord.w);
#endif
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
vec3 unlit_base=image_color.rgb*(1.0-image_color.a);vec3 emissive_base=image_color.rgb*image_color.a;float ndotl=u_shadow_direction.z;float occlusion=ndotl < 0.0 ? 1.0 : shadow_occlusion(v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w,0.0);ndotl=max(0.0,ndotl);vec3 lit=apply_lighting(unlit_base,normal,mix(1.0,(1.0-(u_shadow_intensity*occlusion))*ndotl,cutoffOpacity));vec3 emissive=compute_emissive_draped(emissive_base,1.0-u_shadow_intensity,occlusion,u_ground_shadow_factor);color.rgb=lit+emissive;color.a=1.0;
#else
float lighting_factor=shadowed_light_factor_normal_unbiased(normal,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);color=apply_lighting(image_color,normal,mix(1.0,lighting_factor,cutoffOpacity));
#endif
#else
float lighting_factor=u_lighting_directional_dir.z;color=apply_lighting(image_color,normal,lighting_factor);
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
color.rgb=mix(color.rgb,image_color.rgb,image_color.a);color.a=1.0;
#endif
#endif
#else
color=image_color;
#endif
#ifdef FOG
#ifdef ZERO_EXAGGERATION
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#else
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
#endif
glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_matrix;uniform float u_skirt_height;in vec2 a_pos;out vec2 v_pos0;
#ifdef FOG
out float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out vec4 v_pos_light_view_0;out vec4 v_pos_light_view_1;out float v_depth;
#endif
void main() {vec3 decomposedPosAndSkirt=decomposeToPosAndSkirt(a_pos);float skirt=decomposedPosAndSkirt.z;vec2 decodedPos=decomposedPosAndSkirt.xy;float elevation=elevation(decodedPos)-skirt*u_skirt_height;v_pos0=decodedPos/8192.0;gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
#ifdef ZERO_EXAGGERATION
v_fog_pos=fog_position(decodedPos);
#else
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
#endif
#ifdef RENDER_SHADOWS
vec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);
#endif
}`),terrainDepth:Zi("precision highp float;in float v_depth;void main() {glFragColor=pack_depth(v_depth);}",`#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_matrix;in vec2 a_pos;out float v_depth;void main() {float elevation=elevation(a_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}`),skybox:Zi(`#include "_prelude_fog.fragment.glsl"
in lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=texture(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);glFragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
}`,Vm),skyboxGradient:Zi(`#include "_prelude_fog.fragment.glsl"
in highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
}`,Vm),skyboxCapture:Zi(`
in highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;precision highp float;
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;glFragColor=vec4(color,1.0);}`,"in highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;out highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:Zi(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform sampler2D u_image0;uniform float u_far_z_cutoff;in vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {vec4 color;
#ifdef CUSTOM_ANTIALIASING
vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture(u_image0,v_pos0);
#ifdef LIGHTING_3D_MODE
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
raster=apply_lighting_with_emission_ground(raster,raster.a);color=vec4(raster.rgb*antialias,antialias);
#else
raster=apply_lighting_ground(raster);color=vec4(raster.rgb*antialias,raster.a*antialias);
#endif
#else
color=vec4(raster.rgb*antialias,raster.a*antialias);
#endif
#else
color=texture(u_image0,v_pos0);
#ifdef LIGHTING_3D_MODE
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
color=apply_lighting_with_emission_ground(color,color.a);color.a=1.0;
#else
color=apply_lighting_ground(color);
#endif
#endif
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
color*=1.0-step(u_far_z_cutoff,1.0/gl_FragCoord.w);glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;uniform float u_skirt_height;
#ifdef GLOBE_POLES
in vec3 a_globe_pos;in vec2 a_uv;
#else
in vec2 a_pos;
#endif
out vec2 v_pos0;void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;vec2 tile_pos=uv*EXTENT;vec3 globe_derived_up_vector=normalize(globe_pos)*u_tile_up_scale;
#ifdef GLOBE_POLES
vec3 up_vector=globe_derived_up_vector;
#else
vec3 up_vector=elevationVector(tile_pos);
#endif
float height=elevation(tile_pos);globe_pos+=up_vector*height;
#ifndef GLOBE_POLES
globe_pos-=globe_derived_up_vector*u_skirt_height*decomposed_pos_and_skirt.z;
#endif
#ifdef GLOBE_POLES
vec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);
#else
vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height-u_skirt_height*decomposed_pos_and_skirt.z,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);
#endif
gl_Position=u_proj_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:Zi(`#include "_prelude_fog.fragment.glsl"
uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec4 u_color;uniform vec4 u_high_color;uniform vec4 u_space_color;uniform float u_horizon_angle;in highp vec3 v_ray_dir;in highp vec3 v_horizon_dir;void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;
#ifdef PROJECTION_GLOBE_VIEW
globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {
#ifdef ALPHA_PASS
glFragColor=vec4(0,0,0,0);return;
#else
#ifdef NATIVE
glFragColor=vec4(1,1,1,1);
#else
glFragColor=vec4(0,0,0,1);
#endif
return;
#endif
}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(clamp(dot(dir,horizon_dir),-1.0,1.0)),0.0);float horizon_angle;
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;highp float closest_point_to_center=length(closest_point-u_globe_pos);highp float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;
#ifdef ALPHA_PASS
float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);glFragColor=vec4(1.0,1.0,1.0,a);
#else
vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c=c2;
#ifndef NATIVE
c=dither(c,gl_FragCoord.xy+u_temporal_offset);
#endif
glFragColor=vec4(c*t,t);
#endif
}`,`in vec3 a_pos;in vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;out highp vec3 v_ray_dir;out highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`),model:Zi(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_shadow.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform float u_opacity;uniform vec3 u_lightcolor;uniform vec3 u_lightpos;uniform float u_lightintensity;uniform vec4 u_baseColorFactor;uniform vec4 u_emissiveFactor;uniform float u_metallicFactor;uniform float u_roughnessFactor;uniform float u_emissive_strength;in highp vec4 v_position_height;in lowp vec4 v_color_mix;
#ifdef RENDER_SHADOWS
in vec4 v_pos_light_view_0;in vec4 v_pos_light_view_1;in float v_depth_shadows;
#endif
#ifdef OCCLUSION_TEXTURE_TRANSFORM
uniform vec4 u_occlusionTextureTransform;
#endif
#pragma mapbox: define-attribute highp vec3 normal_3f
#pragma mapbox: define-attribute highp vec3 color_3f
#pragma mapbox: define-attribute highp vec4 color_4f
#pragma mapbox: define-attribute highp vec2 uv_2f
#pragma mapbox: initialize-attribute highp vec3 normal_3f
#pragma mapbox: initialize-attribute highp vec3 color_3f
#pragma mapbox: initialize-attribute highp vec4 color_4f
#pragma mapbox: initialize-attribute highp vec2 uv_2f
#ifdef HAS_ATTRIBUTE_a_pbr
in lowp vec4 v_roughness_metallic_emissive_alpha;in mediump vec4 v_height_based_emission_params;
#endif
#ifdef HAS_TEXTURE_u_baseColorTexture
uniform sampler2D u_baseColorTexture;uniform bool u_baseTextureIsAlpha;uniform bool u_alphaMask;uniform float u_alphaCutoff;
#endif
#ifdef HAS_TEXTURE_u_metallicRoughnessTexture
uniform sampler2D u_metallicRoughnessTexture;
#endif
#ifdef HAS_TEXTURE_u_occlusionTexture
uniform sampler2D u_occlusionTexture;uniform float u_aoIntensity;
#endif
#ifdef HAS_TEXTURE_u_normalTexture
uniform sampler2D u_normalTexture;
#endif
#ifdef HAS_TEXTURE_u_emissionTexture
uniform sampler2D u_emissionTexture;
#endif
#ifdef TERRAIN_FRAGMENT_OCCLUSION
in highp float v_depth;uniform sampler2D u_depthTexture;uniform vec2 u_inv_depth_size;bool isOccluded() {vec2 coord=gl_FragCoord.xy*u_inv_depth_size;highp float depth=unpack_depth(texture(u_depthTexture,coord));return v_depth > depth+0.0005;}
#endif
#define saturate(_x) clamp(_x,0.,1.)
vec3 linearTosRGB(vec3 color) {return pow(color,vec3(1./2.2));}vec3 sRGBToLinear(vec3 srgbIn) {return pow(srgbIn,vec3(2.2));}float calculate_NdotL(vec3 normal,vec3 lightDir) {const float ext=0.70710678118;return (clamp(dot(normal,lightDir),-ext,1.0)+ext)/(1.0+ext);}vec3 getDiffuseShadedColor(vec3 albedo,vec3 normal,vec3 lightDir,vec3 lightColor)
{
#ifdef LIGHTING_3D_MODE
vec3 transformed_normal=vec3(-normal.xy,normal.z);float lighting_factor;
#ifdef RENDER_SHADOWS
lighting_factor=shadowed_light_factor_normal(transformed_normal,v_pos_light_view_0,v_pos_light_view_1,v_depth_shadows);
#else
lighting_factor=saturate(dot(transformed_normal,u_lighting_directional_dir));
#endif
return apply_lighting(albedo,transformed_normal,lighting_factor);
#else
vec3 n=normal;float colorvalue=((albedo.x*0.2126)+(albedo.y*0.7152))+(albedo.z*0.0722);vec3 c=vec3(0.03,0.03,0.03);float directional=clamp(dot(n,vec3(lightDir)),0.0,1.0);directional=mix(1.0-u_lightintensity,max((1.0-colorvalue)+u_lightintensity,1.0),directional);vec3 c3=c+clamp((albedo*directional)*lightColor,mix(vec3(0.0),vec3(0.3),vec3(1.0)-lightColor),vec3(1.0));return c3;
#endif
}vec4 getBaseColor() {vec4 albedo=u_baseColorFactor;
#ifdef HAS_ATTRIBUTE_a_color_3f
albedo*=vec4(color_3f,1.0);
#endif
#ifdef HAS_ATTRIBUTE_a_pbr
#else
#ifdef HAS_ATTRIBUTE_a_color_4f
albedo*=color_4f;
#endif
#endif
#if defined (HAS_TEXTURE_u_baseColorTexture) && defined (HAS_ATTRIBUTE_a_uv_2f)
vec4 texColor=texture(u_baseColorTexture,uv_2f);if(u_alphaMask) {if (texColor.w < u_alphaCutoff) {discard;}}
#ifdef UNPREMULT_TEXTURE_IN_SHADER
if(texColor.w > 0.0) {texColor.rgb/=texColor.w;}texColor.w=1.0;
#endif
if(u_baseTextureIsAlpha) {if (texColor.r < 0.5) {discard;}} else {texColor.rgb=sRGBToLinear(texColor.rgb);albedo*=texColor;}
#endif
return vec4(mix(albedo.rgb,v_color_mix.rgb,v_color_mix.a),albedo.a);}highp mat3 cotangentFrame(highp vec3 N,highp vec3 p,highp vec2 uv ) {
#ifdef HAS_TEXTURE_u_normalTexture
highp vec3 dp1=vec3(dFdx(p.x),dFdx(p.y),dFdx(p.z));highp vec3 dp2=vec3(dFdy(p.x),dFdy(p.y),dFdy(p.z));highp vec2 duv1=vec2(dFdx(uv.x),dFdx(uv.y));highp vec2 duv2=vec2(dFdy(uv.x),dFdy(uv.y));highp vec3 dp2perp=cross( dp2,N );highp vec3 dp1perp=cross( N,dp1 );highp vec3 T=dp2perp*duv1.x+dp1perp*duv2.x;highp vec3 B=dp2perp*duv1.y+dp1perp*duv2.y;highp float lengthT=dot(T,T);highp float lengthB=dot(B,B);highp float maxLength=max(lengthT,lengthB);highp float invmax=inversesqrt( maxLength );highp mat3 res=mat3( T*invmax,B*invmax,N );return res;
#else
return mat3(1.0);
#endif
}highp vec3 getNormal(){highp vec3 n;
#ifdef HAS_ATTRIBUTE_a_normal_3f
n=normalize(normal_3f);
#else
highp vec3 fdx=vec3(dFdx(v_position_height.x),dFdx(v_position_height.y),dFdx(v_position_height.z));highp vec3 fdy=vec3(dFdy(v_position_height.x),dFdy(v_position_height.y),dFdy(v_position_height.z));n=normalize(cross(fdx,fdy))*-1.0;
#endif
#if defined(HAS_TEXTURE_u_normalTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)
vec3 nMap=texture( u_normalTexture,uv_2f).xyz;nMap=normalize(2.0*nMap-vec3(1.0));highp vec3 v=normalize(-v_position_height.xyz);highp mat3 TBN=cotangentFrame(n,v,uv_2f);n=normalize(TBN*nMap);
#endif
return n;}struct Material {float perceptualRoughness;float alphaRoughness;float metallic;vec3 f90;vec4 baseColor;vec3 diffuseColor;vec3 specularColor;highp vec3 normal;};Material getPBRMaterial() {Material mat;mat.baseColor=getBaseColor();mat.perceptualRoughness=u_roughnessFactor;mat.metallic=u_metallicFactor;
#ifdef HAS_ATTRIBUTE_a_pbr
mat.perceptualRoughness=v_roughness_metallic_emissive_alpha.x;mat.metallic=v_roughness_metallic_emissive_alpha.y;mat.baseColor.w*=v_roughness_metallic_emissive_alpha.w;
#endif
#if defined(HAS_TEXTURE_u_metallicRoughnessTexture) && defined(HAS_ATTRIBUTE_a_uv_2f) 
vec4 mrSample=texture(u_metallicRoughnessTexture,uv_2f);mat.perceptualRoughness*=mrSample.g;mat.metallic*=mrSample.b;
#endif
const float c_minRoughness=0.04;mat.perceptualRoughness=clamp(mat.perceptualRoughness,c_minRoughness,1.0);mat.metallic=saturate(mat.metallic);mat.alphaRoughness=mat.perceptualRoughness*mat.perceptualRoughness;const vec3 f0=vec3(0.04);mat.diffuseColor=mat.baseColor.rgb*(vec3(1.0)-f0);mat.diffuseColor*=1.0-mat.metallic;mat.specularColor=mix(f0,mat.baseColor.rgb,mat.metallic);highp float reflectance=max(max(mat.specularColor.r,mat.specularColor.g),mat.specularColor.b);highp float reflectance90=saturate(reflectance*25.0);mat.f90=vec3(reflectance90);mat.normal=getNormal();return mat;}float V_GGX(float NdotL,float NdotV,float roughness)
{float a2=roughness*roughness;float GGXV=NdotL*sqrt(NdotV*NdotV*(1.0-a2)+a2);float GGXL=NdotV*sqrt(NdotL*NdotL*(1.0-a2)+a2);return 0.5/(GGXV+GGXL);}float V_GGXFast(float NdotL,float NdotV,float roughness) {float a=roughness;float GGXV=NdotL*(NdotV*(1.0-a)+a);float GGXL=NdotV*(NdotL*(1.0-a)+a);return 0.5/(GGXV+GGXL);}vec3 F_Schlick(vec3 specularColor,vec3 f90,float VdotH)
{return specularColor+(f90-specularColor)*pow(clamp(1.0-VdotH,0.0,1.0),5.0);}vec3 F_SchlickFast(vec3 specularColor,float VdotH)
{float x=1.0-VdotH;float x4=x*x*x*x;return specularColor+(1.0-specularColor)*x4*x;}float D_GGX(highp float NdotH,float alphaRoughness)
{highp float a4=alphaRoughness*alphaRoughness;highp float f=(NdotH*a4-NdotH)*NdotH+1.0;return a4/(PI*f*f);}vec3 diffuseBurley(Material mat,float LdotH,float NdotL,float NdotV)
{float f90=2.0*LdotH*LdotH*mat.alphaRoughness-0.5;return (mat.diffuseColor/PI)*(1.0+f90*pow((1.0-NdotL),5.0))*(1.0+f90*pow((1.0-NdotV),5.0));}vec3 diffuseLambertian(Material mat)
{
#ifdef LIGHTING_3D_MODE
return mat.diffuseColor;
#else
return mat.diffuseColor/PI;
#endif
}vec3 EnvBRDFApprox(vec3 specularColor,float roughness,highp float NdotV)
{vec4 c0=vec4(-1,-0.0275,-0.572,0.022);vec4 c1=vec4(1,0.0425,1.04,-0.04);highp vec4 r=roughness*c0+c1;highp float a004=min(r.x*r.x,exp2(-9.28*NdotV))*r.x+r.y;vec2 AB=vec2(-1.04,1.04)*a004+r.zw;return specularColor*AB.x+AB.y;}vec3 computeIndirectLightContribution(Material mat,float NdotV,vec3 normal)
{vec3 env_light=vec3(0.65,0.65,0.65);
#ifdef LIGHTING_3D_MODE
float ambient_factor=calculate_ambient_directional_factor(normal);env_light=u_lighting_ambient_color*ambient_factor;
#endif
vec3 envBRDF=EnvBRDFApprox(mat.specularColor,mat.perceptualRoughness,NdotV);vec3 indirectSpecular= envBRDF*env_light;vec3 indirectDiffuse=mat.diffuseColor*env_light;return indirectSpecular+indirectDiffuse;}vec3 computeLightContribution(Material mat,vec3 lightPosition,vec3 lightColor)
{highp vec3 n=mat.normal;highp vec3 v=normalize(-v_position_height.xyz);highp vec3 l=normalize(lightPosition);highp vec3 h=normalize(v+l);float NdotV=clamp(abs(dot(n,v)),0.001,1.0);float NdotL=saturate(dot(n,l));highp float NdotH=saturate(dot(n,h));float VdotH=saturate(dot(v,h));vec3 f=F_SchlickFast(mat.specularColor,VdotH);float g=V_GGXFast(NdotL,NdotV,mat.alphaRoughness);float d=D_GGX(NdotH,mat.alphaRoughness);vec3 diffuseTerm=(1.0-f)*diffuseLambertian(mat);vec3 specularTerm=f*g*d;vec3 transformed_normal=vec3(-n.xy,n.z);float lighting_factor;
#ifdef RENDER_SHADOWS
lighting_factor=shadowed_light_factor_normal(transformed_normal,v_pos_light_view_0,v_pos_light_view_1,v_depth_shadows);
#else
lighting_factor=NdotL;
#endif
vec3 directLightColor=(specularTerm+diffuseTerm)*lighting_factor*lightColor;vec3 indirectLightColor=computeIndirectLightContribution(mat,NdotV,transformed_normal);vec3 color=(saturate(directLightColor)+indirectLightColor);float intensityFactor=1.0;
#if !defined(LIGHTING_3D_MODE)
const vec3 luminosityFactor=vec3(0.2126,0.7152,0.0722);float luminance=dot(diffuseTerm,luminosityFactor);intensityFactor=mix((1.0-u_lightintensity),max((1.0-luminance+u_lightintensity),1.0),NdotL);
#endif
color*=intensityFactor;return color;}void main() {
#ifdef TERRAIN_FRAGMENT_OCCLUSION
if (isOccluded()) {discard;}
#endif
vec3 lightDir=u_lightpos;vec3 lightColor=u_lightcolor;
#ifdef LIGHTING_3D_MODE
lightDir=u_lighting_directional_dir;lightDir.xy=-lightDir.xy;lightColor=u_lighting_directional_color;
#endif
vec4 finalColor;
#ifdef DIFFUSE_SHADED
vec3 N=getNormal();vec3 baseColor=getBaseColor().rgb;vec3 diffuse=getDiffuseShadedColor(baseColor,N,lightDir,lightColor);
#ifdef HAS_TEXTURE_u_occlusionTexture
float ao=(texture(u_occlusionTexture,uv_2f).r-1.0)*u_aoIntensity+1.0;diffuse*=ao;
#endif
finalColor=vec4(mix(diffuse,baseColor,u_emissive_strength),1.0)*u_opacity;
#else
Material mat=getPBRMaterial();vec3 color=computeLightContribution(mat,lightDir,lightColor);float ao=1.0;
#if defined (HAS_TEXTURE_u_occlusionTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)
#ifdef OCCLUSION_TEXTURE_TRANSFORM
vec2 uv=uv_2f.xy*u_occlusionTextureTransform.zw+u_occlusionTextureTransform.xy;
#else
vec2 uv=uv_2f;
#endif
ao=(texture(u_occlusionTexture,uv).x-1.0)*u_aoIntensity+1.0;color*=ao;
#endif
vec4 emissive=u_emissiveFactor;
#if defined(HAS_TEXTURE_u_emissionTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)
emissive.rgb*=sRGBToLinear(texture(u_emissionTexture,uv_2f).rgb);
#endif
color+=emissive.rgb;float opacity=mat.baseColor.w*u_opacity;
#ifdef HAS_ATTRIBUTE_a_pbr
float resEmission=v_roughness_metallic_emissive_alpha.z;resEmission*=v_height_based_emission_params.z+v_height_based_emission_params.w*pow(clamp(v_height_based_emission_params.x,0.0,1.0),v_height_based_emission_params.y);color=mix(color,v_color_mix.rgb,min(1.0,resEmission));
#ifdef HAS_ATTRIBUTE_a_color_4f
float distance=length(vec2(1.3*max(0.0,abs(color_4f.x)-color_4f.z),color_4f.y));distance+= mix(0.5,0.0,clamp(resEmission-1.0,0.0,1.0));opacity*=v_roughness_metallic_emissive_alpha.w*saturate(1.0-distance*distance);
#endif
#endif
vec3 unlitColor=mat.baseColor.rgb*ao+emissive.rgb;color=mix(color,unlitColor,u_emissive_strength);color=linearTosRGB(color);color*=opacity;finalColor=vec4(color,opacity);
#endif
#ifdef FOG
finalColor=fog_dither(fog_apply_premultiplied(finalColor,v_fog_pos,v_position_height.w));
#endif
#ifdef RENDER_CUTOFF
finalColor*=v_cutoff_opacity;
#endif
#ifdef INDICATOR_CUTOUT
finalColor=applyCutout(finalColor);
#endif
glFragColor=finalColor;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
in vec3 a_pos_3f;
#pragma mapbox: define-attribute highp vec3 normal_3f
#pragma mapbox: define-attribute highp vec2 uv_2f
#pragma mapbox: define-attribute highp vec3 color_3f
#pragma mapbox: define-attribute highp vec4 color_4f
#pragma mapbox: define-attribute-vertex-shader-only highp vec4 pbr
#pragma mapbox: define-attribute-vertex-shader-only highp vec3 heightBasedEmissiveStrength
uniform mat4 u_matrix;uniform mat4 u_lighting_matrix;uniform vec3 u_camera_pos;uniform vec4 u_color_mix;
#ifdef INSTANCED_ARRAYS
in vec4 a_normal_matrix0;in vec4 a_normal_matrix1;in vec4 a_normal_matrix2;in vec4 a_normal_matrix3;
#else
uniform highp mat4 u_normal_matrix;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out vec4 v_pos_light_view_0;out vec4 v_pos_light_view_1;out float v_depth_shadows;
#endif
out vec4 v_position_height;out lowp vec4 v_color_mix;
#ifdef TERRAIN_FRAGMENT_OCCLUSION
out highp float v_depth;
#endif
#ifdef HAS_ATTRIBUTE_a_pbr
out lowp vec4 v_roughness_metallic_emissive_alpha;out mediump vec4 v_height_based_emission_params;
#endif
vec3 sRGBToLinear(vec3 srgbIn) {return pow(srgbIn,vec3(2.2));}void main() {
#pragma mapbox: initialize-attribute highp vec3 normal_3f
#pragma mapbox: initialize-attribute highp vec2 uv_2f
#pragma mapbox: initialize-attribute highp vec3 color_3f
#pragma mapbox: initialize-attribute highp vec4 color_4f
#pragma mapbox: initialize-attribute-custom highp vec4 pbr
#pragma mapbox: initialize-attribute-custom highp vec3 heightBasedEmissiveStrength
highp mat4 normal_matrix;
#ifdef INSTANCED_ARRAYS
normal_matrix=mat4(a_normal_matrix0,a_normal_matrix1,a_normal_matrix2,a_normal_matrix3);
#else
normal_matrix=u_normal_matrix;
#endif
vec3 local_pos;mat3 rs;
#ifdef MODEL_POSITION_ON_GPU
vec3 pos_color=normal_matrix[0].xyz;vec4 translate=normal_matrix[1];vec3 pos_a=floor(pos_color);vec3 rgb=1.05*(pos_color-pos_a);float color_mix=pos_a.z/100.0;v_color_mix=vec4(sRGBToLinear(rgb),color_mix);float meter_to_tile=normal_matrix[0].w;vec4 pos=vec4(pos_a.xy,translate.z,1.0);rs[0].x=normal_matrix[1].w;rs[0].yz=normal_matrix[2].xy;rs[1].xy=normal_matrix[2].zw;rs[1].z=normal_matrix[3].x;rs[2].xyz=normal_matrix[3].yzw;vec4 pos_node=u_lighting_matrix*vec4(a_pos_3f,1.0);vec3 rotated_pos_node=rs*pos_node.xyz;vec3 pos_model_tile=(rotated_pos_node+vec3(translate.xy,0.0))*vec3(meter_to_tile,meter_to_tile,1.0);pos.xyz+=pos_model_tile;local_pos=pos.xyz;gl_Position=u_matrix*pos;pos.z*=meter_to_tile;v_position_height.xyz=pos.xyz-u_camera_pos;
#else
local_pos=a_pos_3f;gl_Position=u_matrix*vec4(a_pos_3f,1);v_position_height.xyz=vec3(u_lighting_matrix*vec4(a_pos_3f,1));v_color_mix=vec4(sRGBToLinear(u_color_mix.rgb),u_color_mix.a);
#endif
v_position_height.w=a_pos_3f.z;
#ifdef HAS_ATTRIBUTE_a_pbr
vec4 albedo_c=decode_color(pbr.xy);vec2 e_r_m=unpack_float(pbr.z);vec2 r_m= unpack_float(e_r_m.y*16.0);r_m.r=r_m.r*16.0;v_color_mix=vec4(albedo_c.rgb,1.0);v_roughness_metallic_emissive_alpha=vec4(vec3(r_m,e_r_m.x)/255.0,albedo_c.a);v_roughness_metallic_emissive_alpha.z*=2.0;float heightBasedRelativeIntepolation=a_pos_3f.z*heightBasedEmissiveStrength.x+heightBasedEmissiveStrength.y;v_height_based_emission_params.x=heightBasedRelativeIntepolation;v_height_based_emission_params.y=heightBasedEmissiveStrength.z;vec2 emissionMultiplierValues=unpack_float(pbr.w)/256.0;v_height_based_emission_params.z=emissionMultiplierValues.x;v_height_based_emission_params.w=emissionMultiplierValues.y-emissionMultiplierValues.x;
#endif
#ifdef FOG
v_fog_pos=fog_position(local_pos);
#endif
#ifdef RENDER_CUTOFF
v_cutoff_opacity=cutoff_opacity(u_cutoff_params,gl_Position.z);
#endif
#ifdef TERRAIN_FRAGMENT_OCCLUSION
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef HAS_ATTRIBUTE_a_normal_3f
#ifdef MODEL_POSITION_ON_GPU
float x_squared_scale=dot(rs[0],rs[0]);float y_squared_scale=dot(rs[1],rs[1]);float z_squared_scale=dot(rs[2],rs[2]);vec3 squared_scale=vec3(x_squared_scale,y_squared_scale,z_squared_scale);normal_3f=rs*((u_lighting_matrix*vec4(normal_3f,0.0)).xyz/squared_scale);normal_3f=normalize(normal_3f);
#else
normal_3f=vec3(normal_matrix*vec4(normal_3f,0));
#endif
#endif
#ifdef HAS_ATTRIBUTE_a_pbr
#ifdef HAS_ATTRIBUTE_a_color_4f
v_roughness_metallic_emissive_alpha.w=clamp(color_4f.a*v_roughness_metallic_emissive_alpha.w*(v_roughness_metallic_emissive_alpha.z-1.0),0.0,1.0);
#endif
#endif
#ifdef RENDER_SHADOWS
vec3 shadow_pos=local_pos;
#ifdef NORMAL_OFFSET
#ifdef HAS_ATTRIBUTE_a_normal_3f
#ifdef MODEL_POSITION_ON_GPU
vec3 offset=shadow_normal_offset(vec3(-normal_3f.xy,normal_3f.z));shadow_pos+=offset*shadow_normal_offset_multiplier0();
#else
vec3 offset=shadow_normal_offset_model(normalize(normal_3f));shadow_pos+=offset*shadow_normal_offset_multiplier0();
#endif
#endif
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shadow_pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(shadow_pos,1);v_depth_shadows=gl_Position.w;
#endif
}`),modelDepth:Zi(`in highp float v_depth;void main() {
#ifndef DEPTH_TEXTURE
glFragColor=pack_depth(v_depth);
#endif
}`,`in vec3 a_pos_3f;uniform mat4 u_matrix;out highp float v_depth;
#ifdef MODEL_POSITION_ON_GPU
#ifdef INSTANCED_ARRAYS
in vec4 a_normal_matrix0;in vec4 a_normal_matrix1;in vec4 a_normal_matrix2;in vec4 a_normal_matrix3;
#else
uniform highp mat4 u_instance;
#endif
uniform highp mat4 u_node_matrix;
#endif
void main() {
#ifdef MODEL_POSITION_ON_GPU
highp mat4 instance;
#ifdef INSTANCED_ARRAYS
instance=mat4(a_normal_matrix0,a_normal_matrix1,a_normal_matrix2,a_normal_matrix3);
#else
instance=u_instance;
#endif
vec3 pos_color=instance[0].xyz;vec4 translate=instance[1];vec3 pos_a=floor(pos_color);float meter_to_tile=instance[0].w;vec4 pos=vec4(pos_a.xy,translate.z,1.0);mat3 rs;rs[0].x=instance[1].w;rs[0].yz=instance[2].xy;rs[1].xy=instance[2].zw;rs[1].z=instance[3].x;rs[2].xyz=instance[3].yzw;vec4 pos_node=u_node_matrix*vec4(a_pos_3f,1.0);vec3 rotated_pos_node=rs*pos_node.xyz;vec3 pos_model_tile=(rotated_pos_node+vec3(translate.xy,0.0))*vec3(meter_to_tile,meter_to_tile,1.0);pos.xyz+=pos_model_tile;gl_Position=u_matrix*pos;
#else
gl_Position=u_matrix*vec4(a_pos_3f,1);
#endif
v_depth=gl_Position.z/gl_Position.w;}`),stars:Zi(`in highp vec2 v_uv;in mediump float v_intensity;float shapeCircle(in vec2 uv)
{float beginFade=0.6;float lengthFromCenter=length(v_uv);return 1.0-clamp((lengthFromCenter-beginFade)/(1.0-beginFade),0.0,1.0);}void main() {float alpha=shapeCircle(v_uv);vec3 color=vec3(1.0,1.0,1.0);alpha*=v_intensity;glFragColor=vec4(color*alpha,alpha);HANDLE_WIREFRAME_DEBUG;}`,`
in vec3 a_pos_3f;in vec2 a_uv;in float a_size_scale;in float a_fade_opacity;uniform mat4 u_matrix;uniform vec3 u_up;uniform vec3 u_right;uniform float u_intensity_multiplier;out highp vec2 v_uv;out mediump float v_intensity;void main() {v_uv=a_uv;v_intensity=a_fade_opacity*u_intensity_multiplier;vec3 pos=a_pos_3f;pos+=a_uv.x*u_right*a_size_scale;pos+=a_uv.y*u_up*a_size_scale;gl_Position=u_matrix*vec4(pos,1.0);}`)};function ud(w,d){const g=w.replace(/\s*\/\/[^\n]*\n/g,`
`).split(`
`);for(let x of g)if(x=x.trim(),x[0]==="#"&&x.includes("if")&&!x.includes("endif")){x=x.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const B=x.split(" ");for(const L of B)d.includes(L)||d.push(L)}}function Zi(w,d){const g=/#include\s+"([^"]+)"/g,x=/#pragma mapbox: ([\w\-]+) ([\w]+) ([\w]+) ([\w]+)/g;let B=d.match(/(attribute(\S*)|(^\s*|;)in) (highp |mediump |lowp )?([\w]+) ([\w]+)/gm);B&&(B=B.map(ae=>{const de=ae.split(" ");return de[de.length-1]}),B=[...new Set(B)]);const L={},D=[],$=[];if(w=w.replace(g,(ae,de)=>($.push(de),"")),(d=d.replace(g,(ae,de)=>(D.push(de),""))).includes("flat out"))return void console.error('The usage of "flat" qualifier is disallowed, see: https://bugs.webkit.org/show_bug.cgi?id=268071');let Y=[...ld];ud(w,Y),ud(d,Y);for(const ae of[...D,...$])Wl[ae]||console.error(`Undefined include: ${ae}`),ep[ae]||(ep[ae]=[],ud(Wl[ae],ep[ae])),Y=[...Y,...ep[ae]];return{fragmentSource:w=w.replace(x,(ae,de,Ae,Ce,Me)=>(L[Me]=!0,de==="define"?`
#ifndef HAS_UNIFORM_u_${Me}
in ${Ae} ${Ce} ${Me};
#else
uniform ${Ae} ${Ce} u_${Me};
#endif
`:de==="initialize"?`
#ifdef HAS_UNIFORM_u_${Me}
    ${Ae} ${Ce} ${Me} = u_${Me};
#endif
`:de==="define-attribute"?`
#ifdef HAS_ATTRIBUTE_a_${Me}
    in ${Ae} ${Ce} ${Me};
#endif
`:de==="initialize-attribute"?"":void 0)),vertexSource:d=d.replace(x,(ae,de,Ae,Ce,Me)=>{const He=Ce==="float"?"vec2":Ce,$e=Me.match(/color/)?"color":He;return de==="define-attribute-vertex-shader-only"?`
#ifdef HAS_ATTRIBUTE_a_${Me}
in ${Ae} ${Ce} a_${Me};
#endif
`:L[Me]?de==="define"?`
#ifndef HAS_UNIFORM_u_${Me}
uniform lowp float u_${Me}_t;
in ${Ae} ${He} a_${Me};
out ${Ae} ${Ce} ${Me};
#else
uniform ${Ae} ${Ce} u_${Me};
#endif
`:de==="initialize"?$e==="vec4"?`
#ifndef HAS_UNIFORM_u_${Me}
    ${Me} = a_${Me};
#else
    ${Ae} ${Ce} ${Me} = u_${Me};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Me}
    ${Me} = unpack_mix_${$e}(a_${Me}, u_${Me}_t);
#else
    ${Ae} ${Ce} ${Me} = u_${Me};
#endif
`:de==="define-attribute"?`
#ifdef HAS_ATTRIBUTE_a_${Me}
    in ${Ae} ${Ce} a_${Me};
    out ${Ae} ${Ce} ${Me};
#endif
`:de==="initialize-attribute"?`
#ifdef HAS_ATTRIBUTE_a_${Me}
    ${Me} = a_${Me};
#endif
`:void 0:de==="define"?`
#ifndef HAS_UNIFORM_u_${Me}
uniform lowp float u_${Me}_t;
in ${Ae} ${He} a_${Me};
#else
uniform ${Ae} ${Ce} u_${Me};
#endif
`:de==="define-instanced"?$e==="mat4"?`
#ifdef INSTANCED_ARRAYS
in vec4 a_${Me}0;
in vec4 a_${Me}1;
in vec4 a_${Me}2;
in vec4 a_${Me}3;
#else
uniform ${Ae} ${Ce} u_${Me};
#endif
`:`
#ifdef INSTANCED_ARRAYS
in ${Ae} ${He} a_${Me};
#else
uniform ${Ae} ${Ce} u_${Me};
#endif
`:de==="initialize-attribute-custom"?`
#ifdef HAS_ATTRIBUTE_a_${Me}
    ${Ae} ${Ce} ${Me} = a_${Me};
#endif
`:$e==="vec4"?`
#ifndef HAS_UNIFORM_u_${Me}
    ${Ae} ${Ce} ${Me} = a_${Me};
#else
    ${Ae} ${Ce} ${Me} = u_${Me};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Me}
    ${Ae} ${Ce} ${Me} = unpack_mix_${$e}(a_${Me}, u_${Me}_t);
#else
    ${Ae} ${Ce} ${Me} = u_${Me};
#endif
`}),staticAttributes:B,usedDefines:Y,vertexIncludes:D,fragmentIncludes:$}}class Qm{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(d,g,x,B,L,D,$,Y){this.context=d;let ae=this.boundPaintVertexBuffers.length!==B.length;for(let Ae=0;!ae&&Ae<B.length;Ae++)this.boundPaintVertexBuffers[Ae]!==B[Ae]&&(ae=!0);let de=this.boundDynamicVertexBuffers.length!==$.length;for(let Ae=0;!de&&Ae<$.length;Ae++)this.boundDynamicVertexBuffers[Ae]!==$[Ae]&&(de=!0);if(!this.vao||this.boundProgram!==g||this.boundLayoutVertexBuffer!==x||ae||de||this.boundIndexBuffer!==L||this.boundVertexOffset!==D)this.freshBind(g,x,B,L,D,$,Y);else{d.bindVertexArrayOES.set(this.vao);for(const Ae of $)Ae&&(Ae.bind(),Y&&Ae.instanceCount&&Ae.setVertexAttribDivisor(d.gl,g,Y));L&&L.dynamicDraw&&L.bind()}}freshBind(d,g,x,B,L,D,$){const Y=d.numAttributes,ae=this.context,de=ae.gl;this.vao&&this.destroy(),this.vao=ae.gl.createVertexArray(),ae.bindVertexArrayOES.set(this.vao),this.boundProgram=d,this.boundLayoutVertexBuffer=g,this.boundPaintVertexBuffers=x,this.boundIndexBuffer=B,this.boundVertexOffset=L,this.boundDynamicVertexBuffers=D,g.enableAttributes(de,d),g.bind(),g.setVertexAttribPointers(de,d,L);for(const Ae of x)Ae.enableAttributes(de,d),Ae.bind(),Ae.setVertexAttribPointers(de,d,L);for(const Ae of D)Ae&&(Ae.enableAttributes(de,d),Ae.bind(),Ae.setVertexAttribPointers(de,d,L),$&&Ae.instanceCount&&Ae.setVertexAttribDivisor(de,d,$));B&&B.bind(),ae.currentNumAttributes=Y}destroy(){this.vao&&(this.context.gl.deleteVertexArray(this.vao),this.vao=null)}}function b0(w,d){const g=Math.pow(2,d.canonical.z),x=d.canonical.y;return[new a.L(0,x/g).toLngLat().lat,new a.L(0,(x+1)/g).toLngLat().lat]}function yA(w,d,g,x,B,L,D){const $=w.context,Y=$.gl,ae=g.hillshadeFBO;if(!ae)return;w.prepareDrawTile();const de=w.isTileAffectedByFog(d),Ae=w.getOrCreateProgram("hillshade",{overrideFog:de});$.activeTexture.set(Y.TEXTURE0),Y.bindTexture(Y.TEXTURE_2D,ae.colorAttachment.get());const Ce=((Ke,Fe,Ze,pt)=>{const st=Ze.paint.get("hillshade-shadow-color"),At=Ze.paint.get("hillshade-highlight-color"),qe=Ze.paint.get("hillshade-accent-color"),mt=Ze.paint.get("hillshade-emissive-strength");let Ft=a.bj(Ze.paint.get("hillshade-illumination-direction"));if(Ze.paint.get("hillshade-illumination-anchor")==="viewport")Ft-=Ke.transform.angle;else if(Ke.style&&Ke.style.enable3dLights()&&Ke.style.directionalLight){const Qt=Ke.style.directionalLight.properties.get("direction"),fn=a.bQ(Qt.x,Qt.y,Qt.z);Ft=a.bj(fn[1])}const Ot=!Ke.options.moving;return{u_matrix:pt||Ke.transform.calculateProjMatrix(Fe.tileID.toUnwrapped(),Ot),u_image:0,u_latrange:b0(0,Fe.tileID),u_light:[Ze.paint.get("hillshade-exaggeration"),Ft],u_shadow:st,u_highlight:At,u_emissive_strength:mt,u_accent:qe}})(w,g,x,w.terrain?d.projMatrix:null);w.uploadCommonUniforms($,Ae,d.toUnwrapped());const{tileBoundsBuffer:Me,tileBoundsIndexBuffer:He,tileBoundsSegments:$e}=w.getTileBoundsBuffers(g);Ae.draw(w,Y.TRIANGLES,B,L,D,Vr.disabled,Ce,x.id,Me,He,$e)}function Ly(w,d,g){if(!d.needsDEMTextureUpload)return;const x=w.context,B=x.gl;x.pixelStoreUnpackPremultiplyAlpha.set(!1),d.demTexture=d.demTexture||w.getTileTexture(g.stride);const L=g.getPixels();d.demTexture?d.demTexture.update(L,{premultiply:!1}):d.demTexture=new a.T(x,L,B.R32F,{premultiply:!1}),d.needsDEMTextureUpload=!1}function x1(w,d,g){const x=w.context,B=x.gl;if(!d.dem)return;const L=d.dem;if(x.activeTexture.set(B.TEXTURE1),Ly(w,d,L),!d.demTexture)return;d.demTexture.bind(B.NEAREST,B.CLAMP_TO_EDGE);const D=L.dim;x.activeTexture.set(B.TEXTURE0);let $=d.hillshadeFBO;if(!$){const Ce=new a.T(x,{width:D,height:D,data:null},B.RGBA);Ce.bind(B.LINEAR,B.CLAMP_TO_EDGE),$=d.hillshadeFBO=x.createFramebuffer(D,D,!0,"renderbuffer"),$.colorAttachment.set(Ce.texture)}x.bindFramebuffer.set($.framebuffer),x.viewport.set([0,0,D,D]);const{tileBoundsBuffer:Y,tileBoundsIndexBuffer:ae,tileBoundsSegments:de}=w.getMercatorTileBoundsBuffers(),Ae=[];w.linearFloatFilteringSupported()&&Ae.push("TERRAIN_DEM_FLOAT_FORMAT"),w.getOrCreateProgram("hillshadePrepare",{defines:Ae}).draw(w,B.TRIANGLES,rr.disabled,si.disabled,Mi.unblended,Vr.disabled,((Ce,Me)=>{const He=Me.stride,$e=a.a6.create();return a.a6.ortho($e,0,a.V,-a.V,0,0,1),a.a6.translate($e,$e,[0,-a.V,0]),{u_matrix:$e,u_image:1,u_dimension:[He,He],u_zoom:Ce.overscaledZ}})(d.tileID,L),g.id,Y,ae,de),d.needsHillshadePrepare=!1}const C1=w=>({u_matrix:new a.bK(w),u_image0:new a.bO(w),u_skirt_height:new a.bN(w),u_ground_shadow_factor:new a.bM(w)}),w0=(w,d,g)=>({u_matrix:w,u_image0:0,u_skirt_height:d,u_ground_shadow_factor:g}),Py=(w,d,g,x,B,L,D,$,Y,ae,de,Ae,Ce,Me,He,$e)=>({u_proj_matrix:Float32Array.from(w),u_globe_matrix:d,u_normalize_matrix:Float32Array.from(x),u_merc_matrix:g,u_zoom_transition:B,u_merc_center:L,u_image0:0,u_frustum_tl:D,u_frustum_tr:$,u_frustum_br:Y,u_frustum_bl:ae,u_globe_pos:de,u_globe_radius:Ae,u_viewport:Ce,u_grid_matrix:$e?Float32Array.from($e):new Float32Array(9),u_skirt_height:Me,u_far_z_cutoff:He});function jm(w,d){return w!=null&&d!=null&&!(!w.hasData()||!d.hasData())&&w.demTexture!=null&&d.demTexture!=null&&w.tileID.key!==d.tileID.key}const bA=new class{constructor(){this.operations={}}newMorphing(w,d,g,x,B){if(w in this.operations){const L=this.operations[w];L.to.tileID.key!==g.tileID.key&&(L.queued=g)}else this.operations[w]={startTime:x,phase:0,duration:B,from:d,to:g,queued:null}}getMorphValuesForProxy(w){if(!(w in this.operations))return null;const d=this.operations[w];return{from:d.from,to:d.to,phase:d.phase}}update(w){for(const d in this.operations){const g=this.operations[d];for(g.phase=(w-g.startTime)/g.duration;g.phase>=1||!this._validOp(g);)if(!this._nextOp(g,w)){delete this.operations[d];break}}}_nextOp(w,d){return!!w.queued&&(w.from=w.to,w.to=w.queued,w.queued=null,w.phase=0,w.startTime=d,!0)}_validOp(w){return w.from.hasData()&&w.to.hasData()}},E1={0:null,1:"TERRAIN_VERTEX_MORPHING"};function Gm(w,d,g){if(d===0)return 0;const x=d<1&&g===514?.25/d:1;return 6*Math.pow(1.5,22-w)*Math.max(d,1)*x}function Yd(w,d){const g=1<<w.z;return!d&&(w.x===0||w.x===g-1)||w.y===0||w.y===g-1}const np=w=>({u_matrix:w});function S1(w,d,g,x,B){if(B>0){const L=a.f.now(),D=(L-w.timeAdded)/B,$=d?(L-d.timeAdded)/B:-1,Y=g.getSource(),ae=x.coveringZoomLevel({tileSize:Y.tileSize,roundZoom:Y.roundZoom}),de=!d||Math.abs(d.tileID.overscaledZ-ae)>Math.abs(w.tileID.overscaledZ-ae),Ae=de&&w.refreshedUponExpiration?1:a.aa(de?D:1-$,0,1);return w.refreshedUponExpiration&&D>=1&&(w.refreshedUponExpiration=!1),d?{opacity:1,mix:1-Ae}:{opacity:Ae,mix:0}}return{opacity:1,mix:0}}class X2 extends Bu{constructor(d){const g={type:"raster-dem",maxzoom:d.transform.maxZoom},x=new a.bW(a.bX(),null),B=Ks("mock-dem",g,x,d.style);super("mock-dem",B,!1),B.setEventedParent(this),this._sourceLoaded=!0}_loadTile(d,g){d.state="loaded",g(null)}}class Fy extends Bu{constructor(d){const g=Ks("proxy",{type:"geojson",maxzoom:d.transform.maxZoom},new a.bW(a.bX(),null),d.style);super("proxy",g,!1),g.setEventedParent(this),this.map=this.getSource().map=d,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(d,g,x){if(d.freezeTileCoverage)return;this.transform=d;const B=d.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((L,D)=>{if(L[D.key]="",!this._tiles[D.key]){const $=new Su(D,this._source.tileSize*D.overscaleFactor(),d.tileZoom);$.state="loaded",this._tiles[D.key]=$}return L},{});for(const L in this._tiles)L in B||(this.freeFBO(L),this._tiles[L].unloadVectorData(),delete this._tiles[L])}freeFBO(d){const g=this.proxyCachedFBO[d];if(g!==void 0){const x=Object.values(g);this.renderCachePool.push(...x),delete this.proxyCachedFBO[d]}}deallocRenderCache(){this.renderCache.forEach(d=>d.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class ky extends a.am{constructor(d,g,x){super(d.overscaledZ,d.wrap,d.canonical.z,d.canonical.x,d.canonical.y),this.proxyTileKey=g,this.projMatrix=x}}class Z2 extends a.ck{constructor(d,g){super(),this._debugParams={sortTilesHiZFirst:!0,disableRenderCache:!1},d.tp.registerParameter(this._debugParams,["Terrain"],"sortTilesHiZFirst",{},()=>{this._style.map.triggerRepaint()}),d.tp.registerParameter(this._debugParams,["Terrain"],"disableRenderCache",{},()=>{this._style.map.triggerRepaint()}),d.tp.registerButton(["Terrain"],"Invalidate Render Cache",()=>{this.invalidateRenderCache=!0,this._style.map.triggerRepaint()}),this.painter=d,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[x,B,L]=function(Y){const ae=new a.aN,de=new a.aw,Ae=131;ae.reserve(17161),de.reserve(33800);const Ce=a.V/128,Me=a.V+Ce/2,He=Me+Ce;for(let Ke=-Ce;Ke<He;Ke+=Ce)for(let Fe=-Ce;Fe<He;Fe+=Ce){const Ze=Fe<0||Fe>Me||Ke<0||Ke>Me?24575:0,pt=a.aa(Math.round(Fe),0,a.V),st=a.aa(Math.round(Ke),0,a.V);ae.emplaceBack(pt+Ze,st)}const $e=(Ke,Fe)=>{const Ze=Fe*Ae+Ke;de.emplaceBack(Ze+1,Ze,Ze+Ae),de.emplaceBack(Ze+Ae,Ze+Ae+1,Ze+1)};for(let Ke=1;Ke<129;Ke++)for(let Fe=1;Fe<129;Fe++)$e(Fe,Ke);return[0,129].forEach(Ke=>{for(let Fe=0;Fe<130;Fe++)$e(Fe,Ke),$e(Ke,Fe)}),[ae,de,32768]}(),D=d.context;this.gridBuffer=D.createVertexBuffer(x,a.aP.members),this.gridIndexBuffer=D.createIndexBuffer(B),this.gridSegments=a.aB.simpleSegment(0,0,x.length,B.length),this.gridNoSkirtSegments=a.aB.simpleSegment(0,0,x.length,L),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new Fy(g.map),this.orthoMatrix=a.a6.create(),a.a6.ortho(this.orthoMatrix,this.painter.transform.projection.name==="globe"?.015:0,a.V,0,a.V,0,1);const $=D.gl;this._overlapStencilMode=new si({func:$.GEQUAL,mask:255},0,255,$.KEEP,$.KEEP,$.REPLACE),this._previousZoom=d.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=g,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new X2(g.map),this._pendingGroundEffectLayers=[]}set style(d){d.on("data",this._onStyleDataEvent.bind(this)),this._style=d,this._style.map.on("moveend",()=>{this._clearLineLayersFromRenderCache()})}update(d,g,x){if(d&&d.terrain){this._style!==d&&(this.style=d,this._evaluationZoom=void 0);const B=d.terrain.properties,L=d.terrain.drapeRenderMode===0,D=d.terrain.isZoomDependent();this._previousUpdateTimestamp=this.enabled?this._updateTimestamp:void 0,this._updateTimestamp=a.f.now();const $=d.terrain&&d.terrain.scope,Y=B.get("source"),ae=L?this._mockSourceCache:d.getSourceCache(Y,$);if(!ae)return void a.w(`Couldn't find terrain source "${Y}".`);if(this.sourceCache=ae,this._exaggeration=D?this.calculateExaggeration(g):B.get("exaggeration"),!g.projection.requiresDraping&&D&&this._exaggeration===0)return void this._disable();this.enabled=!0;const de=()=>{this.sourceCache.used&&a.w(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const Ae=this.getScaledDemTileSize();this.sourceCache.update(g,Ae,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,de(),this._initializing=!0),de(),g.updateElevation(!0,x),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(g),this._emptyDEMTextureDirty=!0,this._previousZoom=g.zoom}else this._disable()}calculateExaggeration(d){const g=this._previousCameraAltitude,x=d.getFreeCameraOptions().position.z/d.pixelsPerMeter*d.worldSize;this._previousCameraAltitude=x;const B=g!=null?x-g:Number.MAX_VALUE;if(Math.abs(B)<2)return this._exaggeration;const L=d.zoom,D=this._style.terrain;if(!this._previousUpdateTimestamp)return D.getExaggeration(L);let $=L-this._previousZoom;const Y=this._previousUpdateTimestamp;let ae=L;this._evaluationZoom!=null&&(ae=this._evaluationZoom,Math.abs(L-ae)>.5&&($=.5*(L-ae+$)),$*B<0&&(ae+=$)),this._evaluationZoom=ae;const de=D.getExaggeration(ae),Ae=de===D.getExaggeration(Math.max(0,ae-.1));if(Ae&&Math.abs(de-this._exaggeration)<.01)return de;let Ce=Math.min(.1,.00375*(this._updateTimestamp-Y));return(Ae||de<.1||Math.abs($)<1e-4)&&(Ce=Math.min(.2,4*Ce)),a.U(this._exaggeration,de,Ce)}resetTileLookupCache(d){this._findCoveringTileCache[d]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_onStyleDataEvent(d){d.coord&&d.dataType==="source"?this._clearRenderCacheForTile(d.sourceCacheId,d.coord):d.dataType==="style"&&(this.invalidateRenderCache=!0,this._evaluationZoom=void 0,this._previousUpdateTimestamp=void 0,this._previousCameraAltitude=void 0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this._evaluationZoom=void 0,this._previousUpdateTimestamp=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const d in this._style._mergedSourceCaches)this._style._mergedSourceCaches[d].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(d=>d.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),this.framebufferCopyTexture&&this.framebufferCopyTexture.destroy()}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const d=2*this.proxySourceCache.getSource().tileSize;return[d,d]}set useVertexMorphing(d){this._useVertexMorphing=d}updateTileBinding(d){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const g=this.proxySourceCache,x=this.painter.transform;this._initializing&&(this._initializing=x._centerAltitude===0&&this.getAtPointOrZero(a.L.fromLngLat(x.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const B=this.proxyCoords=g.getIds().map(Y=>{const ae=g.getTileByID(Y).tileID;return ae.projMatrix=x.calculateProjMatrix(ae.toUnwrapped()),ae});(function(Y,ae){const de=ae.transform.pointCoordinate(ae.transform.getCameraPoint()),Ae=new a.P(de.x,de.y);Y.sort((Ce,Me)=>{if(Me.overscaledZ-Ce.overscaledZ)return Me.overscaledZ-Ce.overscaledZ;const He=new a.P(Ce.canonical.x+(1<<Ce.canonical.z)*Ce.wrap,Ce.canonical.y),$e=new a.P(Me.canonical.x+(1<<Me.canonical.z)*Me.wrap,Me.canonical.y),Ke=Ae.mult(1<<Ce.canonical.z);return Ke.x-=.5,Ke.y-=.5,Ke.distSqr(He)-Ke.distSqr($e)})})(B,this.painter);const L=this.proxyToSource||{};this.proxyToSource={},B.forEach(Y=>{this.proxyToSource[Y.key]={}}),this.terrainTileForTile={};const D=this._style._mergedSourceCaches;for(const Y in D){const ae=D[Y];if(!ae.used||(ae!==this.sourceCache&&this.resetTileLookupCache(ae.id),this._setupProxiedCoordsForOrtho(ae,d[Y],L),ae.usedForTerrain))continue;const de=d[Y];ae.getSource().reparseOverscaled&&this._assignTerrainTiles(de)}this.proxiedCoords[g.id]=B.map(Y=>new ky(Y,Y.key,this.orthoMatrix)),this._assignTerrainTiles(B),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(L),this.renderingToTexture=!1;const $={};this._visibleDemTiles=[];for(const Y of this.proxyCoords){const ae=this.terrainTileForTile[Y.key];if(!ae)continue;const de=ae.tileID.key;de in $||(this._visibleDemTiles.push(ae),$[de]=de)}}_assignTerrainTiles(d){this._initializing||d.forEach(g=>{if(this.terrainTileForTile[g.key])return;const x=this._findTileCoveringTileID(g,this.sourceCache);x&&(this.terrainTileForTile[g.key]=x)})}_prepareDEMTextures(){const d=this.painter.context,g=d.gl;for(const x in this.terrainTileForTile){const B=this.terrainTileForTile[x],L=B.dem;!L||B.demTexture&&!B.needsDEMTextureUpload||(d.activeTexture.set(g.TEXTURE1),Ly(this.painter,B,L))}}_prepareDemTileUniforms(d,g,x,B){if(!g||g.demTexture==null)return!1;const L=d.tileID.canonical,D=Math.pow(2,g.tileID.canonical.z-L.z),$=B||"";return x[`u_dem_tl${$}`]=[L.x*D%1,L.y*D%1],x[`u_dem_scale${$}`]=D,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const d=this.painter.context,g=d.gl;if(!this._emptyDepthBufferTexture){const x=new a.h({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new a.T(d,x,g.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let d=0;const g=this._visibleDemTiles.reduce((x,B)=>{if(!B.dem)return x;const L=B.dem.tree.minimums[0];return L>0&&d++,x+L},0);return d?g/d:0}_updateEmptyDEMTexture(){const d=this.painter.context,g=d.gl;d.activeTexture.set(g.TEXTURE2);const x=this._getLoadedAreaMinimum(),[B,L]=(()=>{const $=new a.cm({width:1,height:1},new Float32Array([x]));return[g.R32F,$]})();this._emptyDEMTextureDirty=!1;let D=this._emptyDEMTexture;return D?D.update(L,{premultiply:!1}):D=this._emptyDEMTexture=new a.T(d,L,B,{premultiply:!1}),D}setupElevationDraw(d,g,x){const B=this.painter.context,L=B.gl,D={u_dem:2,u_dem_prev:4,u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0};D.u_exaggeration=this.exaggeration();let $=null,Y=null,ae=1;if(x&&x.morphing&&this._useVertexMorphing){const Ce=x.morphing.srcDemTile,Me=x.morphing.dstDemTile;ae=x.morphing.phase,Ce&&Me&&(this._prepareDemTileUniforms(d,Ce,D,"_prev")&&(Y=Ce),this._prepareDemTileUniforms(d,Me,D)&&($=Me))}const de=Ce=>Ce&&Ce.demTexture&&this.painter.linearFloatFilteringSupported()?L.LINEAR:L.NEAREST,Ae=Ce=>{D.u_dem_size=Ce.size[0]===1?1:Ce.size[0]-2};if(Y&&$)B.activeTexture.set(L.TEXTURE2),$.demTexture.bind(de($),L.CLAMP_TO_EDGE),B.activeTexture.set(L.TEXTURE4),Y.demTexture.bind(de(Y),L.CLAMP_TO_EDGE),$.demTexture&&Ae($.demTexture),D.u_dem_lerp=ae;else{$=this.terrainTileForTile[d.tileID.key],B.activeTexture.set(L.TEXTURE2);const Ce=this._prepareDemTileUniforms(d,$,D)?$.demTexture:this.emptyDEMTexture;Ce.bind(de($),L.CLAMP_TO_EDGE),Ae(Ce)}if(B.activeTexture.set(L.TEXTURE3),x&&x.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(L.NEAREST,L.CLAMP_TO_EDGE),this._depthFBO&&(D.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(L.NEAREST,L.CLAMP_TO_EDGE),D.u_depth_size_inv=[1,1]),x&&x.useMeterToDem&&$){const Ce=(1<<$.tileID.canonical.z)*a.bl(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;D.u_meter_to_dem=Ce}if(x&&x.labelPlaneMatrixInv&&(D.u_label_plane_matrix_inv=x.labelPlaneMatrixInv),g.setTerrainUniformValues(B,D),this.painter.transform.projection.name==="globe"){const Ce=this.globeUniformValues(this.painter.transform,d.tileID.canonical,x&&x.useDenormalizedUpVectorScale);g.setGlobeUniformValues(B,Ce)}}globeUniformValues(d,g,x){const B=d.projection;return{u_tile_tl_up:B.upVector(g,0,0),u_tile_tr_up:B.upVector(g,a.V,0),u_tile_br_up:B.upVector(g,a.V,a.V),u_tile_bl_up:B.upVector(g,0,a.V),u_tile_up_scale:x?a.cl(1):B.upVectorScale(g,d.center.lat,d.worldSize).metersToTile}}renderToBackBuffer(d){const g=this.painter,x=this.painter.context;d.length!==0&&(x.bindFramebuffer.set(null),x.viewport.set([0,0,g.width,g.height]),g.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(B,L,D,$,Y){if(B.transform.projection.name==="globe")(function(ae,de,Ae,Ce,Me){const He=ae.context,$e=He.gl;let Ke,Fe;const Ze=ae.transform,pt=a.cd(ae,He,Ze),st=(xn,_n)=>{if(Fe===_n)return;const $n=[E1[_n],"PROJECTION_GLOBE_VIEW"];pt&&$n.push("CUSTOM_ANTIALIASING");const Yt=ae.isTileAffectedByFog(xn);Ke=ae.getOrCreateProgram("globeRaster",{defines:$n,overrideFog:Yt}),Fe=_n},At=ae.colorModeForRenderPass(),qe=new rr($e.LEQUAL,rr.ReadWrite,ae.depthRangeFor3D);bA.update(Me);const mt=a.ce(Ze),Ft=[a.a5(Ze.center.lng),a.ae(Ze.center.lat)],Ot=ae.globeSharedBuffers,Qt=[Ze.width*a.f.devicePixelRatio,Ze.height*a.f.devicePixelRatio],fn=Float32Array.from(Ze.globeMatrix),Wt={useDenormalizedUpVectorScale:!0};{const xn=ae.transform,_n=Gm(xn.zoom,de.exaggeration(),de.sourceCache._source.tileSize);Fe=-1;const $n=$e.TRIANGLES;for(const Yt of Ce){const mn=Ae.getTile(Yt),$t=si.disabled,on=de.prevTerrainTileForTile[Yt.key],Kn=de.terrainTileForTile[Yt.key];jm(on,Kn)&&bA.newMorphing(Yt.key,on,Kn,Me,250),He.activeTexture.set($e.TEXTURE0),mn.texture&&mn.texture.bind($e.LINEAR,$e.CLAMP_TO_EDGE);const ir=bA.getMorphValuesForProxy(Yt.key),nr=ir?1:0;ir&&a.j(Wt,{morphing:{srcDemTile:ir.from,dstDemTile:ir.to,phase:a.cc(ir.phase)}});const pr=a.cf(Yt.canonical),Ir=a.cg(pr.getCenter().lat),jr=a.ch(Yt.canonical,pr,Ir,xn.worldSize/xn._pixelsPerMercatorPixel),Nr=a.aT(a.ci(Yt.canonical)),zr=Py(xn.expandedFarZProjMatrix,fn,mt,Nr,a.S(xn.zoom),Ft,xn.frustumCorners.TL,xn.frustumCorners.TR,xn.frustumCorners.BR,xn.frustumCorners.BL,xn.globeCenterInViewSpace,xn.globeRadius,Qt,_n,xn._farZ,jr);if(st(Yt,nr),Ke&&(de.setupElevationDraw(mn,Ke,Wt),ae.uploadCommonUniforms(He,Ke,Yt.toUnwrapped()),Ot)){const[Fi,hi,Ci]=Ot.getGridBuffers(Ir,_n!==0);Ke.draw(ae,$n,qe,$t,At,Vr.backCCW,zr,"globe_raster",Fi,hi,Ci)}}}if(Ot&&(ae.renderDefaultNorthPole||ae.renderDefaultSouthPole)){const xn=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];pt&&xn.push("CUSTOM_ANTIALIASING"),Ke=ae.getOrCreateProgram("globeRaster",{defines:xn});for(const _n of Ce){const{x:$n,y:Yt,z:mn}=_n.canonical,$t=Yt===0,on=Yt===(1<<mn)-1,[Kn,ir,nr,pr]=Ot.getPoleBuffers(mn,!1);if(pr&&($t||on)){const Ir=Ae.getTile(_n);He.activeTexture.set($e.TEXTURE0),Ir.texture&&Ir.texture.bind($e.LINEAR,$e.CLAMP_TO_EDGE);let jr=a.cj(mn,$n,Ze);const Nr=a.aT(a.ci(_n.canonical)),zr=(Fi,hi)=>Fi.draw(ae,$e.TRIANGLES,qe,si.disabled,At,Vr.disabled,Py(Ze.expandedFarZProjMatrix,jr,jr,Nr,0,Ft,Ze.frustumCorners.TL,Ze.frustumCorners.TR,Ze.frustumCorners.BR,Ze.frustumCorners.BL,Ze.globeCenterInViewSpace,Ze.globeRadius,Qt,0,Ze._farZ),"globe_pole_raster",hi,nr,pr);de.setupElevationDraw(Ir,Ke,Wt),ae.uploadCommonUniforms(He,Ke,_n.toUnwrapped()),$t&&ae.renderDefaultNorthPole&&zr(Ke,Kn),on&&ae.renderDefaultSouthPole&&(jr=a.a6.scale(a.a6.create(),jr,[1,-1,1]),zr(Ke,ir))}}}})(B,L,D,$,Y);else{const ae=B.context,de=ae.gl;let Ae,Ce;const Me=B.shadowRenderer,He=el(B,B.longestCutoffRange),$e=At=>{if(Ce===At)return;const qe=[];qe.push(E1[At]),He.shouldRenderCutoff&&qe.push("RENDER_CUTOFF"),Ae=B.getOrCreateProgram("terrainRaster",{defines:qe}),Ce=At},Ke=B.colorModeForRenderPass(),Fe=new rr(de.LEQUAL,rr.ReadWrite,B.depthRangeFor3D);bA.update(Y);const Ze=B.transform,pt=Gm(Ze.zoom,L.exaggeration(),L.sourceCache._source.tileSize);let st=[0,0,0];if(Me){const At=B.style.directionalLight,qe=B.style.ambientLight;At&&qe&&(st=jl(At,qe))}{Ce=-1;const At=de.TRIANGLES,[qe,mt]=[L.gridIndexBuffer,L.gridSegments];for(const Ft of $){const Ot=D.getTile(Ft),Qt=si.disabled,fn=L.prevTerrainTileForTile[Ft.key],Wt=L.terrainTileForTile[Ft.key];jm(fn,Wt)&&bA.newMorphing(Ft.key,fn,Wt,Y,250),ae.activeTexture.set(de.TEXTURE0),Ot.texture&&Ot.texture.bind(de.LINEAR,de.CLAMP_TO_EDGE);const xn=bA.getMorphValuesForProxy(Ft.key),_n=xn?1:0;let $n;xn&&($n={morphing:{srcDemTile:xn.from,dstDemTile:xn.to,phase:a.cc(xn.phase)}});const Yt=w0(Ft.projMatrix,Yd(Ft.canonical,Ze.renderWorldCopies)?pt/10:pt,st);if($e(_n),!Ae)continue;L.setupElevationDraw(Ot,Ae,$n);const mn=Ft.toUnwrapped();Me&&Me.setupShadows(mn,Ae),B.uploadCommonUniforms(ae,Ae,mn,null,He),Ae.draw(B,At,Fe,Qt,Ke,Vr.backCCW,Yt,"terrain_raster",L.gridBuffer,qe,mt)}}}}(g,this,this.proxySourceCache,d,this._updateTimestamp),this.renderingToTexture=!0,g.gpuTimingDeferredRenderEnd(),d.splice(0,d.length))}renderBatch(d){if(this._drapedRenderBatches.length===0)return d+1;this.renderingToTexture=!0;const g=this.painter,x=this.painter.context,B=this.proxySourceCache,L=this.proxiedCoords[B.id],D=this._drapedRenderBatches.shift(),$=g.style.order,Y=[];let ae=0;for(const de of L){const Ae=B.getTileByID(de.proxyTileKey),Ce=B.proxyCachedFBO[de.key]?B.proxyCachedFBO[de.key][d]:void 0,Me=Ce!==void 0?B.renderCache[Ce]:this.pool[ae++],He=Ce!==void 0;if(Ae.texture=Me.tex,He&&!Me.dirty){Y.push(Ae.tileID);continue}let $e;x.bindFramebuffer.set(Me.fb.framebuffer),this.renderedToTile=!1,Me.dirty&&(x.clear({color:a.ax.transparent,stencil:0}),Me.dirty=!1);for(let Ke=D.start;Ke<=D.end;++Ke){const Fe=g.style._mergedLayers[$[Ke]];if(Fe.isHidden(g.transform.zoom))continue;const Ze=g.style.getLayerSourceCache(Fe),pt=Ze?this.proxyToSource[de.key][Ze.id]:[de];if(!pt)continue;const st=pt;x.viewport.set([0,0,Me.fb.width,Me.fb.height]),$e!==(Ze?Ze.id:null)&&(this._setupStencil(Me,pt,Fe,Ze),$e=Ze?Ze.id:null),g.renderLayer(g,Ze,Fe,st)}if(this._drapedRenderBatches.length===0)for(const Ke of this._pendingGroundEffectLayers){const Fe=g.style._mergedLayers[$[Ke]];if(Fe.isHidden(g.transform.zoom))continue;const Ze=g.style.getLayerSourceCache(Fe),pt=Ze?this.proxyToSource[de.key][Ze.id]:[de];if(!pt)continue;const st=pt;x.viewport.set([0,0,Me.fb.width,Me.fb.height]),$e!==(Ze?Ze.id:null)&&(this._setupStencil(Me,pt,Fe,Ze),$e=Ze?Ze.id:null),g.renderLayer(g,Ze,Fe,st)}this.renderedToTile?(Me.dirty=!0,Y.push(Ae.tileID)):He||--ae,ae===5&&(ae=0,this.renderToBackBuffer(Y))}return this.renderToBackBuffer(Y),this.renderingToTexture=!1,x.bindFramebuffer.set(null),x.viewport.set([0,0,g.width,g.height]),D.end+1}postRender(){}isLayerOrderingCorrect(d){const g=d.order.length;let x=-1,B=g;for(let L=0;L<g;++L)this._style.isLayerDraped(d._mergedLayers[d.order[L]])?x=Math.max(x,L):B=Math.min(B,L);return B>x}getMinElevationBelowMSL(){let d=0;return this._visibleDemTiles.filter(g=>g.dem).forEach(g=>{d=Math.min(d,g.dem.tree.minimums[0])}),d===0?d:(d-30)*this._exaggeration}raycast(d,g,x){if(!this._visibleDemTiles)return null;const B=this._visibleDemTiles.filter(L=>L.dem).map(L=>{const D=L.tileID,$=1<<D.overscaledZ,{x:Y,y:ae}=D.canonical,de=Y/$,Ae=(Y+1)/$,Ce=ae/$,Me=(ae+1)/$;return{minx:de,miny:Ce,maxx:Ae,maxy:Me,t:L.dem.tree.raycastRoot(de,Ce,Ae,Me,d,g,x),tile:L}});B.sort((L,D)=>(L.t!==null?L.t:Number.MAX_VALUE)-(D.t!==null?D.t:Number.MAX_VALUE));for(const L of B){if(L.t==null)return null;const D=L.tile.dem.tree.raycast(L.minx,L.miny,L.maxx,L.maxy,d,g,x);if(D!=null)return D}return null}_createFBO(){const d=this.painter.context,g=d.gl,x=this.drapeBufferSize;d.activeTexture.set(g.TEXTURE0);const B=new a.T(d,{width:x[0],height:x[1],data:null},g.RGBA);B.bind(g.LINEAR,g.CLAMP_TO_EDGE);const L=d.createFramebuffer(x[0],x[1],!0,null);return L.colorAttachment.set(B.texture),L.depthAttachment=new zl(d,L.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=d.createRenderbuffer(d.gl.DEPTH_STENCIL,x[0],x[1]),this._stencilRef=0,L.depthAttachment.set(this._sharedDepthStencil),d.clear({stencil:0})):L.depthAttachment.set(this._sharedDepthStencil),d.extTextureFilterAnisotropic&&g.texParameterf(g.TEXTURE_2D,d.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,d.extTextureFilterAnisotropicMax),{fb:L,tex:B,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._debugParams.disableRenderCache||this._style.hasLightTransitions())return!0;for(const d in this._style._mergedSourceCaches)if(this._style._mergedSourceCaches[d].hasTransition())return!0;return this._style.order.some(d=>{const g=this._style._mergedLayers[d],x=g.isHidden(this.painter.transform.zoom);return g.type==="custom"?!x&&g.shouldRedrape():!x&&g.hasTransition()})}_clearLineLayersFromRenderCache(){let d=!1;for(const x of this._style.getSources())if(x instanceof an){d=!0;break}if(!d)return;const g={};for(let x=0;x<this._style.order.length;++x){const B=this._style._mergedLayers[this._style.order[x]],L=this._style.getLayerSourceCache(B);if(L&&!g[L.id]&&!B.isHidden(this.painter.transform.zoom)&&B.type==="line"&&B.widthExpression()instanceof a.Z){g[L.id]=!0;for(const D of this.proxyCoords){const $=this.proxyToSource[D.key][L.id];if($)for(const Y of $)this._clearRenderCacheForTile(L.id,Y)}}}}_clearRasterLayersFromRenderCache(){let d=!1;for(const x in this._style._mergedSourceCaches)if(this._style._mergedSourceCaches[x]._source instanceof In){d=!0;break}if(!d)return;const g={};for(let x=0;x<this._style.order.length;++x){const B=this._style._mergedLayers[this._style.order[x]],L=this._style.getLayerSourceCache(B);if(!L||g[L.id]||B.isHidden(this.painter.transform.zoom)||B.type!=="raster")continue;const D=B.paint.get("raster-fade-duration");for(const $ of this.proxyCoords){const Y=this.proxyToSource[$.key][L.id];if(Y)for(const ae of Y){const de=S1(L.getTile(ae),L.findLoadedParent(ae,0),L,this.painter.transform,D);(de.opacity!==1||de.mix!==0)&&this._clearRenderCacheForTile(L.id,ae)}}}}_setupDrapedRenderBatches(){const d=this._style.order,g=d.length;if(g===0)return;const x=[];this._pendingGroundEffectLayers=[];let B,L=0,D=this._style._mergedLayers[d[L]];for(;!this._style.isLayerDraped(D)&&D.isHidden(this.painter.transform.zoom)&&++L<g;)D=this._style._mergedLayers[d[L]];for(;L<g;++L){const $=this._style._mergedLayers[d[L]];$.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped($)?B===void 0&&(B=L):($.type==="fill-extrusion"&&this._pendingGroundEffectLayers.push(L),B!==void 0&&(x.push({start:B,end:L-1}),B=void 0)))}if(B!==void 0&&x.push({start:B,end:L-1}),x.length!==0){const $=x[x.length-1];this._pendingGroundEffectLayers.every(Y=>Y>$.end)||a.w("fill-extrusion with flood lighting and/or ground ambient occlusion should be moved to be on top of all draped layers.")}this._drapedRenderBatches=x}_setupRenderCache(d){const g=this.proxySourceCache;if(this._shouldDisableRenderCache()||this.invalidateRenderCache){if(this.invalidateRenderCache=!1,g.renderCache.length>g.renderCachePool.length){const D=Object.values(g.proxyCachedFBO);g.proxyCachedFBO={};for(let $=0;$<D.length;++$){const Y=Object.values(D[$]);g.renderCachePool.push(...Y)}}return}this._clearRasterLayersFromRenderCache();const x=this.proxyCoords,B=this._tilesDirty;for(let D=x.length-1;D>=0;D--){const $=x[D];if(g.getTileByID($.key),g.proxyCachedFBO[$.key]!==void 0){const Y=d[$.key],ae=this.proxyToSource[$.key];let de=0;for(const Ae in ae){const Ce=ae[Ae],Me=Y[Ae];if(!Me||Me.length!==Ce.length||Ce.some((He,$e)=>He!==Me[$e]||B[Ae]&&B[Ae].hasOwnProperty(He.key))){de=-1;break}++de}for(const Ae in g.proxyCachedFBO[$.key])g.renderCache[g.proxyCachedFBO[$.key][Ae]].dirty=de<0||de!==Object.values(Y).length}}const L=[...this._drapedRenderBatches];L.sort((D,$)=>$.end-$.start-(D.end-D.start));for(const D of L)for(const $ of x){if(g.proxyCachedFBO[$.key])continue;let Y=g.renderCachePool.pop();Y===void 0&&g.renderCache.length<50&&(Y=g.renderCache.length,g.renderCache.push(this._createFBO())),Y!==void 0&&(g.proxyCachedFBO[$.key]={},g.proxyCachedFBO[$.key][D.start]=Y,g.renderCache[Y].dirty=!0)}this._tilesDirty={}}_setupStencil(d,g,x,B){if(!B||!this._sourceTilesOverlap[B.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const L=this.painter.context,D=L.gl;if(g.length<=1)return void(this._overlapStencilType=!1);let $;if(x.isTileClipped())$=g.length,this._overlapStencilMode.test={func:D.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(g[0].overscaledZ>g[g.length-1].overscaledZ))return void(this._overlapStencilType=!1);$=1,this._overlapStencilMode.test={func:D.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+$>255&&(L.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=$,this._overlapStencilMode.ref=this._stencilRef,x.isTileClipped()&&this._renderTileClippingMasks(g,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(d){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[d.key]),this._overlapStencilMode):si.disabled}_renderTileClippingMasks(d,g){const x=this.painter,B=this.painter.context,L=B.gl;x._tileClippingMaskIDs={},B.setColorMode(Mi.disabled),B.setDepthMode(rr.disabled);const D=x.getOrCreateProgram("clippingMask");for(const $ of d){const Y=x._tileClippingMaskIDs[$.key]=--g;D.draw(x,L.TRIANGLES,rr.disabled,new si({func:L.ALWAYS,mask:0},Y,255,L.KEEP,L.KEEP,L.REPLACE),Mi.disabled,Vr.disabled,np($.projMatrix),"$clipping",x.tileExtentBuffer,x.quadTriangleIndexBuffer,x.tileExtentSegments)}}pointCoordinate(d){const g=this.painter.transform;if(d.x<0||d.x>g.width||d.y<0||d.y>g.height)return null;const x=[d.x,d.y,1,1];a.a7.transformMat4(x,x,g.pixelMatrixInverse),a.a7.scale(x,x,1/x[3]),x[0]/=g.worldSize,x[1]/=g.worldSize;const B=g._camera.position,L=a.bl(1,g.center.lat),D=[B[0],B[1],B[2]/L,0],$=a.N.subtract([],x.slice(0,3),D);a.N.normalize($,$);const Y=this.raycast(D,$,this._exaggeration);return Y!==null&&Y?(a.N.scaleAndAdd(D,D,$,Y),D[3]=D[2],D[2]*=L,D):null}drawDepth(){const d=this.painter,g=d.context,x=this.proxySourceCache,B=Math.ceil(d.width),L=Math.ceil(d.height);if(!this._depthFBO||this._depthFBO.width===B&&this._depthFBO.height===L||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const D=g.gl,$=g.createFramebuffer(B,L,!0,"renderbuffer");g.activeTexture.set(D.TEXTURE0);const Y=new a.T(g,{width:B,height:L,data:null},D.RGBA);Y.bind(D.NEAREST,D.CLAMP_TO_EDGE),$.colorAttachment.set(Y.texture);const ae=g.createRenderbuffer(g.gl.DEPTH_COMPONENT16,B,L);$.depthAttachment.set(ae),this._depthFBO=$,this._depthTexture=Y}g.bindFramebuffer.set(this._depthFBO.framebuffer),g.viewport.set([0,0,B,L]),function(D,$,Y,ae){if(D.transform.projection.name==="globe")return;const de=D.context,Ae=de.gl;de.clear({depth:1});const Ce=D.getOrCreateProgram("terrainDepth"),Me=new rr(Ae.LESS,rr.ReadWrite,D.depthRangeFor3D);for(const He of ae){const $e=Y.getTile(He),Ke=w0(He.projMatrix,0,[0,0,0]);$.setupElevationDraw($e,Ce),Ce.draw(D,Ae.TRIANGLES,Me,si.disabled,Mi.unblended,Vr.backCCW,Ke,"terrain_depth",$.gridBuffer,$.gridIndexBuffer,$.gridNoSkirtSegments)}}(d,this,x,this.proxyCoords)}_setupProxiedCoordsForOrtho(d,g,x){if(d.getSource()instanceof a.ap)return this._setupProxiedCoordsForImageSource(d,g,x);this._findCoveringTileCache[d.id]=this._findCoveringTileCache[d.id]||{};const B=this.proxiedCoords[d.id]=[],L=this.proxyCoords;for(let Y=0;Y<L.length;Y++){const ae=L[Y],de=this._findTileCoveringTileID(ae,d);if(de){const Ae=this._createProxiedId(ae,de,x[ae.key]&&x[ae.key][d.id]);B.push(Ae),this.proxyToSource[ae.key][d.id]=[Ae]}}let D=!1;const $=new Set;for(let Y=0;Y<g.length;Y++){const ae=d.getTile(g[Y]);if(!ae||!ae.hasData())continue;const de=this._findTileCoveringTileID(ae.tileID,this.proxySourceCache);if(de&&de.tileID.canonical.z!==ae.tileID.canonical.z){const Ae=this.proxyToSource[de.tileID.key][d.id],Ce=this._createProxiedId(de.tileID,ae,x[de.tileID.key]&&x[de.tileID.key][d.id]);Ae?Ae.splice(Ae.length-1,0,Ce):this.proxyToSource[de.tileID.key][d.id]=[Ce];const Me=this.proxyToSource[de.tileID.key][d.id];$.has(Me)||$.add(Me),B.push(Ce),D=!0}}if(this._sourceTilesOverlap[d.id]=D,D&&this._debugParams.sortTilesHiZFirst)for(const Y of $)Y.sort((ae,de)=>de.overscaledZ-ae.overscaledZ)}_setupProxiedCoordsForImageSource(d,g,x){if(!d.getSource().loaded())return;const B=this.proxiedCoords[d.id]=[],L=this.proxyCoords,D=d.getSource(),$=D.tileID;if(!$)return;const Y=new a.P($.x,$.y)._div(1<<$.z),ae=D.coordinates.map(a.L.fromLngLat).reduce((Ae,Ce)=>(Ae.min.x=Math.min(Ae.min.x,Ce.x-Y.x),Ae.min.y=Math.min(Ae.min.y,Ce.y-Y.y),Ae.max.x=Math.max(Ae.max.x,Ce.x-Y.x),Ae.max.y=Math.max(Ae.max.y,Ce.y-Y.y),Ae),{min:new a.P(Number.MAX_VALUE,Number.MAX_VALUE),max:new a.P(-Number.MAX_VALUE,-Number.MAX_VALUE)}),de=(Ae,Ce)=>{const Me=Ae.wrap+Ae.canonical.x/(1<<Ae.canonical.z),He=Ae.canonical.y/(1<<Ae.canonical.z),$e=a.V/(1<<Ae.canonical.z),Ke=Ce.wrap+Ce.canonical.x/(1<<Ce.canonical.z),Fe=Ce.canonical.y/(1<<Ce.canonical.z);return Me+$e<Ke+ae.min.x||Me>Ke+ae.max.x||He+$e<Fe+ae.min.y||He>Fe+ae.max.y};for(let Ae=0;Ae<L.length;Ae++){const Ce=L[Ae];for(let Me=0;Me<g.length;Me++){const He=d.getTile(g[Me]);if(!He||!He.hasData()||de(Ce,He.tileID))continue;const $e=this._createProxiedId(Ce,He,x[Ce.key]&&x[Ce.key][d.id]),Ke=this.proxyToSource[Ce.key][d.id];Ke?Ke.push($e):this.proxyToSource[Ce.key][d.id]=[$e],B.push($e)}}}_createProxiedId(d,g,x){let B=this.orthoMatrix;if(x){const L=x.find(D=>D.key===g.tileID.key);if(L)return L}if(g.tileID.key!==d.key){const L=d.canonical.z-g.tileID.canonical.z;let D,$,Y;B=a.a6.create();const ae=g.tileID.wrap-d.wrap<<d.overscaledZ;L>0?(D=a.V>>L,$=D*((g.tileID.canonical.x<<L)-d.canonical.x+ae),Y=D*((g.tileID.canonical.y<<L)-d.canonical.y)):(D=a.V<<-L,$=a.V*(g.tileID.canonical.x-(d.canonical.x+ae<<-L)),Y=a.V*(g.tileID.canonical.y-(d.canonical.y<<-L))),a.a6.ortho(B,0,D,0,D,0,1),a.a6.translate(B,B,[$,Y,0])}return new ky(g.tileID,d.key,B)}_findTileCoveringTileID(d,g){let x=g.getTile(d);if(x&&x.hasData())return x;const B=this._findCoveringTileCache[g.id],L=B[d.key];if(x=L?g.getTileByID(L):null,x&&x.hasData()||L===null)return x;let D=x?x.tileID:d,$=D.overscaledZ;const Y=g.getSource().minzoom,ae=[];if(!L){const Ae=g.getSource().maxzoom;if(d.canonical.z>=Ae){const Ce=d.canonical.z-Ae;g.getSource().reparseOverscaled?($=Math.max(d.canonical.z+2,g.transform.tileZoom),D=new a.am($,d.wrap,Ae,d.canonical.x>>Ce,d.canonical.y>>Ce)):Ce!==0&&($=Ae,D=new a.am($,d.wrap,Ae,d.canonical.x>>Ce,d.canonical.y>>Ce))}D.key!==d.key&&(ae.push(D.key),x=g.getTile(D))}const de=Ae=>{ae.forEach(Ce=>{B[Ce]=Ae}),ae.length=0};for($-=1;$>=Y&&(!x||!x.hasData());$--){x&&de(x.tileID.key);const Ae=D.calculateScaledKey($);if(x=g.getTileByID(Ae),x&&x.hasData())break;const Ce=B[Ae];if(Ce===null)break;Ce===void 0?ae.push(Ae):x=g.getTileByID(Ce)}return de(x?x.tileID.key:null),x&&x.hasData()?x:null}findDEMTileFor(d){return this.enabled?this._findTileCoveringTileID(d,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(d,g){let x=this._tilesDirty[d];x||(x=this._tilesDirty[d]={}),x[g.key]=!0}}function T1(w,d,g){const x=function($,Y,ae){const de=a.N.dot(Y,$),Ae=a.N.dot(ae,[.2126,.7152,.0722]),Ce=(He,$e,Ke)=>(1-Ke)*He+Ke*$e,Me=Ce(1-.3*Math.min(Ae,1),1,Math.min(de+1,1));return Ce(.92,1,Math.asin(a.aa(Y[2],-1,1))/Math.PI+.5)*Me}(w,[0,0,1],d),B=[0,0,0];a.N.scale(B,g.slice(0,3),x);const L=[0,0,0];a.N.scale(L,d.slice(0,3),w[2]);const D=[0,0,0];return a.N.add(D,B,L),a.bU(D)}const B1=["fill","fillOutline","fillPattern","line","linePattern","background","backgroundPattern","hillshade","raster"],cd=["stars","fillExtrusion","fillExtrusionGroundEffect","model","symbolSDF","symbolIcon","symbolTextAndIcon"];class Ku{static cacheKey(d,g,x,B){let L=`${g}${B?B.cacheKey:""}`;for(const D of x)d.usedDefines.includes(D)&&(L+=`/${D}`);return L}constructor(d,g,x,B,L,D,$){const Y=d.gl;this.program=Y.createProgram(),this.configuration=B,this.name=g,this.fixedDefines=[...D];const ae=B?B.getBinderAttributes():[],de=(x.staticAttributes||[]).concat(ae);let Ae=B?B.defines():[];Ae=Ae.concat(D.map(Fe=>`#define ${Fe}`));const Ce=`#version 300 es
`;let Me=Ce+Ae.concat("precision mediump float;",tp,_A.fragmentSource).join(`
`);for(const Fe of x.fragmentIncludes)Me+=`
${Wl[Fe]}`;Me+=`
${x.fragmentSource}`;let He=Ce+Ae.concat("precision highp float;",tp,_A.vertexSource).join(`
`);for(const Fe of x.vertexIncludes)He+=`
${Wl[Fe]}`;He+=`
${x.vertexSource}`;const $e=Y.createShader(Y.FRAGMENT_SHADER);if(Y.isContextLost())return void(this.failedToCreate=!0);Y.shaderSource($e,Me),Y.compileShader($e),Y.attachShader(this.program,$e);const Ke=Y.createShader(Y.VERTEX_SHADER);if(Y.isContextLost())this.failedToCreate=!0;else{Y.shaderSource(Ke,He),Y.compileShader(Ke),Y.attachShader(this.program,Ke),this.attributes={},this.numAttributes=de.length;for(let Fe=0;Fe<this.numAttributes;Fe++)if(de[Fe]){const Ze=de[Fe].startsWith("a_")?de[Fe]:`a_${de[Fe]}`;Y.bindAttribLocation(this.program,Fe,Ze),this.attributes[Ze]=Fe}$&&$.shaderVaryings.length>0&&Y.transformFeedbackVaryings(this.program,$.shaderVaryings,$.bufferMode),Y.linkProgram(this.program),Y.deleteShader(Ke),Y.deleteShader($e),this.fixedUniforms=L(d),this.binderUniforms=B?B.getUniforms(d):[],D.includes("TERRAIN")&&(this.terrainUniforms=(Fe=>({u_dem:new a.bO(Fe),u_dem_prev:new a.bO(Fe),u_dem_tl:new a.bL(Fe),u_dem_scale:new a.bN(Fe),u_dem_tl_prev:new a.bL(Fe),u_dem_scale_prev:new a.bN(Fe),u_dem_size:new a.bN(Fe),u_dem_lerp:new a.bN(Fe),u_exaggeration:new a.bN(Fe),u_depth:new a.bO(Fe),u_depth_size_inv:new a.bL(Fe),u_meter_to_dem:new a.bN(Fe),u_label_plane_matrix_inv:new a.bK(Fe)}))(d)),D.includes("GLOBE")&&(this.globeUniforms=(Fe=>({u_tile_tl_up:new a.bM(Fe),u_tile_tr_up:new a.bM(Fe),u_tile_br_up:new a.bM(Fe),u_tile_bl_up:new a.bM(Fe),u_tile_up_scale:new a.bN(Fe)}))(d)),D.includes("FOG")&&(this.fogUniforms=(Fe=>({u_fog_matrix:new a.bK(Fe),u_fog_range:new a.bL(Fe),u_fog_color:new a.bP(Fe),u_fog_horizon_blend:new a.bN(Fe),u_fog_vertical_limit:new a.bL(Fe),u_fog_temporal_offset:new a.bN(Fe),u_frustum_tl:new a.bM(Fe),u_frustum_tr:new a.bM(Fe),u_frustum_br:new a.bM(Fe),u_frustum_bl:new a.bM(Fe),u_globe_pos:new a.bM(Fe),u_globe_radius:new a.bN(Fe),u_globe_transition:new a.bN(Fe),u_is_globe:new a.bO(Fe),u_viewport:new a.bL(Fe)}))(d)),D.includes("RENDER_CUTOFF")&&(this.cutoffUniforms=(Fe=>({u_cutoff_params:new a.bP(Fe)}))(d)),D.includes("LIGHTING_3D_MODE")&&(this.lightsUniforms=(Fe=>({u_lighting_ambient_color:new a.bM(Fe),u_lighting_directional_dir:new a.bM(Fe),u_lighting_directional_color:new a.bM(Fe),u_ground_radiance:new a.bM(Fe)}))(d)),D.includes("RENDER_SHADOWS")&&(this.shadowUniforms=(Fe=>({u_light_matrix_0:new a.bK(Fe),u_light_matrix_1:new a.bK(Fe),u_fade_range:new a.bL(Fe),u_shadow_normal_offset:new a.bM(Fe),u_shadow_intensity:new a.bN(Fe),u_shadow_texel_size:new a.bN(Fe),u_shadow_map_resolution:new a.bN(Fe),u_shadow_direction:new a.bM(Fe),u_shadow_bias:new a.bM(Fe),u_shadowmap_0:new a.bO(Fe),u_shadowmap_1:new a.bO(Fe)}))(d))}}setTerrainUniformValues(d,g){if(!this.terrainUniforms)return;const x=this.terrainUniforms;if(!this.failedToCreate){d.program.set(this.program);for(const B in g)x[B]&&x[B].set(this.program,B,g[B])}}setGlobeUniformValues(d,g){if(!this.globeUniforms)return;const x=this.globeUniforms;if(!this.failedToCreate){d.program.set(this.program);for(const B in g)x[B]&&x[B].set(this.program,B,g[B])}}setFogUniformValues(d,g){if(!this.fogUniforms)return;const x=this.fogUniforms;if(!this.failedToCreate){d.program.set(this.program);for(const B in g)x[B].set(this.program,B,g[B])}}setCutoffUniformValues(d,g){if(!this.cutoffUniforms)return;const x=this.cutoffUniforms;if(!this.failedToCreate){d.program.set(this.program);for(const B in g)x[B].set(this.program,B,g[B])}}setLightsUniformValues(d,g){if(!this.lightsUniforms)return;const x=this.lightsUniforms;if(!this.failedToCreate){d.program.set(this.program);for(const B in g)x[B].set(this.program,B,g[B])}}setShadowUniformValues(d,g){if(this.failedToCreate||!this.shadowUniforms)return;const x=this.shadowUniforms;d.program.set(this.program);for(const B in g)x[B].set(this.program,B,g[B])}_drawDebugWireframe(d,g,x,B,L,D,$,Y,ae,de){const Ae=d.options.wireframe;if(Ae.terrain===!1&&Ae.layers2D===!1&&Ae.layers3D===!1)return;const Ce=d.context;if(!(!(!Ae.terrain||this.name!=="terrainRaster"&&this.name!=="globeRaster")||!(!Ae.layers2D||d._terrain&&d._terrain.renderingToTexture||!B1.includes(this.name))||!(!Ae.layers3D||!cd.includes(this.name))))return;const Me=Ce.gl,He=d.wireframeDebugCache.getLinesFromTrianglesBuffer(d.frameCounter,L,Ce);if(!He)return;const $e=[...this.fixedDefines];$e.push("DEBUG_WIREFRAME");const Ke=d.getOrCreateProgram(this.name,{config:this.configuration,defines:$e});Ce.program.set(Ke.program);const Fe=(st,At,qe)=>{if(At[st]&&qe[st])for(const mt in At[st])qe[st][mt]&&qe[st][mt].set(qe.program,mt,At[st][mt].current)};ae&&ae.setUniforms(Ke.program,Ce,Ke.binderUniforms,$,{zoom:Y}),Fe("fixedUniforms",this,Ke),Fe("terrainUniforms",this,Ke),Fe("globeUniforms",this,Ke),Fe("fogUniforms",this,Ke),Fe("lightsUniforms",this,Ke),Fe("shadowUniforms",this,Ke),He.bind(),Ce.setColorMode(new Mi([Me.ONE,Me.ONE_MINUS_SRC_ALPHA,Me.ZERO,Me.ONE],a.ax.transparent,[!0,!0,!0,!1])),Ce.setDepthMode(new rr(g.func===Me.LESS?Me.LEQUAL:g.func,rr.ReadOnly,g.range)),Ce.setStencilMode(si.disabled);const Ze=3*D.primitiveLength*2,pt=3*D.primitiveOffset*2*2;de&&de>1?Me.drawElementsInstanced(Me.LINES,Ze,Me.UNSIGNED_SHORT,pt,de):Me.drawElements(Me.LINES,Ze,Me.UNSIGNED_SHORT,pt),L.bind(),Ce.program.set(this.program),Ce.setDepthMode(g),Ce.setStencilMode(x),Ce.setColorMode(B)}draw(d,g,x,B,L,D,$,Y,ae,de,Ae,Ce,Me,He,$e,Ke,Fe){const Ze=d.context,pt=Ze.gl;if(this.failedToCreate)return;Ze.program.set(this.program),Ze.setDepthMode(x),Ze.setStencilMode(B),Ze.setColorMode(L),Ze.setCullFace(D);for(const mt of Object.keys(this.fixedUniforms))this.fixedUniforms[mt].set(this.program,mt,$[mt]);He&&He.setUniforms(this.program,Ze,this.binderUniforms,Ce,{zoom:Me});const st={[pt.POINTS]:1,[pt.LINES]:2,[pt.TRIANGLES]:3,[pt.LINE_STRIP]:1}[g],At=Fe&&Fe.length>0;if(At){for(const mt of Fe)pt.bindBufferBase(pt.TRANSFORM_FEEDBACK_BUFFER,mt.targetIndex,mt.buffer.buffer);pt.beginTransformFeedback(g)}const qe=Ke&&Ke>0?1:void 0;for(const mt of Ae.get()){const Ft=mt.vaos||(mt.vaos={});(Ft[Y]||(Ft[Y]=new Qm)).bind(Ze,this,ae,He?He.getPaintVertexBuffers():[],de,mt.vertexOffset,$e||[],qe),Ke&&Ke>1?pt.drawElementsInstanced(g,mt.primitiveLength*st,pt.UNSIGNED_SHORT,mt.primitiveOffset*st*2,Ke):de?pt.drawElements(g,mt.primitiveLength*st,pt.UNSIGNED_SHORT,mt.primitiveOffset*st*2):pt.drawArrays(g,mt.vertexOffset,mt.vertexLength),g===pt.TRIANGLES&&de&&this._drawDebugWireframe(d,x,B,L,de,mt,Ce,Me,He,Ke)}At&&pt.endTransformFeedback()}}function Qc(w,d){const g=Math.pow(2,d.tileID.overscaledZ),x=d.tileSize*Math.pow(2,w.transform.tileZoom)/g,B=x*(d.tileID.canonical.x+d.tileID.wrap*g),L=x*d.tileID.canonical.y;return{u_image:0,u_texsize:d.imageAtlasTexture?d.imageAtlasTexture.size:[0,0],u_tile_units_to_pixels:1/a.a3(d,1,w.transform.tileZoom),u_pixel_coord_upper:[B>>16,L>>16],u_pixel_coord_lower:[65535&B,65535&L]}}const Ry=a.a6.create(),x0=(w,d,g,x,B,L,D,$,Y,ae,de,Ae,Ce,Me,He,$e)=>{const Ke=d.style.light,Fe=Ke.properties.get("position"),Ze=[Fe.x,Fe.y,Fe.z],pt=a.co.create();Ke.properties.get("anchor")==="viewport"&&(a.co.fromRotation(pt,-d.transform.angle),a.N.transformMat3(Ze,Ze,pt));const st=Ke.properties.get("color"),At=d.transform,qe={u_matrix:w,u_lightpos:Ze,u_lightintensity:Ke.properties.get("intensity"),u_lightcolor:[st.r,st.g,st.b],u_vertical_gradient:+g,u_opacity:x,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Ry,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:B,u_edge_radius:L,u_flood_light_color:Ae,u_vertical_scale:Ce,u_flood_light_intensity:Me,u_ground_shadow_factor:He,u_emissive_strength:$e};return At.projection.name==="globe"&&(qe.u_tile_id=[D.canonical.x,D.canonical.y,1<<D.canonical.z],qe.u_zoom_transition=Y,qe.u_inv_rot_matrix=de,qe.u_merc_center=ae,qe.u_up_dir=At.projection.upVector(new a.bs(0,0,0),ae[0]*a.V,ae[1]*a.V),qe.u_height_lift=$),qe},vh=(w,d,g)=>({u_matrix:w,u_edge_radius:d,u_vertical_scale:g}),tl=(w,d,g,x,B,L,D,$,Y,ae,de,Ae,Ce,Me)=>{const He=x0(w,d,g,x,B,L,D,Y,ae,de,Ae,Ce,Me,1,[0,0,0],0),$e={u_height_factor:-Math.pow(2,D.overscaledZ)/$.tileSize/8};return a.e(He,Qc(d,$),$e)},wA=(w,d)=>({u_matrix:w,u_emissive_strength:d}),M1=(w,d,g,x)=>a.e(wA(w,d),Qc(g,x)),Xd=(w,d,g)=>({u_matrix:w,u_world:g,u_emissive_strength:d}),I1=(w,d,g,x,B)=>a.e(M1(w,d,g,x),{u_world:B}),Km=(w,d,g,x)=>{const B=a.V/g.tileSize;return{u_matrix:w,u_camera_to_center_distance:d.getCameraToCenterDistance(x),u_extrude_scale:[d.pixelsToGLUnits[0]/B,d.pixelsToGLUnits[1]/B]}},C0=(w,d,g=1)=>({u_matrix:w,u_color:d,u_overlay:0,u_overlay_scale:g}),Oy=a.a6.create(),xA=(w,d,g,x,B,L,D)=>{const $=w.transform,Y=$.projection.name==="globe",ae=Y?a.cp($.zoom,d.canonical)*$._pixelsPerMercatorPixel:a.a3(g,1,L),de={u_matrix:d.projMatrix,u_extrude_scale:ae,u_intensity:D,u_inv_rot_matrix:Oy,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(Y){de.u_inv_rot_matrix=x,de.u_merc_center=B,de.u_tile_id=[d.canonical.x,d.canonical.y,1<<d.canonical.z],de.u_zoom_transition=a.S($.zoom);const Ae=B[0]*a.V,Ce=B[1]*a.V;de.u_up_dir=$.projection.upVector(new a.bs(0,0,0),Ae,Ce)}return de};function rp(w,[d,g,x,B],[L,D]){if(L===D)return[0,0,0,0];const $=255*(w-1)/(w*(D-L));return[d*$,g*$,x*$,B*$]}function CA(w,d,[g,x]){return g===x?0:.5/w+(d-g)*(w-1)/(w*(x-g))}const Wm=(w,d,g,x,B,L,D,$,Y,ae,de,Ae,Ce,Me,He,$e,Ke,Fe,Ze,pt,st)=>{return{u_matrix:w,u_normalize_matrix:d,u_globe_matrix:g,u_merc_matrix:x,u_grid_matrix:B,u_tl_parent:L,u_scale_parent:ae,u_fade_t:de.mix,u_opacity:de.opacity*Ae.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:Ae.paint.get("raster-brightness-min"),u_brightness_high:Ae.paint.get("raster-brightness-max"),u_saturation_factor:(qe=Ae.paint.get("raster-saturation"),qe>0?1-1/(1.001-qe):-qe),u_contrast_factor:(At=Ae.paint.get("raster-contrast"),At>0?1/(1-At):1+At),u_spin_weights:EA(Ae.paint.get("raster-hue-rotate")),u_perspective_transform:Ce,u_raster_elevation:Me,u_zoom_transition:D,u_merc_center:$,u_cutoff_params:Y,u_colorization_mix:rp(a.cq,$e,Fe),u_colorization_offset:CA(a.cq,Ke,Fe),u_color_ramp:He,u_texture_offset:[pt/(Ze+2*pt),Ze/(Ze+2*pt)],u_texture_res:[Ze+2*pt,Ze+2*pt],u_emissive_strength:st};var At,qe};function EA(w){w*=Math.PI/180;const d=Math.sin(w),g=Math.cos(w);return[(2*g+1)/3,(-Math.sqrt(3)*d-g+1)/3,(Math.sqrt(3)*d-g+1)/3]}const J2=(w,d,g,x,B,L,D,$,Y,ae,de,Ae)=>({u_matrix:w,u_normalize_matrix:d,u_globe_matrix:g,u_merc_matrix:x,u_grid_matrix:B,u_tl_parent:L,u_scale_parent:ae,u_fade_t:de.mix,u_opacity:de.opacity,u_image0:0,u_image1:1,u_raster_elevation:Ae,u_zoom_transition:D,u_merc_center:$,u_cutoff_params:Y}),Dy=(w,d,g,x,B,L,D,$)=>({u_tile_offset:w,u_velocity:d,u_color_ramp:x,u_velocity_res:g,u_max_speed:B,u_texture_offset:L,u_data_scale:D,u_data_offset:$}),Ny=(w,d,g,x,B,L,D,$)=>({u_velocity:w,u_velocity_res:d,u_max_speed:g,u_speed_factor:x,u_lifetime_delta:B,u_rand_seed:Math.random(),u_texture_offset:L,u_data_scale:D,u_data_offset:$}),Uy=a.a6.create(),E0=(w,d,g,x,B,L,D,$,Y,ae,de,Ae,Ce,Me,He,$e,Ke,Fe)=>{const Ze=B.transform,pt={u_is_size_zoom_constant:+(w==="constant"||w==="source"),u_is_size_feature_constant:+(w==="constant"||w==="camera"),u_size_t:d?d.uSizeT:0,u_size:d?d.uSize:0,u_camera_to_center_distance:Ze.getCameraToCenterDistance($e),u_rotate_symbol:+g,u_aspect_ratio:Ze.width/Ze.height,u_fade_change:B.options.fadeDuration?B.symbolFadeChange:1,u_matrix:L,u_label_plane_matrix:D,u_coord_matrix:$,u_is_text:+Y,u_pitch_with_map:+x,u_texsize:ae,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Uy,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:Uy,u_up_vector:[0,-1,0],u_icon_transition:Fe||0,u_icon_saturation:Ke};return $e.name==="globe"&&(pt.u_tile_id=[de.canonical.x,de.canonical.y,1<<de.canonical.z],pt.u_zoom_transition=Ae,pt.u_inv_rot_matrix=Me,pt.u_merc_center=Ce,pt.u_camera_forward=Ze._camera.forward(),pt.u_ecef_origin=a.cr(Ze.globeMatrix,de.toUnwrapped()),pt.u_tile_matrix=Float32Array.from(Ze.globeMatrix),pt.u_up_vector=He),pt},qm=(w,d,g,x,B,L,D,$,Y,ae,de,Ae,Ce,Me,He,$e,Ke)=>a.e(E0(w,d,g,x,B,L,D,$,Y,ae,Ae,Ce,Me,He,$e,Ke,1),{u_gamma_scale:x?B.transform.getCameraToCenterDistance(Ke)*Math.cos(B.terrain?0:B.transform._pitch):1,u_device_pixel_ratio:a.f.devicePixelRatio,u_is_halo:+de,undefined:void 0}),S0=(w,d,g,x,B,L,D,$,Y,ae,de,Ae,Ce,Me,He,$e)=>a.e(qm(w,d,g,x,B,L,D,$,!0,Y,!0,de,Ae,Ce,Me,He,$e),{u_texsize_icon:ae,u_texture_icon:1}),L1=(w,d,g,x)=>({u_matrix:w,u_emissive_strength:d,u_opacity:g,u_color:x}),SA=(w,d,g,x,B,L,D)=>a.e(function($,Y,ae,de){const Ae=ae.imageManager.getPattern($.toString(),Y),{width:Ce,height:Me}=ae.imageManager.getPixelSize(Y),He=Math.pow(2,de.tileID.overscaledZ),$e=de.tileSize*Math.pow(2,ae.transform.tileZoom)/He,Ke=$e*(de.tileID.canonical.x+de.tileID.wrap*He),Fe=$e*de.tileID.canonical.y;return{u_image:0,u_pattern_tl:Ae.tl,u_pattern_br:Ae.br,u_texsize:[Ce,Me],u_pattern_size:Ae.displaySize,u_tile_units_to_pixels:1/a.a3(de,1,ae.transform.tileZoom),u_pixel_coord_upper:[Ke>>16,Fe>>16],u_pixel_coord_lower:[65535&Ke,65535&Fe]}}(B,L,x,D),{u_matrix:w,u_emissive_strength:d,u_opacity:g}),ip=(w,d,g,x,B,L,D,$,Y,ae,de,Ae,Ce=[0,0,0],Me)=>{const He=x.style.light,$e=He.properties.get("position"),Ke=[-$e.x,-$e.y,$e.z],Fe=a.co.create();He.properties.get("anchor")==="viewport"&&(a.co.fromRotation(Fe,-x.transform.angle),a.N.transformMat3(Ke,Ke,Fe));const Ze=ae.alphaMode==="MASK",pt=He.properties.get("color"),st=Ae.paint.get("model-ambient-occlusion-intensity"),At=Ae.paint.get("model-color").constantOr(a.ax.white),qe=Ae.paint.get("model-color-mix-intensity").constantOr(0);return{u_matrix:w,u_lighting_matrix:d,u_normal_matrix:g,u_lightpos:Ke,u_lightintensity:He.properties.get("intensity"),u_lightcolor:[pt.r,pt.g,pt.b],u_camera_pos:Ce,u_opacity:B,u_baseTextureIsAlpha:0,u_alphaMask:+Ze,u_alphaCutoff:ae.alphaCutoff,u_baseColorFactor:[L.r,L.g,L.b,L.a],u_emissiveFactor:[D[0],D[1],D[2],1],u_metallicFactor:$,u_roughnessFactor:Y,u_baseColorTexture:zs.BaseColor,u_metallicRoughnessTexture:zs.MetallicRoughness,u_normalTexture:zs.Normal,u_occlusionTexture:zs.Occlusion,u_emissionTexture:zs.Emission,u_color_mix:[At.r,At.g,At.b,qe],u_aoIntensity:st,u_emissive_strength:de,u_occlusionTextureTransform:Me||[0,0,0,0]}},Ym=new Float32Array(16),Xm=(w,d=Ym,g=Ym)=>({u_matrix:w,u_instance:d,u_node_matrix:g}),zy={fillExtrusion:w=>({u_matrix:new a.bK(w),u_lightpos:new a.bM(w),u_lightintensity:new a.bN(w),u_lightcolor:new a.bM(w),u_vertical_gradient:new a.bN(w),u_opacity:new a.bN(w),u_edge_radius:new a.bN(w),u_ao:new a.bL(w),u_tile_id:new a.bM(w),u_zoom_transition:new a.bN(w),u_inv_rot_matrix:new a.bK(w),u_merc_center:new a.bL(w),u_up_dir:new a.bM(w),u_height_lift:new a.bN(w),u_flood_light_color:new a.bM(w),u_vertical_scale:new a.bN(w),u_flood_light_intensity:new a.bN(w),u_ground_shadow_factor:new a.bM(w),u_emissive_strength:new a.bN(w)}),fillExtrusionDepth:w=>({u_matrix:new a.bK(w),u_edge_radius:new a.bN(w),u_vertical_scale:new a.bN(w)}),fillExtrusionPattern:w=>({u_matrix:new a.bK(w),u_lightpos:new a.bM(w),u_lightintensity:new a.bN(w),u_lightcolor:new a.bM(w),u_vertical_gradient:new a.bN(w),u_height_factor:new a.bN(w),u_edge_radius:new a.bN(w),u_ao:new a.bL(w),u_tile_id:new a.bM(w),u_zoom_transition:new a.bN(w),u_inv_rot_matrix:new a.bK(w),u_merc_center:new a.bL(w),u_up_dir:new a.bM(w),u_height_lift:new a.bN(w),u_image:new a.bO(w),u_texsize:new a.bL(w),u_pixel_coord_upper:new a.bL(w),u_pixel_coord_lower:new a.bL(w),u_tile_units_to_pixels:new a.bN(w),u_opacity:new a.bN(w)}),fillExtrusionGroundEffect:w=>({u_matrix:new a.bK(w),u_opacity:new a.bN(w),u_ao_pass:new a.bN(w),u_meter_to_tile:new a.bN(w),u_ao:new a.bL(w),u_flood_light_intensity:new a.bN(w),u_flood_light_color:new a.bM(w),u_attenuation:new a.bN(w),u_edge_radius:new a.bN(w),u_fb:new a.bO(w),u_fb_size:new a.bN(w)}),fill:w=>({u_matrix:new a.bK(w),u_emissive_strength:new a.bN(w)}),fillPattern:w=>({u_matrix:new a.bK(w),u_emissive_strength:new a.bN(w),u_image:new a.bO(w),u_texsize:new a.bL(w),u_pixel_coord_upper:new a.bL(w),u_pixel_coord_lower:new a.bL(w),u_tile_units_to_pixels:new a.bN(w)}),fillOutline:w=>({u_matrix:new a.bK(w),u_emissive_strength:new a.bN(w),u_world:new a.bL(w)}),fillOutlinePattern:w=>({u_matrix:new a.bK(w),u_emissive_strength:new a.bN(w),u_world:new a.bL(w),u_image:new a.bO(w),u_texsize:new a.bL(w),u_pixel_coord_upper:new a.bL(w),u_pixel_coord_lower:new a.bL(w),u_tile_units_to_pixels:new a.bN(w)}),circle:a.cs,collisionBox:w=>({u_matrix:new a.bK(w),u_camera_to_center_distance:new a.bN(w),u_extrude_scale:new a.bL(w)}),collisionCircle:w=>({u_matrix:new a.bK(w),u_inv_matrix:new a.bK(w),u_camera_to_center_distance:new a.bN(w),u_viewport_size:new a.bL(w)}),debug:w=>({u_color:new a.ca(w),u_matrix:new a.bK(w),u_overlay:new a.bO(w),u_overlay_scale:new a.bN(w)}),clippingMask:w=>({u_matrix:new a.bK(w)}),heatmap:w=>({u_extrude_scale:new a.bN(w),u_intensity:new a.bN(w),u_matrix:new a.bK(w),u_inv_rot_matrix:new a.bK(w),u_merc_center:new a.bL(w),u_tile_id:new a.bM(w),u_zoom_transition:new a.bN(w),u_up_dir:new a.bM(w)}),heatmapTexture:w=>({u_image:new a.bO(w),u_color_ramp:new a.bO(w),u_opacity:new a.bN(w)}),hillshade:w=>({u_matrix:new a.bK(w),u_image:new a.bO(w),u_latrange:new a.bL(w),u_light:new a.bL(w),u_shadow:new a.ca(w),u_highlight:new a.ca(w),u_emissive_strength:new a.bN(w),u_accent:new a.ca(w)}),hillshadePrepare:w=>({u_matrix:new a.bK(w),u_image:new a.bO(w),u_dimension:new a.bL(w),u_zoom:new a.bN(w)}),line:a.ct,linePattern:a.cu,raster:w=>({u_matrix:new a.bK(w),u_normalize_matrix:new a.bK(w),u_globe_matrix:new a.bK(w),u_merc_matrix:new a.bK(w),u_grid_matrix:new a.cb(w),u_tl_parent:new a.bL(w),u_scale_parent:new a.bN(w),u_fade_t:new a.bN(w),u_opacity:new a.bN(w),u_image0:new a.bO(w),u_image1:new a.bO(w),u_brightness_low:new a.bN(w),u_brightness_high:new a.bN(w),u_saturation_factor:new a.bN(w),u_contrast_factor:new a.bN(w),u_spin_weights:new a.bM(w),u_perspective_transform:new a.bL(w),u_raster_elevation:new a.bN(w),u_zoom_transition:new a.bN(w),u_merc_center:new a.bL(w),u_cutoff_params:new a.bP(w),u_colorization_mix:new a.bP(w),u_colorization_offset:new a.bN(w),u_color_ramp:new a.bO(w),u_texture_offset:new a.bL(w),u_texture_res:new a.bL(w),u_emissive_strength:new a.bN(w)}),rasterParticle:w=>({u_matrix:new a.bK(w),u_normalize_matrix:new a.bK(w),u_globe_matrix:new a.bK(w),u_merc_matrix:new a.bK(w),u_grid_matrix:new a.cb(w),u_tl_parent:new a.bL(w),u_scale_parent:new a.bN(w),u_fade_t:new a.bN(w),u_opacity:new a.bN(w),u_image0:new a.bO(w),u_image1:new a.bO(w),u_raster_elevation:new a.bN(w),u_zoom_transition:new a.bN(w),u_merc_center:new a.bL(w),u_cutoff_params:new a.bP(w)}),rasterParticleTexture:w=>({u_texture:new a.bO(w),u_opacity:new a.bN(w)}),rasterParticleDraw:w=>({u_tile_offset:new a.bL(w),u_velocity:new a.bO(w),u_color_ramp:new a.bO(w),u_velocity_res:new a.bL(w),u_max_speed:new a.bN(w),u_texture_offset:new a.bL(w),u_data_scale:new a.bP(w),u_data_offset:new a.bN(w)}),rasterParticleUpdate:w=>({u_velocity:new a.bO(w),u_velocity_res:new a.bL(w),u_max_speed:new a.bN(w),u_speed_factor:new a.bN(w),u_lifetime_delta:new a.bN(w),u_rand_seed:new a.bN(w),u_texture_offset:new a.bL(w),u_data_scale:new a.bP(w),u_data_offset:new a.bN(w)}),symbolIcon:w=>({u_is_size_zoom_constant:new a.bO(w),u_is_size_feature_constant:new a.bO(w),u_size_t:new a.bN(w),u_size:new a.bN(w),u_camera_to_center_distance:new a.bN(w),u_rotate_symbol:new a.bO(w),u_aspect_ratio:new a.bN(w),u_fade_change:new a.bN(w),u_matrix:new a.bK(w),u_label_plane_matrix:new a.bK(w),u_coord_matrix:new a.bK(w),u_is_text:new a.bO(w),u_pitch_with_map:new a.bO(w),u_texsize:new a.bL(w),u_tile_id:new a.bM(w),u_zoom_transition:new a.bN(w),u_inv_rot_matrix:new a.bK(w),u_merc_center:new a.bL(w),u_camera_forward:new a.bM(w),u_tile_matrix:new a.bK(w),u_up_vector:new a.bM(w),u_ecef_origin:new a.bM(w),u_texture:new a.bO(w),u_icon_transition:new a.bN(w),u_icon_saturation:new a.bN(w)}),symbolSDF:w=>({u_is_size_zoom_constant:new a.bO(w),u_is_size_feature_constant:new a.bO(w),u_size_t:new a.bN(w),u_size:new a.bN(w),u_camera_to_center_distance:new a.bN(w),u_rotate_symbol:new a.bO(w),u_aspect_ratio:new a.bN(w),u_fade_change:new a.bN(w),u_matrix:new a.bK(w),u_label_plane_matrix:new a.bK(w),u_coord_matrix:new a.bK(w),u_is_text:new a.bO(w),u_pitch_with_map:new a.bO(w),u_texsize:new a.bL(w),u_texture:new a.bO(w),u_gamma_scale:new a.bN(w),u_device_pixel_ratio:new a.bN(w),u_tile_id:new a.bM(w),u_zoom_transition:new a.bN(w),u_inv_rot_matrix:new a.bK(w),u_merc_center:new a.bL(w),u_camera_forward:new a.bM(w),u_tile_matrix:new a.bK(w),u_up_vector:new a.bM(w),u_ecef_origin:new a.bM(w),u_is_halo:new a.bO(w)}),symbolTextAndIcon:w=>({u_is_size_zoom_constant:new a.bO(w),u_is_size_feature_constant:new a.bO(w),u_size_t:new a.bN(w),u_size:new a.bN(w),u_camera_to_center_distance:new a.bN(w),u_rotate_symbol:new a.bO(w),u_aspect_ratio:new a.bN(w),u_fade_change:new a.bN(w),u_matrix:new a.bK(w),u_label_plane_matrix:new a.bK(w),u_coord_matrix:new a.bK(w),u_is_text:new a.bO(w),u_pitch_with_map:new a.bO(w),u_texsize:new a.bL(w),u_texsize_icon:new a.bL(w),u_texture:new a.bO(w),u_texture_icon:new a.bO(w),u_gamma_scale:new a.bN(w),u_device_pixel_ratio:new a.bN(w),u_is_halo:new a.bO(w)}),background:w=>({u_matrix:new a.bK(w),u_emissive_strength:new a.bN(w),u_opacity:new a.bN(w),u_color:new a.ca(w)}),backgroundPattern:w=>({u_matrix:new a.bK(w),u_emissive_strength:new a.bN(w),u_opacity:new a.bN(w),u_image:new a.bO(w),u_pattern_tl:new a.bL(w),u_pattern_br:new a.bL(w),u_texsize:new a.bL(w),u_pattern_size:new a.bL(w),u_pixel_coord_upper:new a.bL(w),u_pixel_coord_lower:new a.bL(w),u_tile_units_to_pixels:new a.bN(w)}),terrainRaster:C1,terrainDepth:C1,skybox:w=>({u_matrix:new a.bK(w),u_sun_direction:new a.bM(w),u_cubemap:new a.bO(w),u_opacity:new a.bN(w),u_temporal_offset:new a.bN(w)}),skyboxGradient:w=>({u_matrix:new a.bK(w),u_color_ramp:new a.bO(w),u_center_direction:new a.bM(w),u_radius:new a.bN(w),u_opacity:new a.bN(w),u_temporal_offset:new a.bN(w)}),skyboxCapture:w=>({u_matrix_3f:new a.cb(w),u_sun_direction:new a.bM(w),u_sun_intensity:new a.bN(w),u_color_tint_r:new a.bP(w),u_color_tint_m:new a.bP(w),u_luminance:new a.bN(w)}),globeRaster:w=>({u_proj_matrix:new a.bK(w),u_globe_matrix:new a.bK(w),u_normalize_matrix:new a.bK(w),u_merc_matrix:new a.bK(w),u_zoom_transition:new a.bN(w),u_merc_center:new a.bL(w),u_image0:new a.bO(w),u_grid_matrix:new a.cb(w),u_skirt_height:new a.bN(w),u_far_z_cutoff:new a.bN(w),u_frustum_tl:new a.bM(w),u_frustum_tr:new a.bM(w),u_frustum_br:new a.bM(w),u_frustum_bl:new a.bM(w),u_globe_pos:new a.bM(w),u_globe_radius:new a.bN(w),u_viewport:new a.bL(w)}),globeAtmosphere:w=>({u_frustum_tl:new a.bM(w),u_frustum_tr:new a.bM(w),u_frustum_br:new a.bM(w),u_frustum_bl:new a.bM(w),u_horizon:new a.bN(w),u_transition:new a.bN(w),u_fadeout_range:new a.bN(w),u_color:new a.bP(w),u_high_color:new a.bP(w),u_space_color:new a.bP(w),u_temporal_offset:new a.bN(w),u_horizon_angle:new a.bN(w)}),model:w=>({u_matrix:new a.bK(w),u_lighting_matrix:new a.bK(w),u_normal_matrix:new a.bK(w),u_lightpos:new a.bM(w),u_lightintensity:new a.bN(w),u_lightcolor:new a.bM(w),u_camera_pos:new a.bM(w),u_opacity:new a.bN(w),u_baseColorFactor:new a.bP(w),u_emissiveFactor:new a.bP(w),u_metallicFactor:new a.bN(w),u_roughnessFactor:new a.bN(w),u_baseTextureIsAlpha:new a.bO(w),u_alphaMask:new a.bO(w),u_alphaCutoff:new a.bN(w),u_baseColorTexture:new a.bO(w),u_metallicRoughnessTexture:new a.bO(w),u_normalTexture:new a.bO(w),u_occlusionTexture:new a.bO(w),u_emissionTexture:new a.bO(w),u_color_mix:new a.bP(w),u_aoIntensity:new a.bN(w),u_emissive_strength:new a.bN(w),u_occlusionTextureTransform:new a.bP(w)}),modelDepth:w=>({u_matrix:new a.bK(w),u_instance:new a.bK(w),u_node_matrix:new a.bK(w)}),groundShadow:w=>({u_matrix:new a.bK(w),u_ground_shadow_factor:new a.bM(w)}),stars:w=>({u_matrix:new a.bK(w),u_up:new a.bM(w),u_right:new a.bM(w),u_intensity_multiplier:new a.bN(w)})};let V;function re(w,d,g,x,B,L,D){const $=w.context,Y=$.gl,ae=w.transform,de=w.getOrCreateProgram("collisionBox"),Ae=[];let Ce=0,Me=0;for(let st=0;st<x.length;st++){const At=x[st],qe=d.getTile(At),mt=qe.getBucket(g);if(!mt)continue;const Ft=Ws(At,mt,ae);let Ot=Ft;B[0]===0&&B[1]===0||(Ot=w.translatePosMatrix(Ft,qe,B,L));const Qt=D?mt.textCollisionBox:mt.iconCollisionBox,fn=mt.collisionCircleArray;if(fn.length>0){const Wt=a.a6.create(),xn=Ot;a.a6.mul(Wt,mt.placementInvProjMatrix,ae.glCoordMatrix),a.a6.mul(Wt,Wt,mt.placementViewportMatrix),Ae.push({circleArray:fn,circleOffset:Me,transform:xn,invTransform:Wt,projection:mt.getProjection()}),Ce+=fn.length/4,Me=Ce}Qt&&(w.terrain&&w.terrain.setupElevationDraw(qe,de),de.draw(w,Y.LINES,rr.disabled,si.disabled,w.colorModeForRenderPass(),Vr.disabled,Km(Ot,ae,qe,mt.getProjection()),g.id,Qt.layoutVertexBuffer,Qt.indexBuffer,Qt.segments,null,ae.zoom,null,[Qt.collisionVertexBuffer,Qt.collisionVertexBufferExt]))}if(!D||!Ae.length)return;const He=w.getOrCreateProgram("collisionCircle"),$e=new a.cv;$e.resize(4*Ce),$e._trim();let Ke=0;for(const st of Ae)for(let At=0;At<st.circleArray.length/4;At++){const qe=4*At,mt=st.circleArray[qe+0],Ft=st.circleArray[qe+1],Ot=st.circleArray[qe+2],Qt=st.circleArray[qe+3];$e.emplace(Ke++,mt,Ft,Ot,Qt,0),$e.emplace(Ke++,mt,Ft,Ot,Qt,1),$e.emplace(Ke++,mt,Ft,Ot,Qt,2),$e.emplace(Ke++,mt,Ft,Ot,Qt,3)}(!V||V.length<2*Ce)&&(V=function(st){const At=2*st,qe=new a.aw;qe.resize(At),qe._trim();for(let mt=0;mt<At;mt++){const Ft=6*mt;qe.uint16[Ft+0]=4*mt+0,qe.uint16[Ft+1]=4*mt+1,qe.uint16[Ft+2]=4*mt+2,qe.uint16[Ft+3]=4*mt+2,qe.uint16[Ft+4]=4*mt+3,qe.uint16[Ft+5]=4*mt+0}return qe}(Ce));const Fe=$.createIndexBuffer(V,!0),Ze=$.createVertexBuffer($e,a.cw.members,!0);for(const st of Ae){const At={u_matrix:st.transform,u_inv_matrix:st.invTransform,u_camera_to_center_distance:(pt=ae).getCameraToCenterDistance(st.projection),u_viewport_size:[pt.width,pt.height]};He.draw(w,Y.TRIANGLES,rr.disabled,si.disabled,w.colorModeForRenderPass(),Vr.disabled,At,g.id,Ze,Fe,a.aB.simpleSegment(0,2*st.circleOffset,st.circleArray.length,st.circleArray.length/2),null,ae.zoom)}var pt;Ze.destroy(),Fe.destroy()}const we=a.a6.create();function ke(w){const d=w._camera.getWorldToCamera(w.worldSize,1),g=a.a6.multiply([],d,w.globeMatrix);a.a6.invert(g,g);const x=[0,0,0],B=[0,1,0,0];return a.a7.transformMat4(B,B,g),x[0]=B[0],x[1]=B[1],x[2]=B[2],a.N.normalize(x,x),x}function ze({width:w,height:d,anchor:g,textOffset:x,textScale:B},L){const{horizontalAlign:D,verticalAlign:$}=a.bf(g),Y=-(D-.5)*w,ae=-($-.5)*d,de=a.bd(g,x);return new a.P((Y/B+de[0])*L,(ae/B+de[1])*L)}function ct(w,d,g,x,B,L,D,$,Y,ae,de){const Ae=w.text.placedSymbolArray,Ce=w.text.dynamicLayoutVertexArray,Me=w.icon.dynamicLayoutVertexArray,He={},$e=w.getProjection(),Ke=qs($,$e,L),Fe=L.elevation,Ze=$e.upVectorScale($.canonical,L.center.lat,L.worldSize).metersToTile;Ce.clear();for(let pt=0;pt<Ae.length;pt++){const st=Ae.get(pt),{tileAnchorX:At,tileAnchorY:qe,numGlyphs:mt}=st,Ft=st.hidden||!st.crossTileID||w.allowVerticalPlacement&&!st.placedOrientation?null:x[st.crossTileID];if(Ft){let Ot=0,Qt=0,fn=0;if(Fe){const Kn=Fe?Fe.getAtTileOffset($,At,qe):0,[ir,nr,pr]=$e.upVector($.canonical,At,qe);Ot=Kn*ir*Ze,Qt=Kn*nr*Ze,fn=Kn*pr*Ze}let[Wt,xn,_n,$n]=$o(st.projectedAnchorX+Ot,st.projectedAnchorY+Qt,st.projectedAnchorZ+fn,g?Ke:D);const Yt=fA(L.getCameraToCenterDistance($e),$n);let mn=B.evaluateSizeForFeature(w.textSizeData,ae,st)*Yt/a.bc;g&&(mn*=w.tilePixelRatio/Y);const $t=ze(Ft,mn);g?({x:Wt,y:xn,z:_n}=$e.projectTilePoint(At+$t.x,qe+$t.y,$.canonical),[Wt,xn,_n]=$o(Wt+Ot,xn+Qt,_n+fn,D)):(d&&$t._rotate(-L.angle),Wt+=$t.x,xn+=$t.y,_n=0);const on=w.allowVerticalPlacement&&st.placedOrientation===a.b6.vertical?Math.PI/2:0;for(let Kn=0;Kn<mt;Kn++)a.b9(Ce,Wt,xn,_n,on);de&&st.associatedIconIndex>=0&&(He[st.associatedIconIndex]={x:Wt,y:xn,z:_n,angle:on})}else mi(mt,Ce)}if(de){Me.clear();const pt=w.icon.placedSymbolArray;for(let st=0;st<pt.length;st++){const At=pt.get(st),{numGlyphs:qe}=At,mt=He[st];if(At.hidden||!mt)mi(qe,Me);else{const{x:Ft,y:Ot,z:Qt,angle:fn}=mt;for(let Wt=0;Wt<qe;Wt++)a.b9(Me,Ft,Ot,Qt,fn)}}w.icon.dynamicLayoutVertexBuffer.updateData(Me)}w.text.dynamicLayoutVertexBuffer.updateData(Ce)}function dt(w,d,g,x,B,L,D={}){const $=g.paint.get("icon-translate"),Y=g.paint.get("text-translate"),ae=g.paint.get("icon-translate-anchor"),de=g.paint.get("text-translate-anchor"),Ae=g.layout.get("icon-rotation-alignment"),Ce=g.layout.get("text-rotation-alignment"),Me=g.layout.get("icon-pitch-alignment"),He=g.layout.get("text-pitch-alignment"),$e=g.layout.get("icon-keep-upright"),Ke=g.layout.get("text-keep-upright"),Fe=g.paint.get("icon-color-saturation"),Ze=w.context,pt=Ze.gl,st=w.transform,At=Ae==="map",qe=Ce==="map",mt=Me==="map",Ft=He==="map",Ot=g.layout.get("symbol-sort-key").constantOr(1)!==void 0;let Qt=!1;const fn=w.depthModeForSublayer(0,rr.ReadOnly),Wt=[a.a5(st.center.lng),a.ae(st.center.lat)],xn=g.layout.get("text-variable-anchor"),_n=st.projection.name==="globe",$n=[],Yt=[0,-1,0];for(const mn of x){const $t=d.getTile(mn),on=$t.getBucket(g);if(!on||on.projection.name==="mercator"&&_n||on.fullyClipped)continue;const Kn=on.projection.name==="globe",ir=Kn?a.S(st.zoom):0,nr=qs(mn,on.getProjection(),st),pr=st.calculatePixelsToTileUnitsMatrix($t),Ir=xn&&on.hasTextData(),jr=on.hasIconTextFit()&&Ir&&on.hasIconData(),Nr=on.getProjection().createInversionMatrix(st,mn.canonical),zr=()=>{const Is=At&&g.layout.get("symbol-placement")!=="point",qi=[],ga=Is||jr,Yi=g.paint.get("icon-image-cross-fade").constantOr(0);w.terrainRenderModeElevated()&&mt&&qi.push("PITCH_WITH_MAP_TERRAIN"),Kn&&(qi.push("PROJECTION_GLOBE_VIEW"),ga&&qi.push("PROJECTED_POS_ON_VIEWPORT")),Yi>0&&qi.push("ICON_TRANSITION"),on.icon.zOffsetVertexBuffer&&qi.push("Z_OFFSET"),Fe<1&&qi.push("SATURATION");const pa=on.icon.programConfigurations.get(g.id),ss=w.getOrCreateProgram(on.sdfIcons?"symbolSDF":"symbolIcon",{config:pa,defines:qi});let ba;const il=$t.imageAtlasTexture?$t.imageAtlasTexture.size:[0,0],ql=on.iconSizeData,fc=a.b5(ql,st.zoom),rf=mt||st.pitch!==0,pc=dh(nr,$t.tileID.canonical,mt,At,st,on.getProjection(),pr),al=Gf(nr,$t.tileID.canonical,mt,At,st,on.getProjection(),pr),No=w.translatePosMatrix(al,$t,$,ae,!0),Fu=w.translatePosMatrix(nr,$t,$,ae),Yu=ga?we:pc,Ac=At&&!mt&&!Is;let af=Yt;!_n&&!st.mercatorFromTransition||At||(af=ke(st));const LA=Kn?af:Yt;ba=on.sdfIcons&&!on.iconsInText?qm(ql.kind,fc,Ac,mt,w,Fu,Yu,No,!1,il,!0,mn,ir,Wt,Nr,LA,on.getProjection()):E0(ql.kind,fc,Ac,mt,w,Fu,Yu,No,!1,il,mn,ir,Wt,Nr,LA,on.getProjection(),Fe,Yi);const dg=$t.imageAtlasTexture?$t.imageAtlasTexture:null,$1=g.layout.get("icon-size").constantOr(0)!==1||on.iconsNeedLinear,V1=on.sdfIcons||w.options.rotating||w.options.zooming||$1||rf?pt.LINEAR:pt.NEAREST,ix=on.sdfIcons&&g.paint.get("icon-halo-width").constantOr(1)!==0,H1=w.terrain&&mt&&Is?a.a6.invert(a.a6.create(),pc):we;if(Is&&on.icon){const L0=st.elevation,Gy=L0?L0.getAtTileOffsetFunc(mn,st.center.lat,st.worldSize,on.getProjection()):null,dp=rd(nr,$t.tileID.canonical,mt,At,st,on.getProjection(),pr);tt(on,nr,w,!1,dp,al,mt,$e,Gy,mn)}return{program:ss,buffers:on.icon,uniformValues:ba,atlasTexture:dg,atlasTextureIcon:null,atlasInterpolation:V1,atlasInterpolationIcon:null,isSDF:on.sdfIcons,hasHalo:ix,tile:$t,labelPlaneMatrixInv:H1}},Fi=()=>{const Is=qe&&g.layout.get("symbol-placement")!=="point",qi=[],ga=Is||xn||jr;w.terrainRenderModeElevated()&&Ft&&qi.push("PITCH_WITH_MAP_TERRAIN"),Kn&&(qi.push("PROJECTION_GLOBE_VIEW"),ga&&qi.push("PROJECTED_POS_ON_VIEWPORT")),on.text.zOffsetVertexBuffer&&qi.push("Z_OFFSET");const Yi=on.text.programConfigurations.get(g.id),pa=w.getOrCreateProgram(on.iconsInText?"symbolTextAndIcon":"symbolSDF",{config:Yi,defines:qi});let ss,ba=[0,0],il=null;const ql=on.textSizeData;on.iconsInText&&(ba=$t.imageAtlasTexture?$t.imageAtlasTexture.size:[0,0],il=$t.imageAtlasTexture?$t.imageAtlasTexture:null,ss=Ft||st.pitch!==0||w.options.rotating||w.options.zooming||ql.kind==="composite"||ql.kind==="camera"?pt.LINEAR:pt.NEAREST);const fc=$t.glyphAtlasTexture?$t.glyphAtlasTexture.size:[0,0],rf=a.b5(ql,st.zoom),pc=dh(nr,$t.tileID.canonical,Ft,qe,st,on.getProjection(),pr),al=Gf(nr,$t.tileID.canonical,Ft,qe,st,on.getProjection(),pr),No=w.translatePosMatrix(al,$t,Y,de,!0),Fu=w.translatePosMatrix(nr,$t,Y,de),Yu=ga?we:pc,Ac=qe&&!Ft&&!Is;let af=Yt;!_n&&!st.mercatorFromTransition||qe||(af=ke(st));const LA=Kn?af:Yt;let dg;dg=on.iconsInText?S0(ql.kind,rf,Ac,Ft,w,Fu,Yu,No,fc,ba,mn,ir,Wt,Nr,LA,on.getProjection()):qm(ql.kind,rf,Ac,Ft,w,Fu,Yu,No,!0,fc,!0,mn,ir,Wt,Nr,LA,on.getProjection());const $1=$t.glyphAtlasTexture?$t.glyphAtlasTexture:null,V1=pt.LINEAR,ix=g.paint.get("text-halo-width").constantOr(1)!==0,H1=w.terrain&&Ft&&Is?a.a6.invert(a.a6.create(),pc):we;if(Is&&on.text){const L0=st.elevation,Gy=L0?L0.getAtTileOffsetFunc(mn,st.center.lat,st.worldSize,on.getProjection()):null,dp=rd(nr,$t.tileID.canonical,Ft,qe,st,on.getProjection(),pr);tt(on,nr,w,!0,dp,al,Ft,Ke,Gy,mn)}return{program:pa,buffers:on.text,uniformValues:dg,atlasTexture:$1,atlasTextureIcon:il,atlasInterpolation:V1,atlasInterpolationIcon:ss,isSDF:!0,hasHalo:ix,tile:$t,labelPlaneMatrixInv:H1}},hi=on.icon.segments.get().length,Ci=on.text.segments.get().length,bi=hi&&!D.onlyText?zr():null,na=Ci&&!D.onlyIcons?Fi():null,es=g.paint.get("icon-opacity").constantOr(1),Wi=g.paint.get("text-opacity").constantOr(1);if(Ot&&on.canOverlap){Qt=!0;const Is=es&&!D.onlyText?on.icon.segments.get():[],qi=Wi&&!D.onlyIcons?on.text.segments.get():[];for(const ga of Is)$n.push({segments:new a.aB([ga]),sortKey:ga.sortKey,state:bi});for(const ga of qi)$n.push({segments:new a.aB([ga]),sortKey:ga.sortKey,state:na})}else D.onlyText||$n.push({segments:es?on.icon.segments:new a.aB([]),sortKey:0,state:bi}),D.onlyIcons||$n.push({segments:Wi?on.text.segments:new a.aB([]),sortKey:0,state:na})}Qt&&$n.sort((mn,$t)=>mn.sortKey-$t.sortKey);for(const mn of $n){const $t=mn.state;if($t)if(w.terrain&&w.terrain.setupElevationDraw($t.tile,$t.program,{useDepthForOcclusion:st.depthOcclusionForSymbolsAndCircles,labelPlaneMatrixInv:$t.labelPlaneMatrixInv}),Ze.activeTexture.set(pt.TEXTURE0),$t.atlasTexture&&$t.atlasTexture.bind($t.atlasInterpolation,pt.CLAMP_TO_EDGE,!0),$t.atlasTextureIcon&&(Ze.activeTexture.set(pt.TEXTURE1),$t.atlasTextureIcon&&$t.atlasTextureIcon.bind($t.atlasInterpolationIcon,pt.CLAMP_TO_EDGE,!0)),w.uploadCommonLightUniforms(w.context,$t.program),$t.hasHalo){const on=$t.uniformValues;on.u_is_halo=1,gt($t.buffers,mn.segments,g,w,$t.program,fn,B,L,on,2),on.u_is_halo=0}else{if($t.isSDF){const on=$t.uniformValues;$t.hasHalo&&(on.u_is_halo=1,gt($t.buffers,mn.segments,g,w,$t.program,fn,B,L,on,1)),on.u_is_halo=0}gt($t.buffers,mn.segments,g,w,$t.program,fn,B,L,$t.uniformValues,1)}}}function gt(w,d,g,x,B,L,D,$,Y,ae){const de=[w.dynamicLayoutVertexBuffer,w.opacityVertexBuffer,w.iconTransitioningVertexBuffer,w.globeExtVertexBuffer,w.zOffsetVertexBuffer];B.draw(x,x.context.gl.TRIANGLES,L,D,$,Vr.disabled,Y,g.id,w.layoutVertexBuffer,w.indexBuffer,d,g.paint,x.transform.zoom,w.programConfigurations.get(g.id),de,ae)}function Ct(w,d,g,x,B,L,D){const $=w.context.gl,Y=g.paint.get("fill-pattern"),ae=Y&&Y.constantOr(1);let de,Ae,Ce,Me,He;D?(Ae=ae&&!g.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",de=$.LINES):(Ae=ae?"fillPattern":"fill",de=$.TRIANGLES);for(const $e of x){const Ke=d.getTile($e);if(ae&&!Ke.patternsLoaded())continue;const Fe=Ke.getBucket(g);if(!Fe)continue;w.prepareDrawTile();const Ze=Fe.programConfigurations.get(g.id),pt=w.isTileAffectedByFog($e),st=w.getOrCreateProgram(Ae,{config:Ze,overrideFog:pt});ae&&(w.context.activeTexture.set($.TEXTURE0),Ke.imageAtlasTexture&&Ke.imageAtlasTexture.bind($.LINEAR,$.CLAMP_TO_EDGE),Ze.updatePaintBuffers());const At=Y.constantOr(null);if(At&&Ke.imageAtlas){const Ft=Ke.imageAtlas.patternPositions[At.toString()];Ft&&Ze.setConstantPatternPositions(Ft)}const qe=w.translatePosMatrix($e.projMatrix,Ke,g.paint.get("fill-translate"),g.paint.get("fill-translate-anchor")),mt=g.paint.get("fill-emissive-strength");if(D){Me=Fe.indexBuffer2,He=Fe.segments2;const Ft=w.terrain&&w.terrain.renderingToTexture?w.terrain.drapeBufferSize:[$.drawingBufferWidth,$.drawingBufferHeight];Ce=Ae==="fillOutlinePattern"&&ae?I1(qe,mt,w,Ke,Ft):Xd(qe,mt,Ft)}else Me=Fe.indexBuffer,He=Fe.segments,Ce=ae?M1(qe,mt,w,Ke):wA(qe,mt);w.uploadCommonUniforms(w.context,st,$e.toUnwrapped()),st.draw(w,de,B,w.stencilModeForClipping($e),L,Vr.disabled,Ce,g.id,Fe.layoutVertexBuffer,Me,He,g.paint,w.transform.zoom,Ze,void 0)}}function ft(w,d,g,x,B,L,D,$){g.resetLayerRenderingStats(w);const Y=w.context,ae=Y.gl,de=w.transform,Ae=g.paint.get("fill-extrusion-pattern"),Ce=Ae.constantOr(1),Me=g.paint.get("fill-extrusion-opacity"),He=w.style.enable3dLights(),$e=g.paint.get(He&&!Ce?"fill-extrusion-ambient-occlusion-wall-radius":"fill-extrusion-ambient-occlusion-radius"),Ke=[g.paint.get("fill-extrusion-ambient-occlusion-intensity"),$e],Fe=g.layout.get("fill-extrusion-edge-radius"),Ze=Fe>0&&!g.paint.get("fill-extrusion-rounded-roof"),pt=Ze?0:Fe,st=de.projection.name==="globe"?a.cF():0,At=de.projection.name==="globe",qe=At?a.S(de.zoom):0,mt=[a.a5(de.center.lng),a.ae(de.center.lat)],Ft=g.paint.get("fill-extrusion-flood-light-color").toArray01().slice(0,3),Ot=g.paint.get("fill-extrusion-flood-light-intensity"),Qt=g.paint.get("fill-extrusion-vertical-scale"),fn=el(w,g.paint.get("fill-extrusion-cutoff-fade-range")),Wt=g.paint.get("fill-extrusion-emissive-strength"),xn=[];let _n;At&&xn.push("PROJECTION_GLOBE_VIEW"),Ke[0]>0&&xn.push("FAUX_AO"),Ze&&xn.push("ZERO_ROOF_RADIUS"),$&&xn.push("HAS_CENTROID"),Ot>0&&xn.push("FLOOD_LIGHT"),fn.shouldRenderCutoff&&xn.push("RENDER_CUTOFF");const $n=w.renderPass==="shadow",Yt=w.shadowRenderer,mn=$n&&!!Yt;w.shadowRenderer&&(w.shadowRenderer.useNormalOffset=!0);let $t=[0,0,0];if(Yt){const ir=w.style.directionalLight,nr=w.style.ambientLight;ir&&nr&&($t=jl(ir,nr)),_n=xn.concat(["SHADOWS_SINGLE_CASCADE"])}const on=mn?"fillExtrusionDepth":Ce?"fillExtrusionPattern":"fillExtrusion",Kn=g.getLayerRenderingStats();for(const ir of x){const nr=d.getTile(ir),pr=nr.getBucket(g);if(!pr||pr.projection.name!==de.projection.name)continue;let Ir=!1;Yt&&(Ir=Yt.getMaxCascadeForTile(ir.toUnwrapped())===0);const jr=w.isTileAffectedByFog(ir),Nr=pr.programConfigurations.get(g.id),zr=w.getOrCreateProgram(on,{config:Nr,defines:Ir?_n:xn,overrideFog:jr});if(w.terrain&&w.terrain.setupElevationDraw(nr,zr,{useMeterToDem:!0}),!pr.centroidVertexBuffer){const es=zr.attributes.a_centroid_pos;es!==void 0&&ae.vertexAttrib2f(es,0,0)}!$n&&Yt&&Yt.setupShadows(nr.tileID.toUnwrapped(),zr,"vector-tile",nr.tileID.overscaledZ),Ce&&(w.context.activeTexture.set(ae.TEXTURE0),nr.imageAtlasTexture&&nr.imageAtlasTexture.bind(ae.LINEAR,ae.CLAMP_TO_EDGE),Nr.updatePaintBuffers());const Fi=Ae.constantOr(null);if(Fi&&nr.imageAtlas){const es=nr.imageAtlas.patternPositions[Fi.toString()];es&&Nr.setConstantPatternPositions(es)}const hi=g.paint.get("fill-extrusion-vertical-gradient");let Ci;if($n&&Yt){if(Qn(nr.tileID,pr,w))continue;const es=Yt.calculateShadowPassMatrixFromTile(nr.tileID.toUnwrapped());Ci=vh(es,pt,Qt)}else{const es=w.translatePosMatrix(ir.expandedProjMatrix,nr,g.paint.get("fill-extrusion-translate"),g.paint.get("fill-extrusion-translate-anchor")),Wi=de.projection.createInversionMatrix(de,ir.canonical);Ci=Ce?tl(es,w,hi,Me,Ke,pt,ir,nr,st,qe,mt,Wi,Ft,Qt):x0(es,w,hi,Me,Ke,pt,ir,st,qe,mt,Wi,Ft,Qt,Ot,$t,Wt)}w.uploadCommonUniforms(Y,zr,ir.toUnwrapped(),null,fn);let bi=pr.segments;if(de.projection.name==="mercator"&&!$n&&(bi=pr.getVisibleSegments(nr.tileID,w.terrain,w.transform.getFrustum(0)),!bi.get().length))continue;if(Kn)if($n)for(const es of bi.get())Kn.numRenderedVerticesInShadowPass+=es.primitiveLength;else for(const es of bi.get())Kn.numRenderedVerticesInTransparentPass+=es.primitiveLength;const na=[];(w.terrain||$)&&na.push(pr.centroidVertexBuffer),At&&na.push(pr.layoutVertexExtBuffer),zr.draw(w,Y.gl.TRIANGLES,B,L,D,Vr.backCCW,Ci,g.id,pr.layoutVertexBuffer,pr.indexBuffer,bi,g.paint,w.transform.zoom,Nr,na)}w.shadowRenderer&&(w.shadowRenderer.useNormalOffset=!1)}function nn(w,d,g,x,B,L,D,$,Y,ae,de,Ae,Ce,Me,He,$e,Ke,Fe,Ze){const pt=w.context,st=pt.gl,At=w.transform,qe=w.transform.zoom,mt=[],Ft=el(w,g.paint.get("fill-extrusion-cutoff-fade-range"));ae==="clear"?(mt.push("CLEAR_SUBPASS"),Ze&&(mt.push("CLEAR_FROM_TEXTURE"),pt.activeTexture.set(st.TEXTURE0),Ze.bind(st.LINEAR,st.CLAMP_TO_EDGE))):ae==="sdf"&&mt.push("SDF_SUBPASS"),Ke&&mt.push("HAS_CENTROID"),Ft.shouldRenderCutoff&&mt.push("RENDER_CUTOFF");const Ot=g.layout.get("fill-extrusion-edge-radius"),Qt=(fn,Wt,xn,_n,$n)=>{const Yt=Wt.programConfigurations.get(g.id),mn=w.isTileAffectedByFog(fn),$t=w.getOrCreateProgram("fillExtrusionGroundEffect",{config:Yt,defines:mt,overrideFog:mn}),on=((ir,nr,pr,Ir,jr,Nr,zr,Fi,hi,Ci,bi)=>({u_matrix:nr,u_opacity:pr,u_ao_pass:Ir?1:0,u_meter_to_tile:jr,u_ao:Nr,u_flood_light_intensity:zr,u_flood_light_color:Fi,u_attenuation:hi,u_edge_radius:Ci,u_fb:0,u_fb_size:bi}))(0,_n,de,Y,$n,[Ae,Ce*$n],Me,He,$e,qe>=17?0:Ot*$n,Ze?Ze.size[0]:0),Kn=[];Ke&&Kn.push(Wt.hiddenByLandmarkVertexBuffer),w.uploadCommonUniforms(pt,$t,fn.toUnwrapped(),null,Ft),$t.draw(w,pt.gl.TRIANGLES,B,L,D,$,on,g.id,Wt.vertexBuffer,Wt.indexBuffer,xn,g.paint,qe,Yt,Kn)};for(const fn of x){const Wt=d.getTile(fn),xn=Wt.getBucket(g);if(!xn||xn.projection.name!==At.projection.name||!xn.groundEffect||xn.groundEffect&&!xn.groundEffect.hasData())continue;const _n=xn.groundEffect,$n=1/xn.tileToMeter;{const Yt=w.translatePosMatrix(fn.projMatrix,Wt,g.paint.get("fill-extrusion-translate"),g.paint.get("fill-extrusion-translate-anchor")),mn=_n.getDefaultSegment();Qt(fn,_n,mn,Yt,$n)}if(Fe)for(let Yt=0;Yt<4;Yt++){const mn=a.cG[Yt](fn),$t=d.getTile(mn);if(!$t)continue;const on=$t.getBucket(g);if(!on||on.projection.name!==At.projection.name||!on.groundEffect||on.groundEffect&&!on.groundEffect.hasData())continue;const Kn=on.groundEffect;let ir,nr;Yt===0?(ir=[-a.V,0,0],nr=1):Yt===1?(ir=[a.V,0,0],nr=0):Yt===2?(ir=[0,-a.V,0],nr=3):(ir=[0,a.V,0],nr=2);const pr=Kn.regionSegments[nr];if(!pr)continue;const Ir=new Float32Array(16);a.a6.translate(Ir,fn.projMatrix,ir),Qt(fn,Kn,pr,w.translatePosMatrix(Ir,Wt,g.paint.get("fill-extrusion-translate"),g.paint.get("fill-extrusion-translate-anchor")),$n)}}}function Bn(w,d,g,x,B,L,D){x.centroidVertexArray.length===0&&x.createCentroidsBuffer();const $=L?L.findDEMTileFor(g):null;if(!($&&$.dem||D))return;const Y=Fe=>new a.P(Math.ceil((Fe+a.cJ)*a.cK),0),ae=Fe=>{const Ze=d.getSource().minzoom,pt=At=>{const qe=d.getTileByID(At);if(qe&&qe.hasData())return qe.getBucket(B)},st=[0,-1,1];for(const At of st){if(Fe.overscaledZ+At<Ze)continue;const qe=pt(Fe.calculateScaledKey(Fe.overscaledZ+At));if(qe)return qe}},de=[0,0,0],Ae=(Fe,Ze)=>(de[0]=Math.min(Fe.min.y,Ze.min.y),de[1]=Math.max(Fe.max.y,Ze.max.y),de[2]=a.V-Ze.min.x>Fe.max.x?Ze.min.x-a.V:Fe.max.x,de),Ce=(Fe,Ze)=>(de[0]=Math.min(Fe.min.x,Ze.min.x),de[1]=Math.max(Fe.max.x,Ze.max.x),de[2]=a.V-Ze.min.y>Fe.max.y?Ze.min.y-a.V:Fe.max.y,de),Me=[(Fe,Ze)=>Ae(Fe,Ze),(Fe,Ze)=>Ae(Ze,Fe),(Fe,Ze)=>Ce(Fe,Ze),(Fe,Ze)=>Ce(Ze,Fe)],He=(Fe,Ze,pt,st,At,qe,mt)=>{if(!L)return 0;const Ft=[[qe?pt:Fe,qe?Fe:pt,0],[qe?pt:Ze,qe?Ze:pt,0]],Ot=mt<0?a.V+mt:mt,Qt=[qe?Ot:(Fe+Ze)/2,qe?(Fe+Ze)/2:Ot,0];return pt===0&&mt<0||pt!==0&&mt>0?L.getForTilePoints(At,[Qt],!0,st):Ft.push(Qt),L.getForTilePoints(g,Ft,!0,$),Math.max(Ft[0][2],Ft[1][2],Qt[2])/L.exaggeration()};for(let Fe=0;Fe<4;Fe++){const Ze=x.borderFeatureIndices[Fe];if(Ze.length===0)continue;const pt=a.cG[Fe](g),st=ae(pt);if(!(st&&st instanceof a.cH)||x.borderDoneWithNeighborZ[Fe]===st.canonical.z)continue;st.centroidVertexArray.length===0&&st.createCentroidsBuffer();const At=L?L.findDEMTileFor(pt):null;if(!(At&&At.dem||D))continue;const qe=(Fe<2?1:5)-Fe,mt=st.borderDoneWithNeighborZ[qe]!==x.canonical.z,Ft=st.borderFeatureIndices[qe];let Ot=0;if(x.canonical.z!==st.canonical.z){for(const Qt of Ze)x.showCentroid(x.featuresOnBorder[Qt]);if(mt)for(const Qt of Ft)st.showCentroid(st.featuresOnBorder[Qt]);x.borderDoneWithNeighborZ[Fe]=st.canonical.z,st.borderDoneWithNeighborZ[qe]=x.canonical.z}for(const Qt of Ze){const fn=x.featuresOnBorder[Qt],Wt=x.centroidData[fn.centroidDataIndex],xn=fn.borders[Fe];let _n;for(;Ot<Ft.length;){_n=st.featuresOnBorder[Ft[Ot]];const $n=_n.borders[qe];if($n[1]>xn[0]+3||$n[0]>xn[0]-3)break;st.showCentroid(_n),Ot++}if(_n&&Ot<Ft.length){const $n=Ot;let Yt=0;for(;!(_n.borders[qe][0]>xn[1]-3)&&(Yt++,++Ot!==Ft.length);)_n=st.featuresOnBorder[Ft[Ot]];if(_n=st.featuresOnBorder[Ft[$n]],Yt>1){const on=_n.borders[qe];Math.abs(xn[0]-on[0])<3&&Math.abs(xn[1]-on[1])<3&&(Yt=1,Ot=$n+1)}else if(Yt===0){x.showCentroid(fn);continue}const mn=st.centroidData[_n.centroidDataIndex];D&&Yt===1&&((($e=Wt).flags|(Ke=mn).flags)&a.cI?($e.flags|=a.cI,Ke.flags|=a.cI):($e.flags&=~a.cI,Ke.flags&=~a.cI));const $t=fn.intersectsCount()>1||_n.intersectsCount()>1;if(Yt>1)Ot=$n,Wt.centroidXY=mn.centroidXY=new a.P(0,0);else if(At&&At.dem&&!$t){const on=Me[Fe](Wt,mn),Kn=Fe%2?a.V-1:0,ir=He(on[0],Math.min(a.V-1,on[1]),Kn,At,pt,Fe<2,on[2]);Wt.centroidXY=mn.centroidXY=Y(ir)}else $t?Wt.centroidXY=mn.centroidXY=new a.P(0,0):(Wt.centroidXY=x.encodeBorderCentroid(fn),mn.centroidXY=st.encodeBorderCentroid(_n));x.writeCentroidToBuffer(Wt),st.writeCentroidToBuffer(mn)}else x.showCentroid(fn)}x.borderDoneWithNeighborZ[Fe]=st.canonical.z,st.borderDoneWithNeighborZ[qe]=x.canonical.z}var $e,Ke;(x.needsCentroidUpdate||!x.centroidVertexBuffer&&x.centroidVertexArray.length!==0)&&x.uploadCentroid(w)}const Mn=[1,0,0],An=[0,1,0],hr=[0,0,1];function Qn(w,d,g){const x=g.transform,B=g.shadowRenderer;if(!B)return!0;const L=w.toUnwrapped(),D=x.tileSize*B._cascades[g.currentShadowCascade].scale;let $=d.maxHeight;if(x.elevation){const $e=x.elevation.getMinMaxForTile(w);$e&&($+=$e.max)}const Y=[...B.shadowDirection];Y[2]=-Y[2];const ae=B.computeSimplifiedTileShadowVolume(L,$,D,Y);if(!ae)return!1;const de=[Mn,An,hr,Y,[Y[0],0,Y[2]],[0,Y[1],Y[2]]],Ae=x.projection.name==="globe",Ce=x.scaleZoom(D),Me=a.bq.fromInvProjectionMatrix(x.invProjMatrix,x.worldSize,Ce,!Ae),He=B.getCurrentCascadeFrustum();return Me.intersectsPrecise(ae.vertices,ae.planes,de)===0||He.intersectsPrecise(ae.vertices,ae.planes,de)===0}function ln(w){return[w[0]*a.cL,w[1]*a.cL,w[2]*a.cL,0]}function dn(w,d,g,x,B,L,D,$,Y){const ae=x.getSource(),de=g.globeSharedBuffers;if(!de)return;let Ae,Ce,Me;if(d&&(Ae=x.getTile(d)),ae instanceof a.ap?(Ce=ae.texture,Me=a.cj(0,0,g.transform)):Ae&&d&&(Ce=Ae.texture,Me=a.cj(d.canonical.z,d.canonical.x,g.transform)),!Ce||!Me)return;w||(Me=a.a6.scale(a.a6.create(),Me,[1,-1,1]));const He=g.context,$e=He.gl,Ke=B.paint.get("raster-resampling")==="nearest"?$e.NEAREST:$e.LINEAR,Fe=g.colorModeForDrapableLayerRenderPass(L),Ze=D.defines;Ze.push("GLOBE_POLES");const pt=new rr($e.LEQUAL,rr.ReadWrite,g.depthRangeFor3D),st=Float32Array.from(g.transform.expandedFarZProjMatrix),At=Float32Array.from(a.aT(a.ci(new a.bs(0,0,0))));g.terrain&&g.terrain.prepareDrawTile(),He.activeTexture.set($e.TEXTURE0),Ce.bind(Ke,$e.CLAMP_TO_EDGE),He.activeTexture.set($e.TEXTURE1),Ce.bind(Ke,$e.CLAMP_TO_EDGE),Ce.useMipmap&&He.extTextureFilterAnisotropic&&g.transform.pitch>20&&$e.texParameterf($e.TEXTURE_2D,He.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,He.extTextureFilterAnisotropicMax);const[qe,mt,Ft,Ot]=d?de.getPoleBuffers(d.canonical.z,!1):de.getPoleBuffers(0,!0),Qt=B.paint.get("raster-elevation");let fn;w?(fn=qe,g.renderDefaultNorthPole=Qt!==0):(fn=mt,g.renderDefaultSouthPole=Qt!==0);const Wt=ln(D.mix),xn=(($n,Yt,mn,$t,on,Kn,ir,nr,pr,Ir,jr,Nr,zr)=>Wm($n,Yt,mn,new Float32Array(16),new Float32Array(9),[0,0],$t,[0,0],[0,0,0,0],1,{opacity:1,mix:0},Kn,[0,0],nr,2,Ir,jr,Nr,1,0,zr))(st,At,Me,a.S(g.transform.zoom),0,B,0,Qt,0,Wt,D.offset,D.range,L),_n=g.getOrCreateProgram("raster",{defines:Ze});g.uploadCommonUniforms(He,_n,null),_n.draw(g,$e.TRIANGLES,pt,Y,Fe,$,xn,B.id,fn,Ft,Ot)}function sr(w){const d=w._nearZ,g=w.projection.farthestPixelDistance(w),x=g-d,B=.2*w.height,L=d+B;return[d,g,(L-B-d)/x,(L-d)/x]}function fr(w,d,g,x){if(w)return d instanceof Pn&&w instanceof uh?d.getTextureDescriptor(w,g,!0):{texture:w.texture,mix:ln(x.mix),offset:x.offset,buffer:0,tileSize:1}}function ur(w,d,g){if(!w)return null;const x=d.getTextureDescriptor(w,g,!0);if(!x)return null;let{texture:B,mix:L,offset:D,tileSize:$,buffer:Y,format:ae}=x;if(!B||!ae)return null;let de=!1;return ae==="uint32"&&(de=!0,L[3]=0,L=rp(a.cM,L,[0,g.paint.get("raster-particle-max-speed")]),D=CA(a.cM,D,[0,g.paint.get("raster-particle-max-speed")])),{texture:B,textureOffset:[Y/($+2*Y),$/($+2*Y)],tileSize:$,scalarData:de,scale:L,offset:D,defines:["RASTER_ARRAY",{uint8:"DATA_FORMAT_UINT8",uint16:"DATA_FORMAT_UINT16",uint32:"DATA_FORMAT_UINT32"}[ae]]}}function Zr(w){const d=w._nearZ,g=w.projection.farthestPixelDistance(w),x=g-d,B=.2*w.height,L=d+B;return[d,g,(L-B-d)/x,(L-d)/x]}const Er=new a.ax(1,0,0,1),yi=new a.ax(0,1,0,1),Gr=new a.ax(0,0,1,1),Wa=new a.ax(1,0,1,1),as=new a.ax(0,1,1,1);function Ea(w,d,g,x,B,L,D){const $=w.context,Y=w.transform,ae=$.gl,de=Y.projection.name==="globe",Ae=de?["PROJECTION_GLOBE_VIEW"]:[];let Ce=a.a6.clone(g.projMatrix);if(de&&a.S(Y.zoom)>0){const Wt=a.aS(g.canonical,Y),xn=a.cN(Wt);Ce=a.a6.multiply(new Float32Array(16),Y.globeMatrix,xn),a.a6.multiply(Ce,Y.projMatrix,Ce)}const Me=a.a6.create();Me[12]+=2*B/(a.f.devicePixelRatio*Y.width),Me[13]+=2*L/(a.f.devicePixelRatio*Y.height),a.a6.multiply(Ce,Me,Ce);const He=w.getOrCreateProgram("debug",{defines:Ae}),$e=d.getTileByID(g.key);w.terrain&&w.terrain.setupElevationDraw($e,He);const Ke=rr.disabled,Fe=si.disabled,Ze=w.colorModeForRenderPass(),pt="$debug";$.activeTexture.set(ae.TEXTURE0),w.emptyTexture.bind(ae.LINEAR,ae.CLAMP_TO_EDGE),de?$e._makeGlobeTileDebugBuffers(w.context,Y):$e._makeDebugTileBoundsBuffers(w.context,Y.projection);const st=$e._tileDebugBuffer||w.debugBuffer,At=$e._tileDebugIndexBuffer||w.debugIndexBuffer,qe=$e._tileDebugSegments||w.debugSegments;if(He.draw(w,ae.LINE_STRIP,Ke,Fe,Ze,Vr.disabled,C0(Ce,x),pt,st,At,qe,null,null,null,[$e._globeTileDebugBorderBuffer]),D){const Wt=$e.latestRawTileData,xn=Math.floor((Wt&&Wt.byteLength||0)/1024);let _n=g.canonical.toString();g.overscaledZ!==g.canonical.z&&(_n+=` => ${g.overscaledZ}`),_n+=` ${$e.state}`,_n+=` ${xn}kb`,function($n,Yt){$n.initDebugOverlayCanvas();const mn=$n.debugOverlayCanvas,$t=$n.context.gl,on=$n.debugOverlayCanvas.getContext("2d");on.clearRect(0,0,mn.width,mn.height),on.shadowColor="white",on.shadowBlur=2,on.lineWidth=1.5,on.strokeStyle="white",on.textBaseline="top",on.font="bold 36px Open Sans, sans-serif",on.fillText(Yt,5,5),on.strokeText(Yt,5,5),$n.debugOverlayTexture.update(mn),$n.debugOverlayTexture.bind($t.LINEAR,$t.CLAMP_TO_EDGE)}(w,_n)}const mt=d.getTile(g).tileSize,Ft=512/Math.min(mt,512)*(g.overscaledZ/Y.zoom)*.5,Ot=$e._tileDebugTextBuffer||w.debugBuffer,Qt=$e._tileDebugTextIndexBuffer||w.quadTriangleIndexBuffer,fn=$e._tileDebugTextSegments||w.debugSegments;He.draw(w,ae.TRIANGLES,Ke,Fe,Mi.alphaBlended,Vr.disabled,C0(Ce,a.ax.transparent,Ft),pt,Ot,Qt,fn,null,null,null,[$e._globeTileDebugTextBuffer])}function Pa(w,d,g,x){Pi(w,0,d+g/2,w.transform.width,g,x)}function Ma(w,d,g,x){Pi(w,d-g/2,0,g,w.transform.height,x)}function Pi(w,d,g,x,B,L){const D=w.context,$=D.gl;$.enable($.SCISSOR_TEST),$.scissor(d*a.f.devicePixelRatio,g*a.f.devicePixelRatio,x*a.f.devicePixelRatio,B*a.f.devicePixelRatio),D.clear({color:L}),$.disable($.SCISSOR_TEST)}const aa=a.ay([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:fo}=aa;function po(w,d,g,x){w.emplaceBack(d,g,x)}class Ao{constructor(d){this.vertexArray=new a.az,this.indices=new a.aw,po(this.vertexArray,-1,-1,1),po(this.vertexArray,1,-1,1),po(this.vertexArray,-1,1,1),po(this.vertexArray,1,1,1),po(this.vertexArray,-1,-1,-1),po(this.vertexArray,1,-1,-1),po(this.vertexArray,-1,1,-1),po(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=d.createVertexBuffer(this.vertexArray,fo),this.indexBuffer=d.createIndexBuffer(this.indices),this.segment=a.aB.simpleSegment(0,0,36,12)}}function Do(w,d,g,x,B,L){const D=w.context.gl,$=d.paint.get("sky-atmosphere-color"),Y=d.paint.get("sky-atmosphere-halo-color"),ae=d.paint.get("sky-atmosphere-sun-intensity"),de=((Ae,Ce,Me,He,$e)=>({u_matrix_3f:Ae,u_sun_direction:Ce,u_sun_intensity:Me,u_color_tint_r:[He.r,He.g,He.b,He.a],u_color_tint_m:[$e.r,$e.g,$e.b,$e.a],u_luminance:5e-5}))(a.co.fromMat4(a.co.create(),x),B,ae,$,Y);D.framebufferTexture2D(D.FRAMEBUFFER,D.COLOR_ATTACHMENT0,D.TEXTURE_CUBE_MAP_POSITIVE_X+L,d.skyboxTexture,0),g.draw(w,D.TRIANGLES,rr.disabled,si.disabled,Mi.unblended,Vr.frontCW,de,"skyboxCapture",d.skyboxGeometry.vertexBuffer,d.skyboxGeometry.indexBuffer,d.skyboxGeometry.segment)}const ls=a.ay([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class nl{constructor(d){const g=new a.cO;g.emplaceBack(-1,1,1,0,0),g.emplaceBack(1,1,1,1,0),g.emplaceBack(1,-1,1,1,1),g.emplaceBack(-1,-1,1,0,1);const x=new a.aw;x.emplaceBack(0,1,2),x.emplaceBack(2,3,0),this.vertexBuffer=d.createVertexBuffer(g,ls.members),this.indexBuffer=d.createIndexBuffer(x),this.segments=a.aB.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const pl=a.ay([{type:"Float32",name:"a_pos_3f",components:3},{type:"Float32",name:"a_uv",components:2},{type:"Float32",name:"a_size_scale",components:1},{type:"Float32",name:"a_fade_opacity",components:1}]);class jn{constructor(){this.starsCount=16e3,this.sizeMultiplier=.15,this.sizeRange=100,this.intensityRange=200}}class Cr{constructor(d){this.colorModeAlphaBlendedWriteRGB=new Mi([1,dl,1,dl],a.ax.transparent,[!0,!0,!0,!1]),this.colorModeWriteAlpha=new Mi([1,0,1,0],a.ax.transparent,[!1,!1,!1,!0]),this.params=new jn,this.updateNeeded=!0,d.tp.registerParameter(this.params,["Stars"],"starsCount",{min:100,max:16e3,step:1},()=>{this.updateNeeded=!0}),d.tp.registerParameter(this.params,["Stars"],"sizeMultiplier",{min:.01,max:2,step:.01}),d.tp.registerParameter(this.params,["Stars"],"sizeRange",{min:0,max:200,step:1},()=>{this.updateNeeded=!0}),d.tp.registerParameter(this.params,["Stars"],"intensityRange",{min:0,max:200,step:1},()=>{this.updateNeeded=!0})}update(d){const g=d.context;if(!this.atmosphereBuffer||this.updateNeeded){this.updateNeeded=!1,this.atmosphereBuffer=new nl(g);const x=this.params.sizeRange,B=this.params.intensityRange,L=function(de){const Ae=a.aA(30),Ce=[];for(let Me=0;Me<de;++Me){const He=2*Math.PI*Ae(),$e=Math.acos(1-2*Ae())-.5*Math.PI;Ce.push(a.N.fromValues(Math.cos($e)*Math.cos(He),Math.cos($e)*Math.sin(He),Math.sin($e)))}return Ce}(this.params.starsCount),D=a.aA(300),$=new a.cP,Y=new a.aw;let ae=0;for(let de=0;de<L.length;++de){const Ae=a.N.scale([],L[de],200),Ce=Math.max(0,1+.01*x*(1*D()-.5)),Me=Math.max(0,1+.01*B*(1*D()-.5));$.emplaceBack(Ae[0],Ae[1],Ae[2],-1,-1,Ce,Me),$.emplaceBack(Ae[0],Ae[1],Ae[2],1,-1,Ce,Me),$.emplaceBack(Ae[0],Ae[1],Ae[2],1,1,Ce,Me),$.emplaceBack(Ae[0],Ae[1],Ae[2],-1,1,Ce,Me),Y.emplaceBack(ae+0,ae+1,ae+2),Y.emplaceBack(ae+0,ae+2,ae+3),ae+=4}this.starsVx=g.createVertexBuffer($,pl.members),this.starsIdx=g.createIndexBuffer(Y),this.starsSegments=a.aB.simpleSegment(0,0,$.length,Y.length)}}destroy(){this.atmosphereBuffer&&this.atmosphereBuffer.destroy(),this.starsVx&&this.starsVx.destroy(),this.starsIdx&&this.starsIdx.destroy()}drawAtmosphereGlow(d,g){const x=d.context,B=x.gl,L=d.transform,D=new rr(B.LEQUAL,rr.ReadOnly,[0,1]),$=a.S(L.zoom),Y=g.properties.get("color").toArray01(),ae=g.properties.get("high-color").toArray01(),de=g.properties.get("space-color").toArray01PremultipliedAlpha(),Ae=5e-4,Ce=a.cQ(g.properties.get("horizon-blend"),0,1,Ae,.25),Me=a.cd(d,x,L)&&Ce===Ae?L.worldSize/(2*Math.PI*1.025)-1:L.globeRadius,He=d.frameCounter/1e3%1,$e=a.N.length(L.globeCenterInViewSpace),Ke=Math.sqrt(Math.pow($e,2)-Math.pow(Me,2)),Fe=Math.acos(Ke/$e),Ze=pt=>{const st=L.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"];pt&&st.push("ALPHA_PASS");const At=d.getOrCreateProgram("globeAtmosphere",{defines:st}),qe=((Ft,Ot,Qt,fn,Wt,xn,_n,$n,Yt,mn,$t,on)=>({u_frustum_tl:Ft,u_frustum_tr:Ot,u_frustum_br:Qt,u_frustum_bl:fn,u_horizon:Wt,u_transition:xn,u_fadeout_range:_n,u_color:$n,u_high_color:Yt,u_space_color:mn,u_temporal_offset:$t,u_horizon_angle:on}))(L.frustumCorners.TL,L.frustumCorners.TR,L.frustumCorners.BR,L.frustumCorners.BL,L.frustumCorners.horizon,$,Ce,Y,ae,de,He,Fe);d.uploadCommonUniforms(x,At);const mt=this.atmosphereBuffer;mt&&At.draw(d,B.TRIANGLES,D,si.disabled,pt?this.colorModeWriteAlpha:this.colorModeAlphaBlendedWriteRGB,Vr.backCW,qe,pt?"atmosphere_glow_alpha":"atmosphere_glow",mt.vertexBuffer,mt.indexBuffer,mt.segments)};Ze(!1),Ze(!0)}drawStars(d,g){const x=a.aa(g.properties.get("star-intensity"),0,1);if(x===0)return;const B=d.context,L=B.gl,D=d.transform,$=d.getOrCreateProgram("stars"),Y=a.bi.identity([]);a.bi.rotateX(Y,Y,-D._pitch),a.bi.rotateZ(Y,Y,-D.angle),a.bi.rotateX(Y,Y,a.bj(D._center.lat)),a.bi.rotateY(Y,Y,-a.bj(D._center.lng));const ae=a.a6.fromQuat(new Float32Array(16),Y),de=a.a6.multiply([],D.starsProjMatrix,ae),Ae=a.co.fromMat4([],ae),Ce=a.co.invert([],Ae),Me=[0,1,0];a.N.transformMat3(Me,Me,Ce),a.N.scale(Me,Me,this.params.sizeMultiplier);const He=[1,0,0];a.N.transformMat3(He,He,Ce),a.N.scale(He,He,this.params.sizeMultiplier);const $e=(Ke=Me,Fe=He,Ze=x,{u_matrix:Float32Array.from(de),u_up:Ke,u_right:Fe,u_intensity_multiplier:Ze});var Ke,Fe,Ze;d.uploadCommonUniforms(B,$),this.starsVx&&this.starsIdx&&$.draw(d,L.TRIANGLES,rr.disabled,si.disabled,this.colorModeAlphaBlendedWriteRGB,Vr.disabled,$e,"atmosphere_stars",this.starsVx,this.starsIdx,this.starsSegments)}}function Bo(w,d){const g=[...w],x=d.cameraWorldSizeForFog/d.worldSize,B=a.a6.identity([]);return a.a6.scale(B,B,[x,x,1]),a.a6.multiply(g,B,g),a.a6.multiply(g,d.worldToFogMatrix,g),g}function Ia(w,d,g,x){const B=g.material,L=x.context,{baseColorTexture:D,metallicRoughnessTexture:$}=B.pbrMetallicRoughness,{normalTexture:Y,occlusionTexture:ae,emissionTexture:de}=B;function Ae(Ce,Me,He){if(Ce&&(w.push(Me),L.activeTexture.set(L.gl.TEXTURE0+He),Ce.gfxTexture)){const{minFilter:$e,magFilter:Ke,wrapS:Fe,wrapT:Ze}=Ce.sampler;Ce.gfxTexture.bindExtraParam($e,Ke,Fe,Ze)}}Ae(D,"HAS_TEXTURE_u_baseColorTexture",zs.BaseColor),Ae($,"HAS_TEXTURE_u_metallicRoughnessTexture",zs.MetallicRoughness),Ae(Y,"HAS_TEXTURE_u_normalTexture",zs.Normal),Ae(ae,"HAS_TEXTURE_u_occlusionTexture",zs.Occlusion),Ae(de,"HAS_TEXTURE_u_emissionTexture",zs.Emission),g.texcoordBuffer&&(w.push("HAS_ATTRIBUTE_a_uv_2f"),d.push(g.texcoordBuffer)),g.colorBuffer&&(w.push(g.colorBuffer.itemSize===12?"HAS_ATTRIBUTE_a_color_3f":"HAS_ATTRIBUTE_a_color_4f"),d.push(g.colorBuffer)),g.normalBuffer&&(w.push("HAS_ATTRIBUTE_a_normal_3f"),d.push(g.normalBuffer)),g.pbrBuffer&&(w.push("HAS_ATTRIBUTE_a_pbr"),w.push("HAS_ATTRIBUTE_a_heightBasedEmissiveStrength"),d.push(g.pbrBuffer)),B.alphaMode!=="OPAQUE"&&B.alphaMode!=="MASK"||w.push("UNPREMULT_TEXTURE_IN_SHADER"),B.defined||w.push("DIFFUSE_SHADED"),w.push("USE_STANDARD_DERIVATIVES")}function Lu(w,d,g,x,B,L){const D=g.paint.get("model-opacity"),$=d.context,Y=new rr(d.context.gl.LEQUAL,rr.ReadWrite,d.depthRangeFor3D),ae=d.transform,de=w.mesh,Ae=de.material,Ce=Ae.pbrMetallicRoughness,Me=d.style.fog;let He;He=d.transform.projection.zAxisUnit==="pixels"?[...w.nodeModelMatrix]:a.a6.multiply([],x.zScaleMatrix,w.nodeModelMatrix),a.a6.multiply(He,x.negCameraPosMatrix,He);const $e=a.a6.invert([],He);a.a6.transpose($e,$e);const Ke=g.paint.get("model-emissive-strength").constantOr(0),Fe=ip(new Float32Array(w.worldViewProjection),new Float32Array(He),new Float32Array($e),d,D,Ce.baseColorFactor,Ae.emissiveFactor,Ce.metallicFactor,Ce.roughnessFactor,Ae,Ke,g),Ze={defines:[]},pt=[];Ia(Ze.defines,pt,de,d);const st=d.shadowRenderer;st&&(st.useNormalOffset=!1);let At=null;if(Me){const Ft=Bo(w.nodeModelMatrix,d.transform);if(At=new Float32Array(Ft),ae.projection.name!=="globe"){const Ot=de.aabb.min,Qt=de.aabb.max,[fn,Wt]=Me.getOpacityForBounds(Ft,Ot[0],Ot[1],Qt[0],Qt[1]);Ze.overrideFog=fn>=tr||Wt>=tr}}const qe=el(d,g.paint.get("model-cutoff-fade-range"));qe.shouldRenderCutoff&&Ze.defines.push("RENDER_CUTOFF");const mt=d.getOrCreateProgram("model",Ze);d.uploadCommonUniforms($,mt,null,At,qe),d.renderPass!=="shadow"&&st&&st.setupShadowsFromMatrix(w.nodeModelMatrix,mt),mt.draw(d,$.gl.TRIANGLES,Y,B,L,de.material.doubleSided?Vr.disabled:Vr.backCCW,Fe,g.id,de.vertexBuffer,de.indexBuffer,de.segments,g.paint,d.transform.zoom,void 0,pt)}function mo(w,d,g,x,B,L,D){let $;$=w.projection.name==="globe"?a.cS(g,w):[...g],a.a6.multiply($,$,d.matrix);const Y=a.a6.multiply([],x,$);if(d.meshes)for(const ae of d.meshes){if(ae.material.alphaMode!=="BLEND"){D.push({mesh:ae,depth:0,modelIndex:B,worldViewProjection:Y,nodeModelMatrix:$});continue}const de=a.N.transformMat4([],ae.centroid,Y);de[2]>0&&L.push({mesh:ae,depth:de[2],modelIndex:B,worldViewProjection:Y,nodeModelMatrix:$})}if(d.children)for(const ae of d.children)mo(w,ae,g,x,B,L,D)}function rn(w,d,g,x){const B=g.shadowRenderer;if(!B)return;const L=B.getShadowPassDepthMode(),D=B.getShadowPassColorMode(),$=B.calculateShadowPassMatrixFromMatrix(d),Y=Xm($);g.getOrCreateProgram("modelDepth",{defines:g._shadowMapDebug?[]:["DEPTH_TEXTURE"]}).draw(g,g.context.gl.TRIANGLES,L,si.disabled,D,Vr.backCCW,Y,x.id,w.vertexBuffer,w.indexBuffer,w.segments,x.paint,g.transform.zoom,void 0,void 0)}function hd(w,d,g){const x=d.updateZoomBasedPaintProperties(),B=function(L,D,$){let Y,ae,de,Ae=L.terrain?L.terrain.exaggeration():0;if(L.terrain&&Ae>0){const Ce=L.terrain,Me=Ce.findDEMTileFor($);Me&&Me.dem?Y=a.cU.create(Ce,$,Me):Ae=0}if(Ae===0&&(D.terrainElevationMin=0,D.terrainElevationMax=0),Ae===D.validForExaggeration&&(Ae===0||Y&&Y._demTile&&Y._demTile.tileID===D.validForDEMTile.id&&Y._dem._timestamp===D.validForDEMTile.timestamp))return!1;for(const Ce in D.instancesPerModel){const Me=D.instancesPerModel[Ce];for(let He=0;He<Me.instancedDataArray.length;++He){const $e=(Y?Ae*Y.getElevationAt(0|Me.instancedDataArray.float32[16*He],0|Me.instancedDataArray.float32[16*He+1],!0,!0):0)+Me.instancesEvaluatedElevation[He];Me.instancedDataArray.float32[16*He+6]=$e,ae=ae?Math.min(D.terrainElevationMin,$e):$e,de=de?Math.max(D.terrainElevationMax,$e):$e}}return D.terrainElevationMin=ae||0,D.terrainElevationMax=de||0,D.validForExaggeration=Ae,D.validForDEMTile=Y&&Y._demTile?{id:Y._demTile.tileID,timestamp:Y._dem._timestamp}:{id:void 0,timestamp:0},!0}(w,d,g);(x||B)&&(d.uploaded=!1,d.upload(w.context))}const rl={shadowUniformsInitialized:!1,useSingleShadowCascade:!1,tileMatrix:new Float64Array(16),shadowTileMatrix:new Float32Array(16),aabb:new a.bS([0,0,0],[a.V,a.V,0])};function dd(w,d){const g=1<<w.canonical.z,x=d.getFreeCameraOptions().position,B=d.elevation,L=w.canonical.x/g,D=(w.canonical.x+1)/g,$=w.canonical.y/g,Y=(w.canonical.y+1)/g;let ae=d._centerAltitude;if(B){const Me=B.getMinMaxForTile(w);Me&&Me.max>ae&&(ae=Me.max)}const de=a.aa(x.x,L,D)-x.x,Ae=a.aa(x.y,$,Y)-x.y,Ce=a.bl(ae,d.center.lat)-x.z;return d._zoomFromMercatorZ(Math.sqrt(de*de+Ae*Ae+Ce*Ce))}function Ys(w,d,g,x,B,L,D){const $=w.context,Y=w.renderPass==="shadow",ae=w.shadowRenderer,de=Y&&ae?ae.getShadowPassDepthMode():new rr($.gl.LEQUAL,rr.ReadWrite,w.depthRangeFor3D),Ae=w.isTileAffectedByFog(L);if(g.meshes)for(const Ce of g.meshes){const Me=["MODEL_POSITION_ON_GPU"],He=[];let $e,Ke,Fe;x.instancedDataArray.length>20&&Me.push("INSTANCED_ARRAYS");const Ze=el(w,d.paint.get("model-cutoff-fade-range"));if(Ze.shouldRenderCutoff&&Me.push("RENDER_CUTOFF"),Y&&ae)$e=w.getOrCreateProgram("modelDepth",{defines:Me}),Ke=Xm(D.shadowTileMatrix,D.shadowTileMatrix,Float32Array.from(g.matrix)),Fe=ae.getShadowPassColorMode();else{Ia(Me,He,Ce,w),$e=w.getOrCreateProgram("model",{defines:Me,overrideFog:Ae});const st=Ce.material,At=st.pbrMetallicRoughness,qe=d.paint.get("model-opacity"),mt=d.paint.get("model-emissive-strength").constantOr(0);Ke=ip(L.expandedProjMatrix,Float32Array.from(g.matrix),new Float32Array(16),w,qe,At.baseColorFactor,st.emissiveFactor,At.metallicFactor,At.roughnessFactor,st,mt,d,B),ae&&(D.shadowUniformsInitialized?$e.setShadowUniformValues($,ae.getShadowUniformValues()):(ae.setupShadows(L.toUnwrapped(),$e,"model-tile",L.overscaledZ),D.shadowUniformsInitialized=!0)),Fe=Ze.shouldRenderCutoff||qe<1||st.alphaMode!=="OPAQUE"?Mi.alphaBlended:Mi.unblended}w.uploadCommonUniforms($,$e,L.toUnwrapped(),null,Ze);const pt=Ce.material.doubleSided?Vr.disabled:Vr.backCCW;if(x.instancedDataArray.length>20)He.push(x.instancedDataBuffer),$e.draw(w,$.gl.TRIANGLES,de,si.disabled,Fe,pt,Ke,d.id,Ce.vertexBuffer,Ce.indexBuffer,Ce.segments,d.paint,w.transform.zoom,void 0,He,x.instancedDataArray.length);else{const st=Y?"u_instance":"u_normal_matrix";for(let At=0;At<x.instancedDataArray.length;++At)Ke[st]=new Float32Array(x.instancedDataArray.arrayBuffer,64*At,16),$e.draw(w,$.gl.TRIANGLES,de,si.disabled,Fe,pt,Ke,d.id,Ce.vertexBuffer,Ce.indexBuffer,Ce.segments,d.paint,w.transform.zoom,void 0,He)}}if(g.children)for(const Ce of g.children)Ys(w,d,Ce,x,B,L,D)}const Zd=[1,-1,1];function $y(w,d,g,x){if(!g.modelManager)return!0;const B=g.modelManager;if(!g.shadowRenderer)return!0;const L=g.shadowRenderer,D=d.aabb;let $=!0,Y=w.maxHeight;if(Y===0){let de=0;for(const Ae in w.instancesPerModel){const Ce=B.getModel(Ae,x);Ce?de=Math.max(de,Math.max(Math.max(Ce.aabb.max[0],Ce.aabb.max[1]),Ce.aabb.max[2])):$=!1}Y=w.maxScale*de*1.41+w.maxVerticalOffset,$&&(w.maxHeight=Y)}D.max[2]=Y,D.min[2]+=w.terrainElevationMin,D.max[2]+=w.terrainElevationMax,a.N.transformMat4(D.min,D.min,d.tileMatrix),a.N.transformMat4(D.max,D.max,d.tileMatrix);const ae=D.intersects(L.getCurrentCascadeFrustum());return g.currentShadowCascade===0&&(w.isInsideFirstShadowMapFrustum=ae===2),ae===0}class Vy{}class Zm{constructor(){this._storage=new Map}getLinesFromTrianglesBuffer(d,g,x){{const Ae=this._storage.get(g.id);if(Ae)return Ae.lastUsedFrameIdx=d,Ae.buf}const B=x.gl,L=B.getBufferParameter(B.ELEMENT_ARRAY_BUFFER,B.BUFFER_SIZE),D=new ArrayBuffer(L),$=new Int16Array(D);B.getBufferSubData(B.ELEMENT_ARRAY_BUFFER,0,new Int16Array(D));const Y=new a.cW;for(let Ae=0;Ae<L/2;Ae+=3){const Ce=$[Ae],Me=$[Ae+1],He=$[Ae+2];Y.emplaceBack(Ce,Me),Y.emplaceBack(Me,He),Y.emplaceBack(He,Ce)}const ae=x.bindVertexArrayOES.current,de=new Vy;return de.buf=new jt(x,Y),de.lastUsedFrameIdx=d,this._storage.set(g.id,de),x.bindVertexArrayOES.set(ae),de.buf}update(d){for(const[g,x]of this._storage)d-x.lastUsedFrameIdx>30&&(x.buf.destroy(),this._storage.delete(g))}destroy(){for(const[d,g]of this._storage)g.buf.destroy(),this._storage.delete(d)}}class fd{registerParameter(d,g,x,B,L){}registerButton(d,g,x){}}const Jd={symbol:function(w,d,g,x,B){if(w.renderPass!=="translucent")return;const L=si.disabled,D=w.colorModeForRenderPass();g.layout.get("text-variable-anchor")&&function(ae,de,Ae,Ce,Me,He,$e){const Ke=de.transform,Fe=Me==="map",Ze=He==="map";for(const pt of ae){const st=Ce.getTile(pt),At=st.getBucket(Ae);if(!At||!At.text||!At.text.segments.get().length)continue;const qe=a.b5(At.textSizeData,Ke.zoom),mt=qs(pt,At.getProjection(),Ke),Ft=Ke.calculatePixelsToTileUnitsMatrix(st),Ot=dh(mt,st.tileID.canonical,Ze,Fe,Ke,At.getProjection(),Ft),Qt=At.hasIconTextFit()&&At.hasIconData();if(qe){const fn=Math.pow(2,Ke.zoom-st.tileID.overscaledZ);ct(At,Fe,Ze,$e,a.cx,Ke,Ot,pt,fn,qe,Qt)}}}(x,w,g,d,g.layout.get("text-rotation-alignment"),g.layout.get("text-pitch-alignment"),B);const $=g.paint.get("icon-opacity").constantOr(1)!==0,Y=g.paint.get("text-opacity").constantOr(1)!==0;g.layout.get("symbol-sort-key").constantOr(1)!==void 0&&($||Y)?dt(w,d,g,x,L,D):($&&dt(w,d,g,x,L,D,{onlyIcons:!0}),Y&&dt(w,d,g,x,L,D,{onlyText:!0})),d.map.showCollisionBoxes&&(re(w,d,g,x,g.paint.get("text-translate"),g.paint.get("text-translate-anchor"),!0),re(w,d,g,x,g.paint.get("icon-translate"),g.paint.get("icon-translate-anchor"),!1))},circle:function(w,d,g,x){if(w.renderPass!=="translucent")return;const B=g.paint.get("circle-opacity"),L=g.paint.get("circle-stroke-width"),D=g.paint.get("circle-stroke-opacity"),$=g.layout.get("circle-sort-key").constantOr(1)!==void 0,Y=g.paint.get("circle-emissive-strength");if(B.constantOr(1)===0&&(L.constantOr(1)===0||D.constantOr(1)===0))return;const ae=w.context,de=ae.gl,Ae=w.transform,Ce=w.depthModeForSublayer(0,rr.ReadOnly),Me=si.disabled,He=w.colorModeForDrapableLayerRenderPass(Y),$e=Ae.projection.name==="globe",Ke=[a.a5(Ae.center.lng),a.ae(Ae.center.lat)],Fe=[];for(let pt=0;pt<x.length;pt++){const st=x[pt],At=d.getTile(st),qe=At.getBucket(g);if(!qe||qe.projection.name!==Ae.projection.name)continue;const mt=qe.programConfigurations.get(g.id),Ft=a.cy(g),Ot=w.isTileAffectedByFog(st);$e&&Ft.push("PROJECTION_GLOBE_VIEW");const Qt=w.getOrCreateProgram("circle",{config:mt,defines:Ft,overrideFog:Ot}),fn=qe.layoutVertexBuffer,Wt=qe.globeExtVertexBuffer,xn=qe.indexBuffer,_n=Ae.projection.createInversionMatrix(Ae,st.canonical),$n={programConfiguration:mt,program:Qt,layoutVertexBuffer:fn,globeExtVertexBuffer:Wt,indexBuffer:xn,uniformValues:a.cz(w,st,At,_n,Ke,g),tile:At};if($){const Yt=qe.segments.get();for(const mn of Yt)Fe.push({segments:new a.aB([mn]),sortKey:mn.sortKey,state:$n})}else Fe.push({segments:qe.segments,sortKey:0,state:$n})}$&&Fe.sort((pt,st)=>pt.sortKey-st.sortKey);const Ze={useDepthForOcclusion:Ae.depthOcclusionForSymbolsAndCircles};for(const pt of Fe){const{programConfiguration:st,program:At,layoutVertexBuffer:qe,globeExtVertexBuffer:mt,indexBuffer:Ft,uniformValues:Ot,tile:Qt}=pt.state,fn=pt.segments;w.terrain&&w.terrain.setupElevationDraw(Qt,At,Ze),w.uploadCommonUniforms(ae,At,Qt.tileID.toUnwrapped()),At.draw(w,de.TRIANGLES,Ce,Me,He,Vr.disabled,Ot,g.id,qe,Ft,fn,g.paint,Ae.zoom,st,[mt])}},heatmap:function(w,d,g,x){if(g.paint.get("heatmap-opacity")!==0)if(w.renderPass==="offscreen"){const B=w.context,L=B.gl,D=si.disabled,$=new Mi([L.ONE,L.ONE,L.ONE,L.ONE],a.ax.transparent,[!0,!0,!0,!0]);(function(Me,He,$e,Ke){const Fe=Me.gl,Ze=He.width*Ke,pt=He.height*Ke;Me.activeTexture.set(Fe.TEXTURE1),Me.viewport.set([0,0,Ze,pt]);let st=$e.heatmapFbo;if(!st||st&&(st.width!==Ze||st.height!==pt)){st&&st.destroy();const At=Fe.createTexture();Fe.bindTexture(Fe.TEXTURE_2D,At),Fe.texParameteri(Fe.TEXTURE_2D,Fe.TEXTURE_WRAP_S,Fe.CLAMP_TO_EDGE),Fe.texParameteri(Fe.TEXTURE_2D,Fe.TEXTURE_WRAP_T,Fe.CLAMP_TO_EDGE),Fe.texParameteri(Fe.TEXTURE_2D,Fe.TEXTURE_MIN_FILTER,Fe.LINEAR),Fe.texParameteri(Fe.TEXTURE_2D,Fe.TEXTURE_MAG_FILTER,Fe.LINEAR),st=$e.heatmapFbo=Me.createFramebuffer(Ze,pt,!0,null),function(qe,mt,Ft,Ot,Qt,fn){const Wt=qe.gl;Wt.texImage2D(Wt.TEXTURE_2D,0,qe.extRenderToTextureHalfFloat?Wt.RGBA16F:Wt.RGBA,Qt,fn,0,Wt.RGBA,qe.extRenderToTextureHalfFloat?Wt.HALF_FLOAT:Wt.UNSIGNED_BYTE,null),Ot.colorAttachment.set(Ft)}(Me,0,At,st,Ze,pt)}else Fe.bindTexture(Fe.TEXTURE_2D,st.colorAttachment.get()),Me.bindFramebuffer.set(st.framebuffer)})(B,w,g,w.transform.projection.name==="globe"?.5:.25),B.clear({color:a.ax.transparent});const Y=w.transform,ae=Y.projection.name==="globe",de=ae?["PROJECTION_GLOBE_VIEW"]:[],Ae=ae?Vr.frontCCW:Vr.disabled,Ce=[a.a5(Y.center.lng),a.ae(Y.center.lat)];for(let Me=0;Me<x.length;Me++){const He=x[Me];if(d.hasRenderableParent(He))continue;const $e=d.getTile(He),Ke=$e.getBucket(g);if(!Ke||Ke.projection.name!==Y.projection.name)continue;const Fe=w.isTileAffectedByFog(He),Ze=Ke.programConfigurations.get(g.id),pt=w.getOrCreateProgram("heatmap",{config:Ze,defines:de,overrideFog:Fe}),{zoom:st}=w.transform;w.terrain&&w.terrain.setupElevationDraw($e,pt),w.uploadCommonUniforms(B,pt,He.toUnwrapped());const At=Y.projection.createInversionMatrix(Y,He.canonical);pt.draw(w,L.TRIANGLES,rr.disabled,D,$,Ae,xA(w,He,$e,At,Ce,st,g.paint.get("heatmap-intensity")),g.id,Ke.layoutVertexBuffer,Ke.indexBuffer,Ke.segments,g.paint,w.transform.zoom,Ze,ae?[Ke.globeExtVertexBuffer]:null)}B.viewport.set([0,0,w.width,w.height])}else w.renderPass==="translucent"&&(w.context.setColorMode(w.colorModeForRenderPass()),function(B,L){const D=B.context,$=D.gl,Y=L.heatmapFbo;if(!Y)return;D.activeTexture.set($.TEXTURE0),$.bindTexture($.TEXTURE_2D,Y.colorAttachment.get()),D.activeTexture.set($.TEXTURE1);let ae=L.colorRampTexture;ae||(ae=L.colorRampTexture=new a.T(D,L.colorRamp,$.RGBA)),ae.bind($.LINEAR,$.CLAMP_TO_EDGE),B.getOrCreateProgram("heatmapTexture").draw(B,$.TRIANGLES,rr.disabled,si.disabled,B.colorModeForRenderPass(),Vr.disabled,((de,Ae,Ce,Me)=>({u_image:0,u_color_ramp:1,u_opacity:Ae.paint.get("heatmap-opacity")}))(0,L),L.id,B.viewportBuffer,B.quadTriangleIndexBuffer,B.viewportSegments,L.paint,B.transform.zoom)}(w,g))},line:function(w,d,g,x){if(w.renderPass!=="translucent")return;const B=g.paint.get("line-opacity"),L=g.paint.get("line-width");if(B.constantOr(1)===0||L.constantOr(1)===0)return;const D=g.paint.get("line-emissive-strength"),$=w.depthModeForSublayer(0,rr.ReadOnly),Y=w.colorModeForDrapableLayerRenderPass(D),ae=w.terrain&&w.terrain.renderingToTexture?1:a.f.devicePixelRatio,de=g.paint.get("line-dasharray"),Ae=de.constantOr(1),Ce=g.layout.get("line-cap"),Me=g.paint.get("line-pattern"),He=Me.constantOr(1),$e=g.paint.get("line-pattern").constantOr(1),Ke=g.paint.get("line-opacity").constantOr(1)!==1;let Fe=!$e&&Ke;const Ze=g.paint.get("line-gradient"),pt=He?"linePattern":"line",st=w.context,At=st.gl,qe=a.cA(g);w.terrain&&w.terrain.clipOrMaskOverlapStencilType()&&(Fe=!1);for(const mt of x){const Ft=d.getTile(mt);if(He&&!Ft.patternsLoaded())continue;const Ot=Ft.getBucket(g);if(!Ot)continue;w.prepareDrawTile();const Qt=Ot.programConfigurations.get(g.id),fn=w.isTileAffectedByFog(mt),Wt=w.getOrCreateProgram(pt,{config:Qt,defines:qe,overrideFog:fn}),xn=Me.constantOr(null);if(xn&&Ft.imageAtlas){const ir=Ft.imageAtlas.patternPositions[xn.toString()];ir&&Qt.setConstantPatternPositions(ir)}const _n=de.constantOr(null),$n=Ce.constantOr(null);if(!He&&_n&&$n&&Ft.lineAtlas){const ir=Ft.lineAtlas.getDash(_n,$n);ir&&Qt.setConstantPatternPositions(ir)}let[Yt,mn]=g.paint.get("line-trim-offset");($n==="round"||$n==="square")&&Yt!==mn&&(Yt===0&&(Yt-=1),mn===1&&(mn+=1));const $t=w.terrain?mt.projMatrix:null,on=He?a.cB(w,Ft,g,$t,ae,[Yt,mn]):a.cC(w,Ft,g,$t,Ot.lineClipsArray.length,ae,[Yt,mn]);if(Ze){const ir=Ot.gradients[g.id];let nr=ir.texture;if(g.gradientVersion!==ir.version){let pr=256;if(g.stepInterpolant){const Ir=d.getSource().maxzoom,jr=mt.canonical.z===Ir?Math.ceil(1<<w.transform.maxZoom-mt.canonical.z):1;pr=a.aa(a.cD(Ot.maxLineLength/a.V*1024*jr),256,st.maxTextureSize)}ir.gradient=a.cE({expression:g.gradientExpression(),evaluationKey:"lineProgress",resolution:pr,image:ir.gradient||void 0,clips:Ot.lineClipsArray}),ir.texture?ir.texture.update(ir.gradient):ir.texture=new a.T(st,ir.gradient,At.RGBA),ir.version=g.gradientVersion,nr=ir.texture}st.activeTexture.set(At.TEXTURE1),nr.bind(g.stepInterpolant?At.NEAREST:At.LINEAR,At.CLAMP_TO_EDGE)}Ae&&(st.activeTexture.set(At.TEXTURE0),Ft.lineAtlasTexture&&Ft.lineAtlasTexture.bind(At.LINEAR,At.REPEAT),Qt.updatePaintBuffers()),He&&(st.activeTexture.set(At.TEXTURE0),Ft.imageAtlasTexture&&Ft.imageAtlasTexture.bind(At.LINEAR,At.CLAMP_TO_EDGE),Qt.updatePaintBuffers()),w.uploadCommonUniforms(st,Wt,mt.toUnwrapped());const Kn=ir=>{Wt.draw(w,At.TRIANGLES,$,ir,Y,Vr.disabled,on,g.id,Ot.layoutVertexBuffer,Ot.indexBuffer,Ot.segments,g.paint,w.transform.zoom,Qt,[Ot.layoutVertexBuffer2])};if(Fe){const ir=w.stencilModeForClipping(mt).ref;ir===0&&w.terrain&&st.clear({stencil:0});const nr={func:At.EQUAL,mask:255};on.u_alpha_discard_threshold=.8,Kn(new si(nr,ir,255,At.KEEP,At.KEEP,At.INVERT)),on.u_alpha_discard_threshold=0,Kn(new si(nr,ir,255,At.KEEP,At.KEEP,At.KEEP))}else Kn(w.stencilModeForClipping(mt))}Fe&&(w.resetStencilClippingMasks(),w.terrain&&st.clear({stencil:0}))},fill:function(w,d,g,x){const B=g.paint.get("fill-color"),L=g.paint.get("fill-opacity");if(L.constantOr(1)===0)return;const D=g.paint.get("fill-emissive-strength"),$=w.colorModeForDrapableLayerRenderPass(D),Y=g.paint.get("fill-pattern"),ae=w.opaquePassEnabledForLayer()&&!Y.constantOr(1)&&B.constantOr(a.ax.transparent).a===1&&L.constantOr(0)===1?"opaque":"translucent";if(w.renderPass===ae){const de=w.depthModeForSublayer(1,w.renderPass==="opaque"?rr.ReadWrite:rr.ReadOnly);Ct(w,d,g,x,de,$,!1)}if(w.renderPass==="translucent"&&g.paint.get("fill-antialias")){const de=w.depthModeForSublayer(g.getPaintProperty("fill-outline-color")?2:0,rr.ReadOnly);Ct(w,d,g,x,de,$,!0)}},"fill-extrusion":function(w,d,g,x){const B=g.paint.get("fill-extrusion-opacity"),L=w.context,D=L.gl,$=w.terrain,Y=$&&$.renderingToTexture;if(B===0)return;const ae=w.conflationActive&&w.layerUsedInConflation(g,d.getSource());if(ae&&function(de,Ae,Ce,Me){for(const He of Me){const $e=Ae.getTile(He).getBucket(Ce);$e&&($e.updateReplacement(He,de.replacementSource),$e.uploadCentroid(de.context))}}(w,d,g,x),$||ae)for(const de of x){const Ae=d.getTile(de).getBucket(g);Ae&&Bn(w.context,d,de,Ae,g,$,ae)}if(w.renderPass==="shadow"&&w.shadowRenderer){const de=w.shadowRenderer;if($&&B<.65&&g._transitionablePaint._values["fill-extrusion-opacity"].value.expression instanceof a.Z)return;const Ae=de.getShadowPassDepthMode(),Ce=de.getShadowPassColorMode();ft(w,d,g,x,Ae,si.disabled,Ce,ae)}else if(w.renderPass==="translucent"){const de=!g.paint.get("fill-extrusion-pattern").constantOr(1),Ae=g.paint.get("fill-extrusion-color").constantOr(a.ax.white);if(!Y&&Ae.a!==0){const Ce=new rr(w.context.gl.LEQUAL,rr.ReadWrite,w.depthRangeFor3D);B===1&&de?ft(w,d,g,x,Ce,si.disabled,Mi.unblended,ae):(ft(w,d,g,x,Ce,si.disabled,Mi.disabled,ae),ft(w,d,g,x,Ce,w.stencilModeFor3D(),w.colorModeForRenderPass(),ae),w.resetStencilClippingMasks())}if(w.style.enable3dLights()&&de&&(!$&&w.transform.projection.name!=="globe"||Y)){const Ce=g.paint.get("fill-extrusion-opacity"),Me=g.paint.get("fill-extrusion-ambient-occlusion-intensity"),He=g.paint.get("fill-extrusion-ambient-occlusion-ground-radius"),$e=g.paint.get("fill-extrusion-flood-light-intensity"),Ke=g.paint.get("fill-extrusion-flood-light-color").toArray01().slice(0,3),Fe=Me>0&&He>0,Ze=$e>0,pt=(At,qe,mt)=>(1-mt)*At+mt*qe,st=At=>{const qe=w.depthModeForSublayer(1,rr.ReadOnly,D.LEQUAL,!0),mt=g.paint.get(At?"fill-extrusion-ambient-occlusion-ground-attenuation":"fill-extrusion-flood-light-ground-attenuation"),Ft=pt(.1,3,mt),Ot=w._showOverdrawInspector;if(!Ot){const Qt=new si({func:D.ALWAYS,mask:255},255,255,D.KEEP,D.KEEP,D.REPLACE),fn=new Mi([D.ONE,D.ONE,D.ONE,D.ONE],a.ax.transparent,[!1,!1,!1,!0],D.MIN);nn(w,d,g,x,qe,Qt,fn,Vr.disabled,At,"sdf",Ce,Me,He,$e,Ke,Ft,ae,!1)}{const Qt=Ot?si.disabled:new si({func:D.EQUAL,mask:255},255,255,D.KEEP,D.DECR,D.DECR),fn=Ot?w.colorModeForRenderPass():new Mi([D.ONE_MINUS_DST_ALPHA,D.DST_ALPHA,D.ONE,D.ONE],a.ax.transparent,[!0,!0,!0,!0]);nn(w,d,g,x,qe,Qt,fn,Vr.disabled,At,"color",Ce,Me,He,$e,Ke,Ft,ae,!1)}};if(Y){const At=(qe,mt,Ft)=>{const Ot=w.depthModeForSublayer(1,rr.ReadOnly,D.LEQUAL,!1),Qt=g.paint.get(qe?"fill-extrusion-ambient-occlusion-ground-attenuation":"fill-extrusion-flood-light-ground-attenuation"),fn=pt(.1,3,Qt);{const Wt=new Mi([D.ONE,D.ONE,D.ONE,D.ONE],a.ax.transparent,[!1,!1,!1,!0]);nn(w,d,g,x,Ot,si.disabled,Wt,Vr.disabled,qe,"clear",Ce,Me,He,$e,Ke,fn,ae,mt)}{const Wt=new si({func:D.ALWAYS,mask:255},255,255,D.KEEP,D.KEEP,D.REPLACE),xn=new Mi([D.ONE,D.ONE,D.ONE,D.ONE],a.ax.transparent,[!1,!1,!1,!0],D.MIN);nn(w,d,g,x,Ot,Wt,xn,Vr.disabled,qe,"sdf",Ce,Me,He,$e,Ke,fn,ae,mt)}{const Wt=qe?D.ZERO:D.ONE_MINUS_DST_ALPHA,xn=new si({func:D.EQUAL,mask:255},255,255,D.KEEP,D.DECR,D.DECR),_n=new Mi([Wt,D.DST_ALPHA,D.ONE_MINUS_DST_ALPHA,D.ZERO],a.ax.transparent,[!0,!0,!0,!0]);nn(w,d,g,x,Ot,xn,_n,Vr.disabled,qe,"color",Ce,Me,He,$e,Ke,fn,ae,mt)}{const Wt=new Mi([D.ONE,D.ONE,D.ONE,qe?D.ZERO:D.ONE],a.ax.transparent,[!1,!1,!1,!0],qe?D.FUNC_ADD:D.MAX);nn(w,d,g,x,Ot,si.disabled,Wt,Vr.disabled,qe,"clear",Ce,Me,He,$e,Ke,fn,ae,mt,Ft)}};if(Fe||Ze){let qe;if(w.prepareDrawTile(),$){const mt=$.drapeBufferSize[0],Ft=$.drapeBufferSize[1];qe=$.framebufferCopyTexture,qe&&(!qe||qe.size[0]===mt&&qe.size[1]===Ft)||(qe&&qe.destroy(),qe=$.framebufferCopyTexture=new a.T(L,new a.h({width:mt,height:Ft}),D.RGBA)),qe.bind(D.LINEAR,D.CLAMP_TO_EDGE),D.copyTexImage2D(D.TEXTURE_2D,0,D.RGBA,0,0,mt,Ft,0)}Fe&&At(!0,!1,qe),Ze&&At(!1,!0,qe)}}else Fe&&st(!0),Ze&&st(!1)}}},hillshade:function(w,d,g,x){if(w.renderPass!=="offscreen"&&w.renderPass!=="translucent"||w.style.disableElevatedTerrain)return;const B=w.context,L=w.terrain&&w.terrain.renderingToTexture,[D,$]=w.renderPass!=="translucent"||L?[{},x]:w.stencilConfigForOverlap(x);for(const Y of $){const ae=d.getTile(Y);if(ae.needsHillshadePrepare&&w.renderPass==="offscreen")x1(w,ae,g);else if(w.renderPass==="translucent"){const de=w.depthModeForSublayer(0,rr.ReadOnly),Ae=g.paint.get("hillshade-emissive-strength"),Ce=w.colorModeForDrapableLayerRenderPass(Ae),Me=L&&w.terrain?w.terrain.stencilModeForRTTOverlap(Y):D[Y.overscaledZ];yA(w,Y,ae,g,de,Me,Ce)}}B.viewport.set([0,0,w.width,w.height]),w.resetStencilClippingMasks()},raster:function(w,d,g,x,B,L){if(w.renderPass!=="translucent"||g.paint.get("raster-opacity")===0)return;const D=w.transform.projection.name==="globe",$=g.paint.get("raster-elevation")!==0,Y=$&&D;if(w.renderElevatedRasterBackface&&!Y)return;const ae=w.context,de=ae.gl,Ae=d.getSource(),Ce=function(qe,mt,Ft,Ot){const Qt=mt.paint.get("raster-color"),fn=qe.type==="raster-array",Wt=[],xn=mt.paint.get("raster-resampling"),_n=mt.paint.get("raster-color-mix");let $n=mt.paint.get("raster-color-range");const Yt=[_n[0],_n[1],_n[2],0],mn=_n[3];let $t=xn==="nearest"?Ot.NEAREST:Ot.LINEAR;if(fn&&(Wt.push("RASTER_ARRAY"),Qt||Wt.push("RASTER_COLOR"),xn==="linear"&&Wt.push("RASTER_ARRAY_LINEAR"),$t=Ot.NEAREST,!$n&&qe.rasterLayers)){const on=qe.rasterLayers.find(({id:Kn})=>Kn===mt.sourceLayer);on&&on.fields&&on.fields.range&&($n=on.fields.range)}if($n=$n||[0,1],Qt){Wt.push("RASTER_COLOR"),Ft.activeTexture.set(Ot.TEXTURE2),mt.updateColorRamp($n);let on=mt.colorRampTexture;on||(on=mt.colorRampTexture=new a.T(Ft,mt.colorRamp,Ot.RGBA)),on.bind(Ot.LINEAR,Ot.CLAMP_TO_EDGE)}return{mix:Yt,range:$n,offset:mn,defines:Wt,resampling:$t}}(Ae,g,ae,de);if(Ae instanceof a.ap&&!x.length&&!D)return;const Me=g.paint.get("raster-emissive-strength"),He=w.colorModeForDrapableLayerRenderPass(Me),$e=w.terrain&&w.terrain.renderingToTexture,Ke=!w.options.moving,Fe=g.paint.get("raster-resampling")==="nearest"?de.NEAREST:de.LINEAR;if(Ae instanceof a.ap&&!x.length&&(Ae.onNorthPole||Ae.onSouthPole)){const qe=$?w.stencilModeFor3D():si.disabled;return void dn(!!Ae.onNorthPole,null,w,d,g,Me,Ce,Vr.disabled,qe)}if(!x.length)return;const[Ze,pt]=Ae instanceof a.ap||$e?[{},x]:w.stencilConfigForOverlap(x),st=pt[pt.length-1].overscaledZ;Y&&Ce.defines.push("PROJECTION_GLOBE_VIEW"),$&&Ce.defines.push("RENDER_CUTOFF");const At=(qe,mt,Ft)=>{for(const Ot of qe){const Qt=Ot.toUnwrapped(),fn=d.getTile(Ot);if($e&&(!fn||!fn.hasData()))continue;ae.activeTexture.set(de.TEXTURE0);const Wt=fr(fn,Ae,g,Ce);if(!Wt||!Wt.texture)continue;const{texture:xn,mix:_n,offset:$n,tileSize:Yt,buffer:mn}=Wt;let $t,on;$e?($t=rr.disabled,on=Ot.projMatrix):$?($t=new rr(de.LEQUAL,rr.ReadWrite,w.depthRangeFor3D),on=D?Float32Array.from(w.transform.expandedFarZProjMatrix):w.transform.calculateProjMatrix(Qt,Ke)):($t=w.depthModeForSublayer(Ot.overscaledZ-st,g.paint.get("raster-opacity")===1?rr.ReadWrite:rr.ReadOnly,de.LESS),on=w.transform.calculateProjMatrix(Qt,Ke));const Kn=w.terrain&&$e?w.terrain.stencilModeForRTTOverlap(Ot):Ze[Ot.overscaledZ],ir=L?0:g.paint.get("raster-fade-duration");fn.registerFadeDuration(ir);const nr=d.findLoadedParent(Ot,0),pr=S1(fn,nr,d,w.transform,ir);let Ir,jr;w.terrain&&w.terrain.prepareDrawTile(),ae.activeTexture.set(de.TEXTURE0),xn.bind(Fe,de.CLAMP_TO_EDGE),ae.activeTexture.set(de.TEXTURE1),nr?(nr.texture&&nr.texture.bind(Fe,de.CLAMP_TO_EDGE),Ir=Math.pow(2,nr.tileID.overscaledZ-fn.tileID.overscaledZ),jr=[fn.tileID.canonical.x*Ir%1,fn.tileID.canonical.y*Ir%1]):xn.bind(Fe,de.CLAMP_TO_EDGE),xn.useMipmap&&ae.extTextureFilterAnisotropic&&w.transform.pitch>20&&de.texParameterf(de.TEXTURE_2D,ae.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,ae.extTextureFilterAnisotropicMax);const Nr=w.transform;let zr;const Fi=$?sr(Nr):[0,0,0,0];let hi,Ci,bi,na,es,Wi=0;if(Y&&Ae instanceof a.ap&&Ae.coordinates.length>3)hi=Float32Array.from(a.aT(a.ci(new a.bs(0,0,0)))),Ci=Float32Array.from(Nr.globeMatrix),bi=Float32Array.from(a.ce(Nr)),na=[a.a5(Nr.center.lng),a.ae(Nr.center.lat)],zr=Ae.elevatedGlobePerspectiveTransform,es=Ae.elevatedGlobeGridMatrix||new Float32Array(9);else if(Y){const Yi=a.cf(Ot.canonical);Wi=a.cg(Yi.getCenter().lat),hi=Float32Array.from(a.aT(a.ci(Ot.canonical))),Ci=Float32Array.from(Nr.globeMatrix),bi=Float32Array.from(a.ce(Nr)),na=[a.a5(Nr.center.lng),a.ae(Nr.center.lat)],zr=[0,0],es=Float32Array.from(a.ch(Ot.canonical,Yi,Wi,Nr.worldSize/Nr._pixelsPerMercatorPixel))}else zr=Ae instanceof a.ap?Ae.perspectiveTransform:[0,0],hi=new Float32Array(16),Ci=new Float32Array(9),bi=new Float32Array(16),na=[0,0],es=new Float32Array(9);const Is=Wm(on,hi,Ci,bi,es,jr||[0,0],a.S(w.transform.zoom),na,Fi,Ir||1,pr,g,zr,$?g.paint.get("raster-elevation"):0,2,_n,$n,Ce.range,Yt,mn,Me),qi=w.isTileAffectedByFog(Ot),ga=w.getOrCreateProgram("raster",{defines:Ce.defines,overrideFog:qi});if(w.uploadCommonUniforms(ae,ga,Qt),Ae instanceof a.ap){const Yi=Ae.elevatedGlobeVertexBuffer,pa=Ae.elevatedGlobeIndexBuffer;if($e||!D)Ae.boundsBuffer&&Ae.boundsSegments&&ga.draw(w,de.TRIANGLES,$t,si.disabled,He,Vr.disabled,Is,g.id,Ae.boundsBuffer,w.quadTriangleIndexBuffer,Ae.boundsSegments);else if(Yi&&pa){const ss=Nr.zoom<=a.bG?Ae.elevatedGlobeSegments:Ae.getSegmentsForLongitude(Nr.center.lng);ss&&ga.draw(w,de.TRIANGLES,$t,si.disabled,He,mt,Is,g.id,Yi,pa,ss)}}else if(Y){$t=new rr(de.LEQUAL,rr.ReadOnly,w.depthRangeFor3D);const Yi=w.globeSharedBuffers;if(Yi){const[pa,ss,ba]=Yi.getGridBuffers(Wi,!1);ga.draw(w,de.TRIANGLES,$t,Ft||Kn,w.colorModeForRenderPass(),mt,Is,g.id,pa,ss,ba)}}else{const{tileBoundsBuffer:Yi,tileBoundsIndexBuffer:pa,tileBoundsSegments:ss}=w.getTileBoundsBuffers(fn);ga.draw(w,de.TRIANGLES,$t,Kn,He,Vr.disabled,Is,g.id,Yi,pa,ss)}}if(!(Ae instanceof a.ap)&&Y)for(const Ot of qe){const Qt=Ot.canonical.y===(1<<Ot.canonical.z)-1;Ot.canonical.y===0&&dn(!0,Ot,w,d,g,Me,Ce,mt,Ft||si.disabled),Qt&&dn(!1,Ot,w,d,g,Me,Ce,mt===Vr.frontCW?Vr.backCW:Vr.frontCW,Ft||si.disabled)}};Y?At(pt,w.renderElevatedRasterBackface?Vr.backCW:Vr.frontCW,w.stencilModeFor3D()):At(pt,Vr.disabled,void 0),w.resetStencilClippingMasks()},"raster-particle":function(w,d,g,x,B,L){w.renderPass==="offscreen"&&function(D,$,Y,ae){if(!ae.length)return;const de=D.context,Ae=de.gl,Ce=$.getSource();if(!(Ce instanceof Pn))return;const Me=[];for(const Ke of ae){const Fe=$.getTile(Ke);if(!(Fe instanceof uh))continue;const Ze=ur(Fe,Ce,Y);if(!Ze)continue;const pt=[Ze.tileSize,Ze.tileSize];let st=Y.tileFramebuffer;st||(st=Y.tileFramebuffer=de.createFramebuffer(pt[0],pt[1],!0,null));let At=Fe.rasterParticleState;const qe=Y.paint.get("raster-particle-count");At||(At=Fe.rasterParticleState=new Gs(de,Ke,pt,qe));const mt=At.update(Y.lastInvalidatedAt);At.numParticles!==qe&&At.setNumParticles(Ke,qe);const Ft=At.targetColorTexture;At.targetColorTexture=At.backgroundColorTexture,At.backgroundColorTexture=Ft;const Ot=At.particleVertices0;At.particleVertices0=At.particleVertices1,At.particleVertices1=Ot,Me.push([Ke,Ze,At,mt])}if(Me.length===0)return;const He=a.f.now(),$e=Y.previousDrawTimestamp?.001*(He-Y.previousDrawTimestamp):.0167;if(Y.previousDrawTimestamp=He,Y.hasColorMap()){de.activeTexture.set(Ae.TEXTURE0+2);let Ke=Y.colorRampTexture;Ke||(Ke=Y.colorRampTexture=new a.T(de,Y.colorRamp,Ae.RGBA)),Ke.bind(Ae.LINEAR,Ae.CLAMP_TO_EDGE)}de.bindFramebuffer.set(Y.tileFramebuffer.framebuffer),de.activeTexture.set(Ae.TEXTURE0),function(Ke,Fe,Ze){const pt=Ke.context,st=pt.gl,At=Fe.tileFramebuffer;pt.activeTexture.set(st.TEXTURE0);const qe={u_texture:0,u_opacity:1.05*(Ft=Fe.paint.get("raster-particle-fade-opacity-factor"))/(Ft+.05)},mt=Ke.getOrCreateProgram("rasterParticleTexture",{defines:[],overrideFog:!1});var Ft;for(const Ot of Ze){const[,,Qt,fn]=Ot;At.colorAttachment.set(Qt.targetColorTexture.texture),pt.viewport.set([0,0,At.width,At.height]),pt.clear({color:a.ax.transparent}),fn&&(Qt.backgroundColorTexture.bind(st.NEAREST,st.CLAMP_TO_EDGE),mt.draw(Ke,st.TRIANGLES,rr.disabled,si.disabled,Mi.alphaBlended,Vr.disabled,qe,Fe.id,Ke.viewportBuffer,Ke.quadTriangleIndexBuffer,Ke.viewportSegments))}}(D,Y,Me),function(Ke,Fe,Ze,pt){const st=Ke.context.gl,At=Ze.tileFramebuffer,qe=Ke.transform.projection.name==="globe",mt=Ze.paint.get("raster-particle-max-speed");for(const Ft of pt){const[Ot,Qt,fn]=Ft;Qt.texture.bind(st.LINEAR,st.CLAMP_TO_EDGE),At.colorAttachment.set(fn.targetColorTexture.texture);const Wt=Ke.getOrCreateProgram("rasterParticleDraw",{defines:Qt.defines,overrideFog:!1}),xn=Qt.scalarData?[]:[0,1,2,3].map(Yt=>a.cG[Yt](Ot));xn.push(Ot);const _n=Ot.canonical.x,$n=Ot.canonical.y;for(const Yt of xn){const mn=Fe.getTile(qe?Yt.wrapped():Yt);if(!mn)continue;const $t=mn.rasterParticleState;if(!$t)continue;const on=Dy([Yt.canonical.x+(1<<Yt.canonical.z)*(Yt.wrap-Ot.wrap)-_n,Yt.canonical.y-$n],0,Qt.texture.size,2,mt,Qt.textureOffset,Qt.scale,Qt.offset);Wt.draw(Ke,st.POINTS,rr.disabled,si.disabled,Mi.alphaBlended,Vr.disabled,on,Ze.id,$t.particleVertices0,void 0,$t.particleSegment)}}}(D,$,Y,Me),function(Ke,Fe,Ze,pt){const st=Ke.context.gl;let At=Fe.transformFeedbackObject;At||(At=Fe.transformFeedbackObject=st.createTransformFeedback()),st.bindTransformFeedback(st.TRANSFORM_FEEDBACK,Fe.transformFeedbackObject);const qe=Fe.paint.get("raster-particle-max-speed"),mt=pt*Fe.paint.get("raster-particle-speed-factor")*.3,Ft=(Ot=Fe.paint.get("raster-particle-reset-rate-factor"),Math.pow(Ot,6));var Ot;for(const Qt of Ze){const[,fn,Wt]=Qt;fn.texture.bind(st.LINEAR,st.CLAMP_TO_EDGE);const xn=Ny(0,fn.texture.size,qe,mt,Ft,fn.textureOffset,fn.scale,fn.offset);Ke.getOrCreateProgram("rasterParticleUpdate",{defines:fn.defines,transformFeedback:{bufferMode:st.SEPARATE_ATTRIBS,shaderVaryings:["v_new_particle"]}}).draw(Ke,st.POINTS,rr.disabled,si.disabled,Mi.disabled,Vr.disabled,xn,Fe.id,Wt.particleVertices0,void 0,Wt.particleSegment,{},void 0,void 0,void 0,void 0,[{buffer:Wt.particleVertices1,targetIndex:0}])}st.bindTransformFeedback(st.TRANSFORM_FEEDBACK,null)}(D,Y,Me,$e)}(w,d,g,x),w.renderPass==="translucent"&&(function(D,$,Y,ae,de){const Ae=D.context,Ce=Ae.gl,Me=!D.options.moving,He=D.transform.projection.name==="globe";if(!ae.length)return;const[$e,Ke]=D.stencilConfigForOverlap(ae),Fe=[];He&&Fe.push("PROJECTION_GLOBE_VIEW");for(const Ze of Ke){const pt=Ze.toUnwrapped(),st=$.getTile(Ze);if(!st.rasterParticleState)continue;const At=st.rasterParticleState,qe=100;st.registerFadeDuration(qe);const mt=$.findLoadedParent(Ze,0),Ft=S1(st,mt,$,D.transform,qe);let Ot,Qt;D.terrain&&D.terrain.prepareDrawTile(),Ae.activeTexture.set(Ce.TEXTURE0),At.targetColorTexture.bind(Ce.LINEAR,Ce.CLAMP_TO_EDGE),Ae.activeTexture.set(Ce.TEXTURE1),mt&&mt.rasterParticleState?(mt.rasterParticleState.targetColorTexture.bind(Ce.LINEAR,Ce.CLAMP_TO_EDGE),Ot=Math.pow(2,mt.tileID.overscaledZ-st.tileID.overscaledZ),Qt=[st.tileID.canonical.x*Ot%1,st.tileID.canonical.y*Ot%1]):At.targetColorTexture.bind(Ce.LINEAR,Ce.CLAMP_TO_EDGE);const fn=He?Float32Array.from(D.transform.expandedFarZProjMatrix):D.transform.calculateProjMatrix(pt,Me),Wt=D.transform,xn=Zr(Wt),_n=a.cf(Ze.canonical),$n=a.cg(_n.getCenter().lat);let Yt,mn,$t,on,Kn;He?(Yt=Float32Array.from(a.aT(a.ci(Ze.canonical))),mn=Float32Array.from(Wt.globeMatrix),$t=Float32Array.from(a.ce(Wt)),on=[a.a5(Wt.center.lng),a.ae(Wt.center.lat)],Kn=Float32Array.from(a.ch(Ze.canonical,_n,$n,Wt.worldSize/Wt._pixelsPerMercatorPixel))):(Yt=new Float32Array(16),mn=new Float32Array(9),$t=new Float32Array(16),on=[0,0],Kn=new Float32Array(9));const ir=J2(fn,Yt,mn,$t,Kn,Qt||[0,0],a.S(D.transform.zoom),on,xn,Ot||1,Ft,250),nr=D.isTileAffectedByFog(Ze),pr=D.getOrCreateProgram("rasterParticle",{defines:Fe,overrideFog:nr});if(D.uploadCommonUniforms(Ae,pr,pt),He){const Ir=new rr(Ce.LEQUAL,rr.ReadWrite,D.depthRangeFor3D),jr=0,Nr=D.globeSharedBuffers;if(Nr){const[zr,Fi,hi]=Nr.getGridBuffers($n,jr!==0);pr.draw(D,Ce.TRIANGLES,Ir,si.disabled,Mi.alphaBlended,Vr.backCCW,ir,Y.id,zr,Fi,hi)}}else{const Ir=D.depthModeForSublayer(0,rr.ReadOnly),jr=$e[Ze.overscaledZ],{tileBoundsBuffer:Nr,tileBoundsIndexBuffer:zr,tileBoundsSegments:Fi}=D.getTileBoundsBuffers(st);pr.draw(D,Ce.TRIANGLES,Ir,jr,Mi.alphaBlended,Vr.disabled,ir,Y.id,Nr,zr,Fi)}}D.resetStencilClippingMasks()}(w,d,g,x),w.style.map.triggerRepaint())},background:function(w,d,g,x){const B=g.paint.get("background-color"),L=g.paint.get("background-opacity"),D=g.paint.get("background-emissive-strength");if(L===0)return;const $=w.context,Y=$.gl,ae=w.transform,de=ae.tileSize,Ae=g.paint.get("background-pattern");if(w.isPatternMissing(Ae,g.scope))return;const Ce=!Ae&&B.a===1&&L===1&&w.opaquePassEnabledForLayer()?"opaque":"translucent";if(w.renderPass!==Ce)return;const Me=si.disabled,He=w.depthModeForSublayer(0,Ce==="opaque"?rr.ReadWrite:rr.ReadOnly),$e=w.colorModeForDrapableLayerRenderPass(D),Ke=Ae?"backgroundPattern":"background";let Fe,Ze=x;Ze||(Fe=w.getBackgroundTiles(),Ze=Object.values(Fe).map(pt=>pt.tileID)),Ae&&($.activeTexture.set(Y.TEXTURE0),w.imageManager.bind(w.context,g.scope));for(const pt of Ze){const st=w.isTileAffectedByFog(pt),At=w.getOrCreateProgram(Ke,{overrideFog:st}),qe=pt.toUnwrapped(),mt=x?pt.projMatrix:w.transform.calculateProjMatrix(qe);w.prepareDrawTile();const Ft=d?d.getTile(pt):Fe?Fe[pt.key]:new Su(pt,de,ae.zoom,w),Ot=Ae?SA(mt,D,L,w,Ae,g.scope,{tileID:pt,tileSize:de}):L1(mt,D,L,B);w.uploadCommonUniforms($,At,qe);const{tileBoundsBuffer:Qt,tileBoundsIndexBuffer:fn,tileBoundsSegments:Wt}=w.getTileBoundsBuffers(Ft);At.draw(w,Y.TRIANGLES,He,Me,$e,Vr.disabled,Ot,g.id,Qt,fn,Wt)}},sky:function(w,d,g){const x=w._atmosphere?a.S(w.transform.zoom):1,B=g.paint.get("sky-opacity")*x;if(B===0)return;const L=w.context,D=g.paint.get("sky-type"),$=new rr(L.gl.LEQUAL,rr.ReadOnly,[0,1]),Y=w.frameCounter/1e3%1;D==="atmosphere"?w.renderPass==="offscreen"?g.needsSkyboxCapture(w)&&(function(ae,de,Ae,Ce){const Me=ae.context,He=Me.gl;let $e=de.skyboxFbo;if(!$e){$e=de.skyboxFbo=Me.createFramebuffer(32,32,!0,null),de.skyboxGeometry=new Ao(Me),de.skyboxTexture=Me.gl.createTexture(),He.bindTexture(He.TEXTURE_CUBE_MAP,de.skyboxTexture),He.texParameteri(He.TEXTURE_CUBE_MAP,He.TEXTURE_WRAP_S,He.CLAMP_TO_EDGE),He.texParameteri(He.TEXTURE_CUBE_MAP,He.TEXTURE_WRAP_T,He.CLAMP_TO_EDGE),He.texParameteri(He.TEXTURE_CUBE_MAP,He.TEXTURE_MIN_FILTER,He.LINEAR),He.texParameteri(He.TEXTURE_CUBE_MAP,He.TEXTURE_MAG_FILTER,He.LINEAR);for(let pt=0;pt<6;++pt)He.texImage2D(He.TEXTURE_CUBE_MAP_POSITIVE_X+pt,0,He.RGBA,32,32,0,He.RGBA,He.UNSIGNED_BYTE,null)}Me.bindFramebuffer.set($e.framebuffer),Me.viewport.set([0,0,32,32]);const Ke=de.getCenter(ae,!0),Fe=ae.getOrCreateProgram("skyboxCapture"),Ze=new Float64Array(16);a.a6.identity(Ze),a.a6.rotateY(Ze,Ze,.5*-Math.PI),Do(ae,de,Fe,Ze,Ke,0),a.a6.identity(Ze),a.a6.rotateY(Ze,Ze,.5*Math.PI),Do(ae,de,Fe,Ze,Ke,1),a.a6.identity(Ze),a.a6.rotateX(Ze,Ze,.5*-Math.PI),Do(ae,de,Fe,Ze,Ke,2),a.a6.identity(Ze),a.a6.rotateX(Ze,Ze,.5*Math.PI),Do(ae,de,Fe,Ze,Ke,3),a.a6.identity(Ze),Do(ae,de,Fe,Ze,Ke,4),a.a6.identity(Ze),a.a6.rotateY(Ze,Ze,Math.PI),Do(ae,de,Fe,Ze,Ke,5),Me.viewport.set([0,0,ae.width,ae.height])}(w,g),g.markSkyboxValid(w)):w.renderPass==="sky"&&function(ae,de,Ae,Ce,Me){const He=ae.context,$e=He.gl,Ke=ae.transform,Fe=ae.getOrCreateProgram("skybox");He.activeTexture.set($e.TEXTURE0),$e.bindTexture($e.TEXTURE_CUBE_MAP,de.skyboxTexture);const Ze=((pt,st,At,qe,mt)=>({u_matrix:pt,u_sun_direction:st,u_cubemap:0,u_opacity:qe,u_temporal_offset:mt}))(Ke.skyboxMatrix,de.getCenter(ae,!1),0,Ce,Me);ae.uploadCommonUniforms(He,Fe),Fe.draw(ae,$e.TRIANGLES,Ae,si.disabled,ae.colorModeForRenderPass(),Vr.backCW,Ze,"skybox",de.skyboxGeometry.vertexBuffer,de.skyboxGeometry.indexBuffer,de.skyboxGeometry.segment)}(w,g,$,B,Y):D==="gradient"&&w.renderPass==="sky"&&function(ae,de,Ae,Ce,Me){const He=ae.context,$e=He.gl,Ke=ae.transform,Fe=ae.getOrCreateProgram("skyboxGradient");de.skyboxGeometry||(de.skyboxGeometry=new Ao(He)),He.activeTexture.set($e.TEXTURE0);let Ze=de.colorRampTexture;Ze||(Ze=de.colorRampTexture=new a.T(He,de.colorRamp,$e.RGBA)),Ze.bind($e.LINEAR,$e.CLAMP_TO_EDGE);const pt=((st,At,qe,mt,Ft)=>({u_matrix:st,u_color_ramp:0,u_center_direction:At,u_radius:a.bj(qe),u_opacity:mt,u_temporal_offset:Ft}))(Ke.skyboxMatrix,de.getCenter(ae,!1),de.paint.get("sky-gradient-radius"),Ce,Me);ae.uploadCommonUniforms(He,Fe),Fe.draw(ae,$e.TRIANGLES,Ae,si.disabled,ae.colorModeForRenderPass(),Vr.backCW,pt,"skyboxGradient",de.skyboxGeometry.vertexBuffer,de.skyboxGeometry.indexBuffer,de.skyboxGeometry.segment)}(w,g,$,B,Y)},debug:function(w,d,g,x,B,L){for(let D=0;D<g.length;D++)if(B){const ae=new a.ax(x.r*.8,x.g*.8,x.b*.8,1);Ea(w,d,g[D],x,-1,-1,L),Ea(w,d,g[D],x,-1,1,L),Ea(w,d,g[D],x,1,1,L),Ea(w,d,g[D],x,1,-1,L),Ea(w,d,g[D],ae,0,0,L)}else Ea(w,d,g[D],x,0,0,L)},custom:function(w,d,g,x){const B=w.context,L=g.implementation;if(!w.transform.projection.unsupportedLayers||!w.transform.projection.unsupportedLayers.includes("custom")||w.terrain&&(w.terrain.renderingToTexture||w.renderPass==="offscreen")&&g.isLayerDraped(d)){if(w.renderPass==="offscreen"){const D=L.prerender;if(D){if(w.setCustomLayerDefaults(),B.setColorMode(w.colorModeForRenderPass()),w.transform.projection.name==="globe"){const $=w.transform.pointMerc;D.call(L,B.gl,w.transform.customLayerMatrix(),w.transform.getProjection(),w.transform.globeToMercatorMatrix(),a.S(w.transform.zoom),[$.x,$.y],w.transform.pixelsPerMeterRatio)}else D.call(L,B.gl,w.transform.customLayerMatrix());B.setDirty(),w.setBaseState()}}else if(w.renderPass==="translucent"){if(w.terrain&&w.terrain.renderingToTexture){const $=L.renderToTile;if($){const Y=x[0].canonical,ae=new a.L(Y.x+x[0].wrap*(1<<Y.z),Y.y,Y.z);B.setDepthMode(rr.disabled),B.setStencilMode(si.disabled),B.setColorMode(w.colorModeForRenderPass()),w.setCustomLayerDefaults(),$.call(L,B.gl,ae),B.setDirty(),w.setBaseState()}return}w.setCustomLayerDefaults(),B.setColorMode(w.colorModeForRenderPass()),B.setStencilMode(si.disabled);const D=L.renderingMode==="3d"?new rr(w.context.gl.LEQUAL,rr.ReadWrite,w.depthRangeFor3D):w.depthModeForSublayer(0,rr.ReadOnly);if(B.setDepthMode(D),w.transform.projection.name==="globe"){const $=w.transform.pointMerc;L.render(B.gl,w.transform.customLayerMatrix(),w.transform.getProjection(),w.transform.globeToMercatorMatrix(),a.S(w.transform.zoom),[$.x,$.y],w.transform.pixelsPerMeterRatio)}else L.render(B.gl,w.transform.customLayerMatrix());B.setDirty(),w.setBaseState(),B.bindFramebuffer.set(null)}}else a.w("Custom layers are not yet supported with this projection. Use mercator or globe to enable usage of custom layers.")},model:function(w,d,g,x){if(w.renderPass==="opaque")return;const B=g.paint.get("model-opacity");if(B===0)return;const L=g.paint.get("model-cast-shadows");if(w.renderPass==="shadow"&&(!L||w.terrain&&B<.65&&g._transitionablePaint._values["model-opacity"].value.expression instanceof a.Z))return;const D=w.shadowRenderer,$=g.paint.get("model-receive-shadows");D&&(D.useNormalOffset=!0,$||(D.enabled=!1));const Y=()=>{D&&(D.useNormalOffset=!0,$||(D.enabled=!0))},ae=d.getSource();if(w.renderPass==="light-beam"&&ae.type!=="batched-model")return;if(ae.type==="vector"||ae.type==="geojson")return function(Fe,Ze,pt,st){const At=Fe.transform;if(At.projection.name!=="mercator")return void a.w(`Drawing 3D models for ${At.projection.name} projection is not yet implemented`);const qe=At.getFreeCameraOptions().position;if(!Fe.modelManager)return;const mt=Fe.modelManager;pt.modelManager=mt;const Ft=Fe.shadowRenderer;if(!pt._unevaluatedLayout._values.hasOwnProperty("model-id"))return;const Ot=pt._unevaluatedLayout._values["model-id"],Qt={...pt.layout.get("model-id").parameters};for(const fn of st){const Wt=Ze.getTile(fn).getBucket(pt);if(!Wt||Wt.projection.name!==At.projection.name)continue;const xn=dd(fn,At);Qt.zoom=xn;const _n=Ot.possiblyEvaluate(Qt);if(hd(Fe,Wt,fn),rl.shadowUniformsInitialized=!1,rl.useSingleShadowCascade=!!Ft&&Ft.getMaxCascadeForTile(fn.toUnwrapped())===0,Fe.renderPass==="shadow"&&Ft){if(Fe.currentShadowCascade===1&&Wt.isInsideFirstShadowMapFrustum)continue;const mn=At.calculatePosMatrix(fn.toUnwrapped(),At.worldSize);if(rl.tileMatrix.set(mn),rl.shadowTileMatrix=Float32Array.from(Ft.calculateShadowPassMatrixFromMatrix(mn)),rl.aabb.min.fill(0),rl.aabb.max[0]=rl.aabb.max[1]=a.V,rl.aabb.max[2]=0,$y(Wt,rl,Fe,pt.scope))continue}const $n=1<<fn.canonical.z,Yt=[((qe.x-fn.wrap)*$n-fn.canonical.x)*a.V,(qe.y*$n-fn.canonical.y)*a.V,qe.z*$n*a.V];for(let mn in Wt.instancesPerModel){const $t=Wt.instancesPerModel[mn];$t.features.length>0&&(mn=_n.evaluate($t.features[0].feature,{}));const on=mt.getModel(mn,pt.scope);if(on&&on.uploaded)for(const Kn of on.nodes)Ys(Fe,pt,Kn,$t,Yt,fn,rl)}}}(w,d,g,x),void Y();if(!ae.loaded())return;if(ae.type==="batched-model")return function(Fe,Ze,pt,st){pt.resetLayerRenderingStats(Fe);const At=Fe.context,qe=Fe.transform,mt=Fe.style.fog,Ft=Fe.shadowRenderer;if(qe.projection.name!=="mercator")return void a.w(`Drawing 3D landmark models for ${qe.projection.name} projection is not yet implemented`);const Ot=Fe.transform.getFreeCameraOptions().position,Qt=a.N.scale([],[Ot.x,Ot.y,Ot.z],Fe.transform.worldSize);a.N.negate(Qt,Qt);const fn=a.a6.identity([]),Wt=a.cR(qe.center.lat,qe.zoom),xn=a.a6.fromScaling([],[1,1,1/Wt]);a.a6.translate(fn,fn,Qt);const _n=pt.paint.get("model-opacity"),$n=new rr(At.gl.LEQUAL,rr.ReadWrite,Fe.depthRangeFor3D),Yt=new rr(At.gl.LEQUAL,rr.ReadOnly,Fe.depthRangeFor3D),mn=new a.bS([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),$t=Fe.renderPass==="shadow",on=$t&&Ft?Ft.getCurrentCascadeFrustum():qe.getFrustum(qe.scaleZoom(qe.worldSize)),Kn=pt.getLayerRenderingStats(),ir=function(nr,pr){for(const Ir of st){const jr=Ze.getTile(Ir).getBucket(pt);if(!jr||!jr.uploaded)continue;let Nr=!1;Ft&&(Nr=Ft.getMaxCascadeForTile(Ir.toUnwrapped())===0);const zr=qe.calculatePosMatrix(Ir.toUnwrapped(),qe.worldSize),Fi=jr.modelTraits;for(const hi of jr.getNodesInfo()){if(hi.hiddenByReplacement||!hi.node.meshes)continue;const Ci=hi.evaluatedScale,bi=hi.node;let na=0;if(Fe.terrain&&bi.elevation&&(na=bi.elevation*Fe.terrain.exaggeration()),Ci[0]<=1&&Ci[1]<=1&&Ci[2]<=1&&(()=>{const ss=hi.getLocalBounds();return mn.min=[...ss.min],mn.max=[...ss.max],mn.min[2]+=na,mn.max[2]+=na,a.N.transformMat4(mn.min,mn.min,zr),a.N.transformMat4(mn.max,mn.max,zr),mn})().intersects(on)===0)continue;const es=Fe.renderPass==="light-beam",Wi=[...zr];a.a6.translate(Wi,Wi,[(bi.anchor?bi.anchor[0]:0)*(Ci[0]-1),(bi.anchor?bi.anchor[1]:0)*(Ci[1]-1),na]),a.N.exactEquals(Ci,a.cT)||a.a6.scale(Wi,Wi,Ci),a.a6.multiply(Wi,Wi,bi.matrix);const Is=a.a6.multiply([],xn,Wi);a.a6.multiply(Is,fn,Is);const qi=a.a6.invert([],Is);a.a6.transpose(qi,qi),a.a6.scale(qi,qi,Zd);const ga=a.a6.multiply([],qe.expandedFarZProjMatrix,Wi),Yi=Fi&a.cV.HasMapboxMeshFeatures,pa=Yi?0:hi.evaluatedRMEA[0][2];for(let ss=0;ss<bi.meshes.length;++ss){const ba=bi.meshes[ss],il=ss===bi.lightMeshIndex;if(il){if(!es&&!Fe.terrain&&Fe.shadowRenderer){Fe.currentLayer<Fe.firstLightBeamLayer&&(Fe.firstLightBeamLayer=Fe.currentLayer);continue}}else if(es)continue;const ql={defines:[]},fc=[];if(Ia(ql.defines,fc,ba,Fe),Yi||ql.defines.push("DIFFUSE_SHADED"),Nr&&ql.defines.push("SHADOWS_SINGLE_CASCADE"),Kn&&($t?Kn.numRenderedVerticesInShadowPass+=ba.vertexArray.length:Kn.numRenderedVerticesInTransparentPass+=ba.vertexArray.length),$t){rn(ba,Wi,Fe,pt);continue}let rf=null;if(mt){const Ac=Bo(Wi,Fe.transform);if(rf=new Float32Array(Ac),qe.projection.name!=="globe"){const af=ba.aabb.min,LA=ba.aabb.max,[dg,$1]=mt.getOpacityForBounds(Ac,af[0],af[1],LA[0],LA[1]);ql.overrideFog=dg>=tr||$1>=tr}}const pc=ba.material;let al;pc.occlusionTexture&&pc.occlusionTexture.offsetScale&&(al=pc.occlusionTexture.offsetScale,ql.defines.push("OCCLUSION_TEXTURE_TRANSFORM")),!$t&&Ft&&(Ft.useNormalOffset=!!ba.normalBuffer);const No=Fe.getOrCreateProgram("model",ql);!$t&&Ft&&Ft.setupShadowsFromMatrix(Wi,No,Ft.useNormalOffset),Fe.uploadCommonUniforms(At,No,Ir.toUnwrapped(),rf);const Fu=pc.pbrMetallicRoughness;Fu.metallicFactor=.9,Fu.roughnessFactor=.5;const Yu=ip(new Float32Array(ga),new Float32Array(Is),new Float32Array(qi),Fe,_n,Fu.baseColorFactor,pc.emissiveFactor,Fu.metallicFactor,Fu.roughnessFactor,pc,pa,pt,[0,0,0],al);No.draw(Fe,At.gl.TRIANGLES,pr&&!il?$n:Yt,si.disabled,nr?il||_n<1||hi.hasTranslucentParts?Mi.alphaBlended:Mi.unblended:Mi.disabled,Vr.backCCW,Yu,pt.id,ba.vertexBuffer,ba.indexBuffer,ba.segments,pt.paint,Fe.transform.zoom,void 0,fc)}}}};(function(nr,pr,Ir,jr){const Nr=nr.terrain?nr.terrain.exaggeration():0,zr=nr.transform.zoom;for(const Fi of jr){const hi=pr.getTile(Fi).getBucket(Ir);hi&&(nr.conflationActive&&hi.updateReplacement(Fi,nr.replacementSource),hi.evaluateScale(nr,Ir),nr.terrain&&Nr>0&&hi.elevationUpdate(nr.terrain,Nr,Fi,Ir.source),hi.needsReEvaluation(nr,zr,Ir)&&hi.evaluate(Ir))}})(Fe,Ze,pt,st),_n===1?ir(!0,!0):(ir(!1,!0),ir(!0,!1))}(w,d,g,x),void Y();const de=ae.getModels(),Ae=[],Ce=w.transform.getFreeCameraOptions().position,Me=a.N.scale([],[Ce.x,Ce.y,Ce.z],w.transform.worldSize);a.N.negate(Me,Me);const He=[],$e=[];let Ke=0;for(const Fe of de){const Ze=g.paint.get("model-rotation").constantOr(null),pt=g.paint.get("model-scale").constantOr(null),st=g.paint.get("model-translation").constantOr(null);Fe.computeModelMatrix(w,Ze,pt,st,!0,!0,!1);const At=a.a6.identity([]),qe=a.cR(Fe.position.lat,w.transform.zoom),mt=a.a6.fromScaling([],[1,1,1/qe]);a.a6.translate(At,At,Me),Ae.push({zScaleMatrix:mt,negCameraPosMatrix:At});for(const Ft of Fe.nodes)mo(w.transform,Ft,Fe.matrix,w.transform.expandedFarZProjMatrix,Ke,He,$e);Ke++}if(He.sort((Fe,Ze)=>Ze.depth-Fe.depth),w.renderPass!=="shadow"){if(B===1)for(const Fe of $e)Lu(Fe,w,g,Ae[Fe.modelIndex],si.disabled,w.colorModeForRenderPass());else{for(const Fe of $e)Lu(Fe,w,g,Ae[Fe.modelIndex],si.disabled,Mi.disabled);for(const Fe of $e)Lu(Fe,w,g,Ae[Fe.modelIndex],w.stencilModeFor3D(),w.colorModeForRenderPass());w.resetStencilClippingMasks()}for(const Fe of He)Lu(Fe,w,g,Ae[Fe.modelIndex],si.disabled,w.colorModeForRenderPass());Y()}else{for(const Fe of $e)rn(Fe.mesh,Fe.nodeModelMatrix,w,g);for(const Fe of He)rn(Fe.mesh,Fe.nodeModelMatrix,w,g);Y()}}},Wu={model:function(w,d,g){const x=w.scope,B=d.getSource();if(!B.loaded())return;if(B.type==="vector"||B.type==="geojson")return void(g.modelManager&&g.modelManager.upload(g,x));if(B.type==="batched-model")return;const L=B.getModels();for(const D of L)D.upload(g.context)},raster:function(w,d,g){const x=d.getSource();if(!(x instanceof Pn&&x.loaded()))return;const B=w.sourceLayer||x.rasterLayerIds&&x.rasterLayerIds[0];if(!B)return;const L=w.paint.get("raster-array-band")||x.getInitialBand(B);if(L==null)return;const D=d.getIds().map($=>d.getTileByID($));for(const $ of D)$.updateNeeded(B,L)&&x.prepareTile($,B,L)},"raster-particle":function(w,d,g){const x=d.getSource();if(!(x instanceof Pn&&x.loaded()))return;const B=w.sourceLayer||x.rasterLayerIds&&x.rasterLayerIds[0];if(!B)return;const L=w.paint.get("raster-particle-array-band")||x.getInitialBand(B);if(L==null)return;const D=d.getIds().map($=>d.getTileByID($));for(const $ of D)$.updateNeeded(B,L)&&x.prepareTile($,B,L)}};class ap{constructor(d,g,x,B){this.context=new v0(d,g),this.transform=x,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.tp=B,this._debugParams={showTerrainProxyTiles:!1},B.registerParameter(this._debugParams,["Terrain"],"showTerrainProxyTiles",{},()=>{this.style.map.triggerRepaint()}),this.setup(),this.numSublayers=Bu.maxUnderzooming+Bu.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={},this.conflationActive=!1,this.replacementSource=new a.cX,this.longestCutoffRange=0,this.minCutoffZoom=0,this._fogVisible=!1,this._cachedTileFogOpacities={},this._shadowRenderer=new sd(this),this._wireframeDebugCache=new Zm,this.renderDefaultNorthPole=!0,this.renderDefaultSouthPole=!0}updateTerrain(d,g){const x=!!d&&!!d.terrain&&this.transform.projection.supportsTerrain;if(!(x||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new Z2(this,d));const B=this._terrain;this.transform.elevation=x?B:null,B.update(d,this.transform,g),this.transform.elevation&&!B.enabled&&(this.transform.elevation=null)}_updateFog(d){const g=d.fog;if(!g||this.transform.projection.name==="globe"||g.getOpacity(this.transform.pitch)<1||g.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[x,B]=g.getFovAdjustedRange(this.transform._fov);if(x>B)return void(this.transform.fogCullDistSq=null);const L=x+.78*(B-x);this.transform.fogCullDistSq=L*L}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}get shadowRenderer(){return this._shadowRenderer&&this._shadowRenderer.enabled?this._shadowRenderer:null}get wireframeDebugCache(){return this._wireframeDebugCache}resize(d,g){if(this.width=d*a.f.devicePixelRatio,this.height=g*a.f.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const x of this.style.order)this.style._mergedLayers[x].resize()}setup(){const d=this.context,g=new a.aN;g.emplaceBack(0,0),g.emplaceBack(a.V,0),g.emplaceBack(0,a.V),g.emplaceBack(a.V,a.V),this.tileExtentBuffer=d.createVertexBuffer(g,a.aP.members),this.tileExtentSegments=a.aB.simpleSegment(0,0,4,2);const x=new a.aN;x.emplaceBack(0,0),x.emplaceBack(a.V,0),x.emplaceBack(0,a.V),x.emplaceBack(a.V,a.V),this.debugBuffer=d.createVertexBuffer(x,a.aP.members),this.debugSegments=a.aB.simpleSegment(0,0,4,5);const B=new a.aN;B.emplaceBack(-1,-1),B.emplaceBack(1,-1),B.emplaceBack(-1,1),B.emplaceBack(1,1),this.viewportBuffer=d.createVertexBuffer(B,a.aP.members),this.viewportSegments=a.aB.simpleSegment(0,0,4,2);const L=new a.av;L.emplaceBack(0,0,0,0),L.emplaceBack(a.V,0,a.V,0),L.emplaceBack(0,a.V,0,a.V),L.emplaceBack(a.V,a.V,a.V,a.V),this.mercatorBoundsBuffer=d.createVertexBuffer(L,a.aR.members),this.mercatorBoundsSegments=a.aB.simpleSegment(0,0,4,2);const D=new a.aw;D.emplaceBack(0,1,2),D.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=d.createIndexBuffer(D);const $=new a.aO;for(const ae of[0,1,3,2,0])$.emplaceBack(ae);this.debugIndexBuffer=d.createIndexBuffer($),this.emptyTexture=new a.T(d,new a.h({width:1,height:1},Uint8Array.of(0,0,0,0)),d.gl.RGBA),this.identityMat=a.a6.create();const Y=this.context.gl;this.stencilClearMode=new si({func:Y.ALWAYS,mask:0},0,255,Y.ZERO,Y.ZERO,Y.ZERO),this.loadTimeStamps.push(performance.now())}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(d){return d._makeTileBoundsBuffers(this.context,this.transform.projection),d._tileBoundsBuffer?{tileBoundsBuffer:d._tileBoundsBuffer,tileBoundsIndexBuffer:d._tileBoundsIndexBuffer,tileBoundsSegments:d._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const d=this.context.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.getOrCreateProgram("clippingMask").draw(this,d.TRIANGLES,rr.disabled,this.stencilClearMode,Mi.disabled,Vr.disabled,np(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(d,g,x){if(!g||this.currentStencilSource===g.id||!d.isTileClipped()||!x||x.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let $=!1;for(const Y of x)if(this._tileClippingMaskIDs[Y.key]===void 0){$=!0;break}if(!$)return}this.currentStencilSource=g.id;const B=this.context,L=B.gl;this.nextStencilID+x.length>256&&this.clearStencil(),B.setColorMode(Mi.disabled),B.setDepthMode(rr.disabled);const D=this.getOrCreateProgram("clippingMask");this._tileClippingMaskIDs={};for(const $ of x){const Y=g.getTile($),ae=this._tileClippingMaskIDs[$.key]=this.nextStencilID++,{tileBoundsBuffer:de,tileBoundsIndexBuffer:Ae,tileBoundsSegments:Ce}=this.getTileBoundsBuffers(Y);D.draw(this,L.TRIANGLES,rr.disabled,new si({func:L.ALWAYS,mask:0},ae,255,L.KEEP,L.KEEP,L.REPLACE),Mi.disabled,Vr.disabled,np($.projMatrix),"$clipping",de,Ae,Ce)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const d=this.nextStencilID++,g=this.context.gl;return new si({func:g.NOTEQUAL,mask:255},d,255,g.KEEP,g.KEEP,g.REPLACE)}stencilModeForClipping(d){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(d);const g=this.context.gl;return new si({func:g.EQUAL,mask:255},this._tileClippingMaskIDs[d.key],0,g.KEEP,g.KEEP,g.REPLACE)}stencilConfigForOverlap(d){const g=this.context.gl,x=d.sort((D,$)=>$.overscaledZ-D.overscaledZ),B=x[x.length-1].overscaledZ,L=x[0].overscaledZ-B+1;if(L>1){this.currentStencilSource=void 0,this.nextStencilID+L>256&&this.clearStencil();const D={};for(let $=0;$<L;$++)D[$+B]=new si({func:g.GEQUAL,mask:255},$+this.nextStencilID,255,g.KEEP,g.KEEP,g.REPLACE);return this.nextStencilID+=L,[D,x]}return[{[B]:si.disabled},x]}colorModeForRenderPass(){const d=this.context.gl;return this._showOverdrawInspector?new Mi([d.CONSTANT_COLOR,d.ONE,d.CONSTANT_COLOR,d.ONE],new a.ax(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Mi.unblended:Mi.alphaBlended}colorModeForDrapableLayerRenderPass(d){const g=this.context.gl;return this.style&&this.style.enable3dLights()&&this.terrain&&this.terrain.renderingToTexture&&this.renderPass==="translucent"?new Mi([g.ONE,g.ONE_MINUS_SRC_ALPHA,g.CONSTANT_ALPHA,g.ONE_MINUS_SRC_ALPHA],new a.ax(0,0,0,d===void 0?0:d),[!0,!0,!0,!0]):this.colorModeForRenderPass()}depthModeForSublayer(d,g,x,B=!1){if(!this.opaquePassEnabledForLayer()&&!B)return rr.disabled;const L=1-((1+this.currentLayer)*this.numSublayers+d)*this.depthEpsilon;return new rr(x||this.context.gl.LEQUAL,g,[L,L])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(d,g){this._wireframeDebugCache.update(this.frameCounter),this.style=d,this.options=g;const x=this.style._mergedLayers,B=this.style.order,L=B.map(qe=>x[qe]),D=this.style._mergedSourceCaches;this.imageManager=d.imageManager,this.modelManager=d.modelManager,this.symbolFadeChange=d.placement.symbolFadeChange(a.f.now()),this.imageManager.beginFrame();let $=0,Y=!1;for(const qe in D){const mt=D[qe];mt.used&&(mt.prepare(this.context),mt.getSource().usedInConflation&&++$)}for(const qe of L)qe.isHidden(this.transform.zoom)||this.prepareLayer(qe);const ae={},de={},Ae={},Ce={},Me={};for(const qe in D){const mt=D[qe];ae[qe]=mt.getVisibleCoordinates(),de[qe]=ae[qe].slice().reverse(),Ae[qe]=mt.getVisibleCoordinates(!0).reverse(),Ce[qe]=mt.getShadowCasterCoordinates(),Me[qe]=mt.sortCoordinatesByDistance(ae[qe])}const He=qe=>{const mt=this.style.getLayerSourceCache(qe);return mt&&mt.used?mt.getSource():null};if($){const qe=[];for(const mt of L)this.layerUsedInConflation(mt,He(mt))&&qe.push(mt);if(qe&&qe.length>1){const mt=[];for(const Ft of qe){const Ot=this.style.getLayerSourceCache(Ft);Ot&&Ot.used&&Ot.getSource().usedInConflation&&mt.push({layer:Ft.fqid,cache:Ot})}this.replacementSource.setSources(mt),Y=!0}}Y||this.replacementSource.clear(),this.conflationActive=Y,this.minCutoffZoom=0,this.longestCutoffRange=0;for(const qe of L){const mt=qe.cutoffRange();if(this.longestCutoffRange=Math.max(mt,this.longestCutoffRange),mt>0){const Ft=He(qe);Ft&&(this.minCutoffZoom=Math.max(Ft.minzoom,this.minCutoffZoom)),qe.minzoom&&(this.minCutoffZoom=Math.max(qe.minzoom,this.minCutoffZoom))}}this.opaquePassCutoff=1/0;for(let qe=0;qe<L.length;qe++)if(L[qe].is3D()){this.opaquePassCutoff=qe;break}const $e=this.style&&this.style.fog;$e?(this._fogVisible=$e.getOpacity(this.transform.pitch)!==0,this._fogVisible&&this.transform.projection.name!=="globe"&&(this._fogVisible=$e.isVisibleOnFrustum(this.transform.cameraFrustum))):this._fogVisible=!1,this._cachedTileFogOpacities={},this.terrain&&(this.terrain.updateTileBinding(Ae),this.opaquePassCutoff=0);const Ke=this._shadowRenderer;if(Ke){Ke.updateShadowParameters(this.transform,this.style.directionalLight);for(const qe in D)for(const mt of ae[qe]){let Ft={min:0,max:0};this.terrain&&(Ft=this.terrain.getMinMaxForTile(mt)||Ft),Ke.addShadowReceiver(mt.toUnwrapped(),Ft.min,Ft.max)}}if(this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new a.cY(this.context)),this.style.fog&&this.transform.projection.supportsFog?(this._atmosphere||(this._atmosphere=new Cr(this)),this._atmosphere.update(this)):this._atmosphere&&(this._atmosphere.destroy(),this._atmosphere=void 0),!a.cZ(this.context.gl))return;this.renderPass="offscreen";for(const qe of L){const mt=d.getLayerSourceCache(qe);if(!qe.hasOffscreenPass()||qe.isHidden(this.transform.zoom))continue;const Ft=mt?de[mt.id]:void 0;(qe.type==="custom"||qe.type==="raster"||qe.type==="raster-particle"||qe.isSky()||Ft&&Ft.length)&&this.renderLayer(this,mt,qe,Ft)}this.depthRangeFor3D=[0,1-(L.length+2)*this.numSublayers*this.depthEpsilon];const Fe=this.terrain;Fe&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&!this.transform.isOrthographic&&Fe.drawDepth(),this._shadowRenderer&&(this.renderPass="shadow",this._shadowRenderer.drawShadowPass(this.style,Ce)),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]);const Ze=this.transform.projection.name==="globe"||this.transform.isHorizonVisible(),pt=(()=>{if(g.showOverdrawInspector)return a.ax.black;if(this.style.fog&&this.transform.projection.supportsFog&&!Ze){const qe=this.style.fog.properties.get("color").toArray01();return new a.ax(...qe)}if(this.style.fog&&this.transform.projection.supportsFog&&Ze){const qe=this.style.fog.properties.get("space-color").toArray01();return new a.ax(...qe)}return a.ax.transparent})();if(this.context.clear({color:pt,depth:1}),this.clearStencil(),this._showOverdrawInspector=g.showOverdrawInspector,this.renderPass="opaque",this.style.fog&&this.transform.projection.supportsFog&&this._atmosphere&&!this._showOverdrawInspector&&Ze&&this._atmosphere.drawStars(this,this.style.fog),!this.terrain)for(this.currentLayer=B.length-1;this.currentLayer>=0;this.currentLayer--){const qe=L[this.currentLayer],mt=d.getLayerSourceCache(qe);if(qe.isSky())continue;const Ft=mt?(qe.is3D()?Me:de)[mt.id]:void 0;this._renderTileClippingMasks(qe,mt,Ft),this.renderLayer(this,mt,qe,Ft)}if(this.style.fog&&this.transform.projection.supportsFog&&this._atmosphere&&!this._showOverdrawInspector&&Ze&&this._atmosphere.drawAtmosphereGlow(this,this.style.fog),this.renderPass="sky",(!this._atmosphere||a.S(this.transform.zoom)>0)&&(this.transform.projection.name==="globe"||this.transform.isHorizonVisible()))for(this.currentLayer=0;this.currentLayer<B.length;this.currentLayer++){const qe=L[this.currentLayer],mt=d.getLayerSourceCache(qe);qe.isSky()&&this.renderLayer(this,mt,qe,mt?de[mt.id]:void 0)}function st(qe,mt){let Ft;return mt&&(Ft=(qe.type==="symbol"?Ae:qe.is3D()?Me:de)[mt.id]),Ft}if(this.renderPass="translucent",this.transform.projection.name==="globe"){for(this.renderElevatedRasterBackface=!0,this.currentLayer=0;this.currentLayer<B.length;){const qe=L[this.currentLayer];if(qe.type==="raster"){const mt=d.getLayerSourceCache(qe);this.renderLayer(this,mt,qe,st(qe,mt))}++this.currentLayer}this.renderElevatedRasterBackface=!1}this.currentLayer=0,this.firstLightBeamLayer=Number.MAX_SAFE_INTEGER;let At=0;for(Ke&&(At=Ke.getShadowCastingLayerCount());this.currentLayer<B.length;){const qe=L[this.currentLayer],mt=d.getLayerSourceCache(qe);if(qe.isSky())++this.currentLayer;else if(Fe&&this.style.isLayerDraped(qe)){if(qe.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=Fe.renderBatch(this.currentLayer)}else{if(this._renderTileClippingMasks(qe,mt,mt?ae[mt.id]:void 0),this.renderLayer(this,mt,qe,st(qe,mt)),!Fe&&Ke&&At>0&&qe.hasShadowPass()&&--At==0&&(Ke.drawGroundShadows(),this.firstLightBeamLayer<=this.currentLayer)){const Ft=this.currentLayer;for(this.renderPass="light-beam",this.currentLayer=this.firstLightBeamLayer;this.currentLayer<=Ft;this.currentLayer++){const Ot=L[this.currentLayer];if(!Ot.hasLightBeamPass())continue;const Qt=d.getLayerSourceCache(Ot);this.renderLayer(this,Qt,Ot,Qt?de[Qt.id]:void 0)}this.currentLayer=Ft,this.renderPass="translucent"}++this.currentLayer}}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let qe=null;L.forEach(mt=>{const Ft=d.getLayerSourceCache(mt);Ft&&!mt.isHidden(this.transform.zoom)&&Ft.getVisibleCoordinates().length&&(!qe||qe.getSource().maxzoom<Ft.getSource().maxzoom)&&(qe=Ft)}),qe&&this.options.showTileBoundaries&&Jd.debug(this,qe,qe.getVisibleCoordinates(),a.ax.red,!1,this.options.showParseStatus)}this.terrain&&this._debugParams.showTerrainProxyTiles&&Jd.debug(this,this.terrain.proxySourceCache,this.terrain.proxyCoords,new a.ax(1,.8,.1,1),!0,this.options.showParseStatus),this.options.showPadding&&function(qe){const mt=qe.transform.padding;Pa(qe,qe.transform.height-(mt.top||0),3,Er),Pa(qe,mt.bottom||0,3,yi),Ma(qe,mt.left||0,3,Gr),Ma(qe,qe.transform.width-(mt.right||0),3,Wa);const Ft=qe.transform.centerPoint;(function(Ot,Qt,fn,Wt){Pi(Ot,Qt-1,fn-10,2,20,Wt),Pi(Ot,Qt-10,fn-1,20,2,Wt)})(qe,Ft.x,qe.transform.height-Ft.y,as)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(performance.now()),this.saveCanvasCopy()),Y||(this.conflationActive=!1)}prepareLayer(d){this.gpuTimingStart(d);const{unsupportedLayers:g}=this.transform.projection,x=!g||!g.includes(d.type);if(Wu[d.type]&&(x||this.terrain&&d.type==="custom")){const B=this.style.getLayerSourceCache(d);Wu[d.type](d,B,this)}this.gpuTimingEnd()}renderLayer(d,g,x,B){x.isHidden(this.transform.zoom)||(x.type==="background"||x.type==="sky"||x.type==="custom"||x.type==="model"||x.type==="raster"||x.type==="raster-particle"||B&&B.length)&&(this.id=x.id,this.gpuTimingStart(x),(!d.transform.projection.unsupportedLayers||!d.transform.projection.unsupportedLayers.includes(x.type)||d.terrain&&x.type==="custom")&&Jd[x.type](d,g,x,B,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(d){if(!this.options.gpuTiming)return;const g=this.context.extTimerQuery,x=this.context.gl;let B=this.gpuTimers[d.id];B||(B=this.gpuTimers[d.id]={calls:0,cpuTime:0,query:x.createQuery()}),B.calls++,x.beginQuery(g.TIME_ELAPSED_EXT,B.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const d=this.context.extTimerQuery,g=this.context.gl,x=g.createQuery();this.deferredRenderGpuTimeQueries.push(x),g.beginQuery(d.TIME_ELAPSED_EXT,x)}}gpuTimingDeferredRenderEnd(){this.options.gpuTimingDeferredRender&&this.context.gl.endQuery(this.context.extTimerQuery.TIME_ELAPSED_EXT)}gpuTimingEnd(){this.options.gpuTiming&&this.context.gl.endQuery(this.context.extTimerQuery.TIME_ELAPSED_EXT)}collectGpuTimers(){const d=this.gpuTimers;return this.gpuTimers={},d}collectDeferredRenderGpuQueries(){const d=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],d}queryGpuTimers(d){const g={};for(const x in d){const B=d[x],L=this.context.extTimerQuery,D=L.getQueryParameter(B.query,this.context.gl.QUERY_RESULT)/1e6;L.deleteQueryEXT(B.query),g[x]=D}return g}queryGpuTimeDeferredRender(d){if(!this.options.gpuTimingDeferredRender)return 0;const g=this.context.extTimerQuery,x=this.context.gl;let B=0;for(const L of d)B+=g.getQueryParameter(L,x.QUERY_RESULT)/1e6,g.deleteQueryEXT(L);return B}translatePosMatrix(d,g,x,B,L){if(!x[0]&&!x[1])return d;const D=L?B==="map"?this.transform.angle:0:B==="viewport"?-this.transform.angle:0;if(D){const ae=Math.sin(D),de=Math.cos(D);x=[x[0]*de-x[1]*ae,x[0]*ae+x[1]*de]}const $=[L?x[0]:a.a3(g,x[0],this.transform.zoom),L?x[1]:a.a3(g,x[1],this.transform.zoom),0],Y=new Float32Array(16);return a.a6.translate(Y,d,$),Y}saveTileTexture(d){const g=d.size[0],x=this._tileTextures[g];x?x.push(d):this._tileTextures[g]=[d]}getTileTexture(d){const g=this._tileTextures[d];return g&&g.length>0?g.pop():null}isPatternMissing(d,g){return d===null||d!==void 0&&!this.imageManager.getPattern(d.toString(),g)}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}linearFloatFilteringSupported(){return this.context.extTextureFloatLinear!=null}currentGlobalDefines(d,g,x){const B=x===void 0?this.terrain&&this.terrain.renderingToTexture:x,L=this.terrain&&this.terrain.exaggeration()===0,D=[];return this.style&&this.style.enable3dLights()&&(d==="globeRaster"||d==="terrainRaster"?(D.push("LIGHTING_3D_MODE"),D.push("LIGHTING_3D_ALPHA_EMISSIVENESS")):B||D.push("LIGHTING_3D_MODE")),this.renderPass==="shadow"?this._shadowMapDebug||D.push("DEPTH_TEXTURE"):this.shadowRenderer&&(this.shadowRenderer.useNormalOffset?D.push("RENDER_SHADOWS","DEPTH_TEXTURE","NORMAL_OFFSET"):D.push("RENDER_SHADOWS","DEPTH_TEXTURE")),this.terrainRenderModeElevated()&&(D.push("TERRAIN"),this.linearFloatFilteringSupported()&&D.push("TERRAIN_DEM_FLOAT_FORMAT"),L&&D.push("ZERO_EXAGGERATION")),this.transform.projection.name==="globe"&&D.push("GLOBE"),!this._fogVisible||B||g!==void 0&&!g||D.push("FOG","FOG_DITHERING"),B&&D.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&D.push("OVERDRAW_INSPECTOR"),D}getOrCreateProgram(d,g){this.cache=this.cache||{};const x=g&&g.defines||[],B=g&&g.config,L=g&&g.transformFeedback,D=this.currentGlobalDefines(d,g&&g.overrideFog,g&&g.overrideRtt).concat(x),$=Ku.cacheKey(Hm[d],d,D,B);return this.cache[$]||(this.cache[$]=new Ku(this.context,d,Hm[d],B,zy[d],D,L)),this.cache[$]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const d=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(d.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new a.T(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this._atmosphere&&(this._atmosphere.destroy(),this._atmosphere=void 0),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this._wireframeDebugCache.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}uploadCommonLightUniforms(d,g){if(this.style.enable3dLights()){const x=this.style.directionalLight,B=this.style.ambientLight;if(x&&B){const L=((D,$)=>{const Y=D.properties.get("direction"),ae=D.properties.get("color").toArray01(),de=D.properties.get("intensity"),Ae=$.properties.get("color").toArray01(),Ce=$.properties.get("intensity"),Me=[Y.x,Y.y,Y.z],He=a.cn(Ae,Ce),$e=a.cn(ae,de);return{u_lighting_ambient_color:He,u_lighting_directional_dir:Me,u_lighting_directional_color:$e,u_ground_radiance:T1(Me,$e,He)}})(x,B);g.setLightsUniformValues(d,L)}}}uploadCommonUniforms(d,g,x,B,L){if(this.uploadCommonLightUniforms(d,g),this.terrain&&this.terrain.renderingToTexture)return;const D=this.style.fog;if(D){const $=D.getOpacity(this.transform.pitch),Y=((ae,de,Ae,Ce,Me,He,$e,Ke,Fe,Ze,pt,st)=>{const At=ae.transform,qe=de.properties.get("color").toArray01();qe[3]=Ce;const mt=ae.frameCounter/1e3%1,[Ft,Ot]=de.properties.get("vertical-range");return{u_fog_matrix:Ae?At.calculateFogTileMatrix(Ae):st||ae.identityMat,u_fog_range:de.getFovAdjustedRange(At._fov),u_fog_color:qe,u_fog_horizon_blend:de.properties.get("horizon-blend"),u_fog_vertical_limit:[Math.min(Ft,Ot),Ot],u_fog_temporal_offset:mt,u_frustum_tl:Me,u_frustum_tr:He,u_frustum_br:$e,u_frustum_bl:Ke,u_globe_pos:Fe,u_globe_radius:Ze,u_viewport:pt,u_globe_transition:a.S(At.zoom),u_is_globe:+(At.projection.name==="globe")}})(this,D,x,$,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*a.f.devicePixelRatio,this.transform.height*a.f.devicePixelRatio],B);g.setFogUniformValues(d,Y)}L&&g.setCutoffUniformValues(d,L.uniformValues)}setTileLoadedFlag(d){this.tileLoaded=d}saveCanvasCopy(){const d=this.canvasCopy();d&&(this.frameCopies.push(d),this.tileLoaded=!1)}canvasCopy(){const d=this.context.gl,g=d.createTexture();return d.bindTexture(d.TEXTURE_2D,g),d.copyTexImage2D(d.TEXTURE_2D,0,d.RGBA,0,0,d.drawingBufferWidth,d.drawingBufferHeight,0),g}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const d=this.style&&this.style.fog;return!!d&&d.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const d=this._backgroundTiles,g=this._backgroundTiles={},x=this.transform.coveringTiles({tileSize:512});for(const B of x)g[B.key]=d[B.key]||new Su(B,512,this.transform.tileZoom,this);return g}clearBackgroundTiles(){this._backgroundTiles={}}layerUsedInConflation(d,g){return!(!d.is3D()||d.minzoom&&d.minzoom>this.transform.zoom||d.sourceLayer!=="building"&&(!g||g.type!=="batched-model"))}isTileAffectedByFog(d){if(!this.style||!this.style.fog)return!1;if(this.transform.projection.name==="globe")return!0;let g=this._cachedTileFogOpacities[d.key];return g||(this._cachedTileFogOpacities[d.key]=g=this.style.fog.getOpacityForTile(d)),g[0]>=tr||g[1]>=tr}}function _h(w,d){let g=!1,x=null;const B=()=>{x=null,g&&(w(),x=setTimeout(B,d),g=!1)};return()=>(g=!0,x||B(),x)}class Jm{constructor(d){this._hashName=d&&encodeURIComponent(d),a.aY(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=_h(this._updateHashUnthrottled.bind(this),300)}addTo(d){return this._map=d,window.addEventListener("hashchange",this._onHashChange,!1),d.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const d=this._map;if(!d)return"";const g=TA(d);if(this._hashName){const x=this._hashName;let B=!1;const L=location.hash.slice(1).split("&").map(D=>{const $=D.split("=")[0];return $===x?(B=!0,`${$}=${g}`):D}).filter(D=>D);return B||L.push(`${x}=${g}`),`#${L.join("&")}`}return`#${g}`}_getCurrentHash(){const d=location.hash.replace("#","");if(this._hashName){let g;return d.split("&").map(x=>x.split("=")).forEach(x=>{x[0]===this._hashName&&(g=x)}),(g&&g[1]||"").split("/")}return d.split("/")}_onHashChange(){const d=this._map;if(!d)return!1;const g=this._getCurrentHash();if(g.length>=3&&!g.some(x=>isNaN(x))){const x=d.dragRotate.isEnabled()&&d.touchZoomRotate.isEnabled()?+(g[3]||0):d.getBearing();return d.jumpTo({center:[+g[2],+g[1]],zoom:+g[0],bearing:x,pitch:+(g[4]||0)}),!0}return!1}_updateHashUnthrottled(){history.replaceState(history.state,"",location.href.replace(/(#.+)?$/,this.getHashString()))}}function TA(w,d){const g=w.getCenter(),x=Math.round(100*w.getZoom())/100,B=Math.ceil((x*Math.LN2+Math.log(512/360/.5))/Math.LN10),L=Math.pow(10,B),D=Math.round(g.lng*L)/L,$=Math.round(g.lat*L)/L,Y=w.getBearing(),ae=w.getPitch();let de=d?`/${D}/${$}/${x}`:`${x}/${$}/${D}`;return(Y||ae)&&(de+="/"+Math.round(10*Y)/10),ae&&(de+=`/${Math.round(ae)}`),de}const BA={linearity:.3,easing:a.c_(0,0,.3,1)},Al=a.e({deceleration:2500,maxSpeed:1400},BA),P1=a.e({deceleration:20,maxSpeed:1400},BA),sp=a.e({deceleration:1e3,maxSpeed:360},BA),Ha=a.e({deceleration:1e3,maxSpeed:90},BA);class Sa{constructor(d){this._map=d,this.clear()}clear(){this._inertiaBuffer=[]}record(d){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.f.now(),settings:d})}_drainInertiaBuffer(){const d=this._inertiaBuffer,g=a.f.now();for(;d.length>0&&g-d[0].time>160;)d.shift()}_onMoveEnd(d){if(this._map._prefersReducedMotion()||(this._drainInertiaBuffer(),this._inertiaBuffer.length<2))return;const g={zoom:0,bearing:0,pitch:0,pan:new a.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:L}of this._inertiaBuffer)g.zoom+=L.zoomDelta||0,g.bearing+=L.bearingDelta||0,g.pitch+=L.pitchDelta||0,L.panDelta&&g.pan._add(L.panDelta),L.around&&(g.around=L.around),L.pinchAround&&(g.pinchAround=L.pinchAround);const x=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,B={};if(g.pan.mag()){const L=qu(g.pan.mag(),x,a.e({},Al,d||{}));B.offset=g.pan.mult(L.amount/g.pan.mag()),B.center=this._map.transform.center,eg(B,L)}if(g.zoom){const L=qu(g.zoom,x,P1);B.zoom=this._map.transform.zoom+L.amount,eg(B,L)}if(g.bearing){const L=qu(g.bearing,x,sp);B.bearing=this._map.transform.bearing+a.aa(L.amount,-179,179),eg(B,L)}if(g.pitch){const L=qu(g.pitch,x,Ha);B.pitch=this._map.transform.pitch+L.amount,eg(B,L)}if(B.zoom||B.bearing){const L=g.pinchAround===void 0?g.around:g.pinchAround;B.around=L?this._map.unproject(L):this._map.getCenter()}return this.clear(),B.noMoveStart=!0,B}}function eg(w,d){(!w.duration||w.duration<d.duration)&&(w.duration=d.duration,w.easing=d.easing)}function qu(w,d,g){const{maxSpeed:x,linearity:B,deceleration:L}=g,D=a.aa(w*B/(d/1e3),-x,x),$=Math.abs(D)/(L*B);return{easing:g.easing,duration:1e3*$,amount:D*($/2)}}class go extends a.b{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(d,g,x,B={}){const L=Q(g.getCanvasContainer(),x),D=g.unproject(L);super(d,a.e({point:L,lngLat:D,originalEvent:x},B)),this._defaultPrevented=!1,this.target=g}}class pd extends a.b{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(d,g,x){const B=d==="touchend"?x.changedTouches:x.touches,L=j(g.getCanvasContainer(),B),D=L.map(Y=>g.unproject(Y)),$=L.reduce((Y,ae,de,Ae)=>Y.add(ae.div(Ae.length)),new a.P(0,0));super(d,{points:L,point:$,lngLats:D,lngLat:g.unproject($),originalEvent:x}),this._defaultPrevented=!1}}class F1 extends a.b{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(d,g,x){super(d,{originalEvent:x}),this._defaultPrevented=!1}}class k1{constructor(d,g){this._map=d,this._clickTolerance=g.clickTolerance}reset(){this._mousedownPos=void 0}wheel(d){return this._firePreventable(new F1(d.type,this._map,d))}mousedown(d,g){return this._mousedownPos=g,this._firePreventable(new go(d.type,this._map,d))}mouseup(d){this._map.fire(new go(d.type,this._map,d))}preclick(d){const g=a.e({},d);g.type="preclick",this._map.fire(new go(g.type,this._map,g))}click(d,g){this._mousedownPos&&this._mousedownPos.dist(g)>=this._clickTolerance||(this.preclick(d),this._map.fire(new go(d.type,this._map,d)))}dblclick(d){return this._firePreventable(new go(d.type,this._map,d))}mouseover(d){this._map.fire(new go(d.type,this._map,d))}mouseout(d){this._map.fire(new go(d.type,this._map,d))}touchstart(d){return this._firePreventable(new pd(d.type,this._map,d))}touchmove(d){this._map.fire(new pd(d.type,this._map,d))}touchend(d){this._map.fire(new pd(d.type,this._map,d))}touchcancel(d){this._map.fire(new pd(d.type,this._map,d))}_firePreventable(d){if(this._map.fire(d),d.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Ad{constructor(d){this._map=d}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(d){this._map.fire(new go(d.type,this._map,d))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new go("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(d){this._delayContextMenu?this._contextMenuEvent=d:this._map.fire(new go(d.type,this._map,d)),this._map.listens("contextmenu")&&d.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class jc{constructor(d,g){this._map=d,this._el=d.getCanvasContainer(),this._container=d.getContainer(),this._clickTolerance=g.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(d,g){this.isEnabled()&&d.shiftKey&&d.button===0&&(F(),this._startPos=this._lastPos=g,this._active=!0)}mousemoveWindow(d,g){if(!this._active)return;const x=g,B=this._startPos,L=this._lastPos;if(!B||!L||L.equals(x)||!this._box&&x.dist(B)<this._clickTolerance)return;this._lastPos=x,this._box||(this._box=y("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",d));const D=Math.min(B.x,x.x),$=Math.max(B.x,x.x),Y=Math.min(B.y,x.y),ae=Math.max(B.y,x.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${D}px,${Y}px)`,this._box.style.width=$-D+"px",this._box.style.height=ae-Y+"px")})}mouseupWindow(d,g){if(!this._active)return;const x=this._startPos,B=g;if(x&&d.button===0){if(this.reset(),z(),x.x!==B.x||x.y!==B.y)return this._map.fire(new a.b("boxzoomend",{originalEvent:d})),{cameraAnimation:L=>L.fitScreenCoordinates(x,B,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",d)}}keydown(d){this._active&&d.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",d))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),R(),delete this._startPos,delete this._lastPos}_fireEvent(d,g){return this._map.fire(new a.b(d,{originalEvent:g}))}}function op(w,d){const g={};for(let x=0;x<w.length;x++)g[w[x].identifier]=d[x];return g}class tg{constructor(d){this.reset(),this.numTouches=d.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(d,g,x){(this.centroid||x.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=d.timeStamp),x.length===this.numTouches&&(this.centroid=function(B){const L=new a.P(0,0);for(const D of B)L._add(D);return L.div(B.length)}(g),this.touches=op(x,g)))}touchmove(d,g,x){if(this.aborted||!this.centroid)return;const B=op(x,g);for(const L in this.touches){const D=B[L];(!D||D.dist(this.touches[L])>30)&&(this.aborted=!0)}}touchend(d,g,x){if((!this.centroid||d.timeStamp-this.startTime>500)&&(this.aborted=!0),x.length===0){const B=!this.aborted&&this.centroid;if(this.reset(),B)return B}}}class ef{constructor(d){this.singleTap=new tg(d),this.numTaps=d.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(d,g,x){this.singleTap.touchstart(d,g,x)}touchmove(d,g,x){this.singleTap.touchmove(d,g,x)}touchend(d,g,x){const B=this.singleTap.touchend(d,g,x);if(B){const L=d.timeStamp-this.lastTime<500,D=!this.lastTap||this.lastTap.dist(B)<30;if(L&&D||this.reset(),this.count++,this.lastTime=d.timeStamp,this.lastTap=B,this.count===this.numTaps)return this.reset(),B}}}class ng{constructor(){this._zoomIn=new ef({numTouches:1,numTaps:2}),this._zoomOut=new ef({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(d,g,x){this._zoomIn.touchstart(d,g,x),this._zoomOut.touchstart(d,g,x)}touchmove(d,g,x){this._zoomIn.touchmove(d,g,x),this._zoomOut.touchmove(d,g,x)}touchend(d,g,x){const B=this._zoomIn.touchend(d,g,x),L=this._zoomOut.touchend(d,g,x);return B?(this._active=!0,d.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:D=>D.easeTo({duration:300,zoom:D.getZoom()+1,around:D.unproject(B)},{originalEvent:d})}):L?(this._active=!0,d.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:D=>D.easeTo({duration:300,zoom:D.getZoom()-1,around:D.unproject(L)},{originalEvent:d})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const lp={0:1,2:2};class Gc{constructor(d){this.reset(),this._clickTolerance=d.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(d,g){return!1}_move(d,g){return{}}mousedown(d,g){if(this._lastPoint)return;const x=H(d);this._correctButton(d,x)&&(this._lastPoint=g,this._eventButton=x)}mousemoveWindow(d,g){const x=this._lastPoint;if(x){if(d.preventDefault(),this._eventButton!=null&&function(B,L){const D=lp[L];return B.buttons===void 0||(B.buttons&D)!==D}(d,this._eventButton))this.reset();else if(this._moved||!(g.dist(x)<this._clickTolerance))return this._moved=!0,this._lastPoint=g,this._move(x,g)}}mouseupWindow(d){this._lastPoint&&H(d)===this._eventButton&&(this._moved&&z(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class R1 extends Gc{mousedown(d,g){super.mousedown(d,g),this._lastPoint&&(this._active=!0)}_correctButton(d,g){return g===0&&!d.ctrlKey}_move(d,g){return{around:g,panDelta:g.sub(d)}}}class tf extends Gc{_correctButton(d,g){return g===0&&d.ctrlKey||g===2}_move(d,g){const x=.8*(g.x-d.x);if(x)return this._active=!0,{bearingDelta:x}}contextmenu(d){d.preventDefault()}}class rg extends Gc{_correctButton(d,g){return g===0&&d.ctrlKey||g===2}_move(d,g){const x=-.5*(g.y-d.y);if(x)return this._active=!0,{pitchDelta:x}}contextmenu(d){d.preventDefault()}}class ig{constructor(d,g){this._map=d,this._el=d.getCanvasContainer(),this._minTouches=1,this._clickTolerance=g.clickTolerance||1,this.reset(),a.aY(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new a.P(0,0)}touchstart(d,g,x){return this._calculateTransform(d,g,x)}touchmove(d,g,x){if(this._active&&!(x.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(x.length===1&&!a.c$())return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return d.cancelable&&d.preventDefault(),this._calculateTransform(d,g,x)}}touchend(d,g,x){this._calculateTransform(d,g,x),this._active&&x.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(d,g,x){x.length>0&&(this._active=!0);const B=op(x,g),L=new a.P(0,0),D=new a.P(0,0);let $=0;for(const ae in B){const de=B[ae],Ae=this._touches[ae];Ae&&(L._add(de),D._add(de.sub(Ae)),$++,B[ae]=de)}if(this._touches=B,$<this._minTouches||!D.mag())return;const Y=D.div($);return this._sum._add(Y),this._sum.mag()<this._clickTolerance?void 0:{around:L.div($),panDelta:Y}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=y("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.removeAttribute("role")},500)}}class ws{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(d){}_move(d,g,x){return{}}touchstart(d,g,x){this._firstTwoTouches||x.length<2||(this._firstTwoTouches=[x[0].identifier,x[1].identifier],this._start([g[0],g[1]]))}touchmove(d,g,x){const B=this._firstTwoTouches;if(!B)return;d.preventDefault();const[L,D]=B,$=up(x,g,L),Y=up(x,g,D);if(!$||!Y)return;const ae=this._aroundCenter?null:$.add(Y).div(2);return this._move([$,Y],ae,d)}touchend(d,g,x){if(!this._firstTwoTouches)return;const[B,L]=this._firstTwoTouches,D=up(x,g,B),$=up(x,g,L);D&&$||(this._active&&z(),this.reset())}touchcancel(){this.reset()}enable(d){this._enabled=!0,this._aroundCenter=!!d&&d.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function up(w,d,g){for(let x=0;x<w.length;x++)if(w[x].identifier===g)return d[x]}function ag(w,d){return Math.log(w/d)/Math.LN2}class sg extends ws{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(d){this._startDistance=this._distance=d[0].dist(d[1])}_move(d,g){const x=this._distance;if(this._distance=d[0].dist(d[1]),this._active||!(Math.abs(ag(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:ag(this._distance,x),pinchAround:g}}}function md(w,d){return 180*w.angleWith(d)/Math.PI}class nf extends ws{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(d){this._startVector=this._vector=d[0].sub(d[1]),this._minDiameter=d[0].dist(d[1])}_move(d,g){const x=this._vector;if(this._vector=d[0].sub(d[1]),x&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:md(this._vector,x),pinchAround:g}}_isBelowThreshold(d){this._minDiameter=Math.min(this._minDiameter,d.mag());const g=25/(Math.PI*this._minDiameter)*360,x=this._startVector;if(!x)return!1;const B=md(d,x);return Math.abs(B)<g}}function og(w){return Math.abs(w.y)>Math.abs(w.x)}class T0 extends ws{constructor(d){super(),this._map=d}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(d){this._lastPoints=d,og(d[0].sub(d[1]))&&(this._valid=!1)}_move(d,g,x){const B=this._lastPoints;if(!B)return;const L=d[0].sub(B[0]),D=d[1].sub(B[1]);return this._map._cooperativeGestures&&!a.c$()&&x.touches.length<3||(this._valid=this.gestureBeginsVertically(L,D,x.timeStamp),!this._valid)?void 0:(this._lastPoints=d,this._active=!0,{pitchDelta:(L.y+D.y)/2*-.5})}gestureBeginsVertically(d,g,x){if(this._valid!==void 0)return this._valid;const B=d.mag()>=2,L=g.mag()>=2;if(!B&&!L)return;if(!B||!L)return this._firstMove==null&&(this._firstMove=x),x-this._firstMove<100&&void 0;const D=d.y>0==g.y>0;return og(d)&&og(g)&&D}}const cp={panStep:100,bearingStep:15,pitchStep:10};class MA{constructor(){const d=cp;this._panStep=d.panStep,this._bearingStep=d.bearingStep,this._pitchStep=d.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(d){if(d.altKey||d.ctrlKey||d.metaKey)return;let g=0,x=0,B=0,L=0,D=0;switch(d.keyCode){case 61:case 107:case 171:case 187:g=1;break;case 189:case 109:case 173:g=-1;break;case 37:d.shiftKey?x=-1:(d.preventDefault(),L=-1);break;case 39:d.shiftKey?x=1:(d.preventDefault(),L=1);break;case 38:d.shiftKey?B=1:(d.preventDefault(),D=-1);break;case 40:d.shiftKey?B=-1:(d.preventDefault(),D=1);break;default:return}return this._rotationDisabled&&(x=0,B=0),{cameraAnimation:$=>{const Y=$.getZoom();$.easeTo({duration:300,easeId:"keyboardHandler",easing:O1,zoom:g?Math.round(Y)+g*(d.shiftKey?2:1):Y,bearing:$.getBearing()+x*this._bearingStep,pitch:$.getPitch()+B*this._pitchStep,offset:[-L*this._panStep,-D*this._panStep],center:$.getCenter()},{originalEvent:d})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function O1(w){return w*(2-w)}const gd=4.000244140625,lg=1/450;class ug{constructor(d,g){this._map=d,this._el=d.getCanvasContainer(),this._handler=g,this._delta=0,this._lastDelta=0,this._defaultZoomRate=.01,this._wheelZoomRate=lg,a.aY(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(d){this._defaultZoomRate=d}setWheelZoomRate(d){this._wheelZoomRate=d}isEnabled(){return!!this._enabled}isActive(){return this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(d){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!d&&d.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(d){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(d.ctrlKey||d.metaKey||this.isZooming()||a.c$()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let g=d.deltaMode===WheelEvent.DOM_DELTA_LINE?40*d.deltaY:d.deltaY;const x=a.f.now(),B=x-(this._lastWheelEventTime||0);this._lastWheelEventTime=x,g!==0&&g%gd==0?this._type="wheel":g!==0&&Math.abs(g)<4?this._type="trackpad":B>400?(this._type=null,this._lastValue=g,this._timeout=setTimeout(this._onTimeout,40,d)):this._type||(this._type=Math.abs(B*g)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,g+=this._lastValue)),d.shiftKey&&g&&(g/=4),this._type&&(this._lastWheelEvent=d,this._delta-=g,this._active||this._start(d)),d.preventDefault()}_onTimeout(d){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(d)}_start(d){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const g=Q(this._el,d);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:g,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const d=this._map.transform;this._type==="wheel"&&d.projection.wrap&&(d._center.lng>=180||d._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const g=()=>d._terrainEnabled()&&this._aroundCoord?d.computeZoomRelativeTo(this._aroundCoord):d.zoom;if(this._delta!==0){const ae=this._type==="wheel"&&Math.abs(this._delta)>gd?this._wheelZoomRate:this._defaultZoomRate;let de=2/(1+Math.exp(-Math.abs(this._delta*ae)));this._delta<0&&de!==0&&(de=1/de);const Ae=g(),Ce=Math.pow(2,Ae),Me=typeof this._targetZoom=="number"?d.zoomScale(this._targetZoom):Ce;this._targetZoom=Math.min(d.maxZoom,Math.max(d.minZoom,d.scaleZoom(Me*de))),this._type==="wheel"&&(this._startZoom=Ae,this._easing=this._smoothOutEasing(200)),this._lastDelta=this._delta,this._delta=0}const x=typeof this._targetZoom=="number"?this._targetZoom:g(),B=this._startZoom,L=this._easing;let D,$=!1;if(this._type==="wheel"&&B&&L){const ae=Math.min((a.f.now()-this._lastWheelEventTime)/200,1),de=L(ae);D=a.U(B,x,de),ae<1?this._frameId||(this._frameId=!0):$=!0}else D=x,$=!0;this._active=!0,$&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200));let Y=D-g();return Y*this._lastDelta<0&&(Y=0),{noInertia:!0,needsRenderFrame:!$,zoomDelta:Y,around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(d){let g=a.d0;if(this._prevEase){const x=this._prevEase,B=(a.f.now()-x.start)/x.duration,L=x.easing(B+.01)-x.easing(B),D=.27/Math.sqrt(L*L+1e-4)*.01,$=Math.sqrt(.0729-D*D);g=a.c_(D,$,.25,1)}return this._prevEase={start:a.f.now(),duration:d,easing:g},g}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=y("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.removeAttribute("role")},200)}}class yh{constructor(d,g){this._clickZoom=d,this._tapZoom=g}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class vd{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(d,g){return d.preventDefault(),{cameraAnimation:x=>{x.easeTo({duration:300,zoom:x.getZoom()+(d.shiftKey?-1:1),around:x.unproject(g)},{originalEvent:d})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class _d{constructor(){this._tap=new ef({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(d,g,x){this._swipePoint||(this._tapTime&&d.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?x.length>0&&(this._swipePoint=g[0],this._swipeTouch=x[0].identifier):this._tap.touchstart(d,g,x))}touchmove(d,g,x){if(this._tapTime){if(this._swipePoint){if(x[0].identifier!==this._swipeTouch)return;const B=g[0],L=B.y-this._swipePoint.y;return this._swipePoint=B,d.preventDefault(),this._active=!0,{zoomDelta:L/128}}}else this._tap.touchmove(d,g,x)}touchend(d,g,x){this._tapTime?this._swipePoint&&x.length===0&&this.reset():this._tap.touchend(d,g,x)&&(this._tapTime=d.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class cg{constructor(d,g,x){this._el=d,this._mousePan=g,this._touchPan=x}enable(d){this._inertiaOptions=d||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class B0{constructor(d,g,x){this._pitchWithRotate=d.pitchWithRotate,this._mouseRotate=g,this._mousePitch=x}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class D1{constructor(d,g,x,B){this._el=d,this._touchZoom=g,this._touchRotate=x,this._tapDragZoom=B,this._rotationDisabled=!1,this._enabled=!0}enable(d){this._touchZoom.enable(d),this._rotationDisabled||this._touchRotate.enable(d),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const hg=w=>w.zoom||w.drag||w.pitch||w.rotate;class M0 extends a.b{}class I0{constructor(){this.constants=[1,1,.01],this.radius=0}setup(d,g){const x=a.N.sub([],g,d);this.radius=a.N.length(x[2]<0?a.N.div([],x,this.constants):[x[0],x[1],0])}projectRay(d){a.N.div(d,d,this.constants),a.N.normalize(d,d),a.N.mul(d,d,this.constants);const g=a.N.scale([],d,this.radius);if(g[2]>0){const x=a.N.scale([],[0,0,1],a.N.dot(g,[0,0,1])),B=a.N.scale([],a.N.normalize([],[g[0],g[1],0]),this.radius),L=a.N.add([],g,a.N.scale([],a.N.sub([],a.N.add([],B,x),g),2));g[0]=L[0],g[1]=L[1]}return g}}function N1(w){return w.panDelta&&w.panDelta.mag()||w.zoomDelta||w.bearingDelta||w.pitchDelta}class CM{constructor(d,g){this._map=d,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Sa(d),this._bearingSnap=g.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new I0,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(g),a.aY(["handleEvent","handleWindowEvent"],this);const x=this._el;this._listeners=[[x,"touchstart",{passive:!0}],[x,"touchmove",{passive:!1}],[x,"touchend",void 0],[x,"touchcancel",void 0],[x,"mousedown",void 0],[x,"mousemove",void 0],[x,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[x,"mouseover",void 0],[x,"mouseout",void 0],[x,"dblclick",void 0],[x,"click",void 0],[x,"keydown",{capture:!1}],[x,"keyup",void 0],[x,"wheel",{passive:!1}],[x,"contextmenu",void 0],[window,"blur",void 0]];for(const[B,L,D]of this._listeners){const $=B===document?this.handleWindowEvent:this.handleEvent;B.addEventListener(L,$,D)}}destroy(){for(const[d,g,x]of this._listeners){const B=d===document?this.handleWindowEvent:this.handleEvent;d.removeEventListener(g,B,x)}}_addDefaultHandlers(d){const g=this._map,x=g.getCanvasContainer();this._add("mapEvent",new k1(g,d));const B=g.boxZoom=new jc(g,d);this._add("boxZoom",B);const L=new ng,D=new vd;g.doubleClickZoom=new yh(D,L),this._add("tapZoom",L),this._add("clickZoom",D);const $=new _d;this._add("tapDragZoom",$);const Y=g.touchPitch=new T0(g);this._add("touchPitch",Y);const ae=new tf(d),de=new rg(d);g.dragRotate=new B0(d,ae,de),this._add("mouseRotate",ae,["mousePitch"]),this._add("mousePitch",de,["mouseRotate"]);const Ae=new R1(d),Ce=new ig(g,d);g.dragPan=new cg(x,Ae,Ce),this._add("mousePan",Ae),this._add("touchPan",Ce,["touchZoom","touchRotate"]);const Me=new nf,He=new sg;g.touchZoomRotate=new D1(x,He,Me,$),this._add("touchRotate",Me,["touchPan","touchZoom"]),this._add("touchZoom",He,["touchPan","touchRotate"]),this._add("blockableMapEvent",new Ad(g));const $e=g.scrollZoom=new ug(g,this);this._add("scrollZoom",$e,["mousePan"]);const Ke=g.keyboard=new MA;this._add("keyboard",Ke);for(const Fe of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])d.interactive&&d[Fe]&&g[Fe].enable(d[Fe])}_add(d,g,x){this._handlers.push({handlerName:d,handler:g,allowed:x}),this._handlersById[d]=g}stop(d){if(!this._updatingCamera){for(const{handler:g}of this._handlers)g.reset();this._inertia.clear(),this._fireEvents({},{},d),this._changes=[],this._originalZoom=void 0}}isActive(){for(const{handler:d}of this._handlers)if(d.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!hg(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(d,g,x){for(const B in d)if(B!==x&&(!g||g.indexOf(B)<0))return!0;return!1}handleWindowEvent(d){this.handleEvent(d,`${d.type}Window`)}_getMapTouches(d){const g=[];for(const x of d)this._el.contains(x.target)&&g.push(x);return g}handleEvent(d,g){this._updatingCamera=!0;const x=d.type==="renderFrame",B=x?void 0:d,L={needsRenderFrame:!1},D={},$={},Y=d.touches?this._getMapTouches(d.touches):void 0,ae=Y?j(this._el,Y):x?void 0:Q(this._el,d);for(const{handlerName:Ce,handler:Me,allowed:He}of this._handlers){if(!Me.isEnabled())continue;let $e;this._blockedByActive($,He,Ce)?Me.reset():Me[g||d.type]&&($e=Me[g||d.type](d,ae,Y),this.mergeHandlerResult(L,D,$e,Ce,B),$e&&$e.needsRenderFrame&&this._triggerRenderFrame()),($e||Me.isActive())&&($[Ce]=Me)}const de={};for(const Ce in this._previousActiveHandlers)$[Ce]||(de[Ce]=B);this._previousActiveHandlers=$,(Object.keys(de).length||N1(L))&&(this._changes.push([L,D,de]),this._triggerRenderFrame()),(Object.keys($).length||N1(L))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:Ae}=L;Ae&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Ae(this._map))}mergeHandlerResult(d,g,x,B,L){if(!x)return;a.e(d,x);const D={handlerName:B,originalEvent:x.originalEvent||L};x.zoomDelta!==void 0&&(g.zoom=D),x.panDelta!==void 0&&(g.drag=D),x.pitchDelta!==void 0&&(g.pitch=D),x.bearingDelta!==void 0&&(g.rotate=D)}_applyChanges(){const d={},g={},x={};for(const[B,L,D]of this._changes)B.panDelta&&(d.panDelta=(d.panDelta||new a.P(0,0))._add(B.panDelta)),B.zoomDelta&&(d.zoomDelta=(d.zoomDelta||0)+B.zoomDelta),B.bearingDelta&&(d.bearingDelta=(d.bearingDelta||0)+B.bearingDelta),B.pitchDelta&&(d.pitchDelta=(d.pitchDelta||0)+B.pitchDelta),B.around!==void 0&&(d.around=B.around),B.aroundCoord!==void 0&&(d.aroundCoord=B.aroundCoord),B.pinchAround!==void 0&&(d.pinchAround=B.pinchAround),B.noInertia&&(d.noInertia=B.noInertia),a.e(g,L),a.e(x,D);this._updateMapTransform(d,g,x),this._changes=[]}_updateMapTransform(d,g,x){const B=this._map,L=B.transform,D=Ze=>[Ze.x,Ze.y,Ze.z];if((Ze=>{const pt=this._eventsInProgress.drag;return pt&&!this._handlersById[pt.handlerName].isActive()})()&&!N1(d)){const Ze=L.zoom;L.cameraElevationReference="sea",this._originalZoom!=null&&L._orthographicProjectionAtLowPitch&&L.projection.name!=="globe"&&L.pitch===0?(L.cameraElevationReference="ground",L.zoom=this._originalZoom):(L.recenterOnTerrain(),L.cameraElevationReference="ground"),Ze!==L.zoom&&this._map._update(!0)}if(L._isCameraConstrained&&B._stop(!0),!N1(d))return void this._fireEvents(g,x,!0);let{panDelta:$,zoomDelta:Y,bearingDelta:ae,pitchDelta:de,around:Ae,aroundCoord:Ce,pinchAround:Me}=d;L._isCameraConstrained&&(Y>0&&(Y=0),L._isCameraConstrained=!1),Me!==void 0&&(Ae=Me),(Y||(Ze=>g[Ze]&&!this._eventsInProgress[Ze])("drag"))&&Ae&&(this._dragOrigin=D(L.pointCoordinate3D(Ae)),this._originalZoom=L.zoom,this._trackingEllipsoid.setup(L._camera.position,this._dragOrigin)),L.cameraElevationReference="sea",B._stop(!0),Ae=Ae||B.transform.centerPoint,ae&&(L.bearing+=ae),de&&(L.pitch+=de),L._updateCameraState();const He=[0,0,0];if($)if(L.projection.name==="mercator"){const Ze=this._trackingEllipsoid.projectRay(L.screenPointToMercatorRay(Ae).dir),pt=this._trackingEllipsoid.projectRay(L.screenPointToMercatorRay(Ae.sub($)).dir);He[0]=pt[0]-Ze[0],He[1]=pt[1]-Ze[1]}else{const Ze=L.pointCoordinate(Ae);if(L.projection.name==="globe"){$=$.rotate(-L.angle);const pt=L._pixelsPerMercatorPixel/L.worldSize;He[0]=-$.x*a.d1(a.au(Ze.y))*pt,He[1]=-$.y*a.d1(L.center.lat)*pt}else{const pt=L.pointCoordinate(Ae.sub($));Ze&&pt&&(He[0]=pt.x-Ze.x,He[1]=pt.y-Ze.y)}}const $e=L.zoom,Ke=[0,0,0];if(Y){const Ze=D(Ce||L.pointCoordinate3D(Ae)),pt={dir:a.N.normalize([],a.N.sub([],Ze,L._camera.position))};if(pt.dir[2]<0){const st=L.zoomDeltaToMovement(Ze,Y);a.N.scale(Ke,pt.dir,st)}}const Fe=a.N.add(He,He,Ke);L._translateCameraConstrained(Fe),Y&&Math.abs(L.zoom-$e)>1e-4&&L.recenterOnTerrain(),L.cameraElevationReference="ground",this._map._update(),d.noInertia||this._inertia.record(d),this._fireEvents(g,x,!0)}_fireEvents(d,g,x){const B=hg(this._eventsInProgress),L=hg(d),D={};for(const de in d){const{originalEvent:Ae}=d[de];this._eventsInProgress[de]||(D[`${de}start`]=Ae),this._eventsInProgress[de]=d[de]}!B&&L&&this._fireEvent("movestart",L.originalEvent);for(const de in D)this._fireEvent(de,D[de]);L&&this._fireEvent("move",L.originalEvent);for(const de in d){const{originalEvent:Ae}=d[de];this._fireEvent(de,Ae)}const $={};let Y;for(const de in this._eventsInProgress){const{handlerName:Ae,originalEvent:Ce}=this._eventsInProgress[de];this._handlersById[Ae].isActive()||(delete this._eventsInProgress[de],Y=g[Ae]||Ce,$[`${de}end`]=Y)}for(const de in $)this._fireEvent(de,$[de]);const ae=hg(this._eventsInProgress);if(x&&(B||L)&&!ae){this._updatingCamera=!0;const de=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Ae=Ce=>Ce!==0&&-this._bearingSnap<Ce&&Ce<this._bearingSnap;de?(Ae(de.bearing||this._map.getBearing())&&(de.bearing=0),this._map.easeTo(de,{originalEvent:Y})):(this._map.fire(new a.b("moveend",{originalEvent:Y})),Ae(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(d,g){this._map.fire(new a.b(d,g?{originalEvent:g}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(d=>{this._frameId=void 0,this.handleEvent(new M0("renderFrame",{timeStamp:d})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const y5="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class Xs extends a.E{constructor(d,g){super(),this._moving=!1,this._zooming=!1,this.transform=d,this._bearingSnap=g.bearingSnap,this._respectPrefersReducedMotion=g.respectPrefersReducedMotion!==!1,a.aY(["_renderFrameCallback"],this)}getCenter(){return new a.bn(this.transform.center.lng,this.transform.center.lat)}setCenter(d,g){return this.jumpTo({center:d},g)}panBy(d,g,x){return d=a.P.convert(d).mult(-1),this.panTo(this.transform.center,a.e({offset:d},g),x)}panTo(d,g,x){return this.easeTo(a.e({center:d},g),x)}getZoom(){return this.transform.zoom}setZoom(d,g){return this.jumpTo({zoom:d},g),this}zoomTo(d,g,x){return this.easeTo(a.e({zoom:d},g),x)}zoomIn(d,g){return this.zoomTo(this.getZoom()+1,d,g),this}zoomOut(d,g){return this.zoomTo(this.getZoom()-1,d,g),this}getBearing(){return this.transform.bearing}setBearing(d,g){return this.jumpTo({bearing:d},g),this}getPadding(){return this.transform.padding}setPadding(d,g){return this.jumpTo({padding:d},g),this}rotateTo(d,g,x){return this.easeTo(a.e({bearing:d},g),x)}resetNorth(d,g){return this.rotateTo(0,a.e({duration:1e3},d),g),this}resetNorthPitch(d,g){return this.easeTo(a.e({bearing:0,pitch:0,duration:1e3},d),g),this}snapToNorth(d,g){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(d,g):this}getPitch(){return this.transform.pitch}setPitch(d,g){return this.jumpTo({pitch:d},g),this}cameraForBounds(d,g){d=a.ad.convert(d);const x=g&&g.bearing||0,B=g&&g.pitch||0,L=d.getNorthWest(),D=d.getSouthEast();return this._cameraForBounds(this.transform,L,D,x,B,g)}_extendCameraOptions(d){const g={top:0,bottom:0,right:0,left:0};if(typeof(d=a.e({padding:g,offset:[0,0],maxZoom:this.transform.maxZoom},d)).padding=="number"){const x=d.padding;d.padding={top:x,bottom:x,right:x,left:x}}return d.padding=a.e(g,d.padding),d}_minimumAABBFrustumDistance(d,g){const x=g.max[0]-g.min[0],B=g.max[1]-g.min[1];return x/B>d.aspect?x/(2*Math.tan(.5*d.fovX)*d.aspect):B/(2*Math.tan(.5*d.fovY)*d.aspect)}_cameraForBoundsOnGlobe(d,g,x,B,L,D){const $=d.clone(),Y=this._extendCameraOptions(D);$.bearing=B,$.pitch=L;const ae=a.bn.convert(g),de=a.bn.convert(x),Ae=.5*(ae.lat+de.lat),Ce=.5*(ae.lng+de.lng),Me=a.d2(Ae,Ce),He=a.N.normalize([],Me),$e=a.N.normalize([],a.N.cross([],He,[0,1,0])),Ke=a.N.cross([],$e,He),Fe=[$e[0],$e[1],$e[2],0,Ke[0],Ke[1],Ke[2],0,He[0],He[1],He[2],0,0,0,0,1],Ze=[Me,a.d2(ae.lat,ae.lng),a.d2(de.lat,ae.lng),a.d2(de.lat,de.lng),a.d2(ae.lat,de.lng),a.d2(Ae,ae.lng),a.d2(Ae,de.lng),a.d2(ae.lat,Ce),a.d2(de.lat,Ce)];let pt=a.bS.fromPoints(Ze.map(on=>[a.N.dot($e,on),a.N.dot(Ke,on),a.N.dot(He,on)]));const st=a.N.transformMat4([],pt.center,Fe);a.N.squaredLength(st)===0&&a.N.set(st,0,0,1),a.N.normalize(st,st),a.N.scale(st,st,a.ab),$.center=a.d3(st);const At=$.getWorldToCameraMatrix(),qe=a.a6.invert(new Float64Array(16),At);pt=a.bS.applyTransform(pt,a.a6.multiply([],At,Fe)),a.N.transformMat4(st,st,At);const mt=.5*(pt.max[2]-pt.min[2]),Ft=this._minimumAABBFrustumDistance($,pt),Ot=a.N.scale([],[0,0,1],mt),Qt=a.N.add(Ot,st,Ot),fn=Ft+($.pitch===0?0:a.N.distance(st,Qt)),Wt=$.globeCenterInViewSpace,xn=a.N.sub([],st,[Wt[0],Wt[1],Wt[2]]);a.N.normalize(xn,xn),a.N.scale(xn,xn,fn);const _n=a.N.add([],st,xn);a.N.transformMat4(_n,_n,qe);const $n=a.d4/a.ab,Yt=a.N.length(_n),mn=a.bl(Math.max(Yt*$n-a.d4,Number.EPSILON),0),$t=Math.min($.zoomFromMercatorZAdjusted(mn),Y.maxZoom);return $t>.5*(a.bG+a.bx)?($.setProjection({name:"mercator"}),$.zoom=$t,this._cameraForBounds($,g,x,B,L,D)):{center:$.center,zoom:$t,bearing:B,pitch:L}}queryTerrainElevation(d,g){const x=this.transform.elevation;return x?(g=a.e({},{exaggerated:!0},g),x.getAtPoint(a.L.fromLngLat(d),null,g.exaggerated)):null}_cameraForBounds(d,g,x,B,L,D){if(d.projection.name==="globe")return this._cameraForBoundsOnGlobe(d,g,x,B,L,D);const $=d.clone(),Y=this._extendCameraOptions(D),ae=$.padding;$.bearing=B,$.pitch=L;const de=a.bn.convert(g),Ae=a.bn.convert(x),Ce=new a.bn(de.lng,Ae.lat),Me=new a.bn(Ae.lng,de.lat),He=$.project(de),$e=$.project(Ae),Ke=this.queryTerrainElevation(de),Fe=this.queryTerrainElevation(Ae),Ze=this.queryTerrainElevation(Ce),pt=this.queryTerrainElevation(Me),st=[[He.x,He.y,Math.min(Ke||0,Fe||0,Ze||0,pt||0)],[$e.x,$e.y,Math.max(Ke||0,Fe||0,Ze||0,pt||0)]];let At=a.bS.fromPoints(st);const qe=$.getWorldToCameraMatrix(),mt=a.a6.invert(new Float64Array(16),qe);At=a.bS.applyTransform(At,qe);const Ft=a.N.sub([],At.max,At.min),Ot=ae.left||0,Qt=ae.right||0,fn=ae.bottom||0,Wt=ae.top||0,{left:xn,right:_n,top:$n,bottom:Yt}=Y.padding,mn=.5*(Ot+Qt),$t=.5*(Wt+fn),on=Math.min($.scaleZoom($.scale*Math.min(($.width-(Ot+Qt+xn+_n))/Ft[0],($.height-(fn+Wt+Yt+$n))/Ft[1])),Y.maxZoom),Kn=$.scale/$.zoomScale(on);At=new a.bS([At.min[0]-(xn+mn)*Kn,At.min[1]-(Yt+$t)*Kn,At.min[2]],[At.max[0]+(_n+mn)*Kn,At.max[1]+($n+$t)*Kn,At.max[2]]);const ir=.5*Ft[2],nr=this._minimumAABBFrustumDistance($,At),pr=[0,0,1,0];a.a7.transformMat4(pr,pr,qe),a.a7.normalize(pr,pr);const Ir=a.N.scale([],pr,nr+ir),jr=a.N.add([],At.center,Ir),Nr=(typeof Y.offset.x=="number"&&typeof Y.offset.y=="number"?new a.P(Y.offset.x,Y.offset.y):a.P.convert(Y.offset)).rotate(-a.bj(B));At.center[0]-=Nr.x*Kn,At.center[1]+=Nr.y*Kn,a.N.transformMat4(At.center,At.center,mt),a.N.transformMat4(jr,jr,mt);const zr=[At.center[0],At.center[1],jr[2]*$.pixelsPerMeter];a.N.scale(zr,zr,1/$.worldSize);const Fi=a.at(zr[0]),hi=a.au(zr[1]),Ci=Math.min($._zoomFromMercatorZ(zr[2]),Y.maxZoom),bi=new a.bn(Fi,hi);return $.mercatorFromTransition&&Ci<.5*(a.bG+a.bx)?($.setProjection({name:"globe"}),$.zoom=Ci,this._cameraForBounds($,g,x,B,L,D)):{center:bi,zoom:Ci,bearing:B,pitch:L}}fitBounds(d,g,x){const B=this.cameraForBounds(d,g);return this._fitInternal(B,g,x)}fitScreenCoordinates(d,g,x,B,L){const D=a.P.convert(d),$=a.P.convert(g),Y=new a.P(Math.min(D.x,$.x),Math.min(D.y,$.y)),ae=new a.P(Math.max(D.x,$.x),Math.max(D.y,$.y));if(this.transform.projection.name==="mercator"&&this.transform.anyCornerOffEdge(D,$))return this;const de=this.transform.pointLocation3D(Y),Ae=this.transform.pointLocation3D(ae),Ce=this.transform.pointLocation3D(new a.P(Y.x,ae.y)),Me=this.transform.pointLocation3D(new a.P(ae.x,Y.y)),He=[Math.min(de.lng,Ae.lng,Ce.lng,Me.lng),Math.min(de.lat,Ae.lat,Ce.lat,Me.lat)],$e=[Math.max(de.lng,Ae.lng,Ce.lng,Me.lng),Math.max(de.lat,Ae.lat,Ce.lat,Me.lat)],Ke=B&&B.pitch?B.pitch:this.getPitch(),Fe=this._cameraForBounds(this.transform,He,$e,x,Ke,B);return this._fitInternal(Fe,B,L)}_fitInternal(d,g,x){return d?(delete(g=a.e(d,g)).padding,g.linear?this.easeTo(g,x):this.flyTo(g,x)):this}jumpTo(d,g){this.stop();const x=d.preloadOnly?this.transform.clone():this.transform;let B=!1,L=!1,D=!1;return"zoom"in d&&x.zoom!==+d.zoom&&(B=!0,x.zoom=+d.zoom),d.center!==void 0&&(x.center=a.bn.convert(d.center)),"bearing"in d&&x.bearing!==+d.bearing&&(L=!0,x.bearing=+d.bearing),"pitch"in d&&x.pitch!==+d.pitch&&(D=!0,x.pitch=+d.pitch),d.padding==null||x.isPaddingEqual(d.padding)||(x.padding=d.padding),d.preloadOnly?(this._preloadTiles(x),this):(this.fire(new a.b("movestart",g)).fire(new a.b("move",g)),B&&this.fire(new a.b("zoomstart",g)).fire(new a.b("zoom",g)).fire(new a.b("zoomend",g)),L&&this.fire(new a.b("rotatestart",g)).fire(new a.b("rotate",g)).fire(new a.b("rotateend",g)),D&&this.fire(new a.b("pitchstart",g)).fire(new a.b("pitch",g)).fire(new a.b("pitchend",g)),this.fire(new a.b("moveend",g)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||a.w(y5),this.transform.getFreeCameraOptions()}setFreeCameraOptions(d,g){const x=this.transform;if(!x.projection.supportsFreeCamera)return a.w(y5),this;this.stop();const B=x.zoom,L=x.pitch,D=x.bearing;x.setFreeCameraOptions(d);const $=B!==x.zoom,Y=L!==x.pitch,ae=D!==x.bearing;return this.fire(new a.b("movestart",g)).fire(new a.b("move",g)),$&&this.fire(new a.b("zoomstart",g)).fire(new a.b("zoom",g)).fire(new a.b("zoomend",g)),ae&&this.fire(new a.b("rotatestart",g)).fire(new a.b("rotate",g)).fire(new a.b("rotateend",g)),Y&&this.fire(new a.b("pitchstart",g)).fire(new a.b("pitch",g)).fire(new a.b("pitchend",g)),this.fire(new a.b("moveend",g)),this}easeTo(d,g){this._stop(!1,d.easeId),((d=a.e({offset:[0,0],duration:500,easing:a.d0},d)).animate===!1||this._prefersReducedMotion(d))&&(d.duration=0);const x=this.transform,B=this.getZoom(),L=this.getBearing(),D=this.getPitch(),$=this.getPadding(),Y="zoom"in d?+d.zoom:B,ae="bearing"in d?this._normalizeBearing(d.bearing,L):L,de="pitch"in d?+d.pitch:D,Ae="padding"in d?d.padding:x.padding,Ce=a.P.convert(d.offset);let Me,He,$e;if(x.projection.name==="globe"){const Ot=a.L.fromLngLat(x.center),Qt=Ce.rotate(-x.angle);Ot.x+=Qt.x/x.worldSize,Ot.y+=Qt.y/x.worldSize;const fn=Ot.toLngLat(),Wt=a.bn.convert(d.center||fn);this._normalizeCenter(Wt),Me=x.centerPoint.add(Qt),He=new a.P(Ot.x,Ot.y).mult(x.worldSize),$e=new a.P(a.a5(Wt.lng),a.ae(Wt.lat)).mult(x.worldSize).sub(He)}else{Me=x.centerPoint.add(Ce);const Ot=x.pointLocation(Me),Qt=a.bn.convert(d.center||Ot);this._normalizeCenter(Qt),He=x.project(Ot),$e=x.project(Qt).sub(He)}const Ke=x.zoomScale(Y-B);let Fe,Ze;d.around&&(Fe=a.bn.convert(d.around),Ze=x.locationPoint(Fe));const pt=this._zooming||Y!==B,st=this._rotating||L!==ae,At=this._pitching||de!==D,qe=!x.isPaddingEqual(Ae),mt=Ot=>Qt=>{if(pt&&(Ot.zoom=a.U(B,Y,Qt)),st&&(Ot.bearing=a.U(L,ae,Qt)),At&&(Ot.pitch=a.U(D,de,Qt)),qe&&(Ot.interpolatePadding($,Ae,Qt),Me=Ot.centerPoint.add(Ce)),Fe)Ot.setLocationAtPoint(Fe,Ze);else{const fn=Ot.zoomScale(Ot.zoom-B),Wt=Y>B?Math.min(2,Ke):Math.max(.5,Ke),xn=Math.pow(Wt,1-Qt),_n=Ot.unproject(He.add($e.mult(Qt*xn)).mult(fn));Ot.setLocationAtPoint(Ot.renderWorldCopies?_n.wrap():_n,Me)}return d.preloadOnly||this._fireMoveEvents(g),Ot};if(d.preloadOnly){const Ot=this._emulate(mt,d.duration,x);return this._preloadTiles(Ot),this}const Ft={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=pt,this._rotating=st,this._pitching=At,this._easeId=d.easeId,this._prepareEase(g,d.noMoveStart,Ft),this._ease(mt(x),Ot=>{x.cameraElevationReference==="sea"&&x.recenterOnTerrain(),this._afterEase(g,Ot)},d),this}_prepareEase(d,g,x={}){this._moving=!0,this.transform.cameraElevationReference="sea",this.transform._orthographicProjectionAtLowPitch&&this.transform.pitch===0&&this.transform.projection.name!=="globe"&&(this.transform.cameraElevationReference="ground"),g||x.moving||this.fire(new a.b("movestart",d)),this._zooming&&!x.zooming&&this.fire(new a.b("zoomstart",d)),this._rotating&&!x.rotating&&this.fire(new a.b("rotatestart",d)),this._pitching&&!x.pitching&&this.fire(new a.b("pitchstart",d))}_fireMoveEvents(d){this.fire(new a.b("move",d)),this._zooming&&this.fire(new a.b("zoom",d)),this._rotating&&this.fire(new a.b("rotate",d)),this._pitching&&this.fire(new a.b("pitch",d))}_afterEase(d,g){if(this._easeId&&g&&this._easeId===g)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const x=this._zooming,B=this._rotating,L=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,x&&this.fire(new a.b("zoomend",d)),B&&this.fire(new a.b("rotateend",d)),L&&this.fire(new a.b("pitchend",d)),this.fire(new a.b("moveend",d))}flyTo(d,g){if(this._prefersReducedMotion(d)){const Yt=a.ac(d,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Yt,g)}this.stop(),d=a.e({offset:[0,0],speed:1.2,curve:1.42,easing:a.d0},d);const x=this.transform,B=this.getZoom(),L=this.getBearing(),D=this.getPitch(),$="zoom"in d?a.aa(+d.zoom,x.minZoom,x.maxZoom):B,Y="bearing"in d?this._normalizeBearing(d.bearing,L):L,ae="pitch"in d?+d.pitch:D,de=x.zoomScale($-B),Ae=a.P.convert(d.offset),Ce=x.centerPoint.add(Ae),Me=x.pointLocation(Ce);let He=d.center;if(He&&d.padding){const Yt=this._cameraForBounds(this.transform,He,He,Y,ae,d);Yt&&(He=Yt.center)}He=a.bn.convert(He||Me),this._normalizeCenter(He);const $e=x.project(Me),Ke=x.project(He).sub($e);let Fe=d.curve;const Ze=Math.max(x.width,x.height),pt=Ze/de,st=Ke.mag();if("minZoom"in d){const Yt=a.aa(Math.min(d.minZoom,B,$),x.minZoom,x.maxZoom),mn=Ze/x.zoomScale(Yt-B);Fe=Math.sqrt(mn/st*2)}const At=Fe*Fe;function qe(Yt){const mn=(pt*pt-Ze*Ze+(Yt?-1:1)*At*At*st*st)/(2*(Yt?pt:Ze)*At*st);return Math.log(Math.sqrt(mn*mn+1)-mn)}function mt(Yt){return(Math.exp(Yt)-Math.exp(-Yt))/2}function Ft(Yt){return(Math.exp(Yt)+Math.exp(-Yt))/2}const Ot=qe(0);let Qt=function(Yt){return Ft(Ot)/Ft(Ot+Fe*Yt)},fn=function(Yt){return Ze*((Ft(Ot)*(mt(mn=Ot+Fe*Yt)/Ft(mn))-mt(Ot))/At)/st;var mn},Wt=(qe(1)-Ot)/Fe;if(Math.abs(st)<1e-6||!isFinite(Wt)){if(Math.abs(Ze-pt)<1e-6)return this.easeTo(d,g);const Yt=pt<Ze?-1:1;Wt=Math.abs(Math.log(pt/Ze))/Fe,fn=function(){return 0},Qt=function(mn){return Math.exp(Yt*Fe*mn)}}d.duration="duration"in d?+d.duration:1e3*Wt/("screenSpeed"in d?+d.screenSpeed/Fe:+d.speed),d.maxDuration&&d.duration>d.maxDuration&&(d.duration=0);const xn=L!==Y,_n=ae!==D,$n=Yt=>mn=>{const $t=mn*Wt,on=1/Qt($t);Yt.zoom=mn===1?$:B+Yt.scaleZoom(on),xn&&(Yt.bearing=a.U(L,Y,mn)),_n&&(Yt.pitch=a.U(D,ae,mn));const Kn=mn===1?He:Yt.unproject($e.add(Ke.mult(fn($t))).mult(on));return Yt.setLocationAtPoint(Yt.renderWorldCopies?Kn.wrap():Kn,Ce),Yt._updateCameraOnTerrain(),d.preloadOnly||this._fireMoveEvents(g),Yt};if(d.preloadOnly){const Yt=this._emulate($n,d.duration,x);return this._preloadTiles(Yt),this}return this._zooming=!0,this._rotating=xn,this._pitching=_n,this._prepareEase(g,!1),this._ease($n(x),()=>this._afterEase(g),d),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(d,g){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const x=this._onEaseEnd;this._onEaseEnd=void 0,x.call(this,g)}if(!d){const x=this.handlers;x&&x.stop(!1)}return this}_ease(d,g,x){x.animate===!1||x.duration===0?(d(1),g()):(this._easeStart=a.f.now(),this._easeOptions=x,this._onEaseFrame=d,this._onEaseEnd=g,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const d=Math.min((a.f.now()-this._easeStart)/this._easeOptions.duration,1),g=this._onEaseFrame;g&&g(this._easeOptions.easing(d)),d<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(d,g){d=a.bh(d,-180,180);const x=Math.abs(d-g);return Math.abs(d-360-g)<x&&(d-=360),Math.abs(d+360-g)<x&&(d+=360),d}_normalizeCenter(d){const g=this.transform;if(g.maxBounds||g.projection.name!=="globe"&&!g.renderWorldCopies)return;const x=d.lng-g.center.lng;d.lng+=x>180?-360:x<-180?360:0}_prefersReducedMotion(d){return this._respectPrefersReducedMotion&&a.f.prefersReducedMotion&&!(d&&d.essential)}_emulate(d,g,x){const B=Math.ceil(15*g/1e3),L=[],D=d(x.clone());for(let $=0;$<=B;$++){const Y=D($/B);L.push(Y.clone())}return L}}class ex{constructor(d={}){this.options=d,a.aY(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(d){const g=this.options&&this.options.compact;return this._map=d,this._container=y("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=y("button","mapboxgl-ctrl-attrib-button",this._container),y("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=y("div","mapboxgl-ctrl-attrib-inner",this._container),g&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),g===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(d,g){const x=this._map._getUIString(`AttributionControl.${g}`);d.removeAttribute("title"),d.firstElementChild&&d.firstElementChild.setAttribute("title",x)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let d=this._editLink;d||(d=this._editLink=this._container.querySelector(".mapbox-improve-map"));const g=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||a.d5.ACCESS_TOKEN}];if(d){const x=g.reduce((B,L,D)=>(L.value&&(B+=`${L.key}=${L.value}${D<g.length-1?"&":""}`),B),"?");d.href=`${a.d5.FEEDBACK_URL}/${x}#${TA(this._map,!0)}`,d.rel="noopener nofollow",this._setElementTitle(d,"MapFeedback")}}_updateData(d){!d||d.sourceDataType!=="metadata"&&d.sourceDataType!=="visibility"&&d.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let d=[];if(this._map.style.stylesheet){const B=this._map.style.stylesheet;this.styleOwner=B.owner,this.styleId=B.id}const g=this._map.style._mergedSourceCaches;for(const B in g){const L=g[B];if(L.used){const D=L.getSource();D.attribution&&d.indexOf(D.attribution)<0&&d.push(D.attribution)}}d.sort((B,L)=>B.length-L.length),d=d.filter((B,L)=>{for(let D=L+1;D<d.length;D++)if(d[D].indexOf(B)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?d=[...this.options.customAttribution,...d]:d.unshift(this.options.customAttribution));const x=d.join(" | ");x!==this._attribHTML&&(this._attribHTML=x,d.length?(this._innerContainer.innerHTML=x,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class b5{constructor(){a.aY(["_updateLogo","_updateCompact"],this)}onAdd(d){this._map=d,this._container=y("div","mapboxgl-ctrl");const g=y("a","mapboxgl-ctrl-logo");return g.target="_blank",g.rel="noopener nofollow",g.href="https://www.mapbox.com/",g.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),g.setAttribute("rel","noopener nofollow"),this._container.appendChild(g),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(d){d&&d.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const d=this._map.style._sourceCaches;if(Object.entries(d).length===0)return!0;for(const g in d){const x=d[g].getSource();if(x.hasOwnProperty("mapbox_logo")&&!x.mapbox_logo)return!1}return!0}_updateCompact(){const d=this._container.children;if(d.length){const g=d[0];this._map.getCanvasContainer().offsetWidth<250?g.classList.add("mapboxgl-compact"):g.classList.remove("mapboxgl-compact")}}}class w5{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(d){const g=++this._id;return this._queue.push({callback:d,id:g,cancelled:!1}),g}remove(d){const g=this._currentlyRunning,x=g?this._queue.concat(g):this._queue;for(const B of x)if(B.id===d)return void(B.cancelled=!0)}run(d=0){const g=this._currentlyRunning=this._queue;this._queue=[];for(const x of g)if(!x.cancelled&&(x.callback(d),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function U1(w,d,g){if(w=new a.bn(w.lng,w.lat),d){const x=new a.bn(w.lng-360,w.lat),B=new a.bn(w.lng+360,w.lat),L=360*Math.ceil(Math.abs(w.lng-g.center.lng)/360),D=g.locationPoint(w).distSqr(d),$=d.x<0||d.y<0||d.x>g.width||d.y>g.height;g.locationPoint(x).distSqr(d)<D&&($||Math.abs(x.lng-g.center.lng)<L)?w=x:g.locationPoint(B).distSqr(d)<D&&($||Math.abs(B.lng-g.center.lng)<L)&&(w=B)}for(;Math.abs(w.lng-g.center.lng)>180;){const x=g.locationPoint(w);if(x.x>=0&&x.y>=0&&x.x<=g.width&&x.y<=g.height)break;w.lng>g.center.lng?w.lng-=360:w.lng+=360}return w}const Hy={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class tx extends a.E{constructor(d,g){if(super(),(d instanceof HTMLElement||g)&&(d=a.e({element:d},g)),a.aY(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=d&&d.anchor||"center",this._color=d&&d.color||"#3FB1CE",this._scale=d&&d.scale||1,this._draggable=d&&d.draggable||!1,this._clickTolerance=d&&d.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=d&&d.rotation||0,this._rotationAlignment=d&&d.rotationAlignment||"auto",this._pitchAlignment=d&&d.pitchAlignment&&d.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=d&&d.occludedOpacity||.2,d&&d.element)this._element=d.element,this._offset=a.P.convert(d&&d.offset||[0,0]);else{this._defaultMarker=!0,this._element=y("div");const L=41,D=27,$=T("svg",{display:"block",height:L*this._scale+"px",width:D*this._scale+"px",viewBox:`0 0 ${D} ${L}`},this._element),Y=T("radialGradient",{id:"shadowGradient"},T("defs",{},$));T("stop",{offset:"10%","stop-opacity":.4},Y),T("stop",{offset:"100%","stop-opacity":.05},Y),T("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},$),T("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},$),T("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},$),T("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},$),this._offset=a.P.convert(d&&d.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.hasAttribute("role")||this._element.setAttribute("role","img"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",L=>{L.preventDefault()}),this._element.addEventListener("mousedown",L=>{L.preventDefault()});const x=this._element.classList;for(const L in Hy)x.remove(`mapboxgl-marker-anchor-${L}`);x.add(`mapboxgl-marker-anchor-${this._anchor}`);const B=d&&d.className?d.className.trim().split(/\s+/):[];x.add(...B),this._popup=null}addTo(d){return d===this._map||(this.remove(),this._map=d,d.getCanvasContainer().appendChild(this._element),d.on("move",this._updateMoving),d.on("moveend",this._update),d.on("remove",this._clearFadeTimer),d._addMarker(this),this.setDraggable(this._draggable),this._update(),d.on("click",this._onMapClick)),this}remove(){const d=this._map;return d&&(d.off("click",this._onMapClick),d.off("move",this._updateMoving),d.off("moveend",this._update),d.off("mousedown",this._addDragHandler),d.off("touchstart",this._addDragHandler),d.off("mouseup",this._onUp),d.off("touchend",this._onUp),d.off("mousemove",this._onMove),d.off("touchmove",this._onMove),d.off("remove",this._clearFadeTimer),d._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(d){return this._lngLat=a.bn.convert(d),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(d){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),d){if(!("offset"in d.options)){const B=Math.sqrt(Math.pow(13.5,2)/2);d.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[B,-1*(38.1-13.5+B)],"bottom-right":[-B,-1*(38.1-13.5+B)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=d,d._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(d){const g=d.code,x=d.charCode||d.keyCode;g!=="Space"&&g!=="Enter"&&x!==32&&x!==13||this.togglePopup()}_onMapClick(d){const g=d.originalEvent.target,x=this._element;this._popup&&(g===x||x.contains(g))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const d=this._popup;return d?(d.isOpen()?(d.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(d.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const d=this._map,g=this._pos;if(!d||!g)return!1;const x=d.unproject(g),B=d.getFreeCameraOptions();if(!B.position)return!1;const L=B.position.toLngLat();return L.distanceTo(x)<.9*L.distanceTo(this._lngLat)}_evaluateOpacity(){const d=this._map;if(!d)return;const g=this._pos;if(!g||g.x<0||g.x>d.transform.width||g.y<0||g.y>d.transform.height)return void this._clearFadeTimer();const x=d.unproject(g);let B;d._showingGlobe()&&a.d6(d.transform,this._lngLat)?B=0:(B=1-d._queryFogOpacity(x),d.transform._terrainEnabled()&&d.getTerrain()&&this._behindTerrain()&&(B*=this._occludedOpacity)),this._element.style.opacity=`${B}`,this._element.style.pointerEvents=B>0?"auto":"none",this._popup&&this._popup._setOpacity(B),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const d=this._pos;if(!d||!this._map)return;const g=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${d.x}px,${d.y}px)
            ${Hy[this._anchor]}
            ${this._calculateXYTransform()} ${this._calculateZTransform()}
            translate(${g.x}px,${g.y}px)
        `}_calculateXYTransform(){const d=this._pos,g=this._map,x=this.getPitchAlignment();if(!g||!d||x!=="map")return"";if(!g._showingGlobe()){const Y=g.getPitch();return Y?`rotateX(${Y}deg)`:""}const B=a.bF(a.d7(g.transform,this._lngLat)),L=d.sub(a.d8(g.transform)),D=Math.abs(L.x)+Math.abs(L.y);if(D===0)return"";const $=B/D;return`rotateX(${-L.y*$}deg) rotateY(${L.x*$}deg)`}_calculateZTransform(){const d=this._pos,g=this._map;if(!g||!d)return"";let x=0;const B=this.getRotationAlignment();if(B==="map")if(g._showingGlobe()){const L=g.project(new a.bn(this._lngLat.lng,this._lngLat.lat+.001)),D=g.project(new a.bn(this._lngLat.lng,this._lngLat.lat-.001)).sub(L);x=a.bF(Math.atan2(D.y,D.x))-90}else x=-g.getBearing();else if(B==="horizon"){const L=a.O(4,6,g.getZoom()),D=a.d8(g.transform);D.y+=L*g.transform.height;const $=d.sub(D),Y=a.bF(Math.atan2($.y,$.x));x=(Y>90?Y-270:Y+90)*(1-L)}return x+=this._rotation,x?`rotateZ(${x}deg)`:""}_update(d){cancelAnimationFrame(this._updateFrameId);const g=this._map;g&&(g.transform.renderWorldCopies&&(this._lngLat=U1(this._lngLat,this._pos,g.transform)),this._pos=g.project(this._lngLat),d===!0?this._updateFrameId=requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),g._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(g._showingGlobe()||g.getTerrain()||g.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(d){return this._offset=a.P.convert(d),this._update(),this}addClassName(d){return this._element.classList.add(d),this}removeClassName(d){return this._element.classList.remove(d),this}toggleClassName(d){return this._element.classList.toggle(d)}_onMove(d){const g=this._map;if(!g)return;const x=this._pointerdownPos,B=this._positionDelta;if(x&&B){if(!this._isDragging){const L=this._clickTolerance||g._clickTolerance;if(d.point.dist(x)<L)return;this._isDragging=!0}this._pos=d.point.sub(B),this._lngLat=g.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.b("dragstart"))),this.fire(new a.b("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const d=this._map;d&&(d.off("mousemove",this._onMove),d.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new a.b("dragend")),this._state="inactive"}_addDragHandler(d){const g=this._map,x=this._pos;g&&x&&this._element.contains(d.originalEvent.target)&&(d.preventDefault(),this._positionDelta=d.point.sub(x),this._pointerdownPos=d.point,this._state="pending",g.on("mousemove",this._onMove),g.on("touchmove",this._onMove),g.once("mouseup",this._onUp),g.once("touchend",this._onUp))}setDraggable(d){this._draggable=!!d;const g=this._map;return g&&(d?(g.on("mousedown",this._addDragHandler),g.on("touchstart",this._addDragHandler)):(g.off("mousedown",this._addDragHandler),g.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(d){return this._rotation=d||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(d){return this._rotationAlignment=d||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"||this._rotationAlignment==="horizon"&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(d){return this._pitchAlignment=d||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(d){return this._occludedOpacity=d||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const x5={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},C5=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function E5(w=new a.P(0,0),d="bottom"){if(typeof w=="number"){const g=Math.round(Math.sqrt(.5*Math.pow(w,2)));switch(d){case"top":return new a.P(0,w);case"top-left":return new a.P(g,g);case"top-right":return new a.P(-g,g);case"bottom":return new a.P(0,-w);case"bottom-left":return new a.P(g,-g);case"bottom-right":return new a.P(-g,-g);case"left":return new a.P(w,0);case"right":return new a.P(-w,0)}return new a.P(0,0)}return w instanceof a.P||Array.isArray(w)?a.P.convert(w):a.P.convert(w[d]||[0,0])}class nx{constructor(d){this.jumpTo(d)}getValue(d){if(d<=this._startTime)return this._start;if(d>=this._endTime)return this._end;const g=a.cc((d-this._startTime)/(this._endTime-this._startTime));return this._start*(1-g)+this._end*g}isEasing(d){return d>=this._startTime&&d<=this._endTime}jumpTo(d){this._startTime=-1/0,this._endTime=-1/0,this._start=d,this._end=d}easeTo(d,g,x){this._start=this.getValue(g),this._end=d,this._startTime=g,this._endTime=g+x}}const z1={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use  + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},S5={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,antialias:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,respectPrefersReducedMotion:!0,crossSourceCollisions:!0,collectResourceTiming:!1,testMode:!1};class rx{constructor(){this.showOverdrawInspector=!1,this.showTileBoundaries=!1,this.showParseStatus=!1,this.continuousRedraw=!1,this.showTileAABBs=!1,this.showPadding=!1,this.showTerrainWireframe=!1,this.showLayers2DWireframe=!1,this.showLayers3DWireframe=!1}}const Qy={showCompass:!0,showZoom:!0,visualizePitch:!1};class hp{constructor(d,g,x=!1){this._clickTolerance=10,this.element=g,this.mouseRotate=new tf({clickTolerance:d.dragRotate._mouseRotate._clickTolerance}),this.map=d,x&&(this.mousePitch=new rg({clickTolerance:d.dragRotate._mousePitch._clickTolerance})),a.aY(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),g.addEventListener("mousedown",this.mousedown),g.addEventListener("touchstart",this.touchstart,{passive:!1}),g.addEventListener("touchmove",this.touchmove),g.addEventListener("touchend",this.touchend),g.addEventListener("touchcancel",this.reset)}down(d,g){this.mouseRotate.mousedown(d,g),this.mousePitch&&this.mousePitch.mousedown(d,g),F()}move(d,g){const x=this.map,B=this.mouseRotate.mousemoveWindow(d,g),L=B&&B.bearingDelta;if(L&&x.setBearing(x.getBearing()+L),this.mousePitch){const D=this.mousePitch.mousemoveWindow(d,g),$=D&&D.pitchDelta;$&&x.setPitch(x.getPitch()+$)}}off(){const d=this.element;d.removeEventListener("mousedown",this.mousedown),d.removeEventListener("touchstart",this.touchstart,{passive:!1}),d.removeEventListener("touchmove",this.touchmove),d.removeEventListener("touchend",this.touchend),d.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){R(),window.removeEventListener("mousemove",this.mousemove),window.removeEventListener("mouseup",this.mouseup)}mousedown(d){this.down(a.e({},d,{ctrlKey:!0,preventDefault:()=>d.preventDefault()}),Q(this.element,d)),window.addEventListener("mousemove",this.mousemove),window.addEventListener("mouseup",this.mouseup)}mousemove(d){this.move(d,Q(this.element,d))}mouseup(d){this.mouseRotate.mouseupWindow(d),this.mousePitch&&this.mousePitch.mouseupWindow(d),this.offTemp()}touchstart(d){d.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=j(this.element,d.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>d.preventDefault()},this._startPos))}touchmove(d){d.targetTouches.length!==1?this.reset():(this._lastPos=j(this.element,d.targetTouches)[0],this.move({preventDefault:()=>d.preventDefault()},this._lastPos))}touchend(d){d.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const jy={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},Pu={maxWidth:100,unit:"metric"},IA={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"};return{version:a.dk,supported:A,setRTLTextPlugin:a.dm,getRTLTextPluginStatus:a.dn,Map:class extends Xs{constructor(w){const d=w;if((w=a.e({},S5,w)).minZoom!=null&&w.maxZoom!=null&&w.minZoom>w.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(w.minPitch!=null&&w.maxPitch!=null&&w.minPitch>w.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(w.minPitch!=null&&w.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(w.maxPitch!=null&&w.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(w.antialias&&a.d9(window)&&(w.antialias=!1,a.w("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new id(w.minZoom,w.maxZoom,w.minPitch,w.maxPitch,w.renderWorldCopies),w),this._repaint=!1,this._interactive=w.interactive,this._minTileCacheSize=w.minTileCacheSize,this._maxTileCacheSize=w.maxTileCacheSize,this._failIfMajorPerformanceCaveat=w.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=w.preserveDrawingBuffer,this._antialias=w.antialias,this._trackResize=w.trackResize,this._bearingSnap=w.bearingSnap,this._refreshExpiredTiles=w.refreshExpiredTiles,this._fadeDuration=w.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=w.crossSourceCollisions,this._collectResourceTiming=w.collectResourceTiming,this._language=this._parseLanguage(w.language),this._worldview=w.worldview,this._renderTaskQueue=new w5,this._domRenderTaskQueue=new w5,this._controls=[],this._markers=[],this._popups=[],this._mapId=a.aC(),this._locale=a.e({},z1,w.locale),this._clickTolerance=w.clickTolerance,this._cooperativeGestures=w.cooperativeGestures,this._performanceMetricsCollection=w.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._showParseStatus=!0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new nx(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new a.da(w.transformRequest,w.accessToken,w.testMode),this._silenceAuthErrors=!!w.testMode,this._contextCreateOptions=w.contextCreateOptions?{...w.contextCreateOptions}:{},typeof w.container=="string"){const g=document.getElementById(w.container);if(!g)throw new Error(`Container '${w.container.toString()}' not found.`);this._container=g}else{if(!(w.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=w.container}if(this._container.childNodes.length>0&&a.w("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),w.maxBounds&&this.setMaxBounds(w.maxBounds),a.aY(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._debugParams=new rx,this._tp=w.devtools?new fd(this):new fd,this._tp.registerParameter(this._debugParams,["Debug"],"showOverdrawInspector",void 0,()=>{this._update()}),this._tp.registerParameter(this._debugParams,["Debug"],"showTileBoundaries",void 0,()=>{this._update()}),this._tp.registerParameter(this._debugParams,["Debug"],"showParseStatus",void 0,()=>{this._update()}),this._tp.registerParameter(this._debugParams,["Debug"],"continuousRedraw",void 0,g=>{this.repaint=g}),this._tp.registerParameter(this._debugParams,["Debug"],"showTileAABBs",void 0,g=>{this.showTileAABBs=g}),this._tp.registerParameter(this._debugParams,["Debug"],"showPadding",void 0,g=>{this.showPadding=g}),this._tp.registerParameter(this._debugParams,["Debug","Wireframe"],"showTerrainWireframe",void 0,()=>{this._update()}),this._tp.registerParameter(this._debugParams,["Debug","Wireframe"],"showLayers2DWireframe",void 0,()=>{this._update()}),this._tp.registerParameter(this._debugParams,["Debug","Wireframe"],"showLayers3DWireframe",void 0,()=>{this._update()}),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");if(this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this._fullscreenchangeEvent="onfullscreenchange"in document?"fullscreenchange":"webkitfullscreenchange",window.addEventListener("online",this._onWindowOnline,!1),window.addEventListener("resize",this._onWindowResize,!1),window.addEventListener("orientationchange",this._onWindowResize,!1),window.addEventListener(this._fullscreenchangeEvent,this._onWindowResize,!1),window.addEventListener("visibilitychange",this._onVisibilityChange,!1),this.handlers=new CM(this,w),this._localFontFamily=w.localFontFamily,this._localIdeographFontFamily=w.localIdeographFontFamily,(w.style||!w.testMode)&&this.setStyle(w.style||a.d5.DEFAULT_STYLE,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),w.projection&&this.setProjection(w.projection),w.hash&&(this._hash=new Jm(typeof w.hash=="string"&&w.hash||void 0).addTo(this)),!this._hash||!this._hash._onHashChange()){d.center==null&&d.zoom==null||(this.transform._unmodified=!1),this.jumpTo({center:w.center,zoom:w.zoom,bearing:w.bearing,pitch:w.pitch});const g=w.bounds;g&&(this.resize(),this.fitBounds(g,a.e({},w.fitBoundsOptions,{duration:0})))}this.resize(),w.attributionControl&&this.addControl(new ex({customAttribution:w.customAttribution})),this._logoControl=new b5,this.addControl(this._logoControl,w.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",g=>{this._update(g.dataType==="style"),this.fire(new a.b(`${g.dataType}data`,g))}),this.on("dataloading",g=>{this.fire(new a.b(`${g.dataType}dataloading`,g))})}_getMapId(){return this._mapId}addControl(w,d){if(d===void 0&&(d=w.getDefaultPosition?w.getDefaultPosition():"top-right"),!w||!w.onAdd)return this.fire(new a.a(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const g=w.onAdd(this);this._controls.push(w);const x=this._controlPositions[d];return d.indexOf("bottom")!==-1?x.insertBefore(g,x.firstChild):x.appendChild(g),this}removeControl(w){if(!w||!w.onRemove)return this.fire(new a.a(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const d=this._controls.indexOf(w);return d>-1&&this._controls.splice(d,1),w.onRemove(this),this}hasControl(w){return this._controls.indexOf(w)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(w){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const d=!this._moving;return d&&this.fire(new a.b("movestart",w)).fire(new a.b("move",w)),this.fire(new a.b("resize",w)),d&&this.fire(new a.b("moveend",w)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(w){return this.transform.setMaxBounds(a.ad.convert(w)),this._update()}setMinZoom(w){if((w=w??-2)>=-2&&w<=this.transform.maxZoom)return this.transform.minZoom=w,this._update(),this.getZoom()<w?this.setZoom(w):this.fire(new a.b("zoomstart")).fire(new a.b("zoom")).fire(new a.b("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(w){if((w=w??22)>=this.transform.minZoom)return this.transform.maxZoom=w,this._update(),this.getZoom()>w?this.setZoom(w):this.fire(new a.b("zoomstart")).fire(new a.b("zoom")).fire(new a.b("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(w){if((w=w??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(w>=0&&w<=this.transform.maxPitch)return this.transform.minPitch=w,this._update(),this.getPitch()<w?this.setPitch(w):this.fire(new a.b("pitchstart")).fire(new a.b("pitch")).fire(new a.b("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(w){if((w=w??85)>85)throw new Error("maxPitch must be less than or equal to 85");if(w>=this.transform.minPitch)return this.transform.maxPitch=w,this._update(),this.getPitch()>w?this.setPitch(w):this.fire(new a.b("pitchstart")).fire(new a.b("pitch")).fire(new a.b("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(w){return this.transform.renderWorldCopies=w,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(w){return w==="auto"?navigator.language:Array.isArray(w)?w.length===0?void 0:w.map(d=>d==="auto"?navigator.language:d):w}setLanguage(w){const d=this._parseLanguage(w);if(!this.style||d===this._language)return this;this._language=d,this.style.reloadSources();for(const g of this._controls)g._setLanguage&&g._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(w){return this.style&&w!==this._worldview?(this._worldview=w,this.style.reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return this.transform.projection.name==="globe"}setProjection(w){return this._lazyInitEmptyStyle(),w?typeof w=="string"&&(w={name:w}):w=null,this._useExplicitProjection=!!w,this._prioritizeAndUpdateProjection(w,this.style.projection)}_updateProjectionTransition(){if(this.getProjection().name!=="globe")return;const w=this.transform,d=w.projection.name;let g;d==="globe"&&w.zoom>=a.bx?(w.setMercatorFromTransition(),g=!0):d==="mercator"&&w.zoom<a.bx&&(w.setProjection({name:"globe"}),g=!0),g&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(w,d){return this._updateProjection(w||d||{name:"mercator"})}_updateProjection(w){let d;return d=w.name==="globe"&&this.transform.zoom>=a.bx?this.transform.setMercatorFromTransition():this.transform.setProjection(w),this.style.applyProjectionUpdate(),d&&(this.painter.clearBackgroundTiles(),this.style.clearSources(),this._update(!0),this._forceMarkerAndPopupUpdate(!0)),this}project(w){return this.transform.locationPoint3D(a.bn.convert(w))}unproject(w){return this.transform.pointLocation3D(a.P.convert(w))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(w,d,g){if(w==="mouseenter"||w==="mouseover"){let x=!1;const B=D=>{const $=d.filter(ae=>this.getLayer(ae)),Y=$.length?this.queryRenderedFeatures(D.point,{layers:$}):[];Y.length?x||(x=!0,g.call(this,new go(w,this,D.originalEvent,{features:Y}))):x=!1},L=()=>{x=!1};return{layers:new Set(d),listener:g,delegates:{mousemove:B,mouseout:L}}}if(w==="mouseleave"||w==="mouseout"){let x=!1;const B=D=>{const $=d.filter(Y=>this.getLayer(Y));($.length?this.queryRenderedFeatures(D.point,{layers:$}):[]).length?x=!0:x&&(x=!1,g.call(this,new go(w,this,D.originalEvent)))},L=D=>{x&&(x=!1,g.call(this,new go(w,this,D.originalEvent)))};return{layers:new Set(d),listener:g,delegates:{mousemove:B,mouseout:L}}}{const x=B=>{const L=d.filter($=>this.getLayer($)),D=L.length?this.queryRenderedFeatures(B.point,{layers:L}):[];D.length&&(B.features=D,g.call(this,B),delete B.features)};return{layers:new Set(d),listener:g,delegates:{[w]:x}}}}on(w,d,g){if(g===void 0)return super.on(w,d);if(Array.isArray(d)||(d=[d]),d){for(const B of d)if(!this._isValidId(B))return this}const x=this._createDelegatedListener(w,d,g);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[w]=this._delegatedListeners[w]||[],this._delegatedListeners[w].push(x);for(const B in x.delegates)this.on(B,x.delegates[B]);return this}once(w,d,g){if(g===void 0)return super.once(w,d);if(Array.isArray(d)||(d=[d]),d){for(const B of d)if(!this._isValidId(B))return this}const x=this._createDelegatedListener(w,d,g);for(const B in x.delegates)this.once(B,x.delegates[B]);return this}off(w,d,g){if(g===void 0)return super.off(w,d);d=new Set(Array.isArray(d)?d:[d]);for(const L of d)if(!this._isValidId(L))return this;const x=(L,D)=>{if(L.size!==D.size)return!1;for(const $ of L)if(!D.has($))return!1;return!0},B=this._delegatedListeners?this._delegatedListeners[w]:void 0;return B&&(L=>{for(let D=0;D<L.length;D++){const $=L[D];if($.listener===g&&x($.layers,d)){for(const Y in $.delegates)this.off(Y,$.delegates[Y]);return L.splice(D,1),this}}})(B),this}queryRenderedFeatures(w,d){if(!this.style)return[];if(d!==void 0||w===void 0||w instanceof a.P||Array.isArray(w)||(d=w,w=void 0),w=w||[[0,0],[this.transform.width,this.transform.height]],(d=d||{}).layers&&Array.isArray(d.layers)){for(const g of d.layers)if(!this._isValidId(g))return[]}return this.style.queryRenderedFeatures(w,d,this.transform)}querySourceFeatures(w,d){return this._isValidId(w)?this.style.querySourceFeatures(w,d):[]}isPointOnSurface(w){const{name:d}=this.transform.projection;return d!=="globe"&&d!=="mercator"&&a.w(`${d} projection does not support isPointOnSurface, this API may behave unexpectedly.`),this.transform.isPointOnSurface(a.P.convert(w))}setStyle(w,d){return(d=a.e({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},d)).diff!==!1&&d.localIdeographFontFamily===this._localIdeographFontFamily&&d.localFontFamily===this._localFontFamily&&this.style&&w?(this._diffStyle(w,d),this):(this._localIdeographFontFamily=d.localIdeographFontFamily,this._localFontFamily=d.localFontFamily,this._updateStyle(w,d))}_getUIString(w){const d=this._locale[w];if(d==null)throw new Error(`Missing UI string '${w}'`);return d}_updateStyle(w,d){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),w&&(this.style=new Gl(this,d||{}),this.style.setEventedParent(this,{style:this.style}),typeof w=="string"?this.style.loadURL(w):this.style.loadJSON(w)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new Gl(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(w,d){if(typeof w=="string"){const g=this._requestManager.normalizeStyleURL(w),x=this._requestManager.transformRequest(g,a.R.Style);a.g(x,(B,L)=>{B?this.fire(new a.a(B)):L&&this._updateDiff(L,d)})}else typeof w=="object"&&this._updateDiff(w,d)}_updateDiff(w,d){try{this.style.setState(w)&&this._update(!0)}catch(g){a.w(`Unable to perform style diff: ${g.message||g.error||g}.  Rebuilding the style from scratch.`),this._updateStyle(w,d)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(a.w("There is no style added to the map."),!1)}_isValidId(w){return w==null?(this.fire(new a.a(new Error("IDs can't be empty."))),!1):!a.c4(w)||(this.fire(new a.a(new Error(`IDs can't contain special symbols: "${w}".`))),!1)}addSource(w,d){return this._isValidId(w)?(this._lazyInitEmptyStyle(),this.style.addSource(w,d),this._update(!0)):this}isSourceLoaded(w){return!!this._isValidId(w)&&!!this.style&&this.style._isSourceCacheLoaded(w)}areTilesLoaded(){return this.style.areTilesLoaded()}addSourceType(w,d,g){this._lazyInitEmptyStyle(),this.style.addSourceType(w,d,g)}removeSource(w){return this._isValidId(w)?(this.style.removeSource(w),this._updateTerrain(),this._update(!0)):this}getSource(w){return this._isValidId(w)?this.style.getOwnSource(w):null}addImage(w,d,{pixelRatio:g=1,sdf:x=!1,stretchX:B,stretchY:L,content:D}={}){if(this._lazyInitEmptyStyle(),d instanceof HTMLImageElement||ImageBitmap&&d instanceof ImageBitmap){const{width:$,height:Y,data:ae}=a.f.getImageData(d);this.style.addImage(w,{data:new a.h({width:$,height:Y},ae),pixelRatio:g,stretchX:B,stretchY:L,content:D,sdf:x,version:0})}else if(d.width===void 0||d.height===void 0)this.fire(new a.a(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:$,height:Y}=d,ae=d;this.style.addImage(w,{data:new a.h({width:$,height:Y},new Uint8Array(ae.data)),pixelRatio:g,stretchX:B,stretchY:L,content:D,sdf:x,version:0,userImage:ae}),ae.onAdd&&ae.onAdd(this,w)}}updateImage(w,d){this._lazyInitEmptyStyle();const g=this.style.getImage(w);if(!g)return void this.fire(new a.a(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const x=d instanceof HTMLImageElement||ImageBitmap&&d instanceof ImageBitmap?a.f.getImageData(d):d,{width:B,height:L}=x,D=x.data;if(B===void 0||L===void 0)return void this.fire(new a.a(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(B!==g.data.width||L!==g.data.height)return void this.fire(new a.a(new Error(`The width and height of the updated image (${B}, ${L})
                must be that same as the previous version of the image
                (${g.data.width}, ${g.data.height})`)));const $=!(d instanceof HTMLImageElement||ImageBitmap&&d instanceof ImageBitmap);g.data.replace(D,$),this.style.updateImage(w,g)}hasImage(w){return w?!!this.style&&!!this.style.getImage(w):(this.fire(new a.a(new Error("Missing required image id"))),!1)}removeImage(w){this.style.removeImage(w)}loadImage(w,d){a.d(this._requestManager.transformRequest(w,a.R.Image),(g,x)=>{d(g,x instanceof HTMLImageElement?a.f.getImageData(x):x)})}listImages(){return this.style.listImages()}addModel(w,d){this._lazyInitEmptyStyle(),this.style.addModel(w,d)}hasModel(w){return w?this.style.hasModel(w):(this.fire(new a.a(new Error("Missing required model id"))),!1)}removeModel(w){this.style.removeModel(w)}listModels(){return this.style.listModels()}addLayer(w,d){return this._isValidId(w.id)?(this._lazyInitEmptyStyle(),this.style.addLayer(w,d),this._update(!0)):this}getSlot(w){const d=this.getLayer(w);return d&&d.slot||null}setSlot(w,d){return this.style.setSlot(w,d),this.style.mergeLayers(),this._update(!0)}addImport(w,d){return this.style.addImport(w,d),this}updateImport(w,d){return typeof d!="string"&&d.id!==w?(this.removeImport(w),this.addImport(d)):(this.style.updateImport(w,d),this._update(!0))}removeImport(w){return this.style.removeImport(w),this}moveImport(w,d){return this.style.moveImport(w,d),this._update(!0)}moveLayer(w,d){return this._isValidId(w)?(this.style.moveLayer(w,d),this._update(!0)):this}removeLayer(w){return this._isValidId(w)?(this.style.removeLayer(w),this._update(!0)):this}getLayer(w){return this._isValidId(w)?this.style.getOwnLayer(w):null}setLayerZoomRange(w,d,g){return this._isValidId(w)?(this.style.setLayerZoomRange(w,d,g),this._update(!0)):this}setFilter(w,d,g={}){return this._isValidId(w)?(this.style.setFilter(w,d,g),this._update(!0)):this}getFilter(w){return this._isValidId(w)?this.style.getFilter(w):null}setPaintProperty(w,d,g,x={}){return this._isValidId(w)?(this.style.setPaintProperty(w,d,g,x),this._update(!0)):this}getPaintProperty(w,d){return this._isValidId(w)?this.style.getPaintProperty(w,d):null}setLayoutProperty(w,d,g,x={}){return this._isValidId(w)?(this.style.setLayoutProperty(w,d,g,x),this._update(!0)):this}getLayoutProperty(w,d){return this._isValidId(w)?this.style.getLayoutProperty(w,d):null}getConfigProperty(w,d){return this.style.getConfigProperty(w,d)}setConfigProperty(w,d,g){return this.style.setConfigProperty(w,d,g),this._update(!0)}setLights(w){if(this._lazyInitEmptyStyle(),w&&w.length===1&&w[0].type==="flat"){const d=w[0];d.properties?this.style.setFlatLight(d.properties,d.id,{}):this.style.setFlatLight({},"flat")}else this.style.setLights(w),this.painter.terrain&&(this.painter.terrain.invalidateRenderCache=!0);return this._update(!0)}getLights(){const w=this.style.getLights()||[];return w.length===0&&w.push({id:this.style.light.id,type:"flat",properties:this.style.getFlatLight()}),w}setLight(w,d={}){return console.log("The `map.setLight` function is deprecated, prefer using `map.setLights` with `flat` light type instead."),this.setLights([{id:"flat",type:"flat",properties:w}])}getLight(){return console.log("The `map.getLight` function is deprecated, prefer using `map.getLights` instead."),this.style.getFlatLight()}setTerrain(w){return this._lazyInitEmptyStyle(),!w&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(w),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(w){return this._lazyInitEmptyStyle(),this.style.setFog(w),this._update(!0)}getFog(){return this.style?this.style.getFog():null}setCamera(w){return this.style.setCamera(w),this._triggerCameraUpdate(w)}_triggerCameraUpdate(w){return this._update(this.transform.setOrthographicProjectionAtLowPitch(w["camera-projection"]==="orthographic"))}getCamera(){return this.style.camera}_queryFogOpacity(w){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(a.bn.convert(w),this.transform):0}setFeatureState(w,d){return this._isValidId(w.source)?(this.style.setFeatureState(w,d),this._update()):this}removeFeatureState(w,d){return this._isValidId(w.source)?(this.style.removeFeatureState(w,d),this._update()):this}getFeatureState(w){return this._isValidId(w.source)?this.style.getFeatureState(w):null}_updateContainerDimensions(){if(!this._container)return;const w=this._container.getBoundingClientRect().width||400,d=this._container.getBoundingClientRect().height||300;let g,x,B,L=this._container;for(;L&&(!x||!B);){const D=window.getComputedStyle(L).transform;D&&D!=="none"&&(g=D.match(/matrix.*\((.+)\)/)[1].split(", "),g[0]&&g[0]!=="0"&&g[0]!=="1"&&(x=g[0]),g[3]&&g[3]!=="0"&&g[3]!=="1"&&(B=g[3])),L=L.parentElement}this._containerWidth=x?Math.abs(w/x):w,this._containerHeight=B?Math.abs(d/B):d}_detectMissingCSS(){window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&a.w("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const w=this._container;w.classList.add("mapboxgl-map"),(this._missingCSSCanary=y("div","mapboxgl-canary",w)).style.visibility="hidden",this._detectMissingCSS();const d=this._canvasContainer=y("div","mapboxgl-canvas-container",w);this._canvas=y("canvas","mapboxgl-canvas",d),this._interactive&&(d.classList.add("mapboxgl-interactive"),this._canvas.setAttribute("tabindex","0")),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const g=this._controlContainer=y("div","mapboxgl-control-container",w),x=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(B=>{x[B]=y("div",`mapboxgl-ctrl-${B}`,g)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(w,d){const g=a.f.devicePixelRatio||1;this._canvas.width=g*Math.ceil(w),this._canvas.height=g*Math.ceil(d),this._canvas.style.width=`${w}px`,this._canvas.style.height=`${d}px`}_addMarker(w){this._markers.push(w)}_removeMarker(w){const d=this._markers.indexOf(w);d!==-1&&this._markers.splice(d,1)}_addPopup(w){this._popups.push(w)}_removePopup(w){const d=this._popups.indexOf(w);d!==-1&&this._popups.splice(d,1)}_setupPainter(){const w=a.e({},A.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),d=this._canvas.getContext("webgl2",w);d?(a.db(d,!0),this.painter=new ap(d,this._contextCreateOptions,this.transform,this._tp),this.on("data",g=>{g.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),a.dc.testSupport(d)):this.fire(new a.a(new Error("Failed to initialize WebGL")))}_contextLost(w){w.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.b("webglcontextlost",{originalEvent:w}))}_contextRestored(w){this._setupPainter(),this.resize(),this._update(),this.fire(new a.b("webglcontextrestored",{originalEvent:w}))}_onMapScroll(w){if(w.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(w){return this.style?(this._styleDirty=this._styleDirty||w,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(w){return this._update(),this._renderTaskQueue.add(w)}_cancelRenderFrame(w){this._renderTaskQueue.remove(w)}_requestDomTask(w){!this.loaded()||this.loaded()&&!this.isMoving()?w():this._domRenderTaskQueue.add(w)}_render(w){let d;this.fire(new a.b("renderstart"));const g=this.painter.context.extTimerQuery,x=a.f.now(),B=this.painter.context.gl;if(this.listens("gpu-timing-frame")&&(d=B.createQuery(),B.beginQuery(g.TIME_ELAPSED_EXT,d)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],performance.now())),this._renderTaskQueue.run(w),this._domRenderTaskQueue.run(w),this._removed)return;this._updateProjectionTransition();const L=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const Y=this.transform.zoom,ae=this.transform.pitch,de=a.f.now(),Ae=new a.K(Y,{now:de,fadeDuration:L,pitch:ae,transition:this.style.transition});this.style.update(Ae)}this.style&&this.style.hasFogTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let D=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),D=this._updateAverageElevation(x),this.style.updateSources(this.transform),this._forceMarkerAndPopupUpdate()):D=this._updateAverageElevation(x),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,L,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries||this._debugParams.showTileBoundaries,showParseStatus:this.showParseStatus||this._debugParams.showParseStatus,wireframe:{terrain:this.showTerrainWireframe||this._debugParams.showTerrainWireframe,layers2D:this.showLayers2DWireframe||this._debugParams.showLayers2DWireframe,layers3D:this.showLayers3DWireframe||this._debugParams.showLayers3DWireframe},showOverdrawInspector:this._showOverdrawInspector||this._debugParams.showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs||this._debugParams.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:L,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding||this._debugParams.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new a.b("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new a.b("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),d){const Y=a.f.now()-x;B.endQuery(g.TIME_ELAPSED_EXT),setTimeout(()=>{const ae=B.getQueryParameter(d,B.QUERY_RESULT)/1e6;B.deleteQuery(d),this.fire(new a.b("gpu-timing-frame",{cpuTime:Y,gpuTime:ae}))},50)}if(this.listens("gpu-timing-layer")){const Y=this.painter.collectGpuTimers();setTimeout(()=>{const ae=this.painter.queryGpuTimers(Y);this.fire(new a.b("gpu-timing-layer",{layerTimes:ae}))},50)}if(this.listens("gpu-timing-deferred-render")){const Y=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const ae=this.painter.queryGpuTimeDeferredRender(Y);this.fire(new a.b("gpu-timing-deferred-render",{gpuTime:ae}))},50)}const $=this._sourcesDirty||this._styleDirty||this._placementDirty||D;if($||this._repaint)this.triggerRepaint();else{const Y=!this.isMoving()&&this.loaded();if(Y&&(D=this._updateAverageElevation(x,!0)),D)this.triggerRepaint();else if(this._triggerFrame(!1),Y&&(this.fire(new a.b("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const ae=this._calculateSpeedIndex();this.fire(new a.b("speedindexcompleted",{speedIndex:ae})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||$||(this._fullyLoaded=!0,this._performanceMetricsCollection&&a.dd(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(w){for(const d of this._markers)w&&!this.getRenderWorldCopies()&&(d._lngLat=d._lngLat.wrap()),d._update();for(const d of this._popups)!w||this.getRenderWorldCopies()||d._trackPointer||(d._lngLat=d._lngLat.wrap()),d._update()}_updateAverageElevation(w,d=!1){const g=B=>(this.transform.averageElevation=B,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&g(0);const x=this.transform.elevation&&this.transform.elevation.exaggeration()!==this._averageElevationExaggeration;if(x||(d||w-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(w)){const B=this.transform.averageElevation;let L=this.transform.sampleAverageElevation();this.transform.elevation&&(this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(L)?L=0:this._averageElevationLastSampledAt=w;const D=Math.abs(B-L);if(D>1){if(this._isInitialLoad||x)return this._averageElevation.jumpTo(L),g(L);this._averageElevation.easeTo(L,w,300)}else if(D>1e-4)return this._averageElevation.jumpTo(L),g(L)}return!!this._averageElevation.isEasing(w)&&g(this._averageElevation.getValue(w))}_authenticate(){a.de(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,w=>{if(w&&(w.message===a.df||w.status===401)){const d=this.painter.context.gl;a.db(d,!1),this._logoControl instanceof b5&&this._logoControl._updateLogo(),d&&d.clear(d.DEPTH_BUFFER_BIT|d.COLOR_BUFFER_BIT|d.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new a.a(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),a.dg(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){const w=this._isDragging();this.painter.updateTerrain(this.style,w)}_calculateSpeedIndex(){const w=this.painter.canvasCopy(),d=this.painter.getCanvasCopiesAndTimestamps();d.timeStamps.push(performance.now());const g=this.painter.context.gl,x=g.createFramebuffer();function B(L){g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,L,0);const D=new Uint8Array(g.drawingBufferWidth*g.drawingBufferHeight*4);return g.readPixels(0,0,g.drawingBufferWidth,g.drawingBufferHeight,g.RGBA,g.UNSIGNED_BYTE,D),D}return g.bindFramebuffer(g.FRAMEBUFFER,x),this._canvasPixelComparison(B(w),d.canvasCopies.map(B),d.timeStamps)}_canvasPixelComparison(w,d,g){let x=g[1]-g[0];const B=w.length/4;for(let L=0;L<d.length;L++){const D=d[L];let $=0;for(let Y=0;Y<D.length;Y+=4)D[Y]===w[Y]&&D[Y+1]===w[Y+1]&&D[Y+2]===w[Y+2]&&D[Y+3]===w[Y+3]&&($+=1);x+=(g[L+2]-g[L+1])*(1-$/B)}return x}remove(){this._hash&&this._hash.remove();for(const d of this._controls)d.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),window.removeEventListener("resize",this._onWindowResize,!1),window.removeEventListener("orientationchange",this._onWindowResize,!1),window.removeEventListener(this._fullscreenchangeEvent,this._onWindowResize,!1),window.removeEventListener("online",this._onWindowOnline,!1),window.removeEventListener("visibilitychange",this._onVisibilityChange,!1);const w=this.painter.context.gl.getExtension("WEBGL_lose_context");w&&w.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),a.dh(this.painter.context.gl),a.di.remove(),a.dj.remove(),this._removed=!0,this.fire(new a.b("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(w){this._renderNextFrame=this._renderNextFrame||w,this.style&&!this._frame&&(this._frame=a.f.frame(d=>{const g=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,g&&this._render(d)}))}_preloadTiles(w){const d=this.style?Object.values(this.style._sourceCaches):[];return a.b1(d,(g,x)=>g._preloadTiles(w,x),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(w){this._trackResize&&this.resize({originalEvent:w})._update()}_onVisibilityChange(){document.visibilityState==="hidden"&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(w){this._showTileBoundaries!==w&&(this._showTileBoundaries=w,this._update())}get showParseStatus(){return!!this._showParseStatus}set showParseStatus(w){this._showParseStatus!==w&&(this._showParseStatus=w,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(w){this._showTerrainWireframe!==w&&(this._showTerrainWireframe=w,this._update())}get showLayers2DWireframe(){return!!this._showLayers2DWireframe}set showLayers2DWireframe(w){this._showLayers2DWireframe!==w&&(this._showLayers2DWireframe=w,this._update())}get showLayers3DWireframe(){return!!this._showLayers3DWireframe}set showLayers3DWireframe(w){this._showLayers3DWireframe!==w&&(this._showLayers3DWireframe=w,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(w){this._speedIndexTiming!==w&&(this._speedIndexTiming=w,this._update())}get showPadding(){return!!this._showPadding}set showPadding(w){this._showPadding!==w&&(this._showPadding=w,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(w){this._showCollisionBoxes!==w&&(this._showCollisionBoxes=w,w?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(w){this._showOverdrawInspector!==w&&(this._showOverdrawInspector=w,this._update())}get repaint(){return!!this._repaint}set repaint(w){this._repaint!==w&&(this._repaint=w,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(w){this._vertices=w,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(w){this._showTileAABBs!==w&&(this._showTileAABBs=w,w&&this._update())}_setCacheLimits(w,d){a.dl(w,d)}get version(){return a.dk}},NavigationControl:class{constructor(w){this.options=a.e({},Qy,w),this._container=y("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",d=>d.preventDefault()),this.options.showZoom&&(a.aY(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",d=>{this._map&&this._map.zoomIn({},{originalEvent:d})}),y("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",d=>{this._map&&this._map.zoomOut({},{originalEvent:d})}),y("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(a.aY(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",d=>{const g=this._map;g&&(this.options.visualizePitch?g.resetNorthPitch({},{originalEvent:d}):g.resetNorth({},{originalEvent:d}))}),this._compassIcon=y("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const w=this._map;if(!w)return;const d=w.getZoom(),g=d===w.getMaxZoom(),x=d===w.getMinZoom();this._zoomInButton.disabled=g,this._zoomOutButton.disabled=x,this._zoomInButton.setAttribute("aria-disabled",g.toString()),this._zoomOutButton.setAttribute("aria-disabled",x.toString())}_rotateCompassArrow(){const w=this._map;if(!w)return;const d=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(w.transform.pitch*(Math.PI/180)),.5)}) rotateX(${w.transform.pitch}deg) rotateZ(${w.transform.angle*(180/Math.PI)}deg)`:`rotate(${w.transform.angle*(180/Math.PI)}deg)`;w._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=d)})}onAdd(w){return this._map=w,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),w.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&w.on("pitch",this._rotateCompassArrow),w.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new hp(w,this._compass,this.options.visualizePitch)),this._container}onRemove(){const w=this._map;w&&(this._container.remove(),this.options.showZoom&&w.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&w.off("pitch",this._rotateCompassArrow),w.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(w,d){const g=y("button",w,this._container);return g.type="button",g.addEventListener("click",d),g}_setButtonTitle(w,d){if(!this._map)return;const g=this._map._getUIString(`NavigationControl.${d}`);w.setAttribute("aria-label",g),w.firstElementChild&&w.firstElementChild.setAttribute("title",g)}},GeolocateControl:class extends a.E{constructor(w){super();const d=navigator.geolocation;this.options=a.e({geolocation:d},jy,w),a.aY(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=_h(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(w){return this._map=w,this._container=y("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(w){const d=(g=!!this.options.geolocation)=>{this._supportsGeolocation=g,w(g)};this._supportsGeolocation!==void 0?w(this._supportsGeolocation):navigator.permissions!==void 0?navigator.permissions.query({name:"geolocation"}).then(g=>d(g.state!=="denied")).catch(()=>d()):d()}_isOutOfMapMaxBounds(w){const d=this._map.getMaxBounds(),g=w.coords;return!!d&&(g.longitude<d.getWest()||g.longitude>d.getEast()||g.latitude<d.getSouth()||g.latitude>d.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(w){if(this._map){if(this._isOutOfMapMaxBounds(w))return this._setErrorState(),this.fire(new a.b("outofmaxbounds",w)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=w,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(w),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(w),this.options.showUserLocation&&this._userLocationDotMarker.removeClassName("mapboxgl-user-location-dot-stale"),this.fire(new a.b("geolocate",w)),this._finish()}}_updateCamera(w){const d=new a.bn(w.coords.longitude,w.coords.latitude),g=w.coords.accuracy,x=this._map.getBearing(),B=a.e({bearing:x},this.options.fitBoundsOptions);this._map.fitBounds(d.toBounds(g),B,{geolocateSource:!0})}_updateMarker(w){if(w){const d=new a.bn(w.coords.longitude,w.coords.latitude);this._accuracyCircleMarker.setLngLat(d).addTo(this._map),this._userLocationDotMarker.setLngLat(d).addTo(this._map),this._accuracy=w.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const w=this._map.transform,d=a.bl(1,w._center.lat)*w.worldSize,g=Math.ceil(2*this._accuracy*d);this._circleElement.style.width=`${g}px`,this._circleElement.style.height=`${g}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._userLocationDotMarker.addClassName("mapboxgl-user-location-show-heading")):(this._userLocationDotMarker.removeClassName("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(w){if(this._map){if(this.options.trackUserLocation)if(w.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",d),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",d),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(w.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._userLocationDotMarker.addClassName("mapboxgl-user-location-dot-stale"),this.fire(new a.b("error",w)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(w){if(this._map!==void 0){if(this._container.addEventListener("contextmenu",d=>d.preventDefault()),this._geolocateButton=y("button","mapboxgl-ctrl-geolocate",this._container),y("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",w===!1){a.w("Geolocation support is not available so the GeolocateControl will be disabled.");const d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",d),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",d)}else{const d=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",d),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",d)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=y("div","mapboxgl-user-location"),this._dotElement.appendChild(y("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(y("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new tx({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=y("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new tx({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",d=>{d.geolocateSource||this._watchState!=="ACTIVE_LOCK"||d.originalEvent&&d.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new a.b("trackuserlocationend")))})}}_onDeviceOrientation(w){this._userLocationDotMarker&&(w.webkitCompassHeading?this._heading=w.webkitCompassHeading:w.absolute===!0&&(this._heading=-1*w.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return a.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.b("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new a.b("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.b("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let w;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(w={maximumAge:6e5,timeout:0},this._noTimeout=!0):(w=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,w),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const w=()=>{"ondeviceorientationabsolute"in window?window.addEventListener("deviceorientationabsolute",this._onDeviceOrientation):window.addEventListener("deviceorientation",this._onDeviceOrientation)};typeof DeviceMotionEvent<"u"&&typeof DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(d=>{d==="granted"&&w()}).catch(console.error):w()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),window.removeEventListener("deviceorientation",this._onDeviceOrientation),window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:ex,ScaleControl:class{constructor(w){this.options=a.e({},Pu,w),this._isNumberFormatSupported=function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"short",unit:"meter"}),!0}catch{return!1}}(),a.aY(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const w=this.options.maxWidth||100,d=this._map,g=d._containerHeight/2,x=d._containerWidth/2-w/2,B=d.unproject([x,g]),L=d.unproject([x+w,g]),D=B.distanceTo(L);if(this.options.unit==="imperial"){const $=3.2808*D;$>5280?this._setScale(w,$/5280,"mile"):this._setScale(w,$,"foot")}else this.options.unit==="nautical"?this._setScale(w,D/1852,"nautical-mile"):D>=1e3?this._setScale(w,D/1e3,"kilometer"):this._setScale(w,D,"meter")}_setScale(w,d,g){this._map._requestDomTask(()=>{const x=function(L){const D=Math.pow(10,`${Math.floor(L)}`.length-1);let $=L/D;return $=$>=10?10:$>=5?5:$>=3?3:$>=2?2:$>=1?1:function(Y){const ae=Math.pow(10,Math.ceil(-Math.log(Y)/Math.LN10));return Math.round(Y*ae)/ae}($),D*$}(d),B=x/d;this._container.innerHTML=this._isNumberFormatSupported&&g!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"short",unit:g}).format(x):`${x}&nbsp;${IA[g]}`,this._container.style.width=w*B+"px"})}onAdd(w){return this._map=w,this._language=w.getLanguage(),this._container=y("div","mapboxgl-ctrl mapboxgl-ctrl-scale",w.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(w){this._language=w,this._update()}setUnit(w){this.options.unit=w,this._update()}},FullscreenControl:class{constructor(w){this._fullscreen=!1,w&&w.container&&(w.container instanceof HTMLElement?this._container=w.container:a.w("Full screen control 'container' must be a DOM element.")),a.aY(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(w){return this._map=w,this._container||(this._container=this._map.getContainer()),this._controlContainer=y("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",a.w("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!document.fullscreenEnabled&&!document.webkitFullscreenEnabled)}_setupUI(){const w=this._fullscreenButton=y("button","mapboxgl-ctrl-fullscreen",this._controlContainer);y("span","mapboxgl-ctrl-icon",w).setAttribute("aria-hidden","true"),w.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const w=this._getTitle();this._fullscreenButton.setAttribute("aria-label",w),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",w)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(document.fullscreenElement||document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends a.E{constructor(w){super(),this.options=a.e(Object.create(x5),w),a.aY(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(w&&w.className?w.className.trim().split(/\s+/):[])}addTo(w){return this._map&&this.remove(),this._map=w,this.options.closeOnClick&&w.on("preclick",this._onClose),this.options.closeOnMove&&w.on("move",this._onClose),w.on("remove",this.remove),this._update(),w._addPopup(this),this._focusFirstElement(),this._trackPointer?(w.on("mousemove",this._onMouseEvent),w.on("mouseup",this._onMouseEvent),w._canvasContainer.classList.add("mapboxgl-track-pointer")):w.on("move",this._update),this.fire(new a.b("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const w=this._map;return w&&(w.off("move",this._update),w.off("move",this._onClose),w.off("preclick",this._onClose),w.off("click",this._onClose),w.off("remove",this.remove),w.off("mousemove",this._onMouseEvent),w.off("mouseup",this._onMouseEvent),w.off("drag",this._onMouseEvent),w._canvasContainer&&w._canvasContainer.classList.remove("mapboxgl-track-pointer"),w._removePopup(this),this._map=void 0),this.fire(new a.b("close")),this}getLngLat(){return this._lngLat}setLngLat(w){this._lngLat=a.bn.convert(w),this._pos=null,this._trackPointer=!1,this._update();const d=this._map;return d&&(d.on("move",this._update),d.off("mousemove",this._onMouseEvent),d._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const w=this._map;return w&&(w.off("move",this._update),w.on("mousemove",this._onMouseEvent),w.on("drag",this._onMouseEvent),w._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(w){return this.setDOMContent(document.createTextNode(w))}setHTML(w){const d=document.createDocumentFragment(),g=document.createElement("body");let x;for(g.innerHTML=w;x=g.firstChild,x;)d.appendChild(x);return this.setDOMContent(d)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(w){return this.options.maxWidth=w,this._update(),this}setDOMContent(w){let d=this._content;if(d)for(;d.hasChildNodes();)d.firstChild&&d.removeChild(d.firstChild);else d=this._content=y("div","mapboxgl-popup-content",this._container||void 0);if(d.appendChild(w),this.options.closeButton){const g=this._closeButton=y("button","mapboxgl-popup-close-button",d);g.type="button",g.setAttribute("aria-label","Close popup"),g.setAttribute("aria-hidden","true"),g.innerHTML="&#215;",g.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(w){return this._classList.add(w),this._updateClassList(),this}removeClassName(w){return this._classList.delete(w),this._updateClassList(),this}setOffset(w){return this.options.offset=w,this._update(),this}toggleClassName(w){let d;return this._classList.delete(w)?d=!1:(this._classList.add(w),d=!0),this._updateClassList(),d}_onMouseEvent(w){this._update(w.point)}_getAnchor(w){if(this.options.anchor)return this.options.anchor;const d=this._map,g=this._container,x=this._pos;if(!d||!g||!x)return"bottom";const B=g.offsetWidth,L=g.offsetHeight,D=x.x<B/2,$=x.x>d.transform.width-B/2;if(x.y+w<L)return D?"top-left":$?"top-right":"top";if(x.y>d.transform.height-L){if(D)return"bottom-left";if($)return"bottom-right"}return D?"left":$?"right":"bottom"}_updateClassList(){const w=this._container;if(!w)return;const d=[...this._classList];d.push("mapboxgl-popup"),this._anchor&&d.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&d.push("mapboxgl-popup-track-pointer"),w.className=d.join(" ")}_update(w){const d=this._map,g=this._content;if(!d||!this._lngLat&&!this._trackPointer||!g)return;let x=this._container;if(x||(x=this._container=y("div","mapboxgl-popup",d.getContainer()),this._tip=y("div","mapboxgl-popup-tip",x),x.appendChild(g)),this.options.maxWidth&&x.style.maxWidth!==this.options.maxWidth&&(x.style.maxWidth=this.options.maxWidth),d.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=U1(this._lngLat,this._pos,d.transform)),!this._trackPointer||w){const B=this._pos=this._trackPointer&&w?w:d.project(this._lngLat),L=E5(this.options.offset),D=this._anchor=this._getAnchor(L.y),$=E5(this.options.offset,D),Y=B.add($).round();d._requestDomTask(()=>{this._container&&D&&(this._container.style.transform=`${Hy[D]} translate(${Y.x}px,${Y.y}px)`)})}if(!this._marker&&d._showingGlobe()){const B=a.d6(d.transform,this._lngLat)?0:1;this._setOpacity(B)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const w=this._container.querySelector(C5);w&&w.focus()}_onClose(){this.remove()}_setOpacity(w){this._container&&(this._container.style.opacity=`${w}`),this._content&&(this._content.style.pointerEvents=w?"auto":"none")}},Marker:tx,Style:Gl,LngLat:a.bn,LngLatBounds:a.ad,Point:a.P,MercatorCoordinate:a.L,FreeCameraOptions:Gu,Evented:a.E,config:a.d5,prewarm:a.dp,clearPrewarmedResources:a.dq,get accessToken(){return a.d5.ACCESS_TOKEN},set accessToken(w){a.d5.ACCESS_TOKEN=w},get baseApiUrl(){return a.d5.API_URL},set baseApiUrl(w){a.d5.API_URL=w},get workerCount(){return a.dr.workerCount},set workerCount(w){a.dr.workerCount=w},get maxParallelImageRequests(){return a.d5.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(w){a.d5.MAX_PARALLEL_IMAGE_REQUESTS=w},clearStorage(w){a.ds(w)},get workerUrl(){return a.dt.workerUrl},set workerUrl(w){a.dt.workerUrl=w},get workerClass(){return a.dt.workerClass},set workerClass(w){a.dt.workerClass=w},get workerParams(){return a.dt.workerParams},set workerParams(w){a.dt.workerParams=w},get dracoUrl(){return a.du()},set dracoUrl(w){a.dv(w)},get meshoptUrl(){return a.dw()},set meshoptUrl(w){a.dx(w)},setNow:a.f.setNow,restoreNow:a.f.restoreNow}});var c=s;return c})})(Ote);var Ybe=Ote.exports;const q0=Jp(Ybe);var Nte={exports:{}};(function(t){function e(f){if(f=Object.assign({},f),!(this instanceof e))throw new Error("MapboxLanguage needs to be called with the new keyword");this.setLanguage=this.setLanguage.bind(this),this._initialStyleUpdate=this._initialStyleUpdate.bind(this),this._defaultLanguage=f.defaultLanguage,this._isLanguageField=f.languageField||/^name_/,this._getLanguageField=f.getLanguageField||function(m){return m==="mul"?"name":`name_${m}`},this._languageSource=f.languageSource||null,this._languageTransform=f.languageTransform,this._excludedLayerIds=f.excludedLayerIds||[],this.supportedLanguages=f.supportedLanguages||["ar","de","en","es","fr","it","ja","ko","mul","pt","ru","vi","zh-Hans","zh-Hant"]}const n=/^\{name/;function r(f,A){const m=Array.isArray(A)&&A[0]==="get";return m&&n.test(A[1])&&console.warn("This plugin no longer supports the use of token syntax (e.g. {name}). Please use a get expression. See https://docs.mapbox.com/mapbox-gl-js/style-spec/expressions/ for more details."),m&&f.test(A[1])}function i(f,A,m){if(Array.isArray(A))for(let _=1;_<A.length;_++)Array.isArray(A[_])&&(r(f,A[_])&&(A[_][1]=m),i(f,A[_],m))}function s(f,A,m){if(r(f,A)&&(A[1]=m),i(f,A,m),A[0]==="get"&&A[1]==="name"){const _=A.slice();A=["coalesce",["get",m],_]}return A}function l(f,A,m,_){return A.layout&&A.layout["text-field"]&&_.indexOf(A.id)===-1?Object.assign({},A,{layout:Object.assign({},A.layout,{"text-field":s(f,A.layout["text-field"],m)})}):A}function c(f){const A=Object.keys(f.sources).filter(m=>{const _=f.sources[m].url;return _&&_.indexOf("mapbox.mapbox-streets-v8")>-1||/mapbox-streets-v[1-9][1-9]/.test(_)});if(!A.length)throw new Error('If using MapboxLanguage with a Mapbox style, the style must be based on vector tile version 8, e.g. "streets-v11"');return A[0]}e.prototype.setLanguage=function(f,A){if(this.supportedLanguages.indexOf(A)<0)throw new Error(`Language ${A} is not supported`);const m=this._languageSource||c(f);if(!m)return f;const _=this._getLanguageField(A),y=this._isLanguageField,T=this._excludedLayerIds,E=f.layers.map(I=>I.source===m?l(y,I,_,T):I),P=Object.assign({},f,{layers:E});return this._languageTransform?this._languageTransform(P,A):P},e.prototype._initialStyleUpdate=function(){const f=this._map.getStyle(),A=this._defaultLanguage||a(this.supportedLanguages);this._map.setStyle(this.setLanguage(f,A))};function a(f){const A=navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage,m=A&&A.split("-");let _=A;return m.length>1&&(_=m[0]),f.indexOf(_)>-1?_:null}e.prototype.onAdd=function(f){return this._map=f,this._map.on("style.load",this._initialStyleUpdate),this._container=document.createElement("div"),this._container},e.prototype.onRemove=function(){this._map.off("style.load",this._initialStyleUpdate),this._map=void 0},t.exports=e})(Nte);var Xbe=Nte.exports;const Zbe=Jp(Xbe),Jbe={id:"menu"},ewe={class:"input-label-row"},twe=["id","value","checked"],nwe=["for"],Cj="streets",rwe={__name:"MapboxMain",props:{geodata:{type:Object,default:{}}},setup(t,{expose:e}){const n=Te(null),r=Te(null),i=Te(null);let s=!1;const l={ar:"ar",de:"de",en:"en",es:"es",fr:"fr",it:"it",ja:"ja",ko:"ko",mul:"mul",pt:"pt",ru:"ru",vi:"vi","zh-CN":"zh-Hans","zh-HK":"zh-Hant","zh-TW":"zh-Hant","zh-Hans":"zh-Hans","zh-Hant":"zh-Hant"},c="pk.eyJ1IjoiZ2Vla2NhdCIsImEiOiJjbHc5ZTJ6dmIwMTEyMmpudGowMXk5Y3o2In0.HDxYFBSNCpbYan731GLJEw",a=[{id:"satellite-streets",label:"Satellite Streets",url:"mapbox://styles/geekcat/clwc44om0008b01pn91yg82cg"},{id:"light-v11",label:"Light",url:"mapbox://styles/mapbox/light-v11"},{id:"dark-v11",label:"Dark",url:"mapbox://styles/mapbox/dark-v11"},{id:"streets",label:"Streets",url:"mapbox://styles/geekcat/clwxb0z8q01ep01pohp1h4q4d"},{id:"outdoors",label:"Outdoors",url:"mapbox://styles/geekcat/clwxbnita01es01po7fto915q"}],f=t,A=()=>{const N=navigator.language||navigator.userLanguage;let z="mul";l[N]&&(z=l[N]),q0.setRTLTextPlugin("https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js");const Q=new Zbe({defaultLanguage:z});r.value.language=z,r.value.setStyle(Q.setLanguage(r.value.getStyle(),z)),r.value.addControl(Q)},m=N=>{const z=N.target.value,Q=a.find(j=>j.id===z).url;r.value&&(r.value.setStyle(Q),f.geodata,r.value.once("style.load",()=>{f.geodata.status=="GeoJSONLayers"&&T(f.geodata.data),f.geodata.status=="HeatMap"&&y(f.geodata.data)}))},_=N=>{const z=["match",["get","name"]];return Object.entries(N).forEach(([j,H])=>{z.push(j,H)}),z.push("#B42222"),z},y=N=>{Object.keys(N).length!=0&&(r.value.addSource("findmy-data",{type:"geojson",data:N}),r.value.addLayer({id:"findmy-heatmap",type:"heatmap",source:"findmy-data",maxzoom:17,paint:{"heatmap-intensity":["interpolate",["linear"],["zoom"],0,1,9,3,15,10],"heatmap-color":["interpolate",["linear"],["heatmap-density"],0,"rgba(33,102,172,0)",.2,"rgb(103,169,207)",.4,"rgb(209,229,240)",.6,"rgb(253,219,199)",.8,"rgb(239,138,98)",1,"rgb(178,24,43)"],"heatmap-radius":["interpolate",["linear"],["zoom"],0,2,9,15],"heatmap-opacity":["interpolate",["linear"],["zoom"],0,.6,10,.7,17,1]},filter:["==","$type","Point"]}))},T=N=>{if(Object.keys(N).length==0)return;const Q=_({"001":"#f28cb1",LBKAS9:"#36beff","Location C":"#223b53","Location D":"#e55e5e"});r.value.addSource("findmy-data",{type:"geojson",data:N}),r.value.addLayer({id:"findmy-point",type:"circle",source:"findmy-data",paint:{"circle-radius":6,"circle-color":Q},filter:["==","$type","Point"]}),r.value.addLayer({id:"findmy-route",type:"line",source:"findmy-data",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":Q,"line-width":3,"line-dasharray":[1,2]},filter:["==","$type","LineString"]}),r.value.addLayer({id:"line-arrows",type:"symbol",source:"findmy-data",layout:{"symbol-placement":"line","text-field":"","text-size":24,"symbol-spacing":50,"text-keep-upright":!1},paint:{"text-color":"red"},filter:["==","$type","LineString"]})},E=(N,z)=>{N.forEach(Q=>{r.value.getLayer(Q)&&r.value.removeLayer(Q)}),z.forEach(Q=>{r.value.getSource(Q)&&r.value.removeSource(Q)})},P=N=>{const z=new q0.LngLatBounds;N.features.forEach(function(Q){const j=Q.geometry.coordinates;z.extend(j)}),r.value.fitBounds(z,{padding:20})},I=N=>{const z=["in",["get","name"],["literal",N]];r.value.setFilter("findmy-point",z),r.value.setFilter("findmy-route",z),r.value.setFilter("line-arrows",z),s=!0},F=()=>{r.value.setFilter("findmy-point",null),r.value.setFilter("findmy-route",null),r.value.setFilter("line-arrows",null),s=!1},R=new q0.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0,showUserHeading:!0});return e({map:r,switchStyle:m,setStyleLanguage:A,geometryColorSet:_,addHeatmapLayer:y,addGeoJSONLayers:T,removeGeoJSONLayers:E,setMapFilter:I,removeMapFilter:F,FitBounds:P}),kr(()=>{q0.accessToken=c;const N=[104.0657,30.6594];r.value=new q0.Map({container:n.value,style:a.find(z=>z.id===Cj).url,center:N,zoom:3}),r.value.on("load",()=>{A()}),r.value.on("mouseenter","findmy-point",z=>{r.value.getCanvas().style.cursor="pointer";const Q=s?1:0,j=z.features[Q].geometry.coordinates.slice(),H=j.map(W=>W.toFixed(4).toString()),K=z.features[Q].properties.TimeStamp,ie=z.features[Q].properties.name,q=new q0.Popup({offset:25}).setLngLat(j).setHTML(`<strong>Name:</strong> ${ie}<br/><strong>Coordinates:</strong> ${H}<br/><strong>Timestamp:</strong> ${K}`).addTo(r.value);r.value.on("mouseleave","findmy-point",()=>{r.value.getCanvas().style.cursor="",q.remove()})}),r.value.on("click","findmy-point",z=>{const Q=s?1:0,j=z.features[Q].geometry.coordinates.slice(),H=j.map(q=>q.toFixed(4).toString()),K=z.features[Q].properties.TimeStamp,ie=z.features[Q].properties.name;new q0.Popup({offset:25}).setLngLat(j).setHTML(`<strong>Name:</strong> ${ie}<br/><strong>Coordinates:</strong> ${H}<br/><strong>Timestamp:</strong> ${K}`).addTo(r.value)}),r.value.addControl(new q0.NavigationControl),r.value.addControl(R)}),(N,z)=>{const Q=Kr("el-row"),j=Kr("el-col");return X(),ve("div",null,[pe("div",{id:"map",ref_key:"mapContainer",ref:n},null,512),ht(pN,{ref_key:"DataHandlerRef",ref:i},null,512),pe("div",Jbe,[ht(j,null,{default:xt(()=>[(X(),ve(Vn,null,Yr(a,H=>ht(Q,{span:6,key:H.id},{default:xt(()=>[pe("div",ewe,[pe("input",{id:H.id,type:"radio",name:"rtoggle",value:H.id,checked:H.id===Cj,onChange:m},null,40,twe),pe("label",{for:H.id},Cn(H.label),9,nwe)])]),_:2},1024)),64))]),_:1})])])}}},iwe=M6(rwe,[["__scopeId","data-v-42e0b98b"]]),Ute={__name:"MainApp",setup(t){const e=Te(null),n=Te(null),r=Te({}),i={layers:["findmy-point","findmy-route","line-arrows","findmy-heatmap"],sources:["findmy-data"]},s=f=>{r.value.data=f,r.value.status="GeoJSONLayers",e.value.removeGeoJSONLayers(i.layers,i.sources),e.value.addGeoJSONLayers(f),e.value.FitBounds(f)},l=f=>{r.value.data=f,r.value.status="HeatMap",e.value.removeGeoJSONLayers(i.layers,i.sources),e.value.addHeatmapLayer(f),e.value.FitBounds(f)},c=async f=>{await n.value.fetchData(f);const A=n.value.exposedData;s(A)},a=async f=>{await n.value.fetchData(f);const A=n.value.exposedData;l(A)};return kr(()=>{}),(f,A)=>(X(),ve(Vn,null,[ht(qbe,{onSubmit:c,onAddHeatMap:a}),ht(iwe,{geodata:r.value,ref_key:"MapboxMainRef",ref:e},null,8,["geodata"]),ht(pN,{ref_key:"DataHandlerRef",ref:n},null,512)],64))}},awe={__name:"App",setup(t){return(e,n)=>(X(),Ut(Ute))}};/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const $b=typeof document<"u";function swe(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Qs=Object.assign;function hL(t,e){const n={};for(const r in e){const i=e[r];n[r]=Gp(i)?i.map(t):t(i)}return n}const $4=()=>{},Gp=Array.isArray,zte=/#/g,owe=/&/g,lwe=/\//g,uwe=/=/g,cwe=/\?/g,$te=/\+/g,hwe=/%5B/g,dwe=/%5D/g,Vte=/%5E/g,fwe=/%60/g,Hte=/%7B/g,pwe=/%7C/g,Qte=/%7D/g,Awe=/%20/g;function AN(t){return encodeURI(""+t).replace(pwe,"|").replace(hwe,"[").replace(dwe,"]")}function mwe(t){return AN(t).replace(Hte,"{").replace(Qte,"}").replace(Vte,"^")}function lk(t){return AN(t).replace($te,"%2B").replace(Awe,"+").replace(zte,"%23").replace(owe,"%26").replace(fwe,"`").replace(Hte,"{").replace(Qte,"}").replace(Vte,"^")}function gwe(t){return lk(t).replace(uwe,"%3D")}function vwe(t){return AN(t).replace(zte,"%23").replace(cwe,"%3F")}function _we(t){return t==null?"":vwe(t).replace(lwe,"%2F")}function SC(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const ywe=/\/$/,bwe=t=>t.replace(ywe,"");function dL(t,e,n="/"){let r,i={},s="",l="";const c=e.indexOf("#");let a=e.indexOf("?");return c<a&&c>=0&&(a=-1),a>-1&&(r=e.slice(0,a),s=e.slice(a+1,c>-1?c:e.length),i=t(s)),c>-1&&(r=r||e.slice(0,c),l=e.slice(c,e.length)),r=Ewe(r??e,n),{fullPath:r+(s&&"?")+s+l,path:r,query:i,hash:SC(l)}}function wwe(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Ej(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function xwe(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Yw(e.matched[r],n.matched[i])&&jte(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Yw(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function jte(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Cwe(t[n],e[n]))return!1;return!0}function Cwe(t,e){return Gp(t)?Sj(t,e):Gp(e)?Sj(e,t):t===e}function Sj(t,e){return Gp(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function Ewe(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,l,c;for(l=0;l<r.length;l++)if(c=r[l],c!==".")if(c==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(l).join("/")}var TC;(function(t){t.pop="pop",t.push="push"})(TC||(TC={}));var V4;(function(t){t.back="back",t.forward="forward",t.unknown=""})(V4||(V4={}));function Swe(t){if(!t)if($b){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),bwe(t)}const Twe=/^[^#]+#/;function Bwe(t,e){return t.replace(Twe,"#")+e}function Mwe(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const H8=()=>({left:window.scrollX,top:window.scrollY});function Iwe(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=Mwe(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Tj(t,e){return(history.state?history.state.position-e:-1)+t}const uk=new Map;function Lwe(t,e){uk.set(t,e)}function Pwe(t){const e=uk.get(t);return uk.delete(t),e}let Fwe=()=>location.protocol+"//"+location.host;function Gte(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let c=i.includes(t.slice(s))?t.slice(s).length:1,a=i.slice(c);return a[0]!=="/"&&(a="/"+a),Ej(a,"")}return Ej(n,t)+r+i}function kwe(t,e,n,r){let i=[],s=[],l=null;const c=({state:_})=>{const y=Gte(t,location),T=n.value,E=e.value;let P=0;if(_){if(n.value=y,e.value=_,l&&l===T){l=null;return}P=E?_.position-E.position:0}else r(y);i.forEach(I=>{I(n.value,T,{delta:P,type:TC.pop,direction:P?P>0?V4.forward:V4.back:V4.unknown})})};function a(){l=n.value}function f(_){i.push(_);const y=()=>{const T=i.indexOf(_);T>-1&&i.splice(T,1)};return s.push(y),y}function A(){const{history:_}=window;_.state&&_.replaceState(Qs({},_.state,{scroll:H8()}),"")}function m(){for(const _ of s)_();s=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",A)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",A,{passive:!0}),{pauseListeners:a,listen:f,destroy:m}}function Bj(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?H8():null}}function Rwe(t){const{history:e,location:n}=window,r={value:Gte(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(a,f,A){const m=t.indexOf("#"),_=m>-1?(n.host&&document.querySelector("base")?t:t.slice(m))+a:Fwe()+t+a;try{e[A?"replaceState":"pushState"](f,"",_),i.value=f}catch(y){console.error(y),n[A?"replace":"assign"](_)}}function l(a,f){const A=Qs({},e.state,Bj(i.value.back,a,i.value.forward,!0),f,{position:i.value.position});s(a,A,!0),r.value=a}function c(a,f){const A=Qs({},i.value,e.state,{forward:a,scroll:H8()});s(A.current,A,!0);const m=Qs({},Bj(r.value,a,null),{position:A.position+1},f);s(a,m,!1),r.value=a}return{location:r,state:i,push:c,replace:l}}function Owe(t){t=Swe(t);const e=Rwe(t),n=kwe(t,e.state,e.location,e.replace);function r(s,l=!0){l||n.pauseListeners(),history.go(s)}const i=Qs({location:"",base:t,go:r,createHref:Bwe.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function Dwe(t){return typeof t=="string"||t&&typeof t=="object"}function Kte(t){return typeof t=="string"||typeof t=="symbol"}const Y0={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Wte=Symbol("");var Mj;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Mj||(Mj={}));function Xw(t,e){return Qs(new Error,{type:t,[Wte]:!0},e)}function yg(t,e){return t instanceof Error&&Wte in t&&(e==null||!!(t.type&e))}const Ij="[^/]+?",Nwe={sensitive:!1,strict:!1,start:!0,end:!0},Uwe=/[.+*?^${}()[\]/\\]/g;function zwe(t,e){const n=Qs({},Nwe,e),r=[];let i=n.start?"^":"";const s=[];for(const f of t){const A=f.length?[]:[90];n.strict&&!f.length&&(i+="/");for(let m=0;m<f.length;m++){const _=f[m];let y=40+(n.sensitive?.25:0);if(_.type===0)m||(i+="/"),i+=_.value.replace(Uwe,"\\$&"),y+=40;else if(_.type===1){const{value:T,repeatable:E,optional:P,regexp:I}=_;s.push({name:T,repeatable:E,optional:P});const F=I||Ij;if(F!==Ij){y+=10;try{new RegExp(`(${F})`)}catch(N){throw new Error(`Invalid custom RegExp for param "${T}" (${F}): `+N.message)}}let R=E?`((?:${F})(?:/(?:${F}))*)`:`(${F})`;m||(R=P&&f.length<2?`(?:/${R})`:"/"+R),P&&(R+="?"),i+=R,y+=20,P&&(y+=-8),E&&(y+=-20),F===".*"&&(y+=-50)}A.push(y)}r.push(A)}if(n.strict&&n.end){const f=r.length-1;r[f][r[f].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const l=new RegExp(i,n.sensitive?"":"i");function c(f){const A=f.match(l),m={};if(!A)return null;for(let _=1;_<A.length;_++){const y=A[_]||"",T=s[_-1];m[T.name]=y&&T.repeatable?y.split("/"):y}return m}function a(f){let A="",m=!1;for(const _ of t){(!m||!A.endsWith("/"))&&(A+="/"),m=!1;for(const y of _)if(y.type===0)A+=y.value;else if(y.type===1){const{value:T,repeatable:E,optional:P}=y,I=T in f?f[T]:"";if(Gp(I)&&!E)throw new Error(`Provided param "${T}" is an array but it is not repeatable (* or + modifiers)`);const F=Gp(I)?I.join("/"):I;if(!F)if(P)_.length<2&&(A.endsWith("/")?A=A.slice(0,-1):m=!0);else throw new Error(`Missing required param "${T}"`);A+=F}}return A||"/"}return{re:l,score:r,keys:s,parse:c,stringify:a}}function $we(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Vwe(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=$we(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(Lj(r))return 1;if(Lj(i))return-1}return i.length-r.length}function Lj(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Hwe={type:0,value:""},Qwe=/[a-zA-Z0-9_]/;function jwe(t){if(!t)return[[]];if(t==="/")return[[Hwe]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(y){throw new Error(`ERR (${n})/"${f}": ${y}`)}let n=0,r=n;const i=[];let s;function l(){s&&i.push(s),s=[]}let c=0,a,f="",A="";function m(){f&&(n===0?s.push({type:0,value:f}):n===1||n===2||n===3?(s.length>1&&(a==="*"||a==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:f,regexp:A,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):e("Invalid state to consume buffer"),f="")}function _(){f+=a}for(;c<t.length;){if(a=t[c++],a==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:a==="/"?(f&&m(),l()):a===":"?(m(),n=1):_();break;case 4:_(),n=r;break;case 1:a==="("?n=2:Qwe.test(a)?_():(m(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&c--);break;case 2:a===")"?A[A.length-1]=="\\"?A=A.slice(0,-1)+a:n=3:A+=a;break;case 3:m(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&c--,A="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${f}"`),m(),l(),i}function Gwe(t,e,n){const r=zwe(jwe(t.path),n),i=Qs(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function Kwe(t,e){const n=[],r=new Map;e=kj({strict:!1,end:!0,sensitive:!1},e);function i(A){return r.get(A)}function s(A,m,_){const y=!_,T=Wwe(A);T.aliasOf=_&&_.record;const E=kj(e,A),P=[T];if("alias"in A){const R=typeof A.alias=="string"?[A.alias]:A.alias;for(const N of R)P.push(Qs({},T,{components:_?_.record.components:T.components,path:N,aliasOf:_?_.record:T}))}let I,F;for(const R of P){const{path:N}=R;if(m&&N[0]!=="/"){const z=m.record.path,Q=z[z.length-1]==="/"?"":"/";R.path=m.record.path+(N&&Q+N)}if(I=Gwe(R,m,E),_?_.alias.push(I):(F=F||I,F!==I&&F.alias.push(I),y&&A.name&&!Fj(I)&&l(A.name)),T.children){const z=T.children;for(let Q=0;Q<z.length;Q++)s(z[Q],I,_&&_.children[Q])}_=_||I,(I.record.components&&Object.keys(I.record.components).length||I.record.name||I.record.redirect)&&a(I)}return F?()=>{l(F)}:$4}function l(A){if(Kte(A)){const m=r.get(A);m&&(r.delete(A),n.splice(n.indexOf(m),1),m.children.forEach(l),m.alias.forEach(l))}else{const m=n.indexOf(A);m>-1&&(n.splice(m,1),A.record.name&&r.delete(A.record.name),A.children.forEach(l),A.alias.forEach(l))}}function c(){return n}function a(A){let m=0;for(;m<n.length&&Vwe(A,n[m])>=0&&(A.record.path!==n[m].record.path||!qte(A,n[m]));)m++;n.splice(m,0,A),A.record.name&&!Fj(A)&&r.set(A.record.name,A)}function f(A,m){let _,y={},T,E;if("name"in A&&A.name){if(_=r.get(A.name),!_)throw Xw(1,{location:A});E=_.record.name,y=Qs(Pj(m.params,_.keys.filter(F=>!F.optional).concat(_.parent?_.parent.keys.filter(F=>F.optional):[]).map(F=>F.name)),A.params&&Pj(A.params,_.keys.map(F=>F.name))),T=_.stringify(y)}else if(A.path!=null)T=A.path,_=n.find(F=>F.re.test(T)),_&&(y=_.parse(T),E=_.record.name);else{if(_=m.name?r.get(m.name):n.find(F=>F.re.test(m.path)),!_)throw Xw(1,{location:A,currentLocation:m});E=_.record.name,y=Qs({},m.params,A.params),T=_.stringify(y)}const P=[];let I=_;for(;I;)P.unshift(I.record),I=I.parent;return{name:E,path:T,params:y,matched:P,meta:Ywe(P)}}return t.forEach(A=>s(A)),{addRoute:s,resolve:f,removeRoute:l,getRoutes:c,getRecordMatcher:i}}function Pj(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function Wwe(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:qwe(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function qwe(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function Fj(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Ywe(t){return t.reduce((e,n)=>Qs(e,n.meta),{})}function kj(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function qte(t,e){return e.children.some(n=>n===t||qte(t,n))}function Xwe(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace($te," "),l=s.indexOf("="),c=SC(l<0?s:s.slice(0,l)),a=l<0?null:SC(s.slice(l+1));if(c in e){let f=e[c];Gp(f)||(f=e[c]=[f]),f.push(a)}else e[c]=a}return e}function Rj(t){let e="";for(let n in t){const r=t[n];if(n=gwe(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Gp(r)?r.map(s=>s&&lk(s)):[r&&lk(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function Zwe(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Gp(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const Jwe=Symbol(""),Oj=Symbol(""),mN=Symbol(""),Yte=Symbol(""),ck=Symbol("");function Ux(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function vv(t,e,n,r,i,s=l=>l()){const l=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((c,a)=>{const f=_=>{_===!1?a(Xw(4,{from:n,to:e})):_ instanceof Error?a(_):Dwe(_)?a(Xw(2,{from:e,to:_})):(l&&r.enterCallbacks[i]===l&&typeof _=="function"&&l.push(_),c())},A=s(()=>t.call(r&&r.instances[i],e,n,f));let m=Promise.resolve(A);t.length<3&&(m=m.then(f)),m.catch(_=>a(_))})}function fL(t,e,n,r,i=s=>s()){const s=[];for(const l of t)for(const c in l.components){let a=l.components[c];if(!(e!=="beforeRouteEnter"&&!l.instances[c]))if(e2e(a)){const A=(a.__vccOpts||a)[e];A&&s.push(vv(A,n,r,l,c,i))}else{let f=a();s.push(()=>f.then(A=>{if(!A)return Promise.reject(new Error(`Couldn't resolve component "${c}" at "${l.path}"`));const m=swe(A)?A.default:A;l.components[c]=m;const y=(m.__vccOpts||m)[e];return y&&vv(y,n,r,l,c,i)()}))}}return s}function e2e(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Dj(t){const e=ar(mN),n=ar(Yte),r=le(()=>{const a=S(t.to);return e.resolve(a)}),i=le(()=>{const{matched:a}=r.value,{length:f}=a,A=a[f-1],m=n.matched;if(!A||!m.length)return-1;const _=m.findIndex(Yw.bind(null,A));if(_>-1)return _;const y=Nj(a[f-2]);return f>1&&Nj(A)===y&&m[m.length-1].path!==y?m.findIndex(Yw.bind(null,a[f-2])):_}),s=le(()=>i.value>-1&&i2e(n.params,r.value.params)),l=le(()=>i.value>-1&&i.value===n.matched.length-1&&jte(n.params,r.value.params));function c(a={}){return r2e(a)?e[S(t.replace)?"replace":"push"](S(t.to)).catch($4):Promise.resolve()}return{route:r,href:le(()=>r.value.href),isActive:s,isExactActive:l,navigate:c}}const t2e=Be({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Dj,setup(t,{slots:e}){const n=ua(Dj(t)),{options:r}=ar(mN),i=le(()=>({[Uj(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Uj(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:wr("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),n2e=t2e;function r2e(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function i2e(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Gp(i)||i.length!==r.length||r.some((s,l)=>s!==i[l]))return!1}return!0}function Nj(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Uj=(t,e,n)=>t??e??n,a2e=Be({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=ar(ck),i=le(()=>t.route||r.value),s=ar(Oj,0),l=le(()=>{let f=S(s);const{matched:A}=i.value;let m;for(;(m=A[f])&&!m.components;)f++;return f}),c=le(()=>i.value.matched[l.value]);Ii(Oj,le(()=>l.value+1)),Ii(Jwe,c),Ii(ck,i);const a=Te();return un(()=>[a.value,c.value,t.name],([f,A,m],[_,y,T])=>{A&&(A.instances[m]=f,y&&y!==A&&f&&f===_&&(A.leaveGuards.size||(A.leaveGuards=y.leaveGuards),A.updateGuards.size||(A.updateGuards=y.updateGuards))),f&&A&&(!y||!Yw(A,y)||!_)&&(A.enterCallbacks[m]||[]).forEach(E=>E(f))},{flush:"post"}),()=>{const f=i.value,A=t.name,m=c.value,_=m&&m.components[A];if(!_)return zj(n.default,{Component:_,route:f});const y=m.props[A],T=y?y===!0?f.params:typeof y=="function"?y(f):y:null,P=wr(_,Qs({},T,e,{onVnodeUnmounted:I=>{I.component.isUnmounted&&(m.instances[A]=null)},ref:a}));return zj(n.default,{Component:P,route:f})||P}}});function zj(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const s2e=a2e;function o2e(t){const e=Kwe(t.routes,t),n=t.parseQuery||Xwe,r=t.stringifyQuery||Rj,i=t.history,s=Ux(),l=Ux(),c=Ux(),a=ms(Y0);let f=Y0;$b&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const A=hL.bind(null,be=>""+be),m=hL.bind(null,_we),_=hL.bind(null,SC);function y(be,Re){let Qe,Je;return Kte(be)?(Qe=e.getRecordMatcher(be),Je=Re):Je=be,e.addRoute(Je,Qe)}function T(be){const Re=e.getRecordMatcher(be);Re&&e.removeRoute(Re)}function E(){return e.getRoutes().map(be=>be.record)}function P(be){return!!e.getRecordMatcher(be)}function I(be,Re){if(Re=Qs({},Re||a.value),typeof be=="string"){const Ge=dL(n,be,Re.path),Ne=e.resolve({path:Ge.path},Re),je=i.createHref(Ge.fullPath);return Qs(Ge,Ne,{params:_(Ne.params),hash:SC(Ge.hash),redirectedFrom:void 0,href:je})}let Qe;if(be.path!=null)Qe=Qs({},be,{path:dL(n,be.path,Re.path).path});else{const Ge=Qs({},be.params);for(const Ne in Ge)Ge[Ne]==null&&delete Ge[Ne];Qe=Qs({},be,{params:m(Ge)}),Re.params=m(Re.params)}const Je=e.resolve(Qe,Re),nt=be.hash||"";Je.params=A(_(Je.params));const Ve=wwe(r,Qs({},be,{hash:mwe(nt),path:Je.path})),Pe=i.createHref(Ve);return Qs({fullPath:Ve,hash:nt,query:r===Rj?Zwe(be.query):be.query||{}},Je,{redirectedFrom:void 0,href:Pe})}function F(be){return typeof be=="string"?dL(n,be,a.value.path):Qs({},be)}function R(be,Re){if(f!==be)return Xw(8,{from:Re,to:be})}function N(be){return j(be)}function z(be){return N(Qs(F(be),{replace:!0}))}function Q(be){const Re=be.matched[be.matched.length-1];if(Re&&Re.redirect){const{redirect:Qe}=Re;let Je=typeof Qe=="function"?Qe(be):Qe;return typeof Je=="string"&&(Je=Je.includes("?")||Je.includes("#")?Je=F(Je):{path:Je},Je.params={}),Qs({query:be.query,hash:be.hash,params:Je.path!=null?{}:be.params},Je)}}function j(be,Re){const Qe=f=I(be),Je=a.value,nt=be.state,Ve=be.force,Pe=be.replace===!0,Ge=Q(Qe);if(Ge)return j(Qs(F(Ge),{state:typeof Ge=="object"?Qs({},nt,Ge.state):nt,force:Ve,replace:Pe}),Re||Qe);const Ne=Qe;Ne.redirectedFrom=Re;let je;return!Ve&&xwe(r,Je,Qe)&&(je=Xw(16,{to:Ne,from:Je}),Ee(Je,Je,!0,!1)),(je?Promise.resolve(je):ie(Ne,Je)).catch(Ye=>yg(Ye)?yg(Ye,2)?Ye:ye(Ye):he(Ye,Ne,Je)).then(Ye=>{if(Ye){if(yg(Ye,2))return j(Qs({replace:Pe},F(Ye.to),{state:typeof Ye.to=="object"?Qs({},nt,Ye.to.state):nt,force:Ve}),Re||Ne)}else Ye=W(Ne,Je,!0,Pe,nt);return q(Ne,Je,Ye),Ye})}function H(be,Re){const Qe=R(be,Re);return Qe?Promise.reject(Qe):Promise.resolve()}function K(be){const Re=_e.values().next().value;return Re&&typeof Re.runWithContext=="function"?Re.runWithContext(be):be()}function ie(be,Re){let Qe;const[Je,nt,Ve]=l2e(be,Re);Qe=fL(Je.reverse(),"beforeRouteLeave",be,Re);for(const Ge of Je)Ge.leaveGuards.forEach(Ne=>{Qe.push(vv(Ne,be,Re))});const Pe=H.bind(null,be,Re);return Qe.push(Pe),Le(Qe).then(()=>{Qe=[];for(const Ge of s.list())Qe.push(vv(Ge,be,Re));return Qe.push(Pe),Le(Qe)}).then(()=>{Qe=fL(nt,"beforeRouteUpdate",be,Re);for(const Ge of nt)Ge.updateGuards.forEach(Ne=>{Qe.push(vv(Ne,be,Re))});return Qe.push(Pe),Le(Qe)}).then(()=>{Qe=[];for(const Ge of Ve)if(Ge.beforeEnter)if(Gp(Ge.beforeEnter))for(const Ne of Ge.beforeEnter)Qe.push(vv(Ne,be,Re));else Qe.push(vv(Ge.beforeEnter,be,Re));return Qe.push(Pe),Le(Qe)}).then(()=>(be.matched.forEach(Ge=>Ge.enterCallbacks={}),Qe=fL(Ve,"beforeRouteEnter",be,Re,K),Qe.push(Pe),Le(Qe))).then(()=>{Qe=[];for(const Ge of l.list())Qe.push(vv(Ge,be,Re));return Qe.push(Pe),Le(Qe)}).catch(Ge=>yg(Ge,8)?Ge:Promise.reject(Ge))}function q(be,Re,Qe){c.list().forEach(Je=>K(()=>Je(be,Re,Qe)))}function W(be,Re,Qe,Je,nt){const Ve=R(be,Re);if(Ve)return Ve;const Pe=Re===Y0,Ge=$b?history.state:{};Qe&&(Je||Pe?i.replace(be.fullPath,Qs({scroll:Pe&&Ge&&Ge.scroll},nt)):i.push(be.fullPath,nt)),a.value=be,Ee(be,Re,Qe,Pe),ye()}let ee;function ue(){ee||(ee=i.listen((be,Re,Qe)=>{const Je=I(be),nt=Q(Je);if(nt){j(Qs(nt,{replace:!0}),Je).catch($4);return}f=Je;const Ve=a.value;$b&&Lwe(Tj(Ve.fullPath,Qe.delta),H8()),ie(Je,Ve).catch(Pe=>yg(Pe,12)?Pe:yg(Pe,2)?(j(Pe.to,Je).then(Ge=>{yg(Ge,20)&&!Qe.delta&&Qe.type===TC.pop&&i.go(-1,!1)}).catch($4),Promise.reject()):(Qe.delta&&i.go(-Qe.delta,!1),he(Pe,Je,Ve))).then(Pe=>{Pe=Pe||W(Je,Ve,!1),Pe&&(Qe.delta&&!yg(Pe,8)?i.go(-Qe.delta,!1):Qe.type===TC.pop&&yg(Pe,20)&&i.go(-1,!1)),q(Je,Ve,Pe)}).catch($4)}))}let J=Ux(),te=Ux(),ne;function he(be,Re,Qe){ye(be);const Je=te.list();return Je.length?Je.forEach(nt=>nt(be,Re,Qe)):console.error(be),Promise.reject(be)}function ce(){return ne&&a.value!==Y0?Promise.resolve():new Promise((be,Re)=>{J.add([be,Re])})}function ye(be){return ne||(ne=!be,ue(),J.list().forEach(([Re,Qe])=>be?Qe(be):Re()),J.reset()),be}function Ee(be,Re,Qe,Je){const{scrollBehavior:nt}=t;if(!$b||!nt)return Promise.resolve();const Ve=!Qe&&Pwe(Tj(be.fullPath,0))||(Je||!Qe)&&history.state&&history.state.scroll||null;return dr().then(()=>nt(be,Re,Ve)).then(Pe=>Pe&&Iwe(Pe)).catch(Pe=>he(Pe,be,Re))}const se=be=>i.go(be);let oe;const _e=new Set,Ue={currentRoute:a,listening:!0,addRoute:y,removeRoute:T,hasRoute:P,getRoutes:E,resolve:I,options:t,push:N,replace:z,go:se,back:()=>se(-1),forward:()=>se(1),beforeEach:s.add,beforeResolve:l.add,afterEach:c.add,onError:te.add,isReady:ce,install(be){const Re=this;be.component("RouterLink",n2e),be.component("RouterView",s2e),be.config.globalProperties.$router=Re,Object.defineProperty(be.config.globalProperties,"$route",{enumerable:!0,get:()=>S(a)}),$b&&!oe&&a.value===Y0&&(oe=!0,N(i.location).catch(nt=>{}));const Qe={};for(const nt in Y0)Object.defineProperty(Qe,nt,{get:()=>a.value[nt],enumerable:!0});be.provide(mN,Re),be.provide(Yte,FD(Qe)),be.provide(ck,a);const Je=be.unmount;_e.add(be),be.unmount=function(){_e.delete(be),_e.size<1&&(f=Y0,ee&&ee(),ee=null,a.value=Y0,oe=!1,ne=!1),Je()}}};function Le(be){return be.reduce((Re,Qe)=>Re.then(()=>K(Qe)),Promise.resolve())}return Ue}function l2e(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let l=0;l<s;l++){const c=e.matched[l];c&&(t.matched.find(f=>Yw(f,c))?r.push(c):n.push(c));const a=t.matched[l];a&&(e.matched.find(f=>Yw(f,a))||i.push(a))}return[n,r,i]}o2e({history:Owe("/FindMyTrackPage/"),routes:[{path:"/",name:"home",component:Ute}]});const u2e='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',c2e=t=>getComputedStyle(t).position==="fixed"?!1:t.offsetParent!==null,$j=t=>Array.from(t.querySelectorAll(u2e)).filter(e=>h2e(e)&&c2e(e)),h2e=t=>{if(t.tabIndex>0||t.tabIndex===0&&t.getAttribute("tabIndex")!==null)return!0;if(t.disabled)return!1;switch(t.nodeName){case"A":return!!t.href&&t.rel!=="ignore";case"INPUT":return!(t.type==="hidden"||t.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},lS=function(t,e,...n){let r;e.includes("mouse")||e.includes("click")?r="MouseEvents":e.includes("key")?r="KeyboardEvent":r="HTMLEvents";const i=document.createEvent(r);return i.initEvent(e,...n),t.dispatchEvent(i),t},Xte=t=>!t.getAttribute("aria-owns"),Zte=(t,e,n)=>{const{parentNode:r}=t;if(!r)return null;const i=r.querySelectorAll(n),s=Array.prototype.indexOf.call(i,t);return i[s+e]||null},uS=t=>{t&&(t.focus(),!Xte(t)&&t.click())},bo=(t,e,{checkForDefaultPrevented:n=!0}={})=>i=>{const s=t==null?void 0:t(i);if(n===!1||!s)return e==null?void 0:e(i)},Vj=t=>e=>e.pointerType==="mouse"?t(e):void 0;var d2e=Object.defineProperty,f2e=Object.defineProperties,p2e=Object.getOwnPropertyDescriptors,Hj=Object.getOwnPropertySymbols,A2e=Object.prototype.hasOwnProperty,m2e=Object.prototype.propertyIsEnumerable,Qj=(t,e,n)=>e in t?d2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,g2e=(t,e)=>{for(var n in e||(e={}))A2e.call(e,n)&&Qj(t,n,e[n]);if(Hj)for(var n of Hj(e))m2e.call(e,n)&&Qj(t,n,e[n]);return t},v2e=(t,e)=>f2e(t,p2e(e));function jj(t,e){var n;const r=ms();return rc(()=>{r.value=t()},v2e(g2e({},e),{flush:(n=void 0)!=null?n:"sync"})),x2(r)}var Gj;const ta=typeof window<"u",_2e=t=>typeof t<"u",hk=t=>typeof t=="function",y2e=t=>typeof t=="string",Zw=()=>{},b2e=ta&&((Gj=window==null?void 0:window.navigator)==null?void 0:Gj.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Wv(t){return typeof t=="function"?t():S(t)}function Jte(t,e){function n(...r){return new Promise((i,s)=>{Promise.resolve(t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(i).catch(s)})}return n}function w2e(t,e={}){let n,r,i=Zw;const s=c=>{clearTimeout(c),i(),i=Zw};return c=>{const a=Wv(t),f=Wv(e.maxWait);return n&&s(n),a<=0||f!==void 0&&f<=0?(r&&(s(r),r=null),Promise.resolve(c())):new Promise((A,m)=>{i=e.rejectOnCancel?m:A,f&&!r&&(r=setTimeout(()=>{n&&s(n),r=null,A(c())},f)),n=setTimeout(()=>{r&&s(r),r=null,A(c())},a)})}}function x2e(t,e=!0,n=!0,r=!1){let i=0,s,l=!0,c=Zw,a;const f=()=>{s&&(clearTimeout(s),s=void 0,c(),c=Zw)};return m=>{const _=Wv(t),y=Date.now()-i,T=()=>a=m();return f(),_<=0?(i=Date.now(),T()):(y>_&&(n||!l)?(i=Date.now(),T()):e&&(a=new Promise((E,P)=>{c=r?P:E,s=setTimeout(()=>{i=Date.now(),l=!0,E(T()),f()},Math.max(0,_-y))})),!n&&!s&&(s=setTimeout(()=>l=!0,_)),l=!1,a)}}function C2e(t){return t}function E2e(t,e){let n,r,i;const s=Te(!0),l=()=>{s.value=!0,i()};un(t,l,{flush:"sync"});const c=hk(e)?e:e.get,a=hk(e)?void 0:e.set,f=eee((A,m)=>(r=A,i=m,{get(){return s.value&&(n=c(),s.value=!1),r(),n},set(_){a==null||a(_)}}));return Object.isExtensible(f)&&(f.trigger=l),f}function I6(t){return SD()?(TD(t),!0):!1}function S2e(t,e=200,n={}){return Jte(w2e(e,n),t)}function T2e(t,e=200,n={}){const r=Te(t.value),i=S2e(()=>{r.value=t.value},e,n);return un(t,()=>i()),r}function ene(t,e=200,n=!1,r=!0,i=!1){return Jte(x2e(e,n,r,i),t)}function gN(t,e=!0){ci()?kr(t):e?t():dr(t)}function J_(t,e,n={}){const{immediate:r=!0}=n,i=Te(!1);let s=null;function l(){s&&(clearTimeout(s),s=null)}function c(){i.value=!1,l()}function a(...f){l(),i.value=!0,s=setTimeout(()=>{i.value=!1,s=null,t(...f)},Wv(e))}return r&&(i.value=!0,ta&&a()),I6(c),{isPending:x2(i),start:a,stop:c}}function kh(t){var e;const n=Wv(t);return(e=n==null?void 0:n.$el)!=null?e:n}const A1=ta?window:void 0,B2e=ta?window.document:void 0;function gs(...t){let e,n,r,i;if(y2e(t[0])||Array.isArray(t[0])?([n,r,i]=t,e=A1):[e,n,r,i]=t,!e)return Zw;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const s=[],l=()=>{s.forEach(A=>A()),s.length=0},c=(A,m,_,y)=>(A.addEventListener(m,_,y),()=>A.removeEventListener(m,_,y)),a=un(()=>[kh(e),Wv(i)],([A,m])=>{l(),A&&s.push(...n.flatMap(_=>r.map(y=>c(A,_,y,m))))},{immediate:!0,flush:"post"}),f=()=>{a(),l()};return I6(f),f}let Kj=!1;function vN(t,e,n={}){const{window:r=A1,ignore:i=[],capture:s=!0,detectIframe:l=!1}=n;if(!r)return;b2e&&!Kj&&(Kj=!0,Array.from(r.document.body.children).forEach(_=>_.addEventListener("click",Zw)));let c=!0;const a=_=>i.some(y=>{if(typeof y=="string")return Array.from(r.document.querySelectorAll(y)).some(T=>T===_.target||_.composedPath().includes(T));{const T=kh(y);return T&&(_.target===T||_.composedPath().includes(T))}}),A=[gs(r,"click",_=>{const y=kh(t);if(!(!y||y===_.target||_.composedPath().includes(y))){if(_.detail===0&&(c=!a(_)),!c){c=!0;return}e(_)}},{passive:!0,capture:s}),gs(r,"pointerdown",_=>{const y=kh(t);y&&(c=!_.composedPath().includes(y)&&!a(_))},{passive:!0}),l&&gs(r,"blur",_=>{var y;const T=kh(t);((y=r.document.activeElement)==null?void 0:y.tagName)==="IFRAME"&&!(T!=null&&T.contains(r.document.activeElement))&&e(_)})].filter(Boolean);return()=>A.forEach(_=>_())}function M2e(t={}){var e;const{window:n=A1}=t,r=(e=t.document)!=null?e:n==null?void 0:n.document,i=E2e(()=>null,()=>r==null?void 0:r.activeElement);return n&&(gs(n,"blur",s=>{s.relatedTarget===null&&i.trigger()},!0),gs(n,"focus",i.trigger,!0)),i}function tne(t,e=!1){const n=Te(),r=()=>n.value=!!t();return r(),gN(r,e),n}function I2e(t){return JSON.parse(JSON.stringify(t))}const Wj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qj="__vueuse_ssr_handlers__";Wj[qj]=Wj[qj]||{};function L2e(t,e,{window:n=A1,initialValue:r=""}={}){const i=Te(r),s=le(()=>{var l;return kh(e)||((l=n==null?void 0:n.document)==null?void 0:l.documentElement)});return un([s,()=>Wv(t)],([l,c])=>{var a;if(l&&n){const f=(a=n.getComputedStyle(l).getPropertyValue(c))==null?void 0:a.trim();i.value=f||r}},{immediate:!0}),un(i,l=>{var c;(c=s.value)!=null&&c.style&&s.value.style.setProperty(Wv(t),l)}),i}function P2e({document:t=B2e}={}){if(!t)return Te("visible");const e=Te(t.visibilityState);return gs(t,"visibilitychange",()=>{e.value=t.visibilityState}),e}var Yj=Object.getOwnPropertySymbols,F2e=Object.prototype.hasOwnProperty,k2e=Object.prototype.propertyIsEnumerable,R2e=(t,e)=>{var n={};for(var r in t)F2e.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Yj)for(var r of Yj(t))e.indexOf(r)<0&&k2e.call(t,r)&&(n[r]=t[r]);return n};function eo(t,e,n={}){const r=n,{window:i=A1}=r,s=R2e(r,["window"]);let l;const c=tne(()=>i&&"ResizeObserver"in i),a=()=>{l&&(l.disconnect(),l=void 0)},f=un(()=>kh(t),m=>{a(),c.value&&i&&m&&(l=new ResizeObserver(e),l.observe(m,s))},{immediate:!0,flush:"post"}),A=()=>{a(),f()};return I6(A),{isSupported:c,stop:A}}function Xj(t,e={}){const{reset:n=!0,windowResize:r=!0,windowScroll:i=!0,immediate:s=!0}=e,l=Te(0),c=Te(0),a=Te(0),f=Te(0),A=Te(0),m=Te(0),_=Te(0),y=Te(0);function T(){const E=kh(t);if(!E){n&&(l.value=0,c.value=0,a.value=0,f.value=0,A.value=0,m.value=0,_.value=0,y.value=0);return}const P=E.getBoundingClientRect();l.value=P.height,c.value=P.bottom,a.value=P.left,f.value=P.right,A.value=P.top,m.value=P.width,_.value=P.x,y.value=P.y}return eo(t,T),un(()=>kh(t),E=>!E&&T()),i&&gs("scroll",T,{capture:!0,passive:!0}),r&&gs("resize",T,{passive:!0}),gN(()=>{s&&T()}),{height:l,bottom:c,left:a,right:f,top:A,width:m,x:_,y,update:T}}var Zj=Object.getOwnPropertySymbols,O2e=Object.prototype.hasOwnProperty,D2e=Object.prototype.propertyIsEnumerable,N2e=(t,e)=>{var n={};for(var r in t)O2e.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Zj)for(var r of Zj(t))e.indexOf(r)<0&&D2e.call(t,r)&&(n[r]=t[r]);return n};function nne(t,e,n={}){const r=n,{window:i=A1}=r,s=N2e(r,["window"]);let l;const c=tne(()=>i&&"MutationObserver"in i),a=()=>{l&&(l.disconnect(),l=void 0)},f=un(()=>kh(t),m=>{a(),c.value&&i&&m&&(l=new MutationObserver(e),l.observe(m,s))},{immediate:!0}),A=()=>{a(),f()};return I6(A),{isSupported:c,stop:A}}var Jj;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(Jj||(Jj={}));var U2e=Object.defineProperty,eG=Object.getOwnPropertySymbols,z2e=Object.prototype.hasOwnProperty,$2e=Object.prototype.propertyIsEnumerable,tG=(t,e,n)=>e in t?U2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,V2e=(t,e)=>{for(var n in e||(e={}))z2e.call(e,n)&&tG(t,n,e[n]);if(eG)for(var n of eG(e))$2e.call(e,n)&&tG(t,n,e[n]);return t};const H2e={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};V2e({linear:C2e},H2e);function rne(t,e,n,r={}){var i,s,l;const{clone:c=!1,passive:a=!1,eventName:f,deep:A=!1,defaultValue:m}=r,_=ci(),y=n||(_==null?void 0:_.emit)||((i=_==null?void 0:_.$emit)==null?void 0:i.bind(_))||((l=(s=_==null?void 0:_.proxy)==null?void 0:s.$emit)==null?void 0:l.bind(_==null?void 0:_.proxy));let T=f;e||(e="modelValue"),T=f||T||`update:${e.toString()}`;const E=I=>c?hk(c)?c(I):I2e(I):I,P=()=>_2e(t[e])?E(t[e]):m;if(a){const I=P(),F=Te(I);return un(()=>t[e],R=>F.value=E(R)),un(F,R=>{(R!==t[e]||A)&&y(T,R)},{deep:A}),F}else return le({get(){return P()},set(I){y(T,I)}})}function Q2e({window:t=A1}={}){if(!t)return Te(!1);const e=Te(t.document.hasFocus());return gs(t,"blur",()=>{e.value=!1}),gs(t,"focus",()=>{e.value=!0}),e}function j2e(t={}){const{window:e=A1,initialWidth:n=1/0,initialHeight:r=1/0,listenOrientation:i=!0,includeScrollbar:s=!0}=t,l=Te(n),c=Te(r),a=()=>{e&&(s?(l.value=e.innerWidth,c.value=e.innerHeight):(l.value=e.document.documentElement.clientWidth,c.value=e.document.documentElement.clientHeight))};return a(),gN(a),gs("resize",a,{passive:!0}),i&&gs("orientationchange",a,{passive:!0}),{width:l,height:c}}const ine=()=>ta&&/firefox/i.test(window.navigator.userAgent),G2e=(t,e)=>{if(!ta||!t||!e)return!1;const n=t.getBoundingClientRect();let r;return e instanceof Element?r=e.getBoundingClientRect():r={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<r.bottom&&n.bottom>r.top&&n.right>r.left&&n.left<r.right},nG=t=>{let e=0,n=t;for(;n;)e+=n.offsetTop,n=n.offsetParent;return e},dk=(t,e)=>Math.abs(nG(t)-nG(e)),_N=t=>{let e,n;return t.type==="touchend"?(n=t.changedTouches[0].clientY,e=t.changedTouches[0].clientX):t.type.startsWith("touch")?(n=t.touches[0].clientY,e=t.touches[0].clientX):(n=t.clientY,e=t.clientX),{clientX:e,clientY:n}};function K2e(t,e,n,r){const i=n-e;return t/=r/2,t<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e}var ane=typeof global=="object"&&global&&global.Object===Object&&global,W2e=typeof self=="object"&&self&&self.Object===Object&&self,eA=ane||W2e||Function("return this")(),Ef=eA.Symbol,sne=Object.prototype,q2e=sne.hasOwnProperty,Y2e=sne.toString,zx=Ef?Ef.toStringTag:void 0;function X2e(t){var e=q2e.call(t,zx),n=t[zx];try{t[zx]=void 0;var r=!0}catch{}var i=Y2e.call(t);return r&&(e?t[zx]=n:delete t[zx]),i}var Z2e=Object.prototype,J2e=Z2e.toString;function exe(t){return J2e.call(t)}var txe="[object Null]",nxe="[object Undefined]",rG=Ef?Ef.toStringTag:void 0;function gy(t){return t==null?t===void 0?nxe:txe:rG&&rG in Object(t)?X2e(t):exe(t)}function pm(t){return t!=null&&typeof t=="object"}var rxe="[object Symbol]";function Q8(t){return typeof t=="symbol"||pm(t)&&gy(t)==rxe}function yN(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var ih=Array.isArray,ixe=1/0,iG=Ef?Ef.prototype:void 0,aG=iG?iG.toString:void 0;function one(t){if(typeof t=="string")return t;if(ih(t))return yN(t,one)+"";if(Q8(t))return aG?aG.call(t):"";var e=t+"";return e=="0"&&1/t==-ixe?"-0":e}var axe=/\s/;function sxe(t){for(var e=t.length;e--&&axe.test(t.charAt(e)););return e}var oxe=/^\s+/;function lxe(t){return t&&t.slice(0,sxe(t)+1).replace(oxe,"")}function ah(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var sG=NaN,uxe=/^[-+]0x[0-9a-f]+$/i,cxe=/^0b[01]+$/i,hxe=/^0o[0-7]+$/i,dxe=parseInt;function oG(t){if(typeof t=="number")return t;if(Q8(t))return sG;if(ah(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ah(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=lxe(t);var n=cxe.test(t);return n||hxe.test(t)?dxe(t.slice(2),n?2:8):uxe.test(t)?sG:+t}function bN(t){return t}var fxe="[object AsyncFunction]",pxe="[object Function]",Axe="[object GeneratorFunction]",mxe="[object Proxy]";function wN(t){if(!ah(t))return!1;var e=gy(t);return e==pxe||e==Axe||e==fxe||e==mxe}var pL=eA["__core-js_shared__"],lG=function(){var t=/[^.]+$/.exec(pL&&pL.keys&&pL.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function gxe(t){return!!lG&&lG in t}var vxe=Function.prototype,_xe=vxe.toString;function vy(t){if(t!=null){try{return _xe.call(t)}catch{}try{return t+""}catch{}}return""}var yxe=/[\\^$.*+?()[\]{}|]/g,bxe=/^\[object .+?Constructor\]$/,wxe=Function.prototype,xxe=Object.prototype,Cxe=wxe.toString,Exe=xxe.hasOwnProperty,Sxe=RegExp("^"+Cxe.call(Exe).replace(yxe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Txe(t){if(!ah(t)||gxe(t))return!1;var e=wN(t)?Sxe:bxe;return e.test(vy(t))}function Bxe(t,e){return t==null?void 0:t[e]}function _y(t,e){var n=Bxe(t,e);return Txe(n)?n:void 0}var fk=_y(eA,"WeakMap"),uG=Object.create,Mxe=function(){function t(){}return function(e){if(!ah(e))return{};if(uG)return uG(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function Ixe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Lxe(){}function lne(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var Pxe=800,Fxe=16,kxe=Date.now;function Rxe(t){var e=0,n=0;return function(){var r=kxe(),i=Fxe-(r-n);if(n=r,i>0){if(++e>=Pxe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Oxe(t){return function(){return t}}var pT=function(){try{var t=_y(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Dxe=pT?function(t,e){return pT(t,"toString",{configurable:!0,enumerable:!1,value:Oxe(e),writable:!0})}:bN,une=Rxe(Dxe);function Nxe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function cne(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function Uxe(t){return t!==t}function zxe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function $xe(t,e,n){return e===e?zxe(t,e,n):cne(t,Uxe,n)}function Vxe(t,e){var n=t==null?0:t.length;return!!n&&$xe(t,e,0)>-1}var Hxe=9007199254740991,Qxe=/^(?:0|[1-9]\d*)$/;function j8(t,e){var n=typeof t;return e=e??Hxe,!!e&&(n=="number"||n!="symbol"&&Qxe.test(t))&&t>-1&&t%1==0&&t<e}function xN(t,e,n){e=="__proto__"&&pT?pT(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function L6(t,e){return t===e||t!==t&&e!==e}var jxe=Object.prototype,Gxe=jxe.hasOwnProperty;function CN(t,e,n){var r=t[e];(!(Gxe.call(t,e)&&L6(r,n))||n===void 0&&!(e in t))&&xN(t,e,n)}function S2(t,e,n,r){var i=!n;n||(n={});for(var s=-1,l=e.length;++s<l;){var c=e[s],a=void 0;a===void 0&&(a=t[c]),i?xN(n,c,a):CN(n,c,a)}return n}var cG=Math.max;function hne(t,e,n){return e=cG(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=cG(r.length-e,0),l=Array(s);++i<s;)l[i]=r[e+i];i=-1;for(var c=Array(e+1);++i<e;)c[i]=r[i];return c[e]=n(l),Ixe(t,this,c)}}function dne(t,e){return une(hne(t,e,bN),t+"")}var Kxe=9007199254740991;function EN(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Kxe}function T2(t){return t!=null&&EN(t.length)&&!wN(t)}function Wxe(t,e,n){if(!ah(n))return!1;var r=typeof e;return(r=="number"?T2(n)&&j8(e,n.length):r=="string"&&e in n)?L6(n[e],t):!1}function qxe(t){return dne(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,l=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,l&&Wxe(n[0],n[1],l)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var c=n[r];c&&t(e,c,r,s)}return e})}var Yxe=Object.prototype;function SN(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Yxe;return t===n}function Xxe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Zxe="[object Arguments]";function hG(t){return pm(t)&&gy(t)==Zxe}var fne=Object.prototype,Jxe=fne.hasOwnProperty,e4e=fne.propertyIsEnumerable,BC=hG(function(){return arguments}())?hG:function(t){return pm(t)&&Jxe.call(t,"callee")&&!e4e.call(t,"callee")};function t4e(){return!1}var pne=typeof Od=="object"&&Od&&!Od.nodeType&&Od,dG=pne&&typeof Dd=="object"&&Dd&&!Dd.nodeType&&Dd,n4e=dG&&dG.exports===pne,fG=n4e?eA.Buffer:void 0,r4e=fG?fG.isBuffer:void 0,MC=r4e||t4e,i4e="[object Arguments]",a4e="[object Array]",s4e="[object Boolean]",o4e="[object Date]",l4e="[object Error]",u4e="[object Function]",c4e="[object Map]",h4e="[object Number]",d4e="[object Object]",f4e="[object RegExp]",p4e="[object Set]",A4e="[object String]",m4e="[object WeakMap]",g4e="[object ArrayBuffer]",v4e="[object DataView]",_4e="[object Float32Array]",y4e="[object Float64Array]",b4e="[object Int8Array]",w4e="[object Int16Array]",x4e="[object Int32Array]",C4e="[object Uint8Array]",E4e="[object Uint8ClampedArray]",S4e="[object Uint16Array]",T4e="[object Uint32Array]",Lo={};Lo[_4e]=Lo[y4e]=Lo[b4e]=Lo[w4e]=Lo[x4e]=Lo[C4e]=Lo[E4e]=Lo[S4e]=Lo[T4e]=!0;Lo[i4e]=Lo[a4e]=Lo[g4e]=Lo[s4e]=Lo[v4e]=Lo[o4e]=Lo[l4e]=Lo[u4e]=Lo[c4e]=Lo[h4e]=Lo[d4e]=Lo[f4e]=Lo[p4e]=Lo[A4e]=Lo[m4e]=!1;function B4e(t){return pm(t)&&EN(t.length)&&!!Lo[gy(t)]}function TN(t){return function(e){return t(e)}}var Ane=typeof Od=="object"&&Od&&!Od.nodeType&&Od,H4=Ane&&typeof Dd=="object"&&Dd&&!Dd.nodeType&&Dd,M4e=H4&&H4.exports===Ane,AL=M4e&&ane.process,Jw=function(){try{var t=H4&&H4.require&&H4.require("util").types;return t||AL&&AL.binding&&AL.binding("util")}catch{}}(),pG=Jw&&Jw.isTypedArray,BN=pG?TN(pG):B4e,I4e=Object.prototype,L4e=I4e.hasOwnProperty;function mne(t,e){var n=ih(t),r=!n&&BC(t),i=!n&&!r&&MC(t),s=!n&&!r&&!i&&BN(t),l=n||r||i||s,c=l?Xxe(t.length,String):[],a=c.length;for(var f in t)(e||L4e.call(t,f))&&!(l&&(f=="length"||i&&(f=="offset"||f=="parent")||s&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||j8(f,a)))&&c.push(f);return c}function gne(t,e){return function(n){return t(e(n))}}var P4e=gne(Object.keys,Object),F4e=Object.prototype,k4e=F4e.hasOwnProperty;function R4e(t){if(!SN(t))return P4e(t);var e=[];for(var n in Object(t))k4e.call(t,n)&&n!="constructor"&&e.push(n);return e}function P6(t){return T2(t)?mne(t):R4e(t)}function O4e(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var D4e=Object.prototype,N4e=D4e.hasOwnProperty;function U4e(t){if(!ah(t))return O4e(t);var e=SN(t),n=[];for(var r in t)r=="constructor"&&(e||!N4e.call(t,r))||n.push(r);return n}function F6(t){return T2(t)?mne(t,!0):U4e(t)}var z4e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$4e=/^\w*$/;function MN(t,e){if(ih(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Q8(t)?!0:$4e.test(t)||!z4e.test(t)||e!=null&&t in Object(e)}var IC=_y(Object,"create");function V4e(){this.__data__=IC?IC(null):{},this.size=0}function H4e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Q4e="__lodash_hash_undefined__",j4e=Object.prototype,G4e=j4e.hasOwnProperty;function K4e(t){var e=this.__data__;if(IC){var n=e[t];return n===Q4e?void 0:n}return G4e.call(e,t)?e[t]:void 0}var W4e=Object.prototype,q4e=W4e.hasOwnProperty;function Y4e(t){var e=this.__data__;return IC?e[t]!==void 0:q4e.call(e,t)}var X4e="__lodash_hash_undefined__";function Z4e(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=IC&&e===void 0?X4e:e,this}function ey(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ey.prototype.clear=V4e;ey.prototype.delete=H4e;ey.prototype.get=K4e;ey.prototype.has=Y4e;ey.prototype.set=Z4e;function J4e(){this.__data__=[],this.size=0}function G8(t,e){for(var n=t.length;n--;)if(L6(t[n][0],e))return n;return-1}var eCe=Array.prototype,tCe=eCe.splice;function nCe(t){var e=this.__data__,n=G8(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():tCe.call(e,n,1),--this.size,!0}function rCe(t){var e=this.__data__,n=G8(e,t);return n<0?void 0:e[n][1]}function iCe(t){return G8(this.__data__,t)>-1}function aCe(t,e){var n=this.__data__,r=G8(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function a0(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}a0.prototype.clear=J4e;a0.prototype.delete=nCe;a0.prototype.get=rCe;a0.prototype.has=iCe;a0.prototype.set=aCe;var LC=_y(eA,"Map");function sCe(){this.size=0,this.__data__={hash:new ey,map:new(LC||a0),string:new ey}}function oCe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function K8(t,e){var n=t.__data__;return oCe(e)?n[typeof e=="string"?"string":"hash"]:n.map}function lCe(t){var e=K8(this,t).delete(t);return this.size-=e?1:0,e}function uCe(t){return K8(this,t).get(t)}function cCe(t){return K8(this,t).has(t)}function hCe(t,e){var n=K8(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function s0(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}s0.prototype.clear=sCe;s0.prototype.delete=lCe;s0.prototype.get=uCe;s0.prototype.has=cCe;s0.prototype.set=hCe;var dCe="Expected a function";function W8(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(dCe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var l=t.apply(this,r);return n.cache=s.set(i,l)||s,l};return n.cache=new(W8.Cache||s0),n}W8.Cache=s0;var fCe=500;function pCe(t){var e=W8(t,function(r){return n.size===fCe&&n.clear(),r}),n=e.cache;return e}var ACe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,mCe=/\\(\\)?/g,gCe=pCe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(ACe,function(n,r,i,s){e.push(i?s.replace(mCe,"$1"):r||n)}),e});function vCe(t){return t==null?"":one(t)}function B2(t,e){return ih(t)?t:MN(t,e)?[t]:gCe(vCe(t))}var _Ce=1/0;function M2(t){if(typeof t=="string"||Q8(t))return t;var e=t+"";return e=="0"&&1/t==-_Ce?"-0":e}function q8(t,e){e=B2(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[M2(e[n++])];return n&&n==r?t:void 0}function Fo(t,e,n){var r=t==null?void 0:q8(t,e);return r===void 0?n:r}function IN(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var AG=Ef?Ef.isConcatSpreadable:void 0;function yCe(t){return ih(t)||BC(t)||!!(AG&&t&&t[AG])}function k6(t,e,n,r,i){var s=-1,l=t.length;for(n||(n=yCe),i||(i=[]);++s<l;){var c=t[s];e>0&&n(c)?e>1?k6(c,e-1,n,r,i):IN(i,c):r||(i[i.length]=c)}return i}function vne(t){var e=t==null?0:t.length;return e?k6(t,1):[]}function _ne(t){return une(hne(t,void 0,vne),t+"")}var LN=gne(Object.getPrototypeOf,Object),bCe="[object Object]",wCe=Function.prototype,xCe=Object.prototype,yne=wCe.toString,CCe=xCe.hasOwnProperty,ECe=yne.call(Object);function bne(t){if(!pm(t)||gy(t)!=bCe)return!1;var e=LN(t);if(e===null)return!0;var n=CCe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&yne.call(n)==ECe}function SCe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}function qv(){if(!arguments.length)return[];var t=arguments[0];return ih(t)?t:[t]}function TCe(){this.__data__=new a0,this.size=0}function BCe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function MCe(t){return this.__data__.get(t)}function ICe(t){return this.__data__.has(t)}var LCe=200;function PCe(t,e){var n=this.__data__;if(n instanceof a0){var r=n.__data__;if(!LC||r.length<LCe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new s0(r)}return n.set(t,e),this.size=n.size,this}function Vp(t){var e=this.__data__=new a0(t);this.size=e.size}Vp.prototype.clear=TCe;Vp.prototype.delete=BCe;Vp.prototype.get=MCe;Vp.prototype.has=ICe;Vp.prototype.set=PCe;function FCe(t,e){return t&&S2(e,P6(e),t)}function kCe(t,e){return t&&S2(e,F6(e),t)}var wne=typeof Od=="object"&&Od&&!Od.nodeType&&Od,mG=wne&&typeof Dd=="object"&&Dd&&!Dd.nodeType&&Dd,RCe=mG&&mG.exports===wne,gG=RCe?eA.Buffer:void 0,vG=gG?gG.allocUnsafe:void 0;function xne(t,e){if(e)return t.slice();var n=t.length,r=vG?vG(n):new t.constructor(n);return t.copy(r),r}function OCe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var l=t[n];e(l,n,t)&&(s[i++]=l)}return s}function Cne(){return[]}var DCe=Object.prototype,NCe=DCe.propertyIsEnumerable,_G=Object.getOwnPropertySymbols,PN=_G?function(t){return t==null?[]:(t=Object(t),OCe(_G(t),function(e){return NCe.call(t,e)}))}:Cne;function UCe(t,e){return S2(t,PN(t),e)}var zCe=Object.getOwnPropertySymbols,Ene=zCe?function(t){for(var e=[];t;)IN(e,PN(t)),t=LN(t);return e}:Cne;function $Ce(t,e){return S2(t,Ene(t),e)}function Sne(t,e,n){var r=e(t);return ih(t)?r:IN(r,n(t))}function pk(t){return Sne(t,P6,PN)}function Tne(t){return Sne(t,F6,Ene)}var Ak=_y(eA,"DataView"),mk=_y(eA,"Promise"),xw=_y(eA,"Set"),yG="[object Map]",VCe="[object Object]",bG="[object Promise]",wG="[object Set]",xG="[object WeakMap]",CG="[object DataView]",HCe=vy(Ak),QCe=vy(LC),jCe=vy(mk),GCe=vy(xw),KCe=vy(fk),kp=gy;(Ak&&kp(new Ak(new ArrayBuffer(1)))!=CG||LC&&kp(new LC)!=yG||mk&&kp(mk.resolve())!=bG||xw&&kp(new xw)!=wG||fk&&kp(new fk)!=xG)&&(kp=function(t){var e=gy(t),n=e==VCe?t.constructor:void 0,r=n?vy(n):"";if(r)switch(r){case HCe:return CG;case QCe:return yG;case jCe:return bG;case GCe:return wG;case KCe:return xG}return e});var WCe=Object.prototype,qCe=WCe.hasOwnProperty;function YCe(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&qCe.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var AT=eA.Uint8Array;function FN(t){var e=new t.constructor(t.byteLength);return new AT(e).set(new AT(t)),e}function XCe(t,e){var n=e?FN(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var ZCe=/\w*$/;function JCe(t){var e=new t.constructor(t.source,ZCe.exec(t));return e.lastIndex=t.lastIndex,e}var EG=Ef?Ef.prototype:void 0,SG=EG?EG.valueOf:void 0;function e6e(t){return SG?Object(SG.call(t)):{}}function Bne(t,e){var n=e?FN(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var t6e="[object Boolean]",n6e="[object Date]",r6e="[object Map]",i6e="[object Number]",a6e="[object RegExp]",s6e="[object Set]",o6e="[object String]",l6e="[object Symbol]",u6e="[object ArrayBuffer]",c6e="[object DataView]",h6e="[object Float32Array]",d6e="[object Float64Array]",f6e="[object Int8Array]",p6e="[object Int16Array]",A6e="[object Int32Array]",m6e="[object Uint8Array]",g6e="[object Uint8ClampedArray]",v6e="[object Uint16Array]",_6e="[object Uint32Array]";function y6e(t,e,n){var r=t.constructor;switch(e){case u6e:return FN(t);case t6e:case n6e:return new r(+t);case c6e:return XCe(t,n);case h6e:case d6e:case f6e:case p6e:case A6e:case m6e:case g6e:case v6e:case _6e:return Bne(t,n);case r6e:return new r;case i6e:case o6e:return new r(t);case a6e:return JCe(t);case s6e:return new r;case l6e:return e6e(t)}}function Mne(t){return typeof t.constructor=="function"&&!SN(t)?Mxe(LN(t)):{}}var b6e="[object Map]";function w6e(t){return pm(t)&&kp(t)==b6e}var TG=Jw&&Jw.isMap,x6e=TG?TN(TG):w6e,C6e="[object Set]";function E6e(t){return pm(t)&&kp(t)==C6e}var BG=Jw&&Jw.isSet,S6e=BG?TN(BG):E6e,T6e=1,B6e=2,M6e=4,Ine="[object Arguments]",I6e="[object Array]",L6e="[object Boolean]",P6e="[object Date]",F6e="[object Error]",Lne="[object Function]",k6e="[object GeneratorFunction]",R6e="[object Map]",O6e="[object Number]",Pne="[object Object]",D6e="[object RegExp]",N6e="[object Set]",U6e="[object String]",z6e="[object Symbol]",$6e="[object WeakMap]",V6e="[object ArrayBuffer]",H6e="[object DataView]",Q6e="[object Float32Array]",j6e="[object Float64Array]",G6e="[object Int8Array]",K6e="[object Int16Array]",W6e="[object Int32Array]",q6e="[object Uint8Array]",Y6e="[object Uint8ClampedArray]",X6e="[object Uint16Array]",Z6e="[object Uint32Array]",vo={};vo[Ine]=vo[I6e]=vo[V6e]=vo[H6e]=vo[L6e]=vo[P6e]=vo[Q6e]=vo[j6e]=vo[G6e]=vo[K6e]=vo[W6e]=vo[R6e]=vo[O6e]=vo[Pne]=vo[D6e]=vo[N6e]=vo[U6e]=vo[z6e]=vo[q6e]=vo[Y6e]=vo[X6e]=vo[Z6e]=!0;vo[F6e]=vo[Lne]=vo[$6e]=!1;function Cw(t,e,n,r,i,s){var l,c=e&T6e,a=e&B6e,f=e&M6e;if(n&&(l=i?n(t,r,i,s):n(t)),l!==void 0)return l;if(!ah(t))return t;var A=ih(t);if(A){if(l=YCe(t),!c)return lne(t,l)}else{var m=kp(t),_=m==Lne||m==k6e;if(MC(t))return xne(t,c);if(m==Pne||m==Ine||_&&!i){if(l=a||_?{}:Mne(t),!c)return a?$Ce(t,kCe(l,t)):UCe(t,FCe(l,t))}else{if(!vo[m])return i?t:{};l=y6e(t,m,c)}}s||(s=new Vp);var y=s.get(t);if(y)return y;s.set(t,l),S6e(t)?t.forEach(function(P){l.add(Cw(P,e,n,P,t,s))}):x6e(t)&&t.forEach(function(P,I){l.set(I,Cw(P,e,n,I,t,s))});var T=f?a?Tne:pk:a?F6:P6,E=A?void 0:T(t);return Nxe(E||t,function(P,I){E&&(I=P,P=t[I]),CN(l,I,Cw(P,e,n,I,t,s))}),l}var J6e=4;function MG(t){return Cw(t,J6e)}var e5e=1,t5e=4;function mT(t){return Cw(t,e5e|t5e)}var n5e="__lodash_hash_undefined__";function r5e(t){return this.__data__.set(t,n5e),this}function i5e(t){return this.__data__.has(t)}function PC(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new s0;++e<n;)this.add(t[e])}PC.prototype.add=PC.prototype.push=r5e;PC.prototype.has=i5e;function a5e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function Fne(t,e){return t.has(e)}var s5e=1,o5e=2;function kne(t,e,n,r,i,s){var l=n&s5e,c=t.length,a=e.length;if(c!=a&&!(l&&a>c))return!1;var f=s.get(t),A=s.get(e);if(f&&A)return f==e&&A==t;var m=-1,_=!0,y=n&o5e?new PC:void 0;for(s.set(t,e),s.set(e,t);++m<c;){var T=t[m],E=e[m];if(r)var P=l?r(E,T,m,e,t,s):r(T,E,m,t,e,s);if(P!==void 0){if(P)continue;_=!1;break}if(y){if(!a5e(e,function(I,F){if(!Fne(y,F)&&(T===I||i(T,I,n,r,s)))return y.push(F)})){_=!1;break}}else if(!(T===E||i(T,E,n,r,s))){_=!1;break}}return s.delete(t),s.delete(e),_}function l5e(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function kN(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var u5e=1,c5e=2,h5e="[object Boolean]",d5e="[object Date]",f5e="[object Error]",p5e="[object Map]",A5e="[object Number]",m5e="[object RegExp]",g5e="[object Set]",v5e="[object String]",_5e="[object Symbol]",y5e="[object ArrayBuffer]",b5e="[object DataView]",IG=Ef?Ef.prototype:void 0,mL=IG?IG.valueOf:void 0;function w5e(t,e,n,r,i,s,l){switch(n){case b5e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case y5e:return!(t.byteLength!=e.byteLength||!s(new AT(t),new AT(e)));case h5e:case d5e:case A5e:return L6(+t,+e);case f5e:return t.name==e.name&&t.message==e.message;case m5e:case v5e:return t==e+"";case p5e:var c=l5e;case g5e:var a=r&u5e;if(c||(c=kN),t.size!=e.size&&!a)return!1;var f=l.get(t);if(f)return f==e;r|=c5e,l.set(t,e);var A=kne(c(t),c(e),r,i,s,l);return l.delete(t),A;case _5e:if(mL)return mL.call(t)==mL.call(e)}return!1}var x5e=1,C5e=Object.prototype,E5e=C5e.hasOwnProperty;function S5e(t,e,n,r,i,s){var l=n&x5e,c=pk(t),a=c.length,f=pk(e),A=f.length;if(a!=A&&!l)return!1;for(var m=a;m--;){var _=c[m];if(!(l?_ in e:E5e.call(e,_)))return!1}var y=s.get(t),T=s.get(e);if(y&&T)return y==e&&T==t;var E=!0;s.set(t,e),s.set(e,t);for(var P=l;++m<a;){_=c[m];var I=t[_],F=e[_];if(r)var R=l?r(F,I,_,e,t,s):r(I,F,_,t,e,s);if(!(R===void 0?I===F||i(I,F,n,r,s):R)){E=!1;break}P||(P=_=="constructor")}if(E&&!P){var N=t.constructor,z=e.constructor;N!=z&&"constructor"in t&&"constructor"in e&&!(typeof N=="function"&&N instanceof N&&typeof z=="function"&&z instanceof z)&&(E=!1)}return s.delete(t),s.delete(e),E}var T5e=1,LG="[object Arguments]",PG="[object Array]",FE="[object Object]",B5e=Object.prototype,FG=B5e.hasOwnProperty;function M5e(t,e,n,r,i,s){var l=ih(t),c=ih(e),a=l?PG:kp(t),f=c?PG:kp(e);a=a==LG?FE:a,f=f==LG?FE:f;var A=a==FE,m=f==FE,_=a==f;if(_&&MC(t)){if(!MC(e))return!1;l=!0,A=!1}if(_&&!A)return s||(s=new Vp),l||BN(t)?kne(t,e,n,r,i,s):w5e(t,e,a,n,r,i,s);if(!(n&T5e)){var y=A&&FG.call(t,"__wrapped__"),T=m&&FG.call(e,"__wrapped__");if(y||T){var E=y?t.value():t,P=T?e.value():e;return s||(s=new Vp),i(E,P,n,r,s)}}return _?(s||(s=new Vp),S5e(t,e,n,r,i,s)):!1}function Y8(t,e,n,r,i){return t===e?!0:t==null||e==null||!pm(t)&&!pm(e)?t!==t&&e!==e:M5e(t,e,n,r,Y8,i)}var I5e=1,L5e=2;function P5e(t,e,n,r){var i=n.length,s=i;if(t==null)return!s;for(t=Object(t);i--;){var l=n[i];if(l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<s;){l=n[i];var c=l[0],a=t[c],f=l[1];if(l[2]){if(a===void 0&&!(c in t))return!1}else{var A=new Vp,m;if(!(m===void 0?Y8(f,a,I5e|L5e,r,A):m))return!1}}return!0}function Rne(t){return t===t&&!ah(t)}function F5e(t){for(var e=P6(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Rne(i)]}return e}function One(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function k5e(t){var e=F5e(t);return e.length==1&&e[0][2]?One(e[0][0],e[0][1]):function(n){return n===t||P5e(n,t,e)}}function R5e(t,e){return t!=null&&e in Object(t)}function O5e(t,e,n){e=B2(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var l=M2(e[r]);if(!(s=t!=null&&n(t,l)))break;t=t[l]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&EN(i)&&j8(l,i)&&(ih(t)||BC(t)))}function Dne(t,e){return t!=null&&O5e(t,e,R5e)}var D5e=1,N5e=2;function U5e(t,e){return MN(t)&&Rne(e)?One(M2(t),e):function(n){var r=Fo(n,t);return r===void 0&&r===e?Dne(n,t):Y8(e,r,D5e|N5e)}}function z5e(t){return function(e){return e==null?void 0:e[t]}}function $5e(t){return function(e){return q8(e,t)}}function V5e(t){return MN(t)?z5e(M2(t)):$5e(t)}function Nne(t){return typeof t=="function"?t:t==null?bN:typeof t=="object"?ih(t)?U5e(t[0],t[1]):k5e(t):V5e(t)}function H5e(t){return function(e,n,r){for(var i=-1,s=Object(e),l=r(e),c=l.length;c--;){var a=l[++i];if(n(s[a],a,s)===!1)break}return e}}var Une=H5e();function Q5e(t,e){return t&&Une(t,e,P6)}function j5e(t,e){return function(n,r){if(n==null)return n;if(!T2(n))return t(n,r);for(var i=n.length,s=-1,l=Object(n);++s<i&&r(l[s],s,l)!==!1;);return n}}var G5e=j5e(Q5e),gL=function(){return eA.Date.now()},K5e="Expected a function",W5e=Math.max,q5e=Math.min;function $h(t,e,n){var r,i,s,l,c,a,f=0,A=!1,m=!1,_=!0;if(typeof t!="function")throw new TypeError(K5e);e=oG(e)||0,ah(n)&&(A=!!n.leading,m="maxWait"in n,s=m?W5e(oG(n.maxWait)||0,e):s,_="trailing"in n?!!n.trailing:_);function y(Q){var j=r,H=i;return r=i=void 0,f=Q,l=t.apply(H,j),l}function T(Q){return f=Q,c=setTimeout(I,e),A?y(Q):l}function E(Q){var j=Q-a,H=Q-f,K=e-j;return m?q5e(K,s-H):K}function P(Q){var j=Q-a,H=Q-f;return a===void 0||j>=e||j<0||m&&H>=s}function I(){var Q=gL();if(P(Q))return F(Q);c=setTimeout(I,E(Q))}function F(Q){return c=void 0,_&&r?y(Q):(r=i=void 0,l)}function R(){c!==void 0&&clearTimeout(c),f=0,r=a=i=c=void 0}function N(){return c===void 0?l:F(gL())}function z(){var Q=gL(),j=P(Q);if(r=arguments,i=this,a=Q,j){if(c===void 0)return T(a);if(m)return clearTimeout(c),c=setTimeout(I,e),y(a)}return c===void 0&&(c=setTimeout(I,e)),l}return z.cancel=R,z.flush=N,z}function gk(t,e,n){(n!==void 0&&!L6(t[e],n)||n===void 0&&!(e in t))&&xN(t,e,n)}function zne(t){return pm(t)&&T2(t)}function vk(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function Y5e(t){return S2(t,F6(t))}function X5e(t,e,n,r,i,s,l){var c=vk(t,n),a=vk(e,n),f=l.get(a);if(f){gk(t,n,f);return}var A=s?s(c,a,n+"",t,e,l):void 0,m=A===void 0;if(m){var _=ih(a),y=!_&&MC(a),T=!_&&!y&&BN(a);A=a,_||y||T?ih(c)?A=c:zne(c)?A=lne(c):y?(m=!1,A=xne(a,!0)):T?(m=!1,A=Bne(a,!0)):A=[]:bne(a)||BC(a)?(A=c,BC(c)?A=Y5e(c):(!ah(c)||wN(c))&&(A=Mne(a))):m=!1}m&&(l.set(a,A),i(A,a,r,s,l),l.delete(a)),gk(t,n,A)}function $ne(t,e,n,r,i){t!==e&&Une(e,function(s,l){if(i||(i=new Vp),ah(s))X5e(t,e,l,n,$ne,r,i);else{var c=r?r(vk(t,l),s,l+"",t,e,i):void 0;c===void 0&&(c=s),gk(t,l,c)}},F6)}function Z5e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function Vne(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=r-1;return cne(t,Nne(e),i,!0)}function J5e(t,e){var n=-1,r=T2(t)?Array(t.length):[];return G5e(t,function(i,s,l){r[++n]=e(i,s,l)}),r}function eEe(t,e){var n=ih(t)?yN:J5e;return n(t,Nne(e))}function tEe(t,e){return k6(eEe(t,e),1)}var nEe=1/0;function rEe(t){var e=t==null?0:t.length;return e?k6(t,nEe):[]}function gT(t){for(var e=-1,n=t==null?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}function iEe(t,e){return e.length<2?t:q8(t,SCe(e,0,-1))}function kc(t,e){return Y8(t,e)}function _u(t){return t==null}function Hne(t){return t===void 0}var aEe=qxe(function(t,e,n){$ne(t,e,n)});function sEe(t,e){return e=B2(e,t),t=iEe(t,e),t==null||delete t[M2(Z5e(e))]}function oEe(t){return bne(t)?void 0:t}var lEe=1,uEe=2,cEe=4,hEe=_ne(function(t,e){var n={};if(t==null)return n;var r=!1;e=yN(e,function(s){return s=B2(s,t),r||(r=s.length>1),s}),S2(t,Tne(t),n),r&&(n=Cw(n,lEe|uEe|cEe,oEe));for(var i=e.length;i--;)sEe(n,e[i]);return n});function Qne(t,e,n,r){if(!ah(t))return t;e=B2(e,t);for(var i=-1,s=e.length,l=s-1,c=t;c!=null&&++i<s;){var a=M2(e[i]),f=n;if(a==="__proto__"||a==="constructor"||a==="prototype")return t;if(i!=l){var A=c[a];f=void 0,f===void 0&&(f=ah(A)?A:j8(e[i+1])?[]:{})}CN(c,a,f),c=c[a]}return t}function dEe(t,e,n){for(var r=-1,i=e.length,s={};++r<i;){var l=e[r],c=q8(t,l);n(c,l)&&Qne(s,B2(l,t),c)}return s}function fEe(t,e){return dEe(t,e,function(n,r){return Dne(t,r)})}var ZA=_ne(function(t,e){return t==null?{}:fEe(t,e)});function pEe(t,e,n){return t==null?t:Qne(t,e,n)}var AEe="Expected a function";function U_(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(AEe);return ah(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),$h(t,e,{leading:r,maxWait:e,trailing:i})}var mEe=1/0,gEe=xw&&1/kN(new xw([,-0]))[1]==mEe?function(t){return new xw(t)}:Lxe,vEe=200;function _Ee(t,e,n){var r=-1,i=Vxe,s=t.length,l=!0,c=[],a=c;if(s>=vEe){var f=gEe(t);if(f)return kN(f);l=!1,i=Fne,a=new PC}else a=c;e:for(;++r<s;){var A=t[r],m=A;if(A=A!==0?A:0,l&&m===m){for(var _=a.length;_--;)if(a[_]===m)continue e;c.push(A)}else i(a,m,n)||(a!==c&&a.push(m),c.push(A))}return c}var vL=dne(function(t){return _Ee(k6(t,1,zne,!0))});const Wo=t=>t===void 0,qo=t=>typeof t=="boolean",Or=t=>typeof t=="number",ff=t=>!t&&t!==0||Jn(t)&&t.length===0||Ai(t)&&!Object.keys(t).length,Sf=t=>typeof Element>"u"?!1:t instanceof Element,ty=t=>_u(t),yEe=t=>Hr(t)?!Number.isNaN(Number(t)):!1,X8=t=>t===window,Yv=t=>ta?window.requestAnimationFrame(t):setTimeout(t,16),ny=t=>ta?window.cancelAnimationFrame(t):clearTimeout(t),RN=(t="")=>t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),qA=t=>C6(t),e2=t=>Object.keys(t),bEe=t=>Object.entries(t),cS=(t,e,n)=>({get value(){return Fo(t,e,n)},set value(r){pEe(t,e,r)}});class wEe extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function kl(t,e){throw new wEe(`[${t}] ${e}`)}const jne=(t="")=>t.split(" ").filter(e=>!!e.trim()),xf=(t,e)=>{if(!t||!e)return!1;if(e.includes(" "))throw new Error("className should not contain space.");return t.classList.contains(e)},mf=(t,e)=>{!t||!e.trim()||t.classList.add(...jne(e))},Rc=(t,e)=>{!t||!e.trim()||t.classList.remove(...jne(e))},xv=(t,e)=>{var n;if(!ta||!t||!e)return"";let r=Ud(e);r==="float"&&(r="cssFloat");try{const i=t.style[r];if(i)return i;const s=(n=document.defaultView)==null?void 0:n.getComputedStyle(t,"");return s?s[r]:""}catch{return t.style[r]}};function Co(t,e="px"){if(!t)return"";if(Or(t)||yEe(t))return`${t}${e}`;if(Hr(t))return t}const xEe=(t,e)=>{if(!ta)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(e)],r=xv(t,n);return["scroll","auto","overlay"].some(i=>r.includes(i))},ON=(t,e)=>{if(!ta)return;let n=t;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(xEe(n,e))return n;n=n.parentNode}return n};let kE;const Gne=t=>{var e;if(!ta)return 0;if(kE!==void 0)return kE;const n=document.createElement("div");n.className=`${t}-scrollbar__wrap`,n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const r=n.offsetWidth;n.style.overflow="scroll";const i=document.createElement("div");i.style.width="100%",n.appendChild(i);const s=i.offsetWidth;return(e=n.parentNode)==null||e.removeChild(n),kE=r-s,kE};function Kne(t,e){if(!ta)return;if(!e){t.scrollTop=0;return}const n=[];let r=e.offsetParent;for(;r!==null&&t!==r&&t.contains(r);)n.push(r),r=r.offsetParent;const i=e.offsetTop+n.reduce((a,f)=>a+f.offsetTop,0),s=i+e.offsetHeight,l=t.scrollTop,c=l+t.clientHeight;i<l?t.scrollTop=i:s>c&&(t.scrollTop=s-t.clientHeight)}function CEe(t,e,n,r,i){const s=Date.now();let l;const c=()=>{const f=Date.now()-s,A=K2e(f>r?r:f,e,n,r);X8(t)?t.scrollTo(window.pageXOffset,A):t.scrollTop=A,f<r?l=Yv(c):typeof i=="function"&&i()};return c(),()=>{l&&ny(l)}}const kG=(t,e)=>X8(e)?t.ownerDocument.documentElement:e,RG=t=>X8(t)?window.scrollY:t.scrollTop,RE=t=>{if(!ta||t==="")return null;if(Hr(t))try{return document.querySelector(t)}catch{return null}return t};/*! Element Plus Icons Vue v2.3.1 */var EEe=Be({name:"AddLocation",__name:"add-location",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M288 896h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32"}),pe("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416M512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544"}),pe("path",{fill:"currentColor",d:"M544 384h96a32 32 0 1 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96v-96a32 32 0 0 1 64 0z"})]))}}),SEe=EEe,TEe=Be({name:"Aim",__name:"aim",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),pe("path",{fill:"currentColor",d:"M512 96a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V128a32 32 0 0 1 32-32m0 576a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V704a32 32 0 0 1 32-32M96 512a32 32 0 0 1 32-32h192a32 32 0 0 1 0 64H128a32 32 0 0 1-32-32m576 0a32 32 0 0 1 32-32h192a32 32 0 1 1 0 64H704a32 32 0 0 1-32-32"})]))}}),BEe=TEe,MEe=Be({name:"AlarmClock",__name:"alarm-clock",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 832a320 320 0 1 0 0-640 320 320 0 0 0 0 640m0 64a384 384 0 1 1 0-768 384 384 0 0 1 0 768"}),pe("path",{fill:"currentColor",d:"m292.288 824.576 55.424 32-48 83.136a32 32 0 1 1-55.424-32zm439.424 0-55.424 32 48 83.136a32 32 0 1 0 55.424-32zM512 512h160a32 32 0 1 1 0 64H480a32 32 0 0 1-32-32V320a32 32 0 0 1 64 0zM90.496 312.256A160 160 0 0 1 312.32 90.496l-46.848 46.848a96 96 0 0 0-128 128L90.56 312.256zm835.264 0A160 160 0 0 0 704 90.496l46.848 46.848a96 96 0 0 1 128 128z"})]))}}),IEe=MEe,LEe=Be({name:"Apple",__name:"apple",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M599.872 203.776a189.44 189.44 0 0 1 64.384-4.672l2.624.128c31.168 1.024 51.2 4.096 79.488 16.32 37.632 16.128 74.496 45.056 111.488 89.344 96.384 115.264 82.752 372.8-34.752 521.728-7.68 9.728-32 41.6-30.72 39.936a426.624 426.624 0 0 1-30.08 35.776c-31.232 32.576-65.28 49.216-110.08 50.048-31.36.64-53.568-5.312-84.288-18.752l-6.528-2.88c-20.992-9.216-30.592-11.904-47.296-11.904-18.112 0-28.608 2.88-51.136 12.672l-6.464 2.816c-28.416 12.224-48.32 18.048-76.16 19.2-74.112 2.752-116.928-38.08-180.672-132.16-96.64-142.08-132.608-349.312-55.04-486.4 46.272-81.92 129.92-133.632 220.672-135.04 32.832-.576 60.288 6.848 99.648 22.72 27.136 10.88 34.752 13.76 37.376 14.272 16.256-20.16 27.776-36.992 34.56-50.24 13.568-26.304 27.2-59.968 40.704-100.8a32 32 0 1 1 60.8 20.224c-12.608 37.888-25.408 70.4-38.528 97.664zm-51.52 78.08c-14.528 17.792-31.808 37.376-51.904 58.816a32 32 0 1 1-46.72-43.776l12.288-13.248c-28.032-11.2-61.248-26.688-95.68-26.112-70.4 1.088-135.296 41.6-171.648 105.792C121.6 492.608 176 684.16 247.296 788.992c34.816 51.328 76.352 108.992 130.944 106.944 52.48-2.112 72.32-34.688 135.872-34.688 63.552 0 81.28 34.688 136.96 33.536 56.448-1.088 75.776-39.04 126.848-103.872 107.904-136.768 107.904-362.752 35.776-449.088-72.192-86.272-124.672-84.096-151.68-85.12-41.472-4.288-81.6 12.544-113.664 25.152z"})]))}}),PEe=LEe,FEe=Be({name:"ArrowDownBold",__name:"arrow-down-bold",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M104.704 338.752a64 64 0 0 1 90.496 0l316.8 316.8 316.8-316.8a64 64 0 0 1 90.496 90.496L557.248 791.296a64 64 0 0 1-90.496 0L104.704 429.248a64 64 0 0 1 0-90.496z"})]))}}),kEe=FEe,REe=Be({name:"ArrowDown",__name:"arrow-down",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),Em=REe,OEe=Be({name:"ArrowLeftBold",__name:"arrow-left-bold",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M685.248 104.704a64 64 0 0 1 0 90.496L368.448 512l316.8 316.8a64 64 0 0 1-90.496 90.496L232.704 557.248a64 64 0 0 1 0-90.496l362.048-362.048a64 64 0 0 1 90.496 0z"})]))}}),DEe=OEe,NEe=Be({name:"ArrowLeft",__name:"arrow-left",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}}),qg=NEe,UEe=Be({name:"ArrowRightBold",__name:"arrow-right-bold",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M338.752 104.704a64 64 0 0 0 0 90.496l316.8 316.8-316.8 316.8a64 64 0 0 0 90.496 90.496l362.048-362.048a64 64 0 0 0 0-90.496L429.248 104.704a64 64 0 0 0-90.496 0z"})]))}}),zEe=UEe,$Ee=Be({name:"ArrowRight",__name:"arrow-right",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),Oc=$Ee,VEe=Be({name:"ArrowUpBold",__name:"arrow-up-bold",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M104.704 685.248a64 64 0 0 0 90.496 0l316.8-316.8 316.8 316.8a64 64 0 0 0 90.496-90.496L557.248 232.704a64 64 0 0 0-90.496 0L104.704 594.752a64 64 0 0 0 0 90.496z"})]))}}),HEe=VEe,QEe=Be({name:"ArrowUp",__name:"arrow-up",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),Z8=QEe,jEe=Be({name:"Avatar",__name:"avatar",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M628.736 528.896A416 416 0 0 1 928 928H96a415.872 415.872 0 0 1 299.264-399.104L512 704zM720 304a208 208 0 1 1-416 0 208 208 0 0 1 416 0"})]))}}),GEe=jEe,KEe=Be({name:"Back",__name:"back",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64"}),pe("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312z"})]))}}),Wne=KEe,WEe=Be({name:"Baseball",__name:"baseball",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M195.2 828.8a448 448 0 1 1 633.6-633.6 448 448 0 0 1-633.6 633.6zm45.248-45.248a384 384 0 1 0 543.104-543.104 384 384 0 0 0-543.104 543.104"}),pe("path",{fill:"currentColor",d:"M497.472 96.896c22.784 4.672 44.416 9.472 64.896 14.528a256.128 256.128 0 0 0 350.208 350.208c5.056 20.48 9.856 42.112 14.528 64.896A320.128 320.128 0 0 1 497.472 96.896zM108.48 491.904a320.128 320.128 0 0 1 423.616 423.68c-23.04-3.648-44.992-7.424-65.728-11.52a256.128 256.128 0 0 0-346.496-346.432 1736.64 1736.64 0 0 1-11.392-65.728z"})]))}}),qEe=WEe,YEe=Be({name:"Basketball",__name:"basketball",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M778.752 788.224a382.464 382.464 0 0 0 116.032-245.632 256.512 256.512 0 0 0-241.728-13.952 762.88 762.88 0 0 1 125.696 259.584zm-55.04 44.224a699.648 699.648 0 0 0-125.056-269.632 256.128 256.128 0 0 0-56.064 331.968 382.72 382.72 0 0 0 181.12-62.336m-254.08 61.248A320.128 320.128 0 0 1 557.76 513.6a715.84 715.84 0 0 0-48.192-48.128 320.128 320.128 0 0 1-379.264 88.384 382.4 382.4 0 0 0 110.144 229.696 382.4 382.4 0 0 0 229.184 110.08zM129.28 481.088a256.128 256.128 0 0 0 331.072-56.448 699.648 699.648 0 0 0-268.8-124.352 382.656 382.656 0 0 0-62.272 180.8m106.56-235.84a762.88 762.88 0 0 1 258.688 125.056 256.512 256.512 0 0 0-13.44-241.088A382.464 382.464 0 0 0 235.84 245.248zm318.08-114.944c40.576 89.536 37.76 193.92-8.448 281.344a779.84 779.84 0 0 1 66.176 66.112 320.832 320.832 0 0 1 282.112-8.128 382.4 382.4 0 0 0-110.144-229.12 382.4 382.4 0 0 0-229.632-110.208zM828.8 828.8a448 448 0 1 1-633.6-633.6 448 448 0 0 1 633.6 633.6"})]))}}),XEe=YEe,ZEe=Be({name:"BellFilled",__name:"bell-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M640 832a128 128 0 0 1-256 0zm192-64H134.4a38.4 38.4 0 0 1 0-76.8H192V448c0-154.88 110.08-284.16 256.32-313.6a64 64 0 1 1 127.36 0A320.128 320.128 0 0 1 832 448v243.2h57.6a38.4 38.4 0 0 1 0 76.8z"})]))}}),JEe=ZEe,e3e=Be({name:"Bell",__name:"bell",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 64a64 64 0 0 1 64 64v64H448v-64a64 64 0 0 1 64-64"}),pe("path",{fill:"currentColor",d:"M256 768h512V448a256 256 0 1 0-512 0zm256-640a320 320 0 0 1 320 320v384H192V448a320 320 0 0 1 320-320"}),pe("path",{fill:"currentColor",d:"M96 768h832q32 0 32 32t-32 32H96q-32 0-32-32t32-32m352 128h128a64 64 0 0 1-128 0"})]))}}),t3e=e3e,n3e=Be({name:"Bicycle",__name:"bicycle",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M256 832a128 128 0 1 0 0-256 128 128 0 0 0 0 256m0 64a192 192 0 1 1 0-384 192 192 0 0 1 0 384"}),pe("path",{fill:"currentColor",d:"M288 672h320q32 0 32 32t-32 32H288q-32 0-32-32t32-32"}),pe("path",{fill:"currentColor",d:"M768 832a128 128 0 1 0 0-256 128 128 0 0 0 0 256m0 64a192 192 0 1 1 0-384 192 192 0 0 1 0 384"}),pe("path",{fill:"currentColor",d:"M480 192a32 32 0 0 1 0-64h160a32 32 0 0 1 31.04 24.256l96 384a32 32 0 0 1-62.08 15.488L615.04 192zM96 384a32 32 0 0 1 0-64h128a32 32 0 0 1 30.336 21.888l64 192a32 32 0 1 1-60.672 20.224L200.96 384z"}),pe("path",{fill:"currentColor",d:"m373.376 599.808-42.752-47.616 320-288 42.752 47.616z"})]))}}),r3e=n3e,i3e=Be({name:"BottomLeft",__name:"bottom-left",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M256 768h416a32 32 0 1 1 0 64H224a32 32 0 0 1-32-32V352a32 32 0 0 1 64 0z"}),pe("path",{fill:"currentColor",d:"M246.656 822.656a32 32 0 0 1-45.312-45.312l544-544a32 32 0 0 1 45.312 45.312l-544 544z"})]))}}),a3e=i3e,s3e=Be({name:"BottomRight",__name:"bottom-right",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M352 768a32 32 0 1 0 0 64h448a32 32 0 0 0 32-32V352a32 32 0 0 0-64 0v416z"}),pe("path",{fill:"currentColor",d:"M777.344 822.656a32 32 0 0 0 45.312-45.312l-544-544a32 32 0 0 0-45.312 45.312z"})]))}}),o3e=s3e,l3e=Be({name:"Bottom",__name:"bottom",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M544 805.888V168a32 32 0 1 0-64 0v637.888L246.656 557.952a30.72 30.72 0 0 0-45.312 0 35.52 35.52 0 0 0 0 48.064l288 306.048a30.72 30.72 0 0 0 45.312 0l288-306.048a35.52 35.52 0 0 0 0-48 30.72 30.72 0 0 0-45.312 0L544 805.824z"})]))}}),u3e=l3e,c3e=Be({name:"Bowl",__name:"bowl",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M714.432 704a351.744 351.744 0 0 0 148.16-256H161.408a351.744 351.744 0 0 0 148.16 256zM288 766.592A415.68 415.68 0 0 1 96 416a32 32 0 0 1 32-32h768a32 32 0 0 1 32 32 415.68 415.68 0 0 1-192 350.592V832a64 64 0 0 1-64 64H352a64 64 0 0 1-64-64zM493.248 320h-90.496l254.4-254.4a32 32 0 1 1 45.248 45.248zm187.328 0h-128l269.696-155.712a32 32 0 0 1 32 55.424zM352 768v64h320v-64z"})]))}}),h3e=c3e,d3e=Be({name:"Box",__name:"box",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M317.056 128 128 344.064V896h768V344.064L706.944 128zm-14.528-64h418.944a32 32 0 0 1 24.064 10.88l206.528 236.096A32 32 0 0 1 960 332.032V928a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V332.032a32 32 0 0 1 7.936-21.12L278.4 75.008A32 32 0 0 1 302.528 64z"}),pe("path",{fill:"currentColor",d:"M64 320h896v64H64z"}),pe("path",{fill:"currentColor",d:"M448 327.872V640h128V327.872L526.08 128h-28.16zM448 64h128l64 256v352a32 32 0 0 1-32 32H416a32 32 0 0 1-32-32V320z"})]))}}),f3e=d3e,p3e=Be({name:"Briefcase",__name:"briefcase",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M320 320V128h384v192h192v192H128V320zM128 576h768v320H128zm256-256h256.064V192H384z"})]))}}),A3e=p3e,m3e=Be({name:"BrushFilled",__name:"brush-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M608 704v160a96 96 0 0 1-192 0V704h-96a128 128 0 0 1-128-128h640a128 128 0 0 1-128 128zM192 512V128.064h640V512z"})]))}}),g3e=m3e,v3e=Be({name:"Brush",__name:"brush",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M896 448H128v192a64 64 0 0 0 64 64h192v192h256V704h192a64 64 0 0 0 64-64zm-770.752-64c0-47.552 5.248-90.24 15.552-128 14.72-54.016 42.496-107.392 83.2-160h417.28l-15.36 70.336L736 96h211.2c-24.832 42.88-41.92 96.256-51.2 160a663.872 663.872 0 0 0-6.144 128H960v256a128 128 0 0 1-128 128H704v160a32 32 0 0 1-32 32H352a32 32 0 0 1-32-32V768H192A128 128 0 0 1 64 640V384h61.248zm64 0h636.544c-2.048-45.824.256-91.584 6.848-137.216 4.48-30.848 10.688-59.776 18.688-86.784h-96.64l-221.12 141.248L561.92 160H256.512c-25.856 37.888-43.776 75.456-53.952 112.832-8.768 32.064-13.248 69.12-13.312 111.168z"})]))}}),_3e=v3e,y3e=Be({name:"Burger",__name:"burger",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M160 512a32 32 0 0 0-32 32v64a32 32 0 0 0 30.08 32H864a32 32 0 0 0 32-32v-64a32 32 0 0 0-32-32zm736-58.56A96 96 0 0 1 960 544v64a96 96 0 0 1-51.968 85.312L855.36 833.6a96 96 0 0 1-89.856 62.272H258.496A96 96 0 0 1 168.64 833.6l-52.608-140.224A96 96 0 0 1 64 608v-64a96 96 0 0 1 64-90.56V448a384 384 0 1 1 768 5.44M832 448a320 320 0 0 0-640 0zM512 704H188.352l40.192 107.136a32 32 0 0 0 29.952 20.736h507.008a32 32 0 0 0 29.952-20.736L835.648 704z"})]))}}),b3e=y3e,w3e=Be({name:"Calendar",__name:"calendar",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}}),qne=w3e,x3e=Be({name:"CameraFilled",__name:"camera-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M160 224a64 64 0 0 0-64 64v512a64 64 0 0 0 64 64h704a64 64 0 0 0 64-64V288a64 64 0 0 0-64-64H748.416l-46.464-92.672A64 64 0 0 0 644.736 96H379.328a64 64 0 0 0-57.216 35.392L275.776 224zm352 435.2a115.2 115.2 0 1 0 0-230.4 115.2 115.2 0 0 0 0 230.4m0 140.8a256 256 0 1 1 0-512 256 256 0 0 1 0 512"})]))}}),C3e=x3e,E3e=Be({name:"Camera",__name:"camera",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M896 256H128v576h768zm-199.424-64-32.064-64h-304.96l-32 64zM96 192h160l46.336-92.608A64 64 0 0 1 359.552 64h304.96a64 64 0 0 1 57.216 35.328L768.192 192H928a32 32 0 0 1 32 32v640a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V224a32 32 0 0 1 32-32m416 512a160 160 0 1 0 0-320 160 160 0 0 0 0 320m0 64a224 224 0 1 1 0-448 224 224 0 0 1 0 448"})]))}}),S3e=E3e,T3e=Be({name:"CaretBottom",__name:"caret-bottom",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m192 384 320 384 320-384z"})]))}}),B3e=T3e,M3e=Be({name:"CaretLeft",__name:"caret-left",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M672 192 288 511.936 672 832z"})]))}}),I3e=M3e,L3e=Be({name:"CaretRight",__name:"caret-right",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"})]))}}),DN=L3e,P3e=Be({name:"CaretTop",__name:"caret-top",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"})]))}}),Yne=P3e,F3e=Be({name:"Cellphone",__name:"cellphone",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M256 128a64 64 0 0 0-64 64v640a64 64 0 0 0 64 64h512a64 64 0 0 0 64-64V192a64 64 0 0 0-64-64zm0-64h512a128 128 0 0 1 128 128v640a128 128 0 0 1-128 128H256a128 128 0 0 1-128-128V192A128 128 0 0 1 256 64m128 128h256a32 32 0 1 1 0 64H384a32 32 0 0 1 0-64m128 640a64 64 0 1 1 0-128 64 64 0 0 1 0 128"})]))}}),k3e=F3e,R3e=Be({name:"ChatDotRound",__name:"chat-dot-round",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m174.72 855.68 135.296-45.12 23.68 11.84C388.096 849.536 448.576 864 512 864c211.84 0 384-166.784 384-352S723.84 160 512 160 128 326.784 128 512c0 69.12 24.96 139.264 70.848 199.232l22.08 28.8-46.272 115.584zm-45.248 82.56A32 32 0 0 1 89.6 896l58.368-145.92C94.72 680.32 64 596.864 64 512 64 299.904 256 96 512 96s448 203.904 448 416-192 416-448 416a461.056 461.056 0 0 1-206.912-48.384l-175.616 58.56z"}),pe("path",{fill:"currentColor",d:"M512 563.2a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4m192 0a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4m-384 0a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4"})]))}}),O3e=R3e,D3e=Be({name:"ChatDotSquare",__name:"chat-dot-square",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M273.536 736H800a64 64 0 0 0 64-64V256a64 64 0 0 0-64-64H224a64 64 0 0 0-64 64v570.88zM296 800 147.968 918.4A32 32 0 0 1 96 893.44V256a128 128 0 0 1 128-128h576a128 128 0 0 1 128 128v416a128 128 0 0 1-128 128z"}),pe("path",{fill:"currentColor",d:"M512 499.2a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4zm192 0a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4zm-384 0a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4z"})]))}}),N3e=D3e,U3e=Be({name:"ChatLineRound",__name:"chat-line-round",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m174.72 855.68 135.296-45.12 23.68 11.84C388.096 849.536 448.576 864 512 864c211.84 0 384-166.784 384-352S723.84 160 512 160 128 326.784 128 512c0 69.12 24.96 139.264 70.848 199.232l22.08 28.8-46.272 115.584zm-45.248 82.56A32 32 0 0 1 89.6 896l58.368-145.92C94.72 680.32 64 596.864 64 512 64 299.904 256 96 512 96s448 203.904 448 416-192 416-448 416a461.056 461.056 0 0 1-206.912-48.384l-175.616 58.56z"}),pe("path",{fill:"currentColor",d:"M352 576h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32m32-192h256q32 0 32 32t-32 32H384q-32 0-32-32t32-32"})]))}}),z3e=U3e,$3e=Be({name:"ChatLineSquare",__name:"chat-line-square",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M160 826.88 273.536 736H800a64 64 0 0 0 64-64V256a64 64 0 0 0-64-64H224a64 64 0 0 0-64 64zM296 800 147.968 918.4A32 32 0 0 1 96 893.44V256a128 128 0 0 1 128-128h576a128 128 0 0 1 128 128v416a128 128 0 0 1-128 128z"}),pe("path",{fill:"currentColor",d:"M352 512h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32m0-192h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32"})]))}}),V3e=$3e,H3e=Be({name:"ChatRound",__name:"chat-round",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m174.72 855.68 130.048-43.392 23.424 11.392C382.4 849.984 444.352 864 512 864c223.744 0 384-159.872 384-352 0-192.832-159.104-352-384-352S128 319.168 128 512a341.12 341.12 0 0 0 69.248 204.288l21.632 28.8-44.16 110.528zm-45.248 82.56A32 32 0 0 1 89.6 896l56.512-141.248A405.12 405.12 0 0 1 64 512C64 299.904 235.648 96 512 96s448 203.904 448 416-173.44 416-448 416c-79.68 0-150.848-17.152-211.712-46.72l-170.88 56.96z"})]))}}),Q3e=H3e,j3e=Be({name:"ChatSquare",__name:"chat-square",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M273.536 736H800a64 64 0 0 0 64-64V256a64 64 0 0 0-64-64H224a64 64 0 0 0-64 64v570.88zM296 800 147.968 918.4A32 32 0 0 1 96 893.44V256a128 128 0 0 1 128-128h576a128 128 0 0 1 128 128v416a128 128 0 0 1-128 128z"})]))}}),G3e=j3e,K3e=Be({name:"Check",__name:"check",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),I2=K3e,W3e=Be({name:"Checked",__name:"checked",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M704 192h160v736H160V192h160.064v64H704zM311.616 537.28l-45.312 45.248L447.36 763.52l316.8-316.8-45.312-45.184L447.36 673.024zM384 192V96h256v96z"})]))}}),q3e=W3e,Y3e=Be({name:"Cherry",__name:"cherry",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M261.056 449.6c13.824-69.696 34.88-128.96 63.36-177.728 23.744-40.832 61.12-88.64 112.256-143.872H320a32 32 0 0 1 0-64h384a32 32 0 1 1 0 64H554.752c14.912 39.168 41.344 86.592 79.552 141.76 47.36 68.48 84.8 106.752 106.304 114.304a224 224 0 1 1-84.992 14.784c-22.656-22.912-47.04-53.76-73.92-92.608-38.848-56.128-67.008-105.792-84.352-149.312-55.296 58.24-94.528 107.52-117.76 147.2-23.168 39.744-41.088 88.768-53.568 147.072a224.064 224.064 0 1 1-64.96-1.6zM288 832a160 160 0 1 0 0-320 160 160 0 0 0 0 320m448-64a160 160 0 1 0 0-320 160 160 0 0 0 0 320"})]))}}),X3e=Y3e,Z3e=Be({name:"Chicken",__name:"chicken",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M349.952 716.992 478.72 588.16a106.688 106.688 0 0 1-26.176-19.072 106.688 106.688 0 0 1-19.072-26.176L304.704 671.744c.768 3.072 1.472 6.144 2.048 9.216l2.048 31.936 31.872 1.984c3.136.64 6.208 1.28 9.28 2.112zm57.344 33.152a128 128 0 1 1-216.32 114.432l-1.92-32-32-1.92a128 128 0 1 1 114.432-216.32L416.64 469.248c-2.432-101.44 58.112-239.104 149.056-330.048 107.328-107.328 231.296-85.504 316.8 0 85.44 85.44 107.328 209.408 0 316.8-91.008 90.88-228.672 151.424-330.112 149.056L407.296 750.08zm90.496-226.304c49.536 49.536 233.344-7.04 339.392-113.088 78.208-78.208 63.232-163.072 0-226.304-63.168-63.232-148.032-78.208-226.24 0C504.896 290.496 448.32 474.368 497.792 523.84M244.864 708.928a64 64 0 1 0-59.84 59.84l56.32-3.52zm8.064 127.68a64 64 0 1 0 59.84-59.84l-56.32 3.52-3.52 56.32z"})]))}}),J3e=Z3e,eSe=Be({name:"ChromeFilled",__name:"chrome-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M938.67 512.01c0-44.59-6.82-87.6-19.54-128H682.67a212.372 212.372 0 0 1 42.67 128c.06 38.71-10.45 76.7-30.42 109.87l-182.91 316.8c235.65-.01 426.66-191.02 426.66-426.67z"}),pe("path",{fill:"currentColor",d:"M576.79 401.63a127.92 127.92 0 0 0-63.56-17.6c-22.36-.22-44.39 5.43-63.89 16.38s-35.79 26.82-47.25 46.02a128.005 128.005 0 0 0-2.16 127.44l1.24 2.13a127.906 127.906 0 0 0 46.36 46.61 127.907 127.907 0 0 0 63.38 17.44c22.29.2 44.24-5.43 63.68-16.33a127.94 127.94 0 0 0 47.16-45.79v-.01l1.11-1.92a127.984 127.984 0 0 0 .29-127.46 127.957 127.957 0 0 0-46.36-46.91"}),pe("path",{fill:"currentColor",d:"M394.45 333.96A213.336 213.336 0 0 1 512 298.67h369.58A426.503 426.503 0 0 0 512 85.34a425.598 425.598 0 0 0-171.74 35.98 425.644 425.644 0 0 0-142.62 102.22l118.14 204.63a213.397 213.397 0 0 1 78.67-94.21m117.56 604.72H512zm-97.25-236.73a213.284 213.284 0 0 1-89.54-86.81L142.48 298.6c-36.35 62.81-57.13 135.68-57.13 213.42 0 203.81 142.93 374.22 333.95 416.55h.04l118.19-204.71a213.315 213.315 0 0 1-122.77-21.91z"})]))}}),tSe=eSe,nSe=Be({name:"CircleCheckFilled",__name:"circle-check-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),Xne=nSe,rSe=Be({name:"CircleCheck",__name:"circle-check",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),pe("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),J8=rSe,iSe=Be({name:"CircleCloseFilled",__name:"circle-close-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),eB=iSe,aSe=Be({name:"CircleClose",__name:"circle-close",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),pe("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),o0=aSe,sSe=Be({name:"CirclePlusFilled",__name:"circle-plus-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-38.4 409.6H326.4a38.4 38.4 0 1 0 0 76.8h147.2v147.2a38.4 38.4 0 0 0 76.8 0V550.4h147.2a38.4 38.4 0 0 0 0-76.8H550.4V326.4a38.4 38.4 0 1 0-76.8 0v147.2z"})]))}}),oSe=sSe,lSe=Be({name:"CirclePlus",__name:"circle-plus",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M352 480h320a32 32 0 1 1 0 64H352a32 32 0 0 1 0-64"}),pe("path",{fill:"currentColor",d:"M480 672V352a32 32 0 1 1 64 0v320a32 32 0 0 1-64 0"}),pe("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),uSe=lSe,cSe=Be({name:"Clock",__name:"clock",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),pe("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),pe("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}}),NN=cSe,hSe=Be({name:"CloseBold",__name:"close-bold",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M195.2 195.2a64 64 0 0 1 90.496 0L512 421.504 738.304 195.2a64 64 0 0 1 90.496 90.496L602.496 512 828.8 738.304a64 64 0 0 1-90.496 90.496L512 602.496 285.696 828.8a64 64 0 0 1-90.496-90.496L421.504 512 195.2 285.696a64 64 0 0 1 0-90.496z"})]))}}),dSe=hSe,fSe=Be({name:"Close",__name:"close",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),Tf=fSe,pSe=Be({name:"Cloudy",__name:"cloudy",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M598.4 831.872H328.192a256 256 0 0 1-34.496-510.528A352 352 0 1 1 598.4 831.872m-271.36-64h272.256a288 288 0 1 0-248.512-417.664L335.04 381.44l-34.816 3.584a192 192 0 0 0 26.88 382.848z"})]))}}),ASe=pSe,mSe=Be({name:"CoffeeCup",__name:"coffee-cup",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M768 192a192 192 0 1 1-8 383.808A256.128 256.128 0 0 1 512 768H320A256 256 0 0 1 64 512V160a32 32 0 0 1 32-32h640a32 32 0 0 1 32 32zm0 64v256a128 128 0 1 0 0-256M96 832h640a32 32 0 1 1 0 64H96a32 32 0 1 1 0-64m32-640v320a192 192 0 0 0 192 192h192a192 192 0 0 0 192-192V192z"})]))}}),gSe=mSe,vSe=Be({name:"Coffee",__name:"coffee",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M822.592 192h14.272a32 32 0 0 1 31.616 26.752l21.312 128A32 32 0 0 1 858.24 384h-49.344l-39.04 546.304A32 32 0 0 1 737.92 960H285.824a32 32 0 0 1-32-29.696L214.912 384H165.76a32 32 0 0 1-31.552-37.248l21.312-128A32 32 0 0 1 187.136 192h14.016l-6.72-93.696A32 32 0 0 1 226.368 64h571.008a32 32 0 0 1 31.936 34.304zm-64.128 0 4.544-64H260.736l4.544 64h493.184m-548.16 128H820.48l-10.688-64H214.208l-10.688 64h6.784m68.736 64 36.544 512H708.16l36.544-512z"})]))}}),_Se=vSe,ySe=Be({name:"Coin",__name:"coin",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m161.92 580.736 29.888 58.88C171.328 659.776 160 681.728 160 704c0 82.304 155.328 160 352 160s352-77.696 352-160c0-22.272-11.392-44.16-31.808-64.32l30.464-58.432C903.936 615.808 928 657.664 928 704c0 129.728-188.544 224-416 224S96 833.728 96 704c0-46.592 24.32-88.576 65.92-123.264z"}),pe("path",{fill:"currentColor",d:"m161.92 388.736 29.888 58.88C171.328 467.84 160 489.792 160 512c0 82.304 155.328 160 352 160s352-77.696 352-160c0-22.272-11.392-44.16-31.808-64.32l30.464-58.432C903.936 423.808 928 465.664 928 512c0 129.728-188.544 224-416 224S96 641.728 96 512c0-46.592 24.32-88.576 65.92-123.264z"}),pe("path",{fill:"currentColor",d:"M512 544c-227.456 0-416-94.272-416-224S284.544 96 512 96s416 94.272 416 224-188.544 224-416 224m0-64c196.672 0 352-77.696 352-160S708.672 160 512 160s-352 77.696-352 160 155.328 160 352 160"})]))}}),bSe=ySe,wSe=Be({name:"ColdDrink",__name:"cold-drink",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M768 64a192 192 0 1 1-69.952 370.88L480 725.376V896h96a32 32 0 1 1 0 64H320a32 32 0 1 1 0-64h96V725.376L76.8 273.536a64 64 0 0 1-12.8-38.4v-10.688a32 32 0 0 1 32-32h71.808l-65.536-83.84a32 32 0 0 1 50.432-39.424l96.256 123.264h337.728A192.064 192.064 0 0 1 768 64M656.896 192.448H800a32 32 0 0 1 32 32v10.624a64 64 0 0 1-12.8 38.4l-80.448 107.2a128 128 0 1 0-81.92-188.16v-.064zm-357.888 64 129.472 165.76a32 32 0 0 1-50.432 39.36l-160.256-205.12H144l304 404.928 304-404.928z"})]))}}),xSe=wSe,CSe=Be({name:"CollectionTag",__name:"collection-tag",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M256 128v698.88l196.032-156.864a96 96 0 0 1 119.936 0L768 826.816V128zm-32-64h576a32 32 0 0 1 32 32v797.44a32 32 0 0 1-51.968 24.96L531.968 720a32 32 0 0 0-39.936 0L243.968 918.4A32 32 0 0 1 192 893.44V96a32 32 0 0 1 32-32"})]))}}),ESe=CSe,SSe=Be({name:"Collection",__name:"collection",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M192 736h640V128H256a64 64 0 0 0-64 64zm64-672h608a32 32 0 0 1 32 32v672a32 32 0 0 1-32 32H160l-32 57.536V192A128 128 0 0 1 256 64"}),pe("path",{fill:"currentColor",d:"M240 800a48 48 0 1 0 0 96h592v-96zm0-64h656v160a64 64 0 0 1-64 64H240a112 112 0 0 1 0-224m144-608v250.88l96-76.8 96 76.8V128zm-64-64h320v381.44a32 32 0 0 1-51.968 24.96L480 384l-108.032 86.4A32 32 0 0 1 320 445.44z"})]))}}),TSe=SSe,BSe=Be({name:"Comment",__name:"comment",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M736 504a56 56 0 1 1 0-112 56 56 0 0 1 0 112m-224 0a56 56 0 1 1 0-112 56 56 0 0 1 0 112m-224 0a56 56 0 1 1 0-112 56 56 0 0 1 0 112M128 128v640h192v160l224-160h352V128z"})]))}}),MSe=BSe,ISe=Be({name:"Compass",__name:"compass",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),pe("path",{fill:"currentColor",d:"M725.888 315.008C676.48 428.672 624 513.28 568.576 568.64c-55.424 55.424-139.968 107.904-253.568 157.312a12.8 12.8 0 0 1-16.896-16.832c49.536-113.728 102.016-198.272 157.312-253.632 55.36-55.296 139.904-107.776 253.632-157.312a12.8 12.8 0 0 1 16.832 16.832"})]))}}),LSe=ISe,PSe=Be({name:"Connection",__name:"connection",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M640 384v64H448a128 128 0 0 0-128 128v128a128 128 0 0 0 128 128h320a128 128 0 0 0 128-128V576a128 128 0 0 0-64-110.848V394.88c74.56 26.368 128 97.472 128 181.056v128a192 192 0 0 1-192 192H448a192 192 0 0 1-192-192V576a192 192 0 0 1 192-192z"}),pe("path",{fill:"currentColor",d:"M384 640v-64h192a128 128 0 0 0 128-128V320a128 128 0 0 0-128-128H256a128 128 0 0 0-128 128v128a128 128 0 0 0 64 110.848v70.272A192.064 192.064 0 0 1 64 448V320a192 192 0 0 1 192-192h320a192 192 0 0 1 192 192v128a192 192 0 0 1-192 192z"})]))}}),FSe=PSe,kSe=Be({name:"Coordinate",__name:"coordinate",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M480 512h64v320h-64z"}),pe("path",{fill:"currentColor",d:"M192 896h640a64 64 0 0 0-64-64H256a64 64 0 0 0-64 64m64-128h512a128 128 0 0 1 128 128v64H128v-64a128 128 0 0 1 128-128m256-256a192 192 0 1 0 0-384 192 192 0 0 0 0 384m0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512"})]))}}),RSe=kSe,OSe=Be({name:"CopyDocument",__name:"copy-document",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M768 832a128 128 0 0 1-128 128H192A128 128 0 0 1 64 832V384a128 128 0 0 1 128-128v64a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64z"}),pe("path",{fill:"currentColor",d:"M384 128a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64V192a64 64 0 0 0-64-64zm0-64h448a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128H384a128 128 0 0 1-128-128V192A128 128 0 0 1 384 64"})]))}}),DSe=OSe,NSe=Be({name:"Cpu",__name:"cpu",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M320 256a64 64 0 0 0-64 64v384a64 64 0 0 0 64 64h384a64 64 0 0 0 64-64V320a64 64 0 0 0-64-64zm0-64h384a128 128 0 0 1 128 128v384a128 128 0 0 1-128 128H320a128 128 0 0 1-128-128V320a128 128 0 0 1 128-128"}),pe("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v128h-64V96a32 32 0 0 1 32-32m160 0a32 32 0 0 1 32 32v128h-64V96a32 32 0 0 1 32-32m-320 0a32 32 0 0 1 32 32v128h-64V96a32 32 0 0 1 32-32m160 896a32 32 0 0 1-32-32V800h64v128a32 32 0 0 1-32 32m160 0a32 32 0 0 1-32-32V800h64v128a32 32 0 0 1-32 32m-320 0a32 32 0 0 1-32-32V800h64v128a32 32 0 0 1-32 32M64 512a32 32 0 0 1 32-32h128v64H96a32 32 0 0 1-32-32m0-160a32 32 0 0 1 32-32h128v64H96a32 32 0 0 1-32-32m0 320a32 32 0 0 1 32-32h128v64H96a32 32 0 0 1-32-32m896-160a32 32 0 0 1-32 32H800v-64h128a32 32 0 0 1 32 32m0-160a32 32 0 0 1-32 32H800v-64h128a32 32 0 0 1 32 32m0 320a32 32 0 0 1-32 32H800v-64h128a32 32 0 0 1 32 32"})]))}}),USe=NSe,zSe=Be({name:"CreditCard",__name:"credit-card",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M896 324.096c0-42.368-2.496-55.296-9.536-68.48a52.352 52.352 0 0 0-22.144-22.08c-13.12-7.04-26.048-9.536-68.416-9.536H228.096c-42.368 0-55.296 2.496-68.48 9.536a52.352 52.352 0 0 0-22.08 22.144c-7.04 13.12-9.536 26.048-9.536 68.416v375.808c0 42.368 2.496 55.296 9.536 68.48a52.352 52.352 0 0 0 22.144 22.08c13.12 7.04 26.048 9.536 68.416 9.536h567.808c42.368 0 55.296-2.496 68.48-9.536a52.352 52.352 0 0 0 22.08-22.144c7.04-13.12 9.536-26.048 9.536-68.416zm64 0v375.808c0 57.088-5.952 77.76-17.088 98.56-11.136 20.928-27.52 37.312-48.384 48.448-20.864 11.136-41.6 17.088-98.56 17.088H228.032c-57.088 0-77.76-5.952-98.56-17.088a116.288 116.288 0 0 1-48.448-48.384c-11.136-20.864-17.088-41.6-17.088-98.56V324.032c0-57.088 5.952-77.76 17.088-98.56 11.136-20.928 27.52-37.312 48.384-48.448 20.864-11.136 41.6-17.088 98.56-17.088H795.84c57.088 0 77.76 5.952 98.56 17.088 20.928 11.136 37.312 27.52 48.448 48.384 11.136 20.864 17.088 41.6 17.088 98.56z"}),pe("path",{fill:"currentColor",d:"M64 320h896v64H64zm0 128h896v64H64zm128 192h256v64H192z"})]))}}),$Se=zSe,VSe=Be({name:"Crop",__name:"crop",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M256 768h672a32 32 0 1 1 0 64H224a32 32 0 0 1-32-32V96a32 32 0 0 1 64 0z"}),pe("path",{fill:"currentColor",d:"M832 224v704a32 32 0 1 1-64 0V256H96a32 32 0 0 1 0-64h704a32 32 0 0 1 32 32"})]))}}),HSe=VSe,QSe=Be({name:"DArrowLeft",__name:"d-arrow-left",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"})]))}}),ry=QSe,jSe=Be({name:"DArrowRight",__name:"d-arrow-right",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"})]))}}),iy=jSe,GSe=Be({name:"DCaret",__name:"d-caret",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m512 128 288 320H224zM224 576h576L512 896z"})]))}}),KSe=GSe,WSe=Be({name:"DataAnalysis",__name:"data-analysis",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m665.216 768 110.848 192h-73.856L591.36 768H433.024L322.176 960H248.32l110.848-192H160a32 32 0 0 1-32-32V192H64a32 32 0 0 1 0-64h896a32 32 0 1 1 0 64h-64v544a32 32 0 0 1-32 32zM832 192H192v512h640zM352 448a32 32 0 0 1 32 32v64a32 32 0 0 1-64 0v-64a32 32 0 0 1 32-32m160-64a32 32 0 0 1 32 32v128a32 32 0 0 1-64 0V416a32 32 0 0 1 32-32m160-64a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V352a32 32 0 0 1 32-32"})]))}}),qSe=WSe,YSe=Be({name:"DataBoard",__name:"data-board",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M32 128h960v64H32z"}),pe("path",{fill:"currentColor",d:"M192 192v512h640V192zm-64-64h768v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32z"}),pe("path",{fill:"currentColor",d:"M322.176 960H248.32l144.64-250.56 55.424 32zm453.888 0h-73.856L576 741.44l55.424-32z"})]))}}),XSe=YSe,ZSe=Be({name:"DataLine",__name:"data-line",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M359.168 768H160a32 32 0 0 1-32-32V192H64a32 32 0 0 1 0-64h896a32 32 0 1 1 0 64h-64v544a32 32 0 0 1-32 32H665.216l110.848 192h-73.856L591.36 768H433.024L322.176 960H248.32zM832 192H192v512h640zM342.656 534.656a32 32 0 1 1-45.312-45.312L444.992 341.76l125.44 94.08L679.04 300.032a32 32 0 1 1 49.92 39.936L581.632 524.224 451.008 426.24 342.656 534.592z"})]))}}),JSe=ZSe,eTe=Be({name:"DeleteFilled",__name:"delete-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M352 192V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64H96a32 32 0 0 1 0-64zm64 0h192v-64H416zM192 960a32 32 0 0 1-32-32V256h704v672a32 32 0 0 1-32 32zm224-192a32 32 0 0 0 32-32V416a32 32 0 0 0-64 0v320a32 32 0 0 0 32 32m192 0a32 32 0 0 0 32-32V416a32 32 0 0 0-64 0v320a32 32 0 0 0 32 32"})]))}}),tTe=eTe,nTe=Be({name:"DeleteLocation",__name:"delete-location",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M288 896h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32"}),pe("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416M512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544"}),pe("path",{fill:"currentColor",d:"M384 384h256q32 0 32 32t-32 32H384q-32 0-32-32t32-32"})]))}}),rTe=nTe,iTe=Be({name:"Delete",__name:"delete",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),Zne=iTe,aTe=Be({name:"Dessert",__name:"dessert",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M128 416v-48a144 144 0 0 1 168.64-141.888 224.128 224.128 0 0 1 430.72 0A144 144 0 0 1 896 368v48a384 384 0 0 1-352 382.72V896h-64v-97.28A384 384 0 0 1 128 416m287.104-32.064h193.792a143.808 143.808 0 0 1 58.88-132.736 160.064 160.064 0 0 0-311.552 0 143.808 143.808 0 0 1 58.88 132.8zm-72.896 0a72 72 0 1 0-140.48 0h140.48m339.584 0h140.416a72 72 0 1 0-140.48 0zM512 736a320 320 0 0 0 318.4-288.064H193.6A320 320 0 0 0 512 736M384 896.064h256a32 32 0 1 1 0 64H384a32 32 0 1 1 0-64"})]))}}),sTe=aTe,oTe=Be({name:"Discount",__name:"discount",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M224 704h576V318.336L552.512 115.84a64 64 0 0 0-81.024 0L224 318.336zm0 64v128h576V768zM593.024 66.304l259.2 212.096A32 32 0 0 1 864 303.168V928a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V303.168a32 32 0 0 1 11.712-24.768l259.2-212.096a128 128 0 0 1 162.112 0"}),pe("path",{fill:"currentColor",d:"M512 448a64 64 0 1 0 0-128 64 64 0 0 0 0 128m0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256"})]))}}),lTe=oTe,uTe=Be({name:"DishDot",__name:"dish-dot",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m384.064 274.56.064-50.688A128 128 0 0 1 512.128 96c70.528 0 127.68 57.152 127.68 127.68v50.752A448.192 448.192 0 0 1 955.392 768H68.544A448.192 448.192 0 0 1 384 274.56zM96 832h832a32 32 0 1 1 0 64H96a32 32 0 1 1 0-64m32-128h768a384 384 0 1 0-768 0m447.808-448v-32.32a63.68 63.68 0 0 0-63.68-63.68 64 64 0 0 0-64 63.936V256z"})]))}}),cTe=uTe,hTe=Be({name:"Dish",__name:"dish",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M480 257.152V192h-96a32 32 0 0 1 0-64h256a32 32 0 1 1 0 64h-96v65.152A448 448 0 0 1 955.52 768H68.48A448 448 0 0 1 480 257.152M128 704h768a384 384 0 1 0-768 0M96 832h832a32 32 0 1 1 0 64H96a32 32 0 1 1 0-64"})]))}}),dTe=hTe,fTe=Be({name:"DocumentAdd",__name:"document-add",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m320 512V448h64v128h128v64H544v128h-64V640H352v-64z"})]))}}),pTe=fTe,ATe=Be({name:"DocumentChecked",__name:"document-checked",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M805.504 320 640 154.496V320zM832 384H576V128H192v768h640zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m318.4 582.144 180.992-180.992L704.64 510.4 478.4 736.64 320 578.304l45.248-45.312z"})]))}}),mTe=ATe,gTe=Be({name:"DocumentCopy",__name:"document-copy",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M128 320v576h576V320zm-32-64h640a32 32 0 0 1 32 32v640a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V288a32 32 0 0 1 32-32M960 96v704a32 32 0 0 1-32 32h-96v-64h64V128H384v64h-64V96a32 32 0 0 1 32-32h576a32 32 0 0 1 32 32M256 672h320v64H256zm0-192h320v64H256z"})]))}}),vTe=gTe,_Te=Be({name:"DocumentDelete",__name:"document-delete",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M805.504 320 640 154.496V320zM832 384H576V128H192v768h640zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m308.992 546.304-90.496-90.624 45.248-45.248 90.56 90.496 90.496-90.432 45.248 45.248-90.496 90.56 90.496 90.496-45.248 45.248-90.496-90.496-90.56 90.496-45.248-45.248 90.496-90.496z"})]))}}),yTe=_Te,bTe=Be({name:"DocumentRemove",__name:"document-remove",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M805.504 320 640 154.496V320zM832 384H576V128H192v768h640zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m192 512h320v64H352z"})]))}}),wTe=bTe,xTe=Be({name:"Document",__name:"document",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),Jne=xTe,CTe=Be({name:"Download",__name:"download",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M160 832h704a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64m384-253.696 236.288-236.352 45.248 45.248L508.8 704 192 387.2l45.248-45.248L480 584.704V128h64z"})]))}}),ETe=CTe,STe=Be({name:"Drizzling",__name:"drizzling",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m739.328 291.328-35.2-6.592-12.8-33.408a192.064 192.064 0 0 0-365.952 23.232l-9.92 40.896-41.472 7.04a176.32 176.32 0 0 0-146.24 173.568c0 97.28 78.72 175.936 175.808 175.936h400a192 192 0 0 0 35.776-380.672zM959.552 480a256 256 0 0 1-256 256h-400A239.808 239.808 0 0 1 63.744 496.192a240.32 240.32 0 0 1 199.488-236.8 256.128 256.128 0 0 1 487.872-30.976A256.064 256.064 0 0 1 959.552 480M288 800h64v64h-64zm192 0h64v64h-64zm-96 96h64v64h-64zm192 0h64v64h-64zm96-96h64v64h-64z"})]))}}),TTe=STe,BTe=Be({name:"EditPen",__name:"edit-pen",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m199.04 672.64 193.984 112 224-387.968-193.92-112-224 388.032zm-23.872 60.16 32.896 148.288 144.896-45.696zM455.04 229.248l193.92 112 56.704-98.112-193.984-112-56.64 98.112zM104.32 708.8l384-665.024 304.768 175.936L409.152 884.8h.064l-248.448 78.336zm384 254.272v-64h448v64h-448z"})]))}}),MTe=BTe,ITe=Be({name:"Edit",__name:"edit",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M832 512a32 32 0 1 1 64 0v352a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h352a32 32 0 0 1 0 64H192v640h640z"}),pe("path",{fill:"currentColor",d:"m469.952 554.24 52.8-7.552L847.104 222.4a32 32 0 1 0-45.248-45.248L477.44 501.44l-7.552 52.8zm422.4-422.4a96 96 0 0 1 0 135.808l-331.84 331.84a32 32 0 0 1-18.112 9.088L436.8 623.68a32 32 0 0 1-36.224-36.224l15.104-105.6a32 32 0 0 1 9.024-18.112l331.904-331.84a96 96 0 0 1 135.744 0z"})]))}}),LTe=ITe,PTe=Be({name:"ElemeFilled",__name:"eleme-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M176 64h672c61.824 0 112 50.176 112 112v672a112 112 0 0 1-112 112H176A112 112 0 0 1 64 848V176c0-61.824 50.176-112 112-112m150.528 173.568c-152.896 99.968-196.544 304.064-97.408 456.96a330.688 330.688 0 0 0 456.96 96.64c9.216-5.888 17.6-11.776 25.152-18.56a18.24 18.24 0 0 0 4.224-24.32L700.352 724.8a47.552 47.552 0 0 0-65.536-14.272A234.56 234.56 0 0 1 310.592 641.6C240 533.248 271.104 387.968 379.456 316.48a234.304 234.304 0 0 1 276.352 15.168c1.664.832 2.56 2.56 3.392 4.224 5.888 8.384 3.328 19.328-5.12 25.216L456.832 489.6a47.552 47.552 0 0 0-14.336 65.472l16 24.384c5.888 8.384 16.768 10.88 25.216 5.056l308.224-199.936a19.584 19.584 0 0 0 6.72-23.488v-.896c-4.992-9.216-10.048-17.6-15.104-26.88-99.968-151.168-304.064-194.88-456.96-95.744zM786.88 504.704l-62.208 40.32c-8.32 5.888-10.88 16.768-4.992 25.216L760 632.32c5.888 8.448 16.768 11.008 25.152 5.12l31.104-20.16a55.36 55.36 0 0 0 16-76.48l-20.224-31.04a19.52 19.52 0 0 0-25.152-5.12z"})]))}}),FTe=PTe,kTe=Be({name:"Eleme",__name:"eleme",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M300.032 188.8c174.72-113.28 408-63.36 522.24 109.44 5.76 10.56 11.52 20.16 17.28 30.72v.96a22.4 22.4 0 0 1-7.68 26.88l-352.32 228.48c-9.6 6.72-22.08 3.84-28.8-5.76l-18.24-27.84a54.336 54.336 0 0 1 16.32-74.88l225.6-146.88c9.6-6.72 12.48-19.2 5.76-28.8-.96-1.92-1.92-3.84-3.84-4.8a267.84 267.84 0 0 0-315.84-17.28c-123.84 81.6-159.36 247.68-78.72 371.52a268.096 268.096 0 0 0 370.56 78.72 54.336 54.336 0 0 1 74.88 16.32l17.28 26.88c5.76 9.6 3.84 21.12-4.8 27.84-8.64 7.68-18.24 14.4-28.8 21.12a377.92 377.92 0 0 1-522.24-110.4c-113.28-174.72-63.36-408 111.36-522.24zm526.08 305.28a22.336 22.336 0 0 1 28.8 5.76l23.04 35.52a63.232 63.232 0 0 1-18.24 87.36l-35.52 23.04c-9.6 6.72-22.08 3.84-28.8-5.76l-46.08-71.04c-6.72-9.6-3.84-22.08 5.76-28.8l71.04-46.08z"})]))}}),RTe=kTe,OTe=Be({name:"ElementPlus",__name:"element-plus",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M839.7 734.7c0 33.3-17.9 41-17.9 41S519.7 949.8 499.2 960c-10.2 5.1-20.5 5.1-30.7 0 0 0-314.9-184.3-325.1-192-5.1-5.1-10.2-12.8-12.8-20.5V368.6c0-17.9 20.5-28.2 20.5-28.2L466 158.6c12.8-5.1 25.6-5.1 38.4 0 0 0 279 161.3 309.8 179.2 17.9 7.7 28.2 25.6 25.6 46.1-.1-5-.1 317.5-.1 350.8M714.2 371.2c-64-35.8-217.6-125.4-217.6-125.4-7.7-5.1-20.5-5.1-30.7 0L217.6 389.1s-17.9 10.2-17.9 23v297c0 5.1 5.1 12.8 7.7 17.9 7.7 5.1 256 148.5 256 148.5 7.7 5.1 17.9 5.1 25.6 0 15.4-7.7 250.9-145.9 250.9-145.9s12.8-5.1 12.8-30.7v-74.2l-276.5 169v-64c0-17.9 7.7-30.7 20.5-46.1L745 535c5.1-7.7 10.2-20.5 10.2-30.7v-66.6l-279 169v-69.1c0-15.4 5.1-30.7 17.9-38.4l220.1-128zM919 135.7c0-5.1-5.1-7.7-7.7-7.7h-58.9V66.6c0-5.1-5.1-5.1-10.2-5.1l-30.7 5.1c-5.1 0-5.1 2.6-5.1 5.1V128h-56.3c-5.1 0-5.1 5.1-7.7 5.1v38.4h69.1v64c0 5.1 5.1 5.1 10.2 5.1l30.7-5.1c5.1 0 5.1-2.6 5.1-5.1v-56.3h64l-2.5-38.4z"})]))}}),DTe=OTe,NTe=Be({name:"Expand",__name:"expand",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M128 192h768v128H128zm0 256h512v128H128zm0 256h768v128H128zm576-352 192 160-192 128z"})]))}}),UTe=NTe,zTe=Be({name:"Failed",__name:"failed",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m557.248 608 135.744-135.744-45.248-45.248-135.68 135.744-135.808-135.68-45.248 45.184L466.752 608l-135.68 135.68 45.184 45.312L512 653.248l135.744 135.744 45.248-45.248L557.312 608zM704 192h160v736H160V192h160v64h384zm-320 0V96h256v96z"})]))}}),$Te=zTe,VTe=Be({name:"Female",__name:"female",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 640a256 256 0 1 0 0-512 256 256 0 0 0 0 512m0 64a320 320 0 1 1 0-640 320 320 0 0 1 0 640"}),pe("path",{fill:"currentColor",d:"M512 640q32 0 32 32v256q0 32-32 32t-32-32V672q0-32 32-32"}),pe("path",{fill:"currentColor",d:"M352 800h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32"})]))}}),HTe=VTe,QTe=Be({name:"Files",__name:"files",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M128 384v448h768V384zm-32-64h832a32 32 0 0 1 32 32v512a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V352a32 32 0 0 1 32-32m64-128h704v64H160zm96-128h512v64H256z"})]))}}),jTe=QTe,GTe=Be({name:"Film",__name:"film",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M160 160v704h704V160zm-32-64h768a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H128a32 32 0 0 1-32-32V128a32 32 0 0 1 32-32"}),pe("path",{fill:"currentColor",d:"M320 288V128h64v352h256V128h64v160h160v64H704v128h160v64H704v128h160v64H704v160h-64V544H384v352h-64V736H128v-64h192V544H128v-64h192V352H128v-64z"})]))}}),KTe=GTe,WTe=Be({name:"Filter",__name:"filter",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M384 523.392V928a32 32 0 0 0 46.336 28.608l192-96A32 32 0 0 0 640 832V523.392l280.768-343.104a32 32 0 1 0-49.536-40.576l-288 352A32 32 0 0 0 576 512v300.224l-128 64V512a32 32 0 0 0-7.232-20.288L195.52 192H704a32 32 0 1 0 0-64H128a32 32 0 0 0-24.768 52.288z"})]))}}),qTe=WTe,YTe=Be({name:"Finished",__name:"finished",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M280.768 753.728 691.456 167.04a32 32 0 1 1 52.416 36.672L314.24 817.472a32 32 0 0 1-45.44 7.296l-230.4-172.8a32 32 0 0 1 38.4-51.2l203.968 152.96zM736 448a32 32 0 1 1 0-64h192a32 32 0 1 1 0 64zM608 640a32 32 0 0 1 0-64h319.936a32 32 0 1 1 0 64zM480 832a32 32 0 1 1 0-64h447.936a32 32 0 1 1 0 64z"})]))}}),XTe=YTe,ZTe=Be({name:"FirstAidKit",__name:"first-aid-kit",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M192 256a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V320a64 64 0 0 0-64-64zm0-64h640a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128H192A128 128 0 0 1 64 768V320a128 128 0 0 1 128-128"}),pe("path",{fill:"currentColor",d:"M544 512h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96v-96a32 32 0 0 1 64 0zM352 128v64h320v-64zm-32-64h384a32 32 0 0 1 32 32v128a32 32 0 0 1-32 32H320a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32"})]))}}),JTe=ZTe,e8e=Be({name:"Flag",__name:"flag",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M288 128h608L736 384l160 256H288v320h-96V64h96z"})]))}}),t8e=e8e,n8e=Be({name:"Fold",__name:"fold",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M896 192H128v128h768zm0 256H384v128h512zm0 256H128v128h768zM320 384 128 512l192 128z"})]))}}),r8e=n8e,i8e=Be({name:"FolderAdd",__name:"folder-add",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32m384 416V416h64v128h128v64H544v128h-64V608H352v-64z"})]))}}),a8e=i8e,s8e=Be({name:"FolderChecked",__name:"folder-checked",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32m414.08 502.144 180.992-180.992L736.32 494.4 510.08 720.64l-158.4-158.336 45.248-45.312z"})]))}}),o8e=s8e,l8e=Be({name:"FolderDelete",__name:"folder-delete",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32m370.752 448-90.496-90.496 45.248-45.248L512 530.752l90.496-90.496 45.248 45.248L557.248 576l90.496 90.496-45.248 45.248L512 621.248l-90.496 90.496-45.248-45.248z"})]))}}),u8e=l8e,c8e=Be({name:"FolderOpened",__name:"folder-opened",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M878.08 448H241.92l-96 384h636.16l96-384zM832 384v-64H485.76L357.504 192H128v448l57.92-231.744A32 32 0 0 1 216.96 384zm-24.96 512H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h287.872l128.384 128H864a32 32 0 0 1 32 32v96h23.04a32 32 0 0 1 31.04 39.744l-112 448A32 32 0 0 1 807.04 896"})]))}}),h8e=c8e,d8e=Be({name:"FolderRemove",__name:"folder-remove",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32m256 416h320v64H352z"})]))}}),f8e=d8e,p8e=Be({name:"Folder",__name:"folder",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32"})]))}}),A8e=p8e,m8e=Be({name:"Food",__name:"food",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M128 352.576V352a288 288 0 0 1 491.072-204.224 192 192 0 0 1 274.24 204.48 64 64 0 0 1 57.216 74.24C921.6 600.512 850.048 710.656 736 756.992V800a96 96 0 0 1-96 96H384a96 96 0 0 1-96-96v-43.008c-114.048-46.336-185.6-156.48-214.528-330.496A64 64 0 0 1 128 352.64zm64-.576h64a160 160 0 0 1 320 0h64a224 224 0 0 0-448 0m128 0h192a96 96 0 0 0-192 0m439.424 0h68.544A128.256 128.256 0 0 0 704 192c-15.36 0-29.952 2.688-43.52 7.616 11.328 18.176 20.672 37.76 27.84 58.304A64.128 64.128 0 0 1 759.424 352M672 768H352v32a32 32 0 0 0 32 32h256a32 32 0 0 0 32-32zm-342.528-64h365.056c101.504-32.64 165.76-124.928 192.896-288H136.576c27.136 163.072 91.392 255.36 192.896 288"})]))}}),g8e=m8e,v8e=Be({name:"Football",__name:"football",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 960a448 448 0 1 1 0-896 448 448 0 0 1 0 896m0-64a384 384 0 1 0 0-768 384 384 0 0 0 0 768"}),pe("path",{fill:"currentColor",d:"M186.816 268.288c16-16.384 31.616-31.744 46.976-46.08 17.472 30.656 39.808 58.112 65.984 81.28l-32.512 56.448a385.984 385.984 0 0 1-80.448-91.648zm653.696-5.312a385.92 385.92 0 0 1-83.776 96.96l-32.512-56.384a322.923 322.923 0 0 0 68.48-85.76c15.552 14.08 31.488 29.12 47.808 45.184zM465.984 445.248l11.136-63.104a323.584 323.584 0 0 0 69.76 0l11.136 63.104a387.968 387.968 0 0 1-92.032 0m-62.72-12.8A381.824 381.824 0 0 1 320 396.544l32-55.424a319.885 319.885 0 0 0 62.464 27.712l-11.2 63.488zm300.8-35.84a381.824 381.824 0 0 1-83.328 35.84l-11.2-63.552A319.885 319.885 0 0 0 672 341.184l32 55.424zm-520.768 364.8a385.92 385.92 0 0 1 83.968-97.28l32.512 56.32c-26.88 23.936-49.856 52.352-67.52 84.032-16-13.44-32.32-27.712-48.96-43.072zm657.536.128a1442.759 1442.759 0 0 1-49.024 43.072 321.408 321.408 0 0 0-67.584-84.16l32.512-56.32c33.216 27.456 61.696 60.352 84.096 97.408zM465.92 578.752a387.968 387.968 0 0 1 92.032 0l-11.136 63.104a323.584 323.584 0 0 0-69.76 0zm-62.72 12.8 11.2 63.552a319.885 319.885 0 0 0-62.464 27.712L320 627.392a381.824 381.824 0 0 1 83.264-35.84zm300.8 35.84-32 55.424a318.272 318.272 0 0 0-62.528-27.712l11.2-63.488c29.44 8.64 57.28 20.736 83.264 35.776z"})]))}}),_8e=v8e,y8e=Be({name:"ForkSpoon",__name:"fork-spoon",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M256 410.304V96a32 32 0 0 1 64 0v314.304a96 96 0 0 0 64-90.56V96a32 32 0 0 1 64 0v223.744a160 160 0 0 1-128 156.8V928a32 32 0 1 1-64 0V476.544a160 160 0 0 1-128-156.8V96a32 32 0 0 1 64 0v223.744a96 96 0 0 0 64 90.56zM672 572.48C581.184 552.128 512 446.848 512 320c0-141.44 85.952-256 192-256s192 114.56 192 256c0 126.848-69.184 232.128-160 252.48V928a32 32 0 1 1-64 0zM704 512c66.048 0 128-82.56 128-192s-61.952-192-128-192-128 82.56-128 192 61.952 192 128 192"})]))}}),b8e=y8e,w8e=Be({name:"Fries",__name:"fries",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M608 224v-64a32 32 0 0 0-64 0v336h26.88A64 64 0 0 0 608 484.096zm101.12 160A64 64 0 0 0 672 395.904V384h64V224a32 32 0 1 0-64 0v160zm74.88 0a92.928 92.928 0 0 1 91.328 110.08l-60.672 323.584A96 96 0 0 1 720.32 896H303.68a96 96 0 0 1-94.336-78.336L148.672 494.08A92.928 92.928 0 0 1 240 384h-16V224a96 96 0 0 1 188.608-25.28A95.744 95.744 0 0 1 480 197.44V160a96 96 0 0 1 188.608-25.28A96 96 0 0 1 800 224v160zM670.784 512a128 128 0 0 1-99.904 48H453.12a128 128 0 0 1-99.84-48H352v-1.536a128.128 128.128 0 0 1-9.984-14.976L314.88 448H240a28.928 28.928 0 0 0-28.48 34.304L241.088 640h541.824l29.568-157.696A28.928 28.928 0 0 0 784 448h-74.88l-27.136 47.488A132.405 132.405 0 0 1 672 510.464V512zM480 288a32 32 0 0 0-64 0v196.096A64 64 0 0 0 453.12 496H480zm-128 96V224a32 32 0 0 0-64 0v160zh-37.12A64 64 0 0 1 352 395.904zm-98.88 320 19.072 101.888A32 32 0 0 0 303.68 832h416.64a32 32 0 0 0 31.488-26.112L770.88 704z"})]))}}),x8e=w8e,C8e=Be({name:"FullScreen",__name:"full-screen",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),ere=C8e,E8e=Be({name:"GobletFull",__name:"goblet-full",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M256 320h512c0-78.592-12.608-142.4-36.928-192h-434.24C269.504 192.384 256 256.256 256 320m503.936 64H264.064a256.128 256.128 0 0 0 495.872 0zM544 638.4V896h96a32 32 0 1 1 0 64H384a32 32 0 1 1 0-64h96V638.4A320 320 0 0 1 192 320c0-85.632 21.312-170.944 64-256h512c42.688 64.32 64 149.632 64 256a320 320 0 0 1-288 318.4"})]))}}),S8e=E8e,T8e=Be({name:"GobletSquareFull",__name:"goblet-square-full",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M256 270.912c10.048 6.72 22.464 14.912 28.992 18.624a220.16 220.16 0 0 0 114.752 30.72c30.592 0 49.408-9.472 91.072-41.152l.64-.448c52.928-40.32 82.368-55.04 132.288-54.656 55.552.448 99.584 20.8 142.72 57.408l1.536 1.28V128H256v142.912zm.96 76.288C266.368 482.176 346.88 575.872 512 576c157.44.064 237.952-85.056 253.248-209.984a952.32 952.32 0 0 1-40.192-35.712c-32.704-27.776-63.36-41.92-101.888-42.24-31.552-.256-50.624 9.28-93.12 41.6l-.576.448c-52.096 39.616-81.024 54.208-129.792 54.208-54.784 0-100.48-13.376-142.784-37.056zM480 638.848C250.624 623.424 192 442.496 192 319.68V96a32 32 0 0 1 32-32h576a32 32 0 0 1 32 32v224c0 122.816-58.624 303.68-288 318.912V896h96a32 32 0 1 1 0 64H384a32 32 0 1 1 0-64h96z"})]))}}),B8e=T8e,M8e=Be({name:"GobletSquare",__name:"goblet-square",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M544 638.912V896h96a32 32 0 1 1 0 64H384a32 32 0 1 1 0-64h96V638.848C250.624 623.424 192 442.496 192 319.68V96a32 32 0 0 1 32-32h576a32 32 0 0 1 32 32v224c0 122.816-58.624 303.68-288 318.912M256 319.68c0 149.568 80 256.192 256 256.256C688.128 576 768 469.568 768 320V128H256z"})]))}}),I8e=M8e,L8e=Be({name:"Goblet",__name:"goblet",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M544 638.4V896h96a32 32 0 1 1 0 64H384a32 32 0 1 1 0-64h96V638.4A320 320 0 0 1 192 320c0-85.632 21.312-170.944 64-256h512c42.688 64.32 64 149.632 64 256a320 320 0 0 1-288 318.4M256 320a256 256 0 1 0 512 0c0-78.592-12.608-142.4-36.928-192h-434.24C269.504 192.384 256 256.256 256 320"})]))}}),P8e=L8e,F8e=Be({name:"GoldMedal",__name:"gold-medal",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m772.13 452.84 53.86-351.81c1.32-10.01-1.17-18.68-7.49-26.02S804.35 64 795.01 64H228.99v-.01h-.06c-9.33 0-17.15 3.67-23.49 11.01s-8.83 16.01-7.49 26.02l53.87 351.89C213.54 505.73 193.59 568.09 192 640c2 90.67 33.17 166.17 93.5 226.5S421.33 957.99 512 960c90.67-2 166.17-33.17 226.5-93.5 60.33-60.34 91.49-135.83 93.5-226.5-1.59-71.94-21.56-134.32-59.87-187.16zM640.01 128h117.02l-39.01 254.02c-20.75-10.64-40.74-19.73-59.94-27.28-5.92-3-11.95-5.8-18.08-8.41V128h.01zM576 128v198.76c-13.18-2.58-26.74-4.43-40.67-5.55-8.07-.8-15.85-1.2-23.33-1.2-10.54 0-21.09.66-31.64 1.96a359.844 359.844 0 0 0-32.36 4.79V128zm-192 0h.04v218.3c-6.22 2.66-12.34 5.5-18.36 8.56-19.13 7.54-39.02 16.6-59.66 27.16L267.01 128zm308.99 692.99c-48 48-108.33 73-180.99 75.01-72.66-2.01-132.99-27.01-180.99-75.01S258.01 712.66 256 640c2.01-72.66 27.01-132.99 75.01-180.99 19.67-19.67 41.41-35.47 65.22-47.41 38.33-15.04 71.15-23.92 98.44-26.65 5.07-.41 10.2-.7 15.39-.88.63-.01 1.28-.03 1.91-.03.66 0 1.35.03 2.02.04 5.11.17 10.15.46 15.13.86 27.4 2.71 60.37 11.65 98.91 26.79 23.71 11.93 45.36 27.69 64.96 47.29 48 48 73 108.33 75.01 180.99-2.01 72.65-27.01 132.98-75.01 180.98z"}),pe("path",{fill:"currentColor",d:"M544 480H416v64h64v192h-64v64h192v-64h-64z"})]))}}),k8e=F8e,R8e=Be({name:"GoodsFilled",__name:"goods-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M192 352h640l64 544H128zm128 224h64V448h-64zm320 0h64V448h-64zM384 288h-64a192 192 0 1 1 384 0h-64a128 128 0 1 0-256 0"})]))}}),O8e=R8e,D8e=Be({name:"Goods",__name:"goods",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M320 288v-22.336C320 154.688 405.504 64 512 64s192 90.688 192 201.664v22.4h131.072a32 32 0 0 1 31.808 28.8l57.6 576a32 32 0 0 1-31.808 35.2H131.328a32 32 0 0 1-31.808-35.2l57.6-576a32 32 0 0 1 31.808-28.8H320zm64 0h256v-22.336C640 189.248 582.272 128 512 128c-70.272 0-128 61.248-128 137.664v22.4zm-64 64H217.92l-51.2 512h690.56l-51.264-512H704v96a32 32 0 1 1-64 0v-96H384v96a32 32 0 0 1-64 0z"})]))}}),N8e=D8e,U8e=Be({name:"Grape",__name:"grape",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M544 195.2a160 160 0 0 1 96 60.8 160 160 0 1 1 146.24 254.976 160 160 0 0 1-128 224 160 160 0 1 1-292.48 0 160 160 0 0 1-128-224A160 160 0 1 1 384 256a160 160 0 0 1 96-60.8V128h-64a32 32 0 0 1 0-64h192a32 32 0 0 1 0 64h-64zM512 448a96 96 0 1 0 0-192 96 96 0 0 0 0 192m-256 0a96 96 0 1 0 0-192 96 96 0 0 0 0 192m128 224a96 96 0 1 0 0-192 96 96 0 0 0 0 192m128 224a96 96 0 1 0 0-192 96 96 0 0 0 0 192m128-224a96 96 0 1 0 0-192 96 96 0 0 0 0 192m128-224a96 96 0 1 0 0-192 96 96 0 0 0 0 192"})]))}}),z8e=U8e,$8e=Be({name:"Grid",__name:"grid",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M640 384v256H384V384zm64 0h192v256H704zm-64 512H384V704h256zm64 0V704h192v192zm-64-768v192H384V128zm64 0h192v192H704zM320 384v256H128V384zm0 512H128V704h192zm0-768v192H128V128z"})]))}}),V8e=$8e,H8e=Be({name:"Guide",__name:"guide",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M640 608h-64V416h64zm0 160v160a32 32 0 0 1-32 32H416a32 32 0 0 1-32-32V768h64v128h128V768zM384 608V416h64v192zm256-352h-64V128H448v128h-64V96a32 32 0 0 1 32-32h192a32 32 0 0 1 32 32z"}),pe("path",{fill:"currentColor",d:"m220.8 256-71.232 80 71.168 80H768V256H220.8zm-14.4-64H800a32 32 0 0 1 32 32v224a32 32 0 0 1-32 32H206.4a32 32 0 0 1-23.936-10.752l-99.584-112a32 32 0 0 1 0-42.496l99.584-112A32 32 0 0 1 206.4 192m678.784 496-71.104 80H266.816V608h547.2l71.168 80zm-56.768-144H234.88a32 32 0 0 0-32 32v224a32 32 0 0 0 32 32h593.6a32 32 0 0 0 23.936-10.752l99.584-112a32 32 0 0 0 0-42.496l-99.584-112A32 32 0 0 0 828.48 544z"})]))}}),Q8e=H8e,j8e=Be({name:"Handbag",__name:"handbag",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M887.01 264.99c-6-5.99-13.67-8.99-23.01-8.99H704c-1.34-54.68-20.01-100.01-56-136s-81.32-54.66-136-56c-54.68 1.34-100.01 20.01-136 56s-54.66 81.32-56 136H160c-9.35 0-17.02 3-23.01 8.99-5.99 6-8.99 13.67-8.99 23.01v640c0 9.35 2.99 17.02 8.99 23.01S150.66 960 160 960h704c9.35 0 17.02-2.99 23.01-8.99S896 937.34 896 928V288c0-9.35-2.99-17.02-8.99-23.01M421.5 165.5c24.32-24.34 54.49-36.84 90.5-37.5 35.99.68 66.16 13.18 90.5 37.5s36.84 54.49 37.5 90.5H384c.68-35.99 13.18-66.16 37.5-90.5M832 896H192V320h128v128h64V320h256v128h64V320h128z"})]))}}),G8e=j8e,K8e=Be({name:"Headset",__name:"headset",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M896 529.152V512a384 384 0 1 0-768 0v17.152A128 128 0 0 1 320 640v128a128 128 0 1 1-256 0V512a448 448 0 1 1 896 0v256a128 128 0 1 1-256 0V640a128 128 0 0 1 192-110.848M896 640a64 64 0 0 0-128 0v128a64 64 0 0 0 128 0zm-768 0v128a64 64 0 0 0 128 0V640a64 64 0 1 0-128 0"})]))}}),W8e=K8e,q8e=Be({name:"HelpFilled",__name:"help-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M926.784 480H701.312A192.512 192.512 0 0 0 544 322.688V97.216A416.064 416.064 0 0 1 926.784 480m0 64A416.064 416.064 0 0 1 544 926.784V701.312A192.512 192.512 0 0 0 701.312 544zM97.28 544h225.472A192.512 192.512 0 0 0 480 701.312v225.472A416.064 416.064 0 0 1 97.216 544zm0-64A416.064 416.064 0 0 1 480 97.216v225.472A192.512 192.512 0 0 0 322.688 480H97.216z"})]))}}),Y8e=q8e,X8e=Be({name:"Help",__name:"help",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m759.936 805.248-90.944-91.008A254.912 254.912 0 0 1 512 768a254.912 254.912 0 0 1-156.992-53.76l-90.944 91.008A382.464 382.464 0 0 0 512 896c94.528 0 181.12-34.176 247.936-90.752m45.312-45.312A382.464 382.464 0 0 0 896 512c0-94.528-34.176-181.12-90.752-247.936l-91.008 90.944C747.904 398.4 768 452.864 768 512c0 59.136-20.096 113.6-53.76 156.992l91.008 90.944zm-45.312-541.184A382.464 382.464 0 0 0 512 128c-94.528 0-181.12 34.176-247.936 90.752l90.944 91.008A254.912 254.912 0 0 1 512 256c59.136 0 113.6 20.096 156.992 53.76l90.944-91.008zm-541.184 45.312A382.464 382.464 0 0 0 128 512c0 94.528 34.176 181.12 90.752 247.936l91.008-90.944A254.912 254.912 0 0 1 256 512c0-59.136 20.096-113.6 53.76-156.992zm417.28 394.496a194.56 194.56 0 0 0 22.528-22.528C686.912 602.56 704 559.232 704 512a191.232 191.232 0 0 0-67.968-146.56A191.296 191.296 0 0 0 512 320a191.232 191.232 0 0 0-146.56 67.968C337.088 421.44 320 464.768 320 512a191.232 191.232 0 0 0 67.968 146.56C421.44 686.912 464.768 704 512 704c47.296 0 90.56-17.088 124.032-45.44zM512 960a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),Z8e=X8e,J8e=Be({name:"Hide",__name:"hide",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),pe("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),tre=J8e,eBe=Be({name:"Histogram",__name:"histogram",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M416 896V128h192v768zm-288 0V448h192v448zm576 0V320h192v576z"})]))}}),tBe=eBe,nBe=Be({name:"HomeFilled",__name:"home-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 128 128 447.936V896h255.936V640H640v256h255.936V447.936z"})]))}}),rBe=nBe,iBe=Be({name:"HotWater",__name:"hot-water",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M273.067 477.867h477.866V409.6H273.067zm0 68.266v51.2A187.733 187.733 0 0 0 460.8 785.067h102.4a187.733 187.733 0 0 0 187.733-187.734v-51.2H273.067zm-34.134-204.8h546.134a34.133 34.133 0 0 1 34.133 34.134v221.866a256 256 0 0 1-256 256H460.8a256 256 0 0 1-256-256V375.467a34.133 34.133 0 0 1 34.133-34.134zM512 34.133a34.133 34.133 0 0 1 34.133 34.134v170.666a34.133 34.133 0 0 1-68.266 0V68.267A34.133 34.133 0 0 1 512 34.133zM375.467 102.4a34.133 34.133 0 0 1 34.133 34.133v102.4a34.133 34.133 0 0 1-68.267 0v-102.4a34.133 34.133 0 0 1 34.134-34.133m273.066 0a34.133 34.133 0 0 1 34.134 34.133v102.4a34.133 34.133 0 1 1-68.267 0v-102.4a34.133 34.133 0 0 1 34.133-34.133M170.667 921.668h682.666a34.133 34.133 0 1 1 0 68.267H170.667a34.133 34.133 0 1 1 0-68.267z"})]))}}),aBe=iBe,sBe=Be({name:"House",__name:"house",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M192 413.952V896h640V413.952L512 147.328zM139.52 374.4l352-293.312a32 32 0 0 1 40.96 0l352 293.312A32 32 0 0 1 896 398.976V928a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V398.976a32 32 0 0 1 11.52-24.576"})]))}}),oBe=sBe,lBe=Be({name:"IceCreamRound",__name:"ice-cream-round",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m308.352 489.344 226.304 226.304a32 32 0 0 0 45.248 0L783.552 512A192 192 0 1 0 512 240.448L308.352 444.16a32 32 0 0 0 0 45.248zm135.744 226.304L308.352 851.392a96 96 0 0 1-135.744-135.744l135.744-135.744-45.248-45.248a96 96 0 0 1 0-135.808L466.752 195.2A256 256 0 0 1 828.8 557.248L625.152 760.96a96 96 0 0 1-135.808 0l-45.248-45.248zM398.848 670.4 353.6 625.152 217.856 760.896a32 32 0 0 0 45.248 45.248zm248.96-384.64a32 32 0 0 1 0 45.248L466.624 512a32 32 0 1 1-45.184-45.248l180.992-181.056a32 32 0 0 1 45.248 0zm90.496 90.496a32 32 0 0 1 0 45.248L557.248 602.496A32 32 0 1 1 512 557.248l180.992-180.992a32 32 0 0 1 45.312 0z"})]))}}),uBe=lBe,cBe=Be({name:"IceCreamSquare",__name:"ice-cream-square",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M416 640h256a32 32 0 0 0 32-32V160a32 32 0 0 0-32-32H352a32 32 0 0 0-32 32v448a32 32 0 0 0 32 32zm192 64v160a96 96 0 0 1-192 0V704h-64a96 96 0 0 1-96-96V160a96 96 0 0 1 96-96h320a96 96 0 0 1 96 96v448a96 96 0 0 1-96 96zm-64 0h-64v160a32 32 0 1 0 64 0z"})]))}}),hBe=cBe,dBe=Be({name:"IceCream",__name:"ice-cream",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M128.64 448a208 208 0 0 1 193.536-191.552 224 224 0 0 1 445.248 15.488A208.128 208.128 0 0 1 894.784 448H896L548.8 983.68a32 32 0 0 1-53.248.704L128 448zm64.256 0h286.208a144 144 0 0 0-286.208 0zm351.36 0h286.272a144 144 0 0 0-286.272 0zm-294.848 64 271.808 396.608L778.24 512H249.408zM511.68 352.64a207.872 207.872 0 0 1 189.184-96.192 160 160 0 0 0-314.752 5.632c52.608 12.992 97.28 46.08 125.568 90.56"})]))}}),fBe=dBe,pBe=Be({name:"IceDrink",__name:"ice-drink",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 448v128h239.68l16.064-128zm-64 0H256.256l16.064 128H448zm64-255.36V384h247.744A256.128 256.128 0 0 0 512 192.64m-64 8.064A256.448 256.448 0 0 0 264.256 384H448zm64-72.064A320.128 320.128 0 0 1 825.472 384H896a32 32 0 1 1 0 64h-64v1.92l-56.96 454.016A64 64 0 0 1 711.552 960H312.448a64 64 0 0 1-63.488-56.064L192 449.92V448h-64a32 32 0 0 1 0-64h70.528A320.384 320.384 0 0 1 448 135.04V96a96 96 0 0 1 96-96h128a32 32 0 1 1 0 64H544a32 32 0 0 0-32 32zM743.68 640H280.32l32.128 256h399.104z"})]))}}),ABe=pBe,mBe=Be({name:"IceTea",__name:"ice-tea",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M197.696 259.648a320.128 320.128 0 0 1 628.608 0A96 96 0 0 1 896 352v64a96 96 0 0 1-71.616 92.864l-49.408 395.072A64 64 0 0 1 711.488 960H312.512a64 64 0 0 1-63.488-56.064l-49.408-395.072A96 96 0 0 1 128 416v-64a96 96 0 0 1 69.696-92.352M264.064 256h495.872a256.128 256.128 0 0 0-495.872 0m495.424 256H264.512l48 384h398.976zM224 448h576a32 32 0 0 0 32-32v-64a32 32 0 0 0-32-32H224a32 32 0 0 0-32 32v64a32 32 0 0 0 32 32m160 192h64v64h-64zm192 64h64v64h-64zm-128 64h64v64h-64zm64-192h64v64h-64z"})]))}}),gBe=mBe,vBe=Be({name:"InfoFilled",__name:"info-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),tB=vBe,_Be=Be({name:"Iphone",__name:"iphone",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M224 768v96.064a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64V768zm0-64h576V160a64 64 0 0 0-64-64H288a64 64 0 0 0-64 64zm32 288a96 96 0 0 1-96-96V128a96 96 0 0 1 96-96h512a96 96 0 0 1 96 96v768a96 96 0 0 1-96 96zm304-144a48 48 0 1 1-96 0 48 48 0 0 1 96 0"})]))}}),yBe=_Be,bBe=Be({name:"Key",__name:"key",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M448 456.064V96a32 32 0 0 1 32-32.064L672 64a32 32 0 0 1 0 64H512v128h160a32 32 0 0 1 0 64H512v128a256 256 0 1 1-64 8.064M512 896a192 192 0 1 0 0-384 192 192 0 0 0 0 384"})]))}}),wBe=bBe,xBe=Be({name:"KnifeFork",__name:"knife-fork",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M256 410.56V96a32 32 0 0 1 64 0v314.56A96 96 0 0 0 384 320V96a32 32 0 0 1 64 0v224a160 160 0 0 1-128 156.8V928a32 32 0 1 1-64 0V476.8A160 160 0 0 1 128 320V96a32 32 0 0 1 64 0v224a96 96 0 0 0 64 90.56m384-250.24V544h126.72c-3.328-78.72-12.928-147.968-28.608-207.744-14.336-54.528-46.848-113.344-98.112-175.872zM640 608v320a32 32 0 1 1-64 0V64h64c85.312 89.472 138.688 174.848 160 256 21.312 81.152 32 177.152 32 288z"})]))}}),CBe=xBe,EBe=Be({name:"Lightning",__name:"lightning",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M288 671.36v64.128A239.808 239.808 0 0 1 63.744 496.192a240.32 240.32 0 0 1 199.488-236.8 256.128 256.128 0 0 1 487.872-30.976A256.064 256.064 0 0 1 736 734.016v-64.768a192 192 0 0 0 3.328-377.92l-35.2-6.592-12.8-33.408a192.064 192.064 0 0 0-365.952 23.232l-9.92 40.896-41.472 7.04a176.32 176.32 0 0 0-146.24 173.568c0 91.968 70.464 167.36 160.256 175.232z"}),pe("path",{fill:"currentColor",d:"M416 736a32 32 0 0 1-27.776-47.872l128-224a32 32 0 1 1 55.552 31.744L471.168 672H608a32 32 0 0 1 27.776 47.872l-128 224a32 32 0 1 1-55.68-31.744L552.96 736z"})]))}}),SBe=EBe,TBe=Be({name:"Link",__name:"link",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M715.648 625.152 670.4 579.904l90.496-90.56c75.008-74.944 85.12-186.368 22.656-248.896-62.528-62.464-173.952-52.352-248.96 22.656L444.16 353.6l-45.248-45.248 90.496-90.496c100.032-99.968 251.968-110.08 339.456-22.656 87.488 87.488 77.312 239.424-22.656 339.456l-90.496 90.496zm-90.496 90.496-90.496 90.496C434.624 906.112 282.688 916.224 195.2 828.8c-87.488-87.488-77.312-239.424 22.656-339.456l90.496-90.496 45.248 45.248-90.496 90.56c-75.008 74.944-85.12 186.368-22.656 248.896 62.528 62.464 173.952 52.352 248.96-22.656l90.496-90.496zm0-362.048 45.248 45.248L398.848 670.4 353.6 625.152z"})]))}}),BBe=TBe,MBe=Be({name:"List",__name:"list",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M704 192h160v736H160V192h160v64h384zM288 512h448v-64H288zm0 256h448v-64H288zm96-576V96h256v96z"})]))}}),IBe=MBe,LBe=Be({name:"Loading",__name:"loading",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),l0=LBe,PBe=Be({name:"LocationFilled",__name:"location-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 928c23.936 0 117.504-68.352 192.064-153.152C803.456 661.888 864 535.808 864 416c0-189.632-155.84-320-352-320S160 226.368 160 416c0 120.32 60.544 246.4 159.936 359.232C394.432 859.84 488 928 512 928m0-435.2a64 64 0 1 0 0-128 64 64 0 0 0 0 128m0 140.8a204.8 204.8 0 1 1 0-409.6 204.8 204.8 0 0 1 0 409.6"})]))}}),FBe=PBe,kBe=Be({name:"LocationInformation",__name:"location-information",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M288 896h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32"}),pe("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416M512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544"}),pe("path",{fill:"currentColor",d:"M512 512a96 96 0 1 0 0-192 96 96 0 0 0 0 192m0 64a160 160 0 1 1 0-320 160 160 0 0 1 0 320"})]))}}),RBe=kBe,OBe=Be({name:"Location",__name:"location",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416M512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544"}),pe("path",{fill:"currentColor",d:"M512 512a96 96 0 1 0 0-192 96 96 0 0 0 0 192m0 64a160 160 0 1 1 0-320 160 160 0 0 1 0 320"})]))}}),DBe=OBe,NBe=Be({name:"Lock",__name:"lock",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M224 448a32 32 0 0 0-32 32v384a32 32 0 0 0 32 32h576a32 32 0 0 0 32-32V480a32 32 0 0 0-32-32zm0-64h576a96 96 0 0 1 96 96v384a96 96 0 0 1-96 96H224a96 96 0 0 1-96-96V480a96 96 0 0 1 96-96"}),pe("path",{fill:"currentColor",d:"M512 544a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V576a32 32 0 0 1 32-32m192-160v-64a192 192 0 1 0-384 0v64zM512 64a256 256 0 0 1 256 256v128H256V320A256 256 0 0 1 512 64"})]))}}),UBe=NBe,zBe=Be({name:"Lollipop",__name:"lollipop",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M513.28 448a64 64 0 1 1 76.544 49.728A96 96 0 0 0 768 448h64a160 160 0 0 1-320 0zm-126.976-29.696a256 256 0 1 0 43.52-180.48A256 256 0 0 1 832 448h-64a192 192 0 0 0-381.696-29.696m105.664 249.472L285.696 874.048a96 96 0 0 1-135.68-135.744l206.208-206.272a320 320 0 1 1 135.744 135.744zm-54.464-36.032a321.92 321.92 0 0 1-45.248-45.248L195.2 783.552a32 32 0 1 0 45.248 45.248l197.056-197.12z"})]))}}),$Be=zBe,VBe=Be({name:"MagicStick",__name:"magic-stick",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 64h64v192h-64zm0 576h64v192h-64zM160 480v-64h192v64zm576 0v-64h192v64zM249.856 199.04l45.248-45.184L430.848 289.6 385.6 334.848 249.856 199.104zM657.152 606.4l45.248-45.248 135.744 135.744-45.248 45.248zM114.048 923.2 68.8 877.952l316.8-316.8 45.248 45.248zM702.4 334.848 657.152 289.6l135.744-135.744 45.248 45.248z"})]))}}),HBe=VBe,QBe=Be({name:"Magnet",__name:"magnet",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M832 320V192H704v320a192 192 0 1 1-384 0V192H192v128h128v64H192v128a320 320 0 0 0 640 0V384H704v-64zM640 512V128h256v384a384 384 0 1 1-768 0V128h256v384a128 128 0 1 0 256 0"})]))}}),jBe=QBe,GBe=Be({name:"Male",__name:"male",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M399.5 849.5a225 225 0 1 0 0-450 225 225 0 0 0 0 450m0 56.25a281.25 281.25 0 1 1 0-562.5 281.25 281.25 0 0 1 0 562.5m253.125-787.5h225q28.125 0 28.125 28.125T877.625 174.5h-225q-28.125 0-28.125-28.125t28.125-28.125"}),pe("path",{fill:"currentColor",d:"M877.625 118.25q28.125 0 28.125 28.125v225q0 28.125-28.125 28.125T849.5 371.375v-225q0-28.125 28.125-28.125"}),pe("path",{fill:"currentColor",d:"M604.813 458.9 565.1 419.131l292.613-292.668 39.825 39.824z"})]))}}),KBe=GBe,WBe=Be({name:"Management",__name:"management",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M576 128v288l96-96 96 96V128h128v768H320V128zm-448 0h128v768H128z"})]))}}),qBe=WBe,YBe=Be({name:"MapLocation",__name:"map-location",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416M512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544"}),pe("path",{fill:"currentColor",d:"M512 448a64 64 0 1 0 0-128 64 64 0 0 0 0 128m0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256m345.6 192L960 960H672v-64H352v64H64l102.4-256zm-68.928 0H235.328l-76.8 192h706.944z"})]))}}),XBe=YBe,ZBe=Be({name:"Medal",__name:"medal",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 896a256 256 0 1 0 0-512 256 256 0 0 0 0 512m0 64a320 320 0 1 1 0-640 320 320 0 0 1 0 640"}),pe("path",{fill:"currentColor",d:"M576 128H448v200a286.72 286.72 0 0 1 64-8c19.52 0 40.832 2.688 64 8zm64 0v219.648c24.448 9.088 50.56 20.416 78.4 33.92L757.44 128zm-256 0H266.624l39.04 253.568c27.84-13.504 53.888-24.832 78.336-33.92V128zM229.312 64h565.376a32 32 0 0 1 31.616 36.864L768 480c-113.792-64-199.104-96-256-96-56.896 0-142.208 32-256 96l-58.304-379.136A32 32 0 0 1 229.312 64"})]))}}),JBe=ZBe,eMe=Be({name:"Memo",__name:"memo",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M480 320h192c21.33 0 32-10.67 32-32s-10.67-32-32-32H480c-21.33 0-32 10.67-32 32s10.67 32 32 32"}),pe("path",{fill:"currentColor",d:"M887.01 72.99C881.01 67 873.34 64 864 64H160c-9.35 0-17.02 3-23.01 8.99C131 78.99 128 86.66 128 96v832c0 9.35 2.99 17.02 8.99 23.01S150.66 960 160 960h704c9.35 0 17.02-2.99 23.01-8.99S896 937.34 896 928V96c0-9.35-3-17.02-8.99-23.01M192 896V128h96v768zm640 0H352V128h480z"}),pe("path",{fill:"currentColor",d:"M480 512h192c21.33 0 32-10.67 32-32s-10.67-32-32-32H480c-21.33 0-32 10.67-32 32s10.67 32 32 32m0 192h192c21.33 0 32-10.67 32-32s-10.67-32-32-32H480c-21.33 0-32 10.67-32 32s10.67 32 32 32"})]))}}),tMe=eMe,nMe=Be({name:"Menu",__name:"menu",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M160 448a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32zm448 0a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32zM160 896a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32zm448 0a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32z"})]))}}),rMe=nMe,iMe=Be({name:"MessageBox",__name:"message-box",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M288 384h448v64H288zm96-128h256v64H384zM131.456 512H384v128h256V512h252.544L721.856 192H302.144zM896 576H704v128H320V576H128v256h768zM275.776 128h472.448a32 32 0 0 1 28.608 17.664l179.84 359.552A32 32 0 0 1 960 519.552V864a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V519.552a32 32 0 0 1 3.392-14.336l179.776-359.552A32 32 0 0 1 275.776 128z"})]))}}),aMe=iMe,sMe=Be({name:"Message",__name:"message",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M128 224v512a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V224zm0-64h768a64 64 0 0 1 64 64v512a128 128 0 0 1-128 128H192A128 128 0 0 1 64 736V224a64 64 0 0 1 64-64"}),pe("path",{fill:"currentColor",d:"M904 224 656.512 506.88a192 192 0 0 1-289.024 0L120 224zm-698.944 0 210.56 240.704a128 128 0 0 0 192.704 0L818.944 224H205.056"})]))}}),oMe=sMe,lMe=Be({name:"Mic",__name:"mic",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M480 704h160a64 64 0 0 0 64-64v-32h-96a32 32 0 0 1 0-64h96v-96h-96a32 32 0 0 1 0-64h96v-96h-96a32 32 0 0 1 0-64h96v-32a64 64 0 0 0-64-64H384a64 64 0 0 0-64 64v32h96a32 32 0 0 1 0 64h-96v96h96a32 32 0 0 1 0 64h-96v96h96a32 32 0 0 1 0 64h-96v32a64 64 0 0 0 64 64zm64 64v128h192a32 32 0 1 1 0 64H288a32 32 0 1 1 0-64h192V768h-96a128 128 0 0 1-128-128V192A128 128 0 0 1 384 64h256a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128z"})]))}}),uMe=lMe,cMe=Be({name:"Microphone",__name:"microphone",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 128a128 128 0 0 0-128 128v256a128 128 0 1 0 256 0V256a128 128 0 0 0-128-128m0-64a192 192 0 0 1 192 192v256a192 192 0 1 1-384 0V256A192 192 0 0 1 512 64m-32 832v-64a288 288 0 0 1-288-288v-32a32 32 0 0 1 64 0v32a224 224 0 0 0 224 224h64a224 224 0 0 0 224-224v-32a32 32 0 1 1 64 0v32a288 288 0 0 1-288 288v64h64a32 32 0 1 1 0 64H416a32 32 0 1 1 0-64z"})]))}}),hMe=cMe,dMe=Be({name:"MilkTea",__name:"milk-tea",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M416 128V96a96 96 0 0 1 96-96h128a32 32 0 1 1 0 64H512a32 32 0 0 0-32 32v32h320a96 96 0 0 1 11.712 191.296l-39.68 581.056A64 64 0 0 1 708.224 960H315.776a64 64 0 0 1-63.872-59.648l-39.616-581.056A96 96 0 0 1 224 128zM276.48 320l39.296 576h392.448l4.8-70.784a224.064 224.064 0 0 1 30.016-439.808L747.52 320zM224 256h576a32 32 0 1 0 0-64H224a32 32 0 0 0 0 64m493.44 503.872 21.12-309.12a160 160 0 0 0-21.12 309.12"})]))}}),fMe=dMe,pMe=Be({name:"Minus",__name:"minus",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),nre=pMe,AMe=Be({name:"Money",__name:"money",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M256 640v192h640V384H768v-64h150.976c14.272 0 19.456 1.472 24.64 4.288a29.056 29.056 0 0 1 12.16 12.096c2.752 5.184 4.224 10.368 4.224 24.64v493.952c0 14.272-1.472 19.456-4.288 24.64a29.056 29.056 0 0 1-12.096 12.16c-5.184 2.752-10.368 4.224-24.64 4.224H233.024c-14.272 0-19.456-1.472-24.64-4.288a29.056 29.056 0 0 1-12.16-12.096c-2.688-5.184-4.224-10.368-4.224-24.576V640z"}),pe("path",{fill:"currentColor",d:"M768 192H128v448h640zm64-22.976v493.952c0 14.272-1.472 19.456-4.288 24.64a29.056 29.056 0 0 1-12.096 12.16c-5.184 2.752-10.368 4.224-24.64 4.224H105.024c-14.272 0-19.456-1.472-24.64-4.288a29.056 29.056 0 0 1-12.16-12.096C65.536 682.432 64 677.248 64 663.04V169.024c0-14.272 1.472-19.456 4.288-24.64a29.056 29.056 0 0 1 12.096-12.16C85.568 129.536 90.752 128 104.96 128h685.952c14.272 0 19.456 1.472 24.64 4.288a29.056 29.056 0 0 1 12.16 12.096c2.752 5.184 4.224 10.368 4.224 24.64z"}),pe("path",{fill:"currentColor",d:"M448 576a160 160 0 1 1 0-320 160 160 0 0 1 0 320m0-64a96 96 0 1 0 0-192 96 96 0 0 0 0 192"})]))}}),mMe=AMe,gMe=Be({name:"Monitor",__name:"monitor",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M544 768v128h192a32 32 0 1 1 0 64H288a32 32 0 1 1 0-64h192V768H192A128 128 0 0 1 64 640V256a128 128 0 0 1 128-128h640a128 128 0 0 1 128 128v384a128 128 0 0 1-128 128zM192 192a64 64 0 0 0-64 64v384a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V256a64 64 0 0 0-64-64z"})]))}}),vMe=gMe,_Me=Be({name:"MoonNight",__name:"moon-night",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M384 512a448 448 0 0 1 215.872-383.296A384 384 0 0 0 213.76 640h188.8A448.256 448.256 0 0 1 384 512M171.136 704a448 448 0 0 1 636.992-575.296A384 384 0 0 0 499.328 704h-328.32z"}),pe("path",{fill:"currentColor",d:"M32 640h960q32 0 32 32t-32 32H32q-32 0-32-32t32-32m128 128h384a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64m160 127.68 224 .256a32 32 0 0 1 32 32V928a32 32 0 0 1-32 32l-224-.384a32 32 0 0 1-32-32v-.064a32 32 0 0 1 32-32z"})]))}}),yMe=_Me,bMe=Be({name:"Moon",__name:"moon",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M240.448 240.448a384 384 0 1 0 559.424 525.696 448 448 0 0 1-542.016-542.08 390.592 390.592 0 0 0-17.408 16.384zm181.056 362.048a384 384 0 0 0 525.632 16.384A448 448 0 1 1 405.056 76.8a384 384 0 0 0 16.448 525.696"})]))}}),wMe=bMe,xMe=Be({name:"MoreFilled",__name:"more-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224"})]))}}),_k=xMe,CMe=Be({name:"More",__name:"more",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}}),rre=CMe,EMe=Be({name:"MostlyCloudy",__name:"mostly-cloudy",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M737.216 357.952 704 349.824l-11.776-32a192.064 192.064 0 0 0-367.424 23.04l-8.96 39.04-39.04 8.96A192.064 192.064 0 0 0 320 768h368a207.808 207.808 0 0 0 207.808-208 208.32 208.32 0 0 0-158.592-202.048m15.168-62.208A272.32 272.32 0 0 1 959.744 560a271.808 271.808 0 0 1-271.552 272H320a256 256 0 0 1-57.536-505.536 256.128 256.128 0 0 1 489.92-30.72"})]))}}),SMe=EMe,TMe=Be({name:"Mouse",__name:"mouse",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M438.144 256c-68.352 0-92.736 4.672-117.76 18.112-20.096 10.752-35.52 26.176-46.272 46.272C260.672 345.408 256 369.792 256 438.144v275.712c0 68.352 4.672 92.736 18.112 117.76 10.752 20.096 26.176 35.52 46.272 46.272C345.408 891.328 369.792 896 438.144 896h147.712c68.352 0 92.736-4.672 117.76-18.112 20.096-10.752 35.52-26.176 46.272-46.272C763.328 806.592 768 782.208 768 713.856V438.144c0-68.352-4.672-92.736-18.112-117.76a110.464 110.464 0 0 0-46.272-46.272C678.592 260.672 654.208 256 585.856 256zm0-64h147.712c85.568 0 116.608 8.96 147.904 25.6 31.36 16.768 55.872 41.344 72.576 72.64C823.104 321.536 832 352.576 832 438.08v275.84c0 85.504-8.96 116.544-25.6 147.84a174.464 174.464 0 0 1-72.64 72.576C702.464 951.104 671.424 960 585.92 960H438.08c-85.504 0-116.544-8.96-147.84-25.6a174.464 174.464 0 0 1-72.64-72.704c-16.768-31.296-25.664-62.336-25.664-147.84v-275.84c0-85.504 8.96-116.544 25.6-147.84a174.464 174.464 0 0 1 72.768-72.576c31.232-16.704 62.272-25.6 147.776-25.6z"}),pe("path",{fill:"currentColor",d:"M512 320q32 0 32 32v128q0 32-32 32t-32-32V352q0-32 32-32m32-96a32 32 0 0 1-64 0v-64a32 32 0 0 0-32-32h-96a32 32 0 0 1 0-64h96a96 96 0 0 1 96 96z"})]))}}),BMe=TMe,MMe=Be({name:"Mug",__name:"mug",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M736 800V160H160v640a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64m64-544h63.552a96 96 0 0 1 96 96v224a96 96 0 0 1-96 96H800v128a128 128 0 0 1-128 128H224A128 128 0 0 1 96 800V128a32 32 0 0 1 32-32h640a32 32 0 0 1 32 32zm0 64v288h63.552a32 32 0 0 0 32-32V352a32 32 0 0 0-32-32z"})]))}}),IMe=MMe,LMe=Be({name:"MuteNotification",__name:"mute-notification",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m241.216 832 63.616-64H768V448c0-42.368-10.24-82.304-28.48-117.504l46.912-47.232C815.36 331.392 832 387.84 832 448v320h96a32 32 0 1 1 0 64zm-90.24 0H96a32 32 0 1 1 0-64h96V448a320.128 320.128 0 0 1 256-313.6V128a64 64 0 1 1 128 0v6.4a319.552 319.552 0 0 1 171.648 97.088l-45.184 45.44A256 256 0 0 0 256 448v278.336L151.04 832zM448 896h128a64 64 0 0 1-128 0"}),pe("path",{fill:"currentColor",d:"M150.72 859.072a32 32 0 0 1-45.44-45.056l704-708.544a32 32 0 0 1 45.44 45.056l-704 708.544z"})]))}}),PMe=LMe,FMe=Be({name:"Mute",__name:"mute",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m412.16 592.128-45.44 45.44A191.232 191.232 0 0 1 320 512V256a192 192 0 1 1 384 0v44.352l-64 64V256a128 128 0 1 0-256 0v256c0 30.336 10.56 58.24 28.16 80.128m51.968 38.592A128 128 0 0 0 640 512v-57.152l64-64V512a192 192 0 0 1-287.68 166.528zM314.88 779.968l46.144-46.08A222.976 222.976 0 0 0 480 768h64a224 224 0 0 0 224-224v-32a32 32 0 1 1 64 0v32a288 288 0 0 1-288 288v64h64a32 32 0 1 1 0 64H416a32 32 0 1 1 0-64h64v-64c-61.44 0-118.4-19.2-165.12-52.032M266.752 737.6A286.976 286.976 0 0 1 192 544v-32a32 32 0 0 1 64 0v32c0 56.832 21.184 108.8 56.064 148.288z"}),pe("path",{fill:"currentColor",d:"M150.72 859.072a32 32 0 0 1-45.44-45.056l704-708.544a32 32 0 0 1 45.44 45.056l-704 708.544z"})]))}}),kMe=FMe,RMe=Be({name:"NoSmoking",__name:"no-smoking",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M440.256 576H256v128h56.256l-64 64H224a32 32 0 0 1-32-32V544a32 32 0 0 1 32-32h280.256zm143.488 128H704V583.744L775.744 512H928a32 32 0 0 1 32 32v192a32 32 0 0 1-32 32H519.744zM768 576v128h128V576zm-29.696-207.552 45.248 45.248-497.856 497.856-45.248-45.248zM256 64h64v320h-64zM128 192h64v192h-64zM64 512h64v256H64z"})]))}}),OMe=RMe,DMe=Be({name:"Notebook",__name:"notebook",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M192 128v768h640V128zm-32-64h704a32 32 0 0 1 32 32v832a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32"}),pe("path",{fill:"currentColor",d:"M672 128h64v768h-64zM96 192h128q32 0 32 32t-32 32H96q-32 0-32-32t32-32m0 192h128q32 0 32 32t-32 32H96q-32 0-32-32t32-32m0 192h128q32 0 32 32t-32 32H96q-32 0-32-32t32-32m0 192h128q32 0 32 32t-32 32H96q-32 0-32-32t32-32"})]))}}),NMe=DMe,UMe=Be({name:"Notification",__name:"notification",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 128v64H256a64 64 0 0 0-64 64v512a64 64 0 0 0 64 64h512a64 64 0 0 0 64-64V512h64v256a128 128 0 0 1-128 128H256a128 128 0 0 1-128-128V256a128 128 0 0 1 128-128z"}),pe("path",{fill:"currentColor",d:"M768 384a128 128 0 1 0 0-256 128 128 0 0 0 0 256m0 64a192 192 0 1 1 0-384 192 192 0 0 1 0 384"})]))}}),zMe=UMe,$Me=Be({name:"Odometer",__name:"odometer",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),pe("path",{fill:"currentColor",d:"M192 512a320 320 0 1 1 640 0 32 32 0 1 1-64 0 256 256 0 1 0-512 0 32 32 0 0 1-64 0"}),pe("path",{fill:"currentColor",d:"M570.432 627.84A96 96 0 1 1 509.568 608l60.992-187.776A32 32 0 1 1 631.424 440l-60.992 187.776zM502.08 734.464a32 32 0 1 0 19.84-60.928 32 32 0 0 0-19.84 60.928"})]))}}),VMe=$Me,HMe=Be({name:"OfficeBuilding",__name:"office-building",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M192 128v704h384V128zm-32-64h448a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32"}),pe("path",{fill:"currentColor",d:"M256 256h256v64H256zm0 192h256v64H256zm0 192h256v64H256zm384-128h128v64H640zm0 128h128v64H640zM64 832h896v64H64z"}),pe("path",{fill:"currentColor",d:"M640 384v448h192V384zm-32-64h256a32 32 0 0 1 32 32v512a32 32 0 0 1-32 32H608a32 32 0 0 1-32-32V352a32 32 0 0 1 32-32"})]))}}),QMe=HMe,jMe=Be({name:"Open",__name:"open",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M329.956 257.138a254.862 254.862 0 0 0 0 509.724h364.088a254.862 254.862 0 0 0 0-509.724zm0-72.818h364.088a327.68 327.68 0 1 1 0 655.36H329.956a327.68 327.68 0 1 1 0-655.36z"}),pe("path",{fill:"currentColor",d:"M694.044 621.227a109.227 109.227 0 1 0 0-218.454 109.227 109.227 0 0 0 0 218.454m0 72.817a182.044 182.044 0 1 1 0-364.088 182.044 182.044 0 0 1 0 364.088"})]))}}),GMe=jMe,KMe=Be({name:"Operation",__name:"operation",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M389.44 768a96.064 96.064 0 0 1 181.12 0H896v64H570.56a96.064 96.064 0 0 1-181.12 0H128v-64zm192-288a96.064 96.064 0 0 1 181.12 0H896v64H762.56a96.064 96.064 0 0 1-181.12 0H128v-64zm-320-288a96.064 96.064 0 0 1 181.12 0H896v64H442.56a96.064 96.064 0 0 1-181.12 0H128v-64z"})]))}}),WMe=KMe,qMe=Be({name:"Opportunity",__name:"opportunity",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M384 960v-64h192.064v64zm448-544a350.656 350.656 0 0 1-128.32 271.424C665.344 719.04 640 763.776 640 813.504V832H320v-14.336c0-48-19.392-95.36-57.216-124.992a351.552 351.552 0 0 1-128.448-344.256c25.344-136.448 133.888-248.128 269.76-276.48A352.384 352.384 0 0 1 832 416m-544 32c0-132.288 75.904-224 192-224v-64c-154.432 0-256 122.752-256 288z"})]))}}),YMe=qMe,XMe=Be({name:"Orange",__name:"orange",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M544 894.72a382.336 382.336 0 0 0 215.936-89.472L577.024 622.272c-10.24 6.016-21.248 10.688-33.024 13.696v258.688zm261.248-134.784A382.336 382.336 0 0 0 894.656 544H635.968c-3.008 11.776-7.68 22.848-13.696 33.024l182.976 182.912zM894.656 480a382.336 382.336 0 0 0-89.408-215.936L622.272 446.976c6.016 10.24 10.688 21.248 13.696 33.024h258.688zm-134.72-261.248A382.336 382.336 0 0 0 544 129.344v258.688c11.776 3.008 22.848 7.68 33.024 13.696zM480 129.344a382.336 382.336 0 0 0-215.936 89.408l182.912 182.976c10.24-6.016 21.248-10.688 33.024-13.696zm-261.248 134.72A382.336 382.336 0 0 0 129.344 480h258.688c3.008-11.776 7.68-22.848 13.696-33.024zM129.344 544a382.336 382.336 0 0 0 89.408 215.936l182.976-182.912A127.232 127.232 0 0 1 388.032 544zm134.72 261.248A382.336 382.336 0 0 0 480 894.656V635.968a127.232 127.232 0 0 1-33.024-13.696zM512 960a448 448 0 1 1 0-896 448 448 0 0 1 0 896m0-384a64 64 0 1 0 0-128 64 64 0 0 0 0 128"})]))}}),ZMe=XMe,JMe=Be({name:"Paperclip",__name:"paperclip",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M602.496 240.448A192 192 0 1 1 874.048 512l-316.8 316.8A256 256 0 0 1 195.2 466.752L602.496 59.456l45.248 45.248L240.448 512A192 192 0 0 0 512 783.552l316.8-316.8a128 128 0 1 0-181.056-181.056L353.6 579.904a32 32 0 1 0 45.248 45.248l294.144-294.144 45.312 45.248L444.096 670.4a96 96 0 1 1-135.744-135.744l294.144-294.208z"})]))}}),eIe=JMe,tIe=Be({name:"PartlyCloudy",__name:"partly-cloudy",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M598.4 895.872H328.192a256 256 0 0 1-34.496-510.528A352 352 0 1 1 598.4 895.872m-271.36-64h272.256a288 288 0 1 0-248.512-417.664L335.04 445.44l-34.816 3.584a192 192 0 0 0 26.88 382.848z"}),pe("path",{fill:"currentColor",d:"M139.84 501.888a256 256 0 1 1 417.856-277.12c-17.728 2.176-38.208 8.448-61.504 18.816A192 192 0 1 0 189.12 460.48a6003.84 6003.84 0 0 0-49.28 41.408z"})]))}}),nIe=tIe,rIe=Be({name:"Pear",__name:"pear",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M542.336 258.816a443.255 443.255 0 0 0-9.024 25.088 32 32 0 1 1-60.8-20.032l1.088-3.328a162.688 162.688 0 0 0-122.048 131.392l-17.088 102.72-20.736 15.36C256.192 552.704 224 610.88 224 672c0 120.576 126.4 224 288 224s288-103.424 288-224c0-61.12-32.192-119.296-89.728-161.92l-20.736-15.424-17.088-102.72a162.688 162.688 0 0 0-130.112-133.12zm-40.128-66.56c7.936-15.552 16.576-30.08 25.92-43.776 23.296-33.92 49.408-59.776 78.528-77.12a32 32 0 1 1 32.704 55.04c-20.544 12.224-40.064 31.552-58.432 58.304a316.608 316.608 0 0 0-9.792 15.104 226.688 226.688 0 0 1 164.48 181.568l12.8 77.248C819.456 511.36 864 587.392 864 672c0 159.04-157.568 288-352 288S160 831.04 160 672c0-84.608 44.608-160.64 115.584-213.376l12.8-77.248a226.624 226.624 0 0 1 213.76-189.184z"})]))}}),iIe=rIe,aIe=Be({name:"PhoneFilled",__name:"phone-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M199.232 125.568 90.624 379.008a32 32 0 0 0 6.784 35.2l512.384 512.384a32 32 0 0 0 35.2 6.784l253.44-108.608a32 32 0 0 0 10.048-52.032L769.6 633.92a32 32 0 0 0-36.928-5.952l-130.176 65.088-271.488-271.552 65.024-130.176a32 32 0 0 0-5.952-36.928L251.2 115.52a32 32 0 0 0-51.968 10.048z"})]))}}),sIe=aIe,oIe=Be({name:"Phone",__name:"phone",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M79.36 432.256 591.744 944.64a32 32 0 0 0 35.2 6.784l253.44-108.544a32 32 0 0 0 9.984-52.032l-153.856-153.92a32 32 0 0 0-36.928-6.016l-69.888 34.944L358.08 394.24l35.008-69.888a32 32 0 0 0-5.952-36.928L233.152 133.568a32 32 0 0 0-52.032 10.048L72.512 397.056a32 32 0 0 0 6.784 35.2zm60.48-29.952 81.536-190.08L325.568 316.48l-24.64 49.216-20.608 41.216 32.576 32.64 271.552 271.552 32.64 32.64 41.216-20.672 49.28-24.576 104.192 104.128-190.08 81.472L139.84 402.304zM512 320v-64a256 256 0 0 1 256 256h-64a192 192 0 0 0-192-192m0-192V64a448 448 0 0 1 448 448h-64a384 384 0 0 0-384-384"})]))}}),lIe=oIe,uIe=Be({name:"PictureFilled",__name:"picture-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112M256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384"})]))}}),ire=uIe,cIe=Be({name:"PictureRounded",__name:"picture-rounded",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 128a384 384 0 1 0 0 768 384 384 0 0 0 0-768m0-64a448 448 0 1 1 0 896 448 448 0 0 1 0-896"}),pe("path",{fill:"currentColor",d:"M640 288q64 0 64 64t-64 64q-64 0-64-64t64-64M214.656 790.656l-45.312-45.312 185.664-185.6a96 96 0 0 1 123.712-10.24l138.24 98.688a32 32 0 0 0 39.872-2.176L906.688 422.4l42.624 47.744L699.52 693.696a96 96 0 0 1-119.808 6.592l-138.24-98.752a32 32 0 0 0-41.152 3.456l-185.664 185.6z"})]))}}),hIe=cIe,dIe=Be({name:"Picture",__name:"picture",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M160 160v704h704V160zm-32-64h768a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H128a32 32 0 0 1-32-32V128a32 32 0 0 1 32-32"}),pe("path",{fill:"currentColor",d:"M384 288q64 0 64 64t-64 64q-64 0-64-64t64-64M185.408 876.992l-50.816-38.912L350.72 556.032a96 96 0 0 1 134.592-17.856l1.856 1.472 122.88 99.136a32 32 0 0 0 44.992-4.864l216-269.888 49.92 39.936-215.808 269.824-.256.32a96 96 0 0 1-135.04 14.464l-122.88-99.072-.64-.512a32 32 0 0 0-44.8 5.952z"})]))}}),fIe=dIe,pIe=Be({name:"PieChart",__name:"pie-chart",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M448 68.48v64.832A384.128 384.128 0 0 0 512 896a384.128 384.128 0 0 0 378.688-320h64.768A448.128 448.128 0 0 1 64 512 448.128 448.128 0 0 1 448 68.48z"}),pe("path",{fill:"currentColor",d:"M576 97.28V448h350.72A384.064 384.064 0 0 0 576 97.28zM512 64V33.152A448 448 0 0 1 990.848 512H512z"})]))}}),AIe=pIe,mIe=Be({name:"Place",__name:"place",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 512a192 192 0 1 0 0-384 192 192 0 0 0 0 384m0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512"}),pe("path",{fill:"currentColor",d:"M512 512a32 32 0 0 1 32 32v256a32 32 0 1 1-64 0V544a32 32 0 0 1 32-32"}),pe("path",{fill:"currentColor",d:"M384 649.088v64.96C269.76 732.352 192 771.904 192 800c0 37.696 139.904 96 320 96s320-58.304 320-96c0-28.16-77.76-67.648-192-85.952v-64.96C789.12 671.04 896 730.368 896 800c0 88.32-171.904 160-384 160s-384-71.68-384-160c0-69.696 106.88-128.96 256-150.912"})]))}}),gIe=mIe,vIe=Be({name:"Platform",__name:"platform",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M448 832v-64h128v64h192v64H256v-64zM128 704V128h768v576z"})]))}}),_Ie=vIe,yIe=Be({name:"Plus",__name:"plus",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),UN=yIe,bIe=Be({name:"Pointer",__name:"pointer",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M511.552 128c-35.584 0-64.384 28.8-64.384 64.448v516.48L274.048 570.88a94.272 94.272 0 0 0-112.896-3.456 44.416 44.416 0 0 0-8.96 62.208L332.8 870.4A64 64 0 0 0 384 896h512V575.232a64 64 0 0 0-45.632-61.312l-205.952-61.76A96 96 0 0 1 576 360.192V192.448C576 156.8 547.2 128 511.552 128M359.04 556.8l24.128 19.2V192.448a128.448 128.448 0 1 1 256.832 0v167.744a32 32 0 0 0 22.784 30.656l206.016 61.76A128 128 0 0 1 960 575.232V896a64 64 0 0 1-64 64H384a128 128 0 0 1-102.4-51.2L101.056 668.032A108.416 108.416 0 0 1 128 512.512a158.272 158.272 0 0 1 185.984 8.32z"})]))}}),wIe=bIe,xIe=Be({name:"Position",__name:"position",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m249.6 417.088 319.744 43.072 39.168 310.272L845.12 178.88 249.6 417.088zm-129.024 47.168a32 32 0 0 1-7.68-61.44l777.792-311.04a32 32 0 0 1 41.6 41.6l-310.336 775.68a32 32 0 0 1-61.44-7.808L512 516.992l-391.424-52.736z"})]))}}),CIe=xIe,EIe=Be({name:"Postcard",__name:"postcard",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M160 224a32 32 0 0 0-32 32v512a32 32 0 0 0 32 32h704a32 32 0 0 0 32-32V256a32 32 0 0 0-32-32zm0-64h704a96 96 0 0 1 96 96v512a96 96 0 0 1-96 96H160a96 96 0 0 1-96-96V256a96 96 0 0 1 96-96"}),pe("path",{fill:"currentColor",d:"M704 320a64 64 0 1 1 0 128 64 64 0 0 1 0-128M288 448h256q32 0 32 32t-32 32H288q-32 0-32-32t32-32m0 128h256q32 0 32 32t-32 32H288q-32 0-32-32t32-32"})]))}}),SIe=EIe,TIe=Be({name:"Pouring",__name:"pouring",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m739.328 291.328-35.2-6.592-12.8-33.408a192.064 192.064 0 0 0-365.952 23.232l-9.92 40.896-41.472 7.04a176.32 176.32 0 0 0-146.24 173.568c0 97.28 78.72 175.936 175.808 175.936h400a192 192 0 0 0 35.776-380.672zM959.552 480a256 256 0 0 1-256 256h-400A239.808 239.808 0 0 1 63.744 496.192a240.32 240.32 0 0 1 199.488-236.8 256.128 256.128 0 0 1 487.872-30.976A256.064 256.064 0 0 1 959.552 480M224 800a32 32 0 0 1 32 32v96a32 32 0 1 1-64 0v-96a32 32 0 0 1 32-32m192 0a32 32 0 0 1 32 32v96a32 32 0 1 1-64 0v-96a32 32 0 0 1 32-32m192 0a32 32 0 0 1 32 32v96a32 32 0 1 1-64 0v-96a32 32 0 0 1 32-32m192 0a32 32 0 0 1 32 32v96a32 32 0 1 1-64 0v-96a32 32 0 0 1 32-32"})]))}}),BIe=TIe,MIe=Be({name:"Present",__name:"present",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M480 896V640H192v-64h288V320H192v576zm64 0h288V320H544v256h288v64H544zM128 256h768v672a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32z"}),pe("path",{fill:"currentColor",d:"M96 256h832q32 0 32 32t-32 32H96q-32 0-32-32t32-32"}),pe("path",{fill:"currentColor",d:"M416 256a64 64 0 1 0 0-128 64 64 0 0 0 0 128m0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256"}),pe("path",{fill:"currentColor",d:"M608 256a64 64 0 1 0 0-128 64 64 0 0 0 0 128m0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256"})]))}}),IIe=MIe,LIe=Be({name:"PriceTag",__name:"price-tag",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M224 318.336V896h576V318.336L552.512 115.84a64 64 0 0 0-81.024 0zM593.024 66.304l259.2 212.096A32 32 0 0 1 864 303.168V928a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V303.168a32 32 0 0 1 11.712-24.768l259.2-212.096a128 128 0 0 1 162.112 0z"}),pe("path",{fill:"currentColor",d:"M512 448a64 64 0 1 0 0-128 64 64 0 0 0 0 128m0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256"})]))}}),PIe=LIe,FIe=Be({name:"Printer",__name:"printer",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M256 768H105.024c-14.272 0-19.456-1.472-24.64-4.288a29.056 29.056 0 0 1-12.16-12.096C65.536 746.432 64 741.248 64 727.04V379.072c0-42.816 4.48-58.304 12.8-73.984 8.384-15.616 20.672-27.904 36.288-36.288 15.68-8.32 31.168-12.8 73.984-12.8H256V64h512v192h68.928c42.816 0 58.304 4.48 73.984 12.8 15.616 8.384 27.904 20.672 36.288 36.288 8.32 15.68 12.8 31.168 12.8 73.984v347.904c0 14.272-1.472 19.456-4.288 24.64a29.056 29.056 0 0 1-12.096 12.16c-5.184 2.752-10.368 4.224-24.64 4.224H768v192H256zm64-192v320h384V576zm-64 128V512h512v192h128V379.072c0-29.376-1.408-36.48-5.248-43.776a23.296 23.296 0 0 0-10.048-10.048c-7.232-3.84-14.4-5.248-43.776-5.248H187.072c-29.376 0-36.48 1.408-43.776 5.248a23.296 23.296 0 0 0-10.048 10.048c-3.84 7.232-5.248 14.4-5.248 43.776V704zm64-448h384V128H320zm-64 128h64v64h-64zm128 0h64v64h-64z"})]))}}),kIe=FIe,RIe=Be({name:"Promotion",__name:"promotion",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m64 448 832-320-128 704-446.08-243.328L832 192 242.816 545.472zm256 512V657.024L512 768z"})]))}}),OIe=RIe,DIe=Be({name:"QuartzWatch",__name:"quartz-watch",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M422.02 602.01v-.03c-6.68-5.99-14.35-8.83-23.01-8.51-8.67.32-16.17 3.66-22.5 10.02-6.33 6.36-9.5 13.7-9.5 22.02s3 15.82 8.99 22.5c8.68 8.68 19.02 11.35 31.01 8s19.49-10.85 22.5-22.5c3.01-11.65.51-22.15-7.49-31.49zM384 512c0-9.35-3-17.02-8.99-23.01-6-5.99-13.66-8.99-23.01-8.99-9.35 0-17.02 3-23.01 8.99-5.99 6-8.99 13.66-8.99 23.01s3 17.02 8.99 23.01c6 5.99 13.66 8.99 23.01 8.99 9.35 0 17.02-3 23.01-8.99 5.99-6 8.99-13.67 8.99-23.01m6.53-82.49c11.65 3.01 22.15.51 31.49-7.49h.04c5.99-6.68 8.83-14.34 8.51-23.01-.32-8.67-3.66-16.16-10.02-22.5-6.36-6.33-13.7-9.5-22.02-9.5s-15.82 3-22.5 8.99c-8.68 8.69-11.35 19.02-8 31.01 3.35 11.99 10.85 19.49 22.5 22.5zm242.94 0c11.67-3.03 19.01-10.37 22.02-22.02 3.01-11.65.51-22.15-7.49-31.49h.01c-6.68-5.99-14.18-8.99-22.5-8.99s-15.66 3.16-22.02 9.5c-6.36 6.34-9.7 13.84-10.02 22.5-.32 8.66 2.52 16.33 8.51 23.01 9.32 8.02 19.82 10.52 31.49 7.49M512 640c-9.35 0-17.02 3-23.01 8.99-5.99 6-8.99 13.66-8.99 23.01s3 17.02 8.99 23.01c6 5.99 13.67 8.99 23.01 8.99 9.35 0 17.02-3 23.01-8.99 5.99-6 8.99-13.66 8.99-23.01s-3-17.02-8.99-23.01c-6-5.99-13.66-8.99-23.01-8.99m183.01-151.01c-6-5.99-13.66-8.99-23.01-8.99s-17.02 3-23.01 8.99c-5.99 6-8.99 13.66-8.99 23.01s3 17.02 8.99 23.01c6 5.99 13.66 8.99 23.01 8.99s17.02-3 23.01-8.99c5.99-6 8.99-13.67 8.99-23.01 0-9.35-3-17.02-8.99-23.01"}),pe("path",{fill:"currentColor",d:"M832 512c-2-90.67-33.17-166.17-93.5-226.5-20.43-20.42-42.6-37.49-66.5-51.23V64H352v170.26c-23.9 13.74-46.07 30.81-66.5 51.24-60.33 60.33-91.49 135.83-93.5 226.5 2 90.67 33.17 166.17 93.5 226.5 20.43 20.43 42.6 37.5 66.5 51.24V960h320V789.74c23.9-13.74 46.07-30.81 66.5-51.24 60.33-60.34 91.49-135.83 93.5-226.5M416 128h192v78.69c-29.85-9.03-61.85-13.93-96-14.69-34.15.75-66.15 5.65-96 14.68zm192 768H416v-78.68c29.85 9.03 61.85 13.93 96 14.68 34.15-.75 66.15-5.65 96-14.68zm-96-128c-72.66-2.01-132.99-27.01-180.99-75.01S258.01 584.66 256 512c2.01-72.66 27.01-132.99 75.01-180.99S439.34 258.01 512 256c72.66 2.01 132.99 27.01 180.99 75.01S765.99 439.34 768 512c-2.01 72.66-27.01 132.99-75.01 180.99S584.66 765.99 512 768"}),pe("path",{fill:"currentColor",d:"M512 320c-9.35 0-17.02 3-23.01 8.99-5.99 6-8.99 13.66-8.99 23.01 0 9.35 3 17.02 8.99 23.01 6 5.99 13.67 8.99 23.01 8.99 9.35 0 17.02-3 23.01-8.99 5.99-6 8.99-13.66 8.99-23.01 0-9.35-3-17.02-8.99-23.01-6-5.99-13.66-8.99-23.01-8.99m112.99 273.5c-8.66-.32-16.33 2.52-23.01 8.51-7.98 9.32-10.48 19.82-7.49 31.49s10.49 19.17 22.5 22.5 22.35.66 31.01-8v.04c5.99-6.68 8.99-14.18 8.99-22.5s-3.16-15.66-9.5-22.02-13.84-9.7-22.5-10.02"})]))}}),NIe=DIe,UIe=Be({name:"QuestionFilled",__name:"question-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"})]))}}),are=UIe,zIe=Be({name:"Rank",__name:"rank",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m186.496 544 41.408 41.344a32 32 0 1 1-45.248 45.312l-96-96a32 32 0 0 1 0-45.312l96-96a32 32 0 1 1 45.248 45.312L186.496 480h290.816V186.432l-41.472 41.472a32 32 0 1 1-45.248-45.184l96-96.128a32 32 0 0 1 45.312 0l96 96.064a32 32 0 0 1-45.248 45.184l-41.344-41.28V480H832l-41.344-41.344a32 32 0 0 1 45.248-45.312l96 96a32 32 0 0 1 0 45.312l-96 96a32 32 0 0 1-45.248-45.312L832 544H541.312v293.44l41.344-41.28a32 32 0 1 1 45.248 45.248l-96 96a32 32 0 0 1-45.312 0l-96-96a32 32 0 1 1 45.312-45.248l41.408 41.408V544H186.496z"})]))}}),$Ie=zIe,VIe=Be({name:"ReadingLamp",__name:"reading-lamp",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M352 896h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32m-44.672-768-99.52 448h608.384l-99.52-448zm-25.6-64h460.608a32 32 0 0 1 31.232 25.088l113.792 512A32 32 0 0 1 856.128 640H167.872a32 32 0 0 1-31.232-38.912l113.792-512A32 32 0 0 1 281.664 64z"}),pe("path",{fill:"currentColor",d:"M672 576q32 0 32 32v128q0 32-32 32t-32-32V608q0-32 32-32m-192-.064h64V960h-64z"})]))}}),HIe=VIe,QIe=Be({name:"Reading",__name:"reading",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m512 863.36 384-54.848v-638.72L525.568 222.72a96 96 0 0 1-27.136 0L128 169.792v638.72zM137.024 106.432l370.432 52.928a32 32 0 0 0 9.088 0l370.432-52.928A64 64 0 0 1 960 169.792v638.72a64 64 0 0 1-54.976 63.36l-388.48 55.488a32 32 0 0 1-9.088 0l-388.48-55.488A64 64 0 0 1 64 808.512v-638.72a64 64 0 0 1 73.024-63.36z"}),pe("path",{fill:"currentColor",d:"M480 192h64v704h-64z"})]))}}),jIe=QIe,GIe=Be({name:"RefreshLeft",__name:"refresh-left",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),sre=GIe,KIe=Be({name:"RefreshRight",__name:"refresh-right",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"})]))}}),ore=KIe,WIe=Be({name:"Refresh",__name:"refresh",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M771.776 794.88A384 384 0 0 1 128 512h64a320 320 0 0 0 555.712 216.448H654.72a32 32 0 1 1 0-64h149.056a32 32 0 0 1 32 32v148.928a32 32 0 1 1-64 0v-50.56zM276.288 295.616h92.992a32 32 0 0 1 0 64H220.16a32 32 0 0 1-32-32V178.56a32 32 0 0 1 64 0v50.56A384 384 0 0 1 896.128 512h-64a320 320 0 0 0-555.776-216.384z"})]))}}),qIe=WIe,YIe=Be({name:"Refrigerator",__name:"refrigerator",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M256 448h512V160a32 32 0 0 0-32-32H288a32 32 0 0 0-32 32zm0 64v352a32 32 0 0 0 32 32h448a32 32 0 0 0 32-32V512zm32-448h448a96 96 0 0 1 96 96v704a96 96 0 0 1-96 96H288a96 96 0 0 1-96-96V160a96 96 0 0 1 96-96m32 224h64v96h-64zm0 288h64v96h-64z"})]))}}),XIe=YIe,ZIe=Be({name:"RemoveFilled",__name:"remove-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896M288 512a38.4 38.4 0 0 0 38.4 38.4h371.2a38.4 38.4 0 0 0 0-76.8H326.4A38.4 38.4 0 0 0 288 512"})]))}}),JIe=ZIe,eLe=Be({name:"Remove",__name:"remove",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M352 480h320a32 32 0 1 1 0 64H352a32 32 0 0 1 0-64"}),pe("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),tLe=eLe,nLe=Be({name:"Right",__name:"right",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M754.752 480H160a32 32 0 1 0 0 64h594.752L521.344 777.344a32 32 0 0 0 45.312 45.312l288-288a32 32 0 0 0 0-45.312l-288-288a32 32 0 1 0-45.312 45.312z"})]))}}),rLe=nLe,iLe=Be({name:"ScaleToOriginal",__name:"scale-to-original",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512"})]))}}),lre=iLe,aLe=Be({name:"School",__name:"school",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M224 128v704h576V128zm-32-64h640a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32"}),pe("path",{fill:"currentColor",d:"M64 832h896v64H64zm256-640h128v96H320z"}),pe("path",{fill:"currentColor",d:"M384 832h256v-64a128 128 0 1 0-256 0zm128-256a192 192 0 0 1 192 192v128H320V768a192 192 0 0 1 192-192M320 384h128v96H320zm256-192h128v96H576zm0 192h128v96H576z"})]))}}),sLe=aLe,oLe=Be({name:"Scissor",__name:"scissor",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m512.064 578.368-106.88 152.768a160 160 0 1 1-23.36-78.208L472.96 522.56 196.864 128.256a32 32 0 1 1 52.48-36.736l393.024 561.344a160 160 0 1 1-23.36 78.208l-106.88-152.704zm54.4-189.248 208.384-297.6a32 32 0 0 1 52.48 36.736l-221.76 316.672-39.04-55.808zm-376.32 425.856a96 96 0 1 0 110.144-157.248 96 96 0 0 0-110.08 157.248zm643.84 0a96 96 0 1 0-110.08-157.248 96 96 0 0 0 110.08 157.248"})]))}}),lLe=oLe,uLe=Be({name:"Search",__name:"search",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}}),ure=uLe,cLe=Be({name:"Select",__name:"select",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M77.248 415.04a64 64 0 0 1 90.496 0l226.304 226.304L846.528 188.8a64 64 0 1 1 90.56 90.496l-543.04 543.04-316.8-316.8a64 64 0 0 1 0-90.496z"})]))}}),hLe=cLe,dLe=Be({name:"Sell",__name:"sell",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M704 288h131.072a32 32 0 0 1 31.808 28.8L886.4 512h-64.384l-16-160H704v96a32 32 0 1 1-64 0v-96H384v96a32 32 0 0 1-64 0v-96H217.92l-51.2 512H512v64H131.328a32 32 0 0 1-31.808-35.2l57.6-576a32 32 0 0 1 31.808-28.8H320v-22.336C320 154.688 405.504 64 512 64s192 90.688 192 201.664v22.4zm-64 0v-22.336C640 189.248 582.272 128 512 128c-70.272 0-128 61.248-128 137.664v22.4h256zm201.408 483.84L768 698.496V928a32 32 0 1 1-64 0V698.496l-73.344 73.344a32 32 0 1 1-45.248-45.248l128-128a32 32 0 0 1 45.248 0l128 128a32 32 0 1 1-45.248 45.248z"})]))}}),fLe=dLe,pLe=Be({name:"SemiSelect",__name:"semi-select",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M128 448h768q64 0 64 64t-64 64H128q-64 0-64-64t64-64"})]))}}),ALe=pLe,mLe=Be({name:"Service",__name:"service",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M864 409.6a192 192 0 0 1-37.888 349.44A256.064 256.064 0 0 1 576 960h-96a32 32 0 1 1 0-64h96a192.064 192.064 0 0 0 181.12-128H736a32 32 0 0 1-32-32V416a32 32 0 0 1 32-32h32c10.368 0 20.544.832 30.528 2.432a288 288 0 0 0-573.056 0A193.235 193.235 0 0 1 256 384h32a32 32 0 0 1 32 32v320a32 32 0 0 1-32 32h-32a192 192 0 0 1-96-358.4 352 352 0 0 1 704 0M256 448a128 128 0 1 0 0 256zm640 128a128 128 0 0 0-128-128v256a128 128 0 0 0 128-128"})]))}}),gLe=mLe,vLe=Be({name:"SetUp",__name:"set-up",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M224 160a64 64 0 0 0-64 64v576a64 64 0 0 0 64 64h576a64 64 0 0 0 64-64V224a64 64 0 0 0-64-64zm0-64h576a128 128 0 0 1 128 128v576a128 128 0 0 1-128 128H224A128 128 0 0 1 96 800V224A128 128 0 0 1 224 96"}),pe("path",{fill:"currentColor",d:"M384 416a64 64 0 1 0 0-128 64 64 0 0 0 0 128m0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256"}),pe("path",{fill:"currentColor",d:"M480 320h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32m160 416a64 64 0 1 0 0-128 64 64 0 0 0 0 128m0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256"}),pe("path",{fill:"currentColor",d:"M288 640h256q32 0 32 32t-32 32H288q-32 0-32-32t32-32"})]))}}),_Le=vLe,yLe=Be({name:"Setting",__name:"setting",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357.12 357.12 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a351.616 351.616 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357.12 357.12 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088-24.512 11.968a294.113 294.113 0 0 0-34.816 20.096l-22.656 15.36-116.224-25.088-65.28 113.152 79.68 88.192-1.92 27.136a293.12 293.12 0 0 0 0 40.192l1.92 27.136-79.808 88.192 65.344 113.152 116.224-25.024 22.656 15.296a294.113 294.113 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152 24.448-11.904a288.282 288.282 0 0 0 34.752-20.096l22.592-15.296 116.288 25.024 65.28-113.152-79.744-88.192 1.92-27.136a293.12 293.12 0 0 0 0-40.256l-1.92-27.136 79.808-88.128-65.344-113.152-116.288 24.96-22.592-15.232a287.616 287.616 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384 192 192 0 0 1 0-384m0 64a128 128 0 1 0 0 256 128 128 0 0 0 0-256"})]))}}),bLe=yLe,wLe=Be({name:"Share",__name:"share",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m679.872 348.8-301.76 188.608a127.808 127.808 0 0 1 5.12 52.16l279.936 104.96a128 128 0 1 1-22.464 59.904l-279.872-104.96a128 128 0 1 1-16.64-166.272l301.696-188.608a128 128 0 1 1 33.92 54.272z"})]))}}),xLe=wLe,CLe=Be({name:"Ship",__name:"ship",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 386.88V448h405.568a32 32 0 0 1 30.72 40.768l-76.48 267.968A192 192 0 0 1 687.168 896H336.832a192 192 0 0 1-184.64-139.264L75.648 488.768A32 32 0 0 1 106.368 448H448V117.888a32 32 0 0 1 47.36-28.096l13.888 7.616L512 96v2.88l231.68 126.4a32 32 0 0 1-2.048 57.216zm0-70.272 144.768-65.792L512 171.84zM512 512H148.864l18.24 64H856.96l18.24-64zM185.408 640l28.352 99.2A128 128 0 0 0 336.832 832h350.336a128 128 0 0 0 123.072-92.8l28.352-99.2H185.408"})]))}}),ELe=CLe,SLe=Be({name:"Shop",__name:"shop",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M704 704h64v192H256V704h64v64h384zm188.544-152.192C894.528 559.616 896 567.616 896 576a96 96 0 1 1-192 0 96 96 0 1 1-192 0 96 96 0 1 1-192 0 96 96 0 1 1-192 0c0-8.384 1.408-16.384 3.392-24.192L192 128h640z"})]))}}),TLe=SLe,BLe=Be({name:"ShoppingBag",__name:"shopping-bag",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M704 320v96a32 32 0 0 1-32 32h-32V320H384v128h-32a32 32 0 0 1-32-32v-96H192v576h640V320zm-384-64a192 192 0 1 1 384 0h160a32 32 0 0 1 32 32v640a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V288a32 32 0 0 1 32-32zm64 0h256a128 128 0 1 0-256 0"}),pe("path",{fill:"currentColor",d:"M192 704h640v64H192z"})]))}}),MLe=BLe,ILe=Be({name:"ShoppingCartFull",__name:"shopping-cart-full",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M432 928a48 48 0 1 1 0-96 48 48 0 0 1 0 96m320 0a48 48 0 1 1 0-96 48 48 0 0 1 0 96M96 128a32 32 0 0 1 0-64h160a32 32 0 0 1 31.36 25.728L320.64 256H928a32 32 0 0 1 31.296 38.72l-96 448A32 32 0 0 1 832 768H384a32 32 0 0 1-31.36-25.728L229.76 128zm314.24 576h395.904l82.304-384H333.44l76.8 384z"}),pe("path",{fill:"currentColor",d:"M699.648 256 608 145.984 516.352 256h183.296zm-140.8-151.04a64 64 0 0 1 98.304 0L836.352 320H379.648l179.2-215.04"})]))}}),LLe=ILe,PLe=Be({name:"ShoppingCart",__name:"shopping-cart",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M432 928a48 48 0 1 1 0-96 48 48 0 0 1 0 96m320 0a48 48 0 1 1 0-96 48 48 0 0 1 0 96M96 128a32 32 0 0 1 0-64h160a32 32 0 0 1 31.36 25.728L320.64 256H928a32 32 0 0 1 31.296 38.72l-96 448A32 32 0 0 1 832 768H384a32 32 0 0 1-31.36-25.728L229.76 128zm314.24 576h395.904l82.304-384H333.44l76.8 384z"})]))}}),FLe=PLe,kLe=Be({name:"ShoppingTrolley",__name:"shopping-trolley",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M368 833c-13.3 0-24.5 4.5-33.5 13.5S321 866.7 321 880s4.5 24.5 13.5 33.5 20.2 13.8 33.5 14.5c13.3-.7 24.5-5.5 33.5-14.5S415 893.3 415 880s-4.5-24.5-13.5-33.5S381.3 833 368 833m439-193c7.4 0 13.8-2.2 19.5-6.5S836 623.3 838 616l112-448c2-10-.2-19.2-6.5-27.5S929 128 919 128H96c-9.3 0-17 3-23 9s-9 13.7-9 23 3 17 9 23 13.7 9 23 9h96v576h672c9.3 0 17-3 23-9s9-13.7 9-23-3-17-9-23-13.7-9-23-9H256v-64zM256 192h622l-96 384H256zm432 641c-13.3 0-24.5 4.5-33.5 13.5S641 866.7 641 880s4.5 24.5 13.5 33.5 20.2 13.8 33.5 14.5c13.3-.7 24.5-5.5 33.5-14.5S735 893.3 735 880s-4.5-24.5-13.5-33.5S701.3 833 688 833"})]))}}),RLe=kLe,OLe=Be({name:"Smoking",__name:"smoking",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M256 576v128h640V576zm-32-64h704a32 32 0 0 1 32 32v192a32 32 0 0 1-32 32H224a32 32 0 0 1-32-32V544a32 32 0 0 1 32-32"}),pe("path",{fill:"currentColor",d:"M704 576h64v128h-64zM256 64h64v320h-64zM128 192h64v192h-64zM64 512h64v256H64z"})]))}}),DLe=OLe,NLe=Be({name:"Soccer",__name:"soccer",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M418.496 871.04 152.256 604.8c-16.512 94.016-2.368 178.624 42.944 224 44.928 44.928 129.344 58.752 223.296 42.24m72.32-18.176a573.056 573.056 0 0 0 224.832-137.216 573.12 573.12 0 0 0 137.216-224.832L533.888 171.84a578.56 578.56 0 0 0-227.52 138.496A567.68 567.68 0 0 0 170.432 532.48l320.384 320.384zM871.04 418.496c16.512-93.952 2.688-178.368-42.24-223.296-44.544-44.544-128.704-58.048-222.592-41.536zM149.952 874.048c-112.96-112.96-88.832-408.96 111.168-608.96C461.056 65.152 760.96 36.928 874.048 149.952c113.024 113.024 86.784 411.008-113.152 610.944-199.936 199.936-497.92 226.112-610.944 113.152m452.544-497.792 22.656-22.656a32 32 0 0 1 45.248 45.248l-22.656 22.656 45.248 45.248A32 32 0 1 1 647.744 512l-45.248-45.248L557.248 512l45.248 45.248a32 32 0 1 1-45.248 45.248L512 557.248l-45.248 45.248L512 647.744a32 32 0 1 1-45.248 45.248l-45.248-45.248-22.656 22.656a32 32 0 1 1-45.248-45.248l22.656-22.656-45.248-45.248A32 32 0 1 1 376.256 512l45.248 45.248L466.752 512l-45.248-45.248a32 32 0 1 1 45.248-45.248L512 466.752l45.248-45.248L512 376.256a32 32 0 0 1 45.248-45.248l45.248 45.248z"})]))}}),ULe=NLe,zLe=Be({name:"SoldOut",__name:"sold-out",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M704 288h131.072a32 32 0 0 1 31.808 28.8L886.4 512h-64.384l-16-160H704v96a32 32 0 1 1-64 0v-96H384v96a32 32 0 0 1-64 0v-96H217.92l-51.2 512H512v64H131.328a32 32 0 0 1-31.808-35.2l57.6-576a32 32 0 0 1 31.808-28.8H320v-22.336C320 154.688 405.504 64 512 64s192 90.688 192 201.664v22.4zm-64 0v-22.336C640 189.248 582.272 128 512 128c-70.272 0-128 61.248-128 137.664v22.4h256zm201.408 476.16a32 32 0 1 1 45.248 45.184l-128 128a32 32 0 0 1-45.248 0l-128-128a32 32 0 1 1 45.248-45.248L704 837.504V608a32 32 0 1 1 64 0v229.504l73.408-73.408z"})]))}}),$Le=zLe,VLe=Be({name:"SortDown",__name:"sort-down",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0"})]))}}),cre=VLe,HLe=Be({name:"SortUp",__name:"sort-up",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248"})]))}}),hre=HLe,QLe=Be({name:"Sort",__name:"sort",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M384 96a32 32 0 0 1 64 0v786.752a32 32 0 0 1-54.592 22.656L95.936 608a32 32 0 0 1 0-45.312h.128a32 32 0 0 1 45.184 0L384 805.632zm192 45.248a32 32 0 0 1 54.592-22.592L928.064 416a32 32 0 0 1 0 45.312h-.128a32 32 0 0 1-45.184 0L640 218.496V928a32 32 0 1 1-64 0V141.248z"})]))}}),jLe=QLe,GLe=Be({name:"Stamp",__name:"stamp",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M624 475.968V640h144a128 128 0 0 1 128 128H128a128 128 0 0 1 128-128h144V475.968a192 192 0 1 1 224 0M128 896v-64h768v64z"})]))}}),KLe=GLe,WLe=Be({name:"StarFilled",__name:"star-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"})]))}}),h4=WLe,qLe=Be({name:"Star",__name:"star",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}}),dre=qLe,YLe=Be({name:"Stopwatch",__name:"stopwatch",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),pe("path",{fill:"currentColor",d:"M672 234.88c-39.168 174.464-80 298.624-122.688 372.48-64 110.848-202.624 30.848-138.624-80C453.376 453.44 540.48 355.968 672 234.816z"})]))}}),XLe=YLe,ZLe=Be({name:"SuccessFilled",__name:"success-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),zN=ZLe,JLe=Be({name:"Sugar",__name:"sugar",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m801.728 349.184 4.48 4.48a128 128 0 0 1 0 180.992L534.656 806.144a128 128 0 0 1-181.056 0l-4.48-4.48-19.392 109.696a64 64 0 0 1-108.288 34.176L78.464 802.56a64 64 0 0 1 34.176-108.288l109.76-19.328-4.544-4.544a128 128 0 0 1 0-181.056l271.488-271.488a128 128 0 0 1 181.056 0l4.48 4.48 19.392-109.504a64 64 0 0 1 108.352-34.048l142.592 143.04a64 64 0 0 1-34.24 108.16l-109.248 19.2zm-548.8 198.72h447.168v2.24l60.8-60.8a63.808 63.808 0 0 0 18.752-44.416h-426.88l-89.664 89.728a64.064 64.064 0 0 0-10.24 13.248zm0 64c2.752 4.736 6.144 9.152 10.176 13.248l135.744 135.744a64 64 0 0 0 90.496 0L638.4 611.904zm490.048-230.976L625.152 263.104a64 64 0 0 0-90.496 0L416.768 380.928zM123.712 757.312l142.976 142.976 24.32-137.6a25.6 25.6 0 0 0-29.696-29.632l-137.6 24.256zm633.6-633.344-24.32 137.472a25.6 25.6 0 0 0 29.632 29.632l137.28-24.064-142.656-143.04z"})]))}}),ePe=JLe,tPe=Be({name:"SuitcaseLine",__name:"suitcase-line",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M922.5 229.5c-24.32-24.34-54.49-36.84-90.5-37.5H704v-64c-.68-17.98-7.02-32.98-19.01-44.99S658.01 64.66 640 64H384c-17.98.68-32.98 7.02-44.99 19.01S320.66 110 320 128v64H192c-35.99.68-66.16 13.18-90.5 37.5C77.16 253.82 64.66 283.99 64 320v448c.68 35.99 13.18 66.16 37.5 90.5s54.49 36.84 90.5 37.5h640c35.99-.68 66.16-13.18 90.5-37.5s36.84-54.49 37.5-90.5V320c-.68-35.99-13.18-66.16-37.5-90.5M384 128h256v64H384zM256 832h-64c-17.98-.68-32.98-7.02-44.99-19.01S128.66 786.01 128 768V448h128zm448 0H320V448h384zm192-64c-.68 17.98-7.02 32.98-19.01 44.99S850.01 831.34 832 832h-64V448h128zm0-384H128v-64c.69-17.98 7.02-32.98 19.01-44.99S173.99 256.66 192 256h640c17.98.69 32.98 7.02 44.99 19.01S895.34 301.99 896 320z"})]))}}),nPe=tPe,rPe=Be({name:"Suitcase",__name:"suitcase",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M128 384h768v-64a64 64 0 0 0-64-64H192a64 64 0 0 0-64 64zm0 64v320a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V448zm64-256h640a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128H192A128 128 0 0 1 64 768V320a128 128 0 0 1 128-128"}),pe("path",{fill:"currentColor",d:"M384 128v64h256v-64zm0-64h256a64 64 0 0 1 64 64v64a64 64 0 0 1-64 64H384a64 64 0 0 1-64-64v-64a64 64 0 0 1 64-64"})]))}}),iPe=rPe,aPe=Be({name:"Sunny",__name:"sunny",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 704a192 192 0 1 0 0-384 192 192 0 0 0 0 384m0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512m0-704a32 32 0 0 1 32 32v64a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 768a32 32 0 0 1 32 32v64a32 32 0 1 1-64 0v-64a32 32 0 0 1 32-32M195.2 195.2a32 32 0 0 1 45.248 0l45.248 45.248a32 32 0 1 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm543.104 543.104a32 32 0 0 1 45.248 0l45.248 45.248a32 32 0 0 1-45.248 45.248l-45.248-45.248a32 32 0 0 1 0-45.248M64 512a32 32 0 0 1 32-32h64a32 32 0 0 1 0 64H96a32 32 0 0 1-32-32m768 0a32 32 0 0 1 32-32h64a32 32 0 1 1 0 64h-64a32 32 0 0 1-32-32M195.2 828.8a32 32 0 0 1 0-45.248l45.248-45.248a32 32 0 0 1 45.248 45.248L240.448 828.8a32 32 0 0 1-45.248 0zm543.104-543.104a32 32 0 0 1 0-45.248l45.248-45.248a32 32 0 0 1 45.248 45.248l-45.248 45.248a32 32 0 0 1-45.248 0"})]))}}),sPe=aPe,oPe=Be({name:"Sunrise",__name:"sunrise",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M32 768h960a32 32 0 1 1 0 64H32a32 32 0 1 1 0-64m129.408-96a352 352 0 0 1 701.184 0h-64.32a288 288 0 0 0-572.544 0h-64.32zM512 128a32 32 0 0 1 32 32v96a32 32 0 0 1-64 0v-96a32 32 0 0 1 32-32m407.296 168.704a32 32 0 0 1 0 45.248l-67.84 67.84a32 32 0 1 1-45.248-45.248l67.84-67.84a32 32 0 0 1 45.248 0zm-814.592 0a32 32 0 0 1 45.248 0l67.84 67.84a32 32 0 1 1-45.248 45.248l-67.84-67.84a32 32 0 0 1 0-45.248"})]))}}),lPe=oPe,uPe=Be({name:"Sunset",__name:"sunset",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M82.56 640a448 448 0 1 1 858.88 0h-67.2a384 384 0 1 0-724.288 0zM32 704h960q32 0 32 32t-32 32H32q-32 0-32-32t32-32m256 128h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32"})]))}}),cPe=uPe,hPe=Be({name:"SwitchButton",__name:"switch-button",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M352 159.872V230.4a352 352 0 1 0 320 0v-70.528A416.128 416.128 0 0 1 512 960a416 416 0 0 1-160-800.128z"}),pe("path",{fill:"currentColor",d:"M512 64q32 0 32 32v320q0 32-32 32t-32-32V96q0-32 32-32"})]))}}),dPe=hPe,fPe=Be({name:"SwitchFilled",__name:"switch-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M247.47 358.4v.04c.07 19.17 7.72 37.53 21.27 51.09s31.92 21.2 51.09 21.27c39.86 0 72.41-32.6 72.41-72.4s-32.6-72.36-72.41-72.36-72.36 32.55-72.36 72.36z"}),pe("path",{fill:"currentColor",d:"M492.38 128H324.7c-52.16 0-102.19 20.73-139.08 57.61a196.655 196.655 0 0 0-57.61 139.08V698.7c-.01 25.84 5.08 51.42 14.96 75.29s24.36 45.56 42.63 63.83 39.95 32.76 63.82 42.65a196.67 196.67 0 0 0 75.28 14.98h167.68c3.03 0 5.46-2.43 5.46-5.42V133.42c.6-2.99-1.83-5.42-5.46-5.42zm-56.11 705.88H324.7c-17.76.13-35.36-3.33-51.75-10.18s-31.22-16.94-43.61-29.67c-25.3-25.35-39.81-59.1-39.81-95.32V324.69c-.13-17.75 3.33-35.35 10.17-51.74a131.695 131.695 0 0 1 29.64-43.62c25.39-25.3 59.14-39.81 95.36-39.81h111.57zm402.12-647.67a196.655 196.655 0 0 0-139.08-57.61H580.48c-3.03 0-4.82 2.43-4.82 4.82v757.16c-.6 2.99 1.79 5.42 5.42 5.42h118.23a196.69 196.69 0 0 0 139.08-57.61A196.655 196.655 0 0 0 896 699.31V325.29a196.69 196.69 0 0 0-57.61-139.08zm-111.3 441.92c-42.83 0-77.82-34.99-77.82-77.82s34.98-77.82 77.82-77.82c42.83 0 77.82 34.99 77.82 77.82s-34.99 77.82-77.82 77.82z"})]))}}),pPe=fPe,APe=Be({name:"Switch",__name:"switch",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M118.656 438.656a32 32 0 0 1 0-45.248L416 96l4.48-3.776A32 32 0 0 1 461.248 96l3.712 4.48a32.064 32.064 0 0 1-3.712 40.832L218.56 384H928a32 32 0 1 1 0 64H141.248a32 32 0 0 1-22.592-9.344zM64 608a32 32 0 0 1 32-32h786.752a32 32 0 0 1 22.656 54.592L608 928l-4.48 3.776a32.064 32.064 0 0 1-40.832-49.024L805.632 640H96a32 32 0 0 1-32-32"})]))}}),mPe=APe,gPe=Be({name:"TakeawayBox",__name:"takeaway-box",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M832 384H192v448h640zM96 320h832V128H96zm800 64v480a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V384H64a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32h896a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32zM416 512h192a32 32 0 0 1 0 64H416a32 32 0 0 1 0-64"})]))}}),vPe=gPe,_Pe=Be({name:"Ticket",__name:"ticket",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M640 832H64V640a128 128 0 1 0 0-256V192h576v160h64V192h256v192a128 128 0 1 0 0 256v192H704V672h-64zm0-416v192h64V416z"})]))}}),yPe=_Pe,bPe=Be({name:"Tickets",__name:"tickets",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M192 128v768h640V128zm-32-64h704a32 32 0 0 1 32 32v832a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h192v64H320zm0 384h384v64H320z"})]))}}),wPe=bPe,xPe=Be({name:"Timer",__name:"timer",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 896a320 320 0 1 0 0-640 320 320 0 0 0 0 640m0 64a384 384 0 1 1 0-768 384 384 0 0 1 0 768"}),pe("path",{fill:"currentColor",d:"M512 320a32 32 0 0 1 32 32l-.512 224a32 32 0 1 1-64 0L480 352a32 32 0 0 1 32-32"}),pe("path",{fill:"currentColor",d:"M448 576a64 64 0 1 0 128 0 64 64 0 1 0-128 0m96-448v128h-64V128h-96a32 32 0 0 1 0-64h256a32 32 0 1 1 0 64z"})]))}}),CPe=xPe,EPe=Be({name:"ToiletPaper",__name:"toilet-paper",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M595.2 128H320a192 192 0 0 0-192 192v576h384V352c0-90.496 32.448-171.2 83.2-224M736 64c123.712 0 224 128.96 224 288S859.712 640 736 640H576v320H64V320A256 256 0 0 1 320 64zM576 352v224h160c84.352 0 160-97.28 160-224s-75.648-224-160-224-160 97.28-160 224"}),pe("path",{fill:"currentColor",d:"M736 448c-35.328 0-64-43.008-64-96s28.672-96 64-96 64 43.008 64 96-28.672 96-64 96"})]))}}),SPe=EPe,TPe=Be({name:"Tools",__name:"tools",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M764.416 254.72a351.68 351.68 0 0 1 86.336 149.184H960v192.064H850.752a351.68 351.68 0 0 1-86.336 149.312l54.72 94.72-166.272 96-54.592-94.72a352.64 352.64 0 0 1-172.48 0L371.136 936l-166.272-96 54.72-94.72a351.68 351.68 0 0 1-86.336-149.312H64v-192h109.248a351.68 351.68 0 0 1 86.336-149.312L204.8 160l166.208-96h.192l54.656 94.592a352.64 352.64 0 0 1 172.48 0L652.8 64h.128L819.2 160l-54.72 94.72zM704 499.968a192 192 0 1 0-384 0 192 192 0 0 0 384 0"})]))}}),BPe=TPe,MPe=Be({name:"TopLeft",__name:"top-left",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M256 256h416a32 32 0 1 0 0-64H224a32 32 0 0 0-32 32v448a32 32 0 0 0 64 0z"}),pe("path",{fill:"currentColor",d:"M246.656 201.344a32 32 0 0 0-45.312 45.312l544 544a32 32 0 0 0 45.312-45.312l-544-544z"})]))}}),IPe=MPe,LPe=Be({name:"TopRight",__name:"top-right",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M768 256H353.6a32 32 0 1 1 0-64H800a32 32 0 0 1 32 32v448a32 32 0 0 1-64 0z"}),pe("path",{fill:"currentColor",d:"M777.344 201.344a32 32 0 0 1 45.312 45.312l-544 544a32 32 0 0 1-45.312-45.312l544-544z"})]))}}),PPe=LPe,FPe=Be({name:"Top",__name:"top",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M572.235 205.282v600.365a30.118 30.118 0 1 1-60.235 0V205.282L292.382 438.633a28.913 28.913 0 0 1-42.646 0 33.43 33.43 0 0 1 0-45.236l271.058-288.045a28.913 28.913 0 0 1 42.647 0L834.5 393.397a33.43 33.43 0 0 1 0 45.176 28.913 28.913 0 0 1-42.647 0l-219.618-233.23z"})]))}}),kPe=FPe,RPe=Be({name:"TrendCharts",__name:"trend-charts",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M128 896V128h768v768zm291.712-327.296 128 102.4 180.16-201.792-47.744-42.624-139.84 156.608-128-102.4-180.16 201.792 47.744 42.624 139.84-156.608zM816 352a48 48 0 1 0-96 0 48 48 0 0 0 96 0"})]))}}),OPe=RPe,DPe=Be({name:"TrophyBase",__name:"trophy-base",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M918.4 201.6c-6.4-6.4-12.8-9.6-22.4-9.6H768V96c0-9.6-3.2-16-9.6-22.4C752 67.2 745.6 64 736 64H288c-9.6 0-16 3.2-22.4 9.6C259.2 80 256 86.4 256 96v96H128c-9.6 0-16 3.2-22.4 9.6-6.4 6.4-9.6 16-9.6 22.4 3.2 108.8 25.6 185.6 64 224 34.4 34.4 77.56 55.65 127.65 61.99 10.91 20.44 24.78 39.25 41.95 56.41 40.86 40.86 91 65.47 150.4 71.9V768h-96c-9.6 0-16 3.2-22.4 9.6-6.4 6.4-9.6 12.8-9.6 22.4s3.2 16 9.6 22.4c6.4 6.4 12.8 9.6 22.4 9.6h256c9.6 0 16-3.2 22.4-9.6 6.4-6.4 9.6-12.8 9.6-22.4s-3.2-16-9.6-22.4c-6.4-6.4-12.8-9.6-22.4-9.6h-96V637.26c59.4-7.71 109.54-30.01 150.4-70.86 17.2-17.2 31.51-36.06 42.81-56.55 48.93-6.51 90.02-27.7 126.79-61.85 38.4-38.4 60.8-112 64-224 0-6.4-3.2-16-9.6-22.4zM256 438.4c-19.2-6.4-35.2-19.2-51.2-35.2-22.4-22.4-35.2-70.4-41.6-147.2H256zm390.4 80C608 553.6 566.4 576 512 576s-99.2-19.2-134.4-57.6C342.4 480 320 438.4 320 384V128h384v256c0 54.4-19.2 99.2-57.6 134.4m172.8-115.2c-16 16-32 25.6-51.2 35.2V256h92.8c-6.4 76.8-19.2 124.8-41.6 147.2zM768 896H256c-9.6 0-16 3.2-22.4 9.6-6.4 6.4-9.6 12.8-9.6 22.4s3.2 16 9.6 22.4c6.4 6.4 12.8 9.6 22.4 9.6h512c9.6 0 16-3.2 22.4-9.6 6.4-6.4 9.6-12.8 9.6-22.4s-3.2-16-9.6-22.4c-6.4-6.4-12.8-9.6-22.4-9.6"})]))}}),NPe=DPe,UPe=Be({name:"Trophy",__name:"trophy",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M480 896V702.08A256.256 256.256 0 0 1 264.064 512h-32.64a96 96 0 0 1-91.968-68.416L93.632 290.88a76.8 76.8 0 0 1 73.6-98.88H256V96a32 32 0 0 1 32-32h448a32 32 0 0 1 32 32v96h88.768a76.8 76.8 0 0 1 73.6 98.88L884.48 443.52A96 96 0 0 1 792.576 512h-32.64A256.256 256.256 0 0 1 544 702.08V896h128a32 32 0 1 1 0 64H352a32 32 0 1 1 0-64zm224-448V128H320v320a192 192 0 1 0 384 0m64 0h24.576a32 32 0 0 0 30.656-22.784l45.824-152.768A12.8 12.8 0 0 0 856.768 256H768zm-512 0V256h-88.768a12.8 12.8 0 0 0-12.288 16.448l45.824 152.768A32 32 0 0 0 231.424 448z"})]))}}),zPe=UPe,$Pe=Be({name:"TurnOff",__name:"turn-off",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M329.956 257.138a254.862 254.862 0 0 0 0 509.724h364.088a254.862 254.862 0 0 0 0-509.724zm0-72.818h364.088a327.68 327.68 0 1 1 0 655.36H329.956a327.68 327.68 0 1 1 0-655.36z"}),pe("path",{fill:"currentColor",d:"M329.956 621.227a109.227 109.227 0 1 0 0-218.454 109.227 109.227 0 0 0 0 218.454m0 72.817a182.044 182.044 0 1 1 0-364.088 182.044 182.044 0 0 1 0 364.088"})]))}}),VPe=$Pe,HPe=Be({name:"Umbrella",__name:"umbrella",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M320 768a32 32 0 1 1 64 0 64 64 0 0 0 128 0V512H64a448 448 0 1 1 896 0H576v256a128 128 0 1 1-256 0m570.688-320a384.128 384.128 0 0 0-757.376 0z"})]))}}),QPe=HPe,jPe=Be({name:"Unlock",__name:"unlock",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M224 448a32 32 0 0 0-32 32v384a32 32 0 0 0 32 32h576a32 32 0 0 0 32-32V480a32 32 0 0 0-32-32zm0-64h576a96 96 0 0 1 96 96v384a96 96 0 0 1-96 96H224a96 96 0 0 1-96-96V480a96 96 0 0 1 96-96"}),pe("path",{fill:"currentColor",d:"M512 544a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V576a32 32 0 0 1 32-32m178.304-295.296A192.064 192.064 0 0 0 320 320v64h352l96 38.4V448H256V320a256 256 0 0 1 493.76-95.104z"})]))}}),GPe=jPe,KPe=Be({name:"UploadFilled",__name:"upload-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M544 864V672h128L512 480 352 672h128v192H320v-1.6c-5.376.32-10.496 1.6-16 1.6A240 240 0 0 1 64 624c0-123.136 93.12-223.488 212.608-237.248A239.808 239.808 0 0 1 512 192a239.872 239.872 0 0 1 235.456 194.752c119.488 13.76 212.48 114.112 212.48 237.248a240 240 0 0 1-240 240c-5.376 0-10.56-1.28-16-1.6v1.6z"})]))}}),WPe=KPe,qPe=Be({name:"Upload",__name:"upload",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M160 832h704a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64m384-578.304V704h-64V247.296L237.248 490.048 192 444.8 508.8 128l316.8 316.8-45.312 45.248z"})]))}}),YPe=qPe,XPe=Be({name:"UserFilled",__name:"user-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M288 320a224 224 0 1 0 448 0 224 224 0 1 0-448 0m544 608H160a32 32 0 0 1-32-32v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 0 1-32 32z"})]))}}),ZPe=XPe,JPe=Be({name:"User",__name:"user",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 512a192 192 0 1 0 0-384 192 192 0 0 0 0 384m0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512m320 320v-96a96 96 0 0 0-96-96H288a96 96 0 0 0-96 96v96a32 32 0 1 1-64 0v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 1 1-64 0"})]))}}),eFe=JPe,tFe=Be({name:"Van",__name:"van",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M128.896 736H96a32 32 0 0 1-32-32V224a32 32 0 0 1 32-32h576a32 32 0 0 1 32 32v96h164.544a32 32 0 0 1 31.616 27.136l54.144 352A32 32 0 0 1 922.688 736h-91.52a144 144 0 1 1-286.272 0H415.104a144 144 0 1 1-286.272 0zm23.36-64a143.872 143.872 0 0 1 239.488 0H568.32c17.088-25.6 42.24-45.376 71.744-55.808V256H128v416zm655.488 0h77.632l-19.648-128H704v64.896A144 144 0 0 1 807.744 672m48.128-192-14.72-96H704v96h151.872M688 832a80 80 0 1 0 0-160 80 80 0 0 0 0 160m-416 0a80 80 0 1 0 0-160 80 80 0 0 0 0 160"})]))}}),nFe=tFe,rFe=Be({name:"VideoCameraFilled",__name:"video-camera-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m768 576 192-64v320l-192-64v96a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V480a32 32 0 0 1 32-32h640a32 32 0 0 1 32 32zM192 768v64h384v-64zm192-480a160 160 0 0 1 320 0 160 160 0 0 1-320 0m64 0a96 96 0 1 0 192.064-.064A96 96 0 0 0 448 288m-320 32a128 128 0 1 1 256.064.064A128 128 0 0 1 128 320m64 0a64 64 0 1 0 128 0 64 64 0 0 0-128 0"})]))}}),iFe=rFe,aFe=Be({name:"VideoCamera",__name:"video-camera",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M704 768V256H128v512zm64-416 192-96v512l-192-96v128a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V224a32 32 0 0 1 32-32h640a32 32 0 0 1 32 32zm0 71.552v176.896l128 64V359.552zM192 320h192v64H192z"})]))}}),sFe=aFe,oFe=Be({name:"VideoPause",__name:"video-pause",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 832a384 384 0 0 0 0-768 384 384 0 0 0 0 768m-96-544q32 0 32 32v256q0 32-32 32t-32-32V384q0-32 32-32m192 0q32 0 32 32v256q0 32-32 32t-32-32V384q0-32 32-32"})]))}}),lFe=oFe,uFe=Be({name:"VideoPlay",__name:"video-play",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 832a384 384 0 0 0 0-768 384 384 0 0 0 0 768m-48-247.616L668.608 512 464 375.616zm10.624-342.656 249.472 166.336a48 48 0 0 1 0 79.872L474.624 718.272A48 48 0 0 1 400 678.336V345.6a48 48 0 0 1 74.624-39.936z"})]))}}),cFe=uFe,hFe=Be({name:"View",__name:"view",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),fre=hFe,dFe=Be({name:"WalletFilled",__name:"wallet-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M688 512a112 112 0 1 0 0 224h208v160H128V352h768v160zm32 160h-32a48 48 0 0 1 0-96h32a48 48 0 0 1 0 96m-80-544 128 160H384z"})]))}}),fFe=dFe,pFe=Be({name:"Wallet",__name:"wallet",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M640 288h-64V128H128v704h384v32a32 32 0 0 0 32 32H96a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32h512a32 32 0 0 1 32 32z"}),pe("path",{fill:"currentColor",d:"M128 320v512h768V320zm-32-64h832a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V288a32 32 0 0 1 32-32"}),pe("path",{fill:"currentColor",d:"M704 640a64 64 0 1 1 0-128 64 64 0 0 1 0 128"})]))}}),AFe=pFe,mFe=Be({name:"WarnTriangleFilled",__name:"warn-triangle-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M928.99 755.83 574.6 203.25c-12.89-20.16-36.76-32.58-62.6-32.58s-49.71 12.43-62.6 32.58L95.01 755.83c-12.91 20.12-12.9 44.91.01 65.03 12.92 20.12 36.78 32.51 62.59 32.49h708.78c25.82.01 49.68-12.37 62.59-32.49 12.91-20.12 12.92-44.91.01-65.03M554.67 768h-85.33v-85.33h85.33zm0-426.67v298.66h-85.33V341.32z"})]))}}),gFe=mFe,vFe=Be({name:"WarningFilled",__name:"warning-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),R6=vFe,_Fe=Be({name:"Warning",__name:"warning",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 832a384 384 0 0 0 0-768 384 384 0 0 0 0 768m48-176a48 48 0 1 1-96 0 48 48 0 0 1 96 0m-48-464a32 32 0 0 1 32 32v288a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"})]))}}),yFe=_Fe,bFe=Be({name:"Watch",__name:"watch",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 768a256 256 0 1 0 0-512 256 256 0 0 0 0 512m0 64a320 320 0 1 1 0-640 320 320 0 0 1 0 640"}),pe("path",{fill:"currentColor",d:"M480 352a32 32 0 0 1 32 32v160a32 32 0 0 1-64 0V384a32 32 0 0 1 32-32"}),pe("path",{fill:"currentColor",d:"M480 512h128q32 0 32 32t-32 32H480q-32 0-32-32t32-32m128-256V128H416v128h-64V64h320v192zM416 768v128h192V768h64v192H352V768z"})]))}}),wFe=bFe,xFe=Be({name:"Watermelon",__name:"watermelon",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m683.072 600.32-43.648 162.816-61.824-16.512 53.248-198.528L576 493.248l-158.4 158.4-45.248-45.248 158.4-158.4-55.616-55.616-198.528 53.248-16.512-61.824 162.816-43.648L282.752 200A384 384 0 0 0 824 741.248zm231.552 141.056a448 448 0 1 1-632-632l632 632"})]))}}),CFe=xFe,EFe=Be({name:"WindPower",__name:"wind-power",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M160 64q32 0 32 32v832q0 32-32 32t-32-32V96q0-32 32-32m416 354.624 128-11.584V168.96l-128-11.52v261.12zm-64 5.824V151.552L320 134.08V160h-64V64l616.704 56.064A96 96 0 0 1 960 215.68v144.64a96 96 0 0 1-87.296 95.616L256 512V224h64v217.92zm256-23.232 98.88-8.96A32 32 0 0 0 896 360.32V215.68a32 32 0 0 0-29.12-31.872l-98.88-8.96z"})]))}}),SFe=EFe,TFe=Be({name:"ZoomIn",__name:"zoom-in",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),$N=TFe,BFe=Be({name:"ZoomOut",__name:"zoom-out",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),pre=BFe;const MFe=Object.freeze(Object.defineProperty({__proto__:null,AddLocation:SEe,Aim:BEe,AlarmClock:IEe,Apple:PEe,ArrowDown:Em,ArrowDownBold:kEe,ArrowLeft:qg,ArrowLeftBold:DEe,ArrowRight:Oc,ArrowRightBold:zEe,ArrowUp:Z8,ArrowUpBold:HEe,Avatar:GEe,Back:Wne,Baseball:qEe,Basketball:XEe,Bell:t3e,BellFilled:JEe,Bicycle:r3e,Bottom:u3e,BottomLeft:a3e,BottomRight:o3e,Bowl:h3e,Box:f3e,Briefcase:A3e,Brush:_3e,BrushFilled:g3e,Burger:b3e,Calendar:qne,Camera:S3e,CameraFilled:C3e,CaretBottom:B3e,CaretLeft:I3e,CaretRight:DN,CaretTop:Yne,Cellphone:k3e,ChatDotRound:O3e,ChatDotSquare:N3e,ChatLineRound:z3e,ChatLineSquare:V3e,ChatRound:Q3e,ChatSquare:G3e,Check:I2,Checked:q3e,Cherry:X3e,Chicken:J3e,ChromeFilled:tSe,CircleCheck:J8,CircleCheckFilled:Xne,CircleClose:o0,CircleCloseFilled:eB,CirclePlus:uSe,CirclePlusFilled:oSe,Clock:NN,Close:Tf,CloseBold:dSe,Cloudy:ASe,Coffee:_Se,CoffeeCup:gSe,Coin:bSe,ColdDrink:xSe,Collection:TSe,CollectionTag:ESe,Comment:MSe,Compass:LSe,Connection:FSe,Coordinate:RSe,CopyDocument:DSe,Cpu:USe,CreditCard:$Se,Crop:HSe,DArrowLeft:ry,DArrowRight:iy,DCaret:KSe,DataAnalysis:qSe,DataBoard:XSe,DataLine:JSe,Delete:Zne,DeleteFilled:tTe,DeleteLocation:rTe,Dessert:sTe,Discount:lTe,Dish:dTe,DishDot:cTe,Document:Jne,DocumentAdd:pTe,DocumentChecked:mTe,DocumentCopy:vTe,DocumentDelete:yTe,DocumentRemove:wTe,Download:ETe,Drizzling:TTe,Edit:LTe,EditPen:MTe,Eleme:RTe,ElemeFilled:FTe,ElementPlus:DTe,Expand:UTe,Failed:$Te,Female:HTe,Files:jTe,Film:KTe,Filter:qTe,Finished:XTe,FirstAidKit:JTe,Flag:t8e,Fold:r8e,Folder:A8e,FolderAdd:a8e,FolderChecked:o8e,FolderDelete:u8e,FolderOpened:h8e,FolderRemove:f8e,Food:g8e,Football:_8e,ForkSpoon:b8e,Fries:x8e,FullScreen:ere,Goblet:P8e,GobletFull:S8e,GobletSquare:I8e,GobletSquareFull:B8e,GoldMedal:k8e,Goods:N8e,GoodsFilled:O8e,Grape:z8e,Grid:V8e,Guide:Q8e,Handbag:G8e,Headset:W8e,Help:Z8e,HelpFilled:Y8e,Hide:tre,Histogram:tBe,HomeFilled:rBe,HotWater:aBe,House:oBe,IceCream:fBe,IceCreamRound:uBe,IceCreamSquare:hBe,IceDrink:ABe,IceTea:gBe,InfoFilled:tB,Iphone:yBe,Key:wBe,KnifeFork:CBe,Lightning:SBe,Link:BBe,List:IBe,Loading:l0,Location:DBe,LocationFilled:FBe,LocationInformation:RBe,Lock:UBe,Lollipop:$Be,MagicStick:HBe,Magnet:jBe,Male:KBe,Management:qBe,MapLocation:XBe,Medal:JBe,Memo:tMe,Menu:rMe,Message:oMe,MessageBox:aMe,Mic:uMe,Microphone:hMe,MilkTea:fMe,Minus:nre,Money:mMe,Monitor:vMe,Moon:wMe,MoonNight:yMe,More:rre,MoreFilled:_k,MostlyCloudy:SMe,Mouse:BMe,Mug:IMe,Mute:kMe,MuteNotification:PMe,NoSmoking:OMe,Notebook:NMe,Notification:zMe,Odometer:VMe,OfficeBuilding:QMe,Open:GMe,Operation:WMe,Opportunity:YMe,Orange:ZMe,Paperclip:eIe,PartlyCloudy:nIe,Pear:iIe,Phone:lIe,PhoneFilled:sIe,Picture:fIe,PictureFilled:ire,PictureRounded:hIe,PieChart:AIe,Place:gIe,Platform:_Ie,Plus:UN,Pointer:wIe,Position:CIe,Postcard:SIe,Pouring:BIe,Present:IIe,PriceTag:PIe,Printer:kIe,Promotion:OIe,QuartzWatch:NIe,QuestionFilled:are,Rank:$Ie,Reading:jIe,ReadingLamp:HIe,Refresh:qIe,RefreshLeft:sre,RefreshRight:ore,Refrigerator:XIe,Remove:tLe,RemoveFilled:JIe,Right:rLe,ScaleToOriginal:lre,School:sLe,Scissor:lLe,Search:ure,Select:hLe,Sell:fLe,SemiSelect:ALe,Service:gLe,SetUp:_Le,Setting:bLe,Share:xLe,Ship:ELe,Shop:TLe,ShoppingBag:MLe,ShoppingCart:FLe,ShoppingCartFull:LLe,ShoppingTrolley:RLe,Smoking:DLe,Soccer:ULe,SoldOut:$Le,Sort:jLe,SortDown:cre,SortUp:hre,Stamp:KLe,Star:dre,StarFilled:h4,Stopwatch:XLe,SuccessFilled:zN,Sugar:ePe,Suitcase:iPe,SuitcaseLine:nPe,Sunny:sPe,Sunrise:lPe,Sunset:cPe,Switch:mPe,SwitchButton:dPe,SwitchFilled:pPe,TakeawayBox:vPe,Ticket:yPe,Tickets:wPe,Timer:CPe,ToiletPaper:SPe,Tools:BPe,Top:kPe,TopLeft:IPe,TopRight:PPe,TrendCharts:OPe,Trophy:zPe,TrophyBase:NPe,TurnOff:VPe,Umbrella:QPe,Unlock:GPe,Upload:YPe,UploadFilled:WPe,User:eFe,UserFilled:ZPe,Van:nFe,VideoCamera:sFe,VideoCameraFilled:iFe,VideoPause:lFe,VideoPlay:cFe,View:fre,Wallet:AFe,WalletFilled:fFe,WarnTriangleFilled:gFe,Warning:yFe,WarningFilled:R6,Watch:wFe,Watermelon:CFe,WindPower:SFe,ZoomIn:$N,ZoomOut:pre},Symbol.toStringTag,{value:"Module"})),Are="__epPropKey",Rt=t=>t,IFe=t=>Ai(t)&&!!t[Are],tA=(t,e)=>{if(!Ai(t)||IFe(t))return t;const{values:n,required:r,default:i,type:s,validator:l}=t,a={type:s,required:!!r,validator:n||l?f=>{let A=!1,m=[];if(n&&(m=Array.from(n),ra(t,"default")&&m.push(i),A||(A=m.includes(f))),l&&(A||(A=l(f))),!A&&m.length>0){const _=[...new Set(m)].map(y=>JSON.stringify(y)).join(", ");V0e(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${_}], got value ${JSON.stringify(f)}.`)}return A}:void 0,[Are]:!0};return ra(t,"default")&&(a.default=i),a},Ln=t=>gT(Object.entries(t).map(([e,n])=>[e,tA(n,e)])),Ja=Rt([String,Object,Function]),VN={Close:Tf},HN={Close:Tf,SuccessFilled:zN,InfoFilled:tB,WarningFilled:R6,CircleCloseFilled:eB},Xv={success:zN,warning:R6,error:eB,info:tB},QN={validating:l0,success:J8,error:o0},fi=(t,e)=>{if(t.install=n=>{for(const r of[t,...Object.values(e??{})])n.component(r.name,r)},e)for(const[n,r]of Object.entries(e))t[n]=r;return t},mre=(t,e)=>(t.install=n=>{t._context=n._context,n.config.globalProperties[e]=t},t),LFe=(t,e)=>(t.install=n=>{n.directive(e,t)},t),ro=t=>(t.install=Va,t),nB=(...t)=>e=>{t.forEach(n=>{Dr(n)?n(e):n.value=e})},Tr={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},PFe=["year","years","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],_L=["sun","mon","tue","wed","thu","fri","sat"],vi="update:modelValue",_s="change",nh="input",OG=Symbol("INSTALLED_KEY"),Sm=["","default","small","large"],gre=t=>["",...Sm].includes(t);var hf=(t=>(t[t.TEXT=1]="TEXT",t[t.CLASS=2]="CLASS",t[t.STYLE=4]="STYLE",t[t.PROPS=8]="PROPS",t[t.FULL_PROPS=16]="FULL_PROPS",t[t.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",t[t.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",t[t.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",t[t.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",t[t.NEED_PATCH=512]="NEED_PATCH",t[t.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",t[t.HOISTED=-1]="HOISTED",t[t.BAIL=-2]="BAIL",t))(hf||{});function yk(t){return js(t)&&t.type===Vn}function FFe(t){return js(t)&&t.type===Lc}function kFe(t){return js(t)&&!yk(t)&&!FFe(t)}const RFe=t=>{if(!js(t))return{};const e=t.props||{},n=(js(t.type)?t.type.props:void 0)||{},r={};return Object.keys(n).forEach(i=>{ra(n[i],"default")&&(r[i]=n[i].default)}),Object.keys(e).forEach(i=>{r[Ud(i)]=e[i]}),r},OFe=t=>{if(!Jn(t)||t.length>1)throw new Error("expect to receive a single Vue element child");return t[0]},$v=t=>{const e=Jn(t)?t:[t],n=[];return e.forEach(r=>{var i;Jn(r)?n.push(...$v(r)):js(r)&&Jn(r.children)?n.push(...$v(r.children)):(n.push(r),js(r)&&((i=r.component)!=null&&i.subTree)&&n.push(...$v(r.component.subTree)))}),n},DG=t=>[...new Set(t)],Id=t=>!t&&t!==0?[]:Array.isArray(t)?t:[t],jN=t=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(t),to=t=>t;function DFe(t){let e=0;const n=(...r)=>{e&&ny(e),e=Yv(()=>{t(...r),e=0})};return n.cancel=()=>{ny(e),e=0},n}const NFe=["class","style"],UFe=/^on[A-Z]/,GN=(t={})=>{const{excludeListeners:e=!1,excludeKeys:n}=t,r=le(()=>((n==null?void 0:n.value)||[]).concat(NFe)),i=ci();return le(i?()=>{var s;return gT(Object.entries((s=i.proxy)==null?void 0:s.$attrs).filter(([l])=>!r.value.includes(l)&&!(e&&UFe.test(l))))}:()=>({}))},gu=({from:t,replacement:e,scope:n,version:r,ref:i,type:s="API"},l)=>{un(()=>S(l),c=>{},{immediate:!0})},vre=(t,e,n,r)=>{let i={offsetX:0,offsetY:0};const s=a=>{const f=a.clientX,A=a.clientY,{offsetX:m,offsetY:_}=i,y=t.value.getBoundingClientRect(),T=y.left,E=y.top,P=y.width,I=y.height,F=document.documentElement.clientWidth,R=document.documentElement.clientHeight,N=-T+m,z=-E+_,Q=F-T-P+m,j=R-E-I+_,H=ie=>{let q=m+ie.clientX-f,W=_+ie.clientY-A;r!=null&&r.value||(q=Math.min(Math.max(q,N),Q),W=Math.min(Math.max(W,z),j)),i={offsetX:q,offsetY:W},t.value&&(t.value.style.transform=`translate(${Co(q)}, ${Co(W)})`)},K=()=>{document.removeEventListener("mousemove",H),document.removeEventListener("mouseup",K)};document.addEventListener("mousemove",H),document.addEventListener("mouseup",K)},l=()=>{e.value&&t.value&&e.value.addEventListener("mousedown",s)},c=()=>{e.value&&t.value&&e.value.removeEventListener("mousedown",s)};kr(()=>{rc(()=>{n.value?l():c()})}),ds(()=>{c()})};var zFe={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const $Fe=t=>(e,n)=>VFe(e,n,S(t)),VFe=(t,e,n)=>Fo(n,t,t).replace(/\{(\w+)\}/g,(r,i)=>{var s;return`${(s=e==null?void 0:e[i])!=null?s:`{${i}}`}`}),HFe=t=>{const e=le(()=>S(t).name),n=hs(t)?t:Te(t);return{lang:e,locale:n,t:$Fe(t)}},_re=Symbol("localeContextKey"),ca=t=>{const e=t||ar(_re,Te());return HFe(le(()=>e.value||zFe))},Q4="el",QFe="is-",t_=(t,e,n,r,i)=>{let s=`${t}-${e}`;return n&&(s+=`-${n}`),r&&(s+=`__${r}`),i&&(s+=`--${i}`),s},yre=Symbol("namespaceContextKey"),KN=t=>{const e=t||(ci()?ar(yre,Te(Q4)):Te(Q4));return le(()=>S(e)||Q4)},vn=(t,e)=>{const n=KN(e);return{namespace:n,b:(E="")=>t_(n.value,t,E,"",""),e:E=>E?t_(n.value,t,"",E,""):"",m:E=>E?t_(n.value,t,"","",E):"",be:(E,P)=>E&&P?t_(n.value,t,E,P,""):"",em:(E,P)=>E&&P?t_(n.value,t,"",E,P):"",bm:(E,P)=>E&&P?t_(n.value,t,E,"",P):"",bem:(E,P,I)=>E&&P&&I?t_(n.value,t,E,P,I):"",is:(E,...P)=>{const I=P.length>=1?P[0]:!0;return E&&I?`${QFe}${E}`:""},cssVar:E=>{const P={};for(const I in E)E[I]&&(P[`--${n.value}-${I}`]=E[I]);return P},cssVarName:E=>`--${n.value}-${E}`,cssVarBlock:E=>{const P={};for(const I in E)E[I]&&(P[`--${n.value}-${t}-${I}`]=E[I]);return P},cssVarBlockName:E=>`--${n.value}-${t}-${E}`}},WN=(t,e={})=>{hs(t)||kl("[useLockscreen]","You need to pass a ref param to this function");const n=e.ns||vn("popup"),r=XJ(()=>n.bm("parent","hidden"));if(!ta||xf(document.body,r.value))return;let i=0,s=!1,l="0";const c=()=>{setTimeout(()=>{Rc(document==null?void 0:document.body,r.value),s&&document&&(document.body.style.width=l)},200)};un(t,a=>{if(!a){c();return}s=!xf(document.body,r.value),s&&(l=document.body.style.width),i=Gne(n.namespace.value);const f=document.documentElement.clientHeight<document.body.scrollHeight,A=xv(document.body,"overflowY");i>0&&(f||A==="scroll")&&s&&(document.body.style.width=`calc(100% - ${i}px)`),mf(document.body,r.value)}),TD(()=>c())},jFe=tA({type:Rt(Boolean),default:null}),GFe=tA({type:Rt(Function)}),bre=t=>{const e=`update:${t}`,n=`onUpdate:${t}`,r=[e],i={[t]:jFe,[n]:GFe};return{useModelToggle:({indicator:l,toggleReason:c,shouldHideWhenRouteChanges:a,shouldProceed:f,onShow:A,onHide:m})=>{const _=ci(),{emit:y}=_,T=_.props,E=le(()=>Dr(T[n])),P=le(()=>T[t]===null),I=j=>{l.value!==!0&&(l.value=!0,c&&(c.value=j),Dr(A)&&A(j))},F=j=>{l.value!==!1&&(l.value=!1,c&&(c.value=j),Dr(m)&&m(j))},R=j=>{if(T.disabled===!0||Dr(f)&&!f())return;const H=E.value&&ta;H&&y(e,!0),(P.value||!H)&&I(j)},N=j=>{if(T.disabled===!0||!ta)return;const H=E.value&&ta;H&&y(e,!1),(P.value||!H)&&F(j)},z=j=>{qo(j)&&(T.disabled&&j?E.value&&y(e,!1):l.value!==j&&(j?I():F()))},Q=()=>{l.value?N():R()};return un(()=>T[t],z),a&&_.appContext.config.globalProperties.$route!==void 0&&un(()=>({..._.proxy.$route}),()=>{a.value&&l.value&&N()}),kr(()=>{z(T[t])}),{hide:N,show:R,toggle:Q,hasUpdateHandler:E}},useModelToggleProps:i,useModelToggleEmits:r}};bre("modelValue");const wre=t=>{const e=ci();return le(()=>{var n,r;return(r=(n=e==null?void 0:e.proxy)==null?void 0:n.$props)==null?void 0:r[t]})};var Dh="top",Bf="bottom",Mf="right",Nh="left",qN="auto",O6=[Dh,Bf,Mf,Nh],t2="start",FC="end",KFe="clippingParents",xre="viewport",$x="popper",WFe="reference",NG=O6.reduce(function(t,e){return t.concat([e+"-"+t2,e+"-"+FC])},[]),yy=[].concat(O6,[qN]).reduce(function(t,e){return t.concat([e,e+"-"+t2,e+"-"+FC])},[]),qFe="beforeRead",YFe="read",XFe="afterRead",ZFe="beforeMain",JFe="main",eke="afterMain",tke="beforeWrite",nke="write",rke="afterWrite",ike=[qFe,YFe,XFe,ZFe,JFe,eke,tke,nke,rke];function Am(t){return t?(t.nodeName||"").toLowerCase():null}function nA(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function n2(t){var e=nA(t).Element;return t instanceof e||t instanceof Element}function Cf(t){var e=nA(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function YN(t){if(typeof ShadowRoot>"u")return!1;var e=nA(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function ake(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!Cf(s)||!Am(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(l){var c=i[l];c===!1?s.removeAttribute(l):s.setAttribute(l,c===!0?"":c)}))})}function ske(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},l=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),c=l.reduce(function(a,f){return a[f]="",a},{});!Cf(i)||!Am(i)||(Object.assign(i.style,c),Object.keys(s).forEach(function(a){i.removeAttribute(a)}))})}}var Cre={name:"applyStyles",enabled:!0,phase:"write",fn:ake,effect:ske,requires:["computeStyles"]};function sm(t){return t.split("-")[0]}var z_=Math.max,vT=Math.min,r2=Math.round;function i2(t,e){e===void 0&&(e=!1);var n=t.getBoundingClientRect(),r=1,i=1;if(Cf(t)&&e){var s=t.offsetHeight,l=t.offsetWidth;l>0&&(r=r2(n.width)/l||1),s>0&&(i=r2(n.height)/s||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function XN(t){var e=i2(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Ere(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&YN(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Yg(t){return nA(t).getComputedStyle(t)}function oke(t){return["table","td","th"].indexOf(Am(t))>=0}function m1(t){return((n2(t)?t.ownerDocument:t.document)||window.document).documentElement}function rB(t){return Am(t)==="html"?t:t.assignedSlot||t.parentNode||(YN(t)?t.host:null)||m1(t)}function UG(t){return!Cf(t)||Yg(t).position==="fixed"?null:t.offsetParent}function lke(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&Cf(t)){var r=Yg(t);if(r.position==="fixed")return null}var i=rB(t);for(YN(i)&&(i=i.host);Cf(i)&&["html","body"].indexOf(Am(i))<0;){var s=Yg(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function D6(t){for(var e=nA(t),n=UG(t);n&&oke(n)&&Yg(n).position==="static";)n=UG(n);return n&&(Am(n)==="html"||Am(n)==="body"&&Yg(n).position==="static")?e:n||lke(t)||e}function ZN(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function j4(t,e,n){return z_(t,vT(e,n))}function uke(t,e,n){var r=j4(t,e,n);return r>n?n:r}function Sre(){return{top:0,right:0,bottom:0,left:0}}function Tre(t){return Object.assign({},Sre(),t)}function Bre(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var cke=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,Tre(typeof t!="number"?t:Bre(t,O6))};function hke(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,l=n.modifiersData.popperOffsets,c=sm(n.placement),a=ZN(c),f=[Nh,Mf].indexOf(c)>=0,A=f?"height":"width";if(!(!s||!l)){var m=cke(i.padding,n),_=XN(s),y=a==="y"?Dh:Nh,T=a==="y"?Bf:Mf,E=n.rects.reference[A]+n.rects.reference[a]-l[a]-n.rects.popper[A],P=l[a]-n.rects.reference[a],I=D6(s),F=I?a==="y"?I.clientHeight||0:I.clientWidth||0:0,R=E/2-P/2,N=m[y],z=F-_[A]-m[T],Q=F/2-_[A]/2+R,j=j4(N,Q,z),H=a;n.modifiersData[r]=(e={},e[H]=j,e.centerOffset=j-Q,e)}}function dke(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||!Ere(e.elements.popper,i)||(e.elements.arrow=i))}var fke={name:"arrow",enabled:!0,phase:"main",fn:hke,effect:dke,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function a2(t){return t.split("-")[1]}var pke={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ake(t){var e=t.x,n=t.y,r=window,i=r.devicePixelRatio||1;return{x:r2(e*i)/i||0,y:r2(n*i)/i||0}}function zG(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,l=t.offsets,c=t.position,a=t.gpuAcceleration,f=t.adaptive,A=t.roundOffsets,m=t.isFixed,_=l.x,y=_===void 0?0:_,T=l.y,E=T===void 0?0:T,P=typeof A=="function"?A({x:y,y:E}):{x:y,y:E};y=P.x,E=P.y;var I=l.hasOwnProperty("x"),F=l.hasOwnProperty("y"),R=Nh,N=Dh,z=window;if(f){var Q=D6(n),j="clientHeight",H="clientWidth";if(Q===nA(n)&&(Q=m1(n),Yg(Q).position!=="static"&&c==="absolute"&&(j="scrollHeight",H="scrollWidth")),Q=Q,i===Dh||(i===Nh||i===Mf)&&s===FC){N=Bf;var K=m&&Q===z&&z.visualViewport?z.visualViewport.height:Q[j];E-=K-r.height,E*=a?1:-1}if(i===Nh||(i===Dh||i===Bf)&&s===FC){R=Mf;var ie=m&&Q===z&&z.visualViewport?z.visualViewport.width:Q[H];y-=ie-r.width,y*=a?1:-1}}var q=Object.assign({position:c},f&&pke),W=A===!0?Ake({x:y,y:E}):{x:y,y:E};if(y=W.x,E=W.y,a){var ee;return Object.assign({},q,(ee={},ee[N]=F?"0":"",ee[R]=I?"0":"",ee.transform=(z.devicePixelRatio||1)<=1?"translate("+y+"px, "+E+"px)":"translate3d("+y+"px, "+E+"px, 0)",ee))}return Object.assign({},q,(e={},e[N]=F?E+"px":"",e[R]=I?y+"px":"",e.transform="",e))}function mke(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,l=s===void 0?!0:s,c=n.roundOffsets,a=c===void 0?!0:c,f={placement:sm(e.placement),variation:a2(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,zG(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:a})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,zG(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var Mre={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:mke,data:{}},OE={passive:!0};function gke(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,l=r.resize,c=l===void 0?!0:l,a=nA(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&f.forEach(function(A){A.addEventListener("scroll",n.update,OE)}),c&&a.addEventListener("resize",n.update,OE),function(){s&&f.forEach(function(A){A.removeEventListener("scroll",n.update,OE)}),c&&a.removeEventListener("resize",n.update,OE)}}var Ire={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:gke,data:{}},vke={left:"right",right:"left",bottom:"top",top:"bottom"};function hS(t){return t.replace(/left|right|bottom|top/g,function(e){return vke[e]})}var _ke={start:"end",end:"start"};function $G(t){return t.replace(/start|end/g,function(e){return _ke[e]})}function JN(t){var e=nA(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function e9(t){return i2(m1(t)).left+JN(t).scrollLeft}function yke(t){var e=nA(t),n=m1(t),r=e.visualViewport,i=n.clientWidth,s=n.clientHeight,l=0,c=0;return r&&(i=r.width,s=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(l=r.offsetLeft,c=r.offsetTop)),{width:i,height:s,x:l+e9(t),y:c}}function bke(t){var e,n=m1(t),r=JN(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=z_(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),l=z_(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-r.scrollLeft+e9(t),a=-r.scrollTop;return Yg(i||n).direction==="rtl"&&(c+=z_(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:l,x:c,y:a}}function t9(t){var e=Yg(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Lre(t){return["html","body","#document"].indexOf(Am(t))>=0?t.ownerDocument.body:Cf(t)&&t9(t)?t:Lre(rB(t))}function G4(t,e){var n;e===void 0&&(e=[]);var r=Lre(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=nA(r),l=i?[s].concat(s.visualViewport||[],t9(r)?r:[]):r,c=e.concat(l);return i?c:c.concat(G4(rB(l)))}function bk(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function wke(t){var e=i2(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function VG(t,e){return e===xre?bk(yke(t)):n2(e)?wke(e):bk(bke(m1(t)))}function xke(t){var e=G4(rB(t)),n=["absolute","fixed"].indexOf(Yg(t).position)>=0,r=n&&Cf(t)?D6(t):t;return n2(r)?e.filter(function(i){return n2(i)&&Ere(i,r)&&Am(i)!=="body"}):[]}function Cke(t,e,n){var r=e==="clippingParents"?xke(t):[].concat(e),i=[].concat(r,[n]),s=i[0],l=i.reduce(function(c,a){var f=VG(t,a);return c.top=z_(f.top,c.top),c.right=vT(f.right,c.right),c.bottom=vT(f.bottom,c.bottom),c.left=z_(f.left,c.left),c},VG(t,s));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Pre(t){var e=t.reference,n=t.element,r=t.placement,i=r?sm(r):null,s=r?a2(r):null,l=e.x+e.width/2-n.width/2,c=e.y+e.height/2-n.height/2,a;switch(i){case Dh:a={x:l,y:e.y-n.height};break;case Bf:a={x:l,y:e.y+e.height};break;case Mf:a={x:e.x+e.width,y:c};break;case Nh:a={x:e.x-n.width,y:c};break;default:a={x:e.x,y:e.y}}var f=i?ZN(i):null;if(f!=null){var A=f==="y"?"height":"width";switch(s){case t2:a[f]=a[f]-(e[A]/2-n[A]/2);break;case FC:a[f]=a[f]+(e[A]/2-n[A]/2);break}}return a}function kC(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.boundary,l=s===void 0?KFe:s,c=n.rootBoundary,a=c===void 0?xre:c,f=n.elementContext,A=f===void 0?$x:f,m=n.altBoundary,_=m===void 0?!1:m,y=n.padding,T=y===void 0?0:y,E=Tre(typeof T!="number"?T:Bre(T,O6)),P=A===$x?WFe:$x,I=t.rects.popper,F=t.elements[_?P:A],R=Cke(n2(F)?F:F.contextElement||m1(t.elements.popper),l,a),N=i2(t.elements.reference),z=Pre({reference:N,element:I,strategy:"absolute",placement:i}),Q=bk(Object.assign({},I,z)),j=A===$x?Q:N,H={top:R.top-j.top+E.top,bottom:j.bottom-R.bottom+E.bottom,left:R.left-j.left+E.left,right:j.right-R.right+E.right},K=t.modifiersData.offset;if(A===$x&&K){var ie=K[i];Object.keys(H).forEach(function(q){var W=[Mf,Bf].indexOf(q)>=0?1:-1,ee=[Dh,Bf].indexOf(q)>=0?"y":"x";H[q]+=ie[ee]*W})}return H}function Eke(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,l=n.padding,c=n.flipVariations,a=n.allowedAutoPlacements,f=a===void 0?yy:a,A=a2(r),m=A?c?NG:NG.filter(function(T){return a2(T)===A}):O6,_=m.filter(function(T){return f.indexOf(T)>=0});_.length===0&&(_=m);var y=_.reduce(function(T,E){return T[E]=kC(t,{placement:E,boundary:i,rootBoundary:s,padding:l})[sm(E)],T},{});return Object.keys(y).sort(function(T,E){return y[T]-y[E]})}function Ske(t){if(sm(t)===qN)return[];var e=hS(t);return[$G(t),e,$G(e)]}function Tke(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,l=n.altAxis,c=l===void 0?!0:l,a=n.fallbackPlacements,f=n.padding,A=n.boundary,m=n.rootBoundary,_=n.altBoundary,y=n.flipVariations,T=y===void 0?!0:y,E=n.allowedAutoPlacements,P=e.options.placement,I=sm(P),F=I===P,R=a||(F||!T?[hS(P)]:Ske(P)),N=[P].concat(R).reduce(function(_e,Ue){return _e.concat(sm(Ue)===qN?Eke(e,{placement:Ue,boundary:A,rootBoundary:m,padding:f,flipVariations:T,allowedAutoPlacements:E}):Ue)},[]),z=e.rects.reference,Q=e.rects.popper,j=new Map,H=!0,K=N[0],ie=0;ie<N.length;ie++){var q=N[ie],W=sm(q),ee=a2(q)===t2,ue=[Dh,Bf].indexOf(W)>=0,J=ue?"width":"height",te=kC(e,{placement:q,boundary:A,rootBoundary:m,altBoundary:_,padding:f}),ne=ue?ee?Mf:Nh:ee?Bf:Dh;z[J]>Q[J]&&(ne=hS(ne));var he=hS(ne),ce=[];if(s&&ce.push(te[W]<=0),c&&ce.push(te[ne]<=0,te[he]<=0),ce.every(function(_e){return _e})){K=q,H=!1;break}j.set(q,ce)}if(H)for(var ye=T?3:1,Ee=function(_e){var Ue=N.find(function(Le){var be=j.get(Le);if(be)return be.slice(0,_e).every(function(Re){return Re})});if(Ue)return K=Ue,"break"},se=ye;se>0;se--){var oe=Ee(se);if(oe==="break")break}e.placement!==K&&(e.modifiersData[r]._skip=!0,e.placement=K,e.reset=!0)}}var Bke={name:"flip",enabled:!0,phase:"main",fn:Tke,requiresIfExists:["offset"],data:{_skip:!1}};function HG(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function QG(t){return[Dh,Mf,Bf,Nh].some(function(e){return t[e]>=0})}function Mke(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,l=kC(e,{elementContext:"reference"}),c=kC(e,{altBoundary:!0}),a=HG(l,r),f=HG(c,i,s),A=QG(a),m=QG(f);e.modifiersData[n]={referenceClippingOffsets:a,popperEscapeOffsets:f,isReferenceHidden:A,hasPopperEscaped:m},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":A,"data-popper-escaped":m})}var Ike={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Mke};function Lke(t,e,n){var r=sm(t),i=[Nh,Dh].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,l=s[0],c=s[1];return l=l||0,c=(c||0)*i,[Nh,Mf].indexOf(r)>=0?{x:c,y:l}:{x:l,y:c}}function Pke(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,l=yy.reduce(function(A,m){return A[m]=Lke(m,e.rects,s),A},{}),c=l[e.placement],a=c.x,f=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=a,e.modifiersData.popperOffsets.y+=f),e.modifiersData[r]=l}var Fke={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Pke};function kke(t){var e=t.state,n=t.name;e.modifiersData[n]=Pre({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var Fre={name:"popperOffsets",enabled:!0,phase:"read",fn:kke,data:{}};function Rke(t){return t==="x"?"y":"x"}function Oke(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,l=n.altAxis,c=l===void 0?!1:l,a=n.boundary,f=n.rootBoundary,A=n.altBoundary,m=n.padding,_=n.tether,y=_===void 0?!0:_,T=n.tetherOffset,E=T===void 0?0:T,P=kC(e,{boundary:a,rootBoundary:f,padding:m,altBoundary:A}),I=sm(e.placement),F=a2(e.placement),R=!F,N=ZN(I),z=Rke(N),Q=e.modifiersData.popperOffsets,j=e.rects.reference,H=e.rects.popper,K=typeof E=="function"?E(Object.assign({},e.rects,{placement:e.placement})):E,ie=typeof K=="number"?{mainAxis:K,altAxis:K}:Object.assign({mainAxis:0,altAxis:0},K),q=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,W={x:0,y:0};if(Q){if(s){var ee,ue=N==="y"?Dh:Nh,J=N==="y"?Bf:Mf,te=N==="y"?"height":"width",ne=Q[N],he=ne+P[ue],ce=ne-P[J],ye=y?-H[te]/2:0,Ee=F===t2?j[te]:H[te],se=F===t2?-H[te]:-j[te],oe=e.elements.arrow,_e=y&&oe?XN(oe):{width:0,height:0},Ue=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Sre(),Le=Ue[ue],be=Ue[J],Re=j4(0,j[te],_e[te]),Qe=R?j[te]/2-ye-Re-Le-ie.mainAxis:Ee-Re-Le-ie.mainAxis,Je=R?-j[te]/2+ye+Re+be+ie.mainAxis:se+Re+be+ie.mainAxis,nt=e.elements.arrow&&D6(e.elements.arrow),Ve=nt?N==="y"?nt.clientTop||0:nt.clientLeft||0:0,Pe=(ee=q==null?void 0:q[N])!=null?ee:0,Ge=ne+Qe-Pe-Ve,Ne=ne+Je-Pe,je=j4(y?vT(he,Ge):he,ne,y?z_(ce,Ne):ce);Q[N]=je,W[N]=je-ne}if(c){var Ye,vt=N==="x"?Dh:Nh,Lt=N==="x"?Bf:Mf,Et=Q[z],Vt=z==="y"?"height":"width",_t=Et+P[vt],qt=Et-P[Lt],tn=[Dh,Nh].indexOf(I)!==-1,Nt=(Ye=q==null?void 0:q[z])!=null?Ye:0,wt=tn?_t:Et-j[Vt]-H[Vt]-Nt+ie.altAxis,De=tn?Et+j[Vt]+H[Vt]-Nt-ie.altAxis:qt,We=y&&tn?uke(wt,Et,De):j4(y?wt:_t,Et,y?De:qt);Q[z]=We,W[z]=We-Et}e.modifiersData[r]=W}}var Dke={name:"preventOverflow",enabled:!0,phase:"main",fn:Oke,requiresIfExists:["offset"]};function Nke(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Uke(t){return t===nA(t)||!Cf(t)?JN(t):Nke(t)}function zke(t){var e=t.getBoundingClientRect(),n=r2(e.width)/t.offsetWidth||1,r=r2(e.height)/t.offsetHeight||1;return n!==1||r!==1}function $ke(t,e,n){n===void 0&&(n=!1);var r=Cf(e),i=Cf(e)&&zke(e),s=m1(e),l=i2(t,i),c={scrollLeft:0,scrollTop:0},a={x:0,y:0};return(r||!r&&!n)&&((Am(e)!=="body"||t9(s))&&(c=Uke(e)),Cf(e)?(a=i2(e,!0),a.x+=e.clientLeft,a.y+=e.clientTop):s&&(a.x=e9(s))),{x:l.left+c.scrollLeft-a.x,y:l.top+c.scrollTop-a.y,width:l.width,height:l.height}}function Vke(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var l=[].concat(s.requires||[],s.requiresIfExists||[]);l.forEach(function(c){if(!n.has(c)){var a=e.get(c);a&&i(a)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function Hke(t){var e=Vke(t);return ike.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function Qke(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function jke(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var jG={placement:"bottom",modifiers:[],strategy:"absolute"};function GG(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function n9(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?jG:i;return function(l,c,a){a===void 0&&(a=s);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},jG,s),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},A=[],m=!1,_={state:f,setOptions:function(E){var P=typeof E=="function"?E(f.options):E;T(),f.options=Object.assign({},s,f.options,P),f.scrollParents={reference:n2(l)?G4(l):l.contextElement?G4(l.contextElement):[],popper:G4(c)};var I=Hke(jke([].concat(r,f.options.modifiers)));return f.orderedModifiers=I.filter(function(F){return F.enabled}),y(),_.update()},forceUpdate:function(){if(!m){var E=f.elements,P=E.reference,I=E.popper;if(GG(P,I)){f.rects={reference:$ke(P,D6(I),f.options.strategy==="fixed"),popper:XN(I)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(H){return f.modifiersData[H.name]=Object.assign({},H.data)});for(var F=0;F<f.orderedModifiers.length;F++){if(f.reset===!0){f.reset=!1,F=-1;continue}var R=f.orderedModifiers[F],N=R.fn,z=R.options,Q=z===void 0?{}:z,j=R.name;typeof N=="function"&&(f=N({state:f,options:Q,name:j,instance:_})||f)}}}},update:Qke(function(){return new Promise(function(E){_.forceUpdate(),E(f)})}),destroy:function(){T(),m=!0}};if(!GG(l,c))return _;_.setOptions(a).then(function(E){!m&&a.onFirstUpdate&&a.onFirstUpdate(E)});function y(){f.orderedModifiers.forEach(function(E){var P=E.name,I=E.options,F=I===void 0?{}:I,R=E.effect;if(typeof R=="function"){var N=R({state:f,name:P,instance:_,options:F}),z=function(){};A.push(N||z)}})}function T(){A.forEach(function(E){return E()}),A=[]}return _}}n9();var Gke=[Ire,Fre,Mre,Cre];n9({defaultModifiers:Gke});var Kke=[Ire,Fre,Mre,Cre,Fke,Bke,Dke,fke,Ike],Wke=n9({defaultModifiers:Kke});const qke=(t,e,n={})=>{const r={name:"updateState",enabled:!0,phase:"write",fn:({state:a})=>{const f=Yke(a);Object.assign(l.value,f)},requires:["computeStyles"]},i=le(()=>{const{onFirstUpdate:a,placement:f,strategy:A,modifiers:m}=S(n);return{onFirstUpdate:a,placement:f||"bottom",strategy:A||"absolute",modifiers:[...m||[],r,{name:"applyStyles",enabled:!1}]}}),s=ms(),l=Te({styles:{popper:{position:S(i).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),c=()=>{s.value&&(s.value.destroy(),s.value=void 0)};return un(i,a=>{const f=S(s);f&&f.setOptions(a)},{deep:!0}),un([t,e],([a,f])=>{c(),!(!a||!f)&&(s.value=Wke(a,f,S(i)))}),ds(()=>{c()}),{state:le(()=>{var a;return{...((a=S(s))==null?void 0:a.state)||{}}}),styles:le(()=>S(l).styles),attributes:le(()=>S(l).attributes),update:()=>{var a;return(a=S(s))==null?void 0:a.update()},forceUpdate:()=>{var a;return(a=S(s))==null?void 0:a.forceUpdate()},instanceRef:le(()=>S(s))}};function Yke(t){const e=Object.keys(t.elements),n=gT(e.map(i=>[i,t.styles[i]||{}])),r=gT(e.map(i=>[i,t.attributes[i]]));return{styles:n,attributes:r}}const r9=t=>{if(!t)return{onClick:Va,onMousedown:Va,onMouseup:Va};let e=!1,n=!1;return{onClick:l=>{e&&n&&t(l),e=n=!1},onMousedown:l=>{e=l.target===l.currentTarget},onMouseup:l=>{n=l.target===l.currentTarget}}},Xke=(t,e=0)=>{if(e===0)return t;const n=Te(!1);let r=0;const i=()=>{r&&clearTimeout(r),r=window.setTimeout(()=>{n.value=t.value},e)};return kr(i),un(()=>t.value,s=>{s?i():n.value=s}),n};function KG(){let t;const e=(r,i)=>{n(),t=window.setTimeout(r,i)},n=()=>window.clearTimeout(t);return I6(()=>n()),{registerTimeout:e,cancelTimeout:n}}const WG={prefix:Math.floor(Math.random()*1e4),current:0},Zke=Symbol("elIdInjection"),i9=()=>ci()?ar(Zke,WG):WG,ac=t=>{const e=i9(),n=KN();return le(()=>S(t)||`${n.value}-id-${e.prefix}-${e.current++}`)};let Vb=[];const qG=t=>{const e=t;e.key===Tr.esc&&Vb.forEach(n=>n(e))},Jke=t=>{kr(()=>{Vb.length===0&&document.addEventListener("keydown",qG),ta&&Vb.push(t)}),ds(()=>{Vb=Vb.filter(e=>e!==t),Vb.length===0&&ta&&document.removeEventListener("keydown",qG)})};let YG;const kre=()=>{const t=KN(),e=i9(),n=le(()=>`${t.value}-popper-container-${e.prefix}`),r=le(()=>`#${n.value}`);return{id:n,selector:r}},eRe=t=>{const e=document.createElement("div");return e.id=t,document.body.appendChild(e),e},tRe=()=>{const{id:t,selector:e}=kre();return R8(()=>{ta&&!YG&&!document.body.querySelector(e.value)&&(YG=eRe(t.value))}),{id:t,selector:e}},nRe=Ln({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),rRe=({showAfter:t,hideAfter:e,autoClose:n,open:r,close:i})=>{const{registerTimeout:s}=KG(),{registerTimeout:l,cancelTimeout:c}=KG();return{onOpen:A=>{s(()=>{r(A);const m=S(n);Or(m)&&m>0&&l(()=>{i(A)},m)},S(t))},onClose:A=>{c(),s(()=>{i(A)},S(e))}}},Rre=Symbol("elForwardRef"),iRe=t=>{Ii(Rre,{setForwardRef:n=>{t.value=n}})},aRe=t=>({mounted(e){t(e)},updated(e){t(e)},unmounted(){t(null)}}),XG={current:0},ZG=Te(0),Ore=2e3,JG=Symbol("elZIndexContextKey"),Dre=Symbol("zIndexContextKey"),L2=t=>{const e=ci()?ar(JG,XG):XG,n=t||(ci()?ar(Dre,void 0):void 0),r=le(()=>{const l=S(n);return Or(l)?l:Ore}),i=le(()=>r.value+ZG.value),s=()=>(e.current++,ZG.value=e.current,i.value);return!ta&&ar(JG),{initialZIndex:r,currentZIndex:i,nextZIndex:s}},s2=Math.min,$_=Math.max,_T=Math.round,DE=Math.floor,Zv=t=>({x:t,y:t}),sRe={left:"right",right:"left",bottom:"top",top:"bottom"},oRe={start:"end",end:"start"};function wk(t,e,n){return $_(t,s2(e,n))}function N6(t,e){return typeof t=="function"?t(e):t}function ay(t){return t.split("-")[0]}function U6(t){return t.split("-")[1]}function Nre(t){return t==="x"?"y":"x"}function a9(t){return t==="y"?"height":"width"}function iB(t){return["top","bottom"].includes(ay(t))?"y":"x"}function s9(t){return Nre(iB(t))}function lRe(t,e,n){n===void 0&&(n=!1);const r=U6(t),i=s9(t),s=a9(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(l=yT(l)),[l,yT(l)]}function uRe(t){const e=yT(t);return[xk(t),e,xk(e)]}function xk(t){return t.replace(/start|end/g,e=>oRe[e])}function cRe(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:l;default:return[]}}function hRe(t,e,n,r){const i=U6(t);let s=cRe(ay(t),n==="start",r);return i&&(s=s.map(l=>l+"-"+i),e&&(s=s.concat(s.map(xk)))),s}function yT(t){return t.replace(/left|right|bottom|top/g,e=>sRe[e])}function dRe(t){return{top:0,right:0,bottom:0,left:0,...t}}function Ure(t){return typeof t!="number"?dRe(t):{top:t,right:t,bottom:t,left:t}}function bT(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function eK(t,e,n){let{reference:r,floating:i}=t;const s=iB(e),l=s9(e),c=a9(l),a=ay(e),f=s==="y",A=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,_=r[c]/2-i[c]/2;let y;switch(a){case"top":y={x:A,y:r.y-i.height};break;case"bottom":y={x:A,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:m};break;case"left":y={x:r.x-i.width,y:m};break;default:y={x:r.x,y:r.y}}switch(U6(e)){case"start":y[l]-=_*(n&&f?-1:1);break;case"end":y[l]+=_*(n&&f?-1:1);break}return y}const fRe=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:l}=n,c=s.filter(Boolean),a=await(l.isRTL==null?void 0:l.isRTL(e));let f=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:A,y:m}=eK(f,r,a),_=r,y={},T=0;for(let E=0;E<c.length;E++){const{name:P,fn:I}=c[E],{x:F,y:R,data:N,reset:z}=await I({x:A,y:m,initialPlacement:r,placement:_,strategy:i,middlewareData:y,rects:f,platform:l,elements:{reference:t,floating:e}});A=F??A,m=R??m,y={...y,[P]:{...y[P],...N}},z&&T<=50&&(T++,typeof z=="object"&&(z.placement&&(_=z.placement),z.rects&&(f=z.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):z.rects),{x:A,y:m}=eK(f,_,a)),E=-1)}return{x:A,y:m,placement:_,strategy:i,middlewareData:y}};async function o9(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:l,elements:c,strategy:a}=t,{boundary:f="clippingAncestors",rootBoundary:A="viewport",elementContext:m="floating",altBoundary:_=!1,padding:y=0}=N6(e,t),T=Ure(y),P=c[_?m==="floating"?"reference":"floating":m],I=bT(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(P)))==null||n?P:P.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:f,rootBoundary:A,strategy:a})),F=m==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,R=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),N=await(s.isElement==null?void 0:s.isElement(R))?await(s.getScale==null?void 0:s.getScale(R))||{x:1,y:1}:{x:1,y:1},z=bT(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:F,offsetParent:R,strategy:a}):F);return{top:(I.top-z.top+T.top)/N.y,bottom:(z.bottom-I.bottom+T.bottom)/N.y,left:(I.left-z.left+T.left)/N.x,right:(z.right-I.right+T.right)/N.x}}const pRe=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:l,elements:c,middlewareData:a}=e,{element:f,padding:A=0}=N6(t,e)||{};if(f==null)return{};const m=Ure(A),_={x:n,y:r},y=s9(i),T=a9(y),E=await l.getDimensions(f),P=y==="y",I=P?"top":"left",F=P?"bottom":"right",R=P?"clientHeight":"clientWidth",N=s.reference[T]+s.reference[y]-_[y]-s.floating[T],z=_[y]-s.reference[y],Q=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let j=Q?Q[R]:0;(!j||!await(l.isElement==null?void 0:l.isElement(Q)))&&(j=c.floating[R]||s.floating[T]);const H=N/2-z/2,K=j/2-E[T]/2-1,ie=s2(m[I],K),q=s2(m[F],K),W=ie,ee=j-E[T]-q,ue=j/2-E[T]/2+H,J=wk(W,ue,ee),te=!a.arrow&&U6(i)!=null&&ue!==J&&s.reference[T]/2-(ue<W?ie:q)-E[T]/2<0,ne=te?ue<W?ue-W:ue-ee:0;return{[y]:_[y]+ne,data:{[y]:J,centerOffset:ue-J-ne,...te&&{alignmentOffset:ne}},reset:te}}}),ARe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:l,initialPlacement:c,platform:a,elements:f}=e,{mainAxis:A=!0,crossAxis:m=!0,fallbackPlacements:_,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:E=!0,...P}=N6(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const I=ay(i),F=ay(c)===c,R=await(a.isRTL==null?void 0:a.isRTL(f.floating)),N=_||(F||!E?[yT(c)]:uRe(c));!_&&T!=="none"&&N.push(...hRe(c,E,T,R));const z=[c,...N],Q=await o9(e,P),j=[];let H=((r=s.flip)==null?void 0:r.overflows)||[];if(A&&j.push(Q[I]),m){const W=lRe(i,l,R);j.push(Q[W[0]],Q[W[1]])}if(H=[...H,{placement:i,overflows:j}],!j.every(W=>W<=0)){var K,ie;const W=(((K=s.flip)==null?void 0:K.index)||0)+1,ee=z[W];if(ee)return{data:{index:W,overflows:H},reset:{placement:ee}};let ue=(ie=H.filter(J=>J.overflows[0]<=0).sort((J,te)=>J.overflows[1]-te.overflows[1])[0])==null?void 0:ie.placement;if(!ue)switch(y){case"bestFit":{var q;const J=(q=H.map(te=>[te.placement,te.overflows.filter(ne=>ne>0).reduce((ne,he)=>ne+he,0)]).sort((te,ne)=>te[1]-ne[1])[0])==null?void 0:q[0];J&&(ue=J);break}case"initialPlacement":ue=c;break}if(i!==ue)return{reset:{placement:ue}}}return{}}}};async function mRe(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=ay(n),c=U6(n),a=iB(n)==="y",f=["left","top"].includes(l)?-1:1,A=s&&a?-1:1,m=N6(e,t);let{mainAxis:_,crossAxis:y,alignmentAxis:T}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...m};return c&&typeof T=="number"&&(y=c==="end"?T*-1:T),a?{x:y*A,y:_*f}:{x:_*f,y:y*A}}const gRe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:l,middlewareData:c}=e,a=await mRe(e,t);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+a.x,y:s+a.y,data:{...a,placement:l}}}}},vRe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:l=!1,limiter:c={fn:P=>{let{x:I,y:F}=P;return{x:I,y:F}}},...a}=N6(t,e),f={x:n,y:r},A=await o9(e,a),m=iB(ay(i)),_=Nre(m);let y=f[_],T=f[m];if(s){const P=_==="y"?"top":"left",I=_==="y"?"bottom":"right",F=y+A[P],R=y-A[I];y=wk(F,y,R)}if(l){const P=m==="y"?"top":"left",I=m==="y"?"bottom":"right",F=T+A[P],R=T-A[I];T=wk(F,T,R)}const E=c.fn({...e,[_]:y,[m]:T});return{...E,data:{x:E.x-n,y:E.y-r}}}}};function P2(t){return zre(t)?(t.nodeName||"").toLowerCase():"#document"}function Nd(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function u0(t){var e;return(e=(zre(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function zre(t){return t instanceof Node||t instanceof Nd(t).Node}function mm(t){return t instanceof Element||t instanceof Nd(t).Element}function gm(t){return t instanceof HTMLElement||t instanceof Nd(t).HTMLElement}function tK(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Nd(t).ShadowRoot}function z6(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Kp(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function _Re(t){return["table","td","th"].includes(P2(t))}function l9(t){const e=u9(),n=Kp(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function yRe(t){let e=Jv(t);for(;gm(e)&&!o2(e);){if(l9(e))return e;e=Jv(e)}return null}function u9(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function o2(t){return["html","body","#document"].includes(P2(t))}function Kp(t){return Nd(t).getComputedStyle(t)}function aB(t){return mm(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Jv(t){if(P2(t)==="html")return t;const e=t.assignedSlot||t.parentNode||tK(t)&&t.host||u0(t);return tK(e)?e.host:e}function $re(t){const e=Jv(t);return o2(e)?t.ownerDocument?t.ownerDocument.body:t.body:gm(e)&&z6(e)?e:$re(e)}function RC(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=$re(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),l=Nd(i);return s?e.concat(l,l.visualViewport||[],z6(i)?i:[],l.frameElement&&n?RC(l.frameElement):[]):e.concat(i,RC(i,[],n))}function Vre(t){const e=Kp(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=gm(t),s=i?t.offsetWidth:n,l=i?t.offsetHeight:r,c=_T(n)!==s||_T(r)!==l;return c&&(n=s,r=l),{width:n,height:r,$:c}}function c9(t){return mm(t)?t:t.contextElement}function Ew(t){const e=c9(t);if(!gm(e))return Zv(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=Vre(e);let l=(s?_T(n.width):n.width)/r,c=(s?_T(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const bRe=Zv(0);function Hre(t){const e=Nd(t);return!u9()||!e.visualViewport?bRe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function wRe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Nd(t)?!1:e}function sy(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=c9(t);let l=Zv(1);e&&(r?mm(r)&&(l=Ew(r)):l=Ew(t));const c=wRe(s,n,r)?Hre(s):Zv(0);let a=(i.left+c.x)/l.x,f=(i.top+c.y)/l.y,A=i.width/l.x,m=i.height/l.y;if(s){const _=Nd(s),y=r&&mm(r)?Nd(r):r;let T=_,E=T.frameElement;for(;E&&r&&y!==T;){const P=Ew(E),I=E.getBoundingClientRect(),F=Kp(E),R=I.left+(E.clientLeft+parseFloat(F.paddingLeft))*P.x,N=I.top+(E.clientTop+parseFloat(F.paddingTop))*P.y;a*=P.x,f*=P.y,A*=P.x,m*=P.y,a+=R,f+=N,T=Nd(E),E=T.frameElement}}return bT({width:A,height:m,x:a,y:f})}const xRe=[":popover-open",":modal"];function h9(t){return xRe.some(e=>{try{return t.matches(e)}catch{return!1}})}function CRe(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",l=u0(r),c=e?h9(e.floating):!1;if(r===l||c&&s)return n;let a={scrollLeft:0,scrollTop:0},f=Zv(1);const A=Zv(0),m=gm(r);if((m||!m&&!s)&&((P2(r)!=="body"||z6(l))&&(a=aB(r)),gm(r))){const _=sy(r);f=Ew(r),A.x=_.x+r.clientLeft,A.y=_.y+r.clientTop}return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-a.scrollLeft*f.x+A.x,y:n.y*f.y-a.scrollTop*f.y+A.y}}function ERe(t){return Array.from(t.getClientRects())}function Qre(t){return sy(u0(t)).left+aB(t).scrollLeft}function SRe(t){const e=u0(t),n=aB(t),r=t.ownerDocument.body,i=$_(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=$_(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+Qre(t);const c=-n.scrollTop;return Kp(r).direction==="rtl"&&(l+=$_(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:l,y:c}}function TRe(t,e){const n=Nd(t),r=u0(t),i=n.visualViewport;let s=r.clientWidth,l=r.clientHeight,c=0,a=0;if(i){s=i.width,l=i.height;const f=u9();(!f||f&&e==="fixed")&&(c=i.offsetLeft,a=i.offsetTop)}return{width:s,height:l,x:c,y:a}}function BRe(t,e){const n=sy(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=gm(t)?Ew(t):Zv(1),l=t.clientWidth*s.x,c=t.clientHeight*s.y,a=i*s.x,f=r*s.y;return{width:l,height:c,x:a,y:f}}function nK(t,e,n){let r;if(e==="viewport")r=TRe(t,n);else if(e==="document")r=SRe(u0(t));else if(mm(e))r=BRe(e,n);else{const i=Hre(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return bT(r)}function jre(t,e){const n=Jv(t);return n===e||!mm(n)||o2(n)?!1:Kp(n).position==="fixed"||jre(n,e)}function MRe(t,e){const n=e.get(t);if(n)return n;let r=RC(t,[],!1).filter(c=>mm(c)&&P2(c)!=="body"),i=null;const s=Kp(t).position==="fixed";let l=s?Jv(t):t;for(;mm(l)&&!o2(l);){const c=Kp(l),a=l9(l);!a&&c.position==="fixed"&&(i=null),(s?!a&&!i:!a&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||z6(l)&&!a&&jre(t,l))?r=r.filter(A=>A!==l):i=c,l=Jv(l)}return e.set(t,r),r}function IRe(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const l=[...n==="clippingAncestors"?h9(e)?[]:MRe(e,this._c):[].concat(n),r],c=l[0],a=l.reduce((f,A)=>{const m=nK(e,A,i);return f.top=$_(m.top,f.top),f.right=s2(m.right,f.right),f.bottom=s2(m.bottom,f.bottom),f.left=$_(m.left,f.left),f},nK(e,c,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function LRe(t){const{width:e,height:n}=Vre(t);return{width:e,height:n}}function PRe(t,e,n){const r=gm(e),i=u0(e),s=n==="fixed",l=sy(t,!0,s,e);let c={scrollLeft:0,scrollTop:0};const a=Zv(0);if(r||!r&&!s)if((P2(e)!=="body"||z6(i))&&(c=aB(e)),r){const m=sy(e,!0,s,e);a.x=m.x+e.clientLeft,a.y=m.y+e.clientTop}else i&&(a.x=Qre(i));const f=l.left+c.scrollLeft-a.x,A=l.top+c.scrollTop-a.y;return{x:f,y:A,width:l.width,height:l.height}}function yL(t){return Kp(t).position==="static"}function rK(t,e){return!gm(t)||Kp(t).position==="fixed"?null:e?e(t):t.offsetParent}function Gre(t,e){const n=Nd(t);if(h9(t))return n;if(!gm(t)){let i=Jv(t);for(;i&&!o2(i);){if(mm(i)&&!yL(i))return i;i=Jv(i)}return n}let r=rK(t,e);for(;r&&_Re(r)&&yL(r);)r=rK(r,e);return r&&o2(r)&&yL(r)&&!l9(r)?n:r||yRe(t)||n}const FRe=async function(t){const e=this.getOffsetParent||Gre,n=this.getDimensions,r=await n(t.floating);return{reference:PRe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function kRe(t){return Kp(t).direction==="rtl"}const RRe={convertOffsetParentRelativeRectToViewportRelativeRect:CRe,getDocumentElement:u0,getClippingRect:IRe,getOffsetParent:Gre,getElementRects:FRe,getClientRects:ERe,getDimensions:LRe,getScale:Ew,isElement:mm,isRTL:kRe};function ORe(t,e){let n=null,r;const i=u0(t);function s(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,a){c===void 0&&(c=!1),a===void 0&&(a=1),s();const{left:f,top:A,width:m,height:_}=t.getBoundingClientRect();if(c||e(),!m||!_)return;const y=DE(A),T=DE(i.clientWidth-(f+m)),E=DE(i.clientHeight-(A+_)),P=DE(f),F={rootMargin:-y+"px "+-T+"px "+-E+"px "+-P+"px",threshold:$_(0,s2(1,a))||1};let R=!0;function N(z){const Q=z[0].intersectionRatio;if(Q!==a){if(!R)return l();Q?l(!1,Q):r=setTimeout(()=>{l(!1,1e-7)},1e3)}R=!1}try{n=new IntersectionObserver(N,{...F,root:i.ownerDocument})}catch{n=new IntersectionObserver(N,F)}n.observe(t)}return l(!0),s}function DRe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:a=!1}=r,f=c9(t),A=i||s?[...f?RC(f):[],...RC(e)]:[];A.forEach(I=>{i&&I.addEventListener("scroll",n,{passive:!0}),s&&I.addEventListener("resize",n)});const m=f&&c?ORe(f,n):null;let _=-1,y=null;l&&(y=new ResizeObserver(I=>{let[F]=I;F&&F.target===f&&y&&(y.unobserve(e),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var R;(R=y)==null||R.observe(e)})),n()}),f&&!a&&y.observe(f),y.observe(e));let T,E=a?sy(t):null;a&&P();function P(){const I=sy(t);E&&(I.x!==E.x||I.y!==E.y||I.width!==E.width||I.height!==E.height)&&n(),E=I,T=requestAnimationFrame(P)}return n(),()=>{var I;A.forEach(F=>{i&&F.removeEventListener("scroll",n),s&&F.removeEventListener("resize",n)}),m==null||m(),(I=y)==null||I.disconnect(),y=null,a&&cancelAnimationFrame(T)}}const NRe=o9,Kre=gRe,URe=vRe,zRe=ARe,Wre=pRe,qre=(t,e,n)=>{const r=new Map,i={platform:RRe,...n},s={...i.platform,_c:r};return fRe(t,e,{...i,platform:s})};Ln({});const $Re=t=>{if(!ta)return;if(!t)return t;const e=kh(t);return e||(hs(t)?e:t)},VRe=({middleware:t,placement:e,strategy:n})=>{const r=Te(),i=Te(),s=Te(),l=Te(),c=Te({}),a={x:s,y:l,placement:e,strategy:n,middlewareData:c},f=async()=>{if(!ta)return;const A=$Re(r),m=kh(i);if(!A||!m)return;const _=await qre(A,m,{placement:S(e),strategy:S(n),middleware:S(t)});e2(a).forEach(y=>{a[y].value=_[y]})};return kr(()=>{rc(()=>{f()})}),{...a,update:f,referenceRef:r,contentRef:i}},HRe=({arrowRef:t,padding:e})=>({name:"arrow",options:{element:t,padding:e},fn(n){const r=S(t);return r?Wre({element:r,padding:e}).fn(n):{}}});function QRe(t){const e=Te();function n(){if(t.value==null)return;const{selectionStart:i,selectionEnd:s,value:l}=t.value;if(i==null||s==null)return;const c=l.slice(0,Math.max(0,i)),a=l.slice(Math.max(0,s));e.value={selectionStart:i,selectionEnd:s,value:l,beforeTxt:c,afterTxt:a}}function r(){if(t.value==null||e.value==null)return;const{value:i}=t.value,{beforeTxt:s,afterTxt:l,selectionStart:c}=e.value;if(s==null||l==null||c==null)return;let a=i.length;if(i.endsWith(l))a=i.length-l.length;else if(i.startsWith(s))a=s.length;else{const f=s[c-1],A=i.indexOf(f,c-1);A!==-1&&(a=A+1)}t.value.setSelectionRange(a,a)}return[n,r]}const jRe=(t,e,n)=>$v(t.subTree).filter(s=>{var l;return js(s)&&((l=s.type)==null?void 0:l.name)===e&&!!s.component}).map(s=>s.component.uid).map(s=>n[s]).filter(s=>!!s),d9=(t,e)=>{const n={},r=ms([]);return{children:r,addChild:l=>{n[l.uid]=l,r.value=jRe(t,e,n)},removeChild:l=>{delete n[l],r.value=r.value.filter(c=>c.uid!==l)}}},ru=tA({type:String,values:Sm,required:!1}),Yre=Symbol("size"),GRe=()=>{const t=ar(Yre,{});return le(()=>S(t.size)||"")};function sB(t,{afterFocus:e,beforeBlur:n,afterBlur:r}={}){const i=ci(),{emit:s}=i,l=ms(),c=Te(!1),a=m=>{c.value||(c.value=!0,s("focus",m),e==null||e())},f=m=>{var _;Dr(n)&&n(m)||m.relatedTarget&&((_=l.value)!=null&&_.contains(m.relatedTarget))||(c.value=!1,s("blur",m),r==null||r())},A=()=>{var m;(m=t.value)==null||m.focus()};return un(l,m=>{m&&m.setAttribute("tabindex","-1")}),gs(l,"click",A),{wrapperRef:l,isFocused:c,handleFocus:a,handleBlur:f}}const KRe=["",void 0,null],WRe=void 0,F2=Ln({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:t=>Dr(t)?!t():!t}}),oB=(t,e)=>{let n=$6();n.value||(n=Te({}));const r=le(()=>t.emptyValues||n.value.emptyValues||KRe),i=le(()=>Dr(t.valueOnClear)?t.valueOnClear():t.valueOnClear!==void 0?t.valueOnClear:Dr(n.value.valueOnClear)?n.value.valueOnClear():n.value.valueOnClear!==void 0?n.value.valueOnClear:e!==void 0?e:WRe),s=l=>r.value.includes(l);return r.value.includes(i.value),{emptyValues:r,valueOnClear:i,isEmptyValue:s}},qRe=Ln({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),Vu=t=>ZA(qRe,t),Xre=Symbol(),wT=Te();function $6(t,e=void 0){const n=ci()?ar(Xre,wT):wT;return t?le(()=>{var r,i;return(i=(r=n.value)==null?void 0:r[t])!=null?i:e}):n}function lB(t,e){const n=$6(),r=vn(t,le(()=>{var c;return((c=n.value)==null?void 0:c.namespace)||Q4})),i=ca(le(()=>{var c;return(c=n.value)==null?void 0:c.locale})),s=L2(le(()=>{var c;return((c=n.value)==null?void 0:c.zIndex)||Ore})),l=le(()=>{var c;return S(e)||((c=n.value)==null?void 0:c.size)||""});return f9(le(()=>S(n)||{})),{ns:r,locale:i,zIndex:s,size:l}}const f9=(t,e,n=!1)=>{var r;const i=!!ci(),s=i?$6():void 0,l=(r=e==null?void 0:e.provide)!=null?r:i?Ii:void 0;if(!l)return;const c=le(()=>{const a=S(t);return s!=null&&s.value?YRe(s.value,a):a});return l(Xre,c),l(_re,le(()=>c.value.locale)),l(yre,le(()=>c.value.namespace)),l(Dre,le(()=>c.value.zIndex)),l(Yre,{size:le(()=>c.value.size||"")}),(n||!wT.value)&&(wT.value=c.value),c},YRe=(t,e)=>{const n=[...new Set([...e2(t),...e2(e)])],r={};for(const i of n)r[i]=e[i]!==void 0?e[i]:t[i];return r},XRe=Ln({a11y:{type:Boolean,default:!0},locale:{type:Rt(Object)},size:ru,button:{type:Rt(Object)},experimentalFeatures:{type:Rt(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:Rt(Object)},zIndex:Number,namespace:{type:String,default:"el"},...F2}),Ck={},ZRe=Be({name:"ElConfigProvider",props:XRe,setup(t,{slots:e}){un(()=>t.message,r=>{Object.assign(Ck,r??{})},{immediate:!0,deep:!0});const n=f9(t);return()=>kt(e,"default",{config:n==null?void 0:n.value})}}),JRe=fi(ZRe),eOe="2.7.2",tOe=(t=[])=>({version:eOe,install:(n,r)=>{n[OG]||(n[OG]=!0,t.forEach(i=>n.use(i)),r&&f9(r,n,!0))}}),nOe=Ln({zIndex:{type:Rt([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),rOe={scroll:({scrollTop:t,fixed:e})=>Or(t)&&qo(e),[_s]:t=>qo(t)};var kn=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n};const Zre="ElAffix",iOe=Be({name:Zre}),aOe=Be({...iOe,props:nOe,emits:rOe,setup(t,{expose:e,emit:n}){const r=t,i=vn("affix"),s=ms(),l=ms(),c=ms(),{height:a}=j2e(),{height:f,width:A,top:m,bottom:_,update:y}=Xj(l,{windowScroll:!1}),T=Xj(s),E=Te(!1),P=Te(0),I=Te(0),F=le(()=>({height:E.value?`${f.value}px`:"",width:E.value?`${A.value}px`:""})),R=le(()=>{if(!E.value)return{};const Q=r.offset?Co(r.offset):0;return{height:`${f.value}px`,width:`${A.value}px`,top:r.position==="top"?Q:"",bottom:r.position==="bottom"?Q:"",transform:I.value?`translateY(${I.value}px)`:"",zIndex:r.zIndex}}),N=()=>{if(c.value)if(P.value=c.value instanceof Window?document.documentElement.scrollTop:c.value.scrollTop||0,r.position==="top")if(r.target){const Q=T.bottom.value-r.offset-f.value;E.value=r.offset>m.value&&T.bottom.value>0,I.value=Q<0?Q:0}else E.value=r.offset>m.value;else if(r.target){const Q=a.value-T.top.value-r.offset-f.value;E.value=a.value-r.offset<_.value&&a.value>T.top.value,I.value=Q<0?-Q:0}else E.value=a.value-r.offset<_.value},z=()=>{y(),n("scroll",{scrollTop:P.value,fixed:E.value})};return un(E,Q=>n("change",Q)),kr(()=>{var Q;r.target?(s.value=(Q=document.querySelector(r.target))!=null?Q:void 0,s.value||kl(Zre,`Target does not exist: ${r.target}`)):s.value=document.documentElement,c.value=ON(l.value,!0),y()}),gs(c,"scroll",z),rc(N),e({update:N,updateRoot:y}),(Q,j)=>(X(),ve("div",{ref_key:"root",ref:l,class:Se(S(i).b()),style:or(S(F))},[pe("div",{class:Se({[S(i).m("fixed")]:E.value}),style:or(S(R))},[kt(Q.$slots,"default")],6)],6))}});var sOe=kn(aOe,[["__file","affix.vue"]]);const oOe=fi(sOe),lOe=Ln({size:{type:Rt([Number,String])},color:{type:String}}),uOe=Be({name:"ElIcon",inheritAttrs:!1}),cOe=Be({...uOe,props:lOe,setup(t){const e=t,n=vn("icon"),r=le(()=>{const{size:i,color:s}=e;return!i&&!s?{}:{fontSize:Wo(i)?void 0:Co(i),"--color":s}});return(i,s)=>(X(),ve("i",Xr({class:S(n).b(),style:S(r)},i.$attrs),[kt(i.$slots,"default")],16))}});var hOe=kn(cOe,[["__file","icon.vue"]]);const Ar=fi(hOe),dOe=["light","dark"],fOe=Ln({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:e2(Xv),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:dOe,default:"light"}}),pOe={close:t=>t instanceof MouseEvent},AOe=Be({name:"ElAlert"}),mOe=Be({...AOe,props:fOe,emits:pOe,setup(t,{emit:e}){const n=t,{Close:r}=HN,i=Eo(),s=vn("alert"),l=Te(!0),c=le(()=>Xv[n.type]),a=le(()=>[s.e("icon"),{[s.is("big")]:!!n.description||!!i.default}]),f=le(()=>({"with-description":n.description||i.default})),A=m=>{l.value=!1,e("close",m)};return(m,_)=>(X(),Ut(co,{name:S(s).b("fade"),persisted:""},{default:xt(()=>[Jr(pe("div",{class:Se([S(s).b(),S(s).m(m.type),S(s).is("center",m.center),S(s).is(m.effect)]),role:"alert"},[m.showIcon&&S(c)?(X(),Ut(S(Ar),{key:0,class:Se(S(a))},{default:xt(()=>[(X(),Ut(di(S(c))))]),_:1},8,["class"])):bt("v-if",!0),pe("div",{class:Se(S(s).e("content"))},[m.title||m.$slots.title?(X(),ve("span",{key:0,class:Se([S(s).e("title"),S(f)])},[kt(m.$slots,"title",{},()=>[wi(Cn(m.title),1)])],2)):bt("v-if",!0),m.$slots.default||m.description?(X(),ve("p",{key:1,class:Se(S(s).e("description"))},[kt(m.$slots,"default",{},()=>[wi(Cn(m.description),1)])],2)):bt("v-if",!0),m.closable?(X(),ve(Vn,{key:2},[m.closeText?(X(),ve("div",{key:0,class:Se([S(s).e("close-btn"),S(s).is("customed")]),onClick:A},Cn(m.closeText),3)):(X(),Ut(S(Ar),{key:1,class:Se(S(s).e("close-btn")),onClick:A},{default:xt(()=>[ht(S(r))]),_:1},8,["class"]))],64)):bt("v-if",!0)],2)],2),[[la,l.value]])]),_:3},8,["name"]))}});var gOe=kn(mOe,[["__file","alert.vue"]]);const vOe=fi(gOe),by=Symbol("formContextKey"),vm=Symbol("formItemContextKey"),hl=(t,e={})=>{const n=Te(void 0),r=e.prop?n:wre("size"),i=e.global?n:GRe(),s=e.form?{size:void 0}:ar(by,void 0),l=e.formItem?{size:void 0}:ar(vm,void 0);return le(()=>r.value||S(t)||(l==null?void 0:l.size)||(s==null?void 0:s.size)||i.value||"")},oh=t=>{const e=wre("disabled"),n=ar(by,void 0);return le(()=>e.value||S(t)||(n==null?void 0:n.disabled)||!1)},Nc=()=>{const t=ar(by,void 0),e=ar(vm,void 0);return{form:t,formItem:e}},rA=(t,{formItemContext:e,disableIdGeneration:n,disableIdManagement:r})=>{n||(n=Te(!1)),r||(r=Te(!1));const i=Te();let s;const l=le(()=>{var c;return!!(!(t.label||t.ariaLabel)&&e&&e.inputIds&&((c=e.inputIds)==null?void 0:c.length)<=1)});return kr(()=>{s=un([Oa(t,"id"),n],([c,a])=>{const f=c??(a?void 0:ac().value);f!==i.value&&(e!=null&&e.removeInputId&&(i.value&&e.removeInputId(i.value),!(r!=null&&r.value)&&!a&&f&&e.addInputId(f)),i.value=f)},{immediate:!0})}),Rf(()=>{s&&s(),e!=null&&e.removeInputId&&i.value&&e.removeInputId(i.value)}),{isLabeledByFormItem:l,inputId:i}},_Oe=Ln({size:{type:String,values:Sm},disabled:Boolean}),yOe=Ln({..._Oe,model:Object,rules:{type:Rt(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),bOe={validate:(t,e,n)=>(Jn(t)||Hr(t))&&qo(e)&&Hr(n)};function wOe(){const t=Te([]),e=le(()=>{if(!t.value.length)return"0";const s=Math.max(...t.value);return s?`${s}px`:""});function n(s){const l=t.value.indexOf(s);return l===-1&&e.value,l}function r(s,l){if(s&&l){const c=n(l);t.value.splice(c,1,s)}else s&&t.value.push(s)}function i(s){const l=n(s);l>-1&&t.value.splice(l,1)}return{autoLabelWidth:e,registerLabelWidth:r,deregisterLabelWidth:i}}const NE=(t,e)=>{const n=qv(e);return n.length>0?t.filter(r=>r.prop&&n.includes(r.prop)):t},xOe="ElForm",COe=Be({name:xOe}),EOe=Be({...COe,props:yOe,emits:bOe,setup(t,{expose:e,emit:n}){const r=t,i=[],s=hl(),l=vn("form"),c=le(()=>{const{labelPosition:R,inline:N}=r;return[l.b(),l.m(s.value||"default"),{[l.m(`label-${R}`)]:R,[l.m("inline")]:N}]}),a=R=>i.find(N=>N.prop===R),f=R=>{i.push(R)},A=R=>{R.prop&&i.splice(i.indexOf(R),1)},m=(R=[])=>{r.model&&NE(i,R).forEach(N=>N.resetField())},_=(R=[])=>{NE(i,R).forEach(N=>N.clearValidate())},y=le(()=>!!r.model),T=R=>{if(i.length===0)return[];const N=NE(i,R);return N.length?N:[]},E=async R=>I(void 0,R),P=async(R=[])=>{if(!y.value)return!1;const N=T(R);if(N.length===0)return!0;let z={};for(const Q of N)try{await Q.validate("")}catch(j){z={...z,...j}}return Object.keys(z).length===0?!0:Promise.reject(z)},I=async(R=[],N)=>{const z=!Dr(N);try{const Q=await P(R);return Q===!0&&await(N==null?void 0:N(Q)),Q}catch(Q){if(Q instanceof Error)throw Q;const j=Q;return r.scrollToError&&F(Object.keys(j)[0]),await(N==null?void 0:N(!1,j)),z&&Promise.reject(j)}},F=R=>{var N;const z=NE(i,R)[0];z&&((N=z.$el)==null||N.scrollIntoView(r.scrollIntoViewOptions))};return un(()=>r.rules,()=>{r.validateOnRuleChange&&E().catch(R=>void 0)},{deep:!0}),Ii(by,ua({...zu(r),emit:n,resetFields:m,clearValidate:_,validateField:I,getField:a,addField:f,removeField:A,...wOe()})),e({validate:E,validateField:I,resetFields:m,clearValidate:_,scrollToField:F}),(R,N)=>(X(),ve("form",{class:Se(S(c))},[kt(R.$slots,"default")],2))}});var SOe=kn(EOe,[["__file","form.vue"]]);function C_(){return C_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C_.apply(this,arguments)}function TOe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,OC(t,e)}function Ek(t){return Ek=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ek(t)}function OC(t,e){return OC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},OC(t,e)}function BOe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function dS(t,e,n){return BOe()?dS=Reflect.construct.bind():dS=function(i,s,l){var c=[null];c.push.apply(c,s);var a=Function.bind.apply(i,c),f=new a;return l&&OC(f,l.prototype),f},dS.apply(null,arguments)}function MOe(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function Sk(t){var e=typeof Map=="function"?new Map:void 0;return Sk=function(r){if(r===null||!MOe(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return dS(r,arguments,Ek(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),OC(i,r)},Sk(t)}var IOe=/%[sdj%]/g,LOe=function(){};function Tk(t){if(!t||!t.length)return null;var e={};return t.forEach(function(n){var r=n.field;e[r]=e[r]||[],e[r].push(n)}),e}function kd(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=0,s=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var l=t.replace(IOe,function(c){if(c==="%%")return"%";if(i>=s)return c;switch(c){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch{return"[Circular]"}break;default:return c}});return l}return t}function POe(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function wu(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||POe(e)&&typeof t=="string"&&!t)}function FOe(t,e,n){var r=[],i=0,s=t.length;function l(c){r.push.apply(r,c||[]),i++,i===s&&n(r)}t.forEach(function(c){e(c,l)})}function iK(t,e,n){var r=0,i=t.length;function s(l){if(l&&l.length){n(l);return}var c=r;r=r+1,c<i?e(t[c],s):n([])}s([])}function kOe(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,t[n]||[])}),e}var aK=function(t){TOe(e,t);function e(n,r){var i;return i=t.call(this,"Async Validation Error")||this,i.errors=n,i.fields=r,i}return e}(Sk(Error));function ROe(t,e,n,r,i){if(e.first){var s=new Promise(function(_,y){var T=function(I){return r(I),I.length?y(new aK(I,Tk(I))):_(i)},E=kOe(t);iK(E,n,T)});return s.catch(function(_){return _}),s}var l=e.firstFields===!0?Object.keys(t):e.firstFields||[],c=Object.keys(t),a=c.length,f=0,A=[],m=new Promise(function(_,y){var T=function(P){if(A.push.apply(A,P),f++,f===a)return r(A),A.length?y(new aK(A,Tk(A))):_(i)};c.length||(r(A),_(i)),c.forEach(function(E){var P=t[E];l.indexOf(E)!==-1?iK(P,n,T):FOe(P,n,T)})});return m.catch(function(_){return _}),m}function OOe(t){return!!(t&&t.message!==void 0)}function DOe(t,e){for(var n=t,r=0;r<e.length;r++){if(n==null)return n;n=n[e[r]]}return n}function sK(t,e){return function(n){var r;return t.fullFields?r=DOe(e,t.fullFields):r=e[n.field||t.fullField],OOe(n)?(n.field=n.field||t.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||t.fullField}}}function oK(t,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];typeof r=="object"&&typeof t[n]=="object"?t[n]=C_({},t[n],r):t[n]=r}}return t}var Jre=function(e,n,r,i,s,l){e.required&&(!r.hasOwnProperty(e.field)||wu(n,l||e.type))&&i.push(kd(s.messages.required,e.fullField))},NOe=function(e,n,r,i,s){(/^\s+$/.test(n)||n==="")&&i.push(kd(s.messages.whitespace,e.fullField))},UE,UOe=function(){if(UE)return UE;var t="[a-fA-F\\d:]",e=function(N){return N&&N.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=(`
(?:
(?:`+r+":){7}(?:"+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+":){6}(?:"+n+"|:"+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+":){5}(?::"+n+"|(?::"+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+"){0,5}:"+n+"|(?::"+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),s=new RegExp("(?:^"+n+"$)|(?:^"+i+"$)"),l=new RegExp("^"+n+"$"),c=new RegExp("^"+i+"$"),a=function(N){return N&&N.exact?s:new RegExp("(?:"+e(N)+n+e(N)+")|(?:"+e(N)+i+e(N)+")","g")};a.v4=function(R){return R&&R.exact?l:new RegExp(""+e(R)+n+e(R),"g")},a.v6=function(R){return R&&R.exact?c:new RegExp(""+e(R)+i+e(R),"g")};var f="(?:(?:[a-z]+:)?//)",A="(?:\\S+(?::\\S*)?@)?",m=a.v4().source,_=a.v6().source,y="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",T="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",E="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",P="(?::\\d{2,5})?",I='(?:[/?#][^\\s"]*)?',F="(?:"+f+"|www\\.)"+A+"(?:localhost|"+m+"|"+_+"|"+y+T+E+")"+P+I;return UE=new RegExp("(?:^"+F+"$)","i"),UE},lK={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},d4={integer:function(e){return d4.number(e)&&parseInt(e,10)===e},float:function(e){return d4.number(e)&&!d4.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!d4.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(lK.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(UOe())},hex:function(e){return typeof e=="string"&&!!e.match(lK.hex)}},zOe=function(e,n,r,i,s){if(e.required&&n===void 0){Jre(e,n,r,i,s);return}var l=["integer","float","array","regexp","object","method","email","number","date","url","hex"],c=e.type;l.indexOf(c)>-1?d4[c](n)||i.push(kd(s.messages.types[c],e.fullField,e.type)):c&&typeof n!==e.type&&i.push(kd(s.messages.types[c],e.fullField,e.type))},$Oe=function(e,n,r,i,s){var l=typeof e.len=="number",c=typeof e.min=="number",a=typeof e.max=="number",f=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,A=n,m=null,_=typeof n=="number",y=typeof n=="string",T=Array.isArray(n);if(_?m="number":y?m="string":T&&(m="array"),!m)return!1;T&&(A=n.length),y&&(A=n.replace(f,"_").length),l?A!==e.len&&i.push(kd(s.messages[m].len,e.fullField,e.len)):c&&!a&&A<e.min?i.push(kd(s.messages[m].min,e.fullField,e.min)):a&&!c&&A>e.max?i.push(kd(s.messages[m].max,e.fullField,e.max)):c&&a&&(A<e.min||A>e.max)&&i.push(kd(s.messages[m].range,e.fullField,e.min,e.max))},Ab="enum",VOe=function(e,n,r,i,s){e[Ab]=Array.isArray(e[Ab])?e[Ab]:[],e[Ab].indexOf(n)===-1&&i.push(kd(s.messages[Ab],e.fullField,e[Ab].join(", ")))},HOe=function(e,n,r,i,s){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||i.push(kd(s.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var l=new RegExp(e.pattern);l.test(n)||i.push(kd(s.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},rs={required:Jre,whitespace:NOe,type:zOe,range:$Oe,enum:VOe,pattern:HOe},QOe=function(e,n,r,i,s){var l=[],c=e.required||!e.required&&i.hasOwnProperty(e.field);if(c){if(wu(n,"string")&&!e.required)return r();rs.required(e,n,i,l,s,"string"),wu(n,"string")||(rs.type(e,n,i,l,s),rs.range(e,n,i,l,s),rs.pattern(e,n,i,l,s),e.whitespace===!0&&rs.whitespace(e,n,i,l,s))}r(l)},jOe=function(e,n,r,i,s){var l=[],c=e.required||!e.required&&i.hasOwnProperty(e.field);if(c){if(wu(n)&&!e.required)return r();rs.required(e,n,i,l,s),n!==void 0&&rs.type(e,n,i,l,s)}r(l)},GOe=function(e,n,r,i,s){var l=[],c=e.required||!e.required&&i.hasOwnProperty(e.field);if(c){if(n===""&&(n=void 0),wu(n)&&!e.required)return r();rs.required(e,n,i,l,s),n!==void 0&&(rs.type(e,n,i,l,s),rs.range(e,n,i,l,s))}r(l)},KOe=function(e,n,r,i,s){var l=[],c=e.required||!e.required&&i.hasOwnProperty(e.field);if(c){if(wu(n)&&!e.required)return r();rs.required(e,n,i,l,s),n!==void 0&&rs.type(e,n,i,l,s)}r(l)},WOe=function(e,n,r,i,s){var l=[],c=e.required||!e.required&&i.hasOwnProperty(e.field);if(c){if(wu(n)&&!e.required)return r();rs.required(e,n,i,l,s),wu(n)||rs.type(e,n,i,l,s)}r(l)},qOe=function(e,n,r,i,s){var l=[],c=e.required||!e.required&&i.hasOwnProperty(e.field);if(c){if(wu(n)&&!e.required)return r();rs.required(e,n,i,l,s),n!==void 0&&(rs.type(e,n,i,l,s),rs.range(e,n,i,l,s))}r(l)},YOe=function(e,n,r,i,s){var l=[],c=e.required||!e.required&&i.hasOwnProperty(e.field);if(c){if(wu(n)&&!e.required)return r();rs.required(e,n,i,l,s),n!==void 0&&(rs.type(e,n,i,l,s),rs.range(e,n,i,l,s))}r(l)},XOe=function(e,n,r,i,s){var l=[],c=e.required||!e.required&&i.hasOwnProperty(e.field);if(c){if(n==null&&!e.required)return r();rs.required(e,n,i,l,s,"array"),n!=null&&(rs.type(e,n,i,l,s),rs.range(e,n,i,l,s))}r(l)},ZOe=function(e,n,r,i,s){var l=[],c=e.required||!e.required&&i.hasOwnProperty(e.field);if(c){if(wu(n)&&!e.required)return r();rs.required(e,n,i,l,s),n!==void 0&&rs.type(e,n,i,l,s)}r(l)},JOe="enum",eDe=function(e,n,r,i,s){var l=[],c=e.required||!e.required&&i.hasOwnProperty(e.field);if(c){if(wu(n)&&!e.required)return r();rs.required(e,n,i,l,s),n!==void 0&&rs[JOe](e,n,i,l,s)}r(l)},tDe=function(e,n,r,i,s){var l=[],c=e.required||!e.required&&i.hasOwnProperty(e.field);if(c){if(wu(n,"string")&&!e.required)return r();rs.required(e,n,i,l,s),wu(n,"string")||rs.pattern(e,n,i,l,s)}r(l)},nDe=function(e,n,r,i,s){var l=[],c=e.required||!e.required&&i.hasOwnProperty(e.field);if(c){if(wu(n,"date")&&!e.required)return r();if(rs.required(e,n,i,l,s),!wu(n,"date")){var a;n instanceof Date?a=n:a=new Date(n),rs.type(e,a,i,l,s),a&&rs.range(e,a.getTime(),i,l,s)}}r(l)},rDe=function(e,n,r,i,s){var l=[],c=Array.isArray(n)?"array":typeof n;rs.required(e,n,i,l,s,c),r(l)},bL=function(e,n,r,i,s){var l=e.type,c=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(wu(n,l)&&!e.required)return r();rs.required(e,n,i,c,s,l),wu(n,l)||rs.type(e,n,i,c,s)}r(c)},iDe=function(e,n,r,i,s){var l=[],c=e.required||!e.required&&i.hasOwnProperty(e.field);if(c){if(wu(n)&&!e.required)return r();rs.required(e,n,i,l,s)}r(l)},K4={string:QOe,method:jOe,number:GOe,boolean:KOe,regexp:WOe,integer:qOe,float:YOe,array:XOe,object:ZOe,enum:eDe,pattern:tDe,date:nDe,url:bL,hex:bL,email:bL,required:rDe,any:iDe};function Bk(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Mk=Bk(),V6=function(){function t(n){this.rules=null,this._messages=Mk,this.define(n)}var e=t.prototype;return e.define=function(r){var i=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(s){var l=r[s];i.rules[s]=Array.isArray(l)?l:[l]})},e.messages=function(r){return r&&(this._messages=oK(Bk(),r)),this._messages},e.validate=function(r,i,s){var l=this;i===void 0&&(i={}),s===void 0&&(s=function(){});var c=r,a=i,f=s;if(typeof a=="function"&&(f=a,a={}),!this.rules||Object.keys(this.rules).length===0)return f&&f(null,c),Promise.resolve(c);function A(E){var P=[],I={};function F(N){if(Array.isArray(N)){var z;P=(z=P).concat.apply(z,N)}else P.push(N)}for(var R=0;R<E.length;R++)F(E[R]);P.length?(I=Tk(P),f(P,I)):f(null,c)}if(a.messages){var m=this.messages();m===Mk&&(m=Bk()),oK(m,a.messages),a.messages=m}else a.messages=this.messages();var _={},y=a.keys||Object.keys(this.rules);y.forEach(function(E){var P=l.rules[E],I=c[E];P.forEach(function(F){var R=F;typeof R.transform=="function"&&(c===r&&(c=C_({},c)),I=c[E]=R.transform(I)),typeof R=="function"?R={validator:R}:R=C_({},R),R.validator=l.getValidationMethod(R),R.validator&&(R.field=E,R.fullField=R.fullField||E,R.type=l.getType(R),_[E]=_[E]||[],_[E].push({rule:R,value:I,source:c,field:E}))})});var T={};return ROe(_,a,function(E,P){var I=E.rule,F=(I.type==="object"||I.type==="array")&&(typeof I.fields=="object"||typeof I.defaultField=="object");F=F&&(I.required||!I.required&&E.value),I.field=E.field;function R(Q,j){return C_({},j,{fullField:I.fullField+"."+Q,fullFields:I.fullFields?[].concat(I.fullFields,[Q]):[Q]})}function N(Q){Q===void 0&&(Q=[]);var j=Array.isArray(Q)?Q:[Q];!a.suppressWarning&&j.length&&t.warning("async-validator:",j),j.length&&I.message!==void 0&&(j=[].concat(I.message));var H=j.map(sK(I,c));if(a.first&&H.length)return T[I.field]=1,P(H);if(!F)P(H);else{if(I.required&&!E.value)return I.message!==void 0?H=[].concat(I.message).map(sK(I,c)):a.error&&(H=[a.error(I,kd(a.messages.required,I.field))]),P(H);var K={};I.defaultField&&Object.keys(E.value).map(function(W){K[W]=I.defaultField}),K=C_({},K,E.rule.fields);var ie={};Object.keys(K).forEach(function(W){var ee=K[W],ue=Array.isArray(ee)?ee:[ee];ie[W]=ue.map(R.bind(null,W))});var q=new t(ie);q.messages(a.messages),E.rule.options&&(E.rule.options.messages=a.messages,E.rule.options.error=a.error),q.validate(E.value,E.rule.options||a,function(W){var ee=[];H&&H.length&&ee.push.apply(ee,H),W&&W.length&&ee.push.apply(ee,W),P(ee.length?ee:null)})}}var z;if(I.asyncValidator)z=I.asyncValidator(I,E.value,N,E.source,a);else if(I.validator){try{z=I.validator(I,E.value,N,E.source,a)}catch(Q){console.error==null||console.error(Q),a.suppressValidatorError||setTimeout(function(){throw Q},0),N(Q.message)}z===!0?N():z===!1?N(typeof I.message=="function"?I.message(I.fullField||I.field):I.message||(I.fullField||I.field)+" fails"):z instanceof Array?N(z):z instanceof Error&&N(z.message)}z&&z.then&&z.then(function(){return N()},function(Q){return N(Q)})},function(E){A(E)},c)},e.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!K4.hasOwnProperty(r.type))throw new Error(kd("Unknown rule type %s",r.type));return r.type||"string"},e.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var i=Object.keys(r),s=i.indexOf("message");return s!==-1&&i.splice(s,1),i.length===1&&i[0]==="required"?K4.required:K4[this.getType(r)]||void 0},t}();V6.register=function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");K4[e]=n};V6.warning=LOe;V6.messages=Mk;V6.validators=K4;const aDe=["","error","validating","success"],sDe=Ln({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:Rt([String,Array])},required:{type:Boolean,default:void 0},rules:{type:Rt([Object,Array])},error:String,validateStatus:{type:String,values:aDe},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:Sm}}),uK="ElLabelWrap";var oDe=Be({name:uK,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(t,{slots:e}){const n=ar(by,void 0),r=ar(vm);r||kl(uK,"usage: <el-form-item><label-wrap /></el-form-item>");const i=vn("form"),s=Te(),l=Te(0),c=()=>{var A;if((A=s.value)!=null&&A.firstElementChild){const m=window.getComputedStyle(s.value.firstElementChild).width;return Math.ceil(Number.parseFloat(m))}else return 0},a=(A="update")=>{dr(()=>{e.default&&t.isAutoWidth&&(A==="update"?l.value=c():A==="remove"&&(n==null||n.deregisterLabelWidth(l.value)))})},f=()=>a("update");return kr(()=>{f()}),ds(()=>{a("remove")}),i0(()=>f()),un(l,(A,m)=>{t.updateAll&&(n==null||n.registerLabelWidth(A,m))}),eo(le(()=>{var A,m;return(m=(A=s.value)==null?void 0:A.firstElementChild)!=null?m:null}),f),()=>{var A,m;if(!e)return null;const{isAutoWidth:_}=t;if(_){const y=n==null?void 0:n.autoLabelWidth,T=r==null?void 0:r.hasLabel,E={};if(T&&y&&y!=="auto"){const P=Math.max(0,Number.parseInt(y,10)-l.value),I=n.labelPosition==="left"?"marginRight":"marginLeft";P&&(E[I]=`${P}px`)}return ht("div",{ref:s,class:[i.be("item","label-wrap")],style:E},[(A=e.default)==null?void 0:A.call(e)])}else return ht(Vn,{ref:s},[(m=e.default)==null?void 0:m.call(e)])}}});const lDe=["role","aria-labelledby"],uDe=Be({name:"ElFormItem"}),cDe=Be({...uDe,props:sDe,setup(t,{expose:e}){const n=t,r=Eo(),i=ar(by,void 0),s=ar(vm,void 0),l=hl(void 0,{formItem:!1}),c=vn("form-item"),a=ac().value,f=Te([]),A=Te(""),m=T2e(A,100),_=Te(""),y=Te();let T,E=!1;const P=le(()=>{if((i==null?void 0:i.labelPosition)==="top")return{};const be=Co(n.labelWidth||(i==null?void 0:i.labelWidth)||"");return be?{width:be}:{}}),I=le(()=>{if((i==null?void 0:i.labelPosition)==="top"||i!=null&&i.inline)return{};if(!n.label&&!n.labelWidth&&K)return{};const be=Co(n.labelWidth||(i==null?void 0:i.labelWidth)||"");return!n.label&&!r.label?{marginLeft:be}:{}}),F=le(()=>[c.b(),c.m(l.value),c.is("error",A.value==="error"),c.is("validating",A.value==="validating"),c.is("success",A.value==="success"),c.is("required",ue.value||n.required),c.is("no-asterisk",i==null?void 0:i.hideRequiredAsterisk),(i==null?void 0:i.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[c.m("feedback")]:i==null?void 0:i.statusIcon}]),R=le(()=>qo(n.inlineMessage)?n.inlineMessage:(i==null?void 0:i.inlineMessage)||!1),N=le(()=>[c.e("error"),{[c.em("error","inline")]:R.value}]),z=le(()=>n.prop?Hr(n.prop)?n.prop:n.prop.join("."):""),Q=le(()=>!!(n.label||r.label)),j=le(()=>n.for||(f.value.length===1?f.value[0]:void 0)),H=le(()=>!j.value&&Q.value),K=!!s,ie=le(()=>{const be=i==null?void 0:i.model;if(!(!be||!n.prop))return cS(be,n.prop).value}),q=le(()=>{const{required:be}=n,Re=[];n.rules&&Re.push(...qv(n.rules));const Qe=i==null?void 0:i.rules;if(Qe&&n.prop){const Je=cS(Qe,n.prop).value;Je&&Re.push(...qv(Je))}if(be!==void 0){const Je=Re.map((nt,Ve)=>[nt,Ve]).filter(([nt])=>Object.keys(nt).includes("required"));if(Je.length>0)for(const[nt,Ve]of Je)nt.required!==be&&(Re[Ve]={...nt,required:be});else Re.push({required:be})}return Re}),W=le(()=>q.value.length>0),ee=be=>q.value.filter(Qe=>!Qe.trigger||!be?!0:Array.isArray(Qe.trigger)?Qe.trigger.includes(be):Qe.trigger===be).map(({trigger:Qe,...Je})=>Je),ue=le(()=>q.value.some(be=>be.required)),J=le(()=>{var be;return m.value==="error"&&n.showMessage&&((be=i==null?void 0:i.showMessage)!=null?be:!0)}),te=le(()=>`${n.label||""}${(i==null?void 0:i.labelSuffix)||""}`),ne=be=>{A.value=be},he=be=>{var Re,Qe;const{errors:Je,fields:nt}=be;(!Je||!nt)&&console.error(be),ne("error"),_.value=Je?(Qe=(Re=Je==null?void 0:Je[0])==null?void 0:Re.message)!=null?Qe:`${n.prop} is required`:"",i==null||i.emit("validate",n.prop,!1,_.value)},ce=()=>{ne("success"),i==null||i.emit("validate",n.prop,!0,"")},ye=async be=>{const Re=z.value;return new V6({[Re]:be}).validate({[Re]:ie.value},{firstFields:!0}).then(()=>(ce(),!0)).catch(Je=>(he(Je),Promise.reject(Je)))},Ee=async(be,Re)=>{if(E||!n.prop)return!1;const Qe=Dr(Re);if(!W.value)return Re==null||Re(!1),!1;const Je=ee(be);return Je.length===0?(Re==null||Re(!0),!0):(ne("validating"),ye(Je).then(()=>(Re==null||Re(!0),!0)).catch(nt=>{const{fields:Ve}=nt;return Re==null||Re(!1,Ve),Qe?!1:Promise.reject(Ve)}))},se=()=>{ne(""),_.value="",E=!1},oe=async()=>{const be=i==null?void 0:i.model;if(!be||!n.prop)return;const Re=cS(be,n.prop);E=!0,Re.value=MG(T),await dr(),se(),E=!1},_e=be=>{f.value.includes(be)||f.value.push(be)},Ue=be=>{f.value=f.value.filter(Re=>Re!==be)};un(()=>n.error,be=>{_.value=be||"",ne(be?"error":"")},{immediate:!0}),un(()=>n.validateStatus,be=>ne(be||""));const Le=ua({...zu(n),$el:y,size:l,validateState:A,labelId:a,inputIds:f,isGroup:H,hasLabel:Q,fieldValue:ie,addInputId:_e,removeInputId:Ue,resetField:oe,clearValidate:se,validate:Ee});return Ii(vm,Le),kr(()=>{n.prop&&(i==null||i.addField(Le),T=MG(ie.value))}),ds(()=>{i==null||i.removeField(Le)}),e({size:l,validateMessage:_,validateState:A,validate:Ee,clearValidate:se,resetField:oe}),(be,Re)=>{var Qe;return X(),ve("div",{ref_key:"formItemRef",ref:y,class:Se(S(F)),role:S(H)?"group":void 0,"aria-labelledby":S(H)?S(a):void 0},[ht(S(oDe),{"is-auto-width":S(P).width==="auto","update-all":((Qe=S(i))==null?void 0:Qe.labelWidth)==="auto"},{default:xt(()=>[S(Q)?(X(),Ut(di(S(j)?"label":"div"),{key:0,id:S(a),for:S(j),class:Se(S(c).e("label")),style:or(S(P))},{default:xt(()=>[kt(be.$slots,"label",{label:S(te)},()=>[wi(Cn(S(te)),1)])]),_:3},8,["id","for","class","style"])):bt("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),pe("div",{class:Se(S(c).e("content")),style:or(S(I))},[kt(be.$slots,"default"),ht(Vee,{name:`${S(c).namespace.value}-zoom-in-top`},{default:xt(()=>[S(J)?kt(be.$slots,"error",{key:0,error:_.value},()=>[pe("div",{class:Se(S(N))},Cn(_.value),3)]):bt("v-if",!0)]),_:3},8,["name"])],6)],10,lDe)}}});var eie=kn(cDe,[["__file","form-item.vue"]]);const hDe=fi(SOe,{FormItem:eie}),dDe=ro(eie);let bp;const fDe=`
  height:0 !important;
  visibility:hidden !important;
  ${ine()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,pDe=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function ADe(t){const e=window.getComputedStyle(t),n=e.getPropertyValue("box-sizing"),r=Number.parseFloat(e.getPropertyValue("padding-bottom"))+Number.parseFloat(e.getPropertyValue("padding-top")),i=Number.parseFloat(e.getPropertyValue("border-bottom-width"))+Number.parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:pDe.map(l=>`${l}:${e.getPropertyValue(l)}`).join(";"),paddingSize:r,borderSize:i,boxSizing:n}}function cK(t,e=1,n){var r;bp||(bp=document.createElement("textarea"),document.body.appendChild(bp));const{paddingSize:i,borderSize:s,boxSizing:l,contextStyle:c}=ADe(t);bp.setAttribute("style",`${c};${fDe}`),bp.value=t.value||t.placeholder||"";let a=bp.scrollHeight;const f={};l==="border-box"?a=a+s:l==="content-box"&&(a=a-i),bp.value="";const A=bp.scrollHeight-i;if(Or(e)){let m=A*e;l==="border-box"&&(m=m+i+s),a=Math.max(m,a),f.minHeight=`${m}px`}if(Or(n)){let m=A*n;l==="border-box"&&(m=m+i+s),a=Math.min(m,a)}return f.height=`${a}px`,(r=bp.parentNode)==null||r.removeChild(bp),bp=void 0,f}const mDe=Ln({id:{type:String,default:void 0},size:ru,disabled:Boolean,modelValue:{type:Rt([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:Rt([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:Ja},prefixIcon:{type:Ja},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:Rt([Object,Array,String]),default:()=>to({})},autofocus:{type:Boolean,default:!1},...Vu(["ariaLabel"])}),gDe={[vi]:t=>Hr(t),input:t=>Hr(t),change:t=>Hr(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof Event,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},vDe=["role"],_De=["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],yDe=["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus"],bDe=Be({name:"ElInput",inheritAttrs:!1}),wDe=Be({...bDe,props:mDe,emits:gDe,setup(t,{expose:e,emit:n}){const r=t,i=py(),s=Eo(),l=le(()=>{const Nt={};return r.containerRole==="combobox"&&(Nt["aria-haspopup"]=i["aria-haspopup"],Nt["aria-owns"]=i["aria-owns"],Nt["aria-expanded"]=i["aria-expanded"]),Nt}),c=le(()=>[r.type==="textarea"?P.b():E.b(),E.m(y.value),E.is("disabled",T.value),E.is("exceed",_e.value),{[E.b("group")]:s.prepend||s.append,[E.bm("group","append")]:s.append,[E.bm("group","prepend")]:s.prepend,[E.m("prefix")]:s.prefix||r.prefixIcon,[E.m("suffix")]:s.suffix||r.suffixIcon||r.clearable||r.showPassword,[E.bm("suffix","password-clear")]:ye.value&&Ee.value,[E.b("hidden")]:r.type==="hidden"},i.class]),a=le(()=>[E.e("wrapper"),E.is("focus",ie.value)]),f=GN({excludeKeys:le(()=>Object.keys(l.value))}),{form:A,formItem:m}=Nc(),{inputId:_}=rA(r,{formItemContext:m}),y=hl(),T=oh(),E=vn("input"),P=vn("textarea"),I=ms(),F=ms(),R=Te(!1),N=Te(!1),z=Te(!1),Q=Te(),j=ms(r.inputStyle),H=le(()=>I.value||F.value),{wrapperRef:K,isFocused:ie,handleFocus:q,handleBlur:W}=sB(H,{afterBlur(){var Nt;r.validateEvent&&((Nt=m==null?void 0:m.validate)==null||Nt.call(m,"blur").catch(wt=>void 0))}}),ee=le(()=>{var Nt;return(Nt=A==null?void 0:A.statusIcon)!=null?Nt:!1}),ue=le(()=>(m==null?void 0:m.validateState)||""),J=le(()=>ue.value&&QN[ue.value]),te=le(()=>z.value?fre:tre),ne=le(()=>[i.style]),he=le(()=>[r.inputStyle,j.value,{resize:r.resize}]),ce=le(()=>_u(r.modelValue)?"":String(r.modelValue)),ye=le(()=>r.clearable&&!T.value&&!r.readonly&&!!ce.value&&(ie.value||R.value)),Ee=le(()=>r.showPassword&&!T.value&&!r.readonly&&!!ce.value&&(!!ce.value||ie.value)),se=le(()=>r.showWordLimit&&!!r.maxlength&&(r.type==="text"||r.type==="textarea")&&!T.value&&!r.readonly&&!r.showPassword),oe=le(()=>ce.value.length),_e=le(()=>!!se.value&&oe.value>Number(r.maxlength)),Ue=le(()=>!!s.suffix||!!r.suffixIcon||ye.value||r.showPassword||se.value||!!ue.value&&ee.value),[Le,be]=QRe(I);eo(F,Nt=>{if(Je(),!se.value||r.resize!=="both")return;const wt=Nt[0],{width:De}=wt.contentRect;Q.value={right:`calc(100% - ${De+15+6}px)`}});const Re=()=>{const{type:Nt,autosize:wt}=r;if(!(!ta||Nt!=="textarea"||!F.value))if(wt){const De=Ai(wt)?wt.minRows:void 0,We=Ai(wt)?wt.maxRows:void 0,ut=cK(F.value,De,We);j.value={overflowY:"hidden",...ut},dr(()=>{F.value.offsetHeight,j.value=ut})}else j.value={minHeight:cK(F.value).minHeight}},Je=(Nt=>{let wt=!1;return()=>{var De;if(wt||!r.autosize)return;((De=F.value)==null?void 0:De.offsetParent)===null||(Nt(),wt=!0)}})(Re),nt=()=>{const Nt=H.value,wt=r.formatter?r.formatter(ce.value):ce.value;!Nt||Nt.value===wt||(Nt.value=wt)},Ve=async Nt=>{Le();let{value:wt}=Nt.target;if(r.formatter&&(wt=r.parser?r.parser(wt):wt),!N.value){if(wt===ce.value){nt();return}n(vi,wt),n("input",wt),await dr(),nt(),be()}},Pe=Nt=>{n("change",Nt.target.value)},Ge=Nt=>{n("compositionstart",Nt),N.value=!0},Ne=Nt=>{var wt;n("compositionupdate",Nt);const De=(wt=Nt.target)==null?void 0:wt.value,We=De[De.length-1]||"";N.value=!jN(We)},je=Nt=>{n("compositionend",Nt),N.value&&(N.value=!1,Ve(Nt))},Ye=()=>{z.value=!z.value,vt()},vt=async()=>{var Nt;await dr(),(Nt=H.value)==null||Nt.focus()},Lt=()=>{var Nt;return(Nt=H.value)==null?void 0:Nt.blur()},Et=Nt=>{R.value=!1,n("mouseleave",Nt)},Vt=Nt=>{R.value=!0,n("mouseenter",Nt)},_t=Nt=>{n("keydown",Nt)},qt=()=>{var Nt;(Nt=H.value)==null||Nt.select()},tn=()=>{n(vi,""),n("change",""),n("clear"),n("input","")};return un(()=>r.modelValue,()=>{var Nt;dr(()=>Re()),r.validateEvent&&((Nt=m==null?void 0:m.validate)==null||Nt.call(m,"change").catch(wt=>void 0))}),un(ce,()=>nt()),un(()=>r.type,async()=>{await dr(),nt(),Re()}),kr(()=>{!r.formatter&&r.parser,nt(),dr(Re)}),gu({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-input",ref:"https://element-plus.org/en-US/component/input.html"},le(()=>!!r.label)),e({input:I,textarea:F,ref:H,textareaStyle:he,autosize:Oa(r,"autosize"),focus:vt,blur:Lt,select:qt,clear:tn,resizeTextarea:Re}),(Nt,wt)=>(X(),ve("div",Xr(S(l),{class:S(c),style:S(ne),role:Nt.containerRole,onMouseenter:Vt,onMouseleave:Et}),[bt(" input "),Nt.type!=="textarea"?(X(),ve(Vn,{key:0},[bt(" prepend slot "),Nt.$slots.prepend?(X(),ve("div",{key:0,class:Se(S(E).be("group","prepend"))},[kt(Nt.$slots,"prepend")],2)):bt("v-if",!0),pe("div",{ref_key:"wrapperRef",ref:K,class:Se(S(a))},[bt(" prefix slot "),Nt.$slots.prefix||Nt.prefixIcon?(X(),ve("span",{key:0,class:Se(S(E).e("prefix"))},[pe("span",{class:Se(S(E).e("prefix-inner"))},[kt(Nt.$slots,"prefix"),Nt.prefixIcon?(X(),Ut(S(Ar),{key:0,class:Se(S(E).e("icon"))},{default:xt(()=>[(X(),Ut(di(Nt.prefixIcon)))]),_:1},8,["class"])):bt("v-if",!0)],2)],2)):bt("v-if",!0),pe("input",Xr({id:S(_),ref_key:"input",ref:I,class:S(E).e("inner")},S(f),{minlength:Nt.minlength,maxlength:Nt.maxlength,type:Nt.showPassword?z.value?"text":"password":Nt.type,disabled:S(T),readonly:Nt.readonly,autocomplete:Nt.autocomplete,tabindex:Nt.tabindex,"aria-label":Nt.label||Nt.ariaLabel,placeholder:Nt.placeholder,style:Nt.inputStyle,form:Nt.form,autofocus:Nt.autofocus,onCompositionstart:Ge,onCompositionupdate:Ne,onCompositionend:je,onInput:Ve,onFocus:wt[0]||(wt[0]=(...De)=>S(q)&&S(q)(...De)),onBlur:wt[1]||(wt[1]=(...De)=>S(W)&&S(W)(...De)),onChange:Pe,onKeydown:_t}),null,16,_De),bt(" suffix slot "),S(Ue)?(X(),ve("span",{key:1,class:Se(S(E).e("suffix"))},[pe("span",{class:Se(S(E).e("suffix-inner"))},[!S(ye)||!S(Ee)||!S(se)?(X(),ve(Vn,{key:0},[kt(Nt.$slots,"suffix"),Nt.suffixIcon?(X(),Ut(S(Ar),{key:0,class:Se(S(E).e("icon"))},{default:xt(()=>[(X(),Ut(di(Nt.suffixIcon)))]),_:1},8,["class"])):bt("v-if",!0)],64)):bt("v-if",!0),S(ye)?(X(),Ut(S(Ar),{key:1,class:Se([S(E).e("icon"),S(E).e("clear")]),onMousedown:Fr(S(Va),["prevent"]),onClick:tn},{default:xt(()=>[ht(S(o0))]),_:1},8,["class","onMousedown"])):bt("v-if",!0),S(Ee)?(X(),Ut(S(Ar),{key:2,class:Se([S(E).e("icon"),S(E).e("password")]),onClick:Ye},{default:xt(()=>[(X(),Ut(di(S(te))))]),_:1},8,["class"])):bt("v-if",!0),S(se)?(X(),ve("span",{key:3,class:Se(S(E).e("count"))},[pe("span",{class:Se(S(E).e("count-inner"))},Cn(S(oe))+" / "+Cn(Nt.maxlength),3)],2)):bt("v-if",!0),S(ue)&&S(J)&&S(ee)?(X(),Ut(S(Ar),{key:4,class:Se([S(E).e("icon"),S(E).e("validateIcon"),S(E).is("loading",S(ue)==="validating")])},{default:xt(()=>[(X(),Ut(di(S(J))))]),_:1},8,["class"])):bt("v-if",!0)],2)],2)):bt("v-if",!0)],2),bt(" append slot "),Nt.$slots.append?(X(),ve("div",{key:1,class:Se(S(E).be("group","append"))},[kt(Nt.$slots,"append")],2)):bt("v-if",!0)],64)):(X(),ve(Vn,{key:1},[bt(" textarea "),pe("textarea",Xr({id:S(_),ref_key:"textarea",ref:F,class:S(P).e("inner")},S(f),{minlength:Nt.minlength,maxlength:Nt.maxlength,tabindex:Nt.tabindex,disabled:S(T),readonly:Nt.readonly,autocomplete:Nt.autocomplete,style:S(he),"aria-label":Nt.label||Nt.ariaLabel,placeholder:Nt.placeholder,form:Nt.form,autofocus:Nt.autofocus,onCompositionstart:Ge,onCompositionupdate:Ne,onCompositionend:je,onInput:Ve,onFocus:wt[2]||(wt[2]=(...De)=>S(q)&&S(q)(...De)),onBlur:wt[3]||(wt[3]=(...De)=>S(W)&&S(W)(...De)),onChange:Pe,onKeydown:_t}),null,16,yDe),S(se)?(X(),ve("span",{key:0,style:or(Q.value),class:Se(S(E).e("count"))},Cn(S(oe))+" / "+Cn(Nt.maxlength),7)):bt("v-if",!0)],64))],16,vDe))}});var xDe=kn(wDe,[["__file","input.vue"]]);const Pc=fi(xDe),mb=4,tie={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},CDe=({move:t,size:e,bar:n})=>({[n.size]:e,transform:`translate${n.axis}(${t}%)`}),p9=Symbol("scrollbarContextKey"),EDe=Ln({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),SDe="Thumb",TDe=Be({__name:"thumb",props:EDe,setup(t){const e=t,n=ar(p9),r=vn("scrollbar");n||kl(SDe,"can not inject scrollbar context");const i=Te(),s=Te(),l=Te({}),c=Te(!1);let a=!1,f=!1,A=ta?document.onselectstart:null;const m=le(()=>tie[e.vertical?"vertical":"horizontal"]),_=le(()=>CDe({size:e.size,move:e.move,bar:m.value})),y=le(()=>i.value[m.value.offset]**2/n.wrapElement[m.value.scrollSize]/e.ratio/s.value[m.value.offset]),T=Q=>{var j;if(Q.stopPropagation(),Q.ctrlKey||[1,2].includes(Q.button))return;(j=window.getSelection())==null||j.removeAllRanges(),P(Q);const H=Q.currentTarget;H&&(l.value[m.value.axis]=H[m.value.offset]-(Q[m.value.client]-H.getBoundingClientRect()[m.value.direction]))},E=Q=>{if(!s.value||!i.value||!n.wrapElement)return;const j=Math.abs(Q.target.getBoundingClientRect()[m.value.direction]-Q[m.value.client]),H=s.value[m.value.offset]/2,K=(j-H)*100*y.value/i.value[m.value.offset];n.wrapElement[m.value.scroll]=K*n.wrapElement[m.value.scrollSize]/100},P=Q=>{Q.stopImmediatePropagation(),a=!0,document.addEventListener("mousemove",I),document.addEventListener("mouseup",F),A=document.onselectstart,document.onselectstart=()=>!1},I=Q=>{if(!i.value||!s.value||a===!1)return;const j=l.value[m.value.axis];if(!j)return;const H=(i.value.getBoundingClientRect()[m.value.direction]-Q[m.value.client])*-1,K=s.value[m.value.offset]-j,ie=(H-K)*100*y.value/i.value[m.value.offset];n.wrapElement[m.value.scroll]=ie*n.wrapElement[m.value.scrollSize]/100},F=()=>{a=!1,l.value[m.value.axis]=0,document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",F),z(),f&&(c.value=!1)},R=()=>{f=!1,c.value=!!e.size},N=()=>{f=!0,c.value=a};ds(()=>{z(),document.removeEventListener("mouseup",F)});const z=()=>{document.onselectstart!==A&&(document.onselectstart=A)};return gs(Oa(n,"scrollbarElement"),"mousemove",R),gs(Oa(n,"scrollbarElement"),"mouseleave",N),(Q,j)=>(X(),Ut(co,{name:S(r).b("fade"),persisted:""},{default:xt(()=>[Jr(pe("div",{ref_key:"instance",ref:i,class:Se([S(r).e("bar"),S(r).is(S(m).key)]),onMousedown:E},[pe("div",{ref_key:"thumb",ref:s,class:Se(S(r).e("thumb")),style:or(S(_)),onMousedown:T},null,38)],34),[[la,Q.always||c.value]])]),_:1},8,["name"]))}});var hK=kn(TDe,[["__file","thumb.vue"]]);const BDe=Ln({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),MDe=Be({__name:"bar",props:BDe,setup(t,{expose:e}){const n=t,r=ar(p9),i=Te(0),s=Te(0),l=Te(""),c=Te(""),a=Te(1),f=Te(1);return e({handleScroll:_=>{if(_){const y=_.offsetHeight-mb,T=_.offsetWidth-mb;s.value=_.scrollTop*100/y*a.value,i.value=_.scrollLeft*100/T*f.value}},update:()=>{const _=r==null?void 0:r.wrapElement;if(!_)return;const y=_.offsetHeight-mb,T=_.offsetWidth-mb,E=y**2/_.scrollHeight,P=T**2/_.scrollWidth,I=Math.max(E,n.minSize),F=Math.max(P,n.minSize);a.value=E/(y-E)/(I/(y-I)),f.value=P/(T-P)/(F/(T-F)),c.value=I+mb<y?`${I}px`:"",l.value=F+mb<T?`${F}px`:""}}),(_,y)=>(X(),ve(Vn,null,[ht(hK,{move:i.value,ratio:f.value,size:l.value,always:_.always},null,8,["move","ratio","size","always"]),ht(hK,{move:s.value,ratio:a.value,size:c.value,vertical:"",always:_.always},null,8,["move","ratio","size","always"])],64))}});var IDe=kn(MDe,[["__file","bar.vue"]]);const LDe=Ln({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:Rt([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},id:String,role:String,...Vu(["ariaLabel","ariaOrientation"])}),PDe={scroll:({scrollTop:t,scrollLeft:e})=>[t,e].every(Or)},FDe="ElScrollbar",kDe=Be({name:FDe}),RDe=Be({...kDe,props:LDe,emits:PDe,setup(t,{expose:e,emit:n}){const r=t,i=vn("scrollbar");let s,l;const c=Te(),a=Te(),f=Te(),A=Te(),m=le(()=>{const R={};return r.height&&(R.height=Co(r.height)),r.maxHeight&&(R.maxHeight=Co(r.maxHeight)),[r.wrapStyle,R]}),_=le(()=>[r.wrapClass,i.e("wrap"),{[i.em("wrap","hidden-default")]:!r.native}]),y=le(()=>[i.e("view"),r.viewClass]),T=()=>{var R;a.value&&((R=A.value)==null||R.handleScroll(a.value),n("scroll",{scrollTop:a.value.scrollTop,scrollLeft:a.value.scrollLeft}))};function E(R,N){Ai(R)?a.value.scrollTo(R):Or(R)&&Or(N)&&a.value.scrollTo(R,N)}const P=R=>{Or(R)&&(a.value.scrollTop=R)},I=R=>{Or(R)&&(a.value.scrollLeft=R)},F=()=>{var R;(R=A.value)==null||R.update()};return un(()=>r.noresize,R=>{R?(s==null||s(),l==null||l()):({stop:s}=eo(f,F),l=gs("resize",F))},{immediate:!0}),un(()=>[r.maxHeight,r.height],()=>{r.native||dr(()=>{var R;F(),a.value&&((R=A.value)==null||R.handleScroll(a.value))})}),Ii(p9,ua({scrollbarElement:c,wrapElement:a})),kr(()=>{r.native||dr(()=>{F()})}),i0(()=>F()),e({wrapRef:a,update:F,scrollTo:E,setScrollTop:P,setScrollLeft:I,handleScroll:T}),(R,N)=>(X(),ve("div",{ref_key:"scrollbarRef",ref:c,class:Se(S(i).b())},[pe("div",{ref_key:"wrapRef",ref:a,class:Se(S(_)),style:or(S(m)),onScroll:T},[(X(),Ut(di(R.tag),{id:R.id,ref_key:"resizeRef",ref:f,class:Se(S(y)),style:or(R.viewStyle),role:R.role,"aria-label":R.ariaLabel,"aria-orientation":R.ariaOrientation},{default:xt(()=>[kt(R.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],38),R.native?bt("v-if",!0):(X(),Ut(IDe,{key:0,ref_key:"barRef",ref:A,always:R.always,"min-size":R.minSize},null,8,["always","min-size"]))],2))}});var ODe=kn(RDe,[["__file","scrollbar.vue"]]);const c0=fi(ODe),A9=Symbol("popper"),nie=Symbol("popperContent"),DDe=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],rie=Ln({role:{type:String,values:DDe,default:"tooltip"}}),NDe=Be({name:"ElPopper",inheritAttrs:!1}),UDe=Be({...NDe,props:rie,setup(t,{expose:e}){const n=t,r=Te(),i=Te(),s=Te(),l=Te(),c=le(()=>n.role),a={triggerRef:r,popperInstanceRef:i,contentRef:s,referenceRef:l,role:c};return e(a),Ii(A9,a),(f,A)=>kt(f.$slots,"default")}});var zDe=kn(UDe,[["__file","popper.vue"]]);const iie=Ln({arrowOffset:{type:Number,default:5}}),$De=Be({name:"ElPopperArrow",inheritAttrs:!1}),VDe=Be({...$De,props:iie,setup(t,{expose:e}){const n=t,r=vn("popper"),{arrowOffset:i,arrowRef:s,arrowStyle:l}=ar(nie,void 0);return un(()=>n.arrowOffset,c=>{i.value=c}),ds(()=>{s.value=void 0}),e({arrowRef:s}),(c,a)=>(X(),ve("span",{ref_key:"arrowRef",ref:s,class:Se(S(r).e("arrow")),style:or(S(l)),"data-popper-arrow":""},null,6))}});var HDe=kn(VDe,[["__file","arrow.vue"]]);const QDe="ElOnlyChild",aie=Be({name:QDe,setup(t,{slots:e,attrs:n}){var r;const i=ar(Rre),s=aRe((r=i==null?void 0:i.setForwardRef)!=null?r:Va);return()=>{var l;const c=(l=e.default)==null?void 0:l.call(e,n);if(!c||c.length>1)return null;const a=sie(c);return a?Jr(Kg(a,n),[[s]]):null}}});function sie(t){if(!t)return null;const e=t;for(const n of e){if(Ai(n))switch(n.type){case Lc:continue;case C2:case"svg":return dK(n);case Vn:return sie(n.children);default:return n}return dK(n)}return null}function dK(t){const e=vn("only-child");return ht("span",{class:e.e("content")},[t])}const oie=Ln({virtualRef:{type:Rt(Object)},virtualTriggering:Boolean,onMouseenter:{type:Rt(Function)},onMouseleave:{type:Rt(Function)},onClick:{type:Rt(Function)},onKeydown:{type:Rt(Function)},onFocus:{type:Rt(Function)},onBlur:{type:Rt(Function)},onContextmenu:{type:Rt(Function)},id:String,open:Boolean}),jDe=Be({name:"ElPopperTrigger",inheritAttrs:!1}),GDe=Be({...jDe,props:oie,setup(t,{expose:e}){const n=t,{role:r,triggerRef:i}=ar(A9,void 0);iRe(i);const s=le(()=>c.value?n.id:void 0),l=le(()=>{if(r&&r.value==="tooltip")return n.open&&n.id?n.id:void 0}),c=le(()=>{if(r&&r.value!=="tooltip")return r.value}),a=le(()=>c.value?`${n.open}`:void 0);let f;return kr(()=>{un(()=>n.virtualRef,A=>{A&&(i.value=kh(A))},{immediate:!0}),un(i,(A,m)=>{f==null||f(),f=void 0,Sf(A)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(_=>{var y;const T=n[_];T&&(A.addEventListener(_.slice(2).toLowerCase(),T),(y=m==null?void 0:m.removeEventListener)==null||y.call(m,_.slice(2).toLowerCase(),T))}),f=un([s,l,c,a],_=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((y,T)=>{_u(_[T])?A.removeAttribute(y):A.setAttribute(y,_[T])})},{immediate:!0})),Sf(m)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(_=>m.removeAttribute(_))},{immediate:!0})}),ds(()=>{f==null||f(),f=void 0}),e({triggerRef:i}),(A,m)=>A.virtualTriggering?bt("v-if",!0):(X(),Ut(S(aie),Xr({key:0},A.$attrs,{"aria-controls":S(s),"aria-describedby":S(l),"aria-expanded":S(a),"aria-haspopup":S(c)}),{default:xt(()=>[kt(A.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var KDe=kn(GDe,[["__file","trigger.vue"]]);const wL="focus-trap.focus-after-trapped",xL="focus-trap.focus-after-released",WDe="focus-trap.focusout-prevented",fK={cancelable:!0,bubbles:!1},qDe={cancelable:!0,bubbles:!1},pK="focusAfterTrapped",AK="focusAfterReleased",m9=Symbol("elFocusTrap"),g9=Te(),uB=Te(0),v9=Te(0);let zE=0;const lie=t=>{const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0||r===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e},mK=(t,e)=>{for(const n of t)if(!YDe(n,e))return n},YDe=(t,e)=>{if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1},XDe=t=>{const e=lie(t),n=mK(e,t),r=mK(e.reverse(),t);return[n,r]},ZDe=t=>t instanceof HTMLInputElement&&"select"in t,ov=(t,e)=>{if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),v9.value=window.performance.now(),t!==n&&ZDe(t)&&e&&t.select()}};function gK(t,e){const n=[...t],r=t.indexOf(e);return r!==-1&&n.splice(r,1),n}const JDe=()=>{let t=[];return{push:r=>{const i=t[0];i&&r!==i&&i.pause(),t=gK(t,r),t.unshift(r)},remove:r=>{var i,s;t=gK(t,r),(s=(i=t[0])==null?void 0:i.resume)==null||s.call(i)}}},eNe=(t,e=!1)=>{const n=document.activeElement;for(const r of t)if(ov(r,e),document.activeElement!==n)return},vK=JDe(),tNe=()=>uB.value>v9.value,$E=()=>{g9.value="pointer",uB.value=window.performance.now()},_K=()=>{g9.value="keyboard",uB.value=window.performance.now()},nNe=()=>(kr(()=>{zE===0&&(document.addEventListener("mousedown",$E),document.addEventListener("touchstart",$E),document.addEventListener("keydown",_K)),zE++}),ds(()=>{zE--,zE<=0&&(document.removeEventListener("mousedown",$E),document.removeEventListener("touchstart",$E),document.removeEventListener("keydown",_K))}),{focusReason:g9,lastUserFocusTimestamp:uB,lastAutomatedFocusTimestamp:v9}),VE=t=>new CustomEvent(WDe,{...qDe,detail:t}),rNe=Be({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[pK,AK,"focusin","focusout","focusout-prevented","release-requested"],setup(t,{emit:e}){const n=Te();let r,i;const{focusReason:s}=nNe();Jke(T=>{t.trapped&&!l.paused&&e("release-requested",T)});const l={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},c=T=>{if(!t.loop&&!t.trapped||l.paused)return;const{key:E,altKey:P,ctrlKey:I,metaKey:F,currentTarget:R,shiftKey:N}=T,{loop:z}=t,Q=E===Tr.tab&&!P&&!I&&!F,j=document.activeElement;if(Q&&j){const H=R,[K,ie]=XDe(H);if(K&&ie){if(!N&&j===ie){const W=VE({focusReason:s.value});e("focusout-prevented",W),W.defaultPrevented||(T.preventDefault(),z&&ov(K,!0))}else if(N&&[K,H].includes(j)){const W=VE({focusReason:s.value});e("focusout-prevented",W),W.defaultPrevented||(T.preventDefault(),z&&ov(ie,!0))}}else if(j===H){const W=VE({focusReason:s.value});e("focusout-prevented",W),W.defaultPrevented||T.preventDefault()}}};Ii(m9,{focusTrapRef:n,onKeydown:c}),un(()=>t.focusTrapEl,T=>{T&&(n.value=T)},{immediate:!0}),un([n],([T],[E])=>{T&&(T.addEventListener("keydown",c),T.addEventListener("focusin",A),T.addEventListener("focusout",m)),E&&(E.removeEventListener("keydown",c),E.removeEventListener("focusin",A),E.removeEventListener("focusout",m))});const a=T=>{e(pK,T)},f=T=>e(AK,T),A=T=>{const E=S(n);if(!E)return;const P=T.target,I=T.relatedTarget,F=P&&E.contains(P);t.trapped||I&&E.contains(I)||(r=I),F&&e("focusin",T),!l.paused&&t.trapped&&(F?i=P:ov(i,!0))},m=T=>{const E=S(n);if(!(l.paused||!E))if(t.trapped){const P=T.relatedTarget;!_u(P)&&!E.contains(P)&&setTimeout(()=>{if(!l.paused&&t.trapped){const I=VE({focusReason:s.value});e("focusout-prevented",I),I.defaultPrevented||ov(i,!0)}},0)}else{const P=T.target;P&&E.contains(P)||e("focusout",T)}};async function _(){await dr();const T=S(n);if(T){vK.push(l);const E=T.contains(document.activeElement)?r:document.activeElement;if(r=E,!T.contains(E)){const I=new Event(wL,fK);T.addEventListener(wL,a),T.dispatchEvent(I),I.defaultPrevented||dr(()=>{let F=t.focusStartEl;Hr(F)||(ov(F),document.activeElement!==F&&(F="first")),F==="first"&&eNe(lie(T),!0),(document.activeElement===E||F==="container")&&ov(T)})}}}function y(){const T=S(n);if(T){T.removeEventListener(wL,a);const E=new CustomEvent(xL,{...fK,detail:{focusReason:s.value}});T.addEventListener(xL,f),T.dispatchEvent(E),!E.defaultPrevented&&(s.value=="keyboard"||!tNe()||T.contains(document.activeElement))&&ov(r??document.body),T.removeEventListener(xL,f),vK.remove(l)}}return kr(()=>{t.trapped&&_(),un(()=>t.trapped,T=>{T?_():y()})}),ds(()=>{t.trapped&&y()}),{onKeydown:c}}});function iNe(t,e,n,r,i,s){return kt(t.$slots,"default",{handleKeydown:t.onKeydown})}var H6=kn(rNe,[["render",iNe],["__file","focus-trap.vue"]]);const aNe=["fixed","absolute"],sNe=Ln({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:Rt(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:yy,default:"bottom"},popperOptions:{type:Rt(Object),default:()=>({})},strategy:{type:String,values:aNe,default:"absolute"}}),uie=Ln({...sNe,id:String,style:{type:Rt([String,Array,Object])},className:{type:Rt([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:Rt([String,Array,Object])},popperStyle:{type:Rt([String,Array,Object])},referenceEl:{type:Rt(Object)},triggerTargetEl:{type:Rt(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...Vu(["ariaLabel"])}),oNe={mouseenter:t=>t instanceof MouseEvent,mouseleave:t=>t instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},lNe=(t,e=[])=>{const{placement:n,strategy:r,popperOptions:i}=t,s={placement:n,strategy:r,...i,modifiers:[...cNe(t),...e]};return hNe(s,i==null?void 0:i.modifiers),s},uNe=t=>{if(ta)return kh(t)};function cNe(t){const{offset:e,gpuAcceleration:n,fallbackPlacements:r}=t;return[{name:"offset",options:{offset:[0,e??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:r}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function hNe(t,e){e&&(t.modifiers=[...t.modifiers,...e??[]])}const dNe=0,fNe=t=>{const{popperInstanceRef:e,contentRef:n,triggerRef:r,role:i}=ar(A9,void 0),s=Te(),l=Te(),c=le(()=>({name:"eventListeners",enabled:!!t.visible})),a=le(()=>{var I;const F=S(s),R=(I=S(l))!=null?I:dNe;return{name:"arrow",enabled:!Hne(F),options:{element:F,padding:R}}}),f=le(()=>({onFirstUpdate:()=>{T()},...lNe(t,[S(a),S(c)])})),A=le(()=>uNe(t.referenceEl)||S(r)),{attributes:m,state:_,styles:y,update:T,forceUpdate:E,instanceRef:P}=qke(A,n,f);return un(P,I=>e.value=I),kr(()=>{un(()=>{var I;return(I=S(A))==null?void 0:I.getBoundingClientRect()},()=>{T()})}),{attributes:m,arrowRef:s,contentRef:n,instanceRef:P,state:_,styles:y,role:i,forceUpdate:E,update:T}},pNe=(t,{attributes:e,styles:n,role:r})=>{const{nextZIndex:i}=L2(),s=vn("popper"),l=le(()=>S(e).popper),c=Te(Or(t.zIndex)?t.zIndex:i()),a=le(()=>[s.b(),s.is("pure",t.pure),s.is(t.effect),t.popperClass]),f=le(()=>[{zIndex:S(c)},S(n).popper,t.popperStyle||{}]),A=le(()=>r.value==="dialog"?"false":void 0),m=le(()=>S(n).arrow||{});return{ariaModal:A,arrowStyle:m,contentAttrs:l,contentClass:a,contentStyle:f,contentZIndex:c,updateZIndex:()=>{c.value=Or(t.zIndex)?t.zIndex:i()}}},ANe=(t,e)=>{const n=Te(!1),r=Te();return{focusStartRef:r,trapped:n,onFocusAfterReleased:f=>{var A;((A=f.detail)==null?void 0:A.focusReason)!=="pointer"&&(r.value="first",e("blur"))},onFocusAfterTrapped:()=>{e("focus")},onFocusInTrap:f=>{t.visible&&!n.value&&(f.target&&(r.value=f.target),n.value=!0)},onFocusoutPrevented:f=>{t.trapping||(f.detail.focusReason==="pointer"&&f.preventDefault(),n.value=!1)},onReleaseRequested:()=>{n.value=!1,e("close")}}},mNe=Be({name:"ElPopperContent"}),gNe=Be({...mNe,props:uie,emits:oNe,setup(t,{expose:e,emit:n}){const r=t,{focusStartRef:i,trapped:s,onFocusAfterReleased:l,onFocusAfterTrapped:c,onFocusInTrap:a,onFocusoutPrevented:f,onReleaseRequested:A}=ANe(r,n),{attributes:m,arrowRef:_,contentRef:y,styles:T,instanceRef:E,role:P,update:I}=fNe(r),{ariaModal:F,arrowStyle:R,contentAttrs:N,contentClass:z,contentStyle:Q,updateZIndex:j}=pNe(r,{styles:T,attributes:m,role:P}),H=ar(vm,void 0),K=Te();Ii(nie,{arrowStyle:R,arrowRef:_,arrowOffset:K}),H&&(H.addInputId||H.removeInputId)&&Ii(vm,{...H,addInputId:Va,removeInputId:Va});let ie;const q=(ee=!0)=>{I(),ee&&j()},W=()=>{q(!1),r.visible&&r.focusOnShow?s.value=!0:r.visible===!1&&(s.value=!1)};return kr(()=>{un(()=>r.triggerTargetEl,(ee,ue)=>{ie==null||ie(),ie=void 0;const J=S(ee||y.value),te=S(ue||y.value);Sf(J)&&(ie=un([P,()=>r.ariaLabel,F,()=>r.id],ne=>{["role","aria-label","aria-modal","id"].forEach((he,ce)=>{_u(ne[ce])?J.removeAttribute(he):J.setAttribute(he,ne[ce])})},{immediate:!0})),te!==J&&Sf(te)&&["role","aria-label","aria-modal","id"].forEach(ne=>{te.removeAttribute(ne)})},{immediate:!0}),un(()=>r.visible,W,{immediate:!0})}),ds(()=>{ie==null||ie(),ie=void 0}),e({popperContentRef:y,popperInstanceRef:E,updatePopper:q,contentStyle:Q}),(ee,ue)=>(X(),ve("div",Xr({ref_key:"contentRef",ref:y},S(N),{style:S(Q),class:S(z),tabindex:"-1",onMouseenter:ue[0]||(ue[0]=J=>ee.$emit("mouseenter",J)),onMouseleave:ue[1]||(ue[1]=J=>ee.$emit("mouseleave",J))}),[ht(S(H6),{trapped:S(s),"trap-on-focus-in":!0,"focus-trap-el":S(y),"focus-start-el":S(i),onFocusAfterTrapped:S(c),onFocusAfterReleased:S(l),onFocusin:S(a),onFocusoutPrevented:S(f),onReleaseRequested:S(A)},{default:xt(()=>[kt(ee.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var vNe=kn(gNe,[["__file","content.vue"]]);const cie=fi(zDe),cB=Symbol("elTooltip"),du=Ln({...nRe,...uie,appendTo:{type:Rt([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,visible:{type:Rt(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...Vu(["ariaLabel"])}),DC=Ln({...oie,disabled:Boolean,trigger:{type:Rt([String,Array]),default:"hover"},triggerKeys:{type:Rt(Array),default:()=>[Tr.enter,Tr.space]}}),{useModelToggleProps:_Ne,useModelToggleEmits:yNe,useModelToggle:bNe}=bre("visible"),wNe=Ln({...rie,..._Ne,...du,...DC,...iie,showArrow:{type:Boolean,default:!0}}),xNe=[...yNe,"before-show","before-hide","show","hide","open","close"],CNe=(t,e)=>Jn(t)?t.includes(e):t===e,gb=(t,e,n)=>r=>{CNe(S(t),e)&&n(r)},ENe=Be({name:"ElTooltipTrigger"}),SNe=Be({...ENe,props:DC,setup(t,{expose:e}){const n=t,r=vn("tooltip"),{controlled:i,id:s,open:l,onOpen:c,onClose:a,onToggle:f}=ar(cB,void 0),A=Te(null),m=()=>{if(S(i)||n.disabled)return!0},_=Oa(n,"trigger"),y=bo(m,gb(_,"hover",c)),T=bo(m,gb(_,"hover",a)),E=bo(m,gb(_,"click",N=>{N.button===0&&f(N)})),P=bo(m,gb(_,"focus",c)),I=bo(m,gb(_,"focus",a)),F=bo(m,gb(_,"contextmenu",N=>{N.preventDefault(),f(N)})),R=bo(m,N=>{const{code:z}=N;n.triggerKeys.includes(z)&&(N.preventDefault(),f(N))});return e({triggerRef:A}),(N,z)=>(X(),Ut(S(KDe),{id:S(s),"virtual-ref":N.virtualRef,open:S(l),"virtual-triggering":N.virtualTriggering,class:Se(S(r).e("trigger")),onBlur:S(I),onClick:S(E),onContextmenu:S(F),onFocus:S(P),onMouseenter:S(y),onMouseleave:S(T),onKeydown:S(R)},{default:xt(()=>[kt(N.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var TNe=kn(SNe,[["__file","trigger.vue"]]);const BNe=Be({name:"ElTooltipContent",inheritAttrs:!1}),MNe=Be({...BNe,props:du,setup(t,{expose:e}){const n=t,{selector:r}=kre(),i=vn("tooltip"),s=Te(null),l=Te(!1),{controlled:c,id:a,open:f,trigger:A,onClose:m,onOpen:_,onShow:y,onHide:T,onBeforeShow:E,onBeforeHide:P}=ar(cB,void 0),I=le(()=>n.transition||`${i.namespace.value}-fade-in-linear`),F=le(()=>n.persistent);ds(()=>{l.value=!0});const R=le(()=>S(F)?!0:S(f)),N=le(()=>n.disabled?!1:S(f)),z=le(()=>n.appendTo||r.value),Q=le(()=>{var ne;return(ne=n.style)!=null?ne:{}}),j=le(()=>!S(f)),H=()=>{T()},K=()=>{if(S(c))return!0},ie=bo(K,()=>{n.enterable&&S(A)==="hover"&&_()}),q=bo(K,()=>{S(A)==="hover"&&m()}),W=()=>{var ne,he;(he=(ne=s.value)==null?void 0:ne.updatePopper)==null||he.call(ne),E==null||E()},ee=()=>{P==null||P()},ue=()=>{y(),te=vN(le(()=>{var ne;return(ne=s.value)==null?void 0:ne.popperContentRef}),()=>{if(S(c))return;S(A)!=="hover"&&m()})},J=()=>{n.virtualTriggering||m()};let te;return un(()=>S(f),ne=>{ne||te==null||te()},{flush:"post"}),un(()=>n.content,()=>{var ne,he;(he=(ne=s.value)==null?void 0:ne.updatePopper)==null||he.call(ne)}),e({contentRef:s}),(ne,he)=>(X(),Ut(Ay,{disabled:!ne.teleported,to:S(z)},[ht(co,{name:S(I),onAfterLeave:H,onBeforeEnter:W,onAfterEnter:ue,onBeforeLeave:ee},{default:xt(()=>[S(R)?Jr((X(),Ut(S(vNe),Xr({key:0,id:S(a),ref_key:"contentRef",ref:s},ne.$attrs,{"aria-label":ne.ariaLabel,"aria-hidden":S(j),"boundaries-padding":ne.boundariesPadding,"fallback-placements":ne.fallbackPlacements,"gpu-acceleration":ne.gpuAcceleration,offset:ne.offset,placement:ne.placement,"popper-options":ne.popperOptions,strategy:ne.strategy,effect:ne.effect,enterable:ne.enterable,pure:ne.pure,"popper-class":ne.popperClass,"popper-style":[ne.popperStyle,S(Q)],"reference-el":ne.referenceEl,"trigger-target-el":ne.triggerTargetEl,visible:S(N),"z-index":ne.zIndex,onMouseenter:S(ie),onMouseleave:S(q),onBlur:J,onClose:S(m)}),{default:xt(()=>[l.value?bt("v-if",!0):kt(ne.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[la,S(N)]]):bt("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var INe=kn(MNe,[["__file","content.vue"]]);const LNe=["innerHTML"],PNe={key:1},FNe=Be({name:"ElTooltip"}),kNe=Be({...FNe,props:wNe,emits:xNe,setup(t,{expose:e,emit:n}){const r=t;tRe();const i=ac(),s=Te(),l=Te(),c=()=>{var I;const F=S(s);F&&((I=F.popperInstanceRef)==null||I.update())},a=Te(!1),f=Te(),{show:A,hide:m,hasUpdateHandler:_}=bNe({indicator:a,toggleReason:f}),{onOpen:y,onClose:T}=rRe({showAfter:Oa(r,"showAfter"),hideAfter:Oa(r,"hideAfter"),autoClose:Oa(r,"autoClose"),open:A,close:m}),E=le(()=>qo(r.visible)&&!_.value);Ii(cB,{controlled:E,id:i,open:x2(a),trigger:Oa(r,"trigger"),onOpen:I=>{y(I)},onClose:I=>{T(I)},onToggle:I=>{S(a)?T(I):y(I)},onShow:()=>{n("show",f.value)},onHide:()=>{n("hide",f.value)},onBeforeShow:()=>{n("before-show",f.value)},onBeforeHide:()=>{n("before-hide",f.value)},updatePopper:c}),un(()=>r.disabled,I=>{I&&a.value&&(a.value=!1)});const P=I=>{var F,R;const N=(R=(F=l.value)==null?void 0:F.contentRef)==null?void 0:R.popperContentRef,z=(I==null?void 0:I.relatedTarget)||document.activeElement;return N&&N.contains(z)};return dee(()=>a.value&&m()),e({popperRef:s,contentRef:l,isFocusInsideContent:P,updatePopper:c,onOpen:y,onClose:T,hide:m}),(I,F)=>(X(),Ut(S(cie),{ref_key:"popperRef",ref:s,role:I.role},{default:xt(()=>[ht(TNe,{disabled:I.disabled,trigger:I.trigger,"trigger-keys":I.triggerKeys,"virtual-ref":I.virtualRef,"virtual-triggering":I.virtualTriggering},{default:xt(()=>[I.$slots.default?kt(I.$slots,"default",{key:0}):bt("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),ht(INe,{ref_key:"contentRef",ref:l,"aria-label":I.ariaLabel,"boundaries-padding":I.boundariesPadding,content:I.content,disabled:I.disabled,effect:I.effect,enterable:I.enterable,"fallback-placements":I.fallbackPlacements,"hide-after":I.hideAfter,"gpu-acceleration":I.gpuAcceleration,offset:I.offset,persistent:I.persistent,"popper-class":I.popperClass,"popper-style":I.popperStyle,placement:I.placement,"popper-options":I.popperOptions,pure:I.pure,"raw-content":I.rawContent,"reference-el":I.referenceEl,"trigger-target-el":I.triggerTargetEl,"show-after":I.showAfter,strategy:I.strategy,teleported:I.teleported,transition:I.transition,"virtual-triggering":I.virtualTriggering,"z-index":I.zIndex,"append-to":I.appendTo},{default:xt(()=>[kt(I.$slots,"content",{},()=>[I.rawContent?(X(),ve("span",{key:0,innerHTML:I.content},null,8,LNe)):(X(),ve("span",PNe,Cn(I.content),1))]),I.showArrow?(X(),Ut(S(HDe),{key:0,"arrow-offset":I.arrowOffset},null,8,["arrow-offset"])):bt("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var RNe=kn(kNe,[["__file","tooltip.vue"]]);const Dc=fi(RNe),ONe=Ln({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:Rt(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:Rt([Function,Array]),default:Va},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},teleported:du.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:String,...Vu(["ariaLabel"])}),DNe={[vi]:t=>Hr(t),[nh]:t=>Hr(t),[_s]:t=>Hr(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,select:t=>Ai(t)},NNe=["aria-expanded","aria-owns"],UNe={key:0},zNe=["id","aria-selected","onClick"],hie="ElAutocomplete",$Ne=Be({name:hie,inheritAttrs:!1}),VNe=Be({...$Ne,props:ONe,emits:DNe,setup(t,{expose:e,emit:n}){const r=t,i=GN(),s=py(),l=oh(),c=vn("autocomplete"),a=Te(),f=Te(),A=Te(),m=Te();let _=!1,y=!1;const T=Te([]),E=Te(-1),P=Te(""),I=Te(!1),F=Te(!1),R=Te(!1),N=ac(),z=le(()=>s.style),Q=le(()=>(T.value.length>0||R.value)&&I.value),j=le(()=>!r.hideLoading&&R.value),H=le(()=>a.value?Array.from(a.value.$el.querySelectorAll("input")):[]),K=()=>{Q.value&&(P.value=`${a.value.$el.offsetWidth}px`)},ie=()=>{E.value=-1},W=$h(async Le=>{if(F.value)return;const be=Re=>{R.value=!1,!F.value&&(Jn(Re)?(T.value=Re,E.value=r.highlightFirstItem?0:-1):kl(hie,"autocomplete suggestions must be an array"))};if(R.value=!0,Jn(r.fetchSuggestions))be(r.fetchSuggestions);else{const Re=await r.fetchSuggestions(Le,be);Jn(Re)&&be(Re)}},r.debounce),ee=Le=>{const be=!!Le;if(n(nh,Le),n(vi,Le),F.value=!1,I.value||(I.value=be),!r.triggerOnFocus&&!Le){F.value=!0,T.value=[];return}W(Le)},ue=Le=>{var be;l.value||(((be=Le.target)==null?void 0:be.tagName)!=="INPUT"||H.value.includes(document.activeElement))&&(I.value=!0)},J=Le=>{n(_s,Le)},te=Le=>{y?y=!1:(I.value=!0,n("focus",Le),r.triggerOnFocus&&!_&&W(String(r.modelValue)))},ne=Le=>{setTimeout(()=>{var be;if((be=A.value)!=null&&be.isFocusInsideContent()){y=!0;return}I.value&&Ee(),n("blur",Le)})},he=()=>{I.value=!1,n(vi,""),n("clear")},ce=async()=>{Q.value&&E.value>=0&&E.value<T.value.length?_e(T.value[E.value]):r.selectWhenUnmatched&&(n("select",{value:r.modelValue}),T.value=[],E.value=-1)},ye=Le=>{Q.value&&(Le.preventDefault(),Le.stopPropagation(),Ee())},Ee=()=>{I.value=!1},se=()=>{var Le;(Le=a.value)==null||Le.focus()},oe=()=>{var Le;(Le=a.value)==null||Le.blur()},_e=async Le=>{n(nh,Le[r.valueKey]),n(vi,Le[r.valueKey]),n("select",Le),T.value=[],E.value=-1},Ue=Le=>{if(!Q.value||R.value)return;if(Le<0){E.value=-1;return}Le>=T.value.length&&(Le=T.value.length-1);const be=f.value.querySelector(`.${c.be("suggestion","wrap")}`),Qe=be.querySelectorAll(`.${c.be("suggestion","list")} li`)[Le],Je=be.scrollTop,{offsetTop:nt,scrollHeight:Ve}=Qe;nt+Ve>Je+be.clientHeight&&(be.scrollTop+=Ve),nt<Je&&(be.scrollTop-=Ve),E.value=Le,a.value.ref.setAttribute("aria-activedescendant",`${N.value}-item-${E.value}`)};return vN(m,()=>{Q.value&&Ee()}),kr(()=>{a.value.ref.setAttribute("role","textbox"),a.value.ref.setAttribute("aria-autocomplete","list"),a.value.ref.setAttribute("aria-controls","id"),a.value.ref.setAttribute("aria-activedescendant",`${N.value}-item-${E.value}`),_=a.value.ref.hasAttribute("readonly")}),e({highlightedIndex:E,activated:I,loading:R,inputRef:a,popperRef:A,suggestions:T,handleSelect:_e,handleKeyEnter:ce,focus:se,blur:oe,close:Ee,highlight:Ue}),(Le,be)=>(X(),Ut(S(Dc),{ref_key:"popperRef",ref:A,visible:S(Q),placement:Le.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[S(c).e("popper"),Le.popperClass],teleported:Le.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${S(c).namespace.value}-zoom-in-top`,persistent:"",role:"listbox",onBeforeShow:K,onHide:ie},{content:xt(()=>[pe("div",{ref_key:"regionRef",ref:f,class:Se([S(c).b("suggestion"),S(c).is("loading",S(j))]),style:or({[Le.fitInputWidth?"width":"minWidth"]:P.value,outline:"none"}),role:"region"},[ht(S(c0),{id:S(N),tag:"ul","wrap-class":S(c).be("suggestion","wrap"),"view-class":S(c).be("suggestion","list"),role:"listbox"},{default:xt(()=>[S(j)?(X(),ve("li",UNe,[kt(Le.$slots,"loading",{},()=>[ht(S(Ar),{class:Se(S(c).is("loading"))},{default:xt(()=>[ht(S(l0))]),_:1},8,["class"])])])):(X(!0),ve(Vn,{key:1},Yr(T.value,(Re,Qe)=>(X(),ve("li",{id:`${S(N)}-item-${Qe}`,key:Qe,class:Se({highlighted:E.value===Qe}),role:"option","aria-selected":E.value===Qe,onClick:Je=>_e(Re)},[kt(Le.$slots,"default",{item:Re},()=>[wi(Cn(Re[Le.valueKey]),1)])],10,zNe))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:xt(()=>[pe("div",{ref_key:"listboxRef",ref:m,class:Se([S(c).b(),Le.$attrs.class]),style:or(S(z)),role:"combobox","aria-haspopup":"listbox","aria-expanded":S(Q),"aria-owns":S(N)},[ht(S(Pc),Xr({ref_key:"inputRef",ref:a},S(i),{clearable:Le.clearable,disabled:S(l),name:Le.name,"model-value":Le.modelValue,"aria-label":Le.ariaLabel,onInput:ee,onChange:J,onFocus:te,onBlur:ne,onClear:he,onKeydown:[be[0]||(be[0]=Qa(Fr(Re=>Ue(E.value-1),["prevent"]),["up"])),be[1]||(be[1]=Qa(Fr(Re=>Ue(E.value+1),["prevent"]),["down"])),Qa(ce,["enter"]),Qa(Ee,["tab"]),Qa(ye,["esc"])],onMousedown:ue}),Ro({_:2},[Le.$slots.prepend?{name:"prepend",fn:xt(()=>[kt(Le.$slots,"prepend")])}:void 0,Le.$slots.append?{name:"append",fn:xt(()=>[kt(Le.$slots,"append")])}:void 0,Le.$slots.prefix?{name:"prefix",fn:xt(()=>[kt(Le.$slots,"prefix")])}:void 0,Le.$slots.suffix?{name:"suffix",fn:xt(()=>[kt(Le.$slots,"suffix")])}:void 0]),1040,["clearable","disabled","name","model-value","aria-label","onKeydown"])],14,NNe)]),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var HNe=kn(VNe,[["__file","autocomplete.vue"]]);const QNe=fi(HNe),jNe=Ln({size:{type:[Number,String],values:Sm,default:"",validator:t=>Or(t)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:Ja},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:Rt(String),default:"cover"}}),GNe={error:t=>t instanceof Event},KNe=["src","alt","srcset"],WNe=Be({name:"ElAvatar"}),qNe=Be({...WNe,props:jNe,emits:GNe,setup(t,{emit:e}){const n=t,r=vn("avatar"),i=Te(!1),s=le(()=>{const{size:f,icon:A,shape:m}=n,_=[r.b()];return Hr(f)&&_.push(r.m(f)),A&&_.push(r.m("icon")),m&&_.push(r.m(m)),_}),l=le(()=>{const{size:f}=n;return Or(f)?r.cssVarBlock({size:Co(f)||""}):void 0}),c=le(()=>({objectFit:n.fit}));un(()=>n.src,()=>i.value=!1);function a(f){i.value=!0,e("error",f)}return(f,A)=>(X(),ve("span",{class:Se(S(s)),style:or(S(l))},[(f.src||f.srcSet)&&!i.value?(X(),ve("img",{key:0,src:f.src,alt:f.alt,srcset:f.srcSet,style:or(S(c)),onError:a},null,44,KNe)):f.icon?(X(),Ut(S(Ar),{key:1},{default:xt(()=>[(X(),Ut(di(f.icon)))]),_:1})):kt(f.$slots,"default",{key:2})],6))}});var YNe=kn(qNe,[["__file","avatar.vue"]]);const XNe=fi(YNe),ZNe={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},JNe={click:t=>t instanceof MouseEvent},e9e=(t,e,n)=>{const r=ms(),i=ms(),s=Te(!1),l=()=>{r.value&&(s.value=r.value.scrollTop>=t.visibilityHeight)},c=f=>{var A;(A=r.value)==null||A.scrollTo({top:0,behavior:"smooth"}),e("click",f)},a=ene(l,300,!0);return gs(i,"scroll",a),kr(()=>{var f;i.value=document,r.value=document.documentElement,t.target&&(r.value=(f=document.querySelector(t.target))!=null?f:void 0,r.value||kl(n,`target does not exist: ${t.target}`),i.value=r.value),l()}),{visible:s,handleClick:c}},die="ElBacktop",t9e=Be({name:die}),n9e=Be({...t9e,props:ZNe,emits:JNe,setup(t,{emit:e}){const n=t,r=vn("backtop"),{handleClick:i,visible:s}=e9e(n,e,die),l=le(()=>({right:`${n.right}px`,bottom:`${n.bottom}px`}));return(c,a)=>(X(),Ut(co,{name:`${S(r).namespace.value}-fade-in`},{default:xt(()=>[S(s)?(X(),ve("div",{key:0,style:or(S(l)),class:Se(S(r).b()),onClick:a[0]||(a[0]=Fr((...f)=>S(i)&&S(i)(...f),["stop"]))},[kt(c.$slots,"default",{},()=>[ht(S(Ar),{class:Se(S(r).e("icon"))},{default:xt(()=>[ht(S(Yne))]),_:1},8,["class"])])],6)):bt("v-if",!0)]),_:3},8,["name"]))}});var r9e=kn(n9e,[["__file","backtop.vue"]]);const i9e=fi(r9e),a9e=Ln({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,dotStyle:{type:Rt([String,Object,Array])},badgeStyle:{type:Rt([String,Object,Array])},offset:{type:Rt(Array),default:[0,0]},dotClass:{type:String},badgeClass:{type:String}}),s9e=["textContent"],o9e=Be({name:"ElBadge"}),l9e=Be({...o9e,props:a9e,setup(t,{expose:e}){const n=t,r=vn("badge"),i=le(()=>n.isDot?"":Or(n.value)&&Or(n.max)?n.max<n.value?`${n.max}+`:n.value===0&&!n.showZero?"":`${n.value}`:`${n.value}`),s=le(()=>{var l,c,a,f,A,m;return[{backgroundColor:n.color,marginRight:Co(-((c=(l=n.offset)==null?void 0:l[0])!=null?c:0)),marginTop:Co((f=(a=n.offset)==null?void 0:a[1])!=null?f:0)},(A=n.dotStyle)!=null?A:{},(m=n.badgeStyle)!=null?m:{}]});return gu({from:"dot-style",replacement:"badge-style",version:"2.8.0",scope:"el-badge",ref:"https://element-plus.org/en-US/component/badge.html"},le(()=>!!n.dotStyle)),gu({from:"dot-class",replacement:"badge-class",version:"2.8.0",scope:"el-badge",ref:"https://element-plus.org/en-US/component/badge.html"},le(()=>!!n.dotClass)),e({content:i}),(l,c)=>(X(),ve("div",{class:Se(S(r).b())},[kt(l.$slots,"default"),ht(co,{name:`${S(r).namespace.value}-zoom-in-center`,persisted:""},{default:xt(()=>[Jr(pe("sup",{class:Se([S(r).e("content"),S(r).em("content",l.type),S(r).is("fixed",!!l.$slots.default),S(r).is("dot",l.isDot),l.dotClass,l.badgeClass]),style:or(S(s)),textContent:Cn(S(i))},null,14,s9e),[[la,!l.hidden&&(S(i)||l.isDot)]])]),_:1},8,["name"])],2))}});var u9e=kn(l9e,[["__file","badge.vue"]]);const fie=fi(u9e),pie=Symbol("breadcrumbKey"),c9e=Ln({separator:{type:String,default:"/"},separatorIcon:{type:Ja}}),h9e=["aria-label"],d9e=Be({name:"ElBreadcrumb"}),f9e=Be({...d9e,props:c9e,setup(t){const e=t,{t:n}=ca(),r=vn("breadcrumb"),i=Te();return Ii(pie,e),kr(()=>{const s=i.value.querySelectorAll(`.${r.e("item")}`);s.length&&s[s.length-1].setAttribute("aria-current","page")}),(s,l)=>(X(),ve("div",{ref_key:"breadcrumb",ref:i,class:Se(S(r).b()),"aria-label":S(n)("el.breadcrumb.label"),role:"navigation"},[kt(s.$slots,"default")],10,h9e))}});var p9e=kn(f9e,[["__file","breadcrumb.vue"]]);const A9e=Ln({to:{type:Rt([String,Object]),default:""},replace:{type:Boolean,default:!1}}),m9e=Be({name:"ElBreadcrumbItem"}),g9e=Be({...m9e,props:A9e,setup(t){const e=t,n=ci(),r=ar(pie,void 0),i=vn("breadcrumb"),s=n.appContext.config.globalProperties.$router,l=Te(),c=()=>{!e.to||!s||(e.replace?s.replace(e.to):s.push(e.to))};return(a,f)=>{var A,m;return X(),ve("span",{class:Se(S(i).e("item"))},[pe("span",{ref_key:"link",ref:l,class:Se([S(i).e("inner"),S(i).is("link",!!a.to)]),role:"link",onClick:c},[kt(a.$slots,"default")],2),(A=S(r))!=null&&A.separatorIcon?(X(),Ut(S(Ar),{key:0,class:Se(S(i).e("separator"))},{default:xt(()=>[(X(),Ut(di(S(r).separatorIcon)))]),_:1},8,["class"])):(X(),ve("span",{key:1,class:Se(S(i).e("separator")),role:"presentation"},Cn((m=S(r))==null?void 0:m.separator),3))],2)}}});var Aie=kn(g9e,[["__file","breadcrumb-item.vue"]]);const v9e=fi(p9e,{BreadcrumbItem:Aie}),_9e=ro(Aie),mie=Symbol("buttonGroupContextKey"),y9e=(t,e)=>{gu({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},le(()=>t.type==="text"));const n=ar(mie,void 0),r=$6("button"),{form:i}=Nc(),s=hl(le(()=>n==null?void 0:n.size)),l=oh(),c=Te(),a=Eo(),f=le(()=>t.type||(n==null?void 0:n.type)||""),A=le(()=>{var T,E,P;return(P=(E=t.autoInsertSpace)!=null?E:(T=r.value)==null?void 0:T.autoInsertSpace)!=null?P:!1}),m=le(()=>t.tag==="button"?{ariaDisabled:l.value||t.loading,disabled:l.value||t.loading,autofocus:t.autofocus,type:t.nativeType}:{}),_=le(()=>{var T;const E=(T=a.default)==null?void 0:T.call(a);if(A.value&&(E==null?void 0:E.length)===1){const P=E[0];if((P==null?void 0:P.type)===C2){const I=P.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(I.trim())}}return!1});return{_disabled:l,_size:s,_type:f,_ref:c,_props:m,shouldAddSpace:_,handleClick:T=>{t.nativeType==="reset"&&(i==null||i.resetFields()),e("click",T)}}},Ik=["default","primary","success","warning","info","danger","text",""],b9e=["button","submit","reset"],Lk=Ln({size:ru,disabled:Boolean,type:{type:String,values:Ik,default:""},icon:{type:Ja},nativeType:{type:String,values:b9e,default:"button"},loading:Boolean,loadingIcon:{type:Ja,default:()=>l0},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:Rt([String,Object]),default:"button"}}),w9e={click:t=>t instanceof MouseEvent};function ic(t,e){x9e(t)&&(t="100%");var n=C9e(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function HE(t){return Math.min(1,Math.max(0,t))}function x9e(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function C9e(t){return typeof t=="string"&&t.indexOf("%")!==-1}function gie(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function QE(t){return t<=1?"".concat(Number(t)*100,"%"):t}function E_(t){return t.length===1?"0"+t:String(t)}function E9e(t,e,n){return{r:ic(t,255)*255,g:ic(e,255)*255,b:ic(n,255)*255}}function yK(t,e,n){t=ic(t,255),e=ic(e,255),n=ic(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s=0,l=0,c=(r+i)/2;if(r===i)l=0,s=0;else{var a=r-i;switch(l=c>.5?a/(2-r-i):a/(r+i),r){case t:s=(e-n)/a+(e<n?6:0);break;case e:s=(n-t)/a+2;break;case n:s=(t-e)/a+4;break}s/=6}return{h:s,s:l,l:c}}function CL(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*(6*n):n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function S9e(t,e,n){var r,i,s;if(t=ic(t,360),e=ic(e,100),n=ic(n,100),e===0)i=n,s=n,r=n;else{var l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;r=CL(c,l,t+1/3),i=CL(c,l,t),s=CL(c,l,t-1/3)}return{r:r*255,g:i*255,b:s*255}}function bK(t,e,n){t=ic(t,255),e=ic(e,255),n=ic(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s=0,l=r,c=r-i,a=r===0?0:c/r;if(r===i)s=0;else{switch(r){case t:s=(e-n)/c+(e<n?6:0);break;case e:s=(n-t)/c+2;break;case n:s=(t-e)/c+4;break}s/=6}return{h:s,s:a,v:l}}function T9e(t,e,n){t=ic(t,360)*6,e=ic(e,100),n=ic(n,100);var r=Math.floor(t),i=t-r,s=n*(1-e),l=n*(1-i*e),c=n*(1-(1-i)*e),a=r%6,f=[n,l,s,s,c,n][a],A=[c,n,n,l,s,s][a],m=[s,s,c,n,n,l][a];return{r:f*255,g:A*255,b:m*255}}function wK(t,e,n,r){var i=[E_(Math.round(t).toString(16)),E_(Math.round(e).toString(16)),E_(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function B9e(t,e,n,r,i){var s=[E_(Math.round(t).toString(16)),E_(Math.round(e).toString(16)),E_(Math.round(n).toString(16)),E_(M9e(r))];return i&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))&&s[3].startsWith(s[3].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function M9e(t){return Math.round(parseFloat(t)*255).toString(16)}function xK(t){return Sd(t)/255}function Sd(t){return parseInt(t,16)}function I9e(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var Pk={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function L9e(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,s=null,l=!1,c=!1;return typeof t=="string"&&(t=k9e(t)),typeof t=="object"&&(bg(t.r)&&bg(t.g)&&bg(t.b)?(e=E9e(t.r,t.g,t.b),l=!0,c=String(t.r).substr(-1)==="%"?"prgb":"rgb"):bg(t.h)&&bg(t.s)&&bg(t.v)?(r=QE(t.s),i=QE(t.v),e=T9e(t.h,r,i),l=!0,c="hsv"):bg(t.h)&&bg(t.s)&&bg(t.l)&&(r=QE(t.s),s=QE(t.l),e=S9e(t.h,r,s),l=!0,c="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=gie(n),{ok:l,format:t.format||c,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}var P9e="[-\\+]?\\d+%?",F9e="[-\\+]?\\d*\\.\\d+%?",Sv="(?:".concat(F9e,")|(?:").concat(P9e,")"),EL="[\\s|\\(]+(".concat(Sv,")[,|\\s]+(").concat(Sv,")[,|\\s]+(").concat(Sv,")\\s*\\)?"),SL="[\\s|\\(]+(".concat(Sv,")[,|\\s]+(").concat(Sv,")[,|\\s]+(").concat(Sv,")[,|\\s]+(").concat(Sv,")\\s*\\)?"),Mp={CSS_UNIT:new RegExp(Sv),rgb:new RegExp("rgb"+EL),rgba:new RegExp("rgba"+SL),hsl:new RegExp("hsl"+EL),hsla:new RegExp("hsla"+SL),hsv:new RegExp("hsv"+EL),hsva:new RegExp("hsva"+SL),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function k9e(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(Pk[t])t=Pk[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=Mp.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=Mp.rgba.exec(t),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Mp.hsl.exec(t),n?{h:n[1],s:n[2],l:n[3]}:(n=Mp.hsla.exec(t),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Mp.hsv.exec(t),n?{h:n[1],s:n[2],v:n[3]}:(n=Mp.hsva.exec(t),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Mp.hex8.exec(t),n?{r:Sd(n[1]),g:Sd(n[2]),b:Sd(n[3]),a:xK(n[4]),format:e?"name":"hex8"}:(n=Mp.hex6.exec(t),n?{r:Sd(n[1]),g:Sd(n[2]),b:Sd(n[3]),format:e?"name":"hex"}:(n=Mp.hex4.exec(t),n?{r:Sd(n[1]+n[1]),g:Sd(n[2]+n[2]),b:Sd(n[3]+n[3]),a:xK(n[4]+n[4]),format:e?"name":"hex8"}:(n=Mp.hex3.exec(t),n?{r:Sd(n[1]+n[1]),g:Sd(n[2]+n[2]),b:Sd(n[3]+n[3]),format:e?"name":"hex"}:!1)))))))))}function bg(t){return!!Mp.CSS_UNIT.exec(String(t))}var vie=function(){function t(e,n){e===void 0&&(e=""),n===void 0&&(n={});var r;if(e instanceof t)return e;typeof e=="number"&&(e=I9e(e)),this.originalInput=e;var i=L9e(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),n,r,i,s=e.r/255,l=e.g/255,c=e.b/255;return s<=.03928?n=s/12.92:n=Math.pow((s+.055)/1.055,2.4),l<=.03928?r=l/12.92:r=Math.pow((l+.055)/1.055,2.4),c<=.03928?i=c/12.92:i=Math.pow((c+.055)/1.055,2.4),.2126*n+.7152*r+.0722*i},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=gie(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},t.prototype.toHsv=function(){var e=bK(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=bK(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=yK(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=yK(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),wK(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),B9e(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(n,", ").concat(r,")"):"rgba(".concat(e,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(n){return"".concat(Math.round(ic(n,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(n){return Math.round(ic(n,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+wK(this.r,this.g,this.b,!1),n=0,r=Object.entries(Pk);n<r.length;n++){var i=r[n],s=i[0],l=i[1];if(e===l)return s}return!1},t.prototype.toString=function(e){var n=!!e;e=e??this.format;var r=!1,i=this.a<1&&this.a>=0,s=!n&&i&&(e.startsWith("hex")||e==="name");return s?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=HE(n.l),new t(n)},t.prototype.brighten=function(e){e===void 0&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),new t(n)},t.prototype.darken=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=HE(n.l),new t(n)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=HE(n.s),new t(n)},t.prototype.saturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=HE(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,new t(n)},t.prototype.mix=function(e,n){n===void 0&&(n=50);var r=this.toRgb(),i=new t(e).toRgb(),s=n/100,l={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return new t(l)},t.prototype.analogous=function(e,n){e===void 0&&(e=6),n===void 0&&(n=30);var r=this.toHsl(),i=360/n,s=[this];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(new t(r));return s},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var n=this.toHsv(),r=n.h,i=n.s,s=n.v,l=[],c=1/e;e--;)l.push(new t({h:r,s:i,v:s})),s=(s+c)%1;return l},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),r=new t(e).toRgb(),i=n.a+r.a*(1-n.a);return new t({r:(n.r*n.a+r.r*r.a*(1-n.a))/i,g:(n.g*n.a+r.g*r.a*(1-n.a))/i,b:(n.b*n.a+r.b*r.a*(1-n.a))/i,a:i})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),r=n.h,i=[this],s=360/e,l=1;l<e;l++)i.push(new t({h:(r+l*s)%360,s:n.s,l:n.l}));return i},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}();function X0(t,e=20){return t.mix("#141414",e).toString()}function R9e(t){const e=oh(),n=vn("button");return le(()=>{let r={};const i=t.color;if(i){const s=new vie(i),l=t.dark?s.tint(20).toString():X0(s,20);if(t.plain)r=n.cssVarBlock({"bg-color":t.dark?X0(s,90):s.tint(90).toString(),"text-color":i,"border-color":t.dark?X0(s,50):s.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":i,"hover-border-color":i,"active-bg-color":l,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":l}),e.value&&(r[n.cssVarBlockName("disabled-bg-color")]=t.dark?X0(s,90):s.tint(90).toString(),r[n.cssVarBlockName("disabled-text-color")]=t.dark?X0(s,50):s.tint(50).toString(),r[n.cssVarBlockName("disabled-border-color")]=t.dark?X0(s,80):s.tint(80).toString());else{const c=t.dark?X0(s,30):s.tint(30).toString(),a=s.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(r=n.cssVarBlock({"bg-color":i,"text-color":a,"border-color":i,"hover-bg-color":c,"hover-text-color":a,"hover-border-color":c,"active-bg-color":l,"active-border-color":l}),e.value){const f=t.dark?X0(s,50):s.tint(50).toString();r[n.cssVarBlockName("disabled-bg-color")]=f,r[n.cssVarBlockName("disabled-text-color")]=t.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,r[n.cssVarBlockName("disabled-border-color")]=f}}}return r})}const O9e=Be({name:"ElButton"}),D9e=Be({...O9e,props:Lk,emits:w9e,setup(t,{expose:e,emit:n}){const r=t,i=R9e(r),s=vn("button"),{_ref:l,_size:c,_type:a,_disabled:f,_props:A,shouldAddSpace:m,handleClick:_}=y9e(r,n),y=le(()=>[s.b(),s.m(a.value),s.m(c.value),s.is("disabled",f.value),s.is("loading",r.loading),s.is("plain",r.plain),s.is("round",r.round),s.is("circle",r.circle),s.is("text",r.text),s.is("link",r.link),s.is("has-bg",r.bg)]);return e({ref:l,size:c,type:a,disabled:f,shouldAddSpace:m}),(T,E)=>(X(),Ut(di(T.tag),Xr({ref_key:"_ref",ref:l},S(A),{class:S(y),style:S(i),onClick:S(_)}),{default:xt(()=>[T.loading?(X(),ve(Vn,{key:0},[T.$slots.loading?kt(T.$slots,"loading",{key:0}):(X(),Ut(S(Ar),{key:1,class:Se(S(s).is("loading"))},{default:xt(()=>[(X(),Ut(di(T.loadingIcon)))]),_:1},8,["class"]))],64)):T.icon||T.$slots.icon?(X(),Ut(S(Ar),{key:1},{default:xt(()=>[T.icon?(X(),Ut(di(T.icon),{key:0})):kt(T.$slots,"icon",{key:1})]),_:3})):bt("v-if",!0),T.$slots.default?(X(),ve("span",{key:2,class:Se({[S(s).em("text","expand")]:S(m)})},[kt(T.$slots,"default")],2)):bt("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var N9e=kn(D9e,[["__file","button.vue"]]);const U9e={size:Lk.size,type:Lk.type},z9e=Be({name:"ElButtonGroup"}),$9e=Be({...z9e,props:U9e,setup(t){const e=t;Ii(mie,ua({size:Oa(e,"size"),type:Oa(e,"type")}));const n=vn("button");return(r,i)=>(X(),ve("div",{class:Se(`${S(n).b("group")}`)},[kt(r.$slots,"default")],2))}});var _ie=kn($9e,[["__file","button-group.vue"]]);const yu=fi(N9e,{ButtonGroup:_ie}),yie=ro(_ie);var bie={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Cm,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",l="second",c="minute",a="hour",f="day",A="week",m="month",_="quarter",y="year",T="date",E="Invalid Date",P=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,I=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,F={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ue){var J=["th","st","nd","rd"],te=ue%100;return"["+ue+(J[(te-20)%10]||J[te]||J[0])+"]"}},R=function(ue,J,te){var ne=String(ue);return!ne||ne.length>=J?ue:""+Array(J+1-ne.length).join(te)+ue},N={s:R,z:function(ue){var J=-ue.utcOffset(),te=Math.abs(J),ne=Math.floor(te/60),he=te%60;return(J<=0?"+":"-")+R(ne,2,"0")+":"+R(he,2,"0")},m:function ue(J,te){if(J.date()<te.date())return-ue(te,J);var ne=12*(te.year()-J.year())+(te.month()-J.month()),he=J.clone().add(ne,m),ce=te-he<0,ye=J.clone().add(ne+(ce?-1:1),m);return+(-(ne+(te-he)/(ce?he-ye:ye-he))||0)},a:function(ue){return ue<0?Math.ceil(ue)||0:Math.floor(ue)},p:function(ue){return{M:m,y,w:A,d:f,D:T,h:a,m:c,s:l,ms:s,Q:_}[ue]||String(ue||"").toLowerCase().replace(/s$/,"")},u:function(ue){return ue===void 0}},z="en",Q={};Q[z]=F;var j="$isDayjsObject",H=function(ue){return ue instanceof W||!(!ue||!ue[j])},K=function ue(J,te,ne){var he;if(!J)return z;if(typeof J=="string"){var ce=J.toLowerCase();Q[ce]&&(he=ce),te&&(Q[ce]=te,he=ce);var ye=J.split("-");if(!he&&ye.length>1)return ue(ye[0])}else{var Ee=J.name;Q[Ee]=J,he=Ee}return!ne&&he&&(z=he),he||!ne&&z},ie=function(ue,J){if(H(ue))return ue.clone();var te=typeof J=="object"?J:{};return te.date=ue,te.args=arguments,new W(te)},q=N;q.l=K,q.i=H,q.w=function(ue,J){return ie(ue,{locale:J.$L,utc:J.$u,x:J.$x,$offset:J.$offset})};var W=function(){function ue(te){this.$L=K(te.locale,null,!0),this.parse(te),this.$x=this.$x||te.x||{},this[j]=!0}var J=ue.prototype;return J.parse=function(te){this.$d=function(ne){var he=ne.date,ce=ne.utc;if(he===null)return new Date(NaN);if(q.u(he))return new Date;if(he instanceof Date)return new Date(he);if(typeof he=="string"&&!/Z$/i.test(he)){var ye=he.match(P);if(ye){var Ee=ye[2]-1||0,se=(ye[7]||"0").substring(0,3);return ce?new Date(Date.UTC(ye[1],Ee,ye[3]||1,ye[4]||0,ye[5]||0,ye[6]||0,se)):new Date(ye[1],Ee,ye[3]||1,ye[4]||0,ye[5]||0,ye[6]||0,se)}}return new Date(he)}(te),this.init()},J.init=function(){var te=this.$d;this.$y=te.getFullYear(),this.$M=te.getMonth(),this.$D=te.getDate(),this.$W=te.getDay(),this.$H=te.getHours(),this.$m=te.getMinutes(),this.$s=te.getSeconds(),this.$ms=te.getMilliseconds()},J.$utils=function(){return q},J.isValid=function(){return this.$d.toString()!==E},J.isSame=function(te,ne){var he=ie(te);return this.startOf(ne)<=he&&he<=this.endOf(ne)},J.isAfter=function(te,ne){return ie(te)<this.startOf(ne)},J.isBefore=function(te,ne){return this.endOf(ne)<ie(te)},J.$g=function(te,ne,he){return q.u(te)?this[ne]:this.set(he,te)},J.unix=function(){return Math.floor(this.valueOf()/1e3)},J.valueOf=function(){return this.$d.getTime()},J.startOf=function(te,ne){var he=this,ce=!!q.u(ne)||ne,ye=q.p(te),Ee=function(Qe,Je){var nt=q.w(he.$u?Date.UTC(he.$y,Je,Qe):new Date(he.$y,Je,Qe),he);return ce?nt:nt.endOf(f)},se=function(Qe,Je){return q.w(he.toDate()[Qe].apply(he.toDate("s"),(ce?[0,0,0,0]:[23,59,59,999]).slice(Je)),he)},oe=this.$W,_e=this.$M,Ue=this.$D,Le="set"+(this.$u?"UTC":"");switch(ye){case y:return ce?Ee(1,0):Ee(31,11);case m:return ce?Ee(1,_e):Ee(0,_e+1);case A:var be=this.$locale().weekStart||0,Re=(oe<be?oe+7:oe)-be;return Ee(ce?Ue-Re:Ue+(6-Re),_e);case f:case T:return se(Le+"Hours",0);case a:return se(Le+"Minutes",1);case c:return se(Le+"Seconds",2);case l:return se(Le+"Milliseconds",3);default:return this.clone()}},J.endOf=function(te){return this.startOf(te,!1)},J.$set=function(te,ne){var he,ce=q.p(te),ye="set"+(this.$u?"UTC":""),Ee=(he={},he[f]=ye+"Date",he[T]=ye+"Date",he[m]=ye+"Month",he[y]=ye+"FullYear",he[a]=ye+"Hours",he[c]=ye+"Minutes",he[l]=ye+"Seconds",he[s]=ye+"Milliseconds",he)[ce],se=ce===f?this.$D+(ne-this.$W):ne;if(ce===m||ce===y){var oe=this.clone().set(T,1);oe.$d[Ee](se),oe.init(),this.$d=oe.set(T,Math.min(this.$D,oe.daysInMonth())).$d}else Ee&&this.$d[Ee](se);return this.init(),this},J.set=function(te,ne){return this.clone().$set(te,ne)},J.get=function(te){return this[q.p(te)]()},J.add=function(te,ne){var he,ce=this;te=Number(te);var ye=q.p(ne),Ee=function(_e){var Ue=ie(ce);return q.w(Ue.date(Ue.date()+Math.round(_e*te)),ce)};if(ye===m)return this.set(m,this.$M+te);if(ye===y)return this.set(y,this.$y+te);if(ye===f)return Ee(1);if(ye===A)return Ee(7);var se=(he={},he[c]=r,he[a]=i,he[l]=n,he)[ye]||1,oe=this.$d.getTime()+te*se;return q.w(oe,this)},J.subtract=function(te,ne){return this.add(-1*te,ne)},J.format=function(te){var ne=this,he=this.$locale();if(!this.isValid())return he.invalidDate||E;var ce=te||"YYYY-MM-DDTHH:mm:ssZ",ye=q.z(this),Ee=this.$H,se=this.$m,oe=this.$M,_e=he.weekdays,Ue=he.months,Le=he.meridiem,be=function(Je,nt,Ve,Pe){return Je&&(Je[nt]||Je(ne,ce))||Ve[nt].slice(0,Pe)},Re=function(Je){return q.s(Ee%12||12,Je,"0")},Qe=Le||function(Je,nt,Ve){var Pe=Je<12?"AM":"PM";return Ve?Pe.toLowerCase():Pe};return ce.replace(I,function(Je,nt){return nt||function(Ve){switch(Ve){case"YY":return String(ne.$y).slice(-2);case"YYYY":return q.s(ne.$y,4,"0");case"M":return oe+1;case"MM":return q.s(oe+1,2,"0");case"MMM":return be(he.monthsShort,oe,Ue,3);case"MMMM":return be(Ue,oe);case"D":return ne.$D;case"DD":return q.s(ne.$D,2,"0");case"d":return String(ne.$W);case"dd":return be(he.weekdaysMin,ne.$W,_e,2);case"ddd":return be(he.weekdaysShort,ne.$W,_e,3);case"dddd":return _e[ne.$W];case"H":return String(Ee);case"HH":return q.s(Ee,2,"0");case"h":return Re(1);case"hh":return Re(2);case"a":return Qe(Ee,se,!0);case"A":return Qe(Ee,se,!1);case"m":return String(se);case"mm":return q.s(se,2,"0");case"s":return String(ne.$s);case"ss":return q.s(ne.$s,2,"0");case"SSS":return q.s(ne.$ms,3,"0");case"Z":return ye}return null}(Je)||ye.replace(":","")})},J.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},J.diff=function(te,ne,he){var ce,ye=this,Ee=q.p(ne),se=ie(te),oe=(se.utcOffset()-this.utcOffset())*r,_e=this-se,Ue=function(){return q.m(ye,se)};switch(Ee){case y:ce=Ue()/12;break;case m:ce=Ue();break;case _:ce=Ue()/3;break;case A:ce=(_e-oe)/6048e5;break;case f:ce=(_e-oe)/864e5;break;case a:ce=_e/i;break;case c:ce=_e/r;break;case l:ce=_e/n;break;default:ce=_e}return he?ce:q.a(ce)},J.daysInMonth=function(){return this.endOf(m).$D},J.$locale=function(){return Q[this.$L]},J.locale=function(te,ne){if(!te)return this.$L;var he=this.clone(),ce=K(te,ne,!0);return ce&&(he.$L=ce),he},J.clone=function(){return q.w(this.$d,this)},J.toDate=function(){return new Date(this.valueOf())},J.toJSON=function(){return this.isValid()?this.toISOString():null},J.toISOString=function(){return this.$d.toISOString()},J.toString=function(){return this.$d.toUTCString()},ue}(),ee=W.prototype;return ie.prototype=ee,[["$ms",s],["$s",l],["$m",c],["$H",a],["$W",f],["$M",m],["$y",y],["$D",T]].forEach(function(ue){ee[ue[1]]=function(J){return this.$g(J,ue[0],ue[1])}}),ie.extend=function(ue,J){return ue.$i||(ue(J,W,ie),ue.$i=!0),ie},ie.locale=K,ie.isDayjs=H,ie.unix=function(ue){return ie(1e3*ue)},ie.en=Q[z],ie.Ls=Q,ie.p={},ie})})(bie);var V9e=bie.exports;const pi=Jp(V9e);var wie={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Cm,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d\d/,s=/\d\d?/,l=/\d*[^-_:/,()\s\d]+/,c={},a=function(E){return(E=+E)+(E>68?1900:2e3)},f=function(E){return function(P){this[E]=+P}},A=[/[+-]\d\d:?(\d\d)?|Z/,function(E){(this.zone||(this.zone={})).offset=function(P){if(!P||P==="Z")return 0;var I=P.match(/([+-]|\d\d)/g),F=60*I[1]+(+I[2]||0);return F===0?0:I[0]==="+"?-F:F}(E)}],m=function(E){var P=c[E];return P&&(P.indexOf?P:P.s.concat(P.f))},_=function(E,P){var I,F=c.meridiem;if(F){for(var R=1;R<=24;R+=1)if(E.indexOf(F(R,0,P))>-1){I=R>12;break}}else I=E===(P?"pm":"PM");return I},y={A:[l,function(E){this.afternoon=_(E,!1)}],a:[l,function(E){this.afternoon=_(E,!0)}],S:[/\d/,function(E){this.milliseconds=100*+E}],SS:[i,function(E){this.milliseconds=10*+E}],SSS:[/\d{3}/,function(E){this.milliseconds=+E}],s:[s,f("seconds")],ss:[s,f("seconds")],m:[s,f("minutes")],mm:[s,f("minutes")],H:[s,f("hours")],h:[s,f("hours")],HH:[s,f("hours")],hh:[s,f("hours")],D:[s,f("day")],DD:[i,f("day")],Do:[l,function(E){var P=c.ordinal,I=E.match(/\d+/);if(this.day=I[0],P)for(var F=1;F<=31;F+=1)P(F).replace(/\[|\]/g,"")===E&&(this.day=F)}],M:[s,f("month")],MM:[i,f("month")],MMM:[l,function(E){var P=m("months"),I=(m("monthsShort")||P.map(function(F){return F.slice(0,3)})).indexOf(E)+1;if(I<1)throw new Error;this.month=I%12||I}],MMMM:[l,function(E){var P=m("months").indexOf(E)+1;if(P<1)throw new Error;this.month=P%12||P}],Y:[/[+-]?\d+/,f("year")],YY:[i,function(E){this.year=a(E)}],YYYY:[/\d{4}/,f("year")],Z:A,ZZ:A};function T(E){var P,I;P=E,I=c&&c.formats;for(var F=(E=P.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(K,ie,q){var W=q&&q.toUpperCase();return ie||I[q]||n[q]||I[W].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(ee,ue,J){return ue||J.slice(1)})})).match(r),R=F.length,N=0;N<R;N+=1){var z=F[N],Q=y[z],j=Q&&Q[0],H=Q&&Q[1];F[N]=H?{regex:j,parser:H}:z.replace(/^\[|\]$/g,"")}return function(K){for(var ie={},q=0,W=0;q<R;q+=1){var ee=F[q];if(typeof ee=="string")W+=ee.length;else{var ue=ee.regex,J=ee.parser,te=K.slice(W),ne=ue.exec(te)[0];J.call(ie,ne),K=K.replace(ne,"")}}return function(he){var ce=he.afternoon;if(ce!==void 0){var ye=he.hours;ce?ye<12&&(he.hours+=12):ye===12&&(he.hours=0),delete he.afternoon}}(ie),ie}}return function(E,P,I){I.p.customParseFormat=!0,E&&E.parseTwoDigitYear&&(a=E.parseTwoDigitYear);var F=P.prototype,R=F.parse;F.parse=function(N){var z=N.date,Q=N.utc,j=N.args;this.$u=Q;var H=j[1];if(typeof H=="string"){var K=j[2]===!0,ie=j[3]===!0,q=K||ie,W=j[2];ie&&(W=j[2]),c=this.$locale(),!K&&W&&(c=I.Ls[W]),this.$d=function(te,ne,he){try{if(["x","X"].indexOf(ne)>-1)return new Date((ne==="X"?1e3:1)*te);var ce=T(ne)(te),ye=ce.year,Ee=ce.month,se=ce.day,oe=ce.hours,_e=ce.minutes,Ue=ce.seconds,Le=ce.milliseconds,be=ce.zone,Re=new Date,Qe=se||(ye||Ee?1:Re.getDate()),Je=ye||Re.getFullYear(),nt=0;ye&&!Ee||(nt=Ee>0?Ee-1:Re.getMonth());var Ve=oe||0,Pe=_e||0,Ge=Ue||0,Ne=Le||0;return be?new Date(Date.UTC(Je,nt,Qe,Ve,Pe,Ge,Ne+60*be.offset*1e3)):he?new Date(Date.UTC(Je,nt,Qe,Ve,Pe,Ge,Ne)):new Date(Je,nt,Qe,Ve,Pe,Ge,Ne)}catch{return new Date("")}}(z,H,Q),this.init(),W&&W!==!0&&(this.$L=this.locale(W).$L),q&&z!=this.format(H)&&(this.$d=new Date("")),c={}}else if(H instanceof Array)for(var ee=H.length,ue=1;ue<=ee;ue+=1){j[1]=H[ue-1];var J=I.apply(this,j);if(J.isValid()){this.$d=J.$d,this.$L=J.$L,this.init();break}ue===ee&&(this.$d=new Date(""))}else R.call(this,N)}}})})(wie);var H9e=wie.exports;const _9=Jp(H9e),CK=["hours","minutes","seconds"],Fk="HH:mm:ss",Hb="YYYY-MM-DD",Q9e={date:Hb,dates:Hb,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",datetime:`${Hb} ${Fk}`,monthrange:"YYYY-MM",daterange:Hb,datetimerange:`${Hb} ${Fk}`},TL=(t,e)=>[t>0?t-1:void 0,t,t<e?t+1:void 0],Vv=t=>Array.from(Array.from({length:t}).keys()),xie=t=>t.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),Cie=t=>t.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),EK=function(t,e){const n=Z_(t),r=Z_(e);return n&&r?t.getTime()===e.getTime():!n&&!r?t===e:!1},SK=function(t,e){const n=Jn(t),r=Jn(e);return n&&r?t.length!==e.length?!1:t.every((i,s)=>EK(i,e[s])):!n&&!r?EK(t,e):!1},TK=function(t,e,n){const r=ff(e)||e==="x"?pi(t).locale(n):pi(t,e).locale(n);return r.isValid()?r:void 0},BK=function(t,e,n){return ff(e)?t:e==="x"?+t:pi(t).locale(n).format(e)},BL=(t,e)=>{var n;const r=[],i=e==null?void 0:e();for(let s=0;s<t;s++)r.push((n=i==null?void 0:i.includes(s))!=null?n:!1);return r},Eie=Ln({disabledHours:{type:Rt(Function)},disabledMinutes:{type:Rt(Function)},disabledSeconds:{type:Rt(Function)}}),Sie=Ln({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),y9=Ln({id:{type:Rt([Array,String])},name:{type:Rt([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:Rt([String,Object]),default:o0},editable:{type:Boolean,default:!0},prefixIcon:{type:Rt([String,Object]),default:""},size:ru,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:""},popperOptions:{type:Rt(Object),default:()=>({})},modelValue:{type:Rt([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:Rt([Date,Array])},defaultTime:{type:Rt([Date,Array])},isRange:Boolean,...Eie,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,label:{type:String,default:void 0},tabindex:{type:Rt([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,...F2,...Vu(["ariaLabel"])}),j9e=["id","name","placeholder","value","disabled","readonly"],G9e=["id","name","placeholder","value","disabled","readonly"],K9e=Be({name:"Picker"}),W9e=Be({...K9e,props:y9,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(t,{expose:e,emit:n}){const r=t,i=py(),{lang:s}=ca(),l=vn("date"),c=vn("input"),a=vn("range"),{form:f,formItem:A}=Nc(),m=ar("ElPopperOptions",{}),{valueOnClear:_}=oB(r,null),y=Te(),T=Te(),E=Te(!1),P=Te(!1),I=Te(null);let F=!1,R=!1;const N=le(()=>[l.b("editor"),l.bm("editor",r.type),c.e("wrapper"),l.is("disabled",oe.value),l.is("active",E.value),a.b("editor"),Lt?a.bm("editor",Lt.value):"",i.class]),z=le(()=>[c.e("icon"),a.e("close-icon"),nt.value?"":a.e("close-icon--hidden")]);un(E,et=>{et?dr(()=>{et&&(I.value=r.modelValue)}):(_t.value=null,dr(()=>{Q(r.modelValue)}))});const Q=(et,St)=>{(St||!SK(et,I.value))&&(n("change",et),r.validateEvent&&(A==null||A.validate("change").catch(sn=>void 0)))},j=et=>{if(!SK(r.modelValue,et)){let St;Jn(et)?St=et.map(sn=>BK(sn,r.valueFormat,s.value)):et&&(St=BK(et,r.valueFormat,s.value)),n("update:modelValue",et&&St,s.value)}},H=et=>{n("keydown",et)},K=le(()=>{if(T.value){const et=vt.value?T.value:T.value.$el;return Array.from(et.querySelectorAll("input"))}return[]}),ie=(et,St,sn)=>{const bn=K.value;bn.length&&(!sn||sn==="min"?(bn[0].setSelectionRange(et,St),bn[0].focus()):sn==="max"&&(bn[1].setSelectionRange(et,St),bn[1].focus()))},q=()=>{ce(!0,!0),dr(()=>{R=!1})},W=(et="",St=!1)=>{St||(R=!0),E.value=St;let sn;Jn(et)?sn=et.map(bn=>bn.toDate()):sn=et&&et.toDate(),_t.value=null,j(sn)},ee=()=>{P.value=!0},ue=()=>{n("visible-change",!0)},J=et=>{(et==null?void 0:et.key)===Tr.esc&&ce(!0,!0)},te=()=>{P.value=!1,E.value=!1,R=!1,n("visible-change",!1)},ne=()=>{E.value=!0},he=()=>{E.value=!1},ce=(et=!0,St=!1)=>{R=St;const[sn,bn]=S(K);let gr=sn;!et&&vt.value&&(gr=bn),gr&&gr.focus()},ye=et=>{r.readonly||oe.value||E.value||R||(E.value=!0,n("focus",et))};let Ee;const se=et=>{const St=async()=>{setTimeout(()=>{var sn;Ee===St&&(!((sn=y.value)!=null&&sn.isFocusInsideContent()&&!F)&&K.value.filter(bn=>bn.contains(document.activeElement)).length===0&&(qt(),E.value=!1,n("blur",et),r.validateEvent&&(A==null||A.validate("blur").catch(bn=>void 0))),F=!1)},0)};Ee=St,St()},oe=le(()=>r.disabled||(f==null?void 0:f.disabled)),_e=le(()=>{let et;if(Pe.value?Bt.value.getDefaultValue&&(et=Bt.value.getDefaultValue()):Jn(r.modelValue)?et=r.modelValue.map(St=>TK(St,r.valueFormat,s.value)):et=TK(r.modelValue,r.valueFormat,s.value),Bt.value.getRangeAvailableTime){const St=Bt.value.getRangeAvailableTime(et);kc(St,et)||(et=St,j(Jn(et)?et.map(sn=>sn.toDate()):et.toDate()))}return Jn(et)&&et.some(St=>!St)&&(et=[]),et}),Ue=le(()=>{if(!Bt.value.panelReady)return"";const et=Nt(_e.value);return Jn(_t.value)?[_t.value[0]||et&&et[0]||"",_t.value[1]||et&&et[1]||""]:_t.value!==null?_t.value:!be.value&&Pe.value||!E.value&&Pe.value?"":et?Re.value||Qe.value?et.join(", "):et:""}),Le=le(()=>r.type.includes("time")),be=le(()=>r.type.startsWith("time")),Re=le(()=>r.type==="dates"),Qe=le(()=>r.type==="years"),Je=le(()=>r.prefixIcon||(Le.value?NN:qne)),nt=Te(!1),Ve=et=>{r.readonly||oe.value||nt.value&&(et.stopPropagation(),q(),j(_.value),Q(_.value,!0),nt.value=!1,E.value=!1,Bt.value.handleClear&&Bt.value.handleClear())},Pe=le(()=>{const{modelValue:et}=r;return!et||Jn(et)&&!et.filter(Boolean).length}),Ge=async et=>{var St;r.readonly||oe.value||(((St=et.target)==null?void 0:St.tagName)!=="INPUT"||K.value.includes(document.activeElement))&&(E.value=!0)},Ne=()=>{r.readonly||oe.value||!Pe.value&&r.clearable&&(nt.value=!0)},je=()=>{nt.value=!1},Ye=et=>{var St;r.readonly||oe.value||(((St=et.touches[0].target)==null?void 0:St.tagName)!=="INPUT"||K.value.includes(document.activeElement))&&(E.value=!0)},vt=le(()=>r.type.includes("range")),Lt=hl(),Et=le(()=>{var et,St;return(St=(et=S(y))==null?void 0:et.popperRef)==null?void 0:St.contentRef}),Vt=le(()=>{var et;return S(vt)?S(T):(et=S(T))==null?void 0:et.$el});vN(Vt,et=>{const St=S(Et),sn=S(Vt);St&&(et.target===St||et.composedPath().includes(St))||et.target===sn||et.composedPath().includes(sn)||(E.value=!1)});const _t=Te(null),qt=()=>{if(_t.value){const et=tn(Ue.value);et&&wt(et)&&(j(Jn(et)?et.map(St=>St.toDate()):et.toDate()),_t.value=null)}_t.value===""&&(j(_.value),Q(_.value),_t.value=null)},tn=et=>et?Bt.value.parseUserInput(et):null,Nt=et=>et?Bt.value.formatToString(et):null,wt=et=>Bt.value.isValidValue(et),De=async et=>{if(r.readonly||oe.value)return;const{code:St}=et;if(H(et),St===Tr.esc){E.value===!0&&(E.value=!1,et.preventDefault(),et.stopPropagation());return}if(St===Tr.down&&(Bt.value.handleFocusPicker&&(et.preventDefault(),et.stopPropagation()),E.value===!1&&(E.value=!0,await dr()),Bt.value.handleFocusPicker)){Bt.value.handleFocusPicker();return}if(St===Tr.tab){F=!0;return}if(St===Tr.enter||St===Tr.numpadEnter){(_t.value===null||_t.value===""||wt(tn(Ue.value)))&&(qt(),E.value=!1),et.stopPropagation();return}if(_t.value){et.stopPropagation();return}Bt.value.handleKeydownInput&&Bt.value.handleKeydownInput(et)},We=et=>{_t.value=et,E.value||(E.value=!0)},ut=et=>{const St=et.target;_t.value?_t.value=[St.value,_t.value[1]]:_t.value=[St.value,null]},It=et=>{const St=et.target;_t.value?_t.value=[_t.value[0],St.value]:_t.value=[null,St.value]},Xe=()=>{var et;const St=_t.value,sn=tn(St&&St[0]),bn=S(_e);if(sn&&sn.isValid()){_t.value=[Nt(sn),((et=Ue.value)==null?void 0:et[1])||null];const gr=[sn,bn&&(bn[1]||null)];wt(gr)&&(j(gr),_t.value=null)}},Pt=()=>{var et;const St=S(_t),sn=tn(St&&St[1]),bn=S(_e);if(sn&&sn.isValid()){_t.value=[((et=S(Ue))==null?void 0:et[0])||null,Nt(sn)];const gr=[bn&&bn[0],sn];wt(gr)&&(j(gr),_t.value=null)}},Bt=Te({}),it=et=>{Bt.value[et[0]]=et[1],Bt.value.panelReady=!0},Mt=et=>{n("calendar-change",et)},at=(et,St,sn)=>{n("panel-change",et,St,sn)};return Ii("EP_PICKER_BASE",{props:r}),gu({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-time-picker",ref:"https://element-plus.org/en-US/component/time-picker.html"},le(()=>!!r.label)),e({focus:ce,handleFocusInput:ye,handleBlurInput:se,handleOpen:ne,handleClose:he,onPick:W}),(et,St)=>(X(),Ut(S(Dc),Xr({ref_key:"refPopper",ref:y,visible:E.value,effect:"light",pure:"",trigger:"click"},et.$attrs,{role:"dialog",teleported:"",transition:`${S(l).namespace.value}-zoom-in-top`,"popper-class":[`${S(l).namespace.value}-picker__popper`,et.popperClass],"popper-options":S(m),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:ee,onShow:ue,onHide:te}),{default:xt(()=>[S(vt)?(X(),ve("div",{key:1,ref_key:"inputRef",ref:T,class:Se(S(N)),style:or(et.$attrs.style),onClick:ye,onMouseenter:Ne,onMouseleave:je,onTouchstart:Ye,onKeydown:De},[S(Je)?(X(),Ut(S(Ar),{key:0,class:Se([S(c).e("icon"),S(a).e("icon")]),onMousedown:Fr(Ge,["prevent"]),onTouchstart:Ye},{default:xt(()=>[(X(),Ut(di(S(Je))))]),_:1},8,["class","onMousedown"])):bt("v-if",!0),pe("input",{id:et.id&&et.id[0],autocomplete:"off",name:et.name&&et.name[0],placeholder:et.startPlaceholder,value:S(Ue)&&S(Ue)[0],disabled:S(oe),readonly:!et.editable||et.readonly,class:Se(S(a).b("input")),onMousedown:Ge,onInput:ut,onChange:Xe,onFocus:ye,onBlur:se},null,42,j9e),kt(et.$slots,"range-separator",{},()=>[pe("span",{class:Se(S(a).b("separator"))},Cn(et.rangeSeparator),3)]),pe("input",{id:et.id&&et.id[1],autocomplete:"off",name:et.name&&et.name[1],placeholder:et.endPlaceholder,value:S(Ue)&&S(Ue)[1],disabled:S(oe),readonly:!et.editable||et.readonly,class:Se(S(a).b("input")),onMousedown:Ge,onFocus:ye,onBlur:se,onInput:It,onChange:Pt},null,42,G9e),et.clearIcon?(X(),Ut(S(Ar),{key:1,class:Se(S(z)),onClick:Ve},{default:xt(()=>[(X(),Ut(di(et.clearIcon)))]),_:1},8,["class"])):bt("v-if",!0)],38)):(X(),Ut(S(Pc),{key:0,id:et.id,ref_key:"inputRef",ref:T,"container-role":"combobox","model-value":S(Ue),name:et.name,size:S(Lt),disabled:S(oe),placeholder:et.placeholder,class:Se([S(l).b("editor"),S(l).bm("editor",et.type),et.$attrs.class]),style:or(et.$attrs.style),readonly:!et.editable||et.readonly||S(Re)||S(Qe)||et.type==="week","aria-label":et.label||et.ariaLabel,tabindex:et.tabindex,"validate-event":!1,onInput:We,onFocus:ye,onBlur:se,onKeydown:De,onChange:qt,onMousedown:Ge,onMouseenter:Ne,onMouseleave:je,onTouchstart:Ye,onClick:St[0]||(St[0]=Fr(()=>{},["stop"]))},{prefix:xt(()=>[S(Je)?(X(),Ut(S(Ar),{key:0,class:Se(S(c).e("icon")),onMousedown:Fr(Ge,["prevent"]),onTouchstart:Ye},{default:xt(()=>[(X(),Ut(di(S(Je))))]),_:1},8,["class","onMousedown"])):bt("v-if",!0)]),suffix:xt(()=>[nt.value&&et.clearIcon?(X(),Ut(S(Ar),{key:0,class:Se(`${S(c).e("icon")} clear-icon`),onClick:Fr(Ve,["stop"])},{default:xt(()=>[(X(),Ut(di(et.clearIcon)))]),_:1},8,["class","onClick"])):bt("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","aria-label","tabindex","onKeydown"]))]),content:xt(()=>[kt(et.$slots,"default",{visible:E.value,actualVisible:P.value,parsedValue:S(_e),format:et.format,dateFormat:et.dateFormat,timeFormat:et.timeFormat,unlinkPanels:et.unlinkPanels,type:et.type,defaultValue:et.defaultValue,onPick:W,onSelectRange:ie,onSetPickerOption:it,onCalendarChange:Mt,onPanelChange:at,onKeydown:J,onMousedown:St[1]||(St[1]=Fr(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var Tie=kn(W9e,[["__file","picker.vue"]]);const q9e=Ln({...Sie,datetimeRole:String,parsedValue:{type:Rt(Object)}}),Bie=({getAvailableHours:t,getAvailableMinutes:e,getAvailableSeconds:n})=>{const r=(l,c,a,f)=>{const A={hour:t,minute:e,second:n};let m=l;return["hour","minute","second"].forEach(_=>{if(A[_]){let y;const T=A[_];switch(_){case"minute":{y=T(m.hour(),c,f);break}case"second":{y=T(m.hour(),m.minute(),c,f);break}default:{y=T(c,f);break}}if(y!=null&&y.length&&!y.includes(m[_]())){const E=a?0:y.length-1;m=m[_](y[E])}}}),m},i={};return{timePickerOptions:i,getAvailableTime:r,onSetOption:([l,c])=>{i[l]=c}}},ML=t=>{const e=(r,i)=>r||i,n=r=>r!==!0;return t.map(e).filter(n)},Mie=(t,e,n)=>({getHoursList:(l,c)=>BL(24,t&&(()=>t==null?void 0:t(l,c))),getMinutesList:(l,c,a)=>BL(60,e&&(()=>e==null?void 0:e(l,c,a))),getSecondsList:(l,c,a,f)=>BL(60,n&&(()=>n==null?void 0:n(l,c,a,f)))}),Iie=(t,e,n)=>{const{getHoursList:r,getMinutesList:i,getSecondsList:s}=Mie(t,e,n);return{getAvailableHours:(f,A)=>ML(r(f,A)),getAvailableMinutes:(f,A,m)=>ML(i(f,A,m)),getAvailableSeconds:(f,A,m,_)=>ML(s(f,A,m,_))}},Lie=t=>{const e=Te(t.parsedValue);return un(()=>t.visible,n=>{n||(e.value=t.parsedValue)}),e},lv=new Map;let MK;ta&&(document.addEventListener("mousedown",t=>MK=t),document.addEventListener("mouseup",t=>{for(const e of lv.values())for(const{documentHandler:n}of e)n(t,MK)}));function IK(t,e){let n=[];return Array.isArray(e.arg)?n=e.arg:Sf(e.arg)&&n.push(e.arg),function(r,i){const s=e.instance.popperRef,l=r.target,c=i==null?void 0:i.target,a=!e||!e.instance,f=!l||!c,A=t.contains(l)||t.contains(c),m=t===l,_=n.length&&n.some(T=>T==null?void 0:T.contains(l))||n.length&&n.includes(c),y=s&&(s.contains(l)||s.contains(c));a||f||A||m||_||y||e.value(r,i)}}const Xg={beforeMount(t,e){lv.has(t)||lv.set(t,[]),lv.get(t).push({documentHandler:IK(t,e),bindingFn:e.value})},updated(t,e){lv.has(t)||lv.set(t,[]);const n=lv.get(t),r=n.findIndex(s=>s.bindingFn===e.oldValue),i={documentHandler:IK(t,e),bindingFn:e.value};r>=0?n.splice(r,1,i):n.push(i)},unmounted(t){lv.delete(t)}},Y9e=100,X9e=600,xT={beforeMount(t,e){const n=e.value,{interval:r=Y9e,delay:i=X9e}=Dr(n)?{}:n;let s,l;const c=()=>Dr(n)?n():n.handler(),a=()=>{l&&(clearTimeout(l),l=void 0),s&&(clearInterval(s),s=void 0)};t.addEventListener("mousedown",f=>{f.button===0&&(a(),c(),document.addEventListener("mouseup",()=>a(),{once:!0}),l=setTimeout(()=>{s=setInterval(()=>{c()},r)},i))})}},kk="_trap-focus-children",S_=[],LK=t=>{if(S_.length===0)return;const e=S_[S_.length-1][kk];if(e.length>0&&t.code===Tr.tab){if(e.length===1){t.preventDefault(),document.activeElement!==e[0]&&e[0].focus();return}const n=t.shiftKey,r=t.target===e[0],i=t.target===e[e.length-1];r&&n&&(t.preventDefault(),e[e.length-1].focus()),i&&!n&&(t.preventDefault(),e[0].focus())}},Z9e={beforeMount(t){t[kk]=$j(t),S_.push(t),S_.length<=1&&document.addEventListener("keydown",LK)},updated(t){dr(()=>{t[kk]=$j(t)})},unmounted(){S_.shift(),S_.length===0&&document.removeEventListener("keydown",LK)}};var PK=!1,g_,Rk,Ok,fS,pS,Pie,AS,Dk,Nk,Uk,Fie,zk,$k,kie,Rie;function Sh(){if(!PK){PK=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),n=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(zk=/\b(iPhone|iP[ao]d)/.exec(t),$k=/\b(iP[ao]d)/.exec(t),Uk=/Android/i.exec(t),kie=/FBAN\/\w+;/i.exec(t),Rie=/Mobile/i.exec(t),Fie=!!/Win64/.exec(t),e){g_=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,g_&&document&&document.documentMode&&(g_=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(t);Pie=r?parseFloat(r[1])+4:g_,Rk=e[2]?parseFloat(e[2]):NaN,Ok=e[3]?parseFloat(e[3]):NaN,fS=e[4]?parseFloat(e[4]):NaN,fS?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),pS=e&&e[1]?parseFloat(e[1]):NaN):pS=NaN}else g_=Rk=Ok=pS=fS=NaN;if(n){if(n[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);AS=i?parseFloat(i[1].replace("_",".")):!0}else AS=!1;Dk=!!n[2],Nk=!!n[3]}else AS=Dk=Nk=!1}}var Vk={ie:function(){return Sh()||g_},ieCompatibilityMode:function(){return Sh()||Pie>g_},ie64:function(){return Vk.ie()&&Fie},firefox:function(){return Sh()||Rk},opera:function(){return Sh()||Ok},webkit:function(){return Sh()||fS},safari:function(){return Vk.webkit()},chrome:function(){return Sh()||pS},windows:function(){return Sh()||Dk},osx:function(){return Sh()||AS},linux:function(){return Sh()||Nk},iphone:function(){return Sh()||zk},mobile:function(){return Sh()||zk||$k||Uk||Rie},nativeApp:function(){return Sh()||kie},android:function(){return Sh()||Uk},ipad:function(){return Sh()||$k}},J9e=Vk,jE=!!(typeof window<"u"&&window.document&&window.document.createElement),e7e={canUseDOM:jE,canUseWorkers:typeof Worker<"u",canUseEventListeners:jE&&!!(window.addEventListener||window.attachEvent),canUseViewport:jE&&!!window.screen,isInWorker:!jE},Oie=e7e,Die;Oie.canUseDOM&&(Die=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function t7e(t,e){if(!Oie.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,r=n in document;if(!r){var i=document.createElement("div");i.setAttribute(n,"return;"),r=typeof i[n]=="function"}return!r&&Die&&t==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var n7e=t7e,FK=10,kK=40,RK=800;function Nie(t){var e=0,n=0,r=0,i=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=e*FK,i=n*FK,"deltaY"in t&&(i=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||i)&&t.deltaMode&&(t.deltaMode==1?(r*=kK,i*=kK):(r*=RK,i*=RK)),r&&!e&&(e=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:e,spinY:n,pixelX:r,pixelY:i}}Nie.getEventType=function(){return J9e.firefox()?"DOMMouseScroll":n7e("wheel")?"wheel":"mousewheel"};var r7e=Nie;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const i7e=function(t,e){if(t&&t.addEventListener){const n=function(r){const i=r7e(r);e&&Reflect.apply(e,this,[r,i])};t.addEventListener("wheel",n,{passive:!0})}},a7e={beforeMount(t,e){i7e(t,e.value)}},s7e=Ln({role:{type:String,required:!0},spinnerDate:{type:Rt(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:Rt(String),default:""},...Eie}),o7e=["onClick"],l7e=["onMouseenter"],u7e=Be({__name:"basic-time-spinner",props:s7e,emits:["change","select-range","set-option"],setup(t,{emit:e}){const n=t,r=vn("time"),{getHoursList:i,getMinutesList:s,getSecondsList:l}=Mie(n.disabledHours,n.disabledMinutes,n.disabledSeconds);let c=!1;const a=Te(),f=Te(),A=Te(),m=Te(),_={hours:f,minutes:A,seconds:m},y=le(()=>n.showSeconds?CK:CK.slice(0,2)),T=le(()=>{const{spinnerDate:ce}=n,ye=ce.hour(),Ee=ce.minute(),se=ce.second();return{hours:ye,minutes:Ee,seconds:se}}),E=le(()=>{const{hours:ce,minutes:ye}=S(T);return{hours:i(n.role),minutes:s(ce,n.role),seconds:l(ce,ye,n.role)}}),P=le(()=>{const{hours:ce,minutes:ye,seconds:Ee}=S(T);return{hours:TL(ce,23),minutes:TL(ye,59),seconds:TL(Ee,59)}}),I=$h(ce=>{c=!1,N(ce)},200),F=ce=>{if(!!!n.amPmMode)return"";const Ee=n.amPmMode==="A";let se=ce<12?" am":" pm";return Ee&&(se=se.toUpperCase()),se},R=ce=>{let ye;switch(ce){case"hours":ye=[0,2];break;case"minutes":ye=[3,5];break;case"seconds":ye=[6,8];break}const[Ee,se]=ye;e("select-range",Ee,se),a.value=ce},N=ce=>{j(ce,S(T)[ce])},z=()=>{N("hours"),N("minutes"),N("seconds")},Q=ce=>ce.querySelector(`.${r.namespace.value}-scrollbar__wrap`),j=(ce,ye)=>{if(n.arrowControl)return;const Ee=S(_[ce]);Ee&&Ee.$el&&(Q(Ee.$el).scrollTop=Math.max(0,ye*H(ce)))},H=ce=>{const ye=S(_[ce]),Ee=ye==null?void 0:ye.$el.querySelector("li");return Ee&&Number.parseFloat(xv(Ee,"height"))||0},K=()=>{q(1)},ie=()=>{q(-1)},q=ce=>{a.value||R("hours");const ye=a.value,Ee=S(T)[ye],se=a.value==="hours"?24:60,oe=W(ye,Ee,ce,se);ee(ye,oe),j(ye,oe),dr(()=>R(ye))},W=(ce,ye,Ee,se)=>{let oe=(ye+Ee+se)%se;const _e=S(E)[ce];for(;_e[oe]&&oe!==ye;)oe=(oe+Ee+se)%se;return oe},ee=(ce,ye)=>{if(S(E)[ce][ye])return;const{hours:oe,minutes:_e,seconds:Ue}=S(T);let Le;switch(ce){case"hours":Le=n.spinnerDate.hour(ye).minute(_e).second(Ue);break;case"minutes":Le=n.spinnerDate.hour(oe).minute(ye).second(Ue);break;case"seconds":Le=n.spinnerDate.hour(oe).minute(_e).second(ye);break}e("change",Le)},ue=(ce,{value:ye,disabled:Ee})=>{Ee||(ee(ce,ye),R(ce),j(ce,ye))},J=ce=>{c=!0,I(ce);const ye=Math.min(Math.round((Q(S(_[ce]).$el).scrollTop-(te(ce)*.5-10)/H(ce)+3)/H(ce)),ce==="hours"?23:59);ee(ce,ye)},te=ce=>S(_[ce]).$el.offsetHeight,ne=()=>{const ce=ye=>{const Ee=S(_[ye]);Ee&&Ee.$el&&(Q(Ee.$el).onscroll=()=>{J(ye)})};ce("hours"),ce("minutes"),ce("seconds")};kr(()=>{dr(()=>{!n.arrowControl&&ne(),z(),n.role==="start"&&R("hours")})});const he=(ce,ye)=>{_[ye].value=ce};return e("set-option",[`${n.role}_scrollDown`,q]),e("set-option",[`${n.role}_emitSelectRange`,R]),un(()=>n.spinnerDate,()=>{c||z()}),(ce,ye)=>(X(),ve("div",{class:Se([S(r).b("spinner"),{"has-seconds":ce.showSeconds}])},[ce.arrowControl?bt("v-if",!0):(X(!0),ve(Vn,{key:0},Yr(S(y),Ee=>(X(),Ut(S(c0),{key:Ee,ref_for:!0,ref:se=>he(se,Ee),class:Se(S(r).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":S(r).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:se=>R(Ee),onMousemove:se=>N(Ee)},{default:xt(()=>[(X(!0),ve(Vn,null,Yr(S(E)[Ee],(se,oe)=>(X(),ve("li",{key:oe,class:Se([S(r).be("spinner","item"),S(r).is("active",oe===S(T)[Ee]),S(r).is("disabled",se)]),onClick:_e=>ue(Ee,{value:oe,disabled:se})},[Ee==="hours"?(X(),ve(Vn,{key:0},[wi(Cn(("0"+(ce.amPmMode?oe%12||12:oe)).slice(-2))+Cn(F(oe)),1)],64)):(X(),ve(Vn,{key:1},[wi(Cn(("0"+oe).slice(-2)),1)],64))],10,o7e))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),ce.arrowControl?(X(!0),ve(Vn,{key:1},Yr(S(y),Ee=>(X(),ve("div",{key:Ee,class:Se([S(r).be("spinner","wrapper"),S(r).is("arrow")]),onMouseenter:se=>R(Ee)},[Jr((X(),Ut(S(Ar),{class:Se(["arrow-up",S(r).be("spinner","arrow")])},{default:xt(()=>[ht(S(Z8))]),_:1},8,["class"])),[[S(xT),ie]]),Jr((X(),Ut(S(Ar),{class:Se(["arrow-down",S(r).be("spinner","arrow")])},{default:xt(()=>[ht(S(Em))]),_:1},8,["class"])),[[S(xT),K]]),pe("ul",{class:Se(S(r).be("spinner","list"))},[(X(!0),ve(Vn,null,Yr(S(P)[Ee],(se,oe)=>(X(),ve("li",{key:oe,class:Se([S(r).be("spinner","item"),S(r).is("active",se===S(T)[Ee]),S(r).is("disabled",S(E)[Ee][se])])},[typeof se=="number"?(X(),ve(Vn,{key:0},[Ee==="hours"?(X(),ve(Vn,{key:0},[wi(Cn(("0"+(ce.amPmMode?se%12||12:se)).slice(-2))+Cn(F(se)),1)],64)):(X(),ve(Vn,{key:1},[wi(Cn(("0"+se).slice(-2)),1)],64))],64)):bt("v-if",!0)],2))),128))],2)],42,l7e))),128)):bt("v-if",!0)],2))}});var Hk=kn(u7e,[["__file","basic-time-spinner.vue"]]);const c7e=Be({__name:"panel-time-pick",props:q9e,emits:["pick","select-range","set-picker-option"],setup(t,{emit:e}){const n=t,r=ar("EP_PICKER_BASE"),{arrowControl:i,disabledHours:s,disabledMinutes:l,disabledSeconds:c,defaultValue:a}=r.props,{getAvailableHours:f,getAvailableMinutes:A,getAvailableSeconds:m}=Iie(s,l,c),_=vn("time"),{t:y,lang:T}=ca(),E=Te([0,2]),P=Lie(n),I=le(()=>Wo(n.actualVisible)?`${_.namespace.value}-zoom-in-top`:""),F=le(()=>n.format.includes("ss")),R=le(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),N=he=>{const ce=pi(he).locale(T.value),ye=ue(ce);return ce.isSame(ye)},z=()=>{e("pick",P.value,!1)},Q=(he=!1,ce=!1)=>{ce||e("pick",n.parsedValue,he)},j=he=>{if(!n.visible)return;const ce=ue(he).millisecond(0);e("pick",ce,!0)},H=(he,ce)=>{e("select-range",he,ce),E.value=[he,ce]},K=he=>{const ce=[0,3].concat(F.value?[6]:[]),ye=["hours","minutes"].concat(F.value?["seconds"]:[]),se=(ce.indexOf(E.value[0])+he+ce.length)%ce.length;q.start_emitSelectRange(ye[se])},ie=he=>{const ce=he.code,{left:ye,right:Ee,up:se,down:oe}=Tr;if([ye,Ee].includes(ce)){K(ce===ye?-1:1),he.preventDefault();return}if([se,oe].includes(ce)){const _e=ce===se?-1:1;q.start_scrollDown(_e),he.preventDefault();return}},{timePickerOptions:q,onSetOption:W,getAvailableTime:ee}=Bie({getAvailableHours:f,getAvailableMinutes:A,getAvailableSeconds:m}),ue=he=>ee(he,n.datetimeRole||"",!0),J=he=>he?pi(he,n.format).locale(T.value):null,te=he=>he?he.format(n.format):null,ne=()=>pi(a).locale(T.value);return e("set-picker-option",["isValidValue",N]),e("set-picker-option",["formatToString",te]),e("set-picker-option",["parseUserInput",J]),e("set-picker-option",["handleKeydownInput",ie]),e("set-picker-option",["getRangeAvailableTime",ue]),e("set-picker-option",["getDefaultValue",ne]),(he,ce)=>(X(),Ut(co,{name:S(I)},{default:xt(()=>[he.actualVisible||he.visible?(X(),ve("div",{key:0,class:Se(S(_).b("panel"))},[pe("div",{class:Se([S(_).be("panel","content"),{"has-seconds":S(F)}])},[ht(Hk,{ref:"spinner",role:he.datetimeRole||"start","arrow-control":S(i),"show-seconds":S(F),"am-pm-mode":S(R),"spinner-date":he.parsedValue,"disabled-hours":S(s),"disabled-minutes":S(l),"disabled-seconds":S(c),onChange:j,onSetOption:S(W),onSelectRange:H},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),pe("div",{class:Se(S(_).be("panel","footer"))},[pe("button",{type:"button",class:Se([S(_).be("panel","btn"),"cancel"]),onClick:z},Cn(S(y)("el.datepicker.cancel")),3),pe("button",{type:"button",class:Se([S(_).be("panel","btn"),"confirm"]),onClick:ce[0]||(ce[0]=ye=>Q())},Cn(S(y)("el.datepicker.confirm")),3)],2)],2)):bt("v-if",!0)]),_:1},8,["name"]))}});var CT=kn(c7e,[["__file","panel-time-pick.vue"]]);const h7e=Ln({...Sie,parsedValue:{type:Rt(Array)}}),d7e=["disabled"],f7e=Be({__name:"panel-time-range",props:h7e,emits:["pick","select-range","set-picker-option"],setup(t,{emit:e}){const n=t,r=(nt,Ve)=>{const Pe=[];for(let Ge=nt;Ge<=Ve;Ge++)Pe.push(Ge);return Pe},{t:i,lang:s}=ca(),l=vn("time"),c=vn("picker"),a=ar("EP_PICKER_BASE"),{arrowControl:f,disabledHours:A,disabledMinutes:m,disabledSeconds:_,defaultValue:y}=a.props,T=le(()=>[l.be("range-picker","body"),l.be("panel","content"),l.is("arrow",f),N.value?"has-seconds":""]),E=le(()=>[l.be("range-picker","body"),l.be("panel","content"),l.is("arrow",f),N.value?"has-seconds":""]),P=le(()=>n.parsedValue[0]),I=le(()=>n.parsedValue[1]),F=Lie(n),R=()=>{e("pick",F.value,!1)},N=le(()=>n.format.includes("ss")),z=le(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),Q=(nt=!1)=>{e("pick",[P.value,I.value],nt)},j=nt=>{ie(nt.millisecond(0),I.value)},H=nt=>{ie(P.value,nt.millisecond(0))},K=nt=>{const Ve=nt.map(Ge=>pi(Ge).locale(s.value)),Pe=Ee(Ve);return Ve[0].isSame(Pe[0])&&Ve[1].isSame(Pe[1])},ie=(nt,Ve)=>{e("pick",[nt,Ve],!0)},q=le(()=>P.value>I.value),W=Te([0,2]),ee=(nt,Ve)=>{e("select-range",nt,Ve,"min"),W.value=[nt,Ve]},ue=le(()=>N.value?11:8),J=(nt,Ve)=>{e("select-range",nt,Ve,"max");const Pe=S(ue);W.value=[nt+Pe,Ve+Pe]},te=nt=>{const Ve=N.value?[0,3,6,11,14,17]:[0,3,8,11],Pe=["hours","minutes"].concat(N.value?["seconds"]:[]),Ne=(Ve.indexOf(W.value[0])+nt+Ve.length)%Ve.length,je=Ve.length/2;Ne<je?Ue.start_emitSelectRange(Pe[Ne]):Ue.end_emitSelectRange(Pe[Ne-je])},ne=nt=>{const Ve=nt.code,{left:Pe,right:Ge,up:Ne,down:je}=Tr;if([Pe,Ge].includes(Ve)){te(Ve===Pe?-1:1),nt.preventDefault();return}if([Ne,je].includes(Ve)){const Ye=Ve===Ne?-1:1,vt=W.value[0]<ue.value?"start":"end";Ue[`${vt}_scrollDown`](Ye),nt.preventDefault();return}},he=(nt,Ve)=>{const Pe=A?A(nt):[],Ge=nt==="start",je=(Ve||(Ge?I.value:P.value)).hour(),Ye=Ge?r(je+1,23):r(0,je-1);return vL(Pe,Ye)},ce=(nt,Ve,Pe)=>{const Ge=m?m(nt,Ve):[],Ne=Ve==="start",je=Pe||(Ne?I.value:P.value),Ye=je.hour();if(nt!==Ye)return Ge;const vt=je.minute(),Lt=Ne?r(vt+1,59):r(0,vt-1);return vL(Ge,Lt)},ye=(nt,Ve,Pe,Ge)=>{const Ne=_?_(nt,Ve,Pe):[],je=Pe==="start",Ye=Ge||(je?I.value:P.value),vt=Ye.hour(),Lt=Ye.minute();if(nt!==vt||Ve!==Lt)return Ne;const Et=Ye.second(),Vt=je?r(Et+1,59):r(0,Et-1);return vL(Ne,Vt)},Ee=([nt,Ve])=>[Le(nt,"start",!0,Ve),Le(Ve,"end",!1,nt)],{getAvailableHours:se,getAvailableMinutes:oe,getAvailableSeconds:_e}=Iie(he,ce,ye),{timePickerOptions:Ue,getAvailableTime:Le,onSetOption:be}=Bie({getAvailableHours:se,getAvailableMinutes:oe,getAvailableSeconds:_e}),Re=nt=>nt?Jn(nt)?nt.map(Ve=>pi(Ve,n.format).locale(s.value)):pi(nt,n.format).locale(s.value):null,Qe=nt=>nt?Jn(nt)?nt.map(Ve=>Ve.format(n.format)):nt.format(n.format):null,Je=()=>{if(Jn(y))return y.map(Ve=>pi(Ve).locale(s.value));const nt=pi(y).locale(s.value);return[nt,nt.add(60,"m")]};return e("set-picker-option",["formatToString",Qe]),e("set-picker-option",["parseUserInput",Re]),e("set-picker-option",["isValidValue",K]),e("set-picker-option",["handleKeydownInput",ne]),e("set-picker-option",["getDefaultValue",Je]),e("set-picker-option",["getRangeAvailableTime",Ee]),(nt,Ve)=>nt.actualVisible?(X(),ve("div",{key:0,class:Se([S(l).b("range-picker"),S(c).b("panel")])},[pe("div",{class:Se(S(l).be("range-picker","content"))},[pe("div",{class:Se(S(l).be("range-picker","cell"))},[pe("div",{class:Se(S(l).be("range-picker","header"))},Cn(S(i)("el.datepicker.startTime")),3),pe("div",{class:Se(S(T))},[ht(Hk,{ref:"minSpinner",role:"start","show-seconds":S(N),"am-pm-mode":S(z),"arrow-control":S(f),"spinner-date":S(P),"disabled-hours":he,"disabled-minutes":ce,"disabled-seconds":ye,onChange:j,onSetOption:S(be),onSelectRange:ee},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),pe("div",{class:Se(S(l).be("range-picker","cell"))},[pe("div",{class:Se(S(l).be("range-picker","header"))},Cn(S(i)("el.datepicker.endTime")),3),pe("div",{class:Se(S(E))},[ht(Hk,{ref:"maxSpinner",role:"end","show-seconds":S(N),"am-pm-mode":S(z),"arrow-control":S(f),"spinner-date":S(I),"disabled-hours":he,"disabled-minutes":ce,"disabled-seconds":ye,onChange:H,onSetOption:S(be),onSelectRange:J},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),pe("div",{class:Se(S(l).be("panel","footer"))},[pe("button",{type:"button",class:Se([S(l).be("panel","btn"),"cancel"]),onClick:Ve[0]||(Ve[0]=Pe=>R())},Cn(S(i)("el.datepicker.cancel")),3),pe("button",{type:"button",class:Se([S(l).be("panel","btn"),"confirm"]),disabled:S(q),onClick:Ve[1]||(Ve[1]=Pe=>Q())},Cn(S(i)("el.datepicker.confirm")),11,d7e)],2)],2)):bt("v-if",!0)}});var p7e=kn(f7e,[["__file","panel-time-range.vue"]]);pi.extend(_9);var A7e=Be({name:"ElTimePicker",install:null,props:{...y9,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,e){const n=Te(),[r,i]=t.isRange?["timerange",p7e]:["time",CT],s=l=>e.emit("update:modelValue",l);return Ii("ElPopperOptions",t.popperOptions),e.expose({focus:l=>{var c;(c=n.value)==null||c.handleFocusInput(l)},blur:l=>{var c;(c=n.value)==null||c.handleBlurInput(l)},handleOpen:()=>{var l;(l=n.value)==null||l.handleOpen()},handleClose:()=>{var l;(l=n.value)==null||l.handleClose()}}),()=>{var l;const c=(l=t.format)!=null?l:Fk;return ht(Tie,Xr(t,{ref:n,type:r,format:c,"onUpdate:modelValue":s}),{default:a=>ht(i,a,null)})}}});const mS=A7e;mS.install=t=>{t.component(mS.name,mS)};const m7e=mS,g7e=(t,e)=>{const n=t.subtract(1,"month").endOf("month").date();return Vv(e).map((r,i)=>n-(e-i-1))},v7e=t=>{const e=t.daysInMonth();return Vv(e).map((n,r)=>r+1)},_7e=t=>Vv(t.length/7).map(e=>{const n=e*7;return t.slice(n,n+7)}),y7e=Ln({selectedDay:{type:Rt(Object)},range:{type:Rt(Array)},date:{type:Rt(Object),required:!0},hideHeader:{type:Boolean}}),b7e={pick:t=>Ai(t)};var Uie={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Cm,function(){return function(n,r,i){var s=r.prototype,l=function(m){return m&&(m.indexOf?m:m.s)},c=function(m,_,y,T,E){var P=m.name?m:m.$locale(),I=l(P[_]),F=l(P[y]),R=I||F.map(function(z){return z.slice(0,T)});if(!E)return R;var N=P.weekStart;return R.map(function(z,Q){return R[(Q+(N||0))%7]})},a=function(){return i.Ls[i.locale()]},f=function(m,_){return m.formats[_]||function(y){return y.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(T,E,P){return E||P.slice(1)})}(m.formats[_.toUpperCase()])},A=function(){var m=this;return{months:function(_){return _?_.format("MMMM"):c(m,"months")},monthsShort:function(_){return _?_.format("MMM"):c(m,"monthsShort","months",3)},firstDayOfWeek:function(){return m.$locale().weekStart||0},weekdays:function(_){return _?_.format("dddd"):c(m,"weekdays")},weekdaysMin:function(_){return _?_.format("dd"):c(m,"weekdaysMin","weekdays",2)},weekdaysShort:function(_){return _?_.format("ddd"):c(m,"weekdaysShort","weekdays",3)},longDateFormat:function(_){return f(m.$locale(),_)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};s.localeData=function(){return A.bind(this)()},i.localeData=function(){var m=a();return{firstDayOfWeek:function(){return m.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(_){return f(m,_)},meridiem:m.meridiem,ordinal:m.ordinal}},i.months=function(){return c(a(),"months")},i.monthsShort=function(){return c(a(),"monthsShort","months",3)},i.weekdays=function(m){return c(a(),"weekdays",null,null,m)},i.weekdaysShort=function(m){return c(a(),"weekdaysShort","weekdays",3,m)},i.weekdaysMin=function(m){return c(a(),"weekdaysMin","weekdays",2,m)}}})})(Uie);var w7e=Uie.exports;const zie=Jp(w7e),x7e=(t,e)=>{pi.extend(zie);const n=pi.localeData().firstDayOfWeek(),{t:r,lang:i}=ca(),s=pi().locale(i.value),l=le(()=>!!t.range&&!!t.range.length),c=le(()=>{let _=[];if(l.value){const[y,T]=t.range,E=Vv(T.date()-y.date()+1).map(F=>({text:y.date()+F,type:"current"}));let P=E.length%7;P=P===0?0:7-P;const I=Vv(P).map((F,R)=>({text:R+1,type:"next"}));_=E.concat(I)}else{const y=t.date.startOf("month").day(),T=g7e(t.date,(y-n+7)%7).map(F=>({text:F,type:"prev"})),E=v7e(t.date).map(F=>({text:F,type:"current"}));_=[...T,...E];const P=7-(_.length%7||7),I=Vv(P).map((F,R)=>({text:R+1,type:"next"}));_=_.concat(I)}return _7e(_)}),a=le(()=>{const _=n;return _===0?_L.map(y=>r(`el.datepicker.weeks.${y}`)):_L.slice(_).concat(_L.slice(0,_)).map(y=>r(`el.datepicker.weeks.${y}`))}),f=(_,y)=>{switch(y){case"prev":return t.date.startOf("month").subtract(1,"month").date(_);case"next":return t.date.startOf("month").add(1,"month").date(_);case"current":return t.date.date(_)}};return{now:s,isInRange:l,rows:c,weekDays:a,getFormattedDate:f,handlePickDay:({text:_,type:y})=>{const T=f(_,y);e("pick",T)},getSlotData:({text:_,type:y})=>{const T=f(_,y);return{isSelected:T.isSame(t.selectedDay),type:`${y}-month`,day:T.format("YYYY-MM-DD"),date:T.toDate()}}}},C7e={key:0},E7e=["onClick"],S7e=Be({name:"DateTable"}),T7e=Be({...S7e,props:y7e,emits:b7e,setup(t,{expose:e,emit:n}){const r=t,{isInRange:i,now:s,rows:l,weekDays:c,getFormattedDate:a,handlePickDay:f,getSlotData:A}=x7e(r,n),m=vn("calendar-table"),_=vn("calendar-day"),y=({text:T,type:E})=>{const P=[E];if(E==="current"){const I=a(T,E);I.isSame(r.selectedDay,"day")&&P.push(_.is("selected")),I.isSame(s,"day")&&P.push(_.is("today"))}return P};return e({getFormattedDate:a}),(T,E)=>(X(),ve("table",{class:Se([S(m).b(),S(m).is("range",S(i))]),cellspacing:"0",cellpadding:"0"},[T.hideHeader?bt("v-if",!0):(X(),ve("thead",C7e,[(X(!0),ve(Vn,null,Yr(S(c),P=>(X(),ve("th",{key:P},Cn(P),1))),128))])),pe("tbody",null,[(X(!0),ve(Vn,null,Yr(S(l),(P,I)=>(X(),ve("tr",{key:I,class:Se({[S(m).e("row")]:!0,[S(m).em("row","hide-border")]:I===0&&T.hideHeader})},[(X(!0),ve(Vn,null,Yr(P,(F,R)=>(X(),ve("td",{key:R,class:Se(y(F)),onClick:N=>S(f)(F)},[pe("div",{class:Se(S(_).b())},[kt(T.$slots,"date-cell",{data:S(A)(F)},()=>[pe("span",null,Cn(F.text),1)])],2)],10,E7e))),128))],2))),128))])],2))}});var OK=kn(T7e,[["__file","date-table.vue"]]);const B7e=(t,e)=>{const n=t.endOf("month"),r=e.startOf("month"),s=n.isSame(r,"week")?r.add(1,"week"):r;return[[t,n],[s.startOf("week"),e]]},M7e=(t,e)=>{const n=t.endOf("month"),r=t.add(1,"month").startOf("month"),i=n.isSame(r,"week")?r.add(1,"week"):r,s=i.endOf("month"),l=e.startOf("month"),c=s.isSame(l,"week")?l.add(1,"week"):l;return[[t,n],[i.startOf("week"),s],[c.startOf("week"),e]]},I7e=(t,e,n)=>{const{lang:r}=ca(),i=Te(),s=pi().locale(r.value),l=le({get(){return t.modelValue?a.value:i.value},set(P){if(!P)return;i.value=P;const I=P.toDate();e(nh,I),e(vi,I)}}),c=le(()=>{if(!t.range)return[];const P=t.range.map(R=>pi(R).locale(r.value)),[I,F]=P;return I.isAfter(F)?[]:I.isSame(F,"month")?y(I,F):I.add(1,"month").month()!==F.month()?[]:y(I,F)}),a=le(()=>t.modelValue?pi(t.modelValue).locale(r.value):l.value||(c.value.length?c.value[0][0]:s)),f=le(()=>a.value.subtract(1,"month").date(1)),A=le(()=>a.value.add(1,"month").date(1)),m=le(()=>a.value.subtract(1,"year").date(1)),_=le(()=>a.value.add(1,"year").date(1)),y=(P,I)=>{const F=P.startOf("week"),R=I.endOf("week"),N=F.get("month"),z=R.get("month");return N===z?[[F,R]]:(N+1)%12===z?B7e(F,R):N+2===z||(N+1)%11===z?M7e(F,R):[]},T=P=>{l.value=P};return{calculateValidatedDateRange:y,date:a,realSelectedDay:l,pickDay:T,selectDate:P=>{const F={"prev-month":f.value,"next-month":A.value,"prev-year":m.value,"next-year":_.value,today:s}[P];F.isSame(a.value,"day")||T(F)},validatedRange:c}},L7e=t=>Jn(t)&&t.length===2&&t.every(e=>Z_(e)),P7e=Ln({modelValue:{type:Date},range:{type:Rt(Array),validator:L7e}}),F7e={[vi]:t=>Z_(t),[nh]:t=>Z_(t)},k7e="ElCalendar",R7e=Be({name:k7e}),O7e=Be({...R7e,props:P7e,emits:F7e,setup(t,{expose:e,emit:n}){const r=t,i=vn("calendar"),{calculateValidatedDateRange:s,date:l,pickDay:c,realSelectedDay:a,selectDate:f,validatedRange:A}=I7e(r,n),{t:m}=ca(),_=le(()=>{const y=`el.datepicker.month${l.value.format("M")}`;return`${l.value.year()} ${m("el.datepicker.year")} ${m(y)}`});return e({selectedDay:a,pickDay:c,selectDate:f,calculateValidatedDateRange:s}),(y,T)=>(X(),ve("div",{class:Se(S(i).b())},[pe("div",{class:Se(S(i).e("header"))},[kt(y.$slots,"header",{date:S(_)},()=>[pe("div",{class:Se(S(i).e("title"))},Cn(S(_)),3),S(A).length===0?(X(),ve("div",{key:0,class:Se(S(i).e("button-group"))},[ht(S(yie),null,{default:xt(()=>[ht(S(yu),{size:"small",onClick:T[0]||(T[0]=E=>S(f)("prev-month"))},{default:xt(()=>[wi(Cn(S(m)("el.datepicker.prevMonth")),1)]),_:1}),ht(S(yu),{size:"small",onClick:T[1]||(T[1]=E=>S(f)("today"))},{default:xt(()=>[wi(Cn(S(m)("el.datepicker.today")),1)]),_:1}),ht(S(yu),{size:"small",onClick:T[2]||(T[2]=E=>S(f)("next-month"))},{default:xt(()=>[wi(Cn(S(m)("el.datepicker.nextMonth")),1)]),_:1})]),_:1})],2)):bt("v-if",!0)])],2),S(A).length===0?(X(),ve("div",{key:0,class:Se(S(i).e("body"))},[ht(OK,{date:S(l),"selected-day":S(a),onPick:S(c)},Ro({_:2},[y.$slots["date-cell"]?{name:"date-cell",fn:xt(E=>[kt(y.$slots,"date-cell",uo(nu(E)))])}:void 0]),1032,["date","selected-day","onPick"])],2)):(X(),ve("div",{key:1,class:Se(S(i).e("body"))},[(X(!0),ve(Vn,null,Yr(S(A),(E,P)=>(X(),Ut(OK,{key:P,date:E[0],"selected-day":S(a),range:E,"hide-header":P!==0,onPick:S(c)},Ro({_:2},[y.$slots["date-cell"]?{name:"date-cell",fn:xt(I=>[kt(y.$slots,"date-cell",uo(nu(I)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var D7e=kn(O7e,[["__file","calendar.vue"]]);const N7e=fi(D7e),U7e=Ln({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:Rt([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),z7e=Be({name:"ElCard"}),$7e=Be({...z7e,props:U7e,setup(t){const e=vn("card");return(n,r)=>(X(),ve("div",{class:Se([S(e).b(),S(e).is(`${n.shadow}-shadow`)])},[n.$slots.header||n.header?(X(),ve("div",{key:0,class:Se(S(e).e("header"))},[kt(n.$slots,"header",{},()=>[wi(Cn(n.header),1)])],2)):bt("v-if",!0),pe("div",{class:Se([S(e).e("body"),n.bodyClass]),style:or(n.bodyStyle)},[kt(n.$slots,"default")],6),n.$slots.footer||n.footer?(X(),ve("div",{key:1,class:Se(S(e).e("footer"))},[kt(n.$slots,"footer",{},()=>[wi(Cn(n.footer),1)])],2)):bt("v-if",!0)],2))}});var V7e=kn($7e,[["__file","card.vue"]]);const H7e=fi(V7e),Q7e=Ln({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:{type:Boolean,default:!1}}),j7e={change:(t,e)=>[t,e].every(Or)},$ie=Symbol("carouselContextKey"),DK=300,G7e=(t,e,n)=>{const{children:r,addChild:i,removeChild:s}=d9(ci(),"ElCarouselItem"),l=Eo(),c=Te(-1),a=Te(null),f=Te(!1),A=Te(),m=Te(0),_=Te(!0),y=Te(!0),T=Te(!1),E=le(()=>t.arrow!=="never"&&!S(F)),P=le(()=>r.value.some(Le=>Le.props.label.toString().length>0)),I=le(()=>t.type==="card"),F=le(()=>t.direction==="vertical"),R=le(()=>t.height!=="auto"?{height:t.height}:{height:`${m.value}px`,overflow:"hidden"}),N=U_(Le=>{ie(Le)},DK,{trailing:!0}),z=U_(Le=>{ce(Le)},DK),Q=Le=>_.value?c.value<=1?Le<=1:Le>1:!0;function j(){a.value&&(clearInterval(a.value),a.value=null)}function H(){t.interval<=0||!t.autoplay||a.value||(a.value=setInterval(()=>K(),t.interval))}const K=()=>{y.value||(T.value=!0),y.value=!1,c.value<r.value.length-1?c.value=c.value+1:t.loop&&(c.value=0)};function ie(Le){if(y.value||(T.value=!0),y.value=!1,Hr(Le)){const Qe=r.value.filter(Je=>Je.props.name===Le);Qe.length>0&&(Le=r.value.indexOf(Qe[0]))}if(Le=Number(Le),Number.isNaN(Le)||Le!==Math.floor(Le))return;const be=r.value.length,Re=c.value;Le<0?c.value=t.loop?be-1:0:Le>=be?c.value=t.loop?0:be-1:c.value=Le,Re===c.value&&q(Re),se()}function q(Le){r.value.forEach((be,Re)=>{be.translateItem(Re,c.value,Le)})}function W(Le,be){var Re,Qe,Je,nt;const Ve=S(r),Pe=Ve.length;if(Pe===0||!Le.states.inStage)return!1;const Ge=be+1,Ne=be-1,je=Pe-1,Ye=Ve[je].states.active,vt=Ve[0].states.active,Lt=(Qe=(Re=Ve[Ge])==null?void 0:Re.states)==null?void 0:Qe.active,Et=(nt=(Je=Ve[Ne])==null?void 0:Je.states)==null?void 0:nt.active;return be===je&&vt||Lt?"left":be===0&&Ye||Et?"right":!1}function ee(){f.value=!0,t.pauseOnHover&&j()}function ue(){f.value=!1,H()}function J(){T.value=!1}function te(Le){S(F)||r.value.forEach((be,Re)=>{Le===W(be,Re)&&(be.states.hover=!0)})}function ne(){S(F)||r.value.forEach(Le=>{Le.states.hover=!1})}function he(Le){Le!==c.value&&(y.value||(T.value=!0)),c.value=Le}function ce(Le){t.trigger==="hover"&&Le!==c.value&&(c.value=Le,y.value||(T.value=!0))}function ye(){ie(c.value-1)}function Ee(){ie(c.value+1)}function se(){j(),t.pauseOnHover||H()}function oe(Le){t.height==="auto"&&(m.value=Le)}function _e(){var Le;const be=(Le=l.default)==null?void 0:Le.call(l);if(!be)return null;const Re=$v(be),Qe="ElCarouselItem",Je=Re.filter(nt=>js(nt)&&nt.type.name===Qe);return(Je==null?void 0:Je.length)===2&&t.loop&&!I.value?(_.value=!0,Je):(_.value=!1,null)}un(()=>c.value,(Le,be)=>{q(be),_.value&&(Le=Le%2,be=be%2),be>-1&&e("change",Le,be)}),un(()=>t.autoplay,Le=>{Le?H():j()}),un(()=>t.loop,()=>{ie(c.value)}),un(()=>t.interval,()=>{se()});const Ue=ms();return kr(()=>{un(()=>r.value,()=>{r.value.length>0&&ie(t.initialIndex)},{immediate:!0}),Ue.value=eo(A.value,()=>{q()}),H()}),ds(()=>{j(),A.value&&Ue.value&&Ue.value.stop()}),Ii($ie,{root:A,isCardType:I,isVertical:F,items:r,loop:t.loop,addItem:i,removeItem:s,setActiveItem:ie,setContainerHeight:oe}),{root:A,activeIndex:c,arrowDisplay:E,hasLabel:P,hover:f,isCardType:I,isTransitioning:T,items:r,isVertical:F,containerStyle:R,isItemsTwoLength:_,handleButtonEnter:te,handleTransitionEnd:J,handleButtonLeave:ne,handleIndicatorClick:he,handleMouseEnter:ee,handleMouseLeave:ue,setActiveItem:ie,prev:ye,next:Ee,PlaceholderItem:_e,isTwoLengthShow:Q,throttledArrowClick:N,throttledIndicatorHover:z}},K7e=["aria-label"],W7e=["aria-label"],q7e=["onMouseenter","onClick"],Y7e=["aria-label"],X7e={key:0},Z7e={key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},J7e=pe("defs",null,[pe("filter",{id:"elCarouselHorizontal"},[pe("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),pe("filter",{id:"elCarouselVertical"},[pe("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])],-1),eUe=[J7e],tUe="ElCarousel",nUe=Be({name:tUe}),rUe=Be({...nUe,props:Q7e,emits:j7e,setup(t,{expose:e,emit:n}){const r=t,{root:i,activeIndex:s,arrowDisplay:l,hasLabel:c,hover:a,isCardType:f,items:A,isVertical:m,containerStyle:_,handleButtonEnter:y,handleButtonLeave:T,isTransitioning:E,handleIndicatorClick:P,handleMouseEnter:I,handleMouseLeave:F,handleTransitionEnd:R,setActiveItem:N,prev:z,next:Q,PlaceholderItem:j,isTwoLengthShow:H,throttledArrowClick:K,throttledIndicatorHover:ie}=G7e(r,n),q=vn("carousel"),{t:W}=ca(),ee=le(()=>{const te=[q.b(),q.m(r.direction)];return S(f)&&te.push(q.m("card")),te}),ue=le(()=>{const te=[q.e("container")];return r.motionBlur&&S(E)&&te.push(S(m)?`${q.namespace.value}-transitioning-vertical`:`${q.namespace.value}-transitioning`),te}),J=le(()=>{const te=[q.e("indicators"),q.em("indicators",r.direction)];return S(c)&&te.push(q.em("indicators","labels")),r.indicatorPosition==="outside"&&te.push(q.em("indicators","outside")),S(m)&&te.push(q.em("indicators","right")),te});return e({setActiveItem:N,prev:z,next:Q}),(te,ne)=>(X(),ve("div",{ref_key:"root",ref:i,class:Se(S(ee)),onMouseenter:ne[7]||(ne[7]=Fr((...he)=>S(I)&&S(I)(...he),["stop"])),onMouseleave:ne[8]||(ne[8]=Fr((...he)=>S(F)&&S(F)(...he),["stop"]))},[S(l)?(X(),Ut(co,{key:0,name:"carousel-arrow-left",persisted:""},{default:xt(()=>[Jr(pe("button",{type:"button",class:Se([S(q).e("arrow"),S(q).em("arrow","left")]),"aria-label":S(W)("el.carousel.leftArrow"),onMouseenter:ne[0]||(ne[0]=he=>S(y)("left")),onMouseleave:ne[1]||(ne[1]=(...he)=>S(T)&&S(T)(...he)),onClick:ne[2]||(ne[2]=Fr(he=>S(K)(S(s)-1),["stop"]))},[ht(S(Ar),null,{default:xt(()=>[ht(S(qg))]),_:1})],42,K7e),[[la,(te.arrow==="always"||S(a))&&(r.loop||S(s)>0)]])]),_:1})):bt("v-if",!0),S(l)?(X(),Ut(co,{key:1,name:"carousel-arrow-right",persisted:""},{default:xt(()=>[Jr(pe("button",{type:"button",class:Se([S(q).e("arrow"),S(q).em("arrow","right")]),"aria-label":S(W)("el.carousel.rightArrow"),onMouseenter:ne[3]||(ne[3]=he=>S(y)("right")),onMouseleave:ne[4]||(ne[4]=(...he)=>S(T)&&S(T)(...he)),onClick:ne[5]||(ne[5]=Fr(he=>S(K)(S(s)+1),["stop"]))},[ht(S(Ar),null,{default:xt(()=>[ht(S(Oc))]),_:1})],42,W7e),[[la,(te.arrow==="always"||S(a))&&(r.loop||S(s)<S(A).length-1)]])]),_:1})):bt("v-if",!0),pe("div",{class:Se(S(ue)),style:or(S(_)),onTransitionend:ne[6]||(ne[6]=(...he)=>S(R)&&S(R)(...he))},[ht(S(j)),kt(te.$slots,"default")],38),te.indicatorPosition!=="none"?(X(),ve("ul",{key:2,class:Se(S(J))},[(X(!0),ve(Vn,null,Yr(S(A),(he,ce)=>Jr((X(),ve("li",{key:ce,class:Se([S(q).e("indicator"),S(q).em("indicator",te.direction),S(q).is("active",ce===S(s))]),onMouseenter:ye=>S(ie)(ce),onClick:Fr(ye=>S(P)(ce),["stop"])},[pe("button",{class:Se(S(q).e("button")),"aria-label":S(W)("el.carousel.indicator",{index:ce+1})},[S(c)?(X(),ve("span",X7e,Cn(he.props.label),1)):bt("v-if",!0)],10,Y7e)],42,q7e)),[[la,S(H)(ce)]])),128))],2)):bt("v-if",!0),r.motionBlur?(X(),ve("svg",Z7e,eUe)):bt("v-if",!0)],34))}});var iUe=kn(rUe,[["__file","carousel.vue"]]);const aUe=Ln({name:{type:String,default:""},label:{type:[String,Number],default:""}}),sUe=(t,e)=>{const n=ar($ie),r=ci(),i=.83,s=Te(),l=Te(!1),c=Te(0),a=Te(1),f=Te(!1),A=Te(!1),m=Te(!1),_=Te(!1),{isCardType:y,isVertical:T}=n;function E(N,z,Q){const j=Q-1,H=z-1,K=z+1,ie=Q/2;return z===0&&N===j?-1:z===j&&N===0?Q:N<H&&z-N>=ie?Q+1:N>K&&N-z>=ie?-2:N}function P(N,z){var Q,j;const H=S(T)?((Q=n.root.value)==null?void 0:Q.offsetHeight)||0:((j=n.root.value)==null?void 0:j.offsetWidth)||0;return m.value?H*((2-i)*(N-z)+1)/4:N<z?-(1+i)*H/4:(3+i)*H/4}function I(N,z,Q){const j=n.root.value;return j?((Q?j.offsetHeight:j.offsetWidth)||0)*(N-z):0}const F=(N,z,Q)=>{var j;const H=S(y),K=(j=n.items.value.length)!=null?j:Number.NaN,ie=N===z;!H&&!Wo(Q)&&(_.value=ie||N===Q),!ie&&K>2&&n.loop&&(N=E(N,z,K));const q=S(T);f.value=ie,H?(m.value=Math.round(Math.abs(N-z))<=1,c.value=P(N,z),a.value=S(f)?1:i):c.value=I(N,z,q),A.value=!0,ie&&s.value&&n.setContainerHeight(s.value.offsetHeight)};function R(){if(n&&S(y)){const N=n.items.value.findIndex(({uid:z})=>z===r.uid);n.setActiveItem(N)}}return kr(()=>{n.addItem({props:t,states:ua({hover:l,translate:c,scale:a,active:f,ready:A,inStage:m,animating:_}),uid:r.uid,translateItem:F})}),Rf(()=>{n.removeItem(r.uid)}),{carouselItemRef:s,active:f,animating:_,hover:l,inStage:m,isVertical:T,translate:c,isCardType:y,scale:a,ready:A,handleItemClick:R}},oUe=Be({name:"ElCarouselItem"}),lUe=Be({...oUe,props:aUe,setup(t){const e=t,n=vn("carousel"),{carouselItemRef:r,active:i,animating:s,hover:l,inStage:c,isVertical:a,translate:f,isCardType:A,scale:m,ready:_,handleItemClick:y}=sUe(e),T=le(()=>[n.e("item"),n.is("active",i.value),n.is("in-stage",c.value),n.is("hover",l.value),n.is("animating",s.value),{[n.em("item","card")]:A.value,[n.em("item","card-vertical")]:A.value&&a.value}]),E=le(()=>{const I=`${`translate${S(a)?"Y":"X"}`}(${S(f)}px)`,F=`scale(${S(m)})`;return{transform:[I,F].join(" ")}});return(P,I)=>Jr((X(),ve("div",{ref_key:"carouselItemRef",ref:r,class:Se(S(T)),style:or(S(E)),onClick:I[0]||(I[0]=(...F)=>S(y)&&S(y)(...F))},[S(A)?Jr((X(),ve("div",{key:0,class:Se(S(n).e("mask"))},null,2)),[[la,!S(i)]]):bt("v-if",!0),kt(P.$slots,"default")],6)),[[la,S(_)]])}});var Vie=kn(lUe,[["__file","carousel-item.vue"]]);const uUe=fi(iUe,{CarouselItem:Vie}),cUe=ro(Vie),Hie={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:ru,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...Vu(["ariaControls"])},Qie={[vi]:t=>Hr(t)||Or(t)||qo(t),change:t=>Hr(t)||Or(t)||qo(t)},k2=Symbol("checkboxGroupContextKey"),hUe=({model:t,isChecked:e})=>{const n=ar(k2,void 0),r=le(()=>{var s,l;const c=(s=n==null?void 0:n.max)==null?void 0:s.value,a=(l=n==null?void 0:n.min)==null?void 0:l.value;return!Wo(c)&&t.value.length>=c&&!e.value||!Wo(a)&&t.value.length<=a&&e.value});return{isDisabled:oh(le(()=>(n==null?void 0:n.disabled.value)||r.value)),isLimitDisabled:r}},dUe=(t,{model:e,isLimitExceeded:n,hasOwnLabel:r,isDisabled:i,isLabeledByFormItem:s})=>{const l=ar(k2,void 0),{formItem:c}=Nc(),{emit:a}=ci();function f(T){var E,P,I,F;return[!0,t.trueValue,t.trueLabel].includes(T)?(P=(E=t.trueValue)!=null?E:t.trueLabel)!=null?P:!0:(F=(I=t.falseValue)!=null?I:t.falseLabel)!=null?F:!1}function A(T,E){a("change",f(T),E)}function m(T){if(n.value)return;const E=T.target;a("change",f(E.checked),T)}async function _(T){n.value||!r.value&&!i.value&&s.value&&(T.composedPath().some(I=>I.tagName==="LABEL")||(e.value=f([!1,t.falseValue,t.falseLabel].includes(e.value)),await dr(),A(e.value,T)))}const y=le(()=>(l==null?void 0:l.validateEvent)||t.validateEvent);return un(()=>t.modelValue,()=>{y.value&&(c==null||c.validate("change").catch(T=>void 0))}),{handleChange:m,onClickRoot:_}},fUe=t=>{const e=Te(!1),{emit:n}=ci(),r=ar(k2,void 0),i=le(()=>Wo(r)===!1),s=Te(!1),l=le({get(){var c,a;return i.value?(c=r==null?void 0:r.modelValue)==null?void 0:c.value:(a=t.modelValue)!=null?a:e.value},set(c){var a,f;i.value&&Jn(c)?(s.value=((a=r==null?void 0:r.max)==null?void 0:a.value)!==void 0&&c.length>(r==null?void 0:r.max.value)&&c.length>l.value.length,s.value===!1&&((f=r==null?void 0:r.changeEvent)==null||f.call(r,c))):(n(vi,c),e.value=c)}});return{model:l,isGroup:i,isLimitExceeded:s}},pUe=(t,e,{model:n})=>{const r=ar(k2,void 0),i=Te(!1),s=le(()=>ty(t.value)?t.label:t.value),l=le(()=>{const A=n.value;return qo(A)?A:Jn(A)?Ai(s.value)?A.map(ja).some(m=>kc(m,s.value)):A.map(ja).includes(s.value):A!=null?A===t.trueValue||A===t.trueLabel:!!A}),c=hl(le(()=>{var A;return(A=r==null?void 0:r.size)==null?void 0:A.value}),{prop:!0}),a=hl(le(()=>{var A;return(A=r==null?void 0:r.size)==null?void 0:A.value})),f=le(()=>!!e.default||!ty(s.value));return{checkboxButtonSize:c,isChecked:l,isFocused:i,checkboxSize:a,hasOwnLabel:f,actualValue:s}},jie=(t,e)=>{const{formItem:n}=Nc(),{model:r,isGroup:i,isLimitExceeded:s}=fUe(t),{isFocused:l,isChecked:c,checkboxButtonSize:a,checkboxSize:f,hasOwnLabel:A,actualValue:m}=pUe(t,e,{model:r}),{isDisabled:_}=hUe({model:r,isChecked:c}),{inputId:y,isLabeledByFormItem:T}=rA(t,{formItemContext:n,disableIdGeneration:A,disableIdManagement:i}),{handleChange:E,onClickRoot:P}=dUe(t,{model:r,isLimitExceeded:s,hasOwnLabel:A,isDisabled:_,isLabeledByFormItem:T});return(()=>{function F(){var R,N;Jn(r.value)&&!r.value.includes(m.value)?r.value.push(m.value):r.value=(N=(R=t.trueValue)!=null?R:t.trueLabel)!=null?N:!0}t.checked&&F()})(),gu({from:"controls",replacement:"aria-controls",version:"2.8.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},le(()=>!!t.controls)),gu({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},le(()=>i.value&&ty(t.value))),gu({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},le(()=>!!t.trueLabel)),gu({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},le(()=>!!t.falseLabel)),{inputId:y,isLabeledByFormItem:T,isChecked:c,isDisabled:_,isFocused:l,checkboxButtonSize:a,checkboxSize:f,hasOwnLabel:A,model:r,actualValue:m,handleChange:E,onClickRoot:P}},AUe=["id","indeterminate","name","tabindex","disabled","true-value","false-value"],mUe=["id","indeterminate","disabled","value","name","tabindex"],gUe=Be({name:"ElCheckbox"}),vUe=Be({...gUe,props:Hie,emits:Qie,setup(t){const e=t,n=Eo(),{inputId:r,isLabeledByFormItem:i,isChecked:s,isDisabled:l,isFocused:c,checkboxSize:a,hasOwnLabel:f,model:A,actualValue:m,handleChange:_,onClickRoot:y}=jie(e,n),T=vn("checkbox"),E=le(()=>[T.b(),T.m(a.value),T.is("disabled",l.value),T.is("bordered",e.border),T.is("checked",s.value)]),P=le(()=>[T.e("input"),T.is("disabled",l.value),T.is("checked",s.value),T.is("indeterminate",e.indeterminate),T.is("focus",c.value)]);return(I,F)=>(X(),Ut(di(!S(f)&&S(i)?"span":"label"),{class:Se(S(E)),"aria-controls":I.indeterminate?I.controls||I.ariaControls:null,onClick:S(y)},{default:xt(()=>{var R,N;return[pe("span",{class:Se(S(P))},[I.trueValue||I.falseValue||I.trueLabel||I.falseLabel?Jr((X(),ve("input",{key:0,id:S(r),"onUpdate:modelValue":F[0]||(F[0]=z=>hs(A)?A.value=z:null),class:Se(S(T).e("original")),type:"checkbox",indeterminate:I.indeterminate,name:I.name,tabindex:I.tabindex,disabled:S(l),"true-value":(R=I.trueValue)!=null?R:I.trueLabel,"false-value":(N=I.falseValue)!=null?N:I.falseLabel,onChange:F[1]||(F[1]=(...z)=>S(_)&&S(_)(...z)),onFocus:F[2]||(F[2]=z=>c.value=!0),onBlur:F[3]||(F[3]=z=>c.value=!1),onClick:F[4]||(F[4]=Fr(()=>{},["stop"]))},null,42,AUe)),[[cT,S(A)]]):Jr((X(),ve("input",{key:1,id:S(r),"onUpdate:modelValue":F[5]||(F[5]=z=>hs(A)?A.value=z:null),class:Se(S(T).e("original")),type:"checkbox",indeterminate:I.indeterminate,disabled:S(l),value:S(m),name:I.name,tabindex:I.tabindex,onChange:F[6]||(F[6]=(...z)=>S(_)&&S(_)(...z)),onFocus:F[7]||(F[7]=z=>c.value=!0),onBlur:F[8]||(F[8]=z=>c.value=!1),onClick:F[9]||(F[9]=Fr(()=>{},["stop"]))},null,42,mUe)),[[cT,S(A)]]),pe("span",{class:Se(S(T).e("inner"))},null,2)],2),S(f)?(X(),ve("span",{key:0,class:Se(S(T).e("label"))},[kt(I.$slots,"default"),I.$slots.default?bt("v-if",!0):(X(),ve(Vn,{key:0},[wi(Cn(I.label),1)],64))],2)):bt("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var _Ue=kn(vUe,[["__file","checkbox.vue"]]);const yUe=["name","tabindex","disabled","true-value","false-value"],bUe=["name","tabindex","disabled","value"],wUe=Be({name:"ElCheckboxButton"}),xUe=Be({...wUe,props:Hie,emits:Qie,setup(t){const e=t,n=Eo(),{isFocused:r,isChecked:i,isDisabled:s,checkboxButtonSize:l,model:c,actualValue:a,handleChange:f}=jie(e,n),A=ar(k2,void 0),m=vn("checkbox"),_=le(()=>{var T,E,P,I;const F=(E=(T=A==null?void 0:A.fill)==null?void 0:T.value)!=null?E:"";return{backgroundColor:F,borderColor:F,color:(I=(P=A==null?void 0:A.textColor)==null?void 0:P.value)!=null?I:"",boxShadow:F?`-1px 0 0 0 ${F}`:void 0}}),y=le(()=>[m.b("button"),m.bm("button",l.value),m.is("disabled",s.value),m.is("checked",i.value),m.is("focus",r.value)]);return(T,E)=>{var P,I;return X(),ve("label",{class:Se(S(y))},[T.trueValue||T.falseValue||T.trueLabel||T.falseLabel?Jr((X(),ve("input",{key:0,"onUpdate:modelValue":E[0]||(E[0]=F=>hs(c)?c.value=F:null),class:Se(S(m).be("button","original")),type:"checkbox",name:T.name,tabindex:T.tabindex,disabled:S(s),"true-value":(P=T.trueValue)!=null?P:T.trueLabel,"false-value":(I=T.falseValue)!=null?I:T.falseLabel,onChange:E[1]||(E[1]=(...F)=>S(f)&&S(f)(...F)),onFocus:E[2]||(E[2]=F=>r.value=!0),onBlur:E[3]||(E[3]=F=>r.value=!1),onClick:E[4]||(E[4]=Fr(()=>{},["stop"]))},null,42,yUe)),[[cT,S(c)]]):Jr((X(),ve("input",{key:1,"onUpdate:modelValue":E[5]||(E[5]=F=>hs(c)?c.value=F:null),class:Se(S(m).be("button","original")),type:"checkbox",name:T.name,tabindex:T.tabindex,disabled:S(s),value:S(a),onChange:E[6]||(E[6]=(...F)=>S(f)&&S(f)(...F)),onFocus:E[7]||(E[7]=F=>r.value=!0),onBlur:E[8]||(E[8]=F=>r.value=!1),onClick:E[9]||(E[9]=Fr(()=>{},["stop"]))},null,42,bUe)),[[cT,S(c)]]),T.$slots.default||T.label?(X(),ve("span",{key:2,class:Se(S(m).be("button","inner")),style:or(S(i)?S(_):void 0)},[kt(T.$slots,"default",{},()=>[wi(Cn(T.label),1)])],6)):bt("v-if",!0)],2)}}});var Gie=kn(xUe,[["__file","checkbox-button.vue"]]);const CUe=Ln({modelValue:{type:Rt(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:ru,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},...Vu(["ariaLabel"])}),EUe={[vi]:t=>Jn(t),change:t=>Jn(t)},SUe=Be({name:"ElCheckboxGroup"}),TUe=Be({...SUe,props:CUe,emits:EUe,setup(t,{emit:e}){const n=t,r=vn("checkbox"),{formItem:i}=Nc(),{inputId:s,isLabeledByFormItem:l}=rA(n,{formItemContext:i}),c=async f=>{e(vi,f),await dr(),e("change",f)},a=le({get(){return n.modelValue},set(f){c(f)}});return Ii(k2,{...ZA(zu(n),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:a,changeEvent:c}),gu({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-checkbox-group",ref:"https://element-plus.org/en-US/component/checkbox.html"},le(()=>!!n.label)),un(()=>n.modelValue,()=>{n.validateEvent&&(i==null||i.validate("change").catch(f=>void 0))}),(f,A)=>{var m;return X(),Ut(di(f.tag),{id:S(s),class:Se(S(r).b("group")),role:"group","aria-label":S(l)?void 0:f.label||f.ariaLabel||"checkbox-group","aria-labelledby":S(l)?(m=S(i))==null?void 0:m.labelId:void 0},{default:xt(()=>[kt(f.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var Kie=kn(TUe,[["__file","checkbox-group.vue"]]);const If=fi(_Ue,{CheckboxButton:Gie,CheckboxGroup:Kie}),BUe=ro(Gie),Wie=ro(Kie),qie=Ln({modelValue:{type:[String,Number,Boolean],default:void 0},size:ru,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),MUe=Ln({...qie,border:Boolean}),Yie={[vi]:t=>Hr(t)||Or(t)||qo(t),[_s]:t=>Hr(t)||Or(t)||qo(t)},Xie=Symbol("radioGroupKey"),Zie=(t,e)=>{const n=Te(),r=ar(Xie,void 0),i=le(()=>!!r),s=le(()=>ty(t.value)?t.label:t.value),l=le({get(){return i.value?r.modelValue:t.modelValue},set(m){i.value?r.changeEvent(m):e&&e(vi,m),n.value.checked=t.modelValue===s.value}}),c=hl(le(()=>r==null?void 0:r.size)),a=oh(le(()=>r==null?void 0:r.disabled)),f=Te(!1),A=le(()=>a.value||i.value&&l.value!==s.value?-1:0);return gu({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},le(()=>i.value&&ty(t.value))),{radioRef:n,isGroup:i,radioGroup:r,focus:f,size:c,disabled:a,tabIndex:A,modelValue:l,actualValue:s}},IUe=["value","name","disabled"],LUe=Be({name:"ElRadio"}),PUe=Be({...LUe,props:MUe,emits:Yie,setup(t,{emit:e}){const n=t,r=vn("radio"),{radioRef:i,radioGroup:s,focus:l,size:c,disabled:a,modelValue:f,actualValue:A}=Zie(n,e);function m(){dr(()=>e("change",f.value))}return(_,y)=>{var T;return X(),ve("label",{class:Se([S(r).b(),S(r).is("disabled",S(a)),S(r).is("focus",S(l)),S(r).is("bordered",_.border),S(r).is("checked",S(f)===S(A)),S(r).m(S(c))])},[pe("span",{class:Se([S(r).e("input"),S(r).is("disabled",S(a)),S(r).is("checked",S(f)===S(A))])},[Jr(pe("input",{ref_key:"radioRef",ref:i,"onUpdate:modelValue":y[0]||(y[0]=E=>hs(f)?f.value=E:null),class:Se(S(r).e("original")),value:S(A),name:_.name||((T=S(s))==null?void 0:T.name),disabled:S(a),type:"radio",onFocus:y[1]||(y[1]=E=>l.value=!0),onBlur:y[2]||(y[2]=E=>l.value=!1),onChange:m,onClick:y[3]||(y[3]=Fr(()=>{},["stop"]))},null,42,IUe),[[Hee,S(f)]]),pe("span",{class:Se(S(r).e("inner"))},null,2)],2),pe("span",{class:Se(S(r).e("label")),onKeydown:y[4]||(y[4]=Fr(()=>{},["stop"]))},[kt(_.$slots,"default",{},()=>[wi(Cn(_.label),1)])],34)],2)}}});var FUe=kn(PUe,[["__file","radio.vue"]]);const kUe=Ln({...qie}),RUe=["value","name","disabled"],OUe=Be({name:"ElRadioButton"}),DUe=Be({...OUe,props:kUe,setup(t){const e=t,n=vn("radio"),{radioRef:r,focus:i,size:s,disabled:l,modelValue:c,radioGroup:a,actualValue:f}=Zie(e),A=le(()=>({backgroundColor:(a==null?void 0:a.fill)||"",borderColor:(a==null?void 0:a.fill)||"",boxShadow:a!=null&&a.fill?`-1px 0 0 0 ${a.fill}`:"",color:(a==null?void 0:a.textColor)||""}));return(m,_)=>{var y;return X(),ve("label",{class:Se([S(n).b("button"),S(n).is("active",S(c)===S(f)),S(n).is("disabled",S(l)),S(n).is("focus",S(i)),S(n).bm("button",S(s))])},[Jr(pe("input",{ref_key:"radioRef",ref:r,"onUpdate:modelValue":_[0]||(_[0]=T=>hs(c)?c.value=T:null),class:Se(S(n).be("button","original-radio")),value:S(f),type:"radio",name:m.name||((y=S(a))==null?void 0:y.name),disabled:S(l),onFocus:_[1]||(_[1]=T=>i.value=!0),onBlur:_[2]||(_[2]=T=>i.value=!1),onClick:_[3]||(_[3]=Fr(()=>{},["stop"]))},null,42,RUe),[[Hee,S(c)]]),pe("span",{class:Se(S(n).be("button","inner")),style:or(S(c)===S(f)?S(A):{}),onKeydown:_[4]||(_[4]=Fr(()=>{},["stop"]))},[kt(m.$slots,"default",{},()=>[wi(Cn(m.label),1)])],38)],2)}}});var Jie=kn(DUe,[["__file","radio-button.vue"]]);const NUe=Ln({id:{type:String,default:void 0},size:ru,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},...Vu(["ariaLabel"])}),UUe=Yie,zUe=["id","aria-label","aria-labelledby"],$Ue=Be({name:"ElRadioGroup"}),VUe=Be({...$Ue,props:NUe,emits:UUe,setup(t,{emit:e}){const n=t,r=vn("radio"),i=ac(),s=Te(),{formItem:l}=Nc(),{inputId:c,isLabeledByFormItem:a}=rA(n,{formItemContext:l}),f=m=>{e(vi,m),dr(()=>e("change",m))};kr(()=>{const m=s.value.querySelectorAll("[type=radio]"),_=m[0];!Array.from(m).some(y=>y.checked)&&_&&(_.tabIndex=0)});const A=le(()=>n.name||i.value);return Ii(Xie,ua({...zu(n),changeEvent:f,name:A})),un(()=>n.modelValue,()=>{n.validateEvent&&(l==null||l.validate("change").catch(m=>void 0))}),gu({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-radio-group",ref:"https://element-plus.org/en-US/component/radio.html"},le(()=>!!n.label)),(m,_)=>(X(),ve("div",{id:S(c),ref_key:"radioGroupRef",ref:s,class:Se(S(r).b("group")),role:"radiogroup","aria-label":S(a)?void 0:m.label||m.ariaLabel||"radio-group","aria-labelledby":S(a)?S(l).labelId:void 0},[kt(m.$slots,"default")],10,zUe))}});var eae=kn(VUe,[["__file","radio-group.vue"]]);const tae=fi(FUe,{RadioButton:Jie,RadioGroup:eae}),HUe=ro(eae),QUe=ro(Jie);var jUe=Be({name:"NodeContent",setup(){return{ns:vn("cascader-node")}},render(){const{ns:t}=this,{node:e,panel:n}=this.$parent,{data:r,label:i}=e,{renderLabelFn:s}=n;return wr("span",{class:t.e("label")},s?s({node:e,data:r}):i)}});const b9=Symbol(),GUe=Be({name:"ElCascaderNode",components:{ElCheckbox:If,ElRadio:tae,NodeContent:jUe,ElIcon:Ar,Check:I2,Loading:l0,ArrowRight:Oc},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(t,{emit:e}){const n=ar(b9),r=vn("cascader-node"),i=le(()=>n.isHoverMenu),s=le(()=>n.config.multiple),l=le(()=>n.config.checkStrictly),c=le(()=>{var Q;return(Q=n.checkedNodes[0])==null?void 0:Q.uid}),a=le(()=>t.node.isDisabled),f=le(()=>t.node.isLeaf),A=le(()=>l.value&&!f.value||!a.value),m=le(()=>y(n.expandingNode)),_=le(()=>l.value&&n.checkedNodes.some(y)),y=Q=>{var j;const{level:H,uid:K}=t.node;return((j=Q==null?void 0:Q.pathNodes[H-1])==null?void 0:j.uid)===K},T=()=>{m.value||n.expandNode(t.node)},E=Q=>{const{node:j}=t;Q!==j.checked&&n.handleCheckChange(j,Q)},P=()=>{n.lazyLoad(t.node,()=>{f.value||T()})},I=Q=>{i.value&&(F(),!f.value&&e("expand",Q))},F=()=>{const{node:Q}=t;!A.value||Q.loading||(Q.loaded?T():P())},R=()=>{i.value&&!f.value||(f.value&&!a.value&&!l.value&&!s.value?z(!0):F())},N=Q=>{l.value?(E(Q),t.node.loaded&&T()):z(Q)},z=Q=>{t.node.loaded?(E(Q),!l.value&&T()):P()};return{panel:n,isHoverMenu:i,multiple:s,checkStrictly:l,checkedNodeId:c,isDisabled:a,isLeaf:f,expandable:A,inExpandingPath:m,inCheckedPath:_,ns:r,handleHoverExpand:I,handleExpand:F,handleClick:R,handleCheck:z,handleSelectCheck:N}}}),KUe=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],WUe=pe("span",null,null,-1);function qUe(t,e,n,r,i,s){const l=Kr("el-checkbox"),c=Kr("el-radio"),a=Kr("check"),f=Kr("el-icon"),A=Kr("node-content"),m=Kr("loading"),_=Kr("arrow-right");return X(),ve("li",{id:`${t.menuId}-${t.node.uid}`,role:"menuitem","aria-haspopup":!t.isLeaf,"aria-owns":t.isLeaf?null:t.menuId,"aria-expanded":t.inExpandingPath,tabindex:t.expandable?-1:void 0,class:Se([t.ns.b(),t.ns.is("selectable",t.checkStrictly),t.ns.is("active",t.node.checked),t.ns.is("disabled",!t.expandable),t.inExpandingPath&&"in-active-path",t.inCheckedPath&&"in-checked-path"]),onMouseenter:e[2]||(e[2]=(...y)=>t.handleHoverExpand&&t.handleHoverExpand(...y)),onFocus:e[3]||(e[3]=(...y)=>t.handleHoverExpand&&t.handleHoverExpand(...y)),onClick:e[4]||(e[4]=(...y)=>t.handleClick&&t.handleClick(...y))},[bt(" prefix "),t.multiple?(X(),Ut(l,{key:0,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:t.isDisabled,onClick:e[0]||(e[0]=Fr(()=>{},["stop"])),"onUpdate:modelValue":t.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):t.checkStrictly?(X(),Ut(c,{key:1,"model-value":t.checkedNodeId,label:t.node.uid,disabled:t.isDisabled,"onUpdate:modelValue":t.handleSelectCheck,onClick:e[1]||(e[1]=Fr(()=>{},["stop"]))},{default:xt(()=>[bt(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),WUe]),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):t.isLeaf&&t.node.checked?(X(),Ut(f,{key:2,class:Se(t.ns.e("prefix"))},{default:xt(()=>[ht(a)]),_:1},8,["class"])):bt("v-if",!0),bt(" content "),ht(A),bt(" postfix "),t.isLeaf?bt("v-if",!0):(X(),ve(Vn,{key:3},[t.node.loading?(X(),Ut(f,{key:0,class:Se([t.ns.is("loading"),t.ns.e("postfix")])},{default:xt(()=>[ht(m)]),_:1},8,["class"])):(X(),Ut(f,{key:1,class:Se(["arrow-right",t.ns.e("postfix")])},{default:xt(()=>[ht(_)]),_:1},8,["class"]))],64))],42,KUe)}var YUe=kn(GUe,[["render",qUe],["__file","node.vue"]]);const XUe=Be({name:"ElCascaderMenu",components:{Loading:l0,ElIcon:Ar,ElScrollbar:c0,ElCascaderNode:YUe},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(t){const e=ci(),n=vn("cascader-menu"),{t:r}=ca(),i=ac();let s=null,l=null;const c=ar(b9),a=Te(null),f=le(()=>!t.nodes.length),A=le(()=>!c.initialLoaded),m=le(()=>`${i.value}-${t.index}`),_=P=>{s=P.target},y=P=>{if(!(!c.isHoverMenu||!s||!a.value))if(s.contains(P.target)){T();const I=e.vnode.el,{left:F}=I.getBoundingClientRect(),{offsetWidth:R,offsetHeight:N}=I,z=P.clientX-F,Q=s.offsetTop,j=Q+s.offsetHeight;a.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${z} ${Q} L${R} 0 V${Q} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${z} ${j} L${R} ${N} V${j} Z" />
        `}else l||(l=window.setTimeout(E,c.config.hoverThreshold))},T=()=>{l&&(clearTimeout(l),l=null)},E=()=>{a.value&&(a.value.innerHTML="",T())};return{ns:n,panel:c,hoverZone:a,isEmpty:f,isLoading:A,menuId:m,t:r,handleExpand:_,handleMouseMove:y,clearHoverZone:E}}});function ZUe(t,e,n,r,i,s){const l=Kr("el-cascader-node"),c=Kr("loading"),a=Kr("el-icon"),f=Kr("el-scrollbar");return X(),Ut(f,{key:t.menuId,tag:"ul",role:"menu",class:Se(t.ns.b()),"wrap-class":t.ns.e("wrap"),"view-class":[t.ns.e("list"),t.ns.is("empty",t.isEmpty)],onMousemove:t.handleMouseMove,onMouseleave:t.clearHoverZone},{default:xt(()=>{var A;return[(X(!0),ve(Vn,null,Yr(t.nodes,m=>(X(),Ut(l,{key:m.uid,node:m,"menu-id":t.menuId,onExpand:t.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),t.isLoading?(X(),ve("div",{key:0,class:Se(t.ns.e("empty-text"))},[ht(a,{size:"14",class:Se(t.ns.is("loading"))},{default:xt(()=>[ht(c)]),_:1},8,["class"]),wi(" "+Cn(t.t("el.cascader.loading")),1)],2)):t.isEmpty?(X(),ve("div",{key:1,class:Se(t.ns.e("empty-text"))},Cn(t.t("el.cascader.noData")),3)):(A=t.panel)!=null&&A.isHoverMenu?(X(),ve("svg",{key:2,ref:"hoverZone",class:Se(t.ns.e("hover-zone"))},null,2)):bt("v-if",!0)]}),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var JUe=kn(XUe,[["render",ZUe],["__file","menu.vue"]]);let eze=0;const tze=t=>{const e=[t];let{parent:n}=t;for(;n;)e.unshift(n),n=n.parent;return e};let Qk=class jk{constructor(e,n,r,i=!1){this.data=e,this.config=n,this.parent=r,this.root=i,this.uid=eze++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:s,label:l,children:c}=n,a=e[c],f=tze(this);this.level=i?0:r?r.level+1:1,this.value=e[s],this.label=e[l],this.pathNodes=f,this.pathValues=f.map(A=>A.value),this.pathLabels=f.map(A=>A.label),this.childrenData=a,this.children=(a||[]).map(A=>new jk(A,n,this)),this.loaded=!n.lazy||this.isLeaf||!ff(a)}get isDisabled(){const{data:e,parent:n,config:r}=this,{disabled:i,checkStrictly:s}=r;return(Dr(i)?i(e,this):!!e[i])||!s&&(n==null?void 0:n.isDisabled)}get isLeaf(){const{data:e,config:n,childrenData:r,loaded:i}=this,{lazy:s,leaf:l}=n,c=Dr(l)?l(e,this):e[l];return Wo(c)?s&&!i?!1:!(Array.isArray(r)&&r.length):!!c}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(e){const{childrenData:n,children:r}=this,i=new jk(e,this.config,this);return Array.isArray(n)?n.push(e):this.childrenData=[e],r.push(i),i}calcText(e,n){const r=e?this.pathLabels.join(n):this.label;return this.text=r,r}broadcast(e,...n){const r=`onParent${qA(e)}`;this.children.forEach(i=>{i&&(i.broadcast(e,...n),i[r]&&i[r](...n))})}emit(e,...n){const{parent:r}=this,i=`onChild${qA(e)}`;r&&(r[i]&&r[i](...n),r.emit(e,...n))}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,n=e.filter(i=>!i.isDisabled),r=n.length?n.every(i=>i.checked):!1;this.setCheckState(r)}setCheckState(e){const n=this.children.length,r=this.children.reduce((i,s)=>{const l=s.checked?1:s.indeterminate?.5:0;return i+l},0);this.checked=this.loaded&&this.children.filter(i=>!i.isDisabled).every(i=>i.loaded&&i.checked)&&e,this.indeterminate=this.loaded&&r!==n&&r>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:n,multiple:r}=this.config;n||!r?this.checked=e:(this.broadcast("check",e),this.setCheckState(e),this.emit("check"))}};const Gk=(t,e)=>t.reduce((n,r)=>(r.isLeaf?n.push(r):(!e&&n.push(r),n=n.concat(Gk(r.children,e))),n),[]);class NK{constructor(e,n){this.config=n;const r=(e||[]).map(i=>new Qk(i,this.config));this.nodes=r,this.allNodes=Gk(r,!1),this.leafNodes=Gk(r,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,n){const r=n?n.appendChild(e):new Qk(e,this.config);n||this.nodes.push(r),this.allNodes.push(r),r.isLeaf&&this.leafNodes.push(r)}appendNodes(e,n){e.forEach(r=>this.appendNode(r,n))}getNodeByValue(e,n=!1){return!e&&e!==0?null:this.getFlattedNodes(n).find(i=>kc(i.value,e)||kc(i.pathValues,e))||null}getSameNode(e){return e&&this.getFlattedNodes(!1).find(({value:r,level:i})=>kc(e.value,r)&&e.level===i)||null}}const nae=Ln({modelValue:{type:Rt([Number,String,Array])},options:{type:Rt(Array),default:()=>[]},props:{type:Rt(Object),default:()=>({})}}),nze={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:Va,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},rze=t=>le(()=>({...nze,...t.props})),UK=t=>{if(!t)return 0;const e=t.id.split("-");return Number(e[e.length-2])},ize=t=>{if(!t)return;const e=t.querySelector("input");e?e.click():Xte(t)&&t.click()},aze=(t,e)=>{const n=e.slice(0),r=n.map(s=>s.uid),i=t.reduce((s,l)=>{const c=r.indexOf(l.uid);return c>-1&&(s.push(l),n.splice(c,1),r.splice(c,1)),s},[]);return i.push(...n),i},sze=Be({name:"ElCascaderPanel",components:{ElCascaderMenu:JUe},props:{...nae,border:{type:Boolean,default:!0},renderLabel:Function},emits:[vi,_s,"close","expand-change"],setup(t,{emit:e,slots:n}){let r=!1;const i=vn("cascader"),s=rze(t);let l=null;const c=Te(!0),a=Te([]),f=Te(null),A=Te([]),m=Te(null),_=Te([]),y=le(()=>s.value.expandTrigger==="hover"),T=le(()=>t.renderLabel||n.default),E=()=>{const{options:W}=t,ee=s.value;r=!1,l=new NK(W,ee),A.value=[l.getNodes()],ee.lazy&&ff(t.options)?(c.value=!1,P(void 0,ue=>{ue&&(l=new NK(ue,ee),A.value=[l.getNodes()]),c.value=!0,H(!1,!0)})):H(!1,!0)},P=(W,ee)=>{const ue=s.value;W=W||new Qk({},ue,void 0,!0),W.loading=!0;const J=te=>{const ne=W,he=ne.root?null:ne;te&&(l==null||l.appendNodes(te,he)),ne.loading=!1,ne.loaded=!0,ne.childrenData=ne.childrenData||[],ee&&ee(te)};ue.lazyLoad(W,J)},I=(W,ee)=>{var ue;const{level:J}=W,te=A.value.slice(0,J);let ne;W.isLeaf?ne=W.pathNodes[J-2]:(ne=W,te.push(W.children)),((ue=m.value)==null?void 0:ue.uid)!==(ne==null?void 0:ne.uid)&&(m.value=W,A.value=te,!ee&&e("expand-change",(W==null?void 0:W.pathValues)||[]))},F=(W,ee,ue=!0)=>{const{checkStrictly:J,multiple:te}=s.value,ne=_.value[0];r=!0,!te&&(ne==null||ne.doCheck(!1)),W.doCheck(ee),j(),ue&&!te&&!J&&e("close"),!ue&&!te&&!J&&R(W)},R=W=>{W&&(W=W.parent,R(W),W&&I(W))},N=W=>l==null?void 0:l.getFlattedNodes(W),z=W=>{var ee;return(ee=N(W))==null?void 0:ee.filter(ue=>ue.checked!==!1)},Q=()=>{_.value.forEach(W=>W.doCheck(!1)),j(),A.value=A.value.slice(0,1),m.value=null,e("expand-change",[])},j=()=>{var W;const{checkStrictly:ee,multiple:ue}=s.value,J=_.value,te=z(!ee),ne=aze(J,te),he=ne.map(ce=>ce.valueByOption);_.value=ne,f.value=ue?he:(W=he[0])!=null?W:null},H=(W=!1,ee=!1)=>{const{modelValue:ue}=t,{lazy:J,multiple:te,checkStrictly:ne}=s.value,he=!ne;if(!(!c.value||r||!ee&&kc(ue,f.value)))if(J&&!W){const ye=DG(rEe(Id(ue))).map(Ee=>l==null?void 0:l.getNodeByValue(Ee)).filter(Ee=>!!Ee&&!Ee.loaded&&!Ee.loading);ye.length?ye.forEach(Ee=>{P(Ee,()=>H(!1,ee))}):H(!0,ee)}else{const ce=te?Id(ue):[ue],ye=DG(ce.map(Ee=>l==null?void 0:l.getNodeByValue(Ee,he)));K(ye,ee),f.value=mT(ue)}},K=(W,ee=!0)=>{const{checkStrictly:ue}=s.value,J=_.value,te=W.filter(ce=>!!ce&&(ue||ce.isLeaf)),ne=l==null?void 0:l.getSameNode(m.value),he=ee&&ne||te[0];he?he.pathNodes.forEach(ce=>I(ce,!0)):m.value=null,J.forEach(ce=>ce.doCheck(!1)),ua(te).forEach(ce=>ce.doCheck(!0)),_.value=te,dr(ie)},ie=()=>{ta&&a.value.forEach(W=>{const ee=W==null?void 0:W.$el;if(ee){const ue=ee.querySelector(`.${i.namespace.value}-scrollbar__wrap`),J=ee.querySelector(`.${i.b("node")}.${i.is("active")}`)||ee.querySelector(`.${i.b("node")}.in-active-path`);Kne(ue,J)}})},q=W=>{const ee=W.target,{code:ue}=W;switch(ue){case Tr.up:case Tr.down:{W.preventDefault();const J=ue===Tr.up?-1:1;uS(Zte(ee,J,`.${i.b("node")}[tabindex="-1"]`));break}case Tr.left:{W.preventDefault();const J=a.value[UK(ee)-1],te=J==null?void 0:J.$el.querySelector(`.${i.b("node")}[aria-expanded="true"]`);uS(te);break}case Tr.right:{W.preventDefault();const J=a.value[UK(ee)+1],te=J==null?void 0:J.$el.querySelector(`.${i.b("node")}[tabindex="-1"]`);uS(te);break}case Tr.enter:ize(ee);break}};return Ii(b9,ua({config:s,expandingNode:m,checkedNodes:_,isHoverMenu:y,initialLoaded:c,renderLabelFn:T,lazyLoad:P,expandNode:I,handleCheckChange:F})),un([s,()=>t.options],E,{deep:!0,immediate:!0}),un(()=>t.modelValue,()=>{r=!1,H()},{deep:!0}),un(()=>f.value,W=>{kc(W,t.modelValue)||(e(vi,W),e(_s,W))}),VD(()=>a.value=[]),kr(()=>!ff(t.modelValue)&&H()),{ns:i,menuList:a,menus:A,checkedNodes:_,handleKeyDown:q,handleCheckChange:F,getFlattedNodes:N,getCheckedNodes:z,clearCheckedNodes:Q,calculateCheckedValue:j,scrollToExpandingNode:ie}}});function oze(t,e,n,r,i,s){const l=Kr("el-cascader-menu");return X(),ve("div",{class:Se([t.ns.b("panel"),t.ns.is("bordered",t.border)]),onKeydown:e[0]||(e[0]=(...c)=>t.handleKeyDown&&t.handleKeyDown(...c))},[(X(!0),ve(Vn,null,Yr(t.menus,(c,a)=>(X(),Ut(l,{key:a,ref_for:!0,ref:f=>t.menuList[a]=f,index:a,nodes:[...c]},null,8,["index","nodes"]))),128))],34)}var gS=kn(sze,[["render",oze],["__file","index.vue"]]);gS.install=t=>{t.component(gS.name,gS)};const rae=gS,lze=rae,hB=Ln({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:Sm},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),uze={close:t=>t instanceof MouseEvent,click:t=>t instanceof MouseEvent},cze=Be({name:"ElTag"}),hze=Be({...cze,props:hB,emits:uze,setup(t,{emit:e}){const n=t,r=hl(),i=vn("tag"),s=le(()=>{const{type:a,hit:f,effect:A,closable:m,round:_}=n;return[i.b(),i.is("closable",m),i.m(a||"primary"),i.m(r.value),i.m(A),i.is("hit",f),i.is("round",_)]}),l=a=>{e("close",a)},c=a=>{e("click",a)};return(a,f)=>a.disableTransitions?(X(),ve("span",{key:0,class:Se(S(s)),style:or({backgroundColor:a.color}),onClick:c},[pe("span",{class:Se(S(i).e("content"))},[kt(a.$slots,"default")],2),a.closable?(X(),Ut(S(Ar),{key:0,class:Se(S(i).e("close")),onClick:Fr(l,["stop"])},{default:xt(()=>[ht(S(Tf))]),_:1},8,["class","onClick"])):bt("v-if",!0)],6)):(X(),Ut(co,{key:1,name:`${S(i).namespace.value}-zoom-in-center`,appear:""},{default:xt(()=>[pe("span",{class:Se(S(s)),style:or({backgroundColor:a.color}),onClick:c},[pe("span",{class:Se(S(i).e("content"))},[kt(a.$slots,"default")],2),a.closable?(X(),Ut(S(Ar),{key:0,class:Se(S(i).e("close")),onClick:Fr(l,["stop"])},{default:xt(()=>[ht(S(Tf))]),_:1},8,["class","onClick"])):bt("v-if",!0)],6)]),_:3},8,["name"]))}});var dze=kn(hze,[["__file","tag.vue"]]);const NC=fi(dze),fze=Ln({...nae,size:ru,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:Rt(Function),default:(t,e)=>t.text.includes(e)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:Rt(Function),default:()=>!0},popperClass:{type:String,default:""},teleported:du.teleported,tagType:{...hB.type,default:"info"},validateEvent:{type:Boolean,default:!0},...F2}),pze={[vi]:t=>!0,[_s]:t=>!0,focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,visibleChange:t=>qo(t),expandChange:t=>!!t,removeTag:t=>!!t},Aze={key:0},mze=["placeholder","onKeydown"],gze=["onClick"],vze="ElCascader",_ze=Be({name:vze}),yze=Be({..._ze,props:fze,emits:pze,setup(t,{expose:e,emit:n}){const r=t,i={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:it})=>{const{modifiersData:Mt,placement:at}=it;["right","left","bottom","top"].includes(at)||(Mt.arrow.x=35)},requires:["arrow"]}]},s=py();let l=0,c=0;const a=vn("cascader"),f=vn("input"),{t:A}=ca(),{form:m,formItem:_}=Nc(),{valueOnClear:y}=oB(r),T=Te(null),E=Te(null),P=Te(null),I=Te(null),F=Te(null),R=Te(!1),N=Te(!1),z=Te(!1),Q=Te(!1),j=Te(""),H=Te(""),K=Te([]),ie=Te([]),q=Te([]),W=Te(!1),ee=le(()=>s.style),ue=le(()=>r.disabled||(m==null?void 0:m.disabled)),J=le(()=>r.placeholder||A("el.cascader.placeholder")),te=le(()=>H.value||K.value.length>0||W.value?"":J.value),ne=hl(),he=le(()=>["small"].includes(ne.value)?"small":"default"),ce=le(()=>!!r.props.multiple),ye=le(()=>!r.filterable||ce.value),Ee=le(()=>ce.value?H.value:j.value),se=le(()=>{var it;return((it=I.value)==null?void 0:it.checkedNodes)||[]}),oe=le(()=>!r.clearable||ue.value||z.value||!N.value?!1:!!se.value.length),_e=le(()=>{const{showAllLevels:it,separator:Mt}=r,at=se.value;return at.length?ce.value?"":at[0].calcText(it,Mt):""}),Ue=le(()=>(_==null?void 0:_.validateState)||""),Le=le({get(){return mT(r.modelValue)},set(it){const Mt=it||y.value;n(vi,Mt),n(_s,Mt),r.validateEvent&&(_==null||_.validate("change").catch(at=>void 0))}}),be=le(()=>[a.b(),a.m(ne.value),a.is("disabled",ue.value),s.class]),Re=le(()=>[f.e("icon"),"icon-arrow-down",a.is("reverse",R.value)]),Qe=le(()=>a.is("focus",R.value||Q.value)),Je=le(()=>{var it,Mt;return(Mt=(it=T.value)==null?void 0:it.popperRef)==null?void 0:Mt.contentRef}),nt=it=>{var Mt,at,et;ue.value||(it=it??!R.value,it!==R.value&&(R.value=it,(at=(Mt=E.value)==null?void 0:Mt.input)==null||at.setAttribute("aria-expanded",`${it}`),it?(Ve(),dr((et=I.value)==null?void 0:et.scrollToExpandingNode)):r.filterable&&Nt(),n("visibleChange",it)))},Ve=()=>{dr(()=>{var it;(it=T.value)==null||it.updatePopper()})},Pe=()=>{z.value=!1},Ge=it=>{const{showAllLevels:Mt,separator:at}=r;return{node:it,key:it.uid,text:it.calcText(Mt,at),hitState:!1,closable:!ue.value&&!it.isDisabled,isCollapseTag:!1}},Ne=it=>{var Mt;const at=it.node;at.doCheck(!1),(Mt=I.value)==null||Mt.calculateCheckedValue(),n("removeTag",at.valueByOption)},je=()=>{if(!ce.value)return;const it=se.value,Mt=[],at=[];if(it.forEach(et=>at.push(Ge(et))),ie.value=at,it.length){it.slice(0,r.maxCollapseTags).forEach(sn=>Mt.push(Ge(sn)));const et=it.slice(r.maxCollapseTags),St=et.length;St&&(r.collapseTags?Mt.push({key:-1,text:`+ ${St}`,closable:!1,isCollapseTag:!0}):et.forEach(sn=>Mt.push(Ge(sn))))}K.value=Mt},Ye=()=>{var it,Mt;const{filterMethod:at,showAllLevels:et,separator:St}=r,sn=(Mt=(it=I.value)==null?void 0:it.getFlattedNodes(!r.props.checkStrictly))==null?void 0:Mt.filter(bn=>bn.isDisabled?!1:(bn.calcText(et,St),at(bn,Ee.value)));ce.value&&(K.value.forEach(bn=>{bn.hitState=!1}),ie.value.forEach(bn=>{bn.hitState=!1})),z.value=!0,q.value=sn,Ve()},vt=()=>{var it;let Mt;z.value&&F.value?Mt=F.value.$el.querySelector(`.${a.e("suggestion-item")}`):Mt=(it=I.value)==null?void 0:it.$el.querySelector(`.${a.b("node")}[tabindex="-1"]`),Mt&&(Mt.focus(),!z.value&&Mt.click())},Lt=()=>{var it,Mt;const at=(it=E.value)==null?void 0:it.input,et=P.value,St=(Mt=F.value)==null?void 0:Mt.$el;if(!(!ta||!at)){if(St){const sn=St.querySelector(`.${a.e("suggestion-list")}`);sn.style.minWidth=`${at.offsetWidth}px`}if(et){const{offsetHeight:sn}=et,bn=K.value.length>0?`${Math.max(sn+6,l)}px`:`${l}px`;at.style.height=bn,Ve()}}},Et=it=>{var Mt;return(Mt=I.value)==null?void 0:Mt.getCheckedNodes(it)},Vt=it=>{Ve(),n("expandChange",it)},_t=it=>{var Mt;const at=(Mt=it.target)==null?void 0:Mt.value;if(it.type==="compositionend")W.value=!1,dr(()=>Pt(at));else{const et=at[at.length-1]||"";W.value=!jN(et)}},qt=it=>{if(!W.value)switch(it.code){case Tr.enter:nt();break;case Tr.down:nt(!0),dr(vt),it.preventDefault();break;case Tr.esc:R.value===!0&&(it.preventDefault(),it.stopPropagation(),nt(!1));break;case Tr.tab:nt(!1);break}},tn=()=>{var it;(it=I.value)==null||it.clearCheckedNodes(),!R.value&&r.filterable&&Nt(),nt(!1)},Nt=()=>{const{value:it}=_e;j.value=it,H.value=it},wt=it=>{var Mt,at;const{checked:et}=it;ce.value?(Mt=I.value)==null||Mt.handleCheckChange(it,!et,!1):(!et&&((at=I.value)==null||at.handleCheckChange(it,!0,!1)),nt(!1))},De=it=>{const Mt=it.target,{code:at}=it;switch(at){case Tr.up:case Tr.down:{const et=at===Tr.up?-1:1;uS(Zte(Mt,et,`.${a.e("suggestion-item")}[tabindex="-1"]`));break}case Tr.enter:Mt.click();break}},We=()=>{const it=K.value,Mt=it[it.length-1];c=H.value?0:c+1,!(!Mt||!c||r.collapseTags&&it.length>1)&&(Mt.hitState?Ne(Mt):Mt.hitState=!0)},ut=it=>{const Mt=it.target,at=a.e("search-input");Mt.className===at&&(Q.value=!0),n("focus",it)},It=it=>{Q.value=!1,n("blur",it)},Xe=$h(()=>{const{value:it}=Ee;if(!it)return;const Mt=r.beforeFilter(it);mC(Mt)?Mt.then(Ye).catch(()=>{}):Mt!==!1?Ye():Pe()},r.debounce),Pt=(it,Mt)=>{!R.value&&nt(!0),!(Mt!=null&&Mt.isComposing)&&(it?Xe():Pe())},Bt=it=>Number.parseFloat(L2e(f.cssVarName("input-height"),it).value)-2;return un(z,Ve),un([se,ue],je),un(K,()=>{dr(()=>Lt())}),un(ne,async()=>{await dr();const it=E.value.input;l=Bt(it)||l,Lt()}),un(_e,Nt,{immediate:!0}),kr(()=>{const it=E.value.input,Mt=Bt(it);l=it.offsetHeight||Mt,eo(it,Lt)}),e({getCheckedNodes:Et,cascaderPanelRef:I,togglePopperVisible:nt,contentRef:Je}),(it,Mt)=>(X(),Ut(S(Dc),{ref_key:"tooltipRef",ref:T,visible:R.value,teleported:it.teleported,"popper-class":[S(a).e("dropdown"),it.popperClass],"popper-options":i,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${S(a).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:"",onHide:Pe},{default:xt(()=>[Jr((X(),ve("div",{class:Se(S(be)),style:or(S(ee)),onClick:Mt[5]||(Mt[5]=()=>nt(S(ye)?void 0:!0)),onKeydown:qt,onMouseenter:Mt[6]||(Mt[6]=at=>N.value=!0),onMouseleave:Mt[7]||(Mt[7]=at=>N.value=!1)},[ht(S(Pc),{ref_key:"input",ref:E,modelValue:j.value,"onUpdate:modelValue":Mt[1]||(Mt[1]=at=>j.value=at),placeholder:S(te),readonly:S(ye),disabled:S(ue),"validate-event":!1,size:S(ne),class:Se(S(Qe)),tabindex:S(ce)&&it.filterable&&!S(ue)?-1:void 0,onCompositionstart:_t,onCompositionupdate:_t,onCompositionend:_t,onFocus:ut,onBlur:It,onInput:Pt},{suffix:xt(()=>[S(oe)?(X(),Ut(S(Ar),{key:"clear",class:Se([S(f).e("icon"),"icon-circle-close"]),onClick:Fr(tn,["stop"])},{default:xt(()=>[ht(S(o0))]),_:1},8,["class","onClick"])):(X(),Ut(S(Ar),{key:"arrow-down",class:Se(S(Re)),onClick:Mt[0]||(Mt[0]=Fr(at=>nt(),["stop"]))},{default:xt(()=>[ht(S(Em))]),_:1},8,["class"]))]),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","tabindex"]),S(ce)?(X(),ve("div",{key:0,ref_key:"tagWrapper",ref:P,class:Se([S(a).e("tags"),S(a).is("validate",!!S(Ue))])},[(X(!0),ve(Vn,null,Yr(K.value,at=>(X(),Ut(S(NC),{key:at.key,type:it.tagType,size:S(he),hit:at.hitState,closable:at.closable,"disable-transitions":"",onClose:et=>Ne(at)},{default:xt(()=>[at.isCollapseTag===!1?(X(),ve("span",Aze,Cn(at.text),1)):(X(),Ut(S(Dc),{key:1,disabled:R.value||!it.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:xt(()=>[pe("span",null,Cn(at.text),1)]),content:xt(()=>[pe("div",{class:Se(S(a).e("collapse-tags"))},[(X(!0),ve(Vn,null,Yr(ie.value.slice(it.maxCollapseTags),(et,St)=>(X(),ve("div",{key:St,class:Se(S(a).e("collapse-tag"))},[(X(),Ut(S(NC),{key:et.key,class:"in-tooltip",type:it.tagType,size:S(he),hit:et.hitState,closable:et.closable,"disable-transitions":"",onClose:sn=>Ne(et)},{default:xt(()=>[pe("span",null,Cn(et.text),1)]),_:2},1032,["type","size","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","hit","closable","onClose"]))),128)),it.filterable&&!S(ue)?Jr((X(),ve("input",{key:0,"onUpdate:modelValue":Mt[2]||(Mt[2]=at=>H.value=at),type:"text",class:Se(S(a).e("search-input")),placeholder:S(_e)?"":S(J),onInput:Mt[3]||(Mt[3]=at=>Pt(H.value,at)),onClick:Mt[4]||(Mt[4]=Fr(at=>nt(!0),["stop"])),onKeydown:Qa(We,["delete"]),onCompositionstart:_t,onCompositionupdate:_t,onCompositionend:_t,onFocus:ut,onBlur:It},null,42,mze)),[[KD,H.value]]):bt("v-if",!0)],2)):bt("v-if",!0)],38)),[[S(Xg),()=>nt(!1),S(Je)]])]),content:xt(()=>[Jr(ht(S(rae),{ref_key:"cascaderPanelRef",ref:I,modelValue:S(Le),"onUpdate:modelValue":Mt[8]||(Mt[8]=at=>hs(Le)?Le.value=at:null),options:it.options,props:r.props,border:!1,"render-label":it.$slots.default,onExpandChange:Vt,onClose:Mt[9]||(Mt[9]=at=>it.$nextTick(()=>nt(!1)))},null,8,["modelValue","options","props","render-label"]),[[la,!z.value]]),it.filterable?Jr((X(),Ut(S(c0),{key:0,ref_key:"suggestionPanel",ref:F,tag:"ul",class:Se(S(a).e("suggestion-panel")),"view-class":S(a).e("suggestion-list"),onKeydown:De},{default:xt(()=>[q.value.length?(X(!0),ve(Vn,{key:0},Yr(q.value,at=>(X(),ve("li",{key:at.uid,class:Se([S(a).e("suggestion-item"),S(a).is("checked",at.checked)]),tabindex:-1,onClick:et=>wt(at)},[pe("span",null,Cn(at.text),1),at.checked?(X(),Ut(S(Ar),{key:0},{default:xt(()=>[ht(S(I2))]),_:1})):bt("v-if",!0)],10,gze))),128)):kt(it.$slots,"empty",{key:1},()=>[pe("li",{class:Se(S(a).e("empty-text"))},Cn(S(A)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[la,z.value]]):bt("v-if",!0)]),_:3},8,["visible","teleported","popper-class","transition"]))}});var vS=kn(yze,[["__file","cascader.vue"]]);vS.install=t=>{t.component(vS.name,vS)};const bze=vS,wze=bze,xze=Ln({checked:{type:Boolean,default:!1},type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"}}),Cze={"update:checked":t=>qo(t),[_s]:t=>qo(t)},Eze=Be({name:"ElCheckTag"}),Sze=Be({...Eze,props:xze,emits:Cze,setup(t,{emit:e}){const n=t,r=vn("check-tag"),i=le(()=>[r.b(),r.is("checked",n.checked),r.m(n.type||"primary")]),s=()=>{const l=!n.checked;e(_s,l),e("update:checked",l)};return(l,c)=>(X(),ve("span",{class:Se(S(i)),onClick:s},[kt(l.$slots,"default")],2))}});var Tze=kn(Sze,[["__file","check-tag.vue"]]);const Bze=fi(Tze),iae=Symbol("rowContextKey"),Mze=["start","center","end","space-around","space-between","space-evenly"],Ize=["top","middle","bottom"],Lze=Ln({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:Mze,default:"start"},align:{type:String,values:Ize}}),Pze=Be({name:"ElRow"}),Fze=Be({...Pze,props:Lze,setup(t){const e=t,n=vn("row"),r=le(()=>e.gutter);Ii(iae,{gutter:r});const i=le(()=>{const l={};return e.gutter&&(l.marginRight=l.marginLeft=`-${e.gutter/2}px`),l}),s=le(()=>[n.b(),n.is(`justify-${e.justify}`,e.justify!=="start"),n.is(`align-${e.align}`,!!e.align)]);return(l,c)=>(X(),Ut(di(l.tag),{class:Se(S(s)),style:or(S(i))},{default:xt(()=>[kt(l.$slots,"default")]),_:3},8,["class","style"]))}});var kze=kn(Fze,[["__file","row.vue"]]);const Rze=fi(kze),Oze=Ln({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:Rt([Number,Object]),default:()=>to({})},sm:{type:Rt([Number,Object]),default:()=>to({})},md:{type:Rt([Number,Object]),default:()=>to({})},lg:{type:Rt([Number,Object]),default:()=>to({})},xl:{type:Rt([Number,Object]),default:()=>to({})}}),Dze=Be({name:"ElCol"}),Nze=Be({...Dze,props:Oze,setup(t){const e=t,{gutter:n}=ar(iae,{gutter:le(()=>0)}),r=vn("col"),i=le(()=>{const l={};return n.value&&(l.paddingLeft=l.paddingRight=`${n.value/2}px`),l}),s=le(()=>{const l=[];return["span","offset","pull","push"].forEach(f=>{const A=e[f];Or(A)&&(f==="span"?l.push(r.b(`${e[f]}`)):A>0&&l.push(r.b(`${f}-${e[f]}`)))}),["xs","sm","md","lg","xl"].forEach(f=>{Or(e[f])?l.push(r.b(`${f}-${e[f]}`)):Ai(e[f])&&Object.entries(e[f]).forEach(([A,m])=>{l.push(A!=="span"?r.b(`${f}-${A}-${m}`):r.b(`${f}-${m}`))})}),n.value&&l.push(r.is("guttered")),[r.b(),l]});return(l,c)=>(X(),Ut(di(l.tag),{class:Se(S(s)),style:or(S(i))},{default:xt(()=>[kt(l.$slots,"default")]),_:3},8,["class","style"]))}});var Uze=kn(Nze,[["__file","col.vue"]]);const zze=fi(Uze),zK=t=>Or(t)||Hr(t)||Jn(t),$ze=Ln({accordion:Boolean,modelValue:{type:Rt([Array,String,Number]),default:()=>to([])}}),Vze={[vi]:zK,[_s]:zK},aae=Symbol("collapseContextKey"),Hze=(t,e)=>{const n=Te(qv(t.modelValue)),r=s=>{n.value=s;const l=t.accordion?n.value[0]:n.value;e(vi,l),e(_s,l)},i=s=>{if(t.accordion)r([n.value[0]===s?"":s]);else{const l=[...n.value],c=l.indexOf(s);c>-1?l.splice(c,1):l.push(s),r(l)}};return un(()=>t.modelValue,()=>n.value=qv(t.modelValue),{deep:!0}),Ii(aae,{activeNames:n,handleItemClick:i}),{activeNames:n,setActiveNames:r}},Qze=()=>{const t=vn("collapse");return{rootKls:le(()=>t.b())}},jze=Be({name:"ElCollapse"}),Gze=Be({...jze,props:$ze,emits:Vze,setup(t,{expose:e,emit:n}){const r=t,{activeNames:i,setActiveNames:s}=Hze(r,n),{rootKls:l}=Qze();return e({activeNames:i,setActiveNames:s}),(c,a)=>(X(),ve("div",{class:Se(S(l))},[kt(c.$slots,"default")],2))}});var Kze=kn(Gze,[["__file","collapse.vue"]]);const Wze=Be({name:"ElCollapseTransition"}),qze=Be({...Wze,setup(t){const e=vn("collapse-transition"),n=i=>{i.style.maxHeight="",i.style.overflow=i.dataset.oldOverflow,i.style.paddingTop=i.dataset.oldPaddingTop,i.style.paddingBottom=i.dataset.oldPaddingBottom},r={beforeEnter(i){i.dataset||(i.dataset={}),i.dataset.oldPaddingTop=i.style.paddingTop,i.dataset.oldPaddingBottom=i.style.paddingBottom,i.style.height&&(i.dataset.elExistsHeight=i.style.height),i.style.maxHeight=0,i.style.paddingTop=0,i.style.paddingBottom=0},enter(i){requestAnimationFrame(()=>{i.dataset.oldOverflow=i.style.overflow,i.dataset.elExistsHeight?i.style.maxHeight=i.dataset.elExistsHeight:i.scrollHeight!==0?i.style.maxHeight=`${i.scrollHeight}px`:i.style.maxHeight=0,i.style.paddingTop=i.dataset.oldPaddingTop,i.style.paddingBottom=i.dataset.oldPaddingBottom,i.style.overflow="hidden"})},afterEnter(i){i.style.maxHeight="",i.style.overflow=i.dataset.oldOverflow},enterCancelled(i){n(i)},beforeLeave(i){i.dataset||(i.dataset={}),i.dataset.oldPaddingTop=i.style.paddingTop,i.dataset.oldPaddingBottom=i.style.paddingBottom,i.dataset.oldOverflow=i.style.overflow,i.style.maxHeight=`${i.scrollHeight}px`,i.style.overflow="hidden"},leave(i){i.scrollHeight!==0&&(i.style.maxHeight=0,i.style.paddingTop=0,i.style.paddingBottom=0)},afterLeave(i){n(i)},leaveCancelled(i){n(i)}};return(i,s)=>(X(),Ut(co,Xr({name:S(e).b()},c0e(r)),{default:xt(()=>[kt(i.$slots,"default")]),_:3},16,["name"]))}});var _S=kn(qze,[["__file","collapse-transition.vue"]]);_S.install=t=>{t.component(_S.name,_S)};const dB=_S,Yze=dB,Xze=Ln({title:{type:String,default:""},name:{type:Rt([String,Number]),default:void 0},disabled:Boolean}),Zze=t=>{const e=ar(aae),{namespace:n}=vn("collapse"),r=Te(!1),i=Te(!1),s=i9(),l=le(()=>s.current++),c=le(()=>{var _;return(_=t.name)!=null?_:`${n.value}-id-${s.prefix}-${S(l)}`}),a=le(()=>e==null?void 0:e.activeNames.value.includes(S(c)));return{focusing:r,id:l,isActive:a,handleFocus:()=>{setTimeout(()=>{i.value?i.value=!1:r.value=!0},50)},handleHeaderClick:()=>{t.disabled||(e==null||e.handleItemClick(S(c)),r.value=!1,i.value=!0)},handleEnterClick:()=>{e==null||e.handleItemClick(S(c))}}},Jze=(t,{focusing:e,isActive:n,id:r})=>{const i=vn("collapse"),s=le(()=>[i.b("item"),i.is("active",S(n)),i.is("disabled",t.disabled)]),l=le(()=>[i.be("item","header"),i.is("active",S(n)),{focusing:S(e)&&!t.disabled}]),c=le(()=>[i.be("item","arrow"),i.is("active",S(n))]),a=le(()=>i.be("item","wrap")),f=le(()=>i.be("item","content")),A=le(()=>i.b(`content-${S(r)}`)),m=le(()=>i.b(`head-${S(r)}`));return{arrowKls:c,headKls:l,rootKls:s,itemWrapperKls:a,itemContentKls:f,scopedContentId:A,scopedHeadId:m}},e$e=["id","aria-expanded","aria-controls","aria-describedby","tabindex"],t$e=["id","aria-hidden","aria-labelledby"],n$e=Be({name:"ElCollapseItem"}),r$e=Be({...n$e,props:Xze,setup(t,{expose:e}){const n=t,{focusing:r,id:i,isActive:s,handleFocus:l,handleHeaderClick:c,handleEnterClick:a}=Zze(n),{arrowKls:f,headKls:A,rootKls:m,itemWrapperKls:_,itemContentKls:y,scopedContentId:T,scopedHeadId:E}=Jze(n,{focusing:r,isActive:s,id:i});return e({isActive:s}),(P,I)=>(X(),ve("div",{class:Se(S(m))},[pe("button",{id:S(E),class:Se(S(A)),"aria-expanded":S(s),"aria-controls":S(T),"aria-describedby":S(T),tabindex:P.disabled?-1:0,type:"button",onClick:I[0]||(I[0]=(...F)=>S(c)&&S(c)(...F)),onKeydown:I[1]||(I[1]=Qa(Fr((...F)=>S(a)&&S(a)(...F),["stop","prevent"]),["space","enter"])),onFocus:I[2]||(I[2]=(...F)=>S(l)&&S(l)(...F)),onBlur:I[3]||(I[3]=F=>r.value=!1)},[kt(P.$slots,"title",{},()=>[wi(Cn(P.title),1)]),ht(S(Ar),{class:Se(S(f))},{default:xt(()=>[ht(S(Oc))]),_:1},8,["class"])],42,e$e),ht(S(dB),null,{default:xt(()=>[Jr(pe("div",{id:S(T),role:"region",class:Se(S(_)),"aria-hidden":!S(s),"aria-labelledby":S(E)},[pe("div",{class:Se(S(y))},[kt(P.$slots,"default")],2)],10,t$e),[[la,S(s)]])]),_:3})],2))}});var sae=kn(r$e,[["__file","collapse-item.vue"]]);const i$e=fi(Kze,{CollapseItem:sae}),a$e=ro(sae),s$e=Ln({color:{type:Rt(Object),required:!0},vertical:{type:Boolean,default:!1}});let IL=!1;function UC(t,e){if(!ta)return;const n=function(s){var l;(l=e.drag)==null||l.call(e,s)},r=function(s){var l;document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",r),document.removeEventListener("touchmove",n),document.removeEventListener("touchend",r),document.onselectstart=null,document.ondragstart=null,IL=!1,(l=e.end)==null||l.call(e,s)},i=function(s){var l;IL||(s.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",n),document.addEventListener("mouseup",r),document.addEventListener("touchmove",n),document.addEventListener("touchend",r),IL=!0,(l=e.start)==null||l.call(e,s))};t.addEventListener("mousedown",i),t.addEventListener("touchstart",i)}const o$e=t=>{const e=ci(),n=ms(),r=ms();function i(l){l.target!==n.value&&s(l)}function s(l){if(!r.value||!n.value)return;const a=e.vnode.el.getBoundingClientRect(),{clientX:f,clientY:A}=_N(l);if(t.vertical){let m=A-a.top;m=Math.max(n.value.offsetHeight/2,m),m=Math.min(m,a.height-n.value.offsetHeight/2),t.color.set("alpha",Math.round((m-n.value.offsetHeight/2)/(a.height-n.value.offsetHeight)*100))}else{let m=f-a.left;m=Math.max(n.value.offsetWidth/2,m),m=Math.min(m,a.width-n.value.offsetWidth/2),t.color.set("alpha",Math.round((m-n.value.offsetWidth/2)/(a.width-n.value.offsetWidth)*100))}}return{thumb:n,bar:r,handleDrag:s,handleClick:i}},l$e=(t,{bar:e,thumb:n,handleDrag:r})=>{const i=ci(),s=vn("color-alpha-slider"),l=Te(0),c=Te(0),a=Te();function f(){if(!n.value||t.vertical)return 0;const F=i.vnode.el,R=t.color.get("alpha");return F?Math.round(R*(F.offsetWidth-n.value.offsetWidth/2)/100):0}function A(){if(!n.value)return 0;const F=i.vnode.el;if(!t.vertical)return 0;const R=t.color.get("alpha");return F?Math.round(R*(F.offsetHeight-n.value.offsetHeight/2)/100):0}function m(){if(t.color&&t.color.value){const{r:F,g:R,b:N}=t.color.toRgb();return`linear-gradient(to right, rgba(${F}, ${R}, ${N}, 0) 0%, rgba(${F}, ${R}, ${N}, 1) 100%)`}return""}function _(){l.value=f(),c.value=A(),a.value=m()}kr(()=>{if(!e.value||!n.value)return;const F={drag:R=>{r(R)},end:R=>{r(R)}};UC(e.value,F),UC(n.value,F),_()}),un(()=>t.color.get("alpha"),()=>_()),un(()=>t.color.value,()=>_());const y=le(()=>[s.b(),s.is("vertical",t.vertical)]),T=le(()=>s.e("bar")),E=le(()=>s.e("thumb")),P=le(()=>({background:a.value})),I=le(()=>({left:Co(l.value),top:Co(c.value)}));return{rootKls:y,barKls:T,barStyle:P,thumbKls:E,thumbStyle:I,update:_}},u$e="ElColorAlphaSlider",c$e=Be({name:u$e}),h$e=Be({...c$e,props:s$e,setup(t,{expose:e}){const n=t,{bar:r,thumb:i,handleDrag:s,handleClick:l}=o$e(n),{rootKls:c,barKls:a,barStyle:f,thumbKls:A,thumbStyle:m,update:_}=l$e(n,{bar:r,thumb:i,handleDrag:s});return e({update:_,bar:r,thumb:i}),(y,T)=>(X(),ve("div",{class:Se(S(c))},[pe("div",{ref_key:"bar",ref:r,class:Se(S(a)),style:or(S(f)),onClick:T[0]||(T[0]=(...E)=>S(l)&&S(l)(...E))},null,6),pe("div",{ref_key:"thumb",ref:i,class:Se(S(A)),style:or(S(m))},null,6)],2))}});var d$e=kn(h$e,[["__file","alpha-slider.vue"]]);const f$e=Be({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(t){const e=vn("color-hue-slider"),n=ci(),r=Te(),i=Te(),s=Te(0),l=Te(0),c=le(()=>t.color.get("hue"));un(()=>c.value,()=>{_()});function a(y){y.target!==r.value&&f(y)}function f(y){if(!i.value||!r.value)return;const E=n.vnode.el.getBoundingClientRect(),{clientX:P,clientY:I}=_N(y);let F;if(t.vertical){let R=I-E.top;R=Math.min(R,E.height-r.value.offsetHeight/2),R=Math.max(r.value.offsetHeight/2,R),F=Math.round((R-r.value.offsetHeight/2)/(E.height-r.value.offsetHeight)*360)}else{let R=P-E.left;R=Math.min(R,E.width-r.value.offsetWidth/2),R=Math.max(r.value.offsetWidth/2,R),F=Math.round((R-r.value.offsetWidth/2)/(E.width-r.value.offsetWidth)*360)}t.color.set("hue",F)}function A(){if(!r.value)return 0;const y=n.vnode.el;if(t.vertical)return 0;const T=t.color.get("hue");return y?Math.round(T*(y.offsetWidth-r.value.offsetWidth/2)/360):0}function m(){if(!r.value)return 0;const y=n.vnode.el;if(!t.vertical)return 0;const T=t.color.get("hue");return y?Math.round(T*(y.offsetHeight-r.value.offsetHeight/2)/360):0}function _(){s.value=A(),l.value=m()}return kr(()=>{if(!i.value||!r.value)return;const y={drag:T=>{f(T)},end:T=>{f(T)}};UC(i.value,y),UC(r.value,y),_()}),{bar:i,thumb:r,thumbLeft:s,thumbTop:l,hueValue:c,handleClick:a,update:_,ns:e}}});function p$e(t,e,n,r,i,s){return X(),ve("div",{class:Se([t.ns.b(),t.ns.is("vertical",t.vertical)])},[pe("div",{ref:"bar",class:Se(t.ns.e("bar")),onClick:e[0]||(e[0]=(...l)=>t.handleClick&&t.handleClick(...l))},null,2),pe("div",{ref:"thumb",class:Se(t.ns.e("thumb")),style:or({left:t.thumbLeft+"px",top:t.thumbTop+"px"})},null,6)],2)}var A$e=kn(f$e,[["render",p$e],["__file","hue-slider.vue"]]);const m$e=Ln({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:ru,popperClass:{type:String,default:""},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},teleported:du.teleported,predefine:{type:Rt(Array)},validateEvent:{type:Boolean,default:!0},...Vu(["ariaLabel"])}),g$e={[vi]:t=>Hr(t)||_u(t),[_s]:t=>Hr(t)||_u(t),activeChange:t=>Hr(t)||_u(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent},oae=Symbol("colorPickerContextKey"),$K=function(t,e,n){return[t,e*n/((t=(2-e)*n)<1?t:2-t)||0,t/2]},v$e=function(t){return typeof t=="string"&&t.includes(".")&&Number.parseFloat(t)===1},_$e=function(t){return typeof t=="string"&&t.includes("%")},Sw=function(t,e){v$e(t)&&(t="100%");const n=_$e(t);return t=Math.min(e,Math.max(0,Number.parseFloat(`${t}`))),n&&(t=Number.parseInt(`${t*e}`,10)/100),Math.abs(t-e)<1e-6?1:t%e/Number.parseFloat(e)},VK={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},yS=t=>{t=Math.min(Math.round(t),255);const e=Math.floor(t/16),n=t%16;return`${VK[e]||e}${VK[n]||n}`},HK=function({r:t,g:e,b:n}){return Number.isNaN(+t)||Number.isNaN(+e)||Number.isNaN(+n)?"":`#${yS(t)}${yS(e)}${yS(n)}`},LL={A:10,B:11,C:12,D:13,E:14,F:15},n_=function(t){return t.length===2?(LL[t[0].toUpperCase()]||+t[0])*16+(LL[t[1].toUpperCase()]||+t[1]):LL[t[1].toUpperCase()]||+t[1]},y$e=function(t,e,n){e=e/100,n=n/100;let r=e;const i=Math.max(n,.01);n*=2,e*=n<=1?n:2-n,r*=i<=1?i:2-i;const s=(n+e)/2,l=n===0?2*r/(i+r):2*e/(n+e);return{h:t,s:l*100,v:s*100}},QK=(t,e,n)=>{t=Sw(t,255),e=Sw(e,255),n=Sw(n,255);const r=Math.max(t,e,n),i=Math.min(t,e,n);let s;const l=r,c=r-i,a=r===0?0:c/r;if(r===i)s=0;else{switch(r){case t:{s=(e-n)/c+(e<n?6:0);break}case e:{s=(n-t)/c+2;break}case n:{s=(t-e)/c+4;break}}s/=6}return{h:s*360,s:a*100,v:l*100}},Vx=function(t,e,n){t=Sw(t,360)*6,e=Sw(e,100),n=Sw(n,100);const r=Math.floor(t),i=t-r,s=n*(1-e),l=n*(1-i*e),c=n*(1-(1-i)*e),a=r%6,f=[n,l,s,s,c,n][a],A=[c,n,n,l,s,s][a],m=[s,s,c,n,n,l][a];return{r:Math.round(f*255),g:Math.round(A*255),b:Math.round(m*255)}};class W4{constructor(e={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const n in e)ra(e,n)&&(this[n]=e[n]);e.value?this.fromString(e.value):this.doOnChange()}set(e,n){if(arguments.length===1&&typeof e=="object"){for(const r in e)ra(e,r)&&this.set(r,e[r]);return}this[`_${e}`]=n,this.doOnChange()}get(e){return e==="alpha"?Math.floor(this[`_${e}`]):this[`_${e}`]}toRgb(){return Vx(this._hue,this._saturation,this._value)}fromString(e){if(!e){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const n=(r,i,s)=>{this._hue=Math.max(0,Math.min(360,r)),this._saturation=Math.max(0,Math.min(100,i)),this._value=Math.max(0,Math.min(100,s)),this.doOnChange()};if(e.includes("hsl")){const r=e.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(i=>i!=="").map((i,s)=>s>2?Number.parseFloat(i):Number.parseInt(i,10));if(r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3){const{h:i,s,v:l}=y$e(r[0],r[1],r[2]);n(i,s,l)}}else if(e.includes("hsv")){const r=e.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(i=>i!=="").map((i,s)=>s>2?Number.parseFloat(i):Number.parseInt(i,10));r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3&&n(r[0],r[1],r[2])}else if(e.includes("rgb")){const r=e.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(i=>i!=="").map((i,s)=>s>2?Number.parseFloat(i):Number.parseInt(i,10));if(r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3){const{h:i,s,v:l}=QK(r[0],r[1],r[2]);n(i,s,l)}}else if(e.includes("#")){const r=e.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(r))return;let i,s,l;r.length===3?(i=n_(r[0]+r[0]),s=n_(r[1]+r[1]),l=n_(r[2]+r[2])):(r.length===6||r.length===8)&&(i=n_(r.slice(0,2)),s=n_(r.slice(2,4)),l=n_(r.slice(4,6))),r.length===8?this._alpha=n_(r.slice(6))/255*100:(r.length===3||r.length===6)&&(this._alpha=100);const{h:c,s:a,v:f}=QK(i,s,l);n(c,a,f)}}compare(e){return Math.abs(e._hue-this._hue)<2&&Math.abs(e._saturation-this._saturation)<1&&Math.abs(e._value-this._value)<1&&Math.abs(e._alpha-this._alpha)<1}doOnChange(){const{_hue:e,_saturation:n,_value:r,_alpha:i,format:s}=this;if(this.enableAlpha)switch(s){case"hsl":{const l=$K(e,n/100,r/100);this.value=`hsla(${e}, ${Math.round(l[1]*100)}%, ${Math.round(l[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${e}, ${Math.round(n)}%, ${Math.round(r)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${HK(Vx(e,n,r))}${yS(i*255/100)}`;break}default:{const{r:l,g:c,b:a}=Vx(e,n,r);this.value=`rgba(${l}, ${c}, ${a}, ${this.get("alpha")/100})`}}else switch(s){case"hsl":{const l=$K(e,n/100,r/100);this.value=`hsl(${e}, ${Math.round(l[1]*100)}%, ${Math.round(l[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${e}, ${Math.round(n)}%, ${Math.round(r)}%)`;break}case"rgb":{const{r:l,g:c,b:a}=Vx(e,n,r);this.value=`rgb(${l}, ${c}, ${a})`;break}default:this.value=HK(Vx(e,n,r))}}}const b$e=Be({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0}},setup(t){const e=vn("color-predefine"),{currentColor:n}=ar(oae),r=Te(s(t.colors,t.color));un(()=>n.value,l=>{const c=new W4;c.fromString(l),r.value.forEach(a=>{a.selected=c.compare(a)})}),rc(()=>{r.value=s(t.colors,t.color)});function i(l){t.color.fromString(t.colors[l])}function s(l,c){return l.map(a=>{const f=new W4;return f.enableAlpha=!0,f.format="rgba",f.fromString(a),f.selected=f.value===c.value,f})}return{rgbaColors:r,handleSelect:i,ns:e}}}),w$e=["onClick"];function x$e(t,e,n,r,i,s){return X(),ve("div",{class:Se(t.ns.b())},[pe("div",{class:Se(t.ns.e("colors"))},[(X(!0),ve(Vn,null,Yr(t.rgbaColors,(l,c)=>(X(),ve("div",{key:t.colors[c],class:Se([t.ns.e("color-selector"),t.ns.is("alpha",l._alpha<100),{selected:l.selected}]),onClick:a=>t.handleSelect(c)},[pe("div",{style:or({backgroundColor:l.value})},null,4)],10,w$e))),128))],2)],2)}var C$e=kn(b$e,[["render",x$e],["__file","predefine.vue"]]);const E$e=Be({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(t){const e=vn("color-svpanel"),n=ci(),r=Te(0),i=Te(0),s=Te("hsl(0, 100%, 50%)"),l=le(()=>{const f=t.color.get("hue"),A=t.color.get("value");return{hue:f,value:A}});function c(){const f=t.color.get("saturation"),A=t.color.get("value"),m=n.vnode.el,{clientWidth:_,clientHeight:y}=m;i.value=f*_/100,r.value=(100-A)*y/100,s.value=`hsl(${t.color.get("hue")}, 100%, 50%)`}function a(f){const m=n.vnode.el.getBoundingClientRect(),{clientX:_,clientY:y}=_N(f);let T=_-m.left,E=y-m.top;T=Math.max(0,T),T=Math.min(T,m.width),E=Math.max(0,E),E=Math.min(E,m.height),i.value=T,r.value=E,t.color.set({saturation:T/m.width*100,value:100-E/m.height*100})}return un(()=>l.value,()=>{c()}),kr(()=>{UC(n.vnode.el,{drag:f=>{a(f)},end:f=>{a(f)}}),c()}),{cursorTop:r,cursorLeft:i,background:s,colorValue:l,handleDrag:a,update:c,ns:e}}}),S$e=pe("div",null,null,-1),T$e=[S$e];function B$e(t,e,n,r,i,s){return X(),ve("div",{class:Se(t.ns.b()),style:or({backgroundColor:t.background})},[pe("div",{class:Se(t.ns.e("white"))},null,2),pe("div",{class:Se(t.ns.e("black"))},null,2),pe("div",{class:Se(t.ns.e("cursor")),style:or({top:t.cursorTop+"px",left:t.cursorLeft+"px"})},T$e,6)],6)}var M$e=kn(E$e,[["render",B$e],["__file","sv-panel.vue"]]);const I$e=["onKeydown"],L$e=["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex"],P$e=Be({name:"ElColorPicker"}),F$e=Be({...P$e,props:m$e,emits:g$e,setup(t,{expose:e,emit:n}){const r=t,{t:i}=ca(),s=vn("color"),{formItem:l}=Nc(),c=hl(),a=oh(),{inputId:f,isLabeledByFormItem:A}=rA(r,{formItemContext:l}),m=Te(),_=Te(),y=Te(),T=Te(),E=Te(),P=Te(),{isFocused:I,handleFocus:F,handleBlur:R}=sB(E,{beforeBlur(Je){var nt;return(nt=T.value)==null?void 0:nt.isFocusInsideContent(Je)},afterBlur(){te(!1),ye()}}),N=Je=>{if(a.value)return Qe();F(Je)};let z=!0;const Q=ua(new W4({enableAlpha:r.showAlpha,format:r.colorFormat||"",value:r.modelValue})),j=Te(!1),H=Te(!1),K=Te(""),ie=le(()=>!r.modelValue&&!H.value?"transparent":J(Q,r.showAlpha)),q=le(()=>!r.modelValue&&!H.value?"":Q.value),W=le(()=>A.value?void 0:r.label||r.ariaLabel||i("el.colorpicker.defaultLabel"));gu({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-color-picker",ref:"https://element-plus.org/en-US/component/color-picker.html"},le(()=>!!r.label));const ee=le(()=>A.value?l==null?void 0:l.labelId:void 0),ue=le(()=>[s.b("picker"),s.is("disabled",a.value),s.bm("picker",c.value),s.is("focused",I.value)]);function J(Je,nt){if(!(Je instanceof W4))throw new TypeError("color should be instance of _color Class");const{r:Ve,g:Pe,b:Ge}=Je.toRgb();return nt?`rgba(${Ve}, ${Pe}, ${Ge}, ${Je.get("alpha")/100})`:`rgb(${Ve}, ${Pe}, ${Ge})`}function te(Je){j.value=Je}const ne=$h(te,100,{leading:!0});function he(){a.value||te(!0)}function ce(){ne(!1),ye()}function ye(){dr(()=>{r.modelValue?Q.fromString(r.modelValue):(Q.value="",dr(()=>{H.value=!1}))})}function Ee(){a.value||ne(!j.value)}function se(){Q.fromString(K.value)}function oe(){const Je=Q.value;n(vi,Je),n("change",Je),r.validateEvent&&(l==null||l.validate("change").catch(nt=>void 0)),ne(!1),dr(()=>{const nt=new W4({enableAlpha:r.showAlpha,format:r.colorFormat||"",value:r.modelValue});Q.compare(nt)||ye()})}function _e(){ne(!1),n(vi,null),n("change",null),r.modelValue!==null&&r.validateEvent&&(l==null||l.validate("change").catch(Je=>void 0)),ye()}function Ue(Je){if(j.value&&(ce(),I.value)){const nt=new FocusEvent("focus",Je);R(nt)}}function Le(Je){Je.preventDefault(),Je.stopPropagation(),te(!1),ye()}function be(Je){switch(Je.code){case Tr.enter:case Tr.space:Je.preventDefault(),Je.stopPropagation(),he(),P.value.focus();break;case Tr.esc:Le(Je);break}}function Re(){E.value.focus()}function Qe(){E.value.blur()}return kr(()=>{r.modelValue&&(K.value=q.value)}),un(()=>r.modelValue,Je=>{Je?Je&&Je!==Q.value&&(z=!1,Q.fromString(Je)):H.value=!1}),un(()=>q.value,Je=>{K.value=Je,z&&n("activeChange",Je),z=!0}),un(()=>Q.value,()=>{!r.modelValue&&!H.value&&(H.value=!0)}),un(()=>j.value,()=>{dr(()=>{var Je,nt,Ve;(Je=m.value)==null||Je.update(),(nt=_.value)==null||nt.update(),(Ve=y.value)==null||Ve.update()})}),Ii(oae,{currentColor:q}),e({color:Q,show:he,hide:ce,focus:Re,blur:Qe}),(Je,nt)=>(X(),Ut(S(Dc),{ref_key:"popper",ref:T,visible:j.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[S(s).be("picker","panel"),S(s).b("dropdown"),Je.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",teleported:Je.teleported,transition:`${S(s).namespace.value}-zoom-in-top`,persistent:"",onHide:nt[2]||(nt[2]=Ve=>te(!1))},{content:xt(()=>[Jr((X(),ve("div",{onKeydown:Qa(Le,["esc"])},[pe("div",{class:Se(S(s).be("dropdown","main-wrapper"))},[ht(A$e,{ref_key:"hue",ref:m,class:"hue-slider",color:S(Q),vertical:""},null,8,["color"]),ht(M$e,{ref_key:"sv",ref:_,color:S(Q)},null,8,["color"])],2),Je.showAlpha?(X(),Ut(d$e,{key:0,ref_key:"alpha",ref:y,color:S(Q)},null,8,["color"])):bt("v-if",!0),Je.predefine?(X(),Ut(C$e,{key:1,ref:"predefine",color:S(Q),colors:Je.predefine},null,8,["color","colors"])):bt("v-if",!0),pe("div",{class:Se(S(s).be("dropdown","btns"))},[pe("span",{class:Se(S(s).be("dropdown","value"))},[ht(S(Pc),{ref_key:"inputRef",ref:P,modelValue:K.value,"onUpdate:modelValue":nt[0]||(nt[0]=Ve=>K.value=Ve),"validate-event":!1,size:"small",onKeyup:Qa(se,["enter"]),onBlur:se},null,8,["modelValue","onKeyup"])],2),ht(S(yu),{class:Se(S(s).be("dropdown","link-btn")),text:"",size:"small",onClick:_e},{default:xt(()=>[wi(Cn(S(i)("el.colorpicker.clear")),1)]),_:1},8,["class"]),ht(S(yu),{plain:"",size:"small",class:Se(S(s).be("dropdown","btn")),onClick:oe},{default:xt(()=>[wi(Cn(S(i)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)],40,I$e)),[[S(Xg),Ue]])]),default:xt(()=>[pe("div",{id:S(f),ref_key:"triggerRef",ref:E,class:Se(S(ue)),role:"button","aria-label":S(W),"aria-labelledby":S(ee),"aria-description":S(i)("el.colorpicker.description",{color:Je.modelValue||""}),"aria-disabled":S(a),tabindex:S(a)?-1:Je.tabindex,onKeydown:be,onFocus:N,onBlur:nt[1]||(nt[1]=(...Ve)=>S(R)&&S(R)(...Ve))},[S(a)?(X(),ve("div",{key:0,class:Se(S(s).be("picker","mask"))},null,2)):bt("v-if",!0),pe("div",{class:Se(S(s).be("picker","trigger")),onClick:Ee},[pe("span",{class:Se([S(s).be("picker","color"),S(s).is("alpha",Je.showAlpha)])},[pe("span",{class:Se(S(s).be("picker","color-inner")),style:or({backgroundColor:S(ie)})},[Jr(ht(S(Ar),{class:Se([S(s).be("picker","icon"),S(s).is("icon-arrow-down")])},{default:xt(()=>[ht(S(Em))]),_:1},8,["class"]),[[la,Je.modelValue||H.value]]),Jr(ht(S(Ar),{class:Se([S(s).be("picker","empty"),S(s).is("icon-close")])},{default:xt(()=>[ht(S(Tf))]),_:1},8,["class"]),[[la,!Je.modelValue&&!H.value]])],6)],2)],2)],42,L$e)]),_:1},8,["visible","popper-class","teleported","transition"]))}});var k$e=kn(F$e,[["__file","color-picker.vue"]]);const R$e=fi(k$e),O$e=Be({name:"ElContainer"}),D$e=Be({...O$e,props:{direction:{type:String}},setup(t){const e=t,n=Eo(),r=vn("container"),i=le(()=>e.direction==="vertical"?!0:e.direction==="horizontal"?!1:n&&n.default?n.default().some(l=>{const c=l.type.name;return c==="ElHeader"||c==="ElFooter"}):!1);return(s,l)=>(X(),ve("section",{class:Se([S(r).b(),S(r).is("vertical",S(i))])},[kt(s.$slots,"default")],2))}});var N$e=kn(D$e,[["__file","container.vue"]]);const U$e=Be({name:"ElAside"}),z$e=Be({...U$e,props:{width:{type:String,default:null}},setup(t){const e=t,n=vn("aside"),r=le(()=>e.width?n.cssVarBlock({width:e.width}):{});return(i,s)=>(X(),ve("aside",{class:Se(S(n).b()),style:or(S(r))},[kt(i.$slots,"default")],6))}});var lae=kn(z$e,[["__file","aside.vue"]]);const $$e=Be({name:"ElFooter"}),V$e=Be({...$$e,props:{height:{type:String,default:null}},setup(t){const e=t,n=vn("footer"),r=le(()=>e.height?n.cssVarBlock({height:e.height}):{});return(i,s)=>(X(),ve("footer",{class:Se(S(n).b()),style:or(S(r))},[kt(i.$slots,"default")],6))}});var uae=kn(V$e,[["__file","footer.vue"]]);const H$e=Be({name:"ElHeader"}),Q$e=Be({...H$e,props:{height:{type:String,default:null}},setup(t){const e=t,n=vn("header"),r=le(()=>e.height?n.cssVarBlock({height:e.height}):{});return(i,s)=>(X(),ve("header",{class:Se(S(n).b()),style:or(S(r))},[kt(i.$slots,"default")],6))}});var cae=kn(Q$e,[["__file","header.vue"]]);const j$e=Be({name:"ElMain"}),G$e=Be({...j$e,setup(t){const e=vn("main");return(n,r)=>(X(),ve("main",{class:Se(S(e).b())},[kt(n.$slots,"default")],2))}});var hae=kn(G$e,[["__file","main.vue"]]);const K$e=fi(N$e,{Aside:lae,Footer:uae,Header:cae,Main:hae}),W$e=ro(lae),q$e=ro(uae),Y$e=ro(cae),X$e=ro(hae);var dae={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Cm,function(){return function(n,r){var i=r.prototype,s=i.format;i.format=function(l){var c=this,a=this.$locale();if(!this.isValid())return s.bind(this)(l);var f=this.$utils(),A=(l||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(m){switch(m){case"Q":return Math.ceil((c.$M+1)/3);case"Do":return a.ordinal(c.$D);case"gggg":return c.weekYear();case"GGGG":return c.isoWeekYear();case"wo":return a.ordinal(c.week(),"W");case"w":case"ww":return f.s(c.week(),m==="w"?1:2,"0");case"W":case"WW":return f.s(c.isoWeek(),m==="W"?1:2,"0");case"k":case"kk":return f.s(String(c.$H===0?24:c.$H),m==="k"?1:2,"0");case"X":return Math.floor(c.$d.getTime()/1e3);case"x":return c.$d.getTime();case"z":return"["+c.offsetName()+"]";case"zzz":return"["+c.offsetName("long")+"]";default:return m}});return s.bind(this)(A)}}})})(dae);var Z$e=dae.exports;const J$e=Jp(Z$e);var fae={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Cm,function(){var n="week",r="year";return function(i,s,l){var c=s.prototype;c.week=function(a){if(a===void 0&&(a=null),a!==null)return this.add(7*(a-this.week()),"day");var f=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var A=l(this).startOf(r).add(1,r).date(f),m=l(this).endOf(n);if(A.isBefore(m))return 1}var _=l(this).startOf(r).date(f).startOf(n).subtract(1,"millisecond"),y=this.diff(_,n,!0);return y<0?l(this).startOf("week").week():Math.ceil(y)},c.weeks=function(a){return a===void 0&&(a=null),this.week(a)}}})})(fae);var eVe=fae.exports;const tVe=Jp(eVe);var pae={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Cm,function(){return function(n,r){r.prototype.weekYear=function(){var i=this.month(),s=this.week(),l=this.year();return s===1&&i===11?l+1:i===0&&s>=52?l-1:l}}})})(pae);var nVe=pae.exports;const rVe=Jp(nVe);var Aae={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Cm,function(){return function(n,r,i){r.prototype.dayOfYear=function(s){var l=Math.round((i(this).startOf("day")-i(this).startOf("year"))/864e5)+1;return s==null?l:this.add(s-l,"day")}}})})(Aae);var iVe=Aae.exports;const aVe=Jp(iVe);var mae={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Cm,function(){return function(n,r){r.prototype.isSameOrAfter=function(i,s){return this.isSame(i,s)||this.isAfter(i,s)}}})})(mae);var sVe=mae.exports;const oVe=Jp(sVe);var gae={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Cm,function(){return function(n,r){r.prototype.isSameOrBefore=function(i,s){return this.isSame(i,s)||this.isBefore(i,s)}}})})(gae);var lVe=gae.exports;const uVe=Jp(lVe),w9=Symbol(),cVe=Ln({...y9,type:{type:Rt(String),default:"date"}}),hVe=["date","dates","year","years","month","week","range"],x9=Ln({disabledDate:{type:Rt(Function)},date:{type:Rt(Object),required:!0},minDate:{type:Rt(Object)},maxDate:{type:Rt(Object)},parsedValue:{type:Rt([Object,Array])},rangeState:{type:Rt(Object),default:()=>({endDate:null,selecting:!1})}}),vae=Ln({type:{type:Rt(String),required:!0,values:PFe},dateFormat:String,timeFormat:String}),_ae=Ln({unlinkPanels:Boolean,parsedValue:{type:Rt(Array)}}),C9=t=>({type:String,values:hVe,default:t}),dVe=Ln({...vae,parsedValue:{type:Rt([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),fVe=Ln({...x9,cellClassName:{type:Rt(Function)},showWeekNumber:Boolean,selectionMode:C9("date")}),pVe=["changerange","pick","select"],Kk=t=>{if(!Jn(t))return!1;const[e,n]=t;return pi.isDayjs(e)&&pi.isDayjs(n)&&e.isSameOrBefore(n)},yae=(t,{lang:e,unit:n,unlinkPanels:r})=>{let i;if(Jn(t)){let[s,l]=t.map(c=>pi(c).locale(e));return r||(l=s.add(1,n)),[s,l]}else t?i=pi(t):i=pi();return i=i.locale(e),[i,i.add(1,n)]},AVe=(t,e,{columnIndexOffset:n,startDate:r,nextEndDate:i,now:s,unit:l,relativeDateGetter:c,setCellMetadata:a,setRowMetadata:f})=>{for(let A=0;A<t.row;A++){const m=e[A];for(let _=0;_<t.column;_++){let y=m[_+n];y||(y={row:A,column:_,type:"normal",inRange:!1,start:!1,end:!1});const T=A*t.column+_,E=c(T);y.dayjs=E,y.date=E.toDate(),y.timestamp=E.valueOf(),y.type="normal",y.inRange=!!(r&&E.isSameOrAfter(r,l)&&i&&E.isSameOrBefore(i,l))||!!(r&&E.isSameOrBefore(r,l)&&i&&E.isSameOrAfter(i,l)),r!=null&&r.isSameOrAfter(i)?(y.start=!!i&&E.isSame(i,l),y.end=r&&E.isSame(r,l)):(y.start=!!r&&E.isSame(r,l),y.end=!!i&&E.isSame(i,l)),E.isSame(s,l)&&(y.type="today"),a==null||a(y,{rowIndex:A,columnIndex:_}),m[_+n]=y}f==null||f(m)}},Wk=(t="")=>["normal","today"].includes(t),mVe=(t,e)=>{const{lang:n}=ca(),r=Te(),i=Te(),s=Te(),l=Te(),c=Te([[],[],[],[],[],[]]);let a=!1;const f=t.date.$locale().weekStart||7,A=t.date.locale("en").localeData().weekdaysShort().map(ce=>ce.toLowerCase()),m=le(()=>f>3?7-f:-f),_=le(()=>{const ce=t.date.startOf("month");return ce.subtract(ce.day()||7,"day")}),y=le(()=>A.concat(A).slice(f,f+7)),T=le(()=>vne(S(N)).some(ce=>ce.isCurrent)),E=le(()=>{const ce=t.date.startOf("month"),ye=ce.day()||7,Ee=ce.daysInMonth(),se=ce.subtract(1,"month").daysInMonth();return{startOfMonthDay:ye,dateCountOfMonth:Ee,dateCountOfLastMonth:se}}),P=le(()=>t.selectionMode==="dates"?Id(t.parsedValue):[]),I=(ce,{count:ye,rowIndex:Ee,columnIndex:se})=>{const{startOfMonthDay:oe,dateCountOfMonth:_e,dateCountOfLastMonth:Ue}=S(E),Le=S(m);if(Ee>=0&&Ee<=1){const be=oe+Le<0?7+oe+Le:oe+Le;if(se+Ee*7>=be)return ce.text=ye,!0;ce.text=Ue-(be-se%7)+1+Ee*7,ce.type="prev-month"}else return ye<=_e?ce.text=ye:(ce.text=ye-_e,ce.type="next-month"),!0;return!1},F=(ce,{columnIndex:ye,rowIndex:Ee},se)=>{const{disabledDate:oe,cellClassName:_e}=t,Ue=S(P),Le=I(ce,{count:se,rowIndex:Ee,columnIndex:ye}),be=ce.dayjs.toDate();return ce.selected=Ue.find(Re=>Re.isSame(ce.dayjs,"day")),ce.isSelected=!!ce.selected,ce.isCurrent=Q(ce),ce.disabled=oe==null?void 0:oe(be),ce.customClass=_e==null?void 0:_e(be),Le},R=ce=>{if(t.selectionMode==="week"){const[ye,Ee]=t.showWeekNumber?[1,7]:[0,6],se=he(ce[ye+1]);ce[ye].inRange=se,ce[ye].start=se,ce[Ee].inRange=se,ce[Ee].end=se}},N=le(()=>{const{minDate:ce,maxDate:ye,rangeState:Ee,showWeekNumber:se}=t,oe=S(m),_e=S(c),Ue="day";let Le=1;if(se)for(let be=0;be<6;be++)_e[be][0]||(_e[be][0]={type:"week",text:S(_).add(be*7+1,Ue).week()});return AVe({row:6,column:7},_e,{startDate:ce,columnIndexOffset:se?1:0,nextEndDate:Ee.endDate||ye||Ee.selecting&&ce||null,now:pi().locale(S(n)).startOf(Ue),unit:Ue,relativeDateGetter:be=>S(_).add(be-oe,Ue),setCellMetadata:(...be)=>{F(...be,Le)&&(Le+=1)},setRowMetadata:R}),_e});un(()=>t.date,async()=>{var ce;(ce=S(r))!=null&&ce.contains(document.activeElement)&&(await dr(),await z())});const z=async()=>{var ce;return(ce=S(i))==null?void 0:ce.focus()},Q=ce=>t.selectionMode==="date"&&Wk(ce.type)&&j(ce,t.parsedValue),j=(ce,ye)=>ye?pi(ye).locale(S(n)).isSame(t.date.date(Number(ce.text)),"day"):!1,H=(ce,ye)=>{const Ee=ce*7+(ye-(t.showWeekNumber?1:0))-S(m);return S(_).add(Ee,"day")},K=ce=>{var ye;if(!t.rangeState.selecting)return;let Ee=ce.target;if(Ee.tagName==="SPAN"&&(Ee=(ye=Ee.parentNode)==null?void 0:ye.parentNode),Ee.tagName==="DIV"&&(Ee=Ee.parentNode),Ee.tagName!=="TD")return;const se=Ee.parentNode.rowIndex-1,oe=Ee.cellIndex;S(N)[se][oe].disabled||(se!==S(s)||oe!==S(l))&&(s.value=se,l.value=oe,e("changerange",{selecting:!0,endDate:H(se,oe)}))},ie=ce=>!S(T)&&(ce==null?void 0:ce.text)===1&&ce.type==="normal"||ce.isCurrent,q=ce=>{a||S(T)||t.selectionMode!=="date"||ne(ce,!0)},W=ce=>{ce.target.closest("td")&&(a=!0)},ee=ce=>{ce.target.closest("td")&&(a=!1)},ue=ce=>{!t.rangeState.selecting||!t.minDate?(e("pick",{minDate:ce,maxDate:null}),e("select",!0)):(ce>=t.minDate?e("pick",{minDate:t.minDate,maxDate:ce}):e("pick",{minDate:ce,maxDate:t.minDate}),e("select",!1))},J=ce=>{const ye=ce.week(),Ee=`${ce.year()}w${ye}`;e("pick",{year:ce.year(),week:ye,value:Ee,date:ce.startOf("week")})},te=(ce,ye)=>{const Ee=ye?Id(t.parsedValue).filter(se=>(se==null?void 0:se.valueOf())!==ce.valueOf()):Id(t.parsedValue).concat([ce]);e("pick",Ee)},ne=(ce,ye=!1)=>{const Ee=ce.target.closest("td");if(!Ee)return;const se=Ee.parentNode.rowIndex-1,oe=Ee.cellIndex,_e=S(N)[se][oe];if(_e.disabled||_e.type==="week")return;const Ue=H(se,oe);switch(t.selectionMode){case"range":{ue(Ue);break}case"date":{e("pick",Ue,ye);break}case"week":{J(Ue);break}case"dates":{te(Ue,!!_e.selected);break}}},he=ce=>{if(t.selectionMode!=="week")return!1;let ye=t.date.startOf("day");if(ce.type==="prev-month"&&(ye=ye.subtract(1,"month")),ce.type==="next-month"&&(ye=ye.add(1,"month")),ye=ye.date(Number.parseInt(ce.text,10)),t.parsedValue&&!Array.isArray(t.parsedValue)){const Ee=(t.parsedValue.day()-f+7)%7-1;return t.parsedValue.subtract(Ee,"day").isSame(ye,"day")}return!1};return{WEEKS:y,rows:N,tbodyRef:r,currentCellRef:i,focus:z,isCurrent:Q,isWeekActive:he,isSelectedCell:ie,handlePickDate:ne,handleMouseUp:ee,handleMouseDown:W,handleMouseMove:K,handleFocus:q}},gVe=(t,{isCurrent:e,isWeekActive:n})=>{const r=vn("date-table"),{t:i}=ca(),s=le(()=>[r.b(),{"is-week-mode":t.selectionMode==="week"}]),l=le(()=>i("el.datepicker.dateTablePrompt")),c=le(()=>i("el.datepicker.week"));return{tableKls:s,tableLabel:l,weekLabel:c,getCellClasses:A=>{const m=[];return Wk(A.type)&&!A.disabled?(m.push("available"),A.type==="today"&&m.push("today")):m.push(A.type),e(A)&&m.push("current"),A.inRange&&(Wk(A.type)||t.selectionMode==="week")&&(m.push("in-range"),A.start&&m.push("start-date"),A.end&&m.push("end-date")),A.disabled&&m.push("disabled"),A.selected&&m.push("selected"),A.customClass&&m.push(A.customClass),m.join(" ")},getRowKls:A=>[r.e("row"),{current:n(A)}],t:i}},vVe=Ln({cell:{type:Rt(Object)}});var _Ve=Be({name:"ElDatePickerCell",props:vVe,setup(t){const e=vn("date-table-cell"),{slots:n}=ar(w9);return()=>{const{cell:r}=t;return kt(n,"default",{...r},()=>[ht("div",{class:e.b()},[ht("span",{class:e.e("text")},[r==null?void 0:r.text])])])}}});const yVe=["aria-label"],bVe={key:0,scope:"col"},wVe=["aria-label"],xVe=["aria-current","aria-selected","tabindex"],CVe=Be({__name:"basic-date-table",props:fVe,emits:pVe,setup(t,{expose:e,emit:n}){const r=t,{WEEKS:i,rows:s,tbodyRef:l,currentCellRef:c,focus:a,isCurrent:f,isWeekActive:A,isSelectedCell:m,handlePickDate:_,handleMouseUp:y,handleMouseDown:T,handleMouseMove:E,handleFocus:P}=mVe(r,n),{tableLabel:I,tableKls:F,weekLabel:R,getCellClasses:N,getRowKls:z,t:Q}=gVe(r,{isCurrent:f,isWeekActive:A});return e({focus:a}),(j,H)=>(X(),ve("table",{"aria-label":S(I),class:Se(S(F)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:H[1]||(H[1]=(...K)=>S(_)&&S(_)(...K)),onMousemove:H[2]||(H[2]=(...K)=>S(E)&&S(E)(...K)),onMousedown:H[3]||(H[3]=Fr((...K)=>S(T)&&S(T)(...K),["prevent"])),onMouseup:H[4]||(H[4]=(...K)=>S(y)&&S(y)(...K))},[pe("tbody",{ref_key:"tbodyRef",ref:l},[pe("tr",null,[j.showWeekNumber?(X(),ve("th",bVe,Cn(S(R)),1)):bt("v-if",!0),(X(!0),ve(Vn,null,Yr(S(i),(K,ie)=>(X(),ve("th",{key:ie,"aria-label":S(Q)("el.datepicker.weeksFull."+K),scope:"col"},Cn(S(Q)("el.datepicker.weeks."+K)),9,wVe))),128))]),(X(!0),ve(Vn,null,Yr(S(s),(K,ie)=>(X(),ve("tr",{key:ie,class:Se(S(z)(K[1]))},[(X(!0),ve(Vn,null,Yr(K,(q,W)=>(X(),ve("td",{key:`${ie}.${W}`,ref_for:!0,ref:ee=>S(m)(q)&&(c.value=ee),class:Se(S(N)(q)),"aria-current":q.isCurrent?"date":void 0,"aria-selected":q.isCurrent,tabindex:S(m)(q)?0:-1,onFocus:H[0]||(H[0]=(...ee)=>S(P)&&S(P)(...ee))},[ht(S(_Ve),{cell:q},null,8,["cell"])],42,xVe))),128))],2))),128))],512)],42,yVe))}});var qk=kn(CVe,[["__file","basic-date-table.vue"]]);const EVe=Ln({...x9,selectionMode:C9("month")}),SVe=["aria-label"],TVe=["aria-selected","aria-label","tabindex","onKeydown"],BVe={class:"cell"},MVe=Be({__name:"basic-month-table",props:EVe,emits:["changerange","pick","select"],setup(t,{expose:e,emit:n}){const r=t,i=(N,z,Q)=>{const j=pi().locale(Q).startOf("month").month(z).year(N),H=j.daysInMonth();return Vv(H).map(K=>j.add(K,"day").toDate())},s=vn("month-table"),{t:l,lang:c}=ca(),a=Te(),f=Te(),A=Te(r.date.locale("en").localeData().monthsShort().map(N=>N.toLowerCase())),m=Te([[],[],[]]),_=Te(),y=Te(),T=le(()=>{var N,z;const Q=m.value,j=pi().locale(c.value).startOf("month");for(let H=0;H<3;H++){const K=Q[H];for(let ie=0;ie<4;ie++){const q=K[ie]||(K[ie]={row:H,column:ie,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});q.type="normal";const W=H*4+ie,ee=r.date.startOf("year").month(W),ue=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;q.inRange=!!(r.minDate&&ee.isSameOrAfter(r.minDate,"month")&&ue&&ee.isSameOrBefore(ue,"month"))||!!(r.minDate&&ee.isSameOrBefore(r.minDate,"month")&&ue&&ee.isSameOrAfter(ue,"month")),(N=r.minDate)!=null&&N.isSameOrAfter(ue)?(q.start=!!(ue&&ee.isSame(ue,"month")),q.end=r.minDate&&ee.isSame(r.minDate,"month")):(q.start=!!(r.minDate&&ee.isSame(r.minDate,"month")),q.end=!!(ue&&ee.isSame(ue,"month"))),j.isSame(ee)&&(q.type="today"),q.text=W,q.disabled=((z=r.disabledDate)==null?void 0:z.call(r,ee.toDate()))||!1}}return Q}),E=()=>{var N;(N=f.value)==null||N.focus()},P=N=>{const z={},Q=r.date.year(),j=new Date,H=N.text;return z.disabled=r.disabledDate?i(Q,H,c.value).every(r.disabledDate):!1,z.current=Id(r.parsedValue).findIndex(K=>pi.isDayjs(K)&&K.year()===Q&&K.month()===H)>=0,z.today=j.getFullYear()===Q&&j.getMonth()===H,N.inRange&&(z["in-range"]=!0,N.start&&(z["start-date"]=!0),N.end&&(z["end-date"]=!0)),z},I=N=>{const z=r.date.year(),Q=N.text;return Id(r.date).findIndex(j=>j.year()===z&&j.month()===Q)>=0},F=N=>{var z;if(!r.rangeState.selecting)return;let Q=N.target;if(Q.tagName==="SPAN"&&(Q=(z=Q.parentNode)==null?void 0:z.parentNode),Q.tagName==="DIV"&&(Q=Q.parentNode),Q.tagName!=="TD")return;const j=Q.parentNode.rowIndex,H=Q.cellIndex;T.value[j][H].disabled||(j!==_.value||H!==y.value)&&(_.value=j,y.value=H,n("changerange",{selecting:!0,endDate:r.date.startOf("year").month(j*4+H)}))},R=N=>{var z;const Q=(z=N.target)==null?void 0:z.closest("td");if((Q==null?void 0:Q.tagName)!=="TD"||xf(Q,"disabled"))return;const j=Q.cellIndex,K=Q.parentNode.rowIndex*4+j,ie=r.date.startOf("year").month(K);r.selectionMode==="range"?r.rangeState.selecting?(r.minDate&&ie>=r.minDate?n("pick",{minDate:r.minDate,maxDate:ie}):n("pick",{minDate:ie,maxDate:r.minDate}),n("select",!1)):(n("pick",{minDate:ie,maxDate:null}),n("select",!0)):n("pick",K)};return un(()=>r.date,async()=>{var N,z;(N=a.value)!=null&&N.contains(document.activeElement)&&(await dr(),(z=f.value)==null||z.focus())}),e({focus:E}),(N,z)=>(X(),ve("table",{role:"grid","aria-label":S(l)("el.datepicker.monthTablePrompt"),class:Se(S(s).b()),onClick:R,onMousemove:F},[pe("tbody",{ref_key:"tbodyRef",ref:a},[(X(!0),ve(Vn,null,Yr(S(T),(Q,j)=>(X(),ve("tr",{key:j},[(X(!0),ve(Vn,null,Yr(Q,(H,K)=>(X(),ve("td",{key:K,ref_for:!0,ref:ie=>I(H)&&(f.value=ie),class:Se(P(H)),"aria-selected":`${I(H)}`,"aria-label":S(l)(`el.datepicker.month${+H.text+1}`),tabindex:I(H)?0:-1,onKeydown:[Qa(Fr(R,["prevent","stop"]),["space"]),Qa(Fr(R,["prevent","stop"]),["enter"])]},[pe("div",null,[pe("span",BVe,Cn(S(l)("el.datepicker.months."+A.value[H.text])),1)])],42,TVe))),128))]))),128))],512)],42,SVe))}});var Yk=kn(MVe,[["__file","basic-month-table.vue"]]);const{date:IVe,disabledDate:LVe,parsedValue:PVe}=x9,FVe=Ln({date:IVe,disabledDate:LVe,parsedValue:PVe,selectionMode:C9("year")}),kVe=["aria-label"],RVe=["aria-selected","tabindex","onKeydown"],OVe={class:"cell"},DVe={key:1},NVe=Be({__name:"basic-year-table",props:FVe,emits:["pick"],setup(t,{expose:e,emit:n}){const r=t,i=(E,P)=>{const I=pi(String(E)).locale(P).startOf("year"),R=I.endOf("year").dayOfYear();return Vv(R).map(N=>I.add(N,"day").toDate())},s=vn("year-table"),{t:l,lang:c}=ca(),a=Te(),f=Te(),A=le(()=>Math.floor(r.date.year()/10)*10),m=()=>{var E;(E=f.value)==null||E.focus()},_=E=>{const P={},I=pi().locale(c.value);return P.disabled=r.disabledDate?i(E,c.value).every(r.disabledDate):!1,P.current=Id(r.parsedValue).findIndex(F=>F.year()===E)>=0,P.today=I.year()===E,P},y=E=>E===A.value&&r.date.year()<A.value&&r.date.year()>A.value+9||Id(r.date).findIndex(P=>P.year()===E)>=0||Id(r.parsedValue).findIndex(P=>(P==null?void 0:P.year())===E)>=0,T=E=>{const I=E.target.closest("td");if(I&&I.textContent){if(xf(I,"disabled"))return;const F=I.textContent||I.innerText;if(r.selectionMode==="years"){if(E.type==="keydown"){n("pick",Id(r.parsedValue),!1);return}const R=xf(I,"current")?Id(r.parsedValue).filter(N=>(N==null?void 0:N.year())!==Number(F)):Id(r.parsedValue).concat([pi(F)]);n("pick",R)}else n("pick",Number(F))}};return un(()=>r.date,async()=>{var E,P;(E=a.value)!=null&&E.contains(document.activeElement)&&(await dr(),(P=f.value)==null||P.focus())}),e({focus:m}),(E,P)=>(X(),ve("table",{role:"grid","aria-label":S(l)("el.datepicker.yearTablePrompt"),class:Se(S(s).b()),onClick:T},[pe("tbody",{ref_key:"tbodyRef",ref:a},[(X(),ve(Vn,null,Yr(3,(I,F)=>pe("tr",{key:F},[(X(),ve(Vn,null,Yr(4,(R,N)=>(X(),ve(Vn,{key:F+"_"+N},[F*4+N<10?(X(),ve("td",{key:0,ref_for:!0,ref:z=>y(S(A)+F*4+N)&&(f.value=z),class:Se(["available",_(S(A)+F*4+N)]),"aria-selected":`${y(S(A)+F*4+N)}`,tabindex:y(S(A)+F*4+N)?0:-1,onKeydown:[Qa(Fr(T,["prevent","stop"]),["space"]),Qa(Fr(T,["prevent","stop"]),["enter"])]},[pe("div",null,[pe("span",OVe,Cn(S(A)+F*4+N),1)])],42,RVe)):(X(),ve("td",DVe))],64))),64))])),64))],512)],10,kVe))}});var UVe=kn(NVe,[["__file","basic-year-table.vue"]]);const zVe=["onClick"],$Ve=["aria-label"],VVe=["aria-label"],HVe=["aria-label"],QVe=["aria-label"],jVe=Be({__name:"panel-date-pick",props:dVe,emits:["pick","set-picker-option","panel-change"],setup(t,{emit:e}){const n=t,r=(Xe,Pt,Bt)=>!0,i=vn("picker-panel"),s=vn("date-picker"),l=py(),c=Eo(),{t:a,lang:f}=ca(),A=ar("EP_PICKER_BASE"),m=ar(cB),{shortcuts:_,disabledDate:y,cellClassName:T,defaultTime:E}=A.props,P=Oa(A.props,"defaultValue"),I=Te(),F=Te(pi().locale(f.value)),R=Te(!1);let N=!1;const z=le(()=>pi(E).locale(f.value)),Q=le(()=>F.value.month()),j=le(()=>F.value.year()),H=Te([]),K=Te(null),ie=Te(null),q=Xe=>H.value.length>0?r(Xe,H.value,n.format||"HH:mm:ss"):!0,W=Xe=>E&&!Ge.value&&!R.value&&!N?z.value.year(Xe.year()).month(Xe.month()).date(Xe.date()):Le.value?Xe.millisecond(0):Xe.startOf("day"),ee=(Xe,...Pt)=>{if(!Xe)e("pick",Xe,...Pt);else if(Jn(Xe)){const Bt=Xe.map(W);e("pick",Bt,...Pt)}else e("pick",W(Xe),...Pt);K.value=null,ie.value=null,R.value=!1,N=!1},ue=async(Xe,Pt)=>{if(ye.value==="date"){Xe=Xe;let Bt=n.parsedValue?n.parsedValue.year(Xe.year()).month(Xe.month()).date(Xe.date()):Xe;q(Bt)||(Bt=H.value[0][0].year(Xe.year()).month(Xe.month()).date(Xe.date())),F.value=Bt,ee(Bt,Le.value||Pt),n.type==="datetime"&&(await dr(),De())}else ye.value==="week"?ee(Xe.date):ye.value==="dates"&&ee(Xe,!0)},J=Xe=>{const Pt=Xe?"add":"subtract";F.value=F.value[Pt](1,"month"),It("month")},te=Xe=>{const Pt=F.value,Bt=Xe?"add":"subtract";F.value=ne.value==="year"?Pt[Bt](10,"year"):Pt[Bt](1,"year"),It("year")},ne=Te("date"),he=le(()=>{const Xe=a("el.datepicker.year");if(ne.value==="year"){const Pt=Math.floor(j.value/10)*10;return Xe?`${Pt} ${Xe} - ${Pt+9} ${Xe}`:`${Pt} - ${Pt+9}`}return`${j.value} ${Xe}`}),ce=Xe=>{const Pt=Dr(Xe.value)?Xe.value():Xe.value;if(Pt){N=!0,ee(pi(Pt).locale(f.value));return}Xe.onClick&&Xe.onClick({attrs:l,slots:c,emit:e})},ye=le(()=>{const{type:Xe}=n;return["week","month","year","years","dates"].includes(Xe)?Xe:"date"}),Ee=le(()=>ye.value==="date"?ne.value:ye.value),se=le(()=>!!_.length),oe=async Xe=>{F.value=F.value.startOf("month").month(Xe),ye.value==="month"?ee(F.value,!1):(ne.value="date",["month","year","date","week"].includes(ye.value)&&(ee(F.value,!0),await dr(),De())),It("month")},_e=async(Xe,Pt)=>{ye.value==="year"?(F.value=F.value.startOf("year").year(Xe),ee(F.value,!1)):ye.value==="years"?ee(Xe,Pt??!0):(F.value=F.value.year(Xe),ne.value="month",["month","year","date","week"].includes(ye.value)&&(ee(F.value,!0),await dr(),De())),It("year")},Ue=async Xe=>{ne.value=Xe,await dr(),De()},Le=le(()=>n.type==="datetime"||n.type==="datetimerange"),be=le(()=>{const Xe=Le.value||ye.value==="dates",Pt=ye.value==="years",Bt=ne.value==="date",it=ne.value==="year";return Xe&&Bt||Pt&&it}),Re=le(()=>y?n.parsedValue?Jn(n.parsedValue)?y(n.parsedValue[0].toDate()):y(n.parsedValue.toDate()):!0:!1),Qe=()=>{if(ye.value==="dates"||ye.value==="years")ee(n.parsedValue);else{let Xe=n.parsedValue;if(!Xe){const Pt=pi(E).locale(f.value),Bt=wt();Xe=Pt.year(Bt.year()).month(Bt.month()).date(Bt.date())}F.value=Xe,ee(Xe)}},Je=le(()=>y?y(pi().locale(f.value).toDate()):!1),nt=()=>{const Pt=pi().locale(f.value).toDate();R.value=!0,(!y||!y(Pt))&&q(Pt)&&(F.value=pi().locale(f.value),ee(F.value))},Ve=le(()=>n.timeFormat||Cie(n.format)),Pe=le(()=>n.dateFormat||xie(n.format)),Ge=le(()=>{if(ie.value)return ie.value;if(!(!n.parsedValue&&!P.value))return(n.parsedValue||F.value).format(Ve.value)}),Ne=le(()=>{if(K.value)return K.value;if(!(!n.parsedValue&&!P.value))return(n.parsedValue||F.value).format(Pe.value)}),je=Te(!1),Ye=()=>{je.value=!0},vt=()=>{je.value=!1},Lt=Xe=>({hour:Xe.hour(),minute:Xe.minute(),second:Xe.second(),year:Xe.year(),month:Xe.month(),date:Xe.date()}),Et=(Xe,Pt,Bt)=>{const{hour:it,minute:Mt,second:at}=Lt(Xe),et=n.parsedValue?n.parsedValue.hour(it).minute(Mt).second(at):Xe;F.value=et,ee(F.value,!0),Bt||(je.value=Pt)},Vt=Xe=>{const Pt=pi(Xe,Ve.value).locale(f.value);if(Pt.isValid()&&q(Pt)){const{year:Bt,month:it,date:Mt}=Lt(F.value);F.value=Pt.year(Bt).month(it).date(Mt),ie.value=null,je.value=!1,ee(F.value,!0)}},_t=Xe=>{const Pt=pi(Xe,Pe.value).locale(f.value);if(Pt.isValid()){if(y&&y(Pt.toDate()))return;const{hour:Bt,minute:it,second:Mt}=Lt(F.value);F.value=Pt.hour(Bt).minute(it).second(Mt),K.value=null,ee(F.value,!0)}},qt=Xe=>pi.isDayjs(Xe)&&Xe.isValid()&&(y?!y(Xe.toDate()):!0),tn=Xe=>Jn(Xe)?Xe.map(Pt=>Pt.format(n.format)):Xe.format(n.format),Nt=Xe=>pi(Xe,n.format).locale(f.value),wt=()=>{const Xe=pi(P.value).locale(f.value);if(!P.value){const Pt=z.value;return pi().hour(Pt.hour()).minute(Pt.minute()).second(Pt.second()).locale(f.value)}return Xe},De=async()=>{var Xe;["week","month","year","date"].includes(ye.value)&&((Xe=I.value)==null||Xe.focus(),ye.value==="week"&&ut(Tr.down))},We=Xe=>{const{code:Pt}=Xe;[Tr.up,Tr.down,Tr.left,Tr.right,Tr.home,Tr.end,Tr.pageUp,Tr.pageDown].includes(Pt)&&(ut(Pt),Xe.stopPropagation(),Xe.preventDefault()),[Tr.enter,Tr.space,Tr.numpadEnter].includes(Pt)&&K.value===null&&ie.value===null&&(Xe.preventDefault(),ee(F.value,!1))},ut=Xe=>{var Pt;const{up:Bt,down:it,left:Mt,right:at,home:et,end:St,pageUp:sn,pageDown:bn}=Tr,gr={year:{[Bt]:-4,[it]:4,[Mt]:-1,[at]:1,offset:(Nn,lr)=>Nn.setFullYear(Nn.getFullYear()+lr)},month:{[Bt]:-4,[it]:4,[Mt]:-1,[at]:1,offset:(Nn,lr)=>Nn.setMonth(Nn.getMonth()+lr)},week:{[Bt]:-1,[it]:1,[Mt]:-1,[at]:1,offset:(Nn,lr)=>Nn.setDate(Nn.getDate()+lr*7)},date:{[Bt]:-7,[it]:7,[Mt]:-1,[at]:1,[et]:Nn=>-Nn.getDay(),[St]:Nn=>-Nn.getDay()+6,[sn]:Nn=>-new Date(Nn.getFullYear(),Nn.getMonth(),0).getDate(),[bn]:Nn=>new Date(Nn.getFullYear(),Nn.getMonth()+1,0).getDate(),offset:(Nn,lr)=>Nn.setDate(Nn.getDate()+lr)}},tr=F.value.toDate();for(;Math.abs(F.value.diff(tr,"year",!0))<1;){const Nn=gr[Ee.value];if(!Nn)return;if(Nn.offset(tr,Dr(Nn[Xe])?Nn[Xe](tr):(Pt=Nn[Xe])!=null?Pt:0),y&&y(tr))break;const lr=pi(tr).locale(f.value);F.value=lr,e("pick",lr,!0);break}},It=Xe=>{e("panel-change",F.value.toDate(),Xe,ne.value)};return un(()=>ye.value,Xe=>{if(["month","year"].includes(Xe)){ne.value=Xe;return}else if(Xe==="years"){ne.value="year";return}ne.value="date"},{immediate:!0}),un(()=>ne.value,()=>{m==null||m.updatePopper()}),un(()=>P.value,Xe=>{Xe&&(F.value=wt())},{immediate:!0}),un(()=>n.parsedValue,Xe=>{if(Xe){if(ye.value==="dates"||ye.value==="years"||Array.isArray(Xe))return;F.value=Xe}else F.value=wt()},{immediate:!0}),e("set-picker-option",["isValidValue",qt]),e("set-picker-option",["formatToString",tn]),e("set-picker-option",["parseUserInput",Nt]),e("set-picker-option",["handleFocusPicker",De]),(Xe,Pt)=>(X(),ve("div",{class:Se([S(i).b(),S(s).b(),{"has-sidebar":Xe.$slots.sidebar||S(se),"has-time":S(Le)}])},[pe("div",{class:Se(S(i).e("body-wrapper"))},[kt(Xe.$slots,"sidebar",{class:Se(S(i).e("sidebar"))}),S(se)?(X(),ve("div",{key:0,class:Se(S(i).e("sidebar"))},[(X(!0),ve(Vn,null,Yr(S(_),(Bt,it)=>(X(),ve("button",{key:it,type:"button",class:Se(S(i).e("shortcut")),onClick:Mt=>ce(Bt)},Cn(Bt.text),11,zVe))),128))],2)):bt("v-if",!0),pe("div",{class:Se(S(i).e("body"))},[S(Le)?(X(),ve("div",{key:0,class:Se(S(s).e("time-header"))},[pe("span",{class:Se(S(s).e("editor-wrap"))},[ht(S(Pc),{placeholder:S(a)("el.datepicker.selectDate"),"model-value":S(Ne),size:"small","validate-event":!1,onInput:Pt[0]||(Pt[0]=Bt=>K.value=Bt),onChange:_t},null,8,["placeholder","model-value"])],2),Jr((X(),ve("span",{class:Se(S(s).e("editor-wrap"))},[ht(S(Pc),{placeholder:S(a)("el.datepicker.selectTime"),"model-value":S(Ge),size:"small","validate-event":!1,onFocus:Ye,onInput:Pt[1]||(Pt[1]=Bt=>ie.value=Bt),onChange:Vt},null,8,["placeholder","model-value"]),ht(S(CT),{visible:je.value,format:S(Ve),"parsed-value":F.value,onPick:Et},null,8,["visible","format","parsed-value"])],2)),[[S(Xg),vt]])],2)):bt("v-if",!0),Jr(pe("div",{class:Se([S(s).e("header"),(ne.value==="year"||ne.value==="month")&&S(s).e("header--bordered")])},[pe("span",{class:Se(S(s).e("prev-btn"))},[pe("button",{type:"button","aria-label":S(a)("el.datepicker.prevYear"),class:Se(["d-arrow-left",S(i).e("icon-btn")]),onClick:Pt[2]||(Pt[2]=Bt=>te(!1))},[ht(S(Ar),null,{default:xt(()=>[ht(S(ry))]),_:1})],10,$Ve),Jr(pe("button",{type:"button","aria-label":S(a)("el.datepicker.prevMonth"),class:Se([S(i).e("icon-btn"),"arrow-left"]),onClick:Pt[3]||(Pt[3]=Bt=>J(!1))},[ht(S(Ar),null,{default:xt(()=>[ht(S(qg))]),_:1})],10,VVe),[[la,ne.value==="date"]])],2),pe("span",{role:"button",class:Se(S(s).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:Pt[4]||(Pt[4]=Qa(Bt=>Ue("year"),["enter"])),onClick:Pt[5]||(Pt[5]=Bt=>Ue("year"))},Cn(S(he)),35),Jr(pe("span",{role:"button","aria-live":"polite",tabindex:"0",class:Se([S(s).e("header-label"),{active:ne.value==="month"}]),onKeydown:Pt[6]||(Pt[6]=Qa(Bt=>Ue("month"),["enter"])),onClick:Pt[7]||(Pt[7]=Bt=>Ue("month"))},Cn(S(a)(`el.datepicker.month${S(Q)+1}`)),35),[[la,ne.value==="date"]]),pe("span",{class:Se(S(s).e("next-btn"))},[Jr(pe("button",{type:"button","aria-label":S(a)("el.datepicker.nextMonth"),class:Se([S(i).e("icon-btn"),"arrow-right"]),onClick:Pt[8]||(Pt[8]=Bt=>J(!0))},[ht(S(Ar),null,{default:xt(()=>[ht(S(Oc))]),_:1})],10,HVe),[[la,ne.value==="date"]]),pe("button",{type:"button","aria-label":S(a)("el.datepicker.nextYear"),class:Se([S(i).e("icon-btn"),"d-arrow-right"]),onClick:Pt[9]||(Pt[9]=Bt=>te(!0))},[ht(S(Ar),null,{default:xt(()=>[ht(S(iy))]),_:1})],10,QVe)],2)],2),[[la,ne.value!=="time"]]),pe("div",{class:Se(S(i).e("content")),onKeydown:We},[ne.value==="date"?(X(),Ut(qk,{key:0,ref_key:"currentViewRef",ref:I,"selection-mode":S(ye),date:F.value,"parsed-value":Xe.parsedValue,"disabled-date":S(y),"cell-class-name":S(T),onPick:ue},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):bt("v-if",!0),ne.value==="year"?(X(),Ut(UVe,{key:1,ref_key:"currentViewRef",ref:I,"selection-mode":S(ye),date:F.value,"disabled-date":S(y),"parsed-value":Xe.parsedValue,onPick:_e},null,8,["selection-mode","date","disabled-date","parsed-value"])):bt("v-if",!0),ne.value==="month"?(X(),Ut(Yk,{key:2,ref_key:"currentViewRef",ref:I,date:F.value,"parsed-value":Xe.parsedValue,"disabled-date":S(y),onPick:oe},null,8,["date","parsed-value","disabled-date"])):bt("v-if",!0)],34)],2)],2),Jr(pe("div",{class:Se(S(i).e("footer"))},[Jr(ht(S(yu),{text:"",size:"small",class:Se(S(i).e("link-btn")),disabled:S(Je),onClick:nt},{default:xt(()=>[wi(Cn(S(a)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[la,S(ye)!=="dates"&&S(ye)!=="years"]]),ht(S(yu),{plain:"",size:"small",class:Se(S(i).e("link-btn")),disabled:S(Re),onClick:Qe},{default:xt(()=>[wi(Cn(S(a)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[la,S(be)]])],2))}});var GVe=kn(jVe,[["__file","panel-date-pick.vue"]]);const KVe=Ln({...vae,..._ae}),WVe=t=>{const{emit:e}=ci(),n=py(),r=Eo();return s=>{const l=Dr(s.value)?s.value():s.value;if(l){e("pick",[pi(l[0]).locale(t.value),pi(l[1]).locale(t.value)]);return}s.onClick&&s.onClick({attrs:n,slots:r,emit:e})}},bae=(t,{defaultValue:e,leftDate:n,rightDate:r,unit:i,onParsedValueChanged:s})=>{const{emit:l}=ci(),{pickerNs:c}=ar(w9),a=vn("date-range-picker"),{t:f,lang:A}=ca(),m=WVe(A),_=Te(),y=Te(),T=Te({endDate:null,selecting:!1}),E=R=>{T.value=R},P=(R=!1)=>{const N=S(_),z=S(y);Kk([N,z])&&l("pick",[N,z],R)},I=R=>{T.value.selecting=R,R||(T.value.endDate=null)},F=()=>{const[R,N]=yae(S(e),{lang:S(A),unit:i,unlinkPanels:t.unlinkPanels});_.value=void 0,y.value=void 0,n.value=R,r.value=N};return un(e,R=>{R&&F()},{immediate:!0}),un(()=>t.parsedValue,R=>{if(Jn(R)&&R.length===2){const[N,z]=R;_.value=N,n.value=N,y.value=z,s(S(_),S(y))}else F()},{immediate:!0}),{minDate:_,maxDate:y,rangeState:T,lang:A,ppNs:c,drpNs:a,handleChangeRange:E,handleRangeConfirm:P,handleShortcutClick:m,onSelect:I,t:f}},qVe=["onClick"],YVe=["aria-label"],XVe=["aria-label"],ZVe=["disabled","aria-label"],JVe=["disabled","aria-label"],eHe=["disabled","aria-label"],tHe=["disabled","aria-label"],nHe=["aria-label"],rHe=["aria-label"],GE="month",iHe=Be({__name:"panel-date-range",props:KVe,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(t,{emit:e}){const n=t,r=ar("EP_PICKER_BASE"),{disabledDate:i,cellClassName:s,format:l,defaultTime:c,clearable:a}=r.props,f=Oa(r.props,"shortcuts"),A=Oa(r.props,"defaultValue"),{lang:m}=ca(),_=Te(pi().locale(m.value)),y=Te(pi().locale(m.value).add(1,GE)),{minDate:T,maxDate:E,rangeState:P,ppNs:I,drpNs:F,handleChangeRange:R,handleRangeConfirm:N,handleShortcutClick:z,onSelect:Q,t:j}=bae(n,{defaultValue:A,leftDate:_,rightDate:y,unit:GE,onParsedValueChanged:Pt}),H=Te({min:null,max:null}),K=Te({min:null,max:null}),ie=le(()=>`${_.value.year()} ${j("el.datepicker.year")} ${j(`el.datepicker.month${_.value.month()+1}`)}`),q=le(()=>`${y.value.year()} ${j("el.datepicker.year")} ${j(`el.datepicker.month${y.value.month()+1}`)}`),W=le(()=>_.value.year()),ee=le(()=>_.value.month()),ue=le(()=>y.value.year()),J=le(()=>y.value.month()),te=le(()=>!!f.value.length),ne=le(()=>H.value.min!==null?H.value.min:T.value?T.value.format(se.value):""),he=le(()=>H.value.max!==null?H.value.max:E.value||T.value?(E.value||T.value).format(se.value):""),ce=le(()=>K.value.min!==null?K.value.min:T.value?T.value.format(Ee.value):""),ye=le(()=>K.value.max!==null?K.value.max:E.value||T.value?(E.value||T.value).format(Ee.value):""),Ee=le(()=>n.timeFormat||Cie(l)),se=le(()=>n.dateFormat||xie(l)),oe=Bt=>Kk(Bt)&&(i?!i(Bt[0].toDate())&&!i(Bt[1].toDate()):!0),_e=()=>{_.value=_.value.subtract(1,"year"),n.unlinkPanels||(y.value=_.value.add(1,"month")),Ve("year")},Ue=()=>{_.value=_.value.subtract(1,"month"),n.unlinkPanels||(y.value=_.value.add(1,"month")),Ve("month")},Le=()=>{n.unlinkPanels?y.value=y.value.add(1,"year"):(_.value=_.value.add(1,"year"),y.value=_.value.add(1,"month")),Ve("year")},be=()=>{n.unlinkPanels?y.value=y.value.add(1,"month"):(_.value=_.value.add(1,"month"),y.value=_.value.add(1,"month")),Ve("month")},Re=()=>{_.value=_.value.add(1,"year"),Ve("year")},Qe=()=>{_.value=_.value.add(1,"month"),Ve("month")},Je=()=>{y.value=y.value.subtract(1,"year"),Ve("year")},nt=()=>{y.value=y.value.subtract(1,"month"),Ve("month")},Ve=Bt=>{e("panel-change",[_.value.toDate(),y.value.toDate()],Bt)},Pe=le(()=>{const Bt=(ee.value+1)%12,it=ee.value+1>=12?1:0;return n.unlinkPanels&&new Date(W.value+it,Bt)<new Date(ue.value,J.value)}),Ge=le(()=>n.unlinkPanels&&ue.value*12+J.value-(W.value*12+ee.value+1)>=12),Ne=le(()=>!(T.value&&E.value&&!P.value.selecting&&Kk([T.value,E.value]))),je=le(()=>n.type==="datetime"||n.type==="datetimerange"),Ye=(Bt,it)=>{if(Bt)return c?pi(c[it]||c).locale(m.value).year(Bt.year()).month(Bt.month()).date(Bt.date()):Bt},vt=(Bt,it=!0)=>{const Mt=Bt.minDate,at=Bt.maxDate,et=Ye(Mt,0),St=Ye(at,1);E.value===St&&T.value===et||(e("calendar-change",[Mt.toDate(),at&&at.toDate()]),E.value=St,T.value=et,!(!it||je.value)&&N())},Lt=Te(!1),Et=Te(!1),Vt=()=>{Lt.value=!1},_t=()=>{Et.value=!1},qt=(Bt,it)=>{H.value[it]=Bt;const Mt=pi(Bt,se.value).locale(m.value);if(Mt.isValid()){if(i&&i(Mt.toDate()))return;it==="min"?(_.value=Mt,T.value=(T.value||_.value).year(Mt.year()).month(Mt.month()).date(Mt.date()),!n.unlinkPanels&&(!E.value||E.value.isBefore(T.value))&&(y.value=Mt.add(1,"month"),E.value=T.value.add(1,"month"))):(y.value=Mt,E.value=(E.value||y.value).year(Mt.year()).month(Mt.month()).date(Mt.date()),!n.unlinkPanels&&(!T.value||T.value.isAfter(E.value))&&(_.value=Mt.subtract(1,"month"),T.value=E.value.subtract(1,"month")))}},tn=(Bt,it)=>{H.value[it]=null},Nt=(Bt,it)=>{K.value[it]=Bt;const Mt=pi(Bt,Ee.value).locale(m.value);Mt.isValid()&&(it==="min"?(Lt.value=!0,T.value=(T.value||_.value).hour(Mt.hour()).minute(Mt.minute()).second(Mt.second()),(!E.value||E.value.isBefore(T.value))&&(E.value=T.value)):(Et.value=!0,E.value=(E.value||y.value).hour(Mt.hour()).minute(Mt.minute()).second(Mt.second()),y.value=E.value,E.value&&E.value.isBefore(T.value)&&(T.value=E.value)))},wt=(Bt,it)=>{K.value[it]=null,it==="min"?(_.value=T.value,Lt.value=!1):(y.value=E.value,Et.value=!1)},De=(Bt,it,Mt)=>{K.value.min||(Bt&&(_.value=Bt,T.value=(T.value||_.value).hour(Bt.hour()).minute(Bt.minute()).second(Bt.second())),Mt||(Lt.value=it),(!E.value||E.value.isBefore(T.value))&&(E.value=T.value,y.value=Bt))},We=(Bt,it,Mt)=>{K.value.max||(Bt&&(y.value=Bt,E.value=(E.value||y.value).hour(Bt.hour()).minute(Bt.minute()).second(Bt.second())),Mt||(Et.value=it),E.value&&E.value.isBefore(T.value)&&(T.value=E.value))},ut=()=>{_.value=yae(S(A),{lang:S(m),unit:"month",unlinkPanels:n.unlinkPanels})[0],y.value=_.value.add(1,"month"),E.value=void 0,T.value=void 0,e("pick",null)},It=Bt=>Jn(Bt)?Bt.map(it=>it.format(l)):Bt.format(l),Xe=Bt=>Jn(Bt)?Bt.map(it=>pi(it,l).locale(m.value)):pi(Bt,l).locale(m.value);function Pt(Bt,it){if(n.unlinkPanels&&it){const Mt=(Bt==null?void 0:Bt.year())||0,at=(Bt==null?void 0:Bt.month())||0,et=it.year(),St=it.month();y.value=Mt===et&&at===St?it.add(1,GE):it}else y.value=_.value.add(1,GE),it&&(y.value=y.value.hour(it.hour()).minute(it.minute()).second(it.second()))}return e("set-picker-option",["isValidValue",oe]),e("set-picker-option",["parseUserInput",Xe]),e("set-picker-option",["formatToString",It]),e("set-picker-option",["handleClear",ut]),(Bt,it)=>(X(),ve("div",{class:Se([S(I).b(),S(F).b(),{"has-sidebar":Bt.$slots.sidebar||S(te),"has-time":S(je)}])},[pe("div",{class:Se(S(I).e("body-wrapper"))},[kt(Bt.$slots,"sidebar",{class:Se(S(I).e("sidebar"))}),S(te)?(X(),ve("div",{key:0,class:Se(S(I).e("sidebar"))},[(X(!0),ve(Vn,null,Yr(S(f),(Mt,at)=>(X(),ve("button",{key:at,type:"button",class:Se(S(I).e("shortcut")),onClick:et=>S(z)(Mt)},Cn(Mt.text),11,qVe))),128))],2)):bt("v-if",!0),pe("div",{class:Se(S(I).e("body"))},[S(je)?(X(),ve("div",{key:0,class:Se(S(F).e("time-header"))},[pe("span",{class:Se(S(F).e("editors-wrap"))},[pe("span",{class:Se(S(F).e("time-picker-wrap"))},[ht(S(Pc),{size:"small",disabled:S(P).selecting,placeholder:S(j)("el.datepicker.startDate"),class:Se(S(F).e("editor")),"model-value":S(ne),"validate-event":!1,onInput:it[0]||(it[0]=Mt=>qt(Mt,"min")),onChange:it[1]||(it[1]=Mt=>tn(Mt,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),Jr((X(),ve("span",{class:Se(S(F).e("time-picker-wrap"))},[ht(S(Pc),{size:"small",class:Se(S(F).e("editor")),disabled:S(P).selecting,placeholder:S(j)("el.datepicker.startTime"),"model-value":S(ce),"validate-event":!1,onFocus:it[2]||(it[2]=Mt=>Lt.value=!0),onInput:it[3]||(it[3]=Mt=>Nt(Mt,"min")),onChange:it[4]||(it[4]=Mt=>wt(Mt,"min"))},null,8,["class","disabled","placeholder","model-value"]),ht(S(CT),{visible:Lt.value,format:S(Ee),"datetime-role":"start","parsed-value":_.value,onPick:De},null,8,["visible","format","parsed-value"])],2)),[[S(Xg),Vt]])],2),pe("span",null,[ht(S(Ar),null,{default:xt(()=>[ht(S(Oc))]),_:1})]),pe("span",{class:Se([S(F).e("editors-wrap"),"is-right"])},[pe("span",{class:Se(S(F).e("time-picker-wrap"))},[ht(S(Pc),{size:"small",class:Se(S(F).e("editor")),disabled:S(P).selecting,placeholder:S(j)("el.datepicker.endDate"),"model-value":S(he),readonly:!S(T),"validate-event":!1,onInput:it[5]||(it[5]=Mt=>qt(Mt,"max")),onChange:it[6]||(it[6]=Mt=>tn(Mt,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),Jr((X(),ve("span",{class:Se(S(F).e("time-picker-wrap"))},[ht(S(Pc),{size:"small",class:Se(S(F).e("editor")),disabled:S(P).selecting,placeholder:S(j)("el.datepicker.endTime"),"model-value":S(ye),readonly:!S(T),"validate-event":!1,onFocus:it[7]||(it[7]=Mt=>S(T)&&(Et.value=!0)),onInput:it[8]||(it[8]=Mt=>Nt(Mt,"max")),onChange:it[9]||(it[9]=Mt=>wt(Mt,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),ht(S(CT),{"datetime-role":"end",visible:Et.value,format:S(Ee),"parsed-value":y.value,onPick:We},null,8,["visible","format","parsed-value"])],2)),[[S(Xg),_t]])],2)],2)):bt("v-if",!0),pe("div",{class:Se([[S(I).e("content"),S(F).e("content")],"is-left"])},[pe("div",{class:Se(S(F).e("header"))},[pe("button",{type:"button",class:Se([S(I).e("icon-btn"),"d-arrow-left"]),"aria-label":S(j)("el.datepicker.prevYear"),onClick:_e},[ht(S(Ar),null,{default:xt(()=>[ht(S(ry))]),_:1})],10,YVe),pe("button",{type:"button",class:Se([S(I).e("icon-btn"),"arrow-left"]),"aria-label":S(j)("el.datepicker.prevMonth"),onClick:Ue},[ht(S(Ar),null,{default:xt(()=>[ht(S(qg))]),_:1})],10,XVe),Bt.unlinkPanels?(X(),ve("button",{key:0,type:"button",disabled:!S(Ge),class:Se([[S(I).e("icon-btn"),{"is-disabled":!S(Ge)}],"d-arrow-right"]),"aria-label":S(j)("el.datepicker.nextYear"),onClick:Re},[ht(S(Ar),null,{default:xt(()=>[ht(S(iy))]),_:1})],10,ZVe)):bt("v-if",!0),Bt.unlinkPanels?(X(),ve("button",{key:1,type:"button",disabled:!S(Pe),class:Se([[S(I).e("icon-btn"),{"is-disabled":!S(Pe)}],"arrow-right"]),"aria-label":S(j)("el.datepicker.nextMonth"),onClick:Qe},[ht(S(Ar),null,{default:xt(()=>[ht(S(Oc))]),_:1})],10,JVe)):bt("v-if",!0),pe("div",null,Cn(S(ie)),1)],2),ht(qk,{"selection-mode":"range",date:_.value,"min-date":S(T),"max-date":S(E),"range-state":S(P),"disabled-date":S(i),"cell-class-name":S(s),onChangerange:S(R),onPick:vt,onSelect:S(Q)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),pe("div",{class:Se([[S(I).e("content"),S(F).e("content")],"is-right"])},[pe("div",{class:Se(S(F).e("header"))},[Bt.unlinkPanels?(X(),ve("button",{key:0,type:"button",disabled:!S(Ge),class:Se([[S(I).e("icon-btn"),{"is-disabled":!S(Ge)}],"d-arrow-left"]),"aria-label":S(j)("el.datepicker.prevYear"),onClick:Je},[ht(S(Ar),null,{default:xt(()=>[ht(S(ry))]),_:1})],10,eHe)):bt("v-if",!0),Bt.unlinkPanels?(X(),ve("button",{key:1,type:"button",disabled:!S(Pe),class:Se([[S(I).e("icon-btn"),{"is-disabled":!S(Pe)}],"arrow-left"]),"aria-label":S(j)("el.datepicker.prevMonth"),onClick:nt},[ht(S(Ar),null,{default:xt(()=>[ht(S(qg))]),_:1})],10,tHe)):bt("v-if",!0),pe("button",{type:"button","aria-label":S(j)("el.datepicker.nextYear"),class:Se([S(I).e("icon-btn"),"d-arrow-right"]),onClick:Le},[ht(S(Ar),null,{default:xt(()=>[ht(S(iy))]),_:1})],10,nHe),pe("button",{type:"button",class:Se([S(I).e("icon-btn"),"arrow-right"]),"aria-label":S(j)("el.datepicker.nextMonth"),onClick:be},[ht(S(Ar),null,{default:xt(()=>[ht(S(Oc))]),_:1})],10,rHe),pe("div",null,Cn(S(q)),1)],2),ht(qk,{"selection-mode":"range",date:y.value,"min-date":S(T),"max-date":S(E),"range-state":S(P),"disabled-date":S(i),"cell-class-name":S(s),onChangerange:S(R),onPick:vt,onSelect:S(Q)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),S(je)?(X(),ve("div",{key:0,class:Se(S(I).e("footer"))},[S(a)?(X(),Ut(S(yu),{key:0,text:"",size:"small",class:Se(S(I).e("link-btn")),onClick:ut},{default:xt(()=>[wi(Cn(S(j)("el.datepicker.clear")),1)]),_:1},8,["class"])):bt("v-if",!0),ht(S(yu),{plain:"",size:"small",class:Se(S(I).e("link-btn")),disabled:S(Ne),onClick:it[10]||(it[10]=Mt=>S(N)(!1))},{default:xt(()=>[wi(Cn(S(j)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):bt("v-if",!0)],2))}});var aHe=kn(iHe,[["__file","panel-date-range.vue"]]);const sHe=Ln({..._ae}),oHe=["pick","set-picker-option","calendar-change"],lHe=({unlinkPanels:t,leftDate:e,rightDate:n})=>{const{t:r}=ca(),i=()=>{e.value=e.value.subtract(1,"year"),t.value||(n.value=n.value.subtract(1,"year"))},s=()=>{t.value||(e.value=e.value.add(1,"year")),n.value=n.value.add(1,"year")},l=()=>{e.value=e.value.add(1,"year")},c=()=>{n.value=n.value.subtract(1,"year")},a=le(()=>`${e.value.year()} ${r("el.datepicker.year")}`),f=le(()=>`${n.value.year()} ${r("el.datepicker.year")}`),A=le(()=>e.value.year()),m=le(()=>n.value.year()===e.value.year()?e.value.year()+1:n.value.year());return{leftPrevYear:i,rightNextYear:s,leftNextYear:l,rightPrevYear:c,leftLabel:a,rightLabel:f,leftYear:A,rightYear:m}},uHe=["onClick"],cHe=["disabled"],hHe=["disabled"],KE="year",dHe=Be({name:"DatePickerMonthRange"}),fHe=Be({...dHe,props:sHe,emits:oHe,setup(t,{emit:e}){const n=t,{lang:r}=ca(),i=ar("EP_PICKER_BASE"),{shortcuts:s,disabledDate:l,format:c}=i.props,a=Oa(i.props,"defaultValue"),f=Te(pi().locale(r.value)),A=Te(pi().locale(r.value).add(1,KE)),{minDate:m,maxDate:_,rangeState:y,ppNs:T,drpNs:E,handleChangeRange:P,handleRangeConfirm:I,handleShortcutClick:F,onSelect:R}=bae(n,{defaultValue:a,leftDate:f,rightDate:A,unit:KE,onParsedValueChanged:te}),N=le(()=>!!s.length),{leftPrevYear:z,rightNextYear:Q,leftNextYear:j,rightPrevYear:H,leftLabel:K,rightLabel:ie,leftYear:q,rightYear:W}=lHe({unlinkPanels:Oa(n,"unlinkPanels"),leftDate:f,rightDate:A}),ee=le(()=>n.unlinkPanels&&W.value>q.value+1),ue=(ne,he=!0)=>{const ce=ne.minDate,ye=ne.maxDate;_.value===ye&&m.value===ce||(e("calendar-change",[ce.toDate(),ye&&ye.toDate()]),_.value=ye,m.value=ce,he&&I())},J=ne=>ne.map(he=>he.format(c));function te(ne,he){if(n.unlinkPanels&&he){const ce=(ne==null?void 0:ne.year())||0,ye=he.year();A.value=ce===ye?he.add(1,KE):he}else A.value=f.value.add(1,KE)}return e("set-picker-option",["formatToString",J]),(ne,he)=>(X(),ve("div",{class:Se([S(T).b(),S(E).b(),{"has-sidebar":!!ne.$slots.sidebar||S(N)}])},[pe("div",{class:Se(S(T).e("body-wrapper"))},[kt(ne.$slots,"sidebar",{class:Se(S(T).e("sidebar"))}),S(N)?(X(),ve("div",{key:0,class:Se(S(T).e("sidebar"))},[(X(!0),ve(Vn,null,Yr(S(s),(ce,ye)=>(X(),ve("button",{key:ye,type:"button",class:Se(S(T).e("shortcut")),onClick:Ee=>S(F)(ce)},Cn(ce.text),11,uHe))),128))],2)):bt("v-if",!0),pe("div",{class:Se(S(T).e("body"))},[pe("div",{class:Se([[S(T).e("content"),S(E).e("content")],"is-left"])},[pe("div",{class:Se(S(E).e("header"))},[pe("button",{type:"button",class:Se([S(T).e("icon-btn"),"d-arrow-left"]),onClick:he[0]||(he[0]=(...ce)=>S(z)&&S(z)(...ce))},[ht(S(Ar),null,{default:xt(()=>[ht(S(ry))]),_:1})],2),ne.unlinkPanels?(X(),ve("button",{key:0,type:"button",disabled:!S(ee),class:Se([[S(T).e("icon-btn"),{[S(T).is("disabled")]:!S(ee)}],"d-arrow-right"]),onClick:he[1]||(he[1]=(...ce)=>S(j)&&S(j)(...ce))},[ht(S(Ar),null,{default:xt(()=>[ht(S(iy))]),_:1})],10,cHe)):bt("v-if",!0),pe("div",null,Cn(S(K)),1)],2),ht(Yk,{"selection-mode":"range",date:f.value,"min-date":S(m),"max-date":S(_),"range-state":S(y),"disabled-date":S(l),onChangerange:S(P),onPick:ue,onSelect:S(R)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),pe("div",{class:Se([[S(T).e("content"),S(E).e("content")],"is-right"])},[pe("div",{class:Se(S(E).e("header"))},[ne.unlinkPanels?(X(),ve("button",{key:0,type:"button",disabled:!S(ee),class:Se([[S(T).e("icon-btn"),{"is-disabled":!S(ee)}],"d-arrow-left"]),onClick:he[2]||(he[2]=(...ce)=>S(H)&&S(H)(...ce))},[ht(S(Ar),null,{default:xt(()=>[ht(S(ry))]),_:1})],10,hHe)):bt("v-if",!0),pe("button",{type:"button",class:Se([S(T).e("icon-btn"),"d-arrow-right"]),onClick:he[3]||(he[3]=(...ce)=>S(Q)&&S(Q)(...ce))},[ht(S(Ar),null,{default:xt(()=>[ht(S(iy))]),_:1})],2),pe("div",null,Cn(S(ie)),1)],2),ht(Yk,{"selection-mode":"range",date:A.value,"min-date":S(m),"max-date":S(_),"range-state":S(y),"disabled-date":S(l),onChangerange:S(P),onPick:ue,onSelect:S(R)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var pHe=kn(fHe,[["__file","panel-month-range.vue"]]);const AHe=function(t){switch(t){case"daterange":case"datetimerange":return aHe;case"monthrange":return pHe;default:return GVe}};pi.extend(zie);pi.extend(J$e);pi.extend(_9);pi.extend(tVe);pi.extend(rVe);pi.extend(aVe);pi.extend(oVe);pi.extend(uVe);var mHe=Be({name:"ElDatePicker",install:null,props:cVe,emits:["update:modelValue"],setup(t,{expose:e,emit:n,slots:r}){const i=vn("picker-panel");Ii("ElPopperOptions",ua(Oa(t,"popperOptions"))),Ii(w9,{slots:r,pickerNs:i});const s=Te();e({focus:(a=!0)=>{var f;(f=s.value)==null||f.focus(a)},handleOpen:()=>{var a;(a=s.value)==null||a.handleOpen()},handleClose:()=>{var a;(a=s.value)==null||a.handleClose()}});const c=a=>{n("update:modelValue",a)};return()=>{var a;const f=(a=t.format)!=null?a:Q9e[t.type]||Hb,A=AHe(t.type);return ht(Tie,Xr(t,{format:f,type:t.type,ref:s,"onUpdate:modelValue":c}),{default:m=>ht(A,m,null),"range-separator":r["range-separator"]})}}});const bS=mHe;bS.install=t=>{t.component(bS.name,bS)};const gHe=bS,E9=Symbol("elDescriptions");var Hx=Be({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:ar(E9,{})}},render(){var t,e,n,r,i,s,l;const c=RFe(this.cell),a=(((t=this.cell)==null?void 0:t.dirs)||[]).map(z=>{const{dir:Q,arg:j,modifiers:H,value:K}=z;return[Q,K,j,H]}),{border:f,direction:A}=this.descriptions,m=A==="vertical",_=((r=(n=(e=this.cell)==null?void 0:e.children)==null?void 0:n.label)==null?void 0:r.call(n))||c.label,y=(l=(s=(i=this.cell)==null?void 0:i.children)==null?void 0:s.default)==null?void 0:l.call(s),T=c.span,E=c.align?`is-${c.align}`:"",P=c.labelAlign?`is-${c.labelAlign}`:E,I=c.className,F=c.labelClassName,R={width:Co(c.width),minWidth:Co(c.minWidth)},N=vn("descriptions");switch(this.type){case"label":return Jr(wr(this.tag,{style:R,class:[N.e("cell"),N.e("label"),N.is("bordered-label",f),N.is("vertical-label",m),P,F],colSpan:m?T:1},_),a);case"content":return Jr(wr(this.tag,{style:R,class:[N.e("cell"),N.e("content"),N.is("bordered-content",f),N.is("vertical-content",m),E,I],colSpan:m?T:T*2-1},y),a);default:return Jr(wr("td",{style:R,class:[N.e("cell"),E],colSpan:T},[_u(_)?void 0:wr("span",{class:[N.e("label"),F]},_),wr("span",{class:[N.e("content"),I]},y)]),a)}}});const vHe=Ln({row:{type:Rt(Array),default:()=>[]}}),_He={key:1},yHe=Be({name:"ElDescriptionsRow"}),bHe=Be({...yHe,props:vHe,setup(t){const e=ar(E9,{});return(n,r)=>S(e).direction==="vertical"?(X(),ve(Vn,{key:0},[pe("tr",null,[(X(!0),ve(Vn,null,Yr(n.row,(i,s)=>(X(),Ut(S(Hx),{key:`tr1-${s}`,cell:i,tag:"th",type:"label"},null,8,["cell"]))),128))]),pe("tr",null,[(X(!0),ve(Vn,null,Yr(n.row,(i,s)=>(X(),Ut(S(Hx),{key:`tr2-${s}`,cell:i,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(X(),ve("tr",_He,[(X(!0),ve(Vn,null,Yr(n.row,(i,s)=>(X(),ve(Vn,{key:`tr3-${s}`},[S(e).border?(X(),ve(Vn,{key:0},[ht(S(Hx),{cell:i,tag:"td",type:"label"},null,8,["cell"]),ht(S(Hx),{cell:i,tag:"td",type:"content"},null,8,["cell"])],64)):(X(),Ut(S(Hx),{key:1,cell:i,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var wHe=kn(bHe,[["__file","descriptions-row.vue"]]);const xHe=Ln({border:{type:Boolean,default:!1},column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:ru,title:{type:String,default:""},extra:{type:String,default:""}}),CHe=Be({name:"ElDescriptions"}),EHe=Be({...CHe,props:xHe,setup(t){const e=t,n=vn("descriptions"),r=hl(),i=Eo();Ii(E9,e);const s=le(()=>[n.b(),n.m(r.value)]),l=(a,f,A,m=!1)=>(a.props||(a.props={}),f>A&&(a.props.span=A),m&&(a.props.span=f),a),c=()=>{if(!i.default)return[];const a=$v(i.default()).filter(y=>{var T;return((T=y==null?void 0:y.type)==null?void 0:T.name)==="ElDescriptionsItem"}),f=[];let A=[],m=e.column,_=0;return a.forEach((y,T)=>{var E;const P=((E=y.props)==null?void 0:E.span)||1;if(T<a.length-1&&(_+=P>m?m:P),T===a.length-1){const I=e.column-_%e.column;A.push(l(y,I,m,!0)),f.push(A);return}P<m?(m-=P,A.push(y)):(A.push(l(y,P,m)),f.push(A),m=e.column,A=[])}),f};return(a,f)=>(X(),ve("div",{class:Se(S(s))},[a.title||a.extra||a.$slots.title||a.$slots.extra?(X(),ve("div",{key:0,class:Se(S(n).e("header"))},[pe("div",{class:Se(S(n).e("title"))},[kt(a.$slots,"title",{},()=>[wi(Cn(a.title),1)])],2),pe("div",{class:Se(S(n).e("extra"))},[kt(a.$slots,"extra",{},()=>[wi(Cn(a.extra),1)])],2)],2)):bt("v-if",!0),pe("div",{class:Se(S(n).e("body"))},[pe("table",{class:Se([S(n).e("table"),S(n).is("bordered",a.border)])},[pe("tbody",null,[(X(!0),ve(Vn,null,Yr(c(),(A,m)=>(X(),Ut(wHe,{key:m,row:A},null,8,["row"]))),128))])],2)],2)],2))}});var SHe=kn(EHe,[["__file","description.vue"]]);const THe=Ln({label:{type:String,default:""},span:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}),wae=Be({name:"ElDescriptionsItem",props:THe}),BHe=fi(SHe,{DescriptionsItem:wae}),MHe=ro(wae),IHe=Ln({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:Rt([String,Array,Object])},zIndex:{type:Rt([String,Number])}}),LHe={click:t=>t instanceof MouseEvent},PHe="overlay";var FHe=Be({name:"ElOverlay",props:IHe,emits:LHe,setup(t,{slots:e,emit:n}){const r=vn(PHe),i=a=>{n("click",a)},{onClick:s,onMousedown:l,onMouseup:c}=r9(t.customMaskEvent?void 0:i);return()=>t.mask?ht("div",{class:[r.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:s,onMousedown:l,onMouseup:c},[kt(e,"default")],hf.STYLE|hf.CLASS|hf.PROPS,["onClick","onMouseup","onMousedown"]):wr("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[kt(e,"default")])}});const S9=FHe,xae=Symbol("dialogInjectionKey"),Cae=Ln({center:Boolean,alignCenter:Boolean,closeIcon:{type:Ja},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),kHe={close:()=>!0},RHe=["aria-level"],OHe=["aria-label"],DHe=["id"],NHe=Be({name:"ElDialogContent"}),UHe=Be({...NHe,props:Cae,emits:kHe,setup(t){const e=t,{t:n}=ca(),{Close:r}=VN,{dialogRef:i,headerRef:s,bodyId:l,ns:c,style:a}=ar(xae),{focusTrapRef:f}=ar(m9),A=le(()=>[c.b(),c.is("fullscreen",e.fullscreen),c.is("draggable",e.draggable),c.is("align-center",e.alignCenter),{[c.m("center")]:e.center}]),m=nB(f,i),_=le(()=>e.draggable),y=le(()=>e.overflow);return vre(i,s,_,y),(T,E)=>(X(),ve("div",{ref:S(m),class:Se(S(A)),style:or(S(a)),tabindex:"-1"},[pe("header",{ref_key:"headerRef",ref:s,class:Se([S(c).e("header"),{"show-close":T.showClose}])},[kt(T.$slots,"header",{},()=>[pe("span",{role:"heading","aria-level":T.ariaLevel,class:Se(S(c).e("title"))},Cn(T.title),11,RHe)]),T.showClose?(X(),ve("button",{key:0,"aria-label":S(n)("el.dialog.close"),class:Se(S(c).e("headerbtn")),type:"button",onClick:E[0]||(E[0]=P=>T.$emit("close"))},[ht(S(Ar),{class:Se(S(c).e("close"))},{default:xt(()=>[(X(),Ut(di(T.closeIcon||S(r))))]),_:1},8,["class"])],10,OHe)):bt("v-if",!0)],2),pe("div",{id:S(l),class:Se(S(c).e("body"))},[kt(T.$slots,"default")],10,DHe),T.$slots.footer?(X(),ve("footer",{key:0,class:Se(S(c).e("footer"))},[kt(T.$slots,"footer")],2)):bt("v-if",!0)],6))}});var zHe=kn(UHe,[["__file","dialog-content.vue"]]);const Eae=Ln({...Cae,appendToBody:Boolean,appendTo:{type:Rt(String),default:"body"},beforeClose:{type:Rt(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),Sae={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[vi]:t=>qo(t),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},Tae=(t,e)=>{var n;const i=ci().emit,{nextZIndex:s}=L2();let l="";const c=ac(),a=ac(),f=Te(!1),A=Te(!1),m=Te(!1),_=Te((n=t.zIndex)!=null?n:s());let y,T;const E=$6("namespace",Q4),P=le(()=>{const J={},te=`--${E.value}-dialog`;return t.fullscreen||(t.top&&(J[`${te}-margin-top`]=t.top),t.width&&(J[`${te}-width`]=Co(t.width))),J}),I=le(()=>t.alignCenter?{display:"flex"}:{});function F(){i("opened")}function R(){i("closed"),i(vi,!1),t.destroyOnClose&&(m.value=!1)}function N(){i("close")}function z(){T==null||T(),y==null||y(),t.openDelay&&t.openDelay>0?{stop:y}=J_(()=>K(),t.openDelay):K()}function Q(){y==null||y(),T==null||T(),t.closeDelay&&t.closeDelay>0?{stop:T}=J_(()=>ie(),t.closeDelay):ie()}function j(){function J(te){te||(A.value=!0,f.value=!1)}t.beforeClose?t.beforeClose(J):Q()}function H(){t.closeOnClickModal&&j()}function K(){ta&&(f.value=!0)}function ie(){f.value=!1}function q(){i("openAutoFocus")}function W(){i("closeAutoFocus")}function ee(J){var te;((te=J.detail)==null?void 0:te.focusReason)==="pointer"&&J.preventDefault()}t.lockScroll&&WN(f);function ue(){t.closeOnPressEscape&&j()}return un(()=>t.modelValue,J=>{J?(A.value=!1,z(),m.value=!0,_.value=Hne(t.zIndex)?s():_.value++,dr(()=>{i("open"),e.value&&(e.value.scrollTop=0)})):f.value&&Q()}),un(()=>t.fullscreen,J=>{e.value&&(J?(l=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=l)}),kr(()=>{t.modelValue&&(f.value=!0,m.value=!0,z())}),{afterEnter:F,afterLeave:R,beforeLeave:N,handleClose:j,onModalClick:H,close:Q,doClose:ie,onOpenAutoFocus:q,onCloseAutoFocus:W,onCloseRequested:ue,onFocusoutPrevented:ee,titleId:c,bodyId:a,closed:A,style:P,overlayDialogStyle:I,rendered:m,visible:f,zIndex:_}},$He=["aria-label","aria-labelledby","aria-describedby"],VHe=Be({name:"ElDialog",inheritAttrs:!1}),HHe=Be({...VHe,props:Eae,emits:Sae,setup(t,{expose:e}){const n=t,r=Eo();gu({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},le(()=>!!r.title));const i=vn("dialog"),s=Te(),l=Te(),c=Te(),{visible:a,titleId:f,bodyId:A,style:m,overlayDialogStyle:_,rendered:y,zIndex:T,afterEnter:E,afterLeave:P,beforeLeave:I,handleClose:F,onModalClick:R,onOpenAutoFocus:N,onCloseAutoFocus:z,onCloseRequested:Q,onFocusoutPrevented:j}=Tae(n,s);Ii(xae,{dialogRef:s,headerRef:l,bodyId:A,ns:i,rendered:y,style:m});const H=r9(R),K=le(()=>n.draggable&&!n.fullscreen);return e({visible:a,dialogContentRef:c}),(ie,q)=>(X(),Ut(Ay,{to:ie.appendTo,disabled:ie.appendTo!=="body"?!1:!ie.appendToBody},[ht(co,{name:"dialog-fade",onAfterEnter:S(E),onAfterLeave:S(P),onBeforeLeave:S(I),persisted:""},{default:xt(()=>[Jr(ht(S(S9),{"custom-mask-event":"",mask:ie.modal,"overlay-class":ie.modalClass,"z-index":S(T)},{default:xt(()=>[pe("div",{role:"dialog","aria-modal":"true","aria-label":ie.title||void 0,"aria-labelledby":ie.title?void 0:S(f),"aria-describedby":S(A),class:Se(`${S(i).namespace.value}-overlay-dialog`),style:or(S(_)),onClick:q[0]||(q[0]=(...W)=>S(H).onClick&&S(H).onClick(...W)),onMousedown:q[1]||(q[1]=(...W)=>S(H).onMousedown&&S(H).onMousedown(...W)),onMouseup:q[2]||(q[2]=(...W)=>S(H).onMouseup&&S(H).onMouseup(...W))},[ht(S(H6),{loop:"",trapped:S(a),"focus-start-el":"container",onFocusAfterTrapped:S(N),onFocusAfterReleased:S(z),onFocusoutPrevented:S(j),onReleaseRequested:S(Q)},{default:xt(()=>[S(y)?(X(),Ut(zHe,Xr({key:0,ref_key:"dialogContentRef",ref:c},ie.$attrs,{center:ie.center,"align-center":ie.alignCenter,"close-icon":ie.closeIcon,draggable:S(K),overflow:ie.overflow,fullscreen:ie.fullscreen,"show-close":ie.showClose,title:ie.title,"aria-level":ie.headerAriaLevel,onClose:S(F)}),Ro({header:xt(()=>[ie.$slots.title?kt(ie.$slots,"title",{key:1}):kt(ie.$slots,"header",{key:0,close:S(F),titleId:S(f),titleClass:S(i).e("title")})]),default:xt(()=>[kt(ie.$slots,"default")]),_:2},[ie.$slots.footer?{name:"footer",fn:xt(()=>[kt(ie.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):bt("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,$He)]),_:3},8,["mask","overlay-class","z-index"]),[[la,S(a)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var QHe=kn(HHe,[["__file","dialog.vue"]]);const jHe=fi(QHe),GHe=Ln({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:Rt(String),default:"solid"}}),KHe=Be({name:"ElDivider"}),WHe=Be({...KHe,props:GHe,setup(t){const e=t,n=vn("divider"),r=le(()=>n.cssVar({"border-style":e.borderStyle}));return(i,s)=>(X(),ve("div",{class:Se([S(n).b(),S(n).m(i.direction)]),style:or(S(r)),role:"separator"},[i.$slots.default&&i.direction!=="vertical"?(X(),ve("div",{key:0,class:Se([S(n).e("text"),S(n).is(i.contentPosition)])},[kt(i.$slots,"default")],2)):bt("v-if",!0)],6))}});var qHe=kn(WHe,[["__file","divider.vue"]]);const Bae=fi(qHe),YHe=Ln({...Eae,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),XHe=Sae,ZHe=["aria-label","aria-labelledby","aria-describedby"],JHe=["id","aria-level"],eQe=["aria-label"],tQe=["id"],nQe=Be({name:"ElDrawer",inheritAttrs:!1}),rQe=Be({...nQe,props:YHe,emits:XHe,setup(t,{expose:e}){const n=t,r=Eo();gu({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},le(()=>!!r.title));const i=Te(),s=Te(),l=vn("drawer"),{t:c}=ca(),{afterEnter:a,afterLeave:f,beforeLeave:A,visible:m,rendered:_,titleId:y,bodyId:T,zIndex:E,onModalClick:P,onOpenAutoFocus:I,onCloseAutoFocus:F,onFocusoutPrevented:R,onCloseRequested:N,handleClose:z}=Tae(n,i),Q=le(()=>n.direction==="rtl"||n.direction==="ltr"),j=le(()=>Co(n.size));return e({handleClose:z,afterEnter:a,afterLeave:f}),(H,K)=>(X(),Ut(Ay,{to:"body",disabled:!H.appendToBody},[ht(co,{name:S(l).b("fade"),onAfterEnter:S(a),onAfterLeave:S(f),onBeforeLeave:S(A),persisted:""},{default:xt(()=>[Jr(ht(S(S9),{mask:H.modal,"overlay-class":H.modalClass,"z-index":S(E),onClick:S(P)},{default:xt(()=>[ht(S(H6),{loop:"",trapped:S(m),"focus-trap-el":i.value,"focus-start-el":s.value,onFocusAfterTrapped:S(I),onFocusAfterReleased:S(F),onFocusoutPrevented:S(R),onReleaseRequested:S(N)},{default:xt(()=>[pe("div",Xr({ref_key:"drawerRef",ref:i,"aria-modal":"true","aria-label":H.title||void 0,"aria-labelledby":H.title?void 0:S(y),"aria-describedby":S(T)},H.$attrs,{class:[S(l).b(),H.direction,S(m)&&"open"],style:S(Q)?"width: "+S(j):"height: "+S(j),role:"dialog",onClick:K[1]||(K[1]=Fr(()=>{},["stop"]))}),[pe("span",{ref_key:"focusStartRef",ref:s,class:Se(S(l).e("sr-focus")),tabindex:"-1"},null,2),H.withHeader?(X(),ve("header",{key:0,class:Se(S(l).e("header"))},[H.$slots.title?kt(H.$slots,"title",{key:1},()=>[bt(" DEPRECATED SLOT ")]):kt(H.$slots,"header",{key:0,close:S(z),titleId:S(y),titleClass:S(l).e("title")},()=>[H.$slots.title?bt("v-if",!0):(X(),ve("span",{key:0,id:S(y),role:"heading","aria-level":H.headerAriaLevel,class:Se(S(l).e("title"))},Cn(H.title),11,JHe))]),H.showClose?(X(),ve("button",{key:2,"aria-label":S(c)("el.drawer.close"),class:Se(S(l).e("close-btn")),type:"button",onClick:K[0]||(K[0]=(...ie)=>S(z)&&S(z)(...ie))},[ht(S(Ar),{class:Se(S(l).e("close"))},{default:xt(()=>[ht(S(Tf))]),_:1},8,["class"])],10,eQe)):bt("v-if",!0)],2)):bt("v-if",!0),S(_)?(X(),ve("div",{key:1,id:S(T),class:Se(S(l).e("body"))},[kt(H.$slots,"default")],10,tQe)):bt("v-if",!0),H.$slots.footer?(X(),ve("div",{key:2,class:Se(S(l).e("footer"))},[kt(H.$slots,"footer")],2)):bt("v-if",!0)],16,ZHe)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[la,S(m)]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var iQe=kn(rQe,[["__file","drawer.vue"]]);const aQe=fi(iQe),sQe=Be({inheritAttrs:!1});function oQe(t,e,n,r,i,s){return kt(t.$slots,"default")}var lQe=kn(sQe,[["render",oQe],["__file","collection.vue"]]);const uQe=Be({name:"ElCollectionItem",inheritAttrs:!1});function cQe(t,e,n,r,i,s){return kt(t.$slots,"default")}var hQe=kn(uQe,[["render",cQe],["__file","collection-item.vue"]]);const Mae="data-el-collection-item",Iae=t=>{const e=`El${t}Collection`,n=`${e}Item`,r=Symbol(e),i=Symbol(n),s={...lQe,name:e,setup(){const c=Te(null),a=new Map;Ii(r,{itemMap:a,getItems:()=>{const A=S(c);if(!A)return[];const m=Array.from(A.querySelectorAll(`[${Mae}]`));return[...a.values()].sort((y,T)=>m.indexOf(y.ref)-m.indexOf(T.ref))},collectionRef:c})}},l={...hQe,name:n,setup(c,{attrs:a}){const f=Te(null),A=ar(r,void 0);Ii(i,{collectionItemRef:f}),kr(()=>{const m=S(f);m&&A.itemMap.set(m,{ref:m,...a})}),ds(()=>{const m=S(f);A.itemMap.delete(m)})}};return{COLLECTION_INJECTION_KEY:r,COLLECTION_ITEM_INJECTION_KEY:i,ElCollection:s,ElCollectionItem:l}},dQe=Ln({style:{type:Rt([String,Array,Object])},currentTabId:{type:Rt(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:Rt(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:fQe,ElCollectionItem:pQe,COLLECTION_INJECTION_KEY:T9,COLLECTION_ITEM_INJECTION_KEY:AQe}=Iae("RovingFocusGroup"),B9=Symbol("elRovingFocusGroup"),Lae=Symbol("elRovingFocusGroupItem"),mQe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},gQe=(t,e)=>t,vQe=(t,e,n)=>{const r=gQe(t.key);return mQe[r]},_Qe=(t,e)=>t.map((n,r)=>t[(r+e)%t.length]),M9=t=>{const{activeElement:e}=document;for(const n of t)if(n===e||(n.focus(),e!==document.activeElement))return},jK="currentTabIdChange",GK="rovingFocusGroup.entryFocus",yQe={bubbles:!1,cancelable:!0},bQe=Be({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:dQe,emits:[jK,"entryFocus"],setup(t,{emit:e}){var n;const r=Te((n=t.currentTabId||t.defaultCurrentTabId)!=null?n:null),i=Te(!1),s=Te(!1),l=Te(null),{getItems:c}=ar(T9,void 0),a=le(()=>[{outline:"none"},t.style]),f=E=>{e(jK,E)},A=()=>{i.value=!0},m=bo(E=>{var P;(P=t.onMousedown)==null||P.call(t,E)},()=>{s.value=!0}),_=bo(E=>{var P;(P=t.onFocus)==null||P.call(t,E)},E=>{const P=!S(s),{target:I,currentTarget:F}=E;if(I===F&&P&&!S(i)){const R=new Event(GK,yQe);if(F==null||F.dispatchEvent(R),!R.defaultPrevented){const N=c().filter(K=>K.focusable),z=N.find(K=>K.active),Q=N.find(K=>K.id===S(r)),H=[z,Q,...N].filter(Boolean).map(K=>K.ref);M9(H)}}s.value=!1}),y=bo(E=>{var P;(P=t.onBlur)==null||P.call(t,E)},()=>{i.value=!1}),T=(...E)=>{e("entryFocus",...E)};Ii(B9,{currentTabbedId:x2(r),loop:Oa(t,"loop"),tabIndex:le(()=>S(i)?-1:0),rovingFocusGroupRef:l,rovingFocusGroupRootStyle:a,orientation:Oa(t,"orientation"),dir:Oa(t,"dir"),onItemFocus:f,onItemShiftTab:A,onBlur:y,onFocus:_,onMousedown:m}),un(()=>t.currentTabId,E=>{r.value=E??null}),gs(l,GK,T)}});function wQe(t,e,n,r,i,s){return kt(t.$slots,"default")}var xQe=kn(bQe,[["render",wQe],["__file","roving-focus-group-impl.vue"]]);const CQe=Be({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:fQe,ElRovingFocusGroupImpl:xQe}});function EQe(t,e,n,r,i,s){const l=Kr("el-roving-focus-group-impl"),c=Kr("el-focus-group-collection");return X(),Ut(c,null,{default:xt(()=>[ht(l,uo(nu(t.$attrs)),{default:xt(()=>[kt(t.$slots,"default")]),_:3},16)]),_:3})}var SQe=kn(CQe,[["render",EQe],["__file","roving-focus-group.vue"]]);const TQe=Be({components:{ElRovingFocusCollectionItem:pQe},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(t,{emit:e}){const{currentTabbedId:n,loop:r,onItemFocus:i,onItemShiftTab:s}=ar(B9,void 0),{getItems:l}=ar(T9,void 0),c=ac(),a=Te(null),f=bo(y=>{e("mousedown",y)},y=>{t.focusable?i(S(c)):y.preventDefault()}),A=bo(y=>{e("focus",y)},()=>{i(S(c))}),m=bo(y=>{e("keydown",y)},y=>{const{key:T,shiftKey:E,target:P,currentTarget:I}=y;if(T===Tr.tab&&E){s();return}if(P!==I)return;const F=vQe(y);if(F){y.preventDefault();let N=l().filter(z=>z.focusable).map(z=>z.ref);switch(F){case"last":{N.reverse();break}case"prev":case"next":{F==="prev"&&N.reverse();const z=N.indexOf(I);N=r.value?_Qe(N,z+1):N.slice(z+1);break}}dr(()=>{M9(N)})}}),_=le(()=>n.value===S(c));return Ii(Lae,{rovingFocusGroupItemRef:a,tabIndex:le(()=>S(_)?0:-1),handleMousedown:f,handleFocus:A,handleKeydown:m}),{id:c,handleKeydown:m,handleFocus:A,handleMousedown:f}}});function BQe(t,e,n,r,i,s){const l=Kr("el-roving-focus-collection-item");return X(),Ut(l,{id:t.id,focusable:t.focusable,active:t.active},{default:xt(()=>[kt(t.$slots,"default")]),_:3},8,["id","focusable","active"])}var MQe=kn(TQe,[["render",BQe],["__file","roving-focus-item.vue"]]);const wS=Ln({trigger:DC.trigger,effect:{...du.effect,default:"light"},type:{type:Rt(String)},placement:{type:Rt(String),default:"bottom"},popperOptions:{type:Rt(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:Rt([Number,String]),default:0},maxHeight:{type:Rt([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:Rt(Object)},teleported:du.teleported}),Pae=Ln({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:Ja}}),IQe=Ln({onKeydown:{type:Rt(Function)}}),LQe=[Tr.down,Tr.pageDown,Tr.home],Fae=[Tr.up,Tr.pageUp,Tr.end],PQe=[...LQe,...Fae],{ElCollection:FQe,ElCollectionItem:kQe,COLLECTION_INJECTION_KEY:RQe,COLLECTION_ITEM_INJECTION_KEY:OQe}=Iae("Dropdown"),fB=Symbol("elDropdown"),{ButtonGroup:DQe}=yu,NQe=Be({name:"ElDropdown",components:{ElButton:yu,ElButtonGroup:DQe,ElScrollbar:c0,ElDropdownCollection:FQe,ElTooltip:Dc,ElRovingFocusGroup:SQe,ElOnlyChild:aie,ElIcon:Ar,ArrowDown:Em},props:wS,emits:["visible-change","click","command"],setup(t,{emit:e}){const n=ci(),r=vn("dropdown"),{t:i}=ca(),s=Te(),l=Te(),c=Te(null),a=Te(null),f=Te(null),A=Te(null),m=Te(!1),_=[Tr.enter,Tr.space,Tr.down],y=le(()=>({maxHeight:Co(t.maxHeight)})),T=le(()=>[r.m(z.value)]),E=le(()=>qv(t.trigger)),P=ac().value,I=le(()=>t.id||P);un([s,E],([ne,he],[ce])=>{var ye,Ee,se;(ye=ce==null?void 0:ce.$el)!=null&&ye.removeEventListener&&ce.$el.removeEventListener("pointerenter",j),(Ee=ne==null?void 0:ne.$el)!=null&&Ee.removeEventListener&&ne.$el.removeEventListener("pointerenter",j),(se=ne==null?void 0:ne.$el)!=null&&se.addEventListener&&he.includes("hover")&&ne.$el.addEventListener("pointerenter",j)},{immediate:!0}),ds(()=>{var ne,he;(he=(ne=s.value)==null?void 0:ne.$el)!=null&&he.removeEventListener&&s.value.$el.removeEventListener("pointerenter",j)});function F(){R()}function R(){var ne;(ne=c.value)==null||ne.onClose()}function N(){var ne;(ne=c.value)==null||ne.onOpen()}const z=hl();function Q(...ne){e("command",...ne)}function j(){var ne,he;(he=(ne=s.value)==null?void 0:ne.$el)==null||he.focus()}function H(){}function K(){const ne=S(a);E.value.includes("hover")&&(ne==null||ne.focus()),A.value=null}function ie(ne){A.value=ne}function q(ne){m.value||(ne.preventDefault(),ne.stopImmediatePropagation())}function W(){e("visible-change",!0)}function ee(ne){(ne==null?void 0:ne.type)==="keydown"&&a.value.focus()}function ue(){e("visible-change",!1)}return Ii(fB,{contentRef:a,role:le(()=>t.role),triggerId:I,isUsingKeyboard:m,onItemEnter:H,onItemLeave:K}),Ii("elDropdown",{instance:n,dropdownSize:z,handleClick:F,commandHandler:Q,trigger:Oa(t,"trigger"),hideOnClick:Oa(t,"hideOnClick")}),{t:i,ns:r,scrollbar:f,wrapStyle:y,dropdownTriggerKls:T,dropdownSize:z,triggerId:I,triggerKeys:_,currentTabId:A,handleCurrentTabIdChange:ie,handlerMainButtonClick:ne=>{e("click",ne)},handleEntryFocus:q,handleClose:R,handleOpen:N,handleBeforeShowTooltip:W,handleShowTooltip:ee,handleBeforeHideTooltip:ue,onFocusAfterTrapped:ne=>{var he,ce;ne.preventDefault(),(ce=(he=a.value)==null?void 0:he.focus)==null||ce.call(he,{preventScroll:!0})},popperRef:c,contentRef:a,triggeringElementRef:s,referenceElementRef:l}}});function UQe(t,e,n,r,i,s){var l;const c=Kr("el-dropdown-collection"),a=Kr("el-roving-focus-group"),f=Kr("el-scrollbar"),A=Kr("el-only-child"),m=Kr("el-tooltip"),_=Kr("el-button"),y=Kr("arrow-down"),T=Kr("el-icon"),E=Kr("el-button-group");return X(),ve("div",{class:Se([t.ns.b(),t.ns.is("disabled",t.disabled)])},[ht(m,{ref:"popperRef",role:t.role,effect:t.effect,"fallback-placements":["bottom","top"],"popper-options":t.popperOptions,"gpu-acceleration":!1,"hide-after":t.trigger==="hover"?t.hideTimeout:0,"manual-mode":!0,placement:t.placement,"popper-class":[t.ns.e("popper"),t.popperClass],"reference-element":(l=t.referenceElementRef)==null?void 0:l.$el,trigger:t.trigger,"trigger-keys":t.triggerKeys,"trigger-target-el":t.contentRef,"show-after":t.trigger==="hover"?t.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":t.triggeringElementRef,"virtual-triggering":t.splitButton,disabled:t.disabled,transition:`${t.ns.namespace.value}-zoom-in-top`,teleported:t.teleported,pure:"",persistent:"",onBeforeShow:t.handleBeforeShowTooltip,onShow:t.handleShowTooltip,onBeforeHide:t.handleBeforeHideTooltip},Ro({content:xt(()=>[ht(f,{ref:"scrollbar","wrap-style":t.wrapStyle,tag:"div","view-class":t.ns.e("list")},{default:xt(()=>[ht(a,{loop:t.loop,"current-tab-id":t.currentTabId,orientation:"horizontal",onCurrentTabIdChange:t.handleCurrentTabIdChange,onEntryFocus:t.handleEntryFocus},{default:xt(()=>[ht(c,null,{default:xt(()=>[kt(t.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[t.splitButton?void 0:{name:"default",fn:xt(()=>[ht(A,{id:t.triggerId,ref:"triggeringElementRef",role:"button",tabindex:t.tabindex},{default:xt(()=>[kt(t.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),t.splitButton?(X(),Ut(E,{key:0},{default:xt(()=>[ht(_,Xr({ref:"referenceElementRef"},t.buttonProps,{size:t.dropdownSize,type:t.type,disabled:t.disabled,tabindex:t.tabindex,onClick:t.handlerMainButtonClick}),{default:xt(()=>[kt(t.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),ht(_,Xr({id:t.triggerId,ref:"triggeringElementRef"},t.buttonProps,{role:"button",size:t.dropdownSize,type:t.type,class:t.ns.e("caret-button"),disabled:t.disabled,tabindex:t.tabindex,"aria-label":t.t("el.dropdown.toggleDropdown")}),{default:xt(()=>[ht(T,{class:Se(t.ns.e("icon"))},{default:xt(()=>[ht(y)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):bt("v-if",!0)],2)}var zQe=kn(NQe,[["render",UQe],["__file","dropdown.vue"]]);const $Qe=Be({name:"DropdownItemImpl",components:{ElIcon:Ar},props:Pae,emits:["pointermove","pointerleave","click","clickimpl"],setup(t,{emit:e}){const n=vn("dropdown"),{role:r}=ar(fB,void 0),{collectionItemRef:i}=ar(OQe,void 0),{collectionItemRef:s}=ar(AQe,void 0),{rovingFocusGroupItemRef:l,tabIndex:c,handleFocus:a,handleKeydown:f,handleMousedown:A}=ar(Lae,void 0),m=nB(i,s,l),_=le(()=>r.value==="menu"?"menuitem":r.value==="navigation"?"link":"button"),y=bo(T=>{const{code:E}=T;if(E===Tr.enter||E===Tr.space)return T.preventDefault(),T.stopImmediatePropagation(),e("clickimpl",T),!0},f);return{ns:n,itemRef:m,dataset:{[Mae]:""},role:_,tabIndex:c,handleFocus:a,handleKeydown:y,handleMousedown:A}}}),VQe=["aria-disabled","tabindex","role"];function HQe(t,e,n,r,i,s){const l=Kr("el-icon");return X(),ve(Vn,null,[t.divided?(X(),ve("li",Xr({key:0,role:"separator",class:t.ns.bem("menu","item","divided")},t.$attrs),null,16)):bt("v-if",!0),pe("li",Xr({ref:t.itemRef},{...t.dataset,...t.$attrs},{"aria-disabled":t.disabled,class:[t.ns.be("menu","item"),t.ns.is("disabled",t.disabled)],tabindex:t.tabIndex,role:t.role,onClick:e[0]||(e[0]=c=>t.$emit("clickimpl",c)),onFocus:e[1]||(e[1]=(...c)=>t.handleFocus&&t.handleFocus(...c)),onKeydown:e[2]||(e[2]=Fr((...c)=>t.handleKeydown&&t.handleKeydown(...c),["self"])),onMousedown:e[3]||(e[3]=(...c)=>t.handleMousedown&&t.handleMousedown(...c)),onPointermove:e[4]||(e[4]=c=>t.$emit("pointermove",c)),onPointerleave:e[5]||(e[5]=c=>t.$emit("pointerleave",c))}),[t.icon?(X(),Ut(l,{key:0},{default:xt(()=>[(X(),Ut(di(t.icon)))]),_:1})):bt("v-if",!0),kt(t.$slots,"default")],16,VQe)],64)}var QQe=kn($Qe,[["render",HQe],["__file","dropdown-item-impl.vue"]]);const kae=()=>{const t=ar("elDropdown",{}),e=le(()=>t==null?void 0:t.dropdownSize);return{elDropdown:t,_elDropdownSize:e}},jQe=Be({name:"ElDropdownItem",components:{ElDropdownCollectionItem:kQe,ElRovingFocusItem:MQe,ElDropdownItemImpl:QQe},inheritAttrs:!1,props:Pae,emits:["pointermove","pointerleave","click"],setup(t,{emit:e,attrs:n}){const{elDropdown:r}=kae(),i=ci(),s=Te(null),l=le(()=>{var y,T;return(T=(y=S(s))==null?void 0:y.textContent)!=null?T:""}),{onItemEnter:c,onItemLeave:a}=ar(fB,void 0),f=bo(y=>(e("pointermove",y),y.defaultPrevented),Vj(y=>{if(t.disabled){a(y);return}const T=y.currentTarget;T===document.activeElement||T.contains(document.activeElement)||(c(y),y.defaultPrevented||T==null||T.focus())})),A=bo(y=>(e("pointerleave",y),y.defaultPrevented),Vj(y=>{a(y)})),m=bo(y=>{if(!t.disabled)return e("click",y),y.type!=="keydown"&&y.defaultPrevented},y=>{var T,E,P;if(t.disabled){y.stopImmediatePropagation();return}(T=r==null?void 0:r.hideOnClick)!=null&&T.value&&((E=r.handleClick)==null||E.call(r)),(P=r.commandHandler)==null||P.call(r,t.command,i,y)}),_=le(()=>({...t,...n}));return{handleClick:m,handlePointerMove:f,handlePointerLeave:A,textContent:l,propsAndAttrs:_}}});function GQe(t,e,n,r,i,s){var l;const c=Kr("el-dropdown-item-impl"),a=Kr("el-roving-focus-item"),f=Kr("el-dropdown-collection-item");return X(),Ut(f,{disabled:t.disabled,"text-value":(l=t.textValue)!=null?l:t.textContent},{default:xt(()=>[ht(a,{focusable:!t.disabled},{default:xt(()=>[ht(c,Xr(t.propsAndAttrs,{onPointerleave:t.handlePointerLeave,onPointermove:t.handlePointerMove,onClickimpl:t.handleClick}),{default:xt(()=>[kt(t.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var Rae=kn(jQe,[["render",GQe],["__file","dropdown-item.vue"]]);const KQe=Be({name:"ElDropdownMenu",props:IQe,setup(t){const e=vn("dropdown"),{_elDropdownSize:n}=kae(),r=n.value,{focusTrapRef:i,onKeydown:s}=ar(m9,void 0),{contentRef:l,role:c,triggerId:a}=ar(fB,void 0),{collectionRef:f,getItems:A}=ar(RQe,void 0),{rovingFocusGroupRef:m,rovingFocusGroupRootStyle:_,tabIndex:y,onBlur:T,onFocus:E,onMousedown:P}=ar(B9,void 0),{collectionRef:I}=ar(T9,void 0),F=le(()=>[e.b("menu"),e.bm("menu",r==null?void 0:r.value)]),R=nB(l,f,i,m,I),N=bo(Q=>{var j;(j=t.onKeydown)==null||j.call(t,Q)},Q=>{const{currentTarget:j,code:H,target:K}=Q;if(j.contains(K),Tr.tab===H&&Q.stopImmediatePropagation(),Q.preventDefault(),K!==S(l)||!PQe.includes(H))return;const q=A().filter(W=>!W.disabled).map(W=>W.ref);Fae.includes(H)&&q.reverse(),M9(q)});return{size:r,rovingFocusGroupRootStyle:_,tabIndex:y,dropdownKls:F,role:c,triggerId:a,dropdownListWrapperRef:R,handleKeydown:Q=>{N(Q),s(Q)},onBlur:T,onFocus:E,onMousedown:P}}}),WQe=["role","aria-labelledby"];function qQe(t,e,n,r,i,s){return X(),ve("ul",{ref:t.dropdownListWrapperRef,class:Se(t.dropdownKls),style:or(t.rovingFocusGroupRootStyle),tabindex:-1,role:t.role,"aria-labelledby":t.triggerId,onBlur:e[0]||(e[0]=(...l)=>t.onBlur&&t.onBlur(...l)),onFocus:e[1]||(e[1]=(...l)=>t.onFocus&&t.onFocus(...l)),onKeydown:e[2]||(e[2]=Fr((...l)=>t.handleKeydown&&t.handleKeydown(...l),["self"])),onMousedown:e[3]||(e[3]=Fr((...l)=>t.onMousedown&&t.onMousedown(...l),["self"]))},[kt(t.$slots,"default")],46,WQe)}var Oae=kn(KQe,[["render",qQe],["__file","dropdown-menu.vue"]]);const YQe=fi(zQe,{DropdownItem:Rae,DropdownMenu:Oae}),XQe=ro(Rae),ZQe=ro(Oae),JQe={viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},eje=["id"],tje=["stop-color"],nje=["stop-color"],rje=["id"],ije=["stop-color"],aje=["stop-color"],sje=["id"],oje={id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},lje={id:"B-type",transform:"translate(-1268.000000, -535.000000)"},uje={id:"Group-2",transform:"translate(1268.000000, 535.000000)"},cje=["fill"],hje=["fill"],dje={id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},fje=["fill"],pje=["fill"],Aje=["fill"],mje=["fill"],gje=["fill"],vje={id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},_je=["fill","xlink:href"],yje=["fill","mask"],bje=["fill"],wje=Be({name:"ImgEmpty"}),xje=Be({...wje,setup(t){const e=vn("empty"),n=ac();return(r,i)=>(X(),ve("svg",JQe,[pe("defs",null,[pe("linearGradient",{id:`linearGradient-1-${S(n)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[pe("stop",{"stop-color":`var(${S(e).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,tje),pe("stop",{"stop-color":`var(${S(e).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,nje)],8,eje),pe("linearGradient",{id:`linearGradient-2-${S(n)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[pe("stop",{"stop-color":`var(${S(e).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,ije),pe("stop",{"stop-color":`var(${S(e).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,aje)],8,rje),pe("rect",{id:`path-3-${S(n)}`,x:"0",y:"0",width:"17",height:"36"},null,8,sje)]),pe("g",oje,[pe("g",lje,[pe("g",uje,[pe("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${S(e).cssVarBlockName("fill-color-3")})`},null,8,cje),pe("polygon",{id:"Rectangle-Copy-14",fill:`var(${S(e).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,hje),pe("g",dje,[pe("polygon",{id:"Rectangle-Copy-10",fill:`var(${S(e).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,fje),pe("polygon",{id:"Rectangle-Copy-11",fill:`var(${S(e).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,pje),pe("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${S(n)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,Aje),pe("polygon",{id:"Rectangle-Copy-13",fill:`var(${S(e).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,mje)]),pe("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${S(n)})`,x:"13",y:"45",width:"40",height:"36"},null,8,gje),pe("g",vje,[pe("use",{id:"Mask",fill:`var(${S(e).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${S(n)}`},null,8,_je),pe("polygon",{id:"Rectangle-Copy",fill:`var(${S(e).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${S(n)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,yje)]),pe("polygon",{id:"Rectangle-Copy-18",fill:`var(${S(e).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,bje)])])])]))}});var Cje=kn(xje,[["__file","img-empty.vue"]]);const Eje=Ln({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),Sje=["src"],Tje={key:1},Bje=Be({name:"ElEmpty"}),Mje=Be({...Bje,props:Eje,setup(t){const e=t,{t:n}=ca(),r=vn("empty"),i=le(()=>e.description||n("el.table.emptyText")),s=le(()=>({width:Co(e.imageSize)}));return(l,c)=>(X(),ve("div",{class:Se(S(r).b())},[pe("div",{class:Se(S(r).e("image")),style:or(S(s))},[l.image?(X(),ve("img",{key:0,src:l.image,ondragstart:"return false"},null,8,Sje)):kt(l.$slots,"image",{key:1},()=>[ht(Cje)])],6),pe("div",{class:Se(S(r).e("description"))},[l.$slots.description?kt(l.$slots,"description",{key:0}):(X(),ve("p",Tje,Cn(S(i)),1))],2),l.$slots.default?(X(),ve("div",{key:0,class:Se(S(r).e("bottom"))},[kt(l.$slots,"default")],2)):bt("v-if",!0)],2))}});var Ije=kn(Mje,[["__file","empty.vue"]]);const Dae=fi(Ije),Lje=Ln({urlList:{type:Rt(Array),default:()=>to([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:Rt(String)}}),Pje={close:()=>!0,switch:t=>Or(t),rotate:t=>Or(t)},Fje=["src","crossorigin"],kje=Be({name:"ElImageViewer"}),Rje=Be({...kje,props:Lje,emits:Pje,setup(t,{expose:e,emit:n}){var r;const i=t,s={CONTAIN:{name:"contain",icon:bw(ere)},ORIGINAL:{name:"original",icon:bw(lre)}},{t:l}=ca(),c=vn("image-viewer"),{nextZIndex:a}=L2(),f=Te(),A=Te([]),m=cge(),_=Te(!0),y=Te(i.initialIndex),T=ms(s.CONTAIN),E=Te({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),P=Te((r=i.zIndex)!=null?r:a()),I=le(()=>{const{urlList:ye}=i;return ye.length<=1}),F=le(()=>y.value===0),R=le(()=>y.value===i.urlList.length-1),N=le(()=>i.urlList[y.value]),z=le(()=>[c.e("btn"),c.e("prev"),c.is("disabled",!i.infinite&&F.value)]),Q=le(()=>[c.e("btn"),c.e("next"),c.is("disabled",!i.infinite&&R.value)]),j=le(()=>{const{scale:ye,deg:Ee,offsetX:se,offsetY:oe,enableTransition:_e}=E.value;let Ue=se/ye,Le=oe/ye;switch(Ee%360){case 90:case-270:[Ue,Le]=[Le,-Ue];break;case 180:case-180:[Ue,Le]=[-Ue,-Le];break;case 270:case-90:[Ue,Le]=[-Le,Ue];break}const be={transform:`scale(${ye}) rotate(${Ee}deg) translate(${Ue}px, ${Le}px)`,transition:_e?"transform .3s":""};return T.value.name===s.CONTAIN.name&&(be.maxWidth=be.maxHeight="100%"),be});function H(){ie(),n("close")}function K(){const ye=U_(se=>{switch(se.code){case Tr.esc:i.closeOnPressEscape&&H();break;case Tr.space:J();break;case Tr.left:ne();break;case Tr.up:ce("zoomIn");break;case Tr.right:he();break;case Tr.down:ce("zoomOut");break}}),Ee=U_(se=>{const oe=se.deltaY||se.deltaX;ce(oe<0?"zoomIn":"zoomOut",{zoomRate:i.zoomRate,enableTransition:!1})});m.run(()=>{gs(document,"keydown",ye),gs(document,"wheel",Ee)})}function ie(){m.stop()}function q(){_.value=!1}function W(ye){_.value=!1,ye.target.alt=l("el.image.error")}function ee(ye){if(_.value||ye.button!==0||!f.value)return;E.value.enableTransition=!1;const{offsetX:Ee,offsetY:se}=E.value,oe=ye.pageX,_e=ye.pageY,Ue=U_(be=>{E.value={...E.value,offsetX:Ee+be.pageX-oe,offsetY:se+be.pageY-_e}}),Le=gs(document,"mousemove",Ue);gs(document,"mouseup",()=>{Le()}),ye.preventDefault()}function ue(){E.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function J(){if(_.value)return;const ye=e2(s),Ee=Object.values(s),se=T.value.name,_e=(Ee.findIndex(Ue=>Ue.name===se)+1)%ye.length;T.value=s[ye[_e]],ue()}function te(ye){const Ee=i.urlList.length;y.value=(ye+Ee)%Ee}function ne(){F.value&&!i.infinite||te(y.value-1)}function he(){R.value&&!i.infinite||te(y.value+1)}function ce(ye,Ee={}){if(_.value)return;const{minScale:se,maxScale:oe}=i,{zoomRate:_e,rotateDeg:Ue,enableTransition:Le}={zoomRate:i.zoomRate,rotateDeg:90,enableTransition:!0,...Ee};switch(ye){case"zoomOut":E.value.scale>se&&(E.value.scale=Number.parseFloat((E.value.scale/_e).toFixed(3)));break;case"zoomIn":E.value.scale<oe&&(E.value.scale=Number.parseFloat((E.value.scale*_e).toFixed(3)));break;case"clockwise":E.value.deg+=Ue,n("rotate",E.value.deg);break;case"anticlockwise":E.value.deg-=Ue,n("rotate",E.value.deg);break}E.value.enableTransition=Le}return un(N,()=>{dr(()=>{const ye=A.value[0];ye!=null&&ye.complete||(_.value=!0)})}),un(y,ye=>{ue(),n("switch",ye)}),kr(()=>{var ye,Ee;K(),(Ee=(ye=f.value)==null?void 0:ye.focus)==null||Ee.call(ye)}),e({setActiveItem:te}),(ye,Ee)=>(X(),Ut(Ay,{to:"body",disabled:!ye.teleported},[ht(co,{name:"viewer-fade",appear:""},{default:xt(()=>[pe("div",{ref_key:"wrapper",ref:f,tabindex:-1,class:Se(S(c).e("wrapper")),style:or({zIndex:P.value})},[pe("div",{class:Se(S(c).e("mask")),onClick:Ee[0]||(Ee[0]=Fr(se=>ye.hideOnClickModal&&H(),["self"]))},null,2),bt(" CLOSE "),pe("span",{class:Se([S(c).e("btn"),S(c).e("close")]),onClick:H},[ht(S(Ar),null,{default:xt(()=>[ht(S(Tf))]),_:1})],2),bt(" ARROW "),S(I)?bt("v-if",!0):(X(),ve(Vn,{key:0},[pe("span",{class:Se(S(z)),onClick:ne},[ht(S(Ar),null,{default:xt(()=>[ht(S(qg))]),_:1})],2),pe("span",{class:Se(S(Q)),onClick:he},[ht(S(Ar),null,{default:xt(()=>[ht(S(Oc))]),_:1})],2)],64)),bt(" ACTIONS "),pe("div",{class:Se([S(c).e("btn"),S(c).e("actions")])},[pe("div",{class:Se(S(c).e("actions__inner"))},[ht(S(Ar),{onClick:Ee[1]||(Ee[1]=se=>ce("zoomOut"))},{default:xt(()=>[ht(S(pre))]),_:1}),ht(S(Ar),{onClick:Ee[2]||(Ee[2]=se=>ce("zoomIn"))},{default:xt(()=>[ht(S($N))]),_:1}),pe("i",{class:Se(S(c).e("actions__divider"))},null,2),ht(S(Ar),{onClick:J},{default:xt(()=>[(X(),Ut(di(S(T).icon)))]),_:1}),pe("i",{class:Se(S(c).e("actions__divider"))},null,2),ht(S(Ar),{onClick:Ee[3]||(Ee[3]=se=>ce("anticlockwise"))},{default:xt(()=>[ht(S(sre))]),_:1}),ht(S(Ar),{onClick:Ee[4]||(Ee[4]=se=>ce("clockwise"))},{default:xt(()=>[ht(S(ore))]),_:1})],2)],2),bt(" CANVAS "),pe("div",{class:Se(S(c).e("canvas"))},[(X(!0),ve(Vn,null,Yr(ye.urlList,(se,oe)=>Jr((X(),ve("img",{ref_for:!0,ref:_e=>A.value[oe]=_e,key:se,src:se,style:or(S(j)),class:Se(S(c).e("img")),crossorigin:ye.crossorigin,onLoad:q,onError:W,onMousedown:ee},null,46,Fje)),[[la,oe===y.value]])),128))],2),kt(ye.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var Oje=kn(Rje,[["__file","image-viewer.vue"]]);const Nae=fi(Oje),Dje=Ln({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:Rt([String,Object])},previewSrcList:{type:Rt(Array),default:()=>to([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:Rt(String)}}),Nje={load:t=>t instanceof Event,error:t=>t instanceof Event,switch:t=>Or(t),close:()=>!0,show:()=>!0},Uje=["src","loading","crossorigin"],zje={key:0},$je=Be({name:"ElImage",inheritAttrs:!1}),Vje=Be({...$je,props:Dje,emits:Nje,setup(t,{emit:e}){const n=t;let r="";const{t:i}=ca(),s=vn("image"),l=py(),c=GN(),a=Te(),f=Te(!1),A=Te(!0),m=Te(!1),_=Te(),y=Te(),T=ta&&"loading"in HTMLImageElement.prototype;let E,P;const I=le(()=>[s.e("inner"),N.value&&s.e("preview"),A.value&&s.is("loading")]),F=le(()=>l.style),R=le(()=>{const{fit:he}=n;return ta&&he?{objectFit:he}:{}}),N=le(()=>{const{previewSrcList:he}=n;return Array.isArray(he)&&he.length>0}),z=le(()=>{const{previewSrcList:he,initialIndex:ce}=n;let ye=ce;return ce>he.length-1&&(ye=0),ye}),Q=le(()=>n.loading==="eager"?!1:!T&&n.loading==="lazy"||n.lazy),j=()=>{ta&&(A.value=!0,f.value=!1,a.value=n.src)};function H(he){A.value=!1,f.value=!1,e("load",he)}function K(he){A.value=!1,f.value=!0,e("error",he)}function ie(){G2e(_.value,y.value)&&(j(),ee())}const q=ene(ie,200,!0);async function W(){var he;if(!ta)return;await dr();const{scrollContainer:ce}=n;Sf(ce)?y.value=ce:Hr(ce)&&ce!==""?y.value=(he=document.querySelector(ce))!=null?he:void 0:_.value&&(y.value=ON(_.value)),y.value&&(E=gs(y,"scroll",q),setTimeout(()=>ie(),100))}function ee(){!ta||!y.value||!q||(E==null||E(),y.value=void 0)}function ue(he){if(he.ctrlKey){if(he.deltaY<0)return he.preventDefault(),!1;if(he.deltaY>0)return he.preventDefault(),!1}}function J(){N.value&&(P=gs("wheel",ue,{passive:!1}),r=document.body.style.overflow,document.body.style.overflow="hidden",m.value=!0,e("show"))}function te(){P==null||P(),document.body.style.overflow=r,m.value=!1,e("close")}function ne(he){e("switch",he)}return un(()=>n.src,()=>{Q.value?(A.value=!0,f.value=!1,ee(),W()):j()}),kr(()=>{Q.value?W():j()}),(he,ce)=>(X(),ve("div",{ref_key:"container",ref:_,class:Se([S(s).b(),he.$attrs.class]),style:or(S(F))},[f.value?kt(he.$slots,"error",{key:0},()=>[pe("div",{class:Se(S(s).e("error"))},Cn(S(i)("el.image.error")),3)]):(X(),ve(Vn,{key:1},[a.value!==void 0?(X(),ve("img",Xr({key:0},S(c),{src:a.value,loading:he.loading,style:S(R),class:S(I),crossorigin:he.crossorigin,onClick:J,onLoad:H,onError:K}),null,16,Uje)):bt("v-if",!0),A.value?(X(),ve("div",{key:1,class:Se(S(s).e("wrapper"))},[kt(he.$slots,"placeholder",{},()=>[pe("div",{class:Se(S(s).e("placeholder"))},null,2)])],2)):bt("v-if",!0)],64)),S(N)?(X(),ve(Vn,{key:2},[m.value?(X(),Ut(S(Nae),{key:0,"z-index":he.zIndex,"initial-index":S(z),infinite:he.infinite,"zoom-rate":he.zoomRate,"min-scale":he.minScale,"max-scale":he.maxScale,"url-list":he.previewSrcList,"hide-on-click-modal":he.hideOnClickModal,teleported:he.previewTeleported,"close-on-press-escape":he.closeOnPressEscape,onClose:te,onSwitch:ne},{default:xt(()=>[he.$slots.viewer?(X(),ve("div",zje,[kt(he.$slots,"viewer")])):bt("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):bt("v-if",!0)],64)):bt("v-if",!0)],6))}});var Hje=kn(Vje,[["__file","image.vue"]]);const Qje=fi(Hje),jje=Ln({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:ru,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:t=>t===null||Or(t)||["min","max"].includes(t),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:t=>t>=0&&t===Number.parseInt(`${t}`,10)},validateEvent:{type:Boolean,default:!0},...Vu(["ariaLabel"])}),Gje={[_s]:(t,e)=>e!==t,blur:t=>t instanceof FocusEvent,focus:t=>t instanceof FocusEvent,[nh]:t=>Or(t)||_u(t),[vi]:t=>Or(t)||_u(t)},Kje=["aria-label","onKeydown"],Wje=["aria-label","onKeydown"],qje=Be({name:"ElInputNumber"}),Yje=Be({...qje,props:jje,emits:Gje,setup(t,{expose:e,emit:n}){const r=t,{t:i}=ca(),s=vn("input-number"),l=Te(),c=ua({currentValue:r.modelValue,userInput:null}),{formItem:a}=Nc(),f=le(()=>Or(r.modelValue)&&r.modelValue<=r.min),A=le(()=>Or(r.modelValue)&&r.modelValue>=r.max),m=le(()=>{const J=I(r.step);return Wo(r.precision)?Math.max(I(r.modelValue),J):(J>r.precision,r.precision)}),_=le(()=>r.controls&&r.controlsPosition==="right"),y=hl(),T=oh(),E=le(()=>{if(c.userInput!==null)return c.userInput;let J=c.currentValue;if(_u(J))return"";if(Or(J)){if(Number.isNaN(J))return"";Wo(r.precision)||(J=J.toFixed(r.precision))}return J}),P=(J,te)=>{if(Wo(te)&&(te=m.value),te===0)return Math.round(J);let ne=String(J);const he=ne.indexOf(".");if(he===-1||!ne.replace(".","").split("")[he+te])return J;const Ee=ne.length;return ne.charAt(Ee-1)==="5"&&(ne=`${ne.slice(0,Math.max(0,Ee-1))}6`),Number.parseFloat(Number(ne).toFixed(te))},I=J=>{if(_u(J))return 0;const te=J.toString(),ne=te.indexOf(".");let he=0;return ne!==-1&&(he=te.length-ne-1),he},F=(J,te=1)=>Or(J)?P(J+r.step*te):c.currentValue,R=()=>{if(r.readonly||T.value||A.value)return;const J=Number(E.value)||0,te=F(J);Q(te),n(nh,c.currentValue),ee()},N=()=>{if(r.readonly||T.value||f.value)return;const J=Number(E.value)||0,te=F(J,-1);Q(te),n(nh,c.currentValue),ee()},z=(J,te)=>{const{max:ne,min:he,step:ce,precision:ye,stepStrictly:Ee,valueOnClear:se}=r;ne<he&&kl("InputNumber","min should not be greater than max.");let oe=Number(J);if(_u(J)||Number.isNaN(oe))return null;if(J===""){if(se===null)return null;oe=Hr(se)?{min:he,max:ne}[se]:se}return Ee&&(oe=P(Math.round(oe/ce)*ce,ye)),Wo(ye)||(oe=P(oe,ye)),(oe>ne||oe<he)&&(oe=oe>ne?ne:he,te&&n(vi,oe)),oe},Q=(J,te=!0)=>{var ne;const he=c.currentValue,ce=z(J);if(!te){n(vi,ce);return}he===ce&&J||(c.userInput=null,n(vi,ce),he!==ce&&n(_s,ce,he),r.validateEvent&&((ne=a==null?void 0:a.validate)==null||ne.call(a,"change").catch(ye=>void 0)),c.currentValue=ce)},j=J=>{c.userInput=J;const te=J===""?null:Number(J);n(nh,te),Q(te,!1)},H=J=>{const te=J!==""?Number(J):"";(Or(te)&&!Number.isNaN(te)||J==="")&&Q(te),ee(),c.userInput=null},K=()=>{var J,te;(te=(J=l.value)==null?void 0:J.focus)==null||te.call(J)},ie=()=>{var J,te;(te=(J=l.value)==null?void 0:J.blur)==null||te.call(J)},q=J=>{n("focus",J)},W=J=>{var te;c.userInput=null,n("blur",J),r.validateEvent&&((te=a==null?void 0:a.validate)==null||te.call(a,"blur").catch(ne=>void 0))},ee=()=>{c.currentValue!==r.modelValue&&(c.currentValue=r.modelValue)},ue=J=>{document.activeElement===J.target&&J.preventDefault()};return un(()=>r.modelValue,(J,te)=>{const ne=z(J,!0);c.userInput===null&&ne!==te&&(c.currentValue=ne)},{immediate:!0}),kr(()=>{var J;const{min:te,max:ne,modelValue:he}=r,ce=(J=l.value)==null?void 0:J.input;if(ce.setAttribute("role","spinbutton"),Number.isFinite(ne)?ce.setAttribute("aria-valuemax",String(ne)):ce.removeAttribute("aria-valuemax"),Number.isFinite(te)?ce.setAttribute("aria-valuemin",String(te)):ce.removeAttribute("aria-valuemin"),ce.setAttribute("aria-valuenow",c.currentValue||c.currentValue===0?String(c.currentValue):""),ce.setAttribute("aria-disabled",String(T.value)),!Or(he)&&he!=null){let ye=Number(he);Number.isNaN(ye)&&(ye=null),n(vi,ye)}ce.addEventListener("wheel",ue,{passive:!1})}),i0(()=>{var J,te;const ne=(J=l.value)==null?void 0:J.input;ne==null||ne.setAttribute("aria-valuenow",`${(te=c.currentValue)!=null?te:""}`)}),gu({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-input-number",ref:"https://element-plus.org/en-US/component/input-number.html"},le(()=>!!r.label)),e({focus:K,blur:ie}),(J,te)=>(X(),ve("div",{class:Se([S(s).b(),S(s).m(S(y)),S(s).is("disabled",S(T)),S(s).is("without-controls",!J.controls),S(s).is("controls-right",S(_))]),onDragstart:te[0]||(te[0]=Fr(()=>{},["prevent"]))},[J.controls?Jr((X(),ve("span",{key:0,role:"button","aria-label":S(i)("el.inputNumber.decrease"),class:Se([S(s).e("decrease"),S(s).is("disabled",S(f))]),onKeydown:Qa(N,["enter"])},[kt(J.$slots,"decrease-icon",{},()=>[ht(S(Ar),null,{default:xt(()=>[S(_)?(X(),Ut(S(Em),{key:0})):(X(),Ut(S(nre),{key:1}))]),_:1})])],42,Kje)),[[S(xT),N]]):bt("v-if",!0),J.controls?Jr((X(),ve("span",{key:1,role:"button","aria-label":S(i)("el.inputNumber.increase"),class:Se([S(s).e("increase"),S(s).is("disabled",S(A))]),onKeydown:Qa(R,["enter"])},[kt(J.$slots,"increase-icon",{},()=>[ht(S(Ar),null,{default:xt(()=>[S(_)?(X(),Ut(S(Z8),{key:0})):(X(),Ut(S(UN),{key:1}))]),_:1})])],42,Wje)),[[S(xT),R]]):bt("v-if",!0),ht(S(Pc),{id:J.id,ref_key:"input",ref:l,type:"number",step:J.step,"model-value":S(E),placeholder:J.placeholder,readonly:J.readonly,disabled:S(T),size:S(y),max:J.max,min:J.min,name:J.name,"aria-label":J.label||J.ariaLabel,"validate-event":!1,onKeydown:[Qa(Fr(R,["prevent"]),["up"]),Qa(Fr(N,["prevent"]),["down"])],onBlur:W,onFocus:q,onInput:j,onChange:H},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],34))}});var Xje=kn(Yje,[["__file","input-number.vue"]]);const Uae=fi(Xje),Zje=Ln({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},href:{type:String,default:""},target:{type:String,default:"_self"},icon:{type:Ja}}),Jje={click:t=>t instanceof MouseEvent},eGe=["href","target"],tGe=Be({name:"ElLink"}),nGe=Be({...tGe,props:Zje,emits:Jje,setup(t,{emit:e}){const n=t,r=vn("link"),i=le(()=>[r.b(),r.m(n.type),r.is("disabled",n.disabled),r.is("underline",n.underline&&!n.disabled)]);function s(l){n.disabled||e("click",l)}return(l,c)=>(X(),ve("a",{class:Se(S(i)),href:l.disabled||!l.href?void 0:l.href,target:l.disabled||!l.href?void 0:l.target,onClick:s},[l.icon?(X(),Ut(S(Ar),{key:0},{default:xt(()=>[(X(),Ut(di(l.icon)))]),_:1})):bt("v-if",!0),l.$slots.default?(X(),ve("span",{key:1,class:Se(S(r).e("inner"))},[kt(l.$slots,"default")],2)):bt("v-if",!0),l.$slots.icon?kt(l.$slots,"icon",{key:2}):bt("v-if",!0)],10,eGe))}});var rGe=kn(nGe,[["__file","link.vue"]]);const iGe=fi(rGe);let aGe=class{constructor(e,n){this.parent=e,this.domNode=n,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,n=>{n.addEventListener("keydown",r=>{let i=!1;switch(r.code){case Tr.down:{this.gotoSubIndex(this.subIndex+1),i=!0;break}case Tr.up:{this.gotoSubIndex(this.subIndex-1),i=!0;break}case Tr.tab:{lS(e,"mouseleave");break}case Tr.enter:case Tr.space:{i=!0,r.currentTarget.click();break}}return i&&(r.preventDefault(),r.stopPropagation()),!1})})}},sGe=class{constructor(e,n){this.domNode=e,this.submenu=null,this.submenu=null,this.init(n)}init(e){this.domNode.setAttribute("tabindex","0");const n=this.domNode.querySelector(`.${e}-menu`);n&&(this.submenu=new aGe(this,n)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",e=>{let n=!1;switch(e.code){case Tr.down:{lS(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),n=!0;break}case Tr.up:{lS(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),n=!0;break}case Tr.tab:{lS(e.currentTarget,"mouseleave");break}case Tr.enter:case Tr.space:{n=!0,e.currentTarget.click();break}}n&&e.preventDefault()})}},oGe=class{constructor(e,n){this.domNode=e,this.init(n)}init(e){const n=this.domNode.childNodes;Array.from(n).forEach(r=>{r.nodeType===1&&new sGe(r,e)})}};const lGe=Be({name:"ElMenuCollapseTransition",setup(){const t=vn("menu");return{listeners:{onBeforeEnter:n=>n.style.opacity="0.2",onEnter(n,r){mf(n,`${t.namespace.value}-opacity-transition`),n.style.opacity="1",r()},onAfterEnter(n){Rc(n,`${t.namespace.value}-opacity-transition`),n.style.opacity=""},onBeforeLeave(n){n.dataset||(n.dataset={}),xf(n,t.m("collapse"))?(Rc(n,t.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),mf(n,t.m("collapse"))):(mf(n,t.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),Rc(n,t.m("collapse"))),n.style.width=`${n.scrollWidth}px`,n.style.overflow="hidden"},onLeave(n){mf(n,"horizontal-collapse-transition"),n.style.width=`${n.dataset.scrollWidth}px`}}}}});function uGe(t,e,n,r,i,s){return X(),Ut(co,Xr({mode:"out-in"},t.listeners),{default:xt(()=>[kt(t.$slots,"default")]),_:3},16)}var cGe=kn(lGe,[["render",uGe],["__file","menu-collapse-transition.vue"]]);function zae(t,e){const n=le(()=>{let i=t.parent;const s=[e.value];for(;i.type.name!=="ElMenu";)i.props.index&&s.unshift(i.props.index),i=i.parent;return s});return{parentMenu:le(()=>{let i=t.parent;for(;i&&!["ElMenu","ElSubMenu"].includes(i.type.name);)i=i.parent;return i}),indexPath:n}}function hGe(t){return le(()=>{const n=t.backgroundColor;return n?new vie(n).shade(20).toString():""})}const $ae=(t,e)=>{const n=vn("menu");return le(()=>n.cssVarBlock({"text-color":t.textColor||"","hover-text-color":t.textColor||"","bg-color":t.backgroundColor||"","hover-bg-color":hGe(t).value||"","active-color":t.activeTextColor||"",level:`${e}`}))},dGe=Ln({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:Ja},expandOpenIcon:{type:Ja},collapseCloseIcon:{type:Ja},collapseOpenIcon:{type:Ja}}),PL="ElSubMenu";var I9=Be({name:PL,props:dGe,setup(t,{slots:e,expose:n}){const r=ci(),{indexPath:i,parentMenu:s}=zae(r,le(()=>t.index)),l=vn("menu"),c=vn("sub-menu"),a=ar("rootMenu");a||kl(PL,"can not inject root menu");const f=ar(`subMenu:${s.value.uid}`);f||kl(PL,"can not inject sub menu");const A=Te({}),m=Te({});let _;const y=Te(!1),T=Te(),E=Te(null),P=le(()=>H.value==="horizontal"&&F.value?"bottom-start":"right-start"),I=le(()=>H.value==="horizontal"&&F.value||H.value==="vertical"&&!a.props.collapse?t.expandCloseIcon&&t.expandOpenIcon?Q.value?t.expandOpenIcon:t.expandCloseIcon:Em:t.collapseCloseIcon&&t.collapseOpenIcon?Q.value?t.collapseOpenIcon:t.collapseCloseIcon:Oc),F=le(()=>f.level===0),R=le(()=>{const ye=t.teleported;return ye===void 0?F.value:ye}),N=le(()=>a.props.collapse?`${l.namespace.value}-zoom-in-left`:`${l.namespace.value}-zoom-in-top`),z=le(()=>H.value==="horizontal"&&F.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),Q=le(()=>a.openedMenus.includes(t.index)),j=le(()=>{let ye=!1;return Object.values(A.value).forEach(Ee=>{Ee.active&&(ye=!0)}),Object.values(m.value).forEach(Ee=>{Ee.active&&(ye=!0)}),ye}),H=le(()=>a.props.mode),K=ua({index:t.index,indexPath:i,active:j}),ie=$ae(a.props,f.level+1),q=le(()=>{var ye;return(ye=t.popperOffset)!=null?ye:a.props.popperOffset}),W=le(()=>{var ye;return(ye=t.popperClass)!=null?ye:a.props.popperClass}),ee=le(()=>{var ye;return(ye=t.showTimeout)!=null?ye:a.props.showTimeout}),ue=le(()=>{var ye;return(ye=t.hideTimeout)!=null?ye:a.props.hideTimeout}),J=()=>{var ye,Ee,se;return(se=(Ee=(ye=E.value)==null?void 0:ye.popperRef)==null?void 0:Ee.popperInstanceRef)==null?void 0:se.destroy()},te=ye=>{ye||J()},ne=()=>{a.props.menuTrigger==="hover"&&a.props.mode==="horizontal"||a.props.collapse&&a.props.mode==="vertical"||t.disabled||a.handleSubMenuClick({index:t.index,indexPath:i.value,active:j.value})},he=(ye,Ee=ee.value)=>{var se;if(ye.type!=="focus"){if(a.props.menuTrigger==="click"&&a.props.mode==="horizontal"||!a.props.collapse&&a.props.mode==="vertical"||t.disabled){f.mouseInChild.value=!0;return}f.mouseInChild.value=!0,_==null||_(),{stop:_}=J_(()=>{a.openMenu(t.index,i.value)},Ee),R.value&&((se=s.value.vnode.el)==null||se.dispatchEvent(new MouseEvent("mouseenter")))}},ce=(ye=!1)=>{var Ee;if(a.props.menuTrigger==="click"&&a.props.mode==="horizontal"||!a.props.collapse&&a.props.mode==="vertical"){f.mouseInChild.value=!1;return}_==null||_(),f.mouseInChild.value=!1,{stop:_}=J_(()=>!y.value&&a.closeMenu(t.index,i.value),ue.value),R.value&&ye&&((Ee=f.handleMouseleave)==null||Ee.call(f,!0))};un(()=>a.props.collapse,ye=>te(!!ye));{const ye=se=>{m.value[se.index]=se},Ee=se=>{delete m.value[se.index]};Ii(`subMenu:${r.uid}`,{addSubMenu:ye,removeSubMenu:Ee,handleMouseleave:ce,mouseInChild:y,level:f.level+1})}return n({opened:Q}),kr(()=>{a.addSubMenu(K),f.addSubMenu(K)}),ds(()=>{f.removeSubMenu(K),a.removeSubMenu(K)}),()=>{var ye;const Ee=[(ye=e.title)==null?void 0:ye.call(e),wr(Ar,{class:c.e("icon-arrow"),style:{transform:Q.value?t.expandCloseIcon&&t.expandOpenIcon||t.collapseCloseIcon&&t.collapseOpenIcon&&a.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>Hr(I.value)?wr(r.appContext.components[I.value]):wr(I.value)})],se=a.isMenuPopup?wr(Dc,{ref:E,visible:Q.value,effect:"light",pure:!0,offset:q.value,showArrow:!1,persistent:!0,popperClass:W.value,placement:P.value,teleported:R.value,fallbackPlacements:z.value,transition:N.value,gpuAcceleration:!1},{content:()=>{var oe;return wr("div",{class:[l.m(H.value),l.m("popup-container"),W.value],onMouseenter:_e=>he(_e,100),onMouseleave:()=>ce(!0),onFocus:_e=>he(_e,100)},[wr("ul",{class:[l.b(),l.m("popup"),l.m(`popup-${P.value}`)],style:ie.value},[(oe=e.default)==null?void 0:oe.call(e)])])},default:()=>wr("div",{class:c.e("title"),onClick:ne},Ee)}):wr(Vn,{},[wr("div",{class:c.e("title"),ref:T,onClick:ne},Ee),wr(dB,{},{default:()=>{var oe;return Jr(wr("ul",{role:"menu",class:[l.b(),l.m("inline")],style:ie.value},[(oe=e.default)==null?void 0:oe.call(e)]),[[la,Q.value]])}})]);return wr("li",{class:[c.b(),c.is("active",j.value),c.is("opened",Q.value),c.is("disabled",t.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:Q.value,onMouseenter:he,onMouseleave:()=>ce(),onFocus:he},[se])}}});const fGe=Ln({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:Rt(Array),default:()=>to([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:Ja,default:()=>rre},popperEffect:{type:String,values:["dark","light"],default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300}}),FL=t=>Array.isArray(t)&&t.every(e=>Hr(e)),pGe={close:(t,e)=>Hr(t)&&FL(e),open:(t,e)=>Hr(t)&&FL(e),select:(t,e,n,r)=>Hr(t)&&FL(e)&&Ai(n)&&(r===void 0||r instanceof Promise)};var AGe=Be({name:"ElMenu",props:fGe,emits:pGe,setup(t,{emit:e,slots:n,expose:r}){const i=ci(),s=i.appContext.config.globalProperties.$router,l=Te(),c=vn("menu"),a=vn("sub-menu"),f=Te(-1),A=Te(t.defaultOpeneds&&!t.collapse?t.defaultOpeneds.slice(0):[]),m=Te(t.defaultActive),_=Te({}),y=Te({}),T=le(()=>t.mode==="horizontal"||t.mode==="vertical"&&t.collapse),E=()=>{const ue=m.value&&_.value[m.value];if(!ue||t.mode==="horizontal"||t.collapse)return;ue.indexPath.forEach(te=>{const ne=y.value[te];ne&&P(te,ne.indexPath)})},P=(ue,J)=>{A.value.includes(ue)||(t.uniqueOpened&&(A.value=A.value.filter(te=>J.includes(te))),A.value.push(ue),e("open",ue,J))},I=ue=>{const J=A.value.indexOf(ue);J!==-1&&A.value.splice(J,1)},F=(ue,J)=>{I(ue),e("close",ue,J)},R=({index:ue,indexPath:J})=>{A.value.includes(ue)?F(ue,J):P(ue,J)},N=ue=>{(t.mode==="horizontal"||t.collapse)&&(A.value=[]);const{index:J,indexPath:te}=ue;if(!(_u(J)||_u(te)))if(t.router&&s){const ne=ue.route||J,he=s.push(ne).then(ce=>(ce||(m.value=J),ce));e("select",J,te,{index:J,indexPath:te,route:ne},he)}else m.value=J,e("select",J,te,{index:J,indexPath:te})},z=ue=>{const J=_.value,te=J[ue]||m.value&&J[m.value]||J[t.defaultActive];te?m.value=te.index:m.value=ue},Q=ue=>{const J=getComputedStyle(ue),te=Number.parseInt(J.marginLeft,10),ne=Number.parseInt(J.marginRight,10);return ue.offsetWidth+te+ne||0},j=()=>{var ue,J;if(!l.value)return-1;const te=Array.from((J=(ue=l.value)==null?void 0:ue.childNodes)!=null?J:[]).filter(_e=>_e.nodeName!=="#comment"&&(_e.nodeName!=="#text"||_e.nodeValue)),ne=64,he=getComputedStyle(l.value),ce=Number.parseInt(he.paddingLeft,10),ye=Number.parseInt(he.paddingRight,10),Ee=l.value.clientWidth-ce-ye;let se=0,oe=0;return te.forEach((_e,Ue)=>{se+=Q(_e),se<=Ee-ne&&(oe=Ue+1)}),oe===te.length?-1:oe},H=ue=>y.value[ue].indexPath,K=(ue,J=33.34)=>{let te;return()=>{te&&clearTimeout(te),te=setTimeout(()=>{ue()},J)}};let ie=!0;const q=()=>{if(f.value===j())return;const ue=()=>{f.value=-1,dr(()=>{f.value=j()})};ie?ue():K(ue)(),ie=!1};un(()=>t.defaultActive,ue=>{_.value[ue]||(m.value=""),z(ue)}),un(()=>t.collapse,ue=>{ue&&(A.value=[])}),un(_.value,E);let W;rc(()=>{t.mode==="horizontal"&&t.ellipsis?W=eo(l,q).stop:W==null||W()});const ee=Te(!1);{const ue=he=>{y.value[he.index]=he},J=he=>{delete y.value[he.index]};Ii("rootMenu",ua({props:t,openedMenus:A,items:_,subMenus:y,activeIndex:m,isMenuPopup:T,addMenuItem:he=>{_.value[he.index]=he},removeMenuItem:he=>{delete _.value[he.index]},addSubMenu:ue,removeSubMenu:J,openMenu:P,closeMenu:F,handleMenuItemClick:N,handleSubMenuClick:R})),Ii(`subMenu:${i.uid}`,{addSubMenu:ue,removeSubMenu:J,mouseInChild:ee,level:0})}return kr(()=>{t.mode==="horizontal"&&new oGe(i.vnode.el,c.namespace.value)}),r({open:J=>{const{indexPath:te}=y.value[J];te.forEach(ne=>P(ne,te))},close:I,handleResize:q}),()=>{var ue,J;let te=(J=(ue=n.default)==null?void 0:ue.call(n))!=null?J:[];const ne=[];if(t.mode==="horizontal"&&l.value){const Ee=$v(te),se=f.value===-1?Ee:Ee.slice(0,f.value),oe=f.value===-1?[]:Ee.slice(f.value);oe!=null&&oe.length&&t.ellipsis&&(te=se,ne.push(wr(I9,{index:"sub-menu-more",class:a.e("hide-arrow"),popperOffset:t.popperOffset},{title:()=>wr(Ar,{class:a.e("icon-more")},{default:()=>wr(t.ellipsisIcon)}),default:()=>oe})))}const he=$ae(t,0),ce=t.closeOnClickOutside?[[Xg,()=>{A.value.length&&(ee.value||(A.value.forEach(Ee=>e("close",Ee,H(Ee))),A.value=[]))}]]:[],ye=Jr(wr("ul",{key:String(t.collapse),role:"menubar",ref:l,style:he.value,class:{[c.b()]:!0,[c.m(t.mode)]:!0,[c.m("collapse")]:t.collapse}},[...te,...ne]),ce);return t.collapseTransition&&t.mode==="vertical"?wr(cGe,()=>ye):ye}}});const mGe=Ln({index:{type:Rt([String,null]),default:null},route:{type:Rt([String,Object])},disabled:Boolean}),gGe={click:t=>Hr(t.index)&&Array.isArray(t.indexPath)},kL="ElMenuItem",vGe=Be({name:kL,components:{ElTooltip:Dc},props:mGe,emits:gGe,setup(t,{emit:e}){const n=ci(),r=ar("rootMenu"),i=vn("menu"),s=vn("menu-item");r||kl(kL,"can not inject root menu");const{parentMenu:l,indexPath:c}=zae(n,Oa(t,"index")),a=ar(`subMenu:${l.value.uid}`);a||kl(kL,"can not inject sub menu");const f=le(()=>t.index===r.activeIndex),A=ua({index:t.index,indexPath:c,active:f}),m=()=>{t.disabled||(r.handleMenuItemClick({index:t.index,indexPath:c.value,route:t.route}),e("click",A))};return kr(()=>{a.addSubMenu(A),r.addMenuItem(A)}),ds(()=>{a.removeSubMenu(A),r.removeMenuItem(A)}),{parentMenu:l,rootMenu:r,active:f,nsMenu:i,nsMenuItem:s,handleClick:m}}});function _Ge(t,e,n,r,i,s){const l=Kr("el-tooltip");return X(),ve("li",{class:Se([t.nsMenuItem.b(),t.nsMenuItem.is("active",t.active),t.nsMenuItem.is("disabled",t.disabled)]),role:"menuitem",tabindex:"-1",onClick:e[0]||(e[0]=(...c)=>t.handleClick&&t.handleClick(...c))},[t.parentMenu.type.name==="ElMenu"&&t.rootMenu.props.collapse&&t.$slots.title?(X(),Ut(l,{key:0,effect:t.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:xt(()=>[kt(t.$slots,"title")]),default:xt(()=>[pe("div",{class:Se(t.nsMenu.be("tooltip","trigger"))},[kt(t.$slots,"default")],2)]),_:3},8,["effect"])):(X(),ve(Vn,{key:1},[kt(t.$slots,"default"),kt(t.$slots,"title")],64))],2)}var Vae=kn(vGe,[["render",_Ge],["__file","menu-item.vue"]]);const yGe={title:String},bGe="ElMenuItemGroup",wGe=Be({name:bGe,props:yGe,setup(){return{ns:vn("menu-item-group")}}});function xGe(t,e,n,r,i,s){return X(),ve("li",{class:Se(t.ns.b())},[pe("div",{class:Se(t.ns.e("title"))},[t.$slots.title?kt(t.$slots,"title",{key:1}):(X(),ve(Vn,{key:0},[wi(Cn(t.title),1)],64))],2),pe("ul",null,[kt(t.$slots,"default")])],2)}var Hae=kn(wGe,[["render",xGe],["__file","menu-item-group.vue"]]);const CGe=fi(AGe,{MenuItem:Vae,MenuItemGroup:Hae,SubMenu:I9}),EGe=ro(Vae),SGe=ro(Hae),TGe=ro(I9),BGe=Ln({icon:{type:Ja,default:()=>Wne},title:String,content:{type:String,default:""}}),MGe={back:()=>!0},IGe=["aria-label"],LGe=Be({name:"ElPageHeader"}),PGe=Be({...LGe,props:BGe,emits:MGe,setup(t,{emit:e}){const n=Eo(),{t:r}=ca(),i=vn("page-header"),s=le(()=>[i.b(),{[i.m("has-breadcrumb")]:!!n.breadcrumb,[i.m("has-extra")]:!!n.extra,[i.is("contentful")]:!!n.default}]);function l(){e("back")}return(c,a)=>(X(),ve("div",{class:Se(S(s))},[c.$slots.breadcrumb?(X(),ve("div",{key:0,class:Se(S(i).e("breadcrumb"))},[kt(c.$slots,"breadcrumb")],2)):bt("v-if",!0),pe("div",{class:Se(S(i).e("header"))},[pe("div",{class:Se(S(i).e("left"))},[pe("div",{class:Se(S(i).e("back")),role:"button",tabindex:"0",onClick:l},[c.icon||c.$slots.icon?(X(),ve("div",{key:0,"aria-label":c.title||S(r)("el.pageHeader.title"),class:Se(S(i).e("icon"))},[kt(c.$slots,"icon",{},()=>[c.icon?(X(),Ut(S(Ar),{key:0},{default:xt(()=>[(X(),Ut(di(c.icon)))]),_:1})):bt("v-if",!0)])],10,IGe)):bt("v-if",!0),pe("div",{class:Se(S(i).e("title"))},[kt(c.$slots,"title",{},()=>[wi(Cn(c.title||S(r)("el.pageHeader.title")),1)])],2)],2),ht(S(Bae),{direction:"vertical"}),pe("div",{class:Se(S(i).e("content"))},[kt(c.$slots,"content",{},()=>[wi(Cn(c.content),1)])],2)],2),c.$slots.extra?(X(),ve("div",{key:0,class:Se(S(i).e("extra"))},[kt(c.$slots,"extra")],2)):bt("v-if",!0)],2),c.$slots.default?(X(),ve("div",{key:1,class:Se(S(i).e("main"))},[kt(c.$slots,"default")],2)):bt("v-if",!0)],2))}});var FGe=kn(PGe,[["__file","page-header.vue"]]);const kGe=fi(FGe),Qae=Symbol("elPaginationKey"),RGe=Ln({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:Ja}}),OGe={click:t=>t instanceof MouseEvent},DGe=["disabled","aria-label","aria-disabled"],NGe={key:0},UGe=Be({name:"ElPaginationPrev"}),zGe=Be({...UGe,props:RGe,emits:OGe,setup(t){const e=t,{t:n}=ca(),r=le(()=>e.disabled||e.currentPage<=1);return(i,s)=>(X(),ve("button",{type:"button",class:"btn-prev",disabled:S(r),"aria-label":i.prevText||S(n)("el.pagination.prev"),"aria-disabled":S(r),onClick:s[0]||(s[0]=l=>i.$emit("click",l))},[i.prevText?(X(),ve("span",NGe,Cn(i.prevText),1)):(X(),Ut(S(Ar),{key:1},{default:xt(()=>[(X(),Ut(di(i.prevIcon)))]),_:1}))],8,DGe))}});var $Ge=kn(zGe,[["__file","prev.vue"]]);const VGe=Ln({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:Ja}}),HGe=["disabled","aria-label","aria-disabled"],QGe={key:0},jGe=Be({name:"ElPaginationNext"}),GGe=Be({...jGe,props:VGe,emits:["click"],setup(t){const e=t,{t:n}=ca(),r=le(()=>e.disabled||e.currentPage===e.pageCount||e.pageCount===0);return(i,s)=>(X(),ve("button",{type:"button",class:"btn-next",disabled:S(r),"aria-label":i.nextText||S(n)("el.pagination.next"),"aria-disabled":S(r),onClick:s[0]||(s[0]=l=>i.$emit("click",l))},[i.nextText?(X(),ve("span",QGe,Cn(i.nextText),1)):(X(),Ut(S(Ar),{key:1},{default:xt(()=>[(X(),Ut(di(i.nextIcon)))]),_:1}))],8,HGe))}});var KGe=kn(GGe,[["__file","next.vue"]]);const jae=Symbol("ElSelectGroup"),Q6=Symbol("ElSelect");function WGe(t,e){const n=ar(Q6),r=ar(jae,{disabled:!1}),i=le(()=>n.props.multiple?A(n.props.modelValue,t.value):A([n.props.modelValue],t.value)),s=le(()=>{if(n.props.multiple){const y=n.props.modelValue||[];return!i.value&&y.length>=n.props.multipleLimit&&n.props.multipleLimit>0}else return!1}),l=le(()=>t.label||(Ai(t.value)?"":t.value)),c=le(()=>t.value||t.label||""),a=le(()=>t.disabled||e.groupDisabled||s.value),f=ci(),A=(y=[],T)=>{if(Ai(t.value)){const E=n.props.valueKey;return y&&y.some(P=>ja(Fo(P,E))===Fo(T,E))}else return y&&y.includes(T)},m=()=>{!t.disabled&&!r.disabled&&(n.states.hoveringIndex=n.optionsArray.indexOf(f.proxy))},_=y=>{const T=new RegExp(RN(y),"i");e.visible=T.test(l.value)||t.created};return un(()=>l.value,()=>{!t.created&&!n.props.remote&&n.setSelected()}),un(()=>t.value,(y,T)=>{const{remote:E,valueKey:P}=n.props;if(kc(y,T)||(n.onOptionDestroy(T,f.proxy),n.onOptionCreate(f.proxy)),!t.created&&!E){if(P&&Ai(y)&&Ai(T)&&y[P]===T[P])return;n.setSelected()}}),un(()=>r.disabled,()=>{e.groupDisabled=r.disabled},{immediate:!0}),{select:n,currentLabel:l,currentValue:c,itemSelected:i,isDisabled:a,hoverItem:m,updateOption:_}}const qGe=Be({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(t){const e=vn("select"),n=ac(),r=le(()=>[e.be("dropdown","item"),e.is("disabled",S(c)),e.is("selected",S(l)),e.is("hovering",S(_))]),i=ua({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:s,itemSelected:l,isDisabled:c,select:a,hoverItem:f,updateOption:A}=WGe(t,i),{visible:m,hover:_}=zu(i),y=ci().proxy;a.onOptionCreate(y),ds(()=>{const E=y.value,{selected:P}=a.states,F=(a.props.multiple?P:[P]).some(R=>R.value===y.value);dr(()=>{a.states.cachedOptions.get(E)===y&&!F&&a.states.cachedOptions.delete(E)}),a.onOptionDestroy(E,y)});function T(){t.disabled!==!0&&i.groupDisabled!==!0&&a.handleOptionSelect(y)}return{ns:e,id:n,containerKls:r,currentLabel:s,itemSelected:l,isDisabled:c,select:a,hoverItem:f,updateOption:A,visible:m,hover:_,selectOptionClick:T,states:i}}}),YGe=["id","aria-disabled","aria-selected"];function XGe(t,e,n,r,i,s){return Jr((X(),ve("li",{id:t.id,class:Se(t.containerKls),role:"option","aria-disabled":t.isDisabled||void 0,"aria-selected":t.itemSelected,onMouseenter:e[0]||(e[0]=(...l)=>t.hoverItem&&t.hoverItem(...l)),onClick:e[1]||(e[1]=Fr((...l)=>t.selectOptionClick&&t.selectOptionClick(...l),["stop"]))},[kt(t.$slots,"default",{},()=>[pe("span",null,Cn(t.currentLabel),1)])],42,YGe)),[[la,t.visible]])}var L9=kn(qGe,[["render",XGe],["__file","option.vue"]]);const ZGe=Be({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const t=ar(Q6),e=vn("select"),n=le(()=>t.props.popperClass),r=le(()=>t.props.multiple),i=le(()=>t.props.fitInputWidth),s=Te("");function l(){var c;s.value=`${(c=t.selectRef)==null?void 0:c.offsetWidth}px`}return kr(()=>{l(),eo(t.selectRef,l)}),{ns:e,minWidth:s,popperClass:n,isMultiple:r,isFitInputWidth:i}}});function JGe(t,e,n,r,i,s){return X(),ve("div",{class:Se([t.ns.b("dropdown"),t.ns.is("multiple",t.isMultiple),t.popperClass]),style:or({[t.isFitInputWidth?"width":"minWidth"]:t.minWidth})},[t.$slots.header?(X(),ve("div",{key:0,class:Se(t.ns.be("dropdown","header"))},[kt(t.$slots,"header")],2)):bt("v-if",!0),kt(t.$slots,"default"),t.$slots.footer?(X(),ve("div",{key:1,class:Se(t.ns.be("dropdown","footer"))},[kt(t.$slots,"footer")],2)):bt("v-if",!0)],6)}var eKe=kn(ZGe,[["render",JGe],["__file","select-dropdown.vue"]]);function Gae(t){const e=Te(!1);return{handleCompositionStart:()=>{e.value=!0},handleCompositionUpdate:s=>{const l=s.target.value,c=l[l.length-1]||"";e.value=!jN(c)},handleCompositionEnd:s=>{e.value&&(e.value=!1,Dr(t)&&t(s))}}}const tKe=11,nKe=(t,e)=>{const{t:n}=ca(),r=ac(),i=vn("select"),s=vn("input"),l=ua({inputValue:"",options:new Map,cachedOptions:new Map,disabledOptions:new Map,optionValues:[],selected:t.multiple?[]:{},selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),c=Te(null),a=Te(null),f=Te(null),A=Te(null),m=Te(null),_=Te(null),y=Te(null),T=Te(null),E=Te(null),P=Te(null),I=Te(null),F=Te(null),{wrapperRef:R,isFocused:N,handleFocus:z,handleBlur:Q}=sB(m,{afterFocus(){t.automaticDropdown&&!j.value&&(j.value=!0,l.menuVisibleOnFocus=!0)},beforeBlur(Ht){var an,In;return((an=f.value)==null?void 0:an.isFocusInsideContent(Ht))||((In=A.value)==null?void 0:In.isFocusInsideContent(Ht))},afterBlur(){j.value=!1,l.menuVisibleOnFocus=!1}}),j=Te(!1),H=Te(),{form:K,formItem:ie}=Nc(),{inputId:q}=rA(t,{formItemContext:ie}),{valueOnClear:W,isEmptyValue:ee}=oB(t),ue=le(()=>t.disabled||(K==null?void 0:K.disabled)),J=le(()=>t.multiple?Jn(t.modelValue)&&t.modelValue.length>0:!ee(t.modelValue)),te=le(()=>t.clearable&&!ue.value&&l.inputHovering&&J.value),ne=le(()=>t.remote&&t.filterable&&!t.remoteShowSuffix?"":t.suffixIcon),he=le(()=>i.is("reverse",ne.value&&j.value)),ce=le(()=>(ie==null?void 0:ie.validateState)||""),ye=le(()=>QN[ce.value]),Ee=le(()=>t.remote?300:0),se=le(()=>t.loading?t.loadingText||n("el.select.loading"):t.remote&&!l.inputValue&&l.options.size===0?!1:t.filterable&&l.inputValue&&l.options.size>0&&oe.value===0?t.noMatchText||n("el.select.noMatch"):l.options.size===0?t.noDataText||n("el.select.noData"):null),oe=le(()=>_e.value.filter(Ht=>Ht.visible).length),_e=le(()=>{const Ht=Array.from(l.options.values()),an=[];return l.optionValues.forEach(In=>{const Pn=Ht.findIndex(er=>er.value===In);Pn>-1&&an.push(Ht[Pn])}),an.length>=Ht.length?an:Ht}),Ue=le(()=>Array.from(l.cachedOptions.values())),Le=le(()=>{const Ht=_e.value.filter(an=>!an.created).some(an=>an.currentLabel===l.inputValue);return t.filterable&&t.allowCreate&&l.inputValue!==""&&!Ht}),be=()=>{t.filterable&&Dr(t.filterMethod)||t.filterable&&t.remote&&Dr(t.remoteMethod)||_e.value.forEach(Ht=>{var an;(an=Ht.updateOption)==null||an.call(Ht,l.inputValue)})},Re=hl(),Qe=le(()=>["small"].includes(Re.value)?"small":"default"),Je=le({get(){return j.value&&se.value!==!1},set(Ht){j.value=Ht}}),nt=le(()=>Jn(t.modelValue)?t.modelValue.length===0&&!l.inputValue:t.filterable?!l.inputValue:!0),Ve=le(()=>{var Ht;const an=(Ht=t.placeholder)!=null?Ht:n("el.select.placeholder");return t.multiple||!J.value?an:l.selectedLabel});un(()=>t.modelValue,(Ht,an)=>{t.multiple&&t.filterable&&!t.reserveKeyword&&(l.inputValue="",Pe("")),Ne(),!kc(Ht,an)&&t.validateEvent&&(ie==null||ie.validate("change").catch(In=>void 0))},{flush:"post",deep:!0}),un(()=>j.value,Ht=>{Ht?Pe(l.inputValue):(l.inputValue="",l.previousQuery=null,l.isBeforeHide=!0),e("visible-change",Ht)}),un(()=>l.options.entries(),()=>{var Ht;if(!ta)return;const an=((Ht=c.value)==null?void 0:Ht.querySelectorAll("input"))||[];(!t.filterable&&!t.defaultFirstOption&&!Wo(t.modelValue)||!Array.from(an).includes(document.activeElement))&&Ne(),t.defaultFirstOption&&(t.filterable||t.remote)&&oe.value&&Ge()},{flush:"post"}),un(()=>l.hoveringIndex,Ht=>{Or(Ht)&&Ht>-1?H.value=_e.value[Ht]||{}:H.value={},_e.value.forEach(an=>{an.hover=H.value===an})}),rc(()=>{l.isBeforeHide||be()});const Pe=Ht=>{l.previousQuery!==Ht&&(l.previousQuery=Ht,t.filterable&&Dr(t.filterMethod)?t.filterMethod(Ht):t.filterable&&t.remote&&Dr(t.remoteMethod)&&t.remoteMethod(Ht),t.defaultFirstOption&&(t.filterable||t.remote)&&oe.value?dr(Ge):dr(Ye))},Ge=()=>{const Ht=_e.value.filter(Pn=>Pn.visible&&!Pn.disabled&&!Pn.states.groupDisabled),an=Ht.find(Pn=>Pn.created),In=Ht[0];l.hoveringIndex=Pt(_e.value,an||In)},Ne=()=>{if(t.multiple)l.selectedLabel="";else{const an=je(t.modelValue);l.selectedLabel=an.currentLabel,l.selected=an;return}const Ht=[];Jn(t.modelValue)&&t.modelValue.forEach(an=>{Ht.push(je(an))}),l.selected=Ht},je=Ht=>{let an;const In=rS(Ht).toLowerCase()==="object",Pn=rS(Ht).toLowerCase()==="null",er=rS(Ht).toLowerCase()==="undefined";for(let ti=l.cachedOptions.size-1;ti>=0;ti--){const Tn=Ue.value[ti];if(In?Fo(Tn.value,t.valueKey)===Fo(Ht,t.valueKey):Tn.value===Ht){an={value:Ht,currentLabel:Tn.currentLabel,get isDisabled(){return Tn.isDisabled}};break}}if(an)return an;const Gn=In?Ht.label:!Pn&&!er?Ht:"";return{value:Ht,currentLabel:Gn}},Ye=()=>{t.multiple?l.hoveringIndex=_e.value.findIndex(Ht=>l.selected.some(an=>zi(an)===zi(Ht))):l.hoveringIndex=_e.value.findIndex(Ht=>zi(Ht)===zi(l.selected))},vt=()=>{l.selectionWidth=a.value.getBoundingClientRect().width},Lt=()=>{l.calculatorWidth=_.value.getBoundingClientRect().width},Et=()=>{l.collapseItemWidth=I.value.getBoundingClientRect().width},Vt=()=>{var Ht,an;(an=(Ht=f.value)==null?void 0:Ht.updatePopper)==null||an.call(Ht)},_t=()=>{var Ht,an;(an=(Ht=A.value)==null?void 0:Ht.updatePopper)==null||an.call(Ht)},qt=()=>{l.inputValue.length>0&&!j.value&&(j.value=!0),Pe(l.inputValue)},tn=Ht=>{if(l.inputValue=Ht.target.value,t.remote)Nt();else return qt()},Nt=$h(()=>{qt()},Ee.value),wt=Ht=>{kc(t.modelValue,Ht)||e(_s,Ht)},De=Ht=>Vne(Ht,an=>!l.disabledOptions.has(an)),We=Ht=>{if(t.multiple&&Ht.code!==Tr.delete&&Ht.target.value.length<=0){const an=t.modelValue.slice(),In=De(an);if(In<0)return;an.splice(In,1),e(vi,an),wt(an)}},ut=(Ht,an)=>{const In=l.selected.indexOf(an);if(In>-1&&!ue.value){const Pn=t.modelValue.slice();Pn.splice(In,1),e(vi,Pn),wt(Pn),e("remove-tag",an.value)}Ht.stopPropagation(),gr()},It=Ht=>{Ht.stopPropagation();const an=t.multiple?[]:W.value;if(t.multiple)for(const In of l.selected)In.isDisabled&&an.push(In.value);e(vi,an),wt(an),l.hoveringIndex=-1,j.value=!1,e("clear"),gr()},Xe=Ht=>{if(t.multiple){const an=(t.modelValue||[]).slice(),In=Pt(an,Ht.value);In>-1?an.splice(In,1):(t.multipleLimit<=0||an.length<t.multipleLimit)&&an.push(Ht.value),e(vi,an),wt(an),Ht.created&&Pe(""),t.filterable&&!t.reserveKeyword&&(l.inputValue="")}else e(vi,Ht.value),wt(Ht.value),j.value=!1;gr(),!j.value&&dr(()=>{Bt(Ht)})},Pt=(Ht=[],an)=>{if(!Ai(an))return Ht.indexOf(an);const In=t.valueKey;let Pn=-1;return Ht.some((er,Gn)=>ja(Fo(er,In))===Fo(an,In)?(Pn=Gn,!0):!1),Pn},Bt=Ht=>{var an,In,Pn,er,Gn;const Mr=Jn(Ht)?Ht[0]:Ht;let ti=null;if(Mr!=null&&Mr.value){const Tn=_e.value.filter(Kt=>Kt.value===Mr.value);Tn.length>0&&(ti=Tn[0].$el)}if(f.value&&ti){const Tn=(er=(Pn=(In=(an=f.value)==null?void 0:an.popperRef)==null?void 0:In.contentRef)==null?void 0:Pn.querySelector)==null?void 0:er.call(Pn,`.${i.be("dropdown","wrap")}`);Tn&&Kne(Tn,ti)}(Gn=F.value)==null||Gn.handleScroll()},it=Ht=>{l.options.set(Ht.value,Ht),l.cachedOptions.set(Ht.value,Ht),Ht.disabled&&l.disabledOptions.set(Ht.value,Ht)},Mt=(Ht,an)=>{l.options.get(Ht)===an&&l.options.delete(Ht)},{handleCompositionStart:at,handleCompositionUpdate:et,handleCompositionEnd:St}=Gae(Ht=>tn(Ht)),sn=le(()=>{var Ht,an;return(an=(Ht=f.value)==null?void 0:Ht.popperRef)==null?void 0:an.contentRef}),bn=()=>{l.isBeforeHide=!1,dr(()=>Bt(l.selected))},gr=()=>{var Ht;(Ht=m.value)==null||Ht.focus()},tr=()=>{lr()},Nn=Ht=>{It(Ht)},lr=Ht=>{if(j.value=!1,N.value){const an=new FocusEvent("focus",Ht);dr(()=>Q(an))}},Qr=()=>{l.inputValue.length>0?l.inputValue="":j.value=!1},xi=()=>{ue.value||(l.menuVisibleOnFocus?l.menuVisibleOnFocus=!1:j.value=!j.value)},ai=()=>{j.value?_e.value[l.hoveringIndex]&&Xe(_e.value[l.hoveringIndex]):xi()},zi=Ht=>Ai(Ht.value)?Fo(Ht.value,t.valueKey):Ht.value,ma=le(()=>_e.value.filter(Ht=>Ht.visible).every(Ht=>Ht.disabled)),Rr=le(()=>t.multiple?t.collapseTags?l.selected.slice(0,t.maxCollapseTags):l.selected:[]),Ki=le(()=>t.multiple?t.collapseTags?l.selected.slice(t.maxCollapseTags):[]:[]),$i=Ht=>{if(!j.value){j.value=!0;return}if(!(l.options.size===0||oe.value===0)&&!ma.value){Ht==="next"?(l.hoveringIndex++,l.hoveringIndex===l.options.size&&(l.hoveringIndex=0)):Ht==="prev"&&(l.hoveringIndex--,l.hoveringIndex<0&&(l.hoveringIndex=l.options.size-1));const an=_e.value[l.hoveringIndex];(an.disabled===!0||an.states.groupDisabled===!0||!an.visible)&&$i(Ht),dr(()=>Bt(H.value))}},Jt=()=>{if(!a.value)return 0;const Ht=window.getComputedStyle(a.value);return Number.parseFloat(Ht.gap||"6px")},hn=le(()=>{const Ht=Jt();return{maxWidth:`${I.value&&t.maxCollapseTags===1?l.selectionWidth-l.collapseItemWidth-Ht:l.selectionWidth}px`}}),En=le(()=>({maxWidth:`${l.selectionWidth}px`})),Hn=le(()=>({width:`${Math.max(l.calculatorWidth,tKe)}px`}));return t.multiple&&!Jn(t.modelValue)&&e(vi,[]),!t.multiple&&Jn(t.modelValue)&&e(vi,""),eo(a,vt),eo(_,Lt),eo(E,Vt),eo(R,Vt),eo(P,_t),eo(I,Et),kr(()=>{Ne()}),{inputId:q,contentId:r,nsSelect:i,nsInput:s,states:l,isFocused:N,expanded:j,optionsArray:_e,hoverOption:H,selectSize:Re,filteredOptionsCount:oe,resetCalculatorWidth:Lt,updateTooltip:Vt,updateTagTooltip:_t,debouncedOnInputChange:Nt,onInput:tn,deletePrevTag:We,deleteTag:ut,deleteSelected:It,handleOptionSelect:Xe,scrollToOption:Bt,hasModelValue:J,shouldShowPlaceholder:nt,currentPlaceholder:Ve,showClose:te,iconComponent:ne,iconReverse:he,validateState:ce,validateIcon:ye,showNewOption:Le,updateOptions:be,collapseTagSize:Qe,setSelected:Ne,selectDisabled:ue,emptyText:se,handleCompositionStart:at,handleCompositionUpdate:et,handleCompositionEnd:St,onOptionCreate:it,onOptionDestroy:Mt,handleMenuEnter:bn,handleFocus:z,focus:gr,blur:tr,handleBlur:Q,handleClearClick:Nn,handleClickOutside:lr,handleEsc:Qr,toggleMenu:xi,selectOption:ai,getValueKey:zi,navigateOptions:$i,dropdownMenuVisible:Je,showTagList:Rr,collapseTagList:Ki,tagStyle:hn,collapseTagStyle:En,inputStyle:Hn,popperRef:sn,inputRef:m,tooltipRef:f,tagTooltipRef:A,calculatorRef:_,prefixRef:y,suffixRef:T,selectRef:c,wrapperRef:R,selectionRef:a,scrollbarRef:F,menuRef:E,tagMenuRef:P,collapseItemRef:I}};var rKe=Be({name:"ElOptions",setup(t,{slots:e}){const n=ar(Q6);let r=[];return()=>{var i,s;const l=(i=e.default)==null?void 0:i.call(e),c=[];function a(f){Jn(f)&&f.forEach(A=>{var m,_,y,T;const E=(m=(A==null?void 0:A.type)||{})==null?void 0:m.name;E==="ElOptionGroup"?a(!Hr(A.children)&&!Jn(A.children)&&Dr((_=A.children)==null?void 0:_.default)?(y=A.children)==null?void 0:y.default():A.children):E==="ElOption"?c.push((T=A.props)==null?void 0:T.value):Jn(A.children)&&a(A.children)})}return l.length&&a((s=l[0])==null?void 0:s.children),kc(c,r)||(r=c,n&&(n.states.optionValues=c)),l}}});const iKe=Ln({name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:ru,effect:{type:Rt(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Rt(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:du.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:Ja,default:o0},fitInputWidth:Boolean,suffixIcon:{type:Ja,default:Em},tagType:{...hB.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,placement:{type:Rt(String),values:yy,default:"bottom-start"},fallbackPlacements:{type:Rt(Array),default:["bottom-start","top-start","right","left"]},...F2,...Vu(["ariaLabel"])}),KK="ElSelect",aKe=Be({name:KK,componentName:KK,components:{ElInput:Pc,ElSelectMenu:eKe,ElOption:L9,ElOptions:rKe,ElTag:NC,ElScrollbar:c0,ElTooltip:Dc,ElIcon:Ar},directives:{ClickOutside:Xg},props:iKe,emits:[vi,_s,"remove-tag","clear","visible-change","focus","blur"],setup(t,{emit:e}){const n=nKe(t,e);return Ii(Q6,ua({props:t,states:n.states,optionsArray:n.optionsArray,handleOptionSelect:n.handleOptionSelect,onOptionCreate:n.onOptionCreate,onOptionDestroy:n.onOptionDestroy,selectRef:n.selectRef,setSelected:n.setSelected})),{...n}}}),sKe=["id","disabled","autocomplete","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label"],oKe=["textContent"];function lKe(t,e,n,r,i,s){const l=Kr("el-tag"),c=Kr("el-tooltip"),a=Kr("el-icon"),f=Kr("el-option"),A=Kr("el-options"),m=Kr("el-scrollbar"),_=Kr("el-select-menu"),y=L8("click-outside");return Jr((X(),ve("div",{ref:"selectRef",class:Se([t.nsSelect.b(),t.nsSelect.m(t.selectSize)]),onMouseenter:e[16]||(e[16]=T=>t.states.inputHovering=!0),onMouseleave:e[17]||(e[17]=T=>t.states.inputHovering=!1),onClick:e[18]||(e[18]=Fr((...T)=>t.toggleMenu&&t.toggleMenu(...T),["prevent","stop"]))},[ht(c,{ref:"tooltipRef",visible:t.dropdownMenuVisible,placement:t.placement,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"popper-options":t.popperOptions,"fallback-placements":t.fallbackPlacements,effect:t.effect,pure:"",trigger:"click",transition:`${t.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:t.persistent,onBeforeShow:t.handleMenuEnter,onHide:e[15]||(e[15]=T=>t.states.isBeforeHide=!1)},{default:xt(()=>{var T;return[pe("div",{ref:"wrapperRef",class:Se([t.nsSelect.e("wrapper"),t.nsSelect.is("focused",t.isFocused),t.nsSelect.is("hovering",t.states.inputHovering),t.nsSelect.is("filterable",t.filterable),t.nsSelect.is("disabled",t.selectDisabled)])},[t.$slots.prefix?(X(),ve("div",{key:0,ref:"prefixRef",class:Se(t.nsSelect.e("prefix"))},[kt(t.$slots,"prefix")],2)):bt("v-if",!0),pe("div",{ref:"selectionRef",class:Se([t.nsSelect.e("selection"),t.nsSelect.is("near",t.multiple&&!t.$slots.prefix&&!!t.states.selected.length)])},[t.multiple?kt(t.$slots,"tag",{key:0},()=>[(X(!0),ve(Vn,null,Yr(t.showTagList,E=>(X(),ve("div",{key:t.getValueKey(E),class:Se(t.nsSelect.e("selected-item"))},[ht(l,{closable:!t.selectDisabled&&!E.isDisabled,size:t.collapseTagSize,type:t.tagType,"disable-transitions":"",style:or(t.tagStyle),onClose:P=>t.deleteTag(P,E)},{default:xt(()=>[pe("span",{class:Se(t.nsSelect.e("tags-text"))},Cn(E.currentLabel),3)]),_:2},1032,["closable","size","type","style","onClose"])],2))),128)),t.collapseTags&&t.states.selected.length>t.maxCollapseTags?(X(),Ut(c,{key:0,ref:"tagTooltipRef",disabled:t.dropdownMenuVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:t.teleported},{default:xt(()=>[pe("div",{ref:"collapseItemRef",class:Se(t.nsSelect.e("selected-item"))},[ht(l,{closable:!1,size:t.collapseTagSize,type:t.tagType,"disable-transitions":"",style:or(t.collapseTagStyle)},{default:xt(()=>[pe("span",{class:Se(t.nsSelect.e("tags-text"))}," + "+Cn(t.states.selected.length-t.maxCollapseTags),3)]),_:1},8,["size","type","style"])],2)]),content:xt(()=>[pe("div",{ref:"tagMenuRef",class:Se(t.nsSelect.e("selection"))},[(X(!0),ve(Vn,null,Yr(t.collapseTagList,E=>(X(),ve("div",{key:t.getValueKey(E),class:Se(t.nsSelect.e("selected-item"))},[ht(l,{class:"in-tooltip",closable:!t.selectDisabled&&!E.isDisabled,size:t.collapseTagSize,type:t.tagType,"disable-transitions":"",onClose:P=>t.deleteTag(P,E)},{default:xt(()=>[pe("span",{class:Se(t.nsSelect.e("tags-text"))},Cn(E.currentLabel),3)]),_:2},1032,["closable","size","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):bt("v-if",!0)]):bt("v-if",!0),t.selectDisabled?bt("v-if",!0):(X(),ve("div",{key:1,class:Se([t.nsSelect.e("selected-item"),t.nsSelect.e("input-wrapper"),t.nsSelect.is("hidden",!t.filterable)])},[Jr(pe("input",{id:t.inputId,ref:"inputRef","onUpdate:modelValue":e[0]||(e[0]=E=>t.states.inputValue=E),type:"text",class:Se([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,autocomplete:t.autocomplete,style:or(t.inputStyle),role:"combobox",readonly:!t.filterable,spellcheck:"false","aria-activedescendant":((T=t.hoverOption)==null?void 0:T.id)||"","aria-controls":t.contentId,"aria-expanded":t.dropdownMenuVisible,"aria-label":t.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onFocus:e[1]||(e[1]=(...E)=>t.handleFocus&&t.handleFocus(...E)),onBlur:e[2]||(e[2]=(...E)=>t.handleBlur&&t.handleBlur(...E)),onKeydown:[e[3]||(e[3]=Qa(Fr(E=>t.navigateOptions("next"),["stop","prevent"]),["down"])),e[4]||(e[4]=Qa(Fr(E=>t.navigateOptions("prev"),["stop","prevent"]),["up"])),e[5]||(e[5]=Qa(Fr((...E)=>t.handleEsc&&t.handleEsc(...E),["stop","prevent"]),["esc"])),e[6]||(e[6]=Qa(Fr((...E)=>t.selectOption&&t.selectOption(...E),["stop","prevent"]),["enter"])),e[7]||(e[7]=Qa(Fr((...E)=>t.deletePrevTag&&t.deletePrevTag(...E),["stop"]),["delete"]))],onCompositionstart:e[8]||(e[8]=(...E)=>t.handleCompositionStart&&t.handleCompositionStart(...E)),onCompositionupdate:e[9]||(e[9]=(...E)=>t.handleCompositionUpdate&&t.handleCompositionUpdate(...E)),onCompositionend:e[10]||(e[10]=(...E)=>t.handleCompositionEnd&&t.handleCompositionEnd(...E)),onInput:e[11]||(e[11]=(...E)=>t.onInput&&t.onInput(...E)),onClick:e[12]||(e[12]=Fr((...E)=>t.toggleMenu&&t.toggleMenu(...E),["stop"]))},null,46,sKe),[[KD,t.states.inputValue]]),t.filterable?(X(),ve("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:Se(t.nsSelect.e("input-calculator")),textContent:Cn(t.states.inputValue)},null,10,oKe)):bt("v-if",!0)],2)),t.shouldShowPlaceholder?(X(),ve("div",{key:2,class:Se([t.nsSelect.e("selected-item"),t.nsSelect.e("placeholder"),t.nsSelect.is("transparent",!t.hasModelValue||t.expanded&&!t.states.inputValue)])},[pe("span",null,Cn(t.currentPlaceholder),1)],2)):bt("v-if",!0)],2),pe("div",{ref:"suffixRef",class:Se(t.nsSelect.e("suffix"))},[t.iconComponent&&!t.showClose?(X(),Ut(a,{key:0,class:Se([t.nsSelect.e("caret"),t.nsSelect.e("icon"),t.iconReverse])},{default:xt(()=>[(X(),Ut(di(t.iconComponent)))]),_:1},8,["class"])):bt("v-if",!0),t.showClose&&t.clearIcon?(X(),Ut(a,{key:1,class:Se([t.nsSelect.e("caret"),t.nsSelect.e("icon")]),onClick:t.handleClearClick},{default:xt(()=>[(X(),Ut(di(t.clearIcon)))]),_:1},8,["class","onClick"])):bt("v-if",!0),t.validateState&&t.validateIcon?(X(),Ut(a,{key:2,class:Se([t.nsInput.e("icon"),t.nsInput.e("validateIcon")])},{default:xt(()=>[(X(),Ut(di(t.validateIcon)))]),_:1},8,["class"])):bt("v-if",!0)],2)],2)]}),content:xt(()=>[ht(_,{ref:"menuRef"},{default:xt(()=>[t.$slots.header?(X(),ve("div",{key:0,class:Se(t.nsSelect.be("dropdown","header")),onClick:e[13]||(e[13]=Fr(()=>{},["stop"]))},[kt(t.$slots,"header")],2)):bt("v-if",!0),Jr(ht(m,{id:t.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":t.nsSelect.be("dropdown","wrap"),"view-class":t.nsSelect.be("dropdown","list"),class:Se([t.nsSelect.is("empty",t.filteredOptionsCount===0)]),role:"listbox","aria-label":t.ariaLabel,"aria-orientation":"vertical"},{default:xt(()=>[t.showNewOption?(X(),Ut(f,{key:0,value:t.states.inputValue,created:!0},null,8,["value"])):bt("v-if",!0),ht(A,null,{default:xt(()=>[kt(t.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[la,t.states.options.size>0&&!t.loading]]),t.$slots.loading&&t.loading?(X(),ve("div",{key:1,class:Se(t.nsSelect.be("dropdown","loading"))},[kt(t.$slots,"loading")],2)):t.loading||t.filteredOptionsCount===0?(X(),ve("div",{key:2,class:Se(t.nsSelect.be("dropdown","empty"))},[kt(t.$slots,"empty",{},()=>[pe("span",null,Cn(t.emptyText),1)])],2)):bt("v-if",!0),t.$slots.footer?(X(),ve("div",{key:3,class:Se(t.nsSelect.be("dropdown","footer")),onClick:e[14]||(e[14]=Fr(()=>{},["stop"]))},[kt(t.$slots,"footer")],2)):bt("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","onBeforeShow"])],34)),[[y,t.handleClickOutside,t.popperRef]])}var uKe=kn(aKe,[["render",lKe],["__file","select.vue"]]);const cKe=Be({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(t){const e=vn("select"),n=Te(null),r=ci(),i=Te([]);Ii(jae,ua({...zu(t)}));const s=le(()=>i.value.some(f=>f.visible===!0)),l=f=>{var A,m;return((A=f.type)==null?void 0:A.name)==="ElOption"&&!!((m=f.component)!=null&&m.proxy)},c=f=>{const A=qv(f),m=[];return A.forEach(_=>{var y,T;l(_)?m.push(_.component.proxy):(y=_.children)!=null&&y.length?m.push(...c(_.children)):(T=_.component)!=null&&T.subTree&&m.push(...c(_.component.subTree))}),m},a=()=>{i.value=c(r.subTree)};return kr(()=>{a()}),nne(n,a,{attributes:!0,subtree:!0,childList:!0}),{groupRef:n,visible:s,ns:e}}});function hKe(t,e,n,r,i,s){return Jr((X(),ve("ul",{ref:"groupRef",class:Se(t.ns.be("group","wrap"))},[pe("li",{class:Se(t.ns.be("group","title"))},Cn(t.label),3),pe("li",null,[pe("ul",{class:Se(t.ns.b("group"))},[kt(t.$slots,"default")],2)])],2)),[[la,t.visible]])}var Kae=kn(cKe,[["render",hKe],["__file","option-group.vue"]]);const oy=fi(uKe,{Option:L9,OptionGroup:Kae}),ET=ro(L9),dKe=ro(Kae),P9=()=>ar(Qae,{}),fKe=Ln({pageSize:{type:Number,required:!0},pageSizes:{type:Rt(Array),default:()=>to([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,teleported:Boolean,size:{type:String,values:Sm}}),pKe=Be({name:"ElPaginationSizes"}),AKe=Be({...pKe,props:fKe,emits:["page-size-change"],setup(t,{emit:e}){const n=t,{t:r}=ca(),i=vn("pagination"),s=P9(),l=Te(n.pageSize);un(()=>n.pageSizes,(f,A)=>{if(!kc(f,A)&&Array.isArray(f)){const m=f.includes(n.pageSize)?n.pageSize:n.pageSizes[0];e("page-size-change",m)}}),un(()=>n.pageSize,f=>{l.value=f});const c=le(()=>n.pageSizes);function a(f){var A;f!==l.value&&(l.value=f,(A=s.handleSizeChange)==null||A.call(s,Number(f)))}return(f,A)=>(X(),ve("span",{class:Se(S(i).e("sizes"))},[ht(S(oy),{"model-value":l.value,disabled:f.disabled,"popper-class":f.popperClass,size:f.size,teleported:f.teleported,"validate-event":!1,onChange:a},{default:xt(()=>[(X(!0),ve(Vn,null,Yr(S(c),m=>(X(),Ut(S(ET),{key:m,value:m,label:m+S(r)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size","teleported"])],2))}});var mKe=kn(AKe,[["__file","sizes.vue"]]);const gKe=Ln({size:{type:String,values:Sm}}),vKe=["disabled"],_Ke=Be({name:"ElPaginationJumper"}),yKe=Be({..._Ke,props:gKe,setup(t){const{t:e}=ca(),n=vn("pagination"),{pageCount:r,disabled:i,currentPage:s,changeEvent:l}=P9(),c=Te(),a=le(()=>{var m;return(m=c.value)!=null?m:s==null?void 0:s.value});function f(m){c.value=m?+m:""}function A(m){m=Math.trunc(+m),l==null||l(m),c.value=void 0}return(m,_)=>(X(),ve("span",{class:Se(S(n).e("jump")),disabled:S(i)},[pe("span",{class:Se([S(n).e("goto")])},Cn(S(e)("el.pagination.goto")),3),ht(S(Pc),{size:m.size,class:Se([S(n).e("editor"),S(n).is("in-pagination")]),min:1,max:S(r),disabled:S(i),"model-value":S(a),"validate-event":!1,label:S(e)("el.pagination.page"),type:"number","onUpdate:modelValue":f,onChange:A},null,8,["size","class","max","disabled","model-value","label"]),pe("span",{class:Se([S(n).e("classifier")])},Cn(S(e)("el.pagination.pageClassifier")),3)],10,vKe))}});var bKe=kn(yKe,[["__file","jumper.vue"]]);const wKe=Ln({total:{type:Number,default:1e3}}),xKe=["disabled"],CKe=Be({name:"ElPaginationTotal"}),EKe=Be({...CKe,props:wKe,setup(t){const{t:e}=ca(),n=vn("pagination"),{disabled:r}=P9();return(i,s)=>(X(),ve("span",{class:Se(S(n).e("total")),disabled:S(r)},Cn(S(e)("el.pagination.total",{total:i.total})),11,xKe))}});var SKe=kn(EKe,[["__file","total.vue"]]);const TKe=Ln({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),BKe=["onKeyup"],MKe=["aria-current","aria-label","tabindex"],IKe=["tabindex","aria-label"],LKe=["aria-current","aria-label","tabindex"],PKe=["tabindex","aria-label"],FKe=["aria-current","aria-label","tabindex"],kKe=Be({name:"ElPaginationPager"}),RKe=Be({...kKe,props:TKe,emits:["change"],setup(t,{emit:e}){const n=t,r=vn("pager"),i=vn("icon"),{t:s}=ca(),l=Te(!1),c=Te(!1),a=Te(!1),f=Te(!1),A=Te(!1),m=Te(!1),_=le(()=>{const N=n.pagerCount,z=(N-1)/2,Q=Number(n.currentPage),j=Number(n.pageCount);let H=!1,K=!1;j>N&&(Q>N-z&&(H=!0),Q<j-z&&(K=!0));const ie=[];if(H&&!K){const q=j-(N-2);for(let W=q;W<j;W++)ie.push(W)}else if(!H&&K)for(let q=2;q<N;q++)ie.push(q);else if(H&&K){const q=Math.floor(N/2)-1;for(let W=Q-q;W<=Q+q;W++)ie.push(W)}else for(let q=2;q<j;q++)ie.push(q);return ie}),y=le(()=>["more","btn-quickprev",i.b(),r.is("disabled",n.disabled)]),T=le(()=>["more","btn-quicknext",i.b(),r.is("disabled",n.disabled)]),E=le(()=>n.disabled?-1:0);rc(()=>{const N=(n.pagerCount-1)/2;l.value=!1,c.value=!1,n.pageCount>n.pagerCount&&(n.currentPage>n.pagerCount-N&&(l.value=!0),n.currentPage<n.pageCount-N&&(c.value=!0))});function P(N=!1){n.disabled||(N?a.value=!0:f.value=!0)}function I(N=!1){N?A.value=!0:m.value=!0}function F(N){const z=N.target;if(z.tagName.toLowerCase()==="li"&&Array.from(z.classList).includes("number")){const Q=Number(z.textContent);Q!==n.currentPage&&e("change",Q)}else z.tagName.toLowerCase()==="li"&&Array.from(z.classList).includes("more")&&R(N)}function R(N){const z=N.target;if(z.tagName.toLowerCase()==="ul"||n.disabled)return;let Q=Number(z.textContent);const j=n.pageCount,H=n.currentPage,K=n.pagerCount-2;z.className.includes("more")&&(z.className.includes("quickprev")?Q=H-K:z.className.includes("quicknext")&&(Q=H+K)),Number.isNaN(+Q)||(Q<1&&(Q=1),Q>j&&(Q=j)),Q!==H&&e("change",Q)}return(N,z)=>(X(),ve("ul",{class:Se(S(r).b()),onClick:R,onKeyup:Qa(F,["enter"])},[N.pageCount>0?(X(),ve("li",{key:0,class:Se([[S(r).is("active",N.currentPage===1),S(r).is("disabled",N.disabled)],"number"]),"aria-current":N.currentPage===1,"aria-label":S(s)("el.pagination.currentPage",{pager:1}),tabindex:S(E)}," 1 ",10,MKe)):bt("v-if",!0),l.value?(X(),ve("li",{key:1,class:Se(S(y)),tabindex:S(E),"aria-label":S(s)("el.pagination.prevPages",{pager:N.pagerCount-2}),onMouseenter:z[0]||(z[0]=Q=>P(!0)),onMouseleave:z[1]||(z[1]=Q=>a.value=!1),onFocus:z[2]||(z[2]=Q=>I(!0)),onBlur:z[3]||(z[3]=Q=>A.value=!1)},[(a.value||A.value)&&!N.disabled?(X(),Ut(S(ry),{key:0})):(X(),Ut(S(_k),{key:1}))],42,IKe)):bt("v-if",!0),(X(!0),ve(Vn,null,Yr(S(_),Q=>(X(),ve("li",{key:Q,class:Se([[S(r).is("active",N.currentPage===Q),S(r).is("disabled",N.disabled)],"number"]),"aria-current":N.currentPage===Q,"aria-label":S(s)("el.pagination.currentPage",{pager:Q}),tabindex:S(E)},Cn(Q),11,LKe))),128)),c.value?(X(),ve("li",{key:2,class:Se(S(T)),tabindex:S(E),"aria-label":S(s)("el.pagination.nextPages",{pager:N.pagerCount-2}),onMouseenter:z[4]||(z[4]=Q=>P()),onMouseleave:z[5]||(z[5]=Q=>f.value=!1),onFocus:z[6]||(z[6]=Q=>I()),onBlur:z[7]||(z[7]=Q=>m.value=!1)},[(f.value||m.value)&&!N.disabled?(X(),Ut(S(iy),{key:0})):(X(),Ut(S(_k),{key:1}))],42,PKe)):bt("v-if",!0),N.pageCount>1?(X(),ve("li",{key:3,class:Se([[S(r).is("active",N.currentPage===N.pageCount),S(r).is("disabled",N.disabled)],"number"]),"aria-current":N.currentPage===N.pageCount,"aria-label":S(s)("el.pagination.currentPage",{pager:N.pageCount}),tabindex:S(E)},Cn(N.pageCount),11,FKe)):bt("v-if",!0)],42,BKe))}});var OKe=kn(RKe,[["__file","pager.vue"]]);const Wc=t=>typeof t!="number",DKe=Ln({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:t=>Or(t)&&Math.trunc(t)===t&&t>4&&t<22&&t%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:Rt(Array),default:()=>to([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:Ja,default:()=>qg},nextText:{type:String,default:""},nextIcon:{type:Ja,default:()=>Oc},teleported:{type:Boolean,default:!0},small:Boolean,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),NKe={"update:current-page":t=>Or(t),"update:page-size":t=>Or(t),"size-change":t=>Or(t),change:(t,e)=>Or(t)&&Or(e),"current-change":t=>Or(t),"prev-click":t=>Or(t),"next-click":t=>Or(t)},WK="ElPagination";var UKe=Be({name:WK,props:DKe,emits:NKe,setup(t,{emit:e,slots:n}){const{t:r}=ca(),i=vn("pagination"),s=ci().vnode.props||{},l="onUpdate:currentPage"in s||"onUpdate:current-page"in s||"onCurrentChange"in s,c="onUpdate:pageSize"in s||"onUpdate:page-size"in s||"onSizeChange"in s,a=le(()=>{if(Wc(t.total)&&Wc(t.pageCount)||!Wc(t.currentPage)&&!l)return!1;if(t.layout.includes("sizes")){if(Wc(t.pageCount)){if(!Wc(t.total)&&!Wc(t.pageSize)&&!c)return!1}else if(!c)return!1}return!0}),f=Te(Wc(t.defaultPageSize)?10:t.defaultPageSize),A=Te(Wc(t.defaultCurrentPage)?1:t.defaultCurrentPage),m=le({get(){return Wc(t.pageSize)?f.value:t.pageSize},set(R){Wc(t.pageSize)&&(f.value=R),c&&(e("update:page-size",R),e("size-change",R))}}),_=le(()=>{let R=0;return Wc(t.pageCount)?Wc(t.total)||(R=Math.max(1,Math.ceil(t.total/m.value))):R=t.pageCount,R}),y=le({get(){return Wc(t.currentPage)?A.value:t.currentPage},set(R){let N=R;R<1?N=1:R>_.value&&(N=_.value),Wc(t.currentPage)&&(A.value=N),l&&(e("update:current-page",N),e("current-change",N))}});un(_,R=>{y.value>R&&(y.value=R)}),un([y,m],R=>{e("change",...R)},{flush:"post"});function T(R){y.value=R}function E(R){m.value=R;const N=_.value;y.value>N&&(y.value=N)}function P(){t.disabled||(y.value-=1,e("prev-click",y.value))}function I(){t.disabled||(y.value+=1,e("next-click",y.value))}function F(R,N){R&&(R.props||(R.props={}),R.props.class=[R.props.class,N].join(" "))}return Ii(Qae,{pageCount:_,disabled:le(()=>t.disabled),currentPage:y,changeEvent:T,handleSizeChange:E}),()=>{var R,N;if(!a.value)return r("el.pagination.deprecationWarning"),null;if(!t.layout||t.hideOnSinglePage&&_.value<=1)return null;const z=[],Q=[],j=wr("div",{class:i.e("rightwrapper")},Q),H={prev:wr($Ge,{disabled:t.disabled,currentPage:y.value,prevText:t.prevText,prevIcon:t.prevIcon,onClick:P}),jumper:wr(bKe,{size:t.small?"small":"default"}),pager:wr(OKe,{currentPage:y.value,pageCount:_.value,pagerCount:t.pagerCount,onChange:T,disabled:t.disabled}),next:wr(KGe,{disabled:t.disabled,currentPage:y.value,pageCount:_.value,nextText:t.nextText,nextIcon:t.nextIcon,onClick:I}),sizes:wr(mKe,{pageSize:m.value,pageSizes:t.pageSizes,popperClass:t.popperClass,disabled:t.disabled,teleported:t.teleported,size:t.small?"small":"default"}),slot:(N=(R=n==null?void 0:n.default)==null?void 0:R.call(n))!=null?N:null,total:wr(SKe,{total:Wc(t.total)?0:t.total})},K=t.layout.split(",").map(q=>q.trim());let ie=!1;return K.forEach(q=>{if(q==="->"){ie=!0;return}ie?Q.push(H[q]):z.push(H[q])}),F(z[0],i.is("first")),F(z[z.length-1],i.is("last")),ie&&Q.length>0&&(F(Q[0],i.is("first")),F(Q[Q.length-1],i.is("last")),z.push(j)),wr("div",{class:[i.b(),i.is("background",t.background),{[i.m("small")]:t.small}]},z)}}});const zKe=fi(UKe),$Ke=Ln({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:Ik,default:"primary"},cancelButtonType:{type:String,values:Ik,default:"text"},icon:{type:Ja,default:()=>are},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:du.teleported,persistent:du.persistent,width:{type:[String,Number],default:150}}),VKe={confirm:t=>t instanceof MouseEvent,cancel:t=>t instanceof MouseEvent},HKe=Be({name:"ElPopconfirm"}),QKe=Be({...HKe,props:$Ke,emits:VKe,setup(t,{emit:e}){const n=t,{t:r}=ca(),i=vn("popconfirm"),s=Te(),l=()=>{var _,y;(y=(_=s.value)==null?void 0:_.onClose)==null||y.call(_)},c=le(()=>({width:Co(n.width)})),a=_=>{e("confirm",_),l()},f=_=>{e("cancel",_),l()},A=le(()=>n.confirmButtonText||r("el.popconfirm.confirmButtonText")),m=le(()=>n.cancelButtonText||r("el.popconfirm.cancelButtonText"));return(_,y)=>(X(),Ut(S(Dc),Xr({ref_key:"tooltipRef",ref:s,trigger:"click",effect:"light"},_.$attrs,{"popper-class":`${S(i).namespace.value}-popover`,"popper-style":S(c),teleported:_.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":_.hideAfter,persistent:_.persistent}),{content:xt(()=>[pe("div",{class:Se(S(i).b())},[pe("div",{class:Se(S(i).e("main"))},[!_.hideIcon&&_.icon?(X(),Ut(S(Ar),{key:0,class:Se(S(i).e("icon")),style:or({color:_.iconColor})},{default:xt(()=>[(X(),Ut(di(_.icon)))]),_:1},8,["class","style"])):bt("v-if",!0),wi(" "+Cn(_.title),1)],2),pe("div",{class:Se(S(i).e("action"))},[ht(S(yu),{size:"small",type:_.cancelButtonType==="text"?"":_.cancelButtonType,text:_.cancelButtonType==="text",onClick:f},{default:xt(()=>[wi(Cn(S(m)),1)]),_:1},8,["type","text"]),ht(S(yu),{size:"small",type:_.confirmButtonType==="text"?"":_.confirmButtonType,text:_.confirmButtonType==="text",onClick:a},{default:xt(()=>[wi(Cn(S(A)),1)]),_:1},8,["type","text"])],2)],2)]),default:xt(()=>[_.$slots.reference?kt(_.$slots,"reference",{key:0}):bt("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var jKe=kn(QKe,[["__file","popconfirm.vue"]]);const GKe=fi(jKe),KKe=Ln({trigger:DC.trigger,placement:wS.placement,disabled:DC.disabled,visible:du.visible,transition:du.transition,popperOptions:wS.popperOptions,tabindex:wS.tabindex,content:du.content,popperStyle:du.popperStyle,popperClass:du.popperClass,enterable:{...du.enterable,default:!0},effect:{...du.effect,default:"light"},teleported:du.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),WKe={"update:visible":t=>qo(t),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},qKe="onUpdate:visible",YKe=Be({name:"ElPopover"}),XKe=Be({...YKe,props:KKe,emits:WKe,setup(t,{expose:e,emit:n}){const r=t,i=le(()=>r[qKe]),s=vn("popover"),l=Te(),c=le(()=>{var P;return(P=S(l))==null?void 0:P.popperRef}),a=le(()=>[{width:Co(r.width)},r.popperStyle]),f=le(()=>[s.b(),r.popperClass,{[s.m("plain")]:!!r.content}]),A=le(()=>r.transition===`${s.namespace.value}-fade-in-linear`),m=()=>{var P;(P=l.value)==null||P.hide()},_=()=>{n("before-enter")},y=()=>{n("before-leave")},T=()=>{n("after-enter")},E=()=>{n("update:visible",!1),n("after-leave")};return e({popperRef:c,hide:m}),(P,I)=>(X(),Ut(S(Dc),Xr({ref_key:"tooltipRef",ref:l},P.$attrs,{trigger:P.trigger,placement:P.placement,disabled:P.disabled,visible:P.visible,transition:P.transition,"popper-options":P.popperOptions,tabindex:P.tabindex,content:P.content,offset:P.offset,"show-after":P.showAfter,"hide-after":P.hideAfter,"auto-close":P.autoClose,"show-arrow":P.showArrow,"aria-label":P.title,effect:P.effect,enterable:P.enterable,"popper-class":S(f),"popper-style":S(a),teleported:P.teleported,persistent:P.persistent,"gpu-acceleration":S(A),"onUpdate:visible":S(i),onBeforeShow:_,onBeforeHide:y,onShow:T,onHide:E}),{content:xt(()=>[P.title?(X(),ve("div",{key:0,class:Se(S(s).e("title")),role:"title"},Cn(P.title),3)):bt("v-if",!0),kt(P.$slots,"default",{},()=>[wi(Cn(P.content),1)])]),default:xt(()=>[P.$slots.reference?kt(P.$slots,"reference",{key:0}):bt("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var ZKe=kn(XKe,[["__file","popover.vue"]]);const qK=(t,e)=>{const n=e.arg||e.value,r=n==null?void 0:n.popperRef;r&&(r.triggerRef=t)};var JKe={mounted(t,e){qK(t,e)},updated(t,e){qK(t,e)}};const eWe="popover",Wae=LFe(JKe,eWe),tWe=fi(ZKe,{directive:Wae}),nWe=Ln({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:t=>t>=0&&t<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:Rt(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:Rt([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:Rt(Function),default:t=>`${t}%`}}),rWe=["aria-valuenow"],iWe={viewBox:"0 0 100 100"},aWe=["d","stroke","stroke-linecap","stroke-width"],sWe=["d","stroke","opacity","stroke-linecap","stroke-width"],oWe={key:0},lWe=Be({name:"ElProgress"}),uWe=Be({...lWe,props:nWe,setup(t){const e=t,n={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},r=vn("progress"),i=le(()=>({width:`${e.percentage}%`,animationDuration:`${e.duration}s`,background:F(e.percentage)})),s=le(()=>(e.strokeWidth/e.width*100).toFixed(1)),l=le(()=>["circle","dashboard"].includes(e.type)?Number.parseInt(`${50-Number.parseFloat(s.value)/2}`,10):0),c=le(()=>{const R=l.value,N=e.type==="dashboard";return`
          M 50 50
          m 0 ${N?"":"-"}${R}
          a ${R} ${R} 0 1 1 0 ${N?"-":""}${R*2}
          a ${R} ${R} 0 1 1 0 ${N?"":"-"}${R*2}
          `}),a=le(()=>2*Math.PI*l.value),f=le(()=>e.type==="dashboard"?.75:1),A=le(()=>`${-1*a.value*(1-f.value)/2}px`),m=le(()=>({strokeDasharray:`${a.value*f.value}px, ${a.value}px`,strokeDashoffset:A.value})),_=le(()=>({strokeDasharray:`${a.value*f.value*(e.percentage/100)}px, ${a.value}px`,strokeDashoffset:A.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),y=le(()=>{let R;return e.color?R=F(e.percentage):R=n[e.status]||n.default,R}),T=le(()=>e.status==="warning"?R6:e.type==="line"?e.status==="success"?J8:o0:e.status==="success"?I2:Tf),E=le(()=>e.type==="line"?12+e.strokeWidth*.4:e.width*.111111+2),P=le(()=>e.format(e.percentage));function I(R){const N=100/R.length;return R.map((Q,j)=>Hr(Q)?{color:Q,percentage:(j+1)*N}:Q).sort((Q,j)=>Q.percentage-j.percentage)}const F=R=>{var N;const{color:z}=e;if(Dr(z))return z(R);if(Hr(z))return z;{const Q=I(z);for(const j of Q)if(j.percentage>R)return j.color;return(N=Q[Q.length-1])==null?void 0:N.color}};return(R,N)=>(X(),ve("div",{class:Se([S(r).b(),S(r).m(R.type),S(r).is(R.status),{[S(r).m("without-text")]:!R.showText,[S(r).m("text-inside")]:R.textInside}]),role:"progressbar","aria-valuenow":R.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[R.type==="line"?(X(),ve("div",{key:0,class:Se(S(r).b("bar"))},[pe("div",{class:Se(S(r).be("bar","outer")),style:or({height:`${R.strokeWidth}px`})},[pe("div",{class:Se([S(r).be("bar","inner"),{[S(r).bem("bar","inner","indeterminate")]:R.indeterminate},{[S(r).bem("bar","inner","striped")]:R.striped},{[S(r).bem("bar","inner","striped-flow")]:R.stripedFlow}]),style:or(S(i))},[(R.showText||R.$slots.default)&&R.textInside?(X(),ve("div",{key:0,class:Se(S(r).be("bar","innerText"))},[kt(R.$slots,"default",{percentage:R.percentage},()=>[pe("span",null,Cn(S(P)),1)])],2)):bt("v-if",!0)],6)],6)],2)):(X(),ve("div",{key:1,class:Se(S(r).b("circle")),style:or({height:`${R.width}px`,width:`${R.width}px`})},[(X(),ve("svg",iWe,[pe("path",{class:Se(S(r).be("circle","track")),d:S(c),stroke:`var(${S(r).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":R.strokeLinecap,"stroke-width":S(s),fill:"none",style:or(S(m))},null,14,aWe),pe("path",{class:Se(S(r).be("circle","path")),d:S(c),stroke:S(y),fill:"none",opacity:R.percentage?1:0,"stroke-linecap":R.strokeLinecap,"stroke-width":S(s),style:or(S(_))},null,14,sWe)]))],6)),(R.showText||R.$slots.default)&&!R.textInside?(X(),ve("div",{key:2,class:Se(S(r).e("text")),style:or({fontSize:`${S(E)}px`})},[kt(R.$slots,"default",{percentage:R.percentage},()=>[R.status?(X(),Ut(S(Ar),{key:1},{default:xt(()=>[(X(),Ut(di(S(T))))]),_:1})):(X(),ve("span",oWe,Cn(S(P)),1))])],6)):bt("v-if",!0)],10,rWe))}});var cWe=kn(uWe,[["__file","progress.vue"]]);const qae=fi(cWe),hWe=Ln({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:Rt([Array,Object]),default:()=>to(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:Rt([Array,Object]),default:()=>[h4,h4,h4]},voidIcon:{type:Ja,default:()=>dre},disabledVoidIcon:{type:Ja,default:()=>h4},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:Rt(Array),default:()=>to(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:ru,label:{type:String,default:void 0},clearable:{type:Boolean,default:!1},...Vu(["ariaLabel"])}),dWe={[_s]:t=>Or(t),[vi]:t=>Or(t)},fWe=["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"],pWe=["onMousemove","onClick"],AWe=Be({name:"ElRate"}),mWe=Be({...AWe,props:hWe,emits:dWe,setup(t,{expose:e,emit:n}){const r=t;function i(te,ne){const he=Ee=>Ai(Ee),ce=Object.keys(ne).map(Ee=>+Ee).filter(Ee=>{const se=ne[Ee];return(he(se)?se.excluded:!1)?te<Ee:te<=Ee}).sort((Ee,se)=>Ee-se),ye=ne[ce[0]];return he(ye)&&ye.value||ye}const s=ar(by,void 0),l=ar(vm,void 0),c=hl(),a=vn("rate"),{inputId:f,isLabeledByFormItem:A}=rA(r,{formItemContext:l}),m=Te(r.modelValue),_=Te(-1),y=Te(!0),T=le(()=>[a.b(),a.m(c.value)]),E=le(()=>r.disabled||(s==null?void 0:s.disabled)),P=le(()=>a.cssVarBlock({"void-color":r.voidColor,"disabled-void-color":r.disabledVoidColor,"fill-color":N.value})),I=le(()=>{let te="";return r.showScore?te=r.scoreTemplate.replace(/\{\s*value\s*\}/,E.value?`${r.modelValue}`:`${m.value}`):r.showText&&(te=r.texts[Math.ceil(m.value)-1]),te}),F=le(()=>r.modelValue*100-Math.floor(r.modelValue)*100),R=le(()=>Jn(r.colors)?{[r.lowThreshold]:r.colors[0],[r.highThreshold]:{value:r.colors[1],excluded:!0},[r.max]:r.colors[2]}:r.colors),N=le(()=>{const te=i(m.value,R.value);return Ai(te)?"":te}),z=le(()=>{let te="";return E.value?te=`${F.value}%`:r.allowHalf&&(te="50%"),{color:N.value,width:te}}),Q=le(()=>{let te=Jn(r.icons)?[...r.icons]:{...r.icons};return te=bw(te),Jn(te)?{[r.lowThreshold]:te[0],[r.highThreshold]:{value:te[1],excluded:!0},[r.max]:te[2]}:te}),j=le(()=>i(r.modelValue,Q.value)),H=le(()=>E.value?Hr(r.disabledVoidIcon)?r.disabledVoidIcon:bw(r.disabledVoidIcon):Hr(r.voidIcon)?r.voidIcon:bw(r.voidIcon)),K=le(()=>i(m.value,Q.value));function ie(te){const ne=E.value&&F.value>0&&te-1<r.modelValue&&te>r.modelValue,he=r.allowHalf&&y.value&&te-.5<=m.value&&te>m.value;return ne||he}function q(te){r.clearable&&te===r.modelValue&&(te=0),n(vi,te),r.modelValue!==te&&n("change",te)}function W(te){E.value||(r.allowHalf&&y.value?q(m.value):q(te))}function ee(te){if(E.value)return;let ne=m.value;const he=te.code;return he===Tr.up||he===Tr.right?(r.allowHalf?ne+=.5:ne+=1,te.stopPropagation(),te.preventDefault()):(he===Tr.left||he===Tr.down)&&(r.allowHalf?ne-=.5:ne-=1,te.stopPropagation(),te.preventDefault()),ne=ne<0?0:ne,ne=ne>r.max?r.max:ne,n(vi,ne),n("change",ne),ne}function ue(te,ne){if(!E.value){if(r.allowHalf&&ne){let he=ne.target;xf(he,a.e("item"))&&(he=he.querySelector(`.${a.e("icon")}`)),(he.clientWidth===0||xf(he,a.e("decimal")))&&(he=he.parentNode),y.value=ne.offsetX*2<=he.clientWidth,m.value=y.value?te-.5:te}else m.value=te;_.value=te}}function J(){E.value||(r.allowHalf&&(y.value=r.modelValue!==Math.floor(r.modelValue)),m.value=r.modelValue,_.value=-1)}return un(()=>r.modelValue,te=>{m.value=te,y.value=r.modelValue!==Math.floor(r.modelValue)}),r.modelValue||n(vi,0),gu({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-rate",ref:"https://element-plus.org/en-US/component/rate.html"},le(()=>!!r.label)),e({setCurrentValue:ue,resetCurrentValue:J}),(te,ne)=>{var he;return X(),ve("div",{id:S(f),class:Se([S(T),S(a).is("disabled",S(E))]),role:"slider","aria-label":S(A)?void 0:te.label||te.ariaLabel||"rating","aria-labelledby":S(A)?(he=S(l))==null?void 0:he.labelId:void 0,"aria-valuenow":m.value,"aria-valuetext":S(I)||void 0,"aria-valuemin":"0","aria-valuemax":te.max,tabindex:"0",style:or(S(P)),onKeydown:ee},[(X(!0),ve(Vn,null,Yr(te.max,(ce,ye)=>(X(),ve("span",{key:ye,class:Se(S(a).e("item")),onMousemove:Ee=>ue(ce,Ee),onMouseleave:J,onClick:Ee=>W(ce)},[ht(S(Ar),{class:Se([S(a).e("icon"),{hover:_.value===ce},S(a).is("active",ce<=m.value)])},{default:xt(()=>[ie(ce)?bt("v-if",!0):(X(),ve(Vn,{key:0},[Jr((X(),Ut(di(S(K)),null,null,512)),[[la,ce<=m.value]]),Jr((X(),Ut(di(S(H)),null,null,512)),[[la,!(ce<=m.value)]])],64)),ie(ce)?(X(),ve(Vn,{key:1},[(X(),Ut(di(S(H)),{class:Se([S(a).em("decimal","box")])},null,8,["class"])),ht(S(Ar),{style:or(S(z)),class:Se([S(a).e("icon"),S(a).e("decimal")])},{default:xt(()=>[(X(),Ut(di(S(j))))]),_:1},8,["style","class"])],64)):bt("v-if",!0)]),_:2},1032,["class"])],42,pWe))),128)),te.showText||te.showScore?(X(),ve("span",{key:0,class:Se(S(a).e("text")),style:or({color:te.textColor})},Cn(S(I)),7)):bt("v-if",!0)],46,fWe)}}});var gWe=kn(mWe,[["__file","rate.vue"]]);const vWe=fi(gWe),iw={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},YK={[iw.success]:Xne,[iw.warning]:R6,[iw.error]:eB,[iw.info]:tB},_We=Ln({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),yWe=Be({name:"ElResult"}),bWe=Be({...yWe,props:_We,setup(t){const e=t,n=vn("result"),r=le(()=>{const i=e.icon,s=i&&iw[i]?iw[i]:"icon-info",l=YK[s]||YK["icon-info"];return{class:s,component:l}});return(i,s)=>(X(),ve("div",{class:Se(S(n).b())},[pe("div",{class:Se(S(n).e("icon"))},[kt(i.$slots,"icon",{},()=>[S(r).component?(X(),Ut(di(S(r).component),{key:0,class:Se(S(r).class)},null,8,["class"])):bt("v-if",!0)])],2),i.title||i.$slots.title?(X(),ve("div",{key:0,class:Se(S(n).e("title"))},[kt(i.$slots,"title",{},()=>[pe("p",null,Cn(i.title),1)])],2)):bt("v-if",!0),i.subTitle||i.$slots["sub-title"]?(X(),ve("div",{key:1,class:Se(S(n).e("subtitle"))},[kt(i.$slots,"sub-title",{},()=>[pe("p",null,Cn(i.subTitle),1)])],2)):bt("v-if",!0),i.$slots.extra?(X(),ve("div",{key:2,class:Se(S(n).e("extra"))},[kt(i.$slots,"extra")],2)):bt("v-if",!0)],2))}});var wWe=kn(bWe,[["__file","result.vue"]]);const xWe=fi(wWe);var XK=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function CWe(t,e){return!!(t===e||XK(t)&&XK(e))}function EWe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!CWe(t[n],e[n]))return!1;return!0}function SWe(t,e){e===void 0&&(e=EWe);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var l=t.apply(this,i);return n={lastResult:l,lastArgs:i,lastThis:this},l}return r.clear=function(){n=null},r}const Yae=()=>{const e=ci().proxy.$props;return le(()=>{const n=(r,i,s)=>({});return e.perfMode?W8(n):SWe(n)})},Xk=50,ST="itemRendered",TT="scroll",aw="forward",BT="backward",gf="auto",pB="smart",zC="start",JA="center",$C="end",l2="horizontal",F9="vertical",TWe="ltr",Tw="rtl",VC="negative",k9="positive-ascending",R9="positive-descending",BWe={[l2]:"left",[F9]:"top"},MWe=20,IWe={[l2]:"deltaX",[F9]:"deltaY"},LWe=({atEndEdge:t,atStartEdge:e,layout:n},r)=>{let i,s=0;const l=a=>a<0&&e.value||a>0&&t.value;return{hasReachedEdge:l,onWheel:a=>{ny(i);const f=a[IWe[n.value]];l(s)&&l(s+f)||(s+=f,ine()||a.preventDefault(),i=Yv(()=>{r(s),s=0}))}}},Zk=tA({type:Rt([Number,Function]),required:!0}),Jk=tA({type:Number}),eR=tA({type:Number,default:2}),PWe=tA({type:String,values:["ltr","rtl"],default:"ltr"}),tR=tA({type:Number,default:0}),MT=tA({type:Number,required:!0}),Xae=tA({type:String,values:["horizontal","vertical"],default:F9}),Zae=Ln({className:{type:String,default:""},containerElement:{type:Rt([String,Object]),default:"div"},data:{type:Rt(Array),default:()=>to([])},direction:PWe,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:Rt([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),Jae=Ln({cache:eR,estimatedItemSize:Jk,layout:Xae,initScrollOffset:tR,total:MT,itemSize:Zk,...Zae}),nR={type:Number,default:6},ese={type:Number,default:0},tse={type:Number,default:2},V_=Ln({columnCache:eR,columnWidth:Zk,estimatedColumnWidth:Jk,estimatedRowHeight:Jk,initScrollLeft:tR,initScrollTop:tR,itemKey:{type:Rt(Function),default:({columnIndex:t,rowIndex:e})=>`${e}:${t}`},rowCache:eR,rowHeight:Zk,totalColumn:MT,totalRow:MT,hScrollbarSize:nR,vScrollbarSize:nR,scrollbarStartGap:ese,scrollbarEndGap:tse,role:String,...Zae}),nse=Ln({alwaysOn:Boolean,class:String,layout:Xae,total:MT,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:nR,startGap:ese,endGap:tse,visible:Boolean}),T_=(t,e)=>t<e?aw:BT,HC=t=>t===TWe||t===Tw||t===l2,ZK=t=>t===Tw;let vb=null;function IT(t=!1){if(vb===null||t){const e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";const r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",e.appendChild(r),document.body.appendChild(e),e.scrollLeft>0?vb=R9:(e.scrollLeft=1,e.scrollLeft===0?vb=VC:vb=k9),document.body.removeChild(e),vb}return vb}function FWe({move:t,size:e,bar:n},r){const i={},s=`translate${n.axis}(${t}px)`;return i[n.size]=e,i.transform=s,i.msTransform=s,i.webkitTransform=s,r==="horizontal"?i.height="100%":i.width="100%",i}const rR=Be({name:"ElVirtualScrollBar",props:nse,emits:["scroll","start-move","stop-move"],setup(t,{emit:e}){const n=le(()=>t.startGap+t.endGap),r=vn("virtual-scrollbar"),i=vn("scrollbar"),s=Te(),l=Te();let c=null,a=null;const f=ua({isDragging:!1,traveled:0}),A=le(()=>tie[t.layout]),m=le(()=>t.clientSize-S(n)),_=le(()=>({position:"absolute",width:`${l2===t.layout?m.value:t.scrollbarSize}px`,height:`${l2===t.layout?t.scrollbarSize:m.value}px`,[BWe[t.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),y=le(()=>{const Q=t.ratio,j=t.clientSize;if(Q>=100)return Number.POSITIVE_INFINITY;if(Q>=50)return Q*j/100;const H=j/3;return Math.floor(Math.min(Math.max(Q*j,MWe),H))}),T=le(()=>{if(!Number.isFinite(y.value))return{display:"none"};const Q=`${y.value}px`;return FWe({bar:A.value,size:Q,move:f.traveled},t.layout)}),E=le(()=>Math.floor(t.clientSize-y.value-S(n))),P=()=>{window.addEventListener("mousemove",N),window.addEventListener("mouseup",R);const Q=S(l);Q&&(a=document.onselectstart,document.onselectstart=()=>!1,Q.addEventListener("touchmove",N),Q.addEventListener("touchend",R))},I=()=>{window.removeEventListener("mousemove",N),window.removeEventListener("mouseup",R),document.onselectstart=a,a=null;const Q=S(l);Q&&(Q.removeEventListener("touchmove",N),Q.removeEventListener("touchend",R))},F=Q=>{Q.stopImmediatePropagation(),!(Q.ctrlKey||[1,2].includes(Q.button))&&(f.isDragging=!0,f[A.value.axis]=Q.currentTarget[A.value.offset]-(Q[A.value.client]-Q.currentTarget.getBoundingClientRect()[A.value.direction]),e("start-move"),P())},R=()=>{f.isDragging=!1,f[A.value.axis]=0,e("stop-move"),I()},N=Q=>{const{isDragging:j}=f;if(!j||!l.value||!s.value)return;const H=f[A.value.axis];if(!H)return;ny(c);const K=(s.value.getBoundingClientRect()[A.value.direction]-Q[A.value.client])*-1,ie=l.value[A.value.offset]-H,q=K-ie;c=Yv(()=>{f.traveled=Math.max(t.startGap,Math.min(q,E.value)),e("scroll",q,E.value)})},z=Q=>{const j=Math.abs(Q.target.getBoundingClientRect()[A.value.direction]-Q[A.value.client]),H=l.value[A.value.offset]/2,K=j-H;f.traveled=Math.max(0,Math.min(K,E.value)),e("scroll",K,E.value)};return un(()=>t.scrollFrom,Q=>{f.isDragging||(f.traveled=Math.ceil(Q*E.value))}),ds(()=>{I()}),()=>wr("div",{role:"presentation",ref:s,class:[r.b(),t.class,(t.alwaysOn||f.isDragging)&&"always-on"],style:_.value,onMousedown:Fr(z,["stop","prevent"]),onTouchstartPrevent:F},wr("div",{ref:l,class:i.e("thumb"),style:T.value,onMousedown:F},[]))}}),rse=({name:t,getOffset:e,getItemSize:n,getItemOffset:r,getEstimatedTotalSize:i,getStartIndexForOffset:s,getStopIndexForStartIndex:l,initCache:c,clearCache:a,validateProps:f})=>Be({name:t??"ElVirtualList",props:Jae,emits:[ST,TT],setup(A,{emit:m,expose:_}){f(A);const y=ci(),T=vn("vl"),E=Te(c(A,y)),P=Yae(),I=Te(),F=Te(),R=Te(),N=Te({isScrolling:!1,scrollDir:"forward",scrollOffset:Or(A.initScrollOffset)?A.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:A.scrollbarAlwaysOn}),z=le(()=>{const{total:oe,cache:_e}=A,{isScrolling:Ue,scrollDir:Le,scrollOffset:be}=S(N);if(oe===0)return[0,0,0,0];const Re=s(A,be,S(E)),Qe=l(A,Re,be,S(E)),Je=!Ue||Le===BT?Math.max(1,_e):1,nt=!Ue||Le===aw?Math.max(1,_e):1;return[Math.max(0,Re-Je),Math.max(0,Math.min(oe-1,Qe+nt)),Re,Qe]}),Q=le(()=>i(A,S(E))),j=le(()=>HC(A.layout)),H=le(()=>[{position:"relative",[`overflow-${j.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:A.direction,height:Or(A.height)?`${A.height}px`:A.height,width:Or(A.width)?`${A.width}px`:A.width},A.style]),K=le(()=>{const oe=S(Q),_e=S(j);return{height:_e?"100%":`${oe}px`,pointerEvents:S(N).isScrolling?"none":void 0,width:_e?`${oe}px`:"100%"}}),ie=le(()=>j.value?A.width:A.height),{onWheel:q}=LWe({atStartEdge:le(()=>N.value.scrollOffset<=0),atEndEdge:le(()=>N.value.scrollOffset>=Q.value),layout:le(()=>A.layout)},oe=>{var _e,Ue;(Ue=(_e=R.value).onMouseUp)==null||Ue.call(_e),ne(Math.min(N.value.scrollOffset+oe,Q.value-ie.value))}),W=()=>{const{total:oe}=A;if(oe>0){const[be,Re,Qe,Je]=S(z);m(ST,be,Re,Qe,Je)}const{scrollDir:_e,scrollOffset:Ue,updateRequested:Le}=S(N);m(TT,_e,Ue,Le)},ee=oe=>{const{clientHeight:_e,scrollHeight:Ue,scrollTop:Le}=oe.currentTarget,be=S(N);if(be.scrollOffset===Le)return;const Re=Math.max(0,Math.min(Le,Ue-_e));N.value={...be,isScrolling:!0,scrollDir:T_(be.scrollOffset,Re),scrollOffset:Re,updateRequested:!1},dr(ye)},ue=oe=>{const{clientWidth:_e,scrollLeft:Ue,scrollWidth:Le}=oe.currentTarget,be=S(N);if(be.scrollOffset===Ue)return;const{direction:Re}=A;let Qe=Ue;if(Re===Tw)switch(IT()){case VC:{Qe=-Ue;break}case R9:{Qe=Le-_e-Ue;break}}Qe=Math.max(0,Math.min(Qe,Le-_e)),N.value={...be,isScrolling:!0,scrollDir:T_(be.scrollOffset,Qe),scrollOffset:Qe,updateRequested:!1},dr(ye)},J=oe=>{S(j)?ue(oe):ee(oe),W()},te=(oe,_e)=>{const Ue=(Q.value-ie.value)/_e*oe;ne(Math.min(Q.value-ie.value,Ue))},ne=oe=>{oe=Math.max(oe,0),oe!==S(N).scrollOffset&&(N.value={...S(N),scrollOffset:oe,scrollDir:T_(S(N).scrollOffset,oe),updateRequested:!0},dr(ye))},he=(oe,_e=gf)=>{const{scrollOffset:Ue}=S(N);oe=Math.max(0,Math.min(oe,A.total-1)),ne(e(A,oe,_e,Ue,S(E)))},ce=oe=>{const{direction:_e,itemSize:Ue,layout:Le}=A,be=P.value(a&&Ue,a&&Le,a&&_e);let Re;if(ra(be,String(oe)))Re=be[oe];else{const Qe=r(A,oe,S(E)),Je=n(A,oe,S(E)),nt=S(j),Ve=_e===Tw,Pe=nt?Qe:0;be[oe]=Re={position:"absolute",left:Ve?void 0:`${Pe}px`,right:Ve?`${Pe}px`:void 0,top:nt?0:`${Qe}px`,height:nt?"100%":`${Je}px`,width:nt?`${Je}px`:"100%"}}return Re},ye=()=>{N.value.isScrolling=!1,dr(()=>{P.value(-1,null,null)})},Ee=()=>{const oe=I.value;oe&&(oe.scrollTop=0)};kr(()=>{if(!ta)return;const{initScrollOffset:oe}=A,_e=S(I);Or(oe)&&_e&&(S(j)?_e.scrollLeft=oe:_e.scrollTop=oe),W()}),i0(()=>{const{direction:oe,layout:_e}=A,{scrollOffset:Ue,updateRequested:Le}=S(N),be=S(I);if(Le&&be)if(_e===l2)if(oe===Tw)switch(IT()){case VC:{be.scrollLeft=-Ue;break}case k9:{be.scrollLeft=Ue;break}default:{const{clientWidth:Re,scrollWidth:Qe}=be;be.scrollLeft=Qe-Re-Ue;break}}else be.scrollLeft=Ue;else be.scrollTop=Ue});const se={ns:T,clientSize:ie,estimatedTotalSize:Q,windowStyle:H,windowRef:I,innerRef:F,innerStyle:K,itemsToRender:z,scrollbarRef:R,states:N,getItemStyle:ce,onScroll:J,onScrollbarScroll:te,onWheel:q,scrollTo:ne,scrollToItem:he,resetScrollTop:Ee};return _({windowRef:I,innerRef:F,getItemStyleCache:P,scrollTo:ne,scrollToItem:he,resetScrollTop:Ee,states:N}),se},render(A){var m;const{$slots:_,className:y,clientSize:T,containerElement:E,data:P,getItemStyle:I,innerElement:F,itemsToRender:R,innerStyle:N,layout:z,total:Q,onScroll:j,onScrollbarScroll:H,onWheel:K,states:ie,useIsScrolling:q,windowStyle:W,ns:ee}=A,[ue,J]=R,te=di(E),ne=di(F),he=[];if(Q>0)for(let se=ue;se<=J;se++)he.push((m=_.default)==null?void 0:m.call(_,{data:P,key:se,index:se,isScrolling:q?ie.isScrolling:void 0,style:I(se)}));const ce=[wr(ne,{style:N,ref:"innerRef"},Hr(ne)?he:{default:()=>he})],ye=wr(rR,{ref:"scrollbarRef",clientSize:T,layout:z,onScroll:H,ratio:T*100/this.estimatedTotalSize,scrollFrom:ie.scrollOffset/(this.estimatedTotalSize-T),total:Q}),Ee=wr(te,{class:[ee.e("window"),y],style:W,onScroll:j,onWheel:K,ref:"windowRef",key:0},Hr(te)?[ce]:{default:()=>[ce]});return wr("div",{key:0,class:[ee.e("wrapper"),ie.scrollbarAlwaysOn?"always-on":""]},[Ee,ye])}}),ise=rse({name:"ElFixedSizeList",getItemOffset:({itemSize:t},e)=>e*t,getItemSize:({itemSize:t})=>t,getEstimatedTotalSize:({total:t,itemSize:e})=>e*t,getOffset:({height:t,total:e,itemSize:n,layout:r,width:i},s,l,c)=>{const a=HC(r)?i:t,f=Math.max(0,e*n-a),A=Math.min(f,s*n),m=Math.max(0,(s+1)*n-a);switch(l===pB&&(c>=m-a&&c<=A+a?l=gf:l=JA),l){case zC:return A;case $C:return m;case JA:{const _=Math.round(m+(A-m)/2);return _<Math.ceil(a/2)?0:_>f+Math.floor(a/2)?f:_}case gf:default:return c>=m&&c<=A?c:c<m?m:A}},getStartIndexForOffset:({total:t,itemSize:e},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getStopIndexForStartIndex:({height:t,total:e,itemSize:n,layout:r,width:i},s,l)=>{const c=s*n,a=HC(r)?i:t,f=Math.ceil((a+l-c)/n);return Math.max(0,Math.min(e-1,s+f-1))},initCache(){},clearCache:!0,validateProps(){}}),sw=(t,e,n)=>{const{itemSize:r}=t,{items:i,lastVisitedIndex:s}=n;if(e>s){let l=0;if(s>=0){const c=i[s];l=c.offset+c.size}for(let c=s+1;c<=e;c++){const a=r(c);i[c]={offset:l,size:a},l+=a}n.lastVisitedIndex=e}return i[e]},kWe=(t,e,n)=>{const{items:r,lastVisitedIndex:i}=e;return(i>0?r[i].offset:0)>=n?ase(t,e,0,i,n):RWe(t,e,Math.max(0,i),n)},ase=(t,e,n,r,i)=>{for(;n<=r;){const s=n+Math.floor((r-n)/2),l=sw(t,s,e).offset;if(l===i)return s;l<i?n=s+1:l>i&&(r=s-1)}return Math.max(0,n-1)},RWe=(t,e,n,r)=>{const{total:i}=t;let s=1;for(;n<i&&sw(t,n,e).offset<r;)n+=s,s*=2;return ase(t,e,Math.floor(n/2),Math.min(n,i-1),r)},JK=({total:t},{items:e,estimatedItemSize:n,lastVisitedIndex:r})=>{let i=0;if(r>=t&&(r=t-1),r>=0){const c=e[r];i=c.offset+c.size}const l=(t-r-1)*n;return i+l},OWe=rse({name:"ElDynamicSizeList",getItemOffset:(t,e,n)=>sw(t,e,n).offset,getItemSize:(t,e,{items:n})=>n[e].size,getEstimatedTotalSize:JK,getOffset:(t,e,n,r,i)=>{const{height:s,layout:l,width:c}=t,a=HC(l)?c:s,f=sw(t,e,i),A=JK(t,i),m=Math.max(0,Math.min(A-a,f.offset)),_=Math.max(0,f.offset-a+f.size);switch(n===pB&&(r>=_-a&&r<=m+a?n=gf:n=JA),n){case zC:return m;case $C:return _;case JA:return Math.round(_+(m-_)/2);case gf:default:return r>=_&&r<=m?r:r<_?_:m}},getStartIndexForOffset:(t,e,n)=>kWe(t,n,e),getStopIndexForStartIndex:(t,e,n,r)=>{const{height:i,total:s,layout:l,width:c}=t,a=HC(l)?c:i,f=sw(t,e,r),A=n+a;let m=f.offset+f.size,_=e;for(;_<s-1&&m<A;)_++,m+=sw(t,_,r).size;return _},initCache({estimatedItemSize:t=Xk},e){const n={items:{},estimatedItemSize:t,lastVisitedIndex:-1};return n.clearCacheAfterIndex=(r,i=!0)=>{var s,l;n.lastVisitedIndex=Math.min(n.lastVisitedIndex,r-1),(s=e.exposed)==null||s.getItemStyleCache(-1),i&&((l=e.proxy)==null||l.$forceUpdate())},n},clearCache:!1,validateProps:({itemSize:t})=>{}}),DWe=({atXEndEdge:t,atXStartEdge:e,atYEndEdge:n,atYStartEdge:r},i)=>{let s=null,l=0,c=0;const a=(A,m)=>{const _=A<=0&&e.value||A>=0&&t.value,y=m<=0&&r.value||m>=0&&n.value;return _&&y};return{hasReachedEdge:a,onWheel:A=>{ny(s);let m=A.deltaX,_=A.deltaY;Math.abs(m)>Math.abs(_)?_=0:m=0,A.shiftKey&&_!==0&&(m=_,_=0),!(a(l,c)&&a(l+m,c+_))&&(l+=m,c+=_,A.preventDefault(),s=Yv(()=>{i(l,c),l=0,c=0}))}}},sse=({name:t,clearCache:e,getColumnPosition:n,getColumnStartIndexForOffset:r,getColumnStopIndexForStartIndex:i,getEstimatedTotalHeight:s,getEstimatedTotalWidth:l,getColumnOffset:c,getRowOffset:a,getRowPosition:f,getRowStartIndexForOffset:A,getRowStopIndexForStartIndex:m,initCache:_,injectToInstance:y,validateProps:T})=>Be({name:t??"ElVirtualList",props:V_,emits:[ST,TT],setup(E,{emit:P,expose:I,slots:F}){const R=vn("vl");T(E);const N=ci(),z=Te(_(E,N));y==null||y(N,z);const Q=Te(),j=Te(),H=Te(),K=Te(null),ie=Te({isScrolling:!1,scrollLeft:Or(E.initScrollLeft)?E.initScrollLeft:0,scrollTop:Or(E.initScrollTop)?E.initScrollTop:0,updateRequested:!1,xAxisScrollDir:aw,yAxisScrollDir:aw}),q=Yae(),W=le(()=>Number.parseInt(`${E.height}`,10)),ee=le(()=>Number.parseInt(`${E.width}`,10)),ue=le(()=>{const{totalColumn:Ye,totalRow:vt,columnCache:Lt}=E,{isScrolling:Et,xAxisScrollDir:Vt,scrollLeft:_t}=S(ie);if(Ye===0||vt===0)return[0,0,0,0];const qt=r(E,_t,S(z)),tn=i(E,qt,_t,S(z)),Nt=!Et||Vt===BT?Math.max(1,Lt):1,wt=!Et||Vt===aw?Math.max(1,Lt):1;return[Math.max(0,qt-Nt),Math.max(0,Math.min(Ye-1,tn+wt)),qt,tn]}),J=le(()=>{const{totalColumn:Ye,totalRow:vt,rowCache:Lt}=E,{isScrolling:Et,yAxisScrollDir:Vt,scrollTop:_t}=S(ie);if(Ye===0||vt===0)return[0,0,0,0];const qt=A(E,_t,S(z)),tn=m(E,qt,_t,S(z)),Nt=!Et||Vt===BT?Math.max(1,Lt):1,wt=!Et||Vt===aw?Math.max(1,Lt):1;return[Math.max(0,qt-Nt),Math.max(0,Math.min(vt-1,tn+wt)),qt,tn]}),te=le(()=>s(E,S(z))),ne=le(()=>l(E,S(z))),he=le(()=>{var Ye;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:E.direction,height:Or(E.height)?`${E.height}px`:E.height,width:Or(E.width)?`${E.width}px`:E.width},(Ye=E.style)!=null?Ye:{}]}),ce=le(()=>{const Ye=`${S(ne)}px`;return{height:`${S(te)}px`,pointerEvents:S(ie).isScrolling?"none":void 0,width:Ye}}),ye=()=>{const{totalColumn:Ye,totalRow:vt}=E;if(Ye>0&&vt>0){const[tn,Nt,wt,De]=S(ue),[We,ut,It,Xe]=S(J);P(ST,{columnCacheStart:tn,columnCacheEnd:Nt,rowCacheStart:We,rowCacheEnd:ut,columnVisibleStart:wt,columnVisibleEnd:De,rowVisibleStart:It,rowVisibleEnd:Xe})}const{scrollLeft:Lt,scrollTop:Et,updateRequested:Vt,xAxisScrollDir:_t,yAxisScrollDir:qt}=S(ie);P(TT,{xAxisScrollDir:_t,scrollLeft:Lt,yAxisScrollDir:qt,scrollTop:Et,updateRequested:Vt})},Ee=Ye=>{const{clientHeight:vt,clientWidth:Lt,scrollHeight:Et,scrollLeft:Vt,scrollTop:_t,scrollWidth:qt}=Ye.currentTarget,tn=S(ie);if(tn.scrollTop===_t&&tn.scrollLeft===Vt)return;let Nt=Vt;if(ZK(E.direction))switch(IT()){case VC:Nt=-Vt;break;case R9:Nt=qt-Lt-Vt;break}ie.value={...tn,isScrolling:!0,scrollLeft:Nt,scrollTop:Math.max(0,Math.min(_t,Et-vt)),updateRequested:!0,xAxisScrollDir:T_(tn.scrollLeft,Nt),yAxisScrollDir:T_(tn.scrollTop,_t)},dr(()=>Re()),Qe(),ye()},se=(Ye,vt)=>{const Lt=S(W),Et=(te.value-Lt)/vt*Ye;Ue({scrollTop:Math.min(te.value-Lt,Et)})},oe=(Ye,vt)=>{const Lt=S(ee),Et=(ne.value-Lt)/vt*Ye;Ue({scrollLeft:Math.min(ne.value-Lt,Et)})},{onWheel:_e}=DWe({atXStartEdge:le(()=>ie.value.scrollLeft<=0),atXEndEdge:le(()=>ie.value.scrollLeft>=ne.value-S(ee)),atYStartEdge:le(()=>ie.value.scrollTop<=0),atYEndEdge:le(()=>ie.value.scrollTop>=te.value-S(W))},(Ye,vt)=>{var Lt,Et,Vt,_t;(Et=(Lt=j.value)==null?void 0:Lt.onMouseUp)==null||Et.call(Lt),(_t=(Vt=H.value)==null?void 0:Vt.onMouseUp)==null||_t.call(Vt);const qt=S(ee),tn=S(W);Ue({scrollLeft:Math.min(ie.value.scrollLeft+Ye,ne.value-qt),scrollTop:Math.min(ie.value.scrollTop+vt,te.value-tn)})}),Ue=({scrollLeft:Ye=ie.value.scrollLeft,scrollTop:vt=ie.value.scrollTop})=>{Ye=Math.max(Ye,0),vt=Math.max(vt,0);const Lt=S(ie);vt===Lt.scrollTop&&Ye===Lt.scrollLeft||(ie.value={...Lt,xAxisScrollDir:T_(Lt.scrollLeft,Ye),yAxisScrollDir:T_(Lt.scrollTop,vt),scrollLeft:Ye,scrollTop:vt,updateRequested:!0},dr(()=>Re()),Qe(),ye())},Le=(Ye=0,vt=0,Lt=gf)=>{const Et=S(ie);vt=Math.max(0,Math.min(vt,E.totalColumn-1)),Ye=Math.max(0,Math.min(Ye,E.totalRow-1));const Vt=Gne(R.namespace.value),_t=S(z),qt=s(E,_t),tn=l(E,_t);Ue({scrollLeft:c(E,vt,Lt,Et.scrollLeft,_t,tn>E.width?Vt:0),scrollTop:a(E,Ye,Lt,Et.scrollTop,_t,qt>E.height?Vt:0)})},be=(Ye,vt)=>{const{columnWidth:Lt,direction:Et,rowHeight:Vt}=E,_t=q.value(e&&Lt,e&&Vt,e&&Et),qt=`${Ye},${vt}`;if(ra(_t,qt))return _t[qt];{const[,tn]=n(E,vt,S(z)),Nt=S(z),wt=ZK(Et),[De,We]=f(E,Ye,Nt),[ut]=n(E,vt,Nt);return _t[qt]={position:"absolute",left:wt?void 0:`${tn}px`,right:wt?`${tn}px`:void 0,top:`${We}px`,height:`${De}px`,width:`${ut}px`},_t[qt]}},Re=()=>{ie.value.isScrolling=!1,dr(()=>{q.value(-1,null,null)})};kr(()=>{if(!ta)return;const{initScrollLeft:Ye,initScrollTop:vt}=E,Lt=S(Q);Lt&&(Or(Ye)&&(Lt.scrollLeft=Ye),Or(vt)&&(Lt.scrollTop=vt)),ye()});const Qe=()=>{const{direction:Ye}=E,{scrollLeft:vt,scrollTop:Lt,updateRequested:Et}=S(ie),Vt=S(Q);if(Et&&Vt){if(Ye===Tw)switch(IT()){case VC:{Vt.scrollLeft=-vt;break}case k9:{Vt.scrollLeft=vt;break}default:{const{clientWidth:_t,scrollWidth:qt}=Vt;Vt.scrollLeft=qt-_t-vt;break}}else Vt.scrollLeft=Math.max(0,vt);Vt.scrollTop=Math.max(0,Lt)}},{resetAfterColumnIndex:Je,resetAfterRowIndex:nt,resetAfter:Ve}=N.proxy;I({windowRef:Q,innerRef:K,getItemStyleCache:q,scrollTo:Ue,scrollToItem:Le,states:ie,resetAfterColumnIndex:Je,resetAfterRowIndex:nt,resetAfter:Ve});const Pe=()=>{const{scrollbarAlwaysOn:Ye,scrollbarStartGap:vt,scrollbarEndGap:Lt,totalColumn:Et,totalRow:Vt}=E,_t=S(ee),qt=S(W),tn=S(ne),Nt=S(te),{scrollLeft:wt,scrollTop:De}=S(ie),We=wr(rR,{ref:j,alwaysOn:Ye,startGap:vt,endGap:Lt,class:R.e("horizontal"),clientSize:_t,layout:"horizontal",onScroll:oe,ratio:_t*100/tn,scrollFrom:wt/(tn-_t),total:Vt,visible:!0}),ut=wr(rR,{ref:H,alwaysOn:Ye,startGap:vt,endGap:Lt,class:R.e("vertical"),clientSize:qt,layout:"vertical",onScroll:se,ratio:qt*100/Nt,scrollFrom:De/(Nt-qt),total:Et,visible:!0});return{horizontalScrollbar:We,verticalScrollbar:ut}},Ge=()=>{var Ye;const[vt,Lt]=S(ue),[Et,Vt]=S(J),{data:_t,totalColumn:qt,totalRow:tn,useIsScrolling:Nt,itemKey:wt}=E,De=[];if(tn>0&&qt>0)for(let We=Et;We<=Vt;We++)for(let ut=vt;ut<=Lt;ut++)De.push((Ye=F.default)==null?void 0:Ye.call(F,{columnIndex:ut,data:_t,key:wt({columnIndex:ut,data:_t,rowIndex:We}),isScrolling:Nt?S(ie).isScrolling:void 0,style:be(We,ut),rowIndex:We}));return De},Ne=()=>{const Ye=di(E.innerElement),vt=Ge();return[wr(Ye,{style:S(ce),ref:K},Hr(Ye)?vt:{default:()=>vt})]};return()=>{const Ye=di(E.containerElement),{horizontalScrollbar:vt,verticalScrollbar:Lt}=Pe(),Et=Ne();return wr("div",{key:0,class:R.e("wrapper"),role:E.role},[wr(Ye,{class:E.className,style:S(he),onScroll:Ee,onWheel:_e,ref:Q},Hr(Ye)?Et:{default:()=>Et}),vt,Lt])}}}),NWe=sse({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:t},e)=>[t,e*t],getRowPosition:({rowHeight:t},e)=>[t,e*t],getEstimatedTotalHeight:({totalRow:t,rowHeight:e})=>e*t,getEstimatedTotalWidth:({totalColumn:t,columnWidth:e})=>e*t,getColumnOffset:({totalColumn:t,columnWidth:e,width:n},r,i,s,l,c)=>{n=Number(n);const a=Math.max(0,t*e-n),f=Math.min(a,r*e),A=Math.max(0,r*e-n+c+e);switch(i==="smart"&&(s>=A-n&&s<=f+n?i=gf:i=JA),i){case zC:return f;case $C:return A;case JA:{const m=Math.round(A+(f-A)/2);return m<Math.ceil(n/2)?0:m>a+Math.floor(n/2)?a:m}case gf:default:return s>=A&&s<=f?s:A>f||s<A?A:f}},getRowOffset:({rowHeight:t,height:e,totalRow:n},r,i,s,l,c)=>{e=Number(e);const a=Math.max(0,n*t-e),f=Math.min(a,r*t),A=Math.max(0,r*t-e+c+t);switch(i===pB&&(s>=A-e&&s<=f+e?i=gf:i=JA),i){case zC:return f;case $C:return A;case JA:{const m=Math.round(A+(f-A)/2);return m<Math.ceil(e/2)?0:m>a+Math.floor(e/2)?a:m}case gf:default:return s>=A&&s<=f?s:A>f||s<A?A:f}},getColumnStartIndexForOffset:({columnWidth:t,totalColumn:e},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getColumnStopIndexForStartIndex:({columnWidth:t,totalColumn:e,width:n},r,i)=>{const s=r*t,l=Math.ceil((n+i-s)/t);return Math.max(0,Math.min(e-1,r+l-1))},getRowStartIndexForOffset:({rowHeight:t,totalRow:e},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getRowStopIndexForStartIndex:({rowHeight:t,totalRow:e,height:n},r,i)=>{const s=r*t,l=Math.ceil((n+i-s)/t);return Math.max(0,Math.min(e-1,r+l-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:t,rowHeight:e})=>{}}),{max:LT,min:ose,floor:lse}=Math,UWe={column:"columnWidth",row:"rowHeight"},iR={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},Fg=(t,e,n,r)=>{const[i,s,l]=[n[r],t[UWe[r]],n[iR[r]]];if(e>l){let c=0;if(l>=0){const a=i[l];c=a.offset+a.size}for(let a=l+1;a<=e;a++){const f=s(a);i[a]={offset:c,size:f},c+=f}n[iR[r]]=e}return i[e]},use=(t,e,n,r,i,s)=>{for(;n<=r;){const l=n+lse((r-n)/2),c=Fg(t,l,e,s).offset;if(c===i)return l;c<i?n=l+1:r=l-1}return LT(0,n-1)},zWe=(t,e,n,r,i)=>{const s=i==="column"?t.totalColumn:t.totalRow;let l=1;for(;n<s&&Fg(t,n,e,i).offset<r;)n+=l,l*=2;return use(t,e,lse(n/2),ose(n,s-1),r,i)},eW=(t,e,n,r)=>{const[i,s]=[e[r],e[iR[r]]];return(s>0?i[s].offset:0)>=n?use(t,e,0,s,n,r):zWe(t,e,LT(0,s),n,r)},cse=({totalRow:t},{estimatedRowHeight:e,lastVisitedRowIndex:n,row:r})=>{let i=0;if(n>=t&&(n=t-1),n>=0){const c=r[n];i=c.offset+c.size}const l=(t-n-1)*e;return i+l},hse=({totalColumn:t},{column:e,estimatedColumnWidth:n,lastVisitedColumnIndex:r})=>{let i=0;if(r>t&&(r=t-1),r>=0){const c=e[r];i=c.offset+c.size}const l=(t-r-1)*n;return i+l},$We={column:hse,row:cse},tW=(t,e,n,r,i,s,l)=>{const[c,a]=[s==="row"?t.height:t.width,$We[s]],f=Fg(t,e,i,s),A=a(t,i),m=LT(0,ose(A-c,f.offset)),_=LT(0,f.offset-c+l+f.size);switch(n===pB&&(r>=_-c&&r<=m+c?n=gf:n=JA),n){case zC:return m;case $C:return _;case JA:return Math.round(_+(m-_)/2);case gf:default:return r>=_&&r<=m?r:_>m||r<_?_:m}},VWe=sse({name:"ElDynamicSizeGrid",getColumnPosition:(t,e,n)=>{const r=Fg(t,e,n,"column");return[r.size,r.offset]},getRowPosition:(t,e,n)=>{const r=Fg(t,e,n,"row");return[r.size,r.offset]},getColumnOffset:(t,e,n,r,i,s)=>tW(t,e,n,r,i,"column",s),getRowOffset:(t,e,n,r,i,s)=>tW(t,e,n,r,i,"row",s),getColumnStartIndexForOffset:(t,e,n)=>eW(t,n,e,"column"),getColumnStopIndexForStartIndex:(t,e,n,r)=>{const i=Fg(t,e,r,"column"),s=n+t.width;let l=i.offset+i.size,c=e;for(;c<t.totalColumn-1&&l<s;)c++,l+=Fg(t,e,r,"column").size;return c},getEstimatedTotalHeight:cse,getEstimatedTotalWidth:hse,getRowStartIndexForOffset:(t,e,n)=>eW(t,n,e,"row"),getRowStopIndexForStartIndex:(t,e,n,r)=>{const{totalRow:i,height:s}=t,l=Fg(t,e,r,"row"),c=n+s;let a=l.size+l.offset,f=e;for(;f<i-1&&a<c;)f++,a+=Fg(t,f,r,"row").size;return f},injectToInstance:(t,e)=>{const n=({columnIndex:s,rowIndex:l},c)=>{var a,f;c=Wo(c)?!0:c,Or(s)&&(e.value.lastVisitedColumnIndex=Math.min(e.value.lastVisitedColumnIndex,s-1)),Or(l)&&(e.value.lastVisitedRowIndex=Math.min(e.value.lastVisitedRowIndex,l-1)),(a=t.exposed)==null||a.getItemStyleCache.value(-1,null,null),c&&((f=t.proxy)==null||f.$forceUpdate())},r=(s,l)=>{n({columnIndex:s},l)},i=(s,l)=>{n({rowIndex:s},l)};Object.assign(t.proxy,{resetAfterColumnIndex:r,resetAfterRowIndex:i,resetAfter:n})},initCache:({estimatedColumnWidth:t=Xk,estimatedRowHeight:e=Xk})=>({column:{},estimatedColumnWidth:t,estimatedRowHeight:e,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:t,rowHeight:e})=>{}}),HWe=Be({props:{item:{type:Object,required:!0},style:Object,height:Number},setup(){return{ns:vn("select")}}});function QWe(t,e,n,r,i,s){return t.item.isTitle?(X(),ve("div",{key:0,class:Se(t.ns.be("group","title")),style:or([t.style,{lineHeight:`${t.height}px`}])},Cn(t.item.label),7)):(X(),ve("div",{key:1,class:Se(t.ns.be("group","split")),style:or(t.style)},[pe("span",{class:Se(t.ns.be("group","split-dash")),style:or({top:`${t.height/2}px`})},null,6)],6))}var jWe=kn(HWe,[["render",QWe],["__file","group-item.vue"]]);function GWe(t,{emit:e}){return{hoverItem:()=>{t.disabled||e("hover",t.index)},selectOptionClick:()=>{t.disabled||e("select",t.item,t.index)}}}const dse={label:"label",value:"value",disabled:"disabled",options:"options"};function AB(t){const e=le(()=>({...dse,...t.props}));return{aliasProps:e,getLabel:l=>Fo(l,e.value.label),getValue:l=>Fo(l,e.value.value),getDisabled:l=>Fo(l,e.value.disabled),getOptions:l=>Fo(l,e.value.options)}}const KWe=Ln({allowCreate:Boolean,autocomplete:{type:Rt(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:Ja,default:o0},effect:{type:Rt(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:Rt([Array,String,Number,Boolean,Object])},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:Rt(Array),required:!0},placeholder:{type:String},teleported:du.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:Rt(Object),default:()=>({})},remote:Boolean,size:ru,props:{type:Rt(Object),default:()=>dse},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},placement:{type:Rt(String),values:yy,default:"bottom-start"},fallbackPlacements:{type:Rt(Array),default:["bottom-start","top-start","right","left"]},tagType:{...hB.type,default:"info"},...F2,...Vu(["ariaLabel"])}),WWe=Ln({data:Array,disabled:Boolean,hovering:Boolean,item:{type:Rt(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),O9=Symbol("ElSelectV2Injection"),qWe=Be({props:WWe,emits:["select","hover"],setup(t,{emit:e}){const n=ar(O9),r=vn("select"),{hoverItem:i,selectOptionClick:s}=GWe(t,{emit:e}),{getLabel:l}=AB(n.props);return{ns:r,hoverItem:i,selectOptionClick:s,getLabel:l}}}),YWe=["aria-selected"];function XWe(t,e,n,r,i,s){return X(),ve("li",{"aria-selected":t.selected,style:or(t.style),class:Se([t.ns.be("dropdown","item"),t.ns.is("selected",t.selected),t.ns.is("disabled",t.disabled),t.ns.is("created",t.created),t.ns.is("hovering",t.hovering)]),onMouseenter:e[0]||(e[0]=(...l)=>t.hoverItem&&t.hoverItem(...l)),onClick:e[1]||(e[1]=Fr((...l)=>t.selectOptionClick&&t.selectOptionClick(...l),["stop"]))},[kt(t.$slots,"default",{item:t.item,index:t.index,disabled:t.disabled},()=>[pe("span",null,Cn(t.getLabel(t.item)),1)])],46,YWe)}var ZWe=kn(qWe,[["render",XWe],["__file","option-item.vue"]]),JWe=Be({name:"ElSelectDropdown",props:{loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number},setup(t,{slots:e,expose:n}){const r=ar(O9),i=vn("select"),{getLabel:s,getValue:l,getDisabled:c}=AB(r.props),a=Te([]),f=Te(),A=le(()=>t.data.length);un(()=>A.value,()=>{var q,W;(W=(q=r.tooltipRef.value).updatePopper)==null||W.call(q)});const m=le(()=>Wo(r.props.estimatedOptionHeight)),_=le(()=>m.value?{itemSize:r.props.itemHeight}:{estimatedSize:r.props.estimatedOptionHeight,itemSize:q=>a.value[q]}),y=(q=[],W)=>{const{props:{valueKey:ee}}=r;return Ai(W)?q&&q.some(ue=>ja(Fo(ue,ee))===Fo(W,ee)):q.includes(W)},T=(q,W)=>{if(Ai(W)){const{valueKey:ee}=r.props;return Fo(q,ee)===Fo(W,ee)}else return q===W},E=(q,W)=>r.props.multiple?y(q,l(W)):T(q,l(W)),P=(q,W)=>{const{disabled:ee,multiple:ue,multipleLimit:J}=r.props;return ee||!W&&(ue?J>0&&q.length>=J:!1)},I=q=>t.hoveringIndex===q;n({listRef:f,isSized:m,isItemDisabled:P,isItemHovering:I,isItemSelected:E,scrollToItem:q=>{const W=f.value;W&&W.scrollToItem(q)},resetScrollTop:()=>{const q=f.value;q&&q.resetScrollTop()}});const N=q=>{const{index:W,data:ee,style:ue}=q,J=S(m),{itemSize:te,estimatedSize:ne}=S(_),{modelValue:he}=r.props,{onSelect:ce,onHover:ye}=r,Ee=ee[W];if(Ee.type==="Group")return ht(jWe,{item:Ee,style:ue,height:J?te:ne},null);const se=E(he,Ee),oe=P(he,se),_e=I(W);return ht(ZWe,Xr(q,{selected:se,disabled:c(Ee)||oe,created:!!Ee.created,hovering:_e,item:Ee,onSelect:ce,onHover:ye}),{default:Ue=>{var Le;return((Le=e.default)==null?void 0:Le.call(e,Ue))||ht("span",null,[s(Ee)])}})},{onKeyboardNavigate:z,onKeyboardSelect:Q}=r,j=()=>{z("forward")},H=()=>{z("backward")},K=()=>{r.expanded=!1},ie=q=>{const{code:W}=q,{tab:ee,esc:ue,down:J,up:te,enter:ne}=Tr;switch(W!==ee&&(q.preventDefault(),q.stopPropagation()),W){case ee:case ue:{K();break}case J:{j();break}case te:{H();break}case ne:{Q();break}}};return()=>{var q,W,ee,ue;const{data:J,width:te}=t,{height:ne,multiple:he,scrollbarAlwaysOn:ce}=r.props,ye=S(m)?ise:OWe;return ht("div",{class:[i.b("dropdown"),i.is("multiple",he)],style:{width:`${te}px`}},[(q=e.header)==null?void 0:q.call(e),((W=e.loading)==null?void 0:W.call(e))||((ee=e.empty)==null?void 0:ee.call(e))||ht(ye,Xr({ref:f},S(_),{className:i.be("dropdown","list"),scrollbarAlwaysOn:ce,data:J,height:ne,width:te,total:J.length,onKeydown:ie}),{default:Ee=>ht(N,Ee,null)}),(ue=e.footer)==null?void 0:ue.call(e)])}}});function eqe(t,e){const{aliasProps:n,getLabel:r,getValue:i}=AB(t),s=Te(0),l=Te(null),c=le(()=>t.allowCreate&&t.filterable);function a(y){const T=E=>r(E)===y;return t.options&&t.options.some(T)||e.createdOptions.some(T)}function f(y){c.value&&(t.multiple&&y.created?s.value++:l.value=y)}function A(y){if(c.value)if(y&&y.length>0){if(a(y))return;const T={[n.value.value]:y,[n.value.label]:y,created:!0,[n.value.disabled]:!1};e.createdOptions.length>=s.value?e.createdOptions[s.value]=T:e.createdOptions.push(T)}else if(t.multiple)e.createdOptions.length=s.value;else{const T=l.value;e.createdOptions.length=0,T&&T.created&&e.createdOptions.push(T)}}function m(y){if(!c.value||!y||!y.created||y.created&&t.reserveKeyword&&e.inputValue===r(y))return;const T=e.createdOptions.findIndex(E=>i(E)===i(y));~T&&(e.createdOptions.splice(T,1),s.value--)}function _(){c.value&&(e.createdOptions.length=0,s.value=0)}return{createNewOption:A,removeNewOption:m,selectNewOption:f,clearAllNewOption:_}}const tqe=11,nqe=(t,e)=>{const{t:n}=ca(),r=vn("select"),i=vn("input"),{form:s,formItem:l}=Nc(),{inputId:c}=rA(t,{formItemContext:l}),{aliasProps:a,getLabel:f,getValue:A,getDisabled:m,getOptions:_}=AB(t),{valueOnClear:y,isEmptyValue:T}=oB(t),E=ua({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),P=Te(-1),I=Te(null),F=Te(null),R=Te(null),N=Te(null),z=Te(null),Q=Te(null),j=Te(null),H=Te(null),K=Te(null),ie=Te(null),q=Te(null),{wrapperRef:W,isFocused:ee,handleFocus:ue,handleBlur:J}=sB(z,{afterFocus(){t.automaticDropdown&&!he.value&&(he.value=!0,E.menuVisibleOnFocus=!0)},beforeBlur(jt){var Xn,Pr;return((Xn=R.value)==null?void 0:Xn.isFocusInsideContent(jt))||((Pr=N.value)==null?void 0:Pr.isFocusInsideContent(jt))},afterBlur(){he.value=!1,E.menuVisibleOnFocus=!1}}),te=Te([]),ne=Te([]),he=Te(!1),ce=le(()=>t.disabled||(s==null?void 0:s.disabled)),ye=le(()=>{const jt=ne.value.length*t.itemHeight;return jt>t.height?t.height:jt}),Ee=le(()=>t.multiple?Jn(t.modelValue)&&t.modelValue.length>0:!T(t.modelValue)),se=le(()=>t.clearable&&!ce.value&&E.inputHovering&&Ee.value),oe=le(()=>t.remote&&t.filterable?"":Em),_e=le(()=>oe.value&&r.is("reverse",he.value)),Ue=le(()=>(l==null?void 0:l.validateState)||""),Le=le(()=>QN[Ue.value]),be=le(()=>t.remote?300:0),Re=le(()=>t.loading?t.loadingText||n("el.select.loading"):t.remote&&!E.inputValue&&te.value.length===0?!1:t.filterable&&E.inputValue&&te.value.length>0&&ne.value.length===0?t.noMatchText||n("el.select.noMatch"):te.value.length===0?t.noDataText||n("el.select.noData"):null),Qe=jt=>{const Xn=Pr=>{if(t.filterable&&Dr(t.filterMethod)||t.filterable&&t.remote&&Dr(t.remoteMethod))return!0;const _r=new RegExp(RN(jt),"i");return jt?_r.test(f(Pr)||""):!0};return t.loading?[]:[...E.createdOptions,...t.options].reduce((Pr,_r)=>{const ha=_(_r);if(Jn(ha)){const is=ha.filter(Xn);is.length>0&&Pr.push({label:f(_r),isTitle:!0,type:"Group"},...is,{type:"Group"})}else(t.remote||Xn(_r))&&Pr.push(_r);return Pr},[])},Je=()=>{te.value=Qe(""),ne.value=Qe(E.inputValue)},nt=le(()=>{const jt=new Map;return te.value.forEach((Xn,Pr)=>{jt.set(Nn(A(Xn)),{option:Xn,index:Pr})}),jt}),Ve=le(()=>{const jt=new Map;return ne.value.forEach((Xn,Pr)=>{jt.set(Nn(A(Xn)),{option:Xn,index:Pr})}),jt}),Pe=le(()=>ne.value.every(jt=>m(jt))),Ge=hl(),Ne=le(()=>Ge.value==="small"?"small":"default"),je=()=>{var jt;P.value=((jt=I.value)==null?void 0:jt.offsetWidth)||200},Ye=()=>{if(!F.value)return 0;const jt=window.getComputedStyle(F.value);return Number.parseFloat(jt.gap||"6px")},vt=le(()=>{const jt=Ye();return{maxWidth:`${q.value&&t.maxCollapseTags===1?E.selectionWidth-E.collapseItemWidth-jt:E.selectionWidth}px`}}),Lt=le(()=>({maxWidth:`${E.selectionWidth}px`})),Et=le(()=>({width:`${Math.max(E.calculatorWidth,tqe)}px`})),Vt=le(()=>Jn(t.modelValue)?t.modelValue.length===0&&!E.inputValue:t.filterable?!E.inputValue:!0),_t=le(()=>{var jt;const Xn=(jt=t.placeholder)!=null?jt:n("el.select.placeholder");return t.multiple||!Ee.value?Xn:E.selectedLabel}),qt=le(()=>{var jt,Xn;return(Xn=(jt=R.value)==null?void 0:jt.popperRef)==null?void 0:Xn.contentRef}),tn=le(()=>{if(t.multiple){const jt=t.modelValue.length;if(t.modelValue.length>0&&Ve.value.has(t.modelValue[jt-1])){const{index:Xn}=Ve.value.get(t.modelValue[jt-1]);return Xn}}else if(t.modelValue&&Ve.value.has(t.modelValue)){const{index:jt}=Ve.value.get(t.modelValue);return jt}return-1}),Nt=le({get(){return he.value&&Re.value!==!1},set(jt){he.value=jt}}),wt=le(()=>t.multiple?t.collapseTags?E.cachedOptions.slice(0,t.maxCollapseTags):E.cachedOptions:[]),De=le(()=>t.multiple?t.collapseTags?E.cachedOptions.slice(t.maxCollapseTags):[]:[]),{createNewOption:We,removeNewOption:ut,selectNewOption:It,clearAllNewOption:Xe}=eqe(t,E),{handleCompositionStart:Pt,handleCompositionUpdate:Bt,handleCompositionEnd:it}=Gae(jt=>Gn(jt)),Mt=()=>{ce.value||(E.menuVisibleOnFocus?E.menuVisibleOnFocus=!1:he.value=!he.value)},at=()=>{E.inputValue.length>0&&!he.value&&(he.value=!0),We(E.inputValue),St(E.inputValue)},et=$h(at,be.value),St=jt=>{E.previousQuery!==jt&&(E.previousQuery=jt,t.filterable&&Dr(t.filterMethod)?t.filterMethod(jt):t.filterable&&t.remote&&Dr(t.remoteMethod)&&t.remoteMethod(jt),t.defaultFirstOption&&(t.filterable||t.remote)&&ne.value.length?dr(sn):dr(er))},sn=()=>{const jt=ne.value.filter(_r=>!_r.disabled&&_r.type!=="Group"),Xn=jt.find(_r=>_r.created),Pr=jt[0];E.hoveringIndex=tr(ne.value,Xn||Pr)},bn=jt=>{kc(t.modelValue,jt)||e(_s,jt)},gr=jt=>{e(vi,jt),bn(jt),E.previousValue=t.multiple?String(jt):jt},tr=(jt=[],Xn)=>{if(!Ai(Xn))return jt.indexOf(Xn);const Pr=t.valueKey;let _r=-1;return jt.some((ha,is)=>Fo(ha,Pr)===Fo(Xn,Pr)?(_r=is,!0):!1),_r},Nn=jt=>Ai(jt)?Fo(jt,t.valueKey):jt,lr=()=>{je()},Qr=()=>{E.selectionWidth=F.value.getBoundingClientRect().width},xi=()=>{E.calculatorWidth=Q.value.getBoundingClientRect().width},ai=()=>{E.collapseItemWidth=q.value.getBoundingClientRect().width},zi=()=>{var jt,Xn;(Xn=(jt=R.value)==null?void 0:jt.updatePopper)==null||Xn.call(jt)},ma=()=>{var jt,Xn;(Xn=(jt=N.value)==null?void 0:jt.updatePopper)==null||Xn.call(jt)},Rr=jt=>{if(t.multiple){let Xn=t.modelValue.slice();const Pr=tr(Xn,A(jt));Pr>-1?(Xn=[...Xn.slice(0,Pr),...Xn.slice(Pr+1)],E.cachedOptions.splice(Pr,1),ut(jt)):(t.multipleLimit<=0||Xn.length<t.multipleLimit)&&(Xn=[...Xn,A(jt)],E.cachedOptions.push(jt),It(jt)),gr(Xn),jt.created&&St(""),t.filterable&&!t.reserveKeyword&&(E.inputValue="")}else E.selectedLabel=f(jt),gr(A(jt)),he.value=!1,It(jt),jt.created||Xe();$i()},Ki=(jt,Xn)=>{let Pr=t.modelValue.slice();const _r=tr(Pr,A(Xn));_r>-1&&!ce.value&&(Pr=[...t.modelValue.slice(0,_r),...t.modelValue.slice(_r+1)],E.cachedOptions.splice(_r,1),gr(Pr),e("remove-tag",A(Xn)),ut(Xn)),jt.stopPropagation(),$i()},$i=()=>{var jt;(jt=z.value)==null||jt.focus()},Jt=()=>{var jt;(jt=z.value)==null||jt.blur()},hn=()=>{E.inputValue.length>0?E.inputValue="":he.value=!1},En=jt=>Vne(jt,Xn=>!E.cachedOptions.some(Pr=>A(Pr)===Xn&&m(Pr))),Hn=jt=>{if(t.multiple&&jt.code!==Tr.delete&&E.inputValue.length===0){jt.preventDefault();const Xn=t.modelValue.slice(),Pr=En(Xn);if(Pr<0)return;Xn.splice(Pr,1);const _r=E.cachedOptions[Pr];E.cachedOptions.splice(Pr,1),ut(_r),gr(Xn)}},Ht=()=>{let jt;Jn(t.modelValue)?jt=[]:jt=y.value,t.multiple?E.cachedOptions=[]:E.selectedLabel="",he.value=!1,gr(jt),e("clear"),Xe(),$i()},an=(jt,Xn=void 0)=>{const Pr=ne.value;if(!["forward","backward"].includes(jt)||ce.value||Pr.length<=0||Pe.value)return;if(!he.value)return Mt();Xn===void 0&&(Xn=E.hoveringIndex);let _r=-1;jt==="forward"?(_r=Xn+1,_r>=Pr.length&&(_r=0)):jt==="backward"&&(_r=Xn-1,(_r<0||_r>=Pr.length)&&(_r=Pr.length-1));const ha=Pr[_r];if(m(ha)||ha.type==="Group")return an(jt,_r);E.hoveringIndex=_r,Tn(_r)},In=()=>{if(he.value)~E.hoveringIndex&&ne.value[E.hoveringIndex]&&Rr(ne.value[E.hoveringIndex]);else return Mt()},Pn=jt=>{E.hoveringIndex=jt},er=()=>{t.multiple?E.hoveringIndex=ne.value.findIndex(jt=>t.modelValue.some(Xn=>Nn(Xn)===Nn(jt))):E.hoveringIndex=ne.value.findIndex(jt=>Nn(jt)===Nn(t.modelValue))},Gn=jt=>{if(E.inputValue=jt.target.value,t.remote)et();else return at()},Mr=jt=>{if(he.value=!1,ee.value){const Xn=new FocusEvent("focus",jt);J(Xn)}},ti=()=>(E.isBeforeHide=!1,dr(()=>{~tn.value&&Tn(E.hoveringIndex)})),Tn=jt=>{K.value.scrollToItem(jt)},Kt=jt=>{const Xn=Nn(jt);if(nt.value.has(Xn)){const{option:Pr}=nt.value.get(Xn);return Pr}return{[a.value.value]:jt,[a.value.label]:jt}},Zn=()=>{if(t.multiple)if(t.modelValue.length>0){E.cachedOptions.length=0,E.previousValue=t.modelValue.toString();for(const jt of t.modelValue){const Xn=Kt(jt);E.cachedOptions.push(Xn)}}else E.cachedOptions=[],E.previousValue=void 0;else if(Ee.value){E.previousValue=t.modelValue;const jt=ne.value,Xn=jt.findIndex(Pr=>Nn(A(Pr))===Nn(t.modelValue));~Xn?E.selectedLabel=f(jt[Xn]):E.selectedLabel=Nn(t.modelValue)}else E.selectedLabel="",E.previousValue=void 0;Xe(),je()};return un(he,jt=>{jt?St(""):(E.inputValue="",E.previousQuery=null,E.isBeforeHide=!0,We("")),e("visible-change",jt)}),un(()=>t.modelValue,(jt,Xn)=>{var Pr;(!jt||t.multiple&&jt.toString()!==E.previousValue||!t.multiple&&Nn(jt)!==Nn(E.previousValue))&&Zn(),!kc(jt,Xn)&&t.validateEvent&&((Pr=l==null?void 0:l.validate)==null||Pr.call(l,"change").catch(_r=>void 0))},{deep:!0}),un(()=>t.options,()=>{const jt=z.value;(!jt||jt&&document.activeElement!==jt)&&Zn()},{deep:!0,flush:"post"}),un(()=>ne.value,()=>K.value&&dr(K.value.resetScrollTop)),rc(()=>{E.isBeforeHide||Je()}),rc(()=>{const{valueKey:jt,options:Xn}=t,Pr=new Map;for(const _r of Xn){const ha=A(_r);let is=ha;if(Ai(is)&&(is=Fo(ha,jt)),Pr.get(is))break;Pr.set(is,!0)}}),kr(()=>{Zn()}),eo(I,lr),eo(F,Qr),eo(Q,xi),eo(K,zi),eo(W,zi),eo(ie,ma),eo(q,ai),{inputId:c,collapseTagSize:Ne,currentPlaceholder:_t,expanded:he,emptyText:Re,popupHeight:ye,debounce:be,allOptions:te,filteredOptions:ne,iconComponent:oe,iconReverse:_e,tagStyle:vt,collapseTagStyle:Lt,inputStyle:Et,popperSize:P,dropdownMenuVisible:Nt,hasModelValue:Ee,shouldShowPlaceholder:Vt,selectDisabled:ce,selectSize:Ge,showClearBtn:se,states:E,isFocused:ee,nsSelect:r,nsInput:i,calculatorRef:Q,inputRef:z,menuRef:K,tagMenuRef:ie,tooltipRef:R,tagTooltipRef:N,selectRef:I,wrapperRef:W,selectionRef:F,prefixRef:j,suffixRef:H,collapseItemRef:q,popperRef:qt,validateState:Ue,validateIcon:Le,showTagList:wt,collapseTagList:De,debouncedOnInputChange:et,deleteTag:Ki,getLabel:f,getValue:A,getDisabled:m,getValueKey:Nn,handleBlur:J,handleClear:Ht,handleClickOutside:Mr,handleDel:Hn,handleEsc:hn,handleFocus:ue,focus:$i,blur:Jt,handleMenuEnter:ti,handleResize:lr,resetSelectionWidth:Qr,resetCalculatorWidth:xi,updateTooltip:zi,updateTagTooltip:ma,updateOptions:Je,toggleMenu:Mt,scrollTo:Tn,onInput:Gn,onKeyboardNavigate:an,onKeyboardSelect:In,onSelect:Rr,onHover:Pn,handleCompositionStart:Pt,handleCompositionEnd:it,handleCompositionUpdate:Bt}},rqe=Be({name:"ElSelectV2",components:{ElSelectMenu:JWe,ElTag:NC,ElTooltip:Dc,ElIcon:Ar},directives:{ClickOutside:Xg},props:KWe,emits:[vi,_s,"remove-tag","clear","visible-change","focus","blur"],setup(t,{emit:e}){const n=le(()=>{const{modelValue:i,multiple:s}=t,l=s?[]:void 0;return Jn(i)?s?i:l:s?l:i}),r=nqe(ua({...zu(t),modelValue:n}),e);return Ii(O9,{props:ua({...zu(t),height:r.popupHeight,modelValue:n}),tooltipRef:r.tooltipRef,onSelect:r.onSelect,onHover:r.onHover,onKeyboardNavigate:r.onKeyboardNavigate,onKeyboardSelect:r.onKeyboardSelect}),{...r,modelValue:n}}}),iqe=["id","autocomplete","aria-expanded","aria-label","disabled","readonly","name"],aqe=["textContent"];function sqe(t,e,n,r,i,s){const l=Kr("el-tag"),c=Kr("el-tooltip"),a=Kr("el-icon"),f=Kr("el-select-menu"),A=L8("click-outside");return Jr((X(),ve("div",{ref:"selectRef",class:Se([t.nsSelect.b(),t.nsSelect.m(t.selectSize)]),onMouseenter:e[14]||(e[14]=m=>t.states.inputHovering=!0),onMouseleave:e[15]||(e[15]=m=>t.states.inputHovering=!1),onClick:e[16]||(e[16]=Fr((...m)=>t.toggleMenu&&t.toggleMenu(...m),["prevent","stop"]))},[ht(c,{ref:"tooltipRef",visible:t.dropdownMenuVisible,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":t.popperOptions,"fallback-placements":t.fallbackPlacements,effect:t.effect,placement:t.placement,pure:"",transition:`${t.nsSelect.namespace.value}-zoom-in-top`,trigger:"click",persistent:t.persistent,onBeforeShow:t.handleMenuEnter,onHide:e[13]||(e[13]=m=>t.states.isBeforeHide=!1)},{default:xt(()=>[pe("div",{ref:"wrapperRef",class:Se([t.nsSelect.e("wrapper"),t.nsSelect.is("focused",t.isFocused),t.nsSelect.is("hovering",t.states.inputHovering),t.nsSelect.is("filterable",t.filterable),t.nsSelect.is("disabled",t.selectDisabled)])},[t.$slots.prefix?(X(),ve("div",{key:0,ref:"prefixRef",class:Se(t.nsSelect.e("prefix"))},[kt(t.$slots,"prefix")],2)):bt("v-if",!0),pe("div",{ref:"selectionRef",class:Se([t.nsSelect.e("selection"),t.nsSelect.is("near",t.multiple&&!t.$slots.prefix&&!!t.modelValue.length)])},[t.multiple?kt(t.$slots,"tag",{key:0},()=>[(X(!0),ve(Vn,null,Yr(t.showTagList,m=>(X(),ve("div",{key:t.getValueKey(t.getValue(m)),class:Se(t.nsSelect.e("selected-item"))},[ht(l,{closable:!t.selectDisabled&&!t.getDisabled(m),size:t.collapseTagSize,type:t.tagType,"disable-transitions":"",style:or(t.tagStyle),onClose:_=>t.deleteTag(_,m)},{default:xt(()=>[pe("span",{class:Se(t.nsSelect.e("tags-text"))},Cn(t.getLabel(m)),3)]),_:2},1032,["closable","size","type","style","onClose"])],2))),128)),t.collapseTags&&t.modelValue.length>t.maxCollapseTags?(X(),Ut(c,{key:0,ref:"tagTooltipRef",disabled:t.dropdownMenuVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:t.teleported},{default:xt(()=>[pe("div",{ref:"collapseItemRef",class:Se(t.nsSelect.e("selected-item"))},[ht(l,{closable:!1,size:t.collapseTagSize,type:t.tagType,style:or(t.collapseTagStyle),"disable-transitions":""},{default:xt(()=>[pe("span",{class:Se(t.nsSelect.e("tags-text"))}," + "+Cn(t.modelValue.length-t.maxCollapseTags),3)]),_:1},8,["size","type","style"])],2)]),content:xt(()=>[pe("div",{ref:"tagMenuRef",class:Se(t.nsSelect.e("selection"))},[(X(!0),ve(Vn,null,Yr(t.collapseTagList,m=>(X(),ve("div",{key:t.getValueKey(t.getValue(m)),class:Se(t.nsSelect.e("selected-item"))},[ht(l,{class:"in-tooltip",closable:!t.selectDisabled&&!t.getDisabled(m),size:t.collapseTagSize,type:t.tagType,"disable-transitions":"",onClose:_=>t.deleteTag(_,m)},{default:xt(()=>[pe("span",{class:Se(t.nsSelect.e("tags-text"))},Cn(t.getLabel(m)),3)]),_:2},1032,["closable","size","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):bt("v-if",!0)]):bt("v-if",!0),t.selectDisabled?bt("v-if",!0):(X(),ve("div",{key:1,class:Se([t.nsSelect.e("selected-item"),t.nsSelect.e("input-wrapper"),t.nsSelect.is("hidden",!t.filterable)])},[Jr(pe("input",{id:t.inputId,ref:"inputRef","onUpdate:modelValue":e[0]||(e[0]=m=>t.states.inputValue=m),style:or(t.inputStyle),autocomplete:t.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":t.expanded,"aria-label":t.ariaLabel,class:Se([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,role:"combobox",readonly:!t.filterable,spellcheck:"false",type:"text",name:t.name,onFocus:e[1]||(e[1]=(...m)=>t.handleFocus&&t.handleFocus(...m)),onBlur:e[2]||(e[2]=(...m)=>t.handleBlur&&t.handleBlur(...m)),onInput:e[3]||(e[3]=(...m)=>t.onInput&&t.onInput(...m)),onCompositionstart:e[4]||(e[4]=(...m)=>t.handleCompositionStart&&t.handleCompositionStart(...m)),onCompositionupdate:e[5]||(e[5]=(...m)=>t.handleCompositionUpdate&&t.handleCompositionUpdate(...m)),onCompositionend:e[6]||(e[6]=(...m)=>t.handleCompositionEnd&&t.handleCompositionEnd(...m)),onKeydown:[e[7]||(e[7]=Qa(Fr(m=>t.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),e[8]||(e[8]=Qa(Fr(m=>t.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),e[9]||(e[9]=Qa(Fr((...m)=>t.onKeyboardSelect&&t.onKeyboardSelect(...m),["stop","prevent"]),["enter"])),e[10]||(e[10]=Qa(Fr((...m)=>t.handleEsc&&t.handleEsc(...m),["stop","prevent"]),["esc"])),e[11]||(e[11]=Qa(Fr((...m)=>t.handleDel&&t.handleDel(...m),["stop"]),["delete"]))],onClick:e[12]||(e[12]=Fr((...m)=>t.toggleMenu&&t.toggleMenu(...m),["stop"]))},null,46,iqe),[[KD,t.states.inputValue]]),t.filterable?(X(),ve("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:Se(t.nsSelect.e("input-calculator")),textContent:Cn(t.states.inputValue)},null,10,aqe)):bt("v-if",!0)],2)),t.shouldShowPlaceholder?(X(),ve("div",{key:2,class:Se([t.nsSelect.e("selected-item"),t.nsSelect.e("placeholder"),t.nsSelect.is("transparent",!t.hasModelValue||t.expanded&&!t.states.inputValue)])},[pe("span",null,Cn(t.currentPlaceholder),1)],2)):bt("v-if",!0)],2),pe("div",{ref:"suffixRef",class:Se(t.nsSelect.e("suffix"))},[t.iconComponent?Jr((X(),Ut(a,{key:0,class:Se([t.nsSelect.e("caret"),t.nsInput.e("icon"),t.iconReverse])},{default:xt(()=>[(X(),Ut(di(t.iconComponent)))]),_:1},8,["class"])),[[la,!t.showClearBtn]]):bt("v-if",!0),t.showClearBtn&&t.clearIcon?(X(),Ut(a,{key:1,class:Se([t.nsSelect.e("caret"),t.nsInput.e("icon")]),onClick:Fr(t.handleClear,["prevent","stop"])},{default:xt(()=>[(X(),Ut(di(t.clearIcon)))]),_:1},8,["class","onClick"])):bt("v-if",!0),t.validateState&&t.validateIcon?(X(),Ut(a,{key:2,class:Se([t.nsInput.e("icon"),t.nsInput.e("validateIcon")])},{default:xt(()=>[(X(),Ut(di(t.validateIcon)))]),_:1},8,["class"])):bt("v-if",!0)],2)],2)]),content:xt(()=>[ht(f,{ref:"menuRef",data:t.filteredOptions,width:t.popperSize,"hovering-index":t.states.hoveringIndex,"scrollbar-always-on":t.scrollbarAlwaysOn},Ro({default:xt(m=>[kt(t.$slots,"default",uo(nu(m)))]),_:2},[t.$slots.header?{name:"header",fn:xt(()=>[pe("div",{class:Se(t.nsSelect.be("dropdown","header"))},[kt(t.$slots,"header")],2)])}:void 0,t.$slots.loading&&t.loading?{name:"loading",fn:xt(()=>[pe("div",{class:Se(t.nsSelect.be("dropdown","loading"))},[kt(t.$slots,"loading")],2)])}:t.loading||t.filteredOptions.length===0?{name:"empty",fn:xt(()=>[pe("div",{class:Se(t.nsSelect.be("dropdown","empty"))},[kt(t.$slots,"empty",{},()=>[pe("span",null,Cn(t.emptyText),1)])],2)])}:void 0,t.$slots.footer?{name:"footer",fn:xt(()=>[pe("div",{class:Se(t.nsSelect.be("dropdown","footer"))},[kt(t.$slots,"footer")],2)])}:void 0]),1032,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","fallback-placements","effect","placement","transition","persistent","onBeforeShow"])],34)),[[A,t.handleClickOutside,t.popperRef]])}var xS=kn(rqe,[["render",sqe],["__file","select.vue"]]);xS.install=t=>{t.component(xS.name,xS)};const oqe=xS,lqe=oqe,uqe=Ln({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),cqe=Ln({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),hqe=Be({name:"ElSkeletonItem"}),dqe=Be({...hqe,props:cqe,setup(t){const e=vn("skeleton");return(n,r)=>(X(),ve("div",{class:Se([S(e).e("item"),S(e).e(n.variant)])},[n.variant==="image"?(X(),Ut(S(ire),{key:0})):bt("v-if",!0)],2))}});var PT=kn(dqe,[["__file","skeleton-item.vue"]]);const fqe=Be({name:"ElSkeleton"}),pqe=Be({...fqe,props:uqe,setup(t,{expose:e}){const n=t,r=vn("skeleton"),i=Xke(Oa(n,"loading"),n.throttle);return e({uiLoading:i}),(s,l)=>S(i)?(X(),ve("div",Xr({key:0,class:[S(r).b(),S(r).is("animated",s.animated)]},s.$attrs),[(X(!0),ve(Vn,null,Yr(s.count,c=>(X(),ve(Vn,{key:c},[s.loading?kt(s.$slots,"template",{key:c},()=>[ht(PT,{class:Se(S(r).is("first")),variant:"p"},null,8,["class"]),(X(!0),ve(Vn,null,Yr(s.rows,a=>(X(),Ut(PT,{key:a,class:Se([S(r).e("paragraph"),S(r).is("last",a===s.rows&&s.rows>1)]),variant:"p"},null,8,["class"]))),128))]):bt("v-if",!0)],64))),128))],16)):kt(s.$slots,"default",uo(Xr({key:1},s.$attrs)))}});var Aqe=kn(pqe,[["__file","skeleton.vue"]]);const mqe=fi(Aqe,{SkeletonItem:PT}),gqe=ro(PT),fse=Symbol("sliderContextKey"),vqe=Ln({modelValue:{type:Rt([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:ru,inputSize:ru,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:Rt(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},label:{type:String,default:void 0},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:Rt(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:yy,default:"top"},marks:{type:Rt(Object)},validateEvent:{type:Boolean,default:!0},...Vu(["ariaLabel"])}),RL=t=>Or(t)||Jn(t)&&t.every(Or),_qe={[vi]:RL,[nh]:RL,[_s]:RL},yqe=(t,e,n)=>{const r=Te();return kr(async()=>{t.range?(Array.isArray(t.modelValue)?(e.firstValue=Math.max(t.min,t.modelValue[0]),e.secondValue=Math.min(t.max,t.modelValue[1])):(e.firstValue=t.min,e.secondValue=t.max),e.oldValue=[e.firstValue,e.secondValue]):(typeof t.modelValue!="number"||Number.isNaN(t.modelValue)?e.firstValue=t.min:e.firstValue=Math.min(t.max,Math.max(t.min,t.modelValue)),e.oldValue=e.firstValue),gs(window,"resize",n),await dr(),n()}),{sliderWrapper:r}},bqe=t=>le(()=>t.marks?Object.keys(t.marks).map(Number.parseFloat).sort((n,r)=>n-r).filter(n=>n<=t.max&&n>=t.min).map(n=>({point:n,position:(n-t.min)*100/(t.max-t.min),mark:t.marks[n]})):[]),wqe=(t,e,n)=>{const{form:r,formItem:i}=Nc(),s=ms(),l=Te(),c=Te(),a={firstButton:l,secondButton:c},f=le(()=>t.disabled||(r==null?void 0:r.disabled)||!1),A=le(()=>Math.min(e.firstValue,e.secondValue)),m=le(()=>Math.max(e.firstValue,e.secondValue)),_=le(()=>t.range?`${100*(m.value-A.value)/(t.max-t.min)}%`:`${100*(e.firstValue-t.min)/(t.max-t.min)}%`),y=le(()=>t.range?`${100*(A.value-t.min)/(t.max-t.min)}%`:"0%"),T=le(()=>t.vertical?{height:t.height}:{}),E=le(()=>t.vertical?{height:_.value,bottom:y.value}:{width:_.value,left:y.value}),P=()=>{s.value&&(e.sliderSize=s.value[`client${t.vertical?"Height":"Width"}`])},I=q=>{const W=t.min+q*(t.max-t.min)/100;if(!t.range)return l;let ee;return Math.abs(A.value-W)<Math.abs(m.value-W)?ee=e.firstValue<e.secondValue?"firstButton":"secondButton":ee=e.firstValue>e.secondValue?"firstButton":"secondButton",a[ee]},F=q=>{const W=I(q);return W.value.setPosition(q),W},R=q=>{e.firstValue=q,z(t.range?[A.value,m.value]:q)},N=q=>{e.secondValue=q,t.range&&z([A.value,m.value])},z=q=>{n(vi,q),n(nh,q)},Q=async()=>{await dr(),n(_s,t.range?[A.value,m.value]:t.modelValue)},j=q=>{var W,ee,ue,J,te,ne;if(f.value||e.dragging)return;P();let he=0;if(t.vertical){const ce=(ue=(ee=(W=q.touches)==null?void 0:W.item(0))==null?void 0:ee.clientY)!=null?ue:q.clientY;he=(s.value.getBoundingClientRect().bottom-ce)/e.sliderSize*100}else{const ce=(ne=(te=(J=q.touches)==null?void 0:J.item(0))==null?void 0:te.clientX)!=null?ne:q.clientX,ye=s.value.getBoundingClientRect().left;he=(ce-ye)/e.sliderSize*100}if(!(he<0||he>100))return F(he)};return{elFormItem:i,slider:s,firstButton:l,secondButton:c,sliderDisabled:f,minValue:A,maxValue:m,runwayStyle:T,barStyle:E,resetSize:P,setPosition:F,emitChange:Q,onSliderWrapperPrevent:q=>{var W,ee;((W=a.firstButton.value)!=null&&W.dragging||(ee=a.secondButton.value)!=null&&ee.dragging)&&q.preventDefault()},onSliderClick:q=>{j(q)&&Q()},onSliderDown:async q=>{const W=j(q);W&&(await dr(),W.value.onButtonDown(q))},setFirstValue:R,setSecondValue:N}},{left:xqe,down:Cqe,right:Eqe,up:Sqe,home:Tqe,end:Bqe,pageUp:Mqe,pageDown:Iqe}=Tr,Lqe=(t,e,n)=>{const r=Te(),i=Te(!1),s=le(()=>e.value instanceof Function),l=le(()=>s.value&&e.value(t.modelValue)||t.modelValue),c=$h(()=>{n.value&&(i.value=!0)},50),a=$h(()=>{n.value&&(i.value=!1)},50);return{tooltip:r,tooltipVisible:i,formatValue:l,displayTooltip:c,hideTooltip:a}},Pqe=(t,e,n)=>{const{disabled:r,min:i,max:s,step:l,showTooltip:c,precision:a,sliderSize:f,formatTooltip:A,emitChange:m,resetSize:_,updateDragging:y}=ar(fse),{tooltip:T,tooltipVisible:E,formatValue:P,displayTooltip:I,hideTooltip:F}=Lqe(t,A,c),R=Te(),N=le(()=>`${(t.modelValue-i.value)/(s.value-i.value)*100}%`),z=le(()=>t.vertical?{bottom:N.value}:{left:N.value}),Q=()=>{e.hovering=!0,I()},j=()=>{e.hovering=!1,e.dragging||F()},H=se=>{r.value||(se.preventDefault(),he(se),window.addEventListener("mousemove",ce),window.addEventListener("touchmove",ce),window.addEventListener("mouseup",ye),window.addEventListener("touchend",ye),window.addEventListener("contextmenu",ye),R.value.focus())},K=se=>{r.value||(e.newPosition=Number.parseFloat(N.value)+se/(s.value-i.value)*100,Ee(e.newPosition),m())},ie=()=>{K(-l.value)},q=()=>{K(l.value)},W=()=>{K(-l.value*4)},ee=()=>{K(l.value*4)},ue=()=>{r.value||(Ee(0),m())},J=()=>{r.value||(Ee(100),m())},te=se=>{let oe=!0;[xqe,Cqe].includes(se.key)?ie():[Eqe,Sqe].includes(se.key)?q():se.key===Tqe?ue():se.key===Bqe?J():se.key===Iqe?W():se.key===Mqe?ee():oe=!1,oe&&se.preventDefault()},ne=se=>{let oe,_e;return se.type.startsWith("touch")?(_e=se.touches[0].clientY,oe=se.touches[0].clientX):(_e=se.clientY,oe=se.clientX),{clientX:oe,clientY:_e}},he=se=>{e.dragging=!0,e.isClick=!0;const{clientX:oe,clientY:_e}=ne(se);t.vertical?e.startY=_e:e.startX=oe,e.startPosition=Number.parseFloat(N.value),e.newPosition=e.startPosition},ce=se=>{if(e.dragging){e.isClick=!1,I(),_();let oe;const{clientX:_e,clientY:Ue}=ne(se);t.vertical?(e.currentY=Ue,oe=(e.startY-e.currentY)/f.value*100):(e.currentX=_e,oe=(e.currentX-e.startX)/f.value*100),e.newPosition=e.startPosition+oe,Ee(e.newPosition)}},ye=()=>{e.dragging&&(setTimeout(()=>{e.dragging=!1,e.hovering||F(),e.isClick||Ee(e.newPosition),m()},0),window.removeEventListener("mousemove",ce),window.removeEventListener("touchmove",ce),window.removeEventListener("mouseup",ye),window.removeEventListener("touchend",ye),window.removeEventListener("contextmenu",ye))},Ee=async se=>{if(se===null||Number.isNaN(+se))return;se<0?se=0:se>100&&(se=100);const oe=100/((s.value-i.value)/l.value);let Ue=Math.round(se/oe)*oe*(s.value-i.value)*.01+i.value;Ue=Number.parseFloat(Ue.toFixed(a.value)),Ue!==t.modelValue&&n(vi,Ue),!e.dragging&&t.modelValue!==e.oldValue&&(e.oldValue=t.modelValue),await dr(),e.dragging&&I(),T.value.updatePopper()};return un(()=>e.dragging,se=>{y(se)}),{disabled:r,button:R,tooltip:T,tooltipVisible:E,showTooltip:c,wrapperStyle:z,formatValue:P,handleMouseEnter:Q,handleMouseLeave:j,onButtonDown:H,onKeyDown:te,setPosition:Ee}},Fqe=(t,e,n,r)=>({stops:le(()=>{if(!t.showStops||t.min>t.max)return[];if(t.step===0)return[];const l=(t.max-t.min)/t.step,c=100*t.step/(t.max-t.min),a=Array.from({length:l-1}).map((f,A)=>(A+1)*c);return t.range?a.filter(f=>f<100*(n.value-t.min)/(t.max-t.min)||f>100*(r.value-t.min)/(t.max-t.min)):a.filter(f=>f>100*(e.firstValue-t.min)/(t.max-t.min))}),getStopStyle:l=>t.vertical?{bottom:`${l}%`}:{left:`${l}%`}}),kqe=(t,e,n,r,i,s)=>{const l=f=>{i(vi,f),i(nh,f)},c=()=>t.range?![n.value,r.value].every((f,A)=>f===e.oldValue[A]):t.modelValue!==e.oldValue,a=()=>{var f,A;t.min>t.max&&kl("Slider","min should not be greater than max.");const m=t.modelValue;t.range&&Array.isArray(m)?m[1]<t.min?l([t.min,t.min]):m[0]>t.max?l([t.max,t.max]):m[0]<t.min?l([t.min,m[1]]):m[1]>t.max?l([m[0],t.max]):(e.firstValue=m[0],e.secondValue=m[1],c()&&(t.validateEvent&&((f=s==null?void 0:s.validate)==null||f.call(s,"change").catch(_=>void 0)),e.oldValue=m.slice())):!t.range&&typeof m=="number"&&!Number.isNaN(m)&&(m<t.min?l(t.min):m>t.max?l(t.max):(e.firstValue=m,c()&&(t.validateEvent&&((A=s==null?void 0:s.validate)==null||A.call(s,"change").catch(_=>void 0)),e.oldValue=m)))};a(),un(()=>e.dragging,f=>{f||a()}),un(()=>t.modelValue,(f,A)=>{e.dragging||Array.isArray(f)&&Array.isArray(A)&&f.every((m,_)=>m===A[_])&&e.firstValue===f[0]&&e.secondValue===f[1]||a()},{deep:!0}),un(()=>[t.min,t.max],()=>{a()})},Rqe=Ln({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:yy,default:"top"}}),Oqe={[vi]:t=>Or(t)},Dqe=["tabindex"],Nqe=Be({name:"ElSliderButton"}),Uqe=Be({...Nqe,props:Rqe,emits:Oqe,setup(t,{expose:e,emit:n}){const r=t,i=vn("slider"),s=ua({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:r.modelValue}),{disabled:l,button:c,tooltip:a,showTooltip:f,tooltipVisible:A,wrapperStyle:m,formatValue:_,handleMouseEnter:y,handleMouseLeave:T,onButtonDown:E,onKeyDown:P,setPosition:I}=Pqe(r,s,n),{hovering:F,dragging:R}=zu(s);return e({onButtonDown:E,onKeyDown:P,setPosition:I,hovering:F,dragging:R}),(N,z)=>(X(),ve("div",{ref_key:"button",ref:c,class:Se([S(i).e("button-wrapper"),{hover:S(F),dragging:S(R)}]),style:or(S(m)),tabindex:S(l)?-1:0,onMouseenter:z[0]||(z[0]=(...Q)=>S(y)&&S(y)(...Q)),onMouseleave:z[1]||(z[1]=(...Q)=>S(T)&&S(T)(...Q)),onMousedown:z[2]||(z[2]=(...Q)=>S(E)&&S(E)(...Q)),onTouchstart:z[3]||(z[3]=(...Q)=>S(E)&&S(E)(...Q)),onFocus:z[4]||(z[4]=(...Q)=>S(y)&&S(y)(...Q)),onBlur:z[5]||(z[5]=(...Q)=>S(T)&&S(T)(...Q)),onKeydown:z[6]||(z[6]=(...Q)=>S(P)&&S(P)(...Q))},[ht(S(Dc),{ref_key:"tooltip",ref:a,visible:S(A),placement:N.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":N.tooltipClass,disabled:!S(f),persistent:""},{content:xt(()=>[pe("span",null,Cn(S(_)),1)]),default:xt(()=>[pe("div",{class:Se([S(i).e("button"),{hover:S(F),dragging:S(R)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled"])],46,Dqe))}});var nW=kn(Uqe,[["__file","button.vue"]]);const zqe=Ln({mark:{type:Rt([String,Object]),default:void 0}});var $qe=Be({name:"ElSliderMarker",props:zqe,setup(t){const e=vn("slider"),n=le(()=>Hr(t.mark)?t.mark:t.mark.label),r=le(()=>Hr(t.mark)?void 0:t.mark.style);return()=>wr("div",{class:e.e("marks-text"),style:r.value},n.value)}});const Vqe=["id","role","aria-label","aria-labelledby"],Hqe={key:1},Qqe=Be({name:"ElSlider"}),jqe=Be({...Qqe,props:vqe,emits:_qe,setup(t,{expose:e,emit:n}){const r=t,i=vn("slider"),{t:s}=ca(),l=ua({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:c,slider:a,firstButton:f,secondButton:A,sliderDisabled:m,minValue:_,maxValue:y,runwayStyle:T,barStyle:E,resetSize:P,emitChange:I,onSliderWrapperPrevent:F,onSliderClick:R,onSliderDown:N,setFirstValue:z,setSecondValue:Q}=wqe(r,l,n),{stops:j,getStopStyle:H}=Fqe(r,l,_,y),{inputId:K,isLabeledByFormItem:ie}=rA(r,{formItemContext:c}),q=hl(),W=le(()=>r.inputSize||q.value),ee=le(()=>r.label||r.ariaLabel||s("el.slider.defaultLabel",{min:r.min,max:r.max})),ue=le(()=>r.range?r.rangeStartLabel||s("el.slider.defaultRangeStartLabel"):ee.value),J=le(()=>r.formatValueText?r.formatValueText(se.value):`${se.value}`),te=le(()=>r.rangeEndLabel||s("el.slider.defaultRangeEndLabel")),ne=le(()=>r.formatValueText?r.formatValueText(oe.value):`${oe.value}`),he=le(()=>[i.b(),i.m(q.value),i.is("vertical",r.vertical),{[i.m("with-input")]:r.showInput}]),ce=bqe(r);kqe(r,l,_,y,n,c);const ye=le(()=>{const Le=[r.min,r.max,r.step].map(be=>{const Re=`${be}`.split(".")[1];return Re?Re.length:0});return Math.max.apply(null,Le)}),{sliderWrapper:Ee}=yqe(r,l,P),{firstValue:se,secondValue:oe,sliderSize:_e}=zu(l),Ue=Le=>{l.dragging=Le};return Ii(fse,{...zu(r),sliderSize:_e,disabled:m,precision:ye,emitChange:I,resetSize:P,updateDragging:Ue}),gu({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-slider",ref:"https://element-plus.org/en-US/component/slider.html"},le(()=>!!r.label)),e({onSliderClick:R}),(Le,be)=>{var Re,Qe;return X(),ve("div",{id:Le.range?S(K):void 0,ref_key:"sliderWrapper",ref:Ee,class:Se(S(he)),role:Le.range?"group":void 0,"aria-label":Le.range&&!S(ie)?S(ee):void 0,"aria-labelledby":Le.range&&S(ie)?(Re=S(c))==null?void 0:Re.labelId:void 0,onTouchstart:be[2]||(be[2]=(...Je)=>S(F)&&S(F)(...Je)),onTouchmove:be[3]||(be[3]=(...Je)=>S(F)&&S(F)(...Je))},[pe("div",{ref_key:"slider",ref:a,class:Se([S(i).e("runway"),{"show-input":Le.showInput&&!Le.range},S(i).is("disabled",S(m))]),style:or(S(T)),onMousedown:be[0]||(be[0]=(...Je)=>S(N)&&S(N)(...Je)),onTouchstart:be[1]||(be[1]=(...Je)=>S(N)&&S(N)(...Je))},[pe("div",{class:Se(S(i).e("bar")),style:or(S(E))},null,6),ht(nW,{id:Le.range?void 0:S(K),ref_key:"firstButton",ref:f,"model-value":S(se),vertical:Le.vertical,"tooltip-class":Le.tooltipClass,placement:Le.placement,role:"slider","aria-label":Le.range||!S(ie)?S(ue):void 0,"aria-labelledby":!Le.range&&S(ie)?(Qe=S(c))==null?void 0:Qe.labelId:void 0,"aria-valuemin":Le.min,"aria-valuemax":Le.range?S(oe):Le.max,"aria-valuenow":S(se),"aria-valuetext":S(J),"aria-orientation":Le.vertical?"vertical":"horizontal","aria-disabled":S(m),"onUpdate:modelValue":S(z)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),Le.range?(X(),Ut(nW,{key:0,ref_key:"secondButton",ref:A,"model-value":S(oe),vertical:Le.vertical,"tooltip-class":Le.tooltipClass,placement:Le.placement,role:"slider","aria-label":S(te),"aria-valuemin":S(se),"aria-valuemax":Le.max,"aria-valuenow":S(oe),"aria-valuetext":S(ne),"aria-orientation":Le.vertical?"vertical":"horizontal","aria-disabled":S(m),"onUpdate:modelValue":S(Q)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):bt("v-if",!0),Le.showStops?(X(),ve("div",Hqe,[(X(!0),ve(Vn,null,Yr(S(j),(Je,nt)=>(X(),ve("div",{key:nt,class:Se(S(i).e("stop")),style:or(S(H)(Je))},null,6))),128))])):bt("v-if",!0),S(ce).length>0?(X(),ve(Vn,{key:2},[pe("div",null,[(X(!0),ve(Vn,null,Yr(S(ce),(Je,nt)=>(X(),ve("div",{key:nt,style:or(S(H)(Je.position)),class:Se([S(i).e("stop"),S(i).e("marks-stop")])},null,6))),128))]),pe("div",{class:Se(S(i).e("marks"))},[(X(!0),ve(Vn,null,Yr(S(ce),(Je,nt)=>(X(),Ut(S($qe),{key:nt,mark:Je.mark,style:or(S(H)(Je.position))},null,8,["mark","style"]))),128))],2)],64)):bt("v-if",!0)],38),Le.showInput&&!Le.range?(X(),Ut(S(Uae),{key:0,ref:"input","model-value":S(se),class:Se(S(i).e("input")),step:Le.step,disabled:S(m),controls:Le.showInputControls,min:Le.min,max:Le.max,debounce:Le.debounce,size:S(W),"onUpdate:modelValue":S(z),onChange:S(I)},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):bt("v-if",!0)],42,Vqe)}}});var Gqe=kn(jqe,[["__file","slider.vue"]]);const Kqe=fi(Gqe),Wqe=Ln({prefixCls:{type:String}}),rW=Be({name:"ElSpaceItem",props:Wqe,setup(t,{slots:e}){const n=vn("space"),r=le(()=>`${t.prefixCls||n.b()}__item`);return()=>wr("div",{class:r.value},kt(e,"default"))}}),iW={small:8,default:12,large:16};function qqe(t){const e=vn("space"),n=le(()=>[e.b(),e.m(t.direction),t.class]),r=Te(0),i=Te(0),s=le(()=>{const c=t.wrap||t.fill?{flexWrap:"wrap"}:{},a={alignItems:t.alignment},f={rowGap:`${i.value}px`,columnGap:`${r.value}px`};return[c,a,f,t.style]}),l=le(()=>t.fill?{flexGrow:1,minWidth:`${t.fillRatio}%`}:{});return rc(()=>{const{size:c="small",wrap:a,direction:f,fill:A}=t;if(Jn(c)){const[m=0,_=0]=c;r.value=m,i.value=_}else{let m;Or(c)?m=c:m=iW[c||"small"]||iW.small,(a||A)&&f==="horizontal"?r.value=i.value=m:f==="horizontal"?(r.value=m,i.value=0):(i.value=m,r.value=0)}}),{classes:n,containerStyle:s,itemStyle:l}}const Yqe=Ln({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:Rt([String,Object,Array]),default:""},style:{type:Rt([String,Array,Object]),default:""},alignment:{type:Rt(String),default:"center"},prefixCls:{type:String},spacer:{type:Rt([Object,String,Number,Array]),default:null,validator:t=>js(t)||Or(t)||Hr(t)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:Sm,validator:t=>Or(t)||Jn(t)&&t.length===2&&t.every(Or)}}),Xqe=Be({name:"ElSpace",props:Yqe,setup(t,{slots:e}){const{classes:n,containerStyle:r,itemStyle:i}=qqe(t);function s(l,c="",a=[]){const{prefixCls:f}=t;return l.forEach((A,m)=>{yk(A)?Jn(A.children)&&A.children.forEach((_,y)=>{yk(_)&&Jn(_.children)?s(_.children,`${c+y}-`,a):a.push(ht(rW,{style:i.value,prefixCls:f,key:`nested-${c+y}`},{default:()=>[_]},hf.PROPS|hf.STYLE,["style","prefixCls"]))}):kFe(A)&&a.push(ht(rW,{style:i.value,prefixCls:f,key:`LoopKey${c+m}`},{default:()=>[A]},hf.PROPS|hf.STYLE,["style","prefixCls"]))}),a}return()=>{var l;const{spacer:c,direction:a}=t,f=kt(e,"default",{key:0},()=>[]);if(((l=f.children)!=null?l:[]).length===0)return null;if(Jn(f.children)){let A=s(f.children);if(c){const m=A.length-1;A=A.reduce((_,y,T)=>{const E=[..._,y];return T!==m&&E.push(ht("span",{style:[i.value,a==="vertical"?"width: 100%":null],key:T},[js(c)?c:wi(c,hf.TEXT)],hf.STYLE)),E},[])}return ht("div",{class:n.value,style:r.value},A,hf.STYLE|hf.CLASS)}return f.children}}}),Zqe=fi(Xqe),Jqe=Ln({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:Rt([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:Rt([String,Object,Array])}}),eYe=Be({name:"ElStatistic"}),tYe=Be({...eYe,props:Jqe,setup(t,{expose:e}){const n=t,r=vn("statistic"),i=le(()=>{const{value:s,formatter:l,precision:c,decimalSeparator:a,groupSeparator:f}=n;if(Dr(l))return l(s);if(!Or(s))return s;let[A,m=""]=String(s).split(".");return m=m.padEnd(c,"0").slice(0,c>0?c:0),A=A.replace(/\B(?=(\d{3})+(?!\d))/g,f),[A,m].join(m?a:"")});return e({displayValue:i}),(s,l)=>(X(),ve("div",{class:Se(S(r).b())},[s.$slots.title||s.title?(X(),ve("div",{key:0,class:Se(S(r).e("head"))},[kt(s.$slots,"title",{},()=>[wi(Cn(s.title),1)])],2)):bt("v-if",!0),pe("div",{class:Se(S(r).e("content"))},[s.$slots.prefix||s.prefix?(X(),ve("div",{key:0,class:Se(S(r).e("prefix"))},[kt(s.$slots,"prefix",{},()=>[pe("span",null,Cn(s.prefix),1)])],2)):bt("v-if",!0),pe("span",{class:Se(S(r).e("number")),style:or(s.valueStyle)},Cn(S(i)),7),s.$slots.suffix||s.suffix?(X(),ve("div",{key:1,class:Se(S(r).e("suffix"))},[kt(s.$slots,"suffix",{},()=>[pe("span",null,Cn(s.suffix),1)])],2)):bt("v-if",!0)],2)],2))}});var nYe=kn(tYe,[["__file","statistic.vue"]]);const pse=fi(nYe),rYe=Ln({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:Rt([Number,Object]),default:0},valueStyle:{type:Rt([String,Object,Array])}}),iYe={finish:()=>!0,[_s]:t=>Or(t)},aYe=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],aW=t=>Or(t)?new Date(t).getTime():t.valueOf(),sW=(t,e)=>{let n=t;const r=/\[([^\]]*)]/g;return aYe.reduce((s,[l,c])=>{const a=new RegExp(`${l}+(?![^\\[\\]]*\\])`,"g");if(a.test(s)){const f=Math.floor(n/c);return n-=f*c,s.replace(a,A=>String(f).padStart(A.length,"0"))}return s},e).replace(r,"$1")},sYe=Be({name:"ElCountdown"}),oYe=Be({...sYe,props:rYe,emits:iYe,setup(t,{expose:e,emit:n}){const r=t;let i;const s=Te(aW(r.value)-Date.now()),l=le(()=>sW(s.value,r.format)),c=A=>sW(A,r.format),a=()=>{i&&(ny(i),i=void 0)},f=()=>{const A=aW(r.value),m=()=>{let _=A-Date.now();n("change",_),_<=0?(_=0,a(),n("finish")):i=Yv(m),s.value=_};i=Yv(m)};return un(()=>[r.value,r.format],()=>{a(),f()},{immediate:!0}),ds(()=>{a()}),e({displayValue:l}),(A,m)=>(X(),Ut(S(pse),{value:s.value,title:A.title,prefix:A.prefix,suffix:A.suffix,"value-style":A.valueStyle,formatter:c},Ro({_:2},[Yr(A.$slots,(_,y)=>({name:y,fn:xt(()=>[kt(A.$slots,y)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var lYe=kn(oYe,[["__file","countdown.vue"]]);const uYe=fi(lYe),cYe=Ln({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),hYe={[_s]:(t,e)=>[t,e].every(Or)},dYe=Be({name:"ElSteps"}),fYe=Be({...dYe,props:cYe,emits:hYe,setup(t,{emit:e}){const n=t,r=vn("steps"),{children:i,addChild:s,removeChild:l}=d9(ci(),"ElStep");return un(i,()=>{i.value.forEach((c,a)=>{c.setIndex(a)})}),Ii("ElSteps",{props:n,steps:i,addStep:s,removeStep:l}),un(()=>n.active,(c,a)=>{e(_s,c,a)}),(c,a)=>(X(),ve("div",{class:Se([S(r).b(),S(r).m(c.simple?"simple":c.direction)])},[kt(c.$slots,"default")],2))}});var pYe=kn(fYe,[["__file","steps.vue"]]);const AYe=Ln({title:{type:String,default:""},icon:{type:Ja},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),mYe=Be({name:"ElStep"}),gYe=Be({...mYe,props:AYe,setup(t){const e=t,n=vn("step"),r=Te(-1),i=Te({}),s=Te(""),l=ar("ElSteps"),c=ci();kr(()=>{un([()=>l.props.active,()=>l.props.processStatus,()=>l.props.finishStatus],([Q])=>{N(Q)},{immediate:!0})}),ds(()=>{l.removeStep(z.uid)});const a=le(()=>e.status||s.value),f=le(()=>{const Q=l.steps.value[r.value-1];return Q?Q.currentStatus:"wait"}),A=le(()=>l.props.alignCenter),m=le(()=>l.props.direction==="vertical"),_=le(()=>l.props.simple),y=le(()=>l.steps.value.length),T=le(()=>{var Q;return((Q=l.steps.value[y.value-1])==null?void 0:Q.uid)===(c==null?void 0:c.uid)}),E=le(()=>_.value?"":l.props.space),P=le(()=>[n.b(),n.is(_.value?"simple":l.props.direction),n.is("flex",T.value&&!E.value&&!A.value),n.is("center",A.value&&!m.value&&!_.value)]),I=le(()=>{const Q={flexBasis:Or(E.value)?`${E.value}px`:E.value?E.value:`${100/(y.value-(A.value?0:1))}%`};return m.value||T.value&&(Q.maxWidth=`${100/y.value}%`),Q}),F=Q=>{r.value=Q},R=Q=>{const j=Q==="wait",H={transitionDelay:`${j?"-":""}${150*r.value}ms`},K=Q===l.props.processStatus||j?0:100;H.borderWidth=K&&!_.value?"1px":0,H[l.props.direction==="vertical"?"height":"width"]=`${K}%`,i.value=H},N=Q=>{Q>r.value?s.value=l.props.finishStatus:Q===r.value&&f.value!=="error"?s.value=l.props.processStatus:s.value="wait";const j=l.steps.value[r.value-1];j&&j.calcProgress(s.value)},z=ua({uid:c.uid,currentStatus:a,setIndex:F,calcProgress:R});return l.addStep(z),(Q,j)=>(X(),ve("div",{style:or(S(I)),class:Se(S(P))},[bt(" icon & line "),pe("div",{class:Se([S(n).e("head"),S(n).is(S(a))])},[S(_)?bt("v-if",!0):(X(),ve("div",{key:0,class:Se(S(n).e("line"))},[pe("i",{class:Se(S(n).e("line-inner")),style:or(i.value)},null,6)],2)),pe("div",{class:Se([S(n).e("icon"),S(n).is(Q.icon||Q.$slots.icon?"icon":"text")])},[kt(Q.$slots,"icon",{},()=>[Q.icon?(X(),Ut(S(Ar),{key:0,class:Se(S(n).e("icon-inner"))},{default:xt(()=>[(X(),Ut(di(Q.icon)))]),_:1},8,["class"])):S(a)==="success"?(X(),Ut(S(Ar),{key:1,class:Se([S(n).e("icon-inner"),S(n).is("status")])},{default:xt(()=>[ht(S(I2))]),_:1},8,["class"])):S(a)==="error"?(X(),Ut(S(Ar),{key:2,class:Se([S(n).e("icon-inner"),S(n).is("status")])},{default:xt(()=>[ht(S(Tf))]),_:1},8,["class"])):S(_)?bt("v-if",!0):(X(),ve("div",{key:3,class:Se(S(n).e("icon-inner"))},Cn(r.value+1),3))])],2)],2),bt(" title & description "),pe("div",{class:Se(S(n).e("main"))},[pe("div",{class:Se([S(n).e("title"),S(n).is(S(a))])},[kt(Q.$slots,"title",{},()=>[wi(Cn(Q.title),1)])],2),S(_)?(X(),ve("div",{key:0,class:Se(S(n).e("arrow"))},null,2)):(X(),ve("div",{key:1,class:Se([S(n).e("description"),S(n).is(S(a))])},[kt(Q.$slots,"description",{},()=>[wi(Cn(Q.description),1)])],2))],2)],6))}});var Ase=kn(gYe,[["__file","item.vue"]]);const vYe=fi(pYe,{Step:Ase}),_Ye=ro(Ase),yYe=Ln({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},size:{type:String,validator:gre},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},inactiveActionIcon:{type:Ja},activeActionIcon:{type:Ja},activeIcon:{type:Ja},inactiveIcon:{type:Ja},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:Rt(Function)},id:String,tabindex:{type:[String,Number]},label:{type:String,default:void 0},...Vu(["ariaLabel"])}),bYe={[vi]:t=>qo(t)||Hr(t)||Or(t),[_s]:t=>qo(t)||Hr(t)||Or(t),[nh]:t=>qo(t)||Hr(t)||Or(t)},wYe=["onClick"],xYe=["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"],CYe=["aria-hidden"],EYe=["aria-hidden"],SYe=["aria-hidden"],mse="ElSwitch",TYe=Be({name:mse}),BYe=Be({...TYe,props:yYe,emits:bYe,setup(t,{expose:e,emit:n}){const r=t,{formItem:i}=Nc(),s=hl(),l=vn("switch"),{inputId:c}=rA(r,{formItemContext:i}),a=oh(le(()=>r.loading)),f=Te(r.modelValue!==!1),A=Te(),m=Te(),_=le(()=>[l.b(),l.m(s.value),l.is("disabled",a.value),l.is("checked",I.value)]),y=le(()=>[l.e("label"),l.em("label","left"),l.is("active",!I.value)]),T=le(()=>[l.e("label"),l.em("label","right"),l.is("active",I.value)]),E=le(()=>({width:Co(r.width)}));un(()=>r.modelValue,()=>{f.value=!0});const P=le(()=>f.value?r.modelValue:!1),I=le(()=>P.value===r.activeValue);[r.activeValue,r.inactiveValue].includes(P.value)||(n(vi,r.inactiveValue),n(_s,r.inactiveValue),n(nh,r.inactiveValue)),un(I,z=>{var Q;A.value.checked=z,r.validateEvent&&((Q=i==null?void 0:i.validate)==null||Q.call(i,"change").catch(j=>void 0))});const F=()=>{const z=I.value?r.inactiveValue:r.activeValue;n(vi,z),n(_s,z),n(nh,z),dr(()=>{A.value.checked=I.value})},R=()=>{if(a.value)return;const{beforeChange:z}=r;if(!z){F();return}const Q=z();[mC(Q),qo(Q)].includes(!0)||kl(mse,"beforeChange must return type `Promise<boolean>` or `boolean`"),mC(Q)?Q.then(H=>{H&&F()}).catch(H=>{}):Q&&F()},N=()=>{var z,Q;(Q=(z=A.value)==null?void 0:z.focus)==null||Q.call(z)};return kr(()=>{A.value.checked=I.value}),gu({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-switch",ref:"https://element-plus.org/en-US/component/switch.html"},le(()=>!!r.label)),e({focus:N,checked:I}),(z,Q)=>(X(),ve("div",{class:Se(S(_)),onClick:Fr(R,["prevent"])},[pe("input",{id:S(c),ref_key:"input",ref:A,class:Se(S(l).e("input")),type:"checkbox",role:"switch","aria-checked":S(I),"aria-disabled":S(a),"aria-label":z.label||z.ariaLabel,name:z.name,"true-value":z.activeValue,"false-value":z.inactiveValue,disabled:S(a),tabindex:z.tabindex,onChange:F,onKeydown:Qa(R,["enter"])},null,42,xYe),!z.inlinePrompt&&(z.inactiveIcon||z.inactiveText)?(X(),ve("span",{key:0,class:Se(S(y))},[z.inactiveIcon?(X(),Ut(S(Ar),{key:0},{default:xt(()=>[(X(),Ut(di(z.inactiveIcon)))]),_:1})):bt("v-if",!0),!z.inactiveIcon&&z.inactiveText?(X(),ve("span",{key:1,"aria-hidden":S(I)},Cn(z.inactiveText),9,CYe)):bt("v-if",!0)],2)):bt("v-if",!0),pe("span",{ref_key:"core",ref:m,class:Se(S(l).e("core")),style:or(S(E))},[z.inlinePrompt?(X(),ve("div",{key:0,class:Se(S(l).e("inner"))},[z.activeIcon||z.inactiveIcon?(X(),Ut(S(Ar),{key:0,class:Se(S(l).is("icon"))},{default:xt(()=>[(X(),Ut(di(S(I)?z.activeIcon:z.inactiveIcon)))]),_:1},8,["class"])):z.activeText||z.inactiveText?(X(),ve("span",{key:1,class:Se(S(l).is("text")),"aria-hidden":!S(I)},Cn(S(I)?z.activeText:z.inactiveText),11,EYe)):bt("v-if",!0)],2)):bt("v-if",!0),pe("div",{class:Se(S(l).e("action"))},[z.loading?(X(),Ut(S(Ar),{key:0,class:Se(S(l).is("loading"))},{default:xt(()=>[ht(S(l0))]),_:1},8,["class"])):S(I)?kt(z.$slots,"active-action",{key:1},()=>[z.activeActionIcon?(X(),Ut(S(Ar),{key:0},{default:xt(()=>[(X(),Ut(di(z.activeActionIcon)))]),_:1})):bt("v-if",!0)]):S(I)?bt("v-if",!0):kt(z.$slots,"inactive-action",{key:2},()=>[z.inactiveActionIcon?(X(),Ut(S(Ar),{key:0},{default:xt(()=>[(X(),Ut(di(z.inactiveActionIcon)))]),_:1})):bt("v-if",!0)])],2)],6),!z.inlinePrompt&&(z.activeIcon||z.activeText)?(X(),ve("span",{key:1,class:Se(S(T))},[z.activeIcon?(X(),Ut(S(Ar),{key:0},{default:xt(()=>[(X(),Ut(di(z.activeIcon)))]),_:1})):bt("v-if",!0),!z.activeIcon&&z.activeText?(X(),ve("span",{key:1,"aria-hidden":!S(I)},Cn(z.activeText),9,SYe)):bt("v-if",!0)],2)):bt("v-if",!0)],10,wYe))}});var MYe=kn(BYe,[["__file","switch.vue"]]);const IYe=fi(MYe),OL=function(t){var e;return(e=t.target)==null?void 0:e.closest("td")},LYe=function(t,e,n,r,i){if(!e&&!r&&(!i||Array.isArray(i)&&!i.length))return t;typeof n=="string"?n=n==="descending"?-1:1:n=n&&n<0?-1:1;const s=r?null:function(c,a){return i?(Array.isArray(i)||(i=[i]),i.map(f=>typeof f=="string"?Fo(c,f):f(c,a,t))):(e!=="$key"&&Ai(c)&&"$value"in c&&(c=c.$value),[Ai(c)?Fo(c,e):c])},l=function(c,a){if(r)return r(c.value,a.value);for(let f=0,A=c.key.length;f<A;f++){if(c.key[f]<a.key[f])return-1;if(c.key[f]>a.key[f])return 1}return 0};return t.map((c,a)=>({value:c,index:a,key:s?s(c,a):null})).sort((c,a)=>{let f=l(c,a);return f||(f=c.index-a.index),f*+n}).map(c=>c.value)},gse=function(t,e){let n=null;return t.columns.forEach(r=>{r.id===e&&(n=r)}),n},PYe=function(t,e){let n=null;for(let r=0;r<t.columns.length;r++){const i=t.columns[r];if(i.columnKey===e){n=i;break}}return n||kl("ElTable",`No column matching with column-key: ${e}`),n},oW=function(t,e,n){const r=(e.className||"").match(new RegExp(`${n}-table_[^\\s]+`,"gm"));return r?gse(t,r[0]):null},ec=(t,e)=>{if(!t)throw new Error("Row is required when get row identity");if(typeof e=="string"){if(!e.includes("."))return`${t[e]}`;const n=e.split(".");let r=t;for(const i of n)r=r[i];return`${r}`}else if(typeof e=="function")return e.call(null,t)},B_=function(t,e){const n={};return(t||[]).forEach((r,i)=>{n[ec(r,e)]={row:r,index:i}}),n};function FYe(t,e){const n={};let r;for(r in t)n[r]=t[r];for(r in e)if(ra(e,r)){const i=e[r];typeof i<"u"&&(n[r]=i)}return n}function D9(t){return t===""||t!==void 0&&(t=Number.parseInt(t,10),Number.isNaN(t)&&(t="")),t}function vse(t){return t===""||t!==void 0&&(t=D9(t),Number.isNaN(t)&&(t=80)),t}function kYe(t){return typeof t=="number"?t:typeof t=="string"?/^\d+(?:px)?$/.test(t)?Number.parseInt(t,10):t:null}function RYe(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function q4(t,e,n){let r=!1;const i=t.indexOf(e),s=i!==-1,l=c=>{c==="add"?t.push(e):t.splice(i,1),r=!0,Jn(e.children)&&e.children.forEach(a=>{q4(t,a,n??!s)})};return qo(n)?n&&!s?l("add"):!n&&s&&l("remove"):l(s?"remove":"add"),r}function OYe(t,e,n="children",r="hasChildren"){const i=l=>!(Array.isArray(l)&&l.length);function s(l,c,a){e(l,c,a),c.forEach(f=>{if(f[r]){e(f,null,a+1);return}const A=f[n];i(A)||s(f,A,a+1)})}t.forEach(l=>{if(l[r]){e(l,null,0);return}const c=l[n];i(c)||s(l,c,0)})}let lf=null;function DYe(t,e,n,r){if((lf==null?void 0:lf.trigger)===n)return;lf==null||lf();const i=r==null?void 0:r.refs.tableWrapper,s=i==null?void 0:i.dataset.prefix,l={strategy:"fixed",...t.popperOptions},c=ht(Dc,{content:e,virtualTriggering:!0,virtualRef:n,appendTo:i,placement:"top",transition:"none",offset:0,hideAfter:0,...t,popperOptions:l,onHide:()=>{lf==null||lf()}});c.appContext={...r.appContext,...r};const a=document.createElement("div");fm(c,a),c.component.exposed.onOpen();const f=i==null?void 0:i.querySelector(`.${s}-scrollbar__wrap`);lf=()=>{fm(null,a),f==null||f.removeEventListener("scroll",lf),lf=null},lf.trigger=n,f==null||f.addEventListener("scroll",lf)}function _se(t){return t.children?tEe(t.children,_se):[t]}function lW(t,e){return t+e.colSpan}const yse=(t,e,n,r)=>{let i=0,s=t;const l=n.states.columns.value;if(r){const a=_se(r[t]);i=l.slice(0,l.indexOf(a[0])).reduce(lW,0),s=i+a.reduce(lW,0)-1}else i=t;let c;switch(e){case"left":s<n.states.fixedLeafColumnsLength.value&&(c="left");break;case"right":i>=l.length-n.states.rightFixedLeafColumnsLength.value&&(c="right");break;default:s<n.states.fixedLeafColumnsLength.value?c="left":i>=l.length-n.states.rightFixedLeafColumnsLength.value&&(c="right")}return c?{direction:c,start:i,after:s}:{}},N9=(t,e,n,r,i,s=0)=>{const l=[],{direction:c,start:a,after:f}=yse(e,n,r,i);if(c){const A=c==="left";l.push(`${t}-fixed-column--${c}`),A&&f+s===r.states.fixedLeafColumnsLength.value-1?l.push("is-last-column"):!A&&a-s===r.states.columns.value.length-r.states.rightFixedLeafColumnsLength.value&&l.push("is-first-column")}return l};function uW(t,e){return t+(e.realWidth===null||Number.isNaN(e.realWidth)?Number(e.width):e.realWidth)}const U9=(t,e,n,r)=>{const{direction:i,start:s=0,after:l=0}=yse(t,e,n,r);if(!i)return;const c={},a=i==="left",f=n.states.columns.value;return a?c.left=f.slice(0,s).reduce(uW,0):c.right=f.slice(l+1).reverse().reduce(uW,0),c},u2=(t,e)=>{t&&(Number.isNaN(t[e])||(t[e]=`${t[e]}px`))};function NYe(t){const e=ci(),n=Te(!1),r=Te([]);return{updateExpandRows:()=>{const a=t.data.value||[],f=t.rowKey.value;if(n.value)r.value=a.slice();else if(f){const A=B_(r.value,f);r.value=a.reduce((m,_)=>{const y=ec(_,f);return A[y]&&m.push(_),m},[])}else r.value=[]},toggleRowExpansion:(a,f)=>{q4(r.value,a,f)&&e.emit("expand-change",a,r.value.slice())},setExpandRowKeys:a=>{e.store.assertRowKey();const f=t.data.value||[],A=t.rowKey.value,m=B_(f,A);r.value=a.reduce((_,y)=>{const T=m[y];return T&&_.push(T.row),_},[])},isRowExpanded:a=>{const f=t.rowKey.value;return f?!!B_(r.value,f)[ec(a,f)]:r.value.includes(a)},states:{expandRows:r,defaultExpandAll:n}}}function UYe(t){const e=ci(),n=Te(null),r=Te(null),i=f=>{e.store.assertRowKey(),n.value=f,l(f)},s=()=>{n.value=null},l=f=>{const{data:A,rowKey:m}=t;let _=null;m.value&&(_=(S(A)||[]).find(y=>ec(y,m.value)===f)),r.value=_,e.emit("current-change",r.value,null)};return{setCurrentRowKey:i,restoreCurrentRowKey:s,setCurrentRowByKey:l,updateCurrentRow:f=>{const A=r.value;if(f&&f!==A){r.value=f,e.emit("current-change",r.value,A);return}!f&&A&&(r.value=null,e.emit("current-change",null,A))},updateCurrentRowData:()=>{const f=t.rowKey.value,A=t.data.value||[],m=r.value;if(!A.includes(m)&&m){if(f){const _=ec(m,f);l(_)}else r.value=null;r.value===null&&e.emit("current-change",null,m)}else n.value&&(l(n.value),s())},states:{_currentRowKey:n,currentRow:r}}}function zYe(t){const e=Te([]),n=Te({}),r=Te(16),i=Te(!1),s=Te({}),l=Te("hasChildren"),c=Te("children"),a=ci(),f=le(()=>{if(!t.rowKey.value)return{};const I=t.data.value||[];return m(I)}),A=le(()=>{const I=t.rowKey.value,F=Object.keys(s.value),R={};return F.length&&F.forEach(N=>{if(s.value[N].length){const z={children:[]};s.value[N].forEach(Q=>{const j=ec(Q,I);z.children.push(j),Q[l.value]&&!R[j]&&(R[j]={children:[]})}),R[N]=z}}),R}),m=I=>{const F=t.rowKey.value,R={};return OYe(I,(N,z,Q)=>{const j=ec(N,F);Array.isArray(z)?R[j]={children:z.map(H=>ec(H,F)),level:Q}:i.value&&(R[j]={children:[],lazy:!0,level:Q})},c.value,l.value),R},_=(I=!1,F=(R=>(R=a.store)==null?void 0:R.states.defaultExpandAll.value)())=>{var R;const N=f.value,z=A.value,Q=Object.keys(N),j={};if(Q.length){const H=S(n),K=[],ie=(W,ee)=>{if(I)return e.value?F||e.value.includes(ee):!!(F||W!=null&&W.expanded);{const ue=F||e.value&&e.value.includes(ee);return!!(W!=null&&W.expanded||ue)}};Q.forEach(W=>{const ee=H[W],ue={...N[W]};if(ue.expanded=ie(ee,W),ue.lazy){const{loaded:J=!1,loading:te=!1}=ee||{};ue.loaded=!!J,ue.loading=!!te,K.push(W)}j[W]=ue});const q=Object.keys(z);i.value&&q.length&&K.length&&q.forEach(W=>{const ee=H[W],ue=z[W].children;if(K.includes(W)){if(j[W].children.length!==0)throw new Error("[ElTable]children must be an empty array.");j[W].children=ue}else{const{loaded:J=!1,loading:te=!1}=ee||{};j[W]={lazy:!0,loaded:!!J,loading:!!te,expanded:ie(ee,W),children:ue,level:""}}})}n.value=j,(R=a.store)==null||R.updateTableScrollY()};un(()=>e.value,()=>{_(!0)}),un(()=>f.value,()=>{_()}),un(()=>A.value,()=>{_()});const y=I=>{e.value=I,_()},T=(I,F)=>{a.store.assertRowKey();const R=t.rowKey.value,N=ec(I,R),z=N&&n.value[N];if(N&&z&&"expanded"in z){const Q=z.expanded;F=typeof F>"u"?!z.expanded:F,n.value[N].expanded=F,Q!==F&&a.emit("expand-change",I,F),a.store.updateTableScrollY()}},E=I=>{a.store.assertRowKey();const F=t.rowKey.value,R=ec(I,F),N=n.value[R];i.value&&N&&"loaded"in N&&!N.loaded?P(I,R,N):T(I,void 0)},P=(I,F,R)=>{const{load:N}=a.props;N&&!n.value[F].loaded&&(n.value[F].loading=!0,N(I,R,z=>{if(!Array.isArray(z))throw new TypeError("[ElTable] data must be an array");n.value[F].loading=!1,n.value[F].loaded=!0,n.value[F].expanded=!0,z.length&&(s.value[F]=z),a.emit("expand-change",I,!0)}))};return{loadData:P,loadOrToggle:E,toggleTreeExpansion:T,updateTreeExpandKeys:y,updateTreeData:_,normalize:m,states:{expandRowKeys:e,treeData:n,indent:r,lazy:i,lazyTreeNodeMap:s,lazyColumnIdentifier:l,childrenColumnName:c}}}const $Ye=(t,e)=>{const n=e.sortingColumn;return!n||typeof n.sortable=="string"?t:LYe(t,e.sortProp,e.sortOrder,n.sortMethod,n.sortBy)},CS=t=>{const e=[];return t.forEach(n=>{n.children&&n.children.length>0?e.push.apply(e,CS(n.children)):e.push(n)}),e};function VYe(){var t;const e=ci(),{size:n}=zu((t=e.proxy)==null?void 0:t.$props),r=Te(null),i=Te([]),s=Te([]),l=Te(!1),c=Te([]),a=Te([]),f=Te([]),A=Te([]),m=Te([]),_=Te([]),y=Te([]),T=Te([]),E=[],P=Te(0),I=Te(0),F=Te(0),R=Te(!1),N=Te([]),z=Te(!1),Q=Te(!1),j=Te(null),H=Te({}),K=Te(null),ie=Te(null),q=Te(null),W=Te(null),ee=Te(null);un(i,()=>e.state&&ne(!1),{deep:!0});const ue=()=>{if(!r.value)throw new Error("[ElTable] prop row-key is required")},J=It=>{var Xe;(Xe=It.children)==null||Xe.forEach(Pt=>{Pt.fixed=It.fixed,J(Pt)})},te=()=>{c.value.forEach(it=>{J(it)}),A.value=c.value.filter(it=>it.fixed===!0||it.fixed==="left"),m.value=c.value.filter(it=>it.fixed==="right"),A.value.length>0&&c.value[0]&&c.value[0].type==="selection"&&!c.value[0].fixed&&(c.value[0].fixed=!0,A.value.unshift(c.value[0]));const It=c.value.filter(it=>!it.fixed);a.value=[].concat(A.value).concat(It).concat(m.value);const Xe=CS(It),Pt=CS(A.value),Bt=CS(m.value);P.value=Xe.length,I.value=Pt.length,F.value=Bt.length,f.value=[].concat(Pt).concat(Xe).concat(Bt),l.value=A.value.length>0||m.value.length>0},ne=(It,Xe=!1)=>{It&&te(),Xe?e.state.doLayout():e.state.debouncedUpdateLayout()},he=It=>N.value.includes(It),ce=()=>{R.value=!1,N.value.length&&(N.value=[],e.emit("selection-change",[]))},ye=()=>{let It;if(r.value){It=[];const Xe=B_(N.value,r.value),Pt=B_(i.value,r.value);for(const Bt in Xe)ra(Xe,Bt)&&!Pt[Bt]&&It.push(Xe[Bt].row)}else It=N.value.filter(Xe=>!i.value.includes(Xe));if(It.length){const Xe=N.value.filter(Pt=>!It.includes(Pt));N.value=Xe,e.emit("selection-change",Xe.slice())}},Ee=()=>(N.value||[]).slice(),se=(It,Xe=void 0,Pt=!0)=>{if(q4(N.value,It,Xe)){const it=(N.value||[]).slice();Pt&&e.emit("select",it,It),e.emit("selection-change",it)}},oe=()=>{var It,Xe;const Pt=Q.value?!R.value:!(R.value||N.value.length);R.value=Pt;let Bt=!1,it=0;const Mt=(Xe=(It=e==null?void 0:e.store)==null?void 0:It.states)==null?void 0:Xe.rowKey.value;i.value.forEach((at,et)=>{const St=et+it;j.value?j.value.call(null,at,St)&&q4(N.value,at,Pt)&&(Bt=!0):q4(N.value,at,Pt)&&(Bt=!0),it+=Le(ec(at,Mt))}),Bt&&e.emit("selection-change",N.value?N.value.slice():[]),e.emit("select-all",N.value)},_e=()=>{const It=B_(N.value,r.value);i.value.forEach(Xe=>{const Pt=ec(Xe,r.value),Bt=It[Pt];Bt&&(N.value[Bt.index]=Xe)})},Ue=()=>{var It,Xe,Pt;if(((It=i.value)==null?void 0:It.length)===0){R.value=!1;return}let Bt;r.value&&(Bt=B_(N.value,r.value));const it=function(St){return Bt?!!Bt[ec(St,r.value)]:N.value.includes(St)};let Mt=!0,at=0,et=0;for(let St=0,sn=(i.value||[]).length;St<sn;St++){const bn=(Pt=(Xe=e==null?void 0:e.store)==null?void 0:Xe.states)==null?void 0:Pt.rowKey.value,gr=St+et,tr=i.value[St],Nn=j.value&&j.value.call(null,tr,gr);if(it(tr))at++;else if(!j.value||Nn){Mt=!1;break}et+=Le(ec(tr,bn))}at===0&&(Mt=!1),R.value=Mt},Le=It=>{var Xe;if(!e||!e.store)return 0;const{treeData:Pt}=e.store.states;let Bt=0;const it=(Xe=Pt.value[It])==null?void 0:Xe.children;return it&&(Bt+=it.length,it.forEach(Mt=>{Bt+=Le(Mt)})),Bt},be=(It,Xe)=>{Array.isArray(It)||(It=[It]);const Pt={};return It.forEach(Bt=>{H.value[Bt.id]=Xe,Pt[Bt.columnKey||Bt.id]=Xe}),Pt},Re=(It,Xe,Pt)=>{ie.value&&ie.value!==It&&(ie.value.order=null),ie.value=It,q.value=Xe,W.value=Pt},Qe=()=>{let It=S(s);Object.keys(H.value).forEach(Xe=>{const Pt=H.value[Xe];if(!Pt||Pt.length===0)return;const Bt=gse({columns:f.value},Xe);Bt&&Bt.filterMethod&&(It=It.filter(it=>Pt.some(Mt=>Bt.filterMethod.call(null,Mt,it,Bt))))}),K.value=It},Je=()=>{i.value=$Ye(K.value,{sortingColumn:ie.value,sortProp:q.value,sortOrder:W.value})},nt=(It=void 0)=>{It&&It.filter||Qe(),Je()},Ve=It=>{const{tableHeaderRef:Xe}=e.refs;if(!Xe)return;const Pt=Object.assign({},Xe.filterPanels),Bt=Object.keys(Pt);if(Bt.length)if(typeof It=="string"&&(It=[It]),Array.isArray(It)){const it=It.map(Mt=>PYe({columns:f.value},Mt));Bt.forEach(Mt=>{const at=it.find(et=>et.id===Mt);at&&(at.filteredValue=[])}),e.store.commit("filterChange",{column:it,values:[],silent:!0,multi:!0})}else Bt.forEach(it=>{const Mt=f.value.find(at=>at.id===it);Mt&&(Mt.filteredValue=[])}),H.value={},e.store.commit("filterChange",{column:{},values:[],silent:!0})},Pe=()=>{ie.value&&(Re(null,null,null),e.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:Ge,toggleRowExpansion:Ne,updateExpandRows:je,states:Ye,isRowExpanded:vt}=NYe({data:i,rowKey:r}),{updateTreeExpandKeys:Lt,toggleTreeExpansion:Et,updateTreeData:Vt,loadOrToggle:_t,states:qt}=zYe({data:i,rowKey:r}),{updateCurrentRowData:tn,updateCurrentRow:Nt,setCurrentRowKey:wt,states:De}=UYe({data:i,rowKey:r});return{assertRowKey:ue,updateColumns:te,scheduleLayout:ne,isSelected:he,clearSelection:ce,cleanSelection:ye,getSelectionRows:Ee,toggleRowSelection:se,_toggleAllSelection:oe,toggleAllSelection:null,updateSelectionByRowKey:_e,updateAllSelected:Ue,updateFilters:be,updateCurrentRow:Nt,updateSort:Re,execFilter:Qe,execSort:Je,execQuery:nt,clearFilter:Ve,clearSort:Pe,toggleRowExpansion:Ne,setExpandRowKeysAdapter:It=>{Ge(It),Lt(It)},setCurrentRowKey:wt,toggleRowExpansionAdapter:(It,Xe)=>{f.value.some(({type:Bt})=>Bt==="expand")?Ne(It,Xe):Et(It,Xe)},isRowExpanded:vt,updateExpandRows:je,updateCurrentRowData:tn,loadOrToggle:_t,updateTreeData:Vt,states:{tableSize:n,rowKey:r,data:i,_data:s,isComplex:l,_columns:c,originColumns:a,columns:f,fixedColumns:A,rightFixedColumns:m,leafColumns:_,fixedLeafColumns:y,rightFixedLeafColumns:T,updateOrderFns:E,leafColumnsLength:P,fixedLeafColumnsLength:I,rightFixedLeafColumnsLength:F,isAllSelected:R,selection:N,reserveSelection:z,selectOnIndeterminate:Q,selectable:j,filters:H,filteredData:K,sortingColumn:ie,sortProp:q,sortOrder:W,hoverRow:ee,...Ye,...qt,...De}}}function aR(t,e){return t.map(n=>{var r;return n.id===e.id?e:((r=n.children)!=null&&r.length&&(n.children=aR(n.children,e)),n)})}function sR(t){t.forEach(e=>{var n,r;e.no=(n=e.getColumnIndex)==null?void 0:n.call(e),(r=e.children)!=null&&r.length&&sR(e.children)}),t.sort((e,n)=>e.no-n.no)}function HYe(){const t=ci(),e=VYe();return{ns:vn("table"),...e,mutations:{setData(l,c){const a=S(l._data)!==c;l.data.value=c,l._data.value=c,t.store.execQuery(),t.store.updateCurrentRowData(),t.store.updateExpandRows(),t.store.updateTreeData(t.store.states.defaultExpandAll.value),S(l.reserveSelection)?(t.store.assertRowKey(),t.store.updateSelectionByRowKey()):a?t.store.clearSelection():t.store.cleanSelection(),t.store.updateAllSelected(),t.$ready&&t.store.scheduleLayout()},insertColumn(l,c,a,f){const A=S(l._columns);let m=[];a?(a&&!a.children&&(a.children=[]),a.children.push(c),m=aR(A,a)):(A.push(c),m=A),sR(m),l._columns.value=m,l.updateOrderFns.push(f),c.type==="selection"&&(l.selectable.value=c.selectable,l.reserveSelection.value=c.reserveSelection),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},updateColumnOrder(l,c){var a;((a=c.getColumnIndex)==null?void 0:a.call(c))!==c.no&&(sR(l._columns.value),t.$ready&&t.store.updateColumns())},removeColumn(l,c,a,f){const A=S(l._columns)||[];if(a)a.children.splice(a.children.findIndex(_=>_.id===c.id),1),dr(()=>{var _;((_=a.children)==null?void 0:_.length)===0&&delete a.children}),l._columns.value=aR(A,a);else{const _=A.indexOf(c);_>-1&&(A.splice(_,1),l._columns.value=A)}const m=l.updateOrderFns.indexOf(f);m>-1&&l.updateOrderFns.splice(m,1),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},sort(l,c){const{prop:a,order:f,init:A}=c;if(a){const m=S(l.columns).find(_=>_.property===a);m&&(m.order=f,t.store.updateSort(m,a,f),t.store.commit("changeSortCondition",{init:A}))}},changeSortCondition(l,c){const{sortingColumn:a,sortProp:f,sortOrder:A}=l,m=S(a),_=S(f),y=S(A);y===null&&(l.sortingColumn.value=null,l.sortProp.value=null);const T={filter:!0};t.store.execQuery(T),(!c||!(c.silent||c.init))&&t.emit("sort-change",{column:m,prop:_,order:y}),t.store.updateTableScrollY()},filterChange(l,c){const{column:a,values:f,silent:A}=c,m=t.store.updateFilters(a,f);t.store.execQuery(),A||t.emit("filter-change",m),t.store.updateTableScrollY()},toggleAllSelection(){t.store.toggleAllSelection()},rowSelectedChanged(l,c){t.store.toggleRowSelection(c),t.store.updateAllSelected()},setHoverRow(l,c){l.hoverRow.value=c},setCurrentRow(l,c){t.store.updateCurrentRow(c)}},commit:function(l,...c){const a=t.store.mutations;if(a[l])a[l].apply(t,[t.store.states].concat(c));else throw new Error(`Action not found: ${l}`)},updateTableScrollY:function(){dr(()=>t.layout.updateScrollY.apply(t.layout))}}}const Y4={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"}};function QYe(t,e){if(!t)throw new Error("Table is required.");const n=HYe();return n.toggleAllSelection=$h(n._toggleAllSelection,10),Object.keys(Y4).forEach(r=>{bse(wse(e,r),r,n)}),jYe(n,e),n}function jYe(t,e){Object.keys(Y4).forEach(n=>{un(()=>wse(e,n),r=>{bse(r,n,t)})})}function bse(t,e,n){let r=t,i=Y4[e];typeof Y4[e]=="object"&&(i=i.key,r=r||Y4[e].default),n.states[i].value=r}function wse(t,e){if(e.includes(".")){const n=e.split(".");let r=t;return n.forEach(i=>{r=r[i]}),r}else return t[e]}class GYe{constructor(e){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=Te(null),this.scrollX=Te(!1),this.scrollY=Te(!1),this.bodyWidth=Te(null),this.fixedWidth=Te(null),this.rightFixedWidth=Te(null),this.gutterWidth=0;for(const n in e)ra(e,n)&&(hs(this[n])?this[n].value=e[n]:this[n]=e[n]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const n=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(n!=null&&n.wrapRef)){let r=!0;const i=this.scrollY.value;return r=n.wrapRef.scrollHeight>n.wrapRef.clientHeight,this.scrollY.value=r,i!==r}return!1}setHeight(e,n="height"){if(!ta)return;const r=this.table.vnode.el;if(e=kYe(e),this.height.value=Number(e),!r&&(e||e===0))return dr(()=>this.setHeight(e,n));typeof e=="number"?(r.style[n]=`${e}px`,this.updateElsHeight()):typeof e=="string"&&(r.style[n]=e,this.updateElsHeight())}setMaxHeight(e){this.setHeight(e,"max-height")}getFlattenColumns(){const e=[];return this.table.store.states.columns.value.forEach(r=>{r.isColumnGroup?e.push.apply(e,r.columns):e.push(r)}),e}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(e){if(!e)return!0;let n=e;for(;n.tagName!=="DIV";){if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}updateColumnsWidth(){if(!ta)return;const e=this.fit,n=this.table.vnode.el.clientWidth;let r=0;const i=this.getFlattenColumns(),s=i.filter(a=>typeof a.width!="number");if(i.forEach(a=>{typeof a.width=="number"&&a.realWidth&&(a.realWidth=null)}),s.length>0&&e){if(i.forEach(a=>{r+=Number(a.width||a.minWidth||80)}),r<=n){this.scrollX.value=!1;const a=n-r;if(s.length===1)s[0].realWidth=Number(s[0].minWidth||80)+a;else{const f=s.reduce((_,y)=>_+Number(y.minWidth||80),0),A=a/f;let m=0;s.forEach((_,y)=>{if(y===0)return;const T=Math.floor(Number(_.minWidth||80)*A);m+=T,_.realWidth=Number(_.minWidth||80)+T}),s[0].realWidth=Number(s[0].minWidth||80)+a-m}}else this.scrollX.value=!0,s.forEach(a=>{a.realWidth=Number(a.minWidth)});this.bodyWidth.value=Math.max(r,n),this.table.state.resizeState.value.width=this.bodyWidth.value}else i.forEach(a=>{!a.width&&!a.minWidth?a.realWidth=80:a.realWidth=Number(a.width||a.minWidth),r+=a.realWidth}),this.scrollX.value=r>n,this.bodyWidth.value=r;const l=this.store.states.fixedColumns.value;if(l.length>0){let a=0;l.forEach(f=>{a+=Number(f.realWidth||f.width)}),this.fixedWidth.value=a}const c=this.store.states.rightFixedColumns.value;if(c.length>0){let a=0;c.forEach(f=>{a+=Number(f.realWidth||f.width)}),this.rightFixedWidth.value=a}this.notifyObservers("columns")}addObserver(e){this.observers.push(e)}removeObserver(e){const n=this.observers.indexOf(e);n!==-1&&this.observers.splice(n,1)}notifyObservers(e){this.observers.forEach(r=>{var i,s;switch(e){case"columns":(i=r.state)==null||i.onColumnsChange(this);break;case"scrollable":(s=r.state)==null||s.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${e}.`)}})}}const{CheckboxGroup:KYe}=If,WYe=Be({name:"ElTableFilterPanel",components:{ElCheckbox:If,ElCheckboxGroup:KYe,ElScrollbar:c0,ElTooltip:Dc,ElIcon:Ar,ArrowDown:Em,ArrowUp:Z8},directives:{ClickOutside:Xg},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function}},setup(t){const e=ci(),{t:n}=ca(),r=vn("table-filter"),i=e==null?void 0:e.parent;i.filterPanels.value[t.column.id]||(i.filterPanels.value[t.column.id]=e);const s=Te(!1),l=Te(null),c=le(()=>t.column&&t.column.filters),a=le(()=>t.column.filterClassName?`${r.b()} ${t.column.filterClassName}`:r.b()),f=le({get:()=>{var z;return(((z=t.column)==null?void 0:z.filteredValue)||[])[0]},set:z=>{A.value&&(typeof z<"u"&&z!==null?A.value.splice(0,1,z):A.value.splice(0,1))}}),A=le({get(){return t.column?t.column.filteredValue||[]:[]},set(z){t.column&&t.upDataColumn("filteredValue",z)}}),m=le(()=>t.column?t.column.filterMultiple:!0),_=z=>z.value===f.value,y=()=>{s.value=!1},T=z=>{z.stopPropagation(),s.value=!s.value},E=()=>{s.value=!1},P=()=>{R(A.value),y()},I=()=>{A.value=[],R(A.value),y()},F=z=>{f.value=z,R(typeof z<"u"&&z!==null?A.value:[]),y()},R=z=>{t.store.commit("filterChange",{column:t.column,values:z}),t.store.updateAllSelected()};un(s,z=>{t.column&&t.upDataColumn("filterOpened",z)},{immediate:!0});const N=le(()=>{var z,Q;return(Q=(z=l.value)==null?void 0:z.popperRef)==null?void 0:Q.contentRef});return{tooltipVisible:s,multiple:m,filterClassName:a,filteredValue:A,filterValue:f,filters:c,handleConfirm:P,handleReset:I,handleSelect:F,isActive:_,t:n,ns:r,showFilterPanel:T,hideFilterPanel:E,popperPaneRef:N,tooltip:l}}}),qYe={key:0},YYe=["disabled"],XYe=["label","onClick"];function ZYe(t,e,n,r,i,s){const l=Kr("el-checkbox"),c=Kr("el-checkbox-group"),a=Kr("el-scrollbar"),f=Kr("arrow-up"),A=Kr("arrow-down"),m=Kr("el-icon"),_=Kr("el-tooltip"),y=L8("click-outside");return X(),Ut(_,{ref:"tooltip",visible:t.tooltipVisible,offset:0,placement:t.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":t.filterClassName,persistent:""},{content:xt(()=>[t.multiple?(X(),ve("div",qYe,[pe("div",{class:Se(t.ns.e("content"))},[ht(a,{"wrap-class":t.ns.e("wrap")},{default:xt(()=>[ht(c,{modelValue:t.filteredValue,"onUpdate:modelValue":e[0]||(e[0]=T=>t.filteredValue=T),class:Se(t.ns.e("checkbox-group"))},{default:xt(()=>[(X(!0),ve(Vn,null,Yr(t.filters,T=>(X(),Ut(l,{key:T.value,value:T.value},{default:xt(()=>[wi(Cn(T.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","class"])]),_:1},8,["wrap-class"])],2),pe("div",{class:Se(t.ns.e("bottom"))},[pe("button",{class:Se({[t.ns.is("disabled")]:t.filteredValue.length===0}),disabled:t.filteredValue.length===0,type:"button",onClick:e[1]||(e[1]=(...T)=>t.handleConfirm&&t.handleConfirm(...T))},Cn(t.t("el.table.confirmFilter")),11,YYe),pe("button",{type:"button",onClick:e[2]||(e[2]=(...T)=>t.handleReset&&t.handleReset(...T))},Cn(t.t("el.table.resetFilter")),1)],2)])):(X(),ve("ul",{key:1,class:Se(t.ns.e("list"))},[pe("li",{class:Se([t.ns.e("list-item"),{[t.ns.is("active")]:t.filterValue===void 0||t.filterValue===null}]),onClick:e[3]||(e[3]=T=>t.handleSelect(null))},Cn(t.t("el.table.clearFilter")),3),(X(!0),ve(Vn,null,Yr(t.filters,T=>(X(),ve("li",{key:T.value,class:Se([t.ns.e("list-item"),t.ns.is("active",t.isActive(T))]),label:T.value,onClick:E=>t.handleSelect(T.value)},Cn(T.text),11,XYe))),128))],2))]),default:xt(()=>[Jr((X(),ve("span",{class:Se([`${t.ns.namespace.value}-table__column-filter-trigger`,`${t.ns.namespace.value}-none-outline`]),onClick:e[4]||(e[4]=(...T)=>t.showFilterPanel&&t.showFilterPanel(...T))},[ht(m,null,{default:xt(()=>[t.column.filterOpened?(X(),Ut(f,{key:0})):(X(),Ut(A,{key:1}))]),_:1})],2)),[[y,t.hideFilterPanel,t.popperPaneRef]])]),_:1},8,["visible","placement","popper-class"])}var JYe=kn(WYe,[["render",ZYe],["__file","filter-panel.vue"]]);function xse(t){const e=ci();R8(()=>{n.value.addObserver(e)}),kr(()=>{r(n.value),i(n.value)}),i0(()=>{r(n.value),i(n.value)}),Rf(()=>{n.value.removeObserver(e)});const n=le(()=>{const s=t.layout;if(!s)throw new Error("Can not find table layout.");return s}),r=s=>{var l;const c=((l=t.vnode.el)==null?void 0:l.querySelectorAll("colgroup > col"))||[];if(!c.length)return;const a=s.getFlattenColumns(),f={};a.forEach(A=>{f[A.id]=A});for(let A=0,m=c.length;A<m;A++){const _=c[A],y=_.getAttribute("name"),T=f[y];T&&_.setAttribute("width",T.realWidth||T.width)}},i=s=>{var l,c;const a=((l=t.vnode.el)==null?void 0:l.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let A=0,m=a.length;A<m;A++)a[A].setAttribute("width",s.scrollY.value?s.gutterWidth:"0");const f=((c=t.vnode.el)==null?void 0:c.querySelectorAll("th.gutter"))||[];for(let A=0,m=f.length;A<m;A++){const _=f[A];_.style.width=s.scrollY.value?`${s.gutterWidth}px`:"0",_.style.display=s.scrollY.value?"":"none"}};return{tableLayout:n.value,onColumnsChange:r,onScrollableChange:i}}const Tm=Symbol("ElTable");function eXe(t,e){const n=ci(),r=ar(Tm),i=E=>{E.stopPropagation()},s=(E,P)=>{!P.filters&&P.sortable?T(E,P,!1):P.filterable&&!P.sortable&&i(E),r==null||r.emit("header-click",P,E)},l=(E,P)=>{r==null||r.emit("header-contextmenu",P,E)},c=Te(null),a=Te(!1),f=Te({}),A=(E,P)=>{if(ta&&!(P.children&&P.children.length>0)&&c.value&&t.border){a.value=!0;const I=r;e("set-drag-visible",!0);const R=(I==null?void 0:I.vnode.el).getBoundingClientRect().left,N=n.vnode.el.querySelector(`th.${P.id}`),z=N.getBoundingClientRect(),Q=z.left-R+30;mf(N,"noclick"),f.value={startMouseLeft:E.clientX,startLeft:z.right-R,startColumnLeft:z.left-R,tableLeft:R};const j=I==null?void 0:I.refs.resizeProxy;j.style.left=`${f.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const H=ie=>{const q=ie.clientX-f.value.startMouseLeft,W=f.value.startLeft+q;j.style.left=`${Math.max(Q,W)}px`},K=()=>{if(a.value){const{startColumnLeft:ie,startLeft:q}=f.value,ee=Number.parseInt(j.style.left,10)-ie;P.width=P.realWidth=ee,I==null||I.emit("header-dragend",P.width,q-ie,P,E),requestAnimationFrame(()=>{t.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",a.value=!1,c.value=null,f.value={},e("set-drag-visible",!1)}document.removeEventListener("mousemove",H),document.removeEventListener("mouseup",K),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{Rc(N,"noclick")},0)};document.addEventListener("mousemove",H),document.addEventListener("mouseup",K)}},m=(E,P)=>{if(P.children&&P.children.length>0)return;const I=E.target;if(!Sf(I))return;const F=I==null?void 0:I.closest("th");if(!(!P||!P.resizable)&&!a.value&&t.border){const R=F.getBoundingClientRect(),N=document.body.style;R.width>12&&R.right-E.pageX<8?(N.cursor="col-resize",xf(F,"is-sortable")&&(F.style.cursor="col-resize"),c.value=P):a.value||(N.cursor="",xf(F,"is-sortable")&&(F.style.cursor="pointer"),c.value=null)}},_=()=>{ta&&(document.body.style.cursor="")},y=({order:E,sortOrders:P})=>{if(E==="")return P[0];const I=P.indexOf(E||null);return P[I>P.length-2?0:I+1]},T=(E,P,I)=>{var F;E.stopPropagation();const R=P.order===I?null:I||y(P),N=(F=E.target)==null?void 0:F.closest("th");if(N&&xf(N,"noclick")){Rc(N,"noclick");return}if(!P.sortable)return;const z=t.store.states;let Q=z.sortProp.value,j;const H=z.sortingColumn.value;(H!==P||H===P&&H.order===null)&&(H&&(H.order=null),z.sortingColumn.value=P,Q=P.property),R?j=P.order=R:j=P.order=null,z.sortProp.value=Q,z.sortOrder.value=j,r==null||r.store.commit("changeSortCondition")};return{handleHeaderClick:s,handleHeaderContextMenu:l,handleMouseDown:A,handleMouseMove:m,handleMouseOut:_,handleSortClick:T,handleFilterClick:i}}function tXe(t){const e=ar(Tm),n=vn("table");return{getHeaderRowStyle:c=>{const a=e==null?void 0:e.props.headerRowStyle;return typeof a=="function"?a.call(null,{rowIndex:c}):a},getHeaderRowClass:c=>{const a=[],f=e==null?void 0:e.props.headerRowClassName;return typeof f=="string"?a.push(f):typeof f=="function"&&a.push(f.call(null,{rowIndex:c})),a.join(" ")},getHeaderCellStyle:(c,a,f,A)=>{var m;let _=(m=e==null?void 0:e.props.headerCellStyle)!=null?m:{};typeof _=="function"&&(_=_.call(null,{rowIndex:c,columnIndex:a,row:f,column:A}));const y=U9(a,A.fixed,t.store,f);return u2(y,"left"),u2(y,"right"),Object.assign({},_,y)},getHeaderCellClass:(c,a,f,A)=>{const m=N9(n.b(),a,A.fixed,t.store,f),_=[A.id,A.order,A.headerAlign,A.className,A.labelClassName,...m];A.children||_.push("is-leaf"),A.sortable&&_.push("is-sortable");const y=e==null?void 0:e.props.headerCellClassName;return typeof y=="string"?_.push(y):typeof y=="function"&&_.push(y.call(null,{rowIndex:c,columnIndex:a,row:f,column:A})),_.push(n.e("cell")),_.filter(T=>!!T).join(" ")}}}const Cse=t=>{const e=[];return t.forEach(n=>{n.children?(e.push(n),e.push.apply(e,Cse(n.children))):e.push(n)}),e},nXe=t=>{let e=1;const n=(s,l)=>{if(l&&(s.level=l.level+1,e<s.level&&(e=s.level)),s.children){let c=0;s.children.forEach(a=>{n(a,s),c+=a.colSpan}),s.colSpan=c}else s.colSpan=1};t.forEach(s=>{s.level=1,n(s,void 0)});const r=[];for(let s=0;s<e;s++)r.push([]);return Cse(t).forEach(s=>{s.children?(s.rowSpan=1,s.children.forEach(l=>l.isSubColumn=!0)):s.rowSpan=e-s.level+1,r[s.level-1].push(s)}),r};function rXe(t){const e=ar(Tm),n=le(()=>nXe(t.store.states.originColumns.value));return{isGroup:le(()=>{const s=n.value.length>1;return s&&e&&(e.state.isGroup.value=!0),s}),toggleAllSelection:s=>{s.stopPropagation(),e==null||e.store.commit("toggleAllSelection")},columnRows:n}}var iXe=Be({name:"ElTableHeader",components:{ElCheckbox:If},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(t,{emit:e}){const n=ci(),r=ar(Tm),i=vn("table"),s=Te({}),{onColumnsChange:l,onScrollableChange:c}=xse(r);kr(async()=>{await dr(),await dr();const{prop:Q,order:j}=t.defaultSort;r==null||r.store.commit("sort",{prop:Q,order:j,init:!0})});const{handleHeaderClick:a,handleHeaderContextMenu:f,handleMouseDown:A,handleMouseMove:m,handleMouseOut:_,handleSortClick:y,handleFilterClick:T}=eXe(t,e),{getHeaderRowStyle:E,getHeaderRowClass:P,getHeaderCellStyle:I,getHeaderCellClass:F}=tXe(t),{isGroup:R,toggleAllSelection:N,columnRows:z}=rXe(t);return n.state={onColumnsChange:l,onScrollableChange:c},n.filterPanels=s,{ns:i,filterPanels:s,onColumnsChange:l,onScrollableChange:c,columnRows:z,getHeaderRowClass:P,getHeaderRowStyle:E,getHeaderCellClass:F,getHeaderCellStyle:I,handleHeaderClick:a,handleHeaderContextMenu:f,handleMouseDown:A,handleMouseMove:m,handleMouseOut:_,handleSortClick:y,handleFilterClick:T,isGroup:R,toggleAllSelection:N}},render(){const{ns:t,isGroup:e,columnRows:n,getHeaderCellStyle:r,getHeaderCellClass:i,getHeaderRowClass:s,getHeaderRowStyle:l,handleHeaderClick:c,handleHeaderContextMenu:a,handleMouseDown:f,handleMouseMove:A,handleSortClick:m,handleMouseOut:_,store:y,$parent:T}=this;let E=1;return wr("thead",{class:{[t.is("group")]:e}},n.map((P,I)=>wr("tr",{class:s(I),key:I,style:l(I)},P.map((F,R)=>(F.rowSpan>E&&(E=F.rowSpan),wr("th",{class:i(I,R,P,F),colspan:F.colSpan,key:`${F.id}-thead`,rowspan:F.rowSpan,style:r(I,R,P,F),onClick:N=>c(N,F),onContextmenu:N=>a(N,F),onMousedown:N=>f(N,F),onMousemove:N=>A(N,F),onMouseout:_},[wr("div",{class:["cell",F.filteredValue&&F.filteredValue.length>0?"highlight":""]},[F.renderHeader?F.renderHeader({column:F,$index:R,store:y,_self:T}):F.label,F.sortable&&wr("span",{onClick:N=>m(N,F),class:"caret-wrapper"},[wr("i",{onClick:N=>m(N,F,"ascending"),class:"sort-caret ascending"}),wr("i",{onClick:N=>m(N,F,"descending"),class:"sort-caret descending"})]),F.filterable&&wr(JYe,{store:y,placement:F.filterPlacement||"bottom-start",column:F,upDataColumn:(N,z)=>{F[N]=z}})])]))))))}});function aXe(t){const e=ar(Tm),n=Te(""),r=Te(wr("div")),i=(T,E,P)=>{var I;const F=e,R=OL(T);let N;const z=(I=F==null?void 0:F.vnode.el)==null?void 0:I.dataset.prefix;R&&(N=oW({columns:t.store.states.columns.value},R,z),N&&(F==null||F.emit(`cell-${P}`,E,N,R,T))),F==null||F.emit(`row-${P}`,E,N,T)},s=(T,E)=>{i(T,E,"dblclick")},l=(T,E)=>{t.store.commit("setCurrentRow",E),i(T,E,"click")},c=(T,E)=>{i(T,E,"contextmenu")},a=$h(T=>{t.store.commit("setHoverRow",T)},30),f=$h(()=>{t.store.commit("setHoverRow",null)},30),A=T=>{const E=window.getComputedStyle(T,null),P=Number.parseInt(E.paddingLeft,10)||0,I=Number.parseInt(E.paddingRight,10)||0,F=Number.parseInt(E.paddingTop,10)||0,R=Number.parseInt(E.paddingBottom,10)||0;return{left:P,right:I,top:F,bottom:R}},m=(T,E,P)=>{let I=E.target.parentNode;for(;T>1&&(I=I==null?void 0:I.nextSibling,!(!I||I.nodeName!=="TR"));)P(I,"hover-row hover-fixed-row"),T--};return{handleDoubleClick:s,handleClick:l,handleContextMenu:c,handleMouseEnter:a,handleMouseLeave:f,handleCellMouseEnter:(T,E,P)=>{var I;const F=e,R=OL(T),N=(I=F==null?void 0:F.vnode.el)==null?void 0:I.dataset.prefix;if(R){const ce=oW({columns:t.store.states.columns.value},R,N);R.rowSpan>1&&m(R.rowSpan,T,mf);const ye=F.hoverState={cell:R,column:ce,row:E};F==null||F.emit("cell-mouse-enter",ye.row,ye.column,ye.cell,T)}if(!P)return;const z=T.target.querySelector(".cell");if(!(xf(z,`${N}-tooltip`)&&z.childNodes.length))return;const Q=document.createRange();Q.setStart(z,0),Q.setEnd(z,z.childNodes.length);let j=Q.getBoundingClientRect().width,H=Q.getBoundingClientRect().height;const K=j-Math.floor(j),{width:ie,height:q}=z.getBoundingClientRect();K<.001&&(j=Math.floor(j)),H-Math.floor(H)<.001&&(H=Math.floor(H));const{top:ee,left:ue,right:J,bottom:te}=A(z),ne=ue+J,he=ee+te;(j+ne>ie||H+he>q||z.scrollWidth>ie)&&DYe(P,R.innerText||R.textContent,R,F)},handleCellMouseLeave:T=>{const E=OL(T);if(!E)return;E.rowSpan>1&&m(E.rowSpan,T,Rc);const P=e==null?void 0:e.hoverState;e==null||e.emit("cell-mouse-leave",P==null?void 0:P.row,P==null?void 0:P.column,P==null?void 0:P.cell,T)},tooltipContent:n,tooltipTrigger:r}}function sXe(t){const e=ar(Tm),n=vn("table");return{getRowStyle:(f,A)=>{const m=e==null?void 0:e.props.rowStyle;return typeof m=="function"?m.call(null,{row:f,rowIndex:A}):m||null},getRowClass:(f,A)=>{const m=[n.e("row")];e!=null&&e.props.highlightCurrentRow&&f===t.store.states.currentRow.value&&m.push("current-row"),t.stripe&&A%2===1&&m.push(n.em("row","striped"));const _=e==null?void 0:e.props.rowClassName;return typeof _=="string"?m.push(_):typeof _=="function"&&m.push(_.call(null,{row:f,rowIndex:A})),m},getCellStyle:(f,A,m,_)=>{const y=e==null?void 0:e.props.cellStyle;let T=y??{};typeof y=="function"&&(T=y.call(null,{rowIndex:f,columnIndex:A,row:m,column:_}));const E=U9(A,t==null?void 0:t.fixed,t.store);return u2(E,"left"),u2(E,"right"),Object.assign({},T,E)},getCellClass:(f,A,m,_,y)=>{const T=N9(n.b(),A,t==null?void 0:t.fixed,t.store,void 0,y),E=[_.id,_.align,_.className,...T],P=e==null?void 0:e.props.cellClassName;return typeof P=="string"?E.push(P):typeof P=="function"&&E.push(P.call(null,{rowIndex:f,columnIndex:A,row:m,column:_})),E.push(n.e("cell")),E.filter(I=>!!I).join(" ")},getSpan:(f,A,m,_)=>{let y=1,T=1;const E=e==null?void 0:e.props.spanMethod;if(typeof E=="function"){const P=E({row:f,column:A,rowIndex:m,columnIndex:_});Array.isArray(P)?(y=P[0],T=P[1]):typeof P=="object"&&(y=P.rowspan,T=P.colspan)}return{rowspan:y,colspan:T}},getColspanRealWidth:(f,A,m)=>{if(A<1)return f[m].realWidth;const _=f.map(({realWidth:y,width:T})=>y||T).slice(m,m+A);return Number(_.reduce((y,T)=>Number(y)+Number(T),-1))}}}function oXe(t){const e=ar(Tm),n=vn("table"),{handleDoubleClick:r,handleClick:i,handleContextMenu:s,handleMouseEnter:l,handleMouseLeave:c,handleCellMouseEnter:a,handleCellMouseLeave:f,tooltipContent:A,tooltipTrigger:m}=aXe(t),{getRowStyle:_,getRowClass:y,getCellStyle:T,getCellClass:E,getSpan:P,getColspanRealWidth:I}=sXe(t),F=le(()=>t.store.states.columns.value.findIndex(({type:j})=>j==="default")),R=(j,H)=>{const K=e.props.rowKey;return K?ec(j,K):H},N=(j,H,K,ie=!1)=>{const{tooltipEffect:q,tooltipOptions:W,store:ee}=t,{indent:ue,columns:J}=ee.states,te=y(j,H);let ne=!0;return K&&(te.push(n.em("row",`level-${K.level}`)),ne=K.display),wr("tr",{style:[ne?null:{display:"none"},_(j,H)],class:te,key:R(j,H),onDblclick:ce=>r(ce,j),onClick:ce=>i(ce,j),onContextmenu:ce=>s(ce,j),onMouseenter:()=>l(H),onMouseleave:c},J.value.map((ce,ye)=>{const{rowspan:Ee,colspan:se}=P(j,ce,H,ye);if(!Ee||!se)return null;const oe=Object.assign({},ce);oe.realWidth=I(J.value,se,ye);const _e={store:t.store,_self:t.context||e,column:oe,row:j,$index:H,cellIndex:ye,expanded:ie};ye===F.value&&K&&(_e.treeNode={indent:K.level*ue.value,level:K.level},typeof K.expanded=="boolean"&&(_e.treeNode.expanded=K.expanded,"loading"in K&&(_e.treeNode.loading=K.loading),"noLazyChildren"in K&&(_e.treeNode.noLazyChildren=K.noLazyChildren)));const Ue=`${R(j,H)},${ye}`,Le=oe.columnKey||oe.rawColumnKey||"",be=z(ye,ce,_e),Re=ce.showOverflowTooltip&&aEe({effect:q},W,ce.showOverflowTooltip);return wr("td",{style:T(H,ye,j,ce),class:E(H,ye,j,ce,se-1),key:`${Le}${Ue}`,rowspan:Ee,colspan:se,onMouseenter:Qe=>a(Qe,j,Re),onMouseleave:f},[be])}))},z=(j,H,K)=>H.renderCell(K);return{wrappedRowRender:(j,H)=>{const K=t.store,{isRowExpanded:ie,assertRowKey:q}=K,{treeData:W,lazyTreeNodeMap:ee,childrenColumnName:ue,rowKey:J}=K.states,te=K.states.columns.value;if(te.some(({type:he})=>he==="expand")){const he=ie(j),ce=N(j,H,void 0,he),ye=e.renderExpanded;return he?ye?[[ce,wr("tr",{key:`expanded-row__${ce.key}`},[wr("td",{colspan:te.length,class:`${n.e("cell")} ${n.e("expanded-cell")}`},[ye({row:j,$index:H,store:K,expanded:he})])])]]:(console.error("[Element Error]renderExpanded is required."),ce):[[ce]]}else if(Object.keys(W.value).length){q();const he=ec(j,J.value);let ce=W.value[he],ye=null;ce&&(ye={expanded:ce.expanded,level:ce.level,display:!0},typeof ce.lazy=="boolean"&&(typeof ce.loaded=="boolean"&&ce.loaded&&(ye.noLazyChildren=!(ce.children&&ce.children.length)),ye.loading=ce.loading));const Ee=[N(j,H,ye)];if(ce){let se=0;const oe=(Ue,Le)=>{Ue&&Ue.length&&Le&&Ue.forEach(be=>{const Re={display:Le.display&&Le.expanded,level:Le.level+1,expanded:!1,noLazyChildren:!1,loading:!1},Qe=ec(be,J.value);if(Qe==null)throw new Error("For nested data item, row-key is required.");if(ce={...W.value[Qe]},ce&&(Re.expanded=ce.expanded,ce.level=ce.level||Re.level,ce.display=!!(ce.expanded&&Re.display),typeof ce.lazy=="boolean"&&(typeof ce.loaded=="boolean"&&ce.loaded&&(Re.noLazyChildren=!(ce.children&&ce.children.length)),Re.loading=ce.loading)),se++,Ee.push(N(be,H+se,Re)),ce){const Je=ee.value[Qe]||be[ue.value];oe(Je,ce)}})};ce.display=!0;const _e=ee.value[he]||j[ue.value];oe(_e,ce)}return Ee}else return N(j,H,void 0)},tooltipContent:A,tooltipTrigger:m}}const lXe={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var uXe=Be({name:"ElTableBody",props:lXe,setup(t){const e=ci(),n=ar(Tm),r=vn("table"),{wrappedRowRender:i,tooltipContent:s,tooltipTrigger:l}=oXe(t),{onColumnsChange:c,onScrollableChange:a}=xse(n),f=[];return un(t.store.states.hoverRow,(A,m)=>{var _;const y=e==null?void 0:e.vnode.el,T=Array.from((y==null?void 0:y.children)||[]).filter(I=>I==null?void 0:I.classList.contains(`${r.e("row")}`));let E=A;const P=(_=T[E])==null?void 0:_.childNodes;if(P!=null&&P.length){let I=0;Array.from(P).reduce((R,N,z)=>{var Q,j;return((Q=P[z])==null?void 0:Q.colSpan)>1&&(I=(j=P[z])==null?void 0:j.colSpan),N.nodeName!=="TD"&&I===0&&R.push(z),I>0&&I--,R},[]).forEach(R=>{var N;for(E=A;E>0;){const z=(N=T[E-1])==null?void 0:N.childNodes;if(z[R]&&z[R].nodeName==="TD"&&z[R].rowSpan>1){mf(z[R],"hover-cell"),f.push(z[R]);break}E--}})}else f.forEach(I=>Rc(I,"hover-cell")),f.length=0;!t.store.states.isComplex.value||!ta||Yv(()=>{const I=T[m],F=T[A];I&&!I.classList.contains("hover-fixed-row")&&Rc(I,"hover-row"),F&&mf(F,"hover-row")})}),Rf(()=>{var A;(A=lf)==null||A()}),{ns:r,onColumnsChange:c,onScrollableChange:a,wrappedRowRender:i,tooltipContent:s,tooltipTrigger:l}},render(){const{wrappedRowRender:t,store:e}=this,n=e.states.data.value||[];return wr("tbody",{tabIndex:-1},[n.reduce((r,i)=>r.concat(t(i,r.length)),[])])}});function cXe(){const t=ar(Tm),e=t==null?void 0:t.store,n=le(()=>e.states.fixedLeafColumnsLength.value),r=le(()=>e.states.rightFixedColumns.value.length),i=le(()=>e.states.columns.value.length),s=le(()=>e.states.fixedColumns.value.length),l=le(()=>e.states.rightFixedColumns.value.length);return{leftFixedLeafCount:n,rightFixedLeafCount:r,columnsCount:i,leftFixedCount:s,rightFixedCount:l,columns:e.states.columns}}function hXe(t){const{columns:e}=cXe(),n=vn("table");return{getCellClasses:(s,l)=>{const c=s[l],a=[n.e("cell"),c.id,c.align,c.labelClassName,...N9(n.b(),l,c.fixed,t.store)];return c.className&&a.push(c.className),c.children||a.push(n.is("leaf")),a},getCellStyles:(s,l)=>{const c=U9(l,s.fixed,t.store);return u2(c,"left"),u2(c,"right"),c},columns:e}}var dXe=Be({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(t){const{getCellClasses:e,getCellStyles:n,columns:r}=hXe(t);return{ns:vn("table"),getCellClasses:e,getCellStyles:n,columns:r}},render(){const{columns:t,getCellStyles:e,getCellClasses:n,summaryMethod:r,sumText:i}=this,s=this.store.states.data.value;let l=[];return r?l=r({columns:t,data:s}):t.forEach((c,a)=>{if(a===0){l[a]=i;return}const f=s.map(y=>Number(y[c.property])),A=[];let m=!0;f.forEach(y=>{if(!Number.isNaN(+y)){m=!1;const T=`${y}`.split(".")[1];A.push(T?T.length:0)}});const _=Math.max.apply(null,A);m?l[a]="":l[a]=f.reduce((y,T)=>{const E=Number(T);return Number.isNaN(+E)?y:Number.parseFloat((y+T).toFixed(Math.min(_,20)))},0)}),wr(wr("tfoot",[wr("tr",{},[...t.map((c,a)=>wr("td",{key:a,colspan:c.colSpan,rowspan:c.rowSpan,class:n(t,a),style:e(c,a)},[wr("div",{class:["cell",c.labelClassName]},[l[a]])]))])]))}});function fXe(t){return{setCurrentRow:A=>{t.commit("setCurrentRow",A)},getSelectionRows:()=>t.getSelectionRows(),toggleRowSelection:(A,m)=>{t.toggleRowSelection(A,m,!1),t.updateAllSelected()},clearSelection:()=>{t.clearSelection()},clearFilter:A=>{t.clearFilter(A)},toggleAllSelection:()=>{t.commit("toggleAllSelection")},toggleRowExpansion:(A,m)=>{t.toggleRowExpansionAdapter(A,m)},clearSort:()=>{t.clearSort()},sort:(A,m)=>{t.commit("sort",{prop:A,order:m})}}}function pXe(t,e,n,r){const i=Te(!1),s=Te(null),l=Te(!1),c=ce=>{l.value=ce},a=Te({width:null,height:null,headerHeight:null}),f=Te(!1),A={display:"inline-block",verticalAlign:"middle"},m=Te(),_=Te(0),y=Te(0),T=Te(0),E=Te(0),P=Te(0);rc(()=>{e.setHeight(t.height)}),rc(()=>{e.setMaxHeight(t.maxHeight)}),un(()=>[t.currentRowKey,n.states.rowKey],([ce,ye])=>{!S(ye)||!S(ce)||n.setCurrentRowKey(`${ce}`)},{immediate:!0}),un(()=>t.data,ce=>{r.store.commit("setData",ce)},{immediate:!0,deep:!0}),rc(()=>{t.expandRowKeys&&n.setExpandRowKeysAdapter(t.expandRowKeys)});const I=()=>{r.store.commit("setHoverRow",null),r.hoverState&&(r.hoverState=null)},F=(ce,ye)=>{const{pixelX:Ee,pixelY:se}=ye;Math.abs(Ee)>=Math.abs(se)&&(r.refs.bodyWrapper.scrollLeft+=ye.pixelX/5)},R=le(()=>t.height||t.maxHeight||n.states.fixedColumns.value.length>0||n.states.rightFixedColumns.value.length>0),N=le(()=>({width:e.bodyWidth.value?`${e.bodyWidth.value}px`:""})),z=()=>{R.value&&e.updateElsHeight(),e.updateColumnsWidth(),requestAnimationFrame(K)};kr(async()=>{await dr(),n.updateColumns(),ie(),requestAnimationFrame(z);const ce=r.vnode.el,ye=r.refs.headerWrapper;t.flexible&&ce&&ce.parentElement&&(ce.parentElement.style.minWidth="0"),a.value={width:m.value=ce.offsetWidth,height:ce.offsetHeight,headerHeight:t.showHeader&&ye?ye.offsetHeight:null},n.states.columns.value.forEach(Ee=>{Ee.filteredValue&&Ee.filteredValue.length&&r.store.commit("filterChange",{column:Ee,values:Ee.filteredValue,silent:!0})}),r.$ready=!0});const Q=(ce,ye)=>{if(!ce)return;const Ee=Array.from(ce.classList).filter(se=>!se.startsWith("is-scrolling-"));Ee.push(e.scrollX.value?ye:"is-scrolling-none"),ce.className=Ee.join(" ")},j=ce=>{const{tableWrapper:ye}=r.refs;Q(ye,ce)},H=ce=>{const{tableWrapper:ye}=r.refs;return!!(ye&&ye.classList.contains(ce))},K=function(){if(!r.refs.scrollBarRef)return;if(!e.scrollX.value){const Le="is-scrolling-none";H(Le)||j(Le);return}const ce=r.refs.scrollBarRef.wrapRef;if(!ce)return;const{scrollLeft:ye,offsetWidth:Ee,scrollWidth:se}=ce,{headerWrapper:oe,footerWrapper:_e}=r.refs;oe&&(oe.scrollLeft=ye),_e&&(_e.scrollLeft=ye);const Ue=se-Ee-1;ye>=Ue?j("is-scrolling-right"):j(ye===0?"is-scrolling-left":"is-scrolling-middle")},ie=()=>{r.refs.scrollBarRef&&(r.refs.scrollBarRef.wrapRef&&gs(r.refs.scrollBarRef.wrapRef,"scroll",K,{passive:!0}),t.fit?eo(r.vnode.el,q):gs(window,"resize",q),eo(r.refs.bodyWrapper,()=>{var ce,ye;q(),(ye=(ce=r.refs)==null?void 0:ce.scrollBarRef)==null||ye.update()}))},q=()=>{var ce,ye,Ee,se;const oe=r.vnode.el;if(!r.$ready||!oe)return;let _e=!1;const{width:Ue,height:Le,headerHeight:be}=a.value,Re=m.value=oe.offsetWidth;Ue!==Re&&(_e=!0);const Qe=oe.offsetHeight;(t.height||R.value)&&Le!==Qe&&(_e=!0);const Je=t.tableLayout==="fixed"?r.refs.headerWrapper:(ce=r.refs.tableHeaderRef)==null?void 0:ce.$el;t.showHeader&&(Je==null?void 0:Je.offsetHeight)!==be&&(_e=!0),_.value=((ye=r.refs.tableWrapper)==null?void 0:ye.scrollHeight)||0,T.value=(Je==null?void 0:Je.scrollHeight)||0,E.value=((Ee=r.refs.footerWrapper)==null?void 0:Ee.offsetHeight)||0,P.value=((se=r.refs.appendWrapper)==null?void 0:se.offsetHeight)||0,y.value=_.value-T.value-E.value-P.value,_e&&(a.value={width:Re,height:Qe,headerHeight:t.showHeader&&(Je==null?void 0:Je.offsetHeight)||0},z())},W=hl(),ee=le(()=>{const{bodyWidth:ce,scrollY:ye,gutterWidth:Ee}=e;return ce.value?`${ce.value-(ye.value?Ee:0)}px`:""}),ue=le(()=>t.maxHeight?"fixed":t.tableLayout),J=le(()=>{if(t.data&&t.data.length)return null;let ce="100%";t.height&&y.value&&(ce=`${y.value}px`);const ye=m.value;return{width:ye?`${ye}px`:"",height:ce}}),te=le(()=>t.height?{height:Number.isNaN(Number(t.height))?t.height:`${t.height}px`}:t.maxHeight?{maxHeight:Number.isNaN(Number(t.maxHeight))?t.maxHeight:`${t.maxHeight}px`}:{}),ne=le(()=>t.height?{height:"100%"}:t.maxHeight?Number.isNaN(Number(t.maxHeight))?{maxHeight:`calc(${t.maxHeight} - ${T.value+E.value}px)`}:{maxHeight:`${t.maxHeight-T.value-E.value}px`}:{});return{isHidden:i,renderExpanded:s,setDragVisible:c,isGroup:f,handleMouseLeave:I,handleHeaderFooterMousewheel:F,tableSize:W,emptyBlockStyle:J,handleFixedMousewheel:(ce,ye)=>{const Ee=r.refs.bodyWrapper;if(Math.abs(ye.spinY)>0){const se=Ee.scrollTop;ye.pixelY<0&&se!==0&&ce.preventDefault(),ye.pixelY>0&&Ee.scrollHeight-Ee.clientHeight>se&&ce.preventDefault(),Ee.scrollTop+=Math.ceil(ye.pixelY/5)}else Ee.scrollLeft+=Math.ceil(ye.pixelX/5)},resizeProxyVisible:l,bodyWidth:ee,resizeState:a,doLayout:z,tableBodyStyles:N,tableLayout:ue,scrollbarViewStyle:A,tableInnerStyle:te,scrollbarStyle:ne}}function AXe(t){const e=Te(),n=()=>{const i=t.vnode.el.querySelector(".hidden-columns"),s={childList:!0,subtree:!0},l=t.store.states.updateOrderFns;e.value=new MutationObserver(()=>{l.forEach(c=>c())}),e.value.observe(i,s)};kr(()=>{n()}),Rf(()=>{var r;(r=e.value)==null||r.disconnect()})}var mXe={data:{type:Array,default:()=>[]},size:ru,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children"})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object]};function Ese(t){const e=t.tableLayout==="auto";let n=t.columns||[];e&&n.every(i=>i.width===void 0)&&(n=[]);const r=i=>{const s={key:`${t.tableLayout}_${i.id}`,style:{},name:void 0};return e?s.style={width:`${i.width}px`}:s.name=i.id,s};return wr("colgroup",{},n.map(i=>wr("col",r(i))))}Ese.props=["columns","tableLayout"];const gXe=()=>{const t=Te(),e=(s,l)=>{const c=t.value;c&&c.scrollTo(s,l)},n=(s,l)=>{const c=t.value;c&&Or(l)&&["Top","Left"].includes(s)&&c[`setScroll${s}`](l)};return{scrollBarRef:t,scrollTo:e,setScrollTop:s=>n("Top",s),setScrollLeft:s=>n("Left",s)}};let vXe=1;const _Xe=Be({name:"ElTable",directives:{Mousewheel:a7e},components:{TableHeader:iXe,TableBody:uXe,TableFooter:dXe,ElScrollbar:c0,hColgroup:Ese},props:mXe,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(t){const{t:e}=ca(),n=vn("table"),r=ci();Ii(Tm,r);const i=QYe(r,t);r.store=i;const s=new GYe({store:r.store,table:r,fit:t.fit,showHeader:t.showHeader});r.layout=s;const l=le(()=>(i.states.data.value||[]).length===0),{setCurrentRow:c,getSelectionRows:a,toggleRowSelection:f,clearSelection:A,clearFilter:m,toggleAllSelection:_,toggleRowExpansion:y,clearSort:T,sort:E}=fXe(i),{isHidden:P,renderExpanded:I,setDragVisible:F,isGroup:R,handleMouseLeave:N,handleHeaderFooterMousewheel:z,tableSize:Q,emptyBlockStyle:j,handleFixedMousewheel:H,resizeProxyVisible:K,bodyWidth:ie,resizeState:q,doLayout:W,tableBodyStyles:ee,tableLayout:ue,scrollbarViewStyle:J,tableInnerStyle:te,scrollbarStyle:ne}=pXe(t,s,i,r),{scrollBarRef:he,scrollTo:ce,setScrollLeft:ye,setScrollTop:Ee}=gXe(),se=$h(W,50),oe=`${n.namespace.value}-table_${vXe++}`;r.tableId=oe,r.state={isGroup:R,resizeState:q,doLayout:W,debouncedUpdateLayout:se};const _e=le(()=>t.sumText||e("el.table.sumText")),Ue=le(()=>t.emptyText||e("el.table.emptyText"));return AXe(r),{ns:n,layout:s,store:i,handleHeaderFooterMousewheel:z,handleMouseLeave:N,tableId:oe,tableSize:Q,isHidden:P,isEmpty:l,renderExpanded:I,resizeProxyVisible:K,resizeState:q,isGroup:R,bodyWidth:ie,tableBodyStyles:ee,emptyBlockStyle:j,debouncedUpdateLayout:se,handleFixedMousewheel:H,setCurrentRow:c,getSelectionRows:a,toggleRowSelection:f,clearSelection:A,clearFilter:m,toggleAllSelection:_,toggleRowExpansion:y,clearSort:T,doLayout:W,sort:E,t:e,setDragVisible:F,context:r,computedSumText:_e,computedEmptyText:Ue,tableLayout:ue,scrollbarViewStyle:J,tableInnerStyle:te,scrollbarStyle:ne,scrollBarRef:he,scrollTo:ce,setScrollLeft:ye,setScrollTop:Ee}}}),yXe=["data-prefix"],bXe={ref:"hiddenColumns",class:"hidden-columns"};function wXe(t,e,n,r,i,s){const l=Kr("hColgroup"),c=Kr("table-header"),a=Kr("table-body"),f=Kr("table-footer"),A=Kr("el-scrollbar"),m=L8("mousewheel");return X(),ve("div",{ref:"tableWrapper",class:Se([{[t.ns.m("fit")]:t.fit,[t.ns.m("striped")]:t.stripe,[t.ns.m("border")]:t.border||t.isGroup,[t.ns.m("hidden")]:t.isHidden,[t.ns.m("group")]:t.isGroup,[t.ns.m("fluid-height")]:t.maxHeight,[t.ns.m("scrollable-x")]:t.layout.scrollX.value,[t.ns.m("scrollable-y")]:t.layout.scrollY.value,[t.ns.m("enable-row-hover")]:!t.store.states.isComplex.value,[t.ns.m("enable-row-transition")]:(t.store.states.data.value||[]).length!==0&&(t.store.states.data.value||[]).length<100,"has-footer":t.showSummary},t.ns.m(t.tableSize),t.className,t.ns.b(),t.ns.m(`layout-${t.tableLayout}`)]),style:or(t.style),"data-prefix":t.ns.namespace.value,onMouseleave:e[0]||(e[0]=(..._)=>t.handleMouseLeave&&t.handleMouseLeave(..._))},[pe("div",{class:Se(t.ns.e("inner-wrapper")),style:or(t.tableInnerStyle)},[pe("div",bXe,[kt(t.$slots,"default")],512),t.showHeader&&t.tableLayout==="fixed"?Jr((X(),ve("div",{key:0,ref:"headerWrapper",class:Se(t.ns.e("header-wrapper"))},[pe("table",{ref:"tableHeader",class:Se(t.ns.e("header")),style:or(t.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[ht(l,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),ht(c,{ref:"tableHeaderRef",border:t.border,"default-sort":t.defaultSort,store:t.store,onSetDragVisible:t.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])],6)],2)),[[m,t.handleHeaderFooterMousewheel]]):bt("v-if",!0),pe("div",{ref:"bodyWrapper",class:Se(t.ns.e("body-wrapper"))},[ht(A,{ref:"scrollBarRef","view-style":t.scrollbarViewStyle,"wrap-style":t.scrollbarStyle,always:t.scrollbarAlwaysOn},{default:xt(()=>[pe("table",{ref:"tableBody",class:Se(t.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:or({width:t.bodyWidth,tableLayout:t.tableLayout})},[ht(l,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),t.showHeader&&t.tableLayout==="auto"?(X(),Ut(c,{key:0,ref:"tableHeaderRef",class:Se(t.ns.e("body-header")),border:t.border,"default-sort":t.defaultSort,store:t.store,onSetDragVisible:t.setDragVisible},null,8,["class","border","default-sort","store","onSetDragVisible"])):bt("v-if",!0),ht(a,{context:t.context,highlight:t.highlightCurrentRow,"row-class-name":t.rowClassName,"tooltip-effect":t.tooltipEffect,"tooltip-options":t.tooltipOptions,"row-style":t.rowStyle,store:t.store,stripe:t.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),t.showSummary&&t.tableLayout==="auto"?(X(),Ut(f,{key:1,class:Se(t.ns.e("body-footer")),border:t.border,"default-sort":t.defaultSort,store:t.store,"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):bt("v-if",!0)],6),t.isEmpty?(X(),ve("div",{key:0,ref:"emptyBlock",style:or(t.emptyBlockStyle),class:Se(t.ns.e("empty-block"))},[pe("span",{class:Se(t.ns.e("empty-text"))},[kt(t.$slots,"empty",{},()=>[wi(Cn(t.computedEmptyText),1)])],2)],6)):bt("v-if",!0),t.$slots.append?(X(),ve("div",{key:1,ref:"appendWrapper",class:Se(t.ns.e("append-wrapper"))},[kt(t.$slots,"append")],2)):bt("v-if",!0)]),_:3},8,["view-style","wrap-style","always"])],2),t.showSummary&&t.tableLayout==="fixed"?Jr((X(),ve("div",{key:1,ref:"footerWrapper",class:Se(t.ns.e("footer-wrapper"))},[pe("table",{class:Se(t.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:or(t.tableBodyStyles)},[ht(l,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),ht(f,{border:t.border,"default-sort":t.defaultSort,store:t.store,"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[la,!t.isEmpty],[m,t.handleHeaderFooterMousewheel]]):bt("v-if",!0),t.border||t.isGroup?(X(),ve("div",{key:2,class:Se(t.ns.e("border-left-patch"))},null,2)):bt("v-if",!0)],6),Jr(pe("div",{ref:"resizeProxy",class:Se(t.ns.e("column-resize-proxy"))},null,2),[[la,t.resizeProxyVisible]])],46,yXe)}var xXe=kn(_Xe,[["render",wXe],["__file","table.vue"]]);const CXe={selection:"table-column--selection",expand:"table__expand-column"},EXe={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},SXe=t=>CXe[t]||"",TXe={selection:{renderHeader({store:t,column:e}){function n(){return t.states.data.value&&t.states.data.value.length===0}return wr(If,{disabled:n(),size:t.states.tableSize.value,indeterminate:t.states.selection.value.length>0&&!t.states.isAllSelected.value,"onUpdate:modelValue":t.toggleAllSelection,modelValue:t.states.isAllSelected.value,ariaLabel:e.label})},renderCell({row:t,column:e,store:n,$index:r}){return wr(If,{disabled:e.selectable?!e.selectable.call(null,t,r):!1,size:n.states.tableSize.value,onChange:()=>{n.commit("rowSelectedChanged",t)},onClick:i=>i.stopPropagation(),modelValue:n.isSelected(t),ariaLabel:e.label})},sortable:!1,resizable:!1},index:{renderHeader({column:t}){return t.label||"#"},renderCell({column:t,$index:e}){let n=e+1;const r=t.index;return typeof r=="number"?n=e+r:typeof r=="function"&&(n=r(e)),wr("div",{},[n])},sortable:!1},expand:{renderHeader({column:t}){return t.label||""},renderCell({row:t,store:e,expanded:n}){const{ns:r}=e,i=[r.e("expand-icon")];return n&&i.push(r.em("expand-icon","expanded")),wr("div",{class:i,onClick:function(l){l.stopPropagation(),e.toggleRowExpansion(t)}},{default:()=>[wr(Ar,null,{default:()=>[wr(Oc)]})]})},sortable:!1,resizable:!1}};function BXe({row:t,column:e,$index:n}){var r;const i=e.property,s=i&&cS(t,i).value;return e&&e.formatter?e.formatter(t,e,s,n):((r=s==null?void 0:s.toString)==null?void 0:r.call(s))||""}function MXe({row:t,treeNode:e,store:n},r=!1){const{ns:i}=n;if(!e)return r?[wr("span",{class:i.e("placeholder")})]:null;const s=[],l=function(c){c.stopPropagation(),!e.loading&&n.loadOrToggle(t)};if(e.indent&&s.push(wr("span",{class:i.e("indent"),style:{"padding-left":`${e.indent}px`}})),typeof e.expanded=="boolean"&&!e.noLazyChildren){const c=[i.e("expand-icon"),e.expanded?i.em("expand-icon","expanded"):""];let a=Oc;e.loading&&(a=l0),s.push(wr("div",{class:c,onClick:l},{default:()=>[wr(Ar,{class:{[i.is("loading")]:e.loading}},{default:()=>[wr(a)]})]}))}else s.push(wr("span",{class:i.e("placeholder")}));return s}function cW(t,e){return t.reduce((n,r)=>(n[r]=r,n),e)}function IXe(t,e){const n=ci();return{registerComplexWatchers:()=>{const s=["fixed"],l={realWidth:"width",realMinWidth:"minWidth"},c=cW(s,l);Object.keys(c).forEach(a=>{const f=l[a];ra(e,f)&&un(()=>e[f],A=>{let m=A;f==="width"&&a==="realWidth"&&(m=D9(A)),f==="minWidth"&&a==="realMinWidth"&&(m=vse(A)),n.columnConfig.value[f]=m,n.columnConfig.value[a]=m;const _=f==="fixed";t.value.store.scheduleLayout(_)})})},registerNormalWatchers:()=>{const s=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip"],l={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},c=cW(s,l);Object.keys(c).forEach(a=>{const f=l[a];ra(e,f)&&un(()=>e[f],A=>{n.columnConfig.value[a]=A})})}}}function LXe(t,e,n){const r=ci(),i=Te(""),s=Te(!1),l=Te(),c=Te(),a=vn("table");rc(()=>{l.value=t.align?`is-${t.align}`:null,l.value}),rc(()=>{c.value=t.headerAlign?`is-${t.headerAlign}`:l.value,c.value});const f=le(()=>{let N=r.vnode.vParent||r.parent;for(;N&&!N.tableId&&!N.columnId;)N=N.vnode.vParent||N.parent;return N}),A=le(()=>{const{store:N}=r.parent;if(!N)return!1;const{treeData:z}=N.states,Q=z.value;return Q&&Object.keys(Q).length>0}),m=Te(D9(t.width)),_=Te(vse(t.minWidth)),y=N=>(m.value&&(N.width=m.value),_.value&&(N.minWidth=_.value),!m.value&&_.value&&(N.width=void 0),N.minWidth||(N.minWidth=80),N.realWidth=Number(N.width===void 0?N.minWidth:N.width),N),T=N=>{const z=N.type,Q=TXe[z]||{};Object.keys(Q).forEach(H=>{const K=Q[H];H!=="className"&&K!==void 0&&(N[H]=K)});const j=SXe(z);if(j){const H=`${S(a.namespace)}-${j}`;N.className=N.className?`${N.className} ${H}`:H}return N},E=N=>{Array.isArray(N)?N.forEach(Q=>z(Q)):z(N);function z(Q){var j;((j=Q==null?void 0:Q.type)==null?void 0:j.name)==="ElTableColumn"&&(Q.vParent=r)}};return{columnId:i,realAlign:l,isSubColumn:s,realHeaderAlign:c,columnOrTableParent:f,setColumnWidth:y,setColumnForcedProps:T,setColumnRenders:N=>{t.renderHeader||N.type!=="selection"&&(N.renderHeader=Q=>(r.columnConfig.value.label,kt(e,"header",Q,()=>[N.label])));let z=N.renderCell;return N.type==="expand"?(N.renderCell=Q=>wr("div",{class:"cell"},[z(Q)]),n.value.renderExpanded=Q=>e.default?e.default(Q):e.default):(z=z||BXe,N.renderCell=Q=>{let j=null;if(e.default){const ee=e.default(Q);j=ee.some(ue=>ue.type!==Lc)?ee:z(Q)}else j=z(Q);const{columns:H}=n.value.store.states,K=H.value.findIndex(ee=>ee.type==="default"),ie=A.value&&Q.cellIndex===K,q=MXe(Q,ie),W={class:"cell",style:{}};return N.showOverflowTooltip&&(W.class=`${W.class} ${S(a.namespace)}-tooltip`,W.style={width:`${(Q.column.realWidth||Number(Q.column.width))-1}px`}),E(j),wr("div",W,[q,j])}),N},getPropsData:(...N)=>N.reduce((z,Q)=>(Array.isArray(Q)&&Q.forEach(j=>{z[j]=t[j]}),z),{}),getColumnElIndex:(N,z)=>Array.prototype.indexOf.call(N,z),updateColumnOrder:()=>{n.value.store.commit("updateColumnOrder",r.columnConfig.value)}}}var PXe={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:t=>t.every(e=>["ascending","descending",null].includes(e))}};let FXe=1;var Sse=Be({name:"ElTableColumn",components:{ElCheckbox:If},props:PXe,setup(t,{slots:e}){const n=ci(),r=Te({}),i=le(()=>{let R=n.parent;for(;R&&!R.tableId;)R=R.parent;return R}),{registerNormalWatchers:s,registerComplexWatchers:l}=IXe(i,t),{columnId:c,isSubColumn:a,realHeaderAlign:f,columnOrTableParent:A,setColumnWidth:m,setColumnForcedProps:_,setColumnRenders:y,getPropsData:T,getColumnElIndex:E,realAlign:P,updateColumnOrder:I}=LXe(t,e,i),F=A.value;c.value=`${F.tableId||F.columnId}_column_${FXe++}`,R8(()=>{a.value=i.value!==F;const R=t.type||"default",N=t.sortable===""?!0:t.sortable,z=Wo(t.showOverflowTooltip)?F.props.showOverflowTooltip:t.showOverflowTooltip,Q={...EXe[R],id:c.value,type:R,property:t.prop||t.property,align:P,headerAlign:f,showOverflowTooltip:z,filterable:t.filters||t.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:N,index:t.index,rawColumnKey:n.vnode.key};let q=T(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);q=FYe(Q,q),q=RYe(y,m,_)(q),r.value=q,s(),l()}),kr(()=>{var R;const N=A.value,z=a.value?N.vnode.el.children:(R=N.refs.hiddenColumns)==null?void 0:R.children,Q=()=>E(z||[],n.vnode.el);r.value.getColumnIndex=Q,Q()>-1&&i.value.store.commit("insertColumn",r.value,a.value?N.columnConfig.value:null,I)}),ds(()=>{r.value.getColumnIndex()>-1&&i.value.store.commit("removeColumn",r.value,a.value?F.columnConfig.value:null,I)}),n.columnId=c.value,n.columnConfig=r},render(){var t,e,n;try{const r=(e=(t=this.$slots).default)==null?void 0:e.call(t,{row:{},column:{},$index:-1}),i=[];if(Array.isArray(r))for(const l of r)((n=l.type)==null?void 0:n.name)==="ElTableColumn"||l.shapeFlag&2?i.push(l):l.type===Vn&&Array.isArray(l.children)&&l.children.forEach(c=>{(c==null?void 0:c.patchFlag)!==1024&&!Hr(c==null?void 0:c.children)&&i.push(c)});return wr("div",i)}catch{return wr("div",[])}}});const kXe=fi(xXe,{TableColumn:Sse}),RXe=ro(Sse);var QC=(t=>(t.ASC="asc",t.DESC="desc",t))(QC||{}),jC=(t=>(t.CENTER="center",t.RIGHT="right",t))(jC||{}),Tse=(t=>(t.LEFT="left",t.RIGHT="right",t))(Tse||{});const oR={asc:"desc",desc:"asc"},GC=Symbol("placeholder"),OXe=(t,e,n)=>{var r;const i={flexGrow:0,flexShrink:0,...n?{}:{flexGrow:t.flexGrow||0,flexShrink:t.flexShrink||1}};n||(i.flexShrink=1);const s={...(r=t.style)!=null?r:{},...i,flexBasis:"auto",width:t.width};return e||(t.maxWidth&&(s.maxWidth=t.maxWidth),t.minWidth&&(s.minWidth=t.minWidth)),s};function DXe(t,e,n){const r=le(()=>S(e).filter(E=>!E.hidden)),i=le(()=>S(r).filter(E=>E.fixed==="left"||E.fixed===!0)),s=le(()=>S(r).filter(E=>E.fixed==="right")),l=le(()=>S(r).filter(E=>!E.fixed)),c=le(()=>{const E=[];return S(i).forEach(P=>{E.push({...P,placeholderSign:GC})}),S(l).forEach(P=>{E.push(P)}),S(s).forEach(P=>{E.push({...P,placeholderSign:GC})}),E}),a=le(()=>S(i).length||S(s).length),f=le(()=>S(e).reduce((P,I)=>(P[I.key]=OXe(I,S(n),t.fixed),P),{})),A=le(()=>S(r).reduce((E,P)=>E+P.width,0)),m=E=>S(e).find(P=>P.key===E),_=E=>S(f)[E],y=(E,P)=>{E.width=P};function T(E){var P;const{key:I}=E.currentTarget.dataset;if(!I)return;const{sortState:F,sortBy:R}=t;let N=QC.ASC;Ai(F)?N=oR[F[I]]:N=oR[R.order],(P=t.onColumnSort)==null||P.call(t,{column:m(I),key:I,order:N})}return{columns:e,columnsStyles:f,columnsTotalWidth:A,fixedColumnsOnLeft:i,fixedColumnsOnRight:s,hasFixedColumns:a,mainColumns:c,normalColumns:l,visibleColumns:r,getColumn:m,getColumnStyle:_,updateColumnWidth:y,onColumnSorted:T}}const NXe=(t,{mainTableRef:e,leftTableRef:n,rightTableRef:r,onMaybeEndReached:i})=>{const s=Te({scrollLeft:0,scrollTop:0});function l(y){var T,E,P;const{scrollTop:I}=y;(T=e.value)==null||T.scrollTo(y),(E=n.value)==null||E.scrollToTop(I),(P=r.value)==null||P.scrollToTop(I)}function c(y){s.value=y,l(y)}function a(y){s.value.scrollTop=y,l(S(s))}function f(y){var T,E;s.value.scrollLeft=y,(E=(T=e.value)==null?void 0:T.scrollTo)==null||E.call(T,S(s))}function A(y){var T;c(y),(T=t.onScroll)==null||T.call(t,y)}function m({scrollTop:y}){const{scrollTop:T}=S(s);y!==T&&a(y)}function _(y,T="auto"){var E;(E=e.value)==null||E.scrollToRow(y,T)}return un(()=>S(s).scrollTop,(y,T)=>{y>T&&i()}),{scrollPos:s,scrollTo:c,scrollToLeft:f,scrollToTop:a,scrollToRow:_,onScroll:A,onVerticalScroll:m}},UXe=(t,{mainTableRef:e,leftTableRef:n,rightTableRef:r,tableInstance:i,ns:s,isScrolling:l})=>{const c=ci(),{emit:a}=c,f=ms(!1),A=Te(t.defaultExpandedRowKeys||[]),m=Te(-1),_=ms(null),y=Te({}),T=Te({}),E=ms({}),P=ms({}),I=ms({}),F=le(()=>Or(t.estimatedRowHeight));function R(ie){var q;(q=t.onRowsRendered)==null||q.call(t,ie),ie.rowCacheEnd>S(m)&&(m.value=ie.rowCacheEnd)}function N({hovered:ie,rowKey:q}){if(l.value)return;i.vnode.el.querySelectorAll(`[rowkey=${q}]`).forEach(ue=>{ie?ue.classList.add(s.is("hovered")):ue.classList.remove(s.is("hovered"))})}function z({expanded:ie,rowData:q,rowIndex:W,rowKey:ee}){var ue,J;const te=[...S(A)],ne=te.indexOf(ee);ie?ne===-1&&te.push(ee):ne>-1&&te.splice(ne,1),A.value=te,a("update:expandedRowKeys",te),(ue=t.onRowExpand)==null||ue.call(t,{expanded:ie,rowData:q,rowIndex:W,rowKey:ee}),(J=t.onExpandedRowsChange)==null||J.call(t,te)}const Q=$h(()=>{var ie,q,W,ee;f.value=!0,y.value={...S(y),...S(T)},j(S(_),!1),T.value={},_.value=null,(ie=e.value)==null||ie.forceUpdate(),(q=n.value)==null||q.forceUpdate(),(W=r.value)==null||W.forceUpdate(),(ee=c.proxy)==null||ee.$forceUpdate(),f.value=!1},0);function j(ie,q=!1){S(F)&&[e,n,r].forEach(W=>{const ee=S(W);ee&&ee.resetAfterRowIndex(ie,q)})}function H(ie,q,W){const ee=S(_);(ee===null||ee>W)&&(_.value=W),T.value[ie]=q}function K({rowKey:ie,height:q,rowIndex:W},ee){ee?ee===Tse.RIGHT?I.value[ie]=q:E.value[ie]=q:P.value[ie]=q;const ue=Math.max(...[E,I,P].map(J=>J.value[ie]||0));S(y)[ie]!==ue&&(H(ie,ue,W),Q())}return{expandedRowKeys:A,lastRenderedRowIndex:m,isDynamic:F,isResetting:f,rowHeights:y,resetAfterIndex:j,onRowExpanded:z,onRowHovered:N,onRowsRendered:R,onRowHeightChange:K}},zXe=(t,{expandedRowKeys:e,lastRenderedRowIndex:n,resetAfterIndex:r})=>{const i=Te({}),s=le(()=>{const c={},{data:a,rowKey:f}=t,A=S(e);if(!A||!A.length)return a;const m=[],_=new Set;A.forEach(T=>_.add(T));let y=a.slice();for(y.forEach(T=>c[T[f]]=0);y.length>0;){const T=y.shift();m.push(T),_.has(T[f])&&Array.isArray(T.children)&&T.children.length>0&&(y=[...T.children,...y],T.children.forEach(E=>c[E[f]]=c[T[f]]+1))}return i.value=c,m}),l=le(()=>{const{data:c,expandColumnKey:a}=t;return a?S(s):c});return un(l,(c,a)=>{c!==a&&(n.value=-1,r(0,!0))}),{data:l,depthMap:i}},$Xe=(t,e)=>t+e,ES=t=>Jn(t)?t.reduce($Xe,0):t,ly=(t,e,n={})=>Dr(t)?t(e):t??n,Tv=t=>(["width","maxWidth","minWidth","height"].forEach(e=>{t[e]=Co(t[e])}),t),Bse=t=>js(t)?e=>wr(t,e):t,VXe=(t,{columnsTotalWidth:e,data:n,fixedColumnsOnLeft:r,fixedColumnsOnRight:i})=>{const s=le(()=>{const{fixed:R,width:N,vScrollbarSize:z}=t,Q=N-z;return R?Math.max(Math.round(S(e)),Q):Q}),l=le(()=>S(s)+t.vScrollbarSize),c=le(()=>{const{height:R=0,maxHeight:N=0,footerHeight:z,hScrollbarSize:Q}=t;if(N>0){const j=S(T),H=S(a),ie=S(y)+j+H+Q;return Math.min(ie,N-z)}return R-z}),a=le(()=>{const{rowHeight:R,estimatedRowHeight:N}=t,z=S(n);return Or(N)?z.length*N:z.length*R}),f=le(()=>{const{maxHeight:R}=t,N=S(c);if(Or(R)&&R>0)return N;const z=S(a)+S(y)+S(T);return Math.min(N,z)}),A=R=>R.width,m=le(()=>ES(S(r).map(A))),_=le(()=>ES(S(i).map(A))),y=le(()=>ES(t.headerHeight)),T=le(()=>{var R;return(((R=t.fixedData)==null?void 0:R.length)||0)*t.rowHeight}),E=le(()=>S(c)-S(y)-S(T)),P=le(()=>{const{style:R={},height:N,width:z}=t;return Tv({...R,height:N,width:z})}),I=le(()=>Tv({height:t.footerHeight})),F=le(()=>({top:Co(S(y)),bottom:Co(t.footerHeight),width:Co(t.width)}));return{bodyWidth:s,fixedTableHeight:f,mainTableHeight:c,leftTableWidth:m,rightTableWidth:_,headerWidth:l,rowsHeight:a,windowHeight:E,footerHeight:I,emptyStyle:F,rootStyle:P,headerHeight:y}},HXe=t=>{const e=Te(),n=Te(0),r=Te(0);let i;return kr(()=>{i=eo(e,([s])=>{const{width:l,height:c}=s.contentRect,{paddingLeft:a,paddingRight:f,paddingTop:A,paddingBottom:m}=getComputedStyle(s.target),_=Number.parseInt(a)||0,y=Number.parseInt(f)||0,T=Number.parseInt(A)||0,E=Number.parseInt(m)||0;n.value=l-_-y,r.value=c-T-E}).stop}),ds(()=>{i==null||i()}),un([n,r],([s,l])=>{var c;(c=t.onResize)==null||c.call(t,{width:s,height:l})}),{sizer:e,width:n,height:r}};function QXe(t){const e=Te(),n=Te(),r=Te(),{columns:i,columnsStyles:s,columnsTotalWidth:l,fixedColumnsOnLeft:c,fixedColumnsOnRight:a,hasFixedColumns:f,mainColumns:A,onColumnSorted:m}=DXe(t,Oa(t,"columns"),Oa(t,"fixed")),{scrollTo:_,scrollToLeft:y,scrollToTop:T,scrollToRow:E,onScroll:P,onVerticalScroll:I,scrollPos:F}=NXe(t,{mainTableRef:e,leftTableRef:n,rightTableRef:r,onMaybeEndReached:Pe}),R=vn("table-v2"),N=ci(),z=ms(!1),{expandedRowKeys:Q,lastRenderedRowIndex:j,isDynamic:H,isResetting:K,rowHeights:ie,resetAfterIndex:q,onRowExpanded:W,onRowHeightChange:ee,onRowHovered:ue,onRowsRendered:J}=UXe(t,{mainTableRef:e,leftTableRef:n,rightTableRef:r,tableInstance:N,ns:R,isScrolling:z}),{data:te,depthMap:ne}=zXe(t,{expandedRowKeys:Q,lastRenderedRowIndex:j,resetAfterIndex:q}),{bodyWidth:he,fixedTableHeight:ce,mainTableHeight:ye,leftTableWidth:Ee,rightTableWidth:se,headerWidth:oe,rowsHeight:_e,windowHeight:Ue,footerHeight:Le,emptyStyle:be,rootStyle:Re,headerHeight:Qe}=VXe(t,{columnsTotalWidth:l,data:te,fixedColumnsOnLeft:c,fixedColumnsOnRight:a}),Je=Te(),nt=le(()=>{const Ge=S(te).length===0;return Jn(t.fixedData)?t.fixedData.length===0&&Ge:Ge});function Ve(Ge){const{estimatedRowHeight:Ne,rowHeight:je,rowKey:Ye}=t;return Ne?S(ie)[S(te)[Ge][Ye]]||Ne:je}function Pe(){const{onEndReached:Ge}=t;if(!Ge)return;const{scrollTop:Ne}=S(F),je=S(_e),Ye=S(Ue),vt=je-(Ne+Ye)+t.hScrollbarSize;S(j)>=0&&je===Ne+S(ye)-S(Qe)&&Ge(vt)}return un(()=>t.expandedRowKeys,Ge=>Q.value=Ge,{deep:!0}),{columns:i,containerRef:Je,mainTableRef:e,leftTableRef:n,rightTableRef:r,isDynamic:H,isResetting:K,isScrolling:z,hasFixedColumns:f,columnsStyles:s,columnsTotalWidth:l,data:te,expandedRowKeys:Q,depthMap:ne,fixedColumnsOnLeft:c,fixedColumnsOnRight:a,mainColumns:A,bodyWidth:he,emptyStyle:be,rootStyle:Re,headerWidth:oe,footerHeight:Le,mainTableHeight:ye,fixedTableHeight:ce,leftTableWidth:Ee,rightTableWidth:se,showEmpty:nt,getRowHeight:Ve,onColumnSorted:m,onRowHovered:ue,onRowExpanded:W,onRowsRendered:J,onRowHeightChange:ee,scrollTo:_,scrollToLeft:y,scrollToTop:T,scrollToRow:E,onScroll:P,onVerticalScroll:I}}const z9=Symbol("tableV2"),Mse=String,j6={type:Rt(Array),required:!0},$9={type:Rt(Array)},Ise={...$9,required:!0},jXe=String,hW={type:Rt(Array),default:()=>to([])},v_={type:Number,required:!0},Lse={type:Rt([String,Number,Symbol]),default:"id"},dW={type:Rt(Object)},M_=Ln({class:String,columns:j6,columnsStyles:{type:Rt(Object),required:!0},depth:Number,expandColumnKey:jXe,estimatedRowHeight:{...V_.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:Rt(Function)},onRowHover:{type:Rt(Function)},onRowHeightChange:{type:Rt(Function)},rowData:{type:Rt(Object),required:!0},rowEventHandlers:{type:Rt(Object)},rowIndex:{type:Number,required:!0},rowKey:Lse,style:{type:Rt(Object)}}),DL={type:Number,required:!0},V9=Ln({class:String,columns:j6,fixedHeaderData:{type:Rt(Array)},headerData:{type:Rt(Array),required:!0},headerHeight:{type:Rt([Number,Array]),default:50},rowWidth:DL,rowHeight:{type:Number,default:50},height:DL,width:DL}),SS=Ln({columns:j6,data:Ise,fixedData:$9,estimatedRowHeight:M_.estimatedRowHeight,width:v_,height:v_,headerWidth:v_,headerHeight:V9.headerHeight,bodyWidth:v_,rowHeight:v_,cache:Jae.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:V_.scrollbarAlwaysOn,scrollbarStartGap:V_.scrollbarStartGap,scrollbarEndGap:V_.scrollbarEndGap,class:Mse,style:dW,containerStyle:dW,getRowHeight:{type:Rt(Function),required:!0},rowKey:M_.rowKey,onRowsRendered:{type:Rt(Function)},onScroll:{type:Rt(Function)}}),GXe=Ln({cache:SS.cache,estimatedRowHeight:M_.estimatedRowHeight,rowKey:Lse,headerClass:{type:Rt([String,Function])},headerProps:{type:Rt([Object,Function])},headerCellProps:{type:Rt([Object,Function])},headerHeight:V9.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:Rt([String,Function])},rowProps:{type:Rt([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:Rt([Object,Function])},columns:j6,data:Ise,dataGetter:{type:Rt(Function)},fixedData:$9,expandColumnKey:M_.expandColumnKey,expandedRowKeys:hW,defaultExpandedRowKeys:hW,class:Mse,fixed:Boolean,style:{type:Rt(Object)},width:v_,height:v_,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:V_.hScrollbarSize,vScrollbarSize:V_.vScrollbarSize,scrollbarAlwaysOn:nse.alwaysOn,sortBy:{type:Rt(Object),default:()=>({})},sortState:{type:Rt(Object),default:void 0},onColumnSort:{type:Rt(Function)},onExpandedRowsChange:{type:Rt(Function)},onEndReached:{type:Rt(Function)},onRowExpand:M_.onRowExpand,onScroll:SS.onScroll,onRowsRendered:SS.onRowsRendered,rowEventHandlers:M_.rowEventHandlers}),H9=(t,{slots:e})=>{var n;const{cellData:r,style:i}=t,s=((n=r==null?void 0:r.toString)==null?void 0:n.call(r))||"",l=kt(e,"default",t,()=>[s]);return ht("div",{class:t.class,title:s,style:i},[l])};H9.displayName="ElTableV2Cell";H9.inheritAttrs=!1;const Q9=(t,{slots:e})=>kt(e,"default",t,()=>{var n,r;return[ht("div",{class:t.class,title:(n=t.column)==null?void 0:n.title},[(r=t.column)==null?void 0:r.title])]});Q9.displayName="ElTableV2HeaderCell";Q9.inheritAttrs=!1;const KXe=Ln({class:String,columns:j6,columnsStyles:{type:Rt(Object),required:!0},headerIndex:Number,style:{type:Rt(Object)}}),WXe=Be({name:"ElTableV2HeaderRow",props:KXe,setup(t,{slots:e}){return()=>{const{columns:n,columnsStyles:r,headerIndex:i,style:s}=t;let l=n.map((c,a)=>e.cell({columns:n,column:c,columnIndex:a,headerIndex:i,style:r[c.key]}));return e.header&&(l=e.header({cells:l.map(c=>Jn(c)&&c.length===1?c[0]:c),columns:n,headerIndex:i})),ht("div",{class:t.class,style:s,role:"row"},[l])}}}),qXe="ElTableV2Header",YXe=Be({name:qXe,props:V9,setup(t,{slots:e,expose:n}){const r=vn("table-v2"),i=Te(),s=le(()=>Tv({width:t.width,height:t.height})),l=le(()=>Tv({width:t.rowWidth,height:t.height})),c=le(()=>qv(S(t.headerHeight))),a=m=>{const _=S(i);dr(()=>{_!=null&&_.scroll&&_.scroll({left:m})})},f=()=>{const m=r.e("fixed-header-row"),{columns:_,fixedHeaderData:y,rowHeight:T}=t;return y==null?void 0:y.map((E,P)=>{var I;const F=Tv({height:T,width:"100%"});return(I=e.fixed)==null?void 0:I.call(e,{class:m,columns:_,rowData:E,rowIndex:-(P+1),style:F})})},A=()=>{const m=r.e("dynamic-header-row"),{columns:_}=t;return S(c).map((y,T)=>{var E;const P=Tv({width:"100%",height:y});return(E=e.dynamic)==null?void 0:E.call(e,{class:m,columns:_,headerIndex:T,style:P})})};return n({scrollToLeft:a}),()=>{if(!(t.height<=0))return ht("div",{ref:i,class:t.class,style:S(s),role:"rowgroup"},[ht("div",{style:S(l),class:r.e("header")},[A(),f()])])}}}),XXe=t=>{const{isScrolling:e}=ar(z9),n=Te(!1),r=Te(),i=le(()=>Or(t.estimatedRowHeight)&&t.rowIndex>=0),s=(a=!1)=>{const f=S(r);if(!f)return;const{columns:A,onRowHeightChange:m,rowKey:_,rowIndex:y,style:T}=t,{height:E}=f.getBoundingClientRect();n.value=!0,dr(()=>{if(a||E!==Number.parseInt(T.height)){const P=A[0],I=(P==null?void 0:P.placeholderSign)===GC;m==null||m({rowKey:_,height:E,rowIndex:y},P&&!I&&P.fixed)}})},l=le(()=>{const{rowData:a,rowIndex:f,rowKey:A,onRowHover:m}=t,_=t.rowEventHandlers||{},y={};return Object.entries(_).forEach(([T,E])=>{Dr(E)&&(y[T]=P=>{E({event:P,rowData:a,rowIndex:f,rowKey:A})})}),m&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:T,hovered:E})=>{const P=y[T];y[T]=I=>{m({event:I,hovered:E,rowData:a,rowIndex:f,rowKey:A}),P==null||P(I)}}),y}),c=a=>{const{onRowExpand:f,rowData:A,rowIndex:m,rowKey:_}=t;f==null||f({expanded:a,rowData:A,rowIndex:m,rowKey:_})};return kr(()=>{S(i)&&s(!0)}),{isScrolling:e,measurable:i,measured:n,rowRef:r,eventHandlers:l,onExpand:c}},ZXe="ElTableV2TableRow",JXe=Be({name:ZXe,props:M_,setup(t,{expose:e,slots:n,attrs:r}){const{eventHandlers:i,isScrolling:s,measurable:l,measured:c,rowRef:a,onExpand:f}=XXe(t);return e({onExpand:f}),()=>{const{columns:A,columnsStyles:m,expandColumnKey:_,depth:y,rowData:T,rowIndex:E,style:P}=t;let I=A.map((F,R)=>{const N=Jn(T.children)&&T.children.length>0&&F.key===_;return n.cell({column:F,columns:A,columnIndex:R,depth:y,style:m[F.key],rowData:T,rowIndex:E,isScrolling:S(s),expandIconProps:N?{rowData:T,rowIndex:E,onExpand:f}:void 0})});if(n.row&&(I=n.row({cells:I.map(F=>Jn(F)&&F.length===1?F[0]:F),style:P,columns:A,depth:y,rowData:T,rowIndex:E,isScrolling:S(s)})),S(l)){const{height:F,...R}=P||{},N=S(c);return ht("div",Xr({ref:a,class:t.class,style:N?P:R,role:"row"},r,S(i)),[I])}return ht("div",Xr(r,{ref:a,class:t.class,style:P,role:"row"},S(i)),[I])}}}),eZe=t=>{const{sortOrder:e}=t;return ht(Ar,{size:14,class:t.class},{default:()=>[e===QC.ASC?ht(hre,null,null):ht(cre,null,null)]})},tZe=t=>{const{expanded:e,expandable:n,onExpand:r,style:i,size:s}=t,l={onClick:n?()=>r(!e):void 0,class:t.class};return ht(Ar,Xr(l,{size:s,style:i}),{default:()=>[ht(Oc,null,null)]})},nZe="ElTableV2Grid",rZe=t=>{const e=Te(),n=Te(),r=le(()=>{const{data:E,rowHeight:P,estimatedRowHeight:I}=t;if(!I)return E.length*P}),i=le(()=>{const{fixedData:E,rowHeight:P}=t;return((E==null?void 0:E.length)||0)*P}),s=le(()=>ES(t.headerHeight)),l=le(()=>{const{height:E}=t;return Math.max(0,E-S(s)-S(i))}),c=le(()=>S(s)+S(i)>0),a=({data:E,rowIndex:P})=>E[P][t.rowKey];function f({rowCacheStart:E,rowCacheEnd:P,rowVisibleStart:I,rowVisibleEnd:F}){var R;(R=t.onRowsRendered)==null||R.call(t,{rowCacheStart:E,rowCacheEnd:P,rowVisibleStart:I,rowVisibleEnd:F})}function A(E,P){var I;(I=n.value)==null||I.resetAfterRowIndex(E,P)}function m(E,P){const I=S(e),F=S(n);Ai(E)?(I==null||I.scrollToLeft(E.scrollLeft),F==null||F.scrollTo(E)):(I==null||I.scrollToLeft(E),F==null||F.scrollTo({scrollLeft:E,scrollTop:P}))}function _(E){var P;(P=S(n))==null||P.scrollTo({scrollTop:E})}function y(E,P){var I;(I=S(n))==null||I.scrollToItem(E,1,P)}function T(){var E,P;(E=S(n))==null||E.$forceUpdate(),(P=S(e))==null||P.$forceUpdate()}return{bodyRef:n,forceUpdate:T,fixedRowHeight:i,gridHeight:l,hasHeader:c,headerHeight:s,headerRef:e,totalHeight:r,itemKey:a,onItemRendered:f,resetAfterRowIndex:A,scrollTo:m,scrollToTop:_,scrollToRow:y}},j9=Be({name:nZe,props:SS,setup(t,{slots:e,expose:n}){const{ns:r}=ar(z9),{bodyRef:i,fixedRowHeight:s,gridHeight:l,hasHeader:c,headerRef:a,headerHeight:f,totalHeight:A,forceUpdate:m,itemKey:_,onItemRendered:y,resetAfterRowIndex:T,scrollTo:E,scrollToTop:P,scrollToRow:I}=rZe(t);n({forceUpdate:m,totalHeight:A,scrollTo:E,scrollToTop:P,scrollToRow:I,resetAfterRowIndex:T});const F=()=>t.bodyWidth;return()=>{const{cache:R,columns:N,data:z,fixedData:Q,useIsScrolling:j,scrollbarAlwaysOn:H,scrollbarEndGap:K,scrollbarStartGap:ie,style:q,rowHeight:W,bodyWidth:ee,estimatedRowHeight:ue,headerWidth:J,height:te,width:ne,getRowHeight:he,onScroll:ce}=t,ye=Or(ue),Ee=ye?VWe:NWe,se=S(f);return ht("div",{role:"table",class:[r.e("table"),t.class],style:q},[ht(Ee,{ref:i,data:z,useIsScrolling:j,itemKey:_,columnCache:0,columnWidth:ye?F:ee,totalColumn:1,totalRow:z.length,rowCache:R,rowHeight:ye?he:W,width:ne,height:S(l),class:r.e("body"),role:"rowgroup",scrollbarStartGap:ie,scrollbarEndGap:K,scrollbarAlwaysOn:H,onScroll:ce,onItemRendered:y,perfMode:!1},{default:oe=>{var _e;const Ue=z[oe.rowIndex];return(_e=e.row)==null?void 0:_e.call(e,{...oe,columns:N,rowData:Ue})}}),S(c)&&ht(YXe,{ref:a,class:r.e("header-wrapper"),columns:N,headerData:z,headerHeight:t.headerHeight,fixedHeaderData:Q,rowWidth:J,rowHeight:W,width:ne,height:Math.min(se+S(s),te)},{dynamic:e.header,fixed:e.row})])}}});function iZe(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!js(t)}const aZe=(t,{slots:e})=>{const{mainTableRef:n,...r}=t;return ht(j9,Xr({ref:n},r),iZe(e)?e:{default:()=>[e]})};function sZe(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!js(t)}const oZe=(t,{slots:e})=>{if(!t.columns.length)return;const{leftTableRef:n,...r}=t;return ht(j9,Xr({ref:n},r),sZe(e)?e:{default:()=>[e]})};function lZe(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!js(t)}const uZe=(t,{slots:e})=>{if(!t.columns.length)return;const{rightTableRef:n,...r}=t;return ht(j9,Xr({ref:n},r),lZe(e)?e:{default:()=>[e]})};function cZe(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!js(t)}const hZe=(t,{slots:e})=>{const{columns:n,columnsStyles:r,depthMap:i,expandColumnKey:s,expandedRowKeys:l,estimatedRowHeight:c,hasFixedColumns:a,rowData:f,rowIndex:A,style:m,isScrolling:_,rowProps:y,rowClass:T,rowKey:E,rowEventHandlers:P,ns:I,onRowHovered:F,onRowExpanded:R}=t,N=ly(T,{columns:n,rowData:f,rowIndex:A},""),z=ly(y,{columns:n,rowData:f,rowIndex:A}),Q=f[E],j=i[Q]||0,H=!!s,K=A<0,ie=[I.e("row"),N,{[I.e(`row-depth-${j}`)]:H&&A>=0,[I.is("expanded")]:H&&l.includes(Q),[I.is("fixed")]:!j&&K,[I.is("customized")]:!!e.row}],q=a?F:void 0,W={...z,columns:n,columnsStyles:r,class:ie,depth:j,expandColumnKey:s,estimatedRowHeight:K?void 0:c,isScrolling:_,rowIndex:A,rowData:f,rowKey:Q,rowEventHandlers:P,style:m};return ht(JXe,Xr(W,{onRowExpand:R,onMouseenter:J=>{q==null||q({hovered:!0,rowKey:Q,event:J,rowData:f,rowIndex:A})},onMouseleave:J=>{q==null||q({hovered:!1,rowKey:Q,event:J,rowData:f,rowIndex:A})},rowkey:Q}),cZe(e)?e:{default:()=>[e]})},lR=({columns:t,column:e,columnIndex:n,depth:r,expandIconProps:i,isScrolling:s,rowData:l,rowIndex:c,style:a,expandedRowKeys:f,ns:A,cellProps:m,expandColumnKey:_,indentSize:y,iconSize:T,rowKey:E},{slots:P})=>{const I=Tv(a);if(e.placeholderSign===GC)return ht("div",{class:A.em("row-cell","placeholder"),style:I},null);const{cellRenderer:F,dataKey:R,dataGetter:N}=e,z=Dr(N)?N({columns:t,column:e,columnIndex:n,rowData:l,rowIndex:c}):Fo(l,R??""),Q=ly(m,{cellData:z,columns:t,column:e,columnIndex:n,rowIndex:c,rowData:l}),j={class:A.e("cell-text"),columns:t,column:e,columnIndex:n,cellData:z,isScrolling:s,rowData:l,rowIndex:c},H=Bse(F),K=H?H(j):kt(P,"default",j,()=>[ht(H9,j,null)]),ie=[A.e("row-cell"),e.class,e.align===jC.CENTER&&A.is("align-center"),e.align===jC.RIGHT&&A.is("align-right")],q=c>=0&&_&&e.key===_,W=c>=0&&f.includes(l[E]);let ee;const ue=`margin-inline-start: ${r*y}px;`;return q&&(Ai(i)?ee=ht(tZe,Xr(i,{class:[A.e("expand-icon"),A.is("expanded",W)],size:T,expanded:W,style:ue,expandable:!0}),null):ee=ht("div",{style:[ue,`width: ${T}px; height: ${T}px;`].join(" ")},null)),ht("div",Xr({class:ie,style:I},Q,{role:"cell"}),[ee,K])};lR.inheritAttrs=!1;function dZe(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!js(t)}const fZe=({columns:t,columnsStyles:e,headerIndex:n,style:r,headerClass:i,headerProps:s,ns:l},{slots:c})=>{const a={columns:t,headerIndex:n},f=[l.e("header-row"),ly(i,a,""),{[l.is("customized")]:!!c.header}],A={...ly(s,a),columnsStyles:e,class:f,columns:t,headerIndex:n,style:r};return ht(WXe,A,dZe(c)?c:{default:()=>[c]})},fW=(t,{slots:e})=>{const{column:n,ns:r,style:i,onColumnSorted:s}=t,l=Tv(i);if(n.placeholderSign===GC)return ht("div",{class:r.em("header-row-cell","placeholder"),style:l},null);const{headerCellRenderer:c,headerClass:a,sortable:f}=n,A={...t,class:r.e("header-cell-text")},m=Bse(c),_=m?m(A):kt(e,"default",A,()=>[ht(Q9,A,null)]),{sortBy:y,sortState:T,headerCellProps:E}=t;let P,I;if(T){const N=T[n.key];P=!!oR[N],I=P?N:QC.ASC}else P=n.key===y.key,I=P?y.order:QC.ASC;const F=[r.e("header-cell"),ly(a,t,""),n.align===jC.CENTER&&r.is("align-center"),n.align===jC.RIGHT&&r.is("align-right"),f&&r.is("sortable")],R={...ly(E,t),onClick:n.sortable?s:void 0,class:F,style:l,"data-key":n.key};return ht("div",Xr(R,{role:"columnheader"}),[_,f&&ht(eZe,{class:[r.e("sort-icon"),P&&r.is("sorting")],sortOrder:I},null)])},Pse=(t,{slots:e})=>{var n;return ht("div",{class:t.class,style:t.style},[(n=e.default)==null?void 0:n.call(e)])};Pse.displayName="ElTableV2Footer";const Fse=(t,{slots:e})=>{const n=kt(e,"default",{},()=>[ht(Dae,null,null)]);return ht("div",{class:t.class,style:t.style},[n])};Fse.displayName="ElTableV2Empty";const kse=(t,{slots:e})=>{var n;return ht("div",{class:t.class,style:t.style},[(n=e.default)==null?void 0:n.call(e)])};kse.displayName="ElTableV2Overlay";function Qx(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!js(t)}const pZe="ElTableV2",AZe=Be({name:pZe,props:GXe,setup(t,{slots:e,expose:n}){const r=vn("table-v2"),{columnsStyles:i,fixedColumnsOnLeft:s,fixedColumnsOnRight:l,mainColumns:c,mainTableHeight:a,fixedTableHeight:f,leftTableWidth:A,rightTableWidth:m,data:_,depthMap:y,expandedRowKeys:T,hasFixedColumns:E,mainTableRef:P,leftTableRef:I,rightTableRef:F,isDynamic:R,isResetting:N,isScrolling:z,bodyWidth:Q,emptyStyle:j,rootStyle:H,headerWidth:K,footerHeight:ie,showEmpty:q,scrollTo:W,scrollToLeft:ee,scrollToTop:ue,scrollToRow:J,getRowHeight:te,onColumnSorted:ne,onRowHeightChange:he,onRowHovered:ce,onRowExpanded:ye,onRowsRendered:Ee,onScroll:se,onVerticalScroll:oe}=QXe(t);return n({scrollTo:W,scrollToLeft:ee,scrollToTop:ue,scrollToRow:J}),Ii(z9,{ns:r,isResetting:N,isScrolling:z}),()=>{const{cache:_e,cellProps:Ue,estimatedRowHeight:Le,expandColumnKey:be,fixedData:Re,headerHeight:Qe,headerClass:Je,headerProps:nt,headerCellProps:Ve,sortBy:Pe,sortState:Ge,rowHeight:Ne,rowClass:je,rowEventHandlers:Ye,rowKey:vt,rowProps:Lt,scrollbarAlwaysOn:Et,indentSize:Vt,iconSize:_t,useIsScrolling:qt,vScrollbarSize:tn,width:Nt}=t,wt=S(_),De={cache:_e,class:r.e("main"),columns:S(c),data:wt,fixedData:Re,estimatedRowHeight:Le,bodyWidth:S(Q)+tn,headerHeight:Qe,headerWidth:S(K),height:S(a),mainTableRef:P,rowKey:vt,rowHeight:Ne,scrollbarAlwaysOn:Et,scrollbarStartGap:2,scrollbarEndGap:tn,useIsScrolling:qt,width:Nt,getRowHeight:te,onRowsRendered:Ee,onScroll:se},We=S(A),ut=S(f),It={cache:_e,class:r.e("left"),columns:S(s),data:wt,estimatedRowHeight:Le,leftTableRef:I,rowHeight:Ne,bodyWidth:We,headerWidth:We,headerHeight:Qe,height:ut,rowKey:vt,scrollbarAlwaysOn:Et,scrollbarStartGap:2,scrollbarEndGap:tn,useIsScrolling:qt,width:We,getRowHeight:te,onScroll:oe},Pt=S(m)+tn,Bt={cache:_e,class:r.e("right"),columns:S(l),data:wt,estimatedRowHeight:Le,rightTableRef:F,rowHeight:Ne,bodyWidth:Pt,headerWidth:Pt,headerHeight:Qe,height:ut,rowKey:vt,scrollbarAlwaysOn:Et,scrollbarStartGap:2,scrollbarEndGap:tn,width:Pt,style:`--${S(r.namespace)}-table-scrollbar-size: ${tn}px`,useIsScrolling:qt,getRowHeight:te,onScroll:oe},it=S(i),Mt={ns:r,depthMap:S(y),columnsStyles:it,expandColumnKey:be,expandedRowKeys:S(T),estimatedRowHeight:Le,hasFixedColumns:S(E),rowProps:Lt,rowClass:je,rowKey:vt,rowEventHandlers:Ye,onRowHovered:ce,onRowExpanded:ye,onRowHeightChange:he},at={cellProps:Ue,expandColumnKey:be,indentSize:Vt,iconSize:_t,rowKey:vt,expandedRowKeys:S(T),ns:r},et={ns:r,headerClass:Je,headerProps:nt,columnsStyles:it},St={ns:r,sortBy:Pe,sortState:Ge,headerCellProps:Ve,onColumnSorted:ne},sn={row:tr=>ht(hZe,Xr(tr,Mt),{row:e.row,cell:Nn=>{let lr;return e.cell?ht(lR,Xr(Nn,at,{style:it[Nn.column.key]}),Qx(lr=e.cell(Nn))?lr:{default:()=>[lr]}):ht(lR,Xr(Nn,at,{style:it[Nn.column.key]}),null)}}),header:tr=>ht(fZe,Xr(tr,et),{header:e.header,cell:Nn=>{let lr;return e["header-cell"]?ht(fW,Xr(Nn,St,{style:it[Nn.column.key]}),Qx(lr=e["header-cell"](Nn))?lr:{default:()=>[lr]}):ht(fW,Xr(Nn,St,{style:it[Nn.column.key]}),null)}})},bn=[t.class,r.b(),r.e("root"),{[r.is("dynamic")]:S(R)}],gr={class:r.e("footer"),style:S(ie)};return ht("div",{class:bn,style:S(H)},[ht(aZe,De,Qx(sn)?sn:{default:()=>[sn]}),ht(oZe,It,Qx(sn)?sn:{default:()=>[sn]}),ht(uZe,Bt,Qx(sn)?sn:{default:()=>[sn]}),e.footer&&ht(Pse,gr,{default:e.footer}),S(q)&&ht(Fse,{class:r.e("empty"),style:S(j)},{default:e.empty}),e.overlay&&ht(kse,{class:r.e("overlay")},{default:e.overlay})])}}}),mZe=Ln({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:Rt(Function)}}),gZe=Be({name:"ElAutoResizer",props:mZe,setup(t,{slots:e}){const n=vn("auto-resizer"),{height:r,width:i,sizer:s}=HXe(t),l={width:"100%",height:"100%"};return()=>{var c;return ht("div",{ref:s,class:n.b(),style:l},[(c=e.default)==null?void 0:c.call(e,{height:r.value,width:i.value})])}}}),vZe=fi(AZe),_Ze=fi(gZe),mB=Symbol("tabsRootContextKey"),yZe=Ln({tabs:{type:Rt(Array),default:()=>to([])}}),Rse="ElTabBar",bZe=Be({name:Rse}),wZe=Be({...bZe,props:yZe,setup(t,{expose:e}){const n=t,r=ci(),i=ar(mB);i||kl(Rse,"<el-tabs><el-tab-bar /></el-tabs>");const s=vn("tabs"),l=Te(),c=Te(),a=()=>{let A=0,m=0;const _=["top","bottom"].includes(i.props.tabPosition)?"width":"height",y=_==="width"?"x":"y",T=y==="x"?"left":"top";return n.tabs.every(E=>{var P,I;const F=(I=(P=r.parent)==null?void 0:P.refs)==null?void 0:I[`tab-${E.uid}`];if(!F)return!1;if(!E.active)return!0;A=F[`offset${qA(T)}`],m=F[`client${qA(_)}`];const R=window.getComputedStyle(F);return _==="width"&&(n.tabs.length>1&&(m-=Number.parseFloat(R.paddingLeft)+Number.parseFloat(R.paddingRight)),A+=Number.parseFloat(R.paddingLeft)),!1}),{[_]:`${m}px`,transform:`translate${qA(y)}(${A}px)`}},f=()=>c.value=a();return un(()=>n.tabs,async()=>{await dr(),f()},{immediate:!0}),eo(l,()=>f()),e({ref:l,update:f}),(A,m)=>(X(),ve("div",{ref_key:"barRef",ref:l,class:Se([S(s).e("active-bar"),S(s).is(S(i).props.tabPosition)]),style:or(c.value)},null,6))}});var xZe=kn(wZe,[["__file","tab-bar.vue"]]);const CZe=Ln({panes:{type:Rt(Array),default:()=>to([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),EZe={tabClick:(t,e,n)=>n instanceof Event,tabRemove:(t,e)=>e instanceof Event},pW="ElTabNav",SZe=Be({name:pW,props:CZe,emits:EZe,setup(t,{expose:e,emit:n}){const r=ci(),i=ar(mB);i||kl(pW,"<el-tabs><tab-nav /></el-tabs>");const s=vn("tabs"),l=P2e(),c=Q2e(),a=Te(),f=Te(),A=Te(),m=Te(),_=Te(!1),y=Te(0),T=Te(!1),E=Te(!0),P=le(()=>["top","bottom"].includes(i.props.tabPosition)?"width":"height"),I=le(()=>({transform:`translate${P.value==="width"?"X":"Y"}(-${y.value}px)`})),F=()=>{if(!a.value)return;const K=a.value[`offset${qA(P.value)}`],ie=y.value;if(!ie)return;const q=ie>K?ie-K:0;y.value=q},R=()=>{if(!a.value||!f.value)return;const K=f.value[`offset${qA(P.value)}`],ie=a.value[`offset${qA(P.value)}`],q=y.value;if(K-q<=ie)return;const W=K-q>ie*2?q+ie:K-ie;y.value=W},N=async()=>{const K=f.value;if(!_.value||!A.value||!a.value||!K)return;await dr();const ie=A.value.querySelector(".is-active");if(!ie)return;const q=a.value,W=["top","bottom"].includes(i.props.tabPosition),ee=ie.getBoundingClientRect(),ue=q.getBoundingClientRect(),J=W?K.offsetWidth-ue.width:K.offsetHeight-ue.height,te=y.value;let ne=te;W?(ee.left<ue.left&&(ne=te-(ue.left-ee.left)),ee.right>ue.right&&(ne=te+ee.right-ue.right)):(ee.top<ue.top&&(ne=te-(ue.top-ee.top)),ee.bottom>ue.bottom&&(ne=te+(ee.bottom-ue.bottom))),ne=Math.max(ne,0),y.value=Math.min(ne,J)},z=()=>{var K;if(!f.value||!a.value)return;t.stretch&&((K=m.value)==null||K.update());const ie=f.value[`offset${qA(P.value)}`],q=a.value[`offset${qA(P.value)}`],W=y.value;q<ie?(_.value=_.value||{},_.value.prev=W,_.value.next=W+q<ie,ie-W<q&&(y.value=ie-q)):(_.value=!1,W>0&&(y.value=0))},Q=K=>{const ie=K.code,{up:q,down:W,left:ee,right:ue}=Tr;if(![q,W,ee,ue].includes(ie))return;const J=Array.from(K.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),te=J.indexOf(K.target);let ne;ie===ee||ie===q?te===0?ne=J.length-1:ne=te-1:te<J.length-1?ne=te+1:ne=0,J[ne].focus({preventScroll:!0}),J[ne].click(),j()},j=()=>{E.value&&(T.value=!0)},H=()=>T.value=!1;return un(l,K=>{K==="hidden"?E.value=!1:K==="visible"&&setTimeout(()=>E.value=!0,50)}),un(c,K=>{K?setTimeout(()=>E.value=!0,50):E.value=!1}),eo(A,z),kr(()=>setTimeout(()=>N(),0)),i0(()=>z()),e({scrollToActiveTab:N,removeFocus:H}),un(()=>t.panes,()=>r.update(),{flush:"post",deep:!0}),()=>{const K=_.value?[ht("span",{class:[s.e("nav-prev"),s.is("disabled",!_.value.prev)],onClick:F},[ht(Ar,null,{default:()=>[ht(qg,null,null)]})]),ht("span",{class:[s.e("nav-next"),s.is("disabled",!_.value.next)],onClick:R},[ht(Ar,null,{default:()=>[ht(Oc,null,null)]})])]:null,ie=t.panes.map((q,W)=>{var ee,ue,J,te;const ne=q.uid,he=q.props.disabled,ce=(ue=(ee=q.props.name)!=null?ee:q.index)!=null?ue:`${W}`,ye=!he&&(q.isClosable||t.editable);q.index=`${W}`;const Ee=ye?ht(Ar,{class:"is-icon-close",onClick:_e=>n("tabRemove",q,_e)},{default:()=>[ht(Tf,null,null)]}):null,se=((te=(J=q.slots).label)==null?void 0:te.call(J))||q.props.label,oe=!he&&q.active?0:-1;return ht("div",{ref:`tab-${ne}`,class:[s.e("item"),s.is(i.props.tabPosition),s.is("active",q.active),s.is("disabled",he),s.is("closable",ye),s.is("focus",T.value)],id:`tab-${ce}`,key:`tab-${ne}`,"aria-controls":`pane-${ce}`,role:"tab","aria-selected":q.active,tabindex:oe,onFocus:()=>j(),onBlur:()=>H(),onClick:_e=>{H(),n("tabClick",q,ce,_e)},onKeydown:_e=>{ye&&(_e.code===Tr.delete||_e.code===Tr.backspace)&&n("tabRemove",q,_e)}},[se,Ee])});return ht("div",{ref:A,class:[s.e("nav-wrap"),s.is("scrollable",!!_.value),s.is(i.props.tabPosition)]},[K,ht("div",{class:s.e("nav-scroll"),ref:a},[ht("div",{class:[s.e("nav"),s.is(i.props.tabPosition),s.is("stretch",t.stretch&&["top","bottom"].includes(i.props.tabPosition))],ref:f,style:I.value,role:"tablist",onKeydown:Q},[t.type?null:ht(xZe,{ref:m,tabs:[...t.panes]},null),ie])])])}}}),TZe=Ln({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:Rt(Function),default:()=>!0},stretch:Boolean}),NL=t=>Hr(t)||Or(t),BZe={[vi]:t=>NL(t),tabClick:(t,e)=>e instanceof Event,tabChange:t=>NL(t),edit:(t,e)=>["remove","add"].includes(e),tabRemove:t=>NL(t),tabAdd:()=>!0},MZe=Be({name:"ElTabs",props:TZe,emits:BZe,setup(t,{emit:e,slots:n,expose:r}){var i;const s=vn("tabs"),{children:l,addChild:c,removeChild:a}=d9(ci(),"ElTabPane"),f=Te(),A=Te((i=t.modelValue)!=null?i:"0"),m=async(E,P=!1)=>{var I,F,R;if(!(A.value===E||Wo(E)))try{await((I=t.beforeLeave)==null?void 0:I.call(t,E,A.value))!==!1&&(A.value=E,P&&(e(vi,E),e("tabChange",E)),(R=(F=f.value)==null?void 0:F.removeFocus)==null||R.call(F))}catch{}},_=(E,P,I)=>{E.props.disabled||(m(P,!0),e("tabClick",E,I))},y=(E,P)=>{E.props.disabled||Wo(E.props.name)||(P.stopPropagation(),e("edit",E.props.name,"remove"),e("tabRemove",E.props.name))},T=()=>{e("edit",void 0,"add"),e("tabAdd")};return un(()=>t.modelValue,E=>m(E)),un(A,async()=>{var E;await dr(),(E=f.value)==null||E.scrollToActiveTab()}),Ii(mB,{props:t,currentName:A,registerPane:c,unregisterPane:a}),r({currentName:A}),()=>{const E=n["add-icon"],P=t.editable||t.addable?ht("span",{class:s.e("new-tab"),tabindex:"0",onClick:T,onKeydown:R=>{R.code===Tr.enter&&T()}},[E?kt(n,"add-icon"):ht(Ar,{class:s.is("icon-plus")},{default:()=>[ht(UN,null,null)]})]):null,I=ht("div",{class:[s.e("header"),s.is(t.tabPosition)]},[P,ht(SZe,{ref:f,currentName:A.value,editable:t.editable,type:t.type,panes:l.value,stretch:t.stretch,onTabClick:_,onTabRemove:y},null)]),F=ht("div",{class:s.e("content")},[kt(n,"default")]);return ht("div",{class:[s.b(),s.m(t.tabPosition),{[s.m("card")]:t.type==="card",[s.m("border-card")]:t.type==="border-card"}]},[...t.tabPosition!=="bottom"?[I,F]:[F,I]])}}}),IZe=Ln({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),LZe=["id","aria-hidden","aria-labelledby"],Ose="ElTabPane",PZe=Be({name:Ose}),FZe=Be({...PZe,props:IZe,setup(t){const e=t,n=ci(),r=Eo(),i=ar(mB);i||kl(Ose,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const s=vn("tab-pane"),l=Te(),c=le(()=>e.closable||i.props.closable),a=jj(()=>{var y;return i.currentName.value===((y=e.name)!=null?y:l.value)}),f=Te(a.value),A=le(()=>{var y;return(y=e.name)!=null?y:l.value}),m=jj(()=>!e.lazy||f.value||a.value);un(a,y=>{y&&(f.value=!0)});const _=ua({uid:n.uid,slots:r,props:e,paneName:A,active:a,index:l,isClosable:c});return kr(()=>{i.registerPane(_)}),Rf(()=>{i.unregisterPane(_.uid)}),(y,T)=>S(m)?Jr((X(),ve("div",{key:0,id:`pane-${S(A)}`,class:Se(S(s).b()),role:"tabpanel","aria-hidden":!S(a),"aria-labelledby":`tab-${S(A)}`},[kt(y.$slots,"default")],10,LZe)),[[la,S(a)]]):bt("v-if",!0)}});var Dse=kn(FZe,[["__file","tab-pane.vue"]]);const kZe=fi(MZe,{TabPane:Dse}),RZe=ro(Dse),OZe=Ln({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:Sm,default:""},truncated:{type:Boolean},lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),DZe=Be({name:"ElText"}),NZe=Be({...DZe,props:OZe,setup(t){const e=t,n=hl(),r=vn("text"),i=le(()=>[r.b(),r.m(e.type),r.m(n.value),r.is("truncated",e.truncated),r.is("line-clamp",!Wo(e.lineClamp))]);return(s,l)=>(X(),Ut(di(s.tag),{class:Se(S(i)),style:or({"-webkit-line-clamp":s.lineClamp})},{default:xt(()=>[kt(s.$slots,"default")]),_:3},8,["class","style"]))}});var UZe=kn(NZe,[["__file","text.vue"]]);const zZe=fi(UZe),$Ze=Ln({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:String,default:"light"},clearable:{type:Boolean,default:!0},size:ru,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:Rt([String,Object]),default:()=>NN},clearIcon:{type:Rt([String,Object]),default:()=>o0},...F2}),Og=t=>{const e=(t||"").split(":");if(e.length>=2){let n=Number.parseInt(e[0],10);const r=Number.parseInt(e[1],10),i=t.toUpperCase();return i.includes("AM")&&n===12?n=0:i.includes("PM")&&n!==12&&(n+=12),{hours:n,minutes:r}}return null},UL=(t,e)=>{const n=Og(t);if(!n)return-1;const r=Og(e);if(!r)return-1;const i=n.minutes+n.hours*60,s=r.minutes+r.hours*60;return i===s?0:i>s?1:-1},AW=t=>`${t}`.padStart(2,"0"),Qb=t=>`${AW(t.hours)}:${AW(t.minutes)}`,VZe=(t,e)=>{const n=Og(t);if(!n)return"";const r=Og(e);if(!r)return"";const i={hours:n.hours,minutes:n.minutes};return i.minutes+=r.minutes,i.hours+=r.hours,i.hours+=Math.floor(i.minutes/60),i.minutes=i.minutes%60,Qb(i)},HZe=Be({name:"ElTimeSelect"}),QZe=Be({...HZe,props:$Ze,emits:["change","blur","focus","update:modelValue"],setup(t,{expose:e}){const n=t;pi.extend(_9);const{Option:r}=oy,i=vn("input"),s=Te(),l=oh(),{lang:c}=ca(),a=le(()=>n.modelValue),f=le(()=>{const I=Og(n.start);return I?Qb(I):null}),A=le(()=>{const I=Og(n.end);return I?Qb(I):null}),m=le(()=>{const I=Og(n.step);return I?Qb(I):null}),_=le(()=>{const I=Og(n.minTime||"");return I?Qb(I):null}),y=le(()=>{const I=Og(n.maxTime||"");return I?Qb(I):null}),T=le(()=>{const I=[];if(n.start&&n.end&&n.step){let F=f.value,R;for(;F&&A.value&&UL(F,A.value)<=0;)R=pi(F,"HH:mm").locale(c.value).format(n.format),I.push({value:R,disabled:UL(F,_.value||"-1:-1")<=0||UL(F,y.value||"100:100")>=0}),F=VZe(F,m.value)}return I});return e({blur:()=>{var I,F;(F=(I=s.value)==null?void 0:I.blur)==null||F.call(I)},focus:()=>{var I,F;(F=(I=s.value)==null?void 0:I.focus)==null||F.call(I)}}),(I,F)=>(X(),Ut(S(oy),{ref_key:"select",ref:s,"model-value":S(a),disabled:S(l),clearable:I.clearable,"clear-icon":I.clearIcon,size:I.size,effect:I.effect,placeholder:I.placeholder,"default-first-option":"",filterable:I.editable,"empty-values":I.emptyValues,"value-on-clear":I.valueOnClear,"onUpdate:modelValue":F[0]||(F[0]=R=>I.$emit("update:modelValue",R)),onChange:F[1]||(F[1]=R=>I.$emit("change",R)),onBlur:F[2]||(F[2]=R=>I.$emit("blur",R)),onFocus:F[3]||(F[3]=R=>I.$emit("focus",R))},{prefix:xt(()=>[I.prefixIcon?(X(),Ut(S(Ar),{key:0,class:Se(S(i).e("prefix-icon"))},{default:xt(()=>[(X(),Ut(di(I.prefixIcon)))]),_:1},8,["class"])):bt("v-if",!0)]),default:xt(()=>[(X(!0),ve(Vn,null,Yr(S(T),R=>(X(),Ut(S(r),{key:R.value,label:R.value,value:R.value,disabled:R.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear"]))}});var TS=kn(QZe,[["__file","time-select.vue"]]);TS.install=t=>{t.component(TS.name,TS)};const jZe=TS,GZe=jZe,KZe=Be({name:"ElTimeline",setup(t,{slots:e}){const n=vn("timeline");return Ii("timeline",e),()=>wr("ul",{class:[n.b()]},[kt(e,"default")])}}),WZe=Ln({timestamp:{type:String,default:""},hideTimestamp:{type:Boolean,default:!1},center:{type:Boolean,default:!1},placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:Ja},hollow:{type:Boolean,default:!1}}),qZe=Be({name:"ElTimelineItem"}),YZe=Be({...qZe,props:WZe,setup(t){const e=t,n=vn("timeline-item"),r=le(()=>[n.e("node"),n.em("node",e.size||""),n.em("node",e.type||""),n.is("hollow",e.hollow)]);return(i,s)=>(X(),ve("li",{class:Se([S(n).b(),{[S(n).e("center")]:i.center}])},[pe("div",{class:Se(S(n).e("tail"))},null,2),i.$slots.dot?bt("v-if",!0):(X(),ve("div",{key:0,class:Se(S(r)),style:or({backgroundColor:i.color})},[i.icon?(X(),Ut(S(Ar),{key:0,class:Se(S(n).e("icon"))},{default:xt(()=>[(X(),Ut(di(i.icon)))]),_:1},8,["class"])):bt("v-if",!0)],6)),i.$slots.dot?(X(),ve("div",{key:1,class:Se(S(n).e("dot"))},[kt(i.$slots,"dot")],2)):bt("v-if",!0),pe("div",{class:Se(S(n).e("wrapper"))},[!i.hideTimestamp&&i.placement==="top"?(X(),ve("div",{key:0,class:Se([S(n).e("timestamp"),S(n).is("top")])},Cn(i.timestamp),3)):bt("v-if",!0),pe("div",{class:Se(S(n).e("content"))},[kt(i.$slots,"default")],2),!i.hideTimestamp&&i.placement==="bottom"?(X(),ve("div",{key:1,class:Se([S(n).e("timestamp"),S(n).is("bottom")])},Cn(i.timestamp),3)):bt("v-if",!0)],2)],2))}});var Nse=kn(YZe,[["__file","timeline-item.vue"]]);const XZe=fi(KZe,{TimelineItem:Nse}),ZZe=ro(Nse),Use=Ln({nowrap:Boolean});var zse=(t=>(t.top="top",t.bottom="bottom",t.left="left",t.right="right",t))(zse||{});const JZe=Object.values(zse),G9=Ln({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:Rt(Object),default:null}}),eJe=Ln({side:{type:Rt(String),values:JZe,required:!0}}),tJe=["absolute","fixed"],nJe=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],K9=Ln({arrowPadding:{type:Rt(Number),default:5},effect:{type:String,default:""},contentClass:String,placement:{type:Rt(String),values:nJe,default:"bottom"},reference:{type:Rt(Object),default:null},offset:{type:Number,default:8},strategy:{type:Rt(String),values:tJe,default:"absolute"},showArrow:{type:Boolean,default:!1},...Vu(["ariaLabel"])}),W9=Ln({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:Rt(Function)},"onUpdate:open":{type:Rt(Function)}}),_b={type:Rt(Function)},q9=Ln({onBlur:_b,onClick:_b,onFocus:_b,onMouseDown:_b,onMouseEnter:_b,onMouseLeave:_b}),rJe=Ln({...W9,...G9,...q9,...K9,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:Rt(Object),default:null},teleported:Boolean,to:{type:Rt(String),default:"body"}}),gB=Symbol("tooltipV2"),$se=Symbol("tooltipV2Content"),zL="tooltip_v2.open",iJe=Be({name:"ElTooltipV2Root"}),aJe=Be({...iJe,props:W9,setup(t,{expose:e}){const n=t,r=Te(n.defaultOpen),i=Te(null),s=le({get:()=>ty(n.open)?r.value:n.open,set:P=>{var I;r.value=P,(I=n["onUpdate:open"])==null||I.call(n,P)}}),l=le(()=>Or(n.delayDuration)&&n.delayDuration>0),{start:c,stop:a}=J_(()=>{s.value=!0},le(()=>n.delayDuration),{immediate:!1}),f=vn("tooltip-v2"),A=ac(),m=()=>{a(),s.value=!0},_=()=>{S(l)?c():m()},y=m,T=()=>{a(),s.value=!1};return un(s,P=>{var I;P&&(document.dispatchEvent(new CustomEvent(zL)),y()),(I=n.onOpenChange)==null||I.call(n,P)}),kr(()=>{document.addEventListener(zL,T)}),ds(()=>{a(),document.removeEventListener(zL,T)}),Ii(gB,{contentId:A,triggerRef:i,ns:f,onClose:T,onDelayOpen:_,onOpen:y}),e({onOpen:y,onClose:T}),(P,I)=>kt(P.$slots,"default",{open:S(s)})}});var sJe=kn(aJe,[["__file","root.vue"]]);const oJe=Be({name:"ElTooltipV2Arrow"}),lJe=Be({...oJe,props:{...G9,...eJe},setup(t){const e=t,{ns:n}=ar(gB),{arrowRef:r}=ar($se),i=le(()=>{const{style:s,width:l,height:c}=e,a=n.namespace.value;return{[`--${a}-tooltip-v2-arrow-width`]:`${l}px`,[`--${a}-tooltip-v2-arrow-height`]:`${c}px`,[`--${a}-tooltip-v2-arrow-border-width`]:`${l/2}px`,[`--${a}-tooltip-v2-arrow-cover-width`]:l/2-1,...s||{}}});return(s,l)=>(X(),ve("span",{ref_key:"arrowRef",ref:r,style:or(S(i)),class:Se(S(n).e("arrow"))},null,6))}});var mW=kn(lJe,[["__file","arrow.vue"]]);const uJe=Ln({style:{type:Rt([String,Object,Array]),default:()=>({})}}),cJe=Be({name:"ElVisuallyHidden"}),hJe=Be({...cJe,props:uJe,setup(t){const e=t,n=le(()=>[e.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(r,i)=>(X(),ve("span",Xr(r.$attrs,{style:S(n)}),[kt(r.$slots,"default")],16))}});var dJe=kn(hJe,[["__file","visual-hidden.vue"]]);const fJe=["data-side"],pJe=Be({name:"ElTooltipV2Content"}),AJe=Be({...pJe,props:{...K9,...Use},setup(t){const e=t,{triggerRef:n,contentId:r}=ar(gB),i=Te(e.placement),s=Te(e.strategy),l=Te(null),{referenceRef:c,contentRef:a,middlewareData:f,x:A,y:m,update:_}=VRe({placement:i,strategy:s,middleware:le(()=>{const R=[Kre(e.offset)];return e.showArrow&&R.push(HRe({arrowRef:l})),R})}),y=L2().nextZIndex(),T=vn("tooltip-v2"),E=le(()=>i.value.split("-")[0]),P=le(()=>({position:S(s),top:`${S(m)||0}px`,left:`${S(A)||0}px`,zIndex:y})),I=le(()=>{if(!e.showArrow)return{};const{arrow:R}=S(f);return{[`--${T.namespace.value}-tooltip-v2-arrow-x`]:`${R==null?void 0:R.x}px`||"",[`--${T.namespace.value}-tooltip-v2-arrow-y`]:`${R==null?void 0:R.y}px`||""}}),F=le(()=>[T.e("content"),T.is("dark",e.effect==="dark"),T.is(S(s)),e.contentClass]);return un(l,()=>_()),un(()=>e.placement,R=>i.value=R),kr(()=>{un(()=>e.reference||n.value,R=>{c.value=R||void 0},{immediate:!0})}),Ii($se,{arrowRef:l}),(R,N)=>(X(),ve("div",{ref_key:"contentRef",ref:a,style:or(S(P)),"data-tooltip-v2-root":""},[R.nowrap?bt("v-if",!0):(X(),ve("div",{key:0,"data-side":S(E),class:Se(S(F))},[kt(R.$slots,"default",{contentStyle:S(P),contentClass:S(F)}),ht(S(dJe),{id:S(r),role:"tooltip"},{default:xt(()=>[R.ariaLabel?(X(),ve(Vn,{key:0},[wi(Cn(R.ariaLabel),1)],64)):kt(R.$slots,"default",{key:1})]),_:3},8,["id"]),kt(R.$slots,"arrow",{style:or(S(I)),side:S(E)})],10,fJe))],4))}});var gW=kn(AJe,[["__file","content.vue"]]);const mJe=Ln({setRef:{type:Rt(Function),required:!0},onlyChild:Boolean});var gJe=Be({props:mJe,setup(t,{slots:e}){const n=Te(),r=nB(n,i=>{i?t.setRef(i.nextElementSibling):t.setRef(null)});return()=>{var i;const[s]=((i=e.default)==null?void 0:i.call(e))||[],l=t.onlyChild?OFe(s.children):s.children;return ht(Vn,{ref:r},[l])}}});const vJe=Be({name:"ElTooltipV2Trigger"}),_Je=Be({...vJe,props:{...Use,...q9},setup(t){const e=t,{onClose:n,onOpen:r,onDelayOpen:i,triggerRef:s,contentId:l}=ar(gB);let c=!1;const a=F=>{s.value=F},f=()=>{c=!1},A=bo(e.onMouseEnter,i),m=bo(e.onMouseLeave,n),_=bo(e.onMouseDown,()=>{n(),c=!0,document.addEventListener("mouseup",f,{once:!0})}),y=bo(e.onFocus,()=>{c||r()}),T=bo(e.onBlur,n),E=bo(e.onClick,F=>{F.detail===0&&n()}),P={blur:T,click:E,focus:y,mousedown:_,mouseenter:A,mouseleave:m},I=(F,R,N)=>{F&&Object.entries(R).forEach(([z,Q])=>{F[N](z,Q)})};return un(s,(F,R)=>{I(F,P,"addEventListener"),I(R,P,"removeEventListener"),F&&F.setAttribute("aria-describedby",l.value)}),ds(()=>{I(s.value,P,"removeEventListener"),document.removeEventListener("mouseup",f)}),(F,R)=>F.nowrap?(X(),Ut(S(gJe),{key:0,"set-ref":a,"only-child":""},{default:xt(()=>[kt(F.$slots,"default")]),_:3})):(X(),ve("button",Xr({key:1,ref_key:"triggerRef",ref:s},F.$attrs),[kt(F.$slots,"default")],16))}});var yJe=kn(_Je,[["__file","trigger.vue"]]);const bJe=Be({name:"ElTooltipV2"}),wJe=Be({...bJe,props:rJe,setup(t){const n=zu(t),r=ua(ZA(n,Object.keys(G9))),i=ua(ZA(n,Object.keys(K9))),s=ua(ZA(n,Object.keys(W9))),l=ua(ZA(n,Object.keys(q9)));return(c,a)=>(X(),Ut(sJe,uo(nu(s)),{default:xt(({open:f})=>[ht(yJe,Xr(l,{nowrap:""}),{default:xt(()=>[kt(c.$slots,"trigger")]),_:3},16),(X(),Ut(Ay,{to:c.to,disabled:!c.teleported},[c.fullTransition?(X(),Ut(co,uo(Xr({key:0},c.transitionProps)),{default:xt(()=>[c.alwaysOn||f?(X(),Ut(gW,uo(Xr({key:0},i)),{arrow:xt(({style:A,side:m})=>[c.showArrow?(X(),Ut(mW,Xr({key:0},r,{style:A,side:m}),null,16,["style","side"])):bt("v-if",!0)]),default:xt(()=>[kt(c.$slots,"default")]),_:3},16)):bt("v-if",!0)]),_:2},1040)):(X(),ve(Vn,{key:1},[c.alwaysOn||f?(X(),Ut(gW,uo(Xr({key:0},i)),{arrow:xt(({style:A,side:m})=>[c.showArrow?(X(),Ut(mW,Xr({key:0},r,{style:A,side:m}),null,16,["style","side"])):bt("v-if",!0)]),default:xt(()=>[kt(c.$slots,"default")]),_:3},16)):bt("v-if",!0)],64))],8,["to","disabled"]))]),_:3},16))}});var xJe=kn(wJe,[["__file","tooltip.vue"]]);const CJe=fi(xJe),Vse="left-check-change",Hse="right-check-change",jb=Ln({data:{type:Rt(Array),default:()=>[]},titles:{type:Rt(Array),default:()=>[]},buttonTexts:{type:Rt(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:Rt(Function)},leftDefaultChecked:{type:Rt(Array),default:()=>[]},rightDefaultChecked:{type:Rt(Array),default:()=>[]},renderContent:{type:Rt(Function)},modelValue:{type:Rt(Array),default:()=>[]},format:{type:Rt(Object),default:()=>({})},filterable:Boolean,props:{type:Rt(Object),default:()=>to({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),uR=(t,e)=>[t,e].every(Jn)||Jn(t)&&_u(e),EJe={[_s]:(t,e,n)=>[t,n].every(Jn)&&["left","right"].includes(e),[vi]:t=>Jn(t),[Vse]:uR,[Hse]:uR},cR="checked-change",SJe=Ln({data:jb.data,optionRender:{type:Rt(Function)},placeholder:String,title:String,filterable:Boolean,format:jb.format,filterMethod:jb.filterMethod,defaultChecked:jb.leftDefaultChecked,props:jb.props}),TJe={[cR]:uR},G6=t=>{const e={label:"label",key:"key",disabled:"disabled"};return le(()=>({...e,...t.props}))},BJe=(t,e,n)=>{const r=G6(t),i=le(()=>t.data.filter(A=>Dr(t.filterMethod)?t.filterMethod(e.query,A):String(A[r.value.label]||A[r.value.key]).toLowerCase().includes(e.query.toLowerCase()))),s=le(()=>i.value.filter(A=>!A[r.value.disabled])),l=le(()=>{const A=e.checked.length,m=t.data.length,{noChecked:_,hasChecked:y}=t.format;return _&&y?A>0?y.replace(/\${checked}/g,A.toString()).replace(/\${total}/g,m.toString()):_.replace(/\${total}/g,m.toString()):`${A}/${m}`}),c=le(()=>{const A=e.checked.length;return A>0&&A<s.value.length}),a=()=>{const A=s.value.map(m=>m[r.value.key]);e.allChecked=A.length>0&&A.every(m=>e.checked.includes(m))},f=A=>{e.checked=A?s.value.map(m=>m[r.value.key]):[]};return un(()=>e.checked,(A,m)=>{if(a(),e.checkChangeByUser){const _=A.concat(m).filter(y=>!A.includes(y)||!m.includes(y));n(cR,A,_)}else n(cR,A),e.checkChangeByUser=!0}),un(s,()=>{a()}),un(()=>t.data,()=>{const A=[],m=i.value.map(_=>_[r.value.key]);e.checked.forEach(_=>{m.includes(_)&&A.push(_)}),e.checkChangeByUser=!1,e.checked=A}),un(()=>t.defaultChecked,(A,m)=>{if(m&&A.length===m.length&&A.every(T=>m.includes(T)))return;const _=[],y=s.value.map(T=>T[r.value.key]);A.forEach(T=>{y.includes(T)&&_.push(T)}),e.checkChangeByUser=!1,e.checked=_},{immediate:!0}),{filteredData:i,checkableData:s,checkedSummary:l,isIndeterminate:c,updateAllChecked:a,handleAllCheckedChange:f}},MJe=(t,e)=>({onSourceCheckedChange:(i,s)=>{t.leftChecked=i,s&&e(Vse,i,s)},onTargetCheckedChange:(i,s)=>{t.rightChecked=i,s&&e(Hse,i,s)}}),IJe=t=>{const e=G6(t),n=le(()=>t.data.reduce((s,l)=>(s[l[e.value.key]]=l)&&s,{})),r=le(()=>t.data.filter(s=>!t.modelValue.includes(s[e.value.key]))),i=le(()=>t.targetOrder==="original"?t.data.filter(s=>t.modelValue.includes(s[e.value.key])):t.modelValue.reduce((s,l)=>{const c=n.value[l];return c&&s.push(c),s},[]));return{sourceData:r,targetData:i}},LJe=(t,e,n)=>{const r=G6(t),i=(c,a,f)=>{n(vi,c),n(_s,c,a,f)};return{addToLeft:()=>{const c=t.modelValue.slice();e.rightChecked.forEach(a=>{const f=c.indexOf(a);f>-1&&c.splice(f,1)}),i(c,"left",e.rightChecked)},addToRight:()=>{let c=t.modelValue.slice();const a=t.data.filter(f=>{const A=f[r.value.key];return e.leftChecked.includes(A)&&!t.modelValue.includes(A)}).map(f=>f[r.value.key]);c=t.targetOrder==="unshift"?a.concat(c):c.concat(a),t.targetOrder==="original"&&(c=t.data.filter(f=>c.includes(f[r.value.key])).map(f=>f[r.value.key])),i(c,"right",e.leftChecked)}}},PJe=Be({name:"ElTransferPanel"}),FJe=Be({...PJe,props:SJe,emits:TJe,setup(t,{expose:e,emit:n}){const r=t,i=Eo(),s=({option:R})=>R,{t:l}=ca(),c=vn("transfer"),a=ua({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),f=G6(r),{filteredData:A,checkedSummary:m,isIndeterminate:_,handleAllCheckedChange:y}=BJe(r,a,n),T=le(()=>!ff(a.query)&&ff(A.value)),E=le(()=>!ff(i.default()[0].children)),{checked:P,allChecked:I,query:F}=zu(a);return e({query:F}),(R,N)=>(X(),ve("div",{class:Se(S(c).b("panel"))},[pe("p",{class:Se(S(c).be("panel","header"))},[ht(S(If),{modelValue:S(I),"onUpdate:modelValue":N[0]||(N[0]=z=>hs(I)?I.value=z:null),indeterminate:S(_),"validate-event":!1,onChange:S(y)},{default:xt(()=>[wi(Cn(R.title)+" ",1),pe("span",null,Cn(S(m)),1)]),_:1},8,["modelValue","indeterminate","onChange"])],2),pe("div",{class:Se([S(c).be("panel","body"),S(c).is("with-footer",S(E))])},[R.filterable?(X(),Ut(S(Pc),{key:0,modelValue:S(F),"onUpdate:modelValue":N[1]||(N[1]=z=>hs(F)?F.value=z:null),class:Se(S(c).be("panel","filter")),size:"default",placeholder:R.placeholder,"prefix-icon":S(ure),clearable:"","validate-event":!1},null,8,["modelValue","class","placeholder","prefix-icon"])):bt("v-if",!0),Jr(ht(S(Wie),{modelValue:S(P),"onUpdate:modelValue":N[2]||(N[2]=z=>hs(P)?P.value=z:null),"validate-event":!1,class:Se([S(c).is("filterable",R.filterable),S(c).be("panel","list")])},{default:xt(()=>[(X(!0),ve(Vn,null,Yr(S(A),z=>(X(),Ut(S(If),{key:z[S(f).key],class:Se(S(c).be("panel","item")),value:z[S(f).key],disabled:z[S(f).disabled],"validate-event":!1},{default:xt(()=>{var Q;return[ht(s,{option:(Q=R.optionRender)==null?void 0:Q.call(R,z)},null,8,["option"])]}),_:2},1032,["class","value","disabled"]))),128))]),_:1},8,["modelValue","class"]),[[la,!S(T)&&!S(ff)(R.data)]]),Jr(pe("p",{class:Se(S(c).be("panel","empty"))},Cn(S(T)?S(l)("el.transfer.noMatch"):S(l)("el.transfer.noData")),3),[[la,S(T)||S(ff)(R.data)]])],2),S(E)?(X(),ve("p",{key:0,class:Se(S(c).be("panel","footer"))},[kt(R.$slots,"default")],2)):bt("v-if",!0)],2))}});var vW=kn(FJe,[["__file","transfer-panel.vue"]]);const kJe={key:0},RJe={key:0},OJe=Be({name:"ElTransfer"}),DJe=Be({...OJe,props:jb,emits:EJe,setup(t,{expose:e,emit:n}){const r=t,i=Eo(),{t:s}=ca(),l=vn("transfer"),{formItem:c}=Nc(),a=ua({leftChecked:[],rightChecked:[]}),f=G6(r),{sourceData:A,targetData:m}=IJe(r),{onSourceCheckedChange:_,onTargetCheckedChange:y}=MJe(a,n),{addToLeft:T,addToRight:E}=LJe(r,a,n),P=Te(),I=Te(),F=H=>{switch(H){case"left":P.value.query="";break;case"right":I.value.query="";break}},R=le(()=>r.buttonTexts.length===2),N=le(()=>r.titles[0]||s("el.transfer.titles.0")),z=le(()=>r.titles[1]||s("el.transfer.titles.1")),Q=le(()=>r.filterPlaceholder||s("el.transfer.filterPlaceholder"));un(()=>r.modelValue,()=>{var H;r.validateEvent&&((H=c==null?void 0:c.validate)==null||H.call(c,"change").catch(K=>void 0))});const j=le(()=>H=>r.renderContent?r.renderContent(wr,H):i.default?i.default({option:H}):wr("span",H[f.value.label]||H[f.value.key]));return e({clearQuery:F,leftPanel:P,rightPanel:I}),(H,K)=>(X(),ve("div",{class:Se(S(l).b())},[ht(vW,{ref_key:"leftPanel",ref:P,data:S(A),"option-render":S(j),placeholder:S(Q),title:S(N),filterable:H.filterable,format:H.format,"filter-method":H.filterMethod,"default-checked":H.leftDefaultChecked,props:r.props,onCheckedChange:S(_)},{default:xt(()=>[kt(H.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),pe("div",{class:Se(S(l).e("buttons"))},[ht(S(yu),{type:"primary",class:Se([S(l).e("button"),S(l).is("with-texts",S(R))]),disabled:S(ff)(a.rightChecked),onClick:S(T)},{default:xt(()=>[ht(S(Ar),null,{default:xt(()=>[ht(S(qg))]),_:1}),S(Wo)(H.buttonTexts[0])?bt("v-if",!0):(X(),ve("span",kJe,Cn(H.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),ht(S(yu),{type:"primary",class:Se([S(l).e("button"),S(l).is("with-texts",S(R))]),disabled:S(ff)(a.leftChecked),onClick:S(E)},{default:xt(()=>[S(Wo)(H.buttonTexts[1])?bt("v-if",!0):(X(),ve("span",RJe,Cn(H.buttonTexts[1]),1)),ht(S(Ar),null,{default:xt(()=>[ht(S(Oc))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),ht(vW,{ref_key:"rightPanel",ref:I,data:S(m),"option-render":S(j),placeholder:S(Q),filterable:H.filterable,format:H.format,"filter-method":H.filterMethod,title:S(z),"default-checked":H.rightDefaultChecked,props:r.props,onCheckedChange:S(y)},{default:xt(()=>[kt(H.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var NJe=kn(DJe,[["__file","transfer.vue"]]);const UJe=fi(NJe),Bw="$treeNodeId",_W=function(t,e){!e||e[Bw]||Object.defineProperty(e,Bw,{value:t.id,enumerable:!1,configurable:!1,writable:!1})},Y9=function(t,e){return t?e[t]:e[Bw]},hR=(t,e,n)=>{const r=t.value.currentNode;n();const i=t.value.currentNode;r!==i&&e("current-change",i?i.data:null,i)},dR=t=>{let e=!0,n=!0,r=!0;for(let i=0,s=t.length;i<s;i++){const l=t[i];(l.checked!==!0||l.indeterminate)&&(e=!1,l.disabled||(r=!1)),(l.checked!==!1||l.indeterminate)&&(n=!1)}return{all:e,none:n,allWithoutDisable:r,half:!e&&!n}},f4=function(t){if(t.childNodes.length===0||t.loading)return;const{all:e,none:n,half:r}=dR(t.childNodes);e?(t.checked=!0,t.indeterminate=!1):r?(t.checked=!1,t.indeterminate=!0):n&&(t.checked=!1,t.indeterminate=!1);const i=t.parent;!i||i.level===0||t.store.checkStrictly||f4(i)},WE=function(t,e){const n=t.store.props,r=t.data||{},i=n[e];if(typeof i=="function")return i(r,t);if(typeof i=="string")return r[i];if(typeof i>"u"){const s=r[e];return s===void 0?"":s}};let zJe=0,fR=class BS{constructor(e){this.id=zJe++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const n in e)ra(e,n)&&(this[n]=e[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const e=this.store;if(!e)throw new Error("[Node]store is required!");e.registerNode(this);const n=e.props;if(n&&typeof n.isLeaf<"u"){const s=WE(this,"isLeaf");typeof s=="boolean"&&(this.isLeafByUser=s)}if(e.lazy!==!0&&this.data?(this.setData(this.data),e.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&e.lazy&&e.defaultExpandAll&&this.expand(),Array.isArray(this.data)||_W(this,this.data),!this.data)return;const r=e.defaultExpandedKeys,i=e.key;i&&r&&r.includes(this.key)&&this.expand(null,e.autoExpandParent),i&&e.currentNodeKey!==void 0&&this.key===e.currentNodeKey&&(e.currentNode=this,e.currentNode.isCurrent=!0),e.lazy&&e._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(e){Array.isArray(e)||_W(this,e),this.data=e,this.childNodes=[];let n;this.level===0&&Array.isArray(this.data)?n=this.data:n=WE(this,"children")||[];for(let r=0,i=n.length;r<i;r++)this.insertChild({data:n[r]})}get label(){return WE(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return WE(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const n=e.childNodes.indexOf(this);if(n>-1)return e.childNodes[n+1]}return null}get previousSibling(){const e=this.parent;if(e){const n=e.childNodes.indexOf(this);if(n>-1)return n>0?e.childNodes[n-1]:null}return null}contains(e,n=!0){return(this.childNodes||[]).some(r=>r===e||n&&r.contains(e))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(e,n,r){if(!e)throw new Error("InsertChild error: child is required.");if(!(e instanceof BS)){if(!r){const i=this.getChildren(!0);i.includes(e.data)||(typeof n>"u"||n<0?i.push(e.data):i.splice(n,0,e.data))}Object.assign(e,{parent:this,store:this.store}),e=ua(new BS(e)),e instanceof BS&&e.initialize()}e.level=this.level+1,typeof n>"u"||n<0?this.childNodes.push(e):this.childNodes.splice(n,0,e),this.updateLeafState()}insertBefore(e,n){let r;n&&(r=this.childNodes.indexOf(n)),this.insertChild(e,r)}insertAfter(e,n){let r;n&&(r=this.childNodes.indexOf(n),r!==-1&&(r+=1)),this.insertChild(e,r)}removeChild(e){const n=this.getChildren()||[],r=n.indexOf(e.data);r>-1&&n.splice(r,1);const i=this.childNodes.indexOf(e);i>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(i,1)),this.updateLeafState()}removeChildByData(e){let n=null;for(let r=0;r<this.childNodes.length;r++)if(this.childNodes[r].data===e){n=this.childNodes[r];break}n&&this.removeChild(n)}expand(e,n){const r=()=>{if(n){let i=this.parent;for(;i.level>0;)i.expanded=!0,i=i.parent}this.expanded=!0,e&&e(),this.childNodes.forEach(i=>{i.canFocus=!0})};this.shouldLoadData()?this.loadData(i=>{Array.isArray(i)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||f4(this),r())}):r()}doCreateChildren(e,n={}){e.forEach(r=>{this.insertChild(Object.assign({data:r},n),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(e=>{e.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const e=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!e||e.length===0;return}this.isLeaf=!1}setChecked(e,n,r,i){if(this.indeterminate=e==="half",this.checked=e===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:l,allWithoutDisable:c}=dR(this.childNodes);!this.isLeaf&&!l&&c&&(this.checked=!1,e=!1);const a=()=>{if(n){const f=this.childNodes;for(let _=0,y=f.length;_<y;_++){const T=f[_];i=i||e!==!1;const E=T.disabled?T.checked:i;T.setChecked(E,n,!0,i)}const{half:A,all:m}=dR(f);m||(this.checked=m,this.indeterminate=A)}};if(this.shouldLoadData()){this.loadData(()=>{a(),f4(this)},{checked:e!==!1});return}else a()}const s=this.parent;!s||s.level===0||r||f4(s)}getChildren(e=!1){if(this.level===0)return this.data;const n=this.data;if(!n)return null;const r=this.store.props;let i="children";return r&&(i=r.children||"children"),n[i]===void 0&&(n[i]=null),e&&!n[i]&&(n[i]=[]),n[i]}updateChildren(){const e=this.getChildren()||[],n=this.childNodes.map(s=>s.data),r={},i=[];e.forEach((s,l)=>{const c=s[Bw];!!c&&n.findIndex(f=>f[Bw]===c)>=0?r[c]={index:l,data:s}:i.push({index:l,data:s})}),this.store.lazy||n.forEach(s=>{r[s[Bw]]||this.removeChildByData(s)}),i.forEach(({index:s,data:l})=>{this.insertChild({data:l},s)}),this.updateLeafState()}loadData(e,n={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(n).length)){this.loading=!0;const r=s=>{this.childNodes=[],this.doCreateChildren(s,n),this.loaded=!0,this.loading=!1,this.updateLeafState(),e&&e.call(this,s)},i=()=>{this.loading=!1};this.store.load(this,r,i)}else e&&e.call(this)}eachNode(e){const n=[this];for(;n.length;){const r=n.shift();n.unshift(...r.childNodes),e(r)}}reInitChecked(){this.store.checkStrictly||f4(this)}};class $Je{constructor(e){this.currentNode=null,this.currentNodeKey=null;for(const n in e)ra(e,n)&&(this[n]=e[n]);this.nodesMap={}}initialize(){if(this.root=new fR({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const e=this.load;e(this.root,n=>{this.root.doCreateChildren(n),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(e){const n=this.filterNodeMethod,r=this.lazy,i=function(s){const l=s.root?s.root.childNodes:s.childNodes;if(l.forEach(c=>{c.visible=n.call(c,e,c.data,c),i(c)}),!s.visible&&l.length){let c=!0;c=!l.some(a=>a.visible),s.root?s.root.visible=c===!1:s.visible=c===!1}e&&s.visible&&!s.isLeaf&&(!r||s.loaded)&&s.expand()};i(this)}setData(e){e!==this.root.data?(this.root.setData(e),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(e){if(e instanceof fR)return e;const n=Ai(e)?Y9(this.key,e):e;return this.nodesMap[n]||null}insertBefore(e,n){const r=this.getNode(n);r.parent.insertBefore({data:e},r)}insertAfter(e,n){const r=this.getNode(n);r.parent.insertAfter({data:e},r)}remove(e){const n=this.getNode(e);n&&n.parent&&(n===this.currentNode&&(this.currentNode=null),n.parent.removeChild(n))}append(e,n){const r=ty(n)?this.root:this.getNode(n);r&&r.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],n=this.nodesMap;e.forEach(r=>{const i=n[r];i&&i.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(e){(this.defaultCheckedKeys||[]).includes(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const n=this.key;!e||!e.data||(n?e.key!==void 0&&(this.nodesMap[e.key]=e):this.nodesMap[e.id]=e)}deregisterNode(e){!this.key||!e||!e.data||(e.childNodes.forEach(r=>{this.deregisterNode(r)}),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,n=!1){const r=[],i=function(s){(s.root?s.root.childNodes:s.childNodes).forEach(c=>{(c.checked||n&&c.indeterminate)&&(!e||e&&c.isLeaf)&&r.push(c.data),i(c)})};return i(this),r}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map(n=>(n||{})[this.key])}getHalfCheckedNodes(){const e=[],n=function(r){(r.root?r.root.childNodes:r.childNodes).forEach(s=>{s.indeterminate&&e.push(s.data),n(s)})};return n(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(e=>(e||{})[this.key])}_getAllNodes(){const e=[],n=this.nodesMap;for(const r in n)ra(n,r)&&e.push(n[r]);return e}updateChildren(e,n){const r=this.nodesMap[e];if(!r)return;const i=r.childNodes;for(let s=i.length-1;s>=0;s--){const l=i[s];this.remove(l.data)}for(let s=0,l=n.length;s<l;s++){const c=n[s];this.append(c,r.data)}}_setCheckedKeys(e,n=!1,r){const i=this._getAllNodes().sort((a,f)=>a.level-f.level),s=Object.create(null),l=Object.keys(r);i.forEach(a=>a.setChecked(!1,!1));const c=a=>{a.childNodes.forEach(f=>{var A;s[f.data[e]]=!0,(A=f.childNodes)!=null&&A.length&&c(f)})};for(let a=0,f=i.length;a<f;a++){const A=i[a],m=A.data[e].toString();if(!l.includes(m)){A.checked&&!s[m]&&A.setChecked(!1,!1);continue}if(A.childNodes.length&&c(A),A.isLeaf||this.checkStrictly){A.setChecked(!0,!1);continue}if(A.setChecked(!0,!0),n){A.setChecked(!1,!1);const y=function(T){T.childNodes.forEach(P=>{P.isLeaf||P.setChecked(!1,!1),y(P)})};y(A)}}}setCheckedNodes(e,n=!1){const r=this.key,i={};e.forEach(s=>{i[(s||{})[r]]=!0}),this._setCheckedKeys(r,n,i)}setCheckedKeys(e,n=!1){this.defaultCheckedKeys=e;const r=this.key,i={};e.forEach(s=>{i[s]=!0}),this._setCheckedKeys(r,n,i)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach(n=>{const r=this.getNode(n);r&&r.expand(null,this.autoExpandParent)})}setChecked(e,n,r){const i=this.getNode(e);i&&i.setChecked(!!n,r)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const n=this.currentNode;n&&(n.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,n=!0){const r=e[this.key],i=this.nodesMap[r];this.setCurrentNode(i),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(e,n=!0){if(e==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const r=this.getNode(e);r&&(this.setCurrentNode(r),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const VJe=Be({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(t){const e=vn("tree"),n=ar("NodeInstance"),r=ar("RootTree");return()=>{const i=t.node,{data:s,store:l}=i;return t.renderContent?t.renderContent(wr,{_self:n,node:i,data:s,store:l}):kt(r.ctx.slots,"default",{node:i,data:s},()=>[wr("span",{class:e.be("node","label")},[i.label])])}}});var HJe=kn(VJe,[["__file","tree-node-content.vue"]]);function Qse(t){const e=ar("TreeNodeMap",null),n={treeNodeExpand:r=>{t.node!==r&&t.node.collapse()},children:[]};return e&&e.children.push(n),Ii("TreeNodeMap",n),{broadcastExpanded:r=>{if(t.accordion)for(const i of n.children)i.treeNodeExpand(r)}}}const jse=Symbol("dragEvents");function QJe({props:t,ctx:e,el$:n,dropIndicator$:r,store:i}){const s=vn("tree"),l=Te({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return Ii(jse,{treeNodeDragStart:({event:A,treeNode:m})=>{if(typeof t.allowDrag=="function"&&!t.allowDrag(m.node))return A.preventDefault(),!1;A.dataTransfer.effectAllowed="move";try{A.dataTransfer.setData("text/plain","")}catch{}l.value.draggingNode=m,e.emit("node-drag-start",m.node,A)},treeNodeDragOver:({event:A,treeNode:m})=>{const _=m,y=l.value.dropNode;y&&y.node.id!==_.node.id&&Rc(y.$el,s.is("drop-inner"));const T=l.value.draggingNode;if(!T||!_)return;let E=!0,P=!0,I=!0,F=!0;typeof t.allowDrop=="function"&&(E=t.allowDrop(T.node,_.node,"prev"),F=P=t.allowDrop(T.node,_.node,"inner"),I=t.allowDrop(T.node,_.node,"next")),A.dataTransfer.dropEffect=P||E||I?"move":"none",(E||P||I)&&(y==null?void 0:y.node.id)!==_.node.id&&(y&&e.emit("node-drag-leave",T.node,y.node,A),e.emit("node-drag-enter",T.node,_.node,A)),E||P||I?l.value.dropNode=_:l.value.dropNode=null,_.node.nextSibling===T.node&&(I=!1),_.node.previousSibling===T.node&&(E=!1),_.node.contains(T.node,!1)&&(P=!1),(T.node===_.node||T.node.contains(_.node))&&(E=!1,P=!1,I=!1);const R=_.$el.querySelector(`.${s.be("node","content")}`).getBoundingClientRect(),N=n.value.getBoundingClientRect();let z;const Q=E?P?.25:I?.45:1:-1,j=I?P?.75:E?.55:0:1;let H=-9999;const K=A.clientY-R.top;K<R.height*Q?z="before":K>R.height*j?z="after":P?z="inner":z="none";const ie=_.$el.querySelector(`.${s.be("node","expand-icon")}`).getBoundingClientRect(),q=r.value;z==="before"?H=ie.top-N.top:z==="after"&&(H=ie.bottom-N.top),q.style.top=`${H}px`,q.style.left=`${ie.right-N.left}px`,z==="inner"?mf(_.$el,s.is("drop-inner")):Rc(_.$el,s.is("drop-inner")),l.value.showDropIndicator=z==="before"||z==="after",l.value.allowDrop=l.value.showDropIndicator||F,l.value.dropType=z,e.emit("node-drag-over",T.node,_.node,A)},treeNodeDragEnd:A=>{const{draggingNode:m,dropType:_,dropNode:y}=l.value;if(A.preventDefault(),A.dataTransfer.dropEffect="move",m&&y){const T={data:m.node.data};_!=="none"&&m.node.remove(),_==="before"?y.node.parent.insertBefore(T,y.node):_==="after"?y.node.parent.insertAfter(T,y.node):_==="inner"&&y.node.insertChild(T),_!=="none"&&(i.value.registerNode(T),i.value.key&&m.node.eachNode(E=>{var P;(P=i.value.nodesMap[E.data[i.value.key]])==null||P.setChecked(E.checked,!i.value.checkStrictly)})),Rc(y.$el,s.is("drop-inner")),e.emit("node-drag-end",m.node,y.node,_,A),_!=="none"&&e.emit("node-drop",m.node,y.node,_,A)}m&&!y&&e.emit("node-drag-end",m.node,null,_,A),l.value.showDropIndicator=!1,l.value.draggingNode=null,l.value.dropNode=null,l.value.allowDrop=!0}}),{dragState:l}}const jJe=Be({name:"ElTreeNode",components:{ElCollapseTransition:dB,ElCheckbox:If,NodeContent:HJe,ElIcon:Ar,Loading:l0},props:{node:{type:fR,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(t,e){const n=vn("tree"),{broadcastExpanded:r}=Qse(t),i=ar("RootTree"),s=Te(!1),l=Te(!1),c=Te(null),a=Te(null),f=Te(null),A=ar(jse),m=ci();Ii("NodeInstance",m),t.node.expanded&&(s.value=!0,l.value=!0);const _=i.props.props.children||"children";un(()=>{const K=t.node.data[_];return K&&[...K]},()=>{t.node.updateChildren()}),un(()=>t.node.indeterminate,K=>{E(t.node.checked,K)}),un(()=>t.node.checked,K=>{E(K,t.node.indeterminate)}),un(()=>t.node.childNodes.length,()=>t.node.reInitChecked()),un(()=>t.node.expanded,K=>{dr(()=>s.value=K),K&&(l.value=!0)});const y=K=>Y9(i.props.nodeKey,K.data),T=K=>{const ie=t.props.class;if(!ie)return{};let q;if(Dr(ie)){const{data:W}=K;q=ie(W,K)}else q=ie;return Hr(q)?{[q]:!0}:q},E=(K,ie)=>{(c.value!==K||a.value!==ie)&&i.ctx.emit("check-change",t.node.data,K,ie),c.value=K,a.value=ie},P=K=>{hR(i.store,i.ctx.emit,()=>i.store.value.setCurrentNode(t.node)),i.currentNode.value=t.node,i.props.expandOnClickNode&&F(),i.props.checkOnClickNode&&!t.node.disabled&&R(null,{target:{checked:!t.node.checked}}),i.ctx.emit("node-click",t.node.data,t.node,m,K)},I=K=>{i.instance.vnode.props.onNodeContextmenu&&(K.stopPropagation(),K.preventDefault()),i.ctx.emit("node-contextmenu",K,t.node.data,t.node,m)},F=()=>{t.node.isLeaf||(s.value?(i.ctx.emit("node-collapse",t.node.data,t.node,m),t.node.collapse()):(t.node.expand(),e.emit("node-expand",t.node.data,t.node,m)))},R=(K,ie)=>{t.node.setChecked(ie.target.checked,!i.props.checkStrictly),dr(()=>{const q=i.store.value;i.ctx.emit("check",t.node.data,{checkedNodes:q.getCheckedNodes(),checkedKeys:q.getCheckedKeys(),halfCheckedNodes:q.getHalfCheckedNodes(),halfCheckedKeys:q.getHalfCheckedKeys()})})};return{ns:n,node$:f,tree:i,expanded:s,childNodeRendered:l,oldChecked:c,oldIndeterminate:a,getNodeKey:y,getNodeClass:T,handleSelectChange:E,handleClick:P,handleContextMenu:I,handleExpandIconClick:F,handleCheckChange:R,handleChildNodeExpand:(K,ie,q)=>{r(ie),i.ctx.emit("node-expand",K,ie,q)},handleDragStart:K=>{i.props.draggable&&A.treeNodeDragStart({event:K,treeNode:t})},handleDragOver:K=>{K.preventDefault(),i.props.draggable&&A.treeNodeDragOver({event:K,treeNode:{$el:f.value,node:t.node}})},handleDrop:K=>{K.preventDefault()},handleDragEnd:K=>{i.props.draggable&&A.treeNodeDragEnd(K)},CaretRight:DN}}}),GJe=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],KJe=["aria-expanded"];function WJe(t,e,n,r,i,s){const l=Kr("el-icon"),c=Kr("el-checkbox"),a=Kr("loading"),f=Kr("node-content"),A=Kr("el-tree-node"),m=Kr("el-collapse-transition");return Jr((X(),ve("div",{ref:"node$",class:Se([t.ns.b("node"),t.ns.is("expanded",t.expanded),t.ns.is("current",t.node.isCurrent),t.ns.is("hidden",!t.node.visible),t.ns.is("focusable",!t.node.disabled),t.ns.is("checked",!t.node.disabled&&t.node.checked),t.getNodeClass(t.node)]),role:"treeitem",tabindex:"-1","aria-expanded":t.expanded,"aria-disabled":t.node.disabled,"aria-checked":t.node.checked,draggable:t.tree.props.draggable,"data-key":t.getNodeKey(t.node),onClick:e[1]||(e[1]=Fr((..._)=>t.handleClick&&t.handleClick(..._),["stop"])),onContextmenu:e[2]||(e[2]=(..._)=>t.handleContextMenu&&t.handleContextMenu(..._)),onDragstart:e[3]||(e[3]=Fr((..._)=>t.handleDragStart&&t.handleDragStart(..._),["stop"])),onDragover:e[4]||(e[4]=Fr((..._)=>t.handleDragOver&&t.handleDragOver(..._),["stop"])),onDragend:e[5]||(e[5]=Fr((..._)=>t.handleDragEnd&&t.handleDragEnd(..._),["stop"])),onDrop:e[6]||(e[6]=Fr((..._)=>t.handleDrop&&t.handleDrop(..._),["stop"]))},[pe("div",{class:Se(t.ns.be("node","content")),style:or({paddingLeft:(t.node.level-1)*t.tree.props.indent+"px"})},[t.tree.props.icon||t.CaretRight?(X(),Ut(l,{key:0,class:Se([t.ns.be("node","expand-icon"),t.ns.is("leaf",t.node.isLeaf),{expanded:!t.node.isLeaf&&t.expanded}]),onClick:Fr(t.handleExpandIconClick,["stop"])},{default:xt(()=>[(X(),Ut(di(t.tree.props.icon||t.CaretRight)))]),_:1},8,["class","onClick"])):bt("v-if",!0),t.showCheckbox?(X(),Ut(c,{key:1,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:!!t.node.disabled,onClick:e[0]||(e[0]=Fr(()=>{},["stop"])),onChange:t.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):bt("v-if",!0),t.node.loading?(X(),Ut(l,{key:2,class:Se([t.ns.be("node","loading-icon"),t.ns.is("loading")])},{default:xt(()=>[ht(a)]),_:1},8,["class"])):bt("v-if",!0),ht(f,{node:t.node,"render-content":t.renderContent},null,8,["node","render-content"])],6),ht(m,null,{default:xt(()=>[!t.renderAfterExpand||t.childNodeRendered?Jr((X(),ve("div",{key:0,class:Se(t.ns.be("node","children")),role:"group","aria-expanded":t.expanded},[(X(!0),ve(Vn,null,Yr(t.node.childNodes,_=>(X(),Ut(A,{key:t.getNodeKey(_),"render-content":t.renderContent,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,node:_,accordion:t.accordion,props:t.props,onNodeExpand:t.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,KJe)),[[la,t.expanded]]):bt("v-if",!0)]),_:1})],42,GJe)),[[la,t.node.visible]])}var qJe=kn(jJe,[["render",WJe],["__file","tree-node.vue"]]);function YJe({el$:t},e){const n=vn("tree"),r=ms([]),i=ms([]);kr(()=>{l()}),i0(()=>{r.value=Array.from(t.value.querySelectorAll("[role=treeitem]")),i.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"))}),un(i,c=>{c.forEach(a=>{a.setAttribute("tabindex","-1")})}),gs(t,"keydown",c=>{const a=c.target;if(!a.className.includes(n.b("node")))return;const f=c.code;r.value=Array.from(t.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`));const A=r.value.indexOf(a);let m;if([Tr.up,Tr.down].includes(f)){if(c.preventDefault(),f===Tr.up){m=A===-1?0:A!==0?A-1:r.value.length-1;const y=m;for(;!e.value.getNode(r.value[m].dataset.key).canFocus;){if(m--,m===y){m=-1;break}m<0&&(m=r.value.length-1)}}else{m=A===-1?0:A<r.value.length-1?A+1:0;const y=m;for(;!e.value.getNode(r.value[m].dataset.key).canFocus;){if(m++,m===y){m=-1;break}m>=r.value.length&&(m=0)}}m!==-1&&r.value[m].focus()}[Tr.left,Tr.right].includes(f)&&(c.preventDefault(),a.click());const _=a.querySelector('[type="checkbox"]');[Tr.enter,Tr.space].includes(f)&&_&&(c.preventDefault(),_.click())});const l=()=>{var c;r.value=Array.from(t.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`)),i.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"));const a=t.value.querySelectorAll(`.${n.is("checked")}[role=treeitem]`);if(a.length){a[0].setAttribute("tabindex","0");return}(c=r.value[0])==null||c.setAttribute("tabindex","0")}}const XJe=Be({name:"ElTree",components:{ElTreeNode:qJe},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:Ja}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(t,e){const{t:n}=ca(),r=vn("tree"),i=Te(new $Je({key:t.nodeKey,data:t.data,lazy:t.lazy,props:t.props,load:t.load,currentNodeKey:t.currentNodeKey,checkStrictly:t.checkStrictly,checkDescendants:t.checkDescendants,defaultCheckedKeys:t.defaultCheckedKeys,defaultExpandedKeys:t.defaultExpandedKeys,autoExpandParent:t.autoExpandParent,defaultExpandAll:t.defaultExpandAll,filterNodeMethod:t.filterNodeMethod}));i.value.initialize();const s=Te(i.value.root),l=Te(null),c=Te(null),a=Te(null),{broadcastExpanded:f}=Qse(t),{dragState:A}=QJe({props:t,ctx:e,el$:c,dropIndicator$:a,store:i});YJe({el$:c},i);const m=le(()=>{const{childNodes:ne}=s.value;return!ne||ne.length===0||ne.every(({visible:he})=>!he)});un(()=>t.currentNodeKey,ne=>{i.value.setCurrentNodeKey(ne)}),un(()=>t.defaultCheckedKeys,ne=>{i.value.setDefaultCheckedKey(ne)}),un(()=>t.defaultExpandedKeys,ne=>{i.value.setDefaultExpandedKeys(ne)}),un(()=>t.data,ne=>{i.value.setData(ne)},{deep:!0}),un(()=>t.checkStrictly,ne=>{i.value.checkStrictly=ne});const _=ne=>{if(!t.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");i.value.filter(ne)},y=ne=>Y9(t.nodeKey,ne.data),T=ne=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const he=i.value.getNode(ne);if(!he)return[];const ce=[he.data];let ye=he.parent;for(;ye&&ye!==s.value;)ce.push(ye.data),ye=ye.parent;return ce.reverse()},E=(ne,he)=>i.value.getCheckedNodes(ne,he),P=ne=>i.value.getCheckedKeys(ne),I=()=>{const ne=i.value.getCurrentNode();return ne?ne.data:null},F=()=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const ne=I();return ne?ne[t.nodeKey]:null},R=(ne,he)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");i.value.setCheckedNodes(ne,he)},N=(ne,he)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");i.value.setCheckedKeys(ne,he)},z=(ne,he,ce)=>{i.value.setChecked(ne,he,ce)},Q=()=>i.value.getHalfCheckedNodes(),j=()=>i.value.getHalfCheckedKeys(),H=(ne,he=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");hR(i,e.emit,()=>i.value.setUserCurrentNode(ne,he))},K=(ne,he=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");hR(i,e.emit,()=>i.value.setCurrentNodeKey(ne,he))},ie=ne=>i.value.getNode(ne),q=ne=>{i.value.remove(ne)},W=(ne,he)=>{i.value.append(ne,he)},ee=(ne,he)=>{i.value.insertBefore(ne,he)},ue=(ne,he)=>{i.value.insertAfter(ne,he)},J=(ne,he,ce)=>{f(he),e.emit("node-expand",ne,he,ce)},te=(ne,he)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");i.value.updateChildren(ne,he)};return Ii("RootTree",{ctx:e,props:t,store:i,root:s,currentNode:l,instance:ci()}),Ii(vm,void 0),{ns:r,store:i,root:s,currentNode:l,dragState:A,el$:c,dropIndicator$:a,isEmpty:m,filter:_,getNodeKey:y,getNodePath:T,getCheckedNodes:E,getCheckedKeys:P,getCurrentNode:I,getCurrentKey:F,setCheckedNodes:R,setCheckedKeys:N,setChecked:z,getHalfCheckedNodes:Q,getHalfCheckedKeys:j,setCurrentNode:H,setCurrentKey:K,t:n,getNode:ie,remove:q,append:W,insertBefore:ee,insertAfter:ue,handleNodeExpand:J,updateKeyChildren:te}}});function ZJe(t,e,n,r,i,s){const l=Kr("el-tree-node");return X(),ve("div",{ref:"el$",class:Se([t.ns.b(),t.ns.is("dragging",!!t.dragState.draggingNode),t.ns.is("drop-not-allow",!t.dragState.allowDrop),t.ns.is("drop-inner",t.dragState.dropType==="inner"),{[t.ns.m("highlight-current")]:t.highlightCurrent}]),role:"tree"},[(X(!0),ve(Vn,null,Yr(t.root.childNodes,c=>(X(),Ut(l,{key:t.getNodeKey(c),node:c,props:t.props,accordion:t.accordion,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,"render-content":t.renderContent,onNodeExpand:t.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),t.isEmpty?(X(),ve("div",{key:0,class:Se(t.ns.e("empty-block"))},[kt(t.$slots,"empty",{},()=>{var c;return[pe("span",{class:Se(t.ns.e("empty-text"))},Cn((c=t.emptyText)!=null?c:t.t("el.tree.emptyText")),3)]})],2)):bt("v-if",!0),Jr(pe("div",{ref:"dropIndicator$",class:Se(t.ns.e("drop-indicator"))},null,2),[[la,t.dragState.showDropIndicator]])],2)}var MS=kn(XJe,[["render",ZJe],["__file","tree.vue"]]);MS.install=t=>{t.component(MS.name,MS)};const FT=MS,JJe=FT,eet=(t,{attrs:e,emit:n},{select:r,tree:i,key:s})=>{const l=vn("tree-select");return un(()=>t.data,()=>{t.filterable&&dr(()=>{var a,f;(f=i.value)==null||f.filter((a=r.value)==null?void 0:a.states.inputValue)})},{flush:"post"}),{...ZA(zu(t),Object.keys(oy.props)),...e,"onUpdate:modelValue":a=>n(vi,a),valueKey:s,popperClass:le(()=>{const a=[l.e("popper")];return t.popperClass&&a.push(t.popperClass),a.join(" ")}),filterMethod:(a="")=>{var f;t.filterMethod?t.filterMethod(a):t.remoteMethod?t.remoteMethod(a):(f=i.value)==null||f.filter(a)}}},tet=Be({extends:ET,setup(t,e){const n=ET.setup(t,e);delete n.selectOptionClick;const r=ci().proxy;return dr(()=>{n.select.states.cachedOptions.get(r.value)||n.select.onOptionCreate(r)}),n},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function pR(t){return t||t===0}function X9(t){return Array.isArray(t)&&t.length}function jx(t){return Array.isArray(t)?t:pR(t)?[t]:[]}function IS(t,e,n,r,i){for(let s=0;s<t.length;s++){const l=t[s];if(e(l,s,t,i))return r?r(l,s,t,i):l;{const c=n(l);if(X9(c)){const a=IS(c,e,n,r,l);if(a)return a}}}}function AR(t,e,n,r){for(let i=0;i<t.length;i++){const s=t[i];e(s,i,t,r);const l=n(s);X9(l)&&AR(l,e,n,s)}}const net=(t,{attrs:e,slots:n,emit:r},{select:i,tree:s,key:l})=>{un(()=>t.modelValue,()=>{t.showCheckbox&&dr(()=>{const m=s.value;m&&!kc(m.getCheckedKeys(),jx(t.modelValue))&&m.setCheckedKeys(jx(t.modelValue))})},{immediate:!0,deep:!0});const c=le(()=>({value:l.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...t.props})),a=(m,_)=>{var y;const T=c.value[m];return Dr(T)?T(_,(y=s.value)==null?void 0:y.getNode(a("value",_))):_[T]},f=jx(t.modelValue).map(m=>IS(t.data||[],_=>a("value",_)===m,_=>a("children",_),(_,y,T,E)=>E&&a("value",E))).filter(m=>pR(m)),A=le(()=>{if(!t.renderAfterExpand&&!t.lazy)return[];const m=[];return AR(t.data.concat(t.cacheData),_=>{const y=a("value",_);m.push({value:y,currentLabel:a("label",_),isDisabled:a("disabled",_)})},_=>a("children",_)),m});return{...ZA(zu(t),Object.keys(FT.props)),...e,nodeKey:l,expandOnClickNode:le(()=>!t.checkStrictly&&t.expandOnClickNode),defaultExpandedKeys:le(()=>t.defaultExpandedKeys?t.defaultExpandedKeys.concat(f):f),renderContent:(m,{node:_,data:y,store:T})=>m(tet,{value:a("value",y),label:a("label",y),disabled:a("disabled",y)},t.renderContent?()=>t.renderContent(m,{node:_,data:y,store:T}):n.default?()=>n.default({node:_,data:y,store:T}):void 0),filterNodeMethod:(m,_,y)=>t.filterNodeMethod?t.filterNodeMethod(m,_,y):m?new RegExp(RN(m),"i").test(a("label",_)||""):!0,onNodeClick:(m,_,y)=>{var T,E,P,I;if((T=e.onNodeClick)==null||T.call(e,m,_,y),!(t.showCheckbox&&t.checkOnClickNode)){if(!t.showCheckbox&&(t.checkStrictly||_.isLeaf)){if(!a("disabled",m)){const F=(E=i.value)==null?void 0:E.states.options.get(a("value",m));(P=i.value)==null||P.handleOptionSelect(F)}}else t.expandOnClickNode&&y.proxy.handleExpandIconClick();(I=i.value)==null||I.focus()}},onCheck:(m,_)=>{var y;if(!t.showCheckbox)return;const T=a("value",m),E={};AR([s.value.store.root],R=>E[R.key]=R,R=>R.childNodes);const P=_.checkedKeys,I=t.multiple?jx(t.modelValue).filter(R=>!(R in E)&&!P.includes(R)):[],F=I.concat(P);if(t.checkStrictly)r(vi,t.multiple?F:F.includes(T)?T:void 0);else if(t.multiple)r(vi,I.concat(s.value.getCheckedKeys(!0)));else{const R=IS([m],Q=>!X9(a("children",Q))&&!a("disabled",Q),Q=>a("children",Q)),N=R?a("value",R):void 0,z=pR(t.modelValue)&&!!IS([m],Q=>a("value",Q)===t.modelValue,Q=>a("children",Q));r(vi,N===t.modelValue||z?void 0:N)}dr(()=>{var R;const N=jx(t.modelValue);s.value.setCheckedKeys(N),(R=e.onCheck)==null||R.call(e,m,{checkedKeys:s.value.getCheckedKeys(),checkedNodes:s.value.getCheckedNodes(),halfCheckedKeys:s.value.getHalfCheckedKeys(),halfCheckedNodes:s.value.getHalfCheckedNodes()})}),(y=i.value)==null||y.focus()},cacheOptions:A}};var ret=Be({props:{data:{type:Array,default:()=>[]}},setup(t){const e=ar(Q6);return un(()=>t.data,()=>{var n;t.data.forEach(i=>{e.states.cachedOptions.has(i.value)||e.states.cachedOptions.set(i.value,i)});const r=((n=e.selectRef)==null?void 0:n.querySelectorAll("input"))||[];Array.from(r).includes(document.activeElement)||e.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const iet=Be({name:"ElTreeSelect",inheritAttrs:!1,props:{...oy.props,...FT.props,cacheData:{type:Array,default:()=>[]}},setup(t,e){const{slots:n,expose:r}=e,i=Te(),s=Te(),l=le(()=>t.nodeKey||t.valueKey||"value"),c=eet(t,e,{select:i,tree:s,key:l}),{cacheOptions:a,...f}=net(t,e,{select:i,tree:s,key:l}),A=ua({});return r(A),kr(()=>{Object.assign(A,{...ZA(s.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...ZA(i.value,["focus","blur"])})}),()=>wr(oy,ua({...c,ref:m=>i.value=m}),{...n,default:()=>[wr(ret,{data:a.value}),wr(FT,ua({...f,ref:m=>s.value=m}))]})}});var LS=kn(iet,[["__file","tree-select.vue"]]);LS.install=t=>{t.component(LS.name,LS)};const aet=LS,set=aet,Z9=Symbol(),oet={key:-1,level:-1,data:{}};var p4=(t=>(t.KEY="id",t.LABEL="label",t.CHILDREN="children",t.DISABLED="disabled",t))(p4||{}),mR=(t=>(t.ADD="add",t.DELETE="delete",t))(mR||{});const Gse={type:Number,default:26},uet=Ln({data:{type:Rt(Array),default:()=>to([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:Rt(Object),default:()=>to({children:"children",label:"label",disabled:"disabled",value:"id"})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:Rt(Array),default:()=>to([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:Rt(Array),default:()=>to([])},indent:{type:Number,default:16},itemSize:Gse,icon:{type:Ja},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:Rt([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:Rt(Function)},perfMode:{type:Boolean,default:!0}}),cet=Ln({node:{type:Rt(Object),default:()=>to(oet)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1},itemSize:Gse}),het=Ln({node:{type:Rt(Object),required:!0}}),Kse="node-click",Wse="node-expand",qse="node-collapse",Yse="current-change",Xse="check",Zse="check-change",Jse="node-contextmenu",det={[Kse]:(t,e,n)=>t&&e&&n,[Wse]:(t,e)=>t&&e,[qse]:(t,e)=>t&&e,[Yse]:(t,e)=>t&&e,[Xse]:(t,e)=>t&&e,[Zse]:(t,e)=>t&&typeof e=="boolean",[Jse]:(t,e,n)=>t&&e&&n},fet={click:(t,e)=>!!(t&&e),toggle:t=>!!t,check:(t,e)=>t&&typeof e=="boolean"};function pet(t,e){const n=Te(new Set),r=Te(new Set),{emit:i}=ci();un([()=>e.value,()=>t.defaultCheckedKeys],()=>dr(()=>{F(t.defaultCheckedKeys)}),{immediate:!0});const s=()=>{if(!e.value||!t.showCheckbox||t.checkStrictly)return;const{levelTreeNodeMap:R,maxLevel:N}=e.value,z=n.value,Q=new Set;for(let j=N-1;j>=1;--j){const H=R.get(j);H&&H.forEach(K=>{const ie=K.children;if(ie){let q=!0,W=!1;for(const ee of ie){const ue=ee.key;if(z.has(ue))W=!0;else if(Q.has(ue)){q=!1,W=!0;break}else q=!1}q?z.add(K.key):W?(Q.add(K.key),z.delete(K.key)):(z.delete(K.key),Q.delete(K.key))}})}r.value=Q},l=R=>n.value.has(R.key),c=R=>r.value.has(R.key),a=(R,N,z=!0)=>{const Q=n.value,j=(H,K)=>{Q[K?mR.ADD:mR.DELETE](H.key);const ie=H.children;!t.checkStrictly&&ie&&ie.forEach(q=>{q.disabled||j(q,K)})};j(R,N),s(),z&&f(R,N)},f=(R,N)=>{const{checkedNodes:z,checkedKeys:Q}=T(),{halfCheckedNodes:j,halfCheckedKeys:H}=E();i(Xse,R.data,{checkedKeys:Q,checkedNodes:z,halfCheckedKeys:H,halfCheckedNodes:j}),i(Zse,R.data,N)};function A(R=!1){return T(R).checkedKeys}function m(R=!1){return T(R).checkedNodes}function _(){return E().halfCheckedKeys}function y(){return E().halfCheckedNodes}function T(R=!1){const N=[],z=[];if(e!=null&&e.value&&t.showCheckbox){const{treeNodeMap:Q}=e.value;n.value.forEach(j=>{const H=Q.get(j);H&&(!R||R&&H.isLeaf)&&(z.push(j),N.push(H.data))})}return{checkedKeys:z,checkedNodes:N}}function E(){const R=[],N=[];if(e!=null&&e.value&&t.showCheckbox){const{treeNodeMap:z}=e.value;r.value.forEach(Q=>{const j=z.get(Q);j&&(N.push(Q),R.push(j.data))})}return{halfCheckedNodes:R,halfCheckedKeys:N}}function P(R){n.value.clear(),r.value.clear(),dr(()=>{F(R)})}function I(R,N){if(e!=null&&e.value&&t.showCheckbox){const z=e.value.treeNodeMap.get(R);z&&a(z,N,!1)}}function F(R){if(e!=null&&e.value){const{treeNodeMap:N}=e.value;if(t.showCheckbox&&N&&R)for(const z of R){const Q=N.get(z);Q&&!l(Q)&&a(Q,!0,!1)}}}return{updateCheckedKeys:s,toggleCheckbox:a,isChecked:l,isIndeterminate:c,getCheckedKeys:A,getCheckedNodes:m,getHalfCheckedKeys:_,getHalfCheckedNodes:y,setChecked:I,setCheckedKeys:P}}function Aet(t,e){const n=Te(new Set([])),r=Te(new Set([])),i=le(()=>Dr(t.filterMethod));function s(c){var a;if(!i.value)return;const f=new Set,A=r.value,m=n.value,_=[],y=((a=e.value)==null?void 0:a.treeNodes)||[],T=t.filterMethod;m.clear();function E(P){P.forEach(I=>{_.push(I),T!=null&&T(c,I.data)?_.forEach(R=>{f.add(R.key)}):I.isLeaf&&m.add(I.key);const F=I.children;if(F&&E(F),!I.isLeaf){if(!f.has(I.key))m.add(I.key);else if(F){let R=!0;for(const N of F)if(!m.has(N.key)){R=!1;break}R?A.add(I.key):A.delete(I.key)}}_.pop()})}return E(y),f}function l(c){return r.value.has(c.key)}return{hiddenExpandIconKeySet:r,hiddenNodeKeySet:n,doFilter:s,isForceHiddenExpandIcon:l}}function met(t,e){const n=Te(new Set(t.defaultExpandedKeys)),r=Te(),i=ms();un(()=>t.currentNodeKey,Re=>{r.value=Re},{immediate:!0}),un(()=>t.data,Re=>{Le(Re)},{immediate:!0});const{isIndeterminate:s,isChecked:l,toggleCheckbox:c,getCheckedKeys:a,getCheckedNodes:f,getHalfCheckedKeys:A,getHalfCheckedNodes:m,setChecked:_,setCheckedKeys:y}=pet(t,i),{doFilter:T,hiddenNodeKeySet:E,isForceHiddenExpandIcon:P}=Aet(t,i),I=le(()=>{var Re;return((Re=t.props)==null?void 0:Re.value)||p4.KEY}),F=le(()=>{var Re;return((Re=t.props)==null?void 0:Re.children)||p4.CHILDREN}),R=le(()=>{var Re;return((Re=t.props)==null?void 0:Re.disabled)||p4.DISABLED}),N=le(()=>{var Re;return((Re=t.props)==null?void 0:Re.label)||p4.LABEL}),z=le(()=>{const Re=n.value,Qe=E.value,Je=[],nt=i.value&&i.value.treeNodes||[];function Ve(){const Pe=[];for(let Ge=nt.length-1;Ge>=0;--Ge)Pe.push(nt[Ge]);for(;Pe.length;){const Ge=Pe.pop();if(Ge&&(Qe.has(Ge.key)||Je.push(Ge),Re.has(Ge.key))){const Ne=Ge.children;if(Ne){const je=Ne.length;for(let Ye=je-1;Ye>=0;--Ye)Pe.push(Ne[Ye])}}}}return Ve(),Je}),Q=le(()=>z.value.length>0);function j(Re){const Qe=new Map,Je=new Map;let nt=1;function Ve(Ge,Ne=1,je=void 0){var Ye;const vt=[];for(const Lt of Ge){const Et=ie(Lt),Vt={level:Ne,key:Et,data:Lt};Vt.label=W(Lt),Vt.parent=je;const _t=K(Lt);Vt.disabled=q(Lt),Vt.isLeaf=!_t||_t.length===0,_t&&_t.length&&(Vt.children=Ve(_t,Ne+1,Vt)),vt.push(Vt),Qe.set(Et,Vt),Je.has(Ne)||Je.set(Ne,[]),(Ye=Je.get(Ne))==null||Ye.push(Vt)}return Ne>nt&&(nt=Ne),vt}const Pe=Ve(Re);return{treeNodeMap:Qe,levelTreeNodeMap:Je,maxLevel:nt,treeNodes:Pe}}function H(Re){const Qe=T(Re);Qe&&(n.value=Qe)}function K(Re){return Re[F.value]}function ie(Re){return Re?Re[I.value]:""}function q(Re){return Re[R.value]}function W(Re){return Re[N.value]}function ee(Re){n.value.has(Re.key)?ce(Re):he(Re)}function ue(Re){n.value=new Set(Re)}function J(Re,Qe){e(Kse,Re.data,Re,Qe),te(Re),t.expandOnClickNode&&ee(Re),t.showCheckbox&&t.checkOnClickNode&&!Re.disabled&&c(Re,!l(Re),!0)}function te(Re){se(Re)||(r.value=Re.key,e(Yse,Re.data,Re))}function ne(Re,Qe){c(Re,Qe)}function he(Re){const Qe=n.value;if(i.value&&t.accordion){const{treeNodeMap:Je}=i.value;Qe.forEach(nt=>{const Ve=Je.get(nt);Re&&Re.level===(Ve==null?void 0:Ve.level)&&Qe.delete(nt)})}Qe.add(Re.key),e(Wse,Re.data,Re)}function ce(Re){n.value.delete(Re.key),e(qse,Re.data,Re)}function ye(Re){return n.value.has(Re.key)}function Ee(Re){return!!Re.disabled}function se(Re){const Qe=r.value;return Qe!==void 0&&Qe===Re.key}function oe(){var Re,Qe;if(r.value)return(Qe=(Re=i.value)==null?void 0:Re.treeNodeMap.get(r.value))==null?void 0:Qe.data}function _e(){return r.value}function Ue(Re){r.value=Re}function Le(Re){dr(()=>i.value=j(Re))}function be(Re){var Qe;const Je=Ai(Re)?ie(Re):Re;return(Qe=i.value)==null?void 0:Qe.treeNodeMap.get(Je)}return{tree:i,flattenTree:z,isNotEmpty:Q,getKey:ie,getChildren:K,toggleExpand:ee,toggleCheckbox:c,isExpanded:ye,isChecked:l,isIndeterminate:s,isDisabled:Ee,isCurrent:se,isForceHiddenExpandIcon:P,handleNodeClick:J,handleNodeCheck:ne,getCurrentNode:oe,getCurrentKey:_e,setCurrentKey:Ue,getCheckedKeys:a,getCheckedNodes:f,getHalfCheckedKeys:A,getHalfCheckedNodes:m,setChecked:_,setCheckedKeys:y,filter:H,setData:Le,getNode:be,expandNode:he,collapseNode:ce,setExpandedKeys:ue}}var get=Be({name:"ElTreeNodeContent",props:het,setup(t){const e=ar(Z9),n=vn("tree");return()=>{const r=t.node,{data:i}=r;return e!=null&&e.ctx.slots.default?e.ctx.slots.default({node:r,data:i}):wr("span",{class:n.be("node","label")},[r==null?void 0:r.label])}}});const vet=["aria-expanded","aria-disabled","aria-checked","data-key","onClick"],_et=Be({name:"ElTreeNode"}),yet=Be({..._et,props:cet,emits:fet,setup(t,{emit:e}){const n=t,r=ar(Z9),i=vn("tree"),s=le(()=>{var m;return(m=r==null?void 0:r.props.indent)!=null?m:16}),l=le(()=>{var m;return(m=r==null?void 0:r.props.icon)!=null?m:DN}),c=m=>{e("click",n.node,m)},a=()=>{e("toggle",n.node)},f=m=>{e("check",n.node,m)},A=m=>{var _,y,T,E;(T=(y=(_=r==null?void 0:r.instance)==null?void 0:_.vnode)==null?void 0:y.props)!=null&&T.onNodeContextmenu&&(m.stopPropagation(),m.preventDefault()),r==null||r.ctx.emit(Jse,m,(E=n.node)==null?void 0:E.data,n.node)};return(m,_)=>{var y,T,E;return X(),ve("div",{ref:"node$",class:Se([S(i).b("node"),S(i).is("expanded",m.expanded),S(i).is("current",m.current),S(i).is("focusable",!m.disabled),S(i).is("checked",!m.disabled&&m.checked)]),role:"treeitem",tabindex:"-1","aria-expanded":m.expanded,"aria-disabled":m.disabled,"aria-checked":m.checked,"data-key":(y=m.node)==null?void 0:y.key,onClick:Fr(c,["stop"]),onContextmenu:A},[pe("div",{class:Se(S(i).be("node","content")),style:or({paddingLeft:`${(m.node.level-1)*S(s)}px`,height:m.itemSize+"px"})},[S(l)?(X(),Ut(S(Ar),{key:0,class:Se([S(i).is("leaf",!!((T=m.node)!=null&&T.isLeaf)),S(i).is("hidden",m.hiddenExpandIcon),{expanded:!((E=m.node)!=null&&E.isLeaf)&&m.expanded},S(i).be("node","expand-icon")]),onClick:Fr(a,["stop"])},{default:xt(()=>[(X(),Ut(di(S(l))))]),_:1},8,["class","onClick"])):bt("v-if",!0),m.showCheckbox?(X(),Ut(S(If),{key:1,"model-value":m.checked,indeterminate:m.indeterminate,disabled:m.disabled,onChange:f,onClick:_[0]||(_[0]=Fr(()=>{},["stop"]))},null,8,["model-value","indeterminate","disabled"])):bt("v-if",!0),ht(S(get),{node:m.node},null,8,["node"])],6)],42,vet)}}});var bet=kn(yet,[["__file","tree-node.vue"]]);const wet=Be({name:"ElTreeV2"}),xet=Be({...wet,props:uet,emits:det,setup(t,{expose:e,emit:n}){const r=t,i=Eo(),s=le(()=>r.itemSize);Ii(Z9,{ctx:{emit:n,slots:i},props:r,instance:ci()}),Ii(vm,void 0);const{t:l}=ca(),c=vn("tree"),{flattenTree:a,isNotEmpty:f,toggleExpand:A,isExpanded:m,isIndeterminate:_,isChecked:y,isDisabled:T,isCurrent:E,isForceHiddenExpandIcon:P,handleNodeClick:I,handleNodeCheck:F,toggleCheckbox:R,getCurrentNode:N,getCurrentKey:z,setCurrentKey:Q,getCheckedKeys:j,getCheckedNodes:H,getHalfCheckedKeys:K,getHalfCheckedNodes:ie,setChecked:q,setCheckedKeys:W,filter:ee,setData:ue,getNode:J,expandNode:te,collapseNode:ne,setExpandedKeys:he}=met(r,n);return e({toggleCheckbox:R,getCurrentNode:N,getCurrentKey:z,setCurrentKey:Q,getCheckedKeys:j,getCheckedNodes:H,getHalfCheckedKeys:K,getHalfCheckedNodes:ie,setChecked:q,setCheckedKeys:W,filter:ee,setData:ue,getNode:J,expandNode:te,collapseNode:ne,setExpandedKeys:he}),(ce,ye)=>{var Ee;return X(),ve("div",{class:Se([S(c).b(),{[S(c).m("highlight-current")]:ce.highlightCurrent}]),role:"tree"},[S(f)?(X(),Ut(S(ise),{key:0,"class-name":S(c).b("virtual-list"),data:S(a),total:S(a).length,height:ce.height,"item-size":S(s),"perf-mode":ce.perfMode},{default:xt(({data:se,index:oe,style:_e})=>[(X(),Ut(bet,{key:se[oe].key,style:or(_e),node:se[oe],expanded:S(m)(se[oe]),"show-checkbox":ce.showCheckbox,checked:S(y)(se[oe]),indeterminate:S(_)(se[oe]),"item-size":S(s),disabled:S(T)(se[oe]),current:S(E)(se[oe]),"hidden-expand-icon":S(P)(se[oe]),onClick:S(I),onToggle:S(A),onCheck:S(F)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):(X(),ve("div",{key:1,class:Se(S(c).e("empty-block"))},[pe("span",{class:Se(S(c).e("empty-text"))},Cn((Ee=ce.emptyText)!=null?Ee:S(l)("el.tree.emptyText")),3)],2))],2)}}});var Cet=kn(xet,[["__file","tree.vue"]]);const Eet=fi(Cet),eoe=Symbol("uploadContextKey"),Tet="ElUpload";class Bet extends Error{constructor(e,n,r,i){super(e),this.name="UploadAjaxError",this.status=n,this.method=r,this.url=i}}function yW(t,e,n){let r;return n.response?r=`${n.response.error||n.response}`:n.responseText?r=`${n.responseText}`:r=`fail to ${e.method} ${t} ${n.status}`,new Bet(r,n.status,e.method,t)}function Met(t){const e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}const Iet=t=>{typeof XMLHttpRequest>"u"&&kl(Tet,"XMLHttpRequest is undefined");const e=new XMLHttpRequest,n=t.action;e.upload&&e.upload.addEventListener("progress",s=>{const l=s;l.percent=s.total>0?s.loaded/s.total*100:0,t.onProgress(l)});const r=new FormData;if(t.data)for(const[s,l]of Object.entries(t.data))Jn(l)&&l.length?r.append(s,...l):r.append(s,l);r.append(t.filename,t.file,t.file.name),e.addEventListener("error",()=>{t.onError(yW(n,t,e))}),e.addEventListener("load",()=>{if(e.status<200||e.status>=300)return t.onError(yW(n,t,e));t.onSuccess(Met(e))}),e.open(t.method,n,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);const i=t.headers||{};if(i instanceof Headers)i.forEach((s,l)=>e.setRequestHeader(l,s));else for(const[s,l]of Object.entries(i))_u(l)||e.setRequestHeader(s,String(l));return e.send(r),e},toe=["text","picture","picture-card"];let Let=1;const gR=()=>Date.now()+Let++,noe=Ln({action:{type:String,default:"#"},headers:{type:Rt(Object)},method:{type:String,default:"post"},data:{type:Rt([Object,Function,Promise]),default:()=>to({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:Rt(Array),default:()=>to([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:toe,default:"text"},httpRequest:{type:Rt(Function),default:Iet},disabled:Boolean,limit:Number}),Pet=Ln({...noe,beforeUpload:{type:Rt(Function),default:Va},beforeRemove:{type:Rt(Function)},onRemove:{type:Rt(Function),default:Va},onChange:{type:Rt(Function),default:Va},onPreview:{type:Rt(Function),default:Va},onSuccess:{type:Rt(Function),default:Va},onProgress:{type:Rt(Function),default:Va},onError:{type:Rt(Function),default:Va},onExceed:{type:Rt(Function),default:Va},crossorigin:{type:Rt(String)}}),Fet=Ln({files:{type:Rt(Array),default:()=>to([])},disabled:{type:Boolean,default:!1},handlePreview:{type:Rt(Function),default:Va},listType:{type:String,values:toe,default:"text"},crossorigin:{type:Rt(String)}}),ket={remove:t=>!!t},Ret=["onKeydown"],Oet=["src","crossorigin"],Det=["onClick"],Net=["title"],Uet=["onClick"],zet=["onClick"],$et=Be({name:"ElUploadList"}),Vet=Be({...$et,props:Fet,emits:ket,setup(t,{emit:e}){const n=t,{t:r}=ca(),i=vn("upload"),s=vn("icon"),l=vn("list"),c=oh(),a=Te(!1),f=le(()=>[i.b("list"),i.bm("list",n.listType),i.is("disabled",n.disabled)]),A=m=>{e("remove",m)};return(m,_)=>(X(),Ut(Vee,{tag:"ul",class:Se(S(f)),name:S(l).b()},{default:xt(()=>[(X(!0),ve(Vn,null,Yr(m.files,y=>(X(),ve("li",{key:y.uid||y.name,class:Se([S(i).be("list","item"),S(i).is(y.status),{focusing:a.value}]),tabindex:"0",onKeydown:Qa(T=>!S(c)&&A(y),["delete"]),onFocus:_[0]||(_[0]=T=>a.value=!0),onBlur:_[1]||(_[1]=T=>a.value=!1),onClick:_[2]||(_[2]=T=>a.value=!1)},[kt(m.$slots,"default",{file:y},()=>[m.listType==="picture"||y.status!=="uploading"&&m.listType==="picture-card"?(X(),ve("img",{key:0,class:Se(S(i).be("list","item-thumbnail")),src:y.url,crossorigin:m.crossorigin,alt:""},null,10,Oet)):bt("v-if",!0),y.status==="uploading"||m.listType!=="picture-card"?(X(),ve("div",{key:1,class:Se(S(i).be("list","item-info"))},[pe("a",{class:Se(S(i).be("list","item-name")),onClick:Fr(T=>m.handlePreview(y),["prevent"])},[ht(S(Ar),{class:Se(S(s).m("document"))},{default:xt(()=>[ht(S(Jne))]),_:1},8,["class"]),pe("span",{class:Se(S(i).be("list","item-file-name")),title:y.name},Cn(y.name),11,Net)],10,Det),y.status==="uploading"?(X(),Ut(S(qae),{key:0,type:m.listType==="picture-card"?"circle":"line","stroke-width":m.listType==="picture-card"?6:2,percentage:Number(y.percentage),style:or(m.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):bt("v-if",!0)],2)):bt("v-if",!0),pe("label",{class:Se(S(i).be("list","item-status-label"))},[m.listType==="text"?(X(),Ut(S(Ar),{key:0,class:Se([S(s).m("upload-success"),S(s).m("circle-check")])},{default:xt(()=>[ht(S(J8))]),_:1},8,["class"])):["picture-card","picture"].includes(m.listType)?(X(),Ut(S(Ar),{key:1,class:Se([S(s).m("upload-success"),S(s).m("check")])},{default:xt(()=>[ht(S(I2))]),_:1},8,["class"])):bt("v-if",!0)],2),S(c)?bt("v-if",!0):(X(),Ut(S(Ar),{key:2,class:Se(S(s).m("close")),onClick:T=>A(y)},{default:xt(()=>[ht(S(Tf))]),_:2},1032,["class","onClick"])),bt(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),bt(" This is a bug which needs to be fixed "),bt(" TODO: Fix the incorrect navigation interaction "),S(c)?bt("v-if",!0):(X(),ve("i",{key:3,class:Se(S(s).m("close-tip"))},Cn(S(r)("el.upload.deleteTip")),3)),m.listType==="picture-card"?(X(),ve("span",{key:4,class:Se(S(i).be("list","item-actions"))},[pe("span",{class:Se(S(i).be("list","item-preview")),onClick:T=>m.handlePreview(y)},[ht(S(Ar),{class:Se(S(s).m("zoom-in"))},{default:xt(()=>[ht(S($N))]),_:1},8,["class"])],10,Uet),S(c)?bt("v-if",!0):(X(),ve("span",{key:0,class:Se(S(i).be("list","item-delete")),onClick:T=>A(y)},[ht(S(Ar),{class:Se(S(s).m("delete"))},{default:xt(()=>[ht(S(Zne))]),_:1},8,["class"])],10,zet))],2)):bt("v-if",!0)])],42,Ret))),128)),kt(m.$slots,"append")]),_:3},8,["class","name"]))}});var bW=kn(Vet,[["__file","upload-list.vue"]]);const Het=Ln({disabled:{type:Boolean,default:!1}}),Qet={file:t=>Jn(t)},jet=["onDrop","onDragover"],roe="ElUploadDrag",Get=Be({name:roe}),Ket=Be({...Get,props:Het,emits:Qet,setup(t,{emit:e}){ar(eoe)||kl(roe,"usage: <el-upload><el-upload-dragger /></el-upload>");const r=vn("upload"),i=Te(!1),s=oh(),l=a=>{if(s.value)return;i.value=!1,a.stopPropagation();const f=Array.from(a.dataTransfer.files);e("file",f)},c=()=>{s.value||(i.value=!0)};return(a,f)=>(X(),ve("div",{class:Se([S(r).b("dragger"),S(r).is("dragover",i.value)]),onDrop:Fr(l,["prevent"]),onDragover:Fr(c,["prevent"]),onDragleave:f[0]||(f[0]=Fr(A=>i.value=!1,["prevent"]))},[kt(a.$slots,"default")],42,jet))}});var Wet=kn(Ket,[["__file","upload-dragger.vue"]]);const qet=Ln({...noe,beforeUpload:{type:Rt(Function),default:Va},onRemove:{type:Rt(Function),default:Va},onStart:{type:Rt(Function),default:Va},onSuccess:{type:Rt(Function),default:Va},onProgress:{type:Rt(Function),default:Va},onError:{type:Rt(Function),default:Va},onExceed:{type:Rt(Function),default:Va}}),Yet=["onKeydown"],Xet=["name","multiple","accept"],Zet=Be({name:"ElUploadContent",inheritAttrs:!1}),Jet=Be({...Zet,props:qet,setup(t,{expose:e}){const n=t,r=vn("upload"),i=oh(),s=ms({}),l=ms(),c=E=>{if(E.length===0)return;const{autoUpload:P,limit:I,fileList:F,multiple:R,onStart:N,onExceed:z}=n;if(I&&F.length+E.length>I){z(E,F);return}R||(E=E.slice(0,1));for(const Q of E){const j=Q;j.uid=gR(),N(j),P&&a(j)}},a=async E=>{if(l.value.value="",!n.beforeUpload)return A(E);let P,I={};try{const R=n.data,N=n.beforeUpload(E);I=nT(n.data)?mT(n.data):n.data,P=await N,nT(n.data)&&kc(R,I)&&(I=mT(n.data))}catch{P=!1}if(P===!1){n.onRemove(E);return}let F=E;P instanceof Blob&&(P instanceof File?F=P:F=new File([P],E.name,{type:E.type})),A(Object.assign(F,{uid:E.uid}),I)},f=async(E,P)=>Dr(E)?E(P):E,A=async(E,P)=>{const{headers:I,data:F,method:R,withCredentials:N,name:z,action:Q,onProgress:j,onSuccess:H,onError:K,httpRequest:ie}=n;try{P=await f(P??F,E)}catch{n.onRemove(E);return}const{uid:q}=E,W={headers:I||{},withCredentials:N,file:E,data:P,method:R,filename:z,action:Q,onProgress:ue=>{j(ue,E)},onSuccess:ue=>{H(ue,E),delete s.value[q]},onError:ue=>{K(ue,E),delete s.value[q]}},ee=ie(W);s.value[q]=ee,ee instanceof Promise&&ee.then(W.onSuccess,W.onError)},m=E=>{const P=E.target.files;P&&c(Array.from(P))},_=()=>{i.value||(l.value.value="",l.value.click())},y=()=>{_()};return e({abort:E=>{bEe(s.value).filter(E?([I])=>String(E.uid)===I:()=>!0).forEach(([I,F])=>{F instanceof XMLHttpRequest&&F.abort(),delete s.value[I]})},upload:a}),(E,P)=>(X(),ve("div",{class:Se([S(r).b(),S(r).m(E.listType),S(r).is("drag",E.drag)]),tabindex:"0",onClick:_,onKeydown:Qa(Fr(y,["self"]),["enter","space"])},[E.drag?(X(),Ut(Wet,{key:0,disabled:S(i),onFile:c},{default:xt(()=>[kt(E.$slots,"default")]),_:3},8,["disabled"])):kt(E.$slots,"default",{key:1}),pe("input",{ref_key:"inputRef",ref:l,class:Se(S(r).e("input")),name:E.name,multiple:E.multiple,accept:E.accept,type:"file",onChange:m,onClick:P[0]||(P[0]=Fr(()=>{},["stop"]))},null,42,Xet)],42,Yet))}});var wW=kn(Jet,[["__file","upload-content.vue"]]);const xW="ElUpload",CW=t=>{var e;(e=t.url)!=null&&e.startsWith("blob:")&&URL.revokeObjectURL(t.url)},ett=(t,e)=>{const n=rne(t,"fileList",void 0,{passive:!0}),r=_=>n.value.find(y=>y.uid===_.uid);function i(_){var y;(y=e.value)==null||y.abort(_)}function s(_=["ready","uploading","success","fail"]){n.value=n.value.filter(y=>!_.includes(y.status))}const l=(_,y)=>{const T=r(y);T&&(console.error(_),T.status="fail",n.value.splice(n.value.indexOf(T),1),t.onError(_,T,n.value),t.onChange(T,n.value))},c=(_,y)=>{const T=r(y);T&&(t.onProgress(_,T,n.value),T.status="uploading",T.percentage=Math.round(_.percent))},a=(_,y)=>{const T=r(y);T&&(T.status="success",T.response=_,t.onSuccess(_,T,n.value),t.onChange(T,n.value))},f=_=>{_u(_.uid)&&(_.uid=gR());const y={name:_.name,percentage:0,status:"ready",size:_.size,raw:_,uid:_.uid};if(t.listType==="picture-card"||t.listType==="picture")try{y.url=URL.createObjectURL(_)}catch(T){T.message,t.onError(T,y,n.value)}n.value=[...n.value,y],t.onChange(y,n.value)},A=async _=>{const y=_ instanceof File?r(_):_;y||kl(xW,"file to be removed not found");const T=E=>{i(E);const P=n.value;P.splice(P.indexOf(E),1),t.onRemove(E,P),CW(E)};t.beforeRemove?await t.beforeRemove(y,n.value)!==!1&&T(y):T(y)};function m(){n.value.filter(({status:_})=>_==="ready").forEach(({raw:_})=>{var y;return _&&((y=e.value)==null?void 0:y.upload(_))})}return un(()=>t.listType,_=>{_!=="picture-card"&&_!=="picture"||(n.value=n.value.map(y=>{const{raw:T,url:E}=y;if(!E&&T)try{y.url=URL.createObjectURL(T)}catch(P){t.onError(P,y,n.value)}return y}))}),un(n,_=>{for(const y of _)y.uid||(y.uid=gR()),y.status||(y.status="success")},{immediate:!0,deep:!0}),{uploadFiles:n,abort:i,clearFiles:s,handleError:l,handleProgress:c,handleStart:f,handleSuccess:a,handleRemove:A,submit:m,revokeFileObjectURL:CW}},ttt=Be({name:"ElUpload"}),ntt=Be({...ttt,props:Pet,setup(t,{expose:e}){const n=t,r=oh(),i=ms(),{abort:s,submit:l,clearFiles:c,uploadFiles:a,handleStart:f,handleError:A,handleRemove:m,handleSuccess:_,handleProgress:y,revokeFileObjectURL:T}=ett(n,i),E=le(()=>n.listType==="picture-card"),P=le(()=>({...n,fileList:a.value,onStart:f,onProgress:y,onSuccess:_,onError:A,onRemove:m}));return ds(()=>{a.value.forEach(T)}),Ii(eoe,{accept:Oa(n,"accept")}),e({abort:s,submit:l,clearFiles:c,handleStart:f,handleRemove:m}),(I,F)=>(X(),ve("div",null,[S(E)&&I.showFileList?(X(),Ut(bW,{key:0,disabled:S(r),"list-type":I.listType,files:S(a),crossorigin:I.crossorigin,"handle-preview":I.onPreview,onRemove:S(m)},Ro({append:xt(()=>[ht(wW,Xr({ref_key:"uploadRef",ref:i},S(P)),{default:xt(()=>[I.$slots.trigger?kt(I.$slots,"trigger",{key:0}):bt("v-if",!0),!I.$slots.trigger&&I.$slots.default?kt(I.$slots,"default",{key:1}):bt("v-if",!0)]),_:3},16)]),_:2},[I.$slots.file?{name:"default",fn:xt(({file:R})=>[kt(I.$slots,"file",{file:R})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):bt("v-if",!0),!S(E)||S(E)&&!I.showFileList?(X(),Ut(wW,Xr({key:1,ref_key:"uploadRef",ref:i},S(P)),{default:xt(()=>[I.$slots.trigger?kt(I.$slots,"trigger",{key:0}):bt("v-if",!0),!I.$slots.trigger&&I.$slots.default?kt(I.$slots,"default",{key:1}):bt("v-if",!0)]),_:3},16)):bt("v-if",!0),I.$slots.trigger?kt(I.$slots,"default",{key:2}):bt("v-if",!0),kt(I.$slots,"tip"),!S(E)&&I.showFileList?(X(),Ut(bW,{key:3,disabled:S(r),"list-type":I.listType,files:S(a),crossorigin:I.crossorigin,"handle-preview":I.onPreview,onRemove:S(m)},Ro({_:2},[I.$slots.file?{name:"default",fn:xt(({file:R})=>[kt(I.$slots,"file",{file:R})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):bt("v-if",!0)]))}});var rtt=kn(ntt,[["__file","upload.vue"]]);const itt=fi(rtt),att=Ln({zIndex:{type:Number,default:9},rotate:{type:Number,default:-22},width:Number,height:Number,image:String,content:{type:Rt([String,Array]),default:"Element Plus"},font:{type:Rt(Object)},gap:{type:Rt(Array),default:()=>[100,100]},offset:{type:Rt(Array)}});function stt(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}function ott(t){return Object.keys(t).map(e=>`${stt(e)}: ${t[e]};`).join(" ")}function ltt(){return window.devicePixelRatio||1}const utt=(t,e)=>{let n=!1;return t.removedNodes.length&&e&&(n=Array.from(t.removedNodes).includes(e)),t.type==="attributes"&&t.target===e&&(n=!0),n},ioe=3;function $L(t,e,n=1){const r=document.createElement("canvas"),i=r.getContext("2d"),s=t*n,l=e*n;return r.setAttribute("width",`${s}px`),r.setAttribute("height",`${l}px`),i.save(),[i,r,s,l]}function ctt(){function t(e,n,r,i,s,l,c,a){const[f,A,m,_]=$L(i,s,r);if(e instanceof HTMLImageElement)f.drawImage(e,0,0,m,_);else{const{color:Ee,fontSize:se,fontStyle:oe,fontWeight:_e,fontFamily:Ue,textAlign:Le,textBaseline:be}=l,Re=Number(se)*r;f.font=`${oe} normal ${_e} ${Re}px/${s}px ${Ue}`,f.fillStyle=Ee,f.textAlign=Le,f.textBaseline=be;const Qe=Array.isArray(e)?e:[e];Qe==null||Qe.forEach((Je,nt)=>{f.fillText(Je??"",m/2,nt*(Re+ioe*r))})}const y=Math.PI/180*Number(n),T=Math.max(i,s),[E,P,I]=$L(T,T,r);E.translate(I/2,I/2),E.rotate(y),m>0&&_>0&&E.drawImage(A,-m/2,-_/2);function F(Ee,se){const oe=Ee*Math.cos(y)-se*Math.sin(y),_e=Ee*Math.sin(y)+se*Math.cos(y);return[oe,_e]}let R=0,N=0,z=0,Q=0;const j=m/2,H=_/2;[[0-j,0-H],[0+j,0-H],[0+j,0+H],[0-j,0+H]].forEach(([Ee,se])=>{const[oe,_e]=F(Ee,se);R=Math.min(R,oe),N=Math.max(N,oe),z=Math.min(z,_e),Q=Math.max(Q,_e)});const ie=R+I/2,q=z+I/2,W=N-R,ee=Q-z,ue=c*r,J=a*r,te=(W+ue)*2,ne=ee+J,[he,ce]=$L(te,ne);function ye(Ee=0,se=0){he.drawImage(P,ie,q,W,ee,Ee,se,W,ee)}return ye(),ye(W+ue,-ee/2-J/2),ye(W+ue,+ee/2+J/2),[ce.toDataURL(),te/r,ne/r]}return t}const htt=Be({name:"ElWatermark"}),dtt=Be({...htt,props:att,setup(t){const e=t,n={position:"relative"},r=le(()=>{var ie,q;return(q=(ie=e.font)==null?void 0:ie.color)!=null?q:"rgba(0,0,0,.15)"}),i=le(()=>{var ie,q;return(q=(ie=e.font)==null?void 0:ie.fontSize)!=null?q:16}),s=le(()=>{var ie,q;return(q=(ie=e.font)==null?void 0:ie.fontWeight)!=null?q:"normal"}),l=le(()=>{var ie,q;return(q=(ie=e.font)==null?void 0:ie.fontStyle)!=null?q:"normal"}),c=le(()=>{var ie,q;return(q=(ie=e.font)==null?void 0:ie.fontFamily)!=null?q:"sans-serif"}),a=le(()=>{var ie,q;return(q=(ie=e.font)==null?void 0:ie.textAlign)!=null?q:"center"}),f=le(()=>{var ie,q;return(q=(ie=e.font)==null?void 0:ie.textBaseline)!=null?q:"top"}),A=le(()=>e.gap[0]),m=le(()=>e.gap[1]),_=le(()=>A.value/2),y=le(()=>m.value/2),T=le(()=>{var ie,q;return(q=(ie=e.offset)==null?void 0:ie[0])!=null?q:_.value}),E=le(()=>{var ie,q;return(q=(ie=e.offset)==null?void 0:ie[1])!=null?q:y.value}),P=()=>{const ie={zIndex:e.zIndex,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let q=T.value-_.value,W=E.value-y.value;return q>0&&(ie.left=`${q}px`,ie.width=`calc(100% - ${q}px)`,q=0),W>0&&(ie.top=`${W}px`,ie.height=`calc(100% - ${W}px)`,W=0),ie.backgroundPosition=`${q}px ${W}px`,ie},I=ms(null),F=ms(),R=Te(!1),N=()=>{F.value&&(F.value.remove(),F.value=void 0)},z=(ie,q)=>{var W;I.value&&F.value&&(R.value=!0,F.value.setAttribute("style",ott({...P(),backgroundImage:`url('${ie}')`,backgroundSize:`${Math.floor(q)}px`})),(W=I.value)==null||W.append(F.value),setTimeout(()=>{R.value=!1}))},Q=ie=>{let q=120,W=64;const ee=e.image,ue=e.content,J=e.width,te=e.height;if(!ee&&ie.measureText){ie.font=`${Number(i.value)}px ${c.value}`;const ne=Array.isArray(ue)?ue:[ue],he=ne.map(ce=>{const ye=ie.measureText(ce);return[ye.width,ye.fontBoundingBoxAscent!==void 0?ye.fontBoundingBoxAscent+ye.fontBoundingBoxDescent:ye.actualBoundingBoxAscent+ye.actualBoundingBoxDescent]});q=Math.ceil(Math.max(...he.map(ce=>ce[0]))),W=Math.ceil(Math.max(...he.map(ce=>ce[1])))*ne.length+(ne.length-1)*ioe}return[J??q,te??W]},j=ctt(),H=()=>{const q=document.createElement("canvas").getContext("2d"),W=e.image,ee=e.content,ue=e.rotate;if(q){F.value||(F.value=document.createElement("div"));const J=ltt(),[te,ne]=Q(q),he=ce=>{const[ye,Ee]=j(ce||"",ue,J,te,ne,{color:r.value,fontSize:i.value,fontStyle:l.value,fontWeight:s.value,fontFamily:c.value,textAlign:a.value,textBaseline:f.value},A.value,m.value);z(ye,Ee)};if(W){const ce=new Image;ce.onload=()=>{he(ce)},ce.onerror=()=>{he(ee)},ce.crossOrigin="anonymous",ce.referrerPolicy="no-referrer",ce.src=W}else he(ee)}};return kr(()=>{H()}),un(()=>e,()=>{H()},{deep:!0,flush:"post"}),ds(()=>{N()}),nne(I,ie=>{R.value||ie.forEach(q=>{utt(q,F.value)&&(N(),H())})},{attributes:!0,subtree:!0,childList:!0}),(ie,q)=>(X(),ve("div",{ref_key:"containerRef",ref:I,style:or([n])},[kt(ie.$slots,"default")],4))}});var ftt=kn(dtt,[["__file","watermark.vue"]]);const ptt=fi(ftt),Att=Ln({zIndex:{type:Number,default:1001},visible:Boolean,fill:{type:String,default:"rgba(0,0,0,0.5)"},pos:{type:Rt(Object)},targetAreaClickable:{type:Boolean,default:!0}}),mtt=(t,e,n,r,i)=>{const s=Te(null),l=()=>{let m;return Hr(t.value)?m=document.querySelector(t.value):Dr(t.value)?m=t.value():m=t.value,m},c=()=>{const m=l();if(!m||!e.value){s.value=null;return}!gtt(m)&&e.value&&m.scrollIntoView(i.value);const{left:_,top:y,width:T,height:E}=m.getBoundingClientRect();s.value={left:_,top:y,width:T,height:E,radius:0}};kr(()=>{un([e,t],()=>{c()},{immediate:!0}),window.addEventListener("resize",c)}),ds(()=>{window.removeEventListener("resize",c)});const a=m=>{var _;return(_=Jn(n.value.offset)?n.value.offset[m]:n.value.offset)!=null?_:6},f=le(()=>{var m;if(!s.value)return s.value;const _=a(0),y=a(1),T=((m=n.value)==null?void 0:m.radius)||2;return{left:s.value.left-_,top:s.value.top-y,width:s.value.width+_*2,height:s.value.height+y*2,radius:T}}),A=le(()=>{const m=l();return!r.value||!m||!window.DOMRect?m||void 0:{getBoundingClientRect(){var _,y,T,E;return window.DOMRect.fromRect({width:((_=f.value)==null?void 0:_.width)||0,height:((y=f.value)==null?void 0:y.height)||0,x:((T=f.value)==null?void 0:T.left)||0,y:((E=f.value)==null?void 0:E.top)||0})}}});return{mergedPosInfo:f,triggerTarget:A}},vB=Symbol("ElTour");function gtt(t){const e=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,{top:r,right:i,bottom:s,left:l}=t.getBoundingClientRect();return r>=0&&l>=0&&i<=e&&s<=n}const vtt=(t,e,n,r,i,s,l,c)=>{const a=Te(),f=Te(),A=Te({}),m={x:a,y:f,placement:r,strategy:i,middlewareData:A},_=le(()=>{const I=[Kre(S(s)),zRe(),URe(),_tt()];return S(c)&&S(n)&&I.push(Wre({element:S(n)})),I}),y=async()=>{if(!ta)return;const I=S(t),F=S(e);if(!I||!F)return;const R=await qre(I,F,{placement:S(r),strategy:S(i),middleware:S(_)});e2(m).forEach(N=>{m[N].value=R[N]})},T=le(()=>{if(!S(t))return{position:"fixed",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",maxWidth:"100vw",zIndex:S(l)};const{overflow:I}=S(A);return{position:S(i),zIndex:S(l),top:S(f)!=null?`${S(f)}px`:"",left:S(a)!=null?`${S(a)}px`:"",maxWidth:I!=null&&I.maxWidth?`${I==null?void 0:I.maxWidth}px`:""}}),E=le(()=>{if(!S(c))return{};const{arrow:I}=S(A);return{left:(I==null?void 0:I.x)!=null?`${I==null?void 0:I.x}px`:"",top:(I==null?void 0:I.y)!=null?`${I==null?void 0:I.y}px`:""}});let P;return kr(()=>{const I=S(t),F=S(e);I&&F&&(P=DRe(I,F,y)),rc(()=>{y()})}),ds(()=>{P&&P()}),{update:y,contentStyle:T,arrowStyle:E}},_tt=()=>({name:"overflow",async fn(t){const e=await NRe(t);let n=0;return e.left>0&&(n=e.left),e.right>0&&(n=e.right),{data:{maxWidth:t.rects.floating.width-n}}}}),ytt={style:{width:"100%",height:"100%"}},btt=["d"],wtt=Be({name:"ElTourMask",inheritAttrs:!1}),xtt=Be({...wtt,props:Att,setup(t){const e=t,{ns:n}=ar(vB),r=le(()=>{var c,a;return(a=(c=e.pos)==null?void 0:c.radius)!=null?a:2}),i=le(()=>{const c=r.value,a=`a${c},${c} 0 0 1`;return{topRight:`${a} ${c},${c}`,bottomRight:`${a} ${-c},${c}`,bottomLeft:`${a} ${-c},${-c}`,topLeft:`${a} ${c},${-c}`}}),s=le(()=>{const c=window.innerWidth,a=window.innerHeight,f=i.value,A=`M${c},0 L0,0 L0,${a} L${c},${a} L${c},0 Z`,m=r.value;return e.pos?`${A} M${e.pos.left+m},${e.pos.top} h${e.pos.width-m*2} ${f.topRight} v${e.pos.height-m*2} ${f.bottomRight} h${-e.pos.width+m*2} ${f.bottomLeft} v${-e.pos.height+m*2} ${f.topLeft} z`:A}),l=le(()=>({fill:e.fill,pointerEvents:"auto",cursor:"auto"}));return WN(Oa(e,"visible"),{ns:n}),(c,a)=>c.visible?(X(),ve("div",Xr({key:0,class:S(n).e("mask"),style:{position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:c.zIndex,pointerEvents:c.pos&&c.targetAreaClickable?"none":"auto"}},c.$attrs),[(X(),ve("svg",ytt,[pe("path",{class:Se(S(n).e("hollow")),style:or(S(l)),d:S(s)},null,14,btt)]))],16)):bt("v-if",!0)}});var Ctt=kn(xtt,[["__file","mask.vue"]]);const Ett=["absolute","fixed"],Stt=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],J9=Ln({placement:{type:Rt(String),values:Stt,default:"bottom"},reference:{type:Rt(Object),default:null},strategy:{type:Rt(String),values:Ett,default:"absolute"},offset:{type:Number,default:10},showArrow:Boolean,zIndex:{type:Number,default:2001}}),Ttt={close:()=>!0},Btt=["data-side"],Mtt=Be({name:"ElTourContent"}),Itt=Be({...Mtt,props:J9,emits:Ttt,setup(t,{emit:e}){const n=t,r=Te(n.placement),i=Te(n.strategy),s=Te(null),l=Te(null);un(()=>n.placement,()=>{r.value=n.placement});const{contentStyle:c,arrowStyle:a}=vtt(Oa(n,"reference"),s,l,r,i,Oa(n,"offset"),Oa(n,"zIndex"),Oa(n,"showArrow")),f=le(()=>r.value.split("-")[0]),{ns:A}=ar(vB),m=()=>{e("close")},_=y=>{y.detail.focusReason==="pointer"&&y.preventDefault()};return(y,T)=>(X(),ve("div",{ref_key:"contentRef",ref:s,style:or(S(c)),class:Se(S(A).e("content")),"data-side":S(f),tabindex:"-1"},[ht(S(H6),{loop:"",trapped:"","focus-start-el":"container","focus-trap-el":s.value||void 0,onReleaseRequested:m,onFocusoutPrevented:_},{default:xt(()=>[kt(y.$slots,"default")]),_:3},8,["focus-trap-el"]),y.showArrow?(X(),ve("span",{key:0,ref_key:"arrowRef",ref:l,style:or(S(a)),class:Se(S(A).e("arrow"))},null,6)):bt("v-if",!0)],14,Btt))}});var Ltt=kn(Itt,[["__file","content.vue"]]),Ptt=Be({name:"ElTourSteps",props:{current:{type:Number,default:0}},emits:["update-total"],setup(t,{slots:e,emit:n}){let r=0;return()=>{var i,s;const l=(i=e.default)==null?void 0:i.call(e),c=[];let a=0;function f(A){Jn(A)&&A.forEach(m=>{var _;((_=(m==null?void 0:m.type)||{})==null?void 0:_.name)==="ElTourStep"&&(c.push(m),a+=1)})}return l.length&&f($v((s=l[0])==null?void 0:s.children)),r!==a&&(r=a,n("update-total",a)),c.length?c[t.current]:null}}});const Ftt=Ln({modelValue:Boolean,current:{type:Number,default:0},showArrow:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeIcon:{type:Ja},placement:J9.placement,contentStyle:{type:Rt([Object])},mask:{type:Rt([Boolean,Object]),default:!0},gap:{type:Rt(Object),default:()=>({offset:6,radius:2})},zIndex:{type:Number},scrollIntoViewOptions:{type:Rt([Boolean,Object]),default:()=>({block:"center"})},type:{type:Rt(String)},appendTo:{type:Rt([String,Object]),default:"body"},closeOnPressEscape:{type:Boolean,default:!0},targetAreaClickable:{type:Boolean,default:!0}}),ktt={[vi]:t=>qo(t),"update:current":t=>Or(t),close:t=>Or(t),finish:()=>!0,change:t=>Or(t)},Rtt=Be({name:"ElTour"}),Ott=Be({...Rtt,props:Ftt,emits:ktt,setup(t,{emit:e}){const n=t,r=vn("tour"),i=Te(0),s=Te(),l=rne(n,"current",e,{passive:!0}),c=le(()=>{var K;return(K=s.value)==null?void 0:K.target}),a=le(()=>[r.b(),P.value==="primary"?r.m("primary"):""]),f=le(()=>{var K;return((K=s.value)==null?void 0:K.placement)||n.placement}),A=le(()=>{var K,ie;return(ie=(K=s.value)==null?void 0:K.contentStyle)!=null?ie:n.contentStyle}),m=le(()=>{var K,ie;return(ie=(K=s.value)==null?void 0:K.mask)!=null?ie:n.mask}),_=le(()=>!!m.value&&n.modelValue),y=le(()=>qo(m.value)?void 0:m.value),T=le(()=>{var K,ie;return!!c.value&&((ie=(K=s.value)==null?void 0:K.showArrow)!=null?ie:n.showArrow)}),E=le(()=>{var K,ie;return(ie=(K=s.value)==null?void 0:K.scrollIntoViewOptions)!=null?ie:n.scrollIntoViewOptions}),P=le(()=>{var K,ie;return(ie=(K=s.value)==null?void 0:K.type)!=null?ie:n.type}),{nextZIndex:I}=L2(),F=I(),R=le(()=>{var K;return(K=n.zIndex)!=null?K:F}),{mergedPosInfo:N,triggerTarget:z}=mtt(c,Oa(n,"modelValue"),Oa(n,"gap"),m,E);un(()=>n.modelValue,K=>{K||(l.value=0)});const Q=()=>{n.closeOnPressEscape&&(e("update:modelValue",!1),e("close",l.value))},j=K=>{i.value=K},H=Eo();return Ii(vB,{currentStep:s,current:l,total:i,showClose:Oa(n,"showClose"),closeIcon:Oa(n,"closeIcon"),mergedType:P,ns:r,slots:H,updateModelValue(K){e("update:modelValue",K)},onClose(){e("close",l.value)},onFinish(){e("finish")},onChange(){e("change",l.value)}}),(K,ie)=>{var q,W;return X(),ve(Vn,null,[(X(),Ut(Ay,{to:K.appendTo},[pe("div",Xr({class:S(a)},K.$attrs),[ht(Ctt,{visible:S(_),fill:(q=S(y))==null?void 0:q.color,style:or((W=S(y))==null?void 0:W.style),pos:S(N),"z-index":S(R),"target-area-clickable":K.targetAreaClickable},null,8,["visible","fill","style","pos","z-index","target-area-clickable"]),K.modelValue?(X(),Ut(Ltt,{key:S(l),reference:S(z),placement:S(f),"show-arrow":S(T),"z-index":S(R),style:or(S(A)),onClose:Q},{default:xt(()=>[ht(S(Ptt),{current:S(l),onUpdateTotal:j},{default:xt(()=>[kt(K.$slots,"default")]),_:3},8,["current"])]),_:3},8,["reference","placement","show-arrow","z-index","style"])):bt("v-if",!0)],16)],8,["to"])),bt(" just for IDE "),bt("v-if",!0)],64)}}});var Dtt=kn(Ott,[["__file","tour.vue"]]);const Ntt=Ln({target:{type:Rt([String,Object,Function])},title:String,description:String,showClose:{type:Boolean,default:void 0},closeIcon:{type:Ja},showArrow:{type:Boolean,default:void 0},placement:J9.placement,mask:{type:Rt([Boolean,Object]),default:void 0},contentStyle:{type:Rt([Object])},prevButtonProps:{type:Rt(Object)},nextButtonProps:{type:Rt(Object)},scrollIntoViewOptions:{type:Rt([Boolean,Object]),default:void 0},type:{type:Rt(String)}}),Utt={close:()=>!0},ztt=Be({name:"ElTourStep"}),$tt=Be({...ztt,props:Ntt,emits:Utt,setup(t,{emit:e}){const n=t,{Close:r}=VN,{t:i}=ca(),{currentStep:s,current:l,total:c,showClose:a,closeIcon:f,mergedType:A,ns:m,slots:_,updateModelValue:y,onClose:T,onFinish:E,onChange:P}=ar(vB);un(n,H=>{s.value=H},{immediate:!0});const I=le(()=>{var H;return(H=n.showClose)!=null?H:a.value}),F=le(()=>{var H,K;return(K=(H=n.closeIcon)!=null?H:f.value)!=null?K:r}),R=H=>{if(H)return hEe(H,["children","onClick"])},N=()=>{var H,K;l.value-=1,(H=n.prevButtonProps)!=null&&H.onClick&&((K=n.prevButtonProps)==null||K.onClick()),P()},z=()=>{var H;l.value>=c.value-1?Q():l.value+=1,(H=n.nextButtonProps)!=null&&H.onClick&&n.nextButtonProps.onClick(),P()},Q=()=>{j(),E()},j=()=>{y(!1),T(),e("close")};return(H,K)=>(X(),ve(Vn,null,[S(I)?(X(),ve("button",{key:0,"aria-label":"Close",class:Se(S(m).e("closebtn")),type:"button",onClick:j},[ht(S(Ar),{class:Se(S(m).e("close"))},{default:xt(()=>[(X(),Ut(di(S(F))))]),_:1},8,["class"])],2)):bt("v-if",!0),pe("header",{class:Se([S(m).e("header"),{"show-close":S(a)}])},[kt(H.$slots,"header",{},()=>[pe("span",{role:"heading",class:Se(S(m).e("title"))},Cn(H.title),3)])],2),pe("div",{class:Se(S(m).e("body"))},[kt(H.$slots,"default",{},()=>[pe("span",null,Cn(H.description),1)])],2),pe("footer",{class:Se(S(m).e("footer"))},[pe("div",{class:Se(S(m).b("indicators"))},[S(_).indicators?(X(),Ut(di(S(_).indicators),{key:0,current:S(l),total:S(c)},null,8,["current","total"])):(X(!0),ve(Vn,{key:1},Yr(S(c),(ie,q)=>(X(),ve("span",{key:ie,class:Se([S(m).b("indicator"),q===S(l)?"is-active":""])},null,2))),128))],2),pe("div",{class:Se(S(m).b("buttons"))},[S(l)>0?(X(),Ut(S(yu),Xr({key:0,size:"small",type:S(A)},R(H.prevButtonProps),{onClick:N}),{default:xt(()=>{var ie,q;return[wi(Cn((q=(ie=H.prevButtonProps)==null?void 0:ie.children)!=null?q:S(i)("el.tour.previous")),1)]}),_:1},16,["type"])):bt("v-if",!0),S(l)<=S(c)-1?(X(),Ut(S(yu),Xr({key:1,size:"small",type:S(A)==="primary"?"default":"primary"},R(H.nextButtonProps),{onClick:z}),{default:xt(()=>{var ie,q;return[wi(Cn((q=(ie=H.nextButtonProps)==null?void 0:ie.children)!=null?q:S(l)===S(c)-1?S(i)("el.tour.finish"):S(i)("el.tour.next")),1)]}),_:1},16,["type"])):bt("v-if",!0)],2)],2)],64))}});var aoe=kn($tt,[["__file","step.vue"]]);const Vtt=fi(Dtt,{TourStep:aoe}),Htt=ro(aoe),Qtt=Ln({container:{type:Rt([String,Object])},offset:{type:Number,default:0},bound:{type:Number,default:15},duration:{type:Number,default:300},marker:{type:Boolean,default:!0},type:{type:Rt(String),default:"default"},direction:{type:Rt(String),default:"vertical"}}),jtt={change:t=>Hr(t),click:(t,e)=>t instanceof MouseEvent&&(Hr(e)||Wo(e))},soe=Symbol("anchor"),Gtt=Be({name:"ElAnchor"}),Ktt=Be({...Gtt,props:Qtt,emits:jtt,setup(t,{expose:e,emit:n}){const r=t,i=Te(""),s=Te(null),l=Te(null),c=Te(),a={};let f=!1,A=0;const m=vn("anchor"),_=le(()=>[m.b(),r.type==="underline"?m.m("underline"):"",m.m(r.direction)]),y=H=>{a[H.href]=H.el},T=H=>{delete a[H]},E=H=>{i.value!==H&&(i.value=H,n("change",H))};let P=null;const I=H=>{if(!c.value)return;const K=RE(H);if(!K)return;P&&P(),f=!0;const ie=kG(K,c.value),q=dk(K,ie),W=ie.scrollHeight-ie.clientHeight,ee=Math.min(q-r.offset,W);P=CEe(c.value,A,ee,r.duration,()=>{setTimeout(()=>{f=!1},20)})},F=H=>{H&&(E(H),I(H))},R=(H,K)=>{n("click",H,K),F(K)},N=DFe(()=>{c.value&&(A=RG(c.value));const H=z();f||Wo(H)||E(H)}),z=()=>{if(!c.value)return;const H=RG(c.value),K=[];for(const ie of Object.keys(a)){const q=RE(ie);if(!q)continue;const W=kG(q,c.value),ee=dk(q,W);K.push({top:ee-r.offset-r.bound,href:ie})}K.sort((ie,q)=>ie.top-q.top);for(let ie=0;ie<K.length;ie++){const q=K[ie],W=K[ie+1];if(ie===0&&H===0)return"";if(q.top<=H&&(!W||W.top>H))return q.href}},Q=()=>{const H=RE(r.container);!H||X8(H)?c.value=window:c.value=H};gs(c,"scroll",N);const j=le(()=>{if(!s.value||!l.value||!i.value)return{};const H=a[i.value];if(!H)return{};const K=s.value.getBoundingClientRect(),ie=l.value.getBoundingClientRect(),q=H.getBoundingClientRect();return r.direction==="horizontal"?{left:`${q.left-K.left}px`,width:`${q.width}px`,opacity:1}:{top:`${q.top-K.top+(q.height-ie.height)/2}px`,opacity:1}});return kr(()=>{Q();const H=decodeURIComponent(window.location.hash);RE(H)?F(H):N()}),un(()=>r.container,()=>{Q()}),Ii(soe,{ns:m,direction:r.direction,currentAnchor:i,addLink:y,removeLink:T,handleClick:R}),e({scrollTo:F}),(H,K)=>(X(),ve("div",{ref_key:"anchorRef",ref:s,class:Se(S(_))},[H.marker?(X(),ve("div",{key:0,ref_key:"markerRef",ref:l,class:Se(S(m).e("marker")),style:or(S(j))},null,6)):bt("v-if",!0),pe("div",{class:Se(S(m).e("list"))},[kt(H.$slots,"default")],2)],2))}});var Wtt=kn(Ktt,[["__file","anchor.vue"]]);const qtt=Ln({title:String,href:String}),Ytt=["href"],Xtt=Be({name:"ElAnchorLink"}),Ztt=Be({...Xtt,props:qtt,setup(t){const e=t,n=Te(null),{ns:r,direction:i,currentAnchor:s,addLink:l,removeLink:c,handleClick:a}=ar(soe),f=le(()=>[r.e("link"),r.is("active",s.value===e.href)]),A=m=>{a(m,e.href)};return un(()=>e.href,(m,_)=>{dr(()=>{_&&c(_),m&&l({href:m,el:n.value})})}),kr(()=>{const{href:m}=e;m&&l({href:m,el:n.value})}),ds(()=>{const{href:m}=e;m&&c(m)}),(m,_)=>(X(),ve("div",{class:Se(S(r).e("item"))},[pe("a",{ref_key:"linkRef",ref:n,class:Se(S(f)),href:m.href,onClick:A},[kt(m.$slots,"default",{},()=>[wi(Cn(m.title),1)])],10,Ytt),m.$slots["sub-link"]&&S(i)==="vertical"?(X(),ve("div",{key:0,class:Se(S(r).e("list"))},[kt(m.$slots,"sub-link")],2)):bt("v-if",!0)],2))}});var ooe=kn(Ztt,[["__file","anchor-link.vue"]]);const Jtt=fi(Wtt,{AnchorLink:ooe}),ent=ro(ooe),tnt=Ln({options:{type:Rt(Array),default:()=>[]},modelValue:{type:[String,Number,Boolean],default:void 0},block:Boolean,size:ru,disabled:Boolean,validateEvent:{type:Boolean,default:!0},id:String,name:String,...Vu(["ariaLabel"])}),nnt={[vi]:t=>Hr(t)||Or(t),[_s]:t=>Hr(t)||Or(t)},rnt=["id","aria-label","aria-labelledby"],int=["name","disabled","checked","onChange"],ant=Be({name:"ElSegmented"}),snt=Be({...ant,props:tnt,emits:nnt,setup(t,{emit:e}){const n=t,r=vn("segmented"),i=ac(),s=hl(),l=oh(),{formItem:c}=Nc(),{inputId:a,isLabeledByFormItem:f}=rA(n,{formItemContext:c}),A=Te(null),m=M2e(),_=ua({isInit:!1,width:0,translateX:0,disabled:!1,focusVisible:!1}),y=K=>{const ie=T(K);e(vi,ie),e(_s,ie)},T=K=>Ai(K)?K.value:K,E=K=>Ai(K)?K.label:K,P=K=>!!(l.value||Ai(K)&&K.disabled),I=K=>n.modelValue===T(K),F=K=>n.options.find(ie=>T(ie)===K),R=K=>[r.e("item"),r.is("selected",I(K)),r.is("disabled",P(K))],N=()=>{if(!A.value)return;const K=A.value.querySelector(".is-selected"),ie=A.value.querySelector(".is-selected input");if(!K||!ie){_.width=0,_.translateX=0,_.disabled=!1,_.focusVisible=!1;return}const q=K.getBoundingClientRect();_.isInit=!0,_.width=q.width,_.translateX=K.offsetLeft,_.disabled=P(F(n.modelValue));try{_.focusVisible=ie.matches(":focus-visible")}catch{}},z=le(()=>[r.b(),r.m(s.value),r.is("block",n.block)]),Q=le(()=>({width:`${_.width}px`,transform:`translateX(${_.translateX}px)`,display:_.isInit?"block":"none"})),j=le(()=>[r.e("item-selected"),r.is("disabled",_.disabled),r.is("focus-visible",_.focusVisible)]),H=le(()=>n.name||i.value);return eo(A,N),un(m,N),un(()=>n.modelValue,()=>{var K;N(),n.validateEvent&&((K=c==null?void 0:c.validate)==null||K.call(c,"change").catch(ie=>void 0))},{flush:"post"}),(K,ie)=>(X(),ve("div",{id:S(a),ref_key:"segmentedRef",ref:A,class:Se(S(z)),role:"radiogroup","aria-label":S(f)?void 0:K.ariaLabel||"segmented","aria-labelledby":S(f)?S(c).labelId:void 0},[pe("div",{class:Se(S(r).e("group"))},[pe("div",{style:or(S(Q)),class:Se(S(j))},null,6),(X(!0),ve(Vn,null,Yr(K.options,(q,W)=>(X(),ve("label",{key:W,class:Se(R(q))},[pe("input",{class:Se(S(r).e("item-input")),type:"radio",name:S(H),disabled:P(q),checked:I(q),onChange:ee=>y(q)},null,42,int),pe("div",{class:Se(S(r).e("item-label"))},[kt(K.$slots,"default",{item:q},()=>[wi(Cn(E(q)),1)])],2)],2))),128))],2)],10,rnt))}});var ont=kn(snt,[["__file","segmented.vue"]]);const lnt=fi(ont);var unt=[oOe,vOe,QNe,_Ze,XNe,i9e,fie,v9e,_9e,yu,yie,N7e,H7e,uUe,cUe,wze,lze,Bze,If,BUe,Wie,zze,i$e,a$e,Yze,R$e,JRe,K$e,W$e,q$e,Y$e,X$e,gHe,BHe,MHe,jHe,Bae,aQe,YQe,XQe,ZQe,Dae,hDe,dDe,Ar,Qje,Nae,Pc,Uae,iGe,CGe,EGe,SGe,TGe,kGe,zKe,GKe,tWe,cie,qae,tae,QUe,HUe,vWe,xWe,Rze,c0,oy,ET,dKe,lqe,mqe,gqe,Kqe,Zqe,pse,uYe,vYe,_Ye,IYe,kXe,RXe,vZe,kZe,RZe,NC,zZe,m7e,GZe,XZe,ZZe,Dc,CJe,UJe,JJe,set,Eet,itt,ptt,Vtt,Htt,Jtt,ent,lnt];const Rp="ElInfiniteScroll",cnt=50,hnt=200,dnt=0,fnt={delay:{type:Number,default:hnt},distance:{type:Number,default:dnt},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},e7=(t,e)=>Object.entries(fnt).reduce((n,[r,i])=>{var s,l;const{type:c,default:a}=i,f=t.getAttribute(`infinite-scroll-${r}`);let A=(l=(s=e[f])!=null?s:f)!=null?l:a;return A=A==="false"?!1:A,A=c(A),n[r]=Number.isNaN(A)?a:A,n},{}),loe=t=>{const{observer:e}=t[Rp];e&&(e.disconnect(),delete t[Rp].observer)},pnt=(t,e)=>{const{container:n,containerEl:r,instance:i,observer:s,lastScrollTop:l}=t[Rp],{disabled:c,distance:a}=e7(t,i),{clientHeight:f,scrollHeight:A,scrollTop:m}=r,_=m-l;if(t[Rp].lastScrollTop=m,s||c||_<0)return;let y=!1;if(n===t)y=A-(f+m)<=a;else{const{clientTop:T,scrollHeight:E}=t,P=dk(t,r);y=m+f>=P+T+E-a}y&&e.call(i)};function VL(t,e){const{containerEl:n,instance:r}=t[Rp],{disabled:i}=e7(t,r);i||n.clientHeight===0||(n.scrollHeight<=n.clientHeight?e.call(r):loe(t))}const Ant={async mounted(t,e){const{instance:n,value:r}=e;Dr(r)||kl(Rp,"'v-infinite-scroll' binding value must be a function"),await dr();const{delay:i,immediate:s}=e7(t,n),l=ON(t,!0),c=l===window?document.documentElement:l,a=U_(pnt.bind(null,t,r),i);if(l){if(t[Rp]={instance:n,container:l,containerEl:c,delay:i,cb:r,onScroll:a,lastScrollTop:c.scrollTop},s){const f=new MutationObserver(U_(VL.bind(null,t,r),cnt));t[Rp].observer=f,f.observe(t,{childList:!0,subtree:!0}),VL(t,r)}l.addEventListener("scroll",a)}},unmounted(t){const{container:e,onScroll:n}=t[Rp];e==null||e.removeEventListener("scroll",n),loe(t)},async updated(t){if(!t[Rp])await dr();else{const{containerEl:e,cb:n,observer:r}=t[Rp];e.clientHeight&&r&&VL(t,n)}}},vR=Ant;vR.install=t=>{t.directive("InfiniteScroll",vR)};const mnt=vR;function gnt(t){let e;const n=Te(!1),r=ua({...t,originalPosition:"",originalOverflow:"",visible:!1});function i(_){r.text=_}function s(){const _=r.parent,y=m.ns;if(!_.vLoadingAddClassList){let T=_.getAttribute("loading-number");T=Number.parseInt(T)-1,T?_.setAttribute("loading-number",T.toString()):(Rc(_,y.bm("parent","relative")),_.removeAttribute("loading-number")),Rc(_,y.bm("parent","hidden"))}l(),A.unmount()}function l(){var _,y;(y=(_=m.$el)==null?void 0:_.parentNode)==null||y.removeChild(m.$el)}function c(){var _;t.beforeClose&&!t.beforeClose()||(n.value=!0,clearTimeout(e),e=window.setTimeout(a,400),r.visible=!1,(_=t.closed)==null||_.call(t))}function a(){if(!n.value)return;const _=r.parent;n.value=!1,_.vLoadingAddClassList=void 0,s()}const A=Kee(Be({name:"ElLoading",setup(_,{expose:y}){const{ns:T,zIndex:E}=lB("loading");return y({ns:T,zIndex:E}),()=>{const P=r.spinner||r.svg,I=wr("svg",{class:"circular",viewBox:r.svgViewBox?r.svgViewBox:"0 0 50 50",...P?{innerHTML:P}:{}},[wr("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),F=r.text?wr("p",{class:T.b("text")},[r.text]):void 0;return wr(co,{name:T.b("fade"),onAfterLeave:a},{default:xt(()=>[Jr(ht("div",{style:{backgroundColor:r.background||""},class:[T.b("mask"),r.customClass,r.fullscreen?"is-fullscreen":""]},[wr("div",{class:T.b("spinner")},[I,F])]),[[la,r.visible]])])})}}})),m=A.mount(document.createElement("div"));return{...zu(r),setText:i,removeElLoadingChild:l,close:c,handleAfterLeave:a,vm:m,get $el(){return m.$el}}}let qE;const _R=function(t={}){if(!ta)return;const e=vnt(t);if(e.fullscreen&&qE)return qE;const n=gnt({...e,closed:()=>{var i;(i=e.closed)==null||i.call(e),e.fullscreen&&(qE=void 0)}});_nt(e,e.parent,n),EW(e,e.parent,n),e.parent.vLoadingAddClassList=()=>EW(e,e.parent,n);let r=e.parent.getAttribute("loading-number");return r?r=`${Number.parseInt(r)+1}`:r="1",e.parent.setAttribute("loading-number",r),e.parent.appendChild(n.$el),dr(()=>n.visible.value=e.visible),e.fullscreen&&(qE=n),n},vnt=t=>{var e,n,r,i;let s;return Hr(t.target)?s=(e=document.querySelector(t.target))!=null?e:document.body:s=t.target||document.body,{parent:s===document.body||t.body?document.body:s,background:t.background||"",svg:t.svg||"",svgViewBox:t.svgViewBox||"",spinner:t.spinner||!1,text:t.text||"",fullscreen:s===document.body&&((n=t.fullscreen)!=null?n:!0),lock:(r=t.lock)!=null?r:!1,customClass:t.customClass||"",visible:(i=t.visible)!=null?i:!0,target:s}},_nt=async(t,e,n)=>{const{nextZIndex:r}=n.vm.zIndex||n.vm._.exposed.zIndex,i={};if(t.fullscreen)n.originalPosition.value=xv(document.body,"position"),n.originalOverflow.value=xv(document.body,"overflow"),i.zIndex=r();else if(t.parent===document.body){n.originalPosition.value=xv(document.body,"position"),await dr();for(const s of["top","left"]){const l=s==="top"?"scrollTop":"scrollLeft";i[s]=`${t.target.getBoundingClientRect()[s]+document.body[l]+document.documentElement[l]-Number.parseInt(xv(document.body,`margin-${s}`),10)}px`}for(const s of["height","width"])i[s]=`${t.target.getBoundingClientRect()[s]}px`}else n.originalPosition.value=xv(e,"position");for(const[s,l]of Object.entries(i))n.$el.style[s]=l},EW=(t,e,n)=>{const r=n.vm.ns||n.vm._.exposed.ns;["absolute","fixed","sticky"].includes(n.originalPosition.value)?Rc(e,r.bm("parent","relative")):mf(e,r.bm("parent","relative")),t.fullscreen&&t.lock?mf(e,r.bm("parent","hidden")):Rc(e,r.bm("parent","hidden"))},PS=Symbol("ElLoading"),SW=(t,e)=>{var n,r,i,s;const l=e.instance,c=_=>Ai(e.value)?e.value[_]:void 0,a=_=>{const y=Hr(_)&&(l==null?void 0:l[_])||_;return y&&Te(y)},f=_=>a(c(_)||t.getAttribute(`element-loading-${n0(_)}`)),A=(n=c("fullscreen"))!=null?n:e.modifiers.fullscreen,m={text:f("text"),svg:f("svg"),svgViewBox:f("svgViewBox"),spinner:f("spinner"),background:f("background"),customClass:f("customClass"),fullscreen:A,target:(r=c("target"))!=null?r:A?void 0:t,body:(i=c("body"))!=null?i:e.modifiers.body,lock:(s=c("lock"))!=null?s:e.modifiers.lock};t[PS]={options:m,instance:_R(m)}},ynt=(t,e)=>{for(const n of Object.keys(e))hs(e[n])&&(e[n].value=t[n])},TW={mounted(t,e){e.value&&SW(t,e)},updated(t,e){const n=t[PS];e.oldValue!==e.value&&(e.value&&!e.oldValue?SW(t,e):e.value&&e.oldValue?Ai(e.value)&&ynt(e.value,n.options):n==null||n.instance.close())},unmounted(t){var e;(e=t[PS])==null||e.instance.close(),t[PS]=null}},bnt={install(t){t.directive("loading",TW),t.config.globalProperties.$loading=_R},directive:TW,service:_R},uoe=["success","info","warning","error"],wc=to({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:ta?document.body:void 0}),wnt=Ln({customClass:{type:String,default:wc.customClass},center:{type:Boolean,default:wc.center},dangerouslyUseHTMLString:{type:Boolean,default:wc.dangerouslyUseHTMLString},duration:{type:Number,default:wc.duration},icon:{type:Ja,default:wc.icon},id:{type:String,default:wc.id},message:{type:Rt([String,Object,Function]),default:wc.message},onClose:{type:Rt(Function),default:wc.onClose},showClose:{type:Boolean,default:wc.showClose},type:{type:String,values:uoe,default:wc.type},plain:{type:Boolean,default:wc.plain},offset:{type:Number,default:wc.offset},zIndex:{type:Number,default:wc.zIndex},grouping:{type:Boolean,default:wc.grouping},repeatNum:{type:Number,default:wc.repeatNum}}),xnt={destroy:()=>!0},zp=FD([]),Cnt=t=>{const e=zp.findIndex(i=>i.id===t),n=zp[e];let r;return e>0&&(r=zp[e-1]),{current:n,prev:r}},Ent=t=>{const{prev:e}=Cnt(t);return e?e.vm.exposed.bottom.value:0},Snt=(t,e)=>zp.findIndex(r=>r.id===t)>0?16:e,Tnt=["id"],Bnt=["innerHTML"],Mnt=Be({name:"ElMessage"}),Int=Be({...Mnt,props:wnt,emits:xnt,setup(t,{expose:e}){const n=t,{Close:r}=HN,{ns:i,zIndex:s}=lB("message"),{currentZIndex:l,nextZIndex:c}=s,a=Te(),f=Te(!1),A=Te(0);let m;const _=le(()=>n.type?n.type==="error"?"danger":n.type:"info"),y=le(()=>{const j=n.type;return{[i.bm("icon",j)]:j&&Xv[j]}}),T=le(()=>n.icon||Xv[n.type]||""),E=le(()=>Ent(n.id)),P=le(()=>Snt(n.id,n.offset)+E.value),I=le(()=>A.value+P.value),F=le(()=>({top:`${P.value}px`,zIndex:l.value}));function R(){n.duration!==0&&({stop:m}=J_(()=>{z()},n.duration))}function N(){m==null||m()}function z(){f.value=!1}function Q({code:j}){j===Tr.esc&&z()}return kr(()=>{R(),c(),f.value=!0}),un(()=>n.repeatNum,()=>{N(),R()}),gs(document,"keydown",Q),eo(a,()=>{A.value=a.value.getBoundingClientRect().height}),e({visible:f,bottom:I,close:z}),(j,H)=>(X(),Ut(co,{name:S(i).b("fade"),onBeforeLeave:j.onClose,onAfterLeave:H[0]||(H[0]=K=>j.$emit("destroy")),persisted:""},{default:xt(()=>[Jr(pe("div",{id:j.id,ref_key:"messageRef",ref:a,class:Se([S(i).b(),{[S(i).m(j.type)]:j.type},S(i).is("center",j.center),S(i).is("closable",j.showClose),S(i).is("plain",j.plain),j.customClass]),style:or(S(F)),role:"alert",onMouseenter:N,onMouseleave:R},[j.repeatNum>1?(X(),Ut(S(fie),{key:0,value:j.repeatNum,type:S(_),class:Se(S(i).e("badge"))},null,8,["value","type","class"])):bt("v-if",!0),S(T)?(X(),Ut(S(Ar),{key:1,class:Se([S(i).e("icon"),S(y)])},{default:xt(()=>[(X(),Ut(di(S(T))))]),_:1},8,["class"])):bt("v-if",!0),kt(j.$slots,"default",{},()=>[j.dangerouslyUseHTMLString?(X(),ve(Vn,{key:1},[bt(" Caution here, message could've been compromised, never use user's input as message "),pe("p",{class:Se(S(i).e("content")),innerHTML:j.message},null,10,Bnt)],2112)):(X(),ve("p",{key:0,class:Se(S(i).e("content"))},Cn(j.message),3))]),j.showClose?(X(),Ut(S(Ar),{key:2,class:Se(S(i).e("closeBtn")),onClick:Fr(z,["stop"])},{default:xt(()=>[ht(S(r))]),_:1},8,["class","onClick"])):bt("v-if",!0)],46,Tnt),[[la,f.value]])]),_:3},8,["name","onBeforeLeave"]))}});var Lnt=kn(Int,[["__file","message.vue"]]);let Pnt=1;const coe=t=>{const e=!t||Hr(t)||js(t)||Dr(t)?{message:t}:t,n={...wc,...e};if(!n.appendTo)n.appendTo=document.body;else if(Hr(n.appendTo)){let r=document.querySelector(n.appendTo);Sf(r)||(r=document.body),n.appendTo=r}return n},Fnt=t=>{const e=zp.indexOf(t);if(e===-1)return;zp.splice(e,1);const{handler:n}=t;n.close()},knt=({appendTo:t,...e},n)=>{const r=`message_${Pnt++}`,i=e.onClose,s=document.createElement("div"),l={...e,id:r,onClose:()=>{i==null||i(),Fnt(A)},onDestroy:()=>{fm(null,s)}},c=ht(Lnt,l,Dr(l.message)||js(l.message)?{default:Dr(l.message)?l.message:()=>l.message}:null);c.appContext=n||c2._context,fm(c,s),t.appendChild(s.firstElementChild);const a=c.component,A={id:r,vnode:c,vm:a,handler:{close:()=>{a.exposed.visible.value=!1}},props:c.component.props};return A},c2=(t={},e)=>{if(!ta)return{close:()=>{}};if(Or(Ck.max)&&zp.length>=Ck.max)return{close:()=>{}};const n=coe(t);if(n.grouping&&zp.length){const i=zp.find(({vnode:s})=>{var l;return((l=s.props)==null?void 0:l.message)===n.message});if(i)return i.props.repeatNum+=1,i.props.type=n.type,i.handler}const r=knt(n,e);return zp.push(r),r.handler};uoe.forEach(t=>{c2[t]=(e={},n)=>{const r=coe(e);return c2({...r,type:t},n)}});function Rnt(t){for(const e of zp)(!t||t===e.props.type)&&e.handler.close()}c2.closeAll=Rnt;c2._context=null;const Ont=mre(c2,"$message"),Dnt=Be({name:"ElMessageBox",directives:{TrapFocus:Z9e},components:{ElButton:yu,ElFocusTrap:H6,ElInput:Pc,ElOverlay:S9,ElIcon:Ar,...HN},inheritAttrs:!1,props:{buttonSize:{type:String,validator:gre},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(t,{emit:e}){const{locale:n,zIndex:r,ns:i,size:s}=lB("message-box",le(()=>t.buttonSize)),{t:l}=n,{nextZIndex:c}=r,a=Te(!1),f=ua({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:c()}),A=le(()=>{const te=f.type;return{[i.bm("icon",te)]:te&&Xv[te]}}),m=ac(),_=ac(),y=le(()=>f.icon||Xv[f.type]||""),T=le(()=>!!f.message),E=Te(),P=Te(),I=Te(),F=Te(),R=Te(),N=le(()=>f.confirmButtonClass);un(()=>f.inputValue,async te=>{await dr(),t.boxType==="prompt"&&te!==null&&W()},{immediate:!0}),un(()=>a.value,te=>{var ne,he;te&&(t.boxType!=="prompt"&&(f.autofocus?I.value=(he=(ne=R.value)==null?void 0:ne.$el)!=null?he:E.value:I.value=E.value),f.zIndex=c()),t.boxType==="prompt"&&(te?dr().then(()=>{var ce;F.value&&F.value.$el&&(f.autofocus?I.value=(ce=ee())!=null?ce:E.value:I.value=E.value)}):(f.editorErrorMessage="",f.validateError=!1))});const z=le(()=>t.draggable),Q=le(()=>t.overflow);vre(E,P,z,Q),kr(async()=>{await dr(),t.closeOnHashChange&&window.addEventListener("hashchange",j)}),ds(()=>{t.closeOnHashChange&&window.removeEventListener("hashchange",j)});function j(){a.value&&(a.value=!1,dr(()=>{f.action&&e("action",f.action)}))}const H=()=>{t.closeOnClickModal&&q(f.distinguishCancelAndClose?"close":"cancel")},K=r9(H),ie=te=>{if(f.inputType!=="textarea")return te.preventDefault(),q("confirm")},q=te=>{var ne;t.boxType==="prompt"&&te==="confirm"&&!W()||(f.action=te,f.beforeClose?(ne=f.beforeClose)==null||ne.call(f,te,f,j):j())},W=()=>{if(t.boxType==="prompt"){const te=f.inputPattern;if(te&&!te.test(f.inputValue||""))return f.editorErrorMessage=f.inputErrorMessage||l("el.messagebox.error"),f.validateError=!0,!1;const ne=f.inputValidator;if(typeof ne=="function"){const he=ne(f.inputValue);if(he===!1)return f.editorErrorMessage=f.inputErrorMessage||l("el.messagebox.error"),f.validateError=!0,!1;if(typeof he=="string")return f.editorErrorMessage=he,f.validateError=!0,!1}}return f.editorErrorMessage="",f.validateError=!1,!0},ee=()=>{const te=F.value.$refs;return te.input||te.textarea},ue=()=>{q("close")},J=()=>{t.closeOnPressEscape&&ue()};return t.lockScroll&&WN(a),{...zu(f),ns:i,overlayEvent:K,visible:a,hasMessage:T,typeClass:A,contentId:m,inputId:_,btnSize:s,iconComponent:y,confirmButtonClasses:N,rootRef:E,focusStartRef:I,headerRef:P,inputRef:F,confirmRef:R,doClose:j,handleClose:ue,onCloseRequested:J,handleWrapperClick:H,handleInputEnter:ie,handleAction:q,t:l}}}),Nnt=["aria-label","aria-describedby"],Unt=["aria-label"],znt=["id"];function $nt(t,e,n,r,i,s){const l=Kr("el-icon"),c=Kr("close"),a=Kr("el-input"),f=Kr("el-button"),A=Kr("el-focus-trap"),m=Kr("el-overlay");return X(),Ut(co,{name:"fade-in-linear",onAfterLeave:e[11]||(e[11]=_=>t.$emit("vanish")),persisted:""},{default:xt(()=>[Jr(ht(m,{"z-index":t.zIndex,"overlay-class":[t.ns.is("message-box"),t.modalClass],mask:t.modal},{default:xt(()=>[pe("div",{role:"dialog","aria-label":t.title,"aria-modal":"true","aria-describedby":t.showInput?void 0:t.contentId,class:Se(`${t.ns.namespace.value}-overlay-message-box`),onClick:e[8]||(e[8]=(..._)=>t.overlayEvent.onClick&&t.overlayEvent.onClick(..._)),onMousedown:e[9]||(e[9]=(..._)=>t.overlayEvent.onMousedown&&t.overlayEvent.onMousedown(..._)),onMouseup:e[10]||(e[10]=(..._)=>t.overlayEvent.onMouseup&&t.overlayEvent.onMouseup(..._))},[ht(A,{loop:"",trapped:t.visible,"focus-trap-el":t.rootRef,"focus-start-el":t.focusStartRef,onReleaseRequested:t.onCloseRequested},{default:xt(()=>[pe("div",{ref:"rootRef",class:Se([t.ns.b(),t.customClass,t.ns.is("draggable",t.draggable),{[t.ns.m("center")]:t.center}]),style:or(t.customStyle),tabindex:"-1",onClick:e[7]||(e[7]=Fr(()=>{},["stop"]))},[t.title!==null&&t.title!==void 0?(X(),ve("div",{key:0,ref:"headerRef",class:Se([t.ns.e("header"),{"show-close":t.showClose}])},[pe("div",{class:Se(t.ns.e("title"))},[t.iconComponent&&t.center?(X(),Ut(l,{key:0,class:Se([t.ns.e("status"),t.typeClass])},{default:xt(()=>[(X(),Ut(di(t.iconComponent)))]),_:1},8,["class"])):bt("v-if",!0),pe("span",null,Cn(t.title),1)],2),t.showClose?(X(),ve("button",{key:0,type:"button",class:Se(t.ns.e("headerbtn")),"aria-label":t.t("el.messagebox.close"),onClick:e[0]||(e[0]=_=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel")),onKeydown:e[1]||(e[1]=Qa(Fr(_=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[ht(l,{class:Se(t.ns.e("close"))},{default:xt(()=>[ht(c)]),_:1},8,["class"])],42,Unt)):bt("v-if",!0)],2)):bt("v-if",!0),pe("div",{id:t.contentId,class:Se(t.ns.e("content"))},[pe("div",{class:Se(t.ns.e("container"))},[t.iconComponent&&!t.center&&t.hasMessage?(X(),Ut(l,{key:0,class:Se([t.ns.e("status"),t.typeClass])},{default:xt(()=>[(X(),Ut(di(t.iconComponent)))]),_:1},8,["class"])):bt("v-if",!0),t.hasMessage?(X(),ve("div",{key:1,class:Se(t.ns.e("message"))},[kt(t.$slots,"default",{},()=>[t.dangerouslyUseHTMLString?(X(),Ut(di(t.showInput?"label":"p"),{key:1,for:t.showInput?t.inputId:void 0,innerHTML:t.message},null,8,["for","innerHTML"])):(X(),Ut(di(t.showInput?"label":"p"),{key:0,for:t.showInput?t.inputId:void 0},{default:xt(()=>[wi(Cn(t.dangerouslyUseHTMLString?"":t.message),1)]),_:1},8,["for"]))])],2)):bt("v-if",!0)],2),Jr(pe("div",{class:Se(t.ns.e("input"))},[ht(a,{id:t.inputId,ref:"inputRef",modelValue:t.inputValue,"onUpdate:modelValue":e[2]||(e[2]=_=>t.inputValue=_),type:t.inputType,placeholder:t.inputPlaceholder,"aria-invalid":t.validateError,class:Se({invalid:t.validateError}),onKeydown:Qa(t.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),pe("div",{class:Se(t.ns.e("errormsg")),style:or({visibility:t.editorErrorMessage?"visible":"hidden"})},Cn(t.editorErrorMessage),7)],2),[[la,t.showInput]])],10,znt),pe("div",{class:Se(t.ns.e("btns"))},[t.showCancelButton?(X(),Ut(f,{key:0,loading:t.cancelButtonLoading,class:Se([t.cancelButtonClass]),round:t.roundButton,size:t.btnSize,onClick:e[3]||(e[3]=_=>t.handleAction("cancel")),onKeydown:e[4]||(e[4]=Qa(Fr(_=>t.handleAction("cancel"),["prevent"]),["enter"]))},{default:xt(()=>[wi(Cn(t.cancelButtonText||t.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):bt("v-if",!0),Jr(ht(f,{ref:"confirmRef",type:"primary",loading:t.confirmButtonLoading,class:Se([t.confirmButtonClasses]),round:t.roundButton,disabled:t.confirmButtonDisabled,size:t.btnSize,onClick:e[5]||(e[5]=_=>t.handleAction("confirm")),onKeydown:e[6]||(e[6]=Qa(Fr(_=>t.handleAction("confirm"),["prevent"]),["enter"]))},{default:xt(()=>[wi(Cn(t.confirmButtonText||t.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[la,t.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,Nnt)]),_:3},8,["z-index","overlay-class","mask"]),[[la,t.visible]])]),_:3})}var Vnt=kn(Dnt,[["render",$nt],["__file","index.vue"]]);const KC=new Map,Hnt=t=>{let e=document.body;return t.appendTo&&(Hr(t.appendTo)&&(e=document.querySelector(t.appendTo)),Sf(t.appendTo)&&(e=t.appendTo),Sf(e)||(e=document.body)),e},Qnt=(t,e,n=null)=>{const r=ht(Vnt,t,Dr(t.message)||js(t.message)?{default:Dr(t.message)?t.message:()=>t.message}:null);return r.appContext=n,fm(r,e),Hnt(t).appendChild(e.firstElementChild),r.component},jnt=()=>document.createElement("div"),Gnt=(t,e)=>{const n=jnt();t.onVanish=()=>{fm(null,n),KC.delete(i)},t.onAction=s=>{const l=KC.get(i);let c;t.showInput?c={value:i.inputValue,action:s}:c=s,t.callback?t.callback(c,r.proxy):s==="cancel"||s==="close"?t.distinguishCancelAndClose&&s!=="cancel"?l.reject("close"):l.reject("cancel"):l.resolve(c)};const r=Qnt(t,n,e),i=r.proxy;for(const s in t)ra(t,s)&&!ra(i.$props,s)&&(i[s]=t[s]);return i.visible=!0,i};function R2(t,e=null){if(!ta)return Promise.reject();let n;return Hr(t)||js(t)?t={message:t}:n=t.callback,new Promise((r,i)=>{const s=Gnt(t,e??R2._context);KC.set(s,{options:t,callback:n,resolve:r,reject:i})})}const Knt=["alert","confirm","prompt"],Wnt={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};Knt.forEach(t=>{R2[t]=qnt(t)});function qnt(t){return(e,n,r,i)=>{let s="";return Ai(n)?(r=n,s=""):Wo(n)?s="":s=n,R2(Object.assign({title:s,message:e,type:"",...Wnt[t]},r,{boxType:t}),i)}}R2.close=()=>{KC.forEach((t,e)=>{e.doClose()}),KC.clear()};R2._context=null;const uv=R2;uv.install=t=>{uv._context=t._context,t.config.globalProperties.$msgbox=uv,t.config.globalProperties.$messageBox=uv,t.config.globalProperties.$alert=uv.alert,t.config.globalProperties.$confirm=uv.confirm,t.config.globalProperties.$prompt=uv.prompt};const Ynt=uv,hoe=["success","info","warning","error"],Xnt=Ln({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:Ja},id:{type:String,default:""},message:{type:Rt([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:Rt(Function),default:()=>{}},onClose:{type:Rt(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...hoe,""],default:""},zIndex:Number}),Znt={destroy:()=>!0},Jnt=["id"],ert=["textContent"],trt={key:0},nrt=["innerHTML"],rrt=Be({name:"ElNotification"}),irt=Be({...rrt,props:Xnt,emits:Znt,setup(t,{expose:e}){const n=t,{ns:r,zIndex:i}=lB("notification"),{nextZIndex:s,currentZIndex:l}=i,{Close:c}=VN,a=Te(!1);let f;const A=le(()=>{const R=n.type;return R&&Xv[n.type]?r.m(R):""}),m=le(()=>n.type&&Xv[n.type]||n.icon),_=le(()=>n.position.endsWith("right")?"right":"left"),y=le(()=>n.position.startsWith("top")?"top":"bottom"),T=le(()=>{var R;return{[y.value]:`${n.offset}px`,zIndex:(R=n.zIndex)!=null?R:l.value}});function E(){n.duration>0&&({stop:f}=J_(()=>{a.value&&I()},n.duration))}function P(){f==null||f()}function I(){a.value=!1}function F({code:R}){R===Tr.delete||R===Tr.backspace?P():R===Tr.esc?a.value&&I():E()}return kr(()=>{E(),s(),a.value=!0}),gs(document,"keydown",F),e({visible:a,close:I}),(R,N)=>(X(),Ut(co,{name:S(r).b("fade"),onBeforeLeave:R.onClose,onAfterLeave:N[1]||(N[1]=z=>R.$emit("destroy")),persisted:""},{default:xt(()=>[Jr(pe("div",{id:R.id,class:Se([S(r).b(),R.customClass,S(_)]),style:or(S(T)),role:"alert",onMouseenter:P,onMouseleave:E,onClick:N[0]||(N[0]=(...z)=>R.onClick&&R.onClick(...z))},[S(m)?(X(),Ut(S(Ar),{key:0,class:Se([S(r).e("icon"),S(A)])},{default:xt(()=>[(X(),Ut(di(S(m))))]),_:1},8,["class"])):bt("v-if",!0),pe("div",{class:Se(S(r).e("group"))},[pe("h2",{class:Se(S(r).e("title")),textContent:Cn(R.title)},null,10,ert),Jr(pe("div",{class:Se(S(r).e("content")),style:or(R.title?void 0:{margin:0})},[kt(R.$slots,"default",{},()=>[R.dangerouslyUseHTMLString?(X(),ve(Vn,{key:1},[bt(" Caution here, message could've been compromised, never use user's input as message "),pe("p",{innerHTML:R.message},null,8,nrt)],2112)):(X(),ve("p",trt,Cn(R.message),1))])],6),[[la,R.message]]),R.showClose?(X(),Ut(S(Ar),{key:0,class:Se(S(r).e("closeBtn")),onClick:Fr(I,["stop"])},{default:xt(()=>[ht(S(c))]),_:1},8,["class","onClick"])):bt("v-if",!0)],2)],46,Jnt),[[la,a.value]])]),_:3},8,["name","onBeforeLeave"]))}});var art=kn(irt,[["__file","notification.vue"]]);const kT={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},yR=16;let srt=1;const h2=function(t={},e=null){if(!ta)return{close:()=>{}};(typeof t=="string"||js(t))&&(t={message:t});const n=t.position||"top-right";let r=t.offset||0;kT[n].forEach(({vm:A})=>{var m;r+=(((m=A.el)==null?void 0:m.offsetHeight)||0)+yR}),r+=yR;const i=`notification_${srt++}`,s=t.onClose,l={...t,offset:r,id:i,onClose:()=>{ort(i,n,s)}};let c=document.body;Sf(t.appendTo)?c=t.appendTo:Hr(t.appendTo)&&(c=document.querySelector(t.appendTo)),Sf(c)||(c=document.body);const a=document.createElement("div"),f=ht(art,l,js(l.message)?{default:()=>l.message}:null);return f.appContext=e??h2._context,f.props.onDestroy=()=>{fm(null,a)},fm(f,a),kT[n].push({vm:f}),c.appendChild(a.firstElementChild),{close:()=>{f.component.exposed.visible.value=!1}}};hoe.forEach(t=>{h2[t]=(e={})=>((typeof e=="string"||js(e))&&(e={message:e}),h2({...e,type:t}))});function ort(t,e,n){const r=kT[e],i=r.findIndex(({vm:f})=>{var A;return((A=f.component)==null?void 0:A.props.id)===t});if(i===-1)return;const{vm:s}=r[i];if(!s)return;n==null||n(s);const l=s.el.offsetHeight,c=e.split("-")[0];r.splice(i,1);const a=r.length;if(!(a<1))for(let f=i;f<a;f++){const{el:A,component:m}=r[f].vm,_=Number.parseInt(A.style[c],10)-l-yR;m.props.offset=_}}function lrt(){for(const t of Object.values(kT))t.forEach(({vm:e})=>{e.component.exposed.visible.value=!1})}h2.closeAll=lrt;h2._context=null;const urt=mre(h2,"$notify");var crt=[mnt,bnt,Ont,Ynt,urt,Wae],hrt=tOe([...unt,...crt]);class h0{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}const d2={PROPERTYCHANGE:"propertychange"};class _B{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function drt(t,e,n){let r,i;n=n||om;let s=0,l=t.length,c=!1;for(;s<l;)r=s+(l-s>>1),i=+n(t[r],e),i<0?s=r+1:(l=r,c=!i);return c?s:~s}function om(t,e){return t>e?1:t<e?-1:0}function t7(t,e,n){if(t[0]<=e)return 0;const r=t.length;if(e<=t[r-1])return r-1;if(typeof n=="function"){for(let i=1;i<r;++i){const s=t[i];if(s===e)return i;if(s<e)return n(e,t[i-1],s)>0?i-1:i}return r-1}if(n>0){for(let i=1;i<r;++i)if(t[i]<e)return i-1;return r-1}if(n<0){for(let i=1;i<r;++i)if(t[i]<=e)return i;return r-1}for(let i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return r-1}function frt(t,e,n){for(;e<n;){const r=t[e];t[e]=t[n],t[n]=r,++e,--n}}function lm(t,e){const n=Array.isArray(e)?e:[e],r=n.length;for(let i=0;i<r;i++)t[t.length]=n[i]}function d0(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function prt(t,e,n){const r=e||om;return t.every(function(i,s){if(s===0)return!0;const l=r(t[s-1],i);return!(l>0||l===0)})}function WC(){return!0}function yB(){return!1}function f2(){}function doe(t){let e=!1,n,r,i;return function(){const s=Array.prototype.slice.call(arguments);return(!e||this!==i||!d0(s,r))&&(e=!0,i=this,r=s,n=t.apply(this,arguments)),n}}function Art(t){function e(){let n;try{n=t()}catch(r){return Promise.reject(r)}return n instanceof Promise?n:Promise.resolve(n)}return e()}function O2(t){for(const e in t)delete t[e]}function p2(t){let e;for(e in t)return!1;return!e}class bB extends _B{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,n){if(!e||!n)return;const r=this.listeners_||(this.listeners_={}),i=r[e]||(r[e]=[]);i.includes(n)||i.push(n)}dispatchEvent(e){const n=typeof e=="string",r=n?e:e.type,i=this.listeners_&&this.listeners_[r];if(!i)return;const s=n?new h0(e):e;s.target||(s.target=this.eventTarget_||this);const l=this.dispatching_||(this.dispatching_={}),c=this.pendingRemovals_||(this.pendingRemovals_={});r in l||(l[r]=0,c[r]=0),++l[r];let a;for(let f=0,A=i.length;f<A;++f)if("handleEvent"in i[f]?a=i[f].handleEvent(s):a=i[f].call(this,s),a===!1||s.propagationStopped){a=!1;break}if(--l[r]===0){let f=c[r];for(delete c[r];f--;)this.removeEventListener(r,f2);delete l[r]}return a}disposeInternal(){this.listeners_&&O2(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,n){if(!this.listeners_)return;const r=this.listeners_[e];if(!r)return;const i=r.indexOf(n);i!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(r[i]=f2,++this.pendingRemovals_[e]):(r.splice(i,1),r.length===0&&delete this.listeners_[e]))}}const Fa={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function $a(t,e,n,r,i){if(r&&r!==t&&(n=n.bind(r)),i){const l=n;n=function(){t.removeEventListener(e,n),l.apply(this,arguments)}}const s={target:t,type:e,listener:n};return t.addEventListener(e,n),s}function RT(t,e,n,r){return $a(t,e,n,r,!0)}function xo(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),O2(t))}class K6 extends bB{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(Fa.CHANGE)}getRevision(){return this.revision_}onInternal(e,n){if(Array.isArray(e)){const r=e.length,i=new Array(r);for(let s=0;s<r;++s)i[s]=$a(this,e[s],n);return i}return $a(this,e,n)}onceInternal(e,n){let r;if(Array.isArray(e)){const i=e.length;r=new Array(i);for(let s=0;s<i;++s)r[s]=RT(this,e[s],n)}else r=RT(this,e,n);return n.ol_key=r,r}unInternal(e,n){const r=n.ol_key;if(r)_m(r);else if(Array.isArray(e))for(let i=0,s=e.length;i<s;++i)this.removeEventListener(e[i],n);else this.removeEventListener(e,n)}}K6.prototype.on;K6.prototype.once;K6.prototype.un;function _m(t){if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)xo(t[e]);else xo(t)}function As(){throw new Error("Unimplemented abstract method.")}let mrt=0;function Bi(t){return t.ol_uid||(t.ol_uid=String(++mrt))}const grt="9.1.0";class BW extends h0{constructor(e,n,r){super(e),this.key=n,this.oldValue=r}}class Of extends K6{constructor(e){super(),this.on,this.once,this.un,Bi(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let n;return this.values_&&this.values_.hasOwnProperty(e)&&(n=this.values_[e]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,n){let r;r=`change:${e}`,this.hasListener(r)&&this.dispatchEvent(new BW(r,e,n)),r=d2.PROPERTYCHANGE,this.hasListener(r)&&this.dispatchEvent(new BW(r,e,n))}addChangeListener(e,n){this.addEventListener(`change:${e}`,n)}removeChangeListener(e,n){this.removeEventListener(`change:${e}`,n)}set(e,n,r){const i=this.values_||(this.values_={});if(r)i[e]=n;else{const s=i[e];i[e]=n,s!==n&&this.notify(e,s)}}setProperties(e,n){for(const r in e)this.set(r,e[r],n)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,n){if(this.values_&&e in this.values_){const r=this.values_[e];delete this.values_[e],p2(this.values_)&&(this.values_=null),n||this.notify(e,r)}}}function Za(t,e){if(!t)throw new Error(e)}class QA extends Of{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){const n=e;this.setGeometry(n)}else{const n=e;this.setProperties(n)}}clone(){const e=new QA(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const n=this.getGeometry();n&&e.setGeometry(n.clone());const r=this.getStyle();return r&&e.setStyle(r),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(xo(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=$a(e,Fa.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?vrt(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function vrt(t){if(typeof t=="function")return t;let e;return Array.isArray(t)?e=t:(Za(typeof t.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),e=[t]),function(){return e}}const foe=new Array(6);function zo(){return[1,0,0,1,0,0]}function MW(t){return n7(t,1,0,0,1,0,0)}function D2(t,e){const n=t[0],r=t[1],i=t[2],s=t[3],l=t[4],c=t[5],a=e[0],f=e[1],A=e[2],m=e[3],_=e[4],y=e[5];return t[0]=n*a+i*f,t[1]=r*a+s*f,t[2]=n*A+i*m,t[3]=r*A+s*m,t[4]=n*_+i*y+l,t[5]=r*_+s*y+c,t}function n7(t,e,n,r,i,s,l){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=l,t}function poe(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Po(t,e){const n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e}function HL(t,e,n){return D2(t,n7(foe,e,0,0,n,0,0))}function r7(t,e,n){return D2(t,n7(foe,1,0,0,1,e,n))}function Vh(t,e,n,r,i,s,l,c){const a=Math.sin(s),f=Math.cos(s);return t[0]=r*f,t[1]=i*a,t[2]=-r*a,t[3]=i*f,t[4]=l*r*f-c*r*a+e,t[5]=l*i*a+c*i*f+n,t}function e1(t,e){const n=_rt(e);Za(n!==0,"Transformation matrix cannot be inverted");const r=e[0],i=e[1],s=e[2],l=e[3],c=e[4],a=e[5];return t[0]=l/n,t[1]=-i/n,t[2]=-s/n,t[3]=r/n,t[4]=(s*a-l*c)/n,t[5]=-(r*a-i*c)/n,t}function _rt(t){return t[0]*t[3]-t[1]*t[2]}const IW=[1e6,1e6,1e6,1e6,2,2];function i7(t){return"matrix("+t.map((n,r)=>Math.round(n*IW[r])/IW[r]).join(", ")+")"}const Ou={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function OT(t){const e=sc();for(let n=0,r=t.length;n<r;++n)X4(e,t[n]);return e}function yrt(t,e,n){const r=Math.min.apply(null,t),i=Math.min.apply(null,e),s=Math.max.apply(null,t),l=Math.max.apply(null,e);return ym(r,i,s,l,n)}function Wp(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function Aoe(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function N2(t,e,n){let r,i;return e<t[0]?r=t[0]-e:t[2]<e?r=e-t[2]:r=0,n<t[1]?i=t[1]-n:t[3]<n?i=n-t[3]:i=0,r*r+i*i}function t1(t,e){return a7(t,e[0],e[1])}function Bv(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function a7(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function bR(t,e){const n=t[0],r=t[1],i=t[2],s=t[3],l=e[0],c=e[1];let a=Ou.UNKNOWN;return l<n?a=a|Ou.LEFT:l>i&&(a=a|Ou.RIGHT),c<r?a=a|Ou.BELOW:c>s&&(a=a|Ou.ABOVE),a===Ou.UNKNOWN&&(a=Ou.INTERSECTING),a}function sc(){return[1/0,1/0,-1/0,-1/0]}function ym(t,e,n,r,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=r,i):[t,e,n,r]}function W6(t){return ym(1/0,1/0,-1/0,-1/0,t)}function moe(t,e){const n=t[0],r=t[1];return ym(n,r,n,r,e)}function s7(t,e,n,r,i){const s=W6(i);return goe(s,t,e,n,r)}function n1(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function FS(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function X4(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function goe(t,e,n,r,i){for(;n<r;n+=i)brt(t,e[n],e[n+1]);return t}function brt(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function o7(t,e){let n;return n=e(wB(t)),n||(n=e(xB(t)),n)||(n=e(CB(t)),n)||(n=e(g1(t)),n)?n:!1}function wR(t){let e=0;return U2(t)||(e=cs(t)*vu(t)),e}function wB(t){return[t[0],t[1]]}function xB(t){return[t[2],t[1]]}function qp(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function wrt(t,e){let n;if(e==="bottom-left")n=wB(t);else if(e==="bottom-right")n=xB(t);else if(e==="top-left")n=g1(t);else if(e==="top-right")n=CB(t);else throw new Error("Invalid corner");return n}function xR(t,e,n,r,i){const[s,l,c,a,f,A,m,_]=CR(t,e,n,r);return ym(Math.min(s,c,f,m),Math.min(l,a,A,_),Math.max(s,c,f,m),Math.max(l,a,A,_),i)}function CR(t,e,n,r){const i=e*r[0]/2,s=e*r[1]/2,l=Math.cos(n),c=Math.sin(n),a=i*l,f=i*c,A=s*l,m=s*c,_=t[0],y=t[1];return[_-a+m,y-f-A,_-a-m,y-f+A,_+a-m,y+f+A,_+a+m,y+f-A,_-a+m,y-f-A]}function vu(t){return t[3]-t[1]}function H_(t,e,n){const r=n||sc();return tu(t,e)?(t[0]>e[0]?r[0]=t[0]:r[0]=e[0],t[1]>e[1]?r[1]=t[1]:r[1]=e[1],t[2]<e[2]?r[2]=t[2]:r[2]=e[2],t[3]<e[3]?r[3]=t[3]:r[3]=e[3]):W6(r),r}function g1(t){return[t[0],t[3]]}function CB(t){return[t[2],t[3]]}function cs(t){return t[2]-t[0]}function tu(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function U2(t){return t[2]<t[0]||t[3]<t[1]}function xrt(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function Crt(t,e,n){let r=!1;const i=bR(t,e),s=bR(t,n);if(i===Ou.INTERSECTING||s===Ou.INTERSECTING)r=!0;else{const l=t[0],c=t[1],a=t[2],f=t[3],A=e[0],m=e[1],_=n[0],y=n[1],T=(y-m)/(_-A);let E,P;s&Ou.ABOVE&&!(i&Ou.ABOVE)&&(E=_-(y-f)/T,r=E>=l&&E<=a),!r&&s&Ou.RIGHT&&!(i&Ou.RIGHT)&&(P=y-(_-a)*T,r=P>=c&&P<=f),!r&&s&Ou.BELOW&&!(i&Ou.BELOW)&&(E=_-(y-c)/T,r=E>=l&&E<=a),!r&&s&Ou.LEFT&&!(i&Ou.LEFT)&&(P=y-(_-l)*T,r=P>=c&&P<=f)}return r}function Ert(t,e,n,r){if(U2(t))return W6(n);let i=[];i=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]],e(i,i,2);const s=[],l=[];for(let c=0,a=i.length;c<a;c+=2)s.push(i[c]),l.push(i[c+1]);return yrt(s,l,n)}function voe(t,e){const n=e.getExtent(),r=qp(t);if(e.canWrapX()&&(r[0]<n[0]||r[0]>=n[2])){const i=cs(n),l=Math.floor((r[0]-n[0])/i)*i;t[0]-=l,t[2]-=l}return t}function Srt(t,e){if(e.canWrapX()){const n=e.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[n[0],t[1],n[2],t[3]]];voe(t,e);const r=cs(n);if(cs(t)>r)return[[n[0],t[1],n[2],t[3]]];if(t[0]<n[0])return[[t[0]+r,t[1],n[2],t[3]],[n[0],t[1],t[2],t[3]]];if(t[2]>n[2])return[[t[0],t[1],n[2],t[3]],[n[0],t[1],t[2]-r,t[3]]]}return[t]}const l7={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};let _oe=class{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||l7[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}};const q6=6378137,ow=Math.PI*q6,Trt=[-ow,-ow,ow,ow],Brt=[-180,-85,180,85],YE=q6*Math.log(Math.tan(Math.PI/2));class yb extends _oe{constructor(e){super({code:e,units:"m",extent:Trt,global:!0,worldExtent:Brt,getPointResolution:function(n,r){return n/Math.cosh(r[1]/q6)}})}}const LW=[new yb("EPSG:3857"),new yb("EPSG:102100"),new yb("EPSG:102113"),new yb("EPSG:900913"),new yb("http://www.opengis.net/def/crs/EPSG/0/3857"),new yb("http://www.opengis.net/gml/srs/epsg.xml#3857")];function Mrt(t,e,n){const r=t.length;n=n>1?n:2,e===void 0&&(n>2?e=t.slice():e=new Array(r));for(let i=0;i<r;i+=n){e[i]=ow*t[i]/180;let s=q6*Math.log(Math.tan(Math.PI*(+t[i+1]+90)/360));s>YE?s=YE:s<-YE&&(s=-YE),e[i+1]=s}return e}function Irt(t,e,n){const r=t.length;n=n>1?n:2,e===void 0&&(n>2?e=t.slice():e=new Array(r));for(let i=0;i<r;i+=n)e[i]=180*t[i]/ow,e[i+1]=360*Math.atan(Math.exp(t[i+1]/q6))/Math.PI-90;return e}const Lrt=6378137,PW=[-180,-90,180,90],Prt=Math.PI*Lrt/180;class r_ extends _oe{constructor(e,n){super({code:e,units:"degrees",extent:PW,axisOrientation:n,global:!0,metersPerUnit:Prt,worldExtent:PW})}}const FW=[new r_("CRS:84"),new r_("EPSG:4326","neu"),new r_("urn:ogc:def:crs:OGC:1.3:CRS84"),new r_("urn:ogc:def:crs:OGC:2:84"),new r_("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new r_("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new r_("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let ER={};function Frt(t){return ER[t]||ER[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function krt(t,e){ER[t]=e}let Mw={};function DT(t,e,n){const r=t.getCode(),i=e.getCode();r in Mw||(Mw[r]={}),Mw[r][i]=n}function Rrt(t,e){let n;return t in Mw&&e in Mw[t]&&(n=Mw[t][e]),n}function Ll(t,e,n){return Math.min(Math.max(t,e),n)}function Ort(t,e,n,r,i,s){const l=i-n,c=s-r;if(l!==0||c!==0){const a=((t-n)*l+(e-r)*c)/(l*l+c*c);a>1?(n=i,r=s):a>0&&(n+=l*a,r+=c*a)}return Q_(t,e,n,r)}function Q_(t,e,n,r){const i=n-t,s=r-e;return i*i+s*s}function Drt(t){const e=t.length;for(let r=0;r<e;r++){let i=r,s=Math.abs(t[r][r]);for(let c=r+1;c<e;c++){const a=Math.abs(t[c][r]);a>s&&(s=a,i=c)}if(s===0)return null;const l=t[i];t[i]=t[r],t[r]=l;for(let c=r+1;c<e;c++){const a=-t[c][r]/t[r][r];for(let f=r;f<e+1;f++)r==f?t[c][f]=0:t[c][f]+=a*t[r][f]}}const n=new Array(e);for(let r=e-1;r>=0;r--){n[r]=t[r][e]/t[r][r];for(let i=r-1;i>=0;i--)t[i][e]-=t[i][r]*n[r]}return n}function kS(t){return t*Math.PI/180}function j_(t,e){const n=t%e;return n*e<0?n+e:n}function Ld(t,e,n){return t+n*(e-t)}function EB(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function kW(t,e){return Math.round(EB(t,e))}function XE(t,e){return Math.floor(EB(t,e))}function ZE(t,e){return Math.ceil(EB(t,e))}function yoe(t,e){const n=(""+t).split("."),r=(""+e).split(".");for(let i=0;i<Math.max(n.length,r.length);i++){const s=parseInt(n[i]||"0",10),l=parseInt(r[i]||"0",10);if(s>l)return 1;if(l>s)return-1}return 0}function Nrt(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function NT(t,e){let n=!0;for(let r=t.length-1;r>=0;--r)if(t[r]!=e[r]){n=!1;break}return n}function u7(t,e){const n=Math.cos(e),r=Math.sin(e),i=t[0]*n-t[1]*r,s=t[1]*n+t[0]*r;return t[0]=i,t[1]=s,t}function Urt(t,e){return t[0]*=e,t[1]*=e,t}function c7(t,e){if(e.canWrapX()){const n=cs(e.getExtent()),r=zrt(t,e,n);r&&(t[0]-=r*n)}return t}function zrt(t,e,n){const r=e.getExtent();let i=0;return e.canWrapX()&&(t[0]<r[0]||t[0]>r[2])&&(n=n||cs(r),i=Math.floor((t[0]-r[0])/n)),i}const $rt=63710088e-1;function qC(t,e,n){n=n||$rt;const r=kS(t[1]),i=kS(e[1]),s=(i-r)/2,l=kS(e[0]-t[0])/2,c=Math.sin(s)*Math.sin(s)+Math.sin(l)*Math.sin(l)*Math.cos(r)*Math.cos(i);return 2*n*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))}function boe(...t){console.warn(...t)}let SR=!0;function Vrt(t){SR=!1}function h7(t,e){if(e!==void 0){for(let n=0,r=t.length;n<r;++n)e[n]=t[n];e=e}else e=t.slice();return e}function woe(t,e){if(e!==void 0&&t!==e){for(let n=0,r=t.length;n<r;++n)e[n]=t[n];t=e}return t}function Hrt(t){krt(t.getCode(),t),DT(t,t,h7)}function Qrt(t){t.forEach(Hrt)}function Lf(t){return typeof t=="string"?Frt(t):t||null}function RW(t,e,n,r){t=Lf(t);let i;const s=t.getPointResolutionFunc();if(s)i=s(e,n);else{const l=t.getUnits();if(l=="degrees"&&!r||r=="degrees")i=e;else{const c=SB(t,Lf("EPSG:4326"));if(c===woe&&l!=="degrees")i=e*t.getMetersPerUnit();else{let f=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];f=c(f,f,2);const A=qC(f.slice(0,2),f.slice(2,4)),m=qC(f.slice(4,6),f.slice(6,8));i=(A+m)/2}const a=t.getMetersPerUnit();a!==void 0&&(i/=a)}}return i}function OW(t){Qrt(t),t.forEach(function(e){t.forEach(function(n){e!==n&&DT(e,n,h7)})})}function jrt(t,e,n,r){t.forEach(function(i){e.forEach(function(s){DT(i,s,n),DT(s,i,r)})})}function d7(t,e){return t?typeof t=="string"?Lf(t):t:Lf(e)}function Gb(t,e){if(t===e)return!0;const n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||SB(t,e)===h7)&&n}function SB(t,e){const n=t.getCode(),r=e.getCode();let i=Rrt(n,r);return i||(i=woe),i}function YC(t,e){const n=Lf(t),r=Lf(e);return SB(n,r)}function Zg(t,e,n){return YC(e,n)(t,void 0,t.length)}function DW(t,e,n,r){const i=YC(e,n);return Ert(t,i,void 0)}let Grt=null;function Krt(){return Grt}function TR(t,e){return t}function Ig(t,e){return SR&&!NT(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(SR=!1,boe("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t}function f7(t,e){return t}function Ng(t,e){return t}function Wrt(){OW(LW),OW(FW),jrt(FW,LW,Mrt,Irt)}Wrt();function um(t,e,n,r,i,s){s=s||[];let l=0;for(let c=e;c<n;c+=r){const a=t[c],f=t[c+1];s[l++]=i[0]*a+i[2]*f+i[4],s[l++]=i[1]*a+i[3]*f+i[5]}return s&&s.length!=l&&(s.length=l),s}function p7(t,e,n,r,i,s,l){l=l||[];const c=Math.cos(i),a=Math.sin(i),f=s[0],A=s[1];let m=0;for(let _=e;_<n;_+=r){const y=t[_]-f,T=t[_+1]-A;l[m++]=f+y*c-T*a,l[m++]=A+y*a+T*c;for(let E=_+2;E<_+r;++E)l[m++]=t[E]}return l&&l.length!=m&&(l.length=m),l}function qrt(t,e,n,r,i,s,l,c){c=c||[];const a=l[0],f=l[1];let A=0;for(let m=e;m<n;m+=r){const _=t[m]-a,y=t[m+1]-f;c[A++]=a+i*_,c[A++]=f+s*y;for(let T=m+2;T<m+r;++T)c[A++]=t[T]}return c&&c.length!=A&&(c.length=A),c}function Yrt(t,e,n,r,i,s,l){l=l||[];let c=0;for(let a=e;a<n;a+=r){l[c++]=t[a]+i,l[c++]=t[a+1]+s;for(let f=a+2;f<a+r;++f)l[c++]=t[f]}return l&&l.length!=c&&(l.length=c),l}const NW=zo();class Xrt extends Of{constructor(){super(),this.extent_=sc(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=doe((e,n,r)=>{if(!r)return this.getSimplifiedGeometry(n);const i=this.clone();return i.applyTransform(r),i.getSimplifiedGeometry(n)})}simplifyTransformed(e,n){return this.simplifyTransformedInternal(this.getRevision(),e,n)}clone(){return As()}closestPointXY(e,n,r,i){return As()}containsXY(e,n){const r=this.getClosestPoint([e,n]);return r[0]===e&&r[1]===n}getClosestPoint(e,n){return n=n||[NaN,NaN],this.closestPointXY(e[0],e[1],n,1/0),n}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return As()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&W6(n),this.extentRevision_=this.getRevision()}return xrt(this.extent_,e)}rotate(e,n){As()}scale(e,n,r){As()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return As()}getType(){return As()}applyTransform(e){As()}intersectsExtent(e){return As()}translate(e,n){As()}transform(e,n){const r=Lf(e),i=r.getUnits()=="tile-pixels"?function(s,l,c){const a=r.getExtent(),f=r.getWorldExtent(),A=vu(f)/vu(a);return Vh(NW,f[0],f[3],A,-A,0,0,0),um(s,0,s.length,c,NW,l),YC(r,n)(s,l,c)}:YC(r,n);return this.applyTransform(i),this}}class v1 extends Xrt{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return s7(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return As()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(e);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,n){this.stride=UW(e),this.layout=e,this.flatCoordinates=n}setCoordinates(e,n){As()}setLayout(e,n,r){let i;if(e)i=UW(e);else{for(let s=0;s<r;++s){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}i=n.length,e=Zrt(i)}this.layout=e,this.stride=i}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(e,n){const r=this.getFlatCoordinates();if(r){const i=this.getStride();p7(r,0,r.length,i,e,n,r),this.changed()}}scale(e,n,r){n===void 0&&(n=e),r||(r=qp(this.getExtent()));const i=this.getFlatCoordinates();if(i){const s=this.getStride();qrt(i,0,i.length,s,e,n,r,i),this.changed()}}translate(e,n){const r=this.getFlatCoordinates();if(r){const i=this.getStride();Yrt(r,0,r.length,i,e,n,r),this.changed()}}}function Zrt(t){let e;return t==2?e="XY":t==3?e="XYZ":t==4&&(e="XYZM"),e}function UW(t){let e;return t=="XY"?e=2:t=="XYZ"||t=="XYM"?e=3:t=="XYZM"&&(e=4),e}function Jrt(t,e,n){const r=t.getFlatCoordinates();if(!r)return null;const i=t.getStride();return um(r,0,r.length,i,e,n)}function zW(t,e,n,r,i,s,l){const c=t[e],a=t[e+1],f=t[n]-c,A=t[n+1]-a;let m;if(f===0&&A===0)m=e;else{const _=((i-c)*f+(s-a)*A)/(f*f+A*A);if(_>1)m=n;else if(_>0){for(let y=0;y<r;++y)l[y]=Ld(t[e+y],t[n+y],_);l.length=r;return}else m=e}for(let _=0;_<r;++_)l[_]=t[m+_];l.length=r}function A7(t,e,n,r,i){let s=t[e],l=t[e+1];for(e+=r;e<n;e+=r){const c=t[e],a=t[e+1],f=Q_(s,l,c,a);f>i&&(i=f),s=c,l=a}return i}function m7(t,e,n,r,i){for(let s=0,l=n.length;s<l;++s){const c=n[s];i=A7(t,e,c,r,i),e=c}return i}function eit(t,e,n,r,i){for(let s=0,l=n.length;s<l;++s){const c=n[s];i=m7(t,e,c,r,i),e=c[c.length-1]}return i}function g7(t,e,n,r,i,s,l,c,a,f,A){if(e==n)return f;let m,_;if(i===0){if(_=Q_(l,c,t[e],t[e+1]),_<f){for(m=0;m<r;++m)a[m]=t[e+m];return a.length=r,_}return f}A=A||[NaN,NaN];let y=e+r;for(;y<n;)if(zW(t,y-r,y,r,l,c,A),_=Q_(l,c,A[0],A[1]),_<f){for(f=_,m=0;m<r;++m)a[m]=A[m];a.length=r,y+=r}else y+=r*Math.max((Math.sqrt(_)-Math.sqrt(f))/i|0,1);if(s&&(zW(t,n-r,e,r,l,c,A),_=Q_(l,c,A[0],A[1]),_<f)){for(f=_,m=0;m<r;++m)a[m]=A[m];a.length=r}return f}function v7(t,e,n,r,i,s,l,c,a,f,A){A=A||[NaN,NaN];for(let m=0,_=n.length;m<_;++m){const y=n[m];f=g7(t,e,y,r,i,s,l,c,a,f,A),e=y}return f}function tit(t,e,n,r,i,s,l,c,a,f,A){A=A||[NaN,NaN];for(let m=0,_=n.length;m<_;++m){const y=n[m];f=v7(t,e,y,r,i,s,l,c,a,f,A),e=y[y.length-1]}return f}function xoe(t,e,n,r){for(let i=0,s=n.length;i<s;++i)t[e++]=n[i];return e}function TB(t,e,n,r){for(let i=0,s=n.length;i<s;++i){const l=n[i];for(let c=0;c<r;++c)t[e++]=l[c]}return e}function _7(t,e,n,r,i){i=i||[];let s=0;for(let l=0,c=n.length;l<c;++l){const a=TB(t,e,n[l],r);i[s++]=a,e=a}return i.length=s,i}function nit(t,e,n,r,i){i=i||[];let s=0;for(let l=0,c=n.length;l<c;++l){const a=_7(t,e,n[l],r,i[s]);a.length===0&&(a[0]=e),i[s++]=a,e=a[a.length-1]}return i.length=s,i}function BB(t,e,n,r,i,s,l){const c=(n-e)/r;if(c<3){for(;e<n;e+=r)s[l++]=t[e],s[l++]=t[e+1];return l}const a=new Array(c);a[0]=1,a[c-1]=1;const f=[e,n-r];let A=0;for(;f.length>0;){const m=f.pop(),_=f.pop();let y=0;const T=t[_],E=t[_+1],P=t[m],I=t[m+1];for(let F=_+r;F<m;F+=r){const R=t[F],N=t[F+1],z=Ort(R,N,T,E,P,I);z>y&&(A=F,y=z)}y>i&&(a[(A-e)/r]=1,_+r<A&&f.push(_,A),A+r<m&&f.push(A,m))}for(let m=0;m<c;++m)a[m]&&(s[l++]=t[e+m*r],s[l++]=t[e+m*r+1]);return l}function Coe(t,e,n,r,i,s,l,c){for(let a=0,f=n.length;a<f;++a){const A=n[a];l=BB(t,e,A,r,i,s,l),c.push(l),e=A}return l}function f_(t,e){return e*Math.round(t/e)}function rit(t,e,n,r,i,s,l){if(e==n)return l;let c=f_(t[e],i),a=f_(t[e+1],i);e+=r,s[l++]=c,s[l++]=a;let f,A;do if(f=f_(t[e],i),A=f_(t[e+1],i),e+=r,e==n)return s[l++]=f,s[l++]=A,l;while(f==c&&A==a);for(;e<n;){const m=f_(t[e],i),_=f_(t[e+1],i);if(e+=r,m==f&&_==A)continue;const y=f-c,T=A-a,E=m-c,P=_-a;if(y*P==T*E&&(y<0&&E<y||y==E||y>0&&E>y)&&(T<0&&P<T||T==P||T>0&&P>T)){f=m,A=_;continue}s[l++]=f,s[l++]=A,c=f,a=A,f=m,A=_}return s[l++]=f,s[l++]=A,l}function y7(t,e,n,r,i,s,l,c){for(let a=0,f=n.length;a<f;++a){const A=n[a];l=rit(t,e,A,r,i,s,l),c.push(l),e=A}return l}function iit(t,e,n,r,i,s,l,c){for(let a=0,f=n.length;a<f;++a){const A=n[a],m=[];l=y7(t,e,A,r,i,s,l,m),c.push(m),e=A[A.length-1]}return l}function Mv(t,e,n,r,i){i=i!==void 0?i:[];let s=0;for(let l=e;l<n;l+=r)i[s++]=t.slice(l,l+r);return i.length=s,i}function XC(t,e,n,r,i){i=i!==void 0?i:[];let s=0;for(let l=0,c=n.length;l<c;++l){const a=n[l];i[s++]=Mv(t,e,a,r,i[s]),e=a}return i.length=s,i}function BR(t,e,n,r,i){i=i!==void 0?i:[];let s=0;for(let l=0,c=n.length;l<c;++l){const a=n[l];i[s++]=a.length===1&&a[0]===e?[]:XC(t,e,a,r,i[s]),e=a[a.length-1]}return i.length=s,i}function Eoe(t,e,n,r){let i=0,s=t[n-r],l=t[n-r+1];for(;e<n;e+=r){const c=t[e],a=t[e+1];i+=l*c-s*a,s=c,l=a}return i/2}function Soe(t,e,n,r){let i=0;for(let s=0,l=n.length;s<l;++s){const c=n[s];i+=Eoe(t,e,c,r),e=c}return i}function ait(t,e,n,r){let i=0;for(let s=0,l=n.length;s<l;++s){const c=n[s];i+=Soe(t,e,c,r),e=c[c.length-1]}return i}class ZC extends v1{constructor(e,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}clone(){return new ZC(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,n,r,i){return i<N2(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(A7(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),g7(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,n,r,i))}getArea(){return Eoe(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return Mv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const n=[];return n.length=BB(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new ZC(n,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=TB(this.flatCoordinates,0,e,this.stride),this.changed()}}let Fp=class Toe extends v1{constructor(e,n){super(),this.setCoordinates(e,n)}clone(){const e=new Toe(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){const s=this.flatCoordinates,l=Q_(e,n,s[0],s[1]);if(l<i){const c=this.stride;for(let a=0;a<c;++a)r[a]=s[a];return r.length=c,l}return i}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return moe(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return a7(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=xoe(this.flatCoordinates,0,e,this.stride),this.changed()}};function sit(t,e,n,r,i){return!o7(i,function(l){return!I_(t,e,n,r,l[0],l[1])})}function I_(t,e,n,r,i,s){let l=0,c=t[n-r],a=t[n-r+1];for(;e<n;e+=r){const f=t[e],A=t[e+1];a<=s?A>s&&(f-c)*(s-a)-(i-c)*(A-a)>0&&l++:A<=s&&(f-c)*(s-a)-(i-c)*(A-a)<0&&l--,c=f,a=A}return l!==0}function b7(t,e,n,r,i,s){if(n.length===0||!I_(t,e,n[0],r,i,s))return!1;for(let l=1,c=n.length;l<c;++l)if(I_(t,n[l-1],n[l],r,i,s))return!1;return!0}function oit(t,e,n,r,i,s){if(n.length===0)return!1;for(let l=0,c=n.length;l<c;++l){const a=n[l];if(b7(t,e,a,r,i,s))return!0;e=a[a.length-1]}return!1}function w7(t,e,n,r,i,s,l){let c,a,f,A,m,_,y;const T=i[s+1],E=[];for(let F=0,R=n.length;F<R;++F){const N=n[F];for(A=t[N-r],_=t[N-r+1],c=e;c<N;c+=r)m=t[c],y=t[c+1],(T<=_&&y<=T||_<=T&&T<=y)&&(f=(T-_)/(y-_)*(m-A)+A,E.push(f)),A=m,_=y}let P=NaN,I=-1/0;for(E.sort(om),A=E[0],c=1,a=E.length;c<a;++c){m=E[c];const F=Math.abs(m-A);F>I&&(f=(A+m)/2,b7(t,e,n,r,f,T)&&(P=f,I=F)),A=m}return isNaN(P)&&(P=i[s]),l?(l.push(P,T,I),l):[P,T,I]}function Boe(t,e,n,r,i){let s=[];for(let l=0,c=n.length;l<c;++l){const a=n[l];s=w7(t,e,a,r,i,2*l,s),e=a[a.length-1]}return s}function Moe(t,e,n,r,i){let s;for(e+=r;e<n;e+=r)if(s=i(t.slice(e-r,e),t.slice(e,e+r)),s)return s;return!1}function MB(t,e,n,r,i){const s=goe(sc(),t,e,n,r);return tu(i,s)?Bv(i,s)||s[0]>=i[0]&&s[2]<=i[2]||s[1]>=i[1]&&s[3]<=i[3]?!0:Moe(t,e,n,r,function(l,c){return Crt(i,l,c)}):!1}function lit(t,e,n,r,i){for(let s=0,l=n.length;s<l;++s){if(MB(t,e,n[s],r,i))return!0;e=n[s]}return!1}function Ioe(t,e,n,r,i){return!!(MB(t,e,n,r,i)||I_(t,e,n,r,i[0],i[1])||I_(t,e,n,r,i[0],i[3])||I_(t,e,n,r,i[2],i[1])||I_(t,e,n,r,i[2],i[3]))}function Loe(t,e,n,r,i){if(!Ioe(t,e,n[0],r,i))return!1;if(n.length===1)return!0;for(let s=1,l=n.length;s<l;++s)if(sit(t,n[s-1],n[s],r,i)&&!MB(t,n[s-1],n[s],r,i))return!1;return!0}function uit(t,e,n,r,i){for(let s=0,l=n.length;s<l;++s){const c=n[s];if(Loe(t,e,c,r,i))return!0;e=c[c.length-1]}return!1}function cit(t,e,n,r){for(;e<n-r;){for(let i=0;i<r;++i){const s=t[e+i];t[e+i]=t[n-r+i],t[n-r+i]=s}e+=r,n-=r}}function x7(t,e,n,r){let i=0,s=t[n-r],l=t[n-r+1];for(;e<n;e+=r){const c=t[e],a=t[e+1];i+=(c-s)*(a+l),s=c,l=a}return i===0?void 0:i>0}function Poe(t,e,n,r,i){i=i!==void 0?i:!1;for(let s=0,l=n.length;s<l;++s){const c=n[s],a=x7(t,e,c,r);if(s===0){if(i&&a||!i&&!a)return!1}else if(i&&!a||!i&&a)return!1;e=c}return!0}function hit(t,e,n,r,i){for(let s=0,l=n.length;s<l;++s){const c=n[s];if(!Poe(t,e,c,r,i))return!1;c.length&&(e=c[c.length-1])}return!0}function MR(t,e,n,r,i){i=i!==void 0?i:!1;for(let s=0,l=n.length;s<l;++s){const c=n[s],a=x7(t,e,c,r);(s===0?i&&a||!i&&!a:i&&!a||!i&&a)&&cit(t,e,c,r),e=c}return e}function $W(t,e,n,r,i){for(let s=0,l=n.length;s<l;++s)e=MR(t,e,n[s],r,i);return e}function Foe(t,e){const n=[];let r=0,i=0,s;for(let l=0,c=e.length;l<c;++l){const a=e[l],f=x7(t,r,a,2);if(s===void 0&&(s=f),f===s)n.push(e.slice(i,l+1));else{if(n.length===0)continue;n[n.length-1].push(e[i])}i=l+1,r=a}return n}class Pf extends v1{constructor(e,n,r){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&r?(this.setFlatCoordinates(n,e),this.ends_=r):this.setCoordinates(e,n)}appendLinearRing(e){this.flatCoordinates?lm(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new Pf(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,r,i){return i<N2(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(m7(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),v7(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,n,r,i))}containsXY(e,n){return b7(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,n)}getArea(){return Soe(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),MR(n,0,this.ends_,this.stride,e)):n=this.flatCoordinates,XC(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=qp(this.getExtent());this.flatInteriorPoint_=w7(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Fp(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new ZC(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,n=this.flatCoordinates,r=this.ends_,i=[];let s=0;for(let l=0,c=r.length;l<c;++l){const a=r[l],f=new ZC(n.slice(s,a),e);i.push(f),s=a}return i}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;Poe(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=MR(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],r=[];return n.length=y7(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),n,0,r),new Pf(n,"XY",r)}getType(){return"Polygon"}intersectsExtent(e){return Loe(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const r=_7(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=r.length===0?0:r[r.length-1],this.changed()}}function lw(t){if(U2(t))throw new Error("Cannot create polygon from empty extent");const e=t[0],n=t[1],r=t[2],i=t[3],s=[e,n,e,i,r,i,r,n,e,n];return new Pf(s,"XY",[s.length])}const Ih={ADD:"add",REMOVE:"remove"},VW={LENGTH:"length"};class JE extends h0{constructor(e,n,r){super(e),this.element=n,this.index=r}}class vf extends Of{constructor(e,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=e||[],this.unique_)for(let r=0,i=this.array_.length;r<i;++r)this.assertUnique_(this.array_[r],r);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let n=0,r=e.length;n<r;++n)this.push(e[n]);return this}forEach(e){const n=this.array_;for(let r=0,i=n.length;r<i;++r)e(n[r],r,n)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(VW.LENGTH)}insertAt(e,n){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n),this.array_.splice(e,0,n),this.updateLength_(),this.dispatchEvent(new JE(Ih.ADD,n,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const n=this.getLength();return this.insertAt(n,e),this.getLength()}remove(e){const n=this.array_;for(let r=0,i=n.length;r<i;++r)if(n[r]===e)return this.removeAt(r)}removeAt(e){if(e<0||e>=this.getLength())return;const n=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new JE(Ih.REMOVE,n,e)),n}setAt(e,n){const r=this.getLength();if(e>=r){this.insertAt(e,n);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n,e);const i=this.array_[e];this.array_[e]=n,this.dispatchEvent(new JE(Ih.REMOVE,i,e)),this.dispatchEvent(new JE(Ih.ADD,n,e))}updateLength_(){this.set(VW.LENGTH,this.array_.length)}assertUnique_(e,n){for(let r=0,i=this.array_.length;r<i;++r)if(this.array_[r]===e&&r!==n)throw new Error("Duplicate item added to a unique collection")}}const Fs={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class C7 extends Of{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const n=Object.assign({},e);typeof e.properties=="object"&&(delete n.properties,Object.assign(n,e.properties)),n[Fs.OPACITY]=e.opacity!==void 0?e.opacity:1,Za(typeof n[Fs.OPACITY]=="number","Layer opacity must be a number"),n[Fs.VISIBLE]=e.visible!==void 0?e.visible:!0,n[Fs.Z_INDEX]=e.zIndex,n[Fs.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,n[Fs.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,n[Fs.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,n[Fs.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const n=this.state_||{layer:this,managed:e===void 0?!0:e},r=this.getZIndex();return n.opacity=Ll(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=r===void 0&&!n.managed?1/0:r,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(e){return As()}getLayerStatesArray(e){return As()}getExtent(){return this.get(Fs.EXTENT)}getMaxResolution(){return this.get(Fs.MAX_RESOLUTION)}getMinResolution(){return this.get(Fs.MIN_RESOLUTION)}getMinZoom(){return this.get(Fs.MIN_ZOOM)}getMaxZoom(){return this.get(Fs.MAX_ZOOM)}getOpacity(){return this.get(Fs.OPACITY)}getSourceState(){return As()}getVisible(){return this.get(Fs.VISIBLE)}getZIndex(){return this.get(Fs.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(Fs.EXTENT,e)}setMaxResolution(e){this.set(Fs.MAX_RESOLUTION,e)}setMinResolution(e){this.set(Fs.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(Fs.MAX_ZOOM,e)}setMinZoom(e){this.set(Fs.MIN_ZOOM,e)}setOpacity(e){Za(typeof e=="number","Layer opacity must be a number"),this.set(Fs.OPACITY,e)}setVisible(e){this.set(Fs.VISIBLE,e)}setZIndex(e){this.set(Fs.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const Uu={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},Js={ANIMATING:0,INTERACTING:1},wp={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},dit=42,E7=256;function HW(t,e,n){return function(r,i,s,l,c){if(!r)return;if(!i&&!e)return r;const a=e?0:s[0]*i,f=e?0:s[1]*i,A=c?c[0]:0,m=c?c[1]:0;let _=t[0]+a/2+A,y=t[2]-a/2+A,T=t[1]+f/2+m,E=t[3]-f/2+m;_>y&&(_=(y+_)/2,y=_),T>E&&(T=(E+T)/2,E=T);let P=Ll(r[0],_,y),I=Ll(r[1],T,E);if(l&&n&&i){const F=30*i;P+=-F*Math.log(1+Math.max(0,_-r[0])/F)+F*Math.log(1+Math.max(0,r[0]-y)/F),I+=-F*Math.log(1+Math.max(0,T-r[1])/F)+F*Math.log(1+Math.max(0,r[1]-E)/F)}return[P,I]}}function fit(t){return t}function S7(t,e,n,r){const i=cs(e)/n[0],s=vu(e)/n[1];return r?Math.min(t,Math.max(i,s)):Math.min(t,Math.min(i,s))}function T7(t,e,n){let r=Math.min(t,e);const i=50;return r*=Math.log(1+i*Math.max(0,t/e-1))/i+1,n&&(r=Math.max(r,n),r/=Math.log(1+i*Math.max(0,n/t-1))/i+1),Ll(r,n/2,e*2)}function pit(t,e,n,r){return e=e!==void 0?e:!0,function(i,s,l,c){if(i!==void 0){const a=t[0],f=t[t.length-1],A=n?S7(a,n,l,r):a;if(c)return e?T7(i,A,f):Ll(i,f,A);const m=Math.min(A,i),_=Math.floor(t7(t,m,s));return t[_]>A&&_<t.length-1?t[_+1]:t[_]}}}function Ait(t,e,n,r,i,s){return r=r!==void 0?r:!0,n=n!==void 0?n:0,function(l,c,a,f){if(l!==void 0){const A=i?S7(e,i,a,s):e;if(f)return r?T7(l,A,n):Ll(l,n,A);const m=1e-9,_=Math.ceil(Math.log(e/A)/Math.log(t)-m),y=-c*(.5-m)+.5,T=Math.min(A,l),E=Math.floor(Math.log(e/T)/Math.log(t)+y),P=Math.max(_,E),I=e/Math.pow(t,P);return Ll(I,n,A)}}}function QW(t,e,n,r,i){return n=n!==void 0?n:!0,function(s,l,c,a){if(s!==void 0){const f=r?S7(t,r,c,i):t;return!n||!a?Ll(s,e,f):T7(s,f,e)}}}function B7(t){if(t!==void 0)return 0}function jW(t){if(t!==void 0)return t}function mit(t){const e=2*Math.PI/t;return function(n,r){if(r)return n;if(n!==void 0)return n=Math.floor(n/e+.5)*e,n}}function git(t){const e=kS(5);return function(n,r){return r||n===void 0?n:Math.abs(n)<=e?0:n}}function koe(t){return Math.pow(t,3)}function z2(t){return 1-koe(1-t)}function vit(t){return 3*t*t-2*t*t*t}function Roe(t){return t}const QL=0;class YA extends Of{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=d7(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&Vrt(),e.center&&(e.center=Ig(e.center,this.projection_)),e.extent&&(e.extent=Ng(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const n=Object.assign({},e);for(const c in wp)delete n[c];this.setProperties(n,!0);const r=yit(e);this.maxResolution_=r.maxResolution,this.minResolution_=r.minResolution,this.zoomFactor_=r.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=r.minZoom;const i=_it(e),s=r.constraint,l=bit(e);this.constraints_={center:i,resolution:s,rotation:l},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let n=this.padding_;this.padding_=e;const r=this.getCenterInternal();if(r){const i=e||[0,0,0,0];n=n||[0,0,0,0];const s=this.getResolution(),l=s/2*(i[3]-n[3]+n[1]-i[1]),c=s/2*(i[0]-n[0]+n[2]-i[2]);this.setCenterInternal([r[0]+l,r[1]-c])}}getUpdatedOptions_(e){const n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let r=0;r<n.length;++r){let i=arguments[r];i.center&&(i=Object.assign({},i),i.center=Ig(i.center,this.getProjection())),i.anchor&&(i=Object.assign({},i),i.anchor=Ig(i.anchor,this.getProjection())),n[r]=i}this.animateInternal.apply(this,n)}animateInternal(e){let n=arguments.length,r;n>1&&typeof arguments[n-1]=="function"&&(r=arguments[n-1],--n);let i=0;for(;i<n&&!this.isDef();++i){const A=arguments[i];A.center&&this.setCenterInternal(A.center),A.zoom!==void 0?this.setZoom(A.zoom):A.resolution&&this.setResolution(A.resolution),A.rotation!==void 0&&this.setRotation(A.rotation)}if(i===n){r&&e3(r,!0);return}let s=Date.now(),l=this.targetCenter_.slice(),c=this.targetResolution_,a=this.targetRotation_;const f=[];for(;i<n;++i){const A=arguments[i],m={start:s,complete:!1,anchor:A.anchor,duration:A.duration!==void 0?A.duration:1e3,easing:A.easing||vit,callback:r};if(A.center&&(m.sourceCenter=l,m.targetCenter=A.center.slice(),l=m.targetCenter),A.zoom!==void 0?(m.sourceResolution=c,m.targetResolution=this.getResolutionForZoom(A.zoom),c=m.targetResolution):A.resolution&&(m.sourceResolution=c,m.targetResolution=A.resolution,c=m.targetResolution),A.rotation!==void 0){m.sourceRotation=a;const _=j_(A.rotation-a+Math.PI,2*Math.PI)-Math.PI;m.targetRotation=a+_,a=m.targetRotation}wit(m)?m.complete=!0:s+=m.duration,f.push(m)}this.animations_.push(f),this.setHint(Js.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[Js.ANIMATING]>0}getInteracting(){return this.hints_[Js.INTERACTING]>0}cancelAnimations(){this.setHint(Js.ANIMATING,-this.hints_[Js.ANIMATING]);let e;for(let n=0,r=this.animations_.length;n<r;++n){const i=this.animations_[n];if(i[0].callback&&e3(i[0].callback,!1),!e)for(let s=0,l=i.length;s<l;++s){const c=i[s];if(!c.complete){e=c.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let n=!1;for(let r=this.animations_.length-1;r>=0;--r){const i=this.animations_[r];let s=!0;for(let l=0,c=i.length;l<c;++l){const a=i[l];if(a.complete)continue;const f=e-a.start;let A=a.duration>0?f/a.duration:1;A>=1?(a.complete=!0,A=1):s=!1;const m=a.easing(A);if(a.sourceCenter){const _=a.sourceCenter[0],y=a.sourceCenter[1],T=a.targetCenter[0],E=a.targetCenter[1];this.nextCenter_=a.targetCenter;const P=_+m*(T-_),I=y+m*(E-y);this.targetCenter_=[P,I]}if(a.sourceResolution&&a.targetResolution){const _=m===1?a.targetResolution:a.sourceResolution+m*(a.targetResolution-a.sourceResolution);if(a.anchor){const y=this.getViewportSize_(this.getRotation()),T=this.constraints_.resolution(_,0,y,!0);this.targetCenter_=this.calculateCenterZoom(T,a.anchor)}this.nextResolution_=a.targetResolution,this.targetResolution_=_,this.applyTargetState_(!0)}if(a.sourceRotation!==void 0&&a.targetRotation!==void 0){const _=m===1?j_(a.targetRotation+Math.PI,2*Math.PI)-Math.PI:a.sourceRotation+m*(a.targetRotation-a.sourceRotation);if(a.anchor){const y=this.constraints_.rotation(_,!0);this.targetCenter_=this.calculateCenterRotate(y,a.anchor)}this.nextRotation_=a.targetRotation,this.targetRotation_=_}if(this.applyTargetState_(!0),n=!0,!a.complete)break}if(s){this.animations_[r]=null,this.setHint(Js.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const l=i[0].callback;l&&e3(l,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,n){let r;const i=this.getCenterInternal();return i!==void 0&&(r=[i[0]-n[0],i[1]-n[1]],u7(r,e-this.getRotation()),Nrt(r,n)),r}calculateCenterZoom(e,n){let r;const i=this.getCenterInternal(),s=this.getResolution();if(i!==void 0&&s!==void 0){const l=n[0]-e*(n[0]-i[0])/s,c=n[1]-e*(n[1]-i[1])/s;r=[l,c]}return r}getViewportSize_(e){const n=this.viewportSize_;if(e){const r=n[0],i=n[1];return[Math.abs(r*Math.cos(e))+Math.abs(i*Math.sin(e)),Math.abs(r*Math.sin(e))+Math.abs(i*Math.cos(e))]}return n}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&TR(e,this.getProjection())}getCenterInternal(){return this.get(wp.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const n=this.calculateExtentInternal(e);return f7(n,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();Za(n,"The view center is not defined");const r=this.getResolution();Za(r!==void 0,"The view resolution is not defined");const i=this.getRotation();return Za(i!==void 0,"The view rotation is not defined"),xR(n,r,i,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(wp.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,n){return this.getResolutionForExtentInternal(Ng(e,this.getProjection()),n)}getResolutionForExtentInternal(e,n){n=n||this.getViewportSizeMinusPadding_();const r=cs(e)/n[0],i=vu(e)/n[1];return Math.max(r,i)}getResolutionForValueFunction(e){e=e||2;const n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,i=Math.log(n/r)/Math.log(e);return function(s){return n/Math.pow(e,s*i)}}getRotation(){return this.get(wp.ROTATION)}getValueForResolutionFunction(e){const n=Math.log(e||2),r=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,s=Math.log(r/i)/n;return function(l){return Math.log(r/l)/n/s}}getViewportSizeMinusPadding_(e){let n=this.getViewportSize_(e);const r=this.padding_;return r&&(n=[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]),n}getState(){const e=this.getProjection(),n=this.getResolution(),r=this.getRotation();let i=this.getCenterInternal();const s=this.padding_;if(s){const l=this.getViewportSizeMinusPadding_();i=jL(i,this.getViewportSize_(),[l[0]/2+s[3],l[1]/2+s[0]],n,r)}return{center:i.slice(0),projection:e!==void 0?e:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:r,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const n=this.getResolution();return n!==void 0&&(e=this.getZoomForResolution(n)),e}getZoomForResolution(e){let n=this.minZoom_||0,r,i;if(this.resolutions_){const s=t7(this.resolutions_,e,1);n=s,r=this.resolutions_[s],s==this.resolutions_.length-1?i=2:i=r/this.resolutions_[s+1]}else r=this.maxResolution_,i=this.zoomFactor_;return n+Math.log(r/e)/Math.log(i)}getResolutionForZoom(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const n=Ll(Math.floor(e),0,this.resolutions_.length-2),r=this.resolutions_[n]/this.resolutions_[n+1];return this.resolutions_[n]/Math.pow(r,Ll(e-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,n){let r;if(Za(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){Za(!U2(e),"Cannot fit empty extent provided as `geometry`");const i=Ng(e,this.getProjection());r=lw(i)}else if(e.getType()==="Circle"){const i=Ng(e.getExtent(),this.getProjection());r=lw(i),r.rotate(this.getRotation(),qp(i))}else r=e;this.fitInternal(r,n)}rotatedExtentForGeometry(e){const n=this.getRotation(),r=Math.cos(n),i=Math.sin(-n),s=e.getFlatCoordinates(),l=e.getStride();let c=1/0,a=1/0,f=-1/0,A=-1/0;for(let m=0,_=s.length;m<_;m+=l){const y=s[m]*r-s[m+1]*i,T=s[m]*i+s[m+1]*r;c=Math.min(c,y),a=Math.min(a,T),f=Math.max(f,y),A=Math.max(A,T)}return[c,a,f,A]}fitInternal(e,n){n=n||{};let r=n.size;r||(r=this.getViewportSizeMinusPadding_());const i=n.padding!==void 0?n.padding:[0,0,0,0],s=n.nearest!==void 0?n.nearest:!1;let l;n.minResolution!==void 0?l=n.minResolution:n.maxZoom!==void 0?l=this.getResolutionForZoom(n.maxZoom):l=0;const c=this.rotatedExtentForGeometry(e);let a=this.getResolutionForExtentInternal(c,[r[0]-i[1]-i[3],r[1]-i[0]-i[2]]);a=isNaN(a)?l:Math.max(a,l),a=this.getConstrainedResolution(a,s?0:1);const f=this.getRotation(),A=Math.sin(f),m=Math.cos(f),_=qp(c);_[0]+=(i[1]-i[3])/2*a,_[1]+=(i[0]-i[2])/2*a;const y=_[0]*m-_[1]*A,T=_[1]*m+_[0]*A,E=this.getConstrainedCenter([y,T],a),P=n.callback?n.callback:f2;n.duration!==void 0?this.animateInternal({resolution:a,center:E,duration:n.duration,easing:n.easing},P):(this.targetResolution_=a,this.targetCenter_=E,this.applyTargetState_(!1,!0),e3(P,!0))}centerOn(e,n,r){this.centerOnInternal(Ig(e,this.getProjection()),n,r)}centerOnInternal(e,n,r){this.setCenterInternal(jL(e,n,r,this.getResolution(),this.getRotation()))}calculateCenterShift(e,n,r,i){let s;const l=this.padding_;if(l&&e){const c=this.getViewportSizeMinusPadding_(-r),a=jL(e,i,[c[0]/2+l[3],c[1]/2+l[0]],n,r);s=[e[0]-a[0],e[1]-a[1]]}return s}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const n=TR(this.targetCenter_,this.getProjection());this.setCenter([n[0]+e[0],n[1]+e[1]])}adjustCenterInternal(e){const n=this.targetCenter_;this.setCenterInternal([n[0]+e[0],n[1]+e[1]])}adjustResolution(e,n){n=n&&Ig(n,this.getProjection()),this.adjustResolutionInternal(e,n)}adjustResolutionInternal(e,n){const r=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*e,0,i,r);n&&(this.targetCenter_=this.calculateCenterZoom(s,n)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,n){this.adjustResolution(Math.pow(this.zoomFactor_,-e),n)}adjustRotation(e,n){n&&(n=Ig(n,this.getProjection())),this.adjustRotationInternal(e,n)}adjustRotationInternal(e,n){const r=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+e,r);n&&(this.targetCenter_=this.calculateCenterRotate(i,n)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&Ig(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,n){return this.hints_[e]+=n,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,n){const r=this.getAnimating()||this.getInteracting()||n,i=this.constraints_.rotation(this.targetRotation_,r),s=this.getViewportSize_(i),l=this.constraints_.resolution(this.targetResolution_,0,s,r),c=this.constraints_.center(this.targetCenter_,l,s,r,this.calculateCenterShift(this.targetCenter_,l,i,s));this.get(wp.ROTATION)!==i&&this.set(wp.ROTATION,i),this.get(wp.RESOLUTION)!==l&&(this.set(wp.RESOLUTION,l),this.set("zoom",this.getZoom(),!0)),(!c||!this.get(wp.CENTER)||!NT(this.get(wp.CENTER),c))&&this.set(wp.CENTER,c),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,n,r){e=e!==void 0?e:200;const i=n||0,s=this.constraints_.rotation(this.targetRotation_),l=this.getViewportSize_(s),c=this.constraints_.resolution(this.targetResolution_,i,l),a=this.constraints_.center(this.targetCenter_,c,l,!1,this.calculateCenterShift(this.targetCenter_,c,s,l));if(e===0&&!this.cancelAnchor_){this.targetResolution_=c,this.targetRotation_=s,this.targetCenter_=a,this.applyTargetState_();return}r=r||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==c||this.getRotation()!==s||!this.getCenterInternal()||!NT(this.getCenterInternal(),a))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:a,resolution:c,duration:e,easing:z2,anchor:r}))}beginInteraction(){this.resolveConstraints(0),this.setHint(Js.INTERACTING,1)}endInteraction(e,n,r){r=r&&Ig(r,this.getProjection()),this.endInteractionInternal(e,n,r)}endInteractionInternal(e,n,r){this.getInteracting()&&(this.setHint(Js.INTERACTING,-1),this.resolveConstraints(e,n,r))}getConstrainedCenter(e,n){const r=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,n||this.getResolution(),r)}getConstrainedZoom(e,n){const r=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(r,n))}getConstrainedResolution(e,n){n=n||0;const r=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,n,r)}}function e3(t,e){setTimeout(function(){t(e)},0)}function _it(t){if(t.extent!==void 0){const n=t.smoothExtentConstraint!==void 0?t.smoothExtentConstraint:!0;return HW(t.extent,t.constrainOnlyCenter,n)}const e=d7(t.projection,"EPSG:3857");if(t.multiWorld!==!0&&e.isGlobal()){const n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,HW(n,!1,!1)}return fit}function yit(t){let e,n,r,l=t.minZoom!==void 0?t.minZoom:QL,c=t.maxZoom!==void 0?t.maxZoom:28;const a=t.zoomFactor!==void 0?t.zoomFactor:2,f=t.multiWorld!==void 0?t.multiWorld:!1,A=t.smoothResolutionConstraint!==void 0?t.smoothResolutionConstraint:!0,m=t.showFullExtent!==void 0?t.showFullExtent:!1,_=d7(t.projection,"EPSG:3857"),y=_.getExtent();let T=t.constrainOnlyCenter,E=t.extent;if(!f&&!E&&_.isGlobal()&&(T=!1,E=y),t.resolutions!==void 0){const P=t.resolutions;n=P[l],r=P[c]!==void 0?P[c]:P[P.length-1],t.constrainResolution?e=pit(P,A,!T&&E,m):e=QW(n,r,A,!T&&E,m)}else{const I=(y?Math.max(cs(y),vu(y)):360*l7.degrees/_.getMetersPerUnit())/E7/Math.pow(2,QL),F=I/Math.pow(2,28-QL);n=t.maxResolution,n!==void 0?l=0:n=I/Math.pow(a,l),r=t.minResolution,r===void 0&&(t.maxZoom!==void 0?t.maxResolution!==void 0?r=n/Math.pow(a,c):r=I/Math.pow(a,c):r=F),c=l+Math.floor(Math.log(n/r)/Math.log(a)),r=n/Math.pow(a,c-l),t.constrainResolution?e=Ait(a,n,r,A,!T&&E,m):e=QW(n,r,A,!T&&E,m)}return{constraint:e,maxResolution:n,minResolution:r,minZoom:l,zoomFactor:a}}function bit(t){if(t.enableRotation!==void 0?t.enableRotation:!0){const n=t.constrainRotation;return n===void 0||n===!0?git():n===!1?jW:typeof n=="number"?mit(n):jW}return B7}function wit(t){return!(t.sourceCenter&&t.targetCenter&&!NT(t.sourceCenter,t.targetCenter)||t.sourceResolution!==t.targetResolution||t.sourceRotation!==t.targetRotation)}function jL(t,e,n,r,i){const s=Math.cos(-i);let l=Math.sin(-i),c=t[0]*s-t[1]*l,a=t[1]*s+t[0]*l;c+=(e[0]/2-n[0])*r,a+=(n[1]-e[1]/2)*r,l=-l;const f=c*s-a*l,A=a*s+c*l;return[f,A]}class wy extends C7{constructor(e){const n=Object.assign({},e);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(Fs.SOURCE,this.handleSourcePropertyChange_);const r=e.source?e.source:null;this.setSource(r)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(Fs.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(xo(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=$a(e,Fa.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let n;const r=this.getMapInternal();!e&&r&&(e=r.getView()),e instanceof YA?n={viewState:e.getState(),extent:e.calculateExtent()}:n=e,!n.layerStatesArray&&r&&(n.layerStatesArray=r.getLayerGroup().getLayerStatesArray());let i;n.layerStatesArray?i=n.layerStatesArray.find(l=>l.layer===this):i=this.getLayerState();const s=this.getExtent();return M7(i,n.viewState)&&(!s||tu(s,n.extent))}getAttributions(e){if(!this.isVisible(e))return[];let n;const r=this.getSource();if(r&&(n=r.getAttributions()),!n)return[];const i=e instanceof YA?e.getViewStateAndExtent():e;let s=n(i);return Array.isArray(s)||(s=[s]),s}render(e,n){const r=this.getRenderer();return r.prepareFrame(e)?(this.rendered=!0,r.renderFrame(e,n)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,n){}renderDeferred(e){const n=this.getRenderer();n&&n.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(Fs.MAP,e)}getMapInternal(){return this.get(Fs.MAP)}setMap(e){this.mapPrecomposeKey_&&(xo(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(xo(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=$a(e,Uu.PRECOMPOSE,function(n){const i=n.frameState.layerStatesArray,s=this.getLayerState(!1);Za(!i.some(function(l){return l.layer===s.layer}),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),i.push(s)},this),this.mapRenderKey_=$a(this,Fa.CHANGE,e.render,e),this.changed())}setSource(e){this.set(Fs.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function M7(t,e){if(!t.visible)return!1;const n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;const r=e.zoom;return r>t.minZoom&&r<=t.maxZoom}function xit(t,e,n,r,i){Ooe(t,e,n||0,r||t.length-1,i||Cit)}function Ooe(t,e,n,r,i){for(;r>n;){if(r-n>600){var s=r-n+1,l=e-n+1,c=Math.log(s),a=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*a*(s-a)/s)*(l-s/2<0?-1:1),A=Math.max(n,Math.floor(e-l*a/s+f)),m=Math.min(r,Math.floor(e+(s-l)*a/s+f));Ooe(t,e,A,m,i)}var _=t[e],y=n,T=r;for(Gx(t,n,e),i(t[r],_)>0&&Gx(t,n,r);y<T;){for(Gx(t,y,T),y++,T--;i(t[y],_)<0;)y++;for(;i(t[T],_)>0;)T--}i(t[n],_)===0?Gx(t,n,T):(T++,Gx(t,T,r)),T<=e&&(n=T+1),e<=T&&(r=T-1)}}function Gx(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function Cit(t,e){return t<e?-1:t>e?1:0}let Doe=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let n=this.data;const r=[];if(!n3(e,n))return r;const i=this.toBBox,s=[];for(;n;){for(let l=0;l<n.children.length;l++){const c=n.children[l],a=n.leaf?i(c):c;n3(e,a)&&(n.leaf?r.push(c):KL(e,a)?this._all(c,r):s.push(c))}n=s.pop()}return r}collides(e){let n=this.data;if(!n3(e,n))return!1;const r=[];for(;n;){for(let i=0;i<n.children.length;i++){const s=n.children[i],l=n.leaf?this.toBBox(s):s;if(n3(e,l)){if(n.leaf||KL(e,l))return!0;r.push(s)}}n=r.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let r=0;r<e.length;r++)this.insert(e[r]);return this}let n=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=Kb([]),this}remove(e,n){if(!e)return this;let r=this.data;const i=this.toBBox(e),s=[],l=[];let c,a,f;for(;r||s.length;){if(r||(r=s.pop(),a=s[s.length-1],c=l.pop(),f=!0),r.leaf){const A=Eit(e,r.children,n);if(A!==-1)return r.children.splice(A,1),s.push(r),this._condense(s),this}!f&&!r.leaf&&KL(r,i)?(s.push(r),l.push(c),c=0,a=r,r=r.children[0]):a?(c++,r=a.children[c],f=!1):r=null}return this}toBBox(e){return e}compareMinX(e,n){return e.minX-n.minX}compareMinY(e,n){return e.minY-n.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,n){const r=[];for(;e;)e.leaf?n.push(...e.children):r.push(...e.children),e=r.pop();return n}_build(e,n,r,i){const s=r-n+1;let l=this._maxEntries,c;if(s<=l)return c=Kb(e.slice(n,r+1)),bb(c,this.toBBox),c;i||(i=Math.ceil(Math.log(s)/Math.log(l)),l=Math.ceil(s/Math.pow(l,i-1))),c=Kb([]),c.leaf=!1,c.height=i;const a=Math.ceil(s/l),f=a*Math.ceil(Math.sqrt(l));GW(e,n,r,f,this.compareMinX);for(let A=n;A<=r;A+=f){const m=Math.min(A+f-1,r);GW(e,A,m,a,this.compareMinY);for(let _=A;_<=m;_+=a){const y=Math.min(_+a-1,m);c.children.push(this._build(e,_,y,i-1))}}return bb(c,this.toBBox),c}_chooseSubtree(e,n,r,i){for(;i.push(n),!(n.leaf||i.length-1===r);){let s=1/0,l=1/0,c;for(let a=0;a<n.children.length;a++){const f=n.children[a],A=GL(f),m=Bit(e,f)-A;m<l?(l=m,s=A<s?A:s,c=f):m===l&&A<s&&(s=A,c=f)}n=c||n.children[0]}return n}_insert(e,n,r){const i=r?e:this.toBBox(e),s=[],l=this._chooseSubtree(i,this.data,n,s);for(l.children.push(e),m4(l,i);n>=0&&s[n].children.length>this._maxEntries;)this._split(s,n),n--;this._adjustParentBBoxes(i,s,n)}_split(e,n){const r=e[n],i=r.children.length,s=this._minEntries;this._chooseSplitAxis(r,s,i);const l=this._chooseSplitIndex(r,s,i),c=Kb(r.children.splice(l,r.children.length-l));c.height=r.height,c.leaf=r.leaf,bb(r,this.toBBox),bb(c,this.toBBox),n?e[n-1].children.push(c):this._splitRoot(r,c)}_splitRoot(e,n){this.data=Kb([e,n]),this.data.height=e.height+1,this.data.leaf=!1,bb(this.data,this.toBBox)}_chooseSplitIndex(e,n,r){let i,s=1/0,l=1/0;for(let c=n;c<=r-n;c++){const a=A4(e,0,c,this.toBBox),f=A4(e,c,r,this.toBBox),A=Mit(a,f),m=GL(a)+GL(f);A<s?(s=A,i=c,l=m<l?m:l):A===s&&m<l&&(l=m,i=c)}return i||r-n}_chooseSplitAxis(e,n,r){const i=e.leaf?this.compareMinX:Sit,s=e.leaf?this.compareMinY:Tit,l=this._allDistMargin(e,n,r,i),c=this._allDistMargin(e,n,r,s);l<c&&e.children.sort(i)}_allDistMargin(e,n,r,i){e.children.sort(i);const s=this.toBBox,l=A4(e,0,n,s),c=A4(e,r-n,r,s);let a=t3(l)+t3(c);for(let f=n;f<r-n;f++){const A=e.children[f];m4(l,e.leaf?s(A):A),a+=t3(l)}for(let f=r-n-1;f>=n;f--){const A=e.children[f];m4(c,e.leaf?s(A):A),a+=t3(c)}return a}_adjustParentBBoxes(e,n,r){for(let i=r;i>=0;i--)m4(n[i],e)}_condense(e){for(let n=e.length-1,r;n>=0;n--)e[n].children.length===0?n>0?(r=e[n-1].children,r.splice(r.indexOf(e[n]),1)):this.clear():bb(e[n],this.toBBox)}};function Eit(t,e,n){if(!n)return e.indexOf(t);for(let r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function bb(t,e){A4(t,0,t.children.length,e,t)}function A4(t,e,n,r,i){i||(i=Kb(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(let s=e;s<n;s++){const l=t.children[s];m4(i,t.leaf?r(l):l)}return i}function m4(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function Sit(t,e){return t.minX-e.minX}function Tit(t,e){return t.minY-e.minY}function GL(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function t3(t){return t.maxX-t.minX+(t.maxY-t.minY)}function Bit(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function Mit(t,e){const n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),s=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,s-r)}function KL(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function n3(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function Kb(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function GW(t,e,n,r,i){const s=[e,n];for(;s.length;){if(n=s.pop(),e=s.pop(),n-e<=r)continue;const l=e+Math.ceil((n-e)/r/2)*r;xit(t,l,e,n,i),s.push(e,l,l,n)}}const za={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function KW(t){return t[0]>0&&t[1]>0}function Iit(t,e,n){return n===void 0&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function Rh(t,e){return Array.isArray(t)?t:(e===void 0?e=[t,t]:(e[0]=t,e[1]=t),e)}class IB{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=Rh(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new IB({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return As()}getImage(e){return As()}getHitDetectionImage(){return As()}getPixelRatio(e){return 1}getImageState(){return As()}getImageSize(){return As()}getOrigin(){return As()}getSize(){return As()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=Rh(e)}listenImageChange(e){As()}load(){As()}unlistenImageChange(e){As()}ready(){return Promise.resolve()}}const JC={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var tc={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"]};tc.whitepoint={2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}};tc.max=tc.whitepoint[2].D65;tc.rgb=function(t,e){e=e||tc.whitepoint[2].E;var n=t[0]/e[0],r=t[1]/e[1],i=t[2]/e[2],s,l,c;return s=n*3.240969941904521+r*-1.537383177570093+i*-.498610760293,l=n*-.96924363628087+r*1.87596750150772+i*.041555057407175,c=n*.055630079696993+r*-.20397695888897+i*1.056971514242878,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s=s*12.92,l=l>.0031308?1.055*Math.pow(l,1/2.4)-.055:l=l*12.92,c=c>.0031308?1.055*Math.pow(c,1/2.4)-.055:c=c*12.92,s=Math.min(Math.max(0,s),1),l=Math.min(Math.max(0,l),1),c=Math.min(Math.max(0,c),1),[s*255,l*255,c*255]};JC.xyz=function(t,e){var n=t[0]/255,r=t[1]/255,i=t[2]/255;n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92;var s=n*.41239079926595+r*.35758433938387+i*.18048078840183,l=n*.21263900587151+r*.71516867876775+i*.072192315360733,c=n*.019330818715591+r*.11919477979462+i*.95053215224966;return e=e||tc.whitepoint[2].E,[s*e[0],l*e[1],c*e[2]]};const I7={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(t,e,n){var r,i,s,l,c,a,f,A,m,_,y,T,E;if(s=t[0],l=t[1],c=t[2],s===0)return[0,0,0];var P=.0011070564598794539;return e=e||"D65",n=n||2,m=tc.whitepoint[n][e][0],_=tc.whitepoint[n][e][1],y=tc.whitepoint[n][e][2],T=4*m/(m+15*_+3*y),E=9*_/(m+15*_+3*y),r=l/(13*s)+T||0,i=c/(13*s)+E||0,f=s>8?_*Math.pow((s+16)/116,3):_*s*P,a=f*9*r/(4*i)||0,A=f*(12-3*r-20*i)/(4*i)||0,[a,f,A]}};tc.luv=function(t,e,n){var r,i,s,l,c,a,f,A,m,_,y,T,E,P=.008856451679035631,I=903.2962962962961;e=e||"D65",n=n||2,m=tc.whitepoint[n][e][0],_=tc.whitepoint[n][e][1],y=tc.whitepoint[n][e][2],T=4*m/(m+15*_+3*y),E=9*_/(m+15*_+3*y),a=t[0],f=t[1],A=t[2],r=4*a/(a+15*f+3*A)||0,i=9*f/(a+15*f+3*A)||0;var F=f/_;return s=F<=P?I*F:116*Math.pow(F,1/3)-16,l=13*s*(r-T),c=13*s*(i-E),[s,l,c]};var Noe={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(t){var e=t[0],n=t[1],r=t[2],i,s,l;return l=r/360*2*Math.PI,i=n*Math.cos(l),s=n*Math.sin(l),[e,i,s]},xyz:function(t){return I7.xyz(Noe.luv(t))}};I7.lchuv=function(t){var e=t[0],n=t[1],r=t[2],i=Math.sqrt(n*n+r*r),s=Math.atan2(r,n),l=s*360/2/Math.PI;return l<0&&(l+=360),[e,i,l]};tc.lchuv=function(t){return I7.lchuv(tc.luv(t))};const WW={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var qW={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function Lit(t){var A,m;var e,n=[],r=1,i;if(typeof t=="number")return{space:"rgb",values:[t>>>16,(t&65280)>>>8,t&255],alpha:1};if(typeof t=="number")return{space:"rgb",values:[t>>>16,(t&65280)>>>8,t&255],alpha:1};if(t=String(t).toLowerCase(),WW[t])n=WW[t].slice(),i="rgb";else if(t==="transparent")r=0,i="rgb",n=[0,0,0];else if(t[0]==="#"){var s=t.slice(1),l=s.length,c=l<=4;r=1,c?(n=[parseInt(s[0]+s[0],16),parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16)],l===4&&(r=parseInt(s[3]+s[3],16)/255)):(n=[parseInt(s[0]+s[1],16),parseInt(s[2]+s[3],16),parseInt(s[4]+s[5],16)],l===8&&(r=parseInt(s[6]+s[7],16)/255)),n[0]||(n[0]=0),n[1]||(n[1]=0),n[2]||(n[2]=0),i="rgb"}else if(e=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(t)){var a=e[1];i=a.replace(/a$/,"");var f=i==="cmyk"?4:i==="gray"?1:3;n=e[2].trim().split(/\s*[,\/]\s*|\s+/),i==="color"&&(i=n.shift()),n=n.map(function(_,y){if(_[_.length-1]==="%")return _=parseFloat(_)/100,y===3?_:i==="rgb"?_*255:i[0]==="h"||i[0]==="l"&&!y?_*100:i==="lab"?_*125:i==="lch"?y<2?_*150:_*360:i[0]==="o"&&!y?_:i==="oklab"?_*.4:i==="oklch"?y<2?_*.4:_*360:_;if(i[y]==="h"||y===2&&i[i.length-1]==="h"){if(qW[_]!==void 0)return qW[_];if(_.endsWith("deg"))return parseFloat(_);if(_.endsWith("turn"))return parseFloat(_)*360;if(_.endsWith("grad"))return parseFloat(_)*360/400;if(_.endsWith("rad"))return parseFloat(_)*180/Math.PI}return _==="none"?0:parseFloat(_)}),r=n.length>f?n.pop():1}else/[0-9](?:\s|\/|,)/.test(t)&&(n=t.match(/([0-9]+)/g).map(function(_){return parseFloat(_)}),i=((m=(A=t.match(/([a-z])/ig))==null?void 0:A.join(""))==null?void 0:m.toLowerCase())||"rgb");return{space:i,values:n,alpha:r}}const WL={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(t){var e=t[0]/360,n=t[1]/100,r=t[2]/100,i,s,l,c,a,f=0;if(n===0)return a=r*255,[a,a,a];for(s=r<.5?r*(1+n):r+n-r*n,i=2*r-s,c=[0,0,0];f<3;)l=e+1/3*-(f-1),l<0?l++:l>1&&l--,a=6*l<1?i+(s-i)*6*l:2*l<1?s:3*l<2?i+(s-i)*(2/3-l)*6:i,c[f++]=a*255;return c}};JC.hsl=function(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.min(e,n,r),s=Math.max(e,n,r),l=s-i,c,a,f;return s===i?c=0:e===s?c=(n-r)/l:n===s?c=2+(r-e)/l:r===s&&(c=4+(e-n)/l),c=Math.min(c*60,360),c<0&&(c+=360),f=(i+s)/2,s===i?a=0:f<=.5?a=l/(s+i):a=l/(2-s-i),[c,a*100,f*100]};function Pit(t){Array.isArray(t)&&t.raw&&(t=String.raw(...arguments)),t instanceof Number&&(t=+t);var e,n=Lit(t);if(!n.space)return[];const r=n.space[0]==="h"?WL.min:JC.min,i=n.space[0]==="h"?WL.max:JC.max;return e=Array(3),e[0]=Math.min(Math.max(n.values[0],r[0]),i[0]),e[1]=Math.min(Math.max(n.values[1],r[1]),i[1]),e[2]=Math.min(Math.max(n.values[2],r[2]),i[2]),n.space[0]==="h"&&(e=WL.rgb(e)),e.push(Math.min(Math.max(n.alpha,0),1)),e}function Z4(t){return typeof t=="string"?t:P7(t)}const Fit=1024,Kx={};let qL=0;function kit(t){if(t.length===4)return t;const e=t.slice();return e[3]=1,e}function YW(t){const e=tc.lchuv(JC.xyz(t));return e[3]=t[3],e}function Rit(t){const e=tc.rgb(Noe.xyz(t));return e[3]=t[3],e}function L7(t){if(Kx.hasOwnProperty(t))return Kx[t];if(qL>=Fit){let n=0;for(const r in Kx)n++&3||(delete Kx[r],--qL)}const e=Pit(t);if(e.length!==4)throw new Error('Failed to parse "'+t+'" as color');for(const n of e)if(isNaN(n))throw new Error('Failed to parse "'+t+'" as color');return Uoe(e),Kx[t]=e,++qL,e}function bm(t){return Array.isArray(t)?t:L7(t)}function Uoe(t){return t[0]=Ll(t[0]+.5|0,0,255),t[1]=Ll(t[1]+.5|0,0,255),t[2]=Ll(t[2]+.5|0,0,255),t[3]=Ll(t[3],0,1),t}function P7(t){let e=t[0];e!=(e|0)&&(e=e+.5|0);let n=t[1];n!=(n|0)&&(n=n+.5|0);let r=t[2];r!=(r|0)&&(r=r+.5|0);const i=t[3]===void 0?1:Math.round(t[3]*1e3)/1e3;return"rgba("+e+","+n+","+r+","+i+")"}function Oit(t){try{return L7(t),!0}catch{return!1}}const r1=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",Dit=r1.includes("firefox"),Nit=r1.includes("safari")&&!r1.includes("chrom"),Uit=Nit&&(r1.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(r1)),zit=r1.includes("webkit")&&!r1.includes("edge"),zoe=r1.includes("macintosh"),$oe=typeof devicePixelRatio<"u"?devicePixelRatio:1,Voe=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,Hoe=typeof Image<"u"&&Image.prototype.decode,Qoe=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return t}();function $u(t,e,n,r){let i;return n&&n.length?i=n.shift():Voe?i=new OffscreenCanvas(t||300,e||300):i=document.createElement("canvas"),t&&(i.width=t),e&&(i.height=e),i.getContext("2d",r)}let YL;function IR(){return YL||(YL=$u(1,1)),YL}function LB(t){const e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function XW(t,e){const n=e.parentNode;n&&n.replaceChild(t,e)}function LR(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function $it(t){for(;t.lastChild;)t.removeChild(t.lastChild)}function Vit(t,e){const n=t.childNodes;for(let r=0;;++r){const i=n[r],s=e[r];if(!i&&!s)break;if(i!==s){if(!i){t.appendChild(s);continue}if(!s){t.removeChild(i),--r;continue}t.insertBefore(s,i)}}}function Hit(t,e,n){const r=t;let i=!0,s=!1,l=!1;const c=[RT(r,Fa.LOAD,function(){l=!0,s||e()})];return r.src&&Hoe?(s=!0,r.decode().then(function(){i&&e()}).catch(function(a){i&&(l?e():n())})):c.push(RT(r,Fa.ERROR,n)),function(){i=!1,c.forEach(xo)}}function Qit(t,e){return new Promise((n,r)=>{function i(){l(),n(t)}function s(){l(),r(new Error("Image load error"))}function l(){t.removeEventListener("load",i),t.removeEventListener("error",s)}t.addEventListener("load",i),t.addEventListener("error",s)})}function jit(t,e){return e&&(t.src=e),t.src&&Hoe?new Promise((n,r)=>t.decode().then(()=>n(t)).catch(i=>t.complete&&t.width?n(t):r(i))):Qit(t)}class Git{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const n in this.cache_){const r=this.cache_[n];!(e++&3)&&!r.hasListener()&&(delete this.cache_[n],delete this.patternCache_[n],--this.cacheSize_)}}}get(e,n,r){const i=XL(e,n,r);return i in this.cache_?this.cache_[i]:null}getPattern(e,n,r){const i=XL(e,n,r);return i in this.patternCache_?this.patternCache_[i]:null}set(e,n,r,i,s){const l=XL(e,n,r),c=l in this.cache_;this.cache_[l]=i,s&&(i.getImageState()===za.IDLE&&i.load(),i.getImageState()===za.LOADING?i.ready().then(()=>{this.patternCache_[l]=IR().createPattern(i.getImage(1),"repeat")}):this.patternCache_[l]=IR().createPattern(i.getImage(1),"repeat")),c||++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function XL(t,e,n){const r=n?bm(n):"null";return e+":"+t+":"+r}const em=new Git;let Wx=null;class Kit extends bB{constructor(e,n,r,i,s){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=r,this.canvas_={},this.color_=s,this.imageState_=i===void 0?za.IDLE:i,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=n,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===za.LOADED){Wx||(Wx=$u(1,1,void 0,{willReadFrequently:!0})),Wx.drawImage(this.image_,0,0);try{Wx.getImageData(0,0,1,1),this.tainted_=!1}catch{Wx=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(Fa.CHANGE)}handleImageError_(){this.imageState_=za.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=za.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],n=this.size_[1],r=$u(e,n);r.fillRect(0,0,e,n),this.hitDetectionImage_=r.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===za.IDLE){this.image_||this.initializeImage_(),this.imageState_=za.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&jit(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==za.LOADED)return;const n=this.image_,r=document.createElement("canvas");r.width=Math.ceil(n.width*e),r.height=Math.ceil(n.height*e);const i=r.getContext("2d");i.scale(e,e),i.drawImage(n,0,0),i.globalCompositeOperation="multiply",i.fillStyle=Z4(this.color_),i.fillRect(0,0,r.width/e,r.height/e),i.globalCompositeOperation="destination-in",i.drawImage(n,0,0),this.canvas_[e]=r}ready(){return this.ready_||(this.ready_=new Promise(e=>{this.imageState_===za.LOADED||this.imageState_===za.ERROR?e():this.addEventListener(Fa.CHANGE,function n(){(this.imageState_===za.LOADED||this.imageState_===za.ERROR)&&(this.removeEventListener(Fa.CHANGE,n),e())})})),this.ready_}}function F7(t,e,n,r,i,s){let l=e===void 0?void 0:em.get(e,n,i);return l||(l=new Kit(t,t instanceof HTMLImageElement?t.src||void 0:e,n,r,i),em.set(e,n,i,l,s)),s&&l&&!em.getPattern(e,n,i)&&em.set(e,n,i,l,s),l}function tm(t){return t?Array.isArray(t)?P7(t):typeof t=="object"&&"src"in t?Wit(t):t:null}function Wit(t){if(!t.offset||!t.size)return em.getPattern(t.src,"anonymous",t.color);const e=t.src+":"+t.offset,n=em.getPattern(e,void 0,t.color);if(n)return n;const r=em.get(t.src,"anonymous",null);if(r.getImageState()!==za.LOADED)return null;const i=$u(t.size[0],t.size[1]);return i.drawImage(r.getImage(1),t.offset[0],t.offset[1],t.size[0],t.size[1],0,0,t.size[0],t.size[1]),F7(i.canvas,e,void 0,za.LOADED,t.color,!0),em.getPattern(e,void 0,t.color)}const r3="ol-hidden",PB="ol-unselectable",k7="ol-control",ZW="ol-collapsed",qit=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),JW=["style","variant","weight","size","lineHeight","family"],joe=function(t){const e=t.match(qit);if(!e)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let r=0,i=JW.length;r<i;++r){const s=e[r+1];s!==void 0&&(n[JW[r]]=s)}return n.families=n.family.split(/,\s?/),n},Goe="10px sans-serif",Lh="#000",A2="round",$g=[],Vg=0,m2="round",e6=10,t6="#000",n6="center",UT="middle",L_=[0,0,0,0],r6=1,Lg=new Of;let Wb=null,PR;const FR={},Yit=function(){const e="32px ",n=["monospace","serif"],r=n.length,i="wmytzilWMYTZIL@#/&?$%10";let s,l;function c(f,A,m){let _=!0;for(let y=0;y<r;++y){const T=n[y];if(l=zT(f+" "+A+" "+e+T,i),m!=T){const E=zT(f+" "+A+" "+e+m+","+T,i);_=_&&E!=l}}return!!_}function a(){let f=!0;const A=Lg.getKeys();for(let m=0,_=A.length;m<_;++m){const y=A[m];Lg.get(y)<100&&(c.apply(this,y.split(`
`))?(O2(FR),Wb=null,PR=void 0,Lg.set(y,100)):(Lg.set(y,Lg.get(y)+1,!0),f=!1))}f&&(clearInterval(s),s=void 0)}return function(f){const A=joe(f);if(!A)return;const m=A.families;for(let _=0,y=m.length;_<y;++_){const T=m[_],E=A.style+`
`+A.weight+`
`+T;Lg.get(E)===void 0&&(Lg.set(E,100,!0),c(A.style,A.weight,T)||(Lg.set(E,0,!0),s===void 0&&(s=setInterval(a,32))))}}}(),Xit=function(){let t;return function(e){let n=FR[e];if(n==null){if(Voe){const r=joe(e),i=Koe(e,"g");n=(isNaN(Number(r.lineHeight))?1.2:Number(r.lineHeight))*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else t||(t=document.createElement("div"),t.innerHTML="M",t.style.minHeight="0",t.style.maxHeight="none",t.style.height="auto",t.style.padding="0",t.style.border="none",t.style.position="absolute",t.style.display="block",t.style.left="-99999px"),t.style.font=e,document.body.appendChild(t),n=t.offsetHeight,document.body.removeChild(t);FR[e]=n}return n}}();function Koe(t,e){return Wb||(Wb=$u(1,1)),t!=PR&&(Wb.font=t,PR=Wb.font),Wb.measureText(e)}function zT(t,e){return Koe(t,e).width}function eq(t,e,n){if(e in n)return n[e];const r=e.split(`
`).reduce((i,s)=>Math.max(i,zT(t,s)),0);return n[e]=r,r}function Zit(t,e){const n=[],r=[],i=[];let s=0,l=0,c=0,a=0;for(let f=0,A=e.length;f<=A;f+=2){const m=e[f];if(m===`
`||f===A){s=Math.max(s,l),i.push(l),l=0,c+=a;continue}const _=e[f+1]||t.font,y=zT(_,m);n.push(y),l+=y;const T=Xit(_);r.push(T),a=Math.max(a,T)}return{width:s,height:c,widths:n,heights:r,lineWidths:i}}function Jit(t,e,n,r,i,s,l,c,a,f,A){t.save(),n!==1&&(t.globalAlpha===void 0?t.globalAlpha=m=>m.globalAlpha*=n:t.globalAlpha*=n),e&&t.transform.apply(t,e),r.contextInstructions?(t.translate(a,f),t.scale(A[0],A[1]),eat(r,t)):A[0]<0||A[1]<0?(t.translate(a,f),t.scale(A[0],A[1]),t.drawImage(r,i,s,l,c,0,0,l,c)):t.drawImage(r,i,s,l,c,a,f,l*A[0],c*A[1]),t.restore()}function eat(t,e){const n=t.contextInstructions;for(let r=0,i=n.length;r<i;r+=2)Array.isArray(n[r+1])?e[n[r]].apply(e,n[r+1]):e[n[r]]=n[r+1]}class G_ extends IB{constructor(e){super({opacity:1,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.canvases_,this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=e.radius,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?za.LOADING:za.LOADED,this.imageState_===za.LOADING&&this.ready().then(()=>this.imageState_=za.LOADED),this.render()}clone(){const e=this.getScale(),n=new G_({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){const e=this.size_,n=this.getDisplacement(),r=this.getScaleArray();return[e[0]/2-n[0]/r[0],e[1]/2+n[1]/r[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){let n=this.canvases_[e];if(!n){const r=this.renderOptions_,i=$u(r.size*e,r.size*e);this.draw_(r,i,e),n=i.canvas,this.canvases_[e]=n}return n}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,n,r){if(n===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return n;let i=this.radius_,s=this.radius2_===void 0?i:this.radius2_;if(i<s){const Q=i;i=s,s=Q}const l=this.radius2_===void 0?this.points_:this.points_*2,c=2*Math.PI/l,a=s*Math.sin(c),f=Math.sqrt(s*s-a*a),A=i-f,m=Math.sqrt(a*a+A*A),_=m/a;if(e==="miter"&&_<=r)return _*n;const y=n/2/_,T=n/2*(A/m),P=Math.sqrt((i+y)*(i+y)+T*T)-i;if(this.radius2_===void 0||e==="bevel")return P*2;const I=i*Math.sin(c),F=Math.sqrt(i*i-I*I),R=s-F,z=Math.sqrt(I*I+R*R)/I;if(z<=r){const Q=z*n/2-s-i;return 2*Math.max(P,Q)}return P*2}createRenderOptions(){let e=A2,n=m2,r=0,i=null,s=0,l,c=0;this.stroke_&&(l=tm(this.stroke_.getColor()??t6),c=this.stroke_.getWidth()??r6,i=this.stroke_.getLineDash(),s=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??m2,e=this.stroke_.getLineCap()??A2,r=this.stroke_.getMiterLimit()??e6);const a=this.calculateLineJoinSize_(n,c,r),f=Math.max(this.radius_,this.radius2_||0),A=Math.ceil(2*f+a);return{strokeStyle:l,strokeWidth:c,size:A,lineCap:e,lineDash:i,lineDashOffset:s,lineJoin:n,miterLimit:r}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.canvases_={},this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,n,r){if(n.scale(r,r),n.translate(e.size/2,e.size/2),this.createPath_(n),this.fill_){let i=this.fill_.getColor();i===null&&(i=Lh),n.fillStyle=tm(i),n.fill()}e.strokeStyle&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineCap=e.lineCap,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}createHitDetectionCanvas_(e){let n;if(this.fill_){let r=this.fill_.getColor(),i=0;typeof r=="string"&&(r=bm(r)),r===null?i=1:Array.isArray(r)&&(i=r.length===4?r[3]:1),i===0&&(n=$u(e.size,e.size),this.drawHitDetectionCanvas_(e,n))}return n?n.canvas:this.getImage(1)}createPath_(e){let n=this.points_;const r=this.radius_;if(n===1/0)e.arc(0,0,r,0,2*Math.PI);else{const i=this.radius2_===void 0?r:this.radius2_;this.radius2_!==void 0&&(n*=2);const s=this.angle_-Math.PI/2,l=2*Math.PI/n;for(let c=0;c<n;c++){const a=s+c*l,f=c%2===0?r:i;e.lineTo(f*Math.cos(a),f*Math.sin(a))}e.closePath()}}drawHitDetectionCanvas_(e,n){n.translate(e.size/2,e.size/2),this.createPath_(n),n.fillStyle=Lh,n.fill(),e.strokeStyle&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class Y6 extends G_{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),n=new Y6({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(e){this.radius_=e,this.render()}}class wm{constructor(e){e=e||{},this.patternImage_=null,this.color_=null,e.color!==void 0&&this.setColor(e.color)}clone(){const e=this.getColor();return new wm({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){if(e!==null&&typeof e=="object"&&"src"in e){const n=F7(null,e.src,"anonymous",void 0,e.offset?null:e.color?e.color:null,!(e.offset&&e.size));n.ready().then(()=>{this.patternImage_=null}),n.getImageState()===za.IDLE&&n.load(),n.getImageState()===za.LOADING&&(this.patternImage_=n)}this.color_=e}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}class zd{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new zd({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}class Fc{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=tq,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new Fc({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(n){return n.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=tq,this.geometry_=e}setZIndex(e){this.zIndex_=e}}function tat(t){let e;if(typeof t=="function")e=t;else{let n;Array.isArray(t)?n=t:(Za(typeof t.getZIndex=="function","Expected an `Style` or an array of `Style`"),n=[t]),e=function(){return n}}return e}let ZL=null;function nat(t,e){if(!ZL){const n=new wm({color:"rgba(255,255,255,0.4)"}),r=new zd({color:"#3399CC",width:1.25});ZL=[new Fc({image:new Y6({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return ZL}function tq(t){return t.getGeometry()}function nq(t,e,n,r){return n!==void 0&&r!==void 0?[n/t,r/e]:n!==void 0?n/t:r!==void 0?r/e:1}class X6 extends IB{constructor(e){e=e||{};const n=e.opacity!==void 0?e.opacity:1,r=e.rotation!==void 0?e.rotation:0,i=e.scale!==void 0?e.scale:1,s=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:n,rotation:r,scale:i,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:s,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;const l=e.img!==void 0?e.img:null;let c=e.src;Za(!(c!==void 0&&l),"`image` and `src` cannot be provided at the same time"),(c===void 0||c.length===0)&&l&&(c=l.src||Bi(l)),Za(c!==void 0&&c.length>0,"A defined and non-empty `src` or `image` must be provided"),Za(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let a;if(e.src!==void 0?a=za.IDLE:l!==void 0&&(l instanceof HTMLImageElement?l.complete?a=l.src?za.LOADED:za.IDLE:a=za.LOADING:a=za.LOADED),this.color_=e.color!==void 0?bm(e.color):null,this.iconImage_=F7(l,c,this.crossOrigin_,a,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,e.width!==void 0||e.height!==void 0){let f,A;if(e.size)[f,A]=e.size;else{const m=this.getImage(1);if(m.width&&m.height)f=m.width,A=m.height;else if(m instanceof HTMLImageElement){this.initialOptions_=e;const _=()=>{if(this.unlistenImageChange(_),!this.initialOptions_)return;const y=this.iconImage_.getSize();this.setScale(nq(y[0],y[1],e.width,e.height))};this.listenImageChange(_);return}}f!==void 0&&this.setScale(nq(f,A,e.width,e.height))}}clone(){let e,n,r;return this.initialOptions_?(n=this.initialOptions_.width,r=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new X6({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:n,height:r,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const i=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!i)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=i[0]),this.anchorYUnits_=="fraction"&&(e[1]*=i[1])}if(this.anchorOrigin_!="top-left"){if(!i)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+i[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+i[1])}this.normalizedAnchor_=e}const n=this.getDisplacement(),r=this.getScaleArray();return[e[0]-n[0]/r[0],e[1]+n[1]/r[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){const n=this.getSize(),r=this.iconImage_.getSize();if(!n||!r)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=r[0]-n[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=r[1]-n[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const e=this.getScaleArray();if(this.size_)return this.size_[0]*e[0];if(this.iconImage_.getImageState()==za.LOADED)return this.iconImage_.getSize()[0]*e[0]}getHeight(){const e=this.getScaleArray();if(this.size_)return this.size_[1]*e[1];if(this.iconImage_.getImageState()==za.LOADED)return this.iconImage_.getSize()[1]*e[1]}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(Fa.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(Fa.CHANGE,e)}ready(){return this.iconImage_.ready()}}const rat="#333";class Hv{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=Rh(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new wm({color:rat}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new Hv({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=Rh(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}let $2=0;const xy=0,_o=1<<$2++,$r=1<<$2++,fu=1<<$2++,Ns=1<<$2++,Pl=1<<$2++,xc=Math.pow(2,$2)-1,Woe={[_o]:"boolean",[$r]:"number",[fu]:"string",[Ns]:"color",[Pl]:"number[]"},iat=Object.keys(Woe).map(Number).sort(om);function bu(t){const e=[];for(const n of iat)aat(t,n)&&e.push(Woe[n]);return e.length===0?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function aat(t,e){return(t&e)===e}function Hp(t,e){return!!(t&e)}function Z6(t,e){return t===e}class Iv{constructor(e,n){this.type=e,this.value=n}}class qoe{constructor(e,n,...r){this.type=e,this.operator=n,this.args=r}}function R7(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,style:{}}}function sat(t){switch(t){case"string":return fu;case"color":return Ns;case"number":return $r;case"boolean":return _o;case"number[]":return Pl;default:throw new Error(`Unrecognized type hint: ${t}`)}}function Es(t,e,n){switch(typeof t){case"boolean":return new Iv(_o,t);case"number":return new Iv($r,t);case"string":{let i=fu;return Oit(t)&&(i|=Ns),Z6(i&n,xy)||(i&=n),new Iv(i,t)}}if(!Array.isArray(t))throw new Error("Expression must be an array or a primitive value");if(t.length===0)throw new Error("Empty expression");if(typeof t[0]=="string")return vat(t,e,n);for(const i of t)if(typeof i!="number")throw new Error("Expected an array of numbers");let r=Pl;return(t.length===3||t.length===4)&&(r|=Ns),n&&(r&=n),new Iv(r,t)}const Fn={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string"},oat={[Fn.Get]:wa(([t,e])=>e!==void 0?sat(e.value):xc,Na(1,2),lat),[Fn.Var]:wa(([t])=>t.type,Na(1,1),uat),[Fn.Id]:wa($r|fu,qx,cat),[Fn.Concat]:wa(fu,Na(2,1/0),us(xc)),[Fn.GeometryType]:wa(fu,qx,hat),[Fn.Resolution]:wa($r,qx),[Fn.Zoom]:wa($r,qx),[Fn.Time]:wa($r,qx),[Fn.Any]:wa(_o,Na(2,1/0),us(_o)),[Fn.All]:wa(_o,Na(2,1/0),us(_o)),[Fn.Not]:wa(_o,Na(1,1),us(_o)),[Fn.Equal]:wa(_o,Na(2,2),us(xc),Z0),[Fn.NotEqual]:wa(_o,Na(2,2),us(xc),Z0),[Fn.GreaterThan]:wa(_o,Na(2,2),us(xc),Z0),[Fn.GreaterThanOrEqualTo]:wa(_o,Na(2,2),us(xc),Z0),[Fn.LessThan]:wa(_o,Na(2,2),us(xc),Z0),[Fn.LessThanOrEqualTo]:wa(_o,Na(2,2),us(xc),Z0),[Fn.Multiply]:wa(t=>{let e=$r|Ns;for(let n=0;n<t.length;n++)e&=t[n].type;return e},Na(2,1/0),us($r|Ns),Z0),[Fn.Coalesce]:wa(t=>{let e=xc;for(let n=1;n<t.length;n+=2)e&=t[n].type;return e&=t[t.length-1].type,e},Na(2,1/0),us(xc),Z0),[Fn.Divide]:wa($r,Na(2,2),us($r)),[Fn.Add]:wa($r,Na(2,1/0),us($r)),[Fn.Subtract]:wa($r,Na(2,2),us($r)),[Fn.Clamp]:wa($r,Na(3,3),us($r)),[Fn.Mod]:wa($r,Na(2,2),us($r)),[Fn.Pow]:wa($r,Na(2,2),us($r)),[Fn.Abs]:wa($r,Na(1,1),us($r)),[Fn.Floor]:wa($r,Na(1,1),us($r)),[Fn.Ceil]:wa($r,Na(1,1),us($r)),[Fn.Round]:wa($r,Na(1,1),us($r)),[Fn.Sin]:wa($r,Na(1,1),us($r)),[Fn.Cos]:wa($r,Na(1,1),us($r)),[Fn.Atan]:wa($r,Na(1,2),us($r)),[Fn.Sqrt]:wa($r,Na(1,1),us($r)),[Fn.Match]:wa(t=>{let e=xc;for(let n=2;n<t.length;n+=2)e&=t[n].type;return e&=t[t.length-1].type,e},Na(4,1/0),rq,fat),[Fn.Between]:wa(_o,Na(3,3),us($r)),[Fn.Interpolate]:wa(t=>{let e=Ns|$r;for(let n=3;n<t.length;n+=2)e&=t[n].type;return e},Na(6,1/0),rq,pat),[Fn.Case]:wa(t=>{let e=xc;for(let n=1;n<t.length;n+=2)e&=t[n].type;return e&=t[t.length-1].type,e},Na(3,1/0),dat,Aat),[Fn.In]:wa(_o,Na(2,2),mat),[Fn.Number]:wa($r,Na(1,1/0),us(xc)),[Fn.String]:wa(fu,Na(1,1/0),us(xc)),[Fn.Array]:wa(t=>t.length===3||t.length===4?Pl|Ns:Pl,Na(1,1/0),us($r)),[Fn.Color]:wa(Ns,Na(1,4),us($r)),[Fn.Band]:wa($r,Na(1,3),us($r)),[Fn.Palette]:wa(Ns,Na(2,2),gat),[Fn.ToString]:wa(fu,Na(1,1),us(_o|$r|fu|Ns))};function lat(t,e){const n=Es(t[1],e);if(!(n instanceof Iv))throw new Error("Expected a literal argument for get operation");if(typeof n.value!="string")throw new Error("Expected a string argument for get operation");if(e.properties.add(n.value),t.length===3){const r=Es(t[2],e);return[n,r]}return[n]}function uat(t,e,n,r){const i=t[1];if(typeof i!="string")throw new Error("Expected a string argument for var operation");if(e.variables.add(i),!("variables"in e.style)||e.style.variables[i]===void 0)return[new Iv(xc,i)];const s=e.style.variables[i],l=Es(s,e);if(l.value=i,r&&!Hp(r,l.type))throw new Error(`The variable ${i} has type ${bu(l.type)} but the following type was expected: ${bu(r)}`);return[l]}function cat(t,e){e.featureId=!0}function hat(t,e){e.geometryType=!0}function qx(t,e){const n=t[0];if(t.length!==1)throw new Error(`Expected no arguments for ${n} operation`);return[]}function Na(t,e){return function(n,r){const i=n[0],s=n.length-1;if(t===e){if(s!==t){const l=t===1?"":"s";throw new Error(`Expected ${t} argument${l} for ${i}, got ${s}`)}}else if(s<t||s>e){const l=e===1/0?`${t} or more`:`${t} to ${e}`;throw new Error(`Expected ${l} arguments for ${i}, got ${s}`)}}}function us(t){return function(e,n){const r=e[0],i=e.length-1,s=new Array(i);for(let l=0;l<i;++l){const c=Es(e[l+1],n);if(!Hp(t,c.type)){const a=bu(t),f=bu(c.type);throw new Error(`Unexpected type for argument ${l} of ${r} operation, got ${a} but expected ${f}`)}c.type&=t,s[l]=c}return s}}function Z0(t,e,n){const r=t[0],i=t.length-1;let s=xc;for(let c=0;c<n.length;++c)s&=n[c].type;if(s===xy)throw new Error(`No common type could be found for arguments of ${r} operation`);const l=new Array(i);for(let c=0;c<i;++c)l[c]=Es(t[c+1],e,s);return l}function dat(t,e){const n=t[0],r=t.length-1;if(r%2===0)throw new Error(`An odd amount of arguments was expected for operation ${n}, got ${JSON.stringify(r)} instead`)}function rq(t,e){const n=t[0],r=t.length-1;if(r%2===1)throw new Error(`An even amount of arguments was expected for operation ${n}, got ${JSON.stringify(r)} instead`)}function fat(t,e,n,r){const i=t.length-1;let l=Es(t[1],e).type;const c=Es(t[t.length-1],e);let a=r!==void 0?r&c.type:c.type;const f=new Array(i-2);for(let m=0;m<i-2;m+=2){const _=Es(t[m+2],e),y=Es(t[m+3],e);l&=_.type,a&=y.type,f[m]=_,f[m+1]=y}const A=fu|$r|_o;if(!Hp(A,l))throw new Error(`Expected an input of type ${bu(A)} for the interpolate operation, got ${bu(l)} instead`);if(Z6(a,xy))throw new Error("Could not find a common output type for the following match operation: "+JSON.stringify(t));for(let m=0;m<i-2;m+=2){const _=Es(t[m+2],e,l),y=Es(t[m+3],e,a);f[m]=_,f[m+1]=y}return[Es(t[1],e,l),...f,Es(t[t.length-1],e,a)]}function pat(t,e,n,r){const i=t[1];let s;switch(i[0]){case"linear":s=1;break;case"exponential":if(s=i[1],typeof s!="number")throw new Error(`Expected a number base for exponential interpolation, got ${JSON.stringify(s)} instead`);break;default:s=null}if(!s)throw new Error(`Invalid interpolation type: ${JSON.stringify(i)}`);s=Es(s,e);let l=Es(t[2],e);if(!Hp($r,l.type))throw new Error(`Expected an input of type number for the interpolate operation, got ${bu(l.type)} instead`);l=Es(t[2],e,$r);const c=new Array(t.length-3);for(let a=0;a<c.length;a+=2){let f=Es(t[a+3],e);if(!Hp($r,f.type))throw new Error(`Expected all stop input values in the interpolate operation to be of type number, got ${bu(f.type)} at position ${a+2} instead`);let A=Es(t[a+4],e);if(!Hp($r|Ns,A.type))throw new Error(`Expected all stop output values in the interpolate operation to be a number or color, got ${bu(A.type)} at position ${a+3} instead`);f=Es(t[a+3],e,$r),A=Es(t[a+4],e,$r|Ns),c[a]=f,c[a+1]=A}return[s,l,...c]}function Aat(t,e,n,r){const i=Es(t[t.length-1],e);let s=r!==void 0?r&i.type:i.type;const l=new Array(t.length-1);for(let c=0;c<l.length-1;c+=2){const a=Es(t[c+1],e),f=Es(t[c+2],e);if(!Hp(_o,a.type))throw new Error(`Expected all conditions in the case operation to be of type boolean, got ${bu(a.type)} at position ${c} instead`);s&=f.type,l[c]=a,l[c+1]=f}if(Z6(s,xy))throw new Error("Could not find a common output type for the following case operation: "+JSON.stringify(t));for(let c=0;c<l.length-1;c+=2)l[c+1]=Es(t[c+2],e,s);return l[l.length-1]=Es(t[t.length-1],e,s),l}function mat(t,e){let n=t[2];if(!Array.isArray(n))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');if(typeof n[0]=="string"){if(n[0]!=="literal")throw new Error('For the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions.');if(!Array.isArray(n[1]))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');n=n[1]}let r=fu|$r;const i=new Array(n.length);for(let l=0;l<i.length;l++){const c=Es(n[l],e);r&=c.type,i[l]=c}if(Z6(r,xy))throw new Error("Could not find a common type for the following in operation: "+JSON.stringify(t));return[Es(t[1],e,r),...i]}function gat(t,e){const n=Es(t[1],e,$r);if(n.type!==$r)throw new Error(`The first argument of palette must be an number, got ${bu(n.type)} instead`);const r=t[2];if(!Array.isArray(r))throw new Error("The second argument of palette must be an array");const i=new Array(r.length);for(let s=0;s<i.length;s++){const l=Es(r[s],e,Ns);if(!(l instanceof Iv))throw new Error(`The palette color at index ${s} must be a literal value`);if(!Hp(l.type,Ns))throw new Error(`The palette color at index ${s} should be of type color, got ${bu(l.type)} instead`);i[s]=l}return[n,...i]}function wa(t,...e){return function(n,r,i){const s=n[0];let l=[];for(let a=0;a<e.length;a++)l=e[a](n,r,l,i)||l;let c=typeof t=="function"?t(l):t;if(i!==void 0){if(!Hp(c,i))throw new Error(`The following expression was expected to return ${bu(i)}, but returns ${bu(c)} instead: ${JSON.stringify(n)}`);c&=i}if(c===xy)throw new Error(`No matching type was found for the following expression: ${JSON.stringify(n)}`);return new qoe(c,s,...l)}}function vat(t,e,n){const r=t[0],i=oat[r];if(!i)throw new Error(`Unknown operator: ${r}`);return i(t,e,n)}function O7(t){if(!t)return"";const e=t.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return O7(t.getGeometries()[0]);default:return""}}function Yoe(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function f0(t,e,n){const r=Es(t,n);if(!Hp(e,r.type)){const i=bu(e),s=bu(r.type);throw new Error(`Expected expression to be of type ${i}, got ${s}`)}return Yp(r)}function Yp(t,e){if(t instanceof Iv){if(t.type===Ns&&typeof t.value=="string"){const r=L7(t.value);return function(){return r}}return function(){return t.value}}const n=t.operator;switch(n){case Fn.Number:case Fn.String:case Fn.Coalesce:return _at(t);case Fn.Get:case Fn.Var:return yat(t);case Fn.Id:return r=>r.featureId;case Fn.GeometryType:return r=>r.geometryType;case Fn.Concat:{const r=t.args.map(i=>Yp(i));return i=>"".concat(...r.map(s=>s(i).toString()))}case Fn.Resolution:return r=>r.resolution;case Fn.Any:case Fn.All:case Fn.Between:case Fn.In:case Fn.Not:return wat(t);case Fn.Equal:case Fn.NotEqual:case Fn.LessThan:case Fn.LessThanOrEqualTo:case Fn.GreaterThan:case Fn.GreaterThanOrEqualTo:return bat(t);case Fn.Multiply:case Fn.Divide:case Fn.Add:case Fn.Subtract:case Fn.Clamp:case Fn.Mod:case Fn.Pow:case Fn.Abs:case Fn.Floor:case Fn.Ceil:case Fn.Round:case Fn.Sin:case Fn.Cos:case Fn.Atan:case Fn.Sqrt:return xat(t);case Fn.Case:return Cat(t);case Fn.Match:return Eat(t);case Fn.Interpolate:return Sat(t);case Fn.ToString:return Tat(t);default:throw new Error(`Unsupported operator ${n}`)}}function _at(t,e){const n=t.operator,r=t.args.length,i=new Array(r);for(let s=0;s<r;++s)i[s]=Yp(t.args[s]);switch(n){case Fn.Coalesce:return s=>{for(let l=0;l<r;++l){const c=i[l](s);if(typeof c<"u"&&c!==null)return c}throw new Error("Expected one of the values to be non-null")};case Fn.Number:case Fn.String:return s=>{for(let l=0;l<r;++l){const c=i[l](s);if(typeof c===n)return c}throw new Error(`Expected one of the values to be a ${n}`)};default:throw new Error(`Unsupported assertion operator ${n}`)}}function yat(t,e){const r=t.args[0].value;switch(t.operator){case Fn.Get:return i=>i.properties[r];case Fn.Var:return i=>i.variables[r];default:throw new Error(`Unsupported accessor operator ${t.operator}`)}}function bat(t,e){const n=t.operator,r=Yp(t.args[0]),i=Yp(t.args[1]);switch(n){case Fn.Equal:return s=>r(s)===i(s);case Fn.NotEqual:return s=>r(s)!==i(s);case Fn.LessThan:return s=>r(s)<i(s);case Fn.LessThanOrEqualTo:return s=>r(s)<=i(s);case Fn.GreaterThan:return s=>r(s)>i(s);case Fn.GreaterThanOrEqualTo:return s=>r(s)>=i(s);default:throw new Error(`Unsupported comparison operator ${n}`)}}function wat(t,e){const n=t.operator,r=t.args.length,i=new Array(r);for(let s=0;s<r;++s)i[s]=Yp(t.args[s]);switch(n){case Fn.Any:return s=>{for(let l=0;l<r;++l)if(i[l](s))return!0;return!1};case Fn.All:return s=>{for(let l=0;l<r;++l)if(!i[l](s))return!1;return!0};case Fn.Between:return s=>{const l=i[0](s),c=i[1](s),a=i[2](s);return l>=c&&l<=a};case Fn.In:return s=>{const l=i[0](s);for(let c=1;c<r;++c)if(l===i[c](s))return!0;return!1};case Fn.Not:return s=>!i[0](s);default:throw new Error(`Unsupported logical operator ${n}`)}}function xat(t,e){const n=t.operator,r=t.args.length,i=new Array(r);for(let s=0;s<r;++s)i[s]=Yp(t.args[s]);switch(n){case Fn.Multiply:return s=>{let l=1;for(let c=0;c<r;++c)l*=i[c](s);return l};case Fn.Divide:return s=>i[0](s)/i[1](s);case Fn.Add:return s=>{let l=0;for(let c=0;c<r;++c)l+=i[c](s);return l};case Fn.Subtract:return s=>i[0](s)-i[1](s);case Fn.Clamp:return s=>{const l=i[0](s),c=i[1](s);if(l<c)return c;const a=i[2](s);return l>a?a:l};case Fn.Mod:return s=>i[0](s)%i[1](s);case Fn.Pow:return s=>Math.pow(i[0](s),i[1](s));case Fn.Abs:return s=>Math.abs(i[0](s));case Fn.Floor:return s=>Math.floor(i[0](s));case Fn.Ceil:return s=>Math.ceil(i[0](s));case Fn.Round:return s=>Math.round(i[0](s));case Fn.Sin:return s=>Math.sin(i[0](s));case Fn.Cos:return s=>Math.cos(i[0](s));case Fn.Atan:return r===2?s=>Math.atan2(i[0](s),i[1](s)):s=>Math.atan(i[0](s));case Fn.Sqrt:return s=>Math.sqrt(i[0](s));default:throw new Error(`Unsupported numeric operator ${n}`)}}function Cat(t,e){const n=t.args.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=Yp(t.args[i]);return i=>{for(let s=0;s<n-1;s+=2)if(r[s](i))return r[s+1](i);return r[n-1](i)}}function Eat(t,e){const n=t.args.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=Yp(t.args[i]);return i=>{const s=r[0](i);for(let l=1;l<n;l+=2)if(s===r[l](i))return r[l+1](i);return r[n-1](i)}}function Sat(t,e){const n=t.args.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=Yp(t.args[i]);return i=>{const s=r[0](i),l=r[1](i);let c,a;for(let f=2;f<n;f+=2){const A=r[f](i);let m=r[f+1](i);const _=Array.isArray(m);if(_&&(m=kit(m)),A>=l)return f===2?m:_?Bat(s,l,c,a,A,m):g4(s,l,c,a,A,m);c=A,a=m}return a}}function Tat(t,e){const n=t.operator,r=t.args.length,i=new Array(r);for(let s=0;s<r;++s)i[s]=Yp(t.args[s]);switch(n){case Fn.ToString:return s=>{const l=i[0](s);return t.args[0].type===Ns?P7(l):l.toString()};default:throw new Error(`Unsupported convert operator ${n}`)}}function g4(t,e,n,r,i,s){const l=i-n;if(l===0)return r;const c=e-n,a=t===1?c/l:(Math.pow(t,c)-1)/(Math.pow(t,l)-1);return r+a*(s-r)}function Bat(t,e,n,r,i,s){if(i-n===0)return r;const c=YW(r),a=YW(s);let f=a[2]-c[2];f>180?f-=360:f<-180&&(f+=360);const A=[g4(t,e,n,c[0],i,a[0]),g4(t,e,n,c[1],i,a[1]),c[2]+g4(t,e,n,0,i,f),g4(t,e,n,r[3],i,s[3])];return Uoe(Rit(A))}function Mat(t){return!0}function Iat(t){const e=R7(),n=Lat(t,e),r=Yoe();return function(i,s){if(r.properties=i.getPropertiesInternal(),r.resolution=s,e.featureId){const l=i.getId();l!==void 0?r.featureId=l:r.featureId=null}return e.geometryType&&(r.geometryType=O7(i.getGeometry())),n(r)}}function iq(t){const e=R7(),n=t.length,r=new Array(n);for(let l=0;l<n;++l)r[l]=kR(t[l],e);const i=Yoe(),s=new Array(n);return function(l,c){if(i.properties=l.getPropertiesInternal(),i.resolution=c,e.featureId){const f=l.getId();f!==void 0?i.featureId=f:i.featureId=null}let a=0;for(let f=0;f<n;++f){const A=r[f](i);A&&(s[a]=A,a+=1)}return s.length=a,s}}function Lat(t,e){const n=t.length,r=new Array(n);for(let i=0;i<n;++i){const s=t[i],l="filter"in s?f0(s.filter,_o,e):Mat;let c;if(Array.isArray(s.style)){const a=s.style.length;c=new Array(a);for(let f=0;f<a;++f)c[f]=kR(s.style[f],e)}else c=[kR(s.style,e)];r[i]={filter:l,styles:c}}return function(i){const s=[];let l=!1;for(let c=0;c<n;++c){const a=r[c].filter;if(a(i)&&!(t[c].else&&l)){l=!0;for(const f of r[c].styles){const A=f(i);A&&s.push(A)}}}return s}}function kR(t,e){const n=i6(t,"",e),r=a6(t,"",e),i=Pat(t,e),s=Fat(t,e),l=Ph(t,"z-index",e);if(!n&&!r&&!i&&!s&&!p2(t))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(t));const c=new Fc;return function(a){let f=!0;if(n){const A=n(a);A&&(f=!1),c.setFill(A)}if(r){const A=r(a);A&&(f=!1),c.setStroke(A)}if(i){const A=i(a);A&&(f=!1),c.setText(A)}if(s){const A=s(a);A&&(f=!1),c.setImage(A)}return l&&c.setZIndex(l(a)),f?null:c}}function i6(t,e,n){let r;if(e+"fill-pattern-src"in t?r=Dat(t,e+"fill-",n):r=D7(t,e+"fill-color",n),!r)return null;const i=new wm;return function(s){const l=r(s);return l==="none"?null:(i.setColor(l),i)}}function a6(t,e,n){const r=Ph(t,e+"stroke-width",n),i=D7(t,e+"stroke-color",n);if(!r&&!i)return null;const s=kg(t,e+"stroke-line-cap",n),l=kg(t,e+"stroke-line-join",n),c=Xoe(t,e+"stroke-line-dash",n),a=Ph(t,e+"stroke-line-dash-offset",n),f=Ph(t,e+"stroke-miter-limit",n),A=new zd;return function(m){if(i){const _=i(m);if(_==="none")return null;A.setColor(_)}if(r&&A.setWidth(r(m)),s){const _=s(m);if(_!=="butt"&&_!=="round"&&_!=="square")throw new Error("Expected butt, round, or square line cap");A.setLineCap(_)}if(l){const _=l(m);if(_!=="bevel"&&_!=="round"&&_!=="miter")throw new Error("Expected bevel, round, or miter line join");A.setLineJoin(_)}return c&&A.setLineDash(c(m)),a&&A.setLineDashOffset(a(m)),f&&A.setMiterLimit(f(m)),A}}function Pat(t,e){const n="text-",r=kg(t,n+"value",e);if(!r)return null;const i=i6(t,n,e),s=i6(t,n+"background-",e),l=a6(t,n,e),c=a6(t,n+"background-",e),a=kg(t,n+"font",e),f=Ph(t,n+"max-angle",e),A=Ph(t,n+"offset-x",e),m=Ph(t,n+"offset-y",e),_=s6(t,n+"overflow",e),y=kg(t,n+"placement",e),T=Ph(t,n+"repeat",e),E=FB(t,n+"scale",e),P=s6(t,n+"rotate-with-view",e),I=Ph(t,n+"rotation",e),F=kg(t,n+"align",e),R=kg(t,n+"justify",e),N=kg(t,n+"baseline",e),z=Xoe(t,n+"padding",e),Q=kB(t,n+"declutter-mode"),j=new Hv({declutterMode:Q});return function(H){if(j.setText(r(H)),i&&j.setFill(i(H)),s&&j.setBackgroundFill(s(H)),l&&j.setStroke(l(H)),c&&j.setBackgroundStroke(c(H)),a&&j.setFont(a(H)),f&&j.setMaxAngle(f(H)),A&&j.setOffsetX(A(H)),m&&j.setOffsetY(m(H)),_&&j.setOverflow(_(H)),y){const K=y(H);if(K!=="point"&&K!=="line")throw new Error("Expected point or line for text-placement");j.setPlacement(K)}if(T&&j.setRepeat(T(H)),E&&j.setScale(E(H)),P&&j.setRotateWithView(P(H)),I&&j.setRotation(I(H)),F){const K=F(H);if(K!=="left"&&K!=="center"&&K!=="right"&&K!=="end"&&K!=="start")throw new Error("Expected left, right, center, start, or end for text-align");j.setTextAlign(K)}if(R){const K=R(H);if(K!=="left"&&K!=="right"&&K!=="center")throw new Error("Expected left, right, or center for text-justify");j.setJustify(K)}if(N){const K=N(H);if(K!=="bottom"&&K!=="top"&&K!=="middle"&&K!=="alphabetic"&&K!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");j.setTextBaseline(K)}return z&&j.setPadding(z(H)),j}}function Fat(t,e){return"icon-src"in t?kat(t,e):"shape-points"in t?Rat(t,e):"circle-radius"in t?Oat(t,e):null}function kat(t,e){const n="icon-",r=n+"src",i=Zoe(t[r],r),s=$T(t,n+"anchor",e),l=FB(t,n+"scale",e),c=Ph(t,n+"opacity",e),a=$T(t,n+"displacement",e),f=Ph(t,n+"rotation",e),A=s6(t,n+"rotate-with-view",e),m=sq(t,n+"anchor-origin"),_=oq(t,n+"anchor-x-units"),y=oq(t,n+"anchor-y-units"),T=$at(t,n+"color"),E=Uat(t,n+"cross-origin"),P=zat(t,n+"offset"),I=sq(t,n+"offset-origin"),F=VT(t,n+"width"),R=VT(t,n+"height"),N=Nat(t,n+"size"),z=kB(t,n+"declutter-mode"),Q=new X6({src:i,anchorOrigin:m,anchorXUnits:_,anchorYUnits:y,color:T,crossOrigin:E,offset:P,offsetOrigin:I,height:R,width:F,size:N,declutterMode:z});return function(j){return c&&Q.setOpacity(c(j)),a&&Q.setDisplacement(a(j)),f&&Q.setRotation(f(j)),A&&Q.setRotateWithView(A(j)),l&&Q.setScale(l(j)),s&&Q.setAnchor(s(j)),Q}}function Rat(t,e){const n="shape-",r=n+"points",i=n+"radius",s=RR(t[r],r),l=RR(t[i],i),c=i6(t,n,e),a=a6(t,n,e),f=FB(t,n+"scale",e),A=$T(t,n+"displacement",e),m=Ph(t,n+"rotation",e),_=s6(t,n+"rotate-with-view",e),y=VT(t,n+"radius2"),T=VT(t,n+"angle"),E=kB(t,n+"declutter-mode"),P=new G_({points:s,radius:l,radius2:y,angle:T,declutterMode:E});return function(I){return c&&P.setFill(c(I)),a&&P.setStroke(a(I)),A&&P.setDisplacement(A(I)),m&&P.setRotation(m(I)),_&&P.setRotateWithView(_(I)),f&&P.setScale(f(I)),P}}function Oat(t,e){const n="circle-",r=i6(t,n,e),i=a6(t,n,e),s=Ph(t,n+"radius",e),l=FB(t,n+"scale",e),c=$T(t,n+"displacement",e),a=Ph(t,n+"rotation",e),f=s6(t,n+"rotate-with-view",e),A=kB(t,n+"declutter-mode"),m=new Y6({radius:5,declutterMode:A});return function(_){return s&&m.setRadius(s(_)),r&&m.setFill(r(_)),i&&m.setStroke(i(_)),c&&m.setDisplacement(c(_)),a&&m.setRotation(a(_)),f&&m.setRotateWithView(f(_)),l&&m.setScale(l(_)),m}}function Ph(t,e,n){if(!(e in t))return;const r=f0(t[e],$r,n);return function(i){return RR(r(i),e)}}function kg(t,e,n){if(!(e in t))return null;const r=f0(t[e],fu,n);return function(i){return Zoe(r(i),e)}}function Dat(t,e,n){const r=kg(t,e+"pattern-src",n),i=aq(t,e+"pattern-offset",n),s=aq(t,e+"pattern-size",n),l=D7(t,e+"color",n);return function(c){return{src:r(c),offset:i&&i(c),size:s&&s(c),color:l&&l(c)}}}function s6(t,e,n){if(!(e in t))return null;const r=f0(t[e],_o,n);return function(i){const s=r(i);if(typeof s!="boolean")throw new Error(`Expected a boolean for ${e}`);return s}}function D7(t,e,n){if(!(e in t))return null;const r=f0(t[e],Ns|fu,n);return function(i){return Joe(r(i),e)}}function Xoe(t,e,n){if(!(e in t))return null;const r=f0(t[e],Pl,n);return function(i){return J6(r(i),e)}}function $T(t,e,n){if(!(e in t))return null;const r=f0(t[e],Pl,n);return function(i){const s=J6(r(i),e);if(s.length!==2)throw new Error(`Expected two numbers for ${e}`);return s}}function aq(t,e,n){if(!(e in t))return null;const r=f0(t[e],Pl,n);return function(i){return ele(r(i),e)}}function FB(t,e,n){if(!(e in t))return null;const r=f0(t[e],Pl|$r,n);return function(i){return Vat(r(i),e)}}function VT(t,e){const n=t[e];if(n!==void 0){if(typeof n!="number")throw new Error(`Expected a number for ${e}`);return n}}function Nat(t,e){const n=t[e];if(n!==void 0){if(typeof n=="number")return Rh(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${e}`);if(n.length!==2||typeof n[0]!="number"||typeof n[1]!="number")throw new Error(`Expected a number or size array for ${e}`);return n}}function Uat(t,e){const n=t[e];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);return n}}function sq(t,e){const n=t[e];if(n!==void 0){if(n!=="bottom-left"&&n!=="bottom-right"&&n!=="top-left"&&n!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return n}}function oq(t,e){const n=t[e];if(n!==void 0){if(n!=="pixels"&&n!=="fraction")throw new Error(`Expected pixels or fraction for ${e}`);return n}}function zat(t,e){const n=t[e];if(n!==void 0)return J6(n,e)}function kB(t,e){const n=t[e];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);if(n!=="declutter"&&n!=="obstacle"&&n!=="none")throw new Error(`Expected declutter, obstacle, or none for ${e}`);return n}}function $at(t,e){const n=t[e];if(n!==void 0)return Joe(n,e)}function J6(t,e){if(!Array.isArray(t))throw new Error(`Expected an array for ${e}`);const n=t.length;for(let r=0;r<n;++r)if(typeof t[r]!="number")throw new Error(`Expected an array of numbers for ${e}`);return t}function Zoe(t,e){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);return t}function RR(t,e){if(typeof t!="number")throw new Error(`Expected a number for ${e}`);return t}function Joe(t,e){if(typeof t=="string")return t;const n=J6(t,e),r=n.length;if(r<3||r>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return n}function ele(t,e){const n=J6(t,e);if(n.length!==2)throw new Error(`Expected an array of two numbers for ${e}`);return n}function Vat(t,e){return typeof t=="number"?t:ele(t,e)}const lq={RENDER_ORDER:"renderOrder"};class V2 extends wy{constructor(e){e=e||{};const n=Object.assign({},e);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=e.declutter?String(e.declutter):void 0,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(lq.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e,n){const r=this.getDeclutter();r in e.declutter||(e.declutter[r]=new Doe(9)),this.getRenderer().renderDeclutter(e,n)}setRenderOrder(e){this.set(lq.RENDER_ORDER,e)}setStyle(e){this.style_=Hat(e),this.styleFunction_=e===null?void 0:tat(this.style_),this.changed()}}function Hat(t){if(t===void 0)return nat;if(!t)return null;if(typeof t=="function"||t instanceof Fc)return t;if(!Array.isArray(t))return iq([t]);if(t.length===0)return[];const e=t.length,n=t[0];if(n instanceof Fc){const i=new Array(e);for(let s=0;s<e;++s){const l=t[s];if(!(l instanceof Fc))throw new Error("Expected a list of style instances");i[s]=l}return i}if("style"in n){const i=new Array(e);for(let s=0;s<e;++s){const l=t[s];if(!("style"in l))throw new Error("Expected a list of rules with a style property");i[s]=l}return Iat(i)}return iq(t)}class Qat extends _B{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,n){As()}calculateMatrices2D(e){const n=e.viewState,r=e.coordinateToPixelTransform,i=e.pixelToCoordinateTransform;Vh(r,e.size[0]/2,e.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),e1(i,r)}forEachFeatureAtCoordinate(e,n,r,i,s,l,c,a){let f;const A=n.viewState;function m(N,z,Q,j){return s.call(l,z,N?Q:null,j)}const _=A.projection,y=c7(e.slice(),_),T=[[0,0]];if(_.canWrapX()&&i){const N=_.getExtent(),z=cs(N);T.push([-z,0],[z,0])}const E=n.layerStatesArray,P=E.length,I=[],F=[];for(let N=0;N<T.length;N++)for(let z=P-1;z>=0;--z){const Q=E[z],j=Q.layer;if(j.hasRenderer()&&M7(Q,A)&&c.call(a,j)){const H=j.getRenderer(),K=j.getSource();if(H&&K){const ie=K.getWrapX()?y:e,q=m.bind(null,Q.managed);F[0]=ie[0]+T[N][0],F[1]=ie[1]+T[N][1],f=H.forEachFeatureAtCoordinate(F,n,r,q,I)}if(f)return f}}if(I.length===0)return;const R=1/I.length;return I.forEach((N,z)=>N.distanceSq+=z*R),I.sort((N,z)=>N.distanceSq-z.distanceSq),I.some(N=>f=N.callback(N.feature,N.layer,N.geometry)),f}hasFeatureAtCoordinate(e,n,r,i,s,l){return this.forEachFeatureAtCoordinate(e,n,r,i,WC,this,s,l)!==void 0}getMap(){return this.map_}renderFrame(e){As()}scheduleExpireIconCache(e){em.canExpireCache()&&e.postRenderFunctions.push(jat)}}function jat(t,e){em.expire()}class J4 extends h0{constructor(e,n,r,i){super(e),this.inversePixelTransform=n,this.frameState=r,this.context=i}}class Gat extends Qat{constructor(e){super(e),this.fontChangeListenerKey_=$a(Lg,d2.PROPERTYCHANGE,e.redrawText.bind(e)),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=PB+" ol-layers";const r=e.getViewport();r.insertBefore(this.element_,r.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,n){const r=this.getMap();if(r.hasListener(e)){const i=new J4(e,void 0,n);r.dispatchEvent(i)}}disposeInternal(){xo(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(Uu.PRECOMPOSE,e);const n=e.layerStatesArray.sort(function(c,a){return c.zIndex-a.zIndex});n.some(c=>c.layer instanceof V2&&c.layer.getDeclutter())&&(e.declutter={});const i=e.viewState;this.children_.length=0;const s=[];let l=null;for(let c=0,a=n.length;c<a;++c){const f=n[c];e.layerIndex=c;const A=f.layer,m=A.getSourceState();if(!M7(f,i)||m!="ready"&&m!="undefined"){A.unrender();continue}const _=A.render(e,l);_&&(_!==l&&(this.children_.push(_),l=_),s.push(f))}this.declutter(e,s),Vit(this.element_,this.children_),this.dispatchRenderEvent(Uu.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,n){for(let r=n.length-1;r>=0;--r){const i=n[r],s=i.layer;s.getDeclutter()&&s.renderDeclutter(e,i)}n.forEach(r=>r.layer.renderDeferred(e))}}class _v extends h0{constructor(e,n){super(e),this.layer=n}}const JL={LAYERS:"layers"};class Cy extends C7{constructor(e){e=e||{};const n=Object.assign({},e);delete n.layers;let r=e.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(JL.LAYERS,this.handleLayersChanged_),r?Array.isArray(r)?r=new vf(r.slice(),{unique:!0}):Za(typeof r.getArray=="function","Expected `layers` to be an array or a `Collection`"):r=new vf(void 0,{unique:!0}),this.setLayers(r)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(xo),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push($a(e,Ih.ADD,this.handleLayersAdd_,this),$a(e,Ih.REMOVE,this.handleLayersRemove_,this));for(const r in this.listenerKeys_)this.listenerKeys_[r].forEach(xo);O2(this.listenerKeys_);const n=e.getArray();for(let r=0,i=n.length;r<i;r++){const s=n[r];this.registerLayerListeners_(s),this.dispatchEvent(new _v("addlayer",s))}this.changed()}registerLayerListeners_(e){const n=[$a(e,d2.PROPERTYCHANGE,this.handleLayerChange_,this),$a(e,Fa.CHANGE,this.handleLayerChange_,this)];e instanceof Cy&&n.push($a(e,"addlayer",this.handleLayerGroupAdd_,this),$a(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Bi(e)]=n}handleLayerGroupAdd_(e){this.dispatchEvent(new _v("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new _v("removelayer",e.layer))}handleLayersAdd_(e){const n=e.element;this.registerLayerListeners_(n),this.dispatchEvent(new _v("addlayer",n)),this.changed()}handleLayersRemove_(e){const n=e.element,r=Bi(n);this.listenerKeys_[r].forEach(xo),delete this.listenerKeys_[r],this.dispatchEvent(new _v("removelayer",n)),this.changed()}getLayers(){return this.get(JL.LAYERS)}setLayers(e){const n=this.getLayers();if(n){const r=n.getArray();for(let i=0,s=r.length;i<s;++i)this.dispatchEvent(new _v("removelayer",r[i]))}this.set(JL.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(n){n.getLayersArray(e)}),e}getLayerStatesArray(e){const n=e!==void 0?e:[],r=n.length;this.getLayers().forEach(function(l){l.getLayerStatesArray(n)});const i=this.getLayerState();let s=i.zIndex;!e&&i.zIndex===void 0&&(s=0);for(let l=r,c=n.length;l<c;l++){const a=n[l];a.opacity*=i.opacity,a.visible=a.visible&&i.visible,a.maxResolution=Math.min(a.maxResolution,i.maxResolution),a.minResolution=Math.max(a.minResolution,i.minResolution),a.minZoom=Math.max(a.minZoom,i.minZoom),a.maxZoom=Math.min(a.maxZoom,i.maxZoom),i.extent!==void 0&&(a.extent!==void 0?a.extent=H_(a.extent,i.extent):a.extent=i.extent),a.zIndex===void 0&&(a.zIndex=s)}return n}getSourceState(){return"ready"}}class qb extends h0{constructor(e,n,r){super(e),this.map=n,this.frameState=r!==void 0?r:null}}class cv extends qb{constructor(e,n,r,i,s,l){super(e,n,s),this.originalEvent=r,this.pixel_=null,this.coordinate_=null,this.dragging=i!==void 0?i:!1,this.activePointers=l}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const sl={SINGLECLICK:"singleclick",CLICK:Fa.CLICK,DBLCLICK:Fa.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},OR={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};class Kat extends bB{constructor(e,n){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;const r=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=r,this.pointerdownListenerKey_=$a(r,OR.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=$a(r,OR.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(Fa.TOUCHMOVE,this.boundHandleTouchMove_,Qoe?{passive:!1}:!1)}emulateClick_(e){let n=new cv(sl.CLICK,this.map_,e);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new cv(sl.DBLCLICK,this.map_,e),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const r=new cv(sl.SINGLECLICK,this.map_,e);this.dispatchEvent(r)},250)}updateActivePointers_(e){const n=e,r=n.pointerId;if(n.type==sl.POINTERUP||n.type==sl.POINTERCANCEL){delete this.trackedTouches_[r];for(const i in this.trackedTouches_)if(this.trackedTouches_[i].target!==n.target){delete this.trackedTouches_[i];break}}else(n.type==sl.POINTERDOWN||n.type==sl.POINTERMOVE)&&(this.trackedTouches_[r]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const n=new cv(sl.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(xo),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const n=new cv(sl.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){const r=this.map_.getOwnerDocument();this.dragListenerKeys_.push($a(r,sl.POINTERMOVE,this.handlePointerMove_,this),$a(r,sl.POINTERUP,this.handlePointerUp_,this),$a(this.element_,sl.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==r&&this.dragListenerKeys_.push($a(this.element_.getRootNode(),sl.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const n=new cv(sl.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const n=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new cv(sl.POINTERMOVE,this.map_,e,n))}handleTouchMove_(e){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(xo(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Fa.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(xo(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(xo),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const hv={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Cc={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},HT=1/0;class Wat{constructor(e,n){this.priorityFunction_=e,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,O2(this.queuedElements_)}dequeue(){const e=this.elements_,n=this.priorities_,r=e[0];e.length==1?(e.length=0,n.length=0):(e[0]=e.pop(),n[0]=n.pop(),this.siftUp_(0));const i=this.keyFunction_(r);return delete this.queuedElements_[i],r}enqueue(e){Za(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const n=this.priorityFunction_(e);return n!=HT?(this.elements_.push(e),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const n=this.elements_,r=this.priorities_,i=n.length,s=n[e],l=r[e],c=e;for(;e<i>>1;){const a=this.getLeftChildIndex_(e),f=this.getRightChildIndex_(e),A=f<i&&r[f]<r[a]?f:a;n[e]=n[A],r[e]=r[A],e=A}n[e]=s,r[e]=l,this.siftDown_(c,e)}siftDown_(e,n){const r=this.elements_,i=this.priorities_,s=r[n],l=i[n];for(;n>e;){const c=this.getParentIndex_(n);if(i[c]>l)r[n]=r[c],i[n]=i[c],n=c;else break}r[n]=s,i[n]=l}reprioritize(){const e=this.priorityFunction_,n=this.elements_,r=this.priorities_;let i=0;const s=n.length;let l,c,a;for(c=0;c<s;++c)l=n[c],a=e(l),a==HT?delete this.queuedElements_[this.keyFunction_(l)]:(r[i]=a,n[i++]=l);n.length=i,r.length=i,this.heapify_()}}const Vi={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class qat extends Wat{constructor(e,n){super(function(r){return e.apply(null,r)},function(r){return r[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const n=super.enqueue(e);return n&&e[0].addEventListener(Fa.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const n=e.target,r=n.getState();if(r===Vi.LOADED||r===Vi.ERROR||r===Vi.EMPTY){r!==Vi.ERROR&&n.removeEventListener(Fa.CHANGE,this.boundHandleTileChange_);const i=n.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,n){let r=0,i,s,l;for(;this.tilesLoading_<e&&r<n&&this.getCount()>0;)s=this.dequeue()[0],l=s.getKey(),i=s.getState(),i===Vi.IDLE&&!(l in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[l]=!0,++this.tilesLoading_,++r,s.load())}}function Yat(t,e,n,r,i){if(!t||!(n in t.wantedTiles)||!t.wantedTiles[n][e.getKey()])return HT;const s=t.viewState.center,l=r[0]-s[0],c=r[1]-s[1];return 65536*Math.log(i)+Math.sqrt(l*l+c*c)/i}let Df=class extends Of{constructor(e){super();const n=e.element;n&&!e.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){LR(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&LR(this.element);for(let n=0,r=this.listenerKeys.length;n<r;++n)xo(this.listenerKeys[n]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==f2&&this.listenerKeys.push($a(e,hv.POSTRENDER,this.render,this)),e.render())}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}};class Xat extends Df{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1);const n=e.className!==void 0?e.className:"ol-attribution",r=e.tipLabel!==void 0?e.tipLabel:"Attributions",i=e.expandClassName!==void 0?e.expandClassName:n+"-expand",s=e.collapseLabel!==void 0?e.collapseLabel:"",l=e.collapseClassName!==void 0?e.collapseClassName:n+"-collapse";typeof s=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s,this.collapseLabel_.className=l):this.collapseLabel_=s;const c=e.label!==void 0?e.label:"i";typeof c=="string"?(this.label_=document.createElement("span"),this.label_.textContent=c,this.label_.className=i):this.label_=c;const a=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=r,this.toggleButton_.appendChild(a),this.toggleButton_.addEventListener(Fa.CLICK,this.handleClick_.bind(this),!1);const f=n+" "+PB+" "+k7+(this.collapsed_&&this.collapsible_?" "+ZW:"")+(this.collapsible_?"":" ol-uncollapsible"),A=this.element;A.className=f,A.appendChild(this.toggleButton_),A.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const n=Array.from(new Set(this.getMap().getAllLayers().flatMap(i=>i.getAttributions(e)))),r=!this.getMap().getAllLayers().some(i=>i.getSource()&&i.getSource().getAttributionsCollapsible()===!1);return this.overrideCollapsible_||this.setCollapsible(r),n}async updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=await Promise.all(this.collectSourceAttributions_(e).map(i=>Art(()=>i))),r=n.length>0;if(this.renderedVisible_!=r&&(this.element.style.display=r?"":"none",this.renderedVisible_=r),!d0(n,this.renderedAttributions_)){$it(this.ulElement_);for(let i=0,s=n.length;i<s;++i){const l=document.createElement("li");l.innerHTML=n[i],this.ulElement_.appendChild(l)}this.renderedAttributions_=n}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(ZW),this.collapsed_?XW(this.collapseLabel_,this.label_):XW(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}let Zat=class extends Df{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const n=e.className!==void 0?e.className:"ol-rotate",r=e.label!==void 0?e.label:"",i=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof r=="string"?(this.label_=document.createElement("span"),this.label_.className=i,this.label_.textContent=r):(this.label_=r,this.label_.classList.add(i));const s=e.tipLabel?e.tipLabel:"Reset rotation",l=document.createElement("button");l.className=n+"-reset",l.setAttribute("type","button"),l.title=s,l.appendChild(this.label_),l.addEventListener(Fa.CLICK,this.handleClick_.bind(this),!1);const c=n+" "+PB+" "+k7,a=this.element;a.className=c,a.appendChild(l),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(r3)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const r=n.getRotation();r!==void 0&&(this.duration_>0&&r%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:z2}):n.setRotation(0))}render(e){const n=e.frameState;if(!n)return;const r=n.viewState.rotation;if(r!=this.rotation_){const i="rotate("+r+"rad)";if(this.autoHide_){const s=this.element.classList.contains(r3);!s&&r===0?this.element.classList.add(r3):s&&r!==0&&this.element.classList.remove(r3)}this.label_.style.transform=i}this.rotation_=r}};class Jat extends Df{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const n=e.className!==void 0?e.className:"ol-zoom",r=e.delta!==void 0?e.delta:1,i=e.zoomInClassName!==void 0?e.zoomInClassName:n+"-in",s=e.zoomOutClassName!==void 0?e.zoomOutClassName:n+"-out",l=e.zoomInLabel!==void 0?e.zoomInLabel:"+",c=e.zoomOutLabel!==void 0?e.zoomOutLabel:"",a=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",f=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",A=document.createElement("button");A.className=i,A.setAttribute("type","button"),A.title=a,A.appendChild(typeof l=="string"?document.createTextNode(l):l),A.addEventListener(Fa.CLICK,this.handleClick_.bind(this,r),!1);const m=document.createElement("button");m.className=s,m.setAttribute("type","button"),m.title=f,m.appendChild(typeof c=="string"?document.createTextNode(c):c),m.addEventListener(Fa.CLICK,this.handleClick_.bind(this,-r),!1);const _=n+" "+PB+" "+k7,y=this.element;y.className=_,y.appendChild(A),y.appendChild(m),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,n){n.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const r=this.getMap().getView();if(!r)return;const i=r.getZoom();if(i!==void 0){const s=r.getConstrainedZoom(i+e);this.duration_>0?(r.getAnimating()&&r.cancelAnimations(),r.animate({zoom:s,duration:this.duration_,easing:z2})):r.setZoom(s)}}}function est(t){t=t||{};const e=new vf;return(t.zoom!==void 0?t.zoom:!0)&&e.push(new Jat(t.zoomOptions)),(t.rotate!==void 0?t.rotate:!0)&&e.push(new Zat(t.rotateOptions)),(t.attribution!==void 0?t.attribution:!0)&&e.push(new Xat(t.attributionOptions)),e}const uq={ACTIVE:"active"};class e5 extends Of{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(uq.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(uq.ACTIVE,e)}setMap(e){this.map_=e}}function tst(t,e,n){const r=t.getCenterInternal();if(r){const i=[r[0]+e[0],r[1]+e[1]];t.animateInternal({duration:n!==void 0?n:250,easing:Roe,center:t.getConstrainedCenter(i)})}}function N7(t,e,n,r){const i=t.getZoom();if(i===void 0)return;const s=t.getConstrainedZoom(i+e),l=t.getResolutionForZoom(s);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:l,anchor:n,duration:r!==void 0?r:250,easing:z2})}class nst extends e5{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let n=!1;if(e.type==sl.DBLCLICK){const r=e.originalEvent,i=e.map,s=e.coordinate,l=r.shiftKey?-this.delta_:this.delta_,c=i.getView();N7(c,l,s,this.duration_),r.preventDefault(),n=!0}return!n}}class H2 extends e5{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==sl.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==sl.POINTERUP){const r=this.handleUpEvent(e);this.handlingDownUpSequence=r&&this.targetPointers.length>0}}else if(e.type==sl.POINTERDOWN){const r=this.handleDownEvent(e);this.handlingDownUpSequence=r,n=this.stopDown(r)}else e.type==sl.POINTERMOVE&&this.handleMoveEvent(e);return!n}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function U7(t){const e=t.length;let n=0,r=0;for(let i=0;i<e;i++)n+=t[i].clientX,r+=t[i].clientY;return{clientX:n/e,clientY:r/e}}function DR(t){const e=arguments;return function(n){let r=!0;for(let i=0,s=e.length;i<s&&(r=r&&e[i](n),!!r);++i);return r}}const rst=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},ist=function(t){const e=t.map.getTargetElement(),n=t.map.getOwnerDocument().activeElement;return e.contains(n)},tle=function(t){return t.map.getTargetElement().hasAttribute("tabindex")?ist(t):!0},ast=WC,nle=function(t){const e=t.originalEvent;return e.button==0&&!(zit&&zoe&&e.ctrlKey)},rle=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},sst=function(t){const e=t.originalEvent;return zoe?e.metaKey:e.ctrlKey},ost=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},ile=function(t){const e=t.originalEvent,n=e.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!e.target.isContentEditable},eP=function(t){const e=t.originalEvent;return Za(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.pointerType=="mouse"},lst=function(t){const e=t.originalEvent;return Za(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.isPrimary&&e.button===0};class ust extends H2{constructor(e){super({stopDown:yB}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const n=e.condition?e.condition:DR(rle,lst);this.condition_=e.onFocusOnly?DR(tle,n):n,this.noKinetic_=!1}handleDragEvent(e){const n=e.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const r=this.targetPointers,i=n.getEventPixel(U7(r));if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){const s=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],c=e.map.getView();Urt(s,c.getResolution()),u7(s,c.getRotation()),c.adjustCenterInternal(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=r.length,e.originalEvent.preventDefault()}handleUpEvent(e){const n=e.map,r=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const i=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),l=r.getCenterInternal(),c=n.getPixelFromCoordinateInternal(l),a=n.getCoordinateFromPixelInternal([c[0]-i*Math.cos(s),c[1]-i*Math.sin(s)]);r.animateInternal({center:r.getConstrainedCenter(a),duration:500,easing:z2})}return this.panning_&&(this.panning_=!1,r.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const r=e.map.getView();return this.lastCentroid=null,r.getAnimating()&&r.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class cst extends H2{constructor(e){e=e||{},super({stopDown:yB}),this.condition_=e.condition?e.condition:rst,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!eP(e))return;const n=e.map,r=n.getView();if(r.getConstraints().rotation===B7)return;const i=n.getSize(),s=e.pixel,l=Math.atan2(i[1]/2-s[1],s[0]-i[0]/2);if(this.lastAngle_!==void 0){const c=l-this.lastAngle_;r.adjustRotationInternal(-c)}this.lastAngle_=l}handleUpEvent(e){return eP(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return eP(e)&&nle(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class hst extends _B{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,n=this.endPixel_,r="px",i=this.element_.style;i.left=Math.min(e[0],n[0])+r,i.top=Math.min(e[1],n[1])+r,i.width=Math.abs(n[0]-e[0])+r,i.height=Math.abs(n[1]-e[1])+r}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,n){this.startPixel_=e,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const e=this.startPixel_,n=this.endPixel_,i=[e,[e[0],n[1]],n,[n[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new Pf([i])}getGeometry(){return this.geometry_}}const i3={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class tP extends h0{constructor(e,n,r){super(e),this.coordinate=n,this.mapBrowserEvent=r}}class dst extends H2{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.box_=new hst(e.className||"ol-dragbox"),this.minArea_=e.minArea!==void 0?e.minArea:64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition?e.condition:nle,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(e,n,r){const i=r[0]-n[0],s=r[1]-n[1];return i*i+s*s>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new tP(i3.BOXDRAG,e.coordinate,e))}handleUpEvent(e){this.box_.setMap(null);const n=this.boxEndCondition_(e,this.startPixel_,e.pixel);return n&&this.onBoxEnd(e),this.dispatchEvent(new tP(n?i3.BOXEND:i3.BOXCANCEL,e.coordinate,e)),!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new tP(i3.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}}class fst extends dst{constructor(e){e=e||{};const n=e.condition?e.condition:ost;super({condition:n,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const r=this.getMap().getView();let i=this.getGeometry();if(this.out_){const s=r.rotatedExtentForGeometry(i),l=r.getResolutionForExtentInternal(s),c=r.getResolution()/l;i=i.clone(),i.scale(c*c)}r.fitInternal(i,{duration:this.duration_,easing:z2})}}const i_={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class pst extends e5{constructor(e){super(),e=e||{},this.defaultCondition_=function(n){return rle(n)&&ile(n)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let n=!1;if(e.type==Fa.KEYDOWN){const r=e.originalEvent,i=r.key;if(this.condition_(e)&&(i==i_.DOWN||i==i_.LEFT||i==i_.RIGHT||i==i_.UP)){const l=e.map.getView(),c=l.getResolution()*this.pixelDelta_;let a=0,f=0;i==i_.DOWN?f=-c:i==i_.LEFT?a=-c:i==i_.RIGHT?a=c:f=c;const A=[a,f];u7(A,l.getRotation()),tst(l,A,this.duration_),r.preventDefault(),n=!0}}return!n}}class Ast extends e5{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(n){return!sst(n)&&ile(n)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let n=!1;if(e.type==Fa.KEYDOWN||e.type==Fa.KEYPRESS){const r=e.originalEvent,i=r.key;if(this.condition_(e)&&(i==="+"||i==="-")){const s=e.map,l=i==="+"?this.delta_:-this.delta_,c=s.getView();N7(c,l,void 0,this.duration_),r.preventDefault(),n=!0}}return!n}}class mst{constructor(e,n,r){this.decay_=e,this.minVelocity_=n,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,n){this.points_.push(e,n,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<e)return!1;let r=n-3;for(;r>0&&this.points_[r+2]>e;)r-=3;const i=this.points_[n+2]-this.points_[r+2];if(i<1e3/60)return!1;const s=this.points_[n]-this.points_[r],l=this.points_[n+1]-this.points_[r+1];return this.angle_=Math.atan2(l,s),this.initialVelocity_=Math.sqrt(s*s+l*l)/i,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}class gst extends e5{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const n=e.condition?e.condition:ast;this.condition_=e.onFocusOnly?DR(tle,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(e){if(!this.condition_(e)||e.type!==Fa.WHEEL)return!0;const r=e.map,i=e.originalEvent;i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate);let s;if(e.type==Fa.WHEEL&&(s=i.deltaY,Dit&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=$oe),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),s===0)return!1;this.lastDelta_=s;const l=Date.now();this.startTime_===void 0&&(this.startTime_=l),(!this.mode_||l-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?"trackpad":"wheel");const c=r.getView();if(this.mode_==="trackpad"&&!(c.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(c.getAnimating()&&c.cancelAnimations(),c.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),c.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=l,!1;this.totalDelta_+=s;const a=Math.max(this.timeout_-(l-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),a),!1}handleWheelZoom_(e){const n=e.getView();n.getAnimating()&&n.cancelAnimations();let r=-Ll(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(r=r?r>0?1:-1:0),N7(n,r,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}class vst extends H2{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=yB),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let n=0;const r=this.targetPointers[0],i=this.targetPointers[1],s=Math.atan2(i.clientY-r.clientY,i.clientX-r.clientX);if(this.lastAngle_!==void 0){const a=s-this.lastAngle_;this.rotationDelta_+=a,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=a}this.lastAngle_=s;const l=e.map,c=l.getView();c.getConstraints().rotation!==B7&&(this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(U7(this.targetPointers))),this.rotating_&&(l.render(),c.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}class _st extends H2{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=yB),super(n),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let n=1;const r=this.targetPointers[0],i=this.targetPointers[1],s=r.clientX-i.clientX,l=r.clientY-i.clientY,c=Math.sqrt(s*s+l*l);this.lastDistance_!==void 0&&(n=this.lastDistance_/c),this.lastDistance_=c;const a=e.map,f=a.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=a.getCoordinateFromPixelInternal(a.getEventPixel(U7(this.targetPointers))),a.render(),f.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const r=e.map.getView(),i=this.lastScaleDelta_>1?1:-1;return r.endInteraction(this.duration_,i),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}function yst(t){t=t||{};const e=new vf,n=new mst(-.005,.05,100);return(t.altShiftDragRotate!==void 0?t.altShiftDragRotate:!0)&&e.push(new cst),(t.doubleClickZoom!==void 0?t.doubleClickZoom:!0)&&e.push(new nst({delta:t.zoomDelta,duration:t.zoomDuration})),(t.dragPan!==void 0?t.dragPan:!0)&&e.push(new ust({onFocusOnly:t.onFocusOnly,kinetic:n})),(t.pinchRotate!==void 0?t.pinchRotate:!0)&&e.push(new vst),(t.pinchZoom!==void 0?t.pinchZoom:!0)&&e.push(new _st({duration:t.zoomDuration})),(t.keyboard!==void 0?t.keyboard:!0)&&(e.push(new pst),e.push(new Ast({delta:t.zoomDelta,duration:t.zoomDuration}))),(t.mouseWheelZoom!==void 0?t.mouseWheelZoom:!0)&&e.push(new gst({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(t.shiftDragZoom!==void 0?t.shiftDragZoom:!0)&&e.push(new fst({duration:t.zoomDuration})),e}function ale(t){if(t instanceof wy){t.setMapInternal(null);return}t instanceof Cy&&t.getLayers().forEach(ale)}function sle(t,e){if(t instanceof wy){t.setMapInternal(e);return}if(t instanceof Cy){const n=t.getLayers().getArray();for(let r=0,i=n.length;r<i;++r)sle(n[r],e)}}let ole=class extends Of{constructor(e){super(),e=e||{},this.on,this.once,this.un;const n=bst(e);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:$oe,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=zo(),this.pixelToCoordinateTransform_=zo(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||est(),this.interactions=n.interactions||yst({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new qat(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Cc.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Cc.VIEW,this.handleViewChanged_),this.addChangeListener(Cc.SIZE,this.handleSizeChanged_),this.addChangeListener(Cc.TARGET,this.handleTargetChanged_),this.setProperties(n.values);const r=this;e.view&&!(e.view instanceof YA)&&e.view.then(function(i){r.setView(new YA(i))}),this.controls.addEventListener(Ih.ADD,i=>{i.element.setMap(this)}),this.controls.addEventListener(Ih.REMOVE,i=>{i.element.setMap(null)}),this.interactions.addEventListener(Ih.ADD,i=>{i.element.setMap(this)}),this.interactions.addEventListener(Ih.REMOVE,i=>{i.element.setMap(null)}),this.overlays_.addEventListener(Ih.ADD,i=>{this.addOverlayInternal_(i.element)}),this.overlays_.addEventListener(Ih.REMOVE,i=>{const s=i.element.getId();s!==void 0&&delete this.overlayIdIndex_[s.toString()],i.element.setMap(null)}),this.controls.forEach(i=>{i.setMap(this)}),this.interactions.forEach(i=>{i.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){sle(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const n=e.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,n,r){if(!this.frameState_||!this.renderer_)return;const i=this.getCoordinateFromPixelInternal(e);r=r!==void 0?r:{};const s=r.hitTolerance!==void 0?r.hitTolerance:0,l=r.layerFilter!==void 0?r.layerFilter:WC,c=r.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,s,c,n,null,l,null)}getFeaturesAtPixel(e,n){const r=[];return this.forEachFeatureAtPixel(e,function(i){r.push(i)},n),r}getAllLayers(){const e=[];function n(r){r.forEach(function(i){i instanceof Cy?n(i.getLayers()):e.push(i)})}return n(this.getLayers()),e}hasFeatureAtPixel(e,n){if(!this.frameState_||!this.renderer_)return!1;const r=this.getCoordinateFromPixelInternal(e);n=n!==void 0?n:{};const i=n.layerFilter!==void 0?n.layerFilter:WC,s=n.hitTolerance!==void 0?n.hitTolerance:0,l=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(r,this.frameState_,s,l,i,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const r=this.viewport_.getBoundingClientRect(),i=this.getSize(),s=r.width/i[0],l=r.height/i[1],c="changedTouches"in e?e.changedTouches[0]:e;return[(c.clientX-r.left)/s,(c.clientY-r.top)/l]}getTarget(){return this.get(Cc.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return TR(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const n=this.frameState_;return n?Po(n.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const n=this.overlayIdIndex_[e.toString()];return n!==void 0?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Cc.LAYERGROUP)}setLayers(e){const n=this.getLayerGroup();if(e instanceof vf){n.setLayers(e);return}const r=n.getLayers();r.clear(),r.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,r=e.length;n<r;++n){const i=e[n];if(!i.visible)continue;const s=i.layer.getRenderer();if(s&&!s.ready)return!0;const l=i.layer.getSource();if(l&&l.loading)return!0}return!1}getPixelFromCoordinate(e){const n=Ig(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(e){const n=this.frameState_;return n?Po(n.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Cc.SIZE)}getView(){return this.get(Cc.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,n,r,i){return Yat(this.frameState_,e,n,r,i)}handleBrowserEvent(e,n){n=n||e.type;const r=new cv(n,this,e);this.handleMapBrowserEvent(r)}handleMapBrowserEvent(e){if(!this.frameState_)return;const n=e.originalEvent,r=n.type;if(r===OR.POINTERDOWN||r===Fa.WHEEL||r===Fa.KEYDOWN){const i=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():i,l=n.target;if(this.overlayContainerStopEvent_.contains(l)||!(s===i?i.documentElement:s).contains(l))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){const i=this.getInteractions().getArray().slice();for(let s=i.length-1;s>=0;s--){const l=i[s];if(l.getMap()!==this||!l.getActive()||!this.getTargetElement())continue;if(!l.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let i=this.maxTilesLoading_,s=i;if(e){const l=e.viewHints;if(l[Js.ANIMATING]||l[Js.INTERACTING]){const c=Date.now()-e.time>8;i=c?0:8,s=c?0:2}}n.getTilesLoading()<i&&(n.reprioritize(),n.loadMoreTiles(i,s))}e&&this.renderer_&&!e.animate&&(this.renderComplete_===!0?(this.hasListener(Uu.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(Uu.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new qb(hv.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new qb(hv.LOADSTART,this,e))));const r=this.postRenderFunctions_;for(let i=0,s=r.length;i<s;++i)r[i](this,e);r.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let r=0,i=this.targetChangeHandlerKeys_.length;r<i;++r)xo(this.targetChangeHandlerKeys_[r]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Fa.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Fa.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,LR(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const r=this.targetElement_.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.unobserve(r.host),this.setSize(void 0)}const e=this.getTarget(),n=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=n,!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new Gat(this)),this.mapBrowserEventHandler_=new Kat(this,this.moveTolerance_);for(const s in sl)this.mapBrowserEventHandler_.addEventListener(sl[s],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Fa.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Fa.WHEEL,this.boundHandleBrowserEvent_,Qoe?{passive:!1}:!1);const r=this.keyboardEventTarget_?this.keyboardEventTarget_:n;this.targetChangeHandlerKeys_=[$a(r,Fa.KEYDOWN,this.handleBrowserEvent,this),$a(r,Fa.KEYPRESS,this.handleBrowserEvent,this)];const i=n.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.observe(i.host),this.resizeObserver_.observe(n)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(xo(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(xo(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=$a(e,d2.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=$a(e,Fa.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(xo),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new _v("addlayer",e)),this.layerGroupPropertyListenerKeys_=[$a(e,d2.PROPERTYCHANGE,this.render,this),$a(e,Fa.CHANGE,this.render,this),$a(e,"addlayer",this.handleLayerAdd_,this),$a(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,r=e.length;n<r;++n){const i=e[n].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){ale(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const n=this.getSize(),r=this.getView(),i=this.frameState_;let s=null;if(n!==void 0&&KW(n)&&r&&r.isDef()){const l=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),c=r.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:xR(c.center,c.resolution,c.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:c,viewHints:l,wantedTiles:{},mapId:Bi(this),renderTargets:{}},c.nextCenter&&c.nextResolution){const a=isNaN(c.nextRotation)?c.rotation:c.nextRotation;s.nextExtent=xR(c.nextCenter,c.nextResolution,a,n)}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),i&&(!this.previousExtent_||!U2(this.previousExtent_)&&!n1(s.extent,this.previousExtent_))&&(this.dispatchEvent(new qb(hv.MOVESTART,this,i)),this.previousExtent_=W6(this.previousExtent_)),this.previousExtent_&&!s.viewHints[Js.ANIMATING]&&!s.viewHints[Js.INTERACTING]&&!n1(s.extent,this.previousExtent_)&&(this.dispatchEvent(new qb(hv.MOVEEND,this,s)),Aoe(s.extent,this.previousExtent_))),this.dispatchEvent(new qb(hv.POSTRENDER,this,s)),this.renderComplete_=this.hasListener(hv.LOADSTART)||this.hasListener(hv.LOADEND)||this.hasListener(Uu.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new _v("removelayer",n)),this.set(Cc.LAYERGROUP,e)}setSize(e){this.set(Cc.SIZE,e)}setTarget(e){this.set(Cc.TARGET,e)}setView(e){if(!e||e instanceof YA){this.set(Cc.VIEW,e);return}this.set(Cc.VIEW,new YA);const n=this;e.then(function(r){n.setView(new YA(r))})}updateSize(){const e=this.getTargetElement();let n;if(e){const i=getComputedStyle(e),s=e.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),l=e.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);!isNaN(s)&&!isNaN(l)&&(n=[s,l],!KW(n)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&boe("No map visible because the map container's width or height are 0."))}const r=this.getSize();n&&(!r||!d0(n,r))&&(this.setSize(n),this.updateViewportSize_(n))}updateViewportSize_(e){const n=this.getView();n&&n.setViewportSize(e)}};function bst(t){let e=null;t.keyboardEventTarget!==void 0&&(e=typeof t.keyboardEventTarget=="string"?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);const n={},r=t.layers&&typeof t.layers.getLayers=="function"?t.layers:new Cy({layers:t.layers});n[Cc.LAYERGROUP]=r,n[Cc.TARGET]=t.target,n[Cc.VIEW]=t.view instanceof YA?t.view:new YA;let i;t.controls!==void 0&&(Array.isArray(t.controls)?i=new vf(t.controls.slice()):(Za(typeof t.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),i=t.controls));let s;t.interactions!==void 0&&(Array.isArray(t.interactions)?s=new vf(t.interactions.slice()):(Za(typeof t.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),s=t.interactions));let l;return t.overlays!==void 0?Array.isArray(t.overlays)?l=new vf(t.overlays.slice()):(Za(typeof t.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),l=t.overlays):l=new vf,{controls:i,interactions:s,keyboardEventTarget:e,overlays:l,values:n}}class wst{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let n=this.oldest_;for(;n;)e(n.value_,n.key_,this),n=n.newer}get(e,n){const r=this.entries_[e];return Za(r!==void 0,"Tried to get a value for a key that does not exist in the cache"),r===this.newest_||(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r),r.value_}remove(e){const n=this.entries_[e];return Za(n!==void 0,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[e],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let n=0,r;for(r=this.newest_;r;r=r.older)e[n++]=r.key_;return e}getValues(){const e=new Array(this.count_);let n=0,r;for(r=this.newest_;r;r=r.older)e[n++]=r.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){var n;return(n=this.entries_[e])==null?void 0:n.value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,n){this.get(e),this.entries_[e].value_=n}set(e,n){Za(!(e in this.entries_),"Tried to set a value for a key that is used already");const r={key_:e,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[e]=r,++this.count_}setSize(e){this.highWaterMark=e}}class lle extends bB{constructor(e,n,r){super(),r=r||{},this.tileCoord=e,this.state=n,this.interimTile=null,this.key="",this.transition_=r.transition===void 0?250:r.transition,this.transitionStarts_={},this.interpolate=!!r.interpolate}changed(){this.dispatchEvent(Fa.CHANGE)}release(){this.state===Vi.ERROR&&this.setState(Vi.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){let e=this.interimTile;if(!e)return this;do{if(e.getState()==Vi.LOADED)return this.transition_=0,e;e=e.interimTile}while(e);return this}refreshInterimChain(){let e=this.interimTile;if(!e)return;let n=this;do{if(e.getState()==Vi.LOADED){e.interimTile=null;break}e.getState()==Vi.LOADING?n=e:e.getState()==Vi.IDLE?n.interimTile=e.interimTile:n=e,e=n.interimTile}while(e)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==Vi.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){As()}getAlpha(e,n){if(!this.transition_)return 1;let r=this.transitionStarts_[e];if(!r)r=n,this.transitionStarts_[e]=r;else if(r===-1)return 1;const i=n-r+1e3/60;return i>=this.transition_?1:koe(i/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}}class ule extends lle{constructor(e,n,r,i,s,l){super(e,n,l),this.crossOrigin_=i,this.src_=r,this.key=r,this.image_=new Image,i!==null&&(this.image_.crossOrigin=i),this.unlisten_=null,this.tileLoadFunction_=s}getImage(){return this.image_}setImage(e){this.image_=e,this.state=Vi.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=Vi.ERROR,this.unlistenImage_(),this.image_=xst(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=Vi.LOADED:this.state=Vi.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==Vi.ERROR&&(this.state=Vi.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==Vi.IDLE&&(this.state=Vi.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Hit(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function xst(){const t=$u(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}const Cst=.5,Est=10,cq=.25;class Sst{constructor(e,n,r,i,s,l){this.sourceProj_=e,this.targetProj_=n;let c={};const a=YC(this.targetProj_,this.sourceProj_);this.transformInv_=function(F){const R=F[0]+"/"+F[1];return c[R]||(c[R]=a(F)),c[R]},this.maxSourceExtent_=i,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&cs(i)>=cs(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?cs(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?cs(this.targetProj_.getExtent()):null;const f=g1(r),A=CB(r),m=xB(r),_=wB(r),y=this.transformInv_(f),T=this.transformInv_(A),E=this.transformInv_(m),P=this.transformInv_(_),I=Est+(l?Math.max(0,Math.ceil(Math.log2(wR(r)/(l*l*256*256)))):0);if(this.addQuad_(f,A,m,_,y,T,E,P,I),this.wrapsXInSource_){let F=1/0;this.triangles_.forEach(function(R,N,z){F=Math.min(F,R.source[0][0],R.source[1][0],R.source[2][0])}),this.triangles_.forEach(R=>{if(Math.max(R.source[0][0],R.source[1][0],R.source[2][0])-F>this.sourceWorldWidth_/2){const N=[[R.source[0][0],R.source[0][1]],[R.source[1][0],R.source[1][1]],[R.source[2][0],R.source[2][1]]];N[0][0]-F>this.sourceWorldWidth_/2&&(N[0][0]-=this.sourceWorldWidth_),N[1][0]-F>this.sourceWorldWidth_/2&&(N[1][0]-=this.sourceWorldWidth_),N[2][0]-F>this.sourceWorldWidth_/2&&(N[2][0]-=this.sourceWorldWidth_);const z=Math.min(N[0][0],N[1][0],N[2][0]);Math.max(N[0][0],N[1][0],N[2][0])-z<this.sourceWorldWidth_/2&&(R.source=N)}})}c={}}addTriangle_(e,n,r,i,s,l){this.triangles_.push({source:[i,s,l],target:[e,n,r]})}addQuad_(e,n,r,i,s,l,c,a,f){const A=OT([s,l,c,a]),m=this.sourceWorldWidth_?cs(A)/this.sourceWorldWidth_:null,_=this.sourceWorldWidth_,y=this.sourceProj_.canWrapX()&&m>.5&&m<1;let T=!1;if(f>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const P=OT([e,n,r,i]);T=cs(P)/this.targetWorldWidth_>cq||T}!y&&this.sourceProj_.isGlobal()&&m&&(T=m>cq||T)}if(!T&&this.maxSourceExtent_&&isFinite(A[0])&&isFinite(A[1])&&isFinite(A[2])&&isFinite(A[3])&&!tu(A,this.maxSourceExtent_))return;let E=0;if(!T&&(!isFinite(s[0])||!isFinite(s[1])||!isFinite(l[0])||!isFinite(l[1])||!isFinite(c[0])||!isFinite(c[1])||!isFinite(a[0])||!isFinite(a[1]))){if(f>0)T=!0;else if(E=(!isFinite(s[0])||!isFinite(s[1])?8:0)+(!isFinite(l[0])||!isFinite(l[1])?4:0)+(!isFinite(c[0])||!isFinite(c[1])?2:0)+(!isFinite(a[0])||!isFinite(a[1])?1:0),E!=1&&E!=2&&E!=4&&E!=8)return}if(f>0){if(!T){const P=[(e[0]+r[0])/2,(e[1]+r[1])/2],I=this.transformInv_(P);let F;y?F=(j_(s[0],_)+j_(c[0],_))/2-j_(I[0],_):F=(s[0]+c[0])/2-I[0];const R=(s[1]+c[1])/2-I[1];T=F*F+R*R>this.errorThresholdSquared_}if(T){if(Math.abs(e[0]-r[0])<=Math.abs(e[1]-r[1])){const P=[(n[0]+r[0])/2,(n[1]+r[1])/2],I=this.transformInv_(P),F=[(i[0]+e[0])/2,(i[1]+e[1])/2],R=this.transformInv_(F);this.addQuad_(e,n,P,F,s,l,I,R,f-1),this.addQuad_(F,P,r,i,R,I,c,a,f-1)}else{const P=[(e[0]+n[0])/2,(e[1]+n[1])/2],I=this.transformInv_(P),F=[(r[0]+i[0])/2,(r[1]+i[1])/2],R=this.transformInv_(F);this.addQuad_(e,P,F,i,s,I,R,a,f-1),this.addQuad_(P,n,r,F,I,l,c,R,f-1)}return}}if(y){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}E&11||this.addTriangle_(e,r,i,s,c,a),E&14||this.addTriangle_(e,r,n,s,c,l),E&&(E&13||this.addTriangle_(n,i,e,l,a,s),E&7||this.addTriangle_(n,i,r,l,a,c))}calculateSourceExtent(){const e=sc();return this.triangles_.forEach(function(n,r,i){const s=n.source;X4(e,s[0]),X4(e,s[1]),X4(e,s[2])}),e}getTriangles(){return this.triangles_}}let nP;const Iw=[];function hq(t,e,n,r,i){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(r,i),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,r)+1,Math.max(n,i)),t.restore()}function rP(t,e){return Math.abs(t[e*4]-210)>2||Math.abs(t[e*4+3]-.75*255)>2}function Tst(){if(nP===void 0){const t=$u(6,6,Iw);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",hq(t,4,5,4,0),hq(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;nP=rP(e,0)||rP(e,4)||rP(e,8),LB(t),Iw.push(t.canvas)}return nP}function NR(t,e,n,r){const i=Zg(n,e,t);let s=RW(e,r,n);const l=e.getMetersPerUnit();l!==void 0&&(s*=l);const c=t.getMetersPerUnit();c!==void 0&&(s/=c);const a=t.getExtent();if(!a||t1(a,i)){const f=RW(t,s,i)/s;isFinite(f)&&f>0&&(s/=f)}return s}function Bst(t,e,n,r){const i=qp(n);let s=NR(t,e,i,r);return(!isFinite(s)||s<=0)&&o7(n,function(l){return s=NR(t,e,l,r),isFinite(s)&&s>0}),s}function Mst(t,e,n,r,i,s,l,c,a,f,A,m,_,y){const T=$u(Math.round(n*t),Math.round(n*e),Iw);if(m||(T.imageSmoothingEnabled=!1),a.length===0)return T.canvas;T.scale(n,n);function E(z){return Math.round(z*n)/n}T.globalCompositeOperation="lighter";const P=sc();a.forEach(function(z,Q,j){FS(P,z.extent)});let I;const F=n/r,R=(m?1:1+Math.pow(2,-24))/F;if(!_||a.length!==1||f!==0){if(I=$u(Math.round(cs(P)*F),Math.round(vu(P)*F),Iw),m||(I.imageSmoothingEnabled=!1),i&&y){const z=(i[0]-P[0])*F,Q=-(i[3]-P[3])*F,j=cs(i)*F,H=vu(i)*F;I.rect(z,Q,j,H),I.clip()}a.forEach(function(z,Q,j){const H=(z.extent[0]-P[0])*F,K=-(z.extent[3]-P[3])*F,ie=cs(z.extent)*F,q=vu(z.extent)*F;z.image.width>0&&z.image.height>0&&I.drawImage(z.image,f,f,z.image.width-2*f,z.image.height-2*f,m?H:Math.round(H),m?K:Math.round(K),m?ie:Math.round(H+ie)-Math.round(H),m?q:Math.round(K+q)-Math.round(K))})}const N=g1(l);return c.getTriangles().forEach(function(z,Q,j){const H=z.source,K=z.target;let ie=H[0][0],q=H[0][1],W=H[1][0],ee=H[1][1],ue=H[2][0],J=H[2][1];const te=E((K[0][0]-N[0])/s),ne=E(-(K[0][1]-N[1])/s),he=E((K[1][0]-N[0])/s),ce=E(-(K[1][1]-N[1])/s),ye=E((K[2][0]-N[0])/s),Ee=E(-(K[2][1]-N[1])/s),se=ie,oe=q;ie=0,q=0,W-=se,ee-=oe,ue-=se,J-=oe;const _e=[[W,ee,0,0,he-te],[ue,J,0,0,ye-te],[0,0,W,ee,ce-ne],[0,0,ue,J,Ee-ne]],Ue=Drt(_e);if(!Ue)return;if(T.save(),T.beginPath(),Tst()||!m){T.moveTo(he,ce);const be=4,Re=te-he,Qe=ne-ce;for(let Je=0;Je<be;Je++)T.lineTo(he+E((Je+1)*Re/be),ce+E(Je*Qe/(be-1))),Je!=be-1&&T.lineTo(he+E((Je+1)*Re/be),ce+E((Je+1)*Qe/(be-1)));T.lineTo(ye,Ee)}else T.moveTo(he,ce),T.lineTo(te,ne),T.lineTo(ye,Ee);T.clip(),T.transform(Ue[0],Ue[2],Ue[1],Ue[3],te,ne),T.translate(P[0]-se,P[3]-oe);let Le;if(I)Le=I.canvas,T.scale(R,-R);else{const be=a[0],Re=be.extent;Le=be.image,T.scale(cs(Re)/Le.width,-vu(Re)/Le.height)}T.drawImage(Le,0,0),T.restore()}),I&&(LB(I),Iw.push(I.canvas)),A&&(T.save(),T.globalCompositeOperation="source-over",T.strokeStyle="black",T.lineWidth=1,c.getTriangles().forEach(function(z,Q,j){const H=z.target,K=(H[0][0]-N[0])/s,ie=-(H[0][1]-N[1])/s,q=(H[1][0]-N[0])/s,W=-(H[1][1]-N[1])/s,ee=(H[2][0]-N[0])/s,ue=-(H[2][1]-N[1])/s;T.beginPath(),T.moveTo(q,W),T.lineTo(K,ie),T.lineTo(ee,ue),T.closePath(),T.stroke()}),T.restore()),T.canvas}class UR extends lle{constructor(e,n,r,i,s,l,c,a,f,A,m,_){super(s,Vi.IDLE,_),this.renderEdges_=m!==void 0?m:!1,this.pixelRatio_=c,this.gutter_=a,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=i,this.wrappedTileCoord_=l||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const y=i.getTileCoordExtent(this.wrappedTileCoord_),T=this.targetTileGrid_.getExtent();let E=this.sourceTileGrid_.getExtent();const P=T?H_(y,T):y;if(wR(P)===0){this.state=Vi.EMPTY;return}const I=e.getExtent();I&&(E?E=H_(E,I):E=I);const F=i.getResolution(this.wrappedTileCoord_[0]),R=Bst(e,r,P,F);if(!isFinite(R)||R<=0){this.state=Vi.EMPTY;return}const N=A!==void 0?A:Cst;if(this.triangulation_=new Sst(e,r,P,E,R*N,F),this.triangulation_.getTriangles().length===0){this.state=Vi.EMPTY;return}this.sourceZ_=n.getZForResolution(R);let z=this.triangulation_.calculateSourceExtent();if(E&&(e.canWrapX()?(z[1]=Ll(z[1],E[1],E[3]),z[3]=Ll(z[3],E[1],E[3])):z=H_(z,E)),!wR(z))this.state=Vi.EMPTY;else{const Q=n.getTileRangeForExtentAndZ(z,this.sourceZ_);for(let j=Q.minX;j<=Q.maxX;j++)for(let H=Q.minY;H<=Q.maxY;H++){const K=f(this.sourceZ_,j,H,c);K&&this.sourceTiles_.push(K)}this.sourceTiles_.length===0&&(this.state=Vi.EMPTY)}}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(n=>{n&&n.getState()==Vi.LOADED&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(n.tileCoord),image:n.getImage()})}),this.sourceTiles_.length=0,e.length===0)this.state=Vi.ERROR;else{const n=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(n),i=typeof r=="number"?r:r[0],s=typeof r=="number"?r:r[1],l=this.targetTileGrid_.getResolution(n),c=this.sourceTileGrid_.getResolution(this.sourceZ_),a=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Mst(i,s,this.pixelRatio_,c,this.sourceTileGrid_.getExtent(),l,a,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=Vi.LOADED}this.changed()}load(){if(this.state==Vi.IDLE){this.state=Vi.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(n=>{const r=n.getState();if(r==Vi.IDLE||r==Vi.LOADING){e++;const i=$a(n,Fa.CHANGE,function(s){const l=n.getState();(l==Vi.LOADED||l==Vi.ERROR||l==Vi.EMPTY)&&(xo(i),e--,e===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(i)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(n,r,i){n.getState()==Vi.IDLE&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(xo),this.sourcesListenerKeys_=null}release(){this.canvas_&&(LB(this.canvas_.getContext("2d")),Iw.push(this.canvas_),this.canvas_=null),super.release()}}function dq(t,e,n,r){return r!==void 0?(r[0]=t,r[1]=e,r[2]=n,r):[t,e,n]}function RB(t,e,n){return t+"/"+e+"/"+n}function cle(t){return RB(t[0],t[1],t[2])}function Ist(t){return t.split("/").map(Number)}function hle(t){return(t[1]<<t[0])+t[2]}function Lst(t,e){const n=t[0],r=t[1],i=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;const s=e.getFullTileRange(n);return s?s.containsXY(r,i):!0}class dle extends wst{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()}pruneExceptNewestZ(){if(this.getCount()===0)return;const e=this.peekFirstKey(),r=Ist(e)[0];this.forEach(i=>{i.tileCoord[0]!==r&&(this.remove(cle(i.tileCoord)),i.release())})}}const iP={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class z7 extends Of{constructor(e){super(),this.projection=Lf(e.projection),this.attributions_=fq(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible!==void 0?e.attributionsCollapsible:!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(r,i){n.viewResolver=r,n.viewRejector=i})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=fq(e),this.changed()}setState(e){this.state_=e,this.changed()}}function fq(t){return t?Array.isArray(t)?function(e){return t}:typeof t=="function"?t:function(e){return[t]}:null}class $7{constructor(e,n,r,i){this.minX=e,this.maxX=n,this.minY=r,this.maxY=i}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,n){return this.minX<=e&&e<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function wb(t,e,n,r,i){return i!==void 0?(i.minX=t,i.maxX=e,i.minY=n,i.maxY=r,i):new $7(t,e,n,r)}const xb=[0,0,0],J0=5;class fle{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,Za(prt(this.resolutions_,(i,s)=>s-i),"`resolutions` must be sorted in descending order");let n;if(!e.origins){for(let i=0,s=this.resolutions_.length-1;i<s;++i)if(!n)n=this.resolutions_[i]/this.resolutions_[i+1];else if(this.resolutions_[i]/this.resolutions_[i+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,Za(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const r=e.extent;r!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=g1(r)),Za(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,Za(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:E7,Za(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=r!==void 0?r:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map((i,s)=>{const l=new $7(Math.min(0,i[0]),Math.max(i[0]-1,-1),Math.min(0,i[1]),Math.max(i[1]-1,-1));if(r){const c=this.getTileRangeForExtentAndZ(r,s);l.minX=Math.max(c.minX,l.minX),l.maxX=Math.min(c.maxX,l.maxX),l.minY=Math.max(c.minY,l.minY),l.maxY=Math.min(c.maxY,l.maxY)}return l}):r&&this.calculateTileRanges_(r)}forEachTileCoord(e,n,r){const i=this.getTileRangeForExtentAndZ(e,n);for(let s=i.minX,l=i.maxX;s<=l;++s)for(let c=i.minY,a=i.maxY;c<=a;++c)r([n,s,c])}forEachTileCoordParentTileRange(e,n,r,i){let s,l,c,a=null,f=e[0]-1;for(this.zoomFactor_===2?(l=e[1],c=e[2]):a=this.getTileCoordExtent(e,i);f>=this.minZoom;){if(l!==void 0&&c!==void 0?(l=Math.floor(l/2),c=Math.floor(c/2),s=wb(l,l,c,c,r)):s=this.getTileRangeForExtentAndZ(a,f,r),n(f,s))return!0;--f}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,n,r){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const s=e[1]*2,l=e[2]*2;return wb(s,s+1,l,l+1,n)}const i=this.getTileCoordExtent(e,r||this.tmpExtent_);return this.getTileRangeForExtentAndZ(i,e[0]+1,n)}return null}getTileRangeForTileCoordAndZ(e,n,r){if(n>this.maxZoom||n<this.minZoom)return null;const i=e[0],s=e[1],l=e[2];if(n===i)return wb(s,l,s,l,r);if(this.zoomFactor_){const a=Math.pow(this.zoomFactor_,n-i),f=Math.floor(s*a),A=Math.floor(l*a);if(n<i)return wb(f,f,A,A,r);const m=Math.floor(a*(s+1))-1,_=Math.floor(a*(l+1))-1;return wb(f,m,A,_,r)}const c=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(c,n,r)}getTileRangeForExtentAndZ(e,n,r){this.getTileCoordForXYAndZ_(e[0],e[3],n,!1,xb);const i=xb[1],s=xb[2];this.getTileCoordForXYAndZ_(e[2],e[1],n,!0,xb);const l=xb[1],c=xb[2];return wb(i,l,s,c,r)}getTileCoordCenter(e){const n=this.getOrigin(e[0]),r=this.getResolution(e[0]),i=Rh(this.getTileSize(e[0]),this.tmpSize_);return[n[0]+(e[1]+.5)*i[0]*r,n[1]-(e[2]+.5)*i[1]*r]}getTileCoordExtent(e,n){const r=this.getOrigin(e[0]),i=this.getResolution(e[0]),s=Rh(this.getTileSize(e[0]),this.tmpSize_),l=r[0]+e[1]*s[0]*i,c=r[1]-(e[2]+1)*s[1]*i,a=l+s[0]*i,f=c+s[1]*i;return ym(l,c,a,f,n)}getTileCoordForCoordAndResolution(e,n,r){return this.getTileCoordForXYAndResolution_(e[0],e[1],n,!1,r)}getTileCoordForXYAndResolution_(e,n,r,i,s){const l=this.getZForResolution(r),c=r/this.getResolution(l),a=this.getOrigin(l),f=Rh(this.getTileSize(l),this.tmpSize_);let A=c*(e-a[0])/r/f[0],m=c*(a[1]-n)/r/f[1];return i?(A=ZE(A,J0)-1,m=ZE(m,J0)-1):(A=XE(A,J0),m=XE(m,J0)),dq(l,A,m,s)}getTileCoordForXYAndZ_(e,n,r,i,s){const l=this.getOrigin(r),c=this.getResolution(r),a=Rh(this.getTileSize(r),this.tmpSize_);let f=(e-l[0])/c/a[0],A=(l[1]-n)/c/a[1];return i?(f=ZE(f,J0)-1,A=ZE(A,J0)-1):(f=XE(f,J0),A=XE(A,J0)),dq(r,f,A,s)}getTileCoordForCoordAndZ(e,n,r){return this.getTileCoordForXYAndZ_(e[0],e[1],n,!1,r)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,n){const r=t7(this.resolutions_,e,n||0);return Ll(r,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,n){return Ioe(n,0,n.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const n=this.resolutions_.length,r=new Array(n);for(let i=this.minZoom;i<n;++i)r[i]=this.getTileRangeForExtentAndZ(e,i);this.fullTileRanges_=r}}class pq extends fle{constructor(e){super({extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes}),this.matrixIds_=e.matrixIds}getMatrixId(e){return this.matrixIds_[e]}getMatrixIds(){return this.matrixIds_}}function ple(t){let e=t.getDefaultTileGrid();return e||(e=Rst(t),t.setDefaultTileGrid(e)),e}function Pst(t,e,n){const r=e[0],i=t.getTileCoordCenter(e),s=Ale(n);if(!t1(s,i)){const l=cs(s),c=Math.ceil((s[0]-i[0])/l);return i[0]+=l*c,t.getTileCoordForCoordAndZ(i,r)}return e}function Fst(t,e,n,r){r=r!==void 0?r:"top-left";const i=kst(t,e,n);return new fle({extent:t,origin:wrt(t,r),resolutions:i,tileSize:n})}function kst(t,e,n,r){e=e!==void 0?e:dit,n=Rh(n!==void 0?n:E7);const i=vu(t),s=cs(t);r=r>0?r:Math.max(s/n[0],i/n[1]);const l=e+1,c=new Array(l);for(let a=0;a<l;++a)c[a]=r/Math.pow(2,a);return c}function Rst(t,e,n,r){const i=Ale(t);return Fst(i,e,n,r)}function Ale(t){t=Lf(t);let e=t.getExtent();if(!e){const n=180*l7.degrees/t.getMetersPerUnit();e=ym(-n,-n,n,n)}return e}class mle extends z7{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.opaque_=e.opaque!==void 0?e.opaque:!1,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const n=[256,256];this.tileGrid&&Rh(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tileCache=new dle(e.cacheSize||0),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(e,n){const r=this.getTileCacheForProjection(e);r&&r.expireCache(n)}forEachLoadedTile(e,n,r,i){const s=this.getTileCacheForProjection(e);if(!s)return!1;let l=!0,c,a,f;for(let A=r.minX;A<=r.maxX;++A)for(let m=r.minY;m<=r.maxY;++m)a=RB(n,A,m),f=!1,s.containsKey(a)&&(c=s.get(a),f=c.getState()===Vi.LOADED,f&&(f=i(c)!==!1)),f||(l=!1);return l}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getOpaque(e){return this.opaque_}getResolutions(e){const n=e?this.getTileGridForProjection(e):this.tileGrid;return n?n.getResolutions():null}getTile(e,n,r,i,s){return As()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:ple(e)}getTileCacheForProjection(e){const n=this.getProjection();return Za(n===null||Gb(n,e),"A VectorTile source can only be rendered if it has a projection compatible with the view projection."),this.tileCache}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,n,r){const i=this.getTileGridForProjection(r),s=this.getTilePixelRatio(n),l=Rh(i.getTileSize(e),this.tmpSize);return s==1?l:Iit(l,s,this.tmpSize)}getTileCoordForTileUrlFunction(e,n){n=n!==void 0?n:this.getProjection();const r=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(e=Pst(r,e,n)),Lst(e,r)?e:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(e,n){const r=this.getTileCacheForProjection(n);e>r.highWaterMark&&(r.highWaterMark=e)}useTile(e,n,r,i){}}class Ost extends h0{constructor(e,n){super(e),this.tile=n}}function Dst(t,e){const n=/\{z\}/g,r=/\{x\}/g,i=/\{y\}/g,s=/\{-y\}/g;return function(l,c,a){if(l)return t.replace(n,l[0].toString()).replace(r,l[1].toString()).replace(i,l[2].toString()).replace(s,function(){const f=l[0],A=e.getFullTileRange(f);if(!A)throw new Error("The {-y} placeholder requires a tile grid with extent");return(A.getHeight()-l[2]-1).toString()})}}function Nst(t,e){const n=t.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=Dst(t[i],e);return zR(r)}function zR(t){return t.length===1?t[0]:function(e,n,r){if(!e)return;const i=hle(e),s=j_(i,t.length);return t[s](e,n,r)}}function gle(t){const e=[];let n=/\{([a-z])-([a-z])\}/.exec(t);if(n){const r=n[1].charCodeAt(0),i=n[2].charCodeAt(0);let s;for(s=r;s<=i;++s)e.push(t.replace(n[0],String.fromCharCode(s)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t),n){const r=parseInt(n[2],10);for(let i=parseInt(n[1],10);i<=r;i++)e.push(t.replace(n[0],i.toString()));return e}return e.push(t),e}class V7 extends mle{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===V7.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const n=e.target,r=Bi(n),i=n.getState();let s;i==Vi.LOADING?(this.tileLoadingKeys_[r]=!0,s=iP.TILELOADSTART):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],s=i==Vi.ERROR?iP.TILELOADERROR:i==Vi.LOADED?iP.TILELOADEND:void 0),s!=null&&this.dispatchEvent(new Ost(s,n))}setTileLoadFunction(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,n){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof n<"u"?this.setKey(n):this.changed()}setUrl(e){const n=gle(e);this.urls=n,this.setUrls(n)}setUrls(e){this.urls=e;const n=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(Nst(e,this.tileGrid),n):this.setKey(n)}tileUrlFunction(e,n,r){}useTile(e,n,r){const i=RB(e,n,r);this.tileCache.containsKey(i)&&this.tileCache.get(i)}}class vle extends V7{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:Ust,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:ule,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}expireCache(e,n){const r=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==r?n:{});for(const i in this.tileCacheForProjection){const s=this.tileCacheForProjection[i];s.expireCache(s==r?n:{})}}getGutterForProjection(e){return this.getProjection()&&e&&!Gb(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getOpaque(e){return this.getProjection()&&e&&!Gb(this.getProjection(),e)?!1:super.getOpaque(e)}getTileGridForProjection(e){const n=this.getProjection();if(this.tileGrid&&(!n||Gb(n,e)))return this.tileGrid;const r=Bi(e);return r in this.tileGridForProjection||(this.tileGridForProjection[r]=ple(e)),this.tileGridForProjection[r]}getTileCacheForProjection(e){const n=this.getProjection();if(!n||Gb(n,e))return this.tileCache;const r=Bi(e);return r in this.tileCacheForProjection||(this.tileCacheForProjection[r]=new dle(this.tileCache.highWaterMark)),this.tileCacheForProjection[r]}createTile_(e,n,r,i,s,l){const c=[e,n,r],a=this.getTileCoordForTileUrlFunction(c,s),f=a?this.tileUrlFunction(a,i,s):void 0,A=new this.tileClass(c,f!==void 0?Vi.IDLE:Vi.EMPTY,f!==void 0?f:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return A.key=l,A.addEventListener(Fa.CHANGE,this.handleTileChange.bind(this)),A}getTile(e,n,r,i,s){const l=this.getProjection();if(!l||!s||Gb(l,s))return this.getTileInternal(e,n,r,i,l||s);const c=this.getTileCacheForProjection(s),a=[e,n,r];let f;const A=cle(a);c.containsKey(A)&&(f=c.get(A));const m=this.getKey();if(f&&f.key==m)return f;const _=this.getTileGridForProjection(l),y=this.getTileGridForProjection(s),T=this.getTileCoordForTileUrlFunction(a,s),E=new UR(l,_,s,y,a,T,this.getTilePixelRatio(i),this.getGutter(),(P,I,F,R)=>this.getTileInternal(P,I,F,R,l),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return E.key=m,f?(E.interimTile=f,E.refreshInterimChain(),c.replace(A,E)):c.set(A,E),E}getTileInternal(e,n,r,i,s){let l=null;const c=RB(e,n,r),a=this.getKey();if(!this.tileCache.containsKey(c))l=this.createTile_(e,n,r,i,s,a),this.tileCache.set(c,l);else if(l=this.tileCache.get(c),l.key!=a){const f=l;l=this.createTile_(e,n,r,i,s,a),f.getState()==Vi.IDLE?l.interimTile=f.interimTile:l.interimTile=f,l.refreshInterimChain(),this.tileCache.replace(c,l)}return l}setRenderReprojectionEdges(e){if(this.renderReprojectionEdges_!=e){this.renderReprojectionEdges_=e;for(const n in this.tileCacheForProjection)this.tileCacheForProjection[n].clear();this.changed()}}setTileGridForProjection(e,n){const r=Lf(e);if(r){const i=Bi(r);i in this.tileGridForProjection||(this.tileGridForProjection[i]=n)}}clear(){super.clear();for(const e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}}function Ust(t,e){t.getImage().src=e}class Aq{constructor(e){this.rbush_=new Doe(e),this.items_={}}insert(e,n){const r={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:n};this.rbush_.insert(r),this.items_[Bi(n)]=r}load(e,n){const r=new Array(n.length);for(let i=0,s=n.length;i<s;i++){const l=e[i],c=n[i],a={minX:l[0],minY:l[1],maxX:l[2],maxY:l[3],value:c};r[i]=a,this.items_[Bi(c)]=a}this.rbush_.load(r)}remove(e){const n=Bi(e),r=this.items_[n];return delete this.items_[n],this.rbush_.remove(r)!==null}update(e,n){const r=this.items_[Bi(n)],i=[r.minX,r.minY,r.maxX,r.maxY];n1(i,e)||(this.remove(n),this.insert(e,n))}getAll(){return this.rbush_.all().map(function(n){return n.value})}getInExtent(e){const n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(n).map(function(i){return i.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,n){return this.forEach_(this.getInExtent(e),n)}forEach_(e,n){let r;for(let i=0,s=e.length;i<s;i++)if(r=n(e[i]),r)return r;return r}isEmpty(){return p2(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const n=this.rbush_.toJSON();return ym(n.minX,n.minY,n.maxX,n.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const n in e.items_)this.items_[n]=e.items_[n]}}class OB extends v1{constructor(e,n,r){super(),r!==void 0&&n===void 0?this.setFlatCoordinates(r,e):(n=n||0,this.setCenterAndRadius(e,n,r))}clone(){const e=new OB(this.flatCoordinates.slice(),void 0,this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){const s=this.flatCoordinates,l=e-s[0],c=n-s[1],a=l*l+c*c;if(a<i){if(a===0)for(let f=0;f<this.stride;++f)r[f]=s[f];else{const f=this.getRadius()/Math.sqrt(a);r[0]=s[0]+f*l,r[1]=s[1]+f*c;for(let A=2;A<this.stride;++A)r[A]=s[A]}return r.length=this.stride,a}return i}containsXY(e,n){const r=this.flatCoordinates,i=e-r[0],s=n-r[1];return i*i+s*s<=this.getRadiusSquared_()}getCenter(){return this.flatCoordinates.slice(0,this.stride)}computeExtent(e){const n=this.flatCoordinates,r=n[this.stride]-n[0];return ym(n[0]-r,n[1]-r,n[0]+r,n[1]+r,e)}getRadius(){return Math.sqrt(this.getRadiusSquared_())}getRadiusSquared_(){const e=this.flatCoordinates[this.stride]-this.flatCoordinates[0],n=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+n*n}getType(){return"Circle"}intersectsExtent(e){const n=this.getExtent();if(tu(e,n)){const r=this.getCenter();return e[0]<=r[0]&&e[2]>=r[0]||e[1]<=r[1]&&e[3]>=r[1]?!0:o7(e,this.intersectsCoordinate.bind(this))}return!1}setCenter(e){const n=this.stride,r=this.flatCoordinates[n]-this.flatCoordinates[0],i=e.slice();i[n]=i[0]+r;for(let s=1;s<n;++s)i[n+s]=e[s];this.setFlatCoordinates(this.layout,i),this.changed()}setCenterAndRadius(e,n,r){this.setLayout(r,e,0),this.flatCoordinates||(this.flatCoordinates=[]);const i=this.flatCoordinates;let s=xoe(i,0,e,this.stride);i[s++]=i[0]+n;for(let l=1,c=this.stride;l<c;++l)i[s++]=i[l];i.length=s,this.changed()}getCoordinates(){return null}setCoordinates(e,n){}setRadius(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e,this.changed()}rotate(e,n){const r=this.getCenter(),i=this.getStride();this.setCenter(p7(r,0,r.length,i,e,n,r)),this.changed()}}OB.prototype.transform;function QT(t,e,n,r,i,s,l){let c,a;const f=(n-e)/r;if(f===1)c=e;else if(f===2)c=e,a=i;else if(f!==0){let A=t[e],m=t[e+1],_=0;const y=[0];for(let P=e+r;P<n;P+=r){const I=t[P],F=t[P+1];_+=Math.sqrt((I-A)*(I-A)+(F-m)*(F-m)),y.push(_),A=I,m=F}const T=i*_,E=drt(y,T);E<0?(a=(T-y[-E-2])/(y[-E-1]-y[-E-2]),c=e+(-E-2)*r):c=e+E*r}l=l>1?l:2,s=s||new Array(l);for(let A=0;A<l;++A)s[A]=c===void 0?NaN:a===void 0?t[c+A]:Ld(t[c+A],t[c+r+A],a);return s}function $R(t,e,n,r,i,s){if(n==e)return null;let l;if(i<t[e+r-1])return s?(l=t.slice(e,e+r),l[r-1]=i,l):null;if(t[n-1]<i)return s?(l=t.slice(n-r,n),l[r-1]=i,l):null;if(i==t[e+r-1])return t.slice(e,e+r);let c=e/r,a=n/r;for(;c<a;){const _=c+a>>1;i<t[(_+1)*r-1]?a=_:c=_+1}const f=t[c*r-1];if(i==f)return t.slice((c-1)*r,(c-1)*r+r);const A=t[(c+1)*r-1],m=(i-f)/(A-f);l=[];for(let _=0;_<r-1;++_)l.push(Ld(t[(c-1)*r+_],t[c*r+_],m));return l.push(i),l}function zst(t,e,n,r,i,s,l){if(l)return $R(t,e,n[n.length-1],r,i,s);let c;if(i<t[r-1])return s?(c=t.slice(0,r),c[r-1]=i,c):null;if(t[t.length-1]<i)return s?(c=t.slice(t.length-r),c[r-1]=i,c):null;for(let a=0,f=n.length;a<f;++a){const A=n[a];if(e!=A){if(i<t[e+r-1])return null;if(i<=t[A-1])return $R(t,e,A,r,i,!1);e=A}}return null}function _le(t,e,n,r){let i=t[e],s=t[e+1],l=0;for(let c=e+r;c<n;c+=r){const a=t[c],f=t[c+1];l+=Math.sqrt((a-i)*(a-i)+(f-s)*(f-s)),i=a,s=f}return l}class _f extends v1{constructor(e,n){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}appendCoordinate(e){lm(this.flatCoordinates,e),this.changed()}clone(){const e=new _f(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){return i<N2(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(A7(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),g7(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,n,r,i))}forEachSegment(e){return Moe(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,n){return this.layout!="XYM"&&this.layout!="XYZM"?null:(n=n!==void 0?n:!1,$R(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n))}getCoordinates(){return Mv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,n){return QT(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,this.stride)}getLength(){return _le(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const n=[];return n.length=BB(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new _f(n,"XY")}getType(){return"LineString"}intersectsExtent(e){return MB(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=TB(this.flatCoordinates,0,e,this.stride),this.changed()}}class o6 extends v1{constructor(e,n,r){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,n);else if(n!==void 0&&r)this.setFlatCoordinates(n,e),this.ends_=r;else{const i=e,s=[],l=[];for(let a=0,f=i.length;a<f;++a){const A=i[a];lm(s,A.getFlatCoordinates()),l.push(s.length)}const c=i.length===0?this.getLayout():i[0].getLayout();this.setFlatCoordinates(c,s),this.ends_=l}}appendLineString(e){lm(this.flatCoordinates,e.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new o6(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,r,i){return i<N2(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(m7(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),v7(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,n,r,i))}getCoordinateAtM(e,n,r){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(n=n!==void 0?n:!1,r=r!==void 0?r:!1,zst(this.flatCoordinates,0,this.ends_,this.stride,e,n,r))}getCoordinates(){return XC(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new _f(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,n=this.ends_,r=this.layout,i=[];let s=0;for(let l=0,c=n.length;l<c;++l){const a=n[l],f=new _f(e.slice(s,a),r);i.push(f),s=a}return i}getFlatMidpoints(){const e=[],n=this.flatCoordinates;let r=0;const i=this.ends_,s=this.stride;for(let l=0,c=i.length;l<c;++l){const a=i[l],f=QT(n,r,a,s,.5);lm(e,f),r=a}return e}getSimplifiedGeometryInternal(e){const n=[],r=[];return n.length=Coe(this.flatCoordinates,0,this.ends_,this.stride,e,n,0,r),new o6(n,"XY",r)}getType(){return"MultiLineString"}intersectsExtent(e){return lit(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const r=_7(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=r.length===0?0:r[r.length-1],this.changed()}}class H7 extends v1{constructor(e,n){super(),n&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}appendPoint(e){lm(this.flatCoordinates,e.getFlatCoordinates()),this.changed()}clone(){const e=new H7(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){if(i<N2(this.getExtent(),e,n))return i;const s=this.flatCoordinates,l=this.stride;for(let c=0,a=s.length;c<a;c+=l){const f=Q_(e,n,s[c],s[c+1]);if(f<i){i=f;for(let A=0;A<l;++A)r[A]=s[c+A];r.length=l}}return i}getCoordinates(){return Mv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){const n=this.flatCoordinates.length/this.stride;return e<0||n<=e?null:new Fp(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,n=this.layout,r=this.stride,i=[];for(let s=0,l=e.length;s<l;s+=r){const c=new Fp(e.slice(s,s+r),n);i.push(c)}return i}getType(){return"MultiPoint"}intersectsExtent(e){const n=this.flatCoordinates,r=this.stride;for(let i=0,s=n.length;i<s;i+=r){const l=n[i],c=n[i+1];if(a7(e,l,c))return!0}return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=TB(this.flatCoordinates,0,e,this.stride),this.changed()}}function yle(t,e,n,r){const i=[];let s=sc();for(let l=0,c=n.length;l<c;++l){const a=n[l];s=s7(t,e,a[0],r),i.push((s[0]+s[2])/2,(s[1]+s[3])/2),e=a[a.length-1]}return i}class uy extends v1{constructor(e,n,r){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!r&&!Array.isArray(e[0])){const i=e,s=[],l=[];for(let c=0,a=i.length;c<a;++c){const f=i[c],A=s.length,m=f.getEnds();for(let _=0,y=m.length;_<y;++_)m[_]+=A;lm(s,f.getFlatCoordinates()),l.push(m)}n=i.length===0?this.getLayout():i[0].getLayout(),e=s,r=l}n!==void 0&&r?(this.setFlatCoordinates(n,e),this.endss_=r):this.setCoordinates(e,n)}appendPolygon(e){let n;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),n=e.getEnds().slice(),this.endss_.push();else{const r=this.flatCoordinates.length;lm(this.flatCoordinates,e.getFlatCoordinates()),n=e.getEnds().slice();for(let i=0,s=n.length;i<s;++i)n[i]+=r}this.endss_.push(n),this.changed()}clone(){const e=this.endss_.length,n=new Array(e);for(let i=0;i<e;++i)n[i]=this.endss_[i].slice();const r=new uy(this.flatCoordinates.slice(),this.layout,n);return r.applyProperties(this),r}closestPointXY(e,n,r,i){return i<N2(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(eit(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),tit(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,n,r,i))}containsXY(e,n){return oit(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,n)}getArea(){return ait(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),$W(n,0,this.endss_,this.stride,e)):n=this.flatCoordinates,BR(n,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=yle(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Boe(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new H7(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;hit(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=$W(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],r=[];return n.length=iit(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),n,0,r),new uy(n,"XY",r)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let n;if(e===0)n=0;else{const s=this.endss_[e-1];n=s[s.length-1]}const r=this.endss_[e].slice(),i=r[r.length-1];if(n!==0)for(let s=0,l=r.length;s<l;++s)r[s]-=n;return new Pf(this.flatCoordinates.slice(n,i),this.layout,r)}getPolygons(){const e=this.layout,n=this.flatCoordinates,r=this.endss_,i=[];let s=0;for(let l=0,c=r.length;l<c;++l){const a=r[l].slice(),f=a[a.length-1];if(s!==0)for(let m=0,_=a.length;m<_;++m)a[m]-=s;const A=new Pf(n.slice(s,f),e,a);i.push(A),s=f}return i}getType(){return"MultiPolygon"}intersectsExtent(e){return uit(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const r=nit(this.flatCoordinates,0,e,this.stride,this.endss_);if(r.length===0)this.flatCoordinates.length=0;else{const i=r[r.length-1];this.flatCoordinates.length=i.length===0?0:i[i.length-1]}this.changed()}}const mq=zo();class Md{constructor(e,n,r,i,s,l){this.styleFunction,this.extent_,this.id_=l,this.type_=e,this.flatCoordinates_=n,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=r||null,this.properties_=s,this.squaredTolerance_,this.stride_=i,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?moe(this.flatCoordinates_):s7(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const e=qp(this.getExtent());this.flatInteriorPoints_=w7(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const e=Foe(this.flatCoordinates_,this.ends_),n=yle(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=Boe(this.flatCoordinates_,0,e,2,n)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=QT(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const e=this.flatCoordinates_;let n=0;const r=this.ends_;for(let i=0,s=r.length;i<s;++i){const l=r[i],c=QT(e,n,l,2,.5);lm(this.flatMidpoints_,c),n=l}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,n){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){e=Lf(e);const n=e.getExtent(),r=e.getWorldExtent();if(n&&r){const i=vu(r)/vu(n);Vh(mq,r[0],r[3],i,-i,0,0,0),um(this.flatCoordinates_,0,this.flatCoordinates_.length,2,mq,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){var e;return new Md(this.type_,this.flatCoordinates_.slice(),(e=this.ends_)==null?void 0:e.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=doe((e,n)=>{if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),n&&this.simplifiedGeometry_.applyTransform(n);const r=this.simplifiedGeometry_.getFlatCoordinates();let i;switch(this.type_){case"LineString":r.length=BB(r,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,r,0),i=[r.length];break;case"MultiLineString":i=[],r.length=Coe(r,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,r,0,i);break;case"Polygon":i=[],r.length=y7(r,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),r,0,i);break}return i&&(this.simplifiedGeometry_=new Md(this.type_,r,i,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_}),this}}Md.prototype.getFlatCoordinates=Md.prototype.getOrientedFlatCoordinates;const Jl={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function $st(t,e){return[[-1/0,-1/0,1/0,1/0]]}let Vst=!1;function Hst(t,e,n,r,i,s,l){const c=new XMLHttpRequest;c.open("GET",typeof t=="function"?t(n,r,i):t,!0),e.getType()=="arraybuffer"&&(c.responseType="arraybuffer"),c.withCredentials=Vst,c.onload=function(a){if(!c.status||c.status>=200&&c.status<300){const f=e.getType();let A;f=="json"?A=JSON.parse(c.responseText):f=="text"?A=c.responseText:f=="xml"?(A=c.responseXML,A||(A=new DOMParser().parseFromString(c.responseText,"application/xml"))):f=="arraybuffer"&&(A=c.response),A?s(e.readFeatures(A,{extent:n,featureProjection:i}),e.readProjection(A)):l()}else l()},c.onerror=l,c.send()}function gq(t,e){return function(n,r,i,s,l){const c=this;Hst(t,e,n,r,i,function(a,f){c.addFeatures(a),s!==void 0&&s(a)},l||f2)}}class ev extends h0{constructor(e,n,r){super(e),this.feature=n,this.features=r}}class ble extends z7{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=f2,this.format_=e.format,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(Za(this.format_,"`format` must be set when `url` is set"),this.loader_=gq(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:$st;const n=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=n?new Aq:null,this.loadedExtentsRtree_=new Aq,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let r,i;Array.isArray(e.features)?i=e.features:e.features&&(r=e.features,i=r.getArray()),!n&&r===void 0&&(r=new vf(i)),i!==void 0&&this.addFeaturesInternal(i),r!==void 0&&this.bindFeaturesCollection_(r)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const n=Bi(e);if(!this.addToIndex_(n,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(n,e);const r=e.getGeometry();if(r){const i=r.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,e)}else this.nullGeometryFeatures_[n]=e;this.dispatchEvent(new ev(Jl.ADDFEATURE,e))}setupChangeEvents_(e,n){n instanceof Md||(this.featureChangeKeys_[e]=[$a(n,Fa.CHANGE,this.handleFeatureChange_,this),$a(n,d2.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(e,n){let r=!0;if(n.getId()!==void 0){const i=String(n.getId());if(!(i in this.idIndex_))this.idIndex_[i]=n;else if(n instanceof Md){const s=this.idIndex_[i];s instanceof Md?Array.isArray(s)?s.push(n):this.idIndex_[i]=[s,n]:r=!1}else r=!1}return r&&(Za(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=n),r}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const n=[],r=[],i=[];for(let s=0,l=e.length;s<l;s++){const c=e[s],a=Bi(c);this.addToIndex_(a,c)&&r.push(c)}for(let s=0,l=r.length;s<l;s++){const c=r[s],a=Bi(c);this.setupChangeEvents_(a,c);const f=c.getGeometry();if(f){const A=f.getExtent();n.push(A),i.push(c)}else this.nullGeometryFeatures_[a]=c}if(this.featuresRtree_&&this.featuresRtree_.load(n,i),this.hasListener(Jl.ADDFEATURE))for(let s=0,l=r.length;s<l;s++)this.dispatchEvent(new ev(Jl.ADDFEATURE,r[s]))}bindFeaturesCollection_(e){let n=!1;this.addEventListener(Jl.ADDFEATURE,function(r){n||(n=!0,e.push(r.feature),n=!1)}),this.addEventListener(Jl.REMOVEFEATURE,function(r){n||(n=!0,e.remove(r.feature),n=!1)}),e.addEventListener(Ih.ADD,r=>{n||(n=!0,this.addFeature(r.element),n=!1)}),e.addEventListener(Ih.REMOVE,r=>{n||(n=!0,this.removeFeature(r.element),n=!1)}),this.featuresCollection_=e}clear(e){if(e){for(const r in this.featureChangeKeys_)this.featureChangeKeys_[r].forEach(xo);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){const r=i=>{this.removeFeatureInternal(i)};this.featuresRtree_.forEach(r);for(const i in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const n=new ev(Jl.CLEAR);this.dispatchEvent(n),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,n){const r=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(r,function(i){const s=i.getGeometry();if(s instanceof Md||s.intersectsCoordinate(e))return n(i)})}forEachFeatureInExtent(e,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)}forEachFeatureIntersectingExtent(e,n){return this.forEachFeatureInExtent(e,function(r){const i=r.getGeometry();if(i instanceof Md||i.intersectsExtent(e)){const s=n(r);if(s)return s}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),p2(this.nullGeometryFeatures_)||lm(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const n=[];return this.forEachFeatureAtCoordinateDirect(e,function(r){n.push(r)}),n}getFeaturesInExtent(e,n){if(this.featuresRtree_){if(!(n&&n.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const i=Srt(e,n);return[].concat(...i.map(s=>this.featuresRtree_.getInExtent(s)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,n){const r=e[0],i=e[1];let s=null;const l=[NaN,NaN];let c=1/0;const a=[-1/0,-1/0,1/0,1/0];return n=n||WC,this.featuresRtree_.forEachInExtent(a,function(f){if(n(f)){const A=f.getGeometry(),m=c;if(c=A instanceof Md?0:A.closestPointXY(r,i,l,c),c<m){s=f;const _=Math.sqrt(c);a[0]=r-_,a[1]=i-_,a[2]=r+_,a[3]=i+_}}}),s}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const n=this.idIndex_[e.toString()];return n!==void 0?n:null}getFeatureByUid(e){const n=this.uidIndex_[e];return n!==void 0?n:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const n=e.target,r=Bi(n),i=n.getGeometry();if(!i)r in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[r]=n);else{const l=i.getExtent();r in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[r],this.featuresRtree_&&this.featuresRtree_.insert(l,n)):this.featuresRtree_&&this.featuresRtree_.update(l,n)}const s=n.getId();if(s!==void 0){const l=s.toString();this.idIndex_[l]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[l]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[r]=n;this.changed(),this.dispatchEvent(new ev(Jl.CHANGEFEATURE,n))}hasFeature(e){const n=e.getId();return n!==void 0?n in this.idIndex_:Bi(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&p2(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,n,r){const i=this.loadedExtentsRtree_,s=this.strategy_(e,n,r);for(let l=0,c=s.length;l<c;++l){const a=s[l];i.forEachInExtent(a,function(A){return Bv(A.extent,a)})||(++this.loadingExtentsCount_,this.dispatchEvent(new ev(Jl.FEATURESLOADSTART)),this.loader_.call(this,a,n,r,A=>{--this.loadingExtentsCount_,this.dispatchEvent(new ev(Jl.FEATURESLOADEND,void 0,A))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new ev(Jl.FEATURESLOADERROR))}),i.insert(a,{extent:a.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const n=this.loadedExtentsRtree_;let r;n.forEachInExtent(e,function(i){if(n1(i.extent,e))return r=i,!0}),r&&n.remove(r)}removeFeatures(e){const n=[];for(let r=0,i=e.length;r<i;++r){const s=e[r],l=this.removeFeatureInternal(s);l&&n.push(l)}n.length>0&&this.changed()}removeFeature(e){if(!e)return;this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const n=Bi(e);n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(e);const r=this.featureChangeKeys_[n];if(!r)return;r.forEach(xo),delete this.featureChangeKeys_[n];const i=e.getId();return i!==void 0&&delete this.idIndex_[i.toString()],delete this.uidIndex_[n],this.hasListener(Jl.REMOVEFEATURE)&&this.dispatchEvent(new ev(Jl.REMOVEFEATURE,e)),e}removeFromIdIndex_(e){let n=!1;for(const r in this.idIndex_){const i=this.idIndex_[r];if(e instanceof Md&&Array.isArray(i)&&i.includes(e))i.splice(i.indexOf(e),1);else if(this.idIndex_[r]===e){delete this.idIndex_[r],n=!0;break}}return n}setLoader(e){this.loader_=e}setUrl(e){Za(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(gq(e,this.format_))}}const vq=4;function jT(t,e){const n=[];Object.keys(e).forEach(function(i){e[i]!==null&&e[i]!==void 0&&n.push(i+"="+encodeURIComponent(e[i]))});const r=n.join("&");return t=t.replace(/[?&]$/,""),t+=t.includes("?")?"&":"?",t+r}const VR="1.3.0";function Qst(t,e,n,r,i){i.WIDTH=n[0],i.HEIGHT=n[1];const s=r.getAxisOrientation();let l;const c=yoe(i.VERSION,"1.3")>=0;return i[c?"CRS":"SRS"]=r.getCode(),c&&s.substr(0,2)=="ne"?l=[e[1],e[0],e[3],e[2]]:l=e,i.BBOX=l.join(","),jT(t,i)}function jst(t,e,n,r,i,s,l){s=Object.assign({REQUEST:"GetMap"},s);const c=e/n,a=[kW(cs(t)/c,vq),kW(vu(t)/c,vq)];if(n!=1)switch(l){case"geoserver":const A=90*n+.5|0;"FORMAT_OPTIONS"in s?s.FORMAT_OPTIONS+=";dpi:"+A:s.FORMAT_OPTIONS="dpi:"+A;break;case"mapserver":s.MAP_RESOLUTION=90*n;break;case"carmentaserver":case"qgis":s.DPI=90*n;break;default:throw new Error("Unknown `serverType` configured")}return Qst(i,t,a,r,s)}function _q(t,e){return Object.assign({REQUEST:e,SERVICE:"WMS",VERSION:VR,FORMAT:"image/png",STYLES:"",TRANSPARENT:!0},t)}class Gst extends wy{constructor(e){e=e||{},super(e)}}class wle extends K6{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.declutterExecutorGroup=null}getFeatures(e){return As()}getData(e){return null}prepareFrame(e){return As()}renderFrame(e,n){return As()}loadedTileCallback(e,n,r){e[n]||(e[n]={}),e[n][r.tileCoord.toString()]=r}createLoadedTileFinder(e,n,r){return(i,s)=>{const l=this.loadedTileCallback.bind(this,r,i);return e.forEachLoadedTile(n,i,s,l)}}forEachFeatureAtCoordinate(e,n,r,i,s){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const n=e.target;(n.getState()===za.LOADED||n.getState()===za.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let n=e.getState();return n!=za.LOADED&&n!=za.ERROR&&e.addEventListener(Fa.CHANGE,this.boundHandleImageChange_),n==za.IDLE&&(e.load(),n=e.getState()),n==za.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}}class Q7{constructor(){oi(this,"pushMethodArgs_",(...e)=>(this.instructions_[this.zIndex+this.offset_].push(e),this));this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(CanvasRenderingContext2D.prototype,{get:(e,n)=>{if(typeof IR()[n]=="function")return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n),this.pushMethodArgs_},set:(e,n,r)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n,r),!0)})}getContext(){return this.context_}draw(e){this.instructions_.forEach(n=>{for(let r=0,i=n.length;r<i;r+=2){const s=n[r],l=n[r+1];if(typeof e[s]=="function")e[s](...l);else{if(typeof l=="function"){e[s]=l(e);continue}e[s]=l}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const yq=[];let Yb=null;function Kst(){Yb=$u(1,1,void 0,{willReadFrequently:!0})}class j7 extends wle{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=zo(),this.pixelTransform=zo(),this.inversePixelTransform=zo(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(e,n,r){Yb||Kst(),Yb.clearRect(0,0,1,1);let i;try{Yb.drawImage(e,n,r,1,1,0,0,1,1),i=Yb.getImageData(0,0,1,1).data}catch{return Yb=null,null}return i}getBackground(e){let r=this.getLayer().getBackground();return typeof r=="function"&&(r=r(e.viewState.resolution)),r||void 0}useContainer(e,n,r){const i=this.getLayer().getClassName();let s,l;if(e&&e.className===i&&(!r||e&&e.style.backgroundColor&&d0(bm(e.style.backgroundColor),bm(r)))){const c=e.firstElementChild;c instanceof HTMLCanvasElement&&(l=c.getContext("2d"))}if(l&&l.canvas.style.transform===n?(this.container=e,this.context=l,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){s=document.createElement("div"),s.className=i;let c=s.style;c.position="absolute",c.width="100%",c.height="100%",l=$u();const a=l.canvas;s.appendChild(a),c=a.style,c.position="absolute",c.left="0",c.transformOrigin="top left",this.container=s,this.context=l}!this.containerReused&&r&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=r)}clipUnrotated(e,n,r){const i=g1(r),s=CB(r),l=xB(r),c=wB(r);Po(n.coordinateToPixelTransform,i),Po(n.coordinateToPixelTransform,s),Po(n.coordinateToPixelTransform,l),Po(n.coordinateToPixelTransform,c);const a=this.inversePixelTransform;Po(a,i),Po(a,s),Po(a,l),Po(a,c),e.save(),e.beginPath(),e.moveTo(Math.round(i[0]),Math.round(i[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(l[0]),Math.round(l[1])),e.lineTo(Math.round(c[0]),Math.round(c[1])),e.clip()}dispatchRenderEvent_(e,n,r){const i=this.getLayer();if(i.hasListener(e)){const s=new J4(e,this.inversePixelTransform,r,n);i.dispatchEvent(s)}}preRender(e,n){this.frameState=n,!n.declutter&&this.dispatchRenderEvent_(Uu.PRERENDER,e,n)}postRender(e,n){n.declutter||this.dispatchRenderEvent_(Uu.POSTRENDER,e,n)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new Q7),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(Uu.PRERENDER,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(Uu.POSTRENDER,this.context,e))}getRenderTransform(e,n,r,i,s,l,c){const a=s/2,f=l/2,A=i/n,m=-A,_=-e[0]+c,y=-e[1];return Vh(this.tempTransform,a,f,A,m,-r,_,y)}disposeInternal(){delete this.frameState,super.disposeInternal()}}class Wst extends j7{constructor(e){super(e),this.image_=null}getImage(){return this.image_?this.image_.getImage():null}prepareFrame(e){const n=e.layerStatesArray[e.layerIndex],r=e.pixelRatio,i=e.viewState,s=i.resolution,l=this.getLayer().getSource(),c=e.viewHints;let a=e.extent;if(n.extent!==void 0&&(a=H_(a,Ng(n.extent,i.projection))),!c[Js.ANIMATING]&&!c[Js.INTERACTING]&&!U2(a))if(l){const f=i.projection,A=l.getImage(a,s,r,f);A&&(this.loadImage(A)?this.image_=A:A.getState()===za.EMPTY&&(this.image_=null))}else this.image_=null;return!!this.image_}getData(e){const n=this.frameState;if(!n)return null;const r=this.getLayer(),i=Po(n.pixelToCoordinateTransform,e.slice()),s=r.getExtent();if(s&&!t1(s,i))return null;const l=this.image_.getExtent(),c=this.image_.getImage(),a=cs(l),f=Math.floor(c.width*((i[0]-l[0])/a));if(f<0||f>=c.width)return null;const A=vu(l),m=Math.floor(c.height*((l[3]-i[1])/A));return m<0||m>=c.height?null:this.getImageData(c,f,m)}renderFrame(e,n){const r=this.image_,i=r.getExtent(),s=r.getResolution(),[l,c]=Array.isArray(s)?s:[s,s],a=r.getPixelRatio(),f=e.layerStatesArray[e.layerIndex],A=e.pixelRatio,m=e.viewState,_=m.center,y=m.resolution,T=A*l/(y*a),E=A*c/(y*a),P=e.extent,I=m.resolution,F=m.rotation,R=Math.round(cs(P)/I*A),N=Math.round(vu(P)/I*A);Vh(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/A,1/A,F,-R/2,-N/2),e1(this.inversePixelTransform,this.pixelTransform);const z=i7(this.pixelTransform);this.useContainer(n,z,this.getBackground(e));const Q=this.getRenderContext(e),j=this.context.canvas;j.width!=R||j.height!=N?(j.width=R,j.height=N):this.containerReused||Q.clearRect(0,0,R,N);let H=!1,K=!0;if(f.extent){const ue=Ng(f.extent,m.projection);K=tu(ue,e.extent),H=K&&!Bv(ue,e.extent),H&&this.clipUnrotated(Q,e,ue)}const ie=r.getImage(),q=Vh(this.tempTransform,R/2,N/2,T,E,0,a*(i[0]-_[0])/l,a*(_[1]-i[3])/c);this.renderedResolution=c*A/a;const W=ie.width*q[0],ee=ie.height*q[3];if(this.getLayer().getSource().getInterpolate()||(Q.imageSmoothingEnabled=!1),this.preRender(Q,e),K&&W>=.5&&ee>=.5){const ue=q[4],J=q[5],te=f.opacity;te!==1&&(Q.save(),Q.globalAlpha=te),Q.drawImage(ie,0,0,+ie.width,+ie.height,ue,J,W,ee),te!==1&&Q.restore()}return this.postRender(this.context,e),H&&Q.restore(),Q.imageSmoothingEnabled=!0,z!==j.style.transform&&(j.style.transform=z),this.container}}class qst extends Gst{constructor(e){super(e)}createRenderer(){return new Wst(this)}getData(e){return super.getData(e)}}const Lv={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class Yst extends wy{constructor(e){e=e||{};const n=Object.assign({},e);delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getPreload(){return this.get(Lv.PRELOAD)}setPreload(e){this.set(Lv.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(Lv.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(Lv.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}class xle extends j7{constructor(e){super(e),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=sc(),this.tmpTileRange_=new $7(0,0,0,0)}isDrawableTile(e){const n=this.getLayer(),r=e.getState(),i=n.getUseInterimTilesOnError();return r==Vi.LOADED||r==Vi.EMPTY||r==Vi.ERROR&&!i}getTile(e,n,r,i){const s=i.pixelRatio,l=i.viewState.projection,c=this.getLayer();let f=c.getSource().getTile(e,n,r,s,l);return f.getState()==Vi.ERROR&&c.getUseInterimTilesOnError()&&c.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(f)||(f=f.getInterimTile()),f}getData(e){const n=this.frameState;if(!n)return null;const r=this.getLayer(),i=Po(n.pixelToCoordinateTransform,e.slice()),s=r.getExtent();if(s&&!t1(s,i))return null;const l=n.pixelRatio,c=n.viewState.projection,a=n.viewState,f=r.getRenderSource(),A=f.getTileGridForProjection(a.projection),m=f.getTilePixelRatio(n.pixelRatio);for(let _=A.getZForResolution(a.resolution);_>=A.getMinZoom();--_){const y=A.getTileCoordForCoordAndZ(i,_),T=f.getTile(_,y[1],y[2],l,c);if(!(T instanceof ule||T instanceof UR)||T instanceof UR&&T.getState()===Vi.EMPTY)return null;if(T.getState()!==Vi.LOADED)continue;const E=A.getOrigin(_),P=Rh(A.getTileSize(_)),I=A.getResolution(_),F=Math.floor(m*((i[0]-E[0])/I-y[1]*P[0])),R=Math.floor(m*((E[1]-i[1])/I-y[2]*P[1])),N=Math.round(m*f.getGutterForProjection(a.projection));return this.getImageData(T.getImage(),F+N,R+N)}return null}loadedTileCallback(e,n,r){return this.isDrawableTile(r)?super.loadedTileCallback(e,n,r):!1}prepareFrame(e){return!!this.getLayer().getSource()}renderFrame(e,n){const r=e.layerStatesArray[e.layerIndex],i=e.viewState,s=i.projection,l=i.resolution,c=i.center,a=i.rotation,f=e.pixelRatio,A=this.getLayer(),m=A.getSource(),_=m.getRevision(),y=m.getTileGridForProjection(s),T=y.getZForResolution(l,m.zDirection),E=y.getResolution(T);let P=e.extent;const I=e.viewState.resolution,F=m.getTilePixelRatio(f),R=Math.round(cs(P)/I*f),N=Math.round(vu(P)/I*f),z=r.extent&&Ng(r.extent);z&&(P=H_(P,Ng(r.extent)));const Q=E*R/2/F,j=E*N/2/F,H=[c[0]-Q,c[1]-j,c[0]+Q,c[1]+j],K=y.getTileRangeForExtentAndZ(P,T),ie={};ie[T]={};const q=this.createLoadedTileFinder(m,s,ie),W=this.tmpExtent,ee=this.tmpTileRange_;this.newTiles_=!1;const ue=a?CR(i.center,I,a,e.size):void 0;for(let oe=K.minX;oe<=K.maxX;++oe)for(let _e=K.minY;_e<=K.maxY;++_e){if(a&&!y.tileCoordIntersectsViewport([T,oe,_e],ue))continue;const Ue=this.getTile(T,oe,_e,e);if(this.isDrawableTile(Ue)){const Re=Bi(this);if(Ue.getState()==Vi.LOADED){ie[T][Ue.tileCoord.toString()]=Ue;let Qe=Ue.inTransition(Re);Qe&&r.opacity!==1&&(Ue.endTransition(Re),Qe=!1),!this.newTiles_&&(Qe||!this.renderedTiles.includes(Ue))&&(this.newTiles_=!0)}if(Ue.getAlpha(Re,e.time)===1)continue}const Le=y.getTileCoordChildTileRange(Ue.tileCoord,ee,W);let be=!1;Le&&(be=q(T+1,Le)),be||y.forEachTileCoordParentTileRange(Ue.tileCoord,q,ee,W)}const J=E/l*f/F;Vh(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/f,1/f,a,-R/2,-N/2);const te=i7(this.pixelTransform);this.useContainer(n,te,this.getBackground(e));const ne=this.getRenderContext(e),he=this.context.canvas;e1(this.inversePixelTransform,this.pixelTransform),Vh(this.tempTransform,R/2,N/2,J,J,0,-R/2,-N/2),he.width!=R||he.height!=N?(he.width=R,he.height=N):this.containerReused||ne.clearRect(0,0,R,N),z&&this.clipUnrotated(ne,e,z),m.getInterpolate()||(ne.imageSmoothingEnabled=!1),this.preRender(ne,e),this.renderedTiles.length=0;let ce=Object.keys(ie).map(Number);ce.sort(om);let ye,Ee,se;r.opacity===1&&(!this.containerReused||m.getOpaque(e.viewState.projection))?ce=ce.reverse():(ye=[],Ee=[]);for(let oe=ce.length-1;oe>=0;--oe){const _e=ce[oe],Ue=m.getTilePixelSize(_e,f,s),be=y.getResolution(_e)/E,Re=Ue[0]*be*J,Qe=Ue[1]*be*J,Je=y.getTileCoordForCoordAndZ(g1(H),_e),nt=y.getTileCoordExtent(Je),Ve=Po(this.tempTransform,[F*(nt[0]-H[0])/E,F*(H[3]-nt[3])/E]),Pe=F*m.getGutterForProjection(s),Ge=ie[_e];for(const Ne in Ge){const je=Ge[Ne],Ye=je.tileCoord,vt=Je[1]-Ye[1],Lt=Math.round(Ve[0]-(vt-1)*Re),Et=Je[2]-Ye[2],Vt=Math.round(Ve[1]-(Et-1)*Qe),_t=Math.round(Ve[0]-vt*Re),qt=Math.round(Ve[1]-Et*Qe),tn=Lt-_t,Nt=Vt-qt,wt=T===_e,De=wt&&je.getAlpha(Bi(this),e.time)!==1;let We=!1;if(!De)if(ye){se=[_t,qt,_t+tn,qt,_t+tn,qt+Nt,_t,qt+Nt];for(let ut=0,It=ye.length;ut<It;++ut)if(T!==_e&&_e<Ee[ut]){const Xe=ye[ut];tu([_t,qt,_t+tn,qt+Nt],[Xe[0],Xe[3],Xe[4],Xe[7]])&&(We||(ne.save(),We=!0),ne.beginPath(),ne.moveTo(se[0],se[1]),ne.lineTo(se[2],se[3]),ne.lineTo(se[4],se[5]),ne.lineTo(se[6],se[7]),ne.moveTo(Xe[6],Xe[7]),ne.lineTo(Xe[4],Xe[5]),ne.lineTo(Xe[2],Xe[3]),ne.lineTo(Xe[0],Xe[1]),ne.clip())}ye.push(se),Ee.push(_e)}else ne.clearRect(_t,qt,tn,Nt);this.drawTileImage(je,e,_t,qt,tn,Nt,Pe,wt),ye&&!De?(We&&ne.restore(),this.renderedTiles.unshift(je)):this.renderedTiles.push(je),this.updateUsedTiles(e.usedTiles,m,je)}}return this.renderedRevision=_,this.renderedResolution=E,this.extentChanged=!this.renderedExtent_||!n1(this.renderedExtent_,H),this.renderedExtent_=H,this.renderedPixelRatio=f,this.renderedProjection=s,this.manageTilePyramid(e,m,y,f,s,P,T,A.getPreload()),this.scheduleExpireCache(e,m),this.postRender(this.context,e),r.extent&&ne.restore(),ne.imageSmoothingEnabled=!0,te!==he.style.transform&&(he.style.transform=te),this.container}drawTileImage(e,n,r,i,s,l,c,a){const f=this.getTileImage(e);if(!f)return;const A=this.getRenderContext(n),m=Bi(this),_=n.layerStatesArray[n.layerIndex],y=_.opacity*(a?e.getAlpha(m,n.time):1),T=y!==A.globalAlpha;T&&(A.save(),A.globalAlpha=y),A.drawImage(f,c,c,f.width-2*c,f.height-2*c,r,i,s,l),T&&A.restore(),y!==_.opacity?n.animate=!0:a&&e.endTransition(m)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}scheduleExpireCache(e,n){if(n.canExpireCache()){const r=(function(i,s,l){const c=Bi(i);c in l.usedTiles&&i.expireCache(l.viewState.projection,l.usedTiles[c])}).bind(null,n);e.postRenderFunctions.push(r)}}updateUsedTiles(e,n,r){const i=Bi(n);i in e||(e[i]={}),e[i][r.getKey()]=!0}manageTilePyramid(e,n,r,i,s,l,c,a,f){const A=Bi(n);A in e.wantedTiles||(e.wantedTiles[A]={});const m=e.wantedTiles[A],_=e.tileQueue,y=r.getMinZoom(),T=e.viewState.rotation,E=T?CR(e.viewState.center,e.viewState.resolution,T,e.size):void 0;let P=0,I,F,R,N,z,Q;for(Q=y;Q<=c;++Q)for(F=r.getTileRangeForExtentAndZ(l,Q,F),R=r.getResolution(Q),N=F.minX;N<=F.maxX;++N)for(z=F.minY;z<=F.maxY;++z)T&&!r.tileCoordIntersectsViewport([Q,N,z],E)||(c-Q<=a?(++P,I=n.getTile(Q,N,z,i,s),I.getState()==Vi.IDLE&&(m[I.getKey()]=!0,_.isKeyQueued(I.getKey())||_.enqueue([I,A,r.getTileCoordCenter(I.tileCoord),R])),f!==void 0&&f(I)):n.useTile(Q,N,z,s));n.updateCacheSize(P,s)}}class bq extends Yst{constructor(e){super(e)}createRenderer(){return new xle(this)}}class Xst extends vle{constructor(e){e=e||{};const n=Object.assign({},e.params),r="TRANSPARENT"in n?n.TRANSPARENT:!0;super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:!r,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0,this.params_=n,this.v13_=!0,this.serverType_=e.serverType,this.hidpi_=e.hidpi!==void 0?e.hidpi:!0,this.tmpExtent_=sc(),this.updateV13_(),this.setKey(this.getKeyForParams_())}getFeatureInfoUrl(e,n,r,i){const s=Lf(r),l=this.getProjection()||s;let c=this.getTileGrid();c||(c=this.getTileGridForProjection(l));const a=Zg(e,s,l),f=NR(l,s,e,n),A=c.getZForResolution(f,this.zDirection),m=c.getResolution(A),_=c.getTileCoordForCoordAndZ(a,A);if(c.getResolutions().length<=_[0])return;let y=c.getTileCoordExtent(_,this.tmpExtent_);const T=this.gutter_;T!==0&&(y=Wp(y,m*T,y));const E={QUERY_LAYERS:this.params_.LAYERS};Object.assign(E,_q(this.params_,"GetFeatureInfo"),i);const P=Math.floor((a[0]-y[0])/m),I=Math.floor((y[3]-a[1])/m);return E[this.v13_?"I":"X"]=P,E[this.v13_?"J":"Y"]=I,this.getRequestUrl_(_,y,1,l||s,E)}getLegendUrl(e,n){if(this.urls[0]===void 0)return;const r={SERVICE:"WMS",VERSION:VR,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(n===void 0||n.LAYER===void 0){const i=this.params_.LAYERS;if(!(!Array.isArray(i)||i.length===1))return;r.LAYER=i}if(e!==void 0){const i=this.getProjection()?this.getProjection().getMetersPerUnit():1,s=28e-5;r.SCALE=e*i/s}return Object.assign(r,n),jT(this.urls[0],r)}getGutter(){return this.gutter_}getParams(){return this.params_}getRequestUrl_(e,n,r,i,s){const l=this.urls;if(!l)return;let c;if(l.length==1)c=l[0];else{const a=j_(hle(e),l.length);c=l[a]}return jst(n,(this.tileGrid||this.getTileGridForProjection(i)).getResolution(e[0]),r,i,c,s,this.serverType_)}getTilePixelRatio(e){return!this.hidpi_||this.serverType_===void 0?1:e}getKeyForParams_(){let e=0;const n=[];for(const r in this.params_)n[e++]=r+"-"+this.params_[r];return n.join("/")}updateParams(e){Object.assign(this.params_,e),this.updateV13_(),this.setKey(this.getKeyForParams_())}updateV13_(){const e=this.params_.VERSION||VR;this.v13_=yoe(e,"1.3")>=0}tileUrlFunction(e,n,r){let i=this.getTileGrid();if(i||(i=this.getTileGridForProjection(r)),i.getResolutions().length<=e[0])return;n!=1&&(!this.hidpi_||this.serverType_===void 0)&&(n=1);const s=i.getResolution(e[0]);let l=i.getTileCoordExtent(e,this.tmpExtent_);const c=this.gutter_;c!==0&&(l=Wp(l,s*c,l));const a=Object.assign({},_q(this.params_,"GetMap"));return this.getRequestUrl_(e,l,n,r,a)}}class Zst extends vle{constructor(e){const n=e.requestEncoding!==void 0?e.requestEncoding:"KVP",r=e.tileGrid;let i=e.urls;i===void 0&&e.url!==void 0&&(i=gle(e.url)),super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:r,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,urls:i,wrapX:e.wrapX!==void 0?e.wrapX:!1,transition:e.transition,zDirection:e.zDirection}),this.version_=e.version!==void 0?e.version:"1.0.0",this.format_=e.format!==void 0?e.format:"image/jpeg",this.dimensions_=e.dimensions!==void 0?e.dimensions:{},this.layer_=e.layer,this.matrixSet_=e.matrixSet,this.style_=e.style,this.requestEncoding_=n,this.setKey(this.getKeyForDimensions_()),i&&i.length>0&&(this.tileUrlFunction=zR(i.map(this.createFromWMTSTemplate.bind(this))))}setUrls(e){this.urls=e;const n=e.join(`
`);this.setTileUrlFunction(zR(e.map(this.createFromWMTSTemplate.bind(this))),n)}getDimensions(){return this.dimensions_}getFormat(){return this.format_}getLayer(){return this.layer_}getMatrixSet(){return this.matrixSet_}getRequestEncoding(){return this.requestEncoding_}getStyle(){return this.style_}getVersion(){return this.version_}getKeyForDimensions_(){const e=this.urls?this.urls.slice(0):[];for(const n in this.dimensions_)e.push(n+"-"+this.dimensions_[n]);return e.join("/")}updateDimensions(e){Object.assign(this.dimensions_,e),this.setKey(this.getKeyForDimensions_())}createFromWMTSTemplate(e){const n=this.requestEncoding_,r={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};n=="KVP"&&Object.assign(r,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),e=n=="KVP"?jT(e,r):e.replace(/\{(\w+?)\}/g,function(l,c){return c.toLowerCase()in r?r[c.toLowerCase()]:l});const i=this.tileGrid,s=this.dimensions_;return function(l,c,a){if(!l)return;const f={TileMatrix:i.getMatrixId(l[0]),TileCol:l[1],TileRow:l[2]};Object.assign(f,s);let A=e;return n=="KVP"?A=jT(A,f):A=A.replace(/\{(\w+?)\}/g,function(m,_){return f[_]}),A}}}const Xi={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},a3=[Xi.FILL],Pv=[Xi.STROKE],P_=[Xi.BEGIN_PATH],wq=[Xi.CLOSE_PATH];class Cle{drawCustom(e,n,r,i,s){}drawGeometry(e){}setStyle(e){}drawCircle(e,n,r){}drawFeature(e,n,r){}drawGeometryCollection(e,n,r){}drawLineString(e,n,r){}drawMultiLineString(e,n,r){}drawMultiPoint(e,n,r){}drawMultiPolygon(e,n,r){}drawPoint(e,n,r){}drawPolygon(e,n,r){}drawText(e,n,r){}setFillStrokeStyle(e,n){}setImageStyle(e,n){}setTextStyle(e,n){}}class t5 extends Cle{constructor(e,n,r,i){super(),this.tolerance=e,this.maxExtent=n,this.pixelRatio=i,this.maxLineWidth=0,this.resolution=r,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const n=this.pixelRatio;return n==1?e:e.map(function(r){return r*n})}appendFlatPointCoordinates(e,n){const r=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,s=this.coordinates;let l=s.length;for(let c=0,a=e.length;c<a;c+=n)i[0]=e[c],i[1]=e[c+1],t1(r,i)&&(s[l++]=i[0],s[l++]=i[1]);return l}appendFlatLineCoordinates(e,n,r,i,s,l){const c=this.coordinates;let a=c.length;const f=this.getBufferedMaxExtent();l&&(n+=i);let A=e[n],m=e[n+1];const _=this.tmpCoordinate_;let y=!0,T,E,P;for(T=n+i;T<r;T+=i)_[0]=e[T],_[1]=e[T+1],P=bR(f,_),P!==E?(y&&(c[a++]=A,c[a++]=m,y=!1),c[a++]=_[0],c[a++]=_[1]):P===Ou.INTERSECTING?(c[a++]=_[0],c[a++]=_[1],y=!1):y=!0,A=_[0],m=_[1],E=P;return(s&&y||T===n+i)&&(c[a++]=A,c[a++]=m),a}drawCustomCoordinates_(e,n,r,i,s){for(let l=0,c=r.length;l<c;++l){const a=r[l],f=this.appendFlatLineCoordinates(e,n,a,i,!1,!1);s.push(f),n=a}return n}drawCustom(e,n,r,i,s){this.beginGeometry(e,n,s);const l=e.getType(),c=e.getStride(),a=this.coordinates.length;let f,A,m,_,y;switch(l){case"MultiPolygon":f=e.getOrientedFlatCoordinates(),_=[];const T=e.getEndss();y=0;for(let E=0,P=T.length;E<P;++E){const I=[];y=this.drawCustomCoordinates_(f,y,T[E],c,I),_.push(I)}this.instructions.push([Xi.CUSTOM,a,_,e,r,BR,s]),this.hitDetectionInstructions.push([Xi.CUSTOM,a,_,e,i||r,BR,s]);break;case"Polygon":case"MultiLineString":m=[],f=l=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),y=this.drawCustomCoordinates_(f,0,e.getEnds(),c,m),this.instructions.push([Xi.CUSTOM,a,m,e,r,XC,s]),this.hitDetectionInstructions.push([Xi.CUSTOM,a,m,e,i||r,XC,s]);break;case"LineString":case"Circle":f=e.getFlatCoordinates(),A=this.appendFlatLineCoordinates(f,0,f.length,c,!1,!1),this.instructions.push([Xi.CUSTOM,a,A,e,r,Mv,s]),this.hitDetectionInstructions.push([Xi.CUSTOM,a,A,e,i||r,Mv,s]);break;case"MultiPoint":f=e.getFlatCoordinates(),A=this.appendFlatPointCoordinates(f,c),A>a&&(this.instructions.push([Xi.CUSTOM,a,A,e,r,Mv,s]),this.hitDetectionInstructions.push([Xi.CUSTOM,a,A,e,i||r,Mv,s]));break;case"Point":f=e.getFlatCoordinates(),this.coordinates.push(f[0],f[1]),A=this.coordinates.length,this.instructions.push([Xi.CUSTOM,a,A,e,r,void 0,s]),this.hitDetectionInstructions.push([Xi.CUSTOM,a,A,e,i||r,void 0,s]);break}this.endGeometry(n)}beginGeometry(e,n,r){this.beginGeometryInstruction1_=[Xi.BEGIN_GEOMETRY,n,0,e,r],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Xi.BEGIN_GEOMETRY,n,0,e,r],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;e.reverse();let n;const r=e.length;let i,s,l=-1;for(n=0;n<r;++n)i=e[n],s=i[0],s==Xi.END_GEOMETRY?l=n:s==Xi.BEGIN_GEOMETRY&&(i[2]=n,frt(this.hitDetectionInstructions,l,n),l=-1)}setFillStrokeStyle(e,n){const r=this.state;if(e){const i=e.getColor();r.fillPatternScale=i&&typeof i=="object"&&"src"in i?this.pixelRatio:1,r.fillStyle=tm(i||Lh)}else r.fillStyle=void 0;if(n){const i=n.getColor();r.strokeStyle=tm(i||t6);const s=n.getLineCap();r.lineCap=s!==void 0?s:A2;const l=n.getLineDash();r.lineDash=l?l.slice():$g;const c=n.getLineDashOffset();r.lineDashOffset=c||Vg;const a=n.getLineJoin();r.lineJoin=a!==void 0?a:m2;const f=n.getWidth();r.lineWidth=f!==void 0?f:r6;const A=n.getMiterLimit();r.miterLimit=A!==void 0?A:e6,r.lineWidth>this.maxLineWidth&&(this.maxLineWidth=r.lineWidth,this.bufferedMaxExtent_=null)}else r.strokeStyle=void 0,r.lineCap=void 0,r.lineDash=null,r.lineDashOffset=void 0,r.lineJoin=void 0,r.lineWidth=void 0,r.miterLimit=void 0}createFill(e){const n=e.fillStyle,r=[Xi.SET_FILL_STYLE,n];return typeof n!="string"&&r.push(e.fillPatternScale),r}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[Xi.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,n){const r=e.fillStyle;(typeof r!="string"||e.currentFillStyle!=r)&&(r!==void 0&&this.instructions.push(n.call(this,e)),e.currentFillStyle=r)}updateStrokeStyle(e,n){const r=e.strokeStyle,i=e.lineCap,s=e.lineDash,l=e.lineDashOffset,c=e.lineJoin,a=e.lineWidth,f=e.miterLimit;(e.currentStrokeStyle!=r||e.currentLineCap!=i||s!=e.currentLineDash&&!d0(e.currentLineDash,s)||e.currentLineDashOffset!=l||e.currentLineJoin!=c||e.currentLineWidth!=a||e.currentMiterLimit!=f)&&(r!==void 0&&n.call(this,e),e.currentStrokeStyle=r,e.currentLineCap=i,e.currentLineDash=s,e.currentLineDashOffset=l,e.currentLineJoin=c,e.currentLineWidth=a,e.currentMiterLimit=f)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const n=[Xi.END_GEOMETRY,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Aoe(this.maxExtent),this.maxLineWidth>0)){const e=this.resolution*(this.maxLineWidth+1)/2;Wp(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class Jst extends t5{constructor(e,n,r,i){super(e,n,r,i),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,n,r){if(!this.image_||this.maxExtent&&!t1(this.maxExtent,e.getFlatCoordinates()))return;this.beginGeometry(e,n,r);const i=e.getFlatCoordinates(),s=e.getStride(),l=this.coordinates.length,c=this.appendFlatPointCoordinates(i,s);this.instructions.push([Xi.DRAW_IMAGE,l,c,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Xi.DRAW_IMAGE,l,c,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}drawMultiPoint(e,n,r){if(!this.image_)return;this.beginGeometry(e,n,r);const i=e.getFlatCoordinates(),s=[];for(let a=0,f=i.length;a<f;a+=e.getStride())(!this.maxExtent||t1(this.maxExtent,i.slice(a,a+2)))&&s.push(i[a],i[a+1]);const l=this.coordinates.length,c=this.appendFlatPointCoordinates(s,2);this.instructions.push([Xi.DRAW_IMAGE,l,c,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Xi.DRAW_IMAGE,l,c,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,n){const r=e.getAnchor(),i=e.getSize(),s=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=r[0],this.anchorY_=r[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=i[1],this.opacity_=e.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=i[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=n}}class eot extends t5{constructor(e,n,r,i){super(e,n,r,i)}drawFlatCoordinates_(e,n,r,i){const s=this.coordinates.length,l=this.appendFlatLineCoordinates(e,n,r,i,!1,!1),c=[Xi.MOVE_TO_LINE_TO,s,l];return this.instructions.push(c),this.hitDetectionInstructions.push(c),r}drawLineString(e,n,r){const i=this.state,s=i.strokeStyle,l=i.lineWidth;if(s===void 0||l===void 0)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,n,r),this.hitDetectionInstructions.push([Xi.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,$g,Vg],P_);const c=e.getFlatCoordinates(),a=e.getStride();this.drawFlatCoordinates_(c,0,c.length,a),this.hitDetectionInstructions.push(Pv),this.endGeometry(n)}drawMultiLineString(e,n,r){const i=this.state,s=i.strokeStyle,l=i.lineWidth;if(s===void 0||l===void 0)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,n,r),this.hitDetectionInstructions.push([Xi.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,$g,Vg],P_);const c=e.getEnds(),a=e.getFlatCoordinates(),f=e.getStride();let A=0;for(let m=0,_=c.length;m<_;++m)A=this.drawFlatCoordinates_(a,A,c[m],f);this.hitDetectionInstructions.push(Pv),this.endGeometry(n)}finish(){const e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(Pv),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Pv),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(P_)}}class xq extends t5{constructor(e,n,r,i){super(e,n,r,i)}drawFlatCoordinatess_(e,n,r,i){const s=this.state,l=s.fillStyle!==void 0,c=s.strokeStyle!==void 0,a=r.length;this.instructions.push(P_),this.hitDetectionInstructions.push(P_);for(let f=0;f<a;++f){const A=r[f],m=this.coordinates.length,_=this.appendFlatLineCoordinates(e,n,A,i,!0,!c),y=[Xi.MOVE_TO_LINE_TO,m,_];this.instructions.push(y),this.hitDetectionInstructions.push(y),c&&(this.instructions.push(wq),this.hitDetectionInstructions.push(wq)),n=A}return l&&(this.instructions.push(a3),this.hitDetectionInstructions.push(a3)),c&&(this.instructions.push(Pv),this.hitDetectionInstructions.push(Pv)),n}drawCircle(e,n,r){const i=this.state,s=i.fillStyle,l=i.strokeStyle;if(s===void 0&&l===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([Xi.SET_FILL_STYLE,Lh]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Xi.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,$g,Vg]);const c=e.getFlatCoordinates(),a=e.getStride(),f=this.coordinates.length;this.appendFlatLineCoordinates(c,0,c.length,a,!1,!1);const A=[Xi.CIRCLE,f];this.instructions.push(P_,A),this.hitDetectionInstructions.push(P_,A),i.fillStyle!==void 0&&(this.instructions.push(a3),this.hitDetectionInstructions.push(a3)),i.strokeStyle!==void 0&&(this.instructions.push(Pv),this.hitDetectionInstructions.push(Pv)),this.endGeometry(n)}drawPolygon(e,n,r){const i=this.state,s=i.fillStyle,l=i.strokeStyle;if(s===void 0&&l===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([Xi.SET_FILL_STYLE,Lh]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Xi.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,$g,Vg]);const c=e.getEnds(),a=e.getOrientedFlatCoordinates(),f=e.getStride();this.drawFlatCoordinatess_(a,0,c,f),this.endGeometry(n)}drawMultiPolygon(e,n,r){const i=this.state,s=i.fillStyle,l=i.strokeStyle;if(s===void 0&&l===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([Xi.SET_FILL_STYLE,Lh]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Xi.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,$g,Vg]);const c=e.getEndss(),a=e.getOrientedFlatCoordinates(),f=e.getStride();let A=0;for(let m=0,_=c.length;m<_;++m)A=this.drawFlatCoordinatess_(a,A,c[m],f);this.endGeometry(n)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(e!==0){const n=this.coordinates;for(let r=0,i=n.length;r<i;++r)n[r]=f_(n[r],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;e.fillStyle!==void 0&&this.updateFillStyle(e,this.createFill),e.strokeStyle!==void 0&&this.updateStrokeStyle(e,this.applyStroke)}}function tot(t,e,n,r,i){const s=[];let l=n,c=0,a=e.slice(n,2);for(;c<t&&l+i<r;){const[f,A]=a.slice(-2),m=e[l+i],_=e[l+i+1],y=Math.sqrt((m-f)*(m-f)+(_-A)*(_-A));if(c+=y,c>=t){const T=(t-c+y)/y,E=Ld(f,m,T),P=Ld(A,_,T);a.push(E,P),s.push(a),a=[E,P],c==t&&(l+=i),c=0}else if(c<t)a.push(e[l+i],e[l+i+1]),l+=i;else{const T=y-c,E=Ld(f,m,T/y),P=Ld(A,_,T/y);a.push(E,P),s.push(a),a=[E,P],c=0,l+=i}}return c>0&&s.push(a),s}function not(t,e,n,r,i){let s=n,l=n,c=0,a=0,f=n,A,m,_,y,T,E,P,I,F,R;for(m=n;m<r;m+=i){const N=e[m],z=e[m+1];T!==void 0&&(F=N-T,R=z-E,y=Math.sqrt(F*F+R*R),P!==void 0&&(a+=_,A=Math.acos((P*F+I*R)/(_*y)),A>t&&(a>c&&(c=a,s=f,l=m),a=0,f=m-i)),_=y,P=F,I=R),T=N,E=z}return a+=y,a>c?[f,m]:[s,l]}const GT={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class rot extends t5{constructor(e,n,r,i){super(e,n,r,i),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[Lh]={fillStyle:Lh},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,n,r){const i=this.textFillState_,s=this.textStrokeState_,l=this.textState_;if(this.text_===""||!l||!i&&!s)return;const c=this.coordinates;let a=c.length;const f=e.getType();let A=null,m=e.getStride();if(l.placement==="line"&&(f=="LineString"||f=="MultiLineString"||f=="Polygon"||f=="MultiPolygon")){if(!tu(this.maxExtent,e.getExtent()))return;let _;if(A=e.getFlatCoordinates(),f=="LineString")_=[A.length];else if(f=="MultiLineString")_=e.getEnds();else if(f=="Polygon")_=e.getEnds().slice(0,1);else if(f=="MultiPolygon"){const P=e.getEndss();_=[];for(let I=0,F=P.length;I<F;++I)_.push(P[I][0])}this.beginGeometry(e,n,r);const y=l.repeat,T=y?void 0:l.textAlign;let E=0;for(let P=0,I=_.length;P<I;++P){let F;y?F=tot(y*this.resolution,A,E,_[P],m):F=[A.slice(E,_[P])];for(let R=0,N=F.length;R<N;++R){const z=F[R];let Q=0,j=z.length;if(T==null){const K=not(l.maxAngle,z,0,z.length,2);Q=K[0],j=K[1]}for(let K=Q;K<j;K+=m)c.push(z[K],z[K+1]);const H=c.length;E=_[P],this.drawChars_(a,H),a=H}}this.endGeometry(n)}else{let _=l.overflow?null:[];switch(f){case"Point":case"MultiPoint":A=e.getFlatCoordinates();break;case"LineString":A=e.getFlatMidpoint();break;case"Circle":A=e.getCenter();break;case"MultiLineString":A=e.getFlatMidpoints(),m=2;break;case"Polygon":A=e.getFlatInteriorPoint(),l.overflow||_.push(A[2]/this.resolution),m=3;break;case"MultiPolygon":const F=e.getFlatInteriorPoints();A=[];for(let R=0,N=F.length;R<N;R+=3)l.overflow||_.push(F[R+2]/this.resolution),A.push(F[R],F[R+1]);if(A.length===0)return;m=2;break}const y=this.appendFlatPointCoordinates(A,m);if(y===a)return;if(_&&(y-a)/2!==A.length/m){let F=a/2;_=_.filter((R,N)=>{const z=c[(F+N)*2]===A[N*m]&&c[(F+N)*2+1]===A[N*m+1];return z||--F,z})}this.saveTextStates_(),(l.backgroundFill||l.backgroundStroke)&&(this.setFillStrokeStyle(l.backgroundFill,l.backgroundStroke),l.backgroundFill&&this.updateFillStyle(this.state,this.createFill),l.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,n,r);let T=l.padding;if(T!=L_&&(l.scale[0]<0||l.scale[1]<0)){let F=l.padding[0],R=l.padding[1],N=l.padding[2],z=l.padding[3];l.scale[0]<0&&(R=-R,z=-z),l.scale[1]<0&&(F=-F,N=-N),T=[F,R,N,z]}const E=this.pixelRatio;this.instructions.push([Xi.DRAW_IMAGE,a,y,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,T==L_?L_:T.map(function(F){return F*E}),!!l.backgroundFill,!!l.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,_]);const P=1/E,I=this.state.fillStyle;l.backgroundFill&&(this.state.fillStyle=Lh,this.hitDetectionInstructions.push(this.createFill(this.state))),this.hitDetectionInstructions.push([Xi.DRAW_IMAGE,a,y,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[P,P],NaN,this.declutterMode_,this.declutterImageWithText_,T,!!l.backgroundFill,!!l.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?Lh:this.fillKey_,this.textOffsetX_,this.textOffsetY_,_]),l.backgroundFill&&(this.state.fillStyle=I,this.hitDetectionInstructions.push(this.createFill(this.state))),this.endGeometry(n)}}saveTextStates_(){const e=this.textStrokeState_,n=this.textState_,r=this.textFillState_,i=this.strokeKey_;e&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const s=this.textKey_;s in this.textStates||(this.textStates[s]={font:n.font,textAlign:n.textAlign||n6,justify:n.justify,textBaseline:n.textBaseline||UT,scale:n.scale});const l=this.fillKey_;r&&(l in this.fillStates||(this.fillStates[l]={fillStyle:r.fillStyle}))}drawChars_(e,n){const r=this.textStrokeState_,i=this.textState_,s=this.strokeKey_,l=this.textKey_,c=this.fillKey_;this.saveTextStates_();const a=this.pixelRatio,f=GT[i.textBaseline],A=this.textOffsetY_*a,m=this.text_,_=r?r.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([Xi.DRAW_CHARS,e,n,f,i.overflow,c,i.maxAngle,a,A,s,_*a,m,l,1,this.declutterMode_]),this.hitDetectionInstructions.push([Xi.DRAW_CHARS,e,n,f,i.overflow,c&&Lh,i.maxAngle,a,A,s,_*a,m,l,1/a,this.declutterMode_])}setTextStyle(e,n){let r,i,s;if(!e)this.text_="";else{const l=e.getFill();l?(i=this.textFillState_,i||(i={},this.textFillState_=i),i.fillStyle=tm(l.getColor()||Lh)):(i=null,this.textFillState_=i);const c=e.getStroke();if(!c)s=null,this.textStrokeState_=s;else{s=this.textStrokeState_,s||(s={},this.textStrokeState_=s);const T=c.getLineDash(),E=c.getLineDashOffset(),P=c.getWidth(),I=c.getMiterLimit();s.lineCap=c.getLineCap()||A2,s.lineDash=T?T.slice():$g,s.lineDashOffset=E===void 0?Vg:E,s.lineJoin=c.getLineJoin()||m2,s.lineWidth=P===void 0?r6:P,s.miterLimit=I===void 0?e6:I,s.strokeStyle=tm(c.getColor()||t6)}r=this.textState_;const a=e.getFont()||Goe;Yit(a);const f=e.getScaleArray();r.overflow=e.getOverflow(),r.font=a,r.maxAngle=e.getMaxAngle(),r.placement=e.getPlacement(),r.textAlign=e.getTextAlign(),r.repeat=e.getRepeat(),r.justify=e.getJustify(),r.textBaseline=e.getTextBaseline()||UT,r.backgroundFill=e.getBackgroundFill(),r.backgroundStroke=e.getBackgroundStroke(),r.padding=e.getPadding()||L_,r.scale=f===void 0?[1,1]:f;const A=e.getOffsetX(),m=e.getOffsetY(),_=e.getRotateWithView(),y=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=A===void 0?0:A,this.textOffsetY_=m===void 0?0:m,this.textRotateWithView_=_===void 0?!1:_,this.textRotation_=y===void 0?0:y,this.strokeKey_=s?(typeof s.strokeStyle=="string"?s.strokeStyle:Bi(s.strokeStyle))+s.lineCap+s.lineDashOffset+"|"+s.lineWidth+s.lineJoin+s.miterLimit+"["+s.lineDash.join()+"]":"",this.textKey_=r.font+r.scale+(r.textAlign||"?")+(r.repeat||"?")+(r.justify||"?")+(r.textBaseline||"?"),this.fillKey_=i&&i.fillStyle?typeof i.fillStyle=="string"?i.fillStyle:"|"+Bi(i.fillStyle):""}this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=n}}const iot={Circle:xq,Default:t5,Image:Jst,LineString:eot,Polygon:xq,Text:rot};class Ele{constructor(e,n,r,i){this.tolerance_=e,this.maxExtent_=n,this.pixelRatio_=i,this.resolution_=r,this.buildersByZIndex_={}}finish(){const e={};for(const n in this.buildersByZIndex_){e[n]=e[n]||{};const r=this.buildersByZIndex_[n];for(const i in r){const s=r[i].finish();e[n][i]=s}}return e}getBuilder(e,n){const r=e!==void 0?e.toString():"0";let i=this.buildersByZIndex_[r];i===void 0&&(i={},this.buildersByZIndex_[r]=i);let s=i[n];if(s===void 0){const l=iot[n];s=new l(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[n]=s}return s}}function aot(t,e,n,r,i,s,l,c,a,f,A,m){let _=t[e],y=t[e+1],T=0,E=0,P=0,I=0;function F(){T=_,E=y,e+=r,_=t[e],y=t[e+1],I+=P,P=Math.sqrt((_-T)*(_-T)+(y-E)*(y-E))}do F();while(e<n-r&&I+P<s);let R=P===0?0:(s-I)/P;const N=Ld(T,_,R),z=Ld(E,y,R),Q=e-r,j=I,H=s+c*a(f,i,A);for(;e<n-r&&I+P<H;)F();R=P===0?0:(H-I)/P;const K=Ld(T,_,R),ie=Ld(E,y,R);let q;if(m){const te=[N,z,K,ie];p7(te,0,4,2,m,te,te),q=te[0]>te[2]}else q=N>K;const W=Math.PI,ee=[],ue=Q+r===e;e=Q,P=0,I=j,_=t[e],y=t[e+1];let J;if(ue){F(),J=Math.atan2(y-E,_-T),q&&(J+=J>0?-W:W);const te=(K+N)/2,ne=(ie+z)/2;return ee[0]=[te,ne,(H-s)/2,J,i],ee}i=i.replace(/\n/g," ");for(let te=0,ne=i.length;te<ne;){F();let he=Math.atan2(y-E,_-T);if(q&&(he+=he>0?-W:W),J!==void 0){let _e=he-J;if(_e+=_e>W?-2*W:_e<-W?2*W:0,Math.abs(_e)>l)return null}J=he;const ce=te;let ye=0;for(;te<ne;++te){const _e=q?ne-te-1:te,Ue=c*a(f,i[_e],A);if(e+r<n&&I+P<s+ye+Ue/2)break;ye+=Ue}if(te===ce)continue;const Ee=q?i.substring(ne-ce,ne-te):i.substring(ce,te);R=P===0?0:(s+ye/2-I)/P;const se=Ld(T,_,R),oe=Ld(E,y,R);ee.push([se,oe,ye/2,he,Ee]),s+=ye}return ee}const Cb=sc(),tv=[],wg=[],xg=[],nv=[];function Cq(t){return t[3].declutterBox}const Eq=new RegExp("[-----]");function aP(t,e){return e==="start"?e=Eq.test(t)?"right":"left":e==="end"&&(e=Eq.test(t)?"left":"right"),GT[e]}function sot(t,e,n){return n>0&&t.push(`
`,""),t.push(e,""),t}class oot{constructor(e,n,r,i,s){this.overlaps=r,this.pixelRatio=n,this.resolution=e,this.alignAndScaleFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=zo(),this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=s?new Q7:null}getZIndexContext(){return this.zIndexContext_}createLabel(e,n,r,i){const s=e+n+r+i;if(this.labels_[s])return this.labels_[s];const l=i?this.strokeStates[i]:null,c=r?this.fillStates[r]:null,a=this.textStates[n],f=this.pixelRatio,A=[a.scale[0]*f,a.scale[1]*f],m=Array.isArray(e),_=a.justify?GT[a.justify]:aP(Array.isArray(e)?e[0]:e,a.textAlign||n6),y=i&&l.lineWidth?l.lineWidth:0,T=m?e:e.split(`
`).reduce(sot,[]),{width:E,height:P,widths:I,heights:F,lineWidths:R}=Zit(a,T),N=E+y,z=[],Q=(N+2)*A[0],j=(P+y)*A[1],H={width:Q<0?Math.floor(Q):Math.ceil(Q),height:j<0?Math.floor(j):Math.ceil(j),contextInstructions:z};(A[0]!=1||A[1]!=1)&&z.push("scale",A),i&&(z.push("strokeStyle",l.strokeStyle),z.push("lineWidth",y),z.push("lineCap",l.lineCap),z.push("lineJoin",l.lineJoin),z.push("miterLimit",l.miterLimit),z.push("setLineDash",[l.lineDash]),z.push("lineDashOffset",l.lineDashOffset)),r&&z.push("fillStyle",c.fillStyle),z.push("textBaseline","middle"),z.push("textAlign","center");const K=.5-_;let ie=_*N+K*y;const q=[],W=[];let ee=0,ue=0,J=0,te=0,ne;for(let he=0,ce=T.length;he<ce;he+=2){const ye=T[he];if(ye===`
`){ue+=ee,ee=0,ie=_*N+K*y,++te;continue}const Ee=T[he+1]||a.font;Ee!==ne&&(i&&q.push("font",Ee),r&&W.push("font",Ee),ne=Ee),ee=Math.max(ee,F[J]);const se=[ye,ie+K*I[J]+_*(I[J]-R[te]),.5*(y+ee)+ue];ie+=I[J],i&&q.push("strokeText",se),r&&W.push("fillText",se),++J}return Array.prototype.push.apply(z,q),Array.prototype.push.apply(z,W),this.labels_[s]=H,H}replayTextBackground_(e,n,r,i,s,l,c){e.beginPath(),e.moveTo.apply(e,n),e.lineTo.apply(e,r),e.lineTo.apply(e,i),e.lineTo.apply(e,s),e.lineTo.apply(e,n),l&&(this.alignAndScaleFill_=l[2],this.fill_(e)),c&&(this.setStrokeStyle_(e,c),e.stroke())}calculateImageOrLabelDimensions_(e,n,r,i,s,l,c,a,f,A,m,_,y,T,E,P){c*=_[0],a*=_[1];let I=r-c,F=i-a;const R=s+f>e?e-f:s,N=l+A>n?n-A:l,z=T[3]+R*_[0]+T[1],Q=T[0]+N*_[1]+T[2],j=I-T[3],H=F-T[0];(E||m!==0)&&(tv[0]=j,nv[0]=j,tv[1]=H,wg[1]=H,wg[0]=j+z,xg[0]=wg[0],xg[1]=H+Q,nv[1]=xg[1]);let K;return m!==0?(K=Vh(zo(),r,i,1,1,m,-r,-i),Po(K,tv),Po(K,wg),Po(K,xg),Po(K,nv),ym(Math.min(tv[0],wg[0],xg[0],nv[0]),Math.min(tv[1],wg[1],xg[1],nv[1]),Math.max(tv[0],wg[0],xg[0],nv[0]),Math.max(tv[1],wg[1],xg[1],nv[1]),Cb)):ym(Math.min(j,j+z),Math.min(H,H+Q),Math.max(j,j+z),Math.max(H,H+Q),Cb),y&&(I=Math.round(I),F=Math.round(F)),{drawImageX:I,drawImageY:F,drawImageW:R,drawImageH:N,originX:f,originY:A,declutterBox:{minX:Cb[0],minY:Cb[1],maxX:Cb[2],maxY:Cb[3],value:P},canvasTransform:K,scale:_}}replayImageOrLabel_(e,n,r,i,s,l,c){const a=!!(l||c),f=i.declutterBox,A=c?c[2]*i.scale[0]/2:0;return f.minX-A<=n[0]&&f.maxX+A>=0&&f.minY-A<=n[1]&&f.maxY+A>=0&&(a&&this.replayTextBackground_(e,tv,wg,xg,nv,l,c),Jit(e,i.canvasTransform,s,r,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0}fill_(e){const n=this.alignAndScaleFill_;if(n){const r=Po(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;e.save(),e.translate(r[0]%i,r[1]%i),n!==1&&e.scale(n,n),e.rotate(this.viewRotation_)}e.fill(),n&&e.restore()}setStrokeStyle_(e,n){e.strokeStyle=n[1],e.lineWidth=n[2],e.lineCap=n[3],e.lineJoin=n[4],e.miterLimit=n[5],e.lineDashOffset=n[7],e.setLineDash(n[6])}drawLabelWithPointPlacement_(e,n,r,i){const s=this.textStates[n],l=this.createLabel(e,n,i,r),c=this.strokeStates[r],a=this.pixelRatio,f=aP(Array.isArray(e)?e[0]:e,s.textAlign||n6),A=GT[s.textBaseline||UT],m=c&&c.lineWidth?c.lineWidth:0,_=l.width/a-2*s.scale[0],y=f*_+2*(.5-f)*m,T=A*l.height/a+2*(.5-A)*m;return{label:l,anchorX:y,anchorY:T}}execute_(e,n,r,i,s,l,c,a){const f=this.zIndexContext_;let A;this.pixelCoordinates_&&d0(r,this.renderedTransform_)?A=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),A=um(this.coordinates,0,this.coordinates.length,2,r,this.pixelCoordinates_),poe(this.renderedTransform_,r));let m=0;const _=i.length;let y=0,T,E,P,I,F,R,N,z,Q,j,H,K,ie,q=0,W=0,ee=null,ue=null;const J=this.coordinateCache_,te=this.viewRotation_,ne=Math.round(Math.atan2(-r[1],r[0])*1e12)/1e12,he={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:te},ce=this.instructions!=i||this.overlaps?0:200;let ye,Ee,se,oe;for(;m<_;){const _e=i[m];switch(_e[0]){case Xi.BEGIN_GEOMETRY:ye=_e[1],oe=_e[3],ye.getGeometry()?c!==void 0&&!tu(c,oe.getExtent())?m=_e[2]+1:++m:m=_e[2],f&&(f.zIndex=_e[4]);break;case Xi.BEGIN_PATH:q>ce&&(this.fill_(e),q=0),W>ce&&(e.stroke(),W=0),!q&&!W&&(e.beginPath(),F=NaN,R=NaN),++m;break;case Xi.CIRCLE:y=_e[1];const Le=A[y],be=A[y+1],Re=A[y+2],Qe=A[y+3],Je=Re-Le,nt=Qe-be,Ve=Math.sqrt(Je*Je+nt*nt);e.moveTo(Le+Ve,be),e.arc(Le,be,Ve,0,2*Math.PI,!0),++m;break;case Xi.CLOSE_PATH:e.closePath(),++m;break;case Xi.CUSTOM:y=_e[1],T=_e[2];const Pe=_e[3],Ge=_e[4],Ne=_e[5];he.geometry=Pe,he.feature=ye,m in J||(J[m]=[]);const je=J[m];Ne?Ne(A,y,T,2,je):(je[0]=A[y],je[1]=A[y+1],je.length=2),f&&(f.zIndex=_e[6]),Ge(je,he),++m;break;case Xi.DRAW_IMAGE:y=_e[1],T=_e[2],Q=_e[3],E=_e[4],P=_e[5];let Ye=_e[6];const vt=_e[7],Lt=_e[8],Et=_e[9],Vt=_e[10];let _t=_e[11];const qt=_e[12];let tn=_e[13];I=_e[14]||"declutter";const Nt=_e[15];if(!Q&&_e.length>=20){j=_e[19],H=_e[20],K=_e[21],ie=_e[22];const xi=this.drawLabelWithPointPlacement_(j,H,K,ie);Q=xi.label,_e[3]=Q;const ai=_e[23];E=(xi.anchorX-ai)*this.pixelRatio,_e[4]=E;const zi=_e[24];P=(xi.anchorY-zi)*this.pixelRatio,_e[5]=P,Ye=Q.height,_e[6]=Ye,tn=Q.width,_e[13]=tn}let wt;_e.length>25&&(wt=_e[25]);let De,We,ut;_e.length>17?(De=_e[16],We=_e[17],ut=_e[18]):(De=L_,We=!1,ut=!1),Vt&&ne?_t+=te:!Vt&&!ne&&(_t-=te);let It=0;for(;y<T;y+=2){if(wt&&wt[It++]<tn/this.pixelRatio)continue;const xi=this.calculateImageOrLabelDimensions_(Q.width,Q.height,A[y],A[y+1],tn,Ye,E,P,Lt,Et,_t,qt,s,De,We||ut,ye),ai=[e,n,Q,xi,vt,We?ee:null,ut?ue:null];if(a){let zi,ma,Rr;if(Nt){const Jt=T-y;if(!Nt[Jt]){Nt[Jt]={args:ai,declutterMode:I};continue}const hn=Nt[Jt];zi=hn.args,ma=hn.declutterMode,delete Nt[Jt],Rr=Cq(zi)}let Ki,$i;if(zi&&(ma!=="declutter"||!a.collides(Rr))&&(Ki=!0),(I!=="declutter"||!a.collides(xi.declutterBox))&&($i=!0),ma==="declutter"&&I==="declutter"){const Jt=Ki&&$i;Ki=Jt,$i=Jt}Ki&&(ma!=="none"&&a.insert(Rr),this.replayImageOrLabel_.apply(this,zi)),$i&&(I!=="none"&&a.insert(xi.declutterBox),this.replayImageOrLabel_.apply(this,ai))}else this.replayImageOrLabel_.apply(this,ai)}++m;break;case Xi.DRAW_CHARS:const Xe=_e[1],Pt=_e[2],Bt=_e[3],it=_e[4];ie=_e[5];const Mt=_e[6],at=_e[7],et=_e[8];K=_e[9];const St=_e[10];j=_e[11],H=_e[12];const sn=[_e[13],_e[13]];I=_e[14]||"declutter";const bn=this.textStates[H],gr=bn.font,tr=[bn.scale[0]*at,bn.scale[1]*at];let Nn;gr in this.widths_?Nn=this.widths_[gr]:(Nn={},this.widths_[gr]=Nn);const lr=_le(A,Xe,Pt,2),Qr=Math.abs(tr[0])*eq(gr,j,Nn);if(it||Qr<=lr){const xi=this.textStates[H].textAlign,ai=(lr-Qr)*aP(j,xi),zi=aot(A,Xe,Pt,2,j,ai,Mt,Math.abs(tr[0]),eq,gr,Nn,ne?0:this.viewRotation_);e:if(zi){const ma=[];let Rr,Ki,$i,Jt,hn;if(K)for(Rr=0,Ki=zi.length;Rr<Ki;++Rr){hn=zi[Rr],$i=hn[4],Jt=this.createLabel($i,H,"",K),E=hn[2]+(tr[0]<0?-St:St),P=Bt*Jt.height+(.5-Bt)*2*St*tr[1]/tr[0]-et;const En=this.calculateImageOrLabelDimensions_(Jt.width,Jt.height,hn[0],hn[1],Jt.width,Jt.height,E,P,0,0,hn[3],sn,!1,L_,!1,ye);if(a&&I==="declutter"&&a.collides(En.declutterBox))break e;ma.push([e,n,Jt,En,1,null,null])}if(ie)for(Rr=0,Ki=zi.length;Rr<Ki;++Rr){hn=zi[Rr],$i=hn[4],Jt=this.createLabel($i,H,ie,""),E=hn[2],P=Bt*Jt.height-et;const En=this.calculateImageOrLabelDimensions_(Jt.width,Jt.height,hn[0],hn[1],Jt.width,Jt.height,E,P,0,0,hn[3],sn,!1,L_,!1,ye);if(a&&I==="declutter"&&a.collides(En.declutterBox))break e;ma.push([e,n,Jt,En,1,null,null])}a&&I!=="none"&&a.load(ma.map(Cq));for(let En=0,Hn=ma.length;En<Hn;++En)this.replayImageOrLabel_.apply(this,ma[En])}}++m;break;case Xi.END_GEOMETRY:if(l!==void 0){ye=_e[1];const xi=l(ye,oe);if(xi)return xi}++m;break;case Xi.FILL:ce?q++:this.fill_(e),++m;break;case Xi.MOVE_TO_LINE_TO:for(y=_e[1],T=_e[2],Ee=A[y],se=A[y+1],N=Ee+.5|0,z=se+.5|0,(N!==F||z!==R)&&(e.moveTo(Ee,se),F=N,R=z),y+=2;y<T;y+=2)Ee=A[y],se=A[y+1],N=Ee+.5|0,z=se+.5|0,(y==T-2||N!==F||z!==R)&&(e.lineTo(Ee,se),F=N,R=z);++m;break;case Xi.SET_FILL_STYLE:ee=_e,this.alignAndScaleFill_=_e[2],q&&(this.fill_(e),q=0,W&&(e.stroke(),W=0)),e.fillStyle=_e[1],++m;break;case Xi.SET_STROKE_STYLE:ue=_e,W&&(e.stroke(),W=0),this.setStrokeStyle_(e,_e),++m;break;case Xi.STROKE:ce?W++:e.stroke(),++m;break;default:++m;break}}q&&this.fill_(e),W&&e.stroke()}execute(e,n,r,i,s,l){this.viewRotation_=i,this.execute_(e,n,r,this.instructions,s,void 0,void 0,l)}executeHitDetection(e,n,r,i,s){return this.viewRotation_=r,this.execute_(e,[e.canvas.width,e.canvas.height],n,this.hitDetectionInstructions,!0,i,s)}}const eC=["Polygon","Circle","LineString","Image","Text","Default"],KT=["Image","Text"],lot=eC.filter(t=>!KT.includes(t));class Sle{constructor(e,n,r,i,s,l,c){this.maxExtent_=e,this.overlaps_=i,this.pixelRatio_=r,this.resolution_=n,this.renderBuffer_=l,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=zo(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(s,c)}clip(e,n){const r=this.getClipCoords(n);e.beginPath(),e.moveTo(r[0],r[1]),e.lineTo(r[2],r[3]),e.lineTo(r[4],r[5]),e.lineTo(r[6],r[7]),e.clip()}createExecutors_(e,n){for(const r in e){let i=this.executorsByZIndex_[r];i===void 0&&(i={},this.executorsByZIndex_[r]=i);const s=e[r];for(const l in s){const c=s[l];i[l]=new oot(this.resolution_,this.pixelRatio_,this.overlaps_,c,n)}}}hasExecutors(e){for(const n in this.executorsByZIndex_){const r=this.executorsByZIndex_[n];for(let i=0,s=e.length;i<s;++i)if(e[i]in r)return!0}return!1}forEachFeatureAtCoordinate(e,n,r,i,s,l){i=Math.round(i);const c=i*2+1,a=Vh(this.hitDetectionTransform_,i+.5,i+.5,1/n,-1/n,-r,-e[0],-e[1]),f=!this.hitDetectionContext_;f&&(this.hitDetectionContext_=$u(c,c,void 0,{willReadFrequently:!0}));const A=this.hitDetectionContext_;A.canvas.width!==c||A.canvas.height!==c?(A.canvas.width=c,A.canvas.height=c):f||A.clearRect(0,0,c,c);let m;this.renderBuffer_!==void 0&&(m=sc(),X4(m,e),Wp(m,n*(this.renderBuffer_+i),m));const _=uot(i);let y;function T(z,Q){const j=A.getImageData(0,0,c,c).data;for(let H=0,K=_.length;H<K;H++)if(j[_[H]]>0){if(!l||y!=="Image"&&y!=="Text"||l.includes(z)){const ie=(_[H]-3)/4,q=i-ie%c,W=i-(ie/c|0),ee=s(z,Q,q*q+W*W);if(ee)return ee}A.clearRect(0,0,c,c);break}}const E=Object.keys(this.executorsByZIndex_).map(Number);E.sort(om);let P,I,F,R,N;for(P=E.length-1;P>=0;--P){const z=E[P].toString();for(F=this.executorsByZIndex_[z],I=eC.length-1;I>=0;--I)if(y=eC[I],R=F[y],R!==void 0&&(N=R.executeHitDetection(A,a,r,T,m),N))return N}}getClipCoords(e){const n=this.maxExtent_;if(!n)return null;const r=n[0],i=n[1],s=n[2],l=n[3],c=[r,i,r,l,s,l,s,i];return um(c,0,8,2,e,c),c}isEmpty(){return p2(this.executorsByZIndex_)}execute(e,n,r,i,s,l,c){const a=Object.keys(this.executorsByZIndex_).map(Number);a.sort(om),l=l||eC;let f,A,m,_,y,T;for(c&&a.reverse(),f=0,A=a.length;f<A;++f){const E=a[f].toString();for(y=this.executorsByZIndex_[E],m=0,_=l.length;m<_;++m){const P=l[m];if(T=y[P],T!==void 0){const I=c===null?void 0:T.getZIndexContext(),F=I?I.getContext():e,R=this.maxExtent_&&P!=="Image"&&P!=="Text";if(R&&(F.save(),this.clip(F,r)),T.execute(F,n,r,i,s,c),R&&F.restore(),I){I.offset();const N=a[f];this.deferredZIndexContexts_[N]||(this.deferredZIndexContexts_[N]=[]),this.deferredZIndexContexts_[N].push(I)}}}}this.renderedContext_=e}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const e=this.deferredZIndexContexts_,n=Object.keys(e).map(Number).sort(om);for(let r=0,i=n.length;r<i;++r)e[n[r]].forEach(s=>{s.draw(this.renderedContext_),s.clear()})}}const sP={};function uot(t){if(sP[t]!==void 0)return sP[t];const e=t*2+1,n=t*t,r=new Array(n+1);for(let s=0;s<=t;++s)for(let l=0;l<=t;++l){const c=s*s+l*l;if(c>n)break;let a=r[c];a||(a=[],r[c]=a),a.push(((t+s)*e+(t+l))*4+3),s>0&&a.push(((t-s)*e+(t+l))*4+3),l>0&&(a.push(((t+s)*e+(t-l))*4+3),s>0&&a.push(((t-s)*e+(t-l))*4+3))}const i=[];for(let s=0,l=r.length;s<l;++s)r[s]&&i.push(...r[s]);return sP[t]=i,i}class Tle extends Cle{constructor(e,n,r,i,s,l,c){super(),this.context_=e,this.pixelRatio_=n,this.extent_=r,this.transform_=i,this.transformRotation_=i?EB(Math.atan2(i[1],i[0]),10):0,this.viewRotation_=s,this.squaredTolerance_=l,this.userTransform_=c,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=zo()}drawImages_(e,n,r,i){if(!this.image_)return;const s=um(e,n,r,i,this.transform_,this.pixelCoordinates_),l=this.context_,c=this.tmpLocalTransform_,a=l.globalAlpha;this.imageOpacity_!=1&&(l.globalAlpha=a*this.imageOpacity_);let f=this.imageRotation_;this.transformRotation_===0&&(f-=this.viewRotation_),this.imageRotateWithView_&&(f+=this.viewRotation_);for(let A=0,m=s.length;A<m;A+=2){const _=s[A]-this.imageAnchorX_,y=s[A+1]-this.imageAnchorY_;if(f!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const T=_+this.imageAnchorX_,E=y+this.imageAnchorY_;Vh(c,T,E,1,1,f,-T,-E),l.save(),l.transform.apply(l,c),l.translate(T,E),l.scale(this.imageScale_[0],this.imageScale_[1]),l.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),l.restore()}else l.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,_,y,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(l.globalAlpha=a)}drawText_(e,n,r,i){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const s=um(e,n,r,i,this.transform_,this.pixelCoordinates_),l=this.context_;let c=this.textRotation_;for(this.transformRotation_===0&&(c-=this.viewRotation_),this.textRotateWithView_&&(c+=this.viewRotation_);n<r;n+=i){const a=s[n]+this.textOffsetX_,f=s[n+1]+this.textOffsetY_;c!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(l.save(),l.translate(a-this.textOffsetX_,f-this.textOffsetY_),l.rotate(c),l.translate(this.textOffsetX_,this.textOffsetY_),l.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&l.strokeText(this.text_,0,0),this.textFillState_&&l.fillText(this.text_,0,0),l.restore()):(this.textStrokeState_&&l.strokeText(this.text_,a,f),this.textFillState_&&l.fillText(this.text_,a,f))}}moveToLineTo_(e,n,r,i,s){const l=this.context_,c=um(e,n,r,i,this.transform_,this.pixelCoordinates_);l.moveTo(c[0],c[1]);let a=c.length;s&&(a-=2);for(let f=2;f<a;f+=2)l.lineTo(c[f],c[f+1]);return s&&l.closePath(),r}drawRings_(e,n,r,i){for(let s=0,l=r.length;s<l;++s)n=this.moveToLineTo_(e,n,r[s],i,!0);return n}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!tu(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=Jrt(e,this.transform_,this.pixelCoordinates_),r=n[2]-n[0],i=n[3]-n[1],s=Math.sqrt(r*r+i*i),l=this.context_;l.beginPath(),l.arc(n[0],n[1],s,0,2*Math.PI),this.fillState_&&l.fill(),this.strokeState_&&l.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break}}drawFeature(e,n){const r=n.getGeometryFunction()(e);r&&(this.setStyle(n),this.drawGeometry(r))}drawGeometryCollection(e){const n=e.getGeometriesArray();for(let r=0,i=n.length;r<i;++r)this.drawGeometry(n[r])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getFlatCoordinates(),r=e.getStride();this.image_&&this.drawImages_(n,0,n.length,r),this.text_!==""&&this.drawText_(n,0,n.length,r)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getFlatCoordinates(),r=e.getStride();this.image_&&this.drawImages_(n,0,n.length,r),this.text_!==""&&this.drawText_(n,0,n.length,r)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!tu(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const n=this.context_,r=e.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(r,0,r.length,e.getStride(),!1),n.stroke()}if(this.text_!==""){const n=e.getFlatMidpoint();this.drawText_(n,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getExtent();if(tu(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const r=this.context_,i=e.getFlatCoordinates();let s=0;const l=e.getEnds(),c=e.getStride();r.beginPath();for(let a=0,f=l.length;a<f;++a)s=this.moveToLineTo_(i,s,l[a],c,!1);r.stroke()}if(this.text_!==""){const r=e.getFlatMidpoints();this.drawText_(r,0,r.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!tu(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_;n.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=e.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!tu(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_,r=e.getOrientedFlatCoordinates();let i=0;const s=e.getEndss(),l=e.getStride();n.beginPath();for(let c=0,a=s.length;c<a;++c){const f=s[c];i=this.drawRings_(r,i,f,l)}this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=e.getFlatInteriorPoints();this.drawText_(n,0,n.length,2)}}}setContextFillState_(e){const n=this.context_,r=this.contextFillState_;r?r.fillStyle!=e.fillStyle&&(r.fillStyle=e.fillStyle,n.fillStyle=e.fillStyle):(n.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const n=this.context_,r=this.contextStrokeState_;r?(r.lineCap!=e.lineCap&&(r.lineCap=e.lineCap,n.lineCap=e.lineCap),d0(r.lineDash,e.lineDash)||n.setLineDash(r.lineDash=e.lineDash),r.lineDashOffset!=e.lineDashOffset&&(r.lineDashOffset=e.lineDashOffset,n.lineDashOffset=e.lineDashOffset),r.lineJoin!=e.lineJoin&&(r.lineJoin=e.lineJoin,n.lineJoin=e.lineJoin),r.lineWidth!=e.lineWidth&&(r.lineWidth=e.lineWidth,n.lineWidth=e.lineWidth),r.miterLimit!=e.miterLimit&&(r.miterLimit=e.miterLimit,n.miterLimit=e.miterLimit),r.strokeStyle!=e.strokeStyle&&(r.strokeStyle=e.strokeStyle,n.strokeStyle=e.strokeStyle)):(n.lineCap=e.lineCap,n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset,n.lineJoin=e.lineJoin,n.lineWidth=e.lineWidth,n.miterLimit=e.miterLimit,n.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const n=this.context_,r=this.contextTextState_,i=e.textAlign?e.textAlign:n6;r?(r.font!=e.font&&(r.font=e.font,n.font=e.font),r.textAlign!=i&&(r.textAlign=i,n.textAlign=i),r.textBaseline!=e.textBaseline&&(r.textBaseline=e.textBaseline,n.textBaseline=e.textBaseline)):(n.font=e.font,n.textAlign=i,n.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:i,textBaseline:e.textBaseline})}setFillStrokeStyle(e,n){if(!e)this.fillState_=null;else{const r=e.getColor();this.fillState_={fillStyle:tm(r||Lh)}}if(!n)this.strokeState_=null;else{const r=n.getColor(),i=n.getLineCap(),s=n.getLineDash(),l=n.getLineDashOffset(),c=n.getLineJoin(),a=n.getWidth(),f=n.getMiterLimit(),A=s||$g;this.strokeState_={lineCap:i!==void 0?i:A2,lineDash:this.pixelRatio_===1?A:A.map(m=>m*this.pixelRatio_),lineDashOffset:(l||Vg)*this.pixelRatio_,lineJoin:c!==void 0?c:m2,lineWidth:(a!==void 0?a:r6)*this.pixelRatio_,miterLimit:f!==void 0?f:e6,strokeStyle:tm(r||t6)}}}setImageStyle(e){let n;if(!e||!(n=e.getSize())){this.image_=null;return}const r=e.getPixelRatio(this.pixelRatio_),i=e.getAnchor(),s=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*r,this.imageAnchorY_=i[1]*r,this.imageHeight_=n[1]*r,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=s[0],this.imageOriginY_=s[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const l=e.getScaleArray();this.imageScale_=[l[0]*this.pixelRatio_/r,l[1]*this.pixelRatio_/r],this.imageWidth_=n[0]*r}setTextStyle(e){if(!e)this.text_="";else{const n=e.getFill();if(!n)this.textFillState_=null;else{const y=n.getColor();this.textFillState_={fillStyle:tm(y||Lh)}}const r=e.getStroke();if(!r)this.textStrokeState_=null;else{const y=r.getColor(),T=r.getLineCap(),E=r.getLineDash(),P=r.getLineDashOffset(),I=r.getLineJoin(),F=r.getWidth(),R=r.getMiterLimit();this.textStrokeState_={lineCap:T!==void 0?T:A2,lineDash:E||$g,lineDashOffset:P||Vg,lineJoin:I!==void 0?I:m2,lineWidth:F!==void 0?F:r6,miterLimit:R!==void 0?R:e6,strokeStyle:tm(y||t6)}}const i=e.getFont(),s=e.getOffsetX(),l=e.getOffsetY(),c=e.getRotateWithView(),a=e.getRotation(),f=e.getScaleArray(),A=e.getText(),m=e.getTextAlign(),_=e.getTextBaseline();this.textState_={font:i!==void 0?i:Goe,textAlign:m!==void 0?m:n6,textBaseline:_!==void 0?_:UT},this.text_=A!==void 0?Array.isArray(A)?A.reduce((y,T,E)=>y+=E%2?" ":T,""):A:"",this.textOffsetX_=s!==void 0?this.pixelRatio_*s:0,this.textOffsetY_=l!==void 0?this.pixelRatio_*l:0,this.textRotateWithView_=c!==void 0?c:!1,this.textRotation_=a!==void 0?a:0,this.textScale_=[this.pixelRatio_*f[0],this.pixelRatio_*f[1]]}}}const Pd=.5;function Ble(t,e,n,r,i,s,l,c,a){const f=a?f7(i):i,A=t[0]*Pd,m=t[1]*Pd,_=$u(A,m);_.imageSmoothingEnabled=!1;const y=_.canvas,T=new Tle(_,Pd,i,null,l,c,a?SB(Krt(),a):null),E=n.length,P=Math.floor((256*256*256-1)/E),I={};for(let R=1;R<=E;++R){const N=n[R-1],z=N.getStyleFunction()||r;if(!z)continue;let Q=z(N,s);if(!Q)continue;Array.isArray(Q)||(Q=[Q]);const H=(R*P).toString(16).padStart(7,"#00000");for(let K=0,ie=Q.length;K<ie;++K){const q=Q[K],W=q.getGeometryFunction()(N);if(!W||!tu(f,W.getExtent()))continue;const ee=q.clone(),ue=ee.getFill();ue&&ue.setColor(H);const J=ee.getStroke();J&&(J.setColor(H),J.setLineDash(null)),ee.setText(void 0);const te=q.getImage();if(te){const ye=te.getImageSize();if(!ye)continue;const Ee=$u(ye[0],ye[1],void 0,{alpha:!1}),se=Ee.canvas;Ee.fillStyle=H,Ee.fillRect(0,0,se.width,se.height),ee.setImage(new X6({img:se,anchor:te.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:te.getOrigin(),opacity:1,size:te.getSize(),scale:te.getScale(),rotation:te.getRotation(),rotateWithView:te.getRotateWithView()}))}const ne=ee.getZIndex()||0;let he=I[ne];he||(he={},I[ne]=he,he.Polygon=[],he.Circle=[],he.LineString=[],he.Point=[]);const ce=W.getType();if(ce==="GeometryCollection"){const ye=W.getGeometriesArrayRecursive();for(let Ee=0,se=ye.length;Ee<se;++Ee){const oe=ye[Ee];he[oe.getType().replace("Multi","")].push(oe,ee)}}else he[ce.replace("Multi","")].push(W,ee)}}const F=Object.keys(I).map(Number).sort(om);for(let R=0,N=F.length;R<N;++R){const z=I[F[R]];for(const Q in z){const j=z[Q];for(let H=0,K=j.length;H<K;H+=2){T.setStyle(j[H+1]);for(let ie=0,q=e.length;ie<q;++ie)T.setTransform(e[ie]),T.drawGeometry(j[H])}}}return _.getImageData(0,0,y.width,y.height)}function Mle(t,e,n){const r=[];if(n){const i=Math.floor(Math.round(t[0])*Pd),s=Math.floor(Math.round(t[1])*Pd),l=(Ll(i,0,n.width-1)+Ll(s,0,n.height-1)*n.width)*4,c=n.data[l],a=n.data[l+1],A=n.data[l+2]+256*(a+256*c),m=Math.floor((256*256*256-1)/e.length);A&&A%m===0&&r.push(e[A/m-1])}return r}const cot=.5,Ile={Point:vot,LineString:Aot,Polygon:yot,MultiPoint:_ot,MultiLineString:mot,MultiPolygon:got,GeometryCollection:pot,Circle:dot};function hot(t,e){return parseInt(Bi(t),10)-parseInt(Bi(e),10)}function HR(t,e){const n=Lle(t,e);return n*n}function Lle(t,e){return cot*t/e}function dot(t,e,n,r,i){const s=n.getFill(),l=n.getStroke();if(s||l){const a=t.getBuilder(n.getZIndex(),"Circle");a.setFillStrokeStyle(s,l),a.drawCircle(e,r,i)}const c=n.getText();if(c&&c.getText()){const a=t.getBuilder(n.getZIndex(),"Text");a.setTextStyle(c),a.drawText(e,r)}}function WT(t,e,n,r,i,s,l,c){const a=[],f=n.getImage();if(f){let _=!0;const y=f.getImageState();y==za.LOADED||y==za.ERROR?_=!1:y==za.IDLE&&f.load(),_&&a.push(f.ready())}const A=n.getFill();A&&A.loading()&&a.push(A.ready());const m=a.length>0;return m&&Promise.all(a).then(()=>i(null)),fot(t,e,n,r,s,l,c),m}function fot(t,e,n,r,i,s,l){const c=n.getGeometryFunction()(e);if(!c)return;const a=c.simplifyTransformed(r,i);if(n.getRenderer())Ple(t,a,n,e,l);else{const A=Ile[a.getType()];A(t,a,n,e,l,s)}}function Ple(t,e,n,r,i){if(e.getType()=="GeometryCollection"){const l=e.getGeometries();for(let c=0,a=l.length;c<a;++c)Ple(t,l[c],n,r,i);return}t.getBuilder(n.getZIndex(),"Default").drawCustom(e,r,n.getRenderer(),n.getHitDetectionRenderer(),i)}function pot(t,e,n,r,i,s){const l=e.getGeometriesArray();let c,a;for(c=0,a=l.length;c<a;++c){const f=Ile[l[c].getType()];f(t,l[c],n,r,i,s)}}function Aot(t,e,n,r,i){const s=n.getStroke();if(s){const c=t.getBuilder(n.getZIndex(),"LineString");c.setFillStrokeStyle(null,s),c.drawLineString(e,r,i)}const l=n.getText();if(l&&l.getText()){const c=t.getBuilder(n.getZIndex(),"Text");c.setTextStyle(l),c.drawText(e,r,i)}}function mot(t,e,n,r,i){const s=n.getStroke();if(s){const c=t.getBuilder(n.getZIndex(),"LineString");c.setFillStrokeStyle(null,s),c.drawMultiLineString(e,r,i)}const l=n.getText();if(l&&l.getText()){const c=t.getBuilder(n.getZIndex(),"Text");c.setTextStyle(l),c.drawText(e,r,i)}}function got(t,e,n,r,i){const s=n.getFill(),l=n.getStroke();if(l||s){const a=t.getBuilder(n.getZIndex(),"Polygon");a.setFillStrokeStyle(s,l),a.drawMultiPolygon(e,r,i)}const c=n.getText();if(c&&c.getText()){const a=t.getBuilder(n.getZIndex(),"Text");a.setTextStyle(c),a.drawText(e,r,i)}}function vot(t,e,n,r,i,s){const l=n.getImage(),c=n.getText(),a=c&&c.getText(),f=s&&l&&a?{}:void 0;if(l){if(l.getImageState()!=za.LOADED)return;const A=t.getBuilder(n.getZIndex(),"Image");A.setImageStyle(l,f),A.drawPoint(e,r,i)}if(a){const A=t.getBuilder(n.getZIndex(),"Text");A.setTextStyle(c,f),A.drawText(e,r,i)}}function _ot(t,e,n,r,i,s){const l=n.getImage(),c=l&&l.getOpacity()!==0,a=n.getText(),f=a&&a.getText(),A=s&&c&&f?{}:void 0;if(c){if(l.getImageState()!=za.LOADED)return;const m=t.getBuilder(n.getZIndex(),"Image");m.setImageStyle(l,A),m.drawMultiPoint(e,r,i)}if(f){const m=t.getBuilder(n.getZIndex(),"Text");m.setTextStyle(a,A),m.drawText(e,r,i)}}function yot(t,e,n,r,i){const s=n.getFill(),l=n.getStroke();if(s||l){const a=t.getBuilder(n.getZIndex(),"Polygon");a.setFillStrokeStyle(s,l),a.drawPolygon(e,r,i)}const c=n.getText();if(c&&c.getText()){const a=t.getBuilder(n.getZIndex(),"Text");a.setTextStyle(c),a.drawText(e,r,i)}}class bot extends j7{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=sc(),this.wrappedRenderedExtent_=sc(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(e,n,r){const i=n.extent,s=n.viewState,l=s.center,c=s.resolution,a=s.projection,f=s.rotation,A=a.getExtent(),m=this.getLayer().getSource(),_=this.getLayer().getDeclutter(),y=n.pixelRatio,T=n.viewHints,E=!(T[Js.ANIMATING]||T[Js.INTERACTING]),P=this.context,I=Math.round(cs(i)/c*y),F=Math.round(vu(i)/c*y),R=m.getWrapX()&&a.canWrapX(),N=R?cs(A):null,z=R?Math.ceil((i[2]-A[2])/N)+1:1;let Q=R?Math.floor((i[0]-A[0])/N):0;do{const j=this.getRenderTransform(l,c,f,y,I,F,Q*N);e.execute(P,[P.canvas.width,P.canvas.height],j,f,E,r===void 0?eC:r?KT:lot,r?_&&n.declutter[_]:void 0)}while(++Q<z)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=$u(this.context.canvas.width,this.context.canvas.height,yq))}resetDrawContext_(){if(this.opacity_!==1){const e=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=e,LB(this.context),yq.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(e){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,e,!0)}renderDeferredInternal(e){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.resetDrawContext_())}renderFrame(e,n){const r=e.pixelRatio,i=e.layerStatesArray[e.layerIndex];this.opacity_=i.opacity;const s=e.extent,l=e.viewState.resolution,c=Math.round(cs(s)/l*r),a=Math.round(vu(s)/l*r);Vh(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/r,1/r,0,-c/2,-a/2),e1(this.inversePixelTransform,this.pixelTransform);const f=i7(this.pixelTransform);this.useContainer(n,f,this.getBackground(e));const A=this.context,m=A.canvas,_=this.replayGroup_;let y=_&&!_.isEmpty();if(!y&&!(this.getLayer().hasListener(Uu.PRERENDER)||this.getLayer().hasListener(Uu.POSTRENDER)))return null;m.width!=c||m.height!=a?(m.width=c,m.height=a,m.style.transform!==f&&(m.style.transform=f)):this.containerReused||A.clearRect(0,0,c,a),this.setDrawContext_(),this.preRender(A,e);const T=e.viewState;T.projection;let E=!1;if(y&&i.extent&&this.clipping){const P=Ng(i.extent);y=tu(P,e.extent),E=y&&!Bv(P,e.extent),E&&this.clipUnrotated(A,e,P)}return y&&this.renderWorlds(_,e,this.getLayer().getDeclutter()?!1:void 0),E&&A.restore(),this.postRender(A,e),this.renderedRotation_!==T.rotation&&(this.renderedRotation_=T.rotation,this.hitDetectionImageData_=null),e.declutter||this.resetDrawContext_(),this.container}getFeatures(e){return new Promise(n=>{if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const r=[this.context.canvas.width,this.context.canvas.height];Po(this.pixelTransform,r);const i=this.renderedCenter_,s=this.renderedResolution_,l=this.renderedRotation_,c=this.renderedProjection_,a=this.wrappedRenderedExtent_,f=this.getLayer(),A=[],m=r[0]*Pd,_=r[1]*Pd;A.push(this.getRenderTransform(i,s,l,Pd,m,_,0).slice());const y=f.getSource(),T=c.getExtent();if(y.getWrapX()&&c.canWrapX()&&!Bv(T,a)){let E=a[0];const P=cs(T);let I=0,F;for(;E<T[0];)--I,F=P*I,A.push(this.getRenderTransform(i,s,l,Pd,m,_,F).slice()),E+=P;for(I=0,E=a[2];E>T[2];)++I,F=P*I,A.push(this.getRenderTransform(i,s,l,Pd,m,_,F).slice()),E-=P}this.hitDetectionImageData_=Ble(r,A,this.renderedFeatures_,f.getStyleFunction(),a,s,l,HR(s,this.renderedPixelRatio_),null)}n(Mle(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,n,r,i,s){if(!this.replayGroup_)return;const l=n.viewState.resolution,c=n.viewState.rotation,a=this.getLayer(),f={},A=function(T,E,P){const I=Bi(T),F=f[I];if(F){if(F!==!0&&P<F.distanceSq){if(P===0)return f[I]=!0,s.splice(s.lastIndexOf(F),1),i(T,a,E);F.geometry=E,F.distanceSq=P}}else{if(P===0)return f[I]=!0,i(T,a,E);s.push(f[I]={feature:T,layer:a,geometry:E,distanceSq:P,callback:i})}};let m;const _=[this.replayGroup_],y=this.getLayer().getDeclutter();return _.some(T=>m=T.forEachFeatureAtCoordinate(e,l,c,r,A,y&&n.declutter[y]?n.declutter[y].all().map(E=>E.value):null)),m}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const n=this.getLayer(),r=n.getSource();if(!r)return!1;const i=e.viewHints[Js.ANIMATING],s=e.viewHints[Js.INTERACTING],l=n.getUpdateWhileAnimating(),c=n.getUpdateWhileInteracting();if(this.ready&&!l&&i||!c&&s)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const a=e.extent,f=e.viewState,A=f.projection,m=f.resolution,_=e.pixelRatio,y=n.getRevision(),T=n.getRenderBuffer();let E=n.getRenderOrder();E===void 0&&(E=hot);const P=f.center.slice(),I=Wp(a,T*m),F=I.slice(),R=[I.slice()],N=A.getExtent();if(r.getWrapX()&&A.canWrapX()&&!Bv(N,e.extent)){const ue=cs(N),J=Math.max(cs(I)/2,ue);I[0]=N[0]-J,I[2]=N[2]+J,c7(P,A);const te=voe(R[0],A);te[0]<N[0]&&te[2]<N[2]?R.push([te[0]+ue,te[1],te[2]+ue,te[3]]):te[0]>N[0]&&te[2]>N[2]&&R.push([te[0]-ue,te[1],te[2]-ue,te[3]])}if(this.ready&&this.renderedResolution_==m&&this.renderedRevision_==y&&this.renderedRenderOrder_==E&&Bv(this.wrappedRenderedExtent_,I))return d0(this.renderedExtent_,F)||(this.hitDetectionImageData_=null,this.renderedExtent_=F),this.renderedCenter_=P,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const z=new Ele(Lle(m,_),I,m,_);let Q;for(let ue=0,J=R.length;ue<J;++ue)r.loadFeatures(R[ue],m,A);const j=HR(m,_);let H=!0;const K=(ue,J)=>{let te;const ne=ue.getStyleFunction()||n.getStyleFunction();if(ne&&(te=ne(ue,m)),te){const he=this.renderFeature(ue,j,te,z,Q,this.getLayer().getDeclutter(),J);H=H&&!he}},ie=f7(I),q=r.getFeaturesInExtent(ie);E&&q.sort(E);for(let ue=0,J=q.length;ue<J;++ue)K(q[ue],ue);this.renderedFeatures_=q,this.ready=H;const W=z.finish(),ee=new Sle(I,m,_,r.getOverlaps(),W,n.getRenderBuffer(),!!e.declutter);return this.renderedResolution_=m,this.renderedRevision_=y,this.renderedRenderOrder_=E,this.renderedExtent_=F,this.wrappedRenderedExtent_=I,this.renderedCenter_=P,this.renderedProjection_=A,this.renderedPixelRatio_=_,this.replayGroup_=ee,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,n,r,i,s,l,c){if(!r)return!1;let a=!1;if(Array.isArray(r))for(let f=0,A=r.length;f<A;++f)a=WT(i,e,r[f],n,this.boundHandleStyleImageChange_,s,l,c)||a;else a=WT(i,e,r,n,this.boundHandleStyleImageChange_,s,l,c);return a}}class G7 extends V2{constructor(e){super(e)}createRenderer(){return new bot(this)}}function Fle(t){const e=t.frameState,n=D2(t.inversePixelTransform.slice(),e.coordinateToPixelTransform);return new Tle(t.context,e.pixelRatio,e.extent,n,e.viewState.rotation)}var tC=grt.split(".");tC=parseInt(tC[0])*100+parseInt(tC[1]);var wot=function(t,e){var n=t.frameState.pixelRatio;if(tC>605&&tC<700&&n!==1&&e.getImage()instanceof X6){e=e.clone();var r=e.getImage();r.setScale(r.getScale()*n);var i=r.getAnchor();if(i&&r.setDisplacement){var s=r.getDisplacement();s&&(s[0]-=i[0]/n,s[1]+=i[1]/n,r.setAnchor([0,0]))}else i&&(i[0]/=n,i[1]/=n)}return e};const DB=34962,NB=34963,xot=35040,Cot=35044,l6=35048,Eot=5121,Sot=5123,Tot=5125,kle=5126,Sq=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function Bot(t,e){e=Object.assign({preserveDrawingBuffer:!0,antialias:!Uit},e);const n=Sq.length;for(let r=0;r<n;++r)try{const i=t.getContext(Sq[r],e);if(i)return i}catch{}return null}const Mot={STATIC_DRAW:Cot,STREAM_DRAW:xot,DYNAMIC_DRAW:l6};class qT{constructor(e,n){this.array_=null,this.type_=e,Za(e===DB||e===NB,"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`"),this.usage_=n!==void 0?n:Mot.STATIC_DRAW}ofSize(e){return this.array_=new(oP(this.type_))(e),this}fromArray(e){return this.array_=oP(this.type_).from(e),this}fromArrayBuffer(e){return this.array_=new(oP(this.type_))(e),this}getType(){return this.type_}getArray(){return this.array_}getUsage(){return this.usage_}getSize(){return this.array_?this.array_.length:0}}function oP(t){switch(t){case DB:return Float32Array;case NB:return Uint32Array;default:return Float32Array}}const s3={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"},Iot=`
  precision mediump float;
  
  attribute vec2 a_position;
  varying vec2 v_texCoord;
  varying vec2 v_screenCoord;
  
  uniform vec2 u_screenSize;
   
  void main() {
    v_texCoord = a_position * 0.5 + 0.5;
    v_screenCoord = v_texCoord * u_screenSize;
    gl_Position = vec4(a_position, 0.0, 1.0);
  }
`,Lot=`
  precision mediump float;
   
  uniform sampler2D u_image;
  uniform float u_opacity;
   
  varying vec2 v_texCoord;
   
  void main() {
    gl_FragColor = texture2D(u_image, v_texCoord) * u_opacity;
  }
`;class Tq{constructor(e){this.gl_=e.webGlContext;const n=this.gl_;this.scaleRatio_=e.scaleRatio||1,this.renderTargetTexture_=n.createTexture(),this.renderTargetTextureSize_=null,this.frameBuffer_=n.createFramebuffer(),this.depthBuffer_=n.createRenderbuffer();const r=n.createShader(n.VERTEX_SHADER);n.shaderSource(r,e.vertexShader||Iot),n.compileShader(r);const i=n.createShader(n.FRAGMENT_SHADER);n.shaderSource(i,e.fragmentShader||Lot),n.compileShader(i),this.renderTargetProgram_=n.createProgram(),n.attachShader(this.renderTargetProgram_,r),n.attachShader(this.renderTargetProgram_,i),n.linkProgram(this.renderTargetProgram_),this.renderTargetVerticesBuffer_=n.createBuffer();const s=[-1,-1,1,-1,-1,1,1,-1,1,1,-1,1];n.bindBuffer(n.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),n.bufferData(n.ARRAY_BUFFER,new Float32Array(s),n.STATIC_DRAW),this.renderTargetAttribLocation_=n.getAttribLocation(this.renderTargetProgram_,"a_position"),this.renderTargetUniformLocation_=n.getUniformLocation(this.renderTargetProgram_,"u_screenSize"),this.renderTargetOpacityLocation_=n.getUniformLocation(this.renderTargetProgram_,"u_opacity"),this.renderTargetTextureLocation_=n.getUniformLocation(this.renderTargetProgram_,"u_image"),this.uniforms_=[],e.uniforms&&Object.keys(e.uniforms).forEach(l=>{this.uniforms_.push({value:e.uniforms[l],location:n.getUniformLocation(this.renderTargetProgram_,l)})})}getGL(){return this.gl_}init(e){const n=this.getGL(),r=[n.drawingBufferWidth*this.scaleRatio_,n.drawingBufferHeight*this.scaleRatio_];if(n.bindFramebuffer(n.FRAMEBUFFER,this.getFrameBuffer()),n.bindRenderbuffer(n.RENDERBUFFER,this.getDepthBuffer()),n.viewport(0,0,r[0],r[1]),!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==r[0]||this.renderTargetTextureSize_[1]!==r[1]){this.renderTargetTextureSize_=r;const i=0,s=n.RGBA,l=0,c=n.RGBA,a=n.UNSIGNED_BYTE,f=null;n.bindTexture(n.TEXTURE_2D,this.renderTargetTexture_),n.texImage2D(n.TEXTURE_2D,i,s,r[0],r[1],l,c,a,f),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,this.renderTargetTexture_,0),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_COMPONENT16,r[0],r[1]),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,this.depthBuffer_)}}apply(e,n,r,i){const s=this.getGL(),l=e.size;if(s.bindFramebuffer(s.FRAMEBUFFER,n?n.getFrameBuffer():null),s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,this.renderTargetTexture_),!n){const a=Bi(s.canvas);if(!e.renderTargets[a]){const f=s.getContextAttributes();f&&f.preserveDrawingBuffer&&(s.clearColor(0,0,0,0),s.clearDepth(1),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT)),e.renderTargets[a]=!0}}s.disable(s.DEPTH_TEST),s.enable(s.BLEND),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA),s.viewport(0,0,s.drawingBufferWidth,s.drawingBufferHeight),s.bindBuffer(s.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),s.useProgram(this.renderTargetProgram_),s.enableVertexAttribArray(this.renderTargetAttribLocation_),s.vertexAttribPointer(this.renderTargetAttribLocation_,2,s.FLOAT,!1,0,0),s.uniform2f(this.renderTargetUniformLocation_,l[0],l[1]),s.uniform1i(this.renderTargetTextureLocation_,0);const c=e.layerStatesArray[e.layerIndex].opacity;s.uniform1f(this.renderTargetOpacityLocation_,c),this.applyUniforms(e),r&&r(s,e),s.drawArrays(s.TRIANGLES,0,6),i&&i(s,e)}getFrameBuffer(){return this.frameBuffer_}getDepthBuffer(){return this.depthBuffer_}applyUniforms(e){const n=this.getGL();let r,i=1;this.uniforms_.forEach(function(s){if(r=typeof s.value=="function"?s.value(e):s.value,r instanceof HTMLCanvasElement||r instanceof ImageData)s.texture||(s.texture=n.createTexture()),n.activeTexture(n[`TEXTURE${i}`]),n.bindTexture(n.TEXTURE_2D,s.texture),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),r instanceof ImageData?n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,r.width,r.height,0,n.UNSIGNED_BYTE,new Uint8Array(r.data)):n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,r),n.uniform1i(s.location,i++);else if(Array.isArray(r))switch(r.length){case 2:n.uniform2f(s.location,r[0],r[1]);return;case 3:n.uniform3f(s.location,r[0],r[1],r[2]);return;case 4:n.uniform4f(s.location,r[0],r[1],r[2],r[3]);return;default:return}else typeof r=="number"&&n.uniform1f(s.location,r)})}}function Rle(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function QR(t,e){return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}const HA={PROJECTION_MATRIX:"u_projectionMatrix",SCREEN_TO_WORLD_MATRIX:"u_screenToWorldMatrix",TIME:"u_time",ZOOM:"u_zoom",RESOLUTION:"u_resolution",ROTATION:"u_rotation",VIEWPORT_SIZE_PX:"u_viewportSizePx",PIXEL_RATIO:"u_pixelRatio",HIT_DETECTION:"u_hitDetection"},Du={UNSIGNED_BYTE:Eot,UNSIGNED_SHORT:Sot,UNSIGNED_INT:Tot,FLOAT:kle},YT={};function Bq(t){return"shared/"+t}let Mq=0;function Pot(){const t="unique/"+Mq;return Mq+=1,t}function Fot(t){let e=YT[t];if(!e){const n=document.createElement("canvas");n.width=1,n.height=1,n.style.position="absolute",n.style.left="0",e={users:0,context:Bot(n)},YT[t]=e}return e.users+=1,e.context}function kot(t){const e=YT[t];if(!e||(e.users-=1,e.users>0))return;const n=e.context,r=n.getExtension("WEBGL_lose_context");r&&r.loseContext();const i=n.canvas;i.width=1,i.height=1,delete YT[t]}class Rot extends _B{constructor(e){super(),e=e||{},this.boundHandleWebGLContextLost_=this.handleWebGLContextLost.bind(this),this.boundHandleWebGLContextRestored_=this.handleWebGLContextRestored.bind(this),this.canvasCacheKey_=e.canvasCacheKey?Bq(e.canvasCacheKey):Pot(),this.gl_=Fot(this.canvasCacheKey_),this.bufferCache_={},this.extensionCache_={},this.currentProgram_=null,this.needsToBeRecreated_=!1;const n=this.gl_.canvas;n.addEventListener(s3.LOST,this.boundHandleWebGLContextLost_),n.addEventListener(s3.RESTORED,this.boundHandleWebGLContextRestored_),this.offsetRotateMatrix_=zo(),this.offsetScaleMatrix_=zo(),this.tmpMat4_=Rle(),this.uniformLocationsByProgram_={},this.attribLocationsByProgram_={},this.uniforms_=[],e.uniforms&&this.setUniforms(e.uniforms),this.postProcessPasses_=e.postProcesses?e.postProcesses.map(r=>new Tq({webGlContext:this.gl_,scaleRatio:r.scaleRatio,vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,uniforms:r.uniforms})):[new Tq({webGlContext:this.gl_})],this.shaderCompileErrors_=null,this.startTime_=Date.now()}setUniforms(e){this.uniforms_=[],this.addUniforms(e)}addUniforms(e){for(const n in e)this.uniforms_.push({name:n,value:e[n]})}canvasCacheKeyMatches(e){return this.canvasCacheKey_===Bq(e)}getExtension(e){if(e in this.extensionCache_)return this.extensionCache_[e];const n=this.gl_.getExtension(e);return this.extensionCache_[e]=n,n}bindBuffer(e){const n=this.gl_,r=Bi(e);let i=this.bufferCache_[r];if(!i){const s=n.createBuffer();i={buffer:e,webGlBuffer:s},this.bufferCache_[r]=i}n.bindBuffer(e.getType(),i.webGlBuffer)}flushBufferData(e){const n=this.gl_;this.bindBuffer(e),n.bufferData(e.getType(),e.getArray(),e.getUsage())}deleteBuffer(e){const n=this.gl_,r=Bi(e),i=this.bufferCache_[r];i&&!n.isContextLost()&&n.deleteBuffer(i.webGlBuffer),delete this.bufferCache_[r]}disposeInternal(){const e=this.gl_.canvas;e.removeEventListener(s3.LOST,this.boundHandleWebGLContextLost_),e.removeEventListener(s3.RESTORED,this.boundHandleWebGLContextRestored_),kot(this.canvasCacheKey_),delete this.gl_}prepareDraw(e,n,r){const i=this.gl_,s=this.getCanvas(),l=e.size,c=e.pixelRatio;(s.width!==l[0]*c||s.height!==l[1]*c)&&(s.width=l[0]*c,s.height=l[1]*c,s.style.width=l[0]+"px",s.style.height=l[1]+"px");for(let a=this.postProcessPasses_.length-1;a>=0;a--)this.postProcessPasses_[a].init(e);i.bindTexture(i.TEXTURE_2D,null),i.clearColor(0,0,0,0),i.depthRange(0,1),i.clearDepth(1),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT),i.enable(i.BLEND),i.blendFunc(i.ONE,n?i.ZERO:i.ONE_MINUS_SRC_ALPHA),r?(i.enable(i.DEPTH_TEST),i.depthFunc(i.LEQUAL)):i.disable(i.DEPTH_TEST)}bindTexture(e,n,r){const i=this.gl_;i.activeTexture(i.TEXTURE0+n),i.bindTexture(i.TEXTURE_2D,e),i.uniform1i(this.getUniformLocation(r),n)}prepareDrawToRenderTarget(e,n,r,i){const s=this.gl_,l=n.getSize();s.bindFramebuffer(s.FRAMEBUFFER,n.getFramebuffer()),s.bindRenderbuffer(s.RENDERBUFFER,n.getDepthbuffer()),s.viewport(0,0,l[0],l[1]),s.bindTexture(s.TEXTURE_2D,n.getTexture()),s.clearColor(0,0,0,0),s.depthRange(0,1),s.clearDepth(1),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT),s.enable(s.BLEND),s.blendFunc(s.ONE,r?s.ZERO:s.ONE_MINUS_SRC_ALPHA),i?(s.enable(s.DEPTH_TEST),s.depthFunc(s.LEQUAL)):s.disable(s.DEPTH_TEST)}drawElements(e,n){const r=this.gl_;this.getExtension("OES_element_index_uint");const i=r.UNSIGNED_INT,s=4,l=n-e,c=e*s;r.drawElements(r.TRIANGLES,l,i,c)}finalizeDraw(e,n,r){for(let i=0,s=this.postProcessPasses_.length;i<s;i++)i===s-1?this.postProcessPasses_[i].apply(e,null,n,r):this.postProcessPasses_[i].apply(e,this.postProcessPasses_[i+1])}getCanvas(){return this.gl_.canvas}getGL(){return this.gl_}applyFrameState(e){const n=e.size,r=e.viewState.rotation,i=e.pixelRatio;this.setUniformFloatValue(HA.TIME,(Date.now()-this.startTime_)*.001),this.setUniformFloatValue(HA.ZOOM,e.viewState.zoom),this.setUniformFloatValue(HA.RESOLUTION,e.viewState.resolution),this.setUniformFloatValue(HA.PIXEL_RATIO,i),this.setUniformFloatVec2(HA.VIEWPORT_SIZE_PX,[n[0],n[1]]),this.setUniformFloatValue(HA.ROTATION,r)}applyHitDetectionUniform(e){const n=this.getUniformLocation(HA.HIT_DETECTION);this.getGL().uniform1i(n,e?1:0),e&&this.setUniformFloatValue(HA.PIXEL_RATIO,.5)}applyUniforms(e){const n=this.gl_;let r,i=0;this.uniforms_.forEach(s=>{if(r=typeof s.value=="function"?s.value(e):s.value,r instanceof HTMLCanvasElement||r instanceof HTMLImageElement||r instanceof ImageData||r instanceof WebGLTexture){r instanceof WebGLTexture&&!s.texture?(s.prevValue=void 0,s.texture=r):s.texture||(s.prevValue=void 0,s.texture=n.createTexture()),this.bindTexture(s.texture,i,s.name),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE);const l=!(r instanceof HTMLImageElement)||r.complete;!(r instanceof WebGLTexture)&&l&&s.prevValue!==r&&(s.prevValue=r,n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,r)),i++}else if(Array.isArray(r)&&r.length===6)this.setUniformMatrixValue(s.name,QR(this.tmpMat4_,r));else if(Array.isArray(r)&&r.length<=4)switch(r.length){case 2:n.uniform2f(this.getUniformLocation(s.name),r[0],r[1]);return;case 3:n.uniform3f(this.getUniformLocation(s.name),r[0],r[1],r[2]);return;case 4:n.uniform4f(this.getUniformLocation(s.name),r[0],r[1],r[2],r[3]);return;default:return}else typeof r=="number"&&n.uniform1f(this.getUniformLocation(s.name),r)})}useProgram(e,n){this.gl_.useProgram(e),this.currentProgram_=e,this.applyFrameState(n),this.applyUniforms(n)}compileShader(e,n){const r=this.gl_,i=r.createShader(n);return r.shaderSource(i,e),r.compileShader(i),i}getProgram(e,n){const r=this.gl_,i=this.compileShader(e,r.FRAGMENT_SHADER),s=this.compileShader(n,r.VERTEX_SHADER),l=r.createProgram();if(r.attachShader(l,i),r.attachShader(l,s),r.linkProgram(l),!r.getShaderParameter(i,r.COMPILE_STATUS)){const c=`Fragment shader compilation failed: ${r.getShaderInfoLog(i)}`;throw new Error(c)}if(r.deleteShader(i),!r.getShaderParameter(s,r.COMPILE_STATUS)){const c=`Vertex shader compilation failed: ${r.getShaderInfoLog(s)}`;throw new Error(c)}if(r.deleteShader(s),!r.getProgramParameter(l,r.LINK_STATUS)){const c=`GL program linking failed: ${r.getProgramInfoLog(l)}`;throw new Error(c)}return l}getUniformLocation(e){const n=Bi(this.currentProgram_);return this.uniformLocationsByProgram_[n]===void 0&&(this.uniformLocationsByProgram_[n]={}),this.uniformLocationsByProgram_[n][e]===void 0&&(this.uniformLocationsByProgram_[n][e]=this.gl_.getUniformLocation(this.currentProgram_,e)),this.uniformLocationsByProgram_[n][e]}getAttributeLocation(e){const n=Bi(this.currentProgram_);return this.attribLocationsByProgram_[n]===void 0&&(this.attribLocationsByProgram_[n]={}),this.attribLocationsByProgram_[n][e]===void 0&&(this.attribLocationsByProgram_[n][e]=this.gl_.getAttribLocation(this.currentProgram_,e)),this.attribLocationsByProgram_[n][e]}makeProjectionTransform(e,n){const r=e.size,i=e.viewState.rotation,s=e.viewState.resolution,l=e.viewState.center;return Vh(n,0,0,2/(s*r[0]),2/(s*r[1]),-i,-l[0],-l[1]),n}setUniformFloatValue(e,n){this.gl_.uniform1f(this.getUniformLocation(e),n)}setUniformFloatVec2(e,n){this.gl_.uniform2fv(this.getUniformLocation(e),n)}setUniformFloatVec4(e,n){this.gl_.uniform4fv(this.getUniformLocation(e),n)}setUniformMatrixValue(e,n){this.gl_.uniformMatrix4fv(this.getUniformLocation(e),!1,n)}enableAttributeArray_(e,n,r,i,s){const l=this.getAttributeLocation(e);l<0||(this.gl_.enableVertexAttribArray(l),this.gl_.vertexAttribPointer(l,n,r,!1,i,s))}enableAttributes(e){const n=Oot(e);let r=0;for(let i=0;i<e.length;i++){const s=e[i];this.enableAttributeArray_(s.name,s.size,s.type||kle,n,r),r+=s.size*Ole(s.type)}}handleWebGLContextLost(e){O2(this.bufferCache_),this.currentProgram_=null,e.preventDefault()}handleWebGLContextRestored(){this.needsToBeRecreated_=!0}needsToBeRecreated(){return this.needsToBeRecreated_}createTexture(e,n,r){const i=this.gl_;r=r||i.createTexture();const s=0,l=i.RGBA,c=0,a=i.RGBA,f=i.UNSIGNED_BYTE;return i.bindTexture(i.TEXTURE_2D,r),n?i.texImage2D(i.TEXTURE_2D,s,l,a,f,n):i.texImage2D(i.TEXTURE_2D,s,l,e[0],e[1],c,a,f,null),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),r}}function Oot(t){let e=0;for(let n=0;n<t.length;n++){const r=t[n];e+=r.size*Ole(r.type)}return e}function Ole(t){switch(t){case Du.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case Du.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case Du.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;case Du.FLOAT:default:return Float32Array.BYTES_PER_ELEMENT}}class UB extends wle{constructor(e,n){super(e),n=n||{},this.inversePixelTransform_=zo(),this.pixelContext_=null,this.postProcesses_=n.postProcesses,this.uniforms_=n.uniforms,this.helper,e.addChangeListener(Fs.MAP,this.removeHelper.bind(this)),this.dispatchPreComposeEvent=this.dispatchPreComposeEvent.bind(this),this.dispatchPostComposeEvent=this.dispatchPostComposeEvent.bind(this)}dispatchPreComposeEvent(e,n){const r=this.getLayer();if(r.hasListener(Uu.PRECOMPOSE)){const i=new J4(Uu.PRECOMPOSE,void 0,n,e);r.dispatchEvent(i)}}dispatchPostComposeEvent(e,n){const r=this.getLayer();if(r.hasListener(Uu.POSTCOMPOSE)){const i=new J4(Uu.POSTCOMPOSE,void 0,n,e);r.dispatchEvent(i)}}reset(e){this.uniforms_=e.uniforms,this.helper&&this.helper.setUniforms(this.uniforms_)}removeHelper(){this.helper&&(this.helper.dispose(),delete this.helper)}prepareFrame(e){if(this.getLayer().getRenderSource()){let n=!0,r=-1,i;for(let l=0,c=e.layerStatesArray.length;l<c;l++){const a=e.layerStatesArray[l].layer,f=a.getRenderer();if(!(f instanceof UB)){n=!0;continue}const A=a.getClassName();if((n||A!==i)&&(r+=1,n=!1),i=A,f===this)break}const s="map/"+e.mapId+"/group/"+r;(!this.helper||!this.helper.canvasCacheKeyMatches(s)||this.helper.needsToBeRecreated())&&(this.removeHelper(),this.helper=new Rot({postProcesses:this.postProcesses_,uniforms:this.uniforms_,canvasCacheKey:s}),i&&(this.helper.getCanvas().className=i),this.afterHelperCreated())}return this.prepareFrameInternal(e)}afterHelperCreated(){}prepareFrameInternal(e){return!0}disposeInternal(){this.removeHelper(),super.disposeInternal()}dispatchRenderEvent_(e,n,r){const i=this.getLayer();if(i.hasListener(e)){Vh(this.inversePixelTransform_,0,0,r.pixelRatio,-r.pixelRatio,0,0,-r.size[1]);const s=new J4(e,this.inversePixelTransform_,r,n);i.dispatchEvent(s)}}preRender(e,n){this.dispatchRenderEvent_(Uu.PRERENDER,e,n)}postRender(e,n){this.dispatchRenderEvent_(Uu.POSTRENDER,e,n)}}const DA=new Uint8Array(4);class Dle{constructor(e,n){this.helper_=e;const r=e.getGL();this.texture_=r.createTexture(),this.framebuffer_=r.createFramebuffer(),this.depthbuffer_=r.createRenderbuffer(),this.size_=n||[1,1],this.data_=new Uint8Array(0),this.dataCacheDirty_=!0,this.updateSize_()}setSize(e){d0(e,this.size_)||(this.size_[0]=e[0],this.size_[1]=e[1],this.updateSize_())}getSize(){return this.size_}clearCachedData(){this.dataCacheDirty_=!0}readAll(){if(this.dataCacheDirty_){const e=this.size_,n=this.helper_.getGL();n.bindFramebuffer(n.FRAMEBUFFER,this.framebuffer_),n.readPixels(0,0,e[0],e[1],n.RGBA,n.UNSIGNED_BYTE,this.data_),this.dataCacheDirty_=!1}return this.data_}readPixel(e,n){if(e<0||n<0||e>this.size_[0]||n>=this.size_[1])return DA[0]=0,DA[1]=0,DA[2]=0,DA[3]=0,DA;this.readAll();const r=Math.floor(e)+(this.size_[1]-Math.floor(n)-1)*this.size_[0];return DA[0]=this.data_[r*4],DA[1]=this.data_[r*4+1],DA[2]=this.data_[r*4+2],DA[3]=this.data_[r*4+3],DA}getTexture(){return this.texture_}getFramebuffer(){return this.framebuffer_}getDepthbuffer(){return this.depthbuffer_}updateSize_(){const e=this.size_,n=this.helper_.getGL();this.texture_=this.helper_.createTexture(e,null,this.texture_),n.bindFramebuffer(n.FRAMEBUFFER,this.framebuffer_),n.viewport(0,0,e[0],e[1]),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,this.texture_,0),n.bindRenderbuffer(n.RENDERBUFFER,this.depthbuffer_),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_COMPONENT16,e[0],e[1]),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,this.depthbuffer_),this.data_=new Uint8Array(e[0]*e[1]*4)}}const nC={GENERATE_POLYGON_BUFFERS:"GENERATE_POLYGON_BUFFERS",GENERATE_POINT_BUFFERS:"GENERATE_POINT_BUFFERS",GENERATE_LINE_STRING_BUFFERS:"GENERATE_LINE_STRING_BUFFERS"};var Nle={exports:{}};Nle.exports=zB;Nle.exports.default=zB;function zB(t,e,n){n=n||2;var r=e&&e.length,i=r?e[0]*n:t.length,s=Ule(t,0,i,n,!0),l=[];if(!s||s.next===s.prev)return l;var c,a,f,A,m,_,y;if(r&&(s=$ot(t,e,s,n)),t.length>80*n){c=f=t[0],a=A=t[1];for(var T=n;T<i;T+=n)m=t[T],_=t[T+1],m<c&&(c=m),_<a&&(a=_),m>f&&(f=m),_>A&&(A=_);y=Math.max(f-c,A-a),y=y!==0?32767/y:0}return u6(s,l,n,c,a,y,0),l}function Ule(t,e,n,r,i){var s,l;if(i===KR(t,e,n,r)>0)for(s=e;s<n;s+=r)l=Iq(s,t[s],t[s+1],l);else for(s=n-r;s>=e;s-=r)l=Iq(s,t[s],t[s+1],l);return l&&$B(l,l.next)&&(h6(l),l=l.next),l}function cy(t,e){if(!t)return t;e||(e=t);var n=t,r;do if(r=!1,!n.steiner&&($B(n,n.next)||Ko(n.prev,n,n.next)===0)){if(h6(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function u6(t,e,n,r,i,s,l){if(t){!l&&s&&Got(t,r,i,s);for(var c=t,a,f;t.prev!==t.next;){if(a=t.prev,f=t.next,s?Not(t,r,i,s):Dot(t)){e.push(a.i/n|0),e.push(t.i/n|0),e.push(f.i/n|0),h6(t),t=f.next,c=f.next;continue}if(t=f,t===c){l?l===1?(t=Uot(cy(t),e,n),u6(t,e,n,r,i,s,2)):l===2&&zot(t,e,n,r,i,s):u6(cy(t),e,n,r,i,s,1);break}}}}function Dot(t){var e=t.prev,n=t,r=t.next;if(Ko(e,n,r)>=0)return!1;for(var i=e.x,s=n.x,l=r.x,c=e.y,a=n.y,f=r.y,A=i<s?i<l?i:l:s<l?s:l,m=c<a?c<f?c:f:a<f?a:f,_=i>s?i>l?i:l:s>l?s:l,y=c>a?c>f?c:f:a>f?a:f,T=r.next;T!==e;){if(T.x>=A&&T.x<=_&&T.y>=m&&T.y<=y&&uw(i,c,s,a,l,f,T.x,T.y)&&Ko(T.prev,T,T.next)>=0)return!1;T=T.next}return!0}function Not(t,e,n,r){var i=t.prev,s=t,l=t.next;if(Ko(i,s,l)>=0)return!1;for(var c=i.x,a=s.x,f=l.x,A=i.y,m=s.y,_=l.y,y=c<a?c<f?c:f:a<f?a:f,T=A<m?A<_?A:_:m<_?m:_,E=c>a?c>f?c:f:a>f?a:f,P=A>m?A>_?A:_:m>_?m:_,I=jR(y,T,e,n,r),F=jR(E,P,e,n,r),R=t.prevZ,N=t.nextZ;R&&R.z>=I&&N&&N.z<=F;){if(R.x>=y&&R.x<=E&&R.y>=T&&R.y<=P&&R!==i&&R!==l&&uw(c,A,a,m,f,_,R.x,R.y)&&Ko(R.prev,R,R.next)>=0||(R=R.prevZ,N.x>=y&&N.x<=E&&N.y>=T&&N.y<=P&&N!==i&&N!==l&&uw(c,A,a,m,f,_,N.x,N.y)&&Ko(N.prev,N,N.next)>=0))return!1;N=N.nextZ}for(;R&&R.z>=I;){if(R.x>=y&&R.x<=E&&R.y>=T&&R.y<=P&&R!==i&&R!==l&&uw(c,A,a,m,f,_,R.x,R.y)&&Ko(R.prev,R,R.next)>=0)return!1;R=R.prevZ}for(;N&&N.z<=F;){if(N.x>=y&&N.x<=E&&N.y>=T&&N.y<=P&&N!==i&&N!==l&&uw(c,A,a,m,f,_,N.x,N.y)&&Ko(N.prev,N,N.next)>=0)return!1;N=N.nextZ}return!0}function Uot(t,e,n){var r=t;do{var i=r.prev,s=r.next.next;!$B(i,s)&&zle(i,r,r.next,s)&&c6(i,s)&&c6(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),h6(r),h6(r.next),r=t=s),r=r.next}while(r!==t);return cy(r)}function zot(t,e,n,r,i,s){var l=t;do{for(var c=l.next.next;c!==l.prev;){if(l.i!==c.i&&qot(l,c)){var a=$le(l,c);l=cy(l,l.next),a=cy(a,a.next),u6(l,e,n,r,i,s,0),u6(a,e,n,r,i,s,0);return}c=c.next}l=l.next}while(l!==t)}function $ot(t,e,n,r){var i=[],s,l,c,a,f;for(s=0,l=e.length;s<l;s++)c=e[s]*r,a=s<l-1?e[s+1]*r:t.length,f=Ule(t,c,a,r,!1),f===f.next&&(f.steiner=!0),i.push(Wot(f));for(i.sort(Vot),s=0;s<i.length;s++)n=Hot(i[s],n);return n}function Vot(t,e){return t.x-e.x}function Hot(t,e){var n=Qot(t,e);if(!n)return e;var r=$le(n,t);return cy(r,r.next),cy(n,n.next)}function Qot(t,e){var n=e,r=t.x,i=t.y,s=-1/0,l;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var c=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(c<=r&&c>s&&(s=c,l=n.x<n.next.x?n:n.next,c===r))return l}n=n.next}while(n!==e);if(!l)return null;var a=l,f=l.x,A=l.y,m=1/0,_;n=l;do r>=n.x&&n.x>=f&&r!==n.x&&uw(i<A?r:s,i,f,A,i<A?s:r,i,n.x,n.y)&&(_=Math.abs(i-n.y)/(r-n.x),c6(n,t)&&(_<m||_===m&&(n.x>l.x||n.x===l.x&&jot(l,n)))&&(l=n,m=_)),n=n.next;while(n!==a);return l}function jot(t,e){return Ko(t.prev,t,e.prev)<0&&Ko(e.next,t,t.next)<0}function Got(t,e,n,r){var i=t;do i.z===0&&(i.z=jR(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,Kot(i)}function Kot(t){var e,n,r,i,s,l,c,a,f=1;do{for(n=t,t=null,s=null,l=0;n;){for(l++,r=n,c=0,e=0;e<f&&(c++,r=r.nextZ,!!r);e++);for(a=f;c>0||a>0&&r;)c!==0&&(a===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,c--):(i=r,r=r.nextZ,a--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,f*=2}while(l>1);return t}function jR(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Wot(t){var e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function uw(t,e,n,r,i,s,l,c){return(i-l)*(e-c)>=(t-l)*(s-c)&&(t-l)*(r-c)>=(n-l)*(e-c)&&(n-l)*(s-c)>=(i-l)*(r-c)}function qot(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Yot(t,e)&&(c6(t,e)&&c6(e,t)&&Xot(t,e)&&(Ko(t.prev,t,e.prev)||Ko(t,e.prev,e))||$B(t,e)&&Ko(t.prev,t,t.next)>0&&Ko(e.prev,e,e.next)>0)}function Ko(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function $B(t,e){return t.x===e.x&&t.y===e.y}function zle(t,e,n,r){var i=l3(Ko(t,e,n)),s=l3(Ko(t,e,r)),l=l3(Ko(n,r,t)),c=l3(Ko(n,r,e));return!!(i!==s&&l!==c||i===0&&o3(t,n,e)||s===0&&o3(t,r,e)||l===0&&o3(n,t,r)||c===0&&o3(n,e,r))}function o3(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function l3(t){return t>0?1:t<0?-1:0}function Yot(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&zle(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function c6(t,e){return Ko(t.prev,t,t.next)<0?Ko(t,e,t.next)>=0&&Ko(t,t.prev,e)>=0:Ko(t,e,t.prev)<0||Ko(t,t.next,e)<0}function Xot(t,e){var n=t,r=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function $le(t,e){var n=new GR(t.i,t.x,t.y),r=new GR(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function Iq(t,e,n,r){var i=new GR(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function h6(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function GR(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}zB.deviation=function(t,e,n,r){var i=e&&e.length,s=i?e[0]*n:t.length,l=Math.abs(KR(t,0,s,n));if(i)for(var c=0,a=e.length;c<a;c++){var f=e[c]*n,A=c<a-1?e[c+1]*n:t.length;l-=Math.abs(KR(t,f,A,n))}var m=0;for(c=0;c<r.length;c+=3){var _=r[c]*n,y=r[c+1]*n,T=r[c+2]*n;m+=Math.abs((t[_]-t[T])*(t[y+1]-t[_+1])-(t[_]-t[y])*(t[T+1]-t[_+1]))}return l===0&&m===0?0:Math.abs((m-l)/l)};function KR(t,e,n,r){for(var i=0,s=e,l=n-r;s<n;s+=r)i+=(t[l]-t[s])*(t[s+1]+t[l+1]),l=s;return i}zB.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var l=0;l<e;l++)n.vertices.push(t[i][s][l]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n};const Lq=.985;function Vle(t,e){e=e||[];const n=256,r=n-1;return e[0]=Math.floor(t/n/n/n)/r,e[1]=Math.floor(t/n/n)%n/r,e[2]=Math.floor(t/n)%n/r,e[3]=t%n/r,e}function Hle(t){let e=0;const n=256,r=n-1;return e+=Math.round(t[0]*n*n*n*r),e+=Math.round(t[1]*n*n*r),e+=Math.round(t[2]*n*r),e+=Math.round(t[3]*r),e}function Qle(){const t='const e="GENERATE_POLYGON_BUFFERS",t="GENERATE_POINT_BUFFERS",n="GENERATE_LINE_STRING_BUFFERS";function r(e,t){const n=t[0],r=t[1];return t[0]=e[0]*n+e[2]*r+e[4],t[1]=e[1]*n+e[3]*r+e[5],t}function x(e,t){const n=(r=t)[0]*r[3]-r[1]*r[2];var r;!function(e,t){if(!e)throw new Error(t)}(0!==n,"Transformation matrix cannot be inverted");const x=t[0],i=t[1],u=t[2],o=t[3],f=t[4],s=t[5];return e[0]=o/n,e[1]=-i/n,e[2]=-u/n,e[3]=x/n,e[4]=(u*s-o*f)/n,e[5]=-(x*s-i*f)/n,e}function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}new Array(6);var u={exports:{}};function o(e,t,n){n=n||2;var r,x,i,u,o,s,l,v=t&&t.length,h=v?t[0]*n:e.length,c=f(e,0,h,n,!0),g=[];if(!c||c.next===c.prev)return g;if(v&&(c=function(e,t,n,r){var x,i,u,o=[];for(x=0,i=t.length;x<i;x++)(u=f(e,t[x]*r,x<i-1?t[x+1]*r:e.length,r,!1))===u.next&&(u.steiner=!0),o.push(d(u));for(o.sort(p),x=0;x<o.length;x++)n=y(o[x],n);return n}(e,t,c,n)),e.length>80*n){r=i=e[0],x=u=e[1];for(var b=n;b<h;b+=n)(o=e[b])<r&&(r=o),(s=e[b+1])<x&&(x=s),o>i&&(i=o),s>u&&(u=s);l=0!==(l=Math.max(i-r,u-x))?32767/l:0}return a(c,g,n,r,x,l,0),g}function f(e,t,n,r,x){var i,u;if(x===O(e,t,n,r)>0)for(i=t;i<n;i+=r)u=P(i,e[i],e[i+1],u);else for(i=n-r;i>=t;i-=r)u=P(i,e[i],e[i+1],u);return u&&m(u,u.next)&&(B(u),u=u.next),u}function s(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!m(r,r.next)&&0!==w(r.prev,r,r.next))r=r.next;else{if(B(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function a(e,t,n,r,x,i,u){if(e){!u&&i&&function(e,t,n,r){var x=e;do{0===x.z&&(x.z=b(x.x,x.y,t,n,r)),x.prevZ=x.prev,x.nextZ=x.next,x=x.next}while(x!==e);x.prevZ.nextZ=null,x.prevZ=null,function(e){var t,n,r,x,i,u,o,f,s=1;do{for(n=e,e=null,i=null,u=0;n;){for(u++,r=n,o=0,t=0;t<s&&(o++,r=r.nextZ);t++);for(f=s;o>0||f>0&&r;)0!==o&&(0===f||!r||n.z<=r.z)?(x=n,n=n.nextZ,o--):(x=r,r=r.nextZ,f--),i?i.nextZ=x:e=x,x.prevZ=i,i=x;n=r}i.nextZ=null,s*=2}while(u>1)}(x)}(e,r,x,i);for(var o,f,p=e;e.prev!==e.next;)if(o=e.prev,f=e.next,i?v(e,r,x,i):l(e))t.push(o.i/n|0),t.push(e.i/n|0),t.push(f.i/n|0),B(e),e=f.next,p=f.next;else if((e=f)===p){u?1===u?a(e=h(s(e),t,n),t,n,r,x,i,2):2===u&&c(e,t,n,r,x,i):a(s(e),t,n,r,x,i,1);break}}}function l(e){var t=e.prev,n=e,r=e.next;if(w(t,n,r)>=0)return!1;for(var x=t.x,i=n.x,u=r.x,o=t.y,f=n.y,s=r.y,a=x<i?x<u?x:u:i<u?i:u,l=o<f?o<s?o:s:f<s?f:s,v=x>i?x>u?x:u:i>u?i:u,h=o>f?o>s?o:s:f>s?f:s,c=r.next;c!==t;){if(c.x>=a&&c.x<=v&&c.y>=l&&c.y<=h&&M(x,o,i,f,u,s,c.x,c.y)&&w(c.prev,c,c.next)>=0)return!1;c=c.next}return!0}function v(e,t,n,r){var x=e.prev,i=e,u=e.next;if(w(x,i,u)>=0)return!1;for(var o=x.x,f=i.x,s=u.x,a=x.y,l=i.y,v=u.y,h=o<f?o<s?o:s:f<s?f:s,c=a<l?a<v?a:v:l<v?l:v,p=o>f?o>s?o:s:f>s?f:s,y=a>l?a>v?a:v:l>v?l:v,g=b(h,c,t,n,r),d=b(p,y,t,n,r),Z=e.prevZ,m=e.nextZ;Z&&Z.z>=g&&m&&m.z<=d;){if(Z.x>=h&&Z.x<=p&&Z.y>=c&&Z.y<=y&&Z!==x&&Z!==u&&M(o,a,f,l,s,v,Z.x,Z.y)&&w(Z.prev,Z,Z.next)>=0)return!1;if(Z=Z.prevZ,m.x>=h&&m.x<=p&&m.y>=c&&m.y<=y&&m!==x&&m!==u&&M(o,a,f,l,s,v,m.x,m.y)&&w(m.prev,m,m.next)>=0)return!1;m=m.nextZ}for(;Z&&Z.z>=g;){if(Z.x>=h&&Z.x<=p&&Z.y>=c&&Z.y<=y&&Z!==x&&Z!==u&&M(o,a,f,l,s,v,Z.x,Z.y)&&w(Z.prev,Z,Z.next)>=0)return!1;Z=Z.prevZ}for(;m&&m.z<=d;){if(m.x>=h&&m.x<=p&&m.y>=c&&m.y<=y&&m!==x&&m!==u&&M(o,a,f,l,s,v,m.x,m.y)&&w(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function h(e,t,n){var r=e;do{var x=r.prev,i=r.next.next;!m(x,i)&&A(x,r,r.next,i)&&z(x,i)&&z(i,x)&&(t.push(x.i/n|0),t.push(r.i/n|0),t.push(i.i/n|0),B(r),B(r.next),r=e=i),r=r.next}while(r!==e);return s(r)}function c(e,t,n,r,x,i){var u=e;do{for(var o=u.next.next;o!==u.prev;){if(u.i!==o.i&&Z(u,o)){var f=F(u,o);return u=s(u,u.next),f=s(f,f.next),a(u,t,n,r,x,i,0),void a(f,t,n,r,x,i,0)}o=o.next}u=u.next}while(u!==e)}function p(e,t){return e.x-t.x}function y(e,t){var n=function(e,t){var n,r=t,x=e.x,i=e.y,u=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var o=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(o<=x&&o>u&&(u=o,n=r.x<r.next.x?r:r.next,o===x))return n}r=r.next}while(r!==t);if(!n)return null;var f,s=n,a=n.x,l=n.y,v=1/0;r=n;do{x>=r.x&&r.x>=a&&x!==r.x&&M(i<l?x:u,i,a,l,i<l?u:x,i,r.x,r.y)&&(f=Math.abs(i-r.y)/(x-r.x),z(r,e)&&(f<v||f===v&&(r.x>n.x||r.x===n.x&&g(n,r)))&&(n=r,v=f)),r=r.next}while(r!==s);return n}(e,t);if(!n)return t;var r=F(n,e);return s(r,r.next),s(n,n.next)}function g(e,t){return w(e.prev,e,t.prev)<0&&w(t.next,e,e.next)<0}function b(e,t,n,r,x){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*x|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*x|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function d(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function M(e,t,n,r,x,i,u,o){return(x-u)*(t-o)>=(e-u)*(i-o)&&(e-u)*(r-o)>=(n-u)*(t-o)&&(n-u)*(i-o)>=(x-u)*(r-o)}function Z(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&A(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(z(e,t)&&z(t,e)&&function(e,t){var n=e,r=!1,x=(e.x+t.x)/2,i=(e.y+t.y)/2;do{n.y>i!=n.next.y>i&&n.next.y!==n.y&&x<(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(w(e.prev,e,t.prev)||w(e,t.prev,t))||m(e,t)&&w(e.prev,e,e.next)>0&&w(t.prev,t,t.next)>0)}function w(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function m(e,t){return e.x===t.x&&e.y===t.y}function A(e,t,n,r){var x=I(w(e,t,n)),i=I(w(e,t,r)),u=I(w(n,r,e)),o=I(w(n,r,t));return x!==i&&u!==o||(!(0!==x||!E(e,n,t))||(!(0!==i||!E(e,r,t))||(!(0!==u||!E(n,e,r))||!(0!==o||!E(n,t,r)))))}function E(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function I(e){return e>0?1:e<0?-1:0}function z(e,t){return w(e.prev,e,e.next)<0?w(e,t,e.next)>=0&&w(e,e.prev,t)>=0:w(e,t,e.prev)<0||w(e,e.next,t)<0}function F(e,t){var n=new _(e.i,e.x,e.y),r=new _(t.i,t.x,t.y),x=e.next,i=t.prev;return e.next=t,t.prev=e,n.next=x,x.prev=n,r.next=n,n.prev=r,i.next=r,r.prev=i,r}function P(e,t,n,r){var x=new _(e,t,n);return r?(x.next=r.next,x.prev=r,r.next.prev=x,r.next=x):(x.prev=x,x.next=x),x}function B(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function _(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function O(e,t,n,r){for(var x=0,i=t,u=n-r;i<n;i+=r)x+=(e[u]-e[i])*(e[i+1]+e[u+1]),u=i;return x}u.exports=o,u.exports.default=o,o.deviation=function(e,t,n,r){var x=t&&t.length,i=x?t[0]*n:e.length,u=Math.abs(O(e,0,i,n));if(x)for(var o=0,f=t.length;o<f;o++){var s=t[o]*n,a=o<f-1?t[o+1]*n:e.length;u-=Math.abs(O(e,s,a,n))}var l=0;for(o=0;o<r.length;o+=3){var v=r[o]*n,h=r[o+1]*n,c=r[o+2]*n;l+=Math.abs((e[v]-e[c])*(e[h+1]-e[v+1])-(e[v]-e[h])*(e[c+1]-e[v+1]))}return 0===u&&0===l?0:Math.abs((l-u)/u)},o.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,x=0;x<e.length;x++){for(var i=0;i<e[x].length;i++)for(var u=0;u<t;u++)n.vertices.push(e[x][i][u]);x>0&&(r+=e[x-1].length,n.holes.push(r))}return n};var N=i(u.exports);const R=[],S={vertexPosition:0,indexPosition:0};function T(e,t,n,r,x){e[t+0]=n,e[t+1]=r,e[t+2]=x}function U(e,t,n,r,x,i){const u=3+x,o=e[t+0],f=e[t+1],s=R;s.length=x;for(let n=0;n<s.length;n++)s[n]=e[t+2+n];let a=i?i.vertexPosition:0,l=i?i.indexPosition:0;const v=a/u;return T(n,a,o,f,0),s.length&&n.set(s,a+3),a+=u,T(n,a,o,f,1),s.length&&n.set(s,a+3),a+=u,T(n,a,o,f,2),s.length&&n.set(s,a+3),a+=u,T(n,a,o,f,3),s.length&&n.set(s,a+3),a+=u,r[l++]=v,r[l++]=v+1,r[l++]=v+3,r[l++]=v+1,r[l++]=v+2,r[l++]=v+3,S.vertexPosition=a,S.indexPosition=l,S}function k(e,t,n,x,i,u,o,f,s,a,l){const v=8+f.length,h=u.length/v,c=[e[t+0],e[t+1]],p=[e[n],e[n+1]],y=r(s,[...c]),g=r(s,[...p]);function b(e,t,n){const r=Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])),x=[(t[0]-e[0])/r,(t[1]-e[1])/r],i=[-x[1],x[0]],u=Math.sqrt((n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1])),o=[(n[0]-e[0])/u,(n[1]-e[1])/u],f=0===r||0===u?0:Math.acos((s=o[0]*x[0]+o[1]*x[1],a=-1,l=1,Math.min(Math.max(s,a),l)));var s,a,l;return o[0]*i[0]+o[1]*i[1]>0?f:2*Math.PI-f}let d=-1,M=-1,Z=l;const w=null!==i;if(null!==x){d=b(y,g,r(s,[...[e[x],e[x+1]]])),Math.cos(d)<=.985&&(Z+=Math.tan((d-Math.PI)/2))}if(w){M=b(g,y,r(s,[...[e[i],e[i+1]]])),Math.cos(M)<=.985&&(Z+=Math.tan((Math.PI-M)/2))}function m(e,t){return 0===t?1e4*e:Math.sign(t)*(1e4*e+Math.abs(t))}return u.push(c[0],c[1],p[0],p[1],d,M,a,m(0,l)),u.push(...f),u.push(c[0],c[1],p[0],p[1],d,M,a,m(1,l)),u.push(...f),u.push(c[0],c[1],p[0],p[1],d,M,a,m(2,l)),u.push(...f),u.push(c[0],c[1],p[0],p[1],d,M,a,m(3,l)),u.push(...f),o.push(h,h+1,h+2,h+1,h+3,h+2),{length:a+Math.sqrt((g[0]-y[0])*(g[0]-y[0])+(g[1]-y[1])*(g[1]-y[1])),angle:Z}}function G(e,t,n,r,x){const i=2+x;let u=t;const o=e.slice(u,u+x);u+=x;const f=e[u++];let s=0;const a=new Array(f-1);for(let t=0;t<f;t++)s+=e[u++],t<f-1&&(a[t]=s);const l=e.slice(u,u+2*s),v=N(l,a,2);for(let e=0;e<v.length;e++)r.push(v[e]+n.length/i);for(let e=0;e<l.length;e+=2)n.push(l[e],l[e+1],...o);return u+2*s}const j=self;j.onmessage=r=>{const i=r.data;switch(i.type){case t:{const e=3,t=2,n=i.customAttributesSize,r=t+n,x=new Float32Array(i.renderInstructions),u=x.length/r,o=4*u*(n+e),f=new Uint32Array(6*u),s=new Float32Array(o);let a;for(let e=0;e<x.length;e+=r)a=U(x,e,s,f,n,a);const l=Object.assign({vertexBuffer:s.buffer,indexBuffer:f.buffer,renderInstructions:x.buffer},i);j.postMessage(l,[s.buffer,f.buffer,x.buffer]);break}case n:{const e=[],t=[],n=i.customAttributesSize,r=2,u=new Float32Array(i.renderInstructions);let o=0;const f=[1,0,0,1,0,0];let s,a;for(x(f,i.renderInstructionsTransform);o<u.length;){a=Array.from(u.slice(o,o+n)),o+=n,s=u[o++];const x=o,i=o+(s-1)*r,l=u[x]===u[i]&&u[x+1]===u[i+1];let v=0,h=0;for(let n=0;n<s-1;n++){let c=null;n>0?c=o+(n-1)*r:l&&(c=i-r);let p=null;n<s-2?p=o+(n+2)*r:l&&(p=x+r);const y=k(u,o+n*r,o+(n+1)*r,c,p,e,t,a,f,v,h);v=y.length,h=y.angle}o+=s*r}const l=Uint32Array.from(t),v=Float32Array.from(e),h=Object.assign({vertexBuffer:v.buffer,indexBuffer:l.buffer,renderInstructions:u.buffer},i);j.postMessage(h,[v.buffer,l.buffer,u.buffer]);break}case e:{const e=[],t=[],n=i.customAttributesSize,r=new Float32Array(i.renderInstructions);let x=0;for(;x<r.length;)x=G(r,x,e,t,n);const u=Uint32Array.from(t),o=Float32Array.from(e),f=Object.assign({vertexBuffer:o.buffer,indexBuffer:u.buffer,renderInstructions:r.buffer},i);j.postMessage(f,[o.buffer,u.buffer,r.buffer]);break}}};';return new Worker(typeof Blob>"u"?"data:application/javascript;base64,"+Buffer.from(t,"binary").toString("base64"):URL.createObjectURL(new Blob([t],{type:"application/javascript"})))}function jle(t,e){const n=t.viewState.projection,i=e.getSource().getWrapX()&&n.canWrapX(),s=n.getExtent(),l=t.extent,c=i?cs(s):null,a=i?Math.ceil((l[2]-s[2])/c)+1:1;return[i?Math.floor((l[0]-s[0])/c):0,a,c]}class Zot extends UB{constructor(e,n){const r=n.uniforms||{},i=zo();r[HA.PROJECTION_MATRIX]=i,super(e,{uniforms:r,postProcesses:n.postProcesses}),this.sourceRevision_=-1,this.verticesBuffer_=new qT(DB,l6),this.indicesBuffer_=new qT(NB,l6),this.vertexShader_=n.vertexShader,this.fragmentShader_=n.fragmentShader,this.program_,this.hitDetectionEnabled_=n.hitDetectionEnabled??!0;const s=n.attributes?n.attributes.map(function(c){return{name:"a_prop_"+c.name,size:1,type:Du.FLOAT}}):[];this.attributes=[{name:"a_position",size:2,type:Du.FLOAT},{name:"a_index",size:1,type:Du.FLOAT}],this.hitDetectionEnabled_&&(this.attributes.push({name:"a_prop_hitColor",size:4,type:Du.FLOAT}),this.attributes.push({name:"a_featureUid",size:1,type:Du.FLOAT})),this.attributes.push(...s),this.customAttributes=n.attributes?n.attributes:[],this.previousExtent_=sc(),this.currentTransform_=i,this.renderTransform_=zo(),this.invertRenderTransform_=zo(),this.renderInstructions_=new Float32Array(0),this.hitRenderTarget_,this.lastSentId=0,this.worker_=Qle(),this.worker_.addEventListener("message",c=>{const a=c.data;if(a.type===nC.GENERATE_POINT_BUFFERS){const f=a.projectionTransform;this.verticesBuffer_.fromArrayBuffer(a.vertexBuffer),this.helper.flushBufferData(this.verticesBuffer_),this.indicesBuffer_.fromArrayBuffer(a.indexBuffer),this.helper.flushBufferData(this.indicesBuffer_),this.renderTransform_=f,e1(this.invertRenderTransform_,this.renderTransform_),this.renderInstructions_=new Float32Array(c.data.renderInstructions),a.id===this.lastSentId&&(this.ready=!0),this.getLayer().changed()}}),this.featureCache_={},this.featureCount_=0;const l=this.getLayer().getSource();this.sourceListenKeys_=[$a(l,Jl.ADDFEATURE,this.handleSourceFeatureAdded_,this),$a(l,Jl.CHANGEFEATURE,this.handleSourceFeatureChanged_,this),$a(l,Jl.REMOVEFEATURE,this.handleSourceFeatureDelete_,this),$a(l,Jl.CLEAR,this.handleSourceFeatureClear_,this)],l.forEachFeature(c=>{this.featureCache_[Bi(c)]={feature:c,properties:c.getProperties(),geometry:c.getGeometry()},this.featureCount_++})}afterHelperCreated(){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_),this.hitDetectionEnabled_&&(this.hitRenderTarget_=new Dle(this.helper))}handleSourceFeatureAdded_(e){const n=e.feature;this.featureCache_[Bi(n)]={feature:n,properties:n.getProperties(),geometry:n.getGeometry()},this.featureCount_++}handleSourceFeatureChanged_(e){const n=e.feature;this.featureCache_[Bi(n)]={feature:n,properties:n.getProperties(),geometry:n.getGeometry()}}handleSourceFeatureDelete_(e){const n=e.feature;delete this.featureCache_[Bi(n)],this.featureCount_--}handleSourceFeatureClear_(){this.featureCache_={},this.featureCount_=0}renderFrame(e){const n=this.helper.getGL();this.preRender(n,e);const[r,i,s]=jle(e,this.getLayer());return this.renderWorlds(e,!1,r,i,s),this.helper.finalizeDraw(e,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent),this.hitDetectionEnabled_&&(this.renderWorlds(e,!0,r,i,s),this.hitRenderTarget_.clearCachedData()),this.postRender(n,e),this.helper.getCanvas()}prepareFrameInternal(e){const n=this.getLayer(),r=n.getSource(),i=e.viewState,s=!e.viewHints[Js.ANIMATING]&&!e.viewHints[Js.INTERACTING],l=!n1(this.previousExtent_,e.extent),c=this.sourceRevision_<r.getRevision();if(c&&(this.sourceRevision_=r.getRevision()),s&&(l||c)){const a=i.projection,f=i.resolution,A=n instanceof V2?n.getRenderBuffer():0,m=Wp(e.extent,A*f);r.loadFeatures(m,f,a),this.rebuildBuffers_(e),this.previousExtent_=e.extent.slice()}return this.helper.useProgram(this.program_,e),this.helper.prepareDraw(e),this.helper.bindBuffer(this.verticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.attributes),!0}rebuildBuffers_(e){const n=zo();this.helper.makeProjectionTransform(e,n);const i=(this.hitDetectionEnabled_?7:2)+this.customAttributes.length,s=i*this.featureCount_;(!this.renderInstructions_||this.renderInstructions_.length!==s)&&(this.renderInstructions_=new Float32Array(s));let l,c;const a=[],f=[];let A=-1;for(const _ in this.featureCache_)if(l=this.featureCache_[_],c=l.geometry,!(!c||c.getType()!=="Point")){if(a[0]=c.getFlatCoordinates()[0],a[1]=c.getFlatCoordinates()[1],Po(n,a),this.renderInstructions_[++A]=a[0],this.renderInstructions_[++A]=a[1],this.hitDetectionEnabled_){const y=Vle(A+5,f);this.renderInstructions_[++A]=y[0],this.renderInstructions_[++A]=y[1],this.renderInstructions_[++A]=y[2],this.renderInstructions_[++A]=y[3],this.renderInstructions_[++A]=Number(_)}for(let y=0;y<this.customAttributes.length;y++){const T=this.customAttributes[y].callback(l.feature,l.properties);this.renderInstructions_[++A]=T}}const m={id:++this.lastSentId,type:nC.GENERATE_POINT_BUFFERS,renderInstructions:this.renderInstructions_.buffer,customAttributesSize:i-2};m.projectionTransform=n,this.ready=!1,this.worker_.postMessage(m,[this.renderInstructions_.buffer]),this.renderInstructions_=null}forEachFeatureAtCoordinate(e,n,r,i,s){if(Za(this.hitDetectionEnabled_,"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has been disabled using the `disableHitDetection: true` option."),!this.renderInstructions_||!this.hitDetectionEnabled_)return;const l=Po(n.coordinateToPixelTransform,e.slice()),c=this.hitRenderTarget_.readPixel(l[0]/2,l[1]/2),a=[c[0]/255,c[1]/255,c[2]/255,c[3]/255],f=Hle(a),A=this.renderInstructions_[f],m=Math.floor(A).toString(),y=this.getLayer().getSource().getFeatureByUid(m);if(y)return i(y,this.getLayer(),null)}renderWorlds(e,n,r,i,s){let l=r;this.helper.useProgram(this.program_,e),n&&(this.hitRenderTarget_.setSize([Math.floor(e.size[0]/2),Math.floor(e.size[1]/2)]),this.helper.prepareDrawToRenderTarget(e,this.hitRenderTarget_,!0)),this.helper.bindBuffer(this.verticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.attributes);do{this.helper.makeProjectionTransform(e,this.currentTransform_),r7(this.currentTransform_,l*s,0),D2(this.currentTransform_,this.invertRenderTransform_),this.helper.applyUniforms(e),this.helper.applyHitDetectionUniform(n);const c=this.indicesBuffer_.getSize();this.helper.drawElements(0,c)}while(++l<i)}disposeInternal(){this.worker_.terminate(),this.layer_=null,this.sourceListenKeys_.forEach(function(e){xo(e)}),this.sourceListenKeys_=null,super.disposeInternal()}renderDeclutter(){}}class Jot{constructor(e,n){this.name=e,this.data=n,this.texture_=null}getTexture(e){if(!this.texture_){const n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.data.length/4,1,0,e.RGBA,e.UNSIGNED_BYTE,this.data),this.texture_=n}return this.texture_}}const elt={TILE_TRANSFORM:"u_tileTransform",TRANSITION_ALPHA:"u_transitionAlpha",DEPTH:"u_depth",RENDER_EXTENT:"u_renderExtent",PATTERN_ORIGIN:"u_patternOrigin",RESOLUTION:"u_resolution",ZOOM:"u_zoom",GLOBAL_ALPHA:"u_globalAlpha",PROJECTION_MATRIX:"u_projectionMatrix",SCREEN_TO_WORLD_MATRIX:"u_screenToWorldMatrix"},lP={...elt,TILE_TEXTURE_ARRAY:"u_tileTextures",TEXTURE_PIXEL_WIDTH:"u_texturePixelWidth",TEXTURE_PIXEL_HEIGHT:"u_texturePixelHeight",TEXTURE_RESOLUTION:"u_textureResolution",TEXTURE_ORIGIN_X:"u_textureOriginX",TEXTURE_ORIGIN_Y:"u_textureOriginY"};function tlt(t,e){return`operator_${t}_${Object.keys(e.functions).length}`}function K_(t){const e=t.toString();return e.includes(".")?e:e+".0"}function K7(t){if(t.length<2||t.length>4)throw new Error("`formatArray` can only output `vec2`, `vec3` or `vec4` arrays.");return`vec${t.length}(${t.map(K_).join(", ")})`}function RS(t){const e=bm(t),n=e.length>3?e[3]:1;return K7([e[0]/255*n,e[1]/255*n,e[2]/255*n,n])}const uP={};let nlt=0;function WR(t){return t in uP||(uP[t]=nlt++),uP[t]}function Rg(t){return K_(WR(t))}function Gle(t){return"u_var_"+t}const cP="getBandValue",rlt="u_paletteTextures";function ilt(t,e,n,r){const i=Es(t,n,e);if(Z6(i.type,xy))throw new Error("No matching type was found");if(!Hp(e,i.type)){const s=bu(e),l=bu(i.type);throw new Error(`Expected expression to be of type ${s}, got ${l}`)}return W7(i,e,r)}function ps(t){return(e,n,r)=>{const i=n.args.length,s=new Array(i);for(let l=0;l<i;++l)s[l]=W7(n.args[l],r,e);return t(s,e)}}const alt={[Fn.Get]:(t,e)=>{const r=e.args[0].value;return r in t.properties||(t.properties[r]={name:r,type:e.type}),(t.inFragmentShader?"v_prop_":"a_prop_")+r},[Fn.GeometryType]:(t,e,n)=>{const r="geometryType";return r in t.properties||(t.properties[r]={name:r,type:fu,evaluator:l=>O7(l.getGeometry())}),(t.inFragmentShader?"v_prop_":"a_prop_")+r},[Fn.Var]:(t,e)=>{const r=e.args[0].value;return r in t.variables||(t.variables[r]={name:r,type:e.type}),Gle(r)},[Fn.Resolution]:()=>"u_resolution",[Fn.Zoom]:()=>"u_zoom",[Fn.Time]:()=>"u_time",[Fn.Any]:ps(t=>`(${t.join(" || ")})`),[Fn.All]:ps(t=>`(${t.join(" && ")})`),[Fn.Not]:ps(([t])=>`(!${t})`),[Fn.Equal]:ps(([t,e])=>`(${t} == ${e})`),[Fn.NotEqual]:ps(([t,e])=>`(${t} != ${e})`),[Fn.GreaterThan]:ps(([t,e])=>`(${t} > ${e})`),[Fn.GreaterThanOrEqualTo]:ps(([t,e])=>`(${t} >= ${e})`),[Fn.LessThan]:ps(([t,e])=>`(${t} < ${e})`),[Fn.LessThanOrEqualTo]:ps(([t,e])=>`(${t} <= ${e})`),[Fn.Multiply]:ps(t=>`(${t.join(" * ")})`),[Fn.Divide]:ps(([t,e])=>`(${t} / ${e})`),[Fn.Add]:ps(t=>`(${t.join(" + ")})`),[Fn.Subtract]:ps(([t,e])=>`(${t} - ${e})`),[Fn.Clamp]:ps(([t,e,n])=>`clamp(${t}, ${e}, ${n})`),[Fn.Mod]:ps(([t,e])=>`mod(${t}, ${e})`),[Fn.Pow]:ps(([t,e])=>`pow(${t}, ${e})`),[Fn.Abs]:ps(([t])=>`abs(${t})`),[Fn.Floor]:ps(([t])=>`floor(${t})`),[Fn.Ceil]:ps(([t])=>`ceil(${t})`),[Fn.Round]:ps(([t])=>`floor(${t} + 0.5)`),[Fn.Sin]:ps(([t])=>`sin(${t})`),[Fn.Cos]:ps(([t])=>`cos(${t})`),[Fn.Atan]:ps(([t,e])=>e!==void 0?`atan(${t}, ${e})`:`atan(${t})`),[Fn.Sqrt]:ps(([t])=>`sqrt(${t})`),[Fn.Match]:ps(t=>{const e=t[0],n=t[t.length-1];let r=null;for(let i=t.length-3;i>=1;i-=2){const s=t[i],l=t[i+1];r=`(${e} == ${s} ? ${l} : ${r||n})`}return r}),[Fn.Between]:ps(([t,e,n])=>`(${t} >= ${e} && ${t} <= ${n})`),[Fn.Interpolate]:ps(([t,e,...n])=>{let r="";for(let i=0;i<n.length-2;i+=2){const s=n[i],l=r||n[i+1],c=n[i+2],a=n[i+3];let f;t===K_(1)?f=`(${e} - ${s}) / (${c} - ${s})`:f=`(pow(${t}, (${e} - ${s})) - 1.0) / (pow(${t}, (${c} - ${s})) - 1.0)`,r=`mix(${l}, ${a}, clamp(${f}, 0.0, 1.0))`}return r}),[Fn.Case]:ps(t=>{const e=t[t.length-1];let n=null;for(let r=t.length-3;r>=0;r-=2){const i=t[r],s=t[r+1];n=`(${i} ? ${s} : ${n||e})`}return n}),[Fn.In]:ps(([t,...e],n)=>{const r=tlt("in",n),i=[];for(let s=0;s<e.length;s+=1)i.push(`  if (inputValue == ${e[s]}) { return true; }`);return n.functions[r]=`bool ${r}(float inputValue) {
${i.join(`
`)}
  return false;
}`,`${r}(${t})`}),[Fn.Array]:ps(t=>`vec${t.length}(${t.join(", ")})`),[Fn.Color]:ps(t=>{if(t.length===1)return`vec4(vec3(${t[0]} / 255.0), 1.0)`;if(t.length===2)return`(${t[1]} * vec4(vec3(${t[0]} / 255.0), 1.0))`;const e=t.slice(0,3).map(r=>`${r} / 255.0`);return t.length===3?`vec4(${e.join(", ")}, 1.0)`:`(${t[3]} * vec4(${e.join(", ")}, 1.0))`}),[Fn.Band]:ps(([t,e,n],r)=>{if(!(cP in r.functions)){let i="";const s=r.bandCount||1;for(let l=0;l<s;l++){const c=Math.floor(l/4);let a=l%4;l===s-1&&a===1&&(a=3);const f=`${lP.TILE_TEXTURE_ARRAY}[${c}]`;i+=`  if (band == ${l+1}.0) {
    return texture2D(${f}, v_textureCoord + vec2(dx, dy))[${a}];
  }
`}r.functions[cP]=`float getBandValue(float band, float xOffset, float yOffset) {
  float dx = xOffset / ${lP.TEXTURE_PIXEL_WIDTH};
  float dy = yOffset / ${lP.TEXTURE_PIXEL_HEIGHT};
${i}
}`}return`${cP}(${t}, ${e??"0.0"}, ${n??"0.0"})`}),[Fn.Palette]:(t,e)=>{const[n,...r]=e.args,i=r.length,s=new Uint8Array(i*4);for(let f=0;f<r.length;f++){const A=r[f].value,m=bm(A),_=f*4;s[_]=m[0],s[_+1]=m[1],s[_+2]=m[2],s[_+3]=m[3]*255}t.paletteTextures||(t.paletteTextures=[]);const l=`${rlt}[${t.paletteTextures.length}]`,c=new Jot(l,s);t.paletteTextures.push(c);const a=W7(n,$r,t);return`texture2D(${l}, vec2((${a} + 0.5) / ${i}.0, 0.5))`}};function W7(t,e,n){if(t instanceof qoe){const r=alt[t.operator];if(r===void 0)throw new Error(`No compiler defined for this operator: ${JSON.stringify(t.operator)}`);return r(n,t,e)}if((t.type&$r)>0)return K_(t.value);if((t.type&_o)>0)return t.value.toString();if((t.type&fu)>0)return Rg(t.value.toString());if((t.type&Ns)>0)return RS(t.value);if((t.type&Pl)>0)return K7(t.value);throw new Error(`Unexpected expression ${t.value} (expected type ${bu(e)})`)}function slt(){return{"fill-color":"rgba(255,255,255,0.4)","stroke-color":"#3399CC","stroke-width":1.25,"circle-radius":5,"circle-fill-color":"rgba(255,255,255,0.4)","circle-stroke-width":1.25,"circle-stroke-color":"#3399CC"}}const Eb=`#ifdef GL_FRAGMENT_PRECISION_HIGH
precision highp float;
#else
precision mediump float;
#endif
uniform mat4 u_projectionMatrix;
uniform mat4 u_screenToWorldMatrix;
uniform vec2 u_viewportSizePx;
uniform float u_pixelRatio;
uniform float u_globalAlpha;
uniform float u_time;
uniform float u_zoom;
uniform float u_resolution;
uniform float u_rotation;
uniform vec4 u_renderExtent;
uniform vec2 u_patternOrigin;
uniform float u_depth;
uniform mediump int u_hitDetection;

const float PI = 3.141592653589793238;
const float TWO_PI = 2.0 * PI;

// this used to produce an alpha-premultiplied color from a texture
vec4 samplePremultiplied(sampler2D sampler, vec2 texCoord) {
  vec4 color = texture2D(sampler, texCoord);
  return vec4(color.rgb * color.a, color.a);
}
`,Sb=slt();class Kle{constructor(){this.uniforms_=[],this.attributes_=[],this.varyings_=[],this.hasSymbol_=!1,this.symbolSizeExpression_=`vec2(${K_(Sb["circle-radius"])} + ${K_(Sb["circle-stroke-width"]*.5)})`,this.symbolRotationExpression_="0.0",this.symbolOffsetExpression_="vec2(0.0)",this.symbolColorExpression_=RS(Sb["circle-fill-color"]),this.texCoordExpression_="vec4(0.0, 0.0, 1.0, 1.0)",this.discardExpression_="false",this.symbolRotateWithView_=!1,this.hasStroke_=!1,this.strokeWidthExpression_=K_(Sb["stroke-width"]),this.strokeColorExpression_=RS(Sb["stroke-color"]),this.strokeOffsetExpression_="0.",this.strokeCapExpression_=Rg("round"),this.strokeJoinExpression_=Rg("round"),this.strokeMiterLimitExpression_="10.",this.strokeDistanceFieldExpression_="-1000.",this.hasFill_=!1,this.fillColorExpression_=RS(Sb["fill-color"]),this.vertexShaderFunctions_=[],this.fragmentShaderFunctions_=[]}addUniform(e){return this.uniforms_.push(e),this}addAttribute(e){return this.attributes_.push(e),this}addVarying(e,n,r){return this.varyings_.push({name:e,type:n,expression:r}),this}setSymbolSizeExpression(e){return this.hasSymbol_=!0,this.symbolSizeExpression_=e,this}getSymbolSizeExpression(){return this.symbolSizeExpression_}setSymbolRotationExpression(e){return this.symbolRotationExpression_=e,this}setSymbolOffsetExpression(e){return this.symbolOffsetExpression_=e,this}getSymbolOffsetExpression(){return this.symbolOffsetExpression_}setSymbolColorExpression(e){return this.hasSymbol_=!0,this.symbolColorExpression_=e,this}getSymbolColorExpression(){return this.symbolColorExpression_}setTextureCoordinateExpression(e){return this.texCoordExpression_=e,this}setFragmentDiscardExpression(e){return this.discardExpression_=e,this}getFragmentDiscardExpression(){return this.discardExpression_}setSymbolRotateWithView(e){return this.symbolRotateWithView_=e,this}setStrokeWidthExpression(e){return this.hasStroke_=!0,this.strokeWidthExpression_=e,this}setStrokeColorExpression(e){return this.hasStroke_=!0,this.strokeColorExpression_=e,this}getStrokeColorExpression(){return this.strokeColorExpression_}setStrokeOffsetExpression(e){return this.strokeOffsetExpression_=e,this}setStrokeCapExpression(e){return this.strokeCapExpression_=e,this}setStrokeJoinExpression(e){return this.strokeJoinExpression_=e,this}setStrokeMiterLimitExpression(e){return this.strokeMiterLimitExpression_=e,this}setStrokeDistanceFieldExpression(e){return this.strokeDistanceFieldExpression_=e,this}setFillColorExpression(e){return this.hasFill_=!0,this.fillColorExpression_=e,this}getFillColorExpression(){return this.fillColorExpression_}addVertexShaderFunction(e){this.vertexShaderFunctions_.includes(e)||this.vertexShaderFunctions_.push(e)}addFragmentShaderFunction(e){this.fragmentShaderFunctions_.includes(e)||this.fragmentShaderFunctions_.push(e)}getSymbolVertexShader(){return this.hasSymbol_?`${Eb}
${this.uniforms_.map(function(e){return"uniform "+e+";"}).join(`
`)}
attribute vec2 a_position;
attribute float a_index;
attribute vec4 a_prop_hitColor;
${this.attributes_.map(function(e){return"attribute "+e+";"}).join(`
`)}
varying vec2 v_texCoord;
varying vec2 v_quadCoord;
varying vec4 v_prop_hitColor;
varying vec2 v_centerPx;
varying float v_angle;
varying vec2 v_quadSizePx;
${this.varyings_.map(function(e){return"varying "+e.type+" "+e.name+";"}).join(`
`)}
${this.vertexShaderFunctions_.join(`
`)}
vec2 pxToScreen(vec2 coordPx) {
  vec2 scaled = coordPx / u_viewportSizePx / 0.5;
  return scaled;
}

vec2 screenToPx(vec2 coordScreen) {
  return (coordScreen * 0.5 + 0.5) * u_viewportSizePx;
}

void main(void) {
  v_quadSizePx = ${this.symbolSizeExpression_};
  vec2 halfSizePx = v_quadSizePx * 0.5;
  vec2 centerOffsetPx = ${this.symbolOffsetExpression_};
  vec2 offsetPx = centerOffsetPx;
  if (a_index == 0.0) {
    offsetPx -= halfSizePx;
  } else if (a_index == 1.0) {
    offsetPx += halfSizePx * vec2(1., -1.);
  } else if (a_index == 2.0) {
    offsetPx += halfSizePx;
  } else {
    offsetPx += halfSizePx * vec2(-1., 1.);
  }
  float angle = ${this.symbolRotationExpression_};
  ${this.symbolRotateWithView_?"angle += u_rotation;":""}
  float c = cos(-angle);
  float s = sin(-angle);
  offsetPx = vec2(c * offsetPx.x - s * offsetPx.y, s * offsetPx.x + c * offsetPx.y);
  vec4 center = u_projectionMatrix * vec4(a_position, 0.0, 1.0);
  gl_Position = center + vec4(pxToScreen(offsetPx), u_depth, 0.);
  vec4 texCoord = ${this.texCoordExpression_};
  float u = a_index == 0.0 || a_index == 3.0 ? texCoord.s : texCoord.p;
  float v = a_index == 2.0 || a_index == 3.0 ? texCoord.t : texCoord.q;
  v_texCoord = vec2(u, v);
  v_prop_hitColor = a_prop_hitColor;
  v_angle = angle;
  c = cos(-v_angle);
  s = sin(-v_angle);
  centerOffsetPx = vec2(c * centerOffsetPx.x - s * centerOffsetPx.y, s * centerOffsetPx.x + c * centerOffsetPx.y); 
  v_centerPx = screenToPx(center.xy) + centerOffsetPx;
${this.varyings_.map(function(e){return"  "+e.name+" = "+e.expression+";"}).join(`
`)}
}`:null}getSymbolFragmentShader(){return this.hasSymbol_?`${Eb}
${this.uniforms_.map(function(e){return"uniform "+e+";"}).join(`
`)}
varying vec2 v_texCoord;
varying vec4 v_prop_hitColor;
varying vec2 v_centerPx;
varying float v_angle;
varying vec2 v_quadSizePx;
${this.varyings_.map(function(e){return"varying "+e.type+" "+e.name+";"}).join(`
`)}
${this.fragmentShaderFunctions_.join(`
`)}

void main(void) {
  if (${this.discardExpression_}) { discard; }
  vec2 coordsPx = gl_FragCoord.xy / u_pixelRatio - v_centerPx; // relative to center
  float c = cos(v_angle);
  float s = sin(v_angle);
  coordsPx = vec2(c * coordsPx.x - s * coordsPx.y, s * coordsPx.x + c * coordsPx.y);
  gl_FragColor = ${this.symbolColorExpression_};
  if (u_hitDetection > 0) {
    if (gl_FragColor.a < 0.05) { discard; };
    gl_FragColor = v_prop_hitColor;
  }
}`:null}getStrokeVertexShader(){return this.hasStroke_?`${Eb}
${this.uniforms_.map(function(e){return"uniform "+e+";"}).join(`
`)}
attribute vec2 a_position;
attribute float a_index;
attribute vec2 a_segmentStart;
attribute vec2 a_segmentEnd;
attribute float a_parameters;
attribute float a_distance;
attribute vec2 a_joinAngles;
attribute vec4 a_prop_hitColor;
${this.attributes_.map(function(e){return"attribute "+e+";"}).join(`
`)}
varying vec2 v_segmentStart;
varying vec2 v_segmentEnd;
varying float v_angleStart;
varying float v_angleEnd;
varying float v_width;
varying vec4 v_prop_hitColor;
varying float v_distanceOffsetPx;
${this.varyings_.map(function(e){return"varying "+e.type+" "+e.name+";"}).join(`
`)}
${this.vertexShaderFunctions_.join(`
`)}
vec2 worldToPx(vec2 worldPos) {
  vec4 screenPos = u_projectionMatrix * vec4(worldPos, 0.0, 1.0);
  return (0.5 * screenPos.xy + 0.5) * u_viewportSizePx;
}

vec4 pxToScreen(vec2 pxPos) {
  vec2 screenPos = 2.0 * pxPos / u_viewportSizePx - 1.0;
  return vec4(screenPos, u_depth, 1.0);
}

bool isCap(float joinAngle) {
  return joinAngle < -0.1;
}

vec2 getJoinOffsetDirection(vec2 normalPx, float joinAngle) {
  float halfAngle = joinAngle / 2.0;
  float c = cos(halfAngle);
  float s = sin(halfAngle);
  vec2 angleBisectorNormal = vec2(s * normalPx.x + c * normalPx.y, -c * normalPx.x + s * normalPx.y);
  float length = 1.0 / s;
  return angleBisectorNormal * length;
}

vec2 getOffsetPoint(vec2 point, vec2 normal, float joinAngle, float offsetPx) {
  // if on a cap or the join angle is too high, offset the line along the segment normal
  if (cos(joinAngle) > 0.998 || isCap(joinAngle)) {
    return point - normal * offsetPx;
  }
  // offset is applied along the inverted normal (positive offset goes "right" relative to line direction)
  return point - getJoinOffsetDirection(normal, joinAngle) * offsetPx;
}

void main(void) {
  v_angleStart = a_joinAngles.x;
  v_angleEnd = a_joinAngles.y;
  float vertexNumber = floor(abs(a_parameters) / 10000. + 0.5);
  // we're reading the fractional part while keeping the sign (so -4.12 gives -0.12, 3.45 gives 0.45)
  float angleTangentSum = fract(abs(a_parameters) / 10000.) * 10000. * sign(a_parameters);

  float lineWidth = ${this.strokeWidthExpression_};
  float lineOffsetPx = ${this.strokeOffsetExpression_};

  // compute segment start/end in px with offset
  vec2 segmentStartPx = worldToPx(a_segmentStart);
  vec2 segmentEndPx = worldToPx(a_segmentEnd);
  vec2 tangentPx = normalize(segmentEndPx - segmentStartPx);
  vec2 normalPx = vec2(-tangentPx.y, tangentPx.x);
  segmentStartPx = getOffsetPoint(segmentStartPx, normalPx, v_angleStart, lineOffsetPx),
  segmentEndPx = getOffsetPoint(segmentEndPx, normalPx, v_angleEnd, lineOffsetPx);
  
  // compute current vertex position
  float normalDir = vertexNumber < 0.5 || (vertexNumber > 1.5 && vertexNumber < 2.5) ? 1.0 : -1.0;
  float tangentDir = vertexNumber < 1.5 ? 1.0 : -1.0;
  float angle = vertexNumber < 1.5 ? v_angleStart : v_angleEnd;
  vec2 joinDirection;
  vec2 positionPx = vertexNumber < 1.5 ? segmentStartPx : segmentEndPx;
  // if angle is too high, do not make a proper join
  if (cos(angle) > ${Lq} || isCap(angle)) {
    joinDirection = normalPx * normalDir - tangentPx * tangentDir;
  } else {
    joinDirection = getJoinOffsetDirection(normalPx * normalDir, angle);
  }
  positionPx = positionPx + joinDirection * (lineWidth * 0.5 + 1.); // adding 1 pixel for antialiasing
  gl_Position = pxToScreen(positionPx);

  v_segmentStart = segmentStartPx;
  v_segmentEnd = segmentEndPx;
  v_width = lineWidth;
  v_prop_hitColor = a_prop_hitColor;
  v_distanceOffsetPx = a_distance / u_resolution - (lineOffsetPx * angleTangentSum);
${this.varyings_.map(function(e){return"  "+e.name+" = "+e.expression+";"}).join(`
`)}
}`:null}getStrokeFragmentShader(){return this.hasStroke_?`${Eb}
${this.uniforms_.map(function(e){return"uniform "+e+";"}).join(`
`)}
varying vec2 v_segmentStart;
varying vec2 v_segmentEnd;
varying float v_angleStart;
varying float v_angleEnd;
varying float v_width;
varying vec4 v_prop_hitColor;
varying float v_distanceOffsetPx;
${this.varyings_.map(function(e){return"varying "+e.type+" "+e.name+";"}).join(`
`)}
${this.fragmentShaderFunctions_.join(`
`)}

vec2 pxToWorld(vec2 pxPos) {
  vec2 screenPos = 2.0 * pxPos / u_viewportSizePx - 1.0;
  return (u_screenToWorldMatrix * vec4(screenPos, 0.0, 1.0)).xy;
}

bool isCap(float joinAngle) {
  return joinAngle < -0.1;
}

float segmentDistanceField(vec2 point, vec2 start, vec2 end, float width) {
  vec2 tangent = normalize(end - start);
  vec2 normal = vec2(-tangent.y, tangent.x);
  vec2 startToPoint = point - start;
  return abs(dot(startToPoint, normal)) - width * 0.5;
}

float buttCapDistanceField(vec2 point, vec2 start, vec2 end) {
  vec2 startToPoint = point - start;
  vec2 tangent = normalize(end - start);
  return dot(startToPoint, -tangent);
}

float squareCapDistanceField(vec2 point, vec2 start, vec2 end, float width) {
  return buttCapDistanceField(point, start, end) - width * 0.5;
}

float roundCapDistanceField(vec2 point, vec2 start, vec2 end, float width) {
  float onSegment = max(0., 1000. * dot(point - start, end - start)); // this is very high when inside the segment
  return length(point - start) - width * 0.5 - onSegment;
}

float roundJoinDistanceField(vec2 point, vec2 start, vec2 end, float width) {
  return roundCapDistanceField(point, start, end, width);
}

float bevelJoinField(vec2 point, vec2 start, vec2 end, float width, float joinAngle) {
  vec2 startToPoint = point - start;
  vec2 tangent = normalize(end - start);
  float c = cos(joinAngle * 0.5);
  float s = sin(joinAngle * 0.5);
  float direction = -sign(sin(joinAngle));
  vec2 bisector = vec2(c * tangent.x - s * tangent.y, s * tangent.x + c * tangent.y);
  float radius = width * 0.5 * s;
  return dot(startToPoint, bisector * direction) - radius;
}

float miterJoinDistanceField(vec2 point, vec2 start, vec2 end, float width, float joinAngle) {
  if (cos(joinAngle) > ${Lq}) { // avoid risking a division by zero
    return bevelJoinField(point, start, end, width, joinAngle);
  }
  float miterLength = 1. / sin(joinAngle * 0.5);
  float miterLimit = ${this.strokeMiterLimitExpression_};
  if (miterLength > miterLimit) {
    return bevelJoinField(point, start, end, width, joinAngle);
  }
  return -1000.;
}

float capDistanceField(vec2 point, vec2 start, vec2 end, float width, float capType) {
   if (capType == ${Rg("butt")}) {
    return buttCapDistanceField(point, start, end);
  } else if (capType == ${Rg("square")}) {
    return squareCapDistanceField(point, start, end, width);
  }
  return roundCapDistanceField(point, start, end, width);
}

float joinDistanceField(vec2 point, vec2 start, vec2 end, float width, float joinAngle, float joinType) {
  if (joinType == ${Rg("bevel")}) {
    return bevelJoinField(point, start, end, width, joinAngle);
  } else if (joinType == ${Rg("miter")}) {
    return miterJoinDistanceField(point, start, end, width, joinAngle);
  }
  return roundJoinDistanceField(point, start, end, width);
}

float computeSegmentPointDistance(vec2 point, vec2 start, vec2 end, float width, float joinAngle, float capType, float joinType) {
  if (isCap(joinAngle)) {
    return capDistanceField(point, start, end, width, capType);
  }
  return joinDistanceField(point, start, end, width, joinAngle, joinType);
}

void main(void) {
  vec2 currentPoint = gl_FragCoord.xy / u_pixelRatio;
  #ifdef GL_FRAGMENT_PRECISION_HIGH
  vec2 worldPos = pxToWorld(currentPoint);
  if (
    abs(u_renderExtent[0] - u_renderExtent[2]) > 0.0 && (
      worldPos[0] < u_renderExtent[0] ||
      worldPos[1] < u_renderExtent[1] ||
      worldPos[0] > u_renderExtent[2] ||
      worldPos[1] > u_renderExtent[3]
    )
  ) {
    discard;
  }
  #endif
  if (${this.discardExpression_}) { discard; }

  float segmentLength = length(v_segmentEnd - v_segmentStart);
  vec2 segmentTangent = (v_segmentEnd - v_segmentStart) / segmentLength;
  vec2 segmentNormal = vec2(-segmentTangent.y, segmentTangent.x);
  vec2 startToPoint = currentPoint - v_segmentStart;
  float currentLengthPx = max(0., min(dot(segmentTangent, startToPoint), segmentLength)) + v_distanceOffsetPx; 
  float currentRadiusPx = abs(dot(segmentNormal, startToPoint));
  float currentRadiusRatio = dot(segmentNormal, startToPoint) * 2. / v_width;
  vec4 color = ${this.strokeColorExpression_} * u_globalAlpha;
  float capType = ${this.strokeCapExpression_};
  float joinType = ${this.strokeJoinExpression_};
  float segmentStartDistance = computeSegmentPointDistance(currentPoint, v_segmentStart, v_segmentEnd, v_width, v_angleStart, capType, joinType);
  float segmentEndDistance = computeSegmentPointDistance(currentPoint, v_segmentEnd, v_segmentStart, v_width, v_angleEnd, capType, joinType);
  float distance = max(
    segmentDistanceField(currentPoint, v_segmentStart, v_segmentEnd, v_width),
    max(segmentStartDistance, segmentEndDistance)
  );
  distance = max(distance, ${this.strokeDistanceFieldExpression_});
  gl_FragColor = color * smoothstep(0.5, -0.5, distance);
  if (u_hitDetection > 0) {
    if (gl_FragColor.a < 0.1) { discard; };
    gl_FragColor = v_prop_hitColor;
  }
}`:null}getFillVertexShader(){return this.hasFill_?`${Eb}
${this.uniforms_.map(function(e){return"uniform "+e+";"}).join(`
`)}
attribute vec2 a_position;
attribute vec4 a_prop_hitColor;
${this.attributes_.map(function(e){return"attribute "+e+";"}).join(`
`)}
varying vec4 v_prop_hitColor;
${this.varyings_.map(function(e){return"varying "+e.type+" "+e.name+";"}).join(`
`)}
${this.vertexShaderFunctions_.join(`
`)}
void main(void) {
  gl_Position = u_projectionMatrix * vec4(a_position, u_depth, 1.0);
  v_prop_hitColor = a_prop_hitColor;
${this.varyings_.map(function(e){return"  "+e.name+" = "+e.expression+";"}).join(`
`)}
}`:null}getFillFragmentShader(){return this.hasFill_?`${Eb}
${this.uniforms_.map(function(e){return"uniform "+e+";"}).join(`
`)}
varying vec4 v_prop_hitColor;
${this.varyings_.map(function(e){return"varying "+e.type+" "+e.name+";"}).join(`
`)}
${this.fragmentShaderFunctions_.join(`
`)}
vec2 pxToWorld(vec2 pxPos) {
  vec2 screenPos = 2.0 * pxPos / u_viewportSizePx - 1.0;
  return (u_screenToWorldMatrix * vec4(screenPos, 0.0, 1.0)).xy;
}

vec2 worldToPx(vec2 worldPos) {
  vec4 screenPos = u_projectionMatrix * vec4(worldPos, 0.0, 1.0);
  return (0.5 * screenPos.xy + 0.5) * u_viewportSizePx;
}

void main(void) {
  vec2 pxPos = gl_FragCoord.xy / u_pixelRatio;
  vec2 pxOrigin = worldToPx(u_patternOrigin);
  #ifdef GL_FRAGMENT_PRECISION_HIGH
  vec2 worldPos = pxToWorld(pxPos);
  if (
    abs(u_renderExtent[0] - u_renderExtent[2]) > 0.0 && (
      worldPos[0] < u_renderExtent[0] ||
      worldPos[1] < u_renderExtent[1] ||
      worldPos[0] > u_renderExtent[2] ||
      worldPos[1] > u_renderExtent[3]
    )
  ) {
    discard;
  }
  #endif
  if (${this.discardExpression_}) { discard; }
  gl_FragColor = ${this.fillColorExpression_} * u_globalAlpha;
  if (u_hitDetection > 0) {
    if (gl_FragColor.a < 0.1) { discard; };
    gl_FragColor = v_prop_hitColor;
  }
}`:null}}const xp={BLUR:"blur",GRADIENT:"gradient",RADIUS:"radius"},olt=["#00f","#0ff","#0f0","#ff0","#f00"];class llt extends V2{constructor(e){e=e||{};const n=Object.assign({},e);delete n.gradient,delete n.radius,delete n.blur,delete n.weight,super(n),this.gradient_=null,this.addChangeListener(xp.GRADIENT,this.handleGradientChanged_),this.setGradient(e.gradient?e.gradient:olt),this.setBlur(e.blur!==void 0?e.blur:15),this.setRadius(e.radius!==void 0?e.radius:8);const r=e.weight?e.weight:"weight";typeof r=="string"?this.weightFunction_=function(i){return i.get(r)}:this.weightFunction_=r,this.setRenderOrder(null)}getBlur(){return this.get(xp.BLUR)}getGradient(){return this.get(xp.GRADIENT)}getRadius(){return this.get(xp.RADIUS)}handleGradientChanged_(){this.gradient_=ult(this.getGradient())}setBlur(e){this.set(xp.BLUR,e)}setGradient(e){this.set(xp.GRADIENT,e)}setRadius(e){this.set(xp.RADIUS,e)}createRenderer(){const e=new Kle().addAttribute("float a_prop_weight").addVarying("v_prop_weight","float","a_prop_weight").addUniform("float u_size").addUniform("float u_blurSlope").setSymbolSizeExpression("vec2(u_size)").setSymbolColorExpression("vec4(smoothstep(0., 1., (1. - length(coordsPx * 2. / v_quadSizePx)) * u_blurSlope) * v_prop_weight)");return new Zot(this,{className:this.getClassName(),attributes:[{name:"weight",callback:n=>{const r=this.weightFunction_(n);return r!==void 0?Ll(r,0,1):1}}],uniforms:{u_size:()=>(this.get(xp.RADIUS)+this.get(xp.BLUR))*2,u_blurSlope:()=>this.get(xp.RADIUS)/Math.max(1,this.get(xp.BLUR))},hitDetectionEnabled:!0,vertexShader:e.getSymbolVertexShader(),fragmentShader:e.getSymbolFragmentShader(),postProcesses:[{fragmentShader:`
            precision mediump float;

            uniform sampler2D u_image;
            uniform sampler2D u_gradientTexture;
            uniform float u_opacity;

            varying vec2 v_texCoord;

            void main() {
              vec4 color = texture2D(u_image, v_texCoord);
              gl_FragColor.a = color.a * u_opacity;
              gl_FragColor.rgb = texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;
              gl_FragColor.rgb *= gl_FragColor.a;
            }`,uniforms:{u_gradientTexture:()=>this.gradient_,u_opacity:()=>this.getOpacity()}}]})}renderDeclutter(){}}function ult(t){const r=$u(1,256),i=r.createLinearGradient(0,0,1,256),s=1/(t.length-1);for(let l=0,c=t.length;l<c;++l)i.addColorStop(l*s,t[l]);return r.fillStyle=i,r.fillRect(0,0,1,256),r.canvas}const clt={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"],vector:[]},Pq={hybrid:["Image","Text","Default"],vector:["Polygon","Circle","LineString","Image","Text","Default"]};class hlt extends xle{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.renderedLayerRevision_,this.renderedPixelToCoordinateTransform_=null,this.renderedRotation_,this.renderedOpacity_=1,this.tmpTransform_=zo(),this.tileClipContexts_=null}prepareTile(e,n,r){let i;const s=e.getState();return(s===Vi.LOADED||s===Vi.ERROR)&&(this.updateExecutorGroup_(e,n,r),this.tileImageNeedsRender_(e)&&(i=!0)),i}getTile(e,n,r,i){const s=i.pixelRatio,l=i.viewState,c=l.resolution,a=l.projection,f=this.getLayer(),A=f.getSource().getTile(e,n,r,s,a),m=i.viewHints,_=!(m[Js.ANIMATING]||m[Js.INTERACTING]);return(_||!A.wantedResolution)&&(A.wantedResolution=c),this.prepareTile(A,s,a)&&(_||Date.now()-i.time<8)&&f.getRenderMode()!=="vector"&&this.renderTileImage_(A,i),super.getTile(e,n,r,i)}isDrawableTile(e){const n=this.getLayer();return super.isDrawableTile(e)&&(n.getRenderMode()==="vector"?Bi(n)in e.executorGroups:e.hasContext(n))}getTileImage(e){return e.getImage(this.getLayer())}prepareFrame(e){const n=this.getLayer().getRevision();return this.renderedLayerRevision_!==n&&(this.renderedLayerRevision_=n,this.renderedTiles.length=0),super.prepareFrame(e)}updateExecutorGroup_(e,n,r){var P;const i=this.getLayer(),s=i.getRevision(),l=i.getRenderOrder()||null,c=e.wantedResolution,a=e.getReplayState(i);if(!a.dirty&&a.renderedResolution===c&&a.renderedRevision==s&&a.renderedRenderOrder==l)return;const f=i.getSource(),A=!!i.getDeclutter(),m=f.getTileGrid(),y=f.getTileGridForProjection(r).getTileCoordExtent(e.wrappedTileCoord),T=f.getSourceTiles(n,r,e),E=Bi(i);delete e.hitDetectionImageData[E],e.executorGroups[E]=[],a.dirty=!1;for(let I=0,F=T.length;I<F;++I){const R=T[I];if(R.getState()!=Vi.LOADED)continue;const N=R.tileCoord,z=m.getTileCoordExtent(N),Q=H_(y,z),j=Wp(Q,i.getRenderBuffer()*c,this.tmpExtent),H=n1(z,Q)?null:j,K=new Ele(0,Q,c,n),ie=HR(c,n),q=function(te,ne){let he;const ce=te.getStyleFunction()||i.getStyleFunction();if(ce&&(he=ce(te,c)),he){const ye=this.renderFeature(te,ie,he,K,A,ne);a.dirty=a.dirty||ye}},W=R.getFeatures();l&&l!==a.renderedRenderOrder&&W.sort(l);for(let te=0,ne=W.length;te<ne;++te){const he=W[te];(!H||tu(H,he.getGeometry().getExtent()))&&q.call(this,he,te)}const ee=K.finish(),ue=i.getRenderMode()!=="vector"&&A&&T.length===1?null:Q,J=new Sle(ue,c,n,f.getOverlaps(),ee,i.getRenderBuffer(),!!((P=this.frameState)!=null&&P.declutter));e.executorGroups[E].push(J)}a.renderedRevision=s,a.renderedRenderOrder=l,a.renderedResolution=c}forEachFeatureAtCoordinate(e,n,r,i,s){const l=n.viewState.resolution,c=n.viewState.rotation;r=r??0;const a=this.getLayer(),A=a.getSource().getTileGridForProjection(n.viewState.projection),m=OT([e]);Wp(m,l*r,m);const _={},y=function(P,I,F){let R=P.getId();R===void 0&&(R=Bi(P));const N=_[R];if(N){if(N!==!0&&F<N.distanceSq){if(F===0)return _[R]=!0,s.splice(s.lastIndexOf(N),1),i(P,a,I);N.geometry=I,N.distanceSq=F}}else{if(F===0)return _[R]=!0,i(P,a,I);s.push(_[R]={feature:P,layer:a,geometry:I,distanceSq:F,callback:i})}},T=this.renderedTiles;let E;for(let P=0,I=T.length;!E&&P<I;++P){const F=T[P],R=A.getTileCoordExtent(F.wrappedTileCoord);if(!tu(R,m))continue;const N=Bi(a),z=[F.executorGroups[N]],Q=a.getDeclutter();z.some(j=>{const H=Q?n.declutter[Q].all().map(K=>K.value):null;for(let K=0,ie=j.length;K<ie;++K)if(E=j[K].forEachFeatureAtCoordinate(e,l,c,r,y,H),E)return!0})}return E}getFeatures(e){return new Promise((n,r)=>{const i=this.getLayer(),s=Bi(i),l=i.getSource(),c=this.renderedProjection,a=c.getExtent(),f=this.renderedResolution,A=l.getTileGridForProjection(c),m=Po(this.renderedPixelToCoordinateTransform_,e.slice()),_=A.getTileCoordForCoordAndResolution(m,f);let y;for(let R=0,N=this.renderedTiles.length;R<N;++R)if(_.toString()===this.renderedTiles[R].tileCoord.toString()){if(y=this.renderedTiles[R],y.getState()===Vi.LOADED){const z=A.getTileCoordExtent(y.tileCoord);l.getWrapX()&&c.canWrapX()&&!Bv(a,z)&&c7(m,c);break}y=void 0}if(!y||y.loadingSourceTiles>0){n([]);return}const T=A.getTileCoordExtent(y.wrappedTileCoord),E=g1(T),P=[(m[0]-E[0])/f,(E[1]-m[1])/f],I=y.getSourceTiles().reduce(function(R,N){return R.concat(N.getFeatures())},[]);let F=y.hitDetectionImageData[s];if(!F){const R=Rh(A.getTileSize(A.getZForResolution(f,l.zDirection))),N=this.renderedRotation_,z=[this.getRenderTransform(A.getTileCoordCenter(y.wrappedTileCoord),f,0,Pd,R[0]*Pd,R[1]*Pd,0)];F=Ble(R,z,I,i.getStyleFunction(),A.getTileCoordExtent(y.wrappedTileCoord),y.getReplayState(i).renderedResolution,N),y.hitDetectionImageData[s]=F}n(Mle(P,I,F))})}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.renderedLayerRevision_!==void 0&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}renderDeclutter(e,n){const r=this.context,i=r.globalAlpha;r.globalAlpha=n.opacity;const s=e.viewHints,l=!(s[Js.ANIMATING]||s[Js.INTERACTING]),c=this.renderedTiles;for(let a=0,f=c.length;a<f;++a){const A=c[a],m=A.executorGroups[Bi(this.getLayer())],_=this.getLayer().getDeclutter();if(m)for(let y=m.length-1;y>=0;--y)m[y].execute(this.context,[this.context.canvas.width,this.context.canvas.height],this.getTileRenderTransform(A,e),e.viewState.rotation,l,KT,_?e.declutter[_]:void 0)}r.globalAlpha=i}renderDeferredInternal(e){const r=this.renderedTiles.reduce((l,c,a)=>(c.executorGroups[Bi(this.getLayer())].forEach(f=>l.push({executorGroup:f,index:a})),l),[]),i=r.map(({executorGroup:l})=>l.getDeferredZIndexContexts());i.map(l=>Object.keys(l)).flat().sort(om).map(Number).forEach(l=>{i.forEach((c,a)=>{c[l]&&c[l].forEach(f=>{const{executorGroup:A,index:m}=r[a],_=A.getRenderedContext(),y=_.globalAlpha;_.globalAlpha=this.renderedOpacity_;const T=this.tileClipContexts_[m];T&&T.draw(_),f.draw(_),T&&_.restore(),_.globalAlpha=y,f.clear()})})})}getTileRenderTransform(e,n){const r=n.pixelRatio,i=n.viewState,s=i.center,l=i.resolution,c=i.rotation,a=n.size,f=Math.round(a[0]*r),A=Math.round(a[1]*r),_=this.getLayer().getSource().getTileGridForProjection(n.viewState.projection),y=e.tileCoord,T=_.getTileCoordExtent(e.wrappedTileCoord),E=_.getTileCoordExtent(y,this.tmpExtent)[0]-T[0];return D2(HL(this.inversePixelTransform.slice(),1/r,1/r),this.getRenderTransform(s,l,c,r,f,A,E))}postRender(e,n){const r=n.viewHints,i=!(r[Js.ANIMATING]||r[Js.INTERACTING]);this.renderedPixelToCoordinateTransform_=n.pixelToCoordinateTransform.slice(),this.renderedRotation_=n.viewState.rotation,this.renderedOpacity_=n.layerStatesArray[n.layerIndex].opacity;const s=this.getLayer(),l=s.getRenderMode(),c=e.globalAlpha;e.globalAlpha=this.renderedOpacity_;const a=s.getDeclutter(),f=a?Pq[l].filter(N=>!KT.includes(N)):Pq[l],A=n.viewState,m=A.rotation,_=s.getSource(),T=_.getTileGridForProjection(A.projection).getZForResolution(A.resolution,_.zDirection),E=this.renderedTiles,P=[],I=[],F=[];let R=!0;for(let N=E.length-1;N>=0;--N){const z=E[N];R=R&&!z.getReplayState(s).dirty;const Q=z.executorGroups[Bi(s)].filter(ee=>ee.hasExecutors(f));if(Q.length===0)continue;const j=this.getTileRenderTransform(z,n),H=z.tileCoord[0];let K=!1;const ie=Q[0].getClipCoords(j);let q=e,W;if(ie){a&&(W=new Q7,q=W.getContext());for(let ee=0,ue=P.length;ee<ue;++ee)if(T!==H&&H<I[ee]){const J=P[ee];tu([ie[0],ie[3],ie[4],ie[7]],[J[0],J[3],J[4],J[7]])&&(K||(q.save(),K=!0),q.beginPath(),q.moveTo(ie[0],ie[1]),q.lineTo(ie[2],ie[3]),q.lineTo(ie[4],ie[5]),q.lineTo(ie[6],ie[7]),q.moveTo(J[6],J[7]),q.lineTo(J[4],J[5]),q.lineTo(J[2],J[3]),q.lineTo(J[0],J[1]),q.clip())}P.push(ie),I.push(H)}for(let ee=0,ue=Q.length;ee<ue;++ee)Q[ee].execute(e,[e.canvas.width,e.canvas.height],j,m,i,f);K&&(q===e?q.restore():F[N]=W)}e.globalAlpha=c,this.ready=R,this.tileClipContexts_=F,super.postRender(e,n)}renderFeature(e,n,r,i,s,l){if(!r)return!1;let c=!1;if(Array.isArray(r))for(let a=0,f=r.length;a<f;++a)c=WT(i,e,r[a],n,this.boundHandleStyleImageChange_,void 0,s,l)||c;else c=WT(i,e,r,n,this.boundHandleStyleImageChange_,void 0,s,l);return c}tileImageNeedsRender_(e){const n=this.getLayer();if(n.getRenderMode()==="vector")return!1;const r=e.getReplayState(n),i=n.getRevision(),s=e.wantedResolution;return r.renderedTileResolution!==s||r.renderedTileRevision!==i}renderTileImage_(e,n){const r=this.getLayer(),i=e.getReplayState(r),s=r.getRevision(),l=e.executorGroups[Bi(r)];i.renderedTileRevision=s;const c=e.wrappedTileCoord,a=c[0],f=r.getSource();let A=n.pixelRatio;const _=n.viewState.projection,y=f.getTileGridForProjection(_),T=y.getResolution(e.tileCoord[0]),E=n.pixelRatio/e.wantedResolution*T,P=y.getResolution(a),I=e.getContext(r);A=Math.round(Math.max(A,E/A));const F=f.getTilePixelSize(a,A,_);I.canvas.width=F[0],I.canvas.height=F[1];const R=A/E;if(R!==1){const j=MW(this.tmpTransform_);HL(j,R,R),I.setTransform.apply(I,j)}const N=y.getTileCoordExtent(c,this.tmpExtent),z=E/P,Q=MW(this.tmpTransform_);HL(Q,z,-z),r7(Q,-N[0],-N[3]);for(let j=0,H=l.length;j<H;++j)l[j].execute(I,[I.canvas.width*R,I.canvas.height*R],Q,0,!0,clt[r.getRenderMode()],null);i.renderedTileResolution=e.wantedResolution}}class dlt extends V2{constructor(e){e=e||{};const n=Object.assign({},e);delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un;const r=e.renderMode||"hybrid";Za(r=="hybrid"||r=="vector","`renderMode` must be `'hybrid'` or `'vector'`"),this.renderMode_=r,this.setPreload(e.preload?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0),this.getBackground,this.setBackground}createRenderer(){return new hlt(this)}getFeatures(e){return super.getFeatures(e)}getRenderMode(){return this.renderMode_}getPreload(){return this.get(Lv.PRELOAD)}getUseInterimTilesOnError(){return this.get(Lv.USE_INTERIM_TILES_ON_ERROR)}setPreload(e){this.set(Lv.PRELOAD,e)}setUseInterimTilesOnError(e){this.set(Lv.USE_INTERIM_TILES_ON_ERROR,e)}}function ka(t,e,n){const r=R7();return r.style=t.style,ilt(e,n,r,t)}function Fq(t){const e=bm(t),n=e[0]*256,r=e[1],i=e[2]*256,s=Math.round(e[3]*255);return[n+r,i+s]}const flt=`vec4 unpackColor(vec2 packedColor) {
  return fract(packedColor[1] / 256.0) * vec4(
    fract(floor(packedColor[0] / 256.0) / 256.0),
    fract(packedColor[0] / 256.0),
    fract(floor(packedColor[1] / 256.0) / 256.0),
    1.0
  );
}`;function Wle(t){return t===Ns?2:t===Pl?4:1}function hP(t){const e=Wle(t);return e>1?`vec${e}`:"float"}function XT(t){return(JSON.stringify(t).split("").reduce((n,r)=>(n<<5)-n+r.charCodeAt(0),0)>>>0).toString()}function q7(t,e,n,r){if(`${r}radius`in t&&r!=="icon-"){let i=ka(n,t[`${r}radius`],$r);if(`${r}radius2`in t){const s=ka(n,t[`${r}radius2`],$r);i=`max(${i}, ${s})`}`${r}stroke-width`in t&&(i=`(${i} + ${ka(n,t[`${r}stroke-width`],$r)} * 0.5)`),e.setSymbolSizeExpression(`vec2(${i} * 2. + 0.5)`)}if(`${r}scale`in t){const i=ka(n,t[`${r}scale`],$r|Pl);e.setSymbolSizeExpression(`${e.getSymbolSizeExpression()} * ${i}`)}`${r}displacement`in t&&e.setSymbolOffsetExpression(ka(n,t[`${r}displacement`],Pl)),`${r}rotation`in t&&e.setSymbolRotationExpression(ka(n,t[`${r}rotation`],$r)),`${r}rotate-with-view`in t&&e.setSymbolRotateWithView(!!t[`${r}rotate-with-view`])}function qle(t,e,n,r,i){let s="vec4(0.)";if(e!==null&&(s=e),n!==null&&r!==null){const a=`smoothstep(-${r} + 0.63, -${r} - 0.58, ${t})`;s=`mix(${n}, ${s}, ${a})`}const l=`(1.0 - smoothstep(-0.63, 0.58, ${t}))`;let c=`${s} * ${l}`;return i!==null&&(c=`${c} * ${i}`),c}function Y7(t,e,n,r,i){const s=new Image;let l;return s.crossOrigin=t[`${r}cross-origin`]===void 0?"anonymous":t[`${r}cross-origin`],s.src=t[`${r}src`],s.complete&&s.width&&s.height?l=K7([s.width,s.height]):(n[`u_texture${i}_size`]=()=>s.complete?[s.width,s.height]:[0,0],e.addUniform(`vec2 u_texture${i}_size`),l=`u_texture${i}_size`),n[`u_texture${i}`]=s,e.addUniform(`sampler2D u_texture${i}`),l}function X7(t,e,n,r,i){let s=ka(n,t[`${e}offset`],Pl);if(`${e}offset-origin`in t)switch(t[`${e}offset-origin`]){case"top-right":s=`vec2(${r}.x, 0.) + ${i} * vec2(-1., 0.) + ${s} * vec2(-1., 1.)`;break;case"bottom-left":s=`vec2(0., ${r}.y) + ${i} * vec2(0., -1.) + ${s} * vec2(1., -1.)`;break;case"bottom-right":s=`${r} - ${i} - ${s}`;break}return s}function plt(t,e,n,r,i){i.functions.circleDistanceField=`float circleDistanceField(vec2 point, float radius) {
  return length(point) - radius;
}`,q7(t,e,r,"circle-");let s=null;"circle-opacity"in t&&(s=ka(i,t["circle-opacity"],$r));let l="coordsPx";"circle-scale"in t&&(l=`coordsPx / ${ka(i,t["circle-scale"],$r|Pl)}`);let c=null;"circle-fill-color"in t&&(c=ka(i,t["circle-fill-color"],Ns));let a=null;"circle-stroke-color"in t&&(a=ka(i,t["circle-stroke-color"],Ns));let f=ka(i,t["circle-radius"],$r),A=null;"circle-stroke-width"in t&&(A=ka(i,t["circle-stroke-width"],$r),f=`(${f} + ${A} * 0.5)`);const m=`circleDistanceField(${l}, ${f})`,_=qle(m,c,a,A,s);e.setSymbolColorExpression(_)}function Alt(t,e,n,r,i){i.functions.round=`float round(float v) {
  return sign(v) * floor(abs(v) + 0.5);
}`,i.functions.starDistanceField=`float starDistanceField(vec2 point, float numPoints, float radius, float radius2, float angle) {
  float startAngle = -PI * 0.5 + angle; // tip starts upwards and rotates clockwise with angle
  float c = cos(startAngle);
  float s = sin(startAngle);
  vec2 pointRotated = vec2(c * point.x - s * point.y, s * point.x + c * point.y);
  float alpha = TWO_PI / numPoints; // the angle of one sector
  float beta = atan(pointRotated.y, pointRotated.x);
  float gamma = round(beta / alpha) * alpha; // angle in sector
  c = cos(-gamma);
  s = sin(-gamma);
  vec2 inSector = vec2(c * pointRotated.x - s * pointRotated.y, abs(s * pointRotated.x + c * pointRotated.y));
  vec2 tipToPoint = inSector + vec2(-radius, 0.);
  vec2 edgeNormal = vec2(radius2 * sin(alpha * 0.5), -radius2 * cos(alpha * 0.5) + radius);
  return dot(normalize(edgeNormal), tipToPoint);
}`,i.functions.regularDistanceField=`float regularDistanceField(vec2 point, float numPoints, float radius, float angle) {
  float startAngle = -PI * 0.5 + angle; // tip starts upwards and rotates clockwise with angle
  float c = cos(startAngle);
  float s = sin(startAngle);
  vec2 pointRotated = vec2(c * point.x - s * point.y, s * point.x + c * point.y);
  float alpha = TWO_PI / numPoints; // the angle of one sector
  float radiusIn = radius * cos(PI / numPoints);
  float beta = atan(pointRotated.y, pointRotated.x);
  float gamma = round((beta - alpha * 0.5) / alpha) * alpha + alpha * 0.5; // angle in sector from mid
  c = cos(-gamma);
  s = sin(-gamma);
  vec2 inSector = vec2(c * pointRotated.x - s * pointRotated.y, abs(s * pointRotated.x + c * pointRotated.y));
  return inSector.x - radiusIn;
}`,q7(t,e,r,"shape-");let s=null;"shape-opacity"in t&&(s=ka(i,t["shape-opacity"],$r));let l="coordsPx";"shape-scale"in t&&(l=`coordsPx / ${ka(i,t["shape-scale"],$r|Pl)}`);let c=null;"shape-fill-color"in t&&(c=ka(i,t["shape-fill-color"],Ns));let a=null;"shape-stroke-color"in t&&(a=ka(i,t["shape-stroke-color"],Ns));let f=null;"shape-stroke-width"in t&&(f=ka(i,t["shape-stroke-width"],$r));const A=ka(i,t["shape-points"],$r);let m="0.";"shape-angle"in t&&(m=ka(i,t["shape-angle"],$r));let _,y=ka(i,t["shape-radius"],$r);if(f!==null&&(y=`${y} + ${f} * 0.5`),"shape-radius2"in t){let E=ka(i,t["shape-radius2"],$r);f!==null&&(E=`${E} + ${f} * 0.5`),_=`starDistanceField(${l}, ${A}, ${y}, ${E}, ${m})`}else _=`regularDistanceField(${l}, ${A}, ${y}, ${m})`;const T=qle(_,c,a,f,s);e.setSymbolColorExpression(T)}function mlt(t,e,n,r,i){let s="vec4(1.0)";"icon-color"in t&&(s=ka(i,t["icon-color"],Ns)),"icon-opacity"in t&&(s=`${s} * ${ka(i,t["icon-opacity"],$r)}`);const l=XT(t["icon-src"]),c=Y7(t,e,n,"icon-",l);if(e.setSymbolColorExpression(`${s} * samplePremultiplied(u_texture${l}, v_texCoord)`).setSymbolSizeExpression(c),"icon-width"in t&&"icon-height"in t&&e.setSymbolSizeExpression(`vec2(${ka(r,t["icon-width"],$r)}, ${ka(r,t["icon-height"],$r)})`),"icon-offset"in t&&"icon-size"in t){const a=ka(r,t["icon-size"],Pl),f=e.getSymbolSizeExpression();e.setSymbolSizeExpression(a);const A=X7(t,"icon-",r,"v_quadSizePx",a);e.setTextureCoordinateExpression(`(vec4((${A}).xyxy) + vec4(0., 0., ${a})) / (${f}).xyxy`)}if(q7(t,e,r,"icon-"),"icon-anchor"in t){const a=ka(r,t["icon-anchor"],Pl);let f="1.0";"icon-scale"in t&&(f=ka(r,t["icon-scale"],$r|Pl));let A;t["icon-anchor-x-units"]==="pixels"&&t["icon-anchor-y-units"]==="pixels"?A=`${a} * ${f}`:t["icon-anchor-x-units"]==="pixels"?A=`${a} * vec2(vec2(${f}).x, v_quadSizePx.y)`:t["icon-anchor-y-units"]==="pixels"?A=`${a} * vec2(v_quadSizePx.x, vec2(${f}).x)`:A=`${a} * v_quadSizePx`;let m=`v_quadSizePx * vec2(0.5, -0.5) + ${A} * vec2(-1., 1.)`;if("icon-anchor-origin"in t)switch(t["icon-anchor-origin"]){case"top-right":m=`v_quadSizePx * -0.5 + ${A}`;break;case"bottom-left":m=`v_quadSizePx * 0.5 - ${A}`;break;case"bottom-right":m=`v_quadSizePx * vec2(-0.5, 0.5) + ${A} * vec2(1., -1.)`;break}e.setSymbolOffsetExpression(`${e.getSymbolOffsetExpression()} + ${m}`)}}function glt(t,e,n,r,i){if("stroke-color"in t&&e.setStrokeColorExpression(ka(i,t["stroke-color"],Ns)),"stroke-pattern-src"in t){const s=XT(t["stroke-pattern-src"]),l=Y7(t,e,n,"stroke-pattern-",s);let c=l,a="vec2(0.)";"stroke-pattern-offset"in t&&"stroke-pattern-size"in t&&(c=ka(i,t["stroke-pattern-size"],Pl),a=X7(t,"stroke-pattern-",i,l,c));let f="0.";"stroke-pattern-spacing"in t&&(f=ka(i,t["stroke-pattern-spacing"],$r)),i.functions.sampleStrokePattern=`vec4 sampleStrokePattern(sampler2D texture, vec2 textureSize, vec2 textureOffset, vec2 sampleSize, float spacingPx, float currentLengthPx, float currentRadiusRatio, float lineWidth) {
  float currentLengthScaled = currentLengthPx * sampleSize.y / lineWidth;
  float spacingScaled = spacingPx * sampleSize.y / lineWidth;
  float uCoordPx = mod(currentLengthScaled, (sampleSize.x + spacingScaled));
  // make sure that we're not sampling too close to the borders to avoid interpolation with outside pixels
  uCoordPx = clamp(uCoordPx, 0.5, sampleSize.x - 0.5);
  float vCoordPx = (-currentRadiusRatio * 0.5 + 0.5) * sampleSize.y;
  vec2 texCoord = (vec2(uCoordPx, vCoordPx) + textureOffset) / textureSize;
  return samplePremultiplied(texture, texCoord);
}`;const A=`u_texture${s}`;let m="1.";"stroke-color"in t&&(m=e.getStrokeColorExpression()),e.setStrokeColorExpression(`${m} * sampleStrokePattern(${A}, ${l}, ${a}, ${c}, ${f}, currentLengthPx, currentRadiusRatio, v_width)`)}if("stroke-width"in t&&e.setStrokeWidthExpression(ka(r,t["stroke-width"],$r)),"stroke-offset"in t&&e.setStrokeOffsetExpression(ka(r,t["stroke-offset"],$r)),"stroke-line-cap"in t&&e.setStrokeCapExpression(ka(r,t["stroke-line-cap"],fu)),"stroke-line-join"in t&&e.setStrokeJoinExpression(ka(r,t["stroke-line-join"],fu)),"stroke-miter-limit"in t&&e.setStrokeMiterLimitExpression(ka(r,t["stroke-miter-limit"],$r)),"stroke-line-dash"in t){i.functions.getSingleDashDistance=`float getSingleDashDistance(float distance, float radius, float dashOffset, float dashLength, float dashLengthTotal, float capType) {
  float localDistance = mod(distance, dashLengthTotal);
  float distanceSegment = abs(localDistance - dashOffset - dashLength * 0.5) - dashLength * 0.5;
  distanceSegment = min(distanceSegment, dashLengthTotal - localDistance);
  if (capType == ${Rg("square")}) {
    distanceSegment -= v_width * 0.5;
  } else if (capType == ${Rg("round")}) {
    distanceSegment = min(distanceSegment, sqrt(distanceSegment * distanceSegment + radius * radius) - v_width * 0.5);
  }
  return distanceSegment;
}`;let s=t["stroke-line-dash"].map(y=>ka(i,y,$r));s.length%2===1&&(s=[...s,...s]);let l="0.";"stroke-line-dash-offset"in t&&(l=ka(r,t["stroke-line-dash-offset"],$r));const a=`dashDistanceField_${XT(t["stroke-line-dash"])}`,f=s.map((y,T)=>`float dashLength${T} = ${y};`),A=s.map((y,T)=>`dashLength${T}`).join(" + ");let m="0.",_=`getSingleDashDistance(distance, radius, ${m}, dashLength0, totalDashLength, capType)`;for(let y=2;y<s.length;y+=2)m=`${m} + dashLength${y-2} + dashLength${y-1}`,_=`min(${_}, getSingleDashDistance(distance, radius, ${m}, dashLength${y}, totalDashLength, capType))`;i.functions[a]=`float ${a}(float distance, float radius, float capType) {
  ${f.join(`
  `)}
  float totalDashLength = ${A};
  return ${_};
}`,e.setStrokeDistanceFieldExpression(`${a}(currentLengthPx + ${l}, currentRadiusPx, capType)`)}}function vlt(t,e,n,r,i){if("fill-color"in t&&e.setFillColorExpression(ka(i,t["fill-color"],Ns)),"fill-pattern-src"in t){const s=XT(t["fill-pattern-src"]),l=Y7(t,e,n,"fill-pattern-",s);let c=l,a="vec2(0.)";"fill-pattern-offset"in t&&"fill-pattern-size"in t&&(c=ka(i,t["fill-pattern-size"],Pl),a=X7(t,"fill-pattern-",i,l,c)),i.functions.sampleFillPattern=`vec4 sampleFillPattern(sampler2D texture, vec2 textureSize, vec2 textureOffset, vec2 sampleSize, vec2 pxOrigin, vec2 pxPosition) {
  float scaleRatio = pow(2., mod(u_zoom + 0.5, 1.) - 0.5);
  vec2 pxRelativePos = pxPosition - pxOrigin;
  // rotate the relative position from origin by the current view rotation
  pxRelativePos = vec2(pxRelativePos.x * cos(u_rotation) - pxRelativePos.y * sin(u_rotation), pxRelativePos.x * sin(u_rotation) + pxRelativePos.y * cos(u_rotation));
  // sample position is computed according to the sample offset & size
  vec2 samplePos = mod(pxRelativePos / scaleRatio, sampleSize);
  // also make sure that we're not sampling too close to the borders to avoid interpolation with outside pixels
  samplePos = clamp(samplePos, vec2(0.5), sampleSize - vec2(0.5));
  samplePos.y = sampleSize.y - samplePos.y; // invert y axis so that images appear upright
  return samplePremultiplied(texture, (samplePos + textureOffset) / textureSize);
}`;const f=`u_texture${s}`;let A="1.";"fill-color"in t&&(A=e.getFillColorExpression()),e.setFillColorExpression(`${A} * sampleFillPattern(${f}, ${l}, ${a}, ${c}, pxOrigin, pxPos)`)}}function _lt(t){const e={inFragmentShader:!1,properties:{},variables:{},functions:{},style:t},n={inFragmentShader:!0,variables:e.variables,properties:{},functions:{},style:t},r=new Kle,i={};if("icon-src"in t?mlt(t,r,i,e,n):"shape-points"in t?Alt(t,r,i,e,n):"circle-radius"in t&&plt(t,r,i,e,n),glt(t,r,i,e,n),vlt(t,r,i,e,n),t.filter){const l=ka(n,t.filter,_o);r.setFragmentDiscardExpression(`!${l}`)}Object.keys(n.variables).forEach(function(l){const c=n.variables[l],a=Gle(c.name);r.addUniform(`${hP(c.type)} ${a}`);let f;c.type===fu?f=()=>WR(t.variables[c.name]):c.type===Ns?f=()=>Fq([...bm(t.variables[c.name]||"#eee")]):c.type===_o?f=()=>t.variables[c.name]?1:0:f=()=>t.variables[c.name],i[a]=f}),Object.keys(n.properties).forEach(function(l){const c=n.properties[l];e.properties[l]||(e.properties[l]=c);let a=hP(c.type),f=`a_prop_${c.name}`;c.type===Ns&&(a="vec4",f=`unpackColor(${f})`,r.addVertexShaderFunction(flt)),r.addVarying(`v_prop_${c.name}`,a,f)}),Object.keys(e.properties).forEach(function(l){const c=e.properties[l];r.addAttribute(`${hP(c.type)} a_prop_${c.name}`)});const s=Object.keys(e.properties).map(function(l){const c=e.properties[l];let a;return c.evaluator?a=c.evaluator:c.type===fu?a=f=>WR(f.get(c.name)):c.type===Ns?a=f=>Fq([...bm(f.get(c.name)||"#eee")]):c.type===_o?a=f=>f.get(c.name)?1:0:a=f=>f.get(c.name),{name:c.name,size:Wle(c.type),callback:a}});for(const l in e.functions)r.addVertexShaderFunction(e.functions[l]);for(const l in n.functions)r.addFragmentShaderFunction(n.functions[l]);return{builder:r,attributes:s.reduce((l,c)=>({...l,[c.name]:{callback:c.callback,size:c.size}}),{}),uniforms:i}}class ylt{constructor(){this.globalCounter_=0,this.refToFeature_=new Map,this.uidToRef_=new Map,this.freeGlobalRef_=[],this.polygonBatch={entries:{},geometriesCount:0,verticesCount:0,ringsCount:0},this.pointBatch={entries:{},geometriesCount:0},this.lineStringBatch={entries:{},geometriesCount:0,verticesCount:0}}addFeatures(e,n){for(let r=0;r<e.length;r++)this.addFeature(e[r],n)}addFeature(e,n){let r=e.getGeometry();r&&(n&&(r=r.clone(),r.applyTransform(n)),this.addGeometry_(r,e))}clearFeatureEntryInPointBatch_(e){const n=this.pointBatch.entries[Bi(e)];if(n)return this.pointBatch.geometriesCount-=n.flatCoordss.length,delete this.pointBatch.entries[Bi(e)],n}clearFeatureEntryInLineStringBatch_(e){const n=this.lineStringBatch.entries[Bi(e)];if(n)return this.lineStringBatch.verticesCount-=n.verticesCount,this.lineStringBatch.geometriesCount-=n.flatCoordss.length,delete this.lineStringBatch.entries[Bi(e)],n}clearFeatureEntryInPolygonBatch_(e){const n=this.polygonBatch.entries[Bi(e)];if(n)return this.polygonBatch.verticesCount-=n.verticesCount,this.polygonBatch.ringsCount-=n.ringsCount,this.polygonBatch.geometriesCount-=n.flatCoordss.length,delete this.polygonBatch.entries[Bi(e)],n}addGeometry_(e,n){const r=e.getType();switch(r){case"GeometryCollection":{const i=e.getGeometriesArray();for(const s of i)this.addGeometry_(s,n);break}case"MultiPolygon":{const i=e;this.addCoordinates_(r,i.getFlatCoordinates(),i.getEndss(),n,Bi(n),i.getStride());break}case"MultiLineString":{const i=e;this.addCoordinates_(r,i.getFlatCoordinates(),i.getEnds(),n,Bi(n),i.getStride());break}case"MultiPoint":{const i=e;this.addCoordinates_(r,i.getFlatCoordinates(),null,n,Bi(n),i.getStride());break}case"Polygon":{const i=e;this.addCoordinates_(r,i.getFlatCoordinates(),i.getEnds(),n,Bi(n),i.getStride());break}case"Point":{const i=e;this.addCoordinates_(r,i.getFlatCoordinates(),null,n,Bi(n),i.getStride());break}case"LineString":case"LinearRing":{const i=e;this.addCoordinates_(r,i.getFlatCoordinates(),null,n,Bi(n),i.getStride());break}}}addCoordinates_(e,n,r,i,s,l){let c;switch(e){case"MultiPolygon":{const a=r;for(let f=0,A=a.length;f<A;f++){let m=a[f];const _=f>0?a[f-1]:null,y=_?_[_.length-1]:0,T=m[m.length-1];m=y>0?m.map(E=>E-y):m,this.addCoordinates_("Polygon",n.slice(y,T),m,i,s,l)}break}case"MultiLineString":{const a=r;for(let f=0,A=a.length;f<A;f++){const m=f>0?a[f-1]:0;this.addCoordinates_("LineString",n.slice(m,a[f]),null,i,s,l)}break}case"MultiPoint":for(let a=0,f=n.length;a<f;a+=l)this.addCoordinates_("Point",n.slice(a,a+2),null,i,s,null);break;case"Polygon":{const a=r;if(i instanceof Md){const m=Foe(n,a);if(m.length>1){this.addCoordinates_("MultiPolygon",n,m,i,s,l);return}}this.polygonBatch.entries[s]||(this.polygonBatch.entries[s]=this.addRefToEntry_(s,{feature:i,flatCoordss:[],verticesCount:0,ringsCount:0,ringsVerticesCounts:[]})),c=n.length/l;const f=r.length,A=r.map((m,_,y)=>_>0?(m-y[_-1])/l:m/l);this.polygonBatch.verticesCount+=c,this.polygonBatch.ringsCount+=f,this.polygonBatch.geometriesCount++,this.polygonBatch.entries[s].flatCoordss.push(kq(n,l)),this.polygonBatch.entries[s].ringsVerticesCounts.push(A),this.polygonBatch.entries[s].verticesCount+=c,this.polygonBatch.entries[s].ringsCount+=f;for(let m=0,_=a.length;m<_;m++){const y=m>0?a[m-1]:0;this.addCoordinates_("LinearRing",n.slice(y,a[m]),null,i,s,l)}break}case"Point":this.pointBatch.entries[s]||(this.pointBatch.entries[s]=this.addRefToEntry_(s,{feature:i,flatCoordss:[]})),this.pointBatch.geometriesCount++,this.pointBatch.entries[s].flatCoordss.push(n);break;case"LineString":case"LinearRing":this.lineStringBatch.entries[s]||(this.lineStringBatch.entries[s]=this.addRefToEntry_(s,{feature:i,flatCoordss:[],verticesCount:0})),c=n.length/l,this.lineStringBatch.verticesCount+=c,this.lineStringBatch.geometriesCount++,this.lineStringBatch.entries[s].flatCoordss.push(kq(n,l)),this.lineStringBatch.entries[s].verticesCount+=c;break}}addRefToEntry_(e,n){const r=this.uidToRef_.get(e),i=r||this.freeGlobalRef_.pop()||++this.globalCounter_;return n.ref=i,r||(this.refToFeature_.set(i,n.feature),this.uidToRef_.set(e,i)),n}returnRef_(e,n){if(!e)throw new Error("This feature has no ref: "+n);this.refToFeature_.delete(e),this.uidToRef_.delete(n),this.freeGlobalRef_.push(e)}changeFeature(e){this.removeFeature(e);const n=e.getGeometry();n&&this.addGeometry_(n,e)}removeFeature(e){let n;n=this.clearFeatureEntryInPointBatch_(e)||n,n=this.clearFeatureEntryInPolygonBatch_(e)||n,n=this.clearFeatureEntryInLineStringBatch_(e)||n,n&&this.returnRef_(n.ref,Bi(n.feature))}clear(){this.polygonBatch.entries={},this.polygonBatch.geometriesCount=0,this.polygonBatch.verticesCount=0,this.polygonBatch.ringsCount=0,this.lineStringBatch.entries={},this.lineStringBatch.geometriesCount=0,this.lineStringBatch.verticesCount=0,this.pointBatch.entries={},this.pointBatch.geometriesCount=0,this.globalCounter_=0,this.freeGlobalRef_=[],this.refToFeature_.clear(),this.uidToRef_.clear()}getFeatureFromRef(e){return this.refToFeature_.get(e)}}function kq(t,e){return e===2?t:t.filter((n,r)=>r%e<2)}function Z7(t,e,n,r){let i=0;for(const s in e){const l=e[s],c=l.callback.call(n,n.feature);t[r+i++]=c[0]??c,!(!l.size||l.size===1)&&(t[r+i++]=c[1],!(l.size<3)&&(t[r+i++]=c[2],!(l.size<4)&&(t[r+i++]=c[3])))}return i}function VB(t){return Object.keys(t).reduce((e,n)=>e+(t[n].size||1),0)}function blt(t,e,n,r){const i=(2+VB(n))*t.geometriesCount;(!e||e.length!==i)&&(e=new Float32Array(i));const s=[];let l=0;for(const c in t.entries){const a=t.entries[c];for(let f=0,A=a.flatCoordss.length;f<A;f++)s[0]=a.flatCoordss[f][0],s[1]=a.flatCoordss[f][1],Po(r,s),e[l++]=s[0],e[l++]=s[1],l+=Z7(e,n,a,l)}return e}function wlt(t,e,n,r){const i=2*t.verticesCount+(1+VB(n))*t.geometriesCount;(!e||e.length!==i)&&(e=new Float32Array(i));const s=[];let l=0;for(const c in t.entries){const a=t.entries[c];for(let f=0,A=a.flatCoordss.length;f<A;f++){s.length=a.flatCoordss[f].length,um(a.flatCoordss[f],0,s.length,2,r,s),l+=Z7(e,n,a,l),e[l++]=s.length/2;for(let m=0,_=s.length;m<_;m+=2)e[l++]=s[m],e[l++]=s[m+1]}}return e}function xlt(t,e,n,r){const i=2*t.verticesCount+(1+VB(n))*t.geometriesCount+t.ringsCount;(!e||e.length!==i)&&(e=new Float32Array(i));const s=[];let l=0;for(const c in t.entries){const a=t.entries[c];for(let f=0,A=a.flatCoordss.length;f<A;f++){s.length=a.flatCoordss[f].length,um(a.flatCoordss[f],0,s.length,2,r,s),l+=Z7(e,n,a,l),e[l++]=a.ringsVerticesCounts[f].length;for(let m=0,_=a.ringsVerticesCounts[f].length;m<_;m++)e[l++]=a.ringsVerticesCounts[f][m];for(let m=0,_=s.length;m<_;m+=2)e[l++]=s[m],e[l++]=s[m+1]}}return e}const Clt=[],dP=Qle();let Elt=0;const rv={POSITION:"a_position",INDEX:"a_index",SEGMENT_START:"a_segmentStart",SEGMENT_END:"a_segmentEnd",PARAMETERS:"a_parameters",JOIN_ANGLES:"a_joinAngles",DISTANCE:"a_distance"};class Slt{constructor(e,n,r){this.helper_=n,this.hitDetectionEnabled_=r;let i=e;if(!("builder"in e)){const a=_lt(e);i={builder:a.builder,attributes:a.attributes,uniforms:a.uniforms}}this.hasFill_=!!i.builder.getFillVertexShader(),this.hasFill_&&(this.fillVertexShader_=i.builder.getFillVertexShader(),this.fillFragmentShader_=i.builder.getFillFragmentShader(),this.fillProgram_=this.helper_.getProgram(this.fillFragmentShader_,this.fillVertexShader_)),this.hasStroke_=!!i.builder.getStrokeVertexShader(),this.hasStroke_&&(this.strokeVertexShader_=i.builder.getStrokeVertexShader(),this.strokeFragmentShader_=i.builder.getStrokeFragmentShader(),this.strokeProgram_=this.helper_.getProgram(this.strokeFragmentShader_,this.strokeVertexShader_)),this.hasSymbol_=!!i.builder.getSymbolVertexShader(),this.hasSymbol_&&(this.symbolVertexShader_=i.builder.getSymbolVertexShader(),this.symbolFragmentShader_=i.builder.getSymbolFragmentShader(),this.symbolProgram_=this.helper_.getProgram(this.symbolFragmentShader_,this.symbolVertexShader_));const l=this.hitDetectionEnabled_?{hitColor:{callback(){return Vle(this.ref,Clt)},size:4}}:{};this.customAttributes_=Object.assign({},l,i.attributes),this.uniforms_=i.uniforms;const c=Object.entries(this.customAttributes_).map(([a,f])=>({name:`a_prop_${a}`,size:f.size||1,type:Du.FLOAT}));this.polygonAttributesDesc_=[{name:rv.POSITION,size:2,type:Du.FLOAT},...c],this.lineStringAttributesDesc_=[{name:rv.SEGMENT_START,size:2,type:Du.FLOAT},{name:rv.SEGMENT_END,size:2,type:Du.FLOAT},{name:rv.JOIN_ANGLES,size:2,type:Du.FLOAT},{name:rv.DISTANCE,size:1,type:Du.FLOAT},{name:rv.PARAMETERS,size:1,type:Du.FLOAT},...c],this.pointAttributesDesc_=[{name:rv.POSITION,size:2,type:Du.FLOAT},{name:rv.INDEX,size:1,type:Du.FLOAT},...c],i.uniforms&&this.helper_.addUniforms(i.uniforms)}async generateBuffers(e,n){const r=this.generateRenderInstructions_(e,n),[i,s,l]=await Promise.all([this.generateBuffersForType_(r.polygonInstructions,"Polygon",n),this.generateBuffersForType_(r.lineStringInstructions,"LineString",n),this.generateBuffersForType_(r.pointInstructions,"Point",n)]),c=e1(zo(),n);return{polygonBuffers:i,lineStringBuffers:s,pointBuffers:l,invertVerticesTransform:c}}generateRenderInstructions_(e,n){const r=this.hasFill_?xlt(e.polygonBatch,new Float32Array(0),this.customAttributes_,n):null,i=this.hasStroke_?wlt(e.lineStringBatch,new Float32Array(0),this.customAttributes_,n):null,s=this.hasSymbol_?blt(e.pointBatch,new Float32Array(0),this.customAttributes_,n):null;return{polygonInstructions:r,lineStringInstructions:i,pointInstructions:s}}generateBuffersForType_(e,n,r){if(e===null)return null;const i=Elt++;let s;switch(n){case"Polygon":s=nC.GENERATE_POLYGON_BUFFERS;break;case"LineString":s=nC.GENERATE_LINE_STRING_BUFFERS;break;case"Point":s=nC.GENERATE_POINT_BUFFERS;break}const l={id:i,type:s,renderInstructions:e.buffer,renderInstructionsTransform:r,customAttributesSize:VB(this.customAttributes_)};return dP.postMessage(l,[e.buffer]),e=null,new Promise(c=>{const a=f=>{const A=f.data;if(A.id!==i||(dP.removeEventListener("message",a),!this.helper_.getGL()))return;const m=new qT(DB,l6).fromArrayBuffer(A.vertexBuffer),_=new qT(NB,l6).fromArrayBuffer(A.indexBuffer);this.helper_.flushBufferData(m),this.helper_.flushBufferData(_),c([_,m])};dP.addEventListener("message",a)})}render(e,n,r){this.hasFill_&&this.renderInternal_(e.polygonBuffers[0],e.polygonBuffers[1],this.fillProgram_,this.polygonAttributesDesc_,n,r),this.hasStroke_&&this.renderInternal_(e.lineStringBuffers[0],e.lineStringBuffers[1],this.strokeProgram_,this.lineStringAttributesDesc_,n,r),this.hasSymbol_&&this.renderInternal_(e.pointBuffers[0],e.pointBuffers[1],this.symbolProgram_,this.pointAttributesDesc_,n,r)}renderInternal_(e,n,r,i,s,l){const c=e.getSize();c!==0&&(this.helper_.useProgram(r,s),this.helper_.bindBuffer(n),this.helper_.bindBuffer(e),this.helper_.enableAttributes(i),l(),this.helper_.drawElements(0,c))}}const Tb={...HA,RENDER_EXTENT:"u_renderExtent",PATTERN_ORIGIN:"u_patternOrigin",GLOBAL_ALPHA:"u_globalAlpha"};class Tlt extends UB{constructor(e,n){const r={[Tb.RENDER_EXTENT]:[0,0,0,0],[Tb.PATTERN_ORIGIN]:[0,0],[Tb.GLOBAL_ALPHA]:1};super(e,{uniforms:r,postProcesses:n.postProcesses}),this.hitDetectionEnabled_=!n.disableHitDetection,this.hitRenderTarget_,this.sourceRevision_=-1,this.previousExtent_=sc(),this.currentTransform_=zo(),this.tmpCoords_=[0,0],this.tmpTransform_=zo(),this.tmpMat4_=Rle(),this.currentFrameStateTransform_=zo(),this.styles_=[],this.styleRenderers_=[],this.buffers_=[],this.applyOptions_(n),this.batch_=new ylt,this.initialFeaturesAdded_=!1,this.sourceListenKeys_=null}addInitialFeatures_(e){const n=this.getLayer().getSource();let r;this.batch_.addFeatures(n.getFeatures(),r),this.sourceListenKeys_=[$a(n,Jl.ADDFEATURE,this.handleSourceFeatureAdded_.bind(this,r),this),$a(n,Jl.CHANGEFEATURE,this.handleSourceFeatureChanged_,this),$a(n,Jl.REMOVEFEATURE,this.handleSourceFeatureDelete_,this),$a(n,Jl.CLEAR,this.handleSourceFeatureClear_,this)]}applyOptions_(e){this.styles_=Array.isArray(e.style)?e.style:[e.style]}createRenderers_(){this.buffers_=[],this.styleRenderers_=this.styles_.map(e=>new Slt(e,this.helper,this.hitDetectionEnabled_))}reset(e){this.applyOptions_(e),this.helper&&this.createRenderers_(),super.reset(e)}afterHelperCreated(){this.createRenderers_(),this.hitDetectionEnabled_&&(this.hitRenderTarget_=new Dle(this.helper))}handleSourceFeatureAdded_(e,n){const r=n.feature;this.batch_.addFeature(r,e)}handleSourceFeatureChanged_(e){const n=e.feature;this.batch_.changeFeature(n)}handleSourceFeatureDelete_(e){const n=e.feature;this.batch_.removeFeature(n)}handleSourceFeatureClear_(){this.batch_.clear()}applyUniforms_(e){poe(this.tmpTransform_,this.currentFrameStateTransform_),D2(this.tmpTransform_,e),this.helper.setUniformMatrixValue(Tb.PROJECTION_MATRIX,QR(this.tmpMat4_,this.tmpTransform_)),e1(this.tmpTransform_,this.tmpTransform_),this.helper.setUniformMatrixValue(Tb.SCREEN_TO_WORLD_MATRIX,QR(this.tmpMat4_,this.tmpTransform_)),this.tmpCoords_[0]=0,this.tmpCoords_[1]=0,e1(this.tmpTransform_,e),Po(this.tmpTransform_,this.tmpCoords_),this.helper.setUniformFloatVec2(Tb.PATTERN_ORIGIN,this.tmpCoords_)}renderFrame(e){const n=this.helper.getGL();this.preRender(n,e);const[r,i,s]=jle(e,this.getLayer());this.helper.prepareDraw(e),this.renderWorlds(e,!1,r,i,s),this.helper.finalizeDraw(e);const l=this.helper.getCanvas(),a=e.layerStatesArray[e.layerIndex].opacity;return a!==parseFloat(l.style.opacity)&&(l.style.opacity=String(a)),this.hitDetectionEnabled_&&(this.renderWorlds(e,!0,r,i,s),this.hitRenderTarget_.clearCachedData()),this.postRender(n,e),l}prepareFrameInternal(e){this.initialFeaturesAdded_||(this.addInitialFeatures_(e),this.initialFeaturesAdded_=!0);const n=this.getLayer(),r=n.getSource(),i=e.viewState,s=!e.viewHints[Js.ANIMATING]&&!e.viewHints[Js.INTERACTING],l=!n1(this.previousExtent_,e.extent),c=this.sourceRevision_<r.getRevision();if(c&&(this.sourceRevision_=r.getRevision()),s&&(l||c)){const a=i.projection,f=i.resolution,A=n instanceof V2?n.getRenderBuffer():0,m=Wp(e.extent,A*f);r.loadFeatures(m,f,a),this.ready=!1;const _=this.helper.makeProjectionTransform(e,zo()),y=this.styleRenderers_.map((T,E)=>T.generateBuffers(this.batch_,_).then(P=>{this.buffers_[E]=P}));Promise.all(y).then(()=>{this.ready=!0,this.getLayer().changed()}),this.previousExtent_=e.extent.slice()}return!0}renderWorlds(e,n,r,i,s){let l=r;n&&(this.hitRenderTarget_.setSize([Math.floor(e.size[0]/2),Math.floor(e.size[1]/2)]),this.helper.prepareDrawToRenderTarget(e,this.hitRenderTarget_,!0)),this.currentFrameStateTransform_=this.helper.makeProjectionTransform(e,this.currentFrameStateTransform_);do{for(let c=0,a=this.styleRenderers_.length;c<a;c++){const f=this.styleRenderers_[c],A=this.buffers_[c];A&&f.render(A,e,()=>{this.applyUniforms_(A.invertVerticesTransform),this.helper.applyHitDetectionUniform(n)})}r7(this.currentFrameStateTransform_,s,0)}while(++l<i)}forEachFeatureAtCoordinate(e,n,r,i,s){if(Za(this.hitDetectionEnabled_,"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has been disabled using the `disableHitDetection: true` option."),!this.styleRenderers_.length||!this.hitDetectionEnabled_)return;const l=Po(n.coordinateToPixelTransform,e.slice()),c=this.hitRenderTarget_.readPixel(l[0]/2,l[1]/2),a=[c[0]/255,c[1]/255,c[2]/255,c[3]/255],f=Hle(a),A=this.batch_.getFeatureFromRef(f);if(A)return i(A,this.getLayer(),null)}disposeInternal(){this.sourceListenKeys_&&(this.sourceListenKeys_.forEach(function(e){xo(e)}),this.sourceListenKeys_=null),super.disposeInternal()}}var Blt=class extends Of{constructor(e){e=e||{},super();var n=this.input=e.input;n||(n=this.input=document.createElement("INPUT"),e.type&&n.setAttribute("type",e.type),e.min!==void 0&&n.setAttribute("min",e.min),e.max!==void 0&&n.setAttribute("max",e.max),e.step!==void 0&&n.setAttribute("step",e.step),e.parent&&e.parent.appendChild(n)),e.disabled&&(n.disabled=!0),e.checked!==void 0&&(n.checked=!!e.checked),e.val!==void 0&&(n.value=e.val),e.hidden&&(n.style.display="none"),n.addEventListener("focus",(function(){this.element&&this.element.classList.add("ol-focus")}).bind(this));var r;n.addEventListener("focusout",(function(){this.element&&(r&&clearTimeout(r),r=setTimeout((function(){this.element.classList.remove("ol-focus")}).bind(this),0))}).bind(this))}_listenDrag(e,n){var r=(function(i){this.moving=!0,this.element.classList.add("ol-moving");var s=(function(l){l.type==="pointerup"&&(document.removeEventListener("pointermove",s),document.removeEventListener("pointerup",s),document.removeEventListener("pointercancel",s),setTimeout((function(){this.moving=!1,this.element.classList.remove("ol-moving")}).bind(this))),l.target===e&&n(l),l.stopPropagation(),l.preventDefault()}).bind(this);document.addEventListener("pointermove",s,!1),document.addEventListener("pointerup",s,!1),document.addEventListener("pointercancel",s,!1),i.stopPropagation(),i.preventDefault()}).bind(this);e.addEventListener("mousedown",r,!1),e.addEventListener("touchstart",r,!1)}setValue(e){e!==void 0&&(this.input.value=e),this.input.dispatchEvent(new Event("change"))}getValue(){return this.input.value}getInputElement(){return this.input}},J7=class extends Blt{constructor(e){e=e||{},super(e);var n=this.element=document.createElement("LABEL");e.html instanceof Element?n.appendChild(e.html):e.html!==void 0&&(n.innerHTML=e.html),n.className=("ol-ext-check ol-ext-checkbox "+(e.className||"")).trim(),this.input.parentNode&&this.input.parentNode.insertBefore(n,this.input),n.appendChild(this.input),n.appendChild(document.createElement("SPAN")),e.after&&n.appendChild(document.createTextNode(e.after)),this.input.addEventListener("change",(function(){this.dispatchEvent({type:"check",checked:this.input.checked,value:this.input.value})}).bind(this))}isChecked(){return this.input.checked}},Mlt=class extends J7{constructor(e){e=e||{},super(e),this.element.className=("ol-ext-toggle-switch "+(e.className||"")).trim()}},Ilt=class extends J7{constructor(e){e=e||{},super(e),this.element.className=("ol-ext-check ol-ext-radio "+(e.className||"")).trim()}},cn={};cn.create=function(t,e){e=e||{};var n;if(t==="TEXT")n=document.createTextNode(e.html||""),e.parent&&e.parent.appendChild(n);else{n=document.createElement(t),/button/i.test(t)&&n.setAttribute("type","button");for(var r in e)switch(r){case"className":{e.className&&e.className.trim&&n.setAttribute("class",e.className.trim());break}case"text":{n.innerText=e.text;break}case"html":{e.html instanceof Element?n.appendChild(e.html):e.html!==void 0&&(n.innerHTML=e.html);break}case"parent":{e.parent&&e.parent.appendChild(n);break}case"options":{if(/select/i.test(t))for(var i in e.options)cn.create("OPTION",{html:i,value:e.options[i],parent:n});break}case"style":{cn.setStyle(n,e.style);break}case"change":case"click":{cn.addListener(n,r,e[r]);break}case"on":{for(var s in e.on)cn.addListener(n,s,e.on[s]);break}case"checked":{n.checked=!!e.checked;break}default:{n.setAttribute(r,e[r]);break}}}return n};cn.createSwitch=function(t){var e=cn.create("INPUT",{type:"checkbox",on:t.on,click:t.click,change:t.change,parent:t.parent}),n=Object.assign({input:e},t||{});return new Mlt(n),e};cn.createCheck=function(t){var e=cn.create("INPUT",{name:t.name,type:t.type==="radio"?"radio":"checkbox",on:t.on,parent:t.parent}),n=Object.assign({input:e},t||{});return t.type==="radio"?new Ilt(n):new J7(n),e};cn.setHTML=function(t,e){e instanceof Element?t.appendChild(e):e!==void 0&&(t.innerHTML=e)};cn.appendText=function(t,e){t.appendChild(document.createTextNode(e||""))};cn.addListener=function(t,e,n,r){typeof e=="string"&&(e=e.split(" ")),e.forEach(function(i){t.addEventListener(i,n,r)})};cn.removeListener=function(t,e,n){typeof e=="string"&&(e=e.split(" ")),e.forEach(function(r){t.removeEventListener(r,n)})};cn.show=function(t){t.style.display=""};cn.hide=function(t){t.style.display="none"};cn.hidden=function(t){return cn.getStyle(t,"display")==="none"};cn.toggle=function(t){t.style.display=t.style.display==="none"?"":"none"};cn.setStyle=function(t,e){for(var n in e)switch(n){case"top":case"left":case"bottom":case"right":case"minWidth":case"maxWidth":case"width":case"height":{typeof e[n]=="number"?t.style[n]=e[n]+"px":t.style[n]=e[n];break}default:t.style[n]=e[n]}};cn.getStyle=function(t,e){var n,r=(t.ownerDocument||document).defaultView;if(r&&r.getComputedStyle)e=e.replace(/([A-Z])/g,"-$1").toLowerCase(),n=r.getComputedStyle(t,null).getPropertyValue(e);else if(t.currentStyle&&(e=e.replace(/-(\w)/g,function(i,s){return s.toUpperCase()}),n=t.currentStyle[e],/^\d+(em|pt|%|ex)?$/i.test(n)))return function(i){var s=t.style.left,l=t.runtimeStyle.left;return t.runtimeStyle.left=t.currentStyle.left,t.style.left=i||0,i=t.style.pixelLeft+"px",t.style.left=s,t.runtimeStyle.left=l,i}(n);return/px$/.test(n)?parseInt(n):n};cn.outerHeight=function(t){return t.offsetHeight+cn.getStyle(t,"marginBottom")};cn.outerWidth=function(t){return t.offsetWidth+cn.getStyle(t,"marginLeft")};cn.offsetRect=function(t){var e=t.getBoundingClientRect();return{top:e.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:e.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),height:e.height||e.bottom-e.top,width:e.width||e.right-e.left}};cn.getFixedOffset=function(t){var e={left:0,top:0},n=function(r){if(!r)return e;if(cn.getStyle(r,"position")==="absolute"&&cn.getStyle(r,"transform")!=="none"){var i=r.getBoundingClientRect();return e.left+=i.left,e.top+=i.top,e}return n(r.offsetParent)};return n(t.offsetParent)};cn.positionRect=function(t,e){var n=0,r=0,i=function(s){if(s)return n+=s.offsetLeft,r+=s.offsetTop,i(s.offsetParent);var l={top:t.offsetTop+r,left:t.offsetLeft+n};return e&&(l.top-=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,l.left-=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),l.bottom=l.top+t.offsetHeight,l.right=l.top+t.offsetWidth,l};return i(t.offsetParent)};cn.scrollDiv=function(t,e){e=e||{};var n=!1,r=0,i,s=0,l=typeof e.onmove=="function"?e.onmove:function(){},c=e.vertical?"screenY":"screenX",a=e.vertical?"scrollTop":"scrollLeft",f=!1,A,m,_=0,y=function(){R&&(_++,setTimeout(T))},T=function(){if(R){if(_--,_)return;var j=t.clientHeight,H=t.scrollHeight;A=j/H,R.style.height=A*100+"%",R.style.top=t.scrollTop/H*100+"%",F.style.height=j+"px",j>H-.5?F.classList.add("ol-100pc"):F.classList.remove("ol-100pc")}},E=function(j){j.target.classList.contains("ol-noscroll")||(f=!1,n=j[c],s=new Date,t.classList.add("ol-move"),j.preventDefault(),window.addEventListener("pointermove",P),cn.addListener(window,["pointerup","pointercancel"],z))},P=function(j){if(n!==!1){var H=(m?-1/A:1)*(n-j[c]);f=f||Math.round(H),t[a]+=H,i=new Date,i-s&&(r=(r+H/(i-s))/2),n=j[c],s=i,H&&l(!0)}else f=!0},I=function(j){var H=j>0?Math.min(100,j/2):Math.max(-100,j/2);j-=H,t[a]+=H,-1<j&&j<1?(f?setTimeout(function(){t.classList.remove("ol-move")}):t.classList.remove("ol-move"),f=!1,l(!1)):setTimeout(function(){I(j)},40)},F,R;if(e.vertical&&e.minibar){var N=function(j){t.removeEventListener("pointermove",N),t.parentNode.classList.add("ol-miniscroll"),R=cn.create("DIV"),F=cn.create("DIV",{className:"ol-scroll",html:R}),t.parentNode.insertBefore(F,t),R.addEventListener("pointerdown",function(H){m=!0,E(H)}),e.mousewheel&&(cn.addListener(F,["mousewheel","DOMMouseScroll","onmousewheel"],function(H){Q(H)}),cn.addListener(R,["mousewheel","DOMMouseScroll","onmousewheel"],function(H){Q(H)})),t.parentNode.addEventListener("pointerenter",y),window.addEventListener("resize",y),j!==!1&&y()};t.parentNode?N(!1):t.addEventListener("pointermove",N),t.addEventListener("scroll",function(){y()})}t.style["touch-action"]="none",t.style.overflow="hidden",t.classList.add("ol-scrolldiv"),cn.addListener(t,["pointerdown"],function(j){m=!1,E(j)}),t.addEventListener("click",function(j){t.classList.contains("ol-move")&&(j.preventDefault(),j.stopPropagation())},!0);var z=function(j){s=new Date-s,s>100||m?r=0:s>0&&(r=((r||0)+(n-j[c])/s)/2),I(e.animate===!1?0:r*200),n=!1,r=0,s=0,t.classList.contains("ol-move")?t.classList.remove("ol-hasClick"):(t.classList.add("ol-hasClick"),setTimeout(function(){t.classList.remove("ol-hasClick")},500)),m=!1,window.removeEventListener("pointermove",P),cn.removeListener(window,["pointerup","pointercancel"],z)},Q=function(j){var H=Math.max(-1,Math.min(1,j.wheelDelta||-j.detail));return t.classList.add("ol-move"),t[a]-=H*30,t.classList.remove("ol-move"),!1};return e.mousewheel&&cn.addListener(t,["mousewheel","DOMMouseScroll","onmousewheel"],Q),{refresh:y}};cn.dispatchEvent=function(t,e){var n;try{n=new CustomEvent(t)}catch{n=document.createEvent("CustomEvent"),n.initCustomEvent(t,!0,!0,{})}e.dispatchEvent(n)};var Yle={exports:{}};function eU(){}eU.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var r=this;function i(){r.off(t,i),e.apply(n,arguments)}return i._=e,this.on(t,i,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,i=n.length;for(r;r<i;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],i=[];if(r&&e)for(var s=0,l=r.length;s<l;s++)r[s].fn!==e&&r[s].fn._!==e&&i.push(r[s]);return i.length?n[t]=i:delete n[t],this}};Yle.exports=eU;Yle.exports.TinyEmitter=eU;var Xle=(t=>(t.CONTEXTMENU="contextmenu",t.CLICK="click",t.DBLCLICK="dblclick",t))(Xle||{});Xle.CONTEXTMENU;var Llt=class extends Df{constructor(e){e=e||{};var n=cn.create("DIV",{className:e.switcherClass||"ol-layerswitcher"});super({element:n,target:e.target});var r=this;this.dcount=0,this.show_progress=e.show_progress,this.oninfo=typeof e.oninfo=="function"?e.oninfo:null,this.onextent=typeof e.onextent=="function"?e.onextent:null,this.hasextent=e.extent||e.onextent,this.hastrash=e.trash,this.reordering=e.reordering!==!1,this._layers=[],this._layerGroup=e.layerGroup&&e.layerGroup.getLayers?e.layerGroup:null,this.onchangeCheck=typeof e.onchangeCheck=="function"?e.onchangeCheck:null,typeof e.displayInLayerSwitcher=="function"&&(this.displayInLayerSwitcher=e.displayInLayerSwitcher),e.target||(n.classList.add("ol-unselectable"),n.classList.add("ol-control"),n.classList.add(e.collapsed!==!1?"ol-collapsed":"ol-forceopen"),this.button=cn.create("BUTTON",{type:"button",parent:n}),this.button.addEventListener("touchstart",function(i){n.classList.toggle("ol-forceopen"),n.classList.add("ol-collapsed"),r.dispatchEvent({type:"toggle",collapsed:n.classList.contains("ol-collapsed")}),i.preventDefault(),r.overflow()}),this.button.addEventListener("click",function(){n.classList.toggle("ol-forceopen"),n.classList.add("ol-collapsed"),r.dispatchEvent({type:"toggle",collapsed:!n.classList.contains("ol-forceopen")}),r.overflow()}),e.mouseover&&(n.addEventListener("mouseleave",function(){n.classList.add("ol-collapsed"),r.dispatchEvent({type:"toggle",collapsed:!0})}),n.addEventListener("mouseover",function(){n.classList.remove("ol-collapsed"),r.dispatchEvent({type:"toggle",collapsed:!1})})),e.minibar&&(e.noScroll=!0),e.noScroll||(this.topv=cn.create("DIV",{className:"ol-switchertopdiv",parent:n,click:function(){r.overflow("+50%")}}),this.botv=cn.create("DIV",{className:"ol-switcherbottomdiv",parent:n,click:function(){r.overflow("-50%")}})),this._noScroll=e.noScroll),this.panel_=cn.create("UL",{className:"panel"}),this.panelContainer_=cn.create("DIV",{className:"panel-container",html:this.panel_,parent:n}),!e.target&&!e.noScroll&&cn.addListener(this.panel_,"mousewheel DOMMouseScroll onmousewheel",function(i){r.overflow(Math.max(-1,Math.min(1,i.wheelDelta||-i.detail)))&&(i.stopPropagation(),i.preventDefault())}),this.header_=cn.create("LI",{className:"ol-header",parent:this.panel_}),this.set("drawDelay",e.drawDelay||0),this.set("selection",e.selection),e.minibar&&setTimeout((function(){var i=cn.scrollDiv(this.panelContainer_,{mousewheel:!0,vertical:!0,minibar:!0});this.on(["drawlist","toggle"],function(){i.refresh()})}).bind(this))}displayInLayerSwitcher(e){return e.get("displayInLayerSwitcher")!==!1}setMap(e){if(super.setMap(e),this.drawPanel(),this._listener)for(var n in this._listener)_m(this._listener[n]);this._listener=null,e&&(this._listener={moveend:e.on("moveend",this.viewChange.bind(this)),size:e.on("change:size",this.overflow.bind(this))},this._layerGroup?this._listener.change=this._layerGroup.getLayers().on("change:length",this.drawPanel.bind(this)):this._listener.change=e.getLayerGroup().getLayers().on("change:length",this.drawPanel.bind(this)))}show(){this.element.classList.add("ol-forceopen"),this.overflow(),this.dispatchEvent({type:"toggle",collapsed:!1})}hide(){this.element.classList.remove("ol-forceopen"),this.overflow(),this.dispatchEvent({type:"toggle",collapsed:!0})}toggle(){this.element.classList.toggle("ol-forceopen"),this.overflow(),this.dispatchEvent({type:"toggle",collapsed:!this.isOpen()})}isOpen(){return this.element.classList.contains("ol-forceopen")}setHeader(e){cn.setHTML(this.header_,e)}overflow(e){if(this.button&&!this._noScroll){if(cn.hidden(this.panel_)){cn.setStyle(this.element,{height:"auto"});return}var n=cn.outerHeight(this.element),r=cn.outerHeight(this.panel_),i=this.button.offsetTop+cn.outerHeight(this.button),s=this.panel_.offsetTop-i;if(r>n-i){cn.setStyle(this.element,{height:"100%"});var l=this.panel_.querySelectorAll("li.ol-visible .li-content")[0],c=l?2*cn.getStyle(l,"height"):0;switch(e){case 1:s+=c;break;case-1:s-=c;break;case"+50%":s+=Math.round(n/2);break;case"-50%":s-=Math.round(n/2);break}return s+r<=n-3*i/2?(s=n-3*i/2-r,cn.hide(this.botv)):cn.show(this.botv),s>=0?(s=0,cn.hide(this.topv)):cn.show(this.topv),cn.setStyle(this.panel_,{top:s+"px"}),!0}else return cn.setStyle(this.element,{height:"auto"}),cn.setStyle(this.panel_,{top:0}),cn.hide(this.botv),cn.hide(this.topv),!1}else return!1}_setLayerForLI(e,n){var r=[];n.getLayers&&r.push(n.getLayers().on("change:length",this.drawPanel.bind(this))),e&&(r.push(n.on("change:opacity",(function(){this.setLayerOpacity(n,e)}).bind(this))),r.push(n.on("change:visible",(function(){this.setLayerVisibility(n,e)}).bind(this)))),r.push(n.on("propertychange",(function(i){(i.key==="displayInLayerSwitcher"||i.key==="openInLayerSwitcher"||i.key==="title"||i.key==="name")&&this.drawPanel(i)}).bind(this))),this._layers.push({li:e,layer:n,listeners:r})}setLayerOpacity(e,n){var r=n.querySelector(".layerswitcher-opacity-cursor");r&&(r.style.left=e.getOpacity()*100+"%"),this.dispatchEvent({type:"layer:opacity",layer:e})}setLayerVisibility(e,n){var r=n.querySelector(".ol-visibility");r&&(r.checked=e.getVisible()),e.getVisible()?n.classList.add("ol-visible"):n.classList.remove("ol-visible"),this.dispatchEvent({type:"layer:visible",layer:e})}_clearLayerForLI(){this._layers.forEach(function(e){e.listeners.forEach(function(n){_m(n)})}),this._layers=[]}_getLayerForLI(e){for(var n=0,r;r=this._layers[n];n++)if(r.li===e)return r.layer;return null}viewChange(){this.panel_.querySelectorAll("li").forEach((function(e){var n=this._getLayerForLI(e);n&&(this.testLayerVisibility(n)?e.classList.remove("ol-layer-hidden"):e.classList.add("ol-layer-hidden"))}).bind(this))}getPanel(){return this.panelContainer_}drawPanel(){if(this.getMap()){var e=this;this.dcount++,setTimeout(function(){e.drawPanel_()},this.get("drawDelay")||0)}}drawPanel_(){if(!(--this.dcount||this.dragging_)){var e=this.panelContainer_.scrollTop;this._clearLayerForLI(),this.panel_.querySelectorAll("li").forEach((function(n){n.classList.contains("ol-header")||n.remove()}).bind(this)),this._layerGroup?this.drawList(this.panel_,this._layerGroup.getLayers()):this.getMap()&&this.drawList(this.panel_,this.getMap().getLayers()),this.panelContainer_.scrollTop=e}}switchLayerVisibility(e,n){e.get("baseLayer")?(e.getVisible()||e.setVisible(!0),n.forEach(function(r){e!==r&&r.get("baseLayer")&&r.getVisible()&&r.setVisible(!1)})):e.setVisible(!e.getVisible())}testLayerVisibility(e){if(!this.getMap())return!0;var n=this.getMap().getView().getResolution(),r=this.getMap().getView().getZoom();if(e.getMaxResolution()<=n||e.getMinResolution()>=n)return!1;if(e.getMinZoom&&(e.getMinZoom()>=r||e.getMaxZoom()<r))return!1;var i=e.getExtent();if(i){var s=this.getMap().getView().calculateExtent(this.getMap().getSize());return tu(s,i)}return!0}dragOrdering_(e){e.stopPropagation(),e.preventDefault();var n=this,r=e.currentTarget.parentNode.parentNode,i=!0,s=this.panel_,l,c=e.pageY||e.touches&&e.touches.length&&e.touches[0].pageY||e.changedTouches&&e.changedTouches.length&&e.changedTouches[0].pageY,a,f,A,m;r.parentNode.classList.add("drag");function _(){if(a){var T=A,E=n.getSelection()===T;if(T&&a){var P;m?P=m.getLayers():P=n._layerGroup?n._layerGroup.getLayers():n.getMap().getLayers();for(var I=P.getArray(),F=0;F<I.length;F++)if(I[F]==T){P.removeAt(F);break}for(var R=0;R<I.length;R++)if(I[R]===a){F>R?P.insertAt(R,T):P.insertAt(R+1,T);break}}E&&n.selectLayer(T),n.dispatchEvent({type:"reorder-end",layer:T,group:m})}r.parentNode.querySelectorAll("li").forEach(function(N){N.classList.remove("dropover"),N.classList.remove("dropover-after"),N.classList.remove("dropover-before")}),r.classList.remove("drag"),r.parentNode.classList.remove("drag"),n.element.classList.remove("drag"),f&&f.remove(),cn.removeListener(document,"mousemove touchmove",y),cn.removeListener(document,"mouseup touchend touchcancel",_)}function y(T){if(l=T.pageY||T.touches&&T.touches.length&&T.touches[0].pageY||T.changedTouches&&T.changedTouches.length&&T.changedTouches[0].pageY,i&&Math.abs(c-l)>2&&(i=!1,r.classList.add("drag"),A=n._getLayerForLI(r),a=!1,m=n._getLayerForLI(r.parentNode.parentNode),f=cn.create("LI",{className:"ol-dragover",html:r.innerHTML,style:{position:"absolute","z-index":1e4,left:r.offsetLeft,opacity:.5,width:cn.outerWidth(r),height:cn.getStyle(r,"height")},parent:s}),n.element.classList.add("drag"),n.dispatchEvent({type:"reorder-start",layer:A,group:m})),!i){T.preventDefault(),T.stopPropagation(),cn.setStyle(f,{top:l-cn.offsetRect(s).top+s.scrollTop+5});var E;if(!T.touches)E=T.target,T.target.shadowRoot&&(E=T.composedPath()[0]);else for(E=document.elementFromPoint(T.touches[0].clientX,T.touches[0].clientY);E.shadowRoot;)E=E.shadowRoot.elementFromPoint(T.touches[0].clientX,T.touches[0].clientY);for(E.classList.contains("ol-switcherbottomdiv")?n.overflow(-1):E.classList.contains("ol-switchertopdiv")&&n.overflow(1);E&&E.tagName!=="LI";)E=E.parentNode;(!E||!E.classList.contains("dropover"))&&r.parentNode.querySelectorAll("li").forEach(function(P){P.classList.remove("dropover"),P.classList.remove("dropover-after"),P.classList.remove("dropover-before")}),E&&E.parentNode.classList.contains("drag")&&E!==r?(a=n._getLayerForLI(E),a&&!a.get("allwaysOnTop")==!A.get("allwaysOnTop")?(E.classList.add("dropover"),E.classList.add(r.offsetTop<E.offsetTop?"dropover-after":"dropover-before")):a=!1,cn.show(f)):(a=!1,E===r?cn.hide(f):cn.show(f)),a?f.classList.remove("forbidden"):f.classList.add("forbidden")}}cn.addListener(document,"mousemove touchmove",y),cn.addListener(document,"mouseup touchend touchcancel",_)}dragOpacity_(e){e.stopPropagation(),e.preventDefault();var n=this,r=e.target,i=this._getLayerForLI(r.parentNode.parentNode.parentNode);if(!i)return;var s=e.pageX||e.touches&&e.touches.length&&e.touches[0].pageX||e.changedTouches&&e.changedTouches.length&&e.changedTouches[0].pageX,l=cn.getStyle(r,"left")-s;n.dragging_=!0;function c(){cn.removeListener(document,"mouseup touchend touchcancel",c),cn.removeListener(document,"mousemove touchmove",a),n.dragging_=!1}function a(f){var A=f.pageX||f.touches&&f.touches.length&&f.touches[0].pageX||f.changedTouches&&f.changedTouches.length&&f.changedTouches[0].pageX,m=(l+A)/cn.getStyle(r.parentNode,"width"),_=Math.max(0,Math.min(1,m));cn.setStyle(r,{left:_*100+"%"}),r.parentNode.nextElementSibling.innerHTML=Math.round(_*100),i.setOpacity(_)}cn.addListener(document,"mouseup touchend touchcancel",c),cn.addListener(document,"mousemove touchmove",a)}drawList(e,n){var r=this,i=n.getArray(),s=function(m){m.stopPropagation(),m.preventDefault();var _=r._getLayerForLI(this.parentNode.parentNode);r.switchLayerVisibility(_,n),r.get("selection")&&_.getVisible()&&r.selectLayer(_),r.onchangeCheck&&r.onchangeCheck(_)};function l(m){m.stopPropagation(),m.preventDefault();var _=r._getLayerForLI(this.parentNode.parentNode);r.oninfo(_),r.dispatchEvent({type:"info",layer:_})}function c(m){m.stopPropagation(),m.preventDefault();var _=r._getLayerForLI(this.parentNode.parentNode);r.onextent?r.onextent(_):r.getMap().getView().fit(_.getExtent(),r.getMap().getSize()),r.dispatchEvent({type:"extent",layer:_})}function a(m){m.stopPropagation(),m.preventDefault();var _=this.parentNode.parentNode.parentNode.parentNode,y,T=r._getLayerForLI(_);T?(y=r._getLayerForLI(this.parentNode.parentNode),T.getLayers().remove(y),T.getLayers().getLength()==0&&!T.get("noSwitcherDelete")&&a.call(_.querySelectorAll(".layerTrash")[0],m)):(_=this.parentNode.parentNode,r.getMap().removeLayer(r._getLayerForLI(_)))}function f(m){if(!this.displayInLayerSwitcher(m)){this._setLayerForLI(null,m);return}var _=cn.create("LI",{className:(m.getVisible()?"ol-visible ":" ")+(m.get("baseLayer")?"baselayer":""),parent:e});this._setLayerForLI(_,m),this._selectedLayer===m&&_.classList.add("ol-layer-select");var y=cn.create("DIV",{className:"ol-layerswitcher-buttons",parent:_}),T=cn.create("DIV",{className:"li-content",parent:_});cn.create("INPUT",{type:m.get("baseLayer")?"radio":"checkbox",className:"ol-visibility",checked:m.getVisible(),click:s,parent:T});var E=cn.create("LABEL",{title:m.get("title")||m.get("name"),click:s,style:{userSelect:"none"},parent:T});if(E.addEventListener("selectstart",function(){return!1}),cn.create("SPAN",{html:m.get("title")||m.get("name"),click:(function(z){this.get("selection")&&(z.stopPropagation(),this.selectLayer(m))}).bind(this),parent:E}),this.reordering&&(A<i.length-1&&(m.get("allwaysOnTop")||!i[A+1].get("allwaysOnTop"))||A>0&&(!m.get("allwaysOnTop")||i[A-1].get("allwaysOnTop")))&&cn.create("DIV",{className:"layerup ol-noscroll",title:this.tip.up,on:{"mousedown touchstart":function(z){r.dragOrdering_(z)}},parent:y}),m.getLayers){var P=0;m.getLayers().forEach(function(z){r.displayInLayerSwitcher(z)&&P++}),P&&cn.create("DIV",{className:m.get("openInLayerSwitcher")?"collapse-layers":"expend-layers",title:this.tip.plus,click:function(){var z=r._getLayerForLI(this.parentNode.parentNode);z.set("openInLayerSwitcher",!z.get("openInLayerSwitcher"))},parent:y})}if(this.oninfo&&cn.create("DIV",{className:"layerInfo",title:this.tip.info,click:l,parent:y}),this.hastrash&&!m.get("noSwitcherDelete")&&cn.create("DIV",{className:"layerTrash",title:this.tip.trash,click:a,parent:y}),this.hasextent&&i[A].getExtent()){var I=i[A].getExtent();I.length==4&&I[0]<I[2]&&I[1]<I[3]&&cn.create("DIV",{className:"layerExtent",title:this.tip.extent,click:c,parent:y})}if(this.show_progress&&m instanceof bq){var F=cn.create("DIV",{className:"layerswitcher-progress",parent:T});this.setprogress_(m),m.layerswitcher_progress=cn.create("DIV",{parent:F})}var R=cn.create("DIV",{className:"layerswitcher-opacity",click:function(z){if(z.target===this){z.stopPropagation(),z.preventDefault();var Q=Math.max(0,Math.min(1,z.offsetX/cn.getStyle(this,"width")));r._getLayerForLI(this.parentNode.parentNode).setOpacity(Q),this.parentNode.querySelectorAll(".layerswitcher-opacity-label")[0].innerHTML=Math.round(Q*100)}},parent:T});if(cn.create("DIV",{className:"layerswitcher-opacity-cursor ol-noscroll",style:{left:m.getOpacity()*100+"%"},on:{"mousedown touchstart":function(z){r.dragOpacity_(z)}},parent:R}),cn.create("DIV",{className:"layerswitcher-opacity-label",html:Math.round(m.getOpacity()*100),parent:T}),m.getLayers&&(_.classList.add("ol-layer-group"),m.get("openInLayerSwitcher")===!0)){var N=cn.create("UL",{parent:_});this.drawList(N,m.getLayers())}_.classList.add(this.getLayerClass(m)),this.dispatchEvent({type:"drawlist",layer:m,li:_})}for(var A=i.length-1;A>=0;A--)f.call(this,i[A]);this.viewChange(),e===this.panel_&&this.overflow()}getLayerClass(e){return e?e.getLayers?"ol-layer-group":e instanceof G7?"ol-layer-vector":e instanceof dlt?"ol-layer-vectortile":e instanceof bq?"ol-layer-tile":e instanceof qst?"ol-layer-image":e instanceof llt?"ol-layer-heatmap":e.getFeatures?"ol-layer-vectorimage":"unknown":"none"}selectLayer(e,n){if(!e){if(!this.getMap())return;e=this.getMap().getLayers().item(this.getMap().getLayers().getLength()-1)}this._selectedLayer=e,this.drawPanel(),n||this.dispatchEvent({type:"select",layer:e})}getSelection(){return this._selectedLayer}setprogress_(e){if(!e.layerswitcher_progress){var n=0,r=0,i=function(){r===n?(r=n=0,cn.setStyle(e.layerswitcher_progress,{width:0})):cn.setStyle(e.layerswitcher_progress,{width:(n/r*100).toFixed(1)+"%"})};e.getSource().on("tileloadstart",function(){r++,i()}),e.getSource().on("tileloadend",function(){n++,i()}),e.getSource().on("tileloaderror",function(){n++,i()})}}};Llt.prototype.tip={up:"up/down",down:"down",info:"informations...",extent:"zoom to extent",trash:"remove layer",plus:"expand/shrink"};z7.prototype.getPreview=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAk6QAAJOkBUCTn+AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANeSURBVHic7ZpPiE1RHMc/780MBhkik79JSUlIUbOxI+wkI2yRhYSUlJLNpJF/xcpiJBmZGBZsNM1CkmhKITGkGbH0/BuPmXnP4rxbb/TOn3fvOffeec6nfqvb/b7f93fveeec37ng8Xg8Ho/nf6Uu4d+fDswFssCvhHOJhaXAMeApMAQUyyIPPAdOAiuTStAVy4EHjDWsix5gdRLJ2mY34ulWYz6IEeA4kIk9awtkgTOEM/5vdAKT4k0/Ou3YMR/ELcbRm9AKFLBbgCJwNE4TYZkJfMG++SIwDCyLz0o4bI17WdyJz0r1TAZ+oDcxCBwAFgIzEIuhvcBbg3sLwOK4DFXLFvQGniCGSSUagS4DjUPOHESkA3XiOWCORqMR6Nfo9DjI3QqPUSd+ylBnv0Zn0GrWFvmIOvGNhjqrNDp/EAutyFgRKUM2tgO+Gur81FxvAKYZaimxXYBvmuuLDHWWaK4X0RfJCNsF6NdcbzXU2a65PohYFKWOc+jn8PUajbWIXaBKp9NB7lZYh34OzwFbFfd/NtDYYSth27urLGIm0M31AL3APWAAmIooymaDnPIl/Vz4NN1yHrd7gcvxWQnHAuA3bsyPop8hUsE13BSgK04TUViBeFo2zedJ8S6wElexW4D2eNOPTjNi6WvD/DtEr8E6tk6GGoAmxFY2iFHE9NZiQf8gogiB9gTEH23izAZuE77vHyU+ANucO1QwD3hD/MbLowAcdm20EmkwXx4n3NodS9rMB2HabYpEWs0HcRqHp0fNwAvJD+eBTZr7p6BvmQVxUaEzEbiruNfJekH15L8jtrEm7JJolEcOmKXRqQOuKDQuY7HZY8s8iNfzkSLxIuI43FTrkkLnOlBfRW4VsWk+oAX5weknxFAxJQNckGgVgZuIRVoomoGXEmGTMa+iQ6K7M4SW7k24QYgiuDQPYinbhugiF4H3RGtzZYCzyIvQXfpNI1ybLyeLpf5+iTbkRbiP2EcocTHm4+YI8iI8RFHwWjAfsA95Q+YZFU6wasl8wB7kReijtNbIILa0vcg/PRlGfPQwHmlCviDqAzaA+OREtzqr1ejOIDorxlNEjTGUBV4nnUWCvAJxGDlA8q9j3DEArAn2zvXAfOwfl6eVAmJrPpJ0Ih6Px+PxeJLjLwPul3vj5d0eAAAAAElFTkSuQmCC"};mle.prototype.getPreview=function(t,e){t||(t=[21020,6355964]),e||(e=150);var n=this.getTileGrid().getTileCoordForCoordAndResolution(t,e),r=this.getTileUrlFunction();return r.call(this,n,this.getProjection())};Xst.prototype.getPreview=function(t,e){t||(t=[21020,6355964]),e||(e=150);var n=this.getTileUrlFunction();if(n){var r=this.getTileGrid()||this.getTileGridForProjection(this.getProjection()),i=r.getTileCoordForCoordAndResolution(t,e);return n.call(this,i,1,this.getProjection())}var s=this.getGetFeatureInfoUrl?this.getGetFeatureInfoUrl(t,e,this.getProjection()||"EPSG:3857",{}):this.getFeatureInfoUrl(t,e,this.getProjection()||"EPSG:3857",{});return s=s.replace(/getfeatureinfo/i,"GetMap"),s};wy.prototype.getPreview=function(t,e,n){if(this.get("preview"))return[this.get("preview")];if(e||(e=150),e<this.getMinResolution()||e>this.getMaxResolution()){var r=this.getMinResolution(),i=this.getMaxResolution();for(i>1e5&&(i=156543),r<.15&&(r=.15),e=i;i>r;)r*=2,i/=2,e=r}var s=this.getExtent();if(t||(t=[21020,6355964]),s&&!t1(s,t)&&(t=[(s[0]+s[2])/2,(s[1]+s[3])/2]),n&&(t=Zg(t,n,this.getSource().getProjection())),this.getSource&&this.getSource())try{return[this.getSource().getPreview(t,e)]}catch{}return[]};Cy.prototype.getPreview=function(t,e){if(this.get("preview"))return[this.get("preview")];var n=[];if(this.getLayers)for(var r=this.getLayers().getArray(),i=0;i<r.length;i++)n=n.concat(r[i].getPreview(t,e));return n};var Zle=class extends Df{constructor(e){e=e||{},e.fullscreen&&(e.target=document.body);var n=cn.create("DIV",{className:((e.className||"")+(e.zoom?" ol-zoom":"")+" ol-ext-dialog").trim()});super({element:n,target:e.target}),n.addEventListener("click",(function(s){this.get("hideOnBack")&&s.target===n&&this.close(),this.get("hideOnClick")&&this.close()}).bind(this));var r=cn.create("FORM",{on:{submit:this._onButton("submit")},parent:n});cn.create("H2",{parent:r}),cn.create("DIV",{className:"ol-closebox",click:this._onButton("cancel"),parent:r}),cn.create("DIV",{className:"ol-content",parent:r}),this._progress=cn.create("DIV",{style:{display:"none"},parent:r});var i=cn.create("DIV",{className:"ol-progress-bar",parent:this._progress});this._progressbar=cn.create("DIV",{parent:i}),this._progressMessage=cn.create("DIV",{className:"ol-progress-message",parent:this._progress}),cn.create("DIV",{className:"ol-buttons",parent:r}),this.set("closeBox",e.closeBox!==!1),this.set("zoom",!!e.zoom),this.set("hideOnClick",!!e.hideOnClick),this.set("hideOnBack",!!e.hideOnBack),this.set("className",n.className),this.set("closeOnSubmit",e.closeOnSubmit),this.set("buttons",e.buttons),this.setContent(e)}show(e){e&&((e instanceof Element||typeof e=="string")&&(e={content:e}),this.setContent(e)),this.element.classList.add("ol-visible");var n=this.element.querySelector('input[type="text"],input[type="search"],input[type="number"]');if(n&&n.focus(),this.dispatchEvent({type:"show"}),e){if(e.autoclose){var r=setTimeout((function(){this.hide()}).bind(this),e.autoclose);this.once("hide",function(){clearTimeout(r)})}if(e.hideOnBack){var i=this.get("hideOnBack");this.set("hideOnBack",!0),this.once("hide",(function(){this.set("hideOnBack",i)}).bind(this))}}}open(){this.show()}setContentMessage(e){if(e!==void 0){var n=this.getContentElement();e instanceof Element&&cn.setHTML(n,""),cn.setHTML(n,e||"")}}setTitle(e){var n=this.element.querySelector("form");n.querySelector("h2").innerText=e||"",e?n.classList.add("ol-title"):n.classList.remove("ol-title")}setContent(e){if(e){this.element.className=this.get("className"),typeof e=="string"&&(e={content:e}),e=e||{},this.setProgress(!1),e.max&&this.setProgress(0,e.max),e.progress!==void 0&&this.setProgress(e.progress),this.get("zoom")?this.element.classList.add("ol-zoom"):this.element.classList.remove("ol-zoom"),e.className&&e.className.split(" ").forEach((function(l){this.element.classList.add(l)}).bind(this));var n=this.element.querySelector("form");e.content!==void 0&&(e.content instanceof Element&&cn.setHTML(n.querySelector(".ol-content"),""),cn.setHTML(n.querySelector(".ol-content"),e.content||"")),this.setTitle(e.title),e.closeBox||this.get("closeBox")&&e.closeBox!==!1?n.classList.add("ol-closebox"):n.classList.remove("ol-closebox");var r=this.element.querySelector(".ol-buttons");r.innerHTML="";var i=e.buttons||this.get("buttons");if(i){n.classList.add("ol-button");for(var s in i)cn.create("INPUT",{type:s==="submit"?"submit":"button",value:i[s],click:this._onButton(s,e.onButton),parent:r})}else n.classList.remove("ol-button")}}getContentElement(){return this.element.querySelector("form .ol-content")}setProgress(e,n,r){if(e===!1){cn.setStyle(this._progress,{display:"none"});return}if(n>0?this.set("max",Number(n)):n=this.get("max"),!n)cn.setStyle(this._progress,{display:"none"});else{var i=Math.round(e/n*100);cn.setStyle(this._progress,{display:""}),this._progressbar.className=i?"":"notransition",cn.setStyle(this._progressbar,{width:i+"%"})}this._progressMessage.innerHTML="",cn.setHTML(this._progressMessage,r||"")}_onButton(e,n){var r=(function(i){i.preventDefault(),(e!=="submit"||this.get("closeOnSubmit")!==!1)&&this.hide();var s=this.getInputs();this.dispatchEvent({type:"button",button:e,inputs:s}),typeof n=="function"&&n(e,s)}).bind(this);return r}getInputs(){var e={};return["input","textarea","select"].forEach((function(n){this.element.querySelectorAll("form "+n).forEach(function(r){r.className&&r.className.split(" ").forEach(function(i){e[i]=r})})}).bind(this)),e}hide(){this.element.classList.remove("ol-visible"),this.dispatchEvent({type:"hide"})}close(){this.hide()}isOpen(){return this.element.classList.contains("ol-visible")}},Plt=function(t){if(!t)return null;var e=t.getViewport().getElementsByClassName("ol-fixedoverlay")[0];return e||(t.getViewport().querySelector(".ol-layers")?(e=document.createElement("canvas"),e.className="ol-fixedoverlay",t.getViewport().querySelector(".ol-layers").after(e),t.on("precompose",function(n){e.width=t.getSize()[0]*n.frameState.pixelRatio,e.height=t.getSize()[1]*n.frameState.pixelRatio})):e=t.getViewport().querySelector("canvas")),e},tU=class extends Df{constructor(e){e=e||{},super(e),this.setStyle(e.style)}setMap(e){this.getCanvas(e);var n=this.getMap();if(this._listener&&(_m(this._listener),this._listener=null),super.setMap(e),n)try{n.renderSync()}catch{}e&&(this._listener=e.on("postcompose",this._draw.bind(this)))}getCanvas(e){return Plt(e)}getContext(e){var n=e.context;if(!n&&this.getMap()){var r=this.getMap().getViewport().getElementsByClassName("ol-fixedoverlay")[0];n=r?r.getContext("2d"):null}return n}setStyle(e){this._style=e||new Fc({})}getStyle(){return this._style}getStroke(){var e=this._style.getStroke();return e||this._style.setStroke(new zd({color:"#000",width:1.25})),this._style.getStroke()}getFill(){var e=this._style.getFill();return e||this._style.setFill(new wm({color:"#fff"})),this._style.getFill()}getTextStroke(){var e=this._style.getText();return e||(e=new Hv({})),e.getStroke()||e.setStroke(new zd({color:"#fff",width:3})),e.getStroke()}getTextFill(){var e=this._style.getText();return e||(e=new Hv({})),e.getFill()||e.setFill(new wm({color:"#fff"})),e.getFill()}getTextFont(){var e=this._style.getText();return e||(e=new Hv({})),e.getFont()||e.setFont("12px sans-serif"),e.getFont()}_draw(){console.warn("[CanvasBase] draw function not implemented.")}},Flt=class extends tU{constructor(e){e=e||{};var n=document.createElement("div");if(super({element:n,target:e.target}),e.target)n.className=e.className||"ol-legend";else{n.className=(e.className||"ol-legend")+" ol-unselectable ol-control"+(e.collapsible===!1?" ol-uncollapsible":" ol-collapsed");var r=document.createElement("button");r.setAttribute("type","button"),r.addEventListener("click",(function(){this.toggle()}).bind(this)),n.appendChild(r),r=document.createElement("button"),r.setAttribute("type","button"),r.className="ol-closebox",r.addEventListener("click",(function(){this.toggle()}).bind(this)),n.appendChild(r)}this._legend=e.legend,this._legend.getCanvas().className="ol-legendImg",n.appendChild(this._legend.getCanvas()),n.appendChild(this._legend.getListElement()),e.collapsible!==!1&&e.collapsed===!1&&this.show(),this._legend.on("select",(function(i){this.dispatchEvent(i)}).bind(this)),this._legend.on("refresh",(function(){if(this._onCanvas&&this.getMap())try{this.getMap().renderSync()}catch{}}).bind(this)),this._legend.on("items",(function(i){i.nb?(this.element.classList.remove("ol-empty"),this.element.title=e.title||"legend"):(this.element.classList.add("ol-empty"),this.element.title=e.emptyTitle||"no legend"),this.dispatchEvent(i)}).bind(this))}getLegend(){return this._legend}setCanvas(e){if(this._onCanvas=e,this.element.style.visibility=e?"hidden":"visible",this.getMap())try{this.getMap().renderSync()}catch{}}onCanvas(){return!!this._onCanvas}_draw(e){if(this._onCanvas&&!this.element.classList.contains("ol-collapsed")){var n=this._legend.getCanvas(),r=this.getContext(e),i=r.canvas.height-n.height;r.save(),r.rect(0,i,n.width,n.height);var s="#fff";this._legend.getTextStyle().getBackgroundFill()&&(s=Z4(this._legend.getTextStyle().getBackgroundFill().getColor())),r.fillStyle=r.strokeStyle=s,r.lineWidth=10,r.lineJoin="round",r.stroke(),r.clearRect(0,i,n.width,n.height),r.fill(),r.drawImage(n,0,i),r.restore()}}show(){if(this.element.classList.contains("ol-collapsed")&&(this.element.classList.remove("ol-collapsed"),this.dispatchEvent({type:"change:collapse",collapsed:!1}),this.getMap()))try{this.getMap().renderSync()}catch{}}hide(){if(!this.element.classList.contains("ol-collapsed")&&(this.element.classList.add("ol-collapsed"),this.dispatchEvent({type:"change:collapse",collapsed:!0}),this.getMap()))try{this.getMap().renderSync()}catch{}}collapse(e){e===!1?this.show():this.hide()}isCollapsed(){return this.element.classList.contains("ol-collapsed")}toggle(){if(this.element.classList.toggle("ol-collapsed"),this.dispatchEvent({type:"change:collapse",collapsed:this.element.classList.contains("ol-collapsed")}),this.getMap())try{this.getMap().renderSync()}catch{}}},Jle=class extends Df{constructor(e){e=e||{};var n=cn.create("DIV",{className:e.className||"ol-print"});super({element:n,target:e.target}),e.target||(n.classList.add("ol-unselectable","ol-control"),cn.create("BUTTON",{type:"button",title:e.title||"Print",click:(function(){this.print()}).bind(this),parent:n})),this.set("immediate",e.immediate),this.set("imageType",e.imageType||"image/jpeg"),this.set("quality",e.quality||.8),this.set("orientation",e.orientation)}toClipboard(e,n){try{e.canvas.toBlob(function(r){try{navigator.clipboard.write([new window.ClipboardItem(Object.defineProperty({},r.type,{value:r,enumerable:!0}))]),typeof n=="function"&&n(!0)}catch{typeof n=="function"&&n(!1)}})}catch{typeof n=="function"&&n(!1)}}copyMap(e,n){this.once("print",(function(r){this.toClipboard(r,n)}).bind(this)),this.print(e)}_getCanvas(e,n,r){var i;if(e.context)r=e.context.canvas;else{if(r)i=r.getContext("2d");else{r=document.createElement("canvas");var s=this.getMap().getSize();r.width=s[0],r.height=s[1],i=r.getContext("2d"),/jp.*g$/.test(n)&&(i.fillStyle=this.get("bgColor")||"white",i.fillRect(0,0,r.width,r.height))}this.getMap().getViewport().querySelectorAll(".ol-layers canvas, canvas.ol-fixedoverlay").forEach((function(l){if(l.width){if(i.save(),l.parentNode.style.opacity==="0")return;i.globalAlpha=parseFloat(l.parentNode.style.opacity)||1,i.globalCompositeOperation=cn.getStyle(l.parentNode,"mix-blend-mode"),i.filter=cn.getStyle(l.parentNode,"filter");var c=cn.getStyle(l,"transform")||cn.getStyle(l,"-webkit-transform");/^matrix/.test(c)?(c=c.replace(/^matrix\(|\)$/g,"").split(","),c.forEach(function(a,f){c[f]=parseFloat(a)}),i.transform(c[0],c[1],c[2],c[3],c[4],c[5]),i.drawImage(l,0,0)):i.drawImage(l,0,0,cn.getStyle(l,"width"),cn.getStyle(l,"height")),i.restore()}}).bind(this))}return r}fastPrint(e,n){e=e||{},this._ol6?requestAnimationFrame((function(){n(this._getCanvas({},e.imageType,e.canvas))}).bind(this)):(this.getMap().once("postcompose",(function(r){r.context||(this._ol6=!0),n(this._getCanvas(r,e.imageType,e.canvas))}).bind(this)),this.getMap().render())}print(e){e=e||{};var n=e.imageType||this.get("imageType"),r=e.quality||this.get("quality");if(this.getMap()){if(e.immediate!=="silent"&&this.dispatchEvent(Object.assign({type:"printing"},e)),!e.immediate){setTimeout((function(){e=Object.assign({},e),e.immediate="silent",this.print(e)}).bind(this),200);return}this.getMap().once(this.get("immediate")?"postcompose":"rendercomplete",(function(i){var s=this._getCanvas(i,n),l=e.size||[210,297],c=e.format||"a4",a,f,A,m=e.orient||this.get("orientation"),_=typeof e.margin=="number"?e.margin:10;if(s){m!=="landscape"&&m!=="portrait"&&(m=s.width>s.height?"landscape":"portrait"),m==="landscape"&&(l=[l[1],l[0]]);var y=Math.min((l[0]-2*_)/s.width,(l[1]-2*_)/s.height);a=y*s.width,f=y*s.height,A=[(l[0]-a)/2,(l[1]-f)/2]}var T;try{T=s?s.toDataURL(n,r):null}catch{this.dispatchEvent({type:"error",canvas:s});return}var E=Object.assign({type:"print",print:{format:c,orientation:m,unit:"mm",size:l,position:A,imageWidth:a,imageHeight:f},image:T,imageType:n,quality:r,canvas:s},e);this.dispatchEvent(E)}).bind(this)),this.getMap().render()}}},klt=class extends tU{constructor(e){e=e||{};var n=cn.create("DIV",{className:(e.className||"")+" ol-control-title ol-unselectable",style:{display:"block",visibility:"hidden"}});super({element:n,style:e.style}),this.setTitle(e.title||""),this.setVisible(e.visible!==!1),this.element.style.font=this.getTextFont()}setStyle(e){super.setStyle(e),this.element&&(this.element.style.font=this.getTextFont()),this.getMap()&&this.getMap().render()}setTitle(e){if(this.element.textContent=e,this.set("title",e),this.getMap())try{this.getMap().renderSync()}catch{}}getTitle(){return this.get("title")}setVisible(e){if(this.element.style.display=e?"block":"none",this.getMap())try{this.getMap().renderSync()}catch{}}getVisible(){return this.element.style.display!=="none"}_draw(e){if(this.getVisible()){var n=this.getContext(e);if(n){var r=e.frameState.pixelRatio;n.save(),n.scale(r,r);var i=this.element.getBoundingClientRect(),s=this.getMap().getViewport().getBoundingClientRect(),l=this.getMap().getSize()[0]/s.width;n.translate(Math.round((i.left-s.left)*l),Math.round((i.top-s.top)*l));var c=this.element.clientHeight,a=this.element.clientWidth,f=a/2;n.beginPath(),n.fillStyle=Z4(this.getFill().getColor()),n.rect(0,0,a,c),n.fill(),n.closePath(),n.beginPath(),n.fillStyle=Z4(this.getTextFill().getColor()),n.strokeStyle=Z4(this.getTextStroke().getColor()),n.lineWidth=this.getTextStroke().getWidth(),n.textAlign="center",n.textBaseline="middle",n.font=this.getTextFont(),n.lineJoin="round",n.lineWidth&&n.strokeText(this.getTitle(),f,c/2),n.fillText(this.getTitle(),f,c/2),n.closePath(),n.restore()}}}},fP=function(t,e){var n=t.getView(),r=n.getProjection(),i=n.getCenter(),s=t.getPixelFromCoordinate(i);s[1]+=1;var l=t.getCoordinateFromPixel(s),c=qC(Zg(i,r,"EPSG:4326"),Zg(l,r,"EPSG:4326"));return c*=96/.0254,c},Rlt=function(t,e,n){if(t&&e){var r=e;if(typeof e=="string"&&(e=e.replace(":","/").split("/"),r=e[1],r||(r=e[0]||""),r=r.replace(/[^\d]/g,""),r=parseInt(r),e[1])){var i=parseInt(e[0]);i&&(r/=i)}if(!r)return;var s=t.getView(),l=s.getProjection(),c=s.getCenter(),a=t.getPixelFromCoordinate(c);a[1]+=1;var f=t.getCoordinateFromPixel(a),A=qC(Zg(c,l,"EPSG:4326"),Zg(f,l,"EPSG:4326"));return A*=96/.0254,s.setResolution(s.getResolution()*r/A),r}},Rq=class extends tU{constructor(e){e=e||{};var n=document.createElement("div");n.className="ol-control ol-compassctrl ol-unselectable ol-hidden"+(e.className?" "+e.className:""),n.style.position="absolute",n.style.visibility="hidden";var r=e.style instanceof zd?new Fc({stroke:e.style}):e.style;e.style||(r=new Fc({stroke:new zd({width:0})})),super({element:n,style:r}),this.set("rotateVithView",e.rotateWithView!==!1),this.setVisible(e.visible!==!1),this.setImage(e.image||e.src)}setImage(e){if(e instanceof Image)this.img_=e,this.img_.onload=(function(){if(this.getMap())try{this.getMap().renderSync()}catch{}}).bind(this);else if(typeof e=="string")switch(e){case"compact":{this.img_=this.compactCompass_(this.element.clientWidth,this.getStroke().getColor());break}case"default":{this.img_=this.defaultCompass_(this.element.clientWidth,this.getStroke().getColor());break}default:{this.img_=new Image,this.img_.onload=(function(){if(this.getMap())try{this.getMap().renderSync()}catch{}}).bind(this),this.img_.src=e;break}}else this.img_=this.defaultCompass_(this.element.clientWidth,this.getStroke().getColor())}compactCompass_(e,n){var r=document.createElement("canvas"),i=r.getContext("2d");e=r.width=r.height=e||150;var s=e/2;return i.translate(s,s),i.fillStyle=n||"#963",i.lineWidth=5,i.lineJoin=i.lineCap="round",i.font="bold "+s*.4+"px sans-serif",i.textBaseline="bottom",i.textAlign="center",i.strokeStyle="#fff",i.globalAlpha=.75,i.strokeText("N",0,-s/2),i.globalAlpha=1,i.fillText("N",0,-s/2),i.beginPath(),i.moveTo(0,s/4),i.lineTo(s/3,s/2),i.lineTo(0,-s/2),i.lineTo(-s/3,s/2),i.lineTo(0,s/4),i.lineWidth=12,i.fillStyle="#fff",i.globalAlpha=.75,i.fill(),i.stroke(),i.globalAlpha=1,i.fillStyle=i.strokeStyle=n||"#963",i.lineWidth=5,i.beginPath(),i.moveTo(0,s/4),i.lineTo(0,-s/2),i.lineTo(s/3,s/2),i.lineTo(0,s/4),i.fill(),i.stroke(),i.beginPath(),i.moveTo(0,s/4),i.lineTo(0,-s/2),i.lineTo(-s/3,s/2),i.lineTo(0,s/4),i.stroke(),r}defaultCompass_(e,n){var r=document.createElement("canvas"),i=r.getContext("2d");e=r.width=r.height=e||150;var s=e/2,l=.22*s;function c(f,A){i.fillStyle=n||"#963",i.beginPath(),i.moveTo(0,0),i.lineTo(f,0),i.lineTo(A,A),i.moveTo(0,0),i.lineTo(-f,0),i.lineTo(-A,-A),i.moveTo(0,0),i.lineTo(0,f),i.lineTo(-A,A),i.moveTo(0,0),i.lineTo(0,-f),i.lineTo(A,-A),i.moveTo(0,0),i.fill(),i.stroke()}function a(f,A){i.globalCompositeOperation="destination-out",i.fillStyle="#fff",i.beginPath(),i.moveTo(0,0),i.lineTo(f,0),i.lineTo(A,-A),i.moveTo(0,0),i.lineTo(-f,0),i.lineTo(-A,A),i.moveTo(0,0),i.lineTo(0,f),i.lineTo(A,A),i.moveTo(0,0),i.lineTo(0,-f),i.lineTo(-A,-A),i.moveTo(0,0),i.fill(),i.globalCompositeOperation="source-over",i.beginPath(),i.moveTo(0,0),i.lineTo(f,0),i.lineTo(A,-A),i.moveTo(0,0),i.lineTo(-f,0),i.lineTo(-A,A),i.moveTo(0,0),i.lineTo(0,f),i.lineTo(A,A),i.moveTo(0,0),i.lineTo(0,-f),i.lineTo(-A,-A),i.moveTo(0,0),i.stroke()}return i.translate(s,s),i.strokeStyle=n||"#963",i.lineWidth=1.5,i.beginPath(),i.arc(0,0,e*.41,0,2*Math.PI),i.arc(0,0,e*.44,0,2*Math.PI),i.stroke(),i.rotate(Math.PI/4),c(s*.9,l*.8),a(s*.9,l*.8),i.rotate(-Math.PI/4),c(s,l),a(s,l),r}getVisible(){return cn.getStyle(this.element,"display")==="block"}setVisible(e){e?this.element.classList.add("ol-visible"):this.element.classList.remove("ol-visible"),this.getMap()&&this.getMap().render()}_draw(e){var n=this.getContext(e);if(!(!n||!this.getVisible())){var r=n.canvas,i,s=[];for(i=0;i<8;i++)s[i]=[Math.cos(Math.PI*i/8),Math.sin(Math.PI*i/8)];var l=e.frameState.pixelRatio;n.save(),n.scale(l,l);var c=this.element.clientWidth,a=this.element.clientHeight,f={left:this.element.offsetLeft,top:this.element.offsetTop},A=this.img_,m=e.frameState.viewState.rotation;if(n.beginPath(),n.translate(f.left+c/2,f.top+a/2),this.get("rotateVithView")&&n.rotate(m),this.getStroke().getWidth()){n.beginPath(),n.strokeStyle=this.getStroke().getColor(),n.lineWidth=this.getStroke().getWidth();var _=Math.max(r.width,r.height);for(i=0;i<8;i++)n.moveTo(-s[i][0]*_,-s[i][1]*_),n.lineTo(s[i][0]*_,s[i][1]*_);n.stroke()}A.width&&n.drawImage(A,-c/2,-a/2,c,a),n.closePath(),n.restore()}}},Q2=class extends Df{constructor(e){e=e||{};var n=cn.create("DIV",{className:(e.className||"ol-print")+" ol-unselectable ol-control"});super({element:n}),this._lang=e.lang||"en",e.target||cn.create("BUTTON",{type:"button",title:e.title||"Print",click:(function(){this.print()}).bind(this),parent:n}),e.openWindow&&this.on("print",function(W){W.canvas&&window.open().document.write('<img src="'+W.canvas.toDataURL()+'"/>')}),e.target=cn.create("DIV");var r=this._printCtrl=new Jle(e);r.on(["print","error","printing"],(function(W){this._printing(W)}).bind(this)),this._compass=new Rq({src:e.northImage||"compact",visible:!1,className:"olext-print-compass",style:new zd({color:"#333",width:0})});var i=this._printDialog=new Zle({target:e.targetDialog||document.body,closeBox:!0,className:"ol-ext-print-dialog"}),s=i.getContentElement();this._input={};var l=cn.create("DIV",{className:"ol-print-param",parent:s});this._pages=[cn.create("DIV",{className:"ol-page"})];var c=cn.create("DIV",{className:"ol-map",parent:this._pages[0]});cn.create("DIV",{html:this._pages[0],className:"ol-print-map",parent:s}),cn.create("H2",{html:this.i18n("title"),parent:l});var a=cn.create("UL",{parent:l}),f=cn.create("LI",{className:"ol-orientation",parent:a});this._input.orientation={list:f};var A=cn.create("LABEL",{className:"portrait",parent:f});this._input.orientation.portrait=cn.create("INPUT",{type:"radio",name:"ol-print-orientation",value:"portrait",checked:!0,on:{change:(function(W){this.setOrientation(W.target.value)}).bind(this)},parent:A}),cn.create("SPAN",{html:this.i18n("portrait"),parent:A}),A=cn.create("LABEL",{className:"landscape",parent:f}),this._input.orientation.landscape=cn.create("INPUT",{type:"radio",name:"ol-print-orientation",value:"landscape",on:{change:(function(W){this.setOrientation(W.target.value)}).bind(this)},parent:A}),cn.create("SPAN",{html:this.i18n("landscape"),parent:A});var m;f=cn.create("LI",{html:cn.create("LABEL",{html:this.i18n("size")}),className:"ol-size",parent:a});var _=this._input.size=cn.create("SELECT",{on:{change:(function(){this.setSize(_.value||K)}).bind(this)},parent:f});for(m in this.paperSize)cn.create("OPTION",{html:m+(this.paperSize[m]?" - "+this.paperSize[m][0]+"x"+this.paperSize[m][1]+" mm":this.i18n("custom")),value:m,parent:_});f=cn.create("LI",{html:cn.create("LABEL",{html:this.i18n("margin")}),className:"ol-margin",parent:a});var y=this._input.margin=cn.create("SELECT",{on:{change:(function(){this.setMargin(y.value)}).bind(this)},parent:f});for(m in this.marginSize)cn.create("OPTION",{html:this.i18n(m)+" - "+this.marginSize[m]+" mm",value:this.marginSize[m],parent:y});f=cn.create("LI",{html:cn.create("LABEL",{html:this.i18n("scale")}),className:"ol-scale",parent:a});var T=this._input.scale=cn.create("SELECT",{on:{change:(function(){this.setScale(parseInt(T.value))}).bind(this)},parent:f});Object.keys(this.scales).forEach((function(W){cn.create("OPTION",{html:this.scales[W],value:W,parent:T})}).bind(this)),f=cn.create("LI",{className:"ol-legend",parent:a});var E=cn.createSwitch({html:this.i18n("legend"),checked:!1,on:{change:(function(){q.legend.control.setCanvas(E.checked)}).bind(this)},parent:f});f=cn.create("LI",{className:"ol-print-north",parent:a});var P=this._input.north=cn.createSwitch({html:this.i18n("north"),checked:"checked",on:{change:(function(){P.checked?this._compass.element.classList.add("ol-print-compass"):this._compass.element.classList.remove("ol-print-compass"),this.getMap().render()}).bind(this)},parent:f});f=cn.create("LI",{className:"ol-print-title",parent:a});var I=cn.createSwitch({html:this.i18n("mapTitle"),checked:!1,on:{change:(function(W){q.title.control.setVisible(W.target.checked)}).bind(this)},parent:f}),F=cn.create("INPUT",{type:"text",placeholder:this.i18n("mapTitle"),on:{keydown:function(W){W.keyCode===13&&W.preventDefault()},keyup:function(){q.title.control.setTitle(F.value)},change:(function(){q.title.control.setTitle(F.value)}).bind(this)},parent:f}),R=cn.create("DIV",{className:"ol-user-param",parent:l});f=cn.create("LI",{className:"ol-saveas",parent:a}),cn.create("DIV",{html:this.i18n("copied"),className:"ol-clipboard-copy",parent:f});var N=cn.create("SELECT",{on:{change:(function(){var W=N.value;if(N.value="",!(this.formats[W].clipboard&&this._copyMap(W))){var ee=typeof this.getSize()=="string"?this.getSize():null,ue=Object.assign({format:ee,size:ee?this.paperSize[ee]:null,orient:this.getOrientation(),margin:this.getMargin()},this.formats[W]);r.print(ue)}}).bind(this)},parent:f});cn.create("OPTION",{html:this.i18n("saveas"),style:{display:"none"},value:"",parent:N}),this.formats.forEach((function(W,ee){if(W.pdf){if(e.pdf===!1)return}else if(W.clipboard){if(e.copy===!1)return}else if(e.save===!1)return;cn.create("OPTION",{html:this.i18n(W.title),value:ee,parent:N})}).bind(this)),N.querySelectorAll("option").length===1&&(N.style.display="none"),f=cn.create("LI",{className:"ol-savelegend",parent:a});var z=cn.create("DIV",{html:this.i18n("copied"),className:"ol-clipboard-copy",parent:f}),Q=cn.create("SELECT",{on:{change:(function(){var W=q.legend.control.getLegend().getCanvas(),ee=document.createElement("CANVAS");ee.width=W.width,ee.height=W.height;var ue=ee.getContext("2d");if(ue.fillStyle="#fff",ue.fillRect(0,0,ee.width,ee.height),ue.drawImage(W,0,0),this.formats[Q.value].clipboard)ee.toBlob(function(Ee){try{navigator.clipboard.write([new window.ClipboardItem(Object.defineProperty({},Ee.type,{value:Ee,enumerable:!0}))]),z.classList.add("visible"),setTimeout(function(){z.classList.remove("visible")},1e3)}catch{}},"image/png");else{var J;try{J=ee.toDataURL(this.formats[Q.value].imageType,this.formats[Q.value].quality);var te=typeof this.getSize()=="string"?this.getSize():"A4",ne=ee.width/96*25.4,he=ee.height/96*25.4,ce=this.paperSize[te];this.getOrientation()==="landscape"&&(ce=[ce[1],ce[0]]);var ye=[(ce[0]-ne)/2,(ce[1]-he)/2];this.dispatchEvent({type:"print",print:{legend:!0,format:te,orientation:this.getOrientation(),unit:"mm",size:this.paperSize[te],position:ye,imageWidth:ne,imageHeight:he},image:J,imageType:this.formats[Q.value].imageType,pdf:this.formats[Q.value].pdf,quality:this.formats[Q.value].quality,canvas:ee})}catch{}}Q.value=""}).bind(this)},parent:f});cn.create("OPTION",{html:this.i18n("saveLegend"),style:{display:"none"},value:"",parent:Q}),this.formats.forEach((function(W,ee){cn.create("OPTION",{html:this.i18n(W.title),value:ee,parent:Q})}).bind(this));var j=cn.create("DIV",{className:"ol-ext-buttons",parent:l});cn.create("BUTTON",{html:this.i18n("printBt"),type:"submit",click:function(W){W.preventDefault(),window.print()},parent:j}),cn.create("BUTTON",{html:this.i18n("cancel"),type:"button",click:function(){i.hide()},parent:j}),cn.create("DIV",{html:this.i18n("errorMsg"),className:"ol-error",parent:l});var H,K,ie,q={};i.on("show",(function(){this.dispatchEvent({type:"show",userElement:R,dialog:this._printDialog,page:this.getPage()});var W=this.getMap();W&&(document.body.classList.add("ol-print-document"),H=W.getTargetElement(),K=W.getSize(),typeof this.getSize()=="string"?this.setSize(this.getSize()):this.setSize(K),W.setTarget(c),ie&&_m(ie),ie=W.on("moveend",(function(){this.setScale(fP(W))}).bind(this)),this.setScale(fP(W)),q={},this.getMap().getControls().forEach((function(ee){ee instanceof Flt&&(q.legend={control:ee}),ee instanceof klt&&(q.title={control:ee}),ee instanceof Rq&&(q.compass?ee.element.classList.remove("ol-print-compass"):(this._input.north.checked?ee.element.classList.add("ol-print-compass"):ee.element.classList.remove("ol-print-compass"),this._compass=ee,q.compass={control:ee}))}).bind(this)),q.title?(I.checked=q.title.isVisible=q.title.control.getVisible(),F.value=q.title.control.getTitle(),I.parentNode.parentNode.classList.remove("hidden")):I.parentNode.parentNode.classList.add("hidden"),q.legend?(q.legend.ison=q.legend.control.onCanvas(),q.legend.collapsed=q.legend.control.isCollapsed(),q.legend.control.collapse(!1),Q.parentNode.classList.remove("hidden"),E.parentNode.parentNode.classList.remove("hidden"),E.checked=!q.legend.collapsed,q.legend.control.setCanvas(!q.legend.collapsed)):(Q.parentNode.classList.add("hidden"),E.parentNode.parentNode.classList.add("hidden")))}).bind(this)),i.on("hide",(function(){document.body.classList.remove("ol-print-document"),H&&(this.getMap().setTarget(H),H=null,ie&&_m(ie),q.title&&q.title.control.setVisible(q.title.isVisible),q.legend&&(q.legend.control.setCanvas(q.legend.ison),q.legend.control.collapse(q.legend.collapsed)),this.dispatchEvent({type:"hide"}))}).bind(this)),window.addEventListener("resize",(function(){this.setSize()}).bind(this)),e.saveAs&&this.on("print",function(W){W.pdf||W.canvas.toBlob(function(ee){var ue=(W.print.legend?"legend.":"map.")+W.imageType.replace("image/","");e.saveAs(ee,ue)},W.imageType,W.quality)}),e.jsPDF&&this.on("print",function(W){if(W.pdf){var ee=new e.jsPDF({orientation:W.print.orientation,unit:W.print.unit,format:W.print.size});ee.addImage(W.image,"JPEG",W.print.position[0],W.print.position[0],W.print.imageWidth,W.print.imageHeight),ee.save(W.print.legend?"legend.pdf":"map.pdf")}})}static addLang(e,n){Q2.prototype._labels[e]=n}isOpen(){return this._printDialog.isOpen()}i18n(e){var n=this._labels.en[e]||e;return this._labels[this._lang]&&this._labels[this._lang][e]&&(n=this._labels[this._lang][e]),n}getOrientation(){return this._orientation||"portrait"}setOrientation(e){this._orientation=e==="landscape"?"landscape":"portrait",this._printDialog.element.dataset.orientation=this._orientation,this._input.orientation[this._orientation].checked=!0,this.setSize()}getMargin(){return this._margin||0}setMargin(e){this._margin=e,this._input.margin.value=e,this.setSize()}getSize(){return this._size}setSize(e){if(this._printDialog.getContentElement().dataset.status="",e?this._size=e:e=this._size,!!e){if(typeof e=="string"){for(var n in this.paperSize)n&&new RegExp(n,"i").test(e)&&(e=n);this.paperSize[e]||(e=this._size="A4"),this._input.size.value=e,e=[Math.trunc(this.paperSize[e][0]*96/25.4),Math.trunc(this.paperSize[e][1]*96/25.4)],this.getOrientation()==="landscape"&&(e=[e[1],e[0]]),this.getPage().classList.remove("margin")}else this._input.size.value="",this.getPage().classList.add("margin");var r=this.getPage(),i=r.parentNode.getBoundingClientRect(),s=(i.width-40)/e[0],l=(i.height-40)/e[1],c=Math.min(s,l,1);r.style.width=e[0]+"px",r.style.height=e[1]+"px",r.style["-webkit-transform"]=r.style.transform="translate(-50%,-50%) scale("+c+")";var a=Math.round(5/c);r.style["-webkit-box-shadow"]=r.style["box-shadow"]=a+"px "+a+"px "+a+"px rgba(0,0,0,.6)",r.style.padding=this.getMargin()*96/25.4+"px",this.getMap()&&this.getMap().updateSize(),this.dispatchEvent({type:"dialog:refresh"})}}_printing(e){this._printDialog.getContentElement().dataset.status=e.type,e.clipboard||this.dispatchEvent(e)}_copyMap(e){var n=this._printDialog.element.querySelector(".ol-clipboard-copy");return this._printCtrl.copyMap(this.formats[e],function(r){r&&(n.classList.add("visible"),setTimeout(function(){n.classList.remove("visible")},1e3))}),!0}getContentElement(){return this._printDialog.getContentElement()}getUserElement(){return this._printDialog.getContentElement().querySelector(".ol-user-param")}getPage(){return this._pages[0]}setMap(e){this.getMap()&&(this.getMap().removeControl(this._compass),this.getMap().removeControl(this._printCtrl),this.getMap().removeControl(this._printDialog)),super.setMap(e),this.getMap()&&(this.getMap().addControl(this._compass),this.getMap().addControl(this._printCtrl),this.getMap().addControl(this._printDialog))}setScale(e){Rlt(this.getMap(),e),this._input.scale.value=" "+Math.round(e/100)*100}getScale(){return fP(this.getMap())}print(e){e=e||{},e.size&&this.setSize(e.size),e.scale&&this.setScale(e.scale),e.orientation&&this.setOrientation(e.orientation),e.margin&&this.setMargin(e.margin),this._printDialog.show()}getPrintControl(){return this._printCtrl}};Q2.prototype._labels={en:{title:"Print",orientation:"Orientation",portrait:"Portrait",landscape:"Landscape",size:"Page size",custom:"screen size",margin:"Margin",scale:"Scale",legend:"Legend",north:"North arrow",mapTitle:"Map title",saveas:"Save as...",saveLegend:"Save legend...",copied:" Copied to clipboard",errorMsg:"Can't save map canvas...",printBt:"Print...",clipboardFormat:"copy to clipboard...",jpegFormat:"save as jpeg",pngFormat:"save as png",pdfFormat:"save as pdf",none:"none",small:"small",large:"large",cancel:"cancel"},fr:{title:"Imprimer",orientation:"Orientation",portrait:"Portrait",landscape:"Paysage",size:"Taille du papier",custom:"taille cran",margin:"Marges",scale:"Echelle",legend:"Lgende",north:"Flche du nord",mapTitle:"Titre de la carte",saveas:"Enregistrer sous...",saveLegend:"Enregistrer la lgende...",copied:" Carte copie",errorMsg:"Impossible d'enregistrer la carte",printBt:"Imprimer",clipboardFormat:"copier dans le presse-papier...",jpegFormat:"enregistrer un jpeg",pngFormat:"enregistrer un png",pdfFormat:"enregistrer un pdf",none:"aucune",small:"petites",large:"larges",cancel:"annuler"},de:{title:"Drucken",orientation:"Ausrichtung",portrait:"Hochformat",landscape:"Querformat",size:"Papierformat",custom:"Bildschirmgre",margin:"Rand",scale:"Mastab",legend:"Legende",north:"Nordpfeil",mapTitle:"Kartentitel",saveas:"Speichern als...",saveLegend:"Legende speichern...",copied:" In die Zwischenablage kopiert",errorMsg:"Kann Karte nicht speichern...",printBt:"Drucken...",clipboardFormat:"in die Zwischenablage kopieren...",jpegFormat:"speichern als jpeg",pngFormat:"speichern als png",pdfFormat:"speichern als pdf",none:"kein",small:"klein",large:"gro",cancel:"abbrechen"},zh:{title:"",orientation:"",portrait:"",landscape:"",size:"",custom:"",margin:"",scale:"",legend:"",north:"",mapTitle:"",saveas:"...",saveLegend:"...",copied:" ",errorMsg:"...",printBt:"...",cancel:""}};Q2.prototype.paperSize={"":null,A0:[841,1189],A1:[594,841],A2:[420,594],A3:[297,420],A4:[210,297],"US Letter":[215.9,279.4],A5:[148,210],B4:[257,364],B5:[182,257]};Q2.prototype.marginSize={none:0,small:5,large:10};Q2.prototype.formats=[{title:"clipboardFormat",imageType:"image/png",clipboard:!0},{title:"jpegFormat",imageType:"image/jpeg",quality:.8},{title:"pngFormat",imageType:"image/png",quality:.8},{title:"pdfFormat",imageType:"image/jpeg",pdf:!0}];Q2.prototype.scales={" 5000":"1/5.000"," 10000":"1/10.000"," 25000":"1/25.000"," 50000":"1/50.000"," 100000":"1/100.000"," 250000":"1/250.000"," 1000000":"1/1.000.000"};var nU=function(t,e){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)},Yx=function(t,e){return t[0]==e[0]&&t[1]==e[1]},eue;(function(){function t(n,r){var i;for(let s=n.length-1;s>0;s--)(n[s][0]>r&&n[s-1][0]<r||n[s][0]<r&&n[s-1][0]>r)&&(i=[r,(r-n[s][0])/(n[s-1][0]-n[s][0])*(n[s-1][1]-n[s][1])+n[s][1]],n.splice(s,0,i))}function e(n,r){var i;for(let s=n.length-1;s>0;s--)(n[s][1]>r&&n[s-1][1]<r||n[s][1]<r&&n[s-1][1]>r)&&(i=[(r-n[s][1])/(n[s-1][1]-n[s][1])*(n[s-1][0]-n[s][0])+n[s][0],r],n.splice(s,0,i))}eue=function(n,r){var i=r.getType()==="Polygon";if(!i&&r.getType()!=="MultiPolygon")return null;var s=r.getCoordinates();return i&&(s=[s]),s.forEach(function(l){l.forEach(function(c){t(c,n[0]),t(c,n[2]),e(c,n[1]),e(c,n[3])})}),s.forEach(function(l){l.forEach(function(c){c.forEach(function(a){a[0]<n[0]?a[0]=n[0]:a[0]>n[2]&&(a[0]=n[2]),a[1]<n[1]?a[1]=n[1]:a[1]>n[3]&&(a[1]=n[3])})})}),i?new Pf(s[0]):new uy(s)}})();var HB=function(t,e,n,r){var i=[];r!==!1&&i.push(t);var s=nU(t,e);if(s){var l=Math.round(s/n);if(l>1)for(var c=(e[0]-t[0])/l,a=(e[1]-t[1])/l,f=1;f<l;f++)i.push([t[0]+c*f,t[1]+a*f])}return i.push(e),i};_f.prototype.sampleAt=function(t){for(var e=this.getCoordinates(),n=[],r=1;r<e.length;r++)n=n.concat(HB(e[r-1],e[r],t,r===1));return new _f(n)};o6.prototype.sampleAt=function(t){var e=this.getCoordinates(),n=[];return e.forEach(function(r){for(var i=[],s=1;s<r.length;s++)i=i.concat(HB(r[s-1],r[s],t,s===1));n.push(i)}),new o6(n)};Pf.prototype.sampleAt=function(t){var e=this.getCoordinates(),n=[];return e.forEach(function(r){for(var i=[],s=1;s<r.length;s++)i=i.concat(HB(r[s-1],r[s],t,s===1));n.push(i)}),new Pf(n)};uy.prototype.sampleAt=function(t){var e=this.getCoordinates(),n=[];return e.forEach(function(r){var i=[];n.push(i),r.forEach(function(s){for(var l=[],c=1;c<s.length;c++)l=l.concat(HB(s[c-1],s[c],t,c===1));i.push(l)})}),new uy(n)};OB.prototype.intersection=function(t,e){if(t.sampleAt){var n=Wp(this.getCenter().concat(this.getCenter()),this.getRadius());t=eue(n,t),t=t.simplify(e);var r=this.getCenter(),i=this.getRadius(),s=t.sampleAt(e).getCoordinates();switch(t.getType()){case"Polygon":s=[s];case"MultiPolygon":{var l=!1,c=[];return s.forEach(function(a){var f=[];c.push(f),a.forEach(function(A){var m=[];f.push(m),A.forEach(function(_){var y=nU(r,_);y>i?(l=!0,m.push([r[0]+i/y*(_[0]-r[0]),r[1]+i/y*(_[1]-r[1])])):m.push(_)})})}),l?t.getType()==="Polygon"?new Pf(c[0]):new uy(c):t}}}else console.warn("[ol/geom/Circle~intersection] Unsupported geometry type: "+t.getType());return t};var tue=class extends Df{constructor(e){e=e||{};var n=document.createElement("div");super({element:n,target:e.target});var r=this;if(this.info=e.info||tue.prototype.info,e.target)n.classList.add(e.className||"ol-profile");else{n.className=((e.className||"ol-profile")+" ol-unselectable ol-control ol-collapsed").trim(),this.button=document.createElement("button"),this.button.title=e.title||"Profile",this.button.setAttribute("type","button");var i=function(Q){r.toggle(),Q.preventDefault()};this.button.addEventListener("click",i),this.button.addEventListener("touchstart",i),n.appendChild(this.button),cn.create("I",{parent:this.button})}e.style instanceof Fc?this._style=e.style:this._style=new Fc({text:new Hv,stroke:new zd({width:1.5,color:"#369"})}),this._style.getText()||this._style.setText(new Hv),e.selectStyle instanceof Fc?this._selectStyle=e.selectStyle:this._selectStyle=new Fc({fill:new wm({color:"#369"})});var s=document.createElement("div");s.classList.add("ol-inner"),n.appendChild(s);var l=document.createElement("div");l.style.position="relative",s.appendChild(l);var c=this.ratio=2;this.canvas_=document.createElement("canvas"),this.canvas_.width=(e.width||300)*c,this.canvas_.height=(e.height||150)*c;var a={msTransform:"scale(0.5,0.5)",msTransformOrigin:"0 0",webkitTransform:"scale(0.5,0.5)",webkitTransformOrigin:"0 0",mozTransform:"scale(0.5,0.5)",mozTransformOrigin:"0 0",transform:"scale(0.5,0.5)",transformOrigin:"0 0"};Object.keys(a).forEach(function(Q){Q in r.canvas_.style&&(r.canvas_.style[Q]=a[Q])});var f=document.createElement("div");l.appendChild(f),f.style.width=this.canvas_.width/c+"px",f.style.height=this.canvas_.height/c+"px",f.appendChild(this.canvas_),f.addEventListener("pointerdown",this.onMove.bind(this)),document.addEventListener("pointerup",this.onMove.bind(this)),f.addEventListener("mousemove",this.onMove.bind(this)),f.addEventListener("touchmove",this.onMove.bind(this)),this.set("selectable",e.selectable),this.margin_={top:10*c,left:45*c,bottom:30*c,right:10*c},this.info.ytitle||(this.margin_.left-=20*c),this.info.xtitle||(this.margin_.bottom-=20*c),this.bar_=document.createElement("div"),this.bar_.classList.add("ol-profilebar"),this.bar_.style.top=this.margin_.top/c+"px",this.bar_.style.height=(this.canvas_.height-this.margin_.top-this.margin_.bottom)/c+"px",l.appendChild(this.bar_),this.cursor_=document.createElement("div"),this.cursor_.classList.add("ol-profilecursor"),l.appendChild(this.cursor_),this.popup_=document.createElement("div"),this.popup_.classList.add("ol-profilepopup"),this.cursor_.appendChild(this.popup_);var A=document.createElement("table");A.cellPadding="0",A.cellSpacing="0",A.style.clientWidth=this.canvas_.width/c+"px",l.appendChild(A);var m=document.createElement("tr");m.classList.add("track-info"),A.appendChild(m);var _=document.createElement("td");_.innerHTML=(this.info.zmin||"Zmin")+': <span class="zmin">',m.appendChild(_);var y=document.createElement("td");y.innerHTML=(this.info.zmax||"Zmax")+': <span class="zmax">',m.appendChild(y);var T=document.createElement("td");T.innerHTML=(this.info.distance||"Distance")+': <span class="dist">',m.appendChild(T);var E=document.createElement("td");E.innerHTML=(this.info.time||"Time")+': <span class="time">',m.appendChild(E);var P=document.createElement("tr");P.classList.add("point-info"),A.appendChild(P);var I=document.createElement("td");I.innerHTML=(this.info.altitude||"Altitude")+': <span class="z">',P.appendChild(I);var F=document.createElement("td");F.innerHTML=(this.info.distance||"Distance")+': <span class="dist">',P.appendChild(F);var R=document.createElement("td");if(R.innerHTML=(this.info.time||"Time")+': <span class="time">',P.appendChild(R),this.tab_=[],e.feature&&this.setGeometry(e.feature),e.zoomable){this.set("selectable",!0);var N,z;this.on("change:geometry",function(){z=null}),this.on("dragstart",function(Q){N=Q.index}),this.on("dragend",(function(Q){if(Math.abs(N-Q.index)>10){if(!z)var j=cn.create("BUTTON",{parent:n,className:"ol-zoom-out",click:(function(ie){ie.stopPropagation(),ie.preventDefault(),z&&(this.dispatchEvent({type:"zoom"}),this.setGeometry(z,this._geometry[1])),n.removeChild(j)}).bind(this)});var H=z||this._geometry[0],K=new _f(this.getSelection(N,Q.index));this.setGeometry(K,this._geometry[1]),z=H,this.dispatchEvent({type:"zoom",geometry:K,start:N,end:Q.index})}}).bind(this))}}popup(e){this.popup_.innerHTML=e}_drawAt(e,n){e?(this.cursor_.style.left=n+"px",this.cursor_.style.top=(this.canvas_.height-this.margin_.bottom+e[1]*this.scale_[1]+this.dy_)/this.ratio+"px",this.cursor_.style.display="block",this.bar_.parentElement.classList.add("over"),this.bar_.style.left=n+"px",this.bar_.style.display="block",this.element.querySelector(".point-info .z").textContent=e[1]+this.info.altitudeUnits,this.element.querySelector(".point-info .dist").textContent=(e[0]/1e3).toFixed(1)+this.info.distanceUnitsKM,this.element.querySelector(".point-info .time").textContent=e[2],n>this.canvas_.width/this.ratio/2?this.popup_.classList.add("ol-left"):this.popup_.classList.remove("ol-left")):(this.cursor_.style.display="none",this.bar_.style.display="none",this.cursor_.style.display="none",this.bar_.parentElement.classList.remove("over"))}showAt(e){var n,r,i,s=1/0;if(typeof e>"u")this.bar_.parentElement.classList.contains("over")&&this._drawAt();else if(e.length)for(n=1;r=this.tab_[n];n++){var l=nU(r[3],e);l<s&&(i=r,s=l)}else for(n=0;(r=this.tab_[n])&&(i=r,!(r[0]>=e));n++);if(i){var c=(i[0]*this.scale_[0]+this.margin_.left)/this.ratio;return this._drawAt(i,c),i[3]}return null}showAtTime(e,n){var r,i,s;if(e instanceof Date?e=e.getTime()/1e3:n&&(e+=this.tab_[0][3][3]),typeof e>"u")this.bar_.parentElement.classList.contains("over")&&this._drawAt();else for(r=0;(i=this.tab_[r])&&(s=i,!(i[3][3]>=e));r++);if(s){var l=(s[0]*this.scale_[0]+this.margin_.left)/this.ratio;return this._drawAt(s,l),s[3]}return null}pointAtTime(e){var n,r;for(n=1;r=this.tab_[n];n++){var i=r[3][3];if(i>=e){var s=this.tab_[n-1][3];return(s[3]+i)/2<e?s:r}}return this.tab_[this.tab_.length-1][3]}onMove(e){if(this.tab_.length){var n=this.canvas_.getBoundingClientRect(),r={top:n.top+window.pageYOffset-document.documentElement.clientTop,left:n.left+window.pageXOffset-document.documentElement.clientLeft},i=e.pageX||e.touches&&e.touches.length&&e.touches[0].pageX||e.changedTouches&&e.changedTouches.length&&e.changedTouches[0].pageX,s=e.pageY||e.touches&&e.touches.length&&e.touches[0].pageY||e.changedTouches&&e.changedTouches.length&&e.changedTouches[0].pageY,l=i-r.left,c=s-r.top,a=this.ratio;if(l>this.margin_.left/a-20&&l<(this.canvas_.width-this.margin_.right)/a+8&&c>this.margin_.top/a&&c<(this.canvas_.height-this.margin_.bottom)/a){var f=(l*a-this.margin_.left)/this.scale_[0],A=this.tab_[0],m,_;for(m=1;_=this.tab_[m];m++)if(_[0]>=f){f<(_[0]+A[0])/2&&(m=0,_=A);break}switch(_||(_=this.tab_[this.tab_.length-1]),l=Math.max(this.margin_.left/a,Math.min(l,(this.canvas_.width-this.margin_.right)/a)),this._drawAt(_,l),this.dispatchEvent({type:"over",click:e.type==="click",index:m,coord:_[3],time:_[2],distance:_[0]}),e.type){case"pointerdown":{this._dragging={event:{type:"dragstart",index:m,coord:_[3],time:_[2],distance:_[0]},pageX:i,pageY:s};break}case"pointerup":{this._dragging&&this._dragging.pageX?Math.abs(this._dragging.pageX-i)<3&&Math.abs(this._dragging.pageY-s)<3&&(this.dispatchEvent({type:"click",index:m,coord:_[3],time:_[2],distance:_[0]}),this.refresh()):this.dispatchEvent({type:"dragend",index:m,coord:_[3],time:_[2],distance:_[0]}),this._dragging=!1;break}default:{if(this._dragging)if(this._dragging.pageX)(Math.abs(this._dragging.pageX-i)>3||Math.abs(this._dragging.pageY-s)>3)&&(this._dragging.pageX=this._dragging.pageY=!1,this.dispatchEvent(this._dragging.event));else{this.dispatchEvent({type:"dragging",index:m,coord:_[3],time:_[2],distance:_[0]});var y=Math.min(this._dragging.event.index,m),T=Math.max(this._dragging.event.index,m);this.refresh(),this.get("selectable")&&this._drawGraph(this.tab_.slice(y,T),this._selectStyle)}break}}}else this.bar_.parentElement.classList.contains("over")&&(this._drawAt(),this.dispatchEvent({type:"out"})),e.type==="pointerup"&&this._dragging&&(this.dispatchEvent({type:"dragcancel"}),this._dragging=!1)}}show(){this.element.classList.remove("ol-collapsed"),this.dispatchEvent({type:"show",show:!0})}hide(){this.element.classList.add("ol-collapsed"),this.dispatchEvent({type:"show",show:!1})}toggle(){this.element.classList.toggle("ol-collapsed");var e=this.element.classList.contains("ol-collapsed");this.dispatchEvent({type:"show",show:!e})}isShown(){return!this.element.classList.contains("ol-collapsed")}getSelection(e,n){for(var r=[],i=Math.max(Math.min(e,n),0),s=Math.min(Math.max(e,n),this.tab_.length-1),l=i;l<=s;l++)r.push(this.tab_[l][3]);return r}_drawGraph(e,n){if(e.length){var r=this.canvas_.getContext("2d"),i=this.scale_[0],s=this.scale_[1],l=this.dy_,c=this.ratio,a,f;for(r.beginPath(),a=0;f=e[a];a++)a==0?r.moveTo(f[0]*i,f[1]*s+l):r.lineTo(f[0]*i,f[1]*s+l);n.getStroke()&&(r.strokeStyle=n.getStroke().getColor()||"#000",r.lineWidth=n.getStroke().getWidth()*c,r.setLineDash([]),r.stroke()),n.getFill()&&(r.fillStyle=n.getFill().getColor()||"#000",r.Style=n.getFill().getColor()||"#000",r.lineTo(e[e.length-1][0]*i,0),r.lineTo(e[0][0]*i,0),r.fill())}}setGeometry(e,n){if(n||(n={}),e instanceof QA&&(e=e.getGeometry()),this._geometry=[e,n],!/Z/.test(e.getLayout()))return;/M/.test(e.getLayout())?this.element.querySelector(".time").parentElement.style.display="block":this.element.querySelector(".time").parentElement.style.display="none";var r=e.getCoordinates();switch(e.getType()){case"LineString":break;case"MultiLineString":r=r[0];break;default:return}var i=n.projection||this.getMap().getView().getProjection();function s(E,P){return qC(Zg(E,i,"EPSG:4326"),Zg(P,i,"EPSG:4326"))}function l(E,P){if(!E||!P)return"-";var I=(P-E)/60,F=Math.trunc(I/60),R=Math.trunc(I-F*60);return F+"h"+(R<10?"0":"")+R+"mn"}var c=1/0,a=-1/0,f,A,m,_,y,T=this.tab_=[];for(f=0,A;A=r[f];f++)_=A[2],_<c&&(c=_),_>a&&(a=_),f==0?m=0:m+=s(r[f-1],A),y=l(r[0][3],A[3]),T.push([m,_,y,A]);this._z=[c,a],this.set("graduation",n.graduation||100),this.set("zmin",n.zmin),this.set("zmax",n.zmax),this.set("amplitude",n.amplitude),this.set("unit",n.unit),this.set("zunit",n.zunit),this.set("zDigits",n.zDigits),this.set("zMaxChars",n.zMaxChars),this.dispatchEvent({type:"change:geometry",geometry:e}),this.refresh()}refresh(){var e=this.canvas_,n=e.getContext("2d"),r=e.width,i=e.height;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,r,i);var s=this._z[0],l=this._z[1],c=this.tab_,a=c[c.length-1][0],f=c[c.length-1][2],A;if(!a){console.error("[ol/control/Profile] no data...",c);return}n.setTransform(1,0,0,1,this.margin_.left,i-this.margin_.bottom);var m=this.ratio;r-=this.margin_.right+this.margin_.left,i-=this.margin_.top+this.margin_.bottom,n.strokeStyle=this._style.getText().getFill().getColor()||"#000",n.lineWidth=.5*m,n.beginPath(),n.moveTo(0,0),n.lineTo(0,-i),n.moveTo(0,0),n.lineTo(r,0),n.stroke(),this.element.querySelector(".track-info .zmin").textContent=s.toFixed(2)+this.info.altitudeUnits,this.element.querySelector(".track-info .zmax").textContent=l.toFixed(2)+this.info.altitudeUnits,a>1e3?this.element.querySelector(".track-info .dist").textContent=(a/1e3).toFixed(1)+this.info.distanceUnitsKM:this.element.querySelector(".track-info .dist").textContent=a.toFixed(1)+this.info.distanceUnitsM,this.element.querySelector(".track-info .time").textContent=f;for(var _=this.get("graduation");;){l=Math.ceil(l/_)*_,s=Math.floor(s/_)*_;var y=(l-s)/_;if(i/y<15*m)_*=2;else break}typeof this.get("zmin")=="number"&&s>this.get("zmin")&&(s=this.get("zmin")),typeof this.get("zmax")=="number"&&l<this.get("zmax")&&(l=this.get("zmax"));var T=this.get("amplitude");T&&(l=Math.max(s+T,l));var E=r/a,P=-i/(l-s),I=this.dy_=-s*P;this.scale_=[E,P],this._drawGraph(c,this._style),n.textAlign="right",n.textBaseline="top",n.fillStyle=this._style.getText().getFill().getColor()||"#000",n.beginPath();var F=this.get("zDigits")||0,R=null;if(typeof this.get("zMaxChars")=="number"){var N;if(this.get("zunit")!="km"?N=Math.max(s.toFixed(F).length,l.toFixed(F).length):N=Math.max((s/1e3).toFixed(1).length,(l/1e3).toFixed(1).length),this.get("zMaxChars")<N){R=Math.floor(Math.log10(Math.max(Math.abs(s),Math.abs(l),Number.MIN_VALUE))),n.font="bold "+9*m+"px arial",n.fillText(R.toString(),-8*m,8*m);var z=n.measureText(R.toString()),Q=z.width,j=z.actualBoundingBoxAscent+z.actualBoundingBoxDescent;n.font="bold "+12*m+"px arial",n.fillText("10",-8*m-Q,8*m+.5*j)}}for(n.font=10*m+"px arial",n.textBaseline="middle",A=s;A<=l;A+=_){if(R!==null){var H=A/Math.pow(10,R);this.get("zunit")=="km"&&(H/=1e3);var K=this.get("zMaxChars")-Math.floor(Math.log10(Math.max(Math.abs(H),1))+1)-1;H<0&&(K-=1),this.get("zunit")!="km",n.fillText(H.toFixed(Math.max(K,0)),-4*m,A*P+I)}else this.get("zunit")!="km"?n.fillText(A.toFixed(F),-4*m,A*P+I):n.fillText((A/1e3).toFixed(1),-4*m,A*P+I);n.moveTo(-2*m,A*P+I),A!=0?n.lineTo(a*E,A*P+I):n.lineTo(0,A*P+I)}n.textAlign="center",n.textBaseline="top",n.setLineDash([m,3*m]);var ie=this.get("unit")||"km",q;for(a>1e3?(q=Math.round(a/1e3)*100,q>1e3&&(q=Math.ceil(q/1e3)*1e3)):(ie="m",a>100?q=Math.round(a/100)*10:a>10?q=Math.round(a/10):a>1?q=Math.round(a)/10:q=a),A=0;A<=a;A+=q){var W=ie=="m"?A:A/1e3;n.fillText(Math.round(W*10)/10,A*E,4*m),n.moveTo(A*E,2*m),n.lineTo(A*E,0)}n.font=12*m+"px arial",n.fillText(this.info.xtitle.replace("(km)","("+ie+")"),r/2,18*m),n.save(),n.rotate(-Math.PI/2),n.fillText(this.info.ytitle,i/2,-this.margin_.left),n.restore(),n.stroke()}getImage(e,n){return e==="canvas"?this.canvas_:this.canvas_.toDataURL(e,n)}};tue.prototype.info={zmin:"Zmin",zmax:"Zmax",ytitle:"Altitude (m)",xtitle:"Distance (km)",time:"Time",altitude:"Altitude",distance:"Distance",altitudeUnits:"m",distanceUnitsM:"m",distanceUnitsKM:"km"};var Olt=class extends Df{constructor(e){e=e||{};var n=(e.className||"")+" ol-search"+(e.target?"":" ol-unselectable ol-control"),r=cn.create("DIV",{className:n});super({element:r,target:e.target});var i=this;if(e.typing==null&&(e.typing=300),this._classname=e.className||"search",e.collapsed!==!1&&r.classList.add("ol-collapsed"),e.target||(this.button=document.createElement("BUTTON"),this.button.setAttribute("type","button"),this.button.setAttribute("title",e.title||e.label||"Search"),this.button.addEventListener("click",function(){if(r.classList.toggle("ol-collapsed"),!r.classList.contains("ol-collapsed")){r.querySelector("input.search").focus();for(var _=r.querySelectorAll("li"),y=0;y<_.length;y++)_[y].classList.remove("select");a.value||i.drawList_()}}),r.appendChild(this.button)),e.inputLabel){var s=document.createElement("LABEL");s.innerText=e.inputLabel,r.appendChild(s)}var l,c="",a=this._input=document.createElement("INPUT");a.setAttribute("type","search"),a.setAttribute("class","search"),a.setAttribute("autocomplete","off"),a.setAttribute("placeholder",e.placeholder||"Search..."),a.addEventListener("change",function(_){i.dispatchEvent({type:"change:input",input:_,value:a.value})});var f=function(_){var y=r.querySelector("ul.autocomplete li.select"),T=a.value;if(_.key=="ArrowDown"||_.key=="ArrowUp"||_.key=="Down"||_.key=="Up")y?(y.classList.remove("select"),y=/Down/.test(_.key)?y.nextElementSibling:y.previousElementSibling,y&&y.classList.add("select")):r.querySelector("ul.autocomplete li").classList.add("select");else if(_.type=="input"&&!T)setTimeout(function(){i.drawList_()},200);else if(y&&(_.type=="search"||_.key=="Enter"))r.classList.contains("ol-control")&&a.blur(),y.classList.remove("select"),c=T,i._handleSelect(i._list[y.getAttribute("data-search")]);else if(_.type=="search"||_.key=="Enter"||c!=T&&e.typing>=0)if(c=T,c){l&&clearTimeout(l);var E=i.get("minLength");l=setTimeout(function(){if(c.length>=E){var P=i.autocomplete(c,function(I){i.drawList_(I)});P&&i.drawList_(P)}else i.drawList_()},e.typing)}else i.drawList_();else y=r.querySelector("ul.autocomplete li"),y&&y.classList.remove("select")};if(a.addEventListener("keyup",f),a.addEventListener("search",f),a.addEventListener("cut",f),a.addEventListener("paste",f),a.addEventListener("input",f),e.noCollapse||(a.addEventListener("blur",(function(){setTimeout((function(){a!==document.activeElement&&(r.classList.add("ol-collapsed"),this.set("reverse",!1),r.classList.remove("ol-revers"))}).bind(this),200)}).bind(this)),a.addEventListener("focus",(function(){this.get("reverse")||(r.classList.remove("ol-collapsed"),r.classList.remove("ol-revers"))}).bind(this))),r.appendChild(a),e.reverse){var A=cn.create("BUTTON",{type:"button",class:"ol-revers",title:e.reverseTitle||"click on the map",click:(function(){this.get("reverse")?this.set("reverse",!1):(this.set("reverse",!this.get("reverse")),a.focus(),r.classList.add("ol-revers"))}).bind(this)});r.appendChild(A)}var m=document.createElement("UL");m.classList.add("autocomplete"),r.appendChild(m),typeof e.getTitle=="function"&&(this.getTitle=e.getTitle),typeof e.autocomplete=="function"&&(this.autocomplete=e.autocomplete),this.set("copy",e.copy),this.set("minLength",e.minLength||1),this.set("maxItems",e.maxItems||10),this.set("maxHistory",e.maxHistory||e.maxItems||10),e.onselect&&this.on("select",e.onselect),e.centerOnSelect&&this.on("select",(function(_){var y=this.getMap();y&&y.getView().setCenter(_.coordinate)}).bind(this)),e.zoomOnSelect&&this.on("select",(function(_){var y=this.getMap();y&&(y.getView().setCenter(_.coordinate),y.getView().getZoom()<e.zoomOnSelect&&y.getView().setZoom(e.zoomOnSelect))}).bind(this)),this.restoreHistory(),this.drawList_()}setMap(e){this._listener&&_m(this._listener),this._listener=null,super.setMap(e),e&&(this._listener=e.on("click",this._handleClick.bind(this)))}collapse(e){e===!1?this.element.classList.remove("ol-collapsed"):this.element.classList.add("ol-collapsed")}getInputField(){return this._input}getTitle(e){return e.name||"No title"}_getTitleTxt(e){return cn.create("DIV",{html:this.getTitle(e)}).innerText}search(){var e=this.element.querySelector("input.search");this._triggerCustomEvent("search",e)}_handleClick(e){this.get("reverse")&&(document.activeElement.blur(),this.reverseGeocode(e.coordinate))}reverseGeocode(){}_triggerCustomEvent(e,n){cn.dispatchEvent(e,n)}setInput(e,n){var r=this.element.querySelector("input.search");r.value=e,n&&this._triggerCustomEvent("keyup",r)}select(e,n,r,i){var s={type:"select",search:e,reverse:!!n,coordinate:r};if(i)for(var l in i)s[l]=i[l];this.dispatchEvent(s)}_handleSelect(e,n,r){if(e){var i=this.get("history"),s;try{var l=JSON.stringify(e);for(s=i.length-1;s>=0;s--)(!i[s]||JSON.stringify(i[s])===l)&&i.splice(s,1)}catch{for(s=i.length-1;s>=0;s--)i[s]===e&&i.splice(s,1)}i.unshift(e);for(var c=Math.max(0,this.get("maxHistory")||10)||0;i.length>c;)i.pop();this.saveHistory(),this.select(e,n,null,r),n&&(this.setInput(this._getTitleTxt(e)),this.drawList_(),setTimeout((function(){this.collapse(!1)}).bind(this),300))}}saveHistory(){try{this.get("maxHistory")>=0?localStorage["ol@search-"+this._classname]=JSON.stringify(this.get("history")):localStorage.removeItem("ol@search-"+this._classname)}catch{console.warn("Failed to access localStorage...")}}restoreHistory(){if(this._history[this._classname])this.set("history",this._history[this._classname]);else try{this._history[this._classname]=JSON.parse(localStorage["ol@search-"+this._classname]),this.set("history",this._history[this._classname])}catch{this.set("history",[])}}clearHistory(){this.set("history",[]),this.saveHistory(),this.drawList_()}getHistory(){return this.get("history")}autocomplete(e,n){return n([]),!1}drawList_(e){var n=this,r=this.element.querySelector("ul.autocomplete");if(r.innerHTML="",this._list=[],e)r.setAttribute("class","autocomplete");else{var i=this.element.querySelector("input.search"),s=i.value;if(!s)e=this.get("history");else return;r.setAttribute("class","autocomplete history")}for(var l,c=Math.min(n.get("maxItems"),e.length),a=0;a<c;a++)if(e[a]&&(!a||!n.equalFeatures(e[a],e[a-1]))){l=document.createElement("LI"),l.setAttribute("data-search",this._list.length),this._list.push(e[a]),l.addEventListener("click",function(A){n._handleSelect(n._list[A.currentTarget.getAttribute("data-search")])});var f=n.getTitle(e[a]);f instanceof Element?l.appendChild(f):l.innerHTML=f,r.appendChild(l)}c&&this.get("copy")&&(l=document.createElement("LI"),l.classList.add("copy"),l.innerHTML=this.get("copy"),r.appendChild(l))}equalFeatures(){return!1}};Olt.prototype._history={};var v4=class extends Df{constructor(e){e=e||{};var n=cn.create("DIV",{className:(e.className||"ol-videorec")+" ol-unselectable ol-control"});super({element:n,target:e.target}),cn.create("BUTTON",{type:"button",className:"ol-start",title:v4.prototype.tips.start,click:(function(){this.start()}).bind(this),parent:n}),cn.create("BUTTON",{type:"button",className:"ol-stop",title:v4.prototype.tips.stop,click:(function(){this.stop()}).bind(this),parent:n}),cn.create("BUTTON",{type:"button",className:"ol-pause",title:v4.prototype.tips.pause,click:(function(){this.pause()}).bind(this),parent:n}),cn.create("BUTTON",{type:"button",className:"ol-resume",title:v4.prototype.tips.resume,click:(function(){this.resume()}).bind(this),parent:n}),this.set("framerate",30),this.set("videoBitsPerSecond",5e6),e.videoTarget==="DIALOG"?(this._dialog=new Zle({className:"ol-fullscreen-dialog",target:document.body,closeBox:!0}),this._videoTarget=this._dialog.getContentElement()):this._videoTarget=e.videoTarget,this._printCtrl=new Jle({target:cn.create("DIV")})}setTooltip(e,n){var r=this.element.querySelector("button.ol-"+e);r&&(r.title=n)}setMap(e){this.getMap()&&(this.getMap().removeControl(this._printCtrl),this._dialog&&this.getMap().removeControl(this._dialog)),super.setMap(e),this.getMap()&&(this.getMap().addControl(this._printCtrl),this._dialog&&this.getMap().addControl(this._dialog))}start(){var e=this._printCtrl,n=!1;function r(i){n||e.fastPrint({canvas:i},r)}e.fastPrint({},(function(i){var s;try{s=i.captureStream(this.get("framerate")||30)}catch(c){this.dispatchEvent({type:"error",error:c});return}this._mediaRecorder=new MediaRecorder(s,{videoBitsPerSecond:this.get("videoBitsPerSecond")||5e6});var l=[];this._mediaRecorder.ondataavailable=function(c){l.push(c.data)},this._mediaRecorder.onstop=(function(){n=!0;var c=new Blob(l,{type:"video/mp4"});if(l=[],this._videoTarget instanceof Element){var a;this._videoTarget.tagName==="VIDEO"?a=this._videoTarget:(a=this._videoTarget.querySelector("video"),a||(a=cn.create("VIDEO",{controls:"",parent:this._videoTarget}))),this._dialog&&this._dialog.show(),a.src=URL.createObjectURL(c),this.dispatchEvent({type:"stop",videoURL:a.src})}else this.dispatchEvent({type:"stop",videoURL:URL.createObjectURL(c)})}).bind(this),this._mediaRecorder.onpause=(function(){n=!0,this.dispatchEvent({type:"pause"})}).bind(this),this._mediaRecorder.onresume=(function(){n=!1,r(i),this.dispatchEvent({type:"resume"})}).bind(this),this._mediaRecorder.onerror=(function(c){this.dispatchEvent({type:"error",error:c})}).bind(this),n=!1,r(i),this._mediaRecorder.start(),this.dispatchEvent({type:"start",canvas:i}),this.element.setAttribute("data-state","rec")}).bind(this))}stop(){this._mediaRecorder&&(this._mediaRecorder.stop(),this._mediaRecorder=null,this.element.setAttribute("data-state","inactive"))}pause(){this._mediaRecorder&&(this._mediaRecorder.pause(),this.element.setAttribute("data-state","pause"))}resume(){this._mediaRecorder&&(this._mediaRecorder.resume(),this.element.setAttribute("data-state","rec"))}};v4.prototype.tips={start:"start video",stop:"stop",pause:"pause",resume:"resume"};var Lw=class extends Df{constructor(e){e=e||{};var n=n=cn.create("DIV",{className:e.className||"ol-mapzone"});if(super({element:n,target:e.target}),!e.target){["ol-unselectable","ol-control","ol-collapsed"].forEach(function(s){n.classList.add(s)});var r=cn.create("BUTTON",{type:"button",on:{click:(function(){n.classList.toggle("ol-collapsed"),i.forEach(function(s){s.updateSize()})}).bind(this)},parent:n});cn.create("I",{parent:r})}this.set("centerOnClick",e.centerOnClick);var i=this._maps=[];this._projection=e.projection,this._layer=e.layer,e.zones.forEach(this.addZone.bind(this)),setTimeout(function(){i.forEach(function(s){s.updateSize()})})}setCollapsed(e){e?(this.element.classList.remove("ol-collapsed"),this.getMaps().forEach(function(n){n.updateSize()})):this.element.classList.add("ol-collapsed")}setVisible(e){this.setCollapsed(!e)}getCollapsed(){return this.element.classList.contains("ol-collapsed")}getMaps(){return this._maps}getLength(){return this._maps.length}addZone(e){var n=new YA({zoom:6,center:[0,0],projection:this._projection}),r;e.map?r=DW(e.map.getView().calculateExtent(),e.map.getView().getProjection(),n.getProjection()):r=DW(e.extent,"EPSG:4326",n.getProjection());var i=cn.create("DIV",{className:"ol-mapzonezone",parent:this.element,click:(function(){var c=-1;this._maps.forEach(function(a,f){a.get("zone")===e&&(c=f)}),this.dispatchEvent({type:"select",zone:e,index:c,coordinate:qp(r),extent:r}),this.get("centerOnClick")!==!1&&this.getMap().getView().fit(r),this.setVisible(!1)}).bind(this)}),s;e.layer?s=e.layer:typeof this._layer=="function"?s=this._layer(e):s=new this._layer.constructor({source:this._layer.getSource()});var l=new ole({target:i,view:n,controls:[],interactions:[],layers:[s]});l.set("zone",e),this._maps.push(l),n.fit(r),cn.create("P",{html:e.title,parent:i})}removeZone(e){var n=this.element.querySelectorAll(".ol-mapzonezone")[e];n&&(n.remove(),this._maps.splice(e,1))}};Lw.zones={};Lw.zones.DOM=[{title:"Guadeloupe",extent:[-61.898594315312444,15.75623038647845,-60.957887532935324,16.575317670979473]},{title:"Guyane",extent:[-54.72525931072715,2.1603763430019,-51.528236062921344,5.7984307809552575]},{title:"Martinique",extent:[-61.257556528564756,14.387506317407514,-60.76934912110432,14.895067461729951]},{title:"Mayotte",extent:[44.959844536967815,-13.01674138212816,45.35328866510648,-12.65521942207829]},{title:"La runion",extent:[55.17059012967656,-21.407680069231688,55.88195702001797,-20.85560221637526]}];Lw.zones.TOM=[{title:"Polynsie Franaise",extent:[206.23664226630862,-22.189040615809787,221.85920743981987,-10.835039595040698]},{title:"Nouvelle Caldonie",extent:[163.76420580160925,-22.581641092751838,167.66984709498706,-19.816411635668445]},{title:"St-Pierre et Miquelon",extent:[-56.453698765748676,46.74449858188555,-56.0980198121544,47.14669874229787]},{title:"Wallis et Futuna",extent:[181.7588623143665,-14.7341169873267,183.95612353301715,-13.134720799175085]},{title:"St-Martin St-Barthlemy",extent:[-63.1726389501678,17.806097291313506,-62.7606535945649,18.13267688837938]}];Lw.zones.DOMTOM=[{title:"Mtropole",extent:[-5.318421740712579,41.16082274292913,9.73284186155716,51.21957336557702]}].concat(Lw.zones.DOM,Lw.zones.TOM);_f.prototype.splitAt=function(t,e){var n;if(!t)return[this];if(e||(e=1e-10),t.length&&t[0].length){var r=[this];for(n=0;n<t.length;n++){for(var i=[],s=0;s<r.length;s++){var l=r[s].splitAt(t[n],e);i=i.concat(l)}r=i}return r}if(Yx(t,this.getFirstCoordinate())||Yx(t,this.getLastCoordinate()))return[this];var c=this.getCoordinates(),a=[c[0]],f=[];for(n=0;n<c.length-1;n++)if(!Yx(c[n],c[n+1])){if(Yx(t,c[n+1]))a.push(c[n+1]),f.push(new _f(a)),a=[];else if(!Yx(t,c[n])){var A,m,_=!1;c[n][0]==c[n+1][0]?(A=(c[n][1]-t[1])/(c[n][1]-c[n+1][1]),_=c[n][0]==t[0]&&0<A&&A<=1):c[n][1]==c[n+1][1]?(A=(c[n][0]-t[0])/(c[n][0]-c[n+1][0]),_=c[n][1]==t[1]&&0<A&&A<=1):(A=(c[n][0]-t[0])/(c[n][0]-c[n+1][0]),m=(c[n][1]-t[1])/(c[n][1]-c[n+1][1]),_=Math.abs(A-m)<=e&&0<A&&A<=1),_&&(a.push(t),f.push(new _f(a)),a=[t])}a.push(c[n+1])}return a.length>1&&f.push(new _f(a)),f.length?f:[this]};var Dlt=class extends H2{constructor(e){e=e||{},super({handleDownEvent:function(r){return n.handleDownEvent_(r)},handleDragEvent:function(r){return this.handleDragEvent_(r)},handleMoveEvent:function(r){return this.handleMoveEvent_(r)},handleUpEvent:function(r){return this.handleUpEvent_(r)}});var n=this;this.selection_=new vf,this.handles_=new vf,this.overlayLayer_=new G7({source:new ble({features:this.handles_,useSpatialIndex:!1,wrapX:!1}),name:"Transform overlay",displayInLayerSwitcher:!1,style:function(r){return n.style[(r.get("handle")||"default")+(r.get("constraint")||"")+(r.get("option")||"")]},updateWhileAnimating:!0,updateWhileInteracting:!0}),this.features_=e.features,typeof e.filter=="function"&&(this._filter=e.filter),this.layers_=e.layers?e.layers instanceof Array?e.layers:[e.layers]:null,this._handleEvent=e.condition||function(){return!0},this.addFn_=e.addCondition||function(){return!1},this.setPointRadius(e.pointRadius),this.set("translateFeature",e.translateFeature!==!1),this.set("translate",e.translate!==!1),this.set("translateBBox",e.translateBBox===!0),this.set("stretch",e.stretch!==!1),this.set("scale",e.scale!==!1),this.set("rotate",e.rotate!==!1),this.set("keepAspectRatio",e.keepAspectRatio||function(r){return r.originalEvent.shiftKey}),this.set("modifyCenter",e.modifyCenter||function(r){return r.originalEvent.metaKey||r.originalEvent.ctrlKey}),this.set("noFlip",e.noFlip||!1),this.set("selection",e.selection!==!1),this.set("hitTolerance",e.hitTolerance||0),this.set("enableRotatedTransform",e.enableRotatedTransform||!1),this.set("keepRectangle",e.keepRectangle||!1),this.set("buffer",e.buffer||0),this.on("propertychange",function(){this.drawSketch_()}),this.setDefaultStyle()}setMap(e){var n=this.getMap();if(n){var r=n.getTargetElement();n.removeLayer(this.overlayLayer_),this.previousCursor_&&r&&(r.style.cursor=this.previousCursor_),this.previousCursor_=void 0}super.setMap(e),this.overlayLayer_.setMap(e),e===null&&this.select(null),e!==null&&(this.isTouch=/touch/.test(e.getViewport().className),this.setDefaultStyle())}setActive(e){this.select(null),this.overlayLayer_&&this.overlayLayer_.setVisible(e),super.setActive(e)}setDefaultStyle(e){e=e||{};var n=e.pointStroke||new zd({color:[255,0,0,1],width:1}),r=e.stroke||new zd({color:[255,0,0,1],width:1,lineDash:[4,4]}),i=e.fill||new wm({color:[255,0,0,.01]}),s=e.pointFill||new wm({color:[255,255,255,.8]}),l=new G_({fill:s,stroke:n,radius:this.isTouch?12:6,displacement:this.isTouch?[24,-24]:[12,-12],points:15});l.setDisplacement||(l.getAnchor()[0]=this.isTouch?-10:-5);var c=new G_({fill:s,stroke:n,radius:this.isTouch?16:8,points:4,angle:Math.PI/4}),a=new G_({fill:s,stroke:n,radius:this.isTouch?12:6,points:4,angle:Math.PI/4});function f(A,m,_){return[new Fc({image:A,stroke:m,fill:_})]}this.style={default:f(c,r,i),translate:f(c,n,s),rotate:f(l,n,s),rotate0:f(c,n,s),scale:f(c,n,s),scale1:f(c,n,s),scale2:f(c,n,s),scale3:f(c,n,s),scalev:f(a,n,s),scaleh1:f(a,n,s),scalev2:f(a,n,s),scaleh3:f(a,n,s)},this.drawSketch_()}setStyle(e,n){if(n){n instanceof Array?this.style[e]=n:this.style[e]=[n];for(var r=0;r<this.style[e].length;r++){var i=this.style[e][r].getImage();i&&(e=="rotate"&&(i.getAnchor()[0]=-5),this.isTouch&&i.setScale(1.8));var s=this.style[e][r].getText();s&&(e=="rotate"&&s.setOffsetX(this.isTouch?14:7),this.isTouch&&s.setScale(1.8))}this.drawSketch_()}}getFeatureAtPixel_(e){var n=this;return this.getMap().forEachFeatureAtPixel(e,function(r,i){var s=!1;if(!i){if(r===n.bbox_)return n.get("translateBBox")?{feature:r,handle:"translate",constraint:"",option:""}:!1;if(n.handles_.forEach(function(c){c===r&&(s=!0)}),s)return{feature:r,handle:r.get("handle"),constraint:r.get("constraint"),option:r.get("option")}}if(!n.get("selection"))return n.selection_.getArray().some(function(c){return r===c})?{feature:r}:null;if(n._filter)return n._filter(r,i)?{feature:r}:null;if(n.layers_){for(var l=0;l<n.layers_.length;l++)if(n.layers_[l]===i)return{feature:r};return null}else return n.features_?(n.features_.forEach(function(c){c===r&&(s=!0)}),s?{feature:r}:null):{feature:r}},{hitTolerance:this.get("hitTolerance")})||{}}getGeometryRotateToZero_(e,n){var r=e.getGeometry(),i=this.getMap().getView().getRotation();if(i===0||!this.get("enableRotatedTransform"))return n?r.clone():r;var s=r.clone();return s.rotate(i*-1,this.getMap().getView().getCenter()),s}_isRectangle(e){if(this.get("keepRectangle")&&e.getType()==="Polygon"){var n=e.getCoordinates()[0];return n.length===5}return!1}drawSketch_(e){var n,r,i,s=this.selection_.item(0)&&this._isRectangle(this.selection_.item(0).getGeometry());if(this.overlayLayer_.getSource().clear(),!!this.selection_.getLength()){var l=this.getMap().getView().getRotation(),c=this.getGeometryRotateToZero_(this.selection_.item(0)).getExtent(),a;s&&(a=this.getGeometryRotateToZero_(this.selection_.item(0)).getCoordinates()[0].slice(0,4),a.unshift(a[3])),c=Wp(c,this.get("buffer")),this.selection_.forEach((function(E){var P=this.getGeometryRotateToZero_(E).getExtent();FS(c,P)}).bind(this));var f=this.selection_.getLength()===1?this._pointRadius(this.selection_.item(0)):0;if(f&&!(f instanceof Array)&&(f=[f,f]),e===!0)this.ispt_||(this.overlayLayer_.getSource().addFeature(new QA({geometry:new Fp(this.center_),handle:"rotate0"})),i=lw(c),this.get("enableRotatedTransform")&&l!==0&&i.rotate(l,this.getMap().getView().getCenter()),r=this.bbox_=new QA(i),this.overlayLayer_.getSource().addFeature(r));else{if(this.ispt_){var A=this.getMap().getPixelFromCoordinate([c[0],c[1]]);if(A){var m=f&&f[0]||10,_=f&&f[1]||10;c=OT([this.getMap().getCoordinateFromPixel([A[0]-m,A[1]-_]),this.getMap().getCoordinateFromPixel([A[0]+m,A[1]+_])])}}i=s?new Pf([a]):lw(c),this.get("enableRotatedTransform")&&l!==0&&i.rotate(l,this.getMap().getView().getCenter()),r=this.bbox_=new QA(i);var y=[],T=i.getCoordinates()[0];if(!this.ispt_||f){if(y.push(r),!this.iscircle_&&!this.ispt_&&this.get("stretch")&&this.get("scale"))for(n=0;n<T.length-1;n++)r=new QA({geometry:new Fp([(T[n][0]+T[n+1][0])/2,(T[n][1]+T[n+1][1])/2]),handle:"scale",constraint:n%2?"h":"v",option:n}),y.push(r);if(this.get("scale"))for(n=0;n<T.length-1;n++)r=new QA({geometry:new Fp(T[n]),handle:"scale",option:n}),y.push(r);this.get("translate")&&!this.get("translateFeature")&&(r=new QA({geometry:new Fp([(T[0][0]+T[2][0])/2,(T[0][1]+T[2][1])/2]),handle:"translate"}),y.push(r))}!this.iscircle_&&this.get("rotate")&&(r=new QA({geometry:new Fp(T[3]),handle:"rotate"}),y.push(r)),this.overlayLayer_.getSource().addFeatures(y)}}}select(e,n){if(!e){this.selection_&&(this.selection_.clear(),this.drawSketch_());return}if(!(!e.getGeometry||!e.getGeometry())){if(n)this.selection_.push(e);else{var r=this.selection_.getArray().indexOf(e);this.selection_.removeAt(r)}this.ispt_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Point":!1,this.iscircle_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Circle":!1,this.drawSketch_(),this.watchFeatures_(),this.dispatchEvent({type:"select",feature:e,features:this.selection_})}}setSelection(e){this.selection_.clear(),e.forEach((function(n){this.selection_.push(n)}).bind(this)),this.ispt_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Point":!1,this.iscircle_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Circle":!1,this.drawSketch_(),this.watchFeatures_(),this.dispatchEvent({type:"select",features:this.selection_})}watchFeatures_(){this._featureListeners&&this._featureListeners.forEach(function(e){_m(e)}),this._featureListeners=[],this.selection_.forEach((function(e){this._featureListeners.push(e.on("change",(function(){this.isUpdating_||this.drawSketch_()}).bind(this)))}).bind(this))}handleDownEvent_(e){if(this._handleEvent(e,this.selection_)){var n=this.getFeatureAtPixel_(e.pixel),r=n.feature;if(this.selection_.getLength()&&this.selection_.getArray().indexOf(r)>=0&&(this.ispt_&&this.get("translate")||this.get("translateFeature"))&&(n.handle="translate"),n.handle){this.mode_=n.handle,this.opt_=n.option,this.constraint_=n.constraint;var i=this.getMap().getView().getRotation();this.coordinate_=r.get("handle")?r.getGeometry().getCoordinates():e.coordinate,this.pixel_=this.getMap().getCoordinateFromPixel(this.coordinate_),this.geoms_=[],this.rotatedGeoms_=[];for(var s=sc(),l=sc(),c=0,a;a=this.selection_.item(c);c++)if(this.geoms_.push(a.getGeometry().clone()),s=FS(s,a.getGeometry().getExtent()),this.get("enableRotatedTransform")&&i!==0){var f=this.getGeometryRotateToZero_(a,!0);this.rotatedGeoms_.push(f),l=FS(l,f.getExtent())}if(this.extent_=lw(s).getCoordinates()[0],this.get("enableRotatedTransform")&&i!==0&&(this.rotatedExtent_=lw(l).getCoordinates()[0]),this.mode_==="rotate"){this.center_=this.getCenter()||qp(s);var A=e.map.getTargetElement();A.style.cursor=this.Cursors.rotate0,this.previousCursor_=A.style.cursor}else this.center_=qp(s);return this.angle_=Math.atan2(this.center_[1]-e.coordinate[1],this.center_[0]-e.coordinate[0]),this.dispatchEvent({type:this.mode_+"start",feature:this.selection_.item(0),features:this.selection_,pixel:e.pixel,coordinate:e.coordinate}),!0}else if(this.get("selection")){if(r){this.addFn_(e)||this.selection_.clear();var m=this.selection_.getArray().indexOf(r);m<0?this.selection_.push(r):this.selection_.removeAt(m)}else this.selection_.clear();return this.ispt_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Point":!1,this.iscircle_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Circle":!1,this.drawSketch_(),this.watchFeatures_(),this.dispatchEvent({type:"select",feature:r,features:this.selection_,pixel:e.pixel,coordinate:e.coordinate}),!1}}}getCenter(){return this.get("center")}setCenter(e){return this.set("center",e)}handleDragEvent_(e){if(this._handleEvent(e,this.features_)){var n=this.getMap().getView().getRotation(),r,i,s,l,c=[this.coordinate_[0],this.coordinate_[1]],a=[e.coordinate[0],e.coordinate[1]];switch(this.isUpdating_=!0,this.mode_){case"rotate":{var f=Math.atan2(this.center_[1]-a[1],this.center_[0]-a[0]);if(!this.ispt)for(r=0,s;s=this.selection_.item(r);r++)l=this.geoms_[r].clone(),l.rotate(f-this.angle_,this.center_),l.getType()=="Circle"&&l.setCenterAndRadius(l.getCenter(),l.getRadius()),s.setGeometry(l);this.drawSketch_(!0),this.dispatchEvent({type:"rotating",feature:this.selection_.item(0),features:this.selection_,angle:f-this.angle_,pixel:e.pixel,coordinate:e.coordinate});break}case"translate":{var A=a[0]-c[0],m=a[1]-c[1];for(r=0,s;s=this.selection_.item(r);r++)s.getGeometry().translate(A,m);this.handles_.forEach(function(K){K.getGeometry().translate(A,m)}),this.coordinate_=e.coordinate,this.dispatchEvent({type:"translating",feature:this.selection_.item(0),features:this.selection_,delta:[A,m],pixel:e.pixel,coordinate:e.coordinate});break}case"scale":{var _=this.center_;if(this.get("modifyCenter")(e)){var y=this.extent_;this.get("enableRotatedTransform")&&n!==0&&(y=this.rotatedExtent_),_=y[(Number(this.opt_)+2)%4]}var T=this.geoms_.length==1&&this._isRectangle(this.geoms_[0]),E=this.constraint_,P=this.opt_,I=this.coordinate_,F=e.coordinate;if(this.get("enableRotatedTransform")&&n!==0){var R=new Fp(this.coordinate_);R.rotate(n*-1,_),I=R.getCoordinates();var N=new Fp(e.coordinate);N.rotate(n*-1,_),F=N.getCoordinates()}var z=(F[0]-_[0])/(I[0]-_[0]),Q=(F[1]-_[1])/(I[1]-_[1]),j=[F[0]-I[0],F[1]-I[1]];if(this.get("enableRotatedTransform")&&n!==0){var H=new Fp(_);H.rotate(n*-1,this.getMap().getView().getCenter()),_=H.getCoordinates()}for(this.get("noFlip")&&(z<0&&(z=-z),Q<0&&(Q=-Q)),this.constraint_?this.constraint_=="h"?z=1:Q=1:this.get("keepAspectRatio")(e)&&(z=Q=Math.min(z,Q)),r=0,s;s=this.selection_.item(r);r++)l=n===0||!this.get("enableRotatedTransform")?this.geoms_[r].clone():this.rotatedGeoms_[r].clone(),l.applyTransform((function(K,ie,q){if(q<2)return ie;if(T){var W=[[6],[0,8],[2],[4]],ee=[K[0],K[1]],ue=[K[2],K[3]],J=[K[4],K[5]],te=[K[6],K[7]],ne=[K[8],K[9]];if(E){var he=P%2===0?this._countVector(ee,ue):this._countVector(te,ee),ce=this._projectVectorOnVector(j,he),ye=P+1<W.length?P+1:0,Ee=[...W[P],...W[ye]];for(i=0;i<K.length;i+=q)ie[i]=Ee.includes(i)?K[i]+ce[0]:K[i],ie[i+1]=Ee.includes(i)?K[i+1]+ce[1]:K[i+1]}else{var se,oe;switch(P){case 0:j=this._countVector(te,F),se=this._projectVectorOnVector(j,this._countVector(J,te)),oe=this._projectVectorOnVector(j,this._countVector(ee,te)),[ie[0],ie[1]]=this._movePoint(ee,se),[ie[4],ie[5]]=this._movePoint(J,oe),[ie[6],ie[7]]=this._movePoint(te,j),[ie[8],ie[9]]=this._movePoint(ne,se);break;case 1:j=this._countVector(ee,F),se=this._projectVectorOnVector(j,this._countVector(te,ee)),oe=this._projectVectorOnVector(j,this._countVector(ue,ee)),[ie[0],ie[1]]=this._movePoint(ee,j),[ie[2],ie[3]]=this._movePoint(ue,se),[ie[6],ie[7]]=this._movePoint(te,oe),[ie[8],ie[9]]=this._movePoint(ne,j);break;case 2:j=this._countVector(ue,F),se=this._projectVectorOnVector(j,this._countVector(ee,ue)),oe=this._projectVectorOnVector(j,this._countVector(J,ue)),[ie[0],ie[1]]=this._movePoint(ee,oe),[ie[2],ie[3]]=this._movePoint(ue,j),[ie[4],ie[5]]=this._movePoint(J,se),[ie[8],ie[9]]=this._movePoint(ne,oe);break;case 3:j=this._countVector(J,F),se=this._projectVectorOnVector(j,this._countVector(ue,J)),oe=this._projectVectorOnVector(j,this._countVector(te,J)),[ie[2],ie[3]]=this._movePoint(ue,oe),[ie[4],ie[5]]=this._movePoint(J,j),[ie[6],ie[7]]=this._movePoint(te,se);break}}}else for(i=0;i<K.length;i+=q)z!=1&&(ie[i]=_[0]+(K[i]-_[0])*z),Q!=1&&(ie[i+1]=_[1]+(K[i+1]-_[1])*Q);return l.getType()=="Circle"&&l.setCenterAndRadius(l.getCenter(),l.getRadius()),ie}).bind(this)),this.get("enableRotatedTransform")&&n!==0&&l.rotate(n,this.getMap().getView().getCenter()),s.setGeometry(l);this.drawSketch_(),this.dispatchEvent({type:"scaling",feature:this.selection_.item(0),features:this.selection_,scale:[z,Q],pixel:e.pixel,coordinate:e.coordinate});break}}this.isUpdating_=!1}}handleMoveEvent_(e){if(this._handleEvent(e,this.features_)&&!this.mode_){var n=this.getFeatureAtPixel_(e.pixel),r=e.map.getTargetElement();if(n.feature){var i=n.handle?this.Cursors[(n.handle||"default")+(n.constraint||"")+(n.option||"")]:this.Cursors.select;this.previousCursor_===void 0&&(this.previousCursor_=r.style.cursor),r.style.cursor=i}else this.previousCursor_!==void 0&&(r.style.cursor=this.previousCursor_),this.previousCursor_=void 0}}handleUpEvent_(e){if(this.mode_==="rotate"){var n=e.map.getTargetElement();n.style.cursor=this.Cursors.default,this.previousCursor_=void 0}return this.dispatchEvent({type:this.mode_+"end",feature:this.selection_.item(0),features:this.selection_,oldgeom:this.geoms_[0],oldgeoms:this.geoms_}),this.drawSketch_(),this.mode_=null,!1}setPointRadius(e){typeof e=="function"?this._pointRadius=e:this._pointRadius=function(){return e}}getFeatures(){return this.selection_}_projectVectorOnVector(e,n){var r=(e[0]*n[0]+e[1]*n[1])/(n[0]*n[0]+n[1]*n[1]);return[n[0]*r,n[1]*r]}_countVector(e,n){return[n[0]-e[0],n[1]-e[1]]}_movePoint(e,n){return[e[0]+n[0],e[1]+n[1]]}};Dlt.prototype.Cursors={default:"auto",select:"pointer",translate:"move",rotate:"move",rotate0:"move",scale:"nesw-resize",scale1:"nwse-resize",scale2:"nesw-resize",scale3:"nwse-resize",scalev:"ew-resize",scaleh1:"ns-resize",scalev2:"ew-resize",scaleh3:"ns-resize"};var nue=class extends Of{constructor(e){e=e||{},super(),this.duration_=typeof e.duration=="number"?e.duration>=0?e.duration:0:1e3,this.fade_=typeof e.fade=="function"?e.fade:null,this.repeat_=Number(e.repeat);var n=typeof e.easing=="function"?e.easing:Roe;e.revers?this.easing_=function(r){return 1-n(r)}:this.easing_=n,this.hiddenStyle=e.hiddenStyle}drawGeom_(e,n,r){var i={type:"drawing",time:e.time,feature:e.feature,start:e.start,stop:e.stop,rotation:e.rotation,style:e.style,extra:e.extra};this.dispatchEvent(i);var s=i.style instanceof Array?i.style:[i.style];this.fade_&&(e.context.globalAlpha=this.fade_(1-e.elapsed));for(var l=0;l<s.length;l++)try{var c=e.vectorContext||Fle(e),a=wot(e,s[l]);c.setStyle(a),a.getZIndex()<0?c.drawGeometry(r||n):c.drawGeometry(n)}catch{}}animate(){return!1}};nue.hiddenStyle=new Fc({image:new Y6({}),stroke:new zd({color:"transparent"})});ole.prototype.animateFeature=function(t,e){var n=this._featureAnimationLayer;n||(n=this._featureAnimationLayer=new G7({source:new ble}),n.setMap(this)),n.getSource().addFeature(t);var r=e.on("animationend",function(i){i.feature===t&&(n.getSource().removeFeature(t),_m(r))});n.animateFeature(t,e)};C7.prototype.animateFeature=function(t,e,n){var r=this,i,s=t.getStyle(),l=s||(this.getStyleFunction?this.getStyleFunction()(t):null);l||(l=[]),l instanceof Array||(l=[l]);var c={vectorContext:null,frameState:null,start:0,time:0,elapsed:0,extent:!1,feature:t,geom:t.getGeometry(),typeGeom:t.getGeometry().getType(),bbox:t.getGeometry().getExtent(),coord:qp(t.getGeometry().getExtent()),style:l};e instanceof Array||(e=[e]);for(var a=e.length-1;a>=0;a--)e[a].duration_===0&&e.splice(a,1);var f=0,A=0,m=n&&this.getFilters?this.getFilters():[];function _(E){c.type=E.type;try{c.vectorContext=E.vectorContext||Fle(E)}catch{}if(c.frameState=E.frameState,c.inversePixelTransform=E.inversePixelTransform,c.extent||(c.extent=E.frameState.extent,c.start=E.frameState.time,c.context=E.context),c.time=E.frameState.time-c.start,c.elapsed=c.time/e[A].duration_,c.elapsed>1&&(c.elapsed=1),E.context.save(),m.forEach(function(I){I.get("active")&&I.precompose(E)}),this.getOpacity&&(E.context.globalAlpha=this.getOpacity()),!e[A].animate(c))f++,f<e[A].repeat_?c.extent=!1:A<e.length-1?(e[A].dispatchEvent({type:"animationend",feature:t}),A++,f=0,c.extent=!1):y();else{var P={type:"animating",step:A,start:c.start,time:c.time,elapsed:c.elapsed,rotation:c.rotation||0,geom:c.geom,coordinate:c.coord,feature:t,extra:c.extra||{},style:l};e[A].dispatchEvent(P),r.dispatchEvent(P)}m.forEach(function(I){I.get("active")&&I.postcompose(E)}),E.context.restore(),E.frameState.animate=!0}function y(E){_m(i),i=null,t.setStyle(s),c.stop=new Date().getTime();var P={type:"animationend",feature:t};if(E)for(var I in E)E.hasOwnProperty(I)&&(P[I]=E[I]);e[A].dispatchEvent(P),r.dispatchEvent(P)}function T(E){if(e.length&&!i){if(c.stop&&(c.start=new Date().getTime()-c.stop+c.start,c.stop=0),i=r.on(["postcompose","postrender"],_.bind(r)),r.renderSync)try{r.renderSync()}catch{}else r.changed();t.setStyle(e[A].hiddenStyle||nue.hiddenStyle);var P={type:"animationstart",feature:t};if(E)for(var I in E)E.hasOwnProperty(I)&&(P[I]=E[I]);e[A].dispatchEvent(P),r.dispatchEvent(P)}}return T(),{start:T,stop:y,isPlaying:function(){return!!i}}};var Nlt=Object.defineProperty,Ult=(t,e,n)=>e in t?Nlt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,QB=(t,e,n)=>(Ult(t,typeof e!="symbol"?e+"":e,n),n);function zlt(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}var hy=1,dy=2,Pw=3,$lt=4,qR=5,Oq=6378137,Vlt=6356752314e-3,Dq=.0066943799901413165,rC=484813681109536e-20,Lr=Math.PI/2,Hlt=.16666666666666666,Qlt=.04722222222222222,jlt=.022156084656084655,ei=1e-10,Xu=.017453292519943295,nm=57.29577951308232,Rs=Math.PI/4,d6=Math.PI*2,El=3.14159265359,Hh={};Hh.greenwich=0;Hh.lisbon=-9.131906111111;Hh.paris=2.337229166667;Hh.bogota=-74.080916666667;Hh.madrid=-3.687938888889;Hh.rome=12.452333333333;Hh.bern=7.439583333333;Hh.jakarta=106.807719444444;Hh.ferro=-17.666666666667;Hh.brussels=4.367975;Hh.stockholm=18.058277777778;Hh.athens=23.7163375;Hh.oslo=10.722916666667;const Glt={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var Nq=/[\s_\-\/\(\)]/g;function i1(t,e){if(t[e])return t[e];for(var n=Object.keys(t),r=e.toLowerCase().replace(Nq,""),i=-1,s,l;++i<n.length;)if(s=n[i],l=s.toLowerCase().replace(Nq,""),l===r)return t[s]}function YR(t){var e={},n=t.split("+").map(function(c){return c.trim()}).filter(function(c){return c}).reduce(function(c,a){var f=a.split("=");return f.push(!0),c[f[0].toLowerCase()]=f[1],c},{}),r,i,s,l={proj:"projName",datum:"datumCode",rf:function(c){e.rf=parseFloat(c)},lat_0:function(c){e.lat0=c*Xu},lat_1:function(c){e.lat1=c*Xu},lat_2:function(c){e.lat2=c*Xu},lat_ts:function(c){e.lat_ts=c*Xu},lon_0:function(c){e.long0=c*Xu},lon_1:function(c){e.long1=c*Xu},lon_2:function(c){e.long2=c*Xu},alpha:function(c){e.alpha=parseFloat(c)*Xu},gamma:function(c){e.rectified_grid_angle=parseFloat(c)},lonc:function(c){e.longc=c*Xu},x_0:function(c){e.x0=parseFloat(c)},y_0:function(c){e.y0=parseFloat(c)},k_0:function(c){e.k0=parseFloat(c)},k:function(c){e.k0=parseFloat(c)},a:function(c){e.a=parseFloat(c)},b:function(c){e.b=parseFloat(c)},r:function(c){e.a=e.b=parseFloat(c)},r_a:function(){e.R_A=!0},zone:function(c){e.zone=parseInt(c,10)},south:function(){e.utmSouth=!0},towgs84:function(c){e.datum_params=c.split(",").map(function(a){return parseFloat(a)})},to_meter:function(c){e.to_meter=parseFloat(c)},units:function(c){e.units=c;var a=i1(Glt,c);a&&(e.to_meter=a.to_meter)},from_greenwich:function(c){e.from_greenwich=c*Xu},pm:function(c){var a=i1(Hh,c);e.from_greenwich=(a||parseFloat(c))*Xu},nadgrids:function(c){c==="@null"?e.datumCode="none":e.nadgrids=c},axis:function(c){var a="ewnsud";c.length===3&&a.indexOf(c.substr(0,1))!==-1&&a.indexOf(c.substr(1,1))!==-1&&a.indexOf(c.substr(2,1))!==-1&&(e.axis=c)},approx:function(){e.approx=!0}};for(r in n)i=n[r],r in l?(s=l[r],typeof s=="function"?s(i):e[s]=i):e[r]=i;return typeof e.datumCode=="string"&&e.datumCode!=="WGS84"&&(e.datumCode=e.datumCode.toLowerCase()),e}var f6=1,rue=2,iue=3,ZT=4,aue=5,rU=-1,Klt=/\s/,Wlt=/[A-Za-z]/,qlt=/[A-Za-z84_]/,jB=/[,\]]/,sue=/[\d\.E\-\+]/;function p0(t){if(typeof t!="string")throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=f6}p0.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==ZT)for(;Klt.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case f6:return this.neutral(t);case rue:return this.keyword(t);case ZT:return this.quoted(t);case aue:return this.afterquote(t);case iue:return this.number(t);case rU:return}};p0.prototype.afterquote=function(t){if(t==='"'){this.word+='"',this.state=ZT;return}if(jB.test(t)){this.word=this.word.trim(),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in afterquote yet, index '+this.place)};p0.prototype.afterItem=function(t){if(t===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=f6;return}if(t==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=f6,this.currentObject=this.stack.pop(),this.currentObject||(this.state=rU);return}};p0.prototype.number=function(t){if(sue.test(t)){this.word+=t;return}if(jB.test(t)){this.word=parseFloat(this.word),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in number yet, index '+this.place)};p0.prototype.quoted=function(t){if(t==='"'){this.state=aue;return}this.word+=t};p0.prototype.keyword=function(t){if(qlt.test(t)){this.word+=t;return}if(t==="["){var e=[];e.push(this.word),this.level++,this.root===null?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=f6;return}if(jB.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in keyword yet, index '+this.place)};p0.prototype.neutral=function(t){if(Wlt.test(t)){this.word=t,this.state=rue;return}if(t==='"'){this.word="",this.state=ZT;return}if(sue.test(t)){this.word=t,this.state=iue;return}if(jB.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in neutral yet, index '+this.place)};p0.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===rU)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function Ylt(t){var e=new p0(t);return e.output()}function Uq(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var r=e?{}:t,i=n.reduce(function(s,l){return cw(l,s),s},r);e&&(t[e]=i)}function cw(t,e){if(!Array.isArray(t)){e[t]=!0;return}var n=t.shift();if(n==="PARAMETER"&&(n=t.shift()),t.length===1){if(Array.isArray(t[0])){e[n]={},cw(t[0],e[n]);return}e[n]=t[0];return}if(!t.length){e[n]=!0;return}if(n==="TOWGS84"){e[n]=t;return}if(n==="AXIS"){n in e||(e[n]=[]),e[n].push(t);return}Array.isArray(n)||(e[n]={});var r;switch(n){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[n]={name:t[0].toLowerCase(),convert:t[1]},t.length===3&&cw(t[2],e[n]);return;case"SPHEROID":case"ELLIPSOID":e[n]={name:t[0],a:t[1],rf:t[2]},t.length===4&&cw(t[3],e[n]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":t[0]=["name",t[0]],Uq(e,n,t);return;default:for(r=-1;++r<t.length;)if(!Array.isArray(t[r]))return cw(t,e[n]);return Uq(e,n,t)}}var Xlt=.017453292519943295;function Zlt(t,e){var n=e[0],r=e[1];!(n in t)&&r in t&&(t[n]=t[r],e.length===3&&(t[n]=e[2](t[n])))}function NA(t){return t*Xlt}function Jlt(t){if(t.type==="GEOGCS"?t.projName="longlat":t.type==="LOCAL_CS"?(t.projName="identity",t.local=!0):typeof t.PROJECTION=="object"?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var e="",n=0,r=t.AXIS.length;n<r;++n){var i=[t.AXIS[n][0].toLowerCase(),t.AXIS[n][1].toLowerCase()];i[0].indexOf("north")!==-1||(i[0]==="y"||i[0]==="lat")&&i[1]==="north"?e+="n":i[0].indexOf("south")!==-1||(i[0]==="y"||i[0]==="lat")&&i[1]==="south"?e+="s":i[0].indexOf("east")!==-1||(i[0]==="x"||i[0]==="lon")&&i[1]==="east"?e+="e":(i[0].indexOf("west")!==-1||(i[0]==="x"||i[0]==="lon")&&i[1]==="west")&&(e+="w")}e.length===2&&(e+="u"),e.length===3&&(t.axis=e)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),t.units==="metre"&&(t.units="meter"),t.UNIT.convert&&(t.type==="GEOGCS"?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var s=t.GEOGCS;t.type==="GEOGCS"&&(s=t),s&&(s.DATUM?t.datumCode=s.DATUM.name.toLowerCase():t.datumCode=s.name.toLowerCase(),t.datumCode.slice(0,2)==="d_"&&(t.datumCode=t.datumCode.slice(2)),(t.datumCode==="new_zealand_geodetic_datum_1949"||t.datumCode==="new_zealand_1949")&&(t.datumCode="nzgd49"),(t.datumCode==="wgs_1984"||t.datumCode==="world_geodetic_system_1984")&&(t.PROJECTION==="Mercator_Auxiliary_Sphere"&&(t.sphere=!0),t.datumCode="wgs84"),t.datumCode.slice(-6)==="_ferro"&&(t.datumCode=t.datumCode.slice(0,-6)),t.datumCode.slice(-8)==="_jakarta"&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(t.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),t.ellps.toLowerCase().slice(0,13)==="international"&&(t.ellps="intl"),t.a=s.DATUM.SPHEROID.a,t.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(t.datum_params=s.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),t.datumCode==="ch1903+"&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a);function l(f){var A=t.to_meter||1;return f*A}var c=function(f){return Zlt(t,f)},a=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",NA],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",NA],["x0","false_easting",l],["y0","false_northing",l],["long0","central_meridian",NA],["lat0","latitude_of_origin",NA],["lat0","standard_parallel_1",NA],["lat1","standard_parallel_1",NA],["lat2","standard_parallel_2",NA],["azimuth","Azimuth"],["alpha","azimuth",NA],["srsCode","name"]];a.forEach(c),!t.long0&&t.longc&&(t.projName==="Albers_Conic_Equal_Area"||t.projName==="Lambert_Azimuthal_Equal_Area")&&(t.long0=t.longc),!t.lat_ts&&t.lat1&&(t.projName==="Stereographic_South_Pole"||t.projName==="Polar Stereographic (variant B)")?(t.lat0=NA(t.lat1>0?90:-90),t.lat_ts=t.lat1):!t.lat_ts&&t.lat0&&t.projName==="Polar_Stereographic"&&(t.lat_ts=t.lat0,t.lat0=NA(t.lat0>0?90:-90))}function oue(t){var e=Ylt(t),n=e.shift(),r=e.shift();e.unshift(["name",r]),e.unshift(["type",n]);var i={};return cw(e,i),Jlt(i),i}function Jc(t){var e=this;if(arguments.length===2){var n=arguments[1];typeof n=="string"?n.charAt(0)==="+"?Jc[t]=YR(arguments[1]):Jc[t]=oue(arguments[1]):Jc[t]=n}else if(arguments.length===1){if(Array.isArray(t))return t.map(function(r){Array.isArray(r)?Jc.apply(e,r):Jc(r)});if(typeof t=="string"){if(t in Jc)return Jc[t]}else"EPSG"in t?Jc["EPSG:"+t.EPSG]=t:"ESRI"in t?Jc["ESRI:"+t.ESRI]=t:"IAU2000"in t?Jc["IAU2000:"+t.IAU2000]=t:console.log(t);return}}zlt(Jc);function eut(t){return typeof t=="string"}function tut(t){return t in Jc}var nut=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function rut(t){return nut.some(function(e){return t.indexOf(e)>-1})}var iut=["3857","900913","3785","102113"];function aut(t){var e=i1(t,"authority");if(e){var n=i1(e,"epsg");return n&&iut.indexOf(n)>-1}}function sut(t){var e=i1(t,"extension");if(e)return i1(e,"proj4")}function out(t){return t[0]==="+"}function lut(t){if(eut(t)){if(tut(t))return Jc[t];if(rut(t)){var e=oue(t);if(aut(e))return Jc["EPSG:3857"];var n=sut(e);return n?YR(n):e}if(out(t))return YR(t)}else return t}function zq(t,e){t=t||{};var n,r;if(!e)return t;for(r in e)n=e[r],n!==void 0&&(t[r]=n);return t}function xm(t,e,n){var r=t*e;return n/Math.sqrt(1-r*r)}function n5(t){return t<0?-1:1}function ui(t){return Math.abs(t)<=El?t:t-n5(t)*d6}function Qp(t,e,n){var r=t*n,i=.5*t;return r=Math.pow((1-r)/(1+r),i),Math.tan(.5*(Lr-e))/r}function p6(t,e){for(var n=.5*t,r,i,s=Lr-2*Math.atan(e),l=0;l<=15;l++)if(r=t*Math.sin(s),i=Lr-2*Math.atan(e*Math.pow((1-r)/(1+r),n))-s,s+=i,Math.abs(i)<=1e-10)return s;return-9999}function uut(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=xm(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function cut(t){var e=t.x,n=t.y;if(n*nm>90&&n*nm<-90&&e*nm>180&&e*nm<-180)return null;var r,i;if(Math.abs(Math.abs(n)-Lr)<=ei)return null;if(this.sphere)r=this.x0+this.a*this.k0*ui(e-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(Rs+.5*n));else{var s=Math.sin(n),l=Qp(this.e,n,s);r=this.x0+this.a*this.k0*ui(e-this.long0),i=this.y0-this.a*this.k0*Math.log(l)}return t.x=r,t.y=i,t}function hut(t){var e=t.x-this.x0,n=t.y-this.y0,r,i;if(this.sphere)i=Lr-2*Math.atan(Math.exp(-n/(this.a*this.k0)));else{var s=Math.exp(-n/(this.a*this.k0));if(i=p6(this.e,s),i===-9999)return null}return r=ui(this.long0+e/(this.a*this.k0)),t.x=r,t.y=i,t}var dut=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const fut={init:uut,forward:cut,inverse:hut,names:dut};function put(){}function $q(t){return t}var Aut=["longlat","identity"];const mut={init:put,forward:$q,inverse:$q,names:Aut};var gut=[fut,mut],OS={},JT=[];function lue(t,e){var n=JT.length;return t.names?(JT[n]=t,t.names.forEach(function(r){OS[r.toLowerCase()]=n}),this):(console.log(e),!0)}function vut(t){if(!t)return!1;var e=t.toLowerCase();if(typeof OS[e]<"u"&&JT[OS[e]])return JT[OS[e]]}function _ut(){gut.forEach(lue)}const yut={start:_ut,add:lue,get:vut};var xa={};xa.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"};xa.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"};xa.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"};xa.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"};xa.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"};xa.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"};xa.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"};xa.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"};xa.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"};xa.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"};xa.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"};xa.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"};xa.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"};xa.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"};xa.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."};xa.clrk80ign={a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"};xa.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"};xa.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"};xa.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"};xa.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"};xa.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"};xa.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"};xa.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"};xa.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"};xa.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"};xa.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"};xa.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"};xa.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"};xa.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"};xa.hough={a:6378270,rf:297,ellipseName:"Hough"};xa.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"};xa.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"};xa.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"};xa.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"};xa.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"};xa.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"};xa.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"};xa.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"};xa.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"};xa.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"};xa.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"};xa.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var but=xa.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};xa.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function wut(t,e,n,r){var i=t*t,s=e*e,l=(i-s)/i,c=0;r?(t*=1-l*(Hlt+l*(Qlt+l*jlt)),i=t*t,l=0):c=Math.sqrt(l);var a=(i-s)/s;return{es:l,e:c,ep2:a}}function xut(t,e,n,r,i){if(!t){var s=i1(xa,r);s||(s=but),t=s.a,e=s.b,n=s.rf}return n&&!e&&(e=(1-1/n)*t),(n===0||Math.abs(t-e)<ei)&&(i=!0,e=t),{a:t,b:e,rf:n,sphere:i}}var xu={};xu.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"};xu.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"};xu.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"};xu.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"};xu.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"};xu.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"};xu.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"};xu.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"};xu.militargeographische_institut={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"};xu.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"};xu.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"};xu.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"};xu.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"};xu.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"};xu.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"};xu.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"};xu.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"};xu.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function Cut(t,e,n,r,i,s,l){var c={};return t===void 0||t==="none"?c.datum_type=qR:c.datum_type=$lt,e&&(c.datum_params=e.map(parseFloat),(c.datum_params[0]!==0||c.datum_params[1]!==0||c.datum_params[2]!==0)&&(c.datum_type=hy),c.datum_params.length>3&&(c.datum_params[3]!==0||c.datum_params[4]!==0||c.datum_params[5]!==0||c.datum_params[6]!==0)&&(c.datum_type=dy,c.datum_params[3]*=rC,c.datum_params[4]*=rC,c.datum_params[5]*=rC,c.datum_params[6]=c.datum_params[6]/1e6+1)),l&&(c.datum_type=Pw,c.grids=l),c.a=n,c.b=r,c.es=i,c.ep2=s,c}var uue={};function Eut(t,e){var n=new DataView(e),r=But(n),i=Mut(n,r),s=Iut(n,i,r),l={header:i,subgrids:s};return uue[t]=l,l}function Sut(t){if(t===void 0)return null;var e=t.split(",");return e.map(Tut)}function Tut(t){if(t.length===0)return null;var e=t[0]==="@";return e&&(t=t.slice(1)),t==="null"?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:uue[t]||null,isNull:!1}}function hw(t){return t/3600*Math.PI/180}function But(t){var e=t.getInt32(8,!1);return e===11?!1:(e=t.getInt32(8,!0),e!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function Mut(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:XR(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}function XR(t,e,n){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,n)))}function Iut(t,e,n){for(var r=176,i=[],s=0;s<e.nSubgrids;s++){var l=Put(t,r,n),c=Fut(t,r,l,n),a=Math.round(1+(l.upperLongitude-l.lowerLongitude)/l.longitudeInterval),f=Math.round(1+(l.upperLatitude-l.lowerLatitude)/l.latitudeInterval);i.push({ll:[hw(l.lowerLongitude),hw(l.lowerLatitude)],del:[hw(l.longitudeInterval),hw(l.latitudeInterval)],lim:[a,f],count:l.gridNodeCount,cvs:Lut(c)}),r+=176+l.gridNodeCount*16}return i}function Lut(t){return t.map(function(e){return[hw(e.longitudeShift),hw(e.latitudeShift)]})}function Put(t,e,n){return{name:XR(t,e+8,e+16).trim(),parent:XR(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,n),upperLatitude:t.getFloat64(e+88,n),lowerLongitude:t.getFloat64(e+104,n),upperLongitude:t.getFloat64(e+120,n),latitudeInterval:t.getFloat64(e+136,n),longitudeInterval:t.getFloat64(e+152,n),gridNodeCount:t.getInt32(e+168,n)}}function Fut(t,e,n,r){for(var i=e+176,s=16,l=[],c=0;c<n.gridNodeCount;c++){var a={latitudeShift:t.getFloat32(i+c*s,r),longitudeShift:t.getFloat32(i+c*s+4,r),latitudeAccuracy:t.getFloat32(i+c*s+8,r),longitudeAccuracy:t.getFloat32(i+c*s+12,r)};l.push(a)}return l}function cm(t,e){if(!(this instanceof cm))return new cm(t);e=e||function(f){if(f)throw f};var n=lut(t);if(typeof n!="object"){e(t);return}var r=cm.projections.get(n.projName);if(!r){e(t);return}if(n.datumCode&&n.datumCode!=="none"){var i=i1(xu,n.datumCode);i&&(n.datum_params=n.datum_params||(i.towgs84?i.towgs84.split(","):null),n.ellps=i.ellipse,n.datumName=i.datumName?i.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var s=xut(n.a,n.b,n.rf,n.ellps,n.sphere),l=wut(s.a,s.b,s.rf,n.R_A),c=Sut(n.nadgrids),a=n.datum||Cut(n.datumCode,n.datum_params,s.a,s.b,l.es,l.ep2,c);zq(this,n),zq(this,r),this.a=s.a,this.b=s.b,this.rf=s.rf,this.sphere=s.sphere,this.es=l.es,this.e=l.e,this.ep2=l.ep2,this.datum=a,this.init(),e(null,this)}cm.projections=yut;cm.projections.start();function kut(t,e){return t.datum_type!==e.datum_type||t.a!==e.a||Math.abs(t.es-e.es)>5e-11?!1:t.datum_type===hy?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type===dy?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]:!0}function cue(t,e,n){var r=t.x,i=t.y,s=t.z?t.z:0,l,c,a,f;if(i<-Lr&&i>-1.001*Lr)i=-Lr;else if(i>Lr&&i<1.001*Lr)i=Lr;else{if(i<-Lr)return{x:-1/0,y:-1/0,z:t.z};if(i>Lr)return{x:1/0,y:1/0,z:t.z}}return r>Math.PI&&(r-=2*Math.PI),c=Math.sin(i),f=Math.cos(i),a=c*c,l=n/Math.sqrt(1-e*a),{x:(l+s)*f*Math.cos(r),y:(l+s)*f*Math.sin(r),z:(l*(1-e)+s)*c}}function hue(t,e,n,r){var i=1e-12,s=i*i,l=30,c,a,f,A,m,_,y,T,E,P,I,F,R,N=t.x,z=t.y,Q=t.z?t.z:0,j,H,K;if(c=Math.sqrt(N*N+z*z),a=Math.sqrt(N*N+z*z+Q*Q),c/n<i){if(j=0,a/n<i)return H=Lr,K=-r,{x:t.x,y:t.y,z:t.z}}else j=Math.atan2(z,N);f=Q/a,A=c/a,m=1/Math.sqrt(1-e*(2-e)*A*A),T=A*(1-e)*m,E=f*m,R=0;do R++,y=n/Math.sqrt(1-e*E*E),K=c*T+Q*E-y*(1-e*E*E),_=e*y/(y+K),m=1/Math.sqrt(1-_*(2-_)*A*A),P=A*(1-_)*m,I=f*m,F=I*T-P*E,T=P,E=I;while(F*F>s&&R<l);return H=Math.atan(I/Math.abs(P)),{x:j,y:H,z:K}}function Rut(t,e,n){if(e===hy)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(e===dy){var r=n[0],i=n[1],s=n[2],l=n[3],c=n[4],a=n[5],f=n[6];return{x:f*(t.x-a*t.y+c*t.z)+r,y:f*(a*t.x+t.y-l*t.z)+i,z:f*(-c*t.x+l*t.y+t.z)+s}}}function Out(t,e,n){if(e===hy)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(e===dy){var r=n[0],i=n[1],s=n[2],l=n[3],c=n[4],a=n[5],f=n[6],A=(t.x-r)/f,m=(t.y-i)/f,_=(t.z-s)/f;return{x:A+a*m-c*_,y:-a*A+m+l*_,z:c*A-l*m+_}}}function u3(t){return t===hy||t===dy}function Dut(t,e,n){if(kut(t,e)||t.datum_type===qR||e.datum_type===qR)return n;var r=t.a,i=t.es;if(t.datum_type===Pw){var s=Vq(t,!1,n);if(s!==0)return;r=Oq,i=Dq}var l=e.a,c=e.b,a=e.es;if(e.datum_type===Pw&&(l=Oq,c=Vlt,a=Dq),i===a&&r===l&&!u3(t.datum_type)&&!u3(e.datum_type))return n;if(n=cue(n,i,r),u3(t.datum_type)&&(n=Rut(n,t.datum_type,t.datum_params)),u3(e.datum_type)&&(n=Out(n,e.datum_type,e.datum_params)),n=hue(n,a,l,c),e.datum_type===Pw){var f=Vq(e,!0,n);if(f!==0)return}return n}function Vq(t,e,n){if(t.grids===null||t.grids.length===0)return console.log("Grid shift grids not found"),-1;var r={x:-n.x,y:n.y},i={x:Number.NaN,y:Number.NaN},s=[];e:for(var l=0;l<t.grids.length;l++){var c=t.grids[l];if(s.push(c.name),c.isNull){i=r;break}if(c.mandatory,c.grid===null){if(c.mandatory)return console.log("Unable to find mandatory grid '"+c.name+"'"),-1;continue}for(var a=c.grid.subgrids,f=0,A=a.length;f<A;f++){var m=a[f],_=(Math.abs(m.del[1])+Math.abs(m.del[0]))/1e4,y=m.ll[0]-_,T=m.ll[1]-_,E=m.ll[0]+(m.lim[0]-1)*m.del[0]+_,P=m.ll[1]+(m.lim[1]-1)*m.del[1]+_;if(!(T>r.y||y>r.x||P<r.y||E<r.x)&&(i=Nut(r,e,m),!isNaN(i.x)))break e}}return isNaN(i.x)?(console.log("Failed to find a grid shift table for location '"+-r.x*nm+" "+r.y*nm+" tried: '"+s+"'"),-1):(n.x=-i.x,n.y=i.y,0)}function Nut(t,e,n){var r={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return r;var i={x:t.x,y:t.y};i.x-=n.ll[0],i.y-=n.ll[1],i.x=ui(i.x-Math.PI)+Math.PI;var s=Hq(i,n);if(e){if(isNaN(s.x))return r;s.x=i.x-s.x,s.y=i.y-s.y;var l=9,c=1e-12,a,f;do{if(f=Hq(s,n),isNaN(f.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}a={x:i.x-(f.x+s.x),y:i.y-(f.y+s.y)},s.x+=a.x,s.y+=a.y}while(l--&&Math.abs(a.x)>c&&Math.abs(a.y)>c);if(l<0)return console.log("Inverse grid shift iterator failed to converge."),r;r.x=ui(s.x+n.ll[0]),r.y=s.y+n.ll[1]}else isNaN(s.x)||(r.x=t.x+s.x,r.y=t.y+s.y);return r}function Hq(t,e){var n={x:t.x/e.del[0],y:t.y/e.del[1]},r={x:Math.floor(n.x),y:Math.floor(n.y)},i={x:n.x-1*r.x,y:n.y-1*r.y},s={x:Number.NaN,y:Number.NaN},l;if(r.x<0||r.x>=e.lim[0]||r.y<0||r.y>=e.lim[1])return s;l=r.y*e.lim[0]+r.x;var c={x:e.cvs[l][0],y:e.cvs[l][1]};l++;var a={x:e.cvs[l][0],y:e.cvs[l][1]};l+=e.lim[0];var f={x:e.cvs[l][0],y:e.cvs[l][1]};l--;var A={x:e.cvs[l][0],y:e.cvs[l][1]},m=i.x*i.y,_=i.x*(1-i.y),y=(1-i.x)*(1-i.y),T=(1-i.x)*i.y;return s.x=y*c.x+_*a.x+T*A.x+m*f.x,s.y=y*c.y+_*a.y+T*A.y+m*f.y,s}function Qq(t,e,n){var r=n.x,i=n.y,s=n.z||0,l,c,a,f={};for(a=0;a<3;a++)if(!(e&&a===2&&n.z===void 0))switch(a===0?(l=r,"ew".indexOf(t.axis[a])!==-1?c="x":c="y"):a===1?(l=i,"ns".indexOf(t.axis[a])!==-1?c="y":c="x"):(l=s,c="z"),t.axis[a]){case"e":f[c]=l;break;case"w":f[c]=-l;break;case"n":f[c]=l;break;case"s":f[c]=-l;break;case"u":n[c]!==void 0&&(f.z=l);break;case"d":n[c]!==void 0&&(f.z=-l);break;default:return null}return f}function due(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function Uut(t){jq(t.x),jq(t.y)}function jq(t){if(typeof Number.isFinite=="function"){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if(typeof t!="number"||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function zut(t,e){return(t.datum.datum_type===hy||t.datum.datum_type===dy||t.datum.datum_type===Pw)&&e.datumCode!=="WGS84"||(e.datum.datum_type===hy||e.datum.datum_type===dy||e.datum.datum_type===Pw)&&t.datumCode!=="WGS84"}function e8(t,e,n,r){var i;Array.isArray(n)?n=due(n):n={x:n.x,y:n.y,z:n.z,m:n.m};var s=n.z!==void 0;if(Uut(n),t.datum&&e.datum&&zut(t,e)&&(i=new cm("WGS84"),n=e8(t,i,n,r),t=i),r&&t.axis!=="enu"&&(n=Qq(t,!1,n)),t.projName==="longlat")n={x:n.x*Xu,y:n.y*Xu,z:n.z||0};else if(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter,z:n.z||0}),n=t.inverse(n),!n)return;if(t.from_greenwich&&(n.x+=t.from_greenwich),n=Dut(t.datum,e.datum,n),!!n)return e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y,z:n.z||0}),e.projName==="longlat"?n={x:n.x*nm,y:n.y*nm,z:n.z||0}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter,z:n.z||0})),r&&e.axis!=="enu"?Qq(e,!0,n):(n&&!s&&delete n.z,n)}var Gq=cm("WGS84");function pP(t,e,n,r){var i,s,l;return Array.isArray(n)?(i=e8(t,e,n,r)||{x:NaN,y:NaN},n.length>2?typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"?typeof i.z=="number"?[i.x,i.y,i.z].concat(n.splice(3)):[i.x,i.y,n[2]].concat(n.splice(3)):[i.x,i.y].concat(n.splice(2)):[i.x,i.y]):(s=e8(t,e,n,r),l=Object.keys(n),l.length===2||l.forEach(function(c){if(typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"){if(c==="x"||c==="y"||c==="z")return}else if(c==="x"||c==="y")return;s[c]=n[c]}),s)}function Kq(t){return t instanceof cm?t:t.oProj?t.oProj:cm(t)}function Ff(t,e,n){t=Kq(t);var r=!1,i;return typeof e>"u"?(e=t,t=Gq,r=!0):(typeof e.x<"u"||Array.isArray(e))&&(n=e,e=t,t=Gq,r=!0),e=Kq(e),n?pP(t,e,n):(i={forward:function(s,l){return pP(t,e,s,l)},inverse:function(s,l){return pP(e,t,s,l)}},r&&(i.oProj=e),i)}var Wq=6,fue="AJSAJS",pue="AFAFAF",dw=65,Th=73,uf=79,_4=86,y4=90;const $ut={forward:Aue,inverse:Vut,toPoint:mue};function Aue(t,e){return e=e||5,jut(Hut({lat:t[1],lon:t[0]}),e)}function Vut(t){var e=iU(vue(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function mue(t){var e=iU(vue(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function AP(t){return t*(Math.PI/180)}function qq(t){return 180*(t/Math.PI)}function Hut(t){var e=t.lat,n=t.lon,r=6378137,i=.00669438,s=.9996,l,c,a,f,A,m,_,y=AP(e),T=AP(n),E,P;P=Math.floor((n+180)/6)+1,n===180&&(P=60),e>=56&&e<64&&n>=3&&n<12&&(P=32),e>=72&&e<84&&(n>=0&&n<9?P=31:n>=9&&n<21?P=33:n>=21&&n<33?P=35:n>=33&&n<42&&(P=37)),l=(P-1)*6-180+3,E=AP(l),c=i/(1-i),a=r/Math.sqrt(1-i*Math.sin(y)*Math.sin(y)),f=Math.tan(y)*Math.tan(y),A=c*Math.cos(y)*Math.cos(y),m=Math.cos(y)*(T-E),_=r*((1-i/4-3*i*i/64-5*i*i*i/256)*y-(3*i/8+3*i*i/32+45*i*i*i/1024)*Math.sin(2*y)+(15*i*i/256+45*i*i*i/1024)*Math.sin(4*y)-35*i*i*i/3072*Math.sin(6*y));var I=s*a*(m+(1-f+A)*m*m*m/6+(5-18*f+f*f+72*A-58*c)*m*m*m*m*m/120)+5e5,F=s*(_+a*Math.tan(y)*(m*m/2+(5-f+9*A+4*A*A)*m*m*m*m/24+(61-58*f+f*f+600*A-330*c)*m*m*m*m*m*m/720));return e<0&&(F+=1e7),{northing:Math.round(F),easting:Math.round(I),zoneNumber:P,zoneLetter:Qut(e)}}function iU(t){var e=t.northing,n=t.easting,r=t.zoneLetter,i=t.zoneNumber;if(i<0||i>60)return null;var s=.9996,l=6378137,c=.00669438,a,f=(1-Math.sqrt(1-c))/(1+Math.sqrt(1-c)),A,m,_,y,T,E,P,I,F,R=n-5e5,N=e;r<"N"&&(N-=1e7),P=(i-1)*6-180+3,a=c/(1-c),E=N/s,I=E/(l*(1-c/4-3*c*c/64-5*c*c*c/256)),F=I+(3*f/2-27*f*f*f/32)*Math.sin(2*I)+(21*f*f/16-55*f*f*f*f/32)*Math.sin(4*I)+151*f*f*f/96*Math.sin(6*I),A=l/Math.sqrt(1-c*Math.sin(F)*Math.sin(F)),m=Math.tan(F)*Math.tan(F),_=a*Math.cos(F)*Math.cos(F),y=l*(1-c)/Math.pow(1-c*Math.sin(F)*Math.sin(F),1.5),T=R/(A*s);var z=F-A*Math.tan(F)/y*(T*T/2-(5+3*m+10*_-4*_*_-9*a)*T*T*T*T/24+(61+90*m+298*_+45*m*m-252*a-3*_*_)*T*T*T*T*T*T/720);z=qq(z);var Q=(T-(1+2*m+_)*T*T*T/6+(5-2*_+28*m-3*_*_+8*a+24*m*m)*T*T*T*T*T/120)/Math.cos(F);Q=P+qq(Q);var j;if(t.accuracy){var H=iU({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});j={top:H.lat,right:H.lon,bottom:z,left:Q}}else j={lat:z,lon:Q};return j}function Qut(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function jut(t,e){var n="00000"+t.easting,r="00000"+t.northing;return t.zoneNumber+t.zoneLetter+Gut(t.easting,t.northing,t.zoneNumber)+n.substr(n.length-5,e)+r.substr(r.length-5,e)}function Gut(t,e,n){var r=gue(n),i=Math.floor(t/1e5),s=Math.floor(e/1e5)%20;return Kut(i,s,r)}function gue(t){var e=t%Wq;return e===0&&(e=Wq),e}function Kut(t,e,n){var r=n-1,i=fue.charCodeAt(r),s=pue.charCodeAt(r),l=i+t-1,c=s+e,a=!1;l>y4&&(l=l-y4+dw-1,a=!0),(l===Th||i<Th&&l>Th||(l>Th||i<Th)&&a)&&l++,(l===uf||i<uf&&l>uf||(l>uf||i<uf)&&a)&&(l++,l===Th&&l++),l>y4&&(l=l-y4+dw-1),c>_4?(c=c-_4+dw-1,a=!0):a=!1,(c===Th||s<Th&&c>Th||(c>Th||s<Th)&&a)&&c++,(c===uf||s<uf&&c>uf||(c>uf||s<uf)&&a)&&(c++,c===Th&&c++),c>_4&&(c=c-_4+dw-1);var f=String.fromCharCode(l)+String.fromCharCode(c);return f}function vue(t){if(t&&t.length===0)throw"MGRSPoint coverting from nothing";for(var e=t.length,n=null,r="",i,s=0;!/[A-Z]/.test(i=t.charAt(s));){if(s>=2)throw"MGRSPoint bad conversion from: "+t;r+=i,s++}var l=parseInt(r,10);if(s===0||s+3>e)throw"MGRSPoint bad conversion from: "+t;var c=t.charAt(s++);if(c<="A"||c==="B"||c==="Y"||c>="Z"||c==="I"||c==="O")throw"MGRSPoint zone letter "+c+" not handled: "+t;n=t.substring(s,s+=2);for(var a=gue(l),f=Wut(n.charAt(0),a),A=qut(n.charAt(1),a);A<Yut(c);)A+=2e6;var m=e-s;if(m%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+t;var _=m/2,y=0,T=0,E,P,I,F,R;return _>0&&(E=1e5/Math.pow(10,_),P=t.substring(s,s+_),y=parseFloat(P)*E,I=t.substring(s+_),T=parseFloat(I)*E),F=y+f,R=T+A,{easting:F,northing:R,zoneLetter:c,zoneNumber:l,accuracy:E}}function Wut(t,e){for(var n=fue.charCodeAt(e-1),r=1e5,i=!1;n!==t.charCodeAt(0);){if(n++,n===Th&&n++,n===uf&&n++,n>y4){if(i)throw"Bad character: "+t;n=dw,i=!0}r+=1e5}return r}function qut(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var n=pue.charCodeAt(e-1),r=0,i=!1;n!==t.charCodeAt(0);){if(n++,n===Th&&n++,n===uf&&n++,n>_4){if(i)throw"Bad character: "+t;n=dw,i=!0}r+=1e5}return r}function Yut(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function g2(t,e,n){if(!(this instanceof g2))return new g2(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if(typeof t=="object")this.x=t.x,this.y=t.y,this.z=t.z||0;else if(typeof t=="string"&&typeof e>"u"){var r=t.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}g2.fromMGRS=function(t){return new g2(mue(t))};g2.prototype.toMGRS=function(t){return Aue([this.x,this.y],t)};var Xut=1,Zut=.25,Yq=.046875,Xq=.01953125,Zq=.01068115234375,Jut=.75,ect=.46875,tct=.013020833333333334,nct=.007120768229166667,rct=.3645833333333333,ict=.005696614583333333,act=.3076171875;function _ue(t){var e=[];e[0]=Xut-t*(Zut+t*(Yq+t*(Xq+t*Zq))),e[1]=t*(Jut-t*(Yq+t*(Xq+t*Zq)));var n=t*t;return e[2]=n*(ect-t*(tct+t*nct)),n*=t,e[3]=n*(rct-t*ict),e[4]=n*t*act,e}function GB(t,e,n,r){return n*=e,e*=e,r[0]*t-n*(r[1]+e*(r[2]+e*(r[3]+e*r[4])))}var sct=20;function yue(t,e,n){for(var r=1/(1-e),i=t,s=sct;s;--s){var l=Math.sin(i),c=1-e*l*l;if(c=(GB(i,l,Math.cos(i),n)-t)*(c*Math.sqrt(c))*r,i-=c,Math.abs(c)<ei)return i}return i}function oct(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=_ue(this.es),this.ml0=GB(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function lct(t){var e=t.x,n=t.y,r=ui(e-this.long0),i,s,l,c=Math.sin(n),a=Math.cos(n);if(this.es){var A=a*r,m=Math.pow(A,2),_=this.ep2*Math.pow(a,2),y=Math.pow(_,2),T=Math.abs(a)>ei?Math.tan(n):0,E=Math.pow(T,2),P=Math.pow(E,2);i=1-this.es*Math.pow(c,2),A=A/Math.sqrt(i);var I=GB(n,c,a,this.en);s=this.a*(this.k0*A*(1+m/6*(1-E+_+m/20*(5-18*E+P+14*_-58*E*_+m/42*(61+179*P-P*E-479*E)))))+this.x0,l=this.a*(this.k0*(I-this.ml0+c*r*A/2*(1+m/12*(5-E+9*_+4*y+m/30*(61+P-58*E+270*_-330*E*_+m/56*(1385+543*P-P*E-3111*E))))))+this.y0}else{var f=a*Math.sin(r);if(Math.abs(Math.abs(f)-1)<ei)return 93;if(s=.5*this.a*this.k0*Math.log((1+f)/(1-f))+this.x0,l=a*Math.cos(r)/Math.sqrt(1-Math.pow(f,2)),f=Math.abs(l),f>=1){if(f-1>ei)return 93;l=0}else l=Math.acos(l);n<0&&(l=-l),l=this.a*this.k0*(l-this.lat0)+this.y0}return t.x=s,t.y=l,t}function uct(t){var e,n,r,i,s=(t.x-this.x0)*(1/this.a),l=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+l/this.k0,n=yue(e,this.es,this.en),Math.abs(n)<Lr){var m=Math.sin(n),_=Math.cos(n),y=Math.abs(_)>ei?Math.tan(n):0,T=this.ep2*Math.pow(_,2),E=Math.pow(T,2),P=Math.pow(y,2),I=Math.pow(P,2);e=1-this.es*Math.pow(m,2);var F=s*Math.sqrt(e)/this.k0,R=Math.pow(F,2);e=e*y,r=n-e*R/(1-this.es)*.5*(1-R/12*(5+3*P-9*T*P+T-4*E-R/30*(61+90*P-252*T*P+45*I+46*T-R/56*(1385+3633*P+4095*I+1574*I*P)))),i=ui(this.long0+F*(1-R/6*(1+2*P+T-R/20*(5+28*P+24*I+8*T*P+6*T-R/42*(61+662*P+1320*I+720*I*P))))/_)}else r=Lr*n5(l),i=0;else{var c=Math.exp(s/this.k0),a=.5*(c-1/c),f=this.lat0+l/this.k0,A=Math.cos(f);e=Math.sqrt((1-Math.pow(A,2))/(1+Math.pow(a,2))),r=Math.asin(e),l<0&&(r=-r),a===0&&A===0?i=0:i=ui(Math.atan2(a,A)+this.long0)}return t.x=i,t.y=r,t}var cct=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const DS={init:oct,forward:lct,inverse:uct,names:cct};function bue(t){var e=Math.exp(t);return e=(e-1/e)/2,e}function pf(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),r=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(r,2))}function hct(t){var e=1+t,n=e-1;return n===0?t:t*Math.log(e)/n}function dct(t){var e=Math.abs(t);return e=hct(e*(1+e/(pf(1,e)+1))),t<0?-e:e}function aU(t,e){for(var n=2*Math.cos(2*e),r=t.length-1,i=t[r],s=0,l;--r>=0;)l=-s+n*i+t[r],s=i,i=l;return e+l*Math.sin(2*e)}function fct(t,e){for(var n=2*Math.cos(e),r=t.length-1,i=t[r],s=0,l;--r>=0;)l=-s+n*i+t[r],s=i,i=l;return Math.sin(e)*l}function pct(t){var e=Math.exp(t);return e=(e+1/e)/2,e}function wue(t,e,n){for(var r=Math.sin(e),i=Math.cos(e),s=bue(n),l=pct(n),c=2*i*l,a=-2*r*s,f=t.length-1,A=t[f],m=0,_=0,y=0,T,E;--f>=0;)T=_,E=m,_=A,m=y,A=-T+c*_-a*m+t[f],y=-E+a*_+c*m;return c=r*l,a=i*s,[c*A-a*y,c*y+a*A]}function Act(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(DS.init.apply(this),this.forward=DS.forward,this.inverse=DS.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675)))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))),n=n*e,this.cgb[1]=n*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945))))),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n=n*e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835)))),n=n*e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(-12/5+e*(-24832/14175))),n=n*e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n=n*e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360))))),n=n*e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n=n*e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n=n*e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n=n*e,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=n*(212378941/319334400);var r=aU(this.cbg,this.lat0);this.Zb=-this.Qn*(r+fct(this.gtu,2*r))}function mct(t){var e=ui(t.x-this.long0),n=t.y;n=aU(this.cbg,n);var r=Math.sin(n),i=Math.cos(n),s=Math.sin(e),l=Math.cos(e);n=Math.atan2(r,l*i),e=Math.atan2(s*i,pf(r,i*l)),e=dct(Math.tan(e));var c=wue(this.gtu,2*n,2*e);n=n+c[0],e=e+c[1];var a,f;return Math.abs(e)<=2.623395162778?(a=this.a*(this.Qn*e)+this.x0,f=this.a*(this.Qn*n+this.Zb)+this.y0):(a=1/0,f=1/0),t.x=a,t.y=f,t}function gct(t){var e=(t.x-this.x0)*(1/this.a),n=(t.y-this.y0)*(1/this.a);n=(n-this.Zb)/this.Qn,e=e/this.Qn;var r,i;if(Math.abs(e)<=2.623395162778){var s=wue(this.utg,2*n,2*e);n=n+s[0],e=e+s[1],e=Math.atan(bue(e));var l=Math.sin(n),c=Math.cos(n),a=Math.sin(e),f=Math.cos(e);n=Math.atan2(l*f,pf(a,f*c)),e=Math.atan2(a,f*c),r=ui(e+this.long0),i=aU(this.cgb,n)}else r=1/0,i=1/0;return t.x=r,t.y=i,t}var vct=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const NS={init:Act,forward:mct,inverse:gct,names:vct};function _ct(t,e){if(t===void 0){if(t=Math.floor((ui(e)+Math.PI)*30/Math.PI)+1,t<0)return 0;if(t>60)return 60}return t}var yct="etmerc";function bct(){var t=_ct(this.zone,this.long0);if(t===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*Xu,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,NS.init.apply(this),this.forward=NS.forward,this.inverse=NS.inverse}var wct=["Universal Transverse Mercator System","utm"];const xct={init:bct,names:wct,dependsOn:yct};function sU(t,e){return Math.pow((1-t)/(1+t),e)}var Cct=20;function Ect(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+Rs)/(Math.pow(Math.tan(.5*this.lat0+Rs),this.C)*sU(this.e*t,this.ratexp))}function Sct(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+Rs),this.C)*sU(this.e*Math.sin(n),this.ratexp))-Lr,t.x=this.C*e,t}function Tct(t){for(var e=1e-14,n=t.x/this.C,r=t.y,i=Math.pow(Math.tan(.5*r+Rs)/this.K,1/this.C),s=Cct;s>0&&(r=2*Math.atan(i*sU(this.e*Math.sin(t.y),-.5*this.e))-Lr,!(Math.abs(r-t.y)<e));--s)t.y=r;return s?(t.x=n,t.y=r,t):null}var Bct=["gauss"];const oU={init:Ect,forward:Sct,inverse:Tct,names:Bct};function Mct(){oU.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function Ict(t){var e,n,r,i;return t.x=ui(t.x-this.long0),oU.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),r=Math.cos(t.x),i=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*r),t.x=i*n*Math.sin(t.x),t.y=i*(this.cosc0*e-this.sinc0*n*r),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function Lct(t){var e,n,r,i,s;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,s=pf(t.x,t.y)){var l=2*Math.atan2(s,this.R2);e=Math.sin(l),n=Math.cos(l),i=Math.asin(n*this.sinc0+t.y*e*this.cosc0/s),r=Math.atan2(t.x*e,s*this.cosc0*n-t.y*this.sinc0*e)}else i=this.phic0,r=0;return t.x=r,t.y=i,oU.inverse.apply(this,[t]),t.x=ui(t.x+this.long0),t}var Pct=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const Fct={init:Mct,forward:Ict,inverse:Lct,names:Pct};function kct(t,e,n){return e*=n,Math.tan(.5*(Lr+t))*Math.pow((1-e)/(1+e),.5*n)}function Rct(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=ei&&(this.k0=.5*(1+n5(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=ei&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=ei&&Math.abs(Math.cos(this.lat_ts))>ei&&(this.k0=.5*this.cons*xm(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Qp(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=xm(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-Lr,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function Oct(t){var e=t.x,n=t.y,r=Math.sin(n),i=Math.cos(n),s,l,c,a,f,A,m=ui(e-this.long0);return Math.abs(Math.abs(e-this.long0)-Math.PI)<=ei&&Math.abs(n+this.lat0)<=ei?(t.x=NaN,t.y=NaN,t):this.sphere?(s=2*this.k0/(1+this.sinlat0*r+this.coslat0*i*Math.cos(m)),t.x=this.a*s*i*Math.sin(m)+this.x0,t.y=this.a*s*(this.coslat0*r-this.sinlat0*i*Math.cos(m))+this.y0,t):(l=2*Math.atan(this.ssfn_(n,r,this.e))-Lr,a=Math.cos(l),c=Math.sin(l),Math.abs(this.coslat0)<=ei?(f=Qp(this.e,n*this.con,this.con*r),A=2*this.a*this.k0*f/this.cons,t.x=this.x0+A*Math.sin(e-this.long0),t.y=this.y0-this.con*A*Math.cos(e-this.long0),t):(Math.abs(this.sinlat0)<ei?(s=2*this.a*this.k0/(1+a*Math.cos(m)),t.y=s*c):(s=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*c+this.cosX0*a*Math.cos(m))),t.y=s*(this.cosX0*c-this.sinX0*a*Math.cos(m))+this.y0),t.x=s*a*Math.sin(m)+this.x0,t))}function Dct(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,i,s,l=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var c=2*Math.atan(l/(2*this.a*this.k0));return e=this.long0,n=this.lat0,l<=ei?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(c)*this.sinlat0+t.y*Math.sin(c)*this.coslat0/l),Math.abs(this.coslat0)<ei?this.lat0>0?e=ui(this.long0+Math.atan2(t.x,-1*t.y)):e=ui(this.long0+Math.atan2(t.x,t.y)):e=ui(this.long0+Math.atan2(t.x*Math.sin(c),l*this.coslat0*Math.cos(c)-t.y*this.sinlat0*Math.sin(c))),t.x=e,t.y=n,t)}else if(Math.abs(this.coslat0)<=ei){if(l<=ei)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,r=l*this.cons/(2*this.a*this.k0),n=this.con*p6(this.e,r),e=this.con*ui(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else i=2*Math.atan(l*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,l<=ei?s=this.X0:(s=Math.asin(Math.cos(i)*this.sinX0+t.y*Math.sin(i)*this.cosX0/l),e=ui(this.long0+Math.atan2(t.x*Math.sin(i),l*this.cosX0*Math.cos(i)-t.y*this.sinX0*Math.sin(i)))),n=-1*p6(this.e,Math.tan(.5*(Lr+s)));return t.x=e,t.y=n,t}var Nct=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"];const Uct={init:Rct,forward:Oct,inverse:Dct,names:Nct,ssfn_:kct};function zct(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,r=this.rf,i=1/r,s=2*i-Math.pow(i,2),l=this.e=Math.sqrt(s);this.R=this.k0*n*Math.sqrt(1-s)/(1-s*Math.pow(e,2)),this.alpha=Math.sqrt(1+s/(1-s)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var c=Math.log(Math.tan(Math.PI/4+this.b0/2)),a=Math.log(Math.tan(Math.PI/4+t/2)),f=Math.log((1+l*e)/(1-l*e));this.K=c-this.alpha*a+this.alpha*l/2*f}function $ct(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),r=-this.alpha*(e+n)+this.K,i=2*(Math.atan(Math.exp(r))-Math.PI/4),s=this.alpha*(t.x-this.lambda0),l=Math.atan(Math.sin(s)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(s))),c=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(s));return t.y=this.R/2*Math.log((1+Math.sin(c))/(1-Math.sin(c)))+this.y0,t.x=this.R*l+this.x0,t}function Vct(t){for(var e=t.x-this.x0,n=t.y-this.y0,r=e/this.R,i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),s=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r)),l=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i))),c=this.lambda0+l/this.alpha,a=0,f=s,A=-1e3,m=0;Math.abs(f-A)>1e-7;){if(++m>20)return;a=1/this.alpha*(Math.log(Math.tan(Math.PI/4+s/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(f))/2)),A=f,f=2*Math.atan(Math.exp(a))-Math.PI/2}return t.x=c,t.y=f,t}var Hct=["somerc"];const Qct={init:zct,forward:$ct,inverse:Vct,names:Hct};var Xb=1e-7;function jct(t){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],n=typeof t.PROJECTION=="object"?Object.keys(t.PROJECTION)[0]:t.PROJECTION;return"no_uoff"in t||"no_off"in t||e.indexOf(n)!==-1}function Gct(){var t,e,n,r,i,s,l,c,a,f,A=0,m,_=0,y=0,T=0,E=0,P=0,I=0;this.no_off=jct(this),this.no_rot="no_rot"in this;var F=!1;"alpha"in this&&(F=!0);var R=!1;if("rectified_grid_angle"in this&&(R=!0),F&&(I=this.alpha),R&&(A=this.rectified_grid_angle*Xu),F||R)_=this.longc;else if(y=this.long1,E=this.lat1,T=this.long2,P=this.lat2,Math.abs(E-P)<=Xb||(t=Math.abs(E))<=Xb||Math.abs(t-Lr)<=Xb||Math.abs(Math.abs(this.lat0)-Lr)<=Xb||Math.abs(Math.abs(P)-Lr)<=Xb)throw new Error;var N=1-this.es;e=Math.sqrt(N),Math.abs(this.lat0)>ei?(c=Math.sin(this.lat0),n=Math.cos(this.lat0),t=1-this.es*c*c,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/N),this.A=this.B*this.k0*e/t,r=this.B*e/(n*Math.sqrt(t)),i=r*r-1,i<=0?i=0:(i=Math.sqrt(i),this.lat0<0&&(i=-i)),this.E=i+=r,this.E*=Math.pow(Qp(this.e,this.lat0,c),this.B)):(this.B=1/e,this.A=this.k0,this.E=r=i=1),F||R?(F?(m=Math.asin(Math.sin(I)/r),R||(A=I)):(m=A,I=Math.asin(r*Math.sin(m))),this.lam0=_-Math.asin(.5*(i-1/i)*Math.tan(m))/this.B):(s=Math.pow(Qp(this.e,E,Math.sin(E)),this.B),l=Math.pow(Qp(this.e,P,Math.sin(P)),this.B),i=this.E/s,a=(l-s)/(l+s),f=this.E*this.E,f=(f-l*s)/(f+l*s),t=y-T,t<-Math.pi?T-=d6:t>Math.pi&&(T+=d6),this.lam0=ui(.5*(y+T)-Math.atan(f*Math.tan(.5*this.B*(y-T))/a)/this.B),m=Math.atan(2*Math.sin(this.B*ui(y-this.lam0))/(i-1/i)),A=I=Math.asin(r*Math.sin(m))),this.singam=Math.sin(m),this.cosgam=Math.cos(m),this.sinrot=Math.sin(A),this.cosrot=Math.cos(A),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(r*r-1)/Math.cos(I))),this.lat0<0&&(this.u_0=-this.u_0)),i=.5*m,this.v_pole_n=this.ArB*Math.log(Math.tan(Rs-i)),this.v_pole_s=this.ArB*Math.log(Math.tan(Rs+i))}function Kct(t){var e={},n,r,i,s,l,c,a,f;if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-Lr)>ei){if(l=this.E/Math.pow(Qp(this.e,t.y,Math.sin(t.y)),this.B),c=1/l,n=.5*(l-c),r=.5*(l+c),s=Math.sin(this.B*t.x),i=(n*this.singam-s*this.cosgam)/r,Math.abs(Math.abs(i)-1)<ei)throw new Error;f=.5*this.ArB*Math.log((1-i)/(1+i)),c=Math.cos(this.B*t.x),Math.abs(c)<Xb?a=this.A*t.x:a=this.ArB*Math.atan2(n*this.cosgam+s*this.singam,c)}else f=t.y>0?this.v_pole_n:this.v_pole_s,a=this.ArB*t.y;return this.no_rot?(e.x=a,e.y=f):(a-=this.u_0,e.x=f*this.cosrot+a*this.sinrot,e.y=a*this.cosrot-f*this.sinrot),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function Wct(t){var e,n,r,i,s,l,c,a={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(n=t.y,e=t.x):(n=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),r=Math.exp(-this.BrA*n),i=.5*(r-1/r),s=.5*(r+1/r),l=Math.sin(this.BrA*e),c=(l*this.cosgam+i*this.singam)/s,Math.abs(Math.abs(c)-1)<ei)a.x=0,a.y=c<0?-Lr:Lr;else{if(a.y=this.E/Math.sqrt((1+c)/(1-c)),a.y=p6(this.e,Math.pow(a.y,1/this.B)),a.y===1/0)throw new Error;a.x=-this.rB*Math.atan2(i*this.cosgam-l*this.singam,Math.cos(this.BrA*e))}return a.x+=this.lam0,a}var qct=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const Yct={init:Gct,forward:Kct,inverse:Wct,names:qct};function Xct(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<ei)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),r=xm(this.e,e,n),i=Qp(this.e,this.lat1,e),s=Math.sin(this.lat2),l=Math.cos(this.lat2),c=xm(this.e,s,l),a=Qp(this.e,this.lat2,s),f=Qp(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>ei?this.ns=Math.log(r/c)/Math.log(i/a):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=r/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(f,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function Zct(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=ei&&(n=n5(n)*(Lr-2*ei));var r=Math.abs(Math.abs(n)-Lr),i,s;if(r>ei)i=Qp(this.e,n,Math.sin(n)),s=this.a*this.f0*Math.pow(i,this.ns);else{if(r=n*this.ns,r<=0)return null;s=0}var l=this.ns*ui(e-this.long0);return t.x=this.k0*(s*Math.sin(l))+this.x0,t.y=this.k0*(this.rh-s*Math.cos(l))+this.y0,t}function Jct(t){var e,n,r,i,s,l=(t.x-this.x0)/this.k0,c=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(l*l+c*c),n=1):(e=-Math.sqrt(l*l+c*c),n=-1);var a=0;if(e!==0&&(a=Math.atan2(n*l,n*c)),e!==0||this.ns>0){if(n=1/this.ns,r=Math.pow(e/(this.a*this.f0),n),i=p6(this.e,r),i===-9999)return null}else i=-Lr;return s=ui(a/this.ns+this.long0),t.x=s,t.y=i,t}var eht=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const tht={init:Xct,forward:Zct,inverse:Jct,names:eht};function nht(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function rht(t){var e,n,r,i,s,l,c,a=t.x,f=t.y,A=ui(a-this.long0);return e=Math.pow((1+this.e*Math.sin(f))/(1-this.e*Math.sin(f)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(f/2+this.s45),this.alfa)/e)-this.s45),r=-A*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),s=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(i)),l=this.n*s,c=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),t.y=c*Math.cos(l)/1,t.x=c*Math.sin(l)/1,this.czech||(t.y*=-1,t.x*=-1),t}function iht(t){var e,n,r,i,s,l,c,a,f=t.x;t.x=t.y,t.y=f,this.czech||(t.y*=-1,t.x*=-1),l=Math.sqrt(t.x*t.x+t.y*t.y),s=Math.atan2(t.y,t.x),i=s/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/l,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(e)),t.x=this.long0-n/this.alfa,c=e,a=0;var A=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.e/2))-this.s45),Math.abs(c-t.y)<1e-10&&(a=1),c=t.y,A+=1;while(a===0&&A<15);return A>=15?null:t}var aht=["Krovak","krovak"];const sht={init:nht,forward:rht,inverse:iht,names:aht};function eh(t,e,n,r,i){return t*i-e*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)}function r5(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function i5(t){return .375*t*(1+.25*t*(1+.46875*t))}function a5(t){return .05859375*t*t*(1+.75*t)}function s5(t){return t*t*t*(35/3072)}function v2(t,e,n){var r=e*n;return t/Math.sqrt(1-r*r)}function j2(t){return Math.abs(t)<Lr?t:t-n5(t)*Math.PI}function t8(t,e,n,r,i){var s,l;s=t/e;for(var c=0;c<15;c++)if(l=(t-(e*s-n*Math.sin(2*s)+r*Math.sin(4*s)-i*Math.sin(6*s)))/(e-2*n*Math.cos(2*s)+4*r*Math.cos(4*s)-6*i*Math.cos(6*s)),s+=l,Math.abs(l)<=1e-10)return s;return NaN}function oht(){this.sphere||(this.e0=r5(this.es),this.e1=i5(this.es),this.e2=a5(this.es),this.e3=s5(this.es),this.ml0=this.a*eh(this.e0,this.e1,this.e2,this.e3,this.lat0))}function lht(t){var e,n,r=t.x,i=t.y;if(r=ui(r-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(i)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(i),Math.cos(r))-this.lat0);else{var s=Math.sin(i),l=Math.cos(i),c=v2(this.a,this.e,s),a=Math.tan(i)*Math.tan(i),f=r*Math.cos(i),A=f*f,m=this.es*l*l/(1-this.es),_=this.a*eh(this.e0,this.e1,this.e2,this.e3,i);e=c*f*(1-A*a*(1/6-(8-a+8*m)*A/120)),n=_-this.ml0+c*s/l*A*(.5+(5-a+6*m)*A/24)}return t.x=e+this.x0,t.y=n+this.y0,t}function uht(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,n=t.y/this.a,r,i;if(this.sphere){var s=n+this.lat0;r=Math.asin(Math.sin(s)*Math.cos(e)),i=Math.atan2(Math.tan(e),Math.cos(s))}else{var l=this.ml0/this.a+n,c=t8(l,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(c)-Lr)<=ei)return t.x=this.long0,t.y=Lr,n<0&&(t.y*=-1),t;var a=v2(this.a,this.e,Math.sin(c)),f=a*a*a/this.a/this.a*(1-this.es),A=Math.pow(Math.tan(c),2),m=e*this.a/a,_=m*m;r=c-a*Math.tan(c)/f*m*m*(.5-(1+3*A)*m*m/24),i=m*(1-_*(A/3+(1+3*A)*A*_/15))/Math.cos(c)}return t.x=ui(i+this.long0),t.y=j2(r),t}var cht=["Cassini","Cassini_Soldner","cass"];const hht={init:oht,forward:lht,inverse:uht,names:cht};function Qv(t,e){var n;return t>1e-7?(n=t*e,(1-t*t)*(e/(1-n*n)-.5/t*Math.log((1-n)/(1+n)))):2*e}var dht=1,fht=2,pht=3,Aht=4;function mht(){var t=Math.abs(this.lat0);if(Math.abs(t-Lr)<ei?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<ei?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=Qv(this.e,1),this.mmf=.5/(1-this.es),this.apa=Eht(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=Qv(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function ght(t){var e,n,r,i,s,l,c,a,f,A,m=t.x,_=t.y;if(m=ui(m-this.long0),this.sphere){if(s=Math.sin(_),A=Math.cos(_),r=Math.cos(m),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(n=this.mode===this.EQUIT?1+A*r:1+this.sinph0*s+this.cosph0*A*r,n<=ei)return null;n=Math.sqrt(2/n),e=n*A*Math.sin(m),n*=this.mode===this.EQUIT?s:this.cosph0*s-this.sinph0*A*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(_+this.lat0)<ei)return null;n=Rs-_*.5,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),e=n*Math.sin(m),n*=r}}else{switch(c=0,a=0,f=0,r=Math.cos(m),i=Math.sin(m),s=Math.sin(_),l=Qv(this.e,s),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(c=l/this.qp,a=Math.sqrt(1-c*c)),this.mode){case this.OBLIQ:f=1+this.sinb1*c+this.cosb1*a*r;break;case this.EQUIT:f=1+a*r;break;case this.N_POLE:f=Lr+_,l=this.qp-l;break;case this.S_POLE:f=_-Lr,l=this.qp+l;break}if(Math.abs(f)<ei)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:f=Math.sqrt(2/f),this.mode===this.OBLIQ?n=this.ymf*f*(this.cosb1*c-this.sinb1*a*r):n=(f=Math.sqrt(2/(1+a*r)))*c*this.ymf,e=this.xmf*f*a*i;break;case this.N_POLE:case this.S_POLE:l>=0?(e=(f=Math.sqrt(l))*i,n=r*(this.mode===this.S_POLE?f:-f)):e=n=0;break}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t}function vht(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,n=t.y/this.a,r,i,s,l,c,a,f;if(this.sphere){var A=0,m,_=0;if(m=Math.sqrt(e*e+n*n),i=m*.5,i>1)return null;switch(i=2*Math.asin(i),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(_=Math.sin(i),A=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(m)<=ei?0:Math.asin(n*_/m),e*=_,n=A*m;break;case this.OBLIQ:i=Math.abs(m)<=ei?this.lat0:Math.asin(A*this.sinph0+n*_*this.cosph0/m),e*=_*this.cosph0,n=(A-Math.sin(i)*this.sinph0)*m;break;case this.N_POLE:n=-n,i=Lr-i;break;case this.S_POLE:i-=Lr;break}r=n===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,n)}else{if(f=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(e/=this.dd,n*=this.dd,a=Math.sqrt(e*e+n*n),a<ei)return t.x=this.long0,t.y=this.lat0,t;l=2*Math.asin(.5*a/this.rq),s=Math.cos(l),e*=l=Math.sin(l),this.mode===this.OBLIQ?(f=s*this.sinb1+n*l*this.cosb1/a,c=this.qp*f,n=a*this.cosb1*s-n*this.sinb1*l):(f=n*l/a,c=this.qp*f,n=a*s)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),c=e*e+n*n,!c)return t.x=this.long0,t.y=this.lat0,t;f=1-c/this.qp,this.mode===this.S_POLE&&(f=-f)}r=Math.atan2(e,n),i=Sht(Math.asin(f),this.apa)}return t.x=ui(this.long0+r),t.y=i,t}var _ht=.3333333333333333,yht=.17222222222222222,bht=.10257936507936508,wht=.06388888888888888,xht=.0664021164021164,Cht=.016415012942191543;function Eht(t){var e,n=[];return n[0]=t*_ht,e=t*t,n[0]+=e*yht,n[1]=e*wht,e*=t,n[0]+=e*bht,n[1]+=e*xht,n[2]=e*Cht,n}function Sht(t,e){var n=t+t;return t+e[0]*Math.sin(n)+e[1]*Math.sin(n+n)+e[2]*Math.sin(n+n+n)}var Tht=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const Bht={init:mht,forward:ght,inverse:vht,names:Tht,S_POLE:dht,N_POLE:fht,EQUIT:pht,OBLIQ:Aht};function a1(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}function Mht(){Math.abs(this.lat1+this.lat2)<ei||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=xm(this.e3,this.sin_po,this.cos_po),this.qs1=Qv(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=xm(this.e3,this.sin_po,this.cos_po),this.qs2=Qv(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Qv(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>ei?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function Iht(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=Qv(this.e3,this.sin_phi),i=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,s=this.ns0*ui(e-this.long0),l=i*Math.sin(s)+this.x0,c=this.rh-i*Math.cos(s)+this.y0;return t.x=l,t.y=c,t}function Lht(t){var e,n,r,i,s,l;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),r=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),r=-1),i=0,e!==0&&(i=Math.atan2(r*t.x,r*t.y)),r=e*this.ns0/this.a,this.sphere?l=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,l=this.phi1z(this.e3,n)),s=ui(i/this.ns0+this.long0),t.x=s,t.y=l,t}function Pht(t,e){var n,r,i,s,l,c=a1(.5*e);if(t<ei)return c;for(var a=t*t,f=1;f<=25;f++)if(n=Math.sin(c),r=Math.cos(c),i=t*n,s=1-i*i,l=.5*s*s/r*(e/(1-a)-n/s+.5/t*Math.log((1-i)/(1+i))),c=c+l,Math.abs(l)<=1e-7)return c;return null}var Fht=["Albers_Conic_Equal_Area","Albers","aea"];const kht={init:Mht,forward:Iht,inverse:Lht,names:Fht,phi1z:Pht};function Rht(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function Oht(t){var e,n,r,i,s,l,c,a,f=t.x,A=t.y;return r=ui(f-this.long0),e=Math.sin(A),n=Math.cos(A),i=Math.cos(r),l=this.sin_p14*e+this.cos_p14*n*i,s=1,l>0||Math.abs(l)<=ei?(c=this.x0+this.a*s*n*Math.sin(r)/l,a=this.y0+this.a*s*(this.cos_p14*e-this.sin_p14*n*i)/l):(c=this.x0+this.infinity_dist*n*Math.sin(r),a=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*i)),t.x=c,t.y=a,t}function Dht(t){var e,n,r,i,s,l;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(i=Math.atan2(e,this.rc),n=Math.sin(i),r=Math.cos(i),l=a1(r*this.sin_p14+t.y*n*this.cos_p14/e),s=Math.atan2(t.x*n,e*this.cos_p14*r-t.y*this.sin_p14*n),s=ui(this.long0+s)):(l=this.phic0,s=0),t.x=s,t.y=l,t}var Nht=["gnom"];const Uht={init:Rht,forward:Oht,inverse:Dht,names:Nht};function zht(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*Lr:Lr;for(var r=Math.asin(.5*e),i,s,l,c,a=0;a<30;a++)if(s=Math.sin(r),l=Math.cos(r),c=t*s,i=Math.pow(1-c*c,2)/(2*l)*(e/(1-t*t)-s/(1-c*c)+.5/t*Math.log((1-c)/(1+c))),r+=i,Math.abs(i)<=1e-10)return r;return NaN}function $ht(){this.sphere||(this.k0=xm(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function Vht(t){var e=t.x,n=t.y,r,i,s=ui(e-this.long0);if(this.sphere)r=this.x0+this.a*s*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(n)/Math.cos(this.lat_ts);else{var l=Qv(this.e,Math.sin(n));r=this.x0+this.a*this.k0*s,i=this.y0+this.a*l*.5/this.k0}return t.x=r,t.y=i,t}function Hht(t){t.x-=this.x0,t.y-=this.y0;var e,n;return this.sphere?(e=ui(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=zht(this.e,2*t.y*this.k0/this.a),e=ui(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t}var Qht=["cea"];const jht={init:$ht,forward:Vht,inverse:Hht,names:Qht};function Ght(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function Kht(t){var e=t.x,n=t.y,r=ui(e-this.long0),i=j2(n-this.lat0);return t.x=this.x0+this.a*r*this.rc,t.y=this.y0+this.a*i,t}function Wht(t){var e=t.x,n=t.y;return t.x=ui(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=j2(this.lat0+(n-this.y0)/this.a),t}var qht=["Equirectangular","Equidistant_Cylindrical","eqc"];const Yht={init:Ght,forward:Kht,inverse:Wht,names:qht};var Jq=20;function Xht(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=r5(this.es),this.e1=i5(this.es),this.e2=a5(this.es),this.e3=s5(this.es),this.ml0=this.a*eh(this.e0,this.e1,this.e2,this.e3,this.lat0)}function Zht(t){var e=t.x,n=t.y,r,i,s,l=ui(e-this.long0);if(s=l*Math.sin(n),this.sphere)Math.abs(n)<=ei?(r=this.a*l,i=-1*this.a*this.lat0):(r=this.a*Math.sin(s)/Math.tan(n),i=this.a*(j2(n-this.lat0)+(1-Math.cos(s))/Math.tan(n)));else if(Math.abs(n)<=ei)r=this.a*l,i=-1*this.ml0;else{var c=v2(this.a,this.e,Math.sin(n))/Math.tan(n);r=c*Math.sin(s),i=this.a*eh(this.e0,this.e1,this.e2,this.e3,n)-this.ml0+c*(1-Math.cos(s))}return t.x=r+this.x0,t.y=i+this.y0,t}function Jht(t){var e,n,r,i,s,l,c,a,f;if(r=t.x-this.x0,i=t.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=ei)e=ui(r/this.a+this.long0),n=0;else{l=this.lat0+i/this.a,c=r*r/this.a/this.a+l*l,a=l;var A;for(s=Jq;s;--s)if(A=Math.tan(a),f=-1*(l*(a*A+1)-a-.5*(a*a+c)*A)/((a-l)/A-1),a+=f,Math.abs(f)<=ei){n=a;break}e=ui(this.long0+Math.asin(r*Math.tan(a)/this.a)/Math.sin(n))}else if(Math.abs(i+this.ml0)<=ei)n=0,e=ui(this.long0+r/this.a);else{l=(this.ml0+i)/this.a,c=r*r/this.a/this.a+l*l,a=l;var m,_,y,T,E;for(s=Jq;s;--s)if(E=this.e*Math.sin(a),m=Math.sqrt(1-E*E)*Math.tan(a),_=this.a*eh(this.e0,this.e1,this.e2,this.e3,a),y=this.e0-2*this.e1*Math.cos(2*a)+4*this.e2*Math.cos(4*a)-6*this.e3*Math.cos(6*a),T=_/this.a,f=(l*(m*T+1)-T-.5*m*(T*T+c))/(this.es*Math.sin(2*a)*(T*T+c-2*l*T)/(4*m)+(l-T)*(m*y-2/Math.sin(2*a))-y),a-=f,Math.abs(f)<=ei){n=a;break}m=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=ui(this.long0+Math.asin(r*m/this.a)/Math.sin(n))}return t.x=e,t.y=n,t}var edt=["Polyconic","poly"];const tdt={init:Xht,forward:Zht,inverse:Jht,names:edt};function ndt(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function rdt(t){var e,n=t.x,r=t.y,i=r-this.lat0,s=n-this.long0,l=i/rC*1e-5,c=s,a=1,f=0;for(e=1;e<=10;e++)a=a*l,f=f+this.A[e]*a;var A=f,m=c,_=1,y=0,T,E,P=0,I=0;for(e=1;e<=6;e++)T=_*A-y*m,E=y*A+_*m,_=T,y=E,P=P+this.B_re[e]*_-this.B_im[e]*y,I=I+this.B_im[e]*_+this.B_re[e]*y;return t.x=I*this.a+this.x0,t.y=P*this.a+this.y0,t}function idt(t){var e,n=t.x,r=t.y,i=n-this.x0,s=r-this.y0,l=s/this.a,c=i/this.a,a=1,f=0,A,m,_=0,y=0;for(e=1;e<=6;e++)A=a*l-f*c,m=f*l+a*c,a=A,f=m,_=_+this.C_re[e]*a-this.C_im[e]*f,y=y+this.C_im[e]*a+this.C_re[e]*f;for(var T=0;T<this.iterations;T++){var E=_,P=y,I,F,R=l,N=c;for(e=2;e<=6;e++)I=E*_-P*y,F=P*_+E*y,E=I,P=F,R=R+(e-1)*(this.B_re[e]*E-this.B_im[e]*P),N=N+(e-1)*(this.B_im[e]*E+this.B_re[e]*P);E=1,P=0;var z=this.B_re[1],Q=this.B_im[1];for(e=2;e<=6;e++)I=E*_-P*y,F=P*_+E*y,E=I,P=F,z=z+e*(this.B_re[e]*E-this.B_im[e]*P),Q=Q+e*(this.B_im[e]*E+this.B_re[e]*P);var j=z*z+Q*Q;_=(R*z+N*Q)/j,y=(N*z-R*Q)/j}var H=_,K=y,ie=1,q=0;for(e=1;e<=9;e++)ie=ie*H,q=q+this.D[e]*ie;var W=this.lat0+q*rC*1e5,ee=this.long0+K;return t.x=ee,t.y=W,t}var adt=["New_Zealand_Map_Grid","nzmg"];const sdt={init:ndt,forward:rdt,inverse:idt,names:adt};function odt(){}function ldt(t){var e=t.x,n=t.y,r=ui(e-this.long0),i=this.x0+this.a*r,s=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=i,t.y=s,t}function udt(t){t.x-=this.x0,t.y-=this.y0;var e=ui(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t}var cdt=["Miller_Cylindrical","mill"];const hdt={init:odt,forward:ldt,inverse:udt,names:cdt};var ddt=20;function fdt(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=_ue(this.es)}function pdt(t){var e,n,r=t.x,i=t.y;if(r=ui(r-this.long0),this.sphere){if(!this.m)i=this.n!==1?Math.asin(this.n*Math.sin(i)):i;else for(var s=this.n*Math.sin(i),l=ddt;l;--l){var c=(this.m*i+Math.sin(i)-s)/(this.m+Math.cos(i));if(i-=c,Math.abs(c)<ei)break}e=this.a*this.C_x*r*(this.m+Math.cos(i)),n=this.a*this.C_y*i}else{var a=Math.sin(i),f=Math.cos(i);n=this.a*GB(i,a,f,this.en),e=this.a*r*f/Math.sqrt(1-this.es*a*a)}return t.x=e,t.y=n,t}function Adt(t){var e,n,r,i;return t.x-=this.x0,r=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,r=r/(this.C_x*(this.m+Math.cos(e))),this.m?e=a1((this.m*e+Math.sin(e))/this.n):this.n!==1&&(e=a1(Math.sin(e)/this.n)),r=ui(r+this.long0),e=j2(e)):(e=yue(t.y/this.a,this.es,this.en),i=Math.abs(e),i<Lr?(i=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(e)),r=ui(n)):i-ei<Lr&&(r=this.long0)),t.x=r,t.y=e,t}var mdt=["Sinusoidal","sinu"];const gdt={init:fdt,forward:pdt,inverse:Adt,names:mdt};function vdt(){}function _dt(t){for(var e=t.x,n=t.y,r=ui(e-this.long0),i=n,s=Math.PI*Math.sin(n);;){var l=-(i+Math.sin(i)-s)/(1+Math.cos(i));if(i+=l,Math.abs(l)<ei)break}i/=2,Math.PI/2-Math.abs(n)<ei&&(r=0);var c=.900316316158*this.a*r*Math.cos(i)+this.x0,a=1.4142135623731*this.a*Math.sin(i)+this.y0;return t.x=c,t.y=a,t}function ydt(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var r=ui(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var i=Math.asin(n);return t.x=r,t.y=i,t}var bdt=["Mollweide","moll"];const wdt={init:vdt,forward:_dt,inverse:ydt,names:bdt};function xdt(){Math.abs(this.lat1+this.lat2)<ei||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=r5(this.es),this.e1=i5(this.es),this.e2=a5(this.es),this.e3=s5(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=xm(this.e,this.sinphi,this.cosphi),this.ml1=eh(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<ei?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=xm(this.e,this.sinphi,this.cosphi),this.ml2=eh(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=eh(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function Cdt(t){var e=t.x,n=t.y,r;if(this.sphere)r=this.a*(this.g-n);else{var i=eh(this.e0,this.e1,this.e2,this.e3,n);r=this.a*(this.g-i)}var s=this.ns*ui(e-this.long0),l=this.x0+r*Math.sin(s),c=this.y0+this.rh-r*Math.cos(s);return t.x=l,t.y=c,t}function Edt(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,n,r,i;this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var s=0;if(n!==0&&(s=Math.atan2(e*t.x,e*t.y)),this.sphere)return i=ui(this.long0+s/this.ns),r=j2(this.g-n/this.a),t.x=i,t.y=r,t;var l=this.g-n/this.a;return r=t8(l,this.e0,this.e1,this.e2,this.e3),i=ui(this.long0+s/this.ns),t.x=i,t.y=r,t}var Sdt=["Equidistant_Conic","eqdc"];const Tdt={init:xdt,forward:Cdt,inverse:Edt,names:Sdt};function Bdt(){this.R=this.a}function Mdt(t){var e=t.x,n=t.y,r=ui(e-this.long0),i,s;Math.abs(n)<=ei&&(i=this.x0+this.R*r,s=this.y0);var l=a1(2*Math.abs(n/Math.PI));(Math.abs(r)<=ei||Math.abs(Math.abs(n)-Lr)<=ei)&&(i=this.x0,n>=0?s=this.y0+Math.PI*this.R*Math.tan(.5*l):s=this.y0+Math.PI*this.R*-Math.tan(.5*l));var c=.5*Math.abs(Math.PI/r-r/Math.PI),a=c*c,f=Math.sin(l),A=Math.cos(l),m=A/(f+A-1),_=m*m,y=m*(2/f-1),T=y*y,E=Math.PI*this.R*(c*(m-T)+Math.sqrt(a*(m-T)*(m-T)-(T+a)*(_-T)))/(T+a);r<0&&(E=-E),i=this.x0+E;var P=a+m;return E=Math.PI*this.R*(y*P-c*Math.sqrt((T+a)*(a+1)-P*P))/(T+a),n>=0?s=this.y0+E:s=this.y0-E,t.x=i,t.y=s,t}function Idt(t){var e,n,r,i,s,l,c,a,f,A,m,_,y;return t.x-=this.x0,t.y-=this.y0,m=Math.PI*this.R,r=t.x/m,i=t.y/m,s=r*r+i*i,l=-Math.abs(i)*(1+s),c=l-2*i*i+r*r,a=-2*l+1+2*i*i+s*s,y=i*i/a+(2*c*c*c/a/a/a-9*l*c/a/a)/27,f=(l-c*c/3/a)/a,A=2*Math.sqrt(-f/3),m=3*y/f/A,Math.abs(m)>1&&(m>=0?m=1:m=-1),_=Math.acos(m)/3,t.y>=0?n=(-A*Math.cos(_+Math.PI/3)-c/3/a)*Math.PI:n=-(-A*Math.cos(_+Math.PI/3)-c/3/a)*Math.PI,Math.abs(r)<ei?e=this.long0:e=ui(this.long0+Math.PI*(s-1+Math.sqrt(1+2*(r*r-i*i)+s*s))/2/r),t.x=e,t.y=n,t}var Ldt=["Van_der_Grinten_I","VanDerGrinten","vandg"];const Pdt={init:Bdt,forward:Mdt,inverse:Idt,names:Ldt};function Fdt(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function kdt(t){var e=t.x,n=t.y,r=Math.sin(t.y),i=Math.cos(t.y),s=ui(e-this.long0),l,c,a,f,A,m,_,y,T,E,P,I,F,R,N,z,Q,j,H,K,ie,q,W;return this.sphere?Math.abs(this.sin_p12-1)<=ei?(t.x=this.x0+this.a*(Lr-n)*Math.sin(s),t.y=this.y0-this.a*(Lr-n)*Math.cos(s),t):Math.abs(this.sin_p12+1)<=ei?(t.x=this.x0+this.a*(Lr+n)*Math.sin(s),t.y=this.y0+this.a*(Lr+n)*Math.cos(s),t):(j=this.sin_p12*r+this.cos_p12*i*Math.cos(s),z=Math.acos(j),Q=z?z/Math.sin(z):1,t.x=this.x0+this.a*Q*i*Math.sin(s),t.y=this.y0+this.a*Q*(this.cos_p12*r-this.sin_p12*i*Math.cos(s)),t):(l=r5(this.es),c=i5(this.es),a=a5(this.es),f=s5(this.es),Math.abs(this.sin_p12-1)<=ei?(A=this.a*eh(l,c,a,f,Lr),m=this.a*eh(l,c,a,f,n),t.x=this.x0+(A-m)*Math.sin(s),t.y=this.y0-(A-m)*Math.cos(s),t):Math.abs(this.sin_p12+1)<=ei?(A=this.a*eh(l,c,a,f,Lr),m=this.a*eh(l,c,a,f,n),t.x=this.x0+(A+m)*Math.sin(s),t.y=this.y0+(A+m)*Math.cos(s),t):(_=r/i,y=v2(this.a,this.e,this.sin_p12),T=v2(this.a,this.e,r),E=Math.atan((1-this.es)*_+this.es*y*this.sin_p12/(T*i)),P=Math.atan2(Math.sin(s),this.cos_p12*Math.tan(E)-this.sin_p12*Math.cos(s)),P===0?H=Math.asin(this.cos_p12*Math.sin(E)-this.sin_p12*Math.cos(E)):Math.abs(Math.abs(P)-Math.PI)<=ei?H=-Math.asin(this.cos_p12*Math.sin(E)-this.sin_p12*Math.cos(E)):H=Math.asin(Math.sin(s)*Math.cos(E)/Math.sin(P)),I=this.e*this.sin_p12/Math.sqrt(1-this.es),F=this.e*this.cos_p12*Math.cos(P)/Math.sqrt(1-this.es),R=I*F,N=F*F,K=H*H,ie=K*H,q=ie*H,W=q*H,z=y*H*(1-K*N*(1-N)/6+ie/8*R*(1-2*N)+q/120*(N*(4-7*N)-3*I*I*(1-7*N))-W/48*R),t.x=this.x0+z*Math.sin(P),t.y=this.y0+z*Math.cos(P),t))}function Rdt(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,i,s,l,c,a,f,A,m,_,y,T,E,P,I,F,R,N,z,Q,j,H;return this.sphere?(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*Lr*this.a?void 0:(n=e/this.a,r=Math.sin(n),i=Math.cos(n),s=this.long0,Math.abs(e)<=ei?l=this.lat0:(l=a1(i*this.sin_p12+t.y*r*this.cos_p12/e),c=Math.abs(this.lat0)-Lr,Math.abs(c)<=ei?this.lat0>=0?s=ui(this.long0+Math.atan2(t.x,-t.y)):s=ui(this.long0-Math.atan2(-t.x,t.y)):s=ui(this.long0+Math.atan2(t.x*r,e*this.cos_p12*i-t.y*this.sin_p12*r))),t.x=s,t.y=l,t)):(a=r5(this.es),f=i5(this.es),A=a5(this.es),m=s5(this.es),Math.abs(this.sin_p12-1)<=ei?(_=this.a*eh(a,f,A,m,Lr),e=Math.sqrt(t.x*t.x+t.y*t.y),y=_-e,l=t8(y/this.a,a,f,A,m),s=ui(this.long0+Math.atan2(t.x,-1*t.y)),t.x=s,t.y=l,t):Math.abs(this.sin_p12+1)<=ei?(_=this.a*eh(a,f,A,m,Lr),e=Math.sqrt(t.x*t.x+t.y*t.y),y=e-_,l=t8(y/this.a,a,f,A,m),s=ui(this.long0+Math.atan2(t.x,t.y)),t.x=s,t.y=l,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),P=Math.atan2(t.x,t.y),T=v2(this.a,this.e,this.sin_p12),I=Math.cos(P),F=this.e*this.cos_p12*I,R=-F*F/(1-this.es),N=3*this.es*(1-R)*this.sin_p12*this.cos_p12*I/(1-this.es),z=e/T,Q=z-R*(1+R)*Math.pow(z,3)/6-N*(1+3*R)*Math.pow(z,4)/24,j=1-R*Q*Q/2-z*Q*Q*Q/6,E=Math.asin(this.sin_p12*Math.cos(Q)+this.cos_p12*Math.sin(Q)*I),s=ui(this.long0+Math.asin(Math.sin(P)*Math.sin(Q)/Math.cos(E))),H=Math.sin(E),l=Math.atan2((H-this.es*j*this.sin_p12)*Math.tan(E),H*(1-this.es)),t.x=s,t.y=l,t))}var Odt=["Azimuthal_Equidistant","aeqd"];const Ddt={init:Fdt,forward:kdt,inverse:Rdt,names:Odt};function Ndt(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function Udt(t){var e,n,r,i,s,l,c,a,f=t.x,A=t.y;return r=ui(f-this.long0),e=Math.sin(A),n=Math.cos(A),i=Math.cos(r),l=this.sin_p14*e+this.cos_p14*n*i,s=1,(l>0||Math.abs(l)<=ei)&&(c=this.a*s*n*Math.sin(r),a=this.y0+this.a*s*(this.cos_p14*e-this.sin_p14*n*i)),t.x=c,t.y=a,t}function zdt(t){var e,n,r,i,s,l,c;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=a1(e/this.a),r=Math.sin(n),i=Math.cos(n),l=this.long0,Math.abs(e)<=ei?(c=this.lat0,t.x=l,t.y=c,t):(c=a1(i*this.sin_p14+t.y*r*this.cos_p14/e),s=Math.abs(this.lat0)-Lr,Math.abs(s)<=ei?(this.lat0>=0?l=ui(this.long0+Math.atan2(t.x,-t.y)):l=ui(this.long0-Math.atan2(-t.x,t.y)),t.x=l,t.y=c,t):(l=ui(this.long0+Math.atan2(t.x*r,e*this.cos_p14*i-t.y*this.sin_p14*r)),t.x=l,t.y=c,t))}var $dt=["ortho"];const Vdt={init:Ndt,forward:Udt,inverse:zdt,names:$dt};var jo={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},Os={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function Hdt(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=Lr-Rs/2?this.face=jo.TOP:this.lat0<=-(Lr-Rs/2)?this.face=jo.BOTTOM:Math.abs(this.long0)<=Rs?this.face=jo.FRONT:Math.abs(this.long0)<=Lr+Rs?this.face=this.long0>0?jo.RIGHT:jo.LEFT:this.face=jo.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function Qdt(t){var e={x:0,y:0},n,r,i,s,l,c,a={value:0};if(t.x-=this.long0,this.es!==0?n=Math.atan(this.one_minus_f_squared*Math.tan(t.y)):n=t.y,r=t.x,this.face===jo.TOP)s=Lr-n,r>=Rs&&r<=Lr+Rs?(a.value=Os.AREA_0,i=r-Lr):r>Lr+Rs||r<=-(Lr+Rs)?(a.value=Os.AREA_1,i=r>0?r-El:r+El):r>-(Lr+Rs)&&r<=-Rs?(a.value=Os.AREA_2,i=r+Lr):(a.value=Os.AREA_3,i=r);else if(this.face===jo.BOTTOM)s=Lr+n,r>=Rs&&r<=Lr+Rs?(a.value=Os.AREA_0,i=-r+Lr):r<Rs&&r>=-Rs?(a.value=Os.AREA_1,i=-r):r<-Rs&&r>=-(Lr+Rs)?(a.value=Os.AREA_2,i=-r-Lr):(a.value=Os.AREA_3,i=r>0?-r+El:-r-El);else{var f,A,m,_,y,T,E;this.face===jo.RIGHT?r=Fw(r,+Lr):this.face===jo.BACK?r=Fw(r,+El):this.face===jo.LEFT&&(r=Fw(r,-Lr)),_=Math.sin(n),y=Math.cos(n),T=Math.sin(r),E=Math.cos(r),f=y*E,A=y*T,m=_,this.face===jo.FRONT?(s=Math.acos(f),i=c3(s,m,A,a)):this.face===jo.RIGHT?(s=Math.acos(A),i=c3(s,m,-f,a)):this.face===jo.BACK?(s=Math.acos(-f),i=c3(s,m,-A,a)):this.face===jo.LEFT?(s=Math.acos(-A),i=c3(s,m,f,a)):(s=i=0,a.value=Os.AREA_0)}return c=Math.atan(12/El*(i+Math.acos(Math.sin(i)*Math.cos(Rs))-Lr)),l=Math.sqrt((1-Math.cos(s))/(Math.cos(c)*Math.cos(c))/(1-Math.cos(Math.atan(1/Math.cos(i))))),a.value===Os.AREA_1?c+=Lr:a.value===Os.AREA_2?c+=El:a.value===Os.AREA_3&&(c+=1.5*El),e.x=l*Math.cos(c),e.y=l*Math.sin(c),e.x=e.x*this.a+this.x0,e.y=e.y*this.a+this.y0,t.x=e.x,t.y=e.y,t}function jdt(t){var e={lam:0,phi:0},n,r,i,s,l,c,a,f,A,m={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,r=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),n=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?m.value=Os.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(m.value=Os.AREA_1,n-=Lr):t.x<0&&-t.x>=Math.abs(t.y)?(m.value=Os.AREA_2,n=n<0?n+El:n-El):(m.value=Os.AREA_3,n+=Lr),A=El/12*Math.tan(n),l=Math.sin(A)/(Math.cos(A)-1/Math.sqrt(2)),c=Math.atan(l),i=Math.cos(n),s=Math.tan(r),a=1-i*i*s*s*(1-Math.cos(Math.atan(1/Math.cos(c)))),a<-1?a=-1:a>1&&(a=1),this.face===jo.TOP)f=Math.acos(a),e.phi=Lr-f,m.value===Os.AREA_0?e.lam=c+Lr:m.value===Os.AREA_1?e.lam=c<0?c+El:c-El:m.value===Os.AREA_2?e.lam=c-Lr:e.lam=c;else if(this.face===jo.BOTTOM)f=Math.acos(a),e.phi=f-Lr,m.value===Os.AREA_0?e.lam=-c+Lr:m.value===Os.AREA_1?e.lam=-c:m.value===Os.AREA_2?e.lam=-c-Lr:e.lam=c<0?-c-El:-c+El;else{var _,y,T;_=a,A=_*_,A>=1?T=0:T=Math.sqrt(1-A)*Math.sin(c),A+=T*T,A>=1?y=0:y=Math.sqrt(1-A),m.value===Os.AREA_1?(A=y,y=-T,T=A):m.value===Os.AREA_2?(y=-y,T=-T):m.value===Os.AREA_3&&(A=y,y=T,T=-A),this.face===jo.RIGHT?(A=_,_=-y,y=A):this.face===jo.BACK?(_=-_,y=-y):this.face===jo.LEFT&&(A=_,_=y,y=-A),e.phi=Math.acos(-T)-Lr,e.lam=Math.atan2(y,_),this.face===jo.RIGHT?e.lam=Fw(e.lam,-Lr):this.face===jo.BACK?e.lam=Fw(e.lam,-El):this.face===jo.LEFT&&(e.lam=Fw(e.lam,+Lr))}if(this.es!==0){var E,P,I;E=e.phi<0?1:0,P=Math.tan(e.phi),I=this.b/Math.sqrt(P*P+this.one_minus_f_squared),e.phi=Math.atan(Math.sqrt(this.a*this.a-I*I)/(this.one_minus_f*I)),E&&(e.phi=-e.phi)}return e.lam+=this.long0,t.x=e.lam,t.y=e.phi,t}function c3(t,e,n,r){var i;return t<ei?(r.value=Os.AREA_0,i=0):(i=Math.atan2(e,n),Math.abs(i)<=Rs?r.value=Os.AREA_0:i>Rs&&i<=Lr+Rs?(r.value=Os.AREA_1,i-=Lr):i>Lr+Rs||i<=-(Lr+Rs)?(r.value=Os.AREA_2,i=i>=0?i-El:i+El):(r.value=Os.AREA_3,i+=Lr)),i}function Fw(t,e){var n=t+e;return n<-El?n+=d6:n>+El&&(n-=d6),n}var Gdt=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const Kdt={init:Hdt,forward:Qdt,inverse:jdt,names:Gdt};var ZR=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],b4=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],xue=.8487,Cue=1.3523,Eue=nm/5,Wdt=1/Eue,fw=18,n8=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},qdt=function(t,e){return t[1]+e*(2*t[2]+e*3*t[3])};function Ydt(t,e,n,r){for(var i=e;r;--r){var s=t(i);if(i-=s,Math.abs(s)<n)break}return i}function Xdt(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function Zdt(t){var e=ui(t.x-this.long0),n=Math.abs(t.y),r=Math.floor(n*Eue);r<0?r=0:r>=fw&&(r=fw-1),n=nm*(n-Wdt*r);var i={x:n8(ZR[r],n)*e,y:n8(b4[r],n)};return t.y<0&&(i.y=-i.y),i.x=i.x*this.a*xue+this.x0,i.y=i.y*this.a*Cue+this.y0,i}function Jdt(t){var e={x:(t.x-this.x0)/(this.a*xue),y:Math.abs(t.y-this.y0)/(this.a*Cue)};if(e.y>=1)e.x/=ZR[fw][0],e.y=t.y<0?-Lr:Lr;else{var n=Math.floor(e.y*fw);for(n<0?n=0:n>=fw&&(n=fw-1);;)if(b4[n][0]>e.y)--n;else if(b4[n+1][0]<=e.y)++n;else break;var r=b4[n],i=5*(e.y-r[0])/(b4[n+1][0]-r[0]);i=Ydt(function(s){return(n8(r,s)-e.y)/qdt(r,s)},i,ei,100),e.x/=n8(ZR[n],i),e.y=(5*n+i)*Xu,t.y<0&&(e.y=-e.y)}return e.x=ui(e.x+this.long0),e}var eft=["Robinson","robin"];const tft={init:Xdt,forward:Zdt,inverse:Jdt,names:eft};function nft(){this.name="geocent"}function rft(t){var e=cue(t,this.es,this.a);return e}function ift(t){var e=hue(t,this.es,this.a,this.b);return e}var aft=["Geocentric","geocentric","geocent","Geocent"];const sft={init:nft,forward:rft,inverse:ift,names:aft};var Sc={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},Xx={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function oft(){if(Object.keys(Xx).forEach((function(n){if(typeof this[n]>"u")this[n]=Xx[n].def;else{if(Xx[n].num&&isNaN(this[n]))throw new Error("Invalid parameter value, must be numeric "+n+" = "+this[n]);Xx[n].num&&(this[n]=parseFloat(this[n]))}Xx[n].degrees&&(this[n]=this[n]*Xu)}).bind(this)),Math.abs(Math.abs(this.lat0)-Lr)<ei?this.mode=this.lat0<0?Sc.S_POLE:Sc.N_POLE:Math.abs(this.lat0)<ei?this.mode=Sc.EQUIT:(this.mode=Sc.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)}function lft(t){t.x-=this.long0;var e=Math.sin(t.y),n=Math.cos(t.y),r=Math.cos(t.x),i,s;switch(this.mode){case Sc.OBLIQ:s=this.sinph0*e+this.cosph0*n*r;break;case Sc.EQUIT:s=n*r;break;case Sc.S_POLE:s=-e;break;case Sc.N_POLE:s=e;break}switch(s=this.pn1/(this.p-s),i=s*n*Math.sin(t.x),this.mode){case Sc.OBLIQ:s*=this.cosph0*e-this.sinph0*n*r;break;case Sc.EQUIT:s*=e;break;case Sc.N_POLE:s*=-(n*r);break;case Sc.S_POLE:s*=n*r;break}var l,c;return l=s*this.cg+i*this.sg,c=1/(l*this.sw*this.h1+this.cw),i=(i*this.cg-s*this.sg)*this.cw*c,s=l*c,t.x=i*this.a,t.y=s*this.a,t}function uft(t){t.x/=this.a,t.y/=this.a;var e={x:t.x,y:t.y},n,r,i;i=1/(this.pn1-t.y*this.sw),n=this.pn1*t.x*i,r=this.pn1*t.y*this.cw*i,t.x=n*this.cg+r*this.sg,t.y=r*this.cg-n*this.sg;var s=pf(t.x,t.y);if(Math.abs(s)<ei)e.x=0,e.y=t.y;else{var l,c;switch(c=1-s*s*this.pfact,c=(this.p-Math.sqrt(c))/(this.pn1/s+s/this.pn1),l=Math.sqrt(1-c*c),this.mode){case Sc.OBLIQ:e.y=Math.asin(l*this.sinph0+t.y*c*this.cosph0/s),t.y=(l-this.sinph0*Math.sin(e.y))*s,t.x*=c*this.cosph0;break;case Sc.EQUIT:e.y=Math.asin(t.y*c/s),t.y=l*s,t.x*=c;break;case Sc.N_POLE:e.y=Math.asin(l),t.y=-t.y;break;case Sc.S_POLE:e.y=-Math.asin(l);break}e.x=Math.atan2(t.x,t.y)}return t.x=e.x+this.long0,t.y=e.y,t}var cft=["Tilted_Perspective","tpers"];const hft={init:oft,forward:lft,inverse:uft,names:cft};function dft(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var t=1-this.es,e=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function fft(t){var e=t.x,n=t.y,r,i,s,l;if(e=e-this.long0,this.shape==="ellipse"){n=Math.atan(this.radius_p2*Math.tan(n));var c=this.radius_p/pf(this.radius_p*Math.cos(n),Math.sin(n));if(i=c*Math.cos(e)*Math.cos(n),s=c*Math.sin(e)*Math.cos(n),l=c*Math.sin(n),(this.radius_g-i)*i-s*s-l*l*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;r=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(s/pf(l,r)),t.y=this.radius_g_1*Math.atan(l/r)):(t.x=this.radius_g_1*Math.atan(s/r),t.y=this.radius_g_1*Math.atan(l/pf(s,r)))}else this.shape==="sphere"&&(r=Math.cos(n),i=Math.cos(e)*r,s=Math.sin(e)*r,l=Math.sin(n),r=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(s/pf(l,r)),t.y=this.radius_g_1*Math.atan(l/r)):(t.x=this.radius_g_1*Math.atan(s/r),t.y=this.radius_g_1*Math.atan(l/pf(s,r))));return t.x=t.x*this.a,t.y=t.y*this.a,t}function pft(t){var e=-1,n=0,r=0,i,s,l,c;if(t.x=t.x/this.a,t.y=t.y/this.a,this.shape==="ellipse"){this.flip_axis?(r=Math.tan(t.y/this.radius_g_1),n=Math.tan(t.x/this.radius_g_1)*pf(1,r)):(n=Math.tan(t.x/this.radius_g_1),r=Math.tan(t.y/this.radius_g_1)*pf(1,n));var a=r/this.radius_p;if(i=n*n+a*a+e*e,s=2*this.radius_g*e,l=s*s-4*i*this.C,l<0)return t.x=Number.NaN,t.y=Number.NaN,t;c=(-s-Math.sqrt(l))/(2*i),e=this.radius_g+c*e,n*=c,r*=c,t.x=Math.atan2(n,e),t.y=Math.atan(r*Math.cos(t.x)/e),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if(this.shape==="sphere"){if(this.flip_axis?(r=Math.tan(t.y/this.radius_g_1),n=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+r*r)):(n=Math.tan(t.x/this.radius_g_1),r=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+n*n)),i=n*n+r*r+e*e,s=2*this.radius_g*e,l=s*s-4*i*this.C,l<0)return t.x=Number.NaN,t.y=Number.NaN,t;c=(-s-Math.sqrt(l))/(2*i),e=this.radius_g+c*e,n*=c,r*=c,t.x=Math.atan2(n,e),t.y=Math.atan(r*Math.cos(t.x)/e)}return t.x=t.x+this.long0,t}var Aft=["Geostationary Satellite View","Geostationary_Satellite","geos"];const mft={init:dft,forward:fft,inverse:pft,names:Aft};var iC=1.340264,aC=-.081106,sC=893e-6,oC=.003796,r8=Math.sqrt(3)/2;function gft(){this.es=0,this.long0=this.long0!==void 0?this.long0:0}function vft(t){var e=ui(t.x-this.long0),n=t.y,r=Math.asin(r8*Math.sin(n)),i=r*r,s=i*i*i;return t.x=e*Math.cos(r)/(r8*(iC+3*aC*i+s*(7*sC+9*oC*i))),t.y=r*(iC+aC*i+s*(sC+oC*i)),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function _ft(t){t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a;var e=1e-9,n=12,r=t.y,i,s,l,c,a,f;for(f=0;f<n&&(i=r*r,s=i*i*i,l=r*(iC+aC*i+s*(sC+oC*i))-t.y,c=iC+3*aC*i+s*(7*sC+9*oC*i),r-=a=l/c,!(Math.abs(a)<e));++f);return i=r*r,s=i*i*i,t.x=r8*t.x*(iC+3*aC*i+s*(7*sC+9*oC*i))/Math.cos(r),t.y=Math.asin(Math.sin(r)/r8),t.x=ui(t.x+this.long0),t}var yft=["eqearth","Equal Earth","Equal_Earth"];const bft={init:gft,forward:vft,inverse:_ft,names:yft};function wft(t){t.Proj.projections.add(DS),t.Proj.projections.add(NS),t.Proj.projections.add(xct),t.Proj.projections.add(Fct),t.Proj.projections.add(Uct),t.Proj.projections.add(Qct),t.Proj.projections.add(Yct),t.Proj.projections.add(tht),t.Proj.projections.add(sht),t.Proj.projections.add(hht),t.Proj.projections.add(Bht),t.Proj.projections.add(kht),t.Proj.projections.add(Uht),t.Proj.projections.add(jht),t.Proj.projections.add(Yht),t.Proj.projections.add(tdt),t.Proj.projections.add(sdt),t.Proj.projections.add(hdt),t.Proj.projections.add(gdt),t.Proj.projections.add(wdt),t.Proj.projections.add(Tdt),t.Proj.projections.add(Pdt),t.Proj.projections.add(Ddt),t.Proj.projections.add(Vdt),t.Proj.projections.add(Kdt),t.Proj.projections.add(tft),t.Proj.projections.add(sft),t.Proj.projections.add(hft),t.Proj.projections.add(mft),t.Proj.projections.add(bft)}Ff.defaultDatum="WGS84";Ff.Proj=cm;Ff.WGS84=new Ff.Proj("WGS84");Ff.Point=g2;Ff.toPoint=due;Ff.defs=Jc;Ff.nadgrid=Eut;Ff.transform=e8;Ff.mgrs=$ut;Ff.version="__VERSION__";wft(Ff);const xft=class Sue extends wy{constructor(e){Sue.options=e,super(e)}createRenderer(){return new Tlt(this,{className:this.getClassName(),style:this.getProperties().style})}};QB(xft,"options",{});const lU=class $A extends Zst{constructor(e){$A.layerLabelMap={vec:"cva",ter:"cta",img:"cia"},$A.layerZoomMap={vec:18,ter:14,img:18};const n={...e};n.layerType=n.layerType||"vec",n.layerType=n.isLabel?$A.layerLabelMap[n.layerType]:n.layerType,n.matrixSet=n.projection==="EPSG:4326"||n.projection==="EPSG:4490"?"c":"w",!n.url&&!n.urls&&(n.url="https://t{0-7}.tianditu.gov.cn/{layer}_{proj}/wmts?"),n.tk&&(n.url=`${n.url}tk=${n.tk}`),n.url=(n.url||"").replace("{layer}",n.layerType).replace("{proj}",n.matrixSet);const r=n.tileGrid||$A.getTileGrid(n.projection),i=n.crossOrigin!==void 0?n.crossOrigin:"anonymous",s={version:n.version||"1.0.0",format:n.format||"tiles",dimensions:n.dimensions||{},layer:n.layerType,matrixSet:n.matrixSet,tileGrid:r,style:n.style||"default",cacheSize:n.cacheSize,crossOrigin:i,opaque:n.opaque===void 0?!0:n.opaque,maxZoom:$A.layerZoomMap[n.layerType],reprojectionErrorThreshold:n.reprojectionErrorThreshold,url:n.url,urls:n.urls,projection:n.projection||"EPSG:3857",wrapX:n.wrapX};n.tileProxy&&($A.tileProxy=n.tileProxy,s.tileLoadFunction=(l,c)=>{l.getImage().src=$A.tileProxy+encodeURIComponent(c)}),super(s)}static getTileGrid(e){return e==="EPSG:4326"||e==="EPSG:4490"?$A.default4326TileGrid():$A.default3857TileGrid()}static default4326TileGrid(){const e=[],n=[];for(let i=1;i<19;i++)e.push(.703125*2/2**i),n.push(i.toString());return new pq({extent:[-180,-90,180,90],resolutions:e,origin:[-180,90],matrixIds:n})}static default3857TileGrid(){const e=[],n=[];for(let i=1;i<19;i++)e.push(78271.51696402031*2/2**i),n.push(i.toString());return new pq({extent:[-200375083427892e-7,-200375083427892e-7,200375083427892e-7,200375083427892e-7],resolutions:e,matrixIds:n,origin:[-200375083427892e-7,200375083427892e-7]})}};QB(lU,"layerLabelMap",{});QB(lU,"layerZoomMap",{});QB(lU,"tileProxy");var Af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tue(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Cft={exports:{}};(function(t,e){(function(n,r){r()})(Af,function(){function n(f,A){return typeof A>"u"?A={autoBom:!1}:typeof A!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),A={autoBom:!A}),A.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\uFEFF",f],{type:f.type}):f}function r(f,A,m){var _=new XMLHttpRequest;_.open("GET",f),_.responseType="blob",_.onload=function(){a(_.response,A,m)},_.onerror=function(){console.error("could not download file")},_.send()}function i(f){var A=new XMLHttpRequest;A.open("HEAD",f,!1);try{A.send()}catch{}return 200<=A.status&&299>=A.status}function s(f){try{f.dispatchEvent(new MouseEvent("click"))}catch{var A=document.createEvent("MouseEvents");A.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),f.dispatchEvent(A)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Af=="object"&&Af.global===Af?Af:void 0,c=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(f,A,m){var _=l.URL||l.webkitURL,y=document.createElement("a");A=A||f.name||"download",y.download=A,y.rel="noopener",typeof f=="string"?(y.href=f,y.origin===location.origin?s(y):i(y.href)?r(f,A,m):s(y,y.target="_blank")):(y.href=_.createObjectURL(f),setTimeout(function(){_.revokeObjectURL(y.href)},4e4),setTimeout(function(){s(y)},0))}:"msSaveOrOpenBlob"in navigator?function(f,A,m){if(A=A||f.name||"download",typeof f!="string")navigator.msSaveOrOpenBlob(n(f,m),A);else if(i(f))r(f,A,m);else{var _=document.createElement("a");_.href=f,_.target="_blank",setTimeout(function(){s(_)})}}:function(f,A,m,_){if(_=_||open("","_blank"),_&&(_.document.title=_.document.body.innerText="downloading..."),typeof f=="string")return r(f,A,m);var y=f.type==="application/octet-stream",T=/constructor/i.test(l.HTMLElement)||l.safari,E=/CriOS\/[\d]+/.test(navigator.userAgent);if((E||y&&T||c)&&typeof FileReader<"u"){var P=new FileReader;P.onloadend=function(){var R=P.result;R=E?R:R.replace(/^data:[^;]*;/,"data:attachment/file;"),_?_.location.href=R:location=R,_=null},P.readAsDataURL(f)}else{var I=l.URL||l.webkitURL,F=I.createObjectURL(f);_?_.location=F:location.href=F,_=null,setTimeout(function(){I.revokeObjectURL(F)},4e4)}});l.saveAs=a.saveAs=a,t.exports=a})})(Cft);function vs(t){"@babel/helpers - typeof";return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vs(t)}var Oh=Uint8Array,th=Uint16Array,A6=Uint32Array,KB=new Oh([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),WB=new Oh([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),JR=new Oh([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Bue=function(t,e){for(var n=new th(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new A6(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return[n,i]},Mue=Bue(KB,2),Iue=Mue[0],eO=Mue[1];Iue[28]=258,eO[258]=28;var Lue=Bue(WB,0),Eft=Lue[0],eY=Lue[1],tO=new th(32768);for(var ko=0;ko<32768;++ko){var iv=(ko&43690)>>>1|(ko&21845)<<1;iv=(iv&52428)>>>2|(iv&13107)<<2,iv=(iv&61680)>>>4|(iv&3855)<<4,tO[ko]=((iv&65280)>>>8|(iv&255)<<8)>>>1}var hm=function(t,e,n){for(var r=t.length,i=0,s=new th(e);i<r;++i)++s[t[i]-1];var l=new th(e);for(i=0;i<e;++i)l[i]=l[i-1]+s[i-1]<<1;var c;if(n){c=new th(1<<e);var a=15-e;for(i=0;i<r;++i)if(t[i])for(var f=i<<4|t[i],A=e-t[i],m=l[t[i]-1]++<<A,_=m|(1<<A)-1;m<=_;++m)c[tO[m]>>>a]=f}else for(c=new th(r),i=0;i<r;++i)c[i]=tO[l[t[i]-1]++]>>>15-t[i];return c},s1=new Oh(288);for(var ko=0;ko<144;++ko)s1[ko]=8;for(var ko=144;ko<256;++ko)s1[ko]=9;for(var ko=256;ko<280;++ko)s1[ko]=7;for(var ko=280;ko<288;++ko)s1[ko]=8;var m6=new Oh(32);for(var ko=0;ko<32;++ko)m6[ko]=5;var Sft=hm(s1,9,0),Tft=hm(s1,9,1),Bft=hm(m6,5,0),Mft=hm(m6,5,1),mP=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Cp=function(t,e,n){var r=e/8>>0;return(t[r]|t[r+1]<<8)>>>(e&7)&n},gP=function(t,e){var n=e/8>>0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>>(e&7)},uU=function(t){return(t/8>>0)+(t&7&&1)},Pue=function(t,e,n){(n==null||n>t.length)&&(n=t.length);var r=new(t instanceof th?th:t instanceof A6?A6:Oh)(n-e);return r.set(t.subarray(e,n)),r},Ift=function(t,e,n){var r=t.length,i=!e||n,s=!n||n.i;n||(n={}),e||(e=new Oh(r*3));var l=function(Le){var be=e.length;if(Le>be){var Re=new Oh(Math.max(be*2,Le));Re.set(e),e=Re}},c=n.f||0,a=n.p||0,f=n.b||0,A=n.l,m=n.d,_=n.m,y=n.n,T=r*8;do{if(!A){n.f=c=Cp(t,a,1);var E=Cp(t,a+1,3);if(a+=3,E)if(E==1)A=Tft,m=Mft,_=9,y=5;else if(E==2){var R=Cp(t,a,31)+257,N=Cp(t,a+10,15)+4,z=R+Cp(t,a+5,31)+1;a+=14;for(var Q=new Oh(z),j=new Oh(19),H=0;H<N;++H)j[JR[H]]=Cp(t,a+H*3,7);a+=N*3;var K=mP(j),ie=(1<<K)-1;if(!s&&a+z*(K+7)>T)break;for(var q=hm(j,K,1),H=0;H<z;){var W=q[Cp(t,a,ie)];a+=W&15;var P=W>>>4;if(P<16)Q[H++]=P;else{var ee=0,ue=0;for(P==16?(ue=3+Cp(t,a,3),a+=2,ee=Q[H-1]):P==17?(ue=3+Cp(t,a,7),a+=3):P==18&&(ue=11+Cp(t,a,127),a+=7);ue--;)Q[H++]=ee}}var J=Q.subarray(0,R),te=Q.subarray(R);_=mP(J),y=mP(te),A=hm(J,_,1),m=hm(te,y,1)}else throw"invalid block type";else{var P=uU(a)+4,I=t[P-4]|t[P-3]<<8,F=P+I;if(F>r){if(s)throw"unexpected EOF";break}i&&l(f+I),e.set(t.subarray(P,F),f),n.b=f+=I,n.p=a=F*8;continue}if(a>T)throw"unexpected EOF"}i&&l(f+131072);for(var ne=(1<<_)-1,he=(1<<y)-1,ce=_+y+18;s||a+ce<T;){var ee=A[gP(t,a)&ne],ye=ee>>>4;if(a+=ee&15,a>T)throw"unexpected EOF";if(!ee)throw"invalid length/literal";if(ye<256)e[f++]=ye;else if(ye==256){A=null;break}else{var Ee=ye-254;if(ye>264){var H=ye-257,se=KB[H];Ee=Cp(t,a,(1<<se)-1)+Iue[H],a+=se}var oe=m[gP(t,a)&he],_e=oe>>>4;if(!oe)throw"invalid distance";a+=oe&15;var te=Eft[_e];if(_e>3){var se=WB[_e];te+=gP(t,a)&(1<<se)-1,a+=se}if(a>T)throw"unexpected EOF";i&&l(f+131072);for(var Ue=f+Ee;f<Ue;f+=4)e[f]=e[f-te],e[f+1]=e[f+1-te],e[f+2]=e[f+2-te],e[f+3]=e[f+3-te];f=Ue}}n.l=A,n.p=a,n.b=f,A&&(c=1,n.m=_,n.d=m,n.n=y)}while(!c);return f==e.length?e:Pue(e,0,f)},Cg=function(t,e,n){n<<=e&7;var r=e/8>>0;t[r]|=n,t[r+1]|=n>>>8},Zx=function(t,e,n){n<<=e&7;var r=e/8>>0;t[r]|=n,t[r+1]|=n>>>8,t[r+2]|=n>>>16},vP=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return[new Oh(0),0];if(i==1){var l=new Oh(n[0].s+1);return l[n[0].s]=1,[l,1]}n.sort(function(z,Q){return z.f-Q.f}),n.push({s:-1,f:25001});var c=n[0],a=n[1],f=0,A=1,m=2;for(n[0]={s:-1,f:c.f+a.f,l:c,r:a};A!=i-1;)c=n[n[f].f<n[m].f?f++:m++],a=n[f!=A&&n[f].f<n[m].f?f++:m++],n[A++]={s:-1,f:c.f+a.f,l:c,r:a};for(var _=s[0].s,r=1;r<i;++r)s[r].s>_&&(_=s[r].s);var y=new th(_+1),T=nO(n[A-1],y,0);if(T>e){var r=0,E=0,P=T-e,I=1<<P;for(s.sort(function(Q,j){return y[j.s]-y[Q.s]||Q.f-j.f});r<i;++r){var F=s[r].s;if(y[F]>e)E+=I-(1<<T-y[F]),y[F]=e;else break}for(E>>>=P;E>0;){var R=s[r].s;y[R]<e?E-=1<<e-y[R]++-1:++r}for(;r>=0&&E;--r){var N=s[r].s;y[N]==e&&(--y[N],++E)}T=e}return[new Oh(y),T]},nO=function(t,e,n){return t.s==-1?Math.max(nO(t.l,e,n+1),nO(t.r,e,n+1)):e[t.s]=n},tY=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new th(++e),r=0,i=t[0],s=1,l=function(a){n[r++]=a},c=1;c<=e;++c)if(t[c]==i&&c!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)l(32754);s>2&&(l(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(l(i),--s;s>6;s-=6)l(8304);s>2&&(l(s-3<<5|8208),s=0)}for(;s--;)l(i);s=1,i=t[c]}return[n.subarray(0,r),e]},Jx=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},rO=function(t,e,n){var r=n.length,i=uU(e+2);t[i]=r&255,t[i+1]=r>>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},nY=function(t,e,n,r,i,s,l,c,a,f,A){Cg(e,A++,n),++i[256];for(var m=vP(i,15),_=m[0],y=m[1],T=vP(s,15),E=T[0],P=T[1],I=tY(_),F=I[0],R=I[1],N=tY(E),z=N[0],Q=N[1],j=new th(19),H=0;H<F.length;++H)j[F[H]&31]++;for(var H=0;H<z.length;++H)j[z[H]&31]++;for(var K=vP(j,7),ie=K[0],q=K[1],W=19;W>4&&!ie[JR[W-1]];--W);var ee=f+5<<3,ue=Jx(i,s1)+Jx(s,m6)+l,J=Jx(i,_)+Jx(s,E)+l+14+3*W+Jx(j,ie)+(2*j[16]+3*j[17]+7*j[18]);if(ee<=ue&&ee<=J)return rO(e,A,t.subarray(a,a+f));var te,ne,he,ce;if(Cg(e,A,1+(J<ue)),A+=2,J<ue){te=hm(_,y,0),ne=_,he=hm(E,P,0),ce=E;var ye=hm(ie,q,0);Cg(e,A,R-257),Cg(e,A+5,Q-1),Cg(e,A+10,W-4),A+=14;for(var H=0;H<W;++H)Cg(e,A+3*H,ie[JR[H]]);A+=3*W;for(var Ee=[F,z],se=0;se<2;++se)for(var oe=Ee[se],H=0;H<oe.length;++H){var _e=oe[H]&31;Cg(e,A,ye[_e]),A+=ie[_e],_e>15&&(Cg(e,A,oe[H]>>>5&127),A+=oe[H]>>>12)}}else te=Sft,ne=s1,he=Bft,ce=m6;for(var H=0;H<c;++H)if(r[H]>255){var _e=r[H]>>>18&31;Zx(e,A,te[_e+257]),A+=ne[_e+257],_e>7&&(Cg(e,A,r[H]>>>23&31),A+=KB[_e]);var Ue=r[H]&31;Zx(e,A,he[Ue]),A+=ce[Ue],Ue>3&&(Zx(e,A,r[H]>>>5&8191),A+=WB[Ue])}else Zx(e,A,te[r[H]]),A+=ne[r[H]];return Zx(e,A,te[256]),A+ne[256]},Lft=new A6([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Pft=function(t,e,n,r,i,s){var l=t.length,c=new Oh(r+l+5*(1+Math.floor(l/7e3))+i),a=c.subarray(r,c.length-i),f=0;if(!e||l<8)for(var A=0;A<=l;A+=65535){var m=A+65535;m<l?f=rO(a,f,t.subarray(A,m)):(a[A]=s,f=rO(a,f,t.subarray(A,l)))}else{for(var _=Lft[e-1],y=_>>>13,T=_&8191,E=(1<<n)-1,P=new th(32768),I=new th(E+1),F=Math.ceil(n/3),R=2*F,N=function(Ge){return(t[Ge]^t[Ge+1]<<F^t[Ge+2]<<R)&E},z=new A6(25e3),Q=new th(288),j=new th(32),H=0,K=0,A=0,ie=0,q=0,W=0;A<l;++A){var ee=N(A),ue=A&32767,J=I[ee];if(P[ue]=J,I[ee]=ue,q<=A){var te=l-A;if((H>7e3||ie>24576)&&te>423){f=nY(t,a,0,z,Q,j,K,ie,W,A-W,f),ie=H=K=0,W=A;for(var ne=0;ne<286;++ne)Q[ne]=0;for(var ne=0;ne<30;++ne)j[ne]=0}var he=2,ce=0,ye=T,Ee=ue-J&32767;if(te>2&&ee==N(A-Ee))for(var se=Math.min(y,te)-1,oe=Math.min(32767,A),_e=Math.min(258,te);Ee<=oe&&--ye&&ue!=J;){if(t[A+he]==t[A+he-Ee]){for(var Ue=0;Ue<_e&&t[A+Ue]==t[A+Ue-Ee];++Ue);if(Ue>he){if(he=Ue,ce=Ee,Ue>se)break;for(var Le=Math.min(Ee,Ue-2),be=0,ne=0;ne<Le;++ne){var Re=A-Ee+ne+32768&32767,Qe=P[Re],Je=Re-Qe+32768&32767;Je>be&&(be=Je,J=Re)}}}ue=J,J=P[ue],Ee+=ue-J+32768&32767}if(ce){z[ie++]=268435456|eO[he]<<18|eY[ce];var nt=eO[he]&31,Ve=eY[ce]&31;K+=KB[nt]+WB[Ve],++Q[257+nt],++j[Ve],q=A+he,++H}else z[ie++]=t[A],++Q[t[A]]}}f=nY(t,a,s,z,Q,j,K,ie,W,A-W,f)}return Pue(c,0,r+uU(f)+i)},Fft=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length,l=0;l!=s;){for(var c=Math.min(l+5552,s);l<c;++l)r+=n[l],i+=r;r%=65521,i%=65521}t=r,e=i},d:function(){return(t>>>8<<16|(e&255)<<8|e>>>8)+((t&255)<<23)*2}}},kft=function(t,e,n,r,i){return Pft(t,e.level==null?6:e.level,e.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):12+e.mem,n,r,!i)},Rft=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},Oft=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;t[0]=120,t[1]=r<<6|(r?32-2*r:1)},Dft=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function iO(t,e){e===void 0&&(e={});var n=Fft();n.p(t);var r=kft(t,e,2,4);return Oft(r,e),Rft(r,r.length-4,n.d()),r}function Nft(t,e){return Ift((Dft(t),t.subarray(2,-4)),e)}/** @license
 *
 * jsPDF - PDF Document creation from JavaScript
 * Version 2.5.1 Built on 2022-01-28T15:37:57.791Z
 *                      CommitID 00000000
 *
 * Copyright (c) 2010-2021 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
 *               2015-2021 yWorks GmbH, http://www.yworks.com
 *               2015-2021 Lukas Hollnder <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
 *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
 *               2010 Aaron Spike, https://github.com/acspike
 *               2012 Willow Systems Corporation, https://github.com/willowsystems
 *               2012 Pablo Hess, https://github.com/pablohess
 *               2012 Florian Jenett, https://github.com/fjenett
 *               2013 Warren Weckesser, https://github.com/warrenweckesser
 *               2013 Youssef Beddad, https://github.com/lifof
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2013 Stefan Slonevskiy, https://github.com/stefslon
 *               2013 Jeremy Morel, https://github.com/jmorel
 *               2013 Christoph Hartmann, https://github.com/chris-rock
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Makes, https://github.com/dollaruw
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Steven Spungin, https://github.com/Flamenco
 *               2014 Kenneth Glassey, https://github.com/Gavvers
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Contributor(s):
 *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
 *    kim3er, mfo, alnorth, Flamenco
 */var oa=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function _P(){oa.console&&typeof oa.console.log=="function"&&oa.console.log.apply(oa.console,arguments)}var oo={log:_P,warn:function(t){oa.console&&(typeof oa.console.warn=="function"?oa.console.warn.apply(oa.console,arguments):_P.call(null,arguments))},error:function(t){oa.console&&(typeof oa.console.error=="function"?oa.console.error.apply(oa.console,arguments):_P(t))}};function yP(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){p_(r.response,e,n)},r.onerror=function(){oo.error("could not download file")},r.send()}function rY(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function h3(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var lC,aO,p_=oa.saveAs||((typeof window>"u"?"undefined":vs(window))!=="object"||window!==oa?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=oa.URL||oa.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?rY(i.href)?yP(t,e,n):h3(i,i.target="_blank"):h3(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){h3(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(rY(t))yP(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){h3(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:vs(s)!=="object"&&(oo.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return yP(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(oa.HTMLElement)||oa.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||i&&s)&&(typeof FileReader>"u"?"undefined":vs(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var A=c.result;A=l?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=A:location=A,r=null},c.readAsDataURL(t)}else{var a=oa.URL||oa.webkitURL,f=a.createObjectURL(t);r?r.location=f:location.href=f,r=null,setTimeout(function(){a.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Fue(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,l=i.exec(t);l&&(e=s(l),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),a=this.g.toString(16),f=this.b.toString(16);return c.length==1&&(c="0"+c),a.length==1&&(a="0"+a),f.length==1&&(f="0"+f),"#"+c+a+f}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function bP(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=vc(n,r,i,s,e[0],7,-680876936),s=vc(s,n,r,i,e[1],12,-389564586),i=vc(i,s,n,r,e[2],17,606105819),r=vc(r,i,s,n,e[3],22,-1044525330),n=vc(n,r,i,s,e[4],7,-176418897),s=vc(s,n,r,i,e[5],12,1200080426),i=vc(i,s,n,r,e[6],17,-1473231341),r=vc(r,i,s,n,e[7],22,-45705983),n=vc(n,r,i,s,e[8],7,1770035416),s=vc(s,n,r,i,e[9],12,-1958414417),i=vc(i,s,n,r,e[10],17,-42063),r=vc(r,i,s,n,e[11],22,-1990404162),n=vc(n,r,i,s,e[12],7,1804603682),s=vc(s,n,r,i,e[13],12,-40341101),i=vc(i,s,n,r,e[14],17,-1502002290),n=_c(n,r=vc(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=_c(s,n,r,i,e[6],9,-1069501632),i=_c(i,s,n,r,e[11],14,643717713),r=_c(r,i,s,n,e[0],20,-373897302),n=_c(n,r,i,s,e[5],5,-701558691),s=_c(s,n,r,i,e[10],9,38016083),i=_c(i,s,n,r,e[15],14,-660478335),r=_c(r,i,s,n,e[4],20,-405537848),n=_c(n,r,i,s,e[9],5,568446438),s=_c(s,n,r,i,e[14],9,-1019803690),i=_c(i,s,n,r,e[3],14,-187363961),r=_c(r,i,s,n,e[8],20,1163531501),n=_c(n,r,i,s,e[13],5,-1444681467),s=_c(s,n,r,i,e[2],9,-51403784),i=_c(i,s,n,r,e[7],14,1735328473),n=yc(n,r=_c(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=yc(s,n,r,i,e[8],11,-2022574463),i=yc(i,s,n,r,e[11],16,1839030562),r=yc(r,i,s,n,e[14],23,-35309556),n=yc(n,r,i,s,e[1],4,-1530992060),s=yc(s,n,r,i,e[4],11,1272893353),i=yc(i,s,n,r,e[7],16,-155497632),r=yc(r,i,s,n,e[10],23,-1094730640),n=yc(n,r,i,s,e[13],4,681279174),s=yc(s,n,r,i,e[0],11,-358537222),i=yc(i,s,n,r,e[3],16,-722521979),r=yc(r,i,s,n,e[6],23,76029189),n=yc(n,r,i,s,e[9],4,-640364487),s=yc(s,n,r,i,e[12],11,-421815835),i=yc(i,s,n,r,e[15],16,530742520),n=bc(n,r=yc(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=bc(s,n,r,i,e[7],10,1126891415),i=bc(i,s,n,r,e[14],15,-1416354905),r=bc(r,i,s,n,e[5],21,-57434055),n=bc(n,r,i,s,e[12],6,1700485571),s=bc(s,n,r,i,e[3],10,-1894986606),i=bc(i,s,n,r,e[10],15,-1051523),r=bc(r,i,s,n,e[1],21,-2054922799),n=bc(n,r,i,s,e[8],6,1873313359),s=bc(s,n,r,i,e[15],10,-30611744),i=bc(i,s,n,r,e[6],15,-1560198380),r=bc(r,i,s,n,e[13],21,1309151649),n=bc(n,r,i,s,e[4],6,-145523070),s=bc(s,n,r,i,e[11],10,-1120210379),i=bc(i,s,n,r,e[2],15,718787259),r=bc(r,i,s,n,e[9],21,-343485551),t[0]=Fv(n,t[0]),t[1]=Fv(r,t[1]),t[2]=Fv(i,t[2]),t[3]=Fv(s,t[3])}function qB(t,e,n,r,i,s){return e=Fv(Fv(e,t),Fv(r,s)),Fv(e<<i|e>>>32-i,n)}function vc(t,e,n,r,i,s,l){return qB(e&n|~e&r,t,e,i,s,l)}function _c(t,e,n,r,i,s,l){return qB(e&r|n&~r,t,e,i,s,l)}function yc(t,e,n,r,i,s,l){return qB(e^n^r,t,e,i,s,l)}function bc(t,e,n,r,i,s,l){return qB(n^(e|~r),t,e,i,s,l)}function kue(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)bP(r,Uft(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(bP(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,bP(r,i),r}function Uft(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}lC=oa.atob.bind(oa),aO=oa.btoa.bind(oa);var iY="0123456789abcdef".split("");function zft(t){for(var e="",n=0;n<4;n++)e+=iY[t>>8*n+4&15]+iY[t>>8*n&15];return e}function $ft(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function sO(t){return kue(t).map($ft).join("")}var Vft=function(t){for(var e=0;e<t.length;e++)t[e]=zft(t[e]);return t.join("")}(kue("hello"))!="5d41402abc4b2a76b9719d911017c592";function Fv(t,e){if(Vft){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function oO(t,e){var n,r,i,s;if(t!==n){for(var l=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),c=[],a=0;a<256;a++)c[a]=a;var f=0;for(a=0;a<256;a++){var A=c[a];f=(f+A+l.charCodeAt(a))%256,c[a]=c[f],c[f]=A}n=t,r=c}else c=r;var m=e.length,_=0,y=0,T="";for(a=0;a<m;a++)y=(y+(A=c[_=(_+1)%256]))%256,c[_]=c[y],c[y]=A,l=c[(c[_]+c[y])%256],T+=String.fromCharCode(e.charCodeAt(a)^l);return T}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var aY={print:4,modify:8,copy:16,"annot-forms":32};function Zb(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(c){if(aY.perm!==void 0)throw new Error("Invalid permission: "+c);i+=aY[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),l=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,l),this.P=-(1+(255^i)),this.encryptionKey=sO(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=oO(this.encryptionKey,this.padding)}function Jb(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function sY(t){if(vs(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var l=e[n][s];try{l[0].apply(t,r)}catch(c){oa.console&&oo.error("jsPDF PubSub Error",c.message,c)}l[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function i8(t){if(!(this instanceof i8))return new i8(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function Rue(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function __(t,e,n,r,i){if(!(this instanceof __))return new __(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,Rue.call(this,r,i)}function pw(t,e,n,r,i){if(!(this instanceof pw))return new pw(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,Rue.call(this,r,i)}function Aa(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],l=[],c=1,a=16,f="S",A=null;vs(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(A=t.encryption||null)!==null&&(A.userPassword=A.userPassword||"",A.ownerPassword=A.ownerPassword||"",A.userPermissions=A.userPermissions||[]),c=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(a=t.floatPrecision),f=t.defaultPathOperation||"S"),l=t.filters||(s===!0?["FlateEncode"]:l),r=r||"mm",n=(""+(n||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,_={},y={internal:{},__private__:{}};y.__private__.PubSub=sY;var T="1.3",E=y.__private__.getPdfVersion=function(){return T};y.__private__.setPdfVersion=function(me){T=me};var P={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return P};var I=y.__private__.getPageFormat=function(me){return P[me]};i=i||"a4";var F={COMPAT:"compat",ADVANCED:"advanced"},R=F.COMPAT;function N(){this.saveGraphicsState(),je(new Rr(Xe,0,0,-Xe,0,$o()*Xe).toString()+" cm"),this.setFontSize(this.getFontSize()/Xe),f="n",R=F.ADVANCED}function z(){this.restoreGraphicsState(),f="S",R=F.COMPAT}var Q=y.__private__.combineFontStyleAndFontWeight=function(me,tt){if(me=="bold"&&tt=="normal"||me=="bold"&&tt==400||me=="normal"&&tt=="italic"||me=="bold"&&tt=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return tt&&(me=tt==400||tt==="normal"?me==="italic"?"italic":"normal":tt!=700&&tt!=="bold"||me!=="normal"?(tt==700?"bold":tt)+""+me:"bold"),me};y.advancedAPI=function(me){var tt=R===F.COMPAT;return tt&&N.call(this),typeof me!="function"||(me(this),tt&&z.call(this)),this},y.compatAPI=function(me){var tt=R===F.ADVANCED;return tt&&z.call(this),typeof me!="function"||(me(this),tt&&N.call(this)),this},y.isAdvancedAPI=function(){return R===F.ADVANCED};var j,H=function(me){if(R!==F.ADVANCED)throw new Error(me+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},K=y.roundToPrecision=y.__private__.roundToPrecision=function(me,tt){var zt=e||tt;if(isNaN(me)||isNaN(zt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return me.toFixed(zt).replace(/0+$/,"")};j=y.hpf=y.__private__.hpf=typeof a=="number"?function(me){if(isNaN(me))throw new Error("Invalid argument passed to jsPDF.hpf");return K(me,a)}:a==="smart"?function(me){if(isNaN(me))throw new Error("Invalid argument passed to jsPDF.hpf");return K(me,me>-1&&me<1?16:5)}:function(me){if(isNaN(me))throw new Error("Invalid argument passed to jsPDF.hpf");return K(me,16)};var ie=y.f2=y.__private__.f2=function(me){if(isNaN(me))throw new Error("Invalid argument passed to jsPDF.f2");return K(me,2)},q=y.__private__.f3=function(me){if(isNaN(me))throw new Error("Invalid argument passed to jsPDF.f3");return K(me,3)},W=y.scale=y.__private__.scale=function(me){if(isNaN(me))throw new Error("Invalid argument passed to jsPDF.scale");return R===F.COMPAT?me*Xe:R===F.ADVANCED?me:void 0},ee=function(me){return R===F.COMPAT?$o()-me:R===F.ADVANCED?me:void 0},ue=function(me){return W(ee(me))};y.__private__.setPrecision=y.setPrecision=function(me){typeof parseInt(me,10)=="number"&&(e=parseInt(me,10))};var J,te="00000000000000000000000000000000",ne=y.__private__.getFileId=function(){return te},he=y.__private__.setFileId=function(me){return te=me!==void 0&&/^[a-fA-F0-9]{32}$/.test(me)?me.toUpperCase():te.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),A!==null&&(Oo=new Zb(A.userPermissions,A.userPassword,A.ownerPassword,te)),te};y.setFileId=function(me){return he(me),this},y.getFileId=function(){return ne()};var ce=y.__private__.convertDateToPDFDate=function(me){var tt=me.getTimezoneOffset(),zt=tt<0?"+":"-",Zt=Math.floor(Math.abs(tt/60)),wn=Math.abs(tt%60),Wn=[zt,_e(Zt),"'",_e(wn),"'"].join("");return["D:",me.getFullYear(),_e(me.getMonth()+1),_e(me.getDate()),_e(me.getHours()),_e(me.getMinutes()),_e(me.getSeconds()),Wn].join("")},ye=y.__private__.convertPDFDateToDate=function(me){var tt=parseInt(me.substr(2,4),10),zt=parseInt(me.substr(6,2),10)-1,Zt=parseInt(me.substr(8,2),10),wn=parseInt(me.substr(10,2),10),Wn=parseInt(me.substr(12,2),10),vr=parseInt(me.substr(14,2),10);return new Date(tt,zt,Zt,wn,Wn,vr,0)},Ee=y.__private__.setCreationDate=function(me){var tt;if(me===void 0&&(me=new Date),me instanceof Date)tt=ce(me);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(me))throw new Error("Invalid argument passed to jsPDF.setCreationDate");tt=me}return J=tt},se=y.__private__.getCreationDate=function(me){var tt=J;return me==="jsDate"&&(tt=ye(J)),tt};y.setCreationDate=function(me){return Ee(me),this},y.getCreationDate=function(me){return se(me)};var oe,_e=y.__private__.padd2=function(me){return("0"+parseInt(me)).slice(-2)},Ue=y.__private__.padd2Hex=function(me){return("00"+(me=me.toString())).substr(me.length)},Le=0,be=[],Re=[],Qe=0,Je=[],nt=[],Ve=!1,Pe=Re,Ge=function(){Le=0,Qe=0,Re=[],be=[],Je=[],an=En(),In=En()};y.__private__.setCustomOutputDestination=function(me){Ve=!0,Pe=me};var Ne=function(me){Ve||(Pe=me)};y.__private__.resetCustomOutputDestination=function(){Ve=!1,Pe=Re};var je=y.__private__.out=function(me){return me=me.toString(),Qe+=me.length+1,Pe.push(me),Pe},Ye=y.__private__.write=function(me){return je(arguments.length===1?me.toString():Array.prototype.join.call(arguments," "))},vt=y.__private__.getArrayBuffer=function(me){for(var tt=me.length,zt=new ArrayBuffer(tt),Zt=new Uint8Array(zt);tt--;)Zt[tt]=me.charCodeAt(tt);return zt},Lt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return Lt};var Et=t.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(me){return Et=R===F.ADVANCED?me/Xe:me,this};var Vt,_t=y.__private__.getFontSize=y.getFontSize=function(){return R===F.COMPAT?Et:Et*Xe},qt=t.R2L||!1;y.__private__.setR2L=y.setR2L=function(me){return qt=me,this},y.__private__.getR2L=y.getR2L=function(){return qt};var tn,Nt=y.__private__.setZoomMode=function(me){var tt=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(me))Vt=me;else if(isNaN(me)){if(tt.indexOf(me)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+me+'" is not recognized.');Vt=me}else Vt=parseInt(me,10)};y.__private__.getZoomMode=function(){return Vt};var wt,De=y.__private__.setPageMode=function(me){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(me)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+me+'" is not recognized.');tn=me};y.__private__.getPageMode=function(){return tn};var We=y.__private__.setLayoutMode=function(me){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(me)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+me+'" is not recognized.');wt=me};y.__private__.getLayoutMode=function(){return wt},y.__private__.setDisplayMode=y.setDisplayMode=function(me,tt,zt){return Nt(me),We(tt),De(zt),this};var ut={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(me){if(Object.keys(ut).indexOf(me)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ut[me]},y.__private__.getDocumentProperties=function(){return ut},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(me){for(var tt in ut)ut.hasOwnProperty(tt)&&me[tt]&&(ut[tt]=me[tt]);return this},y.__private__.setDocumentProperty=function(me,tt){if(Object.keys(ut).indexOf(me)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ut[me]=tt};var It,Xe,Pt,Bt,it,Mt={},at={},et=[],St={},sn={},bn={},gr={},tr=null,Nn=0,lr=[],Qr=new sY(y),xi=t.hotfixes||[],ai={},zi={},ma=[],Rr=function me(tt,zt,Zt,wn,Wn,vr){if(!(this instanceof me))return new me(tt,zt,Zt,wn,Wn,vr);isNaN(tt)&&(tt=1),isNaN(zt)&&(zt=0),isNaN(Zt)&&(Zt=0),isNaN(wn)&&(wn=1),isNaN(Wn)&&(Wn=0),isNaN(vr)&&(vr=0),this._matrix=[tt,zt,Zt,wn,Wn,vr]};Object.defineProperty(Rr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(me){this._matrix[0]=me}}),Object.defineProperty(Rr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(me){this._matrix[1]=me}}),Object.defineProperty(Rr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(me){this._matrix[2]=me}}),Object.defineProperty(Rr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(me){this._matrix[3]=me}}),Object.defineProperty(Rr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(me){this._matrix[4]=me}}),Object.defineProperty(Rr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(me){this._matrix[5]=me}}),Object.defineProperty(Rr.prototype,"a",{get:function(){return this._matrix[0]},set:function(me){this._matrix[0]=me}}),Object.defineProperty(Rr.prototype,"b",{get:function(){return this._matrix[1]},set:function(me){this._matrix[1]=me}}),Object.defineProperty(Rr.prototype,"c",{get:function(){return this._matrix[2]},set:function(me){this._matrix[2]=me}}),Object.defineProperty(Rr.prototype,"d",{get:function(){return this._matrix[3]},set:function(me){this._matrix[3]=me}}),Object.defineProperty(Rr.prototype,"e",{get:function(){return this._matrix[4]},set:function(me){this._matrix[4]=me}}),Object.defineProperty(Rr.prototype,"f",{get:function(){return this._matrix[5]},set:function(me){this._matrix[5]=me}}),Object.defineProperty(Rr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Rr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Rr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Rr.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Rr.prototype.join=function(me){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(j).join(me)},Rr.prototype.multiply=function(me){var tt=me.sx*this.sx+me.shy*this.shx,zt=me.sx*this.shy+me.shy*this.sy,Zt=me.shx*this.sx+me.sy*this.shx,wn=me.shx*this.shy+me.sy*this.sy,Wn=me.tx*this.sx+me.ty*this.shx+this.tx,vr=me.tx*this.shy+me.ty*this.sy+this.ty;return new Rr(tt,zt,Zt,wn,Wn,vr)},Rr.prototype.decompose=function(){var me=this.sx,tt=this.shy,zt=this.shx,Zt=this.sy,wn=this.tx,Wn=this.ty,vr=Math.sqrt(me*me+tt*tt),Wr=(me/=vr)*zt+(tt/=vr)*Zt;zt-=me*Wr,Zt-=tt*Wr;var mi=Math.sqrt(zt*zt+Zt*Zt);return Wr/=mi,me*(Zt/=mi)<tt*(zt/=mi)&&(me=-me,tt=-tt,Wr=-Wr,vr=-vr),{scale:new Rr(vr,0,0,mi,0,0),translate:new Rr(1,0,0,1,wn,Wn),rotate:new Rr(me,tt,-tt,me,0,0),skew:new Rr(1,0,Wr,1,0,0)}},Rr.prototype.toString=function(me){return this.join(" ")},Rr.prototype.inversed=function(){var me=this.sx,tt=this.shy,zt=this.shx,Zt=this.sy,wn=this.tx,Wn=this.ty,vr=1/(me*Zt-tt*zt),Wr=Zt*vr,mi=-tt*vr,ia=-zt*vr,ji=me*vr;return new Rr(Wr,mi,ia,ji,-Wr*wn-ia*Wn,-mi*wn-ji*Wn)},Rr.prototype.applyToPoint=function(me){var tt=me.x*this.sx+me.y*this.shx+this.tx,zt=me.x*this.shy+me.y*this.sy+this.ty;return new nd(tt,zt)},Rr.prototype.applyToRectangle=function(me){var tt=this.applyToPoint(me),zt=this.applyToPoint(new nd(me.x+me.w,me.y+me.h));return new ch(tt.x,tt.y,zt.x-tt.x,zt.y-tt.y)},Rr.prototype.clone=function(){var me=this.sx,tt=this.shy,zt=this.shx,Zt=this.sy,wn=this.tx,Wn=this.ty;return new Rr(me,tt,zt,Zt,wn,Wn)},y.Matrix=Rr;var Ki=y.matrixMult=function(me,tt){return tt.multiply(me)},$i=new Rr(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=$i;var Jt=function(me,tt){if(!sn[me]){var zt=(tt instanceof __?"Sh":"P")+(Object.keys(St).length+1).toString(10);tt.id=zt,sn[me]=zt,St[zt]=tt,Qr.publish("addPattern",tt)}};y.ShadingPattern=__,y.TilingPattern=pw,y.addShadingPattern=function(me,tt){return H("addShadingPattern()"),Jt(me,tt),this},y.beginTilingPattern=function(me){H("beginTilingPattern()"),cc(me.boundingBox[0],me.boundingBox[1],me.boundingBox[2]-me.boundingBox[0],me.boundingBox[3]-me.boundingBox[1],me.matrix)},y.endTilingPattern=function(me,tt){H("endTilingPattern()"),tt.stream=nt[oe].join(`
`),Jt(me,tt),Qr.publish("endTilingPattern",tt),ma.pop().restore()};var hn=y.__private__.newObject=function(){var me=En();return Hn(me,!0),me},En=y.__private__.newObjectDeferred=function(){return Le++,be[Le]=function(){return Qe},Le},Hn=function(me,tt){return tt=typeof tt=="boolean"&&tt,be[me]=Qe,tt&&je(me+" 0 obj"),me},Ht=y.__private__.newAdditionalObject=function(){var me={objId:En(),content:""};return Je.push(me),me},an=En(),In=En(),Pn=y.__private__.decodeColorString=function(me){var tt=me.split(" ");if(tt.length!==2||tt[1]!=="g"&&tt[1]!=="G")tt.length===5&&(tt[4]==="k"||tt[4]==="K")&&(tt=[(1-tt[0])*(1-tt[3]),(1-tt[1])*(1-tt[3]),(1-tt[2])*(1-tt[3]),"r"]);else{var zt=parseFloat(tt[0]);tt=[zt,zt,zt,"r"]}for(var Zt="#",wn=0;wn<3;wn++)Zt+=("0"+Math.floor(255*parseFloat(tt[wn])).toString(16)).slice(-2);return Zt},er=y.__private__.encodeColorString=function(me){var tt;typeof me=="string"&&(me={ch1:me});var zt=me.ch1,Zt=me.ch2,wn=me.ch3,Wn=me.ch4,vr=me.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof zt=="string"&&zt.charAt(0)!=="#"){var Wr=new Fue(zt);if(Wr.ok)zt=Wr.toHex();else if(!/^\d*\.?\d*$/.test(zt))throw new Error('Invalid color "'+zt+'" passed to jsPDF.encodeColorString.')}if(typeof zt=="string"&&/^#[0-9A-Fa-f]{3}$/.test(zt)&&(zt="#"+zt[1]+zt[1]+zt[2]+zt[2]+zt[3]+zt[3]),typeof zt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(zt)){var mi=parseInt(zt.substr(1),16);zt=mi>>16&255,Zt=mi>>8&255,wn=255&mi}if(Zt===void 0||Wn===void 0&&zt===Zt&&Zt===wn)if(typeof zt=="string")tt=zt+" "+vr[0];else switch(me.precision){case 2:tt=ie(zt/255)+" "+vr[0];break;case 3:default:tt=q(zt/255)+" "+vr[0]}else if(Wn===void 0||vs(Wn)==="object"){if(Wn&&!isNaN(Wn.a)&&Wn.a===0)return tt=["1.","1.","1.",vr[1]].join(" ");if(typeof zt=="string")tt=[zt,Zt,wn,vr[1]].join(" ");else switch(me.precision){case 2:tt=[ie(zt/255),ie(Zt/255),ie(wn/255),vr[1]].join(" ");break;default:case 3:tt=[q(zt/255),q(Zt/255),q(wn/255),vr[1]].join(" ")}}else if(typeof zt=="string")tt=[zt,Zt,wn,Wn,vr[2]].join(" ");else switch(me.precision){case 2:tt=[ie(zt),ie(Zt),ie(wn),ie(Wn),vr[2]].join(" ");break;case 3:default:tt=[q(zt),q(Zt),q(wn),q(Wn),vr[2]].join(" ")}return tt},Gn=y.__private__.getFilters=function(){return l},Mr=y.__private__.putStream=function(me){var tt=(me=me||{}).data||"",zt=me.filters||Gn(),Zt=me.alreadyAppliedFilters||[],wn=me.addLength1||!1,Wn=tt.length,vr=me.objectId,Wr=function(Zo){return Zo};if(A!==null&&vr===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");A!==null&&(Wr=Oo.encryptor(vr,0));var mi={};zt===!0&&(zt=["FlateEncode"]);var ia=me.additionalKeyValues||[],ji=(mi=Aa.API.processDataByFilters!==void 0?Aa.API.processDataByFilters(tt,zt):{data:tt,reverseChain:[]}).reverseChain+(Array.isArray(Zt)?Zt.join(" "):Zt.toString());if(mi.data.length!==0&&(ia.push({key:"Length",value:mi.data.length}),wn===!0&&ia.push({key:"Length1",value:Wn})),ji.length!=0)if(ji.split("/").length-1==1)ia.push({key:"Filter",value:ji});else{ia.push({key:"Filter",value:"["+ji+"]"});for(var zn=0;zn<ia.length;zn+=1)if(ia[zn].key==="DecodeParms"){for(var Bs=[],Ws=0;Ws<mi.reverseChain.split("/").length-1;Ws+=1)Bs.push("null");Bs.push(ia[zn].value),ia[zn].value="["+Bs.join(" ")+"]"}}je("<<");for(var qs=0;qs<ia.length;qs++)je("/"+ia[qs].key+" "+ia[qs].value);je(">>"),mi.data.length!==0&&(je("stream"),je(Wr(mi.data)),je("endstream"))},ti=y.__private__.putPage=function(me){var tt=me.number,zt=me.data,Zt=me.objId,wn=me.contentsObjId;Hn(Zt,!0),je("<</Type /Page"),je("/Parent "+me.rootDictionaryObjId+" 0 R"),je("/Resources "+me.resourceDictionaryObjId+" 0 R"),je("/MediaBox ["+parseFloat(j(me.mediaBox.bottomLeftX))+" "+parseFloat(j(me.mediaBox.bottomLeftY))+" "+j(me.mediaBox.topRightX)+" "+j(me.mediaBox.topRightY)+"]"),me.cropBox!==null&&je("/CropBox ["+j(me.cropBox.bottomLeftX)+" "+j(me.cropBox.bottomLeftY)+" "+j(me.cropBox.topRightX)+" "+j(me.cropBox.topRightY)+"]"),me.bleedBox!==null&&je("/BleedBox ["+j(me.bleedBox.bottomLeftX)+" "+j(me.bleedBox.bottomLeftY)+" "+j(me.bleedBox.topRightX)+" "+j(me.bleedBox.topRightY)+"]"),me.trimBox!==null&&je("/TrimBox ["+j(me.trimBox.bottomLeftX)+" "+j(me.trimBox.bottomLeftY)+" "+j(me.trimBox.topRightX)+" "+j(me.trimBox.topRightY)+"]"),me.artBox!==null&&je("/ArtBox ["+j(me.artBox.bottomLeftX)+" "+j(me.artBox.bottomLeftY)+" "+j(me.artBox.topRightX)+" "+j(me.artBox.topRightY)+"]"),typeof me.userUnit=="number"&&me.userUnit!==1&&je("/UserUnit "+me.userUnit),Qr.publish("putPage",{objId:Zt,pageContext:lr[tt],pageNumber:tt,page:zt}),je("/Contents "+wn+" 0 R"),je(">>"),je("endobj");var Wn=zt.join(`
`);return R===F.ADVANCED&&(Wn+=`
Q`),Hn(wn,!0),Mr({data:Wn,filters:Gn(),objectId:wn}),je("endobj"),Zt},Tn=y.__private__.putPages=function(){var me,tt,zt=[];for(me=1;me<=Nn;me++)lr[me].objId=En(),lr[me].contentsObjId=En();for(me=1;me<=Nn;me++)zt.push(ti({number:me,data:nt[me],objId:lr[me].objId,contentsObjId:lr[me].contentsObjId,mediaBox:lr[me].mediaBox,cropBox:lr[me].cropBox,bleedBox:lr[me].bleedBox,trimBox:lr[me].trimBox,artBox:lr[me].artBox,userUnit:lr[me].userUnit,rootDictionaryObjId:an,resourceDictionaryObjId:In}));Hn(an,!0),je("<</Type /Pages");var Zt="/Kids [";for(tt=0;tt<Nn;tt++)Zt+=zt[tt]+" 0 R ";je(Zt+"]"),je("/Count "+Nn),je(">>"),je("endobj"),Qr.publish("postPutPages")},Kt=function(me){Qr.publish("putFont",{font:me,out:je,newObject:hn,putStream:Mr}),me.isAlreadyPutted!==!0&&(me.objectNumber=hn(),je("<<"),je("/Type /Font"),je("/BaseFont /"+Jb(me.postScriptName)),je("/Subtype /Type1"),typeof me.encoding=="string"&&je("/Encoding /"+me.encoding),je("/FirstChar 32"),je("/LastChar 255"),je(">>"),je("endobj"))},Zn=function(){for(var me in Mt)Mt.hasOwnProperty(me)&&(m===!1||m===!0&&_.hasOwnProperty(me))&&Kt(Mt[me])},jt=function(me){me.objectNumber=hn();var tt=[];tt.push({key:"Type",value:"/XObject"}),tt.push({key:"Subtype",value:"/Form"}),tt.push({key:"BBox",value:"["+[j(me.x),j(me.y),j(me.x+me.width),j(me.y+me.height)].join(" ")+"]"}),tt.push({key:"Matrix",value:"["+me.matrix.toString()+"]"});var zt=me.pages[1].join(`
`);Mr({data:zt,additionalKeyValues:tt,objectId:me.objectNumber}),je("endobj")},Xn=function(){for(var me in ai)ai.hasOwnProperty(me)&&jt(ai[me])},Pr=function(me,tt){var zt,Zt=[],wn=1/(tt-1);for(zt=0;zt<1;zt+=wn)Zt.push(zt);if(Zt.push(1),me[0].offset!=0){var Wn={offset:0,color:me[0].color};me.unshift(Wn)}if(me[me.length-1].offset!=1){var vr={offset:1,color:me[me.length-1].color};me.push(vr)}for(var Wr="",mi=0,ia=0;ia<Zt.length;ia++){for(zt=Zt[ia];zt>me[mi+1].offset;)mi++;var ji=me[mi].offset,zn=(zt-ji)/(me[mi+1].offset-ji),Bs=me[mi].color,Ws=me[mi+1].color;Wr+=Ue(Math.round((1-zn)*Bs[0]+zn*Ws[0]).toString(16))+Ue(Math.round((1-zn)*Bs[1]+zn*Ws[1]).toString(16))+Ue(Math.round((1-zn)*Bs[2]+zn*Ws[2]).toString(16))}return Wr.trim()},_r=function(me,tt){tt||(tt=21);var zt=hn(),Zt=Pr(me.colors,tt),wn=[];wn.push({key:"FunctionType",value:"0"}),wn.push({key:"Domain",value:"[0.0 1.0]"}),wn.push({key:"Size",value:"["+tt+"]"}),wn.push({key:"BitsPerSample",value:"8"}),wn.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),wn.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Mr({data:Zt,additionalKeyValues:wn,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:zt}),je("endobj"),me.objectNumber=hn(),je("<< /ShadingType "+me.type),je("/ColorSpace /DeviceRGB");var Wn="/Coords ["+j(parseFloat(me.coords[0]))+" "+j(parseFloat(me.coords[1]))+" ";me.type===2?Wn+=j(parseFloat(me.coords[2]))+" "+j(parseFloat(me.coords[3])):Wn+=j(parseFloat(me.coords[2]))+" "+j(parseFloat(me.coords[3]))+" "+j(parseFloat(me.coords[4]))+" "+j(parseFloat(me.coords[5])),je(Wn+="]"),me.matrix&&je("/Matrix ["+me.matrix.toString()+"]"),je("/Function "+zt+" 0 R"),je("/Extend [true true]"),je(">>"),je("endobj")},ha=function(me,tt){var zt=En(),Zt=hn();tt.push({resourcesOid:zt,objectOid:Zt}),me.objectNumber=Zt;var wn=[];wn.push({key:"Type",value:"/Pattern"}),wn.push({key:"PatternType",value:"1"}),wn.push({key:"PaintType",value:"1"}),wn.push({key:"TilingType",value:"1"}),wn.push({key:"BBox",value:"["+me.boundingBox.map(j).join(" ")+"]"}),wn.push({key:"XStep",value:j(me.xStep)}),wn.push({key:"YStep",value:j(me.yStep)}),wn.push({key:"Resources",value:zt+" 0 R"}),me.matrix&&wn.push({key:"Matrix",value:"["+me.matrix.toString()+"]"}),Mr({data:me.stream,additionalKeyValues:wn,objectId:me.objectNumber}),je("endobj")},is=function(me){var tt;for(tt in St)St.hasOwnProperty(tt)&&(St[tt]instanceof __?_r(St[tt]):St[tt]instanceof pw&&ha(St[tt],me))},Ca=function(me){for(var tt in me.objectNumber=hn(),je("<<"),me)switch(tt){case"opacity":je("/ca "+ie(me[tt]));break;case"stroke-opacity":je("/CA "+ie(me[tt]))}je(">>"),je("endobj")},zc=function(){var me;for(me in bn)bn.hasOwnProperty(me)&&Ca(bn[me])},iu=function(){for(var me in je("/XObject <<"),ai)ai.hasOwnProperty(me)&&ai[me].objectNumber>=0&&je("/"+me+" "+ai[me].objectNumber+" 0 R");Qr.publish("putXobjectDict"),je(">>")},jh=function(){Oo.oid=hn(),je("<<"),je("/Filter /Standard"),je("/V "+Oo.v),je("/R "+Oo.r),je("/U <"+Oo.toHexString(Oo.U)+">"),je("/O <"+Oo.toHexString(Oo.O)+">"),je("/P "+Oo.P),je(">>"),je("endobj")},uA=function(){for(var me in je("/Font <<"),Mt)Mt.hasOwnProperty(me)&&(m===!1||m===!0&&_.hasOwnProperty(me))&&je("/"+me+" "+Mt[me].objectNumber+" 0 R");je(">>")},Gh=function(){if(Object.keys(St).length>0){for(var me in je("/Shading <<"),St)St.hasOwnProperty(me)&&St[me]instanceof __&&St[me].objectNumber>=0&&je("/"+me+" "+St[me].objectNumber+" 0 R");Qr.publish("putShadingPatternDict"),je(">>")}},$d=function(me){if(Object.keys(St).length>0){for(var tt in je("/Pattern <<"),St)St.hasOwnProperty(tt)&&St[tt]instanceof y.TilingPattern&&St[tt].objectNumber>=0&&St[tt].objectNumber<me&&je("/"+tt+" "+St[tt].objectNumber+" 0 R");Qr.publish("putTilingPatternDict"),je(">>")}},Vd=function(){if(Object.keys(bn).length>0){var me;for(me in je("/ExtGState <<"),bn)bn.hasOwnProperty(me)&&bn[me].objectNumber>=0&&je("/"+me+" "+bn[me].objectNumber+" 0 R");Qr.publish("putGStateDict"),je(">>")}},ho=function(me){Hn(me.resourcesOid,!0),je("<<"),je("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),uA(),Gh(),$d(me.objectOid),Vd(),iu(),je(">>"),je("endobj")},Uf=function(){var me=[];Zn(),zc(),Xn(),is(me),Qr.publish("putResources"),me.forEach(ho),ho({resourcesOid:In,objectOid:Number.MAX_SAFE_INTEGER}),Qr.publish("postPutResources")},cA=function(){Qr.publish("putAdditionalObjects");for(var me=0;me<Je.length;me++){var tt=Je[me];Hn(tt.objId,!0),je(tt.content),je("endobj")}Qr.publish("postPutAdditionalObjects")},zf=function(me){at[me.fontName]=at[me.fontName]||{},at[me.fontName][me.fontStyle]=me.id},$f=function(me,tt,zt,Zt,wn){var Wn={id:"F"+(Object.keys(Mt).length+1).toString(10),postScriptName:me,fontName:tt,fontStyle:zt,encoding:Zt,isStandardFont:wn||!1,metadata:{}};return Qr.publish("addFont",{font:Wn,instance:this}),Mt[Wn.id]=Wn,zf(Wn),Wn.id},Ul=function(me){for(var tt=0,zt=Lt.length;tt<zt;tt++){var Zt=$f.call(this,me[tt][0],me[tt][1],me[tt][2],Lt[tt][3],!0);m===!1&&(_[Zt]=!0);var wn=me[tt][0].split("-");zf({id:Zt,fontName:wn[0],fontStyle:wn[1]||""})}Qr.publish("addFonts",{fonts:Mt,dictionary:at})},Ga=function(me){return me.foo=function(){try{return me.apply(this,arguments)}catch(Zt){var tt=Zt.stack||"";~tt.indexOf(" at ")&&(tt=tt.split(" at ")[1]);var zt="Error in function "+tt.split(`
`)[0].split("<")[0]+": "+Zt.message;if(!oa.console)throw new Error(zt);oa.console.error(zt,Zt),oa.alert&&alert(zt)}},me.foo.bar=me,me.foo},Ri=function(me,tt){var zt,Zt,wn,Wn,vr,Wr,mi,ia,ji;if(wn=(tt=tt||{}).sourceEncoding||"Unicode",vr=tt.outputEncoding,(tt.autoencode||vr)&&Mt[It].metadata&&Mt[It].metadata[wn]&&Mt[It].metadata[wn].encoding&&(Wn=Mt[It].metadata[wn].encoding,!vr&&Mt[It].encoding&&(vr=Mt[It].encoding),!vr&&Wn.codePages&&(vr=Wn.codePages[0]),typeof vr=="string"&&(vr=Wn[vr]),vr)){for(mi=!1,Wr=[],zt=0,Zt=me.length;zt<Zt;zt++)(ia=vr[me.charCodeAt(zt)])?Wr.push(String.fromCharCode(ia)):Wr.push(me[zt]),Wr[zt].charCodeAt(0)>>8&&(mi=!0);me=Wr.join("")}for(zt=me.length;mi===void 0&&zt!==0;)me.charCodeAt(zt-1)>>8&&(mi=!0),zt--;if(!mi)return me;for(Wr=tt.noBOM?[]:[254,255],zt=0,Zt=me.length;zt<Zt;zt++){if((ji=(ia=me.charCodeAt(zt))>>8)>>8)throw new Error("Character at position "+zt+" of string '"+me+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Wr.push(ji),Wr.push(ia-(ji<<8))}return String.fromCharCode.apply(void 0,Wr)},au=y.__private__.pdfEscape=y.pdfEscape=function(me,tt){return Ri(me,tt).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Hd=y.__private__.beginPage=function(me){nt[++Nn]=[],lr[Nn]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(me[0]),topRightY:Number(me[1])}},Qu(Nn),Ne(nt[oe])},hA=function(me,tt){var zt,Zt,wn;switch(n=tt||n,typeof me=="string"&&(zt=I(me.toLowerCase()),Array.isArray(zt)&&(Zt=zt[0],wn=zt[1])),Array.isArray(me)&&(Zt=me[0]*Xe,wn=me[1]*Xe),isNaN(Zt)&&(Zt=i[0],wn=i[1]),(Zt>14400||wn>14400)&&(oo.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Zt=Math.min(14400,Zt),wn=Math.min(14400,wn)),i=[Zt,wn],n.substr(0,1)){case"l":wn>Zt&&(i=[wn,Zt]);break;case"p":Zt>wn&&(i=[wn,Zt])}Hd(i),Jh(Vf),je(fl),Rm!==0&&je(Rm+" J"),uc!==0&&je(uc+" j"),Qr.publish("addPage",{pageNumber:Nn})},y1=function(me){me>0&&me<=Nn&&(nt.splice(me,1),lr.splice(me,1),Nn--,oe>Nn&&(oe=Nn),this.setPage(oe))},Qu=function(me){me>0&&me<=Nn&&(oe=me)},km=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return nt.length-1},g0=function(me,tt,zt){var Zt,wn=void 0;return zt=zt||{},me=me!==void 0?me:Mt[It].fontName,tt=tt!==void 0?tt:Mt[It].fontStyle,Zt=me.toLowerCase(),at[Zt]!==void 0&&at[Zt][tt]!==void 0?wn=at[Zt][tt]:at[me]!==void 0&&at[me][tt]!==void 0?wn=at[me][tt]:zt.disableWarning===!1&&oo.warn("Unable to look up font label for font '"+me+"', '"+tt+"'. Refer to getFontList() for available fonts."),wn||zt.noFallback||(wn=at.times[tt])==null&&(wn=at.times.normal),wn},Qd=y.__private__.putInfo=function(){var me=hn(),tt=function(Zt){return Zt};for(var zt in A!==null&&(tt=Oo.encryptor(me,0)),je("<<"),je("/Producer ("+au(tt("jsPDF "+Aa.version))+")"),ut)ut.hasOwnProperty(zt)&&ut[zt]&&je("/"+zt.substr(0,1).toUpperCase()+zt.substr(1)+" ("+au(tt(ut[zt]))+")");je("/CreationDate ("+au(tt(J))+")"),je(">>"),je("endobj")},mr=y.__private__.putCatalog=function(me){var tt=(me=me||{}).rootDictionaryObjId||an;switch(hn(),je("<<"),je("/Type /Catalog"),je("/Pages "+tt+" 0 R"),Vt||(Vt="fullwidth"),Vt){case"fullwidth":je("/OpenAction [3 0 R /FitH null]");break;case"fullheight":je("/OpenAction [3 0 R /FitV null]");break;case"fullpage":je("/OpenAction [3 0 R /Fit]");break;case"original":je("/OpenAction [3 0 R /XYZ null null 1]");break;default:var zt=""+Vt;zt.substr(zt.length-1)==="%"&&(Vt=parseInt(Vt)/100),typeof Vt=="number"&&je("/OpenAction [3 0 R /XYZ null null "+ie(Vt)+"]")}switch(wt||(wt="continuous"),wt){case"continuous":je("/PageLayout /OneColumn");break;case"single":je("/PageLayout /SinglePage");break;case"two":case"twoleft":je("/PageLayout /TwoColumnLeft");break;case"tworight":je("/PageLayout /TwoColumnRight")}tn&&je("/PageMode /"+tn),Qr.publish("putCatalog"),je(">>"),je("endobj")},da=y.__private__.putTrailer=function(){je("trailer"),je("<<"),je("/Size "+(Le+1)),je("/Root "+Le+" 0 R"),je("/Info "+(Le-1)+" 0 R"),A!==null&&je("/Encrypt "+Oo.oid+" 0 R"),je("/ID [ <"+te+"> <"+te+"> ]"),je(">>")},fa=y.__private__.putHeader=function(){je("%PDF-"+T),je("%")},Cu=y.__private__.putXRef=function(){var me="0000000000";je("xref"),je("0 "+(Le+1)),je("0000000000 65535 f ");for(var tt=1;tt<=Le;tt++)typeof be[tt]=="function"?je((me+be[tt]()).slice(-10)+" 00000 n "):be[tt]!==void 0?je((me+be[tt]).slice(-10)+" 00000 n "):je("0000000000 00000 n ")},Eu=y.__private__.buildDocument=function(){Ge(),Ne(Re),Qr.publish("buildDocument"),fa(),Tn(),cA(),Uf(),A!==null&&jh(),Qd(),mr();var me=Qe;return Cu(),da(),je("startxref"),je(""+me),je("%%EOF"),Ne(nt[oe]),Re.join(`
`)},Qi=y.__private__.getBlob=function(me){return new Blob([vt(me)],{type:"application/pdf"})},Kh=y.output=y.__private__.output=Ga(function(me,tt){switch(typeof(tt=tt||{})=="string"?tt={filename:tt}:tt.filename=tt.filename||"generated.pdf",me){case void 0:return Eu();case"save":y.save(tt.filename);break;case"arraybuffer":return vt(Eu());case"blob":return Qi(Eu());case"bloburi":case"bloburl":if(oa.URL!==void 0&&typeof oa.URL.createObjectURL=="function")return oa.URL&&oa.URL.createObjectURL(Qi(Eu()))||void 0;oo.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var zt="",Zt=Eu();try{zt=aO(Zt)}catch{zt=aO(unescape(encodeURIComponent(Zt)))}return"data:application/pdf;filename="+tt.filename+";base64,"+zt;case"pdfobjectnewwindow":if(Object.prototype.toString.call(oa)==="[object Window]"){var wn="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Wn=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';tt.pdfObjectUrl&&(wn=tt.pdfObjectUrl,Wn="");var vr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+wn+'"'+Wn+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(tt)+");<\/script></body></html>",Wr=oa.open();return Wr!==null&&Wr.document.write(vr),Wr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(oa)==="[object Window]"){var mi='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(tt.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+tt.filename+'" width="500px" height="400px" /></body></html>',ia=oa.open();if(ia!==null){ia.document.write(mi);var ji=this;ia.document.documentElement.querySelector("#pdfViewer").onload=function(){ia.document.title=tt.filename,ia.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ji.output("bloburl"))}}return ia}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(oa)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var zn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",tt)+'"></iframe></body></html>',Bs=oa.open();if(Bs!==null&&(Bs.document.write(zn),Bs.document.title=tt.filename),Bs||typeof safari>"u")return Bs;break;case"datauri":case"dataurl":return oa.document.location.href=this.output("datauristring",tt);default:return null}}),Wh=function(me){return Array.isArray(xi)===!0&&xi.indexOf(me)>-1};switch(r){case"pt":Xe=1;break;case"mm":Xe=72/25.4;break;case"cm":Xe=72/2.54;break;case"in":Xe=72;break;case"px":Xe=Wh("px_scaling")==1?.75:96/72;break;case"pc":case"em":Xe=12;break;case"ex":Xe=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Xe=r}var Oo=null;Ee(),he();var zl=function(me){return A!==null?Oo.encryptor(me,0):function(tt){return tt}},ys=y.__private__.getPageInfo=y.getPageInfo=function(me){if(isNaN(me)||me%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:lr[me].objId,pageNumber:me,pageContext:lr[me]}},rr=y.__private__.getPageInfoByObjId=function(me){if(isNaN(me)||me%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var tt in lr)if(lr[tt].objId===me)break;return ys(tt)},qh=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:lr[oe].objId,pageNumber:oe,pageContext:lr[oe]}};y.addPage=function(){return hA.apply(this,arguments),this},y.setPage=function(){return Qu.apply(this,arguments),Ne.call(this,nt[oe]),this},y.insertPage=function(me){return this.addPage(),this.movePage(oe,me),this},y.movePage=function(me,tt){var zt,Zt;if(me>tt){zt=nt[me],Zt=lr[me];for(var wn=me;wn>tt;wn--)nt[wn]=nt[wn-1],lr[wn]=lr[wn-1];nt[tt]=zt,lr[tt]=Zt,this.setPage(tt)}else if(me<tt){zt=nt[me],Zt=lr[me];for(var Wn=me;Wn<tt;Wn++)nt[Wn]=nt[Wn+1],lr[Wn]=lr[Wn+1];nt[tt]=zt,lr[tt]=Zt,this.setPage(tt)}return this},y.deletePage=function(){return y1.apply(this,arguments),this},y.__private__.text=y.text=function(me,tt,zt,Zt,wn){var Wn,vr,Wr,mi,ia,ji,zn,Bs,Ws,qs=(Zt=Zt||{}).scope||this;if(typeof me=="number"&&typeof tt=="number"&&(typeof zt=="string"||Array.isArray(zt))){var Zo=zt;zt=tt,tt=me,me=Zo}if(arguments[3]instanceof Rr?(H("The transform parameter of text() with a Matrix value"),Ws=wn):(Wr=arguments[4],mi=arguments[5],vs(zn=arguments[3])==="object"&&zn!==null||(typeof Wr=="string"&&(mi=Wr,Wr=null),typeof zn=="string"&&(mi=zn,zn=null),typeof zn=="number"&&(Wr=zn,zn=null),Zt={flags:zn,angle:Wr,align:mi})),isNaN(tt)||isNaN(zt)||me==null)throw new Error("Invalid arguments passed to jsPDF.text");if(me.length===0)return qs;var Us="",So=!1,su=typeof Zt.lineHeightFactor=="number"?Zt.lineHeightFactor:Zh,ou=qs.internal.scaleFactor;function Kf(Ka){return Ka=Ka.split("	").join(Array(Zt.TabLen||9).join(" ")),au(Ka,zn)}function Vc(Ka){for(var bs,Ms=Ka.concat(),To=[],gh=Ms.length;gh--;)typeof(bs=Ms.shift())=="string"?To.push(bs):Array.isArray(Ka)&&(bs.length===1||bs[1]===void 0&&bs[2]===void 0)?To.push(bs[0]):To.push([bs[0],bs[1],bs[2]]);return To}function Wf(Ka,bs){var Ms;if(typeof Ka=="string")Ms=bs(Ka)[0];else if(Array.isArray(Ka)){for(var To,gh,Wd=Ka.concat(),Gl=[],Jf=Wd.length;Jf--;)typeof(To=Wd.shift())=="string"?Gl.push(bs(To)[0]):Array.isArray(To)&&typeof To[0]=="string"&&(gh=bs(To[0],To[1],To[2]),Gl.push([gh[0],gh[1],gh[2]]));Ms=Gl}return Ms}var pA=!1,fh=!0;if(typeof me=="string")pA=!0;else if(Array.isArray(me)){var Om=me.concat();vr=[];for(var qf,lu=Om.length;lu--;)(typeof(qf=Om.shift())!="string"||Array.isArray(qf)&&typeof qf[0]!="string")&&(fh=!1);pA=fh}if(pA===!1)throw new Error('Type of text must be string or Array. "'+me+'" is not recognized.');typeof me=="string"&&(me=me.match(/[\r?\n]/)?me.split(/\r\n|\r|\n/g):[me]);var Gd=Et/qs.internal.scaleFactor,AA=Gd*(su-1);switch(Zt.baseline){case"bottom":zt-=AA;break;case"top":zt+=Gd-AA;break;case"hanging":zt+=Gd-2*AA;break;case"middle":zt+=Gd/2-AA}if((ji=Zt.maxWidth||0)>0&&(typeof me=="string"?me=qs.splitTextToSize(me,ji):Object.prototype.toString.call(me)==="[object Array]"&&(me=me.reduce(function(Ka,bs){return Ka.concat(qs.splitTextToSize(bs,ji))},[]))),Wn={text:me,x:tt,y:zt,options:Zt,mutex:{pdfEscape:au,activeFontKey:It,fonts:Mt,activeFontSize:Et}},Qr.publish("preProcessText",Wn),me=Wn.text,Wr=(Zt=Wn.options).angle,!(Ws instanceof Rr)&&Wr&&typeof Wr=="number"){Wr*=Math.PI/180,Zt.rotationDirection===0&&(Wr=-Wr),R===F.ADVANCED&&(Wr=-Wr);var mA=Math.cos(Wr),Dm=Math.sin(Wr);Ws=new Rr(mA,Dm,-Dm,mA,0,0)}else Wr&&Wr instanceof Rr&&(Ws=Wr);R!==F.ADVANCED||Ws||(Ws=$i),(ia=Zt.charSpace||jd)!==void 0&&(Us+=j(W(ia))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Bs=Zt.horizontalScale)!==void 0&&(Us+=j(100*Bs)+` Tz
`),Zt.lang;var uu=-1,Yf=Zt.renderingMode!==void 0?Zt.renderingMode:Zt.stroke,Nm=qs.internal.getCurrentPageInfo().pageContext;switch(Yf){case 0:case!1:case"fill":uu=0;break;case 1:case!0:case"stroke":uu=1;break;case 2:case"fillThenStroke":uu=2;break;case 3:case"invisible":uu=3;break;case 4:case"fillAndAddForClipping":uu=4;break;case 5:case"strokeAndAddPathForClipping":uu=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":uu=6;break;case 7:case"addToPathForClipping":uu=7}var Xf=Nm.usedRenderingMode!==void 0?Nm.usedRenderingMode:-1;uu!==-1?Us+=uu+` Tr
`:Xf!==-1&&(Us+=`0 Tr
`),uu!==-1&&(Nm.usedRenderingMode=uu),mi=Zt.align||"left";var ju,gA=Et*su,Um=qs.internal.pageSize.getWidth(),vA=Mt[It];ia=Zt.charSpace||jd,ji=Zt.maxWidth||0,zn=Object.assign({autoencode:!0,noBOM:!0},Zt.flags);var ph=[];if(Object.prototype.toString.call(me)==="[object Array]"){var Jo;vr=Vc(me),mi!=="left"&&(ju=vr.map(function(Ka){return qs.getStringUnitWidth(Ka,{font:vA,charSpace:ia,fontSize:Et,doKerning:!1})*Et/ou}));var Mu,hc=0;if(mi==="right"){tt-=ju[0],me=[],lu=vr.length;for(var dc=0;dc<lu;dc++)dc===0?(Mu=lc(tt),Jo=Hl(zt)):(Mu=W(hc-ju[dc]),Jo=-gA),me.push([vr[dc],Mu,Jo]),hc=ju[dc]}else if(mi==="center"){tt-=ju[0]/2,me=[],lu=vr.length;for(var Gu=0;Gu<lu;Gu++)Gu===0?(Mu=lc(tt),Jo=Hl(zt)):(Mu=W((hc-ju[Gu])/2),Jo=-gA),me.push([vr[Gu],Mu,Jo]),hc=ju[Gu]}else if(mi==="left"){me=[],lu=vr.length;for(var Hc=0;Hc<lu;Hc++)me.push(vr[Hc])}else{if(mi!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');me=[],lu=vr.length,ji=ji!==0?ji:Um;for(var Ql=0;Ql<lu;Ql++)Jo=Ql===0?Hl(zt):-gA,Mu=Ql===0?lc(tt):0,Ql<lu-1?ph.push(j(W((ji-ju[Ql])/(vr[Ql].split(" ").length-1)))):ph.push(0),me.push([vr[Ql],Mu,Jo])}}var Ah=typeof Zt.R2L=="boolean"?Zt.R2L:qt;Ah===!0&&(me=Wf(me,function(Ka,bs,Ms){return[Ka.split("").reverse().join(""),bs,Ms]})),Wn={text:me,x:tt,y:zt,options:Zt,mutex:{pdfEscape:au,activeFontKey:It,fonts:Mt,activeFontSize:Et}},Qr.publish("postProcessText",Wn),me=Wn.text,So=Wn.mutex.isHex||!1;var id=Mt[It].encoding;id!=="WinAnsiEncoding"&&id!=="StandardEncoding"||(me=Wf(me,function(Ka,bs,Ms){return[Kf(Ka),bs,Ms]})),vr=Vc(me),me=[];for(var zs,el,ao,ad=0,Zf=1,sd=Array.isArray(vr[0])?Zf:ad,Iu="",Kd=function(Ka,bs,Ms){var To="";return Ms instanceof Rr?(Ms=typeof Zt.angle=="number"?Ki(Ms,new Rr(1,0,0,1,Ka,bs)):Ki(new Rr(1,0,0,1,Ka,bs),Ms),R===F.ADVANCED&&(Ms=Ki(new Rr(1,0,0,-1,0,0),Ms)),To=Ms.join(" ")+` Tm
`):To=j(Ka)+" "+j(bs)+` Td
`,To},jl=0;jl<vr.length;jl++){switch(Iu="",sd){case Zf:ao=(So?"<":"(")+vr[jl][0]+(So?">":")"),zs=parseFloat(vr[jl][1]),el=parseFloat(vr[jl][2]);break;case ad:ao=(So?"<":"(")+vr[jl]+(So?">":")"),zs=lc(tt),el=Hl(zt)}ph!==void 0&&ph[jl]!==void 0&&(Iu=ph[jl]+` Tw
`),jl===0?me.push(Iu+Kd(zs,el,Ws)+ao):sd===ad?me.push(Iu+ao):sd===Zf&&me.push(Iu+Kd(zs,el,Ws)+ao)}me=sd===ad?me.join(` Tj
T* `):me.join(` Tj
`),me+=` Tj
`;var mh=`BT
/`;return mh+=It+" "+Et+` Tf
`,mh+=j(Et*su)+` TL
`,mh+=Oi+`
`,mh+=Us,mh+=me,je(mh+="ET"),_[It]=!0,qs};var si=y.__private__.clip=y.clip=function(me){return je(me==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return si("evenodd")},y.__private__.discardPath=y.discardPath=function(){return je("n"),this};var dl=y.__private__.isValidStyle=function(me){var tt=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(me)!==-1&&(tt=!0),tt};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(me){return dl(me)&&(f=me),this};var Mi=y.__private__.getStyle=y.getStyle=function(me){var tt=f;switch(me){case"D":case"S":tt="S";break;case"F":tt="f";break;case"FD":case"DF":tt="B";break;case"f":case"f*":case"B":case"B*":tt=me}return tt},Yh=y.close=function(){return je("h"),this};y.stroke=function(){return je("S"),this},y.fill=function(me){return io("f",me),this},y.fillEvenOdd=function(me){return io("f*",me),this},y.fillStroke=function(me){return io("B",me),this},y.fillStrokeEvenOdd=function(me){return io("B*",me),this};var io=function(me,tt){vs(tt)==="object"?Xh(tt,me):je(me)},Vr=function(me){me===null||R===F.ADVANCED&&me===void 0||(me=Mi(me),je(me))};function v0(me,tt,zt,Zt,wn){var Wn=new pw(tt||this.boundingBox,zt||this.xStep,Zt||this.yStep,this.gState,wn||this.matrix);Wn.stream=this.stream;var vr=me+"$$"+this.cloneIndex+++"$$";return Jt(vr,Wn),Wn}var Xh=function(me,tt){var zt=sn[me.key],Zt=St[zt];if(Zt instanceof __)je("q"),je(Gs(tt)),Zt.gState&&y.setGState(Zt.gState),je(me.matrix.toString()+" cm"),je("/"+zt+" sh"),je("Q");else if(Zt instanceof pw){var wn=new Rr(1,0,0,-1,0,$o());me.matrix&&(wn=wn.multiply(me.matrix||$i),zt=v0.call(Zt,me.key,me.boundingBox,me.xStep,me.yStep,wn).id),je("q"),je("/Pattern cs"),je("/"+zt+" scn"),Zt.gState&&y.setGState(Zt.gState),je(tt),je("Q")}},Gs=function(me){switch(me){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},$l=y.moveTo=function(me,tt){return je(j(W(me))+" "+j(ue(tt))+" m"),this},Su=y.lineTo=function(me,tt){return je(j(W(me))+" "+j(ue(tt))+" l"),this},Vl=y.curveTo=function(me,tt,zt,Zt,wn,Wn){return je([j(W(me)),j(ue(tt)),j(W(zt)),j(ue(Zt)),j(W(wn)),j(ue(Wn)),"c"].join(" ")),this};y.__private__.line=y.line=function(me,tt,zt,Zt,wn){if(isNaN(me)||isNaN(tt)||isNaN(zt)||isNaN(Zt)||!dl(wn))throw new Error("Invalid arguments passed to jsPDF.line");return R===F.COMPAT?this.lines([[zt-me,Zt-tt]],me,tt,[1,1],wn||"S"):this.lines([[zt-me,Zt-tt]],me,tt,[1,1]).stroke()},y.__private__.lines=y.lines=function(me,tt,zt,Zt,wn,Wn){var vr,Wr,mi,ia,ji,zn,Bs,Ws,qs,Zo,Us,So;if(typeof me=="number"&&(So=zt,zt=tt,tt=me,me=So),Zt=Zt||[1,1],Wn=Wn||!1,isNaN(tt)||isNaN(zt)||!Array.isArray(me)||!Array.isArray(Zt)||!dl(wn)||typeof Wn!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for($l(tt,zt),vr=Zt[0],Wr=Zt[1],ia=me.length,Zo=tt,Us=zt,mi=0;mi<ia;mi++)(ji=me[mi]).length===2?(Zo=ji[0]*vr+Zo,Us=ji[1]*Wr+Us,Su(Zo,Us)):(zn=ji[0]*vr+Zo,Bs=ji[1]*Wr+Us,Ws=ji[2]*vr+Zo,qs=ji[3]*Wr+Us,Zo=ji[4]*vr+Zo,Us=ji[5]*Wr+Us,Vl(zn,Bs,Ws,qs,Zo,Us));return Wn&&Yh(),Vr(wn),this},y.path=function(me){for(var tt=0;tt<me.length;tt++){var zt=me[tt],Zt=zt.c;switch(zt.op){case"m":$l(Zt[0],Zt[1]);break;case"l":Su(Zt[0],Zt[1]);break;case"c":Vl.apply(this,Zt);break;case"h":Yh()}}return this},y.__private__.rect=y.rect=function(me,tt,zt,Zt,wn){if(isNaN(me)||isNaN(tt)||isNaN(zt)||isNaN(Zt)||!dl(wn))throw new Error("Invalid arguments passed to jsPDF.rect");return R===F.COMPAT&&(Zt=-Zt),je([j(W(me)),j(ue(tt)),j(W(zt)),j(W(Zt)),"re"].join(" ")),Vr(wn),this},y.__private__.triangle=y.triangle=function(me,tt,zt,Zt,wn,Wn,vr){if(isNaN(me)||isNaN(tt)||isNaN(zt)||isNaN(Zt)||isNaN(wn)||isNaN(Wn)||!dl(vr))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[zt-me,Zt-tt],[wn-zt,Wn-Zt],[me-wn,tt-Wn]],me,tt,[1,1],vr,!0),this},y.__private__.roundedRect=y.roundedRect=function(me,tt,zt,Zt,wn,Wn,vr){if(isNaN(me)||isNaN(tt)||isNaN(zt)||isNaN(Zt)||isNaN(wn)||isNaN(Wn)||!dl(vr))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Wr=4/3*(Math.SQRT2-1);return wn=Math.min(wn,.5*zt),Wn=Math.min(Wn,.5*Zt),this.lines([[zt-2*wn,0],[wn*Wr,0,wn,Wn-Wn*Wr,wn,Wn],[0,Zt-2*Wn],[0,Wn*Wr,-wn*Wr,Wn,-wn,Wn],[2*wn-zt,0],[-wn*Wr,0,-wn,-Wn*Wr,-wn,-Wn],[0,2*Wn-Zt],[0,-Wn*Wr,wn*Wr,-Wn,wn,-Wn]],me+wn,tt,[1,1],vr,!0),this},y.__private__.ellipse=y.ellipse=function(me,tt,zt,Zt,wn){if(isNaN(me)||isNaN(tt)||isNaN(zt)||isNaN(Zt)||!dl(wn))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Wn=4/3*(Math.SQRT2-1)*zt,vr=4/3*(Math.SQRT2-1)*Zt;return $l(me+zt,tt),Vl(me+zt,tt-vr,me+Wn,tt-Zt,me,tt-Zt),Vl(me-Wn,tt-Zt,me-zt,tt-vr,me-zt,tt),Vl(me-zt,tt+vr,me-Wn,tt+Zt,me,tt+Zt),Vl(me+Wn,tt+Zt,me+zt,tt+vr,me+zt,tt),Vr(wn),this},y.__private__.circle=y.circle=function(me,tt,zt,Zt){if(isNaN(me)||isNaN(tt)||isNaN(zt)||!dl(Zt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(me,tt,zt,zt,Zt)},y.setFont=function(me,tt,zt){return zt&&(tt=Q(tt,zt)),It=g0(me,tt,{disableWarning:!1}),this};var Ks=y.__private__.getFont=y.getFont=function(){return Mt[g0.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var me,tt,zt={};for(me in at)if(at.hasOwnProperty(me))for(tt in zt[me]=[],at[me])at[me].hasOwnProperty(tt)&&zt[me].push(tt);return zt},y.addFont=function(me,tt,zt,Zt,wn){var Wn=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Wn.indexOf(arguments[3])!==-1?wn=arguments[3]:arguments[3]&&Wn.indexOf(arguments[3])==-1&&(zt=Q(zt,Zt)),wn=wn||"Identity-H",$f.call(this,me,tt,zt,wn)};var Zh,Vf=t.lineWidth||.200025,Tu=y.__private__.getLineWidth=y.getLineWidth=function(){return Vf},Jh=y.__private__.setLineWidth=y.setLineWidth=function(me){return Vf=me,je(j(W(me))+" w"),this};y.__private__.setLineDash=Aa.API.setLineDash=Aa.API.setLineDashPattern=function(me,tt){if(me=me||[],tt=tt||0,isNaN(tt)||!Array.isArray(me))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return me=me.map(function(zt){return j(W(zt))}).join(" "),tt=j(W(tt)),je("["+me+"] "+tt+" d"),this};var uh=y.__private__.getLineHeight=y.getLineHeight=function(){return Et*Zh};y.__private__.getLineHeight=y.getLineHeight=function(){return Et*Zh};var ed=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(me){return typeof(me=me||1.15)=="number"&&(Zh=me),this},Bu=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return Zh};ed(t.lineHeight);var lc=y.__private__.getHorizontalCoordinate=function(me){return W(me)},Hl=y.__private__.getVerticalCoordinate=function(me){return R===F.ADVANCED?me:lr[oe].mediaBox.topRightY-lr[oe].mediaBox.bottomLeftY-W(me)},Hf=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(me){return j(lc(me))},td=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(me){return j(Hl(me))},fl=t.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return Pn(fl)},y.__private__.setStrokeColor=y.setDrawColor=function(me,tt,zt,Zt){return fl=er({ch1:me,ch2:tt,ch3:zt,ch4:Zt,pdfColorType:"draw",precision:2}),je(fl),this};var dA=t.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return Pn(dA)},y.__private__.setFillColor=y.setFillColor=function(me,tt,zt,Zt){return dA=er({ch1:me,ch2:tt,ch3:zt,ch4:Zt,pdfColorType:"fill",precision:2}),je(dA),this};var Oi=t.textColor||"0 g",Qf=y.__private__.getTextColor=y.getTextColor=function(){return Pn(Oi)};y.__private__.setTextColor=y.setTextColor=function(me,tt,zt,Zt){return Oi=er({ch1:me,ch2:tt,ch3:zt,ch4:Zt,pdfColorType:"text",precision:3}),this};var jd=t.charSpace,b1=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(jd||0)};y.__private__.setCharSpace=y.setCharSpace=function(me){if(isNaN(me))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return jd=me,this};var Rm=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(me){var tt=y.CapJoinStyles[me];if(tt===void 0)throw new Error("Line cap style of '"+me+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Rm=tt,je(tt+" J"),this};var uc=0;y.__private__.setLineJoin=y.setLineJoin=function(me){var tt=y.CapJoinStyles[me];if(tt===void 0)throw new Error("Line join style of '"+me+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return uc=tt,je(tt+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(me){if(me=me||0,isNaN(me))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return je(j(W(me))+" M"),this},y.GState=i8,y.setGState=function(me){(me=typeof me=="string"?bn[gr[me]]:$c(null,me)).equals(tr)||(je("/"+me.id+" gs"),tr=me)};var $c=function(me,tt){if(!me||!gr[me]){var zt=!1;for(var Zt in bn)if(bn.hasOwnProperty(Zt)&&bn[Zt].equals(tt)){zt=!0;break}if(zt)tt=bn[Zt];else{var wn="GS"+(Object.keys(bn).length+1).toString(10);bn[wn]=tt,tt.id=wn}return me&&(gr[me]=tt.id),Qr.publish("addGState",tt),tt}};y.addGState=function(me,tt){return $c(me,tt),this},y.saveGraphicsState=function(){return je("q"),et.push({key:It,size:Et,color:Oi}),this},y.restoreGraphicsState=function(){je("Q");var me=et.pop();return It=me.key,Et=me.size,Oi=me.color,tr=null,this},y.setCurrentTransformationMatrix=function(me){return je(me.toString()+" cm"),this},y.comment=function(me){return je("#"+me),this};var nd=function(me,tt){var zt=me||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return zt},set:function(Wn){isNaN(Wn)||(zt=parseFloat(Wn))}});var Zt=tt||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Zt},set:function(Wn){isNaN(Wn)||(Zt=parseFloat(Wn))}});var wn="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return wn},set:function(Wn){wn=Wn.toString()}}),this},ch=function(me,tt,zt,Zt){nd.call(this,me,tt),this.type="rect";var wn=zt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return wn},set:function(vr){isNaN(vr)||(wn=parseFloat(vr))}});var Wn=Zt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Wn},set:function(vr){isNaN(vr)||(Wn=parseFloat(vr))}}),this},jf=function(){this.page=Nn,this.currentPage=oe,this.pages=nt.slice(0),this.pagesContext=lr.slice(0),this.x=Pt,this.y=Bt,this.matrix=it,this.width=rd(oe),this.height=$o(oe),this.outputDestination=Pe,this.id="",this.objectNumber=-1};jf.prototype.restore=function(){Nn=this.page,oe=this.currentPage,lr=this.pagesContext,nt=this.pages,Pt=this.x,Bt=this.y,it=this.matrix,Gf(oe,this.width),fA(oe,this.height),Pe=this.outputDestination};var cc=function(me,tt,zt,Zt,wn){ma.push(new jf),Nn=oe=0,nt=[],Pt=me,Bt=tt,it=wn,Hd([zt,Zt])},hh=function(me){if(zi[me])ma.pop().restore();else{var tt=new jf,zt="Xo"+(Object.keys(ai).length+1).toString(10);tt.id=zt,zi[me]=zt,ai[zt]=tt,Qr.publish("addFormObject",tt),ma.pop().restore()}};for(var dh in y.beginFormObject=function(me,tt,zt,Zt,wn){return cc(me,tt,zt,Zt,wn),this},y.endFormObject=function(me){return hh(me),this},y.doFormObject=function(me,tt){var zt=ai[zi[me]];return je("q"),je(tt.toString()+" cm"),je("/"+zt.id+" Do"),je("Q"),this},y.getFormObject=function(me){var tt=ai[zi[me]];return{x:tt.x,y:tt.y,width:tt.width,height:tt.height,matrix:tt.matrix}},y.save=function(me,tt){return me=me||"generated.pdf",(tt=tt||{}).returnPromise=tt.returnPromise||!1,tt.returnPromise===!1?(p_(Qi(Eu()),me),typeof p_.unload=="function"&&oa.setTimeout&&setTimeout(p_.unload,911),this):new Promise(function(zt,Zt){try{var wn=p_(Qi(Eu()),me);typeof p_.unload=="function"&&oa.setTimeout&&setTimeout(p_.unload,911),zt(wn)}catch(Wn){Zt(Wn.message)}})},Aa.API)Aa.API.hasOwnProperty(dh)&&(dh==="events"&&Aa.API.events.length?function(me,tt){var zt,Zt,wn;for(wn=tt.length-1;wn!==-1;wn--)zt=tt[wn][0],Zt=tt[wn][1],me.subscribe.apply(me,[zt].concat(typeof Zt=="function"?[Zt]:Zt))}(Qr,Aa.API.events):y[dh]=Aa.API[dh]);var rd=y.getPageWidth=function(me){return(lr[me=me||oe].mediaBox.topRightX-lr[me].mediaBox.bottomLeftX)/Xe},Gf=y.setPageWidth=function(me,tt){lr[me].mediaBox.topRightX=tt*Xe+lr[me].mediaBox.bottomLeftX},$o=y.getPageHeight=function(me){return(lr[me=me||oe].mediaBox.topRightY-lr[me].mediaBox.bottomLeftY)/Xe},fA=y.setPageHeight=function(me,tt){lr[me].mediaBox.topRightY=tt*Xe+lr[me].mediaBox.bottomLeftY};return y.internal={pdfEscape:au,getStyle:Mi,getFont:Ks,getFontSize:_t,getCharSpace:b1,getTextColor:Qf,getLineHeight:uh,getLineHeightFactor:Bu,getLineWidth:Tu,write:Ye,getHorizontalCoordinate:lc,getVerticalCoordinate:Hl,getCoordinateString:Hf,getVerticalCoordinateString:td,collections:{},newObject:hn,newAdditionalObject:Ht,newObjectDeferred:En,newObjectDeferredBegin:Hn,getFilters:Gn,putStream:Mr,events:Qr,scaleFactor:Xe,pageSize:{getWidth:function(){return rd(oe)},setWidth:function(me){Gf(oe,me)},getHeight:function(){return $o(oe)},setHeight:function(me){fA(oe,me)}},encryptionOptions:A,encryption:Oo,getEncryptor:zl,output:Kh,getNumberOfPages:km,pages:nt,out:je,f2:ie,f3:q,getPageInfo:ys,getPageInfoByObjId:rr,getCurrentPageInfo:qh,getPDFVersion:E,Point:nd,Rectangle:ch,Matrix:Rr,hasHotfix:Wh},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return rd(oe)},set:function(me){Gf(oe,me)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return $o(oe)},set:function(me){fA(oe,me)},enumerable:!0,configurable:!0}),Ul.call(y,Lt),It="F1",hA(i,n),Qr.publish("initialized"),y}Zb.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Zb.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Zb.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Zb.prototype.processOwnerPassword=function(t,e){return oO(sO(e).substr(0,5),t)},Zb.prototype.encryptor=function(t,e){var n=sO(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return oO(n,r)}},i8.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||vs(t)!==vs(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},Aa.API={events:[]},Aa.version="2.5.1";var ol=Aa.API,cU=1,Ey=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Bb=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ba=function(t){return t.toFixed(2)},av=function(t){return t.toFixed(5)};ol.__acroform__={};var Qh=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},oY=function(t){return t*cU},VA=function(t){var e=new Due,n=_i.internal.getHeight(t)||0,r=_i.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Ba(r)),Number(Ba(n))],e},Hft=ol.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},Qft=ol.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},jft=ol.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Sl=ol.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return jft(t,e-1)},Tl=ol.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Hft(t,e-1)},Bl=ol.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Qft(t,e-1)},Gft=ol.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],l=t[2],c=t[3],a={};return a.lowerLeft_X=n(i)||0,a.lowerLeft_Y=r(s+c)||0,a.upperRight_X=n(i+l)||0,a.upperRight_Y=r(s)||0,[Number(Ba(a.lowerLeft_X)),Number(Ba(a.lowerLeft_Y)),Number(Ba(a.upperRight_X)),Number(Ba(a.upperRight_Y))]},Kft=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=lO(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Ba(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=VA(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},lO=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(q){return q.split(`
`)}):i.map(function(q){return[q]});var s=n,l=_i.internal.getHeight(t)||0;l=l<0?-l:l;var c=_i.internal.getWidth(t)||0;c=c<0?-c:c;var a=function(q,W,ee){if(q+1<i.length){var ue=W+" "+i[q+1][0];return d3(ue,t,ee).width<=c-4}return!1};s++;e:for(;s>0;){e="",s--;var f,A,m=d3("3",t,s).height,_=t.multiline?l-s:(l-m)/2,y=_+=2,T=0,E=0,P=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+d3(e,t,s=12).width+", FieldWidth:"+c+`
`;break}for(var I="",F=0,R=0;R<i.length;R++)if(i.hasOwnProperty(R)){var N=!1;if(i[R].length!==1&&P!==i[R].length-1){if((m+2)*(F+2)+2>l)continue e;I+=i[R][P],N=!0,E=R,R--}else{I=(I+=i[R][P]+" ").substr(I.length-1)==" "?I.substr(0,I.length-1):I;var z=parseInt(R),Q=a(z,I,s),j=R>=i.length-1;if(Q&&!j){I+=" ",P=0;continue}if(Q||j){if(j)E=z;else if(t.multiline&&(m+2)*(F+2)+2>l)continue e}else{if(!t.multiline||(m+2)*(F+2)+2>l)continue e;E=z}}for(var H="",K=T;K<=E;K++){var ie=i[K];if(t.multiline){if(K===E){H+=ie[P]+" ",P=(P+1)%ie.length;continue}if(K===T){H+=ie[ie.length-1]+" ";continue}}H+=ie[0]+" "}switch(H=H.substr(H.length-1)==" "?H.substr(0,H.length-1):H,A=d3(H,t,s).width,t.textAlign){case"right":f=c-A-2;break;case"center":f=(c-A)/2;break;case"left":default:f=2}e+=Ba(f)+" "+Ba(y)+` Td
`,e+="("+Ey(H)+`) Tj
`,e+=-Ba(f)+` 0 Td
`,y=-(s+2),A=0,T=N?E:E+1,F++,I=""}break}return r.text=e,r.fontSize=s,r},d3=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Wft={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},qft=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},Yft=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),vs(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},Xft=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(iA.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Wft)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");cU=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Nue,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&qft(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var l in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(l)){var c=r[l],a=[],f=c.Rect;if(c.Rect&&(c.Rect=Gft(c.Rect,i)),i.internal.newObjectDeferredBegin(c.objId,!0),c.DA=_i.createDefaultAppearanceStream(c),vs(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(a=c.getKeyValueListForStream()),c.Rect=f,c.hasAppearanceStream&&!c.appearanceStreamContent){var A=Kft(c);a.push({key:"AP",value:"<</N "+A+">>"}),i.internal.acroformPlugin.xForms.push(A)}if(c.appearanceStreamContent){var m="";for(var _ in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(_)){var y=c.appearanceStreamContent[_];if(m+="/"+_+" ",m+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var l in y)if(y.hasOwnProperty(l)){var T=y[l];typeof T=="function"&&(T=T.call(i,c)),m+="/"+l+" "+T+" ",i.internal.acroformPlugin.xForms.indexOf(T)>=0||i.internal.acroformPlugin.xForms.push(T)}}else typeof(T=y)=="function"&&(T=T.call(i,c)),m+="/"+l+" "+T,i.internal.acroformPlugin.xForms.indexOf(T)>=0||i.internal.acroformPlugin.xForms.push(T);m+=">>"}a.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:a,objectId:c.objId}),i.internal.out("endobj")}s&&Yft(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},Oue=ol.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(l){return l};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),vs(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Ey(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},wP=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Ey(r(t))+")"},rm=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};rm.prototype.toString=function(){return this.objId+" 0 R"},rm.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},rm.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:Oue(i,this.objId,this.scope)}):i instanceof rm?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var Due=function(){rm.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Qh(Due,rm);var Nue=function(){rm.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Ey(n(t))+")"}},set:function(n){t=n}})};Qh(Nue,rm);var iA=function t(){rm.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute F supplied.');e=I}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Sl(e,3)},set:function(I){I?this.F=Tl(e,3):this.F=Bl(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute Ff supplied.');n=I}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(I){r=I!==void 0?I:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(I){r[0]=I}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(I){r[1]=I}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(I){r[2]=I}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(I){r[3]=I}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(I){switch(I){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=I;break;default:throw new Error('Invalid value "'+I+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof a8)return;s="FieldObject"+t.FieldNum++}var I=function(F){return F};return this.scope&&(I=this.scope.internal.getEncryptor(this.objId)),"("+Ey(I(s))+")"},set:function(I){s=I.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(I){s=I}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(I){l=I}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(I){c=I}});var a=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return a},set:function(I){a=I}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/cU:f},set:function(I){f=I}});var A="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return A},set:function(I){A=I}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof a8||this instanceof W_))return wP(m,this.objId,this.scope)},set:function(I){I=I.toString(),m=I}});var _=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof Nu?_:wP(_,this.objId,this.scope)},set:function(I){I=I.toString(),_=this instanceof Nu?I:I.substr(0,1)==="("?Bb(I.substr(1,I.length-2)):Bb(I)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Nu?Bb(_.substr(1,_.length-1)):_},set:function(I){I=I.toString(),_=this instanceof Nu?"/"+I:I}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(I){this.V=I}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Nu?y:wP(y,this.objId,this.scope)},set:function(I){I=I.toString(),y=this instanceof Nu?I:I.substr(0,1)==="("?Bb(I.substr(1,I.length-2)):Bb(I)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Nu?Bb(y.substr(1,y.length-1)):y},set:function(I){I=I.toString(),y=this instanceof Nu?"/"+I:I}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var T,E=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return E},set:function(I){I=!!I,E=I}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(T)return T},set:function(I){T=I}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Sl(this.Ff,1)},set:function(I){I?this.Ff=Tl(this.Ff,1):this.Ff=Bl(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Sl(this.Ff,2)},set:function(I){I?this.Ff=Tl(this.Ff,2):this.Ff=Bl(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Sl(this.Ff,3)},set:function(I){I?this.Ff=Tl(this.Ff,3):this.Ff=Bl(this.Ff,3)}});var P=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(P!==null)return P},set:function(I){if([0,1,2].indexOf(I)===-1)throw new Error('Invalid value "'+I+'" for attribute Q supplied.');P=I}}),Object.defineProperty(this,"textAlign",{get:function(){var I;switch(P){case 0:default:I="left";break;case 1:I="center";break;case 2:I="right"}return I},configurable:!0,enumerable:!0,set:function(I){switch(I){case"right":case 2:P=2;break;case"center":case 1:P=1;break;case"left":case 0:default:P=0}}})};Qh(iA,rm);var kw=function(){iA.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Oue(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,l,c){c||(c=1);for(var a,f=[];a=l.exec(s);)f.push(a[c]);return f}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Sl(this.Ff,18)},set:function(n){n?this.Ff=Tl(this.Ff,18):this.Ff=Bl(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Sl(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Tl(this.Ff,19):this.Ff=Bl(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Sl(this.Ff,20)},set:function(n){n?(this.Ff=Tl(this.Ff,20),e.sort()):this.Ff=Bl(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Sl(this.Ff,22)},set:function(n){n?this.Ff=Tl(this.Ff,22):this.Ff=Bl(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Sl(this.Ff,23)},set:function(n){n?this.Ff=Tl(this.Ff,23):this.Ff=Bl(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Sl(this.Ff,27)},set:function(n){n?this.Ff=Tl(this.Ff,27):this.Ff=Bl(this.Ff,27)}}),this.hasAppearanceStream=!1};Qh(kw,iA);var Rw=function(){kw.call(this),this.fontName="helvetica",this.combo=!1};Qh(Rw,kw);var Ow=function(){Rw.call(this),this.combo=!0};Qh(Ow,Rw);var US=function(){Ow.call(this),this.edit=!0};Qh(US,Ow);var Nu=function(){iA.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Sl(this.Ff,15)},set:function(n){n?this.Ff=Tl(this.Ff,15):this.Ff=Bl(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Sl(this.Ff,16)},set:function(n){n?this.Ff=Tl(this.Ff,16):this.Ff=Bl(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Sl(this.Ff,17)},set:function(n){n?this.Ff=Tl(this.Ff,17):this.Ff=Bl(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Sl(this.Ff,26)},set:function(n){n?this.Ff=Tl(this.Ff,26):this.Ff=Bl(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Ey(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){vs(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Qh(Nu,iA);var zS=function(){Nu.call(this),this.pushButton=!0};Qh(zS,Nu);var Dw=function(){Nu.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Qh(Dw,Nu);var a8=function(){var t,e;iA.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(c){return c};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,l=[];for(s in l.push("<<"),r)l.push("/"+s+" ("+Ey(i(r[s]))+")");return l.push(">>"),l.join(`
`)},set:function(i){vs(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=_i.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Qh(a8,iA),Dw.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Dw.prototype.createOption=function(t){var e=new a8;return e.Parent=this,e.optionName=t,this.Kids.push(e),Zft.call(this.scope,e),e};var $S=function(){Nu.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=_i.CheckBox.createAppearanceStream()};Qh($S,Nu);var W_=function(){iA.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Sl(this.Ff,13)},set:function(e){e?this.Ff=Tl(this.Ff,13):this.Ff=Bl(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Sl(this.Ff,21)},set:function(e){e?this.Ff=Tl(this.Ff,21):this.Ff=Bl(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Sl(this.Ff,23)},set:function(e){e?this.Ff=Tl(this.Ff,23):this.Ff=Bl(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Sl(this.Ff,24)},set:function(e){e?this.Ff=Tl(this.Ff,24):this.Ff=Bl(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Sl(this.Ff,25)},set:function(e){e?this.Ff=Tl(this.Ff,25):this.Ff=Bl(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Sl(this.Ff,26)},set:function(e){e?this.Ff=Tl(this.Ff,26):this.Ff=Bl(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Qh(W_,iA);var VS=function(){W_.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Sl(this.Ff,14)},set:function(t){t?this.Ff=Tl(this.Ff,14):this.Ff=Bl(this.Ff,14)}}),this.password=!0};Qh(VS,W_);var _i={CheckBox:{createAppearanceStream:function(){return{N:{On:_i.CheckBox.YesNormal},D:{On:_i.CheckBox.YesPushDown,Off:_i.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=VA(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=lO(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Ba(_i.internal.getWidth(t))+" "+Ba(_i.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Ba(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=VA(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=_i.internal.getHeight(t),l=_i.internal.getWidth(t),c=lO(t,t.caption);return i.push("1 g"),i.push("0 0 "+Ba(l)+" "+Ba(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Ba(l-1)+" "+Ba(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Ba(c.fontSize)+" Tf "+r),i.push(c.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=VA(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Ba(_i.internal.getWidth(t))+" "+Ba(_i.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:_i.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=_i.RadioButton.Circle.YesNormal,e.D[t]=_i.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=VA(t);e.scope=t.scope;var n=[],r=_i.internal.getWidth(t)<=_i.internal.getHeight(t)?_i.internal.getWidth(t)/4:_i.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=_i.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+av(_i.internal.getWidth(t)/2)+" "+av(_i.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=VA(t);e.scope=t.scope;var n=[],r=_i.internal.getWidth(t)<=_i.internal.getHeight(t)?_i.internal.getWidth(t)/4:_i.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*_i.internal.Bezier_C).toFixed(5)),l=Number((r*_i.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+av(_i.internal.getWidth(t)/2)+" "+av(_i.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+av(_i.internal.getWidth(t)/2)+" "+av(_i.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+l+" "+l+" "+r+" 0 "+r+" c"),n.push("-"+l+" "+r+" -"+r+" "+l+" -"+r+" 0 c"),n.push("-"+r+" -"+l+" -"+l+" -"+r+" 0 -"+r+" c"),n.push(l+" -"+r+" "+r+" -"+l+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=VA(t);e.scope=t.scope;var n=[],r=_i.internal.getWidth(t)<=_i.internal.getHeight(t)?_i.internal.getWidth(t)/4:_i.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*_i.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+av(_i.internal.getWidth(t)/2)+" "+av(_i.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:_i.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=_i.RadioButton.Cross.YesNormal,e.D[t]=_i.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=VA(t);e.scope=t.scope;var n=[],r=_i.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Ba(_i.internal.getWidth(t)-2)+" "+Ba(_i.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Ba(r.x1.x)+" "+Ba(r.x1.y)+" m"),n.push(Ba(r.x2.x)+" "+Ba(r.x2.y)+" l"),n.push(Ba(r.x4.x)+" "+Ba(r.x4.y)+" m"),n.push(Ba(r.x3.x)+" "+Ba(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=VA(t);e.scope=t.scope;var n=_i.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Ba(_i.internal.getWidth(t))+" "+Ba(_i.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Ba(_i.internal.getWidth(t)-2)+" "+Ba(_i.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Ba(n.x1.x)+" "+Ba(n.x1.y)+" m"),r.push(Ba(n.x2.x)+" "+Ba(n.x2.y)+" l"),r.push(Ba(n.x4.x)+" "+Ba(n.x4.y)+" m"),r.push(Ba(n.x3.x)+" "+Ba(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=VA(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Ba(_i.internal.getWidth(t))+" "+Ba(_i.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};_i.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=_i.internal.getWidth(t),n=_i.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},_i.internal.getWidth=function(t){var e=0;return vs(t)==="object"&&(e=oY(t.Rect[2])),e},_i.internal.getHeight=function(t){var e=0;return vs(t)==="object"&&(e=oY(t.Rect[3])),e};var Zft=ol.addField=function(t){if(Xft(this,t),!(t instanceof iA))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};ol.AcroFormChoiceField=kw,ol.AcroFormListBox=Rw,ol.AcroFormComboBox=Ow,ol.AcroFormEditBox=US,ol.AcroFormButton=Nu,ol.AcroFormPushButton=zS,ol.AcroFormRadioButton=Dw,ol.AcroFormCheckBox=$S,ol.AcroFormTextField=W_,ol.AcroFormPasswordField=VS,ol.AcroFormAppearance=_i,ol.AcroForm={ChoiceField:kw,ListBox:Rw,ComboBox:Ow,EditBox:US,Button:Nu,PushButton:zS,RadioButton:Dw,CheckBox:$S,TextField:W_,PasswordField:VS,Appearance:_i},Aa.AcroForm={ChoiceField:kw,ListBox:Rw,ComboBox:Ow,EditBox:US,Button:Nu,PushButton:zS,RadioButton:Dw,CheckBox:$S,TextField:W_,PasswordField:VS,Appearance:_i};function Uue(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(q,W){var ee,ue,J,te,ne,he=e;if((W=W||e)==="RGBA"||q.data!==void 0&&q.data instanceof Uint8ClampedArray&&"height"in q&&"width"in q)return"RGBA";if(Q(q))for(ne in n)for(J=n[ne],ee=0;ee<J.length;ee+=1){for(te=!0,ue=0;ue<J[ee].length;ue+=1)if(J[ee][ue]!==void 0&&J[ee][ue]!==q[ue]){te=!1;break}if(te===!0){he=ne;break}}else for(ne in n)for(J=n[ne],ee=0;ee<J.length;ee+=1){for(te=!0,ue=0;ue<J[ee].length;ue+=1)if(J[ee][ue]!==void 0&&J[ee][ue]!==q.charCodeAt(ue)){te=!1;break}if(te===!0){he=ne;break}}return he===e&&W!==e&&(he=W),he},i=function q(W){for(var ee=this.internal.write,ue=this.internal.putStream,J=(0,this.internal.getFilters)();J.indexOf("FlateEncode")!==-1;)J.splice(J.indexOf("FlateEncode"),1);W.objectId=this.internal.newObject();var te=[];if(te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Image"}),te.push({key:"Width",value:W.width}),te.push({key:"Height",value:W.height}),W.colorSpace===P.INDEXED?te.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(W.palette.length/3-1)+" "+("sMask"in W&&W.sMask!==void 0?W.objectId+2:W.objectId+1)+" 0 R]"}):(te.push({key:"ColorSpace",value:"/"+W.colorSpace}),W.colorSpace===P.DEVICE_CMYK&&te.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),te.push({key:"BitsPerComponent",value:W.bitsPerComponent}),"decodeParameters"in W&&W.decodeParameters!==void 0&&te.push({key:"DecodeParms",value:"<<"+W.decodeParameters+">>"}),"transparency"in W&&Array.isArray(W.transparency)){for(var ne="",he=0,ce=W.transparency.length;he<ce;he++)ne+=W.transparency[he]+" "+W.transparency[he]+" ";te.push({key:"Mask",value:"["+ne+"]"})}W.sMask!==void 0&&te.push({key:"SMask",value:W.objectId+1+" 0 R"});var ye=W.filter!==void 0?["/"+W.filter]:void 0;if(ue({data:W.data,additionalKeyValues:te,alreadyAppliedFilters:ye,objectId:W.objectId}),ee("endobj"),"sMask"in W&&W.sMask!==void 0){var Ee="/Predictor "+W.predictor+" /Colors 1 /BitsPerComponent "+W.bitsPerComponent+" /Columns "+W.width,se={width:W.width,height:W.height,colorSpace:"DeviceGray",bitsPerComponent:W.bitsPerComponent,decodeParameters:Ee,data:W.sMask};"filter"in W&&(se.filter=W.filter),q.call(this,se)}if(W.colorSpace===P.INDEXED){var oe=this.internal.newObject();ue({data:H(new Uint8Array(W.palette)),objectId:oe}),ee("endobj")}},s=function(){var q=this.internal.collections.addImage_images;for(var W in q)i.call(this,q[W])},l=function(){var q,W=this.internal.collections.addImage_images,ee=this.internal.write;for(var ue in W)ee("/I"+(q=W[ue]).index,q.objectId,"0","R")},c=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",l))},a=function(){var q=this.internal.collections.addImage_images;return c.call(this),q},f=function(){return Object.keys(this.internal.collections.addImage_images).length},A=function(q){return typeof t["process"+q.toUpperCase()]=="function"},m=function(q){return vs(q)==="object"&&q.nodeType===1},_=function(q,W){if(q.nodeName==="IMG"&&q.hasAttribute("src")){var ee=""+q.getAttribute("src");if(ee.indexOf("data:image/")===0)return lC(unescape(ee).split("base64,").pop());var ue=t.loadFile(ee,!0);if(ue!==void 0)return ue}if(q.nodeName==="CANVAS"){if(q.width===0||q.height===0)throw new Error("Given canvas must have data. Canvas width: "+q.width+", height: "+q.height);var J;switch(W){case"PNG":J="image/png";break;case"WEBP":J="image/webp";break;case"JPEG":case"JPG":default:J="image/jpeg"}return lC(q.toDataURL(J,1).split("base64,").pop())}},y=function(q){var W=this.internal.collections.addImage_images;if(W){for(var ee in W)if(q===W[ee].alias)return W[ee]}},T=function(q,W,ee){return q||W||(q=-96,W=-96),q<0&&(q=-1*ee.width*72/q/this.internal.scaleFactor),W<0&&(W=-1*ee.height*72/W/this.internal.scaleFactor),q===0&&(q=W*ee.width/ee.height),W===0&&(W=q*ee.height/ee.width),[q,W]},E=function(q,W,ee,ue,J,te){var ne=T.call(this,ee,ue,J),he=this.internal.getCoordinateString,ce=this.internal.getVerticalCoordinateString,ye=a.call(this);if(ee=ne[0],ue=ne[1],ye[J.index]=J,te){te*=Math.PI/180;var Ee=Math.cos(te),se=Math.sin(te),oe=function(Ue){return Ue.toFixed(4)},_e=[oe(Ee),oe(se),oe(-1*se),oe(Ee),0,0,"cm"]}this.internal.write("q"),te?(this.internal.write([1,"0","0",1,he(q),ce(W+ue),"cm"].join(" ")),this.internal.write(_e.join(" ")),this.internal.write([he(ee),"0","0",he(ue),"0","0","cm"].join(" "))):this.internal.write([he(ee),"0","0",he(ue),he(q),ce(W+ue),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+J.index+" Do"),this.internal.write("Q")},P=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var I=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},F=t.__addimage__.sHashCode=function(q){var W,ee,ue=0;if(typeof q=="string")for(ee=q.length,W=0;W<ee;W++)ue=(ue<<5)-ue+q.charCodeAt(W),ue|=0;else if(Q(q))for(ee=q.byteLength/2,W=0;W<ee;W++)ue=(ue<<5)-ue+q[W],ue|=0;return ue},R=t.__addimage__.validateStringAsBase64=function(q){(q=q||"").toString().trim();var W=!0;return q.length===0&&(W=!1),q.length%4!=0&&(W=!1),/^[A-Za-z0-9+/]+$/.test(q.substr(0,q.length-2))===!1&&(W=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(q.substr(-2))===!1&&(W=!1),W},N=t.__addimage__.extractImageFromDataUrl=function(q){var W=(q=q||"").split("base64,"),ee=null;if(W.length===2){var ue=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(W[0]);Array.isArray(ue)&&(ee={mimeType:ue[1],charset:ue[2],data:W[1]})}return ee},z=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(q){return z()&&q instanceof ArrayBuffer};var Q=t.__addimage__.isArrayBufferView=function(q){return z()&&typeof Uint32Array<"u"&&(q instanceof Int8Array||q instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&q instanceof Uint8ClampedArray||q instanceof Int16Array||q instanceof Uint16Array||q instanceof Int32Array||q instanceof Uint32Array||q instanceof Float32Array||q instanceof Float64Array)},j=t.__addimage__.binaryStringToUint8Array=function(q){for(var W=q.length,ee=new Uint8Array(W),ue=0;ue<W;ue++)ee[ue]=q.charCodeAt(ue);return ee},H=t.__addimage__.arrayBufferToBinaryString=function(q){for(var W="",ee=Q(q)?q:new Uint8Array(q),ue=0;ue<ee.length;ue+=8192)W+=String.fromCharCode.apply(null,ee.subarray(ue,ue+8192));return W};t.addImage=function(){var q,W,ee,ue,J,te,ne,he,ce;if(typeof arguments[1]=="number"?(W=e,ee=arguments[1],ue=arguments[2],J=arguments[3],te=arguments[4],ne=arguments[5],he=arguments[6],ce=arguments[7]):(W=arguments[1],ee=arguments[2],ue=arguments[3],J=arguments[4],te=arguments[5],ne=arguments[6],he=arguments[7],ce=arguments[8]),vs(q=arguments[0])==="object"&&!m(q)&&"imageData"in q){var ye=q;q=ye.imageData,W=ye.format||W||e,ee=ye.x||ee||0,ue=ye.y||ue||0,J=ye.w||ye.width||J,te=ye.h||ye.height||te,ne=ye.alias||ne,he=ye.compression||he,ce=ye.rotation||ye.angle||ce}var Ee=this.internal.getFilters();if(he===void 0&&Ee.indexOf("FlateEncode")!==-1&&(he="SLOW"),isNaN(ee)||isNaN(ue))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var se=K.call(this,q,W,ne,he);return E.call(this,ee,ue,J,te,se,ce),this};var K=function(q,W,ee,ue){var J,te,ne;if(typeof q=="string"&&r(q)===e){q=unescape(q);var he=ie(q,!1);(he!==""||(he=t.loadFile(q,!0))!==void 0)&&(q=he)}if(m(q)&&(q=_(q,W)),W=r(q,W),!A(W))throw new Error("addImage does not support files of type '"+W+"', please ensure that a plugin for '"+W+"' support is added.");if(((ne=ee)==null||ne.length===0)&&(ee=function(ce){return typeof ce=="string"||Q(ce)?F(ce):Q(ce.data)?F(ce.data):null}(q)),(J=y.call(this,ee))||(z()&&(q instanceof Uint8Array||W==="RGBA"||(te=q,q=j(q))),J=this["process"+W.toUpperCase()](q,f.call(this),ee,function(ce){return ce&&typeof ce=="string"&&(ce=ce.toUpperCase()),ce in t.image_compression?ce:I.NONE}(ue),te)),!J)throw new Error("An unknown error occurred whilst processing the image.");return J},ie=t.__addimage__.convertBase64ToBinaryString=function(q,W){var ee;W=typeof W!="boolean"||W;var ue,J="";if(typeof q=="string"){ue=(ee=N(q))!==null?ee.data:q;try{J=lC(ue)}catch(te){if(W)throw R(ue)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+te.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return J};t.getImageProperties=function(q){var W,ee,ue="";if(m(q)&&(q=_(q)),typeof q=="string"&&r(q)===e&&((ue=ie(q,!1))===""&&(ue=t.loadFile(q)||""),q=ue),ee=r(q),!A(ee))throw new Error("addImage does not support files of type '"+ee+"', please ensure that a plugin for '"+ee+"' support is added.");if(!z()||q instanceof Uint8Array||(q=j(q)),!(W=this["process"+ee.toUpperCase()](q)))throw new Error("An unknown error occurred whilst processing the image");return W.fileType=ee,W}})(Aa.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Aa.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,a=this.internal.getPageInfoByObjId(n.objId),f=n.pageContext.annotations,A=!1,m=0;m<f.length&&!A;m++)switch((r=f[m]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(A=!0);break;case"reference":case"text":case"freetext":A=!0}if(A!=0){this.internal.write("/Annots [");for(var _=0;_<f.length;_++){r=f[_];var y=this.internal.pdfEscape,T=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var E=this.internal.newAdditionalObject(),P=this.internal.newAdditionalObject(),I=this.internal.getEncryptor(E.objId),F=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+l(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+y(I(r.contents))+")",s+=" /Popup "+P.objId+" 0 R",s+=" /P "+a.objId+" 0 R",s+=" /T ("+y(I(F))+") >>",E.content=s;var R=E.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+l(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+R,r.open&&(s+=" /Open true"),s+=" >>",P.content=s,this.internal.write(E.objId,"0 R",P.objId,"0 R");break;case"freetext":i="/Rect ["+l(r.bounds.x)+" "+c(r.bounds.y)+" "+l(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var N=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+y(T(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+N+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var z=this.annotations._nameMap[r.options.name];r.options.pageNumber=z.page,r.options.top=z.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+y(T(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var Q=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+Q+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,l){var c=this.internal.getCurrentPageInfo(),a=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:a(n),y:f(r),w:a(n+i),h:f(r+s)},options:l,type:"link"})},t.textWithLink=function(n,r,i,s){var l,c,a=this.getTextWidth(n),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){c=s.maxWidth;var A=this.splitTextToSize(n,c).length;l=Math.ceil(f*A)}else c=a,l=f;return this.text(n,r,i,s),i+=.2*f,s.align==="center"&&(r-=a/2),s.align==="right"&&(r-=a),this.link(r,i-f,c,l,s),a},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Aa.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(E){return e[E.charCodeAt(0)]!==void 0},l=t.__arabicParser__.isArabicLetter=function(E){return typeof E=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(E)},c=t.__arabicParser__.isArabicEndLetter=function(E){return l(E)&&s(E)&&e[E.charCodeAt(0)].length<=2},a=t.__arabicParser__.isArabicAlfLetter=function(E){return l(E)&&i.indexOf(E.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(E){return l(E)&&s(E)&&e[E.charCodeAt(0)].length>=1};var f=t.__arabicParser__.arabicLetterHasFinalForm=function(E){return l(E)&&s(E)&&e[E.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(E){return l(E)&&s(E)&&e[E.charCodeAt(0)].length>=3};var A=t.__arabicParser__.arabicLetterHasMedialForm=function(E){return l(E)&&s(E)&&e[E.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(E){var P=0,I=n,F="",R=0;for(P=0;P<E.length;P+=1)I[E.charCodeAt(P)]!==void 0?(R++,typeof(I=I[E.charCodeAt(P)])=="number"&&(F+=String.fromCharCode(I),I=n,R=0),P===E.length-1&&(I=n,F+=E.charAt(P-(R-1)),P-=R-1,R=0)):(I=n,F+=E.charAt(P-R),P-=R,R=0);return F};t.__arabicParser__.isArabicDiacritic=function(E){return E!==void 0&&r[E.charCodeAt(0)]!==void 0};var _=t.__arabicParser__.getCorrectForm=function(E,P,I){return l(E)?s(E)===!1?-1:!f(E)||!l(P)&&!l(I)||!l(I)&&c(P)||c(E)&&!l(P)||c(E)&&a(P)||c(E)&&c(P)?0:A(E)&&l(P)&&!c(P)&&l(I)&&f(I)?3:c(E)||!l(I)?1:2:-1},y=function(E){var P=0,I=0,F=0,R="",N="",z="",Q=(E=E||"").split("\\s+"),j=[];for(P=0;P<Q.length;P+=1){for(j.push(""),I=0;I<Q[P].length;I+=1)R=Q[P][I],N=Q[P][I-1],z=Q[P][I+1],l(R)?(F=_(R,N,z),j[P]+=F!==-1?String.fromCharCode(e[R.charCodeAt(0)][F]):R):j[P]+=R;j[P]=m(j[P])}return j.join(" ")},T=t.__arabicParser__.processArabic=t.processArabic=function(){var E,P=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,I=[];if(Array.isArray(P)){var F=0;for(I=[],F=0;F<P.length;F+=1)Array.isArray(P[F])?I.push([y(P[F][0]),P[F][1],P[F][2]]):I.push([y(P[F])]);E=I}else E=y(P);return typeof arguments[0]=="string"?E:(arguments[0].text=E,arguments[0])};t.events.push(["preProcessText",T])}(Aa.API),Aa.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(c){n=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(c){s=c}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(c){l=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Aa.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var a=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return a},set:function(E){a=E}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(E){f=E}});var A=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return A},set:function(E){A=E}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(E){m=E}});var _=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return _},set:function(E){_=E}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(E){y=E}});var T=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return T},set:function(E){T=E}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(a){return r.call(this),this.internal.__cell__.headerFunction=typeof a=="function"?a:void 0,this},t.getTextDimensions=function(a,f){r.call(this);var A=(f=f||{}).fontSize||this.getFontSize(),m=f.font||this.getFont(),_=f.scaleFactor||this.internal.scaleFactor,y=0,T=0,E=0,P=this;if(!Array.isArray(a)&&typeof a!="string"){if(typeof a!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");a=String(a)}var I=f.maxWidth;I>0?typeof a=="string"?a=this.splitTextToSize(a,I):Object.prototype.toString.call(a)==="[object Array]"&&(a=a.reduce(function(R,N){return R.concat(P.splitTextToSize(N,I))},[])):a=Array.isArray(a)?a:[a];for(var F=0;F<a.length;F++)y<(E=this.getStringUnitWidth(a[F],{font:m})*A)&&(y=E);return y!==0&&(T=a.length),{w:y/=_,h:Math.max((T*A*this.getLineHeightFactor()-A*(this.getLineHeightFactor()-1))/_,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var a=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(a.left,a.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=t.cell=function(){var a;a=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var f=this.internal.__cell__.lastCell,A=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,_=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===a.lineNumber?(a.x=(f.x||0)+(f.width||0),a.y=f.y||0):f.y+f.height+a.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),a.y=m.top,y&&_&&(this.printHeaderRow(a.lineNumber,!0),a.y+=_[0].height)):a.y=f.y+f.height||a.y),a.text[0]!==void 0&&(this.rect(a.x,a.y,a.width,a.height,n===!0?"FD":void 0),a.align==="right"?this.text(a.text,a.x+a.width-A,a.y+A,{align:"right",baseline:"top"}):a.align==="center"?this.text(a.text,a.x+a.width/2,a.y+A,{align:"center",baseline:"top",maxWidth:a.width-A-A}):this.text(a.text,a.x+A,a.y+A,{align:"left",baseline:"top",maxWidth:a.width-A-A})),this.internal.__cell__.lastCell=a,this};t.table=function(a,f,A,m,_){if(r.call(this),!A)throw new Error("No data for PDF table.");var y,T,E,P,I=[],F=[],R=[],N={},z={},Q=[],j=[],H=(_=_||{}).autoSize||!1,K=_.printHeaders!==!1,ie=_.css&&_.css["font-size"]!==void 0?16*_.css["font-size"]:_.fontSize||12,q=_.margins||Object.assign({width:this.getPageWidth()},e),W=typeof _.padding=="number"?_.padding:3,ee=_.headerBackgroundColor||"#c8c8c8",ue=_.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=K,this.internal.__cell__.margins=q,this.internal.__cell__.table_font_size=ie,this.internal.__cell__.padding=W,this.internal.__cell__.headerBackgroundColor=ee,this.internal.__cell__.headerTextColor=ue,this.setFontSize(ie),m==null)F=I=Object.keys(A[0]),R=I.map(function(){return"left"});else if(Array.isArray(m)&&vs(m[0])==="object")for(I=m.map(function(ye){return ye.name}),F=m.map(function(ye){return ye.prompt||ye.name||""}),R=m.map(function(ye){return ye.align||"left"}),y=0;y<m.length;y+=1)z[m[y].name]=m[y].width*(19.049976/25.4);else Array.isArray(m)&&typeof m[0]=="string"&&(F=I=m,R=I.map(function(){return"left"}));if(H||Array.isArray(m)&&typeof m[0]=="string")for(y=0;y<I.length;y+=1){for(N[P=I[y]]=A.map(function(ye){return ye[P]}),this.setFont(void 0,"bold"),Q.push(this.getTextDimensions(F[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),T=N[P],this.setFont(void 0,"normal"),E=0;E<T.length;E+=1)Q.push(this.getTextDimensions(T[E],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);z[P]=Math.max.apply(null,Q)+W+W,Q=[]}if(K){var J={};for(y=0;y<I.length;y+=1)J[I[y]]={},J[I[y]].text=F[y],J[I[y]].align=R[y];var te=c.call(this,J,z);j=I.map(function(ye){return new s(a,f,z[ye],te,J[ye].text,void 0,J[ye].align)}),this.setTableHeaderRow(j),this.printHeaderRow(1,!1)}var ne=m.reduce(function(ye,Ee){return ye[Ee.name]=Ee.align,ye},{});for(y=0;y<A.length;y+=1){"rowStart"in _&&_.rowStart instanceof Function&&_.rowStart({row:y,data:A[y]},this);var he=c.call(this,A[y],z);for(E=0;E<I.length;E+=1){var ce=A[y][I[E]];"cellStart"in _&&_.cellStart instanceof Function&&_.cellStart({row:y,col:E,data:ce},this),l.call(this,new s(a,f,z[I[E]],he,ce,y+2,ne[I[E]]))}}return this.internal.__cell__.table_x=a,this.internal.__cell__.table_y=f,this};var c=function(a,f){var A=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,_=this.internal.scaleFactor;return Object.keys(a).map(function(y){var T=a[y];return this.splitTextToSize(T.hasOwnProperty("text")?T.text:T,f[y]-A-A)},this).map(function(y){return this.getLineHeightFactor()*y.length*m/_+A+A},this).reduce(function(y,T){return Math.max(y,T)},0)};t.setTableHeaderRow=function(a){r.call(this),this.internal.__cell__.tableHeaderRow=a},t.printHeaderRow=function(a,f){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var A;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var _=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){A=this.internal.__cell__.tableHeaderRow[y].clone(),f&&(A.y=this.internal.__cell__.margins.top||0,_.push(A)),A.lineNumber=a;var T=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,A),this.setTextColor(T)}_.length>0&&this.setTableHeaderRow(_),this.setFont(void 0,"normal"),n=!1}}(Aa.API);var zue={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},$ue=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],uO=Uue($ue),Vue=[100,200,300,400,500,600,700,800,900],Jft=Uue(Vue);function cO(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return zue[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof uO[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function lY(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var ept={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},uY={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function cY(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function tpt(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},ept,n.genericFontFamilies||{}),s=null,l=null,c=0;c<e.length;++c)if(i[(s=cO(e[c])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){l=t[s.family];break}if(!(l=l||t[r]))throw new Error("Could not find a font-family for the rule '"+cY(s)+"' and default family '"+r+"'.");if(l=function(a,f){if(f[a])return f[a];var A=uO[a],m=A<=uO.normal?-1:1,_=lY(f,$ue,A,m);if(!_)throw new Error("Could not find a matching font-stretch value for "+a);return _}(s.stretch,l),l=function(a,f){if(f[a])return f[a];for(var A=zue[a],m=0;m<A.length;++m)if(f[A[m]])return f[A[m]];throw new Error("Could not find a matching font-style for "+a)}(s.style,l),!(l=function(a,f){if(f[a])return f[a];if(a===400&&f[500])return f[500];if(a===500&&f[400])return f[400];var A=Jft[a],m=lY(f,Vue,A,a<400?-1:1);if(!m)throw new Error("Could not find a matching font-weight for value "+a);return m}(s.weight,l)))throw new Error("Failed to resolve a font for the rule '"+cY(s)+"'.");return l}function hY(t){return t.trimLeft()}function npt(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function rpt(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var f3,dY,fY,xP=["times"];(function(t){var e,n,r,i,s,l,c,a,f,A=function(se){return se=se||{},this.isStrokeTransparent=se.isStrokeTransparent||!1,this.strokeOpacity=se.strokeOpacity||1,this.strokeStyle=se.strokeStyle||"#000000",this.fillStyle=se.fillStyle||"#000000",this.isFillTransparent=se.isFillTransparent||!1,this.fillOpacity=se.fillOpacity||1,this.font=se.font||"10px sans-serif",this.textBaseline=se.textBaseline||"alphabetic",this.textAlign=se.textAlign||"left",this.lineWidth=se.lineWidth||1,this.lineJoin=se.lineJoin||"miter",this.lineCap=se.lineCap||"butt",this.path=se.path||[],this.transform=se.transform!==void 0?se.transform.clone():new a,this.globalCompositeOperation=se.globalCompositeOperation||"normal",this.globalAlpha=se.globalAlpha||1,this.clip_path=se.clip_path||[],this.currentPoint=se.currentPoint||new l,this.miterLimit=se.miterLimit||10,this.lastPoint=se.lastPoint||new l,this.lineDashOffset=se.lineDashOffset||0,this.lineDash=se.lineDash||[],this.margin=se.margin||[0,0,0,0],this.prevPageLastElemOffset=se.prevPageLastElemOffset||0,this.ignoreClearRect=typeof se.ignoreClearRect!="boolean"||se.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,l=this.internal.Point,c=this.internal.Rectangle,a=this.internal.Matrix,f=new A}]);var m=function(se){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var oe=se;Object.defineProperty(this,"pdf",{get:function(){return oe}});var _e=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return _e},set:function(Ne){_e=!!Ne}});var Ue=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Ue},set:function(Ne){Ue=!!Ne}});var Le=0;Object.defineProperty(this,"posX",{get:function(){return Le},set:function(Ne){isNaN(Ne)||(Le=Ne)}});var be=0;Object.defineProperty(this,"posY",{get:function(){return be},set:function(Ne){isNaN(Ne)||(be=Ne)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Ne){var je;typeof Ne=="number"?je=[Ne,Ne,Ne,Ne]:((je=new Array(4))[0]=Ne[0],je[1]=Ne.length>=2?Ne[1]:je[0],je[2]=Ne.length>=3?Ne[2]:je[0],je[3]=Ne.length>=4?Ne[3]:je[1]),f.margin=je}});var Re=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Re},set:function(Ne){Re=Ne}});var Qe=0;Object.defineProperty(this,"lastBreak",{get:function(){return Qe},set:function(Ne){Qe=Ne}});var Je=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Je},set:function(Ne){Je=Ne}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Ne){Ne instanceof A&&(f=Ne)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Ne){f.path=Ne}});var nt=[];Object.defineProperty(this,"ctxStack",{get:function(){return nt},set:function(Ne){nt=Ne}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ne){var je;je=_(Ne),this.ctx.fillStyle=je.style,this.ctx.isFillTransparent=je.a===0,this.ctx.fillOpacity=je.a,this.pdf.setFillColor(je.r,je.g,je.b,{a:je.a}),this.pdf.setTextColor(je.r,je.g,je.b,{a:je.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ne){var je=_(Ne);this.ctx.strokeStyle=je.style,this.ctx.isStrokeTransparent=je.a===0,this.ctx.strokeOpacity=je.a,je.a===0?this.pdf.setDrawColor(255,255,255):(je.a,this.pdf.setDrawColor(je.r,je.g,je.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ne){["butt","round","square"].indexOf(Ne)!==-1&&(this.ctx.lineCap=Ne,this.pdf.setLineCap(Ne))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ne){isNaN(Ne)||(this.ctx.lineWidth=Ne,this.pdf.setLineWidth(Ne))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ne){["bevel","round","miter"].indexOf(Ne)!==-1&&(this.ctx.lineJoin=Ne,this.pdf.setLineJoin(Ne))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ne){isNaN(Ne)||(this.ctx.miterLimit=Ne,this.pdf.setMiterLimit(Ne))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ne){this.ctx.textBaseline=Ne}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ne){["right","end","center","left","start"].indexOf(Ne)!==-1&&(this.ctx.textAlign=Ne)}});var Ve=null;function Pe(Ne,je){if(Ve===null){var Ye=function(vt){var Lt=[];return Object.keys(vt).forEach(function(Et){vt[Et].forEach(function(Vt){var _t=null;switch(Vt){case"bold":_t={family:Et,weight:"bold"};break;case"italic":_t={family:Et,style:"italic"};break;case"bolditalic":_t={family:Et,weight:"bold",style:"italic"};break;case"":case"normal":_t={family:Et}}_t!==null&&(_t.ref={name:Et,style:Vt},Lt.push(_t))})}),Lt}(Ne.getFontList());Ve=function(vt){for(var Lt={},Et=0;Et<vt.length;++Et){var Vt=cO(vt[Et]),_t=Vt.family,qt=Vt.stretch,tn=Vt.style,Nt=Vt.weight;Lt[_t]=Lt[_t]||{},Lt[_t][qt]=Lt[_t][qt]||{},Lt[_t][qt][tn]=Lt[_t][qt][tn]||{},Lt[_t][qt][tn][Nt]=Vt}return Lt}(Ye.concat(je))}return Ve}var Ge=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ge},set:function(Ne){Ve=null,Ge=Ne}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ne){var je;if(this.ctx.font=Ne,(je=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ne))!==null){var Ye=je[1],vt=(je[2],je[3]),Lt=je[4],Et=(je[5],je[6]),Vt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Lt)[2];Lt=Math.floor(Vt==="px"?parseFloat(Lt)*this.pdf.internal.scaleFactor:Vt==="em"?parseFloat(Lt)*this.pdf.getFontSize():parseFloat(Lt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Lt);var _t=function(ut){var It,Xe,Pt=[],Bt=ut.trim();if(Bt==="")return xP;if(Bt in uY)return[uY[Bt]];for(;Bt!=="";){switch(Xe=null,It=(Bt=hY(Bt)).charAt(0)){case'"':case"'":Xe=npt(Bt.substring(1),It);break;default:Xe=rpt(Bt)}if(Xe===null||(Pt.push(Xe[0]),(Bt=hY(Xe[1]))!==""&&Bt.charAt(0)!==","))return xP;Bt=Bt.replace(/^,/,"")}return Pt}(Et);if(this.fontFaces){var qt=tpt(Pe(this.pdf,this.fontFaces),_t.map(function(ut){return{family:ut,stretch:"normal",weight:vt,style:Ye}}));this.pdf.setFont(qt.ref.name,qt.ref.style)}else{var tn="";(vt==="bold"||parseInt(vt,10)>=700||Ye==="bold")&&(tn="bold"),Ye==="italic"&&(tn+="italic"),tn.length===0&&(tn="normal");for(var Nt="",wt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},De=0;De<_t.length;De++){if(this.pdf.internal.getFont(_t[De],tn,{noFallback:!0,disableWarning:!0})!==void 0){Nt=_t[De];break}if(tn==="bolditalic"&&this.pdf.internal.getFont(_t[De],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Nt=_t[De],tn="bold";else if(this.pdf.internal.getFont(_t[De],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Nt=_t[De],tn="normal";break}}if(Nt===""){for(var We=0;We<_t.length;We++)if(wt[_t[We]]){Nt=wt[_t[We]];break}}Nt=Nt===""?"Times":Nt,this.pdf.setFont(Nt,tn)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ne){this.ctx.globalCompositeOperation=Ne}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ne){this.ctx.globalAlpha=Ne}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ne){this.ctx.lineDashOffset=Ne,Ee.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ne){this.ctx.lineDash=Ne,Ee.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ne){this.ctx.ignoreClearRect=!!Ne}})};m.prototype.setLineDash=function(se){this.lineDash=se},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){N.call(this,"fill",!1)},m.prototype.stroke=function(){N.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(se,oe){if(isNaN(se)||isNaN(oe))throw oo.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var _e=this.ctx.transform.applyToPoint(new l(se,oe));this.path.push({type:"mt",x:_e.x,y:_e.y}),this.ctx.lastPoint=new l(se,oe)},m.prototype.closePath=function(){var se=new l(0,0),oe=0;for(oe=this.path.length-1;oe!==-1;oe--)if(this.path[oe].type==="begin"&&vs(this.path[oe+1])==="object"&&typeof this.path[oe+1].x=="number"){se=new l(this.path[oe+1].x,this.path[oe+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(se.x,se.y)},m.prototype.lineTo=function(se,oe){if(isNaN(se)||isNaN(oe))throw oo.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var _e=this.ctx.transform.applyToPoint(new l(se,oe));this.path.push({type:"lt",x:_e.x,y:_e.y}),this.ctx.lastPoint=new l(_e.x,_e.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),N.call(this,null,!0)},m.prototype.quadraticCurveTo=function(se,oe,_e,Ue){if(isNaN(_e)||isNaN(Ue)||isNaN(se)||isNaN(oe))throw oo.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Le=this.ctx.transform.applyToPoint(new l(_e,Ue)),be=this.ctx.transform.applyToPoint(new l(se,oe));this.path.push({type:"qct",x1:be.x,y1:be.y,x:Le.x,y:Le.y}),this.ctx.lastPoint=new l(Le.x,Le.y)},m.prototype.bezierCurveTo=function(se,oe,_e,Ue,Le,be){if(isNaN(Le)||isNaN(be)||isNaN(se)||isNaN(oe)||isNaN(_e)||isNaN(Ue))throw oo.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Re=this.ctx.transform.applyToPoint(new l(Le,be)),Qe=this.ctx.transform.applyToPoint(new l(se,oe)),Je=this.ctx.transform.applyToPoint(new l(_e,Ue));this.path.push({type:"bct",x1:Qe.x,y1:Qe.y,x2:Je.x,y2:Je.y,x:Re.x,y:Re.y}),this.ctx.lastPoint=new l(Re.x,Re.y)},m.prototype.arc=function(se,oe,_e,Ue,Le,be){if(isNaN(se)||isNaN(oe)||isNaN(_e)||isNaN(Ue)||isNaN(Le))throw oo.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(be=!!be,!this.ctx.transform.isIdentity){var Re=this.ctx.transform.applyToPoint(new l(se,oe));se=Re.x,oe=Re.y;var Qe=this.ctx.transform.applyToPoint(new l(0,_e)),Je=this.ctx.transform.applyToPoint(new l(0,0));_e=Math.sqrt(Math.pow(Qe.x-Je.x,2)+Math.pow(Qe.y-Je.y,2))}Math.abs(Le-Ue)>=2*Math.PI&&(Ue=0,Le=2*Math.PI),this.path.push({type:"arc",x:se,y:oe,radius:_e,startAngle:Ue,endAngle:Le,counterclockwise:be})},m.prototype.arcTo=function(se,oe,_e,Ue,Le){throw new Error("arcTo not implemented.")},m.prototype.rect=function(se,oe,_e,Ue){if(isNaN(se)||isNaN(oe)||isNaN(_e)||isNaN(Ue))throw oo.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(se,oe),this.lineTo(se+_e,oe),this.lineTo(se+_e,oe+Ue),this.lineTo(se,oe+Ue),this.lineTo(se,oe),this.lineTo(se+_e,oe),this.lineTo(se,oe)},m.prototype.fillRect=function(se,oe,_e,Ue){if(isNaN(se)||isNaN(oe)||isNaN(_e)||isNaN(Ue))throw oo.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var Le={};this.lineCap!=="butt"&&(Le.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Le.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(se,oe,_e,Ue),this.fill(),Le.hasOwnProperty("lineCap")&&(this.lineCap=Le.lineCap),Le.hasOwnProperty("lineJoin")&&(this.lineJoin=Le.lineJoin)}},m.prototype.strokeRect=function(se,oe,_e,Ue){if(isNaN(se)||isNaN(oe)||isNaN(_e)||isNaN(Ue))throw oo.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");T.call(this)||(this.beginPath(),this.rect(se,oe,_e,Ue),this.stroke())},m.prototype.clearRect=function(se,oe,_e,Ue){if(isNaN(se)||isNaN(oe)||isNaN(_e)||isNaN(Ue))throw oo.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(se,oe,_e,Ue))},m.prototype.save=function(se){se=typeof se!="boolean"||se;for(var oe=this.pdf.internal.getCurrentPageInfo().pageNumber,_e=0;_e<this.pdf.internal.getNumberOfPages();_e++)this.pdf.setPage(_e+1),this.pdf.internal.out("q");if(this.pdf.setPage(oe),se){this.ctx.fontSize=this.pdf.internal.getFontSize();var Ue=new A(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Ue}},m.prototype.restore=function(se){se=typeof se!="boolean"||se;for(var oe=this.pdf.internal.getCurrentPageInfo().pageNumber,_e=0;_e<this.pdf.internal.getNumberOfPages();_e++)this.pdf.setPage(_e+1),this.pdf.internal.out("Q");this.pdf.setPage(oe),se&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var _=function(se){var oe,_e,Ue,Le;if(se.isCanvasGradient===!0&&(se=se.getColor()),!se)return{r:0,g:0,b:0,a:0,style:se};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(se))oe=0,_e=0,Ue=0,Le=0;else{var be=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(se);if(be!==null)oe=parseInt(be[1]),_e=parseInt(be[2]),Ue=parseInt(be[3]),Le=1;else if((be=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(se))!==null)oe=parseInt(be[1]),_e=parseInt(be[2]),Ue=parseInt(be[3]),Le=parseFloat(be[4]);else{if(Le=1,typeof se=="string"&&se.charAt(0)!=="#"){var Re=new Fue(se);se=Re.ok?Re.toHex():"#000000"}se.length===4?(oe=se.substring(1,2),oe+=oe,_e=se.substring(2,3),_e+=_e,Ue=se.substring(3,4),Ue+=Ue):(oe=se.substring(1,3),_e=se.substring(3,5),Ue=se.substring(5,7)),oe=parseInt(oe,16),_e=parseInt(_e,16),Ue=parseInt(Ue,16)}}return{r:oe,g:_e,b:Ue,a:Le,style:se}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},T=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(se,oe,_e,Ue){if(isNaN(oe)||isNaN(_e)||typeof se!="string")throw oo.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Ue=isNaN(Ue)?void 0:Ue,!y.call(this)){var Le=he(this.ctx.transform.rotation),be=this.ctx.transform.scaleX;W.call(this,{text:se,x:oe,y:_e,scale:be,angle:Le,align:this.textAlign,maxWidth:Ue})}},m.prototype.strokeText=function(se,oe,_e,Ue){if(isNaN(oe)||isNaN(_e)||typeof se!="string")throw oo.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!T.call(this)){Ue=isNaN(Ue)?void 0:Ue;var Le=he(this.ctx.transform.rotation),be=this.ctx.transform.scaleX;W.call(this,{text:se,x:oe,y:_e,scale:be,renderingMode:"stroke",angle:Le,align:this.textAlign,maxWidth:Ue})}},m.prototype.measureText=function(se){if(typeof se!="string")throw oo.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var oe=this.pdf,_e=this.pdf.internal.scaleFactor,Ue=oe.internal.getFontSize(),Le=oe.getStringUnitWidth(se)*Ue/oe.internal.scaleFactor,be=function(Re){var Qe=(Re=Re||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Qe}}),this};return new be({width:Le*=Math.round(96*_e/72*1e4)/1e4})},m.prototype.scale=function(se,oe){if(isNaN(se)||isNaN(oe))throw oo.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var _e=new a(se,0,0,oe,0,0);this.ctx.transform=this.ctx.transform.multiply(_e)},m.prototype.rotate=function(se){if(isNaN(se))throw oo.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var oe=new a(Math.cos(se),Math.sin(se),-Math.sin(se),Math.cos(se),0,0);this.ctx.transform=this.ctx.transform.multiply(oe)},m.prototype.translate=function(se,oe){if(isNaN(se)||isNaN(oe))throw oo.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var _e=new a(1,0,0,1,se,oe);this.ctx.transform=this.ctx.transform.multiply(_e)},m.prototype.transform=function(se,oe,_e,Ue,Le,be){if(isNaN(se)||isNaN(oe)||isNaN(_e)||isNaN(Ue)||isNaN(Le)||isNaN(be))throw oo.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Re=new a(se,oe,_e,Ue,Le,be);this.ctx.transform=this.ctx.transform.multiply(Re)},m.prototype.setTransform=function(se,oe,_e,Ue,Le,be){se=isNaN(se)?1:se,oe=isNaN(oe)?0:oe,_e=isNaN(_e)?0:_e,Ue=isNaN(Ue)?1:Ue,Le=isNaN(Le)?0:Le,be=isNaN(be)?0:be,this.ctx.transform=new a(se,oe,_e,Ue,Le,be)};var E=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(se,oe,_e,Ue,Le,be,Re,Qe,Je){var nt=this.pdf.getImageProperties(se),Ve=1,Pe=1,Ge=1,Ne=1;Ue!==void 0&&Qe!==void 0&&(Ge=Qe/Ue,Ne=Je/Le,Ve=nt.width/Ue*Qe/Ue,Pe=nt.height/Le*Je/Le),be===void 0&&(be=oe,Re=_e,oe=0,_e=0),Ue!==void 0&&Qe===void 0&&(Qe=Ue,Je=Le),Ue===void 0&&Qe===void 0&&(Qe=nt.width,Je=nt.height);for(var je,Ye=this.ctx.transform.decompose(),vt=he(Ye.rotate.shx),Lt=new a,Et=(Lt=(Lt=(Lt=Lt.multiply(Ye.translate)).multiply(Ye.skew)).multiply(Ye.scale)).applyToRectangle(new c(be-oe*Ge,Re-_e*Ne,Ue*Ve,Le*Pe)),Vt=P.call(this,Et),_t=[],qt=0;qt<Vt.length;qt+=1)_t.indexOf(Vt[qt])===-1&&_t.push(Vt[qt]);if(R(_t),this.autoPaging)for(var tn=_t[0],Nt=_t[_t.length-1],wt=tn;wt<Nt+1;wt++){this.pdf.setPage(wt);var De=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],We=wt===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],It=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Xe=wt===1?0:ut+(wt-2)*It;if(this.ctx.clip_path.length!==0){var Pt=this.path;je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=F(je,this.posX+this.margin[3],-Xe+We+this.ctx.prevPageLastElemOffset),z.call(this,"fill",!0),this.path=Pt}var Bt=JSON.parse(JSON.stringify(Et));Bt=F([Bt],this.posX+this.margin[3],-Xe+We+this.ctx.prevPageLastElemOffset)[0];var it=(wt>tn||wt<Nt)&&E.call(this);it&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],De,It,null).clip().discardPath()),this.pdf.addImage(se,"JPEG",Bt.x,Bt.y,Bt.w,Bt.h,null,null,vt),it&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(se,"JPEG",Et.x,Et.y,Et.w,Et.h,null,null,vt)};var P=function(se,oe,_e){var Ue=[];oe=oe||this.pdf.internal.pageSize.width,_e=_e||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Le=this.posY+this.ctx.prevPageLastElemOffset;switch(se.type){default:case"mt":case"lt":Ue.push(Math.floor((se.y+Le)/_e)+1);break;case"arc":Ue.push(Math.floor((se.y+Le-se.radius)/_e)+1),Ue.push(Math.floor((se.y+Le+se.radius)/_e)+1);break;case"qct":var be=ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,se.x1,se.y1,se.x,se.y);Ue.push(Math.floor((be.y+Le)/_e)+1),Ue.push(Math.floor((be.y+be.h+Le)/_e)+1);break;case"bct":var Re=ye(this.ctx.lastPoint.x,this.ctx.lastPoint.y,se.x1,se.y1,se.x2,se.y2,se.x,se.y);Ue.push(Math.floor((Re.y+Le)/_e)+1),Ue.push(Math.floor((Re.y+Re.h+Le)/_e)+1);break;case"rect":Ue.push(Math.floor((se.y+Le)/_e)+1),Ue.push(Math.floor((se.y+se.h+Le)/_e)+1)}for(var Qe=0;Qe<Ue.length;Qe+=1)for(;this.pdf.internal.getNumberOfPages()<Ue[Qe];)I.call(this);return Ue},I=function(){var se=this.fillStyle,oe=this.strokeStyle,_e=this.font,Ue=this.lineCap,Le=this.lineWidth,be=this.lineJoin;this.pdf.addPage(),this.fillStyle=se,this.strokeStyle=oe,this.font=_e,this.lineCap=Ue,this.lineWidth=Le,this.lineJoin=be},F=function(se,oe,_e){for(var Ue=0;Ue<se.length;Ue++)switch(se[Ue].type){case"bct":se[Ue].x2+=oe,se[Ue].y2+=_e;case"qct":se[Ue].x1+=oe,se[Ue].y1+=_e;case"mt":case"lt":case"arc":default:se[Ue].x+=oe,se[Ue].y+=_e}return se},R=function(se){return se.sort(function(oe,_e){return oe-_e})},N=function(se,oe){for(var _e,Ue,Le=this.fillStyle,be=this.strokeStyle,Re=this.lineCap,Qe=this.lineWidth,Je=Math.abs(Qe*this.ctx.transform.scaleX),nt=this.lineJoin,Ve=JSON.parse(JSON.stringify(this.path)),Pe=JSON.parse(JSON.stringify(this.path)),Ge=[],Ne=0;Ne<Pe.length;Ne++)if(Pe[Ne].x!==void 0)for(var je=P.call(this,Pe[Ne]),Ye=0;Ye<je.length;Ye+=1)Ge.indexOf(je[Ye])===-1&&Ge.push(je[Ye]);for(var vt=0;vt<Ge.length;vt++)for(;this.pdf.internal.getNumberOfPages()<Ge[vt];)I.call(this);if(R(Ge),this.autoPaging)for(var Lt=Ge[0],Et=Ge[Ge.length-1],Vt=Lt;Vt<Et+1;Vt++){this.pdf.setPage(Vt),this.fillStyle=Le,this.strokeStyle=be,this.lineCap=Re,this.lineWidth=Je,this.lineJoin=nt;var _t=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],qt=Vt===1?this.posY+this.margin[0]:this.margin[0],tn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],wt=Vt===1?0:tn+(Vt-2)*Nt;if(this.ctx.clip_path.length!==0){var De=this.path;_e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=F(_e,this.posX+this.margin[3],-wt+qt+this.ctx.prevPageLastElemOffset),z.call(this,se,!0),this.path=De}if(Ue=JSON.parse(JSON.stringify(Ve)),this.path=F(Ue,this.posX+this.margin[3],-wt+qt+this.ctx.prevPageLastElemOffset),oe===!1||Vt===0){var We=(Vt>Lt||Vt<Et)&&E.call(this);We&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_t,Nt,null).clip().discardPath()),z.call(this,se,oe),We&&this.pdf.restoreGraphicsState()}this.lineWidth=Qe}else this.lineWidth=Je,z.call(this,se,oe),this.lineWidth=Qe;this.path=Ve},z=function(se,oe){if((se!=="stroke"||oe||!T.call(this))&&(se==="stroke"||oe||!y.call(this))){for(var _e,Ue,Le=[],be=this.path,Re=0;Re<be.length;Re++){var Qe=be[Re];switch(Qe.type){case"begin":Le.push({begin:!0});break;case"close":Le.push({close:!0});break;case"mt":Le.push({start:Qe,deltas:[],abs:[]});break;case"lt":var Je=Le.length;if(be[Re-1]&&!isNaN(be[Re-1].x)&&(_e=[Qe.x-be[Re-1].x,Qe.y-be[Re-1].y],Je>0)){for(;Je>=0;Je--)if(Le[Je-1].close!==!0&&Le[Je-1].begin!==!0){Le[Je-1].deltas.push(_e),Le[Je-1].abs.push(Qe);break}}break;case"bct":_e=[Qe.x1-be[Re-1].x,Qe.y1-be[Re-1].y,Qe.x2-be[Re-1].x,Qe.y2-be[Re-1].y,Qe.x-be[Re-1].x,Qe.y-be[Re-1].y],Le[Le.length-1].deltas.push(_e);break;case"qct":var nt=be[Re-1].x+2/3*(Qe.x1-be[Re-1].x),Ve=be[Re-1].y+2/3*(Qe.y1-be[Re-1].y),Pe=Qe.x+2/3*(Qe.x1-Qe.x),Ge=Qe.y+2/3*(Qe.y1-Qe.y),Ne=Qe.x,je=Qe.y;_e=[nt-be[Re-1].x,Ve-be[Re-1].y,Pe-be[Re-1].x,Ge-be[Re-1].y,Ne-be[Re-1].x,je-be[Re-1].y],Le[Le.length-1].deltas.push(_e);break;case"arc":Le.push({deltas:[],abs:[],arc:!0}),Array.isArray(Le[Le.length-1].abs)&&Le[Le.length-1].abs.push(Qe)}}Ue=oe?null:se==="stroke"?"stroke":"fill";for(var Ye=!1,vt=0;vt<Le.length;vt++)if(Le[vt].arc)for(var Lt=Le[vt].abs,Et=0;Et<Lt.length;Et++){var Vt=Lt[Et];Vt.type==="arc"?H.call(this,Vt.x,Vt.y,Vt.radius,Vt.startAngle,Vt.endAngle,Vt.counterclockwise,void 0,oe,!Ye):ee.call(this,Vt.x,Vt.y),Ye=!0}else if(Le[vt].close===!0)this.pdf.internal.out("h"),Ye=!1;else if(Le[vt].begin!==!0){var _t=Le[vt].start.x,qt=Le[vt].start.y;ue.call(this,Le[vt].deltas,_t,qt),Ye=!0}Ue&&K.call(this,Ue),oe&&ie.call(this)}},Q=function(se){var oe=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,_e=oe*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return se-_e;case"top":return se+oe-_e;case"hanging":return se+oe-2*_e;case"middle":return se+oe/2-_e;case"ideographic":return se;case"alphabetic":default:return se}},j=function(se){return se+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var se=function(){};return se.colorStops=[],se.addColorStop=function(oe,_e){this.colorStops.push([oe,_e])},se.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},se.isCanvasGradient=!0,se},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var H=function(se,oe,_e,Ue,Le,be,Re,Qe,Je){for(var nt=te.call(this,_e,Ue,Le,be),Ve=0;Ve<nt.length;Ve++){var Pe=nt[Ve];Ve===0&&(Je?q.call(this,Pe.x1+se,Pe.y1+oe):ee.call(this,Pe.x1+se,Pe.y1+oe)),J.call(this,se,oe,Pe.x2,Pe.y2,Pe.x3,Pe.y3,Pe.x4,Pe.y4)}Qe?ie.call(this):K.call(this,Re)},K=function(se){switch(se){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ie=function(){this.pdf.clip(),this.pdf.discardPath()},q=function(se,oe){this.pdf.internal.out(n(se)+" "+r(oe)+" m")},W=function(se){var oe;switch(se.align){case"right":case"end":oe="right";break;case"center":oe="center";break;case"left":case"start":default:oe="left"}var _e=this.pdf.getTextDimensions(se.text),Ue=Q.call(this,se.y),Le=j.call(this,Ue)-_e.h,be=this.ctx.transform.applyToPoint(new l(se.x,Ue)),Re=this.ctx.transform.decompose(),Qe=new a;Qe=(Qe=(Qe=Qe.multiply(Re.translate)).multiply(Re.skew)).multiply(Re.scale);for(var Je,nt,Ve,Pe=this.ctx.transform.applyToRectangle(new c(se.x,Ue,_e.w,_e.h)),Ge=Qe.applyToRectangle(new c(se.x,Le,_e.w,_e.h)),Ne=P.call(this,Ge),je=[],Ye=0;Ye<Ne.length;Ye+=1)je.indexOf(Ne[Ye])===-1&&je.push(Ne[Ye]);if(R(je),this.autoPaging)for(var vt=je[0],Lt=je[je.length-1],Et=vt;Et<Lt+1;Et++){this.pdf.setPage(Et);var Vt=Et===1?this.posY+this.margin[0]:this.margin[0],_t=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qt=this.pdf.internal.pageSize.height-this.margin[2],tn=qt-this.margin[0],Nt=this.pdf.internal.pageSize.width-this.margin[1],wt=Nt-this.margin[3],De=Et===1?0:_t+(Et-2)*tn;if(this.ctx.clip_path.length!==0){var We=this.path;Je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=F(Je,this.posX+this.margin[3],-1*De+Vt),z.call(this,"fill",!0),this.path=We}var ut=F([JSON.parse(JSON.stringify(Ge))],this.posX+this.margin[3],-De+Vt+this.ctx.prevPageLastElemOffset)[0];se.scale>=.01&&(nt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(nt*se.scale),Ve=this.lineWidth,this.lineWidth=Ve*se.scale);var It=this.autoPaging!=="text";if(It||ut.y+ut.h<=qt){if(It||ut.y>=Vt&&ut.x<=Nt){var Xe=It?se.text:this.pdf.splitTextToSize(se.text,se.maxWidth||Nt-ut.x)[0],Pt=F([JSON.parse(JSON.stringify(Pe))],this.posX+this.margin[3],-De+Vt+this.ctx.prevPageLastElemOffset)[0],Bt=It&&(Et>vt||Et<Lt)&&E.call(this);Bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],wt,tn,null).clip().discardPath()),this.pdf.text(Xe,Pt.x,Pt.y,{angle:se.angle,align:oe,renderingMode:se.renderingMode}),Bt&&this.pdf.restoreGraphicsState()}}else ut.y<qt&&(this.ctx.prevPageLastElemOffset+=qt-ut.y);se.scale>=.01&&(this.pdf.setFontSize(nt),this.lineWidth=Ve)}else se.scale>=.01&&(nt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(nt*se.scale),Ve=this.lineWidth,this.lineWidth=Ve*se.scale),this.pdf.text(se.text,be.x+this.posX,be.y+this.posY,{angle:se.angle,align:oe,renderingMode:se.renderingMode,maxWidth:se.maxWidth}),se.scale>=.01&&(this.pdf.setFontSize(nt),this.lineWidth=Ve)},ee=function(se,oe,_e,Ue){_e=_e||0,Ue=Ue||0,this.pdf.internal.out(n(se+_e)+" "+r(oe+Ue)+" l")},ue=function(se,oe,_e){return this.pdf.lines(se,oe,_e,null,null)},J=function(se,oe,_e,Ue,Le,be,Re,Qe){this.pdf.internal.out([e(i(_e+se)),e(s(Ue+oe)),e(i(Le+se)),e(s(be+oe)),e(i(Re+se)),e(s(Qe+oe)),"c"].join(" "))},te=function(se,oe,_e,Ue){for(var Le=2*Math.PI,be=Math.PI/2;oe>_e;)oe-=Le;var Re=Math.abs(_e-oe);Re<Le&&Ue&&(Re=Le-Re);for(var Qe=[],Je=Ue?-1:1,nt=oe;Re>1e-5;){var Ve=nt+Je*Math.min(Re,be);Qe.push(ne.call(this,se,nt,Ve)),Re-=Math.abs(Ve-nt),nt=Ve}return Qe},ne=function(se,oe,_e){var Ue=(_e-oe)/2,Le=se*Math.cos(Ue),be=se*Math.sin(Ue),Re=Le,Qe=-be,Je=Re*Re+Qe*Qe,nt=Je+Re*Le+Qe*be,Ve=4/3*(Math.sqrt(2*Je*nt)-nt)/(Re*be-Qe*Le),Pe=Re-Ve*Qe,Ge=Qe+Ve*Re,Ne=Pe,je=-Ge,Ye=Ue+oe,vt=Math.cos(Ye),Lt=Math.sin(Ye);return{x1:se*Math.cos(oe),y1:se*Math.sin(oe),x2:Pe*vt-Ge*Lt,y2:Pe*Lt+Ge*vt,x3:Ne*vt-je*Lt,y3:Ne*Lt+je*vt,x4:se*Math.cos(_e),y4:se*Math.sin(_e)}},he=function(se){return 180*se/Math.PI},ce=function(se,oe,_e,Ue,Le,be){var Re=se+.5*(_e-se),Qe=oe+.5*(Ue-oe),Je=Le+.5*(_e-Le),nt=be+.5*(Ue-be),Ve=Math.min(se,Le,Re,Je),Pe=Math.max(se,Le,Re,Je),Ge=Math.min(oe,be,Qe,nt),Ne=Math.max(oe,be,Qe,nt);return new c(Ve,Ge,Pe-Ve,Ne-Ge)},ye=function(se,oe,_e,Ue,Le,be,Re,Qe){var Je,nt,Ve,Pe,Ge,Ne,je,Ye,vt,Lt,Et,Vt,_t,qt,tn=_e-se,Nt=Ue-oe,wt=Le-_e,De=be-Ue,We=Re-Le,ut=Qe-be;for(nt=0;nt<41;nt++)vt=(je=(Ve=se+(Je=nt/40)*tn)+Je*((Ge=_e+Je*wt)-Ve))+Je*(Ge+Je*(Le+Je*We-Ge)-je),Lt=(Ye=(Pe=oe+Je*Nt)+Je*((Ne=Ue+Je*De)-Pe))+Je*(Ne+Je*(be+Je*ut-Ne)-Ye),nt==0?(Et=vt,Vt=Lt,_t=vt,qt=Lt):(Et=Math.min(Et,vt),Vt=Math.min(Vt,Lt),_t=Math.max(_t,vt),qt=Math.max(qt,Lt));return new c(Math.round(Et),Math.round(Vt),Math.round(_t-Et),Math.round(qt-Vt))},Ee=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var se,oe,_e=(se=this.ctx.lineDash,oe=this.ctx.lineDashOffset,JSON.stringify({lineDash:se,lineDashOffset:oe}));this.prevLineDash!==_e&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=_e)}}})(Aa.API),function(t){var e=function(s){var l,c,a,f,A,m,_,y,T,E;for(c=[],a=0,f=(s+=l="\0\0\0\0".slice(s.length%4||4)).length;f>a;a+=4)(A=(s.charCodeAt(a)<<24)+(s.charCodeAt(a+1)<<16)+(s.charCodeAt(a+2)<<8)+s.charCodeAt(a+3))!==0?(m=(A=((A=((A=((A=(A-(E=A%85))/85)-(T=A%85))/85)-(y=A%85))/85)-(_=A%85))/85)%85,c.push(m+33,_+33,y+33,T+33,E+33)):c.push(122);return function(P,I){for(var F=I;F>0;F--)P.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},n=function(s){var l,c,a,f,A,m=String,_="length",y=255,T="charCodeAt",E="slice",P="replace";for(s[E](-2),s=s[E](0,-2)[P](/\s/g,"")[P]("z","!!!!!"),a=[],f=0,A=(s+=l="uuuuu"[E](s[_]%5||5))[_];A>f;f+=5)c=52200625*(s[T](f)-33)+614125*(s[T](f+1)-33)+7225*(s[T](f+2)-33)+85*(s[T](f+3)-33)+(s[T](f+4)-33),a.push(y&c>>24,y&c>>16,y&c>>8,y&c);return function(I,F){for(var R=F;R>0;R--)I.pop()}(a,l[_]),m.fromCharCode.apply(m,a)},r=function(s){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),l.test(s)===!1)return"";for(var c="",a=0;a<s.length;a+=2)c+=String.fromCharCode("0x"+(s[a]+s[a+1]));return c},i=function(s){for(var l=new Uint8Array(s.length),c=s.length;c--;)l[c]=s.charCodeAt(c);return s=(l=iO(l)).reduce(function(a,f){return a+String.fromCharCode(f)},"")};t.processDataByFilters=function(s,l){var c=0,a=s||"",f=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":a=n(a),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":a=e(a),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":a=r(a),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":a=a.split("").map(function(A){return("0"+A.charCodeAt().toString(16)).slice(-2)}).join("")+">",f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":a=i(a),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:a,reverseChain:f.reverse().join(" ")}}}(Aa.API),function(t){t.loadFile=function(e,n,r){return function(i,s,l){s=s!==!1,l=typeof l=="function"?l:function(){};var c=void 0;try{c=function(a,f,A){var m=new XMLHttpRequest,_=0,y=function(T){var E=T.length,P=[],I=String.fromCharCode;for(_=0;_<E;_+=1)P.push(I(255&T.charCodeAt(_)));return P.join("")};if(m.open("GET",a,!f),m.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(m.onload=function(){m.status===200?A(y(this.responseText)):A(void 0)}),m.send(null),f&&m.status===200)return y(m.responseText)}(i,s,l)}catch{}return c}(e,n,r)},t.loadImageFile=t.loadFile}(Aa.API),function(t){function e(){return(oa.html2canvas?Promise.resolve(oa.html2canvas):Promise.resolve().then(()=>Kvt)).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function n(){return(oa.DOMPurify?Promise.resolve(oa.DOMPurify):Promise.resolve().then(()=>x1t)).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var r=function(l){var c=vs(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(l,c){var a=document.createElement(l);for(var f in c.className&&(a.className=c.className),c.innerHTML&&c.dompurify&&(a.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)a.style[f]=c.style[f];return a},s=function l(c){var a=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),f=l.convert(Promise.resolve(),a);return f=(f=f.setProgress(1,l,1,[l])).set(c)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(l,c){return l.__proto__=c||s.prototype,l},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(a){switch(r(a)){case"string":return"string";case"element":return a.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l)){case"string":return this.then(n).then(function(a){return this.set({src:i("div",{innerHTML:l,dompurify:a})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},s.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=function a(f,A){for(var m=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),_=f.firstChild;_;_=_.nextSibling)A!==!0&&_.nodeType===1&&_.nodeName==="SCRIPT"||m.appendChild(a(_,A));return f.nodeType===1&&(f.nodeName==="CANVAS"?(m.width=f.width,m.height=f.height,m.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(m.value=f.value),m.addEventListener("load",function(){m.scrollTop=f.scrollTop,m.scrollLeft=f.scrollLeft},!0)),m}(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var a=Object.assign({},this.opt.html2canvas);return delete a.onrendered,c(this.prop.container,a)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var a=this.opt.jsPDF,f=this.opt.fontFaces,A=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:A,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,a.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,a.context2d.posX=this.opt.x,a.context2d.posY=this.opt.y,a.context2d.margin=this.opt.margin,a.context2d.fontFaces=f,f)for(var _=0;_<f.length;++_){var y=f[_],T=y.src.find(function(E){return E.format==="truetype"});T&&a.addFont(T.url,y.ref.name,y.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,a.context2d.save(!0),c(this.prop.container,m)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(l,c,a){return(a=a||"pdf").toLowerCase()==="img"||a.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},s.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},s.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},s.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(l){if(r(l)!=="object")return this;var c=Object.keys(l||{}).map(function(a){if(a in s.template.prop)return function(){this.prop[a]=l[a]};switch(a){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[a]=l[a]}}},this);return this.then(function(){return this.thenList(c)})},s.prototype.get=function(l,c){return this.then(function(){var a=l in s.template.prop?this.prop[l]:this.opt[l];return c?c(a):a})},s.prototype.setMargin=function(l){return this.then(function(){switch(r(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},s.prototype.setPageSize=function(l){function c(a,f){return Math.floor(a*f/72*96)}return this.then(function(){(l=l||Aa.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},s.prototype.setProgress=function(l,c,a,f){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),a!=null&&(this.progress.n=a),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(l,c,a,f){return this.setProgress(l?this.progress.val+l:null,c||null,a?this.progress.n+a:null,f?this.progress.stack.concat(f):null)},s.prototype.then=function(l,c){var a=this;return this.thenCore(l,c,function(f,A){return a.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(m){return a.updateProgress(null,f),m}).then(f,A).then(function(m){return a.updateProgress(1),m})})},s.prototype.thenCore=function(l,c,a){a=a||Promise.prototype.then,l&&(l=l.bind(this)),c&&(c=c.bind(this));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),A=a.call(f,l,c);return s.convert(A,this.__proto__)},s.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},s.prototype.thenList=function(l){var c=this;return l.forEach(function(a){c=c.thenCore(a)}),c},s.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return s.convert(c,this)},s.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},s.prototype.error=function(l){return this.then(function(){throw new Error(l)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Aa.getPageSize=function(l,c,a){if(vs(l)==="object"){var f=l;l=f.orientation,c=f.unit||c,a=f.format||a}c=c||"mm",a=a||"a4",l=(""+(l||"P")).toLowerCase();var A,m=(""+a).toLowerCase(),_={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":A=1;break;case"mm":A=72/25.4;break;case"cm":A=72/2.54;break;case"in":A=72;break;case"px":A=.75;break;case"pc":case"em":A=12;break;case"ex":A=6;break;default:throw"Invalid unit: "+c}var y,T=0,E=0;if(_.hasOwnProperty(m))T=_[m][1]/A,E=_[m][0]/A;else try{T=a[1],E=a[0]}catch{throw new Error("Invalid format: "+a)}if(l==="p"||l==="portrait")l="p",E>T&&(y=E,E=T,T=y);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",T>E&&(y=E,E=T,T=y)}return{width:E,height:T,unit:c,k:A,orientation:l}},t.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(cO):null;var a=new s(c);return c.worker?a:a.from(l).doCallback()}}(Aa.API),Aa.API.addJS=function(t){return fY=t,this.internal.events.subscribe("postPutResources",function(){f3=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(f3+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),dY=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+fY+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){f3!==void 0&&dY!==void 0&&this.internal.out("/Names <</JavaScript "+f3+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var l=i[s],c=r.exec(l);if(c!=null){var a=c[1];n.internal.newObjectDeferredBegin(a,!1)}n.internal.write(l)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,A=[];for(s=0;s<f;s++){var m=n.internal.newObject();A.push(m);var _=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+_.objId+" 0 R /XYZ null null null]>> endobj")}var y=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<A.length;s++)n.internal.write("(page_"+(s+1)+")"+A[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+y+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var l={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(l),l},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var l=r.children[s];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var c=this.count=this.count_r({count:0},l);if(c>0&&this.line("/Count "+c),l.options&&l.options.pageNumber){var a=n.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+a.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var f=0;f<r.children.length;f++)this.renderItems(r.children[f])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(Aa.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,l,c){var a,f=this.decode.DCT_DECODE,A=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=l||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(a=function(m){for(var _,y=256*m.charCodeAt(4)+m.charCodeAt(5),T=m.length,E={width:0,height:0,numcomponents:1},P=4;P<T;P+=2){if(P+=y,e.indexOf(m.charCodeAt(P+1))!==-1){_=256*m.charCodeAt(P+5)+m.charCodeAt(P+6),E={width:256*m.charCodeAt(P+7)+m.charCodeAt(P+8),height:_,numcomponents:m.charCodeAt(P+9)};break}y=256*m.charCodeAt(P+2)+m.charCodeAt(P+3)}return E}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}A={data:n,width:a.width,height:a.height,colorSpace:c,bitsPerComponent:8,filter:f,index:r,alias:i}}return A}}(Aa.API);var Mb,p3,pY,AY,mY,ipt=function(){var t,e,n;function r(s){var l,c,a,f,A,m,_,y,T,E,P,I,F,R;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},m=null;;){switch(l=this.readUInt32(),T=(function(){var N,z;for(z=[],N=0;N<4;++N)z.push(String.fromCharCode(this.data[this.pos++]));return z}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(l);break;case"fcTL":m&&this.animation.frames.push(m),this.pos+=4,m={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},A=this.readUInt16(),f=this.readUInt16()||100,m.delay=1e3*A/f,m.disposeOp=this.data[this.pos++],m.blendOp=this.data[this.pos++],m.data=[];break;case"IDAT":case"fdAT":for(T==="fdAT"&&(this.pos+=4,l-=4),s=(m!=null?m.data:void 0)||this.imgData,I=0;0<=l?I<l:I>l;0<=l?++I:--I)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(a=this.palette.length/3,this.transparency.indexed=this.read(l),this.transparency.indexed.length>a)throw new Error("More transparent colors than palette size");if((E=a-this.transparency.indexed.length)>0)for(F=0;0<=E?F<E:F>E;0<=E?++F:--F)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(l)[0];break;case 2:this.transparency.rgb=this.read(l)}break;case"tEXt":_=(P=this.read(l)).indexOf(0),y=String.fromCharCode.apply(String,P.slice(0,_)),this.text[y]=String.fromCharCode.apply(String,P.slice(_+1));break;case"IEND":return m&&this.animation.frames.push(m),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(R=this.colorType)===4||R===6,c=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*c,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=l}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var l,c;for(c=[],l=0;0<=s?l<s:l>s;0<=s?++l:--l)c.push(this.data[this.pos++]);return c},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var l=this.pixelBitlength/8,c=new Uint8Array(this.width*this.height*l),a=0,f=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function A(m,_,y,T){var E,P,I,F,R,N,z,Q,j,H,K,ie,q,W,ee,ue,J,te,ne,he,ce,ye=Math.ceil((f.width-m)/y),Ee=Math.ceil((f.height-_)/T),se=f.width==ye&&f.height==Ee;for(W=l*ye,ie=se?c:new Uint8Array(W*Ee),N=s.length,q=0,P=0;q<Ee&&a<N;){switch(s[a++]){case 0:for(F=J=0;J<W;F=J+=1)ie[P++]=s[a++];break;case 1:for(F=te=0;te<W;F=te+=1)E=s[a++],R=F<l?0:ie[P-l],ie[P++]=(E+R)%256;break;case 2:for(F=ne=0;ne<W;F=ne+=1)E=s[a++],I=(F-F%l)/l,ee=q&&ie[(q-1)*W+I*l+F%l],ie[P++]=(ee+E)%256;break;case 3:for(F=he=0;he<W;F=he+=1)E=s[a++],I=(F-F%l)/l,R=F<l?0:ie[P-l],ee=q&&ie[(q-1)*W+I*l+F%l],ie[P++]=(E+Math.floor((R+ee)/2))%256;break;case 4:for(F=ce=0;ce<W;F=ce+=1)E=s[a++],I=(F-F%l)/l,R=F<l?0:ie[P-l],q===0?ee=ue=0:(ee=ie[(q-1)*W+I*l+F%l],ue=I&&ie[(q-1)*W+(I-1)*l+F%l]),z=R+ee-ue,Q=Math.abs(z-R),H=Math.abs(z-ee),K=Math.abs(z-ue),j=Q<=H&&Q<=K?R:H<=K?ee:ue,ie[P++]=(E+j)%256;break;default:throw new Error("Invalid filter algorithm: "+s[a-1])}if(!se){var oe=((_+q*T)*f.width+m)*l,_e=q*W;for(F=0;F<ye;F+=1){for(var Ue=0;Ue<l;Ue+=1)c[oe++]=ie[_e++];oe+=(y-1)*l}}q++}}return s=Nft(s),f.interlaceMethod==1?(A(0,0,8,8),A(4,0,8,8),A(0,4,4,8),A(2,0,4,4),A(0,2,2,4),A(1,0,2,2),A(0,1,1,2)):A(0,0,1,1),c},r.prototype.decodePalette=function(){var s,l,c,a,f,A,m,_,y;for(c=this.palette,A=this.transparency.indexed||[],f=new Uint8Array((A.length||0)+c.length),a=0,s=0,l=m=0,_=c.length;m<_;l=m+=3)f[a++]=c[l],f[a++]=c[l+1],f[a++]=c[l+2],f[a++]=(y=A[s++])!=null?y:255;return f},r.prototype.copyToImageData=function(s,l){var c,a,f,A,m,_,y,T,E,P,I;if(a=this.colors,E=null,c=this.hasAlphaChannel,this.palette.length&&(E=(I=this._decodedPalette)!=null?I:this._decodedPalette=this.decodePalette(),a=4,c=!0),T=(f=s.data||s).length,m=E||l,A=_=0,a===1)for(;A<T;)y=E?4*l[A/4]:_,P=m[y++],f[A++]=P,f[A++]=P,f[A++]=P,f[A++]=c?m[y++]:255,_=y;else for(;A<T;)y=E?4*l[A/4]:_,f[A++]=m[y++],f[A++]=m[y++],f[A++]=m[y++],f[A++]=c?m[y++]:255,_=y},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(oa)==="[object Window]"){try{e=oa.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var l;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(l=new Image).src=e.toDataURL(),l;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var l,c,a,f,A,m,_,y;if(this.animation){for(y=[],c=A=0,m=(_=this.animation.frames).length;A<m;c=++A)l=_[c],a=s.createImageData(l.width,l.height),f=this.decodePixels(new Uint8Array(l.data)),this.copyToImageData(a,f),l.imageData=a,y.push(l.image=t(a));return y}},r.prototype.renderFrame=function(s,l){var c,a,f;return c=(a=this.animation.frames)[l],f=a[l-1],l===0&&s.clearRect(0,0,this.width,this.height),(f!=null?f.disposeOp:void 0)===1?s.clearRect(f.xOffset,f.yOffset,f.width,f.height):(f!=null?f.disposeOp:void 0)===2&&s.putImageData(f.imageData,f.xOffset,f.yOffset),c.blendOp===0&&s.clearRect(c.xOffset,c.yOffset,c.width,c.height),s.drawImage(c.image,c.xOffset,c.yOffset)},r.prototype.animate=function(s){var l,c,a,f,A,m,_=this;return c=0,m=this.animation,f=m.numFrames,a=m.frames,A=m.numPlays,(l=function(){var y,T;if(y=c++%f,T=a[y],_.renderFrame(s,y),f>1&&c/f<A)return _.animation._timeout=setTimeout(l,T.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var l,c;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,l=s.getContext("2d"),this.animation?(this.decodeFrames(l),this.animate(l)):(c=l.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),l.putImageData(c,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function apt(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,l=1<<(7&i)+1;t[e++],t[e++];var c=null,a=null;s&&(c=e,a=l,e+=3*l);var f=!0,A=[],m=0,_=null,y=0,T=null;for(this.width=n,this.height=r;f&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,T=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((q=t[e++])>=0))throw Error("Invalid block size");if(q===0)break;e+=q}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var E=t[e++];m=t[e++]|t[e++]<<8,_=t[e++],!(1&E)&&(_=null),y=E>>2&7,e++;break;case 254:for(;;){if(!((q=t[e++])>=0))throw Error("Invalid block size");if(q===0)break;e+=q}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var P=t[e++]|t[e++]<<8,I=t[e++]|t[e++]<<8,F=t[e++]|t[e++]<<8,R=t[e++]|t[e++]<<8,N=t[e++],z=N>>6&1,Q=1<<(7&N)+1,j=c,H=a,K=!1;N>>7&&(K=!0,j=e,H=Q,e+=3*Q);var ie=e;for(e++;;){var q;if(!((q=t[e++])>=0))throw Error("Invalid block size");if(q===0)break;e+=q}A.push({x:P,y:I,width:F,height:R,has_local_palette:K,palette_offset:j,palette_size:H,data_offset:ie,data_length:e-ie,transparent_index:_,interlaced:!!z,delay:m,disposal:y});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return A.length},this.loopCount=function(){return T},this.frameInfo=function(W){if(W<0||W>=A.length)throw new Error("Frame index out of range.");return A[W]},this.decodeAndBlitFrameBGRA=function(W,ee){var ue=this.frameInfo(W),J=ue.width*ue.height,te=new Uint8Array(J);gY(t,ue.data_offset,te,J);var ne=ue.palette_offset,he=ue.transparent_index;he===null&&(he=256);var ce=ue.width,ye=n-ce,Ee=ce,se=4*(ue.y*n+ue.x),oe=4*((ue.y+ue.height)*n+ue.x),_e=se,Ue=4*ye;ue.interlaced===!0&&(Ue+=4*n*7);for(var Le=8,be=0,Re=te.length;be<Re;++be){var Qe=te[be];if(Ee===0&&(Ee=ce,(_e+=Ue)>=oe&&(Ue=4*ye+4*n*(Le-1),_e=se+(ce+ye)*(Le<<1),Le>>=1)),Qe===he)_e+=4;else{var Je=t[ne+3*Qe],nt=t[ne+3*Qe+1],Ve=t[ne+3*Qe+2];ee[_e++]=Ve,ee[_e++]=nt,ee[_e++]=Je,ee[_e++]=255}--Ee}},this.decodeAndBlitFrameRGBA=function(W,ee){var ue=this.frameInfo(W),J=ue.width*ue.height,te=new Uint8Array(J);gY(t,ue.data_offset,te,J);var ne=ue.palette_offset,he=ue.transparent_index;he===null&&(he=256);var ce=ue.width,ye=n-ce,Ee=ce,se=4*(ue.y*n+ue.x),oe=4*((ue.y+ue.height)*n+ue.x),_e=se,Ue=4*ye;ue.interlaced===!0&&(Ue+=4*n*7);for(var Le=8,be=0,Re=te.length;be<Re;++be){var Qe=te[be];if(Ee===0&&(Ee=ce,(_e+=Ue)>=oe&&(Ue=4*ye+4*n*(Le-1),_e=se+(ce+ye)*(Le<<1),Le>>=1)),Qe===he)_e+=4;else{var Je=t[ne+3*Qe],nt=t[ne+3*Qe+1],Ve=t[ne+3*Qe+2];ee[_e++]=Je,ee[_e++]=nt,ee[_e++]=Ve,ee[_e++]=255}--Ee}}}function gY(t,e,n,r){for(var i=t[e++],s=1<<i,l=s+1,c=l+1,a=i+1,f=(1<<a)-1,A=0,m=0,_=0,y=t[e++],T=new Int32Array(4096),E=null;;){for(;A<16&&y!==0;)m|=t[e++]<<A,A+=8,y===1?y=t[e++]:--y;if(A<a)break;var P=m&f;if(m>>=a,A-=a,P!==s){if(P===l)break;for(var I=P<c?P:E,F=0,R=I;R>s;)R=T[R]>>8,++F;var N=R;if(_+F+(I!==P?1:0)>r)return void oo.log("Warning, gif stream longer than expected.");n[_++]=N;var z=_+=F;for(I!==P&&(n[_++]=N),R=I;F--;)R=T[R],n[--z]=255&R,R>>=8;E!==null&&c<4096&&(T[c++]=E<<8|N,c>=f+1&&a<12&&(++a,f=f<<1|1)),E=P}else c=l+1,f=(1<<(a=i+1))-1,E=null}return _!==r&&oo.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function CP(t){var e,n,r,i,s,l=Math.floor,c=new Array(64),a=new Array(64),f=new Array(64),A=new Array(64),m=new Array(65535),_=new Array(65535),y=new Array(64),T=new Array(64),E=[],P=0,I=7,F=new Array(64),R=new Array(64),N=new Array(64),z=new Array(256),Q=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],H=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],ie=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],q=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],W=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ee=[0,1,2,3,4,5,6,7,8,9,10,11],ue=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],J=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function te(se,oe){for(var _e=0,Ue=0,Le=new Array,be=1;be<=16;be++){for(var Re=1;Re<=se[be];Re++)Le[oe[Ue]]=[],Le[oe[Ue]][0]=_e,Le[oe[Ue]][1]=be,Ue++,_e++;_e*=2}return Le}function ne(se){for(var oe=se[0],_e=se[1]-1;_e>=0;)oe&1<<_e&&(P|=1<<I),_e--,--I<0&&(P==255?(he(255),he(0)):he(P),I=7,P=0)}function he(se){E.push(se)}function ce(se){he(se>>8&255),he(255&se)}function ye(se,oe,_e,Ue,Le){for(var be,Re=Le[0],Qe=Le[240],Je=function(Lt,Et){var Vt,_t,qt,tn,Nt,wt,De,We,ut,It,Xe=0;for(ut=0;ut<8;++ut){Vt=Lt[Xe],_t=Lt[Xe+1],qt=Lt[Xe+2],tn=Lt[Xe+3],Nt=Lt[Xe+4],wt=Lt[Xe+5],De=Lt[Xe+6];var Pt=Vt+(We=Lt[Xe+7]),Bt=Vt-We,it=_t+De,Mt=_t-De,at=qt+wt,et=qt-wt,St=tn+Nt,sn=tn-Nt,bn=Pt+St,gr=Pt-St,tr=it+at,Nn=it-at;Lt[Xe]=bn+tr,Lt[Xe+4]=bn-tr;var lr=.707106781*(Nn+gr);Lt[Xe+2]=gr+lr,Lt[Xe+6]=gr-lr;var Qr=.382683433*((bn=sn+et)-(Nn=Mt+Bt)),xi=.5411961*bn+Qr,ai=1.306562965*Nn+Qr,zi=.707106781*(tr=et+Mt),ma=Bt+zi,Rr=Bt-zi;Lt[Xe+5]=Rr+xi,Lt[Xe+3]=Rr-xi,Lt[Xe+1]=ma+ai,Lt[Xe+7]=ma-ai,Xe+=8}for(Xe=0,ut=0;ut<8;++ut){Vt=Lt[Xe],_t=Lt[Xe+8],qt=Lt[Xe+16],tn=Lt[Xe+24],Nt=Lt[Xe+32],wt=Lt[Xe+40],De=Lt[Xe+48];var Ki=Vt+(We=Lt[Xe+56]),$i=Vt-We,Jt=_t+De,hn=_t-De,En=qt+wt,Hn=qt-wt,Ht=tn+Nt,an=tn-Nt,In=Ki+Ht,Pn=Ki-Ht,er=Jt+En,Gn=Jt-En;Lt[Xe]=In+er,Lt[Xe+32]=In-er;var Mr=.707106781*(Gn+Pn);Lt[Xe+16]=Pn+Mr,Lt[Xe+48]=Pn-Mr;var ti=.382683433*((In=an+Hn)-(Gn=hn+$i)),Tn=.5411961*In+ti,Kt=1.306562965*Gn+ti,Zn=.707106781*(er=Hn+hn),jt=$i+Zn,Xn=$i-Zn;Lt[Xe+40]=Xn+Tn,Lt[Xe+24]=Xn-Tn,Lt[Xe+8]=jt+Kt,Lt[Xe+56]=jt-Kt,Xe++}for(ut=0;ut<64;++ut)It=Lt[ut]*Et[ut],y[ut]=It>0?It+.5|0:It-.5|0;return y}(se,oe),nt=0;nt<64;++nt)T[j[nt]]=Je[nt];var Ve=T[0]-_e;_e=T[0],Ve==0?ne(Ue[0]):(ne(Ue[_[be=32767+Ve]]),ne(m[be]));for(var Pe=63;Pe>0&&T[Pe]==0;)Pe--;if(Pe==0)return ne(Re),_e;for(var Ge,Ne=1;Ne<=Pe;){for(var je=Ne;T[Ne]==0&&Ne<=Pe;)++Ne;var Ye=Ne-je;if(Ye>=16){Ge=Ye>>4;for(var vt=1;vt<=Ge;++vt)ne(Qe);Ye&=15}be=32767+T[Ne],ne(Le[(Ye<<4)+_[be]]),ne(m[be]),Ne++}return Pe!=63&&ne(Re),_e}function Ee(se){se=Math.min(Math.max(se,1),100),s!=se&&(function(oe){for(var _e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Ue=0;Ue<64;Ue++){var Le=l((_e[Ue]*oe+50)/100);Le=Math.min(Math.max(Le,1),255),c[j[Ue]]=Le}for(var be=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Re=0;Re<64;Re++){var Qe=l((be[Re]*oe+50)/100);Qe=Math.min(Math.max(Qe,1),255),a[j[Re]]=Qe}for(var Je=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],nt=0,Ve=0;Ve<8;Ve++)for(var Pe=0;Pe<8;Pe++)f[nt]=1/(c[j[nt]]*Je[Ve]*Je[Pe]*8),A[nt]=1/(a[j[nt]]*Je[Ve]*Je[Pe]*8),nt++}(se<50?Math.floor(5e3/se):Math.floor(200-2*se)),s=se)}this.encode=function(se,oe){oe&&Ee(oe),E=new Array,P=0,I=7,ce(65496),ce(65504),ce(16),he(74),he(70),he(73),he(70),he(0),he(1),he(1),he(0),ce(1),ce(1),he(0),he(0),function(){ce(65499),ce(132),he(0);for(var _t=0;_t<64;_t++)he(c[_t]);he(1);for(var qt=0;qt<64;qt++)he(a[qt])}(),function(_t,qt){ce(65472),ce(17),he(8),ce(qt),ce(_t),he(3),he(1),he(17),he(0),he(2),he(17),he(1),he(3),he(17),he(1)}(se.width,se.height),function(){ce(65476),ce(418),he(0);for(var _t=0;_t<16;_t++)he(H[_t+1]);for(var qt=0;qt<=11;qt++)he(K[qt]);he(16);for(var tn=0;tn<16;tn++)he(ie[tn+1]);for(var Nt=0;Nt<=161;Nt++)he(q[Nt]);he(1);for(var wt=0;wt<16;wt++)he(W[wt+1]);for(var De=0;De<=11;De++)he(ee[De]);he(17);for(var We=0;We<16;We++)he(ue[We+1]);for(var ut=0;ut<=161;ut++)he(J[ut])}(),ce(65498),ce(12),he(3),he(1),he(0),he(2),he(17),he(3),he(17),he(0),he(63),he(0);var _e=0,Ue=0,Le=0;P=0,I=7,this.encode.displayName="_encode_";for(var be,Re,Qe,Je,nt,Ve,Pe,Ge,Ne,je=se.data,Ye=se.width,vt=se.height,Lt=4*Ye,Et=0;Et<vt;){for(be=0;be<Lt;){for(nt=Lt*Et+be,Pe=-1,Ge=0,Ne=0;Ne<64;Ne++)Ve=nt+(Ge=Ne>>3)*Lt+(Pe=4*(7&Ne)),Et+Ge>=vt&&(Ve-=Lt*(Et+1+Ge-vt)),be+Pe>=Lt&&(Ve-=be+Pe-Lt+4),Re=je[Ve++],Qe=je[Ve++],Je=je[Ve++],F[Ne]=(Q[Re]+Q[Qe+256>>0]+Q[Je+512>>0]>>16)-128,R[Ne]=(Q[Re+768>>0]+Q[Qe+1024>>0]+Q[Je+1280>>0]>>16)-128,N[Ne]=(Q[Re+1280>>0]+Q[Qe+1536>>0]+Q[Je+1792>>0]>>16)-128;_e=ye(F,f,_e,e,r),Ue=ye(R,A,Ue,n,i),Le=ye(N,A,Le,n,i),be+=32}Et+=8}if(I>=0){var Vt=[];Vt[1]=I+1,Vt[0]=(1<<I+1)-1,ne(Vt)}return ce(65497),new Uint8Array(E)},t=t||50,function(){for(var se=String.fromCharCode,oe=0;oe<256;oe++)z[oe]=se(oe)}(),e=te(H,K),n=te(W,ee),r=te(ie,q),i=te(ue,J),function(){for(var se=1,oe=2,_e=1;_e<=15;_e++){for(var Ue=se;Ue<oe;Ue++)_[32767+Ue]=_e,m[32767+Ue]=[],m[32767+Ue][1]=_e,m[32767+Ue][0]=Ue;for(var Le=-(oe-1);Le<=-se;Le++)_[32767+Le]=_e,m[32767+Le]=[],m[32767+Le][1]=_e,m[32767+Le][0]=oe-1+Le;se<<=1,oe<<=1}}(),function(){for(var se=0;se<256;se++)Q[se]=19595*se,Q[se+256>>0]=38470*se,Q[se+512>>0]=7471*se+32768,Q[se+768>>0]=-11059*se,Q[se+1024>>0]=-21709*se,Q[se+1280>>0]=32768*se+8421375,Q[se+1536>>0]=-27439*se,Q[se+1792>>0]=-5329*se}(),Ee(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ep(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function vY(t){function e(H){if(!H)throw Error("assert :P")}function n(H,K,ie){for(var q=0;4>q;q++)if(H[K+q]!=ie.charCodeAt(q))return!0;return!1}function r(H,K,ie,q,W){for(var ee=0;ee<W;ee++)H[K+ee]=ie[q+ee]}function i(H,K,ie,q){for(var W=0;W<q;W++)H[K+W]=ie}function s(H){return new Int32Array(H)}function l(H,K){for(var ie=[],q=0;q<H;q++)ie.push(new K);return ie}function c(H,K){var ie=[];return function q(W,ee,ue){for(var J=ue[ee],te=0;te<J&&(W.push(ue.length>ee+1?[]:new K),!(ue.length<ee+1));te++)q(W[te],ee+1,ue)}(ie,0,H),ie}var a=function(){var H=this;function K(V,re){for(var we=1<<re-1>>>0;V&we;)we>>>=1;return we?(V&we-1)+we:V}function ie(V,re,we,ke,ze){e(!(ke%we));do V[re+(ke-=we)]=ze;while(0<ke)}function q(V,re,we,ke,ze){if(e(2328>=ze),512>=ze)var ct=s(512);else if((ct=s(ze))==null)return 0;return function(dt,gt,Ct,ft,nn,Bn){var Mn,An,hr=gt,Qn=1<<Ct,ln=s(16),dn=s(16);for(e(nn!=0),e(ft!=null),e(dt!=null),e(0<Ct),An=0;An<nn;++An){if(15<ft[An])return 0;++ln[ft[An]]}if(ln[0]==nn)return 0;for(dn[1]=0,Mn=1;15>Mn;++Mn){if(ln[Mn]>1<<Mn)return 0;dn[Mn+1]=dn[Mn]+ln[Mn]}for(An=0;An<nn;++An)Mn=ft[An],0<ft[An]&&(Bn[dn[Mn]++]=An);if(dn[15]==1)return(ft=new W).g=0,ft.value=Bn[0],ie(dt,hr,1,Qn,ft),Qn;var sr,fr=-1,ur=Qn-1,Zr=0,Er=1,yi=1,Gr=1<<Ct;for(An=0,Mn=1,nn=2;Mn<=Ct;++Mn,nn<<=1){if(Er+=yi<<=1,0>(yi-=ln[Mn]))return 0;for(;0<ln[Mn];--ln[Mn])(ft=new W).g=Mn,ft.value=Bn[An++],ie(dt,hr+Zr,nn,Gr,ft),Zr=K(Zr,Mn)}for(Mn=Ct+1,nn=2;15>=Mn;++Mn,nn<<=1){if(Er+=yi<<=1,0>(yi-=ln[Mn]))return 0;for(;0<ln[Mn];--ln[Mn]){if(ft=new W,(Zr&ur)!=fr){for(hr+=Gr,sr=1<<(fr=Mn)-Ct;15>fr&&!(0>=(sr-=ln[fr]));)++fr,sr<<=1;Qn+=Gr=1<<(sr=fr-Ct),dt[gt+(fr=Zr&ur)].g=sr+Ct,dt[gt+fr].value=hr-gt-fr}ft.g=Mn-Ct,ft.value=Bn[An++],ie(dt,hr+(Zr>>Ct),nn,Gr,ft),Zr=K(Zr,Mn)}}return Er!=2*dn[15]-1?0:Qn}(V,re,we,ke,ze,ct)}function W(){this.value=this.g=0}function ee(){this.value=this.g=0}function ue(){this.G=l(5,W),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(lu,ee)}function J(V,re,we,ke){e(V!=null),e(re!=null),e(2147483648>ke),V.Ca=254,V.I=0,V.b=-8,V.Ka=0,V.oa=re,V.pa=we,V.Jd=re,V.Yc=we+ke,V.Zc=4<=ke?we+ke-4+1:we,be(V)}function te(V,re){for(var we=0;0<re--;)we|=Qe(V,128)<<re;return we}function ne(V,re){var we=te(V,re);return Re(V)?-we:we}function he(V,re,we,ke){var ze,ct=0;for(e(V!=null),e(re!=null),e(4294967288>ke),V.Sb=ke,V.Ra=0,V.u=0,V.h=0,4<ke&&(ke=4),ze=0;ze<ke;++ze)ct+=re[we+ze]<<8*ze;V.Ra=ct,V.bb=ke,V.oa=re,V.pa=we}function ce(V){for(;8<=V.u&&V.bb<V.Sb;)V.Ra>>>=8,V.Ra+=V.oa[V.pa+V.bb]<<mA-8>>>0,++V.bb,V.u-=8;_e(V)&&(V.h=1,V.u=0)}function ye(V,re){if(e(0<=re),!V.h&&re<=AA){var we=oe(V)&Gd[re];return V.u+=re,ce(V),we}return V.h=1,V.u=0}function Ee(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function se(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function oe(V){return V.Ra>>>(V.u&mA-1)>>>0}function _e(V){return e(V.bb<=V.Sb),V.h||V.bb==V.Sb&&V.u>mA}function Ue(V,re){V.u=re,V.h=_e(V)}function Le(V){V.u>=Dm&&(e(V.u>=Dm),ce(V))}function be(V){e(V!=null&&V.oa!=null),V.pa<V.Zc?(V.I=(V.oa[V.pa++]|V.I<<8)>>>0,V.b+=8):(e(V!=null&&V.oa!=null),V.pa<V.Yc?(V.b+=8,V.I=V.oa[V.pa++]|V.I<<8):V.Ka?V.b=0:(V.I<<=8,V.b+=8,V.Ka=1))}function Re(V){return te(V,1)}function Qe(V,re){var we=V.Ca;0>V.b&&be(V);var ke=V.b,ze=we*re>>>8,ct=(V.I>>>ke>ze)+0;for(ct?(we-=ze,V.I-=ze+1<<ke>>>0):we=ze+1,ke=we,ze=0;256<=ke;)ze+=8,ke>>=8;return ke=7^ze+uu[ke],V.b-=ke,V.Ca=(we<<ke)-1,ct}function Je(V,re,we){V[re+0]=we>>24&255,V[re+1]=we>>16&255,V[re+2]=we>>8&255,V[re+3]=we>>0&255}function nt(V,re){return V[re+0]<<0|V[re+1]<<8}function Ve(V,re){return nt(V,re)|V[re+2]<<16}function Pe(V,re){return nt(V,re)|nt(V,re+2)<<16}function Ge(V,re){var we=1<<re;return e(V!=null),e(0<re),V.X=s(we),V.X==null?0:(V.Mb=32-re,V.Xa=re,1)}function Ne(V,re){e(V!=null),e(re!=null),e(V.Xa==re.Xa),r(re.X,0,V.X,0,1<<re.Xa)}function je(){this.X=[],this.Xa=this.Mb=0}function Ye(V,re,we,ke){e(we!=null),e(ke!=null);var ze=we[0],ct=ke[0];return ze==0&&(ze=(V*ct+re/2)/re),ct==0&&(ct=(re*ze+V/2)/V),0>=ze||0>=ct?0:(we[0]=ze,ke[0]=ct,1)}function vt(V,re){return V+(1<<re)-1>>>re}function Lt(V,re){return((4278255360&V)+(4278255360&re)>>>0&4278255360)+((16711935&V)+(16711935&re)>>>0&16711935)>>>0}function Et(V,re){H[re]=function(we,ke,ze,ct,dt,gt,Ct){var ft;for(ft=0;ft<dt;++ft){var nn=H[V](gt[Ct+ft-1],ze,ct+ft);gt[Ct+ft]=Lt(we[ke+ft],nn)}}}function Vt(){this.ud=this.hd=this.jd=0}function _t(V,re){return((4278124286&(V^re))>>>1)+(V&re)>>>0}function qt(V){return 0<=V&&256>V?V:0>V?0:255<V?255:void 0}function tn(V,re){return qt(V+(V-re+.5>>1))}function Nt(V,re,we){return Math.abs(re-we)-Math.abs(V-we)}function wt(V,re,we,ke,ze,ct,dt){for(ke=ct[dt-1],we=0;we<ze;++we)ct[dt+we]=ke=Lt(V[re+we],ke)}function De(V,re,we,ke,ze){var ct;for(ct=0;ct<we;++ct){var dt=V[re+ct],gt=dt>>8&255,Ct=16711935&(Ct=(Ct=16711935&dt)+((gt<<16)+gt));ke[ze+ct]=(4278255360&dt)+Ct>>>0}}function We(V,re){re.jd=V>>0&255,re.hd=V>>8&255,re.ud=V>>16&255}function ut(V,re,we,ke,ze,ct){var dt;for(dt=0;dt<ke;++dt){var gt=re[we+dt],Ct=gt>>>8,ft=gt,nn=255&(nn=(nn=gt>>>16)+((V.jd<<24>>24)*(Ct<<24>>24)>>>5));ft=255&(ft=(ft=ft+((V.hd<<24>>24)*(Ct<<24>>24)>>>5))+((V.ud<<24>>24)*(nn<<24>>24)>>>5)),ze[ct+dt]=(4278255360&gt)+(nn<<16)+ft}}function It(V,re,we,ke,ze){H[re]=function(ct,dt,gt,Ct,ft,nn,Bn,Mn,An){for(Ct=Bn;Ct<Mn;++Ct)for(Bn=0;Bn<An;++Bn)ft[nn++]=ze(gt[ke(ct[dt++])])},H[V]=function(ct,dt,gt,Ct,ft,nn,Bn){var Mn=8>>ct.b,An=ct.Ea,hr=ct.K[0],Qn=ct.w;if(8>Mn)for(ct=(1<<ct.b)-1,Qn=(1<<Mn)-1;dt<gt;++dt){var ln,dn=0;for(ln=0;ln<An;++ln)ln&ct||(dn=ke(Ct[ft++])),nn[Bn++]=ze(hr[dn&Qn]),dn>>=Mn}else H["VP8LMapColor"+we](Ct,ft,hr,Qn,nn,Bn,dt,gt,An)}}function Xe(V,re,we,ke,ze){for(we=re+we;re<we;){var ct=V[re++];ke[ze++]=ct>>16&255,ke[ze++]=ct>>8&255,ke[ze++]=ct>>0&255}}function Pt(V,re,we,ke,ze){for(we=re+we;re<we;){var ct=V[re++];ke[ze++]=ct>>16&255,ke[ze++]=ct>>8&255,ke[ze++]=ct>>0&255,ke[ze++]=ct>>24&255}}function Bt(V,re,we,ke,ze){for(we=re+we;re<we;){var ct=(dt=V[re++])>>16&240|dt>>12&15,dt=dt>>0&240|dt>>28&15;ke[ze++]=ct,ke[ze++]=dt}}function it(V,re,we,ke,ze){for(we=re+we;re<we;){var ct=(dt=V[re++])>>16&248|dt>>13&7,dt=dt>>5&224|dt>>3&31;ke[ze++]=ct,ke[ze++]=dt}}function Mt(V,re,we,ke,ze){for(we=re+we;re<we;){var ct=V[re++];ke[ze++]=ct>>0&255,ke[ze++]=ct>>8&255,ke[ze++]=ct>>16&255}}function at(V,re,we,ke,ze,ct){if(ct==0)for(we=re+we;re<we;)Je(ke,((ct=V[re++])[0]>>24|ct[1]>>8&65280|ct[2]<<8&16711680|ct[3]<<24)>>>0),ze+=32;else r(ke,ze,V,re,we)}function et(V,re){H[re][0]=H[V+"0"],H[re][1]=H[V+"1"],H[re][2]=H[V+"2"],H[re][3]=H[V+"3"],H[re][4]=H[V+"4"],H[re][5]=H[V+"5"],H[re][6]=H[V+"6"],H[re][7]=H[V+"7"],H[re][8]=H[V+"8"],H[re][9]=H[V+"9"],H[re][10]=H[V+"10"],H[re][11]=H[V+"11"],H[re][12]=H[V+"12"],H[re][13]=H[V+"13"],H[re][14]=H[V+"0"],H[re][15]=H[V+"0"]}function St(V){return V==Zi||V==Qm||V==b0||V==yA}function sn(){this.eb=[],this.size=this.A=this.fb=0}function bn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function gr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new sn,this.f.kb=new bn,this.sd=null}function tr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Nn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function lr(V){return alert("todo:WebPSamplerProcessPlane"),V.T}function Qr(V,re){var we=V.T,ke=re.ba.f.RGBA,ze=ke.eb,ct=ke.fb+V.ka*ke.A,dt=tl[re.ba.S],gt=V.y,Ct=V.O,ft=V.f,nn=V.N,Bn=V.ea,Mn=V.W,An=re.cc,hr=re.dc,Qn=re.Mc,ln=re.Nc,dn=V.ka,sr=V.ka+V.T,fr=V.U,ur=fr+1>>1;for(dn==0?dt(gt,Ct,null,null,ft,nn,Bn,Mn,ft,nn,Bn,Mn,ze,ct,null,null,fr):(dt(re.ec,re.fc,gt,Ct,An,hr,Qn,ln,ft,nn,Bn,Mn,ze,ct-ke.A,ze,ct,fr),++we);dn+2<sr;dn+=2)An=ft,hr=nn,Qn=Bn,ln=Mn,nn+=V.Rc,Mn+=V.Rc,ct+=2*ke.A,dt(gt,(Ct+=2*V.fa)-V.fa,gt,Ct,An,hr,Qn,ln,ft,nn,Bn,Mn,ze,ct-ke.A,ze,ct,fr);return Ct+=V.fa,V.j+sr<V.o?(r(re.ec,re.fc,gt,Ct,fr),r(re.cc,re.dc,ft,nn,ur),r(re.Mc,re.Nc,Bn,Mn,ur),we--):1&sr||dt(gt,Ct,null,null,ft,nn,Bn,Mn,ft,nn,Bn,Mn,ze,ct+ke.A,null,null,fr),we}function xi(V,re,we){var ke=V.F,ze=[V.J];if(ke!=null){var ct=V.U,dt=re.ba.S,gt=dt==tp||dt==b0;re=re.ba.f.RGBA;var Ct=[0],ft=V.ka;Ct[0]=V.T,V.Kb&&(ft==0?--Ct[0]:(--ft,ze[0]-=V.width),V.j+V.ka+V.T==V.o&&(Ct[0]=V.o-V.j-ft));var nn=re.eb;ft=re.fb+ft*re.A,V=Jf(ke,ze[0],V.width,ct,Ct,nn,ft+(gt?0:3),re.A),e(we==Ct),V&&St(dt)&&Wd(nn,ft,gt,ct,Ct,re.A)}return 0}function ai(V){var re=V.ma,we=re.ba.S,ke=11>we,ze=we==Wl||we==_A||we==tp||we==Hm||we==12||St(we);if(re.memory=null,re.Ib=null,re.Jb=null,re.Nd=null,!fh(re.Oa,V,ze?11:12))return 0;if(ze&&St(we)&&vr(),V.da)alert("todo:use_scaling");else{if(ke){if(re.Ib=lr,V.Kb){if(we=V.U+1>>1,re.memory=s(V.U+2*we),re.memory==null)return 0;re.ec=re.memory,re.fc=0,re.cc=re.ec,re.dc=re.fc+V.U,re.Mc=re.cc,re.Nc=re.dc+we,re.Ib=Qr,vr()}}else alert("todo:EmitYUV");ze&&(re.Jb=xi,ke&&wn())}if(ke&&!Dy){for(V=0;256>V;++V)Ny[V]=89858*(V-128)+rp>>xA,qm[V]=-22014*(V-128)+rp,E0[V]=-45773*(V-128),Uy[V]=113618*(V-128)+rp>>xA;for(V=CA;V<Wm;++V)re=76283*(V-16)+rp>>xA,S0[V-CA]=su(re,255),L1[V-CA]=su(re+8>>4,15);Dy=1}return 1}function zi(V){var re=V.ma,we=V.U,ke=V.T;return e(!(1&V.ka)),0>=we||0>=ke?0:(we=re.Ib(V,re),re.Jb!=null&&re.Jb(V,re,we),re.Dc+=we,1)}function ma(V){V.ma.memory=null}function Rr(V,re,we,ke){return ye(V,8)!=47?0:(re[0]=ye(V,14)+1,we[0]=ye(V,14)+1,ke[0]=ye(V,1),ye(V,3)!=0?0:!V.h)}function Ki(V,re){if(4>V)return V+1;var we=V-2>>1;return(2+(1&V)<<we)+ye(re,we)+1}function $i(V,re){return 120<re?re-120:1<=(we=((we=jm[re-1])>>4)*V+(8-(15&we)))?we:1;var we}function Jt(V,re,we){var ke=oe(we),ze=V[re+=255&ke].g-8;return 0<ze&&(Ue(we,we.u+8),ke=oe(we),re+=V[re].value,re+=ke&(1<<ze)-1),Ue(we,we.u+V[re].g),V[re].value}function hn(V,re,we){return we.g+=V.g,we.value+=V.value<<re>>>0,e(8>=we.g),V.g}function En(V,re,we){var ke=V.xc;return e((re=ke==0?0:V.vc[V.md*(we>>ke)+(re>>ke)])<V.Wb),V.Ya[re]}function Hn(V,re,we,ke){var ze=V.ab,ct=V.c*re,dt=V.C;re=dt+re;var gt=we,Ct=ke;for(ke=V.Ta,we=V.Ua;0<ze--;){var ft=V.gc[ze],nn=dt,Bn=re,Mn=gt,An=Ct,hr=(Ct=ke,gt=we,ft.Ea);switch(e(nn<Bn),e(Bn<=ft.nc),ft.hc){case 2:Xf(Mn,An,(Bn-nn)*hr,Ct,gt);break;case 0:var Qn=nn,ln=Bn,dn=Ct,sr=gt,fr=(Gr=ft).Ea;Qn==0&&(Yf(Mn,An,null,null,1,dn,sr),wt(Mn,An+1,0,0,fr-1,dn,sr+1),An+=fr,sr+=fr,++Qn);for(var ur=1<<Gr.b,Zr=ur-1,Er=vt(fr,Gr.b),yi=Gr.K,Gr=Gr.w+(Qn>>Gr.b)*Er;Qn<ln;){var Wa=yi,as=Gr,Ea=1;for(Nm(Mn,An,dn,sr-fr,1,dn,sr);Ea<fr;){var Pa=(Ea&~Zr)+ur;Pa>fr&&(Pa=fr),(0,ph[Wa[as++]>>8&15])(Mn,An+ +Ea,dn,sr+Ea-fr,Pa-Ea,dn,sr+Ea),Ea=Pa}An+=fr,sr+=fr,++Qn&Zr||(Gr+=Er)}Bn!=ft.nc&&r(Ct,gt-hr,Ct,gt+(Bn-nn-1)*hr,hr);break;case 1:for(hr=Mn,ln=An,fr=(Mn=ft.Ea)-(sr=Mn&~(dn=(An=1<<ft.b)-1)),Qn=vt(Mn,ft.b),ur=ft.K,ft=ft.w+(nn>>ft.b)*Qn;nn<Bn;){for(Zr=ur,Er=ft,yi=new Vt,Gr=ln+sr,Wa=ln+Mn;ln<Gr;)We(Zr[Er++],yi),Jo(yi,hr,ln,An,Ct,gt),ln+=An,gt+=An;ln<Wa&&(We(Zr[Er++],yi),Jo(yi,hr,ln,fr,Ct,gt),ln+=fr,gt+=fr),++nn&dn||(ft+=Qn)}break;case 3:if(Mn==Ct&&An==gt&&0<ft.b){for(ln=Ct,Mn=hr=gt+(Bn-nn)*hr-(sr=(Bn-nn)*vt(ft.Ea,ft.b)),An=Ct,dn=gt,Qn=[],sr=(fr=sr)-1;0<=sr;--sr)Qn[sr]=An[dn+sr];for(sr=fr-1;0<=sr;--sr)ln[Mn+sr]=Qn[sr];ju(ft,nn,Bn,Ct,hr,Ct,gt)}else ju(ft,nn,Bn,Mn,An,Ct,gt)}gt=ke,Ct=we}Ct!=we&&r(ke,we,gt,Ct,ct)}function Ht(V,re){var we=V.V,ke=V.Ba+V.c*V.C,ze=re-V.C;if(e(re<=V.l.o),e(16>=ze),0<ze){var ct=V.l,dt=V.Ta,gt=V.Ua,Ct=ct.width;if(Hn(V,ze,we,ke),ze=gt=[gt],e((we=V.C)<(ke=re)),e(ct.v<ct.va),ke>ct.o&&(ke=ct.o),we<ct.j){var ft=ct.j-we;we=ct.j,ze[0]+=ft*Ct}if(we>=ke?we=0:(ze[0]+=4*ct.v,ct.ka=we-ct.j,ct.U=ct.va-ct.v,ct.T=ke-we,we=1),we){if(gt=gt[0],11>(we=V.ca).S){var nn=we.f.RGBA,Bn=(ke=we.S,ze=ct.U,ct=ct.T,ft=nn.eb,nn.A),Mn=ct;for(nn=nn.fb+V.Ma*nn.A;0<Mn--;){var An=dt,hr=gt,Qn=ze,ln=ft,dn=nn;switch(ke){case ld:Mu(An,hr,Qn,ln,dn);break;case Wl:hc(An,hr,Qn,ln,dn);break;case Zi:hc(An,hr,Qn,ln,dn),Wd(ln,dn,0,Qn,1,0);break;case ep:Hc(An,hr,Qn,ln,dn);break;case _A:at(An,hr,Qn,ln,dn,1);break;case Qm:at(An,hr,Qn,ln,dn,1),Wd(ln,dn,0,Qn,1,0);break;case tp:at(An,hr,Qn,ln,dn,0);break;case b0:at(An,hr,Qn,ln,dn,0),Wd(ln,dn,1,Qn,1,0);break;case Hm:dc(An,hr,Qn,ln,dn);break;case yA:dc(An,hr,Qn,ln,dn),Gl(ln,dn,Qn,1,0);break;case ud:Gu(An,hr,Qn,ln,dn);break;default:e(0)}gt+=Ct,nn+=Bn}V.Ma+=ct}else alert("todo:EmitRescaledRowsYUVA");e(V.Ma<=we.height)}}V.C=re,e(V.C<=V.i)}function an(V){var re;if(0<V.ua)return 0;for(re=0;re<V.Wb;++re){var we=V.Ya[re].G,ke=V.Ya[re].H;if(0<we[1][ke[1]+0].g||0<we[2][ke[2]+0].g||0<we[3][ke[3]+0].g)return 0}return 1}function In(V,re,we,ke,ze,ct){if(V.Z!=0){var dt=V.qd,gt=V.rd;for(e(vh[V.Z]!=null);re<we;++re)vh[V.Z](dt,gt,ke,ze,ke,ze,ct),dt=ke,gt=ze,ze+=ct;V.qd=dt,V.rd=gt}}function Pn(V,re){var we=V.l.ma,ke=we.Z==0||we.Z==1?V.l.j:V.C;if(ke=V.C<ke?ke:V.C,e(re<=V.l.o),re>ke){var ze=V.l.width,ct=we.ca,dt=we.tb+ze*ke,gt=V.V,Ct=V.Ba+V.c*ke,ft=V.gc;e(V.ab==1),e(ft[0].hc==3),Um(ft[0],ke,re,gt,Ct,ct,dt),In(we,ke,re,ct,dt,ze)}V.C=V.Ma=re}function er(V,re,we,ke,ze,ct,dt){var gt=V.$/ke,Ct=V.$%ke,ft=V.m,nn=V.s,Bn=we+V.$,Mn=Bn;ze=we+ke*ze;var An=we+ke*ct,hr=280+nn.ua,Qn=V.Pb?gt:16777216,ln=0<nn.ua?nn.Wa:null,dn=nn.wc,sr=Bn<An?En(nn,Ct,gt):null;e(V.C<ct),e(An<=ze);var fr=!1;e:for(;;){for(;fr||Bn<An;){var ur=0;if(gt>=Qn){var Zr=Bn-we;e((Qn=V).Pb),Qn.wd=Qn.m,Qn.xd=Zr,0<Qn.s.ua&&Ne(Qn.s.Wa,Qn.s.vb),Qn=gt+E1}if(Ct&dn||(sr=En(nn,Ct,gt)),e(sr!=null),sr.Qb&&(re[Bn]=sr.qb,fr=!0),!fr)if(Le(ft),sr.jc){ur=ft,Zr=re;var Er=Bn,yi=sr.pd[oe(ur)&lu-1];e(sr.jc),256>yi.g?(Ue(ur,ur.u+yi.g),Zr[Er]=yi.value,ur=0):(Ue(ur,ur.u+yi.g-256),e(256<=yi.value),ur=yi.value),ur==0&&(fr=!0)}else ur=Jt(sr.G[0],sr.H[0],ft);if(ft.h)break;if(fr||256>ur){if(!fr)if(sr.nd)re[Bn]=(sr.qb|ur<<8)>>>0;else{if(Le(ft),fr=Jt(sr.G[1],sr.H[1],ft),Le(ft),Zr=Jt(sr.G[2],sr.H[2],ft),Er=Jt(sr.G[3],sr.H[3],ft),ft.h)break;re[Bn]=(Er<<24|fr<<16|ur<<8|Zr)>>>0}if(fr=!1,++Bn,++Ct>=ke&&(Ct=0,++gt,dt!=null&&gt<=ct&&!(gt%16)&&dt(V,gt),ln!=null))for(;Mn<Bn;)ur=re[Mn++],ln.X[(506832829*ur&4294967295)>>>ln.Mb]=ur}else if(280>ur){if(ur=Ki(ur-256,ft),Zr=Jt(sr.G[4],sr.H[4],ft),Le(ft),Zr=$i(ke,Zr=Ki(Zr,ft)),ft.h)break;if(Bn-we<Zr||ze-Bn<ur)break e;for(Er=0;Er<ur;++Er)re[Bn+Er]=re[Bn+Er-Zr];for(Bn+=ur,Ct+=ur;Ct>=ke;)Ct-=ke,++gt,dt!=null&&gt<=ct&&!(gt%16)&&dt(V,gt);if(e(Bn<=ze),Ct&dn&&(sr=En(nn,Ct,gt)),ln!=null)for(;Mn<Bn;)ur=re[Mn++],ln.X[(506832829*ur&4294967295)>>>ln.Mb]=ur}else{if(!(ur<hr))break e;for(fr=ur-280,e(ln!=null);Mn<Bn;)ur=re[Mn++],ln.X[(506832829*ur&4294967295)>>>ln.Mb]=ur;ur=Bn,e(!(fr>>>(Zr=ln).Xa)),re[ur]=Zr.X[fr],fr=!0}fr||e(ft.h==_e(ft))}if(V.Pb&&ft.h&&Bn<ze)e(V.m.h),V.a=5,V.m=V.wd,V.$=V.xd,0<V.s.ua&&Ne(V.s.vb,V.s.Wa);else{if(ft.h)break e;dt!=null&&dt(V,gt>ct?ct:gt),V.a=0,V.$=Bn-we}return 1}return V.a=3,0}function Gn(V){e(V!=null),V.vc=null,V.yc=null,V.Ya=null;var re=V.Wa;re!=null&&(re.X=null),V.vb=null,e(V!=null)}function Mr(){var V=new hh;return V==null?null:(V.a=0,V.xb=x0,et("Predictor","VP8LPredictors"),et("Predictor","VP8LPredictors_C"),et("PredictorAdd","VP8LPredictorsAdd"),et("PredictorAdd","VP8LPredictorsAdd_C"),Xf=De,Jo=ut,Mu=Xe,hc=Pt,dc=Bt,Gu=it,Hc=Mt,H.VP8LMapColor32b=gA,H.VP8LMapColor8b=vA,V)}function ti(V,re,we,ke,ze){var ct=1,dt=[V],gt=[re],Ct=ke.m,ft=ke.s,nn=null,Bn=0;e:for(;;){if(we)for(;ct&&ye(Ct,1);){var Mn=dt,An=gt,hr=ke,Qn=1,ln=hr.m,dn=hr.gc[hr.ab],sr=ye(ln,2);if(hr.Oc&1<<sr)ct=0;else{switch(hr.Oc|=1<<sr,dn.hc=sr,dn.Ea=Mn[0],dn.nc=An[0],dn.K=[null],++hr.ab,e(4>=hr.ab),sr){case 0:case 1:dn.b=ye(ln,3)+2,Qn=ti(vt(dn.Ea,dn.b),vt(dn.nc,dn.b),0,hr,dn.K),dn.K=dn.K[0];break;case 3:var fr,ur=ye(ln,8)+1,Zr=16<ur?0:4<ur?1:2<ur?2:3;if(Mn[0]=vt(dn.Ea,Zr),dn.b=Zr,fr=Qn=ti(ur,1,0,hr,dn.K)){var Er,yi=ur,Gr=dn,Wa=1<<(8>>Gr.b),as=s(Wa);if(as==null)fr=0;else{var Ea=Gr.K[0],Pa=Gr.w;for(as[0]=Gr.K[0][0],Er=1;Er<1*yi;++Er)as[Er]=Lt(Ea[Pa+Er],as[Er-1]);for(;Er<4*Wa;++Er)as[Er]=0;Gr.K[0]=null,Gr.K[0]=as,fr=1}}Qn=fr;break;case 2:break;default:e(0)}ct=Qn}}if(dt=dt[0],gt=gt[0],ct&&ye(Ct,1)&&!(ct=1<=(Bn=ye(Ct,4))&&11>=Bn)){ke.a=3;break e}var Ma;if(Ma=ct)t:{var Pi,aa,fo,po=ke,Ao=dt,Do=gt,ls=Bn,nl=we,pl=po.m,jn=po.s,Cr=[null],Bo=1,Ia=0,Lu=bA[ls];n:for(;;){if(nl&&ye(pl,1)){var mo=ye(pl,3)+2,rn=vt(Ao,mo),hd=vt(Do,mo),rl=rn*hd;if(!ti(rn,hd,0,po,Cr))break n;for(Cr=Cr[0],jn.xc=mo,Pi=0;Pi<rl;++Pi){var dd=Cr[Pi]>>8&65535;Cr[Pi]=dd,dd>=Bo&&(Bo=dd+1)}}if(pl.h)break n;for(aa=0;5>aa;++aa){var Ys=C1[aa];!aa&&0<ls&&(Ys+=1<<ls),Ia<Ys&&(Ia=Ys)}var Zd=l(Bo*Lu,W),$y=Bo,Vy=l($y,ue);if(Vy==null)var Zm=null;else e(65536>=$y),Zm=Vy;var fd=s(Ia);if(Zm==null||fd==null||Zd==null){po.a=1;break n}var Jd=Zd;for(Pi=fo=0;Pi<Bo;++Pi){var Wu=Zm[Pi],ap=Wu.G,_h=Wu.H,Jm=0,TA=1,BA=0;for(aa=0;5>aa;++aa){Ys=C1[aa],ap[aa]=Jd,_h[aa]=fo,!aa&&0<ls&&(Ys+=1<<ls);i:{var Al,P1=Ys,sp=po,Ha=fd,Sa=Jd,eg=fo,qu=0,go=sp.m,pd=ye(go,1);if(i(Ha,0,0,P1),pd){var F1=ye(go,1)+1,k1=ye(go,1),Ad=ye(go,k1==0?1:8);Ha[Ad]=1,F1==2&&(Ha[Ad=ye(go,8)]=1);var jc=1}else{var op=s(19),tg=ye(go,4)+4;if(19<tg){sp.a=3;var ef=0;break i}for(Al=0;Al<tg;++Al)op[Py[Al]]=ye(go,3);var ng=void 0,lp=void 0,Gc=sp,R1=op,tf=P1,rg=Ha,ig=0,ws=Gc.m,up=8,ag=l(128,W);r:for(;q(ag,0,7,R1,19);){if(ye(ws,1)){var sg=2+2*ye(ws,3);if((ng=2+ye(ws,sg))>tf)break r}else ng=tf;for(lp=0;lp<tf&&ng--;){Le(ws);var md=ag[0+(127&oe(ws))];Ue(ws,ws.u+md.g);var nf=md.value;if(16>nf)rg[lp++]=nf,nf!=0&&(up=nf);else{var og=nf==16,T0=nf-16,cp=x1[T0],MA=ye(ws,Ly[T0])+cp;if(lp+MA>tf)break r;for(var O1=og?up:0;0<MA--;)rg[lp++]=O1}}ig=1;break r}ig||(Gc.a=3),jc=ig}(jc=jc&&!go.h)&&(qu=q(Sa,eg,8,Ha,P1)),jc&&qu!=0?ef=qu:(sp.a=3,ef=0)}if(ef==0)break n;if(TA&&w0[aa]==1&&(TA=Jd[fo].g==0),Jm+=Jd[fo].g,fo+=ef,3>=aa){var gd,lg=fd[0];for(gd=1;gd<Ys;++gd)fd[gd]>lg&&(lg=fd[gd]);BA+=lg}}if(Wu.nd=TA,Wu.Qb=0,TA&&(Wu.qb=(ap[3][_h[3]+0].value<<24|ap[1][_h[1]+0].value<<16|ap[2][_h[2]+0].value)>>>0,Jm==0&&256>ap[0][_h[0]+0].value&&(Wu.Qb=1,Wu.qb+=ap[0][_h[0]+0].value<<8)),Wu.jc=!Wu.Qb&&6>BA,Wu.jc){var ug,yh=Wu;for(ug=0;ug<lu;++ug){var vd=ug,_d=yh.pd[vd],cg=yh.G[0][yh.H[0]+vd];256<=cg.value?(_d.g=cg.g+256,_d.value=cg.value):(_d.g=0,_d.value=0,vd>>=hn(cg,8,_d),vd>>=hn(yh.G[1][yh.H[1]+vd],16,_d),vd>>=hn(yh.G[2][yh.H[2]+vd],0,_d),hn(yh.G[3][yh.H[3]+vd],24,_d))}}}jn.vc=Cr,jn.Wb=Bo,jn.Ya=Zm,jn.yc=Zd,Ma=1;break t}Ma=0}if(!(ct=Ma)){ke.a=3;break e}if(0<Bn){if(ft.ua=1<<Bn,!Ge(ft.Wa,Bn)){ke.a=1,ct=0;break e}}else ft.ua=0;var B0=ke,D1=dt,hg=gt,M0=B0.s,I0=M0.xc;if(B0.c=D1,B0.i=hg,M0.md=vt(D1,I0),M0.wc=I0==0?-1:(1<<I0)-1,we){ke.xb=Ry;break e}if((nn=s(dt*gt))==null){ke.a=1,ct=0;break e}ct=(ct=er(ke,nn,0,dt,gt,gt,null))&&!Ct.h;break e}return ct?(ze!=null?ze[0]=nn:(e(nn==null),e(we)),ke.$=0,we||Gn(ft)):Gn(ft),ct}function Tn(V,re){var we=V.c*V.i,ke=we+re+16*re;return e(V.c<=re),V.V=s(ke),V.V==null?(V.Ta=null,V.Ua=0,V.a=1,0):(V.Ta=V.V,V.Ua=V.Ba+we+re,1)}function Kt(V,re){var we=V.C,ke=re-we,ze=V.V,ct=V.Ba+V.c*we;for(e(re<=V.l.o);0<ke;){var dt=16<ke?16:ke,gt=V.l.ma,Ct=V.l.width,ft=Ct*dt,nn=gt.ca,Bn=gt.tb+Ct*we,Mn=V.Ta,An=V.Ua;Hn(V,dt,ze,ct),zm(Mn,An,nn,Bn,ft),In(gt,we,we+dt,nn,Bn,Ct),ke-=dt,ze+=dt*V.c,we+=dt}e(we==re),V.C=V.Ma=re}function Zn(){this.ub=this.yd=this.td=this.Rb=0}function jt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Xn(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Pr(){this.Yb=function(){var V=[];return function re(we,ke,ze){for(var ct=ze[ke],dt=0;dt<ct&&(we.push(ze.length>ke+1?[]:0),!(ze.length<ke+1));dt++)re(we[dt],ke+1,ze)}(V,0,[3,11]),V}()}function _r(){this.jb=s(3),this.Wc=c([4,8],Pr),this.Xc=c([4,17],Pr)}function ha(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function is(){this.ld=this.La=this.dd=this.tc=0}function Ca(){this.Na=this.la=0}function zc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function iu(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function jh(){this.uc=this.M=this.Nb=0,this.wa=Array(new is),this.Y=0,this.ya=Array(new iu),this.aa=0,this.l=new $d}function uA(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Gh(){this.cb=this.a=0,this.sc="",this.m=new Ee,this.Od=new Zn,this.Kc=new jt,this.ed=new ha,this.Qa=new Xn,this.Ic=this.$c=this.Aa=0,this.D=new jh,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,Ee),this.ia=0,this.pb=l(4,zc),this.Pa=new _r,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new uA),this.Hd=0,this.rb=Array(new Ca),this.sb=0,this.wa=Array(new is),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new iu),this.L=this.aa=0,this.gd=c([4,2],is),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function $d(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Vd(){var V=new Gh;return V!=null&&(V.a=0,V.sc="OK",V.cb=0,V.Xb=0,np||(np=zf)),V}function ho(V,re,we){return V.a==0&&(V.a=re,V.sc=we,V.cb=0),0}function Uf(V,re,we){return 3<=we&&V[re+0]==157&&V[re+1]==1&&V[re+2]==42}function cA(V,re){if(V==null)return 0;if(V.a=0,V.sc="OK",re==null)return ho(V,2,"null VP8Io passed to VP8GetHeaders()");var we=re.data,ke=re.w,ze=re.ha;if(4>ze)return ho(V,7,"Truncated header.");var ct=we[ke+0]|we[ke+1]<<8|we[ke+2]<<16,dt=V.Od;if(dt.Rb=!(1&ct),dt.td=ct>>1&7,dt.yd=ct>>4&1,dt.ub=ct>>5,3<dt.td)return ho(V,3,"Incorrect keyframe parameters.");if(!dt.yd)return ho(V,4,"Frame not displayable.");ke+=3,ze-=3;var gt=V.Kc;if(dt.Rb){if(7>ze)return ho(V,7,"cannot parse picture header");if(!Uf(we,ke,ze))return ho(V,3,"Bad code word");gt.c=16383&(we[ke+4]<<8|we[ke+3]),gt.Td=we[ke+4]>>6,gt.i=16383&(we[ke+6]<<8|we[ke+5]),gt.Ud=we[ke+6]>>6,ke+=7,ze-=7,V.za=gt.c+15>>4,V.Ub=gt.i+15>>4,re.width=gt.c,re.height=gt.i,re.Da=0,re.j=0,re.v=0,re.va=re.width,re.o=re.height,re.da=0,re.ib=re.width,re.hb=re.height,re.U=re.width,re.T=re.height,i((ct=V.Pa).jb,0,255,ct.jb.length),e((ct=V.Qa)!=null),ct.Cb=0,ct.Bb=0,ct.Fb=1,i(ct.Zb,0,0,ct.Zb.length),i(ct.Lb,0,0,ct.Lb)}if(dt.ub>ze)return ho(V,7,"bad partition length");J(ct=V.m,we,ke,dt.ub),ke+=dt.ub,ze-=dt.ub,dt.Rb&&(gt.Ld=Re(ct),gt.Kd=Re(ct)),gt=V.Qa;var Ct,ft=V.Pa;if(e(ct!=null),e(gt!=null),gt.Cb=Re(ct),gt.Cb){if(gt.Bb=Re(ct),Re(ct)){for(gt.Fb=Re(ct),Ct=0;4>Ct;++Ct)gt.Zb[Ct]=Re(ct)?ne(ct,7):0;for(Ct=0;4>Ct;++Ct)gt.Lb[Ct]=Re(ct)?ne(ct,6):0}if(gt.Bb)for(Ct=0;3>Ct;++Ct)ft.jb[Ct]=Re(ct)?te(ct,8):255}else gt.Bb=0;if(ct.Ka)return ho(V,3,"cannot parse segment header");if((gt=V.ed).zd=Re(ct),gt.Tb=te(ct,6),gt.wb=te(ct,3),gt.Pc=Re(ct),gt.Pc&&Re(ct)){for(ft=0;4>ft;++ft)Re(ct)&&(gt.vd[ft]=ne(ct,6));for(ft=0;4>ft;++ft)Re(ct)&&(gt.od[ft]=ne(ct,6))}if(V.L=gt.Tb==0?0:gt.zd?1:2,ct.Ka)return ho(V,3,"cannot parse filter header");var nn=ze;if(ze=Ct=ke,ke=Ct+nn,gt=nn,V.Xb=(1<<te(V.m,2))-1,nn<3*(ft=V.Xb))we=7;else{for(Ct+=3*ft,gt-=3*ft,nn=0;nn<ft;++nn){var Bn=we[ze+0]|we[ze+1]<<8|we[ze+2]<<16;Bn>gt&&(Bn=gt),J(V.Jc[+nn],we,Ct,Bn),Ct+=Bn,gt-=Bn,ze+=3}J(V.Jc[+ft],we,Ct,gt),we=Ct<ke?0:5}if(we!=0)return ho(V,we,"cannot parse partitions");for(we=te(Ct=V.m,7),ze=Re(Ct)?ne(Ct,4):0,ke=Re(Ct)?ne(Ct,4):0,gt=Re(Ct)?ne(Ct,4):0,ft=Re(Ct)?ne(Ct,4):0,Ct=Re(Ct)?ne(Ct,4):0,nn=V.Qa,Bn=0;4>Bn;++Bn){if(nn.Cb){var Mn=nn.Zb[Bn];nn.Fb||(Mn+=we)}else{if(0<Bn){V.pb[Bn]=V.pb[0];continue}Mn=we}var An=V.pb[Bn];An.Sc[0]=Gm[su(Mn+ze,127)],An.Sc[1]=Yd[su(Mn+0,127)],An.Eb[0]=2*Gm[su(Mn+ke,127)],An.Eb[1]=101581*Yd[su(Mn+gt,127)]>>16,8>An.Eb[1]&&(An.Eb[1]=8),An.Qc[0]=Gm[su(Mn+ft,117)],An.Qc[1]=Yd[su(Mn+Ct,127)],An.lc=Mn+Ct}if(!dt.Rb)return ho(V,4,"Not a key frame.");for(Re(ct),dt=V.Pa,we=0;4>we;++we){for(ze=0;8>ze;++ze)for(ke=0;3>ke;++ke)for(gt=0;11>gt;++gt)ft=Qe(ct,T1[we][ze][ke][gt])?te(ct,8):ky[we][ze][ke][gt],dt.Wc[we][ze].Yb[ke][gt]=ft;for(ze=0;17>ze;++ze)dt.Xc[we][ze]=dt.Wc[we][B1[ze]]}return V.kc=Re(ct),V.kc&&(V.Bd=te(ct,8)),V.cb=1}function zf(V,re,we,ke,ze,ct,dt){var gt=re[ze].Yb[we];for(we=0;16>ze;++ze){if(!Qe(V,gt[we+0]))return ze;for(;!Qe(V,gt[we+1]);)if(gt=re[++ze].Yb[0],we=0,ze==16)return 16;var Ct=re[ze+1].Yb;if(Qe(V,gt[we+2])){var ft=V,nn=0;if(Qe(ft,(Mn=gt)[(Bn=we)+3]))if(Qe(ft,Mn[Bn+6])){for(gt=0,Bn=2*(nn=Qe(ft,Mn[Bn+8]))+(Mn=Qe(ft,Mn[Bn+9+nn])),nn=0,Mn=S1[Bn];Mn[gt];++gt)nn+=nn+Qe(ft,Mn[gt]);nn+=3+(8<<Bn)}else Qe(ft,Mn[Bn+7])?(nn=7+2*Qe(ft,165),nn+=Qe(ft,145)):nn=5+Qe(ft,159);else nn=Qe(ft,Mn[Bn+4])?3+Qe(ft,Mn[Bn+5]):2;gt=Ct[2]}else nn=1,gt=Ct[1];Ct=dt+X2[ze],0>(ft=V).b&&be(ft);var Bn,Mn=ft.b,An=(Bn=ft.Ca>>1)-(ft.I>>Mn)>>31;--ft.b,ft.Ca+=An,ft.Ca|=1,ft.I-=(Bn+1&An)<<Mn,ct[Ct]=((nn^An)-An)*ke[(0<ze)+0]}return 16}function $f(V){var re=V.rb[V.sb-1];re.la=0,re.Na=0,i(V.zc,0,0,V.zc.length),V.ja=0}function Ul(V,re){if(V==null)return 0;if(re==null)return ho(V,2,"NULL VP8Io parameter in VP8Decode().");if(!V.cb&&!cA(V,re))return 0;if(e(V.cb),re.ac==null||re.ac(re)){re.ob&&(V.L=0);var we=ip[V.L];if(V.L==2?(V.yb=0,V.zb=0):(V.yb=re.v-we>>4,V.zb=re.j-we>>4,0>V.yb&&(V.yb=0),0>V.zb&&(V.zb=0)),V.Va=re.o+15+we>>4,V.Hb=re.va+15+we>>4,V.Hb>V.za&&(V.Hb=V.za),V.Va>V.Ub&&(V.Va=V.Ub),0<V.L){var ke=V.ed;for(we=0;4>we;++we){var ze;if(V.Qa.Cb){var ct=V.Qa.Lb[we];V.Qa.Fb||(ct+=ke.Tb)}else ct=ke.Tb;for(ze=0;1>=ze;++ze){var dt=V.gd[we][ze],gt=ct;if(ke.Pc&&(gt+=ke.vd[0],ze&&(gt+=ke.od[0])),0<(gt=0>gt?0:63<gt?63:gt)){var Ct=gt;0<ke.wb&&(Ct=4<ke.wb?Ct>>2:Ct>>1)>9-ke.wb&&(Ct=9-ke.wb),1>Ct&&(Ct=1),dt.dd=Ct,dt.tc=2*gt+Ct,dt.ld=40<=gt?2:15<=gt?1:0}else dt.tc=0;dt.La=ze}}}we=0}else ho(V,6,"Frame setup failed"),we=V.a;if(we=we==0){if(we){V.$c=0,0<V.Aa||(V.Ic=Xm);e:{we=V.Ic,ke=4*(Ct=V.za);var ft=32*Ct,nn=Ct+1,Bn=0<V.L?Ct*(0<V.Aa?2:1):0,Mn=(V.Aa==2?2:1)*Ct;if((dt=ke+832+(ze=3*(16*we+ip[V.L])/2*ft)+(ct=V.Fa!=null&&0<V.Fa.length?V.Kc.c*V.Kc.i:0))!=dt)we=0;else{if(dt>V.Vb){if(V.Vb=0,V.Ec=s(dt),V.Fc=0,V.Ec==null){we=ho(V,1,"no memory during frame initialization.");break e}V.Vb=dt}dt=V.Ec,gt=V.Fc,V.Ac=dt,V.Bc=gt,gt+=ke,V.Gd=l(ft,uA),V.Hd=0,V.rb=l(nn+1,Ca),V.sb=1,V.wa=Bn?l(Bn,is):null,V.Y=0,V.D.Nb=0,V.D.wa=V.wa,V.D.Y=V.Y,0<V.Aa&&(V.D.Y+=Ct),e(!0),V.oc=dt,V.pc=gt,gt+=832,V.ya=l(Mn,iu),V.aa=0,V.D.ya=V.ya,V.D.aa=V.aa,V.Aa==2&&(V.D.aa+=Ct),V.R=16*Ct,V.B=8*Ct,Ct=(ft=ip[V.L])*V.R,ft=ft/2*V.B,V.sa=dt,V.ta=gt+Ct,V.qa=V.sa,V.ra=V.ta+16*we*V.R+ft,V.Ha=V.qa,V.Ia=V.ra+8*we*V.B+ft,V.$c=0,gt+=ze,V.mb=ct?dt:null,V.nb=ct?gt:null,e(gt+ct<=V.Fc+V.Vb),$f(V),i(V.Ac,V.Bc,0,ke),we=1}}if(we){if(re.ka=0,re.y=V.sa,re.O=V.ta,re.f=V.qa,re.N=V.ra,re.ea=V.Ha,re.Vd=V.Ia,re.fa=V.R,re.Rc=V.B,re.F=null,re.J=0,!w1){for(we=-255;255>=we;++we)$m[255+we]=0>we?-we:we;for(we=-1020;1020>=we;++we)Vm[1020+we]=-128>we?-128:127<we?127:we;for(we=-112;112>=we;++we)_0[112+we]=-16>we?-16:15<we?15:we;for(we=-255;510>=we;++we)y0[255+we]=0>we?0:255<we?255:we;w1=1}Ql=Qd,Ah=y1,zs=Qu,el=km,ao=g0,id=hA,ad=dA,Zf=Oi,sd=b1,Iu=Rm,Kd=Qf,jl=jd,mh=uc,Ka=$c,bs=Bu,Ms=lc,To=Hl,gh=Hf,Ku[0]=dl,Ku[1]=da,Ku[2]=qh,Ku[3]=si,Ku[4]=Mi,Ku[5]=io,Ku[6]=Yh,Ku[7]=Vr,Ku[8]=Xh,Ku[9]=v0,cd[0]=Wh,cd[1]=Cu,cd[2]=Eu,cd[3]=Qi,cd[4]=Oo,cd[5]=zl,cd[6]=ys,Qc[0]=Vl,Qc[1]=fa,Qc[2]=Gs,Qc[3]=$l,Qc[4]=Zh,Qc[5]=Ks,Qc[6]=Vf,we=1}else we=0}we&&(we=function(An,hr){for(An.M=0;An.M<An.Va;++An.M){var Qn,ln=An.Jc[An.M&An.Xb],dn=An.m,sr=An;for(Qn=0;Qn<sr.za;++Qn){var fr=dn,ur=sr,Zr=ur.Ac,Er=ur.Bc+4*Qn,yi=ur.zc,Gr=ur.ya[ur.aa+Qn];if(ur.Qa.Bb?Gr.$b=Qe(fr,ur.Pa.jb[0])?2+Qe(fr,ur.Pa.jb[2]):Qe(fr,ur.Pa.jb[1]):Gr.$b=0,ur.kc&&(Gr.Ad=Qe(fr,ur.Bd)),Gr.Za=!Qe(fr,145)+0,Gr.Za){var Wa=Gr.Ob,as=0;for(ur=0;4>ur;++ur){var Ea,Pa=yi[0+ur];for(Ea=0;4>Ea;++Ea){Pa=Z2[Zr[Er+Ea]][Pa];for(var Ma=Fy[Qe(fr,Pa[0])];0<Ma;)Ma=Fy[2*Ma+Qe(fr,Pa[Ma])];Pa=-Ma,Zr[Er+Ea]=Pa}r(Wa,as,Zr,Er,4),as+=4,yi[0+ur]=Pa}}else Pa=Qe(fr,156)?Qe(fr,128)?1:3:Qe(fr,163)?2:0,Gr.Ob[0]=Pa,i(Zr,Er,Pa,4),i(yi,0,Pa,4);Gr.Dd=Qe(fr,142)?Qe(fr,114)?Qe(fr,183)?1:3:2:0}if(sr.m.Ka)return ho(An,7,"Premature end-of-partition0 encountered.");for(;An.ja<An.za;++An.ja){if(sr=ln,fr=(dn=An).rb[dn.sb-1],Zr=dn.rb[dn.sb+dn.ja],Qn=dn.ya[dn.aa+dn.ja],Er=dn.kc?Qn.Ad:0)fr.la=Zr.la=0,Qn.Za||(fr.Na=Zr.Na=0),Qn.Hc=0,Qn.Gc=0,Qn.ia=0;else{var Pi,aa;if(fr=Zr,Zr=sr,Er=dn.Pa.Xc,yi=dn.ya[dn.aa+dn.ja],Gr=dn.pb[yi.$b],ur=yi.ad,Wa=0,as=dn.rb[dn.sb-1],Pa=Ea=0,i(ur,Wa,0,384),yi.Za)var fo=0,po=Er[3];else{Ma=s(16);var Ao=fr.Na+as.Na;if(Ao=np(Zr,Er[1],Ao,Gr.Eb,0,Ma,0),fr.Na=as.Na=(0<Ao)+0,1<Ao)Ql(Ma,0,ur,Wa);else{var Do=Ma[0]+3>>3;for(Ma=0;256>Ma;Ma+=16)ur[Wa+Ma]=Do}fo=1,po=Er[0]}var ls=15&fr.la,nl=15&as.la;for(Ma=0;4>Ma;++Ma){var pl=1&nl;for(Do=aa=0;4>Do;++Do)ls=ls>>1|(pl=(Ao=np(Zr,po,Ao=pl+(1&ls),Gr.Sc,fo,ur,Wa))>fo)<<7,aa=aa<<2|(3<Ao?3:1<Ao?2:ur[Wa+0]!=0),Wa+=16;ls>>=4,nl=nl>>1|pl<<7,Ea=(Ea<<8|aa)>>>0}for(po=ls,fo=nl>>4,Pi=0;4>Pi;Pi+=2){for(aa=0,ls=fr.la>>4+Pi,nl=as.la>>4+Pi,Ma=0;2>Ma;++Ma){for(pl=1&nl,Do=0;2>Do;++Do)Ao=pl+(1&ls),ls=ls>>1|(pl=0<(Ao=np(Zr,Er[2],Ao,Gr.Qc,0,ur,Wa)))<<3,aa=aa<<2|(3<Ao?3:1<Ao?2:ur[Wa+0]!=0),Wa+=16;ls>>=2,nl=nl>>1|pl<<5}Pa|=aa<<4*Pi,po|=ls<<4<<Pi,fo|=(240&nl)<<Pi}fr.la=po,as.la=fo,yi.Hc=Ea,yi.Gc=Pa,yi.ia=43690&Pa?0:Gr.ia,Er=!(Ea|Pa)}if(0<dn.L&&(dn.wa[dn.Y+dn.ja]=dn.gd[Qn.$b][Qn.Za],dn.wa[dn.Y+dn.ja].La|=!Er),sr.Ka)return ho(An,7,"Premature end-of-file encountered.")}if($f(An),dn=hr,sr=1,Qn=(ln=An).D,fr=0<ln.L&&ln.M>=ln.zb&&ln.M<=ln.Va,ln.Aa==0)e:{if(Qn.M=ln.M,Qn.uc=fr,Wf(ln,Qn),sr=1,Qn=(aa=ln.D).Nb,fr=(Pa=ip[ln.L])*ln.R,Zr=Pa/2*ln.B,Ma=16*Qn*ln.R,Do=8*Qn*ln.B,Er=ln.sa,yi=ln.ta-fr+Ma,Gr=ln.qa,ur=ln.ra-Zr+Do,Wa=ln.Ha,as=ln.Ia-Zr+Do,nl=(ls=aa.M)==0,Ea=ls>=ln.Va-1,ln.Aa==2&&Wf(ln,aa),aa.uc)for(pl=(Ao=ln).D.M,e(Ao.D.uc),aa=Ao.yb;aa<Ao.Hb;++aa){fo=aa,po=pl;var jn=(Cr=(Ys=Ao).D).Nb;Pi=Ys.R;var Cr=Cr.wa[Cr.Y+fo],Bo=Ys.sa,Ia=Ys.ta+16*jn*Pi+16*fo,Lu=Cr.dd,mo=Cr.tc;if(mo!=0)if(e(3<=mo),Ys.L==1)0<fo&&Ms(Bo,Ia,Pi,mo+4),Cr.La&&gh(Bo,Ia,Pi,mo),0<po&&bs(Bo,Ia,Pi,mo+4),Cr.La&&To(Bo,Ia,Pi,mo);else{var rn=Ys.B,hd=Ys.qa,rl=Ys.ra+8*jn*rn+8*fo,dd=Ys.Ha,Ys=Ys.Ia+8*jn*rn+8*fo;jn=Cr.ld,0<fo&&(Zf(Bo,Ia,Pi,mo+4,Lu,jn),Iu(hd,rl,dd,Ys,rn,mo+4,Lu,jn)),Cr.La&&(jl(Bo,Ia,Pi,mo,Lu,jn),Ka(hd,rl,dd,Ys,rn,mo,Lu,jn)),0<po&&(ad(Bo,Ia,Pi,mo+4,Lu,jn),sd(hd,rl,dd,Ys,rn,mo+4,Lu,jn)),Cr.La&&(Kd(Bo,Ia,Pi,mo,Lu,jn),mh(hd,rl,dd,Ys,rn,mo,Lu,jn))}}if(ln.ia&&alert("todo:DitherRow"),dn.put!=null){if(aa=16*ls,ls=16*(ls+1),nl?(dn.y=ln.sa,dn.O=ln.ta+Ma,dn.f=ln.qa,dn.N=ln.ra+Do,dn.ea=ln.Ha,dn.W=ln.Ia+Do):(aa-=Pa,dn.y=Er,dn.O=yi,dn.f=Gr,dn.N=ur,dn.ea=Wa,dn.W=as),Ea||(ls-=Pa),ls>dn.o&&(ls=dn.o),dn.F=null,dn.J=null,ln.Fa!=null&&0<ln.Fa.length&&aa<ls&&(dn.J=fA(ln,dn,aa,ls-aa),dn.F=ln.mb,dn.F==null&&dn.F.length==0)){sr=ho(ln,3,"Could not decode alpha data.");break e}aa<dn.j&&(Pa=dn.j-aa,aa=dn.j,e(!(1&Pa)),dn.O+=ln.R*Pa,dn.N+=ln.B*(Pa>>1),dn.W+=ln.B*(Pa>>1),dn.F!=null&&(dn.J+=dn.width*Pa)),aa<ls&&(dn.O+=dn.v,dn.N+=dn.v>>1,dn.W+=dn.v>>1,dn.F!=null&&(dn.J+=dn.v),dn.ka=aa-dn.j,dn.U=dn.va-dn.v,dn.T=ls-aa,sr=dn.put(dn))}Qn+1!=ln.Ic||Ea||(r(ln.sa,ln.ta-fr,Er,yi+16*ln.R,fr),r(ln.qa,ln.ra-Zr,Gr,ur+8*ln.B,Zr),r(ln.Ha,ln.Ia-Zr,Wa,as+8*ln.B,Zr))}if(!sr)return ho(An,6,"Output aborted.")}return 1}(V,re)),re.bc!=null&&re.bc(re),we&=1}return we?(V.cb=0,we):0}function Ga(V,re,we,ke,ze){ze=V[re+we+32*ke]+(ze>>3),V[re+we+32*ke]=-256&ze?0>ze?0:255:ze}function Ri(V,re,we,ke,ze,ct){Ga(V,re,0,we,ke+ze),Ga(V,re,1,we,ke+ct),Ga(V,re,2,we,ke-ct),Ga(V,re,3,we,ke-ze)}function au(V){return(20091*V>>16)+V}function Hd(V,re,we,ke){var ze,ct=0,dt=s(16);for(ze=0;4>ze;++ze){var gt=V[re+0]+V[re+8],Ct=V[re+0]-V[re+8],ft=(35468*V[re+4]>>16)-au(V[re+12]),nn=au(V[re+4])+(35468*V[re+12]>>16);dt[ct+0]=gt+nn,dt[ct+1]=Ct+ft,dt[ct+2]=Ct-ft,dt[ct+3]=gt-nn,ct+=4,re++}for(ze=ct=0;4>ze;++ze)gt=(V=dt[ct+0]+4)+dt[ct+8],Ct=V-dt[ct+8],ft=(35468*dt[ct+4]>>16)-au(dt[ct+12]),Ga(we,ke,0,0,gt+(nn=au(dt[ct+4])+(35468*dt[ct+12]>>16))),Ga(we,ke,1,0,Ct+ft),Ga(we,ke,2,0,Ct-ft),Ga(we,ke,3,0,gt-nn),ct++,ke+=32}function hA(V,re,we,ke){var ze=V[re+0]+4,ct=35468*V[re+4]>>16,dt=au(V[re+4]),gt=35468*V[re+1]>>16;Ri(we,ke,0,ze+dt,V=au(V[re+1]),gt),Ri(we,ke,1,ze+ct,V,gt),Ri(we,ke,2,ze-ct,V,gt),Ri(we,ke,3,ze-dt,V,gt)}function y1(V,re,we,ke,ze){Hd(V,re,we,ke),ze&&Hd(V,re+16,we,ke+4)}function Qu(V,re,we,ke){Ah(V,re+0,we,ke,1),Ah(V,re+32,we,ke+128,1)}function km(V,re,we,ke){var ze;for(V=V[re+0]+4,ze=0;4>ze;++ze)for(re=0;4>re;++re)Ga(we,ke,re,ze,V)}function g0(V,re,we,ke){V[re+0]&&el(V,re+0,we,ke),V[re+16]&&el(V,re+16,we,ke+4),V[re+32]&&el(V,re+32,we,ke+128),V[re+48]&&el(V,re+48,we,ke+128+4)}function Qd(V,re,we,ke){var ze,ct=s(16);for(ze=0;4>ze;++ze){var dt=V[re+0+ze]+V[re+12+ze],gt=V[re+4+ze]+V[re+8+ze],Ct=V[re+4+ze]-V[re+8+ze],ft=V[re+0+ze]-V[re+12+ze];ct[0+ze]=dt+gt,ct[8+ze]=dt-gt,ct[4+ze]=ft+Ct,ct[12+ze]=ft-Ct}for(ze=0;4>ze;++ze)dt=(V=ct[0+4*ze]+3)+ct[3+4*ze],gt=ct[1+4*ze]+ct[2+4*ze],Ct=ct[1+4*ze]-ct[2+4*ze],ft=V-ct[3+4*ze],we[ke+0]=dt+gt>>3,we[ke+16]=ft+Ct>>3,we[ke+32]=dt-gt>>3,we[ke+48]=ft-Ct>>3,ke+=64}function mr(V,re,we){var ke,ze=re-32,ct=cu,dt=255-V[ze-1];for(ke=0;ke<we;++ke){var gt,Ct=ct,ft=dt+V[re-1];for(gt=0;gt<we;++gt)V[re+gt]=Ct[ft+V[ze+gt]];re+=32}}function da(V,re){mr(V,re,4)}function fa(V,re){mr(V,re,8)}function Cu(V,re){mr(V,re,16)}function Eu(V,re){var we;for(we=0;16>we;++we)r(V,re+32*we,V,re-32,16)}function Qi(V,re){var we;for(we=16;0<we;--we)i(V,re,V[re-1],16),re+=32}function Kh(V,re,we){var ke;for(ke=0;16>ke;++ke)i(re,we+32*ke,V,16)}function Wh(V,re){var we,ke=16;for(we=0;16>we;++we)ke+=V[re-1+32*we]+V[re+we-32];Kh(ke>>5,V,re)}function Oo(V,re){var we,ke=8;for(we=0;16>we;++we)ke+=V[re-1+32*we];Kh(ke>>4,V,re)}function zl(V,re){var we,ke=8;for(we=0;16>we;++we)ke+=V[re+we-32];Kh(ke>>4,V,re)}function ys(V,re){Kh(128,V,re)}function rr(V,re,we){return V+2*re+we+2>>2}function qh(V,re){var we,ke=re-32;for(ke=new Uint8Array([rr(V[ke-1],V[ke+0],V[ke+1]),rr(V[ke+0],V[ke+1],V[ke+2]),rr(V[ke+1],V[ke+2],V[ke+3]),rr(V[ke+2],V[ke+3],V[ke+4])]),we=0;4>we;++we)r(V,re+32*we,ke,0,ke.length)}function si(V,re){var we=V[re-1],ke=V[re-1+32],ze=V[re-1+64],ct=V[re-1+96];Je(V,re+0,16843009*rr(V[re-1-32],we,ke)),Je(V,re+32,16843009*rr(we,ke,ze)),Je(V,re+64,16843009*rr(ke,ze,ct)),Je(V,re+96,16843009*rr(ze,ct,ct))}function dl(V,re){var we,ke=4;for(we=0;4>we;++we)ke+=V[re+we-32]+V[re-1+32*we];for(ke>>=3,we=0;4>we;++we)i(V,re+32*we,ke,4)}function Mi(V,re){var we=V[re-1+0],ke=V[re-1+32],ze=V[re-1+64],ct=V[re-1-32],dt=V[re+0-32],gt=V[re+1-32],Ct=V[re+2-32],ft=V[re+3-32];V[re+0+96]=rr(ke,ze,V[re-1+96]),V[re+1+96]=V[re+0+64]=rr(we,ke,ze),V[re+2+96]=V[re+1+64]=V[re+0+32]=rr(ct,we,ke),V[re+3+96]=V[re+2+64]=V[re+1+32]=V[re+0+0]=rr(dt,ct,we),V[re+3+64]=V[re+2+32]=V[re+1+0]=rr(gt,dt,ct),V[re+3+32]=V[re+2+0]=rr(Ct,gt,dt),V[re+3+0]=rr(ft,Ct,gt)}function Yh(V,re){var we=V[re+1-32],ke=V[re+2-32],ze=V[re+3-32],ct=V[re+4-32],dt=V[re+5-32],gt=V[re+6-32],Ct=V[re+7-32];V[re+0+0]=rr(V[re+0-32],we,ke),V[re+1+0]=V[re+0+32]=rr(we,ke,ze),V[re+2+0]=V[re+1+32]=V[re+0+64]=rr(ke,ze,ct),V[re+3+0]=V[re+2+32]=V[re+1+64]=V[re+0+96]=rr(ze,ct,dt),V[re+3+32]=V[re+2+64]=V[re+1+96]=rr(ct,dt,gt),V[re+3+64]=V[re+2+96]=rr(dt,gt,Ct),V[re+3+96]=rr(gt,Ct,Ct)}function io(V,re){var we=V[re-1+0],ke=V[re-1+32],ze=V[re-1+64],ct=V[re-1-32],dt=V[re+0-32],gt=V[re+1-32],Ct=V[re+2-32],ft=V[re+3-32];V[re+0+0]=V[re+1+64]=ct+dt+1>>1,V[re+1+0]=V[re+2+64]=dt+gt+1>>1,V[re+2+0]=V[re+3+64]=gt+Ct+1>>1,V[re+3+0]=Ct+ft+1>>1,V[re+0+96]=rr(ze,ke,we),V[re+0+64]=rr(ke,we,ct),V[re+0+32]=V[re+1+96]=rr(we,ct,dt),V[re+1+32]=V[re+2+96]=rr(ct,dt,gt),V[re+2+32]=V[re+3+96]=rr(dt,gt,Ct),V[re+3+32]=rr(gt,Ct,ft)}function Vr(V,re){var we=V[re+0-32],ke=V[re+1-32],ze=V[re+2-32],ct=V[re+3-32],dt=V[re+4-32],gt=V[re+5-32],Ct=V[re+6-32],ft=V[re+7-32];V[re+0+0]=we+ke+1>>1,V[re+1+0]=V[re+0+64]=ke+ze+1>>1,V[re+2+0]=V[re+1+64]=ze+ct+1>>1,V[re+3+0]=V[re+2+64]=ct+dt+1>>1,V[re+0+32]=rr(we,ke,ze),V[re+1+32]=V[re+0+96]=rr(ke,ze,ct),V[re+2+32]=V[re+1+96]=rr(ze,ct,dt),V[re+3+32]=V[re+2+96]=rr(ct,dt,gt),V[re+3+64]=rr(dt,gt,Ct),V[re+3+96]=rr(gt,Ct,ft)}function v0(V,re){var we=V[re-1+0],ke=V[re-1+32],ze=V[re-1+64],ct=V[re-1+96];V[re+0+0]=we+ke+1>>1,V[re+2+0]=V[re+0+32]=ke+ze+1>>1,V[re+2+32]=V[re+0+64]=ze+ct+1>>1,V[re+1+0]=rr(we,ke,ze),V[re+3+0]=V[re+1+32]=rr(ke,ze,ct),V[re+3+32]=V[re+1+64]=rr(ze,ct,ct),V[re+3+64]=V[re+2+64]=V[re+0+96]=V[re+1+96]=V[re+2+96]=V[re+3+96]=ct}function Xh(V,re){var we=V[re-1+0],ke=V[re-1+32],ze=V[re-1+64],ct=V[re-1+96],dt=V[re-1-32],gt=V[re+0-32],Ct=V[re+1-32],ft=V[re+2-32];V[re+0+0]=V[re+2+32]=we+dt+1>>1,V[re+0+32]=V[re+2+64]=ke+we+1>>1,V[re+0+64]=V[re+2+96]=ze+ke+1>>1,V[re+0+96]=ct+ze+1>>1,V[re+3+0]=rr(gt,Ct,ft),V[re+2+0]=rr(dt,gt,Ct),V[re+1+0]=V[re+3+32]=rr(we,dt,gt),V[re+1+32]=V[re+3+64]=rr(ke,we,dt),V[re+1+64]=V[re+3+96]=rr(ze,ke,we),V[re+1+96]=rr(ct,ze,ke)}function Gs(V,re){var we;for(we=0;8>we;++we)r(V,re+32*we,V,re-32,8)}function $l(V,re){var we;for(we=0;8>we;++we)i(V,re,V[re-1],8),re+=32}function Su(V,re,we){var ke;for(ke=0;8>ke;++ke)i(re,we+32*ke,V,8)}function Vl(V,re){var we,ke=8;for(we=0;8>we;++we)ke+=V[re+we-32]+V[re-1+32*we];Su(ke>>4,V,re)}function Ks(V,re){var we,ke=4;for(we=0;8>we;++we)ke+=V[re+we-32];Su(ke>>3,V,re)}function Zh(V,re){var we,ke=4;for(we=0;8>we;++we)ke+=V[re-1+32*we];Su(ke>>3,V,re)}function Vf(V,re){Su(128,V,re)}function Tu(V,re,we){var ke=V[re-we],ze=V[re+0],ct=3*(ze-ke)+qd[1020+V[re-2*we]-V[re+we]],dt=od[112+(ct+4>>3)];V[re-we]=cu[255+ke+od[112+(ct+3>>3)]],V[re+0]=cu[255+ze-dt]}function Jh(V,re,we,ke){var ze=V[re+0],ct=V[re+we];return Kl[255+V[re-2*we]-V[re-we]]>ke||Kl[255+ct-ze]>ke}function uh(V,re,we,ke){return 4*Kl[255+V[re-we]-V[re+0]]+Kl[255+V[re-2*we]-V[re+we]]<=ke}function ed(V,re,we,ke,ze){var ct=V[re-3*we],dt=V[re-2*we],gt=V[re-we],Ct=V[re+0],ft=V[re+we],nn=V[re+2*we],Bn=V[re+3*we];return 4*Kl[255+gt-Ct]+Kl[255+dt-ft]>ke?0:Kl[255+V[re-4*we]-ct]<=ze&&Kl[255+ct-dt]<=ze&&Kl[255+dt-gt]<=ze&&Kl[255+Bn-nn]<=ze&&Kl[255+nn-ft]<=ze&&Kl[255+ft-Ct]<=ze}function Bu(V,re,we,ke){var ze=2*ke+1;for(ke=0;16>ke;++ke)uh(V,re+ke,we,ze)&&Tu(V,re+ke,we)}function lc(V,re,we,ke){var ze=2*ke+1;for(ke=0;16>ke;++ke)uh(V,re+ke*we,1,ze)&&Tu(V,re+ke*we,1)}function Hl(V,re,we,ke){var ze;for(ze=3;0<ze;--ze)Bu(V,re+=4*we,we,ke)}function Hf(V,re,we,ke){var ze;for(ze=3;0<ze;--ze)lc(V,re+=4,we,ke)}function td(V,re,we,ke,ze,ct,dt,gt){for(ct=2*ct+1;0<ze--;){if(ed(V,re,we,ct,dt))if(Jh(V,re,we,gt))Tu(V,re,we);else{var Ct=V,ft=re,nn=we,Bn=Ct[ft-2*nn],Mn=Ct[ft-nn],An=Ct[ft+0],hr=Ct[ft+nn],Qn=Ct[ft+2*nn],ln=27*(sr=qd[1020+3*(An-Mn)+qd[1020+Bn-hr]])+63>>7,dn=18*sr+63>>7,sr=9*sr+63>>7;Ct[ft-3*nn]=cu[255+Ct[ft-3*nn]+sr],Ct[ft-2*nn]=cu[255+Bn+dn],Ct[ft-nn]=cu[255+Mn+ln],Ct[ft+0]=cu[255+An-ln],Ct[ft+nn]=cu[255+hr-dn],Ct[ft+2*nn]=cu[255+Qn-sr]}re+=ke}}function fl(V,re,we,ke,ze,ct,dt,gt){for(ct=2*ct+1;0<ze--;){if(ed(V,re,we,ct,dt))if(Jh(V,re,we,gt))Tu(V,re,we);else{var Ct=V,ft=re,nn=we,Bn=Ct[ft-nn],Mn=Ct[ft+0],An=Ct[ft+nn],hr=od[112+((Qn=3*(Mn-Bn))+4>>3)],Qn=od[112+(Qn+3>>3)],ln=hr+1>>1;Ct[ft-2*nn]=cu[255+Ct[ft-2*nn]+ln],Ct[ft-nn]=cu[255+Bn+Qn],Ct[ft+0]=cu[255+Mn-hr],Ct[ft+nn]=cu[255+An-ln]}re+=ke}}function dA(V,re,we,ke,ze,ct){td(V,re,we,1,16,ke,ze,ct)}function Oi(V,re,we,ke,ze,ct){td(V,re,1,we,16,ke,ze,ct)}function Qf(V,re,we,ke,ze,ct){var dt;for(dt=3;0<dt;--dt)fl(V,re+=4*we,we,1,16,ke,ze,ct)}function jd(V,re,we,ke,ze,ct){var dt;for(dt=3;0<dt;--dt)fl(V,re+=4,1,we,16,ke,ze,ct)}function b1(V,re,we,ke,ze,ct,dt,gt){td(V,re,ze,1,8,ct,dt,gt),td(we,ke,ze,1,8,ct,dt,gt)}function Rm(V,re,we,ke,ze,ct,dt,gt){td(V,re,1,ze,8,ct,dt,gt),td(we,ke,1,ze,8,ct,dt,gt)}function uc(V,re,we,ke,ze,ct,dt,gt){fl(V,re+4*ze,ze,1,8,ct,dt,gt),fl(we,ke+4*ze,ze,1,8,ct,dt,gt)}function $c(V,re,we,ke,ze,ct,dt,gt){fl(V,re+4,1,ze,8,ct,dt,gt),fl(we,ke+4,1,ze,8,ct,dt,gt)}function nd(){this.ba=new gr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Nn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ch(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function jf(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function cc(){this.ua=0,this.Wa=new je,this.vb=new je,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ue,this.yc=new W}function hh(){this.xb=this.a=0,this.l=new $d,this.ca=new gr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new se,this.Pb=0,this.wd=new se,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new cc,this.ab=0,this.gc=l(4,jf),this.Oc=0}function dh(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new $d,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function rd(V,re,we,ke,ze,ct,dt){for(V=V==null?0:V[re+0],re=0;re<dt;++re)ze[ct+re]=V+we[ke+re]&255,V=ze[ct+re]}function Gf(V,re,we,ke,ze,ct,dt){var gt;if(V==null)rd(null,null,we,ke,ze,ct,dt);else for(gt=0;gt<dt;++gt)ze[ct+gt]=V[re+gt]+we[ke+gt]&255}function $o(V,re,we,ke,ze,ct,dt){if(V==null)rd(null,null,we,ke,ze,ct,dt);else{var gt,Ct=V[re+0],ft=Ct,nn=Ct;for(gt=0;gt<dt;++gt)ft=nn+(Ct=V[re+gt])-ft,nn=we[ke+gt]+(-256&ft?0>ft?0:255:ft)&255,ft=Ct,ze[ct+gt]=nn}}function fA(V,re,we,ke){var ze=re.width,ct=re.o;if(e(V!=null&&re!=null),0>we||0>=ke||we+ke>ct)return null;if(!V.Cc){if(V.ga==null){var dt;if(V.ga=new dh,(dt=V.ga==null)||(dt=re.width*re.o,e(V.Gb.length==0),V.Gb=s(dt),V.Uc=0,V.Gb==null?dt=0:(V.mb=V.Gb,V.nb=V.Uc,V.rc=null,dt=1),dt=!dt),!dt){dt=V.ga;var gt=V.Fa,Ct=V.P,ft=V.qc,nn=V.mb,Bn=V.nb,Mn=Ct+1,An=ft-1,hr=dt.l;if(e(gt!=null&&nn!=null&&re!=null),vh[0]=null,vh[1]=rd,vh[2]=Gf,vh[3]=$o,dt.ca=nn,dt.tb=Bn,dt.c=re.width,dt.i=re.height,e(0<dt.c&&0<dt.i),1>=ft)re=0;else if(dt.$a=gt[Ct+0]>>0&3,dt.Z=gt[Ct+0]>>2&3,dt.Lc=gt[Ct+0]>>4&3,Ct=gt[Ct+0]>>6&3,0>dt.$a||1<dt.$a||4<=dt.Z||1<dt.Lc||Ct)re=0;else if(hr.put=zi,hr.ac=ai,hr.bc=ma,hr.ma=dt,hr.width=re.width,hr.height=re.height,hr.Da=re.Da,hr.v=re.v,hr.va=re.va,hr.j=re.j,hr.o=re.o,dt.$a)e:{e(dt.$a==1),re=Mr();t:for(;;){if(re==null){re=0;break e}if(e(dt!=null),dt.mc=re,re.c=dt.c,re.i=dt.i,re.l=dt.l,re.l.ma=dt,re.l.width=dt.c,re.l.height=dt.i,re.a=0,he(re.m,gt,Mn,An),!ti(dt.c,dt.i,1,re,null)||(re.ab==1&&re.gc[0].hc==3&&an(re.s)?(dt.ic=1,gt=re.c*re.i,re.Ta=null,re.Ua=0,re.V=s(gt),re.Ba=0,re.V==null?(re.a=1,re=0):re=1):(dt.ic=0,re=Tn(re,dt.c)),!re))break t;re=1;break e}dt.mc=null,re=0}else re=An>=dt.c*dt.i;dt=!re}if(dt)return null;V.ga.Lc!=1?V.Ga=0:ke=ct-we}e(V.ga!=null),e(we+ke<=ct);e:{if(re=(gt=V.ga).c,ct=gt.l.o,gt.$a==0){if(Mn=V.rc,An=V.Vc,hr=V.Fa,Ct=V.P+1+we*re,ft=V.mb,nn=V.nb+we*re,e(Ct<=V.P+V.qc),gt.Z!=0)for(e(vh[gt.Z]!=null),dt=0;dt<ke;++dt)vh[gt.Z](Mn,An,hr,Ct,ft,nn,re),Mn=ft,An=nn,nn+=re,Ct+=re;else for(dt=0;dt<ke;++dt)r(ft,nn,hr,Ct,re),Mn=ft,An=nn,nn+=re,Ct+=re;V.rc=Mn,V.Vc=An}else{if(e(gt.mc!=null),re=we+ke,e((dt=gt.mc)!=null),e(re<=dt.i),dt.C>=re)re=1;else if(gt.ic||wn(),gt.ic){gt=dt.V,Mn=dt.Ba,An=dt.c;var Qn=dt.i,ln=(hr=1,Ct=dt.$/An,ft=dt.$%An,nn=dt.m,Bn=dt.s,dt.$),dn=An*Qn,sr=An*re,fr=Bn.wc,ur=ln<sr?En(Bn,ft,Ct):null;e(ln<=dn),e(re<=Qn),e(an(Bn));t:for(;;){for(;!nn.h&&ln<sr;){if(ft&fr||(ur=En(Bn,ft,Ct)),e(ur!=null),Le(nn),256>(Qn=Jt(ur.G[0],ur.H[0],nn)))gt[Mn+ln]=Qn,++ln,++ft>=An&&(ft=0,++Ct<=re&&!(Ct%16)&&Pn(dt,Ct));else{if(!(280>Qn)){hr=0;break t}Qn=Ki(Qn-256,nn);var Zr,Er=Jt(ur.G[4],ur.H[4],nn);if(Le(nn),!(ln>=(Er=$i(An,Er=Ki(Er,nn)))&&dn-ln>=Qn)){hr=0;break t}for(Zr=0;Zr<Qn;++Zr)gt[Mn+ln+Zr]=gt[Mn+ln+Zr-Er];for(ln+=Qn,ft+=Qn;ft>=An;)ft-=An,++Ct<=re&&!(Ct%16)&&Pn(dt,Ct);ln<sr&&ft&fr&&(ur=En(Bn,ft,Ct))}e(nn.h==_e(nn))}Pn(dt,Ct>re?re:Ct);break t}!hr||nn.h&&ln<dn?(hr=0,dt.a=nn.h?5:3):dt.$=ln,re=hr}else re=er(dt,dt.V,dt.Ba,dt.c,dt.i,re,Kt);if(!re){ke=0;break e}}we+ke>=ct&&(V.Cc=1),ke=1}if(!ke)return null;if(V.Cc&&((ke=V.ga)!=null&&(ke.mc=null),V.ga=null,0<V.Ga))return alert("todo:WebPDequantizeLevels"),null}return V.nb+we*ze}function me(V,re,we,ke,ze,ct){for(;0<ze--;){var dt,gt=V,Ct=re+(we?1:0),ft=V,nn=re+(we?0:3);for(dt=0;dt<ke;++dt){var Bn=ft[nn+4*dt];Bn!=255&&(Bn*=32897,gt[Ct+4*dt+0]=gt[Ct+4*dt+0]*Bn>>23,gt[Ct+4*dt+1]=gt[Ct+4*dt+1]*Bn>>23,gt[Ct+4*dt+2]=gt[Ct+4*dt+2]*Bn>>23)}re+=ct}}function tt(V,re,we,ke,ze){for(;0<ke--;){var ct;for(ct=0;ct<we;++ct){var dt=V[re+2*ct+0],gt=15&(ft=V[re+2*ct+1]),Ct=4369*gt,ft=(240&ft|ft>>4)*Ct>>16;V[re+2*ct+0]=(240&dt|dt>>4)*Ct>>16&240|(15&dt|dt<<4)*Ct>>16>>4&15,V[re+2*ct+1]=240&ft|gt}re+=ze}}function zt(V,re,we,ke,ze,ct,dt,gt){var Ct,ft,nn=255;for(ft=0;ft<ze;++ft){for(Ct=0;Ct<ke;++Ct){var Bn=V[re+Ct];ct[dt+4*Ct]=Bn,nn&=Bn}re+=we,dt+=gt}return nn!=255}function Zt(V,re,we,ke,ze){var ct;for(ct=0;ct<ze;++ct)we[ke+ct]=V[re+ct]>>8}function wn(){Wd=me,Gl=tt,Jf=zt,zm=Zt}function Wn(V,re,we){H[V]=function(ke,ze,ct,dt,gt,Ct,ft,nn,Bn,Mn,An,hr,Qn,ln,dn,sr,fr){var ur,Zr=fr-1>>1,Er=gt[Ct+0]|ft[nn+0]<<16,yi=Bn[Mn+0]|An[hr+0]<<16;e(ke!=null);var Gr=3*Er+yi+131074>>2;for(re(ke[ze+0],255&Gr,Gr>>16,Qn,ln),ct!=null&&(Gr=3*yi+Er+131074>>2,re(ct[dt+0],255&Gr,Gr>>16,dn,sr)),ur=1;ur<=Zr;++ur){var Wa=gt[Ct+ur]|ft[nn+ur]<<16,as=Bn[Mn+ur]|An[hr+ur]<<16,Ea=Er+Wa+yi+as+524296,Pa=Ea+2*(Wa+yi)>>3;Gr=Pa+Er>>1,Er=(Ea=Ea+2*(Er+as)>>3)+Wa>>1,re(ke[ze+2*ur-1],255&Gr,Gr>>16,Qn,ln+(2*ur-1)*we),re(ke[ze+2*ur-0],255&Er,Er>>16,Qn,ln+(2*ur-0)*we),ct!=null&&(Gr=Ea+yi>>1,Er=Pa+as>>1,re(ct[dt+2*ur-1],255&Gr,Gr>>16,dn,sr+(2*ur-1)*we),re(ct[dt+2*ur+0],255&Er,Er>>16,dn,sr+(2*ur+0)*we)),Er=Wa,yi=as}1&fr||(Gr=3*Er+yi+131074>>2,re(ke[ze+fr-1],255&Gr,Gr>>16,Qn,ln+(fr-1)*we),ct!=null&&(Gr=3*yi+Er+131074>>2,re(ct[dt+fr-1],255&Gr,Gr>>16,dn,sr+(fr-1)*we)))}}function vr(){tl[ld]=wA,tl[Wl]=Xd,tl[ep]=M1,tl[_A]=I1,tl[tp]=Km,tl[Hm]=C0,tl[ud]=Oy,tl[Zi]=Xd,tl[Qm]=I1,tl[b0]=Km,tl[yA]=C0}function Wr(V){return V&~J2?0>V?0:255:V>>EA}function mi(V,re){return Wr((19077*V>>8)+(26149*re>>8)-14234)}function ia(V,re,we){return Wr((19077*V>>8)-(6419*re>>8)-(13320*we>>8)+8708)}function ji(V,re){return Wr((19077*V>>8)+(33050*re>>8)-17685)}function zn(V,re,we,ke,ze){ke[ze+0]=mi(V,we),ke[ze+1]=ia(V,re,we),ke[ze+2]=ji(V,re)}function Bs(V,re,we,ke,ze){ke[ze+0]=ji(V,re),ke[ze+1]=ia(V,re,we),ke[ze+2]=mi(V,we)}function Ws(V,re,we,ke,ze){var ct=ia(V,re,we);re=ct<<3&224|ji(V,re)>>3,ke[ze+0]=248&mi(V,we)|ct>>5,ke[ze+1]=re}function qs(V,re,we,ke,ze){var ct=240&ji(V,re)|15;ke[ze+0]=240&mi(V,we)|ia(V,re,we)>>4,ke[ze+1]=ct}function Zo(V,re,we,ke,ze){ke[ze+0]=255,zn(V,re,we,ke,ze+1)}function Us(V,re,we,ke,ze){Bs(V,re,we,ke,ze),ke[ze+3]=255}function So(V,re,we,ke,ze){zn(V,re,we,ke,ze),ke[ze+3]=255}function su(V,re){return 0>V?0:V>re?re:V}function ou(V,re,we){H[V]=function(ke,ze,ct,dt,gt,Ct,ft,nn,Bn){for(var Mn=nn+(-2&Bn)*we;nn!=Mn;)re(ke[ze+0],ct[dt+0],gt[Ct+0],ft,nn),re(ke[ze+1],ct[dt+0],gt[Ct+0],ft,nn+we),ze+=2,++dt,++Ct,nn+=2*we;1&Bn&&re(ke[ze+0],ct[dt+0],gt[Ct+0],ft,nn)}}function Kf(V,re,we){return we==0?V==0?re==0?6:5:re==0?4:0:we}function Vc(V,re,we,ke,ze){switch(V>>>30){case 3:Ah(re,we,ke,ze,0);break;case 2:id(re,we,ke,ze);break;case 1:el(re,we,ke,ze)}}function Wf(V,re){var we,ke,ze=re.M,ct=re.Nb,dt=V.oc,gt=V.pc+40,Ct=V.oc,ft=V.pc+584,nn=V.oc,Bn=V.pc+600;for(we=0;16>we;++we)dt[gt+32*we-1]=129;for(we=0;8>we;++we)Ct[ft+32*we-1]=129,nn[Bn+32*we-1]=129;for(0<ze?dt[gt-1-32]=Ct[ft-1-32]=nn[Bn-1-32]=129:(i(dt,gt-32-1,127,21),i(Ct,ft-32-1,127,9),i(nn,Bn-32-1,127,9)),ke=0;ke<V.za;++ke){var Mn=re.ya[re.aa+ke];if(0<ke){for(we=-1;16>we;++we)r(dt,gt+32*we-4,dt,gt+32*we+12,4);for(we=-1;8>we;++we)r(Ct,ft+32*we-4,Ct,ft+32*we+4,4),r(nn,Bn+32*we-4,nn,Bn+32*we+4,4)}var An=V.Gd,hr=V.Hd+ke,Qn=Mn.ad,ln=Mn.Hc;if(0<ze&&(r(dt,gt-32,An[hr].y,0,16),r(Ct,ft-32,An[hr].f,0,8),r(nn,Bn-32,An[hr].ea,0,8)),Mn.Za){var dn=dt,sr=gt-32+16;for(0<ze&&(ke>=V.za-1?i(dn,sr,An[hr].y[15],4):r(dn,sr,An[hr+1].y,0,4)),we=0;4>we;we++)dn[sr+128+we]=dn[sr+256+we]=dn[sr+384+we]=dn[sr+0+we];for(we=0;16>we;++we,ln<<=2)dn=dt,sr=gt+SA[we],Ku[Mn.Ob[we]](dn,sr),Vc(ln,Qn,16*+we,dn,sr)}else if(dn=Kf(ke,ze,Mn.Ob[0]),cd[dn](dt,gt),ln!=0)for(we=0;16>we;++we,ln<<=2)Vc(ln,Qn,16*+we,dt,gt+SA[we]);for(we=Mn.Gc,dn=Kf(ke,ze,Mn.Dd),Qc[dn](Ct,ft),Qc[dn](nn,Bn),ln=Qn,dn=Ct,sr=ft,255&(Mn=we>>0)&&(170&Mn?zs(ln,256,dn,sr):ao(ln,256,dn,sr)),Mn=nn,ln=Bn,255&(we>>=8)&&(170&we?zs(Qn,320,Mn,ln):ao(Qn,320,Mn,ln)),ze<V.Ub-1&&(r(An[hr].y,0,dt,gt+480,16),r(An[hr].f,0,Ct,ft+224,8),r(An[hr].ea,0,nn,Bn+224,8)),we=8*ct*V.B,An=V.sa,hr=V.ta+16*ke+16*ct*V.R,Qn=V.qa,Mn=V.ra+8*ke+we,ln=V.Ha,dn=V.Ia+8*ke+we,we=0;16>we;++we)r(An,hr+we*V.R,dt,gt+32*we,16);for(we=0;8>we;++we)r(Qn,Mn+we*V.B,Ct,ft+32*we,8),r(ln,dn+we*V.B,nn,Bn+32*we,8)}}function pA(V,re,we,ke,ze,ct,dt,gt,Ct){var ft=[0],nn=[0],Bn=0,Mn=Ct!=null?Ct.kd:0,An=Ct??new ch;if(V==null||12>we)return 7;An.data=V,An.w=re,An.ha=we,re=[re],we=[we],An.gb=[An.gb];e:{var hr=re,Qn=we,ln=An.gb;if(e(V!=null),e(Qn!=null),e(ln!=null),ln[0]=0,12<=Qn[0]&&!n(V,hr[0],"RIFF")){if(n(V,hr[0]+8,"WEBP")){ln=3;break e}var dn=Pe(V,hr[0]+4);if(12>dn||4294967286<dn){ln=3;break e}if(Mn&&dn>Qn[0]-8){ln=7;break e}ln[0]=dn,hr[0]+=12,Qn[0]-=12}ln=0}if(ln!=0)return ln;for(dn=0<An.gb[0],we=we[0];;){e:{var sr=V;Qn=re,ln=we;var fr=ft,ur=nn,Zr=hr=[0];if((Gr=Bn=[Bn])[0]=0,8>ln[0])ln=7;else{if(!n(sr,Qn[0],"VP8X")){if(Pe(sr,Qn[0]+4)!=10){ln=3;break e}if(18>ln[0]){ln=7;break e}var Er=Pe(sr,Qn[0]+8),yi=1+Ve(sr,Qn[0]+12);if(2147483648<=yi*(sr=1+Ve(sr,Qn[0]+15))){ln=3;break e}Zr!=null&&(Zr[0]=Er),fr!=null&&(fr[0]=yi),ur!=null&&(ur[0]=sr),Qn[0]+=18,ln[0]-=18,Gr[0]=1}ln=0}}if(Bn=Bn[0],hr=hr[0],ln!=0)return ln;if(Qn=!!(2&hr),!dn&&Bn)return 3;if(ct!=null&&(ct[0]=!!(16&hr)),dt!=null&&(dt[0]=Qn),gt!=null&&(gt[0]=0),dt=ft[0],hr=nn[0],Bn&&Qn&&Ct==null){ln=0;break}if(4>we){ln=7;break}if(dn&&Bn||!dn&&!Bn&&!n(V,re[0],"ALPH")){we=[we],An.na=[An.na],An.P=[An.P],An.Sa=[An.Sa];e:{Er=V,ln=re,dn=we;var Gr=An.gb;fr=An.na,ur=An.P,Zr=An.Sa,yi=22,e(Er!=null),e(dn!=null),sr=ln[0];var Wa=dn[0];for(e(fr!=null),e(Zr!=null),fr[0]=null,ur[0]=null,Zr[0]=0;;){if(ln[0]=sr,dn[0]=Wa,8>Wa){ln=7;break e}var as=Pe(Er,sr+4);if(4294967286<as){ln=3;break e}var Ea=8+as+1&-2;if(yi+=Ea,0<Gr&&yi>Gr){ln=3;break e}if(!n(Er,sr,"VP8 ")||!n(Er,sr,"VP8L")){ln=0;break e}if(Wa[0]<Ea){ln=7;break e}n(Er,sr,"ALPH")||(fr[0]=Er,ur[0]=sr+8,Zr[0]=as),sr+=Ea,Wa-=Ea}}if(we=we[0],An.na=An.na[0],An.P=An.P[0],An.Sa=An.Sa[0],ln!=0)break}we=[we],An.Ja=[An.Ja],An.xa=[An.xa];e:if(Gr=V,ln=re,dn=we,fr=An.gb[0],ur=An.Ja,Zr=An.xa,Er=ln[0],sr=!n(Gr,Er,"VP8 "),yi=!n(Gr,Er,"VP8L"),e(Gr!=null),e(dn!=null),e(ur!=null),e(Zr!=null),8>dn[0])ln=7;else{if(sr||yi){if(Gr=Pe(Gr,Er+4),12<=fr&&Gr>fr-12){ln=3;break e}if(Mn&&Gr>dn[0]-8){ln=7;break e}ur[0]=Gr,ln[0]+=8,dn[0]-=8,Zr[0]=yi}else Zr[0]=5<=dn[0]&&Gr[Er+0]==47&&!(Gr[Er+4]>>5),ur[0]=dn[0];ln=0}if(we=we[0],An.Ja=An.Ja[0],An.xa=An.xa[0],re=re[0],ln!=0)break;if(4294967286<An.Ja)return 3;if(gt==null||Qn||(gt[0]=An.xa?2:1),dt=[dt],hr=[hr],An.xa){if(5>we){ln=7;break}gt=dt,Mn=hr,Qn=ct,V==null||5>we?V=0:5<=we&&V[re+0]==47&&!(V[re+4]>>5)?(dn=[0],Gr=[0],fr=[0],he(ur=new se,V,re,we),Rr(ur,dn,Gr,fr)?(gt!=null&&(gt[0]=dn[0]),Mn!=null&&(Mn[0]=Gr[0]),Qn!=null&&(Qn[0]=fr[0]),V=1):V=0):V=0}else{if(10>we){ln=7;break}gt=hr,V==null||10>we||!Uf(V,re+3,we-3)?V=0:(Mn=V[re+0]|V[re+1]<<8|V[re+2]<<16,Qn=16383&(V[re+7]<<8|V[re+6]),V=16383&(V[re+9]<<8|V[re+8]),1&Mn||3<(Mn>>1&7)||!(Mn>>4&1)||Mn>>5>=An.Ja||!Qn||!V?V=0:(dt&&(dt[0]=Qn),gt&&(gt[0]=V),V=1))}if(!V||(dt=dt[0],hr=hr[0],Bn&&(ft[0]!=dt||nn[0]!=hr)))return 3;Ct!=null&&(Ct[0]=An,Ct.offset=re-Ct.w,e(4294967286>re-Ct.w),e(Ct.offset==Ct.ha-we));break}return ln==0||ln==7&&Bn&&Ct==null?(ct!=null&&(ct[0]|=An.na!=null&&0<An.na.length),ke!=null&&(ke[0]=dt),ze!=null&&(ze[0]=hr),0):ln}function fh(V,re,we){var ke=re.width,ze=re.height,ct=0,dt=0,gt=ke,Ct=ze;if(re.Da=V!=null&&0<V.Da,re.Da&&(gt=V.cd,Ct=V.bd,ct=V.v,dt=V.j,11>we||(ct&=-2,dt&=-2),0>ct||0>dt||0>=gt||0>=Ct||ct+gt>ke||dt+Ct>ze))return 0;if(re.v=ct,re.j=dt,re.va=ct+gt,re.o=dt+Ct,re.U=gt,re.T=Ct,re.da=V!=null&&0<V.da,re.da){if(!Ye(gt,Ct,we=[V.ib],ct=[V.hb]))return 0;re.ib=we[0],re.hb=ct[0]}return re.ob=V!=null&&V.ob,re.Kb=V==null||!V.Sd,re.da&&(re.ob=re.ib<3*ke/4&&re.hb<3*ze/4,re.Kb=0),1}function Om(V){if(V==null)return 2;if(11>V.S){var re=V.f.RGBA;re.fb+=(V.height-1)*re.A,re.A=-re.A}else re=V.f.kb,V=V.height,re.O+=(V-1)*re.fa,re.fa=-re.fa,re.N+=(V-1>>1)*re.Ab,re.Ab=-re.Ab,re.W+=(V-1>>1)*re.Db,re.Db=-re.Db,re.F!=null&&(re.J+=(V-1)*re.lb,re.lb=-re.lb);return 0}function qf(V,re,we,ke){if(ke==null||0>=V||0>=re)return 2;if(we!=null){if(we.Da){var ze=we.cd,ct=we.bd,dt=-2&we.v,gt=-2&we.j;if(0>dt||0>gt||0>=ze||0>=ct||dt+ze>V||gt+ct>re)return 2;V=ze,re=ct}if(we.da){if(!Ye(V,re,ze=[we.ib],ct=[we.hb]))return 2;V=ze[0],re=ct[0]}}ke.width=V,ke.height=re;e:{var Ct=ke.width,ft=ke.height;if(V=ke.S,0>=Ct||0>=ft||!(V>=ld&&13>V))V=2;else{if(0>=ke.Rd&&ke.sd==null){dt=ct=ze=re=0;var nn=(gt=Ct*zy[V])*ft;if(11>V||(ct=(ft+1)/2*(re=(Ct+1)/2),V==12&&(dt=(ze=Ct)*ft)),(ft=s(nn+2*ct+dt))==null){V=1;break e}ke.sd=ft,11>V?((Ct=ke.f.RGBA).eb=ft,Ct.fb=0,Ct.A=gt,Ct.size=nn):((Ct=ke.f.kb).y=ft,Ct.O=0,Ct.fa=gt,Ct.Fd=nn,Ct.f=ft,Ct.N=0+nn,Ct.Ab=re,Ct.Cd=ct,Ct.ea=ft,Ct.W=0+nn+ct,Ct.Db=re,Ct.Ed=ct,V==12&&(Ct.F=ft,Ct.J=0+nn+2*ct),Ct.Tc=dt,Ct.lb=ze)}if(re=1,ze=ke.S,ct=ke.width,dt=ke.height,ze>=ld&&13>ze)if(11>ze)V=ke.f.RGBA,re&=(gt=Math.abs(V.A))*(dt-1)+ct<=V.size,re&=gt>=ct*zy[ze],re&=V.eb!=null;else{V=ke.f.kb,gt=(ct+1)/2,nn=(dt+1)/2,Ct=Math.abs(V.fa),ft=Math.abs(V.Ab);var Bn=Math.abs(V.Db),Mn=Math.abs(V.lb),An=Mn*(dt-1)+ct;re&=Ct*(dt-1)+ct<=V.Fd,re&=ft*(nn-1)+gt<=V.Cd,re=(re&=Bn*(nn-1)+gt<=V.Ed)&Ct>=ct&ft>=gt&Bn>=gt,re&=V.y!=null,re&=V.f!=null,re&=V.ea!=null,ze==12&&(re&=Mn>=ct,re&=An<=V.Tc,re&=V.F!=null)}else re=0;V=re?0:2}}return V!=0||we!=null&&we.fd&&(V=Om(ke)),V}var lu=64,Gd=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],AA=24,mA=32,Dm=8,uu=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Et("Predictor0","PredictorAdd0"),H.Predictor0=function(){return 4278190080},H.Predictor1=function(V){return V},H.Predictor2=function(V,re,we){return re[we+0]},H.Predictor3=function(V,re,we){return re[we+1]},H.Predictor4=function(V,re,we){return re[we-1]},H.Predictor5=function(V,re,we){return _t(_t(V,re[we+1]),re[we+0])},H.Predictor6=function(V,re,we){return _t(V,re[we-1])},H.Predictor7=function(V,re,we){return _t(V,re[we+0])},H.Predictor8=function(V,re,we){return _t(re[we-1],re[we+0])},H.Predictor9=function(V,re,we){return _t(re[we+0],re[we+1])},H.Predictor10=function(V,re,we){return _t(_t(V,re[we-1]),_t(re[we+0],re[we+1]))},H.Predictor11=function(V,re,we){var ke=re[we+0];return 0>=Nt(ke>>24&255,V>>24&255,(re=re[we-1])>>24&255)+Nt(ke>>16&255,V>>16&255,re>>16&255)+Nt(ke>>8&255,V>>8&255,re>>8&255)+Nt(255&ke,255&V,255&re)?ke:V},H.Predictor12=function(V,re,we){var ke=re[we+0];return(qt((V>>24&255)+(ke>>24&255)-((re=re[we-1])>>24&255))<<24|qt((V>>16&255)+(ke>>16&255)-(re>>16&255))<<16|qt((V>>8&255)+(ke>>8&255)-(re>>8&255))<<8|qt((255&V)+(255&ke)-(255&re)))>>>0},H.Predictor13=function(V,re,we){var ke=re[we-1];return(tn((V=_t(V,re[we+0]))>>24&255,ke>>24&255)<<24|tn(V>>16&255,ke>>16&255)<<16|tn(V>>8&255,ke>>8&255)<<8|tn(V>>0&255,ke>>0&255))>>>0};var Yf=H.PredictorAdd0;H.PredictorAdd1=wt,Et("Predictor2","PredictorAdd2"),Et("Predictor3","PredictorAdd3"),Et("Predictor4","PredictorAdd4"),Et("Predictor5","PredictorAdd5"),Et("Predictor6","PredictorAdd6"),Et("Predictor7","PredictorAdd7"),Et("Predictor8","PredictorAdd8"),Et("Predictor9","PredictorAdd9"),Et("Predictor10","PredictorAdd10"),Et("Predictor11","PredictorAdd11"),Et("Predictor12","PredictorAdd12"),Et("Predictor13","PredictorAdd13");var Nm=H.PredictorAdd2;It("ColorIndexInverseTransform","MapARGB","32b",function(V){return V>>8&255},function(V){return V}),It("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(V){return V},function(V){return V>>8&255});var Xf,ju=H.ColorIndexInverseTransform,gA=H.MapARGB,Um=H.VP8LColorIndexInverseTransformAlpha,vA=H.MapAlpha,ph=H.VP8LPredictorsAdd=[];ph.length=16,(H.VP8LPredictors=[]).length=16,(H.VP8LPredictorsAdd_C=[]).length=16,(H.VP8LPredictors_C=[]).length=16;var Jo,Mu,hc,dc,Gu,Hc,Ql,Ah,id,zs,el,ao,ad,Zf,sd,Iu,Kd,jl,mh,Ka,bs,Ms,To,gh,Wd,Gl,Jf,zm,$m=s(511),Vm=s(2041),_0=s(225),y0=s(767),w1=0,qd=Vm,od=_0,cu=y0,Kl=$m,ld=0,Wl=1,ep=2,_A=3,tp=4,Hm=5,ud=6,Zi=7,Qm=8,b0=9,yA=10,Ly=[2,3,7],x1=[3,3,11],C1=[280,256,256,256,40],w0=[0,1,1,1,0],Py=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],jm=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],bA=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],E1=8,Gm=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Yd=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],np=null,S1=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],X2=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Fy=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ky=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Z2=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],T1=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],B1=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],cd=[],Ku=[],Qc=[],Ry=1,x0=2,vh=[],tl=[];Wn("UpsampleRgbLinePair",zn,3),Wn("UpsampleBgrLinePair",Bs,3),Wn("UpsampleRgbaLinePair",So,4),Wn("UpsampleBgraLinePair",Us,4),Wn("UpsampleArgbLinePair",Zo,4),Wn("UpsampleRgba4444LinePair",qs,2),Wn("UpsampleRgb565LinePair",Ws,2);var wA=H.UpsampleRgbLinePair,M1=H.UpsampleBgrLinePair,Xd=H.UpsampleRgbaLinePair,I1=H.UpsampleBgraLinePair,Km=H.UpsampleArgbLinePair,C0=H.UpsampleRgba4444LinePair,Oy=H.UpsampleRgb565LinePair,xA=16,rp=1<<xA-1,CA=-227,Wm=482,EA=6,J2=(256<<EA)-1,Dy=0,Ny=s(256),Uy=s(256),E0=s(256),qm=s(256),S0=s(Wm-CA),L1=s(Wm-CA);ou("YuvToRgbRow",zn,3),ou("YuvToBgrRow",Bs,3),ou("YuvToRgbaRow",So,4),ou("YuvToBgraRow",Us,4),ou("YuvToArgbRow",Zo,4),ou("YuvToRgba4444Row",qs,2),ou("YuvToRgb565Row",Ws,2);var SA=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ip=[0,2,8],Ym=[8,7,6,4,4,2,2,2,1,1,1,1],Xm=1;this.WebPDecodeRGBA=function(V,re,we,ke,ze){var ct=Wl,dt=new nd,gt=new gr;dt.ba=gt,gt.S=ct,gt.width=[gt.width],gt.height=[gt.height];var Ct=gt.width,ft=gt.height,nn=new tr;if(nn==null||V==null)var Bn=2;else e(nn!=null),Bn=pA(V,re,we,nn.width,nn.height,nn.Pd,nn.Qd,nn.format,null);if(Bn!=0?Ct=0:(Ct!=null&&(Ct[0]=nn.width[0]),ft!=null&&(ft[0]=nn.height[0]),Ct=1),Ct){gt.width=gt.width[0],gt.height=gt.height[0],ke!=null&&(ke[0]=gt.width),ze!=null&&(ze[0]=gt.height);e:{if(ke=new $d,(ze=new ch).data=V,ze.w=re,ze.ha=we,ze.kd=1,re=[0],e(ze!=null),((V=pA(ze.data,ze.w,ze.ha,null,null,null,re,null,ze))==0||V==7)&&re[0]&&(V=4),(re=V)==0){if(e(dt!=null),ke.data=ze.data,ke.w=ze.w+ze.offset,ke.ha=ze.ha-ze.offset,ke.put=zi,ke.ac=ai,ke.bc=ma,ke.ma=dt,ze.xa){if((V=Mr())==null){dt=1;break e}if(function(Mn,An){var hr=[0],Qn=[0],ln=[0];t:for(;;){if(Mn==null)return 0;if(An==null)return Mn.a=2,0;if(Mn.l=An,Mn.a=0,he(Mn.m,An.data,An.w,An.ha),!Rr(Mn.m,hr,Qn,ln)){Mn.a=3;break t}if(Mn.xb=x0,An.width=hr[0],An.height=Qn[0],!ti(hr[0],Qn[0],1,Mn,null))break t;return 1}return e(Mn.a!=0),0}(V,ke)){if(ke=(re=qf(ke.width,ke.height,dt.Oa,dt.ba))==0){t:{ke=V;n:for(;;){if(ke==null){ke=0;break t}if(e(ke.s.yc!=null),e(ke.s.Ya!=null),e(0<ke.s.Wb),e((we=ke.l)!=null),e((ze=we.ma)!=null),ke.xb!=0){if(ke.ca=ze.ba,ke.tb=ze.tb,e(ke.ca!=null),!fh(ze.Oa,we,_A)){ke.a=2;break n}if(!Tn(ke,we.width)||we.da)break n;if((we.da||St(ke.ca.S))&&wn(),11>ke.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ke.ca.f.kb.F!=null&&wn()),ke.Pb&&0<ke.s.ua&&ke.s.vb.X==null&&!Ge(ke.s.vb,ke.s.Wa.Xa)){ke.a=1;break n}ke.xb=0}if(!er(ke,ke.V,ke.Ba,ke.c,ke.i,we.o,Ht))break n;ze.Dc=ke.Ma,ke=1;break t}e(ke.a!=0),ke=0}ke=!ke}ke&&(re=V.a)}else re=V.a}else{if((V=new Vd)==null){dt=1;break e}if(V.Fa=ze.na,V.P=ze.P,V.qc=ze.Sa,cA(V,ke)){if((re=qf(ke.width,ke.height,dt.Oa,dt.ba))==0){if(V.Aa=0,we=dt.Oa,e((ze=V)!=null),we!=null){if(0<(Ct=0>(Ct=we.Md)?0:100<Ct?255:255*Ct/100)){for(ft=nn=0;4>ft;++ft)12>(Bn=ze.pb[ft]).lc&&(Bn.ia=Ct*Ym[0>Bn.lc?0:Bn.lc]>>3),nn|=Bn.ia;nn&&(alert("todo:VP8InitRandom"),ze.ia=1)}ze.Ga=we.Id,100<ze.Ga?ze.Ga=100:0>ze.Ga&&(ze.Ga=0)}Ul(V,ke)||(re=V.a)}}else re=V.a}re==0&&dt.Oa!=null&&dt.Oa.fd&&(re=Om(dt.ba))}dt=re}ct=dt!=0?null:11>ct?gt.f.RGBA.eb:gt.f.kb.y}else ct=null;return ct};var zy=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(H,K){for(var ie="",q=0;q<4;q++)ie+=String.fromCharCode(H[K++]);return ie}function A(H,K){return(H[K+0]<<0|H[K+1]<<8|H[K+2]<<16)>>>0}function m(H,K){return(H[K+0]<<0|H[K+1]<<8|H[K+2]<<16|H[K+3]<<24)>>>0}new a;var _=[0],y=[0],T=[],E=new a,P=t,I=function(H,K){var ie={},q=0,W=!1,ee=0,ue=0;if(ie.frames=[],!function(oe,_e,Ue,Le){for(var be=0;be<Le;be++)if(oe[_e+be]!=Ue.charCodeAt(be))return!0;return!1}(H,K,"RIFF",4)){var J,te;for(m(H,K+=4),K+=8;K<H.length;){var ne=f(H,K),he=m(H,K+=4);K+=4;var ce=he+(1&he);switch(ne){case"VP8 ":case"VP8L":ie.frames[q]===void 0&&(ie.frames[q]={}),(se=ie.frames[q]).src_off=W?ue:K-8,se.src_size=ee+he+8,q++,W&&(W=!1,ee=0,ue=0);break;case"VP8X":(se=ie.header={}).feature_flags=H[K];var ye=K+4;se.canvas_width=1+A(H,ye),ye+=3,se.canvas_height=1+A(H,ye),ye+=3;break;case"ALPH":W=!0,ee=ce+8,ue=K-8;break;case"ANIM":(se=ie.header).bgcolor=m(H,K),ye=K+4,se.loop_count=(J=H)[(te=ye)+0]<<0|J[te+1]<<8,ye+=2;break;case"ANMF":var Ee,se;(se=ie.frames[q]={}).offset_x=2*A(H,K),K+=3,se.offset_y=2*A(H,K),K+=3,se.width=1+A(H,K),K+=3,se.height=1+A(H,K),K+=3,se.duration=A(H,K),K+=3,Ee=H[K++],se.dispose=1&Ee,se.blend=Ee>>1&1}ne!="ANMF"&&(K+=ce)}return ie}}(P,0);I.response=P,I.rgbaoutput=!0,I.dataurl=!1;var F=I.header?I.header:null,R=I.frames?I.frames:null;if(F){F.loop_counter=F.loop_count,_=[F.canvas_height],y=[F.canvas_width];for(var N=0;N<R.length&&R[N].blend!=0;N++);}var z=R[0],Q=E.WebPDecodeRGBA(P,z.src_off,z.src_size,y,_);z.rgba=Q,z.imgwidth=y[0],z.imgheight=_[0];for(var j=0;j<y[0]*_[0]*4;j++)T[j]=Q[j];return this.width=y,this.height=_,this.data=T,this}(function(t){var e=function(){return typeof iO=="function"},n=function(_,y,T,E){var P=4,I=l;switch(E){case t.image_compression.FAST:P=1,I=s;break;case t.image_compression.MEDIUM:P=6,I=c;break;case t.image_compression.SLOW:P=9,I=a}_=r(_,y,T,I);var F=iO(_,{level:P});return t.__addimage__.arrayBufferToBinaryString(F)},r=function(_,y,T,E){for(var P,I,F,R=_.length/y,N=new Uint8Array(_.length+R),z=A(),Q=0;Q<R;Q+=1){if(F=Q*y,P=_.subarray(F,F+y),E)N.set(E(P,T,I),F+Q);else{for(var j,H=z.length,K=[];j<H;j+=1)K[j]=z[j](P,T,I);var ie=m(K.concat());N.set(K[ie],F+Q)}I=P}return N},i=function(_){var y=Array.apply([],_);return y.unshift(0),y},s=function(_,y){var T,E=[],P=_.length;E[0]=1;for(var I=0;I<P;I+=1)T=_[I-y]||0,E[I+1]=_[I]-T+256&255;return E},l=function(_,y,T){var E,P=[],I=_.length;P[0]=2;for(var F=0;F<I;F+=1)E=T&&T[F]||0,P[F+1]=_[F]-E+256&255;return P},c=function(_,y,T){var E,P,I=[],F=_.length;I[0]=3;for(var R=0;R<F;R+=1)E=_[R-y]||0,P=T&&T[R]||0,I[R+1]=_[R]+256-(E+P>>>1)&255;return I},a=function(_,y,T){var E,P,I,F,R=[],N=_.length;R[0]=4;for(var z=0;z<N;z+=1)E=_[z-y]||0,P=T&&T[z]||0,I=T&&T[z-y]||0,F=f(E,P,I),R[z+1]=_[z]-F+256&255;return R},f=function(_,y,T){if(_===y&&y===T)return _;var E=Math.abs(y-T),P=Math.abs(_-T),I=Math.abs(_+y-T-T);return E<=P&&E<=I?_:P<=I?y:T},A=function(){return[i,s,l,c,a]},m=function(_){var y=_.map(function(T){return T.reduce(function(E,P){return E+Math.abs(P)},0)});return y.indexOf(Math.min.apply(null,y))};t.processPNG=function(_,y,T,E){var P,I,F,R,N,z,Q,j,H,K,ie,q,W,ee,ue,J=this.decode.FLATE_DECODE,te="";if(this.__addimage__.isArrayBuffer(_)&&(_=new Uint8Array(_)),this.__addimage__.isArrayBufferView(_)){if(_=(F=new ipt(_)).imgData,I=F.bits,P=F.colorSpace,N=F.colors,[4,6].indexOf(F.colorType)!==-1){if(F.bits===8){H=(j=F.pixelBitlength==32?new Uint32Array(F.decodePixels().buffer):F.pixelBitlength==16?new Uint16Array(F.decodePixels().buffer):new Uint8Array(F.decodePixels().buffer)).length,ie=new Uint8Array(H*F.colors),K=new Uint8Array(H);var ne,he=F.pixelBitlength-F.bits;for(ee=0,ue=0;ee<H;ee++){for(W=j[ee],ne=0;ne<he;)ie[ue++]=W>>>ne&255,ne+=F.bits;K[ee]=W>>>ne&255}}if(F.bits===16){H=(j=new Uint32Array(F.decodePixels().buffer)).length,ie=new Uint8Array(H*(32/F.pixelBitlength)*F.colors),K=new Uint8Array(H*(32/F.pixelBitlength)),q=F.colors>1,ee=0,ue=0;for(var ce=0;ee<H;)W=j[ee++],ie[ue++]=W>>>0&255,q&&(ie[ue++]=W>>>16&255,W=j[ee++],ie[ue++]=W>>>0&255),K[ce++]=W>>>16&255;I=8}E!==t.image_compression.NONE&&e()?(_=n(ie,F.width*F.colors,F.colors,E),Q=n(K,F.width,1,E)):(_=ie,Q=K,J=void 0)}if(F.colorType===3&&(P=this.color_spaces.INDEXED,z=F.palette,F.transparency.indexed)){var ye=F.transparency.indexed,Ee=0;for(ee=0,H=ye.length;ee<H;++ee)Ee+=ye[ee];if((Ee/=255)===H-1&&ye.indexOf(0)!==-1)R=[ye.indexOf(0)];else if(Ee!==H){for(j=F.decodePixels(),K=new Uint8Array(j.length),ee=0,H=j.length;ee<H;ee++)K[ee]=ye[j[ee]];Q=n(K,F.width,1)}}var se=function(oe){var _e;switch(oe){case t.image_compression.FAST:_e=11;break;case t.image_compression.MEDIUM:_e=13;break;case t.image_compression.SLOW:_e=14;break;default:_e=12}return _e}(E);return J===this.decode.FLATE_DECODE&&(te="/Predictor "+se+" "),te+="/Colors "+N+" /BitsPerComponent "+I+" /Columns "+F.width,(this.__addimage__.isArrayBuffer(_)||this.__addimage__.isArrayBufferView(_))&&(_=this.__addimage__.arrayBufferToBinaryString(_)),(Q&&this.__addimage__.isArrayBuffer(Q)||this.__addimage__.isArrayBufferView(Q))&&(Q=this.__addimage__.arrayBufferToBinaryString(Q)),{alias:T,data:_,index:y,filter:J,decodeParameters:te,transparency:R,palette:z,sMask:Q,predictor:se,width:F.width,height:F.height,bitsPerComponent:I,colorSpace:P}}}})(Aa.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new apt(e),l=s.width,c=s.height,a=[];s.decodeAndBlitFrameRGBA(0,a);var f={data:a,width:l,height:c},A=new CP(100).encode(f,100);return t.processJPEG.call(this,A,n,r,i)},t.processGIF87A=t.processGIF89A}(Aa.API),Ep.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ep.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){oo.log("bit decode error:"+n)}},Ep.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+8*i*4,c=0;c<8&&8*i+c<this.width;c++){var a=this.palette[s>>7-c&1];this.data[l+4*c]=a.blue,this.data[l+4*c+1]=a.green,this.data[l+4*c+2]=a.red,this.data[l+4*c+3]=255}n!==0&&(this.pos+=4-n)}},Ep.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+2*i*4,c=s>>4,a=15&s,f=this.palette[c];if(this.data[l]=f.blue,this.data[l+1]=f.green,this.data[l+2]=f.red,this.data[l+3]=255,2*i+1>=this.width)break;f=this.palette[a],this.data[l+4]=f.blue,this.data[l+4+1]=f.green,this.data[l+4+2]=f.red,this.data[l+4+3]=255}e!==0&&(this.pos+=4-e)}},Ep.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var l=this.palette[i];this.data[s]=l.red,this.data[s+1]=l.green,this.data[s+2]=l.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Ep.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&e)/e*255|0,c=(s>>5&e)/e*255|0,a=(s>>10&e)/e*255|0,f=s>>15?255:0,A=r*this.width*4+4*i;this.data[A]=a,this.data[A+1]=c,this.data[A+2]=l,this.data[A+3]=f}this.pos+=t}},Ep.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(l&e)/e*255|0,a=(l>>5&n)/n*255|0,f=(l>>11)/e*255|0,A=i*this.width*4+4*s;this.data[A]=f,this.data[A+1]=a,this.data[A+2]=c,this.data[A+3]=255}this.pos+=t}},Ep.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*n;this.data[l]=s,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=255}this.pos+=this.width%4}},Ep.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*n;this.data[c]=s,this.data[c+1]=i,this.data[c+2]=r,this.data[c+3]=l}},Ep.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new Ep(e,!1),l=s.width,c=s.height,a={data:s.getData(),width:l,height:c},f=new CP(100).encode(a,100);return t.processJPEG.call(this,f,n,r,i)}}(Aa.API),vY.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new vY(e),l=s.width,c=s.height,a={data:s.getData(),width:l,height:c},f=new CP(100).encode(a,100);return t.processJPEG.call(this,f,n,r,i)}}(Aa.API),Aa.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),l=new Uint8Array(i/4),c=0,a=0,f=0;f<i;f+=4){var A=r[f],m=r[f+1],_=r[f+2],y=r[f+3];s[c++]=A,s[c++]=m,s[c++]=_,l[a++]=y}var T=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:T,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Aa.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Mb=Aa.API,p3=Mb.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),l=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:i.metadata.Unicode.widths,a=c.fof?c.fof:1,f=e.kerning?e.kerning:i.metadata.Unicode.kerning,A=f.fof?f.fof:1,m=e.doKerning!==!1,_=0,y=t.length,T=0,E=c[0]||a,P=[];for(n=0;n<y;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?P.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+l*(1e3/s)||0)/1e3):(_=m&&vs(f[r])==="object"&&!isNaN(parseInt(f[r][T],10))?f[r][T]/A:0,P.push((c[r]||E)/a+_)),T=r;return P},pY=Mb.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Mb.processArabic&&(t=Mb.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:p3.apply(this,arguments).reduce(function(s,l){return s+l},0)},AY=function(t,e,n,r){for(var i=[],s=0,l=t.length,c=0;s!==l&&c+e[s]<n;)c+=e[s],s++;i.push(t.slice(0,s));var a=s;for(c=0;s!==l;)c+e[s]>r&&(i.push(t.slice(a,s)),c=0,a=s),c+=e[s],s++;return a!==s&&i.push(t.slice(a,s)),i},mY=function(t,e,n){n||(n={});var r,i,s,l,c,a,f,A=[],m=[A],_=n.textIndent||0,y=0,T=0,E=t.split(" "),P=p3.apply(this,[" ",n])[0];if(a=n.lineIndent===-1?E[0].length+2:n.lineIndent||0){var I=Array(a).join(" "),F=[];E.map(function(N){(N=N.split(/\s*\n/)).length>1?F=F.concat(N.map(function(z,Q){return(Q&&z.length?`
`:"")+z})):F.push(N[0])}),E=F,a=pY.apply(this,[I,n])}for(s=0,l=E.length;s<l;s++){var R=0;if(r=E[s],a&&r[0]==`
`&&(r=r.substr(1),R=1),_+y+(T=(i=p3.apply(this,[r,n])).reduce(function(N,z){return N+z},0))>e||R){if(T>e){for(c=AY.apply(this,[r,i,e-(_+y),e]),A.push(c.shift()),A=[c.pop()];c.length;)m.push([c.shift()]);T=i.slice(r.length-(A[0]?A[0].length:0)).reduce(function(N,z){return N+z},0)}else A=[r];m.push(A),_=T+a,y=P}else A.push(r),_+=y+T,y=P}return f=a?function(N,z){return(z?I:"")+N.join(" ")}:function(N){return N.join(" ")},m.map(f)},Mb.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(A){if(A.widths&&A.kerning)return{widths:A.widths,kerning:A.kerning};var m=this.internal.getFont(A.fontName,A.fontStyle);return m.metadata.Unicode?{widths:m.metadata.Unicode.widths||{0:1},kerning:m.metadata.Unicode.kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var l=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var c,a,f=[];for(c=0,a=r.length;c<a;c++)f=f.concat(mY.apply(this,[r[c],l,s]));return f},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(m){return"0x"+parseInt(m,10).toString(16)},l=t.__fontmetrics__.compress=function(m){var _,y,T,E,P=["{"];for(var I in m){if(_=m[I],isNaN(parseInt(I,10))?y="'"+I+"'":(I=parseInt(I,10),y=(y=s(I).slice(2)).slice(0,-1)+r[y.slice(-1)]),typeof _=="number")_<0?(T=s(_).slice(3),E="-"):(T=s(_).slice(2),E=""),T=E+T.slice(0,-1)+r[T.slice(-1)];else{if(vs(_)!=="object")throw new Error("Don't know what to do with value type "+vs(_)+".");T=l(_)}P.push(y+T)}return P.push("}"),P.join("")},c=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var _,y,T,E,P={},I=1,F=P,R=[],N="",z="",Q=m.length-1,j=1;j<Q;j+=1)(E=m[j])=="'"?_?(T=_.join(""),_=void 0):_=[]:_?_.push(E):E=="{"?(R.push([F,T]),F={},T=void 0):E=="}"?((y=R.pop())[0][y[1]]=F,T=void 0,F=y[0]):E=="-"?I=-1:T===void 0?n.hasOwnProperty(E)?(N+=n[E],T=parseInt(N,16)*I,I=1,N=""):N+=E:n.hasOwnProperty(E)?(z+=n[E],F[T]=parseInt(z,16)*I,I=1,T=void 0,z=""):z+=E;return P},a={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:a,"Courier-Bold":a,"Courier-BoldOblique":a,"Courier-Oblique":a,Helvetica:a,"Helvetica-Bold":a,"Helvetica-BoldOblique":a,"Helvetica-Oblique":a,"Times-Roman":a,"Times-Bold":a,"Times-BoldItalic":a,"Times-Italic":a}},A={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var _=m.font,y=A.Unicode[_.postScriptName];y&&(_.metadata.Unicode={},_.metadata.Unicode.widths=y.widths,_.metadata.Unicode.kerning=y.kerning);var T=f.Unicode[_.postScriptName];T&&(_.metadata.Unicode.encoding=T,_.encoding=T.codePages[0])}])}(Aa.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(l,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(lC(c)),l.metadata=t.API.TTFFont.open(c),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(i,r)}}])}(Aa),function(t){function e(){return(oa.canvg?Promise.resolve(oa.canvg):Promise.resolve().then(()=>m3t)).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}Aa.API.addSvgAsImage=function(n,r,i,s,l,c,a,f){if(isNaN(r)||isNaN(i))throw oo.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(l))throw oo.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var A=document.createElement("canvas");A.width=s,A.height=l;var m=A.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,A.width,A.height);var _={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return e().then(function(T){return T.fromString(m,n,_)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(T){return T.render(_)}).then(function(){y.addImage(A.toDataURL("image/jpeg",1),r,i,s,l,a,f)})}}(),Aa.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},Aa.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(l),a=[],f=0,A=0,m=0;function _(T,E){var P,I=!1;for(P=0;P<T.length;P+=1)T[P]===E&&(I=!0);return I}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var y=c.length;for(m=0;m<y;m+=1)n[c[m]].value=n[c[m]].defaultValue,n[c[m]].explicitSet=!1}if(vs(t)==="object"){for(i in t)if(s=t[i],_(c,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&_(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(f=0;f<s.length;f+=1)if(r=!0,s[f].length===1&&typeof s[f][0]=="number")a.push(String(s[f]-1));else if(s[f].length>1){for(A=0;A<s[f].length;A+=1)typeof s[f][A]!="number"&&(r=!1);r===!0&&a.push([s[f][0]-1,s[f][1]-1].join(" "))}n[i].value="["+a.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var T,E=[];for(T in n)n[T].explicitSet===!0&&(n[T].type==="name"?E.push("/"+T+" /"+n[T].value):E.push("/"+T+" "+n[T].value));E.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+E.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),a=unescape(encodeURIComponent("</x:xmpmeta>")),f=s.length+l.length+c.length+i.length+a.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(i+s+l+c+a),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(Aa.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,l){for(var c,a=l.metadata.Unicode.widths,f=["","0","00","000","0000"],A=[""],m=0,_=s.length;m<_;++m){if(c=l.metadata.characterToGlyph(s.charCodeAt(m)),l.metadata.glyIdsUsed.push(c),l.metadata.toUnicode[c]=s.charCodeAt(m),a.indexOf(c)==-1&&(a.push(c),a.push([parseInt(l.metadata.widthOfGlyph(c),10)])),c=="0")return A.join("");c=c.toString(16),A.push(f[4-c.length],c)}return A.join("")},r=function(s){var l,c,a,f,A,m,_;for(A=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,a=[],m=0,_=(c=Object.keys(s).sort(function(y,T){return y-T})).length;m<_;m++)l=c[m],a.length>=100&&(A+=`
`+a.length+` beginbfchar
`+a.join(`
`)+`
endbfchar`,a=[]),s[l]!==void 0&&s[l]!==null&&typeof s[l].toString=="function"&&(f=("0000"+s[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),a.push("<"+l+"><"+f+">"));return a.length&&(A+=`
`+a.length+` beginbfchar
`+a.join(`
`)+`
endbfchar
`),A+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(l){var c=l.font,a=l.out,f=l.newObject,A=l.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="Identity-H"){for(var m=c.metadata.Unicode.widths,_=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),y="",T=0;T<_.length;T++)y+=String.fromCharCode(_[T]);var E=f();A({data:y,addLength1:!0,objectId:E}),a("endobj");var P=f();A({data:r(c.metadata.toUnicode),addLength1:!0,objectId:P}),a("endobj");var I=f();a("<<"),a("/Type /FontDescriptor"),a("/FontName /"+Jb(c.fontName)),a("/FontFile2 "+E+" 0 R"),a("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),a("/Flags "+c.metadata.flags),a("/StemV "+c.metadata.stemV),a("/ItalicAngle "+c.metadata.italicAngle),a("/Ascent "+c.metadata.ascender),a("/Descent "+c.metadata.decender),a("/CapHeight "+c.metadata.capHeight),a(">>"),a("endobj");var F=f();a("<<"),a("/Type /Font"),a("/BaseFont /"+Jb(c.fontName)),a("/FontDescriptor "+I+" 0 R"),a("/W "+t.API.PDFObject.convert(m)),a("/CIDToGIDMap /Identity"),a("/DW 1000"),a("/Subtype /CIDFontType2"),a("/CIDSystemInfo"),a("<<"),a("/Supplement 0"),a("/Registry (Adobe)"),a("/Ordering ("+c.encoding+")"),a(">>"),a(">>"),a("endobj"),c.objectNumber=f(),a("<<"),a("/Type /Font"),a("/Subtype /Type0"),a("/ToUnicode "+P+" 0 R"),a("/BaseFont /"+Jb(c.fontName)),a("/Encoding /"+c.encoding),a("/DescendantFonts ["+F+" 0 R]"),a(">>"),a("endobj"),c.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(l){var c=l.font,a=l.out,f=l.newObject,A=l.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var m=c.metadata.rawData,_="",y=0;y<m.length;y++)_+=String.fromCharCode(m[y]);var T=f();A({data:_,addLength1:!0,objectId:T}),a("endobj");var E=f();A({data:r(c.metadata.toUnicode),addLength1:!0,objectId:E}),a("endobj");var P=f();a("<<"),a("/Descent "+c.metadata.decender),a("/CapHeight "+c.metadata.capHeight),a("/StemV "+c.metadata.stemV),a("/Type /FontDescriptor"),a("/FontFile2 "+T+" 0 R"),a("/Flags 96"),a("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),a("/FontName /"+Jb(c.fontName)),a("/ItalicAngle "+c.metadata.italicAngle),a("/Ascent "+c.metadata.ascender),a(">>"),a("endobj"),c.objectNumber=f();for(var I=0;I<c.metadata.hmtx.widths.length;I++)c.metadata.hmtx.widths[I]=parseInt(c.metadata.hmtx.widths[I]*(1e3/c.metadata.head.unitsPerEm));a("<</Subtype/TrueType/Type/Font/ToUnicode "+E+" 0 R/BaseFont/"+Jb(c.fontName)+"/FontDescriptor "+P+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),a("endobj"),c.isAlreadyPutted=!0}})(s)}]);var i=function(s){var l,c=s.text||"",a=s.x,f=s.y,A=s.options||{},m=s.mutex||{},_=m.pdfEscape,y=m.activeFontKey,T=m.fonts,E=y,P="",I=0,F="",R=T[E].encoding;if(T[E].encoding!=="Identity-H")return{text:c,x:a,y:f,options:A,mutex:m};for(F=c,E=y,Array.isArray(c)&&(F=c[0]),I=0;I<F.length;I+=1)T[E].metadata.hasOwnProperty("cmap")&&(l=T[E].metadata.cmap.unicode.codeMap[F[I].charCodeAt(0)]),l||F[I].charCodeAt(0)<256&&T[E].metadata.hasOwnProperty("Unicode")?P+=F[I]:P+="";var N="";return parseInt(E.slice(1))<14||R==="WinAnsiEncoding"?N=_(P,E).split("").map(function(z){return z.charCodeAt(0).toString(16)}).join(""):R==="Identity-H"&&(N=n(P,T[E])),m.isHex=!0,{text:N,x:a,y:f,options:A,mutex:m}};e.events.push(["postProcessText",function(s){var l=s.text||"",c=[],a={text:l,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(l)){var f=0;for(f=0;f<l.length;f+=1)Array.isArray(l[f])&&l[f].length===3?c.push([i(Object.assign({},a,{text:l[f][0]})).text,l[f][1],l[f][2]]):c.push(i(Object.assign({},a,{text:l[f]})).text);s.text=c}else s.text=i(Object.assign({},a,{text:l})).text}])}(Aa),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Aa.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,l,c,a,f,A,m=e,_=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],T={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},E={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},P=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],I=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),F=!1,R=0;this.__bidiEngine__={};var N=function(q){var W=q.charCodeAt(),ee=W>>8,ue=E[ee];return ue!==void 0?m[256*ue+(255&W)]:ee===252||ee===253?"AL":I.test(ee)?"L":ee===8?"R":"N"},z=function(q){for(var W,ee=0;ee<q.length;ee++){if((W=N(q.charAt(ee)))==="L")return!1;if(W==="R")return!0}return!1},Q=function(q,W,ee,ue){var J,te,ne,he,ce=W[ue];switch(ce){case"L":case"R":F=!1;break;case"N":case"AN":break;case"EN":F&&(ce="AN");break;case"AL":F=!0,ce="R";break;case"WS":ce="N";break;case"CS":ue<1||ue+1>=W.length||(J=ee[ue-1])!=="EN"&&J!=="AN"||(te=W[ue+1])!=="EN"&&te!=="AN"?ce="N":F&&(te="AN"),ce=te===J?te:"N";break;case"ES":ce=(J=ue>0?ee[ue-1]:"B")==="EN"&&ue+1<W.length&&W[ue+1]==="EN"?"EN":"N";break;case"ET":if(ue>0&&ee[ue-1]==="EN"){ce="EN";break}if(F){ce="N";break}for(ne=ue+1,he=W.length;ne<he&&W[ne]==="ET";)ne++;ce=ne<he&&W[ne]==="EN"?"EN":"N";break;case"NSM":if(l&&!c){for(he=W.length,ne=ue+1;ne<he&&W[ne]==="NSM";)ne++;if(ne<he){var ye=q[ue],Ee=ye>=1425&&ye<=2303||ye===64286;if(J=W[ne],Ee&&(J==="R"||J==="AL")){ce="R";break}}}ce=ue<1||(J=W[ue-1])==="B"?"N":ee[ue-1];break;case"B":F=!1,i=!0,ce=R;break;case"S":s=!0,ce="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":F=!1;break;case"BN":ce="N"}return ce},j=function(q,W,ee){var ue=q.split("");return ee&&H(ue,ee,{hiLevel:R}),ue.reverse(),W&&W.reverse(),ue.join("")},H=function(q,W,ee){var ue,J,te,ne,he,ce=-1,ye=q.length,Ee=0,se=[],oe=R?y:_,_e=[];for(F=!1,i=!1,s=!1,J=0;J<ye;J++)_e[J]=N(q[J]);for(te=0;te<ye;te++){if(he=Ee,se[te]=Q(q,_e,se,te),ue=240&(Ee=oe[he][T[se[te]]]),Ee&=15,W[te]=ne=oe[Ee][5],ue>0)if(ue===16){for(J=ce;J<te;J++)W[J]=1;ce=-1}else ce=-1;if(oe[Ee][6])ce===-1&&(ce=te);else if(ce>-1){for(J=ce;J<te;J++)W[J]=ne;ce=-1}_e[te]==="B"&&(W[te]=0),ee.hiLevel|=ne}s&&function(Ue,Le,be){for(var Re=0;Re<be;Re++)if(Ue[Re]==="S"){Le[Re]=R;for(var Qe=Re-1;Qe>=0&&Ue[Qe]==="WS";Qe--)Le[Qe]=R}}(_e,W,ye)},K=function(q,W,ee,ue,J){if(!(J.hiLevel<q)){if(q===1&&R===1&&!i)return W.reverse(),void(ee&&ee.reverse());for(var te,ne,he,ce,ye=W.length,Ee=0;Ee<ye;){if(ue[Ee]>=q){for(he=Ee+1;he<ye&&ue[he]>=q;)he++;for(ce=Ee,ne=he-1;ce<ne;ce++,ne--)te=W[ce],W[ce]=W[ne],W[ne]=te,ee&&(te=ee[ce],ee[ce]=ee[ne],ee[ne]=te);Ee=he}Ee++}}},ie=function(q,W,ee){var ue=q.split(""),J={hiLevel:R};return ee||(ee=[]),H(ue,ee,J),function(te,ne,he){if(he.hiLevel!==0&&A)for(var ce,ye=0;ye<te.length;ye++)ne[ye]===1&&(ce=P.indexOf(te[ye]))>=0&&(te[ye]=P[ce+1])}(ue,ee,J),K(2,ue,W,ee,J),K(1,ue,W,ee,J),ue.join("")};return this.__bidiEngine__.doBidiReorder=function(q,W,ee){if(function(J,te){if(te)for(var ne=0;ne<J.length;ne++)te[ne]=ne;c===void 0&&(c=z(J)),f===void 0&&(f=z(J))}(q,W),l||!a||f)if(l&&a&&c^f)R=c?1:0,q=j(q,W,ee);else if(!l&&a&&f)R=c?1:0,q=ie(q,W,ee),q=j(q,W);else if(!l||c||a||f){if(l&&!a&&c^f)q=j(q,W),c?(R=0,q=ie(q,W,ee)):(R=1,q=ie(q,W,ee),q=j(q,W));else if(l&&c&&!a&&f)R=1,q=ie(q,W,ee),q=j(q,W);else if(!l&&!a&&c^f){var ue=A;c?(R=1,q=ie(q,W,ee),R=0,A=!1,q=ie(q,W,ee),A=ue):(R=0,q=ie(q,W,ee),q=j(q,W),R=1,A=!1,q=ie(q,W,ee),A=ue,q=j(q,W))}}else R=0,q=ie(q,W,ee);else R=c?1:0,q=ie(q,W,ee);return q},this.__bidiEngine__.setOptions=function(q){q&&(l=q.isInputVisual,a=q.isOutputVisual,c=q.isInputRtl,f=q.isOutputRtl,A=q.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,s=(r.x,r.y,r.options||{}),l=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var c=0;for(l=[],c=0;c<i.length;c+=1)Object.prototype.toString.call(i[c])==="[object Array]"?l.push([n.doBidiReorder(i[c][0]),i[c][1],i[c][2]]):l.push([n.doBidiReorder(i[c])]);r.text=l}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(Aa),Aa.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new o1(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new ypt(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new spt(this.contents),this.head=new lpt(this),this.name=new fpt(this),this.cmap=new Hue(this),this.toUnicode={},this.hhea=new upt(this),this.maxp=new ppt(this),this.hmtx=new Apt(this),this.post=new hpt(this),this.os2=new cpt(this),this.loca=new _pt(this),this.glyf=new mpt(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,c,a,f;for(f=[],l=0,c=(a=this.bbox).length;l<c;l++)e=a[l],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,l,c;for(l=0,s=0,c=(e=""+e).length;0<=c?s<c:s>c;s=0<=c?++s:--s)i=e.charCodeAt(s),l+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return l*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var aA,o1=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,l,c,a;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),l=this.readByte(),c=this.readByte(),a=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^l)+256*(255^c)+(255^a)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*l+256*c+a},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),spt=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,l,c,a,f,A,m,_,y,T,E;for(E in y=Object.keys(n).length,a=Math.log(2),m=16*Math.floor(Math.log(y)/a),l=Math.floor(m/a),A=16*y-m,(i=new o1).writeInt(this.scalarType),i.writeShort(y),i.writeShort(m),i.writeShort(l),i.writeShort(A),s=16*y,f=i.pos+s,c=null,T=[],n)for(_=n[E],i.writeString(E),i.writeInt(t(_)),i.writeInt(f),i.writeInt(_.length),T=T.concat(_),E==="head"&&(c=f),f+=_.length;f%4;)T.push(0),f++;return i.write(T),r=2981146554-t(i.data),i.pos=c+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,l;for(n=Que.call(n);n.length%4;)n.push(0);for(s=new o1(n),i=0,r=0,l=n.length;r<l;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),opt={}.hasOwnProperty,Bm=function(t,e){for(var n in e)opt.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};aA=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var lpt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Bm(e,aA),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new o1).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),_Y=function(){function t(e,n){var r,i,s,l,c,a,f,A,m,_,y,T,E,P,I,F,R;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(a=0;a<256;++a)this.codeMap[a]=e.readByte();break;case 4:for(y=e.readUInt16(),_=y/2,e.pos+=6,s=function(){var N,z;for(z=[],a=N=0;0<=_?N<_:N>_;a=0<=_?++N:--N)z.push(e.readUInt16());return z}(),e.pos+=2,E=function(){var N,z;for(z=[],a=N=0;0<=_?N<_:N>_;a=0<=_?++N:--N)z.push(e.readUInt16());return z}(),f=function(){var N,z;for(z=[],a=N=0;0<=_?N<_:N>_;a=0<=_?++N:--N)z.push(e.readUInt16());return z}(),A=function(){var N,z;for(z=[],a=N=0;0<=_?N<_:N>_;a=0<=_?++N:--N)z.push(e.readUInt16());return z}(),i=(this.length-e.pos+this.offset)/2,c=function(){var N,z;for(z=[],a=N=0;0<=i?N<i:N>i;a=0<=i?++N:--N)z.push(e.readUInt16());return z}(),a=I=0,R=s.length;I<R;a=++I)for(P=s[a],r=F=T=E[a];T<=P?F<=P:F>=P;r=T<=P?++F:--F)A[a]===0?l=r+f[a]:(l=c[A[a]/2+(r-T)-(_-a)]||0)!==0&&(l+=f[a]),this.codeMap[r]=65535&l}e.pos=m}return t.encode=function(e,n){var r,i,s,l,c,a,f,A,m,_,y,T,E,P,I,F,R,N,z,Q,j,H,K,ie,q,W,ee,ue,J,te,ne,he,ce,ye,Ee,se,oe,_e,Ue,Le,be,Re,Qe,Je,nt,Ve;switch(ue=new o1,l=Object.keys(e).sort(function(Pe,Ge){return Pe-Ge}),n){case"macroman":for(E=0,P=function(){var Pe=[];for(T=0;T<256;++T)Pe.push(0);return Pe}(),F={0:0},s={},J=0,ce=l.length;J<ce;J++)F[Qe=e[i=l[J]]]==null&&(F[Qe]=++E),s[i]={old:e[i],new:F[e[i]]},P[i]=F[e[i]];return ue.writeUInt16(1),ue.writeUInt16(0),ue.writeUInt32(12),ue.writeUInt16(0),ue.writeUInt16(262),ue.writeUInt16(0),ue.write(P),{charMap:s,subtable:ue.data,maxGlyphID:E+1};case"unicode":for(W=[],m=[],R=0,F={},r={},I=f=null,te=0,ye=l.length;te<ye;te++)F[z=e[i=l[te]]]==null&&(F[z]=++R),r[i]={old:z,new:F[z]},c=F[z]-i,I!=null&&c===f||(I&&m.push(I),W.push(i),f=c),I=i;for(I&&m.push(I),m.push(65535),W.push(65535),ie=2*(K=W.length),H=2*Math.pow(Math.log(K)/Math.LN2,2),_=Math.log(H/2)/Math.LN2,j=2*K-H,a=[],Q=[],y=[],T=ne=0,Ee=W.length;ne<Ee;T=++ne){if(q=W[T],A=m[T],q===65535){a.push(0),Q.push(0);break}if(q-(ee=r[q].new)>=32768)for(a.push(0),Q.push(2*(y.length+K-T)),i=he=q;q<=A?he<=A:he>=A;i=q<=A?++he:--he)y.push(r[i].new);else a.push(ee-q),Q.push(0)}for(ue.writeUInt16(3),ue.writeUInt16(1),ue.writeUInt32(12),ue.writeUInt16(4),ue.writeUInt16(16+8*K+2*y.length),ue.writeUInt16(0),ue.writeUInt16(ie),ue.writeUInt16(H),ue.writeUInt16(_),ue.writeUInt16(j),be=0,se=m.length;be<se;be++)i=m[be],ue.writeUInt16(i);for(ue.writeUInt16(0),Re=0,oe=W.length;Re<oe;Re++)i=W[Re],ue.writeUInt16(i);for(Je=0,_e=a.length;Je<_e;Je++)c=a[Je],ue.writeUInt16(c);for(nt=0,Ue=Q.length;nt<Ue;nt++)N=Q[nt],ue.writeUInt16(N);for(Ve=0,Le=y.length;Ve<Le;Ve++)E=y[Ve],ue.writeUInt16(E);return{charMap:r,subtable:ue.data,maxGlyphID:R+1}}},t}(),Hue=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Bm(e,aA),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new _Y(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=_Y.encode(n,r),(s=new o1).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),upt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Bm(e,aA),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),cpt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Bm(e,aA),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),hpt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Bm(e,aA),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var l;for(i=n.readUInt16(),this.glyphNameIndex=[],l=0;0<=i?l<i:l>i;l=0<=i?++l:--l)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var c,a,f;for(f=[],l=c=0,a=this.file.maxp.numGlyphs;0<=a?c<a:c>a;l=0<=a?++c:--c)f.push(n.readUInt32());return f}).call(this)}},e}(),dpt=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},fpt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Bm(e,aA),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,l,c,a,f,A,m,_,y;for(n.pos=this.offset,n.readShort(),r=n.readShort(),a=n.readShort(),i=[],l=0;0<=r?l<r:l>r;l=0<=r?++l:--l)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+a+n.readShort()});for(f={},l=m=0,_=i.length;m<_;l=++m)s=i[l],n.pos=s.offset,A=n.readString(s.length),c=new dpt(A,s),f[y=s.nameID]==null&&(f[y]=[]),f[s.nameID].push(c);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},e}(),ppt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Bm(e,aA),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),Apt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Bm(e,aA),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,l,c,a,f;for(n.pos=this.offset,this.metrics=[],r=0,a=this.file.hhea.numberOfMetrics;0<=a?r<a:r>a;r=0<=a?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var A,m;for(m=[],r=A=0;0<=s?A<s:A>s;r=0<=s?++A:--A)m.push(n.readInt16());return m}(),this.widths=(function(){var A,m,_,y;for(y=[],A=0,m=(_=this.metrics).length;A<m;A++)l=_[A],y.push(l.advance);return y}).call(this),i=this.widths[this.widths.length-1],f=[],r=c=0;0<=s?c<s:c>s;r=0<=s?++c:--c)f.push(this.widths.push(i));return f},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),Que=[].slice,mpt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Bm(e,aA),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,l,c,a,f,A,m,_;return n in this.cache?this.cache[n]:(l=this.file.loca,r=this.file.contents,i=l.indexOf(n),(s=l.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,c=(a=new o1(r.read(s))).readShort(),A=a.readShort(),_=a.readShort(),f=a.readShort(),m=a.readShort(),this.cache[n]=c===-1?new vpt(a,A,_,f,m):new gpt(a,c,A,_,f,m),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,l,c,a,f;for(c=[],l=[],a=0,f=r.length;a<f;a++)s=n[r[a]],l.push(c.length),s&&(c=c.concat(s.encode(i)));return l.push(c.length),{table:c,offsets:l}},e}(),gpt=function(){function t(e,n,r,i,s,l){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=l,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),vpt=function(){function t(e,n,r,i,s){var l,c;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;c=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&c;)l.pos+=1&c?4:2,128&c?l.pos+=8:64&c?l.pos+=4:8&c&&(l.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new o1(Que.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),_pt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Bm(e,aA),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,l;for(l=[],i=0,s=this.length;i<s;i+=2)l.push(2*n.readUInt16());return l}).call(this):(function(){var s,l;for(l=[],i=0,s=this.length;i<s;i+=4)l.push(n.readUInt32());return l}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,l=0,c=0;c<i.length;++c)if(i[c]=s,l<r.length&&r[l]==c){++l,i[c]=s;var a=this.offsets[c],f=this.offsets[c+1]-a;f>0&&(s+=f)}for(var A=new Array(4*i.length),m=0;m<i.length;++m)A[4*m+3]=255&i[m],A[4*m+2]=(65280&i[m])>>8,A[4*m+1]=(16711680&i[m])>>16,A[4*m]=(4278190080&i[m])>>24;return A},e}(),ypt=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,l,c,a;for(i={},l=0,c=e.length;l<c;l++)i[s=e[l]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in a=this.glyphsFor(n))r=a[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,l,c,a,f,A,m,_,y,T,E,P,I;for(i in r=Hue.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(e),y={0:0},I=r.charMap)y[(a=I[i]).old]=a.new;for(T in _=r.maxGlyphID,l)T in y||(y[T]=_++);return A=function(F){var R,N;for(R in N={},F)N[F[R]]=R;return N}(y),m=Object.keys(A).sort(function(F,R){return F-R}),E=function(){var F,R,N;for(N=[],F=0,R=m.length;F<R;F++)c=m[F],N.push(A[c]);return N}(),s=this.font.glyf.encode(l,E,y),f=this.font.loca.encode(s.offsets,E),P={cmap:this.font.cmap.raw(),glyf:s.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(P["OS/2"]=this.font.os2.raw()),this.font.directory.encode(P)},t}();Aa.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,l;if(Array.isArray(n))return"["+function(){var c,a,f;for(f=[],c=0,a=n.length;c<a;c++)r=n[c],f.push(e.convert(r));return f}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)l=n[i],s.push("/"+i+" "+e.convert(l));return s.push(">>"),s.join(`
`)}return""+n},e}();var bpt={exports:{}};/*! dom-to-image-more 14-02-2024 */(function(t,e){(function(n){const r=function(){let j=0;return{escape:function(ee){return ee.replace(/([.*+?^${}()|[]\/\\])/g,"\\$1")},isDataUrl:function(ee){return ee.search(/^(data:)/)!==-1},canvasToBlob:function(ee){return ee.toBlob?new Promise(function(ue){ee.toBlob(ue)}):function(ue){return new Promise(function(J){var te=y(ue.toDataURL().split(",")[1]),ne=te.length,he=new Uint8Array(ne);for(let ce=0;ce<ne;ce++)he[ce]=te.charCodeAt(ce);J(new Blob([he],{type:"image/png"}))})}(ee)},resolveUrl:function(ee,ue){var J=document.implementation.createHTMLDocument(),te=J.createElement("base"),ne=(J.head.appendChild(te),J.createElement("a"));return J.body.appendChild(ne),te.href=ue,ne.href=ee,ne.href},getAndEncode:function(ee){let ue=A.impl.urlCache.find(function(J){return J.url===ee});return ue||(ue={url:ee,promise:null},A.impl.urlCache.push(ue)),ue.promise===null&&(A.impl.options.cacheBust&&(ee+=(/\?/.test(ee)?"&":"?")+new Date().getTime()),ue.promise=new Promise(function(J){const te=A.impl.options.httpTimeout,ne=new XMLHttpRequest;if(ne.onreadystatechange=function(){if(ne.readyState===4)if(300<=ne.status)ce?J(ce):ye(`cannot fetch resource: ${ee}, status: `+ne.status);else{const Ee=new FileReader;Ee.onloadend=function(){J(Ee.result)},Ee.readAsDataURL(ne.response)}},ne.ontimeout=function(){ce?J(ce):ye(`timeout of ${te}ms occured while fetching resource: `+ee)},ne.responseType="blob",ne.timeout=te,0<A.impl.options.useCredentialsFilters.length&&(A.impl.options.useCredentials=0<A.impl.options.useCredentialsFilters.filter(Ee=>0<=ee.search(Ee)).length),A.impl.options.useCredentials&&(ne.withCredentials=!0),A.impl.options.corsImg&&ee.indexOf("http")===0&&ee.indexOf(window.location.origin)===-1){var he=(A.impl.options.corsImg.method||"GET").toUpperCase()==="POST"?"POST":"GET";ne.open(he,(A.impl.options.corsImg.url||"").replace("#{cors}",ee),!0);let Ee=!1;const se=A.impl.options.corsImg.headers||{},oe=(Object.keys(se).forEach(function(_e){se[_e].indexOf("application/json")!==-1&&(Ee=!0),ne.setRequestHeader(_e,se[_e])}),function(_e){try{return JSON.parse(JSON.stringify(_e))}catch{ye("corsImg.data is missing or invalid")}}(A.impl.options.corsImg.data||""));Object.keys(oe).forEach(function(_e){typeof oe[_e]=="string"&&(oe[_e]=oe[_e].replace("#{cors}",ee))}),ne.send(Ee?JSON.stringify(oe):oe)}else ne.open("GET",ee,!0),ne.send();let ce;function ye(Ee){console.error(Ee),J("")}A.impl.options.imagePlaceholder&&(he=A.impl.options.imagePlaceholder.split(/,/))&&he[1]&&(ce=he[1])})),ue.promise},uid:function(){return"u"+("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)+j++},delay:function(ee){return function(ue){return new Promise(function(J){setTimeout(function(){J(ue)},ee)})}},asArray:function(ee){var ue=[],J=ee.length;for(let te=0;te<J;te++)ue.push(ee[te]);return ue},escapeXhtml:function(ee){return ee.replace(/%/g,"%25").replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(ee){return ee!=="data:,"?new Promise(function(ue,J){const te=new Image;A.impl.options.useCredentials&&(te.crossOrigin="use-credentials"),te.onload=function(){window&&window.requestAnimationFrame?window.requestAnimationFrame(function(){ue(te)}):ue(te)},te.onerror=J,te.src=ee}):Promise.resolve()},width:function(ee){var ue=W(ee,"width");if(!isNaN(ue))return ue;var ue=W(ee,"border-left-width"),J=W(ee,"border-right-width");return ee.scrollWidth+ue+J},height:function(ee){var ue=W(ee,"height");if(!isNaN(ue))return ue;var ue=W(ee,"border-top-width"),J=W(ee,"border-bottom-width");return ee.scrollHeight+ue+J},getWindow:H,isElement:q,isElementHostForOpenShadowRoot:function(ee){return q(ee)&&ee.shadowRoot!==null},isShadowRoot:K,isInShadowRoot:ie,isHTMLElement:function(ee){return ee instanceof H(ee).HTMLElement},isHTMLCanvasElement:function(ee){return ee instanceof H(ee).HTMLCanvasElement},isHTMLInputElement:function(ee){return ee instanceof H(ee).HTMLInputElement},isHTMLImageElement:function(ee){return ee instanceof H(ee).HTMLImageElement},isHTMLLinkElement:function(ee){return ee instanceof H(ee).HTMLLinkElement},isHTMLScriptElement:function(ee){return ee instanceof H(ee).HTMLScriptElement},isHTMLStyleElement:function(ee){return ee instanceof H(ee).HTMLStyleElement},isHTMLTextAreaElement:function(ee){return ee instanceof H(ee).HTMLTextAreaElement},isShadowSlotElement:function(ee){return ie(ee)&&ee instanceof H(ee).HTMLSlotElement},isSVGElement:function(ee){return ee instanceof H(ee).SVGElement},isSVGRectElement:function(ee){return ee instanceof H(ee).SVGRectElement},isDimensionMissing:function(ee){return isNaN(ee)||ee<=0}};function H(ee){return ee=ee?ee.ownerDocument:void 0,(ee?ee.defaultView:void 0)||n||window}function K(ee){return ee instanceof H(ee).ShadowRoot}function ie(ee){return ee!==null&&Object.prototype.hasOwnProperty.call(ee,"getRootNode")&&K(ee.getRootNode())}function q(ee){return ee instanceof H(ee).Element}function W(ee,ue){if(ee.nodeType===m){let J=_(ee).getPropertyValue(ue);if(J.slice(-2)==="px")return J=J.slice(0,-2),parseFloat(J)}return NaN}}(),i=function(){const j=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:function(q,W,ee){return H(q)?Promise.resolve(q).then(K).then(function(ue){let J=Promise.resolve(q);return ue.forEach(function(te){J=J.then(function(ne){return ie(ne,te,W,ee)})}),J}):Promise.resolve(q)},shouldProcess:H,impl:{readUrls:K,inline:ie}};function H(q){return q.search(j)!==-1}function K(q){for(var W,ee=[];(W=j.exec(q))!==null;)ee.push(W[1]);return ee.filter(function(ue){return!r.isDataUrl(ue)})}function ie(q,W,ee,ue){return Promise.resolve(W).then(function(J){return ee?r.resolveUrl(J,ee):J}).then(ue||r.getAndEncode).then(function(J){return q.replace((te=W,new RegExp(`(url\\(['"]?)(${r.escape(te)})(['"]?\\))`,"g")),`$1${J}$3`);var te})}}(),s={resolveAll:function(){return l().then(function(j){return Promise.all(j.map(function(H){return H.resolve()}))}).then(function(j){return j.join(`
`)})},impl:{readAll:l}};function l(){return Promise.resolve(r.asArray(document.styleSheets)).then(function(H){const K=[];return H.forEach(function(ie){if(Object.prototype.hasOwnProperty.call(Object.getPrototypeOf(ie),"cssRules"))try{r.asArray(ie.cssRules||[]).forEach(K.push.bind(K))}catch(q){console.error("domtoimage: Error while reading CSS rules from "+ie.href,q.toString())}}),K}).then(function(H){return H.filter(function(K){return K.type===CSSRule.FONT_FACE_RULE}).filter(function(K){return i.shouldProcess(K.style.getPropertyValue("src"))})}).then(function(H){return H.map(j)});function j(H){return{resolve:function(){var K=(H.parentStyleSheet||{}).href;return i.inlineAll(H.cssText,K)},src:function(){return H.style.getPropertyValue("src")}}}}const c={inlineAll:function j(H){if(!r.isElement(H))return Promise.resolve(H);return K(H).then(function(){return r.isHTMLImageElement(H)?a(H).inline():Promise.all(r.asArray(H.childNodes).map(function(ie){return j(ie)}))});function K(ie){const q=["background","background-image"],W=q.map(function(ee){const ue=ie.style.getPropertyValue(ee),J=ie.style.getPropertyPriority(ee);return ue?i.inlineAll(ue).then(function(te){ie.style.setProperty(ee,te,J)}):Promise.resolve()});return Promise.all(W).then(function(){return ie})}},impl:{newImage:a}};function a(j){return{inline:function(H){return r.isDataUrl(j.src)?Promise.resolve():Promise.resolve(j.src).then(H||r.getAndEncode).then(function(K){return new Promise(function(ie){j.onload=ie,j.onerror=ie,j.src=K})})}}}const f={copyDefaultStyles:!0,imagePlaceholder:void 0,cacheBust:!1,useCredentials:!1,useCredentialsFilters:[],httpTimeout:3e4,styleCaching:"strict",corsImg:void 0,adjustClonedNode:void 0},A={toSvg:T,toPng:function(j,H){return E(j,H).then(function(K){return K.toDataURL()})},toJpeg:function(j,H){return E(j,H).then(function(K){return K.toDataURL("image/jpeg",(H?H.quality:void 0)||1)})},toBlob:function(j,H){return E(j,H).then(r.canvasToBlob)},toPixelData:function(j,H){return E(j,H).then(function(K){return K.getContext("2d").getImageData(0,0,r.width(j),r.height(j)).data})},toCanvas:E,impl:{fontFaces:s,images:c,util:r,inliner:i,urlCache:[],options:{}}},m=(t.exports=A,(typeof Node<"u"?Node.ELEMENT_NODE:void 0)||1),_=(n!==void 0?n.getComputedStyle:void 0)||(typeof window<"u"?window.getComputedStyle:void 0)||globalThis.getComputedStyle,y=(n!==void 0?n.atob:void 0)||(typeof window<"u"?window.atob:void 0)||globalThis.atob;function T(j,H){A.impl.util.getWindow(j);var K=H=H||{};K.copyDefaultStyles===void 0?A.impl.options.copyDefaultStyles=f.copyDefaultStyles:A.impl.options.copyDefaultStyles=K.copyDefaultStyles,K.imagePlaceholder===void 0?A.impl.options.imagePlaceholder=f.imagePlaceholder:A.impl.options.imagePlaceholder=K.imagePlaceholder,K.cacheBust===void 0?A.impl.options.cacheBust=f.cacheBust:A.impl.options.cacheBust=K.cacheBust,K.corsImg===void 0?A.impl.options.corsImg=f.corsImg:A.impl.options.corsImg=K.corsImg,K.useCredentials===void 0?A.impl.options.useCredentials=f.useCredentials:A.impl.options.useCredentials=K.useCredentials,K.useCredentialsFilters===void 0?A.impl.options.useCredentialsFilters=f.useCredentialsFilters:A.impl.options.useCredentialsFilters=K.useCredentialsFilters,K.httpTimeout===void 0?A.impl.options.httpTimeout=f.httpTimeout:A.impl.options.httpTimeout=K.httpTimeout,K.styleCaching===void 0?A.impl.options.styleCaching=f.styleCaching:A.impl.options.styleCaching=K.styleCaching;let ie=[];return Promise.resolve(j).then(function(q){if(q.nodeType===m)return q;var W=q,ee=q.parentNode,ue=document.createElement("span");return ee.replaceChild(ue,W),ue.append(q),ie.push({parent:ee,child:W,wrapper:ue}),ue}).then(function(q){return function W(ee,ue,J,te){const ne=ue.filter;if(ee===P||r.isHTMLScriptElement(ee)||r.isHTMLStyleElement(ee)||r.isHTMLLinkElement(ee)||J!==null&&ne&&!ne(ee))return Promise.resolve();return Promise.resolve(ee).then(he).then(ce).then(function(_e){return se(_e,Ee(ee))}).then(ye).then(function(_e){return oe(_e,ee)});function he(_e){return r.isHTMLCanvasElement(_e)?r.makeImage(_e.toDataURL()):_e.cloneNode(!1)}function ce(_e){return ue.adjustClonedNode&&ue.adjustClonedNode(ee,_e,!1),Promise.resolve(_e)}function ye(_e){return ue.adjustClonedNode&&ue.adjustClonedNode(ee,_e,!0),Promise.resolve(_e)}function Ee(_e){return r.isElementHostForOpenShadowRoot(_e)?_e.shadowRoot:_e}function se(_e,Ue){const Le=Qe(Ue);let be=Promise.resolve();if(Le.length!==0){const Je=_(Re(Ue));r.asArray(Le).forEach(function(nt){be=be.then(function(){return W(nt,ue,Je).then(function(Ve){Ve&&_e.appendChild(Ve)})})})}return be.then(function(){return _e});function Re(Je){return r.isShadowRoot(Je)?Je.host:Je}function Qe(Je){return r.isShadowSlotElement(Je)?Je.assignedNodes():Je.childNodes}}function oe(_e,Ue){return!r.isElement(_e)||r.isShadowSlotElement(Ue)?Promise.resolve(_e):Promise.resolve().then(Le).then(be).then(Re).then(Qe).then(function(){return _e});function Le(){function Je(Ve,Pe){Pe.font=Ve.font,Pe.fontFamily=Ve.fontFamily,Pe.fontFeatureSettings=Ve.fontFeatureSettings,Pe.fontKerning=Ve.fontKerning,Pe.fontSize=Ve.fontSize,Pe.fontStretch=Ve.fontStretch,Pe.fontStyle=Ve.fontStyle,Pe.fontVariant=Ve.fontVariant,Pe.fontVariantCaps=Ve.fontVariantCaps,Pe.fontVariantEastAsian=Ve.fontVariantEastAsian,Pe.fontVariantLigatures=Ve.fontVariantLigatures,Pe.fontVariantNumeric=Ve.fontVariantNumeric,Pe.fontVariationSettings=Ve.fontVariationSettings,Pe.fontWeight=Ve.fontWeight}function nt(Ve,Pe){const Ge=_(Ve);Ge.cssText?(Pe.style.cssText=Ge.cssText,Je(Ge,Pe.style)):(R(ue,Ve,Ge,J,Pe),J===null&&(["inset-block","inset-block-start","inset-block-end"].forEach(Ne=>Pe.style.removeProperty(Ne)),["left","right","top","bottom"].forEach(Ne=>{Pe.style.getPropertyValue(Ne)&&Pe.style.setProperty(Ne,"0px")})))}nt(Ue,_e)}function be(){const Je=r.uid();function nt(Ve){const Pe=_(Ue,Ve),Ge=Pe.getPropertyValue("content");if(Ge!==""&&Ge!=="none"){let Ne=function(){const vt=`.${Je}:`+Ve,Lt=(Pe.cssText?Et:Vt)();return document.createTextNode(vt+`{${Lt}}`);function Et(){return`${Pe.cssText} content: ${Ge};`}function Vt(){return r.asArray(Pe).map(qt).join("; ")+";";function qt(tn){const Nt=Pe.getPropertyValue(tn),wt=Pe.getPropertyPriority(tn)?" !important":"";return tn+": "+Nt+wt}}};const je=_e.getAttribute("class")||"",Ye=(_e.setAttribute("class",je+" "+Je),document.createElement("style"));Ye.appendChild(Ne()),_e.appendChild(Ye)}}[":before",":after"].forEach(function(Ve){nt(Ve)})}function Re(){r.isHTMLTextAreaElement(Ue)&&(_e.innerHTML=Ue.value),r.isHTMLInputElement(Ue)&&_e.setAttribute("value",Ue.value)}function Qe(){r.isSVGElement(_e)&&(_e.setAttribute("xmlns","http://www.w3.org/2000/svg"),r.isSVGRectElement(_e))&&["width","height"].forEach(function(Je){const nt=_e.getAttribute(Je);nt&&_e.style.setProperty(Je,nt)})}}}(q,H,null)}).then(I).then(F).then(function(q){H.bgcolor&&(q.style.backgroundColor=H.bgcolor),H.width&&(q.style.width=H.width+"px"),H.height&&(q.style.height=H.height+"px"),H.style&&Object.keys(H.style).forEach(function(ee){q.style[ee]=H.style[ee]});let W=null;return typeof H.onclone=="function"&&(W=H.onclone(q)),Promise.resolve(W).then(function(){return q})}).then(function(q){let W=H.width||r.width(q),ee=H.height||r.height(q);return Promise.resolve(q).then(function(ue){return ue.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(ue)}).then(r.escapeXhtml).then(function(ue){var J=(r.isDimensionMissing(W)?' width="100%"':` width="${W}"`)+(r.isDimensionMissing(ee)?' height="100%"':` height="${ee}"`);return`<svg xmlns="http://www.w3.org/2000/svg"${(r.isDimensionMissing(W)?"":` width="${W}"`)+(r.isDimensionMissing(ee)?"":` height="${ee}"`)}><foreignObject${J}>${ue}</foreignObject></svg>`}).then(function(ue){return"data:image/svg+xml;charset=utf-8,"+ue})}).then(function(q){for(;0<ie.length;){var W=ie.pop();W.parent.replaceChild(W.child,W.wrapper)}return q}).then(function(q){return A.impl.urlCache=[],function(){P&&(document.body.removeChild(P),P=null),N&&clearTimeout(N),N=setTimeout(()=>{N=null,z={}},2e4)}(),q})}function E(j,H){return T(j,H=H||{}).then(r.makeImage).then(function(K){var ie=typeof H.scale!="number"?1:H.scale,q=function(ee,ue){let J=H.width||r.width(ee),te=H.height||r.height(ee);return r.isDimensionMissing(J)&&(J=r.isDimensionMissing(te)?300:2*te),r.isDimensionMissing(te)&&(te=J/2),ee=document.createElement("canvas"),ee.width=J*ue,ee.height=te*ue,H.bgcolor&&((ue=ee.getContext("2d")).fillStyle=H.bgcolor,ue.fillRect(0,0,ee.width,ee.height)),ee}(j,ie),W=q.getContext("2d");return W.msImageSmoothingEnabled=!1,W.imageSmoothingEnabled=!1,K&&(W.scale(ie,ie),W.drawImage(K,0,0)),q})}let P=null;function I(j){return s.resolveAll().then(function(H){var K;return H!==""&&(K=document.createElement("style"),j.appendChild(K),K.appendChild(document.createTextNode(H))),j})}function F(j){return c.inlineAll(j).then(function(){return j})}function R(j,H,K,ie,q){const W=A.impl.options.copyDefaultStyles?function(ue,ne){var ne=function(ce){var ye=[];do if(ce.nodeType===m){var Ee=ce.tagName;if(ye.push(Ee),Q.includes(Ee))break}while(ce=ce.parentNode,ce);return ye}(ne),te=function(ce){return(ue.styleCaching!=="relaxed"?ce:ce.filter((ye,Ee,se)=>Ee===0||Ee===se.length-1)).join(">")}(ne);if(z[te])return z[te];var he=function(){if(P)return P.contentWindow;var ce=document.characterSet||"UTF-8",ye=document.doctype,ye=ye?(`<!DOCTYPE ${Ee(ye.name)} ${Ee(ye.publicId)} `+Ee(ye.systemId)).trim()+">":"";return(P=document.createElement("iframe")).id="domtoimage-sandbox-"+r.uid(),P.style.visibility="hidden",P.style.position="fixed",document.body.appendChild(P),function(se,oe,_e,Ue){try{return se.contentWindow.document.write(oe+`<html><head><meta charset='${_e}'><title>${Ue}</title></head><body></body></html>`),se.contentWindow}catch{}var Le=document.createElement("meta");Le.setAttribute("charset",_e);try{var be=document.implementation.createHTMLDocument(Ue),Re=(be.head.appendChild(Le),oe+be.documentElement.outerHTML);return se.setAttribute("srcdoc",Re),se.contentWindow}catch{}return se.contentDocument.head.appendChild(Le),se.contentDocument.title=Ue,se.contentWindow}(P,ye,ce,"domtoimage-sandbox");function Ee(se){var oe;return se?((oe=document.createElement("div")).innerText=se,oe.innerHTML):""}}(),ne=function(ce,ye){let Ee=ce.body;do{var se=ye.pop(),se=ce.createElement(se);Ee.appendChild(se),Ee=se}while(0<ye.length);return Ee.textContent="",Ee}(he.document,ne),he=function(ce,ye){const Ee={},se=ce.getComputedStyle(ye);return r.asArray(se).forEach(function(oe){Ee[oe]=oe==="width"||oe==="height"?"auto":se.getPropertyValue(oe)}),Ee}(he,ne);return function(ce){do{var ye=ce.parentElement;ye!==null&&ye.removeChild(ce),ce=ye}while(ce&&ce.tagName!=="BODY")}(ne),z[te]=he}(j,H):{},ee=q.style;r.asArray(K).forEach(function(ue){var J,te=K.getPropertyValue(ue),ne=W[ue],he=ie?ie.getPropertyValue(ue):void 0;(te!==ne||ie&&te!==he)&&(ne=K.getPropertyPriority(ue),he=ee,te=te,ne=ne,J=0<=["background-clip"].indexOf(ue=ue),ne?(he.setProperty(ue,te,ne),J&&he.setProperty("-webkit-"+ue,te,ne)):(he.setProperty(ue,te),J&&he.setProperty("-webkit-"+ue,te)))})}let N=null,z={};const Q=["ADDRESS","ARTICLE","ASIDE","BLOCKQUOTE","DETAILS","DIALOG","DD","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","LI","MAIN","NAV","OL","P","PRE","SECTION","SVG","TABLE","UL","math","svg","BODY","HEAD","HTML"]})(Af)})(bpt);/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hO=function(t,e){return hO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},hO(t,e)};function sA(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");hO(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var dO=function(){return dO=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},dO.apply(this,arguments)};function Zc(t,e,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(A){try{f(r.next(A))}catch(m){l(m)}}function a(A){try{f(r.throw(A))}catch(m){l(m)}}function f(A){A.done?s(A.value):i(A.value).then(c,a)}f((r=r.apply(t,[])).next())})}function Ec(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(f){return function(A){return a([f,A])}}function a(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){n.label=f[1];break}if(f[0]===6&&n.label<s[1]){n.label=s[1],s=f;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(f);break}s[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(A){f=[6,A],i=0}finally{r=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function A3(t,e,n){if(arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||e)}var Jg=function(){function t(e,n,r,i){this.left=e,this.top=n,this.width=r,this.height=i}return t.prototype.add=function(e,n,r,i){return new t(this.left+e,this.top+n,this.width+r,this.height+i)},t.fromClientRect=function(e,n){return new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height)},t.fromDOMRectList=function(e,n){var r=Array.from(n).find(function(i){return i.width!==0});return r?new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),YB=function(t,e){return Jg.fromClientRect(t,e.getBoundingClientRect())},wpt=function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),i=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new Jg(0,0,r,i)},XB=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e},xl=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],i=-1,s="";++i<n;){var l=t[i];l<=65535?r.push(l):(l-=65536,r.push((l>>10)+55296,l%1024+56320)),(i+1===n||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},yY="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xpt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var m3=0;m3<yY.length;m3++)xpt[yY.charCodeAt(m3)]=m3;var bY="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w4=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var g3=0;g3<bY.length;g3++)w4[bY.charCodeAt(g3)]=g3;var Cpt=function(t){var e=t.length*.75,n=t.length,r,i=0,s,l,c,a;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var f=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),A=Array.isArray(f)?f:new Uint8Array(f);for(r=0;r<n;r+=4)s=w4[t.charCodeAt(r)],l=w4[t.charCodeAt(r+1)],c=w4[t.charCodeAt(r+2)],a=w4[t.charCodeAt(r+3)],A[i++]=s<<2|l>>4,A[i++]=(l&15)<<4|c>>2,A[i++]=(c&3)<<6|a&63;return f},Ept=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},Spt=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},q_=5,hU=11,EP=2,Tpt=hU-q_,jue=65536>>q_,Bpt=1<<q_,SP=Bpt-1,Mpt=1024>>q_,Ipt=jue+Mpt,Lpt=Ipt,Ppt=32,Fpt=Lpt+Ppt,kpt=65536>>hU,Rpt=1<<Tpt,Opt=Rpt-1,wY=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},Dpt=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},Npt=function(t,e){var n=Cpt(t),r=Array.isArray(n)?Spt(n):new Uint32Array(n),i=Array.isArray(n)?Ept(n):new Uint16Array(n),s=24,l=wY(i,s/2,r[4]/2),c=r[5]===2?wY(i,(s+r[4])/2):Dpt(r,Math.ceil((s+r[4])/4));return new Upt(r[0],r[1],r[2],r[3],l,c)},Upt=function(){function t(e,n,r,i,s,l){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=l}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>q_],n=(n<<EP)+(e&SP),this.data[n];if(e<=65535)return n=this.index[jue+(e-55296>>q_)],n=(n<<EP)+(e&SP),this.data[n];if(e<this.highStart)return n=Fpt-kpt+(e>>hU),n=this.index[n],n+=e>>q_&Opt,n=this.index[n],n=(n<<EP)+(e&SP),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),xY="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zpt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var v3=0;v3<xY.length;v3++)zpt[xY.charCodeAt(v3)]=v3;var $pt="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",CY=50,Vpt=1,Gue=2,Kue=3,Hpt=4,Qpt=5,EY=7,Wue=8,SY=9,kv=10,fO=11,TY=12,pO=13,jpt=14,x4=15,AO=16,_3=17,e4=18,Gpt=19,BY=20,mO=21,t4=22,TP=23,Ib=24,Td=25,C4=26,E4=27,Lb=28,Kpt=29,y_=30,Wpt=31,y3=32,b3=33,gO=34,vO=35,_O=36,g6=37,yO=38,HS=39,QS=40,BP=41,que=42,qpt=43,Ypt=[9001,65288],Yue="!",ts="",w3="",bO=Npt($pt),Eg=[y_,_O],wO=[Vpt,Gue,Kue,Qpt],Xue=[kv,Wue],MY=[E4,C4],Xpt=wO.concat(Xue),IY=[yO,HS,QS,gO,vO],Zpt=[x4,pO],Jpt=function(t,e){e===void 0&&(e="strict");var n=[],r=[],i=[];return t.forEach(function(s,l){var c=bO.get(s);if(c>CY?(i.push(!0),c-=CY):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return r.push(l),n.push(AO);if(c===Hpt||c===fO){if(l===0)return r.push(l),n.push(y_);var a=n[l-1];return Xpt.indexOf(a)===-1?(r.push(r[l-1]),n.push(a)):(r.push(l),n.push(y_))}if(r.push(l),c===Wpt)return n.push(e==="strict"?mO:g6);if(c===que||c===Kpt)return n.push(y_);if(c===qpt)return s>=131072&&s<=196605||s>=196608&&s<=262141?n.push(g6):n.push(y_);n.push(c)}),[r,n,i]},MP=function(t,e,n,r){var i=r[n];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var s=n;s<=r.length;){s++;var l=r[s];if(l===e)return!0;if(l!==kv)break}if(i===kv)for(var s=n;s>0;){s--;var c=r[s];if(Array.isArray(t)?t.indexOf(c)!==-1:t===c)for(var a=n;a<=r.length;){a++;var l=r[a];if(l===e)return!0;if(l!==kv)break}if(c!==kv)break}return!1},LY=function(t,e){for(var n=t;n>=0;){var r=e[n];if(r===kv)n--;else return r}return 0},eAt=function(t,e,n,r,i){if(n[r]===0)return ts;var s=r-1;if(Array.isArray(i)&&i[s]===!0)return ts;var l=s-1,c=s+1,a=e[s],f=l>=0?e[l]:0,A=e[c];if(a===Gue&&A===Kue)return ts;if(wO.indexOf(a)!==-1)return Yue;if(wO.indexOf(A)!==-1||Xue.indexOf(A)!==-1)return ts;if(LY(s,e)===Wue)return w3;if(bO.get(t[s])===fO||(a===y3||a===b3)&&bO.get(t[c])===fO||a===EY||A===EY||a===SY||[kv,pO,x4].indexOf(a)===-1&&A===SY||[_3,e4,Gpt,Ib,Lb].indexOf(A)!==-1||LY(s,e)===t4||MP(TP,t4,s,e)||MP([_3,e4],mO,s,e)||MP(TY,TY,s,e))return ts;if(a===kv)return w3;if(a===TP||A===TP)return ts;if(A===AO||a===AO)return w3;if([pO,x4,mO].indexOf(A)!==-1||a===jpt||f===_O&&Zpt.indexOf(a)!==-1||a===Lb&&A===_O||A===BY||Eg.indexOf(A)!==-1&&a===Td||Eg.indexOf(a)!==-1&&A===Td||a===E4&&[g6,y3,b3].indexOf(A)!==-1||[g6,y3,b3].indexOf(a)!==-1&&A===C4||Eg.indexOf(a)!==-1&&MY.indexOf(A)!==-1||MY.indexOf(a)!==-1&&Eg.indexOf(A)!==-1||[E4,C4].indexOf(a)!==-1&&(A===Td||[t4,x4].indexOf(A)!==-1&&e[c+1]===Td)||[t4,x4].indexOf(a)!==-1&&A===Td||a===Td&&[Td,Lb,Ib].indexOf(A)!==-1)return ts;if([Td,Lb,Ib,_3,e4].indexOf(A)!==-1)for(var m=s;m>=0;){var _=e[m];if(_===Td)return ts;if([Lb,Ib].indexOf(_)!==-1)m--;else break}if([E4,C4].indexOf(A)!==-1)for(var m=[_3,e4].indexOf(a)!==-1?l:s;m>=0;){var _=e[m];if(_===Td)return ts;if([Lb,Ib].indexOf(_)!==-1)m--;else break}if(yO===a&&[yO,HS,gO,vO].indexOf(A)!==-1||[HS,gO].indexOf(a)!==-1&&[HS,QS].indexOf(A)!==-1||[QS,vO].indexOf(a)!==-1&&A===QS||IY.indexOf(a)!==-1&&[BY,C4].indexOf(A)!==-1||IY.indexOf(A)!==-1&&a===E4||Eg.indexOf(a)!==-1&&Eg.indexOf(A)!==-1||a===Ib&&Eg.indexOf(A)!==-1||Eg.concat(Td).indexOf(a)!==-1&&A===t4&&Ypt.indexOf(t[c])===-1||Eg.concat(Td).indexOf(A)!==-1&&a===e4)return ts;if(a===BP&&A===BP){for(var y=n[s],T=1;y>0&&(y--,e[y]===BP);)T++;if(T%2!==0)return ts}return a===y3&&A===b3?ts:w3},tAt=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=Jpt(t,e.lineBreak),r=n[0],i=n[1],s=n[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(c){return[Td,y_,que].indexOf(c)!==-1?g6:c}));var l=e.wordBreak==="keep-all"?s.map(function(c,a){return c&&t[a]>=19968&&t[a]<=40959}):void 0;return[r,i,l]},nAt=function(){function t(e,n,r,i){this.codePoints=e,this.required=n===Yue,this.start=r,this.end=i}return t.prototype.slice=function(){return xl.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),rAt=function(t,e){var n=XB(t),r=tAt(n,e),i=r[0],s=r[1],l=r[2],c=n.length,a=0,f=0;return{next:function(){if(f>=c)return{done:!0,value:null};for(var A=ts;f<c&&(A=eAt(n,s,i,++f,l))===ts;);if(A!==ts||f===c){var m=new nAt(n,A,a,f);return a=f,{value:m,done:!1}}return{done:!0,value:null}}}},iAt=1,aAt=2,o5=4,PY=8,s8=10,FY=47,uC=92,sAt=9,oAt=32,x3=34,n4=61,lAt=35,uAt=36,cAt=37,C3=39,E3=40,r4=41,hAt=95,Mh=45,dAt=33,fAt=60,pAt=62,AAt=64,mAt=91,gAt=93,vAt=61,_At=123,S3=63,yAt=125,kY=124,bAt=126,wAt=128,RY=65533,IP=42,F_=43,xAt=44,CAt=58,EAt=59,v6=46,SAt=0,TAt=8,BAt=11,MAt=14,IAt=31,LAt=127,UA=-1,Zue=48,Jue=97,ece=101,PAt=102,FAt=117,kAt=122,tce=65,nce=69,rce=70,RAt=85,OAt=90,Bc=function(t){return t>=Zue&&t<=57},DAt=function(t){return t>=55296&&t<=57343},Pb=function(t){return Bc(t)||t>=tce&&t<=rce||t>=Jue&&t<=PAt},NAt=function(t){return t>=Jue&&t<=kAt},UAt=function(t){return t>=tce&&t<=OAt},zAt=function(t){return NAt(t)||UAt(t)},$At=function(t){return t>=wAt},T3=function(t){return t===s8||t===sAt||t===oAt},o8=function(t){return zAt(t)||$At(t)||t===hAt},OY=function(t){return o8(t)||Bc(t)||t===Mh},VAt=function(t){return t>=SAt&&t<=TAt||t===BAt||t>=MAt&&t<=IAt||t===LAt},yv=function(t,e){return t!==uC?!1:e!==s8},B3=function(t,e,n){return t===Mh?o8(e)||yv(e,n):o8(t)?!0:!!(t===uC&&yv(t,e))},LP=function(t,e,n){return t===F_||t===Mh?Bc(e)?!0:e===v6&&Bc(n):Bc(t===v6?e:t)},HAt=function(t){var e=0,n=1;(t[e]===F_||t[e]===Mh)&&(t[e]===Mh&&(n=-1),e++);for(var r=[];Bc(t[e]);)r.push(t[e++]);var i=r.length?parseInt(xl.apply(void 0,r),10):0;t[e]===v6&&e++;for(var s=[];Bc(t[e]);)s.push(t[e++]);var l=s.length,c=l?parseInt(xl.apply(void 0,s),10):0;(t[e]===nce||t[e]===ece)&&e++;var a=1;(t[e]===F_||t[e]===Mh)&&(t[e]===Mh&&(a=-1),e++);for(var f=[];Bc(t[e]);)f.push(t[e++]);var A=f.length?parseInt(xl.apply(void 0,f),10):0;return n*(i+c*Math.pow(10,-l))*Math.pow(10,a*A)},QAt={type:2},jAt={type:3},GAt={type:4},KAt={type:13},WAt={type:8},qAt={type:21},YAt={type:9},XAt={type:10},ZAt={type:11},JAt={type:12},emt={type:14},M3={type:23},tmt={type:1},nmt={type:25},rmt={type:24},imt={type:26},amt={type:27},smt={type:28},omt={type:29},lmt={type:31},xO={type:32},ice=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(XB(e))},t.prototype.read=function(){for(var e=[],n=this.consumeToken();n!==xO;)e.push(n),n=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case x3:return this.consumeStringToken(x3);case lAt:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),i=this.peekCodePoint(2);if(OY(n)||yv(r,i)){var s=B3(n,r,i)?aAt:iAt,l=this.consumeName();return{type:5,value:l,flags:s}}break;case uAt:if(this.peekCodePoint(0)===n4)return this.consumeCodePoint(),KAt;break;case C3:return this.consumeStringToken(C3);case E3:return QAt;case r4:return jAt;case IP:if(this.peekCodePoint(0)===n4)return this.consumeCodePoint(),emt;break;case F_:if(LP(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case xAt:return GAt;case Mh:var c=e,a=this.peekCodePoint(0),f=this.peekCodePoint(1);if(LP(c,a,f))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(B3(c,a,f))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(a===Mh&&f===pAt)return this.consumeCodePoint(),this.consumeCodePoint(),rmt;break;case v6:if(LP(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case FY:if(this.peekCodePoint(0)===IP)for(this.consumeCodePoint();;){var A=this.consumeCodePoint();if(A===IP&&(A=this.consumeCodePoint(),A===FY))return this.consumeToken();if(A===UA)return this.consumeToken()}break;case CAt:return imt;case EAt:return amt;case fAt:if(this.peekCodePoint(0)===dAt&&this.peekCodePoint(1)===Mh&&this.peekCodePoint(2)===Mh)return this.consumeCodePoint(),this.consumeCodePoint(),nmt;break;case AAt:var m=this.peekCodePoint(0),_=this.peekCodePoint(1),y=this.peekCodePoint(2);if(B3(m,_,y)){var l=this.consumeName();return{type:7,value:l}}break;case mAt:return smt;case uC:if(yv(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case gAt:return omt;case vAt:if(this.peekCodePoint(0)===n4)return this.consumeCodePoint(),WAt;break;case _At:return ZAt;case yAt:return JAt;case FAt:case RAt:var T=this.peekCodePoint(0),E=this.peekCodePoint(1);return T===F_&&(Pb(E)||E===S3)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case kY:if(this.peekCodePoint(0)===n4)return this.consumeCodePoint(),YAt;if(this.peekCodePoint(0)===kY)return this.consumeCodePoint(),qAt;break;case bAt:if(this.peekCodePoint(0)===n4)return this.consumeCodePoint(),XAt;break;case UA:return xO}return T3(e)?(this.consumeWhiteSpace(),lmt):Bc(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):o8(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:xl(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],n=this.consumeCodePoint();Pb(n)&&e.length<6;)e.push(n),n=this.consumeCodePoint();for(var r=!1;n===S3&&e.length<6;)e.push(n),n=this.consumeCodePoint(),r=!0;if(r){var i=parseInt(xl.apply(void 0,e.map(function(a){return a===S3?Zue:a})),16),s=parseInt(xl.apply(void 0,e.map(function(a){return a===S3?rce:a})),16);return{type:30,start:i,end:s}}var l=parseInt(xl.apply(void 0,e),16);if(this.peekCodePoint(0)===Mh&&Pb(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var c=[];Pb(n)&&c.length<6;)c.push(n),n=this.consumeCodePoint();var s=parseInt(xl.apply(void 0,c),16);return{type:30,start:l,end:s}}else return{type:30,start:l,end:l}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===E3?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===E3?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===UA)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===C3||n===x3){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===UA||this.peekCodePoint(0)===r4)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),M3)}for(;;){var i=this.consumeCodePoint();if(i===UA||i===r4)return{type:22,value:xl.apply(void 0,e)};if(T3(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===UA||this.peekCodePoint(0)===r4?(this.consumeCodePoint(),{type:22,value:xl.apply(void 0,e)}):(this.consumeBadUrlRemnants(),M3);if(i===x3||i===C3||i===E3||VAt(i))return this.consumeBadUrlRemnants(),M3;if(i===uC)if(yv(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),M3;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;T3(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===r4||e===UA)return;yv(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var n=5e4,r="";e>0;){var i=Math.min(n,e);r+=xl.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),r},t.prototype.consumeStringToken=function(e){var n="",r=0;do{var i=this._value[r];if(i===UA||i===void 0||i===e)return n+=this.consumeStringSlice(r),{type:0,value:n};if(i===s8)return this._value.splice(0,r),tmt;if(i===uC){var s=this._value[r+1];s!==UA&&s!==void 0&&(s===s8?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):yv(i,s)&&(n+=this.consumeStringSlice(r),n+=xl(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},t.prototype.consumeNumber=function(){var e=[],n=o5,r=this.peekCodePoint(0);for((r===F_||r===Mh)&&e.push(this.consumeCodePoint());Bc(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(r===v6&&Bc(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=PY;Bc(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((r===nce||r===ece)&&((i===F_||i===Mh)&&Bc(s)||Bc(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=PY;Bc(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[HAt(e),n]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),n=e[0],r=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),l=this.peekCodePoint(2);if(B3(i,s,l)){var c=this.consumeName();return{type:15,number:n,flags:r,unit:c}}return i===cAt?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Pb(e)){for(var n=xl(e);Pb(this.peekCodePoint(0))&&n.length<6;)n+=xl(this.consumeCodePoint());T3(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||DAt(r)||r>1114111?RY:r}return e===UA?RY:e},t.prototype.consumeName=function(){for(var e="";;){var n=this.consumeCodePoint();if(OY(n))e+=xl(n);else if(yv(n,this.peekCodePoint(0)))e+=xl(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),e}},t}(),ace=function(){function t(e){this._tokens=e}return t.create=function(e){var n=new ice;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var n=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var n=this.consumeComponentValue();if(n.type===32)return e;e.push(n),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var n={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||cmt(r,e))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var n={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?xO:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),l5=function(t){return t.type===15},G2=function(t){return t.type===17},no=function(t){return t.type===20},umt=function(t){return t.type===0},CO=function(t,e){return no(t)&&t.value===e},sce=function(t){return t.type!==31},_2=function(t){return t.type!==31&&t.type!==4},Mm=function(t){var e=[],n=[];return t.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&e.push(n),e},cmt=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},l1=function(t){return t.type===17||t.type===15},eu=function(t){return t.type===16||l1(t)},oce=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},nc={type:17,number:0,flags:o5},dU={type:16,number:50,flags:o5},Rv={type:16,number:100,flags:o5},S4=function(t,e,n){var r=t[0],i=t[1];return[wo(r,e),wo(typeof i<"u"?i:r,n)]},wo=function(t,e){if(t.type===16)return t.number/100*e;if(l5(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},lce="deg",uce="grad",cce="rad",hce="turn",ZB={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case lce:return Math.PI*e.number/180;case uce:return Math.PI/200*e.number;case cce:return e.number;case hce:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},dce=function(t){return t.type===15&&(t.unit===lce||t.unit===uce||t.unit===cce||t.unit===hce)},fce=function(t){var e=t.filter(no).map(function(n){return n.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[nc,nc];case"to top":case"bottom":return yf(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[nc,Rv];case"to right":case"left":return yf(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Rv,Rv];case"to bottom":case"top":return yf(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Rv,nc];case"to left":case"right":return yf(270)}return 0},yf=function(t){return Math.PI*t/180},jv={name:"color",parse:function(t,e){if(e.type===18){var n=hmt[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return n(t,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return Ov(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),l=e.value.substring(3,4);return Ov(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(l+l,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return Ov(parseInt(r,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),l=e.value.substring(6,8);return Ov(parseInt(r,16),parseInt(i,16),parseInt(s,16),parseInt(l,16)/255)}}if(e.type===20){var c=Hg[e.value.toUpperCase()];if(typeof c<"u")return c}return Hg.TRANSPARENT}},Gv=function(t){return(255&t)===0},ku=function(t){var e=255&t,n=255&t>>8,r=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+r+","+n+","+e/255+")":"rgb("+i+","+r+","+n+")"},Ov=function(t,e,n,r){return(t<<24|e<<16|n<<8|Math.round(r*255)<<0)>>>0},DY=function(t,e){if(t.type===17)return t.number;if(t.type===16){var n=e===3?1:255;return e===3?t.number/100*n:Math.round(t.number/100*n)}return 0},NY=function(t,e){var n=e.filter(_2);if(n.length===3){var r=n.map(DY),i=r[0],s=r[1],l=r[2];return Ov(i,s,l,1)}if(n.length===4){var c=n.map(DY),i=c[0],s=c[1],l=c[2],a=c[3];return Ov(i,s,l,a)}return 0};function PP(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<1/2?e:n<2/3?(e-t)*6*(2/3-n)+t:t}var UY=function(t,e){var n=e.filter(_2),r=n[0],i=n[1],s=n[2],l=n[3],c=(r.type===17?yf(r.number):ZB.parse(t,r))/(Math.PI*2),a=eu(i)?i.number/100:0,f=eu(s)?s.number/100:0,A=typeof l<"u"&&eu(l)?wo(l,1):1;if(a===0)return Ov(f*255,f*255,f*255,1);var m=f<=.5?f*(a+1):f+a-f*a,_=f*2-m,y=PP(_,m,c+1/3),T=PP(_,m,c),E=PP(_,m,c-1/3);return Ov(y*255,T*255,E*255,A)},hmt={hsl:UY,hsla:UY,rgb:NY,rgba:NY},cC=function(t,e){return jv.parse(t,ace.create(e).parseComponentValue())},Hg={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},dmt={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(no(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},fmt={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},JB=function(t,e){var n=jv.parse(t,e[0]),r=e[1];return r&&eu(r)?{color:n,stop:r}:{color:n,stop:null}},zY=function(t,e){var n=t[0],r=t[t.length-1];n.stop===null&&(n.stop=nc),r.stop===null&&(r.stop=Rv);for(var i=[],s=0,l=0;l<t.length;l++){var c=t[l].stop;if(c!==null){var a=wo(c,e);a>s?i.push(a):i.push(s),s=a}else i.push(null)}for(var f=null,l=0;l<i.length;l++){var A=i[l];if(A===null)f===null&&(f=l);else if(f!==null){for(var m=l-f,_=i[f-1],y=(A-_)/(m+1),T=1;T<=m;T++)i[f+T-1]=y*T;f=null}}return t.map(function(E,P){var I=E.color;return{color:I,stop:Math.max(Math.min(1,i[P]/e),0)}})},pmt=function(t,e,n){var r=e/2,i=n/2,s=wo(t[0],e)-r,l=i-wo(t[1],n);return(Math.atan2(l,s)+Math.PI*2)%(Math.PI*2)},Amt=function(t,e,n){var r=typeof t=="number"?t:pmt(t,e,n),i=Math.abs(e*Math.sin(r))+Math.abs(n*Math.cos(r)),s=e/2,l=n/2,c=i/2,a=Math.sin(r-Math.PI/2)*c,f=Math.cos(r-Math.PI/2)*c;return[i,s-f,s+f,l-a,l+a]},Ip=function(t,e){return Math.sqrt(t*t+e*e)},$Y=function(t,e,n,r,i){var s=[[0,0],[0,e],[t,0],[t,e]];return s.reduce(function(l,c){var a=c[0],f=c[1],A=Ip(n-a,r-f);return(i?A<l.optimumDistance:A>l.optimumDistance)?{optimumCorner:c,optimumDistance:A}:l},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},mmt=function(t,e,n,r,i){var s=0,l=0;switch(t.size){case 0:t.shape===0?s=l=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-i)):t.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-r)),l=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(t.shape===0)s=l=Math.min(Ip(e,n),Ip(e,n-i),Ip(e-r,n),Ip(e-r,n-i));else if(t.shape===1){var c=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(e),Math.abs(e-r)),a=$Y(r,i,e,n,!0),f=a[0],A=a[1];s=Ip(f-e,(A-n)/c),l=c*s}break;case 1:t.shape===0?s=l=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-i)):t.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-r)),l=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(t.shape===0)s=l=Math.max(Ip(e,n),Ip(e,n-i),Ip(e-r,n),Ip(e-r,n-i));else if(t.shape===1){var c=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(e),Math.abs(e-r)),m=$Y(r,i,e,n,!1),f=m[0],A=m[1];s=Ip(f-e,(A-n)/c),l=c*s}break}return Array.isArray(t.size)&&(s=wo(t.size[0],r),l=t.size.length===2?wo(t.size[1],i):s),[s,l]},gmt=function(t,e){var n=yf(180),r=[];return Mm(e).forEach(function(i,s){if(s===0){var l=i[0];if(l.type===20&&l.value==="to"){n=fce(i);return}else if(dce(l)){n=ZB.parse(t,l);return}}var c=JB(t,i);r.push(c)}),{angle:n,stops:r,type:1}},I3=function(t,e){var n=yf(180),r=[];return Mm(e).forEach(function(i,s){if(s===0){var l=i[0];if(l.type===20&&["top","left","right","bottom"].indexOf(l.value)!==-1){n=fce(i);return}else if(dce(l)){n=(ZB.parse(t,l)+yf(270))%yf(360);return}}var c=JB(t,i);r.push(c)}),{angle:n,stops:r,type:1}},vmt=function(t,e){var n=yf(180),r=[],i=1,s=0,l=3,c=[];return Mm(e).forEach(function(a,f){var A=a[0];if(f===0){if(no(A)&&A.value==="linear"){i=1;return}else if(no(A)&&A.value==="radial"){i=2;return}}if(A.type===18){if(A.name==="from"){var m=jv.parse(t,A.values[0]);r.push({stop:nc,color:m})}else if(A.name==="to"){var m=jv.parse(t,A.values[0]);r.push({stop:Rv,color:m})}else if(A.name==="color-stop"){var _=A.values.filter(_2);if(_.length===2){var m=jv.parse(t,_[1]),y=_[0];G2(y)&&r.push({stop:{type:16,number:y.number*100,flags:y.flags},color:m})}}}}),i===1?{angle:(n+yf(180))%yf(360),stops:r,type:i}:{size:l,shape:s,stops:r,position:c,type:i}},pce="closest-side",Ace="farthest-side",mce="closest-corner",gce="farthest-corner",vce="circle",_ce="ellipse",yce="cover",bce="contain",_mt=function(t,e){var n=0,r=3,i=[],s=[];return Mm(e).forEach(function(l,c){var a=!0;if(c===0){var f=!1;a=l.reduce(function(m,_){if(f)if(no(_))switch(_.value){case"center":return s.push(dU),m;case"top":case"left":return s.push(nc),m;case"right":case"bottom":return s.push(Rv),m}else(eu(_)||l1(_))&&s.push(_);else if(no(_))switch(_.value){case vce:return n=0,!1;case _ce:return n=1,!1;case"at":return f=!0,!1;case pce:return r=0,!1;case yce:case Ace:return r=1,!1;case bce:case mce:return r=2,!1;case gce:return r=3,!1}else if(l1(_)||eu(_))return Array.isArray(r)||(r=[]),r.push(_),!1;return m},a)}if(a){var A=JB(t,l);i.push(A)}}),{size:r,shape:n,stops:i,position:s,type:2}},L3=function(t,e){var n=0,r=3,i=[],s=[];return Mm(e).forEach(function(l,c){var a=!0;if(c===0?a=l.reduce(function(A,m){if(no(m))switch(m.value){case"center":return s.push(dU),!1;case"top":case"left":return s.push(nc),!1;case"right":case"bottom":return s.push(Rv),!1}else if(eu(m)||l1(m))return s.push(m),!1;return A},a):c===1&&(a=l.reduce(function(A,m){if(no(m))switch(m.value){case vce:return n=0,!1;case _ce:return n=1,!1;case bce:case pce:return r=0,!1;case Ace:return r=1,!1;case mce:return r=2,!1;case yce:case gce:return r=3,!1}else if(l1(m)||eu(m))return Array.isArray(r)||(r=[]),r.push(m),!1;return A},a)),a){var f=JB(t,l);i.push(f)}}),{size:r,shape:n,stops:i,position:s,type:2}},ymt=function(t){return t.type===1},bmt=function(t){return t.type===2},fU={name:"image",parse:function(t,e){if(e.type===22){var n={url:e.value,type:0};return t.cache.addImage(e.value),n}if(e.type===18){var r=wce[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function wmt(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!wce[t.name])}var wce={"linear-gradient":gmt,"-moz-linear-gradient":I3,"-ms-linear-gradient":I3,"-o-linear-gradient":I3,"-webkit-linear-gradient":I3,"radial-gradient":_mt,"-moz-radial-gradient":L3,"-ms-radial-gradient":L3,"-o-radial-gradient":L3,"-webkit-radial-gradient":L3,"-webkit-gradient":vmt},xmt={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e.filter(function(r){return _2(r)&&wmt(r)}).map(function(r){return fU.parse(t,r)})}},Cmt={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(no(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Emt={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return Mm(e).map(function(n){return n.filter(eu)}).map(oce)}},Smt={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return Mm(e).map(function(n){return n.filter(no).map(function(r){return r.value}).join(" ")}).map(Tmt)}},Tmt=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Nw;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Nw||(Nw={}));var Bmt={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return Mm(e).map(function(n){return n.filter(Mmt)})}},Mmt=function(t){return no(t)||eu(t)},eM=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Imt=eM("top"),Lmt=eM("right"),Pmt=eM("bottom"),Fmt=eM("left"),tM=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,n){return oce(n.filter(eu))}}},kmt=tM("top-left"),Rmt=tM("top-right"),Omt=tM("bottom-right"),Dmt=tM("bottom-left"),nM=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Nmt=nM("top"),Umt=nM("right"),zmt=nM("bottom"),$mt=nM("left"),rM=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,n){return l5(n)?n.number:0}}},Vmt=rM("top"),Hmt=rM("right"),Qmt=rM("bottom"),jmt=rM("left"),Gmt={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Kmt={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},Wmt={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(no).reduce(function(n,r){return n|qmt(r.value)},0)}},qmt=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Ymt={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Xmt={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},l8;(function(t){t.NORMAL="normal",t.STRICT="strict"})(l8||(l8={}));var Zmt={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return l8.STRICT;case"normal":default:return l8.NORMAL}}},Jmt={name:"line-height",initialValue:"normal",prefix:!1,type:4},VY=function(t,e){return no(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:eu(t)?wo(t,e):e},egt={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:fU.parse(t,e)}},tgt={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},EO={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},iM=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},ngt=iM("top"),rgt=iM("right"),igt=iM("bottom"),agt=iM("left"),sgt={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(no).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},ogt={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},aM=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},lgt=aM("top"),ugt=aM("right"),cgt=aM("bottom"),hgt=aM("left"),dgt={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},fgt={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},pgt={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&CO(e[0],"none")?[]:Mm(e).map(function(n){for(var r={color:Hg.TRANSPARENT,offsetX:nc,offsetY:nc,blur:nc},i=0,s=0;s<n.length;s++){var l=n[s];l1(l)?(i===0?r.offsetX=l:i===1?r.offsetY=l:r.blur=l,i++):r.color=jv.parse(t,l)}return r})}},Agt={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},mgt={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var n=_gt[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return n(e.values)}return null}},ggt=function(t){var e=t.filter(function(n){return n.type===17}).map(function(n){return n.number});return e.length===6?e:null},vgt=function(t){var e=t.filter(function(a){return a.type===17}).map(function(a){return a.number}),n=e[0],r=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var l=e[12],c=e[13];return e[14],e[15],e.length===16?[n,r,i,s,l,c]:null},_gt={matrix:ggt,matrix3d:vgt},HY={type:16,number:50,flags:o5},ygt=[HY,HY],bgt={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var n=e.filter(eu);return n.length!==2?ygt:[n[0],n[1]]}},wgt={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},hC;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(hC||(hC={}));var xgt={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return hC.BREAK_ALL;case"keep-all":return hC.KEEP_ALL;case"normal":default:return hC.NORMAL}}},Cgt={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(G2(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},xce={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},Egt={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return G2(e)?e.number:1}},Sgt={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Tgt={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(no).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},Bgt={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var n=[],r=[];return e.forEach(function(i){switch(i.type){case 20:case 0:n.push(i.value);break;case 17:n.push(i.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},Mgt={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Igt={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(G2(e))return e.number;if(no(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},Lgt={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(no).map(function(n){return n.value})}},Pgt={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},pu=function(t,e){return(t&e)!==0},Fgt={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e}},kgt={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;for(var r=[],i=e.filter(sce),s=0;s<i.length;s++){var l=i[s],c=i[s+1];if(l.type===20){var a=c&&G2(c)?c.number:1;r.push({counter:l.value,increment:a})}}return r}},Rgt={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var n=[],r=e.filter(sce),i=0;i<r.length;i++){var s=r[i],l=r[i+1];if(no(s)&&s.value!=="none"){var c=l&&G2(l)?l.number:0;n.push({counter:s.value,reset:c})}}return n}},Ogt={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(l5).map(function(n){return xce.parse(t,n)})}},Dgt={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;var r=[],i=e.filter(umt);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var l=i[s].value,c=i[s+1].value;r.push({open:l,close:c})}return r}},QY=function(t,e,n){if(!t)return"";var r=t[Math.min(e,t.length-1)];return r?n?r.open:r.close:""},Ngt={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&CO(e[0],"none")?[]:Mm(e).map(function(n){for(var r={color:255,offsetX:nc,offsetY:nc,blur:nc,spread:nc,inset:!1},i=0,s=0;s<n.length;s++){var l=n[s];CO(l,"inset")?r.inset=!0:l1(l)?(i===0?r.offsetX=l:i===1?r.offsetY=l:i===2?r.blur=l:r.spread=l,i++):r.color=jv.parse(t,l)}return r})}},Ugt={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var n=[0,1,2],r=[];return e.filter(no).forEach(function(i){switch(i.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(i){r.indexOf(i)===-1&&r.push(i)}),r}},zgt={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},$gt={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return l5(e)?e.number:0}},Vgt=function(){function t(e,n){var r,i;this.animationDuration=li(e,Ogt,n.animationDuration),this.backgroundClip=li(e,dmt,n.backgroundClip),this.backgroundColor=li(e,fmt,n.backgroundColor),this.backgroundImage=li(e,xmt,n.backgroundImage),this.backgroundOrigin=li(e,Cmt,n.backgroundOrigin),this.backgroundPosition=li(e,Emt,n.backgroundPosition),this.backgroundRepeat=li(e,Smt,n.backgroundRepeat),this.backgroundSize=li(e,Bmt,n.backgroundSize),this.borderTopColor=li(e,Imt,n.borderTopColor),this.borderRightColor=li(e,Lmt,n.borderRightColor),this.borderBottomColor=li(e,Pmt,n.borderBottomColor),this.borderLeftColor=li(e,Fmt,n.borderLeftColor),this.borderTopLeftRadius=li(e,kmt,n.borderTopLeftRadius),this.borderTopRightRadius=li(e,Rmt,n.borderTopRightRadius),this.borderBottomRightRadius=li(e,Omt,n.borderBottomRightRadius),this.borderBottomLeftRadius=li(e,Dmt,n.borderBottomLeftRadius),this.borderTopStyle=li(e,Nmt,n.borderTopStyle),this.borderRightStyle=li(e,Umt,n.borderRightStyle),this.borderBottomStyle=li(e,zmt,n.borderBottomStyle),this.borderLeftStyle=li(e,$mt,n.borderLeftStyle),this.borderTopWidth=li(e,Vmt,n.borderTopWidth),this.borderRightWidth=li(e,Hmt,n.borderRightWidth),this.borderBottomWidth=li(e,Qmt,n.borderBottomWidth),this.borderLeftWidth=li(e,jmt,n.borderLeftWidth),this.boxShadow=li(e,Ngt,n.boxShadow),this.color=li(e,Gmt,n.color),this.direction=li(e,Kmt,n.direction),this.display=li(e,Wmt,n.display),this.float=li(e,Ymt,n.cssFloat),this.fontFamily=li(e,Bgt,n.fontFamily),this.fontSize=li(e,Mgt,n.fontSize),this.fontStyle=li(e,Pgt,n.fontStyle),this.fontVariant=li(e,Lgt,n.fontVariant),this.fontWeight=li(e,Igt,n.fontWeight),this.letterSpacing=li(e,Xmt,n.letterSpacing),this.lineBreak=li(e,Zmt,n.lineBreak),this.lineHeight=li(e,Jmt,n.lineHeight),this.listStyleImage=li(e,egt,n.listStyleImage),this.listStylePosition=li(e,tgt,n.listStylePosition),this.listStyleType=li(e,EO,n.listStyleType),this.marginTop=li(e,ngt,n.marginTop),this.marginRight=li(e,rgt,n.marginRight),this.marginBottom=li(e,igt,n.marginBottom),this.marginLeft=li(e,agt,n.marginLeft),this.opacity=li(e,Egt,n.opacity);var s=li(e,sgt,n.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=li(e,ogt,n.overflowWrap),this.paddingTop=li(e,lgt,n.paddingTop),this.paddingRight=li(e,ugt,n.paddingRight),this.paddingBottom=li(e,cgt,n.paddingBottom),this.paddingLeft=li(e,hgt,n.paddingLeft),this.paintOrder=li(e,Ugt,n.paintOrder),this.position=li(e,fgt,n.position),this.textAlign=li(e,dgt,n.textAlign),this.textDecorationColor=li(e,Sgt,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=li(e,Tgt,(i=n.textDecorationLine)!==null&&i!==void 0?i:n.textDecoration),this.textShadow=li(e,pgt,n.textShadow),this.textTransform=li(e,Agt,n.textTransform),this.transform=li(e,mgt,n.transform),this.transformOrigin=li(e,bgt,n.transformOrigin),this.visibility=li(e,wgt,n.visibility),this.webkitTextStrokeColor=li(e,zgt,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=li(e,$gt,n.webkitTextStrokeWidth),this.wordBreak=li(e,xgt,n.wordBreak),this.zIndex=li(e,Cgt,n.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Gv(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return pu(this.display,4)||pu(this.display,33554432)||pu(this.display,268435456)||pu(this.display,536870912)||pu(this.display,67108864)||pu(this.display,134217728)},t}(),Hgt=function(){function t(e,n){this.content=li(e,Fgt,n.content),this.quotes=li(e,Dgt,n.quotes)}return t}(),jY=function(){function t(e,n){this.counterIncrement=li(e,kgt,n.counterIncrement),this.counterReset=li(e,Rgt,n.counterReset)}return t}(),li=function(t,e,n){var r=new ice,i=n!==null&&typeof n<"u"?n.toString():e.initialValue;r.write(i);var s=new ace(r.read());switch(e.type){case 2:var l=s.parseComponentValue();return e.parse(t,no(l)?l.value:e.initialValue);case 0:return e.parse(t,s.parseComponentValue());case 1:return e.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return ZB.parse(t,s.parseComponentValue());case"color":return jv.parse(t,s.parseComponentValue());case"image":return fU.parse(t,s.parseComponentValue());case"length":var c=s.parseComponentValue();return l1(c)?c:nc;case"length-percentage":var a=s.parseComponentValue();return eu(a)?a:nc;case"time":return xce.parse(t,s.parseComponentValue())}break}},Qgt="data-html2canvas-debug",jgt=function(t){var e=t.getAttribute(Qgt);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},SO=function(t,e){var n=jgt(t);return n===1||e===n},Im=function(){function t(e,n){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,SO(n,3))debugger;this.styles=new Vgt(e,window.getComputedStyle(n,null)),MO(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=YB(this.context,n),SO(n,4)&&(this.flags|=16)}return t}(),Ggt="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",GY="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T4=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var P3=0;P3<GY.length;P3++)T4[GY.charCodeAt(P3)]=P3;var Kgt=function(t){var e=t.length*.75,n=t.length,r,i=0,s,l,c,a;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var f=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),A=Array.isArray(f)?f:new Uint8Array(f);for(r=0;r<n;r+=4)s=T4[t.charCodeAt(r)],l=T4[t.charCodeAt(r+1)],c=T4[t.charCodeAt(r+2)],a=T4[t.charCodeAt(r+3)],A[i++]=s<<2|l>>4,A[i++]=(l&15)<<4|c>>2,A[i++]=(c&3)<<6|a&63;return f},Wgt=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},qgt=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},Y_=5,pU=11,FP=2,Ygt=pU-Y_,Cce=65536>>Y_,Xgt=1<<Y_,kP=Xgt-1,Zgt=1024>>Y_,Jgt=Cce+Zgt,e0t=Jgt,t0t=32,n0t=e0t+t0t,r0t=65536>>pU,i0t=1<<Ygt,a0t=i0t-1,KY=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},s0t=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},o0t=function(t,e){var n=Kgt(t),r=Array.isArray(n)?qgt(n):new Uint32Array(n),i=Array.isArray(n)?Wgt(n):new Uint16Array(n),s=24,l=KY(i,s/2,r[4]/2),c=r[5]===2?KY(i,(s+r[4])/2):s0t(r,Math.ceil((s+r[4])/4));return new l0t(r[0],r[1],r[2],r[3],l,c)},l0t=function(){function t(e,n,r,i,s,l){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=l}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>Y_],n=(n<<FP)+(e&kP),this.data[n];if(e<=65535)return n=this.index[Cce+(e-55296>>Y_)],n=(n<<FP)+(e&kP),this.data[n];if(e<this.highStart)return n=n0t-r0t+(e>>pU),n=this.index[n],n+=e>>Y_&a0t,n=this.index[n],n=(n<<FP)+(e&kP),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),WY="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u0t=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var F3=0;F3<WY.length;F3++)u0t[WY.charCodeAt(F3)]=F3;var c0t=1,RP=2,OP=3,qY=4,YY=5,h0t=7,XY=8,DP=9,NP=10,ZY=11,JY=12,eX=13,tX=14,UP=15,d0t=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e},f0t=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],i=-1,s="";++i<n;){var l=t[i];l<=65535?r.push(l):(l-=65536,r.push((l>>10)+55296,l%1024+56320)),(i+1===n||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},p0t=o0t(Ggt),cf="",zP="",A0t=function(t){return p0t.get(t)},m0t=function(t,e,n){var r=n-2,i=e[r],s=e[n-1],l=e[n];if(s===RP&&l===OP)return cf;if(s===RP||s===OP||s===qY||l===RP||l===OP||l===qY)return zP;if(s===XY&&[XY,DP,ZY,JY].indexOf(l)!==-1||(s===ZY||s===DP)&&(l===DP||l===NP)||(s===JY||s===NP)&&l===NP||l===eX||l===YY||l===h0t||s===c0t)return cf;if(s===eX&&l===tX){for(;i===YY;)i=e[--r];if(i===tX)return cf}if(s===UP&&l===UP){for(var c=0;i===UP;)c++,i=e[--r];if(c%2===0)return cf}return zP},g0t=function(t){var e=d0t(t),n=e.length,r=0,i=0,s=e.map(A0t);return{next:function(){if(r>=n)return{done:!0,value:null};for(var l=cf;r<n&&(l=m0t(e,s,++r))===cf;);if(l!==cf||r===n){var c=f0t.apply(null,e.slice(i,r));return i=r,{value:c,done:!1}}return{done:!0,value:null}}}},v0t=function(t){for(var e=g0t(t),n=[],r;!(r=e.next()).done;)r.value&&n.push(r.value.slice());return n},_0t=function(t){var e=123;if(t.createRange){var n=t.createRange();if(n.getBoundingClientRect){var r=t.createElement("boundtest");r.style.height=e+"px",r.style.display="block",t.body.appendChild(r),n.selectNode(r);var i=n.getBoundingClientRect(),s=Math.round(i.height);if(t.body.removeChild(r),s===e)return!0}}return!1},y0t=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var n=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,i=XB(r.data).map(function(a){return xl(a)}),s=0,l={},c=i.every(function(a,f){n.setStart(r,s),n.setEnd(r,s+a.length);var A=n.getBoundingClientRect();s+=a.length;var m=A.x>l.x||A.y>l.y;return l=A,f===0?!0:m});return t.body.removeChild(e),c},b0t=function(){return typeof new Image().crossOrigin<"u"},w0t=function(){return typeof new XMLHttpRequest().responseType=="string"},x0t=function(t){var e=new Image,n=t.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),n.toDataURL()}catch{return!1}return!0},nX=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},C0t=function(t){var e=t.createElement("canvas"),n=100;e.width=n,e.height=n;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var i=new Image,s=e.toDataURL();i.src=s;var l=TO(n,n,0,0,i);return r.fillStyle="red",r.fillRect(0,0,n,n),rX(l).then(function(c){r.drawImage(c,0,0);var a=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var f=t.createElement("div");return f.style.backgroundImage="url("+s+")",f.style.height=n+"px",nX(a)?rX(TO(n,n,0,0,f)):Promise.reject(!1)}).then(function(c){return r.drawImage(c,0,0),nX(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},TO=function(t,e,n,r,i){var s="http://www.w3.org/2000/svg",l=document.createElementNS(s,"svg"),c=document.createElementNS(s,"foreignObject");return l.setAttributeNS(null,"width",t.toString()),l.setAttributeNS(null,"height",e.toString()),c.setAttributeNS(null,"width","100%"),c.setAttributeNS(null,"height","100%"),c.setAttributeNS(null,"x",n.toString()),c.setAttributeNS(null,"y",r.toString()),c.setAttributeNS(null,"externalResourcesRequired","true"),l.appendChild(c),c.appendChild(i),l},rX=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Zu={get SUPPORT_RANGE_BOUNDS(){var t=_0t(document);return Object.defineProperty(Zu,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Zu.SUPPORT_RANGE_BOUNDS&&y0t(document);return Object.defineProperty(Zu,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=x0t(document);return Object.defineProperty(Zu,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?C0t(document):Promise.resolve(!1);return Object.defineProperty(Zu,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=b0t();return Object.defineProperty(Zu,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=w0t();return Object.defineProperty(Zu,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Zu,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Zu,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},dC=function(){function t(e,n){this.text=e,this.bounds=n}return t}(),E0t=function(t,e,n,r){var i=B0t(e,n),s=[],l=0;return i.forEach(function(c){if(n.textDecorationLine.length||c.trim().length>0)if(Zu.SUPPORT_RANGE_BOUNDS){var a=iX(r,l,c.length).getClientRects();if(a.length>1){var f=AU(c),A=0;f.forEach(function(_){s.push(new dC(_,Jg.fromDOMRectList(t,iX(r,A+l,_.length).getClientRects()))),A+=_.length})}else s.push(new dC(c,Jg.fromDOMRectList(t,a)))}else{var m=r.splitText(c.length);s.push(new dC(c,S0t(t,r))),r=m}else Zu.SUPPORT_RANGE_BOUNDS||(r=r.splitText(c.length));l+=c.length}),s},S0t=function(t,e){var n=e.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(r,e);var s=YB(t,r);return r.firstChild&&i.replaceChild(r.firstChild,r),s}}return Jg.EMPTY},iX=function(t,e,n){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(t,e),i.setEnd(t,e+n),i},AU=function(t){if(Zu.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(n){return n.segment})}return v0t(t)},T0t=function(t,e){if(Zu.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(t)).map(function(r){return r.segment})}return I0t(t,e)},B0t=function(t,e){return e.letterSpacing!==0?AU(t):T0t(t,e)},M0t=[32,160,4961,65792,65793,4153,4241],I0t=function(t,e){for(var n=rAt(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],i,s=function(){if(i.value){var l=i.value.slice(),c=XB(l),a="";c.forEach(function(f){M0t.indexOf(f)===-1?a+=xl(f):(a.length&&r.push(a),r.push(xl(f)),a="")}),a.length&&r.push(a)}};!(i=n.next()).done;)s();return r},L0t=function(){function t(e,n,r){this.text=P0t(n.data,r.textTransform),this.textBounds=E0t(e,this.text,r,n)}return t}(),P0t=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(F0t,k0t);case 2:return t.toUpperCase();default:return t}},F0t=/(^|\s|:|-|\(|\))([a-z])/g,k0t=function(t,e,n){return t.length>0?e+n.toUpperCase():t},Ece=function(t){sA(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.src=r.currentSrc||r.src,i.intrinsicWidth=r.naturalWidth,i.intrinsicHeight=r.naturalHeight,i.context.cache.addImage(i.src),i}return e}(Im),Sce=function(t){sA(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.canvas=r,i.intrinsicWidth=r.width,i.intrinsicHeight=r.height,i}return e}(Im),Tce=function(t){sA(e,t);function e(n,r){var i=t.call(this,n,r)||this,s=new XMLSerializer,l=YB(n,r);return r.setAttribute("width",l.width+"px"),r.setAttribute("height",l.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(r)),i.intrinsicWidth=r.width.baseVal.value,i.intrinsicHeight=r.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}(Im),Bce=function(t){sA(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.value=r.value,i}return e}(Im),BO=function(t){sA(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.start=r.start,i.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,i}return e}(Im),R0t=[{type:15,flags:0,unit:"px",number:3}],O0t=[{type:16,flags:0,number:50}],D0t=function(t){return t.width>t.height?new Jg(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Jg(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},N0t=function(t){var e=t.type===U0t?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},u8="checkbox",c8="radio",U0t="password",aX=707406591,mU=function(t){sA(e,t);function e(n,r){var i=t.call(this,n,r)||this;switch(i.type=r.type.toLowerCase(),i.checked=r.checked,i.value=N0t(r),(i.type===u8||i.type===c8)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=D0t(i.bounds)),i.type){case u8:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=R0t;break;case c8:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=O0t;break}return i}return e}(Im),Mce=function(t){sA(e,t);function e(n,r){var i=t.call(this,n,r)||this,s=r.options[r.selectedIndex||0];return i.value=s&&s.text||"",i}return e}(Im),Ice=function(t){sA(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.value=r.value,i}return e}(Im),Lce=function(t){sA(e,t);function e(n,r){var i=t.call(this,n,r)||this;i.src=r.src,i.width=parseInt(r.width,10)||0,i.height=parseInt(r.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){i.tree=Fce(n,r.contentWindow.document.documentElement);var s=r.contentWindow.document.documentElement?cC(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):Hg.TRANSPARENT,l=r.contentWindow.document.body?cC(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):Hg.TRANSPARENT;i.backgroundColor=Gv(s)?Gv(l)?i.styles.backgroundColor:l:s}}catch{}return i}return e}(Im),z0t=["OL","UL","MENU"],jS=function(t,e,n,r){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,kce(i)&&i.data.trim().length>0)n.textNodes.push(new L0t(t,i,n.styles));else if(Aw(i))if(Nce(i)&&i.assignedNodes)i.assignedNodes().forEach(function(c){return jS(t,c,n,r)});else{var l=Pce(t,i);l.styles.isVisible()&&($0t(i,l,r)?l.flags|=4:V0t(l.styles)&&(l.flags|=2),z0t.indexOf(i.tagName)!==-1&&(l.flags|=8),n.elements.push(l),i.slot,i.shadowRoot?jS(t,i.shadowRoot,l,r):!h8(i)&&!Rce(i)&&!d8(i)&&jS(t,i,l,r))}},Pce=function(t,e){return IO(e)?new Ece(t,e):Oce(e)?new Sce(t,e):Rce(e)?new Tce(t,e):H0t(e)?new Bce(t,e):Q0t(e)?new BO(t,e):j0t(e)?new mU(t,e):d8(e)?new Mce(t,e):h8(e)?new Ice(t,e):Dce(e)?new Lce(t,e):new Im(t,e)},Fce=function(t,e){var n=Pce(t,e);return n.flags|=4,jS(t,e,n,n),n},$0t=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||gU(t)&&n.styles.isTransparent()},V0t=function(t){return t.isPositioned()||t.isFloating()},kce=function(t){return t.nodeType===Node.TEXT_NODE},Aw=function(t){return t.nodeType===Node.ELEMENT_NODE},MO=function(t){return Aw(t)&&typeof t.style<"u"&&!GS(t)},GS=function(t){return typeof t.className=="object"},H0t=function(t){return t.tagName==="LI"},Q0t=function(t){return t.tagName==="OL"},j0t=function(t){return t.tagName==="INPUT"},G0t=function(t){return t.tagName==="HTML"},Rce=function(t){return t.tagName==="svg"},gU=function(t){return t.tagName==="BODY"},Oce=function(t){return t.tagName==="CANVAS"},sX=function(t){return t.tagName==="VIDEO"},IO=function(t){return t.tagName==="IMG"},Dce=function(t){return t.tagName==="IFRAME"},oX=function(t){return t.tagName==="STYLE"},K0t=function(t){return t.tagName==="SCRIPT"},h8=function(t){return t.tagName==="TEXTAREA"},d8=function(t){return t.tagName==="SELECT"},Nce=function(t){return t.tagName==="SLOT"},lX=function(t){return t.tagName.indexOf("-")>0},W0t=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var n=this.counters[e];return n&&n.length?n[n.length-1]:1},t.prototype.getCounterValues=function(e){var n=this.counters[e];return n||[]},t.prototype.pop=function(e){var n=this;e.forEach(function(r){return n.counters[r].pop()})},t.prototype.parse=function(e){var n=this,r=e.counterIncrement,i=e.counterReset,s=!0;r!==null&&r.forEach(function(c){var a=n.counters[c.counter];a&&c.increment!==0&&(s=!1,a.length||a.push(1),a[Math.max(0,a.length-1)]+=c.increment)});var l=[];return s&&i.forEach(function(c){var a=n.counters[c.counter];l.push(c.counter),a||(a=n.counters[c.counter]=[]),a.push(c.reset)}),l},t}(),uX={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},cX={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},q0t={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Y0t={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Fb=function(t,e,n,r,i,s){return t<e||t>n?_6(t,i,s.length>0):r.integers.reduce(function(l,c,a){for(;t>=c;)t-=c,l+=r.values[a];return l},"")+s},Uce=function(t,e,n,r){var i="";do n||t--,i=r(t)+i,t/=e;while(t*e>=e);return i},wl=function(t,e,n,r,i){var s=n-e+1;return(t<0?"-":"")+(Uce(Math.abs(t),s,r,function(l){return xl(Math.floor(l%s)+e)})+i)},a_=function(t,e,n){n===void 0&&(n=". ");var r=e.length;return Uce(Math.abs(t),r,!1,function(i){return e[Math.floor(i%r)]})+n},ew=1,dv=2,fv=4,B4=8,Sg=function(t,e,n,r,i,s){if(t<-9999||t>9999)return _6(t,4,i.length>0);var l=Math.abs(t),c=i;if(l===0)return e[0]+c;for(var a=0;l>0&&a<=4;a++){var f=l%10;f===0&&pu(s,ew)&&c!==""?c=e[f]+c:f>1||f===1&&a===0||f===1&&a===1&&pu(s,dv)||f===1&&a===1&&pu(s,fv)&&t>100||f===1&&a>1&&pu(s,B4)?c=e[f]+(a>0?n[a-1]:"")+c:f===1&&a>0&&(c=n[a-1]+c),l=Math.floor(l/10)}return(t<0?r:"")+c},hX="",dX="",fX="",$P="",_6=function(t,e,n){var r=n?". ":"",i=n?"":"",s=n?", ":"",l=n?" ":"";switch(e){case 0:return""+l;case 1:return""+l;case 2:return""+l;case 5:var c=wl(t,48,57,!0,r);return c.length<4?"0"+c:c;case 4:return a_(t,"",i);case 6:return Fb(t,1,3999,uX,3,r).toLowerCase();case 7:return Fb(t,1,3999,uX,3,r);case 8:return wl(t,945,969,!1,r);case 9:return wl(t,97,122,!1,r);case 10:return wl(t,65,90,!1,r);case 11:return wl(t,1632,1641,!0,r);case 12:case 49:return Fb(t,1,9999,cX,3,r);case 35:return Fb(t,1,9999,cX,3,r).toLowerCase();case 13:return wl(t,2534,2543,!0,r);case 14:case 30:return wl(t,6112,6121,!0,r);case 15:return a_(t,"",i);case 16:return a_(t,"",i);case 17:case 48:return Sg(t,"",hX,"",i,dv|fv|B4);case 47:return Sg(t,"",dX,"",i,ew|dv|fv|B4);case 42:return Sg(t,"",hX,"",i,dv|fv|B4);case 41:return Sg(t,"",dX,"",i,ew|dv|fv|B4);case 26:return Sg(t,"","",fX,i,0);case 25:return Sg(t,"","",fX,i,ew|dv|fv);case 31:return Sg(t,"","",$P,s,ew|dv|fv);case 33:return Sg(t,"","",$P,s,0);case 32:return Sg(t,"","",$P,s,ew|dv|fv);case 18:return wl(t,2406,2415,!0,r);case 20:return Fb(t,1,19999,Y0t,3,r);case 21:return wl(t,2790,2799,!0,r);case 22:return wl(t,2662,2671,!0,r);case 22:return Fb(t,1,10999,q0t,3,r);case 23:return a_(t,"");case 24:return a_(t,"");case 27:return wl(t,3302,3311,!0,r);case 28:return a_(t,"",i);case 29:return a_(t,"",i);case 34:return wl(t,3792,3801,!0,r);case 37:return wl(t,6160,6169,!0,r);case 38:return wl(t,4160,4169,!0,r);case 39:return wl(t,2918,2927,!0,r);case 40:return wl(t,1776,1785,!0,r);case 43:return wl(t,3046,3055,!0,r);case 44:return wl(t,3174,3183,!0,r);case 45:return wl(t,3664,3673,!0,r);case 46:return wl(t,3872,3881,!0,r);case 3:default:return wl(t,48,57,!0,r)}},zce="data-html2canvas-ignore",pX=function(){function t(e,n,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new W0t,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,n){var r=this,i=X0t(e,n);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,l=e.defaultView.pageYOffset,c=i.contentWindow,a=c.document,f=evt(i).then(function(){return Zc(r,void 0,void 0,function(){var A,m;return Ec(this,function(_){switch(_.label){case 0:return this.scrolledElements.forEach(ivt),c&&(c.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(c.scrollY!==n.top||c.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(c.scrollX-n.left,c.scrollY-n.top,0,0))),A=this.options.onclone,m=this.clonedReferenceElement,typeof m>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:a.fonts&&a.fonts.ready?[4,a.fonts.ready]:[3,2];case 1:_.sent(),_.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,J0t(a)]:[3,4];case 3:_.sent(),_.label=4;case 4:return typeof A=="function"?[2,Promise.resolve().then(function(){return A(a,m)}).then(function(){return i})]:[2,i]}})})});return a.open(),a.write(nvt(document.doctype)+"<html></html>"),rvt(this.referenceElement.ownerDocument,s,l),a.replaceChild(a.adoptNode(this.documentElement),a.documentElement),a.close(),f},t.prototype.createElementClone=function(e){if(SO(e,2))debugger;if(Oce(e))return this.createCanvasClone(e);if(sX(e))return this.createVideoClone(e);if(oX(e))return this.createStyleClone(e);var n=e.cloneNode(!1);return IO(n)&&(IO(e)&&e.currentSrc&&e.currentSrc!==e.src&&(n.src=e.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),lX(n)?this.createCustomElementClone(n):n},t.prototype.createCustomElementClone=function(e){var n=document.createElement("html2canvascustomelement");return VP(e.style,n),n},t.prototype.createStyleClone=function(e){try{var n=e.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(s,l){return l&&typeof l.cssText=="string"?s+l.cssText:s},""),i=e.cloneNode(!1);return i.textContent=r,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var n;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),l=i.getContext("2d");if(l)if(!this.options.allowTaint&&s)l.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var c=(n=e.getContext("webgl2"))!==null&&n!==void 0?n:e.getContext("webgl");if(c){var a=c.getContextAttributes();(a==null?void 0:a.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}l.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var n=e.ownerDocument.createElement("canvas");n.width=e.offsetWidth,n.height=e.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(e,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,n,r){(!Aw(n)||!K0t(n)&&!n.hasAttribute(zce)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!Aw(n)||!oX(n))&&e.appendChild(this.cloneNode(n,r))},t.prototype.cloneChildNodes=function(e,n,r){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(Aw(s)&&Nce(s)&&typeof s.assignedNodes=="function"){var l=s.assignedNodes();l.length&&l.forEach(function(c){return i.appendChildNode(n,c,r)})}else this.appendChildNode(n,s,r)},t.prototype.cloneNode=function(e,n){if(kce(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&Aw(e)&&(MO(e)||GS(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=r.getComputedStyle(e),l=r.getComputedStyle(e,":before"),c=r.getComputedStyle(e,":after");this.referenceElement===e&&MO(i)&&(this.clonedReferenceElement=i),gU(i)&&ovt(i);var a=this.counters.parse(new jY(this.context,s)),f=this.resolvePseudoContent(e,i,l,fC.BEFORE);lX(e)&&(n=!0),sX(e)||this.cloneChildNodes(e,i,n),f&&i.insertBefore(f,i.firstChild);var A=this.resolvePseudoContent(e,i,c,fC.AFTER);return A&&i.appendChild(A),this.counters.pop(a),(s&&(this.options.copyStyles||GS(e))&&!Dce(e)||n)&&VP(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(h8(e)||d8(e))&&(h8(i)||d8(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,n,r,i){var s=this;if(r){var l=r.content,c=n.ownerDocument;if(!(!c||!l||l==="none"||l==="-moz-alt-content"||r.display==="none")){this.counters.parse(new jY(this.context,r));var a=new Hgt(this.context,r),f=c.createElement("html2canvaspseudoelement");VP(r,f),a.content.forEach(function(m){if(m.type===0)f.appendChild(c.createTextNode(m.value));else if(m.type===22){var _=c.createElement("img");_.src=m.value,_.style.opacity="1",f.appendChild(_)}else if(m.type===18){if(m.name==="attr"){var y=m.values.filter(no);y.length&&f.appendChild(c.createTextNode(e.getAttribute(y[0].value)||""))}else if(m.name==="counter"){var T=m.values.filter(_2),E=T[0],P=T[1];if(E&&no(E)){var I=s.counters.getCounterValue(E.value),F=P&&no(P)?EO.parse(s.context,P.value):3;f.appendChild(c.createTextNode(_6(I,F,!1)))}}else if(m.name==="counters"){var R=m.values.filter(_2),E=R[0],N=R[1],P=R[2];if(E&&no(E)){var z=s.counters.getCounterValues(E.value),Q=P&&no(P)?EO.parse(s.context,P.value):3,j=N&&N.type===0?N.value:"",H=z.map(function(q){return _6(q,Q,!1)}).join(j);f.appendChild(c.createTextNode(H))}}}else if(m.type===20)switch(m.value){case"open-quote":f.appendChild(c.createTextNode(QY(a.quotes,s.quoteDepth++,!0)));break;case"close-quote":f.appendChild(c.createTextNode(QY(a.quotes,--s.quoteDepth,!1)));break;default:f.appendChild(c.createTextNode(m.value))}}),f.className=LO+" "+PO;var A=i===fC.BEFORE?" "+LO:" "+PO;return GS(n)?n.className.baseValue+=A:n.className+=A,f}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),fC;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(fC||(fC={}));var X0t=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute(zce,"true"),t.body.appendChild(n),n},Z0t=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},J0t=function(t){return Promise.all([].slice.call(t.images,0).map(Z0t))},evt=function(t){return new Promise(function(e,n){var r=t.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=t.onload=function(){r.onload=t.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(t))},50)}})},tvt=["all","d","content"],VP=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t.item(n);tvt.indexOf(r)===-1&&e.style.setProperty(r,t.getPropertyValue(r))}return e},nvt=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},rvt=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},ivt=function(t){var e=t[0],n=t[1],r=t[2];e.scrollLeft=n,e.scrollTop=r},avt=":before",svt=":after",LO="___html2canvas___pseudoelement_before",PO="___html2canvas___pseudoelement_after",AX=`{
    content: "" !important;
    display: none !important;
}`,ovt=function(t){lvt(t,"."+LO+avt+AX+`
         .`+PO+svt+AX)},lvt=function(t,e){var n=t.ownerDocument;if(n){var r=n.createElement("style");r.textContent=e,t.appendChild(r)}},$ce=function(){function t(){}return t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),uvt=function(){function t(e,n){this.context=e,this._options=n,this._cache={}}return t.prototype.addImage=function(e){var n=Promise.resolve();return this.has(e)||(QP(e)||fvt(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),n},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Zc(this,void 0,void 0,function(){var n,r,i,s,l=this;return Ec(this,function(c){switch(c.label){case 0:return n=$ce.isSameOrigin(e),r=!HP(e)&&this._options.useCORS===!0&&Zu.SUPPORT_CORS_IMAGES&&!n,i=!HP(e)&&!n&&!QP(e)&&typeof this._options.proxy=="string"&&Zu.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!HP(e)&&!QP(e)&&!i&&!r?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=c.sent(),c.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(a,f){var A=new Image;A.onload=function(){return a(A)},A.onerror=f,(pvt(s)||r)&&(A.crossOrigin="anonymous"),A.src=s,A.complete===!0&&setTimeout(function(){return a(A)},500),l._options.imageTimeout>0&&setTimeout(function(){return f("Timed out ("+l._options.imageTimeout+"ms) loading image")},l._options.imageTimeout)})];case 3:return[2,c.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,l){var c=Zu.SUPPORT_RESPONSE_TYPE?"blob":"text",a=new XMLHttpRequest;a.onload=function(){if(a.status===200)if(c==="text")s(a.response);else{var m=new FileReader;m.addEventListener("load",function(){return s(m.result)},!1),m.addEventListener("error",function(_){return l(_)},!1),m.readAsDataURL(a.response)}else l("Failed to proxy resource "+i+" with status code "+a.status)},a.onerror=l;var f=r.indexOf("?")>-1?"&":"?";if(a.open("GET",""+r+f+"url="+encodeURIComponent(e)+"&responseType="+c),c!=="text"&&a instanceof XMLHttpRequest&&(a.responseType=c),n._options.imageTimeout){var A=n._options.imageTimeout;a.timeout=A,a.ontimeout=function(){return l("Timed out ("+A+"ms) proxying "+i)}}a.send()})},t}(),cvt=/^data:image\/svg\+xml/i,hvt=/^data:image\/.*;base64,/i,dvt=/^data:image\/.*/i,fvt=function(t){return Zu.SUPPORT_SVG_DRAWING||!Avt(t)},HP=function(t){return dvt.test(t)},pvt=function(t){return hvt.test(t)},QP=function(t){return t.substr(0,4)==="blob"},Avt=function(t){return t.substr(-3).toLowerCase()==="svg"||cvt.test(t)},ii=function(){function t(e,n){this.type=0,this.x=e,this.y=n}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t}(),kb=function(t,e,n){return new ii(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},k3=function(){function t(e,n,r,i){this.type=1,this.start=e,this.startControl=n,this.endControl=r,this.end=i}return t.prototype.subdivide=function(e,n){var r=kb(this.start,this.startControl,e),i=kb(this.startControl,this.endControl,e),s=kb(this.endControl,this.end,e),l=kb(r,i,e),c=kb(i,s,e),a=kb(l,c,e);return n?new t(this.start,r,l,a):new t(a,c,s,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),df=function(t){return t.type===1},mvt=function(){function t(e){var n=e.styles,r=e.bounds,i=S4(n.borderTopLeftRadius,r.width,r.height),s=i[0],l=i[1],c=S4(n.borderTopRightRadius,r.width,r.height),a=c[0],f=c[1],A=S4(n.borderBottomRightRadius,r.width,r.height),m=A[0],_=A[1],y=S4(n.borderBottomLeftRadius,r.width,r.height),T=y[0],E=y[1],P=[];P.push((s+a)/r.width),P.push((T+m)/r.width),P.push((l+E)/r.height),P.push((f+_)/r.height);var I=Math.max.apply(Math,P);I>1&&(s/=I,l/=I,a/=I,f/=I,m/=I,_/=I,T/=I,E/=I);var F=r.width-a,R=r.height-_,N=r.width-m,z=r.height-E,Q=n.borderTopWidth,j=n.borderRightWidth,H=n.borderBottomWidth,K=n.borderLeftWidth,ie=wo(n.paddingTop,e.bounds.width),q=wo(n.paddingRight,e.bounds.width),W=wo(n.paddingBottom,e.bounds.width),ee=wo(n.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||l>0?Uo(r.left+K/3,r.top+Q/3,s-K/3,l-Q/3,ks.TOP_LEFT):new ii(r.left+K/3,r.top+Q/3),this.topRightBorderDoubleOuterBox=s>0||l>0?Uo(r.left+F,r.top+Q/3,a-j/3,f-Q/3,ks.TOP_RIGHT):new ii(r.left+r.width-j/3,r.top+Q/3),this.bottomRightBorderDoubleOuterBox=m>0||_>0?Uo(r.left+N,r.top+R,m-j/3,_-H/3,ks.BOTTOM_RIGHT):new ii(r.left+r.width-j/3,r.top+r.height-H/3),this.bottomLeftBorderDoubleOuterBox=T>0||E>0?Uo(r.left+K/3,r.top+z,T-K/3,E-H/3,ks.BOTTOM_LEFT):new ii(r.left+K/3,r.top+r.height-H/3),this.topLeftBorderDoubleInnerBox=s>0||l>0?Uo(r.left+K*2/3,r.top+Q*2/3,s-K*2/3,l-Q*2/3,ks.TOP_LEFT):new ii(r.left+K*2/3,r.top+Q*2/3),this.topRightBorderDoubleInnerBox=s>0||l>0?Uo(r.left+F,r.top+Q*2/3,a-j*2/3,f-Q*2/3,ks.TOP_RIGHT):new ii(r.left+r.width-j*2/3,r.top+Q*2/3),this.bottomRightBorderDoubleInnerBox=m>0||_>0?Uo(r.left+N,r.top+R,m-j*2/3,_-H*2/3,ks.BOTTOM_RIGHT):new ii(r.left+r.width-j*2/3,r.top+r.height-H*2/3),this.bottomLeftBorderDoubleInnerBox=T>0||E>0?Uo(r.left+K*2/3,r.top+z,T-K*2/3,E-H*2/3,ks.BOTTOM_LEFT):new ii(r.left+K*2/3,r.top+r.height-H*2/3),this.topLeftBorderStroke=s>0||l>0?Uo(r.left+K/2,r.top+Q/2,s-K/2,l-Q/2,ks.TOP_LEFT):new ii(r.left+K/2,r.top+Q/2),this.topRightBorderStroke=s>0||l>0?Uo(r.left+F,r.top+Q/2,a-j/2,f-Q/2,ks.TOP_RIGHT):new ii(r.left+r.width-j/2,r.top+Q/2),this.bottomRightBorderStroke=m>0||_>0?Uo(r.left+N,r.top+R,m-j/2,_-H/2,ks.BOTTOM_RIGHT):new ii(r.left+r.width-j/2,r.top+r.height-H/2),this.bottomLeftBorderStroke=T>0||E>0?Uo(r.left+K/2,r.top+z,T-K/2,E-H/2,ks.BOTTOM_LEFT):new ii(r.left+K/2,r.top+r.height-H/2),this.topLeftBorderBox=s>0||l>0?Uo(r.left,r.top,s,l,ks.TOP_LEFT):new ii(r.left,r.top),this.topRightBorderBox=a>0||f>0?Uo(r.left+F,r.top,a,f,ks.TOP_RIGHT):new ii(r.left+r.width,r.top),this.bottomRightBorderBox=m>0||_>0?Uo(r.left+N,r.top+R,m,_,ks.BOTTOM_RIGHT):new ii(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=T>0||E>0?Uo(r.left,r.top+z,T,E,ks.BOTTOM_LEFT):new ii(r.left,r.top+r.height),this.topLeftPaddingBox=s>0||l>0?Uo(r.left+K,r.top+Q,Math.max(0,s-K),Math.max(0,l-Q),ks.TOP_LEFT):new ii(r.left+K,r.top+Q),this.topRightPaddingBox=a>0||f>0?Uo(r.left+Math.min(F,r.width-j),r.top+Q,F>r.width+j?0:Math.max(0,a-j),Math.max(0,f-Q),ks.TOP_RIGHT):new ii(r.left+r.width-j,r.top+Q),this.bottomRightPaddingBox=m>0||_>0?Uo(r.left+Math.min(N,r.width-K),r.top+Math.min(R,r.height-H),Math.max(0,m-j),Math.max(0,_-H),ks.BOTTOM_RIGHT):new ii(r.left+r.width-j,r.top+r.height-H),this.bottomLeftPaddingBox=T>0||E>0?Uo(r.left+K,r.top+Math.min(z,r.height-H),Math.max(0,T-K),Math.max(0,E-H),ks.BOTTOM_LEFT):new ii(r.left+K,r.top+r.height-H),this.topLeftContentBox=s>0||l>0?Uo(r.left+K+ee,r.top+Q+ie,Math.max(0,s-(K+ee)),Math.max(0,l-(Q+ie)),ks.TOP_LEFT):new ii(r.left+K+ee,r.top+Q+ie),this.topRightContentBox=a>0||f>0?Uo(r.left+Math.min(F,r.width+K+ee),r.top+Q+ie,F>r.width+K+ee?0:a-K+ee,f-(Q+ie),ks.TOP_RIGHT):new ii(r.left+r.width-(j+q),r.top+Q+ie),this.bottomRightContentBox=m>0||_>0?Uo(r.left+Math.min(N,r.width-(K+ee)),r.top+Math.min(R,r.height+Q+ie),Math.max(0,m-(j+q)),_-(H+W),ks.BOTTOM_RIGHT):new ii(r.left+r.width-(j+q),r.top+r.height-(H+W)),this.bottomLeftContentBox=T>0||E>0?Uo(r.left+K+ee,r.top+z,Math.max(0,T-(K+ee)),E-(H+W),ks.BOTTOM_LEFT):new ii(r.left+K+ee,r.top+r.height-(H+W))}return t}(),ks;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(ks||(ks={}));var Uo=function(t,e,n,r,i){var s=4*((Math.sqrt(2)-1)/3),l=n*s,c=r*s,a=t+n,f=e+r;switch(i){case ks.TOP_LEFT:return new k3(new ii(t,f),new ii(t,f-c),new ii(a-l,e),new ii(a,e));case ks.TOP_RIGHT:return new k3(new ii(t,e),new ii(t+l,e),new ii(a,f-c),new ii(a,f));case ks.BOTTOM_RIGHT:return new k3(new ii(a,e),new ii(a,e+c),new ii(t+l,f),new ii(t,f));case ks.BOTTOM_LEFT:default:return new k3(new ii(a,f),new ii(a-l,f),new ii(t,e+c),new ii(t,e))}},f8=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},gvt=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},p8=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},vvt=function(){function t(e,n,r){this.offsetX=e,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return t}(),R3=function(){function t(e,n){this.path=e,this.target=n,this.type=1}return t}(),_vt=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),yvt=function(t){return t.type===0},Vce=function(t){return t.type===1},bvt=function(t){return t.type===2},mX=function(t,e){return t.length===e.length?t.some(function(n,r){return n===e[r]}):!1},wvt=function(t,e,n,r,i){return t.map(function(s,l){switch(l){case 0:return s.add(e,n);case 1:return s.add(e+r,n);case 2:return s.add(e+r,n+i);case 3:return s.add(e,n+i)}return s})},Hce=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),Qce=function(){function t(e,n){if(this.container=e,this.parent=n,this.effects=[],this.curves=new mvt(this.container),this.container.styles.opacity<1&&this.effects.push(new _vt(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new vvt(r,i,s))}if(this.container.styles.overflowX!==0){var l=f8(this.curves),c=p8(this.curves);mX(l,c)?this.effects.push(new R3(l,6)):(this.effects.push(new R3(l,2)),this.effects.push(new R3(c,4)))}}return t.prototype.getEffects=function(e){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,i=this.effects.slice(0);r;){var s=r.effects.filter(function(a){return!Vce(a)});if(n||r.container.styles.position!==0||!r.parent){if(i.unshift.apply(i,s),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var l=f8(r.curves),c=p8(r.curves);mX(l,c)||i.unshift(new R3(c,6))}}else i.unshift.apply(i,s);r=r.parent}return i.filter(function(a){return pu(a.target,e)})},t}(),FO=function(t,e,n,r){t.container.elements.forEach(function(i){var s=pu(i.flags,4),l=pu(i.flags,2),c=new Qce(i,t);pu(i.styles.display,2048)&&r.push(c);var a=pu(i.flags,8)?[]:r;if(s||l){var f=s||i.styles.isPositioned()?n:e,A=new Hce(c);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var m=i.styles.zIndex.order;if(m<0){var _=0;f.negativeZIndex.some(function(T,E){return m>T.element.container.styles.zIndex.order?(_=E,!1):_>0}),f.negativeZIndex.splice(_,0,A)}else if(m>0){var y=0;f.positiveZIndex.some(function(T,E){return m>=T.element.container.styles.zIndex.order?(y=E+1,!1):y>0}),f.positiveZIndex.splice(y,0,A)}else f.zeroOrAutoZIndexOrTransformedOrOpacity.push(A)}else i.styles.isFloating()?f.nonPositionedFloats.push(A):f.nonPositionedInlineLevel.push(A);FO(c,A,s?A:n,a)}else i.styles.isInlineLevel()?e.inlineLevel.push(c):e.nonInlineLevel.push(c),FO(c,e,n,a);pu(i.flags,8)&&jce(i,a)})},jce=function(t,e){for(var n=t instanceof BO?t.start:1,r=t instanceof BO?t.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof Bce&&typeof s.container.value=="number"&&s.container.value!==0&&(n=s.container.value),s.listValue=_6(n,s.container.styles.listStyleType,!0),n+=r?-1:1}},xvt=function(t){var e=new Qce(t,null),n=new Hce(e),r=[];return FO(e,n,n,r),jce(e.container,r),n},gX=function(t,e){switch(e){case 0:return bf(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return bf(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return bf(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return bf(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},Cvt=function(t,e){switch(e){case 0:return bf(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return bf(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return bf(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return bf(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},Evt=function(t,e){switch(e){case 0:return bf(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return bf(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return bf(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return bf(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},Svt=function(t,e){switch(e){case 0:return O3(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return O3(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return O3(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return O3(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},O3=function(t,e){var n=[];return df(t)?n.push(t.subdivide(.5,!1)):n.push(t),df(e)?n.push(e.subdivide(.5,!0)):n.push(e),n},bf=function(t,e,n,r){var i=[];return df(t)?i.push(t.subdivide(.5,!1)):i.push(t),df(n)?i.push(n.subdivide(.5,!0)):i.push(n),df(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),df(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},Gce=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},A8=function(t){var e=t.styles,n=t.bounds,r=wo(e.paddingLeft,n.width),i=wo(e.paddingRight,n.width),s=wo(e.paddingTop,n.width),l=wo(e.paddingBottom,n.width);return n.add(r+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+i),-(e.borderTopWidth+e.borderBottomWidth+s+l))},Tvt=function(t,e){return t===0?e.bounds:t===2?A8(e):Gce(e)},Bvt=function(t,e){return t===0?e.bounds:t===2?A8(e):Gce(e)},jP=function(t,e,n){var r=Tvt(tw(t.styles.backgroundOrigin,e),t),i=Bvt(tw(t.styles.backgroundClip,e),t),s=Mvt(tw(t.styles.backgroundSize,e),n,r),l=s[0],c=s[1],a=S4(tw(t.styles.backgroundPosition,e),r.width-l,r.height-c),f=Ivt(tw(t.styles.backgroundRepeat,e),a,s,r,i),A=Math.round(r.left+a[0]),m=Math.round(r.top+a[1]);return[f,A,m,l,c]},Rb=function(t){return no(t)&&t.value===Nw.AUTO},D3=function(t){return typeof t=="number"},Mvt=function(t,e,n){var r=e[0],i=e[1],s=e[2],l=t[0],c=t[1];if(!l)return[0,0];if(eu(l)&&c&&eu(c))return[wo(l,n.width),wo(c,n.height)];var a=D3(s);if(no(l)&&(l.value===Nw.CONTAIN||l.value===Nw.COVER)){if(D3(s)){var f=n.width/n.height;return f<s!=(l.value===Nw.COVER)?[n.width,n.width/s]:[n.height*s,n.height]}return[n.width,n.height]}var A=D3(r),m=D3(i),_=A||m;if(Rb(l)&&(!c||Rb(c))){if(A&&m)return[r,i];if(!a&&!_)return[n.width,n.height];if(_&&a){var y=A?r:i*s,T=m?i:r/s;return[y,T]}var E=A?r:n.width,P=m?i:n.height;return[E,P]}if(a){var I=0,F=0;return eu(l)?I=wo(l,n.width):eu(c)&&(F=wo(c,n.height)),Rb(l)?I=F*s:(!c||Rb(c))&&(F=I/s),[I,F]}var R=null,N=null;if(eu(l)?R=wo(l,n.width):c&&eu(c)&&(N=wo(c,n.height)),R!==null&&(!c||Rb(c))&&(N=A&&m?R/r*i:n.height),N!==null&&Rb(l)&&(R=A&&m?N/i*r:n.width),R!==null&&N!==null)return[R,N];throw new Error("Unable to calculate background-size for element")},tw=function(t,e){var n=t[e];return typeof n>"u"?t[0]:n},Ivt=function(t,e,n,r,i){var s=e[0],l=e[1],c=n[0],a=n[1];switch(t){case 2:return[new ii(Math.round(r.left),Math.round(r.top+l)),new ii(Math.round(r.left+r.width),Math.round(r.top+l)),new ii(Math.round(r.left+r.width),Math.round(a+r.top+l)),new ii(Math.round(r.left),Math.round(a+r.top+l))];case 3:return[new ii(Math.round(r.left+s),Math.round(r.top)),new ii(Math.round(r.left+s+c),Math.round(r.top)),new ii(Math.round(r.left+s+c),Math.round(r.height+r.top)),new ii(Math.round(r.left+s),Math.round(r.height+r.top))];case 1:return[new ii(Math.round(r.left+s),Math.round(r.top+l)),new ii(Math.round(r.left+s+c),Math.round(r.top+l)),new ii(Math.round(r.left+s+c),Math.round(r.top+l+a)),new ii(Math.round(r.left+s),Math.round(r.top+l+a))];default:return[new ii(Math.round(i.left),Math.round(i.top)),new ii(Math.round(i.left+i.width),Math.round(i.top)),new ii(Math.round(i.left+i.width),Math.round(i.height+i.top)),new ii(Math.round(i.left),Math.round(i.height+i.top))]}},Lvt="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",vX="Hidden Text",Pvt=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,n){var r=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),l=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",l.appendChild(r),i.src=Lvt,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=n,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(vX)),r.appendChild(s),r.appendChild(i);var c=i.offsetTop-s.offsetTop+2;r.removeChild(s),r.appendChild(this._document.createTextNode(vX)),r.style.lineHeight="normal",i.style.verticalAlign="super";var a=i.offsetTop-r.offsetTop+2;return l.removeChild(r),{baseline:c,middle:a}},t.prototype.getMetrics=function(e,n){var r=e+" "+n;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(e,n)),this._data[r]},t}(),Kce=function(){function t(e,n){this.context=e,this.options=n}return t}(),Fvt=1e4,kvt=function(t){sA(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i._activeEffects=[],i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),r.canvas||(i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px"),i.fontMetrics=new Pvt(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),i}return e.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(i){return r.applyEffect(i)})},e.prototype.applyEffect=function(n){this.ctx.save(),bvt(n)&&(this.ctx.globalAlpha=n.opacity),yvt(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),Vce(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(n){return Zc(this,void 0,void 0,function(){var r;return Ec(this,function(i){switch(i.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(n){return Zc(this,void 0,void 0,function(){return Ec(this,function(r){switch(r.label){case 0:if(pu(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(n,r,i){var s=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+i);else{var l=AU(n.text);l.reduce(function(c,a){return s.ctx.fillText(a,c,n.bounds.top+i),c+s.ctx.measureText(a).width},n.bounds.left)}},e.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(l){return l==="normal"||l==="small-caps"}).join(""),i=Uvt(n.fontFamily).join(", "),s=l5(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(n,r){return Zc(this,void 0,void 0,function(){var i,s,l,c,a,f,A,m,_=this;return Ec(this,function(y){return i=this.createFontStyle(r),s=i[0],l=i[1],c=i[2],this.ctx.font=s,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",a=this.fontMetrics.getMetrics(l,c),f=a.baseline,A=a.middle,m=r.paintOrder,n.textBounds.forEach(function(T){m.forEach(function(E){switch(E){case 0:_.ctx.fillStyle=ku(r.color),_.renderTextWithLetterSpacing(T,r.letterSpacing,f);var P=r.textShadow;P.length&&T.text.trim().length&&(P.slice(0).reverse().forEach(function(I){_.ctx.shadowColor=ku(I.color),_.ctx.shadowOffsetX=I.offsetX.number*_.options.scale,_.ctx.shadowOffsetY=I.offsetY.number*_.options.scale,_.ctx.shadowBlur=I.blur.number,_.renderTextWithLetterSpacing(T,r.letterSpacing,f)}),_.ctx.shadowColor="",_.ctx.shadowOffsetX=0,_.ctx.shadowOffsetY=0,_.ctx.shadowBlur=0),r.textDecorationLine.length&&(_.ctx.fillStyle=ku(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(I){switch(I){case 1:_.ctx.fillRect(T.bounds.left,Math.round(T.bounds.top+f),T.bounds.width,1);break;case 2:_.ctx.fillRect(T.bounds.left,Math.round(T.bounds.top),T.bounds.width,1);break;case 3:_.ctx.fillRect(T.bounds.left,Math.ceil(T.bounds.top+A),T.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&T.text.trim().length&&(_.ctx.strokeStyle=ku(r.webkitTextStrokeColor),_.ctx.lineWidth=r.webkitTextStrokeWidth,_.ctx.lineJoin=window.chrome?"miter":"round",_.ctx.strokeText(T.text,T.bounds.left,T.bounds.top+f)),_.ctx.strokeStyle="",_.ctx.lineWidth=0,_.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(n,r,i){if(i&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var s=A8(n),l=p8(r);this.path(l),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,n.intrinsicWidth,n.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(n){return Zc(this,void 0,void 0,function(){var r,i,s,l,c,a,F,F,f,A,m,_,N,y,T,z,E,P,I,F,R,N,z;return Ec(this,function(Q){switch(Q.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,i=n.curves,s=r.styles,l=0,c=r.textNodes,Q.label=1;case 1:return l<c.length?(a=c[l],[4,this.renderTextNode(a,s)]):[3,4];case 2:Q.sent(),Q.label=3;case 3:return l++,[3,1];case 4:if(!(r instanceof Ece))return[3,8];Q.label=5;case 5:return Q.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return F=Q.sent(),this.renderReplacedElement(r,i,F),[3,8];case 7:return Q.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof Sce&&this.renderReplacedElement(r,i,r.canvas),!(r instanceof Tce))return[3,12];Q.label=9;case 9:return Q.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return F=Q.sent(),this.renderReplacedElement(r,i,F),[3,12];case 11:return Q.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof Lce&&r.tree?(f=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,f.render(r.tree)]):[3,14];case 13:A=Q.sent(),r.width&&r.height&&this.ctx.drawImage(A,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),Q.label=14;case 14:if(r instanceof mU&&(m=Math.min(r.bounds.width,r.bounds.height),r.type===u8?r.checked&&(this.ctx.save(),this.path([new ii(r.bounds.left+m*.39363,r.bounds.top+m*.79),new ii(r.bounds.left+m*.16,r.bounds.top+m*.5549),new ii(r.bounds.left+m*.27347,r.bounds.top+m*.44071),new ii(r.bounds.left+m*.39694,r.bounds.top+m*.5649),new ii(r.bounds.left+m*.72983,r.bounds.top+m*.23),new ii(r.bounds.left+m*.84,r.bounds.top+m*.34085),new ii(r.bounds.left+m*.39363,r.bounds.top+m*.79)]),this.ctx.fillStyle=ku(aX),this.ctx.fill(),this.ctx.restore()):r.type===c8&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+m/2,r.bounds.top+m/2,m/4,0,Math.PI*2,!0),this.ctx.fillStyle=ku(aX),this.ctx.fill(),this.ctx.restore())),Rvt(r)&&r.value.length){switch(_=this.createFontStyle(s),N=_[0],y=_[1],T=this.fontMetrics.getMetrics(N,y).baseline,this.ctx.font=N,this.ctx.fillStyle=ku(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Dvt(r.styles.textAlign),z=A8(r),E=0,r.styles.textAlign){case 1:E+=z.width/2;break;case 2:E+=z.width;break}P=z.add(E,0,0,-z.height/2+1),this.ctx.save(),this.path([new ii(z.left,z.top),new ii(z.left+z.width,z.top),new ii(z.left+z.width,z.top+z.height),new ii(z.left,z.top+z.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new dC(r.value,P),s.letterSpacing,T),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!pu(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(I=r.styles.listStyleImage,I.type!==0)return[3,18];F=void 0,R=I.url,Q.label=15;case 15:return Q.trys.push([15,17,,18]),[4,this.context.cache.match(R)];case 16:return F=Q.sent(),this.ctx.drawImage(F,r.bounds.left-(F.width+10),r.bounds.top),[3,18];case 17:return Q.sent(),this.context.logger.error("Error loading list-style-image "+R),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(N=this.createFontStyle(s)[0],this.ctx.font=N,this.ctx.fillStyle=ku(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",z=new Jg(r.bounds.left,r.bounds.top+wo(r.styles.paddingTop,r.bounds.width),r.bounds.width,VY(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new dC(n.listValue,z),s.letterSpacing,VY(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Q.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(n){return Zc(this,void 0,void 0,function(){var r,i,I,s,l,I,c,a,I,f,A,I,m,_,I,y,T,I,E,P,I;return Ec(this,function(F){switch(F.label){case 0:if(pu(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:F.sent(),r=0,i=n.negativeZIndex,F.label=2;case 2:return r<i.length?(I=i[r],[4,this.renderStack(I)]):[3,5];case 3:F.sent(),F.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:F.sent(),s=0,l=n.nonInlineLevel,F.label=7;case 7:return s<l.length?(I=l[s],[4,this.renderNode(I)]):[3,10];case 8:F.sent(),F.label=9;case 9:return s++,[3,7];case 10:c=0,a=n.nonPositionedFloats,F.label=11;case 11:return c<a.length?(I=a[c],[4,this.renderStack(I)]):[3,14];case 12:F.sent(),F.label=13;case 13:return c++,[3,11];case 14:f=0,A=n.nonPositionedInlineLevel,F.label=15;case 15:return f<A.length?(I=A[f],[4,this.renderStack(I)]):[3,18];case 16:F.sent(),F.label=17;case 17:return f++,[3,15];case 18:m=0,_=n.inlineLevel,F.label=19;case 19:return m<_.length?(I=_[m],[4,this.renderNode(I)]):[3,22];case 20:F.sent(),F.label=21;case 21:return m++,[3,19];case 22:y=0,T=n.zeroOrAutoZIndexOrTransformedOrOpacity,F.label=23;case 23:return y<T.length?(I=T[y],[4,this.renderStack(I)]):[3,26];case 24:F.sent(),F.label=25;case 25:return y++,[3,23];case 26:E=0,P=n.positiveZIndex,F.label=27;case 27:return E<P.length?(I=P[E],[4,this.renderStack(I)]):[3,30];case 28:F.sent(),F.label=29;case 29:return E++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},e.prototype.formatPath=function(n){var r=this;n.forEach(function(i,s){var l=df(i)?i.start:i;s===0?r.ctx.moveTo(l.x,l.y):r.ctx.lineTo(l.x,l.y),df(i)&&r.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(n,r,i,s){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(n,r,i){var s;if(n.width===r&&n.height===i)return n;var l=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,c=l.createElement("canvas");c.width=Math.max(1,r),c.height=Math.max(1,i);var a=c.getContext("2d");return a.drawImage(n,0,0,n.width,n.height,0,0,r,i),c},e.prototype.renderBackgroundImage=function(n){return Zc(this,void 0,void 0,function(){var r,i,s,l,c,a;return Ec(this,function(f){switch(f.label){case 0:r=n.styles.backgroundImage.length-1,i=function(A){var m,_,y,ie,te,ne,ee,ue,H,T,ie,te,ne,ee,ue,E,P,I,F,R,N,z,Q,j,H,K,ie,q,W,ee,ue,J,te,ne,he,ce,ye,Ee,se,oe,_e,Ue;return Ec(this,function(Le){switch(Le.label){case 0:if(A.type!==0)return[3,5];m=void 0,_=A.url,Le.label=1;case 1:return Le.trys.push([1,3,,4]),[4,s.context.cache.match(_)];case 2:return m=Le.sent(),[3,4];case 3:return Le.sent(),s.context.logger.error("Error loading background-image "+_),[3,4];case 4:return m&&(y=jP(n,r,[m.width,m.height,m.width/m.height]),ie=y[0],te=y[1],ne=y[2],ee=y[3],ue=y[4],H=s.ctx.createPattern(s.resizeImage(m,ee,ue),"repeat"),s.renderRepeat(ie,H,te,ne)),[3,6];case 5:ymt(A)?(T=jP(n,r,[null,null,null]),ie=T[0],te=T[1],ne=T[2],ee=T[3],ue=T[4],E=Amt(A.angle,ee,ue),P=E[0],I=E[1],F=E[2],R=E[3],N=E[4],z=document.createElement("canvas"),z.width=ee,z.height=ue,Q=z.getContext("2d"),j=Q.createLinearGradient(I,R,F,N),zY(A.stops,P).forEach(function(be){return j.addColorStop(be.stop,ku(be.color))}),Q.fillStyle=j,Q.fillRect(0,0,ee,ue),ee>0&&ue>0&&(H=s.ctx.createPattern(z,"repeat"),s.renderRepeat(ie,H,te,ne))):bmt(A)&&(K=jP(n,r,[null,null,null]),ie=K[0],q=K[1],W=K[2],ee=K[3],ue=K[4],J=A.position.length===0?[dU]:A.position,te=wo(J[0],ee),ne=wo(J[J.length-1],ue),he=mmt(A,te,ne,ee,ue),ce=he[0],ye=he[1],ce>0&&ye>0&&(Ee=s.ctx.createRadialGradient(q+te,W+ne,0,q+te,W+ne,ce),zY(A.stops,ce*2).forEach(function(be){return Ee.addColorStop(be.stop,ku(be.color))}),s.path(ie),s.ctx.fillStyle=Ee,ce!==ye?(se=n.bounds.left+.5*n.bounds.width,oe=n.bounds.top+.5*n.bounds.height,_e=ye/ce,Ue=1/_e,s.ctx.save(),s.ctx.translate(se,oe),s.ctx.transform(1,0,0,_e,0,0),s.ctx.translate(-se,-oe),s.ctx.fillRect(q,Ue*(W-oe)+oe,ee,ue*Ue),s.ctx.restore()):s.ctx.fill())),Le.label=6;case 6:return r--,[2]}})},s=this,l=0,c=n.styles.backgroundImage.slice(0).reverse(),f.label=1;case 1:return l<c.length?(a=c[l],[5,i(a)]):[3,4];case 2:f.sent(),f.label=3;case 3:return l++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(n,r,i){return Zc(this,void 0,void 0,function(){return Ec(this,function(s){return this.path(gX(i,r)),this.ctx.fillStyle=ku(n),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(n,r,i,s){return Zc(this,void 0,void 0,function(){var l,c;return Ec(this,function(a){switch(a.label){case 0:return r<3?[4,this.renderSolidBorder(n,i,s)]:[3,2];case 1:return a.sent(),[2];case 2:return l=Cvt(s,i),this.path(l),this.ctx.fillStyle=ku(n),this.ctx.fill(),c=Evt(s,i),this.path(c),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(n){return Zc(this,void 0,void 0,function(){var r,i,s,l,c,a,f,A,m=this;return Ec(this,function(_){switch(_.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,i=!Gv(r.backgroundColor)||r.backgroundImage.length,s=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],l=Ovt(tw(r.backgroundClip,0),n.curves),i||r.boxShadow.length?(this.ctx.save(),this.path(l),this.ctx.clip(),Gv(r.backgroundColor)||(this.ctx.fillStyle=ku(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:_.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(y){m.ctx.save();var T=f8(n.curves),E=y.inset?0:Fvt,P=wvt(T,-E+(y.inset?1:-1)*y.spread.number,(y.inset?1:-1)*y.spread.number,y.spread.number*(y.inset?-2:2),y.spread.number*(y.inset?-2:2));y.inset?(m.path(T),m.ctx.clip(),m.mask(P)):(m.mask(T),m.ctx.clip(),m.path(P)),m.ctx.shadowOffsetX=y.offsetX.number+E,m.ctx.shadowOffsetY=y.offsetY.number,m.ctx.shadowColor=ku(y.color),m.ctx.shadowBlur=y.blur.number,m.ctx.fillStyle=y.inset?ku(y.color):"rgba(0,0,0,1)",m.ctx.fill(),m.ctx.restore()}),_.label=2;case 2:c=0,a=0,f=s,_.label=3;case 3:return a<f.length?(A=f[a],A.style!==0&&!Gv(A.color)&&A.width>0?A.style!==2?[3,5]:[4,this.renderDashedDottedBorder(A.color,A.width,c,n.curves,2)]:[3,11]):[3,13];case 4:return _.sent(),[3,11];case 5:return A.style!==3?[3,7]:[4,this.renderDashedDottedBorder(A.color,A.width,c,n.curves,3)];case 6:return _.sent(),[3,11];case 7:return A.style!==4?[3,9]:[4,this.renderDoubleBorder(A.color,A.width,c,n.curves)];case 8:return _.sent(),[3,11];case 9:return[4,this.renderSolidBorder(A.color,c,n.curves)];case 10:_.sent(),_.label=11;case 11:c++,_.label=12;case 12:return a++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(n,r,i,s,l){return Zc(this,void 0,void 0,function(){var c,a,f,A,m,_,y,T,E,P,I,F,R,N,z,Q,z,Q;return Ec(this,function(j){return this.ctx.save(),c=Svt(s,i),a=gX(s,i),l===2&&(this.path(a),this.ctx.clip()),df(a[0])?(f=a[0].start.x,A=a[0].start.y):(f=a[0].x,A=a[0].y),df(a[1])?(m=a[1].end.x,_=a[1].end.y):(m=a[1].x,_=a[1].y),i===0||i===2?y=Math.abs(f-m):y=Math.abs(A-_),this.ctx.beginPath(),l===3?this.formatPath(c):this.formatPath(a.slice(0,2)),T=r<3?r*3:r*2,E=r<3?r*2:r,l===3&&(T=r,E=r),P=!0,y<=T*2?P=!1:y<=T*2+E?(I=y/(2*T+E),T*=I,E*=I):(F=Math.floor((y+E)/(T+E)),R=(y-F*T)/(F-1),N=(y-(F+1)*T)/F,E=N<=0||Math.abs(E-R)<Math.abs(E-N)?R:N),P&&(l===3?this.ctx.setLineDash([0,T+E]):this.ctx.setLineDash([T,E])),l===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=ku(n),this.ctx.stroke(),this.ctx.setLineDash([]),l===2&&(df(a[0])&&(z=a[3],Q=a[0],this.ctx.beginPath(),this.formatPath([new ii(z.end.x,z.end.y),new ii(Q.start.x,Q.start.y)]),this.ctx.stroke()),df(a[1])&&(z=a[1],Q=a[2],this.ctx.beginPath(),this.formatPath([new ii(z.end.x,z.end.y),new ii(Q.start.x,Q.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(n){return Zc(this,void 0,void 0,function(){var r;return Ec(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ku(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=xvt(n),[4,this.renderStack(r)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(Kce),Rvt=function(t){return t instanceof Ice||t instanceof Mce?!0:t instanceof mU&&t.type!==c8&&t.type!==u8},Ovt=function(t,e){switch(t){case 0:return f8(e);case 2:return gvt(e);case 1:default:return p8(e)}},Dvt=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Nvt=["-apple-system","system-ui"],Uvt=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return Nvt.indexOf(e)===-1}):t},zvt=function(t){sA(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=r,i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),i}return e.prototype.render=function(n){return Zc(this,void 0,void 0,function(){var r,i;return Ec(this,function(s){switch(s.label){case 0:return r=TO(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,$vt(r)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ku(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(Kce),$vt=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Vvt=function(){function t(e){var n=e.id,r=e.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,A3([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,A3([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,A3([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,A3([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),Hvt=function(){function t(e,n){var r;this.windowBounds=n,this.instanceName="#"+t.instanceCount++,this.logger=new Vvt({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new uvt(this,e)}return t.instanceCount=1,t}(),Qvt=function(t,e){return e===void 0&&(e={}),jvt(t,e)};typeof window<"u"&&$ce.setContext(window);var jvt=function(t,e){return Zc(void 0,void 0,void 0,function(){var n,r,i,s,l,c,a,f,A,m,_,y,T,E,P,I,F,R,N,z,j,Q,j,H,K,ie,q,W,ee,ue,J,te,ne,he,ce,ye,Ee,se,oe,_e;return Ec(this,function(Ue){switch(Ue.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=t.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return i={allowTaint:(H=e.allowTaint)!==null&&H!==void 0?H:!1,imageTimeout:(K=e.imageTimeout)!==null&&K!==void 0?K:15e3,proxy:e.proxy,useCORS:(ie=e.useCORS)!==null&&ie!==void 0?ie:!1},s=dO({logging:(q=e.logging)!==null&&q!==void 0?q:!0,cache:e.cache},i),l={windowWidth:(W=e.windowWidth)!==null&&W!==void 0?W:r.innerWidth,windowHeight:(ee=e.windowHeight)!==null&&ee!==void 0?ee:r.innerHeight,scrollX:(ue=e.scrollX)!==null&&ue!==void 0?ue:r.pageXOffset,scrollY:(J=e.scrollY)!==null&&J!==void 0?J:r.pageYOffset},c=new Jg(l.scrollX,l.scrollY,l.windowWidth,l.windowHeight),a=new Hvt(s,c),f=(te=e.foreignObjectRendering)!==null&&te!==void 0?te:!1,A={allowTaint:(ne=e.allowTaint)!==null&&ne!==void 0?ne:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:f,copyStyles:f},a.logger.debug("Starting document clone with size "+c.width+"x"+c.height+" scrolled to "+-c.left+","+-c.top),m=new pX(a,t,A),_=m.clonedReferenceElement,_?[4,m.toIFrame(n,c)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return y=Ue.sent(),T=gU(_)||G0t(_)?wpt(_.ownerDocument):YB(a,_),E=T.width,P=T.height,I=T.left,F=T.top,R=Gvt(a,_,e.backgroundColor),N={canvas:e.canvas,backgroundColor:R,scale:(ce=(he=e.scale)!==null&&he!==void 0?he:r.devicePixelRatio)!==null&&ce!==void 0?ce:1,x:((ye=e.x)!==null&&ye!==void 0?ye:0)+I,y:((Ee=e.y)!==null&&Ee!==void 0?Ee:0)+F,width:(se=e.width)!==null&&se!==void 0?se:Math.ceil(E),height:(oe=e.height)!==null&&oe!==void 0?oe:Math.ceil(P)},f?(a.logger.debug("Document cloned, using foreign object rendering"),j=new zvt(a,N),[4,j.render(_)]):[3,3];case 2:return z=Ue.sent(),[3,5];case 3:return a.logger.debug("Document cloned, element located at "+I+","+F+" with size "+E+"x"+P+" using computed rendering"),a.logger.debug("Starting DOM parsing"),Q=Fce(a,_),R===Q.styles.backgroundColor&&(Q.styles.backgroundColor=Hg.TRANSPARENT),a.logger.debug("Starting renderer for element at "+N.x+","+N.y+" with size "+N.width+"x"+N.height),j=new kvt(a,N),[4,j.render(Q)];case 4:z=Ue.sent(),Ue.label=5;case 5:return(!((_e=e.removeContainer)!==null&&_e!==void 0)||_e)&&(pX.destroy(y)||a.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),a.logger.debug("Finished rendering"),[2,z]}})})},Gvt=function(t,e,n){var r=e.ownerDocument,i=r.documentElement?cC(t,getComputedStyle(r.documentElement).backgroundColor):Hg.TRANSPARENT,s=r.body?cC(t,getComputedStyle(r.body).backgroundColor):Hg.TRANSPARENT,l=typeof n=="string"?cC(t,n):n===null?Hg.TRANSPARENT:4294967295;return e===r.documentElement?Gv(i)?Gv(s)?l:s:i:l};const Kvt=Object.freeze(Object.defineProperty({__proto__:null,default:Qvt},Symbol.toStringTag,{value:"Module"}));/*! @license DOMPurify 2.4.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.7/LICENSE */function Cv(t){"@babel/helpers - typeof";return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cv(t)}function kO(t,e){return kO=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},kO(t,e)}function Wvt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function KS(t,e,n){return Wvt()?KS=Reflect.construct:KS=function(i,s,l){var c=[null];c.push.apply(c,s);var a=Function.bind.apply(i,c),f=new a;return l&&kO(f,l.prototype),f},KS.apply(null,arguments)}function Lp(t){return qvt(t)||Yvt(t)||Xvt(t)||Zvt()}function qvt(t){if(Array.isArray(t))return RO(t)}function Yvt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xvt(t,e){if(t){if(typeof t=="string")return RO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RO(t,e)}}function RO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zvt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Jvt=Object.hasOwnProperty,_X=Object.setPrototypeOf,e1t=Object.isFrozen,t1t=Object.getPrototypeOf,n1t=Object.getOwnPropertyDescriptor,sh=Object.freeze,Xp=Object.seal,r1t=Object.create,Wce=typeof Reflect<"u"&&Reflect,m8=Wce.apply,OO=Wce.construct;m8||(m8=function(e,n,r){return e.apply(n,r)});sh||(sh=function(e){return e});Xp||(Xp=function(e){return e});OO||(OO=function(e,n){return KS(e,Lp(n))});var i1t=kf(Array.prototype.forEach),yX=kf(Array.prototype.pop),i4=kf(Array.prototype.push),WS=kf(String.prototype.toLowerCase),GP=kf(String.prototype.toString),a1t=kf(String.prototype.match),Sp=kf(String.prototype.replace),s1t=kf(String.prototype.indexOf),o1t=kf(String.prototype.trim),qc=kf(RegExp.prototype.test),KP=l1t(TypeError);function kf(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return m8(t,e,r)}}function l1t(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return OO(t,n)}}function Ua(t,e,n){var r;n=(r=n)!==null&&r!==void 0?r:WS,_X&&_X(t,null);for(var i=e.length;i--;){var s=e[i];if(typeof s=="string"){var l=n(s);l!==s&&(e1t(e)||(e[i]=l),s=l)}t[s]=!0}return t}function s_(t){var e=r1t(null),n;for(n in t)m8(Jvt,t,[n])===!0&&(e[n]=t[n]);return e}function N3(t,e){for(;t!==null;){var n=n1t(t,e);if(n){if(n.get)return kf(n.get);if(typeof n.value=="function")return kf(n.value)}t=t1t(t)}function r(i){return console.warn("fallback value for",i),null}return r}var bX=sh(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),WP=sh(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),qP=sh(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),u1t=sh(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),YP=sh(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),c1t=sh(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),wX=sh(["#text"]),xX=sh(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),XP=sh(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),CX=sh(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),U3=sh(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),h1t=Xp(/\{\{[\w\W]*|[\w\W]*\}\}/gm),d1t=Xp(/<%[\w\W]*|[\w\W]*%>/gm),f1t=Xp(/\${[\w\W]*}/gm),p1t=Xp(/^data-[\-\w.\u00B7-\uFFFF]/),A1t=Xp(/^aria-[\-\w]+$/),m1t=Xp(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),g1t=Xp(/^(?:\w+script|data):/i),v1t=Xp(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),_1t=Xp(/^html$/i),y1t=function(){return typeof window>"u"?null:window},b1t=function(e,n){if(Cv(e)!=="object"||typeof e.createPolicy!="function")return null;var r=null,i="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(i)&&(r=n.currentScript.getAttribute(i));var s="dompurify"+(r?"#"+r:"");try{return e.createPolicy(s,{createHTML:function(c){return c},createScriptURL:function(c){return c}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}};function qce(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y1t(),e=function(Kt){return qce(Kt)};if(e.version="2.4.7",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;var n=t.document,r=t.document,i=t.DocumentFragment,s=t.HTMLTemplateElement,l=t.Node,c=t.Element,a=t.NodeFilter,f=t.NamedNodeMap,A=f===void 0?t.NamedNodeMap||t.MozNamedAttrMap:f,m=t.HTMLFormElement,_=t.DOMParser,y=t.trustedTypes,T=c.prototype,E=N3(T,"cloneNode"),P=N3(T,"nextSibling"),I=N3(T,"childNodes"),F=N3(T,"parentNode");if(typeof s=="function"){var R=r.createElement("template");R.content&&R.content.ownerDocument&&(r=R.content.ownerDocument)}var N=b1t(y,n),z=N?N.createHTML(""):"",Q=r,j=Q.implementation,H=Q.createNodeIterator,K=Q.createDocumentFragment,ie=Q.getElementsByTagName,q=n.importNode,W={};try{W=s_(r).documentMode?r.documentMode:{}}catch{}var ee={};e.isSupported=typeof F=="function"&&j&&j.createHTMLDocument!==void 0&&W!==9;var ue=h1t,J=d1t,te=f1t,ne=p1t,he=A1t,ce=g1t,ye=v1t,Ee=m1t,se=null,oe=Ua({},[].concat(Lp(bX),Lp(WP),Lp(qP),Lp(YP),Lp(wX))),_e=null,Ue=Ua({},[].concat(Lp(xX),Lp(XP),Lp(CX),Lp(U3))),Le=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),be=null,Re=null,Qe=!0,Je=!0,nt=!1,Ve=!0,Pe=!1,Ge=!1,Ne=!1,je=!1,Ye=!1,vt=!1,Lt=!1,Et=!0,Vt=!1,_t="user-content-",qt=!0,tn=!1,Nt={},wt=null,De=Ua({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),We=null,ut=Ua({},["audio","video","img","source","image","track"]),It=null,Xe=Ua({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Pt="http://www.w3.org/1998/Math/MathML",Bt="http://www.w3.org/2000/svg",it="http://www.w3.org/1999/xhtml",Mt=it,at=!1,et=null,St=Ua({},[Pt,Bt,it],GP),sn,bn=["application/xhtml+xml","text/html"],gr="text/html",tr,Nn=null,lr=r.createElement("form"),Qr=function(Kt){return Kt instanceof RegExp||Kt instanceof Function},xi=function(Kt){Nn&&Nn===Kt||((!Kt||Cv(Kt)!=="object")&&(Kt={}),Kt=s_(Kt),sn=bn.indexOf(Kt.PARSER_MEDIA_TYPE)===-1?sn=gr:sn=Kt.PARSER_MEDIA_TYPE,tr=sn==="application/xhtml+xml"?GP:WS,se="ALLOWED_TAGS"in Kt?Ua({},Kt.ALLOWED_TAGS,tr):oe,_e="ALLOWED_ATTR"in Kt?Ua({},Kt.ALLOWED_ATTR,tr):Ue,et="ALLOWED_NAMESPACES"in Kt?Ua({},Kt.ALLOWED_NAMESPACES,GP):St,It="ADD_URI_SAFE_ATTR"in Kt?Ua(s_(Xe),Kt.ADD_URI_SAFE_ATTR,tr):Xe,We="ADD_DATA_URI_TAGS"in Kt?Ua(s_(ut),Kt.ADD_DATA_URI_TAGS,tr):ut,wt="FORBID_CONTENTS"in Kt?Ua({},Kt.FORBID_CONTENTS,tr):De,be="FORBID_TAGS"in Kt?Ua({},Kt.FORBID_TAGS,tr):{},Re="FORBID_ATTR"in Kt?Ua({},Kt.FORBID_ATTR,tr):{},Nt="USE_PROFILES"in Kt?Kt.USE_PROFILES:!1,Qe=Kt.ALLOW_ARIA_ATTR!==!1,Je=Kt.ALLOW_DATA_ATTR!==!1,nt=Kt.ALLOW_UNKNOWN_PROTOCOLS||!1,Ve=Kt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Pe=Kt.SAFE_FOR_TEMPLATES||!1,Ge=Kt.WHOLE_DOCUMENT||!1,Ye=Kt.RETURN_DOM||!1,vt=Kt.RETURN_DOM_FRAGMENT||!1,Lt=Kt.RETURN_TRUSTED_TYPE||!1,je=Kt.FORCE_BODY||!1,Et=Kt.SANITIZE_DOM!==!1,Vt=Kt.SANITIZE_NAMED_PROPS||!1,qt=Kt.KEEP_CONTENT!==!1,tn=Kt.IN_PLACE||!1,Ee=Kt.ALLOWED_URI_REGEXP||Ee,Mt=Kt.NAMESPACE||it,Le=Kt.CUSTOM_ELEMENT_HANDLING||{},Kt.CUSTOM_ELEMENT_HANDLING&&Qr(Kt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Le.tagNameCheck=Kt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Kt.CUSTOM_ELEMENT_HANDLING&&Qr(Kt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Le.attributeNameCheck=Kt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Kt.CUSTOM_ELEMENT_HANDLING&&typeof Kt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Le.allowCustomizedBuiltInElements=Kt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Pe&&(Je=!1),vt&&(Ye=!0),Nt&&(se=Ua({},Lp(wX)),_e=[],Nt.html===!0&&(Ua(se,bX),Ua(_e,xX)),Nt.svg===!0&&(Ua(se,WP),Ua(_e,XP),Ua(_e,U3)),Nt.svgFilters===!0&&(Ua(se,qP),Ua(_e,XP),Ua(_e,U3)),Nt.mathMl===!0&&(Ua(se,YP),Ua(_e,CX),Ua(_e,U3))),Kt.ADD_TAGS&&(se===oe&&(se=s_(se)),Ua(se,Kt.ADD_TAGS,tr)),Kt.ADD_ATTR&&(_e===Ue&&(_e=s_(_e)),Ua(_e,Kt.ADD_ATTR,tr)),Kt.ADD_URI_SAFE_ATTR&&Ua(It,Kt.ADD_URI_SAFE_ATTR,tr),Kt.FORBID_CONTENTS&&(wt===De&&(wt=s_(wt)),Ua(wt,Kt.FORBID_CONTENTS,tr)),qt&&(se["#text"]=!0),Ge&&Ua(se,["html","head","body"]),se.table&&(Ua(se,["tbody"]),delete be.tbody),sh&&sh(Kt),Nn=Kt)},ai=Ua({},["mi","mo","mn","ms","mtext"]),zi=Ua({},["foreignobject","desc","title","annotation-xml"]),ma=Ua({},["title","style","font","a","script"]),Rr=Ua({},WP);Ua(Rr,qP),Ua(Rr,u1t);var Ki=Ua({},YP);Ua(Ki,c1t);var $i=function(Kt){var Zn=F(Kt);(!Zn||!Zn.tagName)&&(Zn={namespaceURI:Mt,tagName:"template"});var jt=WS(Kt.tagName),Xn=WS(Zn.tagName);return et[Kt.namespaceURI]?Kt.namespaceURI===Bt?Zn.namespaceURI===it?jt==="svg":Zn.namespaceURI===Pt?jt==="svg"&&(Xn==="annotation-xml"||ai[Xn]):!!Rr[jt]:Kt.namespaceURI===Pt?Zn.namespaceURI===it?jt==="math":Zn.namespaceURI===Bt?jt==="math"&&zi[Xn]:!!Ki[jt]:Kt.namespaceURI===it?Zn.namespaceURI===Bt&&!zi[Xn]||Zn.namespaceURI===Pt&&!ai[Xn]?!1:!Ki[jt]&&(ma[jt]||!Rr[jt]):!!(sn==="application/xhtml+xml"&&et[Kt.namespaceURI]):!1},Jt=function(Kt){i4(e.removed,{element:Kt});try{Kt.parentNode.removeChild(Kt)}catch{try{Kt.outerHTML=z}catch{Kt.remove()}}},hn=function(Kt,Zn){try{i4(e.removed,{attribute:Zn.getAttributeNode(Kt),from:Zn})}catch{i4(e.removed,{attribute:null,from:Zn})}if(Zn.removeAttribute(Kt),Kt==="is"&&!_e[Kt])if(Ye||vt)try{Jt(Zn)}catch{}else try{Zn.setAttribute(Kt,"")}catch{}},En=function(Kt){var Zn,jt;if(je)Kt="<remove></remove>"+Kt;else{var Xn=a1t(Kt,/^[\r\n\t ]+/);jt=Xn&&Xn[0]}sn==="application/xhtml+xml"&&Mt===it&&(Kt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Kt+"</body></html>");var Pr=N?N.createHTML(Kt):Kt;if(Mt===it)try{Zn=new _().parseFromString(Pr,sn)}catch{}if(!Zn||!Zn.documentElement){Zn=j.createDocument(Mt,"template",null);try{Zn.documentElement.innerHTML=at?z:Pr}catch{}}var _r=Zn.body||Zn.documentElement;return Kt&&jt&&_r.insertBefore(r.createTextNode(jt),_r.childNodes[0]||null),Mt===it?ie.call(Zn,Ge?"html":"body")[0]:Ge?Zn.documentElement:_r},Hn=function(Kt){return H.call(Kt.ownerDocument||Kt,Kt,a.SHOW_ELEMENT|a.SHOW_COMMENT|a.SHOW_TEXT,null,!1)},Ht=function(Kt){return Kt instanceof m&&(typeof Kt.nodeName!="string"||typeof Kt.textContent!="string"||typeof Kt.removeChild!="function"||!(Kt.attributes instanceof A)||typeof Kt.removeAttribute!="function"||typeof Kt.setAttribute!="function"||typeof Kt.namespaceURI!="string"||typeof Kt.insertBefore!="function"||typeof Kt.hasChildNodes!="function")},an=function(Kt){return Cv(l)==="object"?Kt instanceof l:Kt&&Cv(Kt)==="object"&&typeof Kt.nodeType=="number"&&typeof Kt.nodeName=="string"},In=function(Kt,Zn,jt){ee[Kt]&&i1t(ee[Kt],function(Xn){Xn.call(e,Zn,jt,Nn)})},Pn=function(Kt){var Zn;if(In("beforeSanitizeElements",Kt,null),Ht(Kt)||qc(/[\u0080-\uFFFF]/,Kt.nodeName))return Jt(Kt),!0;var jt=tr(Kt.nodeName);if(In("uponSanitizeElement",Kt,{tagName:jt,allowedTags:se}),Kt.hasChildNodes()&&!an(Kt.firstElementChild)&&(!an(Kt.content)||!an(Kt.content.firstElementChild))&&qc(/<[/\w]/g,Kt.innerHTML)&&qc(/<[/\w]/g,Kt.textContent)||jt==="select"&&qc(/<template/i,Kt.innerHTML))return Jt(Kt),!0;if(!se[jt]||be[jt]){if(!be[jt]&&Gn(jt)&&(Le.tagNameCheck instanceof RegExp&&qc(Le.tagNameCheck,jt)||Le.tagNameCheck instanceof Function&&Le.tagNameCheck(jt)))return!1;if(qt&&!wt[jt]){var Xn=F(Kt)||Kt.parentNode,Pr=I(Kt)||Kt.childNodes;if(Pr&&Xn)for(var _r=Pr.length,ha=_r-1;ha>=0;--ha)Xn.insertBefore(E(Pr[ha],!0),P(Kt))}return Jt(Kt),!0}return Kt instanceof c&&!$i(Kt)||(jt==="noscript"||jt==="noembed"||jt==="noframes")&&qc(/<\/no(script|embed|frames)/i,Kt.innerHTML)?(Jt(Kt),!0):(Pe&&Kt.nodeType===3&&(Zn=Kt.textContent,Zn=Sp(Zn,ue," "),Zn=Sp(Zn,J," "),Zn=Sp(Zn,te," "),Kt.textContent!==Zn&&(i4(e.removed,{element:Kt.cloneNode()}),Kt.textContent=Zn)),In("afterSanitizeElements",Kt,null),!1)},er=function(Kt,Zn,jt){if(Et&&(Zn==="id"||Zn==="name")&&(jt in r||jt in lr))return!1;if(!(Je&&!Re[Zn]&&qc(ne,Zn))){if(!(Qe&&qc(he,Zn))){if(!_e[Zn]||Re[Zn]){if(!(Gn(Kt)&&(Le.tagNameCheck instanceof RegExp&&qc(Le.tagNameCheck,Kt)||Le.tagNameCheck instanceof Function&&Le.tagNameCheck(Kt))&&(Le.attributeNameCheck instanceof RegExp&&qc(Le.attributeNameCheck,Zn)||Le.attributeNameCheck instanceof Function&&Le.attributeNameCheck(Zn))||Zn==="is"&&Le.allowCustomizedBuiltInElements&&(Le.tagNameCheck instanceof RegExp&&qc(Le.tagNameCheck,jt)||Le.tagNameCheck instanceof Function&&Le.tagNameCheck(jt))))return!1}else if(!It[Zn]){if(!qc(Ee,Sp(jt,ye,""))){if(!((Zn==="src"||Zn==="xlink:href"||Zn==="href")&&Kt!=="script"&&s1t(jt,"data:")===0&&We[Kt])){if(!(nt&&!qc(ce,Sp(jt,ye,"")))){if(jt)return!1}}}}}}return!0},Gn=function(Kt){return Kt.indexOf("-")>0},Mr=function(Kt){var Zn,jt,Xn,Pr;In("beforeSanitizeAttributes",Kt,null);var _r=Kt.attributes;if(_r){var ha={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:_e};for(Pr=_r.length;Pr--;){Zn=_r[Pr];var is=Zn,Ca=is.name,zc=is.namespaceURI;if(jt=Ca==="value"?Zn.value:o1t(Zn.value),Xn=tr(Ca),ha.attrName=Xn,ha.attrValue=jt,ha.keepAttr=!0,ha.forceKeepAttr=void 0,In("uponSanitizeAttribute",Kt,ha),jt=ha.attrValue,!ha.forceKeepAttr&&(hn(Ca,Kt),!!ha.keepAttr)){if(!Ve&&qc(/\/>/i,jt)){hn(Ca,Kt);continue}Pe&&(jt=Sp(jt,ue," "),jt=Sp(jt,J," "),jt=Sp(jt,te," "));var iu=tr(Kt.nodeName);if(er(iu,Xn,jt)){if(Vt&&(Xn==="id"||Xn==="name")&&(hn(Ca,Kt),jt=_t+jt),N&&Cv(y)==="object"&&typeof y.getAttributeType=="function"&&!zc)switch(y.getAttributeType(iu,Xn)){case"TrustedHTML":{jt=N.createHTML(jt);break}case"TrustedScriptURL":{jt=N.createScriptURL(jt);break}}try{zc?Kt.setAttributeNS(zc,Ca,jt):Kt.setAttribute(Ca,jt),yX(e.removed)}catch{}}}}In("afterSanitizeAttributes",Kt,null)}},ti=function Tn(Kt){var Zn,jt=Hn(Kt);for(In("beforeSanitizeShadowDOM",Kt,null);Zn=jt.nextNode();)In("uponSanitizeShadowNode",Zn,null),!Pn(Zn)&&(Zn.content instanceof i&&Tn(Zn.content),Mr(Zn));In("afterSanitizeShadowDOM",Kt,null)};return e.sanitize=function(Tn){var Kt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Zn,jt,Xn,Pr,_r;if(at=!Tn,at&&(Tn="<!-->"),typeof Tn!="string"&&!an(Tn))if(typeof Tn.toString=="function"){if(Tn=Tn.toString(),typeof Tn!="string")throw KP("dirty is not a string, aborting")}else throw KP("toString is not a function");if(!e.isSupported){if(Cv(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof Tn=="string")return t.toStaticHTML(Tn);if(an(Tn))return t.toStaticHTML(Tn.outerHTML)}return Tn}if(Ne||xi(Kt),e.removed=[],typeof Tn=="string"&&(tn=!1),tn){if(Tn.nodeName){var ha=tr(Tn.nodeName);if(!se[ha]||be[ha])throw KP("root node is forbidden and cannot be sanitized in-place")}}else if(Tn instanceof l)Zn=En("<!---->"),jt=Zn.ownerDocument.importNode(Tn,!0),jt.nodeType===1&&jt.nodeName==="BODY"||jt.nodeName==="HTML"?Zn=jt:Zn.appendChild(jt);else{if(!Ye&&!Pe&&!Ge&&Tn.indexOf("<")===-1)return N&&Lt?N.createHTML(Tn):Tn;if(Zn=En(Tn),!Zn)return Ye?null:Lt?z:""}Zn&&je&&Jt(Zn.firstChild);for(var is=Hn(tn?Tn:Zn);Xn=is.nextNode();)Xn.nodeType===3&&Xn===Pr||Pn(Xn)||(Xn.content instanceof i&&ti(Xn.content),Mr(Xn),Pr=Xn);if(Pr=null,tn)return Tn;if(Ye){if(vt)for(_r=K.call(Zn.ownerDocument);Zn.firstChild;)_r.appendChild(Zn.firstChild);else _r=Zn;return(_e.shadowroot||_e.shadowrootmod)&&(_r=q.call(n,_r,!0)),_r}var Ca=Ge?Zn.outerHTML:Zn.innerHTML;return Ge&&se["!doctype"]&&Zn.ownerDocument&&Zn.ownerDocument.doctype&&Zn.ownerDocument.doctype.name&&qc(_1t,Zn.ownerDocument.doctype.name)&&(Ca="<!DOCTYPE "+Zn.ownerDocument.doctype.name+`>
`+Ca),Pe&&(Ca=Sp(Ca,ue," "),Ca=Sp(Ca,J," "),Ca=Sp(Ca,te," ")),N&&Lt?N.createHTML(Ca):Ca},e.setConfig=function(Tn){xi(Tn),Ne=!0},e.clearConfig=function(){Nn=null,Ne=!1},e.isValidAttribute=function(Tn,Kt,Zn){Nn||xi({});var jt=tr(Tn),Xn=tr(Kt);return er(jt,Xn,Zn)},e.addHook=function(Tn,Kt){typeof Kt=="function"&&(ee[Tn]=ee[Tn]||[],i4(ee[Tn],Kt))},e.removeHook=function(Tn){if(ee[Tn])return yX(ee[Tn])},e.removeHooks=function(Tn){ee[Tn]&&(ee[Tn]=[])},e.removeAllHooks=function(){ee={}},e}var w1t=qce();const x1t=Object.freeze(Object.defineProperty({__proto__:null,default:w1t},Symbol.toStringTag,{value:"Module"}));var a4=function(t){return t&&t.Math===Math&&t},Rl=a4(typeof globalThis=="object"&&globalThis)||a4(typeof window=="object"&&window)||a4(typeof self=="object"&&self)||a4(typeof Af=="object"&&Af)||a4(typeof Af=="object"&&Af)||function(){return this}()||Function("return this")(),u5={},Ol=function(t){try{return!!t()}catch{return!0}},C1t=Ol,oA=!C1t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),E1t=Ol,sM=!E1t(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),S1t=sM,z3=Function.prototype.call,oc=S1t?z3.bind(z3):function(){return z3.apply(z3,arguments)},Yce={},Xce={}.propertyIsEnumerable,Zce=Object.getOwnPropertyDescriptor,T1t=Zce&&!Xce.call({1:2},1);Yce.f=T1t?function(e){var n=Zce(this,e);return!!n&&n.enumerable}:Xce;var vU=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},Jce=sM,ehe=Function.prototype,DO=ehe.call,B1t=Jce&&ehe.bind.bind(DO,DO),Dl=Jce?B1t:function(t){return function(){return DO.apply(t,arguments)}},the=Dl,M1t=the({}.toString),I1t=the("".slice),Sy=function(t){return I1t(M1t(t),8,-1)},L1t=Dl,P1t=Ol,F1t=Sy,ZP=Object,k1t=L1t("".split),nhe=P1t(function(){return!ZP("z").propertyIsEnumerable(0)})?function(t){return F1t(t)==="String"?k1t(t,""):ZP(t)}:ZP,Ty=function(t){return t==null},R1t=Ty,O1t=TypeError,Lm=function(t){if(R1t(t))throw new O1t("Can't call method on "+t);return t},D1t=nhe,N1t=Lm,c5=function(t){return D1t(N1t(t))},JP=typeof document=="object"&&document.all,Nl=typeof JP>"u"&&JP!==void 0?function(t){return typeof t=="function"||t===JP}:function(t){return typeof t=="function"},U1t=Nl,Pm=function(t){return typeof t=="object"?t!==null:U1t(t)},eF=Rl,z1t=Nl,$1t=function(t){return z1t(t)?t:void 0},By=function(t,e){return arguments.length<2?$1t(eF[t]):eF[t]&&eF[t][e]},V1t=Dl,oM=V1t({}.isPrototypeOf),lM=typeof navigator<"u"&&String(navigator.userAgent)||"",rhe=Rl,tF=lM,EX=rhe.process,SX=rhe.Deno,TX=EX&&EX.versions||SX&&SX.version,BX=TX&&TX.v8,Op,g8;BX&&(Op=BX.split("."),g8=Op[0]>0&&Op[0]<4?1:+(Op[0]+Op[1]));!g8&&tF&&(Op=tF.match(/Edge\/(\d+)/),(!Op||Op[1]>=74)&&(Op=tF.match(/Chrome\/(\d+)/),Op&&(g8=+Op[1])));var _U=g8,MX=_U,H1t=Ol,Q1t=Rl,j1t=Q1t.String,ihe=!!Object.getOwnPropertySymbols&&!H1t(function(){var t=Symbol("symbol detection");return!j1t(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&MX&&MX<41}),G1t=ihe,ahe=G1t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",K1t=By,W1t=Nl,q1t=oM,Y1t=ahe,X1t=Object,she=Y1t?function(t){return typeof t=="symbol"}:function(t){var e=K1t("Symbol");return W1t(e)&&q1t(e.prototype,X1t(t))},Z1t=String,uM=function(t){try{return Z1t(t)}catch{return"Object"}},J1t=Nl,e_t=uM,t_t=TypeError,A0=function(t){if(J1t(t))return t;throw new t_t(e_t(t)+" is not a function")},n_t=A0,r_t=Ty,K2=function(t,e){var n=t[e];return r_t(n)?void 0:n_t(n)},nF=oc,rF=Nl,iF=Pm,i_t=TypeError,a_t=function(t,e){var n,r;if(e==="string"&&rF(n=t.toString)&&!iF(r=nF(n,t))||rF(n=t.valueOf)&&!iF(r=nF(n,t))||e!=="string"&&rF(n=t.toString)&&!iF(r=nF(n,t)))return r;throw new i_t("Can't convert object to primitive value")},ohe={exports:{}},IX=Rl,s_t=Object.defineProperty,yU=function(t,e){try{s_t(IX,t,{value:e,configurable:!0,writable:!0})}catch{IX[t]=e}return e},o_t=Rl,l_t=yU,LX="__core-js_shared__",PX=ohe.exports=o_t[LX]||l_t(LX,{});(PX.versions||(PX.versions=[])).push({version:"3.36.0",mode:"global",copyright:" 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.36.0/LICENSE",source:"https://github.com/zloirock/core-js"});var bU=ohe.exports,FX=bU,wU=function(t,e){return FX[t]||(FX[t]=e||{})},u_t=Lm,c_t=Object,cM=function(t){return c_t(u_t(t))},h_t=Dl,d_t=cM,f_t=h_t({}.hasOwnProperty),lA=Object.hasOwn||function(e,n){return f_t(d_t(e),n)},p_t=Dl,A_t=0,m_t=Math.random(),g_t=p_t(1 .toString),lhe=function(t){return"Symbol("+(t===void 0?"":t)+")_"+g_t(++A_t+m_t,36)},v_t=Rl,__t=wU,kX=lA,y_t=lhe,b_t=ihe,w_t=ahe,mw=v_t.Symbol,aF=__t("wks"),x_t=w_t?mw.for||mw:mw&&mw.withoutSetter||y_t,Hu=function(t){return kX(aF,t)||(aF[t]=b_t&&kX(mw,t)?mw[t]:x_t("Symbol."+t)),aF[t]},C_t=oc,RX=Pm,OX=she,E_t=K2,S_t=a_t,T_t=Hu,B_t=TypeError,M_t=T_t("toPrimitive"),I_t=function(t,e){if(!RX(t)||OX(t))return t;var n=E_t(t,M_t),r;if(n){if(e===void 0&&(e="default"),r=C_t(n,t,e),!RX(r)||OX(r))return r;throw new B_t("Can't convert object to primitive value")}return e===void 0&&(e="number"),S_t(t,e)},L_t=I_t,P_t=she,uhe=function(t){var e=L_t(t,"string");return P_t(e)?e:e+""},F_t=Rl,DX=Pm,NO=F_t.document,k_t=DX(NO)&&DX(NO.createElement),hM=function(t){return k_t?NO.createElement(t):{}},R_t=oA,O_t=Ol,D_t=hM,che=!R_t&&!O_t(function(){return Object.defineProperty(D_t("div"),"a",{get:function(){return 7}}).a!==7}),N_t=oA,U_t=oc,z_t=Yce,$_t=vU,V_t=c5,H_t=uhe,Q_t=lA,j_t=che,NX=Object.getOwnPropertyDescriptor;u5.f=N_t?NX:function(e,n){if(e=V_t(e),n=H_t(n),j_t)try{return NX(e,n)}catch{}if(Q_t(e,n))return $_t(!U_t(z_t.f,e,n),e[n])};var m0={},G_t=oA,K_t=Ol,hhe=G_t&&K_t(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),W_t=Pm,q_t=String,Y_t=TypeError,Uc=function(t){if(W_t(t))return t;throw new Y_t(q_t(t)+" is not an object")},X_t=oA,Z_t=che,J_t=hhe,$3=Uc,UX=uhe,eyt=TypeError,sF=Object.defineProperty,tyt=Object.getOwnPropertyDescriptor,oF="enumerable",lF="configurable",uF="writable";m0.f=X_t?J_t?function(e,n,r){if($3(e),n=UX(n),$3(r),typeof e=="function"&&n==="prototype"&&"value"in r&&uF in r&&!r[uF]){var i=tyt(e,n);i&&i[uF]&&(e[n]=r.value,r={configurable:lF in r?r[lF]:i[lF],enumerable:oF in r?r[oF]:i[oF],writable:!1})}return sF(e,n,r)}:sF:function(e,n,r){if($3(e),n=UX(n),$3(r),Z_t)try{return sF(e,n,r)}catch{}if("get"in r||"set"in r)throw new eyt("Accessors not supported");return"value"in r&&(e[n]=r.value),e};var nyt=oA,ryt=m0,iyt=vU,h5=nyt?function(t,e,n){return ryt.f(t,e,iyt(1,n))}:function(t,e,n){return t[e]=n,t},dhe={exports:{}},UO=oA,ayt=lA,fhe=Function.prototype,syt=UO&&Object.getOwnPropertyDescriptor,xU=ayt(fhe,"name"),oyt=xU&&(function(){}).name==="something",lyt=xU&&(!UO||UO&&syt(fhe,"name").configurable),dM={EXISTS:xU,PROPER:oyt,CONFIGURABLE:lyt},uyt=Dl,cyt=Nl,zO=bU,hyt=uyt(Function.toString);cyt(zO.inspectSource)||(zO.inspectSource=function(t){return hyt(t)});var CU=zO.inspectSource,dyt=Rl,fyt=Nl,zX=dyt.WeakMap,pyt=fyt(zX)&&/native code/.test(String(zX)),Ayt=wU,myt=lhe,$X=Ayt("keys"),EU=function(t){return $X[t]||($X[t]=myt(t))},SU={},gyt=pyt,phe=Rl,vyt=Pm,_yt=h5,cF=lA,hF=bU,yyt=EU,byt=SU,VX="Object already initialized",$O=phe.TypeError,wyt=phe.WeakMap,v8,y6,_8,xyt=function(t){return _8(t)?y6(t):v8(t,{})},Cyt=function(t){return function(e){var n;if(!vyt(e)||(n=y6(e)).type!==t)throw new $O("Incompatible receiver, "+t+" required");return n}};if(gyt||hF.state){var zA=hF.state||(hF.state=new wyt);zA.get=zA.get,zA.has=zA.has,zA.set=zA.set,v8=function(t,e){if(zA.has(t))throw new $O(VX);return e.facade=t,zA.set(t,e),e},y6=function(t){return zA.get(t)||{}},_8=function(t){return zA.has(t)}}else{var Ob=yyt("state");byt[Ob]=!0,v8=function(t,e){if(cF(t,Ob))throw new $O(VX);return e.facade=t,_yt(t,Ob,e),e},y6=function(t){return cF(t,Ob)?t[Ob]:{}},_8=function(t){return cF(t,Ob)}}var fM={set:v8,get:y6,has:_8,enforce:xyt,getterFor:Cyt},TU=Dl,Eyt=Ol,Syt=Nl,V3=lA,VO=oA,Tyt=dM.CONFIGURABLE,Byt=CU,Ahe=fM,Myt=Ahe.enforce,Iyt=Ahe.get,HX=String,qS=Object.defineProperty,Lyt=TU("".slice),Pyt=TU("".replace),Fyt=TU([].join),kyt=VO&&!Eyt(function(){return qS(function(){},"length",{value:8}).length!==8}),Ryt=String(String).split("String"),Oyt=dhe.exports=function(t,e,n){Lyt(HX(e),0,7)==="Symbol("&&(e="["+Pyt(HX(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!V3(t,"name")||Tyt&&t.name!==e)&&(VO?qS(t,"name",{value:e,configurable:!0}):t.name=e),kyt&&n&&V3(n,"arity")&&t.length!==n.arity&&qS(t,"length",{value:n.arity});try{n&&V3(n,"constructor")&&n.constructor?VO&&qS(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch{}var r=Myt(t);return V3(r,"source")||(r.source=Fyt(Ryt,typeof e=="string"?e:"")),t};Function.prototype.toString=Oyt(function(){return Syt(this)&&Iyt(this).source||Byt(this)},"toString");var mhe=dhe.exports,Dyt=Nl,Nyt=m0,Uyt=mhe,zyt=yU,My=function(t,e,n,r){r||(r={});var i=r.enumerable,s=r.name!==void 0?r.name:e;if(Dyt(n)&&Uyt(n,s,r),r.global)i?t[e]=n:zyt(e,n);else{try{r.unsafe?t[e]&&(i=!0):delete t[e]}catch{}i?t[e]=n:Nyt.f(t,e,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return t},ghe={},$yt=Math.ceil,Vyt=Math.floor,Hyt=Math.trunc||function(e){var n=+e;return(n>0?Vyt:$yt)(n)},Qyt=Hyt,pM=function(t){var e=+t;return e!==e||e===0?0:Qyt(e)},jyt=pM,Gyt=Math.max,Kyt=Math.min,Wyt=function(t,e){var n=jyt(t);return n<0?Gyt(n+e,0):Kyt(n,e)},qyt=pM,Yyt=Math.min,W2=function(t){var e=qyt(t);return e>0?Yyt(e,9007199254740991):0},Xyt=W2,BU=function(t){return Xyt(t.length)},Zyt=c5,Jyt=Wyt,ebt=BU,QX=function(t){return function(e,n,r){var i=Zyt(e),s=ebt(i);if(s===0)return!t&&-1;var l=Jyt(r,s),c;if(t&&n!==n){for(;s>l;)if(c=i[l++],c!==c)return!0}else for(;s>l;l++)if((t||l in i)&&i[l]===n)return t||l||0;return!t&&-1}},vhe={includes:QX(!0),indexOf:QX(!1)},tbt=Dl,dF=lA,nbt=c5,rbt=vhe.indexOf,ibt=SU,jX=tbt([].push),_he=function(t,e){var n=nbt(t),r=0,i=[],s;for(s in n)!dF(ibt,s)&&dF(n,s)&&jX(i,s);for(;e.length>r;)dF(n,s=e[r++])&&(~rbt(i,s)||jX(i,s));return i},MU=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],abt=_he,sbt=MU,obt=sbt.concat("length","prototype");ghe.f=Object.getOwnPropertyNames||function(e){return abt(e,obt)};var yhe={};yhe.f=Object.getOwnPropertySymbols;var lbt=By,ubt=Dl,cbt=ghe,hbt=yhe,dbt=Uc,fbt=ubt([].concat),pbt=lbt("Reflect","ownKeys")||function(e){var n=cbt.f(dbt(e)),r=hbt.f;return r?fbt(n,r(e)):n},GX=lA,Abt=pbt,mbt=u5,gbt=m0,vbt=function(t,e,n){for(var r=Abt(e),i=gbt.f,s=mbt.f,l=0;l<r.length;l++){var c=r[l];!GX(t,c)&&!(n&&GX(n,c))&&i(t,c,s(e,c))}},_bt=Ol,ybt=Nl,bbt=/#|\.prototype\./,d5=function(t,e){var n=xbt[wbt(t)];return n===Ebt?!0:n===Cbt?!1:ybt(e)?_bt(e):!!e},wbt=d5.normalize=function(t){return String(t).replace(bbt,".").toLowerCase()},xbt=d5.data={},Cbt=d5.NATIVE="N",Ebt=d5.POLYFILL="P",bhe=d5,H3=Rl,Sbt=u5.f,Tbt=h5,Bbt=My,Mbt=yU,Ibt=vbt,Lbt=bhe,lh=function(t,e){var n=t.target,r=t.global,i=t.stat,s,l,c,a,f,A;if(r?l=H3:i?l=H3[n]||Mbt(n,{}):l=H3[n]&&H3[n].prototype,l)for(c in e){if(f=e[c],t.dontCallGetSet?(A=Sbt(l,c),a=A&&A.value):a=l[c],s=Lbt(r?c:n+(i?".":"#")+c,t.forced),!s&&a!==void 0){if(typeof f==typeof a)continue;Ibt(f,a)}(t.sham||a&&a.sham)&&Tbt(f,"sham",!0),Bbt(l,c,f,t)}},Pbt=Rl,Fbt=Sy,f5=Fbt(Pbt.process)==="process",kbt=Dl,Rbt=A0,Obt=function(t,e,n){try{return kbt(Rbt(Object.getOwnPropertyDescriptor(t,e)[n]))}catch{}},Dbt=Pm,Nbt=function(t){return Dbt(t)||t===null},Ubt=Nbt,zbt=String,$bt=TypeError,Vbt=function(t){if(Ubt(t))return t;throw new $bt("Can't set "+zbt(t)+" as a prototype")},Hbt=Obt,Qbt=Uc,jbt=Vbt,whe=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,e={},n;try{n=Hbt(Object.prototype,"__proto__","set"),n(e,[]),t=e instanceof Array}catch{}return function(i,s){return Qbt(i),jbt(s),t?n(i,s):i.__proto__=s,i}}():void 0),Gbt=m0.f,Kbt=lA,Wbt=Hu,KX=Wbt("toStringTag"),AM=function(t,e,n){t&&!n&&(t=t.prototype),t&&!Kbt(t,KX)&&Gbt(t,KX,{configurable:!0,value:e})},WX=mhe,qbt=m0,Ybt=function(t,e,n){return n.get&&WX(n.get,e,{getter:!0}),n.set&&WX(n.set,e,{setter:!0}),qbt.f(t,e,n)},Xbt=By,Zbt=Ybt,Jbt=Hu,ewt=oA,qX=Jbt("species"),twt=function(t){var e=Xbt(t);ewt&&e&&!e[qX]&&Zbt(e,qX,{configurable:!0,get:function(){return this}})},nwt=oM,rwt=TypeError,iwt=function(t,e){if(nwt(e,t))return t;throw new rwt("Incorrect invocation")},awt=Hu,swt=awt("toStringTag"),xhe={};xhe[swt]="z";var owt=String(xhe)==="[object z]",lwt=owt,uwt=Nl,YS=Sy,cwt=Hu,hwt=cwt("toStringTag"),dwt=Object,fwt=YS(function(){return arguments}())==="Arguments",pwt=function(t,e){try{return t[e]}catch{}},IU=lwt?YS:function(t){var e,n,r;return t===void 0?"Undefined":t===null?"Null":typeof(n=pwt(e=dwt(t),hwt))=="string"?n:fwt?YS(e):(r=YS(e))==="Object"&&uwt(e.callee)?"Arguments":r},Awt=Dl,mwt=Ol,Che=Nl,gwt=IU,vwt=By,_wt=CU,Ehe=function(){},She=vwt("Reflect","construct"),LU=/^\s*(?:class|function)\b/,ywt=Awt(LU.exec),bwt=!LU.test(Ehe),s4=function(e){if(!Che(e))return!1;try{return She(Ehe,[],e),!0}catch{return!1}},The=function(e){if(!Che(e))return!1;switch(gwt(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return bwt||!!ywt(LU,_wt(e))}catch{return!0}};The.sham=!0;var wwt=!She||mwt(function(){var t;return s4(s4.call)||!s4(Object)||!s4(function(){t=!0})||t})?The:s4,xwt=wwt,Cwt=uM,Ewt=TypeError,Swt=function(t){if(xwt(t))return t;throw new Ewt(Cwt(t)+" is not a constructor")},YX=Uc,Twt=Swt,Bwt=Ty,Mwt=Hu,Iwt=Mwt("species"),Bhe=function(t,e){var n=YX(t).constructor,r;return n===void 0||Bwt(r=YX(n)[Iwt])?e:Twt(r)},Lwt=sM,Mhe=Function.prototype,XX=Mhe.apply,ZX=Mhe.call,Ihe=typeof Reflect=="object"&&Reflect.apply||(Lwt?ZX.bind(XX):function(){return ZX.apply(XX,arguments)}),Pwt=Sy,Fwt=Dl,mM=function(t){if(Pwt(t)==="Function")return Fwt(t)},JX=mM,kwt=A0,Rwt=sM,Owt=JX(JX.bind),PU=function(t,e){return kwt(t),e===void 0?t:Rwt?Owt(t,e):function(){return t.apply(e,arguments)}},Dwt=By,Lhe=Dwt("document","documentElement"),Nwt=Dl,Uwt=Nwt([].slice),zwt=TypeError,$wt=function(t,e){if(t<e)throw new zwt("Not enough arguments");return t},Vwt=lM,Phe=/(?:ipad|iphone|ipod).*applewebkit/i.test(Vwt),Rd=Rl,Hwt=Ihe,Qwt=PU,eZ=Nl,jwt=lA,Fhe=Ol,tZ=Lhe,Gwt=Uwt,nZ=hM,Kwt=$wt,Wwt=Phe,qwt=f5,HO=Rd.setImmediate,QO=Rd.clearImmediate,Ywt=Rd.process,fF=Rd.Dispatch,Xwt=Rd.Function,rZ=Rd.MessageChannel,Zwt=Rd.String,pF=0,pC={},iZ="onreadystatechange",b6,o_,AF,mF;Fhe(function(){b6=Rd.location});var FU=function(t){if(jwt(pC,t)){var e=pC[t];delete pC[t],e()}},gF=function(t){return function(){FU(t)}},aZ=function(t){FU(t.data)},sZ=function(t){Rd.postMessage(Zwt(t),b6.protocol+"//"+b6.host)};(!HO||!QO)&&(HO=function(e){Kwt(arguments.length,1);var n=eZ(e)?e:Xwt(e),r=Gwt(arguments,1);return pC[++pF]=function(){Hwt(n,void 0,r)},o_(pF),pF},QO=function(e){delete pC[e]},qwt?o_=function(t){Ywt.nextTick(gF(t))}:fF&&fF.now?o_=function(t){fF.now(gF(t))}:rZ&&!Wwt?(AF=new rZ,mF=AF.port2,AF.port1.onmessage=aZ,o_=Qwt(mF.postMessage,mF)):Rd.addEventListener&&eZ(Rd.postMessage)&&!Rd.importScripts&&b6&&b6.protocol!=="file:"&&!Fhe(sZ)?(o_=sZ,Rd.addEventListener("message",aZ,!1)):iZ in nZ("script")?o_=function(t){tZ.appendChild(nZ("script"))[iZ]=function(){tZ.removeChild(this),FU(t)}}:o_=function(t){setTimeout(gF(t),0)});var khe={set:HO,clear:QO},oZ=Rl,Jwt=oA,e2t=Object.getOwnPropertyDescriptor,t2t=function(t){if(!Jwt)return oZ[t];var e=e2t(oZ,t);return e&&e.value},Rhe=function(){this.head=null,this.tail=null};Rhe.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t){var e=this.head=t.next;return e===null&&(this.tail=null),t.item}}};var Ohe=Rhe,n2t=lM,r2t=/ipad|iphone|ipod/i.test(n2t)&&typeof Pebble<"u",i2t=lM,a2t=/web0s(?!.*chrome)/i.test(i2t),y2=Rl,s2t=t2t,lZ=PU,vF=khe.set,o2t=Ohe,l2t=Phe,u2t=r2t,c2t=a2t,_F=f5,uZ=y2.MutationObserver||y2.WebKitMutationObserver,cZ=y2.document,hZ=y2.process,Q3=y2.Promise,jO=s2t("queueMicrotask"),Db,yF,bF,j3,dZ;if(!jO){var G3=new o2t,K3=function(){var t,e;for(_F&&(t=hZ.domain)&&t.exit();e=G3.get();)try{e()}catch(n){throw G3.head&&Db(),n}t&&t.enter()};!l2t&&!_F&&!c2t&&uZ&&cZ?(yF=!0,bF=cZ.createTextNode(""),new uZ(K3).observe(bF,{characterData:!0}),Db=function(){bF.data=yF=!yF}):!u2t&&Q3&&Q3.resolve?(j3=Q3.resolve(void 0),j3.constructor=Q3,dZ=lZ(j3.then,j3),Db=function(){dZ(K3)}):_F?Db=function(){hZ.nextTick(K3)}:(vF=lZ(vF,y2),Db=function(){vF(K3)}),jO=function(t){G3.head||Db(),G3.add(t)}}var h2t=jO,d2t=function(t,e){try{arguments.length===1?console.error(t):console.error(t,e)}catch{}},kU=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}},f2t=Rl,gM=f2t.Promise,Dhe=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",p2t=Dhe,A2t=f5,m2t=!p2t&&!A2t&&typeof window=="object"&&typeof document=="object",g2t=Rl,AC=gM,v2t=Nl,_2t=bhe,y2t=CU,b2t=Hu,w2t=m2t,x2t=Dhe,wF=_U;AC&&AC.prototype;var C2t=b2t("species"),GO=!1,Nhe=v2t(g2t.PromiseRejectionEvent),E2t=_2t("Promise",function(){var t=y2t(AC),e=t!==String(AC);if(!e&&wF===66)return!0;if(!wF||wF<51||!/native code/.test(t)){var n=new AC(function(s){s(1)}),r=function(s){s(function(){},function(){})},i=n.constructor={};if(i[C2t]=r,GO=n.then(function(){})instanceof r,!GO)return!0}return!e&&(w2t||x2t)&&!Nhe}),p5={CONSTRUCTOR:E2t,REJECTION_EVENT:Nhe,SUBCLASSING:GO},q2={},fZ=A0,S2t=TypeError,T2t=function(t){var e,n;this.promise=new t(function(r,i){if(e!==void 0||n!==void 0)throw new S2t("Bad Promise constructor");e=r,n=i}),this.resolve=fZ(e),this.reject=fZ(n)};q2.f=function(t){return new T2t(t)};var B2t=lh,y8=f5,u1=Rl,b2=oc,pZ=My,AZ=whe,M2t=AM,I2t=twt,L2t=A0,XS=Nl,P2t=Pm,F2t=iwt,k2t=Bhe,Uhe=khe.set,RU=h2t,R2t=d2t,O2t=kU,D2t=Ohe,zhe=fM,b8=gM,OU=p5,$he=q2,vM="Promise",Vhe=OU.CONSTRUCTOR,N2t=OU.REJECTION_EVENT,U2t=OU.SUBCLASSING,xF=zhe.getterFor(vM),z2t=zhe.set,nw=b8&&b8.prototype,b_=b8,W3=nw,Hhe=u1.TypeError,KO=u1.document,DU=u1.process,WO=$he.f,$2t=WO,V2t=!!(KO&&KO.createEvent&&u1.dispatchEvent),Qhe="unhandledrejection",H2t="rejectionhandled",mZ=0,jhe=1,Q2t=2,NU=1,Ghe=2,q3,gZ,j2t,vZ,Khe=function(t){var e;return P2t(t)&&XS(e=t.then)?e:!1},Whe=function(t,e){var n=e.value,r=e.state===jhe,i=r?t.ok:t.fail,s=t.resolve,l=t.reject,c=t.domain,a,f,A;try{i?(r||(e.rejection===Ghe&&K2t(e),e.rejection=NU),i===!0?a=n:(c&&c.enter(),a=i(n),c&&(c.exit(),A=!0)),a===t.promise?l(new Hhe("Promise-chain cycle")):(f=Khe(a))?b2(f,a,s,l):s(a)):l(n)}catch(m){c&&!A&&c.exit(),l(m)}},qhe=function(t,e){t.notified||(t.notified=!0,RU(function(){for(var n=t.reactions,r;r=n.get();)Whe(r,t);t.notified=!1,e&&!t.rejection&&G2t(t)}))},Yhe=function(t,e,n){var r,i;V2t?(r=KO.createEvent("Event"),r.promise=e,r.reason=n,r.initEvent(t,!1,!0),u1.dispatchEvent(r)):r={promise:e,reason:n},!N2t&&(i=u1["on"+t])?i(r):t===Qhe&&R2t("Unhandled promise rejection",n)},G2t=function(t){b2(Uhe,u1,function(){var e=t.facade,n=t.value,r=_Z(t),i;if(r&&(i=O2t(function(){y8?DU.emit("unhandledRejection",n,e):Yhe(Qhe,e,n)}),t.rejection=y8||_Z(t)?Ghe:NU,i.error))throw i.value})},_Z=function(t){return t.rejection!==NU&&!t.parent},K2t=function(t){b2(Uhe,u1,function(){var e=t.facade;y8?DU.emit("rejectionHandled",e):Yhe(H2t,e,t.value)})},gw=function(t,e,n){return function(r){t(e,r,n)}},Uw=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=Q2t,qhe(t,!0))},qO=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw new Hhe("Promise can't be resolved itself");var r=Khe(e);r?RU(function(){var i={done:!1};try{b2(r,e,gw(qO,i,t),gw(Uw,i,t))}catch(s){Uw(i,s,t)}}):(t.value=e,t.state=jhe,qhe(t,!1))}catch(i){Uw({done:!1},i,t)}}};if(Vhe&&(b_=function(e){F2t(this,W3),L2t(e),b2(q3,this);var n=xF(this);try{e(gw(qO,n),gw(Uw,n))}catch(r){Uw(n,r)}},W3=b_.prototype,q3=function(e){z2t(this,{type:vM,done:!1,notified:!1,parent:!1,reactions:new D2t,rejection:!1,state:mZ,value:void 0})},q3.prototype=pZ(W3,"then",function(e,n){var r=xF(this),i=WO(k2t(this,b_));return r.parent=!0,i.ok=XS(e)?e:!0,i.fail=XS(n)&&n,i.domain=y8?DU.domain:void 0,r.state===mZ?r.reactions.add(i):RU(function(){Whe(i,r)}),i.promise}),gZ=function(){var t=new q3,e=xF(t);this.promise=t,this.resolve=gw(qO,e),this.reject=gw(Uw,e)},$he.f=WO=function(t){return t===b_||t===j2t?new gZ(t):$2t(t)},XS(b8)&&nw!==Object.prototype)){vZ=nw.then,U2t||pZ(nw,"then",function(e,n){var r=this;return new b_(function(i,s){b2(vZ,r,i,s)}).then(e,n)},{unsafe:!0});try{delete nw.constructor}catch{}AZ&&AZ(nw,W3)}B2t({global:!0,constructor:!0,wrap:!0,forced:Vhe},{Promise:b_});M2t(b_,vM,!1);I2t(vM);var A5={},W2t=Hu,q2t=A5,Y2t=W2t("iterator"),X2t=Array.prototype,Z2t=function(t){return t!==void 0&&(q2t.Array===t||X2t[Y2t]===t)},J2t=IU,yZ=K2,ext=Ty,txt=A5,nxt=Hu,rxt=nxt("iterator"),Xhe=function(t){if(!ext(t))return yZ(t,rxt)||yZ(t,"@@iterator")||txt[J2t(t)]},ixt=oc,axt=A0,sxt=Uc,oxt=uM,lxt=Xhe,uxt=TypeError,cxt=function(t,e){var n=arguments.length<2?lxt(t):e;if(axt(n))return sxt(ixt(n,t));throw new uxt(oxt(t)+" is not iterable")},hxt=oc,bZ=Uc,dxt=K2,fxt=function(t,e,n){var r,i;bZ(t);try{if(r=dxt(t,"return"),!r){if(e==="throw")throw n;return n}r=hxt(r,t)}catch(s){i=!0,r=s}if(e==="throw")throw n;if(i)throw r;return bZ(r),n},pxt=PU,Axt=oc,mxt=Uc,gxt=uM,vxt=Z2t,_xt=BU,wZ=oM,yxt=cxt,bxt=Xhe,xZ=fxt,wxt=TypeError,ZS=function(t,e){this.stopped=t,this.result=e},CZ=ZS.prototype,Zhe=function(t,e,n){var r=n&&n.that,i=!!(n&&n.AS_ENTRIES),s=!!(n&&n.IS_RECORD),l=!!(n&&n.IS_ITERATOR),c=!!(n&&n.INTERRUPTED),a=pxt(e,r),f,A,m,_,y,T,E,P=function(F){return f&&xZ(f,"normal",F),new ZS(!0,F)},I=function(F){return i?(mxt(F),c?a(F[0],F[1],P):a(F[0],F[1])):c?a(F,P):a(F)};if(s)f=t.iterator;else if(l)f=t;else{if(A=bxt(t),!A)throw new wxt(gxt(t)+" is not iterable");if(vxt(A)){for(m=0,_=_xt(t);_>m;m++)if(y=I(t[m]),y&&wZ(CZ,y))return y;return new ZS(!1)}f=yxt(t,A)}for(T=s?t.next:f.next;!(E=Axt(T,f)).done;){try{y=I(E.value)}catch(F){xZ(f,"throw",F)}if(typeof y=="object"&&y&&wZ(CZ,y))return y}return new ZS(!1)},xxt=Hu,Jhe=xxt("iterator"),ede=!1;try{var Cxt=0,EZ={next:function(){return{done:!!Cxt++}},return:function(){ede=!0}};EZ[Jhe]=function(){return this},Array.from(EZ,function(){throw 2})}catch{}var Ext=function(t,e){try{if(!e&&!ede)return!1}catch{return!1}var n=!1;try{var r={};r[Jhe]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch{}return n},Sxt=gM,Txt=Ext,Bxt=p5.CONSTRUCTOR,tde=Bxt||!Txt(function(t){Sxt.all(t).then(void 0,function(){})}),Mxt=lh,Ixt=oc,Lxt=A0,Pxt=q2,Fxt=kU,kxt=Zhe,Rxt=tde;Mxt({target:"Promise",stat:!0,forced:Rxt},{all:function(e){var n=this,r=Pxt.f(n),i=r.resolve,s=r.reject,l=Fxt(function(){var c=Lxt(n.resolve),a=[],f=0,A=1;kxt(e,function(m){var _=f++,y=!1;A++,Ixt(c,n,m).then(function(T){y||(y=!0,a[_]=T,--A||i(a))},s)}),--A||i(a)});return l.error&&s(l.value),r.promise}});var Oxt=lh,Dxt=p5.CONSTRUCTOR,YO=gM,Nxt=By,Uxt=Nl,zxt=My,SZ=YO&&YO.prototype;Oxt({target:"Promise",proto:!0,forced:Dxt,real:!0},{catch:function(t){return this.then(void 0,t)}});if(Uxt(YO)){var TZ=Nxt("Promise").prototype.catch;SZ.catch!==TZ&&zxt(SZ,"catch",TZ,{unsafe:!0})}var $xt=lh,Vxt=oc,Hxt=A0,Qxt=q2,jxt=kU,Gxt=Zhe,Kxt=tde;$xt({target:"Promise",stat:!0,forced:Kxt},{race:function(e){var n=this,r=Qxt.f(n),i=r.reject,s=jxt(function(){var l=Hxt(n.resolve);Gxt(e,function(c){Vxt(l,n,c).then(r.resolve,i)})});return s.error&&i(s.value),r.promise}});var Wxt=lh,qxt=q2,Yxt=p5.CONSTRUCTOR;Wxt({target:"Promise",stat:!0,forced:Yxt},{reject:function(e){var n=qxt.f(this),r=n.reject;return r(e),n.promise}});var Xxt=Uc,Zxt=Pm,Jxt=q2,e4t=function(t,e){if(Xxt(t),Zxt(e)&&e.constructor===t)return e;var n=Jxt.f(t),r=n.resolve;return r(e),n.promise},t4t=lh,n4t=By,r4t=p5.CONSTRUCTOR,i4t=e4t;n4t("Promise");t4t({target:"Promise",stat:!0,forced:r4t},{resolve:function(e){return i4t(this,e)}});function BZ(t,e,n,r,i,s,l){try{var c=t[s](l),a=c.value}catch(f){n(f);return}c.done?e(a):Promise.resolve(a).then(r,i)}function e0(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function l(a){BZ(s,r,i,l,c,"next",a)}function c(a){BZ(s,r,i,l,c,"throw",a)}l(void 0)})}}var a4t=IU,s4t=String,Fm=function(t){if(a4t(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return s4t(t)},o4t=Uc,nde=function(){var t=o4t(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},UU=Ol,l4t=Rl,zU=l4t.RegExp,$U=UU(function(){var t=zU("a","y");return t.lastIndex=2,t.exec("abcd")!==null}),u4t=$U||UU(function(){return!zU("a","y").sticky}),c4t=$U||UU(function(){var t=zU("^r","gy");return t.lastIndex=2,t.exec("str")!==null}),rde={BROKEN_CARET:c4t,MISSED_STICKY:u4t,UNSUPPORTED_Y:$U},ide={},h4t=_he,d4t=MU,f4t=Object.keys||function(e){return h4t(e,d4t)},p4t=oA,A4t=hhe,m4t=m0,g4t=Uc,v4t=c5,_4t=f4t;ide.f=p4t&&!A4t?Object.defineProperties:function(e,n){g4t(e);for(var r=v4t(n),i=_4t(n),s=i.length,l=0,c;s>l;)m4t.f(e,c=i[l++],r[c]);return e};var y4t=Uc,b4t=ide,MZ=MU,w4t=SU,x4t=Lhe,C4t=hM,E4t=EU,IZ=">",LZ="<",XO="prototype",ZO="script",ade=E4t("IE_PROTO"),CF=function(){},sde=function(t){return LZ+ZO+IZ+t+LZ+"/"+ZO+IZ},PZ=function(t){t.write(sde("")),t.close();var e=t.parentWindow.Object;return t=null,e},S4t=function(){var t=C4t("iframe"),e="java"+ZO+":",n;return t.style.display="none",x4t.appendChild(t),t.src=String(e),n=t.contentWindow.document,n.open(),n.write(sde("document.F=Object")),n.close(),n.F},Y3,JS=function(){try{Y3=new ActiveXObject("htmlfile")}catch{}JS=typeof document<"u"?document.domain&&Y3?PZ(Y3):S4t():PZ(Y3);for(var t=MZ.length;t--;)delete JS[XO][MZ[t]];return JS()};w4t[ade]=!0;var VU=Object.create||function(e,n){var r;return e!==null?(CF[XO]=y4t(e),r=new CF,CF[XO]=null,r[ade]=e):r=JS(),n===void 0?r:b4t.f(r,n)},T4t=Ol,B4t=Rl,M4t=B4t.RegExp,I4t=T4t(function(){var t=M4t(".","s");return!(t.dotAll&&t.test(`
`)&&t.flags==="s")}),L4t=Ol,P4t=Rl,F4t=P4t.RegExp,k4t=L4t(function(){var t=F4t("(?<a>b)","g");return t.exec("b").groups.a!=="b"||"b".replace(t,"$<a>c")!=="bc"}),vw=oc,_M=Dl,R4t=Fm,O4t=nde,D4t=rde,N4t=wU,U4t=VU,z4t=fM.get,$4t=I4t,V4t=k4t,H4t=N4t("native-string-replace",String.prototype.replace),w8=RegExp.prototype.exec,JO=w8,Q4t=_M("".charAt),j4t=_M("".indexOf),G4t=_M("".replace),EF=_M("".slice),eD=function(){var t=/a/,e=/b*/g;return vw(w8,t,"a"),vw(w8,e,"a"),t.lastIndex!==0||e.lastIndex!==0}(),ode=D4t.BROKEN_CARET,tD=/()??/.exec("")[1]!==void 0,K4t=eD||tD||ode||$4t||V4t;K4t&&(JO=function(e){var n=this,r=z4t(n),i=R4t(e),s=r.raw,l,c,a,f,A,m,_;if(s)return s.lastIndex=n.lastIndex,l=vw(JO,s,i),n.lastIndex=s.lastIndex,l;var y=r.groups,T=ode&&n.sticky,E=vw(O4t,n),P=n.source,I=0,F=i;if(T&&(E=G4t(E,"y",""),j4t(E,"g")===-1&&(E+="g"),F=EF(i,n.lastIndex),n.lastIndex>0&&(!n.multiline||n.multiline&&Q4t(i,n.lastIndex-1)!==`
`)&&(P="(?: "+P+")",F=" "+F,I++),c=new RegExp("^(?:"+P+")",E)),tD&&(c=new RegExp("^"+P+"$(?!\\s)",E)),eD&&(a=n.lastIndex),f=vw(w8,T?c:n,F),T?f?(f.input=EF(f.input,I),f[0]=EF(f[0],I),f.index=n.lastIndex,n.lastIndex+=f[0].length):n.lastIndex=0:eD&&f&&(n.lastIndex=n.global?f.index+f[0].length:a),tD&&f&&f.length>1&&vw(H4t,f[0],c,function(){for(A=1;A<arguments.length-2;A++)arguments[A]===void 0&&(f[A]=void 0)}),f&&y)for(f.groups=m=U4t(null),A=0;A<y.length;A++)_=y[A],m[_[0]]=f[_[1]];return f});var HU=JO,W4t=lh,FZ=HU;W4t({target:"RegExp",proto:!0,forced:/./.exec!==FZ},{exec:FZ});var kZ=oc,RZ=My,q4t=HU,OZ=Ol,lde=Hu,Y4t=h5,X4t=lde("species"),SF=RegExp.prototype,QU=function(t,e,n,r){var i=lde(t),s=!OZ(function(){var f={};return f[i]=function(){return 7},""[t](f)!==7}),l=s&&!OZ(function(){var f=!1,A=/a/;return t==="split"&&(A={},A.constructor={},A.constructor[X4t]=function(){return A},A.flags="",A[i]=/./[i]),A.exec=function(){return f=!0,null},A[i](""),!f});if(!s||!l||n){var c=/./[i],a=e(i,""[t],function(f,A,m,_,y){var T=A.exec;return T===q4t||T===SF.exec?s&&!y?{done:!0,value:kZ(c,A,m,_)}:{done:!0,value:kZ(f,m,A,_)}:{done:!1}});RZ(String.prototype,t,a[0]),RZ(SF,i,a[1])}r&&Y4t(SF[i],"sham",!0)},jU=Dl,Z4t=pM,J4t=Fm,eCt=Lm,tCt=jU("".charAt),DZ=jU("".charCodeAt),nCt=jU("".slice),NZ=function(t){return function(e,n){var r=J4t(eCt(e)),i=Z4t(n),s=r.length,l,c;return i<0||i>=s?t?"":void 0:(l=DZ(r,i),l<55296||l>56319||i+1===s||(c=DZ(r,i+1))<56320||c>57343?t?tCt(r,i):l:t?nCt(r,i,i+2):(l-55296<<10)+(c-56320)+65536)}},rCt={codeAt:NZ(!1),charAt:NZ(!0)},iCt=rCt.charAt,GU=function(t,e,n){return e+(n?iCt(t,e).length:1)},UZ=oc,aCt=Uc,sCt=Nl,oCt=Sy,lCt=HU,uCt=TypeError,KU=function(t,e){var n=t.exec;if(sCt(n)){var r=UZ(n,t,e);return r!==null&&aCt(r),r}if(oCt(t)==="RegExp")return UZ(lCt,t,e);throw new uCt("RegExp#exec called on incompatible receiver")},cCt=oc,hCt=QU,dCt=Uc,fCt=Ty,pCt=W2,TF=Fm,ACt=Lm,mCt=K2,gCt=GU,zZ=KU;hCt("match",function(t,e,n){return[function(i){var s=ACt(this),l=fCt(i)?void 0:mCt(i,t);return l?cCt(l,i,s):new RegExp(i)[t](TF(s))},function(r){var i=dCt(this),s=TF(r),l=n(e,i,s);if(l.done)return l.value;if(!i.global)return zZ(i,s);var c=i.unicode;i.lastIndex=0;for(var a=[],f=0,A;(A=zZ(i,s))!==null;){var m=TF(A[0]);a[f]=m,m===""&&(i.lastIndex=gCt(s,pCt(i.lastIndex),c)),f++}return f===0?null:a}]});var WU=Dl,vCt=cM,_Ct=Math.floor,BF=WU("".charAt),yCt=WU("".replace),MF=WU("".slice),bCt=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,wCt=/\$([$&'`]|\d{1,2})/g,xCt=function(t,e,n,r,i,s){var l=n+t.length,c=r.length,a=wCt;return i!==void 0&&(i=vCt(i),a=bCt),yCt(s,a,function(f,A){var m;switch(BF(A,0)){case"$":return"$";case"&":return t;case"`":return MF(e,0,n);case"'":return MF(e,l);case"<":m=i[MF(A,1,-1)];break;default:var _=+A;if(_===0)return f;if(_>c){var y=_Ct(_/10);return y===0?f:y<=c?r[y-1]===void 0?BF(A,1):r[y-1]+BF(A,1):f}m=r[_-1]}return m===void 0?"":m})},CCt=Ihe,$Z=oc,yM=Dl,ECt=QU,SCt=Ol,TCt=Uc,BCt=Nl,MCt=Ty,ICt=pM,LCt=W2,Nb=Fm,PCt=Lm,FCt=GU,kCt=K2,RCt=xCt,OCt=KU,DCt=Hu,nD=DCt("replace"),NCt=Math.max,UCt=Math.min,zCt=yM([].concat),IF=yM([].push),VZ=yM("".indexOf),HZ=yM("".slice),$Ct=function(t){return t===void 0?t:String(t)},VCt=function(){return"a".replace(/./,"$0")==="$0"}(),QZ=function(){return/./[nD]?/./[nD]("a","$0")==="":!1}(),HCt=!SCt(function(){var t=/./;return t.exec=function(){var e=[];return e.groups={a:"7"},e},"".replace(t,"$<a>")!=="7"});ECt("replace",function(t,e,n){var r=QZ?"$":"$0";return[function(s,l){var c=PCt(this),a=MCt(s)?void 0:kCt(s,nD);return a?$Z(a,s,c,l):$Z(e,Nb(c),s,l)},function(i,s){var l=TCt(this),c=Nb(i);if(typeof s=="string"&&VZ(s,r)===-1&&VZ(s,"$<")===-1){var a=n(e,l,c,s);if(a.done)return a.value}var f=BCt(s);f||(s=Nb(s));var A=l.global,m;A&&(m=l.unicode,l.lastIndex=0);for(var _=[],y;y=OCt(l,c),!(y===null||(IF(_,y),!A));){var T=Nb(y[0]);T===""&&(l.lastIndex=FCt(c,LCt(l.lastIndex),m))}for(var E="",P=0,I=0;I<_.length;I++){y=_[I];for(var F=Nb(y[0]),R=NCt(UCt(ICt(y.index),c.length),0),N=[],z,Q=1;Q<y.length;Q++)IF(N,$Ct(y[Q]));var j=y.groups;if(f){var H=zCt([F],N,R,c);j!==void 0&&IF(H,j),z=Nb(CCt(s,void 0,H))}else z=RCt(F,c,R,N,j,s);R>=P&&(E+=HZ(c,P,R)+z,P=R+F.length)}return E+HZ(c,P)}]},!HCt||!VCt||QZ);var QCt=Pm,jCt=Sy,GCt=Hu,KCt=GCt("match"),WCt=function(t){var e;return QCt(t)&&((e=t[KCt])!==void 0?!!e:jCt(t)==="RegExp")},qCt=WCt,YCt=TypeError,qU=function(t){if(qCt(t))throw new YCt("The method doesn't accept regular expressions");return t},XCt=Hu,ZCt=XCt("match"),YU=function(t){var e=/./;try{"/./"[t](e)}catch{try{return e[ZCt]=!1,"/./"[t](e)}catch{}}return!1},JCt=lh,e6t=mM,t6t=u5.f,n6t=W2,jZ=Fm,r6t=qU,i6t=Lm,a6t=YU,s6t=e6t("".slice),o6t=Math.min,ude=a6t("startsWith"),l6t=!ude&&!!function(){var t=t6t(String.prototype,"startsWith");return t&&!t.writable}();JCt({target:"String",proto:!0,forced:!l6t&&!ude},{startsWith:function(e){var n=jZ(i6t(this));r6t(e);var r=n6t(o6t(arguments.length>1?arguments[1]:void 0,n.length)),i=jZ(e);return s6t(n,r,r+i.length)===i}});var u6t=Hu,c6t=VU,h6t=m0.f,rD=u6t("unscopables"),iD=Array.prototype;iD[rD]===void 0&&h6t(iD,rD,{configurable:!0,value:c6t(null)});var d6t=function(t){iD[rD][t]=!0},f6t=Ol,p6t=!f6t(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),A6t=lA,m6t=Nl,g6t=cM,v6t=EU,_6t=p6t,GZ=v6t("IE_PROTO"),aD=Object,y6t=aD.prototype,cde=_6t?aD.getPrototypeOf:function(t){var e=g6t(t);if(A6t(e,GZ))return e[GZ];var n=e.constructor;return m6t(n)&&e instanceof n?n.prototype:e instanceof aD?y6t:null},b6t=Ol,w6t=Nl,x6t=Pm,KZ=cde,C6t=My,E6t=Hu,sD=E6t("iterator"),hde=!1,fy,LF,PF;[].keys&&(PF=[].keys(),"next"in PF?(LF=KZ(KZ(PF)),LF!==Object.prototype&&(fy=LF)):hde=!0);var S6t=!x6t(fy)||b6t(function(){var t={};return fy[sD].call(t)!==t});S6t&&(fy={});w6t(fy[sD])||C6t(fy,sD,function(){return this});var dde={IteratorPrototype:fy,BUGGY_SAFARI_ITERATORS:hde},T6t=dde.IteratorPrototype,B6t=VU,M6t=vU,I6t=AM,L6t=A5,P6t=function(){return this},F6t=function(t,e,n,r){var i=e+" Iterator";return t.prototype=B6t(T6t,{next:M6t(+!r,n)}),I6t(t,i,!1),L6t[i]=P6t,t},k6t=lh,R6t=oc,fde=dM,O6t=Nl,D6t=F6t,WZ=cde,qZ=whe,N6t=AM,U6t=h5,FF=My,z6t=Hu,$6t=A5,pde=dde,V6t=fde.PROPER,H6t=fde.CONFIGURABLE,YZ=pde.IteratorPrototype,X3=pde.BUGGY_SAFARI_ITERATORS,o4=z6t("iterator"),XZ="keys",l4="values",ZZ="entries",Q6t=function(){return this},j6t=function(t,e,n,r,i,s,l){D6t(n,e,r);var c=function(I){if(I===i&&_)return _;if(!X3&&I&&I in A)return A[I];switch(I){case XZ:return function(){return new n(this,I)};case l4:return function(){return new n(this,I)};case ZZ:return function(){return new n(this,I)}}return function(){return new n(this)}},a=e+" Iterator",f=!1,A=t.prototype,m=A[o4]||A["@@iterator"]||i&&A[i],_=!X3&&m||c(i),y=e==="Array"&&A.entries||m,T,E,P;if(y&&(T=WZ(y.call(new t)),T!==Object.prototype&&T.next&&(WZ(T)!==YZ&&(qZ?qZ(T,YZ):O6t(T[o4])||FF(T,o4,Q6t)),N6t(T,a,!0))),V6t&&i===l4&&m&&m.name!==l4&&(H6t?U6t(A,"name",l4):(f=!0,_=function(){return R6t(m,this)})),i)if(E={values:c(l4),keys:s?_:c(XZ),entries:c(ZZ)},l)for(P in E)(X3||f||!(P in A))&&FF(A,P,E[P]);else k6t({target:e,proto:!0,forced:X3||f},E);return A[o4]!==_&&FF(A,o4,_,{name:i}),$6t[e]=_,E},G6t=function(t,e){return{value:t,done:e}},K6t=c5,XU=d6t,JZ=A5,Ade=fM,W6t=m0.f,q6t=j6t,Z3=G6t,Y6t=oA,mde="Array Iterator",X6t=Ade.set,Z6t=Ade.getterFor(mde),J6t=q6t(Array,"Array",function(t,e){X6t(this,{type:mde,target:K6t(t),index:0,kind:e})},function(){var t=Z6t(this),e=t.target,n=t.index++;if(!e||n>=e.length)return t.target=void 0,Z3(void 0,!0);switch(t.kind){case"keys":return Z3(n,!1);case"values":return Z3(e[n],!1)}return Z3([n,e[n]],!1)},"values"),eJ=JZ.Arguments=JZ.Array;XU("keys");XU("values");XU("entries");if(Y6t&&eJ.name!=="values")try{W6t(eJ,"name",{value:"values"})}catch{}var e5t={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},t5t=hM,kF=t5t("span").classList,tJ=kF&&kF.constructor&&kF.constructor.prototype,n5t=tJ===Object.prototype?void 0:tJ,nJ=Rl,gde=e5t,r5t=n5t,M4=J6t,rJ=h5,i5t=AM,a5t=Hu,RF=a5t("iterator"),OF=M4.values,vde=function(t,e){if(t){if(t[RF]!==OF)try{rJ(t,RF,OF)}catch{t[RF]=OF}if(i5t(t,e,!0),gde[e]){for(var n in M4)if(t[n]!==M4[n])try{rJ(t,n,M4[n])}catch{t[n]=M4[n]}}}};for(var DF in gde)vde(nJ[DF]&&nJ[DF].prototype,DF);vde(r5t,"DOMTokenList");function s5t(t,e){if(vs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function o5t(t){var e=s5t(t,"string");return vs(e)=="symbol"?e:String(e)}function ZU(t,e,n){return e=o5t(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l5t=A0,u5t=cM,c5t=nhe,h5t=BU,iJ=TypeError,aJ="Reduce of empty array with no initial value",sJ=function(t){return function(e,n,r,i){var s=u5t(e),l=c5t(s),c=h5t(s);if(l5t(n),c===0&&r<2)throw new iJ(aJ);var a=t?c-1:0,f=t?-1:1;if(r<2)for(;;){if(a in l){i=l[a],a+=f;break}if(a+=f,t?a<0:c<=a)throw new iJ(aJ)}for(;t?a>=0:c>a;a+=f)a in l&&(i=n(i,l[a],a,s));return i}},d5t={left:sJ(!1),right:sJ(!0)},f5t=Ol,_de=function(t,e){var n=[][t];return!!n&&f5t(function(){n.call(null,e||function(){return 1},1)})},p5t=lh,A5t=d5t.left,m5t=_de,oJ=_U,g5t=f5,v5t=!g5t&&oJ>79&&oJ<83,_5t=v5t||!m5t("reduce");p5t({target:"Array",proto:!0,forced:_5t},{reduce:function(e){var n=arguments.length;return A5t(this,e,n,n>1?arguments[1]:void 0)}});var y5t=lh,b5t=mM,w5t=u5.f,x5t=W2,lJ=Fm,C5t=qU,E5t=Lm,S5t=YU,T5t=b5t("".slice),B5t=Math.min,yde=S5t("endsWith"),M5t=!yde&&!!function(){var t=w5t(String.prototype,"endsWith");return t&&!t.writable}();y5t({target:"String",proto:!0,forced:!M5t&&!yde},{endsWith:function(e){var n=lJ(E5t(this));C5t(e);var r=arguments.length>1?arguments[1]:void 0,i=n.length,s=r===void 0?i:B5t(x5t(r),i),l=lJ(e);return T5t(n,s-l.length,s)===l}});var NF=oc,bde=Dl,I5t=QU,L5t=Uc,P5t=Ty,F5t=Lm,k5t=Bhe,R5t=GU,O5t=W2,uJ=Fm,D5t=K2,cJ=KU,N5t=rde,U5t=Ol,Ub=N5t.UNSUPPORTED_Y,z5t=4294967295,$5t=Math.min,UF=bde([].push),zF=bde("".slice),V5t=!U5t(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return n.length!==2||n[0]!=="a"||n[1]!=="b"}),hJ="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;I5t("split",function(t,e,n){var r="0".split(void 0,0).length?function(i,s){return i===void 0&&s===0?[]:NF(e,this,i,s)}:e;return[function(s,l){var c=F5t(this),a=P5t(s)?void 0:D5t(s,t);return a?NF(a,s,c,l):NF(r,uJ(c),s,l)},function(i,s){var l=L5t(this),c=uJ(i);if(!hJ){var a=n(r,l,c,s,r!==e);if(a.done)return a.value}var f=k5t(l,RegExp),A=l.unicode,m=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(Ub?"g":"y"),_=new f(Ub?"^(?:"+l.source+")":l,m),y=s===void 0?z5t:s>>>0;if(y===0)return[];if(c.length===0)return cJ(_,c)===null?[c]:[];for(var T=0,E=0,P=[];E<c.length;){_.lastIndex=Ub?0:E;var I=cJ(_,Ub?zF(c,E):c),F;if(I===null||(F=$5t(O5t(_.lastIndex+(Ub?E:0)),c.length))===T)E=R5t(c,E,A);else{if(UF(P,zF(c,T,E)),P.length===y)return P;for(var R=1;R<=I.length-1;R++)if(UF(P,I[R]),P.length===y)return P;E=T=F}}return UF(P,zF(c,T)),P}]},hJ||!V5t,Ub);var bM={exports:{}},I4={exports:{}};(function(){var t,e,n,r,i,s;typeof performance<"u"&&performance!==null&&performance.now?I4.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(I4.exports=function(){return(t()-i)/1e6},e=process.hrtime,t=function(){var l;return l=e(),l[0]*1e9+l[1]},r=t(),s=process.uptime()*1e9,i=r-s):Date.now?(I4.exports=function(){return Date.now()-n},n=Date.now()):(I4.exports=function(){return new Date().getTime()-n},n=new Date().getTime())}).call(Af);var H5t=I4.exports,Q5t=H5t,Qg=typeof window>"u"?Af:window,J3=["moz","webkit"],zw="AnimationFrame",w2=Qg["request"+zw],w6=Qg["cancel"+zw]||Qg["cancelRequest"+zw];for(var u4=0;!w2&&u4<J3.length;u4++)w2=Qg[J3[u4]+"Request"+zw],w6=Qg[J3[u4]+"Cancel"+zw]||Qg[J3[u4]+"CancelRequest"+zw];if(!w2||!w6){var $F=0,dJ=0,l_=[],j5t=1e3/60;w2=function(t){if(l_.length===0){var e=Q5t(),n=Math.max(0,j5t-(e-$F));$F=n+e,setTimeout(function(){var r=l_.slice(0);l_.length=0;for(var i=0;i<r.length;i++)if(!r[i].cancelled)try{r[i].callback($F)}catch(s){setTimeout(function(){throw s},0)}},Math.round(n))}return l_.push({handle:++dJ,callback:t,cancelled:!1}),dJ},w6=function(t){for(var e=0;e<l_.length;e++)l_[e].handle===t&&(l_[e].cancelled=!0)}}bM.exports=function(t){return w2.call(Qg,t)};bM.exports.cancel=function(){w6.apply(Qg,arguments)};bM.exports.polyfill=function(t){t||(t=Qg),t.requestAnimationFrame=w2,t.cancelAnimationFrame=w6};var G5t=bM.exports;const VF=Tue(G5t);var wde=`	
\v\f\r \u2028\u2029\uFEFF`,K5t=Dl,W5t=Lm,q5t=Fm,oD=wde,fJ=K5t("".replace),Y5t=RegExp("^["+oD+"]+"),X5t=RegExp("(^|[^"+oD+"])["+oD+"]+$"),HF=function(t){return function(e){var n=q5t(W5t(e));return t&1&&(n=fJ(n,Y5t,"")),t&2&&(n=fJ(n,X5t,"$1")),n}},Z5t={start:HF(1),end:HF(2),trim:HF(3)},J5t=dM.PROPER,eEt=Ol,pJ=wde,AJ="",tEt=function(t){return eEt(function(){return!!pJ[t]()||AJ[t]()!==AJ||J5t&&pJ[t].name!==t})},nEt=lh,rEt=Z5t.trim,iEt=tEt;nEt({target:"String",proto:!0,forced:iEt("trim")},{trim:function(){return rEt(this)}});var aEt=function(t){this.ok=!1,this.alpha=1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t=t.replace(/ /g,""),t=t.toLowerCase();var e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};t=e[t]||t;for(var n=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3]),parseFloat(a[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,l=i.exec(t);if(l){var c=s(l);this.r=c[0],this.g=c[1],this.b=c[2],c.length>3&&(this.alpha=c[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var a=this.r.toString(16),f=this.g.toString(16),A=this.b.toString(16);return a.length==1&&(a="0"+a),f.length==1&&(f="0"+f),A.length==1&&(A="0"+A),"#"+a+f+A},this.getHelpXML=function(){for(var a=new Array,f=0;f<n.length;f++)for(var A=n[f].example,m=0;m<A.length;m++)a[a.length]=A[m];for(var _ in e)a[a.length]=_;var y=document.createElement("ul");y.setAttribute("id","rgbcolor-examples");for(var f=0;f<a.length;f++)try{var T=document.createElement("li"),E=new RGBColor(a[f]),P=document.createElement("div");P.style.cssText="margin: 3px; border: 1px solid black; background:"+E.toHex()+"; color:"+E.toHex(),P.appendChild(document.createTextNode("test"));var I=document.createTextNode(" "+a[f]+" -> "+E.toRGB()+" -> "+E.toHex());T.appendChild(P),T.appendChild(I),y.appendChild(T)}catch{}return y}};const lD=Tue(aEt);var sEt=lh,oEt=mM,lEt=vhe.indexOf,uEt=_de,uD=oEt([].indexOf),xde=!!uD&&1/uD([1],1,-0)<0,cEt=xde||!uEt("indexOf");sEt({target:"Array",proto:!0,forced:cEt},{indexOf:function(e){var n=arguments.length>1?arguments[1]:void 0;return xde?uD(this,e,n)||0:lEt(this,e,n)}});var hEt=lh,dEt=Dl,fEt=qU,pEt=Lm,mJ=Fm,AEt=YU,mEt=dEt("".indexOf);hEt({target:"String",proto:!0,forced:!AEt("includes")},{includes:function(e){return!!~mEt(mJ(pEt(this)),mJ(fEt(e)),arguments.length>1?arguments[1]:void 0)}});var gEt=Sy,vEt=Array.isArray||function(e){return gEt(e)==="Array"},_Et=lh,yEt=Dl,bEt=vEt,wEt=yEt([].reverse),gJ=[1,2];_Et({target:"Array",proto:!0,forced:String(gJ)===String(gJ.reverse())},{reverse:function(){return bEt(this)&&(this.length=this.length),wEt(this)}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Cde=function(t,e){return(Cde=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])})(t,e)};function Ede(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Cde(t,e),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function xEt(t){var e="";Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++){var r=t[n];if(r.type===br.CLOSE_PATH)e+="z";else if(r.type===br.HORIZ_LINE_TO)e+=(r.relative?"h":"H")+r.x;else if(r.type===br.VERT_LINE_TO)e+=(r.relative?"v":"V")+r.y;else if(r.type===br.MOVE_TO)e+=(r.relative?"m":"M")+r.x+" "+r.y;else if(r.type===br.LINE_TO)e+=(r.relative?"l":"L")+r.x+" "+r.y;else if(r.type===br.CURVE_TO)e+=(r.relative?"c":"C")+r.x1+" "+r.y1+" "+r.x2+" "+r.y2+" "+r.x+" "+r.y;else if(r.type===br.SMOOTH_CURVE_TO)e+=(r.relative?"s":"S")+r.x2+" "+r.y2+" "+r.x+" "+r.y;else if(r.type===br.QUAD_TO)e+=(r.relative?"q":"Q")+r.x1+" "+r.y1+" "+r.x+" "+r.y;else if(r.type===br.SMOOTH_QUAD_TO)e+=(r.relative?"t":"T")+r.x+" "+r.y;else{if(r.type!==br.ARC)throw new Error('Unexpected command type "'+r.type+'" at index '+n+".");e+=(r.relative?"a":"A")+r.rX+" "+r.rY+" "+r.xRot+" "+ +r.lArcFlag+" "+ +r.sweepFlag+" "+r.x+" "+r.y}}return e}function cD(t,e){var n=t[0],r=t[1];return[n*Math.cos(e)-r*Math.sin(e),n*Math.sin(e)+r*Math.cos(e)]}function Pp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;n++)if(typeof t[n]!="number")throw new Error("assertNumbers arguments["+n+"] is not a number. "+typeof t[n]+" == typeof "+t[n]);return!0}var bv=Math.PI;function QF(t,e,n){t.lArcFlag=t.lArcFlag===0?0:1,t.sweepFlag=t.sweepFlag===0?0:1;var r=t.rX,i=t.rY,s=t.x,l=t.y;r=Math.abs(t.rX),i=Math.abs(t.rY);var c=cD([(e-s)/2,(n-l)/2],-t.xRot/180*bv),a=c[0],f=c[1],A=Math.pow(a,2)/Math.pow(r,2)+Math.pow(f,2)/Math.pow(i,2);1<A&&(r*=Math.sqrt(A),i*=Math.sqrt(A)),t.rX=r,t.rY=i;var m=Math.pow(r,2)*Math.pow(f,2)+Math.pow(i,2)*Math.pow(a,2),_=(t.lArcFlag!==t.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(r,2)*Math.pow(i,2)-m)/m)),y=r*f/i*_,T=-i*a/r*_,E=cD([y,T],t.xRot/180*bv);t.cX=E[0]+(e+s)/2,t.cY=E[1]+(n+l)/2,t.phi1=Math.atan2((f-T)/i,(a-y)/r),t.phi2=Math.atan2((-f-T)/i,(-a-y)/r),t.sweepFlag===0&&t.phi2>t.phi1&&(t.phi2-=2*bv),t.sweepFlag===1&&t.phi2<t.phi1&&(t.phi2+=2*bv),t.phi1*=180/bv,t.phi2*=180/bv}function vJ(t,e,n){Pp(t,e,n);var r=t*t+e*e-n*n;if(0>r)return[];if(r===0)return[[t*n/(t*t+e*e),e*n/(t*t+e*e)]];var i=Math.sqrt(r);return[[(t*n+e*i)/(t*t+e*e),(e*n-t*i)/(t*t+e*e)],[(t*n-e*i)/(t*t+e*e),(e*n+t*i)/(t*t+e*e)]]}var Zl,Tg=Math.PI/180;function _J(t,e,n){return(1-n)*t+n*e}function yJ(t,e,n,r){return t+Math.cos(r/180*bv)*e+Math.sin(r/180*bv)*n}function bJ(t,e,n,r){var i=1e-6,s=e-t,l=n-e,c=3*s+3*(r-n)-6*l,a=6*(l-s),f=3*s;return Math.abs(c)<i?[-f/a]:function(A,m,_){var y=A*A/4-m;if(y<-_)return[];if(y<=_)return[-A/2];var T=Math.sqrt(y);return[-A/2-T,-A/2+T]}(a/c,f/c,i)}function wJ(t,e,n,r,i){var s=1-i;return t*(s*s*s)+e*(3*s*s*i)+n*(3*s*i*i)+r*(i*i*i)}(function(t){function e(){return i(function(c,a,f){return c.relative&&(c.x1!==void 0&&(c.x1+=a),c.y1!==void 0&&(c.y1+=f),c.x2!==void 0&&(c.x2+=a),c.y2!==void 0&&(c.y2+=f),c.x!==void 0&&(c.x+=a),c.y!==void 0&&(c.y+=f),c.relative=!1),c})}function n(){var c=NaN,a=NaN,f=NaN,A=NaN;return i(function(m,_,y){return m.type&br.SMOOTH_CURVE_TO&&(m.type=br.CURVE_TO,c=isNaN(c)?_:c,a=isNaN(a)?y:a,m.x1=m.relative?_-c:2*_-c,m.y1=m.relative?y-a:2*y-a),m.type&br.CURVE_TO?(c=m.relative?_+m.x2:m.x2,a=m.relative?y+m.y2:m.y2):(c=NaN,a=NaN),m.type&br.SMOOTH_QUAD_TO&&(m.type=br.QUAD_TO,f=isNaN(f)?_:f,A=isNaN(A)?y:A,m.x1=m.relative?_-f:2*_-f,m.y1=m.relative?y-A:2*y-A),m.type&br.QUAD_TO?(f=m.relative?_+m.x1:m.x1,A=m.relative?y+m.y1:m.y1):(f=NaN,A=NaN),m})}function r(){var c=NaN,a=NaN;return i(function(f,A,m){if(f.type&br.SMOOTH_QUAD_TO&&(f.type=br.QUAD_TO,c=isNaN(c)?A:c,a=isNaN(a)?m:a,f.x1=f.relative?A-c:2*A-c,f.y1=f.relative?m-a:2*m-a),f.type&br.QUAD_TO){c=f.relative?A+f.x1:f.x1,a=f.relative?m+f.y1:f.y1;var _=f.x1,y=f.y1;f.type=br.CURVE_TO,f.x1=((f.relative?0:A)+2*_)/3,f.y1=((f.relative?0:m)+2*y)/3,f.x2=(f.x+2*_)/3,f.y2=(f.y+2*y)/3}else c=NaN,a=NaN;return f})}function i(c){var a=0,f=0,A=NaN,m=NaN;return function(_){if(isNaN(A)&&!(_.type&br.MOVE_TO))throw new Error("path must start with moveto");var y=c(_,a,f,A,m);return _.type&br.CLOSE_PATH&&(a=A,f=m),_.x!==void 0&&(a=_.relative?a+_.x:_.x),_.y!==void 0&&(f=_.relative?f+_.y:_.y),_.type&br.MOVE_TO&&(A=a,m=f),y}}function s(c,a,f,A,m,_){return Pp(c,a,f,A,m,_),i(function(y,T,E,P){var I=y.x1,F=y.x2,R=y.relative&&!isNaN(P),N=y.x!==void 0?y.x:R?0:T,z=y.y!==void 0?y.y:R?0:E;function Q(se){return se*se}y.type&br.HORIZ_LINE_TO&&a!==0&&(y.type=br.LINE_TO,y.y=y.relative?0:E),y.type&br.VERT_LINE_TO&&f!==0&&(y.type=br.LINE_TO,y.x=y.relative?0:T),y.x!==void 0&&(y.x=y.x*c+z*f+(R?0:m)),y.y!==void 0&&(y.y=N*a+y.y*A+(R?0:_)),y.x1!==void 0&&(y.x1=y.x1*c+y.y1*f+(R?0:m)),y.y1!==void 0&&(y.y1=I*a+y.y1*A+(R?0:_)),y.x2!==void 0&&(y.x2=y.x2*c+y.y2*f+(R?0:m)),y.y2!==void 0&&(y.y2=F*a+y.y2*A+(R?0:_));var j=c*A-a*f;if(y.xRot!==void 0&&(c!==1||a!==0||f!==0||A!==1))if(j===0)delete y.rX,delete y.rY,delete y.xRot,delete y.lArcFlag,delete y.sweepFlag,y.type=br.LINE_TO;else{var H=y.xRot*Math.PI/180,K=Math.sin(H),ie=Math.cos(H),q=1/Q(y.rX),W=1/Q(y.rY),ee=Q(ie)*q+Q(K)*W,ue=2*K*ie*(q-W),J=Q(K)*q+Q(ie)*W,te=ee*A*A-ue*a*A+J*a*a,ne=ue*(c*A+a*f)-2*(ee*f*A+J*c*a),he=ee*f*f-ue*c*f+J*c*c,ce=(Math.atan2(ne,te-he)+Math.PI)%Math.PI/2,ye=Math.sin(ce),Ee=Math.cos(ce);y.rX=Math.abs(j)/Math.sqrt(te*Q(Ee)+ne*ye*Ee+he*Q(ye)),y.rY=Math.abs(j)/Math.sqrt(te*Q(ye)-ne*ye*Ee+he*Q(Ee)),y.xRot=180*ce/Math.PI}return y.sweepFlag!==void 0&&0>j&&(y.sweepFlag=+!y.sweepFlag),y})}function l(){return function(c){var a={};for(var f in c)a[f]=c[f];return a}}t.ROUND=function(c){function a(f){return Math.round(f*c)/c}return c===void 0&&(c=1e13),Pp(c),function(f){return f.x1!==void 0&&(f.x1=a(f.x1)),f.y1!==void 0&&(f.y1=a(f.y1)),f.x2!==void 0&&(f.x2=a(f.x2)),f.y2!==void 0&&(f.y2=a(f.y2)),f.x!==void 0&&(f.x=a(f.x)),f.y!==void 0&&(f.y=a(f.y)),f.rX!==void 0&&(f.rX=a(f.rX)),f.rY!==void 0&&(f.rY=a(f.rY)),f}},t.TO_ABS=e,t.TO_REL=function(){return i(function(c,a,f){return c.relative||(c.x1!==void 0&&(c.x1-=a),c.y1!==void 0&&(c.y1-=f),c.x2!==void 0&&(c.x2-=a),c.y2!==void 0&&(c.y2-=f),c.x!==void 0&&(c.x-=a),c.y!==void 0&&(c.y-=f),c.relative=!0),c})},t.NORMALIZE_HVZ=function(c,a,f){return c===void 0&&(c=!0),a===void 0&&(a=!0),f===void 0&&(f=!0),i(function(A,m,_,y,T){if(isNaN(y)&&!(A.type&br.MOVE_TO))throw new Error("path must start with moveto");return a&&A.type&br.HORIZ_LINE_TO&&(A.type=br.LINE_TO,A.y=A.relative?0:_),f&&A.type&br.VERT_LINE_TO&&(A.type=br.LINE_TO,A.x=A.relative?0:m),c&&A.type&br.CLOSE_PATH&&(A.type=br.LINE_TO,A.x=A.relative?y-m:y,A.y=A.relative?T-_:T),A.type&br.ARC&&(A.rX===0||A.rY===0)&&(A.type=br.LINE_TO,delete A.rX,delete A.rY,delete A.xRot,delete A.lArcFlag,delete A.sweepFlag),A})},t.NORMALIZE_ST=n,t.QT_TO_C=r,t.INFO=i,t.SANITIZE=function(c){c===void 0&&(c=0),Pp(c);var a=NaN,f=NaN,A=NaN,m=NaN;return i(function(_,y,T,E,P){var I=Math.abs,F=!1,R=0,N=0;if(_.type&br.SMOOTH_CURVE_TO&&(R=isNaN(a)?0:y-a,N=isNaN(f)?0:T-f),_.type&(br.CURVE_TO|br.SMOOTH_CURVE_TO)?(a=_.relative?y+_.x2:_.x2,f=_.relative?T+_.y2:_.y2):(a=NaN,f=NaN),_.type&br.SMOOTH_QUAD_TO?(A=isNaN(A)?y:2*y-A,m=isNaN(m)?T:2*T-m):_.type&br.QUAD_TO?(A=_.relative?y+_.x1:_.x1,m=_.relative?T+_.y1:_.y2):(A=NaN,m=NaN),_.type&br.LINE_COMMANDS||_.type&br.ARC&&(_.rX===0||_.rY===0||!_.lArcFlag)||_.type&br.CURVE_TO||_.type&br.SMOOTH_CURVE_TO||_.type&br.QUAD_TO||_.type&br.SMOOTH_QUAD_TO){var z=_.x===void 0?0:_.relative?_.x:_.x-y,Q=_.y===void 0?0:_.relative?_.y:_.y-T;R=isNaN(A)?_.x1===void 0?R:_.relative?_.x:_.x1-y:A-y,N=isNaN(m)?_.y1===void 0?N:_.relative?_.y:_.y1-T:m-T;var j=_.x2===void 0?0:_.relative?_.x:_.x2-y,H=_.y2===void 0?0:_.relative?_.y:_.y2-T;I(z)<=c&&I(Q)<=c&&I(R)<=c&&I(N)<=c&&I(j)<=c&&I(H)<=c&&(F=!0)}return _.type&br.CLOSE_PATH&&I(y-E)<=c&&I(T-P)<=c&&(F=!0),F?[]:_})},t.MATRIX=s,t.ROTATE=function(c,a,f){a===void 0&&(a=0),f===void 0&&(f=0),Pp(c,a,f);var A=Math.sin(c),m=Math.cos(c);return s(m,A,-A,m,a-a*m+f*A,f-a*A-f*m)},t.TRANSLATE=function(c,a){return a===void 0&&(a=0),Pp(c,a),s(1,0,0,1,c,a)},t.SCALE=function(c,a){return a===void 0&&(a=c),Pp(c,a),s(c,0,0,a,0,0)},t.SKEW_X=function(c){return Pp(c),s(1,0,Math.atan(c),1,0,0)},t.SKEW_Y=function(c){return Pp(c),s(1,Math.atan(c),0,1,0,0)},t.X_AXIS_SYMMETRY=function(c){return c===void 0&&(c=0),Pp(c),s(-1,0,0,1,c,0)},t.Y_AXIS_SYMMETRY=function(c){return c===void 0&&(c=0),Pp(c),s(1,0,0,-1,0,c)},t.A_TO_C=function(){return i(function(c,a,f){return br.ARC===c.type?function(A,m,_){var y,T,E,P;A.cX||QF(A,m,_);for(var I=Math.min(A.phi1,A.phi2),F=Math.max(A.phi1,A.phi2)-I,R=Math.ceil(F/90),N=new Array(R),z=m,Q=_,j=0;j<R;j++){var H=_J(A.phi1,A.phi2,j/R),K=_J(A.phi1,A.phi2,(j+1)/R),ie=K-H,q=4/3*Math.tan(ie*Tg/4),W=[Math.cos(H*Tg)-q*Math.sin(H*Tg),Math.sin(H*Tg)+q*Math.cos(H*Tg)],ee=W[0],ue=W[1],J=[Math.cos(K*Tg),Math.sin(K*Tg)],te=J[0],ne=J[1],he=[te+q*Math.sin(K*Tg),ne-q*Math.cos(K*Tg)],ce=he[0],ye=he[1];N[j]={relative:A.relative,type:br.CURVE_TO};var Ee=function(se,oe){var _e=cD([se*A.rX,oe*A.rY],A.xRot),Ue=_e[0],Le=_e[1];return[A.cX+Ue,A.cY+Le]};y=Ee(ee,ue),N[j].x1=y[0],N[j].y1=y[1],T=Ee(ce,ye),N[j].x2=T[0],N[j].y2=T[1],E=Ee(te,ne),N[j].x=E[0],N[j].y=E[1],A.relative&&(N[j].x1-=z,N[j].y1-=Q,N[j].x2-=z,N[j].y2-=Q,N[j].x-=z,N[j].y-=Q),z=(P=[N[j].x,N[j].y])[0],Q=P[1]}return N}(c,c.relative?0:a,c.relative?0:f):c})},t.ANNOTATE_ARCS=function(){return i(function(c,a,f){return c.relative&&(a=0,f=0),br.ARC===c.type&&QF(c,a,f),c})},t.CLONE=l,t.CALCULATE_BOUNDS=function(){var c=function(_){var y={};for(var T in _)y[T]=_[T];return y},a=e(),f=r(),A=n(),m=i(function(_,y,T){var E=A(f(a(c(_))));function P(ye){ye>m.maxX&&(m.maxX=ye),ye<m.minX&&(m.minX=ye)}function I(ye){ye>m.maxY&&(m.maxY=ye),ye<m.minY&&(m.minY=ye)}if(E.type&br.DRAWING_COMMANDS&&(P(y),I(T)),E.type&br.HORIZ_LINE_TO&&P(E.x),E.type&br.VERT_LINE_TO&&I(E.y),E.type&br.LINE_TO&&(P(E.x),I(E.y)),E.type&br.CURVE_TO){P(E.x),I(E.y);for(var F=0,R=bJ(y,E.x1,E.x2,E.x);F<R.length;F++)0<(ce=R[F])&&1>ce&&P(wJ(y,E.x1,E.x2,E.x,ce));for(var N=0,z=bJ(T,E.y1,E.y2,E.y);N<z.length;N++)0<(ce=z[N])&&1>ce&&I(wJ(T,E.y1,E.y2,E.y,ce))}if(E.type&br.ARC){P(E.x),I(E.y),QF(E,y,T);for(var Q=E.xRot/180*Math.PI,j=Math.cos(Q)*E.rX,H=Math.sin(Q)*E.rX,K=-Math.sin(Q)*E.rY,ie=Math.cos(Q)*E.rY,q=E.phi1<E.phi2?[E.phi1,E.phi2]:-180>E.phi2?[E.phi2+360,E.phi1+360]:[E.phi2,E.phi1],W=q[0],ee=q[1],ue=function(ye){var Ee=ye[0],se=ye[1],oe=180*Math.atan2(se,Ee)/Math.PI;return oe<W?oe+360:oe},J=0,te=vJ(K,-j,0).map(ue);J<te.length;J++)(ce=te[J])>W&&ce<ee&&P(yJ(E.cX,j,K,ce));for(var ne=0,he=vJ(ie,-H,0).map(ue);ne<he.length;ne++){var ce;(ce=he[ne])>W&&ce<ee&&I(yJ(E.cY,H,ie,ce))}}return _});return m.minX=1/0,m.maxX=-1/0,m.minY=1/0,m.maxY=-1/0,m}})(Zl||(Zl={}));var Tp,Sde=function(){function t(){}return t.prototype.round=function(e){return this.transform(Zl.ROUND(e))},t.prototype.toAbs=function(){return this.transform(Zl.TO_ABS())},t.prototype.toRel=function(){return this.transform(Zl.TO_REL())},t.prototype.normalizeHVZ=function(e,n,r){return this.transform(Zl.NORMALIZE_HVZ(e,n,r))},t.prototype.normalizeST=function(){return this.transform(Zl.NORMALIZE_ST())},t.prototype.qtToC=function(){return this.transform(Zl.QT_TO_C())},t.prototype.aToC=function(){return this.transform(Zl.A_TO_C())},t.prototype.sanitize=function(e){return this.transform(Zl.SANITIZE(e))},t.prototype.translate=function(e,n){return this.transform(Zl.TRANSLATE(e,n))},t.prototype.scale=function(e,n){return this.transform(Zl.SCALE(e,n))},t.prototype.rotate=function(e,n,r){return this.transform(Zl.ROTATE(e,n,r))},t.prototype.matrix=function(e,n,r,i,s,l){return this.transform(Zl.MATRIX(e,n,r,i,s,l))},t.prototype.skewX=function(e){return this.transform(Zl.SKEW_X(e))},t.prototype.skewY=function(e){return this.transform(Zl.SKEW_Y(e))},t.prototype.xSymmetry=function(e){return this.transform(Zl.X_AXIS_SYMMETRY(e))},t.prototype.ySymmetry=function(e){return this.transform(Zl.Y_AXIS_SYMMETRY(e))},t.prototype.annotateArcs=function(){return this.transform(Zl.ANNOTATE_ARCS())},t}(),CEt=function(t){return t===" "||t==="	"||t==="\r"||t===`
`},xJ=function(t){return 48<=t.charCodeAt(0)&&t.charCodeAt(0)<=57},EEt=function(t){function e(){var n=t.call(this)||this;return n.curNumber="",n.curCommandType=-1,n.curCommandRelative=!1,n.canParseCommandOrComma=!0,n.curNumberHasExp=!1,n.curNumberHasExpDigits=!1,n.curNumberHasDecimal=!1,n.curArgs=[],n}return Ede(e,t),e.prototype.finish=function(n){if(n===void 0&&(n=[]),this.parse(" ",n),this.curArgs.length!==0||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return n},e.prototype.parse=function(n,r){var i=this;r===void 0&&(r=[]);for(var s=function(m){r.push(m),i.curArgs.length=0,i.canParseCommandOrComma=!0},l=0;l<n.length;l++){var c=n[l],a=!(this.curCommandType!==br.ARC||this.curArgs.length!==3&&this.curArgs.length!==4||this.curNumber.length!==1||this.curNumber!=="0"&&this.curNumber!=="1"),f=xJ(c)&&(this.curNumber==="0"&&c==="0"||a);if(!xJ(c)||f)if(c!=="e"&&c!=="E")if(c!=="-"&&c!=="+"||!this.curNumberHasExp||this.curNumberHasExpDigits)if(c!=="."||this.curNumberHasExp||this.curNumberHasDecimal||a){if(this.curNumber&&this.curCommandType!==-1){var A=Number(this.curNumber);if(isNaN(A))throw new SyntaxError("Invalid number ending at "+l);if(this.curCommandType===br.ARC){if(this.curArgs.length===0||this.curArgs.length===1){if(0>A)throw new SyntaxError('Expected positive number, got "'+A+'" at index "'+l+'"')}else if((this.curArgs.length===3||this.curArgs.length===4)&&this.curNumber!=="0"&&this.curNumber!=="1")throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+l+'"')}this.curArgs.push(A),this.curArgs.length===SEt[this.curCommandType]&&(br.HORIZ_LINE_TO===this.curCommandType?s({type:br.HORIZ_LINE_TO,relative:this.curCommandRelative,x:A}):br.VERT_LINE_TO===this.curCommandType?s({type:br.VERT_LINE_TO,relative:this.curCommandRelative,y:A}):this.curCommandType===br.MOVE_TO||this.curCommandType===br.LINE_TO||this.curCommandType===br.SMOOTH_QUAD_TO?(s({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),br.MOVE_TO===this.curCommandType&&(this.curCommandType=br.LINE_TO)):this.curCommandType===br.CURVE_TO?s({type:br.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===br.SMOOTH_CURVE_TO?s({type:br.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===br.QUAD_TO?s({type:br.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===br.ARC&&s({type:br.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!CEt(c))if(c===","&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if(c!=="+"&&c!=="-"&&c!==".")if(f)this.curNumber=c,this.curNumberHasDecimal=!1;else{if(this.curArgs.length!==0)throw new SyntaxError("Unterminated command at index "+l+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+c+'" at index '+l+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,c!=="z"&&c!=="Z")if(c==="h"||c==="H")this.curCommandType=br.HORIZ_LINE_TO,this.curCommandRelative=c==="h";else if(c==="v"||c==="V")this.curCommandType=br.VERT_LINE_TO,this.curCommandRelative=c==="v";else if(c==="m"||c==="M")this.curCommandType=br.MOVE_TO,this.curCommandRelative=c==="m";else if(c==="l"||c==="L")this.curCommandType=br.LINE_TO,this.curCommandRelative=c==="l";else if(c==="c"||c==="C")this.curCommandType=br.CURVE_TO,this.curCommandRelative=c==="c";else if(c==="s"||c==="S")this.curCommandType=br.SMOOTH_CURVE_TO,this.curCommandRelative=c==="s";else if(c==="q"||c==="Q")this.curCommandType=br.QUAD_TO,this.curCommandRelative=c==="q";else if(c==="t"||c==="T")this.curCommandType=br.SMOOTH_QUAD_TO,this.curCommandRelative=c==="t";else{if(c!=="a"&&c!=="A")throw new SyntaxError('Unexpected character "'+c+'" at index '+l+".");this.curCommandType=br.ARC,this.curCommandRelative=c==="a"}else r.push({type:br.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=c,this.curNumberHasDecimal=c==="."}else this.curNumber+=c,this.curNumberHasDecimal=!0;else this.curNumber+=c;else this.curNumber+=c,this.curNumberHasExp=!0;else this.curNumber+=c,this.curNumberHasExpDigits=this.curNumberHasExp}return r},e.prototype.transform=function(n){return Object.create(this,{parse:{value:function(r,i){i===void 0&&(i=[]);for(var s=0,l=Object.getPrototypeOf(this).parse.call(this,r);s<l.length;s++){var c=l[s],a=n(c);Array.isArray(a)?i.push.apply(i,a):i.push(a)}return i}}})},e}(Sde),br=function(t){function e(n){var r=t.call(this)||this;return r.commands=typeof n=="string"?e.parse(n):n,r}return Ede(e,t),e.prototype.encode=function(){return e.encode(this.commands)},e.prototype.getBounds=function(){var n=Zl.CALCULATE_BOUNDS();return this.transform(n),n},e.prototype.transform=function(n){for(var r=[],i=0,s=this.commands;i<s.length;i++){var l=n(s[i]);Array.isArray(l)?r.push.apply(r,l):r.push(l)}return this.commands=r,this},e.encode=function(n){return xEt(n)},e.parse=function(n){var r=new EEt,i=[];return r.parse(n,i),r.finish(i),i},e.CLOSE_PATH=1,e.MOVE_TO=2,e.HORIZ_LINE_TO=4,e.VERT_LINE_TO=8,e.LINE_TO=16,e.CURVE_TO=32,e.SMOOTH_CURVE_TO=64,e.QUAD_TO=128,e.SMOOTH_QUAD_TO=256,e.ARC=512,e.LINE_COMMANDS=e.LINE_TO|e.HORIZ_LINE_TO|e.VERT_LINE_TO,e.DRAWING_COMMANDS=e.HORIZ_LINE_TO|e.VERT_LINE_TO|e.LINE_TO|e.CURVE_TO|e.SMOOTH_CURVE_TO|e.QUAD_TO|e.SMOOTH_QUAD_TO|e.ARC,e}(Sde),SEt=((Tp={})[br.MOVE_TO]=2,Tp[br.LINE_TO]=2,Tp[br.HORIZ_LINE_TO]=1,Tp[br.VERT_LINE_TO]=1,Tp[br.CLOSE_PATH]=0,Tp[br.QUAD_TO]=4,Tp[br.SMOOTH_QUAD_TO]=2,Tp[br.CURVE_TO]=6,Tp[br.SMOOTH_CURVE_TO]=4,Tp[br.ARC]=7,Tp),TEt=oc,BEt=lA,MEt=oM,IEt=nde,CJ=RegExp.prototype,LEt=function(t){var e=t.flags;return e===void 0&&!("flags"in CJ)&&!BEt(t,"flags")&&MEt(CJ,t)?TEt(IEt,t):e},PEt=dM.PROPER,FEt=My,kEt=Uc,EJ=Fm,REt=Ol,OEt=LEt,JU="toString",Tde=RegExp.prototype,Bde=Tde[JU],DEt=REt(function(){return Bde.call({source:"a",flags:"b"})!=="/a/b"}),NEt=PEt&&Bde.name!==JU;(DEt||NEt)&&FEt(Tde,JU,function(){var e=kEt(this),n=EJ(e.source),r=EJ(OEt(e));return"/"+n+"/"+r},{unsafe:!0});function eT(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?eT=function(e){return typeof e}:eT=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eT(t)}function UEt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var zEt=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],$Et=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function VEt(t,e,n,r,i){if(typeof t=="string"&&(t=document.getElementById(t)),!t||eT(t)!=="object"||!("getContext"in t))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var s=t.getContext("2d");try{return s.getImageData(e,n,r,i)}catch(l){throw new Error("unable to access image data: "+l)}}function HEt(t,e,n,r,i,s){if(!(isNaN(s)||s<1)){s|=0;var l=VEt(t,e,n,r,i);l=QEt(l,e,n,r,i,s),t.getContext("2d").putImageData(l,e,n)}}function QEt(t,e,n,r,i,s){for(var l=t.data,c=2*s+1,a=r-1,f=i-1,A=s+1,m=A*(A+1)/2,_=new SJ,y=_,T,E=1;E<c;E++)y=y.next=new SJ,E===A&&(T=y);y.next=_;for(var P=null,I=null,F=0,R=0,N=zEt[s],z=$Et[s],Q=0;Q<i;Q++){y=_;for(var j=l[R],H=l[R+1],K=l[R+2],ie=l[R+3],q=0;q<A;q++)y.r=j,y.g=H,y.b=K,y.a=ie,y=y.next;for(var W=0,ee=0,ue=0,J=0,te=A*j,ne=A*H,he=A*K,ce=A*ie,ye=m*j,Ee=m*H,se=m*K,oe=m*ie,_e=1;_e<A;_e++){var Ue=R+((a<_e?a:_e)<<2),Le=l[Ue],be=l[Ue+1],Re=l[Ue+2],Qe=l[Ue+3],Je=A-_e;ye+=(y.r=Le)*Je,Ee+=(y.g=be)*Je,se+=(y.b=Re)*Je,oe+=(y.a=Qe)*Je,W+=Le,ee+=be,ue+=Re,J+=Qe,y=y.next}P=_,I=T;for(var nt=0;nt<r;nt++){var Ve=oe*N>>>z;if(l[R+3]=Ve,Ve!==0){var Pe=255/Ve;l[R]=(ye*N>>>z)*Pe,l[R+1]=(Ee*N>>>z)*Pe,l[R+2]=(se*N>>>z)*Pe}else l[R]=l[R+1]=l[R+2]=0;ye-=te,Ee-=ne,se-=he,oe-=ce,te-=P.r,ne-=P.g,he-=P.b,ce-=P.a;var Ge=nt+s+1;Ge=F+(Ge<a?Ge:a)<<2,W+=P.r=l[Ge],ee+=P.g=l[Ge+1],ue+=P.b=l[Ge+2],J+=P.a=l[Ge+3],ye+=W,Ee+=ee,se+=ue,oe+=J,P=P.next;var Ne=I,je=Ne.r,Ye=Ne.g,vt=Ne.b,Lt=Ne.a;te+=je,ne+=Ye,he+=vt,ce+=Lt,W-=je,ee-=Ye,ue-=vt,J-=Lt,I=I.next,R+=4}F+=r}for(var Et=0;Et<r;Et++){R=Et<<2;var Vt=l[R],_t=l[R+1],qt=l[R+2],tn=l[R+3],Nt=A*Vt,wt=A*_t,De=A*qt,We=A*tn,ut=m*Vt,It=m*_t,Xe=m*qt,Pt=m*tn;y=_;for(var Bt=0;Bt<A;Bt++)y.r=Vt,y.g=_t,y.b=qt,y.a=tn,y=y.next;for(var it=r,Mt=0,at=0,et=0,St=0,sn=1;sn<=s;sn++){R=it+Et<<2;var bn=A-sn;ut+=(y.r=Vt=l[R])*bn,It+=(y.g=_t=l[R+1])*bn,Xe+=(y.b=qt=l[R+2])*bn,Pt+=(y.a=tn=l[R+3])*bn,St+=Vt,Mt+=_t,at+=qt,et+=tn,y=y.next,sn<f&&(it+=r)}R=Et,P=_,I=T;for(var gr=0;gr<i;gr++){var tr=R<<2;l[tr+3]=tn=Pt*N>>>z,tn>0?(tn=255/tn,l[tr]=(ut*N>>>z)*tn,l[tr+1]=(It*N>>>z)*tn,l[tr+2]=(Xe*N>>>z)*tn):l[tr]=l[tr+1]=l[tr+2]=0,ut-=Nt,It-=wt,Xe-=De,Pt-=We,Nt-=P.r,wt-=P.g,De-=P.b,We-=P.a,tr=Et+((tr=gr+A)<f?tr:f)*r<<2,ut+=St+=P.r=l[tr],It+=Mt+=P.g=l[tr+1],Xe+=at+=P.b=l[tr+2],Pt+=et+=P.a=l[tr+3],P=P.next,Nt+=Vt=I.r,wt+=_t=I.g,De+=qt=I.b,We+=tn=I.a,St-=Vt,Mt-=_t,at-=qt,et-=tn,I=I.next,R+=r}}return t}var SJ=function t(){UEt(this,t),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null};function jEt(){var{DOMParser:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:t,createCanvas(n,r){return new OffscreenCanvas(n,r)},createImage(n){return e0(function*(){var r=yield fetch(n),i=yield r.blob(),s=yield createImageBitmap(i);return s})()}};return(typeof DOMParser<"u"||typeof t>"u")&&Reflect.deleteProperty(e,"DOMParser"),e}function GEt(t){var{DOMParser:e,canvas:n,fetch:r}=t;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:e,fetch:r,createCanvas:n.createCanvas,createImage:n.loadImage}}var KEt=Object.freeze({__proto__:null,offscreen:jEt,node:GEt});function Iy(t){return t.replace(/(?!\u3000)\s+/gm," ")}function Mde(t){return t.replace(/^[\n \t]+/,"")}function Ide(t){return t.replace(/[\n \t]+$/,"")}function Uh(t){var e=(t||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[];return e.map(parseFloat)}var WEt=/^[A-Z-]+$/;function Lde(t){return WEt.test(t)?t.toLowerCase():t}function ez(t){var e=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(t)||[];return e[2]||e[3]||e[4]}function Pde(t){if(!t.startsWith("rgb"))return t;var e=3,n=t.replace(/\d+(\.\d+)?/g,(r,i)=>e--&&i?String(Math.round(parseFloat(r))):r);return n}var qEt=/(\[[^\]]+\])/g,YEt=/(#[^\s+>~.[:]+)/g,XEt=/(\.[^\s+>~.[:]+)/g,ZEt=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,JEt=/(:[\w-]+\([^)]*\))/gi,e3t=/(:[^\s+>~.[:]+)/g,t3t=/([^\s+>~.[:]+)/g;function u_(t,e){var n=e.exec(t);return n?[t.replace(e," "),n.length]:[t,0]}function Fde(t){var e=[0,0,0],n=t.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),r=0;return[n,r]=u_(n,qEt),e[1]+=r,[n,r]=u_(n,YEt),e[0]+=r,[n,r]=u_(n,XEt),e[1]+=r,[n,r]=u_(n,ZEt),e[2]+=r,[n,r]=u_(n,JEt),e[1]+=r,[n,r]=u_(n,e3t),e[1]+=r,n=n.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[n,r]=u_(n,t3t),e[2]+=r,e.join("")}var X_=1e-8;function hD(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))}function x8(t,e){return(t[0]*e[0]+t[1]*e[1])/(hD(t)*hD(e))}function dD(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(x8(t,e))}function fD(t){return t*t*t}function pD(t){return 3*t*t*(1-t)}function AD(t){return 3*t*(1-t)*(1-t)}function mD(t){return(1-t)*(1-t)*(1-t)}function gD(t){return t*t}function vD(t){return 2*t*(1-t)}function _D(t){return(1-t)*(1-t)}class Hi{constructor(e,n,r){this.document=e,this.name=n,this.value=r,this.isNormalizedColor=!1}static empty(e){return new Hi(e,"EMPTY","")}split(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:" ",{document:n,name:r}=this;return Iy(this.getString()).trim().split(e).map(i=>new Hi(n,r,i))}hasValue(e){var{value:n}=this;return n!==null&&n!==""&&(e||n!==0)&&typeof n<"u"}isString(e){var{value:n}=this,r=typeof n=="string";return!r||!e?r:e.test(n)}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;var e=this.getString();switch(!0){case e.endsWith("px"):case/^[0-9]+$/.test(e):return!0;default:return!1}}setValue(e){return this.value=e,this}getValue(e){return typeof e>"u"||this.hasValue()?this.value:e}getNumber(e){if(!this.hasValue())return typeof e>"u"?0:parseFloat(e);var{value:n}=this,r=parseFloat(n);return this.isString(/%$/)&&(r/=100),r}getString(e){return typeof e>"u"||this.hasValue()?typeof this.value>"u"?"":String(this.value):String(e)}getColor(e){var n=this.getString(e);return this.isNormalizedColor||(this.isNormalizedColor=!0,n=Pde(n),this.value=n),n}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.hasValue())return 0;var[r,i]=typeof e=="boolean"?[void 0,e]:[e],{viewPort:s}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(s.computeSize("x"),s.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(s.computeSize("x"),s.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*s.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*s.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return this.getNumber()*15;case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case(this.isString(/%$/)&&i):return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*s.computeSize(r);default:{var l=this.getNumber();return n&&l<1?l*s.computeSize(r):l}}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():this.getNumber()*1e3:0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){var e=this.getString(),n=/#([^)'"]+)/.exec(e);return n&&(n=n[1]),n||(n=e),this.document.definitions[n]}getFillStyleDefinition(e,n){var r=this.getDefinition();if(!r)return null;if(typeof r.createGradient=="function")return r.createGradient(this.document.ctx,e,n);if(typeof r.createPattern=="function"){if(r.getHrefAttribute().hasValue()){var i=r.getAttribute("patternTransform");r=r.getHrefAttribute().getDefinition(),i.hasValue()&&r.getAttribute("patternTransform",!0).setValue(i.value)}return r.createPattern(this.document.ctx,e,n)}return null}getTextBaseline(){return this.hasValue()?Hi.textBaselineMapping[this.getString()]:null}addOpacity(e){for(var n=this.getColor(),r=n.length,i=0,s=0;s<r&&(n[s]===","&&i++,i!==3);s++);if(e.hasValue()&&this.isString()&&i!==3){var l=new lD(n);l.ok&&(l.alpha=e.getNumber(),n=l.toRGBA())}return new Hi(this.document,this.name,n)}}Hi.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class kde{constructor(){this.viewPorts=[]}clear(){this.viewPorts=[]}setCurrent(e,n){this.viewPorts.push({width:e,height:n})}removeCurrent(){this.viewPorts.pop()}getCurrent(){var{viewPorts:e}=this;return e[e.length-1]}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(e){return typeof e=="number"?e:e==="x"?this.width:e==="y"?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}}class ul{constructor(e,n){this.x=e,this.y=n}static parse(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,[r=n,i=n]=Uh(e);return new ul(r,i)}static parseScale(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,[r=n,i=r]=Uh(e);return new ul(r,i)}static parsePath(e){for(var n=Uh(e),r=n.length,i=[],s=0;s<r;s+=2)i.push(new ul(n[s],n[s+1]));return i}angleTo(e){return Math.atan2(e.y-this.y,e.x-this.x)}applyTransform(e){var{x:n,y:r}=this,i=n*e[0]+r*e[2]+e[4],s=n*e[1]+r*e[3]+e[5];this.x=i,this.y=s}}class Rde{constructor(e){this.screen=e,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}isWorking(){return this.working}start(){if(!this.working){var{screen:e,onClick:n,onMouseMove:r}=this,i=e.ctx.canvas;i.onclick=n,i.onmousemove=r,this.working=!0}}stop(){if(this.working){var e=this.screen.ctx.canvas;this.working=!1,e.onclick=null,e.onmousemove=null}}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(this.working){var{screen:e,events:n,eventElements:r}=this,{style:i}=e.ctx.canvas;i&&(i.cursor=""),n.forEach((s,l)=>{for(var{run:c}=s,a=r[l];a;)c(a),a=a.parent}),this.events=[],this.eventElements=[]}}checkPath(e,n){if(!(!this.working||!n)){var{events:r,eventElements:i}=this;r.forEach((s,l)=>{var{x:c,y:a}=s;!i[l]&&n.isPointInPath&&n.isPointInPath(c,a)&&(i[l]=e)})}}checkBoundingBox(e,n){if(!(!this.working||!n)){var{events:r,eventElements:i}=this;r.forEach((s,l)=>{var{x:c,y:a}=s;!i[l]&&n.isPointInBox(c,a)&&(i[l]=e)})}}mapXY(e,n){for(var{window:r,ctx:i}=this.screen,s=new ul(e,n),l=i.canvas;l;)s.x-=l.offsetLeft,s.y-=l.offsetTop,l=l.offsetParent;return r.scrollX&&(s.x+=r.scrollX),r.scrollY&&(s.y+=r.scrollY),s}onClick(e){var{x:n,y:r}=this.mapXY(e.clientX,e.clientY);this.events.push({type:"onclick",x:n,y:r,run(i){i.onClick&&i.onClick()}})}onMouseMove(e){var{x:n,y:r}=this.mapXY(e.clientX,e.clientY);this.events.push({type:"onmousemove",x:n,y:r,run(i){i.onMouseMove&&i.onMouseMove()}})}}var Ode=typeof window<"u"?window:null,Dde=typeof fetch<"u"?fetch.bind(void 0):null;class m5{constructor(e){var{fetch:n=Dde,window:r=Ode}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.ctx=e,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new kde,this.mouse=new Rde(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=r,this.fetch=n}wait(e){this.waits.push(e)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;var e=this.waits.every(n=>n());return e&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=e,e}setDefaults(e){e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4}setViewBox(e){var{document:n,ctx:r,aspectRatio:i,width:s,desiredWidth:l,height:c,desiredHeight:a,minX:f=0,minY:A=0,refX:m,refY:_,clip:y=!1,clipX:T=0,clipY:E=0}=e,P=Iy(i).replace(/^defer\s/,""),[I,F]=P.split(" "),R=I||"xMidYMid",N=F||"meet",z=s/l,Q=c/a,j=Math.min(z,Q),H=Math.max(z,Q),K=l,ie=a;N==="meet"&&(K*=j,ie*=j),N==="slice"&&(K*=H,ie*=H);var q=new Hi(n,"refX",m),W=new Hi(n,"refY",_),ee=q.hasValue()&&W.hasValue();if(ee&&r.translate(-j*q.getPixels("x"),-j*W.getPixels("y")),y){var ue=j*T,J=j*E;r.beginPath(),r.moveTo(ue,J),r.lineTo(s,J),r.lineTo(s,c),r.lineTo(ue,c),r.closePath(),r.clip()}if(!ee){var te=N==="meet"&&j===Q,ne=N==="slice"&&H===Q,he=N==="meet"&&j===z,ce=N==="slice"&&H===z;R.startsWith("xMid")&&(te||ne)&&r.translate(s/2-K/2,0),R.endsWith("YMid")&&(he||ce)&&r.translate(0,c/2-ie/2),R.startsWith("xMax")&&(te||ne)&&r.translate(s-K,0),R.endsWith("YMax")&&(he||ce)&&r.translate(0,c-ie)}switch(!0){case R==="none":r.scale(z,Q);break;case N==="meet":r.scale(j,j);break;case N==="slice":r.scale(H,H);break}r.translate(-f,-A)}start(e){var{enableRedraw:n=!1,ignoreMouse:r=!1,ignoreAnimation:i=!1,ignoreDimensions:s=!1,ignoreClear:l=!1,forceRedraw:c,scaleWidth:a,scaleHeight:f,offsetX:A,offsetY:m}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{FRAMERATE:_,mouse:y}=this,T=1e3/_;if(this.frameDuration=T,this.readyPromise=new Promise(R=>{this.resolveReady=R}),this.isReady()&&this.render(e,s,l,a,f,A,m),!!n){var E=Date.now(),P=E,I=0,F=()=>{E=Date.now(),I=E-P,I>=T&&(P=E-I%T,this.shouldUpdate(i,c)&&(this.render(e,s,l,a,f,A,m),y.runEvents())),this.intervalId=VF(F)};r||y.start(),this.intervalId=VF(F)}}stop(){this.intervalId&&(VF.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(e,n){if(!e){var{frameDuration:r}=this,i=this.animations.reduce((s,l)=>l.update(r)||s,!1);if(i)return!0}return!!(typeof n=="function"&&n()||!this.isReadyLock&&this.isReady()||this.mouse.hasEvents())}render(e,n,r,i,s,l,c){var{CLIENT_WIDTH:a,CLIENT_HEIGHT:f,viewPort:A,ctx:m,isFirstRender:_}=this,y=m.canvas;A.clear(),y.width&&y.height?A.setCurrent(y.width,y.height):A.setCurrent(a,f);var T=e.getStyle("width"),E=e.getStyle("height");!n&&(_||typeof i!="number"&&typeof s!="number")&&(T.hasValue()&&(y.width=T.getPixels("x"),y.style&&(y.style.width="".concat(y.width,"px"))),E.hasValue()&&(y.height=E.getPixels("y"),y.style&&(y.style.height="".concat(y.height,"px"))));var P=y.clientWidth||y.width,I=y.clientHeight||y.height;if(n&&T.hasValue()&&E.hasValue()&&(P=T.getPixels("x"),I=E.getPixels("y")),A.setCurrent(P,I),typeof l=="number"&&e.getAttribute("x",!0).setValue(l),typeof c=="number"&&e.getAttribute("y",!0).setValue(c),typeof i=="number"||typeof s=="number"){var F=Uh(e.getAttribute("viewBox").getString()),R=0,N=0;if(typeof i=="number"){var z=e.getStyle("width");z.hasValue()?R=z.getPixels("x")/i:isNaN(F[2])||(R=F[2]/i)}if(typeof s=="number"){var Q=e.getStyle("height");Q.hasValue()?N=Q.getPixels("y")/s:isNaN(F[3])||(N=F[3]/s)}R||(R=N),N||(N=R),e.getAttribute("width",!0).setValue(i),e.getAttribute("height",!0).setValue(s);var j=e.getStyle("transform",!0,!0);j.setValue("".concat(j.getString()," scale(").concat(1/R,", ").concat(1/N,")"))}r||m.clearRect(0,0,P,I),e.render(m),_&&(this.isFirstRender=!1)}}m5.defaultWindow=Ode;m5.defaultFetch=Dde;var{defaultFetch:n3t}=m5,r3t=typeof DOMParser<"u"?DOMParser:null;class tT{constructor(){var{fetch:e=n3t,DOMParser:n=r3t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fetch=e,this.DOMParser=n}parse(e){var n=this;return e0(function*(){return e.startsWith("<")?n.parseFromString(e):n.load(e)})()}parseFromString(e){var n=new this.DOMParser;try{return this.checkDocument(n.parseFromString(e,"image/svg+xml"))}catch{return this.checkDocument(n.parseFromString(e,"text/xml"))}}checkDocument(e){var n=e.getElementsByTagName("parsererror")[0];if(n)throw new Error(n.textContent);return e}load(e){var n=this;return e0(function*(){var r=yield n.fetch(e),i=yield r.text();return n.parseFromString(i)})()}}class Nde{constructor(e,n){this.type="translate",this.point=null,this.point=ul.parse(n)}apply(e){var{x:n,y:r}=this.point;e.translate(n||0,r||0)}unapply(e){var{x:n,y:r}=this.point;e.translate(-1*n||0,-1*r||0)}applyToPoint(e){var{x:n,y:r}=this.point;e.applyTransform([1,0,0,1,n||0,r||0])}}class Ude{constructor(e,n,r){this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var i=Uh(n);this.angle=new Hi(e,"angle",i[0]),this.originX=r[0],this.originY=r[1],this.cx=i[1]||0,this.cy=i[2]||0}apply(e){var{cx:n,cy:r,originX:i,originY:s,angle:l}=this,c=n+i.getPixels("x"),a=r+s.getPixels("y");e.translate(c,a),e.rotate(l.getRadians()),e.translate(-c,-a)}unapply(e){var{cx:n,cy:r,originX:i,originY:s,angle:l}=this,c=n+i.getPixels("x"),a=r+s.getPixels("y");e.translate(c,a),e.rotate(-1*l.getRadians()),e.translate(-c,-a)}applyToPoint(e){var{cx:n,cy:r,angle:i}=this,s=i.getRadians();e.applyTransform([1,0,0,1,n||0,r||0]),e.applyTransform([Math.cos(s),Math.sin(s),-Math.sin(s),Math.cos(s),0,0]),e.applyTransform([1,0,0,1,-n||0,-r||0])}}class zde{constructor(e,n,r){this.type="scale",this.scale=null,this.originX=null,this.originY=null;var i=ul.parseScale(n);(i.x===0||i.y===0)&&(i.x=X_,i.y=X_),this.scale=i,this.originX=r[0],this.originY=r[1]}apply(e){var{scale:{x:n,y:r},originX:i,originY:s}=this,l=i.getPixels("x"),c=s.getPixels("y");e.translate(l,c),e.scale(n,r||n),e.translate(-l,-c)}unapply(e){var{scale:{x:n,y:r},originX:i,originY:s}=this,l=i.getPixels("x"),c=s.getPixels("y");e.translate(l,c),e.scale(1/n,1/r||n),e.translate(-l,-c)}applyToPoint(e){var{x:n,y:r}=this.scale;e.applyTransform([n||0,0,0,r||0,0,0])}}class tz{constructor(e,n,r){this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=Uh(n),this.originX=r[0],this.originY=r[1]}apply(e){var{originX:n,originY:r,matrix:i}=this,s=n.getPixels("x"),l=r.getPixels("y");e.translate(s,l),e.transform(i[0],i[1],i[2],i[3],i[4],i[5]),e.translate(-s,-l)}unapply(e){var{originX:n,originY:r,matrix:i}=this,s=i[0],l=i[2],c=i[4],a=i[1],f=i[3],A=i[5],m=0,_=0,y=1,T=1/(s*(f*y-A*_)-l*(a*y-A*m)+c*(a*_-f*m)),E=n.getPixels("x"),P=r.getPixels("y");e.translate(E,P),e.transform(T*(f*y-A*_),T*(A*m-a*y),T*(c*_-l*y),T*(s*y-c*m),T*(l*A-c*f),T*(c*a-s*A)),e.translate(-E,-P)}applyToPoint(e){e.applyTransform(this.matrix)}}class nz extends tz{constructor(e,n,r){super(e,n,r),this.type="skew",this.angle=null,this.angle=new Hi(e,"angle",n)}}class $de extends nz{constructor(e,n,r){super(e,n,r),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class Vde extends nz{constructor(e,n,r){super(e,n,r),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}function i3t(t){return Iy(t).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function a3t(t){var[e,n]=t.split("(");return[e.trim(),n.trim().replace(")","")]}class c1{constructor(e,n,r){this.document=e,this.transforms=[];var i=i3t(n);i.forEach(s=>{if(s!=="none"){var[l,c]=a3t(s),a=c1.transformTypes[l];typeof a<"u"&&this.transforms.push(new a(this.document,c,r))}})}static fromElement(e,n){var r=n.getStyle("transform",!1,!0),[i,s=i]=n.getStyle("transform-origin",!1,!0).split(),l=[i,s];return r.hasValue()?new c1(e,r.getString(),l):null}apply(e){for(var{transforms:n}=this,r=n.length,i=0;i<r;i++)n[i].apply(e)}unapply(e){for(var{transforms:n}=this,r=n.length,i=r-1;i>=0;i--)n[i].unapply(e)}applyToPoint(e){for(var{transforms:n}=this,r=n.length,i=0;i<r;i++)n[i].applyToPoint(e)}}c1.transformTypes={translate:Nde,rotate:Ude,scale:zde,matrix:tz,skewX:$de,skewY:Vde};let Xo=class yD{constructor(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.document=e,this.node=n,this.captureTextNodes=r,this.attributes={},this.styles={},this.stylesSpecificity={},this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!(!n||n.nodeType!==1)){if(Array.from(n.attributes).forEach(c=>{var a=Lde(c.nodeName);this.attributes[a]=new Hi(e,a,c.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()){var i=this.getAttribute("style").getString().split(";").map(c=>c.trim());i.forEach(c=>{if(c){var[a,f]=c.split(":").map(A=>A.trim());this.styles[a]=new Hi(e,a,f)}})}var{definitions:s}=e,l=this.getAttribute("id");l.hasValue()&&(s[l.getString()]||(s[l.getString()]=this)),Array.from(n.childNodes).forEach(c=>{if(c.nodeType===1)this.addChild(c);else if(r&&(c.nodeType===3||c.nodeType===4)){var a=e.createTextNode(c);a.getText().length>0&&this.addChild(a)}})}}getAttribute(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=this.attributes[e];if(!r&&n){var i=new Hi(this.document,e,"");return this.attributes[e]=i,i}return r||Hi.empty(this.document)}getHrefAttribute(){for(var e in this.attributes)if(e==="href"||e.endsWith(":href"))return this.attributes[e];return Hi.empty(this.document)}getStyle(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=this.styles[e];if(i)return i;var s=this.getAttribute(e);if(s!=null&&s.hasValue())return this.styles[e]=s,s;if(!r){var{parent:l}=this;if(l){var c=l.getStyle(e);if(c!=null&&c.hasValue())return c}}if(n){var a=new Hi(this.document,e,"");return this.styles[e]=a,a}return i||Hi.empty(this.document)}render(e){if(!(this.getStyle("display").getString()==="none"||this.getStyle("visibility").getString()==="hidden")){if(e.save(),this.getStyle("mask").hasValue()){var n=this.getStyle("mask").getDefinition();n&&(this.applyEffects(e),n.apply(e,this))}else if(this.getStyle("filter").getValue("none")!=="none"){var r=this.getStyle("filter").getDefinition();r&&(this.applyEffects(e),r.apply(e,this))}else this.setContext(e),this.renderChildren(e),this.clearContext(e);e.restore()}}setContext(e){}applyEffects(e){var n=c1.fromElement(this.document,this);n&&n.apply(e);var r=this.getStyle("clip-path",!1,!0);if(r.hasValue()){var i=r.getDefinition();i&&i.apply(e)}}clearContext(e){}renderChildren(e){this.children.forEach(n=>{n.render(e)})}addChild(e){var n=e instanceof yD?e:this.document.createElement(e);n.parent=this,yD.ignoreChildTypes.includes(n.type)||this.children.push(n)}matchesSelector(e){var n,{node:r}=this;if(typeof r.matches=="function")return r.matches(e);var i=(n=r.getAttribute)===null||n===void 0?void 0:n.call(r,"class");return!i||i===""?!1:i.split(" ").some(s=>".".concat(s)===e)}addStylesFromStyleDefinition(){var{styles:e,stylesSpecificity:n}=this.document;for(var r in e)if(!r.startsWith("@")&&this.matchesSelector(r)){var i=e[r],s=n[r];if(i)for(var l in i){var c=this.stylesSpecificity[l];typeof c>"u"&&(c="000"),s>=c&&(this.styles[l]=i[l],this.stylesSpecificity[l]=s)}}}removeStyles(e,n){var r=n.reduce((i,s)=>{var l=e.getStyle(s);if(!l.hasValue())return i;var c=l.getString();return l.setValue(""),[...i,[s,c]]},[]);return r}restoreStyles(e,n){n.forEach(r=>{var[i,s]=r;e.getStyle(i,!0).setValue(s)})}isFirstChild(){var e;return((e=this.parent)===null||e===void 0?void 0:e.children.indexOf(this))===0}};Xo.ignoreChildTypes=["title"];class Hde extends Xo{constructor(e,n,r){super(e,n,r)}}function s3t(t){var e=t.trim();return/^('|")/.test(e)?e:'"'.concat(e,'"')}function o3t(t){return typeof process>"u"?t:t.trim().split(",").map(s3t).join(",")}function l3t(t){if(!t)return"";var e=t.trim().toLowerCase();switch(e){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return e;default:return/^oblique\s+(-|)\d+deg$/.test(e)?e:""}}function u3t(t){if(!t)return"";var e=t.trim().toLowerCase();switch(e){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return e;default:return/^[\d.]+$/.test(e)?e:""}}class Ic{constructor(e,n,r,i,s,l){var c=l?typeof l=="string"?Ic.parse(l):l:{};this.fontFamily=s||c.fontFamily,this.fontSize=i||c.fontSize,this.fontStyle=e||c.fontStyle,this.fontWeight=r||c.fontWeight,this.fontVariant=n||c.fontVariant}static parse(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r="",i="",s="",l="",c="",a=Iy(e).trim().split(" "),f={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return a.forEach(A=>{switch(!0){case(!f.fontStyle&&Ic.styles.includes(A)):A!=="inherit"&&(r=A),f.fontStyle=!0;break;case(!f.fontVariant&&Ic.variants.includes(A)):A!=="inherit"&&(i=A),f.fontStyle=!0,f.fontVariant=!0;break;case(!f.fontWeight&&Ic.weights.includes(A)):A!=="inherit"&&(s=A),f.fontStyle=!0,f.fontVariant=!0,f.fontWeight=!0;break;case!f.fontSize:A!=="inherit"&&([l]=A.split("/")),f.fontStyle=!0,f.fontVariant=!0,f.fontWeight=!0,f.fontSize=!0;break;default:A!=="inherit"&&(c+=A)}}),new Ic(r,i,s,l,c,n)}toString(){return[l3t(this.fontStyle),this.fontVariant,u3t(this.fontWeight),this.fontSize,o3t(this.fontFamily)].join(" ").trim()}}Ic.styles="normal|italic|oblique|inherit";Ic.variants="normal|small-caps|inherit";Ic.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class Nf{constructor(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Number.NaN,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.NaN,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Number.NaN,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Number.NaN;this.x1=e,this.y1=n,this.x2=r,this.y2=i,this.addPoint(e,n),this.addPoint(r,i)}get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(e,n){typeof e<"u"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),typeof n<"u"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=n,this.y2=n),n<this.y1&&(this.y1=n),n>this.y2&&(this.y2=n))}addX(e){this.addPoint(e,null)}addY(e){this.addPoint(null,e)}addBoundingBox(e){if(e){var{x1:n,y1:r,x2:i,y2:s}=e;this.addPoint(n,r),this.addPoint(i,s)}}sumCubic(e,n,r,i,s){return Math.pow(1-e,3)*n+3*Math.pow(1-e,2)*e*r+3*(1-e)*Math.pow(e,2)*i+Math.pow(e,3)*s}bezierCurveAdd(e,n,r,i,s){var l=6*n-12*r+6*i,c=-3*n+9*r-9*i+3*s,a=3*r-3*n;if(c===0){if(l===0)return;var f=-a/l;0<f&&f<1&&(e?this.addX(this.sumCubic(f,n,r,i,s)):this.addY(this.sumCubic(f,n,r,i,s)));return}var A=Math.pow(l,2)-4*a*c;if(!(A<0)){var m=(-l+Math.sqrt(A))/(2*c);0<m&&m<1&&(e?this.addX(this.sumCubic(m,n,r,i,s)):this.addY(this.sumCubic(m,n,r,i,s)));var _=(-l-Math.sqrt(A))/(2*c);0<_&&_<1&&(e?this.addX(this.sumCubic(_,n,r,i,s)):this.addY(this.sumCubic(_,n,r,i,s)))}}addBezierCurve(e,n,r,i,s,l,c,a){this.addPoint(e,n),this.addPoint(c,a),this.bezierCurveAdd(!0,e,r,s,c),this.bezierCurveAdd(!1,n,i,l,a)}addQuadraticCurve(e,n,r,i,s,l){var c=e+.6666666666666666*(r-e),a=n+2/3*(i-n),f=c+1/3*(s-e),A=a+1/3*(l-n);this.addBezierCurve(e,n,c,f,a,A,s,l)}isPointInBox(e,n){var{x1:r,y1:i,x2:s,y2:l}=this;return r<=e&&e<=s&&i<=n&&n<=l}}class La extends br{constructor(e){super(e.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=null,this.start=null,this.current=null,this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new ul(0,0),this.control=new ul(0,0),this.current=new ul(0,0),this.points=[],this.angles=[]}isEnd(){var{i:e,commands:n}=this;return e>=n.length-1}next(){var e=this.commands[++this.i];return this.previousCommand=this.command,this.command=e,e}getPoint(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"x",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"y",r=new ul(this.command[e],this.command[n]);return this.makeAbsolute(r)}getAsControlPoint(e,n){var r=this.getPoint(e,n);return this.control=r,r}getAsCurrentPoint(e,n){var r=this.getPoint(e,n);return this.current=r,r}getReflectedControlPoint(){var e=this.previousCommand.type;if(e!==br.CURVE_TO&&e!==br.SMOOTH_CURVE_TO&&e!==br.QUAD_TO&&e!==br.SMOOTH_QUAD_TO)return this.current;var{current:{x:n,y:r},control:{x:i,y:s}}=this,l=new ul(2*n-i,2*r-s);return l}makeAbsolute(e){if(this.command.relative){var{x:n,y:r}=this.current;e.x+=n,e.y+=r}return e}addMarker(e,n,r){var{points:i,angles:s}=this;r&&s.length>0&&!s[s.length-1]&&(s[s.length-1]=i[i.length-1].angleTo(r)),this.addMarkerAngle(e,n?n.angleTo(e):null)}addMarkerAngle(e,n){this.points.push(e),this.angles.push(n)}getMarkerPoints(){return this.points}getMarkerAngles(){for(var{angles:e}=this,n=e.length,r=0;r<n;r++)if(!e[r]){for(var i=r+1;i<n;i++)if(e[i]){e[r]=e[i];break}}return e}}class _1 extends Xo{constructor(){super(...arguments),this.modifiedEmSizeStack=!1}calculateOpacity(){for(var e=1,n=this;n;){var r=n.getStyle("opacity",!1,!0);r.hasValue(!0)&&(e*=r.getNumber()),n=n.parent}return e}setContext(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!n){var r=this.getStyle("fill"),i=this.getStyle("fill-opacity"),s=this.getStyle("stroke"),l=this.getStyle("stroke-opacity");if(r.isUrlDefinition()){var c=r.getFillStyleDefinition(this,i);c&&(e.fillStyle=c)}else if(r.hasValue()){r.getString()==="currentColor"&&r.setValue(this.getStyle("color").getColor());var a=r.getColor();a!=="inherit"&&(e.fillStyle=a==="none"?"rgba(0,0,0,0)":a)}if(i.hasValue()){var f=new Hi(this.document,"fill",e.fillStyle).addOpacity(i).getColor();e.fillStyle=f}if(s.isUrlDefinition()){var A=s.getFillStyleDefinition(this,l);A&&(e.strokeStyle=A)}else if(s.hasValue()){s.getString()==="currentColor"&&s.setValue(this.getStyle("color").getColor());var m=s.getString();m!=="inherit"&&(e.strokeStyle=m==="none"?"rgba(0,0,0,0)":m)}if(l.hasValue()){var _=new Hi(this.document,"stroke",e.strokeStyle).addOpacity(l).getString();e.strokeStyle=_}var y=this.getStyle("stroke-width");if(y.hasValue()){var T=y.getPixels();e.lineWidth=T||X_}var E=this.getStyle("stroke-linecap"),P=this.getStyle("stroke-linejoin"),I=this.getStyle("stroke-miterlimit"),F=this.getStyle("stroke-dasharray"),R=this.getStyle("stroke-dashoffset");if(E.hasValue()&&(e.lineCap=E.getString()),P.hasValue()&&(e.lineJoin=P.getString()),I.hasValue()&&(e.miterLimit=I.getNumber()),F.hasValue()&&F.getString()!=="none"){var N=Uh(F.getString());typeof e.setLineDash<"u"?e.setLineDash(N):typeof e.webkitLineDash<"u"?e.webkitLineDash=N:typeof e.mozDash<"u"&&!(N.length===1&&N[0]===0)&&(e.mozDash=N);var z=R.getPixels();typeof e.lineDashOffset<"u"?e.lineDashOffset=z:typeof e.webkitLineDashOffset<"u"?e.webkitLineDashOffset=z:typeof e.mozDashOffset<"u"&&(e.mozDashOffset=z)}}if(this.modifiedEmSizeStack=!1,typeof e.font<"u"){var Q=this.getStyle("font"),j=this.getStyle("font-style"),H=this.getStyle("font-variant"),K=this.getStyle("font-weight"),ie=this.getStyle("font-size"),q=this.getStyle("font-family"),W=new Ic(j.getString(),H.getString(),K.getString(),ie.hasValue()?"".concat(ie.getPixels(!0),"px"):"",q.getString(),Ic.parse(Q.getString(),e.font));j.setValue(W.fontStyle),H.setValue(W.fontVariant),K.setValue(W.fontWeight),ie.setValue(W.fontSize),q.setValue(W.fontFamily),e.font=W.toString(),ie.isPixels()&&(this.document.emSize=ie.getPixels(),this.modifiedEmSizeStack=!0)}n||(this.applyEffects(e),e.globalAlpha=this.calculateOpacity())}clearContext(e){super.clearContext(e),this.modifiedEmSizeStack&&this.document.popEmSize()}}class Ds extends _1{constructor(e,n,r){super(e,n,r),this.type="path",this.pathParser=null,this.pathParser=new La(this.getAttribute("d").getString())}path(e){var{pathParser:n}=this,r=new Nf;for(n.reset(),e&&e.beginPath();!n.isEnd();)switch(n.next().type){case La.MOVE_TO:this.pathM(e,r);break;case La.LINE_TO:this.pathL(e,r);break;case La.HORIZ_LINE_TO:this.pathH(e,r);break;case La.VERT_LINE_TO:this.pathV(e,r);break;case La.CURVE_TO:this.pathC(e,r);break;case La.SMOOTH_CURVE_TO:this.pathS(e,r);break;case La.QUAD_TO:this.pathQ(e,r);break;case La.SMOOTH_QUAD_TO:this.pathT(e,r);break;case La.ARC:this.pathA(e,r);break;case La.CLOSE_PATH:this.pathZ(e,r);break}return r}getBoundingBox(e){return this.path()}getMarkers(){var{pathParser:e}=this,n=e.getMarkerPoints(),r=e.getMarkerAngles(),i=n.map((s,l)=>[s,r[l]]);return i}renderChildren(e){this.path(e),this.document.screen.mouse.checkPath(this,e);var n=this.getStyle("fill-rule");e.fillStyle!==""&&(n.getString("inherit")!=="inherit"?e.fill(n.getString()):e.fill()),e.strokeStyle!==""&&(this.getAttribute("vector-effect").getString()==="non-scaling-stroke"?(e.save(),e.setTransform(1,0,0,1,0,0),e.stroke(),e.restore()):e.stroke());var r=this.getMarkers();if(r){var i=r.length-1,s=this.getStyle("marker-start"),l=this.getStyle("marker-mid"),c=this.getStyle("marker-end");if(s.isUrlDefinition()){var a=s.getDefinition(),[f,A]=r[0];a.render(e,f,A)}if(l.isUrlDefinition())for(var m=l.getDefinition(),_=1;_<i;_++){var[y,T]=r[_];m.render(e,y,T)}if(c.isUrlDefinition()){var E=c.getDefinition(),[P,I]=r[i];E.render(e,P,I)}}}static pathM(e){var n=e.getAsCurrentPoint();return e.start=e.current,{point:n}}pathM(e,n){var{pathParser:r}=this,{point:i}=Ds.pathM(r),{x:s,y:l}=i;r.addMarker(i),n.addPoint(s,l),e&&e.moveTo(s,l)}static pathL(e){var{current:n}=e,r=e.getAsCurrentPoint();return{current:n,point:r}}pathL(e,n){var{pathParser:r}=this,{current:i,point:s}=Ds.pathL(r),{x:l,y:c}=s;r.addMarker(s,i),n.addPoint(l,c),e&&e.lineTo(l,c)}static pathH(e){var{current:n,command:r}=e,i=new ul((r.relative?n.x:0)+r.x,n.y);return e.current=i,{current:n,point:i}}pathH(e,n){var{pathParser:r}=this,{current:i,point:s}=Ds.pathH(r),{x:l,y:c}=s;r.addMarker(s,i),n.addPoint(l,c),e&&e.lineTo(l,c)}static pathV(e){var{current:n,command:r}=e,i=new ul(n.x,(r.relative?n.y:0)+r.y);return e.current=i,{current:n,point:i}}pathV(e,n){var{pathParser:r}=this,{current:i,point:s}=Ds.pathV(r),{x:l,y:c}=s;r.addMarker(s,i),n.addPoint(l,c),e&&e.lineTo(l,c)}static pathC(e){var{current:n}=e,r=e.getPoint("x1","y1"),i=e.getAsControlPoint("x2","y2"),s=e.getAsCurrentPoint();return{current:n,point:r,controlPoint:i,currentPoint:s}}pathC(e,n){var{pathParser:r}=this,{current:i,point:s,controlPoint:l,currentPoint:c}=Ds.pathC(r);r.addMarker(c,l,s),n.addBezierCurve(i.x,i.y,s.x,s.y,l.x,l.y,c.x,c.y),e&&e.bezierCurveTo(s.x,s.y,l.x,l.y,c.x,c.y)}static pathS(e){var{current:n}=e,r=e.getReflectedControlPoint(),i=e.getAsControlPoint("x2","y2"),s=e.getAsCurrentPoint();return{current:n,point:r,controlPoint:i,currentPoint:s}}pathS(e,n){var{pathParser:r}=this,{current:i,point:s,controlPoint:l,currentPoint:c}=Ds.pathS(r);r.addMarker(c,l,s),n.addBezierCurve(i.x,i.y,s.x,s.y,l.x,l.y,c.x,c.y),e&&e.bezierCurveTo(s.x,s.y,l.x,l.y,c.x,c.y)}static pathQ(e){var{current:n}=e,r=e.getAsControlPoint("x1","y1"),i=e.getAsCurrentPoint();return{current:n,controlPoint:r,currentPoint:i}}pathQ(e,n){var{pathParser:r}=this,{current:i,controlPoint:s,currentPoint:l}=Ds.pathQ(r);r.addMarker(l,s,s),n.addQuadraticCurve(i.x,i.y,s.x,s.y,l.x,l.y),e&&e.quadraticCurveTo(s.x,s.y,l.x,l.y)}static pathT(e){var{current:n}=e,r=e.getReflectedControlPoint();e.control=r;var i=e.getAsCurrentPoint();return{current:n,controlPoint:r,currentPoint:i}}pathT(e,n){var{pathParser:r}=this,{current:i,controlPoint:s,currentPoint:l}=Ds.pathT(r);r.addMarker(l,s,s),n.addQuadraticCurve(i.x,i.y,s.x,s.y,l.x,l.y),e&&e.quadraticCurveTo(s.x,s.y,l.x,l.y)}static pathA(e){var{current:n,command:r}=e,{rX:i,rY:s,xRot:l,lArcFlag:c,sweepFlag:a}=r,f=l*(Math.PI/180),A=e.getAsCurrentPoint(),m=new ul(Math.cos(f)*(n.x-A.x)/2+Math.sin(f)*(n.y-A.y)/2,-Math.sin(f)*(n.x-A.x)/2+Math.cos(f)*(n.y-A.y)/2),_=Math.pow(m.x,2)/Math.pow(i,2)+Math.pow(m.y,2)/Math.pow(s,2);_>1&&(i*=Math.sqrt(_),s*=Math.sqrt(_));var y=(c===a?-1:1)*Math.sqrt((Math.pow(i,2)*Math.pow(s,2)-Math.pow(i,2)*Math.pow(m.y,2)-Math.pow(s,2)*Math.pow(m.x,2))/(Math.pow(i,2)*Math.pow(m.y,2)+Math.pow(s,2)*Math.pow(m.x,2)));isNaN(y)&&(y=0);var T=new ul(y*i*m.y/s,y*-s*m.x/i),E=new ul((n.x+A.x)/2+Math.cos(f)*T.x-Math.sin(f)*T.y,(n.y+A.y)/2+Math.sin(f)*T.x+Math.cos(f)*T.y),P=dD([1,0],[(m.x-T.x)/i,(m.y-T.y)/s]),I=[(m.x-T.x)/i,(m.y-T.y)/s],F=[(-m.x-T.x)/i,(-m.y-T.y)/s],R=dD(I,F);return x8(I,F)<=-1&&(R=Math.PI),x8(I,F)>=1&&(R=0),{currentPoint:A,rX:i,rY:s,sweepFlag:a,xAxisRotation:f,centp:E,a1:P,ad:R}}pathA(e,n){var{pathParser:r}=this,{currentPoint:i,rX:s,rY:l,sweepFlag:c,xAxisRotation:a,centp:f,a1:A,ad:m}=Ds.pathA(r),_=1-c?1:-1,y=A+_*(m/2),T=new ul(f.x+s*Math.cos(y),f.y+l*Math.sin(y));if(r.addMarkerAngle(T,y-_*Math.PI/2),r.addMarkerAngle(i,y-_*Math.PI),n.addPoint(i.x,i.y),e&&!isNaN(A)&&!isNaN(m)){var E=s>l?s:l,P=s>l?1:s/l,I=s>l?l/s:1;e.translate(f.x,f.y),e.rotate(a),e.scale(P,I),e.arc(0,0,E,A,A+m,!!(1-c)),e.scale(1/P,1/I),e.rotate(-a),e.translate(-f.x,-f.y)}}static pathZ(e){e.current=e.start}pathZ(e,n){Ds.pathZ(this.pathParser),e&&n.x1!==n.x2&&n.y1!==n.y2&&e.closePath()}}class rz extends Ds{constructor(e,n,r){super(e,n,r),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class t0 extends _1{constructor(e,n,r){super(e,n,new.target===t0?!0:r),this.type="text",this.x=0,this.y=0,this.measureCache=-1}setContext(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.setContext(e,n);var r=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();r&&(e.textBaseline=r)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(e){if(this.type!=="text")return this.getTElementBoundingBox(e);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(e);var n=null;return this.children.forEach((r,i)=>{var s=this.getChildBoundingBox(e,this,this,i);n?n.addBoundingBox(s):n=s}),n}getFontSize(){var{document:e,parent:n}=this,r=Ic.parse(e.ctx.font).fontSize,i=n.getStyle("font-size").getNumber(r);return i}getTElementBoundingBox(e){var n=this.getFontSize();return new Nf(this.x,this.y-n,this.x+this.measureText(e),this.y)}getGlyph(e,n,r){var i=n[r],s=null;if(e.isArabic){var l=n.length,c=n[r-1],a=n[r+1],f="isolated";if((r===0||c===" ")&&r<l-1&&a!==" "&&(f="terminal"),r>0&&c!==" "&&r<l-1&&a!==" "&&(f="medial"),r>0&&c!==" "&&(r===l-1||a===" ")&&(f="initial"),typeof e.glyphs[i]<"u"){var A=e.glyphs[i];s=A instanceof rz?A:A[f]}}else s=e.glyphs[i];return s||(s=e.missingGlyph),s}getText(){return""}getTextFromNode(e){var n=e||this.node,r=Array.from(n.parentNode.childNodes),i=r.indexOf(n),s=r.length-1,l=Iy(n.textContent||"");return i===0&&(l=Mde(l)),i===s&&(l=Ide(l)),l}renderChildren(e){if(this.type!=="text"){this.renderTElementChildren(e);return}this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(e),this.children.forEach((r,i)=>{this.renderChild(e,this,this,i)});var{mouse:n}=this.document.screen;n.isWorking()&&n.checkBoundingBox(this,this.getBoundingBox(e))}renderTElementChildren(e){var{document:n,parent:r}=this,i=this.getText(),s=r.getStyle("font-family").getDefinition();if(s){for(var{unitsPerEm:l}=s.fontFace,c=Ic.parse(n.ctx.font),a=r.getStyle("font-size").getNumber(c.fontSize),f=r.getStyle("font-style").getString(c.fontStyle),A=a/l,m=s.isRTL?i.split("").reverse().join(""):i,_=Uh(r.getAttribute("dx").getString()),y=m.length,T=0;T<y;T++){var E=this.getGlyph(s,m,T);e.translate(this.x,this.y),e.scale(A,-A);var P=e.lineWidth;e.lineWidth=e.lineWidth*l/a,f==="italic"&&e.transform(1,0,.4,1,0,0),E.render(e),f==="italic"&&e.transform(1,0,-.4,1,0,0),e.lineWidth=P,e.scale(1/A,-1/A),e.translate(-this.x,-this.y),this.x+=a*(E.horizAdvX||s.horizAdvX)/l,typeof _[T]<"u"&&!isNaN(_[T])&&(this.x+=_[T])}return}var{x:I,y:F}=this;e.fillStyle&&e.fillText(i,I,F),e.strokeStyle&&e.strokeText(i,I,F)}applyAnchoring(){if(!(this.textChunkStart>=this.leafTexts.length)){var e=this.leafTexts[this.textChunkStart],n=e.getStyle("text-anchor").getString("start"),r=!1,i=0;n==="start"&&!r||n==="end"&&r?i=e.x-this.minX:n==="end"&&!r||n==="start"&&r?i=e.x-this.maxX:i=e.x-(this.minX+this.maxX)/2;for(var s=this.textChunkStart;s<this.leafTexts.length;s++)this.leafTexts[s].x+=i;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}adjustChildCoordinatesRecursive(e){this.children.forEach((n,r)=>{this.adjustChildCoordinatesRecursiveCore(e,this,this,r)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(e,n,r,i){var s=r.children[i];s.children.length>0?s.children.forEach((l,c)=>{n.adjustChildCoordinatesRecursiveCore(e,n,s,c)}):this.adjustChildCoordinates(e,n,r,i)}adjustChildCoordinates(e,n,r,i){var s=r.children[i];if(typeof s.measureText!="function")return s;e.save(),s.setContext(e,!0);var l=s.getAttribute("x"),c=s.getAttribute("y"),a=s.getAttribute("dx"),f=s.getAttribute("dy"),A=s.getStyle("font-family").getDefinition(),m=!!A&&A.isRTL;i===0&&(l.hasValue()||l.setValue(s.getInheritedAttribute("x")),c.hasValue()||c.setValue(s.getInheritedAttribute("y")),a.hasValue()||a.setValue(s.getInheritedAttribute("dx")),f.hasValue()||f.setValue(s.getInheritedAttribute("dy")));var _=s.measureText(e);return m&&(n.x-=_),l.hasValue()?(n.applyAnchoring(),s.x=l.getPixels("x"),a.hasValue()&&(s.x+=a.getPixels("x"))):(a.hasValue()&&(n.x+=a.getPixels("x")),s.x=n.x),n.x=s.x,m||(n.x+=_),c.hasValue()?(s.y=c.getPixels("y"),f.hasValue()&&(s.y+=f.getPixels("y"))):(f.hasValue()&&(n.y+=f.getPixels("y")),s.y=n.y),n.y=s.y,n.leafTexts.push(s),n.minX=Math.min(n.minX,s.x,s.x+_),n.maxX=Math.max(n.maxX,s.x,s.x+_),s.clearContext(e),e.restore(),s}getChildBoundingBox(e,n,r,i){var s=r.children[i];if(typeof s.getBoundingBox!="function")return null;var l=s.getBoundingBox(e);return l?(s.children.forEach((c,a)=>{var f=n.getChildBoundingBox(e,n,s,a);l.addBoundingBox(f)}),l):null}renderChild(e,n,r,i){var s=r.children[i];s.render(e),s.children.forEach((l,c)=>{n.renderChild(e,n,s,c)})}measureText(e){var{measureCache:n}=this;if(~n)return n;var r=this.getText(),i=this.measureTargetText(e,r);return this.measureCache=i,i}measureTargetText(e,n){if(!n.length)return 0;var{parent:r}=this,i=r.getStyle("font-family").getDefinition();if(i){for(var s=this.getFontSize(),l=i.isRTL?n.split("").reverse().join(""):n,c=Uh(r.getAttribute("dx").getString()),a=l.length,f=0,A=0;A<a;A++){var m=this.getGlyph(i,l,A);f+=(m.horizAdvX||i.horizAdvX)*s/i.fontFace.unitsPerEm,typeof c[A]<"u"&&!isNaN(c[A])&&(f+=c[A])}return f}if(!e.measureText)return n.length*10;e.save(),this.setContext(e,!0);var{width:_}=e.measureText(n);return this.clearContext(e),e.restore(),_}getInheritedAttribute(e){for(var n=this;n instanceof t0&&n.isFirstChild();){var r=n.parent.getAttribute(e);if(r.hasValue(!0))return r.getValue("0");n=n.parent}return null}}class g5 extends t0{constructor(e,n,r){super(e,n,new.target===g5?!0:r),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}getText(){return this.text}}class c3t extends g5{constructor(){super(...arguments),this.type="textNode"}}let Y2=class extends _1{constructor(){super(...arguments),this.type="svg",this.root=!1}setContext(e){var n,{document:r}=this,{screen:i,window:s}=r,l=e.canvas;if(i.setDefaults(e),l.style&&typeof e.font<"u"&&s&&typeof s.getComputedStyle<"u"){e.font=s.getComputedStyle(l).getPropertyValue("font");var c=new Hi(r,"fontSize",Ic.parse(e.font).fontSize);c.hasValue()&&(r.rootEmSize=c.getPixels("y"),r.emSize=r.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var{width:a,height:f}=i.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var A=this.getAttribute("refX"),m=this.getAttribute("refY"),_=this.getAttribute("viewBox"),y=_.hasValue()?Uh(_.getString()):null,T=!this.root&&this.getStyle("overflow").getValue("hidden")!=="visible",E=0,P=0,I=0,F=0;y&&(E=y[0],P=y[1]),this.root||(a=this.getStyle("width").getPixels("x"),f=this.getStyle("height").getPixels("y"),this.type==="marker"&&(I=E,F=P,E=0,P=0)),i.viewPort.setCurrent(a,f),this.node&&(!this.parent||((n=this.node.parentNode)===null||n===void 0?void 0:n.nodeName)==="foreignObject")&&this.getStyle("transform",!1,!0).hasValue()&&!this.getStyle("transform-origin",!1,!0).hasValue()&&this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(e),e.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),y&&(a=y[2],f=y[3]),r.setViewBox({ctx:e,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:i.viewPort.width,desiredWidth:a,height:i.viewPort.height,desiredHeight:f,minX:E,minY:P,refX:A.getValue(),refY:m.getValue(),clip:T,clipX:I,clipY:F}),y&&(i.viewPort.removeCurrent(),i.viewPort.setCurrent(a,f))}clearContext(e){super.clearContext(e),this.document.screen.viewPort.removeCurrent()}resize(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=this.getAttribute("width",!0),s=this.getAttribute("height",!0),l=this.getAttribute("viewBox"),c=this.getAttribute("style"),a=i.getNumber(0),f=s.getNumber(0);if(r)if(typeof r=="string")this.getAttribute("preserveAspectRatio",!0).setValue(r);else{var A=this.getAttribute("preserveAspectRatio");A.hasValue()&&A.setValue(A.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(i.setValue(e),s.setValue(n),l.hasValue()||l.setValue("0 0 ".concat(a||e," ").concat(f||n)),c.hasValue()){var m=this.getStyle("width"),_=this.getStyle("height");m.hasValue()&&m.setValue("".concat(e,"px")),_.hasValue()&&_.setValue("".concat(n,"px"))}}};class iz extends Ds{constructor(){super(...arguments),this.type="rect"}path(e){var n=this.getAttribute("x").getPixels("x"),r=this.getAttribute("y").getPixels("y"),i=this.getStyle("width",!1,!0).getPixels("x"),s=this.getStyle("height",!1,!0).getPixels("y"),l=this.getAttribute("rx"),c=this.getAttribute("ry"),a=l.getPixels("x"),f=c.getPixels("y");if(l.hasValue()&&!c.hasValue()&&(f=a),c.hasValue()&&!l.hasValue()&&(a=f),a=Math.min(a,i/2),f=Math.min(f,s/2),e){var A=4*((Math.sqrt(2)-1)/3);e.beginPath(),s>0&&i>0&&(e.moveTo(n+a,r),e.lineTo(n+i-a,r),e.bezierCurveTo(n+i-a+A*a,r,n+i,r+f-A*f,n+i,r+f),e.lineTo(n+i,r+s-f),e.bezierCurveTo(n+i,r+s-f+A*f,n+i-a+A*a,r+s,n+i-a,r+s),e.lineTo(n+a,r+s),e.bezierCurveTo(n+a-A*a,r+s,n,r+s-f+A*f,n,r+s-f),e.lineTo(n,r+f),e.bezierCurveTo(n,r+f-A*f,n+a-A*a,r,n+a,r),e.closePath())}return new Nf(n,r,n+i,r+s)}getMarkers(){return null}}class Qde extends Ds{constructor(){super(...arguments),this.type="circle"}path(e){var n=this.getAttribute("cx").getPixels("x"),r=this.getAttribute("cy").getPixels("y"),i=this.getAttribute("r").getPixels();return e&&i>0&&(e.beginPath(),e.arc(n,r,i,0,Math.PI*2,!1),e.closePath()),new Nf(n-i,r-i,n+i,r+i)}getMarkers(){return null}}class jde extends Ds{constructor(){super(...arguments),this.type="ellipse"}path(e){var n=4*((Math.sqrt(2)-1)/3),r=this.getAttribute("rx").getPixels("x"),i=this.getAttribute("ry").getPixels("y"),s=this.getAttribute("cx").getPixels("x"),l=this.getAttribute("cy").getPixels("y");return e&&r>0&&i>0&&(e.beginPath(),e.moveTo(s+r,l),e.bezierCurveTo(s+r,l+n*i,s+n*r,l+i,s,l+i),e.bezierCurveTo(s-n*r,l+i,s-r,l+n*i,s-r,l),e.bezierCurveTo(s-r,l-n*i,s-n*r,l-i,s,l-i),e.bezierCurveTo(s+n*r,l-i,s+r,l-n*i,s+r,l),e.closePath()),new Nf(s-r,l-i,s+r,l+i)}getMarkers(){return null}}class Gde extends Ds{constructor(){super(...arguments),this.type="line"}getPoints(){return[new ul(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new ul(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(e){var[{x:n,y:r},{x:i,y:s}]=this.getPoints();return e&&(e.beginPath(),e.moveTo(n,r),e.lineTo(i,s)),new Nf(n,r,i,s)}getMarkers(){var[e,n]=this.getPoints(),r=e.angleTo(n);return[[e,r],[n,r]]}}class az extends Ds{constructor(e,n,r){super(e,n,r),this.type="polyline",this.points=[],this.points=ul.parsePath(this.getAttribute("points").getString())}path(e){var{points:n}=this,[{x:r,y:i}]=n,s=new Nf(r,i);return e&&(e.beginPath(),e.moveTo(r,i)),n.forEach(l=>{var{x:c,y:a}=l;s.addPoint(c,a),e&&e.lineTo(c,a)}),s}getMarkers(){var{points:e}=this,n=e.length-1,r=[];return e.forEach((i,s)=>{s!==n&&r.push([i,i.angleTo(e[s+1])])}),r.length>0&&r.push([e[e.length-1],r[r.length-1][1]]),r}}class Kde extends az{constructor(){super(...arguments),this.type="polygon"}path(e){var n=super.path(e),[{x:r,y:i}]=this.points;return e&&(e.lineTo(r,i),e.closePath()),n}}class Wde extends Xo{constructor(){super(...arguments),this.type="pattern"}createPattern(e,n,r){var i=this.getStyle("width").getPixels("x",!0),s=this.getStyle("height").getPixels("y",!0),l=new Y2(this.document,null);l.attributes.viewBox=new Hi(this.document,"viewBox",this.getAttribute("viewBox").getValue()),l.attributes.width=new Hi(this.document,"width","".concat(i,"px")),l.attributes.height=new Hi(this.document,"height","".concat(s,"px")),l.attributes.transform=new Hi(this.document,"transform",this.getAttribute("patternTransform").getValue()),l.children=this.children;var c=this.document.createCanvas(i,s),a=c.getContext("2d"),f=this.getAttribute("x"),A=this.getAttribute("y");f.hasValue()&&A.hasValue()&&a.translate(f.getPixels("x",!0),A.getPixels("y",!0)),r.hasValue()?this.styles["fill-opacity"]=r:Reflect.deleteProperty(this.styles,"fill-opacity");for(var m=-1;m<=1;m++)for(var _=-1;_<=1;_++)a.save(),l.attributes.x=new Hi(this.document,"x",m*c.width),l.attributes.y=new Hi(this.document,"y",_*c.height),l.render(a),a.restore();var y=e.createPattern(c,"repeat");return y}}class qde extends Xo{constructor(){super(...arguments),this.type="marker"}render(e,n,r){if(n){var{x:i,y:s}=n,l=this.getAttribute("orient").getString("auto"),c=this.getAttribute("markerUnits").getString("strokeWidth");e.translate(i,s),l==="auto"&&e.rotate(r),c==="strokeWidth"&&e.scale(e.lineWidth,e.lineWidth),e.save();var a=new Y2(this.document,null);a.type=this.type,a.attributes.viewBox=new Hi(this.document,"viewBox",this.getAttribute("viewBox").getValue()),a.attributes.refX=new Hi(this.document,"refX",this.getAttribute("refX").getValue()),a.attributes.refY=new Hi(this.document,"refY",this.getAttribute("refY").getValue()),a.attributes.width=new Hi(this.document,"width",this.getAttribute("markerWidth").getValue()),a.attributes.height=new Hi(this.document,"height",this.getAttribute("markerHeight").getValue()),a.attributes.overflow=new Hi(this.document,"overflow",this.getAttribute("overflow").getValue()),a.attributes.fill=new Hi(this.document,"fill",this.getAttribute("fill").getColor("black")),a.attributes.stroke=new Hi(this.document,"stroke",this.getAttribute("stroke").getValue("none")),a.children=this.children,a.render(e),e.restore(),c==="strokeWidth"&&e.scale(1/e.lineWidth,1/e.lineWidth),l==="auto"&&e.rotate(-r),e.translate(-i,-s)}}}class Yde extends Xo{constructor(){super(...arguments),this.type="defs"}render(){}}class wM extends _1{constructor(){super(...arguments),this.type="g"}getBoundingBox(e){var n=new Nf;return this.children.forEach(r=>{n.addBoundingBox(r.getBoundingBox(e))}),n}}class sz extends Xo{constructor(e,n,r){super(e,n,r),this.attributesToInherit=["gradientUnits"],this.stops=[];var{stops:i,children:s}=this;s.forEach(l=>{l.type==="stop"&&i.push(l)})}getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(e,n,r){var i=this;this.getHrefAttribute().hasValue()&&(i=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(i));var{stops:s}=i,l=this.getGradient(e,n);if(!l)return this.addParentOpacity(r,s[s.length-1].color);if(s.forEach(P=>{l.addColorStop(P.offset,this.addParentOpacity(r,P.color))}),this.getAttribute("gradientTransform").hasValue()){var{document:c}=this,{MAX_VIRTUAL_PIXELS:a,viewPort:f}=c.screen,[A]=f.viewPorts,m=new iz(c,null);m.attributes.x=new Hi(c,"x",-a/3),m.attributes.y=new Hi(c,"y",-a/3),m.attributes.width=new Hi(c,"width",a),m.attributes.height=new Hi(c,"height",a);var _=new wM(c,null);_.attributes.transform=new Hi(c,"transform",this.getAttribute("gradientTransform").getValue()),_.children=[m];var y=new Y2(c,null);y.attributes.x=new Hi(c,"x",0),y.attributes.y=new Hi(c,"y",0),y.attributes.width=new Hi(c,"width",A.width),y.attributes.height=new Hi(c,"height",A.height),y.children=[_];var T=c.createCanvas(A.width,A.height),E=T.getContext("2d");return E.fillStyle=l,y.render(E),E.createPattern(T,"no-repeat")}return l}inheritStopContainer(e){this.attributesToInherit.forEach(n=>{!this.getAttribute(n).hasValue()&&e.getAttribute(n).hasValue()&&this.getAttribute(n,!0).setValue(e.getAttribute(n).getValue())})}addParentOpacity(e,n){if(e.hasValue()){var r=new Hi(this.document,"color",n);return r.addOpacity(e).getColor()}return n}}class Xde extends sz{constructor(e,n,r){super(e,n,r),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}getGradient(e,n){var r=this.getGradientUnits()==="objectBoundingBox",i=r?n.getBoundingBox(e):null;if(r&&!i)return null;!this.getAttribute("x1").hasValue()&&!this.getAttribute("y1").hasValue()&&!this.getAttribute("x2").hasValue()&&!this.getAttribute("y2").hasValue()&&(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var s=r?i.x+i.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),l=r?i.y+i.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),c=r?i.x+i.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),a=r?i.y+i.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return s===c&&l===a?null:e.createLinearGradient(s,l,c,a)}}class Zde extends sz{constructor(e,n,r){super(e,n,r),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}getGradient(e,n){var r=this.getGradientUnits()==="objectBoundingBox",i=n.getBoundingBox(e);if(r&&!i)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var s=r?i.x+i.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),l=r?i.y+i.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),c=s,a=l;this.getAttribute("fx").hasValue()&&(c=r?i.x+i.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(a=r?i.y+i.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var f=r?(i.width+i.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),A=this.getAttribute("fr").getPixels();return e.createRadialGradient(c,a,A,s,l,f)}}class Jde extends Xo{constructor(e,n,r){super(e,n,r),this.type="stop";var i=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),s=this.getStyle("stop-opacity"),l=this.getStyle("stop-color",!0);l.getString()===""&&l.setValue("#000"),s.hasValue()&&(l=l.addOpacity(s)),this.offset=i,this.color=l.getColor()}}class xM extends Xo{constructor(e,n,r){super(e,n,r),this.type="animate",this.duration=0,this.initialValue=null,this.initialUnits="",this.removed=!1,this.frozen=!1,e.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new Hi(e,"values",null);var i=this.getAttribute("values");i.hasValue()&&this.values.setValue(i.getString().split(";"))}getProperty(){var e=this.getAttribute("attributeType").getString(),n=this.getAttribute("attributeName").getString();return e==="CSS"?this.parent.getStyle(n,!0):this.parent.getAttribute(n,!0)}calcValue(){var{initialUnits:e}=this,{progress:n,from:r,to:i}=this.getProgress(),s=r.getNumber()+(i.getNumber()-r.getNumber())*n;return e==="%"&&(s*=100),"".concat(s).concat(e)}update(e){var{parent:n}=this,r=this.getProperty();if(this.initialValue||(this.initialValue=r.getString(),this.initialUnits=r.getUnits()),this.duration>this.maxDuration){var i=this.getAttribute("fill").getString("remove");if(this.getAttribute("repeatCount").getString()==="indefinite"||this.getAttribute("repeatDur").getString()==="indefinite")this.duration=0;else if(i==="freeze"&&!this.frozen)this.frozen=!0,n.animationFrozen=!0,n.animationFrozenValue=r.getString();else if(i==="remove"&&!this.removed)return this.removed=!0,r.setValue(n.animationFrozen?n.animationFrozenValue:this.initialValue),!0;return!1}this.duration+=e;var s=!1;if(this.begin<this.duration){var l=this.calcValue(),c=this.getAttribute("type");if(c.hasValue()){var a=c.getString();l="".concat(a,"(").concat(l,")")}r.setValue(l),s=!0}return s}getProgress(){var{document:e,values:n}=this,r={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(n.hasValue()){var i=r.progress*(n.getValue().length-1),s=Math.floor(i),l=Math.ceil(i);r.from=new Hi(e,"from",parseFloat(n.getValue()[s])),r.to=new Hi(e,"to",parseFloat(n.getValue()[l])),r.progress=(i-s)/(l-s)}else r.from=this.from,r.to=this.to;return r}}class efe extends xM{constructor(){super(...arguments),this.type="animateColor"}calcValue(){var{progress:e,from:n,to:r}=this.getProgress(),i=new lD(n.getColor()),s=new lD(r.getColor());if(i.ok&&s.ok){var l=i.r+(s.r-i.r)*e,c=i.g+(s.g-i.g)*e,a=i.b+(s.b-i.b)*e;return"rgb(".concat(Math.floor(l),", ").concat(Math.floor(c),", ").concat(Math.floor(a),")")}return this.getAttribute("from").getColor()}}class tfe extends xM{constructor(){super(...arguments),this.type="animateTransform"}calcValue(){var{progress:e,from:n,to:r}=this.getProgress(),i=Uh(n.getString()),s=Uh(r.getString()),l=i.map((c,a)=>{var f=s[a];return c+(f-c)*e}).join(" ");return l}}class nfe extends Xo{constructor(e,n,r){super(e,n,r),this.type="font",this.glyphs={},this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();var{definitions:i}=e,{children:s}=this;for(var l of s)switch(l.type){case"font-face":{this.fontFace=l;var c=l.getStyle("font-family");c.hasValue()&&(i[c.getString()]=this);break}case"missing-glyph":this.missingGlyph=l;break;case"glyph":{var a=l;a.arabicForm?(this.isRTL=!0,this.isArabic=!0,typeof this.glyphs[a.unicode]>"u"&&(this.glyphs[a.unicode]={}),this.glyphs[a.unicode][a.arabicForm]=a):this.glyphs[a.unicode]=a;break}}}render(){}}class rfe extends Xo{constructor(e,n,r){super(e,n,r),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class ife extends Ds{constructor(){super(...arguments),this.type="missing-glyph",this.horizAdvX=0}}class afe extends t0{constructor(){super(...arguments),this.type="tref"}getText(){var e=this.getHrefAttribute().getDefinition();if(e){var n=e.children[0];if(n)return n.getText()}return""}}class sfe extends t0{constructor(e,n,r){super(e,n,r),this.type="a";var{childNodes:i}=n,s=i[0],l=i.length>0&&Array.from(i).every(c=>c.nodeType===3);this.hasText=l,this.text=l?this.getTextFromNode(s):""}getText(){return this.text}renderChildren(e){if(this.hasText){super.renderChildren(e);var{document:n,x:r,y:i}=this,{mouse:s}=n.screen,l=new Hi(n,"fontSize",Ic.parse(n.ctx.font).fontSize);s.isWorking()&&s.checkBoundingBox(this,new Nf(r,i-l.getPixels("y"),r+this.measureText(e),i))}else if(this.children.length>0){var c=new wM(this.document,null);c.children=this.children,c.parent=this,c.render(e)}}onClick(){var{window:e}=this.document;e&&e.open(this.getHrefAttribute().getString())}onMouseMove(){var e=this.document.ctx;e.canvas.style.cursor="pointer"}}function TJ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TJ(Object(n),!0).forEach(function(r){ZU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TJ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}class ofe extends t0{constructor(e,n,r){super(e,n,r),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);var i=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(i)}getText(){return this.text}path(e){var{dataArray:n}=this;e&&e.beginPath(),n.forEach(r=>{var{type:i,points:s}=r;switch(i){case La.LINE_TO:e&&e.lineTo(s[0],s[1]);break;case La.MOVE_TO:e&&e.moveTo(s[0],s[1]);break;case La.CURVE_TO:e&&e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case La.QUAD_TO:e&&e.quadraticCurveTo(s[0],s[1],s[2],s[3]);break;case La.ARC:{var[l,c,a,f,A,m,_,y]=s,T=a>f?a:f,E=a>f?1:a/f,P=a>f?f/a:1;e&&(e.translate(l,c),e.rotate(_),e.scale(E,P),e.arc(0,0,T,A,A+m,!!(1-y)),e.scale(1/E,1/P),e.rotate(-_),e.translate(-l,-c));break}case La.CLOSE_PATH:e&&e.closePath();break}})}renderChildren(e){this.setTextData(e),e.save();var n=this.parent.getStyle("text-decoration").getString(),r=this.getFontSize(),{glyphInfo:i}=this,s=e.fillStyle;n==="underline"&&e.beginPath(),i.forEach((l,c)=>{var{p0:a,p1:f,rotation:A,text:m}=l;e.save(),e.translate(a.x,a.y),e.rotate(A),e.fillStyle&&e.fillText(m,0,0),e.strokeStyle&&e.strokeText(m,0,0),e.restore(),n==="underline"&&(c===0&&e.moveTo(a.x,a.y+r/8),e.lineTo(f.x,f.y+r/5))}),n==="underline"&&(e.lineWidth=r/20,e.strokeStyle=s,e.stroke(),e.closePath()),e.restore()}getLetterSpacingAt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.letterSpacingCache[e]||0}findSegmentToFitChar(e,n,r,i,s,l,c,a,f){var A=l,m=this.measureText(e,a);a===" "&&n==="justify"&&r<i&&(m+=(i-r)/s),f>-1&&(A+=this.getLetterSpacingAt(f));var _=this.textHeight/20,y=this.getEquidistantPointOnPath(A,_,0),T=this.getEquidistantPointOnPath(A+m,_,0),E={p0:y,p1:T},P=y&&T?Math.atan2(T.y-y.y,T.x-y.x):0;if(c){var I=Math.cos(Math.PI/2+P)*c,F=Math.cos(-P)*c;E.p0=eS(eS({},y),{},{x:y.x+I,y:y.y+F}),E.p1=eS(eS({},T),{},{x:T.x+I,y:T.y+F})}return A+=m,{offset:A,segment:E,rotation:P}}measureText(e,n){var{measuresCache:r}=this,i=n||this.getText();if(r.has(i))return r.get(i);var s=this.measureTargetText(e,i);return r.set(i,s),s}setTextData(e){if(!this.glyphInfo){var n=this.getText(),r=n.split(""),i=n.split(" ").length-1,s=this.parent.getAttribute("dx").split().map(N=>N.getPixels("x")),l=this.parent.getAttribute("dy").getPixels("y"),c=this.parent.getStyle("text-anchor").getString("start"),a=this.getStyle("letter-spacing"),f=this.parent.getStyle("letter-spacing"),A=0;!a.hasValue()||a.getValue()==="inherit"?A=f.getPixels():a.hasValue()&&a.getValue()!=="initial"&&a.getValue()!=="unset"&&(A=a.getPixels());var m=[],_=n.length;this.letterSpacingCache=m;for(var y=0;y<_;y++)m.push(typeof s[y]<"u"?s[y]:A);var T=m.reduce((N,z,Q)=>Q===0?0:N+z||0,0),E=this.measureText(e),P=Math.max(E+T,0);this.textWidth=E,this.textHeight=this.getFontSize(),this.glyphInfo=[];var I=this.getPathLength(),F=this.getStyle("startOffset").getNumber(0)*I,R=0;(c==="middle"||c==="center")&&(R=-P/2),(c==="end"||c==="right")&&(R=-P),R+=F,r.forEach((N,z)=>{var{offset:Q,segment:j,rotation:H}=this.findSegmentToFitChar(e,c,P,I,i,R,l,N,z);R=Q,!(!j.p0||!j.p1)&&this.glyphInfo.push({text:r[z],p0:j.p0,p1:j.p1,rotation:H})})}}parsePathData(e){if(this.pathLength=-1,!e)return[];var n=[],{pathParser:r}=e;for(r.reset();!r.isEnd();){var{current:i}=r,s=i?i.x:0,l=i?i.y:0,c=r.next(),a=c.type,f=[];switch(c.type){case La.MOVE_TO:this.pathM(r,f);break;case La.LINE_TO:a=this.pathL(r,f);break;case La.HORIZ_LINE_TO:a=this.pathH(r,f);break;case La.VERT_LINE_TO:a=this.pathV(r,f);break;case La.CURVE_TO:this.pathC(r,f);break;case La.SMOOTH_CURVE_TO:a=this.pathS(r,f);break;case La.QUAD_TO:this.pathQ(r,f);break;case La.SMOOTH_QUAD_TO:a=this.pathT(r,f);break;case La.ARC:f=this.pathA(r);break;case La.CLOSE_PATH:Ds.pathZ(r);break}c.type!==La.CLOSE_PATH?n.push({type:a,points:f,start:{x:s,y:l},pathLength:this.calcLength(s,l,a,f)}):n.push({type:La.CLOSE_PATH,points:[],pathLength:0})}return n}pathM(e,n){var{x:r,y:i}=Ds.pathM(e).point;n.push(r,i)}pathL(e,n){var{x:r,y:i}=Ds.pathL(e).point;return n.push(r,i),La.LINE_TO}pathH(e,n){var{x:r,y:i}=Ds.pathH(e).point;return n.push(r,i),La.LINE_TO}pathV(e,n){var{x:r,y:i}=Ds.pathV(e).point;return n.push(r,i),La.LINE_TO}pathC(e,n){var{point:r,controlPoint:i,currentPoint:s}=Ds.pathC(e);n.push(r.x,r.y,i.x,i.y,s.x,s.y)}pathS(e,n){var{point:r,controlPoint:i,currentPoint:s}=Ds.pathS(e);return n.push(r.x,r.y,i.x,i.y,s.x,s.y),La.CURVE_TO}pathQ(e,n){var{controlPoint:r,currentPoint:i}=Ds.pathQ(e);n.push(r.x,r.y,i.x,i.y)}pathT(e,n){var{controlPoint:r,currentPoint:i}=Ds.pathT(e);return n.push(r.x,r.y,i.x,i.y),La.QUAD_TO}pathA(e){var{rX:n,rY:r,sweepFlag:i,xAxisRotation:s,centp:l,a1:c,ad:a}=Ds.pathA(e);return i===0&&a>0&&(a-=2*Math.PI),i===1&&a<0&&(a+=2*Math.PI),[l.x,l.y,n,r,c,a,s,i]}calcLength(e,n,r,i){var s=0,l=null,c=null,a=0;switch(r){case La.LINE_TO:return this.getLineLength(e,n,i[0],i[1]);case La.CURVE_TO:for(s=0,l=this.getPointOnCubicBezier(0,e,n,i[0],i[1],i[2],i[3],i[4],i[5]),a=.01;a<=1;a+=.01)c=this.getPointOnCubicBezier(a,e,n,i[0],i[1],i[2],i[3],i[4],i[5]),s+=this.getLineLength(l.x,l.y,c.x,c.y),l=c;return s;case La.QUAD_TO:for(s=0,l=this.getPointOnQuadraticBezier(0,e,n,i[0],i[1],i[2],i[3]),a=.01;a<=1;a+=.01)c=this.getPointOnQuadraticBezier(a,e,n,i[0],i[1],i[2],i[3]),s+=this.getLineLength(l.x,l.y,c.x,c.y),l=c;return s;case La.ARC:{s=0;var f=i[4],A=i[5],m=i[4]+A,_=Math.PI/180;if(Math.abs(f-m)<_&&(_=Math.abs(f-m)),l=this.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],f,0),A<0)for(a=f-_;a>m;a-=_)c=this.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],a,0),s+=this.getLineLength(l.x,l.y,c.x,c.y),l=c;else for(a=f+_;a<m;a+=_)c=this.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],a,0),s+=this.getLineLength(l.x,l.y,c.x,c.y),l=c;return c=this.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],m,0),s+=this.getLineLength(l.x,l.y,c.x,c.y),s}}return 0}getPointOnLine(e,n,r,i,s){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:n,c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:r,a=(s-r)/(i-n+X_),f=Math.sqrt(e*e/(1+a*a));i<n&&(f*=-1);var A=a*f,m=null;if(i===n)m={x:l,y:c+A};else if((c-r)/(l-n+X_)===a)m={x:l+f,y:c+A};else{var _=0,y=0,T=this.getLineLength(n,r,i,s);if(T<X_)return null;var E=(l-n)*(i-n)+(c-r)*(s-r);E/=T*T,_=n+E*(i-n),y=r+E*(s-r);var P=this.getLineLength(l,c,_,y),I=Math.sqrt(e*e-P*P);f=Math.sqrt(I*I/(1+a*a)),i<n&&(f*=-1),A=a*f,m={x:_+f,y:y+A}}return m}getPointOnPath(e){var n=this.getPathLength(),r=0,i=null;if(e<-5e-5||e-5e-5>n)return null;var{dataArray:s}=this;for(var l of s){if(l&&(l.pathLength<5e-5||r+l.pathLength+5e-5<e)){r+=l.pathLength;continue}var c=e-r,a=0;switch(l.type){case La.LINE_TO:i=this.getPointOnLine(c,l.start.x,l.start.y,l.points[0],l.points[1],l.start.x,l.start.y);break;case La.ARC:{var f=l.points[4],A=l.points[5],m=l.points[4]+A;if(a=f+c/l.pathLength*A,A<0&&a<m||A>=0&&a>m)break;i=this.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],a,l.points[6]);break}case La.CURVE_TO:a=c/l.pathLength,a>1&&(a=1),i=this.getPointOnCubicBezier(a,l.start.x,l.start.y,l.points[0],l.points[1],l.points[2],l.points[3],l.points[4],l.points[5]);break;case La.QUAD_TO:a=c/l.pathLength,a>1&&(a=1),i=this.getPointOnQuadraticBezier(a,l.start.x,l.start.y,l.points[0],l.points[1],l.points[2],l.points[3]);break}if(i)return i;break}return null}getLineLength(e,n,r,i){return Math.sqrt((r-e)*(r-e)+(i-n)*(i-n))}getPathLength(){return this.pathLength===-1&&(this.pathLength=this.dataArray.reduce((e,n)=>n.pathLength>0?e+n.pathLength:e,0)),this.pathLength}getPointOnCubicBezier(e,n,r,i,s,l,c,a,f){var A=a*fD(e)+l*pD(e)+i*AD(e)+n*mD(e),m=f*fD(e)+c*pD(e)+s*AD(e)+r*mD(e);return{x:A,y:m}}getPointOnQuadraticBezier(e,n,r,i,s,l,c){var a=l*gD(e)+i*vD(e)+n*_D(e),f=c*gD(e)+s*vD(e)+r*_D(e);return{x:a,y:f}}getPointOnEllipticalArc(e,n,r,i,s,l){var c=Math.cos(l),a=Math.sin(l),f={x:r*Math.cos(s),y:i*Math.sin(s)};return{x:e+(f.x*c-f.y*a),y:n+(f.x*a+f.y*c)}}buildEquidistantCache(e,n){var r=this.getPathLength(),i=n||.25,s=e||r/100;if(!this.equidistantCache||this.equidistantCache.step!==s||this.equidistantCache.precision!==i){this.equidistantCache={step:s,precision:i,points:[]};for(var l=0,c=0;c<=r;c+=i){var a=this.getPointOnPath(c),f=this.getPointOnPath(c+i);!a||!f||(l+=this.getLineLength(a.x,a.y,f.x,f.y),l>=s&&(this.equidistantCache.points.push({x:a.x,y:a.y,distance:c}),l-=s))}}}getEquidistantPointOnPath(e,n,r){if(this.buildEquidistantCache(n,r),e<0||e-this.getPathLength()>5e-5)return null;var i=Math.round(e/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[i]||null}}var h3t=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class lfe extends _1{constructor(e,n,r){super(e,n,r),this.type="image",this.loaded=!1;var i=this.getHrefAttribute().getString();if(i){var s=i.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(i);e.images.push(this),s?this.loadSvg(i):this.loadImage(i),this.isSvg=s}}loadImage(e){var n=this;return e0(function*(){try{var r=yield n.document.createImage(e);n.image=r}catch(i){console.error('Error while loading image "'.concat(e,'":'),i)}n.loaded=!0})()}loadSvg(e){var n=this;return e0(function*(){var r=h3t.exec(e);if(r){var i=r[5];r[4]==="base64"?n.image=atob(i):n.image=decodeURIComponent(i)}else try{var s=yield n.document.fetch(e),l=yield s.text();n.image=l}catch(c){console.error('Error while loading image "'.concat(e,'":'),c)}n.loaded=!0})()}renderChildren(e){var{document:n,image:r,loaded:i}=this,s=this.getAttribute("x").getPixels("x"),l=this.getAttribute("y").getPixels("y"),c=this.getStyle("width").getPixels("x"),a=this.getStyle("height").getPixels("y");if(!(!i||!r||!c||!a)){if(e.save(),e.translate(s,l),this.isSvg){var f=n.canvg.forkString(e,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:c,scaleHeight:a});f.document.documentElement.parent=this,f.render()}else{var A=this.image;n.setViewBox({ctx:e,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:c,desiredWidth:A.width,height:a,desiredHeight:A.height}),this.loaded&&(typeof A.complete>"u"||A.complete)&&e.drawImage(A,0,0)}e.restore()}}getBoundingBox(){var e=this.getAttribute("x").getPixels("x"),n=this.getAttribute("y").getPixels("y"),r=this.getStyle("width").getPixels("x"),i=this.getStyle("height").getPixels("y");return new Nf(e,n,e+r,n+i)}}class ufe extends _1{constructor(){super(...arguments),this.type="symbol"}render(e){}}class cfe{constructor(e){this.document=e,this.loaded=!1,e.fonts.push(this)}load(e,n){var r=this;return e0(function*(){try{var{document:i}=r,s=yield i.canvg.parser.load(n),l=s.getElementsByTagName("font");Array.from(l).forEach(c=>{var a=i.createElement(c);i.definitions[e]=a})}catch(c){console.error('Error while loading font "'.concat(n,'":'),c)}r.loaded=!0})()}}class oz extends Xo{constructor(e,n,r){super(e,n,r),this.type="style";var i=Iy(Array.from(n.childNodes).map(l=>l.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")),s=i.split("}");s.forEach(l=>{var c=l.trim();if(c){var a=c.split("{"),f=a[0].split(","),A=a[1].split(";");f.forEach(m=>{var _=m.trim();if(_){var y=e.styles[_]||{};if(A.forEach(P=>{var I=P.indexOf(":"),F=P.substr(0,I).trim(),R=P.substr(I+1,P.length-I).trim();F&&R&&(y[F]=new Hi(e,F,R))}),e.styles[_]=y,e.stylesSpecificity[_]=Fde(_),_==="@font-face"){var T=y["font-family"].getString().replace(/"|'/g,""),E=y.src.getString().split(",");E.forEach(P=>{if(P.indexOf('format("svg")')>0){var I=ez(P);I&&new cfe(e).load(T,I)}})}}})}})}}oz.parseExternalUrl=ez;class hfe extends _1{constructor(){super(...arguments),this.type="use"}setContext(e){super.setContext(e);var n=this.getAttribute("x"),r=this.getAttribute("y");n.hasValue()&&e.translate(n.getPixels("x"),0),r.hasValue()&&e.translate(0,r.getPixels("y"))}path(e){var{element:n}=this;n&&n.path(e)}renderChildren(e){var{document:n,element:r}=this;if(r){var i=r;if(r.type==="symbol"&&(i=new Y2(n,null),i.attributes.viewBox=new Hi(n,"viewBox",r.getAttribute("viewBox").getString()),i.attributes.preserveAspectRatio=new Hi(n,"preserveAspectRatio",r.getAttribute("preserveAspectRatio").getString()),i.attributes.overflow=new Hi(n,"overflow",r.getAttribute("overflow").getString()),i.children=r.children,r.styles.opacity=new Hi(n,"opacity",this.calculateOpacity())),i.type==="svg"){var s=this.getStyle("width",!1,!0),l=this.getStyle("height",!1,!0);s.hasValue()&&(i.attributes.width=new Hi(n,"width",s.getString())),l.hasValue()&&(i.attributes.height=new Hi(n,"height",l.getString()))}var c=i.parent;i.parent=this,i.render(e),i.parent=c}}getBoundingBox(e){var{element:n}=this;return n?n.getBoundingBox(e):null}elementTransform(){var{document:e,element:n}=this;return c1.fromElement(e,n)}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}}function tS(t,e,n,r,i,s){return t[n*r*4+e*4+s]}function nS(t,e,n,r,i,s,l){t[n*r*4+e*4+s]=l}function Xl(t,e,n){var r=t[e];return r*n}function Bg(t,e,n,r){return e+Math.cos(t)*n+Math.sin(t)*r}class lz extends Xo{constructor(e,n,r){super(e,n,r),this.type="feColorMatrix";var i=Uh(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":{var s=i[0];i=[.213+.787*s,.715-.715*s,.072-.072*s,0,0,.213-.213*s,.715+.285*s,.072-.072*s,0,0,.213-.213*s,.715-.715*s,.072+.928*s,0,0,0,0,0,1,0,0,0,0,0,1];break}case"hueRotate":{var l=i[0]*Math.PI/180;i=[Bg(l,.213,.787,-.213),Bg(l,.715,-.715,-.715),Bg(l,.072,-.072,.928),0,0,Bg(l,.213,-.213,.143),Bg(l,.715,.285,.14),Bg(l,.072,-.072,-.283),0,0,Bg(l,.213,-.213,-.787),Bg(l,.715,-.715,.715),Bg(l,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break}case"luminanceToAlpha":i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1];break}this.matrix=i,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}apply(e,n,r,i,s){for(var{includeOpacity:l,matrix:c}=this,a=e.getImageData(0,0,i,s),f=0;f<s;f++)for(var A=0;A<i;A++){var m=tS(a.data,A,f,i,s,0),_=tS(a.data,A,f,i,s,1),y=tS(a.data,A,f,i,s,2),T=tS(a.data,A,f,i,s,3),E=Xl(c,0,m)+Xl(c,1,_)+Xl(c,2,y)+Xl(c,3,T)+Xl(c,4,1),P=Xl(c,5,m)+Xl(c,6,_)+Xl(c,7,y)+Xl(c,8,T)+Xl(c,9,1),I=Xl(c,10,m)+Xl(c,11,_)+Xl(c,12,y)+Xl(c,13,T)+Xl(c,14,1),F=Xl(c,15,m)+Xl(c,16,_)+Xl(c,17,y)+Xl(c,18,T)+Xl(c,19,1);l&&(E=0,P=0,I=0,F*=T/255),nS(a.data,A,f,i,s,0,E),nS(a.data,A,f,i,s,1,P),nS(a.data,A,f,i,s,2,I),nS(a.data,A,f,i,s,3,F)}e.clearRect(0,0,i,s),e.putImageData(a,0,0)}}class v5 extends Xo{constructor(){super(...arguments),this.type="mask"}apply(e,n){var{document:r}=this,i=this.getAttribute("x").getPixels("x"),s=this.getAttribute("y").getPixels("y"),l=this.getStyle("width").getPixels("x"),c=this.getStyle("height").getPixels("y");if(!l&&!c){var a=new Nf;this.children.forEach(T=>{a.addBoundingBox(T.getBoundingBox(e))}),i=Math.floor(a.x1),s=Math.floor(a.y1),l=Math.floor(a.width),c=Math.floor(a.height)}var f=this.removeStyles(n,v5.ignoreStyles),A=r.createCanvas(i+l,s+c),m=A.getContext("2d");r.screen.setDefaults(m),this.renderChildren(m),new lz(r,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(m,0,0,i+l,s+c);var _=r.createCanvas(i+l,s+c),y=_.getContext("2d");r.screen.setDefaults(y),n.render(y),y.globalCompositeOperation="destination-in",y.fillStyle=m.createPattern(A,"no-repeat"),y.fillRect(0,0,i+l,s+c),e.fillStyle=y.createPattern(_,"no-repeat"),e.fillRect(0,0,i+l,s+c),this.restoreStyles(n,f)}render(e){}}v5.ignoreStyles=["mask","transform","clip-path"];var BJ=()=>{};class dfe extends Xo{constructor(){super(...arguments),this.type="clipPath"}apply(e){var{document:n}=this,r=Reflect.getPrototypeOf(e),{beginPath:i,closePath:s}=e;r&&(r.beginPath=BJ,r.closePath=BJ),Reflect.apply(i,e,[]),this.children.forEach(l=>{if(!(typeof l.path>"u")){var c=typeof l.elementTransform<"u"?l.elementTransform():null;c||(c=c1.fromElement(n,l)),c&&c.apply(e),l.path(e),r&&(r.closePath=s),c&&c.unapply(e)}}),Reflect.apply(s,e,[]),e.clip(),r&&(r.beginPath=i,r.closePath=s)}render(e){}}class _5 extends Xo{constructor(){super(...arguments),this.type="filter"}apply(e,n){var{document:r,children:i}=this,s=n.getBoundingBox(e);if(s){var l=0,c=0;i.forEach(I=>{var F=I.extraFilterDistance||0;l=Math.max(l,F),c=Math.max(c,F)});var a=Math.floor(s.width),f=Math.floor(s.height),A=a+2*l,m=f+2*c;if(!(A<1||m<1)){var _=Math.floor(s.x),y=Math.floor(s.y),T=this.removeStyles(n,_5.ignoreStyles),E=r.createCanvas(A,m),P=E.getContext("2d");r.screen.setDefaults(P),P.translate(-_+l,-y+c),n.render(P),i.forEach(I=>{typeof I.apply=="function"&&I.apply(P,0,0,A,m)}),e.drawImage(E,0,0,A,m,_-l,y-c,A,m),this.restoreStyles(n,T)}}}render(e){}}_5.ignoreStyles=["filter","transform","clip-path"];class ffe extends Xo{constructor(e,n,r){super(e,n,r),this.type="feDropShadow",this.addStylesFromStyleDefinition()}apply(e,n,r,i,s){}}class pfe extends Xo{constructor(){super(...arguments),this.type="feMorphology"}apply(e,n,r,i,s){}}class Afe extends Xo{constructor(){super(...arguments),this.type="feComposite"}apply(e,n,r,i,s){}}class mfe extends Xo{constructor(e,n,r){super(e,n,r),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}apply(e,n,r,i,s){var{document:l,blurRadius:c}=this,a=l.window?l.window.document.body:null,f=e.canvas;f.id=l.getUniqueId(),a&&(f.style.display="none",a.appendChild(f)),HEt(f,n,r,i,s,c),a&&a.removeChild(f)}}class gfe extends Xo{constructor(){super(...arguments),this.type="title"}}class vfe extends Xo{constructor(){super(...arguments),this.type="desc"}}var d3t={svg:Y2,rect:iz,circle:Qde,ellipse:jde,line:Gde,polyline:az,polygon:Kde,path:Ds,pattern:Wde,marker:qde,defs:Yde,linearGradient:Xde,radialGradient:Zde,stop:Jde,animate:xM,animateColor:efe,animateTransform:tfe,font:nfe,"font-face":rfe,"missing-glyph":ife,glyph:rz,text:t0,tspan:g5,tref:afe,a:sfe,textPath:ofe,image:lfe,g:wM,symbol:ufe,style:oz,use:hfe,mask:v5,clipPath:dfe,filter:_5,feDropShadow:ffe,feMorphology:pfe,feComposite:Afe,feColorMatrix:lz,feGaussianBlur:mfe,title:gfe,desc:vfe};function MJ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function f3t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MJ(Object(n),!0).forEach(function(r){ZU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MJ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p3t(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,n}function A3t(t){return bD.apply(this,arguments)}function bD(){return bD=e0(function*(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=document.createElement("img");return e&&(n.crossOrigin="Anonymous"),new Promise((r,i)=>{n.onload=()=>{r(n)},n.onerror=(s,l,c,a,f)=>{i(f)},n.src=t})}),bD.apply(this,arguments)}class jg{constructor(e){var{rootEmSize:n=12,emSize:r=12,createCanvas:i=jg.createCanvas,createImage:s=jg.createImage,anonymousCrossOrigin:l}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.canvg=e,this.definitions={},this.styles={},this.stylesSpecificity={},this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=e.screen,this.rootEmSize=n,this.emSize=r,this.createCanvas=i,this.createImage=this.bindCreateImage(s,l),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}bindCreateImage(e,n){return typeof n=="boolean"?(r,i)=>e(r,typeof i=="boolean"?i:n):e}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){var{emSizeStack:e}=this;return e[e.length-1]}set emSize(e){var{emSizeStack:n}=this;n.push(e)}popEmSize(){var{emSizeStack:e}=this;e.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(e=>e.loaded)}isFontsLoaded(){return this.fonts.every(e=>e.loaded)}createDocumentElement(e){var n=this.createElement(e.documentElement);return n.root=!0,n.addStylesFromStyleDefinition(),this.documentElement=n,n}createElement(e){var n=e.nodeName.replace(/^[^:]+:/,""),r=jg.elementTypes[n];return typeof r<"u"?new r(this,e):new Hde(this,e)}createTextNode(e){return new c3t(this,e)}setViewBox(e){this.screen.setViewBox(f3t({document:this},e))}}jg.createCanvas=p3t;jg.createImage=A3t;jg.elementTypes=d3t;function IJ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IJ(Object(n),!0).forEach(function(r){ZU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IJ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}class k_{constructor(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.parser=new tT(r),this.screen=new m5(e,r),this.options=r;var i=new jg(this,r),s=i.createDocumentElement(n);this.document=i,this.documentElement=s}static from(e,n){var r=arguments;return e0(function*(){var i=r.length>2&&r[2]!==void 0?r[2]:{},s=new tT(i),l=yield s.parse(n);return new k_(e,l,i)})()}static fromString(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=new tT(r),s=i.parseFromString(n);return new k_(e,s,r)}fork(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return k_.from(e,n,c_(c_({},this.options),r))}forkString(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return k_.fromString(e,n,c_(c_({},this.options),r))}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}render(){var e=arguments,n=this;return e0(function*(){var r=e.length>0&&e[0]!==void 0?e[0]:{};n.start(c_({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},r)),yield n.ready(),n.stop()})()}start(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{documentElement:n,screen:r,options:i}=this;r.start(n,c_(c_({enableRedraw:!0},i),e))}stop(){this.screen.stop()}resize(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.documentElement.resize(e,n,r)}}const m3t=Object.freeze(Object.defineProperty({__proto__:null,AElement:sfe,AnimateColorElement:efe,AnimateElement:xM,AnimateTransformElement:tfe,BoundingBox:Nf,CB1:fD,CB2:pD,CB3:AD,CB4:mD,Canvg:k_,CircleElement:Qde,ClipPathElement:dfe,DefsElement:Yde,DescElement:vfe,Document:jg,Element:Xo,EllipseElement:jde,FeColorMatrixElement:lz,FeCompositeElement:Afe,FeDropShadowElement:ffe,FeGaussianBlurElement:mfe,FeMorphologyElement:pfe,FilterElement:_5,Font:Ic,FontElement:nfe,FontFaceElement:rfe,GElement:wM,GlyphElement:rz,GradientElement:sz,ImageElement:lfe,LineElement:Gde,LinearGradientElement:Xde,MarkerElement:qde,MaskElement:v5,Matrix:tz,MissingGlyphElement:ife,Mouse:Rde,PSEUDO_ZERO:X_,Parser:tT,PathElement:Ds,PathParser:La,PatternElement:Wde,Point:ul,PolygonElement:Kde,PolylineElement:az,Property:Hi,QB1:gD,QB2:vD,QB3:_D,RadialGradientElement:Zde,RectElement:iz,RenderedElement:_1,Rotate:Ude,SVGElement:Y2,SVGFontLoader:cfe,Scale:zde,Screen:m5,Skew:nz,SkewX:$de,SkewY:Vde,StopElement:Jde,StyleElement:oz,SymbolElement:ufe,TRefElement:afe,TSpanElement:g5,TextElement:t0,TextPathElement:ofe,TitleElement:gfe,Transform:c1,Translate:Nde,UnknownElement:Hde,UseElement:hfe,ViewPort:kde,compressSpaces:Iy,default:k_,getSelectorSpecificity:Fde,normalizeAttributeName:Lde,normalizeColor:Pde,parseExternalUrl:ez,presets:KEt,toNumbers:Uh,trimLeft:Mde,trimRight:Ide,vectorMagnitude:hD,vectorsAngle:dD,vectorsRatio:x8},Symbol.toStringTag,{value:"Module"})),uz=Kee(awe);for(const[t,e]of Object.entries(MFe))uz.component(t,e);uz.use(hrt);uz.mount("#app")});export default g3t();
