import{d as Ne,u as Sa,e as je,n as ea,f as ot,w as oa,b as H,o as $,c as z,g as Ge,i as ze,r as xe,m as Ie,j as ke,k as ge,l as E,T as Va,p as qe,q as ut,s as Fl,a as ye,t as ie,F as we,v as Ha,h as Ll,x as Qt,y as ca,z as zl,A as tt,B as lt,C as jl}from"./vue-AEYJ6ivp.js";import{r as Qa,a as Z,t as Ea,u as i,i as Xt,n as Ve,b as $e,c as Ze,d as Le,g as Hl,o as El}from"./@vue-CojEnYtN.js";import{g as he,a as be,b as Ul,e as il,d as Kl,f as ua,s as Ae,c as ql,i as Ua,h as Ca,j as Pa,k as nt,l as Ql,m as va,n as ba,o as Oa,p as ra,q as sl,r as Aa,t as It,u as dl,v as Wt,w as Xl,x as cl,y as vl,z as Wl,A as Jt,B as Pt,C as Ka,D as Zt,E as Jl,F as Zl,G as pl,H as ml,I as Gl,J as yl,K as en,L as an,M as $a,N as tn,O as fl,P as ln,Q as nn}from"./date-fns-DjqgiLk-.js";function Na(){return $(),z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ye("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),ye("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),ye("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),ye("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Na.compatConfig={MODE:3};function hl(){return $(),z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ye("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),ye("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}hl.compatConfig={MODE:3};function Vt(){return $(),z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ye("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}Vt.compatConfig={MODE:3};function Nt(){return $(),z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ye("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}Nt.compatConfig={MODE:3};function Bt(){return $(),z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ye("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),ye("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}Bt.compatConfig={MODE:3};function Ft(){return $(),z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ye("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}Ft.compatConfig={MODE:3};function Lt(){return $(),z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ye("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}Lt.compatConfig={MODE:3};const ia=(e,a)=>a?new Date(e.toLocaleString("en-US",{timeZone:a})):new Date(e),zt=(e,a,n)=>Ot(e,a,n)||F(),rn=(e,a,n)=>{const l=a.dateInTz?ia(new Date(e),a.dateInTz):F(e);return n?Ue(l,!0):l},Ot=(e,a,n)=>{if(!e)return null;const l=n?Ue(F(e),!0):F(e);return a?a.exactMatch?rn(e,a,n):ia(l,a.timezone):l},on=e=>{if(!e)return 0;const a=new Date,n=new Date(a.toLocaleString("en-US",{timeZone:"UTC"})),l=new Date(a.toLocaleString("en-US",{timeZone:e})),t=l.getTimezoneOffset()/60;return(+n-+l)/(1e3*60*60)-t};var aa=(e=>(e.month="month",e.year="year",e))(aa||{}),Ma=(e=>(e.top="top",e.bottom="bottom",e))(Ma||{}),Da=(e=>(e.header="header",e.calendar="calendar",e.timePicker="timePicker",e))(Da||{}),Fe=(e=>(e.month="month",e.year="year",e.calendar="calendar",e.time="time",e.minutes="minutes",e.hours="hours",e.seconds="seconds",e))(Fe||{});const un=["timestamp","date","iso"];var Ee=(e=>(e.up="up",e.down="down",e.left="left",e.right="right",e))(Ee||{}),Se=(e=>(e.arrowUp="ArrowUp",e.arrowDown="ArrowDown",e.arrowLeft="ArrowLeft",e.arrowRight="ArrowRight",e.enter="Enter",e.space=" ",e.esc="Escape",e.tab="Tab",e.home="Home",e.end="End",e.pageUp="PageUp",e.pageDown="PageDown",e))(Se||{});function Gt(e){return a=>new Intl.DateTimeFormat(e,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${a}T00:00:00+00:00`)).slice(0,2)}function sn(e){return a=>ua(new Date(`2017-01-0${a}T00:00:00+00:00`),"EEEEEE",{locale:e})}const dn=(e,a,n)=>{const l=[1,2,3,4,5,6,7];let t;if(e!==null)try{t=l.map(sn(e))}catch{t=l.map(Gt(a))}else t=l.map(Gt(a));const m=t.slice(0,n),p=t.slice(n+1,t.length);return[t[n]].concat(...p).concat(...m)},jt=(e,a,n)=>{const l=[];for(let t=+e[0];t<=+e[1];t++)l.push({value:+t,text:wl(t,a)});return n?l.reverse():l},gl=(e,a,n)=>{const l=[1,2,3,4,5,6,7,8,9,10,11,12].map(m=>{const p=m<10?`0${m}`:m;return new Date(`2017-${p}-01T00:00:00+00:00`)});if(e!==null)try{const m=n==="long"?"MMMM":"MMM";return l.map((p,o)=>{const R=ua(ia(p,"UTC"),m,{locale:e});return{text:R.charAt(0).toUpperCase()+R.substring(1),value:o}})}catch{}const t=new Intl.DateTimeFormat(a,{month:n,timeZone:"UTC"});return l.map((m,p)=>{const o=t.format(m);return{text:o.charAt(0).toUpperCase()+o.substring(1),value:p}})},cn=e=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][e],Oe=e=>{const a=i(e);return a!=null&&a.$el?a==null?void 0:a.$el:a},vn=e=>({type:"dot",...e??{}}),bl=e=>Array.isArray(e)?!!e[0]&&!!e[1]:!1,Ht={prop:e=>`"${e}" prop must be enabled!`,dateArr:e=>`You need to use array as "model-value" binding in order to support "${e}"`},Ye=e=>e,el=e=>e===0?e:!e||isNaN(+e)?null:+e,al=e=>e===null,_l=e=>{if(e)return[...e.querySelectorAll("input, button, select, textarea, a[href]")][0]},pn=e=>{const a=[],n=l=>l.filter(t=>t);for(let l=0;l<e.length;l+=3){const t=[e[l],e[l+1],e[l+2]];a.push(n(t))}return a},qa=(e,a,n)=>{const l=n!=null,t=a!=null;if(!l&&!t)return!1;const m=+n,p=+a;return l&&t?+e>m||+e<p:l?+e>m:t?+e<p:!1},Ya=(e,a)=>pn(e).map(n=>n.map(l=>{const{active:t,disabled:m,isBetween:p,highlighted:o}=a(l);return{...l,active:t,disabled:m,className:{dp__overlay_cell_active:t,dp__overlay_cell:!t,dp__overlay_cell_disabled:m,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:m&&t,dp__cell_in_between:p,"dp--highlighted":o}}})),ha=(e,a,n=!1)=>{e&&a.allowStopPropagation&&(n&&e.stopImmediatePropagation(),e.stopPropagation())},mn=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function yn(e,a){let n=[...document.querySelectorAll(mn())];n=n.filter(t=>!e.contains(t)||t.hasAttribute("data-datepicker-instance"));const l=n.indexOf(e);if(l>=0&&(a?l-1>=0:l+1<=n.length))return n[l+(a?-1:1)]}const fn=(e,a)=>e==null?void 0:e.querySelector(`[data-dp-element="${a}"]`),wl=(e,a)=>new Intl.NumberFormat(a,{useGrouping:!1,style:"decimal"}).format(e),Et=e=>ua(e,"dd-MM-yyyy"),wt=e=>Array.isArray(e),rt=(e,a)=>a.get(Et(e)),hn=(e,a)=>e?a?a instanceof Map?!!rt(e,a):a(F(e)):!1:!0,Qe=(e,a,n=!1)=>{if(e.key===Se.enter||e.key===Se.space)return n&&e.preventDefault(),a()},tl=(e,a,n,l,t,m)=>{const p=Pt(e,a.slice(0,e.length),new Date,{locale:m});return nt(p)&&tn(p)?l||t?p:Ae(p,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},gn=(e,a,n,l,t,m)=>{const p=Array.isArray(n)?n[0]:n;if(typeof a=="string")return tl(e,a,p,l,t,m);if(Array.isArray(a)){let o=null;for(const R of a)if(o=tl(e,R,p,l,t,m),o)break;return o}return typeof a=="function"?a(e):null},F=e=>e?new Date(e):new Date,bn=(e,a,n)=>{if(a){const t=(e.getMonth()+1).toString().padStart(2,"0"),m=e.getDate().toString().padStart(2,"0"),p=e.getHours().toString().padStart(2,"0"),o=e.getMinutes().toString().padStart(2,"0"),R=n?e.getSeconds().toString().padStart(2,"0"):"00";return`${e.getFullYear()}-${t}-${m}T${p}:${o}:${R}.000Z`}const l=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return new Date(l).toISOString()},Ue=(e,a)=>{const n=F(JSON.parse(JSON.stringify(e))),l=Ae(n,{hours:0,minutes:0,seconds:0,milliseconds:0});return a?ql(l):l},ga=(e,a,n,l)=>{let t=e?F(e):F();return(a||a===0)&&(t=Jl(t,+a)),(n||n===0)&&(t=Zl(t,+n)),(l||l===0)&&(t=pl(t,+l)),ml(t,0)},Te=(e,a)=>!e||!a?!1:Ua(Ue(e),Ue(a)),_e=(e,a)=>!e||!a?!1:Ca(Ue(e),Ue(a)),Pe=(e,a)=>!e||!a?!1:Pa(Ue(e),Ue(a)),it=(e,a,n)=>e!=null&&e[0]&&e!=null&&e[1]?Pe(n,e[0])&&Te(n,e[1]):e!=null&&e[0]&&a?Pe(n,e[0])&&Te(n,a)||Te(n,e[0])&&Pe(n,a):!1,ta=e=>{const a=Ae(new Date(e),{date:1});return Ue(a)},kt=(e,a,n)=>a&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(l=>l===a?[l,n]:[l,isNaN(+e[l])?void 0:+e[l]])):{hours:isNaN(+e.hours)?void 0:+e.hours,minutes:isNaN(+e.minutes)?void 0:+e.minutes,seconds:isNaN(+e.seconds)?void 0:+e.seconds},xa=e=>({hours:va(e),minutes:ba(e),seconds:Oa(e)}),kl=(e,a)=>{if(a){const n=he(F(a));if(n>e)return 12;if(n===e)return be(F(a))}},Ml=(e,a)=>{if(a){const n=he(F(a));return n<e?-1:n===e?be(F(a)):void 0}},Ia=e=>{if(e)return he(F(e))},$l=(e,a)=>{const n=Pe(e,a)?a:e,l=Pe(a,e)?a:e;return il({start:n,end:l})},_n=e=>{const a=Aa(e,1);return{month:be(a),year:he(a)}},sa=(e,a)=>{const n=It(e,{weekStartsOn:+a}),l=dl(e,{weekStartsOn:+a});return[n,l]},Al=(e,a)=>{const n={hours:va(F()),minutes:ba(F()),seconds:a?Oa(F()):0};return Object.assign(n,e)},fa=(e,a,n)=>[Ae(F(e),{date:1}),Ae(F(),{month:a,year:n,date:1})],da=(e,a,n)=>{let l=e?F(e):F();return(a||a===0)&&(l=Gl(l,a)),n&&(l=ra(l,n)),l},Dl=(e,a,n,l,t)=>{if(!l||t&&!a||!t&&!n)return!1;const m=t?Aa(e,1):Ka(e,1),p=[be(m),he(m)];return t?!kn(...p,a):!wn(...p,n)},wn=(e,a,n)=>Te(...fa(n,e,a))||_e(...fa(n,e,a)),kn=(e,a,n)=>Pe(...fa(n,e,a))||_e(...fa(n,e,a)),xl=(e,a,n,l,t,m,p)=>{if(typeof a=="function"&&!p)return a(e);const o=n?{locale:n}:void 0;return Array.isArray(e)?`${ua(e[0],m,o)}${t&&!e[1]?"":l}${e[1]?ua(e[1],m,o):""}`:ua(e,m,o)},Ra=e=>{if(e)return null;throw new Error(Ht.prop("partial-range"))},et=(e,a)=>{if(a)return e();throw new Error(Ht.prop("range"))},Yt=e=>Array.isArray(e)?nt(e[0])&&(e[1]?nt(e[1]):!0):e?nt(e):!1,Mn=(e,a)=>Ae(a??F(),{hours:+e.hours||0,minutes:+e.minutes||0,seconds:+e.seconds||0}),Mt=(e,a,n,l)=>{if(!e)return!0;if(l){const t=n==="max"?Ua(e,a):Pa(e,a),m={seconds:0,milliseconds:0};return t||Ca(Ae(e,m),Ae(a,m))}return n==="max"?e.getTime()<=a.getTime():e.getTime()>=a.getTime()},$t=(e,a,n)=>e?Mn(e,a):F(n??a),ll=(e,a,n,l,t)=>{if(Array.isArray(l)){const p=$t(e,l[0],a),o=$t(e,l[1],a);return Mt(l[0],p,n,!!a)&&Mt(l[1],o,n,!!a)&&t}const m=$t(e,l,a);return Mt(l,m,n,!!a)&&t},At=e=>Ae(F(),xa(e)),$n=(e,a)=>e instanceof Map?Array.from(e.values()).filter(n=>he(F(n))===a).map(n=>be(n)):[],Sl=(e,a,n)=>typeof e=="function"?e({month:a,year:n}):!!e.months.find(l=>l.month===a&&l.year===n),Ut=(e,a)=>typeof e=="function"?e(a):e.years.includes(a),Rl=e=>ua(e,"yyyy-MM-dd"),za=Qa({menuFocused:!1,shiftKeyInMenu:!1}),Tl=()=>{const e=n=>{za.menuFocused=n},a=n=>{za.shiftKeyInMenu!==n&&(za.shiftKeyInMenu=n)};return{control:H(()=>({shiftKeyInMenu:za.shiftKeyInMenu,menuFocused:za.menuFocused})),setMenuFocused:e,setShiftKey:a}},De=Qa({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Dt=Z(null),at=Z(!1),xt=Z(!1),St=Z(!1),Rt=Z(!1),Be=Z(0),Ce=Z(0),_a=()=>{const e=H(()=>at.value?[...De.selectionGrid,De.actionRow].filter(v=>v.length):xt.value?[...De.timePicker[0],...De.timePicker[1],Rt.value?[]:[Dt.value],De.actionRow].filter(v=>v.length):St.value?[...De.monthPicker,De.actionRow]:[De.monthYear,...De.calendar,De.time,De.actionRow].filter(v=>v.length)),a=v=>{Be.value=v?Be.value+1:Be.value-1;let f=null;e.value[Ce.value]&&(f=e.value[Ce.value][Be.value]),!f&&e.value[Ce.value+(v?1:-1)]?(Ce.value=Ce.value+(v?1:-1),Be.value=v?0:e.value[Ce.value].length-1):f||(Be.value=v?Be.value-1:Be.value+1)},n=v=>{Ce.value===0&&!v||Ce.value===e.value.length&&v||(Ce.value=v?Ce.value+1:Ce.value-1,e.value[Ce.value]?e.value[Ce.value]&&!e.value[Ce.value][Be.value]&&Be.value!==0&&(Be.value=e.value[Ce.value].length-1):Ce.value=v?Ce.value-1:Ce.value+1)},l=v=>{let f=null;e.value[Ce.value]&&(f=e.value[Ce.value][Be.value]),f?f.focus({preventScroll:!at.value}):Be.value=v?Be.value-1:Be.value+1},t=()=>{a(!0),l(!0)},m=()=>{a(!1),l(!1)},p=()=>{n(!1),l(!0)},o=()=>{n(!0),l(!0)},R=(v,f)=>{De[f]=v},P=(v,f)=>{De[f]=v},w=()=>{Be.value=0,Ce.value=0};return{buildMatrix:R,buildMultiLevelMatrix:P,setTimePickerBackRef:v=>{Dt.value=v},setSelectionGrid:v=>{at.value=v,w(),v||(De.selectionGrid=[])},setTimePicker:(v,f=!1)=>{xt.value=v,Rt.value=f,w(),v||(De.timePicker[0]=[],De.timePicker[1]=[])},setTimePickerElements:(v,f=0)=>{De.timePicker[f]=v},arrowRight:t,arrowLeft:m,arrowUp:p,arrowDown:o,clearArrowNav:()=>{De.monthYear=[],De.calendar=[],De.time=[],De.actionRow=[],De.selectionGrid=[],De.timePicker[0]=[],De.timePicker[1]=[],at.value=!1,xt.value=!1,Rt.value=!1,St.value=!1,w(),Dt.value=null},setMonthPicker:v=>{St.value=v,w()},refSets:De}},nl=e=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...e??{}}),An=e=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:a=>`Increment ${a}`,decrementValue:a=>`Decrement ${a}`,openTpOverlay:a=>`Open ${a} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,...e??{}}),rl=e=>e?typeof e=="boolean"?e?2:0:+e>=2?+e:2:0,Dn=e=>{const a=typeof e=="object"&&e,n={static:!0,solo:!1};if(!e)return{...n,count:rl(!1)};const l=a?e:{},t=a?l.count??!0:e,m=rl(t);return Object.assign(n,l,{count:m})},xn=(e,a,n)=>e||(typeof n=="string"?n:a),Sn=e=>typeof e=="boolean"?e?nl({}):!1:nl(e),Rn=e=>{const a={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof e=="object"?{...a,...e??{},enabled:!0}:{...a,enabled:e}},Tn=e=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...e??{}}),Cn=e=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...e??{}}),Pn=e=>{const a={input:!1};return typeof e=="object"?{...a,...e??{},enabled:!0}:{enabled:e,...a}},On=e=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,...e??{}}),Yn=e=>{const a={dates:Array.isArray(e)?e.map(n=>F(n)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof e=="function"?e:{...a,...e??{}}},In=e=>typeof e=="object"?{type:(e==null?void 0:e.type)??"local",hideOnOffsetDates:(e==null?void 0:e.hideOnOffsetDates)??!1}:{type:e,hideOnOffsetDates:!1},Vn=(e,a)=>typeof e=="object"?{enabled:!0,...{noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1},...e}:{enabled:e,noDisabledRange:a.noDisabledRange,showLastInRange:a.showLastInRange,minMaxRawRange:a.minMaxRawRange,partialRange:a.partialRange,disableTimeRangeValidation:a.disableTimeRangeValidation,maxRange:a.maxRange,minRange:a.minRange,autoRange:a.autoRange,fixedStart:a.fixedStart,fixedEnd:a.fixedEnd},Nn=(e,a)=>e?typeof e=="string"?{timezone:e,exactMatch:!1,dateInTz:void 0,emitTimezone:a,convertModel:!0}:{timezone:e.timezone,exactMatch:e.exactMatch??!1,dateInTz:e.dateInTz??void 0,emitTimezone:a??e.emitTimezone,convertModel:e.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:a},Tt=(e,a,n)=>new Map(e.map(l=>{const t=zt(l,a,n);return[Et(t),t]})),Bn=(e,a)=>e.length?new Map(e.map(n=>{const l=zt(n.date,a);return[Et(l),n]})):null,Fn=e=>{var a;return{minDate:Ot(e.minDate,e.timezone,e.isSpecific),maxDate:Ot(e.maxDate,e.timezone,e.isSpecific),disabledDates:wt(e.disabledDates)?Tt(e.disabledDates,e.timezone,e.isSpecific):e.disabledDates,allowedDates:wt(e.allowedDates)?Tt(e.allowedDates,e.timezone,e.isSpecific):null,highlight:typeof e.highlight=="object"&&wt((a=e.highlight)==null?void 0:a.dates)?Tt(e.highlight.dates,e.timezone):e.highlight,markers:Bn(e.markers,e.timezone)}},Ln=(e,a)=>typeof e=="boolean"?{enabled:e,dragSelect:!0,limit:+a}:{enabled:!!e,limit:e.limit?+e.limit:null,dragSelect:e.dragSelect??!0},Re=e=>{const a=()=>{const U=e.enableSeconds?":ss":"",J=e.enableMinutes?":mm":"";return e.is24?`HH${J}${U}`:`hh${J}${U} aa`},n=()=>{var U;return e.format?e.format:e.monthPicker?"MM/yyyy":e.timePicker?a():e.weekPicker?`${((U=Q.value)==null?void 0:U.type)==="iso"?"RR":"ww"}-yyyy`:e.yearPicker?"yyyy":e.quarterPicker?"QQQ/yyyy":e.enableTimePicker?`MM/dd/yyyy, ${a()}`:"MM/dd/yyyy"},l=U=>Al(U,e.enableSeconds),t=()=>S.value.enabled?e.startTime&&Array.isArray(e.startTime)?[l(e.startTime[0]),l(e.startTime[1])]:null:e.startTime&&!Array.isArray(e.startTime)?l(e.startTime):null,m=H(()=>Dn(e.multiCalendars)),p=H(()=>t()),o=H(()=>An(e.ariaLabels)),R=H(()=>Tn(e.filters)),P=H(()=>Sn(e.transitions)),w=H(()=>Cn(e.actionRow)),v=H(()=>xn(e.previewFormat,e.format,n())),f=H(()=>Rn(e.textInput)),A=H(()=>Pn(e.inline)),M=H(()=>On(e.config)),_=H(()=>Yn(e.highlight)),Q=H(()=>In(e.weekNumbers)),ae=H(()=>Nn(e.timezone,e.emitTimezone)),q=H(()=>Ln(e.multiDates,e.multiDatesLimit)),Y=H(()=>Fn({minDate:e.minDate,maxDate:e.maxDate,disabledDates:e.disabledDates,allowedDates:e.allowedDates,highlight:_.value,markers:e.markers,timezone:ae.value,isSpecific:e.monthPicker||e.yearPicker||e.quarterPicker})),S=H(()=>Vn(e.range,{minMaxRawRange:!1,maxRange:e.maxRange,minRange:e.minRange,noDisabledRange:e.noDisabledRange,showLastInRange:e.showLastInRange,partialRange:e.partialRange,disableTimeRangeValidation:e.disableTimeRangeValidation,autoRange:e.autoRange,fixedStart:e.fixedStart,fixedEnd:e.fixedEnd}));return{defaultedTransitions:P,defaultedMultiCalendars:m,defaultedStartTime:p,defaultedAriaLabels:o,defaultedFilters:R,defaultedActionRow:w,defaultedPreviewFormat:v,defaultedTextInput:f,defaultedInline:A,defaultedConfig:M,defaultedHighlight:_,defaultedWeekNumbers:Q,defaultedRange:S,propDates:Y,defaultedTz:ae,defaultedMultiDates:q,getDefaultPattern:n,getDefaultStartTime:t}},zn=(e,a,n)=>{const l=Z(),{defaultedTextInput:t,defaultedRange:m,defaultedTz:p,defaultedMultiDates:o,getDefaultPattern:R}=Re(a),P=Z(""),w=Ea(a,"format"),v=Ea(a,"formatLocale");oa(l,()=>{typeof a.onInternalModelChange=="function"&&e("internal-model-change",l.value,ee(!0))},{deep:!0}),oa(m,(d,oe)=>{d.enabled!==oe.enabled&&(l.value=null)}),oa(w,()=>{L()});const f=d=>p.value.timezone&&p.value.convertModel?ia(d,p.value.timezone):d,A=d=>{if(p.value.timezone&&p.value.convertModel){const oe=on(p.value.timezone);return Ql(d,oe)}return d},M=(d,oe,B=!1)=>xl(d,a.format,a.formatLocale,t.value.rangeSeparator,a.modelAuto,oe??R(),B),_=d=>d?a.modelType?ce(d):{hours:va(d),minutes:ba(d),seconds:a.enableSeconds?Oa(d):0}:null,Q=d=>a.modelType?ce(d):{month:be(d),year:he(d)},ae=d=>Array.isArray(d)?o.value.enabled?d.map(oe=>q(oe,ra(F(),oe))):et(()=>[ra(F(),d[0]),d[1]?ra(F(),d[1]):Ra(m.value.partialRange)],m.value.enabled):ra(F(),+d),q=(d,oe)=>(typeof d=="string"||typeof d=="number")&&a.modelType?ne(d):oe,Y=d=>Array.isArray(d)?[q(d[0],ga(null,+d[0].hours,+d[0].minutes,d[0].seconds)),q(d[1],ga(null,+d[1].hours,+d[1].minutes,d[1].seconds))]:q(d,ga(null,d.hours,d.minutes,d.seconds)),S=d=>{const oe=Ae(F(),{date:1});return Array.isArray(d)?o.value.enabled?d.map(B=>q(B,da(oe,+B.month,+B.year))):et(()=>[q(d[0],da(oe,+d[0].month,+d[0].year)),q(d[1],d[1]?da(oe,+d[1].month,+d[1].year):Ra(m.value.partialRange))],m.value.enabled):q(d,da(oe,+d.month,+d.year))},U=d=>{if(Array.isArray(d))return d.map(oe=>ne(oe));throw new Error(Ht.dateArr("multi-dates"))},J=d=>{if(Array.isArray(d)&&m.value.enabled){const oe=d[0],B=d[1];return[F(Array.isArray(oe)?oe[0]:null),F(Array.isArray(B)?B[0]:null)]}return F(d[0])},N=d=>a.modelAuto?Array.isArray(d)?[ne(d[0]),ne(d[1])]:a.autoApply?[ne(d)]:[ne(d),null]:Array.isArray(d)?et(()=>d[1]?[ne(d[0]),d[1]?ne(d[1]):Ra(m.value.partialRange)]:[ne(d[0])],m.value.enabled):ne(d),G=()=>{Array.isArray(l.value)&&m.value.enabled&&l.value.length===1&&l.value.push(Ra(m.value.partialRange))},O=()=>{const d=l.value;return[ce(d[0]),d[1]?ce(d[1]):Ra(m.value.partialRange)]},j=()=>l.value[1]?O():ce(Ye(l.value[0])),se=()=>(l.value||[]).map(d=>ce(d)),T=(d=!1)=>(d||G(),a.modelAuto?j():o.value.enabled?se():Array.isArray(l.value)?et(()=>O(),m.value.enabled):ce(Ye(l.value))),I=d=>!d||Array.isArray(d)&&!d.length?null:a.timePicker?Y(Ye(d)):a.monthPicker?S(Ye(d)):a.yearPicker?ae(Ye(d)):o.value.enabled?U(Ye(d)):a.weekPicker?J(Ye(d)):N(Ye(d)),re=d=>{const oe=I(d);Yt(Ye(oe))?(l.value=Ye(oe),L()):(l.value=null,P.value="")},s=()=>{const d=oe=>ua(oe,t.value.format);return`${d(l.value[0])} ${t.value.rangeSeparator} ${l.value[1]?d(l.value[1]):""}`},c=()=>n.value&&l.value?Array.isArray(l.value)?s():ua(l.value,t.value.format):M(l.value),h=()=>l.value?o.value.enabled?l.value.map(d=>M(d)).join("; "):t.value.enabled&&typeof t.value.format=="string"?c():M(l.value):"",L=()=>{!a.format||typeof a.format=="string"||t.value.enabled&&typeof t.value.format=="string"?P.value=h():P.value=a.format(l.value)},ne=d=>{if(a.utc){const oe=new Date(d);return a.utc==="preserve"?new Date(oe.getTime()+oe.getTimezoneOffset()*6e4):oe}return a.modelType?un.includes(a.modelType)?f(new Date(d)):a.modelType==="format"&&(typeof a.format=="string"||!a.format)?f(Pt(d,R(),new Date,{locale:v.value})):f(Pt(d,a.modelType,new Date,{locale:v.value})):f(new Date(d))},ce=d=>d?a.utc?bn(d,a.utc==="preserve",a.enableSeconds):a.modelType?a.modelType==="timestamp"?+A(d):a.modelType==="iso"?A(d).toISOString():a.modelType==="format"&&(typeof a.format=="string"||!a.format)?M(A(d)):M(A(d),a.modelType,!0):A(d):"",D=(d,oe=!1,B=!1)=>{if(B)return d;if(e("update:model-value",d),p.value.emitTimezone&&oe){const me=Array.isArray(d)?d.map(te=>ia(Ye(te),p.value.emitTimezone)):ia(Ye(d),p.value.emitTimezone);e("update:model-timezone-value",me)}},C=d=>Array.isArray(l.value)?o.value.enabled?l.value.map(oe=>d(oe)):[d(l.value[0]),l.value[1]?d(l.value[1]):Ra(m.value.partialRange)]:d(Ye(l.value)),r=()=>{if(Array.isArray(l.value)){const d=sa(l.value[0],a.weekStart),oe=l.value[1]?sa(l.value[1],a.weekStart):[];return[d.map(B=>F(B)),oe.map(B=>F(B))]}return sa(l.value,a.weekStart).map(d=>F(d))},k=(d,oe)=>D(Ye(C(d)),!1,oe),le=d=>{const oe=r();return d?oe:e("update:model-value",r())},ee=(d=!1)=>(d||L(),a.monthPicker?k(Q,d):a.timePicker?k(_,d):a.yearPicker?k(he,d):a.weekPicker?le(d):D(T(d),!0,d));return{inputValue:P,internalModelValue:l,checkBeforeEmit:()=>l.value?m.value.enabled?m.value.partialRange?l.value.length>=1:l.value.length===2:!!l.value:!1,parseExternalModelValue:re,formatInputValue:L,emitModelValue:ee}},jn=(e,a)=>{const{defaultedFilters:n,propDates:l}=Re(e),{validateMonthYearInRange:t}=wa(e),m=(w,v)=>{let f=w;return n.value.months.includes(be(f))?(f=v?Aa(w,1):Ka(w,1),m(f,v)):f},p=(w,v)=>{let f=w;return n.value.years.includes(he(f))?(f=v?yl(w,1):fl(w,1),p(f,v)):f},o=(w,v=!1)=>{const f=Ae(F(),{month:e.month,year:e.year});let A=w?Aa(f,1):Ka(f,1);e.disableYearSelect&&(A=ra(A,e.year));let M=be(A),_=he(A);n.value.months.includes(M)&&(A=m(A,w),M=be(A),_=he(A)),n.value.years.includes(_)&&(A=p(A,w),_=he(A)),t(M,_,w,e.preventMinMaxNavigation)&&R(M,_,v)},R=(w,v,f)=>{a("update-month-year",{month:w,year:v,fromNav:f})},P=H(()=>w=>Dl(Ae(F(),{month:e.month,year:e.year}),l.value.maxDate,l.value.minDate,e.preventMinMaxNavigation,w));return{handleMonthYearChange:o,isDisabled:P,updateMonthYear:R}},st={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0}},la={...st,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})}},Hn=["title"],En=["disabled"],Un=Ne({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...la},emits:["close-picker","select-date","select-now","invalid-select"],setup(e,{emit:a}){const n=a,l=e,{defaultedActionRow:t,defaultedPreviewFormat:m,defaultedMultiCalendars:p,defaultedTextInput:o,defaultedInline:R,defaultedRange:P,defaultedMultiDates:w,getDefaultPattern:v}=Re(l),{isTimeValid:f,isMonthValid:A}=wa(l),{buildMatrix:M}=_a(),_=Z(null),Q=Z(null),ae=Z(!1),q=Z({}),Y=Z(null),S=Z(null);je(()=>{l.arrowNavigation&&M([Oe(_),Oe(Q)],"actionRow"),U(),window.addEventListener("resize",U)}),ot(()=>{window.removeEventListener("resize",U)});const U=()=>{ae.value=!1,setTimeout(()=>{var s,c;const h=(s=Y.value)==null?void 0:s.getBoundingClientRect(),L=(c=S.value)==null?void 0:c.getBoundingClientRect();h&&L&&(q.value.maxWidth=`${L.width-h.width-20}px`),ae.value=!0},0)},J=H(()=>P.value.enabled&&!P.value.partialRange&&l.internalModelValue?l.internalModelValue.length===2:!0),N=H(()=>!f.value(l.internalModelValue)||!A.value(l.internalModelValue)||!J.value),G=()=>{const s=m.value;return l.timePicker||l.monthPicker,s(Ye(l.internalModelValue))},O=()=>{const s=l.internalModelValue;return p.value.count>0?`${j(s[0])} - ${j(s[1])}`:[j(s[0]),j(s[1])]},j=s=>xl(s,m.value,l.formatLocale,o.value.rangeSeparator,l.modelAuto,v()),se=H(()=>!l.internalModelValue||!l.menuMount?"":typeof m.value=="string"?Array.isArray(l.internalModelValue)?l.internalModelValue.length===2&&l.internalModelValue[1]?O():w.value.enabled?l.internalModelValue.map(s=>`${j(s)}`):l.modelAuto?`${j(l.internalModelValue[0])}`:`${j(l.internalModelValue[0])} -`:j(l.internalModelValue):G()),T=()=>w.value.enabled?"; ":" - ",I=H(()=>Array.isArray(se.value)?se.value.join(T()):se.value),re=()=>{f.value(l.internalModelValue)&&A.value(l.internalModelValue)&&J.value?n("select-date"):n("invalid-select")};return(s,c)=>($(),z("div",{ref_key:"actionRowRef",ref:S,class:"dp__action_row"},[s.$slots["action-row"]?ie(s.$slots,"action-row",Ve(Ie({key:0},{internalModelValue:s.internalModelValue,disabled:N.value,selectDate:()=>s.$emit("select-date"),closePicker:()=>s.$emit("close-picker")}))):($(),z(we,{key:1},[i(t).showPreview?($(),z("div",{key:0,class:"dp__selection_preview",title:I.value,style:Ze(q.value)},[s.$slots["action-preview"]&&ae.value?ie(s.$slots,"action-preview",{key:0,value:s.internalModelValue}):E("",!0),!s.$slots["action-preview"]&&ae.value?($(),z(we,{key:1},[ca(Le(I.value),1)],64)):E("",!0)],12,Hn)):E("",!0),ye("div",{ref_key:"actionBtnContainer",ref:Y,class:"dp__action_buttons","data-dp-element":"action-row"},[s.$slots["action-buttons"]?ie(s.$slots,"action-buttons",{key:0,value:s.internalModelValue}):E("",!0),s.$slots["action-buttons"]?E("",!0):($(),z(we,{key:1},[!i(R).enabled&&i(t).showCancel?($(),z("button",{key:0,ref_key:"cancelButtonRef",ref:_,type:"button",class:"dp__action_button dp__action_cancel",onClick:c[0]||(c[0]=h=>s.$emit("close-picker")),onKeydown:c[1]||(c[1]=h=>i(Qe)(h,()=>s.$emit("close-picker")))},Le(s.cancelText),545)):E("",!0),i(t).showNow?($(),z("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:c[2]||(c[2]=h=>s.$emit("select-now")),onKeydown:c[3]||(c[3]=h=>i(Qe)(h,()=>s.$emit("select-now")))},Le(s.nowButtonLabel),33)):E("",!0),i(t).showSelect?($(),z("button",{key:2,ref_key:"selectButtonRef",ref:Q,type:"button",class:"dp__action_button dp__action_select",disabled:N.value,"data-test":"select-button",onKeydown:c[4]||(c[4]=h=>i(Qe)(h,()=>re())),onClick:re},Le(s.selectText),41,En)):E("",!0)],64))],512)],64))],512))}}),Kn={class:"dp__selection_grid_header"},qn=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],Qn=["aria-label"],Xa=Ne({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(e,{expose:a,emit:n}){const{setSelectionGrid:l,buildMultiLevelMatrix:t,setMonthPicker:m}=_a(),p=n,o=e,{defaultedAriaLabels:R,defaultedTextInput:P,defaultedConfig:w}=Re(o),{hideNavigationButtons:v}=vt(),f=Z(!1),A=Z(null),M=Z(null),_=Z([]),Q=Z(),ae=Z(null),q=Z(0),Y=Z(null);zl(()=>{A.value=null}),je(()=>{ea().then(()=>se()),o.noOverlayFocus||U(),S(!0)}),ot(()=>S(!1));const S=C=>{var r;o.arrowNavigation&&((r=o.headerRefs)!=null&&r.length?m(C):l(C))},U=()=>{var C;const r=Oe(M);r&&(P.value.enabled||(A.value?(C=A.value)==null||C.focus({preventScroll:!0}):r.focus({preventScroll:!0})),f.value=r.clientHeight<r.scrollHeight)},J=H(()=>({dp__overlay:!0,"dp--overlay-absolute":!o.useRelative,"dp--overlay-relative":o.useRelative})),N=H(()=>o.useRelative?{height:`${o.height}px`,width:"260px"}:void 0),G=H(()=>({dp__overlay_col:!0})),O=H(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:f.value,dp__button_bottom:o.isLast})),j=H(()=>{var C,r;return{dp__overlay_container:!0,dp__container_flex:((C=o.items)==null?void 0:C.length)<=6,dp__container_block:((r=o.items)==null?void 0:r.length)>6}});oa(()=>o.items,()=>se(!1),{deep:!0});const se=(C=!0)=>{ea().then(()=>{const r=Oe(A),k=Oe(M),le=Oe(ae),ee=Oe(Y),d=le?le.getBoundingClientRect().height:0;k&&(k.getBoundingClientRect().height?q.value=k.getBoundingClientRect().height-d:q.value=w.value.modeHeight-d),r&&ee&&C&&(ee.scrollTop=r.offsetTop-ee.offsetTop-(q.value/2-r.getBoundingClientRect().height)-d)})},T=C=>{C.disabled||p("selected",C.value)},I=()=>{p("toggle"),p("reset-flow")},re=()=>{o.escClose&&I()},s=(C,r,k,le)=>{C&&((r.active||r.value===o.focusValue)&&(A.value=C),o.arrowNavigation&&(Array.isArray(_.value[k])?_.value[k][le]=C:_.value[k]=[C],c()))},c=()=>{var C,r;const k=(C=o.headerRefs)!=null&&C.length?[o.headerRefs].concat(_.value):_.value.concat([o.skipButtonRef?[]:[ae.value]]);t(Ye(k),(r=o.headerRefs)!=null&&r.length?"monthPicker":"selectionGrid")},h=C=>{o.arrowNavigation||ha(C,w.value,!0)},L=C=>{Q.value=C,p("hover-value",C)},ne=()=>{if(I(),!o.isLast){const C=fn(o.menuWrapRef??null,"action-row");if(C){const r=_l(C);r==null||r.focus()}}},ce=C=>{switch(C.key){case Se.esc:return re();case Se.arrowLeft:return h(C);case Se.arrowRight:return h(C);case Se.arrowUp:return h(C);case Se.arrowDown:return h(C);default:return}},D=C=>{if(C.key===Se.enter)return I();if(C.key===Se.tab)return ne()};return a({focusGrid:U}),(C,r)=>{var k;return $(),z("div",{ref_key:"gridWrapRef",ref:M,class:$e(J.value),style:Ze(N.value),role:"dialog",tabindex:"0",onKeydown:ce,onClick:r[0]||(r[0]=Ha(()=>{},["prevent"]))},[ye("div",{ref_key:"containerRef",ref:Y,class:$e(j.value),role:"grid",style:Ze({"--dp-overlay-height":`${q.value}px`})},[ye("div",Kn,[ie(C.$slots,"header")]),C.$slots.overlay?ie(C.$slots,"overlay",{key:0}):($(!0),z(we,{key:1},xe(C.items,(le,ee)=>($(),z("div",{key:ee,class:$e(["dp__overlay_row",{dp__flex_row:C.items.length>=3}]),role:"row"},[($(!0),z(we,null,xe(le,(d,oe)=>($(),z("div",{key:d.value,ref_for:!0,ref:B=>s(B,d,ee,oe),role:"gridcell",class:$e(G.value),"aria-selected":d.active||void 0,"aria-disabled":d.disabled||void 0,tabindex:"0","data-test":d.text,onClick:Ha(B=>T(d),["prevent"]),onKeydown:B=>i(Qe)(B,()=>T(d),!0),onMouseover:B=>L(d.value)},[ye("div",{class:$e(d.className)},[C.$slots.item?ie(C.$slots,"item",{key:0,item:d}):E("",!0),C.$slots.item?E("",!0):($(),z(we,{key:1},[ca(Le(d.text),1)],64))],2)],42,qn))),128))],2))),128))],6),C.$slots["button-icon"]?tt(($(),z("button",{key:0,ref_key:"toggleButton",ref:ae,type:"button","aria-label":(k=i(R))==null?void 0:k.toggleOverlay,class:$e(O.value),tabindex:"0",onClick:I,onKeydown:D},[ie(C.$slots,"button-icon")],42,Qn)),[[lt,!i(v)(C.hideNavigation,C.type)]]):E("",!0)],38)}}}),dt=Ne({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean}},setup(e){const a=e,n=H(()=>a.multiCalendars>0?[...Array(a.multiCalendars).keys()]:[0]),l=H(()=>({dp__instance_calendar:a.multiCalendars>0}));return(t,m)=>($(),z("div",{class:$e({dp__menu_inner:!t.stretch,"dp--menu--inner-stretched":t.stretch,dp__flex_display:t.multiCalendars>0,"dp--flex-display-collapsed":t.collapse})},[($(!0),z(we,null,xe(n.value,(p,o)=>($(),z("div",{key:p,class:$e(l.value)},[ie(t.$slots,"default",{instance:p,index:o})],2))),128))],2))}}),Xn=["aria-label","aria-disabled"],ja=Ne({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(e,{emit:a}){const n=a,l=Z(null);return je(()=>n("set-ref",l)),(t,m)=>($(),z("button",{ref_key:"elRef",ref:l,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":t.ariaLabel,"aria-disabled":t.disabled||void 0,onClick:m[0]||(m[0]=p=>t.$emit("activate")),onKeydown:m[1]||(m[1]=p=>i(Qe)(p,()=>t.$emit("activate"),!0))},[ye("span",{class:$e(["dp__inner_nav",{dp__inner_nav_disabled:t.disabled}])},[ie(t.$slots,"default")],2)],40,Xn))}}),Wn={class:"dp--year-mode-picker"},Jn=["aria-label","data-test"],Cl=Ne({__name:"YearModePicker",props:{...la,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(e,{emit:a}){const n=a,l=e,{showRightIcon:t,showLeftIcon:m}=vt(),{defaultedConfig:p,defaultedMultiCalendars:o,defaultedAriaLabels:R,defaultedTransitions:P}=Re(l),{showTransition:w,transitionName:v}=Wa(P),f=(_=!1,Q)=>{n("toggle-year-picker",{flow:_,show:Q})},A=_=>{n("year-select",_)},M=(_=!1)=>{n("handle-year",_)};return(_,Q)=>{var ae,q,Y;return $(),z("div",Wn,[i(m)(i(o),e.instance)?($(),ke(ja,{key:0,ref:"mpPrevIconRef","aria-label":(ae=i(R))==null?void 0:ae.prevYear,disabled:e.isDisabled(!1),onActivate:Q[0]||(Q[0]=S=>M(!1))},{default:ge(()=>[_.$slots["arrow-left"]?ie(_.$slots,"arrow-left",{key:0}):E("",!0),_.$slots["arrow-left"]?E("",!0):($(),ke(i(Vt),{key:1}))]),_:3},8,["aria-label","disabled"])):E("",!0),ye("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(q=i(R))==null?void 0:q.openYearsOverlay,"data-test":`year-mode-btn-${e.instance}`,onClick:Q[1]||(Q[1]=()=>f(!1)),onKeydown:Q[2]||(Q[2]=jl(()=>f(!1),["enter"]))},[_.$slots.year?ie(_.$slots,"year",{key:0,year:e.year}):E("",!0),_.$slots.year?E("",!0):($(),z(we,{key:1},[ca(Le(e.year),1)],64))],40,Jn),i(t)(i(o),e.instance)?($(),ke(ja,{key:1,ref:"mpNextIconRef","aria-label":(Y=i(R))==null?void 0:Y.nextYear,disabled:e.isDisabled(!0),onActivate:Q[3]||(Q[3]=S=>M(!0))},{default:ge(()=>[_.$slots["arrow-right"]?ie(_.$slots,"arrow-right",{key:0}):E("",!0),_.$slots["arrow-right"]?E("",!0):($(),ke(i(Nt),{key:1}))]),_:3},8,["aria-label","disabled"])):E("",!0),Ge(Va,{name:i(v)(e.showYearPicker),css:i(w)},{default:ge(()=>[e.showYearPicker?($(),ke(Xa,{key:0,items:e.items,"text-input":_.textInput,"esc-close":_.escClose,config:_.config,"is-last":_.autoApply&&!i(p).keepActionRow,"hide-navigation":_.hideNavigation,"aria-labels":_.ariaLabels,type:"year",onToggle:f,onSelected:Q[4]||(Q[4]=S=>A(S))},ze({"button-icon":ge(()=>[_.$slots["calendar-icon"]?ie(_.$slots,"calendar-icon",{key:0}):E("",!0),_.$slots["calendar-icon"]?E("",!0):($(),ke(i(Na),{key:1}))]),_:2},[_.$slots["year-overlay-value"]?{name:"item",fn:ge(({item:S})=>[ie(_.$slots,"year-overlay-value",{text:S.text,value:S.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels"])):E("",!0)]),_:3},8,["name","css"])])}}}),Kt=(e,a,n)=>{if(a.value&&Array.isArray(a.value))if(a.value.some(l=>_e(e,l))){const l=a.value.filter(t=>!_e(t,e));a.value=l.length?l:null}else(n&&+n>a.value.length||!n)&&a.value.push(e);else a.value=[e]},qt=(e,a,n)=>{let l=e.value?e.value.slice():[];return l.length===2&&l[1]!==null&&(l=[]),l.length?Te(a,l[0])?(l.unshift(a),n("range-start",l[0]),n("range-start",l[1])):(l[1]=a,n("range-end",a)):(l=[a],n("range-start",a)),l},ct=(e,a,n,l)=>{e&&(e[0]&&e[1]&&n&&a("auto-apply"),e[0]&&!e[1]&&l&&n&&a("auto-apply"))},Pl=e=>{Array.isArray(e.value)&&e.value.length<=2&&e.range?e.modelValue.value=e.value.map(a=>ia(F(a),e.timezone)):Array.isArray(e.value)||(e.modelValue.value=ia(F(e.value),e.timezone))},Ol=(e,a,n,l)=>Array.isArray(a.value)&&(a.value.length===2||a.value.length===1&&l.value.partialRange)?l.value.fixedStart&&(Pe(e,a.value[0])||_e(e,a.value[0]))?[a.value[0],e]:l.value.fixedEnd&&(Te(e,a.value[1])||_e(e,a.value[1]))?[e,a.value[1]]:(n("invalid-fixed-range",e),a.value):[],Yl=({multiCalendars:e,range:a,highlight:n,propDates:l,calendars:t,modelValue:m,props:p,filters:o,year:R,month:P,emit:w})=>{const v=H(()=>jt(p.yearRange,p.locale,p.reverseYears)),f=Z([!1]),A=H(()=>(O,j)=>{const se=Ae(ta(new Date),{month:P.value(O),year:R.value(O)}),T=j?vl(se):cl(se);return Dl(T,l.value.maxDate,l.value.minDate,p.preventMinMaxNavigation,j)}),M=()=>Array.isArray(m.value)&&e.value.solo&&m.value[1],_=()=>{for(let O=0;O<e.value.count;O++)if(O===0)t.value[O]=t.value[0];else if(O===e.value.count-1&&M())t.value[O]={month:be(m.value[1]),year:he(m.value[1])};else{const j=Ae(F(),t.value[O-1]);t.value[O]={month:be(j),year:he(yl(j,1))}}},Q=O=>{if(!O)return _();const j=Ae(F(),t.value[O]);return t.value[0].year=he(fl(j,e.value.count-1)),_()},ae=(O,j)=>{const se=ln(j,O);return a.value.showLastInRange&&se>1?j:O},q=O=>p.focusStartDate||e.value.solo?O[0]:O[1]?ae(O[0],O[1]):O[0],Y=()=>{if(m.value){const O=Array.isArray(m.value)?q(m.value):m.value;t.value[0]={month:be(O),year:he(O)}}};je(()=>{Y(),e.value.count&&_()});const S=(O,j)=>{t.value[j].year=O,w("update-month-year",{instance:j,year:O,month:t.value[j].month}),e.value.count&&!e.value.solo&&Q(j)},U=H(()=>O=>Ya(v.value,j=>{var se;const T=R.value(O)===j.value,I=qa(j.value,Ia(l.value.minDate),Ia(l.value.maxDate))||((se=o.value.years)==null?void 0:se.includes(R.value(O))),re=Ut(n.value,j.value);return{active:T,disabled:I,highlighted:re}})),J=(O,j)=>{S(O,j),G(j)},N=(O,j=!1)=>{if(!A.value(O,j)){const se=j?R.value(O)+1:R.value(O)-1;S(se,O)}},G=(O,j=!1,se)=>{j||w("reset-flow"),se!==void 0?f.value[O]=se:f.value[O]=!f.value[O],f.value[O]?w("overlay-toggle",{open:!0,overlay:Fe.year}):(w("overlay-closed"),w("overlay-toggle",{open:!1,overlay:Fe.year}))};return{isDisabled:A,groupedYears:U,showYearPicker:f,selectYear:S,toggleYearPicker:G,handleYearSelect:J,handleYear:N}},Zn=(e,a)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:l,defaultedTransitions:t,defaultedConfig:m,defaultedRange:p,defaultedHighlight:o,propDates:R,defaultedTz:P,defaultedFilters:w,defaultedMultiDates:v}=Re(e),{modelValue:f,year:A,month:M,calendars:_}=Ja(e,a),Q=H(()=>gl(e.formatLocale,e.locale,e.monthNameFormat)),ae=Z(null),{checkMinMaxRange:q}=wa(e),{selectYear:Y,groupedYears:S,showYearPicker:U,toggleYearPicker:J,handleYearSelect:N,handleYear:G,isDisabled:O}=Yl({modelValue:f,multiCalendars:n,range:p,highlight:o,calendars:_,year:A,propDates:R,month:M,filters:w,props:e,emit:a});je(()=>{e.startDate&&(f.value&&e.focusStartDate||!f.value)&&Y(he(F(e.startDate)),0)});const j=r=>r?{month:be(r),year:he(r)}:{month:null,year:null},se=()=>f.value?Array.isArray(f.value)?f.value.map(r=>j(r)):j(f.value):j(),T=(r,k)=>{const le=_.value[r],ee=se();return Array.isArray(ee)?ee.some(d=>d.year===(le==null?void 0:le.year)&&d.month===k):(le==null?void 0:le.year)===ee.year&&k===ee.month},I=(r,k,le)=>{var ee,d;const oe=se();return Array.isArray(oe)?A.value(k)===((ee=oe[le])==null?void 0:ee.year)&&r===((d=oe[le])==null?void 0:d.month):!1},re=(r,k)=>{if(p.value.enabled){const le=se();if(Array.isArray(f.value)&&Array.isArray(le)){const ee=I(r,k,0)||I(r,k,1),d=da(ta(F()),r,A.value(k));return it(f.value,ae.value,d)&&!ee}return!1}return!1},s=H(()=>r=>Ya(Q.value,k=>{var le;const ee=T(r,k.value),d=qa(k.value,kl(A.value(r),R.value.minDate),Ml(A.value(r),R.value.maxDate))||$n(R.value.disabledDates,A.value(r)).includes(k.value)||((le=w.value.months)==null?void 0:le.includes(k.value)),oe=re(k.value,r),B=Sl(o.value,k.value,A.value(r));return{active:ee,disabled:d,isBetween:oe,highlighted:B}})),c=(r,k)=>da(ta(F()),r,A.value(k)),h=(r,k)=>{const le=f.value?f.value:ta(new Date);f.value=da(le,r,A.value(k)),a("auto-apply"),a("update-flow-step")},L=(r,k)=>{const le=c(r,k);p.value.fixedEnd||p.value.fixedStart?f.value=Ol(le,f,a,p):f.value?q(le,f.value)&&(f.value=qt(f,c(r,k),a)):f.value=[c(r,k)],ea().then(()=>{ct(f.value,a,e.autoApply,e.modelAuto)})},ne=(r,k)=>{Kt(c(r,k),f,v.value.limit),a("auto-apply",!0)},ce=(r,k)=>(_.value[k].month=r,C(k,_.value[k].year,r),v.value.enabled?ne(r,k):p.value.enabled?L(r,k):h(r,k)),D=(r,k)=>{Y(r,k),C(k,r,null)},C=(r,k,le)=>{let ee=le;if(!ee&&ee!==0){const d=se();ee=Array.isArray(d)?d[r].month:d.month}a("update-month-year",{instance:r,year:k,month:ee})};return{groupedMonths:s,groupedYears:S,year:A,isDisabled:O,defaultedMultiCalendars:n,defaultedAriaLabels:l,defaultedTransitions:t,defaultedConfig:m,showYearPicker:U,modelValue:f,presetDate:(r,k)=>{Pl({value:r,modelValue:f,range:p.value.enabled,timezone:k?void 0:P.value.timezone}),a("auto-apply")},setHoverDate:(r,k)=>{ae.value=c(r,k)},selectMonth:ce,selectYear:D,toggleYearPicker:J,handleYearSelect:N,handleYear:G,getModelMonthYear:se}},Gn=Ne({compatConfig:{MODE:3},__name:"MonthPicker",props:{...la},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(e,{expose:a,emit:n}){const l=n,t=Sa(),m=We(t,"yearMode"),p=e;je(()=>{p.shadow||l("mount",null)});const{groupedMonths:o,groupedYears:R,year:P,isDisabled:w,defaultedMultiCalendars:v,defaultedConfig:f,showYearPicker:A,modelValue:M,presetDate:_,setHoverDate:Q,selectMonth:ae,selectYear:q,toggleYearPicker:Y,handleYearSelect:S,handleYear:U,getModelMonthYear:J}=Zn(p,l);return a({getSidebarProps:()=>({modelValue:M,year:P,getModelMonthYear:J,selectMonth:ae,selectYear:q,handleYear:U}),presetDate:_,toggleYearPicker:N=>Y(0,N)}),(N,G)=>($(),ke(dt,{"multi-calendars":i(v).count,collapse:N.collapse,stretch:""},{default:ge(({instance:O})=>[N.$slots["top-extra"]?ie(N.$slots,"top-extra",{key:0,value:N.internalModelValue}):E("",!0),N.$slots["month-year"]?ie(N.$slots,"month-year",Ve(Ie({key:1},{year:i(P),months:i(o)(O),years:i(R)(O),selectMonth:i(ae),selectYear:i(q),instance:O}))):($(),ke(Xa,{key:2,items:i(o)(O),"arrow-navigation":N.arrowNavigation,"is-last":N.autoApply&&!i(f).keepActionRow,"esc-close":N.escClose,height:i(f).modeHeight,config:N.config,"no-overlay-focus":!!(N.noOverlayFocus||N.textInput),"use-relative":"",type:"month",onSelected:j=>i(ae)(j,O),onHoverValue:j=>i(Q)(j,O)},ze({header:ge(()=>[Ge(Cl,Ie(N.$props,{items:i(R)(O),instance:O,"show-year-picker":i(A)[O],year:i(P)(O),"is-disabled":j=>i(w)(O,j),onHandleYear:j=>i(U)(O,j),onYearSelect:j=>i(S)(j,O),onToggleYearPicker:j=>i(Y)(O,j==null?void 0:j.flow,j==null?void 0:j.show)}),ze({_:2},[xe(i(m),(j,se)=>({name:j,fn:ge(T=>[ie(N.$slots,j,Ve(qe(T)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[N.$slots["month-overlay-value"]?{name:"item",fn:ge(({item:j})=>[ie(N.$slots,"month-overlay-value",{text:j.text,value:j.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse"]))}}),er=(e,a)=>{const{modelValue:n}=Ja(e,a),l=Z(null),{defaultedHighlight:t,defaultedMultiDates:m,defaultedFilters:p,defaultedRange:o,propDates:R}=Re(e),P=Z();je(()=>{e.startDate&&(n.value&&e.focusStartDate||!n.value)&&(P.value=he(F(e.startDate)))});const w=M=>Array.isArray(n.value)?n.value.some(_=>he(_)===M):n.value?he(n.value)===M:!1,v=M=>o.value.enabled&&Array.isArray(n.value)?it(n.value,l.value,A(M)):!1,f=H(()=>Ya(jt(e.yearRange,e.locale,e.reverseYears),M=>{const _=w(M.value),Q=qa(M.value,Ia(R.value.minDate),Ia(R.value.maxDate))||p.value.years.includes(M.value),ae=v(M.value)&&!_,q=Ut(t.value,M.value);return{active:_,disabled:Q,isBetween:ae,highlighted:q}})),A=M=>ra(ta(new Date),M);return{groupedYears:f,modelValue:n,focusYear:P,setHoverValue:M=>{l.value=ra(ta(new Date),M)},selectYear:M=>{var _;if(a("update-month-year",{instance:0,year:M}),m.value.enabled)return n.value?Array.isArray(n.value)&&(((_=n.value)==null?void 0:_.map(Q=>he(Q))).includes(M)?n.value=n.value.filter(Q=>he(Q)!==M):n.value.push(ra(Ue(F()),M))):n.value=[ra(Ue(F()),M)],a("auto-apply",!0);o.value.enabled?(n.value=qt(n,A(M),a),ea().then(()=>{ct(n.value,a,e.autoApply,e.modelAuto)})):(n.value=A(M),a("auto-apply"))}}},ar=Ne({compatConfig:{MODE:3},__name:"YearPicker",props:{...la},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(e,{expose:a,emit:n}){const l=n,t=e,{groupedYears:m,modelValue:p,focusYear:o,selectYear:R,setHoverValue:P}=er(t,l),{defaultedConfig:w}=Re(t);return a({getSidebarProps:()=>({modelValue:p,selectYear:R})}),(v,f)=>($(),z("div",null,[v.$slots["top-extra"]?ie(v.$slots,"top-extra",{key:0,value:v.internalModelValue}):E("",!0),v.$slots["month-year"]?ie(v.$slots,"month-year",Ve(Ie({key:1},{years:i(m),selectYear:i(R)}))):($(),ke(Xa,{key:2,items:i(m),"is-last":v.autoApply&&!i(w).keepActionRow,height:i(w).modeHeight,config:v.config,"no-overlay-focus":!!(v.noOverlayFocus||v.textInput),"focus-value":i(o),type:"year","use-relative":"",onSelected:i(R),onHoverValue:i(P)},ze({_:2},[v.$slots["year-overlay-value"]?{name:"item",fn:ge(({item:A})=>[ie(v.$slots,"year-overlay-value",{text:A.text,value:A.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),tr={key:0,class:"dp__time_input"},lr=["data-test","aria-label","onKeydown","onClick","onMousedown"],nr=ye("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),rr=ye("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),or=["aria-label","disabled","data-test","onKeydown","onClick"],ur=["data-test","aria-label","onKeydown","onClick","onMousedown"],ir=ye("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),sr=ye("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),dr={key:0},cr=["aria-label"],vr=Ne({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...la},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(e,{expose:a,emit:n}){const l=n,t=e,{setTimePickerElements:m,setTimePickerBackRef:p}=_a(),{defaultedAriaLabels:o,defaultedTransitions:R,defaultedFilters:P,defaultedConfig:w,defaultedRange:v}=Re(t),{transitionName:f,showTransition:A}=Wa(R),M=Qa({hours:!1,minutes:!1,seconds:!1}),_=Z("AM"),Q=Z(null),ae=Z([]),q=Z();je(()=>{l("mounted")});const Y=u=>Ae(new Date,{hours:u.hours,minutes:u.minutes,seconds:t.enableSeconds?u.seconds:0,milliseconds:0}),S=H(()=>u=>c(u,t[u])||J(u,t[u])),U=H(()=>({hours:t.hours,minutes:t.minutes,seconds:t.seconds})),J=(u,V)=>v.value.enabled&&!v.value.disableTimeRangeValidation?!t.validateTime(u,V):!1,N=(u,V)=>{if(v.value.enabled&&!v.value.disableTimeRangeValidation){const de=V?+t[`${u}Increment`]:-+t[`${u}Increment`],b=t[u]+de;return!t.validateTime(u,b)}return!1},G=H(()=>u=>!D(+t[u]+ +t[`${u}Increment`],u)||N(u,!0)),O=H(()=>u=>!D(+t[u]-+t[`${u}Increment`],u)||N(u,!1)),j=(u,V)=>sl(Ae(F(),u),V),se=(u,V)=>nn(Ae(F(),u),V),T=H(()=>({dp__time_col:!0,dp__time_col_block:!t.timePickerInline,dp__time_col_reg_block:!t.enableSeconds&&t.is24&&!t.timePickerInline,dp__time_col_reg_inline:!t.enableSeconds&&t.is24&&t.timePickerInline,dp__time_col_reg_with_button:!t.enableSeconds&&!t.is24,dp__time_col_sec:t.enableSeconds&&t.is24,dp__time_col_sec_with_button:t.enableSeconds&&!t.is24})),I=H(()=>{const u=[{type:"hours"}];return t.enableMinutes&&u.push({type:"",separator:!0},{type:"minutes"}),t.enableSeconds&&u.push({type:"",separator:!0},{type:"seconds"}),u}),re=H(()=>I.value.filter(u=>!u.separator)),s=H(()=>u=>{if(u==="hours"){const V=d(+t.hours);return{text:V<10?`0${V}`:`${V}`,value:V}}return{text:t[u]<10?`0${t[u]}`:`${t[u]}`,value:t[u]}}),c=(u,V)=>{var de;if(!t.disabledTimesConfig)return!1;const b=t.disabledTimesConfig(t.order,u==="hours"?V:void 0);return b[u]?!!((de=b[u])!=null&&de.includes(V)):!0},h=(u,V)=>V!=="hours"||_.value==="AM"?u:u+12,L=u=>{const V=t.is24?24:12,de=u==="hours"?V:60,b=+t[`${u}GridIncrement`],fe=u==="hours"&&!t.is24?b:0,g=[];for(let K=fe;K<de;K+=b)g.push({value:t.is24?K:h(K,u),text:K<10?`0${K}`:`${K}`});return u==="hours"&&!t.is24&&g.unshift({value:_.value==="PM"?12:0,text:"12"}),Ya(g,K=>({active:!1,disabled:P.value.times[u].includes(K.value)||!D(K.value,u)||c(u,K.value)||J(u,K.value)}))},ne=u=>u>=0?u:59,ce=u=>u>=0?u:23,D=(u,V)=>{const de=t.minTime?Y(kt(t.minTime)):null,b=t.maxTime?Y(kt(t.maxTime)):null,fe=Y(kt(U.value,V,V==="minutes"||V==="seconds"?ne(u):ce(u)));return de&&b?(Ua(fe,b)||Ca(fe,b))&&(Pa(fe,de)||Ca(fe,de)):de?Pa(fe,de)||Ca(fe,de):b?Ua(fe,b)||Ca(fe,b):!0},C=u=>t[`no${u[0].toUpperCase()+u.slice(1)}Overlay`],r=u=>{C(u)||(M[u]=!M[u],M[u]?l("overlay-opened",u):l("overlay-closed",u))},k=u=>u==="hours"?va:u==="minutes"?ba:Oa,le=()=>{q.value&&clearTimeout(q.value)},ee=(u,V=!0,de)=>{const b=V?j:se,fe=V?+t[`${u}Increment`]:-+t[`${u}Increment`];D(+t[u]+fe,u)&&l(`update:${u}`,k(u)(b({[u]:+t[u]},{[u]:+t[`${u}Increment`]}))),!(de!=null&&de.keyboard)&&w.value.timeArrowHoldThreshold&&(q.value=setTimeout(()=>{ee(u,V)},w.value.timeArrowHoldThreshold))},d=u=>t.is24?u:(u>=12?_.value="PM":_.value="AM",cn(u)),oe=()=>{_.value==="PM"?(_.value="AM",l("update:hours",t.hours-12)):(_.value="PM",l("update:hours",t.hours+12)),l("am-pm-change",_.value)},B=u=>{M[u]=!0},me=(u,V,de)=>{if(u&&t.arrowNavigation){Array.isArray(ae.value[V])?ae.value[V][de]=u:ae.value[V]=[u];const b=ae.value.reduce((fe,g)=>g.map((K,Me)=>[...fe[Me]||[],g[Me]]),[]);p(t.closeTimePickerBtn),Q.value&&(b[1]=b[1].concat(Q.value)),m(b,t.order)}},te=(u,V)=>(r(u),l(`update:${u}`,V));return a({openChildCmp:B}),(u,V)=>{var de;return u.disabled?E("",!0):($(),z("div",tr,[($(!0),z(we,null,xe(I.value,(b,fe)=>{var g,K,Me;return $(),z("div",{key:fe,class:$e(T.value)},[b.separator?($(),z(we,{key:0},[ca(" : ")],64)):($(),z(we,{key:1},[ye("button",{ref_for:!0,ref:pe=>me(pe,fe,0),type:"button",class:$e({dp__btn:!0,dp__inc_dec_button:!u.timePickerInline,dp__inc_dec_button_inline:u.timePickerInline,dp__tp_inline_btn_top:u.timePickerInline,dp__inc_dec_button_disabled:G.value(b.type)}),"data-test":`${b.type}-time-inc-btn-${t.order}`,"aria-label":(g=i(o))==null?void 0:g.incrementValue(b.type),tabindex:"0",onKeydown:pe=>i(Qe)(pe,()=>ee(b.type,!0,{keyboard:!0}),!0),onClick:pe=>i(w).timeArrowHoldThreshold?void 0:ee(b.type,!0),onMousedown:pe=>i(w).timeArrowHoldThreshold?ee(b.type,!0):void 0,onMouseup:le},[t.timePickerInline?($(),z(we,{key:1},[nr,rr],64)):($(),z(we,{key:0},[u.$slots["arrow-up"]?ie(u.$slots,"arrow-up",{key:0}):E("",!0),u.$slots["arrow-up"]?E("",!0):($(),ke(i(Ft),{key:1}))],64))],42,lr),ye("button",{ref_for:!0,ref:pe=>me(pe,fe,1),type:"button","aria-label":(K=i(o))==null?void 0:K.openTpOverlay(b.type),class:$e({dp__time_display:!0,dp__time_display_block:!u.timePickerInline,dp__time_display_inline:u.timePickerInline,"dp--time-invalid":S.value(b.type),"dp--time-overlay-btn":!S.value(b.type)}),disabled:C(b.type),tabindex:"0","data-test":`${b.type}-toggle-overlay-btn-${t.order}`,onKeydown:pe=>i(Qe)(pe,()=>r(b.type),!0),onClick:pe=>r(b.type)},[u.$slots[b.type]?ie(u.$slots,b.type,{key:0,text:s.value(b.type).text,value:s.value(b.type).value}):E("",!0),u.$slots[b.type]?E("",!0):($(),z(we,{key:1},[ca(Le(s.value(b.type).text),1)],64))],42,or),ye("button",{ref_for:!0,ref:pe=>me(pe,fe,2),type:"button",class:$e({dp__btn:!0,dp__inc_dec_button:!u.timePickerInline,dp__inc_dec_button_inline:u.timePickerInline,dp__tp_inline_btn_bottom:u.timePickerInline,dp__inc_dec_button_disabled:O.value(b.type)}),"data-test":`${b.type}-time-dec-btn-${t.order}`,"aria-label":(Me=i(o))==null?void 0:Me.decrementValue(b.type),tabindex:"0",onKeydown:pe=>i(Qe)(pe,()=>ee(b.type,!1,{keyboard:!0}),!0),onClick:pe=>i(w).timeArrowHoldThreshold?void 0:ee(b.type,!1),onMousedown:pe=>i(w).timeArrowHoldThreshold?ee(b.type,!1):void 0,onMouseup:le},[t.timePickerInline?($(),z(we,{key:1},[ir,sr],64)):($(),z(we,{key:0},[u.$slots["arrow-down"]?ie(u.$slots,"arrow-down",{key:0}):E("",!0),u.$slots["arrow-down"]?E("",!0):($(),ke(i(Lt),{key:1}))],64))],42,ur)],64))],2)}),128)),u.is24?E("",!0):($(),z("div",dr,[u.$slots["am-pm-button"]?ie(u.$slots,"am-pm-button",{key:0,toggle:oe,value:_.value}):E("",!0),u.$slots["am-pm-button"]?E("",!0):($(),z("button",{key:1,ref_key:"amPmButton",ref:Q,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(de=i(o))==null?void 0:de.amPmButton,tabindex:"0",onClick:oe,onKeydown:V[0]||(V[0]=b=>i(Qe)(b,()=>oe(),!0))},Le(_.value),41,cr))])),($(!0),z(we,null,xe(re.value,(b,fe)=>($(),ke(Va,{key:fe,name:i(f)(M[b.type]),css:i(A)},{default:ge(()=>[M[b.type]?($(),ke(Xa,{key:0,items:L(b.type),"is-last":u.autoApply&&!i(w).keepActionRow,"esc-close":u.escClose,type:b.type,"text-input":u.textInput,config:u.config,"arrow-navigation":u.arrowNavigation,"aria-labels":u.ariaLabels,onSelected:g=>te(b.type,g),onToggle:g=>r(b.type),onResetFlow:V[1]||(V[1]=g=>u.$emit("reset-flow"))},ze({"button-icon":ge(()=>[u.$slots["clock-icon"]?ie(u.$slots,"clock-icon",{key:0}):E("",!0),u.$slots["clock-icon"]?E("",!0):($(),ke(ut(u.timePickerInline?i(Na):i(Bt)),{key:1}))]),_:2},[u.$slots[`${b.type}-overlay-value`]?{name:"item",fn:ge(({item:g})=>[ie(u.$slots,`${b.type}-overlay-value`,{text:g.text,value:g.value})]),key:"0"}:void 0,u.$slots[`${b.type}-overlay-header`]?{name:"header",fn:ge(()=>[ie(u.$slots,`${b.type}-overlay-header`,{toggle:()=>r(b.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","onSelected","onToggle"])):E("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),pr={class:"dp--tp-wrap"},mr=["aria-label","tabindex"],yr=["tabindex"],fr=["aria-label"],Il=Ne({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...la},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(e,{expose:a,emit:n}){const l=n,t=e,{buildMatrix:m,setTimePicker:p}=_a(),o=Sa(),{defaultedTransitions:R,defaultedAriaLabels:P,defaultedTextInput:w,defaultedConfig:v,defaultedRange:f}=Re(t),{transitionName:A,showTransition:M}=Wa(R),{hideNavigationButtons:_}=vt(),Q=Z(null),ae=Z(null),q=Z([]),Y=Z(null);je(()=>{l("mount"),!t.timePicker&&t.arrowNavigation?m([Oe(Q.value)],"time"):p(!0,t.timePicker)});const S=H(()=>f.value.enabled&&t.modelAuto?bl(t.internalModelValue):!0),U=Z(!1),J=h=>({hours:Array.isArray(t.hours)?t.hours[h]:t.hours,minutes:Array.isArray(t.minutes)?t.minutes[h]:t.minutes,seconds:Array.isArray(t.seconds)?t.seconds[h]:t.seconds}),N=H(()=>{const h=[];if(f.value.enabled)for(let L=0;L<2;L++)h.push(J(L));else h.push(J(0));return h}),G=(h,L=!1,ne="")=>{L||l("reset-flow"),U.value=h,l(h?"overlay-opened":"overlay-closed",Fe.time),t.arrowNavigation&&p(h),ea(()=>{ne!==""&&q.value[0]&&q.value[0].openChildCmp(ne)})},O=H(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:t.autoApply&&!v.value.keepActionRow})),j=We(o,"timePicker"),se=(h,L,ne)=>f.value.enabled?L===0?[h,N.value[1][ne]]:[N.value[0][ne],h]:h,T=h=>{l("update:hours",h)},I=h=>{l("update:minutes",h)},re=h=>{l("update:seconds",h)},s=()=>{if(Y.value&&!w.value.enabled&&!t.noOverlayFocus){const h=_l(Y.value);h&&h.focus({preventScroll:!0})}},c=h=>{l("overlay-closed",h)};return a({toggleTimePicker:G}),(h,L)=>{var ne;return $(),z("div",pr,[!h.timePicker&&!h.timePickerInline?tt(($(),z("button",{key:0,ref_key:"openTimePickerBtn",ref:Q,type:"button",class:$e(O.value),"aria-label":(ne=i(P))==null?void 0:ne.openTimePicker,tabindex:h.noOverlayFocus?void 0:0,"data-test":"open-time-picker-btn",onKeydown:L[0]||(L[0]=ce=>i(Qe)(ce,()=>G(!0))),onClick:L[1]||(L[1]=ce=>G(!0))},[h.$slots["clock-icon"]?ie(h.$slots,"clock-icon",{key:0}):E("",!0),h.$slots["clock-icon"]?E("",!0):($(),ke(i(Bt),{key:1}))],42,mr)),[[lt,!i(_)(h.hideNavigation,"time")]]):E("",!0),Ge(Va,{name:i(A)(U.value),css:i(M)&&!h.timePickerInline},{default:ge(()=>{var ce;return[U.value||h.timePicker||h.timePickerInline?($(),z("div",{key:0,ref_key:"overlayRef",ref:Y,class:$e({dp__overlay:!h.timePickerInline,"dp--overlay-absolute":!t.timePicker&&!h.timePickerInline,"dp--overlay-relative":t.timePicker}),style:Ze(h.timePicker?{height:`${i(v).modeHeight}px`}:void 0),tabindex:h.timePickerInline?void 0:0},[ye("div",{class:$e(h.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[h.$slots["time-picker-overlay"]?ie(h.$slots,"time-picker-overlay",{key:0,hours:e.hours,minutes:e.minutes,seconds:e.seconds,setHours:T,setMinutes:I,setSeconds:re}):E("",!0),h.$slots["time-picker-overlay"]?E("",!0):($(),z("div",{key:1,class:$e(h.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[($(!0),z(we,null,xe(N.value,(D,C)=>tt(($(),ke(vr,Ie({key:C,ref_for:!0},{...h.$props,order:C,hours:D.hours,minutes:D.minutes,seconds:D.seconds,closeTimePickerBtn:ae.value,disabledTimesConfig:e.disabledTimesConfig,disabled:C===0?h.fixedStart:h.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:q,"validate-time":(r,k)=>e.validateTime(r,se(k,C,r)),"onUpdate:hours":r=>T(se(r,C,"hours")),"onUpdate:minutes":r=>I(se(r,C,"minutes")),"onUpdate:seconds":r=>re(se(r,C,"seconds")),onMounted:s,onOverlayClosed:c,onOverlayOpened:L[2]||(L[2]=r=>h.$emit("overlay-opened",r)),onAmPmChange:L[3]||(L[3]=r=>h.$emit("am-pm-change",r))}),ze({_:2},[xe(i(j),(r,k)=>({name:r,fn:ge(le=>[ie(h.$slots,r,Ie({ref_for:!0},le))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[lt,C===0?!0:S.value]])),128))],2)),!h.timePicker&&!h.timePickerInline?tt(($(),z("button",{key:2,ref_key:"closeTimePickerBtn",ref:ae,type:"button",class:$e(O.value),"aria-label":(ce=i(P))==null?void 0:ce.closeTimePicker,tabindex:"0",onKeydown:L[4]||(L[4]=D=>i(Qe)(D,()=>G(!1))),onClick:L[5]||(L[5]=D=>G(!1))},[h.$slots["calendar-icon"]?ie(h.$slots,"calendar-icon",{key:0}):E("",!0),h.$slots["calendar-icon"]?E("",!0):($(),ke(i(Na),{key:1}))],42,fr)),[[lt,!i(_)(h.hideNavigation,"time")]]):E("",!0)],2)],14,yr)):E("",!0)]}),_:3},8,["name","css"])])}}}),Vl=(e,a,n,l)=>{const{defaultedRange:t}=Re(e),m=(Y,S)=>Array.isArray(a[Y])?a[Y][S]:a[Y],p=Y=>e.enableSeconds?Array.isArray(a.seconds)?a.seconds[Y]:a.seconds:0,o=(Y,S)=>Y?S!==void 0?ga(Y,m("hours",S),m("minutes",S),p(S)):ga(Y,a.hours,a.minutes,p()):pl(F(),p(S)),R=(Y,S)=>{a[Y]=S},P=H(()=>e.modelAuto&&t.value.enabled?Array.isArray(n.value)?n.value.length>1:!1:t.value.enabled),w=(Y,S)=>{const U=Object.fromEntries(Object.keys(a).map(J=>J===Y?[J,S]:[J,a[J]].slice()));if(P.value&&!t.value.disableTimeRangeValidation){const J=G=>n.value?ga(n.value[G],U.hours[G],U.minutes[G],U.seconds[G]):null,N=G=>ml(n.value[G],0);return!(_e(J(0),J(1))&&(Pa(J(0),N(1))||Ua(J(1),N(0))))}return!0},v=(Y,S)=>{w(Y,S)&&(R(Y,S),l&&l())},f=Y=>{v("hours",Y)},A=Y=>{v("minutes",Y)},M=Y=>{v("seconds",Y)},_=(Y,S,U,J)=>{S&&f(Y),!S&&!U&&A(Y),U&&M(Y),n.value&&J(n.value)},Q=Y=>{if(Y){const S=Array.isArray(Y),U=S?[+Y[0].hours,+Y[1].hours]:+Y.hours,J=S?[+Y[0].minutes,+Y[1].minutes]:+Y.minutes,N=S?[+Y[0].seconds,+Y[1].seconds]:+Y.seconds;R("hours",U),R("minutes",J),e.enableSeconds&&R("seconds",N)}},ae=(Y,S)=>{const U={hours:Array.isArray(a.hours)?a.hours[Y]:a.hours,disabledArr:[]};return(S||S===0)&&(U.hours=S),Array.isArray(e.disabledTimes)&&(U.disabledArr=t.value.enabled&&Array.isArray(e.disabledTimes[Y])?e.disabledTimes[Y]:e.disabledTimes),U},q=H(()=>(Y,S)=>{var U;if(Array.isArray(e.disabledTimes)){const{disabledArr:J,hours:N}=ae(Y,S),G=J.filter(O=>+O.hours===N);return((U=G[0])==null?void 0:U.minutes)==="*"?{hours:[N],minutes:void 0,seconds:void 0}:{hours:[],minutes:(G==null?void 0:G.map(O=>+O.minutes))??[],seconds:(G==null?void 0:G.map(O=>O.seconds?+O.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:R,updateHours:f,updateMinutes:A,updateSeconds:M,getSetDateTime:o,updateTimeValues:_,getSecondsValue:p,assignStartTime:Q,validateTime:w,disabledTimesConfig:q}},hr=(e,a)=>{const{modelValue:n,time:l}=Ja(e,a),{defaultedStartTime:t,defaultedRange:m}=Re(e),{updateTimeValues:p,getSetDateTime:o,setTime:R,assignStartTime:P,disabledTimesConfig:w,validateTime:v}=Vl(e,l,n,f);function f(){a("update-flow-step")}const A=S=>{const{hours:U,minutes:J,seconds:N}=S;return{hours:+U,minutes:+J,seconds:N?+N:0}},M=()=>{if(e.startTime){if(Array.isArray(e.startTime)){const U=A(e.startTime[0]),J=A(e.startTime[1]);return[Ae(F(),U),Ae(F(),J)]}const S=A(e.startTime);return Ae(F(),S)}return m.value.enabled?[null,null]:null},_=()=>{if(m.value.enabled){const[S,U]=M();n.value=[o(S,0),o(U,1)]}else n.value=o(M())},Q=S=>Array.isArray(S)?[xa(F(S[0])),xa(F(S[1]))]:[xa(S??F())],ae=(S,U,J)=>{R("hours",S),R("minutes",U),R("seconds",e.enableSeconds?J:0)},q=()=>{const[S,U]=Q(n.value);return m.value.enabled?ae([S.hours,U.hours],[S.minutes,U.minutes],[S.seconds,U.seconds]):ae(S.hours,S.minutes,S.seconds)};je(()=>{if(!e.shadow)return P(t.value),n.value?q():_()});const Y=()=>{Array.isArray(n.value)?n.value=n.value.map((S,U)=>S&&o(S,U)):n.value=o(n.value),a("time-update")};return{modelValue:n,time:l,disabledTimesConfig:w,updateTime:(S,U=!0,J=!1)=>{p(S,U,J,Y)},validateTime:v}},gr=Ne({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...la},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(e,{expose:a,emit:n}){const l=n,t=e,m=Sa(),p=We(m,"timePicker"),o=Z(null),{time:R,modelValue:P,disabledTimesConfig:w,updateTime:v,validateTime:f}=hr(t,l);return je(()=>{t.shadow||l("mount",null)}),a({getSidebarProps:()=>({modelValue:P,time:R,updateTime:v}),toggleTimePicker:(A,M=!1,_="")=>{var Q;(Q=o.value)==null||Q.toggleTimePicker(A,M,_)}}),(A,M)=>($(),ke(dt,{"multi-calendars":0,stretch:""},{default:ge(()=>[Ge(Il,Ie({ref_key:"tpRef",ref:o},A.$props,{hours:i(R).hours,minutes:i(R).minutes,seconds:i(R).seconds,"internal-model-value":A.internalModelValue,"disabled-times-config":i(w),"validate-time":i(f),"onUpdate:hours":M[0]||(M[0]=_=>i(v)(_)),"onUpdate:minutes":M[1]||(M[1]=_=>i(v)(_,!1)),"onUpdate:seconds":M[2]||(M[2]=_=>i(v)(_,!1,!0)),onAmPmChange:M[3]||(M[3]=_=>A.$emit("am-pm-change",_)),onResetFlow:M[4]||(M[4]=_=>A.$emit("reset-flow")),onOverlayClosed:M[5]||(M[5]=_=>A.$emit("overlay-toggle",{open:!1,overlay:_})),onOverlayOpened:M[6]||(M[6]=_=>A.$emit("overlay-toggle",{open:!0,overlay:_}))}),ze({_:2},[xe(i(p),(_,Q)=>({name:_,fn:ge(ae=>[ie(A.$slots,_,Ve(qe(ae)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),br={class:"dp--header-wrap"},_r={key:0,class:"dp__month_year_wrap"},wr={key:0},kr={class:"dp__month_year_wrap"},Mr=["aria-label","data-test","onClick","onKeydown"],$r=Ne({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...la},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(e,{expose:a,emit:n}){const l=n,t=e,{defaultedTransitions:m,defaultedAriaLabels:p,defaultedMultiCalendars:o,defaultedFilters:R,defaultedConfig:P,defaultedHighlight:w,propDates:v}=Re(t),{transitionName:f,showTransition:A}=Wa(m),{buildMatrix:M}=_a(),{handleMonthYearChange:_,isDisabled:Q,updateMonthYear:ae}=jn(t,l),{showLeftIcon:q,showRightIcon:Y}=vt(),S=Z(!1),U=Z(!1),J=Z([null,null,null,null]);je(()=>{l("mount")});const N=D=>({get:()=>t[D],set:C=>{const r=D===aa.month?aa.year:aa.month;l("update-month-year",{[D]:C,[r]:t[r]}),D===aa.month?s(!0):c(!0)}}),G=H(N(aa.month)),O=H(N(aa.year)),j=H(()=>D=>({month:t.month,year:t.year,items:D===aa.month?t.months:t.years,instance:t.instance,updateMonthYear:ae,toggle:D===aa.month?s:c})),se=H(()=>t.months.find(C=>C.value===t.month)||{text:"",value:0}),T=H(()=>Ya(t.months,D=>{const C=t.month===D.value,r=qa(D.value,kl(t.year,v.value.minDate),Ml(t.year,v.value.maxDate))||R.value.months.includes(D.value),k=Sl(w.value,D.value,t.year);return{active:C,disabled:r,highlighted:k}})),I=H(()=>Ya(t.years,D=>{const C=t.year===D.value,r=qa(D.value,Ia(v.value.minDate),Ia(v.value.maxDate))||R.value.years.includes(D.value),k=Ut(w.value,D.value);return{active:C,disabled:r,highlighted:k}})),re=(D,C,r)=>{r!==void 0?D.value=r:D.value=!D.value,D.value?l("overlay-opened",C):l("overlay-closed",C)},s=(D=!1,C)=>{h(D),re(S,Fe.month,C)},c=(D=!1,C)=>{h(D),re(U,Fe.year,C)},h=D=>{D||l("reset-flow")},L=(D,C)=>{t.arrowNavigation&&(J.value[C]=Oe(D),M(J.value,"monthYear"))},ne=H(()=>{var D,C;return[{type:aa.month,index:1,toggle:s,modelValue:G.value,updateModelValue:r=>G.value=r,text:se.value.text,showSelectionGrid:S.value,items:T.value,ariaLabel:(D=p.value)==null?void 0:D.openMonthsOverlay},{type:aa.year,index:2,toggle:c,modelValue:O.value,updateModelValue:r=>O.value=r,text:wl(t.year,t.locale),showSelectionGrid:U.value,items:I.value,ariaLabel:(C=p.value)==null?void 0:C.openYearsOverlay}]}),ce=H(()=>t.disableYearSelect?[ne.value[0]]:t.yearFirst?[...ne.value].reverse():ne.value);return a({toggleMonthPicker:s,toggleYearPicker:c,handleMonthYearChange:_}),(D,C)=>{var r,k,le;return $(),z("div",br,[D.$slots["month-year"]?($(),z("div",_r,[ie(D.$slots,"month-year",Ve(qe({month:e.month,year:e.year,months:e.months,years:e.years,updateMonthYear:i(ae),handleMonthYearChange:i(_),instance:e.instance})))])):($(),z(we,{key:1},[D.$slots["top-extra"]?($(),z("div",wr,[ie(D.$slots,"top-extra",{value:D.internalModelValue})])):E("",!0),ye("div",kr,[i(q)(i(o),e.instance)&&!D.vertical?($(),ke(ja,{key:0,"aria-label":(r=i(p))==null?void 0:r.prevMonth,disabled:i(Q)(!1),onActivate:C[0]||(C[0]=ee=>i(_)(!1,!0)),onSetRef:C[1]||(C[1]=ee=>L(ee,0))},{default:ge(()=>[D.$slots["arrow-left"]?ie(D.$slots,"arrow-left",{key:0}):E("",!0),D.$slots["arrow-left"]?E("",!0):($(),ke(i(Vt),{key:1}))]),_:3},8,["aria-label","disabled"])):E("",!0),ye("div",{class:$e(["dp__month_year_wrap",{dp__year_disable_select:D.disableYearSelect}])},[($(!0),z(we,null,xe(ce.value,(ee,d)=>($(),z(we,{key:ee.type},[ye("button",{ref_for:!0,ref:oe=>L(oe,d+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":ee.ariaLabel,"data-test":`${ee.type}-toggle-overlay-${e.instance}`,onClick:ee.toggle,onKeydown:oe=>i(Qe)(oe,()=>ee.toggle(),!0)},[D.$slots[ee.type]?ie(D.$slots,ee.type,{key:0,text:ee.text,value:t[ee.type]}):E("",!0),D.$slots[ee.type]?E("",!0):($(),z(we,{key:1},[ca(Le(ee.text),1)],64))],40,Mr),Ge(Va,{name:i(f)(ee.showSelectionGrid),css:i(A)},{default:ge(()=>[ee.showSelectionGrid?($(),ke(Xa,{key:0,items:ee.items,"arrow-navigation":D.arrowNavigation,"hide-navigation":D.hideNavigation,"is-last":D.autoApply&&!i(P).keepActionRow,"skip-button-ref":!1,config:D.config,type:ee.type,"header-refs":[],"esc-close":D.escClose,"menu-wrap-ref":D.menuWrapRef,"text-input":D.textInput,"aria-labels":D.ariaLabels,onSelected:ee.updateModelValue,onToggle:ee.toggle},ze({"button-icon":ge(()=>[D.$slots["calendar-icon"]?ie(D.$slots,"calendar-icon",{key:0}):E("",!0),D.$slots["calendar-icon"]?E("",!0):($(),ke(i(Na),{key:1}))]),_:2},[D.$slots[`${ee.type}-overlay-value`]?{name:"item",fn:ge(({item:oe})=>[ie(D.$slots,`${ee.type}-overlay-value`,{text:oe.text,value:oe.value})]),key:"0"}:void 0,D.$slots[`${ee.type}-overlay`]?{name:"overlay",fn:ge(()=>[ie(D.$slots,`${ee.type}-overlay`,Ie({ref_for:!0},j.value(ee.type)))]),key:"1"}:void 0,D.$slots[`${ee.type}-overlay-header`]?{name:"header",fn:ge(()=>[ie(D.$slots,`${ee.type}-overlay-header`,{toggle:ee.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","onSelected","onToggle"])):E("",!0)]),_:2},1032,["name","css"])],64))),128))],2),i(q)(i(o),e.instance)&&D.vertical?($(),ke(ja,{key:1,"aria-label":(k=i(p))==null?void 0:k.prevMonth,disabled:i(Q)(!1),onActivate:C[2]||(C[2]=ee=>i(_)(!1,!0))},{default:ge(()=>[D.$slots["arrow-up"]?ie(D.$slots,"arrow-up",{key:0}):E("",!0),D.$slots["arrow-up"]?E("",!0):($(),ke(i(Ft),{key:1}))]),_:3},8,["aria-label","disabled"])):E("",!0),i(Y)(i(o),e.instance)?($(),ke(ja,{key:2,ref:"rightIcon",disabled:i(Q)(!0),"aria-label":(le=i(p))==null?void 0:le.nextMonth,onActivate:C[3]||(C[3]=ee=>i(_)(!0,!0)),onSetRef:C[4]||(C[4]=ee=>L(ee,D.disableYearSelect?2:3))},{default:ge(()=>[D.$slots[D.vertical?"arrow-down":"arrow-right"]?ie(D.$slots,D.vertical?"arrow-down":"arrow-right",{key:0}):E("",!0),D.$slots[D.vertical?"arrow-down":"arrow-right"]?E("",!0):($(),ke(ut(D.vertical?i(Lt):i(Nt)),{key:1}))]),_:3},8,["disabled","aria-label"])):E("",!0)])],64))])}}}),Ar=["aria-label"],Dr={class:"dp__calendar_header",role:"row"},xr={key:0,class:"dp__calendar_header_item",role:"gridcell"},Sr=["aria-label"],Rr=ye("div",{class:"dp__calendar_header_separator"},null,-1),Tr=["aria-label"],Cr={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},Pr={class:"dp__cell_inner"},Or=["id","aria-selected","aria-disabled","aria-label","data-test","onClick","onKeydown","onMouseenter","onMouseleave","onMousedown"],Yr=Ne({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...la},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(e,{expose:a,emit:n}){const l=n,t=e,{buildMultiLevelMatrix:m}=_a(),{defaultedTransitions:p,defaultedConfig:o,defaultedAriaLabels:R,defaultedMultiCalendars:P,defaultedWeekNumbers:w,defaultedMultiDates:v}=Re(t),f=Z(null),A=Z({bottom:"",left:"",transform:""}),M=Z([]),_=Z(null),Q=Z(!0),ae=Z(""),q=Z({startX:0,endX:0,startY:0,endY:0}),Y=Z([]),S=Z({left:"50%"}),U=Z(!1),J=H(()=>t.calendar?t.calendar(t.mappedDates):t.mappedDates),N=H(()=>t.dayNames?Array.isArray(t.dayNames)?t.dayNames:t.dayNames(t.locale,+t.weekStart):dn(t.formatLocale,t.locale,+t.weekStart));je(()=>{l("mount",{cmp:"calendar",refs:M}),o.value.noSwipe||_.value&&(_.value.addEventListener("touchstart",L,{passive:!1}),_.value.addEventListener("touchend",ne,{passive:!1}),_.value.addEventListener("touchmove",ce,{passive:!1})),t.monthChangeOnScroll&&_.value&&_.value.addEventListener("wheel",r,{passive:!1})});const G=B=>B?t.vertical?"vNext":"next":t.vertical?"vPrevious":"previous",O=(B,me)=>{if(t.transitions){const te=Ue(da(F(),t.month,t.year));ae.value=Pe(Ue(da(F(),B,me)),te)?p.value[G(!0)]:p.value[G(!1)],Q.value=!1,ea(()=>{Q.value=!0})}},j=H(()=>({[t.calendarClassName]:!!t.calendarClassName})),se=H(()=>B=>{const me=vn(B);return{dp__marker_dot:me.type==="dot",dp__marker_line:me.type==="line"}}),T=H(()=>B=>_e(B,f.value)),I=H(()=>({dp__calendar:!0,dp__calendar_next:P.value.count>0&&t.instance!==0})),re=H(()=>B=>t.hideOffsetDates?B.current:!0),s=async(B,me,te)=>{const u=Oe(M.value[me][te]);if(u){const{width:V,height:de}=u.getBoundingClientRect();f.value=B.value;let b={left:`${V/2}px`},fe=-50;if(await ea(),Y.value[0]){const{left:g,width:K}=Y.value[0].getBoundingClientRect();g<0&&(b={left:"0"},fe=0,S.value.left=`${V/2}px`),window.innerWidth<g+K&&(b={right:"0"},fe=0,S.value.left=`${K-V/2}px`)}A.value={bottom:`${de}px`,...b,transform:`translateX(${fe}%)`},l("tooltip-open",B.marker)}},c=async(B,me,te)=>{var u,V;if(U.value&&v.value.enabled&&v.value.dragSelect)return l("select-date",B);l("set-hover-date",B),(V=(u=B.marker)==null?void 0:u.tooltip)!=null&&V.length&&await s(B,me,te)},h=B=>{f.value&&(f.value=null,A.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),l("tooltip-close",B.marker))},L=B=>{q.value.startX=B.changedTouches[0].screenX,q.value.startY=B.changedTouches[0].screenY},ne=B=>{q.value.endX=B.changedTouches[0].screenX,q.value.endY=B.changedTouches[0].screenY,D()},ce=B=>{t.vertical&&!t.inline&&B.preventDefault()},D=()=>{const B=t.vertical?"Y":"X";Math.abs(q.value[`start${B}`]-q.value[`end${B}`])>10&&l("handle-swipe",q.value[`start${B}`]>q.value[`end${B}`]?"right":"left")},C=(B,me,te)=>{B&&(Array.isArray(M.value[me])?M.value[me][te]=B:M.value[me]=[B]),t.arrowNavigation&&m(M.value,"calendar")},r=B=>{t.monthChangeOnScroll&&(B.preventDefault(),l("handle-scroll",B))},k=B=>w.value.type==="local"?en(B.value,{weekStartsOn:+t.weekStart}):w.value.type==="iso"?an(B.value):typeof w.value.type=="function"?w.value.type(B.value):"",le=B=>{const me=B[0];return w.value.hideOnOffsetDates?B.some(te=>te.current)?k(me):"":k(me)},ee=(B,me)=>{v.value.enabled||(ha(B,o.value),l("select-date",me))},d=B=>{ha(B,o.value)},oe=B=>{v.value.enabled&&v.value.dragSelect?(U.value=!0,l("select-date",B)):v.value.enabled&&l("select-date",B)};return a({triggerTransition:O}),(B,me)=>{var te;return $(),z("div",{class:$e(I.value)},[ye("div",{ref_key:"calendarWrapRef",ref:_,role:"grid",class:$e(j.value),"aria-label":(te=i(R))==null?void 0:te.calendarWrap},[ye("div",Dr,[B.weekNumbers?($(),z("div",xr,Le(B.weekNumName),1)):E("",!0),($(!0),z(we,null,xe(N.value,(u,V)=>{var de,b;return $(),z("div",{key:V,class:"dp__calendar_header_item",role:"gridcell","data-test":"calendar-header","aria-label":(b=(de=i(R))==null?void 0:de.weekDay)==null?void 0:b.call(de,V)},[B.$slots["calendar-header"]?ie(B.$slots,"calendar-header",{key:0,day:u,index:V}):E("",!0),B.$slots["calendar-header"]?E("",!0):($(),z(we,{key:1},[ca(Le(u),1)],64))],8,Sr)}),128))]),Rr,Ge(Va,{name:ae.value,css:!!B.transitions},{default:ge(()=>{var u;return[Q.value?($(),z("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((u=i(R))==null?void 0:u.calendarDays)||void 0,onMouseleave:me[1]||(me[1]=V=>U.value=!1)},[($(!0),z(we,null,xe(J.value,(V,de)=>($(),z("div",{key:de,class:"dp__calendar_row",role:"row"},[B.weekNumbers?($(),z("div",Cr,[ye("div",Pr,Le(le(V.days)),1)])):E("",!0),($(!0),z(we,null,xe(V.days,(b,fe)=>{var g,K,Me;return $(),z("div",{id:i(Rl)(b.value),ref_for:!0,ref:pe=>C(pe,de,fe),key:fe+de,role:"gridcell",class:"dp__calendar_item","aria-selected":(b.classData.dp__active_date||b.classData.dp__range_start||b.classData.dp__range_start)??void 0,"aria-disabled":b.classData.dp__cell_disabled||void 0,"aria-label":(K=(g=i(R))==null?void 0:g.day)==null?void 0:K.call(g,b),tabindex:"0","data-test":b.value,onClick:Ha(pe=>ee(pe,b),["prevent"]),onKeydown:pe=>i(Qe)(pe,()=>B.$emit("select-date",b)),onMouseenter:pe=>c(b,de,fe),onMouseleave:pe=>h(b),onMousedown:pe=>oe(b),onMouseup:me[0]||(me[0]=pe=>U.value=!1)},[ye("div",{class:$e(["dp__cell_inner",b.classData])},[B.$slots.day&&re.value(b)?ie(B.$slots,"day",{key:0,day:+b.text,date:b.value}):E("",!0),B.$slots.day?E("",!0):($(),z(we,{key:1},[ca(Le(b.text),1)],64)),b.marker&&re.value(b)?($(),z(we,{key:2},[B.$slots.marker?ie(B.$slots,"marker",{key:0,marker:b.marker,day:+b.text,date:b.value}):($(),z("div",{key:1,class:$e(se.value(b.marker)),style:Ze(b.marker.color?{backgroundColor:b.marker.color}:{})},null,6))],64)):E("",!0),T.value(b.value)?($(),z("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:Y,class:"dp__marker_tooltip",style:Ze(A.value)},[(Me=b.marker)!=null&&Me.tooltip?($(),z("div",{key:0,class:"dp__tooltip_content",onClick:d},[($(!0),z(we,null,xe(b.marker.tooltip,(pe,Ke)=>($(),z("div",{key:Ke,class:"dp__tooltip_text"},[B.$slots["marker-tooltip"]?ie(B.$slots,"marker-tooltip",{key:0,tooltip:pe,day:b.value}):E("",!0),B.$slots["marker-tooltip"]?E("",!0):($(),z(we,{key:1},[ye("div",{class:"dp__tooltip_mark",style:Ze(pe.color?{backgroundColor:pe.color}:{})},null,4),ye("div",null,Le(pe.text),1)],64))]))),128)),ye("div",{class:"dp__arrow_bottom_tp",style:Ze(S.value)},null,4)])):E("",!0)],4)):E("",!0)],2)],40,Or)}),128))]))),128))],40,Tr)):E("",!0)]}),_:3},8,["name","css"])],10,Ar)],2)}}}),ol=e=>Array.isArray(e),Ir=(e,a,n,l)=>{const t=Z([]),m=Z(new Date),p=Z(),{modelValue:o,calendars:R,time:P,today:w}=Ja(e,a),{defaultedMultiCalendars:v,defaultedStartTime:f,defaultedRange:A,defaultedConfig:M,defaultedTz:_,propDates:Q,defaultedMultiDates:ae}=Re(e),{validateMonthYearInRange:q,isDisabled:Y,isDateRangeAllowed:S,checkMinMaxRange:U}=wa(e),{updateTimeValues:J,getSetDateTime:N,setTime:G,assignStartTime:O,validateTime:j,disabledTimesConfig:se}=Vl(e,P,o,l),T=H(()=>y=>R.value[y]?R.value[y].month:0),I=H(()=>y=>R.value[y]?R.value[y].year:0),re=y=>!M.value.keepViewOnOffsetClick||y?!0:!p.value,s=(y,X,x,W=!1)=>{var ue,He;re(W)&&(R.value[y]||(R.value[y]={month:0,year:0}),R.value[y].month=al(X)?(ue=R.value[y])==null?void 0:ue.month:X,R.value[y].year=al(x)?(He=R.value[y])==null?void 0:He.year:x)},c=()=>{e.autoApply&&a("select-date")};oa(o,(y,X)=>{JSON.stringify(y)!==JSON.stringify(X)&&ne()},{deep:!0}),je(()=>{e.shadow||(o.value||(me(),f.value&&O(f.value)),ne(!0),e.focusStartDate&&e.startDate&&me())});const h=H(()=>{var y;return(y=e.flow)!=null&&y.length&&!e.partialFlow?e.flowStep===e.flow.length:!0}),L=()=>{e.autoApply&&h.value&&a("auto-apply")},ne=(y=!1)=>{if(o.value)return Array.isArray(o.value)?(t.value=o.value,ee(y)):C(o.value,y);if(v.value.count&&y&&!e.startDate)return D(F(),y)},ce=()=>Array.isArray(o.value)&&A.value.enabled?be(o.value[0])===be(o.value[1]??o.value[0]):!1,D=(y,X=!1)=>{if((!v.value.count||!v.value.static||X)&&s(0,be(y),he(y)),v.value.count&&(!v.value.solo||!o.value||ce()))for(let x=1;x<v.value.count;x++){const W=Ae(F(),{month:T.value(x-1),year:I.value(x-1)}),ue=sl(W,{months:1});R.value[x]={month:be(ue),year:he(ue)}}},C=(y,X)=>{D(y),G("hours",va(y)),G("minutes",ba(y)),G("seconds",Oa(y)),v.value.count&&X&&B()},r=y=>{if(v.value.count){if(v.value.solo)return 0;const X=be(y[0]),x=be(y[1]);return Math.abs(x-X)<v.value.count?0:1}return 1},k=(y,X)=>{y[1]&&A.value.showLastInRange?D(y[r(y)],X):D(y[0],X);const x=(W,ue)=>[W(y[0]),y[1]?W(y[1]):P[ue][1]];G("hours",x(va,"hours")),G("minutes",x(ba,"minutes")),G("seconds",x(Oa,"seconds"))},le=(y,X)=>{if((A.value.enabled||e.weekPicker)&&!ae.value.enabled)return k(y,X);if(ae.value.enabled&&X){const x=y[y.length-1];return C(x,X)}},ee=y=>{const X=o.value;le(X,y),v.value.count&&v.value.solo&&B()},d=(y,X)=>{const x=Ae(F(),{month:T.value(X),year:I.value(X)}),W=y<0?Aa(x,1):Ka(x,1);q(be(W),he(W),y<0,e.preventMinMaxNavigation)&&(s(X,be(W),he(W)),a("update-month-year",{instance:X,month:be(W),year:he(W)}),v.value.count&&!v.value.solo&&oe(X),n())},oe=y=>{for(let X=y-1;X>=0;X--){const x=Ka(Ae(F(),{month:T.value(X+1),year:I.value(X+1)}),1);s(X,be(x),he(x))}for(let X=y+1;X<=v.value.count-1;X++){const x=Aa(Ae(F(),{month:T.value(X-1),year:I.value(X-1)}),1);s(X,be(x),he(x))}},B=()=>{if(Array.isArray(o.value)&&o.value.length===2){const y=F(F(o.value[1]?o.value[1]:Aa(o.value[0],1))),[X,x]=[be(o.value[0]),he(o.value[0])],[W,ue]=[be(o.value[1]),he(o.value[1])];(X!==W||X===W&&x!==ue)&&v.value.solo&&s(1,be(y),he(y))}else o.value&&!Array.isArray(o.value)&&(s(0,be(o.value),he(o.value)),D(F()))},me=()=>{e.startDate&&(s(0,be(F(e.startDate)),he(F(e.startDate))),v.value.count&&oe(0))},te=(y,X)=>{if(e.monthChangeOnScroll){const x=new Date().getTime()-m.value.getTime(),W=Math.abs(y.deltaY);let ue=500;W>1&&(ue=100),W>100&&(ue=0),x>ue&&(m.value=new Date,d(e.monthChangeOnScroll!=="inverse"?-y.deltaY:y.deltaY,X))}},u=(y,X,x=!1)=>{e.monthChangeOnArrows&&e.vertical===x&&V(y,X)},V=(y,X)=>{d(y==="right"?-1:1,X)},de=y=>{if(Q.value.markers)return rt(y.value,Q.value.markers)},b=(y,X)=>{switch(e.sixWeeks===!0?"append":e.sixWeeks){case"prepend":return[!0,!1];case"center":return[y==0,!0];case"fair":return[y==0||X>y,!0];case"append":return[!1,!1];default:return[!1,!1]}},fe=(y,X,x,W)=>{if(e.sixWeeks&&y.length<6){const ue=6-y.length,He=(X.getDay()+7-W)%7,Je=6-(x.getDay()+7-W)%7,[ka,Ga]=b(He,Je);for(let La=1;La<=ue;La++)if(Ga?!!(La%2)==ka:ka){const ma=y[0].days[0],_t=g($a(ma.value,-7),be(X));y.unshift({days:_t})}else{const ma=y[y.length-1],_t=ma.days[ma.days.length-1],Bl=g($a(_t.value,1),be(X));y.push({days:Bl})}}return y},g=(y,X)=>{const x=F(y),W=[];for(let ue=0;ue<7;ue++){const He=$a(x,ue),Je=be(He)!==X;W.push({text:e.hideOffsetDates&&Je?"":He.getDate(),value:He,current:!Je,classData:{}})}return W},K=(y,X)=>{const x=[],W=new Date(X,y),ue=new Date(X,y+1,0),He=e.weekStart,Je=It(W,{weekStartsOn:He}),ka=Ga=>{const La=g(Ga,y);if(x.push({days:La}),!x[x.length-1].days.some(ma=>_e(Ue(ma.value),Ue(ue)))){const ma=$a(Ga,7);ka(ma)}};return ka(Je),fe(x,W,ue,He)},Me=y=>{const X=ga(F(y.value),P.hours,P.minutes,Xe());a("date-update",X),ae.value.enabled?Kt(X,o,ae.value.limit):o.value=X,l(),ea().then(()=>{L()})},pe=y=>A.value.noDisabledRange?$l(t.value[0],y).some(X=>Y(X)):!1,Ke=()=>{t.value=o.value?o.value.slice():[],t.value.length===2&&!(A.value.fixedStart||A.value.fixedEnd)&&(t.value=[])},ve=(y,X)=>{const x=[F(y.value),$a(F(y.value),+A.value.autoRange)];S(x)?(X&&pa(y.value),t.value=x):a("invalid-date",y.value)},pa=y=>{const X=be(F(y)),x=he(F(y));if(s(0,X,x),v.value.count>0)for(let W=1;W<v.value.count;W++){const ue=_n(Ae(F(y),{year:T.value(W-1),month:I.value(W-1)}));s(W,ue.month,ue.year)}},na=y=>{if(pe(y.value)||!U(y.value,o.value,A.value.fixedStart?0:1))return a("invalid-date",y.value);t.value=Ol(F(y.value),o,a,A)},Ba=(y,X)=>{if(Ke(),A.value.autoRange)return ve(y,X);if(A.value.fixedStart||A.value.fixedEnd)return na(y);t.value[0]?U(F(y.value),o.value)&&!pe(y.value)?Te(F(y.value),F(t.value[0]))?(t.value.unshift(F(y.value)),a("range-end",t.value[0])):(t.value[1]=F(y.value),a("range-end",t.value[1])):(e.autoApply&&a("auto-apply-invalid",y.value),a("invalid-date",y.value)):(t.value[0]=F(y.value),a("range-start",t.value[0]))},Xe=(y=!0)=>e.enableSeconds?Array.isArray(P.seconds)?y?P.seconds[0]:P.seconds[1]:P.seconds:0,Fa=y=>{t.value[y]=ga(t.value[y],P.hours[y],P.minutes[y],Xe(y!==1))},pt=()=>{var y,X;t.value[0]&&t.value[1]&&+((y=t.value)==null?void 0:y[0])>+((X=t.value)==null?void 0:X[1])&&(t.value.reverse(),a("range-start",t.value[0]),a("range-end",t.value[1]))},Za=()=>{t.value.length&&(t.value[0]&&!t.value[1]?Fa(0):(Fa(0),Fa(1),l()),pt(),o.value=t.value.slice(),ct(t.value,a,e.autoApply,e.modelAuto))},mt=(y,X=!1)=>{if(Y(y.value)||!y.current&&e.hideOffsetDates)return a("invalid-date",y.value);if(p.value=JSON.parse(JSON.stringify(y)),!A.value.enabled)return Me(y);ol(P.hours)&&ol(P.minutes)&&!ae.value.enabled&&(Ba(y,X),Za())},yt=(y,X)=>{var x;s(y,X.month,X.year,!0),v.value.count&&!v.value.solo&&oe(y),a("update-month-year",{instance:y,month:X.month,year:X.year}),n(v.value.solo?y:void 0);const W=(x=e.flow)!=null&&x.length?e.flow[e.flowStep]:void 0;!X.fromNav&&(W===Fe.month||W===Fe.year)&&l()},ft=(y,X)=>{Pl({value:y,modelValue:o,range:A.value.enabled,timezone:X?void 0:_.value.timezone}),c(),e.multiCalendars&&ea().then(()=>ne(!0))},ht=()=>{const y=zt(F(),_.value);A.value.enabled?o.value&&Array.isArray(o.value)&&o.value[0]?o.value=Te(y,o.value[0])?[y,o.value[0]]:[o.value[0],y]:o.value=[y]:o.value=y,c()},gt=()=>{if(Array.isArray(o.value))if(ae.value.enabled){const y=bt();o.value[o.value.length-1]=N(y)}else o.value=o.value.map((y,X)=>y&&N(y,X));else o.value=N(o.value);a("time-update")},bt=()=>Array.isArray(o.value)&&o.value.length?o.value[o.value.length-1]:null;return{calendars:R,modelValue:o,month:T,year:I,time:P,disabledTimesConfig:se,today:w,validateTime:j,getCalendarDays:K,getMarker:de,handleScroll:te,handleSwipe:V,handleArrow:u,selectDate:mt,updateMonthYear:yt,presetDate:ft,selectCurrentDate:ht,updateTime:(y,X=!0,x=!1)=>{J(y,X,x,gt)}}},Vr={key:0},Nr=Ne({__name:"DatePicker",props:{...la},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(e,{expose:a,emit:n}){const l=n,t=e,{calendars:m,month:p,year:o,modelValue:R,time:P,disabledTimesConfig:w,today:v,validateTime:f,getCalendarDays:A,getMarker:M,handleArrow:_,handleScroll:Q,handleSwipe:ae,selectDate:q,updateMonthYear:Y,presetDate:S,selectCurrentDate:U,updateTime:J}=Ir(t,l,ce,D),N=Sa(),{setHoverDate:G,getDayClassData:O,clearHoverDate:j}=Gr(R,t),{defaultedMultiCalendars:se}=Re(t),T=Z([]),I=Z([]),re=Z(null),s=We(N,"calendar"),c=We(N,"monthYear"),h=We(N,"timePicker"),L=te=>{t.shadow||l("mount",te)};oa(m,()=>{t.shadow||setTimeout(()=>{l("recalculate-position")},0)},{deep:!0});const ne=H(()=>te=>A(p.value(te),o.value(te)).map(u=>({...u,days:u.days.map(V=>(V.marker=M(V),V.classData=O(V),V))})));function ce(te){var u;te||te===0?(u=I.value[te])==null||u.triggerTransition(p.value(te),o.value(te)):I.value.forEach((V,de)=>V.triggerTransition(p.value(de),o.value(de)))}function D(){l("update-flow-step")}const C=(te,u=!1)=>{q(te,u),t.spaceConfirm&&l("select-date")},r=(te,u,V=0)=>{var de;(de=T.value[V])==null||de.toggleMonthPicker(te,u)},k=(te,u,V=0)=>{var de;(de=T.value[V])==null||de.toggleYearPicker(te,u)},le=(te,u,V)=>{var de;(de=re.value)==null||de.toggleTimePicker(te,u,V)},ee=(te,u)=>{var V;if(!t.range){const de=R.value?R.value:v,b=u?new Date(u):de,fe=te?It(b,{weekStartsOn:1}):dl(b,{weekStartsOn:1});q({value:fe,current:be(b)===p.value(0),text:"",classData:{}}),(V=document.getElementById(Rl(fe)))==null||V.focus()}},d=te=>{var u;(u=T.value[0])==null||u.handleMonthYearChange(te,!0)},oe=te=>{Y(0,{month:p.value(0),year:o.value(0)+(te?1:-1),fromNav:!0})},B=(te,u)=>{te===Fe.time&&l(`time-picker-${u?"open":"close"}`),l("overlay-toggle",{open:u,overlay:te})},me=te=>{l("overlay-toggle",{open:!1,overlay:te}),l("focus-menu")};return a({clearHoverDate:j,presetDate:S,selectCurrentDate:U,toggleMonthPicker:r,toggleYearPicker:k,toggleTimePicker:le,handleArrow:_,updateMonthYear:Y,getSidebarProps:()=>({modelValue:R,month:p,year:o,time:P,updateTime:J,updateMonthYear:Y,selectDate:q,presetDate:S}),changeMonth:d,changeYear:oe,selectWeekDate:ee}),(te,u)=>($(),z(we,null,[Ge(dt,{"multi-calendars":i(se).count,collapse:te.collapse},{default:ge(({instance:V,index:de})=>[te.disableMonthYearSelect?E("",!0):($(),ke($r,Ie({key:0,ref:b=>{b&&(T.value[de]=b)},months:i(gl)(te.formatLocale,te.locale,te.monthNameFormat),years:i(jt)(te.yearRange,te.locale,te.reverseYears),month:i(p)(V),year:i(o)(V),instance:V},te.$props,{onMount:u[0]||(u[0]=b=>L(i(Da).header)),onResetFlow:u[1]||(u[1]=b=>te.$emit("reset-flow")),onUpdateMonthYear:b=>i(Y)(V,b),onOverlayClosed:me,onOverlayOpened:u[2]||(u[2]=b=>te.$emit("overlay-toggle",{open:!0,overlay:b}))}),ze({_:2},[xe(i(c),(b,fe)=>({name:b,fn:ge(g=>[ie(te.$slots,b,Ve(qe(g)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),Ge(Yr,Ie({ref:b=>{b&&(I.value[de]=b)},"mapped-dates":ne.value(V),month:i(p)(V),year:i(o)(V),instance:V},te.$props,{onSelectDate:b=>i(q)(b,V!==1),onHandleSpace:b=>C(b,V!==1),onSetHoverDate:u[3]||(u[3]=b=>i(G)(b)),onHandleScroll:b=>i(Q)(b,V),onHandleSwipe:b=>i(ae)(b,V),onMount:u[4]||(u[4]=b=>L(i(Da).calendar)),onResetFlow:u[5]||(u[5]=b=>te.$emit("reset-flow")),onTooltipOpen:u[6]||(u[6]=b=>te.$emit("tooltip-open",b)),onTooltipClose:u[7]||(u[7]=b=>te.$emit("tooltip-close",b))}),ze({_:2},[xe(i(s),(b,fe)=>({name:b,fn:ge(g=>[ie(te.$slots,b,Ve(qe({...g})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse"]),te.enableTimePicker?($(),z("div",Vr,[te.$slots["time-picker"]?ie(te.$slots,"time-picker",Ve(Ie({key:0},{time:i(P),updateTime:i(J)}))):($(),ke(Il,Ie({key:1,ref_key:"timePickerRef",ref:re},te.$props,{hours:i(P).hours,minutes:i(P).minutes,seconds:i(P).seconds,"internal-model-value":te.internalModelValue,"disabled-times-config":i(w),"validate-time":i(f),onMount:u[8]||(u[8]=V=>L(i(Da).timePicker)),"onUpdate:hours":u[9]||(u[9]=V=>i(J)(V)),"onUpdate:minutes":u[10]||(u[10]=V=>i(J)(V,!1)),"onUpdate:seconds":u[11]||(u[11]=V=>i(J)(V,!1,!0)),onResetFlow:u[12]||(u[12]=V=>te.$emit("reset-flow")),onOverlayClosed:u[13]||(u[13]=V=>B(V,!1)),onOverlayOpened:u[14]||(u[14]=V=>B(V,!0)),onAmPmChange:u[15]||(u[15]=V=>te.$emit("am-pm-change",V))}),ze({_:2},[xe(i(h),(V,de)=>({name:V,fn:ge(b=>[ie(te.$slots,V,Ve(qe(b)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):E("",!0)],64))}}),Br=(e,a)=>{const n=Z(),{defaultedMultiCalendars:l,defaultedConfig:t,defaultedHighlight:m,defaultedRange:p,propDates:o,defaultedFilters:R,defaultedMultiDates:P}=Re(e),{modelValue:w,year:v,month:f,calendars:A}=Ja(e,a),{isDisabled:M}=wa(e),{selectYear:_,groupedYears:Q,showYearPicker:ae,isDisabled:q,toggleYearPicker:Y,handleYearSelect:S,handleYear:U}=Yl({modelValue:w,multiCalendars:l,range:p,highlight:m,calendars:A,propDates:o,month:f,year:v,filters:R,props:e,emit:a}),J=(s,c)=>[s,c].map(h=>ua(h,"MMMM",{locale:e.formatLocale})).join("-"),N=H(()=>s=>w.value?Array.isArray(w.value)?w.value.some(c=>Wt(s,c)):Wt(w.value,s):!1),G=s=>{if(p.value.enabled){if(Array.isArray(w.value)){const c=_e(s,w.value[0])||_e(s,w.value[1]);return it(w.value,n.value,s)&&!c}return!1}return!1},O=(s,c)=>s.quarter===Zt(c)&&s.year===he(c),j=s=>typeof m.value=="function"?m.value({quarter:Zt(s),year:he(s)}):!!m.value.quarters.find(c=>O(c,s)),se=H(()=>s=>{const c=Ae(new Date,{year:v.value(s)});return Xl({start:cl(c),end:vl(c)}).map(h=>{const L=Wl(h),ne=Jt(h),ce=M(h),D=G(L),C=j(L);return{text:J(L,ne),value:L,active:N.value(L),highlighted:C,disabled:ce,isBetween:D}})}),T=s=>{Kt(s,w,P.value.limit),a("auto-apply",!0)},I=s=>{w.value=qt(w,s,a),ct(w.value,a,e.autoApply,e.modelAuto)},re=s=>{w.value=s,a("auto-apply")};return{defaultedConfig:t,defaultedMultiCalendars:l,groupedYears:Q,year:v,isDisabled:q,quarters:se,showYearPicker:ae,modelValue:w,setHoverDate:s=>{n.value=s},selectYear:_,selectQuarter:(s,c,h)=>{if(!h)return A.value[c].month=be(Jt(s)),P.value.enabled?T(s):p.value.enabled?I(s):re(s)},toggleYearPicker:Y,handleYearSelect:S,handleYear:U}},Fr={class:"dp--quarter-items"},Lr=["data-test","disabled","onClick","onMouseover"],zr=Ne({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...la},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end","overlay-toggle","update-month-year"],setup(e,{expose:a,emit:n}){const l=n,t=e,m=Sa(),p=We(m,"yearMode"),{defaultedMultiCalendars:o,defaultedConfig:R,groupedYears:P,year:w,isDisabled:v,quarters:f,modelValue:A,showYearPicker:M,setHoverDate:_,selectQuarter:Q,toggleYearPicker:ae,handleYearSelect:q,handleYear:Y}=Br(t,l);return a({getSidebarProps:()=>({modelValue:A,year:w,selectQuarter:Q,handleYearSelect:q,handleYear:Y})}),(S,U)=>($(),ke(dt,{"multi-calendars":i(o).count,collapse:S.collapse,stretch:""},{default:ge(({instance:J})=>[ye("div",{class:"dp-quarter-picker-wrap",style:Ze({minHeight:`${i(R).modeHeight}px`})},[S.$slots["top-extra"]?ie(S.$slots,"top-extra",{key:0,value:S.internalModelValue}):E("",!0),ye("div",null,[Ge(Cl,Ie(S.$props,{items:i(P)(J),instance:J,"show-year-picker":i(M)[J],year:i(w)(J),"is-disabled":N=>i(v)(J,N),onHandleYear:N=>i(Y)(J,N),onYearSelect:N=>i(q)(N,J),onToggleYearPicker:N=>i(ae)(J,N==null?void 0:N.flow,N==null?void 0:N.show)}),ze({_:2},[xe(i(p),(N,G)=>({name:N,fn:ge(O=>[ie(S.$slots,N,Ve(qe(O)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),ye("div",Fr,[($(!0),z(we,null,xe(i(f)(J),(N,G)=>($(),z("div",{key:G},[ye("button",{type:"button",class:$e(["dp--qr-btn",{"dp--qr-btn-active":N.active,"dp--qr-btn-between":N.isBetween,"dp--qr-btn-disabled":N.disabled,"dp--highlighted":N.highlighted}]),"data-test":N.value,disabled:N.disabled,onClick:O=>i(Q)(N.value,J,N.disabled),onMouseover:O=>i(_)(N.value)},[S.$slots.quarter?ie(S.$slots,"quarter",{key:0,value:N.value,text:N.text}):($(),z(we,{key:1},[ca(Le(N.text),1)],64))],42,Lr)]))),128))])],4)]),_:3},8,["multi-calendars","collapse"]))}}),jr=["id","aria-label"],Hr={key:0,class:"dp--menu-load-container"},Er=ye("span",{class:"dp--menu-loader"},null,-1),Ur=[Er],Kr={key:0,class:"dp__sidebar_left"},qr=["data-test","onClick","onKeydown"],Qr={key:2,class:"dp__sidebar_right"},Xr={key:3,class:"dp__action_extra"},ul=Ne({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...st,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(e,{expose:a,emit:n}){const l=n,t=e,m=Z(null),p=H(()=>{const{openOnTop:g,...K}=t;return{...K,flowStep:G.value,collapse:t.collapse,noOverlayFocus:t.noOverlayFocus,menuWrapRef:m.value}}),{setMenuFocused:o,setShiftKey:R,control:P}=Tl(),w=Sa(),{defaultedTextInput:v,defaultedInline:f,defaultedConfig:A}=Re(t),M=Z(null),_=Z(0),Q=Z(null),ae=Z(!1),q=Z(null);je(()=>{if(!t.shadow){ae.value=!0,Y(),window.addEventListener("resize",Y);const g=Oe(m);if(g&&!v.value.enabled&&!f.value.enabled&&(o(!0),s()),g){const K=Me=>{A.value.allowPreventDefault&&Me.preventDefault(),ha(Me,A.value,!0)};g.addEventListener("pointerdown",K),g.addEventListener("mousedown",K)}}}),ot(()=>{window.removeEventListener("resize",Y)});const Y=()=>{const g=Oe(Q);g&&(_.value=g.getBoundingClientRect().width)},{arrowRight:S,arrowLeft:U,arrowDown:J,arrowUp:N}=_a(),{flowStep:G,updateFlowStep:O,childMount:j,resetFlow:se,handleFlow:T}=eo(t,l,q),I=H(()=>t.monthPicker?Gn:t.yearPicker?ar:t.timePicker?gr:t.quarterPicker?zr:Nr),re=H(()=>{var g;if(A.value.arrowLeft)return A.value.arrowLeft;const K=(g=m.value)==null?void 0:g.getBoundingClientRect(),Me=t.getInputRect();return Me.width<_.value&&Me.left<=((K==null?void 0:K.left)??0)?`${Me.width/2}px`:"50%"}),s=()=>{const g=Oe(m);g&&g.focus({preventScroll:!0})},c=H(()=>{var g;return((g=q.value)==null?void 0:g.getSidebarProps())||{}}),h=()=>{t.openOnTop&&l("recalculate-position")},L=We(w,"action"),ne=H(()=>t.monthPicker||t.yearPicker?We(w,"monthYear"):t.timePicker?We(w,"timePicker"):We(w,"shared")),ce=H(()=>t.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),D=H(()=>({dp__menu_disabled:t.disabled,dp__menu_readonly:t.readonly,"dp-menu-loading":t.loading})),C=H(()=>({dp__menu:!0,dp__menu_index:!f.value.enabled,dp__relative:f.value.enabled,[t.menuClassName]:!!t.menuClassName})),r=g=>{ha(g,A.value,!0)},k=()=>{t.escClose&&l("close-picker")},le=g=>{if(t.arrowNavigation){if(g===Ee.up)return N();if(g===Ee.down)return J();if(g===Ee.left)return U();if(g===Ee.right)return S()}else g===Ee.left||g===Ee.up?me("handleArrow",Ee.left,0,g===Ee.up):me("handleArrow",Ee.right,0,g===Ee.down)},ee=g=>{R(g.shiftKey),!t.disableMonthYearSelect&&g.code===Se.tab&&g.target.classList.contains("dp__menu")&&P.value.shiftKeyInMenu&&(g.preventDefault(),ha(g,A.value,!0),l("close-picker"))},d=()=>{s(),l("time-picker-close")},oe=g=>{var K,Me,pe;(K=q.value)==null||K.toggleTimePicker(!1,!1),(Me=q.value)==null||Me.toggleMonthPicker(!1,!1,g),(pe=q.value)==null||pe.toggleYearPicker(!1,!1,g)},B=(g,K=0)=>{var Me,pe,Ke;return g==="month"?(Me=q.value)==null?void 0:Me.toggleMonthPicker(!1,!0,K):g==="year"?(pe=q.value)==null?void 0:pe.toggleYearPicker(!1,!0,K):g==="time"?(Ke=q.value)==null?void 0:Ke.toggleTimePicker(!0,!1):oe(K)},me=(g,...K)=>{var Me,pe;(Me=q.value)!=null&&Me[g]&&((pe=q.value)==null||pe[g](...K))},te=()=>{me("selectCurrentDate")},u=(g,K)=>{me("presetDate",g,K)},V=()=>{me("clearHoverDate")},de=(g,K)=>{me("updateMonthYear",g,K)},b=(g,K)=>{g.preventDefault(),le(K)},fe=g=>{var K;if(ee(g),g.key===Se.home||g.key===Se.end)return me("selectWeekDate",g.key===Se.home,g.target.getAttribute("id"));switch((g.key===Se.pageUp||g.key===Se.pageDown)&&(g.shiftKey?me("changeYear",g.key===Se.pageUp):me("changeMonth",g.key===Se.pageUp),g.target.getAttribute("id")&&((K=m.value)==null||K.focus({preventScroll:!0}))),g.key){case Se.esc:return k();case Se.arrowLeft:return b(g,Ee.left);case Se.arrowRight:return b(g,Ee.right);case Se.arrowUp:return b(g,Ee.up);case Se.arrowDown:return b(g,Ee.down);default:return}};return a({updateMonthYear:de,switchView:B,handleFlow:T}),(g,K)=>{var Me,pe,Ke;return $(),z("div",{id:g.uid?`dp-menu-${g.uid}`:void 0,ref_key:"dpMenuRef",ref:m,tabindex:"0",role:"dialog","aria-label":(Me=g.ariaLabels)==null?void 0:Me.menu,class:$e(C.value),style:Ze({"--dp-arrow-left":re.value}),onMouseleave:V,onClick:r,onKeydown:fe},[(g.disabled||g.readonly)&&i(f).enabled||g.loading?($(),z("div",{key:0,class:$e(D.value)},[g.loading?($(),z("div",Hr,Ur)):E("",!0)],2)):E("",!0),!i(f).enabled&&!g.teleportCenter?($(),z("div",{key:1,class:$e(ce.value)},null,2)):E("",!0),ye("div",{ref_key:"innerMenuRef",ref:Q,class:$e({dp__menu_content_wrapper:((pe=g.presetDates)==null?void 0:pe.length)||!!g.$slots["left-sidebar"]||!!g.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":e.collapse&&(((Ke=g.presetDates)==null?void 0:Ke.length)||!!g.$slots["left-sidebar"]||!!g.$slots["right-sidebar"])}),style:Ze({"--dp-menu-width":`${_.value}px`})},[g.$slots["left-sidebar"]?($(),z("div",Kr,[ie(g.$slots,"left-sidebar",Ve(qe(c.value)))])):E("",!0),g.presetDates.length?($(),z("div",{key:1,class:$e({"dp--preset-dates-collapsed":e.collapse,"dp--preset-dates":!0})},[($(!0),z(we,null,xe(g.presetDates,(ve,pa)=>($(),z(we,{key:pa},[ve.slot?ie(g.$slots,ve.slot,{key:0,presetDate:u,label:ve.label,value:ve.value}):($(),z("button",{key:1,type:"button",style:Ze(ve.style||{}),class:$e(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":e.collapse}]),"data-test":ve.testId??void 0,onClick:Ha(na=>u(ve.value,ve.noTz),["prevent"]),onKeydown:na=>i(Qe)(na,()=>u(ve.value,ve.noTz),!0)},Le(ve.label),47,qr))],64))),128))],2)):E("",!0),ye("div",{ref_key:"calendarWrapperRef",ref:M,class:"dp__instance_calendar",role:"document"},[($(),ke(ut(I.value),Ie({ref_key:"dynCmpRef",ref:q},p.value,{"flow-step":i(G),onMount:i(j),onUpdateFlowStep:i(O),onResetFlow:i(se),onFocusMenu:s,onSelectDate:K[0]||(K[0]=ve=>g.$emit("select-date")),onDateUpdate:K[1]||(K[1]=ve=>g.$emit("date-update",ve)),onTooltipOpen:K[2]||(K[2]=ve=>g.$emit("tooltip-open",ve)),onTooltipClose:K[3]||(K[3]=ve=>g.$emit("tooltip-close",ve)),onAutoApply:K[4]||(K[4]=ve=>g.$emit("auto-apply",ve)),onRangeStart:K[5]||(K[5]=ve=>g.$emit("range-start",ve)),onRangeEnd:K[6]||(K[6]=ve=>g.$emit("range-end",ve)),onInvalidFixedRange:K[7]||(K[7]=ve=>g.$emit("invalid-fixed-range",ve)),onTimeUpdate:K[8]||(K[8]=ve=>g.$emit("time-update")),onAmPmChange:K[9]||(K[9]=ve=>g.$emit("am-pm-change",ve)),onTimePickerOpen:K[10]||(K[10]=ve=>g.$emit("time-picker-open",ve)),onTimePickerClose:d,onRecalculatePosition:h,onUpdateMonthYear:K[11]||(K[11]=ve=>g.$emit("update-month-year",ve)),onAutoApplyInvalid:K[12]||(K[12]=ve=>g.$emit("auto-apply-invalid",ve)),onInvalidDate:K[13]||(K[13]=ve=>g.$emit("invalid-date",ve)),onOverlayToggle:K[14]||(K[14]=ve=>g.$emit("overlay-toggle",ve)),"onUpdate:internalModelValue":K[15]||(K[15]=ve=>g.$emit("update:internal-model-value",ve))}),ze({_:2},[xe(ne.value,(ve,pa)=>({name:ve,fn:ge(na=>[ie(g.$slots,ve,Ve(qe({...na})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),g.$slots["right-sidebar"]?($(),z("div",Qr,[ie(g.$slots,"right-sidebar",Ve(qe(c.value)))])):E("",!0),g.$slots["action-extra"]?($(),z("div",Xr,[g.$slots["action-extra"]?ie(g.$slots,"action-extra",{key:0,selectCurrentDate:te}):E("",!0)])):E("",!0)],6),!g.autoApply||i(A).keepActionRow?($(),ke(Un,Ie({key:2,"menu-mount":ae.value},p.value,{"calendar-width":_.value,onClosePicker:K[16]||(K[16]=ve=>g.$emit("close-picker")),onSelectDate:K[17]||(K[17]=ve=>g.$emit("select-date")),onInvalidSelect:K[18]||(K[18]=ve=>g.$emit("invalid-select")),onSelectNow:te}),ze({_:2},[xe(i(L),(ve,pa)=>({name:ve,fn:ge(na=>[ie(g.$slots,ve,Ve(qe({...na})))])}))]),1040,["menu-mount","calendar-width"])):E("",!0)],46,jr)}}});var Ta=(e=>(e.center="center",e.left="left",e.right="right",e))(Ta||{});const Wr=({menuRef:e,menuRefInner:a,inputRef:n,pickerWrapperRef:l,inline:t,emit:m,props:p,slots:o})=>{const R=Z({}),P=Z(!1),w=Z({top:"0",left:"0"}),v=Z(!1),f=Ea(p,"teleportCenter");oa(f,()=>{w.value=JSON.parse(JSON.stringify({})),S()});const A=s=>{if(p.teleport){const c=s.getBoundingClientRect();return{left:c.left+window.scrollX,top:c.top+window.scrollY}}return{top:0,left:0}},M=(s,c)=>{w.value.left=`${s+c-R.value.width}px`},_=s=>{w.value.left=`${s}px`},Q=(s,c)=>{p.position===Ta.left&&_(s),p.position===Ta.right&&M(s,c),p.position===Ta.center&&(w.value.left=`${s+c/2-R.value.width/2}px`)},ae=s=>{const{width:c,height:h}=s.getBoundingClientRect(),{top:L,left:ne}=p.altPosition?p.altPosition(s):A(s);return{top:+L,left:+ne,width:c,height:h}},q=()=>{w.value.left="50%",w.value.top="50%",w.value.transform="translate(-50%, -50%)",w.value.position="fixed",delete w.value.opacity},Y=()=>{const s=Oe(n),{top:c,left:h,transform:L}=p.altPosition(s);w.value={top:`${c}px`,left:`${h}px`,transform:L??""}},S=(s=!0)=>{var c;if(!t.value.enabled){if(f.value)return q();if(p.altPosition!==null)return Y();if(s){const h=p.teleport?(c=a.value)==null?void 0:c.$el:e.value;h&&(R.value=h.getBoundingClientRect()),m("recalculate-position")}return se()}},U=({inputEl:s,left:c,width:h})=>{window.screen.width>768&&!P.value&&Q(c,h),G(s)},J=s=>{const{top:c,left:h,height:L,width:ne}=ae(s);w.value.top=`${L+c+ +p.offset}px`,v.value=!1,P.value||(w.value.left=`${h+ne/2-R.value.width/2}px`),U({inputEl:s,left:h,width:ne})},N=s=>{const{top:c,left:h,width:L}=ae(s);w.value.top=`${c-+p.offset-R.value.height}px`,v.value=!0,U({inputEl:s,left:h,width:L})},G=s=>{if(p.autoPosition){const{left:c,width:h}=ae(s),{left:L,right:ne}=R.value;if(!P.value){if(Math.abs(L)!==Math.abs(ne)){if(L<=0)return P.value=!0,_(c);if(ne>=document.documentElement.clientWidth)return P.value=!0,M(c,h)}return Q(c,h)}}},O=()=>{const s=Oe(n);if(s){const{height:c}=R.value,{top:h,height:L}=s.getBoundingClientRect(),ne=window.innerHeight-h-L,ce=h;return c<=ne?Ma.bottom:c>ne&&c<=ce?Ma.top:ne>=ce?Ma.bottom:Ma.top}return Ma.bottom},j=s=>O()===Ma.bottom?J(s):N(s),se=()=>{const s=Oe(n);if(s)return p.autoPosition?j(s):J(s)},T=function(s){if(s){const c=s.scrollHeight>s.clientHeight,h=window.getComputedStyle(s).overflowY.indexOf("hidden")!==-1;return c&&!h}return!0},I=function(s){return!s||s===document.body||s.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:T(s)?s:I(s.assignedSlot?s.assignedSlot.parentNode:s.parentNode)},re=s=>{if(s)switch(p.position){case Ta.left:return{left:0,transform:"translateX(0)"};case Ta.right:return{left:`${s.width}px`,transform:"translateX(-100%)"};default:return{left:`${s.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:v,menuStyle:w,xCorrect:P,setMenuPosition:S,getScrollableParent:I,shadowRender:(s,c)=>{var h,L,ne;const ce=document.createElement("div"),D=(h=Oe(n))==null?void 0:h.getBoundingClientRect();ce.setAttribute("id","dp--temp-container");const C=(L=l.value)!=null&&L.clientWidth?l.value:document.body;C.append(ce);const r=re(D),k=Ll(s,{...c,shadow:!0,style:{opacity:0,position:"absolute",...r}},Object.fromEntries(Object.keys(o).filter(le=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(le)).map(le=>[le,o[le]])));Qt(k,ce),R.value=(ne=k.el)==null?void 0:ne.getBoundingClientRect(),Qt(null,ce),C.removeChild(ce)}}},ya=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]}],Jr=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],Zr={all:()=>ya,monthYear:()=>ya.filter(e=>e.use.includes("month-year")),input:()=>Jr,timePicker:()=>ya.filter(e=>e.use.includes("time")),action:()=>ya.filter(e=>e.use.includes("action")),calendar:()=>ya.filter(e=>e.use.includes("calendar")),menu:()=>ya.filter(e=>e.use.includes("menu")),shared:()=>ya.filter(e=>e.use.includes("shared")),yearMode:()=>ya.filter(e=>e.use.includes("year-mode"))},We=(e,a,n)=>{const l=[];return Zr[a]().forEach(t=>{e[t.name]&&l.push(t.name)}),n!=null&&n.length&&n.forEach(t=>{t.slot&&l.push(t.slot)}),l},Wa=e=>{const a=H(()=>l=>e.value?l?e.value.open:e.value.close:""),n=H(()=>l=>e.value?l?e.value.menuAppearTop:e.value.menuAppearBottom:"");return{transitionName:a,showTransition:!!e.value,menuTransition:n}},Ja=(e,a)=>{const{defaultedRange:n,defaultedTz:l}=Re(e),t=F(ia(F(),l.value.timezone)),m=Z([{month:be(t),year:he(t)}]),p=v=>{const f={hours:va(t),minutes:ba(t),seconds:0};return n.value.enabled?[f[v],f[v]]:f[v]},o=Qa({hours:p("hours"),minutes:p("minutes"),seconds:p("seconds")});oa(n,(v,f)=>{v.enabled!==f.enabled&&(o.hours=p("hours"),o.minutes=p("minutes"),o.seconds=p("seconds"))},{deep:!0});const R=H({get:()=>e.internalModelValue,set:v=>{!e.readonly&&!e.disabled&&a("update:internal-model-value",v)}}),P=H(()=>v=>m.value[v]?m.value[v].month:0),w=H(()=>v=>m.value[v]?m.value[v].year:0);return{calendars:m,time:o,modelValue:R,month:P,year:w,today:t}},Gr=(e,a)=>{const{defaultedMultiCalendars:n,defaultedMultiDates:l,defaultedHighlight:t,defaultedTz:m,propDates:p,defaultedRange:o}=Re(a),{isDisabled:R}=wa(a),P=Z(null),w=Z(ia(new Date,m.value.timezone)),v=r=>{!r.current&&a.hideOffsetDates||(P.value=r.value)},f=()=>{P.value=null},A=r=>Array.isArray(e.value)&&o.value.enabled&&e.value[0]&&P.value?r?Pe(P.value,e.value[0]):Te(P.value,e.value[0]):!0,M=(r,k)=>{const le=()=>e.value?k?e.value[0]||null:e.value[1]:null,ee=e.value&&Array.isArray(e.value)?le():null;return _e(F(r.value),ee)},_=r=>{const k=Array.isArray(e.value)?e.value[0]:null;return r?!Te(P.value??null,k):!0},Q=(r,k=!0)=>(o.value.enabled||a.weekPicker)&&Array.isArray(e.value)&&e.value.length===2?a.hideOffsetDates&&!r.current?!1:_e(F(r.value),e.value[k?0:1]):o.value.enabled?M(r,k)&&_(k)||_e(r.value,Array.isArray(e.value)?e.value[0]:null)&&A(k):!1,ae=(r,k)=>{if(Array.isArray(e.value)&&e.value[0]&&e.value.length===1){const le=_e(r.value,P.value);return k?Pe(e.value[0],r.value)&&le:Te(e.value[0],r.value)&&le}return!1},q=r=>!e.value||a.hideOffsetDates&&!r.current?!1:o.value.enabled?a.modelAuto&&Array.isArray(e.value)?_e(r.value,e.value[0]?e.value[0]:w.value):!1:l.value.enabled&&Array.isArray(e.value)?e.value.some(k=>_e(k,r.value)):_e(r.value,e.value?e.value:w.value),Y=r=>{if(o.value.autoRange||a.weekPicker){if(P.value){if(a.hideOffsetDates&&!r.current)return!1;const k=$a(P.value,+o.value.autoRange),le=sa(F(P.value),a.weekStart);return a.weekPicker?_e(le[1],F(r.value)):_e(k,F(r.value))}return!1}return!1},S=r=>{if(o.value.autoRange||a.weekPicker){if(P.value){const k=$a(P.value,+o.value.autoRange);if(a.hideOffsetDates&&!r.current)return!1;const le=sa(F(P.value),a.weekStart);return a.weekPicker?Pe(r.value,le[0])&&Te(r.value,le[1]):Pe(r.value,P.value)&&Te(r.value,k)}return!1}return!1},U=r=>{if(o.value.autoRange||a.weekPicker){if(P.value){if(a.hideOffsetDates&&!r.current)return!1;const k=sa(F(P.value),a.weekStart);return a.weekPicker?_e(k[0],r.value):_e(P.value,r.value)}return!1}return!1},J=r=>it(e.value,P.value,r.value),N=()=>a.modelAuto&&Array.isArray(a.internalModelValue)?!!a.internalModelValue[0]:!1,G=()=>a.modelAuto?bl(a.internalModelValue):!0,O=r=>{if(a.weekPicker)return!1;const k=o.value.enabled?!Q(r)&&!Q(r,!1):!0;return!R(r.value)&&!q(r)&&!(!r.current&&a.hideOffsetDates)&&k},j=r=>o.value.enabled?a.modelAuto?N()&&q(r):!1:q(r),se=r=>t.value?hn(r.value,p.value.highlight):!1,T=r=>{const k=R(r.value);return k&&(typeof t.value=="function"?!t.value(r.value,k):!t.value.options.highlightDisabled)},I=r=>{var k;return typeof t.value=="function"?t.value(r.value):(k=t.value.weekdays)==null?void 0:k.includes(r.value.getDay())},re=r=>(o.value.enabled||a.weekPicker)&&(!(n.value.count>0)||r.current)&&G()&&!(!r.current&&a.hideOffsetDates)&&!q(r)?J(r):!1,s=r=>{const{isRangeStart:k,isRangeEnd:le}=ne(r),ee=o.value.enabled?k||le:!1;return{dp__cell_offset:!r.current,dp__pointer:!a.disabled&&!(!r.current&&a.hideOffsetDates)&&!R(r.value),dp__cell_disabled:R(r.value),dp__cell_highlight:!T(r)&&(se(r)||I(r))&&!j(r)&&!ee&&!U(r)&&!(re(r)&&a.weekPicker)&&!le,dp__cell_highlight_active:!T(r)&&(se(r)||I(r))&&j(r),dp__today:!a.noToday&&_e(r.value,w.value)&&r.current,"dp--past":Te(r.value,w.value),"dp--future":Pe(r.value,w.value)}},c=r=>({dp__active_date:j(r),dp__date_hover:O(r)}),h=r=>{if(e.value&&!Array.isArray(e.value)){const k=sa(e.value,a.weekStart);return{...D(r),dp__range_start:_e(k[0],r.value),dp__range_end:_e(k[1],r.value),dp__range_between_week:Pe(r.value,k[0])&&Te(r.value,k[1])}}return{...D(r)}},L=r=>{if(e.value&&Array.isArray(e.value)){const k=sa(e.value[0],a.weekStart),le=e.value[1]?sa(e.value[1],a.weekStart):[];return{...D(r),dp__range_start:_e(k[0],r.value)||_e(le[0],r.value),dp__range_end:_e(k[1],r.value)||_e(le[1],r.value),dp__range_between_week:Pe(r.value,k[0])&&Te(r.value,k[1])||Pe(r.value,le[0])&&Te(r.value,le[1]),dp__range_between:Pe(r.value,k[1])&&Te(r.value,le[0])}}return{...D(r)}},ne=r=>{const k=n.value.count>0?r.current&&Q(r)&&G():Q(r)&&G(),le=n.value.count>0?r.current&&Q(r,!1)&&G():Q(r,!1)&&G();return{isRangeStart:k,isRangeEnd:le}},ce=r=>{const{isRangeStart:k,isRangeEnd:le}=ne(r);return{dp__range_start:k,dp__range_end:le,dp__range_between:re(r),dp__date_hover:_e(r.value,P.value)&&!k&&!le&&!a.weekPicker,dp__date_hover_start:ae(r,!0),dp__date_hover_end:ae(r,!1)}},D=r=>({...ce(r),dp__cell_auto_range:S(r),dp__cell_auto_range_start:U(r),dp__cell_auto_range_end:Y(r)}),C=r=>o.value.enabled?o.value.autoRange?D(r):a.modelAuto?{...c(r),...ce(r)}:a.weekPicker?L(r):ce(r):a.weekPicker?h(r):c(r);return{setHoverDate:v,clearHoverDate:f,getDayClassData:r=>a.hideOffsetDates&&!r.current?{}:{...s(r),...C(r),[a.dayClass?a.dayClass(r.value,a.internalModelValue):""]:!0,[a.calendarCellClassName]:!!a.calendarCellClassName}}},wa=e=>{const{defaultedFilters:a,defaultedRange:n,propDates:l,defaultedMultiDates:t}=Re(e),m=T=>l.value.disabledDates?typeof l.value.disabledDates=="function"?l.value.disabledDates(F(T)):!!rt(T,l.value.disabledDates):!1,p=T=>{const I=l.value.maxDate?Pe(T,l.value.maxDate):!1,re=l.value.minDate?Te(T,l.value.minDate):!1,s=m(T),c=a.value.months.map(D=>+D).includes(be(T)),h=e.disabledWeekDays.length?e.disabledWeekDays.some(D=>+D===Ul(T)):!1,L=v(T),ne=he(T),ce=ne<+e.yearRange[0]||ne>+e.yearRange[1];return!(I||re||s||c||ce||h||L)},o=(T,I)=>Te(...fa(l.value.minDate,T,I))||_e(...fa(l.value.minDate,T,I)),R=(T,I)=>Pe(...fa(l.value.maxDate,T,I))||_e(...fa(l.value.maxDate,T,I)),P=(T,I,re)=>{let s=!1;return l.value.maxDate&&re&&R(T,I)&&(s=!0),l.value.minDate&&!re&&o(T,I)&&(s=!0),s},w=(T,I,re,s)=>{let c=!1;return s?l.value.minDate&&l.value.maxDate?c=P(T,I,re):(l.value.minDate&&o(T,I)||l.value.maxDate&&R(T,I))&&(c=!0):c=!0,c},v=T=>Array.isArray(l.value.allowedDates)&&!l.value.allowedDates.length?!0:l.value.allowedDates?!rt(T,l.value.allowedDates):!1,f=T=>!p(T),A=T=>n.value.noDisabledRange?!il({start:T[0],end:T[1]}).some(I=>f(I)):!0,M=T=>{if(T){const I=he(T);return I>=+e.yearRange[0]&&I<=e.yearRange[1]}return!0},_=(T,I)=>!!(Array.isArray(T)&&T[I]&&(n.value.maxRange||n.value.minRange)&&M(T[I])),Q=(T,I,re=0)=>{if(_(I,re)&&M(T)){const s=Kl(T,I[re]),c=$l(I[re],T),h=c.length===1?0:c.filter(ne=>f(ne)).length,L=Math.abs(s)-(n.value.minMaxRawRange?0:h);if(n.value.minRange&&n.value.maxRange)return L>=+n.value.minRange&&L<=+n.value.maxRange;if(n.value.minRange)return L>=+n.value.minRange;if(n.value.maxRange)return L<=+n.value.maxRange}return!0},ae=()=>!e.enableTimePicker||e.monthPicker||e.yearPicker||e.ignoreTimeValidation,q=T=>Array.isArray(T)?[T[0]?At(T[0]):null,T[1]?At(T[1]):null]:At(T),Y=(T,I,re)=>T.find(s=>+s.hours===va(I)&&s.minutes==="*"?!0:+s.minutes===ba(I)&&+s.hours===va(I))&&re,S=(T,I,re)=>{const[s,c]=T,[h,L]=I;return!Y(s,h,re)&&!Y(c,L,re)&&re},U=(T,I)=>{const re=Array.isArray(I)?I:[I];return Array.isArray(e.disabledTimes)?Array.isArray(e.disabledTimes[0])?S(e.disabledTimes,re,T):!re.some(s=>Y(e.disabledTimes,s,T)):T},J=(T,I)=>{const re=Array.isArray(I)?[xa(I[0]),I[1]?xa(I[1]):void 0]:xa(I),s=!e.disabledTimes(re);return T&&s},N=(T,I)=>e.disabledTimes?Array.isArray(e.disabledTimes)?U(I,T):J(I,T):I,G=T=>{let I=!0;if(!T||ae())return!0;const re=!l.value.minDate&&!l.value.maxDate?q(T):T;return(e.maxTime||l.value.maxDate)&&(I=ll(e.maxTime,l.value.maxDate,"max",Ye(re),I)),(e.minTime||l.value.minDate)&&(I=ll(e.minTime,l.value.minDate,"min",Ye(re),I)),N(T,I)},O=T=>{if(!e.monthPicker)return!0;let I=!0;const re=F(ta(T));if(l.value.minDate&&l.value.maxDate){const s=F(ta(l.value.minDate)),c=F(ta(l.value.maxDate));return Pe(re,s)&&Te(re,c)||_e(re,s)||_e(re,c)}if(l.value.minDate){const s=F(ta(l.value.minDate));I=Pe(re,s)||_e(re,s)}if(l.value.maxDate){const s=F(ta(l.value.maxDate));I=Te(re,s)||_e(re,s)}return I},j=H(()=>T=>!e.enableTimePicker||e.ignoreTimeValidation?!0:G(T)),se=H(()=>T=>e.monthPicker?Array.isArray(T)&&(n.value.enabled||t.value.enabled)?!T.filter(I=>!O(I)).length:O(T):!0);return{isDisabled:f,validateDate:p,validateMonthYearInRange:w,isDateRangeAllowed:A,checkMinMaxRange:Q,isValidTime:G,isTimeValid:j,isMonthValid:se}},vt=()=>{const e=H(()=>(l,t)=>l==null?void 0:l.includes(t)),a=H(()=>(l,t)=>l.count?l.solo?!0:t===0:!0),n=H(()=>(l,t)=>l.count?l.solo?!0:t===l.count-1:!0);return{hideNavigationButtons:e,showLeftIcon:a,showRightIcon:n}},eo=(e,a,n)=>{const l=Z(0),t=Qa({[Da.timePicker]:!e.enableTimePicker||e.timePicker||e.monthPicker,[Da.calendar]:!1,[Da.header]:!1}),m=H(()=>e.monthPicker||e.timePicker),p=v=>{var f;if((f=e.flow)!=null&&f.length){if(!v&&m.value)return w();t[v]=!0,Object.keys(t).filter(A=>!t[A]).length||w()}},o=()=>{var v,f;(v=e.flow)!=null&&v.length&&l.value!==-1&&(l.value+=1,a("flow-step",l.value),w()),((f=e.flow)==null?void 0:f.length)===l.value&&ea().then(()=>R())},R=()=>{l.value=-1},P=(v,f,...A)=>{var M,_;e.flow[l.value]===v&&n.value&&((_=(M=n.value)[f])==null||_.call(M,...A))},w=(v=0)=>{v&&(l.value+=v),P(Fe.month,"toggleMonthPicker",!0),P(Fe.year,"toggleYearPicker",!0),P(Fe.calendar,"toggleTimePicker",!1,!0),P(Fe.time,"toggleTimePicker",!0,!0);const f=e.flow[l.value];(f===Fe.hours||f===Fe.minutes||f===Fe.seconds)&&P(f,"toggleTimePicker",!0,!0,f)};return{childMount:p,updateFlowStep:o,resetFlow:R,handleFlow:w,flowStep:l}},ao={key:1,class:"dp__input_wrap"},to=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],lo={key:2,class:"dp__clear_icon"},no=Ne({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...st},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(e,{expose:a,emit:n}){const l=n,t=e,{defaultedTextInput:m,defaultedAriaLabels:p,defaultedInline:o,defaultedConfig:R,defaultedRange:P,defaultedMultiDates:w,getDefaultPattern:v,getDefaultStartTime:f}=Re(t),{checkMinMaxRange:A}=wa(t),M=Z(),_=Z(null),Q=Z(!1),ae=Z(!1),q=H(()=>({dp__pointer:!t.disabled&&!t.readonly&&!m.value.enabled,dp__disabled:t.disabled,dp__input_readonly:!m.value.enabled,dp__input:!0,dp__input_icon_pad:!t.hideInputIcon,dp__input_valid:!!t.state,dp__input_invalid:t.state===!1,dp__input_focus:Q.value||t.isMenuOpen,dp__input_reg:!m.value.enabled,[t.inputClassName]:!!t.inputClassName})),Y=()=>{l("set-input-date",null),t.clearable&&t.autoApply&&(l("set-empty-date"),M.value=null)},S=c=>{const h=f();return gn(c,m.value.format??v(),h??Al({},t.enableSeconds),t.inputValue,ae.value,t.formatLocale)},U=c=>{const{rangeSeparator:h}=m.value,[L,ne]=c.split(`${h}`);if(L){const ce=S(L.trim()),D=ne?S(ne.trim()):null;if(Pa(ce,D))return;const C=ce&&D?[ce,D]:[ce];A(D,C,0)&&(M.value=ce?C:null)}},J=()=>{ae.value=!0},N=c=>{if(P.value.enabled)U(c);else if(w.value.enabled){const h=c.split(";");M.value=h.map(L=>S(L.trim())).filter(L=>L)}else M.value=S(c)},G=c=>{var h;const L=typeof c=="string"?c:(h=c.target)==null?void 0:h.value;L!==""?(m.value.openMenu&&!t.isMenuOpen&&l("open"),N(L),l("set-input-date",M.value)):Y(),ae.value=!1,l("update:input-value",L)},O=c=>{m.value.enabled?(N(c.target.value),m.value.enterSubmit&&Yt(M.value)&&t.inputValue!==""?(l("set-input-date",M.value,!0),M.value=null):m.value.enterSubmit&&t.inputValue===""&&(M.value=null,l("clear"))):T(c)},j=c=>{m.value.enabled&&m.value.tabSubmit&&N(c.target.value),m.value.tabSubmit&&Yt(M.value)&&t.inputValue!==""?(l("set-input-date",M.value,!0,!0),M.value=null):m.value.tabSubmit&&t.inputValue===""&&(M.value=null,l("clear",!0))},se=()=>{Q.value=!0,l("focus"),ea().then(()=>{var c;m.value.enabled&&m.value.selectOnFocus&&((c=_.value)==null||c.select())})},T=c=>{c.preventDefault(),ha(c,R.value,!0),m.value.enabled&&m.value.openMenu&&!o.value.input&&!t.isMenuOpen?l("open"):m.value.enabled||l("toggle")},I=()=>{l("real-blur"),Q.value=!1,(!t.isMenuOpen||o.value.enabled&&o.value.input)&&l("blur"),t.autoApply&&m.value.enabled&&M.value&&!t.isMenuOpen&&(l("set-input-date",M.value),l("select-date"),M.value=null)},re=c=>{ha(c,R.value,!0),l("clear")},s=c=>{if(c.key==="Tab"&&j(c),c.key==="Enter"&&O(c),!m.value.enabled){if(c.code==="Tab")return;c.preventDefault()}};return a({focusInput:()=>{var c;(c=_.value)==null||c.focus({preventScroll:!0})},setParsedDate:c=>{M.value=c}}),(c,h)=>{var L;return $(),z("div",{onClick:T},[c.$slots.trigger&&!c.$slots["dp-input"]&&!i(o).enabled?ie(c.$slots,"trigger",{key:0}):E("",!0),!c.$slots.trigger&&(!i(o).enabled||i(o).input)?($(),z("div",ao,[c.$slots["dp-input"]&&!c.$slots.trigger&&(!i(o).enabled||i(o).enabled&&i(o).input)?ie(c.$slots,"dp-input",{key:0,value:e.inputValue,isMenuOpen:e.isMenuOpen,onInput:G,onEnter:O,onTab:j,onClear:re,onBlur:I,onKeypress:s,onPaste:J,onFocus:se,openMenu:()=>c.$emit("open"),closeMenu:()=>c.$emit("close"),toggleMenu:()=>c.$emit("toggle")}):E("",!0),c.$slots["dp-input"]?E("",!0):($(),z("input",{key:1,id:c.uid?`dp-input-${c.uid}`:void 0,ref_key:"inputRef",ref:_,"data-test":"dp-input",name:c.name,class:$e(q.value),inputmode:i(m).enabled?"text":"none",placeholder:c.placeholder,disabled:c.disabled,readonly:c.readonly,required:c.required,value:e.inputValue,autocomplete:c.autocomplete,"aria-label":(L=i(p))==null?void 0:L.input,"aria-disabled":c.disabled||void 0,"aria-invalid":c.state===!1?!0:void 0,onInput:G,onBlur:I,onFocus:se,onKeypress:s,onKeydown:s,onPaste:J},null,42,to)),ye("div",{onClick:h[2]||(h[2]=ne=>l("toggle"))},[c.$slots["input-icon"]&&!c.hideInputIcon?($(),z("span",{key:0,class:"dp__input_icon",onClick:h[0]||(h[0]=ne=>l("toggle"))},[ie(c.$slots,"input-icon")])):E("",!0),!c.$slots["input-icon"]&&!c.hideInputIcon&&!c.$slots["dp-input"]?($(),ke(i(Na),{key:1,class:"dp__input_icon dp__input_icons",onClick:h[1]||(h[1]=ne=>l("toggle"))})):E("",!0)]),c.$slots["clear-icon"]&&e.inputValue&&c.clearable&&!c.disabled&&!c.readonly?($(),z("span",lo,[ie(c.$slots,"clear-icon",{clear:re})])):E("",!0),c.clearable&&!c.$slots["clear-icon"]&&e.inputValue&&!c.disabled&&!c.readonly?($(),ke(i(hl),{key:3,class:"dp__clear_icon dp__input_icons","data-test":"clear-icon",onClick:h[3]||(h[3]=Ha(ne=>re(ne),["prevent"]))})):E("",!0)])):E("",!0)])}}}),ro=typeof window<"u"?window:void 0,Ct=()=>{},oo=e=>Hl()?(El(e),!0):!1,uo=(e,a,n,l)=>{if(!e)return Ct;let t=Ct;const m=oa(()=>i(e),o=>{t(),o&&(o.addEventListener(a,n,l),t=()=>{o.removeEventListener(a,n,l),t=Ct})},{immediate:!0,flush:"post"}),p=()=>{m(),t()};return oo(p),p},io=(e,a,n,l={})=>{const{window:t=ro,event:m="pointerdown"}=l;return t?uo(t,m,p=>{const o=Oe(e),R=Oe(a);!o||!R||o===p.target||p.composedPath().includes(o)||p.composedPath().includes(R)||n(p)},{passive:!0}):void 0},so=Ne({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...st},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date","overlay-toggle"],setup(e,{expose:a,emit:n}){const l=n,t=e,m=Sa(),p=Z(!1),o=Ea(t,"modelValue"),R=Ea(t,"timezone"),P=Z(null),w=Z(null),v=Z(null),f=Z(!1),A=Z(null),M=Z(!1),_=Z(!1),Q=Z(!1),{setMenuFocused:ae,setShiftKey:q}=Tl(),{clearArrowNav:Y}=_a(),{validateDate:S,isValidTime:U}=wa(t),{defaultedTransitions:J,defaultedTextInput:N,defaultedInline:G,defaultedConfig:O,defaultedRange:j,defaultedMultiDates:se}=Re(t),{menuTransition:T,showTransition:I}=Wa(J);je(()=>{k(t.modelValue),ea().then(()=>{if(!G.value.enabled){const x=ce(A.value);x==null||x.addEventListener("scroll",de),window==null||window.addEventListener("resize",b)}}),G.value.enabled&&(p.value=!0),window==null||window.addEventListener("keyup",fe),window==null||window.addEventListener("keydown",g)}),ot(()=>{if(!G.value.enabled){const x=ce(A.value);x==null||x.removeEventListener("scroll",de),window==null||window.removeEventListener("resize",b)}window==null||window.removeEventListener("keyup",fe),window==null||window.removeEventListener("keydown",g)});const re=We(m,"all",t.presetDates),s=We(m,"input");oa([o,R],()=>{k(o.value)},{deep:!0});const{openOnTop:c,menuStyle:h,xCorrect:L,setMenuPosition:ne,getScrollableParent:ce,shadowRender:D}=Wr({menuRef:P,menuRefInner:w,inputRef:v,pickerWrapperRef:A,inline:G,emit:l,props:t,slots:m}),{inputValue:C,internalModelValue:r,parseExternalModelValue:k,emitModelValue:le,formatInputValue:ee,checkBeforeEmit:d}=zn(l,t,f),oe=H(()=>({dp__main:!0,dp__theme_dark:t.dark,dp__theme_light:!t.dark,dp__flex_display:G.value.enabled,"dp--flex-display-collapsed":Q.value,dp__flex_display_with_input:G.value.input})),B=H(()=>t.dark?"dp__theme_dark":"dp__theme_light"),me=H(()=>t.teleport?{to:typeof t.teleport=="boolean"?"body":t.teleport,disabled:!t.teleport||G.value.enabled}:{}),te=H(()=>({class:"dp__outer_menu_wrap"})),u=H(()=>G.value.enabled&&(t.timePicker||t.monthPicker||t.yearPicker||t.quarterPicker)),V=()=>{var x,W;return(W=(x=v.value)==null?void 0:x.$el)==null?void 0:W.getBoundingClientRect()},de=()=>{p.value&&(O.value.closeOnScroll?Xe():ne())},b=()=>{var x;p.value&&ne();const W=(x=w.value)==null?void 0:x.$el.getBoundingClientRect().width;Q.value=document.body.offsetWidth<=W},fe=x=>{x.key==="Tab"&&!G.value.enabled&&!t.teleport&&O.value.tabOutClosesMenu&&(A.value.contains(document.activeElement)||Xe()),_.value=x.shiftKey},g=x=>{_.value=x.shiftKey},K=()=>{!t.disabled&&!t.readonly&&(D(ul,t),ne(!1),p.value=!0,p.value&&l("open"),p.value||Ba(),k(t.modelValue))},Me=()=>{var x;C.value="",Ba(),(x=v.value)==null||x.setParsedDate(null),l("update:model-value",null),l("update:model-timezone-value",null),l("cleared"),O.value.closeOnClearValue&&Xe()},pe=()=>{const x=r.value;return!x||!Array.isArray(x)&&S(x)?!0:Array.isArray(x)?se.value.enabled||x.length===2&&S(x[0])&&S(x[1])?!0:j.value.partialRange&&!t.timePicker?S(x[0]):!1:!1},Ke=()=>{d()&&pe()?(le(),Xe()):l("invalid-select",r.value)},ve=x=>{pa(),le(),O.value.closeOnAutoApply&&!x&&Xe()},pa=()=>{v.value&&N.value.enabled&&v.value.setParsedDate(r.value)},na=(x=!1)=>{t.autoApply&&U(r.value)&&pe()&&(j.value.enabled&&Array.isArray(r.value)?(j.value.partialRange||r.value.length===2)&&ve(x):ve(x))},Ba=()=>{N.value.enabled||(r.value=null)},Xe=()=>{G.value.enabled||(p.value&&(p.value=!1,L.value=!1,ae(!1),q(!1),Y(),l("closed"),C.value&&k(o.value)),Ba(),l("blur"))},Fa=(x,W,ue=!1)=>{if(!x){r.value=null;return}const He=Array.isArray(x)?!x.some(ka=>!S(ka)):S(x),Je=U(x);He&&Je&&(r.value=x,W&&(M.value=ue,Ke(),l("text-submit")))},pt=()=>{t.autoApply&&U(r.value)&&le(),pa()},Za=()=>p.value?Xe():K(),mt=x=>{r.value=x},yt=()=>{N.value.enabled&&(f.value=!0,ee()),l("focus")},ft=()=>{if(N.value.enabled&&(f.value=!1,k(t.modelValue),M.value)){const x=yn(A.value,_.value);x==null||x.focus()}l("blur")},ht=x=>{w.value&&w.value.updateMonthYear(0,{month:el(x.month),year:el(x.year)})},gt=x=>{k(x??t.modelValue)},bt=(x,W)=>{var ue;(ue=w.value)==null||ue.switchView(x,W)},y=x=>O.value.onClickOutside?O.value.onClickOutside(x):Xe(),X=(x=0)=>{var W;(W=w.value)==null||W.handleFlow(x)};return io(P,v,()=>y(pe)),a({closeMenu:Xe,selectDate:Ke,clearValue:Me,openMenu:K,onScroll:de,formatInputValue:ee,updateInternalModelValue:mt,setMonthYear:ht,parseModel:gt,switchView:bt,toggleMenu:Za,handleFlow:X}),(x,W)=>($(),z("div",{ref_key:"pickerWrapperRef",ref:A,class:$e(oe.value),"data-datepicker-instance":""},[Ge(no,Ie({ref_key:"inputRef",ref:v,"input-value":i(C),"onUpdate:inputValue":W[0]||(W[0]=ue=>Xt(C)?C.value=ue:null),"is-menu-open":p.value},x.$props,{onClear:Me,onOpen:K,onSetInputDate:Fa,onSetEmptyDate:i(le),onSelectDate:Ke,onToggle:Za,onClose:Xe,onFocus:yt,onBlur:ft,onRealBlur:W[1]||(W[1]=ue=>f.value=!1)}),ze({_:2},[xe(i(s),(ue,He)=>({name:ue,fn:ge(Je=>[ie(x.$slots,ue,Ve(qe(Je)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),($(),ke(ut(x.teleport?Fl:"div"),Ve(qe(me.value)),{default:ge(()=>[Ge(Va,{name:i(T)(i(c)),css:i(I)&&!i(G).enabled},{default:ge(()=>[p.value?($(),z("div",Ie({key:0,ref_key:"dpWrapMenuRef",ref:P},te.value,{class:{"dp--menu-wrapper":!i(G).enabled},style:i(G).enabled?void 0:i(h)}),[Ge(ul,Ie({ref_key:"dpMenuRef",ref:w},x.$props,{"internal-model-value":i(r),"onUpdate:internalModelValue":W[2]||(W[2]=ue=>Xt(r)?r.value=ue:null),class:{[B.value]:!0,"dp--menu-wrapper":x.teleport},"open-on-top":i(c),"no-overlay-focus":u.value,collapse:Q.value,"get-input-rect":V,onClosePicker:Xe,onSelectDate:Ke,onAutoApply:na,onTimeUpdate:pt,onFlowStep:W[3]||(W[3]=ue=>x.$emit("flow-step",ue)),onUpdateMonthYear:W[4]||(W[4]=ue=>x.$emit("update-month-year",ue)),onInvalidSelect:W[5]||(W[5]=ue=>x.$emit("invalid-select",i(r))),onAutoApplyInvalid:W[6]||(W[6]=ue=>x.$emit("invalid-select",ue)),onInvalidFixedRange:W[7]||(W[7]=ue=>x.$emit("invalid-fixed-range",ue)),onRecalculatePosition:i(ne),onTooltipOpen:W[8]||(W[8]=ue=>x.$emit("tooltip-open",ue)),onTooltipClose:W[9]||(W[9]=ue=>x.$emit("tooltip-close",ue)),onTimePickerOpen:W[10]||(W[10]=ue=>x.$emit("time-picker-open",ue)),onTimePickerClose:W[11]||(W[11]=ue=>x.$emit("time-picker-close",ue)),onAmPmChange:W[12]||(W[12]=ue=>x.$emit("am-pm-change",ue)),onRangeStart:W[13]||(W[13]=ue=>x.$emit("range-start",ue)),onRangeEnd:W[14]||(W[14]=ue=>x.$emit("range-end",ue)),onDateUpdate:W[15]||(W[15]=ue=>x.$emit("date-update",ue)),onInvalidDate:W[16]||(W[16]=ue=>x.$emit("invalid-date",ue)),onOverlayToggle:W[17]||(W[17]=ue=>x.$emit("overlay-toggle",ue))}),ze({_:2},[xe(i(re),(ue,He)=>({name:ue,fn:ge(Je=>[ie(x.$slots,ue,Ve(qe({...Je})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","onRecalculatePosition"])],16)):E("",!0)]),_:3},8,["name","css"])]),_:3},16))],2))}}),Nl=(()=>{const e=so;return e.install=a=>{a.component("Vue3DatePicker",e)},e})(),co=Object.freeze(Object.defineProperty({__proto__:null,default:Nl},Symbol.toStringTag,{value:"Module"}));Object.entries(co).forEach(([e,a])=>{e!=="default"&&(Nl[e]=a)});export{Nl as H};
