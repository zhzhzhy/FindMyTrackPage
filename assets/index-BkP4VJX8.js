var Lve=Object.defineProperty;var kve=(t,e,n)=>e in t?Lve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Pve=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var oi=(t,e,n)=>(kve(t,typeof e!="symbol"?e+"":e,n),n);var GBt=Pve((Hd,Qd)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function QN(t,e){const n=new Set(t.split(","));return r=>n.has(r)}const wo={},Qw=[],Qa=()=>{},Fve=()=>!1,CB=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),jN=t=>t.startsWith("onUpdate:"),Nl=Object.assign,GN=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Rve=Object.prototype.hasOwnProperty,aa=(t,e)=>Rve.call(t,e),Jn=Array.isArray,jw=t=>a5(t)==="[object Map]",EB=t=>a5(t)==="[object Set]",_y=t=>a5(t)==="[object Date]",Dr=t=>typeof t=="function",Hr=t=>typeof t=="string",i0=t=>typeof t=="symbol",mi=t=>t!==null&&typeof t=="object",KC=t=>(mi(t)||Dr(t))&&Dr(t.then)&&Dr(t.catch),Dte=Object.prototype.toString,a5=t=>Dte.call(t),X3=t=>a5(t).slice(8,-1),ZT=t=>a5(t)==="[object Object]",KN=t=>Hr(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,sC=QN(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),SB=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Ove=/-(\w)/g,Gd=SB(t=>t.replace(Ove,(e,n)=>n?n.toUpperCase():"")),Dve=/\B([A-Z])/g,g0=SB(t=>t.replace(Dve,"-$1").toLowerCase()),s5=SB(t=>t.charAt(0).toUpperCase()+t.slice(1)),Z3=SB(t=>t?`on${s5(t)}`:""),wm=(t,e)=>!Object.is(t,e),J3=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Nte=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},tR=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Nve=t=>{const e=Hr(t)?Number(t):NaN;return isNaN(e)?t:e};let Xj;const Ute=()=>Xj||(Xj=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function or(t){if(Jn(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Hr(r)?Vve(r):or(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(Hr(t)||mi(t))return t}const Uve=/;(?![^(]*\))/g,zve=/:([^]+)/,$ve=/\/\*[^]*?\*\//g;function Vve(t){const e={};return t.replace($ve,"").split(Uve).forEach(n=>{if(n){const r=n.split(zve);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Se(t){let e="";if(Hr(t))e=t;else if(Jn(t))for(let n=0;n<t.length;n++){const r=Se(t[n]);r&&(e+=r+" ")}else if(mi(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function ho(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Hr(e)&&(t.class=Se(e)),n&&(t.style=or(n)),t}const Hve="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Qve=QN(Hve);function zte(t){return!!t||t===""}function jve(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=f2(t[r],e[r]);return n}function f2(t,e){if(t===e)return!0;let n=_y(t),r=_y(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=i0(t),r=i0(e),n||r)return t===e;if(n=Jn(t),r=Jn(e),n||r)return n&&r?jve(t,e):!1;if(n=mi(t),r=mi(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const l in t){const c=t.hasOwnProperty(l),a=e.hasOwnProperty(l);if(c&&!a||!c&&a||!f2(t[l],e[l]))return!1}}return String(t)===String(e)}function $te(t,e){return t.findIndex(n=>f2(n,e))}const Cn=t=>Hr(t)?t:t==null?"":Jn(t)||mi(t)&&(t.toString===Dte||!Dr(t.toString))?JSON.stringify(t,Vte,2):String(t),Vte=(t,e)=>e&&e.__v_isRef?Vte(t,e.value):jw(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[qL(r,s)+" =>"]=i,n),{})}:EB(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>qL(n))}:i0(e)?qL(e):mi(e)&&!Jn(e)&&!ZT(e)?String(e):e,qL=(t,e="")=>{var n;return i0(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Rd;class Hte{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Rd,!e&&Rd&&(this.index=(Rd.scopes||(Rd.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Rd;try{return Rd=this,e()}finally{Rd=n}}}on(){Rd=this}off(){Rd=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Gve(t){return new Hte(t)}function Kve(t,e=Rd){e&&e.active&&e.effects.push(t)}function WN(){return Rd}function qN(t){Rd&&Rd.cleanups.push(t)}let ny;class YN{constructor(e,n,r,i){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Kve(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,I1();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(Wve(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),L1()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=Jv,n=ny;try{return Jv=!0,ny=this,this._runnings++,Zj(this),this.fn()}finally{Jj(this),this._runnings--,ny=n,Jv=e}}stop(){this.active&&(Zj(this),Jj(this),this.onStop&&this.onStop(),this.active=!1)}}function Wve(t){return t.value}function Zj(t){t._trackId++,t._depsLength=0}function Jj(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)Qte(t.deps[e],t);t.deps.length=t._depsLength}}function Qte(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let Jv=!0,nR=0;const jte=[];function I1(){jte.push(Jv),Jv=!1}function L1(){const t=jte.pop();Jv=t===void 0?!0:t}function XN(){nR++}function ZN(){for(nR--;!nR&&rR.length;)rR.shift()()}function Gte(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&Qte(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const rR=[];function Kte(t,e,n){XN();for(const r of t.keys()){let i;r._dirtyLevel<e&&(i??(i=t.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=e),r._shouldSchedule&&(i??(i=t.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&rR.push(r.scheduler)))}ZN()}const Wte=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},JT=new WeakMap,ry=Symbol(""),iR=Symbol("");function Kh(t,e,n){if(Jv&&ny){let r=JT.get(t);r||JT.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=Wte(()=>r.delete(n))),Gte(ny,i)}}function Xg(t,e,n,r,i,s){const l=JT.get(t);if(!l)return;let c=[];if(e==="clear")c=[...l.values()];else if(n==="length"&&Jn(t)){const a=Number(r);l.forEach((f,p)=>{(p==="length"||!i0(p)&&p>=a)&&c.push(f)})}else switch(n!==void 0&&c.push(l.get(n)),e){case"add":Jn(t)?KN(n)&&c.push(l.get("length")):(c.push(l.get(ry)),jw(t)&&c.push(l.get(iR)));break;case"delete":Jn(t)||(c.push(l.get(ry)),jw(t)&&c.push(l.get(iR)));break;case"set":jw(t)&&c.push(l.get(ry));break}XN();for(const a of c)a&&Kte(a,4);ZN()}function qve(t,e){const n=JT.get(t);return n&&n.get(e)}const Yve=QN("__proto__,__v_isRef,__isVue"),qte=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(i0)),eG=Xve();function Xve(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=Ka(this);for(let s=0,l=this.length;s<l;s++)Kh(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(Ka)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){I1(),XN();const r=Ka(this)[e].apply(this,n);return ZN(),L1(),r}}),t}function Zve(t){i0(t)||(t=String(t));const e=Ka(this);return Kh(e,"has",t),e.hasOwnProperty(t)}class Yte{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?h1e:ene:s?Jte:Zte).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const l=Jn(e);if(!i){if(l&&aa(eG,n))return Reflect.get(eG,n,r);if(n==="hasOwnProperty")return Zve}const c=Reflect.get(e,n,r);return(i0(n)?qte.has(n):Yve(n))||(i||Kh(e,"get",n),s)?c:fs(c)?l&&KN(n)?c:c.value:mi(c)?i?Y2(c):ha(c):c}}class Xte extends Yte{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const a=WC(s);if(!e8(r)&&!WC(r)&&(s=Ka(s),r=Ka(r)),!Jn(e)&&fs(s)&&!fs(r))return a?!1:(s.value=r,!0)}const l=Jn(e)&&KN(n)?Number(n)<e.length:aa(e,n),c=Reflect.set(e,n,r,i);return e===Ka(i)&&(l?wm(r,s)&&Xg(e,"set",n,r):Xg(e,"add",n,r)),c}deleteProperty(e,n){const r=aa(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&Xg(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!i0(n)||!qte.has(n))&&Kh(e,"has",n),r}ownKeys(e){return Kh(e,"iterate",Jn(e)?"length":ry),Reflect.ownKeys(e)}}class Jve extends Yte{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const e1e=new Xte,t1e=new Jve,n1e=new Xte(!0),JN=t=>t,TB=t=>Reflect.getPrototypeOf(t);function lS(t,e,n=!1,r=!1){t=t.__v_raw;const i=Ka(t),s=Ka(e);n||(wm(e,s)&&Kh(i,"get",e),Kh(i,"get",s));const{has:l}=TB(i),c=r?JN:n?r9:qC;if(l.call(i,e))return c(t.get(e));if(l.call(i,s))return c(t.get(s));t!==i&&t.get(e)}function uS(t,e=!1){const n=this.__v_raw,r=Ka(n),i=Ka(t);return e||(wm(t,i)&&Kh(r,"has",t),Kh(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function cS(t,e=!1){return t=t.__v_raw,!e&&Kh(Ka(t),"iterate",ry),Reflect.get(t,"size",t)}function tG(t){t=Ka(t);const e=Ka(this);return TB(e).has.call(e,t)||(e.add(t),Xg(e,"add",t,t)),this}function nG(t,e){e=Ka(e);const n=Ka(this),{has:r,get:i}=TB(n);let s=r.call(n,t);s||(t=Ka(t),s=r.call(n,t));const l=i.call(n,t);return n.set(t,e),s?wm(e,l)&&Xg(n,"set",t,e):Xg(n,"add",t,e),this}function rG(t){const e=Ka(this),{has:n,get:r}=TB(e);let i=n.call(e,t);i||(t=Ka(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&Xg(e,"delete",t,void 0),s}function iG(){const t=Ka(this),e=t.size!==0,n=t.clear();return e&&Xg(t,"clear",void 0,void 0),n}function hS(t,e){return function(r,i){const s=this,l=s.__v_raw,c=Ka(l),a=e?JN:t?r9:qC;return!t&&Kh(c,"iterate",ry),l.forEach((f,p)=>r.call(i,a(f),a(p),s))}}function dS(t,e,n){return function(...r){const i=this.__v_raw,s=Ka(i),l=jw(s),c=t==="entries"||t===Symbol.iterator&&l,a=t==="keys"&&l,f=i[t](...r),p=n?JN:e?r9:qC;return!e&&Kh(s,"iterate",a?iR:ry),{next(){const{value:m,done:v}=f.next();return v?{value:m,done:v}:{value:c?[p(m[0]),p(m[1])]:p(m),done:v}},[Symbol.iterator](){return this}}}}function ov(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function r1e(){const t={get(s){return lS(this,s)},get size(){return cS(this)},has:uS,add:tG,set:nG,delete:rG,clear:iG,forEach:hS(!1,!1)},e={get(s){return lS(this,s,!1,!0)},get size(){return cS(this)},has:uS,add:tG,set:nG,delete:rG,clear:iG,forEach:hS(!1,!0)},n={get(s){return lS(this,s,!0)},get size(){return cS(this,!0)},has(s){return uS.call(this,s,!0)},add:ov("add"),set:ov("set"),delete:ov("delete"),clear:ov("clear"),forEach:hS(!0,!1)},r={get(s){return lS(this,s,!0,!0)},get size(){return cS(this,!0)},has(s){return uS.call(this,s,!0)},add:ov("add"),set:ov("set"),delete:ov("delete"),clear:ov("clear"),forEach:hS(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=dS(s,!1,!1),n[s]=dS(s,!0,!1),e[s]=dS(s,!1,!0),r[s]=dS(s,!0,!0)}),[t,n,e,r]}const[i1e,a1e,s1e,o1e]=r1e();function e9(t,e){const n=e?t?o1e:s1e:t?a1e:i1e;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(aa(n,i)&&i in r?n:r,i,s)}const l1e={get:e9(!1,!1)},u1e={get:e9(!1,!0)},c1e={get:e9(!0,!1)},Zte=new WeakMap,Jte=new WeakMap,ene=new WeakMap,h1e=new WeakMap;function d1e(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function f1e(t){return t.__v_skip||!Object.isExtensible(t)?0:d1e(X3(t))}function ha(t){return WC(t)?t:n9(t,!1,e1e,l1e,Zte)}function t9(t){return n9(t,!1,n1e,u1e,Jte)}function Y2(t){return n9(t,!0,t1e,c1e,ene)}function n9(t,e,n,r,i){if(!mi(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const l=f1e(t);if(l===0)return t;const c=new Proxy(t,l===2?r:n);return i.set(t,c),c}function oC(t){return WC(t)?oC(t.__v_raw):!!(t&&t.__v_isReactive)}function WC(t){return!!(t&&t.__v_isReadonly)}function e8(t){return!!(t&&t.__v_isShallow)}function tne(t){return t?!!t.__v_raw:!1}function Ka(t){const e=t&&t.__v_raw;return e?Ka(e):t}function Gw(t){return Object.isExtensible(t)&&Nte(t,"__v_skip",!0),t}const qC=t=>mi(t)?ha(t):t,r9=t=>mi(t)?Y2(t):t;class nne{constructor(e,n,r,i){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new YN(()=>e(this._value),()=>lC(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=Ka(this);return(!e._cacheable||e.effect.dirty)&&wm(e._value,e._value=e.effect.run())&&lC(e,4),i9(e),e.effect._dirtyLevel>=2&&lC(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function rne(t,e,n=!1){let r,i;const s=Dr(t);return s?(r=t,i=Qa):(r=t.get,i=t.set),new nne(r,i,s||!i,n)}function i9(t){var e;Jv&&ny&&(t=Ka(t),Gte(ny,(e=t.dep)!=null?e:t.dep=Wte(()=>t.dep=void 0,t instanceof nne?t:void 0)))}function lC(t,e=4,n){t=Ka(t);const r=t.dep;r&&Kte(r,e)}function fs(t){return!!(t&&t.__v_isRef===!0)}function Te(t){return ine(t,!1)}function vs(t){return ine(t,!0)}function ine(t,e){return fs(t)?t:new p1e(t,e)}class p1e{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Ka(e),this._value=n?e:qC(e)}get value(){return i9(this),this._value}set value(e){const n=this.__v_isShallow||e8(e)||WC(e);e=n?e:Ka(e),wm(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:qC(e),lC(this,4))}}function S(t){return fs(t)?t.value:t}const A1e={get:(t,e,n)=>S(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return fs(i)&&!fs(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function ane(t){return oC(t)?t:new Proxy(t,A1e)}class m1e{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=e(()=>i9(this),()=>lC(this));this._get=n,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function sne(t){return new m1e(t)}function Gu(t){const e=Jn(t)?new Array(t.length):{};for(const n in t)e[n]=one(t,n);return e}class g1e{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return qve(Ka(this._object),this._key)}}class v1e{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Na(t,e,n){return fs(t)?t:Dr(t)?new v1e(t):mi(t)&&arguments.length>1?one(t,e,n):Te(t)}function one(t,e,n){const r=t[e];return fs(r)?r:new g1e(t,e,n)}/**
* @vue/runtime-core v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function e1(t,e,n,r){try{return r?t(...r):t()}catch(i){BB(i,e,n)}}function If(t,e,n,r){if(Dr(t)){const i=e1(t,e,n,r);return i&&KC(i)&&i.catch(s=>{BB(s,e,n)}),i}if(Jn(t)){const i=[];for(let s=0;s<t.length;s++)i.push(If(t[s],e,n,r));return i}}function BB(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const f=s.ec;if(f){for(let p=0;p<f.length;p++)if(f[p](t,l,c)===!1)return}s=s.parent}const a=e.appContext.config.errorHandler;if(a){I1(),e1(a,null,10,[t,l,c]),L1();return}}_1e(t,n,i,r)}function _1e(t,e,n,r=!0){console.error(t)}let YC=!1,aR=!1;const Rc=[];let tm=0;const Kw=[];let Iv=null,F_=0;const lne=Promise.resolve();let a9=null;function dr(t){const e=a9||lne;return t?e.then(this?t.bind(this):t):e}function y1e(t){let e=tm+1,n=Rc.length;for(;e<n;){const r=e+n>>>1,i=Rc[r],s=XC(i);s<t||s===t&&i.pre?e=r+1:n=r}return e}function s9(t){(!Rc.length||!Rc.includes(t,YC&&t.allowRecurse?tm+1:tm))&&(t.id==null?Rc.push(t):Rc.splice(y1e(t.id),0,t),une())}function une(){!YC&&!aR&&(aR=!0,a9=lne.then(hne))}function b1e(t){const e=Rc.indexOf(t);e>tm&&Rc.splice(e,1)}function w1e(t){Jn(t)?Kw.push(...t):(!Iv||!Iv.includes(t,t.allowRecurse?F_+1:F_))&&Kw.push(t),une()}function aG(t,e,n=YC?tm+1:0){for(;n<Rc.length;n++){const r=Rc[n];if(r&&r.pre){if(t&&r.id!==t.uid)continue;Rc.splice(n,1),n--,r()}}}function cne(t){if(Kw.length){const e=[...new Set(Kw)].sort((n,r)=>XC(n)-XC(r));if(Kw.length=0,Iv){Iv.push(...e);return}for(Iv=e,F_=0;F_<Iv.length;F_++)Iv[F_]();Iv=null,F_=0}}const XC=t=>t.id==null?1/0:t.id,x1e=(t,e)=>{const n=XC(t)-XC(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function hne(t){aR=!1,YC=!0,Rc.sort(x1e);try{for(tm=0;tm<Rc.length;tm++){const e=Rc[tm];e&&e.active!==!1&&e1(e,null,14)}}finally{tm=0,Rc.length=0,cne(),YC=!1,a9=null,(Rc.length||Kw.length)&&hne()}}function C1e(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||wo;let i=n;const s=e.startsWith("update:"),l=s&&e.slice(7);if(l&&l in r){const p=`${l==="modelValue"?"model":l}Modifiers`,{number:m,trim:v}=r[p]||wo;v&&(i=n.map(y=>Hr(y)?y.trim():y)),m&&(i=n.map(tR))}let c,a=r[c=Z3(e)]||r[c=Z3(Gd(e))];!a&&s&&(a=r[c=Z3(g0(e))]),a&&If(a,t,6,i);const f=r[c+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,If(f,t,6,i)}}function dne(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let l={},c=!1;if(!Dr(t)){const a=f=>{const p=dne(f,e,!0);p&&(c=!0,Nl(l,p))};!n&&e.mixins.length&&e.mixins.forEach(a),t.extends&&a(t.extends),t.mixins&&t.mixins.forEach(a)}return!s&&!c?(mi(t)&&r.set(t,null),null):(Jn(s)?s.forEach(a=>l[a]=null):Nl(l,s),mi(t)&&r.set(t,l),l)}function MB(t,e){return!t||!CB(e)?!1:(e=e.slice(2).replace(/Once$/,""),aa(t,e[0].toLowerCase()+e.slice(1))||aa(t,g0(e))||aa(t,e))}let bu=null,IB=null;function t8(t){const e=bu;return bu=t,IB=t&&t.type.__scopeId||null,e}function E1e(t){IB=t}function S1e(){IB=null}function xt(t,e=bu,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&_G(-1);const s=t8(e);let l;try{l=t(...i)}finally{t8(s),r._d&&_G(1)}return l};return r._n=!0,r._c=!0,r._d=!0,r}function YL(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:l,attrs:c,emit:a,render:f,renderCache:p,props:m,data:v,setupState:y,ctx:T,inheritAttrs:C}=t,k=t8(t);let M,P;try{if(n.shapeFlag&4){const N=i||r,z=N;M=em(f.call(z,N,p,m,y,v,T)),P=c}else{const N=e;M=em(N.length>1?N(m,{attrs:c,slots:l,emit:a}):N(m,null)),P=e.props?c:T1e(c)}}catch(N){fC.length=0,BB(N,t,1),M=ht(Dc)}let R=M;if(P&&C!==!1){const N=Object.keys(P),{shapeFlag:z}=R;N.length&&z&7&&(s&&N.some(jN)&&(P=B1e(P,s)),R=a0(R,P,!1,!0))}return n.dirs&&(R=a0(R,null,!1,!0),R.dirs=R.dirs?R.dirs.concat(n.dirs):n.dirs),n.transition&&(R.transition=n.transition),M=R,t8(k),M}const T1e=t=>{let e;for(const n in t)(n==="class"||n==="style"||CB(n))&&((e||(e={}))[n]=t[n]);return e},B1e=(t,e)=>{const n={};for(const r in t)(!jN(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function M1e(t,e,n){const{props:r,children:i,component:s}=t,{props:l,children:c,patchFlag:a}=e,f=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return r?sG(r,l,f):!!l;if(a&8){const p=e.dynamicProps;for(let m=0;m<p.length;m++){const v=p[m];if(l[v]!==r[v]&&!MB(f,v))return!0}}}else return(i||c)&&(!c||!c.$stable)?!0:r===l?!1:r?l?sG(r,l,f):!0:!!l;return!1}function sG(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!MB(n,s))return!0}return!1}function I1e({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const o9="components",L1e="directives";function Kr(t,e){return l9(o9,t,!0,e)||t}const fne=Symbol.for("v-ndc");function fi(t){return Hr(t)?l9(o9,t,!1)||t:t||fne}function LB(t){return l9(L1e,t)}function l9(t,e,n=!0,r=!1){const i=bu||ac;if(i){const s=i.type;if(t===o9){const c=b_e(s,!1);if(c&&(c===e||c===Gd(e)||c===s5(Gd(e))))return s}const l=oG(i[t]||s[t],e)||oG(i.appContext[t],e);return!l&&r?s:l}}function oG(t,e){return t&&(t[e]||t[Gd(e)]||t[s5(Gd(e))])}const k1e=t=>t.__isSuspense;function P1e(t,e){e&&e.pendingBranch?Jn(t)?e.effects.push(...t):e.effects.push(t):w1e(t)}const F1e=Symbol.for("v-scx"),R1e=()=>ar(F1e);function uc(t,e){return kB(t,null,e)}function O1e(t,e){return kB(t,null,{flush:"sync"})}const fS={};function ln(t,e,n){return kB(t,e,n)}function kB(t,e,{immediate:n,deep:r,flush:i,once:s,onTrack:l,onTrigger:c}=wo){if(e&&s){const H=e;e=(...j)=>{H(...j),z()}}const a=ac,f=H=>r===!0?H:$_(H,r===!1?1:void 0);let p,m=!1,v=!1;if(fs(t)?(p=()=>t.value,m=e8(t)):oC(t)?(p=()=>f(t),m=!0):Jn(t)?(v=!0,m=t.some(H=>oC(H)||e8(H)),p=()=>t.map(H=>{if(fs(H))return H.value;if(oC(H))return f(H);if(Dr(H))return e1(H,a,2)})):Dr(t)?e?p=()=>e1(t,a,2):p=()=>(y&&y(),If(t,a,3,[T])):p=Qa,e&&r){const H=p;p=()=>$_(H())}let y,T=H=>{y=R.onStop=()=>{e1(H,a,4),y=R.onStop=void 0}},C;if(OB)if(T=Qa,e?n&&If(e,a,3,[p(),v?[]:void 0,T]):p(),i==="sync"){const H=R1e();C=H.__watcherHandles||(H.__watcherHandles=[])}else return Qa;let k=v?new Array(t.length).fill(fS):fS;const M=()=>{if(!(!R.active||!R.dirty))if(e){const H=R.run();(r||m||(v?H.some((j,Q)=>wm(j,k[Q])):wm(H,k)))&&(y&&y(),If(e,a,3,[H,k===fS?void 0:v&&k[0]===fS?[]:k,T]),k=H)}else R.run()};M.allowRecurse=!!e;let P;i==="sync"?P=M:i==="post"?P=()=>Rh(M,a&&a.suspense):(M.pre=!0,a&&(M.id=a.uid),P=()=>s9(M));const R=new YN(p,Qa,P),N=WN(),z=()=>{R.stop(),N&&GN(N.effects,R)};return e?n?M():k=R.run():i==="post"?Rh(R.run.bind(R),a&&a.suspense):R.run(),C&&C.push(z),z}function D1e(t,e,n){const r=this.proxy,i=Hr(t)?t.includes(".")?pne(r,t):()=>r[t]:t.bind(r,r);let s;Dr(e)?s=e:(s=e.handler,n=e);const l=o5(this),c=kB(i,s.bind(r),n);return l(),c}function pne(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function $_(t,e=1/0,n){if(e<=0||!mi(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,fs(t))$_(t.value,e,n);else if(Jn(t))for(let r=0;r<t.length;r++)$_(t[r],e,n);else if(EB(t)||jw(t))t.forEach(r=>{$_(r,e,n)});else if(ZT(t))for(const r in t)$_(t[r],e,n);return t}function Jr(t,e){if(bu===null)return t;const n=DB(bu)||bu.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,l,c,a=wo]=e[i];s&&(Dr(s)&&(s={mounted:s,updated:s}),s.deep&&$_(l),r.push({dir:s,instance:n,value:l,oldValue:void 0,arg:c,modifiers:a}))}return t}function g_(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let l=0;l<i.length;l++){const c=i[l];s&&(c.oldValue=s[l].value);let a=c.dir[r];a&&(I1(),If(a,n,8,[t.el,c,t,e]),L1())}}const Lv=Symbol("_leaveCb"),pS=Symbol("_enterCb");function Ane(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Fr(()=>{t.isMounted=!0}),ps(()=>{t.isUnmounting=!0}),t}const Af=[Function,Array],mne={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Af,onEnter:Af,onAfterEnter:Af,onEnterCancelled:Af,onBeforeLeave:Af,onLeave:Af,onAfterLeave:Af,onLeaveCancelled:Af,onBeforeAppear:Af,onAppear:Af,onAfterAppear:Af,onAppearCancelled:Af},N1e={name:"BaseTransition",props:mne,setup(t,{slots:e}){const n=ci(),r=Ane();return()=>{const i=e.default&&u9(e.default(),!0);if(!i||!i.length)return;let s=i[0];if(i.length>1){for(const v of i)if(v.type!==Dc){s=v;break}}const l=Ka(t),{mode:c}=l;if(r.isLeaving)return XL(s);const a=lG(s);if(!a)return XL(s);const f=ZC(a,l,r,n);JC(a,f);const p=n.subTree,m=p&&lG(p);if(m&&m.type!==Dc&&!R_(a,m)){const v=ZC(m,l,r,n);if(JC(m,v),c==="out-in"&&a.type!==Dc)return r.isLeaving=!0,v.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},XL(s);c==="in-out"&&a.type!==Dc&&(v.delayLeave=(y,T,C)=>{const k=gne(r,m);k[String(m.key)]=m,y[Lv]=()=>{T(),y[Lv]=void 0,delete f.delayedLeave},f.delayedLeave=C})}return s}}},U1e=N1e;function gne(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function ZC(t,e,n,r){const{appear:i,mode:s,persisted:l=!1,onBeforeEnter:c,onEnter:a,onAfterEnter:f,onEnterCancelled:p,onBeforeLeave:m,onLeave:v,onAfterLeave:y,onLeaveCancelled:T,onBeforeAppear:C,onAppear:k,onAfterAppear:M,onAppearCancelled:P}=e,R=String(t.key),N=gne(n,t),z=(Q,G)=>{Q&&If(Q,r,9,G)},H=(Q,G)=>{const ie=G[1];z(Q,G),Jn(Q)?Q.every(q=>q.length<=1)&&ie():Q.length<=1&&ie()},j={mode:s,persisted:l,beforeEnter(Q){let G=c;if(!n.isMounted)if(i)G=C||c;else return;Q[Lv]&&Q[Lv](!0);const ie=N[R];ie&&R_(t,ie)&&ie.el[Lv]&&ie.el[Lv](),z(G,[Q])},enter(Q){let G=a,ie=f,q=p;if(!n.isMounted)if(i)G=k||a,ie=M||f,q=P||p;else return;let W=!1;const ee=Q[pS]=he=>{W||(W=!0,he?z(q,[Q]):z(ie,[Q]),j.delayedLeave&&j.delayedLeave(),Q[pS]=void 0)};G?H(G,[Q,ee]):ee()},leave(Q,G){const ie=String(t.key);if(Q[pS]&&Q[pS](!0),n.isUnmounting)return G();z(m,[Q]);let q=!1;const W=Q[Lv]=ee=>{q||(q=!0,G(),ee?z(T,[Q]):z(y,[Q]),Q[Lv]=void 0,N[ie]===t&&delete N[ie])};N[ie]=t,v?H(v,[Q,W]):W()},clone(Q){return ZC(Q,e,n,r)}};return j}function XL(t){if(PB(t))return t=a0(t),t.children=null,t}function lG(t){if(!PB(t))return t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Dr(n.default))return n.default()}}function JC(t,e){t.shapeFlag&6&&t.component?JC(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function u9(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let l=t[s];const c=n==null?l.key:String(n)+String(l.key!=null?l.key:s);l.type===Vn?(l.patchFlag&128&&i++,r=r.concat(u9(l.children,e,c))):(e||l.type!==Dc)&&r.push(c!=null?a0(l,{key:c}):l)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Be(t,e){return Dr(t)?Nl({name:t.name},e,{setup:t}):t}const uC=t=>!!t.type.__asyncLoader,PB=t=>t.type.__isKeepAlive;function z1e(t,e){_ne(t,"a",e)}function vne(t,e){_ne(t,"da",e)}function _ne(t,e,n=ac){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(FB(e,r,n),n){let i=n.parent;for(;i&&i.parent;)PB(i.parent.vnode)&&$1e(r,e,n,i),i=i.parent}}function $1e(t,e,n,r){const i=FB(e,t,r,!0);Hf(()=>{GN(r[e],i)},n)}function FB(t,e,n=ac,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...l)=>{if(n.isUnmounted)return;I1();const c=o5(n),a=If(e,n,t,l);return c(),L1(),a});return r?i.unshift(s):i.push(s),s}}const v0=t=>(e,n=ac)=>(!OB||t==="sp")&&FB(t,(...r)=>e(...r),n),RB=v0("bm"),Fr=v0("m"),c9=v0("bu"),_0=v0("u"),ps=v0("bum"),Hf=v0("um"),V1e=v0("sp"),H1e=v0("rtg"),Q1e=v0("rtc");function j1e(t,e=ac){FB("ec",t,e)}function Yr(t,e,n,r){let i;const s=n;if(Jn(t)||Hr(t)){i=new Array(t.length);for(let l=0,c=t.length;l<c;l++)i[l]=e(t[l],l,void 0,s)}else if(typeof t=="number"){i=new Array(t);for(let l=0;l<t;l++)i[l]=e(l+1,l,void 0,s)}else if(mi(t))if(t[Symbol.iterator])i=Array.from(t,(l,c)=>e(l,c,void 0,s));else{const l=Object.keys(t);i=new Array(l.length);for(let c=0,a=l.length;c<a;c++){const f=l[c];i[c]=e(t[f],f,c,s)}}else i=[];return i}function Uo(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(Jn(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return t}function Ft(t,e,n={},r,i){if(bu.isCE||bu.parent&&uC(bu.parent)&&bu.parent.isCE)return e!=="default"&&(n.name=e),ht("slot",n,r&&r());let s=t[e];s&&s._c&&(s._d=!1),X();const l=s&&yne(s(n)),c=Ut(Vn,{key:n.key||l&&l.key||`_${e}`},l||(r?r():[]),l&&t._===1?64:-2);return c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),s&&s._c&&(s._d=!0),c}function yne(t){return t.some(e=>Ks(e)?!(e.type===Dc||e.type===Vn&&!yne(e.children)):!0)?t:null}function G1e(t,e){const n={};for(const r in t)n[Z3(r)]=t[r];return n}const sR=t=>t?One(t)?DB(t)||t.proxy:sR(t.parent):null,cC=Nl(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>sR(t.parent),$root:t=>sR(t.root),$emit:t=>t.emit,$options:t=>h9(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,s9(t.update)}),$nextTick:t=>t.n||(t.n=dr.bind(t.proxy)),$watch:t=>D1e.bind(t)}),ZL=(t,e)=>t!==wo&&!t.__isScriptSetup&&aa(t,e),K1e={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:l,type:c,appContext:a}=t;let f;if(e[0]!=="$"){const y=l[e];if(y!==void 0)switch(y){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(ZL(r,e))return l[e]=1,r[e];if(i!==wo&&aa(i,e))return l[e]=2,i[e];if((f=t.propsOptions[0])&&aa(f,e))return l[e]=3,s[e];if(n!==wo&&aa(n,e))return l[e]=4,n[e];oR&&(l[e]=0)}}const p=cC[e];let m,v;if(p)return e==="$attrs"&&Kh(t.attrs,"get",""),p(t);if((m=c.__cssModules)&&(m=m[e]))return m;if(n!==wo&&aa(n,e))return l[e]=4,n[e];if(v=a.config.globalProperties,aa(v,e))return v[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return ZL(i,e)?(i[e]=n,!0):r!==wo&&aa(r,e)?(r[e]=n,!0):aa(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},l){let c;return!!n[l]||t!==wo&&aa(t,l)||ZL(e,l)||(c=s[0])&&aa(c,l)||aa(r,l)||aa(cC,l)||aa(i.config.globalProperties,l)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:aa(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function To(){return bne().slots}function Dy(){return bne().attrs}function bne(){const t=ci();return t.setupContext||(t.setupContext=Nne(t))}function uG(t){return Jn(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let oR=!0;function W1e(t){const e=h9(t),n=t.proxy,r=t.ctx;oR=!1,e.beforeCreate&&cG(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:l,watch:c,provide:a,inject:f,created:p,beforeMount:m,mounted:v,beforeUpdate:y,updated:T,activated:C,deactivated:k,beforeDestroy:M,beforeUnmount:P,destroyed:R,unmounted:N,render:z,renderTracked:H,renderTriggered:j,errorCaptured:Q,serverPrefetch:G,expose:ie,inheritAttrs:q,components:W,directives:ee,filters:he}=e;if(f&&q1e(f,r,null),l)for(const ne in l){const ce=l[ne];Dr(ce)&&(r[ne]=ce.bind(n))}if(i){const ne=i.call(n,n);mi(ne)&&(t.data=ha(ne))}if(oR=!0,s)for(const ne in s){const ce=s[ne],ue=Dr(ce)?ce.bind(n,n):Dr(ce.get)?ce.get.bind(n,n):Qa,ye=!Dr(ce)&&Dr(ce.set)?ce.set.bind(n):Qa,Ee=le({get:ue,set:ye});Object.defineProperty(r,ne,{enumerable:!0,configurable:!0,get:()=>Ee.value,set:se=>Ee.value=se})}if(c)for(const ne in c)wne(c[ne],r,n,ne);if(a){const ne=Dr(a)?a.call(n):a;Reflect.ownKeys(ne).forEach(ce=>{ki(ce,ne[ce])})}p&&cG(p,t,"c");function te(ne,ce){Jn(ce)?ce.forEach(ue=>ne(ue.bind(n))):ce&&ne(ce.bind(n))}if(te(RB,m),te(Fr,v),te(c9,y),te(_0,T),te(z1e,C),te(vne,k),te(j1e,Q),te(Q1e,H),te(H1e,j),te(ps,P),te(Hf,N),te(V1e,G),Jn(ie))if(ie.length){const ne=t.exposed||(t.exposed={});ie.forEach(ce=>{Object.defineProperty(ne,ce,{get:()=>n[ce],set:ue=>n[ce]=ue})})}else t.exposed||(t.exposed={});z&&t.render===Qa&&(t.render=z),q!=null&&(t.inheritAttrs=q),W&&(t.components=W),ee&&(t.directives=ee)}function q1e(t,e,n=Qa){Jn(t)&&(t=lR(t));for(const r in t){const i=t[r];let s;mi(i)?"default"in i?s=ar(i.from||r,i.default,!0):s=ar(i.from||r):s=ar(i),fs(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:l=>s.value=l}):e[r]=s}}function cG(t,e,n){If(Jn(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function wne(t,e,n,r){const i=r.includes(".")?pne(n,r):()=>n[r];if(Hr(t)){const s=e[t];Dr(s)&&ln(i,s)}else if(Dr(t))ln(i,t.bind(n));else if(mi(t))if(Jn(t))t.forEach(s=>wne(s,e,n,r));else{const s=Dr(t.handler)?t.handler.bind(n):e[t.handler];Dr(s)&&ln(i,s,t)}}function h9(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:l}}=t.appContext,c=s.get(e);let a;return c?a=c:!i.length&&!n&&!r?a=e:(a={},i.length&&i.forEach(f=>n8(a,f,l,!0)),n8(a,e,l)),mi(e)&&s.set(e,a),a}function n8(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&n8(t,s,n,!0),i&&i.forEach(l=>n8(t,l,n,!0));for(const l in e)if(!(r&&l==="expose")){const c=Y1e[l]||n&&n[l];t[l]=c?c(t[l],e[l]):e[l]}return t}const Y1e={data:hG,props:dG,emits:dG,methods:N4,computed:N4,beforeCreate:nh,created:nh,beforeMount:nh,mounted:nh,beforeUpdate:nh,updated:nh,beforeDestroy:nh,beforeUnmount:nh,destroyed:nh,unmounted:nh,activated:nh,deactivated:nh,errorCaptured:nh,serverPrefetch:nh,components:N4,directives:N4,watch:Z1e,provide:hG,inject:X1e};function hG(t,e){return e?t?function(){return Nl(Dr(t)?t.call(this,this):t,Dr(e)?e.call(this,this):e)}:e:t}function X1e(t,e){return N4(lR(t),lR(e))}function lR(t){if(Jn(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function nh(t,e){return t?[...new Set([].concat(t,e))]:e}function N4(t,e){return t?Nl(Object.create(null),t,e):e}function dG(t,e){return t?Jn(t)&&Jn(e)?[...new Set([...t,...e])]:Nl(Object.create(null),uG(t),uG(e??{})):e}function Z1e(t,e){if(!t)return e;if(!e)return t;const n=Nl(Object.create(null),t);for(const r in e)n[r]=nh(t[r],e[r]);return n}function xne(){return{app:null,config:{isNativeTag:Fve,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let J1e=0;function e_e(t,e){return function(r,i=null){Dr(r)||(r=Nl({},r)),i!=null&&!mi(i)&&(i=null);const s=xne(),l=new WeakSet;let c=!1;const a=s.app={_uid:J1e++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:x_e,get config(){return s.config},set config(f){},use(f,...p){return l.has(f)||(f&&Dr(f.install)?(l.add(f),f.install(a,...p)):Dr(f)&&(l.add(f),f(a,...p))),a},mixin(f){return s.mixins.includes(f)||s.mixins.push(f),a},component(f,p){return p?(s.components[f]=p,a):s.components[f]},directive(f,p){return p?(s.directives[f]=p,a):s.directives[f]},mount(f,p,m){if(!c){const v=ht(r,i);return v.appContext=s,m===!0?m="svg":m===!1&&(m=void 0),p&&e?e(v,f):t(v,f,m),c=!0,a._container=f,f.__vue_app__=a,DB(v.component)||v.component.proxy}},unmount(){c&&(t(null,a._container),delete a._container.__vue_app__)},provide(f,p){return s.provides[f]=p,a},runWithContext(f){const p=hC;hC=a;try{return f()}finally{hC=p}}};return a}}let hC=null;function ki(t,e){if(ac){let n=ac.provides;const r=ac.parent&&ac.parent.provides;r===n&&(n=ac.provides=Object.create(r)),n[t]=e}}function ar(t,e,n=!1){const r=ac||bu;if(r||hC){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:hC._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Dr(e)?e.call(r&&r.proxy):e}}const Cne={},Ene=()=>Object.create(Cne),Sne=t=>Object.getPrototypeOf(t)===Cne;function t_e(t,e,n,r=!1){const i={},s=Ene();t.propsDefaults=Object.create(null),Tne(t,e,i,s);for(const l in t.propsOptions[0])l in i||(i[l]=void 0);n?t.props=r?i:t9(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function n_e(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:l}}=t,c=Ka(i),[a]=t.propsOptions;let f=!1;if((r||l>0)&&!(l&16)){if(l&8){const p=t.vnode.dynamicProps;for(let m=0;m<p.length;m++){let v=p[m];if(MB(t.emitsOptions,v))continue;const y=e[v];if(a)if(aa(s,v))y!==s[v]&&(s[v]=y,f=!0);else{const T=Gd(v);i[T]=uR(a,c,T,y,t,!1)}else y!==s[v]&&(s[v]=y,f=!0)}}}else{Tne(t,e,i,s)&&(f=!0);let p;for(const m in c)(!e||!aa(e,m)&&((p=g0(m))===m||!aa(e,p)))&&(a?n&&(n[m]!==void 0||n[p]!==void 0)&&(i[m]=uR(a,c,m,void 0,t,!0)):delete i[m]);if(s!==c)for(const m in s)(!e||!aa(e,m))&&(delete s[m],f=!0)}f&&Xg(t.attrs,"set","")}function Tne(t,e,n,r){const[i,s]=t.propsOptions;let l=!1,c;if(e)for(let a in e){if(sC(a))continue;const f=e[a];let p;i&&aa(i,p=Gd(a))?!s||!s.includes(p)?n[p]=f:(c||(c={}))[p]=f:MB(t.emitsOptions,a)||(!(a in r)||f!==r[a])&&(r[a]=f,l=!0)}if(s){const a=Ka(n),f=c||wo;for(let p=0;p<s.length;p++){const m=s[p];n[m]=uR(i,a,m,f[m],t,!aa(f,m))}}return l}function uR(t,e,n,r,i,s){const l=t[n];if(l!=null){const c=aa(l,"default");if(c&&r===void 0){const a=l.default;if(l.type!==Function&&!l.skipFactory&&Dr(a)){const{propsDefaults:f}=i;if(n in f)r=f[n];else{const p=o5(i);r=f[n]=a.call(null,e),p()}}else r=a}l[0]&&(s&&!c?r=!1:l[1]&&(r===""||r===g0(n))&&(r=!0))}return r}function Bne(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,l={},c=[];let a=!1;if(!Dr(t)){const p=m=>{a=!0;const[v,y]=Bne(m,e,!0);Nl(l,v),y&&c.push(...y)};!n&&e.mixins.length&&e.mixins.forEach(p),t.extends&&p(t.extends),t.mixins&&t.mixins.forEach(p)}if(!s&&!a)return mi(t)&&r.set(t,Qw),Qw;if(Jn(s))for(let p=0;p<s.length;p++){const m=Gd(s[p]);fG(m)&&(l[m]=wo)}else if(s)for(const p in s){const m=Gd(p);if(fG(m)){const v=s[p],y=l[m]=Jn(v)||Dr(v)?{type:v}:Nl({},v);if(y){const T=mG(Boolean,y.type),C=mG(String,y.type);y[0]=T>-1,y[1]=C<0||T<C,(T>-1||aa(y,"default"))&&c.push(m)}}}const f=[l,c];return mi(t)&&r.set(t,f),f}function fG(t){return t[0]!=="$"&&!sC(t)}function pG(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function AG(t,e){return pG(t)===pG(e)}function mG(t,e){return Jn(e)?e.findIndex(n=>AG(n,t)):Dr(e)&&AG(e,t)?0:-1}const Mne=t=>t[0]==="_"||t==="$stable",d9=t=>Jn(t)?t.map(em):[em(t)],r_e=(t,e,n)=>{if(e._n)return e;const r=xt((...i)=>d9(e(...i)),n);return r._c=!1,r},Ine=(t,e,n)=>{const r=t._ctx;for(const i in t){if(Mne(i))continue;const s=t[i];if(Dr(s))e[i]=r_e(i,s,r);else if(s!=null){const l=d9(s);e[i]=()=>l}}},Lne=(t,e)=>{const n=d9(e);t.slots.default=()=>n},i_e=(t,e)=>{const n=t.slots=Ene();if(t.vnode.shapeFlag&32){const r=e._;r?(Nl(n,e),Nte(n,"_",r,!0)):Ine(e,n)}else e&&Lne(t,e)},a_e=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,l=wo;if(r.shapeFlag&32){const c=e._;c?n&&c===1?s=!1:(Nl(i,e),!n&&c===1&&delete i._):(s=!e.$stable,Ine(e,i)),l=e}else e&&(Lne(t,e),l={default:1});if(s)for(const c in i)!Mne(c)&&l[c]==null&&delete i[c]};function cR(t,e,n,r,i=!1){if(Jn(t)){t.forEach((v,y)=>cR(v,e&&(Jn(e)?e[y]:e),n,r,i));return}if(uC(r)&&!i)return;const s=r.shapeFlag&4?DB(r.component)||r.component.proxy:r.el,l=i?null:s,{i:c,r:a}=t,f=e&&e.r,p=c.refs===wo?c.refs={}:c.refs,m=c.setupState;if(f!=null&&f!==a&&(Hr(f)?(p[f]=null,aa(m,f)&&(m[f]=null)):fs(f)&&(f.value=null)),Dr(a))e1(a,c,12,[l,p]);else{const v=Hr(a),y=fs(a);if(v||y){const T=()=>{if(t.f){const C=v?aa(m,a)?m[a]:p[a]:a.value;i?Jn(C)&&GN(C,s):Jn(C)?C.includes(s)||C.push(s):v?(p[a]=[s],aa(m,a)&&(m[a]=p[a])):(a.value=[s],t.k&&(p[t.k]=a.value))}else v?(p[a]=l,aa(m,a)&&(m[a]=l)):y&&(a.value=l,t.k&&(p[t.k]=l))};l?(T.id=-1,Rh(T,n)):T()}}}const Rh=P1e;function s_e(t){return o_e(t)}function o_e(t,e){const n=Ute();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:l,createText:c,createComment:a,setText:f,setElementText:p,parentNode:m,nextSibling:v,setScopeId:y=Qa,insertStaticContent:T}=t,C=(ke,Ge,Ne,je=null,Ye=null,vt=null,Lt=void 0,Et=null,Vt=!!Ge.dynamicChildren)=>{if(ke===Ge)return;ke&&!R_(ke,Ge)&&(je=be(ke),se(ke,Ye,vt,!0),ke=null),Ge.patchFlag===-2&&(Vt=!1,Ge.dynamicChildren=null);const{type:_t,ref:qt,shapeFlag:tn}=Ge;switch(_t){case X2:k(ke,Ge,Ne,je);break;case Dc:M(ke,Ge,Ne,je);break;case ek:ke==null&&P(Ge,Ne,je,Lt);break;case Vn:W(ke,Ge,Ne,je,Ye,vt,Lt,Et,Vt);break;default:tn&1?z(ke,Ge,Ne,je,Ye,vt,Lt,Et,Vt):tn&6?ee(ke,Ge,Ne,je,Ye,vt,Lt,Et,Vt):(tn&64||tn&128)&&_t.process(ke,Ge,Ne,je,Ye,vt,Lt,Et,Vt,Je)}qt!=null&&Ye&&cR(qt,ke&&ke.ref,vt,Ge||ke,!Ge)},k=(ke,Ge,Ne,je)=>{if(ke==null)r(Ge.el=c(Ge.children),Ne,je);else{const Ye=Ge.el=ke.el;Ge.children!==ke.children&&f(Ye,Ge.children)}},M=(ke,Ge,Ne,je)=>{ke==null?r(Ge.el=a(Ge.children||""),Ne,je):Ge.el=ke.el},P=(ke,Ge,Ne,je)=>{[ke.el,ke.anchor]=T(ke.children,Ge,Ne,je,ke.el,ke.anchor)},R=({el:ke,anchor:Ge},Ne,je)=>{let Ye;for(;ke&&ke!==Ge;)Ye=v(ke),r(ke,Ne,je),ke=Ye;r(Ge,Ne,je)},N=({el:ke,anchor:Ge})=>{let Ne;for(;ke&&ke!==Ge;)Ne=v(ke),i(ke),ke=Ne;i(Ge)},z=(ke,Ge,Ne,je,Ye,vt,Lt,Et,Vt)=>{Ge.type==="svg"?Lt="svg":Ge.type==="math"&&(Lt="mathml"),ke==null?H(Ge,Ne,je,Ye,vt,Lt,Et,Vt):G(ke,Ge,Ye,vt,Lt,Et,Vt)},H=(ke,Ge,Ne,je,Ye,vt,Lt,Et)=>{let Vt,_t;const{props:qt,shapeFlag:tn,transition:Nt,dirs:wt}=ke;if(Vt=ke.el=l(ke.type,vt,qt&&qt.is,qt),tn&8?p(Vt,ke.children):tn&16&&Q(ke.children,Vt,null,je,Ye,JL(ke,vt),Lt,Et),wt&&g_(ke,null,je,"created"),j(Vt,ke,ke.scopeId,Lt,je),qt){for(const We in qt)We!=="value"&&!sC(We)&&s(Vt,We,null,qt[We],vt,ke.children,je,Ye,Le);"value"in qt&&s(Vt,"value",null,qt.value,vt),(_t=qt.onVnodeBeforeMount)&&jA(_t,je,ke)}wt&&g_(ke,null,je,"beforeMount");const De=l_e(Ye,Nt);De&&Nt.beforeEnter(Vt),r(Vt,Ge,Ne),((_t=qt&&qt.onVnodeMounted)||De||wt)&&Rh(()=>{_t&&jA(_t,je,ke),De&&Nt.enter(Vt),wt&&g_(ke,null,je,"mounted")},Ye)},j=(ke,Ge,Ne,je,Ye)=>{if(Ne&&y(ke,Ne),je)for(let vt=0;vt<je.length;vt++)y(ke,je[vt]);if(Ye){let vt=Ye.subTree;if(Ge===vt){const Lt=Ye.vnode;j(ke,Lt,Lt.scopeId,Lt.slotScopeIds,Ye.parent)}}},Q=(ke,Ge,Ne,je,Ye,vt,Lt,Et,Vt=0)=>{for(let _t=Vt;_t<ke.length;_t++){const qt=ke[_t]=Et?kv(ke[_t]):em(ke[_t]);C(null,qt,Ge,Ne,je,Ye,vt,Lt,Et)}},G=(ke,Ge,Ne,je,Ye,vt,Lt)=>{const Et=Ge.el=ke.el;let{patchFlag:Vt,dynamicChildren:_t,dirs:qt}=Ge;Vt|=ke.patchFlag&16;const tn=ke.props||wo,Nt=Ge.props||wo;let wt;if(Ne&&v_(Ne,!1),(wt=Nt.onVnodeBeforeUpdate)&&jA(wt,Ne,Ge,ke),qt&&g_(Ge,ke,Ne,"beforeUpdate"),Ne&&v_(Ne,!0),_t?ie(ke.dynamicChildren,_t,Et,Ne,je,JL(Ge,Ye),vt):Lt||ce(ke,Ge,Et,null,Ne,je,JL(Ge,Ye),vt,!1),Vt>0){if(Vt&16)q(Et,Ge,tn,Nt,Ne,je,Ye);else if(Vt&2&&tn.class!==Nt.class&&s(Et,"class",null,Nt.class,Ye),Vt&4&&s(Et,"style",tn.style,Nt.style,Ye),Vt&8){const De=Ge.dynamicProps;for(let We=0;We<De.length;We++){const ut=De[We],It=tn[ut],Xe=Nt[ut];(Xe!==It||ut==="value")&&s(Et,ut,It,Xe,Ye,ke.children,Ne,je,Le)}}Vt&1&&ke.children!==Ge.children&&p(Et,Ge.children)}else!Lt&&_t==null&&q(Et,Ge,tn,Nt,Ne,je,Ye);((wt=Nt.onVnodeUpdated)||qt)&&Rh(()=>{wt&&jA(wt,Ne,Ge,ke),qt&&g_(Ge,ke,Ne,"updated")},je)},ie=(ke,Ge,Ne,je,Ye,vt,Lt)=>{for(let Et=0;Et<Ge.length;Et++){const Vt=ke[Et],_t=Ge[Et],qt=Vt.el&&(Vt.type===Vn||!R_(Vt,_t)||Vt.shapeFlag&70)?m(Vt.el):Ne;C(Vt,_t,qt,null,je,Ye,vt,Lt,!0)}},q=(ke,Ge,Ne,je,Ye,vt,Lt)=>{if(Ne!==je){if(Ne!==wo)for(const Et in Ne)!sC(Et)&&!(Et in je)&&s(ke,Et,Ne[Et],null,Lt,Ge.children,Ye,vt,Le);for(const Et in je){if(sC(Et))continue;const Vt=je[Et],_t=Ne[Et];Vt!==_t&&Et!=="value"&&s(ke,Et,_t,Vt,Lt,Ge.children,Ye,vt,Le)}"value"in je&&s(ke,"value",Ne.value,je.value,Lt)}},W=(ke,Ge,Ne,je,Ye,vt,Lt,Et,Vt)=>{const _t=Ge.el=ke?ke.el:c(""),qt=Ge.anchor=ke?ke.anchor:c("");let{patchFlag:tn,dynamicChildren:Nt,slotScopeIds:wt}=Ge;wt&&(Et=Et?Et.concat(wt):wt),ke==null?(r(_t,Ne,je),r(qt,Ne,je),Q(Ge.children||[],Ne,qt,Ye,vt,Lt,Et,Vt)):tn>0&&tn&64&&Nt&&ke.dynamicChildren?(ie(ke.dynamicChildren,Nt,Ne,Ye,vt,Lt,Et),(Ge.key!=null||Ye&&Ge===Ye.subTree)&&f9(ke,Ge,!0)):ce(ke,Ge,Ne,qt,Ye,vt,Lt,Et,Vt)},ee=(ke,Ge,Ne,je,Ye,vt,Lt,Et,Vt)=>{Ge.slotScopeIds=Et,ke==null?Ge.shapeFlag&512?Ye.ctx.activate(Ge,Ne,je,Lt,Vt):he(Ge,Ne,je,Ye,vt,Lt,Vt):J(ke,Ge,Vt)},he=(ke,Ge,Ne,je,Ye,vt,Lt)=>{const Et=ke.component=g_e(ke,je,Ye);if(PB(ke)&&(Et.ctx.renderer=Je),v_e(Et),Et.asyncDep){if(Ye&&Ye.registerDep(Et,te),!ke.el){const Vt=Et.subTree=ht(Dc);M(null,Vt,Ge,Ne)}}else te(Et,ke,Ge,Ne,Ye,vt,Lt)},J=(ke,Ge,Ne)=>{const je=Ge.component=ke.component;if(M1e(ke,Ge,Ne))if(je.asyncDep&&!je.asyncResolved){ne(je,Ge,Ne);return}else je.next=Ge,b1e(je.update),je.effect.dirty=!0,je.update();else Ge.el=ke.el,je.vnode=Ge},te=(ke,Ge,Ne,je,Ye,vt,Lt)=>{const Et=()=>{if(ke.isMounted){let{next:qt,bu:tn,u:Nt,parent:wt,vnode:De}=ke;{const kt=kne(ke);if(kt){qt&&(qt.el=De.el,ne(ke,qt,Lt)),kt.asyncDep.then(()=>{ke.isUnmounted||Et()});return}}let We=qt,ut;v_(ke,!1),qt?(qt.el=De.el,ne(ke,qt,Lt)):qt=De,tn&&J3(tn),(ut=qt.props&&qt.props.onVnodeBeforeUpdate)&&jA(ut,wt,qt,De),v_(ke,!0);const It=YL(ke),Xe=ke.subTree;ke.subTree=It,C(Xe,It,m(Xe.el),be(Xe),ke,Ye,vt),qt.el=It.el,We===null&&I1e(ke,It.el),Nt&&Rh(Nt,Ye),(ut=qt.props&&qt.props.onVnodeUpdated)&&Rh(()=>jA(ut,wt,qt,De),Ye)}else{let qt;const{el:tn,props:Nt}=Ge,{bm:wt,m:De,parent:We}=ke,ut=uC(Ge);if(v_(ke,!1),wt&&J3(wt),!ut&&(qt=Nt&&Nt.onVnodeBeforeMount)&&jA(qt,We,Ge),v_(ke,!0),tn&&Ve){const It=()=>{ke.subTree=YL(ke),Ve(tn,ke.subTree,ke,Ye,null)};ut?Ge.type.__asyncLoader().then(()=>!ke.isUnmounted&&It()):It()}else{const It=ke.subTree=YL(ke);C(null,It,Ne,je,ke,Ye,vt),Ge.el=It.el}if(De&&Rh(De,Ye),!ut&&(qt=Nt&&Nt.onVnodeMounted)){const It=Ge;Rh(()=>jA(qt,We,It),Ye)}(Ge.shapeFlag&256||We&&uC(We.vnode)&&We.vnode.shapeFlag&256)&&ke.a&&Rh(ke.a,Ye),ke.isMounted=!0,Ge=Ne=je=null}},Vt=ke.effect=new YN(Et,Qa,()=>s9(_t),ke.scope),_t=ke.update=()=>{Vt.dirty&&Vt.run()};_t.id=ke.uid,v_(ke,!0),_t()},ne=(ke,Ge,Ne)=>{Ge.component=ke;const je=ke.vnode.props;ke.vnode=Ge,ke.next=null,n_e(ke,Ge.props,je,Ne),a_e(ke,Ge.children,Ne),I1(),aG(ke),L1()},ce=(ke,Ge,Ne,je,Ye,vt,Lt,Et,Vt=!1)=>{const _t=ke&&ke.children,qt=ke?ke.shapeFlag:0,tn=Ge.children,{patchFlag:Nt,shapeFlag:wt}=Ge;if(Nt>0){if(Nt&128){ye(_t,tn,Ne,je,Ye,vt,Lt,Et,Vt);return}else if(Nt&256){ue(_t,tn,Ne,je,Ye,vt,Lt,Et,Vt);return}}wt&8?(qt&16&&Le(_t,Ye,vt),tn!==_t&&p(Ne,tn)):qt&16?wt&16?ye(_t,tn,Ne,je,Ye,vt,Lt,Et,Vt):Le(_t,Ye,vt,!0):(qt&8&&p(Ne,""),wt&16&&Q(tn,Ne,je,Ye,vt,Lt,Et,Vt))},ue=(ke,Ge,Ne,je,Ye,vt,Lt,Et,Vt)=>{ke=ke||Qw,Ge=Ge||Qw;const _t=ke.length,qt=Ge.length,tn=Math.min(_t,qt);let Nt;for(Nt=0;Nt<tn;Nt++){const wt=Ge[Nt]=Vt?kv(Ge[Nt]):em(Ge[Nt]);C(ke[Nt],wt,Ne,null,Ye,vt,Lt,Et,Vt)}_t>qt?Le(ke,Ye,vt,!0,!1,tn):Q(Ge,Ne,je,Ye,vt,Lt,Et,Vt,tn)},ye=(ke,Ge,Ne,je,Ye,vt,Lt,Et,Vt)=>{let _t=0;const qt=Ge.length;let tn=ke.length-1,Nt=qt-1;for(;_t<=tn&&_t<=Nt;){const wt=ke[_t],De=Ge[_t]=Vt?kv(Ge[_t]):em(Ge[_t]);if(R_(wt,De))C(wt,De,Ne,null,Ye,vt,Lt,Et,Vt);else break;_t++}for(;_t<=tn&&_t<=Nt;){const wt=ke[tn],De=Ge[Nt]=Vt?kv(Ge[Nt]):em(Ge[Nt]);if(R_(wt,De))C(wt,De,Ne,null,Ye,vt,Lt,Et,Vt);else break;tn--,Nt--}if(_t>tn){if(_t<=Nt){const wt=Nt+1,De=wt<qt?Ge[wt].el:je;for(;_t<=Nt;)C(null,Ge[_t]=Vt?kv(Ge[_t]):em(Ge[_t]),Ne,De,Ye,vt,Lt,Et,Vt),_t++}}else if(_t>Nt)for(;_t<=tn;)se(ke[_t],Ye,vt,!0),_t++;else{const wt=_t,De=_t,We=new Map;for(_t=De;_t<=Nt;_t++){const at=Ge[_t]=Vt?kv(Ge[_t]):em(Ge[_t]);at.key!=null&&We.set(at.key,_t)}let ut,It=0;const Xe=Nt-De+1;let kt=!1,Bt=0;const it=new Array(Xe);for(_t=0;_t<Xe;_t++)it[_t]=0;for(_t=wt;_t<=tn;_t++){const at=ke[_t];if(It>=Xe){se(at,Ye,vt,!0);continue}let et;if(at.key!=null)et=We.get(at.key);else for(ut=De;ut<=Nt;ut++)if(it[ut-De]===0&&R_(at,Ge[ut])){et=ut;break}et===void 0?se(at,Ye,vt,!0):(it[et-De]=_t+1,et>=Bt?Bt=et:kt=!0,C(at,Ge[et],Ne,null,Ye,vt,Lt,Et,Vt),It++)}const Mt=kt?u_e(it):Qw;for(ut=Mt.length-1,_t=Xe-1;_t>=0;_t--){const at=De+_t,et=Ge[at],St=at+1<qt?Ge[at+1].el:je;it[_t]===0?C(null,et,Ne,St,Ye,vt,Lt,Et,Vt):kt&&(ut<0||_t!==Mt[ut]?Ee(et,Ne,St,2):ut--)}}},Ee=(ke,Ge,Ne,je,Ye=null)=>{const{el:vt,type:Lt,transition:Et,children:Vt,shapeFlag:_t}=ke;if(_t&6){Ee(ke.component.subTree,Ge,Ne,je);return}if(_t&128){ke.suspense.move(Ge,Ne,je);return}if(_t&64){Lt.move(ke,Ge,Ne,Je);return}if(Lt===Vn){r(vt,Ge,Ne);for(let tn=0;tn<Vt.length;tn++)Ee(Vt[tn],Ge,Ne,je);r(ke.anchor,Ge,Ne);return}if(Lt===ek){R(ke,Ge,Ne);return}if(je!==2&&_t&1&&Et)if(je===0)Et.beforeEnter(vt),r(vt,Ge,Ne),Rh(()=>Et.enter(vt),Ye);else{const{leave:tn,delayLeave:Nt,afterLeave:wt}=Et,De=()=>r(vt,Ge,Ne),We=()=>{tn(vt,()=>{De(),wt&&wt()})};Nt?Nt(vt,De,We):We()}else r(vt,Ge,Ne)},se=(ke,Ge,Ne,je=!1,Ye=!1)=>{const{type:vt,props:Lt,ref:Et,children:Vt,dynamicChildren:_t,shapeFlag:qt,patchFlag:tn,dirs:Nt}=ke;if(Et!=null&&cR(Et,null,Ne,ke,!0),qt&256){Ge.ctx.deactivate(ke);return}const wt=qt&1&&Nt,De=!uC(ke);let We;if(De&&(We=Lt&&Lt.onVnodeBeforeUnmount)&&jA(We,Ge,ke),qt&6)Ue(ke.component,Ne,je);else{if(qt&128){ke.suspense.unmount(Ne,je);return}wt&&g_(ke,null,Ge,"beforeUnmount"),qt&64?ke.type.remove(ke,Ge,Ne,Ye,Je,je):_t&&(vt!==Vn||tn>0&&tn&64)?Le(_t,Ge,Ne,!1,!0):(vt===Vn&&tn&384||!Ye&&qt&16)&&Le(Vt,Ge,Ne),je&&oe(ke)}(De&&(We=Lt&&Lt.onVnodeUnmounted)||wt)&&Rh(()=>{We&&jA(We,Ge,ke),wt&&g_(ke,null,Ge,"unmounted")},Ne)},oe=ke=>{const{type:Ge,el:Ne,anchor:je,transition:Ye}=ke;if(Ge===Vn){_e(Ne,je);return}if(Ge===ek){N(ke);return}const vt=()=>{i(Ne),Ye&&!Ye.persisted&&Ye.afterLeave&&Ye.afterLeave()};if(ke.shapeFlag&1&&Ye&&!Ye.persisted){const{leave:Lt,delayLeave:Et}=Ye,Vt=()=>Lt(Ne,vt);Et?Et(ke.el,vt,Vt):Vt()}else vt()},_e=(ke,Ge)=>{let Ne;for(;ke!==Ge;)Ne=v(ke),i(ke),ke=Ne;i(Ge)},Ue=(ke,Ge,Ne)=>{const{bum:je,scope:Ye,update:vt,subTree:Lt,um:Et}=ke;je&&J3(je),Ye.stop(),vt&&(vt.active=!1,se(Lt,ke,Ge,Ne)),Et&&Rh(Et,Ge),Rh(()=>{ke.isUnmounted=!0},Ge),Ge&&Ge.pendingBranch&&!Ge.isUnmounted&&ke.asyncDep&&!ke.asyncResolved&&ke.suspenseId===Ge.pendingId&&(Ge.deps--,Ge.deps===0&&Ge.resolve())},Le=(ke,Ge,Ne,je=!1,Ye=!1,vt=0)=>{for(let Lt=vt;Lt<ke.length;Lt++)se(ke[Lt],Ge,Ne,je,Ye)},be=ke=>ke.shapeFlag&6?be(ke.component.subTree):ke.shapeFlag&128?ke.suspense.next():v(ke.anchor||ke.el);let Re=!1;const Qe=(ke,Ge,Ne)=>{ke==null?Ge._vnode&&se(Ge._vnode,null,null,!0):C(Ge._vnode||null,ke,Ge,null,null,null,Ne),Re||(Re=!0,aG(),cne(),Re=!1),Ge._vnode=ke},Je={p:C,um:se,m:Ee,r:oe,mt:he,mc:Q,pc:ce,pbc:ie,n:be,o:t};let nt,Ve;return{render:Qe,hydrate:nt,createApp:e_e(Qe,nt)}}function JL({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function v_({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function l_e(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function f9(t,e,n=!1){const r=t.children,i=e.children;if(Jn(r)&&Jn(i))for(let s=0;s<r.length;s++){const l=r[s];let c=i[s];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=i[s]=kv(i[s]),c.el=l.el),n||f9(l,c)),c.type===X2&&(c.el=l.el)}}function u_e(t){const e=t.slice(),n=[0];let r,i,s,l,c;const a=t.length;for(r=0;r<a;r++){const f=t[r];if(f!==0){if(i=n[n.length-1],t[i]<f){e[r]=i,n.push(r);continue}for(s=0,l=n.length-1;s<l;)c=s+l>>1,t[n[c]]<f?s=c+1:l=c;f<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,l=n[s-1];s-- >0;)n[s]=l,l=e[l];return n}function kne(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:kne(e)}const c_e=t=>t.__isTeleport,dC=t=>t&&(t.disabled||t.disabled===""),gG=t=>typeof SVGElement<"u"&&t instanceof SVGElement,vG=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,hR=(t,e)=>{const n=t&&t.to;return Hr(n)?e?e(n):null:n},h_e={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,s,l,c,a,f){const{mc:p,pc:m,pbc:v,o:{insert:y,querySelector:T,createText:C,createComment:k}}=f,M=dC(e.props);let{shapeFlag:P,children:R,dynamicChildren:N}=e;if(t==null){const z=e.el=C(""),H=e.anchor=C("");y(z,n,r),y(H,n,r);const j=e.target=hR(e.props,T),Q=e.targetAnchor=C("");j&&(y(Q,j),l==="svg"||gG(j)?l="svg":(l==="mathml"||vG(j))&&(l="mathml"));const G=(ie,q)=>{P&16&&p(R,ie,q,i,s,l,c,a)};M?G(n,H):j&&G(j,Q)}else{e.el=t.el;const z=e.anchor=t.anchor,H=e.target=t.target,j=e.targetAnchor=t.targetAnchor,Q=dC(t.props),G=Q?n:H,ie=Q?z:j;if(l==="svg"||gG(H)?l="svg":(l==="mathml"||vG(H))&&(l="mathml"),N?(v(t.dynamicChildren,N,G,i,s,l,c),f9(t,e,!0)):a||m(t,e,G,ie,i,s,l,c,!1),M)Q?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):AS(e,n,z,f,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const q=e.target=hR(e.props,T);q&&AS(e,q,null,f,0)}else Q&&AS(e,H,j,f,1)}Pne(e)},remove(t,e,n,r,{um:i,o:{remove:s}},l){const{shapeFlag:c,children:a,anchor:f,targetAnchor:p,target:m,props:v}=t;if(m&&s(p),l&&s(f),c&16){const y=l||!dC(v);for(let T=0;T<a.length;T++){const C=a[T];i(C,e,n,y,!!C.dynamicChildren)}}},move:AS,hydrate:d_e};function AS(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:l,anchor:c,shapeFlag:a,children:f,props:p}=t,m=s===2;if(m&&r(l,e,n),(!m||dC(p))&&a&16)for(let v=0;v<f.length;v++)i(f[v],e,n,2);m&&r(c,e,n)}function d_e(t,e,n,r,i,s,{o:{nextSibling:l,parentNode:c,querySelector:a}},f){const p=e.target=hR(e.props,a);if(p){const m=p._lpa||p.firstChild;if(e.shapeFlag&16)if(dC(e.props))e.anchor=f(l(t),e,c(t),n,r,i,s),e.targetAnchor=m;else{e.anchor=l(t);let v=m;for(;v;)if(v=l(v),v&&v.nodeType===8&&v.data==="teleport anchor"){e.targetAnchor=v,p._lpa=e.targetAnchor&&l(e.targetAnchor);break}f(m,e,p,n,r,i,s)}Pne(e)}return e.anchor&&l(e.anchor)}const Ny=h_e;function Pne(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Vn=Symbol.for("v-fgt"),X2=Symbol.for("v-txt"),Dc=Symbol.for("v-cmt"),ek=Symbol.for("v-stc"),fC=[];let Kp=null;function X(t=!1){fC.push(Kp=t?null:[])}function f_e(){fC.pop(),Kp=fC[fC.length-1]||null}let e6=1;function _G(t){e6+=t}function Fne(t){return t.dynamicChildren=e6>0?Kp||Qw:null,f_e(),e6>0&&Kp&&Kp.push(t),t}function ve(t,e,n,r,i,s){return Fne(pe(t,e,n,r,i,s,!0))}function Ut(t,e,n,r,i){return Fne(ht(t,e,n,r,i,!0))}function Ks(t){return t?t.__v_isVNode===!0:!1}function R_(t,e){return t.type===e.type&&t.key===e.key}const Rne=({key:t})=>t??null,eT=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Hr(t)||fs(t)||Dr(t)?{i:bu,r:t,k:e,f:!!n}:t:null);function pe(t,e=null,n=null,r=0,i=null,s=t===Vn?0:1,l=!1,c=!1){const a={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Rne(e),ref:e&&eT(e),scopeId:IB,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:bu};return c?(p9(a,n),s&128&&t.normalize(a)):n&&(a.shapeFlag|=Hr(n)?8:16),e6>0&&!l&&Kp&&(a.patchFlag>0||s&6)&&a.patchFlag!==32&&Kp.push(a),a}const ht=p_e;function p_e(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===fne)&&(t=Dc),Ks(t)){const c=a0(t,e,!0);return n&&p9(c,n),e6>0&&!s&&Kp&&(c.shapeFlag&6?Kp[Kp.indexOf(t)]=c:Kp.push(c)),c.patchFlag|=-2,c}if(w_e(t)&&(t=t.__vccOpts),e){e=ou(e);let{class:c,style:a}=e;c&&!Hr(c)&&(e.class=Se(c)),mi(a)&&(tne(a)&&!Jn(a)&&(a=Nl({},a)),e.style=or(a))}const l=Hr(t)?1:k1e(t)?128:c_e(t)?64:mi(t)?4:Dr(t)?2:0;return pe(t,e,n,r,i,l,s,!0)}function ou(t){return t?tne(t)||Sne(t)?Nl({},t):t:null}function a0(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:l,children:c,transition:a}=t,f=e?Xr(i||{},e):i,p={__v_isVNode:!0,__v_skip:!0,type:t.type,props:f,key:f&&Rne(f),ref:e&&e.ref?n&&s?Jn(s)?s.concat(eT(e)):[s,eT(e)]:eT(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:c,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Vn?l===-1?16:l|16:l,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:a,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&a0(t.ssContent),ssFallback:t.ssFallback&&a0(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return a&&r&&(p.transition=a.clone(p)),p}function xi(t=" ",e=0){return ht(X2,null,t,e)}function bt(t="",e=!1){return e?(X(),Ut(Dc,null,t)):ht(Dc,null,t)}function em(t){return t==null||typeof t=="boolean"?ht(Dc):Jn(t)?ht(Vn,null,t.slice()):typeof t=="object"?kv(t):ht(X2,null,String(t))}function kv(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:a0(t)}function p9(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Jn(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),p9(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!Sne(e)?e._ctx=bu:i===3&&bu&&(bu.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Dr(e)?(e={default:e,_ctx:bu},n=32):(e=String(e),r&64?(n=16,e=[xi(e)]):n=8);t.children=e,t.shapeFlag|=n}function Xr(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Se([e.class,r.class]));else if(i==="style")e.style=or([e.style,r.style]);else if(CB(i)){const s=e[i],l=r[i];l&&s!==l&&!(Jn(s)&&s.includes(l))&&(e[i]=s?[].concat(s,l):l)}else i!==""&&(e[i]=r[i])}return e}function jA(t,e,n,r=null){If(t,e,7,[n,r])}const A_e=xne();let m_e=0;function g_e(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||A_e,s={uid:m_e++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Hte(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Bne(r,i),emitsOptions:dne(r,i),emit:null,emitted:null,propsDefaults:wo,inheritAttrs:r.inheritAttrs,ctx:wo,data:wo,props:wo,attrs:wo,slots:wo,refs:wo,setupState:wo,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=C1e.bind(null,s),t.ce&&t.ce(s),s}let ac=null;const ci=()=>ac||bu;let r8,dR;{const t=Ute(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(l=>l(s)):i[0](s)}};r8=e("__VUE_INSTANCE_SETTERS__",n=>ac=n),dR=e("__VUE_SSR_SETTERS__",n=>OB=n)}const o5=t=>{const e=ac;return r8(t),t.scope.on(),()=>{t.scope.off(),r8(e)}},yG=()=>{ac&&ac.scope.off(),r8(null)};function One(t){return t.vnode.shapeFlag&4}let OB=!1;function v_e(t,e=!1){e&&dR(e);const{props:n,children:r}=t.vnode,i=One(t);t_e(t,n,i,e),i_e(t,r);const s=i?__e(t,e):void 0;return e&&dR(!1),s}function __e(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,K1e);const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?Nne(t):null,s=o5(t);I1();const l=e1(r,t,0,[t.props,i]);if(L1(),s(),KC(l)){if(l.then(yG,yG),e)return l.then(c=>{bG(t,c,e)}).catch(c=>{BB(c,t,0)});t.asyncDep=l}else bG(t,l,e)}else Dne(t,e)}function bG(t,e,n){Dr(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:mi(e)&&(t.setupState=ane(e)),Dne(t,n)}let wG;function Dne(t,e,n){const r=t.type;if(!t.render){if(!e&&wG&&!r.render){const i=r.template||h9(t).template;if(i){const{isCustomElement:s,compilerOptions:l}=t.appContext.config,{delimiters:c,compilerOptions:a}=r,f=Nl(Nl({isCustomElement:s,delimiters:c},l),a);r.render=wG(i,f)}}t.render=r.render||Qa}{const i=o5(t);I1();try{W1e(t)}finally{L1(),i()}}}const y_e={get(t,e){return Kh(t,"get",""),t[e]}};function Nne(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,y_e),slots:t.slots,emit:t.emit,expose:e}}function DB(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(ane(Gw(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in cC)return cC[n](t)},has(e,n){return n in e||n in cC}}))}function b_e(t,e=!0){return Dr(t)?t.displayName||t.name:t.name||e&&t.__name}function w_e(t){return Dr(t)&&"__vccOpts"in t}const le=(t,e)=>rne(t,e,OB);function Une(t,e,n=wo){const r=ci(),i=Gd(e),s=g0(e),l=sne((a,f)=>{let p;return O1e(()=>{const m=t[e];wm(p,m)&&(p=m,f())}),{get(){return a(),n.get?n.get(p):p},set(m){const v=r.vnode.props;!(v&&(e in v||i in v||s in v)&&(`onUpdate:${e}`in v||`onUpdate:${i}`in v||`onUpdate:${s}`in v))&&wm(m,p)&&(p=m,f()),r.emit(`update:${e}`,n.set?n.set(m):m)}}}),c="modelModifiers";return l[Symbol.iterator]=()=>{let a=0;return{next(){return a<2?{value:a++?t[c]||{}:l,done:!1}:{done:!0}}}},l}function wr(t,e,n){const r=arguments.length;return r===2?mi(e)&&!Jn(e)?Ks(e)?ht(t,null,[e]):ht(t,e):ht(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ks(n)&&(n=[n]),ht(t,e,n))}const x_e="3.4.27",C_e=Qa;/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const E_e="http://www.w3.org/2000/svg",S_e="http://www.w3.org/1998/Math/MathML",Pv=typeof document<"u"?document:null,xG=Pv&&Pv.createElement("template"),T_e={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?Pv.createElementNS(E_e,t):e==="mathml"?Pv.createElementNS(S_e,t):Pv.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Pv.createTextNode(t),createComment:t=>Pv.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Pv.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const l=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{xG.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const c=xG.content;if(r==="svg"||r==="mathml"){const a=c.firstChild;for(;a.firstChild;)c.appendChild(a.firstChild);c.removeChild(a)}e.insertBefore(c,n)}return[l?l.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},lv="transition",l4="animation",p2=Symbol("_vtc"),fo=(t,{slots:e})=>wr(U1e,$ne(t),e);fo.displayName="Transition";const zne={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},B_e=fo.props=Nl({},mne,zne),__=(t,e=[])=>{Jn(t)?t.forEach(n=>n(...e)):t&&t(...e)},CG=t=>t?Jn(t)?t.some(e=>e.length>1):t.length>1:!1;function $ne(t){const e={};for(const W in t)W in zne||(e[W]=t[W]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:l=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:a=s,appearActiveClass:f=l,appearToClass:p=c,leaveFromClass:m=`${n}-leave-from`,leaveActiveClass:v=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=t,T=M_e(i),C=T&&T[0],k=T&&T[1],{onBeforeEnter:M,onEnter:P,onEnterCancelled:R,onLeave:N,onLeaveCancelled:z,onBeforeAppear:H=M,onAppear:j=P,onAppearCancelled:Q=R}=e,G=(W,ee,he)=>{wv(W,ee?p:c),wv(W,ee?f:l),he&&he()},ie=(W,ee)=>{W._isLeaving=!1,wv(W,m),wv(W,y),wv(W,v),ee&&ee()},q=W=>(ee,he)=>{const J=W?j:P,te=()=>G(ee,W,he);__(J,[ee,te]),EG(()=>{wv(ee,W?a:s),zg(ee,W?p:c),CG(J)||SG(ee,r,C,te)})};return Nl(e,{onBeforeEnter(W){__(M,[W]),zg(W,s),zg(W,l)},onBeforeAppear(W){__(H,[W]),zg(W,a),zg(W,f)},onEnter:q(!1),onAppear:q(!0),onLeave(W,ee){W._isLeaving=!0;const he=()=>ie(W,ee);zg(W,m),zg(W,v),Hne(),EG(()=>{W._isLeaving&&(wv(W,m),zg(W,y),CG(N)||SG(W,r,k,he))}),__(N,[W,he])},onEnterCancelled(W){G(W,!1),__(R,[W])},onAppearCancelled(W){G(W,!0),__(Q,[W])},onLeaveCancelled(W){ie(W),__(z,[W])}})}function M_e(t){if(t==null)return null;if(mi(t))return[tk(t.enter),tk(t.leave)];{const e=tk(t);return[e,e]}}function tk(t){return Nve(t)}function zg(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[p2]||(t[p2]=new Set)).add(e)}function wv(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[p2];n&&(n.delete(e),n.size||(t[p2]=void 0))}function EG(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let I_e=0;function SG(t,e,n,r){const i=t._endId=++I_e,s=()=>{i===t._endId&&r()};if(n)return setTimeout(s,n);const{type:l,timeout:c,propCount:a}=Vne(t,e);if(!l)return r();const f=l+"end";let p=0;const m=()=>{t.removeEventListener(f,v),s()},v=y=>{y.target===t&&++p>=a&&m()};setTimeout(()=>{p<a&&m()},c+1),t.addEventListener(f,v)}function Vne(t,e){const n=window.getComputedStyle(t),r=T=>(n[T]||"").split(", "),i=r(`${lv}Delay`),s=r(`${lv}Duration`),l=TG(i,s),c=r(`${l4}Delay`),a=r(`${l4}Duration`),f=TG(c,a);let p=null,m=0,v=0;e===lv?l>0&&(p=lv,m=l,v=s.length):e===l4?f>0&&(p=l4,m=f,v=a.length):(m=Math.max(l,f),p=m>0?l>f?lv:l4:null,v=p?p===lv?s.length:a.length:0);const y=p===lv&&/\b(transform|all)(,|$)/.test(r(`${lv}Property`).toString());return{type:p,timeout:m,propCount:v,hasTransform:y}}function TG(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>BG(n)+BG(t[r])))}function BG(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Hne(){return document.body.offsetHeight}function L_e(t,e,n){const r=t[p2];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const i8=Symbol("_vod"),Qne=Symbol("_vsh"),ca={beforeMount(t,{value:e},{transition:n}){t[i8]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):u4(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),u4(t,!0),r.enter(t)):r.leave(t,()=>{u4(t,!1)}):u4(t,e))},beforeUnmount(t,{value:e}){u4(t,e)}};function u4(t,e){t.style.display=e?t[i8]:"none",t[Qne]=!e}const k_e=Symbol(""),P_e=/(^|;)\s*display\s*:/;function F_e(t,e,n){const r=t.style,i=Hr(n);let s=!1;if(n&&!i){if(e)if(Hr(e))for(const l of e.split(";")){const c=l.slice(0,l.indexOf(":")).trim();n[c]==null&&tT(r,c,"")}else for(const l in e)n[l]==null&&tT(r,l,"");for(const l in n)l==="display"&&(s=!0),tT(r,l,n[l])}else if(i){if(e!==n){const l=r[k_e];l&&(n+=";"+l),r.cssText=n,s=P_e.test(n)}}else e&&t.removeAttribute("style");i8 in t&&(t[i8]=s?r.display:"",t[Qne]&&(r.display="none"))}const MG=/\s*!important$/;function tT(t,e,n){if(Jn(n))n.forEach(r=>tT(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=R_e(t,e);MG.test(n)?t.setProperty(g0(r),n.replace(MG,""),"important"):t[r]=n}}const IG=["Webkit","Moz","ms"],nk={};function R_e(t,e){const n=nk[e];if(n)return n;let r=Gd(e);if(r!=="filter"&&r in t)return nk[e]=r;r=s5(r);for(let i=0;i<IG.length;i++){const s=IG[i]+r;if(s in t)return nk[e]=s}return e}const LG="http://www.w3.org/1999/xlink";function O_e(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(LG,e.slice(6,e.length)):t.setAttributeNS(LG,e,n);else{const s=Qve(e);n==null||s&&!zte(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function D_e(t,e,n,r,i,s,l){if(e==="innerHTML"||e==="textContent"){r&&l(r,i,s),t[e]=n??"";return}const c=t.tagName;if(e==="value"&&c!=="PROGRESS"&&!c.includes("-")){const f=c==="OPTION"?t.getAttribute("value")||"":t.value,p=n??"";(f!==p||!("_value"in t))&&(t.value=p),n==null&&t.removeAttribute(e),t._value=n;return}let a=!1;if(n===""||n==null){const f=typeof t[e];f==="boolean"?n=zte(n):n==null&&f==="string"?(n="",a=!0):f==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(e)}function Nv(t,e,n,r){t.addEventListener(e,n,r)}function N_e(t,e,n,r){t.removeEventListener(e,n,r)}const kG=Symbol("_vei");function U_e(t,e,n,r,i=null){const s=t[kG]||(t[kG]={}),l=s[e];if(r&&l)l.value=r;else{const[c,a]=z_e(e);if(r){const f=s[e]=H_e(r,i);Nv(t,c,f,a)}else l&&(N_e(t,c,l,a),s[e]=void 0)}}const PG=/(?:Once|Passive|Capture)$/;function z_e(t){let e;if(PG.test(t)){e={};let r;for(;r=t.match(PG);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):g0(t.slice(2)),e]}let rk=0;const $_e=Promise.resolve(),V_e=()=>rk||($_e.then(()=>rk=0),rk=Date.now());function H_e(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;If(Q_e(r,n.value),e,5,[r])};return n.value=t,n.attached=V_e(),n}function Q_e(t,e){if(Jn(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const FG=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,j_e=(t,e,n,r,i,s,l,c,a)=>{const f=i==="svg";e==="class"?L_e(t,r,f):e==="style"?F_e(t,n,r):CB(e)?jN(e)||U_e(t,e,n,r,l):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):G_e(t,e,r,f))?D_e(t,e,r,s,l,c,a):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),O_e(t,e,r,f))};function G_e(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&FG(e)&&Dr(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return FG(e)&&Hr(n)?!1:e in t}const jne=new WeakMap,Gne=new WeakMap,a8=Symbol("_moveCb"),RG=Symbol("_enterCb"),Kne={name:"TransitionGroup",props:Nl({},B_e,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=ci(),r=Ane();let i,s;return _0(()=>{if(!i.length)return;const l=t.moveClass||`${t.name||"v"}-move`;if(!X_e(i[0].el,n.vnode.el,l))return;i.forEach(W_e),i.forEach(q_e);const c=i.filter(Y_e);Hne(),c.forEach(a=>{const f=a.el,p=f.style;zg(f,l),p.transform=p.webkitTransform=p.transitionDuration="";const m=f[a8]=v=>{v&&v.target!==f||(!v||/transform$/.test(v.propertyName))&&(f.removeEventListener("transitionend",m),f[a8]=null,wv(f,l))};f.addEventListener("transitionend",m)})}),()=>{const l=Ka(t),c=$ne(l);let a=l.tag||Vn;if(i=[],s)for(let f=0;f<s.length;f++){const p=s[f];p.el&&p.el instanceof Element&&(i.push(p),JC(p,ZC(p,c,r,n)),jne.set(p,p.el.getBoundingClientRect()))}s=e.default?u9(e.default()):[];for(let f=0;f<s.length;f++){const p=s[f];p.key!=null&&JC(p,ZC(p,c,r,n))}return ht(a,null,s)}}},K_e=t=>delete t.mode;Kne.props;const Wne=Kne;function W_e(t){const e=t.el;e[a8]&&e[a8](),e[RG]&&e[RG]()}function q_e(t){Gne.set(t,t.el.getBoundingClientRect())}function Y_e(t){const e=jne.get(t),n=Gne.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",t}}function X_e(t,e,n){const r=t.cloneNode(),i=t[p2];i&&i.forEach(c=>{c.split(/\s+/).forEach(a=>a&&r.classList.remove(a))}),n.split(/\s+/).forEach(c=>c&&r.classList.add(c)),r.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(r);const{hasTransform:l}=Vne(r);return s.removeChild(r),l}const A2=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Jn(e)?n=>J3(e,n):e};function Z_e(t){t.target.composing=!0}function OG(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Zg=Symbol("_assign"),A9={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[Zg]=A2(i);const s=r||i.props&&i.props.type==="number";Nv(t,e?"change":"input",l=>{if(l.target.composing)return;let c=t.value;n&&(c=c.trim()),s&&(c=tR(c)),t[Zg](c)}),n&&Nv(t,"change",()=>{t.value=t.value.trim()}),e||(Nv(t,"compositionstart",Z_e),Nv(t,"compositionend",OG),Nv(t,"change",OG))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},s){if(t[Zg]=A2(s),t.composing)return;const l=(i||t.type==="number")&&!/^0\d/.test(t.value)?tR(t.value):t.value,c=e??"";l!==c&&(document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===c)||(t.value=c))}},s8={deep:!0,created(t,e,n){t[Zg]=A2(n),Nv(t,"change",()=>{const r=t._modelValue,i=Yne(t),s=t.checked,l=t[Zg];if(Jn(r)){const c=$te(r,i),a=c!==-1;if(s&&!a)l(r.concat(i));else if(!s&&a){const f=[...r];f.splice(c,1),l(f)}}else if(EB(r)){const c=new Set(r);s?c.add(i):c.delete(i),l(c)}else l(Xne(t,s))})},mounted:DG,beforeUpdate(t,e,n){t[Zg]=A2(n),DG(t,e,n)}};function DG(t,{value:e,oldValue:n},r){t._modelValue=e,Jn(e)?t.checked=$te(e,r.props.value)>-1:EB(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=f2(e,Xne(t,!0)))}const qne={created(t,{value:e},n){t.checked=f2(e,n.props.value),t[Zg]=A2(n),Nv(t,"change",()=>{t[Zg](Yne(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[Zg]=A2(r),e!==n&&(t.checked=f2(e,r.props.value))}};function Yne(t){return"_value"in t?t._value:t.value}function Xne(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const J_e=["ctrl","shift","alt","meta"],eye={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>J_e.some(n=>t[`${n}Key`]&&!e.includes(n))},Pr=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...s)=>{for(let l=0;l<e.length;l++){const c=eye[e[l]];if(c&&c(i,e))return}return t(i,...s)})},tye={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ga=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const s=g0(i.key);if(e.some(l=>l===s||tye[l]===s))return t(i)})},nye=Nl({patchProp:j_e},T_e);let NG;function Zne(){return NG||(NG=s_e(nye))}const xm=(...t)=>{Zne().render(...t)},Jne=(...t)=>{const e=Zne().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=iye(r);if(!i)return;const s=e._component;!Dr(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const l=n(i,!1,rye(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),l},e};function rye(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function iye(t){return Hr(t)?document.querySelector(t):t}function Pi(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Bs(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function jp(t,e){const n=Pi(t);return isNaN(e)?Bs(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Yp(t,e){const n=Pi(t);if(isNaN(e))return Bs(t,NaN);if(!e)return n;const r=n.getDate(),i=Bs(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}function ere(t,e){const{years:n=0,months:r=0,weeks:i=0,days:s=0,hours:l=0,minutes:c=0,seconds:a=0}=e,f=Pi(t),p=r||n?Yp(f,r+n*12):f,m=s||i?jp(p,s+i*7):p,v=c+l*60,T=(a+v*60)*1e3;return Bs(t,m.getTime()+T)}function aye(t,e){const n=+Pi(t);return Bs(t,n+e)}const tre=6048e5,sye=864e5,oye=6e4,nre=36e5,lye=1e3;function uye(t,e){return aye(t,e*nre)}let cye={};function Uy(){return cye}function eA(t,e){var c,a,f,p;const n=Uy(),r=(e==null?void 0:e.weekStartsOn)??((a=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:a.weekStartsOn)??n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,i=Pi(t),s=i.getDay(),l=(s<r?7:0)+s-r;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function m2(t){return eA(t,{weekStartsOn:1})}function rre(t){const e=Pi(t),n=e.getFullYear(),r=Bs(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=m2(r),s=Bs(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const l=m2(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=l.getTime()?n:n-1}function UG(t){const e=Pi(t);return e.setHours(0,0,0,0),e}function o8(t){const e=Pi(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function ire(t,e){const n=UG(t),r=UG(e),i=+n-o8(n),s=+r-o8(r);return Math.round((i-s)/sye)}function hye(t){const e=rre(t),n=Bs(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),m2(n)}function dye(t,e){const n=e*3;return Yp(t,n)}function m9(t,e){return Yp(t,e*12)}function zG(t,e){const n=Pi(t),r=Pi(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function are(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function pC(t){if(!are(t)&&typeof t!="number")return!1;const e=Pi(t);return!isNaN(Number(e))}function $G(t){const e=Pi(t);return Math.trunc(e.getMonth()/3)+1}function fye(t,e){const n=Pi(t),r=Pi(e);return n.getFullYear()-r.getFullYear()}function pye(t,e){const n=Pi(t),r=Pi(e),i=zG(n,r),s=Math.abs(fye(n,r));n.setFullYear(1584),r.setFullYear(1584);const l=zG(n,r)===-i,c=i*(s-+l);return c===0?0:c}function sre(t,e){const n=Pi(t.start),r=Pi(t.end);let i=+n>+r;const s=i?+n:+r,l=i?r:n;l.setHours(0,0,0,0);let c=1;const a=[];for(;+l<=s;)a.push(Pi(l)),l.setDate(l.getDate()+c),l.setHours(0,0,0,0);return i?a.reverse():a}function V_(t){const e=Pi(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function Aye(t,e){const n=Pi(t.start),r=Pi(t.end);let i=+n>+r;const s=i?+V_(n):+V_(r);let l=V_(i?r:n),c=1;const a=[];for(;+l<=s;)a.push(Pi(l)),l=dye(l,c);return i?a.reverse():a}function mye(t){const e=Pi(t);return e.setDate(1),e.setHours(0,0,0,0),e}function ore(t){const e=Pi(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function g9(t){const e=Pi(t),n=Bs(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function lre(t,e){var c,a,f,p;const n=Uy(),r=(e==null?void 0:e.weekStartsOn)??((a=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:a.weekStartsOn)??n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,i=Pi(t),s=i.getDay(),l=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+l),i.setHours(23,59,59,999),i}function VG(t){const e=Pi(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}const gye={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},vye=(t,e,n)=>{let r;const i=gye[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ik(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const _ye={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},yye={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},bye={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wye={date:ik({formats:_ye,defaultWidth:"full"}),time:ik({formats:yye,defaultWidth:"full"}),dateTime:ik({formats:bye,defaultWidth:"full"})},xye={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Cye=(t,e,n,r)=>xye[t];function c4(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,c=n!=null&&n.width?String(n.width):l;i=t.formattingValues[c]||t.formattingValues[l]}else{const l=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[c]||t.values[l]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const Eye={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Sye={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Tye={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Bye={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Mye={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Iye={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Lye=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},kye={ordinalNumber:Lye,era:c4({values:Eye,defaultWidth:"wide"}),quarter:c4({values:Sye,defaultWidth:"wide",argumentCallback:t=>t-1}),month:c4({values:Tye,defaultWidth:"wide"}),day:c4({values:Bye,defaultWidth:"wide"}),dayPeriod:c4({values:Mye,defaultWidth:"wide",formattingValues:Iye,defaultFormattingWidth:"wide"})};function h4(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const l=s[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],a=Array.isArray(c)?Fye(c,m=>m.test(l)):Pye(c,m=>m.test(l));let f;f=t.valueCallback?t.valueCallback(a):a,f=n.valueCallback?n.valueCallback(f):f;const p=e.slice(l.length);return{value:f,rest:p}}}function Pye(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Fye(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Rye(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let l=t.valueCallback?t.valueCallback(s[0]):s[0];l=n.valueCallback?n.valueCallback(l):l;const c=e.slice(i.length);return{value:l,rest:c}}}const Oye=/^(\d+)(th|st|nd|rd)?/i,Dye=/\d+/i,Nye={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Uye={any:[/^b/i,/^(a|c)/i]},zye={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},$ye={any:[/1/i,/2/i,/3/i,/4/i]},Vye={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Hye={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Qye={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jye={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Gye={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Kye={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Wye={ordinalNumber:Rye({matchPattern:Oye,parsePattern:Dye,valueCallback:t=>parseInt(t,10)}),era:h4({matchPatterns:Nye,defaultMatchWidth:"wide",parsePatterns:Uye,defaultParseWidth:"any"}),quarter:h4({matchPatterns:zye,defaultMatchWidth:"wide",parsePatterns:$ye,defaultParseWidth:"any",valueCallback:t=>t+1}),month:h4({matchPatterns:Vye,defaultMatchWidth:"wide",parsePatterns:Hye,defaultParseWidth:"any"}),day:h4({matchPatterns:Qye,defaultMatchWidth:"wide",parsePatterns:jye,defaultParseWidth:"any"}),dayPeriod:h4({matchPatterns:Gye,defaultMatchWidth:"any",parsePatterns:Kye,defaultParseWidth:"any"})},ure={code:"en-US",formatDistance:vye,formatLong:wye,formatRelative:Cye,localize:kye,match:Wye,options:{weekStartsOn:0,firstWeekContainsDate:1}};function qye(t){const e=Pi(t);return ire(e,g9(e))+1}function v9(t){const e=Pi(t),n=+m2(e)-+hye(e);return Math.round(n/tre)+1}function _9(t,e){var p,m,v,y;const n=Pi(t),r=n.getFullYear(),i=Uy(),s=(e==null?void 0:e.firstWeekContainsDate)??((m=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??i.firstWeekContainsDate??((y=(v=i.locale)==null?void 0:v.options)==null?void 0:y.firstWeekContainsDate)??1,l=Bs(t,0);l.setFullYear(r+1,0,s),l.setHours(0,0,0,0);const c=eA(l,e),a=Bs(t,0);a.setFullYear(r,0,s),a.setHours(0,0,0,0);const f=eA(a,e);return n.getTime()>=c.getTime()?r+1:n.getTime()>=f.getTime()?r:r-1}function Yye(t,e){var c,a,f,p;const n=Uy(),r=(e==null?void 0:e.firstWeekContainsDate)??((a=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:a.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,i=_9(t,e),s=Bs(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),eA(s,e)}function y9(t,e){const n=Pi(t),r=+eA(n,e)-+Yye(n,e);return Math.round(r/tre)+1}function js(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const uv={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return js(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):js(n+1,2)},d(t,e){return js(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return js(t.getHours()%12||12,e.length)},H(t,e){return js(t.getHours(),e.length)},m(t,e){return js(t.getMinutes(),e.length)},s(t,e){return js(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return js(i,e.length)}},Ob={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},HG={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return uv.y(t,e)},Y:function(t,e,n,r){const i=_9(t,r),s=i>0?i:1-i;if(e==="YY"){const l=s%100;return js(l,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):js(s,e.length)},R:function(t,e){const n=rre(t);return js(n,e.length)},u:function(t,e){const n=t.getFullYear();return js(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return js(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return js(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return uv.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return js(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=y9(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):js(i,e.length)},I:function(t,e,n){const r=v9(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):js(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):uv.d(t,e)},D:function(t,e,n){const r=qye(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):js(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return js(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return js(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return js(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Ob.noon:r===0?i=Ob.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Ob.evening:r>=12?i=Ob.afternoon:r>=4?i=Ob.morning:i=Ob.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return uv.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):uv.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):js(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):js(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):uv.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):uv.s(t,e)},S:function(t,e){return uv.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return jG(r);case"XXXX":case"XX":return I_(r);case"XXXXX":case"XXX":default:return I_(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return jG(r);case"xxxx":case"xx":return I_(r);case"xxxxx":case"xxx":default:return I_(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+QG(r,":");case"OOOO":default:return"GMT"+I_(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+QG(r,":");case"zzzz":default:return"GMT"+I_(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return js(r,e.length)},T:function(t,e,n){const r=t.getTime();return js(r,e.length)}};function QG(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+js(s,2)}function jG(t,e){return t%60===0?(t>0?"-":"+")+js(Math.abs(t)/60,2):I_(t,e)}function I_(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=js(Math.trunc(r/60),2),s=js(r%60,2);return n+i+e+s}const GG=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},cre=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Xye=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return GG(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",GG(r,e)).replace("{{time}}",cre(i,e))},fR={p:cre,P:Xye},Zye=/^D+$/,Jye=/^Y+$/,ebe=["D","DD","YY","YYYY"];function hre(t){return Zye.test(t)}function dre(t){return Jye.test(t)}function pR(t,e,n){const r=tbe(t,e,n);if(console.warn(r),ebe.includes(t))throw new RangeError(r)}function tbe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const nbe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rbe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ibe=/^'([^]*?)'?$/,abe=/''/g,sbe=/[a-zA-Z]/;function pm(t,e,n){var p,m,v,y,T,C,k,M;const r=Uy(),i=(n==null?void 0:n.locale)??r.locale??ure,s=(n==null?void 0:n.firstWeekContainsDate)??((m=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??r.firstWeekContainsDate??((y=(v=r.locale)==null?void 0:v.options)==null?void 0:y.firstWeekContainsDate)??1,l=(n==null?void 0:n.weekStartsOn)??((C=(T=n==null?void 0:n.locale)==null?void 0:T.options)==null?void 0:C.weekStartsOn)??r.weekStartsOn??((M=(k=r.locale)==null?void 0:k.options)==null?void 0:M.weekStartsOn)??0,c=Pi(t);if(!pC(c))throw new RangeError("Invalid time value");let a=e.match(rbe).map(P=>{const R=P[0];if(R==="p"||R==="P"){const N=fR[R];return N(P,i.formatLong)}return P}).join("").match(nbe).map(P=>{if(P==="''")return{isToken:!1,value:"'"};const R=P[0];if(R==="'")return{isToken:!1,value:obe(P)};if(HG[R])return{isToken:!0,value:P};if(R.match(sbe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return{isToken:!1,value:P}});i.localize.preprocessor&&(a=i.localize.preprocessor(c,a));const f={firstWeekContainsDate:s,weekStartsOn:l,locale:i};return a.map(P=>{if(!P.isToken)return P.value;const R=P.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&dre(R)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&hre(R))&&pR(R,e,String(t));const N=HG[R[0]];return N(c,R,i.localize,f)}).join("")}function obe(t){const e=t.match(ibe);return e?e[1].replace(abe,"'"):t}function lbe(t){return Pi(t).getDay()}function ube(t){const e=Pi(t),n=e.getFullYear(),r=e.getMonth(),i=Bs(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function cbe(){return Object.assign({},Uy())}function s0(t){return Pi(t).getHours()}function hbe(t){let n=Pi(t).getDay();return n===0&&(n=7),n}function u1(t){return Pi(t).getMinutes()}function Ja(t){return Pi(t).getMonth()}function g2(t){return Pi(t).getSeconds()}function Da(t){return Pi(t).getFullYear()}function v2(t,e){const n=Pi(t),r=Pi(e);return n.getTime()>r.getTime()}function t6(t,e){const n=Pi(t),r=Pi(e);return+n<+r}function Sw(t,e){const n=Pi(t),r=Pi(e);return+n==+r}function dbe(t,e){const n=e instanceof Date?Bs(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const fbe=10;class fre{constructor(){oi(this,"subPriority",0)}validate(e,n){return!0}}class pbe extends fre{constructor(e,n,r,i,s){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,s&&(this.subPriority=s)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class Abe extends fre{constructor(){super(...arguments);oi(this,"priority",fbe);oi(this,"subPriority",-1)}set(n,r){return r.timestampIsSet?n:Bs(n,dbe(n,Date))}}let Ms=class{run(e,n,r,i){const s=this.parse(e,n,r,i);return s?{setter:new pbe(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,n,r){return!0}};class mbe extends Ms{constructor(){super(...arguments);oi(this,"priority",140);oi(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const Fl={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},nm={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Rl(t,e){return t&&{value:e(t.value),rest:t.rest}}function Yo(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function rm(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,l=n[5]?parseInt(n[5],10):0;return{value:r*(i*nre+s*oye+l*lye),rest:e.slice(n[0].length)}}function pre(t){return Yo(Fl.anyDigitsSigned,t)}function Al(t,e){switch(t){case 1:return Yo(Fl.singleDigit,e);case 2:return Yo(Fl.twoDigits,e);case 3:return Yo(Fl.threeDigits,e);case 4:return Yo(Fl.fourDigits,e);default:return Yo(new RegExp("^\\d{1,"+t+"}"),e)}}function l8(t,e){switch(t){case 1:return Yo(Fl.singleDigitSigned,e);case 2:return Yo(Fl.twoDigitsSigned,e);case 3:return Yo(Fl.threeDigitsSigned,e);case 4:return Yo(Fl.fourDigitsSigned,e);default:return Yo(new RegExp("^-?\\d{1,"+t+"}"),e)}}function b9(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Are(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const s=r+50,l=Math.trunc(s/100)*100,c=t>=s%100;i=t+l-(c?100:0)}return n?i:1-i}function mre(t){return t%400===0||t%4===0&&t%100!==0}class gbe extends Ms{constructor(){super(...arguments);oi(this,"priority",130);oi(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const s=l=>({year:l,isTwoDigitYear:r==="yy"});switch(r){case"y":return Rl(Al(4,n),s);case"yo":return Rl(i.ordinalNumber(n,{unit:"year"}),s);default:return Rl(Al(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const s=n.getFullYear();if(i.isTwoDigitYear){const c=Are(i.year,s);return n.setFullYear(c,0,1),n.setHours(0,0,0,0),n}const l=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(l,0,1),n.setHours(0,0,0,0),n}}class vbe extends Ms{constructor(){super(...arguments);oi(this,"priority",130);oi(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const s=l=>({year:l,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Rl(Al(4,n),s);case"Yo":return Rl(i.ordinalNumber(n,{unit:"year"}),s);default:return Rl(Al(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,s){const l=_9(n,s);if(i.isTwoDigitYear){const a=Are(i.year,l);return n.setFullYear(a,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),eA(n,s)}const c=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(c,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),eA(n,s)}}class _be extends Ms{constructor(){super(...arguments);oi(this,"priority",130);oi(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return l8(r==="R"?4:r.length,n)}set(n,r,i){const s=Bs(n,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),m2(s)}}class ybe extends Ms{constructor(){super(...arguments);oi(this,"priority",130);oi(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return l8(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class bbe extends Ms{constructor(){super(...arguments);oi(this,"priority",120);oi(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return Al(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class wbe extends Ms{constructor(){super(...arguments);oi(this,"priority",120);oi(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return Al(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class xbe extends Ms{constructor(){super(...arguments);oi(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);oi(this,"priority",110)}parse(n,r,i){const s=l=>l-1;switch(r){case"M":return Rl(Yo(Fl.month,n),s);case"MM":return Rl(Al(2,n),s);case"Mo":return Rl(i.ordinalNumber(n,{unit:"month"}),s);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class Cbe extends Ms{constructor(){super(...arguments);oi(this,"priority",110);oi(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const s=l=>l-1;switch(r){case"L":return Rl(Yo(Fl.month,n),s);case"LL":return Rl(Al(2,n),s);case"Lo":return Rl(i.ordinalNumber(n,{unit:"month"}),s);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function Ebe(t,e,n){const r=Pi(t),i=y9(r,n)-e;return r.setDate(r.getDate()-i*7),r}class Sbe extends Ms{constructor(){super(...arguments);oi(this,"priority",100);oi(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return Yo(Fl.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return Al(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,s){return eA(Ebe(n,i,s),s)}}function Tbe(t,e){const n=Pi(t),r=v9(n)-e;return n.setDate(n.getDate()-r*7),n}class Bbe extends Ms{constructor(){super(...arguments);oi(this,"priority",100);oi(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return Yo(Fl.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return Al(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return m2(Tbe(n,i))}}const Mbe=[31,28,31,30,31,30,31,31,30,31,30,31],Ibe=[31,29,31,30,31,30,31,31,30,31,30,31];class Lbe extends Ms{constructor(){super(...arguments);oi(this,"priority",90);oi(this,"subPriority",1);oi(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return Yo(Fl.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return Al(r.length,n)}}validate(n,r){const i=n.getFullYear(),s=mre(i),l=n.getMonth();return s?r>=1&&r<=Ibe[l]:r>=1&&r<=Mbe[l]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class kbe extends Ms{constructor(){super(...arguments);oi(this,"priority",90);oi(this,"subpriority",1);oi(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return Yo(Fl.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return Al(r.length,n)}}validate(n,r){const i=n.getFullYear();return mre(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function w9(t,e,n){var m,v,y,T;const r=Uy(),i=(n==null?void 0:n.weekStartsOn)??((v=(m=n==null?void 0:n.locale)==null?void 0:m.options)==null?void 0:v.weekStartsOn)??r.weekStartsOn??((T=(y=r.locale)==null?void 0:y.options)==null?void 0:T.weekStartsOn)??0,s=Pi(t),l=s.getDay(),a=(e%7+7)%7,f=7-i,p=e<0||e>6?e-(l+f)%7:(a+f)%7-(l+f)%7;return jp(s,p)}class Pbe extends Ms{constructor(){super(...arguments);oi(this,"priority",90);oi(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=w9(n,i,s),n.setHours(0,0,0,0),n}}class Fbe extends Ms{constructor(){super(...arguments);oi(this,"priority",90);oi(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,s){const l=c=>{const a=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+a};switch(r){case"e":case"ee":return Rl(Al(r.length,n),l);case"eo":return Rl(i.ordinalNumber(n,{unit:"day"}),l);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=w9(n,i,s),n.setHours(0,0,0,0),n}}class Rbe extends Ms{constructor(){super(...arguments);oi(this,"priority",90);oi(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,s){const l=c=>{const a=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+a};switch(r){case"c":case"cc":return Rl(Al(r.length,n),l);case"co":return Rl(i.ordinalNumber(n,{unit:"day"}),l);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=w9(n,i,s),n.setHours(0,0,0,0),n}}function Obe(t,e){const n=Pi(t),r=hbe(n),i=e-r;return jp(n,i)}class Dbe extends Ms{constructor(){super(...arguments);oi(this,"priority",90);oi(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const s=l=>l===0?7:l;switch(r){case"i":case"ii":return Al(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return Rl(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiii":return Rl(i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiiii":return Rl(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiii":default:return Rl(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=Obe(n,i),n.setHours(0,0,0,0),n}}class Nbe extends Ms{constructor(){super(...arguments);oi(this,"priority",80);oi(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(b9(i),0,0,0),n}}class Ube extends Ms{constructor(){super(...arguments);oi(this,"priority",80);oi(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(b9(i),0,0,0),n}}class zbe extends Ms{constructor(){super(...arguments);oi(this,"priority",80);oi(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(b9(i),0,0,0),n}}class $be extends Ms{constructor(){super(...arguments);oi(this,"priority",70);oi(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return Yo(Fl.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return Al(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const s=n.getHours()>=12;return s&&i<12?n.setHours(i+12,0,0,0):!s&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class Vbe extends Ms{constructor(){super(...arguments);oi(this,"priority",70);oi(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return Yo(Fl.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return Al(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class Hbe extends Ms{constructor(){super(...arguments);oi(this,"priority",70);oi(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return Yo(Fl.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return Al(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class Qbe extends Ms{constructor(){super(...arguments);oi(this,"priority",70);oi(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return Yo(Fl.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return Al(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const s=i<=24?i%24:i;return n.setHours(s,0,0,0),n}}class jbe extends Ms{constructor(){super(...arguments);oi(this,"priority",60);oi(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return Yo(Fl.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return Al(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class Gbe extends Ms{constructor(){super(...arguments);oi(this,"priority",50);oi(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return Yo(Fl.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return Al(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class Kbe extends Ms{constructor(){super(...arguments);oi(this,"priority",30);oi(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=s=>Math.trunc(s*Math.pow(10,-r.length+3));return Rl(Al(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class Wbe extends Ms{constructor(){super(...arguments);oi(this,"priority",10);oi(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return rm(nm.basicOptionalMinutes,n);case"XX":return rm(nm.basic,n);case"XXXX":return rm(nm.basicOptionalSeconds,n);case"XXXXX":return rm(nm.extendedOptionalSeconds,n);case"XXX":default:return rm(nm.extended,n)}}set(n,r,i){return r.timestampIsSet?n:Bs(n,n.getTime()-o8(n)-i)}}class qbe extends Ms{constructor(){super(...arguments);oi(this,"priority",10);oi(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return rm(nm.basicOptionalMinutes,n);case"xx":return rm(nm.basic,n);case"xxxx":return rm(nm.basicOptionalSeconds,n);case"xxxxx":return rm(nm.extendedOptionalSeconds,n);case"xxx":default:return rm(nm.extended,n)}}set(n,r,i){return r.timestampIsSet?n:Bs(n,n.getTime()-o8(n)-i)}}class Ybe extends Ms{constructor(){super(...arguments);oi(this,"priority",40);oi(this,"incompatibleTokens","*")}parse(n){return pre(n)}set(n,r,i){return[Bs(n,i*1e3),{timestampIsSet:!0}]}}class Xbe extends Ms{constructor(){super(...arguments);oi(this,"priority",20);oi(this,"incompatibleTokens","*")}parse(n){return pre(n)}set(n,r,i){return[Bs(n,i),{timestampIsSet:!0}]}}const Zbe={G:new mbe,y:new gbe,Y:new vbe,R:new _be,u:new ybe,Q:new bbe,q:new wbe,M:new xbe,L:new Cbe,w:new Sbe,I:new Bbe,d:new Lbe,D:new kbe,E:new Pbe,e:new Fbe,c:new Rbe,i:new Dbe,a:new Nbe,b:new Ube,B:new zbe,h:new $be,H:new Vbe,K:new Hbe,k:new Qbe,m:new jbe,s:new Gbe,S:new Kbe,X:new Wbe,x:new qbe,t:new Ybe,T:new Xbe},Jbe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ewe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,twe=/^'([^]*?)'?$/,nwe=/''/g,rwe=/\S/,iwe=/[a-zA-Z]/;function AR(t,e,n,r){var C,k,M,P,R,N,z,H;const i=cbe(),s=(r==null?void 0:r.locale)??i.locale??ure,l=(r==null?void 0:r.firstWeekContainsDate)??((k=(C=r==null?void 0:r.locale)==null?void 0:C.options)==null?void 0:k.firstWeekContainsDate)??i.firstWeekContainsDate??((P=(M=i.locale)==null?void 0:M.options)==null?void 0:P.firstWeekContainsDate)??1,c=(r==null?void 0:r.weekStartsOn)??((N=(R=r==null?void 0:r.locale)==null?void 0:R.options)==null?void 0:N.weekStartsOn)??i.weekStartsOn??((H=(z=i.locale)==null?void 0:z.options)==null?void 0:H.weekStartsOn)??0;if(e==="")return t===""?Pi(n):Bs(n,NaN);const a={firstWeekContainsDate:l,weekStartsOn:c,locale:s},f=[new Abe],p=e.match(ewe).map(j=>{const Q=j[0];if(Q in fR){const G=fR[Q];return G(j,s.formatLong)}return j}).join("").match(Jbe),m=[];for(let j of p){!(r!=null&&r.useAdditionalWeekYearTokens)&&dre(j)&&pR(j,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&hre(j)&&pR(j,e,t);const Q=j[0],G=Zbe[Q];if(G){const{incompatibleTokens:ie}=G;if(Array.isArray(ie)){const W=m.find(ee=>ie.includes(ee.token)||ee.token===Q);if(W)throw new RangeError(`The format string mustn't contain \`${W.fullToken}\` and \`${j}\` at the same time`)}else if(G.incompatibleTokens==="*"&&m.length>0)throw new RangeError(`The format string mustn't contain \`${j}\` and any other token at the same time`);m.push({token:Q,fullToken:j});const q=G.run(t,j,s.match,a);if(!q)return Bs(n,NaN);f.push(q.setter),t=q.rest}else{if(Q.match(iwe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Q+"`");if(j==="''"?j="'":Q==="'"&&(j=awe(j)),t.indexOf(j)===0)t=t.slice(j.length);else return Bs(n,NaN)}}if(t.length>0&&rwe.test(t))return Bs(n,NaN);const v=f.map(j=>j.priority).sort((j,Q)=>Q-j).filter((j,Q,G)=>G.indexOf(j)===Q).map(j=>f.filter(Q=>Q.priority===j).sort((Q,G)=>G.subPriority-Q.subPriority)).map(j=>j[0]);let y=Pi(n);if(isNaN(y.getTime()))return Bs(n,NaN);const T={};for(const j of v){if(!j.validate(y,a))return Bs(n,NaN);const Q=j.set(y,T,a);Array.isArray(Q)?(y=Q[0],Object.assign(T,Q[1])):y=Q}return Bs(n,y)}function awe(t){return t.match(twe)[1].replace(nwe,"'")}function KG(t,e){const n=V_(t),r=V_(e);return+n==+r}function swe(t,e){return jp(t,-e)}function gre(t,e){const n=Pi(t),r=n.getFullYear(),i=n.getDate(),s=Bs(t,0);s.setFullYear(r,e,15),s.setHours(0,0,0,0);const l=ube(s);return n.setMonth(e,Math.min(i,l)),n}function co(t,e){let n=Pi(t);return isNaN(+n)?Bs(t,NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=gre(n,e.month)),e.date!=null&&n.setDate(e.date),e.hours!=null&&n.setHours(e.hours),e.minutes!=null&&n.setMinutes(e.minutes),e.seconds!=null&&n.setSeconds(e.seconds),e.milliseconds!=null&&n.setMilliseconds(e.milliseconds),n)}function owe(t,e){const n=Pi(t);return n.setHours(e),n}function vre(t,e){const n=Pi(t);return n.setMilliseconds(e),n}function lwe(t,e){const n=Pi(t);return n.setMinutes(e),n}function _re(t,e){const n=Pi(t);return n.setSeconds(e),n}function sm(t,e){const n=Pi(t);return isNaN(+n)?Bs(t,NaN):(n.setFullYear(e),n)}function _2(t,e){return Yp(t,-e)}function uwe(t,e){const{years:n=0,months:r=0,weeks:i=0,days:s=0,hours:l=0,minutes:c=0,seconds:a=0}=e,f=_2(t,r+n*12),p=swe(f,s+i*7),m=c+l*60,y=(a+m*60)*1e3;return Bs(t,p.getTime()-y)}function yre(t,e){return m9(t,-e)}function Z2(){return X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[pe("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),pe("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),pe("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),pe("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Z2.compatConfig={MODE:3};function bre(){return X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[pe("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),pe("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}bre.compatConfig={MODE:3};function x9(){return X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[pe("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}x9.compatConfig={MODE:3};function C9(){return X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[pe("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}C9.compatConfig={MODE:3};function E9(){return X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[pe("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),pe("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}E9.compatConfig={MODE:3};function S9(){return X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[pe("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}S9.compatConfig={MODE:3};function T9(){return X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[pe("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}T9.compatConfig={MODE:3};const Am=(t,e)=>e?new Date(t.toLocaleString("en-US",{timeZone:e})):new Date(t),B9=(t,e,n)=>mR(t,e,n)||xr(),cwe=(t,e,n)=>{const r=e.dateInTz?Am(new Date(t),e.dateInTz):xr(t);return n?uh(r,!0):r},mR=(t,e,n)=>{if(!t)return null;const r=n?uh(xr(t),!0):xr(t);return e?e.exactMatch?cwe(t,e,n):Am(r,e.timezone):r},hwe=t=>{if(!t)return 0;const e=new Date,n=new Date(e.toLocaleString("en-US",{timeZone:"UTC"})),r=new Date(e.toLocaleString("en-US",{timeZone:t})),i=r.getTimezoneOffset()/60;return(+n-+r)/(1e3*60*60)-i};var Op=(t=>(t.month="month",t.year="year",t))(Op||{}),L_=(t=>(t.top="top",t.bottom="bottom",t))(L_||{}),iy=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(iy||{}),Pc=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(Pc||{});const dwe=["timestamp","date","iso"];var rh=(t=>(t.up="up",t.down="down",t.left="left",t.right="right",t))(rh||{}),Wo=(t=>(t.arrowUp="ArrowUp",t.arrowDown="ArrowDown",t.arrowLeft="ArrowLeft",t.arrowRight="ArrowRight",t.enter="Enter",t.space=" ",t.esc="Escape",t.tab="Tab",t.home="Home",t.end="End",t.pageUp="PageUp",t.pageDown="PageDown",t))(Wo||{});function WG(t){return e=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${e}T00:00:00+00:00`)).slice(0,2)}function fwe(t){return e=>pm(new Date(`2017-01-0${e}T00:00:00+00:00`),"EEEEEE",{locale:t})}const pwe=(t,e,n)=>{const r=[1,2,3,4,5,6,7];let i;if(t!==null)try{i=r.map(fwe(t))}catch{i=r.map(WG(e))}else i=r.map(WG(e));const s=i.slice(0,n),l=i.slice(n+1,i.length);return[i[n]].concat(...l).concat(...s)},M9=(t,e,n)=>{const r=[];for(let i=+t[0];i<=+t[1];i++)r.push({value:+i,text:Ere(i,e)});return n?r.reverse():r},wre=(t,e,n)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(s=>{const l=s<10?`0${s}`:s;return new Date(`2017-${l}-01T00:00:00+00:00`)});if(t!==null)try{const s=n==="long"?"MMMM":"MMM";return r.map((l,c)=>{const a=pm(Am(l,"UTC"),s,{locale:t});return{text:a.charAt(0).toUpperCase()+a.substring(1),value:c}})}catch{}const i=new Intl.DateTimeFormat(e,{month:n,timeZone:"UTC"});return r.map((s,l)=>{const c=i.format(s);return{text:c.charAt(0).toUpperCase()+c.substring(1),value:l}})},Awe=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],yu=t=>{const e=S(t);return e!=null&&e.$el?e==null?void 0:e.$el:e},mwe=t=>({type:"dot",...t??{}}),xre=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,I9={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},$u=t=>t,qG=t=>t===0?t:!t||isNaN(+t)?null:+t,YG=t=>t===null,Cre=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},gwe=t=>{const e=[],n=r=>r.filter(i=>i);for(let r=0;r<t.length;r+=3){const i=[t[r],t[r+1],t[r+2]];e.push(n(i))}return e},n6=(t,e,n)=>{const r=n!=null,i=e!=null;if(!r&&!i)return!1;const s=+n,l=+e;return r&&i?+t>s||+t<l:r?+t>s:i?+t<l:!1},y2=(t,e)=>gwe(t).map(n=>n.map(r=>{const{active:i,disabled:s,isBetween:l,highlighted:c}=e(r);return{...r,active:i,disabled:s,className:{dp__overlay_cell_active:i,dp__overlay_cell:!i,dp__overlay_cell_disabled:s,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:s&&i,dp__cell_in_between:l,"dp--highlighted":c}}})),t1=(t,e,n=!1)=>{t&&e.allowStopPropagation&&(n&&t.stopImmediatePropagation(),t.stopPropagation())},vwe=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function _we(t,e){let n=[...document.querySelectorAll(vwe())];n=n.filter(i=>!t.contains(i)||i.hasAttribute("data-datepicker-instance"));const r=n.indexOf(t);if(r>=0&&(e?r-1>=0:r+1<=n.length))return n[r+(e?-1:1)]}const ywe=(t,e)=>t==null?void 0:t.querySelector(`[data-dp-element="${e}"]`),Ere=(t,e)=>new Intl.NumberFormat(e,{useGrouping:!1,style:"decimal"}).format(t),L9=t=>pm(t,"dd-MM-yyyy"),ak=t=>Array.isArray(t),u8=(t,e)=>e.get(L9(t)),bwe=(t,e)=>t?e?e instanceof Map?!!u8(t,e):e(xr(t)):!1:!0,zh=(t,e,n=!1)=>{if(t.key===Wo.enter||t.key===Wo.space)return n&&t.preventDefault(),e()},XG=(t,e,n,r,i,s)=>{const l=AR(t,e.slice(0,t.length),new Date,{locale:s});return pC(l)&&are(l)?r||i?l:co(l,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},wwe=(t,e,n,r,i,s)=>{const l=Array.isArray(n)?n[0]:n;if(typeof e=="string")return XG(t,e,l,r,i,s);if(Array.isArray(e)){let c=null;for(const a of e)if(c=XG(t,a,l,r,i,s),c)break;return c}return typeof e=="function"?e(t):null},xr=t=>t?new Date(t):new Date,xwe=(t,e,n)=>{if(e){const i=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getDate().toString().padStart(2,"0"),l=t.getHours().toString().padStart(2,"0"),c=t.getMinutes().toString().padStart(2,"0"),a=n?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${i}-${s}T${l}:${c}:${a}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},uh=(t,e)=>{const n=xr(JSON.parse(JSON.stringify(t))),r=co(n,{hours:0,minutes:0,seconds:0,milliseconds:0});return e?mye(r):r},n1=(t,e,n,r)=>{let i=t?xr(t):xr();return(e||e===0)&&(i=owe(i,+e)),(n||n===0)&&(i=lwe(i,+n)),(r||r===0)&&(i=_re(i,+r)),vre(i,0)},dl=(t,e)=>!t||!e?!1:t6(uh(t),uh(e)),is=(t,e)=>!t||!e?!1:Sw(uh(t),uh(e)),Ml=(t,e)=>!t||!e?!1:v2(uh(t),uh(e)),NB=(t,e,n)=>t!=null&&t[0]&&t!=null&&t[1]?Ml(n,t[0])&&dl(n,t[1]):t!=null&&t[0]&&e?Ml(n,t[0])&&dl(n,e)||dl(n,t[0])&&Ml(n,e):!1,Gp=t=>{const e=co(new Date(t),{date:1});return uh(e)},sk=(t,e,n)=>e&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===e?[r,n]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},ay=t=>({hours:s0(t),minutes:u1(t),seconds:g2(t)}),Sre=(t,e)=>{if(e){const n=Da(xr(e));if(n>t)return 12;if(n===t)return Ja(xr(e))}},Tre=(t,e)=>{if(e){const n=Da(xr(e));return n<t?-1:n===t?Ja(xr(e)):void 0}},b2=t=>{if(t)return Da(xr(t))},Bre=(t,e)=>{const n=Ml(t,e)?e:t,r=Ml(e,t)?e:t;return sre({start:n,end:r})},Cwe=t=>{const e=Yp(t,1);return{month:Ja(e),year:Da(e)}},Hg=(t,e)=>{const n=eA(t,{weekStartsOn:+e}),r=lre(t,{weekStartsOn:+e});return[n,r]},Mre=(t,e)=>{const n={hours:s0(xr()),minutes:u1(xr()),seconds:e?g2(xr()):0};return Object.assign(n,t)},$v=(t,e,n)=>[co(xr(t),{date:1}),co(xr(),{month:e,year:n,date:1})],qg=(t,e,n)=>{let r=t?xr(t):xr();return(e||e===0)&&(r=gre(r,e)),n&&(r=sm(r,n)),r},Ire=(t,e,n,r,i)=>{if(!r||i&&!e||!i&&!n)return!1;const s=i?Yp(t,1):_2(t,1),l=[Ja(s),Da(s)];return i?!Swe(...l,e):!Ewe(...l,n)},Ewe=(t,e,n)=>dl(...$v(n,t,e))||is(...$v(n,t,e)),Swe=(t,e,n)=>Ml(...$v(n,t,e))||is(...$v(n,t,e)),Lre=(t,e,n,r,i,s,l)=>{if(typeof e=="function"&&!l)return e(t);const c=n?{locale:n}:void 0;return Array.isArray(t)?`${pm(t[0],s,c)}${i&&!t[1]?"":r}${t[1]?pm(t[1],s,c):""}`:pm(t,s,c)},Db=t=>{if(t)return null;throw new Error(I9.prop("partial-range"))},mS=(t,e)=>{if(e)return t();throw new Error(I9.prop("range"))},gR=t=>Array.isArray(t)?pC(t[0])&&(t[1]?pC(t[1]):!0):t?pC(t):!1,Twe=(t,e)=>co(e??xr(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),ok=(t,e,n,r)=>{if(!t)return!0;if(r){const i=n==="max"?t6(t,e):v2(t,e),s={seconds:0,milliseconds:0};return i||Sw(co(t,s),co(e,s))}return n==="max"?t.getTime()<=e.getTime():t.getTime()>=e.getTime()},lk=(t,e,n)=>t?Twe(t,e):xr(n??e),ZG=(t,e,n,r,i)=>{if(Array.isArray(r)){const l=lk(t,r[0],e),c=lk(t,r[1],e);return ok(r[0],l,n,!!e)&&ok(r[1],c,n,!!e)&&i}const s=lk(t,r,e);return ok(r,s,n,!!e)&&i},uk=t=>co(xr(),ay(t)),Bwe=(t,e)=>t instanceof Map?Array.from(t.values()).filter(n=>Da(xr(n))===e).map(n=>Ja(n)):[],kre=(t,e,n)=>typeof t=="function"?t({month:e,year:n}):!!t.months.find(r=>r.month===e&&r.year===n),k9=(t,e)=>typeof t=="function"?t(e):t.years.includes(e),Pre=t=>pm(t,"yyyy-MM-dd"),d4=ha({menuFocused:!1,shiftKeyInMenu:!1}),Fre=()=>{const t=n=>{d4.menuFocused=n},e=n=>{d4.shiftKeyInMenu!==n&&(d4.shiftKeyInMenu=n)};return{control:le(()=>({shiftKeyInMenu:d4.shiftKeyInMenu,menuFocused:d4.menuFocused})),setMenuFocused:t,setShiftKey:e}},ko=ha({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),ck=Te(null),gS=Te(!1),hk=Te(!1),dk=Te(!1),fk=Te(!1),xc=Te(0),Sl=Te(0),k1=()=>{const t=le(()=>gS.value?[...ko.selectionGrid,ko.actionRow].filter(m=>m.length):hk.value?[...ko.timePicker[0],...ko.timePicker[1],fk.value?[]:[ck.value],ko.actionRow].filter(m=>m.length):dk.value?[...ko.monthPicker,ko.actionRow]:[ko.monthYear,...ko.calendar,ko.time,ko.actionRow].filter(m=>m.length)),e=m=>{xc.value=m?xc.value+1:xc.value-1;let v=null;t.value[Sl.value]&&(v=t.value[Sl.value][xc.value]),!v&&t.value[Sl.value+(m?1:-1)]?(Sl.value=Sl.value+(m?1:-1),xc.value=m?0:t.value[Sl.value].length-1):v||(xc.value=m?xc.value-1:xc.value+1)},n=m=>{Sl.value===0&&!m||Sl.value===t.value.length&&m||(Sl.value=m?Sl.value+1:Sl.value-1,t.value[Sl.value]?t.value[Sl.value]&&!t.value[Sl.value][xc.value]&&xc.value!==0&&(xc.value=t.value[Sl.value].length-1):Sl.value=m?Sl.value-1:Sl.value+1)},r=m=>{let v=null;t.value[Sl.value]&&(v=t.value[Sl.value][xc.value]),v?v.focus({preventScroll:!gS.value}):xc.value=m?xc.value-1:xc.value+1},i=()=>{e(!0),r(!0)},s=()=>{e(!1),r(!1)},l=()=>{n(!1),r(!0)},c=()=>{n(!0),r(!0)},a=(m,v)=>{ko[v]=m},f=(m,v)=>{ko[v]=m},p=()=>{xc.value=0,Sl.value=0};return{buildMatrix:a,buildMultiLevelMatrix:f,setTimePickerBackRef:m=>{ck.value=m},setSelectionGrid:m=>{gS.value=m,p(),m||(ko.selectionGrid=[])},setTimePicker:(m,v=!1)=>{hk.value=m,fk.value=v,p(),m||(ko.timePicker[0]=[],ko.timePicker[1]=[])},setTimePickerElements:(m,v=0)=>{ko.timePicker[v]=m},arrowRight:i,arrowLeft:s,arrowUp:l,arrowDown:c,clearArrowNav:()=>{ko.monthYear=[],ko.calendar=[],ko.time=[],ko.actionRow=[],ko.selectionGrid=[],ko.timePicker[0]=[],ko.timePicker[1]=[],gS.value=!1,hk.value=!1,fk.value=!1,dk.value=!1,p(),ck.value=null},setMonthPicker:m=>{dk.value=m,p()},refSets:ko}},JG=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),Mwe=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,...t??{}}),eK=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,Iwe=t=>{const e=typeof t=="object"&&t,n={static:!0,solo:!1};if(!t)return{...n,count:eK(!1)};const r=e?t:{},i=e?r.count??!0:t,s=eK(i);return Object.assign(n,r,{count:s})},Lwe=(t,e,n)=>t||(typeof n=="string"?n:e),kwe=t=>typeof t=="boolean"?t?JG({}):!1:JG(t),Pwe=t=>{const e={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...e,...t??{},enabled:!0}:{...e,enabled:t}},Fwe=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),Rwe=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),Owe=t=>{const e={input:!1};return typeof t=="object"?{...e,...t??{},enabled:!0}:{enabled:t,...e}},Dwe=t=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,...t??{}}),Nwe=t=>{const e={dates:Array.isArray(t)?t.map(n=>xr(n)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof t=="function"?t:{...e,...t??{}}},Uwe=t=>typeof t=="object"?{type:(t==null?void 0:t.type)??"local",hideOnOffsetDates:(t==null?void 0:t.hideOnOffsetDates)??!1}:{type:t,hideOnOffsetDates:!1},zwe=(t,e)=>typeof t=="object"?{enabled:!0,...{noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1},...t}:{enabled:t,noDisabledRange:e.noDisabledRange,showLastInRange:e.showLastInRange,minMaxRawRange:e.minMaxRawRange,partialRange:e.partialRange,disableTimeRangeValidation:e.disableTimeRangeValidation,maxRange:e.maxRange,minRange:e.minRange,autoRange:e.autoRange,fixedStart:e.fixedStart,fixedEnd:e.fixedEnd},$we=(t,e)=>t?typeof t=="string"?{timezone:t,exactMatch:!1,dateInTz:void 0,emitTimezone:e,convertModel:!0}:{timezone:t.timezone,exactMatch:t.exactMatch??!1,dateInTz:t.dateInTz??void 0,emitTimezone:e??t.emitTimezone,convertModel:t.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:e},pk=(t,e,n)=>new Map(t.map(r=>{const i=B9(r,e,n);return[L9(i),i]})),Vwe=(t,e)=>t.length?new Map(t.map(n=>{const r=B9(n.date,e);return[L9(r),n]})):null,Hwe=t=>{var e;return{minDate:mR(t.minDate,t.timezone,t.isSpecific),maxDate:mR(t.maxDate,t.timezone,t.isSpecific),disabledDates:ak(t.disabledDates)?pk(t.disabledDates,t.timezone,t.isSpecific):t.disabledDates,allowedDates:ak(t.allowedDates)?pk(t.allowedDates,t.timezone,t.isSpecific):null,highlight:typeof t.highlight=="object"&&ak((e=t.highlight)==null?void 0:e.dates)?pk(t.highlight.dates,t.timezone):t.highlight,markers:Vwe(t.markers,t.timezone)}},Qwe=(t,e)=>typeof t=="boolean"?{enabled:t,dragSelect:!0,limit:+e}:{enabled:!!t,limit:t.limit?+t.limit:null,dragSelect:t.dragSelect??!0},el=t=>{const e=()=>{const z=t.enableSeconds?":ss":"",H=t.enableMinutes?":mm":"";return t.is24?`HH${H}${z}`:`hh${H}${z} aa`},n=()=>{var z;return t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?e():t.weekPicker?`${((z=k.value)==null?void 0:z.type)==="iso"?"RR":"ww"}-yyyy`:t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${e()}`:"MM/dd/yyyy"},r=z=>Mre(z,t.enableSeconds),i=()=>N.value.enabled?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,s=le(()=>Iwe(t.multiCalendars)),l=le(()=>i()),c=le(()=>Mwe(t.ariaLabels)),a=le(()=>Fwe(t.filters)),f=le(()=>kwe(t.transitions)),p=le(()=>Rwe(t.actionRow)),m=le(()=>Lwe(t.previewFormat,t.format,n())),v=le(()=>Pwe(t.textInput)),y=le(()=>Owe(t.inline)),T=le(()=>Dwe(t.config)),C=le(()=>Nwe(t.highlight)),k=le(()=>Uwe(t.weekNumbers)),M=le(()=>$we(t.timezone,t.emitTimezone)),P=le(()=>Qwe(t.multiDates,t.multiDatesLimit)),R=le(()=>Hwe({minDate:t.minDate,maxDate:t.maxDate,disabledDates:t.disabledDates,allowedDates:t.allowedDates,highlight:C.value,markers:t.markers,timezone:M.value,isSpecific:t.monthPicker||t.yearPicker||t.quarterPicker})),N=le(()=>zwe(t.range,{minMaxRawRange:!1,maxRange:t.maxRange,minRange:t.minRange,noDisabledRange:t.noDisabledRange,showLastInRange:t.showLastInRange,partialRange:t.partialRange,disableTimeRangeValidation:t.disableTimeRangeValidation,autoRange:t.autoRange,fixedStart:t.fixedStart,fixedEnd:t.fixedEnd}));return{defaultedTransitions:f,defaultedMultiCalendars:s,defaultedStartTime:l,defaultedAriaLabels:c,defaultedFilters:a,defaultedActionRow:p,defaultedPreviewFormat:m,defaultedTextInput:v,defaultedInline:y,defaultedConfig:T,defaultedHighlight:C,defaultedWeekNumbers:k,defaultedRange:N,propDates:R,defaultedTz:M,defaultedMultiDates:P,getDefaultPattern:n,getDefaultStartTime:i}},jwe=(t,e,n)=>{const r=Te(),{defaultedTextInput:i,defaultedRange:s,defaultedTz:l,defaultedMultiDates:c,getDefaultPattern:a}=el(e),f=Te(""),p=Na(e,"format"),m=Na(e,"formatLocale");ln(r,()=>{typeof e.onInternalModelChange=="function"&&t("internal-model-change",r.value,Le(!0))},{deep:!0}),ln(s,(be,Re)=>{be.enabled!==Re.enabled&&(r.value=null)}),ln(p,()=>{ce()});const v=be=>l.value.timezone&&l.value.convertModel?Am(be,l.value.timezone):be,y=be=>{if(l.value.timezone&&l.value.convertModel){const Re=hwe(l.value.timezone);return uye(be,Re)}return be},T=(be,Re,Qe=!1)=>Lre(be,e.format,e.formatLocale,i.value.rangeSeparator,e.modelAuto,Re??a(),Qe),C=be=>be?e.modelType?ye(be):{hours:s0(be),minutes:u1(be),seconds:e.enableSeconds?g2(be):0}:null,k=be=>e.modelType?ye(be):{month:Ja(be),year:Da(be)},M=be=>Array.isArray(be)?c.value.enabled?be.map(Re=>P(Re,sm(xr(),Re))):mS(()=>[sm(xr(),be[0]),be[1]?sm(xr(),be[1]):Db(s.value.partialRange)],s.value.enabled):sm(xr(),+be),P=(be,Re)=>(typeof be=="string"||typeof be=="number")&&e.modelType?ue(be):Re,R=be=>Array.isArray(be)?[P(be[0],n1(null,+be[0].hours,+be[0].minutes,be[0].seconds)),P(be[1],n1(null,+be[1].hours,+be[1].minutes,be[1].seconds))]:P(be,n1(null,be.hours,be.minutes,be.seconds)),N=be=>{const Re=co(xr(),{date:1});return Array.isArray(be)?c.value.enabled?be.map(Qe=>P(Qe,qg(Re,+Qe.month,+Qe.year))):mS(()=>[P(be[0],qg(Re,+be[0].month,+be[0].year)),P(be[1],be[1]?qg(Re,+be[1].month,+be[1].year):Db(s.value.partialRange))],s.value.enabled):P(be,qg(Re,+be.month,+be.year))},z=be=>{if(Array.isArray(be))return be.map(Re=>ue(Re));throw new Error(I9.dateArr("multi-dates"))},H=be=>{if(Array.isArray(be)&&s.value.enabled){const Re=be[0],Qe=be[1];return[xr(Array.isArray(Re)?Re[0]:null),xr(Array.isArray(Qe)?Qe[0]:null)]}return xr(be[0])},j=be=>e.modelAuto?Array.isArray(be)?[ue(be[0]),ue(be[1])]:e.autoApply?[ue(be)]:[ue(be),null]:Array.isArray(be)?mS(()=>be[1]?[ue(be[0]),be[1]?ue(be[1]):Db(s.value.partialRange)]:[ue(be[0])],s.value.enabled):ue(be),Q=()=>{Array.isArray(r.value)&&s.value.enabled&&r.value.length===1&&r.value.push(Db(s.value.partialRange))},G=()=>{const be=r.value;return[ye(be[0]),be[1]?ye(be[1]):Db(s.value.partialRange)]},ie=()=>r.value[1]?G():ye($u(r.value[0])),q=()=>(r.value||[]).map(be=>ye(be)),W=(be=!1)=>(be||Q(),e.modelAuto?ie():c.value.enabled?q():Array.isArray(r.value)?mS(()=>G(),s.value.enabled):ye($u(r.value))),ee=be=>!be||Array.isArray(be)&&!be.length?null:e.timePicker?R($u(be)):e.monthPicker?N($u(be)):e.yearPicker?M($u(be)):c.value.enabled?z($u(be)):e.weekPicker?H($u(be)):j($u(be)),he=be=>{const Re=ee(be);gR($u(Re))?(r.value=$u(Re),ce()):(r.value=null,f.value="")},J=()=>{const be=Re=>pm(Re,i.value.format);return`${be(r.value[0])} ${i.value.rangeSeparator} ${r.value[1]?be(r.value[1]):""}`},te=()=>n.value&&r.value?Array.isArray(r.value)?J():pm(r.value,i.value.format):T(r.value),ne=()=>r.value?c.value.enabled?r.value.map(be=>T(be)).join("; "):i.value.enabled&&typeof i.value.format=="string"?te():T(r.value):"",ce=()=>{!e.format||typeof e.format=="string"||i.value.enabled&&typeof i.value.format=="string"?f.value=ne():f.value=e.format(r.value)},ue=be=>{if(e.utc){const Re=new Date(be);return e.utc==="preserve"?new Date(Re.getTime()+Re.getTimezoneOffset()*6e4):Re}return e.modelType?dwe.includes(e.modelType)?v(new Date(be)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?v(AR(be,a(),new Date,{locale:m.value})):v(AR(be,e.modelType,new Date,{locale:m.value})):v(new Date(be))},ye=be=>be?e.utc?xwe(be,e.utc==="preserve",e.enableSeconds):e.modelType?e.modelType==="timestamp"?+y(be):e.modelType==="iso"?y(be).toISOString():e.modelType==="format"&&(typeof e.format=="string"||!e.format)?T(y(be)):T(y(be),e.modelType,!0):y(be):"",Ee=(be,Re=!1,Qe=!1)=>{if(Qe)return be;if(t("update:model-value",be),l.value.emitTimezone&&Re){const Je=Array.isArray(be)?be.map(nt=>Am($u(nt),l.value.emitTimezone)):Am($u(be),l.value.emitTimezone);t("update:model-timezone-value",Je)}},se=be=>Array.isArray(r.value)?c.value.enabled?r.value.map(Re=>be(Re)):[be(r.value[0]),r.value[1]?be(r.value[1]):Db(s.value.partialRange)]:be($u(r.value)),oe=()=>{if(Array.isArray(r.value)){const be=Hg(r.value[0],e.weekStart),Re=r.value[1]?Hg(r.value[1],e.weekStart):[];return[be.map(Qe=>xr(Qe)),Re.map(Qe=>xr(Qe))]}return Hg(r.value,e.weekStart).map(be=>xr(be))},_e=(be,Re)=>Ee($u(se(be)),!1,Re),Ue=be=>{const Re=oe();return be?Re:t("update:model-value",oe())},Le=(be=!1)=>(be||ce(),e.monthPicker?_e(k,be):e.timePicker?_e(C,be):e.yearPicker?_e(Da,be):e.weekPicker?Ue(be):Ee(W(be),!0,be));return{inputValue:f,internalModelValue:r,checkBeforeEmit:()=>r.value?s.value.enabled?s.value.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:he,formatInputValue:ce,emitModelValue:Le}},Gwe=(t,e)=>{const{defaultedFilters:n,propDates:r}=el(t),{validateMonthYearInRange:i}=P1(t),s=(p,m)=>{let v=p;return n.value.months.includes(Ja(v))?(v=m?Yp(p,1):_2(p,1),s(v,m)):v},l=(p,m)=>{let v=p;return n.value.years.includes(Da(v))?(v=m?m9(p,1):yre(p,1),l(v,m)):v},c=(p,m=!1)=>{const v=co(xr(),{month:t.month,year:t.year});let y=p?Yp(v,1):_2(v,1);t.disableYearSelect&&(y=sm(y,t.year));let T=Ja(y),C=Da(y);n.value.months.includes(T)&&(y=s(y,p),T=Ja(y),C=Da(y)),n.value.years.includes(C)&&(y=l(y,p),C=Da(y)),i(T,C,p,t.preventMinMaxNavigation)&&a(T,C,m)},a=(p,m,v)=>{e("update-month-year",{month:p,year:m,fromNav:v})},f=le(()=>p=>Ire(co(xr(),{month:t.month,year:t.year}),r.value.maxDate,r.value.minDate,t.preventMinMaxNavigation,p));return{handleMonthYearChange:c,isDisabled:f,updateMonthYear:a}},UB={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0}},oA={...UB,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})}},Kwe=["title"],Wwe=["disabled"],qwe=Be({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...oA},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:e}){const n=e,r=t,{defaultedActionRow:i,defaultedPreviewFormat:s,defaultedMultiCalendars:l,defaultedTextInput:c,defaultedInline:a,defaultedRange:f,defaultedMultiDates:p,getDefaultPattern:m}=el(r),{isTimeValid:v,isMonthValid:y}=P1(r),{buildMatrix:T}=k1(),C=Te(null),k=Te(null),M=Te(!1),P=Te({}),R=Te(null),N=Te(null);Fr(()=>{r.arrowNavigation&&T([yu(C),yu(k)],"actionRow"),z(),window.addEventListener("resize",z)}),Hf(()=>{window.removeEventListener("resize",z)});const z=()=>{M.value=!1,setTimeout(()=>{var J,te;const ne=(J=R.value)==null?void 0:J.getBoundingClientRect(),ce=(te=N.value)==null?void 0:te.getBoundingClientRect();ne&&ce&&(P.value.maxWidth=`${ce.width-ne.width-20}px`),M.value=!0},0)},H=le(()=>f.value.enabled&&!f.value.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),j=le(()=>!v.value(r.internalModelValue)||!y.value(r.internalModelValue)||!H.value),Q=()=>{const J=s.value;return r.timePicker||r.monthPicker,J($u(r.internalModelValue))},G=()=>{const J=r.internalModelValue;return l.value.count>0?`${ie(J[0])} - ${ie(J[1])}`:[ie(J[0]),ie(J[1])]},ie=J=>Lre(J,s.value,r.formatLocale,c.value.rangeSeparator,r.modelAuto,m()),q=le(()=>!r.internalModelValue||!r.menuMount?"":typeof s.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?G():p.value.enabled?r.internalModelValue.map(J=>`${ie(J)}`):r.modelAuto?`${ie(r.internalModelValue[0])}`:`${ie(r.internalModelValue[0])} -`:ie(r.internalModelValue):Q()),W=()=>p.value.enabled?"; ":" - ",ee=le(()=>Array.isArray(q.value)?q.value.join(W()):q.value),he=()=>{v.value(r.internalModelValue)&&y.value(r.internalModelValue)&&H.value?n("select-date"):n("invalid-select")};return(J,te)=>(X(),ve("div",{ref_key:"actionRowRef",ref:N,class:"dp__action_row"},[J.$slots["action-row"]?Ft(J.$slots,"action-row",ho(Xr({key:0},{internalModelValue:J.internalModelValue,disabled:j.value,selectDate:()=>J.$emit("select-date"),closePicker:()=>J.$emit("close-picker")}))):(X(),ve(Vn,{key:1},[S(i).showPreview?(X(),ve("div",{key:0,class:"dp__selection_preview",title:ee.value,style:or(P.value)},[J.$slots["action-preview"]&&M.value?Ft(J.$slots,"action-preview",{key:0,value:J.internalModelValue}):bt("",!0),!J.$slots["action-preview"]&&M.value?(X(),ve(Vn,{key:1},[xi(Cn(ee.value),1)],64)):bt("",!0)],12,Kwe)):bt("",!0),pe("div",{ref_key:"actionBtnContainer",ref:R,class:"dp__action_buttons","data-dp-element":"action-row"},[J.$slots["action-buttons"]?Ft(J.$slots,"action-buttons",{key:0,value:J.internalModelValue}):bt("",!0),J.$slots["action-buttons"]?bt("",!0):(X(),ve(Vn,{key:1},[!S(a).enabled&&S(i).showCancel?(X(),ve("button",{key:0,ref_key:"cancelButtonRef",ref:C,type:"button",class:"dp__action_button dp__action_cancel",onClick:te[0]||(te[0]=ne=>J.$emit("close-picker")),onKeydown:te[1]||(te[1]=ne=>S(zh)(ne,()=>J.$emit("close-picker")))},Cn(J.cancelText),545)):bt("",!0),S(i).showNow?(X(),ve("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:te[2]||(te[2]=ne=>J.$emit("select-now")),onKeydown:te[3]||(te[3]=ne=>S(zh)(ne,()=>J.$emit("select-now")))},Cn(J.nowButtonLabel),33)):bt("",!0),S(i).showSelect?(X(),ve("button",{key:2,ref_key:"selectButtonRef",ref:k,type:"button",class:"dp__action_button dp__action_select",disabled:j.value,"data-test":"select-button",onKeydown:te[4]||(te[4]=ne=>S(zh)(ne,()=>he())),onClick:he},Cn(J.selectText),41,Wwe)):bt("",!0)],64))],512)],64))],512))}}),Ywe={class:"dp__selection_grid_header"},Xwe=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],Zwe=["aria-label"],l5=Be({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:e,emit:n}){const{setSelectionGrid:r,buildMultiLevelMatrix:i,setMonthPicker:s}=k1(),l=n,c=t,{defaultedAriaLabels:a,defaultedTextInput:f,defaultedConfig:p}=el(c),{hideNavigationButtons:m}=VB(),v=Te(!1),y=Te(null),T=Te(null),C=Te([]),k=Te(),M=Te(null),P=Te(0),R=Te(null);c9(()=>{y.value=null}),Fr(()=>{dr().then(()=>q()),c.noOverlayFocus||z(),N(!0)}),Hf(()=>N(!1));const N=se=>{var oe;c.arrowNavigation&&((oe=c.headerRefs)!=null&&oe.length?s(se):r(se))},z=()=>{var se;const oe=yu(T);oe&&(f.value.enabled||(y.value?(se=y.value)==null||se.focus({preventScroll:!0}):oe.focus({preventScroll:!0})),v.value=oe.clientHeight<oe.scrollHeight)},H=le(()=>({dp__overlay:!0,"dp--overlay-absolute":!c.useRelative,"dp--overlay-relative":c.useRelative})),j=le(()=>c.useRelative?{height:`${c.height}px`,width:"260px"}:void 0),Q=le(()=>({dp__overlay_col:!0})),G=le(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:v.value,dp__button_bottom:c.isLast})),ie=le(()=>{var se,oe;return{dp__overlay_container:!0,dp__container_flex:((se=c.items)==null?void 0:se.length)<=6,dp__container_block:((oe=c.items)==null?void 0:oe.length)>6}});ln(()=>c.items,()=>q(!1),{deep:!0});const q=(se=!0)=>{dr().then(()=>{const oe=yu(y),_e=yu(T),Ue=yu(M),Le=yu(R),be=Ue?Ue.getBoundingClientRect().height:0;_e&&(_e.getBoundingClientRect().height?P.value=_e.getBoundingClientRect().height-be:P.value=p.value.modeHeight-be),oe&&Le&&se&&(Le.scrollTop=oe.offsetTop-Le.offsetTop-(P.value/2-oe.getBoundingClientRect().height)-be)})},W=se=>{se.disabled||l("selected",se.value)},ee=()=>{l("toggle"),l("reset-flow")},he=()=>{c.escClose&&ee()},J=(se,oe,_e,Ue)=>{se&&((oe.active||oe.value===c.focusValue)&&(y.value=se),c.arrowNavigation&&(Array.isArray(C.value[_e])?C.value[_e][Ue]=se:C.value[_e]=[se],te()))},te=()=>{var se,oe;const _e=(se=c.headerRefs)!=null&&se.length?[c.headerRefs].concat(C.value):C.value.concat([c.skipButtonRef?[]:[M.value]]);i($u(_e),(oe=c.headerRefs)!=null&&oe.length?"monthPicker":"selectionGrid")},ne=se=>{c.arrowNavigation||t1(se,p.value,!0)},ce=se=>{k.value=se,l("hover-value",se)},ue=()=>{if(ee(),!c.isLast){const se=ywe(c.menuWrapRef??null,"action-row");if(se){const oe=Cre(se);oe==null||oe.focus()}}},ye=se=>{switch(se.key){case Wo.esc:return he();case Wo.arrowLeft:return ne(se);case Wo.arrowRight:return ne(se);case Wo.arrowUp:return ne(se);case Wo.arrowDown:return ne(se);default:return}},Ee=se=>{if(se.key===Wo.enter)return ee();if(se.key===Wo.tab)return ue()};return e({focusGrid:z}),(se,oe)=>{var _e;return X(),ve("div",{ref_key:"gridWrapRef",ref:T,class:Se(H.value),style:or(j.value),role:"dialog",tabindex:"0",onKeydown:ye,onClick:oe[0]||(oe[0]=Pr(()=>{},["prevent"]))},[pe("div",{ref_key:"containerRef",ref:R,class:Se(ie.value),role:"grid",style:or({"--dp-overlay-height":`${P.value}px`})},[pe("div",Ywe,[Ft(se.$slots,"header")]),se.$slots.overlay?Ft(se.$slots,"overlay",{key:0}):(X(!0),ve(Vn,{key:1},Yr(se.items,(Ue,Le)=>(X(),ve("div",{key:Le,class:Se(["dp__overlay_row",{dp__flex_row:se.items.length>=3}]),role:"row"},[(X(!0),ve(Vn,null,Yr(Ue,(be,Re)=>(X(),ve("div",{key:be.value,ref_for:!0,ref:Qe=>J(Qe,be,Le,Re),role:"gridcell",class:Se(Q.value),"aria-selected":be.active||void 0,"aria-disabled":be.disabled||void 0,tabindex:"0","data-test":be.text,onClick:Pr(Qe=>W(be),["prevent"]),onKeydown:Qe=>S(zh)(Qe,()=>W(be),!0),onMouseover:Qe=>ce(be.value)},[pe("div",{class:Se(be.className)},[se.$slots.item?Ft(se.$slots,"item",{key:0,item:be}):bt("",!0),se.$slots.item?bt("",!0):(X(),ve(Vn,{key:1},[xi(Cn(be.text),1)],64))],2)],42,Xwe))),128))],2))),128))],6),se.$slots["button-icon"]?Jr((X(),ve("button",{key:0,ref_key:"toggleButton",ref:M,type:"button","aria-label":(_e=S(a))==null?void 0:_e.toggleOverlay,class:Se(G.value),tabindex:"0",onClick:ee,onKeydown:Ee},[Ft(se.$slots,"button-icon")],42,Zwe)),[[ca,!S(m)(se.hideNavigation,se.type)]]):bt("",!0)],38)}}}),zB=Be({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean}},setup(t){const e=t,n=le(()=>e.multiCalendars>0?[...Array(e.multiCalendars).keys()]:[0]),r=le(()=>({dp__instance_calendar:e.multiCalendars>0}));return(i,s)=>(X(),ve("div",{class:Se({dp__menu_inner:!i.stretch,"dp--menu--inner-stretched":i.stretch,dp__flex_display:i.multiCalendars>0,"dp--flex-display-collapsed":i.collapse})},[(X(!0),ve(Vn,null,Yr(n.value,(l,c)=>(X(),ve("div",{key:l,class:Se(r.value)},[Ft(i.$slots,"default",{instance:l,index:c})],2))),128))],2))}}),Jwe=["aria-label","aria-disabled"],AC=Be({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:e}){const n=e,r=Te(null);return Fr(()=>n("set-ref",r)),(i,s)=>(X(),ve("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":i.ariaLabel,"aria-disabled":i.disabled||void 0,onClick:s[0]||(s[0]=l=>i.$emit("activate")),onKeydown:s[1]||(s[1]=l=>S(zh)(l,()=>i.$emit("activate"),!0))},[pe("span",{class:Se(["dp__inner_nav",{dp__inner_nav_disabled:i.disabled}])},[Ft(i.$slots,"default")],2)],40,Jwe))}}),e2e={class:"dp--year-mode-picker"},t2e=["aria-label","data-test"],Rre=Be({__name:"YearModePicker",props:{...oA,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:e}){const n=e,r=t,{showRightIcon:i,showLeftIcon:s}=VB(),{defaultedConfig:l,defaultedMultiCalendars:c,defaultedAriaLabels:a,defaultedTransitions:f}=el(r),{showTransition:p,transitionName:m}=u5(f),v=(C=!1,k)=>{n("toggle-year-picker",{flow:C,show:k})},y=C=>{n("year-select",C)},T=(C=!1)=>{n("handle-year",C)};return(C,k)=>{var M,P,R;return X(),ve("div",e2e,[S(s)(S(c),t.instance)?(X(),Ut(AC,{key:0,ref:"mpPrevIconRef","aria-label":(M=S(a))==null?void 0:M.prevYear,disabled:t.isDisabled(!1),onActivate:k[0]||(k[0]=N=>T(!1))},{default:xt(()=>[C.$slots["arrow-left"]?Ft(C.$slots,"arrow-left",{key:0}):bt("",!0),C.$slots["arrow-left"]?bt("",!0):(X(),Ut(S(x9),{key:1}))]),_:3},8,["aria-label","disabled"])):bt("",!0),pe("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(P=S(a))==null?void 0:P.openYearsOverlay,"data-test":`year-mode-btn-${t.instance}`,onClick:k[1]||(k[1]=()=>v(!1)),onKeydown:k[2]||(k[2]=Ga(()=>v(!1),["enter"]))},[C.$slots.year?Ft(C.$slots,"year",{key:0,year:t.year}):bt("",!0),C.$slots.year?bt("",!0):(X(),ve(Vn,{key:1},[xi(Cn(t.year),1)],64))],40,t2e),S(i)(S(c),t.instance)?(X(),Ut(AC,{key:1,ref:"mpNextIconRef","aria-label":(R=S(a))==null?void 0:R.nextYear,disabled:t.isDisabled(!0),onActivate:k[3]||(k[3]=N=>T(!0))},{default:xt(()=>[C.$slots["arrow-right"]?Ft(C.$slots,"arrow-right",{key:0}):bt("",!0),C.$slots["arrow-right"]?bt("",!0):(X(),Ut(S(C9),{key:1}))]),_:3},8,["aria-label","disabled"])):bt("",!0),ht(fo,{name:S(m)(t.showYearPicker),css:S(p)},{default:xt(()=>[t.showYearPicker?(X(),Ut(l5,{key:0,items:t.items,"text-input":C.textInput,"esc-close":C.escClose,config:C.config,"is-last":C.autoApply&&!S(l).keepActionRow,"hide-navigation":C.hideNavigation,"aria-labels":C.ariaLabels,type:"year",onToggle:v,onSelected:k[4]||(k[4]=N=>y(N))},Uo({"button-icon":xt(()=>[C.$slots["calendar-icon"]?Ft(C.$slots,"calendar-icon",{key:0}):bt("",!0),C.$slots["calendar-icon"]?bt("",!0):(X(),Ut(S(Z2),{key:1}))]),_:2},[C.$slots["year-overlay-value"]?{name:"item",fn:xt(({item:N})=>[Ft(C.$slots,"year-overlay-value",{text:N.text,value:N.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels"])):bt("",!0)]),_:3},8,["name","css"])])}}}),P9=(t,e,n)=>{if(e.value&&Array.isArray(e.value))if(e.value.some(r=>is(t,r))){const r=e.value.filter(i=>!is(i,t));e.value=r.length?r:null}else(n&&+n>e.value.length||!n)&&e.value.push(t);else e.value=[t]},F9=(t,e,n)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?dl(e,r[0])?(r.unshift(e),n("range-start",r[0]),n("range-start",r[1])):(r[1]=e,n("range-end",e)):(r=[e],n("range-start",e)),r},$B=(t,e,n,r)=>{t&&(t[0]&&t[1]&&n&&e("auto-apply"),t[0]&&!t[1]&&r&&n&&e("auto-apply"))},Ore=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(e=>Am(xr(e),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=Am(xr(t.value),t.timezone))},Dre=(t,e,n,r)=>Array.isArray(e.value)&&(e.value.length===2||e.value.length===1&&r.value.partialRange)?r.value.fixedStart&&(Ml(t,e.value[0])||is(t,e.value[0]))?[e.value[0],t]:r.value.fixedEnd&&(dl(t,e.value[1])||is(t,e.value[1]))?[t,e.value[1]]:(n("invalid-fixed-range",t),e.value):[],Nre=({multiCalendars:t,range:e,highlight:n,propDates:r,calendars:i,modelValue:s,props:l,filters:c,year:a,month:f,emit:p})=>{const m=le(()=>M9(l.yearRange,l.locale,l.reverseYears)),v=Te([!1]),y=le(()=>(G,ie)=>{const q=co(Gp(new Date),{month:f.value(G),year:a.value(G)}),W=ie?ore(q):g9(q);return Ire(W,r.value.maxDate,r.value.minDate,l.preventMinMaxNavigation,ie)}),T=()=>Array.isArray(s.value)&&t.value.solo&&s.value[1],C=()=>{for(let G=0;G<t.value.count;G++)if(G===0)i.value[G]=i.value[0];else if(G===t.value.count-1&&T())i.value[G]={month:Ja(s.value[1]),year:Da(s.value[1])};else{const ie=co(xr(),i.value[G-1]);i.value[G]={month:Ja(ie),year:Da(m9(ie,1))}}},k=G=>{if(!G)return C();const ie=co(xr(),i.value[G]);return i.value[0].year=Da(yre(ie,t.value.count-1)),C()},M=(G,ie)=>{const q=pye(ie,G);return e.value.showLastInRange&&q>1?ie:G},P=G=>l.focusStartDate||t.value.solo?G[0]:G[1]?M(G[0],G[1]):G[0],R=()=>{if(s.value){const G=Array.isArray(s.value)?P(s.value):s.value;i.value[0]={month:Ja(G),year:Da(G)}}};Fr(()=>{R(),t.value.count&&C()});const N=(G,ie)=>{i.value[ie].year=G,p("update-month-year",{instance:ie,year:G,month:i.value[ie].month}),t.value.count&&!t.value.solo&&k(ie)},z=le(()=>G=>y2(m.value,ie=>{var q;const W=a.value(G)===ie.value,ee=n6(ie.value,b2(r.value.minDate),b2(r.value.maxDate))||((q=c.value.years)==null?void 0:q.includes(a.value(G))),he=k9(n.value,ie.value);return{active:W,disabled:ee,highlighted:he}})),H=(G,ie)=>{N(G,ie),Q(ie)},j=(G,ie=!1)=>{if(!y.value(G,ie)){const q=ie?a.value(G)+1:a.value(G)-1;N(q,G)}},Q=(G,ie=!1,q)=>{ie||p("reset-flow"),q!==void 0?v.value[G]=q:v.value[G]=!v.value[G],v.value[G]?p("overlay-toggle",{open:!0,overlay:Pc.year}):(p("overlay-closed"),p("overlay-toggle",{open:!1,overlay:Pc.year}))};return{isDisabled:y,groupedYears:z,showYearPicker:v,selectYear:N,toggleYearPicker:Q,handleYearSelect:H,handleYear:j}},n2e=(t,e)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,defaultedRange:l,defaultedHighlight:c,propDates:a,defaultedTz:f,defaultedFilters:p,defaultedMultiDates:m}=el(t),{modelValue:v,year:y,month:T,calendars:C}=c5(t,e),k=le(()=>wre(t.formatLocale,t.locale,t.monthNameFormat)),M=Te(null),{checkMinMaxRange:P}=P1(t),{selectYear:R,groupedYears:N,showYearPicker:z,toggleYearPicker:H,handleYearSelect:j,handleYear:Q,isDisabled:G}=Nre({modelValue:v,multiCalendars:n,range:l,highlight:c,calendars:C,year:y,propDates:a,month:T,filters:p,props:t,emit:e});Fr(()=>{t.startDate&&(v.value&&t.focusStartDate||!v.value)&&R(Da(xr(t.startDate)),0)});const ie=oe=>oe?{month:Ja(oe),year:Da(oe)}:{month:null,year:null},q=()=>v.value?Array.isArray(v.value)?v.value.map(oe=>ie(oe)):ie(v.value):ie(),W=(oe,_e)=>{const Ue=C.value[oe],Le=q();return Array.isArray(Le)?Le.some(be=>be.year===(Ue==null?void 0:Ue.year)&&be.month===_e):(Ue==null?void 0:Ue.year)===Le.year&&_e===Le.month},ee=(oe,_e,Ue)=>{var Le,be;const Re=q();return Array.isArray(Re)?y.value(_e)===((Le=Re[Ue])==null?void 0:Le.year)&&oe===((be=Re[Ue])==null?void 0:be.month):!1},he=(oe,_e)=>{if(l.value.enabled){const Ue=q();if(Array.isArray(v.value)&&Array.isArray(Ue)){const Le=ee(oe,_e,0)||ee(oe,_e,1),be=qg(Gp(xr()),oe,y.value(_e));return NB(v.value,M.value,be)&&!Le}return!1}return!1},J=le(()=>oe=>y2(k.value,_e=>{var Ue;const Le=W(oe,_e.value),be=n6(_e.value,Sre(y.value(oe),a.value.minDate),Tre(y.value(oe),a.value.maxDate))||Bwe(a.value.disabledDates,y.value(oe)).includes(_e.value)||((Ue=p.value.months)==null?void 0:Ue.includes(_e.value)),Re=he(_e.value,oe),Qe=kre(c.value,_e.value,y.value(oe));return{active:Le,disabled:be,isBetween:Re,highlighted:Qe}})),te=(oe,_e)=>qg(Gp(xr()),oe,y.value(_e)),ne=(oe,_e)=>{const Ue=v.value?v.value:Gp(new Date);v.value=qg(Ue,oe,y.value(_e)),e("auto-apply"),e("update-flow-step")},ce=(oe,_e)=>{const Ue=te(oe,_e);l.value.fixedEnd||l.value.fixedStart?v.value=Dre(Ue,v,e,l):v.value?P(Ue,v.value)&&(v.value=F9(v,te(oe,_e),e)):v.value=[te(oe,_e)],dr().then(()=>{$B(v.value,e,t.autoApply,t.modelAuto)})},ue=(oe,_e)=>{P9(te(oe,_e),v,m.value.limit),e("auto-apply",!0)},ye=(oe,_e)=>(C.value[_e].month=oe,se(_e,C.value[_e].year,oe),m.value.enabled?ue(oe,_e):l.value.enabled?ce(oe,_e):ne(oe,_e)),Ee=(oe,_e)=>{R(oe,_e),se(_e,oe,null)},se=(oe,_e,Ue)=>{let Le=Ue;if(!Le&&Le!==0){const be=q();Le=Array.isArray(be)?be[oe].month:be.month}e("update-month-year",{instance:oe,year:_e,month:Le})};return{groupedMonths:J,groupedYears:N,year:y,isDisabled:G,defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,showYearPicker:z,modelValue:v,presetDate:(oe,_e)=>{Ore({value:oe,modelValue:v,range:l.value.enabled,timezone:_e?void 0:f.value.timezone}),e("auto-apply")},setHoverDate:(oe,_e)=>{M.value=te(oe,_e)},selectMonth:ye,selectYear:Ee,toggleYearPicker:H,handleYearSelect:j,handleYear:Q,getModelMonthYear:q}},r2e=Be({compatConfig:{MODE:3},__name:"MonthPicker",props:{...oA},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=To(),s=zd(i,"yearMode"),l=t;Fr(()=>{l.shadow||r("mount",null)});const{groupedMonths:c,groupedYears:a,year:f,isDisabled:p,defaultedMultiCalendars:m,defaultedConfig:v,showYearPicker:y,modelValue:T,presetDate:C,setHoverDate:k,selectMonth:M,selectYear:P,toggleYearPicker:R,handleYearSelect:N,handleYear:z,getModelMonthYear:H}=n2e(l,r);return e({getSidebarProps:()=>({modelValue:T,year:f,getModelMonthYear:H,selectMonth:M,selectYear:P,handleYear:z}),presetDate:C,toggleYearPicker:j=>R(0,j)}),(j,Q)=>(X(),Ut(zB,{"multi-calendars":S(m).count,collapse:j.collapse,stretch:""},{default:xt(({instance:G})=>[j.$slots["top-extra"]?Ft(j.$slots,"top-extra",{key:0,value:j.internalModelValue}):bt("",!0),j.$slots["month-year"]?Ft(j.$slots,"month-year",ho(Xr({key:1},{year:S(f),months:S(c)(G),years:S(a)(G),selectMonth:S(M),selectYear:S(P),instance:G}))):(X(),Ut(l5,{key:2,items:S(c)(G),"arrow-navigation":j.arrowNavigation,"is-last":j.autoApply&&!S(v).keepActionRow,"esc-close":j.escClose,height:S(v).modeHeight,config:j.config,"no-overlay-focus":!!(j.noOverlayFocus||j.textInput),"use-relative":"",type:"month",onSelected:ie=>S(M)(ie,G),onHoverValue:ie=>S(k)(ie,G)},Uo({header:xt(()=>[ht(Rre,Xr(j.$props,{items:S(a)(G),instance:G,"show-year-picker":S(y)[G],year:S(f)(G),"is-disabled":ie=>S(p)(G,ie),onHandleYear:ie=>S(z)(G,ie),onYearSelect:ie=>S(N)(ie,G),onToggleYearPicker:ie=>S(R)(G,ie==null?void 0:ie.flow,ie==null?void 0:ie.show)}),Uo({_:2},[Yr(S(s),(ie,q)=>({name:ie,fn:xt(W=>[Ft(j.$slots,ie,ho(ou(W)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[j.$slots["month-overlay-value"]?{name:"item",fn:xt(({item:ie})=>[Ft(j.$slots,"month-overlay-value",{text:ie.text,value:ie.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse"]))}}),i2e=(t,e)=>{const{modelValue:n}=c5(t,e),r=Te(null),{defaultedHighlight:i,defaultedMultiDates:s,defaultedFilters:l,defaultedRange:c,propDates:a}=el(t),f=Te();Fr(()=>{t.startDate&&(n.value&&t.focusStartDate||!n.value)&&(f.value=Da(xr(t.startDate)))});const p=T=>Array.isArray(n.value)?n.value.some(C=>Da(C)===T):n.value?Da(n.value)===T:!1,m=T=>c.value.enabled&&Array.isArray(n.value)?NB(n.value,r.value,y(T)):!1,v=le(()=>y2(M9(t.yearRange,t.locale,t.reverseYears),T=>{const C=p(T.value),k=n6(T.value,b2(a.value.minDate),b2(a.value.maxDate))||l.value.years.includes(T.value),M=m(T.value)&&!C,P=k9(i.value,T.value);return{active:C,disabled:k,isBetween:M,highlighted:P}})),y=T=>sm(Gp(new Date),T);return{groupedYears:v,modelValue:n,focusYear:f,setHoverValue:T=>{r.value=sm(Gp(new Date),T)},selectYear:T=>{var C;if(e("update-month-year",{instance:0,year:T}),s.value.enabled)return n.value?Array.isArray(n.value)&&(((C=n.value)==null?void 0:C.map(k=>Da(k))).includes(T)?n.value=n.value.filter(k=>Da(k)!==T):n.value.push(sm(uh(xr()),T))):n.value=[sm(uh(xr()),T)],e("auto-apply",!0);c.value.enabled?(n.value=F9(n,y(T),e),dr().then(()=>{$B(n.value,e,t.autoApply,t.modelAuto)})):(n.value=y(T),e("auto-apply"))}}},a2e=Be({compatConfig:{MODE:3},__name:"YearPicker",props:{...oA},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(t,{expose:e,emit:n}){const r=n,i=t,{groupedYears:s,modelValue:l,focusYear:c,selectYear:a,setHoverValue:f}=i2e(i,r),{defaultedConfig:p}=el(i);return e({getSidebarProps:()=>({modelValue:l,selectYear:a})}),(m,v)=>(X(),ve("div",null,[m.$slots["top-extra"]?Ft(m.$slots,"top-extra",{key:0,value:m.internalModelValue}):bt("",!0),m.$slots["month-year"]?Ft(m.$slots,"month-year",ho(Xr({key:1},{years:S(s),selectYear:S(a)}))):(X(),Ut(l5,{key:2,items:S(s),"is-last":m.autoApply&&!S(p).keepActionRow,height:S(p).modeHeight,config:m.config,"no-overlay-focus":!!(m.noOverlayFocus||m.textInput),"focus-value":S(c),type:"year","use-relative":"",onSelected:S(a),onHoverValue:S(f)},Uo({_:2},[m.$slots["year-overlay-value"]?{name:"item",fn:xt(({item:y})=>[Ft(m.$slots,"year-overlay-value",{text:y.text,value:y.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),s2e={key:0,class:"dp__time_input"},o2e=["data-test","aria-label","onKeydown","onClick","onMousedown"],l2e=pe("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),u2e=pe("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),c2e=["aria-label","disabled","data-test","onKeydown","onClick"],h2e=["data-test","aria-label","onKeydown","onClick","onMousedown"],d2e=pe("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),f2e=pe("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),p2e={key:0},A2e=["aria-label"],m2e=Be({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...oA},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{setTimePickerElements:s,setTimePickerBackRef:l}=k1(),{defaultedAriaLabels:c,defaultedTransitions:a,defaultedFilters:f,defaultedConfig:p,defaultedRange:m}=el(i),{transitionName:v,showTransition:y}=u5(a),T=ha({hours:!1,minutes:!1,seconds:!1}),C=Te("AM"),k=Te(null),M=Te([]),P=Te();Fr(()=>{r("mounted")});const R=Ve=>co(new Date,{hours:Ve.hours,minutes:Ve.minutes,seconds:i.enableSeconds?Ve.seconds:0,milliseconds:0}),N=le(()=>Ve=>te(Ve,i[Ve])||H(Ve,i[Ve])),z=le(()=>({hours:i.hours,minutes:i.minutes,seconds:i.seconds})),H=(Ve,ke)=>m.value.enabled&&!m.value.disableTimeRangeValidation?!i.validateTime(Ve,ke):!1,j=(Ve,ke)=>{if(m.value.enabled&&!m.value.disableTimeRangeValidation){const Ge=ke?+i[`${Ve}Increment`]:-+i[`${Ve}Increment`],Ne=i[Ve]+Ge;return!i.validateTime(Ve,Ne)}return!1},Q=le(()=>Ve=>!Ee(+i[Ve]+ +i[`${Ve}Increment`],Ve)||j(Ve,!0)),G=le(()=>Ve=>!Ee(+i[Ve]-+i[`${Ve}Increment`],Ve)||j(Ve,!1)),ie=(Ve,ke)=>ere(co(xr(),Ve),ke),q=(Ve,ke)=>uwe(co(xr(),Ve),ke),W=le(()=>({dp__time_col:!0,dp__time_col_block:!i.timePickerInline,dp__time_col_reg_block:!i.enableSeconds&&i.is24&&!i.timePickerInline,dp__time_col_reg_inline:!i.enableSeconds&&i.is24&&i.timePickerInline,dp__time_col_reg_with_button:!i.enableSeconds&&!i.is24,dp__time_col_sec:i.enableSeconds&&i.is24,dp__time_col_sec_with_button:i.enableSeconds&&!i.is24})),ee=le(()=>{const Ve=[{type:"hours"}];return i.enableMinutes&&Ve.push({type:"",separator:!0},{type:"minutes"}),i.enableSeconds&&Ve.push({type:"",separator:!0},{type:"seconds"}),Ve}),he=le(()=>ee.value.filter(Ve=>!Ve.separator)),J=le(()=>Ve=>{if(Ve==="hours"){const ke=be(+i.hours);return{text:ke<10?`0${ke}`:`${ke}`,value:ke}}return{text:i[Ve]<10?`0${i[Ve]}`:`${i[Ve]}`,value:i[Ve]}}),te=(Ve,ke)=>{var Ge;if(!i.disabledTimesConfig)return!1;const Ne=i.disabledTimesConfig(i.order,Ve==="hours"?ke:void 0);return Ne[Ve]?!!((Ge=Ne[Ve])!=null&&Ge.includes(ke)):!0},ne=(Ve,ke)=>ke!=="hours"||C.value==="AM"?Ve:Ve+12,ce=Ve=>{const ke=i.is24?24:12,Ge=Ve==="hours"?ke:60,Ne=+i[`${Ve}GridIncrement`],je=Ve==="hours"&&!i.is24?Ne:0,Ye=[];for(let vt=je;vt<Ge;vt+=Ne)Ye.push({value:i.is24?vt:ne(vt,Ve),text:vt<10?`0${vt}`:`${vt}`});return Ve==="hours"&&!i.is24&&Ye.unshift({value:C.value==="PM"?12:0,text:"12"}),y2(Ye,vt=>({active:!1,disabled:f.value.times[Ve].includes(vt.value)||!Ee(vt.value,Ve)||te(Ve,vt.value)||H(Ve,vt.value)}))},ue=Ve=>Ve>=0?Ve:59,ye=Ve=>Ve>=0?Ve:23,Ee=(Ve,ke)=>{const Ge=i.minTime?R(sk(i.minTime)):null,Ne=i.maxTime?R(sk(i.maxTime)):null,je=R(sk(z.value,ke,ke==="minutes"||ke==="seconds"?ue(Ve):ye(Ve)));return Ge&&Ne?(t6(je,Ne)||Sw(je,Ne))&&(v2(je,Ge)||Sw(je,Ge)):Ge?v2(je,Ge)||Sw(je,Ge):Ne?t6(je,Ne)||Sw(je,Ne):!0},se=Ve=>i[`no${Ve[0].toUpperCase()+Ve.slice(1)}Overlay`],oe=Ve=>{se(Ve)||(T[Ve]=!T[Ve],T[Ve]?r("overlay-opened",Ve):r("overlay-closed",Ve))},_e=Ve=>Ve==="hours"?s0:Ve==="minutes"?u1:g2,Ue=()=>{P.value&&clearTimeout(P.value)},Le=(Ve,ke=!0,Ge)=>{const Ne=ke?ie:q,je=ke?+i[`${Ve}Increment`]:-+i[`${Ve}Increment`];Ee(+i[Ve]+je,Ve)&&r(`update:${Ve}`,_e(Ve)(Ne({[Ve]:+i[Ve]},{[Ve]:+i[`${Ve}Increment`]}))),!(Ge!=null&&Ge.keyboard)&&p.value.timeArrowHoldThreshold&&(P.value=setTimeout(()=>{Le(Ve,ke)},p.value.timeArrowHoldThreshold))},be=Ve=>i.is24?Ve:(Ve>=12?C.value="PM":C.value="AM",Awe(Ve)),Re=()=>{C.value==="PM"?(C.value="AM",r("update:hours",i.hours-12)):(C.value="PM",r("update:hours",i.hours+12)),r("am-pm-change",C.value)},Qe=Ve=>{T[Ve]=!0},Je=(Ve,ke,Ge)=>{if(Ve&&i.arrowNavigation){Array.isArray(M.value[ke])?M.value[ke][Ge]=Ve:M.value[ke]=[Ve];const Ne=M.value.reduce((je,Ye)=>Ye.map((vt,Lt)=>[...je[Lt]||[],Ye[Lt]]),[]);l(i.closeTimePickerBtn),k.value&&(Ne[1]=Ne[1].concat(k.value)),s(Ne,i.order)}},nt=(Ve,ke)=>(oe(Ve),r(`update:${Ve}`,ke));return e({openChildCmp:Qe}),(Ve,ke)=>{var Ge;return Ve.disabled?bt("",!0):(X(),ve("div",s2e,[(X(!0),ve(Vn,null,Yr(ee.value,(Ne,je)=>{var Ye,vt,Lt;return X(),ve("div",{key:je,class:Se(W.value)},[Ne.separator?(X(),ve(Vn,{key:0},[xi(" : ")],64)):(X(),ve(Vn,{key:1},[pe("button",{ref_for:!0,ref:Et=>Je(Et,je,0),type:"button",class:Se({dp__btn:!0,dp__inc_dec_button:!Ve.timePickerInline,dp__inc_dec_button_inline:Ve.timePickerInline,dp__tp_inline_btn_top:Ve.timePickerInline,dp__inc_dec_button_disabled:Q.value(Ne.type)}),"data-test":`${Ne.type}-time-inc-btn-${i.order}`,"aria-label":(Ye=S(c))==null?void 0:Ye.incrementValue(Ne.type),tabindex:"0",onKeydown:Et=>S(zh)(Et,()=>Le(Ne.type,!0,{keyboard:!0}),!0),onClick:Et=>S(p).timeArrowHoldThreshold?void 0:Le(Ne.type,!0),onMousedown:Et=>S(p).timeArrowHoldThreshold?Le(Ne.type,!0):void 0,onMouseup:Ue},[i.timePickerInline?(X(),ve(Vn,{key:1},[l2e,u2e],64)):(X(),ve(Vn,{key:0},[Ve.$slots["arrow-up"]?Ft(Ve.$slots,"arrow-up",{key:0}):bt("",!0),Ve.$slots["arrow-up"]?bt("",!0):(X(),Ut(S(S9),{key:1}))],64))],42,o2e),pe("button",{ref_for:!0,ref:Et=>Je(Et,je,1),type:"button","aria-label":(vt=S(c))==null?void 0:vt.openTpOverlay(Ne.type),class:Se({dp__time_display:!0,dp__time_display_block:!Ve.timePickerInline,dp__time_display_inline:Ve.timePickerInline,"dp--time-invalid":N.value(Ne.type),"dp--time-overlay-btn":!N.value(Ne.type)}),disabled:se(Ne.type),tabindex:"0","data-test":`${Ne.type}-toggle-overlay-btn-${i.order}`,onKeydown:Et=>S(zh)(Et,()=>oe(Ne.type),!0),onClick:Et=>oe(Ne.type)},[Ve.$slots[Ne.type]?Ft(Ve.$slots,Ne.type,{key:0,text:J.value(Ne.type).text,value:J.value(Ne.type).value}):bt("",!0),Ve.$slots[Ne.type]?bt("",!0):(X(),ve(Vn,{key:1},[xi(Cn(J.value(Ne.type).text),1)],64))],42,c2e),pe("button",{ref_for:!0,ref:Et=>Je(Et,je,2),type:"button",class:Se({dp__btn:!0,dp__inc_dec_button:!Ve.timePickerInline,dp__inc_dec_button_inline:Ve.timePickerInline,dp__tp_inline_btn_bottom:Ve.timePickerInline,dp__inc_dec_button_disabled:G.value(Ne.type)}),"data-test":`${Ne.type}-time-dec-btn-${i.order}`,"aria-label":(Lt=S(c))==null?void 0:Lt.decrementValue(Ne.type),tabindex:"0",onKeydown:Et=>S(zh)(Et,()=>Le(Ne.type,!1,{keyboard:!0}),!0),onClick:Et=>S(p).timeArrowHoldThreshold?void 0:Le(Ne.type,!1),onMousedown:Et=>S(p).timeArrowHoldThreshold?Le(Ne.type,!1):void 0,onMouseup:Ue},[i.timePickerInline?(X(),ve(Vn,{key:1},[d2e,f2e],64)):(X(),ve(Vn,{key:0},[Ve.$slots["arrow-down"]?Ft(Ve.$slots,"arrow-down",{key:0}):bt("",!0),Ve.$slots["arrow-down"]?bt("",!0):(X(),Ut(S(T9),{key:1}))],64))],42,h2e)],64))],2)}),128)),Ve.is24?bt("",!0):(X(),ve("div",p2e,[Ve.$slots["am-pm-button"]?Ft(Ve.$slots,"am-pm-button",{key:0,toggle:Re,value:C.value}):bt("",!0),Ve.$slots["am-pm-button"]?bt("",!0):(X(),ve("button",{key:1,ref_key:"amPmButton",ref:k,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(Ge=S(c))==null?void 0:Ge.amPmButton,tabindex:"0",onClick:Re,onKeydown:ke[0]||(ke[0]=Ne=>S(zh)(Ne,()=>Re(),!0))},Cn(C.value),41,A2e))])),(X(!0),ve(Vn,null,Yr(he.value,(Ne,je)=>(X(),Ut(fo,{key:je,name:S(v)(T[Ne.type]),css:S(y)},{default:xt(()=>[T[Ne.type]?(X(),Ut(l5,{key:0,items:ce(Ne.type),"is-last":Ve.autoApply&&!S(p).keepActionRow,"esc-close":Ve.escClose,type:Ne.type,"text-input":Ve.textInput,config:Ve.config,"arrow-navigation":Ve.arrowNavigation,"aria-labels":Ve.ariaLabels,onSelected:Ye=>nt(Ne.type,Ye),onToggle:Ye=>oe(Ne.type),onResetFlow:ke[1]||(ke[1]=Ye=>Ve.$emit("reset-flow"))},Uo({"button-icon":xt(()=>[Ve.$slots["clock-icon"]?Ft(Ve.$slots,"clock-icon",{key:0}):bt("",!0),Ve.$slots["clock-icon"]?bt("",!0):(X(),Ut(fi(Ve.timePickerInline?S(Z2):S(E9)),{key:1}))]),_:2},[Ve.$slots[`${Ne.type}-overlay-value`]?{name:"item",fn:xt(({item:Ye})=>[Ft(Ve.$slots,`${Ne.type}-overlay-value`,{text:Ye.text,value:Ye.value})]),key:"0"}:void 0,Ve.$slots[`${Ne.type}-overlay-header`]?{name:"header",fn:xt(()=>[Ft(Ve.$slots,`${Ne.type}-overlay-header`,{toggle:()=>oe(Ne.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","onSelected","onToggle"])):bt("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),g2e={class:"dp--tp-wrap"},v2e=["aria-label","tabindex"],_2e=["tabindex"],y2e=["aria-label"],Ure=Be({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...oA},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMatrix:s,setTimePicker:l}=k1(),c=To(),{defaultedTransitions:a,defaultedAriaLabels:f,defaultedTextInput:p,defaultedConfig:m,defaultedRange:v}=el(i),{transitionName:y,showTransition:T}=u5(a),{hideNavigationButtons:C}=VB(),k=Te(null),M=Te(null),P=Te([]),R=Te(null);Fr(()=>{r("mount"),!i.timePicker&&i.arrowNavigation?s([yu(k.value)],"time"):l(!0,i.timePicker)});const N=le(()=>v.value.enabled&&i.modelAuto?xre(i.internalModelValue):!0),z=Te(!1),H=ne=>({hours:Array.isArray(i.hours)?i.hours[ne]:i.hours,minutes:Array.isArray(i.minutes)?i.minutes[ne]:i.minutes,seconds:Array.isArray(i.seconds)?i.seconds[ne]:i.seconds}),j=le(()=>{const ne=[];if(v.value.enabled)for(let ce=0;ce<2;ce++)ne.push(H(ce));else ne.push(H(0));return ne}),Q=(ne,ce=!1,ue="")=>{ce||r("reset-flow"),z.value=ne,r(ne?"overlay-opened":"overlay-closed",Pc.time),i.arrowNavigation&&l(ne),dr(()=>{ue!==""&&P.value[0]&&P.value[0].openChildCmp(ue)})},G=le(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:i.autoApply&&!m.value.keepActionRow})),ie=zd(c,"timePicker"),q=(ne,ce,ue)=>v.value.enabled?ce===0?[ne,j.value[1][ue]]:[j.value[0][ue],ne]:ne,W=ne=>{r("update:hours",ne)},ee=ne=>{r("update:minutes",ne)},he=ne=>{r("update:seconds",ne)},J=()=>{if(R.value&&!p.value.enabled&&!i.noOverlayFocus){const ne=Cre(R.value);ne&&ne.focus({preventScroll:!0})}},te=ne=>{r("overlay-closed",ne)};return e({toggleTimePicker:Q}),(ne,ce)=>{var ue;return X(),ve("div",g2e,[!ne.timePicker&&!ne.timePickerInline?Jr((X(),ve("button",{key:0,ref_key:"openTimePickerBtn",ref:k,type:"button",class:Se(G.value),"aria-label":(ue=S(f))==null?void 0:ue.openTimePicker,tabindex:ne.noOverlayFocus?void 0:0,"data-test":"open-time-picker-btn",onKeydown:ce[0]||(ce[0]=ye=>S(zh)(ye,()=>Q(!0))),onClick:ce[1]||(ce[1]=ye=>Q(!0))},[ne.$slots["clock-icon"]?Ft(ne.$slots,"clock-icon",{key:0}):bt("",!0),ne.$slots["clock-icon"]?bt("",!0):(X(),Ut(S(E9),{key:1}))],42,v2e)),[[ca,!S(C)(ne.hideNavigation,"time")]]):bt("",!0),ht(fo,{name:S(y)(z.value),css:S(T)&&!ne.timePickerInline},{default:xt(()=>{var ye;return[z.value||ne.timePicker||ne.timePickerInline?(X(),ve("div",{key:0,ref_key:"overlayRef",ref:R,class:Se({dp__overlay:!ne.timePickerInline,"dp--overlay-absolute":!i.timePicker&&!ne.timePickerInline,"dp--overlay-relative":i.timePicker}),style:or(ne.timePicker?{height:`${S(m).modeHeight}px`}:void 0),tabindex:ne.timePickerInline?void 0:0},[pe("div",{class:Se(ne.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[ne.$slots["time-picker-overlay"]?Ft(ne.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:W,setMinutes:ee,setSeconds:he}):bt("",!0),ne.$slots["time-picker-overlay"]?bt("",!0):(X(),ve("div",{key:1,class:Se(ne.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(X(!0),ve(Vn,null,Yr(j.value,(Ee,se)=>Jr((X(),Ut(m2e,Xr({key:se,ref_for:!0},{...ne.$props,order:se,hours:Ee.hours,minutes:Ee.minutes,seconds:Ee.seconds,closeTimePickerBtn:M.value,disabledTimesConfig:t.disabledTimesConfig,disabled:se===0?ne.fixedStart:ne.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:P,"validate-time":(oe,_e)=>t.validateTime(oe,q(_e,se,oe)),"onUpdate:hours":oe=>W(q(oe,se,"hours")),"onUpdate:minutes":oe=>ee(q(oe,se,"minutes")),"onUpdate:seconds":oe=>he(q(oe,se,"seconds")),onMounted:J,onOverlayClosed:te,onOverlayOpened:ce[2]||(ce[2]=oe=>ne.$emit("overlay-opened",oe)),onAmPmChange:ce[3]||(ce[3]=oe=>ne.$emit("am-pm-change",oe))}),Uo({_:2},[Yr(S(ie),(oe,_e)=>({name:oe,fn:xt(Ue=>[Ft(ne.$slots,oe,Xr({ref_for:!0},Ue))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[ca,se===0?!0:N.value]])),128))],2)),!ne.timePicker&&!ne.timePickerInline?Jr((X(),ve("button",{key:2,ref_key:"closeTimePickerBtn",ref:M,type:"button",class:Se(G.value),"aria-label":(ye=S(f))==null?void 0:ye.closeTimePicker,tabindex:"0",onKeydown:ce[4]||(ce[4]=Ee=>S(zh)(Ee,()=>Q(!1))),onClick:ce[5]||(ce[5]=Ee=>Q(!1))},[ne.$slots["calendar-icon"]?Ft(ne.$slots,"calendar-icon",{key:0}):bt("",!0),ne.$slots["calendar-icon"]?bt("",!0):(X(),Ut(S(Z2),{key:1}))],42,y2e)),[[ca,!S(C)(ne.hideNavigation,"time")]]):bt("",!0)],2)],14,_2e)):bt("",!0)]}),_:3},8,["name","css"])])}}}),zre=(t,e,n,r)=>{const{defaultedRange:i}=el(t),s=(R,N)=>Array.isArray(e[R])?e[R][N]:e[R],l=R=>t.enableSeconds?Array.isArray(e.seconds)?e.seconds[R]:e.seconds:0,c=(R,N)=>R?N!==void 0?n1(R,s("hours",N),s("minutes",N),l(N)):n1(R,e.hours,e.minutes,l()):_re(xr(),l(N)),a=(R,N)=>{e[R]=N},f=le(()=>t.modelAuto&&i.value.enabled?Array.isArray(n.value)?n.value.length>1:!1:i.value.enabled),p=(R,N)=>{const z=Object.fromEntries(Object.keys(e).map(H=>H===R?[H,N]:[H,e[H]].slice()));if(f.value&&!i.value.disableTimeRangeValidation){const H=Q=>n.value?n1(n.value[Q],z.hours[Q],z.minutes[Q],z.seconds[Q]):null,j=Q=>vre(n.value[Q],0);return!(is(H(0),H(1))&&(v2(H(0),j(1))||t6(H(1),j(0))))}return!0},m=(R,N)=>{p(R,N)&&(a(R,N),r&&r())},v=R=>{m("hours",R)},y=R=>{m("minutes",R)},T=R=>{m("seconds",R)},C=(R,N,z,H)=>{N&&v(R),!N&&!z&&y(R),z&&T(R),n.value&&H(n.value)},k=R=>{if(R){const N=Array.isArray(R),z=N?[+R[0].hours,+R[1].hours]:+R.hours,H=N?[+R[0].minutes,+R[1].minutes]:+R.minutes,j=N?[+R[0].seconds,+R[1].seconds]:+R.seconds;a("hours",z),a("minutes",H),t.enableSeconds&&a("seconds",j)}},M=(R,N)=>{const z={hours:Array.isArray(e.hours)?e.hours[R]:e.hours,disabledArr:[]};return(N||N===0)&&(z.hours=N),Array.isArray(t.disabledTimes)&&(z.disabledArr=i.value.enabled&&Array.isArray(t.disabledTimes[R])?t.disabledTimes[R]:t.disabledTimes),z},P=le(()=>(R,N)=>{var z;if(Array.isArray(t.disabledTimes)){const{disabledArr:H,hours:j}=M(R,N),Q=H.filter(G=>+G.hours===j);return((z=Q[0])==null?void 0:z.minutes)==="*"?{hours:[j],minutes:void 0,seconds:void 0}:{hours:[],minutes:(Q==null?void 0:Q.map(G=>+G.minutes))??[],seconds:(Q==null?void 0:Q.map(G=>G.seconds?+G.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:a,updateHours:v,updateMinutes:y,updateSeconds:T,getSetDateTime:c,updateTimeValues:C,getSecondsValue:l,assignStartTime:k,validateTime:p,disabledTimesConfig:P}},b2e=(t,e)=>{const{modelValue:n,time:r}=c5(t,e),{defaultedStartTime:i,defaultedRange:s}=el(t),{updateTimeValues:l,getSetDateTime:c,setTime:a,assignStartTime:f,disabledTimesConfig:p,validateTime:m}=zre(t,r,n,v);function v(){e("update-flow-step")}const y=N=>{const{hours:z,minutes:H,seconds:j}=N;return{hours:+z,minutes:+H,seconds:j?+j:0}},T=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const z=y(t.startTime[0]),H=y(t.startTime[1]);return[co(xr(),z),co(xr(),H)]}const N=y(t.startTime);return co(xr(),N)}return s.value.enabled?[null,null]:null},C=()=>{if(s.value.enabled){const[N,z]=T();n.value=[c(N,0),c(z,1)]}else n.value=c(T())},k=N=>Array.isArray(N)?[ay(xr(N[0])),ay(xr(N[1]))]:[ay(N??xr())],M=(N,z,H)=>{a("hours",N),a("minutes",z),a("seconds",t.enableSeconds?H:0)},P=()=>{const[N,z]=k(n.value);return s.value.enabled?M([N.hours,z.hours],[N.minutes,z.minutes],[N.seconds,z.seconds]):M(N.hours,N.minutes,N.seconds)};Fr(()=>{if(!t.shadow)return f(i.value),n.value?P():C()});const R=()=>{Array.isArray(n.value)?n.value=n.value.map((N,z)=>N&&c(N,z)):n.value=c(n.value),e("time-update")};return{modelValue:n,time:r,disabledTimesConfig:p,updateTime:(N,z=!0,H=!1)=>{l(N,z,H,R)},validateTime:m}},w2e=Be({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...oA},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=To(),l=zd(s,"timePicker"),c=Te(null),{time:a,modelValue:f,disabledTimesConfig:p,updateTime:m,validateTime:v}=b2e(i,r);return Fr(()=>{i.shadow||r("mount",null)}),e({getSidebarProps:()=>({modelValue:f,time:a,updateTime:m}),toggleTimePicker:(y,T=!1,C="")=>{var k;(k=c.value)==null||k.toggleTimePicker(y,T,C)}}),(y,T)=>(X(),Ut(zB,{"multi-calendars":0,stretch:""},{default:xt(()=>[ht(Ure,Xr({ref_key:"tpRef",ref:c},y.$props,{hours:S(a).hours,minutes:S(a).minutes,seconds:S(a).seconds,"internal-model-value":y.internalModelValue,"disabled-times-config":S(p),"validate-time":S(v),"onUpdate:hours":T[0]||(T[0]=C=>S(m)(C)),"onUpdate:minutes":T[1]||(T[1]=C=>S(m)(C,!1)),"onUpdate:seconds":T[2]||(T[2]=C=>S(m)(C,!1,!0)),onAmPmChange:T[3]||(T[3]=C=>y.$emit("am-pm-change",C)),onResetFlow:T[4]||(T[4]=C=>y.$emit("reset-flow")),onOverlayClosed:T[5]||(T[5]=C=>y.$emit("overlay-toggle",{open:!1,overlay:C})),onOverlayOpened:T[6]||(T[6]=C=>y.$emit("overlay-toggle",{open:!0,overlay:C}))}),Uo({_:2},[Yr(S(l),(C,k)=>({name:C,fn:xt(M=>[Ft(y.$slots,C,ho(ou(M)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),x2e={class:"dp--header-wrap"},C2e={key:0,class:"dp__month_year_wrap"},E2e={key:0},S2e={class:"dp__month_year_wrap"},T2e=["aria-label","data-test","onClick","onKeydown"],B2e=Be({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...oA},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTransitions:s,defaultedAriaLabels:l,defaultedMultiCalendars:c,defaultedFilters:a,defaultedConfig:f,defaultedHighlight:p,propDates:m}=el(i),{transitionName:v,showTransition:y}=u5(s),{buildMatrix:T}=k1(),{handleMonthYearChange:C,isDisabled:k,updateMonthYear:M}=Gwe(i,r),{showLeftIcon:P,showRightIcon:R}=VB(),N=Te(!1),z=Te(!1),H=Te([null,null,null,null]);Fr(()=>{r("mount")});const j=Ee=>({get:()=>i[Ee],set:se=>{const oe=Ee===Op.month?Op.year:Op.month;r("update-month-year",{[Ee]:se,[oe]:i[oe]}),Ee===Op.month?J(!0):te(!0)}}),Q=le(j(Op.month)),G=le(j(Op.year)),ie=le(()=>Ee=>({month:i.month,year:i.year,items:Ee===Op.month?i.months:i.years,instance:i.instance,updateMonthYear:M,toggle:Ee===Op.month?J:te})),q=le(()=>i.months.find(se=>se.value===i.month)||{text:"",value:0}),W=le(()=>y2(i.months,Ee=>{const se=i.month===Ee.value,oe=n6(Ee.value,Sre(i.year,m.value.minDate),Tre(i.year,m.value.maxDate))||a.value.months.includes(Ee.value),_e=kre(p.value,Ee.value,i.year);return{active:se,disabled:oe,highlighted:_e}})),ee=le(()=>y2(i.years,Ee=>{const se=i.year===Ee.value,oe=n6(Ee.value,b2(m.value.minDate),b2(m.value.maxDate))||a.value.years.includes(Ee.value),_e=k9(p.value,Ee.value);return{active:se,disabled:oe,highlighted:_e}})),he=(Ee,se,oe)=>{oe!==void 0?Ee.value=oe:Ee.value=!Ee.value,Ee.value?r("overlay-opened",se):r("overlay-closed",se)},J=(Ee=!1,se)=>{ne(Ee),he(N,Pc.month,se)},te=(Ee=!1,se)=>{ne(Ee),he(z,Pc.year,se)},ne=Ee=>{Ee||r("reset-flow")},ce=(Ee,se)=>{i.arrowNavigation&&(H.value[se]=yu(Ee),T(H.value,"monthYear"))},ue=le(()=>{var Ee,se;return[{type:Op.month,index:1,toggle:J,modelValue:Q.value,updateModelValue:oe=>Q.value=oe,text:q.value.text,showSelectionGrid:N.value,items:W.value,ariaLabel:(Ee=l.value)==null?void 0:Ee.openMonthsOverlay},{type:Op.year,index:2,toggle:te,modelValue:G.value,updateModelValue:oe=>G.value=oe,text:Ere(i.year,i.locale),showSelectionGrid:z.value,items:ee.value,ariaLabel:(se=l.value)==null?void 0:se.openYearsOverlay}]}),ye=le(()=>i.disableYearSelect?[ue.value[0]]:i.yearFirst?[...ue.value].reverse():ue.value);return e({toggleMonthPicker:J,toggleYearPicker:te,handleMonthYearChange:C}),(Ee,se)=>{var oe,_e,Ue;return X(),ve("div",x2e,[Ee.$slots["month-year"]?(X(),ve("div",C2e,[Ft(Ee.$slots,"month-year",ho(ou({month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:S(M),handleMonthYearChange:S(C),instance:t.instance})))])):(X(),ve(Vn,{key:1},[Ee.$slots["top-extra"]?(X(),ve("div",E2e,[Ft(Ee.$slots,"top-extra",{value:Ee.internalModelValue})])):bt("",!0),pe("div",S2e,[S(P)(S(c),t.instance)&&!Ee.vertical?(X(),Ut(AC,{key:0,"aria-label":(oe=S(l))==null?void 0:oe.prevMonth,disabled:S(k)(!1),onActivate:se[0]||(se[0]=Le=>S(C)(!1,!0)),onSetRef:se[1]||(se[1]=Le=>ce(Le,0))},{default:xt(()=>[Ee.$slots["arrow-left"]?Ft(Ee.$slots,"arrow-left",{key:0}):bt("",!0),Ee.$slots["arrow-left"]?bt("",!0):(X(),Ut(S(x9),{key:1}))]),_:3},8,["aria-label","disabled"])):bt("",!0),pe("div",{class:Se(["dp__month_year_wrap",{dp__year_disable_select:Ee.disableYearSelect}])},[(X(!0),ve(Vn,null,Yr(ye.value,(Le,be)=>(X(),ve(Vn,{key:Le.type},[pe("button",{ref_for:!0,ref:Re=>ce(Re,be+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":Le.ariaLabel,"data-test":`${Le.type}-toggle-overlay-${t.instance}`,onClick:Le.toggle,onKeydown:Re=>S(zh)(Re,()=>Le.toggle(),!0)},[Ee.$slots[Le.type]?Ft(Ee.$slots,Le.type,{key:0,text:Le.text,value:i[Le.type]}):bt("",!0),Ee.$slots[Le.type]?bt("",!0):(X(),ve(Vn,{key:1},[xi(Cn(Le.text),1)],64))],40,T2e),ht(fo,{name:S(v)(Le.showSelectionGrid),css:S(y)},{default:xt(()=>[Le.showSelectionGrid?(X(),Ut(l5,{key:0,items:Le.items,"arrow-navigation":Ee.arrowNavigation,"hide-navigation":Ee.hideNavigation,"is-last":Ee.autoApply&&!S(f).keepActionRow,"skip-button-ref":!1,config:Ee.config,type:Le.type,"header-refs":[],"esc-close":Ee.escClose,"menu-wrap-ref":Ee.menuWrapRef,"text-input":Ee.textInput,"aria-labels":Ee.ariaLabels,onSelected:Le.updateModelValue,onToggle:Le.toggle},Uo({"button-icon":xt(()=>[Ee.$slots["calendar-icon"]?Ft(Ee.$slots,"calendar-icon",{key:0}):bt("",!0),Ee.$slots["calendar-icon"]?bt("",!0):(X(),Ut(S(Z2),{key:1}))]),_:2},[Ee.$slots[`${Le.type}-overlay-value`]?{name:"item",fn:xt(({item:Re})=>[Ft(Ee.$slots,`${Le.type}-overlay-value`,{text:Re.text,value:Re.value})]),key:"0"}:void 0,Ee.$slots[`${Le.type}-overlay`]?{name:"overlay",fn:xt(()=>[Ft(Ee.$slots,`${Le.type}-overlay`,Xr({ref_for:!0},ie.value(Le.type)))]),key:"1"}:void 0,Ee.$slots[`${Le.type}-overlay-header`]?{name:"header",fn:xt(()=>[Ft(Ee.$slots,`${Le.type}-overlay-header`,{toggle:Le.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","onSelected","onToggle"])):bt("",!0)]),_:2},1032,["name","css"])],64))),128))],2),S(P)(S(c),t.instance)&&Ee.vertical?(X(),Ut(AC,{key:1,"aria-label":(_e=S(l))==null?void 0:_e.prevMonth,disabled:S(k)(!1),onActivate:se[2]||(se[2]=Le=>S(C)(!1,!0))},{default:xt(()=>[Ee.$slots["arrow-up"]?Ft(Ee.$slots,"arrow-up",{key:0}):bt("",!0),Ee.$slots["arrow-up"]?bt("",!0):(X(),Ut(S(S9),{key:1}))]),_:3},8,["aria-label","disabled"])):bt("",!0),S(R)(S(c),t.instance)?(X(),Ut(AC,{key:2,ref:"rightIcon",disabled:S(k)(!0),"aria-label":(Ue=S(l))==null?void 0:Ue.nextMonth,onActivate:se[3]||(se[3]=Le=>S(C)(!0,!0)),onSetRef:se[4]||(se[4]=Le=>ce(Le,Ee.disableYearSelect?2:3))},{default:xt(()=>[Ee.$slots[Ee.vertical?"arrow-down":"arrow-right"]?Ft(Ee.$slots,Ee.vertical?"arrow-down":"arrow-right",{key:0}):bt("",!0),Ee.$slots[Ee.vertical?"arrow-down":"arrow-right"]?bt("",!0):(X(),Ut(fi(Ee.vertical?S(T9):S(C9)),{key:1}))]),_:3},8,["disabled","aria-label"])):bt("",!0)])],64))])}}}),M2e=["aria-label"],I2e={class:"dp__calendar_header",role:"row"},L2e={key:0,class:"dp__calendar_header_item",role:"gridcell"},k2e=["aria-label"],P2e=pe("div",{class:"dp__calendar_header_separator"},null,-1),F2e=["aria-label"],R2e={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},O2e={class:"dp__cell_inner"},D2e=["id","aria-selected","aria-disabled","aria-label","data-test","onClick","onKeydown","onMouseenter","onMouseleave","onMousedown"],N2e=Be({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...oA},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMultiLevelMatrix:s}=k1(),{defaultedTransitions:l,defaultedConfig:c,defaultedAriaLabels:a,defaultedMultiCalendars:f,defaultedWeekNumbers:p,defaultedMultiDates:m}=el(i),v=Te(null),y=Te({bottom:"",left:"",transform:""}),T=Te([]),C=Te(null),k=Te(!0),M=Te(""),P=Te({startX:0,endX:0,startY:0,endY:0}),R=Te([]),N=Te({left:"50%"}),z=Te(!1),H=le(()=>i.calendar?i.calendar(i.mappedDates):i.mappedDates),j=le(()=>i.dayNames?Array.isArray(i.dayNames)?i.dayNames:i.dayNames(i.locale,+i.weekStart):pwe(i.formatLocale,i.locale,+i.weekStart));Fr(()=>{r("mount",{cmp:"calendar",refs:T}),c.value.noSwipe||C.value&&(C.value.addEventListener("touchstart",ce,{passive:!1}),C.value.addEventListener("touchend",ue,{passive:!1}),C.value.addEventListener("touchmove",ye,{passive:!1})),i.monthChangeOnScroll&&C.value&&C.value.addEventListener("wheel",oe,{passive:!1})});const Q=Qe=>Qe?i.vertical?"vNext":"next":i.vertical?"vPrevious":"previous",G=(Qe,Je)=>{if(i.transitions){const nt=uh(qg(xr(),i.month,i.year));M.value=Ml(uh(qg(xr(),Qe,Je)),nt)?l.value[Q(!0)]:l.value[Q(!1)],k.value=!1,dr(()=>{k.value=!0})}},ie=le(()=>({[i.calendarClassName]:!!i.calendarClassName})),q=le(()=>Qe=>{const Je=mwe(Qe);return{dp__marker_dot:Je.type==="dot",dp__marker_line:Je.type==="line"}}),W=le(()=>Qe=>is(Qe,v.value)),ee=le(()=>({dp__calendar:!0,dp__calendar_next:f.value.count>0&&i.instance!==0})),he=le(()=>Qe=>i.hideOffsetDates?Qe.current:!0),J=async(Qe,Je,nt)=>{const Ve=yu(T.value[Je][nt]);if(Ve){const{width:ke,height:Ge}=Ve.getBoundingClientRect();v.value=Qe.value;let Ne={left:`${ke/2}px`},je=-50;if(await dr(),R.value[0]){const{left:Ye,width:vt}=R.value[0].getBoundingClientRect();Ye<0&&(Ne={left:"0"},je=0,N.value.left=`${ke/2}px`),window.innerWidth<Ye+vt&&(Ne={right:"0"},je=0,N.value.left=`${vt-ke/2}px`)}y.value={bottom:`${Ge}px`,...Ne,transform:`translateX(${je}%)`},r("tooltip-open",Qe.marker)}},te=async(Qe,Je,nt)=>{var Ve,ke;if(z.value&&m.value.enabled&&m.value.dragSelect)return r("select-date",Qe);r("set-hover-date",Qe),(ke=(Ve=Qe.marker)==null?void 0:Ve.tooltip)!=null&&ke.length&&await J(Qe,Je,nt)},ne=Qe=>{v.value&&(v.value=null,y.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",Qe.marker))},ce=Qe=>{P.value.startX=Qe.changedTouches[0].screenX,P.value.startY=Qe.changedTouches[0].screenY},ue=Qe=>{P.value.endX=Qe.changedTouches[0].screenX,P.value.endY=Qe.changedTouches[0].screenY,Ee()},ye=Qe=>{i.vertical&&!i.inline&&Qe.preventDefault()},Ee=()=>{const Qe=i.vertical?"Y":"X";Math.abs(P.value[`start${Qe}`]-P.value[`end${Qe}`])>10&&r("handle-swipe",P.value[`start${Qe}`]>P.value[`end${Qe}`]?"right":"left")},se=(Qe,Je,nt)=>{Qe&&(Array.isArray(T.value[Je])?T.value[Je][nt]=Qe:T.value[Je]=[Qe]),i.arrowNavigation&&s(T.value,"calendar")},oe=Qe=>{i.monthChangeOnScroll&&(Qe.preventDefault(),r("handle-scroll",Qe))},_e=Qe=>p.value.type==="local"?y9(Qe.value,{weekStartsOn:+i.weekStart}):p.value.type==="iso"?v9(Qe.value):typeof p.value.type=="function"?p.value.type(Qe.value):"",Ue=Qe=>{const Je=Qe[0];return p.value.hideOnOffsetDates?Qe.some(nt=>nt.current)?_e(Je):"":_e(Je)},Le=(Qe,Je)=>{m.value.enabled||(t1(Qe,c.value),r("select-date",Je))},be=Qe=>{t1(Qe,c.value)},Re=Qe=>{m.value.enabled&&m.value.dragSelect?(z.value=!0,r("select-date",Qe)):m.value.enabled&&r("select-date",Qe)};return e({triggerTransition:G}),(Qe,Je)=>{var nt;return X(),ve("div",{class:Se(ee.value)},[pe("div",{ref_key:"calendarWrapRef",ref:C,role:"grid",class:Se(ie.value),"aria-label":(nt=S(a))==null?void 0:nt.calendarWrap},[pe("div",I2e,[Qe.weekNumbers?(X(),ve("div",L2e,Cn(Qe.weekNumName),1)):bt("",!0),(X(!0),ve(Vn,null,Yr(j.value,(Ve,ke)=>{var Ge,Ne;return X(),ve("div",{key:ke,class:"dp__calendar_header_item",role:"gridcell","data-test":"calendar-header","aria-label":(Ne=(Ge=S(a))==null?void 0:Ge.weekDay)==null?void 0:Ne.call(Ge,ke)},[Qe.$slots["calendar-header"]?Ft(Qe.$slots,"calendar-header",{key:0,day:Ve,index:ke}):bt("",!0),Qe.$slots["calendar-header"]?bt("",!0):(X(),ve(Vn,{key:1},[xi(Cn(Ve),1)],64))],8,k2e)}),128))]),P2e,ht(fo,{name:M.value,css:!!Qe.transitions},{default:xt(()=>{var Ve;return[k.value?(X(),ve("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((Ve=S(a))==null?void 0:Ve.calendarDays)||void 0,onMouseleave:Je[1]||(Je[1]=ke=>z.value=!1)},[(X(!0),ve(Vn,null,Yr(H.value,(ke,Ge)=>(X(),ve("div",{key:Ge,class:"dp__calendar_row",role:"row"},[Qe.weekNumbers?(X(),ve("div",R2e,[pe("div",O2e,Cn(Ue(ke.days)),1)])):bt("",!0),(X(!0),ve(Vn,null,Yr(ke.days,(Ne,je)=>{var Ye,vt,Lt;return X(),ve("div",{id:S(Pre)(Ne.value),ref_for:!0,ref:Et=>se(Et,Ge,je),key:je+Ge,role:"gridcell",class:"dp__calendar_item","aria-selected":(Ne.classData.dp__active_date||Ne.classData.dp__range_start||Ne.classData.dp__range_start)??void 0,"aria-disabled":Ne.classData.dp__cell_disabled||void 0,"aria-label":(vt=(Ye=S(a))==null?void 0:Ye.day)==null?void 0:vt.call(Ye,Ne),tabindex:"0","data-test":Ne.value,onClick:Pr(Et=>Le(Et,Ne),["prevent"]),onKeydown:Et=>S(zh)(Et,()=>Qe.$emit("select-date",Ne)),onMouseenter:Et=>te(Ne,Ge,je),onMouseleave:Et=>ne(Ne),onMousedown:Et=>Re(Ne),onMouseup:Je[0]||(Je[0]=Et=>z.value=!1)},[pe("div",{class:Se(["dp__cell_inner",Ne.classData])},[Qe.$slots.day&&he.value(Ne)?Ft(Qe.$slots,"day",{key:0,day:+Ne.text,date:Ne.value}):bt("",!0),Qe.$slots.day?bt("",!0):(X(),ve(Vn,{key:1},[xi(Cn(Ne.text),1)],64)),Ne.marker&&he.value(Ne)?(X(),ve(Vn,{key:2},[Qe.$slots.marker?Ft(Qe.$slots,"marker",{key:0,marker:Ne.marker,day:+Ne.text,date:Ne.value}):(X(),ve("div",{key:1,class:Se(q.value(Ne.marker)),style:or(Ne.marker.color?{backgroundColor:Ne.marker.color}:{})},null,6))],64)):bt("",!0),W.value(Ne.value)?(X(),ve("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:R,class:"dp__marker_tooltip",style:or(y.value)},[(Lt=Ne.marker)!=null&&Lt.tooltip?(X(),ve("div",{key:0,class:"dp__tooltip_content",onClick:be},[(X(!0),ve(Vn,null,Yr(Ne.marker.tooltip,(Et,Vt)=>(X(),ve("div",{key:Vt,class:"dp__tooltip_text"},[Qe.$slots["marker-tooltip"]?Ft(Qe.$slots,"marker-tooltip",{key:0,tooltip:Et,day:Ne.value}):bt("",!0),Qe.$slots["marker-tooltip"]?bt("",!0):(X(),ve(Vn,{key:1},[pe("div",{class:"dp__tooltip_mark",style:or(Et.color?{backgroundColor:Et.color}:{})},null,4),pe("div",null,Cn(Et.text),1)],64))]))),128)),pe("div",{class:"dp__arrow_bottom_tp",style:or(N.value)},null,4)])):bt("",!0)],4)):bt("",!0)],2)],40,D2e)}),128))]))),128))],40,F2e)):bt("",!0)]}),_:3},8,["name","css"])],10,M2e)],2)}}}),tK=t=>Array.isArray(t),U2e=(t,e,n,r)=>{const i=Te([]),s=Te(new Date),l=Te(),{modelValue:c,calendars:a,time:f,today:p}=c5(t,e),{defaultedMultiCalendars:m,defaultedStartTime:v,defaultedRange:y,defaultedConfig:T,defaultedTz:C,propDates:k,defaultedMultiDates:M}=el(t),{validateMonthYearInRange:P,isDisabled:R,isDateRangeAllowed:N,checkMinMaxRange:z}=P1(t),{updateTimeValues:H,getSetDateTime:j,setTime:Q,assignStartTime:G,validateTime:ie,disabledTimesConfig:q}=zre(t,f,c,r),W=le(()=>at=>a.value[at]?a.value[at].month:0),ee=le(()=>at=>a.value[at]?a.value[at].year:0),he=at=>!T.value.keepViewOnOffsetClick||at?!0:!l.value,J=(at,et,St,sn=!1)=>{var bn,gr;he(sn)&&(a.value[at]||(a.value[at]={month:0,year:0}),a.value[at].month=YG(et)?(bn=a.value[at])==null?void 0:bn.month:et,a.value[at].year=YG(St)?(gr=a.value[at])==null?void 0:gr.year:St)},te=()=>{t.autoApply&&e("select-date")};ln(c,(at,et)=>{JSON.stringify(at)!==JSON.stringify(et)&&ue()},{deep:!0}),Fr(()=>{t.shadow||(c.value||(Je(),v.value&&G(v.value)),ue(!0),t.focusStartDate&&t.startDate&&Je())});const ne=le(()=>{var at;return(at=t.flow)!=null&&at.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),ce=()=>{t.autoApply&&ne.value&&e("auto-apply")},ue=(at=!1)=>{if(c.value)return Array.isArray(c.value)?(i.value=c.value,Le(at)):se(c.value,at);if(m.value.count&&at&&!t.startDate)return Ee(xr(),at)},ye=()=>Array.isArray(c.value)&&y.value.enabled?Ja(c.value[0])===Ja(c.value[1]??c.value[0]):!1,Ee=(at,et=!1)=>{if((!m.value.count||!m.value.static||et)&&J(0,Ja(at),Da(at)),m.value.count&&(!m.value.solo||!c.value||ye()))for(let St=1;St<m.value.count;St++){const sn=co(xr(),{month:W.value(St-1),year:ee.value(St-1)}),bn=ere(sn,{months:1});a.value[St]={month:Ja(bn),year:Da(bn)}}},se=(at,et)=>{Ee(at),Q("hours",s0(at)),Q("minutes",u1(at)),Q("seconds",g2(at)),m.value.count&&et&&Qe()},oe=at=>{if(m.value.count){if(m.value.solo)return 0;const et=Ja(at[0]),St=Ja(at[1]);return Math.abs(St-et)<m.value.count?0:1}return 1},_e=(at,et)=>{at[1]&&y.value.showLastInRange?Ee(at[oe(at)],et):Ee(at[0],et);const St=(sn,bn)=>[sn(at[0]),at[1]?sn(at[1]):f[bn][1]];Q("hours",St(s0,"hours")),Q("minutes",St(u1,"minutes")),Q("seconds",St(g2,"seconds"))},Ue=(at,et)=>{if((y.value.enabled||t.weekPicker)&&!M.value.enabled)return _e(at,et);if(M.value.enabled&&et){const St=at[at.length-1];return se(St,et)}},Le=at=>{const et=c.value;Ue(et,at),m.value.count&&m.value.solo&&Qe()},be=(at,et)=>{const St=co(xr(),{month:W.value(et),year:ee.value(et)}),sn=at<0?Yp(St,1):_2(St,1);P(Ja(sn),Da(sn),at<0,t.preventMinMaxNavigation)&&(J(et,Ja(sn),Da(sn)),e("update-month-year",{instance:et,month:Ja(sn),year:Da(sn)}),m.value.count&&!m.value.solo&&Re(et),n())},Re=at=>{for(let et=at-1;et>=0;et--){const St=_2(co(xr(),{month:W.value(et+1),year:ee.value(et+1)}),1);J(et,Ja(St),Da(St))}for(let et=at+1;et<=m.value.count-1;et++){const St=Yp(co(xr(),{month:W.value(et-1),year:ee.value(et-1)}),1);J(et,Ja(St),Da(St))}},Qe=()=>{if(Array.isArray(c.value)&&c.value.length===2){const at=xr(xr(c.value[1]?c.value[1]:Yp(c.value[0],1))),[et,St]=[Ja(c.value[0]),Da(c.value[0])],[sn,bn]=[Ja(c.value[1]),Da(c.value[1])];(et!==sn||et===sn&&St!==bn)&&m.value.solo&&J(1,Ja(at),Da(at))}else c.value&&!Array.isArray(c.value)&&(J(0,Ja(c.value),Da(c.value)),Ee(xr()))},Je=()=>{t.startDate&&(J(0,Ja(xr(t.startDate)),Da(xr(t.startDate))),m.value.count&&Re(0))},nt=(at,et)=>{if(t.monthChangeOnScroll){const St=new Date().getTime()-s.value.getTime(),sn=Math.abs(at.deltaY);let bn=500;sn>1&&(bn=100),sn>100&&(bn=0),St>bn&&(s.value=new Date,be(t.monthChangeOnScroll!=="inverse"?-at.deltaY:at.deltaY,et))}},Ve=(at,et,St=!1)=>{t.monthChangeOnArrows&&t.vertical===St&&ke(at,et)},ke=(at,et)=>{be(at==="right"?-1:1,et)},Ge=at=>{if(k.value.markers)return u8(at.value,k.value.markers)},Ne=(at,et)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[at==0,!0];case"fair":return[at==0||et>at,!0];case"append":return[!1,!1];default:return[!1,!1]}},je=(at,et,St,sn)=>{if(t.sixWeeks&&at.length<6){const bn=6-at.length,gr=(et.getDay()+7-sn)%7,tr=6-(St.getDay()+7-sn)%7,[Nn,lr]=Ne(gr,tr);for(let Qr=1;Qr<=bn;Qr++)if(lr?!!(Qr%2)==Nn:Nn){const Ci=at[0].days[0],ai=Ye(jp(Ci.value,-7),Ja(et));at.unshift({days:ai})}else{const Ci=at[at.length-1],ai=Ci.days[Ci.days.length-1],Vi=Ye(jp(ai.value,1),Ja(et));at.push({days:Vi})}}return at},Ye=(at,et)=>{const St=xr(at),sn=[];for(let bn=0;bn<7;bn++){const gr=jp(St,bn),tr=Ja(gr)!==et;sn.push({text:t.hideOffsetDates&&tr?"":gr.getDate(),value:gr,current:!tr,classData:{}})}return sn},vt=(at,et)=>{const St=[],sn=new Date(et,at),bn=new Date(et,at+1,0),gr=t.weekStart,tr=eA(sn,{weekStartsOn:gr}),Nn=lr=>{const Qr=Ye(lr,at);if(St.push({days:Qr}),!St[St.length-1].days.some(Ci=>is(uh(Ci.value),uh(bn)))){const Ci=jp(lr,7);Nn(Ci)}};return Nn(tr),je(St,sn,bn,gr)},Lt=at=>{const et=n1(xr(at.value),f.hours,f.minutes,wt());e("date-update",et),M.value.enabled?P9(et,c,M.value.limit):c.value=et,r(),dr().then(()=>{ce()})},Et=at=>y.value.noDisabledRange?Bre(i.value[0],at).some(et=>R(et)):!1,Vt=()=>{i.value=c.value?c.value.slice():[],i.value.length===2&&!(y.value.fixedStart||y.value.fixedEnd)&&(i.value=[])},_t=(at,et)=>{const St=[xr(at.value),jp(xr(at.value),+y.value.autoRange)];N(St)?(et&&qt(at.value),i.value=St):e("invalid-date",at.value)},qt=at=>{const et=Ja(xr(at)),St=Da(xr(at));if(J(0,et,St),m.value.count>0)for(let sn=1;sn<m.value.count;sn++){const bn=Cwe(co(xr(at),{year:W.value(sn-1),month:ee.value(sn-1)}));J(sn,bn.month,bn.year)}},tn=at=>{if(Et(at.value)||!z(at.value,c.value,y.value.fixedStart?0:1))return e("invalid-date",at.value);i.value=Dre(xr(at.value),c,e,y)},Nt=(at,et)=>{if(Vt(),y.value.autoRange)return _t(at,et);if(y.value.fixedStart||y.value.fixedEnd)return tn(at);i.value[0]?z(xr(at.value),c.value)&&!Et(at.value)?dl(xr(at.value),xr(i.value[0]))?(i.value.unshift(xr(at.value)),e("range-end",i.value[0])):(i.value[1]=xr(at.value),e("range-end",i.value[1])):(t.autoApply&&e("auto-apply-invalid",at.value),e("invalid-date",at.value)):(i.value[0]=xr(at.value),e("range-start",i.value[0]))},wt=(at=!0)=>t.enableSeconds?Array.isArray(f.seconds)?at?f.seconds[0]:f.seconds[1]:f.seconds:0,De=at=>{i.value[at]=n1(i.value[at],f.hours[at],f.minutes[at],wt(at!==1))},We=()=>{var at,et;i.value[0]&&i.value[1]&&+((at=i.value)==null?void 0:at[0])>+((et=i.value)==null?void 0:et[1])&&(i.value.reverse(),e("range-start",i.value[0]),e("range-end",i.value[1]))},ut=()=>{i.value.length&&(i.value[0]&&!i.value[1]?De(0):(De(0),De(1),r()),We(),c.value=i.value.slice(),$B(i.value,e,t.autoApply,t.modelAuto))},It=(at,et=!1)=>{if(R(at.value)||!at.current&&t.hideOffsetDates)return e("invalid-date",at.value);if(l.value=JSON.parse(JSON.stringify(at)),!y.value.enabled)return Lt(at);tK(f.hours)&&tK(f.minutes)&&!M.value.enabled&&(Nt(at,et),ut())},Xe=(at,et)=>{var St;J(at,et.month,et.year,!0),m.value.count&&!m.value.solo&&Re(at),e("update-month-year",{instance:at,month:et.month,year:et.year}),n(m.value.solo?at:void 0);const sn=(St=t.flow)!=null&&St.length?t.flow[t.flowStep]:void 0;!et.fromNav&&(sn===Pc.month||sn===Pc.year)&&r()},kt=(at,et)=>{Ore({value:at,modelValue:c,range:y.value.enabled,timezone:et?void 0:C.value.timezone}),te(),t.multiCalendars&&dr().then(()=>ue(!0))},Bt=()=>{const at=B9(xr(),C.value);y.value.enabled?c.value&&Array.isArray(c.value)&&c.value[0]?c.value=dl(at,c.value[0])?[at,c.value[0]]:[c.value[0],at]:c.value=[at]:c.value=at,te()},it=()=>{if(Array.isArray(c.value))if(M.value.enabled){const at=Mt();c.value[c.value.length-1]=j(at)}else c.value=c.value.map((at,et)=>at&&j(at,et));else c.value=j(c.value);e("time-update")},Mt=()=>Array.isArray(c.value)&&c.value.length?c.value[c.value.length-1]:null;return{calendars:a,modelValue:c,month:W,year:ee,time:f,disabledTimesConfig:q,today:p,validateTime:ie,getCalendarDays:vt,getMarker:Ge,handleScroll:nt,handleSwipe:ke,handleArrow:Ve,selectDate:It,updateMonthYear:Xe,presetDate:kt,selectCurrentDate:Bt,updateTime:(at,et=!0,St=!1)=>{H(at,et,St,it)}}},z2e={key:0},$2e=Be({__name:"DatePicker",props:{...oA},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,{calendars:s,month:l,year:c,modelValue:a,time:f,disabledTimesConfig:p,today:m,validateTime:v,getCalendarDays:y,getMarker:T,handleArrow:C,handleScroll:k,handleSwipe:M,selectDate:P,updateMonthYear:R,presetDate:N,selectCurrentDate:z,updateTime:H}=U2e(i,r,ye,Ee),j=To(),{setHoverDate:Q,getDayClassData:G,clearHoverDate:ie}=rxe(a,i),{defaultedMultiCalendars:q}=el(i),W=Te([]),ee=Te([]),he=Te(null),J=zd(j,"calendar"),te=zd(j,"monthYear"),ne=zd(j,"timePicker"),ce=nt=>{i.shadow||r("mount",nt)};ln(s,()=>{i.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const ue=le(()=>nt=>y(l.value(nt),c.value(nt)).map(Ve=>({...Ve,days:Ve.days.map(ke=>(ke.marker=T(ke),ke.classData=G(ke),ke))})));function ye(nt){var Ve;nt||nt===0?(Ve=ee.value[nt])==null||Ve.triggerTransition(l.value(nt),c.value(nt)):ee.value.forEach((ke,Ge)=>ke.triggerTransition(l.value(Ge),c.value(Ge)))}function Ee(){r("update-flow-step")}const se=(nt,Ve=!1)=>{P(nt,Ve),i.spaceConfirm&&r("select-date")},oe=(nt,Ve,ke=0)=>{var Ge;(Ge=W.value[ke])==null||Ge.toggleMonthPicker(nt,Ve)},_e=(nt,Ve,ke=0)=>{var Ge;(Ge=W.value[ke])==null||Ge.toggleYearPicker(nt,Ve)},Ue=(nt,Ve,ke)=>{var Ge;(Ge=he.value)==null||Ge.toggleTimePicker(nt,Ve,ke)},Le=(nt,Ve)=>{var ke;if(!i.range){const Ge=a.value?a.value:m,Ne=Ve?new Date(Ve):Ge,je=nt?eA(Ne,{weekStartsOn:1}):lre(Ne,{weekStartsOn:1});P({value:je,current:Ja(Ne)===l.value(0),text:"",classData:{}}),(ke=document.getElementById(Pre(je)))==null||ke.focus()}},be=nt=>{var Ve;(Ve=W.value[0])==null||Ve.handleMonthYearChange(nt,!0)},Re=nt=>{R(0,{month:l.value(0),year:c.value(0)+(nt?1:-1),fromNav:!0})},Qe=(nt,Ve)=>{nt===Pc.time&&r(`time-picker-${Ve?"open":"close"}`),r("overlay-toggle",{open:Ve,overlay:nt})},Je=nt=>{r("overlay-toggle",{open:!1,overlay:nt}),r("focus-menu")};return e({clearHoverDate:ie,presetDate:N,selectCurrentDate:z,toggleMonthPicker:oe,toggleYearPicker:_e,toggleTimePicker:Ue,handleArrow:C,updateMonthYear:R,getSidebarProps:()=>({modelValue:a,month:l,year:c,time:f,updateTime:H,updateMonthYear:R,selectDate:P,presetDate:N}),changeMonth:be,changeYear:Re,selectWeekDate:Le}),(nt,Ve)=>(X(),ve(Vn,null,[ht(zB,{"multi-calendars":S(q).count,collapse:nt.collapse},{default:xt(({instance:ke,index:Ge})=>[nt.disableMonthYearSelect?bt("",!0):(X(),Ut(B2e,Xr({key:0,ref:Ne=>{Ne&&(W.value[Ge]=Ne)},months:S(wre)(nt.formatLocale,nt.locale,nt.monthNameFormat),years:S(M9)(nt.yearRange,nt.locale,nt.reverseYears),month:S(l)(ke),year:S(c)(ke),instance:ke},nt.$props,{onMount:Ve[0]||(Ve[0]=Ne=>ce(S(iy).header)),onResetFlow:Ve[1]||(Ve[1]=Ne=>nt.$emit("reset-flow")),onUpdateMonthYear:Ne=>S(R)(ke,Ne),onOverlayClosed:Je,onOverlayOpened:Ve[2]||(Ve[2]=Ne=>nt.$emit("overlay-toggle",{open:!0,overlay:Ne}))}),Uo({_:2},[Yr(S(te),(Ne,je)=>({name:Ne,fn:xt(Ye=>[Ft(nt.$slots,Ne,ho(ou(Ye)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),ht(N2e,Xr({ref:Ne=>{Ne&&(ee.value[Ge]=Ne)},"mapped-dates":ue.value(ke),month:S(l)(ke),year:S(c)(ke),instance:ke},nt.$props,{onSelectDate:Ne=>S(P)(Ne,ke!==1),onHandleSpace:Ne=>se(Ne,ke!==1),onSetHoverDate:Ve[3]||(Ve[3]=Ne=>S(Q)(Ne)),onHandleScroll:Ne=>S(k)(Ne,ke),onHandleSwipe:Ne=>S(M)(Ne,ke),onMount:Ve[4]||(Ve[4]=Ne=>ce(S(iy).calendar)),onResetFlow:Ve[5]||(Ve[5]=Ne=>nt.$emit("reset-flow")),onTooltipOpen:Ve[6]||(Ve[6]=Ne=>nt.$emit("tooltip-open",Ne)),onTooltipClose:Ve[7]||(Ve[7]=Ne=>nt.$emit("tooltip-close",Ne))}),Uo({_:2},[Yr(S(J),(Ne,je)=>({name:Ne,fn:xt(Ye=>[Ft(nt.$slots,Ne,ho(ou({...Ye})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse"]),nt.enableTimePicker?(X(),ve("div",z2e,[nt.$slots["time-picker"]?Ft(nt.$slots,"time-picker",ho(Xr({key:0},{time:S(f),updateTime:S(H)}))):(X(),Ut(Ure,Xr({key:1,ref_key:"timePickerRef",ref:he},nt.$props,{hours:S(f).hours,minutes:S(f).minutes,seconds:S(f).seconds,"internal-model-value":nt.internalModelValue,"disabled-times-config":S(p),"validate-time":S(v),onMount:Ve[8]||(Ve[8]=ke=>ce(S(iy).timePicker)),"onUpdate:hours":Ve[9]||(Ve[9]=ke=>S(H)(ke)),"onUpdate:minutes":Ve[10]||(Ve[10]=ke=>S(H)(ke,!1)),"onUpdate:seconds":Ve[11]||(Ve[11]=ke=>S(H)(ke,!1,!0)),onResetFlow:Ve[12]||(Ve[12]=ke=>nt.$emit("reset-flow")),onOverlayClosed:Ve[13]||(Ve[13]=ke=>Qe(ke,!1)),onOverlayOpened:Ve[14]||(Ve[14]=ke=>Qe(ke,!0)),onAmPmChange:Ve[15]||(Ve[15]=ke=>nt.$emit("am-pm-change",ke))}),Uo({_:2},[Yr(S(ne),(ke,Ge)=>({name:ke,fn:xt(Ne=>[Ft(nt.$slots,ke,ho(ou(Ne)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):bt("",!0)],64))}}),V2e=(t,e)=>{const n=Te(),{defaultedMultiCalendars:r,defaultedConfig:i,defaultedHighlight:s,defaultedRange:l,propDates:c,defaultedFilters:a,defaultedMultiDates:f}=el(t),{modelValue:p,year:m,month:v,calendars:y}=c5(t,e),{isDisabled:T}=P1(t),{selectYear:C,groupedYears:k,showYearPicker:M,isDisabled:P,toggleYearPicker:R,handleYearSelect:N,handleYear:z}=Nre({modelValue:p,multiCalendars:r,range:l,highlight:s,calendars:y,propDates:c,month:v,year:m,filters:a,props:t,emit:e}),H=(J,te)=>[J,te].map(ne=>pm(ne,"MMMM",{locale:t.formatLocale})).join("-"),j=le(()=>J=>p.value?Array.isArray(p.value)?p.value.some(te=>KG(J,te)):KG(p.value,J):!1),Q=J=>{if(l.value.enabled){if(Array.isArray(p.value)){const te=is(J,p.value[0])||is(J,p.value[1]);return NB(p.value,n.value,J)&&!te}return!1}return!1},G=(J,te)=>J.quarter===$G(te)&&J.year===Da(te),ie=J=>typeof s.value=="function"?s.value({quarter:$G(J),year:Da(J)}):!!s.value.quarters.find(te=>G(te,J)),q=le(()=>J=>{const te=co(new Date,{year:m.value(J)});return Aye({start:g9(te),end:ore(te)}).map(ne=>{const ce=V_(ne),ue=VG(ne),ye=T(ne),Ee=Q(ce),se=ie(ce);return{text:H(ce,ue),value:ce,active:j.value(ce),highlighted:se,disabled:ye,isBetween:Ee}})}),W=J=>{P9(J,p,f.value.limit),e("auto-apply",!0)},ee=J=>{p.value=F9(p,J,e),$B(p.value,e,t.autoApply,t.modelAuto)},he=J=>{p.value=J,e("auto-apply")};return{defaultedConfig:i,defaultedMultiCalendars:r,groupedYears:k,year:m,isDisabled:P,quarters:q,showYearPicker:M,modelValue:p,setHoverDate:J=>{n.value=J},selectYear:C,selectQuarter:(J,te,ne)=>{if(!ne)return y.value[te].month=Ja(VG(J)),f.value.enabled?W(J):l.value.enabled?ee(J):he(J)},toggleYearPicker:R,handleYearSelect:N,handleYear:z}},H2e={class:"dp--quarter-items"},Q2e=["data-test","disabled","onClick","onMouseover"],j2e=Be({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...oA},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end","overlay-toggle","update-month-year"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=To(),l=zd(s,"yearMode"),{defaultedMultiCalendars:c,defaultedConfig:a,groupedYears:f,year:p,isDisabled:m,quarters:v,modelValue:y,showYearPicker:T,setHoverDate:C,selectQuarter:k,toggleYearPicker:M,handleYearSelect:P,handleYear:R}=V2e(i,r);return e({getSidebarProps:()=>({modelValue:y,year:p,selectQuarter:k,handleYearSelect:P,handleYear:R})}),(N,z)=>(X(),Ut(zB,{"multi-calendars":S(c).count,collapse:N.collapse,stretch:""},{default:xt(({instance:H})=>[pe("div",{class:"dp-quarter-picker-wrap",style:or({minHeight:`${S(a).modeHeight}px`})},[N.$slots["top-extra"]?Ft(N.$slots,"top-extra",{key:0,value:N.internalModelValue}):bt("",!0),pe("div",null,[ht(Rre,Xr(N.$props,{items:S(f)(H),instance:H,"show-year-picker":S(T)[H],year:S(p)(H),"is-disabled":j=>S(m)(H,j),onHandleYear:j=>S(R)(H,j),onYearSelect:j=>S(P)(j,H),onToggleYearPicker:j=>S(M)(H,j==null?void 0:j.flow,j==null?void 0:j.show)}),Uo({_:2},[Yr(S(l),(j,Q)=>({name:j,fn:xt(G=>[Ft(N.$slots,j,ho(ou(G)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),pe("div",H2e,[(X(!0),ve(Vn,null,Yr(S(v)(H),(j,Q)=>(X(),ve("div",{key:Q},[pe("button",{type:"button",class:Se(["dp--qr-btn",{"dp--qr-btn-active":j.active,"dp--qr-btn-between":j.isBetween,"dp--qr-btn-disabled":j.disabled,"dp--highlighted":j.highlighted}]),"data-test":j.value,disabled:j.disabled,onClick:G=>S(k)(j.value,H,j.disabled),onMouseover:G=>S(C)(j.value)},[N.$slots.quarter?Ft(N.$slots,"quarter",{key:0,value:j.value,text:j.text}):(X(),ve(Vn,{key:1},[xi(Cn(j.text),1)],64))],42,Q2e)]))),128))])],4)]),_:3},8,["multi-calendars","collapse"]))}}),G2e=["id","aria-label"],K2e={key:0,class:"dp--menu-load-container"},W2e=pe("span",{class:"dp--menu-loader"},null,-1),q2e=[W2e],Y2e={key:0,class:"dp__sidebar_left"},X2e=["data-test","onClick","onKeydown"],Z2e={key:2,class:"dp__sidebar_right"},J2e={key:3,class:"dp__action_extra"},nK=Be({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...UB,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Te(null),l=le(()=>{const{openOnTop:Ye,...vt}=i;return{...vt,flowStep:Q.value,collapse:i.collapse,noOverlayFocus:i.noOverlayFocus,menuWrapRef:s.value}}),{setMenuFocused:c,setShiftKey:a,control:f}=Fre(),p=To(),{defaultedTextInput:m,defaultedInline:v,defaultedConfig:y}=el(i),T=Te(null),C=Te(0),k=Te(null),M=Te(!1),P=Te(null);Fr(()=>{if(!i.shadow){M.value=!0,R(),window.addEventListener("resize",R);const Ye=yu(s);if(Ye&&!m.value.enabled&&!v.value.enabled&&(c(!0),J()),Ye){const vt=Lt=>{y.value.allowPreventDefault&&Lt.preventDefault(),t1(Lt,y.value,!0)};Ye.addEventListener("pointerdown",vt),Ye.addEventListener("mousedown",vt)}}}),Hf(()=>{window.removeEventListener("resize",R)});const R=()=>{const Ye=yu(k);Ye&&(C.value=Ye.getBoundingClientRect().width)},{arrowRight:N,arrowLeft:z,arrowDown:H,arrowUp:j}=k1(),{flowStep:Q,updateFlowStep:G,childMount:ie,resetFlow:q,handleFlow:W}=ixe(i,r,P),ee=le(()=>i.monthPicker?r2e:i.yearPicker?a2e:i.timePicker?w2e:i.quarterPicker?j2e:$2e),he=le(()=>{var Ye;if(y.value.arrowLeft)return y.value.arrowLeft;const vt=(Ye=s.value)==null?void 0:Ye.getBoundingClientRect(),Lt=i.getInputRect();return Lt.width<C.value&&Lt.left<=((vt==null?void 0:vt.left)??0)?`${Lt.width/2}px`:"50%"}),J=()=>{const Ye=yu(s);Ye&&Ye.focus({preventScroll:!0})},te=le(()=>{var Ye;return((Ye=P.value)==null?void 0:Ye.getSidebarProps())||{}}),ne=()=>{i.openOnTop&&r("recalculate-position")},ce=zd(p,"action"),ue=le(()=>i.monthPicker||i.yearPicker?zd(p,"monthYear"):i.timePicker?zd(p,"timePicker"):zd(p,"shared")),ye=le(()=>i.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),Ee=le(()=>({dp__menu_disabled:i.disabled,dp__menu_readonly:i.readonly,"dp-menu-loading":i.loading})),se=le(()=>({dp__menu:!0,dp__menu_index:!v.value.enabled,dp__relative:v.value.enabled,[i.menuClassName]:!!i.menuClassName})),oe=Ye=>{t1(Ye,y.value,!0)},_e=()=>{i.escClose&&r("close-picker")},Ue=Ye=>{if(i.arrowNavigation){if(Ye===rh.up)return j();if(Ye===rh.down)return H();if(Ye===rh.left)return z();if(Ye===rh.right)return N()}else Ye===rh.left||Ye===rh.up?Je("handleArrow",rh.left,0,Ye===rh.up):Je("handleArrow",rh.right,0,Ye===rh.down)},Le=Ye=>{a(Ye.shiftKey),!i.disableMonthYearSelect&&Ye.code===Wo.tab&&Ye.target.classList.contains("dp__menu")&&f.value.shiftKeyInMenu&&(Ye.preventDefault(),t1(Ye,y.value,!0),r("close-picker"))},be=()=>{J(),r("time-picker-close")},Re=Ye=>{var vt,Lt,Et;(vt=P.value)==null||vt.toggleTimePicker(!1,!1),(Lt=P.value)==null||Lt.toggleMonthPicker(!1,!1,Ye),(Et=P.value)==null||Et.toggleYearPicker(!1,!1,Ye)},Qe=(Ye,vt=0)=>{var Lt,Et,Vt;return Ye==="month"?(Lt=P.value)==null?void 0:Lt.toggleMonthPicker(!1,!0,vt):Ye==="year"?(Et=P.value)==null?void 0:Et.toggleYearPicker(!1,!0,vt):Ye==="time"?(Vt=P.value)==null?void 0:Vt.toggleTimePicker(!0,!1):Re(vt)},Je=(Ye,...vt)=>{var Lt,Et;(Lt=P.value)!=null&&Lt[Ye]&&((Et=P.value)==null||Et[Ye](...vt))},nt=()=>{Je("selectCurrentDate")},Ve=(Ye,vt)=>{Je("presetDate",Ye,vt)},ke=()=>{Je("clearHoverDate")},Ge=(Ye,vt)=>{Je("updateMonthYear",Ye,vt)},Ne=(Ye,vt)=>{Ye.preventDefault(),Ue(vt)},je=Ye=>{var vt;if(Le(Ye),Ye.key===Wo.home||Ye.key===Wo.end)return Je("selectWeekDate",Ye.key===Wo.home,Ye.target.getAttribute("id"));switch((Ye.key===Wo.pageUp||Ye.key===Wo.pageDown)&&(Ye.shiftKey?Je("changeYear",Ye.key===Wo.pageUp):Je("changeMonth",Ye.key===Wo.pageUp),Ye.target.getAttribute("id")&&((vt=s.value)==null||vt.focus({preventScroll:!0}))),Ye.key){case Wo.esc:return _e();case Wo.arrowLeft:return Ne(Ye,rh.left);case Wo.arrowRight:return Ne(Ye,rh.right);case Wo.arrowUp:return Ne(Ye,rh.up);case Wo.arrowDown:return Ne(Ye,rh.down);default:return}};return e({updateMonthYear:Ge,switchView:Qe,handleFlow:W}),(Ye,vt)=>{var Lt,Et,Vt;return X(),ve("div",{id:Ye.uid?`dp-menu-${Ye.uid}`:void 0,ref_key:"dpMenuRef",ref:s,tabindex:"0",role:"dialog","aria-label":(Lt=Ye.ariaLabels)==null?void 0:Lt.menu,class:Se(se.value),style:or({"--dp-arrow-left":he.value}),onMouseleave:ke,onClick:oe,onKeydown:je},[(Ye.disabled||Ye.readonly)&&S(v).enabled||Ye.loading?(X(),ve("div",{key:0,class:Se(Ee.value)},[Ye.loading?(X(),ve("div",K2e,q2e)):bt("",!0)],2)):bt("",!0),!S(v).enabled&&!Ye.teleportCenter?(X(),ve("div",{key:1,class:Se(ye.value)},null,2)):bt("",!0),pe("div",{ref_key:"innerMenuRef",ref:k,class:Se({dp__menu_content_wrapper:((Et=Ye.presetDates)==null?void 0:Et.length)||!!Ye.$slots["left-sidebar"]||!!Ye.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":t.collapse&&(((Vt=Ye.presetDates)==null?void 0:Vt.length)||!!Ye.$slots["left-sidebar"]||!!Ye.$slots["right-sidebar"])}),style:or({"--dp-menu-width":`${C.value}px`})},[Ye.$slots["left-sidebar"]?(X(),ve("div",Y2e,[Ft(Ye.$slots,"left-sidebar",ho(ou(te.value)))])):bt("",!0),Ye.presetDates.length?(X(),ve("div",{key:1,class:Se({"dp--preset-dates-collapsed":t.collapse,"dp--preset-dates":!0})},[(X(!0),ve(Vn,null,Yr(Ye.presetDates,(_t,qt)=>(X(),ve(Vn,{key:qt},[_t.slot?Ft(Ye.$slots,_t.slot,{key:0,presetDate:Ve,label:_t.label,value:_t.value}):(X(),ve("button",{key:1,type:"button",style:or(_t.style||{}),class:Se(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":t.collapse}]),"data-test":_t.testId??void 0,onClick:Pr(tn=>Ve(_t.value,_t.noTz),["prevent"]),onKeydown:tn=>S(zh)(tn,()=>Ve(_t.value,_t.noTz),!0)},Cn(_t.label),47,X2e))],64))),128))],2)):bt("",!0),pe("div",{ref_key:"calendarWrapperRef",ref:T,class:"dp__instance_calendar",role:"document"},[(X(),Ut(fi(ee.value),Xr({ref_key:"dynCmpRef",ref:P},l.value,{"flow-step":S(Q),onMount:S(ie),onUpdateFlowStep:S(G),onResetFlow:S(q),onFocusMenu:J,onSelectDate:vt[0]||(vt[0]=_t=>Ye.$emit("select-date")),onDateUpdate:vt[1]||(vt[1]=_t=>Ye.$emit("date-update",_t)),onTooltipOpen:vt[2]||(vt[2]=_t=>Ye.$emit("tooltip-open",_t)),onTooltipClose:vt[3]||(vt[3]=_t=>Ye.$emit("tooltip-close",_t)),onAutoApply:vt[4]||(vt[4]=_t=>Ye.$emit("auto-apply",_t)),onRangeStart:vt[5]||(vt[5]=_t=>Ye.$emit("range-start",_t)),onRangeEnd:vt[6]||(vt[6]=_t=>Ye.$emit("range-end",_t)),onInvalidFixedRange:vt[7]||(vt[7]=_t=>Ye.$emit("invalid-fixed-range",_t)),onTimeUpdate:vt[8]||(vt[8]=_t=>Ye.$emit("time-update")),onAmPmChange:vt[9]||(vt[9]=_t=>Ye.$emit("am-pm-change",_t)),onTimePickerOpen:vt[10]||(vt[10]=_t=>Ye.$emit("time-picker-open",_t)),onTimePickerClose:be,onRecalculatePosition:ne,onUpdateMonthYear:vt[11]||(vt[11]=_t=>Ye.$emit("update-month-year",_t)),onAutoApplyInvalid:vt[12]||(vt[12]=_t=>Ye.$emit("auto-apply-invalid",_t)),onInvalidDate:vt[13]||(vt[13]=_t=>Ye.$emit("invalid-date",_t)),onOverlayToggle:vt[14]||(vt[14]=_t=>Ye.$emit("overlay-toggle",_t)),"onUpdate:internalModelValue":vt[15]||(vt[15]=_t=>Ye.$emit("update:internal-model-value",_t))}),Uo({_:2},[Yr(ue.value,(_t,qt)=>({name:_t,fn:xt(tn=>[Ft(Ye.$slots,_t,ho(ou({...tn})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),Ye.$slots["right-sidebar"]?(X(),ve("div",Z2e,[Ft(Ye.$slots,"right-sidebar",ho(ou(te.value)))])):bt("",!0),Ye.$slots["action-extra"]?(X(),ve("div",J2e,[Ye.$slots["action-extra"]?Ft(Ye.$slots,"action-extra",{key:0,selectCurrentDate:nt}):bt("",!0)])):bt("",!0)],6),!Ye.autoApply||S(y).keepActionRow?(X(),Ut(qwe,Xr({key:2,"menu-mount":M.value},l.value,{"calendar-width":C.value,onClosePicker:vt[16]||(vt[16]=_t=>Ye.$emit("close-picker")),onSelectDate:vt[17]||(vt[17]=_t=>Ye.$emit("select-date")),onInvalidSelect:vt[18]||(vt[18]=_t=>Ye.$emit("invalid-select")),onSelectNow:nt}),Uo({_:2},[Yr(S(ce),(_t,qt)=>({name:_t,fn:xt(tn=>[Ft(Ye.$slots,_t,ho(ou({...tn})))])}))]),1040,["menu-mount","calendar-width"])):bt("",!0)],46,G2e)}}});var uw=(t=>(t.center="center",t.left="left",t.right="right",t))(uw||{});const exe=({menuRef:t,menuRefInner:e,inputRef:n,pickerWrapperRef:r,inline:i,emit:s,props:l,slots:c})=>{const a=Te({}),f=Te(!1),p=Te({top:"0",left:"0"}),m=Te(!1),v=Na(l,"teleportCenter");ln(v,()=>{p.value=JSON.parse(JSON.stringify({})),N()});const y=J=>{if(l.teleport){const te=J.getBoundingClientRect();return{left:te.left+window.scrollX,top:te.top+window.scrollY}}return{top:0,left:0}},T=(J,te)=>{p.value.left=`${J+te-a.value.width}px`},C=J=>{p.value.left=`${J}px`},k=(J,te)=>{l.position===uw.left&&C(J),l.position===uw.right&&T(J,te),l.position===uw.center&&(p.value.left=`${J+te/2-a.value.width/2}px`)},M=J=>{const{width:te,height:ne}=J.getBoundingClientRect(),{top:ce,left:ue}=l.altPosition?l.altPosition(J):y(J);return{top:+ce,left:+ue,width:te,height:ne}},P=()=>{p.value.left="50%",p.value.top="50%",p.value.transform="translate(-50%, -50%)",p.value.position="fixed",delete p.value.opacity},R=()=>{const J=yu(n),{top:te,left:ne,transform:ce}=l.altPosition(J);p.value={top:`${te}px`,left:`${ne}px`,transform:ce??""}},N=(J=!0)=>{var te;if(!i.value.enabled){if(v.value)return P();if(l.altPosition!==null)return R();if(J){const ne=l.teleport?(te=e.value)==null?void 0:te.$el:t.value;ne&&(a.value=ne.getBoundingClientRect()),s("recalculate-position")}return q()}},z=({inputEl:J,left:te,width:ne})=>{window.screen.width>768&&!f.value&&k(te,ne),Q(J)},H=J=>{const{top:te,left:ne,height:ce,width:ue}=M(J);p.value.top=`${ce+te+ +l.offset}px`,m.value=!1,f.value||(p.value.left=`${ne+ue/2-a.value.width/2}px`),z({inputEl:J,left:ne,width:ue})},j=J=>{const{top:te,left:ne,width:ce}=M(J);p.value.top=`${te-+l.offset-a.value.height}px`,m.value=!0,z({inputEl:J,left:ne,width:ce})},Q=J=>{if(l.autoPosition){const{left:te,width:ne}=M(J),{left:ce,right:ue}=a.value;if(!f.value){if(Math.abs(ce)!==Math.abs(ue)){if(ce<=0)return f.value=!0,C(te);if(ue>=document.documentElement.clientWidth)return f.value=!0,T(te,ne)}return k(te,ne)}}},G=()=>{const J=yu(n);if(J){const{height:te}=a.value,{top:ne,height:ce}=J.getBoundingClientRect(),ue=window.innerHeight-ne-ce,ye=ne;return te<=ue?L_.bottom:te>ue&&te<=ye?L_.top:ue>=ye?L_.bottom:L_.top}return L_.bottom},ie=J=>G()===L_.bottom?H(J):j(J),q=()=>{const J=yu(n);if(J)return l.autoPosition?ie(J):H(J)},W=function(J){if(J){const te=J.scrollHeight>J.clientHeight,ne=window.getComputedStyle(J).overflowY.indexOf("hidden")!==-1;return te&&!ne}return!0},ee=function(J){return!J||J===document.body||J.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:W(J)?J:ee(J.assignedSlot?J.assignedSlot.parentNode:J.parentNode)},he=J=>{if(J)switch(l.position){case uw.left:return{left:0,transform:"translateX(0)"};case uw.right:return{left:`${J.width}px`,transform:"translateX(-100%)"};default:return{left:`${J.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:m,menuStyle:p,xCorrect:f,setMenuPosition:N,getScrollableParent:ee,shadowRender:(J,te)=>{var ne,ce,ue;const ye=document.createElement("div"),Ee=(ne=yu(n))==null?void 0:ne.getBoundingClientRect();ye.setAttribute("id","dp--temp-container");const se=(ce=r.value)!=null&&ce.clientWidth?r.value:document.body;se.append(ye);const oe=he(Ee),_e=wr(J,{...te,shadow:!0,style:{opacity:0,position:"absolute",...oe}},Object.fromEntries(Object.keys(c).filter(Ue=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(Ue)).map(Ue=>[Ue,c[Ue]])));xm(_e,ye),a.value=(ue=_e.el)==null?void 0:ue.getBoundingClientRect(),xm(null,ye),se.removeChild(ye)}}},cv=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]}],txe=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],nxe={all:()=>cv,monthYear:()=>cv.filter(t=>t.use.includes("month-year")),input:()=>txe,timePicker:()=>cv.filter(t=>t.use.includes("time")),action:()=>cv.filter(t=>t.use.includes("action")),calendar:()=>cv.filter(t=>t.use.includes("calendar")),menu:()=>cv.filter(t=>t.use.includes("menu")),shared:()=>cv.filter(t=>t.use.includes("shared")),yearMode:()=>cv.filter(t=>t.use.includes("year-mode"))},zd=(t,e,n)=>{const r=[];return nxe[e]().forEach(i=>{t[i.name]&&r.push(i.name)}),n!=null&&n.length&&n.forEach(i=>{i.slot&&r.push(i.slot)}),r},u5=t=>{const e=le(()=>r=>t.value?r?t.value.open:t.value.close:""),n=le(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!t.value,menuTransition:n}},c5=(t,e)=>{const{defaultedRange:n,defaultedTz:r}=el(t),i=xr(Am(xr(),r.value.timezone)),s=Te([{month:Ja(i),year:Da(i)}]),l=m=>{const v={hours:s0(i),minutes:u1(i),seconds:0};return n.value.enabled?[v[m],v[m]]:v[m]},c=ha({hours:l("hours"),minutes:l("minutes"),seconds:l("seconds")});ln(n,(m,v)=>{m.enabled!==v.enabled&&(c.hours=l("hours"),c.minutes=l("minutes"),c.seconds=l("seconds"))},{deep:!0});const a=le({get:()=>t.internalModelValue,set:m=>{!t.readonly&&!t.disabled&&e("update:internal-model-value",m)}}),f=le(()=>m=>s.value[m]?s.value[m].month:0),p=le(()=>m=>s.value[m]?s.value[m].year:0);return{calendars:s,time:c,modelValue:a,month:f,year:p,today:i}},rxe=(t,e)=>{const{defaultedMultiCalendars:n,defaultedMultiDates:r,defaultedHighlight:i,defaultedTz:s,propDates:l,defaultedRange:c}=el(e),{isDisabled:a}=P1(e),f=Te(null),p=Te(Am(new Date,s.value.timezone)),m=oe=>{!oe.current&&e.hideOffsetDates||(f.value=oe.value)},v=()=>{f.value=null},y=oe=>Array.isArray(t.value)&&c.value.enabled&&t.value[0]&&f.value?oe?Ml(f.value,t.value[0]):dl(f.value,t.value[0]):!0,T=(oe,_e)=>{const Ue=()=>t.value?_e?t.value[0]||null:t.value[1]:null,Le=t.value&&Array.isArray(t.value)?Ue():null;return is(xr(oe.value),Le)},C=oe=>{const _e=Array.isArray(t.value)?t.value[0]:null;return oe?!dl(f.value??null,_e):!0},k=(oe,_e=!0)=>(c.value.enabled||e.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?e.hideOffsetDates&&!oe.current?!1:is(xr(oe.value),t.value[_e?0:1]):c.value.enabled?T(oe,_e)&&C(_e)||is(oe.value,Array.isArray(t.value)?t.value[0]:null)&&y(_e):!1,M=(oe,_e)=>{if(Array.isArray(t.value)&&t.value[0]&&t.value.length===1){const Ue=is(oe.value,f.value);return _e?Ml(t.value[0],oe.value)&&Ue:dl(t.value[0],oe.value)&&Ue}return!1},P=oe=>!t.value||e.hideOffsetDates&&!oe.current?!1:c.value.enabled?e.modelAuto&&Array.isArray(t.value)?is(oe.value,t.value[0]?t.value[0]:p.value):!1:r.value.enabled&&Array.isArray(t.value)?t.value.some(_e=>is(_e,oe.value)):is(oe.value,t.value?t.value:p.value),R=oe=>{if(c.value.autoRange||e.weekPicker){if(f.value){if(e.hideOffsetDates&&!oe.current)return!1;const _e=jp(f.value,+c.value.autoRange),Ue=Hg(xr(f.value),e.weekStart);return e.weekPicker?is(Ue[1],xr(oe.value)):is(_e,xr(oe.value))}return!1}return!1},N=oe=>{if(c.value.autoRange||e.weekPicker){if(f.value){const _e=jp(f.value,+c.value.autoRange);if(e.hideOffsetDates&&!oe.current)return!1;const Ue=Hg(xr(f.value),e.weekStart);return e.weekPicker?Ml(oe.value,Ue[0])&&dl(oe.value,Ue[1]):Ml(oe.value,f.value)&&dl(oe.value,_e)}return!1}return!1},z=oe=>{if(c.value.autoRange||e.weekPicker){if(f.value){if(e.hideOffsetDates&&!oe.current)return!1;const _e=Hg(xr(f.value),e.weekStart);return e.weekPicker?is(_e[0],oe.value):is(f.value,oe.value)}return!1}return!1},H=oe=>NB(t.value,f.value,oe.value),j=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,Q=()=>e.modelAuto?xre(e.internalModelValue):!0,G=oe=>{if(e.weekPicker)return!1;const _e=c.value.enabled?!k(oe)&&!k(oe,!1):!0;return!a(oe.value)&&!P(oe)&&!(!oe.current&&e.hideOffsetDates)&&_e},ie=oe=>c.value.enabled?e.modelAuto?j()&&P(oe):!1:P(oe),q=oe=>i.value?bwe(oe.value,l.value.highlight):!1,W=oe=>{const _e=a(oe.value);return _e&&(typeof i.value=="function"?!i.value(oe.value,_e):!i.value.options.highlightDisabled)},ee=oe=>{var _e;return typeof i.value=="function"?i.value(oe.value):(_e=i.value.weekdays)==null?void 0:_e.includes(oe.value.getDay())},he=oe=>(c.value.enabled||e.weekPicker)&&(!(n.value.count>0)||oe.current)&&Q()&&!(!oe.current&&e.hideOffsetDates)&&!P(oe)?H(oe):!1,J=oe=>{const{isRangeStart:_e,isRangeEnd:Ue}=ue(oe),Le=c.value.enabled?_e||Ue:!1;return{dp__cell_offset:!oe.current,dp__pointer:!e.disabled&&!(!oe.current&&e.hideOffsetDates)&&!a(oe.value),dp__cell_disabled:a(oe.value),dp__cell_highlight:!W(oe)&&(q(oe)||ee(oe))&&!ie(oe)&&!Le&&!z(oe)&&!(he(oe)&&e.weekPicker)&&!Ue,dp__cell_highlight_active:!W(oe)&&(q(oe)||ee(oe))&&ie(oe),dp__today:!e.noToday&&is(oe.value,p.value)&&oe.current,"dp--past":dl(oe.value,p.value),"dp--future":Ml(oe.value,p.value)}},te=oe=>({dp__active_date:ie(oe),dp__date_hover:G(oe)}),ne=oe=>{if(t.value&&!Array.isArray(t.value)){const _e=Hg(t.value,e.weekStart);return{...Ee(oe),dp__range_start:is(_e[0],oe.value),dp__range_end:is(_e[1],oe.value),dp__range_between_week:Ml(oe.value,_e[0])&&dl(oe.value,_e[1])}}return{...Ee(oe)}},ce=oe=>{if(t.value&&Array.isArray(t.value)){const _e=Hg(t.value[0],e.weekStart),Ue=t.value[1]?Hg(t.value[1],e.weekStart):[];return{...Ee(oe),dp__range_start:is(_e[0],oe.value)||is(Ue[0],oe.value),dp__range_end:is(_e[1],oe.value)||is(Ue[1],oe.value),dp__range_between_week:Ml(oe.value,_e[0])&&dl(oe.value,_e[1])||Ml(oe.value,Ue[0])&&dl(oe.value,Ue[1]),dp__range_between:Ml(oe.value,_e[1])&&dl(oe.value,Ue[0])}}return{...Ee(oe)}},ue=oe=>{const _e=n.value.count>0?oe.current&&k(oe)&&Q():k(oe)&&Q(),Ue=n.value.count>0?oe.current&&k(oe,!1)&&Q():k(oe,!1)&&Q();return{isRangeStart:_e,isRangeEnd:Ue}},ye=oe=>{const{isRangeStart:_e,isRangeEnd:Ue}=ue(oe);return{dp__range_start:_e,dp__range_end:Ue,dp__range_between:he(oe),dp__date_hover:is(oe.value,f.value)&&!_e&&!Ue&&!e.weekPicker,dp__date_hover_start:M(oe,!0),dp__date_hover_end:M(oe,!1)}},Ee=oe=>({...ye(oe),dp__cell_auto_range:N(oe),dp__cell_auto_range_start:z(oe),dp__cell_auto_range_end:R(oe)}),se=oe=>c.value.enabled?c.value.autoRange?Ee(oe):e.modelAuto?{...te(oe),...ye(oe)}:e.weekPicker?ce(oe):ye(oe):e.weekPicker?ne(oe):te(oe);return{setHoverDate:m,clearHoverDate:v,getDayClassData:oe=>e.hideOffsetDates&&!oe.current?{}:{...J(oe),...se(oe),[e.dayClass?e.dayClass(oe.value,e.internalModelValue):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName}}},P1=t=>{const{defaultedFilters:e,defaultedRange:n,propDates:r,defaultedMultiDates:i}=el(t),s=W=>r.value.disabledDates?typeof r.value.disabledDates=="function"?r.value.disabledDates(xr(W)):!!u8(W,r.value.disabledDates):!1,l=W=>{const ee=r.value.maxDate?Ml(W,r.value.maxDate):!1,he=r.value.minDate?dl(W,r.value.minDate):!1,J=s(W),te=e.value.months.map(Ee=>+Ee).includes(Ja(W)),ne=t.disabledWeekDays.length?t.disabledWeekDays.some(Ee=>+Ee===lbe(W)):!1,ce=m(W),ue=Da(W),ye=ue<+t.yearRange[0]||ue>+t.yearRange[1];return!(ee||he||J||te||ye||ne||ce)},c=(W,ee)=>dl(...$v(r.value.minDate,W,ee))||is(...$v(r.value.minDate,W,ee)),a=(W,ee)=>Ml(...$v(r.value.maxDate,W,ee))||is(...$v(r.value.maxDate,W,ee)),f=(W,ee,he)=>{let J=!1;return r.value.maxDate&&he&&a(W,ee)&&(J=!0),r.value.minDate&&!he&&c(W,ee)&&(J=!0),J},p=(W,ee,he,J)=>{let te=!1;return J?r.value.minDate&&r.value.maxDate?te=f(W,ee,he):(r.value.minDate&&c(W,ee)||r.value.maxDate&&a(W,ee))&&(te=!0):te=!0,te},m=W=>Array.isArray(r.value.allowedDates)&&!r.value.allowedDates.length?!0:r.value.allowedDates?!u8(W,r.value.allowedDates):!1,v=W=>!l(W),y=W=>n.value.noDisabledRange?!sre({start:W[0],end:W[1]}).some(ee=>v(ee)):!0,T=W=>{if(W){const ee=Da(W);return ee>=+t.yearRange[0]&&ee<=t.yearRange[1]}return!0},C=(W,ee)=>!!(Array.isArray(W)&&W[ee]&&(n.value.maxRange||n.value.minRange)&&T(W[ee])),k=(W,ee,he=0)=>{if(C(ee,he)&&T(W)){const J=ire(W,ee[he]),te=Bre(ee[he],W),ne=te.length===1?0:te.filter(ue=>v(ue)).length,ce=Math.abs(J)-(n.value.minMaxRawRange?0:ne);if(n.value.minRange&&n.value.maxRange)return ce>=+n.value.minRange&&ce<=+n.value.maxRange;if(n.value.minRange)return ce>=+n.value.minRange;if(n.value.maxRange)return ce<=+n.value.maxRange}return!0},M=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,P=W=>Array.isArray(W)?[W[0]?uk(W[0]):null,W[1]?uk(W[1]):null]:uk(W),R=(W,ee,he)=>W.find(J=>+J.hours===s0(ee)&&J.minutes==="*"?!0:+J.minutes===u1(ee)&&+J.hours===s0(ee))&&he,N=(W,ee,he)=>{const[J,te]=W,[ne,ce]=ee;return!R(J,ne,he)&&!R(te,ce,he)&&he},z=(W,ee)=>{const he=Array.isArray(ee)?ee:[ee];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?N(t.disabledTimes,he,W):!he.some(J=>R(t.disabledTimes,J,W)):W},H=(W,ee)=>{const he=Array.isArray(ee)?[ay(ee[0]),ee[1]?ay(ee[1]):void 0]:ay(ee),J=!t.disabledTimes(he);return W&&J},j=(W,ee)=>t.disabledTimes?Array.isArray(t.disabledTimes)?z(ee,W):H(ee,W):ee,Q=W=>{let ee=!0;if(!W||M())return!0;const he=!r.value.minDate&&!r.value.maxDate?P(W):W;return(t.maxTime||r.value.maxDate)&&(ee=ZG(t.maxTime,r.value.maxDate,"max",$u(he),ee)),(t.minTime||r.value.minDate)&&(ee=ZG(t.minTime,r.value.minDate,"min",$u(he),ee)),j(W,ee)},G=W=>{if(!t.monthPicker)return!0;let ee=!0;const he=xr(Gp(W));if(r.value.minDate&&r.value.maxDate){const J=xr(Gp(r.value.minDate)),te=xr(Gp(r.value.maxDate));return Ml(he,J)&&dl(he,te)||is(he,J)||is(he,te)}if(r.value.minDate){const J=xr(Gp(r.value.minDate));ee=Ml(he,J)||is(he,J)}if(r.value.maxDate){const J=xr(Gp(r.value.maxDate));ee=dl(he,J)||is(he,J)}return ee},ie=le(()=>W=>!t.enableTimePicker||t.ignoreTimeValidation?!0:Q(W)),q=le(()=>W=>t.monthPicker?Array.isArray(W)&&(n.value.enabled||i.value.enabled)?!W.filter(ee=>!G(ee)).length:G(W):!0);return{isDisabled:v,validateDate:l,validateMonthYearInRange:p,isDateRangeAllowed:y,checkMinMaxRange:k,isValidTime:Q,isTimeValid:ie,isMonthValid:q}},VB=()=>{const t=le(()=>(r,i)=>r==null?void 0:r.includes(i)),e=le(()=>(r,i)=>r.count?r.solo?!0:i===0:!0),n=le(()=>(r,i)=>r.count?r.solo?!0:i===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:e,showRightIcon:n}},ixe=(t,e,n)=>{const r=Te(0),i=ha({[iy.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[iy.calendar]:!1,[iy.header]:!1}),s=le(()=>t.monthPicker||t.timePicker),l=m=>{var v;if((v=t.flow)!=null&&v.length){if(!m&&s.value)return p();i[m]=!0,Object.keys(i).filter(y=>!i[y]).length||p()}},c=()=>{var m,v;(m=t.flow)!=null&&m.length&&r.value!==-1&&(r.value+=1,e("flow-step",r.value),p()),((v=t.flow)==null?void 0:v.length)===r.value&&dr().then(()=>a())},a=()=>{r.value=-1},f=(m,v,...y)=>{var T,C;t.flow[r.value]===m&&n.value&&((C=(T=n.value)[v])==null||C.call(T,...y))},p=(m=0)=>{m&&(r.value+=m),f(Pc.month,"toggleMonthPicker",!0),f(Pc.year,"toggleYearPicker",!0),f(Pc.calendar,"toggleTimePicker",!1,!0),f(Pc.time,"toggleTimePicker",!0,!0);const v=t.flow[r.value];(v===Pc.hours||v===Pc.minutes||v===Pc.seconds)&&f(v,"toggleTimePicker",!0,!0,v)};return{childMount:l,updateFlowStep:c,resetFlow:a,handleFlow:p,flowStep:r}},axe={key:1,class:"dp__input_wrap"},sxe=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],oxe={key:2,class:"dp__clear_icon"},lxe=Be({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...UB},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTextInput:s,defaultedAriaLabels:l,defaultedInline:c,defaultedConfig:a,defaultedRange:f,defaultedMultiDates:p,getDefaultPattern:m,getDefaultStartTime:v}=el(i),{checkMinMaxRange:y}=P1(i),T=Te(),C=Te(null),k=Te(!1),M=Te(!1),P=le(()=>({dp__pointer:!i.disabled&&!i.readonly&&!s.value.enabled,dp__disabled:i.disabled,dp__input_readonly:!s.value.enabled,dp__input:!0,dp__input_icon_pad:!i.hideInputIcon,dp__input_valid:!!i.state,dp__input_invalid:i.state===!1,dp__input_focus:k.value||i.isMenuOpen,dp__input_reg:!s.value.enabled,[i.inputClassName]:!!i.inputClassName})),R=()=>{r("set-input-date",null),i.clearable&&i.autoApply&&(r("set-empty-date"),T.value=null)},N=te=>{const ne=v();return wwe(te,s.value.format??m(),ne??Mre({},i.enableSeconds),i.inputValue,M.value,i.formatLocale)},z=te=>{const{rangeSeparator:ne}=s.value,[ce,ue]=te.split(`${ne}`);if(ce){const ye=N(ce.trim()),Ee=ue?N(ue.trim()):null;if(v2(ye,Ee))return;const se=ye&&Ee?[ye,Ee]:[ye];y(Ee,se,0)&&(T.value=ye?se:null)}},H=()=>{M.value=!0},j=te=>{if(f.value.enabled)z(te);else if(p.value.enabled){const ne=te.split(";");T.value=ne.map(ce=>N(ce.trim())).filter(ce=>ce)}else T.value=N(te)},Q=te=>{var ne;const ce=typeof te=="string"?te:(ne=te.target)==null?void 0:ne.value;ce!==""?(s.value.openMenu&&!i.isMenuOpen&&r("open"),j(ce),r("set-input-date",T.value)):R(),M.value=!1,r("update:input-value",ce)},G=te=>{s.value.enabled?(j(te.target.value),s.value.enterSubmit&&gR(T.value)&&i.inputValue!==""?(r("set-input-date",T.value,!0),T.value=null):s.value.enterSubmit&&i.inputValue===""&&(T.value=null,r("clear"))):W(te)},ie=te=>{s.value.enabled&&s.value.tabSubmit&&j(te.target.value),s.value.tabSubmit&&gR(T.value)&&i.inputValue!==""?(r("set-input-date",T.value,!0,!0),T.value=null):s.value.tabSubmit&&i.inputValue===""&&(T.value=null,r("clear",!0))},q=()=>{k.value=!0,r("focus"),dr().then(()=>{var te;s.value.enabled&&s.value.selectOnFocus&&((te=C.value)==null||te.select())})},W=te=>{te.preventDefault(),t1(te,a.value,!0),s.value.enabled&&s.value.openMenu&&!c.value.input&&!i.isMenuOpen?r("open"):s.value.enabled||r("toggle")},ee=()=>{r("real-blur"),k.value=!1,(!i.isMenuOpen||c.value.enabled&&c.value.input)&&r("blur"),i.autoApply&&s.value.enabled&&T.value&&!i.isMenuOpen&&(r("set-input-date",T.value),r("select-date"),T.value=null)},he=te=>{t1(te,a.value,!0),r("clear")},J=te=>{if(te.key==="Tab"&&ie(te),te.key==="Enter"&&G(te),!s.value.enabled){if(te.code==="Tab")return;te.preventDefault()}};return e({focusInput:()=>{var te;(te=C.value)==null||te.focus({preventScroll:!0})},setParsedDate:te=>{T.value=te}}),(te,ne)=>{var ce;return X(),ve("div",{onClick:W},[te.$slots.trigger&&!te.$slots["dp-input"]&&!S(c).enabled?Ft(te.$slots,"trigger",{key:0}):bt("",!0),!te.$slots.trigger&&(!S(c).enabled||S(c).input)?(X(),ve("div",axe,[te.$slots["dp-input"]&&!te.$slots.trigger&&(!S(c).enabled||S(c).enabled&&S(c).input)?Ft(te.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:Q,onEnter:G,onTab:ie,onClear:he,onBlur:ee,onKeypress:J,onPaste:H,onFocus:q,openMenu:()=>te.$emit("open"),closeMenu:()=>te.$emit("close"),toggleMenu:()=>te.$emit("toggle")}):bt("",!0),te.$slots["dp-input"]?bt("",!0):(X(),ve("input",{key:1,id:te.uid?`dp-input-${te.uid}`:void 0,ref_key:"inputRef",ref:C,"data-test":"dp-input",name:te.name,class:Se(P.value),inputmode:S(s).enabled?"text":"none",placeholder:te.placeholder,disabled:te.disabled,readonly:te.readonly,required:te.required,value:t.inputValue,autocomplete:te.autocomplete,"aria-label":(ce=S(l))==null?void 0:ce.input,"aria-disabled":te.disabled||void 0,"aria-invalid":te.state===!1?!0:void 0,onInput:Q,onBlur:ee,onFocus:q,onKeypress:J,onKeydown:J,onPaste:H},null,42,sxe)),pe("div",{onClick:ne[2]||(ne[2]=ue=>r("toggle"))},[te.$slots["input-icon"]&&!te.hideInputIcon?(X(),ve("span",{key:0,class:"dp__input_icon",onClick:ne[0]||(ne[0]=ue=>r("toggle"))},[Ft(te.$slots,"input-icon")])):bt("",!0),!te.$slots["input-icon"]&&!te.hideInputIcon&&!te.$slots["dp-input"]?(X(),Ut(S(Z2),{key:1,class:"dp__input_icon dp__input_icons",onClick:ne[1]||(ne[1]=ue=>r("toggle"))})):bt("",!0)]),te.$slots["clear-icon"]&&t.inputValue&&te.clearable&&!te.disabled&&!te.readonly?(X(),ve("span",oxe,[Ft(te.$slots,"clear-icon",{clear:he})])):bt("",!0),te.clearable&&!te.$slots["clear-icon"]&&t.inputValue&&!te.disabled&&!te.readonly?(X(),Ut(S(bre),{key:3,class:"dp__clear_icon dp__input_icons","data-test":"clear-icon",onClick:ne[3]||(ne[3]=Pr(ue=>he(ue),["prevent"]))})):bt("",!0)])):bt("",!0)])}}}),uxe=typeof window<"u"?window:void 0,Ak=()=>{},cxe=t=>WN()?(qN(t),!0):!1,hxe=(t,e,n,r)=>{if(!t)return Ak;let i=Ak;const s=ln(()=>S(t),c=>{i(),c&&(c.addEventListener(e,n,r),i=()=>{c.removeEventListener(e,n,r),i=Ak})},{immediate:!0,flush:"post"}),l=()=>{s(),i()};return cxe(l),l},dxe=(t,e,n,r={})=>{const{window:i=uxe,event:s="pointerdown"}=r;return i?hxe(i,s,l=>{const c=yu(t),a=yu(e);!c||!a||c===l.target||l.composedPath().includes(c)||l.composedPath().includes(a)||n(l)},{passive:!0}):void 0},fxe=Be({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...UB},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=To(),l=Te(!1),c=Na(i,"modelValue"),a=Na(i,"timezone"),f=Te(null),p=Te(null),m=Te(null),v=Te(!1),y=Te(null),T=Te(!1),C=Te(!1),k=Te(!1),{setMenuFocused:M,setShiftKey:P}=Fre(),{clearArrowNav:R}=k1(),{validateDate:N,isValidTime:z}=P1(i),{defaultedTransitions:H,defaultedTextInput:j,defaultedInline:Q,defaultedConfig:G,defaultedRange:ie,defaultedMultiDates:q}=el(i),{menuTransition:W,showTransition:ee}=u5(H);Fr(()=>{_e(i.modelValue),dr().then(()=>{if(!Q.value.enabled){const St=ye(y.value);St==null||St.addEventListener("scroll",Ge),window==null||window.addEventListener("resize",Ne)}}),Q.value.enabled&&(l.value=!0),window==null||window.addEventListener("keyup",je),window==null||window.addEventListener("keydown",Ye)}),Hf(()=>{if(!Q.value.enabled){const St=ye(y.value);St==null||St.removeEventListener("scroll",Ge),window==null||window.removeEventListener("resize",Ne)}window==null||window.removeEventListener("keyup",je),window==null||window.removeEventListener("keydown",Ye)});const he=zd(s,"all",i.presetDates),J=zd(s,"input");ln([c,a],()=>{_e(c.value)},{deep:!0});const{openOnTop:te,menuStyle:ne,xCorrect:ce,setMenuPosition:ue,getScrollableParent:ye,shadowRender:Ee}=exe({menuRef:f,menuRefInner:p,inputRef:m,pickerWrapperRef:y,inline:Q,emit:r,props:i,slots:s}),{inputValue:se,internalModelValue:oe,parseExternalModelValue:_e,emitModelValue:Ue,formatInputValue:Le,checkBeforeEmit:be}=jwe(r,i,v),Re=le(()=>({dp__main:!0,dp__theme_dark:i.dark,dp__theme_light:!i.dark,dp__flex_display:Q.value.enabled,"dp--flex-display-collapsed":k.value,dp__flex_display_with_input:Q.value.input})),Qe=le(()=>i.dark?"dp__theme_dark":"dp__theme_light"),Je=le(()=>i.teleport?{to:typeof i.teleport=="boolean"?"body":i.teleport,disabled:!i.teleport||Q.value.enabled}:{}),nt=le(()=>({class:"dp__outer_menu_wrap"})),Ve=le(()=>Q.value.enabled&&(i.timePicker||i.monthPicker||i.yearPicker||i.quarterPicker)),ke=()=>{var St,sn;return(sn=(St=m.value)==null?void 0:St.$el)==null?void 0:sn.getBoundingClientRect()},Ge=()=>{l.value&&(G.value.closeOnScroll?wt():ue())},Ne=()=>{var St;l.value&&ue();const sn=(St=p.value)==null?void 0:St.$el.getBoundingClientRect().width;k.value=document.body.offsetWidth<=sn},je=St=>{St.key==="Tab"&&!Q.value.enabled&&!i.teleport&&G.value.tabOutClosesMenu&&(y.value.contains(document.activeElement)||wt()),C.value=St.shiftKey},Ye=St=>{C.value=St.shiftKey},vt=()=>{!i.disabled&&!i.readonly&&(Ee(nK,i),ue(!1),l.value=!0,l.value&&r("open"),l.value||Nt(),_e(i.modelValue))},Lt=()=>{var St;se.value="",Nt(),(St=m.value)==null||St.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),G.value.closeOnClearValue&&wt()},Et=()=>{const St=oe.value;return!St||!Array.isArray(St)&&N(St)?!0:Array.isArray(St)?q.value.enabled||St.length===2&&N(St[0])&&N(St[1])?!0:ie.value.partialRange&&!i.timePicker?N(St[0]):!1:!1},Vt=()=>{be()&&Et()?(Ue(),wt()):r("invalid-select",oe.value)},_t=St=>{qt(),Ue(),G.value.closeOnAutoApply&&!St&&wt()},qt=()=>{m.value&&j.value.enabled&&m.value.setParsedDate(oe.value)},tn=(St=!1)=>{i.autoApply&&z(oe.value)&&Et()&&(ie.value.enabled&&Array.isArray(oe.value)?(ie.value.partialRange||oe.value.length===2)&&_t(St):_t(St))},Nt=()=>{j.value.enabled||(oe.value=null)},wt=()=>{Q.value.enabled||(l.value&&(l.value=!1,ce.value=!1,M(!1),P(!1),R(),r("closed"),se.value&&_e(c.value)),Nt(),r("blur"))},De=(St,sn,bn=!1)=>{if(!St){oe.value=null;return}const gr=Array.isArray(St)?!St.some(Nn=>!N(Nn)):N(St),tr=z(St);gr&&tr&&(oe.value=St,sn&&(T.value=bn,Vt(),r("text-submit")))},We=()=>{i.autoApply&&z(oe.value)&&Ue(),qt()},ut=()=>l.value?wt():vt(),It=St=>{oe.value=St},Xe=()=>{j.value.enabled&&(v.value=!0,Le()),r("focus")},kt=()=>{if(j.value.enabled&&(v.value=!1,_e(i.modelValue),T.value)){const St=_we(y.value,C.value);St==null||St.focus()}r("blur")},Bt=St=>{p.value&&p.value.updateMonthYear(0,{month:qG(St.month),year:qG(St.year)})},it=St=>{_e(St??i.modelValue)},Mt=(St,sn)=>{var bn;(bn=p.value)==null||bn.switchView(St,sn)},at=St=>G.value.onClickOutside?G.value.onClickOutside(St):wt(),et=(St=0)=>{var sn;(sn=p.value)==null||sn.handleFlow(St)};return dxe(f,m,()=>at(Et)),e({closeMenu:wt,selectDate:Vt,clearValue:Lt,openMenu:vt,onScroll:Ge,formatInputValue:Le,updateInternalModelValue:It,setMonthYear:Bt,parseModel:it,switchView:Mt,toggleMenu:ut,handleFlow:et}),(St,sn)=>(X(),ve("div",{ref_key:"pickerWrapperRef",ref:y,class:Se(Re.value),"data-datepicker-instance":""},[ht(lxe,Xr({ref_key:"inputRef",ref:m,"input-value":S(se),"onUpdate:inputValue":sn[0]||(sn[0]=bn=>fs(se)?se.value=bn:null),"is-menu-open":l.value},St.$props,{onClear:Lt,onOpen:vt,onSetInputDate:De,onSetEmptyDate:S(Ue),onSelectDate:Vt,onToggle:ut,onClose:wt,onFocus:Xe,onBlur:kt,onRealBlur:sn[1]||(sn[1]=bn=>v.value=!1)}),Uo({_:2},[Yr(S(J),(bn,gr)=>({name:bn,fn:xt(tr=>[Ft(St.$slots,bn,ho(ou(tr)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(X(),Ut(fi(St.teleport?Ny:"div"),ho(ou(Je.value)),{default:xt(()=>[ht(fo,{name:S(W)(S(te)),css:S(ee)&&!S(Q).enabled},{default:xt(()=>[l.value?(X(),ve("div",Xr({key:0,ref_key:"dpWrapMenuRef",ref:f},nt.value,{class:{"dp--menu-wrapper":!S(Q).enabled},style:S(Q).enabled?void 0:S(ne)}),[ht(nK,Xr({ref_key:"dpMenuRef",ref:p},St.$props,{"internal-model-value":S(oe),"onUpdate:internalModelValue":sn[2]||(sn[2]=bn=>fs(oe)?oe.value=bn:null),class:{[Qe.value]:!0,"dp--menu-wrapper":St.teleport},"open-on-top":S(te),"no-overlay-focus":Ve.value,collapse:k.value,"get-input-rect":ke,onClosePicker:wt,onSelectDate:Vt,onAutoApply:tn,onTimeUpdate:We,onFlowStep:sn[3]||(sn[3]=bn=>St.$emit("flow-step",bn)),onUpdateMonthYear:sn[4]||(sn[4]=bn=>St.$emit("update-month-year",bn)),onInvalidSelect:sn[5]||(sn[5]=bn=>St.$emit("invalid-select",S(oe))),onAutoApplyInvalid:sn[6]||(sn[6]=bn=>St.$emit("invalid-select",bn)),onInvalidFixedRange:sn[7]||(sn[7]=bn=>St.$emit("invalid-fixed-range",bn)),onRecalculatePosition:S(ue),onTooltipOpen:sn[8]||(sn[8]=bn=>St.$emit("tooltip-open",bn)),onTooltipClose:sn[9]||(sn[9]=bn=>St.$emit("tooltip-close",bn)),onTimePickerOpen:sn[10]||(sn[10]=bn=>St.$emit("time-picker-open",bn)),onTimePickerClose:sn[11]||(sn[11]=bn=>St.$emit("time-picker-close",bn)),onAmPmChange:sn[12]||(sn[12]=bn=>St.$emit("am-pm-change",bn)),onRangeStart:sn[13]||(sn[13]=bn=>St.$emit("range-start",bn)),onRangeEnd:sn[14]||(sn[14]=bn=>St.$emit("range-end",bn)),onDateUpdate:sn[15]||(sn[15]=bn=>St.$emit("date-update",bn)),onInvalidDate:sn[16]||(sn[16]=bn=>St.$emit("invalid-date",bn)),onOverlayToggle:sn[17]||(sn[17]=bn=>St.$emit("overlay-toggle",bn))}),Uo({_:2},[Yr(S(he),(bn,gr)=>({name:bn,fn:xt(tr=>[Ft(St.$slots,bn,ho(ou({...tr})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","onRecalculatePosition"])],16)):bt("",!0)]),_:3},8,["name","css"])]),_:3},16))],2))}}),R9=(()=>{const t=fxe;return t.install=e=>{e.component("Vue3DatePicker",t)},t})(),pxe=Object.freeze(Object.defineProperty({__proto__:null,default:R9},Symbol.toStringTag,{value:"Module"}));Object.entries(pxe).forEach(([t,e])=>{t!=="default"&&(R9[t]=e)});const h5=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},Axe={class:"daterangepicker"},mxe={class:"sidebar"},gxe={__name:"VueDatePicker",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(t){const e=Une(t,"modelValue");if(!e.value||e.value.length===0){const s=new Date,l=new Date(new Date().setDate(s.getDate()-7));e.value=[l,s]}const n=()=>{const s=new Date,l=new Date(new Date().setHours(s.getHours()-1));e.value=[l,s]},r=()=>{const s=new Date,l=new Date(new Date().setDate(s.getDate()-1));e.value=[l,s]},i=()=>{const s=new Date,l=new Date(new Date().setDate(s.getDate()-7));e.value=[l,s]};return(s,l)=>(X(),ve("div",Axe,[ht(S(R9),{modelValue:e.value,"onUpdate:modelValue":l[3]||(l[3]=c=>e.value=c),teleport:!0,range:""},{"right-sidebar":xt(()=>[pe("div",mxe,[pe("div",{class:"sidebar-div",onClick:l[0]||(l[0]=c=>n())},"Last Hour"),pe("div",{class:"sidebar-div",onClick:l[1]||(l[1]=c=>r())},"Last Day"),pe("div",{class:"sidebar-div",onClick:l[2]||(l[2]=c=>i())},"Last Week")])]),_:1},8,["modelValue"])]))}},rK=h5(gxe,[["__scopeId","data-v-b97e0de4"]]),vxe={class:"block"},_xe=Be({__name:"ElementDateTimePicker",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(t){const e=Une(t,"modelValue");if(!e.value||e.value.length===0){const r=new Date,i=new Date(new Date().setDate(r.getDate()-7));e.value=[i,r]}const n=[{text:"Last day",value:()=>{const r=new Date,i=new Date;return i.setDate(i.getDate()-1),[i,r]}},{text:"Last week",value:()=>{const r=new Date,i=new Date;return i.setDate(i.getDate()-7),[i,r]}},{text:"Last month",value:()=>{const r=new Date,i=new Date;return i.setMonth(i.getMonth()-1),[i,r]}},{text:"Last 3 months",value:()=>{const r=new Date,i=new Date;return i.setMonth(i.getMonth()-3),[i,r]}}];return(r,i)=>{const s=Kr("el-date-picker");return X(),ve("div",vxe,[ht(s,{modelValue:e.value,"onUpdate:modelValue":i[0]||(i[0]=l=>e.value=l),type:"datetimerange",shortcuts:n,"range-separator":"To","start-placeholder":"Start date","end-placeholder":"End date"},null,8,["modelValue"])])}}}),yxe=h5(_xe,[["__scopeId","data-v-52fbece3"]]),bxe={__name:"GeoJSONConverter",props:{data:{type:Object,required:!0,default:{}}},setup(t,{expose:e}){const n=t,r=Te({}),i=s=>{if(Object.keys(s).length>0){const l=s.data,c=[...l].sort((v,y)=>new Date(v.isodatetime)-new Date(y.isodatetime)),a=c.map(v=>({type:"Feature",properties:{name:v.id_short,conf:v.conf,status:v.status,TimeStamp:v.isodatetime,statusCode:v.statusCode},geometry:{type:"Point",coordinates:[v.longitude,v.latitude]}})),f=new Map,p=new Set([...l].map(v=>v.id_short));for(const v of p){const y=c.filter(T=>T.id_short==v).map(T=>[T.longitude,T.latitude]);y.length>1&&f.set(v,y)}const m=Array.from(f,([v,y])=>({type:"Feature",properties:{name:v},geometry:{type:"LineString",coordinates:y,direction:"forward","arrow-symbol":"triangle"}}));r.value={type:"FeatureCollection",features:[...a,...m]}}};return Fr(()=>{ln(()=>n.data,s=>{Object.keys(s).length>0&&i(s)},{immediate:!0})}),e({convertToGeoJson:i,geoJsonData:r}),(s,l)=>null}},wxe={__name:"DataHandler",props:{payload:{type:Object,default:{}}},setup(t,{expose:e}){const n=Te(null),r=Te(!0),i=Te(null),s=Te(),l=Te(null),c=async a=>{const f={id_short:a.id_short,dateTimeRange:{start:a.dateTimeRange[0],end:a.dateTimeRange[1]},mode:a.mode};try{const p=await fetch("https://fmt.geeek.cf/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!p.ok)throw new Error(`Error: ${p.statusText}`);const m=await p.json();return m&&(s.value=m),m}catch(p){i.value=p.message}finally{r.value=!1}};return Fr(async()=>{ln(()=>n.value.geoJsonData,a=>{a&&(l.value=n.value.geoJsonData)},{immediate:!0})}),e({fetchData:c,exposedData:l}),(a,f)=>(X(),Ut(bxe,{data:s.value,ref_key:"Geojsondata",ref:n},null,8,["data"]))}},O9=h5(wxe,[["__scopeId","data-v-c7e2d3ce"]]),xxe={__name:"localStorage",props:{data:{type:Object,required:!0,default:{}}},setup(t){const n=t.data;return ln(()=>n,r=>{const i=Array.from(r.data);localStorage.setItem("items",i.join(","))},{deep:!0}),(r,i)=>null}},$re=t=>(E1e("data-v-28ce473c"),t=t(),S1e(),t),Cxe={class:"main-layout-wrapper"},Exe={class:"main-layout"},Sxe={id:"ButtomDrawer",style:{flex:"auto"}},Txe={class:"container",style:{"max-width":"600px"}},Bxe=$re(()=>pe("span",{class:"hide-small",style:{"vertical-align":"middle"}}," Add ",-1)),Mxe=$re(()=>pe("span",{class:"hide-small",style:{"vertical-align":"middle"}}," Clear ",-1)),Ixe={__name:"MainPanel",emits:["submit","addHeatMap","realtime"],setup(t,{emit:e}){const n=Te(!1),r=Te("btt"),i=Te([]),s=Te({}),l=Te([]),c=Te(""),a=Te(null),f=Te({}),p=Te([]),m=ha({id_short:[],dateTimeRange:{start:"",end:""},mode:""}),v=e,y=()=>{m.id_short.length>0&&Array.from(m.dateTimeRange).length>1&&v("submit",m)},T=()=>{m.id_short.length>0&&Array.from(m.dateTimeRange).length>1&&v("addHeatMap",m)},C=()=>{m.id_short.length>0&&v("realtime",m)},k=()=>{l.value=[]};return Fr(()=>{if(m.dateTimeRange=i.value,localStorage.getItem("items")){const P=localStorage.getItem("items").split(",");p.value=P}ln(()=>i.value,M=>{m.dateTimeRange=M,s.value=M}),ln(()=>m,M=>{s.value=M},{deep:!0}),ln(l,M=>{m.id_short=Array.from(M),f.value.data=M})}),(M,P)=>{const R=Kr("el-button"),N=Kr("el-input"),z=Kr("el-col"),H=Kr("CirclePlus"),j=Kr("el-icon"),Q=Kr("el-row"),G=Kr("el-form-item"),ie=Kr("el-option"),q=Kr("el-select"),W=Kr("CircleClose"),ee=Kr("el-form"),he=Kr("el-drawer");return X(),ve(Vn,null,[pe("div",Cxe,[pe("div",Exe,[ht(rK,{modelValue:i.value,"onUpdate:modelValue":P[0]||(P[0]=J=>i.value=J),range:"",class:"VueDatePicker"},null,8,["modelValue"])]),ht(R,{class:"drawer-button",type:"primary",onClick:P[1]||(P[1]=J=>n.value=!0)},{default:xt(()=>[xi("Data Select")]),_:1}),ht(O9,{payload:s.value,ref_key:"DataHandlerRef",ref:a},null,8,["payload"]),ht(xxe,{data:f.value},null,8,["data"])]),ht(he,{modelValue:n.value,"onUpdate:modelValue":P[6]||(P[6]=J=>n.value=J),title:"Data select",direction:r.value,"with-header":!0,size:"60%"},{default:xt(()=>[pe("div",Sxe,[pe("div",Txe,[ht(ee,{model:m,"label-width":"auto"},{default:xt(()=>[ht(G,{label:"itemID"},{default:xt(()=>[ht(Q,{gutter:20},{default:xt(()=>[ht(z,{span:18},{default:xt(()=>[ht(N,{style:{width:"200px"},modelValue:c.value,"onUpdate:modelValue":P[2]||(P[2]=J=>c.value=J)},null,8,["modelValue"])]),_:1}),ht(z,{span:6},{default:xt(()=>[ht(R,{type:"primary"},{default:xt(()=>[ht(j,{style:{"vertical-align":"middle"}},{default:xt(()=>[ht(H)]),_:1}),Bxe]),_:1})]),_:1})]),_:1})]),_:1}),ht(G,{label:"Items select"},{default:xt(()=>[ht(Q,{gutter:20},{default:xt(()=>[ht(z,{span:18},{default:xt(()=>[ht(q,{modelValue:l.value,"onUpdate:modelValue":P[3]||(P[3]=J=>l.value=J),multiple:"",filterable:"","allow-create":"","default-first-option":"","reserve-keyword":!1,placeholder:"Choose your items",style:{"min-width":"200px"}},{default:xt(()=>[(X(!0),ve(Vn,null,Yr(p.value,J=>(X(),Ut(ie,{key:J,label:J,value:J},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),ht(z,{span:6},{default:xt(()=>[ht(R,{onClick:k,type:"primary"},{default:xt(()=>[ht(j,{style:{"vertical-align":"middle"}},{default:xt(()=>[ht(W)]),_:1}),Mxe]),_:1})]),_:1})]),_:1})]),_:1}),ht(G,{label:"Activity time",style:{"max-width":"600px"}},{default:xt(()=>[ht(z,{span:24},{default:xt(()=>[ht(yxe,{class:"responsive-component",modelValue:i.value,"onUpdate:modelValue":P[4]||(P[4]=J=>i.value=J)},null,8,["modelValue"]),ht(rK,{class:"responsive-component-display",modelValue:i.value,"onUpdate:modelValue":P[5]||(P[5]=J=>i.value=J),range:""},null,8,["modelValue"])]),_:1})]),_:1}),ht(G,null,{default:xt(()=>[ht(R,{type:"primary",onClick:y},{default:xt(()=>[xi("Get Data")]),_:1}),ht(R,{type:"primary",onClick:T},{default:xt(()=>[xi("HeatMap")]),_:1}),ht(R,{type:"primary",onClick:C},{default:xt(()=>[xi("RealTime")]),_:1})]),_:1})]),_:1},8,["model"])])])]),_:1},8,["modelValue","direction"])],64)}}},Lxe=h5(Ixe,[["__scopeId","data-v-28ce473c"]]);var Fm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Vre={exports:{}};(function(t,e){var n={VITE_MAPBOX_ACCESS_TOKEN:"pk.eyJ1IjoiZ2Vla2NhdCIsImEiOiJjbHc5ZTJ6dmIwMTEyMmpudGowMXk5Y3o2In0.HDxYFBSNCpbYan731GLJEw"};(function(r,i){t.exports=i()})(Fm,function(){var r,i,s;function l(a,f){if(!r)r=f;else if(!i)i=f;else{var p="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+r+")(sharedChunk); ("+i+")(sharedChunk); self.onerror = null;",m={};r(m),s=f(m),typeof window<"u"&&window&&window.URL&&window.URL.createObjectURL&&(s.workerUrl=window.URL.createObjectURL(new Blob([p],{type:"text/javascript"})))}}l(["exports"],function(a){var f="3.3.0";let p;const m={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(p==null){const u=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{p=n.API_URL_REGEX!=null?new RegExp(n.API_URL_REGEX):u}catch{p=u}}return p},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){if(!m.API_URL)return null;try{const u=new URL(m.API_URL);return u.hostname==="api.mapbox.cn"?"https://events.mapbox.cn/events/v2":u.hostname==="api.mapbox.com"?"https://events.mapbox.com/events/v2":null}catch{return null}},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",RASTERARRAYS_URL_PREFIX:"rasterarrays/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,DEFAULT_STYLE:"mapbox://styles/mapbox/standard",MAX_PARALLEL_IMAGE_REQUESTS:16,DRACO_URL:"https://api.mapbox.com/mapbox-gl-js/draco_decoder_gltf_v1.5.6.wasm",MESHOPT_URL:"https://api.mapbox.com/mapbox-gl-js/meshopt_base_v0.20.wasm",MESHOPT_SIMD_URL:"https://api.mapbox.com/mapbox-gl-js/meshopt_simd_v0.20.wasm",GLYPHS_URL:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"};function v(u){return m.API_URL_REGEX.test(u)}function y(u){return u.indexOf("mapbox:")===0}function T(u){return m.API_CDN_URL_REGEX.test(u)}function C(u){return m.API_SPRITE_REGEX.test(u)}function k(u){return m.API_STYLE_REGEX.test(u)&&!C(u)}const M={create:"create",load:"load",fullLoad:"fullLoad"};function P(u){const o=u.name.split("?")[0];return T(o)&&o.includes("mapbox-gl.js")?"javascript":T(o)&&o.includes("mapbox-gl.css")?"css":function(h){return m.API_FONTS_REGEX.test(h)}(o)?"fontRange":C(o)?"sprite":k(o)?"style":function(h){return m.API_TILEJSON_REGEX.test(h)}(o)?"tilejson":"other"}function R(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var N=z;function z(u,o,h,A){this.cx=3*u,this.bx=3*(h-u)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*o,this.by=3*(A-o)-this.cy,this.ay=1-this.cy-this.by,this.p1x=u,this.p1y=o,this.p2x=h,this.p2y=A}z.prototype={sampleCurveX:function(u){return((this.ax*u+this.bx)*u+this.cx)*u},sampleCurveY:function(u){return((this.ay*u+this.by)*u+this.cy)*u},sampleCurveDerivativeX:function(u){return(3*this.ax*u+2*this.bx)*u+this.cx},solveCurveX:function(u,o){if(o===void 0&&(o=1e-6),u<0)return 0;if(u>1)return 1;for(var h=u,A=0;A<8;A++){var _=this.sampleCurveX(h)-u;if(Math.abs(_)<o)return h;var b=this.sampleCurveDerivativeX(h);if(Math.abs(b)<1e-6)break;h-=_/b}var E=0,I=1;for(h=u,A=0;A<20&&(_=this.sampleCurveX(h),!(Math.abs(_-u)<o));A++)u>_?E=h:I=h,h=.5*(I-E)+E;return h},solve:function(u,o){return this.sampleCurveY(this.solveCurveX(u,o))}};var H=R(N),j=Q;function Q(u,o){this.x=u,this.y=o}Q.prototype={clone:function(){return new Q(this.x,this.y)},add:function(u){return this.clone()._add(u)},sub:function(u){return this.clone()._sub(u)},multByPoint:function(u){return this.clone()._multByPoint(u)},divByPoint:function(u){return this.clone()._divByPoint(u)},mult:function(u){return this.clone()._mult(u)},div:function(u){return this.clone()._div(u)},rotate:function(u){return this.clone()._rotate(u)},rotateAround:function(u,o){return this.clone()._rotateAround(u,o)},matMult:function(u){return this.clone()._matMult(u)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(u){return this.x===u.x&&this.y===u.y},dist:function(u){return Math.sqrt(this.distSqr(u))},distSqr:function(u){var o=u.x-this.x,h=u.y-this.y;return o*o+h*h},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(u){return Math.atan2(this.y-u.y,this.x-u.x)},angleWith:function(u){return this.angleWithSep(u.x,u.y)},angleWithSep:function(u,o){return Math.atan2(this.x*o-this.y*u,this.x*u+this.y*o)},_matMult:function(u){var o=u[2]*this.x+u[3]*this.y;return this.x=u[0]*this.x+u[1]*this.y,this.y=o,this},_add:function(u){return this.x+=u.x,this.y+=u.y,this},_sub:function(u){return this.x-=u.x,this.y-=u.y,this},_mult:function(u){return this.x*=u,this.y*=u,this},_div:function(u){return this.x/=u,this.y/=u,this},_multByPoint:function(u){return this.x*=u.x,this.y*=u.y,this},_divByPoint:function(u){return this.x/=u.x,this.y/=u.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var u=this.y;return this.y=this.x,this.x=-u,this},_rotate:function(u){var o=Math.cos(u),h=Math.sin(u),A=h*this.x+o*this.y;return this.x=o*this.x-h*this.y,this.y=A,this},_rotateAround:function(u,o){var h=Math.cos(u),A=Math.sin(u),_=o.y+A*(this.x-o.x)+h*(this.y-o.y);return this.x=o.x+h*(this.x-o.x)-A*(this.y-o.y),this.y=_,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},Q.convert=function(u){return u instanceof Q?u:Array.isArray(u)?new Q(u[0],u[1]):u};var G=R(j);const ie=Math.PI/180,q=180/Math.PI;function W(u){return u*ie}function ee(u){return u*q}const he=[[0,0],[1,0],[1,1],[0,1]];function J(u){if(u<=0)return 0;if(u>=1)return 1;const o=u*u,h=o*u;return 4*(u<.5?h:3*(u-o)+h-.75)}function te(u,o,h,A){const _=new H(u,o,h,A);return function(b){return _.solve(b)}}const ne=te(.25,.1,.25,1);function ce(u,o,h){return Math.min(h,Math.max(o,u))}function ue(u,o,h){return(h=ce((h-u)/(o-u),0,1))*h*(3-2*h)}function ye(u,o,h){const A=h-o,_=((u-o)%A+A)%A+o;return _===o?h:_}function Ee(u,o,h){if(!u.length)return h(null,[]);let A=u.length;const _=new Array(u.length);let b=null;u.forEach((E,I)=>{o(E,(F,O)=>{F&&(b=F),_[I]=O,--A==0&&h(b,_)})})}function se(u,...o){for(const h of o)for(const A in h)u[A]=h[A];return u}let oe=1;function _e(){return oe++}function Ue(){return function u(o){return o?(o^Math.random()*(16>>o/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,u)}()}function Le(u){return u<=1?1:Math.pow(2,Math.ceil(Math.log(u)/Math.LN2))}function be(u){return!!u&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(u)}function Re(u,o){u.forEach(h=>{o[h]&&(o[h]=o[h].bind(o))})}function Qe(u,o){return u.indexOf(o,u.length-o.length)!==-1}function Je(u,o,h){const A={};for(const _ in u)A[_]=o.call(h||this,u[_],_,u);return A}function nt(u,o,h){const A={};for(const _ in u)o.call(h||this,u[_],_,u)&&(A[_]=u[_]);return A}function Ve(u){return Array.isArray(u)?u.map(Ve):typeof u=="object"&&u?Je(u,Ve):u}const ke={};function Ge(u){ke[u]||(typeof console<"u"&&console.warn(u),ke[u]=!0)}function Ne(u,o,h){return(h.y-u.y)*(o.x-u.x)>(o.y-u.y)*(h.x-u.x)}function je(u){let o=0;for(let h,A,_=0,b=u.length,E=b-1;_<b;E=_++)h=u[_],A=u[E],o+=(A.x-h.x)*(h.y+A.y);return o}function Ye([u,o,h]){const A=W(o+90),_=W(h);return{x:u*Math.cos(A)*Math.sin(_),y:u*Math.sin(A)*Math.sin(_),z:u*Math.cos(_),azimuthal:o,polar:h}}function vt(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Lt(u){const o={};if(u.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(h,A,_,b)=>{const E=_||b;return o[A]=!E||E.toLowerCase(),""}),o["max-age"]){const h=parseInt(o["max-age"],10);isNaN(h)?delete o["max-age"]:o["max-age"]=h}return o}let Et,Vt,_t,qt,tn,Nt,wt=null;function De(u){try{const o=self[u];return o.setItem("_mapbox_test_",1),o.removeItem("_mapbox_test_"),!0}catch{return!1}}function We(u,o){return[u[4*o],u[4*o+1],u[4*o+2],u[4*o+3]]}function ut(u,o,h,A){for(;o<h;){const _=o+h>>1;u[_]<A?o=_+1:h=_}return o}function It(u,o,h,A){for(;o<h;){const _=o+h>>1;u[_]<=A?o=_+1:h=_}return o}function Xe(){return Et==null&&(Et=self.OffscreenCanvas&&new OffscreenCanvas(1,1).getContext("2d")&&typeof self.createImageBitmap=="function"),Et}const kt={now:()=>qt!==void 0?qt:performance.now(),setNow(u){qt=u},restoreNow(){qt=void 0},frame(u){const o=requestAnimationFrame(u);return{cancel:()=>cancelAnimationFrame(o)}},getImageData(u,o=0){const{width:h,height:A}=u;tn||(tn=document.createElement("canvas"));const _=tn.getContext("2d",{willReadFrequently:!0});if(!_)throw new Error("failed to create canvas 2d context");return(h>tn.width||A>tn.height)&&(tn.width=h,tn.height=A),_.clearRect(-o,-o,h+2*o,A+2*o),_.drawImage(u,0,0,h,A),_.getImageData(-o,-o,h+2*o,A+2*o)},resolveURL:u=>(Vt||(Vt=document.createElement("a")),Vt.href=u,Vt.href),get devicePixelRatio(){return window.devicePixelRatio},get prefersReducedMotion(){return!!window.matchMedia&&(_t==null&&(_t=window.matchMedia("(prefers-reduced-motion: reduce)")),_t.matches)},hasCanvasFingerprintNoise(){if(Nt!==void 0)return Nt;if(!Xe())return Nt=!1,!1;const u=new OffscreenCanvas(85,1),o=u.getContext("2d",{willReadFrequently:!0});let h=0;for(let _=0;_<u.width;++_)o.fillStyle=`rgba(${h++},${h++},${h++}, 255)`,o.fillRect(_,0,1,1);const A=o.getImageData(0,0,u.width,u.height);h=0;for(let _=0;_<A.data.length;++_)if(_%4!=3&&h++!==A.data[_])return Nt=!0,!0;return Nt=!1,!1}},Bt="mapbox-tiles";let it=500,Mt=50,at,et;function St(){try{return caches}catch{}}function sn(){const u=St();u&&!at&&(at=u.open(Bt))}function bn(u){const o=u.indexOf("?");if(o<0)return u;const h=["language","worldview"],A=new URLSearchParams,_=new URLSearchParams(u.slice(o));for(const b of h){const E=_.get(b);E&&A.set(b,E)}return`${u.slice(0,o)}?${A.toString()}`}function gr(u,o){const h=u.indexOf("?");if(h<0)return`${u}?${new URLSearchParams(o).toString()}`;const A=new URLSearchParams(u.slice(h));for(const _ in o)A.set(_,o[_]);return`${u.slice(0,h)}?${A.toString()}`}let tr=1/0;const Nn={supported:!1,testSupport:function(u){!Ci&&Qr&&(ai?va(u):lr=u)}};let lr,Qr,Ci=!1,ai=!1;const Vi=typeof self<"u"?self:{};function va(u){const o=u.createTexture();u.bindTexture(u.TEXTURE_2D,o);try{if(u.texImage2D(u.TEXTURE_2D,0,u.RGBA,u.RGBA,u.UNSIGNED_BYTE,Qr),u.isContextLost())return;Nn.supported=!0}catch{}u.deleteTexture(o),Ci=!0}Vi.document&&(Qr=Vi.document.createElement("img"),Qr.onload=function(){lr&&va(lr),lr=null,ai=!0},Qr.onerror=function(){Ci=!0,lr=null},Qr.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const Rr={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image",Model:"Model"};typeof Object.freeze=="function"&&Object.freeze(Rr);class qi extends Error{constructor(o,h,A){h===401&&v(A)&&(o+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(o),this.status=h,this.url=A}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const Hi=vt()?()=>self.worker&&self.worker.referrer:()=>(location.protocol==="blob:"?parent:self).location.href,Jt=function(u,o){if(!(/^file:/.test(h=u.url)||/^file:/.test(Hi())&&!/^\w+:/.test(h))){if(self.fetch&&self.Request&&self.AbortController&&Request.prototype.hasOwnProperty("signal"))return function(A,_){const b=new AbortController,E=new Request(A.url,{method:A.method||"GET",body:A.body,credentials:A.credentials,headers:A.headers,referrer:Hi(),referrerPolicy:A.referrerPolicy,signal:b.signal});let I=!1,F=!1;const O=(U=E.url).indexOf("sku=")>0&&v(U);var U;A.type==="json"&&E.headers.set("Accept","application/json");const K=(fe,ge,xe)=>{if(F)return;if(fe&&fe.message!=="SecurityError"&&Ge(fe.toString()),ge&&xe)return Z(ge);const Ie=Date.now();fetch(E).then(Oe=>{if(Oe.ok){const rt=O?Oe.clone():null;return Z(Oe,rt,Ie)}return _(new qi(Oe.statusText,Oe.status,A.url))}).catch(Oe=>{Oe.name!=="AbortError"&&_(new Error(`${Oe.message} ${A.url}`))})},Z=(fe,ge,xe)=>{(A.type==="arrayBuffer"?fe.arrayBuffer():A.type==="json"?fe.json():fe.text()).then(Ie=>{F||(ge&&xe&&function(Oe,rt,lt){if(sn(),!at)return;const ot=Lt(rt.headers.get("Cache-Control")||"");if(ot["no-store"])return;const Tt={status:rt.status,statusText:rt.statusText,headers:new Headers};rt.headers.forEach((Gt,Xt)=>Tt.headers.set(Xt,Gt)),ot["max-age"]&&Tt.headers.set("Expires",new Date(lt+1e3*ot["max-age"]).toUTCString());const yt=Tt.headers.get("Expires");if(!yt||new Date(yt).getTime()-lt<42e4)return;let Dt=bn(Oe.url);if(rt.status===206){const Gt=Oe.headers.get("Range");if(!Gt)return;Tt.status=200,Dt=gr(Dt,{range:Gt})}(function(Gt,Xt){if(et===void 0)try{new Response(new ReadableStream),et=!0}catch{et=!1}et?Xt(Gt.body):Gt.blob().then(Xt)})(rt,Gt=>{const Xt=new Response(Gt,Tt);sn(),at&&at.then(pn=>pn.put(Dt,Xt)).catch(pn=>Ge(pn.message))})}(E,ge,xe),I=!0,_(null,Ie,fe.headers.get("Cache-Control"),fe.headers.get("Expires")))}).catch(Ie=>{F||_(new Error(Ie.message))})};return O?function(fe,ge){if(sn(),!at)return ge(null);at.then(xe=>{let Ie=bn(fe.url);const Oe=fe.headers.get("Range");Oe&&(Ie=gr(Ie,{range:Oe})),xe.match(Ie).then(rt=>{const lt=function(ot){if(!ot)return!1;const Tt=new Date(ot.headers.get("Expires")||0),yt=Lt(ot.headers.get("Cache-Control")||"");return Tt>Date.now()&&!yt["no-cache"]}(rt);xe.delete(Ie),lt&&xe.put(Ie,rt.clone()),ge(null,rt,lt)}).catch(ge)}).catch(ge)}(E,K):K(null,null),{cancel:()=>{F=!0,I||b.abort()}}}(u,o);if(vt()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",u,o,void 0,!0)}var h;return function(A,_){const b=new XMLHttpRequest;b.open(A.method||"GET",A.url,!0),A.type==="arrayBuffer"&&(b.responseType="arraybuffer");for(const E in A.headers)b.setRequestHeader(E,A.headers[E]);return A.type==="json"&&(b.responseType="text",b.setRequestHeader("Accept","application/json")),b.withCredentials=A.credentials==="include",b.onerror=()=>{_(new Error(b.statusText))},b.onload=()=>{if((b.status>=200&&b.status<300||b.status===0)&&b.response!==null){let E=b.response;if(A.type==="json")try{E=JSON.parse(b.response)}catch(I){return _(I)}_(null,E,b.getResponseHeader("Cache-Control"),b.getResponseHeader("Expires"))}else _(new qi(b.statusText,b.status,A.url))},b.send(A.body),{cancel:()=>b.abort()}}(u,o)},hn=function(u,o){return Jt(se(u,{type:"arrayBuffer"}),o)};function En(u){const o=document.createElement("a");return o.href=u,o.protocol===location.protocol&&o.host===location.host}const Hn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let Ht,an;Ht=[],an=0;const In=function(u,o){if(Nn.supported&&(u.headers||(u.headers={}),u.headers.accept="image/webp,*/*"),an>=m.MAX_PARALLEL_IMAGE_REQUESTS){const b={requestParameters:u,callback:o,cancelled:!1,cancel(){this.cancelled=!0}};return Ht.push(b),b}an++;let h=!1;const A=()=>{if(!h)for(h=!0,an--;Ht.length&&an<m.MAX_PARALLEL_IMAGE_REQUESTS;){const b=Ht.shift(),{requestParameters:E,callback:I,cancelled:F}=b;F||(b.cancel=In(E,I).cancel)}},_=hn(u,(b,E,I,F)=>{A(),b?o(b):E&&(self.createImageBitmap?function(O,U){const K=new Blob([new Uint8Array(O)],{type:"image/png"});createImageBitmap(K).then(Z=>{U(null,Z)}).catch(Z=>{U(new Error(`Could not load image because of ${Z.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(E,(O,U)=>o(O,U,I,F)):function(O,U){const K=new Image;K.onload=()=>{U(null,K),URL.revokeObjectURL(K.src),K.onload=null,requestAnimationFrame(()=>{K.src=Hn})},K.onerror=()=>U(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const Z=new Blob([new Uint8Array(O)],{type:"image/png"});K.src=O.byteLength?URL.createObjectURL(Z):Hn}(E,(O,U)=>o(O,U,I,F)))});return{cancel:()=>{_.cancel(),A()}}},kn="01",er="NO_ACCESS_TOKEN",Gn=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Mr(u){const o=u.match(Gn);if(!o)throw new Error("Unable to parse URL object");return{protocol:o[1],authority:o[2],path:o[3]||"/",params:o[4]?o[4].split("&"):[]}}function ti(u){const o=u.params.length?`?${u.params.join("&")}`:"";return`${u.protocol}://${u.authority}${u.path}${o}`}const Tn="mapbox.eventData";function Kt(u){if(!u)return null;const o=u.split(".");if(!o||o.length!==3)return null;try{return JSON.parse(decodeURIComponent(atob(o[1]).split("").map(h=>"%"+("00"+h.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch{return null}}class Zn{constructor(o){this.type=o,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(o){const h=Kt(m.ACCESS_TOKEN);let A="";return A=h&&h.u?btoa(encodeURIComponent(h.u).replace(/%([0-9A-F]{2})/g,(_,b)=>String.fromCharCode(+("0x"+b)))):m.ACCESS_TOKEN||"",o?`${Tn}.${o}:${A}`:`${Tn}:${A}`}fetchEventData(){const o=De("localStorage"),h=this.getStorageKey(),A=this.getStorageKey("uuid");if(o)try{const _=localStorage.getItem(h);_&&(this.eventData=JSON.parse(_));const b=localStorage.getItem(A);b&&(this.anonId=b)}catch{Ge("Unable to read from LocalStorage")}}saveEventData(){const o=De("localStorage"),h=this.getStorageKey(),A=this.getStorageKey("uuid"),_=this.anonId;if(o&&_)try{localStorage.setItem(A,_),Object.keys(this.eventData).length>=1&&localStorage.setItem(h,JSON.stringify(this.eventData))}catch{Ge("Unable to write to LocalStorage")}}processRequests(o){}postEvent(o,h,A,_){if(!m.EVENTS_URL)return;const b=Mr(m.EVENTS_URL);b.params.push(`access_token=${_||m.ACCESS_TOKEN||""}`);const E={event:this.type,created:new Date(o).toISOString()},I=h?se(E,h):E,F={url:ti(b),headers:{"Content-Type":"text/plain"},body:JSON.stringify([I])};this.pendingRequest=function(O,U){return Jt(se(O,{method:"POST"}),U)}(F,O=>{this.pendingRequest=null,A(O),this.saveEventData(),this.processRequests(_)})}queueRequest(o,h){this.queue.push(o),this.processRequests(h)}}const jt=new class extends Zn{constructor(u){super("appUserTurnstile"),this._customAccessToken=u}postTurnstileEvent(u,o){m.EVENTS_URL&&m.ACCESS_TOKEN&&Array.isArray(u)&&u.some(h=>y(h)||v(h))&&this.queueRequest(Date.now(),o)}processRequests(u){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const o=Kt(m.ACCESS_TOKEN),h=o?o.u:m.ACCESS_TOKEN;let A=h!==this.eventData.tokenU;be(this.anonId)||(this.anonId=Ue(),A=!0);const _=this.queue.shift();if(this.eventData.lastSuccess){const b=new Date(this.eventData.lastSuccess),E=new Date(_),I=(_-this.eventData.lastSuccess)/864e5;A=A||I>=1||I<-1||b.getDate()!==E.getDate()}else A=!0;A?this.postEvent(_,{sdkIdentifier:"mapbox-gl-js",sdkVersion:f,skuId:kn,"enabled.telemetry":!1,userId:this.anonId},b=>{b||(this.eventData.lastSuccess=_,this.eventData.tokenU=h)},u):this.processRequests()}},Xn=jt.postTurnstileEvent.bind(jt),kr=new class extends Zn{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(u,o,h,A){this.skuToken=o,this.errorCb=A,m.EVENTS_URL&&(h||m.ACCESS_TOKEN?this.queueRequest({id:u,timestamp:Date.now()},h):this.errorCb(new Error(er)))}processRequests(u){if(this.pendingRequest||this.queue.length===0)return;const{id:o,timestamp:h}=this.queue.shift();o&&this.success[o]||(this.anonId||this.fetchEventData(),be(this.anonId)||(this.anonId=Ue()),this.postEvent(h,{sdkIdentifier:"mapbox-gl-js",sdkVersion:f,skuId:kn,skuToken:this.skuToken,userId:this.anonId},A=>{A?this.errorCb(A):o&&(this.success[o]=!0)},u))}remove(){this.errorCb=null}},_r=kr.postMapLoadEvent.bind(kr),fa=new class extends Zn{constructor(){super("gljs.performance")}postPerformanceEvent(u,o){m.EVENTS_URL&&(u||m.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:o},u)}processRequests(u){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:o,performanceData:h}=this.queue.shift(),A=function(_){const b=performance.getEntriesByType("resource"),E=performance.getEntriesByType("mark"),I=function(fe){const ge={};if(fe){for(const xe in fe)if(xe!=="other")for(const Ie of fe[xe]){const Oe=`${xe}ResolveRangeMin`,rt=`${xe}ResolveRangeMax`,lt=`${xe}RequestCount`,ot=`${xe}RequestCachedCount`;ge[Oe]=Math.min(ge[Oe]||1/0,Ie.startTime),ge[rt]=Math.max(ge[rt]||-1/0,Ie.responseEnd);const Tt=yt=>{ge[yt]===void 0&&(ge[yt]=0),++ge[yt]};Ie.transferSize!==void 0&&Ie.transferSize===0&&Tt(ot),Tt(lt)}}return ge}(function(fe,ge){const xe={};if(fe)for(const Ie of fe){const Oe=ge(Ie);xe[Oe]===void 0&&(xe[Oe]=[]),xe[Oe].push(Ie)}return xe}(b,P)),F=window.devicePixelRatio,O=navigator.connection||navigator.mozConnection||navigator.webkitConnection,U=O?O.effectiveType:void 0,K={counters:[],metadata:[],attributes:[]},Z=(fe,ge,xe)=>{xe!=null&&fe.push({name:ge,value:xe.toString()})};for(const fe in I)Z(K.counters,fe,I[fe]);if(_.interactionRange[0]!==1/0&&_.interactionRange[1]!==-1/0&&(Z(K.counters,"interactionRangeMin",_.interactionRange[0]),Z(K.counters,"interactionRangeMax",_.interactionRange[1])),E)for(const fe of Object.keys(M)){const ge=M[fe],xe=E.find(Ie=>Ie.name===ge);xe&&Z(K.counters,ge,xe.startTime)}return Z(K.counters,"visibilityHidden",_.visibilityHidden),Z(K.attributes,"style",function(fe){if(fe)for(const ge of fe){const xe=ge.name.split("?")[0];if(k(xe)){const Ie=xe.split("/").slice(-2);if(Ie.length===2)return`mapbox://styles/${Ie[0]}/${Ie[1]}`}}}(b)),Z(K.attributes,"terrainEnabled",_.terrainEnabled?"true":"false"),Z(K.attributes,"fogEnabled",_.fogEnabled?"true":"false"),Z(K.attributes,"projection",_.projection),Z(K.attributes,"zoom",_.zoom),Z(K.metadata,"devicePixelRatio",F),Z(K.metadata,"connectionEffectiveType",U),Z(K.metadata,"navigatorUserAgent",navigator.userAgent),Z(K.metadata,"screenWidth",window.screen.width),Z(K.metadata,"screenHeight",window.screen.height),Z(K.metadata,"windowWidth",window.innerWidth),Z(K.metadata,"windowHeight",window.innerHeight),Z(K.metadata,"mapWidth",_.width/F),Z(K.metadata,"mapHeight",_.height/F),Z(K.metadata,"webglRenderer",_.renderer),Z(K.metadata,"webglVendor",_.vendor),Z(K.metadata,"sdkVersion",f),Z(K.metadata,"sdkIdentifier","mapbox-gl-js"),K}(h);for(const _ of A.metadata);for(const _ of A.counters);for(const _ of A.attributes);this.postEvent(o,A,()=>{},u)}},ss=fa.postPerformanceEvent.bind(fa),Sa=new class extends Zn{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(u,o,h,A){if(!m.API_URL||!m.SESSION_PATH)return;const _=Mr(m.API_URL+m.SESSION_PATH);_.params.push(`sku=${o||""}`),_.params.push(`access_token=${A||m.ACCESS_TOKEN||""}`);const b={url:ti(_),headers:{"Content-Type":"text/plain"}};this.pendingRequest=function(E,I){return Jt(se(E,{method:"GET"}),I)}(b,E=>{this.pendingRequest=null,h(E),this.saveEventData(),this.processRequests(A)})}getSessionAPI(u,o,h,A){this.skuToken=o,this.errorCb=A,m.SESSION_PATH&&m.API_URL&&(h||m.ACCESS_TOKEN?this.queueRequest({id:u,timestamp:Date.now()},h):this.errorCb(new Error(er)))}processRequests(u){if(this.pendingRequest||this.queue.length===0)return;const{id:o,timestamp:h}=this.queue.shift();o&&this.success[o]||this.getSession(h,this.skuToken,A=>{A?this.errorCb(A):o&&(this.success[o]=!0)},u)}remove(){this.errorCb=null}},Gc=Sa.getSessionAPI.bind(Sa),uu=new Set;function Zh(u,o,h){h[u]&&h[u].indexOf(o)!==-1||(h[u]=h[u]||[],h[u].push(o))}function vA(u,o,h){if(h&&h[u]){const A=h[u].indexOf(o);A!==-1&&h[u].splice(A,1)}}class Jh{constructor(o,h={}){se(this,h),this.type=o}}class qd extends Jh{constructor(o,h={}){super("error",se({error:o},h))}}class Yd{on(o,h){return this._listeners=this._listeners||{},Zh(o,h,this._listeners),this}off(o,h){return vA(o,h,this._listeners),vA(o,h,this._oneTimeListeners),this}once(o,h){return h?(this._oneTimeListeners=this._oneTimeListeners||{},Zh(o,h,this._oneTimeListeners),this):new Promise(A=>this.once(o,A))}fire(o,h){typeof o=="string"&&(o=new Jh(o,h||{}));const A=o.type;if(this.listens(A)){o.target=this;const _=this._listeners&&this._listeners[A]?this._listeners[A].slice():[];for(const I of _)I.call(this,o);const b=this._oneTimeListeners&&this._oneTimeListeners[A]?this._oneTimeListeners[A].slice():[];for(const I of b)vA(A,I,this._oneTimeListeners),I.call(this,o);const E=this._eventedParent;E&&(se(o,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),E.fire(o))}else o instanceof qd&&console.error(o.error);return this}listens(o){return!!(this._listeners&&this._listeners[o]&&this._listeners[o].length>0||this._oneTimeListeners&&this._oneTimeListeners[o]&&this._oneTimeListeners[o].length>0||this._eventedParent&&this._eventedParent.listens(o))}setEventedParent(o,h){return this._eventedParent=o,this._eventedParentData=h,this}}a.y=void 0;var po={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Kf(u){return(u=Math.round(u))<0?0:u>255?255:u}function _A(u){return Kf(u[u.length-1]==="%"?parseFloat(u)/100*255:parseInt(u))}function Wf(u){return(o=u[u.length-1]==="%"?parseFloat(u)/100:parseFloat(u))<0?0:o>1?1:o;var o}function qf(u,o,h){return h<0?h+=1:h>1&&(h-=1),6*h<1?u+(o-u)*h*6:2*h<1?o:3*h<2?u+(o-u)*(2/3-h)*6:u}try{a.y={}.parseCSSColor=function(u){var o,h=u.replace(/ /g,"").toLowerCase();if(h in po)return po[h].slice();if(h[0]==="#")return h.length===4?(o=parseInt(h.substr(1),16))>=0&&o<=4095?[(3840&o)>>4|(3840&o)>>8,240&o|(240&o)>>4,15&o|(15&o)<<4,1]:null:h.length===7&&(o=parseInt(h.substr(1),16))>=0&&o<=16777215?[(16711680&o)>>16,(65280&o)>>8,255&o,1]:null;var A=h.indexOf("("),_=h.indexOf(")");if(A!==-1&&_+1===h.length){var b=h.substr(0,A),E=h.substr(A+1,_-(A+1)).split(","),I=1;switch(b){case"rgba":if(E.length!==4)return null;I=Wf(E.pop());case"rgb":return E.length!==3?null:[_A(E[0]),_A(E[1]),_A(E[2]),I];case"hsla":if(E.length!==4)return null;I=Wf(E.pop());case"hsl":if(E.length!==3)return null;var F=(parseFloat(E[0])%360+360)%360/360,O=Wf(E[1]),U=Wf(E[2]),K=U<=.5?U*(O+1):U+O-U*O,Z=2*U-K;return[Kf(255*qf(Z,K,F+1/3)),Kf(255*qf(Z,K,F)),Kf(255*qf(Z,K,F-1/3)),I];default:return null}}return null}}catch{}class Ql{constructor(o,h,A,_=1){this.r=o,this.g=h,this.b=A,this.a=_}static parse(o){if(!o)return;if(o instanceof Ql)return o;if(typeof o!="string")return;const h=a.y(o);return h?new Ql(h[0]/255*h[3],h[1]/255*h[3],h[2]/255*h[3],h[3]):void 0}toString(){const[o,h,A,_]=this.toArray();return`rgba(${Math.round(o)},${Math.round(h)},${Math.round(A)},${_})`}toArray(){const{r:o,g:h,b:A,a:_}=this;return _===0?[0,0,0,0]:[255*o/_,255*h/_,255*A/_,_]}toArray01(){const{r:o,g:h,b:A,a:_}=this;return _===0?[0,0,0,0]:[o/_,h/_,A/_,_]}toArray01Scaled(o){const{r:h,g:A,b:_,a:b}=this;return b===0?[0,0,0]:[h/b*o,A/b*o,_/b*o]}toArray01PremultipliedAlpha(){const{r:o,g:h,b:A,a:_}=this;return[o,h,A,_]}toArray01Linear(){const{r:o,g:h,b:A,a:_}=this;return _===0?[0,0,0,0]:[Math.pow(o/_,2.2),Math.pow(h/_,2.2),Math.pow(A/_,2.2),_]}}Ql.black=new Ql(0,0,0,1),Ql.white=new Ql(1,1,1,1),Ql.transparent=new Ql(0,0,0,0),Ql.red=new Ql(1,0,0,1),Ql.blue=new Ql(0,0,1,1);var Wa=Ql;function Di(u,o,h){return u*(1-h)+o*h}function cu(u,o,h){return u.map((A,_)=>Di(A,o[_],h))}var Xd=Object.freeze({__proto__:null,array:cu,color:function(u,o,h){return new Wa(Di(u.r,o.r,h),Di(u.g,o.g,h),Di(u.b,o.b,h),Di(u.a,o.a,h))},number:Di});function yA(u,...o){for(const h of o)for(const A in h)u[A]=h[A];return u}class U1 extends Error{constructor(o,h){super(h),this.message=h,this.key=o}}var Yu=U1;class Qm{constructor(o,h=[]){this.parent=o,this.bindings={};for(const[A,_]of h)this.bindings[A]=_}concat(o){return new Qm(this,o)}get(o){if(this.bindings[o])return this.bindings[o];if(this.parent)return this.parent.get(o);throw new Error(`${o} not found in scope.`)}has(o){return!!this.bindings[o]||!!this.parent&&this.parent.has(o)}}var P0=Qm;const Zd={kind:"null"},mr={kind:"number"},pa={kind:"string"},Aa={kind:"boolean"},Iu={kind:"color"},Lu={kind:"object"},Gi={kind:"value"},ed={kind:"collator"},td={kind:"formatted"},zo={kind:"resolvedImage"};function jl(u,o){return{kind:"array",itemType:u,N:o}}function ws(u){if(u.kind==="array"){const o=ws(u.itemType);return typeof u.N=="number"?`array<${o}, ${u.N}>`:u.itemType.kind==="value"?"array":`array<${o}>`}return u.kind}const rr=[Zd,mr,pa,Aa,Iu,td,Lu,jl(Gi),zo];function nd(u,o){if(o.kind==="error")return null;if(u.kind==="array"){if(o.kind==="array"&&(o.N===0&&o.itemType.kind==="value"||!nd(u.itemType,o.itemType))&&(typeof u.N!="number"||u.N===o.N))return null}else{if(u.kind===o.kind)return null;if(u.kind==="value"){for(const h of rr)if(!nd(h,o))return null}}return`Expected ${ws(u)} but found ${ws(o)} instead.`}function si(u,o){return o.some(h=>h.kind===u.kind)}function gl(u,o){return o.some(h=>h==="null"?u===null:h==="array"?Array.isArray(u):h==="object"?u&&!Array.isArray(u)&&typeof u=="object":h===typeof u)}class Ii{constructor(o,h,A){this.sensitivity=o?h?"variant":"case":h?"accent":"base",this.locale=A,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(o,h){return this.collator.compare(o,h)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class rd{constructor(o,h,A,_,b){this.text=o.normalize?o.normalize():o,this.image=h,this.scale=A,this.fontStack=_,this.textColor=b}}class so{constructor(o){this.sections=o}static fromString(o){return new so([new rd(o,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(o=>o.text.length!==0||o.image&&o.image.namePrimary.length!==0)}static factory(o){return o instanceof so?o:so.fromString(o)}toString(){return this.sections.length===0?"":this.sections.map(o=>o.text).join("")}serialize(){const o=["format"];for(const h of this.sections){if(h.image){o.push(["image",h.image.namePrimary]);continue}o.push(h.text);const A={};h.fontStack&&(A["text-font"]=["literal",h.fontStack.split(",")]),h.scale&&(A["font-scale"]=h.scale),h.textColor&&(A["text-color"]=["rgba"].concat(h.textColor.toArray())),o.push(A)}return o}}class Vr{constructor(o){this.namePrimary=o.namePrimary,o.nameSecondary&&(this.nameSecondary=o.nameSecondary),this.available=o.available}toString(){return this.nameSecondary?`[${this.namePrimary},${this.nameSecondary}]`:this.namePrimary}static fromString(o,h){return o?new Vr({namePrimary:o,nameSecondary:h,available:!1}):null}serialize(){return this.nameSecondary?["image",this.namePrimary,this.nameSecondary]:["image",this.namePrimary]}}function F0(u,o,h,A){return typeof u=="number"&&u>=0&&u<=255&&typeof o=="number"&&o>=0&&o<=255&&typeof h=="number"&&h>=0&&h<=255?A===void 0||typeof A=="number"&&A>=0&&A<=1?null:`Invalid rgba value [${[u,o,h,A].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof A=="number"?[u,o,h,A]:[u,o,h]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function id(u){if(u===null||typeof u=="string"||typeof u=="boolean"||typeof u=="number"||u instanceof Wa||u instanceof Ii||u instanceof so||u instanceof Vr)return!0;if(Array.isArray(u)){for(const o of u)if(!id(o))return!1;return!0}if(typeof u=="object"){for(const o in u)if(!id(u[o]))return!1;return!0}return!1}function Ws(u){if(u===null)return Zd;if(typeof u=="string")return pa;if(typeof u=="boolean")return Aa;if(typeof u=="number")return mr;if(u instanceof Wa)return Iu;if(u instanceof Ii)return ed;if(u instanceof so)return td;if(u instanceof Vr)return zo;if(Array.isArray(u)){const o=u.length;let h;for(const A of u){const _=Ws(A);if(h){if(h===_)continue;h=Gi;break}h=_}return jl(h||Gi,o)}return Lu}function Gl(u){const o=typeof u;return u===null?"":o==="string"||o==="number"||o==="boolean"?String(u):u instanceof Wa||u instanceof so||u instanceof Vr?u.toString():JSON.stringify(u)}class ku{constructor(o,h){this.type=o,this.value=h}static parse(o,h){if(o.length!==2)return h.error(`'literal' expression requires exactly one argument, but found ${o.length-1} instead.`);if(!id(o[1]))return h.error("invalid value");const A=o[1];let _=Ws(A);const b=h.expectedType;return _.kind!=="array"||_.N!==0||!b||b.kind!=="array"||typeof b.N=="number"&&b.N!==0||(_=b),new ku(_,A)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof Wa?["rgba"].concat(this.value.toArray()):this.value instanceof so?this.value.serialize():this.value}}var Kl=ku,qs=class{constructor(u){this.name="ExpressionEvaluationError",this.message=u}toJSON(){return this.message}};const ad={string:pa,number:mr,boolean:Aa,object:Lu};class Yf{constructor(o,h){this.type=o,this.args=h}static parse(o,h){if(o.length<2)return h.error("Expected at least one argument.");let A,_=1;const b=o[0];if(b==="array"){let I,F;if(o.length>2){const O=o[1];if(typeof O!="string"||!(O in ad)||O==="object")return h.error('The item type argument of "array" must be one of string, number, boolean',1);I=ad[O],_++}else I=Gi;if(o.length>3){if(o[2]!==null&&(typeof o[2]!="number"||o[2]<0||o[2]!==Math.floor(o[2])))return h.error('The length argument to "array" must be a positive integer literal',2);F=o[2],_++}A=jl(I,F)}else A=ad[b];const E=[];for(;_<o.length;_++){const I=h.parse(o[_],_,Gi);if(!I)return null;E.push(I)}return new Yf(A,E)}evaluate(o){for(let h=0;h<this.args.length;h++){const A=this.args[h].evaluate(o);if(!nd(this.type,Ws(A)))return A;if(h===this.args.length-1)throw new qs(`Expected value to be of type ${ws(this.type)}, but found ${ws(Ws(A))} instead.`)}return null}eachChild(o){this.args.forEach(o)}outputDefined(){return this.args.every(o=>o.outputDefined())}serialize(){const o=this.type,h=[o.kind];if(o.kind==="array"){const A=o.itemType;if(A.kind==="string"||A.kind==="number"||A.kind==="boolean"){h.push(A.kind);const _=o.N;(typeof _=="number"||this.args.length>1)&&h.push(_)}}return h.concat(this.args.map(A=>A.serialize()))}}var Pu=Yf;class sd{constructor(o){this.type=td,this.sections=o}static parse(o,h){if(o.length<2)return h.error("Expected at least one argument.");const A=o[1];if(!Array.isArray(A)&&typeof A=="object")return h.error("First argument must be an image or text section.");const _=[];let b=!1;for(let E=1;E<=o.length-1;++E){const I=o[E];if(b&&typeof I=="object"&&!Array.isArray(I)){b=!1;let F=null;if(I["font-scale"]&&(F=h.parse(I["font-scale"],1,mr),!F))return null;let O=null;if(I["text-font"]&&(O=h.parse(I["text-font"],1,jl(pa)),!O))return null;let U=null;if(I["text-color"]&&(U=h.parse(I["text-color"],1,Iu),!U))return null;const K=_[_.length-1];K.scale=F,K.font=O,K.textColor=U}else{const F=h.parse(o[E],1,Gi);if(!F)return null;const O=F.type.kind;if(O!=="string"&&O!=="value"&&O!=="null"&&O!=="resolvedImage")return h.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");b=!0,_.push({content:F,scale:null,font:null,textColor:null})}}return new sd(_)}evaluate(o){return new so(this.sections.map(h=>{const A=h.content.evaluate(o);return Ws(A)===zo?new rd("",A,null,null,null):new rd(Gl(A),null,h.scale?h.scale.evaluate(o):null,h.font?h.font.evaluate(o).join(","):null,h.textColor?h.textColor.evaluate(o):null)}))}eachChild(o){for(const h of this.sections)o(h.content),h.scale&&o(h.scale),h.font&&o(h.font),h.textColor&&o(h.textColor)}outputDefined(){return!1}serialize(){const o=["format"];for(const h of this.sections){o.push(h.content.serialize());const A={};h.scale&&(A["font-scale"]=h.scale.serialize()),h.font&&(A["text-font"]=h.font.serialize()),h.textColor&&(A["text-color"]=h.textColor.serialize()),o.push(A)}return o}}class Ah{constructor(o,h){this.type=zo,this.inputPrimary=o,this.inputSecondary=h}static parse(o,h){if(o.length<2)return h.error("Expected two or more arguments.");const A=h.parse(o[1],1,pa);if(!A)return h.error("No image name provided.");if(o.length===2)return new Ah(A);const _=h.parse(o[2],1,pa);return _?new Ah(A,_):h.error("Secondary image variant is not a string.")}evaluate(o){const h=Vr.fromString(this.inputPrimary.evaluate(o),this.inputSecondary?this.inputSecondary.evaluate(o):void 0);return h&&o.availableImages&&(h.available=o.availableImages.indexOf(h.namePrimary)>-1,h.nameSecondary&&h.available&&o.availableImages&&(h.available=o.availableImages.indexOf(h.nameSecondary)>-1)),h}eachChild(o){o(this.inputPrimary),this.inputSecondary&&o(this.inputSecondary)}outputDefined(){return!1}serialize(){return this.inputSecondary?["image",this.inputPrimary.serialize(),this.inputSecondary.serialize()]:["image",this.inputPrimary.serialize()]}}function od(u){return u instanceof Number?"number":u instanceof String?"string":u instanceof Boolean?"boolean":Array.isArray(u)?"array":u===null?"null":typeof u}const Fu={"to-boolean":Aa,"to-color":Iu,"to-number":mr,"to-string":pa};class pc{constructor(o,h){this.type=o,this.args=h}static parse(o,h){if(o.length<2)return h.error("Expected at least one argument.");const A=o[0],_=[];let b=Zd;if(A==="to-array"){if(!Array.isArray(o[1]))return null;const E=o[1].length;if(h.expectedType){if(h.expectedType.kind!=="array")return h.error(`Expected ${h.expectedType.kind} but found array.`);b=jl(h.expectedType.itemType,E)}else{if(!(E>0&&id(o[1][0])))return null;b=jl(Ws(o[1][0]),E)}for(let I=0;I<E;I++){const F=o[1][I];let O;if(od(F)==="array")O=h.parse(F,void 0,b.itemType);else{const U=od(F);if(U!==b.itemType.kind)return h.error(`Expected ${b.itemType.kind} but found ${U}.`);O=h.registry.literal.parse(["literal",F===void 0?null:F],h)}if(!O)return null;_.push(O)}}else{if((A==="to-boolean"||A==="to-string")&&o.length!==2)return h.error("Expected one argument.");b=Fu[A];for(let E=1;E<o.length;E++){const I=h.parse(o[E],E,Gi);if(!I)return null;_.push(I)}}return new pc(b,_)}evaluate(o){if(this.type.kind==="boolean")return!!this.args[0].evaluate(o);if(this.type.kind==="color"){let h,A;for(const _ of this.args){if(h=_.evaluate(o),A=null,h instanceof Wa)return h;if(typeof h=="string"){const b=o.parseColor(h);if(b)return b}else if(Array.isArray(h)&&(A=h.length<3||h.length>4?`Invalid rbga value ${JSON.stringify(h)}: expected an array containing either three or four numeric values.`:F0(h[0],h[1],h[2],h[3]),!A))return new Wa(h[0]/255,h[1]/255,h[2]/255,h[3])}throw new qs(A||`Could not parse color from value '${typeof h=="string"?h:String(JSON.stringify(h))}'`)}if(this.type.kind==="number"){let h=null;for(const A of this.args){if(h=A.evaluate(o),h===null)return 0;const _=Number(h);if(!isNaN(_))return _}throw new qs(`Could not convert ${JSON.stringify(h)} to number.`)}return this.type.kind==="formatted"?so.fromString(Gl(this.args[0].evaluate(o))):this.type.kind==="resolvedImage"?Vr.fromString(Gl(this.args[0].evaluate(o))):this.type.kind==="array"?this.args.map(h=>h.evaluate(o)):Gl(this.args[0].evaluate(o))}eachChild(o){this.args.forEach(o)}outputDefined(){return this.args.every(o=>o.outputDefined())}serialize(){if(this.type.kind==="formatted")return new sd([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Ah(this.args[0]).serialize();const o=this.type.kind==="array"?[]:[`to-${this.type.kind}`];return this.eachChild(h=>{o.push(h.serialize())}),o}}var Wl=pc;const Xf=["Unknown","Point","LineString","Polygon"];var ld=class{constructor(u,o){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null,this.scope=u,this.options=o}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Xf[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}measureLight(u){return this.globals.brightness||0}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const u=this.featureDistanceData.center,o=this.featureDistanceData.scale,{x:h,y:A}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(h*o-u[0])+this.featureDistanceData.bearing[1]*(A*o-u[1])}return 0}parseColor(u){let o=this._parseColorCache[u];return o||(o=this._parseColorCache[u]=Wa.parse(u)),o}getConfig(u){return this.options?this.options.get(u):null}};class vl{constructor(o,h,A,_,b){this.name=o,this.type=h,this._evaluate=A,this.args=_,this._overloadIndex=b}evaluate(o){if(!this._evaluate){const h=vl.definitions[this.name];this._evaluate=Array.isArray(h)?h[2]:h.overloads[this._overloadIndex][1]}return this._evaluate(o,this.args)}eachChild(o){this.args.forEach(o)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(o=>o.serialize()))}static parse(o,h){const A=o[0],_=vl.definitions[A];if(!_)return h.error(`Unknown expression "${A}". If you wanted a literal array, use ["literal", [...]].`,0);const b=Array.isArray(_)?_[0]:_.type,E=Array.isArray(_)?[[_[1],_[2]]]:_.overloads,I=[];let F=null,O=-1;for(const[U,K]of E){if(Array.isArray(U)&&U.length!==o.length-1)continue;I.push(U),O++,F=new sp(h.registry,h.path,null,h.scope,void 0,h._scope,h.options);const Z=[];let fe=!1;for(let ge=1;ge<o.length;ge++){const xe=o[ge],Ie=Array.isArray(U)?U[ge-1]:U.type,Oe=F.parse(xe,1+Z.length,Ie);if(!Oe){fe=!0;break}Z.push(Oe)}if(!fe)if(Array.isArray(U)&&U.length!==Z.length)F.error(`Expected ${U.length} arguments, but found ${Z.length} instead.`);else{for(let ge=0;ge<Z.length;ge++){const xe=Array.isArray(U)?U[ge]:U.type,Ie=Z[ge];F.concat(ge+1).checkSubtype(xe,Ie.type)}if(F.errors.length===0)return new vl(A,b,K,Z,O)}}if(I.length===1)h.errors.push(...F.errors);else{const U=(I.length?I:E.map(([Z])=>Z)).map(bA).join(" | "),K=[];for(let Z=1;Z<o.length;Z++){const fe=h.parse(o[Z],1+K.length);if(!fe)return null;K.push(ws(fe.type))}h.error(`Expected arguments of type ${U}, but found (${K.join(", ")}) instead.`)}return null}static register(o,h){vl.definitions=h;for(const A in h)o[A]=vl}}function bA(u){return Array.isArray(u)?`(${u.map(ws).join(", ")})`:`(${ws(u.type)}...)`}var Ni=vl;class Zf{constructor(o,h,A){this.type=ed,this.locale=A,this.caseSensitive=o,this.diacriticSensitive=h}static parse(o,h){if(o.length!==2)return h.error("Expected one argument.");const A=o[1];if(typeof A!="object"||Array.isArray(A))return h.error("Collator options argument must be an object.");const _=h.parse(A["case-sensitive"]!==void 0&&A["case-sensitive"],1,Aa);if(!_)return null;const b=h.parse(A["diacritic-sensitive"]!==void 0&&A["diacritic-sensitive"],1,Aa);if(!b)return null;let E=null;return A.locale&&(E=h.parse(A.locale,1,pa),!E)?null:new Zf(_,b,E)}evaluate(o){return new Ii(this.caseSensitive.evaluate(o),this.diacriticSensitive.evaluate(o),this.locale?this.locale.evaluate(o):null)}eachChild(o){o(this.caseSensitive),o(this.diacriticSensitive),this.locale&&o(this.locale)}outputDefined(){return!1}serialize(){const o={};return o["case-sensitive"]=this.caseSensitive.serialize(),o["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(o.locale=this.locale.serialize()),["collator",o]}}var Jd={exports:{}};Jd.exports=function(){function u(A,_,b,E,I){for(;E>b;){if(E-b>600){var F=E-b+1,O=_-b+1,U=Math.log(F),K=.5*Math.exp(2*U/3),Z=.5*Math.sqrt(U*K*(F-K)/F)*(O-F/2<0?-1:1);u(A,_,Math.max(b,Math.floor(_-O*K/F+Z)),Math.min(E,Math.floor(_+(F-O)*K/F+Z)),I)}var fe=A[_],ge=b,xe=E;for(o(A,b,_),I(A[E],fe)>0&&o(A,b,E);ge<xe;){for(o(A,ge,xe),ge++,xe--;I(A[ge],fe)<0;)ge++;for(;I(A[xe],fe)>0;)xe--}I(A[b],fe)===0?o(A,b,xe):o(A,++xe,E),xe<=_&&(b=xe+1),_<=xe&&(E=xe-1)}}function o(A,_,b){var E=A[_];A[_]=A[b],A[b]=E}function h(A,_){return A<_?-1:A>_?1:0}return function(A,_,b,E,I){u(A,_,b||0,E||A.length-1,I||h)}}();var z1=R(Jd.exports);function jm(u){let o=0;for(let h,A,_=0,b=u.length,E=b-1;_<b;E=_++)h=u[_],A=u[E],o+=(A.x-h.x)*(h.y+A.y);return o}function Ac(u,o){u[0]=Math.min(u[0],o[0]),u[1]=Math.min(u[1],o[1]),u[2]=Math.max(u[2],o[0]),u[3]=Math.max(u[3],o[1])}function Kc(u,o){return!(u[0]<=o[0]||u[2]>=o[2]||u[1]<=o[1]||u[3]>=o[3])}function ud(u,o,h){const A=u[0]-o[0],_=u[1]-o[1],b=u[0]-h[0],E=u[1]-h[1];return A*E-b*_==0&&A*b<=0&&_*E<=0}function mh(u,o,h=!1){let A=!1;for(let I=0,F=o.length;I<F;I++){const O=o[I];for(let U=0,K=O.length,Z=K-1;U<K;Z=U++){const fe=O[Z],ge=O[U];if(ud(u,fe,ge))return h;(b=fe)[1]>(_=u)[1]!=(E=ge)[1]>_[1]&&_[0]<(E[0]-b[0])*(_[1]-b[1])/(E[1]-b[1])+b[0]&&(A=!A)}}var _,b,E;return A}function Jf(u,o,h,A){const _=A[0]-h[0],b=A[1]-h[1],E=(u[0]-h[0])*b-_*(u[1]-h[1]),I=(o[0]-h[0])*b-_*(o[1]-h[1]);return E>0&&I<0||E<0&&I>0}function mc(u,o,h,A){return(_=[A[0]-h[0],A[1]-h[1]])[0]*(b=[o[0]-u[0],o[1]-u[1]])[1]-_[1]*b[0]!=0&&!(!Jf(u,o,h,A)||!Jf(h,A,u,o));var _,b}const gh=8192;function vh(u,o){const h=(180+u[0])/360,A=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u[1]*Math.PI/360)))/360,_=Math.pow(2,o.z);return[Math.round(h*_*gh),Math.round(A*_*gh)]}function cd(u,o){for(let h=0;h<o.length;h++)if(mh(u,o[h]))return!0;return!1}function ep(u,o,h){for(const A of h)for(let _=0,b=A.length,E=b-1;_<b;E=_++)if(mc(u,o,A[E],A[_]))return!0;return!1}function jo(u,o){for(let h=0;h<u.length;++h)if(!mh(u[h],o))return!1;for(let h=0;h<u.length-1;++h)if(ep(u[h],u[h+1],o))return!1;return!0}function wA(u,o){for(let h=0;h<o.length;h++)if(jo(u,o[h]))return!0;return!1}function me(u,o,h){const A=[];for(let _=0;_<u.length;_++){const b=[];for(let E=0;E<u[_].length;E++){const I=vh(u[_][E],h);Ac(o,I),b.push(I)}A.push(b)}return A}function tt(u,o,h){const A=[];for(let _=0;_<u.length;_++){const b=me(u[_],o,h);A.push(b)}return A}function zt(u,o,h,A){if(u[0]<h[0]||u[0]>h[2]){const _=.5*A;let b=u[0]-h[0]>_?-A:h[0]-u[0]>_?A:0;b===0&&(b=u[0]-h[2]>_?-A:h[2]-u[0]>_?A:0),u[0]+=b}Ac(o,u)}function Zt(u,o,h,A){const _=Math.pow(2,A.z)*gh,b=[A.x*gh,A.y*gh],E=[];if(!u)return E;for(const I of u)for(const F of I){const O=[F.x+b[0],F.y+b[1]];zt(O,o,h,_),E.push(O)}return E}function wn(u,o,h,A){const _=Math.pow(2,A.z)*gh,b=[A.x*gh,A.y*gh],E=[];if(!u)return E;for(const F of u){const O=[];for(const U of F){const K=[U.x+b[0],U.y+b[1]];Ac(o,K),O.push(K)}E.push(O)}if(o[2]-o[0]<=_/2){(I=o)[0]=I[1]=1/0,I[2]=I[3]=-1/0;for(const F of E)for(const O of F)zt(O,o,h,_)}var I;return E}class Wn{constructor(o,h){this.type=Aa,this.geojson=o,this.geometries=h}static parse(o,h){if(o.length!==2)return h.error(`'within' expression requires exactly one argument, but found ${o.length-1} instead.`);if(id(o[1])){const A=o[1];if(A.type==="FeatureCollection")for(let _=0;_<A.features.length;++_){const b=A.features[_].geometry.type;if(b==="Polygon"||b==="MultiPolygon")return new Wn(A,A.features[_].geometry)}else if(A.type==="Feature"){const _=A.geometry.type;if(_==="Polygon"||_==="MultiPolygon")return new Wn(A,A.geometry)}else if(A.type==="Polygon"||A.type==="MultiPolygon")return new Wn(A,A)}return h.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(o){if(o.geometry()!=null&&o.canonicalID()!=null){if(o.geometryType()==="Point")return function(h,A){const _=[1/0,1/0,-1/0,-1/0],b=[1/0,1/0,-1/0,-1/0],E=h.canonicalID();if(!E)return!1;if(A.type==="Polygon"){const I=me(A.coordinates,b,E),F=Zt(h.geometry(),_,b,E);if(!Kc(_,b))return!1;for(const O of F)if(!mh(O,I))return!1}if(A.type==="MultiPolygon"){const I=tt(A.coordinates,b,E),F=Zt(h.geometry(),_,b,E);if(!Kc(_,b))return!1;for(const O of F)if(!cd(O,I))return!1}return!0}(o,this.geometries);if(o.geometryType()==="LineString")return function(h,A){const _=[1/0,1/0,-1/0,-1/0],b=[1/0,1/0,-1/0,-1/0],E=h.canonicalID();if(!E)return!1;if(A.type==="Polygon"){const I=me(A.coordinates,b,E),F=wn(h.geometry(),_,b,E);if(!Kc(_,b))return!1;for(const O of F)if(!jo(O,I))return!1}if(A.type==="MultiPolygon"){const I=tt(A.coordinates,b,E),F=wn(h.geometry(),_,b,E);if(!Kc(_,b))return!1;for(const O of F)if(!wA(O,I))return!1}return!0}(o,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var vr=Wn,Wr={exports:{}};Wr.exports=function(){var u={kilometers:1,miles:.621371192237334,nauticalmiles:.5399568034557235,meters:1e3,metres:1e3,yards:1093.6132983377079,feet:3280.839895013123,inches:39370.078740157485},o=1/298.257223563,h=o*(2-o),A=Math.PI/180,_=function(O,U){if(O===void 0)throw new Error("No latitude given.");if(U&&!u[U])throw new Error("Unknown unit "+U+". Use one of: "+Object.keys(u).join(", "));var K=6378.137*A*(U?u[U]:1),Z=Math.cos(O*A),fe=1/(1-h*(1-Z*Z)),ge=Math.sqrt(fe);this.kx=K*ge*Z,this.ky=K*ge*fe*(1-h)},b={units:{configurable:!0}};function E(O,U){return O[0]===U[0]&&O[1]===U[1]}function I(O,U,K){var Z=F(U[0]-O[0]);return[O[0]+Z*K,O[1]+(U[1]-O[1])*K]}function F(O){for(;O<-180;)O+=360;for(;O>180;)O-=360;return O}return _.fromTile=function(O,U,K){var Z=Math.PI*(1-2*(O+.5)/Math.pow(2,U)),fe=Math.atan(.5*(Math.exp(Z)-Math.exp(-Z)))/A;return new _(fe,K)},b.units.get=function(){return u},_.prototype.distance=function(O,U){var K=F(O[0]-U[0])*this.kx,Z=(O[1]-U[1])*this.ky;return Math.sqrt(K*K+Z*Z)},_.prototype.bearing=function(O,U){var K=F(U[0]-O[0])*this.kx;return Math.atan2(K,(U[1]-O[1])*this.ky)/A},_.prototype.destination=function(O,U,K){var Z=K*A;return this.offset(O,Math.sin(Z)*U,Math.cos(Z)*U)},_.prototype.offset=function(O,U,K){return[O[0]+U/this.kx,O[1]+K/this.ky]},_.prototype.lineDistance=function(O){for(var U=0,K=0;K<O.length-1;K++)U+=this.distance(O[K],O[K+1]);return U},_.prototype.area=function(O){for(var U=0,K=0;K<O.length;K++)for(var Z=O[K],fe=0,ge=Z.length,xe=ge-1;fe<ge;xe=fe++)U+=F(Z[fe][0]-Z[xe][0])*(Z[fe][1]+Z[xe][1])*(K?-1:1);return Math.abs(U)/2*this.kx*this.ky},_.prototype.along=function(O,U){var K=0;if(U<=0)return O[0];for(var Z=0;Z<O.length-1;Z++){var fe=O[Z],ge=O[Z+1],xe=this.distance(fe,ge);if((K+=xe)>U)return I(fe,ge,(U-(K-xe))/xe)}return O[O.length-1]},_.prototype.pointToSegmentDistance=function(O,U,K){var Z=U[0],fe=U[1],ge=F(K[0]-Z)*this.kx,xe=(K[1]-fe)*this.ky,Ie=0;return ge===0&&xe===0||((Ie=(F(O[0]-Z)*this.kx*ge+(O[1]-fe)*this.ky*xe)/(ge*ge+xe*xe))>1?(Z=K[0],fe=K[1]):Ie>0&&(Z+=ge/this.kx*Ie,fe+=xe/this.ky*Ie)),ge=F(O[0]-Z)*this.kx,xe=(O[1]-fe)*this.ky,Math.sqrt(ge*ge+xe*xe)},_.prototype.pointOnLine=function(O,U){for(var K,Z,fe,ge,xe=1/0,Ie=0;Ie<O.length-1;Ie++){var Oe=O[Ie][0],rt=O[Ie][1],lt=F(O[Ie+1][0]-Oe)*this.kx,ot=(O[Ie+1][1]-rt)*this.ky,Tt=0;lt===0&&ot===0||((Tt=(F(U[0]-Oe)*this.kx*lt+(U[1]-rt)*this.ky*ot)/(lt*lt+ot*ot))>1?(Oe=O[Ie+1][0],rt=O[Ie+1][1]):Tt>0&&(Oe+=lt/this.kx*Tt,rt+=ot/this.ky*Tt));var yt=(lt=F(U[0]-Oe)*this.kx)*lt+(ot=(U[1]-rt)*this.ky)*ot;yt<xe&&(xe=yt,K=Oe,Z=rt,fe=Ie,ge=Tt)}return{point:[K,Z],index:fe,t:Math.max(0,Math.min(1,ge))}},_.prototype.lineSlice=function(O,U,K){var Z=this.pointOnLine(K,O),fe=this.pointOnLine(K,U);if(Z.index>fe.index||Z.index===fe.index&&Z.t>fe.t){var ge=Z;Z=fe,fe=ge}var xe=[Z.point],Ie=Z.index+1,Oe=fe.index;!E(K[Ie],xe[0])&&Ie<=Oe&&xe.push(K[Ie]);for(var rt=Ie+1;rt<=Oe;rt++)xe.push(K[rt]);return E(K[Oe],fe.point)||xe.push(fe.point),xe},_.prototype.lineSliceAlong=function(O,U,K){for(var Z=0,fe=[],ge=0;ge<K.length-1;ge++){var xe=K[ge],Ie=K[ge+1],Oe=this.distance(xe,Ie);if((Z+=Oe)>O&&fe.length===0&&fe.push(I(xe,Ie,(O-(Z-Oe))/Oe)),Z>=U)return fe.push(I(xe,Ie,(U-(Z-Oe))/Oe)),fe;Z>O&&fe.push(Ie)}return fe},_.prototype.bufferPoint=function(O,U){var K=U/this.ky,Z=U/this.kx;return[O[0]-Z,O[1]-K,O[0]+Z,O[1]+K]},_.prototype.bufferBBox=function(O,U){var K=U/this.ky,Z=U/this.kx;return[O[0]-Z,O[1]-K,O[2]+Z,O[3]+K]},_.prototype.insideBBox=function(O,U){return F(O[0]-U[0])>=0&&F(O[0]-U[2])<=0&&O[1]>=U[1]&&O[1]<=U[3]},Object.defineProperties(_,b),_}();var gi=R(Wr.exports),sa={exports:{}};sa.exports=function(){var u=function(h,A){if(h===void 0&&(h=[]),A===void 0&&(A=o),this.data=h,this.length=this.data.length,this.compare=A,this.length>0)for(var _=(this.length>>1)-1;_>=0;_--)this._down(_)};function o(h,A){return h<A?-1:h>A?1:0}return u.prototype.push=function(h){this.data.push(h),this.length++,this._up(this.length-1)},u.prototype.pop=function(){if(this.length!==0){var h=this.data[0],A=this.data.pop();return this.length--,this.length>0&&(this.data[0]=A,this._down(0)),h}},u.prototype.peek=function(){return this.data[0]},u.prototype._up=function(h){for(var A=this.data,_=this.compare,b=A[h];h>0;){var E=h-1>>1,I=A[E];if(_(b,I)>=0)break;A[h]=I,h=E}A[h]=b},u.prototype._down=function(h){for(var A=this.data,_=this.compare,b=this.length>>1,E=A[h];h<b;){var I=1+(h<<1),F=A[I],O=I+1;if(O<this.length&&_(A[O],F)<0&&(I=O,F=A[O]),_(F,E)>=0)break;A[h]=F,h=I}A[h]=E},u}();var Ki=R(sa.exports),zn=8192;function Is(u,o){return o.dist-u.dist}const Ys=100,Xs=50;function nl(u){const o=[1/0,1/0,-1/0,-1/0];if(o.length!==u.length)return!1;for(let h=0;h<o.length;h++)if(o[h]!==u[h])return!1;return!0}function $s(u){return u[1]-u[0]+1}function Bo(u,o){const h=u[1]>=u[0]&&u[1]<o;return h||console.warn("Distance Expression: Index is out of range"),h}function hu(u,o){if(u[0]>u[1])return[null,null];const h=$s(u);if(o){if(h===2)return[u,null];const A=Math.floor(h/2);return[[u[0],u[0]+A],[u[0]+A,u[1]]]}{if(h===1)return[u,null];const A=Math.floor(h/2)-1;return[[u[0],u[0]+A],[u[0]+A+1,u[1]]]}}function du(u,o){const h=[1/0,1/0,-1/0,-1/0];if(!Bo(o,u.length))return h;for(let A=o[0];A<=o[1];++A)Ac(h,u[A]);return h}function tp(u){const o=[1/0,1/0,-1/0,-1/0];for(let h=0;h<u.length;++h)for(let A=0;A<u[h].length;++A)Ac(o,u[h][A]);return o}function Wc(u,o,h){if(nl(u)||nl(o))return NaN;let A=0,_=0;return u[2]<o[0]&&(A=o[0]-u[2]),u[0]>o[2]&&(A=u[0]-o[2]),u[1]>o[3]&&(_=u[1]-o[3]),u[3]<o[1]&&(_=o[1]-u[3]),h.distance([0,0],[A,_])}function np(u){return 360*u-180}function xA(u){return 360/Math.PI*Math.atan(Math.exp((180-360*u)*Math.PI/180))-90}function _h(u,o){const h=Math.pow(2,o.z),A=(u.y/zn+o.y)/h;return[np((u.x/zn+o.x)/h),xA(A)]}function Gm(u,o){const h=[];for(let A=0;A<u.length;++A)h.push(_h(u[A],o));return h}function rp(u,o,h){const A=h.pointOnLine(o,u).point;return h.distance(u,A)}function fu(u,o,h,A,_){const b=h.slice(A[0],A[1]+1);let E=1/0;for(let I=o[0];I<=o[1];++I)if((E=Math.min(E,rp(u[I],b,_)))===0)return 0;return E}function ef(u,o,h,A,_){const b=Math.min(_.pointToSegmentDistance(u,h,A),_.pointToSegmentDistance(o,h,A)),E=Math.min(_.pointToSegmentDistance(h,u,o),_.pointToSegmentDistance(A,u,o));return Math.min(b,E)}function CA(u,o,h,A,_){if(!Bo(o,u.length)||!Bo(A,h.length))return NaN;let b=1/0;for(let E=o[0];E<o[1];++E)for(let I=A[0];I<A[1];++I){if(mc(u[E],u[E+1],h[I],h[I+1]))return 0;b=Math.min(b,ef(u[E],u[E+1],h[I],h[I+1],_))}return b}function EA(u,o,h,A,_){if(!Bo(o,u.length)||!Bo(A,h.length))return NaN;let b=1/0;for(let E=o[0];E<=o[1];++E)for(let I=A[0];I<=A[1];++I)if((b=Math.min(b,_.distance(u[E],h[I])))===0)return b;return b}function Km(u,o,h){if(mh(u,o,!0))return 0;let A=1/0;for(const _ of o){const b=_.length;if(b<2)return console.warn("Distance Expression: Invalid polygon!"),NaN;if(_[0]!==_[b-1]&&(A=Math.min(A,h.pointToSegmentDistance(u,_[b-1],_[0])))===0||(A=Math.min(A,rp(u,_,h)))===0)return A}return A}function pu(u,o,h,A){if(!Bo(o,u.length))return NaN;for(let b=o[0];b<=o[1];++b)if(mh(u[b],h,!0))return 0;let _=1/0;for(let b=o[0];b<o[1];++b)for(const E of h)for(let I=0,F=E.length,O=F-1;I<F;O=I++){if(mc(u[b],u[b+1],E[O],E[I]))return 0;_=Math.min(_,ef(u[b],u[b+1],E[O],E[I],A))}return _}function ip(u,o){for(const h of u)for(let A=0;A<=h.length-1;++A)if(mh(h[A],o,!0))return!0;return!1}function Wm(u,o,h,A=1/0){const _=tp(u),b=tp(o);if(A!==1/0&&Wc(_,b,h)>=A)return A;if(Kc(_,b)){if(ip(u,o))return 0}else if(ip(o,u))return 0;let E=A;for(const I of u)for(let F=0,O=I.length,U=O-1;F<O;U=F++)for(const K of o)for(let Z=0,fe=K.length,ge=fe-1;Z<fe;ge=Z++){if(mc(I[U],I[F],K[ge],K[Z]))return 0;E=Math.min(E,ef(I[U],I[F],K[ge],K[Z],h))}return E}function ap(u,o,h,A,_,b,E){if(b===null||E===null)return;const I=Wc(du(A,b),du(_,E),h);I<o&&u.push({dist:I,range1:b,range2:E})}function Xu(u,o,h,A,_=1/0){let b=Math.min(A.distance(u[0],h[0][0]),_);if(b===0)return b;const E=new Ki([{dist:0,range1:[0,u.length-1],range2:[0,0]}],Is),I=o?Xs:Ys,F=tp(h);for(;E.length;){const O=E.pop();if(O.dist>=b)continue;const U=O.range1;if($s(U)<=I){if(!Bo(U,u.length))return NaN;if(o){const K=pu(u,U,h,A);if((b=Math.min(b,K))===0)return b}else for(let K=U[0];K<=U[1];++K){const Z=Km(u[K],h,A);if((b=Math.min(b,Z))===0)return b}}else{const K=hu(U,o);if(K[0]!==null){const Z=Wc(du(u,K[0]),F,A);Z<b&&E.push({dist:Z,range1:K[0],range2:[0,0]})}if(K[1]!==null){const Z=Wc(du(u,K[1]),F,A);Z<b&&E.push({dist:Z,range1:K[1],range2:[0,0]})}}}return b}function SA(u,o,h,A,_,b=1/0){let E=Math.min(b,_.distance(u[0],h[0]));if(E===0)return E;const I=new Ki([{dist:0,range1:[0,u.length-1],range2:[0,h.length-1]}],Is),F=o?Xs:Ys,O=A?Xs:Ys;for(;I.length;){const U=I.pop();if(U.dist>=E)continue;const K=U.range1,Z=U.range2;if($s(K)<=F&&$s(Z)<=O){if(!Bo(K,u.length)||!Bo(Z,h.length))return NaN;if(o&&A?E=Math.min(E,CA(u,K,h,Z,_)):o||A?o&&!A?E=Math.min(E,fu(h,Z,u,K,_)):!o&&A&&(E=Math.min(E,fu(u,K,h,Z,_))):E=Math.min(E,EA(u,K,h,Z,_)),E===0)return E}else{const fe=hu(K,o),ge=hu(Z,A);ap(I,E,_,u,h,fe[0],ge[0]),ap(I,E,_,u,h,fe[0],ge[1]),ap(I,E,_,u,h,fe[1],ge[0]),ap(I,E,_,u,h,fe[1],ge[1])}}return E}function qm(u,o,h,A,_=1/0){let b=_;const E=du(u,[0,u.length-1]);for(const I of h)if(!(b!==1/0&&Wc(E,du(I,[0,I.length-1]),A)>=b)&&(b=Math.min(b,SA(u,o,I,!0,A,b)),b===0))return b;return b}function TA(u,o,h,A,_=1/0){let b=_;const E=du(u,[0,u.length-1]);for(const I of h){if(b!==1/0&&Wc(E,tp(I),A)>=b)continue;const F=Xu(u,o,I,A,b);if(isNaN(F))return F;if((b=Math.min(b,F))===0)return b}return b}function yh(u){return u==="Point"||u==="MultiPoint"||u==="LineString"||u==="MultiLineString"||u==="Polygon"||u==="MultiPolygon"}class rl{constructor(o,h){this.type=mr,this.geojson=o,this.geometries=h}static parse(o,h){if(o.length!==2)return h.error(`'distance' expression requires either one argument, but found ' ${o.length-1} instead.`);if(id(o[1])){const A=o[1];if(A.type==="FeatureCollection"){for(let _=0;_<A.features.length;++_)if(yh(A.features[_].geometry.type))return new rl(A,A.features[_].geometry)}else if(A.type==="Feature"){if(yh(A.geometry.type))return new rl(A,A.geometry)}else if(yh(A.type))return new rl(A,A)}return h.error("'distance' expression needs to be an array with format ['Distance', GeoJSONObj].")}evaluate(o){const h=o.geometry(),A=o.canonicalID();if(h!=null&&A!=null){if(o.geometryType()==="Point")return function(_,b,E){const I=[];for(const O of _)for(const U of O)I.push(_h(U,b));const F=new gi(I[0][1],"meters");return E.type==="Point"||E.type==="MultiPoint"||E.type==="LineString"?SA(I,!1,E.type==="Point"?[E.coordinates]:E.coordinates,E.type==="LineString",F):E.type==="MultiLineString"?qm(I,!1,E.coordinates,F):E.type==="Polygon"||E.type==="MultiPolygon"?TA(I,!1,E.type==="Polygon"?[E.coordinates]:E.coordinates,F):null}(h,A,this.geometries);if(o.geometryType()==="LineString")return function(_,b,E){const I=[];for(const O of _){const U=[];for(const K of O)U.push(_h(K,b));I.push(U)}const F=new gi(I[0][0][1],"meters");if(E.type==="Point"||E.type==="MultiPoint"||E.type==="LineString")return qm(E.type==="Point"?[E.coordinates]:E.coordinates,E.type==="LineString",I,F);if(E.type==="MultiLineString"){let O=1/0;for(let U=0;U<E.coordinates.length;U++){const K=qm(E.coordinates[U],!0,I,F,O);if(isNaN(K))return K;if((O=Math.min(O,K))===0)return O}return O}if(E.type==="Polygon"||E.type==="MultiPolygon"){let O=1/0;for(let U=0;U<I.length;U++){const K=TA(I[U],!0,E.type==="Polygon"?[E.coordinates]:E.coordinates,F,O);if(isNaN(K))return K;if((O=Math.min(O,K))===0)return O}return O}return null}(h,A,this.geometries);if(o.geometryType()==="Polygon")return function(_,b,E){const I=[];for(const O of function(U,K){const Z=U.length;if(Z<=1)return[U];const fe=[];let ge,xe;for(let Ie=0;Ie<Z;Ie++){const Oe=jm(U[Ie]);Oe!==0&&(U[Ie].area=Math.abs(Oe),xe===void 0&&(xe=Oe<0),xe===Oe<0?(ge&&fe.push(ge),ge=[U[Ie]]):ge.push(U[Ie]))}return ge&&fe.push(ge),fe}(_)){const U=[];for(let K=0;K<O.length;++K)U.push(Gm(O[K],b));I.push(U)}const F=new gi(I[0][0][0][1],"meters");if(E.type==="Point"||E.type==="MultiPoint"||E.type==="LineString")return TA(E.type==="Point"?[E.coordinates]:E.coordinates,E.type==="LineString",I,F);if(E.type==="MultiLineString"){let O=1/0;for(let U=0;U<E.coordinates.length;U++){const K=TA(E.coordinates[U],!0,I,F,O);if(isNaN(K))return K;if((O=Math.min(O,K))===0)return O}return O}return E.type==="Polygon"||E.type==="MultiPolygon"?function(O,U,K){let Z=1/0;for(const fe of O)for(const ge of U){const xe=Wm(fe,ge,K,Z);if(isNaN(xe))return xe;if((Z=Math.min(Z,xe))===0)return Z}return Z}(E.type==="Polygon"?[E.coordinates]:E.coordinates,I,F):null}(h,A,this.geometries);console.warn("Distance Expression: currently only evaluates valid Point/LineString/Polygon geometries.")}else console.warn("Distance Expression: requirs valid feature and canonical information.");return null}eachChild(){}outputDefined(){return!0}serialize(){return["distance",this.geojson]}}var Ru=rl;function gc(u,o){switch(u){case"string":return Gl(o);case"number":return+o;case"boolean":return!!o;case"color":return Wa.parse(o);case"formatted":return so.fromString(Gl(o));case"resolvedImage":return Vr.fromString(Gl(o))}return o}function vc(u,o,h,A){return A!==void 0&&(u=A*Math.round(u/A)),o!==void 0&&u<o&&(u=o),h!==void 0&&u>h&&(u=h),u}class Zu{constructor(o,h,A){this.type=o,this.key=h,this.scope=A}static parse(o,h){let A=h.expectedType;if(A==null&&(A=Gi),o.length<2||o.length>3)return h.error("Invalid number of arguments for 'config' expression.");const _=h.parse(o[1],1);if(!(_ instanceof Kl))return h.error("Key name of 'config' expression must be a string literal.");if(o.length>=3){const b=h.parse(o[2],2);return b instanceof Kl?new Zu(A,Gl(_.value),Gl(b.value)):h.error("Scope of 'config' expression must be a string literal.")}return new Zu(A,Gl(_.value))}evaluate(o){const h=[this.key,this.scope,o.scope].filter(Boolean).join(""),A=o.getConfig(h);if(!A)return null;const{type:_,value:b,values:E,minValue:I,maxValue:F,stepValue:O}=A,U=A.default.evaluate(o);let K=U;if(b){const Z=o.scope;o.scope=(Z||"").split("").slice(1).join(""),K=b.evaluate(o),o.scope=Z}return _&&(K=gc(_,K)),K===void 0||I===void 0&&F===void 0&&O===void 0||(typeof K=="number"?K=vc(K,I,F,O):Array.isArray(K)&&(K=K.map(Z=>typeof Z=="number"?vc(Z,I,F,O):Z))),b!==void 0&&K!==void 0&&E&&!E.includes(K)&&(K=U,_&&(K=gc(_,K))),(_&&_!==this.type||K!==void 0&&Ws(K)!==this.type)&&(K=gc(this.type.kind,K)),K}eachChild(){}outputDefined(){return!1}serialize(){const o=["config",this.key];return this.scope&&o.concat(this.key),o}}var qc=Zu;function ql(u){if(u instanceof Ni&&(u.name==="get"&&u.args.length===1||u.name==="feature-state"||u.name==="has"&&u.args.length===1||u.name==="properties"||u.name==="geometry-type"||u.name==="id"||/^filter-/.test(u.name))||u instanceof vr||u instanceof Ru)return!1;let o=!0;return u.eachChild(h=>{o&&!ql(h)&&(o=!1)}),o}function bh(u){if(u instanceof Ni&&u.name==="feature-state")return!1;let o=!0;return u.eachChild(h=>{o&&!bh(h)&&(o=!1)}),o}function hd(u){if(u instanceof qc)return!1;let o=!0;return u.eachChild(h=>{o&&!hd(h)&&(o=!1)}),o}function Vs(u,o){if(u instanceof Ni&&o.indexOf(u.name)>=0)return!1;let h=!0;return u.eachChild(A=>{h&&!Vs(A,o)&&(h=!1)}),h}class il{constructor(o,h){this.type=h.type,this.name=o,this.boundExpression=h}static parse(o,h){if(o.length!==2||typeof o[1]!="string")return h.error("'var' expression requires exactly one string literal argument.");const A=o[1];return h.scope.has(A)?new il(A,h.scope.get(A)):h.error(`Unknown variable "${A}". Make sure "${A}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(o){return this.boundExpression.evaluate(o)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var oo=il;class dd{constructor(o,h=[],A,_=new P0,b=[],E,I){this.registry=o,this.path=h,this.key=h.map(F=>`[${F}]`).join(""),this.scope=_,this.errors=b,this.expectedType=A,this._scope=E,this.options=I}parse(o,h,A,_,b={}){return h||A?this.concat(h,A,_)._parse(o,b):this._parse(o,b)}_parse(o,h){function A(_,b,E){return E==="assert"?new Pu(b,[_]):E==="coerce"?new Wl(b,[_]):_}if(o!==null&&typeof o!="string"&&typeof o!="boolean"&&typeof o!="number"||(o=["literal",o]),Array.isArray(o)){if(o.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const _=typeof o[0]=="string"?this.registry[o[0]]:void 0;if(_){let b=_.parse(o,this);if(!b)return null;if(this.expectedType){const E=this.expectedType,I=b.type;if(E.kind!=="string"&&E.kind!=="number"&&E.kind!=="boolean"&&E.kind!=="object"&&E.kind!=="array"||I.kind!=="value")if(E.kind!=="color"&&E.kind!=="formatted"&&E.kind!=="resolvedImage"||I.kind!=="value"&&I.kind!=="string"){if(this.checkSubtype(E,I))return null}else b=A(b,E,h.typeAnnotation||"coerce");else b=A(b,E,h.typeAnnotation||"assert")}if(!(b instanceof Kl)&&b.type.kind!=="resolvedImage"&&fd(b)){const E=new ld(this._scope,this.options);try{b=new Kl(b.type,b.evaluate(E))}catch(I){return this.error(I.message),null}}return b}return Wl.parse(["to-array",o],this)}return this.error(o===void 0?"'undefined' value invalid. Use null instead.":typeof o=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof o} instead.`)}concat(o,h,A){const _=typeof o=="number"?this.path.concat(o):this.path,b=A?this.scope.concat(A):this.scope;return new dd(this.registry,_,h||null,b,this.errors,this._scope,this.options)}error(o,...h){const A=`${this.key}${h.map(_=>`[${_}]`).join("")}`;this.errors.push(new Yu(A,o))}checkSubtype(o,h){const A=nd(o,h);return A&&this.error(A),A}}var sp=dd;function fd(u){if(u instanceof oo)return fd(u.boundExpression);if(u instanceof Ni&&u.name==="error"||u instanceof Zf||u instanceof vr||u instanceof Ru||u instanceof qc)return!1;const o=u instanceof Wl||u instanceof Pu;let h=!0;return u.eachChild(A=>{h=o?h&&fd(A):h&&A instanceof Kl}),!!h&&ql(u)&&Vs(u,["zoom","heatmap-density","line-progress","raster-value","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center","measure-light","raster-particle-speed"])}function Ou(u,o){const h=u.length-1;let A,_,b=0,E=h,I=0;for(;b<=E;)if(I=Math.floor((b+E)/2),A=u[I],_=u[I+1],A<=o){if(I===h||o<_)return I;b=I+1}else{if(!(A>o))throw new qs("Input is not a number.");E=I-1}return 0}class tf{constructor(o,h,A){this.type=o,this.input=h,this.labels=[],this.outputs=[];for(const[_,b]of A)this.labels.push(_),this.outputs.push(b)}static parse(o,h){if(o.length-1<4)return h.error(`Expected at least 4 arguments, but found only ${o.length-1}.`);if((o.length-1)%2!=0)return h.error("Expected an even number of arguments.");const A=h.parse(o[1],1,mr);if(!A)return null;const _=[];let b=null;h.expectedType&&h.expectedType.kind!=="value"&&(b=h.expectedType);for(let E=1;E<o.length;E+=2){const I=E===1?-1/0:o[E],F=o[E+1],O=E,U=E+1;if(typeof I!="number")return h.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',O);if(_.length&&_[_.length-1][0]>=I)return h.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',O);const K=h.parse(F,U,b);if(!K)return null;b=b||K.type,_.push([I,K])}return new tf(b,A,_)}evaluate(o){const h=this.labels,A=this.outputs;if(h.length===1)return A[0].evaluate(o);const _=this.input.evaluate(o);if(_<=h[0])return A[0].evaluate(o);const b=h.length;return _>=h[b-1]?A[b-1].evaluate(o):A[Ou(h,_)].evaluate(o)}eachChild(o){o(this.input);for(const h of this.outputs)o(h)}outputDefined(){return this.outputs.every(o=>o.outputDefined())}serialize(){const o=["step",this.input.serialize()];for(let h=0;h<this.labels.length;h++)h>0&&o.push(this.labels[h]),o.push(this.outputs[h].serialize());return o}}var Yl=tf;const wh=.95047,qa=1.08883,xs=4/29,Ls=6/29,Mo=3*Ls*Ls,xh=Ls*Ls*Ls,nf=Math.PI/180,Xl=180/Math.PI;function op(u){return u>xh?Math.pow(u,1/3):u/Mo+xs}function Ym(u){return u>Ls?u*u*u:Mo*(u-xs)}function Xm(u){return 255*(u<=.0031308?12.92*u:1.055*Math.pow(u,1/2.4)-.055)}function Zm(u){return(u/=255)<=.04045?u/12.92:Math.pow((u+.055)/1.055,2.4)}function R0(u){const o=Zm(u.r),h=Zm(u.g),A=Zm(u.b),_=op((.4124564*o+.3575761*h+.1804375*A)/wh),b=op((.2126729*o+.7151522*h+.072175*A)/1);return{l:116*b-16,a:500*(_-b),b:200*(b-op((.0193339*o+.119192*h+.9503041*A)/qa)),alpha:u.a}}function O0(u){let o=(u.l+16)/116,h=isNaN(u.a)?o:o+u.a/500,A=isNaN(u.b)?o:o-u.b/200;return o=1*Ym(o),h=wh*Ym(h),A=qa*Ym(A),new Wa(Xm(3.2404542*h-1.5371385*o-.4985314*A),Xm(-.969266*h+1.8760108*o+.041556*A),Xm(.0556434*h-.2040259*o+1.0572252*A),u.alpha)}function $1(u,o,h){const A=o-u;return u+h*(A>180||A<-180?A-360*Math.round(A/360):A)}const rf={forward:R0,reverse:O0,interpolate:function(u,o,h){return{l:Di(u.l,o.l,h),a:Di(u.a,o.a,h),b:Di(u.b,o.b,h),alpha:Di(u.alpha,o.alpha,h)}}},pd={forward:function(u){const{l:o,a:h,b:A}=R0(u),_=Math.atan2(A,h)*Xl;return{h:_<0?_+360:_,c:Math.sqrt(h*h+A*A),l:o,alpha:u.a}},reverse:function(u){const o=u.h*nf,h=u.c;return O0({l:u.l,a:Math.cos(o)*h,b:Math.sin(o)*h,alpha:u.alpha})},interpolate:function(u,o,h){return{h:$1(u.h,o.h,h),c:Di(u.c,o.c,h),l:Di(u.l,o.l,h),alpha:Di(u.alpha,o.alpha,h)}}};var Au=Object.freeze({__proto__:null,hcl:pd,lab:rf});class Zl{constructor(o,h,A,_,b){this.type=o,this.operator=h,this.interpolation=A,this.input=_,this.labels=[],this.outputs=[];for(const[E,I]of b)this.labels.push(E),this.outputs.push(I)}static interpolationFactor(o,h,A,_){let b=0;if(o.name==="exponential")b=Ad(h,o.base,A,_);else if(o.name==="linear")b=Ad(h,1,A,_);else if(o.name==="cubic-bezier"){const E=o.controlPoints;b=new H(E[0],E[1],E[2],E[3]).solve(Ad(h,1,A,_))}return b}static parse(o,h){let[A,_,b,...E]=o;if(!Array.isArray(_)||_.length===0)return h.error("Expected an interpolation type expression.",1);if(_[0]==="linear")_={name:"linear"};else if(_[0]==="exponential"){const O=_[1];if(typeof O!="number")return h.error("Exponential interpolation requires a numeric base.",1,1);_={name:"exponential",base:O}}else{if(_[0]!=="cubic-bezier")return h.error(`Unknown interpolation type ${String(_[0])}`,1,0);{const O=_.slice(1);if(O.length!==4||O.some(U=>typeof U!="number"||U<0||U>1))return h.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);_={name:"cubic-bezier",controlPoints:O}}}if(o.length-1<4)return h.error(`Expected at least 4 arguments, but found only ${o.length-1}.`);if((o.length-1)%2!=0)return h.error("Expected an even number of arguments.");if(b=h.parse(b,2,mr),!b)return null;const I=[];let F=null;A==="interpolate-hcl"||A==="interpolate-lab"?F=Iu:h.expectedType&&h.expectedType.kind!=="value"&&(F=h.expectedType);for(let O=0;O<E.length;O+=2){const U=E[O],K=E[O+1],Z=O+3,fe=O+4;if(typeof U!="number")return h.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Z);if(I.length&&I[I.length-1][0]>=U)return h.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Z);const ge=h.parse(K,fe,F);if(!ge)return null;F=F||ge.type,I.push([U,ge])}return F.kind==="number"||F.kind==="color"||F.kind==="array"&&F.itemType.kind==="number"&&typeof F.N=="number"?new Zl(F,A,_,b,I):h.error(`Type ${ws(F)} is not interpolatable.`)}evaluate(o){const h=this.labels,A=this.outputs;if(h.length===1)return A[0].evaluate(o);const _=this.input.evaluate(o);if(_<=h[0])return A[0].evaluate(o);const b=h.length;if(_>=h[b-1])return A[b-1].evaluate(o);const E=Ou(h,_),I=Zl.interpolationFactor(this.interpolation,_,h[E],h[E+1]),F=A[E].evaluate(o),O=A[E+1].evaluate(o);return this.operator==="interpolate"?Xd[this.type.kind.toLowerCase()](F,O,I):this.operator==="interpolate-hcl"?pd.reverse(pd.interpolate(pd.forward(F),pd.forward(O),I)):rf.reverse(rf.interpolate(rf.forward(F),rf.forward(O),I))}eachChild(o){o(this.input);for(const h of this.outputs)o(h)}outputDefined(){return this.outputs.every(o=>o.outputDefined())}serialize(){let o;o=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const h=[this.operator,o,this.input.serialize()];for(let A=0;A<this.labels.length;A++)h.push(this.labels[A],this.outputs[A].serialize());return h}}function Ad(u,o,h,A){const _=A-h,b=u-h;return _===0?0:o===1?b/_:(Math.pow(o,b)-1)/(Math.pow(o,_)-1)}var Jl=Zl;class lp{constructor(o,h){this.type=o,this.args=h}static parse(o,h){if(o.length<2)return h.error("Expectected at least one argument.");let A=null;const _=h.expectedType;_&&_.kind!=="value"&&(A=_);const b=[];for(const I of o.slice(1)){const F=h.parse(I,1+b.length,A,void 0,{typeAnnotation:"omit"});if(!F)return null;A=A||F.type,b.push(F)}const E=_&&b.some(I=>nd(_,I.type));return new lp(E?Gi:A,b)}evaluate(o){let h,A=null,_=0;for(const b of this.args){if(_++,A=b.evaluate(o),A&&A instanceof Vr&&!A.available&&(h||(h=A),A=null,_===this.args.length))return h;if(A!==null)break}return A}eachChild(o){this.args.forEach(o)}outputDefined(){return this.args.every(o=>o.outputDefined())}serialize(){const o=["coalesce"];return this.eachChild(h=>{o.push(h.serialize())}),o}}var BA=lp;class up{constructor(o,h){this.type=h.type,this.bindings=[].concat(o),this.result=h}evaluate(o){return this.result.evaluate(o)}eachChild(o){for(const h of this.bindings)o(h[1]);o(this.result)}static parse(o,h){if(o.length<4)return h.error(`Expected at least 3 arguments, but found ${o.length-1} instead.`);const A=[];for(let b=1;b<o.length-1;b+=2){const E=o[b];if(typeof E!="string")return h.error(`Expected string, but found ${typeof E} instead.`,b);if(/[^a-zA-Z0-9_]/.test(E))return h.error("Variable names must contain only alphanumeric characters or '_'.",b);const I=h.parse(o[b+1],b+1);if(!I)return null;A.push([E,I])}const _=h.parse(o[o.length-1],o.length-1,h.expectedType,A);return _?new up(A,_):null}outputDefined(){return this.result.outputDefined()}serialize(){const o=["let"];for(const[h,A]of this.bindings)o.push(h,A.serialize());return o.push(this.result.serialize()),o}}var Jm=up;class md{constructor(o,h,A){this.type=o,this.index=h,this.input=A}static parse(o,h){if(o.length!==3)return h.error(`Expected 2 arguments, but found ${o.length-1} instead.`);const A=h.parse(o[1],1,mr),_=h.parse(o[2],2,jl(h.expectedType||Gi));return A&&_?new md(_.type.itemType,A,_):null}evaluate(o){const h=this.index.evaluate(o),A=this.input.evaluate(o);if(h<0)throw new qs(`Array index out of bounds: ${h} < 0.`);if(h>=A.length)throw new qs(`Array index out of bounds: ${h} > ${A.length-1}.`);if(h!==Math.floor(h))throw new qs(`Array index must be an integer, but found ${h} instead.`);return A[h]}eachChild(o){o(this.index),o(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var ea=md;class eg{constructor(o,h){this.type=Aa,this.needle=o,this.haystack=h}static parse(o,h){if(o.length!==3)return h.error(`Expected 2 arguments, but found ${o.length-1} instead.`);const A=h.parse(o[1],1,Gi),_=h.parse(o[2],2,Gi);return A&&_?si(A.type,[Aa,pa,mr,Zd,Gi])?new eg(A,_):h.error(`Expected first argument to be of type boolean, string, number or null, but found ${ws(A.type)} instead`):null}evaluate(o){const h=this.needle.evaluate(o),A=this.haystack.evaluate(o);if(A==null)return!1;if(!gl(h,["boolean","string","number","null"]))throw new qs(`Expected first argument to be of type boolean, string, number or null, but found ${ws(Ws(h))} instead.`);if(!gl(A,["string","array"]))throw new qs(`Expected second argument to be of type array or string, but found ${ws(Ws(A))} instead.`);return A.indexOf(h)>=0}eachChild(o){o(this.needle),o(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var D0=eg;class MA{constructor(o,h,A){this.type=mr,this.needle=o,this.haystack=h,this.fromIndex=A}static parse(o,h){if(o.length<=2||o.length>=5)return h.error(`Expected 3 or 4 arguments, but found ${o.length-1} instead.`);const A=h.parse(o[1],1,Gi),_=h.parse(o[2],2,Gi);if(!A||!_)return null;if(!si(A.type,[Aa,pa,mr,Zd,Gi]))return h.error(`Expected first argument to be of type boolean, string, number or null, but found ${ws(A.type)} instead`);if(o.length===4){const b=h.parse(o[3],3,mr);return b?new MA(A,_,b):null}return new MA(A,_)}evaluate(o){const h=this.needle.evaluate(o),A=this.haystack.evaluate(o);if(!gl(h,["boolean","string","number","null"]))throw new qs(`Expected first argument to be of type boolean, string, number or null, but found ${ws(Ws(h))} instead.`);if(!gl(A,["string","array"]))throw new qs(`Expected second argument to be of type array or string, but found ${ws(Ws(A))} instead.`);if(this.fromIndex){const _=this.fromIndex.evaluate(o);return A.indexOf(h,_)}return A.indexOf(h)}eachChild(o){o(this.needle),o(this.haystack),this.fromIndex&&o(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const o=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),o]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var eb=MA;class V1{constructor(o,h,A,_,b,E){this.inputType=o,this.type=h,this.input=A,this.cases=_,this.outputs=b,this.otherwise=E}static parse(o,h){if(o.length<5)return h.error(`Expected at least 4 arguments, but found only ${o.length-1}.`);if(o.length%2!=1)return h.error("Expected an even number of arguments.");let A,_;h.expectedType&&h.expectedType.kind!=="value"&&(_=h.expectedType);const b={},E=[];for(let O=2;O<o.length-1;O+=2){let U=o[O];const K=o[O+1];Array.isArray(U)||(U=[U]);const Z=h.concat(O);if(U.length===0)return Z.error("Expected at least one branch label.");for(const ge of U){if(typeof ge!="number"&&typeof ge!="string")return Z.error("Branch labels must be numbers or strings.");if(typeof ge=="number"&&Math.abs(ge)>Number.MAX_SAFE_INTEGER)return Z.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof ge=="number"&&Math.floor(ge)!==ge)return Z.error("Numeric branch labels must be integer values.");if(A){if(Z.checkSubtype(A,Ws(ge)))return null}else A=Ws(ge);if(b[String(ge)]!==void 0)return Z.error("Branch labels must be unique.");b[String(ge)]=E.length}const fe=h.parse(K,O,_);if(!fe)return null;_=_||fe.type,E.push(fe)}const I=h.parse(o[1],1,Gi);if(!I)return null;const F=h.parse(o[o.length-1],o.length-1,_);return F?I.type.kind!=="value"&&h.concat(1).checkSubtype(A,I.type)?null:new V1(A,_,I,b,E,F):null}evaluate(o){const h=this.input.evaluate(o);return(Ws(h)===this.inputType&&this.outputs[this.cases[h]]||this.otherwise).evaluate(o)}eachChild(o){o(this.input),this.outputs.forEach(o),o(this.otherwise)}outputDefined(){return this.outputs.every(o=>o.outputDefined())&&this.otherwise.outputDefined()}serialize(){const o=["match",this.input.serialize()],h=Object.keys(this.cases).sort(),A=[],_={};for(const E of h){const I=_[this.cases[E]];I===void 0?(_[this.cases[E]]=A.length,A.push([this.cases[E],[E]])):A[I][1].push(E)}const b=E=>this.inputType.kind==="number"?Number(E):E;for(const[E,I]of A)o.push(I.length===1?b(I[0]):I.map(b)),o.push(this.outputs[E].serialize());return o.push(this.otherwise.serialize()),o}}var H1=V1;class N0{constructor(o,h,A){this.type=o,this.branches=h,this.otherwise=A}static parse(o,h){if(o.length<4)return h.error(`Expected at least 3 arguments, but found only ${o.length-1}.`);if(o.length%2!=0)return h.error("Expected an odd number of arguments.");let A;h.expectedType&&h.expectedType.kind!=="value"&&(A=h.expectedType);const _=[];for(let E=1;E<o.length-1;E+=2){const I=h.parse(o[E],E,Aa);if(!I)return null;const F=h.parse(o[E+1],E+1,A);if(!F)return null;_.push([I,F]),A=A||F.type}const b=h.parse(o[o.length-1],o.length-1,A);return b?new N0(A,_,b):null}evaluate(o){for(const[h,A]of this.branches)if(h.evaluate(o))return A.evaluate(o);return this.otherwise.evaluate(o)}eachChild(o){for(const[h,A]of this.branches)o(h),o(A);o(this.otherwise)}outputDefined(){return this.branches.every(([o,h])=>h.outputDefined())&&this.otherwise.outputDefined()}serialize(){const o=["case"];return this.eachChild(h=>{o.push(h.serialize())}),o}}var tb=N0;class tg{constructor(o,h,A,_){this.type=o,this.input=h,this.beginIndex=A,this.endIndex=_}static parse(o,h){if(o.length<=2||o.length>=5)return h.error(`Expected 3 or 4 arguments, but found ${o.length-1} instead.`);const A=h.parse(o[1],1,Gi),_=h.parse(o[2],2,mr);if(!A||!_)return null;if(!si(A.type,[jl(Gi),pa,Gi]))return h.error(`Expected first argument to be of type array or string, but found ${ws(A.type)} instead`);if(o.length===4){const b=h.parse(o[3],3,mr);return b?new tg(A.type,A,_,b):null}return new tg(A.type,A,_)}evaluate(o){const h=this.input.evaluate(o),A=this.beginIndex.evaluate(o);if(!gl(h,["string","array"]))throw new qs(`Expected first argument to be of type array or string, but found ${ws(Ws(h))} instead.`);if(this.endIndex){const _=this.endIndex.evaluate(o);return h.slice(A,_)}return h.slice(A)}eachChild(o){o(this.input),o(this.beginIndex),this.endIndex&&o(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const o=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),o]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var IA=tg;function Q1(u,o){return u==="=="||u==="!="?o.kind==="boolean"||o.kind==="string"||o.kind==="number"||o.kind==="null"||o.kind==="value":o.kind==="string"||o.kind==="number"||o.kind==="value"}function ng(u,o,h,A){return A.compare(o,h)===0}function af(u,o,h){const A=u!=="=="&&u!=="!=";return class Hre{constructor(b,E,I){this.type=Aa,this.lhs=b,this.rhs=E,this.collator=I,this.hasUntypedArgument=b.type.kind==="value"||E.type.kind==="value"}static parse(b,E){if(b.length!==3&&b.length!==4)return E.error("Expected two or three arguments.");const I=b[0];let F=E.parse(b[1],1,Gi);if(!F)return null;if(!Q1(I,F.type))return E.concat(1).error(`"${I}" comparisons are not supported for type '${ws(F.type)}'.`);let O=E.parse(b[2],2,Gi);if(!O)return null;if(!Q1(I,O.type))return E.concat(2).error(`"${I}" comparisons are not supported for type '${ws(O.type)}'.`);if(F.type.kind!==O.type.kind&&F.type.kind!=="value"&&O.type.kind!=="value")return E.error(`Cannot compare types '${ws(F.type)}' and '${ws(O.type)}'.`);A&&(F.type.kind==="value"&&O.type.kind!=="value"?F=new Pu(O.type,[F]):F.type.kind!=="value"&&O.type.kind==="value"&&(O=new Pu(F.type,[O])));let U=null;if(b.length===4){if(F.type.kind!=="string"&&O.type.kind!=="string"&&F.type.kind!=="value"&&O.type.kind!=="value")return E.error("Cannot use collator to compare non-string types.");if(U=E.parse(b[3],3,ed),!U)return null}return new Hre(F,O,U)}evaluate(b){const E=this.lhs.evaluate(b),I=this.rhs.evaluate(b);if(A&&this.hasUntypedArgument){const F=Ws(E),O=Ws(I);if(F.kind!==O.kind||F.kind!=="string"&&F.kind!=="number")throw new qs(`Expected arguments for "${u}" to be (string, string) or (number, number), but found (${F.kind}, ${O.kind}) instead.`)}if(this.collator&&!A&&this.hasUntypedArgument){const F=Ws(E),O=Ws(I);if(F.kind!=="string"||O.kind!=="string")return o(b,E,I)}return this.collator?h(b,E,I,this.collator.evaluate(b)):o(b,E,I)}eachChild(b){b(this.lhs),b(this.rhs),this.collator&&b(this.collator)}outputDefined(){return!0}serialize(){const b=[u];return this.eachChild(E=>{b.push(E.serialize())}),b}}}const cp=af("==",function(u,o,h){return o===h},ng),j1=af("!=",function(u,o,h){return o!==h},function(u,o,h,A){return!ng(0,o,h,A)}),Ex=af("<",function(u,o,h){return o<h},function(u,o,h,A){return A.compare(o,h)<0}),nb=af(">",function(u,o,h){return o>h},function(u,o,h,A){return A.compare(o,h)>0}),rb=af("<=",function(u,o,h){return o<=h},function(u,o,h,A){return A.compare(o,h)<=0}),Sx=af(">=",function(u,o,h){return o>=h},function(u,o,h,A){return A.compare(o,h)>=0});class G1{constructor(o,h,A,_,b,E){this.type=pa,this.number=o,this.locale=h,this.currency=A,this.unit=_,this.minFractionDigits=b,this.maxFractionDigits=E}static parse(o,h){if(o.length!==3)return h.error("Expected two arguments.");const A=h.parse(o[1],1,mr);if(!A)return null;const _=o[2];if(typeof _!="object"||Array.isArray(_))return h.error("NumberFormat options argument must be an object.");let b=null;if(_.locale&&(b=h.parse(_.locale,1,pa),!b))return null;let E=null;if(_.currency&&(E=h.parse(_.currency,1,pa),!E))return null;let I=null;if(_.unit&&(I=h.parse(_.unit,1,pa),!I))return null;let F=null;if(_["min-fraction-digits"]&&(F=h.parse(_["min-fraction-digits"],1,mr),!F))return null;let O=null;return _["max-fraction-digits"]&&(O=h.parse(_["max-fraction-digits"],1,mr),!O)?null:new G1(A,b,E,I,F,O)}evaluate(o){return new Intl.NumberFormat(this.locale?this.locale.evaluate(o):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(o):void 0,unit:this.unit?this.unit.evaluate(o):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(o):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(o):void 0}).format(this.number.evaluate(o))}eachChild(o){o(this.number),this.locale&&o(this.locale),this.currency&&o(this.currency),this.unit&&o(this.unit),this.minFractionDigits&&o(this.minFractionDigits),this.maxFractionDigits&&o(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const o={};return this.locale&&(o.locale=this.locale.serialize()),this.currency&&(o.currency=this.currency.serialize()),this.unit&&(o.unit=this.unit.serialize()),this.minFractionDigits&&(o["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(o["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),o]}}class K1{constructor(o){this.type=mr,this.input=o}static parse(o,h){if(o.length!==2)return h.error(`Expected 1 argument, but found ${o.length-1} instead.`);const A=h.parse(o[1],1);return A?A.type.kind!=="array"&&A.type.kind!=="string"&&A.type.kind!=="value"?h.error(`Expected argument of type string or array, but found ${ws(A.type)} instead.`):new K1(A):null}evaluate(o){const h=this.input.evaluate(o);if(typeof h=="string"||Array.isArray(h))return h.length;throw new qs(`Expected value to be of type string or array, but found ${ws(Ws(h))} instead.`)}eachChild(o){o(this.input)}outputDefined(){return!1}serialize(){const o=["length"];return this.eachChild(h=>{o.push(h.serialize())}),o}}function gd(u){return function(){u=1831565813+(u|=0)|0;let o=Math.imul(u^u>>>15,1|u);return o=o+Math.imul(o^o>>>7,61|o)^o,((o^o>>>14)>>>0)/4294967296}}const Ju={"==":cp,"!=":j1,">":nb,"<":Ex,">=":Sx,"<=":rb,array:Pu,at:ea,boolean:Pu,case:tb,coalesce:BA,collator:Zf,format:sd,image:Ah,in:D0,"index-of":eb,interpolate:Jl,"interpolate-hcl":Jl,"interpolate-lab":Jl,length:K1,let:Jm,literal:Kl,match:H1,number:Pu,"number-format":G1,object:Pu,slice:IA,step:Yl,string:Pu,"to-boolean":Wl,"to-color":Wl,"to-number":Wl,"to-string":Wl,var:oo,within:vr,distance:Ru,config:qc};function Yc(u,[o,h,A,_]){o=o.evaluate(u),h=h.evaluate(u),A=A.evaluate(u);const b=_?_.evaluate(u):1,E=F0(o,h,A,b);if(E)throw new qs(E);return new Wa(o/255*b,h/255*b,A/255*b,b)}function ib(u,[o,h,A,_]){o=o.evaluate(u),h=h.evaluate(u),A=A.evaluate(u);const b=_?_.evaluate(u):1,E=function(O,U,K,Z){return typeof O=="number"&&O>=0&&O<=360?typeof U=="number"&&U>=0&&U<=100&&typeof K=="number"&&K>=0&&K<=100?Z===void 0||typeof Z=="number"&&Z>=0&&Z<=1?null:`Invalid hsla value [${[O,U,K,Z].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid hsla value [${(typeof Z=="number"?[O,U,K,Z]:[O,U,K]).join(", ")}]: 's', and 'l' must be between 0 and 100.`:`Invalid hsla value [${(typeof Z=="number"?[O,U,K,Z]:[O,U,K]).join(", ")}]: 'h' must be between 0 and 360.`}(o,h,A,b);if(E)throw new qs(E);const I=`hsla(${o}, ${h}%, ${A}%, ${b})`,F=Wa.parse(I);if(!F)throw new qs(`Failed to parse HSLA color: ${I}`);return F}function U0(u,o){return u in o}function Ch(u,o){const h=o[u];return h===void 0?null:h}function al(u){return{type:u}}Ni.register(Ju,{error:[{kind:"error"},[pa],(u,[o])=>{throw new qs(o.evaluate(u))}],typeof:[pa,[Gi],(u,[o])=>ws(Ws(o.evaluate(u)))],"to-rgba":[jl(mr,4),[Iu],(u,[o])=>o.evaluate(u).toArray()],rgb:[Iu,[mr,mr,mr],Yc],rgba:[Iu,[mr,mr,mr,mr],Yc],hsl:[Iu,[mr,mr,mr],ib],hsla:[Iu,[mr,mr,mr,mr],ib],has:{type:Aa,overloads:[[[pa],(u,[o])=>U0(o.evaluate(u),u.properties())],[[pa,Lu],(u,[o,h])=>U0(o.evaluate(u),h.evaluate(u))]]},get:{type:Gi,overloads:[[[pa],(u,[o])=>Ch(o.evaluate(u),u.properties())],[[pa,Lu],(u,[o,h])=>Ch(o.evaluate(u),h.evaluate(u))]]},"feature-state":[Gi,[pa],(u,[o])=>Ch(o.evaluate(u),u.featureState||{})],properties:[Lu,[],u=>u.properties()],"geometry-type":[pa,[],u=>u.geometryType()],id:[Gi,[],u=>u.id()],zoom:[mr,[],u=>u.globals.zoom],pitch:[mr,[],u=>u.globals.pitch||0],"distance-from-center":[mr,[],u=>u.distanceFromCenter()],"measure-light":[mr,[pa],(u,[o])=>u.measureLight(o.evaluate(u))],"heatmap-density":[mr,[],u=>u.globals.heatmapDensity||0],"line-progress":[mr,[],u=>u.globals.lineProgress||0],"raster-value":[mr,[],u=>u.globals.rasterValue||0],"raster-particle-speed":[mr,[],u=>u.globals.rasterParticleSpeed||0],"sky-radial-progress":[mr,[],u=>u.globals.skyRadialProgress||0],accumulated:[Gi,[],u=>u.globals.accumulated===void 0?null:u.globals.accumulated],"+":[mr,al(mr),(u,o)=>{let h=0;for(const A of o)h+=A.evaluate(u);return h}],"*":[mr,al(mr),(u,o)=>{let h=1;for(const A of o)h*=A.evaluate(u);return h}],"-":{type:mr,overloads:[[[mr,mr],(u,[o,h])=>o.evaluate(u)-h.evaluate(u)],[[mr],(u,[o])=>-o.evaluate(u)]]},"/":[mr,[mr,mr],(u,[o,h])=>o.evaluate(u)/h.evaluate(u)],"%":[mr,[mr,mr],(u,[o,h])=>o.evaluate(u)%h.evaluate(u)],ln2:[mr,[],()=>Math.LN2],pi:[mr,[],()=>Math.PI],e:[mr,[],()=>Math.E],"^":[mr,[mr,mr],(u,[o,h])=>Math.pow(o.evaluate(u),h.evaluate(u))],sqrt:[mr,[mr],(u,[o])=>Math.sqrt(o.evaluate(u))],log10:[mr,[mr],(u,[o])=>Math.log(o.evaluate(u))/Math.LN10],ln:[mr,[mr],(u,[o])=>Math.log(o.evaluate(u))],log2:[mr,[mr],(u,[o])=>Math.log(o.evaluate(u))/Math.LN2],sin:[mr,[mr],(u,[o])=>Math.sin(o.evaluate(u))],cos:[mr,[mr],(u,[o])=>Math.cos(o.evaluate(u))],tan:[mr,[mr],(u,[o])=>Math.tan(o.evaluate(u))],asin:[mr,[mr],(u,[o])=>Math.asin(o.evaluate(u))],acos:[mr,[mr],(u,[o])=>Math.acos(o.evaluate(u))],atan:[mr,[mr],(u,[o])=>Math.atan(o.evaluate(u))],min:[mr,al(mr),(u,o)=>Math.min(...o.map(h=>h.evaluate(u)))],max:[mr,al(mr),(u,o)=>Math.max(...o.map(h=>h.evaluate(u)))],abs:[mr,[mr],(u,[o])=>Math.abs(o.evaluate(u))],round:[mr,[mr],(u,[o])=>{const h=o.evaluate(u);return h<0?-Math.round(-h):Math.round(h)}],floor:[mr,[mr],(u,[o])=>Math.floor(o.evaluate(u))],ceil:[mr,[mr],(u,[o])=>Math.ceil(o.evaluate(u))],"filter-==":[Aa,[pa,Gi],(u,[o,h])=>u.properties()[o.value]===h.value],"filter-id-==":[Aa,[Gi],(u,[o])=>u.id()===o.value],"filter-type-==":[Aa,[pa],(u,[o])=>u.geometryType()===o.value],"filter-<":[Aa,[pa,Gi],(u,[o,h])=>{const A=u.properties()[o.value],_=h.value;return typeof A==typeof _&&A<_}],"filter-id-<":[Aa,[Gi],(u,[o])=>{const h=u.id(),A=o.value;return typeof h==typeof A&&h<A}],"filter->":[Aa,[pa,Gi],(u,[o,h])=>{const A=u.properties()[o.value],_=h.value;return typeof A==typeof _&&A>_}],"filter-id->":[Aa,[Gi],(u,[o])=>{const h=u.id(),A=o.value;return typeof h==typeof A&&h>A}],"filter-<=":[Aa,[pa,Gi],(u,[o,h])=>{const A=u.properties()[o.value],_=h.value;return typeof A==typeof _&&A<=_}],"filter-id-<=":[Aa,[Gi],(u,[o])=>{const h=u.id(),A=o.value;return typeof h==typeof A&&h<=A}],"filter->=":[Aa,[pa,Gi],(u,[o,h])=>{const A=u.properties()[o.value],_=h.value;return typeof A==typeof _&&A>=_}],"filter-id->=":[Aa,[Gi],(u,[o])=>{const h=u.id(),A=o.value;return typeof h==typeof A&&h>=A}],"filter-has":[Aa,[Gi],(u,[o])=>o.value in u.properties()],"filter-has-id":[Aa,[],u=>u.id()!==null&&u.id()!==void 0],"filter-type-in":[Aa,[jl(pa)],(u,[o])=>o.value.indexOf(u.geometryType())>=0],"filter-id-in":[Aa,[jl(Gi)],(u,[o])=>o.value.indexOf(u.id())>=0],"filter-in-small":[Aa,[pa,jl(Gi)],(u,[o,h])=>h.value.indexOf(u.properties()[o.value])>=0],"filter-in-large":[Aa,[pa,jl(Gi)],(u,[o,h])=>function(A,_,b,E){for(;b<=E;){const I=b+E>>1;if(_[I]===A)return!0;_[I]>A?E=I-1:b=I+1}return!1}(u.properties()[o.value],h.value,0,h.value.length-1)],all:{type:Aa,overloads:[[[Aa,Aa],(u,[o,h])=>o.evaluate(u)&&h.evaluate(u)],[al(Aa),(u,o)=>{for(const h of o)if(!h.evaluate(u))return!1;return!0}]]},any:{type:Aa,overloads:[[[Aa,Aa],(u,[o,h])=>o.evaluate(u)||h.evaluate(u)],[al(Aa),(u,o)=>{for(const h of o)if(h.evaluate(u))return!0;return!1}]]},"!":[Aa,[Aa],(u,[o])=>!o.evaluate(u)],"is-supported-script":[Aa,[pa],(u,[o])=>{const h=u.globals&&u.globals.isSupportedScript;return!h||h(o.evaluate(u))}],upcase:[pa,[pa],(u,[o])=>o.evaluate(u).toUpperCase()],downcase:[pa,[pa],(u,[o])=>o.evaluate(u).toLowerCase()],concat:[pa,al(Gi),(u,o)=>o.map(h=>Gl(h.evaluate(u))).join("")],"resolved-locale":[pa,[ed],(u,[o])=>o.evaluate(u).resolvedLocale()],random:[mr,[mr,mr,Gi],(u,o)=>{const[h,A,_]=o.map(E=>E.evaluate(u));if(h>A||h===A)return h;let b;if(typeof _=="string")b=function(E){let I=0;if(E.length===0)return I;for(let F=0;F<E.length;F++)I=(I<<5)-I+E.charCodeAt(F),I|=0;return I}(_);else{if(typeof _!="number")throw new qs(`Invalid seed input: ${_}`);b=_}return h+gd(b)()*(A-h)}]});var LA=Ju;function W1(u){return{result:"success",value:u}}function sf(u){return{result:"error",value:u}}function q1(u,o){return!!u&&!!u.parameters&&u.parameters.indexOf(o)>-1}function rg(u){return u["property-type"]==="data-driven"}function z0(u){return q1(u.expression,"measure-light")}function ab(u){return q1(u.expression,"zoom")}function kA(u){return!!u.expression&&u.expression.interpolated}function hp(u){return typeof u=="object"&&u!==null&&!Array.isArray(u)}function PA(u){return u}function ig(u,o){const h=o.type==="color",A=u.stops&&typeof u.stops[0][0]=="object",_=A||!(A||u.property!==void 0),b=u.type||(kA(o)?"exponential":"interval");if(h&&((u=yA({},u)).stops&&(u.stops=u.stops.map(O=>[O[0],Wa.parse(O[1])])),u.default=Wa.parse(u.default?u.default:o.default)),u.colorSpace&&u.colorSpace!=="rgb"&&!Au[u.colorSpace])throw new Error(`Unknown color space: ${u.colorSpace}`);let E,I,F;if(b==="exponential")E=ob;else if(b==="interval")E=sb;else if(b==="categorical"){E=Tx,I=Object.create(null);for(const O of u.stops)I[O[0]]=O[1];F=typeof u.stops[0][0]}else{if(b!=="identity")throw new Error(`Unknown function type "${b}"`);E=lb}if(A){const O={},U=[];for(let fe=0;fe<u.stops.length;fe++){const ge=u.stops[fe],xe=ge[0].zoom;O[xe]===void 0&&(O[xe]={zoom:xe,type:u.type,property:u.property,default:u.default,stops:[]},U.push(xe)),O[xe].stops.push([ge[0].value,ge[1]])}const K=[];for(const fe of U)K.push([O[fe].zoom,ig(O[fe],o)]);const Z={name:"linear"};return{kind:"composite",interpolationType:Z,interpolationFactor:Jl.interpolationFactor.bind(void 0,Z),zoomStops:K.map(fe=>fe[0]),evaluate:({zoom:fe},ge)=>ob({stops:K,base:u.base},o,fe).evaluate(fe,ge)}}if(_){const O=b==="exponential"?{name:"exponential",base:u.base!==void 0?u.base:1}:null;return{kind:"camera",interpolationType:O,interpolationFactor:Jl.interpolationFactor.bind(void 0,O),zoomStops:u.stops.map(U=>U[0]),evaluate:({zoom:U})=>E(u,o,U,I,F)}}return{kind:"source",evaluate(O,U){const K=U&&U.properties?U.properties[u.property]:void 0;return K===void 0?FA(u.default,o.default):E(u,o,K,I,F)}}}function FA(u,o,h){return u!==void 0?u:o!==void 0?o:h!==void 0?h:void 0}function Tx(u,o,h,A,_){return FA(typeof h===_?A[h]:void 0,u.default,o.default)}function sb(u,o,h){if(od(h)!=="number")return FA(u.default,o.default);const A=u.stops.length;if(A===1||h<=u.stops[0][0])return u.stops[0][1];if(h>=u.stops[A-1][0])return u.stops[A-1][1];const _=Ou(u.stops.map(b=>b[0]),h);return u.stops[_][1]}function ob(u,o,h){const A=u.base!==void 0?u.base:1;if(od(h)!=="number")return FA(u.default,o.default);const _=u.stops.length;if(_===1||h<=u.stops[0][0])return u.stops[0][1];if(h>=u.stops[_-1][0])return u.stops[_-1][1];const b=Ou(u.stops.map(U=>U[0]),h),E=function(U,K,Z,fe){const ge=fe-Z,xe=U-Z;return ge===0?0:K===1?xe/ge:(Math.pow(K,xe)-1)/(Math.pow(K,ge)-1)}(h,A,u.stops[b][0],u.stops[b+1][0]),I=u.stops[b][1],F=u.stops[b+1][1];let O=Xd[o.type]||PA;if(u.colorSpace&&u.colorSpace!=="rgb"){const U=Au[u.colorSpace];O=(K,Z)=>U.reverse(U.interpolate(U.forward(K),U.forward(Z),E))}return typeof I.evaluate=="function"?{evaluate(...U){const K=I.evaluate.apply(void 0,U),Z=F.evaluate.apply(void 0,U);if(K!==void 0&&Z!==void 0)return O(K,Z,E)}}:O(I,F,E)}function lb(u,o,h){return o.type==="color"?h=Wa.parse(h):o.type==="formatted"?h=so.fromString(h.toString()):o.type==="resolvedImage"?h=Vr.fromString(h.toString()):od(h)===o.type||o.type==="enum"&&o.values[h]||(h=void 0),FA(h,u.default,o.default)}class $0{constructor(o,h,A,_){this.expression=o,this._warningHistory={},this._evaluator=new ld(A,_),this._defaultValue=h?function(b){return b.type==="color"&&(hp(b.default)||Array.isArray(b.default))?new Wa(0,0,0,0):b.type==="color"?Wa.parse(b.default)||null:b.default===void 0?null:b.default}(h):null,this._enumValues=h&&h.type==="enum"?h.values:null}evaluateWithoutErrorHandling(o,h,A,_,b,E,I,F){return this._evaluator.globals=o,this._evaluator.feature=h,this._evaluator.featureState=A,this._evaluator.canonical=_||null,this._evaluator.availableImages=b||null,this._evaluator.formattedSection=E,this._evaluator.featureTileCoord=I||null,this._evaluator.featureDistanceData=F||null,this.expression.evaluate(this._evaluator)}evaluate(o,h,A,_,b,E,I,F){this._evaluator.globals=o,this._evaluator.feature=h||null,this._evaluator.featureState=A||null,this._evaluator.canonical=_||null,this._evaluator.availableImages=b||null,this._evaluator.formattedSection=E||null,this._evaluator.featureTileCoord=I||null,this._evaluator.featureDistanceData=F||null;try{const O=this.expression.evaluate(this._evaluator);if(O==null||typeof O=="number"&&O!=O)return this._defaultValue;if(this._enumValues&&!(O in this._enumValues))throw new qs(`Expected value to be one of ${Object.keys(this._enumValues).map(U=>JSON.stringify(U)).join(", ")}, but found ${JSON.stringify(O)} instead.`);return O}catch(O){return this._warningHistory[O.message]||(this._warningHistory[O.message]=!0,typeof console<"u"&&console.warn(O.message)),this._defaultValue}}}function ag(u){return Array.isArray(u)&&u.length>0&&typeof u[0]=="string"&&u[0]in LA}function V0(u,o,h,A){const _=new sp(LA,[],o?function(E){const I={color:Iu,string:pa,number:mr,enum:pa,boolean:Aa,formatted:td,resolvedImage:zo};return E.type==="array"?jl(I[E.value]||Gi,E.length):I[E.type]}(o):void 0,void 0,void 0,h,A),b=_.parse(u,void 0,void 0,void 0,o&&o.type==="string"?{typeAnnotation:"coerce"}:void 0);return b?W1(new $0(b,o,h,A)):sf(_.errors)}class Y1{constructor(o,h,A){this.kind=o,this._styleExpression=h,this.isLightConstant=A,this.isStateDependent=o!=="constant"&&!bh(h.expression),this.isConfigDependent=!hd(h.expression)}evaluateWithoutErrorHandling(o,h,A,_,b,E){return this._styleExpression.evaluateWithoutErrorHandling(o,h,A,_,b,E)}evaluate(o,h,A,_,b,E){return this._styleExpression.evaluate(o,h,A,_,b,E)}}class RA{constructor(o,h,A,_,b){this.kind=o,this.zoomStops=A,this._styleExpression=h,this.isStateDependent=o!=="camera"&&!bh(h.expression),this.isLightConstant=b,this.isConfigDependent=!hd(h.expression),this.interpolationType=_}evaluateWithoutErrorHandling(o,h,A,_,b,E){return this._styleExpression.evaluateWithoutErrorHandling(o,h,A,_,b,E)}evaluate(o,h,A,_,b,E){return this._styleExpression.evaluate(o,h,A,_,b,E)}interpolationFactor(o,h,A){return this.interpolationType?Jl.interpolationFactor(this.interpolationType,o,h,A):0}}function dp(u,o,h,A){if((u=V0(u,o,h,A)).result==="error")return u;const _=u.value.expression,b=ql(_);if(!b&&!rg(o))return sf([new Yu("","data expressions not supported")]);const E=Vs(_,["zoom","pitch","distance-from-center"]);if(!E&&!ab(o))return sf([new Yu("","zoom expressions not supported")]);const I=Vs(_,["measure-light"]);if(!I&&!z0(o))return sf([new Yu("","measure-light expression not supported")]);const F=o.expression&&o.expression.relaxZoomRestriction,O=og(_);return O||E||F?O instanceof Yu?sf([O]):O instanceof Jl&&!kA(o)?sf([new Yu("",'"interpolate" expressions cannot be used with this property')]):W1(O?new RA(b?"camera":"composite",u.value,O.labels,O instanceof Jl?O.interpolation:void 0,I):new Y1(b?"constant":"source",u.value,I)):sf([new Yu("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression, or in the properties of atmosphere.')])}class sg{constructor(o,h){this._parameters=o,this._specification=h,yA(this,ig(this._parameters,this._specification))}static deserialize(o){return new sg(o._parameters,o._specification)}static serialize(o){return{_parameters:o._parameters,_specification:o._specification}}}function og(u){let o=null;if(u instanceof Jm)o=og(u.result);else if(u instanceof BA){for(const h of u.args)if(o=og(h),o)break}else(u instanceof Yl||u instanceof Jl)&&u.input instanceof Ni&&u.input.name==="zoom"&&(o=u);return o instanceof Yu||u.eachChild(h=>{const A=og(h);A instanceof Yu?o=A:o&&A&&o!==A&&(o=new Yu("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),o}var ub=re,V=3;function re(u,o,h){var A=this.cells=[];if(u instanceof ArrayBuffer){this.arrayBuffer=u;var _=new Int32Array(this.arrayBuffer);u=_[0],this.d=(o=_[1])+2*(h=_[2]);for(var b=0;b<this.d*this.d;b++){var E=_[V+b],I=_[V+b+1];A.push(E===I?null:_.subarray(E,I))}var F=_[V+A.length+1];this.keys=_.subarray(_[V+A.length],F),this.bboxes=_.subarray(F),this.insert=this._insertReadonly}else{this.d=o+2*h;for(var O=0;O<this.d*this.d;O++)A.push([]);this.keys=[],this.bboxes=[]}this.n=o,this.extent=u,this.padding=h,this.scale=o/u,this.uid=0;var U=h/o*u;this.min=-U,this.max=u+U}re.prototype.insert=function(u,o,h,A,_){this._forEachCell(o,h,A,_,this._insertCell,this.uid++),this.keys.push(u),this.bboxes.push(o),this.bboxes.push(h),this.bboxes.push(A),this.bboxes.push(_)},re.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},re.prototype._insertCell=function(u,o,h,A,_,b){this.cells[_].push(b)},re.prototype.query=function(u,o,h,A,_){var b=this.min,E=this.max;if(u<=b&&o<=b&&E<=h&&E<=A&&!_)return Array.prototype.slice.call(this.keys);var I=[];return this._forEachCell(u,o,h,A,this._queryCell,I,{},_),I},re.prototype._queryCell=function(u,o,h,A,_,b,E,I){var F=this.cells[_];if(F!==null)for(var O=this.keys,U=this.bboxes,K=0;K<F.length;K++){var Z=F[K];if(E[Z]===void 0){var fe=4*Z;(I?I(U[fe+0],U[fe+1],U[fe+2],U[fe+3]):u<=U[fe+2]&&o<=U[fe+3]&&h>=U[fe+0]&&A>=U[fe+1])?(E[Z]=!0,b.push(O[Z])):E[Z]=!1}}},re.prototype._forEachCell=function(u,o,h,A,_,b,E,I){for(var F=this._convertToCellCoord(u),O=this._convertToCellCoord(o),U=this._convertToCellCoord(h),K=this._convertToCellCoord(A),Z=F;Z<=U;Z++)for(var fe=O;fe<=K;fe++){var ge=this.d*fe+Z;if((!I||I(this._convertFromCellCoord(Z),this._convertFromCellCoord(fe),this._convertFromCellCoord(Z+1),this._convertFromCellCoord(fe+1)))&&_.call(this,u,o,h,A,ge,b,E,I))return}},re.prototype._convertFromCellCoord=function(u){return(u-this.padding)/this.scale},re.prototype._convertToCellCoord=function(u){return Math.max(0,Math.min(this.d-1,Math.floor(u*this.scale)+this.padding))},re.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var u=this.cells,o=V+this.cells.length+1+1,h=0,A=0;A<this.cells.length;A++)h+=this.cells[A].length;var _=new Int32Array(o+h+this.keys.length+this.bboxes.length);_[0]=this.extent,_[1]=this.n,_[2]=this.padding;for(var b=o,E=0;E<u.length;E++){var I=u[E];_[V+E]=b,_.set(I,b),b+=I.length}return _[V+u.length]=b,_.set(this.keys,b),_[V+u.length+1]=b+=this.keys.length,_.set(this.bboxes,b),b+=this.bboxes.length,_.buffer};var we=R(ub);const Fe={};function ze(u,o,h={}){Object.defineProperty(u,"_classRegistryKey",{value:o,writeable:!1}),Fe[o]={klass:u,omit:h.omit||[]}}ze(Object,"Object"),we.serialize=function(u,o){const h=u.toArrayBuffer();return o&&o.add(h),{buffer:h}},we.deserialize=function(u){return new we(u.buffer)},Object.defineProperty(we,"name",{value:"Grid"}),ze(we,"Grid"),ze(Wa,"Color"),ze(Error,"Error"),ze(so,"Formatted"),ze(rd,"FormattedSection"),ze(qi,"AJAXError"),ze(Vr,"ResolvedImage"),ze(sg,"StylePropertyFunction"),ze($0,"StyleExpression",{omit:["_evaluator"]}),ze(RA,"ZoomDependentExpression"),ze(Y1,"ZoomConstantExpression"),ze(Ni,"CompoundExpression",{omit:["_evaluate"]});for(const u in LA)Fe[LA[u]._classRegistryKey]||ze(LA[u],`Expression${u}`);function ct(u){return u&&typeof ArrayBuffer<"u"&&(u instanceof ArrayBuffer||u.constructor&&u.constructor.name==="ArrayBuffer")}function dt(u){return self.ImageBitmap&&u instanceof ImageBitmap}function gt(u,o){if(u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp)return u;if(ct(u)||dt(u))return o&&o.add(u),u;if(ArrayBuffer.isView(u)){const h=u;return o&&o.add(h.buffer),h}if(u instanceof ImageData)return o&&o.add(u.data.buffer),u;if(Array.isArray(u)){const h=[];for(const A of u)h.push(gt(A,o));return h}if(u instanceof Map){const h={$name:"Map"};for(const[A,_]of u.entries())h[A]=gt(_);return h}if(typeof u=="object"){const h=u.constructor,A=h._classRegistryKey;if(!A)throw new Error(`can't serialize object of unregistered class ${A}`);const _=h.serialize?h.serialize(u,o):{};if(!h.serialize){for(const b in u)u.hasOwnProperty(b)&&(Fe[A].omit.indexOf(b)>=0||(_[b]=gt(u[b],o)));u instanceof Error&&(_.message=u.message)}if(_.$name)throw new Error("$name property is reserved for worker serialization logic.");return A!=="Object"&&(_.$name=A),_}throw new Error("can't serialize object of type "+typeof u)}function Ct(u){if(u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp||ct(u)||dt(u)||ArrayBuffer.isView(u)||u instanceof ImageData)return u;if(Array.isArray(u))return u.map(Ct);if(typeof u=="object"){const o=u.$name||"Object";if(o==="Map"){const _=new Map;for(const b of Object.keys(u))b!=="$name"&&_.set(b,Ct(u[b]));return _}const{klass:h}=Fe[o];if(!h)throw new Error(`can't deserialize unregistered class ${o}`);if(h.deserialize)return h.deserialize(u);const A=Object.create(h.prototype);for(const _ of Object.keys(u))_!=="$name"&&(A[_]=Ct(u[_]));return A}throw new Error("can't deserialize object of type "+typeof u)}const ft={"Latin-1 Supplement":u=>u>=128&&u<=255,Arabic:u=>u>=1536&&u<=1791,"Arabic Supplement":u=>u>=1872&&u<=1919,"Arabic Extended-A":u=>u>=2208&&u<=2303,"Hangul Jamo":u=>u>=4352&&u<=4607,"Unified Canadian Aboriginal Syllabics":u=>u>=5120&&u<=5759,Khmer:u=>u>=6016&&u<=6143,"Unified Canadian Aboriginal Syllabics Extended":u=>u>=6320&&u<=6399,"General Punctuation":u=>u>=8192&&u<=8303,"Letterlike Symbols":u=>u>=8448&&u<=8527,"Number Forms":u=>u>=8528&&u<=8591,"Miscellaneous Technical":u=>u>=8960&&u<=9215,"Control Pictures":u=>u>=9216&&u<=9279,"Optical Character Recognition":u=>u>=9280&&u<=9311,"Enclosed Alphanumerics":u=>u>=9312&&u<=9471,"Geometric Shapes":u=>u>=9632&&u<=9727,"Miscellaneous Symbols":u=>u>=9728&&u<=9983,"Miscellaneous Symbols and Arrows":u=>u>=11008&&u<=11263,"CJK Radicals Supplement":u=>u>=11904&&u<=12031,"Kangxi Radicals":u=>u>=12032&&u<=12255,"Ideographic Description Characters":u=>u>=12272&&u<=12287,"CJK Symbols and Punctuation":u=>u>=12288&&u<=12351,Hiragana:u=>u>=12352&&u<=12447,Katakana:u=>u>=12448&&u<=12543,Bopomofo:u=>u>=12544&&u<=12591,"Hangul Compatibility Jamo":u=>u>=12592&&u<=12687,Kanbun:u=>u>=12688&&u<=12703,"Bopomofo Extended":u=>u>=12704&&u<=12735,"CJK Strokes":u=>u>=12736&&u<=12783,"Katakana Phonetic Extensions":u=>u>=12784&&u<=12799,"Enclosed CJK Letters and Months":u=>u>=12800&&u<=13055,"CJK Compatibility":u=>u>=13056&&u<=13311,"CJK Unified Ideographs Extension A":u=>u>=13312&&u<=19903,"Yijing Hexagram Symbols":u=>u>=19904&&u<=19967,"CJK Unified Ideographs":u=>u>=19968&&u<=40959,"Yi Syllables":u=>u>=40960&&u<=42127,"Yi Radicals":u=>u>=42128&&u<=42191,"Hangul Jamo Extended-A":u=>u>=43360&&u<=43391,"Hangul Syllables":u=>u>=44032&&u<=55215,"Hangul Jamo Extended-B":u=>u>=55216&&u<=55295,"Private Use Area":u=>u>=57344&&u<=63743,"CJK Compatibility Ideographs":u=>u>=63744&&u<=64255,"Arabic Presentation Forms-A":u=>u>=64336&&u<=65023,"Vertical Forms":u=>u>=65040&&u<=65055,"CJK Compatibility Forms":u=>u>=65072&&u<=65103,"Small Form Variants":u=>u>=65104&&u<=65135,"Arabic Presentation Forms-B":u=>u>=65136&&u<=65279,"Halfwidth and Fullwidth Forms":u=>u>=65280&&u<=65519,"CJK Unified Ideographs Extension B":u=>u>=131072&&u<=173791};function nn(u){for(const o of u)if(An(o.charCodeAt(0)))return!0;return!1}function Bn(u){for(const o of u)if(!Mn(o.charCodeAt(0)))return!1;return!0}function Mn(u){return!(ft.Arabic(u)||ft["Arabic Supplement"](u)||ft["Arabic Extended-A"](u)||ft["Arabic Presentation Forms-A"](u)||ft["Arabic Presentation Forms-B"](u))}function An(u){return!(u!==746&&u!==747&&(u<4352||!(ft["Bopomofo Extended"](u)||ft.Bopomofo(u)||ft["CJK Compatibility Forms"](u)&&!(u>=65097&&u<=65103)||ft["CJK Compatibility Ideographs"](u)||ft["CJK Compatibility"](u)||ft["CJK Radicals Supplement"](u)||ft["CJK Strokes"](u)||!(!ft["CJK Symbols and Punctuation"](u)||u>=12296&&u<=12305||u>=12308&&u<=12319||u===12336)||ft["CJK Unified Ideographs Extension A"](u)||ft["CJK Unified Ideographs"](u)||ft["Enclosed CJK Letters and Months"](u)||ft["Hangul Compatibility Jamo"](u)||ft["Hangul Jamo Extended-A"](u)||ft["Hangul Jamo Extended-B"](u)||ft["Hangul Jamo"](u)||ft["Hangul Syllables"](u)||ft.Hiragana(u)||ft["Ideographic Description Characters"](u)||ft.Kanbun(u)||ft["Kangxi Radicals"](u)||ft["Katakana Phonetic Extensions"](u)||ft.Katakana(u)&&u!==12540||!(!ft["Halfwidth and Fullwidth Forms"](u)||u===65288||u===65289||u===65293||u>=65306&&u<=65310||u===65339||u===65341||u===65343||u>=65371&&u<=65503||u===65507||u>=65512&&u<=65519)||!(!ft["Small Form Variants"](u)||u>=65112&&u<=65118||u>=65123&&u<=65126)||ft["Unified Canadian Aboriginal Syllabics"](u)||ft["Unified Canadian Aboriginal Syllabics Extended"](u)||ft["Vertical Forms"](u)||ft["Yijing Hexagram Symbols"](u)||ft["Yi Syllables"](u)||ft["Yi Radicals"](u))))}function hr(u){return!(An(u)||function(o){return!!(ft["Latin-1 Supplement"](o)&&(o===167||o===169||o===174||o===177||o===188||o===189||o===190||o===215||o===247)||ft["General Punctuation"](o)&&(o===8214||o===8224||o===8225||o===8240||o===8241||o===8251||o===8252||o===8258||o===8263||o===8264||o===8265||o===8273)||ft["Letterlike Symbols"](o)||ft["Number Forms"](o)||ft["Miscellaneous Technical"](o)&&(o>=8960&&o<=8967||o>=8972&&o<=8991||o>=8996&&o<=9e3||o===9003||o>=9085&&o<=9114||o>=9150&&o<=9165||o===9167||o>=9169&&o<=9179||o>=9186&&o<=9215)||ft["Control Pictures"](o)&&o!==9251||ft["Optical Character Recognition"](o)||ft["Enclosed Alphanumerics"](o)||ft["Geometric Shapes"](o)||ft["Miscellaneous Symbols"](o)&&!(o>=9754&&o<=9759)||ft["Miscellaneous Symbols and Arrows"](o)&&(o>=11026&&o<=11055||o>=11088&&o<=11097||o>=11192&&o<=11243)||ft["CJK Symbols and Punctuation"](o)||ft.Katakana(o)||ft["Private Use Area"](o)||ft["CJK Compatibility Forms"](o)||ft["Small Form Variants"](o)||ft["Halfwidth and Fullwidth Forms"](o)||o===8734||o===8756||o===8757||o>=9984&&o<=10087||o>=10102&&o<=10131||o===65532||o===65533)}(u))}function Qn(u){return u>=1424&&u<=2303||ft["Arabic Presentation Forms-A"](u)||ft["Arabic Presentation Forms-B"](u)}function un(u,o){return!(!o&&Qn(u)||u>=2304&&u<=3583||u>=3840&&u<=4255||ft.Khmer(u))}function dn(u){for(const o of u)if(Qn(o.charCodeAt(0)))return!0;return!1}const sr="deferred",fr="loading",ur="loaded";let Zr=null,Er="unavailable",bi=null;const Gr=function(u){u&&typeof u=="string"&&u.indexOf("NetworkError")>-1&&(Er="error"),Zr&&Zr(u)};function Ya(){os.fire(new Jh("pluginStateChange",{pluginStatus:Er,pluginURL:bi}))}const os=new Yd,Ta=function(){return Er},Fa=function(){if(Er!==sr||!bi)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Er=fr,Ya(),bi&&hn({url:bi},u=>{u?Gr(u):(Er=ur,Ya())})},La={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Er===ur||La.applyArabicShaping!=null,isLoading:()=>Er===fr,setState(u){Er=u.pluginStatus,bi=u.pluginURL},isParsed:()=>La.applyArabicShaping!=null&&La.processBidirectionalText!=null&&La.processStyledBidirectionalText!=null,getPluginURL:()=>bi};class Fi{constructor(o,h){this.zoom=o,h?(this.now=h.now,this.fadeDuration=h.fadeDuration,this.transition=h.transition,this.pitch=h.pitch,this.brightness=h.brightness):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0,this.brightness=0)}isSupportedScript(o){return function(h,A){for(const _ of h)if(!un(_.charCodeAt(0),A))return!1;return!0}(o,La.isLoaded())}}class oa{constructor(o,h,A,_){this.property=o,this.value=h,this.expression=function(b,E,I,F){if(hp(b))return new sg(b,E);if(ag(b)||Array.isArray(b)&&b.length>0){const O=dp(b,E,I,F);if(O.result==="error")throw new Error(O.value.map(U=>`${U.key}: ${U.message}`).join(", "));return O.value}{let O=b;return typeof b=="string"&&E.type==="color"&&(O=Wa.parse(b)),{kind:"constant",isConfigDependent:!1,evaluate:()=>O}}}(h===void 0?o.specification.default:h,o.specification,A,_)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(o,h,A){return this.property.possiblyEvaluate(this,o,h,A)}}class Ao{constructor(o,h,A){this.property=o,this.value=new oa(o,void 0,h,A)}transitioned(o,h){return new go(this.property,this.value,h,se({},o.transition,this.transition),o.now)}untransitioned(){return new go(this.property,this.value,null,{},0)}}class mo{constructor(o,h,A){this._properties=o,this._values=Object.create(o.defaultTransitionablePropertyValues),this._scope=h,this._options=A,this.isConfigDependent=!1}getValue(o){return Ve(this._values[o].value.value)}setValue(o,h){this._values.hasOwnProperty(o)||(this._values[o]=new Ao(this._values[o].property,this._scope,this._options)),this._values[o].value=new oa(this._values[o].property,h===null?void 0:Ve(h),this._scope,this._options),this.isConfigDependent=this.isConfigDependent||this._values[o].value.expression.isConfigDependent}setTransitionOrValue(o,h){h&&(this._options=h);const A=this._properties.properties;if(o)for(const _ in o){const b=o[_];if(Qe(_,"-transition")){const E=_.slice(0,-11);A[E]&&this.setTransition(E,b)}else A[_]&&this.setValue(_,b)}}getTransition(o){return Ve(this._values[o].transition)}setTransition(o,h){this._values.hasOwnProperty(o)||(this._values[o]=new Ao(this._values[o].property)),this._values[o].transition=Ve(h)||void 0}serialize(){const o={};for(const h of Object.keys(this._values)){const A=this.getValue(h);A!==void 0&&(o[h]=A);const _=this.getTransition(h);_!==void 0&&(o[`${h}-transition`]=_)}return o}transitioned(o,h){const A=new $o(this._properties);for(const _ of Object.keys(this._values))A._values[_]=this._values[_].transitioned(o,h._values[_]);return A}untransitioned(){const o=new $o(this._properties);for(const h of Object.keys(this._values))o._values[h]=this._values[h].untransitioned();return o}}class go{constructor(o,h,A,_,b){const E=_.delay||0,I=_.duration||0;b=b||0,this.property=o,this.value=h,this.begin=b+E,this.end=this.begin+I,o.specification.transition&&(_.delay||_.duration)&&(this.prior=A)}possiblyEvaluate(o,h,A){const _=o.now||0,b=this.value.possiblyEvaluate(o,h,A),E=this.prior;if(E){if(_>this.end)return this.prior=null,b;if(this.value.isDataDriven())return this.prior=null,b;if(_<this.begin)return E.possiblyEvaluate(o,h,A);{const I=(_-this.begin)/(this.end-this.begin);return this.property.interpolate(E.possiblyEvaluate(o,h,A),b,J(I))}}return b}}class $o{constructor(o){this._properties=o,this._values=Object.create(o.defaultTransitioningPropertyValues)}possiblyEvaluate(o,h,A){const _=new _l(this._properties);for(const b of Object.keys(this._values))_._values[b]=this._values[b].possiblyEvaluate(o,h,A);return _}hasTransition(){for(const o of Object.keys(this._values))if(this._values[o].prior)return!0;return!1}}class cs{constructor(o,h,A){this._properties=o,this._values=Object.create(o.defaultPropertyValues),this._scope=h,this._options=A,this.isConfigDependent=!1}getValue(o){return Ve(this._values[o].value)}setValue(o,h){this._values[o]=new oa(this._values[o].property,h===null?void 0:Ve(h),this._scope,this._options),this.isConfigDependent=this.isConfigDependent||this._values[o].expression.isConfigDependent}serialize(){const o={};for(const h of Object.keys(this._values)){const A=this.getValue(h);A!==void 0&&(o[h]=A)}return o}possiblyEvaluate(o,h,A){const _=new _l(this._properties);for(const b of Object.keys(this._values))_._values[b]=this._values[b].possiblyEvaluate(o,h,A);return _}}class sl{constructor(o,h,A){this.property=o,this.value=h,this.parameters=A}isConstant(){return this.value.kind==="constant"}constantOr(o){return this.value.kind==="constant"?this.value.value:o}evaluate(o,h,A,_){return this.property.evaluate(this.value,this.parameters,o,h,A,_)}}class _l{constructor(o){this._properties=o,this._values=Object.create(o.defaultPossiblyEvaluatedValues)}get(o){return this._values[o]}}class jn{constructor(o){this.specification=o}possiblyEvaluate(o,h){return o.expression.evaluate(h)}interpolate(o,h,A){const _=Xd[this.specification.type];return _?_(o,h,A):o}}class Cr{constructor(o,h){this.specification=o,this.overrides=h}possiblyEvaluate(o,h,A,_){return new sl(this,o.expression.kind==="constant"||o.expression.kind==="camera"?{kind:"constant",value:o.expression.evaluate(h,null,{},A,_)}:o.expression,h)}interpolate(o,h,A){if(o.value.kind!=="constant"||h.value.kind!=="constant")return o;if(o.value.value===void 0||h.value.value===void 0)return new sl(this,{kind:"constant",value:void 0},o.parameters);const _=Xd[this.specification.type];return _?new sl(this,{kind:"constant",value:_(o.value.value,h.value.value,A)},o.parameters):o}evaluate(o,h,A,_,b,E){return o.kind==="constant"?o.value:o.evaluate(h,A,_,b,E)}}class Io{constructor(o){this.specification=o}possiblyEvaluate(o,h,A,_){return!!o.expression.evaluate(h,null,{},A,_)}interpolate(){return!1}}class ka{constructor(o){this.properties=o,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const h=new Fi(0,{});for(const A in o){const _=o[A];_.specification.overridable&&this.overridableProperties.push(A);const b=this.defaultPropertyValues[A]=new oa(_,void 0),E=this.defaultTransitionablePropertyValues[A]=new Ao(_);this.defaultTransitioningPropertyValues[A]=E.untransitioned(),this.defaultPossiblyEvaluatedValues[A]=b.possiblyEvaluate(h)}}}function Du(u){return u instanceof Number||u instanceof String||u instanceof Boolean?u.valueOf():u}function vo(u){if(Array.isArray(u))return u.map(vo);if(u instanceof Object&&!(u instanceof Number||u instanceof String||u instanceof Boolean)){const o={};for(const h in u)o[h]=vo(u[h]);return o}return Du(u)}ze(Cr,"DataDrivenProperty"),ze(jn,"DataConstantProperty"),ze(Io,"ColorRampProperty");var rn=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"fragment":{"type":"boolean"},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360},"pitch":{"type":"number","default":0},"light":{"type":"light"},"lights":{"required":false,"type":"array","value":"light-3d"},"terrain":{"type":"terrain","optional":true},"fog":{"type":"fog"},"camera":{"type":"camera"},"imports":{"type":"array","value":"import"},"schema":{"type":"schema"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string","default":"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"},"models":{"type":"models"}},"model":{"type":"string","required":true},"import":{"id":{"type":"string","required":true},"url":{"type":"string","required":true},"config":{"type":"config"},"data":{"type":"$root"}},"config":{"*":{"type":"*"}},"schema":{"*":{"type":"option"}},"option":{"default":{"type":"*","required":true},"type":{"type":"enum","values":{"string":1,"number":1,"boolean":1,"color":1}},"array":{"type":"boolean"},"minValue":{"type":"number"},"maxValue":{"type":"number"},"stepValue":{"type":"number"},"values":{"type":"array","value":"*"},"metadata":{"type":"*"}},"models":{"*":{"type":"model"}},"light-3d":{"id":{"type":"string","required":true},"properties":{"type":"properties"},"type":{"type":"enum","values":{"ambient":{},"directional":{},"flat":{}}}},"properties":["properties_light_directional","properties_light_ambient","properties_light_flat"],"properties_light_directional":{"direction":{"type":"array","default":[210,30],"minimum":[0,0],"maximum":[360,90],"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"cast-shadows":{"type":"boolean","default":false,"expression":{},"property-type":"data-constant"},"shadow-intensity":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"properties_light_ambient":{"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"properties_light_flat":{"anchor":{"type":"enum","default":"viewport","values":{"map":1,"viewport":1},"property-type":"data-constant","expression":{"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_raster_array","source_geojson","source_video","source_image","source_model"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":1,"tms":1},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512},"scheme":{"type":"enum","values":{"xyz":1,"tms":1},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":1,"mapbox":1},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_array":{"type":{"required":true,"type":"enum","values":{"raster-array":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512},"attribution":{"type":"string"},"rasterLayers":{"type":"*"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":1}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":1}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":1}},"url":{"required":false,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_model":{"type":{"required":true,"type":"enum","values":{"model":1,"batched-model":1}},"maxzoom":{"type":"number","default":18},"minzoom":{"type":"number","default":0},"tiles":{"type":"array","value":"string"}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"raster-particle":{},"hillshade":{},"model":{},"background":{},"sky":{},"slot":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"slot":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_raster-particle","layout_hillshade","layout_background","layout_sky","layout_model"],"layout_background":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_model":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"},"model-id":{"type":"string","default":"","property-type":"data-driven","expression":{"parameters":["zoom","feature"]}}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":1,"round":1,"square":1},"default":"butt","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":1,"round":1,"miter":1},"default":"miter","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":1,"line":1,"line-center":1},"default":"point","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":1,"viewport-y":1,"source":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-z-elevate":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":1,"width":1,"height":1,"both":1},"default":"none","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":1,"left":1,"right":1,"top":1,"bottom":1,"top-left":1,"top-right":1,"bottom-left":1,"bottom-right":1},"default":"center","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":1,"left":1,"center":1,"right":1},"default":"center","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","default":0,"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":1,"left":1,"right":1,"top":1,"bottom":1,"top-left":1,"top-right":1,"bottom-left":1,"bottom-right":1},"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":1,"left":1,"right":1,"top":1,"bottom":1,"top-left":1,"top-right":1,"bottom-left":1,"bottom-right":1},"default":"center","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":1,"vertical":1},"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":1,"uppercase":1,"lowercase":1},"default":"none","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","length":2,"default":[0,0],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_raster-particle":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":1,"!=":1,">":1,">=":1,"<":1,"<=":1,"in":1,"!in":1,"all":1,"any":1,"none":1,"has":1,"!has":1}},"geometry_type":{"type":"enum","values":{"Point":1,"LineString":1,"Polygon":1}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":1,"exponential":1,"interval":1,"categorical":1},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":1,"lab":1,"hcl":1},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"vertical-range":{"type":"array","default":[0,0],"minimum":0,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}}},"camera":{"camera-projection":{"type":"enum","values":{"perspective":1,"orthographic":1},"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"default":"perspective","property-type":"data-constant"}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":1,"viewport":1},"property-type":"data-constant","expression":{"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":1,"equalEarth":1,"equirectangular":1,"lambertConformalConic":1,"mercator":1,"naturalEarth":1,"winkelTripel":1,"globe":1},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky","paint_model"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-wall-radius":{"property-type":"data-constant","type":"number","default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-ground-radius":{"property-type":"data-constant","type":"number","default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-ground-attenuation":{"property-type":"data-constant","type":"number","default":0.69,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"fill-extrusion-flood-light-color":{"property-type":"data-constant","type":"color","default":"#ffffff","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]}},"fill-extrusion-flood-light-intensity":{"property-type":"data-constant","type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]}},"fill-extrusion-flood-light-wall-radius":{"property-type":"data-driven","type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["feature","feature-state"]}},"fill-extrusion-flood-light-ground-radius":{"property-type":"data-driven","type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["feature","feature-state"]}},"fill-extrusion-flood-light-ground-attenuation":{"property-type":"data-constant","type":"number","default":0.69,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"fill-extrusion-vertical-scale":{"property-type":"data-constant","type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"fill-extrusion-rounded-roof":{"property-type":"data-constant","type":"boolean","default":true,"expression":{"parameters":["zoom"]}},"fill-extrusion-cutoff-fade-range":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"},"fill-extrusion-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"property-type":"constant"},"line-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"line-border-width":{"type":"number","private":true,"default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-border-color":{"type":"color","private":true,"default":"rgba(0, 0, 0, 0)","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1},"default":"viewport","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-emissive-strength":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-driven"},"text-emissive-strength":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-image-cross-fade":{"type":"number","property-type":"data-driven","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"transition":true},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-color-saturation":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-color":{"type":"color","expression":{"interpolated":true,"parameters":["raster-value"]},"property-type":"color-ramp"},"raster-color-mix":{"type":"array","default":[0.2126,0.7152,0.0722,0],"length":4,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"raster-color-range":{"type":"array","length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":1,"nearest":1},"default":"linear","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"raster-array-band":{"type":"string","required":false,"property-type":"data-constant"},"raster-elevation":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster-particle":{"raster-particle-array-band":{"type":"string","required":false,"property-type":"data-constant"},"raster-particle-count":{"type":"number","default":512,"minimum":1,"property-type":"data-constant"},"raster-particle-color":{"type":"color","expression":{"interpolated":true,"parameters":["raster-particle-speed"]},"property-type":"color-ramp"},"raster-particle-max-speed":{"type":"number","default":1,"minimum":1,"property-type":"data-constant"},"raster-particle-speed-factor":{"type":"number","default":0.2,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-particle-fade-opacity-factor":{"type":"number","default":0.98,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-particle-reset-rate-factor":{"type":"number","default":0.8,"minimum":0,"maximum":1,"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"viewport","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"hillshade-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":1,"atmosphere":1},"default":"atmosphere","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"minimum":[0,0],"maximum":[360,180],"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","default":10,"minimum":0,"maximum":100,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","value":"number","default":[0,0],"length":2,"minimum":[0,0],"maximum":[360,180],"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","default":90,"minimum":0,"maximum":180,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_model":{"model-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"model-rotation":{"type":"array","value":"number","length":3,"default":[0,0,0],"period":360,"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"transition":true},"model-scale":{"type":"array","value":"number","length":3,"default":[1,1,1],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"transition":true},"model-translation":{"type":"array","value":"number","length":3,"default":[0,0,0],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"transition":true},"model-color":{"type":"color","default":"#ffffff","property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light","zoom"]},"transition":true},"model-color-mix-intensity":{"type":"number","property-type":"data-driven","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light"]},"transition":true},"model-type":{"type":"enum","values":{"common-3d":1,"location-indicator":1},"default":"common-3d","property-type":"data-constant"},"model-cast-shadows":{"type":"boolean","default":true,"expression":{},"property-type":"data-constant"},"model-receive-shadows":{"type":"boolean","default":true,"expression":{},"property-type":"data-constant"},"model-ambient-occlusion-intensity":{"type":"number","default":1,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant","transition":true},"model-emissive-strength":{"type":"number","property-type":"data-driven","default":0,"minimum":0,"maximum":5,"expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light"]},"transition":true},"model-roughness":{"type":"number","default":1,"minimum":0,"maximum":1,"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state"]},"transition":true},"model-height-based-emissive-strength-multiplier":{"type":"array","default":[1,1,1,1,0],"length":5,"value":"number","property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light"]},"transition":true},"model-cutoff-fade-range":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0},"delay":{"type":"number","default":0,"minimum":0}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function vd(u){if(u===!0||u===!1)return!0;if(!Array.isArray(u)||u.length===0)return!1;switch(u[0]){case"has":return u.length>=2&&u[1]!=="$id"&&u[1]!=="$type";case"in":return u.length>=3&&(typeof u[1]!="string"||Array.isArray(u[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return u.length!==3||Array.isArray(u[1])||Array.isArray(u[2]);case"any":case"all":for(const o of u.slice(1))if(!vd(o)&&typeof o!="boolean")return!1;return!0;default:return!0}}function ol(u,o="fill"){if(u==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};vd(u)||(u=yd(u));const h=u;let A=!0;try{A=function(O){if(!of(O))return O;let U=vo(O);return Zs(U),U=_d(U),U}(h)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(h,null,2)}
        `)}const _=rn[`filter_${o}`],b=V0(A,_);let E=null;if(b.result==="error")throw new Error(b.value.map(O=>`${O.key}: ${O.message}`).join(", "));E=(O,U,K)=>b.value.evaluate(O,U,{},K);let I=null,F=null;if(A!==h){const O=V0(h,_);if(O.result==="error")throw new Error(O.value.map(U=>`${U.key}: ${U.message}`).join(", "));I=(U,K,Z,fe,ge)=>O.value.evaluate(U,K,{},Z,void 0,void 0,fe,ge),F=!ql(O.value.expression)}return{filter:E,dynamicFilter:I||void 0,needGeometry:lg(A),needFeature:!!F}}function _d(u){if(!Array.isArray(u))return u;const o=function(h){if(cb.has(h[0])){for(let A=1;A<h.length;A++)if(of(h[A]))return!0}return h}(u);return o===!0?o:o.map(h=>_d(h))}function Zs(u){let o=!1;const h=[];if(u[0]==="case"){for(let A=1;A<u.length-1;A+=2)o=o||of(u[A]),h.push(u[A+1]);h.push(u[u.length-1])}else if(u[0]==="match"){o=o||of(u[1]);for(let A=2;A<u.length-1;A+=2)h.push(u[A+1]);h.push(u[u.length-1])}else if(u[0]==="step"){o=o||of(u[1]);for(let A=1;A<u.length-1;A+=2)h.push(u[A+1])}o&&(u.length=0,u.push("any",...h));for(let A=1;A<u.length;A++)Zs(u[A])}function of(u){if(!Array.isArray(u))return!1;if((o=u[0])==="pitch"||o==="distance-from-center")return!0;var o;for(let h=1;h<u.length;h++)if(of(u[h]))return!0;return!1}const cb=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function hb(u,o){return u<o?-1:u>o?1:0}function lg(u){if(!Array.isArray(u))return!1;if(u[0]==="within"||u[0]==="distance")return!0;for(let o=1;o<u.length;o++)if(lg(u[o]))return!0;return!1}function yd(u){if(!u)return!0;const o=u[0];return u.length<=1?o!=="any":o==="=="?lf(u[1],u[2],"=="):o==="!="?Eh(lf(u[1],u[2],"==")):o==="<"||o===">"||o==="<="||o===">="?lf(u[1],u[2],o):o==="any"?(h=u.slice(1),["any"].concat(h.map(yd))):o==="all"?["all"].concat(u.slice(1).map(yd)):o==="none"?["all"].concat(u.slice(1).map(yd).map(Eh)):o==="in"?ec(u[1],u.slice(2)):o==="!in"?Eh(ec(u[1],u.slice(2))):o==="has"?fp(u[1]):o!=="!has"||Eh(fp(u[1]));var h}function lf(u,o,h){switch(u){case"$type":return[`filter-type-${h}`,o];case"$id":return[`filter-id-${h}`,o];default:return[`filter-${h}`,u,o]}}function ec(u,o){if(o.length===0)return!1;switch(u){case"$type":return["filter-type-in",["literal",o]];case"$id":return["filter-id-in",["literal",o]];default:return o.length>200&&!o.some(h=>typeof h!=typeof o[0])?["filter-in-large",u,["literal",o.sort(hb)]]:["filter-in-small",u,["literal",o]]}}function fp(u){switch(u){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",u]}}function Eh(u){return["!",u]}const ug="";function OA(u,o){return o?`${u}${ug}${o}`:u}const DA="-transition";class yl extends Yd{constructor(o,h,A,_){if(super(),this.id=o.id,this.fqid=OA(this.id,A),this.type=o.type,this.scope=A,this.options=_,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,this.isConfigDependent=!1,o.type!=="custom"&&(this.metadata=o.metadata,this.minzoom=o.minzoom,this.maxzoom=o.maxzoom,o.type!=="background"&&o.type!=="sky"&&o.type!=="slot"&&(this.source=o.source,this.sourceLayer=o["source-layer"],this.filter=o.filter),o.slot&&(this.slot=o.slot),h.layout&&(this._unevaluatedLayout=new cs(h.layout,this.scope,_),this.isConfigDependent=this.isConfigDependent||this._unevaluatedLayout.isConfigDependent),h.paint)){this._transitionablePaint=new mo(h.paint,this.scope,_);for(const b in o.paint)this.setPaintProperty(b,o.paint[b]);for(const b in o.layout)this.setLayoutProperty(b,o.layout[b]);this.isConfigDependent=this.isConfigDependent||this._transitionablePaint.isConfigDependent,this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new _l(h.paint)}}getLayoutProperty(o){return o==="visibility"?this.visibility:this._unevaluatedLayout.getValue(o)}setLayoutProperty(o,h){if(this.type==="custom"&&o==="visibility")return void(this.visibility=h);const A=this._unevaluatedLayout;A._properties.properties[o]&&(A.setValue(o,h),this.isConfigDependent=this.isConfigDependent||A.isConfigDependent,o==="visibility"&&this.possiblyEvaluateVisibility())}possiblyEvaluateVisibility(){this.visibility=this._unevaluatedLayout._values.visibility.possiblyEvaluate({zoom:0})}getPaintProperty(o){return Qe(o,DA)?this._transitionablePaint.getTransition(o.slice(0,-11)):this._transitionablePaint.getValue(o)}setPaintProperty(o,h){const A=this._transitionablePaint,_=A._properties.properties;if(Qe(o,DA)){const K=o.slice(0,-11);return _[K]&&A.setTransition(K,h||void 0),!1}if(!_[o])return!1;const b=A._values[o],E=b.value.isDataDriven(),I=b.value;A.setValue(o,h),this.isConfigDependent=this.isConfigDependent||A.isConfigDependent,this._handleSpecialPaintPropertyUpdate(o);const F=A._values[o].value,O=F.isDataDriven(),U=Qe(o,"pattern")||o==="line-dasharray";return O||E||U||this._handleOverridablePaintPropertyUpdate(o,I,F)}_handleSpecialPaintPropertyUpdate(o){}getProgramIds(){return null}getDefaultProgramParams(o,h){return null}_handleOverridablePaintPropertyUpdate(o,h,A){return!1}isHidden(o){return!!(this.minzoom&&o<this.minzoom)||!!(this.maxzoom&&o>=this.maxzoom)||this.visibility==="none"}updateTransitions(o){this._transitioningPaint=this._transitionablePaint.transitioned(o,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(o,h){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(o,void 0,h)),this.paint=this._transitioningPaint.possiblyEvaluate(o,void 0,h)}serialize(){return nt({id:this.id,type:this.type,slot:this.slot,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()},(o,h)=>!(o===void 0||h==="layout"&&!Object.keys(o).length||h==="paint"&&!Object.keys(o).length))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}hasShadowPass(){return!1}canCastShadows(){return!1}hasLightBeamPass(){return!1}cutoffRange(){return 0}tileCoverLift(){return 0}resize(){}isStateDependent(){for(const o in this.paint._values){const h=this.paint.get(o);if(h instanceof sl&&rg(h.property.specification)&&(h.value.kind==="source"||h.value.kind==="composite")&&h.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=ol(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}getLayerRenderingStats(){return this._stats}resetLayerRenderingStats(o){this._stats&&(o.renderPass==="shadow"?this._stats.numRenderedVerticesInShadowPass=0:this._stats.numRenderedVerticesInTransparentPass=0)}}const X1={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class pp{constructor(o,h){this._structArray=o,this._pos1=h*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class ja{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(o,h){return o._trim(),h&&(o.isTransferred=!0,h.add(o.arrayBuffer)),{length:o.length,arrayBuffer:o.arrayBuffer}}static deserialize(o){const h=Object.create(this.prototype);return h.arrayBuffer=o.arrayBuffer,h.length=o.length,h.capacity=o.arrayBuffer.byteLength/h.bytesPerElement,h._refreshViews(),h}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(o){this.reserve(o),this.length=o}reserve(o){if(o>this.capacity){this.capacity=Math.max(o,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const h=this.uint8;this._refreshViews(),h&&this.uint8.set(h)}}_refreshViews(){throw new Error("StructArray#_refreshViews() must be implemented by each concrete StructArray layout")}emplace(...o){throw new Error("StructArray#emplace() must be implemented by each concrete StructArray layout")}emplaceBack(...o){throw new Error("StructArray#emplaceBack() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function Ba(u,o=1){let h=0,A=0;return{members:u.map(_=>{const b=X1[_.type].BYTES_PER_ELEMENT,E=h=cg(h,Math.max(o,b)),I=_.components||1;return A=Math.max(A,b),h+=b*I,{name:_.name,type:_.type,components:I,offset:E}}),size:cg(h,Math.max(A,o)),alignment:o}}function cg(u,o){return Math.ceil(u/o)*o}class tc extends ja{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,h){const A=this.length;return this.resize(A+1),this.emplace(A,o,h)}emplace(o,h,A){const _=2*o;return this.int16[_+0]=h,this.int16[_+1]=A,o}}tc.prototype.bytesPerElement=4,ze(tc,"StructArrayLayout2i4");class _o extends ja{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,h,A){const _=this.length;return this.resize(_+1),this.emplace(_,o,h,A)}emplace(o,h,A,_){const b=3*o;return this.int16[b+0]=h,this.int16[b+1]=A,this.int16[b+2]=_,o}}_o.prototype.bytesPerElement=6,ze(_o,"StructArrayLayout3i6");class bd extends ja{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,h,A,_){const b=this.length;return this.resize(b+1),this.emplace(b,o,h,A,_)}emplace(o,h,A,_,b){const E=4*o;return this.int16[E+0]=h,this.int16[E+1]=A,this.int16[E+2]=_,this.int16[E+3]=b,o}}bd.prototype.bytesPerElement=8,ze(bd,"StructArrayLayout4i8");class Z1 extends ja{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,h,A,_,b){const E=this.length;return this.resize(E+1),this.emplace(E,o,h,A,_,b)}emplace(o,h,A,_,b,E){const I=5*o;return this.int16[I+0]=h,this.int16[I+1]=A,this.int16[I+2]=_,this.int16[I+3]=b,this.int16[I+4]=E,o}}Z1.prototype.bytesPerElement=10,ze(Z1,"StructArrayLayout5i10");class J1 extends ja{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,h,A,_,b,E,I){const F=this.length;return this.resize(F+1),this.emplace(F,o,h,A,_,b,E,I)}emplace(o,h,A,_,b,E,I,F){const O=6*o,U=12*o,K=3*o;return this.int16[O+0]=h,this.int16[O+1]=A,this.uint8[U+4]=_,this.uint8[U+5]=b,this.uint8[U+6]=E,this.uint8[U+7]=I,this.float32[K+2]=F,o}}J1.prototype.bytesPerElement=12,ze(J1,"StructArrayLayout2i4ub1f12");class wd extends ja{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,h,A,_){const b=this.length;return this.resize(b+1),this.emplace(b,o,h,A,_)}emplace(o,h,A,_,b){const E=4*o;return this.float32[E+0]=h,this.float32[E+1]=A,this.float32[E+2]=_,this.float32[E+3]=b,o}}wd.prototype.bytesPerElement=16,ze(wd,"StructArrayLayout4f16");class Xc extends ja{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,h,A,_,b){const E=this.length;return this.resize(E+1),this.emplace(E,o,h,A,_,b)}emplace(o,h,A,_,b,E){const I=6*o,F=3*o;return this.uint16[I+0]=h,this.uint16[I+1]=A,this.uint16[I+2]=_,this.uint16[I+3]=b,this.float32[F+2]=E,o}}Xc.prototype.bytesPerElement=12,ze(Xc,"StructArrayLayout4ui1f12");class Ap extends ja{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,h,A,_){const b=this.length;return this.resize(b+1),this.emplace(b,o,h,A,_)}emplace(o,h,A,_,b){const E=4*o;return this.uint16[E+0]=h,this.uint16[E+1]=A,this.uint16[E+2]=_,this.uint16[E+3]=b,o}}Ap.prototype.bytesPerElement=8,ze(Ap,"StructArrayLayout4ui8");class hg extends ja{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,h,A,_,b,E){const I=this.length;return this.resize(I+1),this.emplace(I,o,h,A,_,b,E)}emplace(o,h,A,_,b,E,I){const F=6*o;return this.int16[F+0]=h,this.int16[F+1]=A,this.int16[F+2]=_,this.int16[F+3]=b,this.int16[F+4]=E,this.int16[F+5]=I,o}}hg.prototype.bytesPerElement=12,ze(hg,"StructArrayLayout6i12");class uf extends ja{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,h,A,_,b,E,I,F,O,U,K,Z){const fe=this.length;return this.resize(fe+1),this.emplace(fe,o,h,A,_,b,E,I,F,O,U,K,Z)}emplace(o,h,A,_,b,E,I,F,O,U,K,Z,fe){const ge=12*o;return this.int16[ge+0]=h,this.int16[ge+1]=A,this.int16[ge+2]=_,this.int16[ge+3]=b,this.uint16[ge+4]=E,this.uint16[ge+5]=I,this.uint16[ge+6]=F,this.uint16[ge+7]=O,this.int16[ge+8]=U,this.int16[ge+9]=K,this.int16[ge+10]=Z,this.int16[ge+11]=fe,o}}uf.prototype.bytesPerElement=24,ze(uf,"StructArrayLayout4i4ui4i24");class dg extends ja{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,h,A,_,b,E){const I=this.length;return this.resize(I+1),this.emplace(I,o,h,A,_,b,E)}emplace(o,h,A,_,b,E,I){const F=10*o,O=5*o;return this.int16[F+0]=h,this.int16[F+1]=A,this.int16[F+2]=_,this.float32[O+2]=b,this.float32[O+3]=E,this.float32[O+4]=I,o}}dg.prototype.bytesPerElement=20,ze(dg,"StructArrayLayout3i3f20");class mp extends ja{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(o){const h=this.length;return this.resize(h+1),this.emplace(h,o)}emplace(o,h){return this.uint32[1*o+0]=h,o}}mp.prototype.bytesPerElement=4,ze(mp,"StructArrayLayout1ul4");class Zc extends ja{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,h){const A=this.length;return this.resize(A+1),this.emplace(A,o,h)}emplace(o,h,A){const _=2*o;return this.uint16[_+0]=h,this.uint16[_+1]=A,o}}Zc.prototype.bytesPerElement=4,ze(Zc,"StructArrayLayout2ui4");class e_ extends ja{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,h,A,_,b,E,I,F,O,U,K,Z,fe){const ge=this.length;return this.resize(ge+1),this.emplace(ge,o,h,A,_,b,E,I,F,O,U,K,Z,fe)}emplace(o,h,A,_,b,E,I,F,O,U,K,Z,fe,ge){const xe=20*o,Ie=10*o;return this.int16[xe+0]=h,this.int16[xe+1]=A,this.int16[xe+2]=_,this.int16[xe+3]=b,this.int16[xe+4]=E,this.float32[Ie+3]=I,this.float32[Ie+4]=F,this.float32[Ie+5]=O,this.float32[Ie+6]=U,this.int16[xe+14]=K,this.uint32[Ie+8]=Z,this.uint16[xe+18]=fe,this.uint16[xe+19]=ge,o}}e_.prototype.bytesPerElement=40,ze(e_,"StructArrayLayout5i4f1i1ul2ui40");class cf extends ja{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,h,A,_,b,E,I){const F=this.length;return this.resize(F+1),this.emplace(F,o,h,A,_,b,E,I)}emplace(o,h,A,_,b,E,I,F){const O=8*o;return this.int16[O+0]=h,this.int16[O+1]=A,this.int16[O+2]=_,this.int16[O+4]=b,this.int16[O+5]=E,this.int16[O+6]=I,this.int16[O+7]=F,o}}cf.prototype.bytesPerElement=16,ze(cf,"StructArrayLayout3i2i2i16");class fg extends ja{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,h,A,_,b){const E=this.length;return this.resize(E+1),this.emplace(E,o,h,A,_,b)}emplace(o,h,A,_,b,E){const I=4*o,F=8*o;return this.float32[I+0]=h,this.float32[I+1]=A,this.float32[I+2]=_,this.int16[F+6]=b,this.int16[F+7]=E,o}}fg.prototype.bytesPerElement=16,ze(fg,"StructArrayLayout2f1f2i16");class pg extends ja{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,h,A,_){const b=this.length;return this.resize(b+1),this.emplace(b,o,h,A,_)}emplace(o,h,A,_,b){const E=12*o,I=3*o;return this.uint8[E+0]=h,this.uint8[E+1]=A,this.float32[I+1]=_,this.float32[I+2]=b,o}}pg.prototype.bytesPerElement=12,ze(pg,"StructArrayLayout2ub2f12");class Cs extends ja{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,h,A){const _=this.length;return this.resize(_+1),this.emplace(_,o,h,A)}emplace(o,h,A,_){const b=3*o;return this.uint16[b+0]=h,this.uint16[b+1]=A,this.uint16[b+2]=_,o}}Cs.prototype.bytesPerElement=6,ze(Cs,"StructArrayLayout3ui6");class gp extends ja{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(o,h,A,_,b,E,I,F,O,U,K,Z,fe,ge,xe,Ie,Oe,rt,lt,ot,Tt){const yt=this.length;return this.resize(yt+1),this.emplace(yt,o,h,A,_,b,E,I,F,O,U,K,Z,fe,ge,xe,Ie,Oe,rt,lt,ot,Tt)}emplace(o,h,A,_,b,E,I,F,O,U,K,Z,fe,ge,xe,Ie,Oe,rt,lt,ot,Tt,yt){const Dt=30*o,Gt=15*o,Xt=60*o;return this.int16[Dt+0]=h,this.int16[Dt+1]=A,this.int16[Dt+2]=_,this.float32[Gt+2]=b,this.float32[Gt+3]=E,this.uint16[Dt+8]=I,this.uint16[Dt+9]=F,this.uint32[Gt+5]=O,this.uint32[Gt+6]=U,this.uint32[Gt+7]=K,this.uint16[Dt+16]=Z,this.uint16[Dt+17]=fe,this.uint16[Dt+18]=ge,this.float32[Gt+10]=xe,this.float32[Gt+11]=Ie,this.uint8[Xt+48]=Oe,this.uint8[Xt+49]=rt,this.uint8[Xt+50]=lt,this.uint32[Gt+13]=ot,this.int16[Dt+28]=Tt,this.uint8[Xt+58]=yt,o}}gp.prototype.bytesPerElement=60,ze(gp,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class Ag extends ja{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(o,h,A,_,b,E,I,F,O,U,K,Z,fe,ge,xe,Ie,Oe,rt,lt,ot,Tt,yt,Dt,Gt,Xt,pn,en,Sn,Dn,yn,On,gn){const Rn=this.length;return this.resize(Rn+1),this.emplace(Rn,o,h,A,_,b,E,I,F,O,U,K,Z,fe,ge,xe,Ie,Oe,rt,lt,ot,Tt,yt,Dt,Gt,Xt,pn,en,Sn,Dn,yn,On,gn)}emplace(o,h,A,_,b,E,I,F,O,U,K,Z,fe,ge,xe,Ie,Oe,rt,lt,ot,Tt,yt,Dt,Gt,Xt,pn,en,Sn,Dn,yn,On,gn,Rn){const cr=20*o,Un=40*o,Br=80*o;return this.float32[cr+0]=h,this.float32[cr+1]=A,this.int16[Un+4]=_,this.int16[Un+5]=b,this.int16[Un+6]=E,this.int16[Un+7]=I,this.int16[Un+8]=F,this.int16[Un+9]=O,this.int16[Un+10]=U,this.int16[Un+11]=K,this.int16[Un+12]=Z,this.uint16[Un+13]=fe,this.uint16[Un+14]=ge,this.uint16[Un+15]=xe,this.uint16[Un+16]=Ie,this.uint16[Un+17]=Oe,this.uint16[Un+18]=rt,this.uint16[Un+19]=lt,this.uint16[Un+20]=ot,this.uint16[Un+21]=Tt,this.uint16[Un+22]=yt,this.uint16[Un+23]=Dt,this.uint16[Un+24]=Gt,this.uint16[Un+25]=Xt,this.uint16[Un+26]=pn,this.uint16[Un+27]=en,this.uint32[cr+14]=Sn,this.float32[cr+15]=Dn,this.float32[cr+16]=yn,this.float32[cr+17]=On,this.float32[cr+18]=gn,this.uint8[Br+76]=Rn,o}}Ag.prototype.bytesPerElement=80,ze(Ag,"StructArrayLayout2f9i15ui1ul4f1ub80");class mg extends ja{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o){const h=this.length;return this.resize(h+1),this.emplace(h,o)}emplace(o,h){return this.float32[1*o+0]=h,o}}mg.prototype.bytesPerElement=4,ze(mg,"StructArrayLayout1f4");class xd extends ja{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,h,A,_,b){const E=this.length;return this.resize(E+1),this.emplace(E,o,h,A,_,b)}emplace(o,h,A,_,b,E){const I=5*o;return this.float32[I+0]=h,this.float32[I+1]=A,this.float32[I+2]=_,this.float32[I+3]=b,this.float32[I+4]=E,o}}xd.prototype.bytesPerElement=20,ze(xd,"StructArrayLayout5f20");class hf extends ja{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,h,A,_,b,E,I){const F=this.length;return this.resize(F+1),this.emplace(F,o,h,A,_,b,E,I)}emplace(o,h,A,_,b,E,I,F){const O=7*o;return this.float32[O+0]=h,this.float32[O+1]=A,this.float32[O+2]=_,this.float32[O+3]=b,this.float32[O+4]=E,this.float32[O+5]=I,this.float32[O+6]=F,o}}hf.prototype.bytesPerElement=28,ze(hf,"StructArrayLayout7f28");class gg extends ja{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,h,A,_){const b=this.length;return this.resize(b+1),this.emplace(b,o,h,A,_)}emplace(o,h,A,_,b){const E=6*o;return this.uint32[3*o+0]=h,this.uint16[E+2]=A,this.uint16[E+3]=_,this.uint16[E+4]=b,o}}gg.prototype.bytesPerElement=12,ze(gg,"StructArrayLayout1ul3ui12");class H0 extends ja{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o){const h=this.length;return this.resize(h+1),this.emplace(h,o)}emplace(o,h){return this.uint16[1*o+0]=h,o}}H0.prototype.bytesPerElement=2,ze(H0,"StructArrayLayout1ui2");class vp extends ja{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,h,A){const _=this.length;return this.resize(_+1),this.emplace(_,o,h,A)}emplace(o,h,A,_){const b=3*o;return this.float32[b+0]=h,this.float32[b+1]=A,this.float32[b+2]=_,o}}vp.prototype.bytesPerElement=12,ze(vp,"StructArrayLayout3f12");class NA extends ja{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,h){const A=this.length;return this.resize(A+1),this.emplace(A,o,h)}emplace(o,h,A){const _=2*o;return this.float32[_+0]=h,this.float32[_+1]=A,o}}NA.prototype.bytesPerElement=8,ze(NA,"StructArrayLayout2f8");class t_ extends ja{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,h,A,_,b,E,I,F,O,U,K,Z,fe,ge,xe,Ie){const Oe=this.length;return this.resize(Oe+1),this.emplace(Oe,o,h,A,_,b,E,I,F,O,U,K,Z,fe,ge,xe,Ie)}emplace(o,h,A,_,b,E,I,F,O,U,K,Z,fe,ge,xe,Ie,Oe){const rt=16*o;return this.float32[rt+0]=h,this.float32[rt+1]=A,this.float32[rt+2]=_,this.float32[rt+3]=b,this.float32[rt+4]=E,this.float32[rt+5]=I,this.float32[rt+6]=F,this.float32[rt+7]=O,this.float32[rt+8]=U,this.float32[rt+9]=K,this.float32[rt+10]=Z,this.float32[rt+11]=fe,this.float32[rt+12]=ge,this.float32[rt+13]=xe,this.float32[rt+14]=Ie,this.float32[rt+15]=Oe,o}}t_.prototype.bytesPerElement=64,ze(t_,"StructArrayLayout16f64");class Cd extends ja{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,h,A,_,b,E,I){const F=this.length;return this.resize(F+1),this.emplace(F,o,h,A,_,b,E,I)}emplace(o,h,A,_,b,E,I,F){const O=10*o,U=5*o;return this.uint16[O+0]=h,this.uint16[O+1]=A,this.uint16[O+2]=_,this.uint16[O+3]=b,this.float32[U+2]=E,this.float32[U+3]=I,this.float32[U+4]=F,o}}Cd.prototype.bytesPerElement=20,ze(Cd,"StructArrayLayout4ui3f20");class vg extends ja{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer)}emplaceBack(o){const h=this.length;return this.resize(h+1),this.emplace(h,o)}emplace(o,h){return this.uint8[1*o+0]=h,o}}vg.prototype.bytesPerElement=1,ze(vg,"StructArrayLayout1ub1");class _g extends pp{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}_g.prototype.size=40;class Sh extends e_{get(o){return new _g(this,o)}}ze(Sh,"CollisionBoxArray");class Ed extends pp{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(o){this._structArray.uint8[this._pos1+49]=o}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(o){this._structArray.uint8[this._pos1+50]=o}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(o){this._structArray.uint32[this._pos4+13]=o}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(o){this._structArray.uint8[this._pos1+58]=o}}Ed.prototype.size=60;class Sd extends gp{get(o){return new Ed(this,o)}}ze(Sd,"PlacedSymbolArray");class yg extends pp{get tileAnchorX(){return this._structArray.float32[this._pos4+0]}get tileAnchorY(){return this._structArray.float32[this._pos4+1]}get projectedAnchorX(){return this._structArray.int16[this._pos2+4]}get projectedAnchorY(){return this._structArray.int16[this._pos2+5]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+6]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+7]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+11]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get key(){return this._structArray.uint16[this._pos2+13]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+14]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+15]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+17]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+19]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+21]}get featureIndex(){return this._structArray.uint16[this._pos2+22]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+23]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numIconVertices(){return this._structArray.uint16[this._pos2+25]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+26]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+27]}get crossTileID(){return this._structArray.uint32[this._pos4+14]}set crossTileID(o){this._structArray.uint32[this._pos4+14]=o}get textOffset0(){return this._structArray.float32[this._pos4+15]}get textOffset1(){return this._structArray.float32[this._pos4+16]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+17]}get zOffset(){return this._structArray.float32[this._pos4+18]}set zOffset(o){this._structArray.float32[this._pos4+18]=o}get hasIconTextFit(){return this._structArray.uint8[this._pos1+76]}}yg.prototype.size=80;class Q0 extends Ag{get(o){return new yg(this,o)}}ze(Q0,"SymbolInstanceArray");class n_ extends mg{getoffsetX(o){return this.float32[1*o+0]}}ze(n_,"GlyphOffsetArray");class bg extends tc{getx(o){return this.int16[2*o+0]}gety(o){return this.int16[2*o+1]}}ze(bg,"SymbolLineVertexArray");class j0 extends pp{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}j0.prototype.size=12;class G0 extends gg{get(o){return new j0(this,o)}}ze(G0,"FeatureIndexArray");class r_ extends Zc{geta_centroid_pos0(o){return this.uint16[2*o+0]}geta_centroid_pos1(o){return this.uint16[2*o+1]}}ze(r_,"FillExtrusionCentroidArray");const MI=Ba([{name:"a_pos",components:2,type:"Int16"}],4),aE=Ba([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class Js{constructor(o=[]){this.segments=o}_prepareSegment(o,h,A,_){let b=this.segments[this.segments.length-1];return o>Js.MAX_VERTEX_ARRAY_LENGTH&&Ge(`Max vertices per segment is ${Js.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${o}`),(!b||b.vertexLength+o>Js.MAX_VERTEX_ARRAY_LENGTH||b.sortKey!==_)&&(b={vertexOffset:h,primitiveOffset:A,vertexLength:0,primitiveLength:0},_!==void 0&&(b.sortKey=_),this.segments.push(b)),b}prepareSegment(o,h,A,_){return this._prepareSegment(o,h.length,A.length,_)}get(){return this.segments}destroy(){for(const o of this.segments)for(const h in o.vaos)o.vaos[h].destroy()}static simpleSegment(o,h,A,_){return new Js([{vertexOffset:o,primitiveOffset:h,vertexLength:A,primitiveLength:_,vaos:{},sortKey:0}])}}function Bx(u,o){return 256*(u=ce(Math.floor(u),0,255))+ce(Math.floor(o),0,255)}Js.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,ze(Js,"SegmentVector");const sE=Ba([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),oE=Ba([{name:"a_dash",components:4,type:"Uint16"}]);var i_={exports:{}},db={exports:{}};(function(u){u.exports=function(o,h){var A,_,b,E,I,F,O,U;for(_=o.length-(A=3&o.length),b=h,I=3432918353,F=461845907,U=0;U<_;)O=255&o.charCodeAt(U)|(255&o.charCodeAt(++U))<<8|(255&o.charCodeAt(++U))<<16|(255&o.charCodeAt(++U))<<24,++U,b=27492+(65535&(E=5*(65535&(b=(b^=O=(65535&(O=(O=(65535&O)*I+(((O>>>16)*I&65535)<<16)&4294967295)<<15|O>>>17))*F+(((O>>>16)*F&65535)<<16)&4294967295)<<13|b>>>19))+((5*(b>>>16)&65535)<<16)&4294967295))+((58964+(E>>>16)&65535)<<16);switch(O=0,A){case 3:O^=(255&o.charCodeAt(U+2))<<16;case 2:O^=(255&o.charCodeAt(U+1))<<8;case 1:b^=O=(65535&(O=(O=(65535&(O^=255&o.charCodeAt(U)))*I+(((O>>>16)*I&65535)<<16)&4294967295)<<15|O>>>17))*F+(((O>>>16)*F&65535)<<16)&4294967295}return b^=o.length,b=2246822507*(65535&(b^=b>>>16))+((2246822507*(b>>>16)&65535)<<16)&4294967295,b=3266489909*(65535&(b^=b>>>13))+((3266489909*(b>>>16)&65535)<<16)&4294967295,(b^=b>>>16)>>>0}})(db);var Mx=db.exports,lE={exports:{}};(function(u){u.exports=function(o,h){for(var A,_=o.length,b=h^_,E=0;_>=4;)A=1540483477*(65535&(A=255&o.charCodeAt(E)|(255&o.charCodeAt(++E))<<8|(255&o.charCodeAt(++E))<<16|(255&o.charCodeAt(++E))<<24))+((1540483477*(A>>>16)&65535)<<16),b=1540483477*(65535&b)+((1540483477*(b>>>16)&65535)<<16)^(A=1540483477*(65535&(A^=A>>>24))+((1540483477*(A>>>16)&65535)<<16)),_-=4,++E;switch(_){case 3:b^=(255&o.charCodeAt(E+2))<<16;case 2:b^=(255&o.charCodeAt(E+1))<<8;case 1:b=1540483477*(65535&(b^=255&o.charCodeAt(E)))+((1540483477*(b>>>16)&65535)<<16)}return b=1540483477*(65535&(b^=b>>>13))+((1540483477*(b>>>16)&65535)<<16),(b^=b>>>15)>>>0}})(lE);var uE=Mx,cE=lE.exports;i_.exports=uE,i_.exports.murmur3=uE,i_.exports.murmur2=cE;var Ix=R(i_.exports);class a_{constructor(){this.ids=[],this.uniqueIds=[],this.positions=[],this.indexed=!1}add(o,h,A,_){this.ids.push(hE(o)),this.positions.push(h,A,_)}eachPosition(o,h){const A=hE(o);let _=0,b=this.ids.length-1;for(;_<b;){const E=_+b>>1;this.ids[E]>=A?b=E:_=E+1}for(;this.ids[_]===A;)h(this.positions[3*_],this.positions[3*_+1],this.positions[3*_+2]),_++}static serialize(o,h){const A=new Float64Array(o.ids),_=new Uint32Array(o.positions);return Lx(A,_,0,A.length-1),h&&(h.add(A.buffer),h.add(_.buffer)),{ids:A,positions:_}}static deserialize(o){const h=new a_;let A;h.ids=o.ids,h.positions=o.positions;for(const _ of h.ids)_!==A&&h.uniqueIds.push(_),A=_;return h.indexed=!0,h}}function hE(u){const o=+u;return!isNaN(o)&&Number.MIN_SAFE_INTEGER<=o&&o<=Number.MAX_SAFE_INTEGER?o:Ix(String(u))}function Lx(u,o,h,A){for(;h<A;){const _=u[h+A>>1];let b=h-1,E=A+1;for(;;){do b++;while(u[b]<_);do E--;while(u[E]>_);if(b>=E)break;fb(u,b,E),fb(o,3*b,3*E),fb(o,3*b+1,3*E+1),fb(o,3*b+2,3*E+2)}E-h<A-E?(Lx(u,o,h,E),h=E+1):(Lx(u,o,E+1,A),A=E)}}function fb(u,o,h){const A=u[o];u[o]=u[h],u[h]=A}ze(a_,"FeaturePositionMap");class _p{constructor(o){this.gl=o.gl,this.initialized=!1}fetchUniformLocation(o,h){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(o,h),this.initialized=!0),!!this.location}}class pb extends _p{constructor(o){super(o),this.current=0}set(o,h,A){this.fetchUniformLocation(o,h)&&this.current!==A&&(this.current=A,this.gl.uniform1i(this.location,A))}}class Nu extends _p{constructor(o){super(o),this.current=0}set(o,h,A){this.fetchUniformLocation(o,h)&&this.current!==A&&(this.current=A,this.gl.uniform1f(this.location,A))}}class UA extends _p{constructor(o){super(o),this.current=[0,0]}set(o,h,A){this.fetchUniformLocation(o,h)&&(A[0]===this.current[0]&&A[1]===this.current[1]||(this.current=A,this.gl.uniform2f(this.location,A[0],A[1])))}}class dE extends _p{constructor(o){super(o),this.current=[0,0,0]}set(o,h,A){this.fetchUniformLocation(o,h)&&(A[0]===this.current[0]&&A[1]===this.current[1]&&A[2]===this.current[2]||(this.current=A,this.gl.uniform3f(this.location,A[0],A[1],A[2])))}}class w extends _p{constructor(o){super(o),this.current=[0,0,0,0]}set(o,h,A){this.fetchUniformLocation(o,h)&&(A[0]===this.current[0]&&A[1]===this.current[1]&&A[2]===this.current[2]&&A[3]===this.current[3]||(this.current=A,this.gl.uniform4f(this.location,A[0],A[1],A[2],A[3])))}}class d extends _p{constructor(o){super(o),this.current=Wa.transparent}set(o,h,A){this.fetchUniformLocation(o,h)&&(A.r===this.current.r&&A.g===this.current.g&&A.b===this.current.b&&A.a===this.current.a||(this.current=A,this.gl.uniform4f(this.location,A.r,A.g,A.b,A.a)))}}const g=new Float32Array(16);class x extends _p{constructor(o){super(o),this.current=g}set(o,h,A){if(this.fetchUniformLocation(o,h)){if(A[12]!==this.current[12]||A[0]!==this.current[0])return this.current=A,void this.gl.uniformMatrix4fv(this.location,!1,A);for(let _=1;_<16;_++)if(A[_]!==this.current[_]){this.current=A,this.gl.uniformMatrix4fv(this.location,!1,A);break}}}}const B=new Float32Array(9),L=new Float32Array(4);class D extends _p{constructor(o){super(o),this.current=L}set(o,h,A){if(this.fetchUniformLocation(o,h)){for(let _=0;_<4;_++)if(A[_]!==this.current[_]){this.current=A,this.gl.uniformMatrix2fv(this.location,!1,A);break}}}}function $(u){return[Bx(255*u.r,255*u.g),Bx(255*u.b,255*u.a)]}class Y{constructor(o,h,A){this.value=o,this.uniformNames=h.map(_=>`u_${_}`),this.type=A}setUniform(o,h,A,_,b){h.set(o,b,_.constantOr(this.value))}getBinding(o,h){return this.type==="color"?new d(o):new Nu(o)}}class ae{constructor(o,h){this.uniformNames=h.map(A=>`u_${A}`),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(o){this.pixelRatio=o.pixelRatio||1,this.pattern=o.tl.concat(o.br)}setUniform(o,h,A,_,b){const E=b==="u_pattern"||b==="u_dash"?this.pattern:b==="u_pixel_ratio"?this.pixelRatio:null;E&&h.set(o,b,E)}getBinding(o,h){return h==="u_pattern"||h==="u_dash"?new w(o):new Nu(o)}}class de{constructor(o,h,A,_){this.expression=o,this.type=A,this.maxValue=0,this.paintVertexAttributes=h.map(b=>({name:`a_${b}`,type:"Float32",components:A==="color"?2:1,offset:0})),this.paintVertexArray=new _}populatePaintArray(o,h,A,_,b,E,I){const F=this.paintVertexArray.length,O=this.expression.evaluate(new Fi(0,{brightness:E}),h,{},b,_,I);this.paintVertexArray.resize(o),this._setPaintValue(F,o,O)}updatePaintArray(o,h,A,_,b,E,I){const F=this.expression.evaluate({zoom:0,brightness:I},A,_,void 0,b);this._setPaintValue(o,h,F)}_setPaintValue(o,h,A){if(this.type==="color"){const _=$(A);for(let b=o;b<h;b++)this.paintVertexArray.emplace(b,_[0],_[1])}else{for(let _=o;_<h;_++)this.paintVertexArray.emplace(_,A);this.maxValue=Math.max(this.maxValue,Math.abs(A))}}upload(o){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=o.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent||!this.expression.isLightConstant))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Ae{constructor(o,h,A,_,b,E){this.expression=o,this.uniformNames=h.map(I=>`u_${I}_t`),this.type=A,this.useIntegerZoom=_,this.zoom=b,this.maxValue=0,this.paintVertexAttributes=h.map(I=>({name:`a_${I}`,type:"Float32",components:A==="color"?4:2,offset:0})),this.paintVertexArray=new E}populatePaintArray(o,h,A,_,b,E,I){const F=this.expression.evaluate(new Fi(this.zoom,{brightness:E}),h,{},b,_,I),O=this.expression.evaluate(new Fi(this.zoom+1,{brightness:E}),h,{},b,_,I),U=this.paintVertexArray.length;this.paintVertexArray.resize(o),this._setPaintValue(U,o,F,O)}updatePaintArray(o,h,A,_,b,E,I){const F=this.expression.evaluate({zoom:this.zoom,brightness:I},A,_,void 0,b),O=this.expression.evaluate({zoom:this.zoom+1,brightness:I},A,_,void 0,b);this._setPaintValue(o,h,F,O)}_setPaintValue(o,h,A,_){if(this.type==="color"){const b=$(A),E=$(_);for(let I=o;I<h;I++)this.paintVertexArray.emplace(I,b[0],b[1],E[0],E[1])}else{for(let b=o;b<h;b++)this.paintVertexArray.emplace(b,A,_);this.maxValue=Math.max(this.maxValue,Math.abs(A),Math.abs(_))}}upload(o){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=o.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent||!this.expression.isLightConstant))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(o,h,A,_,b){const E=this.useIntegerZoom?Math.floor(A.zoom):A.zoom,I=ce(this.expression.interpolationFactor(E,this.zoom,this.zoom+1),0,1);h.set(o,b,I)}getBinding(o,h){return new Nu(o)}}class Ce{constructor(o,h,A,_,b){this.expression=o,this.layerId=b,this.paintVertexAttributes=(A==="array"?oE:sE).members;for(let E=0;E<h.length;++E);this.paintVertexArray=new _}populatePaintArray(o,h,A){const _=this.paintVertexArray.length;this.paintVertexArray.resize(o),this._setPaintValues(_,o,h.patterns&&h.patterns[this.layerId],A)}updatePaintArray(o,h,A,_,b,E,I){this._setPaintValues(o,h,A.patterns&&A.patterns[this.layerId],E)}_setPaintValues(o,h,A,_){if(!_||!A)return;const b=_[A];if(!b)return;const{tl:E,br:I,pixelRatio:F}=b;for(let O=o;O<h;O++)this.paintVertexArray.emplace(O,E[0],E[1],I[0],I[1],F)}upload(o){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=o.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent||!this.expression.isLightConstant))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Me{constructor(o,h,A=()=>!0){this.binders={},this._buffers=[];const _=[];for(const b in o.paint._values){const E=o.paint.get(b);if(!A(b)||!(E instanceof sl&&rg(E.property.specification)))continue;const I=Ke(b,o.type),F=E.value,O=E.property.specification.type,U=!!E.property.useIntegerZoom,K=b==="line-dasharray"||b.endsWith("pattern"),Z=b==="line-dasharray"&&o.layout.get("line-cap").value.kind!=="constant";if(F.kind!=="constant"||Z)if(F.kind==="source"||Z||K){const fe=pt(b,O,"source");this.binders[b]=K?new Ce(F,I,O,fe,o.id):new de(F,I,O,fe),_.push(`/a_${b}`)}else{const fe=pt(b,O,"composite");this.binders[b]=new Ae(F,I,O,U,h,fe),_.push(`/z_${b}`)}else this.binders[b]=K?new ae(F.value,I):new Y(F.value,I,O),_.push(`/u_${b}`)}this.cacheKey=_.sort().join("")}getMaxValue(o){const h=this.binders[o];return h instanceof de||h instanceof Ae?h.maxValue:0}populatePaintArrays(o,h,A,_,b,E,I){for(const F in this.binders){const O=this.binders[F];(O instanceof de||O instanceof Ae||O instanceof Ce)&&O.populatePaintArray(o,h,A,_,b,E,I)}}setConstantPatternPositions(o){for(const h in this.binders){const A=this.binders[h];A instanceof ae&&A.setConstantPatternPositions(o)}}updatePaintArrays(o,h,A,_,b,E,I,F){let O=!1;const U=Object.keys(o),K=U.length!==0,Z=K?U:h.uniqueIds;for(const fe in this.binders){const ge=this.binders[fe];if((ge instanceof de||ge instanceof Ae||ge instanceof Ce)&&(ge.expression.isStateDependent===!0||ge.expression.isLightConstant===!1)){const xe=b.paint.get(fe);ge.expression=xe.value;for(const Ie of Z){const Oe=o[Ie.toString()];h.eachPosition(Ie,(rt,lt,ot)=>{const Tt=_.feature(rt);ge.updatePaintArray(lt,ot,Tt,Oe,E,I,F)})}if(!K)for(const Ie of A.uniqueIds){const Oe=o[Ie.toString()];A.eachPosition(Ie,(rt,lt,ot)=>{const Tt=_.feature(rt);ge.updatePaintArray(lt,ot,Tt,Oe,E,I,F)})}O=!0}}return O}defines(){const o=[];for(const h in this.binders){const A=this.binders[h];(A instanceof Y||A instanceof ae)&&o.push(...A.uniformNames.map(_=>`#define HAS_UNIFORM_${_}`))}return o}getBinderAttributes(){const o=[];for(const h in this.binders){const A=this.binders[h];if(A instanceof de||A instanceof Ae||A instanceof Ce)for(let _=0;_<A.paintVertexAttributes.length;_++)o.push(A.paintVertexAttributes[_].name)}return o}getBinderUniforms(){const o=[];for(const h in this.binders){const A=this.binders[h];if(A instanceof Y||A instanceof ae||A instanceof Ae)for(const _ of A.uniformNames)o.push(_)}return o}getPaintVertexBuffers(){return this._buffers}getUniforms(o){const h=[];for(const A in this.binders){const _=this.binders[A];if(_ instanceof Y||_ instanceof ae||_ instanceof Ae)for(const b of _.uniformNames)h.push({name:b,property:A,binding:_.getBinding(o,b)})}return h}setUniforms(o,h,A,_,b){for(const{name:E,property:I,binding:F}of A)this.binders[I].setUniform(o,F,b,_.get(I),E)}updatePaintBuffers(){this._buffers=[];for(const o in this.binders){const h=this.binders[o];(h instanceof de||h instanceof Ae||h instanceof Ce)&&h.paintVertexBuffer&&this._buffers.push(h.paintVertexBuffer)}}upload(o){for(const h in this.binders){const A=this.binders[h];(A instanceof de||A instanceof Ae||A instanceof Ce)&&A.upload(o)}this.updatePaintBuffers()}destroy(){for(const o in this.binders){const h=this.binders[o];(h instanceof de||h instanceof Ae||h instanceof Ce)&&h.destroy()}}}class He{constructor(o,h,A=()=>!0){this.programConfigurations={};for(const _ of o)this.programConfigurations[_.id]=new Me(_,h,A);this.needsUpload=!1,this._featureMap=new a_,this._featureMapWithoutIds=new a_,this._bufferOffset=0,this._idlessCounter=0}populatePaintArrays(o,h,A,_,b,E,I,F){for(const O in this.programConfigurations)this.programConfigurations[O].populatePaintArrays(o,h,_,b,E,I,F);h.id!==void 0?this._featureMap.add(h.id,A,this._bufferOffset,o):(this._featureMapWithoutIds.add(this._idlessCounter,A,this._bufferOffset,o),this._idlessCounter+=1),this._bufferOffset=o,this.needsUpload=!0}updatePaintArrays(o,h,A,_,b,E){for(const I of A)this.needsUpload=this.programConfigurations[I.id].updatePaintArrays(o,this._featureMap,this._featureMapWithoutIds,h,I,_,b,E||0)||this.needsUpload}get(o){return this.programConfigurations[o]}upload(o){if(this.needsUpload){for(const h in this.programConfigurations)this.programConfigurations[h].upload(o);this.needsUpload=!1}}destroy(){for(const o in this.programConfigurations)this.programConfigurations[o].destroy()}}const $e={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-emissive-strength":["emissive_strength"],"icon-emissive-strength":["emissive_strength"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function Ke(u,o){return $e[u]||[u.replace(`${o}-`,"").replace(/-/g,"_")]}const Pe={"line-pattern":{source:Xc,composite:Xc},"fill-pattern":{source:Xc,composite:Xc},"fill-extrusion-pattern":{source:Xc,composite:Xc},"line-dasharray":{source:Ap,composite:Ap}},Ze={color:{source:NA,composite:wd},number:{source:mg,composite:NA}};function pt(u,o,h){const A=Pe[u];return A&&A[h]||Ze[o][h]}ze(Y,"ConstantBinder"),ze(ae,"PatternConstantBinder"),ze(de,"SourceExpressionBinder"),ze(Ce,"PatternCompositeBinder"),ze(Ae,"CompositeExpressionBinder"),ze(Me,"ProgramConfiguration",{omit:["_buffers"]}),ze(He,"ProgramConfigurationSet");const st=zn/Math.PI/2,At=5,qe=6,mt=16383,Pt=64,Ot=[Pt,32,16],Qt=-st,fn=st;function Wt(u,o,h,A=st){return h=W(h),[u*Math.sin(h)*A,-o*A,u*Math.cos(h)*A]}function xn(u,o,h){return Wt(Math.cos(W(u)),Math.sin(W(u)),o,h)}const _n=63710088e-1,$n=2*Math.PI*_n;class Yt{constructor(o,h){if(isNaN(o)||isNaN(h))throw new Error(`Invalid LngLat object: (${o}, ${h})`);if(this.lng=+o,this.lat=+h,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Yt(ye(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(o){const h=Math.PI/180,A=this.lat*h,_=o.lat*h,b=Math.sin(A)*Math.sin(_)+Math.cos(A)*Math.cos(_)*Math.cos((o.lng-this.lng)*h);return _n*Math.acos(Math.min(b,1))}toBounds(o=0){const h=360*o/40075017,A=h/Math.cos(Math.PI/180*this.lat);return new mn({lng:this.lng-A,lat:this.lat-h},{lng:this.lng+A,lat:this.lat+h})}toEcef(o){return xn(this.lat,this.lng,st+o*st/_n)}static convert(o){if(o instanceof Yt)return o;if(Array.isArray(o)&&(o.length===2||o.length===3))return new Yt(Number(o[0]),Number(o[1]));if(!Array.isArray(o)&&typeof o=="object"&&o!==null)return new Yt(Number("lng"in o?o.lng:o.lon),Number(o.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}class mn{constructor(o,h){o&&(h?this.setSouthWest(o).setNorthEast(h):o.length===4?this.setSouthWest([o[0],o[1]]).setNorthEast([o[2],o[3]]):this.setSouthWest(o[0]).setNorthEast(o[1]))}setNorthEast(o){return this._ne=o instanceof Yt?new Yt(o.lng,o.lat):Yt.convert(o),this}setSouthWest(o){return this._sw=o instanceof Yt?new Yt(o.lng,o.lat):Yt.convert(o),this}extend(o){const h=this._sw,A=this._ne;let _,b;if(o instanceof Yt)_=o,b=o;else{if(!(o instanceof mn))return Array.isArray(o)?o.length===4||o.every(Array.isArray)?this.extend(mn.convert(o)):this.extend(Yt.convert(o)):typeof o=="object"&&o!==null&&o.hasOwnProperty("lat")&&(o.hasOwnProperty("lon")||o.hasOwnProperty("lng"))?this.extend(Yt.convert(o)):this;if(_=o._sw,b=o._ne,!_||!b)return this}return h||A?(h.lng=Math.min(_.lng,h.lng),h.lat=Math.min(_.lat,h.lat),A.lng=Math.max(b.lng,A.lng),A.lat=Math.max(b.lat,A.lat)):(this._sw=new Yt(_.lng,_.lat),this._ne=new Yt(b.lng,b.lat)),this}getCenter(){return new Yt((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Yt(this.getWest(),this.getNorth())}getSouthEast(){return new Yt(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(o){const{lng:h,lat:A}=Yt.convert(o);let _=this._sw.lng<=h&&h<=this._ne.lng;return this._sw.lng>this._ne.lng&&(_=this._sw.lng>=h&&h>=this._ne.lng),this._sw.lat<=A&&A<=this._ne.lat&&_}static convert(o){return!o||o instanceof mn?o:new mn(o)}}var $t={};(function(u,o){(function(h){function A(b,E,I){var F=_(256*b,256*(E=Math.pow(2,I)-E-1),I),O=_(256*(b+1),256*(E+1),I);return F[0]+","+F[1]+","+O[0]+","+O[1]}function _(b,E,I){var F=2*Math.PI*6378137/256/Math.pow(2,I);return[b*F-2*Math.PI*6378137/2,E*F-2*Math.PI*6378137/2]}h.getURL=function(b,E,I,F,O,U){return U=U||{},b+"?"+["bbox="+A(I,F,O),"format="+(U.format||"image/png"),"service="+(U.service||"WMS"),"version="+(U.version||"1.1.1"),"request="+(U.request||"GetMap"),"srs="+(U.srs||"EPSG:3857"),"width="+(U.width||256),"height="+(U.height||256),"layers="+E].join("&")},h.getTileBBox=A,h.getMercCoords=_,Object.defineProperty(h,"__esModule",{value:!0})})(o)})(0,$t);var on=$t;class Kn{constructor(o,h,A){this.z=o,this.x=h,this.y=A,this.key=pr(0,o,o,h,A)}equals(o){return this.z===o.z&&this.x===o.x&&this.y===o.y}url(o,h){const A=on.getTileBBox(this.x,this.y,this.z),_=function(b,E,I){let F,O="";for(let U=b;U>0;U--)F=1<<U-1,O+=(E&F?1:0)+(I&F?2:0);return O}(this.z,this.x,this.y);return o[(this.x+this.y)%o.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(h==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",_).replace("{bbox-epsg-3857}",A)}toString(){return`${this.z}/${this.x}/${this.y}`}}class ir{constructor(o,h){this.wrap=o,this.canonical=h,this.key=pr(o,h.z,h.z,h.x,h.y)}}class nr{constructor(o,h,A,_,b){this.overscaledZ=o,this.wrap=h,this.canonical=new Kn(A,+_,+b),this.key=h===0&&o===A?this.canonical.key:pr(h,o,A,_,b)}equals(o){return this.overscaledZ===o.overscaledZ&&this.wrap===o.wrap&&this.canonical.equals(o.canonical)}scaledTo(o){const h=this.canonical.z-o;return o>this.canonical.z?new nr(o,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new nr(o,this.wrap,o,this.canonical.x>>h,this.canonical.y>>h)}calculateScaledKey(o,h=!0){if(this.overscaledZ===o&&h)return this.key;if(o>this.canonical.z)return pr(this.wrap*+h,o,this.canonical.z,this.canonical.x,this.canonical.y);{const A=this.canonical.z-o;return pr(this.wrap*+h,o,o,this.canonical.x>>A,this.canonical.y>>A)}}isChildOf(o){if(o.wrap!==this.wrap)return!1;const h=this.canonical.z-o.canonical.z;return o.overscaledZ===0||o.overscaledZ<this.overscaledZ&&o.canonical.z<this.canonical.z&&o.canonical.x===this.canonical.x>>h&&o.canonical.y===this.canonical.y>>h}children(o){if(this.overscaledZ>=o)return[new nr(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const h=this.canonical.z+1,A=2*this.canonical.x,_=2*this.canonical.y;return[new nr(h,this.wrap,h,A,_),new nr(h,this.wrap,h,A+1,_),new nr(h,this.wrap,h,A,_+1),new nr(h,this.wrap,h,A+1,_+1)]}isLessThan(o){return this.wrap<o.wrap||!(this.wrap>o.wrap)&&(this.overscaledZ<o.overscaledZ||!(this.overscaledZ>o.overscaledZ)&&(this.canonical.x<o.canonical.x||!(this.canonical.x>o.canonical.x)&&this.canonical.y<o.canonical.y))}wrapped(){return new nr(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(o){return new nr(this.overscaledZ,o,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new ir(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function pr(u,o,h,A,_){const b=1<<Math.min(h,22);let E=b*(_%b)+A%b;return u&&h<22&&(E+=b*b*((u<0?-2*u-1:2*u)%(1<<2*(22-h)))),16*(32*E+h)+(o-h)}const Ir=[u=>{let o=u.canonical.x-1,h=u.wrap;return o<0&&(o=(1<<u.canonical.z)-1,h--),new nr(u.overscaledZ,h,u.canonical.z,o,u.canonical.y)},u=>{let o=u.canonical.x+1,h=u.wrap;return o===1<<u.canonical.z&&(o=0,h++),new nr(u.overscaledZ,h,u.canonical.z,o,u.canonical.y)},u=>new nr(u.overscaledZ,u.wrap,u.canonical.z,u.canonical.x,(u.canonical.y===0?1<<u.canonical.z:u.canonical.y)-1),u=>new nr(u.overscaledZ,u.wrap,u.canonical.z,u.canonical.x,u.canonical.y===(1<<u.canonical.z)-1?0:u.canonical.y+1)];ze(Kn,"CanonicalTileID"),ze(nr,"OverscaledTileID",{omit:["projMatrix","expandedProjMatrix"]});const jr=0,Nr=25.5;function zr(u){return $n*Math.cos(u*Math.PI/180)}function Ri(u){return(180+u)/360}function hi(u){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u*Math.PI/360)))/360}function Ei(u,o){return u/zr(o)}function wi(u){return 360*u-180}function ia(u){return 360/Math.PI*Math.atan(Math.exp((180-360*u)*Math.PI/180))-90}function ns(u,o){return u*zr(ia(o))}const Yi=85.051129;function ks(u){return Math.cos(W(ce(u,-Yi,Yi)))}function Xi(u,o){const h=ce(o,jr,Nr),A=Math.pow(2,h);return ks(u)*$n/(512*A)}function _a(u){return 1/Math.cos(u*Math.PI/180)}function Zi(u,o=0){const h=Math.exp(Math.PI*(1-(u.y+o/zn)/(1<<u.z)*2));return 80150034*h/(h*h+1)/zn/(1<<u.z)}class ma{constructor(o,h,A=0){this.x=+o,this.y=+h,this.z=+A}static fromLngLat(o,h=0){const A=Yt.convert(o);return new ma(Ri(A.lng),hi(A.lat),Ei(h,A.lat))}toLngLat(){return new Yt(wi(this.x),ia(this.y))}toAltitude(){return ns(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/$n*_a(ia(this.y))}}function ls(u,o,h,A,_,b,E,I,F){const O=(o+A)/2,U=(h+_)/2,K=new G(O,U);I(K),function(Z,fe,ge,xe,Ie,Oe){const rt=ge-Ie,lt=xe-Oe;return Math.abs((xe-fe)*rt-(ge-Z)*lt)/Math.hypot(rt,lt)}(K.x,K.y,b.x,b.y,E.x,E.y)>=F?(ls(u,o,h,O,U,b,K,I,F),ls(u,O,U,A,_,K,E,I,F)):u.push(E)}function xa(u,o,h){let A=u[0],_=A.x,b=A.y;o(A);const E=[A];for(let I=1;I<u.length;I++){const F=u[I],{x:O,y:U}=F;o(F),ls(E,_,b,O,U,A,F,o,h),_=O,b=U,A=F}return E}function ll(u,o,h,A){if(A(o,h)){const _=o.add(h)._mult(.5);ll(u,o,_,A),ll(u,_,h,A)}else u.push(h)}function eu(u,o){let h=u[0];const A=[h];for(let _=1;_<u.length;_++){const b=u[_];ll(A,h,b,o),h=b}return A}const _c=Math.pow(2,14)-1,df=-_c-1;function yc(u,o){const h=Math.round(u.x*o),A=Math.round(u.y*o);return u.x=ce(h,df,_c),u.y=ce(A,df,_c),(h<u.x||h>u.x+1||A<u.y||A>u.y+1)&&Ge("Geometry exceeds allowed extent, reduce your vector tile buffer size"),u}function ul(u,o,h){const A=u.loadGeometry(),_=u.extent,b=zn/_;if(o&&h&&h.projection.isReprojectedInTileSpace){const E=1<<o.z,{scale:I,x:F,y:O,projection:U}=h,K=Z=>{const fe=wi((o.x+Z.x/_)/E),ge=ia((o.y+Z.y/_)/E),xe=U.project(fe,ge);Z.x=(xe.x*I-F)*_,Z.y=(xe.y*I-O)*_};for(let Z=0;Z<A.length;Z++)if(u.type!==1)A[Z]=xa(A[Z],K,1);else{const fe=[];for(const ge of A[Z])ge.x<0||ge.x>=_||ge.y<0||ge.y>=_||(K(ge),fe.push(ge));A[Z]=fe}}for(const E of A)for(const I of E)yc(I,b);return A}function Vo(u,o){return{type:u.type,id:u.id,properties:u.properties,geometry:o?ul(u):[]}}function Uu(u,o,h,A,_){u.emplaceBack(2*o+(A+1)/2,2*h+(_+1)/2)}function nc(u,o,h){u.emplaceBack(o.x,o.y,o.z,h[0]*16384,h[1]*16384,h[2]*16384)}class bc{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(h=>h.fqid),this.index=o.index,this.hasPattern=!1,this.projection=o.projection,this.layoutVertexArray=new tc,this.indexArray=new Cs,this.segments=new Js,this.programConfigurations=new He(o.layers,o.zoom),this.stateDependentLayerIds=this.layers.filter(h=>h.isStateDependent()).map(h=>h.id)}populate(o,h,A,_){const b=this.layers[0],E=[];let I=null;b.type==="circle"&&(I=b.layout.get("circle-sort-key"));for(const{feature:O,id:U,index:K,sourceLayerIndex:Z}of o){const fe=this.layers[0]._featureFilter.needGeometry,ge=Vo(O,fe);if(!this.layers[0]._featureFilter.filter(new Fi(this.zoom),ge,A))continue;const xe=I?I.evaluate(ge,{},A):void 0,Ie={id:U,properties:O.properties,type:O.type,sourceLayerIndex:Z,index:K,geometry:fe?ge.geometry:ul(O,A,_),patterns:{},sortKey:xe};E.push(Ie)}I&&E.sort((O,U)=>O.sortKey-U.sortKey);let F=null;_.projection.name==="globe"&&(this.globeExtVertexArray=new hg,F=_.projection);for(const O of E){const{geometry:U,index:K,sourceLayerIndex:Z}=O,fe=o[K].feature;this.addFeature(O,U,K,h.availableImages,A,F,h.brightness),h.featureIndex.insert(fe,U,K,Z,this.index)}}update(o,h,A,_,b){const E=Object.keys(o).length!==0;E&&!this.stateDependentLayers.length||this.programConfigurations.updatePaintArrays(o,h,E?this.stateDependentLayers:this.layers,A,_,b)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,MI.members),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=o.createVertexBuffer(this.globeExtVertexArray,aE.members))),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(o,h,A,_,b,E,I){for(const F of h)for(const O of F){const U=O.x,K=O.y;if(U<0||U>=zn||K<0||K>=zn)continue;if(E){const ge=E.projectTilePoint(U,K,b),xe=E.upVector(b,U,K),Ie=this.globeExtVertexArray;nc(Ie,ge,xe),nc(Ie,ge,xe),nc(Ie,ge,xe),nc(Ie,ge,xe)}const Z=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,o.sortKey),fe=Z.vertexLength;Uu(this.layoutVertexArray,U,K,-1,-1),Uu(this.layoutVertexArray,U,K,1,-1),Uu(this.layoutVertexArray,U,K,1,1),Uu(this.layoutVertexArray,U,K,-1,1),this.indexArray.emplaceBack(fe,fe+1,fe+2),this.indexArray.emplaceBack(fe,fe+2,fe+3),Z.vertexLength+=4,Z.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,A,{},_,b,I)}}function ff(u,o){for(let h=0;h<u.length;h++)if(yp(o,u[h]))return!0;for(let h=0;h<o.length;h++)if(yp(u,o[h]))return!0;return!!o_(u,o)}function zA(u,o,h){return!!yp(u,o)||!!l_(o,u,h)}function wg(u,o){if(u.length===1)return Ab(o,u[0]);for(let h=0;h<o.length;h++){const A=o[h];for(let _=0;_<A.length;_++)if(yp(u,A[_]))return!0}for(let h=0;h<u.length;h++)if(Ab(o,u[h]))return!0;for(let h=0;h<o.length;h++)if(o_(u,o[h]))return!0;return!1}function s_(u,o,h){if(u.length>1){if(o_(u,o))return!0;for(let A=0;A<o.length;A++)if(l_(o[A],u,h))return!0}for(let A=0;A<u.length;A++)if(l_(u[A],o,h))return!0;return!1}function o_(u,o){if(u.length===0||o.length===0)return!1;for(let h=0;h<u.length-1;h++){const A=u[h],_=u[h+1];for(let b=0;b<o.length-1;b++)if(kx(A,_,o[b],o[b+1]))return!0}return!1}function kx(u,o,h,A){return Ne(u,h,A)!==Ne(o,h,A)&&Ne(u,o,h)!==Ne(u,o,A)}function l_(u,o,h){const A=h*h;if(o.length===1)return u.distSqr(o[0])<A;for(let _=1;_<o.length;_++)if(K0(u,o[_-1],o[_])<A)return!0;return!1}function K0(u,o,h){const A=o.distSqr(h);if(A===0)return u.distSqr(o);const _=((u.x-o.x)*(h.x-o.x)+(u.y-o.y)*(h.y-o.y))/A;return u.distSqr(_<0?o:_>1?h:h.sub(o)._mult(_)._add(o))}function Ab(u,o){let h,A,_,b=!1;for(let E=0;E<u.length;E++){h=u[E];for(let I=0,F=h.length-1;I<h.length;F=I++)A=h[I],_=h[F],A.y>o.y!=_.y>o.y&&o.x<(_.x-A.x)*(o.y-A.y)/(_.y-A.y)+A.x&&(b=!b)}return b}function yp(u,o){let h=!1;for(let A=0,_=u.length-1;A<u.length;_=A++){const b=u[A],E=u[_];b.y>o.y!=E.y>o.y&&o.x<(E.x-b.x)*(o.y-b.y)/(E.y-b.y)+b.x&&(h=!h)}return h}function Q$(u,o,h,A,_){for(const E of u)if(o<=E.x&&h<=E.y&&A>=E.x&&_>=E.y)return!0;const b=[new G(o,h),new G(o,_),new G(A,_),new G(A,h)];if(u.length>2){for(const E of b)if(yp(u,E))return!0}for(let E=0;E<u.length-1;E++)if(tme(u[E],u[E+1],b))return!0;return!1}function tme(u,o,h){const A=h[0],_=h[2];if(u.x<A.x&&o.x<A.x||u.x>_.x&&o.x>_.x||u.y<A.y&&o.y<A.y||u.y>_.y&&o.y>_.y)return!1;const b=Ne(u,o,h[0]);return b!==Ne(u,o,h[1])||b!==Ne(u,o,h[2])||b!==Ne(u,o,h[3])}function mb(u,o,h,A,_,b){let E=o.y-u.y,I=u.x-o.x;if(b=b||0){const F=E*E+I*I;if(F===0)return!0;const O=Math.sqrt(F);E/=O,I/=O}return!((h.x-u.x)*E+(h.y-u.y)*I-b<0||(A.x-u.x)*E+(A.y-u.y)*I-b<0||(_.x-u.x)*E+(_.y-u.y)*I-b<0)}function II(u,o,h,A,_,b,E){return!(mb(u,o,A,_,b,E)||mb(o,h,A,_,b,E)||mb(h,u,A,_,b,E)||mb(A,_,u,o,h,E)||mb(_,b,u,o,h,E)||mb(b,A,u,o,h,E))}function gb(u,o,h){const A=o.paint.get(u).value;return A.kind==="constant"?A.value:h.programConfigurations.get(o.id).getMaxValue(u)}function fE(u){return Math.sqrt(u[0]*u[0]+u[1]*u[1])}function j$(u,o,h,A,_){if(!o[0]&&!o[1])return u;const b=G.convert(o)._mult(_);h==="viewport"&&b._rotate(-A);const E=[];for(let I=0;I<u.length;I++)E.push(u[I].sub(b));return E}function G$(u,o,h,A){const _=G.convert(u)._mult(A);return o==="viewport"&&_._rotate(-h),_}ze(bc,"CircleBucket",{omit:["layers"]});const nme=new ka({"circle-sort-key":new Cr(rn.layout_circle["circle-sort-key"]),visibility:new jn(rn.layout_circle.visibility)});var rme={paint:new ka({"circle-radius":new Cr(rn.paint_circle["circle-radius"]),"circle-color":new Cr(rn.paint_circle["circle-color"]),"circle-blur":new Cr(rn.paint_circle["circle-blur"]),"circle-opacity":new Cr(rn.paint_circle["circle-opacity"]),"circle-translate":new jn(rn.paint_circle["circle-translate"]),"circle-translate-anchor":new jn(rn.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new jn(rn.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new jn(rn.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Cr(rn.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Cr(rn.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Cr(rn.paint_circle["circle-stroke-opacity"]),"circle-emissive-strength":new jn(rn.paint_circle["circle-emissive-strength"])}),layout:nme},bl={},wl={};Object.defineProperty(wl,"__esModule",{value:!0}),wl.setMatrixArrayType=function(u){wl.ARRAY_TYPE=W$=u},wl.toRadian=function(u){return u*ame},wl.equals=function(u,o){return Math.abs(u-o)<=K$*Math.max(1,Math.abs(u),Math.abs(o))},wl.RANDOM=wl.ARRAY_TYPE=wl.EPSILON=void 0;var K$=1e-6;wl.EPSILON=K$;var W$=typeof Float32Array<"u"?Float32Array:Array;wl.ARRAY_TYPE=W$;var ime=Math.random;wl.RANDOM=ime;var ame=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var u=0,o=arguments.length;o--;)u+=arguments[o]*arguments[o];return Math.sqrt(u)});var Ps={};function LI(u){return LI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},LI(u)}Object.defineProperty(Ps,"__esModule",{value:!0}),Ps.create=function(){var u=new W0.ARRAY_TYPE(4);return W0.ARRAY_TYPE!=Float32Array&&(u[1]=0,u[2]=0),u[0]=1,u[3]=1,u},Ps.clone=function(u){var o=new W0.ARRAY_TYPE(4);return o[0]=u[0],o[1]=u[1],o[2]=u[2],o[3]=u[3],o},Ps.copy=function(u,o){return u[0]=o[0],u[1]=o[1],u[2]=o[2],u[3]=o[3],u},Ps.identity=function(u){return u[0]=1,u[1]=0,u[2]=0,u[3]=1,u},Ps.fromValues=function(u,o,h,A){var _=new W0.ARRAY_TYPE(4);return _[0]=u,_[1]=o,_[2]=h,_[3]=A,_},Ps.set=function(u,o,h,A,_){return u[0]=o,u[1]=h,u[2]=A,u[3]=_,u},Ps.transpose=function(u,o){if(u===o){var h=o[1];u[1]=o[2],u[2]=h}else u[0]=o[0],u[1]=o[2],u[2]=o[1],u[3]=o[3];return u},Ps.invert=function(u,o){var h=o[0],A=o[1],_=o[2],b=o[3],E=h*b-_*A;return E?(u[0]=b*(E=1/E),u[1]=-A*E,u[2]=-_*E,u[3]=h*E,u):null},Ps.adjoint=function(u,o){var h=o[0];return u[0]=o[3],u[1]=-o[1],u[2]=-o[2],u[3]=h,u},Ps.determinant=function(u){return u[0]*u[3]-u[2]*u[1]},Ps.multiply=Y$,Ps.rotate=function(u,o,h){var A=o[0],_=o[1],b=o[2],E=o[3],I=Math.sin(h),F=Math.cos(h);return u[0]=A*F+b*I,u[1]=_*F+E*I,u[2]=A*-I+b*F,u[3]=_*-I+E*F,u},Ps.scale=function(u,o,h){var A=o[1],_=o[2],b=o[3],E=h[0],I=h[1];return u[0]=o[0]*E,u[1]=A*E,u[2]=_*I,u[3]=b*I,u},Ps.fromRotation=function(u,o){var h=Math.sin(o),A=Math.cos(o);return u[0]=A,u[1]=h,u[2]=-h,u[3]=A,u},Ps.fromScaling=function(u,o){return u[0]=o[0],u[1]=0,u[2]=0,u[3]=o[1],u},Ps.str=function(u){return"mat2("+u[0]+", "+u[1]+", "+u[2]+", "+u[3]+")"},Ps.frob=function(u){return Math.hypot(u[0],u[1],u[2],u[3])},Ps.LDU=function(u,o,h,A){return u[2]=A[2]/A[0],h[0]=A[0],h[1]=A[1],h[3]=A[3]-u[2]*h[1],[u,o,h]},Ps.add=function(u,o,h){return u[0]=o[0]+h[0],u[1]=o[1]+h[1],u[2]=o[2]+h[2],u[3]=o[3]+h[3],u},Ps.subtract=X$,Ps.exactEquals=function(u,o){return u[0]===o[0]&&u[1]===o[1]&&u[2]===o[2]&&u[3]===o[3]},Ps.equals=function(u,o){var h=u[0],A=u[1],_=u[2],b=u[3],E=o[0],I=o[1],F=o[2],O=o[3];return Math.abs(h-E)<=W0.EPSILON*Math.max(1,Math.abs(h),Math.abs(E))&&Math.abs(A-I)<=W0.EPSILON*Math.max(1,Math.abs(A),Math.abs(I))&&Math.abs(_-F)<=W0.EPSILON*Math.max(1,Math.abs(_),Math.abs(F))&&Math.abs(b-O)<=W0.EPSILON*Math.max(1,Math.abs(b),Math.abs(O))},Ps.multiplyScalar=function(u,o,h){return u[0]=o[0]*h,u[1]=o[1]*h,u[2]=o[2]*h,u[3]=o[3]*h,u},Ps.multiplyScalarAndAdd=function(u,o,h,A){return u[0]=o[0]+h[0]*A,u[1]=o[1]+h[1]*A,u[2]=o[2]+h[2]*A,u[3]=o[3]+h[3]*A,u},Ps.sub=Ps.mul=void 0;var W0=function(u,o){if(u&&u.__esModule)return u;if(u===null||LI(u)!=="object"&&typeof u!="function")return{default:u};var h=q$(void 0);if(h&&h.has(u))return h.get(u);var A={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in u)if(b!=="default"&&Object.prototype.hasOwnProperty.call(u,b)){var E=_?Object.getOwnPropertyDescriptor(u,b):null;E&&(E.get||E.set)?Object.defineProperty(A,b,E):A[b]=u[b]}return A.default=u,h&&h.set(u,A),A}(wl);function q$(u){if(typeof WeakMap!="function")return null;var o=new WeakMap,h=new WeakMap;return(q$=function(A){return A?h:o})(u)}function Y$(u,o,h){var A=o[0],_=o[1],b=o[2],E=o[3],I=h[0],F=h[1],O=h[2],U=h[3];return u[0]=A*I+b*F,u[1]=_*I+E*F,u[2]=A*O+b*U,u[3]=_*O+E*U,u}function X$(u,o,h){return u[0]=o[0]-h[0],u[1]=o[1]-h[1],u[2]=o[2]-h[2],u[3]=o[3]-h[3],u}Ps.mul=Y$,Ps.sub=X$;var Hs={};function kI(u){return kI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},kI(u)}Object.defineProperty(Hs,"__esModule",{value:!0}),Hs.create=function(){var u=new $A.ARRAY_TYPE(6);return $A.ARRAY_TYPE!=Float32Array&&(u[1]=0,u[2]=0,u[4]=0,u[5]=0),u[0]=1,u[3]=1,u},Hs.clone=function(u){var o=new $A.ARRAY_TYPE(6);return o[0]=u[0],o[1]=u[1],o[2]=u[2],o[3]=u[3],o[4]=u[4],o[5]=u[5],o},Hs.copy=function(u,o){return u[0]=o[0],u[1]=o[1],u[2]=o[2],u[3]=o[3],u[4]=o[4],u[5]=o[5],u},Hs.identity=function(u){return u[0]=1,u[1]=0,u[2]=0,u[3]=1,u[4]=0,u[5]=0,u},Hs.fromValues=function(u,o,h,A,_,b){var E=new $A.ARRAY_TYPE(6);return E[0]=u,E[1]=o,E[2]=h,E[3]=A,E[4]=_,E[5]=b,E},Hs.set=function(u,o,h,A,_,b,E){return u[0]=o,u[1]=h,u[2]=A,u[3]=_,u[4]=b,u[5]=E,u},Hs.invert=function(u,o){var h=o[0],A=o[1],_=o[2],b=o[3],E=o[4],I=o[5],F=h*b-A*_;return F?(u[0]=b*(F=1/F),u[1]=-A*F,u[2]=-_*F,u[3]=h*F,u[4]=(_*I-b*E)*F,u[5]=(A*E-h*I)*F,u):null},Hs.determinant=function(u){return u[0]*u[3]-u[1]*u[2]},Hs.multiply=J$,Hs.rotate=function(u,o,h){var A=o[0],_=o[1],b=o[2],E=o[3],I=o[4],F=o[5],O=Math.sin(h),U=Math.cos(h);return u[0]=A*U+b*O,u[1]=_*U+E*O,u[2]=A*-O+b*U,u[3]=_*-O+E*U,u[4]=I,u[5]=F,u},Hs.scale=function(u,o,h){var A=o[1],_=o[2],b=o[3],E=o[4],I=o[5],F=h[0],O=h[1];return u[0]=o[0]*F,u[1]=A*F,u[2]=_*O,u[3]=b*O,u[4]=E,u[5]=I,u},Hs.translate=function(u,o,h){var A=o[0],_=o[1],b=o[2],E=o[3],I=o[4],F=o[5],O=h[0],U=h[1];return u[0]=A,u[1]=_,u[2]=b,u[3]=E,u[4]=A*O+b*U+I,u[5]=_*O+E*U+F,u},Hs.fromRotation=function(u,o){var h=Math.sin(o),A=Math.cos(o);return u[0]=A,u[1]=h,u[2]=-h,u[3]=A,u[4]=0,u[5]=0,u},Hs.fromScaling=function(u,o){return u[0]=o[0],u[1]=0,u[2]=0,u[3]=o[1],u[4]=0,u[5]=0,u},Hs.fromTranslation=function(u,o){return u[0]=1,u[1]=0,u[2]=0,u[3]=1,u[4]=o[0],u[5]=o[1],u},Hs.str=function(u){return"mat2d("+u[0]+", "+u[1]+", "+u[2]+", "+u[3]+", "+u[4]+", "+u[5]+")"},Hs.frob=function(u){return Math.hypot(u[0],u[1],u[2],u[3],u[4],u[5],1)},Hs.add=function(u,o,h){return u[0]=o[0]+h[0],u[1]=o[1]+h[1],u[2]=o[2]+h[2],u[3]=o[3]+h[3],u[4]=o[4]+h[4],u[5]=o[5]+h[5],u},Hs.subtract=eV,Hs.multiplyScalar=function(u,o,h){return u[0]=o[0]*h,u[1]=o[1]*h,u[2]=o[2]*h,u[3]=o[3]*h,u[4]=o[4]*h,u[5]=o[5]*h,u},Hs.multiplyScalarAndAdd=function(u,o,h,A){return u[0]=o[0]+h[0]*A,u[1]=o[1]+h[1]*A,u[2]=o[2]+h[2]*A,u[3]=o[3]+h[3]*A,u[4]=o[4]+h[4]*A,u[5]=o[5]+h[5]*A,u},Hs.exactEquals=function(u,o){return u[0]===o[0]&&u[1]===o[1]&&u[2]===o[2]&&u[3]===o[3]&&u[4]===o[4]&&u[5]===o[5]},Hs.equals=function(u,o){var h=u[0],A=u[1],_=u[2],b=u[3],E=u[4],I=u[5],F=o[0],O=o[1],U=o[2],K=o[3],Z=o[4],fe=o[5];return Math.abs(h-F)<=$A.EPSILON*Math.max(1,Math.abs(h),Math.abs(F))&&Math.abs(A-O)<=$A.EPSILON*Math.max(1,Math.abs(A),Math.abs(O))&&Math.abs(_-U)<=$A.EPSILON*Math.max(1,Math.abs(_),Math.abs(U))&&Math.abs(b-K)<=$A.EPSILON*Math.max(1,Math.abs(b),Math.abs(K))&&Math.abs(E-Z)<=$A.EPSILON*Math.max(1,Math.abs(E),Math.abs(Z))&&Math.abs(I-fe)<=$A.EPSILON*Math.max(1,Math.abs(I),Math.abs(fe))},Hs.sub=Hs.mul=void 0;var $A=function(u,o){if(u&&u.__esModule)return u;if(u===null||kI(u)!=="object"&&typeof u!="function")return{default:u};var h=Z$(void 0);if(h&&h.has(u))return h.get(u);var A={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in u)if(b!=="default"&&Object.prototype.hasOwnProperty.call(u,b)){var E=_?Object.getOwnPropertyDescriptor(u,b):null;E&&(E.get||E.set)?Object.defineProperty(A,b,E):A[b]=u[b]}return A.default=u,h&&h.set(u,A),A}(wl);function Z$(u){if(typeof WeakMap!="function")return null;var o=new WeakMap,h=new WeakMap;return(Z$=function(A){return A?h:o})(u)}function J$(u,o,h){var A=o[0],_=o[1],b=o[2],E=o[3],I=o[4],F=o[5],O=h[0],U=h[1],K=h[2],Z=h[3],fe=h[4],ge=h[5];return u[0]=A*O+b*U,u[1]=_*O+E*U,u[2]=A*K+b*Z,u[3]=_*K+E*Z,u[4]=A*fe+b*ge+I,u[5]=_*fe+E*ge+F,u}function eV(u,o,h){return u[0]=o[0]-h[0],u[1]=o[1]-h[1],u[2]=o[2]-h[2],u[3]=o[3]-h[3],u[4]=o[4]-h[4],u[5]=o[5]-h[5],u}Hs.mul=J$,Hs.sub=eV;var Xa={};function PI(u){return PI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},PI(u)}Object.defineProperty(Xa,"__esModule",{value:!0}),Xa.create=function(){var u=new Td.ARRAY_TYPE(9);return Td.ARRAY_TYPE!=Float32Array&&(u[1]=0,u[2]=0,u[3]=0,u[5]=0,u[6]=0,u[7]=0),u[0]=1,u[4]=1,u[8]=1,u},Xa.fromMat4=function(u,o){return u[0]=o[0],u[1]=o[1],u[2]=o[2],u[3]=o[4],u[4]=o[5],u[5]=o[6],u[6]=o[8],u[7]=o[9],u[8]=o[10],u},Xa.clone=function(u){var o=new Td.ARRAY_TYPE(9);return o[0]=u[0],o[1]=u[1],o[2]=u[2],o[3]=u[3],o[4]=u[4],o[5]=u[5],o[6]=u[6],o[7]=u[7],o[8]=u[8],o},Xa.copy=function(u,o){return u[0]=o[0],u[1]=o[1],u[2]=o[2],u[3]=o[3],u[4]=o[4],u[5]=o[5],u[6]=o[6],u[7]=o[7],u[8]=o[8],u},Xa.fromValues=function(u,o,h,A,_,b,E,I,F){var O=new Td.ARRAY_TYPE(9);return O[0]=u,O[1]=o,O[2]=h,O[3]=A,O[4]=_,O[5]=b,O[6]=E,O[7]=I,O[8]=F,O},Xa.set=function(u,o,h,A,_,b,E,I,F,O){return u[0]=o,u[1]=h,u[2]=A,u[3]=_,u[4]=b,u[5]=E,u[6]=I,u[7]=F,u[8]=O,u},Xa.identity=function(u){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=1,u[5]=0,u[6]=0,u[7]=0,u[8]=1,u},Xa.transpose=function(u,o){if(u===o){var h=o[1],A=o[2],_=o[5];u[1]=o[3],u[2]=o[6],u[3]=h,u[5]=o[7],u[6]=A,u[7]=_}else u[0]=o[0],u[1]=o[3],u[2]=o[6],u[3]=o[1],u[4]=o[4],u[5]=o[7],u[6]=o[2],u[7]=o[5],u[8]=o[8];return u},Xa.invert=function(u,o){var h=o[0],A=o[1],_=o[2],b=o[3],E=o[4],I=o[5],F=o[6],O=o[7],U=o[8],K=U*E-I*O,Z=-U*b+I*F,fe=O*b-E*F,ge=h*K+A*Z+_*fe;return ge?(u[0]=K*(ge=1/ge),u[1]=(-U*A+_*O)*ge,u[2]=(I*A-_*E)*ge,u[3]=Z*ge,u[4]=(U*h-_*F)*ge,u[5]=(-I*h+_*b)*ge,u[6]=fe*ge,u[7]=(-O*h+A*F)*ge,u[8]=(E*h-A*b)*ge,u):null},Xa.adjoint=function(u,o){var h=o[0],A=o[1],_=o[2],b=o[3],E=o[4],I=o[5],F=o[6],O=o[7],U=o[8];return u[0]=E*U-I*O,u[1]=_*O-A*U,u[2]=A*I-_*E,u[3]=I*F-b*U,u[4]=h*U-_*F,u[5]=_*b-h*I,u[6]=b*O-E*F,u[7]=A*F-h*O,u[8]=h*E-A*b,u},Xa.determinant=function(u){var o=u[3],h=u[4],A=u[5],_=u[6],b=u[7],E=u[8];return u[0]*(E*h-A*b)+u[1]*(-E*o+A*_)+u[2]*(b*o-h*_)},Xa.multiply=nV,Xa.translate=function(u,o,h){var A=o[0],_=o[1],b=o[2],E=o[3],I=o[4],F=o[5],O=o[6],U=o[7],K=o[8],Z=h[0],fe=h[1];return u[0]=A,u[1]=_,u[2]=b,u[3]=E,u[4]=I,u[5]=F,u[6]=Z*A+fe*E+O,u[7]=Z*_+fe*I+U,u[8]=Z*b+fe*F+K,u},Xa.rotate=function(u,o,h){var A=o[0],_=o[1],b=o[2],E=o[3],I=o[4],F=o[5],O=o[6],U=o[7],K=o[8],Z=Math.sin(h),fe=Math.cos(h);return u[0]=fe*A+Z*E,u[1]=fe*_+Z*I,u[2]=fe*b+Z*F,u[3]=fe*E-Z*A,u[4]=fe*I-Z*_,u[5]=fe*F-Z*b,u[6]=O,u[7]=U,u[8]=K,u},Xa.scale=function(u,o,h){var A=h[0],_=h[1];return u[0]=A*o[0],u[1]=A*o[1],u[2]=A*o[2],u[3]=_*o[3],u[4]=_*o[4],u[5]=_*o[5],u[6]=o[6],u[7]=o[7],u[8]=o[8],u},Xa.fromTranslation=function(u,o){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=1,u[5]=0,u[6]=o[0],u[7]=o[1],u[8]=1,u},Xa.fromRotation=function(u,o){var h=Math.sin(o),A=Math.cos(o);return u[0]=A,u[1]=h,u[2]=0,u[3]=-h,u[4]=A,u[5]=0,u[6]=0,u[7]=0,u[8]=1,u},Xa.fromScaling=function(u,o){return u[0]=o[0],u[1]=0,u[2]=0,u[3]=0,u[4]=o[1],u[5]=0,u[6]=0,u[7]=0,u[8]=1,u},Xa.fromMat2d=function(u,o){return u[0]=o[0],u[1]=o[1],u[2]=0,u[3]=o[2],u[4]=o[3],u[5]=0,u[6]=o[4],u[7]=o[5],u[8]=1,u},Xa.fromQuat=function(u,o){var h=o[0],A=o[1],_=o[2],b=o[3],E=h+h,I=A+A,F=_+_,O=h*E,U=A*E,K=A*I,Z=_*E,fe=_*I,ge=_*F,xe=b*E,Ie=b*I,Oe=b*F;return u[0]=1-K-ge,u[3]=U-Oe,u[6]=Z+Ie,u[1]=U+Oe,u[4]=1-O-ge,u[7]=fe-xe,u[2]=Z-Ie,u[5]=fe+xe,u[8]=1-O-K,u},Xa.normalFromMat4=function(u,o){var h=o[0],A=o[1],_=o[2],b=o[3],E=o[4],I=o[5],F=o[6],O=o[7],U=o[8],K=o[9],Z=o[10],fe=o[11],ge=o[12],xe=o[13],Ie=o[14],Oe=o[15],rt=h*I-A*E,lt=h*F-_*E,ot=h*O-b*E,Tt=A*F-_*I,yt=A*O-b*I,Dt=_*O-b*F,Gt=U*xe-K*ge,Xt=U*Ie-Z*ge,pn=U*Oe-fe*ge,en=K*Ie-Z*xe,Sn=K*Oe-fe*xe,Dn=Z*Oe-fe*Ie,yn=rt*Dn-lt*Sn+ot*en+Tt*pn-yt*Xt+Dt*Gt;return yn?(u[0]=(I*Dn-F*Sn+O*en)*(yn=1/yn),u[1]=(F*pn-E*Dn-O*Xt)*yn,u[2]=(E*Sn-I*pn+O*Gt)*yn,u[3]=(_*Sn-A*Dn-b*en)*yn,u[4]=(h*Dn-_*pn+b*Xt)*yn,u[5]=(A*pn-h*Sn-b*Gt)*yn,u[6]=(xe*Dt-Ie*yt+Oe*Tt)*yn,u[7]=(Ie*ot-ge*Dt-Oe*lt)*yn,u[8]=(ge*yt-xe*ot+Oe*rt)*yn,u):null},Xa.projection=function(u,o,h){return u[0]=2/o,u[1]=0,u[2]=0,u[3]=0,u[4]=-2/h,u[5]=0,u[6]=-1,u[7]=1,u[8]=1,u},Xa.str=function(u){return"mat3("+u[0]+", "+u[1]+", "+u[2]+", "+u[3]+", "+u[4]+", "+u[5]+", "+u[6]+", "+u[7]+", "+u[8]+")"},Xa.frob=function(u){return Math.hypot(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8])},Xa.add=function(u,o,h){return u[0]=o[0]+h[0],u[1]=o[1]+h[1],u[2]=o[2]+h[2],u[3]=o[3]+h[3],u[4]=o[4]+h[4],u[5]=o[5]+h[5],u[6]=o[6]+h[6],u[7]=o[7]+h[7],u[8]=o[8]+h[8],u},Xa.subtract=rV,Xa.multiplyScalar=function(u,o,h){return u[0]=o[0]*h,u[1]=o[1]*h,u[2]=o[2]*h,u[3]=o[3]*h,u[4]=o[4]*h,u[5]=o[5]*h,u[6]=o[6]*h,u[7]=o[7]*h,u[8]=o[8]*h,u},Xa.multiplyScalarAndAdd=function(u,o,h,A){return u[0]=o[0]+h[0]*A,u[1]=o[1]+h[1]*A,u[2]=o[2]+h[2]*A,u[3]=o[3]+h[3]*A,u[4]=o[4]+h[4]*A,u[5]=o[5]+h[5]*A,u[6]=o[6]+h[6]*A,u[7]=o[7]+h[7]*A,u[8]=o[8]+h[8]*A,u},Xa.exactEquals=function(u,o){return u[0]===o[0]&&u[1]===o[1]&&u[2]===o[2]&&u[3]===o[3]&&u[4]===o[4]&&u[5]===o[5]&&u[6]===o[6]&&u[7]===o[7]&&u[8]===o[8]},Xa.equals=function(u,o){var h=u[0],A=u[1],_=u[2],b=u[3],E=u[4],I=u[5],F=u[6],O=u[7],U=u[8],K=o[0],Z=o[1],fe=o[2],ge=o[3],xe=o[4],Ie=o[5],Oe=o[6],rt=o[7],lt=o[8];return Math.abs(h-K)<=Td.EPSILON*Math.max(1,Math.abs(h),Math.abs(K))&&Math.abs(A-Z)<=Td.EPSILON*Math.max(1,Math.abs(A),Math.abs(Z))&&Math.abs(_-fe)<=Td.EPSILON*Math.max(1,Math.abs(_),Math.abs(fe))&&Math.abs(b-ge)<=Td.EPSILON*Math.max(1,Math.abs(b),Math.abs(ge))&&Math.abs(E-xe)<=Td.EPSILON*Math.max(1,Math.abs(E),Math.abs(xe))&&Math.abs(I-Ie)<=Td.EPSILON*Math.max(1,Math.abs(I),Math.abs(Ie))&&Math.abs(F-Oe)<=Td.EPSILON*Math.max(1,Math.abs(F),Math.abs(Oe))&&Math.abs(O-rt)<=Td.EPSILON*Math.max(1,Math.abs(O),Math.abs(rt))&&Math.abs(U-lt)<=Td.EPSILON*Math.max(1,Math.abs(U),Math.abs(lt))},Xa.sub=Xa.mul=void 0;var Td=function(u,o){if(u&&u.__esModule)return u;if(u===null||PI(u)!=="object"&&typeof u!="function")return{default:u};var h=tV(void 0);if(h&&h.has(u))return h.get(u);var A={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in u)if(b!=="default"&&Object.prototype.hasOwnProperty.call(u,b)){var E=_?Object.getOwnPropertyDescriptor(u,b):null;E&&(E.get||E.set)?Object.defineProperty(A,b,E):A[b]=u[b]}return A.default=u,h&&h.set(u,A),A}(wl);function tV(u){if(typeof WeakMap!="function")return null;var o=new WeakMap,h=new WeakMap;return(tV=function(A){return A?h:o})(u)}function nV(u,o,h){var A=o[0],_=o[1],b=o[2],E=o[3],I=o[4],F=o[5],O=o[6],U=o[7],K=o[8],Z=h[0],fe=h[1],ge=h[2],xe=h[3],Ie=h[4],Oe=h[5],rt=h[6],lt=h[7],ot=h[8];return u[0]=Z*A+fe*E+ge*O,u[1]=Z*_+fe*I+ge*U,u[2]=Z*b+fe*F+ge*K,u[3]=xe*A+Ie*E+Oe*O,u[4]=xe*_+Ie*I+Oe*U,u[5]=xe*b+Ie*F+Oe*K,u[6]=rt*A+lt*E+ot*O,u[7]=rt*_+lt*I+ot*U,u[8]=rt*b+lt*F+ot*K,u}function rV(u,o,h){return u[0]=o[0]-h[0],u[1]=o[1]-h[1],u[2]=o[2]-h[2],u[3]=o[3]-h[3],u[4]=o[4]-h[4],u[5]=o[5]-h[5],u[6]=o[6]-h[6],u[7]=o[7]-h[7],u[8]=o[8]-h[8],u}Xa.mul=nV,Xa.sub=rV;var Ui={};function FI(u){return FI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},FI(u)}Object.defineProperty(Ui,"__esModule",{value:!0}),Ui.create=function(){var u=new lo.ARRAY_TYPE(16);return lo.ARRAY_TYPE!=Float32Array&&(u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=0,u[12]=0,u[13]=0,u[14]=0),u[0]=1,u[5]=1,u[10]=1,u[15]=1,u},Ui.clone=function(u){var o=new lo.ARRAY_TYPE(16);return o[0]=u[0],o[1]=u[1],o[2]=u[2],o[3]=u[3],o[4]=u[4],o[5]=u[5],o[6]=u[6],o[7]=u[7],o[8]=u[8],o[9]=u[9],o[10]=u[10],o[11]=u[11],o[12]=u[12],o[13]=u[13],o[14]=u[14],o[15]=u[15],o},Ui.copy=function(u,o){return u[0]=o[0],u[1]=o[1],u[2]=o[2],u[3]=o[3],u[4]=o[4],u[5]=o[5],u[6]=o[6],u[7]=o[7],u[8]=o[8],u[9]=o[9],u[10]=o[10],u[11]=o[11],u[12]=o[12],u[13]=o[13],u[14]=o[14],u[15]=o[15],u},Ui.fromValues=function(u,o,h,A,_,b,E,I,F,O,U,K,Z,fe,ge,xe){var Ie=new lo.ARRAY_TYPE(16);return Ie[0]=u,Ie[1]=o,Ie[2]=h,Ie[3]=A,Ie[4]=_,Ie[5]=b,Ie[6]=E,Ie[7]=I,Ie[8]=F,Ie[9]=O,Ie[10]=U,Ie[11]=K,Ie[12]=Z,Ie[13]=fe,Ie[14]=ge,Ie[15]=xe,Ie},Ui.set=function(u,o,h,A,_,b,E,I,F,O,U,K,Z,fe,ge,xe,Ie){return u[0]=o,u[1]=h,u[2]=A,u[3]=_,u[4]=b,u[5]=E,u[6]=I,u[7]=F,u[8]=O,u[9]=U,u[10]=K,u[11]=Z,u[12]=fe,u[13]=ge,u[14]=xe,u[15]=Ie,u},Ui.identity=aV,Ui.transpose=function(u,o){if(u===o){var h=o[1],A=o[2],_=o[3],b=o[6],E=o[7],I=o[11];u[1]=o[4],u[2]=o[8],u[3]=o[12],u[4]=h,u[6]=o[9],u[7]=o[13],u[8]=A,u[9]=b,u[11]=o[14],u[12]=_,u[13]=E,u[14]=I}else u[0]=o[0],u[1]=o[4],u[2]=o[8],u[3]=o[12],u[4]=o[1],u[5]=o[5],u[6]=o[9],u[7]=o[13],u[8]=o[2],u[9]=o[6],u[10]=o[10],u[11]=o[14],u[12]=o[3],u[13]=o[7],u[14]=o[11],u[15]=o[15];return u},Ui.invert=function(u,o){var h=o[0],A=o[1],_=o[2],b=o[3],E=o[4],I=o[5],F=o[6],O=o[7],U=o[8],K=o[9],Z=o[10],fe=o[11],ge=o[12],xe=o[13],Ie=o[14],Oe=o[15],rt=h*I-A*E,lt=h*F-_*E,ot=h*O-b*E,Tt=A*F-_*I,yt=A*O-b*I,Dt=_*O-b*F,Gt=U*xe-K*ge,Xt=U*Ie-Z*ge,pn=U*Oe-fe*ge,en=K*Ie-Z*xe,Sn=K*Oe-fe*xe,Dn=Z*Oe-fe*Ie,yn=rt*Dn-lt*Sn+ot*en+Tt*pn-yt*Xt+Dt*Gt;return yn?(u[0]=(I*Dn-F*Sn+O*en)*(yn=1/yn),u[1]=(_*Sn-A*Dn-b*en)*yn,u[2]=(xe*Dt-Ie*yt+Oe*Tt)*yn,u[3]=(Z*yt-K*Dt-fe*Tt)*yn,u[4]=(F*pn-E*Dn-O*Xt)*yn,u[5]=(h*Dn-_*pn+b*Xt)*yn,u[6]=(Ie*ot-ge*Dt-Oe*lt)*yn,u[7]=(U*Dt-Z*ot+fe*lt)*yn,u[8]=(E*Sn-I*pn+O*Gt)*yn,u[9]=(A*pn-h*Sn-b*Gt)*yn,u[10]=(ge*yt-xe*ot+Oe*rt)*yn,u[11]=(K*ot-U*yt-fe*rt)*yn,u[12]=(I*Xt-E*en-F*Gt)*yn,u[13]=(h*en-A*Xt+_*Gt)*yn,u[14]=(xe*lt-ge*Tt-Ie*rt)*yn,u[15]=(U*Tt-K*lt+Z*rt)*yn,u):null},Ui.adjoint=function(u,o){var h=o[0],A=o[1],_=o[2],b=o[3],E=o[4],I=o[5],F=o[6],O=o[7],U=o[8],K=o[9],Z=o[10],fe=o[11],ge=o[12],xe=o[13],Ie=o[14],Oe=o[15];return u[0]=I*(Z*Oe-fe*Ie)-K*(F*Oe-O*Ie)+xe*(F*fe-O*Z),u[1]=-(A*(Z*Oe-fe*Ie)-K*(_*Oe-b*Ie)+xe*(_*fe-b*Z)),u[2]=A*(F*Oe-O*Ie)-I*(_*Oe-b*Ie)+xe*(_*O-b*F),u[3]=-(A*(F*fe-O*Z)-I*(_*fe-b*Z)+K*(_*O-b*F)),u[4]=-(E*(Z*Oe-fe*Ie)-U*(F*Oe-O*Ie)+ge*(F*fe-O*Z)),u[5]=h*(Z*Oe-fe*Ie)-U*(_*Oe-b*Ie)+ge*(_*fe-b*Z),u[6]=-(h*(F*Oe-O*Ie)-E*(_*Oe-b*Ie)+ge*(_*O-b*F)),u[7]=h*(F*fe-O*Z)-E*(_*fe-b*Z)+U*(_*O-b*F),u[8]=E*(K*Oe-fe*xe)-U*(I*Oe-O*xe)+ge*(I*fe-O*K),u[9]=-(h*(K*Oe-fe*xe)-U*(A*Oe-b*xe)+ge*(A*fe-b*K)),u[10]=h*(I*Oe-O*xe)-E*(A*Oe-b*xe)+ge*(A*O-b*I),u[11]=-(h*(I*fe-O*K)-E*(A*fe-b*K)+U*(A*O-b*I)),u[12]=-(E*(K*Ie-Z*xe)-U*(I*Ie-F*xe)+ge*(I*Z-F*K)),u[13]=h*(K*Ie-Z*xe)-U*(A*Ie-_*xe)+ge*(A*Z-_*K),u[14]=-(h*(I*Ie-F*xe)-E*(A*Ie-_*xe)+ge*(A*F-_*I)),u[15]=h*(I*Z-F*K)-E*(A*Z-_*K)+U*(A*F-_*I),u},Ui.determinant=function(u){var o=u[0],h=u[1],A=u[2],_=u[3],b=u[4],E=u[5],I=u[6],F=u[7],O=u[8],U=u[9],K=u[10],Z=u[11],fe=u[12],ge=u[13],xe=u[14],Ie=u[15];return(o*E-h*b)*(K*Ie-Z*xe)-(o*I-A*b)*(U*Ie-Z*ge)+(o*F-_*b)*(U*xe-K*ge)+(h*I-A*E)*(O*Ie-Z*fe)-(h*F-_*E)*(O*xe-K*fe)+(A*F-_*I)*(O*ge-U*fe)},Ui.multiply=sV,Ui.translate=function(u,o,h){var A,_,b,E,I,F,O,U,K,Z,fe,ge,xe=h[0],Ie=h[1],Oe=h[2];return o===u?(u[12]=o[0]*xe+o[4]*Ie+o[8]*Oe+o[12],u[13]=o[1]*xe+o[5]*Ie+o[9]*Oe+o[13],u[14]=o[2]*xe+o[6]*Ie+o[10]*Oe+o[14],u[15]=o[3]*xe+o[7]*Ie+o[11]*Oe+o[15]):(_=o[1],b=o[2],E=o[3],I=o[4],F=o[5],O=o[6],U=o[7],K=o[8],Z=o[9],fe=o[10],ge=o[11],u[0]=A=o[0],u[1]=_,u[2]=b,u[3]=E,u[4]=I,u[5]=F,u[6]=O,u[7]=U,u[8]=K,u[9]=Z,u[10]=fe,u[11]=ge,u[12]=A*xe+I*Ie+K*Oe+o[12],u[13]=_*xe+F*Ie+Z*Oe+o[13],u[14]=b*xe+O*Ie+fe*Oe+o[14],u[15]=E*xe+U*Ie+ge*Oe+o[15]),u},Ui.scale=function(u,o,h){var A=h[0],_=h[1],b=h[2];return u[0]=o[0]*A,u[1]=o[1]*A,u[2]=o[2]*A,u[3]=o[3]*A,u[4]=o[4]*_,u[5]=o[5]*_,u[6]=o[6]*_,u[7]=o[7]*_,u[8]=o[8]*b,u[9]=o[9]*b,u[10]=o[10]*b,u[11]=o[11]*b,u[12]=o[12],u[13]=o[13],u[14]=o[14],u[15]=o[15],u},Ui.rotate=function(u,o,h,A){var _,b,E,I,F,O,U,K,Z,fe,ge,xe,Ie,Oe,rt,lt,ot,Tt,yt,Dt,Gt,Xt,pn,en,Sn=A[0],Dn=A[1],yn=A[2],On=Math.hypot(Sn,Dn,yn);return On<lo.EPSILON?null:(Sn*=On=1/On,Dn*=On,yn*=On,_=Math.sin(h),b=Math.cos(h),F=o[1],O=o[2],U=o[3],Z=o[5],fe=o[6],ge=o[7],Ie=o[9],Oe=o[10],rt=o[11],lt=Sn*Sn*(E=1-b)+b,yt=Sn*Dn*E-yn*_,Dt=Dn*Dn*E+b,Gt=yn*Dn*E+Sn*_,Xt=Sn*yn*E+Dn*_,pn=Dn*yn*E-Sn*_,en=yn*yn*E+b,u[0]=(I=o[0])*lt+(K=o[4])*(ot=Dn*Sn*E+yn*_)+(xe=o[8])*(Tt=yn*Sn*E-Dn*_),u[1]=F*lt+Z*ot+Ie*Tt,u[2]=O*lt+fe*ot+Oe*Tt,u[3]=U*lt+ge*ot+rt*Tt,u[4]=I*yt+K*Dt+xe*Gt,u[5]=F*yt+Z*Dt+Ie*Gt,u[6]=O*yt+fe*Dt+Oe*Gt,u[7]=U*yt+ge*Dt+rt*Gt,u[8]=I*Xt+K*pn+xe*en,u[9]=F*Xt+Z*pn+Ie*en,u[10]=O*Xt+fe*pn+Oe*en,u[11]=U*Xt+ge*pn+rt*en,o!==u&&(u[12]=o[12],u[13]=o[13],u[14]=o[14],u[15]=o[15]),u)},Ui.rotateX=function(u,o,h){var A=Math.sin(h),_=Math.cos(h),b=o[4],E=o[5],I=o[6],F=o[7],O=o[8],U=o[9],K=o[10],Z=o[11];return o!==u&&(u[0]=o[0],u[1]=o[1],u[2]=o[2],u[3]=o[3],u[12]=o[12],u[13]=o[13],u[14]=o[14],u[15]=o[15]),u[4]=b*_+O*A,u[5]=E*_+U*A,u[6]=I*_+K*A,u[7]=F*_+Z*A,u[8]=O*_-b*A,u[9]=U*_-E*A,u[10]=K*_-I*A,u[11]=Z*_-F*A,u},Ui.rotateY=function(u,o,h){var A=Math.sin(h),_=Math.cos(h),b=o[0],E=o[1],I=o[2],F=o[3],O=o[8],U=o[9],K=o[10],Z=o[11];return o!==u&&(u[4]=o[4],u[5]=o[5],u[6]=o[6],u[7]=o[7],u[12]=o[12],u[13]=o[13],u[14]=o[14],u[15]=o[15]),u[0]=b*_-O*A,u[1]=E*_-U*A,u[2]=I*_-K*A,u[3]=F*_-Z*A,u[8]=b*A+O*_,u[9]=E*A+U*_,u[10]=I*A+K*_,u[11]=F*A+Z*_,u},Ui.rotateZ=function(u,o,h){var A=Math.sin(h),_=Math.cos(h),b=o[0],E=o[1],I=o[2],F=o[3],O=o[4],U=o[5],K=o[6],Z=o[7];return o!==u&&(u[8]=o[8],u[9]=o[9],u[10]=o[10],u[11]=o[11],u[12]=o[12],u[13]=o[13],u[14]=o[14],u[15]=o[15]),u[0]=b*_+O*A,u[1]=E*_+U*A,u[2]=I*_+K*A,u[3]=F*_+Z*A,u[4]=O*_-b*A,u[5]=U*_-E*A,u[6]=K*_-I*A,u[7]=Z*_-F*A,u},Ui.fromTranslation=function(u,o){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=1,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=1,u[11]=0,u[12]=o[0],u[13]=o[1],u[14]=o[2],u[15]=1,u},Ui.fromScaling=function(u,o){return u[0]=o[0],u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=o[1],u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=o[2],u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u},Ui.fromRotation=function(u,o,h){var A,_,b,E=h[0],I=h[1],F=h[2],O=Math.hypot(E,I,F);return O<lo.EPSILON?null:(E*=O=1/O,I*=O,F*=O,A=Math.sin(o),_=Math.cos(o),u[0]=E*E*(b=1-_)+_,u[1]=I*E*b+F*A,u[2]=F*E*b-I*A,u[3]=0,u[4]=E*I*b-F*A,u[5]=I*I*b+_,u[6]=F*I*b+E*A,u[7]=0,u[8]=E*F*b+I*A,u[9]=I*F*b-E*A,u[10]=F*F*b+_,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u)},Ui.fromXRotation=function(u,o){var h=Math.sin(o),A=Math.cos(o);return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=A,u[6]=h,u[7]=0,u[8]=0,u[9]=-h,u[10]=A,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u},Ui.fromYRotation=function(u,o){var h=Math.sin(o),A=Math.cos(o);return u[0]=A,u[1]=0,u[2]=-h,u[3]=0,u[4]=0,u[5]=1,u[6]=0,u[7]=0,u[8]=h,u[9]=0,u[10]=A,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u},Ui.fromZRotation=function(u,o){var h=Math.sin(o),A=Math.cos(o);return u[0]=A,u[1]=h,u[2]=0,u[3]=0,u[4]=-h,u[5]=A,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=1,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u},Ui.fromRotationTranslation=oV,Ui.fromQuat2=function(u,o){var h=new lo.ARRAY_TYPE(3),A=-o[0],_=-o[1],b=-o[2],E=o[3],I=o[4],F=o[5],O=o[6],U=o[7],K=A*A+_*_+b*b+E*E;return K>0?(h[0]=2*(I*E+U*A+F*b-O*_)/K,h[1]=2*(F*E+U*_+O*A-I*b)/K,h[2]=2*(O*E+U*b+I*_-F*A)/K):(h[0]=2*(I*E+U*A+F*b-O*_),h[1]=2*(F*E+U*_+O*A-I*b),h[2]=2*(O*E+U*b+I*_-F*A)),oV(u,o,h),u},Ui.getTranslation=function(u,o){return u[0]=o[12],u[1]=o[13],u[2]=o[14],u},Ui.getScaling=lV,Ui.getRotation=function(u,o){var h=new lo.ARRAY_TYPE(3);lV(h,o);var A=1/h[0],_=1/h[1],b=1/h[2],E=o[0]*A,I=o[1]*_,F=o[2]*b,O=o[4]*A,U=o[5]*_,K=o[6]*b,Z=o[8]*A,fe=o[9]*_,ge=o[10]*b,xe=E+U+ge,Ie=0;return xe>0?(Ie=2*Math.sqrt(xe+1),u[3]=.25*Ie,u[0]=(K-fe)/Ie,u[1]=(Z-F)/Ie,u[2]=(I-O)/Ie):E>U&&E>ge?(Ie=2*Math.sqrt(1+E-U-ge),u[3]=(K-fe)/Ie,u[0]=.25*Ie,u[1]=(I+O)/Ie,u[2]=(Z+F)/Ie):U>ge?(Ie=2*Math.sqrt(1+U-E-ge),u[3]=(Z-F)/Ie,u[0]=(I+O)/Ie,u[1]=.25*Ie,u[2]=(K+fe)/Ie):(Ie=2*Math.sqrt(1+ge-E-U),u[3]=(I-O)/Ie,u[0]=(Z+F)/Ie,u[1]=(K+fe)/Ie,u[2]=.25*Ie),u},Ui.fromRotationTranslationScale=function(u,o,h,A){var _=o[0],b=o[1],E=o[2],I=o[3],F=_+_,O=b+b,U=E+E,K=_*F,Z=_*O,fe=_*U,ge=b*O,xe=b*U,Ie=E*U,Oe=I*F,rt=I*O,lt=I*U,ot=A[0],Tt=A[1],yt=A[2];return u[0]=(1-(ge+Ie))*ot,u[1]=(Z+lt)*ot,u[2]=(fe-rt)*ot,u[3]=0,u[4]=(Z-lt)*Tt,u[5]=(1-(K+Ie))*Tt,u[6]=(xe+Oe)*Tt,u[7]=0,u[8]=(fe+rt)*yt,u[9]=(xe-Oe)*yt,u[10]=(1-(K+ge))*yt,u[11]=0,u[12]=h[0],u[13]=h[1],u[14]=h[2],u[15]=1,u},Ui.fromRotationTranslationScaleOrigin=function(u,o,h,A,_){var b=o[0],E=o[1],I=o[2],F=o[3],O=b+b,U=E+E,K=I+I,Z=b*O,fe=b*U,ge=b*K,xe=E*U,Ie=E*K,Oe=I*K,rt=F*O,lt=F*U,ot=F*K,Tt=A[0],yt=A[1],Dt=A[2],Gt=_[0],Xt=_[1],pn=_[2],en=(1-(xe+Oe))*Tt,Sn=(fe+ot)*Tt,Dn=(ge-lt)*Tt,yn=(fe-ot)*yt,On=(1-(Z+Oe))*yt,gn=(Ie+rt)*yt,Rn=(ge+lt)*Dt,cr=(Ie-rt)*Dt,Un=(1-(Z+xe))*Dt;return u[0]=en,u[1]=Sn,u[2]=Dn,u[3]=0,u[4]=yn,u[5]=On,u[6]=gn,u[7]=0,u[8]=Rn,u[9]=cr,u[10]=Un,u[11]=0,u[12]=h[0]+Gt-(en*Gt+yn*Xt+Rn*pn),u[13]=h[1]+Xt-(Sn*Gt+On*Xt+cr*pn),u[14]=h[2]+pn-(Dn*Gt+gn*Xt+Un*pn),u[15]=1,u},Ui.fromQuat=function(u,o){var h=o[0],A=o[1],_=o[2],b=o[3],E=h+h,I=A+A,F=_+_,O=h*E,U=A*E,K=A*I,Z=_*E,fe=_*I,ge=_*F,xe=b*E,Ie=b*I,Oe=b*F;return u[0]=1-K-ge,u[1]=U+Oe,u[2]=Z-Ie,u[3]=0,u[4]=U-Oe,u[5]=1-O-ge,u[6]=fe+xe,u[7]=0,u[8]=Z+Ie,u[9]=fe-xe,u[10]=1-O-K,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u},Ui.frustum=function(u,o,h,A,_,b,E){var I=1/(h-o),F=1/(_-A),O=1/(b-E);return u[0]=2*b*I,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=2*b*F,u[6]=0,u[7]=0,u[8]=(h+o)*I,u[9]=(_+A)*F,u[10]=(E+b)*O,u[11]=-1,u[12]=0,u[13]=0,u[14]=E*b*2*O,u[15]=0,u},Ui.perspectiveNO=uV,Ui.perspectiveZO=function(u,o,h,A,_){var b,E=1/Math.tan(o/2);return u[0]=E/h,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=E,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=-1,u[12]=0,u[13]=0,u[15]=0,_!=null&&_!==1/0?(u[10]=_*(b=1/(A-_)),u[14]=_*A*b):(u[10]=-1,u[14]=-A),u},Ui.perspectiveFromFieldOfView=function(u,o,h,A){var _=Math.tan(o.upDegrees*Math.PI/180),b=Math.tan(o.downDegrees*Math.PI/180),E=Math.tan(o.leftDegrees*Math.PI/180),I=Math.tan(o.rightDegrees*Math.PI/180),F=2/(E+I),O=2/(_+b);return u[0]=F,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=O,u[6]=0,u[7]=0,u[8]=-(E-I)*F*.5,u[9]=(_-b)*O*.5,u[10]=A/(h-A),u[11]=-1,u[12]=0,u[13]=0,u[14]=A*h/(h-A),u[15]=0,u},Ui.orthoNO=cV,Ui.orthoZO=function(u,o,h,A,_,b,E){var I=1/(o-h),F=1/(A-_),O=1/(b-E);return u[0]=-2*I,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=-2*F,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=O,u[11]=0,u[12]=(o+h)*I,u[13]=(_+A)*F,u[14]=b*O,u[15]=1,u},Ui.lookAt=function(u,o,h,A){var _,b,E,I,F,O,U,K,Z,fe,ge=o[0],xe=o[1],Ie=o[2],Oe=A[0],rt=A[1],lt=A[2],ot=h[0],Tt=h[1],yt=h[2];return Math.abs(ge-ot)<lo.EPSILON&&Math.abs(xe-Tt)<lo.EPSILON&&Math.abs(Ie-yt)<lo.EPSILON?aV(u):(U=ge-ot,K=xe-Tt,Z=Ie-yt,_=rt*(Z*=fe=1/Math.hypot(U,K,Z))-lt*(K*=fe),b=lt*(U*=fe)-Oe*Z,E=Oe*K-rt*U,(fe=Math.hypot(_,b,E))?(_*=fe=1/fe,b*=fe,E*=fe):(_=0,b=0,E=0),I=K*E-Z*b,F=Z*_-U*E,O=U*b-K*_,(fe=Math.hypot(I,F,O))?(I*=fe=1/fe,F*=fe,O*=fe):(I=0,F=0,O=0),u[0]=_,u[1]=I,u[2]=U,u[3]=0,u[4]=b,u[5]=F,u[6]=K,u[7]=0,u[8]=E,u[9]=O,u[10]=Z,u[11]=0,u[12]=-(_*ge+b*xe+E*Ie),u[13]=-(I*ge+F*xe+O*Ie),u[14]=-(U*ge+K*xe+Z*Ie),u[15]=1,u)},Ui.targetTo=function(u,o,h,A){var _=o[0],b=o[1],E=o[2],I=A[0],F=A[1],O=A[2],U=_-h[0],K=b-h[1],Z=E-h[2],fe=U*U+K*K+Z*Z;fe>0&&(U*=fe=1/Math.sqrt(fe),K*=fe,Z*=fe);var ge=F*Z-O*K,xe=O*U-I*Z,Ie=I*K-F*U;return(fe=ge*ge+xe*xe+Ie*Ie)>0&&(ge*=fe=1/Math.sqrt(fe),xe*=fe,Ie*=fe),u[0]=ge,u[1]=xe,u[2]=Ie,u[3]=0,u[4]=K*Ie-Z*xe,u[5]=Z*ge-U*Ie,u[6]=U*xe-K*ge,u[7]=0,u[8]=U,u[9]=K,u[10]=Z,u[11]=0,u[12]=_,u[13]=b,u[14]=E,u[15]=1,u},Ui.str=function(u){return"mat4("+u[0]+", "+u[1]+", "+u[2]+", "+u[3]+", "+u[4]+", "+u[5]+", "+u[6]+", "+u[7]+", "+u[8]+", "+u[9]+", "+u[10]+", "+u[11]+", "+u[12]+", "+u[13]+", "+u[14]+", "+u[15]+")"},Ui.frob=function(u){return Math.hypot(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15])},Ui.add=function(u,o,h){return u[0]=o[0]+h[0],u[1]=o[1]+h[1],u[2]=o[2]+h[2],u[3]=o[3]+h[3],u[4]=o[4]+h[4],u[5]=o[5]+h[5],u[6]=o[6]+h[6],u[7]=o[7]+h[7],u[8]=o[8]+h[8],u[9]=o[9]+h[9],u[10]=o[10]+h[10],u[11]=o[11]+h[11],u[12]=o[12]+h[12],u[13]=o[13]+h[13],u[14]=o[14]+h[14],u[15]=o[15]+h[15],u},Ui.subtract=hV,Ui.multiplyScalar=function(u,o,h){return u[0]=o[0]*h,u[1]=o[1]*h,u[2]=o[2]*h,u[3]=o[3]*h,u[4]=o[4]*h,u[5]=o[5]*h,u[6]=o[6]*h,u[7]=o[7]*h,u[8]=o[8]*h,u[9]=o[9]*h,u[10]=o[10]*h,u[11]=o[11]*h,u[12]=o[12]*h,u[13]=o[13]*h,u[14]=o[14]*h,u[15]=o[15]*h,u},Ui.multiplyScalarAndAdd=function(u,o,h,A){return u[0]=o[0]+h[0]*A,u[1]=o[1]+h[1]*A,u[2]=o[2]+h[2]*A,u[3]=o[3]+h[3]*A,u[4]=o[4]+h[4]*A,u[5]=o[5]+h[5]*A,u[6]=o[6]+h[6]*A,u[7]=o[7]+h[7]*A,u[8]=o[8]+h[8]*A,u[9]=o[9]+h[9]*A,u[10]=o[10]+h[10]*A,u[11]=o[11]+h[11]*A,u[12]=o[12]+h[12]*A,u[13]=o[13]+h[13]*A,u[14]=o[14]+h[14]*A,u[15]=o[15]+h[15]*A,u},Ui.exactEquals=function(u,o){return u[0]===o[0]&&u[1]===o[1]&&u[2]===o[2]&&u[3]===o[3]&&u[4]===o[4]&&u[5]===o[5]&&u[6]===o[6]&&u[7]===o[7]&&u[8]===o[8]&&u[9]===o[9]&&u[10]===o[10]&&u[11]===o[11]&&u[12]===o[12]&&u[13]===o[13]&&u[14]===o[14]&&u[15]===o[15]},Ui.equals=function(u,o){var h=u[0],A=u[1],_=u[2],b=u[3],E=u[4],I=u[5],F=u[6],O=u[7],U=u[8],K=u[9],Z=u[10],fe=u[11],ge=u[12],xe=u[13],Ie=u[14],Oe=u[15],rt=o[0],lt=o[1],ot=o[2],Tt=o[3],yt=o[4],Dt=o[5],Gt=o[6],Xt=o[7],pn=o[8],en=o[9],Sn=o[10],Dn=o[11],yn=o[12],On=o[13],gn=o[14],Rn=o[15];return Math.abs(h-rt)<=lo.EPSILON*Math.max(1,Math.abs(h),Math.abs(rt))&&Math.abs(A-lt)<=lo.EPSILON*Math.max(1,Math.abs(A),Math.abs(lt))&&Math.abs(_-ot)<=lo.EPSILON*Math.max(1,Math.abs(_),Math.abs(ot))&&Math.abs(b-Tt)<=lo.EPSILON*Math.max(1,Math.abs(b),Math.abs(Tt))&&Math.abs(E-yt)<=lo.EPSILON*Math.max(1,Math.abs(E),Math.abs(yt))&&Math.abs(I-Dt)<=lo.EPSILON*Math.max(1,Math.abs(I),Math.abs(Dt))&&Math.abs(F-Gt)<=lo.EPSILON*Math.max(1,Math.abs(F),Math.abs(Gt))&&Math.abs(O-Xt)<=lo.EPSILON*Math.max(1,Math.abs(O),Math.abs(Xt))&&Math.abs(U-pn)<=lo.EPSILON*Math.max(1,Math.abs(U),Math.abs(pn))&&Math.abs(K-en)<=lo.EPSILON*Math.max(1,Math.abs(K),Math.abs(en))&&Math.abs(Z-Sn)<=lo.EPSILON*Math.max(1,Math.abs(Z),Math.abs(Sn))&&Math.abs(fe-Dn)<=lo.EPSILON*Math.max(1,Math.abs(fe),Math.abs(Dn))&&Math.abs(ge-yn)<=lo.EPSILON*Math.max(1,Math.abs(ge),Math.abs(yn))&&Math.abs(xe-On)<=lo.EPSILON*Math.max(1,Math.abs(xe),Math.abs(On))&&Math.abs(Ie-gn)<=lo.EPSILON*Math.max(1,Math.abs(Ie),Math.abs(gn))&&Math.abs(Oe-Rn)<=lo.EPSILON*Math.max(1,Math.abs(Oe),Math.abs(Rn))},Ui.sub=Ui.mul=Ui.ortho=Ui.perspective=void 0;var lo=function(u,o){if(u&&u.__esModule)return u;if(u===null||FI(u)!=="object"&&typeof u!="function")return{default:u};var h=iV(void 0);if(h&&h.has(u))return h.get(u);var A={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in u)if(b!=="default"&&Object.prototype.hasOwnProperty.call(u,b)){var E=_?Object.getOwnPropertyDescriptor(u,b):null;E&&(E.get||E.set)?Object.defineProperty(A,b,E):A[b]=u[b]}return A.default=u,h&&h.set(u,A),A}(wl);function iV(u){if(typeof WeakMap!="function")return null;var o=new WeakMap,h=new WeakMap;return(iV=function(A){return A?h:o})(u)}function aV(u){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=1,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=1,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u}function sV(u,o,h){var A=o[0],_=o[1],b=o[2],E=o[3],I=o[4],F=o[5],O=o[6],U=o[7],K=o[8],Z=o[9],fe=o[10],ge=o[11],xe=o[12],Ie=o[13],Oe=o[14],rt=o[15],lt=h[0],ot=h[1],Tt=h[2],yt=h[3];return u[0]=lt*A+ot*I+Tt*K+yt*xe,u[1]=lt*_+ot*F+Tt*Z+yt*Ie,u[2]=lt*b+ot*O+Tt*fe+yt*Oe,u[3]=lt*E+ot*U+Tt*ge+yt*rt,u[4]=(lt=h[4])*A+(ot=h[5])*I+(Tt=h[6])*K+(yt=h[7])*xe,u[5]=lt*_+ot*F+Tt*Z+yt*Ie,u[6]=lt*b+ot*O+Tt*fe+yt*Oe,u[7]=lt*E+ot*U+Tt*ge+yt*rt,u[8]=(lt=h[8])*A+(ot=h[9])*I+(Tt=h[10])*K+(yt=h[11])*xe,u[9]=lt*_+ot*F+Tt*Z+yt*Ie,u[10]=lt*b+ot*O+Tt*fe+yt*Oe,u[11]=lt*E+ot*U+Tt*ge+yt*rt,u[12]=(lt=h[12])*A+(ot=h[13])*I+(Tt=h[14])*K+(yt=h[15])*xe,u[13]=lt*_+ot*F+Tt*Z+yt*Ie,u[14]=lt*b+ot*O+Tt*fe+yt*Oe,u[15]=lt*E+ot*U+Tt*ge+yt*rt,u}function oV(u,o,h){var A=o[0],_=o[1],b=o[2],E=o[3],I=A+A,F=_+_,O=b+b,U=A*I,K=A*F,Z=A*O,fe=_*F,ge=_*O,xe=b*O,Ie=E*I,Oe=E*F,rt=E*O;return u[0]=1-(fe+xe),u[1]=K+rt,u[2]=Z-Oe,u[3]=0,u[4]=K-rt,u[5]=1-(U+xe),u[6]=ge+Ie,u[7]=0,u[8]=Z+Oe,u[9]=ge-Ie,u[10]=1-(U+fe),u[11]=0,u[12]=h[0],u[13]=h[1],u[14]=h[2],u[15]=1,u}function lV(u,o){var h=o[4],A=o[5],_=o[6],b=o[8],E=o[9],I=o[10];return u[0]=Math.hypot(o[0],o[1],o[2]),u[1]=Math.hypot(h,A,_),u[2]=Math.hypot(b,E,I),u}function uV(u,o,h,A,_){var b,E=1/Math.tan(o/2);return u[0]=E/h,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=E,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=-1,u[12]=0,u[13]=0,u[15]=0,_!=null&&_!==1/0?(u[10]=(_+A)*(b=1/(A-_)),u[14]=2*_*A*b):(u[10]=-1,u[14]=-2*A),u}function cV(u,o,h,A,_,b,E){var I=1/(o-h),F=1/(A-_),O=1/(b-E);return u[0]=-2*I,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=-2*F,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=2*O,u[11]=0,u[12]=(o+h)*I,u[13]=(_+A)*F,u[14]=(E+b)*O,u[15]=1,u}function hV(u,o,h){return u[0]=o[0]-h[0],u[1]=o[1]-h[1],u[2]=o[2]-h[2],u[3]=o[3]-h[3],u[4]=o[4]-h[4],u[5]=o[5]-h[5],u[6]=o[6]-h[6],u[7]=o[7]-h[7],u[8]=o[8]-h[8],u[9]=o[9]-h[9],u[10]=o[10]-h[10],u[11]=o[11]-h[11],u[12]=o[12]-h[12],u[13]=o[13]-h[13],u[14]=o[14]-h[14],u[15]=o[15]-h[15],u}Ui.perspective=uV,Ui.ortho=cV,Ui.mul=sV,Ui.sub=hV;var Ti={},Oi={};function RI(u){return RI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},RI(u)}Object.defineProperty(Oi,"__esModule",{value:!0}),Oi.create=fV,Oi.clone=function(u){var o=new xg.ARRAY_TYPE(3);return o[0]=u[0],o[1]=u[1],o[2]=u[2],o},Oi.length=pV,Oi.fromValues=function(u,o,h){var A=new xg.ARRAY_TYPE(3);return A[0]=u,A[1]=o,A[2]=h,A},Oi.copy=function(u,o){return u[0]=o[0],u[1]=o[1],u[2]=o[2],u},Oi.set=function(u,o,h,A){return u[0]=o,u[1]=h,u[2]=A,u},Oi.add=function(u,o,h){return u[0]=o[0]+h[0],u[1]=o[1]+h[1],u[2]=o[2]+h[2],u},Oi.subtract=AV,Oi.multiply=mV,Oi.divide=gV,Oi.ceil=function(u,o){return u[0]=Math.ceil(o[0]),u[1]=Math.ceil(o[1]),u[2]=Math.ceil(o[2]),u},Oi.floor=function(u,o){return u[0]=Math.floor(o[0]),u[1]=Math.floor(o[1]),u[2]=Math.floor(o[2]),u},Oi.min=function(u,o,h){return u[0]=Math.min(o[0],h[0]),u[1]=Math.min(o[1],h[1]),u[2]=Math.min(o[2],h[2]),u},Oi.max=function(u,o,h){return u[0]=Math.max(o[0],h[0]),u[1]=Math.max(o[1],h[1]),u[2]=Math.max(o[2],h[2]),u},Oi.round=function(u,o){return u[0]=Math.round(o[0]),u[1]=Math.round(o[1]),u[2]=Math.round(o[2]),u},Oi.scale=function(u,o,h){return u[0]=o[0]*h,u[1]=o[1]*h,u[2]=o[2]*h,u},Oi.scaleAndAdd=function(u,o,h,A){return u[0]=o[0]+h[0]*A,u[1]=o[1]+h[1]*A,u[2]=o[2]+h[2]*A,u},Oi.distance=vV,Oi.squaredDistance=_V,Oi.squaredLength=yV,Oi.negate=function(u,o){return u[0]=-o[0],u[1]=-o[1],u[2]=-o[2],u},Oi.inverse=function(u,o){return u[0]=1/o[0],u[1]=1/o[1],u[2]=1/o[2],u},Oi.normalize=function(u,o){var h=o[0],A=o[1],_=o[2],b=h*h+A*A+_*_;return b>0&&(b=1/Math.sqrt(b)),u[0]=o[0]*b,u[1]=o[1]*b,u[2]=o[2]*b,u},Oi.dot=bV,Oi.cross=function(u,o,h){var A=o[0],_=o[1],b=o[2],E=h[0],I=h[1],F=h[2];return u[0]=_*F-b*I,u[1]=b*E-A*F,u[2]=A*I-_*E,u},Oi.lerp=function(u,o,h,A){var _=o[0],b=o[1],E=o[2];return u[0]=_+A*(h[0]-_),u[1]=b+A*(h[1]-b),u[2]=E+A*(h[2]-E),u},Oi.hermite=function(u,o,h,A,_,b){var E=b*b,I=E*(2*b-3)+1,F=E*(b-2)+b,O=E*(b-1),U=E*(3-2*b);return u[0]=o[0]*I+h[0]*F+A[0]*O+_[0]*U,u[1]=o[1]*I+h[1]*F+A[1]*O+_[1]*U,u[2]=o[2]*I+h[2]*F+A[2]*O+_[2]*U,u},Oi.bezier=function(u,o,h,A,_,b){var E=1-b,I=E*E,F=b*b,O=I*E,U=3*b*I,K=3*F*E,Z=F*b;return u[0]=o[0]*O+h[0]*U+A[0]*K+_[0]*Z,u[1]=o[1]*O+h[1]*U+A[1]*K+_[1]*Z,u[2]=o[2]*O+h[2]*U+A[2]*K+_[2]*Z,u},Oi.random=function(u,o){o=o||1;var h=2*xg.RANDOM()*Math.PI,A=2*xg.RANDOM()-1,_=Math.sqrt(1-A*A)*o;return u[0]=Math.cos(h)*_,u[1]=Math.sin(h)*_,u[2]=A*o,u},Oi.transformMat4=function(u,o,h){var A=o[0],_=o[1],b=o[2],E=h[3]*A+h[7]*_+h[11]*b+h[15];return u[0]=(h[0]*A+h[4]*_+h[8]*b+h[12])/(E=E||1),u[1]=(h[1]*A+h[5]*_+h[9]*b+h[13])/E,u[2]=(h[2]*A+h[6]*_+h[10]*b+h[14])/E,u},Oi.transformMat3=function(u,o,h){var A=o[0],_=o[1],b=o[2];return u[0]=A*h[0]+_*h[3]+b*h[6],u[1]=A*h[1]+_*h[4]+b*h[7],u[2]=A*h[2]+_*h[5]+b*h[8],u},Oi.transformQuat=function(u,o,h){var A=h[0],_=h[1],b=h[2],E=o[0],I=o[1],F=o[2],O=_*F-b*I,U=b*E-A*F,K=A*I-_*E,Z=_*K-b*U,fe=b*O-A*K,ge=A*U-_*O,xe=2*h[3];return U*=xe,K*=xe,fe*=2,ge*=2,u[0]=E+(O*=xe)+(Z*=2),u[1]=I+U+fe,u[2]=F+K+ge,u},Oi.rotateX=function(u,o,h,A){var _=[],b=[];return _[0]=o[0]-h[0],_[1]=o[1]-h[1],_[2]=o[2]-h[2],b[0]=_[0],b[1]=_[1]*Math.cos(A)-_[2]*Math.sin(A),b[2]=_[1]*Math.sin(A)+_[2]*Math.cos(A),u[0]=b[0]+h[0],u[1]=b[1]+h[1],u[2]=b[2]+h[2],u},Oi.rotateY=function(u,o,h,A){var _=[],b=[];return _[0]=o[0]-h[0],_[1]=o[1]-h[1],_[2]=o[2]-h[2],b[0]=_[2]*Math.sin(A)+_[0]*Math.cos(A),b[1]=_[1],b[2]=_[2]*Math.cos(A)-_[0]*Math.sin(A),u[0]=b[0]+h[0],u[1]=b[1]+h[1],u[2]=b[2]+h[2],u},Oi.rotateZ=function(u,o,h,A){var _=[],b=[];return _[0]=o[0]-h[0],_[1]=o[1]-h[1],_[2]=o[2]-h[2],b[0]=_[0]*Math.cos(A)-_[1]*Math.sin(A),b[1]=_[0]*Math.sin(A)+_[1]*Math.cos(A),b[2]=_[2],u[0]=b[0]+h[0],u[1]=b[1]+h[1],u[2]=b[2]+h[2],u},Oi.angle=function(u,o){var h=u[0],A=u[1],_=u[2],b=o[0],E=o[1],I=o[2],F=Math.sqrt(h*h+A*A+_*_)*Math.sqrt(b*b+E*E+I*I),O=F&&bV(u,o)/F;return Math.acos(Math.min(Math.max(O,-1),1))},Oi.zero=function(u){return u[0]=0,u[1]=0,u[2]=0,u},Oi.str=function(u){return"vec3("+u[0]+", "+u[1]+", "+u[2]+")"},Oi.exactEquals=function(u,o){return u[0]===o[0]&&u[1]===o[1]&&u[2]===o[2]},Oi.equals=function(u,o){var h=u[0],A=u[1],_=u[2],b=o[0],E=o[1],I=o[2];return Math.abs(h-b)<=xg.EPSILON*Math.max(1,Math.abs(h),Math.abs(b))&&Math.abs(A-E)<=xg.EPSILON*Math.max(1,Math.abs(A),Math.abs(E))&&Math.abs(_-I)<=xg.EPSILON*Math.max(1,Math.abs(_),Math.abs(I))},Oi.forEach=Oi.sqrLen=Oi.len=Oi.sqrDist=Oi.dist=Oi.div=Oi.mul=Oi.sub=void 0;var xg=function(u,o){if(u&&u.__esModule)return u;if(u===null||RI(u)!=="object"&&typeof u!="function")return{default:u};var h=dV(void 0);if(h&&h.has(u))return h.get(u);var A={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in u)if(b!=="default"&&Object.prototype.hasOwnProperty.call(u,b)){var E=_?Object.getOwnPropertyDescriptor(u,b):null;E&&(E.get||E.set)?Object.defineProperty(A,b,E):A[b]=u[b]}return A.default=u,h&&h.set(u,A),A}(wl);function dV(u){if(typeof WeakMap!="function")return null;var o=new WeakMap,h=new WeakMap;return(dV=function(A){return A?h:o})(u)}function fV(){var u=new xg.ARRAY_TYPE(3);return xg.ARRAY_TYPE!=Float32Array&&(u[0]=0,u[1]=0,u[2]=0),u}function pV(u){return Math.hypot(u[0],u[1],u[2])}function AV(u,o,h){return u[0]=o[0]-h[0],u[1]=o[1]-h[1],u[2]=o[2]-h[2],u}function mV(u,o,h){return u[0]=o[0]*h[0],u[1]=o[1]*h[1],u[2]=o[2]*h[2],u}function gV(u,o,h){return u[0]=o[0]/h[0],u[1]=o[1]/h[1],u[2]=o[2]/h[2],u}function vV(u,o){return Math.hypot(o[0]-u[0],o[1]-u[1],o[2]-u[2])}function _V(u,o){var h=o[0]-u[0],A=o[1]-u[1],_=o[2]-u[2];return h*h+A*A+_*_}function yV(u){var o=u[0],h=u[1],A=u[2];return o*o+h*h+A*A}function bV(u,o){return u[0]*o[0]+u[1]*o[1]+u[2]*o[2]}Oi.sub=AV,Oi.mul=mV,Oi.div=gV,Oi.dist=vV,Oi.sqrDist=_V,Oi.len=pV,Oi.sqrLen=yV;var Cg,sme=(Cg=fV(),function(u,o,h,A,_,b){var E,I;for(o||(o=3),h||(h=0),I=A?Math.min(A*o+h,u.length):u.length,E=h;E<I;E+=o)Cg[0]=u[E],Cg[1]=u[E+1],Cg[2]=u[E+2],_(Cg,Cg,b),u[E]=Cg[0],u[E+1]=Cg[1],u[E+2]=Cg[2];return u});Oi.forEach=sme;var ta={};function OI(u){return OI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},OI(u)}Object.defineProperty(ta,"__esModule",{value:!0}),ta.create=xV,ta.clone=function(u){var o=new pf.ARRAY_TYPE(4);return o[0]=u[0],o[1]=u[1],o[2]=u[2],o[3]=u[3],o},ta.fromValues=function(u,o,h,A){var _=new pf.ARRAY_TYPE(4);return _[0]=u,_[1]=o,_[2]=h,_[3]=A,_},ta.copy=function(u,o){return u[0]=o[0],u[1]=o[1],u[2]=o[2],u[3]=o[3],u},ta.set=function(u,o,h,A,_){return u[0]=o,u[1]=h,u[2]=A,u[3]=_,u},ta.add=function(u,o,h){return u[0]=o[0]+h[0],u[1]=o[1]+h[1],u[2]=o[2]+h[2],u[3]=o[3]+h[3],u},ta.subtract=CV,ta.multiply=EV,ta.divide=SV,ta.ceil=function(u,o){return u[0]=Math.ceil(o[0]),u[1]=Math.ceil(o[1]),u[2]=Math.ceil(o[2]),u[3]=Math.ceil(o[3]),u},ta.floor=function(u,o){return u[0]=Math.floor(o[0]),u[1]=Math.floor(o[1]),u[2]=Math.floor(o[2]),u[3]=Math.floor(o[3]),u},ta.min=function(u,o,h){return u[0]=Math.min(o[0],h[0]),u[1]=Math.min(o[1],h[1]),u[2]=Math.min(o[2],h[2]),u[3]=Math.min(o[3],h[3]),u},ta.max=function(u,o,h){return u[0]=Math.max(o[0],h[0]),u[1]=Math.max(o[1],h[1]),u[2]=Math.max(o[2],h[2]),u[3]=Math.max(o[3],h[3]),u},ta.round=function(u,o){return u[0]=Math.round(o[0]),u[1]=Math.round(o[1]),u[2]=Math.round(o[2]),u[3]=Math.round(o[3]),u},ta.scale=function(u,o,h){return u[0]=o[0]*h,u[1]=o[1]*h,u[2]=o[2]*h,u[3]=o[3]*h,u},ta.scaleAndAdd=function(u,o,h,A){return u[0]=o[0]+h[0]*A,u[1]=o[1]+h[1]*A,u[2]=o[2]+h[2]*A,u[3]=o[3]+h[3]*A,u},ta.distance=TV,ta.squaredDistance=BV,ta.length=MV,ta.squaredLength=IV,ta.negate=function(u,o){return u[0]=-o[0],u[1]=-o[1],u[2]=-o[2],u[3]=-o[3],u},ta.inverse=function(u,o){return u[0]=1/o[0],u[1]=1/o[1],u[2]=1/o[2],u[3]=1/o[3],u},ta.normalize=function(u,o){var h=o[0],A=o[1],_=o[2],b=o[3],E=h*h+A*A+_*_+b*b;return E>0&&(E=1/Math.sqrt(E)),u[0]=h*E,u[1]=A*E,u[2]=_*E,u[3]=b*E,u},ta.dot=function(u,o){return u[0]*o[0]+u[1]*o[1]+u[2]*o[2]+u[3]*o[3]},ta.cross=function(u,o,h,A){var _=h[0]*A[1]-h[1]*A[0],b=h[0]*A[2]-h[2]*A[0],E=h[0]*A[3]-h[3]*A[0],I=h[1]*A[2]-h[2]*A[1],F=h[1]*A[3]-h[3]*A[1],O=h[2]*A[3]-h[3]*A[2],U=o[0],K=o[1],Z=o[2],fe=o[3];return u[0]=K*O-Z*F+fe*I,u[1]=-U*O+Z*E-fe*b,u[2]=U*F-K*E+fe*_,u[3]=-U*I+K*b-Z*_,u},ta.lerp=function(u,o,h,A){var _=o[0],b=o[1],E=o[2],I=o[3];return u[0]=_+A*(h[0]-_),u[1]=b+A*(h[1]-b),u[2]=E+A*(h[2]-E),u[3]=I+A*(h[3]-I),u},ta.random=function(u,o){var h,A,_,b,E,I;o=o||1;do E=(h=2*pf.RANDOM()-1)*h+(A=2*pf.RANDOM()-1)*A;while(E>=1);do I=(_=2*pf.RANDOM()-1)*_+(b=2*pf.RANDOM()-1)*b;while(I>=1);var F=Math.sqrt((1-E)/I);return u[0]=o*h,u[1]=o*A,u[2]=o*_*F,u[3]=o*b*F,u},ta.transformMat4=function(u,o,h){var A=o[0],_=o[1],b=o[2],E=o[3];return u[0]=h[0]*A+h[4]*_+h[8]*b+h[12]*E,u[1]=h[1]*A+h[5]*_+h[9]*b+h[13]*E,u[2]=h[2]*A+h[6]*_+h[10]*b+h[14]*E,u[3]=h[3]*A+h[7]*_+h[11]*b+h[15]*E,u},ta.transformQuat=function(u,o,h){var A=o[0],_=o[1],b=o[2],E=h[0],I=h[1],F=h[2],O=h[3],U=O*A+I*b-F*_,K=O*_+F*A-E*b,Z=O*b+E*_-I*A,fe=-E*A-I*_-F*b;return u[0]=U*O+fe*-E+K*-F-Z*-I,u[1]=K*O+fe*-I+Z*-E-U*-F,u[2]=Z*O+fe*-F+U*-I-K*-E,u[3]=o[3],u},ta.zero=function(u){return u[0]=0,u[1]=0,u[2]=0,u[3]=0,u},ta.str=function(u){return"vec4("+u[0]+", "+u[1]+", "+u[2]+", "+u[3]+")"},ta.exactEquals=function(u,o){return u[0]===o[0]&&u[1]===o[1]&&u[2]===o[2]&&u[3]===o[3]},ta.equals=function(u,o){var h=u[0],A=u[1],_=u[2],b=u[3],E=o[0],I=o[1],F=o[2],O=o[3];return Math.abs(h-E)<=pf.EPSILON*Math.max(1,Math.abs(h),Math.abs(E))&&Math.abs(A-I)<=pf.EPSILON*Math.max(1,Math.abs(A),Math.abs(I))&&Math.abs(_-F)<=pf.EPSILON*Math.max(1,Math.abs(_),Math.abs(F))&&Math.abs(b-O)<=pf.EPSILON*Math.max(1,Math.abs(b),Math.abs(O))},ta.forEach=ta.sqrLen=ta.len=ta.sqrDist=ta.dist=ta.div=ta.mul=ta.sub=void 0;var pf=function(u,o){if(u&&u.__esModule)return u;if(u===null||OI(u)!=="object"&&typeof u!="function")return{default:u};var h=wV(void 0);if(h&&h.has(u))return h.get(u);var A={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in u)if(b!=="default"&&Object.prototype.hasOwnProperty.call(u,b)){var E=_?Object.getOwnPropertyDescriptor(u,b):null;E&&(E.get||E.set)?Object.defineProperty(A,b,E):A[b]=u[b]}return A.default=u,h&&h.set(u,A),A}(wl);function wV(u){if(typeof WeakMap!="function")return null;var o=new WeakMap,h=new WeakMap;return(wV=function(A){return A?h:o})(u)}function xV(){var u=new pf.ARRAY_TYPE(4);return pf.ARRAY_TYPE!=Float32Array&&(u[0]=0,u[1]=0,u[2]=0,u[3]=0),u}function CV(u,o,h){return u[0]=o[0]-h[0],u[1]=o[1]-h[1],u[2]=o[2]-h[2],u[3]=o[3]-h[3],u}function EV(u,o,h){return u[0]=o[0]*h[0],u[1]=o[1]*h[1],u[2]=o[2]*h[2],u[3]=o[3]*h[3],u}function SV(u,o,h){return u[0]=o[0]/h[0],u[1]=o[1]/h[1],u[2]=o[2]/h[2],u[3]=o[3]/h[3],u}function TV(u,o){return Math.hypot(o[0]-u[0],o[1]-u[1],o[2]-u[2],o[3]-u[3])}function BV(u,o){var h=o[0]-u[0],A=o[1]-u[1],_=o[2]-u[2],b=o[3]-u[3];return h*h+A*A+_*_+b*b}function MV(u){return Math.hypot(u[0],u[1],u[2],u[3])}function IV(u){var o=u[0],h=u[1],A=u[2],_=u[3];return o*o+h*h+A*A+_*_}ta.sub=CV,ta.mul=EV,ta.div=SV,ta.dist=TV,ta.sqrDist=BV,ta.len=MV,ta.sqrLen=IV;var ome=function(){var u=xV();return function(o,h,A,_,b,E){var I,F;for(h||(h=4),A||(A=0),F=_?Math.min(_*h+A,o.length):o.length,I=A;I<F;I+=h)u[0]=o[I],u[1]=o[I+1],u[2]=o[I+2],u[3]=o[I+3],b(u,u,E),o[I]=u[0],o[I+1]=u[1],o[I+2]=u[2],o[I+3]=u[3];return o}}();function DI(u){return DI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},DI(u)}ta.forEach=ome,Object.defineProperty(Ti,"__esModule",{value:!0}),Ti.create=NI,Ti.identity=function(u){return u[0]=0,u[1]=0,u[2]=0,u[3]=1,u},Ti.setAxisAngle=kV,Ti.getAxisAngle=function(u,o){var h=2*Math.acos(o[3]),A=Math.sin(h/2);return A>u_.EPSILON?(u[0]=o[0]/A,u[1]=o[1]/A,u[2]=o[2]/A):(u[0]=1,u[1]=0,u[2]=0),h},Ti.getAngle=function(u,o){var h=NV(u,o);return Math.acos(2*h*h-1)},Ti.multiply=PV,Ti.rotateX=function(u,o,h){h*=.5;var A=o[0],_=o[1],b=o[2],E=o[3],I=Math.sin(h),F=Math.cos(h);return u[0]=A*F+E*I,u[1]=_*F+b*I,u[2]=b*F-_*I,u[3]=E*F-A*I,u},Ti.rotateY=function(u,o,h){h*=.5;var A=o[0],_=o[1],b=o[2],E=o[3],I=Math.sin(h),F=Math.cos(h);return u[0]=A*F-b*I,u[1]=_*F+E*I,u[2]=b*F+A*I,u[3]=E*F-_*I,u},Ti.rotateZ=function(u,o,h){h*=.5;var A=o[0],_=o[1],b=o[2],E=o[3],I=Math.sin(h),F=Math.cos(h);return u[0]=A*F+_*I,u[1]=_*F-A*I,u[2]=b*F+E*I,u[3]=E*F-b*I,u},Ti.calculateW=function(u,o){var h=o[0],A=o[1],_=o[2];return u[0]=h,u[1]=A,u[2]=_,u[3]=Math.sqrt(Math.abs(1-h*h-A*A-_*_)),u},Ti.exp=FV,Ti.ln=RV,Ti.pow=function(u,o,h){return RV(u,o),DV(u,u,h),FV(u,u),u},Ti.slerp=AE,Ti.random=function(u){var o=u_.RANDOM(),h=u_.RANDOM(),A=u_.RANDOM(),_=Math.sqrt(1-o),b=Math.sqrt(o);return u[0]=_*Math.sin(2*Math.PI*h),u[1]=_*Math.cos(2*Math.PI*h),u[2]=b*Math.sin(2*Math.PI*A),u[3]=b*Math.cos(2*Math.PI*A),u},Ti.invert=function(u,o){var h=o[0],A=o[1],_=o[2],b=o[3],E=h*h+A*A+_*_+b*b,I=E?1/E:0;return u[0]=-h*I,u[1]=-A*I,u[2]=-_*I,u[3]=b*I,u},Ti.conjugate=function(u,o){return u[0]=-o[0],u[1]=-o[1],u[2]=-o[2],u[3]=o[3],u},Ti.fromMat3=OV,Ti.fromEuler=function(u,o,h,A){var _=.5*Math.PI/180;o*=_,h*=_,A*=_;var b=Math.sin(o),E=Math.cos(o),I=Math.sin(h),F=Math.cos(h),O=Math.sin(A),U=Math.cos(A);return u[0]=b*F*U-E*I*O,u[1]=E*I*U+b*F*O,u[2]=E*F*O-b*I*U,u[3]=E*F*U+b*I*O,u},Ti.str=function(u){return"quat("+u[0]+", "+u[1]+", "+u[2]+", "+u[3]+")"},Ti.setAxes=Ti.sqlerp=Ti.rotationTo=Ti.equals=Ti.exactEquals=Ti.normalize=Ti.sqrLen=Ti.squaredLength=Ti.len=Ti.length=Ti.lerp=Ti.dot=Ti.scale=Ti.mul=Ti.add=Ti.set=Ti.copy=Ti.fromValues=Ti.clone=void 0;var u_=pE(wl),lme=pE(Xa),Eg=pE(Oi),Bd=pE(ta);function LV(u){if(typeof WeakMap!="function")return null;var o=new WeakMap,h=new WeakMap;return(LV=function(A){return A?h:o})(u)}function pE(u,o){if(u&&u.__esModule)return u;if(u===null||DI(u)!=="object"&&typeof u!="function")return{default:u};var h=LV(o);if(h&&h.has(u))return h.get(u);var A={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in u)if(b!=="default"&&Object.prototype.hasOwnProperty.call(u,b)){var E=_?Object.getOwnPropertyDescriptor(u,b):null;E&&(E.get||E.set)?Object.defineProperty(A,b,E):A[b]=u[b]}return A.default=u,h&&h.set(u,A),A}function NI(){var u=new u_.ARRAY_TYPE(4);return u_.ARRAY_TYPE!=Float32Array&&(u[0]=0,u[1]=0,u[2]=0),u[3]=1,u}function kV(u,o,h){h*=.5;var A=Math.sin(h);return u[0]=A*o[0],u[1]=A*o[1],u[2]=A*o[2],u[3]=Math.cos(h),u}function PV(u,o,h){var A=o[0],_=o[1],b=o[2],E=o[3],I=h[0],F=h[1],O=h[2],U=h[3];return u[0]=A*U+E*I+_*O-b*F,u[1]=_*U+E*F+b*I-A*O,u[2]=b*U+E*O+A*F-_*I,u[3]=E*U-A*I-_*F-b*O,u}function FV(u,o){var h=o[0],A=o[1],_=o[2],b=o[3],E=Math.sqrt(h*h+A*A+_*_),I=Math.exp(b),F=E>0?I*Math.sin(E)/E:0;return u[0]=h*F,u[1]=A*F,u[2]=_*F,u[3]=I*Math.cos(E),u}function RV(u,o){var h=o[0],A=o[1],_=o[2],b=o[3],E=Math.sqrt(h*h+A*A+_*_),I=E>0?Math.atan2(E,b)/E:0;return u[0]=h*I,u[1]=A*I,u[2]=_*I,u[3]=.5*Math.log(h*h+A*A+_*_+b*b),u}function AE(u,o,h,A){var _,b,E,I,F,O=o[0],U=o[1],K=o[2],Z=o[3],fe=h[0],ge=h[1],xe=h[2],Ie=h[3];return(b=O*fe+U*ge+K*xe+Z*Ie)<0&&(b=-b,fe=-fe,ge=-ge,xe=-xe,Ie=-Ie),1-b>u_.EPSILON?(_=Math.acos(b),E=Math.sin(_),I=Math.sin((1-A)*_)/E,F=Math.sin(A*_)/E):(I=1-A,F=A),u[0]=I*O+F*fe,u[1]=I*U+F*ge,u[2]=I*K+F*xe,u[3]=I*Z+F*Ie,u}function OV(u,o){var h,A=o[0]+o[4]+o[8];if(A>0)h=Math.sqrt(A+1),u[3]=.5*h,u[0]=(o[5]-o[7])*(h=.5/h),u[1]=(o[6]-o[2])*h,u[2]=(o[1]-o[3])*h;else{var _=0;o[4]>o[0]&&(_=1),o[8]>o[3*_+_]&&(_=2);var b=(_+1)%3,E=(_+2)%3;h=Math.sqrt(o[3*_+_]-o[3*b+b]-o[3*E+E]+1),u[_]=.5*h,u[3]=(o[3*b+E]-o[3*E+b])*(h=.5/h),u[b]=(o[3*b+_]+o[3*_+b])*h,u[E]=(o[3*E+_]+o[3*_+E])*h}return u}Ti.clone=Bd.clone,Ti.fromValues=Bd.fromValues,Ti.copy=Bd.copy,Ti.set=Bd.set,Ti.add=Bd.add,Ti.mul=PV;var DV=Bd.scale;Ti.scale=DV;var NV=Bd.dot;Ti.dot=NV,Ti.lerp=Bd.lerp;var UV=Bd.length;Ti.length=UV,Ti.len=UV;var zV=Bd.squaredLength;Ti.squaredLength=zV,Ti.sqrLen=zV;var UI=Bd.normalize;Ti.normalize=UI,Ti.exactEquals=Bd.exactEquals,Ti.equals=Bd.equals;var bp,$V,VV,ume=(bp=Eg.create(),$V=Eg.fromValues(1,0,0),VV=Eg.fromValues(0,1,0),function(u,o,h){var A=Eg.dot(o,h);return A<-.999999?(Eg.cross(bp,$V,o),Eg.len(bp)<1e-6&&Eg.cross(bp,VV,o),Eg.normalize(bp,bp),kV(u,bp,Math.PI),u):A>.999999?(u[0]=0,u[1]=0,u[2]=0,u[3]=1,u):(Eg.cross(bp,o,h),u[0]=bp[0],u[1]=bp[1],u[2]=bp[2],u[3]=1+A,UI(u,u))});Ti.rotationTo=ume;var zI,$I,cme=(zI=NI(),$I=NI(),function(u,o,h,A,_,b){return AE(zI,o,_,b),AE($I,h,A,b),AE(u,zI,$I,2*b*(1-b)),u});Ti.sqlerp=cme;var wp,hme=(wp=lme.create(),function(u,o,h,A){return wp[0]=h[0],wp[3]=h[1],wp[6]=h[2],wp[1]=A[0],wp[4]=A[1],wp[7]=A[2],wp[2]=-o[0],wp[5]=-o[1],wp[8]=-o[2],UI(u,OV(u,wp))});Ti.setAxes=hme;var la={};function VI(u){return VI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},VI(u)}Object.defineProperty(la,"__esModule",{value:!0}),la.create=function(){var u=new Jc.ARRAY_TYPE(8);return Jc.ARRAY_TYPE!=Float32Array&&(u[0]=0,u[1]=0,u[2]=0,u[4]=0,u[5]=0,u[6]=0,u[7]=0),u[3]=1,u},la.clone=function(u){var o=new Jc.ARRAY_TYPE(8);return o[0]=u[0],o[1]=u[1],o[2]=u[2],o[3]=u[3],o[4]=u[4],o[5]=u[5],o[6]=u[6],o[7]=u[7],o},la.fromValues=function(u,o,h,A,_,b,E,I){var F=new Jc.ARRAY_TYPE(8);return F[0]=u,F[1]=o,F[2]=h,F[3]=A,F[4]=_,F[5]=b,F[6]=E,F[7]=I,F},la.fromRotationTranslationValues=function(u,o,h,A,_,b,E){var I=new Jc.ARRAY_TYPE(8);I[0]=u,I[1]=o,I[2]=h,I[3]=A;var F=.5*_,O=.5*b,U=.5*E;return I[4]=F*A+O*h-U*o,I[5]=O*A+U*u-F*h,I[6]=U*A+F*o-O*u,I[7]=-F*u-O*o-U*h,I},la.fromRotationTranslation=jV,la.fromTranslation=function(u,o){return u[0]=0,u[1]=0,u[2]=0,u[3]=1,u[4]=.5*o[0],u[5]=.5*o[1],u[6]=.5*o[2],u[7]=0,u},la.fromRotation=function(u,o){return u[0]=o[0],u[1]=o[1],u[2]=o[2],u[3]=o[3],u[4]=0,u[5]=0,u[6]=0,u[7]=0,u},la.fromMat4=function(u,o){var h=Sg.create();HV.getRotation(h,o);var A=new Jc.ARRAY_TYPE(3);return HV.getTranslation(A,o),jV(u,h,A),u},la.copy=GV,la.identity=function(u){return u[0]=0,u[1]=0,u[2]=0,u[3]=1,u[4]=0,u[5]=0,u[6]=0,u[7]=0,u},la.set=function(u,o,h,A,_,b,E,I,F){return u[0]=o,u[1]=h,u[2]=A,u[3]=_,u[4]=b,u[5]=E,u[6]=I,u[7]=F,u},la.getDual=function(u,o){return u[0]=o[4],u[1]=o[5],u[2]=o[6],u[3]=o[7],u},la.setDual=function(u,o){return u[4]=o[0],u[5]=o[1],u[6]=o[2],u[7]=o[3],u},la.getTranslation=function(u,o){var h=o[4],A=o[5],_=o[6],b=o[7],E=-o[0],I=-o[1],F=-o[2],O=o[3];return u[0]=2*(h*O+b*E+A*F-_*I),u[1]=2*(A*O+b*I+_*E-h*F),u[2]=2*(_*O+b*F+h*I-A*E),u},la.translate=function(u,o,h){var A=o[0],_=o[1],b=o[2],E=o[3],I=.5*h[0],F=.5*h[1],O=.5*h[2],U=o[4],K=o[5],Z=o[6],fe=o[7];return u[0]=A,u[1]=_,u[2]=b,u[3]=E,u[4]=E*I+_*O-b*F+U,u[5]=E*F+b*I-A*O+K,u[6]=E*O+A*F-_*I+Z,u[7]=-A*I-_*F-b*O+fe,u},la.rotateX=function(u,o,h){var A=-o[0],_=-o[1],b=-o[2],E=o[3],I=o[4],F=o[5],O=o[6],U=o[7],K=I*E+U*A+F*b-O*_,Z=F*E+U*_+O*A-I*b,fe=O*E+U*b+I*_-F*A,ge=U*E-I*A-F*_-O*b;return Sg.rotateX(u,o,h),u[4]=K*(E=u[3])+ge*(A=u[0])+Z*(b=u[2])-fe*(_=u[1]),u[5]=Z*E+ge*_+fe*A-K*b,u[6]=fe*E+ge*b+K*_-Z*A,u[7]=ge*E-K*A-Z*_-fe*b,u},la.rotateY=function(u,o,h){var A=-o[0],_=-o[1],b=-o[2],E=o[3],I=o[4],F=o[5],O=o[6],U=o[7],K=I*E+U*A+F*b-O*_,Z=F*E+U*_+O*A-I*b,fe=O*E+U*b+I*_-F*A,ge=U*E-I*A-F*_-O*b;return Sg.rotateY(u,o,h),u[4]=K*(E=u[3])+ge*(A=u[0])+Z*(b=u[2])-fe*(_=u[1]),u[5]=Z*E+ge*_+fe*A-K*b,u[6]=fe*E+ge*b+K*_-Z*A,u[7]=ge*E-K*A-Z*_-fe*b,u},la.rotateZ=function(u,o,h){var A=-o[0],_=-o[1],b=-o[2],E=o[3],I=o[4],F=o[5],O=o[6],U=o[7],K=I*E+U*A+F*b-O*_,Z=F*E+U*_+O*A-I*b,fe=O*E+U*b+I*_-F*A,ge=U*E-I*A-F*_-O*b;return Sg.rotateZ(u,o,h),u[4]=K*(E=u[3])+ge*(A=u[0])+Z*(b=u[2])-fe*(_=u[1]),u[5]=Z*E+ge*_+fe*A-K*b,u[6]=fe*E+ge*b+K*_-Z*A,u[7]=ge*E-K*A-Z*_-fe*b,u},la.rotateByQuatAppend=function(u,o,h){var A=h[0],_=h[1],b=h[2],E=h[3],I=o[0],F=o[1],O=o[2],U=o[3];return u[0]=I*E+U*A+F*b-O*_,u[1]=F*E+U*_+O*A-I*b,u[2]=O*E+U*b+I*_-F*A,u[3]=U*E-I*A-F*_-O*b,u[4]=(I=o[4])*E+(U=o[7])*A+(F=o[5])*b-(O=o[6])*_,u[5]=F*E+U*_+O*A-I*b,u[6]=O*E+U*b+I*_-F*A,u[7]=U*E-I*A-F*_-O*b,u},la.rotateByQuatPrepend=function(u,o,h){var A=o[0],_=o[1],b=o[2],E=o[3],I=h[0],F=h[1],O=h[2],U=h[3];return u[0]=A*U+E*I+_*O-b*F,u[1]=_*U+E*F+b*I-A*O,u[2]=b*U+E*O+A*F-_*I,u[3]=E*U-A*I-_*F-b*O,u[4]=A*(U=h[7])+E*(I=h[4])+_*(O=h[6])-b*(F=h[5]),u[5]=_*U+E*F+b*I-A*O,u[6]=b*U+E*O+A*F-_*I,u[7]=E*U-A*I-_*F-b*O,u},la.rotateAroundAxis=function(u,o,h,A){if(Math.abs(A)<Jc.EPSILON)return GV(u,o);var _=Math.hypot(h[0],h[1],h[2]);A*=.5;var b=Math.sin(A),E=b*h[0]/_,I=b*h[1]/_,F=b*h[2]/_,O=Math.cos(A),U=o[0],K=o[1],Z=o[2],fe=o[3];u[0]=U*O+fe*E+K*F-Z*I,u[1]=K*O+fe*I+Z*E-U*F,u[2]=Z*O+fe*F+U*I-K*E,u[3]=fe*O-U*E-K*I-Z*F;var ge=o[4],xe=o[5],Ie=o[6],Oe=o[7];return u[4]=ge*O+Oe*E+xe*F-Ie*I,u[5]=xe*O+Oe*I+Ie*E-ge*F,u[6]=Ie*O+Oe*F+ge*I-xe*E,u[7]=Oe*O-ge*E-xe*I-Ie*F,u},la.add=function(u,o,h){return u[0]=o[0]+h[0],u[1]=o[1]+h[1],u[2]=o[2]+h[2],u[3]=o[3]+h[3],u[4]=o[4]+h[4],u[5]=o[5]+h[5],u[6]=o[6]+h[6],u[7]=o[7]+h[7],u},la.multiply=KV,la.scale=function(u,o,h){return u[0]=o[0]*h,u[1]=o[1]*h,u[2]=o[2]*h,u[3]=o[3]*h,u[4]=o[4]*h,u[5]=o[5]*h,u[6]=o[6]*h,u[7]=o[7]*h,u},la.lerp=function(u,o,h,A){var _=1-A;return WV(o,h)<0&&(A=-A),u[0]=o[0]*_+h[0]*A,u[1]=o[1]*_+h[1]*A,u[2]=o[2]*_+h[2]*A,u[3]=o[3]*_+h[3]*A,u[4]=o[4]*_+h[4]*A,u[5]=o[5]*_+h[5]*A,u[6]=o[6]*_+h[6]*A,u[7]=o[7]*_+h[7]*A,u},la.invert=function(u,o){var h=mE(o);return u[0]=-o[0]/h,u[1]=-o[1]/h,u[2]=-o[2]/h,u[3]=o[3]/h,u[4]=-o[4]/h,u[5]=-o[5]/h,u[6]=-o[6]/h,u[7]=o[7]/h,u},la.conjugate=function(u,o){return u[0]=-o[0],u[1]=-o[1],u[2]=-o[2],u[3]=o[3],u[4]=-o[4],u[5]=-o[5],u[6]=-o[6],u[7]=o[7],u},la.normalize=function(u,o){var h=mE(o);if(h>0){h=Math.sqrt(h);var A=o[0]/h,_=o[1]/h,b=o[2]/h,E=o[3]/h,I=o[4],F=o[5],O=o[6],U=o[7],K=A*I+_*F+b*O+E*U;u[0]=A,u[1]=_,u[2]=b,u[3]=E,u[4]=(I-A*K)/h,u[5]=(F-_*K)/h,u[6]=(O-b*K)/h,u[7]=(U-E*K)/h}return u},la.str=function(u){return"quat2("+u[0]+", "+u[1]+", "+u[2]+", "+u[3]+", "+u[4]+", "+u[5]+", "+u[6]+", "+u[7]+")"},la.exactEquals=function(u,o){return u[0]===o[0]&&u[1]===o[1]&&u[2]===o[2]&&u[3]===o[3]&&u[4]===o[4]&&u[5]===o[5]&&u[6]===o[6]&&u[7]===o[7]},la.equals=function(u,o){var h=u[0],A=u[1],_=u[2],b=u[3],E=u[4],I=u[5],F=u[6],O=u[7],U=o[0],K=o[1],Z=o[2],fe=o[3],ge=o[4],xe=o[5],Ie=o[6],Oe=o[7];return Math.abs(h-U)<=Jc.EPSILON*Math.max(1,Math.abs(h),Math.abs(U))&&Math.abs(A-K)<=Jc.EPSILON*Math.max(1,Math.abs(A),Math.abs(K))&&Math.abs(_-Z)<=Jc.EPSILON*Math.max(1,Math.abs(_),Math.abs(Z))&&Math.abs(b-fe)<=Jc.EPSILON*Math.max(1,Math.abs(b),Math.abs(fe))&&Math.abs(E-ge)<=Jc.EPSILON*Math.max(1,Math.abs(E),Math.abs(ge))&&Math.abs(I-xe)<=Jc.EPSILON*Math.max(1,Math.abs(I),Math.abs(xe))&&Math.abs(F-Ie)<=Jc.EPSILON*Math.max(1,Math.abs(F),Math.abs(Ie))&&Math.abs(O-Oe)<=Jc.EPSILON*Math.max(1,Math.abs(O),Math.abs(Oe))},la.sqrLen=la.squaredLength=la.len=la.length=la.dot=la.mul=la.setReal=la.getReal=void 0;var Jc=HI(wl),Sg=HI(Ti),HV=HI(Ui);function QV(u){if(typeof WeakMap!="function")return null;var o=new WeakMap,h=new WeakMap;return(QV=function(A){return A?h:o})(u)}function HI(u,o){if(u&&u.__esModule)return u;if(u===null||VI(u)!=="object"&&typeof u!="function")return{default:u};var h=QV(o);if(h&&h.has(u))return h.get(u);var A={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in u)if(b!=="default"&&Object.prototype.hasOwnProperty.call(u,b)){var E=_?Object.getOwnPropertyDescriptor(u,b):null;E&&(E.get||E.set)?Object.defineProperty(A,b,E):A[b]=u[b]}return A.default=u,h&&h.set(u,A),A}function jV(u,o,h){var A=.5*h[0],_=.5*h[1],b=.5*h[2],E=o[0],I=o[1],F=o[2],O=o[3];return u[0]=E,u[1]=I,u[2]=F,u[3]=O,u[4]=A*O+_*F-b*I,u[5]=_*O+b*E-A*F,u[6]=b*O+A*I-_*E,u[7]=-A*E-_*I-b*F,u}function GV(u,o){return u[0]=o[0],u[1]=o[1],u[2]=o[2],u[3]=o[3],u[4]=o[4],u[5]=o[5],u[6]=o[6],u[7]=o[7],u}function KV(u,o,h){var A=o[0],_=o[1],b=o[2],E=o[3],I=h[4],F=h[5],O=h[6],U=h[7],K=o[4],Z=o[5],fe=o[6],ge=o[7],xe=h[0],Ie=h[1],Oe=h[2],rt=h[3];return u[0]=A*rt+E*xe+_*Oe-b*Ie,u[1]=_*rt+E*Ie+b*xe-A*Oe,u[2]=b*rt+E*Oe+A*Ie-_*xe,u[3]=E*rt-A*xe-_*Ie-b*Oe,u[4]=A*U+E*I+_*O-b*F+K*rt+ge*xe+Z*Oe-fe*Ie,u[5]=_*U+E*F+b*I-A*O+Z*rt+ge*Ie+fe*xe-K*Oe,u[6]=b*U+E*O+A*F-_*I+fe*rt+ge*Oe+K*Ie-Z*xe,u[7]=E*U-A*I-_*F-b*O+ge*rt-K*xe-Z*Ie-fe*Oe,u}la.getReal=Sg.copy,la.setReal=Sg.copy,la.mul=KV;var WV=Sg.dot;la.dot=WV;var qV=Sg.length;la.length=qV,la.len=qV;var mE=Sg.squaredLength;la.squaredLength=mE,la.sqrLen=mE;var Wi={};function QI(u){return QI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},QI(u)}Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.create=XV,Wi.clone=function(u){var o=new c_.ARRAY_TYPE(2);return o[0]=u[0],o[1]=u[1],o},Wi.fromValues=function(u,o){var h=new c_.ARRAY_TYPE(2);return h[0]=u,h[1]=o,h},Wi.copy=function(u,o){return u[0]=o[0],u[1]=o[1],u},Wi.set=function(u,o,h){return u[0]=o,u[1]=h,u},Wi.add=function(u,o,h){return u[0]=o[0]+h[0],u[1]=o[1]+h[1],u},Wi.subtract=ZV,Wi.multiply=JV,Wi.divide=eH,Wi.ceil=function(u,o){return u[0]=Math.ceil(o[0]),u[1]=Math.ceil(o[1]),u},Wi.floor=function(u,o){return u[0]=Math.floor(o[0]),u[1]=Math.floor(o[1]),u},Wi.min=function(u,o,h){return u[0]=Math.min(o[0],h[0]),u[1]=Math.min(o[1],h[1]),u},Wi.max=function(u,o,h){return u[0]=Math.max(o[0],h[0]),u[1]=Math.max(o[1],h[1]),u},Wi.round=function(u,o){return u[0]=Math.round(o[0]),u[1]=Math.round(o[1]),u},Wi.scale=function(u,o,h){return u[0]=o[0]*h,u[1]=o[1]*h,u},Wi.scaleAndAdd=function(u,o,h,A){return u[0]=o[0]+h[0]*A,u[1]=o[1]+h[1]*A,u},Wi.distance=tH,Wi.squaredDistance=nH,Wi.length=rH,Wi.squaredLength=iH,Wi.negate=function(u,o){return u[0]=-o[0],u[1]=-o[1],u},Wi.inverse=function(u,o){return u[0]=1/o[0],u[1]=1/o[1],u},Wi.normalize=function(u,o){var h=o[0],A=o[1],_=h*h+A*A;return _>0&&(_=1/Math.sqrt(_)),u[0]=o[0]*_,u[1]=o[1]*_,u},Wi.dot=function(u,o){return u[0]*o[0]+u[1]*o[1]},Wi.cross=function(u,o,h){var A=o[0]*h[1]-o[1]*h[0];return u[0]=u[1]=0,u[2]=A,u},Wi.lerp=function(u,o,h,A){var _=o[0],b=o[1];return u[0]=_+A*(h[0]-_),u[1]=b+A*(h[1]-b),u},Wi.random=function(u,o){o=o||1;var h=2*c_.RANDOM()*Math.PI;return u[0]=Math.cos(h)*o,u[1]=Math.sin(h)*o,u},Wi.transformMat2=function(u,o,h){var A=o[0],_=o[1];return u[0]=h[0]*A+h[2]*_,u[1]=h[1]*A+h[3]*_,u},Wi.transformMat2d=function(u,o,h){var A=o[0],_=o[1];return u[0]=h[0]*A+h[2]*_+h[4],u[1]=h[1]*A+h[3]*_+h[5],u},Wi.transformMat3=function(u,o,h){var A=o[0],_=o[1];return u[0]=h[0]*A+h[3]*_+h[6],u[1]=h[1]*A+h[4]*_+h[7],u},Wi.transformMat4=function(u,o,h){var A=o[0],_=o[1];return u[0]=h[0]*A+h[4]*_+h[12],u[1]=h[1]*A+h[5]*_+h[13],u},Wi.rotate=function(u,o,h,A){var _=o[0]-h[0],b=o[1]-h[1],E=Math.sin(A),I=Math.cos(A);return u[0]=_*I-b*E+h[0],u[1]=_*E+b*I+h[1],u},Wi.angle=function(u,o){var h=u[0],A=u[1],_=o[0],b=o[1],E=Math.sqrt(h*h+A*A)*Math.sqrt(_*_+b*b);return Math.acos(Math.min(Math.max(E&&(h*_+A*b)/E,-1),1))},Wi.zero=function(u){return u[0]=0,u[1]=0,u},Wi.str=function(u){return"vec2("+u[0]+", "+u[1]+")"},Wi.exactEquals=function(u,o){return u[0]===o[0]&&u[1]===o[1]},Wi.equals=function(u,o){var h=u[0],A=u[1],_=o[0],b=o[1];return Math.abs(h-_)<=c_.EPSILON*Math.max(1,Math.abs(h),Math.abs(_))&&Math.abs(A-b)<=c_.EPSILON*Math.max(1,Math.abs(A),Math.abs(b))},Wi.forEach=Wi.sqrLen=Wi.sqrDist=Wi.dist=Wi.div=Wi.mul=Wi.sub=Wi.len=void 0;var c_=function(u,o){if(u&&u.__esModule)return u;if(u===null||QI(u)!=="object"&&typeof u!="function")return{default:u};var h=YV(void 0);if(h&&h.has(u))return h.get(u);var A={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in u)if(b!=="default"&&Object.prototype.hasOwnProperty.call(u,b)){var E=_?Object.getOwnPropertyDescriptor(u,b):null;E&&(E.get||E.set)?Object.defineProperty(A,b,E):A[b]=u[b]}return A.default=u,h&&h.set(u,A),A}(wl);function YV(u){if(typeof WeakMap!="function")return null;var o=new WeakMap,h=new WeakMap;return(YV=function(A){return A?h:o})(u)}function XV(){var u=new c_.ARRAY_TYPE(2);return c_.ARRAY_TYPE!=Float32Array&&(u[0]=0,u[1]=0),u}function ZV(u,o,h){return u[0]=o[0]-h[0],u[1]=o[1]-h[1],u}function JV(u,o,h){return u[0]=o[0]*h[0],u[1]=o[1]*h[1],u}function eH(u,o,h){return u[0]=o[0]/h[0],u[1]=o[1]/h[1],u}function tH(u,o){return Math.hypot(o[0]-u[0],o[1]-u[1])}function nH(u,o){var h=o[0]-u[0],A=o[1]-u[1];return h*h+A*A}function rH(u){return Math.hypot(u[0],u[1])}function iH(u){var o=u[0],h=u[1];return o*o+h*h}Wi.len=rH,Wi.sub=ZV,Wi.mul=JV,Wi.div=eH,Wi.dist=tH,Wi.sqrDist=nH,Wi.sqrLen=iH;var dme=function(){var u=XV();return function(o,h,A,_,b,E){var I,F;for(h||(h=2),A||(A=0),F=_?Math.min(_*h+A,o.length):o.length,I=A;I<F;I+=h)u[0]=o[I],u[1]=o[I+1],b(u,u,E),o[I]=u[0],o[I+1]=u[1];return o}}();function jI(u){return jI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},jI(u)}Wi.forEach=dme,Object.defineProperty(bl,"__esModule",{value:!0}),a.a7=bl.vec4=a.N=bl.vec3=bl.vec2=bl.quat2=a.bi=bl.quat=a.a6=bl.mat4=a.co=bl.mat3=bl.mat2d=a.b4=bl.mat2=bl.glMatrix=void 0;var fme=VA(wl);bl.glMatrix=fme;var pme=VA(Ps);a.b4=bl.mat2=pme;var Ame=VA(Hs);bl.mat2d=Ame;var mme=VA(Xa);a.co=bl.mat3=mme;var gme=VA(Ui);a.a6=bl.mat4=gme;var vme=VA(Ti);a.bi=bl.quat=vme;var _me=VA(la);bl.quat2=_me;var yme=VA(Wi);bl.vec2=yme;var bme=VA(Oi);a.N=bl.vec3=bme;var wme=VA(ta);function aH(u){if(typeof WeakMap!="function")return null;var o=new WeakMap,h=new WeakMap;return(aH=function(A){return A?h:o})(u)}function VA(u,o){if(u&&u.__esModule)return u;if(u===null||jI(u)!=="object"&&typeof u!="function")return{default:u};var h=aH(o);if(h&&h.has(u))return h.get(u);var A={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in u)if(b!=="default"&&Object.prototype.hasOwnProperty.call(u,b)){var E=_?Object.getOwnPropertyDescriptor(u,b):null;E&&(E.get||E.set)?Object.defineProperty(A,b,E):A[b]=u[b]}return A.default=u,h&&h.set(u,A),A}a.a7=bl.vec4=wme;class GI{constructor(o,h){this.pos=o,this.dir=h}intersectsPlane(o,h,A){const _=a.N.dot(h,this.dir);if(Math.abs(_)<1e-6)return!1;const b=((o[0]-this.pos[0])*h[0]+(o[1]-this.pos[1])*h[1]+(o[2]-this.pos[2])*h[2])/_;return A[0]=this.pos[0]+this.dir[0]*b,A[1]=this.pos[1]+this.dir[1]*b,A[2]=this.pos[2]+this.dir[2]*b,!0}closestPointOnSphere(o,h,A){if(a.N.equals(this.pos,o)||h===0)return A[0]=A[1]=A[2]=0,!1;const[_,b,E]=this.dir,I=this.pos[0]-o[0],F=this.pos[1]-o[1],O=this.pos[2]-o[2],U=_*_+b*b+E*E,K=2*(I*_+F*b+O*E),Z=K*K-4*U*(I*I+F*F+O*O-h*h);if(Z<0){const fe=Math.max(-K/2,0),ge=I+_*fe,xe=F+b*fe,Ie=O+E*fe,Oe=Math.hypot(ge,xe,Ie);return A[0]=ge*h/Oe,A[1]=xe*h/Oe,A[2]=Ie*h/Oe,!1}{const fe=(-K-Math.sqrt(Z))/(2*U);if(fe<0){const ge=Math.hypot(I,F,O);return A[0]=I*h/ge,A[1]=F*h/ge,A[2]=O*h/ge,!1}return A[0]=I+_*fe,A[1]=F+b*fe,A[2]=O+E*fe,!0}}}class KI{constructor(o,h,A,_,b){this.TL=o,this.TR=h,this.BR=A,this.BL=_,this.horizon=b}static fromInvProjectionMatrix(o,h,A){const _=[-1,1,1],b=[1,1,1],E=[1,-1,1],I=[-1,-1,1],F=a.N.transformMat4(_,_,o),O=a.N.transformMat4(b,b,o),U=a.N.transformMat4(E,E,o),K=a.N.transformMat4(I,I,o);return new KI(F,O,U,K,h/A)}}function Px(u,o,h){let A=1/0,_=-1/0;const b=[];for(const E of u){a.N.sub(b,E,o);const I=a.N.dot(b,h);A=Math.min(A,I),_=Math.max(_,I)}return[A,_]}function sH(u,o){let h=!0;for(let A=0;A<u.planes.length;A++){const _=u.planes[A];let b=0;for(let E=0;E<o.length;E++)b+=a.N.dot(_,o[E])+_[3]>=0;if(b===0)return 0;b!==o.length&&(h=!1)}return h?2:1}function oH(u,o){for(const h of u.projections){const A=Px(o,u.points[0],h.axis);if(h.projection[1]<A[0]||h.projection[0]>A[1])return 0}return 1}function lH(u,o){let h=0;const A=[0,0,0,0];for(let _=0;_<u.length;_++)A[0]=u[_][0],A[1]=u[_][1],A[2]=u[_][2],A[3]=1,a.a7.dot(A,o)>=0&&h++;return h}class WI{constructor(o,h){this.points=o||new Array(8).fill([0,0,0]),this.planes=h||new Array(6).fill([0,0,0,0]),this.bounds=Qs.fromPoints(this.points),this.projections=[],this.frustumEdges=[a.N.sub([],this.points[2],this.points[3]),a.N.sub([],this.points[0],this.points[3]),a.N.sub([],this.points[4],this.points[0]),a.N.sub([],this.points[5],this.points[1]),a.N.sub([],this.points[6],this.points[2]),a.N.sub([],this.points[7],this.points[3])];for(const A of this.frustumEdges){const _=[0,-A[2],A[1]],b=[A[2],0,-A[0]];this.projections.push({axis:_,projection:Px(this.points,this.points[0],_)}),this.projections.push({axis:b,projection:Px(this.points,this.points[0],b)})}}static fromInvProjectionMatrix(o,h,A,_){const b=Math.pow(2,A),E=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(O=>{const U=a.a7.transformMat4([],O,o),K=1/U[3]/h*b;return a.a7.mul(U,U,[K,K,_?1/U[3]:K,K])}),I=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(O=>{const U=a.N.sub([],E[O[0]],E[O[1]]),K=a.N.sub([],E[O[2]],E[O[1]]),Z=a.N.normalize([],a.N.cross([],U,K)),fe=-a.N.dot(Z,E[O[1]]);return Z.concat(fe)}),F=[];for(let O=0;O<E.length;O++)F.push([E[O][0],E[O][1],E[O][2]]);return new WI(F,I)}intersectsPrecise(o,h,A){for(let _=0;_<h.length;_++)if(!lH(o,h[_]))return 0;for(let _=0;_<this.planes.length;_++)if(!lH(o,this.planes[_]))return 0;for(const _ of A)for(const b of this.frustumEdges){const E=a.N.cross([],_,b),I=a.N.length(E);if(I===0)continue;a.N.scale(E,E,1/I);const F=Px(this.points,this.points[0],E),O=Px(o,this.points[0],E);if(F[0]>O[1]||O[0]>F[1])return 0}return 1}}class Qs{static fromPoints(o){const h=[1/0,1/0,1/0],A=[-1/0,-1/0,-1/0];for(const _ of o)a.N.min(h,h,_),a.N.max(A,A,_);return new Qs(h,A)}static fromTileIdAndHeight(o,h,A){const _=1<<o.canonical.z,b=o.canonical.x,E=o.canonical.y;return new Qs([b/_,E/_,h],[(b+1)/_,(E+1)/_,A])}static applyTransform(o,h){const A=o.getCorners();for(let _=0;_<A.length;++_)a.N.transformMat4(A[_],A[_],h);return Qs.fromPoints(A)}static projectAabbCorners(o,h){const A=o.getCorners();for(let _=0;_<A.length;++_)a.N.transformMat4(A[_],A[_],h);return A}constructor(o,h){this.min=o,this.max=h,this.center=a.N.scale([],a.N.add([],this.min,this.max),.5)}quadrant(o){const h=[o%2==0,o<2],A=a.N.clone(this.min),_=a.N.clone(this.max);for(let b=0;b<h.length;b++)A[b]=h[b]?this.min[b]:this.center[b],_[b]=h[b]?this.center[b]:this.max[b];return _[2]=this.max[2],new Qs(A,_)}distanceX(o){return Math.max(Math.min(this.max[0],o[0]),this.min[0])-o[0]}distanceY(o){return Math.max(Math.min(this.max[1],o[1]),this.min[1])-o[1]}distanceZ(o){return Math.max(Math.min(this.max[2],o[2]),this.min[2])-o[2]}getCorners(){const o=this.min,h=this.max;return[[o[0],o[1],o[2]],[h[0],o[1],o[2]],[h[0],h[1],o[2]],[o[0],h[1],o[2]],[o[0],o[1],h[2]],[h[0],o[1],h[2]],[h[0],h[1],h[2]],[o[0],h[1],h[2]]]}intersects(o){return this.intersectsAabb(o.bounds)?sH(o,this.getCorners()):0}intersectsFlat(o){return this.intersectsAabb(o.bounds)?sH(o,[[this.min[0],this.min[1],0],[this.max[0],this.min[1],0],[this.max[0],this.max[1],0],[this.min[0],this.max[1],0]]):0}intersectsPrecise(o,h){return h||this.intersects(o)?oH(o,this.getCorners()):0}intersectsPreciseFlat(o,h){return h||this.intersectsFlat(o)?oH(o,[[this.min[0],this.min[1],0],[this.max[0],this.min[1],0],[this.max[0],this.max[1],0],[this.min[0],this.max[1],0]]):0}intersectsAabb(o){for(let h=0;h<3;++h)if(this.min[h]>o.max[h]||o.min[h]>this.max[h])return!1;return!0}intersectsAabbXY(o){return!(this.min[0]>o.max[0]||o.min[0]>this.max[0]||this.min[1]>o.max[1]||o.min[1]>this.max[1])}encapsulate(o){for(let h=0;h<3;h++)this.min[h]=Math.min(this.min[h],o.min[h]),this.max[h]=Math.max(this.max[h],o.max[h])}encapsulatePoint(o){for(let h=0;h<3;h++)this.min[h]=Math.min(this.min[h],o[h]),this.max[h]=Math.max(this.max[h],o[h])}closestPoint(o){return[Math.max(Math.min(this.max[0],o[0]),this.min[0]),Math.max(Math.min(this.max[1],o[1]),this.min[1]),Math.max(Math.min(this.max[2],o[2]),this.min[2])]}}ze(Qs,"Aabb");const xme=Ba([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:gE}=xme,Cme=Ba([{name:"a_pos_3",components:3,type:"Int16"}]);var uH=Ba([{name:"a_pos",type:"Int16",components:2}]);function vE(u){return u*st/_n}const Eme=[new Qs([Qt,Qt,Qt],[fn,fn,fn]),new Qs([Qt,Qt,Qt],[0,0,fn]),new Qs([0,Qt,Qt],[fn,0,fn]),new Qs([Qt,0,Qt],[0,fn,fn]),new Qs([0,0,Qt],[fn,fn,fn])];function cH(u,o,h,A=!0){const _=a.N.scale([],u._camera.position,u.worldSize),b=[o,h,1,1];a.a7.transformMat4(b,b,u.pixelMatrixInverse),a.a7.scale(b,b,1/b[3]);const E=a.N.sub([],b,_),I=a.N.normalize([],E),F=u.globeMatrix,O=[F[12],F[13],F[14]],U=a.N.sub([],O,_),K=a.N.length(U),Z=a.N.normalize([],U),fe=u.worldSize/(2*Math.PI),ge=a.N.dot(Z,I),xe=Math.asin(fe/K);if(xe<Math.acos(ge)){if(!A)return null;const en=[],Sn=[];a.N.scale(en,I,K/ge),a.N.normalize(Sn,a.N.sub(Sn,en,U)),a.N.normalize(I,a.N.add(I,U,a.N.scale(I,Sn,Math.tan(xe)*K)))}const Ie=[];new GI(_,I).closestPointOnSphere(O,fe,Ie);const Oe=a.N.normalize([],We(F,0)),rt=a.N.normalize([],We(F,1)),lt=a.N.normalize([],We(F,2)),ot=a.N.dot(Oe,Ie),Tt=a.N.dot(rt,Ie),yt=a.N.dot(lt,Ie),Dt=ee(Math.asin(-Tt/fe));let Gt=ee(Math.atan2(ot,yt));Gt=u.center.lng+function(en,Sn){const Dn=(Sn-en+180)%360-180;return Dn<-180?Dn+360:Dn}(u.center.lng,Gt);const Xt=Ri(Gt),pn=ce(hi(Dt),0,1);return new ma(Xt,pn)}class Sme{constructor(o,h,A){this.a=a.N.sub([],o,A),this.b=a.N.sub([],h,A),this.center=A;const _=a.N.normalize([],this.a),b=a.N.normalize([],this.b);this.angle=Math.acos(a.N.dot(_,b))}}function qI(u,o){if(u.angle===0)return null;let h;return h=u.a[o]===0?1/u.angle*.5*Math.PI:1/u.angle*Math.atan(u.b[o]/u.a[o]/Math.sin(u.angle)-1/Math.tan(u.angle)),h<0||h>1?null:function(A,_,b,E){const I=Math.sin(b);return A*(Math.sin((1-E)*b)/I)+_*(Math.sin(E*b)/I)}(u.a[o],u.b[o],u.angle,ce(h,0,1))+u.center[o]}function HA(u){if(u.z<=1)return Eme[u.z+2*u.y+u.x];const o=YI(_E(u));return Qs.fromPoints(o)}function Tg(u,o,h){return a.N.scale(u,u,1-h),a.N.scaleAndAdd(u,u,o,h)}function hH(u,o,h){for(const A of u)a.N.transformMat4(A,A,o),a.N.scale(A,A,h)}function dH(u,o,h,A){const _=o/u.worldSize,b=u.globeMatrix;if(h.z<=1){const Xt=HA(h).getCorners();return hH(Xt,b,_),Qs.fromPoints(Xt)}const E=_E(h,A),I=YI(E,st+vE(u._tileCoverLift));hH(I,b,_);const F=Number.MAX_VALUE,O=[-F,-F,-F],U=[F,F,F];if(E.contains(u.center)){for(const en of I)a.N.min(U,U,en),a.N.max(O,O,en);O[2]=0;const Xt=u.point,pn=[Xt.x*_,Xt.y*_,0];return a.N.min(U,U,pn),a.N.max(O,O,pn),new Qs(U,O)}if(u._tileCoverLift>0){for(const Xt of I)a.N.min(U,U,Xt),a.N.max(O,O,Xt);return new Qs(U,O)}const K=[b[12]*_,b[13]*_,b[14]*_],Z=E.getCenter(),fe=ce(u.center.lat,-Yi,Yi),ge=ce(Z.lat,-Yi,Yi),xe=Ri(u.center.lng),Ie=hi(fe);let Oe=xe-Ri(Z.lng);const rt=Ie-hi(ge);Oe>.5?Oe-=1:Oe<-.5&&(Oe+=1);let lt=0;if(Math.abs(Oe)>Math.abs(rt))lt=Oe>=0?1:3;else{lt=rt>=0?0:2;const Xt=[b[4]*_,b[5]*_,b[6]*_],pn=-Math.sin(W(rt>=0?E.getSouth():E.getNorth()))*st;a.N.scaleAndAdd(K,K,Xt,pn)}const ot=I[lt],Tt=I[(lt+1)%4],yt=new Sme(ot,Tt,K),Dt=[qI(yt,0)||ot[0],qI(yt,1)||ot[1],qI(yt,2)||ot[2]],Gt=q0(u.zoom);if(Gt>0){const Xt=function({x:en,y:Sn,z:Dn},yn,On,gn,Rn){const cr=1/(1<<Dn);let Un=en*cr,Br=Un+cr,yr=Sn*cr,qn=yr+cr,ni=0;const Ur=(Un+Br)/2-gn;return Ur>.5?ni=-1:Ur<-.5&&(ni=1),Un=((Un+ni)*yn-(gn*=yn))*On+gn,Br=((Br+ni)*yn-gn)*On+gn,yr=(yr*yn-(Rn*=yn))*On+Rn,qn=(qn*yn-Rn)*On+Rn,[[Un,qn,0],[Br,qn,0],[Br,yr,0],[Un,yr,0]]}(h,o,u._pixelsPerMercatorPixel,xe,Ie);for(let en=0;en<I.length;en++)Tg(I[en],Xt[en],Gt);const pn=a.N.add([],Xt[lt],Xt[(lt+1)%4]);a.N.scale(pn,pn,.5),Tg(Dt,pn,Gt)}for(const Xt of I)a.N.min(U,U,Xt),a.N.max(O,O,Xt);return U[2]=Math.min(ot[2],Tt[2]),a.N.min(U,U,Dt),a.N.max(O,O,Dt),new Qs(U,O)}function _E({x:u,y:o,z:h},A=!1){const _=1/(1<<h),b=new Yt(wi(u*_),o===(1<<h)-1&&A?-90:ia((o+1)*_)),E=new Yt(wi((u+1)*_),o===0&&A?90:ia(o*_));return new mn(b,E)}function YI(u,o=st){const h=W(u.getNorth()),A=W(u.getSouth()),_=Math.cos(h),b=Math.cos(A),E=Math.sin(h),I=Math.sin(A),F=u.getWest(),O=u.getEast();return[Wt(b,I,F,o),Wt(b,I,O,o),Wt(_,E,O,o),Wt(_,E,F,o)]}function Fx(u,o,h,A){const _=1<<h.z,b=(u/zn+h.x)/_;return xn(ia((o/zn+h.y)/_),wi(b),A)}function yE({min:u,max:o}){return mt/Math.max(o[0]-u[0],o[1]-u[1],o[2]-u[2])}const fH=new Float64Array(16);function bE(u){const o=yE(u),h=a.a6.fromScaling(fH,[o,o,o]);return a.a6.translate(h,h,a.N.negate([],u.min))}function XI(u){const o=a.a6.fromTranslation(fH,u.min),h=1/yE(u);return a.a6.scale(o,o,[h,h,h])}function ZI(u){const o=zn/(2*Math.PI);return u/(2*Math.PI)/o}function pH(u,o){return zn/(512*Math.pow(2,u))*yE(HA(o))}function AH(u,o,h,A,_){const b=ZI(h),E=[u,o,-h/(2*Math.PI)],I=a.a6.identity(new Float64Array(16));return a.a6.translate(I,I,E),a.a6.scale(I,I,[b,b,b]),a.a6.rotateX(I,I,W(-_)),a.a6.rotateY(I,I,W(-A)),I}function q0(u){return ue(At,qe,u)}function mH(u,o){const h=xn(o.lat,o.lng),A=function(b){const E=xn(b._center.lat,b._center.lng),I=a.N.fromValues(0,1,0);let F=a.N.cross([],I,E);const O=a.a6.fromRotation([],-b.angle,E);F=a.N.transformMat4(F,F,O),a.a6.fromRotation(O,-b._pitch,F);const U=a.N.normalize([],E);return a.N.scale(U,U,vE(b.cameraToCenterDistance/b.pixelsPerMeter)),a.N.transformMat4(U,U,O),a.N.add([],E,U)}(u),_=a.N.subtract([],A,h);return a.N.angle(_,h)}function JI(u,o){return mH(u,o)>Math.PI/2*1.01}const gH=W(85),Tme=Math.cos(gH),Bme=Math.sin(gH),Mme=a.a6.create(),vH=u=>{const o=[];return u.paint.get("circle-pitch-alignment")==="map"&&o.push("PITCH_WITH_MAP"),u.paint.get("circle-pitch-scale")==="map"&&o.push("SCALE_WITH_MAP"),o};function _H(u,o,h,A,_,b,E,I,F){if(b&&u.queryGeometry.isAboveHorizon)return!1;b&&(F*=u.pixelToTileUnitsFactor);const O=u.tileID.canonical,U=h.projection.upVectorScale(O,h.center.lat,h.worldSize).metersToTile;for(const K of o)for(const Z of K){const fe=Z.add(I),ge=_&&h.elevation?h.elevation.exaggeration()*_.getElevationAt(fe.x,fe.y,!0):0,xe=h.projection.projectTilePoint(fe.x,fe.y,O);if(ge>0){const lt=h.projection.upVector(O,fe.x,fe.y);xe.x+=lt[0]*U*ge,xe.y+=lt[1]*U*ge,xe.z+=lt[2]*U*ge}const Ie=b?fe:Ime(xe.x,xe.y,xe.z,A),Oe=b?u.tilespaceRays.map(lt=>kme(lt,ge)):u.queryGeometry.screenGeometry,rt=a.a7.transformMat4([],[xe.x,xe.y,xe.z,1],A);if(!E&&b?F*=rt[3]/h.cameraToCenterDistance:E&&!b&&(F*=h.cameraToCenterDistance/rt[3]),b){const lt=ia((Z.y/zn+O.y)/(1<<O.z));F/=h.projection.pixelsPerMeter(lt,1)/Ei(1,lt)}if(zA(Oe,Ie,F))return!0}return!1}function Ime(u,o,h,A){const _=a.a7.transformMat4([],[u,o,h,1],A);return new G(_[0]/_[3],_[1]/_[3])}const yH=a.N.fromValues(0,0,0),Lme=a.N.fromValues(0,0,1);function kme(u,o){const h=a.N.create();return yH[2]=o,u.intersectsPlane(yH,Lme,h),new G(h[0],h[1])}class bH extends bc{}function wH(u,{width:o,height:h},A,_){if(_){if(_ instanceof Uint8ClampedArray)_=new Uint8Array(_.buffer);else if(_.length!==o*h*A)throw new RangeError("mismatched image size")}else _=new Uint8Array(o*h*A);return u.width=o,u.height=h,u.data=_,u}function xH(u,o,h){const{width:A,height:_}=o;A===u.width&&_===u.height||(eL(u,o,{x:0,y:0},{x:0,y:0},{width:Math.min(u.width,A),height:Math.min(u.height,_)},h),u.width=A,u.height=_,u.data=o.data)}function eL(u,o,h,A,_,b,E){if(_.width===0||_.height===0)return o;if(_.width>u.width||_.height>u.height||h.x>u.width-_.width||h.y>u.height-_.height)throw new RangeError("out of range source coordinates for image copy");if(_.width>o.width||_.height>o.height||A.x>o.width-_.width||A.y>o.height-_.height)throw new RangeError("out of range destination coordinates for image copy");const I=u.data,F=o.data,O=b===4&&E;for(let U=0;U<_.height;U++){const K=((h.y+U)*u.width+h.x)*b,Z=((A.y+U)*o.width+A.x)*b;if(O)for(let fe=0;fe<_.width;fe++){const ge=K+fe*b+3,xe=Z+fe*b;F[xe+0]=255,F[xe+1]=255,F[xe+2]=255,F[xe+3]=I[ge]}else for(let fe=0;fe<_.width*b;fe++)F[Z+fe]=I[K+fe]}return o}ze(bH,"HeatmapBucket",{omit:["layers"]});class Y0{constructor(o,h){wH(this,o,1,h)}resize(o){xH(this,new Y0(o),1)}clone(){return new Y0({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(o,h,A,_,b){eL(o,h,A,_,b,1)}}class Md{constructor(o,h){wH(this,o,4,h)}resize(o){xH(this,new Md(o),4)}replace(o,h){h?this.data.set(o):this.data=o instanceof Uint8ClampedArray?new Uint8Array(o.buffer):o}clone(){return new Md({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(o,h,A,_,b,E){eL(o,h,A,_,b,4,E)}}class CH{constructor(o,h){this.width=o.width,this.height=o.height,this.data=h instanceof Uint8Array?new Float32Array(h.buffer):h}}ze(Y0,"AlphaImage"),ze(Md,"RGBAImage");const Pme=new ka({visibility:new jn(rn.layout_heatmap.visibility)});var Fme={paint:new ka({"heatmap-radius":new Cr(rn.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Cr(rn.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new jn(rn.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Io(rn.paint_heatmap["heatmap-color"]),"heatmap-opacity":new jn(rn.paint_heatmap["heatmap-opacity"])}),layout:Pme};function Rx(u){const o={},h=u.resolution||256,A=u.clips?u.clips.length:1,_=u.image||new Md({width:h,height:A}),b=(E,I,F)=>{o[u.evaluationKey]=F;const O=u.expression.evaluate(o);O&&(_.data[E+I+0]=Math.floor(255*O.r/O.a),_.data[E+I+1]=Math.floor(255*O.g/O.a),_.data[E+I+2]=Math.floor(255*O.b/O.a),_.data[E+I+3]=Math.floor(255*O.a))};if(u.clips)for(let E=0,I=0;E<A;++E,I+=4*h)for(let F=0,O=0;F<h;F++,O+=4){const U=F/(h-1),{start:K,end:Z}=u.clips[E];b(I,O,K*(1-U)+Z*U)}else for(let E=0,I=0;E<h;E++,I+=4)b(0,I,E/(h-1));return _}const Rme=new ka({visibility:new jn(rn.layout_hillshade.visibility)});var Ome={paint:new ka({"hillshade-illumination-direction":new jn(rn.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new jn(rn.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new jn(rn.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new jn(rn.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new jn(rn.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new jn(rn.paint_hillshade["hillshade-accent-color"]),"hillshade-emissive-strength":new jn(rn.paint_hillshade["hillshade-emissive-strength"])}),layout:Rme};const Dme=Ba([{name:"a_pos",components:2,type:"Int16"}],4),{members:Nme}=Dme;var tL={exports:{}};function wE(u,o,h){h=h||2;var A,_,b,E,I,F,O,U=o&&o.length,K=U?o[0]*h:u.length,Z=EH(u,0,K,h,!0),fe=[];if(!Z||Z.next===Z.prev)return fe;if(U&&(Z=function(xe,Ie,Oe,rt){var lt,ot,Tt,yt=[];for(lt=0,ot=Ie.length;lt<ot;lt++)(Tt=EH(xe,Ie[lt]*rt,lt<ot-1?Ie[lt+1]*rt:xe.length,rt,!1))===Tt.next&&(Tt.steiner=!0),yt.push(Gme(Tt));for(yt.sort(Hme),lt=0;lt<yt.length;lt++)Oe=Qme(yt[lt],Oe);return Oe}(u,o,Z,h)),u.length>80*h){A=b=u[0],_=E=u[1];for(var ge=h;ge<K;ge+=h)(I=u[ge])<A&&(A=I),(F=u[ge+1])<_&&(_=F),I>b&&(b=I),F>E&&(E=F);O=(O=Math.max(b-A,E-_))!==0?32767/O:0}return Ox(Z,fe,h,A,_,O,0),fe}function EH(u,o,h,A,_){var b,E;if(_===iL(u,o,h,A)>0)for(b=o;b<h;b+=A)E=BH(b,u[b],u[b+1],E);else for(b=h-A;b>=o;b-=A)E=BH(b,u[b],u[b+1],E);return E&&xE(E,E.next)&&(Nx(E),E=E.next),E}function h_(u,o){if(!u)return u;o||(o=u);var h,A=u;do if(h=!1,A.steiner||!xE(A,A.next)&&Go(A.prev,A,A.next)!==0)A=A.next;else{if(Nx(A),(A=o=A.prev)===A.next)break;h=!0}while(h||A!==o);return o}function Ox(u,o,h,A,_,b,E){if(u){!E&&b&&function(U,K,Z,fe){var ge=U;do ge.z===0&&(ge.z=nL(ge.x,ge.y,K,Z,fe)),ge.prevZ=ge.prev,ge.nextZ=ge.next,ge=ge.next;while(ge!==U);ge.prevZ.nextZ=null,ge.prevZ=null,function(xe){var Ie,Oe,rt,lt,ot,Tt,yt,Dt,Gt=1;do{for(Oe=xe,xe=null,ot=null,Tt=0;Oe;){for(Tt++,rt=Oe,yt=0,Ie=0;Ie<Gt&&(yt++,rt=rt.nextZ);Ie++);for(Dt=Gt;yt>0||Dt>0&&rt;)yt!==0&&(Dt===0||!rt||Oe.z<=rt.z)?(lt=Oe,Oe=Oe.nextZ,yt--):(lt=rt,rt=rt.nextZ,Dt--),ot?ot.nextZ=lt:xe=lt,lt.prevZ=ot,ot=lt;Oe=rt}ot.nextZ=null,Gt*=2}while(Tt>1)}(ge)}(u,A,_,b);for(var I,F,O=u;u.prev!==u.next;)if(I=u.prev,F=u.next,b?zme(u,A,_,b):Ume(u))o.push(I.i/h|0),o.push(u.i/h|0),o.push(F.i/h|0),Nx(u),u=F.next,O=F.next;else if((u=F)===O){E?E===1?Ox(u=$me(h_(u),o,h),o,h,A,_,b,2):E===2&&Vme(u,o,h,A,_,b):Ox(h_(u),o,h,A,_,b,1);break}}}function Ume(u){var o=u.prev,h=u,A=u.next;if(Go(o,h,A)>=0)return!1;for(var _=o.x,b=h.x,E=A.x,I=o.y,F=h.y,O=A.y,U=_<b?_<E?_:E:b<E?b:E,K=I<F?I<O?I:O:F<O?F:O,Z=_>b?_>E?_:E:b>E?b:E,fe=I>F?I>O?I:O:F>O?F:O,ge=A.next;ge!==o;){if(ge.x>=U&&ge.x<=Z&&ge.y>=K&&ge.y<=fe&&vb(_,I,b,F,E,O,ge.x,ge.y)&&Go(ge.prev,ge,ge.next)>=0)return!1;ge=ge.next}return!0}function zme(u,o,h,A){var _=u.prev,b=u,E=u.next;if(Go(_,b,E)>=0)return!1;for(var I=_.x,F=b.x,O=E.x,U=_.y,K=b.y,Z=E.y,fe=I<F?I<O?I:O:F<O?F:O,ge=U<K?U<Z?U:Z:K<Z?K:Z,xe=I>F?I>O?I:O:F>O?F:O,Ie=U>K?U>Z?U:Z:K>Z?K:Z,Oe=nL(fe,ge,o,h,A),rt=nL(xe,Ie,o,h,A),lt=u.prevZ,ot=u.nextZ;lt&&lt.z>=Oe&&ot&&ot.z<=rt;){if(lt.x>=fe&&lt.x<=xe&&lt.y>=ge&&lt.y<=Ie&&lt!==_&&lt!==E&&vb(I,U,F,K,O,Z,lt.x,lt.y)&&Go(lt.prev,lt,lt.next)>=0||(lt=lt.prevZ,ot.x>=fe&&ot.x<=xe&&ot.y>=ge&&ot.y<=Ie&&ot!==_&&ot!==E&&vb(I,U,F,K,O,Z,ot.x,ot.y)&&Go(ot.prev,ot,ot.next)>=0))return!1;ot=ot.nextZ}for(;lt&&lt.z>=Oe;){if(lt.x>=fe&&lt.x<=xe&&lt.y>=ge&&lt.y<=Ie&&lt!==_&&lt!==E&&vb(I,U,F,K,O,Z,lt.x,lt.y)&&Go(lt.prev,lt,lt.next)>=0)return!1;lt=lt.prevZ}for(;ot&&ot.z<=rt;){if(ot.x>=fe&&ot.x<=xe&&ot.y>=ge&&ot.y<=Ie&&ot!==_&&ot!==E&&vb(I,U,F,K,O,Z,ot.x,ot.y)&&Go(ot.prev,ot,ot.next)>=0)return!1;ot=ot.nextZ}return!0}function $me(u,o,h){var A=u;do{var _=A.prev,b=A.next.next;!xE(_,b)&&SH(_,A,A.next,b)&&Dx(_,b)&&Dx(b,_)&&(o.push(_.i/h|0),o.push(A.i/h|0),o.push(b.i/h|0),Nx(A),Nx(A.next),A=u=b),A=A.next}while(A!==u);return h_(A)}function Vme(u,o,h,A,_,b){var E=u;do{for(var I=E.next.next;I!==E.prev;){if(E.i!==I.i&&Kme(E,I)){var F=TH(E,I);return E=h_(E,E.next),F=h_(F,F.next),Ox(E,o,h,A,_,b,0),void Ox(F,o,h,A,_,b,0)}I=I.next}E=E.next}while(E!==u)}function Hme(u,o){return u.x-o.x}function Qme(u,o){var h=function(_,b){var E,I=b,F=_.x,O=_.y,U=-1/0;do{if(O<=I.y&&O>=I.next.y&&I.next.y!==I.y){var K=I.x+(O-I.y)*(I.next.x-I.x)/(I.next.y-I.y);if(K<=F&&K>U&&(U=K,E=I.x<I.next.x?I:I.next,K===F))return E}I=I.next}while(I!==b);if(!E)return null;var Z,fe=E,ge=E.x,xe=E.y,Ie=1/0;I=E;do F>=I.x&&I.x>=ge&&F!==I.x&&vb(O<xe?F:U,O,ge,xe,O<xe?U:F,O,I.x,I.y)&&(Z=Math.abs(O-I.y)/(F-I.x),Dx(I,_)&&(Z<Ie||Z===Ie&&(I.x>E.x||I.x===E.x&&jme(E,I)))&&(E=I,Ie=Z)),I=I.next;while(I!==fe);return E}(u,o);if(!h)return o;var A=TH(h,u);return h_(A,A.next),h_(h,h.next)}function jme(u,o){return Go(u.prev,u,o.prev)<0&&Go(o.next,u,u.next)<0}function nL(u,o,h,A,_){return(u=1431655765&((u=858993459&((u=252645135&((u=16711935&((u=(u-h)*_|0)|u<<8))|u<<4))|u<<2))|u<<1))|(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o=(o-A)*_|0)|o<<8))|o<<4))|o<<2))|o<<1))<<1}function Gme(u){var o=u,h=u;do(o.x<h.x||o.x===h.x&&o.y<h.y)&&(h=o),o=o.next;while(o!==u);return h}function vb(u,o,h,A,_,b,E,I){return(_-E)*(o-I)>=(u-E)*(b-I)&&(u-E)*(A-I)>=(h-E)*(o-I)&&(h-E)*(b-I)>=(_-E)*(A-I)}function Kme(u,o){return u.next.i!==o.i&&u.prev.i!==o.i&&!function(h,A){var _=h;do{if(_.i!==h.i&&_.next.i!==h.i&&_.i!==A.i&&_.next.i!==A.i&&SH(_,_.next,h,A))return!0;_=_.next}while(_!==h);return!1}(u,o)&&(Dx(u,o)&&Dx(o,u)&&function(h,A){var _=h,b=!1,E=(h.x+A.x)/2,I=(h.y+A.y)/2;do _.y>I!=_.next.y>I&&_.next.y!==_.y&&E<(_.next.x-_.x)*(I-_.y)/(_.next.y-_.y)+_.x&&(b=!b),_=_.next;while(_!==h);return b}(u,o)&&(Go(u.prev,u,o.prev)||Go(u,o.prev,o))||xE(u,o)&&Go(u.prev,u,u.next)>0&&Go(o.prev,o,o.next)>0)}function Go(u,o,h){return(o.y-u.y)*(h.x-o.x)-(o.x-u.x)*(h.y-o.y)}function xE(u,o){return u.x===o.x&&u.y===o.y}function SH(u,o,h,A){var _=EE(Go(u,o,h)),b=EE(Go(u,o,A)),E=EE(Go(h,A,u)),I=EE(Go(h,A,o));return _!==b&&E!==I||!(_!==0||!CE(u,h,o))||!(b!==0||!CE(u,A,o))||!(E!==0||!CE(h,u,A))||!(I!==0||!CE(h,o,A))}function CE(u,o,h){return o.x<=Math.max(u.x,h.x)&&o.x>=Math.min(u.x,h.x)&&o.y<=Math.max(u.y,h.y)&&o.y>=Math.min(u.y,h.y)}function EE(u){return u>0?1:u<0?-1:0}function Dx(u,o){return Go(u.prev,u,u.next)<0?Go(u,o,u.next)>=0&&Go(u,u.prev,o)>=0:Go(u,o,u.prev)<0||Go(u,u.next,o)<0}function TH(u,o){var h=new rL(u.i,u.x,u.y),A=new rL(o.i,o.x,o.y),_=u.next,b=o.prev;return u.next=o,o.prev=u,h.next=_,_.prev=h,A.next=h,h.prev=A,b.next=A,A.prev=b,A}function BH(u,o,h,A){var _=new rL(u,o,h);return A?(_.next=A.next,_.prev=A,A.next.prev=_,A.next=_):(_.prev=_,_.next=_),_}function Nx(u){u.next.prev=u.prev,u.prev.next=u.next,u.prevZ&&(u.prevZ.nextZ=u.nextZ),u.nextZ&&(u.nextZ.prevZ=u.prevZ)}function rL(u,o,h){this.i=u,this.x=o,this.y=h,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function iL(u,o,h,A){for(var _=0,b=o,E=h-A;b<h;b+=A)_+=(u[E]-u[b])*(u[b+1]+u[E+1]),E=b;return _}tL.exports=wE,tL.exports.default=wE,wE.deviation=function(u,o,h,A){var _=o&&o.length,b=Math.abs(iL(u,0,_?o[0]*h:u.length,h));if(_)for(var E=0,I=o.length;E<I;E++)b-=Math.abs(iL(u,o[E]*h,E<I-1?o[E+1]*h:u.length,h));var F=0;for(E=0;E<A.length;E+=3){var O=A[E]*h,U=A[E+1]*h,K=A[E+2]*h;F+=Math.abs((u[O]-u[K])*(u[U+1]-u[O+1])-(u[O]-u[U])*(u[K+1]-u[O+1]))}return b===0&&F===0?0:Math.abs((F-b)/b)},wE.flatten=function(u){for(var o=u[0][0].length,h={vertices:[],holes:[],dimensions:o},A=0,_=0;_<u.length;_++){for(var b=0;b<u[_].length;b++)for(var E=0;E<o;E++)h.vertices.push(u[_][b][E]);_>0&&h.holes.push(A+=u[_-1].length)}return h};var SE=R(tL.exports);function aL(u,o){const h=u.length;if(h<=1)return[u];const A=[];let _,b;for(let E=0;E<h;E++){const I=je(u[E]);I!==0&&(u[E].area=Math.abs(I),b===void 0&&(b=I<0),b===I<0?(_&&A.push(_),_=[u[E]]):_.push(u[E]))}if(_&&A.push(_),o>1)for(let E=0;E<A.length;E++)A[E].length<=o||(z1(A[E],o,1,A[E].length-1,Wme),A[E]=A[E].slice(0,o));return A}function Wme(u,o){return o.area-u.area}function sL(u,o,h){const A=h.patternDependencies;let _=!1;for(const b of o){const E=b.paint.get(`${u}-pattern`);E.isConstant()||(_=!0);const I=E.constantOr(null);I&&(_=!0,A[I]=!0)}return _}function oL(u,o,h,A,_){const b=_.patternDependencies;for(const E of o){const I=E.paint.get(`${u}-pattern`).value;if(I.kind!=="constant"){let F=I.evaluate({zoom:A},h,{},_.availableImages);F=F&&F.name?F.name:F,b[F]=!0,h.patterns[E.id]=F}}return h}class lL{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(h=>h.fqid),this.index=o.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new tc,this.indexArray=new Cs,this.indexArray2=new Zc,this.programConfigurations=new He(o.layers,o.zoom),this.segments=new Js,this.segments2=new Js,this.stateDependentLayerIds=this.layers.filter(h=>h.isStateDependent()).map(h=>h.id),this.projection=o.projection}populate(o,h,A,_){this.hasPattern=sL("fill",this.layers,h);const b=this.layers[0].layout.get("fill-sort-key"),E=[];for(const{feature:I,id:F,index:O,sourceLayerIndex:U}of o){const K=this.layers[0]._featureFilter.needGeometry,Z=Vo(I,K);if(!this.layers[0]._featureFilter.filter(new Fi(this.zoom),Z,A))continue;const fe=b?b.evaluate(Z,{},A,h.availableImages):void 0,ge={id:F,properties:I.properties,type:I.type,sourceLayerIndex:U,index:O,geometry:K?Z.geometry:ul(I,A,_),patterns:{},sortKey:fe};E.push(ge)}b&&E.sort((I,F)=>I.sortKey-F.sortKey);for(const I of E){const{geometry:F,index:O,sourceLayerIndex:U}=I;if(this.hasPattern){const K=oL("fill",this.layers,I,this.zoom,h);this.patternFeatures.push(K)}else this.addFeature(I,F,O,A,{},h.availableImages,h.brightness);h.featureIndex.insert(o[O].feature,F,O,U,this.index)}}update(o,h,A,_,b){const E=Object.keys(o).length!==0;E&&!this.stateDependentLayers.length||this.programConfigurations.updatePaintArrays(o,h,E?this.stateDependentLayers:this.layers,A,_,b)}addFeatures(o,h,A,_,b,E){for(const I of this.patternFeatures)this.addFeature(I,I.geometry,I.index,h,A,_,E)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,Nme),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.indexBuffer2=o.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(o,h,A,_,b,E=[],I){for(const F of aL(h,500)){let O=0;for(const xe of F)O+=xe.length;const U=this.segments.prepareSegment(O,this.layoutVertexArray,this.indexArray),K=U.vertexLength,Z=[],fe=[];for(const xe of F){if(xe.length===0)continue;xe!==F[0]&&fe.push(Z.length/2);const Ie=this.segments2.prepareSegment(xe.length,this.layoutVertexArray,this.indexArray2),Oe=Ie.vertexLength;this.layoutVertexArray.emplaceBack(xe[0].x,xe[0].y),this.indexArray2.emplaceBack(Oe+xe.length-1,Oe),Z.push(xe[0].x),Z.push(xe[0].y);for(let rt=1;rt<xe.length;rt++)this.layoutVertexArray.emplaceBack(xe[rt].x,xe[rt].y),this.indexArray2.emplaceBack(Oe+rt-1,Oe+rt),Z.push(xe[rt].x),Z.push(xe[rt].y);Ie.vertexLength+=xe.length,Ie.primitiveLength+=xe.length}const ge=SE(Z,fe);for(let xe=0;xe<ge.length;xe+=3)this.indexArray.emplaceBack(K+ge[xe],K+ge[xe+1],K+ge[xe+2]);U.vertexLength+=O,U.primitiveLength+=ge.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,A,b,E,_,I)}}ze(lL,"FillBucket",{omit:["layers","patternFeatures"]});const qme=new ka({"fill-sort-key":new Cr(rn.layout_fill["fill-sort-key"]),visibility:new jn(rn.layout_fill.visibility)});var Yme={paint:new ka({"fill-antialias":new jn(rn.paint_fill["fill-antialias"]),"fill-opacity":new Cr(rn.paint_fill["fill-opacity"]),"fill-color":new Cr(rn.paint_fill["fill-color"]),"fill-outline-color":new Cr(rn.paint_fill["fill-outline-color"]),"fill-translate":new jn(rn.paint_fill["fill-translate"]),"fill-translate-anchor":new jn(rn.paint_fill["fill-translate-anchor"]),"fill-pattern":new Cr(rn.paint_fill["fill-pattern"]),"fill-emissive-strength":new jn(rn.paint_fill["fill-emissive-strength"])}),layout:qme};const Xme=Ba([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),Zme=Ba([{name:"a_pos_end",components:4,type:"Int16"},{name:"a_angular_offset_factor",components:1,type:"Int16"}]),Jme=Ba([{name:"a_centroid_pos",components:2,type:"Uint16"}]),ege=Ba([{name:"a_hidden_by_landmark",components:1,type:"Uint8"}]),tge=Ba([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:nge}=Xme;var TE={},rge=j,MH=_b;function _b(u,o,h,A,_){this.properties={},this.extent=h,this.type=0,this._pbf=u,this._geometry=-1,this._keys=A,this._values=_,u.readFields(ige,this,o)}function ige(u,o,h){u==1?o.id=h.readVarint():u==2?function(A,_){for(var b=A.readVarint()+A.pos;A.pos<b;){var E=_._keys[A.readVarint()],I=_._values[A.readVarint()];_.properties[E]=I}}(h,o):u==3?o.type=h.readVarint():u==4&&(o._geometry=h.pos)}function age(u){for(var o,h,A=0,_=0,b=u.length,E=b-1;_<b;E=_++)A+=((h=u[E]).x-(o=u[_]).x)*(o.y+h.y);return A}_b.types=["Unknown","Point","LineString","Polygon"],_b.prototype.loadGeometry=function(){var u=this._pbf;u.pos=this._geometry;for(var o,h=u.readVarint()+u.pos,A=1,_=0,b=0,E=0,I=[];u.pos<h;){if(_<=0){var F=u.readVarint();A=7&F,_=F>>3}if(_--,A===1||A===2)b+=u.readSVarint(),E+=u.readSVarint(),A===1&&(o&&I.push(o),o=[]),o.push(new rge(b,E));else{if(A!==7)throw new Error("unknown command "+A);o&&o.push(o[0].clone())}}return o&&I.push(o),I},_b.prototype.bbox=function(){var u=this._pbf;u.pos=this._geometry;for(var o=u.readVarint()+u.pos,h=1,A=0,_=0,b=0,E=1/0,I=-1/0,F=1/0,O=-1/0;u.pos<o;){if(A<=0){var U=u.readVarint();h=7&U,A=U>>3}if(A--,h===1||h===2)(_+=u.readSVarint())<E&&(E=_),_>I&&(I=_),(b+=u.readSVarint())<F&&(F=b),b>O&&(O=b);else if(h!==7)throw new Error("unknown command "+h)}return[E,F,I,O]},_b.prototype.toGeoJSON=function(u,o,h){var A,_,b=this.extent*Math.pow(2,h),E=this.extent*u,I=this.extent*o,F=this.loadGeometry(),O=_b.types[this.type];function U(fe){for(var ge=0;ge<fe.length;ge++){var xe=fe[ge];fe[ge]=[360*(xe.x+E)/b-180,360/Math.PI*Math.atan(Math.exp((180-360*(xe.y+I)/b)*Math.PI/180))-90]}}switch(this.type){case 1:var K=[];for(A=0;A<F.length;A++)K[A]=F[A][0];U(F=K);break;case 2:for(A=0;A<F.length;A++)U(F[A]);break;case 3:for(F=function(fe){var ge=fe.length;if(ge<=1)return[fe];for(var xe,Ie,Oe=[],rt=0;rt<ge;rt++){var lt=age(fe[rt]);lt!==0&&(Ie===void 0&&(Ie=lt<0),Ie===lt<0?(xe&&Oe.push(xe),xe=[fe[rt]]):xe.push(fe[rt]))}return xe&&Oe.push(xe),Oe}(F),A=0;A<F.length;A++)for(_=0;_<F[A].length;_++)U(F[A][_])}F.length===1?F=F[0]:O="Multi"+O;var Z={type:"Feature",geometry:{type:O,coordinates:F},properties:this.properties};return"id"in this&&(Z.id=this.id),Z};var sge=MH,IH=LH;function LH(u,o){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=u,this._keys=[],this._values=[],this._features=[],u.readFields(oge,this,o),this.length=this._features.length}function oge(u,o,h){u===15?o.version=h.readVarint():u===1?o.name=h.readString():u===5?o.extent=h.readVarint():u===2?o._features.push(h.pos):u===3?o._keys.push(h.readString()):u===4&&o._values.push(function(A){for(var _=null,b=A.readVarint()+A.pos;A.pos<b;){var E=A.readVarint()>>3;_=E===1?A.readString():E===2?A.readFloat():E===3?A.readDouble():E===4?A.readVarint64():E===5?A.readVarint():E===6?A.readSVarint():E===7?A.readBoolean():null}return _}(h))}LH.prototype.feature=function(u){if(u<0||u>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[u];var o=this._pbf.readVarint()+this._pbf.pos;return new sge(this._pbf,o,this.extent,this._keys,this._values)};var lge=IH;function uge(u,o,h){if(u===3){var A=new lge(h,h.readVarint()+h.pos);A.length&&(o[A.name]=A)}}var uL=TE.VectorTile=function(u,o){this.layers=u.readFields(uge,{},o)},BE=TE.VectorTileFeature=MH;function ME(u,o,h,A){const _=[],b=A===0?(E,I,F,O,U,K)=>{E.push(new G(K,F+(K-I)/(O-I)*(U-F)))}:(E,I,F,O,U,K)=>{E.push(new G(I+(K-F)/(U-F)*(O-I),K))};for(const E of u){const I=[];for(const F of E){if(F.length<=2)continue;const O=[];for(let Z=0;Z<F.length-1;Z++){const fe=F[Z].x,ge=F[Z].y,xe=F[Z+1].x,Ie=F[Z+1].y,Oe=A===0?fe:ge,rt=A===0?xe:Ie;Oe<o?rt>o&&b(O,fe,ge,xe,Ie,o):Oe>h?rt<h&&b(O,fe,ge,xe,Ie,h):O.push(F[Z]),rt<o&&Oe>=o&&b(O,fe,ge,xe,Ie,o),rt>h&&Oe<=h&&b(O,fe,ge,xe,Ie,h)}let U=F[F.length-1];const K=A===0?U.x:U.y;K>=o&&K<=h&&O.push(U),O.length&&(U=O[O.length-1],O[0].x===U.x&&O[0].y===U.y||O.push(O[0]),I.push(O))}I.length&&_.push(I)}return _}function IE(u,o){return u.x-o.x||u.y-o.y}function kH(u,o){return IE(u.min,o.min)===0&&IE(u.max,o.max)===0}function PH(u,o){return!(u.min.x>o.max.x||u.max.x<o.min.x||u.min.y>o.max.y||u.max.y<o.min.y)}function FH(u,o,h){const A=1/zn,_=1/(1<<h.canonical.z),b=(o.x*A+h.canonical.x)*_+h.wrap,E=(o.y*A+h.canonical.y)*_;return{min:new G((u.x*A+h.canonical.x)*_+h.wrap,(u.y*A+h.canonical.y)*_),max:new G(b,E)}}function cge(u,o,h){const A=1<<h.canonical.z,_=((o.x-h.wrap)*A-h.canonical.x)*zn,b=(o.y*A-h.canonical.y)*zn;return{min:new G(((u.x-h.wrap)*A-h.canonical.x)*zn,(u.y*A-h.canonical.y)*zn),max:new G(_,b)}}function RH(u,o,h,A,_,b,E){const I=u.indices,F=u.vertices,O=[];for(let U=A;U<A+_;U+=3){const K=o[h[U+0]+b],Z=o[h[U+1]+b],fe=o[h[U+2]+b],ge=Math.min(K.x,Z.x,fe.x),xe=Math.max(K.x,Z.x,fe.x),Ie=Math.min(K.y,Z.y,fe.y),Oe=Math.max(K.y,Z.y,fe.y);O.length=0,u.grid.query(new G(ge,Ie),new G(xe,Oe),O);for(let rt=0;rt<O.length;rt++){const lt=O[rt];if(II(F[I[3*lt+0]],F[I[3*lt+1]],F[I[3*lt+2]],K,Z,fe,E))return!0}}return!1}function OH(u,o,h,A){if(!u||!h)return!1;let _=u.vertices;if(!o.canonical.equals(A.canonical)||o.wrap!==A.wrap){if(h.vertices.length<u.vertices.length)return OH(h,A,u,o);const b=o.canonical,E=A.canonical,I=Math.pow(2,E.z-b.z);_=u.vertices.map(F=>new G(F.x*b.x*zn*I-E.x*zn,F.y*b.y*zn*I-E.y*zn))}return RH(h,_,u.indices,0,u.indices.length,0,0)}TE.VectorTileLayer=IH;class DH{constructor(o){this.size=o,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(o,h){const A=this.toIdx(o,h);return{min:this.minimums[A],max:this.maximums[A]}}isLeaf(o,h){return this.leaves[this.toIdx(o,h)]}toIdx(o,h){return h*this.size+o}}function NH(u,o,h,A){let _=0,b=Number.MAX_VALUE;for(let E=0;E<3;E++)if(Math.abs(A[E])<1e-15){if(h[E]<u[E]||h[E]>o[E])return null}else{const I=1/A[E];let F=(u[E]-h[E])*I,O=(o[E]-h[E])*I;if(F>O){const U=F;F=O,O=U}if(F>_&&(_=F),O<b&&(b=O),_>b)return null}return _}function UH(u,o,h,A,_,b,E,I,F,O,U){const K=A-u,Z=_-o,fe=b-h,ge=E-u,xe=I-o,Ie=F-h,Oe=U[1]*Ie-U[2]*xe,rt=U[2]*ge-U[0]*Ie,lt=U[0]*xe-U[1]*ge,ot=K*Oe+Z*rt+fe*lt;if(Math.abs(ot)<1e-15)return null;const Tt=1/ot,yt=O[0]-u,Dt=O[1]-o,Gt=O[2]-h,Xt=(yt*Oe+Dt*rt+Gt*lt)*Tt;if(Xt<0||Xt>1)return null;const pn=Dt*fe-Gt*Z,en=Gt*K-yt*fe,Sn=yt*Z-Dt*K,Dn=(U[0]*pn+U[1]*en+U[2]*Sn)*Tt;return Dn<0||Xt+Dn>1?null:(ge*pn+xe*en+Ie*Sn)*Tt}function zH(u,o,h){return(u-o)/(h-o)}function $H(u,o,h,A,_,b,E,I,F){const O=1<<h,U=b-A,K=E-_,Z=(u+1)/O*U+A,fe=(o+0)/O*K+_,ge=(o+1)/O*K+_;I[0]=(u+0)/O*U+A,I[1]=fe,F[0]=Z,F[1]=ge}class VH{constructor(o){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=o,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const h=function(b){const E=Math.ceil(Math.log2(b.dim/8)),I=[];let F=Math.ceil(Math.pow(2,E));const O=1/F,U=(fe,ge,xe,Ie,Oe)=>{const rt=Ie?1:0,lt=(fe+1)*xe-rt,ot=ge*xe,Tt=(ge+1)*xe-rt;Oe[0]=fe*xe,Oe[1]=ot,Oe[2]=lt,Oe[3]=Tt};let K=new DH(F);const Z=[];for(let fe=0;fe<F*F;fe++){U(fe%F,Math.floor(fe/F),O,!1,Z);const ge=X0(Z[0],Z[1],b),xe=X0(Z[2],Z[1],b),Ie=X0(Z[2],Z[3],b),Oe=X0(Z[0],Z[3],b);K.minimums.push(Math.min(ge,xe,Ie,Oe)),K.maximums.push(Math.max(ge,xe,Ie,Oe)),K.leaves.push(1)}for(I.push(K),F/=2;F>=1;F/=2){const fe=I[I.length-1];K=new DH(F);for(let ge=0;ge<F*F;ge++){U(ge%F,Math.floor(ge/F),2,!0,Z);const xe=fe.getElevation(Z[0],Z[1]),Ie=fe.getElevation(Z[2],Z[1]),Oe=fe.getElevation(Z[2],Z[3]),rt=fe.getElevation(Z[0],Z[3]),lt=fe.isLeaf(Z[0],Z[1]),ot=fe.isLeaf(Z[2],Z[1]),Tt=fe.isLeaf(Z[2],Z[3]),yt=fe.isLeaf(Z[0],Z[3]),Dt=Math.min(xe.min,Ie.min,Oe.min,rt.min),Gt=Math.max(xe.max,Ie.max,Oe.max,rt.max),Xt=lt&&ot&&Tt&&yt;K.maximums.push(Gt),K.minimums.push(Dt),K.leaves.push(Gt-Dt<=5&&Xt?1:0)}I.push(K)}return I}(this.dem),A=h.length-1,_=h[A];this._addNode(_.minimums[0],_.maximums[0],_.leaves[0]),this._construct(h,0,0,A,0)}raycastRoot(o,h,A,_,b,E,I=1){return NH([o,h,-100],[A,_,this.maximums[0]*I],b,E)}raycast(o,h,A,_,b,E,I=1){if(!this.nodeCount)return null;const F=this.raycastRoot(o,h,A,_,b,E,I);if(F==null)return null;const O=[],U=[],K=[],Z=[],fe=[{idx:0,t:F,nodex:0,nodey:0,depth:0}];for(;fe.length>0;){const{idx:ge,t:xe,nodex:Ie,nodey:Oe,depth:rt}=fe.pop();if(this.leaves[ge]){$H(Ie,Oe,rt,o,h,A,_,K,Z);const ot=1<<rt,Tt=(Ie+0)/ot,yt=(Ie+1)/ot,Dt=(Oe+0)/ot,Gt=(Oe+1)/ot,Xt=X0(Tt,Dt,this.dem)*I,pn=X0(yt,Dt,this.dem)*I,en=X0(yt,Gt,this.dem)*I,Sn=X0(Tt,Gt,this.dem)*I,Dn=UH(K[0],K[1],Xt,Z[0],K[1],pn,Z[0],Z[1],en,b,E),yn=UH(Z[0],Z[1],en,K[0],Z[1],Sn,K[0],K[1],Xt,b,E),On=Math.min(Dn!==null?Dn:Number.MAX_VALUE,yn!==null?yn:Number.MAX_VALUE);if(On!==Number.MAX_VALUE)return On;{const gn=a.N.scaleAndAdd([],b,E,xe);if(HH(Xt,pn,Sn,en,zH(gn[0],K[0],Z[0]),zH(gn[1],K[1],Z[1]))>=gn[2])return xe}continue}let lt=0;for(let ot=0;ot<this._siblingOffset.length;ot++){$H((Ie<<1)+this._siblingOffset[ot][0],(Oe<<1)+this._siblingOffset[ot][1],rt+1,o,h,A,_,K,Z),K[2]=-100,Z[2]=this.maximums[this.childOffsets[ge]+ot]*I;const Tt=NH(K,Z,b,E);if(Tt!=null){const yt=Tt;O[ot]=yt;let Dt=!1;for(let Gt=0;Gt<lt&&!Dt;Gt++)yt>=O[U[Gt]]&&(U.splice(Gt,0,ot),Dt=!0);Dt||(U[lt]=ot),lt++}}for(let ot=0;ot<lt;ot++){const Tt=U[ot];fe.push({idx:this.childOffsets[ge]+Tt,t:O[Tt],nodex:(Ie<<1)+this._siblingOffset[Tt][0],nodey:(Oe<<1)+this._siblingOffset[Tt][1],depth:rt+1})}}return null}_addNode(o,h,A){return this.minimums.push(o),this.maximums.push(h),this.leaves.push(A),this.childOffsets.push(0),this.nodeCount++}_construct(o,h,A,_,b){if(o[_].isLeaf(h,A)===1)return;this.childOffsets[b]||(this.childOffsets[b]=this.nodeCount);const E=_-1,I=o[E];let F=0,O=0;for(let U=0;U<this._siblingOffset.length;U++){const K=2*h+this._siblingOffset[U][0],Z=2*A+this._siblingOffset[U][1],fe=I.getElevation(K,Z),ge=I.isLeaf(K,Z),xe=this._addNode(fe.min,fe.max,ge);ge&&(F|=1<<U),O||(O=xe)}for(let U=0;U<this._siblingOffset.length;U++)F&1<<U||this._construct(o,2*h+this._siblingOffset[U][0],2*A+this._siblingOffset[U][1],E,O+U)}}function HH(u,o,h,A,_,b){return Di(Di(u,h,b),Di(o,A,b),_)}function X0(u,o,h){const A=h.dim,_=ce(u*A-.5,0,A-1),b=ce(o*A-.5,0,A-1),E=Math.floor(_),I=Math.floor(b),F=Math.min(E+1,A-1),O=Math.min(I+1,A-1);return HH(h.get(E,I),h.get(F,I),h.get(E,O),h.get(F,O),_-E,b-I)}const hge={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};function dge(u,o,h){return(256*u*256+256*o+h)/10-1e4}function fge(u,o,h){return 256*u+o+h/256-32768}class LE{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(o,h,A,_=!1){if(this.uid=o,h.height!==h.width)throw new RangeError("DEM tiles must be square");if(A&&A!=="mapbox"&&A!=="terrarium")return Ge(`"${A}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=h.height;const b=this.dim=h.height-2,E=new Uint32Array(h.data.buffer);if(this.pixels=new Uint8Array(h.data.buffer),this.floatView=new Float32Array(h.data.buffer),this.borderReady=_,this._modifiedForSources={},!_){for(let F=0;F<b;F++)E[this._idx(-1,F)]=E[this._idx(0,F)],E[this._idx(b,F)]=E[this._idx(b-1,F)],E[this._idx(F,-1)]=E[this._idx(F,0)],E[this._idx(F,b)]=E[this._idx(F,b-1)];E[this._idx(-1,-1)]=E[this._idx(0,0)],E[this._idx(b,-1)]=E[this._idx(b-1,0)],E[this._idx(-1,b)]=E[this._idx(0,b-1)],E[this._idx(b,b)]=E[this._idx(b-1,b-1)]}const I=A==="terrarium"?fge:dge;for(let F=0;F<E.length;++F){const O=4*F;this.floatView[F]=I(this.pixels[O],this.pixels[O+1],this.pixels[O+2])}this._timestamp=kt.now()}_buildQuadTree(){this._tree=new VH(this)}get(o,h,A=!1){A&&(o=ce(o,-1,this.dim),h=ce(h,-1,this.dim));const _=this._idx(o,h);return this.floatView[_]}set(o,h,A){const _=this._idx(o,h),b=this.floatView[_];return this.floatView[_]=A,A-b}static getUnpackVector(o){return hge[o]}_idx(o,h){if(o<-1||o>=this.dim+1||h<-1||h>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(h+1)*this.stride+(o+1)}static pack(o,h){const A=[0,0,0,0],_=LE.getUnpackVector(h);let b=Math.floor((o+_[3])/_[2]);return A[2]=b%256,b=Math.floor(b/256),A[1]=b%256,b=Math.floor(b/256),A[0]=b,A}getPixels(){return new CH({width:this.stride,height:this.stride},this.pixels)}backfillBorder(o,h,A){if(this.dim!==o.dim)throw new Error("dem dimension mismatch");let _=h*this.dim,b=h*this.dim+this.dim,E=A*this.dim,I=A*this.dim+this.dim;switch(h){case-1:_=b-1;break;case 1:b=_+1}switch(A){case-1:E=I-1;break;case 1:I=E+1}const F=-h*this.dim,O=-A*this.dim;for(let U=E;U<I;U++)for(let K=_;K<b;K++){const Z=4*this._idx(K,U),fe=4*this._idx(K+F,U+O);this.pixels[Z+0]=o.pixels[fe+0],this.pixels[Z+1]=o.pixels[fe+1],this.pixels[Z+2]=o.pixels[fe+2],this.pixels[Z+3]=o.pixels[fe+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}ze(LE,"DEMData"),ze(VH,"DemMinMaxQuadTree",{omit:["dem"]});class yb{constructor(o,h,A){this._demTile=o,this._dem=this._demTile.dem,this._scale=h,this._offset=A}static create(o,h,A){const _=A||o.findDEMTileFor(h);if(!_||!_.dem)return;const b=_.dem,E=_.tileID,I=1<<h.canonical.z-E.canonical.z;return new yb(_,b.dim/zn/I,[(h.canonical.x/I-E.canonical.x)*b.dim,(h.canonical.y/I-E.canonical.y)*b.dim])}tileCoordToPixel(o,h){const A=h*this._scale+this._offset[1],_=Math.floor(o*this._scale+this._offset[0]),b=Math.floor(A);return new G(_,b)}getElevationAt(o,h,A,_){const b=o*this._scale+this._offset[0],E=h*this._scale+this._offset[1],I=Math.floor(b),F=Math.floor(E),O=this._dem;return _=!!_,A?Di(Di(O.get(I,F,_),O.get(I,F+1,_),E-F),Di(O.get(I+1,F,_),O.get(I+1,F+1,_),E-F),b-I):O.get(I,F,_)}getElevationAtPixel(o,h,A){return this._dem.get(o,h,!!A)}getMeterToDEM(o){return(1<<this._demTile.tileID.canonical.z)*Ei(1,o)*this._dem.stride}}const pge=BE.types,Age=["fill-extrusion-base","fill-extrusion-height","fill-extrusion-color","fill-extrusion-pattern","fill-extrusion-flood-light-wall-radius"],mge=["fill-extrusion-flood-light-ground-radius"],gge=Math.pow(2,13),vge=Math.pow(2,15)-1,QH=new G(0,1),Z0=2147483648;function Ux(u,o,h,A,_,b,E,I){u.emplaceBack((o<<1)+E,(h<<1)+b,(Math.floor(A*gge)<<1)+_,Math.round(I))}function kE(u,o,h,A,_,b){u.emplaceBack(o.x,o.y,(h.x<<1)+A,(h.y<<1)+_,b)}function zx(u,o,h){u.emplaceBack(o.x,o.y,o.z,h[0]*16384,h[1]*16384,h[2]*16384)}class jH{constructor(){this.vertexOffset=0,this.vertexCount=0,this.indexOffset=0,this.indexCount=0}}class GH{constructor(){this.centroidXY=new G(0,0),this.vertexArrayOffset=0,this.vertexCount=0,this.groundVertexArrayOffset=0,this.groundVertexCount=0,this.flags=0,this.footprintSegIdx=-1,this.footprintSegLen=0,this.polygonSegIdx=-1,this.polygonSegLen=0,this.min=new G(Number.MAX_VALUE,Number.MAX_VALUE),this.max=new G(-Number.MAX_VALUE,-Number.MAX_VALUE),this.height=0}span(){return new G(this.max.x-this.min.x,this.max.y-this.min.y)}}class KH{constructor(){this.acc=new G(0,0),this.accCount=0,this.centroidDataIndex=0}startRing(o,h){o.min.x===Number.MAX_VALUE&&(o.min.x=o.max.x=h.x,o.min.y=o.max.y=h.y)}appendEdge(o,h,A){this.accCount++,this.acc._add(h);let _=!!this.borders;h.x<o.min.x?(o.min.x=h.x,_=!0):h.x>o.max.x&&(o.max.x=h.x,_=!0),h.y<o.min.y?(o.min.y=h.y,_=!0):h.y>o.max.y&&(o.max.y=h.y,_=!0),((h.x===0||h.x===zn)&&h.x===A.x)!=((h.y===0||h.y===zn)&&h.y===A.y)&&this.processBorderOverlap(h,A),_&&this.checkBorderIntersection(h,A)}checkBorderIntersection(o,h){h.x<0!=o.x<0&&this.addBorderIntersection(0,Di(h.y,o.y,(0-h.x)/(o.x-h.x))),h.x>zn!=o.x>zn&&this.addBorderIntersection(1,Di(h.y,o.y,(zn-h.x)/(o.x-h.x))),h.y<0!=o.y<0&&this.addBorderIntersection(2,Di(h.x,o.x,(0-h.y)/(o.y-h.y))),h.y>zn!=o.y>zn&&this.addBorderIntersection(3,Di(h.x,o.x,(zn-h.y)/(o.y-h.y)))}addBorderIntersection(o,h){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const A=this.borders[o];h<A[0]&&(A[0]=h),h>A[1]&&(A[1]=h)}processBorderOverlap(o,h){if(o.x===h.x){if(o.y===h.y)return;const A=o.x===0?0:1;this.addBorderIntersection(A,h.y),this.addBorderIntersection(A,o.y)}else{const A=o.y===0?2:3;this.addBorderIntersection(A,h.x),this.addBorderIntersection(A,o.x)}}centroid(){return this.accCount===0?new G(0,0):new G(Math.floor(Math.max(0,this.acc.x)/this.accCount),Math.floor(Math.max(0,this.acc.y)/this.accCount))}intersectsCount(){return this.borders?this.borders.reduce((o,h)=>o+ +(h[0]!==Number.MAX_VALUE),0):0}}function WH(u,o){const h=u.add(o)._unit(),A=ce(u.x*h.x+u.y*h.y,-1,1);var _,b,E;return _=Math.acos(A),Math.min(4,Math.max(-4,Math.tan(_)))/4*vge*((b=u).x*(E=o).y-b.y*E.x<0?-1:1)}const _ge=[u=>u.x<0,u=>u.x>zn,u=>u.y<0,u=>u.y>zn];function yge(u,o,h,A){const _=[4];if(A===0)return _;h._mult(A);const b=u.sub(h),E=o.sub(h),I=[u,o,b,E];for(let F=0;F<4;F++)for(const O of I)if(_ge[F](O)){_.push(F);break}return _}class qH{constructor(o){this.vertexArray=new Z1,this.indexArray=new Cs,this.programConfigurations=new He(o.layers,o.zoom,h=>mge.includes(h)),this._segments=new Js,this.hiddenByLandmarkVertexArray=new vg,this._segmentToGroundQuads={},this._segmentToGroundQuads[0]=[],this._segmentToRegionTriCounts={},this._segmentToRegionTriCounts[0]=[0,0,0,0,0],this.regionSegments={},this.regionSegments[4]=new Js}getDefaultSegment(){return this.regionSegments[4]}hasData(){return this.vertexArray.length!==0}addData(o,h,A,_=!1){const b=o.length;if(b>2){let E=Math.max(0,this._segments.get().length-1);const I=this._segments._prepareSegment(4*b,this.vertexArray.length,2*this._segmentToGroundQuads[E].length);let F;E!==this._segments.get().length-1&&(E++,this._segmentToGroundQuads[E]=[],this._segmentToRegionTriCounts[E]=[0,0,0,0,0]);{const O=o[0],U=o[1];F=WH(O.sub(o[b-1])._perp()._unit(),U.sub(O)._perp()._unit())}for(let O=0;O<b;O++){const U=O===b-1?0:O+1,K=o[O],Z=o[U],fe=o[U===b-1?0:U+1],ge=Z.sub(K)._perp()._unit(),xe=WH(ge,fe.sub(Z)._perp()._unit()),Ie=F,Oe=xe;if(cL(K,Z,h)||_&&ZH(K,h)&&ZH(Z,h)){F=xe;continue}const rt=I.vertexLength;kE(this.vertexArray,K,Z,1,1,Ie),kE(this.vertexArray,K,Z,1,0,Ie),kE(this.vertexArray,K,Z,0,1,Oe),kE(this.vertexArray,K,Z,0,0,Oe),I.vertexLength+=4;const lt=yge(K,Z,ge,A);for(const ot of lt)this._segmentToGroundQuads[E].push({id:rt,region:ot}),this._segmentToRegionTriCounts[E][ot]+=2,I.primitiveLength+=2;F=xe}}}prepareBorderSegments(){if(!this.hasData())return;const o=this._segments.get(),h=o.length;for(let A=0;A<h;A++)this._segmentToGroundQuads[A].sort((_,b)=>_.region-b.region);for(let A=0;A<h;A++){const _=this._segmentToGroundQuads[A],b=o[A],E=this._segmentToRegionTriCounts[A];E.reduce((F,O)=>F+O,0);let I=0;for(let F=0;F<=4;F++){const O=E[F];if(O!==0){let U=this.regionSegments[F];U||(U=this.regionSegments[F]=new Js);const K={vertexOffset:b.vertexOffset,primitiveOffset:b.primitiveOffset+I,vertexLength:b.vertexLength,primitiveLength:O};U.get().push(K)}I+=O}for(let F=0;F<_.length;F++){const O=_[F].id;this.indexArray.emplaceBack(O,O+1,O+3),this.indexArray.emplaceBack(O,O+3,O+2)}}this._segmentToGroundQuads=null,this._segmentToRegionTriCounts=null,this._segments.destroy(),this._segments=null}addPaintPropertiesData(o,h,A,_,b,E){this.hasData()&&this.programConfigurations.populatePaintArrays(this.vertexArray.length,o,h,A,_,b,E)}upload(o){this.hasData()&&(this.vertexBuffer=o.createVertexBuffer(this.vertexArray,Zme.members),this.indexBuffer=o.createIndexBuffer(this.indexArray))}uploadPaintProperties(o){this.hasData()&&this.programConfigurations.upload(o)}update(o,h,A,_,b,E){this.hasData()&&this.programConfigurations.updatePaintArrays(o,h,A,_,b,E)}updateHiddenByLandmark(o){if(!this.hasData())return;const h=o.groundVertexCount+o.groundVertexArrayOffset;if(o.groundVertexCount===0)return;const A=o.flags&Z0?1:0;for(let _=o.groundVertexArrayOffset;_<h;++_)this.hiddenByLandmarkVertexArray.emplace(_,A);this._needsHiddenByLandmarkUpdate=!0}uploadHiddenByLandmark(o){this.hasData()&&this._needsHiddenByLandmarkUpdate&&(!this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexArray.length>0?this.hiddenByLandmarkVertexBuffer=o.createVertexBuffer(this.hiddenByLandmarkVertexArray,ege.members,!0):this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexBuffer.updateData(this.hiddenByLandmarkVertexArray),this._needsHiddenByLandmarkUpdate=!1)}destroy(){if(this.vertexBuffer){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexBuffer.destroy(),this._segments&&this._segments.destroy(),this.programConfigurations.destroy();for(let o=0;o<=4;o++){const h=this.regionSegments[o];h&&h.destroy()}}}}class PE{constructor(o){this.zoom=o.zoom,this.canonical=o.canonical,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(h=>h.fqid),this.index=o.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=o.projection,this.activeReplacements=[],this.replacementUpdateTime=0,this.centroidData=[],this.footprintIndices=new Cs,this.footprintVertices=new tc,this.footprintSegments=[],this.layoutVertexArray=new bd,this.centroidVertexArray=new r_,this.indexArray=new Cs,this.programConfigurations=new He(o.layers,o.zoom,h=>Age.includes(h)),this.segments=new Js,this.stateDependentLayerIds=this.layers.filter(h=>h.isStateDependent()).map(h=>h.id),this.groundEffect=new qH(o),this.maxHeight=0,this.partLookup={},this.triangleSubSegments=[],this.polygonSegments=[]}populate(o,h,A,_){this.features=[],this.hasPattern=sL("fill-extrusion",this.layers,h),this.featuresOnBorder=[],this.borderFeatureIndices=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=Zi(A),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:b,id:E,index:I,sourceLayerIndex:F}of o){const O=this.layers[0]._featureFilter.needGeometry,U=Vo(b,O);if(!this.layers[0]._featureFilter.filter(new Fi(this.zoom),U,A))continue;const K={id:E,sourceLayerIndex:F,index:I,geometry:O?U.geometry:ul(b,A,_),properties:b.properties,type:b.type,patterns:{}},Z=this.layoutVertexArray.length;this.hasPattern?this.features.push(oL("fill-extrusion",this.layers,K,this.zoom,h)):this.addFeature(K,K.geometry,I,A,{},h.availableImages,_,h.brightness),h.featureIndex.insert(b,K.geometry,I,F,this.index,Z)}this.sortBorders(),this.projection.name==="mercator"&&this.splitToSubtiles(),this.groundEffect.prepareBorderSegments(),this.polygonSegments.length=0}addFeatures(o,h,A,_,b,E){for(const I of this.features){const{geometry:F}=I;this.addFeature(I,F,I.index,h,A,_,b,E)}this.sortBorders(),this.projection.name==="mercator"&&this.splitToSubtiles()}update(o,h,A,_,b){const E=Object.keys(o).length!==0;if(E&&!this.stateDependentLayers.length)return;const I=E?this.stateDependentLayers:this.layers;this.programConfigurations.updatePaintArrays(o,h,I,A,_,b),this.groundEffect.update(o,h,I,A,_,b)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload||this.groundEffect.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,nge),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=o.createVertexBuffer(this.layoutVertexExtArray,tge.members,!0)),this.groundEffect.upload(o)),this.groundEffect.uploadPaintProperties(o),this.programConfigurations.upload(o),this.uploaded=!0}uploadCentroid(o){this.groundEffect.uploadHiddenByLandmark(o),this.needsCentroidUpdate&&(!this.centroidVertexBuffer&&this.centroidVertexArray.length>0?this.centroidVertexBuffer=o.createVertexBuffer(this.centroidVertexArray,Jme.members,!0):this.centroidVertexBuffer&&this.centroidVertexBuffer.updateData(this.centroidVertexArray),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.groundEffect.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(o,h,A,_,b,E,I,F){const O=this.layers[0].paint.get("fill-extrusion-flood-light-ground-radius").evaluate(o,{})/this.tileToMeter,U=[new G(0,0),new G(zn,zn)],K=I.projection,Z=K.name==="globe",fe=pge[o.type]==="Polygon",ge=new KH;ge.centroidDataIndex=this.centroidData.length;const xe=new GH,Ie=this.layers[0].paint.get("fill-extrusion-base").evaluate(o,{},_)<=0,Oe=this.layers[0].paint.get("fill-extrusion-height").evaluate(o,{},_);xe.height=Oe,xe.vertexArrayOffset=this.layoutVertexArray.length,xe.groundVertexArrayOffset=this.groundEffect.vertexArray.length,Z&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new hg);const rt=aL(h,500);for(let Gt=rt.length-1;Gt>=0;Gt--){const Xt=rt[Gt];(Xt.length===0||(lt=Xt[0]).every(pn=>pn.x<=0)||lt.every(pn=>pn.x>=zn)||lt.every(pn=>pn.y<=0)||lt.every(pn=>pn.y>=zn))&&rt.splice(Gt,1)}var lt;let ot;if(Z)ot=nQ(rt,U,_);else{ot=[];for(const Gt of rt)ot.push({polygon:Gt,bounds:U})}const Tt=fe?this.edgeRadius:0,yt=Tt>0&&this.zoom<17,Dt=(Gt,Xt)=>{if(Gt.length===0)return!1;const pn=Gt[Gt.length-1];return Xt.x===pn.x&&Xt.y===pn.y};for(const{polygon:Gt,bounds:Xt}of ot){let pn=0,en=0;for(const On of Gt)fe&&!On[0].equals(On[On.length-1])&&On.push(On[0]),en+=fe?On.length-1:On.length;const Sn=this.segments.prepareSegment((fe?5:4)*en,this.layoutVertexArray,this.indexArray);xe.footprintSegIdx<0&&(xe.footprintSegIdx=this.footprintSegments.length),xe.polygonSegIdx<0&&(xe.polygonSegIdx=this.polygonSegments.length);const Dn={triangleArrayOffset:this.indexArray.length,triangleCount:0,triangleSegIdx:this.segments.segments.length-1},yn=new jH;if(yn.vertexOffset=this.footprintVertices.length,yn.indexOffset=3*this.footprintIndices.length,yn.ringIndices=[],fe){const On=[],gn=[];pn=Sn.vertexLength;for(let cr=0;cr<Gt.length;cr++){const Un=Gt[cr];Un.length&&cr!==0&&gn.push(On.length/2);const Br=[];let yr,qn;yr=Un[1].sub(Un[0])._perp()._unit(),yn.ringIndices.push(Un.length-1);for(let ni=1;ni<Un.length;ni++){const Ur=Un[ni],Sr=Un[ni===Un.length-1?1:ni+1],Yn=Ur.clone();if(Tt){qn=Sr.sub(Ur)._perp()._unit();const qr=yr.add(qn)._unit(),zi=Tt*Math.min(4,1/(yr.x*qr.x+yr.y*qr.y));Yn.x+=zi*qr.x,Yn.y+=zi*qr.y,Yn.x=Math.round(Yn.x),Yn.y=Math.round(Yn.y),yr=qn}!Ie||Tt!==0&&!yt||Dt(Br,Yn)||Br.push(Yn),Ux(this.layoutVertexArray,Yn.x,Yn.y,0,0,1,1,0),Sn.vertexLength++,this.footprintVertices.emplaceBack(Ur.x,Ur.y),On.push(Ur.x,Ur.y),Z&&zx(this.layoutVertexExtArray,K.projectTilePoint(Yn.x,Yn.y,_),K.upVector(_,Yn.x,Yn.y))}Ie&&(Tt===0||yt)&&(Br.length!==0&&Dt(Br,Br[0])&&Br.pop(),this.groundEffect.addData(Br,Xt,O))}const Rn=SE(On,gn);for(let cr=0;cr<Rn.length;cr+=3)this.footprintIndices.emplaceBack(yn.vertexOffset+Rn[cr+0],yn.vertexOffset+Rn[cr+1],yn.vertexOffset+Rn[cr+2]),this.indexArray.emplaceBack(pn+Rn[cr],pn+Rn[cr+2],pn+Rn[cr+1]),Sn.primitiveLength++;yn.indexCount+=Rn.length,yn.vertexCount+=this.footprintVertices.length-yn.vertexOffset}for(let On=0;On<Gt.length;On++){const gn=Gt[On];ge.startRing(xe,gn[0]);let Rn=gn.length>4&&JH(gn[gn.length-2],gn[0],gn[1]),cr=Tt?bge(gn[gn.length-2],gn[0],gn[1],Tt):0;const Un=[];let Br,yr,qn;yr=gn[1].sub(gn[0])._perp()._unit();let ni=!0;for(let Ur=1,Sr=0;Ur<gn.length;Ur++){let Yn=gn[Ur-1],qr=gn[Ur];const zi=gn[Ur===gn.length-1?1:Ur+1];if(ge.appendEdge(xe,qr,Yn),cL(qr,Yn,Xt)){Tt&&(yr=zi.sub(qr)._perp()._unit(),ni=!ni);continue}const ri=qr.sub(Yn)._perp(),$i=ri.x/(Math.abs(ri.x)+Math.abs(ri.y)),vi=ri.y>0?1:0,na=Yn.dist(qr);if(Sr+na>32768&&(Sr=0),Tt){qn=zi.sub(qr)._perp()._unit();let wa=XH(Yn,qr,zi,YH(yr,qn),Tt);isNaN(wa)&&(wa=0);const Ma=qr.sub(Yn)._unit();Yn=Yn.add(Ma.mult(cr))._round(),qr=qr.add(Ma.mult(-wa))._round(),cr=wa,yr=qn,Ie&&this.zoom>=17&&(Dt(Un,Yn)||Un.push(Yn),Dt(Un,qr)||Un.push(qr))}const Si=Sn.vertexLength,Za=gn.length>4&&JH(Yn,qr,zi);let ya=eQ(Sr,Rn,ni);if(Ux(this.layoutVertexArray,Yn.x,Yn.y,$i,vi,0,0,ya),Ux(this.layoutVertexArray,Yn.x,Yn.y,$i,vi,0,1,ya),Sr+=na,ya=eQ(Sr,Za,!ni),Rn=Za,Ux(this.layoutVertexArray,qr.x,qr.y,$i,vi,0,0,ya),Ux(this.layoutVertexArray,qr.x,qr.y,$i,vi,0,1,ya),Sn.vertexLength+=4,this.indexArray.emplaceBack(Si+0,Si+1,Si+2),this.indexArray.emplaceBack(Si+1,Si+3,Si+2),Sn.primitiveLength+=2,Tt){const wa=pn+(Ur===1?gn.length-2:Ur-2),Ma=Ur===1?pn:wa+1;if(this.indexArray.emplaceBack(Si+1,wa,Si+3),this.indexArray.emplaceBack(wa,Ma,Si+3),Sn.primitiveLength+=2,Br===void 0&&(Br=Si),!cL(zi,gn[Ur],Xt)){const ba=Ur===gn.length-1?Br:Sn.vertexLength;this.indexArray.emplaceBack(Si+2,Si+3,ba),this.indexArray.emplaceBack(Si+3,ba+1,ba),this.indexArray.emplaceBack(Si+3,Ma,ba+1),Sn.primitiveLength+=3}ni=!ni}if(Z){const wa=this.layoutVertexExtArray,Ma=K.projectTilePoint(Yn.x,Yn.y,_),ba=K.projectTilePoint(qr.x,qr.y,_),Ss=K.upVector(_,Yn.x,Yn.y),Ua=K.upVector(_,qr.x,qr.y);zx(wa,Ma,Ss),zx(wa,Ma,Ss),zx(wa,ba,Ua),zx(wa,ba,Ua)}}fe&&(pn+=gn.length-1),Ie&&Tt&&this.zoom>=17&&(Un.length!==0&&Dt(Un,Un[0])&&Un.pop(),this.groundEffect.addData(Un,Xt,O,Tt>0))}this.footprintSegments.push(yn),Dn.triangleCount=this.indexArray.length-Dn.triangleArrayOffset,this.polygonSegments.push(Dn),++xe.footprintSegLen,++xe.polygonSegLen}if(xe.vertexCount=this.layoutVertexArray.length-xe.vertexArrayOffset,xe.groundVertexCount=this.groundEffect.vertexArray.length-xe.groundVertexArrayOffset,xe.vertexCount!==0){if(xe.centroidXY=ge.borders?QH:this.encodeCentroid(ge,xe),this.centroidData.push(xe),ge.borders){this.featuresOnBorder.push(ge);const Gt=this.featuresOnBorder.length-1;for(let Xt=0;Xt<ge.borders.length;Xt++)ge.borders[Xt][0]!==Number.MAX_VALUE&&this.borderFeatureIndices[Xt].push(Gt)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,A,b,E,_,F),this.groundEffect.addPaintPropertiesData(o,A,b,E,_,F),this.maxHeight=Math.max(this.maxHeight,Oe)}}sortBorders(){for(let o=0;o<this.borderFeatureIndices.length;o++)this.borderFeatureIndices[o].sort((h,A)=>this.featuresOnBorder[h].borders[o][0]-this.featuresOnBorder[A].borders[o][0])}splitToSubtiles(){const o=[];for(let I=0;I<this.centroidData.length;I++){const F=this.centroidData[I],O=+(F.min.y+F.max.y>zn),U=2*O+(+(F.min.x+F.max.x>zn)^O);for(let K=0;K<F.polygonSegLen;K++){const Z=F.polygonSegIdx+K;o.push({centroidIdx:I,subtile:U,polygonSegmentIdx:Z,triangleSegmentIdx:this.polygonSegments[Z].triangleSegIdx})}}const h=new Cs;o.sort((I,F)=>I.triangleSegmentIdx===F.triangleSegmentIdx?I.subtile-F.subtile:I.triangleSegmentIdx-F.triangleSegmentIdx);let A=0,_=0,b=0;for(const I of o){if(I.triangleSegmentIdx!==A)break;b++}const E=o.length;for(;_!==o.length;){A=o[_].triangleSegmentIdx;let I=0,F=_,O=_;for(let U=F;U<b&&o[U].subtile===I;U++)O++;for(;F!==b;){const U=o[F];I=U.subtile;const K=this.centroidData[U.centroidIdx].min.clone(),Z=this.centroidData[U.centroidIdx].max.clone(),fe={vertexOffset:this.segments.segments[A].vertexOffset,primitiveOffset:h.length,vertexLength:this.segments.segments[A].vertexLength,primitiveLength:0,sortKey:void 0,vaos:{}};for(let ge=F;ge<O;ge++){const xe=o[ge],Ie=this.polygonSegments[xe.polygonSegmentIdx],Oe=this.centroidData[xe.centroidIdx].min,rt=this.centroidData[xe.centroidIdx].max,lt=this.indexArray.uint16;for(let ot=Ie.triangleArrayOffset;ot<Ie.triangleArrayOffset+Ie.triangleCount;ot++)h.emplaceBack(lt[3*ot],lt[3*ot+1],lt[3*ot+2]);fe.primitiveLength+=Ie.triangleCount,K.x=Math.min(K.x,Oe.x),K.y=Math.min(K.y,Oe.y),Z.x=Math.max(Z.x,rt.x),Z.y=Math.max(Z.y,rt.y)}fe.primitiveLength>0&&this.triangleSubSegments.push({segment:fe,min:K,max:Z}),F=O;for(let ge=F;ge<b&&o[ge].subtile===o[F].subtile;ge++)O++}_=b;for(let U=_;U<E&&o[U].triangleSegmentIdx===o[_].triangleSegmentIdx;U++)b++}h._trim(),this.indexArray=h}getVisibleSegments(o,h,A){let _=0,b=0;const E=1<<o.canonical.z;if(h){const xe=h.getMinMaxForTile(o);xe&&(_=xe.min,b=xe.max)}b+=this.maxHeight;const I=o.toUnwrapped();let F;const O=[I.canonical.x/E+I.wrap,I.canonical.y/E],U=[(I.canonical.x+1)/E+I.wrap,(I.canonical.y+1)/E],K=new Js,Z=(xe,Ie,Oe)=>[xe[0]*(1-Oe[0])+Ie[0]*Oe[0],xe[1]*(1-Oe[1])+Ie[1]*Oe[1]],fe=[],ge=[];for(const xe of this.triangleSubSegments){fe[0]=xe.min.x/zn,fe[1]=xe.min.y/zn,ge[0]=xe.max.x/zn,ge[1]=xe.max.y/zn;const Ie=Z(O,U,fe),Oe=Z(O,U,ge);if(new Qs([Ie[0],Ie[1],_],[Oe[0],Oe[1],b]).intersectsPrecise(A)===0){F&&(K.segments.push(F),F=void 0);continue}const rt=xe.segment;F&&F.vertexOffset!==rt.vertexOffset&&(K.segments.push(F),F=void 0),F?(F.vertexLength+=rt.vertexLength,F.primitiveLength+=rt.primitiveLength):F={vertexOffset:rt.vertexOffset,primitiveLength:rt.primitiveLength,vertexLength:rt.vertexLength,primitiveOffset:rt.primitiveOffset,sortKey:void 0,vaos:{}}}return F&&K.segments.push(F),K}encodeCentroid(o,h){const A=o.centroid(),_=h.span(),b=Math.min(7,Math.round(_.x*this.tileToMeter/10)),E=Math.min(7,Math.round(_.y*this.tileToMeter/10));return new G(ce(A.x,1,zn-1)<<3|b,ce(A.y,1,zn-1)<<3|E)}encodeBorderCentroid(o){if(!o.borders)return new G(0,0);const h=o.borders,A=Number.MAX_VALUE;if(h[0][0]!==A||h[1][0]!==A){const _=h[0][0]!==A?0:1;return new G(6|(h[0][0]!==A?0:65528),(h[_][0]+h[_][1])/2<<3|6)}{const _=h[2][0]!==A?2:3;return new G((h[_][0]+h[_][1])/2<<3|6,6|(h[2][0]!==A?0:65528))}}showCentroid(o){const h=this.centroidData[o.centroidDataIndex];h.flags&=Z0,h.centroidXY.x=0,h.centroidXY.y=0,this.writeCentroidToBuffer(h)}writeCentroidToBuffer(o){this.groundEffect.updateHiddenByLandmark(o);const h=o.vertexArrayOffset,A=o.vertexCount+o.vertexArrayOffset,_=o.flags&Z0?QH:o.centroidXY,b=this.centroidVertexArray.geta_centroid_pos0(h);if(this.centroidVertexArray.geta_centroid_pos1(h)!==_.y||b!==_.x){for(let E=h;E<A;++E)this.centroidVertexArray.emplace(E,_.x,_.y);this.needsCentroidUpdate=!0}}createCentroidsBuffer(){this.centroidVertexArray.resize(this.layoutVertexArray.length),this.groundEffect.hiddenByLandmarkVertexArray.resize(this.groundEffect.vertexArray.length);for(const o of this.centroidData)this.writeCentroidToBuffer(o)}updateReplacement(o,h){if(h.updateTime===this.replacementUpdateTime)return;this.replacementUpdateTime=h.updateTime;const A=h.getReplacementRegionsForTile(o.toUnwrapped());if(function(b,E){if(b.length!==E.length)return!1;for(let I=0;I<b.length;I++)if(b[I].sourceId!==E[I].sourceId||!kH(b[I],E[I]))return!1;return!0}(this.activeReplacements,A))return;if(this.activeReplacements=A,this.centroidVertexArray.length===0)this.createCentroidsBuffer();else for(const b of this.centroidData)b.flags&=2147483647;const _=[];for(const b of this.activeReplacements){const E=Math.pow(2,b.footprintTileId.canonical.z-o.canonical.z);for(const I of this.centroidData)if(!(I.flags&Z0||b.min.x>I.max.x||I.min.x>b.max.x||b.min.y>I.max.y||I.min.y>b.max.y))for(let F=0;F<I.footprintSegLen;F++){const O=this.footprintSegments[I.footprintSegIdx+F];if(_.length=0,wge(this.footprintVertices,O.vertexOffset,O.vertexCount,b.footprintTileId.canonical,o.canonical,_),RH(b.footprint,_,this.footprintIndices.uint16,O.indexOffset,O.indexCount,-O.vertexOffset,-E)){I.flags|=Z0;break}}}for(const b of this.centroidData)this.writeCentroidToBuffer(b);this.borderDoneWithNeighborZ=[-1,-1,-1,-1]}footprintContainsPoint(o,h,A){let _=!1;for(let b=0;b<A.footprintSegLen;b++){const E=this.footprintSegments[A.footprintSegIdx+b];let I=0;for(const F of E.ringIndices){for(let O=I,U=F+I-1;O<F+I;U=O++){const K=this.footprintVertices.int16[2*(O+E.vertexOffset)+0],Z=this.footprintVertices.int16[2*(O+E.vertexOffset)+1],fe=this.footprintVertices.int16[2*(U+E.vertexOffset)+1];Z>h!=fe>h&&o<(this.footprintVertices.int16[2*(U+E.vertexOffset)+0]-K)*(h-Z)/(fe-Z)+K&&(_=!_)}I=F}}return _}getHeightAtTileCoord(o,h){let A=Number.NEGATIVE_INFINITY,_=!0;const b=4*(o+zn)*zn+(h+zn);if(this.partLookup.hasOwnProperty(b)){const E=this.partLookup[b];return E?{height:E.height,hidden:!!(E.flags&Z0)}:void 0}for(const E of this.centroidData)o>E.max.x||E.min.x>o||h>E.max.y||E.min.y>h||this.footprintContainsPoint(o,h,E)&&E&&E.height>A&&(A=E.height,this.partLookup[b]=E,_=!!(E.flags&Z0));if(A!==Number.NEGATIVE_INFINITY)return{height:A,hidden:_};this.partLookup[b]=void 0}}function YH(u,o){const h=u.add(o)._unit();return u.x*h.x+u.y*h.y}function bge(u,o,h,A){const _=o.sub(u)._perp()._unit(),b=h.sub(o)._perp()._unit();return XH(u,o,h,YH(_,b),A)}function XH(u,o,h,A,_){const b=Math.sqrt(1-A*A);return Math.min(u.dist(o)/3,o.dist(h)/3,_*b/A)}function cL(u,o,h){return u.x<h[0].x&&o.x<h[0].x||u.x>h[1].x&&o.x>h[1].x||u.y<h[0].y&&o.y<h[0].y||u.y>h[1].y&&o.y>h[1].y}function ZH(u,o){return u.x<o[0].x||u.x>o[1].x||u.y<o[0].y||u.y>o[1].y}function JH(u,o,h){if(u.x<0||u.x>=zn||o.x<0||o.x>=zn||h.x<0||h.x>=zn)return!1;const A=h.sub(o),_=A.perp(),b=u.sub(o);return(A.x*b.x+A.y*b.y)/Math.sqrt((A.x*A.x+A.y*A.y)*(b.x*b.x+b.y*b.y))>-.866&&_.x*b.x+_.y*b.y<0}function eQ(u,o,h){const A=o?2|u:-3&u;return h?1|A:-2&A}function tQ(){const u=Math.PI/32,o=Math.tan(u),h=_n;return h*Math.sqrt(1+2*o*o)-h}function nQ(u,o,h){const A=1<<h.z,_=wi(h.x/A),b=wi((h.x+1)/A),E=ia(h.y/A),I=ia((h.y+1)/A);return function(F,O,U,K,Z=0,fe){const ge=[];if(!F.length||!U||!K)return ge;const xe=(yt,Dt)=>{for(const Gt of yt)ge.push({polygon:Gt,bounds:Dt})},Ie=Math.ceil(Math.log2(U)),Oe=Math.ceil(Math.log2(K)),rt=Ie-Oe,lt=[];for(let yt=0;yt<Math.abs(rt);yt++)lt.push(rt>0?0:1);for(let yt=0;yt<Math.min(Ie,Oe);yt++)lt.push(0),lt.push(1);let ot=F;if(ot=ME(ot,O[0].y-Z,O[1].y+Z,1),ot=ME(ot,O[0].x-Z,O[1].x+Z,0),!ot.length)return ge;const Tt=[];for(lt.length?Tt.push({polygons:ot,bounds:O,depth:0}):xe(ot,O);Tt.length;){const yt=Tt.pop(),Dt=yt.depth,Gt=lt[Dt],Xt=yt.bounds[0],pn=yt.bounds[1],en=Gt===0?Xt.x:Xt.y,Sn=Gt===0?pn.x:pn.y,Dn=fe?fe(Gt,en,Sn):.5*(en+Sn),yn=ME(yt.polygons,en-Z,Dn+Z,Gt),On=ME(yt.polygons,Dn-Z,Sn+Z,Gt);if(yn.length){const gn=[Xt,new G(Gt===0?Dn:pn.x,Gt===1?Dn:pn.y)];lt.length>Dt+1?Tt.push({polygons:yn,bounds:gn,depth:Dt+1}):xe(yn,gn)}if(On.length){const gn=[new G(Gt===0?Dn:Xt.x,Gt===1?Dn:Xt.y),pn];lt.length>Dt+1?Tt.push({polygons:On,bounds:gn,depth:Dt+1}):xe(On,gn)}}return ge}(u,o,Math.ceil((b-_)/11.25),Math.ceil((E-I)/11.25),1,(F,O,U)=>{if(F===0)return .5*(O+U);{const K=ia((h.y+O/zn)/A);return(hi(.5*(ia((h.y+U/zn)/A)+K))*A-h.y)*zn}})}function wge(u,o,h,A,_,b){const E=Math.pow(2,A.z-_.z);for(let I=0;I<h;I++){let F=u.int16[2*(I+o)+0],O=u.int16[2*(I+o)+1];F=(F+_.x*zn)*E-A.x*zn,O=(O+_.y*zn)*E-A.y*zn,b.push(new G(F,O))}}ze(PE,"FillExtrusionBucket",{omit:["layers","features"]}),ze(GH,"PartData"),ze(jH,"FootprintSegment"),ze(KH,"BorderCentroidData"),ze(qH,"GroundEffect");const xge=new ka({visibility:new jn(rn["layout_fill-extrusion"].visibility),"fill-extrusion-edge-radius":new jn(rn["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var Cge={paint:new ka({"fill-extrusion-opacity":new jn(rn["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Cr(rn["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new jn(rn["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new jn(rn["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Cr(rn["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Cr(rn["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Cr(rn["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new jn(rn["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new jn(rn["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new jn(rn["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"]),"fill-extrusion-ambient-occlusion-wall-radius":new jn(rn["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-wall-radius"]),"fill-extrusion-ambient-occlusion-ground-radius":new jn(rn["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-ground-radius"]),"fill-extrusion-ambient-occlusion-ground-attenuation":new jn(rn["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-ground-attenuation"]),"fill-extrusion-flood-light-color":new jn(rn["paint_fill-extrusion"]["fill-extrusion-flood-light-color"]),"fill-extrusion-flood-light-intensity":new jn(rn["paint_fill-extrusion"]["fill-extrusion-flood-light-intensity"]),"fill-extrusion-flood-light-wall-radius":new Cr(rn["paint_fill-extrusion"]["fill-extrusion-flood-light-wall-radius"]),"fill-extrusion-flood-light-ground-radius":new Cr(rn["paint_fill-extrusion"]["fill-extrusion-flood-light-ground-radius"]),"fill-extrusion-flood-light-ground-attenuation":new jn(rn["paint_fill-extrusion"]["fill-extrusion-flood-light-ground-attenuation"]),"fill-extrusion-vertical-scale":new jn(rn["paint_fill-extrusion"]["fill-extrusion-vertical-scale"]),"fill-extrusion-rounded-roof":new jn(rn["paint_fill-extrusion"]["fill-extrusion-rounded-roof"]),"fill-extrusion-cutoff-fade-range":new jn(rn["paint_fill-extrusion"]["fill-extrusion-cutoff-fade-range"]),"fill-extrusion-emissive-strength":new jn(rn["paint_fill-extrusion"]["fill-extrusion-emissive-strength"])}),layout:xge};class bb extends G{constructor(o,h,A){super(o,h),this.z=A}}function $x(u,o){return u.x*o.x+u.y*o.y}function rQ(u,o){if(u.length===1){let h=0;const A=o[h++];let _;for(;!_||A.equals(_);)if(_=o[h++],!_)return 1/0;for(;h<o.length;h++){const b=o[h],E=u[0],I=_.sub(A),F=b.sub(A),O=E.sub(A),U=$x(I,I),K=$x(I,F),Z=$x(F,F),fe=$x(O,I),ge=$x(O,F),xe=U*Z-K*K,Ie=(Z*fe-K*ge)/xe,Oe=(U*ge-K*fe)/xe,rt=A.z*(1-Ie-Oe)+_.z*Ie+b.z*Oe;if(isFinite(rt))return rt}return 1/0}{let h=1/0;for(const A of o)h=Math.min(h,A.z);return h}}function iQ(u,o,h,A,_,b,E,I){const F=E*_.getElevationAt(u,o,!0,!0),O=b[0]!==0,U=O?b[1]===0?E*(b[0]/7-450):E*function(K,Z,fe){const ge=Math.floor(Z[0]/8),xe=Math.floor(Z[1]/8),Ie=10*(Z[0]-8*ge),Oe=10*(Z[1]-8*xe),rt=K.getElevationAt(ge,xe,!0,!0),lt=K.getMeterToDEM(fe),ot=Math.floor(.5*(Ie*lt-1)),Tt=Math.floor(.5*(Oe*lt-1)),yt=K.tileCoordToPixel(ge,xe),Dt=2*ot+1,Gt=2*Tt+1,Xt=function(On,gn,Rn,cr,Un){return[On.getElevationAtPixel(gn,Rn,!0),On.getElevationAtPixel(gn+Un,Rn,!0),On.getElevationAtPixel(gn,Rn+Un,!0),On.getElevationAtPixel(gn+cr,Rn+Un,!0)]}(K,yt.x-ot,yt.y-Tt,Dt,Gt),pn=Math.abs(Xt[0]-Xt[1]),en=Math.abs(Xt[2]-Xt[3]),Sn=Math.abs(Xt[0]-Xt[2])+Math.abs(Xt[1]-Xt[3]),Dn=Math.min(.25,.5*lt*(pn+en)/Dt),yn=Math.min(.25,.5*lt*Sn/Gt);return rt+Math.max(Dn*Ie,yn*Oe)}(_,b,I):F;return{base:F+(h===0)?-1:h,top:O?Math.max(U+A,F+h+2):F+A}}const Ege=Ba([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:Sge}=Ege,Tge=Ba([{name:"a_packed",components:4,type:"Float32"}]),{members:Bge}=Tge;class aQ{constructor(o,h){this.width=o,this.height=h,this.nextRow=0,this.image=new Y0({width:o,height:h}),this.positions={},this.uploaded=!1}getDash(o,h){const A=this.getKey(o,h);return this.positions[A]}trim(){const o=this.width,h=this.height=Le(this.nextRow);this.image.resize({width:o,height:h})}getKey(o,h){return o.join(",")+h}getDashRanges(o,h,A){const _=[];let b=o.length%2==1?-o[o.length-1]*A:0,E=o[0]*A,I=!0;_.push({left:b,right:E,isDash:I,zeroLength:o[0]===0});let F=o[0];for(let O=1;O<o.length;O++){I=!I;const U=o[O];b=F*A,F+=U,E=F*A,_.push({left:b,right:E,isDash:I,zeroLength:U===0})}return _}addRoundDash(o,h,A){const _=h/2;for(let b=-A;b<=A;b++){const E=this.width*(this.nextRow+A+b);let I=0,F=o[I];for(let O=0;O<this.width;O++){O/F.right>1&&(F=o[++I]);const U=Math.abs(O-F.left),K=Math.abs(O-F.right),Z=Math.min(U,K);let fe;const ge=b/A*(_+1);if(F.isDash){const xe=_-Math.abs(ge);fe=Math.sqrt(Z*Z+xe*xe)}else fe=_-Math.sqrt(Z*Z+ge*ge);this.image.data[E+O]=Math.max(0,Math.min(255,fe+128))}}}addRegularDash(o,h){for(let F=o.length-1;F>=0;--F){const O=o[F],U=o[F+1];O.zeroLength?o.splice(F,1):U&&U.isDash===O.isDash&&(U.left=O.left,o.splice(F,1))}const A=o[0],_=o[o.length-1];A.isDash===_.isDash&&(A.left=_.left-this.width,_.right=A.right+this.width);const b=this.width*this.nextRow;let E=0,I=o[E];for(let F=0;F<this.width;F++){F/I.right>1&&(I=o[++E]);const O=Math.abs(F-I.left),U=Math.abs(F-I.right),K=Math.min(O,U);this.image.data[b+F]=Math.max(0,Math.min(255,(I.isDash?K:-K)+h+128))}}addDash(o,h){const A=this.getKey(o,h);if(this.positions[A])return this.positions[A];const _=h==="round",b=_?7:0,E=2*b+1;if(this.nextRow+E>this.height)return Ge("LineAtlas out of space"),null;o.length===0&&o.push(1);let I=0;for(let U=0;U<o.length;U++)o[U]<0&&(Ge("Negative value is found in line dasharray, replacing values with 0"),o[U]=0),I+=o[U];if(I!==0){const U=this.width/I,K=this.getDashRanges(o,this.width,U);_?this.addRoundDash(K,U,b):this.addRegularDash(K,h==="square"?.5*U:0)}const F=this.nextRow+b;this.nextRow+=E;const O={tl:[F,b],br:[I,0]};return this.positions[A]=O,O}}ze(aQ,"LineAtlas");const Mge=BE.types,Ige=Math.cos(Math.PI/180*37.5);class hL{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(h=>h.fqid),this.index=o.index,this.projection=o.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(h=>{this.gradients[h.id]={}}),this.layoutVertexArray=new J1,this.layoutVertexArray2=new wd,this.indexArray=new Cs,this.programConfigurations=new He(o.layers,o.zoom),this.segments=new Js,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(h=>h.isStateDependent()).map(h=>h.id)}populate(o,h,A,_){this.hasPattern=sL("line",this.layers,h);const b=this.layers[0].layout.get("line-sort-key"),E=[];for(const{feature:U,id:K,index:Z,sourceLayerIndex:fe}of o){const ge=this.layers[0]._featureFilter.needGeometry,xe=Vo(U,ge);if(!this.layers[0]._featureFilter.filter(new Fi(this.zoom),xe,A))continue;const Ie=b?b.evaluate(xe,{},A):void 0,Oe={id:K,properties:U.properties,type:U.type,sourceLayerIndex:fe,index:Z,geometry:ge?xe.geometry:ul(U,A,_),patterns:{},sortKey:Ie};E.push(Oe)}b&&E.sort((U,K)=>U.sortKey-K.sortKey);const{lineAtlas:I,featureIndex:F}=h,O=this.addConstantDashes(I);for(const U of E){const{geometry:K,index:Z,sourceLayerIndex:fe}=U;if(O&&this.addFeatureDashes(U,I),this.hasPattern){const ge=oL("line",this.layers,U,this.zoom,h);this.patternFeatures.push(ge)}else this.addFeature(U,K,Z,A,I.positions,h.availableImages,h.brightness);F.insert(o[Z].feature,K,Z,fe,this.index)}}addConstantDashes(o){let h=!1;for(const A of this.layers){const _=A.paint.get("line-dasharray").value,b=A.layout.get("line-cap").value;if(_.kind!=="constant"||b.kind!=="constant")h=!0;else{const E=b.value,I=_.value;if(!I)continue;o.addDash(I,E)}}return h}addFeatureDashes(o,h){const A=this.zoom;for(const _ of this.layers){const b=_.paint.get("line-dasharray").value,E=_.layout.get("line-cap").value;if(b.kind==="constant"&&E.kind==="constant")continue;let I,F;if(b.kind==="constant"){if(I=b.value,!I)continue}else I=b.evaluate({zoom:A},o);F=E.kind==="constant"?E.value:E.evaluate({zoom:A},o),h.addDash(I,F),o.patterns[_.id]=h.getKey(I,F)}}update(o,h,A,_,b){const E=Object.keys(o).length!==0;E&&!this.stateDependentLayers.length||this.programConfigurations.updatePaintArrays(o,h,E?this.stateDependentLayers:this.layers,A,_,b)}addFeatures(o,h,A,_,b,E){for(const I of this.patternFeatures)this.addFeature(I,I.geometry,I.index,h,A,_,E)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=o.createVertexBuffer(this.layoutVertexArray2,Bge)),this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,Sge),this.indexBuffer=o.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(o){if(o.properties&&o.properties.hasOwnProperty("mapbox_clip_start")&&o.properties.hasOwnProperty("mapbox_clip_end"))return{start:+o.properties.mapbox_clip_start,end:+o.properties.mapbox_clip_end}}addFeature(o,h,A,_,b,E,I){const F=this.layers[0].layout,O=F.get("line-join").evaluate(o,{}),U=F.get("line-cap").evaluate(o,{}),K=F.get("line-miter-limit"),Z=F.get("line-round-limit");this.lineClips=this.lineFeatureClips(o);for(const fe of h)this.addLine(fe,o,O,U,K,Z);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,A,b,E,_,I)}addLine(o,h,A,_,b,E){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Oe=0;Oe<o.length-1;Oe++)this.totalDistance+=o[Oe].dist(o[Oe+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const I=Mge[h.type]==="Polygon";let F=o.length;for(;F>=2&&o[F-1].equals(o[F-2]);)F--;let O=0;for(;O<F-1&&o[O].equals(o[O+1]);)O++;if(F<(I?3:2))return;A==="bevel"&&(b=1.05);const U=this.overscaling<=16?15*zn/(512*this.overscaling):0,K=this.segments.prepareSegment(10*F,this.layoutVertexArray,this.indexArray);let Z,fe,ge,xe,Ie;this.e1=this.e2=-1,I&&(Z=o[F-2],Ie=o[O].sub(Z)._unit()._perp());for(let Oe=O;Oe<F;Oe++){if(ge=Oe===F-1?I?o[O+1]:void 0:o[Oe+1],ge&&o[Oe].equals(ge))continue;Ie&&(xe=Ie),Z&&(fe=Z),Z=o[Oe],Ie=ge?ge.sub(Z)._unit()._perp():xe,xe=xe||Ie;let rt=xe.add(Ie);rt.x===0&&rt.y===0||rt._unit();const lt=xe.x*Ie.x+xe.y*Ie.y,ot=rt.x*Ie.x+rt.y*Ie.y,Tt=ot!==0?1/ot:1/0,yt=2*Math.sqrt(2-2*ot),Dt=ot<Ige&&fe&&ge,Gt=xe.x*Ie.y-xe.y*Ie.x>0;if(Dt&&Oe>O){const en=Z.dist(fe);if(en>2*U){const Sn=Z.sub(Z.sub(fe)._mult(U/en)._round());this.updateDistance(fe,Sn),this.addCurrentVertex(Sn,xe,0,0,K),fe=Sn}}const Xt=fe&&ge;let pn=Xt?A:I?"butt":_;if(Xt&&pn==="round"&&(Tt<E?pn="miter":Tt<=2&&(pn="fakeround")),pn==="miter"&&Tt>b&&(pn="bevel"),pn==="bevel"&&(Tt>2&&(pn="flipbevel"),Tt<b&&(pn="miter")),fe&&this.updateDistance(fe,Z),pn==="miter")rt._mult(Tt),this.addCurrentVertex(Z,rt,0,0,K);else if(pn==="flipbevel"){if(Tt>100)rt=Ie.mult(-1);else{const en=Tt*xe.add(Ie).mag()/xe.sub(Ie).mag();rt._perp()._mult(en*(Gt?-1:1))}this.addCurrentVertex(Z,rt,0,0,K),this.addCurrentVertex(Z,rt.mult(-1),0,0,K)}else if(pn==="bevel"||pn==="fakeround"){const en=-Math.sqrt(Tt*Tt-1),Sn=Gt?en:0,Dn=Gt?0:en;if(fe&&this.addCurrentVertex(Z,xe,Sn,Dn,K),pn==="fakeround"){const yn=Math.round(180*yt/Math.PI/20);for(let On=1;On<yn;On++){let gn=On/yn;if(gn!==.5){const cr=gn-.5;gn+=gn*cr*(gn-1)*((1.0904+lt*(lt*(3.55645-1.43519*lt)-3.2452))*cr*cr+(.848013+lt*(.215638*lt-1.06021)))}const Rn=Ie.sub(xe)._mult(gn)._add(xe)._unit()._mult(Gt?-1:1);this.addHalfVertex(Z,Rn.x,Rn.y,!1,Gt,0,K)}}ge&&this.addCurrentVertex(Z,Ie,-Sn,-Dn,K)}else if(pn==="butt")this.addCurrentVertex(Z,rt,0,0,K);else if(pn==="square"){const en=fe?1:-1;fe||this.addCurrentVertex(Z,rt,en,en,K),this.addCurrentVertex(Z,rt,0,0,K),fe&&this.addCurrentVertex(Z,rt,en,en,K)}else pn==="round"&&(fe&&(this.addCurrentVertex(Z,xe,0,0,K),this.addCurrentVertex(Z,xe,1,1,K,!0)),ge&&(this.addCurrentVertex(Z,Ie,-1,-1,K,!0),this.addCurrentVertex(Z,Ie,0,0,K)));if(Dt&&Oe<F-1){const en=Z.dist(ge);if(en>2*U){const Sn=Z.add(ge.sub(Z)._mult(U/en)._round());this.updateDistance(Z,Sn),this.addCurrentVertex(Sn,Ie,0,0,K),Z=Sn}}}}addCurrentVertex(o,h,A,_,b,E=!1){const I=h.y*_-h.x,F=-h.y-h.x*_;this.addHalfVertex(o,h.x+h.y*A,h.y-h.x*A,E,!1,A,b),this.addHalfVertex(o,I,F,E,!0,-_,b)}addHalfVertex({x:o,y:h},A,_,b,E,I,F){this.layoutVertexArray.emplaceBack((o<<1)+(b?1:0),(h<<1)+(E?1:0),Math.round(63*A)+128,Math.round(63*_)+128,1+(I===0?0:I<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const O=F.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,O),F.primitiveLength++),E?this.e2=O:this.e1=O}updateScaledDistance(){if(this.lineClips){const o=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=o*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(o,h){this.distance+=o.dist(h),this.updateScaledDistance()}}ze(hL,"LineBucket",{omit:["layers","patternFeatures"]});const Lge=new ka({"line-cap":new Cr(rn.layout_line["line-cap"]),"line-join":new Cr(rn.layout_line["line-join"]),"line-miter-limit":new jn(rn.layout_line["line-miter-limit"]),"line-round-limit":new jn(rn.layout_line["line-round-limit"]),"line-sort-key":new Cr(rn.layout_line["line-sort-key"]),visibility:new jn(rn.layout_line.visibility)});var sQ={paint:new ka({"line-opacity":new Cr(rn.paint_line["line-opacity"]),"line-color":new Cr(rn.paint_line["line-color"]),"line-translate":new jn(rn.paint_line["line-translate"]),"line-translate-anchor":new jn(rn.paint_line["line-translate-anchor"]),"line-width":new Cr(rn.paint_line["line-width"]),"line-gap-width":new Cr(rn.paint_line["line-gap-width"]),"line-offset":new Cr(rn.paint_line["line-offset"]),"line-blur":new Cr(rn.paint_line["line-blur"]),"line-dasharray":new Cr(rn.paint_line["line-dasharray"]),"line-pattern":new Cr(rn.paint_line["line-pattern"]),"line-gradient":new Io(rn.paint_line["line-gradient"]),"line-trim-offset":new jn(rn.paint_line["line-trim-offset"]),"line-emissive-strength":new jn(rn.paint_line["line-emissive-strength"]),"line-border-width":new Cr(rn.paint_line["line-border-width"]),"line-border-color":new Cr(rn.paint_line["line-border-color"])}),layout:Lge};function oQ(u,o,h){return o*(zn/(u.tileSize*Math.pow(2,h-u.tileID.overscaledZ)))}function lQ(u,o){return 1/oQ(u,1,o.tileZoom)}function uQ(u,o,h,A){return u.translatePosMatrix(A||o.tileID.projMatrix,o,h.paint.get("line-translate"),h.paint.get("line-translate-anchor"))}const cQ=u=>{const o=[];hQ(u)&&o.push("RENDER_LINE_DASH"),u.paint.get("line-gradient")&&o.push("RENDER_LINE_GRADIENT");const h=u.paint.get("line-trim-offset");return h[0]===0&&h[1]===0||o.push("RENDER_LINE_TRIM_OFFSET"),u.paint.get("line-border-width").constantOr(1)!==0&&o.push("RENDER_LINE_BORDER"),o};function hQ(u){const o=u.paint.get("line-dasharray").value;return o.value||o.kind!=="constant"}const dQ=new class extends Cr{possiblyEvaluate(u,o){return o=new Fi(Math.floor(o.zoom),{now:o.now,fadeDuration:o.fadeDuration,transition:o.transition}),super.possiblyEvaluate(u,o)}evaluate(u,o,h,A){return o=se({},o,{zoom:Math.floor(o.zoom)}),super.evaluate(u,o,h,A)}}(sQ.paint.properties["line-width"].specification);function fQ(u,o){return o>0?o+2*u:u}dQ.useIntegerZoom=!0;const kge=Ba([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Pge=Ba([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),Fge=Ba([{name:"a_projected_pos",components:4,type:"Float32"}],4);Ba([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const Rge=Ba([{name:"a_z_offset",components:1,type:"Float32"}],4),Oge=Ba([{name:"a_texb",components:2,type:"Uint16"}]),Dge=Ba([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),Nge=Ba([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"},{name:"a_z_offset",components:1,type:"Float32"}]);Ba([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const pQ=Ba([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),Uge=Ba([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Ba([{name:"triangle",components:3,type:"Uint16"}]),Ba([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),Ba([{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Float32",name:"zOffset"},{type:"Uint8",name:"hasIconTextFit"}]),Ba([{type:"Float32",name:"offsetX"}]),Ba([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var mu=24;const xp=128;function dL(u,o){const{expression:h}=o;if(h.kind==="constant")return{kind:"constant",layoutSize:h.evaluate(new Fi(u+1))};if(h.kind==="source")return{kind:"source"};{const{zoomStops:A,interpolationType:_}=h;let b=0;for(;b<A.length&&A[b]<=u;)b++;b=Math.max(0,b-1);let E=b;for(;E<A.length&&A[E]<u+1;)E++;E=Math.min(A.length-1,E);const I=A[b],F=A[E];return h.kind==="composite"?{kind:"composite",minZoom:I,maxZoom:F,interpolationType:_}:{kind:"camera",minZoom:I,maxZoom:F,minSize:h.evaluate(new Fi(I)),maxSize:h.evaluate(new Fi(F)),interpolationType:_}}}function FE(u,{uSize:o,uSizeT:h},{lowerSize:A,upperSize:_}){return u.kind==="source"?A/xp:u.kind==="composite"?Di(A/xp,_/xp,h):o}function wb(u,o){let h=0,A=0;if(u.kind==="constant")A=u.layoutSize;else if(u.kind!=="source"){const{interpolationType:_,minZoom:b,maxZoom:E}=u,I=_?ce(Jl.interpolationFactor(_,o,b,E),0,1):0;u.kind==="camera"?A=Di(u.minSize,u.maxSize,I):h=I}return{uSizeT:h,uSize:A}}var zge=Object.freeze({__proto__:null,SIZE_PACK_FACTOR:xp,evaluateSizeForFeature:FE,evaluateSizeForZoom:wb,getSizeData:dL});function $ge(u,o,h){return u.sections.forEach(A=>{A.text=function(_,b,E){const I=b.layout.get("text-transform").evaluate(E,{});return I==="uppercase"?_=_.toLocaleUpperCase():I==="lowercase"&&(_=_.toLocaleLowerCase()),La.applyArabicShaping&&(_=La.applyArabicShaping(_)),_}(A.text,o,h)}),u}const Vx={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂","←":"↑","→":"↓"};function Vge(u){return u==="︶"||u==="﹈"||u==="︸"||u==="﹄"||u==="﹂"||u==="︾"||u==="︼"||u==="︺"||u==="︘"||u==="﹀"||u==="︐"||u==="︓"||u==="︔"||u==="｀"||u==="￣"||u==="︑"||u==="︒"}function Hge(u){return u==="︵"||u==="﹇"||u==="︷"||u==="﹃"||u==="﹁"||u==="︽"||u==="︻"||u==="︹"||u==="︗"||u==="︿"}var Qge={read:function(u,o,h,A,_){var b,E,I=8*_-A-1,F=(1<<I)-1,O=F>>1,U=-7,K=h?_-1:0,Z=h?-1:1,fe=u[o+K];for(K+=Z,b=fe&(1<<-U)-1,fe>>=-U,U+=I;U>0;b=256*b+u[o+K],K+=Z,U-=8);for(E=b&(1<<-U)-1,b>>=-U,U+=A;U>0;E=256*E+u[o+K],K+=Z,U-=8);if(b===0)b=1-O;else{if(b===F)return E?NaN:1/0*(fe?-1:1);E+=Math.pow(2,A),b-=O}return(fe?-1:1)*E*Math.pow(2,b-A)},write:function(u,o,h,A,_,b){var E,I,F,O=8*b-_-1,U=(1<<O)-1,K=U>>1,Z=_===23?Math.pow(2,-24)-Math.pow(2,-77):0,fe=A?0:b-1,ge=A?1:-1,xe=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(I=isNaN(o)?1:0,E=U):(E=Math.floor(Math.log(o)/Math.LN2),o*(F=Math.pow(2,-E))<1&&(E--,F*=2),(o+=E+K>=1?Z/F:Z*Math.pow(2,1-K))*F>=2&&(E++,F/=2),E+K>=U?(I=0,E=U):E+K>=1?(I=(o*F-1)*Math.pow(2,_),E+=K):(I=o*Math.pow(2,K-1)*Math.pow(2,_),E=0));_>=8;u[h+fe]=255&I,fe+=ge,I/=256,_-=8);for(E=E<<_|I,O+=_;O>0;u[h+fe]=255&E,fe+=ge,E/=256,O-=8);u[h+fe-ge]|=128*xe}},AQ=Es,RE=Qge;function Es(u){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(u)?u:new Uint8Array(u||0),this.pos=0,this.type=0,this.length=this.buf.length}Es.Varint=0,Es.Fixed64=1,Es.Bytes=2,Es.Fixed32=5;var fL=4294967296,mQ=1/fL,gQ=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Bg(u){return u.type===Es.Bytes?u.readVarint()+u.pos:u.pos+1}function xb(u,o,h){return h?4294967296*o+(u>>>0):4294967296*(o>>>0)+(u>>>0)}function vQ(u,o,h){var A=o<=16383?1:o<=2097151?2:o<=268435455?3:Math.floor(Math.log(o)/(7*Math.LN2));h.realloc(A);for(var _=h.pos-1;_>=u;_--)h.buf[_+A]=h.buf[_]}function jge(u,o){for(var h=0;h<u.length;h++)o.writeVarint(u[h])}function Gge(u,o){for(var h=0;h<u.length;h++)o.writeSVarint(u[h])}function Kge(u,o){for(var h=0;h<u.length;h++)o.writeFloat(u[h])}function Wge(u,o){for(var h=0;h<u.length;h++)o.writeDouble(u[h])}function qge(u,o){for(var h=0;h<u.length;h++)o.writeBoolean(u[h])}function Yge(u,o){for(var h=0;h<u.length;h++)o.writeFixed32(u[h])}function Xge(u,o){for(var h=0;h<u.length;h++)o.writeSFixed32(u[h])}function Zge(u,o){for(var h=0;h<u.length;h++)o.writeFixed64(u[h])}function Jge(u,o){for(var h=0;h<u.length;h++)o.writeSFixed64(u[h])}function OE(u,o){return(u[o]|u[o+1]<<8|u[o+2]<<16)+16777216*u[o+3]}function Cb(u,o,h){u[h]=o,u[h+1]=o>>>8,u[h+2]=o>>>16,u[h+3]=o>>>24}function _Q(u,o){return(u[o]|u[o+1]<<8|u[o+2]<<16)+(u[o+3]<<24)}Es.prototype={destroy:function(){this.buf=null},readFields:function(u,o,h){for(h=h||this.length;this.pos<h;){var A=this.readVarint(),_=A>>3,b=this.pos;this.type=7&A,u(_,o,this),this.pos===b&&this.skip(A)}return o},readMessage:function(u,o){return this.readFields(u,o,this.readVarint()+this.pos)},readFixed32:function(){var u=OE(this.buf,this.pos);return this.pos+=4,u},readSFixed32:function(){var u=_Q(this.buf,this.pos);return this.pos+=4,u},readFixed64:function(){var u=OE(this.buf,this.pos)+OE(this.buf,this.pos+4)*fL;return this.pos+=8,u},readSFixed64:function(){var u=OE(this.buf,this.pos)+_Q(this.buf,this.pos+4)*fL;return this.pos+=8,u},readFloat:function(){var u=RE.read(this.buf,this.pos,!0,23,4);return this.pos+=4,u},readDouble:function(){var u=RE.read(this.buf,this.pos,!0,52,8);return this.pos+=8,u},readVarint:function(u){var o,h,A=this.buf;return o=127&(h=A[this.pos++]),h<128?o:(o|=(127&(h=A[this.pos++]))<<7,h<128?o:(o|=(127&(h=A[this.pos++]))<<14,h<128?o:(o|=(127&(h=A[this.pos++]))<<21,h<128?o:function(_,b,E){var I,F,O=E.buf;if(I=(112&(F=O[E.pos++]))>>4,F<128||(I|=(127&(F=O[E.pos++]))<<3,F<128)||(I|=(127&(F=O[E.pos++]))<<10,F<128)||(I|=(127&(F=O[E.pos++]))<<17,F<128)||(I|=(127&(F=O[E.pos++]))<<24,F<128)||(I|=(1&(F=O[E.pos++]))<<31,F<128))return xb(_,I,b);throw new Error("Expected varint not more than 10 bytes")}(o|=(15&(h=A[this.pos]))<<28,u,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var u=this.readVarint();return u%2==1?(u+1)/-2:u/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var u=this.readVarint()+this.pos,o=this.pos;return this.pos=u,u-o>=12&&gQ?function(h,A,_){return gQ.decode(h.subarray(A,_))}(this.buf,o,u):function(h,A,_){for(var b="",E=A;E<_;){var I,F,O,U=h[E],K=null,Z=U>239?4:U>223?3:U>191?2:1;if(E+Z>_)break;Z===1?U<128&&(K=U):Z===2?(192&(I=h[E+1]))==128&&(K=(31&U)<<6|63&I)<=127&&(K=null):Z===3?(F=h[E+2],(192&(I=h[E+1]))==128&&(192&F)==128&&((K=(15&U)<<12|(63&I)<<6|63&F)<=2047||K>=55296&&K<=57343)&&(K=null)):Z===4&&(F=h[E+2],O=h[E+3],(192&(I=h[E+1]))==128&&(192&F)==128&&(192&O)==128&&((K=(15&U)<<18|(63&I)<<12|(63&F)<<6|63&O)<=65535||K>=1114112)&&(K=null)),K===null?(K=65533,Z=1):K>65535&&(K-=65536,b+=String.fromCharCode(K>>>10&1023|55296),K=56320|1023&K),b+=String.fromCharCode(K),E+=Z}return b}(this.buf,o,u)},readBytes:function(){var u=this.readVarint()+this.pos,o=this.buf.subarray(this.pos,u);return this.pos=u,o},readPackedVarint:function(u,o){if(this.type!==Es.Bytes)return u.push(this.readVarint(o));var h=Bg(this);for(u=u||[];this.pos<h;)u.push(this.readVarint(o));return u},readPackedSVarint:function(u){if(this.type!==Es.Bytes)return u.push(this.readSVarint());var o=Bg(this);for(u=u||[];this.pos<o;)u.push(this.readSVarint());return u},readPackedBoolean:function(u){if(this.type!==Es.Bytes)return u.push(this.readBoolean());var o=Bg(this);for(u=u||[];this.pos<o;)u.push(this.readBoolean());return u},readPackedFloat:function(u){if(this.type!==Es.Bytes)return u.push(this.readFloat());var o=Bg(this);for(u=u||[];this.pos<o;)u.push(this.readFloat());return u},readPackedDouble:function(u){if(this.type!==Es.Bytes)return u.push(this.readDouble());var o=Bg(this);for(u=u||[];this.pos<o;)u.push(this.readDouble());return u},readPackedFixed32:function(u){if(this.type!==Es.Bytes)return u.push(this.readFixed32());var o=Bg(this);for(u=u||[];this.pos<o;)u.push(this.readFixed32());return u},readPackedSFixed32:function(u){if(this.type!==Es.Bytes)return u.push(this.readSFixed32());var o=Bg(this);for(u=u||[];this.pos<o;)u.push(this.readSFixed32());return u},readPackedFixed64:function(u){if(this.type!==Es.Bytes)return u.push(this.readFixed64());var o=Bg(this);for(u=u||[];this.pos<o;)u.push(this.readFixed64());return u},readPackedSFixed64:function(u){if(this.type!==Es.Bytes)return u.push(this.readSFixed64());var o=Bg(this);for(u=u||[];this.pos<o;)u.push(this.readSFixed64());return u},skip:function(u){var o=7&u;if(o===Es.Varint)for(;this.buf[this.pos++]>127;);else if(o===Es.Bytes)this.pos=this.readVarint()+this.pos;else if(o===Es.Fixed32)this.pos+=4;else{if(o!==Es.Fixed64)throw new Error("Unimplemented type: "+o);this.pos+=8}},writeTag:function(u,o){this.writeVarint(u<<3|o)},realloc:function(u){for(var o=this.length||16;o<this.pos+u;)o*=2;if(o!==this.length){var h=new Uint8Array(o);h.set(this.buf),this.buf=h,this.length=o}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(u){this.realloc(4),Cb(this.buf,u,this.pos),this.pos+=4},writeSFixed32:function(u){this.realloc(4),Cb(this.buf,u,this.pos),this.pos+=4},writeFixed64:function(u){this.realloc(8),Cb(this.buf,-1&u,this.pos),Cb(this.buf,Math.floor(u*mQ),this.pos+4),this.pos+=8},writeSFixed64:function(u){this.realloc(8),Cb(this.buf,-1&u,this.pos),Cb(this.buf,Math.floor(u*mQ),this.pos+4),this.pos+=8},writeVarint:function(u){(u=+u||0)>268435455||u<0?function(o,h){var A,_;if(o>=0?(A=o%4294967296|0,_=o/4294967296|0):(_=~(-o/4294967296),4294967295^(A=~(-o%4294967296))?A=A+1|0:(A=0,_=_+1|0)),o>=18446744073709552e3||o<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");h.realloc(10),function(b,E,I){I.buf[I.pos++]=127&b|128,b>>>=7,I.buf[I.pos++]=127&b|128,b>>>=7,I.buf[I.pos++]=127&b|128,b>>>=7,I.buf[I.pos++]=127&b|128,I.buf[I.pos]=127&(b>>>=7)}(A,0,h),function(b,E){var I=(7&b)<<4;E.buf[E.pos++]|=I|((b>>>=3)?128:0),b&&(E.buf[E.pos++]=127&b|((b>>>=7)?128:0),b&&(E.buf[E.pos++]=127&b|((b>>>=7)?128:0),b&&(E.buf[E.pos++]=127&b|((b>>>=7)?128:0),b&&(E.buf[E.pos++]=127&b|((b>>>=7)?128:0),b&&(E.buf[E.pos++]=127&b)))))}(_,h)}(u,this):(this.realloc(4),this.buf[this.pos++]=127&u|(u>127?128:0),u<=127||(this.buf[this.pos++]=127&(u>>>=7)|(u>127?128:0),u<=127||(this.buf[this.pos++]=127&(u>>>=7)|(u>127?128:0),u<=127||(this.buf[this.pos++]=u>>>7&127))))},writeSVarint:function(u){this.writeVarint(u<0?2*-u-1:2*u)},writeBoolean:function(u){this.writeVarint(!!u)},writeString:function(u){u=String(u),this.realloc(4*u.length),this.pos++;var o=this.pos;this.pos=function(A,_,b){for(var E,I,F=0;F<_.length;F++){if((E=_.charCodeAt(F))>55295&&E<57344){if(!I){E>56319||F+1===_.length?(A[b++]=239,A[b++]=191,A[b++]=189):I=E;continue}if(E<56320){A[b++]=239,A[b++]=191,A[b++]=189,I=E;continue}E=I-55296<<10|E-56320|65536,I=null}else I&&(A[b++]=239,A[b++]=191,A[b++]=189,I=null);E<128?A[b++]=E:(E<2048?A[b++]=E>>6|192:(E<65536?A[b++]=E>>12|224:(A[b++]=E>>18|240,A[b++]=E>>12&63|128),A[b++]=E>>6&63|128),A[b++]=63&E|128)}return b}(this.buf,u,this.pos);var h=this.pos-o;h>=128&&vQ(o,h,this),this.pos=o-1,this.writeVarint(h),this.pos+=h},writeFloat:function(u){this.realloc(4),RE.write(this.buf,u,this.pos,!0,23,4),this.pos+=4},writeDouble:function(u){this.realloc(8),RE.write(this.buf,u,this.pos,!0,52,8),this.pos+=8},writeBytes:function(u){var o=u.length;this.writeVarint(o),this.realloc(o);for(var h=0;h<o;h++)this.buf[this.pos++]=u[h]},writeRawMessage:function(u,o){this.pos++;var h=this.pos;u(o,this);var A=this.pos-h;A>=128&&vQ(h,A,this),this.pos=h-1,this.writeVarint(A),this.pos+=A},writeMessage:function(u,o,h){this.writeTag(u,Es.Bytes),this.writeRawMessage(o,h)},writePackedVarint:function(u,o){o.length&&this.writeMessage(u,jge,o)},writePackedSVarint:function(u,o){o.length&&this.writeMessage(u,Gge,o)},writePackedBoolean:function(u,o){o.length&&this.writeMessage(u,qge,o)},writePackedFloat:function(u,o){o.length&&this.writeMessage(u,Kge,o)},writePackedDouble:function(u,o){o.length&&this.writeMessage(u,Wge,o)},writePackedFixed32:function(u,o){o.length&&this.writeMessage(u,Yge,o)},writePackedSFixed32:function(u,o){o.length&&this.writeMessage(u,Xge,o)},writePackedFixed64:function(u,o){o.length&&this.writeMessage(u,Zge,o)},writePackedSFixed64:function(u,o){o.length&&this.writeMessage(u,Jge,o)},writeBytesField:function(u,o){this.writeTag(u,Es.Bytes),this.writeBytes(o)},writeFixed32Field:function(u,o){this.writeTag(u,Es.Fixed32),this.writeFixed32(o)},writeSFixed32Field:function(u,o){this.writeTag(u,Es.Fixed32),this.writeSFixed32(o)},writeFixed64Field:function(u,o){this.writeTag(u,Es.Fixed64),this.writeFixed64(o)},writeSFixed64Field:function(u,o){this.writeTag(u,Es.Fixed64),this.writeSFixed64(o)},writeVarintField:function(u,o){this.writeTag(u,Es.Varint),this.writeVarint(o)},writeSVarintField:function(u,o){this.writeTag(u,Es.Varint),this.writeSVarint(o)},writeStringField:function(u,o){this.writeTag(u,Es.Bytes),this.writeString(o)},writeFloatField:function(u,o){this.writeTag(u,Es.Fixed32),this.writeFloat(o)},writeDoubleField:function(u,o){this.writeTag(u,Es.Fixed64),this.writeDouble(o)},writeBooleanField:function(u,o){this.writeVarintField(u,!!o)}};var Eb=R(AQ);const pL=3;function e0e(u,o,h){o.glyphs=[],u===1&&h.readMessage(t0e,o)}function t0e(u,o,h){if(u===3){const{id:A,bitmap:_,width:b,height:E,left:I,top:F,advance:O}=h.readMessage(n0e,{});o.glyphs.push({id:A,bitmap:new Y0({width:b+2*pL,height:E+2*pL},_),metrics:{width:b,height:E,left:I,top:F,advance:O}})}else u===4?o.ascender=h.readSVarint():u===5&&(o.descender=h.readSVarint())}function n0e(u,o,h){u===1?o.id=h.readVarint():u===2?o.bitmap=h.readBytes():u===3?o.width=h.readVarint():u===4?o.height=h.readVarint():u===5?o.left=h.readSVarint():u===6?o.top=h.readSVarint():u===7&&(o.advance=h.readVarint())}const yQ=pL,Id={horizontal:1,vertical:2,horizontalOnly:3};class Hx{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(o,h){const A=new Hx;return A.scale=o||1,A.fontStack=h,A}static forImage(o){const h=new Hx;return h.imageName=o,h}}class Sb{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(o,h){const A=new Sb;for(let _=0;_<o.sections.length;_++){const b=o.sections[_];b.image?A.addImageSection(b):A.addTextSection(b,h)}return A}length(){return this.text.length}getSection(o){return this.sections[this.sectionIndex[o]]}getSections(){return this.sections}getSectionIndex(o){return this.sectionIndex[o]}getCodePoint(o){return this.text.codePointAt(o)}verticalizePunctuation(o){this.text=function(h,A){let _="";for(let b=0;b<h.length;b++){const E=h.charCodeAt(b+1)||null,I=h.charCodeAt(b-1)||null;_+=!A&&(E&&hr(E)&&!Vx[h[b+1]]||I&&hr(I)&&!Vx[h[b-1]])||!Vx[h[b]]?h[b]:Vx[h[b]]}return _}(this.text,o)}trim(){let o=0;for(let A=0;A<this.text.length&&DE[this.text.charCodeAt(A)];A++)o++;let h=this.text.length;for(let A=this.text.length-1;A>=0&&A>=o&&DE[this.text.charCodeAt(A)];A--)h--;this.text=this.text.substring(o,h),this.sectionIndex=this.sectionIndex.slice(o,h)}substring(o,h){const A=new Sb;return A.text=this.text.substring(o,h),A.sectionIndex=this.sectionIndex.slice(o,h),A.sections=this.sections,A}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((o,h)=>Math.max(o,this.sections[h].scale),0)}addTextSection(o,h){this.text+=o.text,this.sections.push(Hx.forText(o.scale,o.fontStack||h));const A=this.sections.length-1;for(let _=0;_<o.text.length;++_)this.sectionIndex.push(A)}addImageSection(o){const h=o.image?o.image.namePrimary:"";if(h.length===0)return void Ge("Can't add FormattedSection with an empty image.");const A=this.getNextImageSectionCharCode();A?(this.text+=String.fromCodePoint(A),this.sections.push(Hx.forImage(h)),this.sectionIndex.push(this.sections.length-1)):Ge("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function AL(u,o,h,A,_,b,E,I,F,O,U,K,Z,fe,ge){const xe=Sb.fromFeature(u,_);K===Id.vertical&&xe.verticalizePunctuation(Z);let Ie=[];const Oe=function(yt,Dt,Gt,Xt,pn,en){if(!yt)return[];const Sn=[],Dn=function(Rn,cr,Un,Br,yr,qn){let ni=0;for(let Ur=0;Ur<Rn.length();Ur++){const Sr=Rn.getSection(Ur);ni+=bQ(Rn.getCodePoint(Ur),Sr,Br,yr,cr,qn)}return ni/Math.max(1,Math.ceil(ni/Un))}(yt,Dt,Gt,Xt,pn,en),yn=yt.text.indexOf("​")>=0;let On=0;for(let Rn=0;Rn<yt.length();Rn++){const cr=yt.getSection(Rn),Un=yt.getCodePoint(Rn);if(DE[Un]||(On+=bQ(Un,cr,Xt,pn,Dt,en)),Rn<yt.length()-1){const Br=!((gn=Un)<11904||!(ft["Bopomofo Extended"](gn)||ft.Bopomofo(gn)||ft["CJK Compatibility Forms"](gn)||ft["CJK Compatibility Ideographs"](gn)||ft["CJK Compatibility"](gn)||ft["CJK Radicals Supplement"](gn)||ft["CJK Strokes"](gn)||ft["CJK Symbols and Punctuation"](gn)||ft["CJK Unified Ideographs Extension A"](gn)||ft["CJK Unified Ideographs"](gn)||ft["Enclosed CJK Letters and Months"](gn)||ft["Halfwidth and Fullwidth Forms"](gn)||ft.Hiragana(gn)||ft["Ideographic Description Characters"](gn)||ft["Kangxi Radicals"](gn)||ft["Katakana Phonetic Extensions"](gn)||ft.Katakana(gn)||ft["Vertical Forms"](gn)||ft["Yi Radicals"](gn)||ft["Yi Syllables"](gn)));(r0e[Un]||Br||cr.imageName)&&Sn.push(xQ(Rn+1,On,Dn,Sn,i0e(Un,yt.getCodePoint(Rn+1),Br&&yn),!1))}}var gn;return CQ(xQ(yt.length(),On,Dn,Sn,0,!0))}(xe,O,b,o,A,fe),{processBidirectionalText:rt,processStyledBidirectionalText:lt}=La;if(rt&&xe.sections.length===1){const yt=rt(xe.toString(),Oe);for(const Dt of yt){const Gt=new Sb;Gt.text=Dt,Gt.sections=xe.sections;for(let Xt=0;Xt<Dt.length;Xt++)Gt.sectionIndex.push(0);Ie.push(Gt)}}else if(lt){const yt=lt(xe.text,xe.sectionIndex,Oe);for(const Dt of yt){const Gt=new Sb;Gt.text=Dt[0],Gt.sectionIndex=Dt[1],Gt.sections=xe.sections,Ie.push(Gt)}}else Ie=function(yt,Dt){const Gt=[],Xt=yt.text;let pn=0;for(const en of Dt)Gt.push(yt.substring(pn,en)),pn=en;return pn<Xt.length&&Gt.push(yt.substring(pn,Xt.length)),Gt}(xe,Oe);const ot=[],Tt={positionedLines:ot,text:xe.toString(),top:U[1],bottom:U[1],left:U[0],right:U[0],writingMode:K,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(yt,Dt,Gt,Xt,pn,en,Sn,Dn,yn,On,gn,Rn){let cr=0,Un=0,Br=0;const yr=Dn==="right"?1:Dn==="left"?0:.5;let qn=!1;for(const zi of pn){const ri=zi.getSections();for(const $i of ri){if($i.imageName)continue;const vi=Dt[$i.fontStack];if(vi&&(qn=vi.ascender!==void 0&&vi.descender!==void 0,!qn))break}if(!qn)break}let ni=0;for(const zi of pn){zi.trim();const ri=zi.getMaxScale(),$i=(ri-1)*mu,vi={positionedGlyphs:[],lineOffset:0};yt.positionedLines[ni]=vi;const na=vi.positionedGlyphs;let Si=0;if(!zi.length()){Un+=en,++ni;continue}let Za=0,ya=0;for(let Ma=0;Ma<zi.length();Ma++){const ba=zi.getSection(Ma),Ss=zi.getSectionIndex(Ma),Ua=zi.getCodePoint(Ma);let eo=ba.scale,Ko=null,tu=null,As=null,Fs=mu,xl=0;const Cl=!(yn===Id.horizontal||!gn&&!An(Ua)||gn&&(DE[Ua]||(Ur=Ua,ft.Arabic(Ur)||ft["Arabic Supplement"](Ur)||ft["Arabic Extended-A"](Ur)||ft["Arabic Presentation Forms-A"](Ur)||ft["Arabic Presentation Forms-B"](Ur))));if(ba.imageName){const El=Xt[ba.imageName];if(!El)continue;As=ba.imageName,yt.iconsInText=yt.iconsInText||!0,tu=El.paddedRect;const us=El.displaySize;eo=eo*mu/Rn,Ko={width:us[0],height:us[1],left:0,top:-yQ,advance:Cl?us[1]:us[0],localGlyph:!1},xl=qn?-Ko.height*eo:ri*mu-17-us[1]*eo,Fs=Ko.advance;const Bh=(Cl?us[0]:us[1])*eo-mu*ri;Bh>0&&Bh>Si&&(Si=Bh)}else{const El=Gt[ba.fontStack];if(!El)continue;El[Ua]&&(tu=El[Ua]);const us=Dt[ba.fontStack];if(!us)continue;const Bh=us.glyphs[Ua];if(!Bh)continue;if(Ko=Bh.metrics,Fs=Ua!==8203?mu:0,qn){const av=us.ascender!==void 0?Math.abs(us.ascender):0,wc=us.descender!==void 0?Math.abs(us.descender):0,Mh=(av+wc)*eo;Za<Mh&&(Za=Mh,ya=(av-wc)/2*eo),xl=-av*eo}else xl=(ri-eo)*mu-17}Cl?(yt.verticalizable=!0,na.push({glyph:Ua,imageName:As,x:cr,y:Un+xl,vertical:Cl,scale:eo,localGlyph:Ko.localGlyph,fontStack:ba.fontStack,sectionIndex:Ss,metrics:Ko,rect:tu}),cr+=Fs*eo+On):(na.push({glyph:Ua,imageName:As,x:cr,y:Un+xl,vertical:Cl,scale:eo,localGlyph:Ko.localGlyph,fontStack:ba.fontStack,sectionIndex:Ss,metrics:Ko,rect:tu}),cr+=Ko.advance*eo+On)}na.length!==0&&(Br=Math.max(cr-On,Br),qn?EQ(na,yr,Si,ya,en*ri/2):EQ(na,yr,Si,0,en/2)),cr=0;const wa=en*ri+Si;vi.lineOffset=Math.max(Si,$i),Un+=wa,++ni}var Ur;const Sr=Un,{horizontalAlign:Yn,verticalAlign:qr}=mL(Sn);(function(zi,ri,$i,vi,na,Si){const Za=(ri-$i)*na,ya=-Si*vi;for(const wa of zi)for(const Ma of wa.positionedGlyphs)Ma.x+=Za,Ma.y+=ya})(yt.positionedLines,yr,Yn,qr,Br,Sr),yt.top+=-qr*Sr,yt.bottom=yt.top+Sr,yt.left+=-Yn*Br,yt.right=yt.left+Br,yt.hasBaseline=qn}(Tt,o,h,A,Ie,E,I,F,K,O,Z,ge),!function(yt){for(const Dt of yt)if(Dt.positionedGlyphs.length!==0)return!1;return!0}(ot)&&Tt}const DE={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},r0e={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function bQ(u,o,h,A,_,b){if(o.imageName){const E=A[o.imageName];return E?E.displaySize[0]*o.scale*mu/b+_:0}{const E=h[o.fontStack],I=E&&E.glyphs[u];return I?I.metrics.advance*o.scale+_:0}}function wQ(u,o,h,A){const _=Math.pow(u-o,2);return A?u<o?_/2:2*_:_+Math.abs(h)*h}function i0e(u,o,h){let A=0;return u===10&&(A-=1e4),h&&(A+=150),u!==40&&u!==65288||(A+=50),o!==41&&o!==65289||(A+=50),A}function xQ(u,o,h,A,_,b){let E=null,I=wQ(o,h,_,b);for(const F of A){const O=wQ(o-F.x,h,_,b)+F.badness;O<=I&&(E=F,I=O)}return{index:u,x:o,priorBreak:E,badness:I}}function CQ(u){return u?CQ(u.priorBreak).concat(u.index):[]}function mL(u){let o=.5,h=.5;switch(u){case"right":case"top-right":case"bottom-right":o=1;break;case"left":case"top-left":case"bottom-left":o=0}switch(u){case"bottom":case"bottom-right":case"bottom-left":h=1;break;case"top":case"top-right":case"top-left":h=0}return{horizontalAlign:o,verticalAlign:h}}function EQ(u,o,h,A,_){if(!(o||h||A||_))return;const b=u.length-1,E=u[b],I=(E.x+E.metrics.advance*E.scale)*o;for(let F=0;F<=b;F++)u[F].x-=I,u[F].y+=h+A+_}function a0e(u,o,h,A){const{horizontalAlign:_,verticalAlign:b}=mL(A),E=h[0]-u.displaySize[0]*_,I=h[1]-u.displaySize[1]*b;return{imagePrimary:u,imageSecondary:o,top:I,bottom:I+u.displaySize[1],left:E,right:E+u.displaySize[0]}}function SQ(u,o,h,A,_,b){const E=u.imagePrimary;let I;if(E.content){const Ie=E.content,Oe=E.pixelRatio||1;I=[Ie[0]/Oe,Ie[1]/Oe,E.displaySize[0]-Ie[2]/Oe,E.displaySize[1]-Ie[3]/Oe]}const F=o.left*b,O=o.right*b;let U,K,Z,fe;h==="width"||h==="both"?(fe=_[0]+F-A[3],K=_[0]+O+A[1]):(fe=_[0]+(F+O-E.displaySize[0])/2,K=fe+E.displaySize[0]);const ge=o.top*b,xe=o.bottom*b;return h==="height"||h==="both"?(U=_[1]+ge-A[0],Z=_[1]+xe+A[2]):(U=_[1]+(ge+xe-E.displaySize[1])/2,Z=U+E.displaySize[1]),{imagePrimary:E,imageSecondary:void 0,top:U,right:K,bottom:Z,left:fe,collisionPadding:I}}class Mg extends G{constructor(o,h,A,_,b){super(o,h),this.angle=_,this.z=A,b!==void 0&&(this.segment=b)}clone(){return new Mg(this.x,this.y,this.z,this.angle,this.segment)}}function TQ(u,o,h,A,_){if(o.segment===void 0)return!0;let b=o,E=o.segment+1,I=0;for(;I>-h/2;){if(E--,E<0)return!1;I-=u[E].dist(b),b=u[E]}I+=u[E].dist(u[E+1]),E++;const F=[];let O=0;for(;I<h/2;){const U=u[E],K=u[E+1];if(!K)return!1;let Z=u[E-1].angleTo(U)-U.angleTo(K);for(Z=Math.abs((Z+3*Math.PI)%(2*Math.PI)-Math.PI),F.push({distance:I,angleDelta:Z}),O+=Z;I-F[0].distance>A;)O-=F.shift().angleDelta;if(O>_)return!1;E++,I+=U.dist(K)}return!0}function BQ(u){let o=0;for(let h=0;h<u.length-1;h++)o+=u[h].dist(u[h+1]);return o}function MQ(u,o,h){return u?.6*o*h:0}function IQ(u,o){return Math.max(u?u.right-u.left:0,o?o.right-o.left:0)}function s0e(u,o,h,A,_,b){const E=MQ(h,_,b),I=IQ(h,A)*b;let F=0;const O=BQ(u)/2;for(let U=0;U<u.length-1;U++){const K=u[U],Z=u[U+1],fe=K.dist(Z);if(F+fe>O){const ge=(O-F)/fe,xe=Di(K.x,Z.x,ge),Ie=Di(K.y,Z.y,ge),Oe=new Mg(xe,Ie,0,Z.angleTo(K),U);return!E||TQ(u,Oe,I,E,o)?Oe:void 0}F+=fe}}function o0e(u,o,h,A,_,b,E,I,F){const O=MQ(A,b,E),U=IQ(A,_),K=U*E,Z=u[0].x===0||u[0].x===F||u[0].y===0||u[0].y===F;return o-K<o/4&&(o=K+o/4),LQ(u,Z?o/2*I%o:(U/2+2*b)*E*I%o,o,O,h,K,Z,!1,F)}function LQ(u,o,h,A,_,b,E,I,F){const O=b/2,U=BQ(u);let K=0,Z=o-h,fe=[];for(let ge=0;ge<u.length-1;ge++){const xe=u[ge],Ie=u[ge+1],Oe=xe.dist(Ie),rt=Ie.angleTo(xe);for(;Z+h<K+Oe;){Z+=h;const lt=(Z-K)/Oe,ot=Di(xe.x,Ie.x,lt),Tt=Di(xe.y,Ie.y,lt);if(ot>=0&&ot<F&&Tt>=0&&Tt<F&&Z-O>=0&&Z+O<=U){const yt=new Mg(ot,Tt,0,rt,ge);A&&!TQ(u,yt,b,A,_)||fe.push(yt)}}K+=Oe}return I||fe.length||E||(fe=LQ(u,K/2,h,A,_,b,E,!0,F)),fe}function kQ(u,o,h,A,_){const b=[];for(let E=0;E<u.length;E++){const I=u[E];let F;for(let O=0;O<I.length-1;O++){let U=I[O],K=I[O+1];U.x<o&&K.x<o||(U.x<o?U=new G(o,U.y+(o-U.x)/(K.x-U.x)*(K.y-U.y))._round():K.x<o&&(K=new G(o,U.y+(o-U.x)/(K.x-U.x)*(K.y-U.y))._round()),U.y<h&&K.y<h||(U.y<h?U=new G(U.x+(h-U.y)/(K.y-U.y)*(K.x-U.x),h)._round():K.y<h&&(K=new G(U.x+(h-U.y)/(K.y-U.y)*(K.x-U.x),h)._round()),U.x>=A&&K.x>=A||(U.x>=A?U=new G(A,U.y+(A-U.x)/(K.x-U.x)*(K.y-U.y))._round():K.x>=A&&(K=new G(A,U.y+(A-U.x)/(K.x-U.x)*(K.y-U.y))._round()),U.y>=_&&K.y>=_||(U.y>=_?U=new G(U.x+(_-U.y)/(K.y-U.y)*(K.x-U.x),_)._round():K.y>=_&&(K=new G(U.x+(_-U.y)/(K.y-U.y)*(K.x-U.x),_)._round()),F&&U.equals(F[F.length-1])||(F=[U],b.push(F)),F.push(K)))))}}return b}function PQ(u){let o=0,h=0;for(const E of u)o+=E.w*E.h,h=Math.max(h,E.w);u.sort((E,I)=>I.h-E.h);const A=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(o/.95)),h),h:1/0}];let _=0,b=0;for(const E of u)for(let I=A.length-1;I>=0;I--){const F=A[I];if(!(E.w>F.w||E.h>F.h)){if(E.x=F.x,E.y=F.y,b=Math.max(b,E.y+E.h),_=Math.max(_,E.x+E.w),E.w===F.w&&E.h===F.h){const O=A.pop();I<A.length&&(A[I]=O)}else E.h===F.h?(F.x+=E.w,F.w-=E.w):E.w===F.w?(F.y+=E.h,F.h-=E.h):(A.push({x:F.x+E.w,y:F.y,w:F.w-E.w,h:E.h}),F.y+=E.h,F.h-=E.h);break}}return{w:_,h:b,fill:o/(_*b)||0}}ze(Mg,"Anchor");const Th=1;class gL{constructor(o,{pixelRatio:h,version:A,stretchX:_,stretchY:b,content:E}){this.paddedRect=o,this.pixelRatio=h,this.stretchX=_,this.stretchY=b,this.content=E,this.version=A}get tl(){return[this.paddedRect.x+Th,this.paddedRect.y+Th]}get br(){return[this.paddedRect.x+this.paddedRect.w-Th,this.paddedRect.y+this.paddedRect.h-Th]}get displaySize(){return[(this.paddedRect.w-2*Th)/this.pixelRatio,(this.paddedRect.h-2*Th)/this.pixelRatio]}}class FQ{constructor(o,h){const A={},_={};this.haveRenderCallbacks=[];const b=[];this.addImages(o,A,b),this.addImages(h,_,b);const{w:E,h:I}=PQ(b),F=new Md({width:E||1,height:I||1});for(const O in o){const U=o[O],K=A[O].paddedRect;Md.copy(U.data,F,{x:0,y:0},{x:K.x+Th,y:K.y+Th},U.data,U.sdf)}for(const O in h){const U=h[O],K=_[O].paddedRect,Z=K.x+Th,fe=K.y+Th,ge=U.data.width,xe=U.data.height;Md.copy(U.data,F,{x:0,y:0},{x:Z,y:fe},U.data),Md.copy(U.data,F,{x:0,y:xe-1},{x:Z,y:fe-1},{width:ge,height:1}),Md.copy(U.data,F,{x:0,y:0},{x:Z,y:fe+xe},{width:ge,height:1}),Md.copy(U.data,F,{x:ge-1,y:0},{x:Z-1,y:fe},{width:1,height:xe}),Md.copy(U.data,F,{x:0,y:0},{x:Z+ge,y:fe},{width:1,height:xe})}this.image=F,this.iconPositions=A,this.patternPositions=_}addImages(o,h,A){for(const _ in o){const b=o[_],E={x:0,y:0,w:b.data.width+2*Th,h:b.data.height+2*Th};A.push(E),h[_]=new gL(E,b),b.hasRenderCallback&&this.haveRenderCallbacks.push(_)}}patchUpdatedImages(o,h,A){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(_=>o.hasImage(_,A)),o.dispatchRenderCallbacks(this.haveRenderCallbacks,A);for(const _ in o.getUpdatedImages(A))this.patchUpdatedImage(this.iconPositions[_],o.getImage(_,A),h),this.patchUpdatedImage(this.patternPositions[_],o.getImage(_,A),h)}patchUpdatedImage(o,h,A){if(!o||!h||o.version===h.version)return;o.version=h.version;const[_,b]=o.tl,E=!!Object.keys(this.patternPositions).length;A.update(h.data,{useMipmap:E},{x:_,y:b})}}ze(gL,"ImagePosition"),ze(FQ,"ImageAtlas");const Qx=1e20;function RQ(u,o,h,A,_,b,E,I,F){for(let O=o;O<o+A;O++)OQ(u,h*b+O,b,_,E,I,F);for(let O=h;O<h+_;O++)OQ(u,O*b+o,1,A,E,I,F)}function OQ(u,o,h,A,_,b,E){b[0]=0,E[0]=-Qx,E[1]=Qx,_[0]=u[o];for(let I=1,F=0,O=0;I<A;I++){_[I]=u[o+I*h];const U=I*I;do{const K=b[F];O=(_[I]-_[K]+U-K*K)/(I-K)/2}while(O<=E[F]&&--F>-1);F++,b[F]=I,E[F]=O,E[F+1]=Qx}for(let I=0,F=0;I<A;I++){for(;E[F+1]<I;)F++;const O=b[F],U=I-O;u[o+I*h]=_[O]+U*U}}const Cp=2,vL={none:0,ideographs:1,all:2};class Tb{constructor(o,h,A){this.requestManager=o,this.localGlyphMode=h,this.localFontFamily=A,this.urls={},this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(o,h){this.urls[h]=o}getGlyphs(o,h,A){const _=[],b=this.urls[h]||m.GLYPHS_URL;for(const E in o)for(const I of o[E])_.push({stack:E,id:I});Ee(_,({stack:E,id:I},F)=>{let O=this.entries[E];O||(O=this.entries[E]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let U=O.glyphs[I];if(U!==void 0)return void F(null,{stack:E,id:I,glyph:U});if(U=this._tinySDF(O,E,I),U)return O.glyphs[I]=U,void F(null,{stack:E,id:I,glyph:U});const K=Math.floor(I/256);if(256*K>65535)return void F(new Error("glyphs > 65535 not supported"));if(O.ranges[K])return void F(null,{stack:E,id:I,glyph:U});let Z=O.requests[K];Z||(Z=O.requests[K]=[],Tb.loadGlyphRange(E,K,b,this.requestManager,(fe,ge)=>{if(ge){O.ascender=ge.ascender,O.descender=ge.descender;for(const xe in ge.glyphs)this._doesCharSupportLocalGlyph(+xe)||(O.glyphs[+xe]=ge.glyphs[+xe]);O.ranges[K]=!0}for(const xe of Z)xe(fe,ge);delete O.requests[K]})),Z.push((fe,ge)=>{fe?F(fe):ge&&F(null,{stack:E,id:I,glyph:ge.glyphs[I]||null})})},(E,I)=>{if(E)A(E);else if(I){const F={};for(const{stack:O,id:U,glyph:K}of I)F[O]===void 0&&(F[O]={}),F[O].glyphs===void 0&&(F[O].glyphs={}),F[O].glyphs[U]=K&&{id:K.id,bitmap:K.bitmap.clone(),metrics:K.metrics},F[O].ascender=this.entries[O].ascender,F[O].descender=this.entries[O].descender;A(null,F)}})}_doesCharSupportLocalGlyph(o){return this.localGlyphMode!==vL.none&&(this.localGlyphMode===vL.all?!!this.localFontFamily:!!this.localFontFamily&&(ft["CJK Unified Ideographs"](o)||ft["Hangul Syllables"](o)||ft.Hiragana(o)||ft.Katakana(o)||ft["CJK Symbols and Punctuation"](o)||ft["CJK Unified Ideographs Extension A"](o)||ft["CJK Unified Ideographs Extension B"](o)))}_tinySDF(o,h,A){const _=this.localFontFamily;if(!_||!this._doesCharSupportLocalGlyph(A))return;let b=o.tinySDF;if(!b){let xe="400";/bold/i.test(h)?xe="900":/medium/i.test(h)?xe="500":/light/i.test(h)&&(xe="200"),b=o.tinySDF=new Tb.TinySDF({fontFamily:_,fontWeight:xe,fontSize:24*Cp,buffer:3*Cp,radius:8*Cp}),b.fontWeight=xe}if(this.localGlyphs[b.fontWeight][A])return this.localGlyphs[b.fontWeight][A];const E=String.fromCodePoint(A),{data:I,width:F,height:O,glyphWidth:U,glyphHeight:K,glyphLeft:Z,glyphTop:fe,glyphAdvance:ge}=b.draw(E);return this.localGlyphs[b.fontWeight][A]={id:A,bitmap:new Y0({width:F,height:O},I),metrics:{width:U/Cp,height:K/Cp,left:Z/Cp,top:fe/Cp-27,advance:ge/Cp,localGlyph:!0}}}}Tb.loadGlyphRange=function(u,o,h,A,_){const b=256*o,E=b+255,I=A.transformRequest(A.normalizeGlyphsURL(h).replace("{fontstack}",u).replace("{range}",`${b}-${E}`),Rr.Glyphs);hn(I,(F,O)=>{if(F)_(F);else if(O){const U={},K=function(Z){return new Eb(Z).readFields(e0e,{})}(O);for(const Z of K.glyphs)U[Z.id]=Z;_(null,{glyphs:U,ascender:K.ascender,descender:K.descender})}})},Tb.TinySDF=class{constructor({fontSize:u=24,buffer:o=3,radius:h=8,cutoff:A=.25,fontFamily:_="sans-serif",fontWeight:b="normal",fontStyle:E="normal"}={}){this.buffer=o,this.cutoff=A,this.radius=h;const I=this.size=u+4*o,F=this._createCanvas(I),O=this.ctx=F.getContext("2d",{willReadFrequently:!0});O.font=`${E} ${b} ${u}px ${_}`,O.textBaseline="alphabetic",O.textAlign="left",O.fillStyle="black",this.gridOuter=new Float64Array(I*I),this.gridInner=new Float64Array(I*I),this.f=new Float64Array(I),this.z=new Float64Array(I+1),this.v=new Uint16Array(I)}_createCanvas(u){const o=document.createElement("canvas");return o.width=o.height=u,o}draw(u){const{width:o,actualBoundingBoxAscent:h,actualBoundingBoxDescent:A,actualBoundingBoxLeft:_,actualBoundingBoxRight:b}=this.ctx.measureText(u),E=Math.ceil(h),I=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(b-_))),F=Math.min(this.size-this.buffer,E+Math.ceil(A)),O=I+2*this.buffer,U=F+2*this.buffer,K=Math.max(O*U,0),Z=new Uint8ClampedArray(K),fe={data:Z,width:O,height:U,glyphWidth:I,glyphHeight:F,glyphTop:E,glyphLeft:0,glyphAdvance:o};if(I===0||F===0)return fe;const{ctx:ge,buffer:xe,gridInner:Ie,gridOuter:Oe}=this;ge.clearRect(xe,xe,I,F),ge.fillText(u,xe,xe+E);const rt=ge.getImageData(xe,xe,I,F);Oe.fill(Qx,0,K),Ie.fill(0,0,K);for(let lt=0;lt<F;lt++)for(let ot=0;ot<I;ot++){const Tt=rt.data[4*(lt*I+ot)+3]/255;if(Tt===0)continue;const yt=(lt+xe)*O+ot+xe;if(Tt===1)Oe[yt]=0,Ie[yt]=Qx;else{const Dt=.5-Tt;Oe[yt]=Dt>0?Dt*Dt:0,Ie[yt]=Dt<0?Dt*Dt:0}}RQ(Oe,0,0,O,U,O,this.f,this.v,this.z),RQ(Ie,xe,xe,I,F,O,this.f,this.v,this.z);for(let lt=0;lt<K;lt++){const ot=Math.sqrt(Oe[lt])-Math.sqrt(Ie[lt]);Z[lt]=Math.round(255-255*(ot/this.radius+this.cutoff))}return fe}};const J0=Th;function DQ(u,o,h,A){const _=[],b=u.imagePrimary,E=b.pixelRatio,I=b.paddedRect.w-2*J0,F=b.paddedRect.h-2*J0,O=u.right-u.left,U=u.bottom-u.top,K=b.stretchX||[[0,I]],Z=b.stretchY||[[0,F]],fe=(en,Sn)=>en+Sn[1]-Sn[0],ge=K.reduce(fe,0),xe=Z.reduce(fe,0),Ie=I-ge,Oe=F-xe;let rt=0,lt=ge,ot=0,Tt=xe,yt=0,Dt=Ie,Gt=0,Xt=Oe;if(b.content&&A){const en=b.content;rt=NE(K,0,en[0]),ot=NE(Z,0,en[1]),lt=NE(K,en[0],en[2]),Tt=NE(Z,en[1],en[3]),yt=en[0]-rt,Gt=en[1]-ot,Dt=en[2]-en[0]-lt,Xt=en[3]-en[1]-Tt}const pn=(en,Sn,Dn,yn)=>{const On=UE(en.stretch-rt,lt,O,u.left),gn=zE(en.fixed-yt,Dt,en.stretch,ge),Rn=UE(Sn.stretch-ot,Tt,U,u.top),cr=zE(Sn.fixed-Gt,Xt,Sn.stretch,xe),Un=UE(Dn.stretch-rt,lt,O,u.left),Br=zE(Dn.fixed-yt,Dt,Dn.stretch,ge),yr=UE(yn.stretch-ot,Tt,U,u.top),qn=zE(yn.fixed-Gt,Xt,yn.stretch,xe),ni=new G(On,Rn),Ur=new G(Un,Rn),Sr=new G(Un,yr),Yn=new G(On,yr),qr=new G(gn/E,cr/E),zi=new G(Br/E,qn/E),ri=o*Math.PI/180;if(ri){const ya=Math.sin(ri),wa=Math.cos(ri),Ma=[wa,-ya,ya,wa];ni._matMult(Ma),Ur._matMult(Ma),Yn._matMult(Ma),Sr._matMult(Ma)}const $i=en.stretch+en.fixed,vi=Dn.stretch+Dn.fixed,na=Sn.stretch+Sn.fixed,Si=yn.stretch+yn.fixed,Za=u.imageSecondary;return{tl:ni,tr:Ur,bl:Yn,br:Sr,texPrimary:{x:b.paddedRect.x+J0+$i,y:b.paddedRect.y+J0+na,w:vi-$i,h:Si-na},texSecondary:Za?{x:Za.paddedRect.x+J0+$i,y:Za.paddedRect.y+J0+na,w:vi-$i,h:Si-na}:void 0,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:qr,pixelOffsetBR:zi,minFontScaleX:Dt/E/O,minFontScaleY:Xt/E/U,isSDF:h}};if(A&&(b.stretchX||b.stretchY)){const en=NQ(K,Ie,ge),Sn=NQ(Z,Oe,xe);for(let Dn=0;Dn<en.length-1;Dn++){const yn=en[Dn],On=en[Dn+1];for(let gn=0;gn<Sn.length-1;gn++)_.push(pn(yn,Sn[gn],On,Sn[gn+1]))}}else _.push(pn({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:I+1},{fixed:0,stretch:F+1}));return _}function NE(u,o,h){let A=0;for(const _ of u)A+=Math.max(o,Math.min(h,_[1]))-Math.max(o,Math.min(h,_[0]));return A}function NQ(u,o,h){const A=[{fixed:-J0,stretch:0}];for(const[_,b]of u){const E=A[A.length-1];A.push({fixed:_-E.stretch,stretch:E.stretch}),A.push({fixed:_-E.stretch,stretch:E.stretch+(b-_)})}return A.push({fixed:o+J0,stretch:h}),A}function UE(u,o,h,A){return u/o*h+A}function zE(u,o,h,A){return u-o*h/A}function l0e(u,o,h,A){const _=o+u.positionedLines[A].lineOffset;return A===0?h+_/2:h+(_+(o+u.positionedLines[A-1].lineOffset))/2}function u0e(u,o=1,h=!1){let A=1/0,_=1/0,b=-1/0,E=-1/0;const I=u[0];for(let fe=0;fe<I.length;fe++){const ge=I[fe];(!fe||ge.x<A)&&(A=ge.x),(!fe||ge.y<_)&&(_=ge.y),(!fe||ge.x>b)&&(b=ge.x),(!fe||ge.y>E)&&(E=ge.y)}const F=Math.min(b-A,E-_);let O=F/2;const U=new Ki([],c0e);if(F===0)return new G(A,_);for(let fe=A;fe<b;fe+=F)for(let ge=_;ge<E;ge+=F)U.push(new Bb(fe+O,ge+O,O,u));let K=function(fe){let ge=0,xe=0,Ie=0;const Oe=fe[0];for(let rt=0,lt=Oe.length,ot=lt-1;rt<lt;ot=rt++){const Tt=Oe[rt],yt=Oe[ot],Dt=Tt.x*yt.y-yt.x*Tt.y;xe+=(Tt.x+yt.x)*Dt,Ie+=(Tt.y+yt.y)*Dt,ge+=3*Dt}return new Bb(xe/ge,Ie/ge,0,fe)}(u),Z=U.length;for(;U.length;){const fe=U.pop();(fe.d>K.d||!K.d)&&(K=fe,h&&console.log("found best %d after %d probes",Math.round(1e4*fe.d)/1e4,Z)),fe.max-K.d<=o||(O=fe.h/2,U.push(new Bb(fe.p.x-O,fe.p.y-O,O,u)),U.push(new Bb(fe.p.x+O,fe.p.y-O,O,u)),U.push(new Bb(fe.p.x-O,fe.p.y+O,O,u)),U.push(new Bb(fe.p.x+O,fe.p.y+O,O,u)),Z+=4)}return h&&(console.log(`num probes: ${Z}`),console.log(`best distance: ${K.d}`)),K.p}function c0e(u,o){return o.max-u.max}class Bb{constructor(o,h,A,_){this.p=new G(o,h),this.h=A,this.d=function(b,E){let I=!1,F=1/0;for(let O=0;O<E.length;O++){const U=E[O];for(let K=0,Z=U.length,fe=Z-1;K<Z;fe=K++){const ge=U[K],xe=U[fe];ge.y>b.y!=xe.y>b.y&&b.x<(xe.x-ge.x)*(b.y-ge.y)/(xe.y-ge.y)+ge.x&&(I=!I),F=Math.min(F,K0(b,ge,xe))}}return(I?1:-1)*Math.sqrt(F)}(this.p,_),this.max=this.d+this.h*Math.SQRT2}}const _L=Number.POSITIVE_INFINITY,h0e=Math.sqrt(2);function UQ(u,[o,h]){let A=0,_=0;if(h===_L){o<0&&(o=0);const b=o/h0e;switch(u){case"top-right":case"top-left":_=b-7;break;case"bottom-right":case"bottom-left":_=7-b;break;case"bottom":_=7-o;break;case"top":_=o-7}switch(u){case"top-right":case"bottom-right":A=-b;break;case"top-left":case"bottom-left":A=b;break;case"left":A=o;break;case"right":A=-o}}else{switch(o=Math.abs(o),h=Math.abs(h),u){case"top-right":case"top-left":case"top":_=h-7;break;case"bottom-right":case"bottom-left":case"bottom":_=7-h}switch(u){case"top-right":case"bottom-right":case"right":A=-o;break;case"top-left":case"bottom-left":case"left":A=o}}return[A,_]}function yL(u){switch(u){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function d0e(u,o,h,A,_,b,E,I,F,O,U,K,Z,fe,ge){let xe=b.textMaxSize.evaluate(o,{},K);xe===void 0&&(xe=E);const Ie=u.layers[0].layout,Oe=Ie.get("icon-offset").evaluate(o,{},K),rt=$Q(h.horizontal)||h.vertical,lt=Z.name==="globe",ot=mu,Tt=E/ot,yt=u.tilePixelRatio*xe/ot,Dt=(On=u.overscaling,u.zoom>18&&On>2&&(On>>=1),Math.max(zn/(512*On),1)*Ie.get("symbol-spacing")),Gt=Ie.get("text-padding")*u.tilePixelRatio,Xt=Ie.get("icon-padding")*u.tilePixelRatio,pn=W(Ie.get("text-max-angle")),en=Ie.get("text-rotation-alignment")==="map"&&Ie.get("symbol-placement")!=="point",Sn=Ie.get("icon-rotation-alignment")==="map"&&Ie.get("symbol-placement")!=="point",Dn=Ie.get("symbol-placement"),yn=Dt/2;var On;const gn=Ie.get("icon-text-fit").evaluate(o,{},K),Rn=Ie.get("icon-text-fit-padding").evaluate(o,{},K),cr=gn!=="none";let Un;u.hasAnyIconTextFit===!1&&cr&&(u.hasAnyIconTextFit=!0),A&&cr&&(u.allowVerticalPlacement&&h.vertical&&(Un=SQ(A,h.vertical,gn,Rn,Oe,Tt)),rt&&(A=SQ(A,rt,gn,Rn,Oe,Tt)));const Br=(yr,qn,ni)=>{if(qn.x<0||qn.x>=zn||qn.y<0||qn.y>=zn)return;let Ur=null;if(lt){const{x:Sr,y:Yn,z:qr}=Z.projectTilePoint(qn.x,qn.y,ni);Ur={anchor:new Mg(Sr,Yn,qr,0,void 0),up:Z.upVector(ni,qn.x,qn.y)}}(function(Sr,Yn,qr,zi,ri,$i,vi,na,Si,Za,ya,wa,Ma,ba,Ss,Ua,eo,Ko,tu,As,Fs,xl,Cl,El,us,Bh,av){const wc=Sr.addToLineVertexArray(Yn,zi);let Mh,kd,o4,oS,Vj,Hj,Qj,jj=0,Gj=0,Kj=0,Wj=0,HL=-1,QL=-1;const QA={};let qj=Ix("");const A_=qr?qr.anchor:Yn,jL=Si.layout.get("icon-text-fit").evaluate(Fs,{},us)!=="none";let GL=0,KL=0;if(Si._unevaluatedLayout.getValue("text-radial-offset")===void 0?[GL,KL]=Si.layout.get("text-offset").evaluate(Fs,{},us).map(Ih=>Ih*mu):(GL=Si.layout.get("text-radial-offset").evaluate(Fs,{},us)*mu,KL=_L),Sr.allowVerticalPlacement&&ri.vertical){const Ih=ri.vertical;if(Ss)Hj=bL(Ih),na&&(Qj=bL(na));else{const Lh=Si.layout.get("text-rotate").evaluate(Fs,{},us)+90;o4=$E(Za,A_,Yn,ya,wa,Ma,Ih,ba,Lh,Ua),na&&(oS=$E(Za,A_,Yn,ya,wa,Ma,na,Ko,Lh))}}if($i){const Ih=Si.layout.get("icon-rotate").evaluate(Fs,{},us),Lh=DQ($i,Ih,Cl,jL),Rb=na?DQ(na,Ih,Cl,jL):void 0;kd=$E(Za,A_,Yn,ya,wa,Ma,$i,Ko,Ih),jj=4*Lh.length;const Yj=Sr.iconSizeData;let m_=null;Yj.kind==="source"?(m_=[xp*Si.layout.get("icon-size").evaluate(Fs,{},us)],m_[0]>ev&&Ge(`${Sr.layerIds[0]}: Value for "icon-size" is >= ${jx}. Reduce your "icon-size".`)):Yj.kind==="composite"&&(m_=[xp*xl.compositeIconSizes[0].evaluate(Fs,{},us),xp*xl.compositeIconSizes[1].evaluate(Fs,{},us)],(m_[0]>ev||m_[1]>ev)&&Ge(`${Sr.layerIds[0]}: Value for "icon-size" is >= ${jx}. Reduce your "icon-size".`)),Sr.addSymbols(Sr.icon,Lh,m_,As,tu,Fs,!1,qr,Yn,wc.lineStartIndex,wc.lineLength,-1,El,us,Bh,av),HL=Sr.icon.placedSymbolArray.length-1,Rb&&(Gj=4*Rb.length,Sr.addSymbols(Sr.icon,Rb,m_,As,tu,Fs,Id.vertical,qr,Yn,wc.lineStartIndex,wc.lineLength,-1,El,us,Bh,av),QL=Sr.icon.placedSymbolArray.length-1)}for(const Ih in ri.horizontal){const Lh=ri.horizontal[Ih];Mh||(qj=Ix(Lh.text),Ss?Vj=bL(Lh):Mh=$E(Za,A_,Yn,ya,wa,Ma,Lh,ba,Si.layout.get("text-rotate").evaluate(Fs,{},us),Ua));const Rb=Lh.positionedLines.length===1;if(Kj+=zQ(Sr,qr,Yn,Lh,vi,Si,Ss,Fs,Ua,wc,ri.vertical?Id.horizontal:Id.horizontalOnly,Rb?Object.keys(ri.horizontal):[Ih],QA,HL,xl,El,us,Bh),Rb)break}ri.vertical&&(Wj+=zQ(Sr,qr,Yn,ri.vertical,vi,Si,Ss,Fs,Ua,wc,Id.vertical,["vertical"],QA,QL,xl,El,us,Bh));let sv=-1;const WL=(Ih,Lh)=>Ih?Math.max(Ih,Lh):Lh;sv=WL(Vj,sv),sv=WL(Hj,sv),sv=WL(Qj,sv);const Ive=sv>-1?1:0;Sr.glyphOffsetArray.length>=65535&&Ge("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Fs.sortKey!==void 0&&Sr.addToSortKeyRanges(Sr.symbolInstances.length,Fs.sortKey),Sr.symbolInstances.emplaceBack(Yn.x,Yn.y,A_.x,A_.y,A_.z,QA.right>=0?QA.right:-1,QA.center>=0?QA.center:-1,QA.left>=0?QA.left:-1,QA.vertical>=0?QA.vertical:-1,HL,QL,qj,Mh!==void 0?Mh:Sr.collisionBoxArray.length,Mh!==void 0?Mh+1:Sr.collisionBoxArray.length,o4!==void 0?o4:Sr.collisionBoxArray.length,o4!==void 0?o4+1:Sr.collisionBoxArray.length,kd!==void 0?kd:Sr.collisionBoxArray.length,kd!==void 0?kd+1:Sr.collisionBoxArray.length,oS||Sr.collisionBoxArray.length,oS?oS+1:Sr.collisionBoxArray.length,ya,Kj,Wj,jj,Gj,Ive,0,GL,KL,sv,0,jL?1:0)})(u,qn,Ur,yr,h,A,_,Un,u.layers[0],u.collisionBoxArray,o.index,o.sourceLayerIndex,u.index,Gt,en,F,0,Xt,Sn,Oe,o,b,O,U,K,fe,ge)};if(Dn==="line")for(const yr of kQ(o.geometry,0,0,zn,zn)){const qn=o0e(yr,Dt,pn,h.vertical||rt,A,ot,yt,u.overscaling,zn);for(const ni of qn)rt&&f0e(u,rt.text,yn,ni)||Br(yr,ni,K)}else if(Dn==="line-center"){for(const yr of o.geometry)if(yr.length>1){const qn=s0e(yr,pn,h.vertical||rt,A,ot,yt);qn&&Br(yr,qn,K)}}else if(o.type==="Polygon")for(const yr of aL(o.geometry,0)){const qn=u0e(yr,16);Br(yr[0],new Mg(qn.x,qn.y,0,0,void 0),K)}else if(o.type==="LineString")for(const yr of o.geometry)Br(yr,new Mg(yr[0].x,yr[0].y,0,0,void 0),K);else if(o.type==="Point")for(const yr of o.geometry)for(const qn of yr)Br([qn],new Mg(qn.x,qn.y,0,0,void 0),K)}const jx=255,ev=jx*xp;function zQ(u,o,h,A,_,b,E,I,F,O,U,K,Z,fe,ge,xe,Ie,Oe){const rt=function(Tt,yt,Dt,Gt,Xt,pn,en,Sn){const Dn=[];if(yt.positionedLines.length===0)return Dn;const yn=Gt.layout.get("text-rotate").evaluate(pn,{})*Math.PI/180,On=function(Br){const yr=Br[0],qn=Br[1],ni=yr*qn;return ni>0?[yr,-qn]:ni<0?[-yr,qn]:yr===0?[qn,yr]:[qn,-yr]}(Dt);let gn=Math.abs(yt.top-yt.bottom);for(const Br of yt.positionedLines)gn-=Br.lineOffset;const Rn=yt.positionedLines.length,cr=gn/Rn;let Un=yt.top-Dt[1];for(let Br=0;Br<Rn;++Br){const yr=yt.positionedLines[Br];Un=l0e(yt,cr,Un,Br);for(const qn of yr.positionedGlyphs){if(!qn.rect)continue;const ni=qn.rect||{};let Ur=yQ+1,Sr=!0,Yn=1,qr=0;if(qn.imageName){const As=en[qn.imageName];if(!As)continue;if(As.sdf){Ge("SDF images are not supported in formatted text and will be ignored.");continue}Sr=!1,Yn=As.pixelRatio,Ur=Th/Yn}const zi=(Xt||Sn)&&qn.vertical,ri=qn.metrics.advance*qn.scale/2,$i=qn.metrics,vi=qn.rect;if(vi===null)continue;Sn&&yt.verticalizable&&(qr=qn.imageName?ri-qn.metrics.width*qn.scale/2:0);const na=Xt?[qn.x+ri,qn.y]:[0,0];let Si=[0,0],Za=[0,0],ya=!1;Xt||(zi?(Za=[qn.x+ri+On[0],qn.y+On[1]-qr],ya=!0):Si=[qn.x+ri+Dt[0],qn.y+Dt[1]-qr]);const wa=vi.w*qn.scale/(Yn*(qn.localGlyph?Cp:1)),Ma=vi.h*qn.scale/(Yn*(qn.localGlyph?Cp:1));let ba,Ss,Ua,eo;if(zi){const As=qn.y-Un,Fs=new G(-ri,ri-As),xl=-Math.PI/2,Cl=new G(...Za);ba=new G(-ri+Si[0],Si[1]),ba._rotateAround(xl,Fs)._add(Cl),ba.x+=-As+ri,ba.y-=($i.left-Ur)*qn.scale;const El=qn.imageName?$i.advance*qn.scale:mu*qn.scale,us=String.fromCodePoint(qn.glyph);Vge(us)?ba.x+=(1-Ur)*qn.scale:Hge(us)?ba.x+=El-$i.height*qn.scale+(-Ur-1)*qn.scale:ba.x+=qn.imageName||$i.width+2*Ur===vi.w&&$i.height+2*Ur===vi.h?(El-Ma)/2:(El-($i.height+2*Ur)*qn.scale)/2,Ss=new G(ba.x,ba.y-wa),Ua=new G(ba.x+Ma,ba.y),eo=new G(ba.x+Ma,ba.y-wa)}else{const As=($i.left-Ur)*qn.scale-ri+Si[0],Fs=(-$i.top-Ur)*qn.scale+Si[1],xl=As+wa,Cl=Fs+Ma;ba=new G(As,Fs),Ss=new G(xl,Fs),Ua=new G(As,Cl),eo=new G(xl,Cl)}if(yn){let As;As=Xt?new G(0,0):ya?new G(On[0],On[1]):new G(Dt[0],Dt[1]),ba._rotateAround(yn,As),Ss._rotateAround(yn,As),Ua._rotateAround(yn,As),eo._rotateAround(yn,As)}const Ko=new G(0,0),tu=new G(0,0);Dn.push({tl:ba,tr:Ss,bl:Ua,br:eo,texPrimary:ni,texSecondary:void 0,writingMode:yt.writingMode,glyphOffset:na,sectionIndex:qn.sectionIndex,isSDF:Sr,pixelOffsetTL:Ko,pixelOffsetBR:tu,minFontScaleX:0,minFontScaleY:0})}}return Dn}(0,A,F,b,E,I,_,u.allowVerticalPlacement),lt=u.textSizeData;let ot=null;lt.kind==="source"?(ot=[xp*b.layout.get("text-size").evaluate(I,{},Ie)],ot[0]>ev&&Ge(`${u.layerIds[0]}: Value for "text-size" is >= ${jx}. Reduce your "text-size".`)):lt.kind==="composite"&&(ot=[xp*ge.compositeTextSizes[0].evaluate(I,{},Ie),xp*ge.compositeTextSizes[1].evaluate(I,{},Ie)],(ot[0]>ev||ot[1]>ev)&&Ge(`${u.layerIds[0]}: Value for "text-size" is >= ${jx}. Reduce your "text-size".`)),u.addSymbols(u.text,rt,ot,F,E,I,U,o,h,O.lineStartIndex,O.lineLength,fe,xe,Ie,Oe,!1);for(const Tt of K)Z[Tt]=u.text.placedSymbolArray.length-1;return 4*rt.length}function $Q(u){for(const o in u)return u[o];return null}function $E(u,o,h,A,_,b,E,I,F,O){let U=E.top,K=E.bottom,Z=E.left,fe=E.right;const ge=E.collisionPadding;if(ge&&(Z-=ge[0],U-=ge[1],fe+=ge[2],K+=ge[3]),F){const xe=new G(Z,U),Ie=new G(fe,U),Oe=new G(Z,K),rt=new G(fe,K),lt=W(F);let ot=new G(0,0);O&&(ot=new G(O[0],O[1])),xe._rotateAround(lt,ot),Ie._rotateAround(lt,ot),Oe._rotateAround(lt,ot),rt._rotateAround(lt,ot),Z=Math.min(xe.x,Ie.x,Oe.x,rt.x),fe=Math.max(xe.x,Ie.x,Oe.x,rt.x),U=Math.min(xe.y,Ie.y,Oe.y,rt.y),K=Math.max(xe.y,Ie.y,Oe.y,rt.y)}return u.emplaceBack(o.x,o.y,o.z,h.x,h.y,Z,U,fe,K,I,A,_,b),u.length-1}function bL(u){u.collisionPadding&&(u.top-=u.collisionPadding[1],u.bottom+=u.collisionPadding[3]);const o=u.bottom-u.top;return o>0?Math.max(10,o):null}function f0e(u,o,h,A){const _=u.compareText;if(o in _){const b=_[o];for(let E=b.length-1;E>=0;E--)if(A.dist(b[E])<h)return!0}else _[o]=[];return _[o].push(A),!1}function VQ(u,o){const h=u.fovAboveCenter,A=u.elevation?u.elevation.getMinElevationBelowMSL()*o:0,_=(u._camera.position[2]*u.worldSize-A)/Math.cos(u._pitch),b=Math.sin(h)*_/Math.sin(Math.max(Math.PI/2-u._pitch-h,.01)),E=Math.sin(u._pitch)*b+_;return Math.min(1.01*E,_*(1/u._horizonShift))}function Gx(u,o){if(!o.isReprojectedInTileSpace)return{scale:1<<u.z,x:u.x,y:u.y,x2:u.x+1,y2:u.y+1,projection:o};const h=Math.pow(2,-u.z),A=u.x*h,_=(u.x+1)*h,b=u.y*h,E=(u.y+1)*h,I=wi(A),F=wi(_),O=ia(b),U=ia(E),K=o.project(I,O),Z=o.project(F,O),fe=o.project(F,U),ge=o.project(I,U);let xe=Math.min(K.x,Z.x,fe.x,ge.x),Ie=Math.min(K.y,Z.y,fe.y,ge.y),Oe=Math.max(K.x,Z.x,fe.x,ge.x),rt=Math.max(K.y,Z.y,fe.y,ge.y);const lt=h/16;function ot(yt,Dt,Gt,Xt,pn,en){const Sn=(Gt+pn)/2,Dn=(Xt+en)/2,yn=o.project(wi(Sn),ia(Dn)),On=Math.max(0,xe-yn.x,Ie-yn.y,yn.x-Oe,yn.y-rt);xe=Math.min(xe,yn.x),Oe=Math.max(Oe,yn.x),Ie=Math.min(Ie,yn.y),rt=Math.max(rt,yn.y),On>lt&&(ot(yt,yn,Gt,Xt,Sn,Dn),ot(yn,Dt,Sn,Dn,pn,en))}ot(K,Z,A,b,_,b),ot(Z,fe,_,b,_,E),ot(fe,ge,_,E,A,E),ot(ge,K,A,E,A,b),xe-=lt,Ie-=lt,Oe+=lt,rt+=lt;const Tt=1/Math.max(Oe-xe,rt-Ie);return{scale:Tt,x:xe*Tt,y:Ie*Tt,x2:Oe*Tt,y2:rt*Tt,projection:o}}function HQ(u,{x:o,y:h},A=0){return new G(((o-A)*u.scale-u.x)*zn,(h*u.scale-u.y)*zn)}const p0e=a.a6.identity(new Float32Array(16));class tv{constructor(o){this.spec=o,this.name=o.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(o,h){return{x:0,y:0,z:0}}unproject(o,h){return new Yt(0,0)}projectTilePoint(o,h,A){return{x:o,y:h,z:0}}locationPoint(o,h,A=!0){return o._coordinatePoint(o.locationCoordinate(h),A)}pixelsPerMeter(o,h){return Ei(1,o)*h}pixelSpaceConversion(o,h,A){return 1}farthestPixelDistance(o){return VQ(o,o.pixelsPerMeter)}pointCoordinate(o,h,A,_){const b=o.horizonLineFromTop(!1),E=new G(h,Math.max(b,A));return o.rayIntersectionCoordinate(o.pointRayIntersection(E,_))}pointCoordinate3D(o,h,A){const _=new G(h,A);if(o.elevation)return o.elevation.pointCoordinate(_);{const b=this.pointCoordinate(o,_.x,_.y,0);return[b.x,b.y,b.z]}}isPointAboveHorizon(o,h){if(o.elevation)return!this.pointCoordinate3D(o,h.x,h.y);const A=o.horizonLineFromTop();return h.y<A}createInversionMatrix(o,h){return p0e}createTileMatrix(o,h,A){let _,b,E;const I=A.canonical,F=a.a6.identity(new Float64Array(16));if(this.isReprojectedInTileSpace){const O=Gx(I,this);_=1,b=O.x+A.wrap*O.scale,E=O.y,a.a6.scale(F,F,[_/O.scale,_/O.scale,o.pixelsPerMeter/h])}else _=h/o.zoomScale(I.z),b=(I.x+Math.pow(2,I.z)*A.wrap)*_,E=I.y*_;return a.a6.translate(F,F,[b,E,0]),a.a6.scale(F,F,[_/zn,_/zn,1]),F}upVector(o,h,A){return[0,0,1]}upVectorScale(o,h,A){return{metersToTile:1}}}class A0e extends tv{constructor(o){super(o),this.range=[4,7],this.center=o.center||[-96,37.5];const[h,A]=this.parallels=o.parallels||[29.5,45.5],_=Math.sin(W(h));this.n=(_+Math.sin(W(A)))/2,this.c=1+_*(2*this.n-_),this.r0=Math.sqrt(this.c)/this.n}project(o,h){const{n:A,c:_,r0:b}=this,E=W(o-this.center[0]),I=W(h),F=Math.sqrt(_-2*A*Math.sin(I))/A;return{x:F*Math.sin(E*A),y:F*Math.cos(E*A)-b,z:0}}unproject(o,h){const{n:A,c:_,r0:b}=this,E=b+h;let I=Math.atan2(o,Math.abs(E))*Math.sign(E);E*A<0&&(I-=Math.PI*Math.sign(o)*Math.sign(E));const F=W(this.center[0])*A;I=ye(I,-Math.PI-F,Math.PI-F);const O=ce(ee(I/A)+this.center[0],-180,180),U=Math.asin(ce((_-(o*o+E*E)*A*A)/(2*A),-1,1)),K=ce(ee(U),-Yi,Yi);return new Yt(O,K)}}const Kx=1.340264,Wx=-.081106,qx=893e-6,Yx=.003796,VE=Math.sqrt(3)/2;class m0e extends tv{project(o,h){h=h/180*Math.PI,o=o/180*Math.PI;const A=Math.asin(VE*Math.sin(h)),_=A*A,b=_*_*_;return{x:.5*(o*Math.cos(A)/(VE*(Kx+3*Wx*_+b*(7*qx+9*Yx*_)))/Math.PI+.5),y:1-.5*(A*(Kx+Wx*_+b*(qx+Yx*_))/Math.PI+1),z:0}}unproject(o,h){o=(2*o-.5)*Math.PI;let A=h=(2*(1-h)-1)*Math.PI,_=A*A,b=_*_*_;for(let U,K,Z,fe=0;fe<12&&(K=A*(Kx+Wx*_+b*(qx+Yx*_))-h,Z=Kx+3*Wx*_+b*(7*qx+9*Yx*_),U=K/Z,A=ce(A-U,-Math.PI/3,Math.PI/3),_=A*A,b=_*_*_,!(Math.abs(U)<1e-12));++fe);const E=VE*o*(Kx+3*Wx*_+b*(7*qx+9*Yx*_))/Math.cos(A),I=Math.asin(Math.sin(A)/VE),F=ce(180*E/Math.PI,-180,180),O=ce(180*I/Math.PI,-Yi,Yi);return new Yt(F,O)}}class g0e extends tv{constructor(o){super(o),this.wrap=!0,this.supportsWorldCopies=!0}project(o,h){return{x:.5+o/360,y:.5-h/360,z:0}}unproject(o,h){const A=360*(o-.5),_=ce(360*(.5-h),-Yi,Yi);return new Yt(A,_)}}const Mb=Math.PI/2;function HE(u){return Math.tan((Mb+u)/2)}class v0e extends tv{constructor(o){super(o),this.center=o.center||[0,30];const[h,A]=this.parallels=o.parallels||[30,30];let _=W(h),b=W(A);this.southernCenter=_+b<0,this.southernCenter&&(_=-_,b=-b);const E=Math.cos(_),I=HE(_);this.n=_===b?Math.sin(_):Math.log(E/Math.cos(b))/Math.log(HE(b)/I),this.f=E*Math.pow(HE(_),this.n)/this.n}project(o,h){h=W(h),this.southernCenter&&(h=-h),o=W(o-this.center[0]);const A=1e-6,{n:_,f:b}=this;b>0?h<-Mb+A&&(h=-Mb+A):h>Mb-A&&(h=Mb-A);const E=b/Math.pow(HE(h),_);let I=E*Math.sin(_*o),F=b-E*Math.cos(_*o);return I=.5*(I/Math.PI+.5),F=.5*(F/Math.PI+.5),{x:I,y:this.southernCenter?F:1-F,z:0}}unproject(o,h){o=(2*o-.5)*Math.PI,this.southernCenter&&(h=1-h),h=(2*(1-h)-.5)*Math.PI;const{n:A,f:_}=this,b=_-h,E=Math.sign(b),I=Math.sign(A)*Math.sqrt(o*o+b*b);let F=Math.atan2(o,Math.abs(b))*E;b*A<0&&(F-=Math.PI*Math.sign(o)*E);const O=ce(ee(F/A)+this.center[0],-180,180),U=ce(ee(2*Math.atan(Math.pow(_/I,1/A))-Mb),-Yi,Yi);return new Yt(O,this.southernCenter?-U:U)}}class QQ extends tv{constructor(o){super(o),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(o,h){return{x:Ri(o),y:hi(h),z:0}}unproject(o,h){const A=wi(o),_=ia(h);return new Yt(A,_)}}const jQ=W(Yi);class _0e extends tv{project(o,h){const A=(h=W(h))*h,_=A*A;return{x:.5*((o=W(o))*(.8707-.131979*A+_*(_*(.003971*A-.001529*_)-.013791))/Math.PI+.5),y:1-.5*(h*(1.007226+A*(.015085+_*(.028874*A-.044475-.005916*_)))/Math.PI+1),z:0}}unproject(o,h){o=(2*o-.5)*Math.PI;let A=h=(2*(1-h)-1)*Math.PI,_=25,b=0,E=A*A;do{E=A*A;const O=E*E;b=(A*(1.007226+E*(.015085+O*(.028874*E-.044475-.005916*O)))-h)/(1.007226+E*(.045255+O*(.259866*E-.311325-.005916*11*O))),A=ce(A-b,-jQ,jQ)}while(Math.abs(b)>1e-6&&--_>0);E=A*A;const I=ce(ee(o/(.8707+E*(E*(E*E*E*(.003971-.001529*E)-.013791)-.131979))),-180,180),F=ee(A);return new Yt(I,F)}}const GQ=W(Yi);class y0e extends tv{project(o,h){h=W(h),o=W(o);const A=Math.cos(h),_=2/Math.PI,b=Math.acos(A*Math.cos(o/2)),E=Math.sin(b)/b,I=.5*(o*_+2*A*Math.sin(o/2)/E)||0,F=.5*(h+Math.sin(h)/E)||0;return{x:.5*(I/Math.PI+.5),y:1-.5*(F/Math.PI+1),z:0}}unproject(o,h){let A=o=(2*o-.5)*Math.PI,_=h=(2*(1-h)-1)*Math.PI,b=25;const E=1e-6;let I=0,F=0;do{const O=Math.cos(_),U=Math.sin(_),K=2*U*O,Z=U*U,fe=O*O,ge=Math.cos(A/2),xe=Math.sin(A/2),Ie=2*ge*xe,Oe=xe*xe,rt=1-fe*ge*ge,lt=rt?1/rt:0,ot=rt?Math.acos(O*ge)*Math.sqrt(1/rt):0,Tt=.5*(2*ot*O*xe+2*A/Math.PI)-o,yt=.5*(ot*U+_)-h,Dt=.5*lt*(fe*Oe+ot*O*ge*Z)+1/Math.PI,Gt=lt*(Ie*K/4-ot*U*xe),Xt=.125*lt*(K*xe-ot*U*fe*Ie),pn=.5*lt*(Z*ge+ot*Oe*O)+.5,en=Gt*Xt-pn*Dt;I=(yt*Gt-Tt*pn)/en,F=(Tt*Xt-yt*Dt)/en,A=ce(A-I,-Math.PI,Math.PI),_=ce(_-F,-GQ,GQ)}while((Math.abs(I)>E||Math.abs(F)>E)&&--b>0);return new Yt(ee(A),ee(_))}}class KQ extends tv{constructor(o){super(o),this.center=o.center||[0,0],this.parallels=o.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(W(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(o,h){const{scale:A,cosPhi:_}=this;return{x:W(o)*_*A+.5,y:-Math.sin(W(h))/_*A+.5,z:0}}unproject(o,h){const{scale:A,cosPhi:_}=this,b=-(h-.5)/A,E=ce(ee((o-.5)/A)/_,-180,180),I=Math.asin(ce(b*_,-1,1)),F=ce(ee(I),-Yi,Yi);return new Yt(E,F)}}class b0e extends QQ{constructor(o){super(o),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug"],this.range=[3,5]}projectTilePoint(o,h,A){const _=Fx(o,h,A),b=bE(HA(A));return a.N.transformMat4(_,_,b),{x:_[0],y:_[1],z:_[2]}}locationPoint(o,h){const A=xn(h.lat,h.lng),_=a.N.normalize([],A),b=o.elevation?o.elevation.getAtPointOrZero(o.locationCoordinate(h),o._centerAltitude):o._centerAltitude,E=Ei(1,0)*zn*b;a.N.scaleAndAdd(A,A,_,E);const I=a.a6.identity(new Float64Array(16));return a.a6.multiply(I,o.pixelMatrix,o.globeMatrix),a.N.transformMat4(A,A,I),new G(A[0],A[1])}pixelsPerMeter(o,h){return Ei(1,0)*h}pixelSpaceConversion(o,h,A){const _=Ei(1,o)*h,b=Di(Ei(1,45)*h,_,A);return this.pixelsPerMeter(o,h)/b}createTileMatrix(o,h,A){const _=XI(HA(A.canonical));return a.a6.multiply(new Float64Array(16),o.globeMatrix,_)}createInversionMatrix(o,h){const{center:A}=o,_=bE(HA(h));return a.a6.rotateY(_,_,W(A.lng)),a.a6.rotateX(_,_,W(A.lat)),a.a6.scale(_,_,[o._pixelsPerMercatorPixel,o._pixelsPerMercatorPixel,1]),Float32Array.from(_)}pointCoordinate(o,h,A,_){return cH(o,h,A,!0)||new ma(0,0)}pointCoordinate3D(o,h,A){const _=this.pointCoordinate(o,h,A,0);return[_.x,_.y,_.z]}isPointAboveHorizon(o,h){return!cH(o,h.x,h.y,!1)}farthestPixelDistance(o){const h=function(_,b){const E=_.cameraToCenterDistance,I=_._centerAltitude*b,F=_._camera,O=_._camera.forward(),U=a.N.add([],a.N.scale([],O,-E),[0,0,I]),K=_.worldSize/(2*Math.PI),Z=[0,0,-K],fe=_.width/_.height,ge=Math.tan(_.fovAboveCenter),xe=a.N.scale([],F.up(),ge),Ie=a.N.scale([],F.right(),ge*fe),Oe=a.N.normalize([],a.N.add([],a.N.add([],O,xe),Ie)),rt=[];let lt;if(new GI(U,Oe).closestPointOnSphere(Z,K,rt)){const ot=a.N.add([],rt,Z),Tt=a.N.sub([],ot,U);lt=Math.cos(_.fovAboveCenter)*a.N.length(Tt)}else{const ot=a.N.sub([],U,Z),Tt=a.N.sub([],Z,U);a.N.normalize(Tt,Tt);const yt=a.N.length(ot)-K;lt=Math.sqrt(yt*(yt+2*K));const Dt=Math.acos(lt/(K+yt))-Math.acos(a.N.dot(O,Tt));lt*=Math.cos(Dt)}return 1.01*lt}(o,this.pixelsPerMeter(o.center.lat,o.worldSize)),A=q0(o.zoom);if(A>0){const _=VQ(o,Ei(1,o.center.lat)*o.worldSize),b=o.worldSize/(2*Math.PI),E=Math.max(o.width,o.height)/o.worldSize*Math.PI;return Di(h,_+b*(1-Math.cos(E)),Math.pow(A,10))}return h}upVector(o,h,A){return Fx(h,A,o,1)}upVectorScale(o){return{metersToTile:vE(yE(HA(o)))}}}function WQ(u){const o=u.parallels,h=!!o&&Math.abs(o[0]+o[1])<.01;switch(u.name){case"mercator":return new QQ(u);case"equirectangular":return new g0e(u);case"naturalEarth":return new _0e(u);case"equalEarth":return new m0e(u);case"winkelTripel":return new y0e(u);case"albers":return h?new KQ(u):new A0e(u);case"lambertConformalConic":return h?new KQ(u):new v0e(u);case"globe":return new b0e(u)}throw new Error(`Invalid projection name: ${u.name}`)}const w0e=BE.types,x0e=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function QE(u,o,h,A,_,b,E,I,F,O,U,K,Z){const fe=I?Math.min(ev,Math.round(I[0])):0,ge=I?Math.min(ev,Math.round(I[1])):0;u.emplaceBack(o,h,Math.round(32*A),Math.round(32*_),b,E,(fe<<1)+(F?1:0),ge,16*O,16*U,256*K,256*Z)}function jE(u,o,h){u.emplaceBack(o,h)}function GE(u,o,h,A,_,b,E){u.emplaceBack(o,h,A,_,b,E)}function KE(u,o,h,A,_){u.emplaceBack(o,h,A,_),u.emplaceBack(o,h,A,_),u.emplaceBack(o,h,A,_),u.emplaceBack(o,h,A,_)}function C0e(u){for(const o of u.sections)if(dn(o.text))return!0;return!1}class wL{constructor(o){this.layoutVertexArray=new uf,this.indexArray=new Cs,this.programConfigurations=o,this.segments=new Js,this.dynamicLayoutVertexArray=new wd,this.opacityVertexArray=new mp,this.placedSymbolArray=new Sd,this.iconTransitioningVertexArray=new Zc,this.globeExtVertexArray=new dg,this.zOffsetVertexArray=new mg}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0&&this.iconTransitioningVertexArray.length===0}upload(o,h,A,_,b){this.isEmpty()||(A&&(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,kge.members),this.indexBuffer=o.createIndexBuffer(this.indexArray,h),this.dynamicLayoutVertexBuffer=o.createVertexBuffer(this.dynamicLayoutVertexArray,Fge.members,!0),this.opacityVertexBuffer=o.createVertexBuffer(this.opacityVertexArray,x0e,!0),this.iconTransitioningVertexArray.length>0&&(this.iconTransitioningVertexBuffer=o.createVertexBuffer(this.iconTransitioningVertexArray,Oge.members,!0)),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=o.createVertexBuffer(this.globeExtVertexArray,Pge.members,!0)),!this.zOffsetVertexBuffer&&(this.zOffsetVertexArray.length>0||b)&&(this.zOffsetVertexBuffer=o.createVertexBuffer(this.zOffsetVertexArray,Rge.members,!0)),this.opacityVertexBuffer.itemSize=1),(A||_)&&this.programConfigurations.upload(o))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.iconTransitioningVertexBuffer&&this.iconTransitioningVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy(),this.zOffsetVertexBuffer&&this.zOffsetVertexBuffer.destroy())}}ze(wL,"SymbolBuffers");class xL{constructor(o,h,A){this.layoutVertexArray=new o,this.layoutAttributes=h,this.indexArray=new A,this.segments=new Js,this.collisionVertexArray=new pg,this.collisionVertexArrayExt=new wd}upload(o){this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=o.createVertexBuffer(this.collisionVertexArray,Dge.members,!0),this.collisionVertexBufferExt=o.createVertexBuffer(this.collisionVertexArrayExt,Nge.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}ze(xL,"CollisionBuffers");class WE{constructor(o){this.collisionBoxArray=o.collisionBoxArray,this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(E=>E.fqid),this.index=o.index,this.pixelRatio=o.pixelRatio,this.sourceLayerIndex=o.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.hasAnyIconTextFit=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=a.a6.identity([]),this.placementViewportMatrix=a.a6.identity([]);const h=this.layers[0]._unevaluatedLayout._values;this.textSizeData=dL(this.zoom,h["text-size"]),this.iconSizeData=dL(this.zoom,h["icon-size"]);const A=this.layers[0].layout,_=A.get("symbol-sort-key"),b=A.get("symbol-z-order");this.canOverlap=A.get("text-allow-overlap")||A.get("icon-allow-overlap")||A.get("text-ignore-placement")||A.get("icon-ignore-placement"),this.sortFeaturesByKey=b!=="viewport-y"&&_.constantOr(1)!==void 0,this.sortFeaturesByY=(b==="viewport-y"||b==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=A.get("text-writing-mode").map(E=>Id[E]),this.stateDependentLayerIds=this.layers.filter(E=>E.isStateDependent()).map(E=>E.id),this.sourceID=o.sourceID,this.projection=o.projection,this.hasAnyZOffset=!1,this.zOffsetSortDirty=!1,this.zOffsetBuffersNeedUpload=A.get("symbol-z-elevate")}createArrays(){this.text=new wL(new He(this.layers,this.zoom,o=>/^text/.test(o))),this.icon=new wL(new He(this.layers,this.zoom,o=>/^icon/.test(o))),this.glyphOffsetArray=new n_,this.lineVertexArray=new bg,this.symbolInstances=new Q0}calculateGlyphDependencies(o,h,A,_,b){for(let E=0;E<o.length;E++){const I=o.codePointAt(E);if(I===void 0)break;if(h[I]=!0,_&&b&&I<=65535){const F=Vx[o.charAt(E)];F&&(h[F.charCodeAt(0)]=!0)}}}populate(o,h,A,_){const b=this.layers[0],E=b.layout,I=this.projection.name==="globe",F=E.get("text-font"),O=E.get("text-field"),U=E.get("icon-image"),K=(O.value.kind!=="constant"||O.value.value instanceof so&&!O.value.value.isEmpty()||O.value.value.toString().length>0)&&(F.value.kind!=="constant"||F.value.value.length>0),Z=U.value.kind!=="constant"||!!U.value.value||Object.keys(U.parameters).length>0,fe=E.get("symbol-sort-key");if(this.features=[],!K&&!Z)return;const ge=h.iconDependencies,xe=h.glyphDependencies,Ie=h.availableImages,Oe=new Fi(this.zoom);for(const{feature:rt,id:lt,index:ot,sourceLayerIndex:Tt}of o){const yt=b._featureFilter.needGeometry,Dt=Vo(rt,yt);if(!b._featureFilter.filter(Oe,Dt,A))continue;if(yt||(Dt.geometry=ul(rt,A,_)),I&&rt.type!==1&&A.z<=5){const en=Dt.geometry,Sn=.98078528056,Dn=(yn,On)=>{const gn=Fx(yn.x,yn.y,A,1),Rn=Fx(On.x,On.y,A,1);return a.N.dot(gn,Rn)<Sn};for(let yn=0;yn<en.length;yn++)en[yn]=eu(en[yn],Dn)}let Gt,Xt;if(K){const en=b.getValueAndResolveTokens("text-field",Dt,A,Ie),Sn=so.factory(en);C0e(Sn)&&(this.hasRTLText=!0),(!this.hasRTLText||Ta()==="unavailable"||this.hasRTLText&&La.isParsed())&&(Gt=$ge(Sn,b,Dt))}if(Z){const en=b.getValueAndResolveTokens("icon-image",Dt,A,Ie);Xt=en instanceof Vr?en:Vr.fromString(en)}if(!Gt&&!Xt)continue;const pn=this.sortFeaturesByKey?fe.evaluate(Dt,{},A):void 0;if(this.features.push({id:lt,text:Gt,icon:Xt,index:ot,sourceLayerIndex:Tt,geometry:Dt.geometry,properties:rt.properties,type:w0e[rt.type],sortKey:pn}),Xt&&(ge[Xt.namePrimary]=!0,Xt.nameSecondary&&(ge[Xt.nameSecondary]=!0)),Gt){const en=F.evaluate(Dt,{},A).join(","),Sn=E.get("text-rotation-alignment")==="map"&&E.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Id.vertical)>=0;for(const Dn of Gt.sections)if(Dn.image)ge[Dn.image.namePrimary]=!0;else{const yn=nn(Gt.toString()),On=Dn.fontStack||en,gn=xe[On]=xe[On]||{};this.calculateGlyphDependencies(Dn.text,gn,Sn,this.allowVerticalPlacement,yn)}}}E.get("symbol-placement")==="line"&&(this.features=function(rt){const lt={},ot={},Tt=[];let yt=0;function Dt(en){Tt.push(rt[en]),yt++}function Gt(en,Sn,Dn){const yn=ot[en];return delete ot[en],ot[Sn]=yn,Tt[yn].geometry[0].pop(),Tt[yn].geometry[0]=Tt[yn].geometry[0].concat(Dn[0]),yn}function Xt(en,Sn,Dn){const yn=lt[Sn];return delete lt[Sn],lt[en]=yn,Tt[yn].geometry[0].shift(),Tt[yn].geometry[0]=Dn[0].concat(Tt[yn].geometry[0]),yn}function pn(en,Sn,Dn){const yn=Dn?Sn[0][Sn[0].length-1]:Sn[0][0];return`${en}:${yn.x}:${yn.y}`}for(let en=0;en<rt.length;en++){const Sn=rt[en],Dn=Sn.geometry,yn=Sn.text?Sn.text.toString():null;if(!yn){Dt(en);continue}const On=pn(yn,Dn),gn=pn(yn,Dn,!0);if(On in ot&&gn in lt&&ot[On]!==lt[gn]){const Rn=Xt(On,gn,Dn),cr=Gt(On,gn,Tt[Rn].geometry);delete lt[On],delete ot[gn],ot[pn(yn,Tt[cr].geometry,!0)]=cr,Tt[Rn].geometry=null}else On in ot?Gt(On,gn,Dn):gn in lt?Xt(On,gn,Dn):(Dt(en),lt[On]=yt-1,ot[gn]=yt-1)}return Tt.filter(en=>en.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((rt,lt)=>rt.sortKey-lt.sortKey)}update(o,h,A,_,b){const E=Object.keys(o).length!==0;if(E&&!this.stateDependentLayers.length)return;const I=E?this.stateDependentLayers:this.layers;this.text.programConfigurations.updatePaintArrays(o,h,I,A,_,b),this.icon.programConfigurations.updatePaintArrays(o,h,I,A,_,b)}updateZOffset(){const o=(b,E,I)=>{A+=E,A>b.length&&b.resize(A);for(let F=-E;F<0;F++)b.emplace(F+A,I)},h=(b,E,I)=>{_+=E,_>b.length&&b.resize(_);for(let F=-E;F<0;F++)b.emplace(F+_,I)};if(!this.zOffsetBuffersNeedUpload)return;this.zOffsetBuffersNeedUpload=!1;let A=0,_=0;for(let b=0;b<this.symbolInstances.length;b++){const E=this.symbolInstances.get(b),{numHorizontalGlyphVertices:I,numVerticalGlyphVertices:F,numIconVertices:O}=E,U=E.zOffset,K=O>0;if((I>0||F>0)&&(o(this.text.zOffsetVertexArray,I,U),o(this.text.zOffsetVertexArray,F,U)),K){const{placedIconSymbolIndex:Z,verticalPlacedIconSymbolIndex:fe}=E;Z>=0&&h(this.icon.zOffsetVertexArray,O,U),fe>=0&&h(this.icon.zOffsetVertexArray,E.numVerticalIconVertices,U)}}this.text.zOffsetVertexBuffer&&this.text.zOffsetVertexBuffer.updateData(this.text.zOffsetVertexArray),this.icon.zOffsetVertexBuffer&&this.icon.zOffsetVertexBuffer.updateData(this.icon.zOffsetVertexArray)}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(o){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(o),this.iconCollisionBox.upload(o)),this.text.upload(o,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload,this.zOffsetBuffersNeedUpload),this.icon.upload(o,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload,this.zOffsetBuffersNeedUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=WQ(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(o,h){const A=this.lineVertexArray.length;if(o.segment!==void 0)for(const{x:_,y:b}of h)this.lineVertexArray.emplaceBack(_,b);return{lineStartIndex:A,lineLength:this.lineVertexArray.length-A}}addSymbols(o,h,A,_,b,E,I,F,O,U,K,Z,fe,ge,xe,Ie){const Oe=o.indexArray,rt=o.layoutVertexArray,lt=o.globeExtVertexArray,ot=o.segments.prepareSegment(4*h.length,rt,Oe,this.canOverlap?E.sortKey:void 0),Tt=this.glyphOffsetArray.length,yt=ot.vertexLength,Dt=this.allowVerticalPlacement&&I===Id.vertical?Math.PI/2:0,Gt=E.text&&E.text.sections;for(let pn=0;pn<h.length;pn++){const{tl:en,tr:Sn,bl:Dn,br:yn,texPrimary:On,texSecondary:gn,pixelOffsetTL:Rn,pixelOffsetBR:cr,minFontScaleX:Un,minFontScaleY:Br,glyphOffset:yr,isSDF:qn,sectionIndex:ni}=h[pn],Ur=ot.vertexLength,Sr=yr[1];if(QE(rt,O.x,O.y,en.x,Sr+en.y,On.x,On.y,A,qn,Rn.x,Rn.y,Un,Br),QE(rt,O.x,O.y,Sn.x,Sr+Sn.y,On.x+On.w,On.y,A,qn,cr.x,Rn.y,Un,Br),QE(rt,O.x,O.y,Dn.x,Sr+Dn.y,On.x,On.y+On.h,A,qn,Rn.x,cr.y,Un,Br),QE(rt,O.x,O.y,yn.x,Sr+yn.y,On.x+On.w,On.y+On.h,A,qn,cr.x,cr.y,Un,Br),F){const{x:Yn,y:qr,z:zi}=F.anchor,[ri,$i,vi]=F.up;GE(lt,Yn,qr,zi,ri,$i,vi),GE(lt,Yn,qr,zi,ri,$i,vi),GE(lt,Yn,qr,zi,ri,$i,vi),GE(lt,Yn,qr,zi,ri,$i,vi),KE(o.dynamicLayoutVertexArray,Yn,qr,zi,Dt)}else KE(o.dynamicLayoutVertexArray,O.x,O.y,O.z,Dt);if(Ie){const Yn=gn||On;jE(o.iconTransitioningVertexArray,Yn.x,Yn.y),jE(o.iconTransitioningVertexArray,Yn.x+Yn.w,Yn.y),jE(o.iconTransitioningVertexArray,Yn.x,Yn.y+Yn.h),jE(o.iconTransitioningVertexArray,Yn.x+Yn.w,Yn.y+Yn.h)}Oe.emplaceBack(Ur,Ur+1,Ur+2),Oe.emplaceBack(Ur+1,Ur+2,Ur+3),ot.vertexLength+=4,ot.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(yr[0]),pn!==h.length-1&&ni===h[pn+1].sectionIndex||o.programConfigurations.populatePaintArrays(rt.length,E,E.index,{},fe,ge,xe,Gt&&Gt[ni])}const Xt=F?F.anchor:O;o.placedSymbolArray.emplaceBack(Xt.x,Xt.y,Xt.z,O.x,O.y,Tt,this.glyphOffsetArray.length-Tt,yt,U,K,O.segment,A?A[0]:0,A?A[1]:0,_[0],_[1],I,0,!1,0,Z,0)}_commitLayoutVertex(o,h,A,_,b,E,I){o.emplaceBack(h,A,_,b,E,Math.round(I.x),Math.round(I.y))}_addCollisionDebugVertices(o,h,A,_,b,E,I){const F=A.segments.prepareSegment(4,A.layoutVertexArray,A.indexArray),O=F.vertexLength,U=I.tileAnchorX,K=I.tileAnchorY;for(let fe=0;fe<4;fe++)A.collisionVertexArray.emplaceBack(0,0,0,0);this._commitDebugCollisionVertexUpdate(A.collisionVertexArrayExt,h,o.padding,I.zOffset),this._commitLayoutVertex(A.layoutVertexArray,_,b,E,U,K,new G(o.x1,o.y1)),this._commitLayoutVertex(A.layoutVertexArray,_,b,E,U,K,new G(o.x2,o.y1)),this._commitLayoutVertex(A.layoutVertexArray,_,b,E,U,K,new G(o.x2,o.y2)),this._commitLayoutVertex(A.layoutVertexArray,_,b,E,U,K,new G(o.x1,o.y2)),F.vertexLength+=4;const Z=A.indexArray;Z.emplaceBack(O,O+1),Z.emplaceBack(O+1,O+2),Z.emplaceBack(O+2,O+3),Z.emplaceBack(O+3,O),F.primitiveLength+=4}_addTextDebugCollisionBoxes(o,h,A,_,b,E){for(let I=_;I<b;I++){const F=A.get(I),O=this.getSymbolInstanceTextSize(o,E,h,I);this._addCollisionDebugVertices(F,O,this.textCollisionBox,F.projectedAnchorX,F.projectedAnchorY,F.projectedAnchorZ,E)}}_addIconDebugCollisionBoxes(o,h,A,_,b,E){for(let I=_;I<b;I++){const F=A.get(I),O=this.getSymbolInstanceIconSize(o,h,E.placedIconSymbolIndex);this._addCollisionDebugVertices(F,O,this.iconCollisionBox,F.projectedAnchorX,F.projectedAnchorY,F.projectedAnchorZ,E)}}generateCollisionDebugBuffers(o,h){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new xL(cf,pQ.members,Zc),this.iconCollisionBox=new xL(cf,pQ.members,Zc);const A=wb(this.iconSizeData,o),_=wb(this.textSizeData,o);for(let b=0;b<this.symbolInstances.length;b++){const E=this.symbolInstances.get(b);this._addTextDebugCollisionBoxes(_,o,h,E.textBoxStartIndex,E.textBoxEndIndex,E),this._addTextDebugCollisionBoxes(_,o,h,E.verticalTextBoxStartIndex,E.verticalTextBoxEndIndex,E),this._addIconDebugCollisionBoxes(A,o,h,E.iconBoxStartIndex,E.iconBoxEndIndex,E),this._addIconDebugCollisionBoxes(A,o,h,E.verticalIconBoxStartIndex,E.verticalIconBoxEndIndex,E)}}getSymbolInstanceTextSize(o,h,A,_){const b=this.text.placedSymbolArray.get(h.rightJustifiedTextSymbolIndex>=0?h.rightJustifiedTextSymbolIndex:h.centerJustifiedTextSymbolIndex>=0?h.centerJustifiedTextSymbolIndex:h.leftJustifiedTextSymbolIndex>=0?h.leftJustifiedTextSymbolIndex:h.verticalPlacedTextSymbolIndex>=0?h.verticalPlacedTextSymbolIndex:_),E=FE(this.textSizeData,o,b)/mu;return this.tilePixelRatio*E}getSymbolInstanceIconSize(o,h,A){const _=this.icon.placedSymbolArray.get(A),b=FE(this.iconSizeData,o,_);return this.tilePixelRatio*b}_commitDebugCollisionVertexUpdate(o,h,A,_){o.emplaceBack(h,-A,-A,_),o.emplaceBack(h,A,-A,_),o.emplaceBack(h,A,A,_),o.emplaceBack(h,-A,A,_)}_updateTextDebugCollisionBoxes(o,h,A,_,b,E){for(let I=_;I<b;I++){const F=A.get(I),O=this.getSymbolInstanceTextSize(o,E,h,I);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,O,F.padding,E.zOffset)}}_updateIconDebugCollisionBoxes(o,h,A,_,b,E){for(let I=_;I<b;I++){const F=A.get(I),O=this.getSymbolInstanceIconSize(o,h,E.placedIconSymbolIndex);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,O,F.padding,E.zOffset)}}updateCollisionDebugBuffers(o,h){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const A=wb(this.iconSizeData,o),_=wb(this.textSizeData,o);for(let b=0;b<this.symbolInstances.length;b++){const E=this.symbolInstances.get(b);this._updateTextDebugCollisionBoxes(_,o,h,E.textBoxStartIndex,E.textBoxEndIndex,E),this._updateTextDebugCollisionBoxes(_,o,h,E.verticalTextBoxStartIndex,E.verticalTextBoxEndIndex,E),this._updateIconDebugCollisionBoxes(A,o,h,E.iconBoxStartIndex,E.iconBoxEndIndex,E),this._updateIconDebugCollisionBoxes(A,o,h,E.verticalIconBoxStartIndex,E.verticalIconBoxEndIndex,E)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(o,h,A,_,b,E,I,F,O){const U={};if(h<A){const{x1:K,y1:Z,x2:fe,y2:ge,padding:xe,projectedAnchorX:Ie,projectedAnchorY:Oe,projectedAnchorZ:rt,tileAnchorX:lt,tileAnchorY:ot,featureIndex:Tt}=o.get(h);U.textBox={x1:K,y1:Z,x2:fe,y2:ge,padding:xe,projectedAnchorX:Ie,projectedAnchorY:Oe,projectedAnchorZ:rt,tileAnchorX:lt,tileAnchorY:ot},U.textFeatureIndex=Tt}if(_<b){const{x1:K,y1:Z,x2:fe,y2:ge,padding:xe,projectedAnchorX:Ie,projectedAnchorY:Oe,projectedAnchorZ:rt,tileAnchorX:lt,tileAnchorY:ot,featureIndex:Tt}=o.get(_);U.verticalTextBox={x1:K,y1:Z,x2:fe,y2:ge,padding:xe,projectedAnchorX:Ie,projectedAnchorY:Oe,projectedAnchorZ:rt,tileAnchorX:lt,tileAnchorY:ot},U.verticalTextFeatureIndex=Tt}if(E<I){const{x1:K,y1:Z,x2:fe,y2:ge,padding:xe,projectedAnchorX:Ie,projectedAnchorY:Oe,projectedAnchorZ:rt,tileAnchorX:lt,tileAnchorY:ot,featureIndex:Tt}=o.get(E);U.iconBox={x1:K,y1:Z,x2:fe,y2:ge,padding:xe,projectedAnchorX:Ie,projectedAnchorY:Oe,projectedAnchorZ:rt,tileAnchorX:lt,tileAnchorY:ot},U.iconFeatureIndex=Tt}if(F<O){const{x1:K,y1:Z,x2:fe,y2:ge,padding:xe,projectedAnchorX:Ie,projectedAnchorY:Oe,projectedAnchorZ:rt,tileAnchorX:lt,tileAnchorY:ot,featureIndex:Tt}=o.get(F);U.verticalIconBox={x1:K,y1:Z,x2:fe,y2:ge,padding:xe,projectedAnchorX:Ie,projectedAnchorY:Oe,projectedAnchorZ:rt,tileAnchorX:lt,tileAnchorY:ot},U.verticalIconFeatureIndex=Tt}return U}deserializeCollisionBoxes(o){this.collisionArrays=[];for(let h=0;h<this.symbolInstances.length;h++){const A=this.symbolInstances.get(h);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(o,A.textBoxStartIndex,A.textBoxEndIndex,A.verticalTextBoxStartIndex,A.verticalTextBoxEndIndex,A.iconBoxStartIndex,A.iconBoxEndIndex,A.verticalIconBoxStartIndex,A.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}hasIconTextFit(){return this.hasAnyIconTextFit}addIndicesForPlacedSymbol(o,h){const A=o.placedSymbolArray.get(h),_=A.vertexStartIndex+4*A.numGlyphs;for(let b=A.vertexStartIndex;b<_;b+=4)o.indexArray.emplaceBack(b,b+1,b+2),o.indexArray.emplaceBack(b+1,b+2,b+3)}getSortedSymbolIndexes(o){if(this.sortedAngle===o&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const h=Math.sin(o),A=Math.cos(o),_=[],b=[],E=[];for(let I=0;I<this.symbolInstances.length;++I){E.push(I);const F=this.symbolInstances.get(I);_.push(0|Math.round(h*F.tileAnchorX+A*F.tileAnchorY)),b.push(F.featureIndex)}return E.sort((I,F)=>_[I]-_[F]||b[F]-b[I]),E}getSortedIndexesByZOffset(){if(!this.zOffsetSortDirty)return this.symbolInstanceIndexesSortedZOffset;if(!this.symbolInstanceIndexesSortedZOffset){this.symbolInstanceIndexesSortedZOffset=[];for(let o=0;o<this.symbolInstances.length;++o)this.symbolInstanceIndexesSortedZOffset.push(o)}return this.zOffsetSortDirty=!1,this.symbolInstanceIndexesSortedZOffset.sort((o,h)=>this.symbolInstances.get(h).zOffset-this.symbolInstances.get(o).zOffset)}addToSortKeyRanges(o,h){const A=this.sortKeyRanges[this.sortKeyRanges.length-1];A&&A.sortKey===h?A.symbolInstanceEnd=o+1:this.sortKeyRanges.push({sortKey:h,symbolInstanceStart:o,symbolInstanceEnd:o+1})}sortFeatures(o){if(this.sortFeaturesByY&&this.sortedAngle!==o&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(o),this.sortedAngle=o,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const h of this.symbolInstanceIndexes){const A=this.symbolInstances.get(h);this.featureSortOrder.push(A.featureIndex);const{rightJustifiedTextSymbolIndex:_,centerJustifiedTextSymbolIndex:b,leftJustifiedTextSymbolIndex:E,verticalPlacedTextSymbolIndex:I,placedIconSymbolIndex:F,verticalPlacedIconSymbolIndex:O}=A;_>=0&&this.addIndicesForPlacedSymbol(this.text,_),b>=0&&b!==_&&this.addIndicesForPlacedSymbol(this.text,b),E>=0&&E!==b&&E!==_&&this.addIndicesForPlacedSymbol(this.text,E),I>=0&&this.addIndicesForPlacedSymbol(this.text,I),F>=0&&this.addIndicesForPlacedSymbol(this.icon,F),O>=0&&this.addIndicesForPlacedSymbol(this.icon,O)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}ze(WE,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),WE.addDynamicAttributes=KE;const E0e=new ka({"symbol-placement":new jn(rn.layout_symbol["symbol-placement"]),"symbol-spacing":new jn(rn.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new jn(rn.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Cr(rn.layout_symbol["symbol-sort-key"]),"symbol-z-order":new jn(rn.layout_symbol["symbol-z-order"]),"symbol-z-elevate":new jn(rn.layout_symbol["symbol-z-elevate"]),"icon-allow-overlap":new jn(rn.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new jn(rn.layout_symbol["icon-ignore-placement"]),"icon-optional":new jn(rn.layout_symbol["icon-optional"]),"icon-rotation-alignment":new jn(rn.layout_symbol["icon-rotation-alignment"]),"icon-size":new Cr(rn.layout_symbol["icon-size"]),"icon-text-fit":new Cr(rn.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Cr(rn.layout_symbol["icon-text-fit-padding"]),"icon-image":new Cr(rn.layout_symbol["icon-image"]),"icon-rotate":new Cr(rn.layout_symbol["icon-rotate"]),"icon-padding":new jn(rn.layout_symbol["icon-padding"]),"icon-keep-upright":new jn(rn.layout_symbol["icon-keep-upright"]),"icon-offset":new Cr(rn.layout_symbol["icon-offset"]),"icon-anchor":new Cr(rn.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new jn(rn.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new jn(rn.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new jn(rn.layout_symbol["text-rotation-alignment"]),"text-field":new Cr(rn.layout_symbol["text-field"]),"text-font":new Cr(rn.layout_symbol["text-font"]),"text-size":new Cr(rn.layout_symbol["text-size"]),"text-max-width":new Cr(rn.layout_symbol["text-max-width"]),"text-line-height":new Cr(rn.layout_symbol["text-line-height"]),"text-letter-spacing":new Cr(rn.layout_symbol["text-letter-spacing"]),"text-justify":new Cr(rn.layout_symbol["text-justify"]),"text-radial-offset":new Cr(rn.layout_symbol["text-radial-offset"]),"text-variable-anchor":new jn(rn.layout_symbol["text-variable-anchor"]),"text-anchor":new Cr(rn.layout_symbol["text-anchor"]),"text-max-angle":new jn(rn.layout_symbol["text-max-angle"]),"text-writing-mode":new jn(rn.layout_symbol["text-writing-mode"]),"text-rotate":new Cr(rn.layout_symbol["text-rotate"]),"text-padding":new jn(rn.layout_symbol["text-padding"]),"text-keep-upright":new jn(rn.layout_symbol["text-keep-upright"]),"text-transform":new Cr(rn.layout_symbol["text-transform"]),"text-offset":new Cr(rn.layout_symbol["text-offset"]),"text-allow-overlap":new jn(rn.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new jn(rn.layout_symbol["text-ignore-placement"]),"text-optional":new jn(rn.layout_symbol["text-optional"]),visibility:new jn(rn.layout_symbol.visibility)});var CL={paint:new ka({"icon-opacity":new Cr(rn.paint_symbol["icon-opacity"]),"icon-emissive-strength":new Cr(rn.paint_symbol["icon-emissive-strength"]),"text-emissive-strength":new Cr(rn.paint_symbol["text-emissive-strength"]),"icon-color":new Cr(rn.paint_symbol["icon-color"]),"icon-halo-color":new Cr(rn.paint_symbol["icon-halo-color"]),"icon-halo-width":new Cr(rn.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Cr(rn.paint_symbol["icon-halo-blur"]),"icon-translate":new jn(rn.paint_symbol["icon-translate"]),"icon-translate-anchor":new jn(rn.paint_symbol["icon-translate-anchor"]),"icon-image-cross-fade":new Cr(rn.paint_symbol["icon-image-cross-fade"]),"text-opacity":new Cr(rn.paint_symbol["text-opacity"]),"text-color":new Cr(rn.paint_symbol["text-color"],{runtimeType:Iu,getOverride:u=>u.textColor,hasOverride:u=>!!u.textColor}),"text-halo-color":new Cr(rn.paint_symbol["text-halo-color"]),"text-halo-width":new Cr(rn.paint_symbol["text-halo-width"]),"text-halo-blur":new Cr(rn.paint_symbol["text-halo-blur"]),"text-translate":new jn(rn.paint_symbol["text-translate"]),"text-translate-anchor":new jn(rn.paint_symbol["text-translate-anchor"]),"icon-color-saturation":new jn(rn.paint_symbol["icon-color-saturation"])}),layout:E0e};class qQ{constructor(o){this.type=o.property.overrides?o.property.overrides.runtimeType:Zd,this.defaultValue=o}evaluate(o){if(o.formattedSection){const h=this.defaultValue.property.overrides;if(h&&h.hasOverride(o.formattedSection))return h.getOverride(o.formattedSection)}return o.feature&&o.featureState?this.defaultValue.evaluate(o.feature,o.featureState):this.defaultValue.property.specification.default}eachChild(o){this.defaultValue.isConstant()||o(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}ze(qQ,"FormatSectionOverride",{omit:["defaultValue"]});class qE extends yl{constructor(o,h,A){super(o,CL,h,A)}recalculate(o,h){super.recalculate(o,h),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const A=this.layout.get("text-writing-mode");if(A){const _=[];for(const b of A)_.indexOf(b)<0&&_.push(b);this.layout._values["text-writing-mode"]=_}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(o,h,A,_){const b=this.layout.get(o).evaluate(h,{},A,_),E=this._unevaluatedLayout._values[o];return E.isDataDriven()||ag(E.value)||!b?b:function(I,F){return F.replace(/{([^{}]+)}/g,(O,U)=>U in I?String(I[U]):"")}(h.properties,b)}createBucket(o){return new WE(o)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const o of CL.paint.overridableProperties){if(!qE.hasPaintOverride(this.layout,o))continue;const h=this.paint.get(o),A=new qQ(h),_=new $0(A,h.property.specification,this.scope,this.options);let b=null;b=h.value.kind==="constant"||h.value.kind==="source"?new Y1("source",_):new RA("composite",_,h.value.zoomStops,h.value._interpolationType),this.paint._values[o]=new sl(h.property,b,h.parameters)}}_handleOverridablePaintPropertyUpdate(o,h,A){return!(!this.layout||h.isDataDriven()||A.isDataDriven())&&qE.hasPaintOverride(this.layout,o)}static hasPaintOverride(o,h){const A=o.get("text-field"),_=CL.paint.properties[h];let b=!1;const E=I=>{for(const F of I)if(_.overrides&&_.overrides.hasOverride(F))return void(b=!0)};if(A.value.kind==="constant"&&A.value.value instanceof so)E(A.value.value.sections);else if(A.value.kind==="source"){const I=O=>{b||(O instanceof Kl&&Ws(O.value)===td?E(O.value.sections):O instanceof sd?E(O.sections):O.eachChild(I))},F=A.value;F._styleExpression&&I(F._styleExpression.expression)}return b}getProgramIds(){const o=this.paint.get("icon-opacity").constantOr(1)!==0,h=this.paint.get("text-opacity").constantOr(1)!==0,A=[];return o&&A.push("symbolIcon"),h&&A.push("symbolSDF"),A}getDefaultProgramParams(o,h){return{config:new Me(this,h),overrideFog:!1}}}const S0e=new ka({visibility:new jn(rn.layout_background.visibility)});var T0e={paint:new ka({"background-color":new jn(rn.paint_background["background-color"]),"background-pattern":new jn(rn.paint_background["background-pattern"]),"background-opacity":new jn(rn.paint_background["background-opacity"]),"background-emissive-strength":new jn(rn.paint_background["background-emissive-strength"])}),layout:S0e};const B0e=new ka({visibility:new jn(rn.layout_raster.visibility)});var M0e={paint:new ka({"raster-opacity":new jn(rn.paint_raster["raster-opacity"]),"raster-color":new Io(rn.paint_raster["raster-color"]),"raster-color-mix":new jn(rn.paint_raster["raster-color-mix"]),"raster-color-range":new jn(rn.paint_raster["raster-color-range"]),"raster-hue-rotate":new jn(rn.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new jn(rn.paint_raster["raster-brightness-min"]),"raster-brightness-max":new jn(rn.paint_raster["raster-brightness-max"]),"raster-saturation":new jn(rn.paint_raster["raster-saturation"]),"raster-contrast":new jn(rn.paint_raster["raster-contrast"]),"raster-resampling":new jn(rn.paint_raster["raster-resampling"]),"raster-fade-duration":new jn(rn.paint_raster["raster-fade-duration"]),"raster-emissive-strength":new jn(rn.paint_raster["raster-emissive-strength"]),"raster-array-band":new jn(rn.paint_raster["raster-array-band"]),"raster-elevation":new jn(rn.paint_raster["raster-elevation"])}),layout:B0e},EL=Ba([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class SL{constructor(o,h,A,_){this.context=o,this.format=A,this.texture=o.gl.createTexture(),this.update(h,_)}update(o,h,A){const{width:_,height:b}=o,{context:E}=this,{gl:I}=E;if(I.bindTexture(I.TEXTURE_2D,this.texture),E.pixelStoreUnpackFlipY.set(!1),E.pixelStoreUnpack.set(1),E.pixelStoreUnpackPremultiplyAlpha.set(this.format===I.RGBA&&(!h||h.premultiply!==!1)),A||this.size&&this.size[0]===_&&this.size[1]===b){const{x:F,y:O}=A||{x:0,y:0};if(o instanceof HTMLImageElement||o instanceof HTMLCanvasElement||o instanceof HTMLVideoElement||o instanceof ImageData||ImageBitmap&&o instanceof ImageBitmap)I.texSubImage2D(I.TEXTURE_2D,0,F,O,I.RGBA,I.UNSIGNED_BYTE,o);else{let U=this.format,K=I.UNSIGNED_BYTE;this.format===I.R32F&&(U=I.RED,K=I.FLOAT),I.texSubImage2D(I.TEXTURE_2D,0,F,O,_,b,U,K,o.data)}}else if(this.size=[_,b],o instanceof HTMLImageElement||o instanceof HTMLCanvasElement||o instanceof HTMLVideoElement||o instanceof ImageData||ImageBitmap&&o instanceof ImageBitmap){let F=this.format;this.format===I.R8&&(F=I.RED),I.texImage2D(I.TEXTURE_2D,0,this.format,F,I.UNSIGNED_BYTE,o)}else{let F=this.format,O=this.format,U=I.UNSIGNED_BYTE;this.format===I.DEPTH_COMPONENT&&(F=I.DEPTH_COMPONENT16,U=I.UNSIGNED_SHORT),this.format===I.R8&&(O=I.RED),this.format===I.R32F&&(U=I.FLOAT,O=I.RED),I.texImage2D(I.TEXTURE_2D,0,F,_,b,0,O,U,o.data)}this.useMipmap=!!(h&&h.useMipmap),this.useMipmap&&I.generateMipmap(I.TEXTURE_2D)}bind(o,h,A=!1){const{context:_}=this,{gl:b}=_;b.bindTexture(b.TEXTURE_2D,this.texture),o!==this.minFilter&&(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,o),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,this.useMipmap&&!A?o===b.NEAREST?b.NEAREST_MIPMAP_NEAREST:b.LINEAR_MIPMAP_LINEAR:o),this.minFilter=o),h!==this.wrapS&&(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,h),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,h),this.wrapS=h)}bindExtraParam(o,h,A,_){const{context:b}=this,{gl:E}=b;E.bindTexture(E.TEXTURE_2D,this.texture),h!==this.magFilter&&(E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,h),this.magFilter=h),o!==this.minFilter&&(E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,this.useMipmap?o===E.NEAREST?E.NEAREST_MIPMAP_NEAREST:E.LINEAR_MIPMAP_LINEAR:o),this.minFilter=o),A!==this.wrapS&&(E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,A),this.wrapS=A),_!==this.wrapT&&(E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,_),this.wrapT=_)}destroy(){const{gl:o}=this.context;o.deleteTexture(this.texture),this.texture=null}}class YE{constructor(o,h){this.context=o,this.texture=h}bind(o,h){const{context:A}=this,{gl:_}=A;_.bindTexture(_.TEXTURE_2D,this.texture),o!==this.minFilter&&(_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,o),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,o),this.minFilter=o),h!==this.wrapS&&(_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,h),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,h),this.wrapS=h)}}function XE(u,o,h,A,_,b,E,I){const F=[u,o,1,h,A,1,_,b,1],O=[E,I,1],U=a.co.adjoint([],F),[K,Z,fe]=a.N.transformMat3(O,O,U);return a.co.multiply(F,F,[K,0,0,0,Z,0,0,0,fe])}function YQ(u,o,h,A,_,b,E,I){const F=function(O,U,K,Z,fe,ge,xe,Ie){const Oe=XE(0,0,1,0,1,1,0,1),rt=XE(O,U,K,Z,fe,ge,xe,Ie),lt=a.co.adjoint([],Oe);return a.co.multiply(rt,rt,lt)}(u,o,h,A,_,b,E,I);return[F[2]/F[8]/zn,F[5]/F[8]/zn]}function ZE(u){return[u[0],Math.min(Math.max(u[1],-Yi),Yi)]}class XQ extends Yd{constructor(o,h,A,_){super(),this.id=o,this.dispatcher=A,this.coordinates=h.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.onNorthPole=!1,this.onSouthPole=!1,this.setEventedParent(_),this.options=h,this._dirty=!1}load(o,h){if(this._loaded=h||!1,this.fire(new Jh("dataloading",{dataType:"source"})),this.url=this.options.url,!this.url)return o&&(this.coordinates=o),this._loaded=!0,void this._finishLoading();this._imageRequest=In(this.map._requestManager.transformRequest(this.url,Rr.Image),(A,_)=>{this._imageRequest=null,this._loaded=!0,A?this.fire(new qd(A)):_&&(this.image=_ instanceof HTMLImageElement?kt.getImageData(_):_,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,o&&(this.coordinates=o),this._finishLoading())})}loaded(){return this._loaded}updateImage(o){return o.url?(this._imageRequest&&o.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=o.url,this.load(o.coordinates,this._loaded),this):this}setTexture(o){if(!(o.handle instanceof WebGLTexture))throw new Error("The provided handle is not a WebGLTexture instance");return this.texture=new YE(this.map.painter.context,o.handle),this.width=o.dimensions[0],this.height=o.dimensions[1],this._dirty=!1,this._loaded=!0,this._finishLoading(),this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new Jh("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(o){this.map=o,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),!this.texture||this.texture instanceof YE||this.texture.destroy(),this.boundsBuffer&&(this.boundsBuffer.destroy(),this.elevatedGlobeVertexBuffer&&this.elevatedGlobeVertexBuffer.destroy(),this.elevatedGlobeIndexBuffer&&this.elevatedGlobeIndexBuffer.destroy())}setCoordinates(o){if(this.coordinates=o,this._boundsArray=void 0,this._unsupportedCoords=!1,!o.length)return this;this.onNorthPole=!1,this.onSouthPole=!1;let h=o[0][1],A=o[0][1];for(const b of o)b[1]>A&&(A=b[1]),b[1]<h&&(h=b[1]);const _=(A+h)/2;if(_>Yi?this.onNorthPole=!0:_<-Yi&&(this.onSouthPole=!0),!this.onNorthPole&&!this.onSouthPole){const b=o.map(ma.fromLngLat);this.tileID=function(E){let I=1/0,F=1/0,O=-1/0,U=-1/0;for(const xe of E)I=Math.min(I,xe.x),F=Math.min(F,xe.y),O=Math.max(O,xe.x),U=Math.max(U,xe.y);const K=Math.max(O-I,U-F),Z=Math.max(0,Math.floor(-Math.log(K)/Math.LN2)),fe=Math.pow(2,Z);let ge=Math.floor((I+O)/2*fe);return ge>1&&(ge-=1),new Kn(Z,ge,Math.floor((F+U)/2*fe))}(b),this.minzoom=this.maxzoom=this.tileID.z}return this.fire(new Jh("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0,this._unsupportedCoords=!1}_prepareData(o){for(const Oe in this.tiles){const rt=this.tiles[Oe];rt.state!=="loaded"&&(rt.state="loaded",rt.texture=this.texture)}if(this._boundsArray||this.onNorthPole||this.onSouthPole||this._unsupportedCoords)return;const h=Gx(new Kn(0,0,0),this.map.transform.projection),A=[h.projection.project(this.coordinates[0][0],this.coordinates[0][1]),h.projection.project(this.coordinates[1][0],this.coordinates[1][1]),h.projection.project(this.coordinates[2][0],this.coordinates[2][1]),h.projection.project(this.coordinates[3][0],this.coordinates[3][1])];if(!function(Oe){const rt=Oe[1].x-Oe[0].x,lt=Oe[1].y-Oe[0].y,ot=Oe[2].x-Oe[1].x,Tt=Oe[2].y-Oe[1].y,yt=Oe[3].x-Oe[2].x,Dt=Oe[3].y-Oe[2].y,Gt=Oe[0].x-Oe[3].x,Xt=Oe[0].y-Oe[3].y,pn=rt*Tt-ot*lt,en=ot*Dt-yt*Tt,Sn=yt*Xt-Gt*Dt,Dn=Gt*lt-rt*Xt;return pn>0&&en>0&&Sn>0&&Dn>0||pn<0&&en<0&&Sn<0&&Dn<0}(A))return console.warn("Image source coordinates are defining non-convex area in the Mercator projection"),void(this._unsupportedCoords=!0);const _=Gx(this.tileID,this.map.transform.projection),[b,E,I,F]=this.coordinates.map(Oe=>{const rt=_.projection.project(Oe[0],Oe[1]);return HQ(_,rt)._round()});this.perspectiveTransform=YQ(b.x,b.y,E.x,E.y,I.x,I.y,F.x,F.y);const O=this._boundsArray=new bd;O.emplaceBack(b.x,b.y,0,0),O.emplaceBack(E.x,E.y,zn,0),O.emplaceBack(F.x,F.y,0,zn),O.emplaceBack(I.x,I.y,zn,zn),this.boundsBuffer&&(this.boundsBuffer.destroy(),this.elevatedGlobeVertexBuffer&&this.elevatedGlobeVertexBuffer.destroy(),this.elevatedGlobeIndexBuffer&&this.elevatedGlobeIndexBuffer.destroy()),this.boundsBuffer=o.createVertexBuffer(O,EL.members),this.boundsSegments=Js.simpleSegment(0,0,4,2);const U=[],K=[ZE((Z=this.coordinates)[0]),ZE(Z[1]),ZE(Z[2]),ZE(Z[3])];var Z;const[fe,ge,xe,Ie]=function(Oe){let rt=Oe[0][0],lt=rt,ot=Oe[0][1],Tt=ot;for(let yt=1;yt<Oe.length;yt++)Oe[yt][0]<rt?rt=Oe[yt][0]:Oe[yt][0]>lt&&(lt=Oe[yt][0]),Oe[yt][1]<ot?ot=Oe[yt][1]:Oe[yt][1]>Tt&&(Tt=Oe[yt][1]);return[rt,ot,lt-rt,Tt-ot]}(K);{const Oe=new bd,[rt,lt,ot,Tt]=function(Rn){let cr=Rn[0].x,Un=cr,Br=Rn[0].y,yr=Br;for(let qn=1;qn<Rn.length;qn++)Rn[qn].x<cr?cr=Rn[qn].x:Rn[qn].x>Un&&(Un=Rn[qn].x),Rn[qn].y<Br?Br=Rn[qn].y:Rn[qn].y>yr&&(yr=Rn[qn].y);return[cr,Br,Un-cr,yr-Br]}(A),yt=Rn=>[(Rn.x-rt)/ot,(Rn.y-lt)/Tt],[Dt,Gt,Xt,pn]=A.map(yt),en=function(Rn,cr,Un,Br,yr,qn,ni,Ur){const Sr=XE(0,0,1,0,1,1,0,1),Yn=XE(Rn,cr,Un,Br,yr,qn,ni,Ur),qr=a.co.adjoint([],Yn);return a.co.multiply(Sr,Sr,qr)}(Dt[0],Dt[1],Gt[0],Gt[1],Xt[0],Xt[1],pn[0],pn[1]);this.elevatedGlobePerspectiveTransform=YQ(Dt[0],Dt[1],Gt[0],Gt[1],Xt[0],Xt[1],pn[0],pn[1]);const Sn=(Rn,cr)=>{U.push(Rn.lng);const Un=Math.round((Rn.lng-fe)/xe*zn),Br=Math.round((Rn.lat-ge)/Ie*zn),yr=yt(cr),qn=a.N.transformMat3([],[yr[0],yr[1],1],en),ni=Math.round(qn[0]/qn[2]*zn),Ur=Math.round(qn[1]/qn[2]*zn);Oe.emplaceBack(Un,Br,ni,Ur)},Dn=A[3].x-A[0].x,yn=A[3].y-A[0].y,On=A[2].x-A[1].x,gn=A[2].y-A[1].y;for(let Rn=0;Rn<65;Rn++){const cr=Rn/64,Un=[A[0].x+cr*Dn,A[0].y+cr*yn],Br=[A[1].x+cr*On,A[1].y+cr*gn],yr=Br[0]-Un[0],qn=Br[1]-Un[1];for(let ni=0;ni<65;ni++){const Ur=ni/64,Sr={x:Un[0]+yr*Ur,y:Un[1]+qn*Ur,z:0};Sn(h.projection.unproject(Sr.x,Sr.y),Sr)}}this.elevatedGlobeVertexBuffer=o.createVertexBuffer(Oe,EL.members)}{this.maxLongitudeTriangleSize=0;let Oe=[],rt=new Cs;const lt=(ot,Tt,yt)=>{rt.emplaceBack(ot,Tt,yt);const Dt=U[ot],Gt=U[Tt],Xt=U[yt],pn=Math.min(Math.min(Dt,Gt),Xt),en=Math.max(Math.max(Dt,Gt),Xt)-pn;en>this.maxLongitudeTriangleSize&&(this.maxLongitudeTriangleSize=en),Oe.push(pn+en/2)};for(let ot=0;ot<64;ot++)for(let Tt=0;Tt<64;Tt++){const yt=65*ot+Tt,Dt=yt+1,Gt=yt+65,Xt=Gt+1;lt(yt,Gt,Dt),lt(Dt,Gt,Xt)}[Oe,rt]=function(ot,Tt){const yt=Array.from({length:ot.length},(Xt,pn)=>pn);yt.sort((Xt,pn)=>ot[Xt]-ot[pn]);const Dt=[],Gt=new Cs;for(let Xt=0;Xt<yt.length;Xt++){const pn=yt[Xt];Dt.push(ot[pn]);const en=3*pn,Sn=en+1;Gt.emplaceBack(Tt.uint16[en],Tt.uint16[Sn],Tt.uint16[Sn+1])}return[Dt,Gt]}(Oe,rt),this.elevatedGlobeTrianglesCenterLongitudes=Oe,this.elevatedGlobeIndexBuffer=o.createIndexBuffer(rt)}this.elevatedGlobeSegments=Js.simpleSegment(0,0,4225,8192),this.elevatedGlobeGridMatrix=new Float32Array([0,xe/zn,0,Ie/zn,0,0,ge,fe,0])}prepare(){const o=Object.keys(this.tiles).length!==0;if(this.tileID&&!o)return;const h=this.map.painter.context,A=h.gl;!this._dirty||this.texture instanceof YE||(this.texture?this.texture.update(this.image):(this.texture=new SL(h,this.image,A.RGBA),this.texture.bind(A.LINEAR,A.CLAMP_TO_EDGE)),this._dirty=!1),o&&this._prepareData(h)}loadTile(o,h){this.tileID&&this.tileID.equals(o.tileID.canonical)?(this.tiles[String(o.tileID.wrap)]=o,o.buckets={},h(null)):(o.state="errored",h(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}getSegmentsForLongitude(o){const h=this.elevatedGlobeSegments;if(!this.elevatedGlobeTrianglesCenterLongitudes||!h)return null;const A=this.elevatedGlobeTrianglesCenterLongitudes;let _=((U,K)=>U+360*Math.round((K-U)/360))(o+180,A[0]);const b=new Js,E=(U,K)=>{b.segments.push({vertexOffset:0,primitiveOffset:U,vertexLength:h.segments[0].vertexLength,primitiveLength:K,sortKey:void 0,vaos:{}})},I=.51*this.maxLongitudeTriangleSize;if(Math.abs(A[0]-_)<=I){const U=It(A,0,A.length,_+I);return U===A.length||E(U,ut(A,U+1,A.length,_+360-I)-U),b}_<A[0]&&(_+=360);const F=ut(A,0,A.length,_-I);if(F===A.length)return E(0,A.length),b;E(0,F-0);const O=It(A,F+1,A.length,_+I);return O!==A.length&&E(O,A.length-O),b}}const I0e=(Math.pow(256,2)-1)/16907520;class ZQ extends yl{constructor(o,h,A){super(o,M0e,h,A),this.updateColorRamp(),this._curRampRange=[NaN,NaN]}getProgramIds(){return["raster"]}hasColorMap(){return!!this._transitionablePaint._values["raster-color"].value.value}tileCoverLift(){return this.paint.get("raster-elevation")}isLayerDraped(o){return!(o&&o._source instanceof XQ&&(o._source.onNorthPole||o._source.onSouthPole))&&this.paint.get("raster-elevation")===0}_handleSpecialPaintPropertyUpdate(o){o!=="raster-color"&&o!=="raster-color-range"||(this._curRampRange=[NaN,NaN],this.updateColorRamp())}updateColorRamp(o){if(!this.hasColorMap()||!this._curRampRange)return;const h=this._transitionablePaint._values["raster-color"].value.expression,[A,_]=o||this._transitionablePaint._values["raster-color-range"].value.expression.evaluate({zoom:0})||[NaN,NaN];isNaN(A)&&isNaN(_)||A===this._curRampRange[0]&&_===this._curRampRange[1]||(this.colorRamp=Rx({expression:h,evaluationKey:"rasterValue",image:this.colorRamp,clips:[{start:A,end:_}],resolution:256}),this.colorRampTexture=null,this._curRampRange=[A,_])}}const L0e=new ka({visibility:new jn(rn["layout_raster-particle"].visibility)});var k0e={paint:new ka({"raster-particle-array-band":new jn(rn["paint_raster-particle"]["raster-particle-array-band"]),"raster-particle-count":new jn(rn["paint_raster-particle"]["raster-particle-count"]),"raster-particle-color":new Io(rn["paint_raster-particle"]["raster-particle-color"]),"raster-particle-max-speed":new jn(rn["paint_raster-particle"]["raster-particle-max-speed"]),"raster-particle-speed-factor":new jn(rn["paint_raster-particle"]["raster-particle-speed-factor"]),"raster-particle-fade-opacity-factor":new jn(rn["paint_raster-particle"]["raster-particle-fade-opacity-factor"]),"raster-particle-reset-rate-factor":new jn(rn["paint_raster-particle"]["raster-particle-reset-rate-factor"])}),layout:L0e};class JQ extends yl{constructor(o,h,A){super(o,k0e,h,A),this._updateColorRamp(),this.onRemove=_=>{this.colorRampTexture&&this.colorRampTexture.destroy(),this.transformFeedbackObject&&_.painter.context.gl.deleteTransformFeedback(this.transformFeedbackObject),this.tileFramebuffer&&this.tileFramebuffer.destroy()},this.lastInvalidatedAt=kt.now()}hasColorMap(){return!!this._transitionablePaint._values["raster-particle-color"].value.value}getProgramIds(){return["rasterParticle"]}hasOffscreenPass(){return this.visibility!=="none"}isLayerDraped(o){return!1}_handleSpecialPaintPropertyUpdate(o){o!=="raster-particle-color"&&o!=="raster-particle-max-speed"||(this._updateColorRamp(),this._invalidateAnimationState()),o==="raster-particle-count"&&this._invalidateAnimationState()}_updateColorRamp(){if(!this.hasColorMap())return;const o=this._transitionablePaint._values["raster-particle-color"].value.expression,h=this._transitionablePaint._values["raster-particle-max-speed"].value.expression.evaluate({zoom:0});this.colorRamp=Rx({expression:o,evaluationKey:"rasterParticleSpeed",image:this.colorRamp,clips:[{start:0,end:h}],resolution:256}),this.colorRampTexture=null}_invalidateAnimationState(){this.lastInvalidatedAt=kt.now()}}class P0e extends yl{constructor(o,h){super(o,{},h),this.implementation=o,o.slot&&(this.slot=o.slot)}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}isLayerDraped(o){return this.implementation.renderToTile!==void 0}shouldRedrape(){return!!this.implementation.shouldRerenderTiles&&this.implementation.shouldRerenderTiles()}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(o){this.implementation.onAdd&&this.implementation.onAdd(o,o.painter.context.gl)}onRemove(o){this.implementation.onRemove&&this.implementation.onRemove(o,o.painter.context.gl)}}const F0e=new ka({visibility:new jn(rn.layout_sky.visibility)});var R0e={paint:new ka({"sky-type":new jn(rn.paint_sky["sky-type"]),"sky-atmosphere-sun":new jn(rn.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new jn(rn.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new jn(rn.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new jn(rn.paint_sky["sky-gradient-radius"]),"sky-gradient":new Io(rn.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new jn(rn.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new jn(rn.paint_sky["sky-atmosphere-color"]),"sky-opacity":new jn(rn.paint_sky["sky-opacity"])}),layout:F0e};function TL(u,o,h){const A=[0,0,1],_=a.bi.identity([]);return a.bi.rotateY(_,_,h?-W(u)+Math.PI:W(u)),a.bi.rotateX(_,_,-W(o)),a.N.transformQuat(A,A,_),a.N.normalize(A,A)}var O0e={paint:new ka({})};function ej(u,o){const h=JE(u.projection,u.zoom,u.width,u.height),A=function(b,E,I,F,O){const U=new Yt(I.lng-180*nv,I.lat),K=new Yt(I.lng+180*nv,I.lat),Z=b.project(U.lng,U.lat),fe=b.project(K.lng,K.lat),ge=-Math.atan2(fe.y-Z.y,fe.x-Z.x),xe=ma.fromLngLat(I);xe.y=ce(xe.y,-1+nv,1-nv);const Ie=xe.toLngLat(),Oe=b.project(Ie.lng,Ie.lat),rt=ma.fromLngLat(Ie);rt.x+=nv;const lt=rt.toLngLat(),ot=b.project(lt.lng,lt.lat),Tt=rj(ot.x-Oe.x,ot.y-Oe.y,ge),yt=ma.fromLngLat(Ie);yt.y+=nv;const Dt=yt.toLngLat(),Gt=b.project(Dt.lng,Dt.lat),Xt=rj(Gt.x-Oe.x,Gt.y-Oe.y,ge),pn=Math.abs(Tt.x)/Math.abs(Xt.y),en=a.a6.identity([]);a.a6.rotateZ(en,en,-ge*(1-(O?0:F)));const Sn=a.a6.identity([]);return a.a6.scale(Sn,Sn,[1,1-(1-pn)*F,1]),Sn[4]=-Xt.x/Xt.y*F,a.a6.rotateZ(Sn,Sn,ge),a.a6.multiply(Sn,en,Sn),Sn}(u.projection,0,u.center,h,o),_=tj(u);return a.a6.scale(A,A,[_,_,1]),A}function tj(u){const o=u.projection,h=JE(u.projection,u.zoom,u.width,u.height),A=nj(o,u.center),_=nj(o,Yt.convert(o.center));return Math.pow(2,A*h+(1-h)*_)}function JE(u,o,h,A,_=1/0){const b=u.range;if(!b)return 0;const E=Math.min(_,Math.max(h,A)),I=Math.log(E/1024)/Math.LN2;return ue(b[0]+I,b[1]+I,o)}const nv=1/4e4;function nj(u,o){const h=ce(o.lat,-Yi,Yi),A=new Yt(o.lng-180*nv,h),_=new Yt(o.lng+180*nv,h),b=u.project(A.lng,h),E=u.project(_.lng,h),I=ma.fromLngLat(A),F=ma.fromLngLat(_),O=E.x-b.x,U=E.y-b.y,K=F.x-I.x,Z=F.y-I.y,fe=Math.sqrt((K*K+Z*Z)/(O*O+U*U));return Math.log(fe)/Math.LN2}function rj(u,o,h){const A=Math.cos(h),_=Math.sin(h);return{x:u*A-o*_,y:u*_+o*A}}function ij(u,o,h){a.a6.identity(u),a.a6.rotateZ(u,u,W(o[2])),a.a6.rotateX(u,u,W(o[0])),a.a6.rotateY(u,u,W(o[1])),a.a6.scale(u,u,h),a.a6.multiply(u,u,[1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,1])}function eS(u,o,h,A,_,b,E,I){const F=[h[0]-o[0],h[1]-o[1],0],O=[A[0]-o[0],A[1]-o[1],0];if(a.N.length(F)<1e-12||a.N.length(O)<1e-12)return a.bi.identity(u);const U=a.N.cross([],F,O);a.N.normalize(U,U),a.N.subtract(O,A,o),F[2]=(b-_)*I,O[2]=(E-_)*I;const K=F;return a.N.cross(K,F,O),a.N.normalize(K,K),a.bi.rotationTo(u,U,K)}function BL(u,o,h=!1){const A=q0(o.zoom),_=function(b,E,I){const F=E.worldSize,O=[b[12],b[13],b[14]],U=ia(O[1]/F),K=wi(O[0]/F),Z=a.a6.identity([]),fe=Ei(1,U)*F,ge=Ei(1,0)*F*Xi(U,E.zoom),xe=1/ZI(F);let Ie=ge*xe;if(I){const ot=JE(E.projection,E.zoom,E.width,E.height,1024);Ie=xe*E.projection.pixelSpaceConversion(E.center.lat,F,ot)}const Oe=xn(U,K);a.N.add(Oe,Oe,a.N.scale([],a.N.normalize([],Oe),fe*Ie*O[2]));const rt=function(ot){const Tt=[ot[0],ot[1],ot[2]];let yt=[0,1,0];const Dt=a.N.cross([],yt,Tt);return a.N.cross(yt,Tt,Dt),a.N.squaredLength(yt)===0&&(yt=[0,1,0],a.N.cross(Dt,Tt,yt)),a.N.normalize(Dt,Dt),a.N.normalize(yt,yt),a.N.normalize(Tt,Tt),[Dt[0],Dt[1],Dt[2],0,yt[0],yt[1],yt[2],0,Tt[0],Tt[1],Tt[2],0,ot[0],ot[1],ot[2],1]}(Oe);a.a6.scale(Z,Z,[Ie,Ie,Ie*fe]),a.a6.translate(Z,Z,[-O[0],-O[1],-O[2]]);const lt=a.a6.multiply([],E.globeMatrix,rt);return a.a6.multiply(lt,lt,Z),a.a6.multiply(lt,lt,b),lt}(u,o,h);if(A>0){const b=function(E,I){const F=I.worldSize,O=Ei(1,0)*F*Xi(I.center.lat,I.zoom)/ZI(F),U=Ei(1,I.center.lat)*F,K=a.a6.identity([]);return a.a6.rotateY(K,K,W(I.center.lng)),a.a6.rotateX(K,K,W(I.center.lat)),a.a6.translate(K,K,[0,0,st]),a.a6.scale(K,K,[O,O,O*U]),a.a6.translate(K,K,[I.point.x-.5*F,I.point.y-.5*F,0]),a.a6.multiply(K,K,E),a.a6.multiply(K,I.globeMatrix,K)}(u,o);return function(E,I,F){const O=(ge,xe,Ie)=>{const Oe=a.N.length(ge),rt=a.N.length(xe),lt=Tg(ge,xe,Ie);return a.N.scale(lt,lt,1/a.N.length(lt)*Di(Oe,rt,Ie))},U=O([E[0],E[1],E[2]],[I[0],I[1],I[2]],F),K=O([E[4],E[5],E[6]],[I[4],I[5],I[6]],F),Z=O([E[8],E[9],E[10]],[I[8],I[9],I[10]],F),fe=Tg([E[12],E[13],E[14]],[I[12],I[13],I[14]],F);return[U[0],U[1],U[2],0,K[0],K[1],K[2],0,Z[0],Z[1],Z[2],0,fe[0],fe[1],fe[2],1]}(_,b,A)}return _}function aj(u,o,h,A){const _=Qs.projectAabbCorners(A,h);let b=Number.MAX_VALUE,E=-1;for(let O=0;O<_.length;++O){const U=_[O];U[0]=(.5*U[0]+.5)*o.width,U[1]=(.5-.5*U[1])*o.height,U[2]<b&&(E=O,b=U[2])}const I=O=>new G(_[O][0],_[O][1]);let F;switch(E){case 0:case 6:F=[I(1),I(5),I(4),I(7),I(3),I(2),I(1)];break;case 1:case 7:F=[I(0),I(4),I(5),I(6),I(2),I(3),I(0)];break;case 3:case 5:F=[I(1),I(0),I(4),I(7),I(6),I(2),I(1)];break;default:F=[I(1),I(5),I(6),I(7),I(3),I(0),I(1)]}if(ff(u,F))return b}const D0e=Ba([{name:"a_pos_3f",components:3,type:"Float32"}]),N0e=Ba([{name:"a_color_3f",components:3,type:"Float32"}]),U0e=Ba([{name:"a_color_4f",components:4,type:"Float32"}]),z0e=Ba([{name:"a_uv_2f",components:2,type:"Float32"}]),$0e=Ba([{name:"a_normal_3f",components:3,type:"Float32"}]),V0e=Ba([{name:"a_normal_matrix0",components:4,type:"Float32"},{name:"a_normal_matrix1",components:4,type:"Float32"},{name:"a_normal_matrix2",components:4,type:"Float32"},{name:"a_normal_matrix3",components:4,type:"Float32"}]),H0e=Ba([{name:"a_pbr",components:4,type:"Uint16"},{name:"a_heightBasedEmissiveStrength",components:3,type:"Float32"}]);class sj{constructor(o,h){this.feature=o,this.instancedDataOffset=h,this.instancedDataCount=0,this.rotation=[0,0,0],this.scale=[1,1,1],this.translation=[0,0,0]}}class oj{constructor(){this.instancedDataArray=new t_,this.instancesEvaluatedElevation=[],this.features=[],this.idToFeaturesIndex={}}}class ML{constructor(o){this.zoom=o.zoom,this.canonical=o.canonical,this.layers=o.layers,this.layerIds=this.layers.map(h=>h.fqid),this.projection=o.projection,this.index=o.index,this.hasZoomDependentProperties=this.layers[0].isZoomDependent(),this.stateDependentLayerIds=this.layers.filter(h=>h.isStateDependent()).map(h=>h.id),this.hasPattern=!1,this.instancesPerModel={},this.validForExaggeration=0,this.maxVerticalOffset=0,this.maxScale=0,this.maxHeight=0,this.lookupDim=this.zoom>this.canonical.z?256:this.zoom>15?75:100,this.instanceCount=0,this.terrainElevationMin=0,this.terrainElevationMax=0,this.validForDEMTile={id:null,timestamp:0}}populate(o,h,A,_){this.tileToMeter=Zi(A);const b=this.layers[0]._featureFilter.needGeometry;this.lookup=new Uint8Array(this.lookupDim*this.lookupDim);for(const{feature:E,id:I,index:F,sourceLayerIndex:O}of o){const U=Vo(E,b);if(!this.layers[0]._featureFilter.filter(new Fi(this.zoom),U,A))continue;const K={id:I,sourceLayerIndex:O,index:F,geometry:b?U.geometry:ul(E,A,_),properties:E.properties,type:E.type,patterns:{}},Z=this.addFeature(K,K.geometry,U);Z&&h.featureIndex.insert(E,K.geometry,F,O,this.index,this.instancesPerModel[Z].instancedDataArray.length,zn/32)}this.lookup=null}update(o,h,A,_){for(const b in this.instancesPerModel){const E=this.instancesPerModel[b];for(const I in o)E.idToFeaturesIndex.hasOwnProperty(I)&&this.evaluate(E.features[E.idToFeaturesIndex[I]],o[I],E,!0)}this.maxHeight=0}updateZoomBasedPaintProperties(){if(!this.hasZoomDependentProperties)return!1;let o=!1;for(const h in this.instancesPerModel){const A=this.instancesPerModel[h];for(const _ of A.features){const b=this.layers[0],E=_.feature,I=this.canonical,F=b.paint.get("model-rotation").evaluate(E,{},I),O=b.paint.get("model-scale").evaluate(E,{},I),U=b.paint.get("model-translation").evaluate(E,{},I);a.N.exactEquals(_.rotation,F)&&a.N.exactEquals(_.scale,O)&&a.N.exactEquals(_.translation,U)||(this.evaluate(_,_.featureStates,A,!0),o=!0)}}return o}isEmpty(){for(const o in this.instancesPerModel)if(this.instancesPerModel[o].instancedDataArray.length!==0)return!1;return!0}uploadPending(){return!this.uploaded}upload(o){if(!this.uploaded)for(const h in this.instancesPerModel){const A=this.instancesPerModel[h];A.instancedDataArray.length<0||A.instancedDataArray.length===0||(A.instancedDataBuffer?A.instancedDataBuffer.updateData(A.instancedDataArray):A.instancedDataBuffer=o.createVertexBuffer(A.instancedDataArray,V0e.members,!0,void 0,this.instanceCount))}this.uploaded=!0}destroy(){for(const o in this.instancesPerModel){const h=this.instancesPerModel[o];h.instancedDataArray.length!==0&&h.instancedDataBuffer&&h.instancedDataBuffer.destroy()}}addFeature(o,h,A){const _=this.layers[0],b=_.layout.get("model-id").evaluate(A,{},this.canonical);if(!b)return Ge(`modelId is not evaluated for layer ${_.id} and it is not going to get rendered.`),b;this.instancesPerModel[b]||(this.instancesPerModel[b]=new oj);const E=this.instancesPerModel[b],I=E.instancedDataArray,F=new sj(A,I.length);for(const O of h)for(const U of O){if(U.x<0||U.x>=zn||U.y<0||U.y>=zn)continue;const K=(this.lookupDim-1)/zn,Z=this.lookupDim*(U.y*K|0)+U.x*K|0;if(this.lookup){if(this.lookup[Z]!==0)continue;this.lookup[Z]=1}this.instanceCount++;const fe=I.length;I.resize(fe+1),E.instancesEvaluatedElevation.push(0),I.float32[16*fe]=U.x,I.float32[16*fe+1]=U.y}return F.instancedDataCount=E.instancedDataArray.length-F.instancedDataOffset,F.instancedDataCount>0&&(o.id&&(E.idToFeaturesIndex[o.id]=E.features.length),E.features.push(F),this.evaluate(F,{},E,!1)),b}evaluate(o,h,A,_){const b=this.layers[0],E=o.feature,I=this.canonical,F=o.rotation=b.paint.get("model-rotation").evaluate(E,h,I),O=o.scale=b.paint.get("model-scale").evaluate(E,h,I),U=o.translation=b.paint.get("model-translation").evaluate(E,h,I),K=b.paint.get("model-color").evaluate(E,h,I);K.a=b.paint.get("model-color-mix-intensity").evaluate(E,h,I);const Z=[];this.maxVerticalOffset<U[2]&&(this.maxVerticalOffset=U[2]),this.maxScale=Math.max(Math.max(this.maxScale,O[0]),Math.max(O[1],O[2])),ij(Z,F,O);const fe=Math.round(100*K.a)+K.b/1.05;for(let ge=0;ge<o.instancedDataCount;++ge){const xe=o.instancedDataOffset+ge,Ie=16*xe,Oe=A.instancedDataArray.float32;let rt=0;_&&(rt=Oe[Ie+6]-A.instancesEvaluatedElevation[xe]);const lt=0|Oe[Ie+1];Oe[Ie]=(0|Oe[Ie])+K.r/1.05,Oe[Ie+1]=lt+K.g/1.05,Oe[Ie+2]=fe,Oe[Ie+3]=1/(I.z>10?this.tileToMeter:Zi(I,lt)),Oe[Ie+4]=U[0],Oe[Ie+5]=U[1],Oe[Ie+6]=U[2]+rt,Oe[Ie+7]=Z[0],Oe[Ie+8]=Z[1],Oe[Ie+9]=Z[2],Oe[Ie+10]=Z[4],Oe[Ie+11]=Z[5],Oe[Ie+12]=Z[6],Oe[Ie+13]=Z[8],Oe[Ie+14]=Z[9],Oe[Ie+15]=Z[10],A.instancesEvaluatedElevation[xe]=U[2]}}}ze(ML,"ModelBucket",{omit:["layers"]}),ze(oj,"PerModelAttributes"),ze(sj,"ModelFeature");const Q0e=new ka({visibility:new jn(rn.layout_model.visibility),"model-id":new Cr(rn.layout_model["model-id"])});var j0e={paint:new ka({"model-opacity":new jn(rn.paint_model["model-opacity"]),"model-rotation":new Cr(rn.paint_model["model-rotation"]),"model-scale":new Cr(rn.paint_model["model-scale"]),"model-translation":new Cr(rn.paint_model["model-translation"]),"model-color":new Cr(rn.paint_model["model-color"]),"model-color-mix-intensity":new Cr(rn.paint_model["model-color-mix-intensity"]),"model-type":new jn(rn.paint_model["model-type"]),"model-cast-shadows":new jn(rn.paint_model["model-cast-shadows"]),"model-receive-shadows":new jn(rn.paint_model["model-receive-shadows"]),"model-ambient-occlusion-intensity":new jn(rn.paint_model["model-ambient-occlusion-intensity"]),"model-emissive-strength":new Cr(rn.paint_model["model-emissive-strength"]),"model-roughness":new Cr(rn.paint_model["model-roughness"]),"model-height-based-emissive-strength-multiplier":new Cr(rn.paint_model["model-height-based-emissive-strength-multiplier"]),"model-cutoff-fade-range":new jn(rn.paint_model["model-cutoff-fade-range"])}),layout:Q0e};const d_=64,Ib={CoordinateSpaceTile:1,CoordinateSpaceYUp:2,HasMapboxMeshFeatures:4,HasMeshoptCompression:8};function lj(u,o,h,A,_,b,E,I,F,O=!1){const U=h.zoom,K=h.project(A),Z=Xi(A.lat,U),fe=1/Z;a.a6.identity(u),a.a6.translate(u,u,[K.x+E[0]*fe,K.y+E[1]*fe,E[2]]);let ge=1,xe=1;const Ie=h.worldSize;if(O){if(h.projection.name==="mercator"){let ot=0;h.elevation&&(ot=h.elevation.getAtPointOrZero(new ma(K.x/Ie,K.y/Ie),0));const Tt=a.a7.transformMat4([],[K.x,K.y,ot,1],h.projMatrix)[3]/h.cameraToCenterDistance;ge=Tt,xe=Tt*Xi(h.center.lat,U)}else if(h.projection.name==="globe"){const ot=BL(u,h),Tt=a.a6.multiply([],h.projMatrix,ot),yt=[0,0,0,1];a.a7.transformMat4(yt,yt,Tt);const Dt=yt[3]/h.cameraToCenterDistance,Gt=q0(U),Xt=h.projection.pixelsPerMeter(A.lat,Ie)*Xi(A.lat,U),pn=h.projection.pixelsPerMeter(h.center.lat,Ie)*Xi(h.center.lat,U);ge=Dt/Di(Xt,ks(h.center.lat),Gt),xe=Dt*Z/Xt,ge*=pn,xe*=pn}}else ge=fe;a.a6.scale(u,u,[ge,ge,xe]);const Oe=[...u],rt=o.orientation,lt=[];if(ij(lt,[rt[0]+_[0],rt[1]+_[1],rt[2]+_[2]],b),a.a6.multiply(u,Oe,lt),I&&h.elevation){let ot=0;const Tt=[];if(F&&h.elevation){ot=function(Gt,Xt,pn,en,Sn){const Dn=Xt.elevation;if(!Dn)return 0;const yn=Qs.projectAabbCorners(pn,en),On=Ei(1,Sn.lat)*Xt.worldSize,gn=function(qr,zi){const ri=[0,0,1],$i=[{corners:[0,1,3,2],dotProductWithUp:0},{corners:[1,5,2,6],dotProductWithUp:0},{corners:[0,4,1,5],dotProductWithUp:0},{corners:[2,6,3,7],dotProductWithUp:0},{corners:[4,7,5,6],dotProductWithUp:0},{corners:[0,3,4,7],dotProductWithUp:0}];for(const vi of $i){const na=qr[vi.corners[0]],Si=qr[vi.corners[1]],Za=qr[vi.corners[2]],ya=[Si[0]-na[0],Si[1]-na[1],zi*(Si[2]-na[2])],wa=a.N.cross(ya,ya,[Za[0]-na[0],Za[1]-na[1],zi*(Za[2]-na[2])]);a.N.normalize(wa,wa),vi.dotProductWithUp=a.N.dot(wa,ri)}return $i.sort((vi,na)=>vi.dotProductWithUp-na.dotProductWithUp),$i[0].corners}(yn,On),Rn=yn[gn[0]],cr=yn[gn[1]],Un=yn[gn[2]],Br=yn[gn[3]],yr=Dn.getAtPointOrZero(new ma(Rn[0]/Xt.worldSize,Rn[1]/Xt.worldSize),0),qn=Dn.getAtPointOrZero(new ma(cr[0]/Xt.worldSize,cr[1]/Xt.worldSize),0),ni=Dn.getAtPointOrZero(new ma(Un[0]/Xt.worldSize,Un[1]/Xt.worldSize),0),Ur=Dn.getAtPointOrZero(new ma(Br[0]/Xt.worldSize,Br[1]/Xt.worldSize),0),Sr=(yr+Ur)/2,Yn=(qn+ni)/2;return Sr>Yn?qn<ni?eS(Gt,cr,Br,Rn,qn,Ur,yr,On):eS(Gt,Un,Rn,Br,ni,yr,Ur,On):yr<Ur?eS(Gt,Rn,cr,Un,yr,qn,ni,On):eS(Gt,Br,Un,cr,Ur,ni,qn,On),Math.max(Sr,Yn)}(Tt,h,o.aabb,u,A);const yt=a.a6.fromQuat([],Tt),Dt=a.a6.multiply([],yt,lt);a.a6.multiply(u,Oe,Dt)}else ot=h.elevation.getAtPointOrZero(new ma(K.x/Ie,K.y/Ie),0);ot!==0&&(u[14]+=ot)}}function Xx(u,o,h=!1){u.uploaded||(u.gfxTexture=new SL(o,u.image,h?o.gl.R8:o.gl.RGBA,{useMipmap:u.sampler.minFilter>=o.gl.NEAREST_MIPMAP_NEAREST}),u.uploaded=!0,u.image=null)}function G0e(u,o,h){u.indexBuffer=o.createIndexBuffer(u.indexArray,!1,!0),u.vertexBuffer=o.createVertexBuffer(u.vertexArray,D0e.members,!1,!0),u.normalArray&&(u.normalBuffer=o.createVertexBuffer(u.normalArray,$0e.members,!1,!0)),u.texcoordArray&&(u.texcoordBuffer=o.createVertexBuffer(u.texcoordArray,z0e.members,!1,!0)),u.colorArray&&(u.colorBuffer=o.createVertexBuffer(u.colorArray,(u.colorArray.bytesPerElement===12?N0e:U0e).members,!1,!0)),u.featureArray&&(u.pbrBuffer=o.createVertexBuffer(u.featureArray,H0e.members,!0)),u.segments=Js.simpleSegment(0,0,u.vertexArray.length,u.indexArray.length);const A=u.material;A.pbrMetallicRoughness.baseColorTexture&&Xx(A.pbrMetallicRoughness.baseColorTexture,o),A.pbrMetallicRoughness.metallicRoughnessTexture&&Xx(A.pbrMetallicRoughness.metallicRoughnessTexture,o),A.normalTexture&&Xx(A.normalTexture,o),A.occlusionTexture&&Xx(A.occlusionTexture,o,h),A.emissionTexture&&Xx(A.emissionTexture,o)}function IL(u,o,h){if(u.meshes)for(const A of u.meshes)G0e(A,o,h);if(u.children)for(const A of u.children)IL(A,o,h)}function tS(u){if(u.meshes)for(const o of u.meshes)o.indexArray.destroy(),o.vertexArray.destroy(),o.colorArray&&o.colorArray.destroy(),o.normalArray&&o.normalArray.destroy(),o.texcoordArray&&o.texcoordArray.destroy(),o.featureArray&&o.featureArray.destroy();if(u.children)for(const o of u.children)tS(o)}function LL(u){if(u.meshes)for(const h of u.meshes)h.vertexBuffer&&(h.vertexBuffer.destroy(),h.indexBuffer.destroy(),h.normalBuffer&&h.normalBuffer.destroy(),h.texcoordBuffer&&h.texcoordBuffer.destroy(),h.colorBuffer&&h.colorBuffer.destroy(),h.pbrBuffer&&h.pbrBuffer.destroy(),h.segments.destroy(),h.material&&((o=h.material).pbrMetallicRoughness.baseColorTexture&&o.pbrMetallicRoughness.baseColorTexture.gfxTexture&&o.pbrMetallicRoughness.baseColorTexture.gfxTexture.destroy(),o.pbrMetallicRoughness.metallicRoughnessTexture&&o.pbrMetallicRoughness.metallicRoughnessTexture.gfxTexture&&o.pbrMetallicRoughness.metallicRoughnessTexture.gfxTexture.destroy(),o.normalTexture&&o.normalTexture.gfxTexture&&o.normalTexture.gfxTexture.destroy(),o.emissionTexture&&o.emissionTexture.gfxTexture&&o.emissionTexture.gfxTexture.destroy(),o.occlusionTexture&&o.occlusionTexture.gfxTexture&&o.occlusionTexture.gfxTexture.destroy()));var o;if(u.children)for(const h of u.children)LL(h)}class K0e{constructor(o){this._callback=o,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class W0e{constructor(){this.tasks={},this.taskQueue=[],Re(["process"],this),this.invoker=new K0e(this.process),this.nextId=0}add(o,h){const A=this.nextId++,_=function({type:b,isSymbolTile:E,zoom:I}){return I=I||0,b==="message"?0:b!=="maybePrepare"||E?b!=="parseTile"||E?b==="parseTile"&&E?300-I:b==="maybePrepare"&&E?400-I:500:200-I:100-I}(h);if(_===0){vt();try{o()}finally{}return null}return this.tasks[A]={fn:o,metadata:h,priority:_,id:A},this.taskQueue.push(A),this.invoker.trigger(),{cancel:()=>{delete this.tasks[A]}}}process(){vt();try{if(this.taskQueue=this.taskQueue.filter(A=>!!this.tasks[A]),!this.taskQueue.length)return;const o=this.pick();if(o===null)return;const h=this.tasks[o];if(delete this.tasks[o],this.taskQueue.length&&this.invoker.trigger(),!h)return;h.fn()}finally{}}pick(){let o=null,h=1/0;for(let _=0;_<this.taskQueue.length;_++){const b=this.tasks[this.taskQueue[_]];b.priority<h&&(h=b.priority,o=_)}if(o===null)return null;const A=this.taskQueue[o];return this.taskQueue.splice(o,1),A}remove(){this.invoker.remove()}}class uj{constructor(o,h,A){this.target=o,this.parent=h,this.mapId=A,this.callbacks={},this.cancelCallbacks={},Re(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.scheduler=new W0e}send(o,h,A,_,b=!1,E){const I=Math.round(1e18*Math.random()).toString(36).substring(0,10);A&&(A.metadata=E,this.callbacks[I]=A);const F=new Set;return this.target.postMessage({id:I,type:o,hasCallback:!!A,targetMapId:_,mustQueue:b,sourceMapId:this.mapId,data:gt(h,F)},F),{cancel:()=>{A&&delete this.callbacks[I],this.target.postMessage({id:I,type:"<cancel>",targetMapId:_,sourceMapId:this.mapId})}}}receive(o){const h=o.data,A=h.id;if(A&&(!h.targetMapId||this.mapId===h.targetMapId))if(h.type==="<cancel>"){const _=this.cancelCallbacks[A];delete this.cancelCallbacks[A],_&&_.cancel()}else if(h.mustQueue||vt()){const _=this.callbacks[A],b=this.scheduler.add(()=>this.processTask(A,h),_&&_.metadata||{type:"message"});b&&(this.cancelCallbacks[A]=b)}else this.processTask(A,h)}processTask(o,h){if(delete this.cancelCallbacks[o],h.type==="<response>"){const A=this.callbacks[o];delete this.callbacks[o],A&&(h.error?A(Ct(h.error)):A(null,Ct(h.data)))}else{const A=new Set,_=h.hasCallback?(E,I)=>{this.target.postMessage({id:o,type:"<response>",sourceMapId:this.mapId,error:E?gt(E):null,data:gt(I,A)},A)}:E=>{},b=Ct(h.data);if(this.parent[h.type])this.parent[h.type](h.sourceMapId,b,_);else if(this.parent.getWorkerSource){const E=h.type.split(".");this.parent.getWorkerSource(h.sourceMapId,E[0],b.source,b.scope)[E[1]](b,_)}else _(new Error(`Could not find function ${h.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}}class Lb{constructor(o,h){this.workerPool=o,this.actors=[],this.currentActor=0,this.id=_e();const A=this.workerPool.acquire(this.id);for(let _=0;_<A.length;_++){const b=new Lb.Actor(A[_],h,this.id);b.name=`Worker ${_}`,this.actors.push(b)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(o,h,A){Ee(this.actors,(_,b)=>{_.send(o,h,b)},A=A||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(o=>{o.remove()}),this.actors=[],this.workerPool.release(this.id)}}Lb.Actor=uj;var Zx={workerUrl:"",workerClass:null,workerParams:void 0};function q0e(){return Zx.workerClass!=null?new Zx.workerClass:new self.Worker(Zx.workerUrl,Zx.workerParams)}const kL="mapboxgl_preloaded_worker_pool";class Jx{constructor(){this.active={}}acquire(o){if(!this.workers)for(this.workers=[];this.workers.length<Jx.workerCount;)this.workers.push(new q0e);return this.active[o]=!0,this.workers.slice()}release(o){delete this.active[o],this.workers&&this.numActive()===0&&(this.workers.forEach(h=>{h.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[kL]}numActive(){return Object.keys(this.active).length}}let e4;function nS(){return e4||(e4=new Jx),e4}Jx.workerCount=2;let rS,PL,Ep,kb,FL,Pb=null;function cj(){return vt()&&self.worker&&self.worker.dracoUrl?self.worker.dracoUrl:PL||m.DRACO_URL}function hj(){if(vt()&&self.worker&&self.worker.meshoptUrl)return self.worker.meshoptUrl;if(kb)return kb;const u=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]);if(typeof WebAssembly!="object")throw new Error("WebAssembly not supported, cannot instantiate meshoptimizer");return kb=WebAssembly.validate(u)?m.MESHOPT_SIMD_URL:m.MESHOPT_URL,kb}const iS={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Y0e={5120:"DT_INT8",5121:"DT_UINT8",5122:"DT_INT16",5123:"DT_UINT16",5125:"DT_UINT32",5126:"DT_FLOAT32"},t4={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16};function dj(u,o,h){const A=h.json.bufferViews.length,_=h.buffers.length;o.bufferView=A,h.json.bufferViews[A]={buffer:_,byteLength:u.byteLength},h.buffers[_]=u}const RL="KHR_draco_mesh_compression";function X0e(u,o){const h=u.extensions&&u.extensions[RL];if(!h)return;const A=new Ep.Decoder,_=mj(o,h.bufferView),b=new Ep.Mesh;if(!A.DecodeArrayToMesh(_,_.byteLength,b))throw new Error("Failed to decode Draco mesh");const E=o.json.accessors[u.indices],I=iS[E.componentType],F=E.count*I.BYTES_PER_ELEMENT,O=Ep._malloc(F);I===Uint16Array?A.GetTrianglesUInt16Array(b,F,O):A.GetTrianglesUInt32Array(b,F,O),dj(Ep.memory.buffer.slice(O,O+F),E,o),Ep._free(O);for(const U of Object.keys(h.attributes)){const K=A.GetAttributeByUniqueId(b,h.attributes[U]),Z=o.json.accessors[u.attributes[U]],fe=Y0e[Z.componentType],ge=Z.count*t4[Z.type]*iS[Z.componentType].BYTES_PER_ELEMENT,xe=Ep._malloc(ge);A.GetAttributeDataArrayForAllPoints(b,K,Ep[fe],ge,xe),dj(Ep.memory.buffer.slice(xe,xe+ge),Z,o),Ep._free(xe)}A.destroy(),b.destroy(),delete u.extensions[RL]}const aS="EXT_meshopt_compression";function Z0e(u,o){if(!u.extensions||!u.extensions[aS])return;const h=u.extensions[aS],A=new Uint8Array(o.buffers[h.buffer],h.byteOffset||0,h.byteLength||0),_=new Uint8Array(h.count*h.byteStride);FL.decodeGltfBuffer(_,h.count,h.byteStride,A,h.mode,h.filter),u.buffer=o.buffers.length,u.byteOffset=0,o.buffers[u.buffer]=_.buffer,delete u.extensions[aS]}const fj=1179937895,pj=new TextDecoder("utf8");function Aj(u,o){return new URL(u,o).href}function J0e(u,o,h,A){return fetch(Aj(u.uri,A)).then(_=>_.arrayBuffer()).then(_=>{o.buffers[h]=_})}function mj(u,o){const h=u.json.bufferViews[o];return new Uint8Array(u.buffers[h.buffer],h.byteOffset||0,h.byteLength)}function eve(u,o,h,A){if(u.uri){const _=Aj(u.uri,A);return fetch(_).then(b=>b.blob()).then(b=>createImageBitmap(b)).then(b=>{o.images[h]=b})}if(u.bufferView!==void 0){const _=mj(o,u.bufferView),b=new Blob([_],{type:u.mimeType});return createImageBitmap(b).then(E=>{o.images[h]=E})}}function gj(u,o=0,h){const A={json:null,images:[],buffers:[]};if(new Uint32Array(u,o,1)[0]===fj){const U=new Uint32Array(u,o);let K=2;const Z=(U[K++]>>2)-3,fe=U[K++]>>2;if(K++,A.json=JSON.parse(pj.decode(U.subarray(K,K+fe))),K+=fe,K<Z){const ge=U[K++];K++;const xe=o+(K<<2);A.buffers[0]=u.slice(xe,xe+ge)}}else A.json=JSON.parse(pj.decode(new Uint8Array(u,o)));const{buffers:_,images:b,meshes:E,extensionsUsed:I,bufferViews:F}=A.json;let O=Promise.resolve();if(_){const U=[];for(let K=0;K<_.length;K++){const Z=_[K];Z.uri?U.push(J0e(Z,A,K,h)):A.buffers[K]||(A.buffers[K]=null)}O=Promise.all(U)}return O.then(()=>{const U=[],K=I&&I.includes(RL),Z=I&&I.includes(aS);if(K&&U.push(function(){if(!Ep)return rS||(rS=function(fe){let ge,xe=null;function Ie(){ge=new Uint8Array(xe.buffer)}function Oe(){throw new Error("Unexpected Draco error.")}const rt={a:{a:Oe,d:function(lt,ot,Tt){return ge.copyWithin(lt,ot,ot+Tt)},c:function(lt){const ot=ge.length,Tt=Math.max(lt>>>0,Math.ceil(1.2*ot)),yt=Math.ceil((Tt-ot)/65536);try{return xe.grow(yt),Ie(),!0}catch{return!1}},b:Oe}};return(WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(fe,rt):fe.then(lt=>lt.arrayBuffer()).then(lt=>WebAssembly.instantiate(lt,rt))).then(lt=>{const{Rb:ot,Qb:Tt,P:yt,T:Dt,X:Gt,Ja:Xt,La:pn,Qa:en,Va:Sn,Wa:Dn,eb:yn,jb:On,f:gn,e:Rn,yb:cr,zb:Un,Ab:Br,Bb:yr,Db:qn,Gb:ni}=lt.instance.exports;xe=Rn;const Ur=(()=>{let Sr=0,Yn=0,qr=0,zi=0;return ri=>{qr&&(ot(zi),ot(Sr),Yn+=qr,qr=Sr=0),Sr||(Yn+=128,Sr=Tt(Yn));const $i=ri.length+7&-8;let vi=Sr;$i>=Yn&&(qr=$i,vi=zi=Tt($i));for(let na=0;na<ri.length;na++)ge[vi+na]=ri[na];return vi}})();return Ie(),gn(),{memory:Rn,_free:ot,_malloc:Tt,Mesh:class{constructor(){this.ptr=yt()}destroy(){Dt(this.ptr)}},Decoder:class{constructor(){this.ptr=Xt()}destroy(){On(this.ptr)}DecodeArrayToMesh(Sr,Yn,qr){const zi=Ur(Sr),ri=pn(this.ptr,zi,Yn,qr.ptr);return!!Gt(ri)}GetAttributeByUniqueId(Sr,Yn){return{ptr:en(this.ptr,Sr.ptr,Yn)}}GetTrianglesUInt16Array(Sr,Yn,qr){Sn(this.ptr,Sr.ptr,Yn,qr)}GetTrianglesUInt32Array(Sr,Yn,qr){Dn(this.ptr,Sr.ptr,Yn,qr)}GetAttributeDataArrayForAllPoints(Sr,Yn,qr,zi,ri){yn(this.ptr,Sr.ptr,Yn.ptr,qr,zi,ri)}},DT_INT8:cr(),DT_UINT8:Un(),DT_INT16:Br(),DT_UINT16:yr(),DT_UINT32:qn(),DT_FLOAT32:ni()}})}(fetch(cj())),rS.then(fe=>{Ep=fe,rS=void 0}))}()),Z&&U.push(function(){if(FL)return;const fe=function(ge){let xe;const Ie=WebAssembly.instantiateStreaming(ge,{}).then(lt=>{xe=lt.instance,xe.exports.__wasm_call_ctors()}),Oe={NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},rt={ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return{ready:Ie,supported:!0,decodeGltfBuffer(lt,ot,Tt,yt,Dt,Gt){(function(Xt,pn,en,Sn,Dn,yn,On){const gn=Xt.exports.sbrk,Rn=Sn+3&-4,cr=gn(Rn*Dn),Un=gn(yn.length),Br=new Uint8Array(Xt.exports.memory.buffer);Br.set(yn,Un);const yr=pn(cr,Sn,Dn,Un,yn.length);if(yr===0&&On&&On(cr,Rn,Dn),en.set(Br.subarray(cr,cr+Sn*Dn)),gn(cr-gn(0)),yr!==0)throw new Error(`Malformed buffer data: ${yr}`)})(xe,xe.exports[rt[Dt]],lt,ot,Tt,yt,xe.exports[Oe[Gt]])}}}(fetch(hj()));return fe.ready.then(()=>{FL=fe})}()),b)for(let fe=0;fe<b.length;fe++)U.push(eve(b[fe],A,fe,h));return(U.length?Promise.all(U):Promise.resolve()).then(()=>{if(K&&E)for(const{primitives:fe}of E)for(const ge of fe)X0e(ge,A);if(Z&&E&&F)for(const fe of F)Z0e(fe,A);return A})})}class vj{constructor(o,h,A){if(this.triangleCount=h.length/3,this.min=new G(0,0),this.max=new G(0,0),this.xScale=0,this.yScale=0,this.cellsX=0,this.cellsY=0,this.cells=[],this.payload=[],this.triangleCount===0||o.length===0||A===0)return;const _=o.map(U=>U.x),b=o.map(U=>U.y);this.min=new G(Math.min(..._),Math.min(...b)),this.max=new G(Math.max(..._),Math.max(...b));const E=this.max.sub(this.min);E.x=Math.max(E.x,1),E.y=Math.max(E.y,1);const I=Math.max(E.x,E.y)/A;this.cellsX=Math.max(1,Math.ceil(E.x/I)),this.cellsY=Math.max(1,Math.ceil(E.y/I)),this.xScale=1/I,this.yScale=1/I;const F=[];for(let U=0;U<this.triangleCount;U++){const K=o[h[3*U+0]].sub(this.min),Z=o[h[3*U+1]].sub(this.min),fe=o[h[3*U+2]].sub(this.min),ge=rv(Math.floor(Math.min(K.x,Z.x,fe.x)),this.xScale,this.cellsX),xe=rv(Math.floor(Math.max(K.x,Z.x,fe.x)),this.xScale,this.cellsX),Ie=rv(Math.floor(Math.min(K.y,Z.y,fe.y)),this.yScale,this.cellsY),Oe=rv(Math.floor(Math.max(K.y,Z.y,fe.y)),this.yScale,this.cellsY),rt=new G(0,0),lt=new G(0,0),ot=new G(0,0),Tt=new G(0,0);for(let yt=Ie;yt<=Oe;++yt){rt.y=lt.y=yt*I,ot.y=Tt.y=(yt+1)*I;for(let Dt=ge;Dt<=xe;++Dt)rt.x=ot.x=Dt*I,lt.x=Tt.x=(Dt+1)*I,(II(K,Z,fe,rt,lt,Tt)||II(K,Z,fe,rt,Tt,ot))&&F.push({cellIdx:yt*this.cellsX+Dt,triIdx:U})}}if(F.length===0)return;F.sort((U,K)=>U.cellIdx-K.cellIdx||U.triIdx-K.triIdx);let O=0;for(;O<F.length;){const U=F[O].cellIdx,K={start:this.payload.length,len:0};for(;O<F.length&&F[O].cellIdx===U;)++K.len,this.payload.push(F[O++].triIdx);this.cells[U]=K}}query(o,h,A){if(this.triangleCount===0||this.cells.length===0||o.x>this.max.x||this.min.x>h.x||o.y>this.max.y||this.min.y>h.y)return;this.lookup||(this.lookup=new Uint8Array(Math.ceil(this.triangleCount/8)));for(let F=0;F<this.lookup.length;F++)this.lookup[F]=0;const _=rv(o.x-this.min.x,this.xScale,this.cellsX),b=rv(h.x-this.min.x,this.xScale,this.cellsX),E=rv(o.y-this.min.y,this.yScale,this.cellsY),I=rv(h.y-this.min.y,this.yScale,this.cellsY);for(let F=E;F<=I;F++)for(let O=_;O<=b;O++){const U=this.cells[F*this.cellsX+O];if(U)for(let K=0;K<U.len;K++){const Z=this.payload[U.start+K],fe=Math.floor(Z/8),ge=1<<Z%8;if(!(this.lookup[fe]&ge)&&(this.lookup[fe]|=ge,A.push(Z),A.length===this.triangleCount))return}}}}function rv(u,o,h){return Math.max(0,Math.min(h-1,Math.floor(u*o)))}function f_(u,o){const h=u.json.bufferViews[o.bufferView],A=iS[o.componentType];return new A(u.buffers[h.buffer],(o.byteOffset||0)+(h.byteOffset||0),o.count*(h.byteStride&&h.byteStride!==t4[o.type]*A.BYTES_PER_ELEMENT?h.byteStride/A.BYTES_PER_ELEMENT:t4[o.type]))}function OL(u,o,h,A){const _=iS[o.componentType],b=function(U){switch(U){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:return 1}}(_),E=u.json.bufferViews[o.bufferView],I=E.byteStride?E.byteStride/_.BYTES_PER_ELEMENT:t4[o.type],F=h.float32,O=F.length/h.capacity;for(let U=0,K=0;U<o.count*I;U+=I,K+=O)for(let Z=0;Z<O;Z++)F[K+Z]=A[U+Z]*b;h._trim()}function tve(u,o,h){const A=u.indices,_=u.attributes,b={};b.indexArray=new Cs;const E=o.json.accessors[A],I=E.count/3;b.indexArray.reserve(I);const F=f_(o,E);for(let Z=0;Z<I;Z++)b.indexArray.emplaceBack(F[3*Z],F[3*Z+1],F[3*Z+2]);b.indexArray._trim(),b.vertexArray=new vp;const O=o.json.accessors[_.POSITION];b.vertexArray.reserve(O.count);const U=f_(o,O);for(let Z=0;Z<O.count;Z++)b.vertexArray.emplaceBack(U[3*Z],U[3*Z+1],U[3*Z+2]);if(b.vertexArray._trim(),b.aabb=new Qs(O.min,O.max),b.centroid=function(Z,fe){const ge=[0,0,0],xe=Z.length;if(xe>0){for(let Ie=0;Ie<xe;Ie++){const Oe=3*Z[Ie];ge[0]+=fe[Oe],ge[1]+=fe[Oe+1],ge[2]+=fe[Oe+2]}ge[0]/=xe,ge[1]/=xe,ge[2]/=xe}return ge}(F,U),_.COLOR_0!==void 0){const Z=o.json.accessors[_.COLOR_0],fe=t4[Z.type],ge=f_(o,Z);b.colorArray=fe===3?new vp:new wd,b.colorArray.resize(Z.count),OL(o,Z,b.colorArray,ge)}if(_.NORMAL!==void 0){b.normalArray=new vp;const Z=o.json.accessors[_.NORMAL];b.normalArray.resize(Z.count);const fe=f_(o,Z);OL(o,Z,b.normalArray,fe)}if(_.TEXCOORD_0!==void 0&&h.length>0){b.texcoordArray=new NA;const Z=o.json.accessors[_.TEXCOORD_0];b.texcoordArray.resize(Z.count);const fe=f_(o,Z);OL(o,Z,b.texcoordArray,fe)}if(_._FEATURE_ID_RGBA4444!==void 0){const Z=o.json.accessors[_._FEATURE_ID_RGBA4444];o.json.extensionsUsed&&o.json.extensionsUsed.includes("EXT_meshopt_compression")&&(b.featureData=f_(o,Z))}_._FEATURE_RGBA4444!==void 0&&(b.featureData=new Uint32Array(f_(o,o.json.accessors[_._FEATURE_RGBA4444]).buffer));const K=u.material;return b.material=function(Z,fe){const{emissiveFactor:ge=[0,0,0],alphaMode:xe="OPAQUE",alphaCutoff:Ie=.5,normalTexture:Oe,occlusionTexture:rt,emissiveTexture:lt,doubleSided:ot}=Z,{baseColorFactor:Tt=[1,1,1,1],metallicFactor:yt=1,roughnessFactor:Dt=1,baseColorTexture:Gt,metallicRoughnessTexture:Xt}=Z.pbrMetallicRoughness||{},pn=rt?fe[rt.index]:void 0;if(rt&&rt.extensions&&rt.extensions.KHR_texture_transform&&pn){const en=rt.extensions.KHR_texture_transform;pn.offsetScale=[en.offset[0],en.offset[1],en.scale[0],en.scale[1]]}return{pbrMetallicRoughness:{baseColorFactor:new Wa(...Tt),metallicFactor:yt,roughnessFactor:Dt,baseColorTexture:Gt?fe[Gt.index]:void 0,metallicRoughnessTexture:Xt?fe[Xt.index]:void 0},doubleSided:ot,emissiveFactor:ge,alphaMode:xe,alphaCutoff:Ie,normalTexture:Oe?fe[Oe.index]:void 0,occlusionTexture:pn,emissionTexture:lt?fe[lt.index]:void 0,defined:Z.defined===void 0}}(K!==void 0?o.json.materials[K]:{defined:!1},h),b}function _j(u,o,h){const{matrix:A,rotation:_,translation:b,scale:E,mesh:I,extras:F,children:O}=u,U={};if(U.matrix=A||a.a6.fromRotationTranslationScale([],_||[0,0,0,1],b||[0,0,0],E||[1,1,1]),I!==void 0){U.meshes=h[I];const K=U.anchor=[0,0];for(const Z of U.meshes){const{min:fe,max:ge}=Z.aabb;K[0]+=fe[0]+ge[0],K[1]+=fe[1]+ge[1]}K[0]=Math.floor(K[0]/U.meshes.length/2),K[1]=Math.floor(K[1]/U.meshes.length/2)}if(F&&(F.id&&(U.id=F.id),F.lights&&(U.lights=function(K){if(!K.length)return[];const Z=function(Oe){const rt=atob(Oe),lt=new Uint8Array(rt.length);for(let ot=0;ot<rt.length;ot++)lt[ot]=rt.codePointAt(ot);return lt}(K),fe=[],ge=Z.length/24,xe=new Uint16Array(Z.buffer),Ie=new Float32Array(Z.buffer);for(let Oe=0;Oe<ge;Oe++){const rt=xe[2*Oe*6]/30,lt=xe[2*Oe*6+1]/30,ot=xe[2*Oe*6+10]/100,Tt=Ie[6*Oe+1],yt=Ie[6*Oe+2],Dt=Ie[6*Oe+3],Gt=Ie[6*Oe+4],Xt=Dt-Tt,pn=Gt-yt,en=Math.hypot(Xt,pn);fe.push({pos:[Tt+.5*Xt,yt+.5*pn,lt],normal:[pn/en,-Xt/en,0],width:en,height:rt,depth:ot,points:[Tt,yt,Dt,Gt]})}return fe}(F.lights))),O){const K=[];for(const Z of O)K.push(_j(o.json.nodes[Z],o,h));U.children=K}return U}function nve(u){if(u.vertices.length===0||u.indices.length===0)return null;const[o,h]=[u.vertices[0].clone(),u.vertices[0].clone()];for(let E=1;E<u.vertices.length;++E){const I=u.vertices[E];o.x=Math.min(o.x,I.x),o.y=Math.min(o.y,I.y),h.x=Math.max(h.x,I.x),h.y=Math.max(h.y,I.y)}const A=Math.ceil(Math.max(h.x-o.x,h.y-o.y)/256),_=Math.max(8,A),b=new vj(u.vertices,u.indices,_);return{vertices:u.vertices,indices:u.indices,grid:b,min:o,max:h}}function rve(u){if(!u.extras||!u.extras.ground)return null;const o=u.extras.ground;if(!o||!Array.isArray(o)||o.length===0)return null;const h=o[0];if(!h||!Array.isArray(h)||h.length===0)return null;const A=[];for(const E of h){if(!Array.isArray(E)||E.length!==2)continue;const I=E[0],F=E[1];typeof I=="number"&&typeof F=="number"&&A.push(new G(I,F))}if(A.length<3)return null;A.length>1&&A[A.length-1].equals(A[0])&&A.pop();let _=0;for(let E=0;E<A.length;E++){const I=A[E],F=A[(E+1)%A.length],O=A[(E+2)%A.length];_+=(I.x-F.x)*(O.y-F.y)-(O.x-F.x)*(I.y-F.y)}_>0&&A.reverse();const b=SE(A.flatMap(E=>[E.x,E.y]),[]);return b.length===0?null:{vertices:A,indices:b}}function ive(u){const o=[],h=[];let A=0;for(const _ of u){A=o.length;const b=_.vertexArray.float32,E=_.indexArray.uint16;for(let I=0;I<_.vertexArray.length;I++)o.push(new G(b[3*I+0],b[3*I+1]));for(let I=0;I<3*_.indexArray.length;I++)h.push(E[I]+A)}if(h.length%3!=0)return null;for(let _=0;_<h.length;_+=3){const b=o[h[_+0]],E=o[h[_+1]],I=o[h[_+2]];(b.x-E.x)*(I.y-E.y)-(I.x-E.x)*(b.y-E.y)>0&&([h[_+1],h[_+2]]=[h[_+2],h[_+1]])}return{vertices:o,indices:h}}function yj(u){const o=function(F,O){const U=[],K=WebGL2RenderingContext;if(F.json.textures)for(const Z of F.json.textures){const fe={magFilter:K.LINEAR,minFilter:K.NEAREST,wrapS:K.REPEAT,wrapT:K.REPEAT};Z.sampler!==void 0&&Object.assign(fe,F.json.samplers[Z.sampler]),U.push({image:O[Z.source],sampler:fe,uploaded:!1})}return U}(u,u.images),h=function(F,O){const U=[];for(const K of F.json.meshes){const Z=[];for(const fe of K.primitives)Z.push(tve(fe,F,O));U.push(Z)}return U}(u,o),{scenes:A,scene:_,nodes:b}=u.json,E=A?A[_||0].nodes:b,I=[];for(const F of E)I.push(_j(b[F],u,h));return function(F,O,U){const K={},Z=new Set;for(let fe=0;fe<F.length;fe++){const ge=U[O[fe]];if(!ge.extras)continue;const xe=ge.extras["mapbox:footprint:version"],Ie=ge.extras["mapbox:footprint:id"];(xe||Ie)&&Z.add(fe),xe==="1.0.0"&&Ie&&(K[Ie]=fe)}for(let fe=0;fe<F.length;fe++){if(Z.has(fe))continue;const ge=F[fe],xe=U[O[fe]];if(!xe.extras)continue;let Ie=null;ge.id in K&&(Ie=ive(F[K[ge.id]].meshes)),Ie||(Ie=rve(xe)),Ie&&(ge.footprint=nve(Ie))}if(Z.size>0){const fe=Array.from(Z.values()).sort((ge,xe)=>ge-xe);for(let ge=fe.length-1;ge>=0;ge--)F.splice(fe[ge],1)}}(I,E,u.json.nodes),I}function ave(u){u.heightmap=new Float32Array(4096),u.heightmap.fill(-1);const o=u.vertexArray.float32,h=u.aabb.min[0]-1,A=u.aabb.min[1]-1,_=d_/(u.aabb.max[0]-h+2),b=d_/(u.aabb.max[1]-A+2);for(let E=0;E<o.length;E+=3){const I=o[E+2],F=(o[E+0]-h)*_|0,O=(o[E+1]-A)*b|0;I>u.heightmap[O*d_+F]&&(u.heightmap[O*d_+F]=I)}}function sve(u,o){const h={};h.indexArray=new Cs,h.indexArray.reserve(4*u.length),h.vertexArray=new vp,h.vertexArray.reserve(10*u.length),h.colorArray=new wd,h.vertexArray.reserve(10*u.length);let A=0;for(const E of u){const I=Math.min(10,Math.max(4,1.3*E.height))*o,F=[-E.normal[1],E.normal[0],0],O=Math.min(.29,.1*E.width/E.depth),U=E.width-2*E.depth*o*(O+.01),K=a.N.scaleAndAdd([],E.pos,F,U/2),Z=a.N.scaleAndAdd([],E.pos,F,-U/2),fe=[K[0],K[1],K[2]+E.height],ge=[Z[0],Z[1],Z[2]+E.height],xe=a.N.scaleAndAdd([],E.normal,F,O);a.N.scale(xe,xe,I);const Ie=a.N.scaleAndAdd([],E.normal,F,-O);a.N.scale(Ie,Ie,I),a.N.add(xe,K,xe),a.N.add(Ie,Z,Ie),K[2]+=.1,Z[2]+=.1,h.vertexArray.emplaceBack(xe[0],xe[1],xe[2]),h.vertexArray.emplaceBack(Ie[0],Ie[1],Ie[2]),h.vertexArray.emplaceBack(K[0],K[1],K[2]),h.vertexArray.emplaceBack(Z[0],Z[1],Z[2]),h.vertexArray.emplaceBack(fe[0],fe[1],fe[2]),h.vertexArray.emplaceBack(ge[0],ge[1],ge[2]),h.vertexArray.emplaceBack(K[0],K[1],K[2]),h.vertexArray.emplaceBack(Z[0],Z[1],Z[2]),h.vertexArray.emplaceBack(xe[0],xe[1],xe[2]),h.vertexArray.emplaceBack(Ie[0],Ie[1],Ie[2]);const Oe=U/I/2;h.colorArray.emplaceBack(-Oe-O,-1,Oe,.8),h.colorArray.emplaceBack(Oe+O,-1,Oe,.8),h.colorArray.emplaceBack(-Oe,0,Oe,1.3),h.colorArray.emplaceBack(Oe,0,Oe,1.3),h.colorArray.emplaceBack(Oe+O,-.8,Oe,.7),h.colorArray.emplaceBack(Oe+O,-.8,Oe,.7),h.colorArray.emplaceBack(0,0,Oe,1.3),h.colorArray.emplaceBack(0,0,Oe,1.3),h.colorArray.emplaceBack(Oe+O,-1.2,Oe,.8),h.colorArray.emplaceBack(Oe+O,-1.2,Oe,.8),h.indexArray.emplaceBack(6+A,4+A,8+A),h.indexArray.emplaceBack(7+A,9+A,5+A),h.indexArray.emplaceBack(0+A,1+A,2+A),h.indexArray.emplaceBack(1+A,3+A,2+A),A+=10}const _={defined:!0,emissiveFactor:[0,0,0]},b={};return b.baseColorFactor=Wa.white,_.pbrMetallicRoughness=b,h.material=_,h.aabb=new Qs([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),h}ze(vj,"TriangleGridIndex");class bj{constructor(o){this._stringToNumber={},this._numberToString=[];for(let h=0;h<o.length;h++){const A=o[h];this._stringToNumber[A]=h,this._numberToString[h]=A}}encode(o){return this._stringToNumber[o]}decode(o){return this._numberToString[o]}}const ove=["tile","layer","source","sourceLayer","state"];class wj{constructor(o,h,A,_,b){this.type="Feature",this._vectorTileFeature=o,this._z=h,this._x=A,this._y=_,this.properties=o.properties,this.id=b}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(o){this._geometry=o}toJSON(){const o={type:"Feature",state:void 0,geometry:this.geometry,properties:this.properties};this.id!==void 0&&(o.id=this.id);for(const h of ove)this[h]!==void 0&&(o[h]=this[h]);return o}}class xj{constructor(o,h){this.tileID=o,this.x=o.canonical.x,this.y=o.canonical.y,this.z=o.canonical.z,this.grid=new we(zn,16,0),this.featureIndexArray=new G0,this.promoteId=h,this.is3DTile=!1}insert(o,h,A,_,b,E=0,I=0){const F=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(A,_,b,E);const O=this.grid;for(let U=0;U<h.length;U++){const K=h[U],Z=[1/0,1/0,-1/0,-1/0];for(let fe=0;fe<K.length;fe++){const ge=K[fe];Z[0]=Math.min(Z[0],ge.x),Z[1]=Math.min(Z[1],ge.y),Z[2]=Math.max(Z[2],ge.x),Z[3]=Math.max(Z[3],ge.y)}I!==0&&(Z[0]-=I,Z[1]-=I,Z[2]+=I,Z[3]+=I),Z[0]<zn&&Z[1]<zn&&Z[2]>=0&&Z[3]>=0&&O.insert(F,Z[0],Z[1],Z[2],Z[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new uL(new Eb(this.rawTileData)).layers,this.sourceLayerCoder=new bj(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const o in this.vtLayers)this.vtFeatures[o]=[]}return this.vtLayers}query(o,h,A,_){this.loadVTLayers();const b=o.params||{},E=ol(b.filter),I=o.tileResult,F=o.transform,O=I.bufferedTilespaceBounds,U=this.grid.query(O.min.x,O.min.y,O.max.x,O.max.y,(ge,xe,Ie,Oe)=>Q$(I.bufferedTilespaceGeometry,ge,xe,Ie,Oe));U.sort(lve);let K=null;F.elevation&&U.length>0&&(K=yb.create(F.elevation,this.tileID));const Z={};let fe;for(let ge=0;ge<U.length;ge++){const xe=U[ge];if(xe===fe)continue;fe=xe;const Ie=this.featureIndexArray.get(xe);let Oe=null;if(this.is3DTile){const rt=this.bucketLayerIDs[0][0],lt=h[rt];if(lt.type!=="model")continue;const{queryFeature:ot,intersectionZ:Tt}=lt.queryIntersectsMatchingFeature(I,Ie.featureIndex,E,F);ot&&this.appendToResult(Z,rt,Ie.featureIndex,ot,Tt)}else this.loadMatchingFeature(Z,Ie,E,b.layers,b.availableImages,h,A,_,(rt,lt,ot,Tt=0)=>(Oe||(Oe=ul(rt,this.tileID.canonical,o.tileTransform)),lt.queryIntersectsFeature(I,rt,ot,Oe,this.z,o.transform,o.pixelPosMatrix,K,Tt)))}return Z}loadMatchingFeature(o,h,A,_,b,E,I,F,O){const{featureIndex:U,bucketIndex:K,sourceLayerIndex:Z,layoutVertexArrayOffset:fe}=h,ge=this.bucketLayerIDs[K];if(_&&!function(rt,lt){for(let ot=0;ot<rt.length;ot++)if(lt.indexOf(rt[ot])>=0)return!0;return!1}(_,ge))return;const xe=this.sourceLayerCoder.decode(Z),Ie=this.vtLayers[xe].feature(U);if(A.needGeometry){const rt=Vo(Ie,!0);if(!A.filter(new Fi(this.tileID.overscaledZ),rt,this.tileID.canonical))return}else if(!A.filter(new Fi(this.tileID.overscaledZ),Ie))return;const Oe=this.getId(Ie,xe);for(let rt=0;rt<ge.length;rt++){const lt=ge[rt];if(_&&_.indexOf(lt)<0)continue;const ot=E[lt];if(!ot)continue;let Tt={};Oe!==void 0&&F&&(Tt=F.getState(ot.sourceLayer||"_geojsonTileLayer",Oe));const yt=!O||O(Ie,ot,Tt,fe);if(!yt)continue;const Dt=new wj(Ie,this.z,this.x,this.y,Oe),Gt=se({},I[lt]);Gt.paint=Cj(Gt.paint,ot.paint,Ie,Tt,b),Gt.layout=Cj(Gt.layout,ot.layout,Ie,Tt,b),Dt.layer=Gt,this.appendToResult(o,lt,U,Dt,yt)}}appendToResult(o,h,A,_,b){let E=o[h];E===void 0&&(E=o[h]=[]),E.push({featureIndex:A,feature:_,intersectionZ:b})}lookupSymbolFeatures(o,h,A,_,b,E,I,F){const O={};this.loadVTLayers();const U=ol(b);for(const K of o)this.loadMatchingFeature(O,{bucketIndex:A,sourceLayerIndex:_,featureIndex:K,layoutVertexArrayOffset:0},U,E,I,F,h);return O}loadFeature(o){const{featureIndex:h,sourceLayerIndex:A}=o;this.loadVTLayers();const _=this.sourceLayerCoder.decode(A),b=this.vtFeatures[_];if(b[h])return b[h];const E=this.vtLayers[_].feature(h);return b[h]=E,E}hasLayer(o){for(const h of this.bucketLayerIDs)for(const A of h)if(o===A)return!0;return!1}getId(o,h){let A=o.id;if(this.promoteId){const _=typeof this.promoteId=="string"?this.promoteId:this.promoteId[h];_!=null&&(A=o.properties[_]),typeof A=="boolean"&&(A=Number(A))}return A}}function Cj(u,o,h,A,_){return Je(u,(b,E)=>{const I=o instanceof _l?o.get(E):null;return I&&I.evaluate?I.evaluate(h,A,_):I})}function lve(u,o){return o-u}ze(xj,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});const DL=new Float32Array(262144),p_=new Uint8Array(262144);function Ej(u){let o=0;if(u.meshes)for(const h of u.meshes)o=Math.max(o,h.aabb.max[2]);if(u.children)for(const h of u.children)o=Math.max(o,Ej(h));return o}function Sj(u,o,h){if(u.meshes)for(const A of u.meshes)A.aabb.min[0]!==1/0&&h.insert(o,A.aabb.min[0],A.aabb.min[1],A.aabb.max[0],A.aabb.max[1]);if(u.children)for(const A of u.children)Sj(A,o,h)}const Tj=["","wall","door","roof","window","lamp","logo"];class Bj{constructor(o){this.node=o,this.evaluatedRMEA=[[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[.4,1,0,1],[1,0,0,1],[1,0,0,1]],this.hiddenByReplacement=!1,this.evaluatedScale=[1,1,1],this.evaluatedColor=[],this.emissionHeightBasedParams=[],this.feature={type:"Point",id:o.id,geometry:[],properties:{height:Ej(o)}}}getLocalBounds(){if(!this.node.meshes)return new Qs([1/0,1/0,1/0],[-1/0,-1/0,-1/0]);if(!this.aabb){let o=0;const h=new Qs([1/0,1/0,1/0],[-1/0,-1/0,-1/0]);for(const A of this.node.meshes)this.node.lightMeshIndex!==o&&h.encapsulate(A.aabb),o++;this.aabb=h}return this.aabb}}class sS{constructor(o,h,A,_,b,E){this.id=h,this.modelTraits|=Ib.CoordinateSpaceTile,this.uploaded=!1,this.hasPattern=!1,A&&(this.modelTraits|=Ib.HasMapboxMeshFeatures),_&&(this.modelTraits|=Ib.HasMeshoptCompression),this.zoom=-1,this.terrainExaggeration=1,this.projection={name:"mercator"},this.replacementUpdateTime=0,this.elevationReadFromZ=255,this.brightness=b,this.dirty=!0,this.needsUpload=!1,this.nodesInfo=[];for(const I of o)this.nodesInfo.push(new Bj(I)),Sj(I,E.featureIndexArray.length,E.grid),E.featureIndexArray.emplaceBack(this.nodesInfo.length-1,0,E.bucketLayerIDs.length-1,0)}update(){console.log("Update 3D model bucket")}populate(){console.log("populate 3D model bucket")}uploadPending(){return!this.uploaded||this.needsUpload}upload(o){if(!this.needsUpload)return;const h=this.getNodesInfo();for(const A of h){const _=A.node;this.uploaded?this.updatePbrBuffer(_):IL(_,o,!0)}for(const A of h)tS(A.node);this.uploaded=!0,this.needsUpload=!1}updatePbrBuffer(o){let h=!1;if(!o.meshes)return h;for(const A of o.meshes)A.pbrBuffer&&(A.pbrBuffer.updateData(A.featureArray),h=!0);return h}needsReEvaluation(o,h,A){const _=o.transform.projectionOptions,b=o.style.getBrightness(),E=this.brightness!==b;return!!(!this.uploaded||this.dirty||_.name!==this.projection.name||n4(A.paint.get("model-color").value,E)||n4(A.paint.get("model-color-mix-intensity").value,E)||n4(A.paint.get("model-roughness").value,E)||n4(A.paint.get("model-emissive-strength").value,E)||n4(A.paint.get("model-height-based-emissive-strength-multiplier").value,E))&&(this.projection=_,this.brightness=b,!0)}evaluateScale(o,h){if(o.transform.zoom===this.zoom)return;this.zoom=o.transform.zoom;const A=this.getNodesInfo(),_=this.id.canonical;for(const b of A){const E=b.feature;b.evaluatedScale=h.paint.get("model-scale").evaluate(E,{},_)}}evaluate(o){const h=this.getNodesInfo();for(const A of h){if(!A.node.meshes)continue;const _=A.feature,b=A.node.meshes&&A.node.meshes[0].featureData,E=A.evaluatedColor[2],I=A.evaluatedRMEA[2],F=this.id.canonical;if(A.hasTranslucentParts=!1,b){for(let O=0;O<Tj.length;O++){const U=Tj[O];U.length&&(_.properties.part=U);const K=o.paint.get("model-color").evaluate(_,{},F),Z=o.paint.get("model-color-mix-intensity").evaluate(_,{},F);A.evaluatedColor[O]=[K.r,K.g,K.b,Z],A.evaluatedRMEA[O][0]=o.paint.get("model-roughness").evaluate(_,{},F),A.evaluatedRMEA[O][2]=o.paint.get("model-emissive-strength").evaluate(_,{},F),A.evaluatedRMEA[O][3]=K.a,A.emissionHeightBasedParams[O]=o.paint.get("model-height-based-emissive-strength-multiplier").evaluate(_,{},F),!A.hasTranslucentParts&&K.a<1&&(A.hasTranslucentParts=!0)}delete _.properties.part,cve(A,E!==A.evaluatedColor[2]||I!==A.evaluatedRMEA[2],this.modelTraits)}else A.evaluatedRMEA[0][2]=o.paint.get("model-emissive-strength").evaluate(_,{},F);A.evaluatedScale=o.paint.get("model-scale").evaluate(_,{},F),this.updatePbrBuffer(A.node)||(this.needsUpload=!0)}this.dirty=!1}elevationUpdate(o,h,A,_){const b=o.findDEMTileFor(A);if(b&&(b.tileID.canonical!==this.terrainTile||h!==this.terrainExaggeration)){if(b.dem&&b.tileID.overscaledZ!==this.elevationReadFromZ){this.elevationReadFromZ=b.tileID.overscaledZ;const E=yb.create(o,A,b);if(!E)return;this.modelTraits&Ib.HasMapboxMeshFeatures&&this.updateDEM(o,E,A,_);for(const I of this.getNodesInfo()){const F=I.node;if(!F.footprint||!F.footprint.vertices||!F.footprint.vertices.length)continue;const O=F.footprint.vertices;let U=E.getElevationAt(O[0].x,O[0].y,!0,!0);for(let K=1;K<O.length;K++)U=Math.min(U,E.getElevationAt(O[K].x,O[K].y,!0,!0));F.elevation=U}}this.terrainTile=b.tileID.canonical,this.terrainExaggeration=h}}updateDEM(o,h,A,_){let b=h._dem._modifiedForSources[_];if(b===void 0&&(h._dem._modifiedForSources[_]=[],b=h._dem._modifiedForSources[_]),b.includes(A.canonical))return;const E=h._dem.dim;b.push(A.canonical);let I=!1;for(const F of this.getNodesInfo()){const O=F.node;if(!O.footprint||!O.footprint.grid)continue;const U=O.footprint.grid,K=h.tileCoordToPixel(U.min.x,U.min.y),Z=h.tileCoordToPixel(U.max.x,U.max.y),fe=Math.min(Math.min(E-Z.y,K.x),Math.min(K.y,E-Z.x));if(fe<0)continue;const ge=ce(fe,2,5);let xe=Math.max(0,K.x-ge),Ie=Math.max(0,K.y-ge),Oe=Math.min(Z.x+ge,E-1),rt=Math.min(Z.y+ge,E-1);for(let yt=Ie;yt<=rt;++yt)for(let Dt=xe;Dt<=Oe;++Dt)p_[yt*E+Dt]=255;let lt=0,ot=0;for(let yt=0;yt<U.cellsY;++yt)for(let Dt=0;Dt<U.cellsX;++Dt){if(!U.cells[yt*U.cellsX+Dt])continue;const Gt=h.tileCoordToPixel(U.min.x+Dt/U.xScale,U.min.y+yt/U.yScale),Xt=h.tileCoordToPixel(U.min.x+(Dt+1)/U.xScale,U.min.y+(yt+1)/U.yScale);for(let pn=Gt.y;pn<=Math.min(Xt.y+1,E-1);++pn)for(let en=Gt.x;en<=Math.min(Xt.x+1,E-1);++en)p_[pn*E+en]===255&&(p_[pn*E+en]=0,lt+=h.getElevationAtPixel(en,pn),ot++)}const Tt=lt/ot;xe=Math.max(1,K.x-ge),Ie=Math.max(1,K.y-ge),Oe=Math.min(Z.x+ge,E-2),rt=Math.min(Z.y+ge,E-2),I=!0;for(let yt=Ie;yt<=rt;++yt)for(let Dt=xe;Dt<=Oe;++Dt)p_[yt*E+Dt]===0&&(DL[yt*E+Dt]=h._dem.set(Dt,yt,Tt));for(let yt=1;yt<ge;++yt){xe=Math.max(1,K.x-yt),Ie=Math.max(1,K.y-yt),Oe=Math.min(Z.x+yt,E-2),rt=Math.min(Z.y+yt,E-2);for(let Dt=Ie;Dt<=rt;++Dt)for(let Gt=xe;Gt<=Oe;++Gt){const Xt=Dt*E+Gt;if(p_[Xt]===255){let pn=0,en=0,Sn=-1,Dn=-1;for(let yn=-1;yn<=1;++yn)for(let On=-1;On<=1;++On){const gn=(Dt+yn)*E+Gt+On;if(p_[gn]>=yt)continue;const Rn=DL[gn],cr=Math.abs(Rn);cr>en&&(pn=Rn,en=cr,Sn=On,Dn=yn)}if(en>.1){const yn=1-(yt+.5*Math.abs(Sn*Dn))/ge;let On=h._dem.get(Gt,Dt)+pn*yn;const gn=h._dem.get(Gt+Sn,Dt+Dn),Rn=h._dem.get(Gt-Sn,Dt-Dn,!0);(On-gn)*(On-Rn)>0&&(On=(gn+Rn)/2),DL[Xt]=h._dem.set(Gt,Dt,On),p_[Xt]=yt}}}}}I&&(h._demTile.needsDEMTextureUpload=!0,h._dem._timestamp=kt.now())}getNodesInfo(){return this.nodesInfo}destroy(){const o=this.getNodesInfo();for(const h of o)tS(h.node),LL(h.node)}isEmpty(){return!this.nodesInfo.length}updateReplacement(o,h){if(h.updateTime===this.replacementUpdateTime)return;this.replacementUpdateTime=h.updateTime;const A=h.getReplacementRegionsForTile(o.toUnwrapped()),_=this.getNodesInfo();for(let b=0;b<this.nodesInfo.length;b++){const E=_[b].node;_[b].hiddenByReplacement=!!E.footprint&&!A.find(I=>I.footprint===E.footprint)}}getHeightAtTileCoord(o,h){const A=this.getNodesInfo(),_=[];for(let b=0;b<this.nodesInfo.length;b++){const E=A[b],I=E.node.meshes[0];if(o<I.aabb.min[0]||h<I.aabb.min[1]||o>I.aabb.max[0]||h>I.aabb.max[1])continue;const F=(o-I.aabb.min[0])/(I.aabb.max[0]-I.aabb.min[0])*d_|0,O=Math.min(63,(h-I.aabb.min[1])/(I.aabb.max[1]-I.aabb.min[1])*d_|0)*d_+Math.min(63,F);if(!(I.heightmap[O]<0&&E.node.footprint))return E.hiddenByReplacement?void 0:{height:I.heightmap[O],maxHeight:E.feature.properties.height,hidden:!1,verticalScale:E.evaluatedScale[2]};if(E.node.footprint.grid.query(new G(o,h),new G(o,h),_),_.length>0)return{height:void 0,maxHeight:E.feature.properties.height,hidden:E.hiddenByReplacement,verticalScale:E.evaluatedScale[2]}}}}function n4(u,o){return!u.isLightConstant&&o}function uve(u,o,h,A,_,b,E,I){let F=(61440&o|(61440&o)>>4)>>8,O=(3840&o|(3840&o)>>4)>>4,U=240&o|(240&o)>>4;h[3]>0&&(F=Di(F,255*h[0],h[3]),O=Di(O,255*h[1],h[3]),U=Di(U,255*h[2],h[3]));const K=F<<8|O,Z=U<<8|Math.floor(255*A[3]),fe=function(yt){const Dt=ce(yt,0,2);return Math.min(Math.round(.5*Dt*255),255)}(A[2])<<8|15*A[0]<<4|15*A[1],ge=ce(_[0],0,1),xe=ce(_[1],0,1),Ie=ce(_[2],0,1),Oe=ce(_[3],0,1);let rt,lt,ot,Tt;if(ge!==xe&&E!==b&&xe!==ge){const yt=E-b;lt=1/(yt*(xe-ge)),ot=-(b+yt*ge)/(yt*(xe-ge));const Dt=ce(_[4],-1,1);Tt=Math.pow(10,Dt),rt=255*Ie<<8|255*Oe}else rt=65535,lt=0,ot=1,Tt=1;if(u.emplaceBack(K,Z,fe,rt,lt,ot,Tt),I){const yt=I.length;I.clear();for(let Dt=0;Dt<yt;Dt++)I.emplaceBack(K,Z,fe,rt,lt,ot,Tt)}}function cve(u,o,h){const A=u.node;let _=0;const b=h&Ib.HasMeshoptCompression;for(const E of A.meshes){if(A.lights&&A.lightMeshIndex===_||!E.featureData)continue;E.featureArray=new Cd,E.featureArray.reserve(E.featureData.length);let I=o;for(const F of E.featureData){const O=b?65535&F:F>>16&65535,U=b?F>>16&65535:65535&F,K=(15&U)<8?15&U:0,Z=u.evaluatedRMEA[K],fe=u.evaluatedColor[K],ge=u.emissionHeightBasedParams[K];let xe;if(I&&K===2&&A.lights&&(xe=new Cd,xe.resize(10*A.lights.length)),uve(E.featureArray,O,fe,Z,ge,E.aabb.min[2],E.aabb.max[2],xe),xe&&I){I=!1;const Ie=A.meshes[A.lightMeshIndex];Ie.featureArray=xe,Ie.featureArray._trim()}}E.featureArray._trim(),_++}}function Mj(u,o,h,A){const _=1<<u.z;o.lat=ia((A/zn+u.y)/_),o.lng=wi((h/zn+u.x)/_)}ze(sS,"Tiled3dModelBucket",{omit:["layers"]}),ze(Bj,"Tiled3dModelFeature");const hve={circle:class extends yl{constructor(u,o,h){super(u,rme,o,h)}createBucket(u){return new bc(u)}queryRadius(u){const o=u;return gb("circle-radius",this,o)+gb("circle-stroke-width",this,o)+fE(this.paint.get("circle-translate"))}queryIntersectsFeature(u,o,h,A,_,b,E,I){const F=G$(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),b.angle,u.pixelToTileUnitsFactor),O=this.paint.get("circle-radius").evaluate(o,h)+this.paint.get("circle-stroke-width").evaluate(o,h);return _H(u,A,b,E,I,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",F,O)}getProgramIds(){return["circle"]}getDefaultProgramParams(u,o){const h=vH(this);return{config:new Me(this,o),defines:h,overrideFog:!1}}},heatmap:class extends yl{createBucket(u){return new bH(u)}constructor(u,o,h){super(u,Fme,o,h),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(u){u==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Rx({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(u){return gb("heatmap-radius",this,u)}queryIntersectsFeature(u,o,h,A,_,b,E,I){const F=this.paint.get("heatmap-radius").evaluate(o,h);return _H(u,A,b,E,I,!0,!0,new G(0,0),F)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getDefaultProgramParams(u,o){return u==="heatmap"?{config:new Me(this,o),overrideFog:!1}:{}}},hillshade:class extends yl{constructor(u,o,h){super(u,Ome,o,h)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}getDefaultProgramParams(u,o){return{overrideFog:!1}}},fill:class extends yl{constructor(u,o,h){super(u,Yme,o,h)}getProgramIds(){const u=this.paint.get("fill-pattern"),o=u&&u.constantOr(1),h=[o?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&h.push(o&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),h}getDefaultProgramParams(u,o){return{config:new Me(this,o),overrideFog:!1}}recalculate(u,o){super.recalculate(u,o);const h=this.paint._values["fill-outline-color"];h.value.kind==="constant"&&h.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(u){return new lL(u)}queryRadius(){return fE(this.paint.get("fill-translate"))}queryIntersectsFeature(u,o,h,A,_,b){return!u.queryGeometry.isAboveHorizon&&wg(j$(u.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),b.angle,u.pixelToTileUnitsFactor),A)}isTileClipped(){return!0}},"fill-extrusion":class extends yl{constructor(u,o,h){super(u,Cge,o,h),this._stats={numRenderedVerticesInShadowPass:0,numRenderedVerticesInTransparentPass:0}}createBucket(u){return new PE(u)}queryRadius(){return fE(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}hasShadowPass(){return!0}cutoffRange(){return this.paint.get("fill-extrusion-cutoff-fade-range")}canCastShadows(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}queryIntersectsFeature(u,o,h,A,_,b,E,I,F){const O=G$(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),b.angle,u.pixelToTileUnitsFactor),U=this.paint.get("fill-extrusion-height").evaluate(o,h),K=this.paint.get("fill-extrusion-base").evaluate(o,h),Z=[0,0],fe=I&&b.elevation,ge=b.elevation?b.elevation.exaggeration():1,xe=u.tile.getBucket(this);if(fe&&xe instanceof PE){const ot=xe.centroidVertexArray,Tt=F+1;Tt<ot.length&&(Z[0]=ot.geta_centroid_pos0(Tt),Z[1]=ot.geta_centroid_pos1(Tt))}if(Z[0]===0&&Z[1]===1)return!1;b.projection.name==="globe"&&(A=nQ([A],[new G(0,0),new G(zn,zn)],u.tileID.canonical).map(ot=>ot.polygon).flat());const Ie=fe?I:null,[Oe,rt]=function(ot,Tt,yt,Dt,Gt,Xt,pn,en,Sn,Dn,yn){return ot.projection.name==="globe"?function(On,gn,Rn,cr,Un,Br,yr,qn,ni,Ur,Sr){const Yn=[],qr=[],zi=On.projection.upVectorScale(Sr,On.center.lat,On.worldSize).metersToTile,ri=[0,0,0,1],$i=[0,0,0,1],vi=(Si,Za,ya,wa)=>{Si[0]=Za,Si[1]=ya,Si[2]=wa,Si[3]=1},na=tQ();Rn>0&&(Rn+=na),cr+=na;for(const Si of gn){const Za=[],ya=[];for(const wa of Si){const Ma=wa.x+Un.x,ba=wa.y+Un.y,Ss=On.projection.projectTilePoint(Ma,ba,Sr),Ua=On.projection.upVector(Sr,wa.x,wa.y);let eo=Rn,Ko=cr;if(yr){const tu=iQ(Ma,ba,Rn,cr,yr,qn,ni,Ur);eo+=tu.base,Ko+=tu.top}Rn!==0?vi(ri,Ss.x+Ua[0]*zi*eo,Ss.y+Ua[1]*zi*eo,Ss.z+Ua[2]*zi*eo):vi(ri,Ss.x,Ss.y,Ss.z),vi($i,Ss.x+Ua[0]*zi*Ko,Ss.y+Ua[1]*zi*Ko,Ss.z+Ua[2]*zi*Ko),a.N.transformMat4(ri,ri,Br),a.N.transformMat4($i,$i,Br),Za.push(new bb(ri[0],ri[1],ri[2])),ya.push(new bb($i[0],$i[1],$i[2]))}Yn.push(Za),qr.push(ya)}return[Yn,qr]}(ot,Tt,yt,Dt,Gt,Xt,pn,en,Sn,Dn,yn):pn?function(On,gn,Rn,cr,Un,Br,yr,qn,ni){const Ur=[],Sr=[],Yn=[0,0,0,1];for(const qr of On){const zi=[],ri=[];for(const $i of qr){const vi=$i.x+cr.x,na=$i.y+cr.y,Si=iQ(vi,na,gn,Rn,Br,yr,qn,ni);Yn[0]=vi,Yn[1]=na,Yn[2]=Si.base,Yn[3]=1,a.a7.transformMat4(Yn,Yn,Un),Yn[3]=Math.max(Yn[3],1e-5);const Za=new bb(Yn[0]/Yn[3],Yn[1]/Yn[3],Yn[2]/Yn[3]);Yn[0]=vi,Yn[1]=na,Yn[2]=Si.top,Yn[3]=1,a.a7.transformMat4(Yn,Yn,Un),Yn[3]=Math.max(Yn[3],1e-5);const ya=new bb(Yn[0]/Yn[3],Yn[1]/Yn[3],Yn[2]/Yn[3]);zi.push(Za),ri.push(ya)}Ur.push(zi),Sr.push(ri)}return[Ur,Sr]}(Tt,yt,Dt,Gt,Xt,pn,en,Sn,Dn):function(On,gn,Rn,cr,Un){const Br=[],yr=[],qn=Un[8]*gn,ni=Un[9]*gn,Ur=Un[10]*gn,Sr=Un[11]*gn,Yn=Un[8]*Rn,qr=Un[9]*Rn,zi=Un[10]*Rn,ri=Un[11]*Rn;for(const $i of On){const vi=[],na=[];for(const Si of $i){const Za=Si.x+cr.x,ya=Si.y+cr.y,wa=Un[0]*Za+Un[4]*ya+Un[12],Ma=Un[1]*Za+Un[5]*ya+Un[13],ba=Un[2]*Za+Un[6]*ya+Un[14],Ss=Un[3]*Za+Un[7]*ya+Un[15],Ua=wa+qn,eo=Ma+ni,Ko=ba+Ur,tu=Math.max(Ss+Sr,1e-5),As=wa+Yn,Fs=Ma+qr,xl=ba+zi,Cl=Math.max(Ss+ri,1e-5);vi.push(new bb(Ua/tu,eo/tu,Ko/tu)),na.push(new bb(As/Cl,Fs/Cl,xl/Cl))}Br.push(vi),yr.push(na)}return[Br,yr]}(Tt,yt,Dt,Gt,Xt)}(b,A,K,U,O,E,Ie,Z,ge,b.center.lat,u.tileID.canonical),lt=u.queryGeometry;return function(ot,Tt,yt){let Dt=1/0;wg(yt,Tt)&&(Dt=rQ(yt,Tt[0]));for(let Gt=0;Gt<Tt.length;Gt++){const Xt=Tt[Gt],pn=ot[Gt];for(let en=0;en<Xt.length-1;en++){const Sn=Xt[en],Dn=[Sn,Xt[en+1],pn[en+1],pn[en],Sn];ff(yt,Dn)&&(Dt=Math.min(Dt,rQ(yt,Dn)))}}return Dt!==1/0&&Dt}(Oe,rt,lt.isPointQuery()?lt.screenBounds:lt.screenGeometry)}},line:class extends yl{constructor(u,o,h){super(u,sQ,o,h),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(u){if(u==="line-gradient"){const o=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=o._styleExpression&&o._styleExpression.expression instanceof Yl,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}widthExpression(){return this._transitionablePaint._values["line-width"].value.expression}recalculate(u,o){super.recalculate(u,o),this.paint._values["line-floorwidth"]=dQ.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,u)}createBucket(u){return new hL(u)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getDefaultProgramParams(u,o){const h=cQ(this);return{config:new Me(this,o),defines:h,overrideFog:!1}}queryRadius(u){const o=u,h=fQ(gb("line-width",this,o),gb("line-gap-width",this,o)),A=gb("line-offset",this,o);return h/2+Math.abs(A)+fE(this.paint.get("line-translate"))}queryIntersectsFeature(u,o,h,A,_,b){if(u.queryGeometry.isAboveHorizon)return!1;const E=j$(u.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),b.angle,u.pixelToTileUnitsFactor),I=u.pixelToTileUnitsFactor/2*fQ(this.paint.get("line-width").evaluate(o,h),this.paint.get("line-gap-width").evaluate(o,h)),F=this.paint.get("line-offset").evaluate(o,h);return F&&(A=function(O,U){const K=[],Z=new G(0,0);for(let fe=0;fe<O.length;fe++){const ge=O[fe],xe=[];for(let Ie=0;Ie<ge.length;Ie++){const Oe=ge[Ie],rt=ge[Ie+1],lt=Ie===0?Z:Oe.sub(ge[Ie-1])._unit()._perp(),ot=Ie===ge.length-1?Z:rt.sub(Oe)._unit()._perp(),Tt=lt._add(ot)._unit();Tt._mult(1/(Tt.x*ot.x+Tt.y*ot.y)),xe.push(Tt._mult(U)._add(Oe))}K.push(xe)}return K}(A,F*u.pixelToTileUnitsFactor)),function(O,U,K){for(let Z=0;Z<U.length;Z++){const fe=U[Z];if(O.length>=3){for(let ge=0;ge<fe.length;ge++)if(yp(O,fe[ge]))return!0}if(s_(O,fe,K))return!0}return!1}(E,A,I)}isTileClipped(){return!0}},symbol:qE,background:class extends yl{constructor(u,o,h){super(u,T0e,o,h)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}getDefaultProgramParams(u,o){return{overrideFog:!1}}},raster:ZQ,"raster-particle":JQ,sky:class extends yl{constructor(u,o,h){super(u,R0e,o,h),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(u){u==="sky-gradient"?this._updateColorRamp():u!=="sky-atmosphere-sun"&&u!=="sky-atmosphere-halo-color"&&u!=="sky-atmosphere-color"&&u!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=Rx({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(u){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const o=u.style.light.properties.get("position");return this._lightPosition.azimuthal!==o.azimuthal||this._lightPosition.polar!==o.polar}return!1}getCenter(u,o){if(this.paint.get("sky-type")==="atmosphere"){const A=this.paint.get("sky-atmosphere-sun"),_=!A,b=u.style.light,E=b.properties.get("position");return _&&b.properties.get("anchor")==="viewport"&&Ge("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),_?TL(E.azimuthal,90-E.polar,o):TL(A[0],90-A[1],o)}const h=this.paint.get("sky-gradient-center");return TL(h[0],90-h[1],o)}isSky(){return!0}markSkyboxValid(u){this._skyboxInvalidated=!1,this._lightPosition=u.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const u=this.paint.get("sky-type");return u==="atmosphere"?["skyboxCapture","skybox"]:u==="gradient"?["skyboxGradient"]:null}},slot:class extends yl{constructor(u,o,h){super(u,O0e,o)}},model:class extends yl{constructor(u,o,h){super(u,j0e,o,h),this._stats={numRenderedVerticesInShadowPass:0,numRenderedVerticesInTransparentPass:0}}createBucket(u){return new ML(u)}getProgramIds(){return["model"]}is3D(){return!0}hasShadowPass(){return!0}canCastShadows(){return!0}hasLightBeamPass(){return!0}cutoffRange(){return this.paint.get("model-cutoff-fade-range")}queryRadius(u){return u instanceof sS?zn-1:0}queryIntersectsFeature(u,o,h,A,_,b){if(!this.modelManager)return!1;const E=this.modelManager,I=u.tile.getBucket(this);if(!(I&&I instanceof ML))return!1;const F=I;for(const O in F.instancesPerModel){const U=F.instancesPerModel[O];if(U.idToFeaturesIndex.hasOwnProperty(o.id)){const K=U.features[U.idToFeaturesIndex[o.id]],Z=E.getModel(O,this.scope);if(!Z)return!1;let fe=a.a6.create();const ge=new Yt(0,0),xe=F.canonical;let Ie=Number.MAX_VALUE;for(let Oe=0;Oe<K.instancedDataCount;++Oe){const rt=16*(K.instancedDataOffset+Oe),lt=U.instancedDataArray.float32,ot=[lt[rt+4],lt[rt+5],lt[rt+6]];Mj(xe,ge,lt[rt],0|lt[rt+1]),lj(fe,Z,b,ge,K.rotation,K.scale,ot,!1,!1,!1),b.projection.name==="globe"&&(fe=BL(fe,b));const Tt=a.a6.multiply([],b.projMatrix,fe),yt=u.queryGeometry,Dt=aj(yt.isPointQuery()?yt.screenBounds:yt.screenGeometry,b,Tt,Z.aabb);Dt!=null&&(Ie=Math.min(Dt,Ie))}return Ie!==Number.MAX_VALUE&&Ie}}return!1}_handleOverridablePaintPropertyUpdate(u,o,h){return!(!this.layout||o.isDataDriven()||h.isDataDriven()||u!=="model-color"&&u!=="model-color-mix-intensity"&&u!=="model-rotation"&&u!=="model-scale"&&u!=="model-translation"&&u!=="model-emissive-strength")}_isPropertyZoomDependent(u){const o=this._transitionablePaint._values[u];return o!=null&&o.value!=null&&o.value.expression!=null&&o.value.expression instanceof RA}isZoomDependent(){return this._isPropertyZoomDependent("model-scale")||this._isPropertyZoomDependent("model-rotation")||this._isPropertyZoomDependent("model-translation")}queryIntersectsMatchingFeature(u,o,h,A){const _=u.tile,b=_.getBucket(this);let E=null,I=Number.MAX_VALUE;if(!(b&&b instanceof sS))return{queryFeature:E,intersectionZ:I};const F=b.getNodesInfo()[o];if(F.hiddenByReplacement||!F.node.meshes||!h.filter(new Fi(_.tileID.overscaledZ),F.feature,_.tileID.canonical))return{queryFeature:E,intersectionZ:I};const O=F.node,U=A.calculatePosMatrix(_.tileID.toUnwrapped(),A.worldSize),K=F.evaluatedScale;let Z=0;A.elevation&&O.elevation&&(Z=O.elevation*A.elevation.exaggeration()),a.a6.translate(U,U,[(O.anchor?O.anchor[0]:0)*(K[0]-1),(O.anchor?O.anchor[1]:0)*(K[1]-1),Z]),a.a6.scale(U,U,K),a.a6.multiply(U,U,O.matrix);const fe=u.queryGeometry,ge=fe.isPointQuery()?fe.screenBounds:fe.screenGeometry,xe=function(Oe){const rt=a.a6.multiply([],U,Oe.matrix),lt=a.a6.multiply(rt,A.expandedFarZProjMatrix,rt);for(let ot=0;ot<Oe.meshes.length;++ot){const Tt=Oe.meshes[ot];if(ot===Oe.lightMeshIndex)continue;const yt=aj(ge,A,lt,Tt.aabb);yt!=null&&(I=Math.min(yt,I))}if(Oe.children)for(const ot of Oe.children)xe(ot)};if(xe(O),I===Number.MAX_VALUE)return{queryFeature:E,intersectionZ:I};const Ie=new Yt(0,0);return Mj(_.tileID.canonical,Ie,F.node.anchor[0],F.node.anchor[1]),E={type:"Feature",geometry:{type:"Point",coordinates:[Ie.lng,Ie.lat]},properties:F.feature.properties,id:F.feature.id,state:{},layer:this.serialize()},{queryFeature:E,intersectionZ:I}}}},Bi={read:function(u,o){return u.readFields(Bi._readField,{header_length:0,x:0,y:0,z:0,layers:[]},o)},_readField:function(u,o,h){u===1?o.header_length=h.readFixed32():u===2?o.x=h.readVarint():u===3?o.y=h.readVarint():u===4?o.z=h.readVarint():u===5&&o.layers.push(Bi.Layer.read(h,h.readVarint()+h.pos))},PixelFormat:{PIXEL_FORMAT_UNKNOWN:{value:0,options:{}},PIXEL_FORMAT_UINT32:{value:1,options:{}},PIXEL_FORMAT_UINT16:{value:2,options:{}},PIXEL_FORMAT_UINT8:{value:3,options:{}}},Filter:{}};Bi.Filter.read=function(u,o){return u.readFields(Bi.Filter._readField,{delta_filter:null,filter:null,zigzag_filter:null,bitshuffle_filter:null,byteshuffle_filter:null},o)},Bi.Filter._readField=function(u,o,h){u===1?(o.delta_filter=Bi.Filter.Delta.read(h,h.readVarint()+h.pos),o.filter="delta_filter"):u===2?(o.zigzag_filter=Bi.Filter.Zigzag.read(h,h.readVarint()+h.pos),o.filter="zigzag_filter"):u===3?(o.bitshuffle_filter=Bi.Filter.BitShuffle.read(h,h.readVarint()+h.pos),o.filter="bitshuffle_filter"):u===4&&(o.byteshuffle_filter=Bi.Filter.ByteShuffle.read(h,h.readVarint()+h.pos),o.filter="byteshuffle_filter")},Bi.Filter.Delta={},Bi.Filter.Delta.read=function(u,o){return u.readFields(Bi.Filter.Delta._readField,{block_size:0},o)},Bi.Filter.Delta._readField=function(u,o,h){u===1&&(o.block_size=h.readVarint())},Bi.Filter.Zigzag={},Bi.Filter.Zigzag.read=function(u,o){return u.readFields(Bi.Filter.Zigzag._readField,{},o)},Bi.Filter.Zigzag._readField=function(u,o,h){},Bi.Filter.BitShuffle={},Bi.Filter.BitShuffle.read=function(u,o){return u.readFields(Bi.Filter.BitShuffle._readField,{},o)},Bi.Filter.BitShuffle._readField=function(u,o,h){},Bi.Filter.ByteShuffle={},Bi.Filter.ByteShuffle.read=function(u,o){return u.readFields(Bi.Filter.ByteShuffle._readField,{},o)},Bi.Filter.ByteShuffle._readField=function(u,o,h){},Bi.Codec={},Bi.Codec.read=function(u,o){return u.readFields(Bi.Codec._readField,{gzip_data:null,codec:null,jpeg_image:null,webp_image:null,png_image:null},o)},Bi.Codec._readField=function(u,o,h){u===1?(o.gzip_data=Bi.Codec.GzipData.read(h,h.readVarint()+h.pos),o.codec="gzip_data"):u===2?(o.jpeg_image=Bi.Codec.JpegImage.read(h,h.readVarint()+h.pos),o.codec="jpeg_image"):u===3?(o.webp_image=Bi.Codec.WebpImage.read(h,h.readVarint()+h.pos),o.codec="webp_image"):u===4&&(o.png_image=Bi.Codec.PngImage.read(h,h.readVarint()+h.pos),o.codec="png_image")},Bi.Codec.GzipData={},Bi.Codec.GzipData.read=function(u,o){return u.readFields(Bi.Codec.GzipData._readField,{},o)},Bi.Codec.GzipData._readField=function(u,o,h){},Bi.Codec.JpegImage={},Bi.Codec.JpegImage.read=function(u,o){return u.readFields(Bi.Codec.JpegImage._readField,{},o)},Bi.Codec.JpegImage._readField=function(u,o,h){},Bi.Codec.WebpImage={},Bi.Codec.WebpImage.read=function(u,o){return u.readFields(Bi.Codec.WebpImage._readField,{},o)},Bi.Codec.WebpImage._readField=function(u,o,h){},Bi.Codec.PngImage={},Bi.Codec.PngImage.read=function(u,o){return u.readFields(Bi.Codec.PngImage._readField,{},o)},Bi.Codec.PngImage._readField=function(u,o,h){},Bi.DataIndexEntry={},Bi.DataIndexEntry.read=function(u,o){return u.readFields(Bi.DataIndexEntry._readField,{first_byte:0,last_byte:0,filters:[],codec:null,offset:0,scale:0,bands:[]},o)},Bi.DataIndexEntry._readField=function(u,o,h){u===1?o.first_byte=h.readFixed64():u===2?o.last_byte=h.readFixed64():u===3?o.filters.push(Bi.Filter.read(h,h.readVarint()+h.pos)):u===4?o.codec=Bi.Codec.read(h,h.readVarint()+h.pos):u===5?o.offset=h.readFloat():u===6?o.scale=h.readFloat():u===7&&o.bands.push(h.readString())},Bi.Layer={},Bi.Layer.read=function(u,o){return u.readFields(Bi.Layer._readField,{version:0,name:"",units:"",tilesize:0,buffer:0,pixel_format:0,data_index:[]},o)},Bi.Layer._readField=function(u,o,h){u===1?o.version=h.readVarint():u===2?o.name=h.readString():u===3?o.units=h.readString():u===4?o.tilesize=h.readVarint():u===5?o.buffer=h.readVarint():u===6?o.pixel_format=h.readVarint():u===7&&o.data_index.push(Bi.DataIndexEntry.read(h,h.readVarint()+h.pos))};const Sp={read:function(u,o){return u.readFields(Sp._readField,{uint32_values:null,values:null,fixed32_values:null},o)},_readField:function(u,o,h){u===2?(o.uint32_values=Sp.Uint32Values.read(h,h.readVarint()+h.pos),o.values="uint32_values"):u===3&&(o.fixed32_values=Sp.Fixed32Values.read(h,h.readVarint()+h.pos),o.values="fixed32_values")},Uint32Values:{}};Sp.Uint32Values.read=function(u,o){return u.readFields(Sp.Uint32Values._readField,{values:[]},o)},Sp.Uint32Values._readField=function(u,o,h){u===1&&(o.readValuesInto=function(A){if(A.type!==2)throw new Error(`Unsupported pbf type "${A.type}"`);const _=function(E){return E.type===2?E.readVarint()+E.pos:E.pos+1}(A),b=A.pos;return A.pos=_,function(E){A.pos=b;let I=0;for(;A.pos<_;){const F=A.readVarint();E[I++]=F}return E}}(h))},Sp.Fixed32Values={},Sp.Fixed32Values.read=function(u,o){return u.readFields(Sp.Fixed32Values._readField,{values:[]},o)},Sp.Fixed32Values._readField=function(u,o,h){throw new Error("Not implemented")};/**
 * tiny-lru
 *
 * @copyright 2023 Jason Mulligan <jason.mulligan@avoidwork.com>
 * @license BSD-3-Clause
 * @version 11.2.5
 */class dve{constructor(o=0,h=0,A=!1){this.first=null,this.items=Object.create(null),this.last=null,this.max=o,this.resetTtl=A,this.size=0,this.ttl=h}clear(){return this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this}delete(o){if(this.has(o)){const h=this.items[o];delete this.items[o],this.size--,h.prev!==null&&(h.prev.next=h.next),h.next!==null&&(h.next.prev=h.prev),this.first===h&&(this.first=h.next),this.last===h&&(this.last=h.prev)}return this}entries(o=this.keys()){return o.map(h=>[h,this.get(h)])}evict(o=!1){if(o||this.size>0){const h=this.first;delete this.items[h.key],--this.size==0?(this.first=null,this.last=null):(this.first=h.next,this.first.prev=null)}return this}expiresAt(o){let h;return this.has(o)&&(h=this.items[o].expiry),h}get(o){let h;if(this.has(o)){const A=this.items[o];this.ttl>0&&A.expiry<=Date.now()?this.delete(o):(h=A.value,this.set(o,h,!0))}return h}has(o){return o in this.items}keys(){const o=[];let h=this.first;for(;h!==null;)o.push(h.key),h=h.next;return o}set(o,h,A=!1,_=this.resetTtl){let b;if(A||this.has(o)){if(b=this.items[o],b.value=h,A===!1&&_&&(b.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl),this.last!==b){const E=this.last,I=b.next,F=b.prev;this.first===b&&(this.first=b.next),b.next=null,b.prev=this.last,E.next=b,F!==null&&(F.next=I),I!==null&&(I.prev=F)}}else this.max>0&&this.size===this.max&&this.evict(!0),b=this.items[o]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:o,prev:this.last,next:null,value:h},++this.size==1?this.first=b:this.last.next=b;return this.last=b,this}values(o=this.keys()){return o.map(h=>this.get(h))}}function fve(u,o){if(o.length!==4)throw new Error(`Expected data of dimension 4 but got ${o.length}.`);let h=o[3];for(let A=2;A>=1;A--){const _=A===1?1:0,b=A===2?1:0;for(let E=0;E<o[0];E++){const I=o[1]*E;for(let F=_;F<o[1];F++){const O=o[2]*(F+I);for(let U=b;U<o[2];U++){const K=o[3]*(U+O);for(let Z=0;Z<o[3];Z++){const fe=K+Z;u[fe]+=u[fe-h]}}}}h*=o[A]}return u}function pve(u){for(let o=0,h=u.length;o<h;o++)u[o]=u[o]>>>1^-(1&u[o]);return u}function Ave(u,o){switch(o){case"uint32":return u;case"uint16":for(let h=0;h<u.length;h+=2){const A=u[h],_=u[h+1];u[h]=(240&A)>>4|(61440&A)>>8|(240&_)<<4|61440&_,u[h+1]=15&A|(3840&A)>>4|(15&_)<<8|(3840&_)<<4}return u;case"uint8":for(let h=0;h<u.length;h+=4){const A=u[h],_=u[h+1],b=u[h+2],E=u[h+3];u[h+0]=(192&A)>>6|(192&_)>>4|(192&b)>>2|192&E,u[h+1]=(48&A)>>4|(48&_)>>2|48&b|(48&E)<<2,u[h+2]=(12&A)>>2|12&_|(12&b)<<2|(12&E)<<4,u[h+3]=3&A|(3&_)<<2|(3&b)<<4|(3&E)<<6}return u;default:throw new Error(`Invalid pixel format, "${o}"`)}}class iv extends Error{constructor(o){super(o),this.name="MRTError"}}var Ld=Uint8Array,r4=Uint16Array,mve=Int32Array,Ij=new Ld([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Lj=new Ld([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),gve=new Ld([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),kj=function(u,o){for(var h=new r4(31),A=0;A<31;++A)h[A]=o+=1<<u[A-1];var _=new mve(h[30]);for(A=1;A<30;++A)for(var b=h[A];b<h[A+1];++b)_[b]=b-h[A]<<5|A;return{b:h,r:_}},Pj=kj(Ij,2),Fj=Pj.b,vve=Pj.r;Fj[28]=258,vve[258]=28;for(var _ve=kj(Lj,0).b,Rj=new r4(32768),Lo=0;Lo<32768;++Lo){var Fb=(43690&Lo)>>1|(21845&Lo)<<1;Rj[Lo]=((65280&(Fb=(61680&(Fb=(52428&Fb)>>2|(13107&Fb)<<2))>>4|(3855&Fb)<<4))>>8|(255&Fb)<<8)>>1}var i4=function(u,o,h){for(var A=u.length,_=0,b=new r4(o);_<A;++_)u[_]&&++b[u[_]-1];var E,I=new r4(o);for(_=1;_<o;++_)I[_]=I[_-1]+b[_-1]<<1;{E=new r4(1<<o);var F=15-o;for(_=0;_<A;++_)if(u[_])for(var O=_<<4|u[_],U=o-u[_],K=I[u[_]-1]++<<U,Z=K|(1<<U)-1;K<=Z;++K)E[Rj[K]>>F]=O}return E},a4=new Ld(288);for(Lo=0;Lo<144;++Lo)a4[Lo]=8;for(Lo=144;Lo<256;++Lo)a4[Lo]=9;for(Lo=256;Lo<280;++Lo)a4[Lo]=7;for(Lo=280;Lo<288;++Lo)a4[Lo]=8;var Oj=new Ld(32);for(Lo=0;Lo<32;++Lo)Oj[Lo]=5;var yve=i4(a4,9),bve=i4(Oj,5),NL=function(u){for(var o=u[0],h=1;h<u.length;++h)u[h]>o&&(o=u[h]);return o},Tp=function(u,o,h){var A=o/8|0;return(u[A]|u[A+1]<<8)>>(7&o)&h},UL=function(u,o){var h=o/8|0;return(u[h]|u[h+1]<<8|u[h+2]<<16)>>(7&o)},wve=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Bp=function(u,o,h){var A=new Error(o||wve[u]);if(A.code=u,Error.captureStackTrace&&Error.captureStackTrace(A,Bp),!h)throw A;return A},xve=new Ld(0),Cve=typeof TextDecoder<"u"&&new TextDecoder;try{Cve.decode(xve,{stream:!0})}catch{}const Eve={gzip_data:"gzip"},Sve={0:"uint32",1:"uint32",2:"uint16",3:"uint8"},Tve={uint32:1,uint16:2,uint8:4},Bve={uint32:Uint32Array,uint16:Uint16Array,uint8:Uint8Array};class Dj{constructor(o=1){this.x=NaN,this.y=NaN,this.z=NaN,this.layers={},this._cacheSize=o}getLayer(o){return this.layers[o]}getHeaderLength(o){const h=new Uint8Array(o),A=new DataView(o);if(h[0]!==13)throw new iv("File is not a valid MRT.");return A.getUint32(1,!0)}parseHeader(o){const h=new Uint8Array(o),A=this.getHeaderLength(o);if(h.length<A)throw new iv(`Expected header with length >= ${A} but got buffer of length ${h.length}`);const _=new Eb(h.subarray(0,A)),b=Bi.read(_);if(!isNaN(this.x)&&(this.x!==b.x||this.y!==b.y||this.z!==b.z))throw new iv(`Invalid attempt to parse header ${b.z}/${b.x}/${b.y} for tile ${this.z}/${this.x}/${this.y}`);this.x=b.x,this.y=b.y,this.z=b.z;for(const E of b.layers)this.layers[E.name]=new Mve(E,{cacheSize:this._cacheSize});return this}createDecodingTask(o){const h=[],A=this.getLayer(o.layerName);for(let _=0;_<A.dataIndex.length;_++){const b=A.dataIndex[_],E=b.first_byte-o.firstByte,I=b.last_byte+1-o.firstByte;if(_<o.firstBlock||_>o.lastBlock||A._blocksInProgress.has(_))continue;const F={layerName:A.name,firstByte:E,lastByte:I,pixelFormat:A.pixelFormat,blockIndex:_,blockShape:[b.bands.length].concat(A.bandShape),buffer:A.buffer,codec:b.codec.codec,filters:b.filters.map(O=>O.filter)};A._blocksInProgress.add(_),h.push(F)}return new Nj(h,()=>{h.forEach(_=>A._blocksInProgress.delete(_.blockIndex))},(_,b)=>{if(h.forEach(E=>A._blocksInProgress.delete(E.blockIndex)),_)throw _;b.forEach(E=>{this.getLayer(E.layerName).processDecodedData(E)})})}}class Mve{constructor({version:o,name:h,units:A,tilesize:_,pixel_format:b,buffer:E,data_index:I},F){if(this.version=o,this.version!==1)throw new iv(`Cannot parse raster layer encoded with MRT version ${o}`);this.name=h,this.units=A,this.tileSize=_,this.buffer=E,this.pixelFormat=Sve[b],this.dataIndex=I,this.bandShape=[_+2*E,_+2*E,Tve[this.pixelFormat]],this._decodedBlocks=function(O=1e3,U=0,K=!1){if(isNaN(O)||O<0)throw new TypeError("Invalid max value");if(isNaN(U)||U<0)throw new TypeError("Invalid ttl value");if(typeof K!="boolean")throw new TypeError("Invalid resetTtl value");return new dve(O,U,K)}(F?F.cacheSize:5),this._blocksInProgress=new Set}processDecodedData(o){const h=o.blockIndex.toString();this._decodedBlocks.get(h)||this._decodedBlocks.set(h,o.data)}getBlockForBand(o){let h=0;switch(typeof o){case"string":for(const[A,_]of this.dataIndex.entries()){for(const[b,E]of _.bands.entries())if(E===o)return{bandIndex:h+b,blockIndex:A,blockBandIndex:b};h+=_.bands.length}break;case"number":for(const[A,_]of this.dataIndex.entries()){if(o>=h&&o<h+_.bands.length)return{bandIndex:o,blockIndex:A,blockBandIndex:o-h};h+=_.bands.length}break;default:throw new iv(`Invalid band \`${JSON.stringify(o)}\`. Expected string or integer.`)}throw new iv(`Band not found: ${JSON.stringify(o)}`)}getDataRange(o){let h=1/0,A=-1/0,_=1/0,b=-1/0;for(const E of o){const{blockIndex:I}=this.getBlockForBand(E);if(I<0)throw new iv(`Invalid band: ${JSON.stringify(E)}`);const F=this.dataIndex[I];_=Math.min(_,I),b=Math.max(b,I),h=Math.min(h,F.first_byte),A=Math.max(A,F.last_byte)}return{layerName:this.name,firstByte:h,lastByte:A,firstBlock:_,lastBlock:b}}hasBand(o){const{blockIndex:h}=this.getBlockForBand(o);return h>=0}hasDataForBand(o){const{blockIndex:h}=this.getBlockForBand(o);return h>=0&&!!this._decodedBlocks.get(h.toString())}getBandView(o){const{blockIndex:h,blockBandIndex:A}=this.getBlockForBand(o),_=this._decodedBlocks.get(h.toString());if(!_)throw new iv(`Data for band ${JSON.stringify(o)} of layer "${this.name}" not decoded.`);const b=this.dataIndex[h],E=this.bandShape.reduce((O,U)=>O*U,1),I=A*E,F=_.subarray(I,I+E);return{data:F,bytes:new Uint8Array(F.buffer).subarray(F.byteOffset,F.byteOffset+F.byteLength),tileSize:this.tileSize,buffer:this.buffer,offset:b.offset,scale:b.scale}}}class Nj{constructor(o,h,A){this.tasks=o,this._onCancel=h,this._onComplete=A,this._finalized=!1}cancel(){this._finalized||(this._onCancel(),this._finalized=!0)}complete(o,h){this._finalized||(this._onComplete(o,h),this._finalized=!0)}}Dj.performDecoding=function(u,o){return Promise.all(o.tasks.map(h=>{const{layerName:A,firstByte:_,lastByte:b,pixelFormat:E,blockShape:I,blockIndex:F,filters:O,codec:U}=h,K=new Uint8Array(u).subarray(_,b+1),Z=new Uint32Array(I[0]*I[1]*I[2]);let fe;if(U!=="gzip_data")throw new Error(`Unhandled codec: ${U}`);return fe=function(ge,xe){if(!globalThis.DecompressionStream&&xe==="gzip_data")return Promise.resolve(((lt=function(yt){yt[0]==31&&yt[1]==139&&yt[2]==8||Bp(6,"invalid gzip data");var Dt=yt[3],Gt=10;4&Dt&&(Gt+=2+(yt[10]|yt[11]<<8));for(var Xt=(Dt>>3&1)+(Dt>>4&1);Xt>0;Xt-=!yt[Gt++]);return Gt+(2&Dt)}(rt=ge))+8>rt.length&&Bp(6,"invalid gzip data"),function(yt,Dt,Gt,Xt){var pn=yt.length;if(!pn||Dt.f&&!Dt.l)return Gt||new Ld(0);var en=!Gt,Sn=en||Dt.i!=2,Dn=Dt.i;en&&(Gt=new Ld(3*pn));var yn=function(wc){var Mh=Gt.length;if(wc>Mh){var kd=new Ld(Math.max(2*Mh,wc));kd.set(Gt),Gt=kd}},On=Dt.f||0,gn=Dt.p||0,Rn=Dt.b||0,cr=Dt.l,Un=Dt.d,Br=Dt.m,yr=Dt.n,qn=8*pn;do{if(!cr){On=Tp(yt,gn,1);var ni=Tp(yt,gn+1,3);if(gn+=3,!ni){var Ur=yt[(ya=4+((gn+7)/8|0))-4]|yt[ya-3]<<8,Sr=ya+Ur;if(Sr>pn){Dn&&Bp(0);break}Sn&&yn(Rn+Ur),Gt.set(yt.subarray(ya,Sr),Rn),Dt.b=Rn+=Ur,Dt.p=gn=8*Sr,Dt.f=On;continue}if(ni==1)cr=yve,Un=bve,Br=9,yr=5;else if(ni==2){var Yn=Tp(yt,gn,31)+257,qr=Tp(yt,gn+10,15)+4,zi=Yn+Tp(yt,gn+5,31)+1;gn+=14;for(var ri=new Ld(zi),$i=new Ld(19),vi=0;vi<qr;++vi)$i[gve[vi]]=Tp(yt,gn+3*vi,7);gn+=3*qr;var na=NL($i),Si=(1<<na)-1,Za=i4($i,na);for(vi=0;vi<zi;){var ya,wa=Za[Tp(yt,gn,Si)];if(gn+=15&wa,(ya=wa>>4)<16)ri[vi++]=ya;else{var Ma=0,ba=0;for(ya==16?(ba=3+Tp(yt,gn,3),gn+=2,Ma=ri[vi-1]):ya==17?(ba=3+Tp(yt,gn,7),gn+=3):ya==18&&(ba=11+Tp(yt,gn,127),gn+=7);ba--;)ri[vi++]=Ma}}var Ss=ri.subarray(0,Yn),Ua=ri.subarray(Yn);Br=NL(Ss),yr=NL(Ua),cr=i4(Ss,Br),Un=i4(Ua,yr)}else Bp(1);if(gn>qn){Dn&&Bp(0);break}}Sn&&yn(Rn+131072);for(var eo=(1<<Br)-1,Ko=(1<<yr)-1,tu=gn;;tu=gn){var As=(Ma=cr[UL(yt,gn)&eo])>>4;if((gn+=15&Ma)>qn){Dn&&Bp(0);break}if(Ma||Bp(2),As<256)Gt[Rn++]=As;else{if(As==256){tu=gn,cr=null;break}var Fs=As-254;As>264&&(Fs=Tp(yt,gn,(1<<(El=Ij[vi=As-257]))-1)+Fj[vi],gn+=El);var xl=Un[UL(yt,gn)&Ko],Cl=xl>>4;if(xl||Bp(3),gn+=15&xl,Ua=_ve[Cl],Cl>3){var El=Lj[Cl];Ua+=UL(yt,gn)&(1<<El)-1,gn+=El}if(gn>qn){Dn&&Bp(0);break}Sn&&yn(Rn+131072);var us=Rn+Fs;if(Rn<Ua){var Bh=0-Ua,av=Math.min(Ua,us);for(Bh+Rn<0&&Bp(3);Rn<av;++Rn)Gt[Rn]=Xt[Bh+Rn]}for(;Rn<us;++Rn)Gt[Rn]=Gt[Rn-Ua]}}Dt.l=cr,Dt.p=tu,Dt.b=Rn,Dt.f=On,cr&&(On=1,Dt.m=Br,Dt.d=Un,Dt.n=yr)}while(!On);return Rn!=Gt.length&&en?function(wc,Mh,kd){return(kd==null||kd>wc.length)&&(kd=wc.length),new Ld(wc.subarray(Mh,kd))}(Gt,0,Rn):Gt.subarray(0,Rn)}(rt.subarray(lt,-8),{i:2},new Ld(((Ie=rt)[(Oe=Ie.length)-4]|Ie[Oe-3]<<8|Ie[Oe-2]<<16|Ie[Oe-1]<<24)>>>0),void 0)));var Ie,Oe,rt,lt;const ot=Eve[xe];if(!ot)throw new Error(`Unhandled codec: ${xe}`);const Tt=new globalThis.DecompressionStream(ot);return new Response(new Blob([ge]).stream().pipeThrough(Tt)).arrayBuffer().then(yt=>new Uint8Array(yt))}(K,U).then(ge=>{const xe=Sp.read(new Eb(ge));if(xe.values==="uint32_values")return xe.uint32_values.readValuesInto(Z),new Bve[E](Z.buffer);throw new Error(`Unhandled numeric data "${xe.values}"`)}),fe.then(ge=>{for(let xe=O.length-1;xe>=0;xe--)switch(O[xe]){case"delta_filter":fve(ge,I);break;case"zigzag_filter":pve(ge);break;case"bitshuffle_filter":Ave(ge,E);break;default:throw new Error(`Unhandled filter "${O[xe]}"`)}return{layerName:A,blockIndex:F,data:ge}}).catch(ge=>{throw ge})}))},ze(Nj,"MRTDecodingBatch",{omit:["_onCancel","_onComplete"]});const Uj=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class zL{static from(o){if(!(o instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[h,A]=new Uint8Array(o,0,2);if(h!==219)throw new Error("Data does not appear to be in a KDBush format.");const _=A>>4;if(_!==1)throw new Error(`Got v${_} data when expected v1.`);const b=Uj[15&A];if(!b)throw new Error("Unrecognized array type.");const[E]=new Uint16Array(o,2,1),[I]=new Uint32Array(o,4,1);return new zL(I,E,b,o)}constructor(o,h=64,A=Float64Array,_){if(isNaN(o)||o<0)throw new Error(`Unpexpected numItems value: ${o}.`);this.numItems=+o,this.nodeSize=Math.min(Math.max(+h,2),65535),this.ArrayType=A,this.IndexArrayType=o<65536?Uint16Array:Uint32Array;const b=Uj.indexOf(this.ArrayType),E=2*o*this.ArrayType.BYTES_PER_ELEMENT,I=o*this.IndexArrayType.BYTES_PER_ELEMENT,F=(8-I%8)%8;if(b<0)throw new Error(`Unexpected typed array class: ${A}.`);_&&_ instanceof ArrayBuffer?(this.data=_,this.ids=new this.IndexArrayType(this.data,8,o),this.coords=new this.ArrayType(this.data,8+I+F,2*o),this._pos=2*o,this._finished=!0):(this.data=new ArrayBuffer(8+E+I+F),this.ids=new this.IndexArrayType(this.data,8,o),this.coords=new this.ArrayType(this.data,8+I+F,2*o),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+b]),new Uint16Array(this.data,2,1)[0]=h,new Uint32Array(this.data,4,1)[0]=o)}add(o,h){const A=this._pos>>1;return this.ids[A]=A,this.coords[this._pos++]=o,this.coords[this._pos++]=h,A}finish(){const o=this._pos>>1;if(o!==this.numItems)throw new Error(`Added ${o} items when expected ${this.numItems}.`);return $L(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(o,h,A,_){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:b,coords:E,nodeSize:I}=this,F=[0,b.length-1,0],O=[];for(;F.length;){const U=F.pop()||0,K=F.pop()||0,Z=F.pop()||0;if(K-Z<=I){for(let Ie=Z;Ie<=K;Ie++){const Oe=E[2*Ie],rt=E[2*Ie+1];Oe>=o&&Oe<=A&&rt>=h&&rt<=_&&O.push(b[Ie])}continue}const fe=Z+K>>1,ge=E[2*fe],xe=E[2*fe+1];ge>=o&&ge<=A&&xe>=h&&xe<=_&&O.push(b[fe]),(U===0?o<=ge:h<=xe)&&(F.push(Z),F.push(fe-1),F.push(1-U)),(U===0?A>=ge:_>=xe)&&(F.push(fe+1),F.push(K),F.push(1-U))}return O}within(o,h,A){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:_,coords:b,nodeSize:E}=this,I=[0,_.length-1,0],F=[],O=A*A;for(;I.length;){const U=I.pop()||0,K=I.pop()||0,Z=I.pop()||0;if(K-Z<=E){for(let Ie=Z;Ie<=K;Ie++)$j(b[2*Ie],b[2*Ie+1],o,h)<=O&&F.push(_[Ie]);continue}const fe=Z+K>>1,ge=b[2*fe],xe=b[2*fe+1];$j(ge,xe,o,h)<=O&&F.push(_[fe]),(U===0?o-A<=ge:h-A<=xe)&&(I.push(Z),I.push(fe-1),I.push(1-U)),(U===0?o+A>=ge:h+A>=xe)&&(I.push(fe+1),I.push(K),I.push(1-U))}return F}}function $L(u,o,h,A,_,b){if(_-A<=h)return;const E=A+_>>1;zj(u,o,E,A,_,b),$L(u,o,h,A,E-1,1-b),$L(u,o,h,E+1,_,1-b)}function zj(u,o,h,A,_,b){for(;_>A;){if(_-A>600){const O=_-A+1,U=h-A+1,K=Math.log(O),Z=.5*Math.exp(2*K/3),fe=.5*Math.sqrt(K*Z*(O-Z)/O)*(U-O/2<0?-1:1);zj(u,o,h,Math.max(A,Math.floor(h-U*Z/O+fe)),Math.min(_,Math.floor(h+(O-U)*Z/O+fe)),b)}const E=o[2*h+b];let I=A,F=_;for(s4(u,o,A,h),o[2*_+b]>E&&s4(u,o,A,_);I<F;){for(s4(u,o,I,F),I++,F--;o[2*I+b]<E;)I++;for(;o[2*F+b]>E;)F--}o[2*A+b]===E?s4(u,o,A,F):(F++,s4(u,o,F,_)),F<=h&&(A=F+1),h<=F&&(_=F-1)}}function s4(u,o,h,A){VL(u,h,A),VL(o,2*h,2*A),VL(o,2*h+1,2*A+1)}function VL(u,o,h){const A=u[o];u[o]=u[h],u[h]=A}function $j(u,o,h,A){const _=u-h,b=o-A;return _*_+b*b}a.$=HQ,a.A=hp,a.B=z0,a.C=Ni,a.D=rn,a.E=Yd,a.F=ka,a.G=jn,a.H=class{constructor(u){this.specification=u}possiblyEvaluate(u,o){return Ye(u.expression.evaluate(o))}interpolate(u,o,h){return{x:Di(u.x,o.x,h),y:Di(u.y,o.y,h),z:Di(u.z,o.z,h),azimuthal:Di(u.azimuthal,o.azimuthal,h),polar:Di(u.polar,o.polar,h)}}},a.I=gL,a.J=mo,a.K=Fi,a.L=ma,a.M=class{constructor(u,o,h,A){this.id=u,this.position=o!=null?new Yt(o[0],o[1]):new Yt(0,0),this.orientation=h??[0,0,0],this.nodes=A,this.uploaded=!1,this.aabb=new Qs([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),this.matrix=[]}_applyTransformations(u,o){if(a.a6.multiply(u.matrix,o,u.matrix),u.meshes)for(const h of u.meshes){const A=Qs.applyTransform(h.aabb,u.matrix);this.aabb.encapsulate(A)}if(u.children)for(const h of u.children)this._applyTransformations(h,u.matrix)}computeBoundsAndApplyParent(){const u=a.a6.identity([]);for(const o of this.nodes)this._applyTransformations(o,u)}computeModelMatrix(u,o,h,A,_,b,E=!1){lj(this.matrix,this,u.transform,this.position,o,h,A,_,b,E)}upload(u){if(!this.uploaded){for(const o of this.nodes)IL(o,u);for(const o of this.nodes)tS(o);this.uploaded=!0}}destroy(){for(const u of this.nodes)LL(u)}},a.O=ue,a.P=G,a.Q=_l,a.R=Rr,a.S=q0,a.T=SL,a.U=Di,a.V=zn,a.W=cu,a.X=class{constructor(u){this.specification=u}possiblyEvaluate(u,o){return function([h,A]){const _=Ye([1,h,A]);return{x:_.x,y:_.y,z:_.z}}(u.expression.evaluate(o))}interpolate(u,o,h){return{x:Di(u.x,o.x,h),y:Di(u.y,o.y,h),z:Di(u.z,o.z,h)}}},a.Y=function(u,o,h=0,A=!0){const _=new G(h,h),b=u.sub(_),E=o.add(_),I=[b,new G(E.x,b.y),E,new G(b.x,E.y)];return A&&I.push(b.clone()),I},a.Z=RA,a._=function(u,o){const h=[];for(let A=0;A<u.length;A++){const _=ye(A-1,-1,u.length-1),b=ye(A+1,-1,u.length-1),E=u[A],I=u[b],F=u[_].sub(E).unit(),O=I.sub(E).unit(),U=O.angleWithSep(F.x,F.y),K=F.add(O).unit().mult(-1*o/Math.sin(U/2));h.push(E.add(K))}return h},a.a=qd,a.a$=function(u){const o=[];for(const h in u)o.push(u[h]);return o},a.a0=Q$,a.a1=function(u,o,h=0){return a.N.fromValues(((o.x-h)*u.scale-u.x)*zn,(o.y*u.scale-u.y)*zn,ns(o.z,o.y))},a.a2=GI,a.a3=oQ,a.a4=function(u){let o=1/0,h=1/0,A=-1/0,_=-1/0;for(const b of u)o=Math.min(o,b.x),h=Math.min(h,b.y),A=Math.max(A,b.x),_=Math.max(_,b.y);return{min:new G(o,h),max:new G(A,_)}},a.a5=Ri,a.a8=yp,a.a9=xa,a.aA=gd,a.aB=Js,a.aC=_e,a.aD=Sh,a.aE=WE,a.aF=function(){La.isLoading()||La.isLoaded()||Ta()!=="deferred"||Fa()},a.aG=ol,a.aH=Vo,a.aI=wj,a.aJ=Lt,a.aK=hL,a.aL=lL,a.aM=ul,a.aN=tc,a.aO=H0,a.aP=uH,a.aQ=SE,a.aR=EL,a.aS=function(u,o){const h=q0(o.zoom);if(h===0)return HA(u);const A=_E(u),_=YI(A),b=Ri(A.getWest())*o.worldSize,E=Ri(A.getEast())*o.worldSize,I=hi(A.getNorth())*o.worldSize,F=hi(A.getSouth())*o.worldSize,O=[b,I,0],U=[E,I,0],K=[b,F,0],Z=[E,F,0],fe=a.a6.invert([],o.globeMatrix);return a.N.transformMat4(O,O,fe),a.N.transformMat4(U,U,fe),a.N.transformMat4(K,K,fe),a.N.transformMat4(Z,Z,fe),_[0]=Tg(_[0],K,h),_[1]=Tg(_[1],Z,h),_[2]=Tg(_[2],U,h),_[3]=Tg(_[3],O,h),Qs.fromPoints(_)},a.aT=bE,a.aU=Fx,a.aV=Tg,a.aW=_o,a.aX=Cme,a.aY=Re,a.aZ=Dj,a.a_=hn,a.aa=ce,a.ab=st,a.ac=function(u,o){const h={};for(let A=0;A<o.length;A++){const _=o[A];_ in u&&(h[_]=u[_])}return h},a.ad=mn,a.ae=hi,a.af=class{constructor(u){this.entries={},this.scheduler=u}request(u,o,h,A){const _=this.entries[u]=this.entries[u]||{callbacks:[]};if(_.result){const[b,E]=_.result;return this.scheduler?this.scheduler.add(()=>{A(b,E)},o):A(b,E),()=>{}}return _.callbacks.push(A),_.cancel||(_.cancel=h((b,E)=>{_.result=[b,E];for(const I of _.callbacks)this.scheduler?this.scheduler.add(()=>{I(b,E)},o):I(b,E);setTimeout(()=>delete this.entries[u],3e3)})),()=>{_.result||(_.callbacks=_.callbacks.filter(b=>b!==A),_.callbacks.length||(_.cancel(),delete this.entries[u]))}}},a.ag=OA,a.ah=function(u,o,h){const A=JSON.stringify(u.request);return u.data&&(this.deduped.entries[A]={result:[null,u.data]}),this.deduped.request(A,{type:"parseTile",isSymbolTile:u.isSymbolTile,zoom:u.tileZoom},_=>{const b=hn(u.request,(E,I,F,O)=>{E?_(E):I&&_(null,{vectorTile:h?void 0:new uL(new Eb(I)),rawData:I,cacheControl:F,expires:O})});return()=>{b.cancel(),_()}},o)},a.ai=function(u){tr++,tr>Mt&&(u.getActor().send("enforceCacheSizeLimit",it),tr=0)},a.aj=Xn,a.ak=Xe,a.al=function(u){return u<=1?1:Math.pow(2,Math.floor(Math.log(u)/Math.LN2))},a.am=nr,a.an=ZQ,a.ao=JQ,a.ap=XQ,a.aq=function(u,o){const h=document.createElement("video");h.muted=!0,h.onloadstart=function(){o(null,h)};for(let A=0;A<u.length;A++){const _=document.createElement("source");En(u[A])||(h.crossOrigin="Anonymous"),_.src=u[A],h.appendChild(_)}return{cancel:()=>{}}},a.ar=YE,a.as=Gx,a.at=wi,a.au=ia,a.av=bd,a.aw=Cs,a.ax=Wa,a.ay=Ba,a.az=vp,a.b=Jh,a.b$=Gr,a.b0=function(u,o){const h=[];for(const A in u)A in o||h.push(A);return h},a.b1=Ee,a.b2=["type","source","source-layer","minzoom","maxzoom","filter","layout"],a.b3=function(u,o){const{x:h,y:A}=u.point,_=AH(h,A,u.worldSize/u._pixelsPerMercatorPixel,0,0);return a.a6.multiply(_,_,XI(HA(o)))},a.b5=wb,a.b6=Id,a.b7=FE,a.b8=function(u,o,h,A,_){const b=5*o+2;u.float32[b+0]=h,u.float32[b+1]=A,u.float32[b+2]=_},a.b9=KE,a.bA=JE,a.bB=ej,a.bC=function(u){const o=ej(u,!0);return a.b4.invert([],[o[0],o[1],o[4],o[5]])},a.bD=KI,a.bE=function(u){const{x:o,y:h}=u.point,{lng:A,lat:_}=u._center;return AH(o,h,u.worldSize,A,_)},a.bF=ee,a.bG=At,a.bH=function(u){const o=Math.round((u+45+360)%360/90)%4;return he[o]},a.bI=45,a.bJ=zr,a.bK=x,a.bL=UA,a.bM=dE,a.bN=Nu,a.bO=pb,a.bP=w,a.bQ=function(u,o,h){const A=Math.sqrt(u*u+o*o+h*h),_=A>0?Math.acos(h/A)*q:0;let b=u!==0||o!==0?Math.atan2(-o,-u)*q+90:0;return b<0&&(b+=360),[A,b,_]},a.bR=Zi,a.bS=Qs,a.bT=Ye,a.bU=function(u){return[Math.pow(u[0],1/2.2),Math.pow(u[1],1/2.2),Math.pow(u[2],1/2.2)]},a.bV=function(u){return u({pluginStatus:Er,pluginURL:bi}),os.on("pluginStateChange",u),u},a.bW=Lb,a.bX=nS,a.bY=Tb,a.bZ=vL,a.b_=Hi,a.ba=kQ,a.bb=ff,a.bc=mu,a.bd=UQ,a.be=yL,a.bf=mL,a.bg=zL,a.bh=ye,a.bj=W,a.bk=We,a.bl=Ei,a.bm=function(u,o,h){u[4*o+0]=h[0],u[4*o+1]=h[1],u[4*o+2]=h[2],u[4*o+3]=h[3]},a.bn=Yt,a.bo=WQ,a.bp=ir,a.bq=WI,a.br=tj,a.bs=Kn,a.bt=dH,a.bu=function(u,o,h,A,_,b,E,I,F){if(F.name==="globe")return dH(u,o,new Kn(h,A,_),!1);const O=Gx({z:h,x:A,y:_},F);return new Qs([(b+O.x/O.scale)*o,o*(O.y/O.scale),E],[(b+O.x2/O.scale)*o,o*(O.y2/O.scale),I])},a.bv=function(u,o,h){let A=0;for(let _=0;_<2;++_){const b=h?h[_]:0;u[_]>b&&(A+=(u[_]-b)*(u[_]-b)),o[_]<b&&(A+=(b-o[_])*(b-o[_]))}return A},a.bw=Yi,a.bx=qe,a.by=function(u){const o=a.a6.identity(new Float64Array(16));a.a6.multiply(o,u.pixelMatrix,u.globeMatrix);const h=[0,Qt,0],A=[0,fn,0];return a.N.transformMat4(h,h,o),a.N.transformMat4(A,A,o),[h[0]>0&&h[0]<=u.width&&h[1]>0&&h[1]<=u.height&&!JI(u,new Yt(u.center.lat,90)),A[0]>0&&A[0]<=u.width&&A[1]>0&&A[1]<=u.height&&!JI(u,new Yt(u.center.lat,-90))]},a.bz=function(u,o){const{scale:h}=u.tileTransform,A=h*zn/(u.tileSize*Math.pow(2,o.zoom-u.tileID.overscaledZ+u.tileID.canonical.z));return a.b4.scale(new Float32Array(4),o.inverseAdjustmentMatrix,[A,A])},a.c=yj,a.c$=function(){return!!document.fullscreenElement||!!document.webkitFullscreenElement},a.c0=y,a.c1=Ve,a.c2=function(u,o,h){return u.type==="custom"?new P0e(u,o):new hve[u.type](u,o,h)},a.c3=function(u){const o=u.indexOf(ug);return o>=0?u.slice(0,o):u},a.c4=function(u){return u.indexOf(ug)>=0},a.c5=function(u){const o=u.indexOf(ug);return o>=0?u.slice(o+1):""},a.c6=function(u){const o=[],h=u.id;return h===void 0&&o.push({message:`layers.${h}: missing required property "id"`}),u.render===void 0&&o.push({message:`layers.${h}: missing required method "render"`}),u.renderingMode&&u.renderingMode!=="2d"&&u.renderingMode!=="3d"&&o.push({message:`layers.${h}: property "renderingMode" must be either "2d" or "3d"`}),o},a.c7=nt,a.c8=os,a.c9=Jt,a.cA=cQ,a.cB=(u,o,h,A,_,b)=>{const E=u.transform;return{u_matrix:uQ(u,o,h,A),u_texsize:o.imageAtlasTexture?o.imageAtlasTexture.size:[0,0],u_pixels_to_tile_units:E.calculatePixelsToTileUnitsMatrix(o),u_device_pixel_ratio:_,u_image:0,u_tile_units_to_pixels:lQ(o,E),u_units_to_pixels:[1/E.pixelsToGLUnits[0],1/E.pixelsToGLUnits[1]],u_alpha_discard_threshold:0,u_trim_offset:b}},a.cC=(u,o,h,A,_,b,E)=>{const I=u.transform,F=I.calculatePixelsToTileUnitsMatrix(o);return{u_matrix:uQ(u,o,h,A),u_pixels_to_tile_units:F,u_device_pixel_ratio:b,u_units_to_pixels:[1/I.pixelsToGLUnits[0],1/I.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:_,u_texsize:hQ(h)&&o.lineAtlasTexture?o.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:lQ(o,u.transform),u_alpha_discard_threshold:0,u_trim_offset:E,u_emissive_strength:h.paint.get("line-emissive-strength")}},a.cD=Le,a.cE=Rx,a.cF=tQ,a.cG=Ir,a.cH=PE,a.cI=Z0,a.cJ=450,a.cK=7,a.cL=I0e,a.cM=256,a.cN=XI,a.cO=xd,a.cP=hf,a.cQ=function(u,o,h,A,_){return ce((u-o)/(h-o)*(_-A)+A,A,_)},a.cR=Xi,a.cS=BL,a.cT=[1,1,1],a.cU=yb,a.cV=Ib,a.cW=Zc,a.cX=class{constructor(){this._updateTime=0,this._sourceIds=[],this._activeRegions=[],this._prevRegions=[]}clear(){this._activeRegions.length>0&&++this._updateTime,this._activeRegions=[],this._prevRegions=[]}get updateTime(){return this._updateTime}getReplacementRegionsForTile(u){const o=FH(new G(0,0),new G(zn,zn),u),h=[];for(const A of this._activeRegions){if(A.hiddenByOverlap||!PH(o,A))continue;const _=cge(A.min,A.max,u);h.push({min:_.min,max:_.max,sourceId:this._sourceIds[A.priority],footprint:A.footprint,footprintTileId:A.tileId})}return h}setSources(u){this._setSources(u.map(o=>({getSourceId:()=>o.cache.id,getFootprints:()=>{const h=[];for(const A of o.cache.getVisibleCoordinates()){const _=o.cache.getTile(A).buckets[o.layer];if(_)for(const b of _.getNodesInfo()){const E=b.node;E.footprint&&h.push({footprint:E.footprint,id:A.toUnwrapped()})}}return h}})))}_addSource(u){const o=u.getFootprints();if(o.length!==0){for(const h of o){if(!h.footprint)continue;const A=FH(h.footprint.min,h.footprint.max,h.id);this._activeRegions.push({min:A.min,max:A.max,hiddenByOverlap:!1,priority:this._sourceIds.length,tileId:h.id,footprint:h.footprint})}this._sourceIds.push(u.getSourceId())}}_computeReplacement(){this._activeRegions.sort((o,h)=>o.priority-h.priority||IE(o.min,h.min)||IE(o.max,h.max));let u=this._activeRegions.length!==this._prevRegions.length;if(!u){let o=0,h=0;for(;!u&&o!==this._activeRegions.length;){const A=this._activeRegions[o],_=this._prevRegions[h];u=A.priority!==_.priority||!kH(A,_),++o,++h}}if(u){++this._updateTime;const o=h=>{const A=this._activeRegions;if(h>=A.length)return h;const _=A[h].priority;for(;h<A.length&&A[h].priority===_;)++h;return h};if(this._sourceIds.length>1){let h=0,A=o(h);for(;h!==A;){let _=h;const b=h;for(;_!==A;){const E=this._activeRegions[_];E.hiddenByOverlap=!1;for(let I=0;I<b;I++){const F=this._activeRegions[I];if(!F.hiddenByOverlap&&PH(E,F)&&(E.hiddenByOverlap=OH(E.footprint,E.tileId,F.footprint,F.tileId),E.hiddenByOverlap))break}++_}h=A,A=o(h)}}}}_setSources(u){[this._prevRegions,this._activeRegions]=[this._activeRegions,[]],this._sourceIds=[];for(let o=u.length-1;o>=0;o--)this._addSource(u[o]);this._computeReplacement()}},a.cY=class{constructor(u){this._createGrid(u),this._createPoles(u)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const u of this._poleSegments)u.destroy();for(const u of this._gridSegments)u.withSkirts.destroy(),u.withoutSkirts.destroy()}_fillGridMeshWithLods(u,o){const h=new tc,A=new Cs,_=[],b=u+1+2,E=o[0]+1,I=o[0]+1+(1+o.length),F=(O,U,K)=>{let Z=O===b-1?O-2:O===0?O:O-1;return Z+=K?24575:0,[Z,U]};for(let O=0;O<b;++O)h.emplaceBack(...F(O,0,!0));for(let O=0;O<E;++O)for(let U=0;U<b;++U)h.emplaceBack(...F(U,O,(U===0||U===b-1)&&!0));for(let O=0;O<o.length;++O){const U=o[O];for(let K=0;K<b;++K)h.emplaceBack(...F(K,U,!0))}for(let O=0;O<o.length;++O){const U=A.length,K=o[O]+1+2,Z=new Cs;for(let xe=0;xe<K-1;xe++){const Ie=xe===K-2,Oe=Ie?b*(I-o.length+O-xe):b;for(let rt=0;rt<b-1;rt++){const lt=xe*b+rt;xe===0||Ie||rt===0||rt===b-2?(Z.emplaceBack(lt+1,lt,lt+Oe),Z.emplaceBack(lt+Oe,lt+Oe+1,lt+1)):(A.emplaceBack(lt+1,lt,lt+Oe),A.emplaceBack(lt+Oe,lt+Oe+1,lt+1))}}const fe=Js.simpleSegment(0,U,h.length,A.length-U);for(let xe=0;xe<Z.uint16.length;xe+=3)A.emplaceBack(Z.uint16[xe],Z.uint16[xe+1],Z.uint16[xe+2]);const ge=Js.simpleSegment(0,U,h.length,A.length-U);_.push({withoutSkirts:fe,withSkirts:ge})}return{vertices:h,indices:A,segments:_}}_createGrid(u){const o=this._fillGridMeshWithLods(Pt,Ot);this._gridSegments=o.segments,this._gridBuffer=u.createVertexBuffer(o.vertices,uH.members),this._gridIndexBuffer=u.createIndexBuffer(o.indices,!0)}_createPoles(u){const o=new Cs;for(let E=0;E<=Pt;E++)o.emplaceBack(0,E+1,E+2);this._poleIndexBuffer=u.createIndexBuffer(o,!0);const h=new xd,A=new xd,_=new xd,b=new xd;this._poleSegments=[];for(let E=0,I=0;E<At;E++){const F=360/(1<<E);h.emplaceBack(0,-st,0,.5,0),A.emplaceBack(0,-st,0,.5,1),_.emplaceBack(0,-st,0,.5,.5),b.emplaceBack(0,-st,0,.5,.5);for(let O=0;O<=Pt;O++){let U=O/Pt,K=0;const Z=Di(0,F,U),[fe,ge,xe]=Wt(Tme,Bme,Z,st);h.emplaceBack(fe,ge,xe,U,K),A.emplaceBack(fe,ge,xe,U,1-K);const Ie=W(Z);U=.5+.5*Math.sin(Ie),K=.5+.5*Math.cos(Ie),_.emplaceBack(fe,ge,xe,U,K),b.emplaceBack(fe,ge,xe,U,1-K)}this._poleSegments.push(Js.simpleSegment(I,0,66,64)),I+=66}this._poleNorthVertexBuffer=u.createVertexBuffer(h,gE,!1),this._poleSouthVertexBuffer=u.createVertexBuffer(A,gE,!1),this._texturedPoleNorthVertexBuffer=u.createVertexBuffer(_,gE,!1),this._texturedPoleSouthVertexBuffer=u.createVertexBuffer(b,gE,!1)}getGridBuffers(u,o){return[this._gridBuffer,this._gridIndexBuffer,o?this._gridSegments[u].withSkirts:this._gridSegments[u].withoutSkirts]}getPoleBuffers(u,o){return[o?this._texturedPoleNorthVertexBuffer:this._poleNorthVertexBuffer,o?this._texturedPoleSouthVertexBuffer:this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[u]]}},a.cZ=function(u){return uu.has(u)},a.c_=te,a.ca=d,a.cb=class extends _p{constructor(u){super(u),this.current=B}set(u,o,h){if(this.fetchUniformLocation(u,o)){for(let A=0;A<9;A++)if(h[A]!==this.current[A]){this.current=h,this.gl.uniformMatrix3fv(this.location,!1,h);break}}}},a.cc=J,a.cd=function(u,o,h){const A=q0(h.zoom),_=u.style.map._antialias,b=o.options.extStandardDerivativesForceOff||u.terrain&&u.terrain.exaggeration()>0;return A===0&&!_&&!b},a.ce=function(u){const o=u.pixelsPerMeter,h=o/Ei(1,u.center.lat),A=a.a6.identity(new Float64Array(16));return a.a6.translate(A,A,[u.point.x,u.point.y,0]),a.a6.scale(A,A,[h,h,o]),Float32Array.from(A)},a.cf=_E,a.cg=function(u){const o=Yi-5;u=ce(u,-o,o)/o*90;const h=Math.pow(Math.abs(Math.sin(W(u))),3);return Math.round(h*(Ot.length-1))},a.ch=function(u,o,h,A){const _=o.getNorth(),b=o.getSouth(),E=o.getWest(),I=o.getEast(),F=1<<u.z,O=I-E,U=_-b,K=O/Pt,Z=-U/Ot[h],fe=[0,K,0,Z,0,0,_,E,0];if(u.z>0){const ge=180/A;a.co.multiply(fe,fe,[ge/O+1,0,0,0,ge/U+1,0,-.5*ge/K,.5*ge/Z,1])}return fe[2]=F,fe[5]=u.x,fe[8]=u.y,fe},a.ci=HA,a.cj=function(u,o,h){const A=a.a6.identity(new Float64Array(16)),_=(o/(1<<u)-.5)*Math.PI*2;return a.a6.rotateY(A,h.globeMatrix,_),Float32Array.from(A)},a.ck=class{isDataAvailableAtPoint(u){const o=this._source();if(this.isUsingMockSource()||!o||u.y<0||u.y>1)return!1;const h=o.getSource().maxzoom,A=1<<h,_=Math.floor(u.x),b=Math.floor((u.x-_)*A),E=Math.floor(u.y*A),I=this.findDEMTileFor(new nr(h,_,h,b,E));return!(!I||!I.dem)}getAtPointOrZero(u,o=0){return this.getAtPoint(u,o)||0}getAtPoint(u,o,h=!0){if(this.isUsingMockSource())return null;o==null&&(o=null);const A=this._source();if(!A||u.y<0||u.y>1)return o;const _=A.getSource().maxzoom,b=1<<_,E=Math.floor(u.x),I=u.x-E,F=new nr(_,E,_,Math.floor(I*b),Math.floor(u.y*b)),O=this.findDEMTileFor(F);if(!O||!O.dem)return o;const U=O.dem,K=1<<O.tileID.canonical.z,Z=(I*K-O.tileID.canonical.x)*U.dim,fe=(u.y*K-O.tileID.canonical.y)*U.dim,ge=Math.floor(Z),xe=Math.floor(fe);return(h?this.exaggeration():1)*Di(Di(U.get(ge,xe),U.get(ge,xe+1),fe-xe),Di(U.get(ge+1,xe),U.get(ge+1,xe+1),fe-xe),Z-ge)}getAtTileOffset(u,o,h){const A=1<<u.canonical.z;return this.getAtPointOrZero(new ma(u.wrap+(u.canonical.x+o/zn)/A,(u.canonical.y+h/zn)/A))}getAtTileOffsetFunc(u,o,h,A){return _=>{const b=this.getAtTileOffset(u,_.x,_.y),E=A.upVector(u.canonical,_.x,_.y),I=A.upVectorScale(u.canonical,o,h).metersToTile;return a.N.scale(E,E,b*I),E}}getForTilePoints(u,o,h,A){if(this.isUsingMockSource())return!1;const _=yb.create(this,u,A);return!!_&&(o.forEach(b=>{b[2]=this.exaggeration()*_.getElevationAt(b[0],b[1],h)}),!0)}getMinMaxForTile(u){if(this.isUsingMockSource())return null;const o=this.findDEMTileFor(u);if(!o||!o.dem)return null;const h=o.dem.tree,A=o.tileID,_=1<<u.canonical.z-A.canonical.z;let b=u.canonical.x/_-A.canonical.x,E=u.canonical.y/_-A.canonical.y,I=0;for(let F=0;F<u.canonical.z-A.canonical.z&&!h.leaves[I];F++){b*=2,E*=2;const O=2*Math.floor(E)+Math.floor(b);I=h.childOffsets[I]+O,b%=1,E%=1}return{min:this.exaggeration()*h.minimums[I],max:this.exaggeration()*h.maximums[I]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(u,o,h){throw new Error("Pure virtual method called.")}pointCoordinate(u){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(u){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}getMinMaxForVisibleTiles(){const u=this.visibleDemTiles;if(u.length===0)return null;let o=!1,h=Number.MAX_VALUE,A=Number.MIN_VALUE;for(const _ of u){const b=this.getMinMaxForTile(_.tileID);b&&(h=Math.min(h,b.min),A=Math.max(A,b.max),o=!0)}return o?{min:h,max:A}:null}},a.cl=vE,a.cm=CH,a.cn=function(u,o){return[Math.pow(u[0],2.2)*o,Math.pow(u[1],2.2)*o,Math.pow(u[2],2.2)*o]},a.cp=pH,a.cq=256,a.cr=function(u,o){const h=[0,0,0],A=bE(HA(o.canonical));return a.N.transformMat4(h,h,A),a.N.transformMat4(h,h,u),h},a.cs=u=>({u_camera_to_center_distance:new Nu(u),u_extrude_scale:new D(u),u_device_pixel_ratio:new Nu(u),u_matrix:new x(u),u_inv_rot_matrix:new x(u),u_merc_center:new UA(u),u_tile_id:new dE(u),u_zoom_transition:new Nu(u),u_up_dir:new dE(u),u_emissive_strength:new Nu(u)}),a.ct=u=>({u_matrix:new x(u),u_pixels_to_tile_units:new D(u),u_device_pixel_ratio:new Nu(u),u_units_to_pixels:new UA(u),u_dash_image:new pb(u),u_gradient_image:new pb(u),u_image_height:new Nu(u),u_texsize:new UA(u),u_tile_units_to_pixels:new Nu(u),u_alpha_discard_threshold:new Nu(u),u_trim_offset:new UA(u),u_emissive_strength:new Nu(u)}),a.cu=u=>({u_matrix:new x(u),u_texsize:new UA(u),u_pixels_to_tile_units:new D(u),u_device_pixel_ratio:new Nu(u),u_image:new pb(u),u_units_to_pixels:new UA(u),u_tile_units_to_pixels:new Nu(u),u_alpha_discard_threshold:new Nu(u),u_trim_offset:new UA(u)}),a.cv=fg,a.cw=Uge,a.cx=zge,a.cy=vH,a.cz=(u,o,h,A,_,b)=>{const E=u.transform,I=E.projection.name==="globe";let F;if(b.paint.get("circle-pitch-alignment")==="map")if(I){const U=pH(E.zoom,o.canonical)*E._pixelsPerMercatorPixel;F=Float32Array.from([U,0,0,U])}else F=E.calculatePixelsToTileUnitsMatrix(h);else F=new Float32Array([E.pixelsToGLUnits[0],0,0,E.pixelsToGLUnits[1]]);const O={u_camera_to_center_distance:u.transform.getCameraToCenterDistance(E.projection),u_matrix:u.translatePosMatrix(o.projMatrix,h,b.paint.get("circle-translate"),b.paint.get("circle-translate-anchor")),u_device_pixel_ratio:kt.devicePixelRatio,u_extrude_scale:F,u_inv_rot_matrix:Mme,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0],u_emissive_strength:b.paint.get("circle-emissive-strength")};if(I){O.u_inv_rot_matrix=A,O.u_merc_center=_,O.u_tile_id=[o.canonical.x,o.canonical.y,1<<o.canonical.z],O.u_zoom_transition=q0(E.zoom);const U=_[0]*zn,K=_[1]*zn;O.u_up_dir=E.projection.upVector(new Kn(0,0,0),U,K)}return O},a.d=In,a.d0=ne,a.d1=_a,a.d2=xn,a.d3=function([u,o,h]){const A=Math.hypot(u,o,h),_=Math.atan2(u,h),b=.5*Math.PI-Math.acos(-o/A);return new Yt(ee(_),ee(b))},a.d4=_n,a.d5=m,a.d6=JI,a.d7=mH,a.d8=function(u){const o=[0,0,0],h=a.a6.identity(new Float64Array(16));return a.a6.multiply(h,u.pixelMatrix,u.globeMatrix),a.N.transformMat4(o,o,h),new G(o[0],o[1])},a.d9=function(u){const o=u.navigator?u.navigator.userAgent:null;return!!function(h){if(wt==null){const A=h.navigator?h.navigator.userAgent:null;wt=!!h.safari||!(!A||!(/\b(iPad|iPhone|iPod)\b/.test(A)||A.match("Safari")&&!A.match("Chrome")))}return wt}(u)&&o&&(o.match("Version/15.4")||o.match("Version/15.5")||o.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},a.dA=Cp,a.dB=bj,a.dC=xj,a.dD=aQ,a.dE=Je,a.dF=FQ,a.dG=function(u,o,h,A,_,b,E,I,F,O,U){u.createArrays(),u.tilePixelRatio=zn/(512*u.overscaling),u.compareText={},u.iconsNeedLinear=!1;const K=u.layers[0].layout,Z=u.layers[0]._unevaluatedLayout._values,fe={};if(u.textSizeData.kind==="composite"){const{minZoom:Oe,maxZoom:rt}=u.textSizeData;fe.compositeTextSizes=[Z["text-size"].possiblyEvaluate(new Fi(Oe),I),Z["text-size"].possiblyEvaluate(new Fi(rt),I)]}if(u.iconSizeData.kind==="composite"){const{minZoom:Oe,maxZoom:rt}=u.iconSizeData;fe.compositeIconSizes=[Z["icon-size"].possiblyEvaluate(new Fi(Oe),I),Z["icon-size"].possiblyEvaluate(new Fi(rt),I)]}fe.layoutTextSize=Z["text-size"].possiblyEvaluate(new Fi(F+1),I),fe.layoutIconSize=Z["icon-size"].possiblyEvaluate(new Fi(F+1),I),fe.textMaxSize=Z["text-size"].possiblyEvaluate(new Fi(18),I);const ge=K.get("text-rotation-alignment")==="map"&&K.get("symbol-placement")!=="point",xe=K.get("text-size");let Ie=!1;for(const Oe of u.features)if(Oe.icon&&Oe.icon.nameSecondary){Ie=!0;break}for(const Oe of u.features){const rt=K.get("text-font").evaluate(Oe,{},I).join(","),lt=xe.evaluate(Oe,{},I),ot=fe.layoutTextSize.evaluate(Oe,{},I),Tt=(fe.layoutIconSize.evaluate(Oe,{},I),{horizontal:{},vertical:void 0}),yt=Oe.text;let Dt,Gt=[0,0];if(yt){const en=yt.toString(),Sn=K.get("text-letter-spacing").evaluate(Oe,{},I)*mu,Dn=K.get("text-line-height").evaluate(Oe,{},I)*mu,yn=Bn(en)?Sn:0,On=K.get("text-anchor").evaluate(Oe,{},I),gn=K.get("text-variable-anchor");if(!gn){const yr=K.get("text-radial-offset").evaluate(Oe,{},I);Gt=yr?UQ(On,[yr*mu,_L]):K.get("text-offset").evaluate(Oe,{},I).map(qn=>qn*mu)}let Rn=ge?"center":K.get("text-justify").evaluate(Oe,{},I);const cr=K.get("symbol-placement")==="point",Un=cr?K.get("text-max-width").evaluate(Oe,{},I)*mu:1/0,Br=yr=>{u.allowVerticalPlacement&&nn(en)&&(Tt.vertical=AL(yt,o,h,_,rt,Un,Dn,On,yr,yn,Gt,Id.vertical,!0,ot,lt))};if(!ge&&gn){const yr=Rn==="auto"?gn.map(ni=>yL(ni)):[Rn];let qn=!1;for(let ni=0;ni<yr.length;ni++){const Ur=yr[ni];if(!Tt.horizontal[Ur])if(qn)Tt.horizontal[Ur]=Tt.horizontal[0];else{const Sr=AL(yt,o,h,_,rt,Un,Dn,"center",Ur,yn,Gt,Id.horizontal,!1,ot,lt);Sr&&(Tt.horizontal[Ur]=Sr,qn=Sr.positionedLines.length===1)}}Br("left")}else{if(Rn==="auto"&&(Rn=yL(On)),cr||K.get("text-writing-mode").indexOf("horizontal")>=0||!nn(en)){const yr=AL(yt,o,h,_,rt,Un,Dn,On,Rn,yn,Gt,Id.horizontal,!1,ot,lt);yr&&(Tt.horizontal[Rn]=yr)}Br(cr?"left":Rn)}}let Xt=!1;if(Oe.icon&&Oe.icon.namePrimary){const en=A[Oe.icon.namePrimary];en&&(Dt=a0e(_[Oe.icon.namePrimary],Oe.icon.nameSecondary?_[Oe.icon.nameSecondary]:void 0,K.get("icon-offset").evaluate(Oe,{},I),K.get("icon-anchor").evaluate(Oe,{},I)),Xt=en.sdf,u.sdfIcons===void 0?u.sdfIcons=en.sdf:u.sdfIcons!==en.sdf&&Ge("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(en.pixelRatio!==u.pixelRatio||K.get("icon-rotate").constantOr(1)!==0)&&(u.iconsNeedLinear=!0))}const pn=$Q(Tt.horizontal)||Tt.vertical;u.iconsInText||(u.iconsInText=!!pn&&pn.iconsInText),(pn||Dt)&&d0e(u,Oe,Tt,Dt,A,fe,ot,0,Gt,Xt,E,I,O,U,Ie)}b&&u.generateCollisionDebugBuffers(F,u.collisionBoxArray)},a.dH=uL,a.dI=Eb,a.dJ=LE,a.dK=R,a.dL=BE,a.dM=TE,a.dN=j,a.dO=AQ,a.dP=function(u){let o=0;if(new Uint32Array(u,0,1)[0]!==fj){const h=new Uint32Array(u,0,7),[,,A,_,b,E]=h;o=h.byteLength+_+b+E+b,(A!==u.byteLength||o>=u.byteLength)&&Ge("Invalid b3dm header information.")}return gj(u,o)},a.dQ=function(u,o){const h=yj(u);for(const A of h){for(const _ of A.meshes)ave(_);A.lights&&(A.lightMeshIndex=A.meshes.length,A.meshes.push(sve(A.lights,o)))}return h},a.dR=sS,a.dS=uj,a.dT=La,a.dU=function(u){sn(),at&&at.then(o=>{o.keys().then(h=>{for(let A=0;A<h.length-u;A++)o.delete(h[A])})})},a.da=class{constructor(u,o,h){this._transformRequestFn=u,this._customAccessToken=o,this._silenceAuthErrors=!!h,this._createSkuToken()}_createSkuToken(){const u=function(){let o="";for(let h=0;h<10;h++)o+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",kn,o].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=u.token,this._skuTokenExpiresAt=u.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(u,o){return this._transformRequestFn&&this._transformRequestFn(u,o)||{url:u}}normalizeStyleURL(u,o){if(!y(u))return u;const h=Mr(u);return h.params.push(`sdk=js-${f}`),h.path=`/styles/v1${h.path}`,this._makeAPIURL(h,this._customAccessToken||o)}normalizeGlyphsURL(u,o){if(!y(u))return u;const h=Mr(u);return h.path=`/fonts/v1${h.path}`,this._makeAPIURL(h,this._customAccessToken||o)}normalizeModelURL(u,o){if(!y(u))return u;const h=Mr(u);return h.path=`/models/v1${h.path}`,this._makeAPIURL(h,this._customAccessToken||o)}normalizeSourceURL(u,o,h,A){if(!y(u))return u;const _=Mr(u);return _.path=`/v4/${_.authority}.json`,_.params.push("secure"),h&&_.params.push(`language=${h}`),A&&_.params.push(`worldview=${A}`),this._makeAPIURL(_,this._customAccessToken||o)}normalizeSpriteURL(u,o,h,A){const _=Mr(u);return y(u)?(_.path=`/styles/v1${_.path}/sprite${o}${h}`,this._makeAPIURL(_,this._customAccessToken||A)):(_.path+=`${o}${h}`,ti(_))}normalizeTileURL(u,o,h){if(this._isSkuTokenExpired()&&this._createSkuToken(),u&&!y(u))return u;const A=Mr(u);A.path=A.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${o||h&&A.authority!=="raster"&&h===512?"@2x":""}${Nn.supported?".webp":"$1"}`),A.authority==="raster"?A.path=`/${m.RASTER_URL_PREFIX}${A.path}`:A.authority==="rasterarrays"?A.path=`/${m.RASTERARRAYS_URL_PREFIX}${A.path}`:(A.path=A.path.replace(/^.+\/v4\//,"/"),A.path=`/${m.TILE_URL_VERSION}${A.path}`);const _=this._customAccessToken||function(b){for(const E of b){const I=E.match(/^access_token=(.*)$/);if(I)return I[1]}return null}(A.params)||m.ACCESS_TOKEN;return m.REQUIRE_ACCESS_TOKEN&&_&&this._skuToken&&A.params.push(`sku=${this._skuToken}`),this._makeAPIURL(A,_)}canonicalizeTileURL(u,o){const h=Mr(u);if(!h.path.match(/^(\/v4\/|\/(raster|rasterarrays)\/v1\/)/)||!h.path.match(/\.[\w]+$/))return u;let A="mapbox://";h.path.match(/^\/raster\/v1\//)?A+=`raster/${h.path.replace(`/${m.RASTER_URL_PREFIX}/`,"")}`:h.path.match(/^\/rasterarrays\/v1\//)?A+=`rasterarrays/${h.path.replace(`/${m.RASTERARRAYS_URL_PREFIX}/`,"")}`:A+=`tiles/${h.path.replace(`/${m.TILE_URL_VERSION}/`,"")}`;let _=h.params;return o&&(_=_.filter(b=>!b.match(/^access_token=/))),_.length&&(A+=`?${_.join("&")}`),A}canonicalizeTileset(u,o){const h=!!o&&y(o),A=[];for(const _ of u.tiles||[])v(_)?A.push(this.canonicalizeTileURL(_,h)):A.push(_);return A}_makeAPIURL(u,o){const h="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",A=Mr(m.API_URL);if(u.protocol=A.protocol,u.authority=A.authority,u.protocol==="http"){const _=u.params.indexOf("secure");_>=0&&u.params.splice(_,1)}if(A.path!=="/"&&(u.path=`${A.path}${u.path}`),!m.REQUIRE_ACCESS_TOKEN)return ti(u);if(o=o||m.ACCESS_TOKEN,!this._silenceAuthErrors){if(!o)throw new Error(`An API access token is required to use Mapbox GL. ${h}`);if(o[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${h}`)}return u.params=u.params.filter(_=>_.indexOf("access_token")===-1),u.params.push(`access_token=${o||""}`),ti(u)}},a.db=function(u,o){o?uu.add(u):uu.delete(u)},a.dc=Nn,a.dd=ss,a.de=Gc,a.df=er,a.dg=_r,a.dh=function(u){uu.delete(u)},a.di=Sa,a.dj=kr,a.dk=f,a.dl=function(u,o){it=u,Mt=o},a.dm=function(u,o,h=!1){if(Er===sr||Er===fr||Er===ur)throw new Error("setRTLTextPlugin cannot be called multiple times.");bi=kt.resolveURL(u),Er=sr,Zr=o,Ya(),h||Fa()},a.dn=Ta,a.dp=function(){nS().acquire(kL)},a.dq=function(){const u=e4;u&&(u.isPreloaded()&&u.numActive()===1?(u.release(kL),e4=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},a.dr=Jx,a.ds=function(u){const o=St();if(!o)return;const h=o.delete(Bt);u&&h.catch(u).then(()=>u())},a.dt=Zx,a.du=cj,a.dv=function(u){PL=kt.resolveURL(u),Pb||(Pb=new Lb(nS(),new Yd)),Pb.broadcast("setDracoUrl",PL)},a.dw=hj,a.dx=function(u){kb=kt.resolveURL(u),Pb||(Pb=new Lb(nS(),new Yd)),Pb.broadcast("setMeshoptUrl",kb)},a.dy=ze,a.dz=Y0,a.e=se,a.f=kt,a.g=function(u,o){return Jt(se(u,{type:"json"}),o)},a.h=Md,a.i=od,a.j=yA,a.k=rg,a.l=function(u){return fetch(u).then(o=>o.arrayBuffer()).then(o=>gj(o,0,u))},a.m=ab,a.n=ag,a.o=vo,a.p=PQ,a.q=dp,a.r=V0,a.s=kA,a.t=bh,a.u=Du,a.v=Vs,a.w=Ge,a.x=ql,a.z=vd}),l(["./shared"],function(a){function f(wt){const De=wt?wt.url.toString():void 0;return De?performance.getEntriesByName(De):[]}function p(wt){if(typeof wt=="number"||typeof wt=="boolean"||typeof wt=="string"||wt==null)return JSON.stringify(wt);if(Array.isArray(wt)){let We="[";for(const ut of wt)We+=`${p(ut)},`;return`${We}]`}let De="{";for(const We of Object.keys(wt).sort())De+=`${We}:${p(wt[We])},`;return`${De}}`}function m(wt){let De="";for(const We of a.b2)De+=`/${p(wt[We])}`;return De}class v{constructor(De){this.keyCache={},this._layers={},this._layerConfigs={},De&&this.replace(De)}replace(De,We){this._layerConfigs={},this._layers={},this.update(De,[],We)}update(De,We,ut){this._options=ut;for(const Xe of De)this._layerConfigs[Xe.id]=Xe,(this._layers[Xe.id]=a.c2(Xe,this.scope,this._options)).compileFilter(),this.keyCache[Xe.id]&&delete this.keyCache[Xe.id];for(const Xe of We)delete this.keyCache[Xe],delete this._layerConfigs[Xe],delete this._layers[Xe];this.familiesBySource={};const It=function(Xe,kt){const Bt={};for(let Mt=0;Mt<Xe.length;Mt++){const at=kt&&kt[Xe[Mt].id]||m(Xe[Mt]);kt&&(kt[Xe[Mt].id]=at);let et=Bt[at];et||(et=Bt[at]=[]),et.push(Xe[Mt])}const it=[];for(const Mt in Bt)it.push(Bt[Mt]);return it}(a.a$(this._layerConfigs),this.keyCache);for(const Xe of It){const kt=Xe.map(St=>this._layers[St.id]),Bt=kt[0];if(Bt.visibility==="none")continue;const it=Bt.source||"";let Mt=this.familiesBySource[it];Mt||(Mt=this.familiesBySource[it]={});const at=Bt.sourceLayer||"_geojsonTileLayer";let et=Mt[at];et||(et=Mt[at]=[]),et.push(kt)}}}const y=1*a.dA;class T{constructor(De){const We={},ut=[];for(const Bt in De){const it=De[Bt],Mt=We[Bt]={};for(const at in it.glyphs){const et=it.glyphs[+at];if(!et||et.bitmap.width===0||et.bitmap.height===0)continue;const St=et.metrics.localGlyph?y:1,sn={x:0,y:0,w:et.bitmap.width+2*St,h:et.bitmap.height+2*St};ut.push(sn),Mt[at]=sn}}const{w:It,h:Xe}=a.p(ut),kt=new a.dz({width:It||1,height:Xe||1});for(const Bt in De){const it=De[Bt];for(const Mt in it.glyphs){const at=it.glyphs[+Mt];if(!at||at.bitmap.width===0||at.bitmap.height===0)continue;const et=We[Bt][Mt],St=at.metrics.localGlyph?y:1;a.dz.copy(at.bitmap,kt,{x:0,y:0},{x:et.x+St,y:et.y+St},at.bitmap)}}this.image=kt,this.positions=We}}a.dy(T,"GlyphAtlas");class C{constructor(De){this.tileID=new a.am(De.tileID.overscaledZ,De.tileID.wrap,De.tileID.canonical.z,De.tileID.canonical.x,De.tileID.canonical.y),this.tileZoom=De.tileZoom,this.uid=De.uid,this.zoom=De.zoom,this.canonical=De.tileID.canonical,this.pixelRatio=De.pixelRatio,this.tileSize=De.tileSize,this.source=De.source,this.scope=De.scope,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=De.showCollisionBoxes,this.collectResourceTiming=!!De.collectResourceTiming,this.promoteId=De.promoteId,this.isSymbolTile=De.isSymbolTile,this.tileTransform=a.as(De.tileID.canonical,De.projection),this.projection=De.projection,this.brightness=De.brightness,this.extraShadowCaster=!!De.extraShadowCaster}parse(De,We,ut,It,Xe){this.status="parsing",this.data=De,this.collisionBoxArray=new a.aD;const kt=new a.dB(Object.keys(De.layers).sort()),Bt=new a.dC(this.tileID,this.promoteId);Bt.bucketLayerIDs=[];const it={},Mt=new a.dD(256,256),at={featureIndex:Bt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:Mt,availableImages:ut,brightness:this.brightness},et=We.familiesBySource[this.source];for(const lr in et){const Qr=De.layers[lr];if(!Qr)continue;let Ci=!1,ai=!1,Vi=!1;for(const qi of et[lr])qi[0].type==="symbol"?Ci=!0:ai=!0,qi[0].is3D()&&qi[0].type!=="model"&&(Vi=!0);if(this.extraShadowCaster&&!Vi||this.isSymbolTile===!0&&!Ci||this.isSymbolTile===!1&&!ai)continue;Qr.version===1&&a.w(`Vector tile source "${this.source}" layer "${lr}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const va=kt.encode(lr),Rr=[];for(let qi=0;qi<Qr.length;qi++){const Hi=Qr.feature(qi),Jt=Bt.getId(Hi,lr);Rr.push({feature:Hi,id:Jt,index:qi,sourceLayerIndex:va})}for(const qi of et[lr]){const Hi=qi[0];(!this.extraShadowCaster||Hi.is3D()&&Hi.type!=="model")&&(this.isSymbolTile!==void 0&&Hi.type==="symbol"!==this.isSymbolTile||Hi.minzoom&&this.zoom<Math.floor(Hi.minzoom)||Hi.maxzoom&&this.zoom>=Hi.maxzoom||Hi.visibility!=="none"&&(k(qi,this.zoom,at.brightness,ut),(it[Hi.id]=Hi.createBucket({index:Bt.bucketLayerIDs.length,layers:qi,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:va,sourceID:this.source,projection:this.projection.spec})).populate(Rr,at,this.tileID.canonical,this.tileTransform),Bt.bucketLayerIDs.push(qi.map(Jt=>Jt.id))))}}let St,sn,bn,gr;Mt.trim();const tr={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},Nn=()=>{if(St)return this.status="done",Xe(St);if(this.extraShadowCaster)this.status="done",Xe(null,{buckets:a.a$(it).filter(lr=>!lr.isEmpty()),featureIndex:Bt,collisionBoxArray:null,glyphAtlasImage:null,lineAtlas:null,imageAtlas:null,brightness:at.brightness,glyphMap:null,iconMap:null,glyphPositions:null});else if(sn&&bn&&gr){const lr=new T(sn),Qr=new a.dF(bn,gr);for(const Ci in it){const ai=it[Ci];ai instanceof a.aE?(k(ai.layers,this.zoom,at.brightness,ut),a.dG(ai,sn,lr.positions,bn,Qr.iconPositions,this.showCollisionBoxes,ut,this.tileID.canonical,this.tileZoom,this.projection,this.brightness)):ai.hasPattern&&(ai instanceof a.aK||ai instanceof a.aL||ai instanceof a.cH)&&(k(ai.layers,this.zoom,at.brightness,ut),ai.addFeatures(at,this.tileID.canonical,Qr.patternPositions,ut,this.tileTransform,this.brightness))}this.status="done",Xe(null,{buckets:a.a$(it).filter(Ci=>!Ci.isEmpty()),featureIndex:Bt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:lr.image,lineAtlas:Mt,imageAtlas:Qr,brightness:at.brightness})}};if(!this.extraShadowCaster){const lr=a.dE(at.glyphDependencies,ai=>Object.keys(ai).map(Number));Object.keys(lr).length?It.send("getGlyphs",{uid:this.uid,stacks:lr,scope:this.scope},(ai,Vi)=>{St||(St=ai,sn=Vi,Nn())},void 0,!1,tr):sn={};const Qr=Object.keys(at.iconDependencies);Qr.length?It.send("getImages",{icons:Qr,source:this.source,scope:this.scope,tileID:this.tileID,type:"icons"},(ai,Vi)=>{St||(St=ai,bn=Vi,Nn())},void 0,!1,tr):bn={};const Ci=Object.keys(at.patternDependencies);Ci.length?It.send("getImages",{icons:Ci,source:this.source,scope:this.scope,tileID:this.tileID,type:"patterns"},(ai,Vi)=>{St||(St=ai,gr=Vi,Nn())},void 0,!1,tr):gr={}}Nn()}}function k(wt,De,We,ut){const It=new a.K(De,{brightness:We});for(const Xe of wt)Xe.recalculate(It,ut)}class M extends a.E{constructor(De,We,ut,It,Xe,kt){super(),this.actor=De,this.layerIndex=We,this.availableImages=ut,this.loadVectorData=Xe||a.ah,this.loading={},this.loaded={},this.deduped=new a.af(De.scheduler),this.isSpriteLoaded=It,this.scheduler=De.scheduler,this.brightness=kt}loadTile(De,We){const ut=De.uid,It=De&&De.request,Xe=It&&It.collectResourceTiming,kt=this.loading[ut]=new C(De);kt.abort=this.loadVectorData(De,(Bt,it)=>{const Mt=!this.loading[ut];if(delete this.loading[ut],Mt||Bt||!it)return kt.status="done",Mt||(this.loaded[ut]=kt),We(Bt);const at=it.rawData,et={};it.expires&&(et.expires=it.expires),it.cacheControl&&(et.cacheControl=it.cacheControl),kt.vectorTile=it.vectorTile||new a.dH(new a.dI(at));const St=()=>{kt.parse(kt.vectorTile,this.layerIndex,this.availableImages,this.actor,(sn,bn)=>{if(sn||!bn)return We(sn);const gr={};if(Xe){const tr=f(It);tr.length>0&&(gr.resourceTiming=JSON.parse(JSON.stringify(tr)))}We(null,a.e({rawTileData:at.slice(0)},bn,et,gr))})};this.isSpriteLoaded?St():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(St,{type:"parseTile",isSymbolTile:De.isSymbolTile,zoom:De.tileZoom}):St()}),this.loaded=this.loaded||{},this.loaded[ut]=kt})}reloadTile(De,We){const ut=this.loaded,It=De.uid,Xe=this;if(ut&&ut[It]){const kt=ut[It];kt.showCollisionBoxes=De.showCollisionBoxes,kt.projection=De.projection,kt.brightness=De.brightness,kt.tileTransform=a.as(De.tileID.canonical,De.projection),kt.extraShadowCaster=De.extraShadowCaster;const Bt=(it,Mt)=>{const at=kt.reloadCallback;at&&(delete kt.reloadCallback,kt.parse(kt.vectorTile,Xe.layerIndex,this.availableImages,Xe.actor,at)),We(it,Mt)};kt.status==="parsing"?kt.reloadCallback=Bt:kt.status==="done"&&(kt.vectorTile?kt.parse(kt.vectorTile,this.layerIndex,this.availableImages,this.actor,Bt):Bt())}else We(null,void 0)}abortTile(De,We){const ut=De.uid,It=this.loading[ut];It&&(It.abort&&It.abort(),delete this.loading[ut]),We()}removeTile(De,We){const ut=this.loaded,It=De.uid;ut&&ut[It]&&delete ut[It],We()}}class P{loadTile(De,We){const{uid:ut,encoding:It,rawImageData:Xe,padding:kt}=De,Bt=ImageBitmap&&Xe instanceof ImageBitmap?this.getImageData(Xe,kt):Xe;We(null,new a.dJ(ut,Bt,It,kt<1))}getImageData(De,We){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(De.width,De.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=De.width,this.offscreenCanvas.height=De.height,this.offscreenCanvasContext.drawImage(De,0,0,De.width,De.height);const ut=this.offscreenCanvasContext.getImageData(-We,-We,De.width+2*We,De.height+2*We);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),ut}}class R{decodeRasterArray({task:De,buffer:We},ut){a.aZ.performDecoding(We,De).then(It=>{ut(null,It)},It=>{ut(It)})}}function N(wt,De){if(wt.length!==0){z(wt[0],De);for(var We=1;We<wt.length;We++)z(wt[We],!De)}}function z(wt,De){for(var We=0,ut=0,It=0,Xe=wt.length,kt=Xe-1;It<Xe;kt=It++){var Bt=(wt[It][0]-wt[kt][0])*(wt[kt][1]+wt[It][1]),it=We+Bt;ut+=Math.abs(We)>=Math.abs(Bt)?We-it+Bt:Bt-it+We,We=it}We+ut>=0!=!!De&&wt.reverse()}var H=a.dK(function wt(De,We){var ut,It=De&&De.type;if(It==="FeatureCollection")for(ut=0;ut<De.features.length;ut++)wt(De.features[ut],We);else if(It==="GeometryCollection")for(ut=0;ut<De.geometries.length;ut++)wt(De.geometries[ut],We);else if(It==="Feature")wt(De.geometry,We);else if(It==="Polygon")N(De.coordinates,We);else if(It==="MultiPolygon")for(ut=0;ut<De.coordinates.length;ut++)N(De.coordinates[ut],We);return De});const j=a.dL.prototype.toGeoJSON;let Q=class{constructor(wt){this._feature=wt,this.extent=a.V,this.type=wt.type,this.properties=wt.tags,"id"in wt&&!isNaN(wt.id)&&(this.id=parseInt(wt.id,10))}loadGeometry(){if(this._feature.type===1){const wt=[];for(const De of this._feature.geometry)wt.push([new a.P(De[0],De[1])]);return wt}{const wt=[];for(const De of this._feature.geometry){const We=[];for(const ut of De)We.push(new a.P(ut[0],ut[1]));wt.push(We)}return wt}}toGeoJSON(wt,De,We){return j.call(this,wt,De,We)}},G=class{constructor(wt){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.V,this.length=wt.length,this._features=wt}feature(wt){return new Q(this._features[wt])}};var ie={exports:{}},q=a.dN,W=a.dM.VectorTileFeature,ee=he;function he(wt,De){this.options=De||{},this.features=wt,this.length=wt.length}function J(wt,De){this.id=typeof wt.id=="number"?wt.id:void 0,this.type=wt.type,this.rawGeometry=wt.type===1?[wt.geometry]:wt.geometry,this.properties=wt.tags,this.extent=De||4096}he.prototype.feature=function(wt){return new J(this.features[wt],this.options.extent)},J.prototype.loadGeometry=function(){var wt=this.rawGeometry;this.geometry=[];for(var De=0;De<wt.length;De++){for(var We=wt[De],ut=[],It=0;It<We.length;It++)ut.push(new q(We[It][0],We[It][1]));this.geometry.push(ut)}return this.geometry},J.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var wt=this.geometry,De=1/0,We=-1/0,ut=1/0,It=-1/0,Xe=0;Xe<wt.length;Xe++)for(var kt=wt[Xe],Bt=0;Bt<kt.length;Bt++){var it=kt[Bt];De=Math.min(De,it.x),We=Math.max(We,it.x),ut=Math.min(ut,it.y),It=Math.max(It,it.y)}return[De,ut,We,It]},J.prototype.toGeoJSON=W.prototype.toGeoJSON;var te=a.dO,ne=ee;function ce(wt){var De=new te;return function(We,ut){for(var It in We.layers)ut.writeMessage(3,ue,We.layers[It])}(wt,De),De.finish()}function ue(wt,De){var We;De.writeVarintField(15,wt.version||1),De.writeStringField(1,wt.name||""),De.writeVarintField(5,wt.extent||4096);var ut={keys:[],values:[],keycache:{},valuecache:{}};for(We=0;We<wt.length;We++)ut.feature=wt.feature(We),De.writeMessage(2,ye,ut);var It=ut.keys;for(We=0;We<It.length;We++)De.writeStringField(3,It[We]);var Xe=ut.values;for(We=0;We<Xe.length;We++)De.writeMessage(4,Ue,Xe[We])}function ye(wt,De){var We=wt.feature;We.id!==void 0&&De.writeVarintField(1,We.id),De.writeMessage(2,Ee,wt),De.writeVarintField(3,We.type),De.writeMessage(4,_e,We)}function Ee(wt,De){var We=wt.feature,ut=wt.keys,It=wt.values,Xe=wt.keycache,kt=wt.valuecache;for(var Bt in We.properties){var it=We.properties[Bt],Mt=Xe[Bt];if(it!==null){Mt===void 0&&(ut.push(Bt),Xe[Bt]=Mt=ut.length-1),De.writeVarint(Mt);var at=typeof it;at!=="string"&&at!=="boolean"&&at!=="number"&&(it=JSON.stringify(it));var et=at+":"+it,St=kt[et];St===void 0&&(It.push(it),kt[et]=St=It.length-1),De.writeVarint(St)}}}function se(wt,De){return(De<<3)+(7&wt)}function oe(wt){return wt<<1^wt>>31}function _e(wt,De){for(var We=wt.loadGeometry(),ut=wt.type,It=0,Xe=0,kt=We.length,Bt=0;Bt<kt;Bt++){var it=We[Bt],Mt=1;ut===1&&(Mt=it.length),De.writeVarint(se(1,Mt));for(var at=ut===3?it.length-1:it.length,et=0;et<at;et++){et===1&&ut!==1&&De.writeVarint(se(2,at-1));var St=it[et].x-It,sn=it[et].y-Xe;De.writeVarint(oe(St)),De.writeVarint(oe(sn)),It+=St,Xe+=sn}ut===3&&De.writeVarint(se(7,1))}}function Ue(wt,De){var We=typeof wt;We==="string"?De.writeStringField(1,wt):We==="boolean"?De.writeBooleanField(7,wt):We==="number"&&(wt%1!=0?De.writeDoubleField(3,wt):wt<0?De.writeSVarintField(6,wt):De.writeVarintField(5,wt))}ie.exports=ce,ie.exports.fromVectorTileJs=ce,ie.exports.fromGeojsonVt=function(wt,De){De=De||{};var We={};for(var ut in wt)We[ut]=new ne(wt[ut].features,De),We[ut].name=ut,We[ut].version=De.version,We[ut].extent=De.extent;return ce({layers:We})},ie.exports.GeoJSONWrapper=ne;var Le=a.dK(ie.exports);const be={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:wt=>wt},Re=Math.fround||(Qe=new Float32Array(1),wt=>(Qe[0]=+wt,Qe[0]));var Qe;const Je=3,nt=5,Ve=6;class ke{constructor(De){this.options=Object.assign(Object.create(be),De),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(De){const{log:We,minZoom:ut,maxZoom:It}=this.options;We&&console.time("total time");const Xe=`prepare ${De.length} points`;We&&console.time(Xe),this.points=De;const kt=[];for(let it=0;it<De.length;it++){const Mt=De[it];if(!Mt.geometry)continue;const[at,et]=Mt.geometry.coordinates,St=Re(je(at)),sn=Re(Ye(et));kt.push(St,sn,1/0,it,-1,1),this.options.reduce&&kt.push(0)}let Bt=this.trees[It+1]=this._createTree(kt);We&&console.timeEnd(Xe);for(let it=It;it>=ut;it--){const Mt=+Date.now();Bt=this.trees[it]=this._createTree(this._cluster(Bt,it)),We&&console.log("z%d: %d clusters in %dms",it,Bt.numItems,+Date.now()-Mt)}return We&&console.timeEnd("total time"),this}getClusters(De,We){let ut=((De[0]+180)%360+360)%360-180;const It=Math.max(-90,Math.min(90,De[1]));let Xe=De[2]===180?180:((De[2]+180)%360+360)%360-180;const kt=Math.max(-90,Math.min(90,De[3]));if(De[2]-De[0]>=360)ut=-180,Xe=180;else if(ut>Xe){const et=this.getClusters([ut,It,180,kt],We),St=this.getClusters([-180,It,Xe,kt],We);return et.concat(St)}const Bt=this.trees[this._limitZoom(We)],it=Bt.range(je(ut),Ye(kt),je(Xe),Ye(It)),Mt=Bt.data,at=[];for(const et of it){const St=this.stride*et;at.push(Mt[St+nt]>1?Ge(Mt,St,this.clusterProps):this.points[Mt[St+Je]])}return at}getChildren(De){const We=this._getOriginId(De),ut=this._getOriginZoom(De),It="No cluster with the specified id.",Xe=this.trees[ut];if(!Xe)throw new Error(It);const kt=Xe.data;if(We*this.stride>=kt.length)throw new Error(It);const Bt=this.options.radius/(this.options.extent*Math.pow(2,ut-1)),it=Xe.within(kt[We*this.stride],kt[We*this.stride+1],Bt),Mt=[];for(const at of it){const et=at*this.stride;kt[et+4]===De&&Mt.push(kt[et+nt]>1?Ge(kt,et,this.clusterProps):this.points[kt[et+Je]])}if(Mt.length===0)throw new Error(It);return Mt}getLeaves(De,We,ut){const It=[];return this._appendLeaves(It,De,We=We||10,ut=ut||0,0),It}getTile(De,We,ut){const It=this.trees[this._limitZoom(De)],Xe=Math.pow(2,De),{extent:kt,radius:Bt}=this.options,it=Bt/kt,Mt=(ut-it)/Xe,at=(ut+1+it)/Xe,et={features:[]};return this._addTileFeatures(It.range((We-it)/Xe,Mt,(We+1+it)/Xe,at),It.data,We,ut,Xe,et),We===0&&this._addTileFeatures(It.range(1-it/Xe,Mt,1,at),It.data,Xe,ut,Xe,et),We===Xe-1&&this._addTileFeatures(It.range(0,Mt,it/Xe,at),It.data,-1,ut,Xe,et),et.features.length?et:null}getClusterExpansionZoom(De){let We=this._getOriginZoom(De)-1;for(;We<=this.options.maxZoom;){const ut=this.getChildren(De);if(We++,ut.length!==1)break;De=ut[0].properties.cluster_id}return We}_appendLeaves(De,We,ut,It,Xe){const kt=this.getChildren(We);for(const Bt of kt){const it=Bt.properties;if(it&&it.cluster?Xe+it.point_count<=It?Xe+=it.point_count:Xe=this._appendLeaves(De,it.cluster_id,ut,It,Xe):Xe<It?Xe++:De.push(Bt),De.length===ut)break}return Xe}_createTree(De){const We=new a.bg(De.length/this.stride|0,this.options.nodeSize,Float32Array);for(let ut=0;ut<De.length;ut+=this.stride)We.add(De[ut],De[ut+1]);return We.finish(),We.data=De,We}_addTileFeatures(De,We,ut,It,Xe,kt){for(const Bt of De){const it=Bt*this.stride,Mt=We[it+nt]>1;let at,et,St;if(Mt)at=Ne(We,it,this.clusterProps),et=We[it],St=We[it+1];else{const gr=this.points[We[it+Je]];at=gr.properties;const[tr,Nn]=gr.geometry.coordinates;et=je(tr),St=Ye(Nn)}const sn={type:1,geometry:[[Math.round(this.options.extent*(et*Xe-ut)),Math.round(this.options.extent*(St*Xe-It))]],tags:at};let bn;bn=Mt||this.options.generateId?We[it+Je]:this.points[We[it+Je]].id,bn!==void 0&&(sn.id=bn),kt.features.push(sn)}}_limitZoom(De){return Math.max(this.options.minZoom,Math.min(Math.floor(+De),this.options.maxZoom+1))}_cluster(De,We){const{radius:ut,extent:It,reduce:Xe,minPoints:kt}=this.options,Bt=ut/(It*Math.pow(2,We)),it=De.data,Mt=[],at=this.stride;for(let et=0;et<it.length;et+=at){if(it[et+2]<=We)continue;it[et+2]=We;const St=it[et],sn=it[et+1],bn=De.within(it[et],it[et+1],Bt),gr=it[et+nt];let tr=gr;for(const Nn of bn){const lr=Nn*at;it[lr+2]>We&&(tr+=it[lr+nt])}if(tr>gr&&tr>=kt){let Nn,lr=St*gr,Qr=sn*gr,Ci=-1;const ai=(et/at<<5)+(We+1)+this.points.length;for(const Vi of bn){const va=Vi*at;if(it[va+2]<=We)continue;it[va+2]=We;const Rr=it[va+nt];lr+=it[va]*Rr,Qr+=it[va+1]*Rr,it[va+4]=ai,Xe&&(Nn||(Nn=this._map(it,et,!0),Ci=this.clusterProps.length,this.clusterProps.push(Nn)),Xe(Nn,this._map(it,va)))}it[et+4]=ai,Mt.push(lr/tr,Qr/tr,1/0,ai,-1,tr),Xe&&Mt.push(Ci)}else{for(let Nn=0;Nn<at;Nn++)Mt.push(it[et+Nn]);if(tr>1)for(const Nn of bn){const lr=Nn*at;if(!(it[lr+2]<=We)){it[lr+2]=We;for(let Qr=0;Qr<at;Qr++)Mt.push(it[lr+Qr])}}}}return Mt}_getOriginId(De){return De-this.points.length>>5}_getOriginZoom(De){return(De-this.points.length)%32}_map(De,We,ut){if(De[We+nt]>1){const kt=this.clusterProps[De[We+Ve]];return ut?Object.assign({},kt):kt}const It=this.points[De[We+Je]].properties,Xe=this.options.map(It);return ut&&Xe===It?Object.assign({},Xe):Xe}}function Ge(wt,De,We){return{type:"Feature",id:wt[De+Je],properties:Ne(wt,De,We),geometry:{type:"Point",coordinates:[(ut=wt[De],360*(ut-.5)),vt(wt[De+1])]}};var ut}function Ne(wt,De,We){const ut=wt[De+nt],It=ut>=1e4?`${Math.round(ut/1e3)}k`:ut>=1e3?Math.round(ut/100)/10+"k":ut,Xe=wt[De+Ve],kt=Xe===-1?{}:Object.assign({},We[Xe]);return Object.assign(kt,{cluster:!0,cluster_id:wt[De+Je],point_count:ut,point_count_abbreviated:It})}function je(wt){return wt/360+.5}function Ye(wt){const De=Math.sin(wt*Math.PI/180),We=.5-.25*Math.log((1+De)/(1-De))/Math.PI;return We<0?0:We>1?1:We}function vt(wt){const De=(180-360*wt)*Math.PI/180;return 360*Math.atan(Math.exp(De))/Math.PI-90}var Lt={exports:{}};Lt.exports=function(){function wt(Jt,hn,En,Hn){for(var Ht,an=Hn,In=En-hn>>1,kn=En-hn,er=Jt[hn],Gn=Jt[hn+1],Mr=Jt[En],ti=Jt[En+1],Tn=hn+3;Tn<En;Tn+=3){var Kt=De(Jt[Tn],Jt[Tn+1],er,Gn,Mr,ti);if(Kt>an)Ht=Tn,an=Kt;else if(Kt===an){var Zn=Math.abs(Tn-In);Zn<kn&&(Ht=Tn,kn=Zn)}}an>Hn&&(Ht-hn>3&&wt(Jt,hn,Ht,Hn),Jt[Ht+2]=an,En-Ht>3&&wt(Jt,Ht,En,Hn))}function De(Jt,hn,En,Hn,Ht,an){var In=Ht-En,kn=an-Hn;if(In!==0||kn!==0){var er=((Jt-En)*In+(hn-Hn)*kn)/(In*In+kn*kn);er>1?(En=Ht,Hn=an):er>0&&(En+=In*er,Hn+=kn*er)}return(In=Jt-En)*In+(kn=hn-Hn)*kn}function We(Jt,hn,En,Hn){var Ht={id:Jt===void 0?null:Jt,type:hn,geometry:En,tags:Hn,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(an){var In=an.geometry,kn=an.type;if(kn==="Point"||kn==="MultiPoint"||kn==="LineString")ut(an,In);else if(kn==="Polygon"||kn==="MultiLineString")for(var er=0;er<In.length;er++)ut(an,In[er]);else if(kn==="MultiPolygon")for(er=0;er<In.length;er++)for(var Gn=0;Gn<In[er].length;Gn++)ut(an,In[er][Gn])}(Ht),Ht}function ut(Jt,hn){for(var En=0;En<hn.length;En+=3)Jt.minX=Math.min(Jt.minX,hn[En]),Jt.minY=Math.min(Jt.minY,hn[En+1]),Jt.maxX=Math.max(Jt.maxX,hn[En]),Jt.maxY=Math.max(Jt.maxY,hn[En+1])}function It(Jt,hn,En,Hn){if(hn.geometry){var Ht=hn.geometry.coordinates,an=hn.geometry.type,In=Math.pow(En.tolerance/((1<<En.maxZoom)*En.extent),2),kn=[],er=hn.id;if(En.promoteId?er=hn.properties[En.promoteId]:En.generateId&&(er=Hn||0),an==="Point")Xe(Ht,kn);else if(an==="MultiPoint")for(var Gn=0;Gn<Ht.length;Gn++)Xe(Ht[Gn],kn);else if(an==="LineString")kt(Ht,kn,In,!1);else if(an==="MultiLineString"){if(En.lineMetrics){for(Gn=0;Gn<Ht.length;Gn++)kt(Ht[Gn],kn=[],In,!1),Jt.push(We(er,"LineString",kn,hn.properties));return}Bt(Ht,kn,In,!1)}else if(an==="Polygon")Bt(Ht,kn,In,!0);else{if(an!=="MultiPolygon"){if(an==="GeometryCollection"){for(Gn=0;Gn<hn.geometry.geometries.length;Gn++)It(Jt,{id:er,geometry:hn.geometry.geometries[Gn],properties:hn.properties},En,Hn);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Gn=0;Gn<Ht.length;Gn++){var Mr=[];Bt(Ht[Gn],Mr,In,!0),kn.push(Mr)}}Jt.push(We(er,an,kn,hn.properties))}}function Xe(Jt,hn){hn.push(it(Jt[0])),hn.push(Mt(Jt[1])),hn.push(0)}function kt(Jt,hn,En,Hn){for(var Ht,an,In=0,kn=0;kn<Jt.length;kn++){var er=it(Jt[kn][0]),Gn=Mt(Jt[kn][1]);hn.push(er),hn.push(Gn),hn.push(0),kn>0&&(In+=Hn?(Ht*Gn-er*an)/2:Math.sqrt(Math.pow(er-Ht,2)+Math.pow(Gn-an,2))),Ht=er,an=Gn}var Mr=hn.length-3;hn[2]=1,wt(hn,0,Mr,En),hn[Mr+2]=1,hn.size=Math.abs(In),hn.start=0,hn.end=hn.size}function Bt(Jt,hn,En,Hn){for(var Ht=0;Ht<Jt.length;Ht++){var an=[];kt(Jt[Ht],an,En,Hn),hn.push(an)}}function it(Jt){return Jt/360+.5}function Mt(Jt){var hn=Math.sin(Jt*Math.PI/180),En=.5-.25*Math.log((1+hn)/(1-hn))/Math.PI;return En<0?0:En>1?1:En}function at(Jt,hn,En,Hn,Ht,an,In,kn){if(Hn/=hn,an>=(En/=hn)&&In<Hn)return Jt;if(In<En||an>=Hn)return null;for(var er=[],Gn=0;Gn<Jt.length;Gn++){var Mr=Jt[Gn],ti=Mr.geometry,Tn=Mr.type,Kt=Ht===0?Mr.minX:Mr.minY,Zn=Ht===0?Mr.maxX:Mr.maxY;if(Kt>=En&&Zn<Hn)er.push(Mr);else if(!(Zn<En||Kt>=Hn)){var jt=[];if(Tn==="Point"||Tn==="MultiPoint")et(ti,jt,En,Hn,Ht);else if(Tn==="LineString")St(ti,jt,En,Hn,Ht,!1,kn.lineMetrics);else if(Tn==="MultiLineString")bn(ti,jt,En,Hn,Ht,!1);else if(Tn==="Polygon")bn(ti,jt,En,Hn,Ht,!0);else if(Tn==="MultiPolygon")for(var Xn=0;Xn<ti.length;Xn++){var kr=[];bn(ti[Xn],kr,En,Hn,Ht,!0),kr.length&&jt.push(kr)}if(jt.length){if(kn.lineMetrics&&Tn==="LineString"){for(Xn=0;Xn<jt.length;Xn++)er.push(We(Mr.id,Tn,jt[Xn],Mr.tags));continue}Tn!=="LineString"&&Tn!=="MultiLineString"||(jt.length===1?(Tn="LineString",jt=jt[0]):Tn="MultiLineString"),Tn!=="Point"&&Tn!=="MultiPoint"||(Tn=jt.length===3?"Point":"MultiPoint"),er.push(We(Mr.id,Tn,jt,Mr.tags))}}}return er.length?er:null}function et(Jt,hn,En,Hn,Ht){for(var an=0;an<Jt.length;an+=3){var In=Jt[an+Ht];In>=En&&In<=Hn&&(hn.push(Jt[an]),hn.push(Jt[an+1]),hn.push(Jt[an+2]))}}function St(Jt,hn,En,Hn,Ht,an,In){for(var kn,er,Gn=sn(Jt),Mr=Ht===0?tr:Nn,ti=Jt.start,Tn=0;Tn<Jt.length-3;Tn+=3){var Kt=Jt[Tn],Zn=Jt[Tn+1],jt=Jt[Tn+2],Xn=Jt[Tn+3],kr=Jt[Tn+4],_r=Ht===0?Kt:Zn,fa=Ht===0?Xn:kr,ss=!1;In&&(kn=Math.sqrt(Math.pow(Kt-Xn,2)+Math.pow(Zn-kr,2))),_r<En?fa>En&&(er=Mr(Gn,Kt,Zn,Xn,kr,En),In&&(Gn.start=ti+kn*er)):_r>Hn?fa<Hn&&(er=Mr(Gn,Kt,Zn,Xn,kr,Hn),In&&(Gn.start=ti+kn*er)):gr(Gn,Kt,Zn,jt),fa<En&&_r>=En&&(er=Mr(Gn,Kt,Zn,Xn,kr,En),ss=!0),fa>Hn&&_r<=Hn&&(er=Mr(Gn,Kt,Zn,Xn,kr,Hn),ss=!0),!an&&ss&&(In&&(Gn.end=ti+kn*er),hn.push(Gn),Gn=sn(Jt)),In&&(ti+=kn)}var Sa=Jt.length-3;Kt=Jt[Sa],Zn=Jt[Sa+1],jt=Jt[Sa+2],(_r=Ht===0?Kt:Zn)>=En&&_r<=Hn&&gr(Gn,Kt,Zn,jt),Sa=Gn.length-3,an&&Sa>=3&&(Gn[Sa]!==Gn[0]||Gn[Sa+1]!==Gn[1])&&gr(Gn,Gn[0],Gn[1],Gn[2]),Gn.length&&hn.push(Gn)}function sn(Jt){var hn=[];return hn.size=Jt.size,hn.start=Jt.start,hn.end=Jt.end,hn}function bn(Jt,hn,En,Hn,Ht,an){for(var In=0;In<Jt.length;In++)St(Jt[In],hn,En,Hn,Ht,an,!1)}function gr(Jt,hn,En,Hn){Jt.push(hn),Jt.push(En),Jt.push(Hn)}function tr(Jt,hn,En,Hn,Ht,an){var In=(an-hn)/(Hn-hn);return Jt.push(an),Jt.push(En+(Ht-En)*In),Jt.push(1),In}function Nn(Jt,hn,En,Hn,Ht,an){var In=(an-En)/(Ht-En);return Jt.push(hn+(Hn-hn)*In),Jt.push(an),Jt.push(1),In}function lr(Jt,hn){for(var En=[],Hn=0;Hn<Jt.length;Hn++){var Ht,an=Jt[Hn],In=an.type;if(In==="Point"||In==="MultiPoint"||In==="LineString")Ht=Qr(an.geometry,hn);else if(In==="MultiLineString"||In==="Polygon"){Ht=[];for(var kn=0;kn<an.geometry.length;kn++)Ht.push(Qr(an.geometry[kn],hn))}else if(In==="MultiPolygon")for(Ht=[],kn=0;kn<an.geometry.length;kn++){for(var er=[],Gn=0;Gn<an.geometry[kn].length;Gn++)er.push(Qr(an.geometry[kn][Gn],hn));Ht.push(er)}En.push(We(an.id,In,Ht,an.tags))}return En}function Qr(Jt,hn){var En=[];En.size=Jt.size,Jt.start!==void 0&&(En.start=Jt.start,En.end=Jt.end);for(var Hn=0;Hn<Jt.length;Hn+=3)En.push(Jt[Hn]+hn,Jt[Hn+1],Jt[Hn+2]);return En}function Ci(Jt,hn){if(Jt.transformed)return Jt;var En,Hn,Ht,an=1<<Jt.z,In=Jt.x,kn=Jt.y;for(En=0;En<Jt.features.length;En++){var er=Jt.features[En],Gn=er.geometry,Mr=er.type;if(er.geometry=[],Mr===1)for(Hn=0;Hn<Gn.length;Hn+=2)er.geometry.push(ai(Gn[Hn],Gn[Hn+1],hn,an,In,kn));else for(Hn=0;Hn<Gn.length;Hn++){var ti=[];for(Ht=0;Ht<Gn[Hn].length;Ht+=2)ti.push(ai(Gn[Hn][Ht],Gn[Hn][Ht+1],hn,an,In,kn));er.geometry.push(ti)}}return Jt.transformed=!0,Jt}function ai(Jt,hn,En,Hn,Ht,an){return[Math.round(En*(Jt*Hn-Ht)),Math.round(En*(hn*Hn-an))]}function Vi(Jt,hn,En,Hn,Ht){for(var an=hn===Ht.maxZoom?0:Ht.tolerance/((1<<hn)*Ht.extent),In={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:En,y:Hn,z:hn,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},kn=0;kn<Jt.length;kn++){In.numFeatures++,va(In,Jt[kn],an,Ht);var er=Jt[kn].minX,Gn=Jt[kn].minY,Mr=Jt[kn].maxX,ti=Jt[kn].maxY;er<In.minX&&(In.minX=er),Gn<In.minY&&(In.minY=Gn),Mr>In.maxX&&(In.maxX=Mr),ti>In.maxY&&(In.maxY=ti)}return In}function va(Jt,hn,En,Hn){var Ht=hn.geometry,an=hn.type,In=[];if(an==="Point"||an==="MultiPoint")for(var kn=0;kn<Ht.length;kn+=3)In.push(Ht[kn]),In.push(Ht[kn+1]),Jt.numPoints++,Jt.numSimplified++;else if(an==="LineString")Rr(In,Ht,Jt,En,!1,!1);else if(an==="MultiLineString"||an==="Polygon")for(kn=0;kn<Ht.length;kn++)Rr(In,Ht[kn],Jt,En,an==="Polygon",kn===0);else if(an==="MultiPolygon")for(var er=0;er<Ht.length;er++){var Gn=Ht[er];for(kn=0;kn<Gn.length;kn++)Rr(In,Gn[kn],Jt,En,!0,kn===0)}if(In.length){var Mr=hn.tags||null;if(an==="LineString"&&Hn.lineMetrics){for(var ti in Mr={},hn.tags)Mr[ti]=hn.tags[ti];Mr.mapbox_clip_start=Ht.start/Ht.size,Mr.mapbox_clip_end=Ht.end/Ht.size}var Tn={geometry:In,type:an==="Polygon"||an==="MultiPolygon"?3:an==="LineString"||an==="MultiLineString"?2:1,tags:Mr};hn.id!==null&&(Tn.id=hn.id),Jt.features.push(Tn)}}function Rr(Jt,hn,En,Hn,Ht,an){var In=Hn*Hn;if(Hn>0&&hn.size<(Ht?In:Hn))En.numPoints+=hn.length/3;else{for(var kn=[],er=0;er<hn.length;er+=3)(Hn===0||hn[er+2]>In)&&(En.numSimplified++,kn.push(hn[er]),kn.push(hn[er+1])),En.numPoints++;Ht&&function(Gn,Mr){for(var ti=0,Tn=0,Kt=Gn.length,Zn=Kt-2;Tn<Kt;Zn=Tn,Tn+=2)ti+=(Gn[Tn]-Gn[Zn])*(Gn[Tn+1]+Gn[Zn+1]);if(ti>0===Mr)for(Tn=0,Kt=Gn.length;Tn<Kt/2;Tn+=2){var jt=Gn[Tn],Xn=Gn[Tn+1];Gn[Tn]=Gn[Kt-2-Tn],Gn[Tn+1]=Gn[Kt-1-Tn],Gn[Kt-2-Tn]=jt,Gn[Kt-1-Tn]=Xn}}(kn,an),Jt.push(kn)}}function qi(Jt,hn){var En=(hn=this.options=function(Ht,an){for(var In in an)Ht[In]=an[In];return Ht}(Object.create(this.options),hn)).debug;if(En&&console.time("preprocess data"),hn.maxZoom<0||hn.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(hn.promoteId&&hn.generateId)throw new Error("promoteId and generateId cannot be used together.");var Hn=function(Ht,an){var In=[];if(Ht.type==="FeatureCollection")for(var kn=0;kn<Ht.features.length;kn++)It(In,Ht.features[kn],an,kn);else It(In,Ht.type==="Feature"?Ht:{geometry:Ht},an);return In}(Jt,hn);this.tiles={},this.tileCoords=[],En&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",hn.indexMaxZoom,hn.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(Hn=function(Ht,an){var In=an.buffer/an.extent,kn=Ht,er=at(Ht,1,-1-In,In,0,-1,2,an),Gn=at(Ht,1,1-In,2+In,0,-1,2,an);return(er||Gn)&&(kn=at(Ht,1,-In,1+In,0,-1,2,an)||[],er&&(kn=lr(er,1).concat(kn)),Gn&&(kn=kn.concat(lr(Gn,-1)))),kn}(Hn,hn)).length&&this.splitTile(Hn,0,0,0),En&&(Hn.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Hi(Jt,hn,En){return 32*((1<<Jt)*En+hn)+Jt}return qi.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},qi.prototype.splitTile=function(Jt,hn,En,Hn,Ht,an,In){for(var kn=[Jt,hn,En,Hn],er=this.options,Gn=er.debug;kn.length;){Hn=kn.pop(),En=kn.pop(),hn=kn.pop(),Jt=kn.pop();var Mr=1<<hn,ti=Hi(hn,En,Hn),Tn=this.tiles[ti];if(!Tn&&(Gn>1&&console.time("creation"),Tn=this.tiles[ti]=Vi(Jt,hn,En,Hn,er),this.tileCoords.push({z:hn,x:En,y:Hn}),Gn)){Gn>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",hn,En,Hn,Tn.numFeatures,Tn.numPoints,Tn.numSimplified),console.timeEnd("creation"));var Kt="z"+hn;this.stats[Kt]=(this.stats[Kt]||0)+1,this.total++}if(Tn.source=Jt,Ht){if(hn===er.maxZoom||hn===Ht)continue;var Zn=1<<Ht-hn;if(En!==Math.floor(an/Zn)||Hn!==Math.floor(In/Zn))continue}else if(hn===er.indexMaxZoom||Tn.numPoints<=er.indexMaxPoints)continue;if(Tn.source=null,Jt.length!==0){Gn>1&&console.time("clipping");var jt,Xn,kr,_r,fa,ss,Sa=.5*er.buffer/er.extent,Gc=.5-Sa,uu=.5+Sa,Zh=1+Sa;jt=Xn=kr=_r=null,fa=at(Jt,Mr,En-Sa,En+uu,0,Tn.minX,Tn.maxX,er),ss=at(Jt,Mr,En+Gc,En+Zh,0,Tn.minX,Tn.maxX,er),Jt=null,fa&&(jt=at(fa,Mr,Hn-Sa,Hn+uu,1,Tn.minY,Tn.maxY,er),Xn=at(fa,Mr,Hn+Gc,Hn+Zh,1,Tn.minY,Tn.maxY,er),fa=null),ss&&(kr=at(ss,Mr,Hn-Sa,Hn+uu,1,Tn.minY,Tn.maxY,er),_r=at(ss,Mr,Hn+Gc,Hn+Zh,1,Tn.minY,Tn.maxY,er),ss=null),Gn>1&&console.timeEnd("clipping"),kn.push(jt||[],hn+1,2*En,2*Hn),kn.push(Xn||[],hn+1,2*En,2*Hn+1),kn.push(kr||[],hn+1,2*En+1,2*Hn),kn.push(_r||[],hn+1,2*En+1,2*Hn+1)}}},qi.prototype.getTile=function(Jt,hn,En){var Hn=this.options,Ht=Hn.extent,an=Hn.debug;if(Jt<0||Jt>24)return null;var In=1<<Jt,kn=Hi(Jt,hn=(hn%In+In)%In,En);if(this.tiles[kn])return Ci(this.tiles[kn],Ht);an>1&&console.log("drilling down to z%d-%d-%d",Jt,hn,En);for(var er,Gn=Jt,Mr=hn,ti=En;!er&&Gn>0;)Gn--,Mr=Math.floor(Mr/2),ti=Math.floor(ti/2),er=this.tiles[Hi(Gn,Mr,ti)];return er&&er.source?(an>1&&console.log("found parent tile z%d-%d-%d",Gn,Mr,ti),an>1&&console.time("drilling down"),this.splitTile(er.source,Gn,Mr,ti,Jt,hn,En),an>1&&console.timeEnd("drilling down"),this.tiles[kn]?Ci(this.tiles[kn],Ht):null):null},function(Jt,hn){return new qi(Jt,hn)}}();var Et=a.dK(Lt.exports);function Vt(wt,De){const We=wt.tileID.canonical;if(!this._geoJSONIndex)return De(null,null);const ut=this._geoJSONIndex.getTile(We.z,We.x,We.y);if(!ut)return De(null,null);const It=new G(ut.features);let Xe=Le(It);Xe.byteOffset===0&&Xe.byteLength===Xe.buffer.byteLength||(Xe=new Uint8Array(Xe)),De(null,{vectorTile:It,rawData:Xe.buffer})}class _t extends M{constructor(De,We,ut,It,Xe,kt){super(De,We,ut,It,Vt,kt),Xe&&(this.loadGeoJSON=Xe)}loadData(De,We){const ut=De&&De.request,It=ut&&ut.collectResourceTiming;this.loadGeoJSON(De,(Xe,kt)=>{if(Xe||!kt)return We(Xe);if(typeof kt!="object")return We(new Error(`Input data given to '${De.source}' is not a valid GeoJSON object.`));{H(kt,!0);try{if(De.filter){const it=a.r(De.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(it.result==="error")throw new Error(it.value.map(at=>`${at.key}: ${at.message}`).join(", "));kt={type:"FeatureCollection",features:kt.features.filter(at=>it.value.evaluate({zoom:0},at))}}this._geoJSONIndex=De.cluster?new ke(function({superclusterOptions:it,clusterProperties:Mt}){if(!Mt||!it)return it;const at={},et={},St={accumulated:null,zoom:0},sn={properties:null},bn=Object.keys(Mt);for(const gr of bn){const[tr,Nn]=Mt[gr],lr=a.r(Nn),Qr=a.r(typeof tr=="string"?[tr,["accumulated"],["get",gr]]:tr);at[gr]=lr.value,et[gr]=Qr.value}return it.map=gr=>{sn.properties=gr;const tr={};for(const Nn of bn)tr[Nn]=at[Nn].evaluate(St,sn);return tr},it.reduce=(gr,tr)=>{sn.properties=tr;for(const Nn of bn)St.accumulated=gr[Nn],gr[Nn]=et[Nn].evaluate(St,sn)},it}(De)).load(kt.features):Et(kt,De.geojsonVtOptions)}catch(it){return We(it)}this.loaded={};const Bt={};if(It){const it=f(ut);it&&(Bt.resourceTiming={},Bt.resourceTiming[De.source]=JSON.parse(JSON.stringify(it)))}We(null,Bt)}})}reloadTile(De,We){const ut=this.loaded;return ut&&ut[De.uid]?super.reloadTile(De,We):this.loadTile(De,We)}loadGeoJSON(De,We){if(De.request)a.g(De.request,We);else{if(typeof De.data!="string")return We(new Error(`Input data given to '${De.source}' is not a valid GeoJSON object.`));try{return We(null,JSON.parse(De.data))}catch{return We(new Error(`Input data given to '${De.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(De,We){try{We(null,this._geoJSONIndex.getClusterExpansionZoom(De.clusterId))}catch(ut){We(ut)}}getClusterChildren(De,We){try{We(null,this._geoJSONIndex.getChildren(De.clusterId))}catch(ut){We(ut)}}getClusterLeaves(De,We){try{We(null,this._geoJSONIndex.getLeaves(De.clusterId,De.limit,De.offset))}catch(ut){We(ut)}}}class qt{constructor(De,We){this.tileID=new a.am(De.tileID.overscaledZ,De.tileID.wrap,De.tileID.canonical.z,De.tileID.canonical.x,De.tileID.canonical.y),this.tileZoom=De.tileZoom,this.uid=De.uid,this.zoom=De.zoom,this.canonical=De.tileID.canonical,this.pixelRatio=De.pixelRatio,this.tileSize=De.tileSize,this.source=De.source,this.overscaling=this.tileID.overscaleFactor(),this.projection=De.projection,this.brightness=We}parse(De,We,ut,It){this.status="parsing";const Xe=new a.am(ut.tileID.overscaledZ,ut.tileID.wrap,ut.tileID.canonical.z,ut.tileID.canonical.x,ut.tileID.canonical.y),kt={},Bt=We.familiesBySource[ut.source],it=new a.dC(Xe,ut.promoteId);return it.bucketLayerIDs=[],it.is3DTile=!0,a.dP(De).then(Mt=>{if(!Mt)return It(new Error("Could not parse tile"));const at=a.dQ(Mt,1/a.bR(ut.tileID.canonical)),et=Mt.json.extensionsUsed&&Mt.json.extensionsUsed.includes("MAPBOX_mesh_features")||Mt.json.asset.extras&&Mt.json.asset.extras.MAPBOX_mesh_features,St=Mt.json.extensionsUsed&&Mt.json.extensionsUsed.includes("EXT_meshopt_compression"),sn=new a.K(this.zoom,{brightness:this.brightness});for(const bn in Bt)for(const gr of Bt[bn]){const tr=gr[0];it.bucketLayerIDs.push(gr.map(lr=>lr.id)),tr.recalculate(sn,[]);const Nn=new a.dR(at,Xe,et,St,this.brightness,it);et||(Nn.needsUpload=!0),kt[tr.fqid]=Nn,Nn.evaluate(tr)}this.status="done",It(null,{buckets:kt,featureIndex:it})}).catch(Mt=>It(new Error(Mt.message)))}}class tn{constructor(De,We,ut,It,Xe,kt){this.actor=De,this.layerIndex=We,this.brightness=kt,this.loading={},this.loaded={}}loadTile(De,We){const ut=De.uid,It=this.loading[ut]=new qt(De,this.brightness);a.a_(De.request,(Xe,kt)=>{const Bt=!this.loading[ut];return delete this.loading[ut],Bt||Xe?(It.status="done",Bt||(this.loaded[ut]=It),We(Xe)):kt&&kt.byteLength!==0?void It.parse(kt,this.layerIndex,De,(it,Mt)=>{It.status="done",this.loaded=this.loaded||{},this.loaded[ut]=It,it||!Mt?We(it):We(null,Mt)}):(It.status="done",this.loaded[ut]=It,We())})}reloadTile(De,We){const ut=this.loaded,It=De.uid;if(ut&&ut[It]){const Xe=ut[It];Xe.projection=De.projection,Xe.brightness=De.brightness;const kt=(Bt,it)=>{Xe.reloadCallback&&(delete Xe.reloadCallback,this.loadTile(De,We)),We(Bt,it)};Xe.status==="parsing"?Xe.reloadCallback=kt:Xe.status==="done"&&this.loadTile(De,We)}}abortTile(De,We){const ut=De.uid;this.loading[ut]&&delete this.loading[ut],We()}removeTile(De,We){const ut=this.loaded,It=De.uid;ut&&ut[It]&&delete ut[It],We()}}class Nt{constructor(De){this.self=De,this.actor=new a.dS(De,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=a.bo({name:"mercator"}),this.workerSourceTypes={vector:M,geojson:_t,"batched-model":tn},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(We,ut)=>{if(this.workerSourceTypes[We])throw new Error(`Worker source with name "${We}" already registered.`);this.workerSourceTypes[We]=ut},this.self.registerRTLTextPlugin=We=>{if(a.dT.isParsed())throw new Error("RTL text plugin already registered.");a.dT.applyArabicShaping=We.applyArabicShaping,a.dT.processBidirectionalText=We.processBidirectionalText,a.dT.processStyledBidirectionalText=We.processStyledBidirectionalText}}clearCaches(De,We,ut){delete this.layerIndexes[De],delete this.availableImages[De],delete this.workerSources[De],delete this.demWorkerSources[De],delete this.rasterArrayWorkerSource,ut()}checkIfReady(De,We,ut){ut()}setReferrer(De,We){this.referrer=We}spriteLoaded(De,{scope:We,isLoaded:ut}){if(this.isSpriteLoaded[De]||(this.isSpriteLoaded[De]={}),this.isSpriteLoaded[De][We]=ut,this.workerSources[De]&&this.workerSources[De][We])for(const It in this.workerSources[De][We]){const Xe=this.workerSources[De][We][It];for(const kt in Xe)Xe[kt]instanceof M&&(Xe[kt].isSpriteLoaded=ut,Xe[kt].fire(new a.b("isSpriteLoaded")))}}setImages(De,{scope:We,images:ut},It){if(this.availableImages[De]||(this.availableImages[De]={}),this.availableImages[De][We]=ut,this.workerSources[De]&&this.workerSources[De][We]){for(const Xe in this.workerSources[De][We]){const kt=this.workerSources[De][We][Xe];for(const Bt in kt)kt[Bt].availableImages=ut}It()}else It()}setProjection(De,We){this.projections[De]=a.bo(We)}setBrightness(De,We,ut){this.brightness=We,ut()}setLayers(De,We,ut){this.getLayerIndex(De,We.scope).replace(We.layers,We.options),ut()}updateLayers(De,We,ut){this.getLayerIndex(De,We.scope).update(We.layers,We.removedIds,We.options),ut()}loadTile(De,We,ut){We.projection=this.projections[De]||this.defaultProjection,this.getWorkerSource(De,We.type,We.source,We.scope).loadTile(We,ut)}loadDEMTile(De,We,ut){this.getDEMWorkerSource(De,We.source,We.scope).loadTile(We,ut)}decodeRasterArray(De,We,ut){this.getRasterArrayWorkerSource().decodeRasterArray(We,ut)}reloadTile(De,We,ut){We.projection=this.projections[De]||this.defaultProjection,this.getWorkerSource(De,We.type,We.source,We.scope).reloadTile(We,ut)}abortTile(De,We,ut){this.getWorkerSource(De,We.type,We.source,We.scope).abortTile(We,ut)}removeTile(De,We,ut){this.getWorkerSource(De,We.type,We.source,We.scope).removeTile(We,ut)}removeSource(De,We,ut){if(!(this.workerSources[De]&&this.workerSources[De][We.scope]&&this.workerSources[De][We.scope][We.type]&&this.workerSources[De][We.scope][We.type][We.source]))return;const It=this.workerSources[De][We.scope][We.type][We.source];delete this.workerSources[De][We.scope][We.type][We.source],It.removeSource!==void 0?It.removeSource(We,ut):ut()}loadWorkerSource(De,We,ut){try{this.self.importScripts(We.url),ut()}catch(It){ut(It.toString())}}syncRTLPluginState(De,We,ut){try{a.dT.setState(We);const It=a.dT.getPluginURL();if(a.dT.isLoaded()&&!a.dT.isParsed()&&It!=null){this.self.importScripts(It);const Xe=a.dT.isParsed();ut(Xe?void 0:new Error(`RTL Text Plugin failed to import scripts from ${It}`),Xe)}}catch(It){ut(It.toString())}}setDracoUrl(De,We){this.dracoUrl=We}getAvailableImages(De,We){this.availableImages[De]||(this.availableImages[De]={});let ut=this.availableImages[De][We];return ut||(ut=[]),ut}getLayerIndex(De,We){this.layerIndexes[De]||(this.layerIndexes[De]={});let ut=this.layerIndexes[De][We];return ut||(ut=this.layerIndexes[De][We]=new v,ut.scope=We),ut}getWorkerSource(De,We,ut,It){if(this.workerSources[De]||(this.workerSources[De]={}),this.workerSources[De][It]||(this.workerSources[De][It]={}),this.workerSources[De][It][We]||(this.workerSources[De][It][We]={}),this.isSpriteLoaded[De]||(this.isSpriteLoaded[De]={}),!this.workerSources[De][It][We][ut]){const Xe={send:(kt,Bt,it,Mt,at,et)=>{this.actor.send(kt,Bt,it,De,at,et)},scheduler:this.actor.scheduler};this.workerSources[De][It][We][ut]=new this.workerSourceTypes[We](Xe,this.getLayerIndex(De,It),this.getAvailableImages(De,It),this.isSpriteLoaded[De][It],void 0,this.brightness)}return this.workerSources[De][It][We][ut]}getDEMWorkerSource(De,We,ut){return this.demWorkerSources[De]||(this.demWorkerSources[De]={}),this.demWorkerSources[De][ut]||(this.demWorkerSources[De][ut]={}),this.demWorkerSources[De][ut][We]||(this.demWorkerSources[De][ut][We]=new P),this.demWorkerSources[De][ut][We]}getRasterArrayWorkerSource(){return this.rasterArrayWorkerSource||(this.rasterArrayWorkerSource=new R),this.rasterArrayWorkerSource}enforceCacheSizeLimit(De,We){a.dU(We)}getWorkerPerformanceMetrics(De,We,ut){ut(void 0,void 0)}}return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new Nt(self)),Nt}),l(["./shared"],function(a){function f(w,d){if(Array.isArray(w)){if(!Array.isArray(d)||w.length!==d.length)return!1;for(let g=0;g<w.length;g++)if(!f(w[g],d[g]))return!1;return!0}if(typeof w=="object"&&w!==null&&d!==null){if(typeof d!="object"||Object.keys(w).length!==Object.keys(d).length)return!1;for(const g in w)if(!f(w[g],d[g]))return!1;return!0}return w===d}var p=m;function m(w){return!function(d){return typeof window>"u"||typeof document>"u"?"not a browser":function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var x,B,L=new Blob([""],{type:"text/javascript"}),D=URL.createObjectURL(L);try{B=new Worker(D),x=!0}catch{x=!1}return B&&B.terminate(),URL.revokeObjectURL(D),x}()?function(){var x=document.createElement("canvas");x.width=x.height=1;var B=x.getContext("2d");if(!B)return!1;var L=B.getImageData(0,0,1,1);return L&&L.width===x.width}()?(v[g=d&&d.failIfMajorPerformanceCaveat]===void 0&&(v[g]=function(x){var B,L=function(D){var $=document.createElement("canvas"),Y=Object.create(m.webGLContextAttributes);return Y.failIfMajorPerformanceCaveat=D,$.getContext("webgl2",Y)}(x);if(!L)return!1;try{B=L.createShader(L.VERTEX_SHADER)}catch{return!1}return!(!B||L.isContextLost())&&(L.shaderSource(B,"void main() {}"),L.compileShader(B),L.getShaderParameter(B,L.COMPILE_STATUS)===!0)}(g)),v[g]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL2 support"):"insufficient Canvas/getImageData support":"insufficient worker support";var g}(w)}var v={};function y(w,d,g){const x=document.createElement(w);return d!=null&&(x.className=d),g&&g.appendChild(x),x}function T(w,d,g){const x=document.createElementNS("http://www.w3.org/2000/svg",w);for(const B of Object.keys(d))x.setAttributeNS(null,B,String(d[B]));return g&&g.appendChild(x),x}m.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const C=typeof document<"u"?document.documentElement&&document.documentElement.style:null,k=C&&C.userSelect!==void 0?"userSelect":"WebkitUserSelect";let M;function P(){C&&k&&(M=C[k],C[k]="none")}function R(){C&&k&&(C[k]=M)}function N(w){w.preventDefault(),w.stopPropagation(),window.removeEventListener("click",N,!0)}function z(){window.addEventListener("click",N,!0),window.setTimeout(()=>{window.removeEventListener("click",N,!0)},0)}function H(w,d){const g=w.getBoundingClientRect();return G(w,g,d)}function j(w,d){const g=w.getBoundingClientRect(),x=[];for(let B=0;B<d.length;B++)x.push(G(w,g,d[B]));return x}function Q(w){return window.InstallTrigger!==void 0&&w.button===2&&w.ctrlKey&&window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:w.button}function G(w,d,g){const x=w.offsetWidth===d.width?1:w.offsetWidth/d.width;return new a.P((g.clientX-d.left)*x,(g.clientY-d.top)*x)}class ie{constructor(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSourceCaches={},this._updatedPaintProps=new Set,this._updatedImages=new Set}isDirty(){return this._changed}setDirty(){this._changed=!0}getUpdatedSourceCaches(){return this._updatedSourceCaches}updateSourceCache(d,g){this._updatedSourceCaches[d]=g,this.setDirty()}discardSourceCacheUpdate(d){delete this._updatedSourceCaches[d]}updateLayer(d){const g=d.scope;this._updatedLayers[g]=this._updatedLayers[g]||new Set,this._updatedLayers[g].add(d.id),this.setDirty()}removeLayer(d){const g=d.scope;this._removedLayers[g]=this._removedLayers[g]||{},this._updatedLayers[g]=this._updatedLayers[g]||new Set,this._removedLayers[g][d.id]=d,this._updatedLayers[g].delete(d.id),this._updatedPaintProps.delete(d.fqid),this.setDirty()}getRemovedLayer(d){return this._removedLayers[d.scope]?this._removedLayers[d.scope][d.id]:null}discardLayerRemoval(d){this._removedLayers[d.scope]&&delete this._removedLayers[d.scope][d.id]}getLayerUpdatesByScope(){const d={};for(const g in this._updatedLayers)d[g]=d[g]||{},d[g].updatedIds=Array.from(this._updatedLayers[g].values());for(const g in this._removedLayers)d[g]=d[g]||{},d[g].removedIds=Object.keys(this._removedLayers[g]);return d}getUpdatedPaintProperties(){return this._updatedPaintProps}updatePaintProperties(d){this._updatedPaintProps.add(d.fqid),this.setDirty()}getUpdatedImages(){return Array.from(this._updatedImages.values())}updateImage(d){this._updatedImages.add(d),this.setDirty()}resetUpdatedImages(){this._updatedImages.clear()}reset(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSourceCaches={},this._updatedPaintProps.clear(),this._updatedImages.clear()}}class q extends a.E{constructor(d){super(),this.requestManager=d,this.models={"":{}},this.numModelsLoading={}}loadModel(d,g){return a.l(this.requestManager.transformRequest(g,a.R.Model).url).then(x=>{if(!x)return;const B=a.c(x),L=new a.M(d,void 0,void 0,B);return L.computeBoundsAndApplyParent(),L}).catch(x=>{this.fire(new a.a(new Error(`Could not load model ${d} from ${g}: ${x.message}`)))})}load(d,g){this.models[g]||(this.models[g]={});const x=Object.keys(d);this.numModelsLoading[g]=(this.numModelsLoading[g]||0)+x.length;const B=[];for(const L of x)B.push(this.loadModel(L,d[L]));Promise.allSettled(B).then(L=>{for(let D=0;D<L.length;D++){const{status:$,value:Y}=L[D];$==="fulfilled"&&Y&&(this.models[g][x[D]]=Y)}this.numModelsLoading[g]-=x.length,this.fire(new a.b("data",{dataType:"style"}))}).catch(L=>{this.fire(new a.a(new Error(`Could not load models: ${L.message}`)))})}isLoaded(){for(const d in this.numModelsLoading)if(this.numModelsLoading[d]>0)return!1;return!0}hasModel(d,g){return!!this.getModel(d,g)}getModel(d,g){return this.models[g]||(this.models[g]={}),this.models[g][d]}addModel(d,g,x){this.models[x]||(this.models[x]={}),this.hasModel(d,x)&&this.removeModel(d,x),this.load({[d]:this.requestManager.normalizeModelURL(g)},x)}addModels(d,g){const x={};for(const B in d)x[B]=this.requestManager.normalizeModelURL(d[B]);this.load(x,g)}removeModel(d,g){this.models[g]||(this.models[g]={});const x=this.models[g][d];delete this.models[g][d],x.destroy()}listModels(d){return this.models[d]||(this.models[d]={}),Object.keys(this.models[d])}upload(d,g){this.models[g]||(this.models[g]={});for(const x in this.models[g])this.models[g][x].upload(d.context)}}class W{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(d,g,x){const B=String(g);if(this.stateChanges[d]=this.stateChanges[d]||{},this.stateChanges[d][B]=this.stateChanges[d][B]||{},a.e(this.stateChanges[d][B],x),this.deletedStates[d]===null){this.deletedStates[d]={};for(const L in this.state[d])L!==B&&(this.deletedStates[d][L]=null)}else if(this.deletedStates[d]&&this.deletedStates[d][B]===null){this.deletedStates[d][B]={};for(const L in this.state[d][B])x[L]||(this.deletedStates[d][B][L]=null)}else for(const L in x)this.deletedStates[d]&&this.deletedStates[d][B]&&this.deletedStates[d][B][L]===null&&delete this.deletedStates[d][B][L]}removeFeatureState(d,g,x){if(this.deletedStates[d]===null)return;const B=String(g);if(this.deletedStates[d]=this.deletedStates[d]||{},x&&g!==void 0)this.deletedStates[d][B]!==null&&(this.deletedStates[d][B]=this.deletedStates[d][B]||{},this.deletedStates[d][B][x]=null);else if(g!==void 0)if(this.stateChanges[d]&&this.stateChanges[d][B])for(x in this.deletedStates[d][B]={},this.stateChanges[d][B])this.deletedStates[d][B][x]=null;else this.deletedStates[d][B]=null;else this.deletedStates[d]=null}getState(d,g){const x=String(g),B=a.e({},(this.state[d]||{})[x],(this.stateChanges[d]||{})[x]);if(this.deletedStates[d]===null)return{};if(this.deletedStates[d]){const L=this.deletedStates[d][g];if(L===null)return{};for(const D in L)delete B[D]}return B}initializeTileState(d,g){d.setFeatureState(this.state,g)}coalesceChanges(d,g){const x={};for(const B in this.stateChanges){this.state[B]=this.state[B]||{};const L={};for(const D in this.stateChanges[B])this.state[B][D]||(this.state[B][D]={}),a.e(this.state[B][D],this.stateChanges[B][D]),L[D]=this.state[B][D];x[B]=L}for(const B in this.deletedStates){this.state[B]=this.state[B]||{};const L={};if(this.deletedStates[B]===null)for(const D in this.state[B])L[D]={},this.state[B][D]={};else for(const D in this.deletedStates[B]){if(this.deletedStates[B][D]===null)this.state[B][D]={};else if(this.state[B][D])for(const $ of Object.keys(this.deletedStates[B][D]))delete this.state[B][D][$];L[D]=this.state[B][D]}x[B]=x[B]||{},a.e(x[B],L)}if(this.stateChanges={},this.deletedStates={},Object.keys(x).length!==0)for(const B in d)d[B].setFeatureState(x,g)}}function ee(w){const{userImage:d}=w;return!!(d&&d.render&&d.render())&&(w.data.replace(new Uint8Array(d.data.buffer)),!0)}class he extends a.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded={},this.requestors=[],this.patterns={},this.atlasImage={},this.atlasTexture={},this.dirty=!0}createScope(d){this.images[d]={},this.loaded[d]=!1,this.updatedImages[d]={},this.patterns[d]={},this.callbackDispatchedThisFrame[d]={},this.atlasImage[d]=new a.h({width:1,height:1})}isLoaded(){for(const d in this.loaded)if(!this.loaded[d])return!1;return!0}setLoaded(d,g){if(this.loaded[g]!==d&&(this.loaded[g]=d,d)){for(const{ids:x,callback:B}of this.requestors)this._notify(x,g,B);this.requestors=[]}}hasImage(d,g){return!!this.getImage(d,g)}getImage(d,g){return this.images[g][d]}addImage(d,g,x){this._validate(d,x)&&(this.images[g][d]=x)}_validate(d,g){let x=!0;return this._validateStretch(g.stretchX,g.data&&g.data.width)||(this.fire(new a.a(new Error(`Image "${d}" has invalid "stretchX" value`))),x=!1),this._validateStretch(g.stretchY,g.data&&g.data.height)||(this.fire(new a.a(new Error(`Image "${d}" has invalid "stretchY" value`))),x=!1),this._validateContent(g.content,g)||(this.fire(new a.a(new Error(`Image "${d}" has invalid "content" value`))),x=!1),x}_validateStretch(d,g){if(!d)return!0;let x=0;for(const B of d){if(B[0]<x||B[1]<B[0]||g<B[1])return!1;x=B[1]}return!0}_validateContent(d,g){return!(d&&(d.length!==4||d[0]<0||g.data.width<d[0]||d[1]<0||g.data.height<d[1]||d[2]<0||g.data.width<d[2]||d[3]<0||g.data.height<d[3]||d[2]<d[0]||d[3]<d[1]))}updateImage(d,g,x){x.version=this.images[g][d].version+1,this.images[g][d]=x,this.updatedImages[g][d]=!0}removeImage(d,g){const x=this.images[g][d];delete this.images[g][d],delete this.patterns[g][d],x.userImage&&x.userImage.onRemove&&x.userImage.onRemove()}listImages(d){return Object.keys(this.images[d])}getImages(d,g,x){let B=!0;const L=!!this.loaded[g];if(!L)for(const D of d)this.images[g][D]||(B=!1);L||B?this._notify(d,g,x):this.requestors.push({ids:d,scope:g,callback:x})}getUpdatedImages(d){return this.updatedImages[d]}_notify(d,g,x){const B={};for(const L of d){this.images[g][L]||this.fire(new a.b("styleimagemissing",{id:L}));const D=this.images[g][L];D?B[L]={data:D.data.clone(),pixelRatio:D.pixelRatio,sdf:D.sdf,version:D.version,stretchX:D.stretchX,stretchY:D.stretchY,content:D.content,hasRenderCallback:!!(D.userImage&&D.userImage.render)}:a.w(`Image "${L}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}x(null,B)}getPixelSize(d){const{width:g,height:x}=this.atlasImage[d];return{width:g,height:x}}getPattern(d,g){const x=this.patterns[g][d],B=this.getImage(d,g);if(!B)return null;if(x&&x.position.version===B.version)return x.position;if(x)x.position.version=B.version;else{const L={w:B.data.width+2,h:B.data.height+2,x:0,y:0},D=new a.I(L,B);this.patterns[g][d]={bin:L,position:D}}return this._updatePatternAtlas(g),this.patterns[g][d].position}bind(d,g){const x=d.gl;let B=this.atlasTexture[g];B?this.dirty&&(B.update(this.atlasImage[g]),this.dirty=!1):(B=new a.T(d,this.atlasImage[g],x.RGBA),this.atlasTexture[g]=B),B.bind(x.LINEAR,x.CLAMP_TO_EDGE)}_updatePatternAtlas(d){const g=[];for(const D in this.patterns[d])g.push(this.patterns[d][D].bin);const{w:x,h:B}=a.p(g),L=this.atlasImage[d];L.resize({width:x||1,height:B||1});for(const D in this.patterns[d]){const{bin:$}=this.patterns[d][D],Y=$.x+1,ae=$.y+1,de=this.images[d][D].data,Ae=de.width,Ce=de.height;a.h.copy(de,L,{x:0,y:0},{x:Y,y:ae},{width:Ae,height:Ce}),a.h.copy(de,L,{x:0,y:Ce-1},{x:Y,y:ae-1},{width:Ae,height:1}),a.h.copy(de,L,{x:0,y:0},{x:Y,y:ae+Ce},{width:Ae,height:1}),a.h.copy(de,L,{x:Ae-1,y:0},{x:Y-1,y:ae},{width:1,height:Ce}),a.h.copy(de,L,{x:0,y:0},{x:Y+Ae,y:ae},{width:1,height:Ce})}this.dirty=!0}beginFrame(){for(const d in this.images)this.callbackDispatchedThisFrame[d]={}}dispatchRenderCallbacks(d,g){for(const x of d){if(this.callbackDispatchedThisFrame[g][x])continue;this.callbackDispatchedThisFrame[g][x]=!0;const B=this.images[g][x];ee(B)&&this.updateImage(x,g,B)}}}class J{constructor(d,g,x,B){this.message=(d?`${d}: `:"")+x,B&&(this.identifier=B),g!=null&&g.__line__&&(this.line=g.__line__)}}class te extends J{}function ne(w){const d=w.key,g=w.value,x=w.valueSpec||{},B=w.objectElementValidators||{},L=w.style,D=w.styleSpec;let $=[];const Y=a.i(g);if(Y!=="object")return[new J(d,g,`object expected, ${Y} found`)];for(const ae in g){const de=ae.split(".")[0];let Ae;B[de]?Ae=B[de]:x[de]?Ae=Et:B["*"]?Ae=B["*"]:x["*"]&&(Ae=Et),Ae?$=$.concat(Ae({key:(d&&`${d}.`)+ae,value:g[ae],valueSpec:x[de]||x["*"],style:L,styleSpec:D,object:g,objectKey:ae},g)):$.push(new te(d,g[ae],`unknown property "${ae}"`))}for(const ae in x)B[ae]||x[ae].required&&x[ae].default===void 0&&g[ae]===void 0&&$.push(new J(d,g,`missing required property "${ae}"`));return $}function ce(w){const d=w.value,g=w.valueSpec,x=w.style,B=w.styleSpec,L=w.key,D=w.arrayElementValidator||Et;if(a.i(d)!=="array")return[new J(L,d,`array expected, ${a.i(d)} found`)];if(g.length&&d.length!==g.length)return[new J(L,d,`array length ${g.length} expected, length ${d.length} found`)];if(g["min-length"]&&d.length<g["min-length"])return[new J(L,d,`array length at least ${g["min-length"]} expected, length ${d.length} found`)];let $={type:g.value,values:g.values,minimum:g.minimum,maximum:g.maximum,function:void 0};B.$version<7&&($.function=g.function),a.i(g.value)==="object"&&($=g.value);let Y=[];for(let ae=0;ae<d.length;ae++)Y=Y.concat(D({array:d,arrayIndex:ae,value:d[ae],valueSpec:$,style:x,styleSpec:B,key:`${L}[${ae}]`},!0));return Y}function ue(w){const d=w.key,g=w.value,x=w.valueSpec;let B=a.i(g);if(B==="number"&&g!=g&&(B="NaN"),B!=="number")return[new J(d,g,`number expected, ${B} found`)];if("minimum"in x){let L=x.minimum;if(a.i(x.minimum)==="array"&&(L=x.minimum[w.arrayIndex]),g<L)return[new J(d,g,`${g} is less than the minimum value ${L}`)]}if("maximum"in x){let L=x.maximum;if(a.i(x.maximum)==="array"&&(L=x.maximum[w.arrayIndex]),g>L)return[new J(d,g,`${g} is greater than the maximum value ${L}`)]}return[]}function ye(w){const d=w.valueSpec,g=a.u(w.value.type);let x,B,L,D={};const $=g!=="categorical"&&w.value.property===void 0,Y=!$,ae=a.i(w.value.stops)==="array"&&a.i(w.value.stops[0])==="array"&&a.i(w.value.stops[0][0])==="object",de=ne({key:w.key,value:w.value,valueSpec:w.styleSpec.function,style:w.style,styleSpec:w.styleSpec,objectElementValidators:{stops:function(Me){if(g==="identity")return[new J(Me.key,Me.value,'identity function may not have a "stops" property')];let He=[];const $e=Me.value;return He=He.concat(ce({key:Me.key,value:$e,valueSpec:Me.valueSpec,style:Me.style,styleSpec:Me.styleSpec,arrayElementValidator:Ae})),a.i($e)==="array"&&$e.length===0&&He.push(new J(Me.key,$e,"array must have at least one stop")),He},default:function(Me){return Et({key:Me.key,value:Me.value,valueSpec:d,style:Me.style,styleSpec:Me.styleSpec})}}});return g==="identity"&&$&&de.push(new J(w.key,w.value,'missing required property "property"')),g==="identity"||w.value.stops||de.push(new J(w.key,w.value,'missing required property "stops"')),g==="exponential"&&w.valueSpec.expression&&!a.s(w.valueSpec)&&de.push(new J(w.key,w.value,"exponential functions not supported")),w.styleSpec.$version>=8&&(Y&&!a.k(w.valueSpec)?de.push(new J(w.key,w.value,"property functions not supported")):$&&!a.m(w.valueSpec)&&de.push(new J(w.key,w.value,"zoom functions not supported"))),g!=="categorical"&&!ae||w.value.property!==void 0||de.push(new J(w.key,w.value,'"property" property is required')),de;function Ae(Me){let He=[];const $e=Me.value,Ke=Me.key;if(a.i($e)!=="array")return[new J(Ke,$e,`array expected, ${a.i($e)} found`)];if($e.length!==2)return[new J(Ke,$e,`array length 2 expected, length ${$e.length} found`)];if(ae){if(a.i($e[0])!=="object")return[new J(Ke,$e,`object expected, ${a.i($e[0])} found`)];if($e[0].zoom===void 0)return[new J(Ke,$e,"object stop key must have zoom")];if($e[0].value===void 0)return[new J(Ke,$e,"object stop key must have value")];const Pe=a.u($e[0].zoom);if(typeof Pe!="number")return[new J(Ke,$e[0].zoom,"stop zoom values must be numbers")];if(L&&L>Pe)return[new J(Ke,$e[0].zoom,"stop zoom values must appear in ascending order")];Pe!==L&&(L=Pe,B=void 0,D={}),He=He.concat(ne({key:`${Ke}[0]`,value:$e[0],valueSpec:{zoom:{}},style:Me.style,styleSpec:Me.styleSpec,objectElementValidators:{zoom:ue,value:Ce}}))}else He=He.concat(Ce({key:`${Ke}[0]`,value:$e[0],valueSpec:{},style:Me.style,styleSpec:Me.styleSpec},$e));return a.n(a.o($e[1]))?He.concat([new J(`${Ke}[1]`,$e[1],"expressions are not allowed in function stops.")]):He.concat(Et({key:`${Ke}[1]`,value:$e[1],valueSpec:d,style:Me.style,styleSpec:Me.styleSpec}))}function Ce(Me,He){const $e=a.i(Me.value),Ke=a.u(Me.value),Pe=Me.value!==null?Me.value:He;if(x){if($e!==x)return[new J(Me.key,Pe,`${$e} stop domain type must match previous stop domain type ${x}`)]}else x=$e;if($e!=="number"&&$e!=="string"&&$e!=="boolean"&&typeof Ke!="number"&&typeof Ke!="string"&&typeof Ke!="boolean")return[new J(Me.key,Pe,"stop domain value must be a number, string, or boolean")];if($e!=="number"&&g!=="categorical"){let Ze=`number expected, ${$e} found`;return a.k(d)&&g===void 0&&(Ze+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new J(Me.key,Pe,Ze)]}return g!=="categorical"||$e!=="number"||typeof Ke=="number"&&isFinite(Ke)&&Math.floor(Ke)===Ke?g!=="categorical"&&$e==="number"&&typeof Ke=="number"&&typeof B=="number"&&B!==void 0&&Ke<B?[new J(Me.key,Pe,"stop domain values must appear in ascending order")]:(B=Ke,g==="categorical"&&Ke in D?[new J(Me.key,Pe,"stop domain values must be unique")]:(D[Ke]=!0,[])):[new J(Me.key,Pe,`integer expected, found ${String(Ke)}`)]}}function Ee(w){const d=(w.expressionContext==="property"?a.q:a.r)(a.o(w.value),w.valueSpec);if(d.result==="error")return d.value.map(x=>new J(`${w.key}${x.key}`,w.value,x.message));const g=d.value.expression||d.value._styleExpression.expression;if(w.expressionContext==="property"&&w.propertyKey==="text-font"&&!g.outputDefined())return[new J(w.key,w.value,`Invalid data expression for "${w.propertyKey}". Output values must be contained as literals within the expression.`)];if(w.expressionContext==="property"&&w.propertyType==="layout"&&!a.t(g))return[new J(w.key,w.value,'"feature-state" data expressions are not supported with layout properties.')];if(w.expressionContext==="filter")return se(g,w);if(w.expressionContext&&w.expressionContext.indexOf("cluster")===0){if(!a.v(g,["zoom","feature-state"]))return[new J(w.key,w.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(w.expressionContext==="cluster-initial"&&!a.x(g))return[new J(w.key,w.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function se(w,d){const g=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(d.valueSpec&&d.valueSpec.expression)for(const B of d.valueSpec.expression.parameters)g.delete(B);if(g.size===0)return[];const x=[];return w instanceof a.C&&g.has(w.name)?[new J(d.key,d.value,`["${w.name}"] expression is not supported in a filter for a ${d.object.type} layer with id: ${d.object.id}`)]:(w.eachChild(B=>{x.push(...se(B,d))}),x)}function oe(w){const d=w.key,g=w.value,x=w.valueSpec,B=[];return Array.isArray(x.values)?x.values.indexOf(a.u(g))===-1&&B.push(new J(d,g,`expected one of [${x.values.join(", ")}], ${JSON.stringify(g)} found`)):Object.keys(x.values).indexOf(a.u(g))===-1&&B.push(new J(d,g,`expected one of [${Object.keys(x.values).join(", ")}], ${JSON.stringify(g)} found`)),B}function _e(w){return a.z(a.o(w.value))?Ee(a.j({},w,{expressionContext:"filter",valueSpec:w.styleSpec[`filter_${w.layerType||"fill"}`]})):Ue(w)}function Ue(w){const d=w.value,g=w.key;if(a.i(d)!=="array")return[new J(g,d,`array expected, ${a.i(d)} found`)];const x=w.styleSpec;let B,L=[];if(d.length<1)return[new J(g,d,"filter array must have at least 1 element")];switch(L=L.concat(oe({key:`${g}[0]`,value:d[0],valueSpec:x.filter_operator,style:w.style,styleSpec:w.styleSpec})),a.u(d[0])){case"<":case"<=":case">":case">=":d.length>=2&&a.u(d[1])==="$type"&&L.push(new J(g,d,`"$type" cannot be use with operator "${d[0]}"`));case"==":case"!=":d.length!==3&&L.push(new J(g,d,`filter array for operator "${d[0]}" must have 3 elements`));case"in":case"!in":d.length>=2&&(B=a.i(d[1]),B!=="string"&&L.push(new J(`${g}[1]`,d[1],`string expected, ${B} found`)));for(let D=2;D<d.length;D++)B=a.i(d[D]),a.u(d[1])==="$type"?L=L.concat(oe({key:`${g}[${D}]`,value:d[D],valueSpec:x.geometry_type,style:w.style,styleSpec:w.styleSpec})):B!=="string"&&B!=="number"&&B!=="boolean"&&L.push(new J(`${g}[${D}]`,d[D],`string, number, or boolean expected, ${B} found`));break;case"any":case"all":case"none":for(let D=1;D<d.length;D++)L=L.concat(Ue({key:`${g}[${D}]`,value:d[D],style:w.style,styleSpec:w.styleSpec}));break;case"has":case"!has":B=a.i(d[1]),d.length!==2?L.push(new J(g,d,`filter array for "${d[0]}" operator must have 2 elements`)):B!=="string"&&L.push(new J(`${g}[1]`,d[1],`string expected, ${B} found`))}return L}function Le(w,d){const g=w.key,x=w.style,B=w.layer,L=w.styleSpec,D=w.value,$=w.objectKey,Y=L[`${d}_${w.layerType}`];if(!Y)return[];const ae=$.match(/^(.*)-transition$/);if(d==="paint"&&ae&&Y[ae[1]]&&Y[ae[1]].transition)return Et({key:g,value:D,valueSpec:L.transition,style:x,styleSpec:L});const de=w.valueSpec||Y[$];if(!de)return[new te(g,D,`unknown property "${$}"`)];let Ae;if(a.i(D)==="string"&&a.k(de)&&!de.tokens&&(Ae=/^{([^}]+)}$/.exec(D))){const Me=`\`{ "type": "identity", "property": ${Ae?JSON.stringify(Ae[1]):'"_"'} }\``;return[new J(g,D,`"${$}" does not support interpolation syntax
Use an identity property function instead: ${Me}.`)]}const Ce=[];if(w.layerType==="symbol")$!=="text-field"||!x||x.glyphs||x.imports||Ce.push(new J(g,D,'use of "text-field" requires a style "glyphs" property')),$==="text-font"&&a.A(a.o(D))&&a.u(D.type)==="identity"&&Ce.push(new J(g,D,'"text-font" does not support identity functions'));else if(w.layerType==="model"&&d==="paint"&&B&&B.layout&&B.layout.hasOwnProperty("model-id")&&a.k(de)&&(a.B(de)||a.m(de))){const Me=a.q(a.o(D),de),He=Me.value.expression||Me.value._styleExpression.expression;He&&!a.v(He,["measure-light"])&&($==="model-emissive-strength"&&a.x(He)&&a.t(He)||Ce.push(new J(g,D,`${$} does not support measure-light expressions when the model layer source is vector tile or GeoJSON.`)))}return Ce.concat(Et({key:w.key,value:D,valueSpec:de,style:x,styleSpec:L,expressionContext:"property",propertyType:d,propertyKey:$}))}function be(w){return Le(w,"paint")}function Re(w){return Le(w,"layout")}function Qe(w){let d=[];const g=w.value,x=w.key,B=w.style,L=w.styleSpec;g.type||g.ref||d.push(new J(x,g,'either "type" or "ref" is required'));let D=a.u(g.type);const $=a.u(g.ref);if(g.id){const Y=a.u(g.id);for(let ae=0;ae<w.arrayIndex;ae++){const de=B.layers[ae];a.u(de.id)===Y&&d.push(new J(x,g.id,`duplicate layer id "${g.id}", previously used at line ${de.id.__line__}`))}}if("ref"in g){let Y;["type","source","source-layer","filter","layout"].forEach(ae=>{ae in g&&d.push(new J(x,g[ae],`"${ae}" is prohibited for ref layers`))}),B.layers.forEach(ae=>{a.u(ae.id)===$&&(Y=ae)}),Y?Y.ref?d.push(new J(x,g.ref,"ref cannot reference another ref layer")):D=a.u(Y.type):typeof $=="string"&&d.push(new J(x,g.ref,`ref layer "${$}" not found`))}else if(D!=="background"&&D!=="sky"&&D!=="slot")if(g.source){const Y=B.sources&&B.sources[g.source],ae=Y&&a.u(Y.type);Y?ae==="vector"&&D==="raster"?d.push(new J(x,g.source,`layer "${g.id}" requires a raster source`)):ae==="raster"&&D!=="raster"?d.push(new J(x,g.source,`layer "${g.id}" requires a vector source`)):ae!=="vector"||g["source-layer"]?ae==="raster-dem"&&D!=="hillshade"?d.push(new J(x,g.source,"raster-dem source can only be used with layer type 'hillshade'.")):ae!=="raster-array"||["raster","raster-particle"].includes(D)?D!=="line"||!g.paint||!g.paint["line-gradient"]&&!g.paint["line-trim-offset"]||ae==="geojson"&&Y.lineMetrics?D==="raster-particle"&&ae!=="raster-array"&&d.push(new J(x,g.source,`layer "${g.id}" requires a 'raster-array' source.`)):d.push(new J(x,g,`layer "${g.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):d.push(new J(x,g.source,"raster-array source can only be used with layer type 'raster'.")):d.push(new J(x,g,`layer "${g.id}" must specify a "source-layer"`)):d.push(new J(x,g.source,`source "${g.source}" not found`))}else d.push(new J(x,g,'missing required property "source"'));return d=d.concat(ne({key:x,value:g,valueSpec:L.layer,style:w.style,styleSpec:w.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Et({key:`${x}.type`,value:g.type,valueSpec:L.layer.type,style:w.style,styleSpec:w.styleSpec,object:g,objectKey:"type"}),filter:Y=>_e(a.j({layerType:D},Y)),layout:Y=>ne({layer:g,key:Y.key,value:Y.value,valueSpec:{},style:Y.style,styleSpec:Y.styleSpec,objectElementValidators:{"*":ae=>Re(a.j({layerType:D},ae))}}),paint:Y=>ne({layer:g,key:Y.key,value:Y.value,valueSpec:{},style:Y.style,styleSpec:Y.styleSpec,objectElementValidators:{"*":ae=>be(a.j({layerType:D,layer:g},ae))}})}})),d}function Je(w){const d=w.value,g=w.key,x=a.i(d);return x!=="string"?[new J(g,d,`string expected, ${x} found`)]:[]}const nt={promoteId:function({key:w,value:d}){if(a.i(d)==="string")return Je({key:w,value:d});{const g=[];for(const x in d)g.push(...Je({key:`${w}.${x}`,value:d[x]}));return g}}};function Ve(w){const d=w.value,g=w.key,x=w.styleSpec,B=w.style;if(!d.type)return[new J(g,d,'"type" is required')];const L=a.u(d.type);let D=[];switch(["vector","raster","raster-dem","raster-array"].includes(L)&&(d.url||d.tiles||D.push(new te(g,d,'Either "url" or "tiles" is required.'))),L){case"vector":case"raster":case"raster-dem":case"raster-array":return D=D.concat(ne({key:g,value:d,valueSpec:x[`source_${L.replace("-","_")}`],style:w.style,styleSpec:x,objectElementValidators:nt})),D;case"geojson":if(D=ne({key:g,value:d,valueSpec:x.source_geojson,style:B,styleSpec:x,objectElementValidators:nt}),d.cluster)for(const $ in d.clusterProperties){const[Y,ae]=d.clusterProperties[$],de=typeof Y=="string"?[Y,["accumulated"],["get",$]]:Y;D.push(...Ee({key:`${g}.${$}.map`,value:ae,expressionContext:"cluster-map"})),D.push(...Ee({key:`${g}.${$}.reduce`,value:de,expressionContext:"cluster-reduce"}))}return D;case"video":return ne({key:g,value:d,valueSpec:x.source_video,style:B,styleSpec:x});case"image":return ne({key:g,value:d,valueSpec:x.source_image,style:B,styleSpec:x});case"canvas":return[new J(g,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return oe({key:`${g}.type`,value:d.type,valueSpec:{values:ke(x)},style:B,styleSpec:x})}}function ke(w){return w.source.reduce((d,g)=>{const x=w[g];return x.type.type==="enum"&&(d=d.concat(Object.keys(x.type.values))),d},[])}function Ge(w){const d=w.value;let g=[];if(!d)return g;const x=a.i(d);return x!=="string"?(g=g.concat([new J(w.key,d,`string expected, "${x}" found`)]),g):(function(B){const L=B.indexOf("://")===-1;try{return new URL(B,L?"http://example.com":void 0),!0}catch{return!1}}(d)||(g=g.concat([new J(w.key,d,`invalid url "${d}"`)])),g)}function Ne(w){const d=w.value,g=w.styleSpec,x=g.light,B=w.style;let L=[];const D=a.i(d);if(d===void 0)return L;if(D!=="object")return L=L.concat([new J("light",d,`object expected, ${D} found`)]),L;for(const $ in d){const Y=$.match(/^(.*)-transition$/);L=L.concat(Y&&x[Y[1]]&&x[Y[1]].transition?Et({key:$,value:d[$],valueSpec:g.transition,style:B,styleSpec:g}):x[$]?Et({key:$,value:d[$],valueSpec:x[$],style:B,styleSpec:g}):[new J($,d[$],`unknown property "${$}"`)])}return L}function je(w){const d=w.value;let g=[];if(!d)return g;const x=a.i(d);if(x!=="object")return g=g.concat([new J("light-3d",d,`object expected, ${x} found`)]),g;const B=w.styleSpec,L=B["light-3d"],D=w.key,$=w.style,Y=w.style.lights;for(const Ae of["type","id"])if(!(Ae in d))return g=g.concat([new J("light-3d",d,`missing property ${Ae} on light`)]),g;if(d.type&&Y)for(let Ae=0;Ae<w.arrayIndex;Ae++){const Ce=a.u(d.type),Me=Y[Ae];a.u(Me.type)===Ce&&g.push(new J(D,d.id,`duplicate light type "${d.type}", previously defined at line ${Me.id.__line__}`))}const ae=`properties_light_${d.type}`;if(!(ae in B))return g=g.concat([new J("light-3d",d,`Invalid light type ${d.type}`)]),g;const de=B[ae];for(const Ae in d)if(Ae==="properties"){const Ce=d[Ae],Me=a.i(Ce);if(Me!=="object")return g=g.concat([new J("properties",Ce,`object expected, ${Me} found`)]),g;for(const He in Ce)g=g.concat(de[He]?Et({key:He,value:Ce[He],valueSpec:de[He],style:$,styleSpec:B}):[new te(w.key,Ce[He],`unknown property "${He}"`)])}else{const Ce=Ae.match(/^(.*)-transition$/);g=g.concat(Ce&&L[Ce[1]]&&L[Ce[1]].transition?Et({key:Ae,value:d[Ae],valueSpec:B.transition,style:$,styleSpec:B}):L[Ae]?Et({key:Ae,value:d[Ae],valueSpec:L[Ae],style:$,styleSpec:B}):[new te(Ae,d[Ae],`unknown property "${Ae}"`)])}return g}function Ye(w){const d=w.value,g=w.key,x=w.style,B=w.styleSpec,L=B.terrain;let D=[];const $=a.i(d);if(d===void 0||$==="null")return D;if($!=="object")return D=D.concat([new J("terrain",d,`object expected, ${$} found`)]),D;for(const Y in d){const ae=Y.match(/^(.*)-transition$/);D=D.concat(ae&&L[ae[1]]&&L[ae[1]].transition?Et({key:Y,value:d[Y],valueSpec:B.transition,style:x,styleSpec:B}):L[Y]?Et({key:Y,value:d[Y],valueSpec:L[Y],style:x,styleSpec:B}):[new te(Y,d[Y],`unknown property "${Y}"`)])}if(d.source){const Y=x.sources&&x.sources[d.source],ae=Y&&a.u(Y.type);Y?ae!=="raster-dem"&&D.push(new J(g,d.source,`terrain cannot be used with a source of type ${String(ae)}, it only be used with a "raster-dem" source type`)):D.push(new J(g,d.source,`source "${d.source}" not found`))}else D.push(new J(g,d,'terrain is missing required property "source"'));return D}function vt(w){const d=w.value,g=w.style,x=w.styleSpec,B=x.fog;let L=[];const D=a.i(d);if(d===void 0)return L;if(D!=="object")return L=L.concat([new J("fog",d,`object expected, ${D} found`)]),L;for(const $ in d){const Y=$.match(/^(.*)-transition$/);L=L.concat(Y&&B[Y[1]]&&B[Y[1]].transition?Et({key:$,value:d[$],valueSpec:x.transition,style:g,styleSpec:x}):B[$]?Et({key:$,value:d[$],valueSpec:B[$],style:g,styleSpec:x}):[new te($,d[$],`unknown property "${$}"`)])}return L}const Lt={"*":()=>[],array:ce,boolean:function(w){const d=w.value,g=w.key,x=a.i(d);return x!=="boolean"?[new J(g,d,`boolean expected, ${x} found`)]:[]},number:ue,color:function(w){const d=w.key,g=w.value,x=a.i(g);return x!=="string"?[new J(d,g,`color expected, ${x} found`)]:a.y(g)===null?[new J(d,g,`color expected, "${g}" found`)]:[]},enum:oe,filter:_e,function:ye,layer:Qe,object:ne,source:Ve,model:Ge,light:Ne,"light-3d":je,terrain:Ye,fog:vt,string:Je,formatted:function(w){return Je(w).length===0?[]:Ee(w)},resolvedImage:function(w){return Je(w).length===0?[]:Ee(w)},projection:function(w){const d=w.value,g=w.styleSpec,x=g.projection,B=w.style;let L=[];const D=a.i(d);if(D==="object")for(const $ in d)L=L.concat(Et({key:$,value:d[$],valueSpec:x[$],style:B,styleSpec:g}));else D!=="string"&&(L=L.concat([new J("projection",d,`object or string expected, ${D} found`)]));return L},import:function(w){const{value:d,styleSpec:g}=w,{data:x,...B}=d;Object.defineProperty(B,"__line__",{value:d.__line__,enumerable:!1});let L=ne(a.j({},w,{value:B,valueSpec:g.import}));return a.u(B.id)===""&&L.push(new J(`${w.key}.id`,B,"import id can't be an empty string")),x&&(L=L.concat(_t(x,g,{key:`${w.key}.data`}))),L}};function Et(w,d=!1){const g=w.value,x=w.valueSpec,B=w.styleSpec;if(x.expression&&a.A(a.u(g)))return ye(w);if(x.expression&&a.n(a.o(g)))return Ee(w);if(x.type&&Lt[x.type]){const L=Lt[x.type](w);return d===!0&&L.length>0&&a.i(w.value)==="array"?Ee(w):L}return ne(a.j({},w,{valueSpec:x.type?B[x.type]:x}))}function Vt(w){const d=w.value,g=w.key,x=Je(w);return x.length||(d.indexOf("{fontstack}")===-1&&x.push(new J(g,d,'"glyphs" url must include a "{fontstack}" token')),d.indexOf("{range}")===-1&&x.push(new J(g,d,'"glyphs" url must include a "{range}" token'))),x}function _t(w,d=a.D,g={}){return Et({key:g.key||"",value:w,valueSpec:d.$root,styleSpec:d,style:w,objectElementValidators:{glyphs:Vt,"*":()=>[]}})}function qt(w,d=a.D){return it(_t(w,d))}const tn=w=>it(Ve(w)),Nt=w=>it(Ne(w)),wt=w=>it(je(w)),De=w=>it(Ye(w)),We=w=>it(vt(w)),ut=w=>it(Qe(w)),It=w=>it(_e(w)),Xe=w=>it(be(w)),kt=w=>it(Re(w)),Bt=w=>it(Ge(w));function it(w){return w.slice().sort((d,g)=>d.line&&g.line?d.line-g.line:0)}function Mt(w,d){let g=!1;if(d&&d.length)for(const x of d)x instanceof te?a.w(x.message):(w.fire(new a.a(new Error(x.message))),g=!0);return g}const at=new a.F({anchor:new a.G(a.D.light.anchor),position:new a.H(a.D.light.position),color:new a.G(a.D.light.color),intensity:new a.G(a.D.light.intensity)});class et extends a.E{constructor(d,g="flat"){super(),this._transitionable=new a.J(at),this.setLight(d,g),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(d,g,x={}){this._validate(Nt,d,x)||(this._transitionable.setTransitionOrValue(d),this.id=g)}updateTransitions(d){this._transitioning=this._transitionable.transitioned(d,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(d){this.properties=this._transitioning.possiblyEvaluate(d)}_validate(d,g,x){return(!x||x.validate!==!1)&&Mt(this,d.call(qt,a.e({value:g,style:{glyphs:!0,sprite:!0},styleSpec:a.D})))}}const St=new a.F({source:new a.G(a.D.terrain.source),exaggeration:new a.G(a.D.terrain.exaggeration)});let sn=class extends a.E{constructor(w,d,g,x){super(),this.scope=g,this._transitionable=new a.J(St,g,x),this._transitionable.setTransitionOrValue(w,x),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=d}get(){return this._transitionable.serialize()}set(w,d){this._transitionable.setTransitionOrValue(w,d)}updateTransitions(w){this._transitioning=this._transitionable.transitioned(w,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(w){this.properties=this._transitioning.possiblyEvaluate(w)}getExaggeration(w){return this._transitioning.possiblyEvaluate(new a.K(w)).get("exaggeration")}isZoomDependent(){const w=this._transitionable._values.exaggeration;return w!=null&&w.value!=null&&w.value.expression!=null&&w.value.expression instanceof a.Z}};const bn=45,gr=65,tr=.05;function Nn(w,d,g,x){const B=a.O(bn,gr,g),[L,D]=lr(w,x);let $=1-Math.min(1,Math.exp((d-L)/(D-L)*-6));return $*=$*$,$=Math.min(1,1.00747*$),$*B*w.alpha}function lr(w,d){const g=.5/Math.tan(.5*d);return[w.range[0]+g,w.range[1]+g]}function Qr(w,d,g,x,B){const L=a.N.transformMat4([],[d,g,x],B.mercatorFogMatrix);return Nn(w,a.N.length(L),B.pitch,B._fov)}function Ci(w,d,g,x,B,L,D){const $=[[g,x,0],[B,x,0],[B,L,0],[g,L,0]];let Y=Number.MAX_VALUE,ae=-Number.MAX_VALUE;for(const de of $){const Ae=a.N.transformMat4([],de,d),Ce=a.N.length(Ae);Y=Math.min(Y,Ce),ae=Math.max(ae,Ce)}return[Nn(w,Y,D.pitch,D._fov),Nn(w,ae,D.pitch,D._fov)]}const ai=new a.F({range:new a.G(a.D.fog.range),color:new a.G(a.D.fog.color),"high-color":new a.G(a.D.fog["high-color"]),"space-color":new a.G(a.D.fog["space-color"]),"horizon-blend":new a.G(a.D.fog["horizon-blend"]),"star-intensity":new a.G(a.D.fog["star-intensity"]),"vertical-range":new a.G(a.D.fog["vertical-range"])});class Vi extends a.E{constructor(d,g,x,B){super(),this._transitionable=new a.J(ai,x,new Map(B)),this.set(d,B),this._transitioning=this._transitionable.untransitioned(),this._transform=g,this.properties=new a.Q(ai)}get state(){const d=this._transform,g=d.projection.name==="globe",x=a.S(d.zoom),B=this.properties.get("range"),L=[.5,3];return{range:g?[a.U(L[0],B[0],x),a.U(L[1],B[1],x)]:B,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(d,g,x={}){if(this._validate(We,d,x))return;const B=a.e({},d);for(const L of Object.keys(a.D.fog))B[L]===void 0&&(B[L]=a.D.fog[L].default);this._options=B,this._transitionable.setTransitionOrValue(this._options,g)}getOpacity(d){if(!this._transform.projection.supportsFog)return 0;const g=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:a.O(bn,gr,d))*g.a}getOpacityAtLatLng(d,g){return this._transform.projection.supportsFog?function(x,B,L){const D=a.L.fromLngLat(B),$=L.elevation?L.elevation.getAtPointOrZero(D):0;return Qr(x,D.x,D.y,$,L)}(this.state,d,g):0}getOpacityForTile(d){if(!this._transform.projection.supportsFog)return[1,1];const g=this._transform.calculateFogTileMatrix(d.toUnwrapped());return Ci(this.state,g,0,0,a.V,a.V,this._transform)}getOpacityForBounds(d,g,x,B,L){return this._transform.projection.supportsFog?Ci(this.state,d,g,x,B,L,this._transform):[1,1]}getFovAdjustedRange(d){return this._transform.projection.supportsFog?lr(this.state,d):[0,1]}isVisibleOnFrustum(d){if(!this._transform.projection.supportsFog)return!1;const g=[4,5,6,7];for(const x of g){const B=d.points[x];let L;if(B[2]>=0)L=B;else{const D=d.points[x-4];L=a.W(D,B,D[2]/(D[2]-B[2]))}if(Qr(this.state,L[0],L[1],0,this._transform)>=tr)return!0}return!1}updateConfig(d){this._transitionable.setTransitionOrValue(this._options,new Map(d))}updateTransitions(d){this._transitioning=this._transitionable.transitioned(d,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(d){this.properties=this._transitioning.possiblyEvaluate(d)}_validate(d,g,x){return(!x||x.validate!==!1)&&Mt(this,d.call(qt,a.e({value:g,style:{glyphs:!0,sprite:!0},styleSpec:a.D})))}}class va extends a.E{constructor(d,g,x,B){super(),this.scope=x,this._options=d,this.properties=new a.Q(g),this._transitionable=new a.J(g,x,new Map(B)),this._transitionable.setTransitionOrValue(d.properties),this._transitioning=this._transitionable.untransitioned()}updateConfig(d){this._transitionable.setTransitionOrValue(this._options.properties,new Map(d))}updateTransitions(d){this._transitioning=this._transitionable.transitioned(d,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(d){this.properties=this._transitioning.possiblyEvaluate(d)}get(){return this._options.properties=this._transitionable.serialize(),this._options}set(d,g){this._options=d,this._transitionable.setTransitionOrValue(d.properties,g)}shadowsEnabled(){return!!this.properties&&this.properties.get("cast-shadows")===!0}}const Rr=new a.F({color:new a.G(a.D.properties_light_ambient.color),intensity:new a.G(a.D.properties_light_ambient.intensity)}),qi=new a.F({direction:new a.X(a.D.properties_light_directional.direction),color:new a.G(a.D.properties_light_directional.color),intensity:new a.G(a.D.properties_light_directional.intensity),"cast-shadows":new a.G(a.D.properties_light_directional["cast-shadows"]),"shadow-intensity":new a.G(a.D.properties_light_directional["shadow-intensity"])});class Hi{constructor(d,g,x,B){this.screenBounds=d,this.cameraPoint=g,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=x,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,B)}static createFromScreenPoints(d,g){let x,B;if(d instanceof a.P||typeof d[0]=="number"){const L=a.P.convert(d);x=[L],B=g.isPointAboveHorizon(L)}else{const L=a.P.convert(d[0]),D=a.P.convert(d[1]);x=[L,D],B=a.Y(L,D).every($=>g.isPointAboveHorizon($))}return new Hi(x,g.getCameraPoint(),B,g)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(d){return a.Y(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],d)}bufferedCameraGeometry(d){const g=this.screenBounds[0],x=this.screenBounds.length===1?this.screenBounds[0].add(new a.P(1,1)):this.screenBounds[1],B=a.Y(g,x,0,!1);return this.cameraPoint.y>x.y&&(this.cameraPoint.x>g.x&&this.cameraPoint.x<x.x?B.splice(3,0,this.cameraPoint):this.cameraPoint.x>=x.x?B[2]=this.cameraPoint:this.cameraPoint.x<=g.x&&(B[3]=this.cameraPoint)),a._(B,d)}bufferedCameraGeometryGlobe(d){const g=this.screenBounds[0],x=this.screenBounds.length===1?this.screenBounds[0].add(new a.P(1,1)):this.screenBounds[1],B=a.Y(g,x,d),L=this.cameraPoint.clone();switch(3*((L.y>g.y)+(L.y>x.y))+((L.x>g.x)+(L.x>x.x))){case 0:B[0]=L,B[4]=L.clone();break;case 1:B.splice(1,0,L);break;case 2:B[1]=L;break;case 3:B.splice(4,0,L);break;case 5:B.splice(2,0,L);break;case 6:B[3]=L;break;case 7:B.splice(3,0,L);break;case 8:B[2]=L}return B}containsTile(d,g,x,B=0){const L=d.queryPadding/g._pixelsPerMercatorPixel+1,D=x?this._bufferedCameraMercator(L,g):this._bufferedScreenMercator(L,g);let $=d.tileID.wrap+(D.unwrapped?B:0);const Y=D.polygon.map(Ke=>a.$(d.tileTransform,Ke,$));if(!a.a0(Y,0,0,a.V,a.V))return;$=d.tileID.wrap+(this.screenGeometryMercator.unwrapped?B:0);const ae=this.screenGeometryMercator.polygon.map(Ke=>a.a1(d.tileTransform,Ke,$)),de=ae.map(Ke=>new a.P(Ke[0],Ke[1])),Ae=g.getFreeCameraOptions().position||new a.L(0,0,0),Ce=a.a1(d.tileTransform,Ae,$),Me=ae.map(Ke=>{const Pe=a.N.sub(Ke,Ke,Ce);return a.N.normalize(Pe,Pe),new a.a2(Ce,Pe)}),He=a.a3(d,1,g.zoom)*g._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:de,tilespaceRays:Me,bufferedTilespaceGeometry:Y,bufferedTilespaceBounds:($e=a.a4(Y),$e.min.x=a.aa($e.min.x,0,a.V),$e.min.y=a.aa($e.min.y,0,a.V),$e.max.x=a.aa($e.max.x,0,a.V),$e.max.y=a.aa($e.max.y,0,a.V),$e),tile:d,tileID:d.tileID,pixelToTileUnitsFactor:He};var $e}_bufferedScreenMercator(d,g){const x=En(d);if(this._screenRaycastCache[x])return this._screenRaycastCache[x];{let B;return B=g.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(d),g):{polygon:this.bufferedScreenGeometry(d).map(L=>g.pointCoordinate3D(L)),unwrapped:!0},this._screenRaycastCache[x]=B,B}}_bufferedCameraMercator(d,g){const x=En(d);if(this._cameraRaycastCache[x])return this._cameraRaycastCache[x];{let B;return B=g.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(d),g):{polygon:this.bufferedCameraGeometry(d).map(L=>g.pointCoordinate3D(L)),unwrapped:!0},this._cameraRaycastCache[x]=B,B}}_projectAndResample(d,g){const x=function(L,D){const $=a.a6.multiply([],D.pixelMatrix,D.globeMatrix),Y=[0,-a.ab,0,1],ae=[0,a.ab,0,1],de=[0,0,0,1];a.a7.transformMat4(Y,Y,$),a.a7.transformMat4(ae,ae,$),a.a7.transformMat4(de,de,$);const Ae=new a.P(Y[0]/Y[3],Y[1]/Y[3]),Ce=new a.P(ae[0]/ae[3],ae[1]/ae[3]),Me=a.a8(L,Ae)&&Y[3]<de[3],He=a.a8(L,Ce)&&ae[3]<de[3];if(!Me&&!He)return null;const $e=function(mt,Pt,Ot){for(let Qt=1;Qt<mt.length;Qt++){const fn=hn(Pt.pointCoordinate3D(mt[Qt-1]).x),Wt=hn(Pt.pointCoordinate3D(mt[Qt]).x);if(Ot<0){if(fn<Wt)return{idx:Qt,t:-fn/(Wt-1-fn)}}else if(Wt<fn)return{idx:Qt,t:(1-fn)/(Wt+1-fn)}}return null}(L,D,Me?-1:1);if(!$e)return null;const{idx:Ke,t:Pe}=$e;let Ze=Ke>1?Jt(L.slice(0,Ke),D):[],pt=Ke<L.length?Jt(L.slice(Ke),D):[];Ze=Ze.map(mt=>new a.P(hn(mt.x),mt.y)),pt=pt.map(mt=>new a.P(hn(mt.x),mt.y));const st=[...Ze];st.length===0&&st.push(pt[pt.length-1]);const At=a.U(st[st.length-1].y,(pt.length===0?Ze[0]:pt[0]).y,Pe);let qe;return qe=Me?[new a.P(0,At),new a.P(0,0),new a.P(1,0),new a.P(1,At)]:[new a.P(1,At),new a.P(1,1),new a.P(0,1),new a.P(0,At)],st.push(...qe),pt.length===0?st.push(Ze[0]):st.push(...pt),{polygon:st.map(mt=>new a.L(mt.x,mt.y)),unwrapped:!1}}(d,g);if(x)return x;const B=function(L,D){let $=!1,Y=-1/0,ae=0;for(let Ae=0;Ae<L.length-1;Ae++)L[Ae].x>Y&&(Y=L[Ae].x,ae=Ae);for(let Ae=0;Ae<L.length-1;Ae++){const Ce=(ae+Ae)%(L.length-1),Me=L[Ce],He=L[Ce+1];Math.abs(Me.x-He.x)>.5&&(Me.x<He.x?(Me.x+=1,Ce===0&&(L[L.length-1].x+=1)):(He.x+=1,Ce+1===L.length-1&&(L[0].x+=1)),$=!0)}const de=a.a5(D.center.lng);return $&&de<Math.abs(de-1)&&L.forEach(Ae=>{Ae.x-=1}),{polygon:L,unwrapped:$}}(Jt(d,g).map(L=>new a.P(hn(L.x),L.y)),g);return{polygon:B.polygon.map(L=>new a.L(L.x,L.y)),unwrapped:B.unwrapped}}}function Jt(w,d){return a.a9(w,g=>{const x=d.pointCoordinate3D(g);g.x=x.x,g.y=x.y},1/256)}function hn(w){return w<0?1+w%1:w%1}function En(w){return 100*w|0}function Hn(w,d,g,x,B){const L=function(D,$){if(D)return B(D);if($){w.url&&$.tiles&&w.tiles&&delete w.tiles;const Y=a.ac(a.e($,w),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);$.vector_layers&&(Y.vectorLayers=$.vector_layers,Y.vectorLayerIds=Y.vectorLayers.map(ae=>ae.id)),$.raster_layers&&(Y.rasterLayers=$.raster_layers,Y.rasterLayerIds=Y.rasterLayers.map(ae=>ae.id)),Y.tiles=d.canonicalizeTileset(Y,w.url),B(null,Y)}};return w.url?a.g(d.transformRequest(d.normalizeSourceURL(w.url,null,g,x),a.R.Source),L):a.f.frame(()=>L(null,w))}class Ht{constructor(d,g,x){this.bounds=a.ad.convert(this.validateBounds(d)),this.minzoom=g||0,this.maxzoom=x||24}validateBounds(d){return Array.isArray(d)&&d.length===4?[Math.max(-180,d[0]),Math.max(-90,d[1]),Math.min(180,d[2]),Math.min(90,d[3])]:[-180,-90,180,90]}contains(d){const g=Math.pow(2,d.z),x=Math.floor(a.a5(this.bounds.getWest())*g),B=Math.floor(a.ae(this.bounds.getNorth())*g),L=Math.ceil(a.a5(this.bounds.getEast())*g),D=Math.ceil(a.ae(this.bounds.getSouth())*g);return d.x>=x&&d.x<L&&d.y>=B&&d.y<D}}class an extends a.E{constructor(d,g,x,B){if(super(),this.id=d,this.dispatcher=x,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.e(this,a.ac(g,["url","scheme","tileSize","promoteId"])),this._options=a.e({type:"vector"},g),this._collectResourceTiming=!!g.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(B),this._tileWorkers={},this._deduped=new a.af}load(d){this._loaded=!1,this.fire(new a.b("dataloading",{dataType:"source"}));const g=Array.isArray(this.map._language)?this.map._language.join():this.map._language,x=this.map._worldview;this._tileJSONRequest=Hn(this._options,this.map._requestManager,g,x,(B,L)=>{this._tileJSONRequest=null,this._loaded=!0,B?(g&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${g}`),x&&x.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${x}`),this.fire(new a.a(B))):L&&(a.e(this,L),L.bounds&&(this.tileBounds=new Ht(L.bounds,this.minzoom,this.maxzoom)),a.aj(L.tiles,this.map._requestManager._customAccessToken),this.fire(new a.b("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.b("data",{dataType:"source",sourceDataType:"content"}))),d&&d(B)})}loaded(){return this._loaded}hasTile(d){return!this.tileBounds||this.tileBounds.contains(d.canonical)}onAdd(d){this.map=d,this.load()}reload(){this.cancelTileJSONRequest();const d=a.ag(this.id,this.scope);this.load(()=>this.map.style.clearSource(d))}setTiles(d){return this._options.tiles=d,this.reload(),this}setUrl(d){return this.url=d,this._options.url=d,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return a.e({},this._options)}loadTile(d,g){const x=this.map._requestManager.normalizeTileURL(d.tileID.canonical.url(this.tiles,this.scheme)),B={request:this.map._requestManager.transformRequest(x,a.R.Tile),data:void 0,uid:d.uid,tileID:d.tileID,tileZoom:d.tileZoom,zoom:d.tileID.overscaledZ,tileSize:this.tileSize*d.tileID.overscaleFactor(),type:this.type,source:this.id,scope:this.scope,pixelRatio:a.f.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:d.isSymbolTile,brightness:this.map.style&&this.map.style.getBrightness()||0,extraShadowCaster:d.isExtraShadowCaster};if(B.request.collectResourceTiming=this._collectResourceTiming,d.actor&&d.state!=="expired")d.state==="loading"?d.reloadCallback=g:d.request=d.actor.send("reloadTile",B,L.bind(this));else if(d.actor=this._tileWorkers[x]=this._tileWorkers[x]||this.dispatcher.getActor(),this.dispatcher.ready)d.request=d.actor.send("loadTile",B,L.bind(this),void 0,!0);else{const D=a.ah.call({deduped:this._deduped},B,($,Y)=>{$||!Y?L.call(this,$):(B.data={cacheControl:Y.cacheControl,expires:Y.expires,rawData:Y.rawData.slice(0)},d.actor&&d.actor.send("loadTile",B,L.bind(this),void 0,!0))},!0);d.request={cancel:D}}function L(D,$){return delete d.request,d.aborted?g(null):D&&D.status!==404?g(D):($&&$.resourceTiming&&(d.resourceTiming=$.resourceTiming),this.map._refreshExpiredTiles&&$&&d.setExpiryData($),d.loadVectorData($,this.map.painter),a.ai(this.dispatcher),g(null),void(d.reloadCallback&&(this.loadTile(d,d.reloadCallback),d.reloadCallback=null)))}}abortTile(d){d.request&&(d.request.cancel(),delete d.request),d.actor&&d.actor.send("abortTile",{uid:d.uid,type:this.type,source:this.id,scope:this.scope})}unloadTile(d){d.actor&&d.actor.send("removeTile",{uid:d.uid,type:this.type,source:this.id,scope:this.scope}),d.destroy()}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class In extends a.E{constructor(d,g,x,B){super(),this.id=d,this.dispatcher=x,this.setEventedParent(B),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.e({type:"raster"},g),a.e(this,a.ac(g,["url","scheme","tileSize"]))}load(d){this._loaded=!1,this.fire(new a.b("dataloading",{dataType:"source"})),this._tileJSONRequest=Hn(this._options,this.map._requestManager,null,null,(g,x)=>{this._tileJSONRequest=null,this._loaded=!0,g?this.fire(new a.a(g)):x&&(a.e(this,x),x.bounds&&(this.tileBounds=new Ht(x.bounds,this.minzoom,this.maxzoom)),a.aj(x.tiles),this.fire(new a.b("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.b("data",{dataType:"source",sourceDataType:"content"}))),d&&d(g)})}loaded(){return this._loaded}onAdd(d){this.map=d,this.load()}reload(){this.cancelTileJSONRequest();const d=a.ag(this.id,this.scope);this.load(()=>this.map.style.clearSource(d))}setTiles(d){return this._options.tiles=d,this.reload(),this}setUrl(d){return this.url=d,this._options.url=d,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return a.e({},this._options)}hasTile(d){return!this.tileBounds||this.tileBounds.contains(d.canonical)}loadTile(d,g){const x=a.f.devicePixelRatio>=2,B=this.map._requestManager.normalizeTileURL(d.tileID.canonical.url(this.tiles,this.scheme),x,this.tileSize);d.request=a.d(this.map._requestManager.transformRequest(B,a.R.Tile),(L,D,$,Y)=>(delete d.request,d.aborted?(d.state="unloaded",g(null)):L?(d.state="errored",g(L)):D?(this.map._refreshExpiredTiles&&d.setExpiryData({cacheControl:$,expires:Y}),d.setTexture(D,this.map.painter),d.state="loaded",a.ai(this.dispatcher),void g(null)):g(null)))}abortTile(d,g){d.request&&(d.request.cancel(),delete d.request),g()}unloadTile(d,g){d.texture&&d.texture instanceof a.T?(d.destroy(!0),d.texture&&d.texture instanceof a.T&&this.map.painter.saveTileTexture(d.texture)):d.destroy(),g()}hasTransition(){return!1}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class kn extends In{constructor(d,g,x,B){super(d,g,x,B),this.type="raster-array",this.maxzoom=22,this._options=a.e({type:"raster-array"},g)}triggerRepaint(d){const g=this.map.painter._terrain,x=this.map.style.getSourceCache(this.id);g&&g.enabled&&x&&g._clearRenderCacheForTile(x.id,d.tileID),this.map.triggerRepaint()}loadTile(d,g){const x=this.map._requestManager.normalizeTileURL(d.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize),B=this.map._requestManager.transformRequest(x,a.R.Tile);d.requestParams=B,d.actor||(d.actor=this.dispatcher.getActor()),d.request=d.fetchHeader(void 0,(L,D,$,Y)=>{if(delete d.request,d.aborted)return d.state="unloaded",g(null);if(L)return L.code===20?void 0:(d.state="errored",g(L));this.map._refreshExpiredTiles&&d.setExpiryData({cacheControl:$,expires:Y}),d.state="empty",g(null)})}unloadTile(d){const g=d.texture;g&&g instanceof a.T?(d.destroy(!0),this.map.painter.saveTileTexture(g)):(d.destroy(),d.flushQueues(),d._isHeaderLoaded=!1,delete d._mrt,delete d.textureDescriptor),d.fbo&&(d.fbo.destroy(),delete d.fbo),delete d.request,delete d.requestParams,delete d.neighboringTiles,d.state="unloaded"}prepareTile(d,g,x){d._isHeaderLoaded&&(d.state!=="empty"&&(d.state="reloading"),d.fetchBand(g,x,(B,L)=>{if(B)return d.state="errored",this.fire(new a.a(B)),void this.triggerRepaint(d);L&&(d.setTexture(L,this.map.painter),d.state="loaded",this.triggerRepaint(d))}))}getInitialBand(d){if(!this.rasterLayers)return 0;const g=this.rasterLayers.find(({id:L})=>L===d),x=g&&g.fields,B=x&&x.bands&&x.bands;return B?B[0]:0}getTextureDescriptor(d,g,x){if(!d)return;const B=g.sourceLayer||this.rasterLayerIds&&this.rasterLayerIds[0];if(!B)return;let L=null;g instanceof a.an?L=g.paint.get("raster-array-band"):g instanceof a.ao&&(L=g.paint.get("raster-particle-array-band"));const D=L||this.getInitialBand(B);if(D!=null)if(d.textureDescriptor){if(!d.updateNeeded(B,D)||x)return Object.assign({},d.textureDescriptor,{texture:d.texture})}else this.prepareTile(d,B,D)}}const er=32,Gn=33,Mr=new Uint16Array(8184);for(let w=0;w<2046;w++){let d=w+2,g=0,x=0,B=0,L=0,D=0,$=0;for(1&d?B=L=D=er:g=x=$=er;(d>>=1)>1;){const ae=g+B>>1,de=x+L>>1;1&d?(B=g,L=x,g=D,x=$):(g=B,x=L,B=D,L=$),D=ae,$=de}const Y=4*w;Mr[Y+0]=g,Mr[Y+1]=x,Mr[Y+2]=B,Mr[Y+3]=L}const ti=new Uint16Array(2178),Tn=new Uint8Array(1089),Kt=new Uint16Array(1089);function Zn(w){return w===0?-.03125:w===32?.03125:0}class jt{constructor(d,g,x,B){this.id=jt.uniqueIdxCounter,jt.uniqueIdxCounter++,this.context=d;const L=d.gl;this.buffer=L.createBuffer(),this.dynamicDraw=!!x,this.context.unbindVAO(),d.bindElementBuffer.set(this.buffer),L.bufferData(L.ELEMENT_ARRAY_BUFFER,g.arrayBuffer,this.dynamicDraw?L.DYNAMIC_DRAW:L.STATIC_DRAW),this.dynamicDraw||B||g.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(d){this.id=jt.uniqueIdxCounter,jt.uniqueIdxCounter++;const g=this.context.gl;this.context.unbindVAO(),this.bind(),g.bufferSubData(g.ELEMENT_ARRAY_BUFFER,0,d.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}jt.uniqueIdxCounter=0;const Xn={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class kr{constructor(d,g,x,B,L,D){this.length=g.length,this.attributes=x,this.itemSize=g.bytesPerElement,this.dynamicDraw=B,this.instanceCount=D,this.context=d;const $=d.gl;this.buffer=$.createBuffer(),d.bindVertexBuffer.set(this.buffer),$.bufferData($.ARRAY_BUFFER,g.arrayBuffer,this.dynamicDraw?$.DYNAMIC_DRAW:$.STATIC_DRAW),this.dynamicDraw||L||g.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(d){const g=this.context.gl;this.bind(),g.bufferSubData(g.ARRAY_BUFFER,0,d.arrayBuffer)}enableAttributes(d,g){for(let x=0;x<this.attributes.length;x++){const B=g.attributes[this.attributes[x].name];B!==void 0&&d.enableVertexAttribArray(B)}}setVertexAttribPointers(d,g,x){for(let B=0;B<this.attributes.length;B++){const L=this.attributes[B],D=g.attributes[L.name];D!==void 0&&d.vertexAttribPointer(D,L.components,d[Xn[L.type]],!1,this.itemSize,L.offset+this.itemSize*(x||0))}}setVertexAttribDivisor(d,g,x){for(let B=0;B<this.attributes.length;B++){const L=g.attributes[this.attributes[B].name];L!==void 0&&this.instanceCount&&this.instanceCount>0&&d.vertexAttribDivisor(L,x)}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class _r{constructor(d){this.gl=d.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(d){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class fa extends _r{getDefault(){return a.ax.transparent}set(d){const g=this.current;(d.r!==g.r||d.g!==g.g||d.b!==g.b||d.a!==g.a||this.dirty)&&(this.gl.clearColor(d.r,d.g,d.b,d.a),this.current=d,this.dirty=!1)}}class ss extends _r{getDefault(){return 1}set(d){(d!==this.current||this.dirty)&&(this.gl.clearDepth(d),this.current=d,this.dirty=!1)}}class Sa extends _r{getDefault(){return 0}set(d){(d!==this.current||this.dirty)&&(this.gl.clearStencil(d),this.current=d,this.dirty=!1)}}class Gc extends _r{getDefault(){return[!0,!0,!0,!0]}set(d){const g=this.current;(d[0]!==g[0]||d[1]!==g[1]||d[2]!==g[2]||d[3]!==g[3]||this.dirty)&&(this.gl.colorMask(d[0],d[1],d[2],d[3]),this.current=d,this.dirty=!1)}}class uu extends _r{getDefault(){return!0}set(d){(d!==this.current||this.dirty)&&(this.gl.depthMask(d),this.current=d,this.dirty=!1)}}class Zh extends _r{getDefault(){return 255}set(d){(d!==this.current||this.dirty)&&(this.gl.stencilMask(d),this.current=d,this.dirty=!1)}}class vA extends _r{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(d){const g=this.current;(d.func!==g.func||d.ref!==g.ref||d.mask!==g.mask||this.dirty)&&(this.gl.stencilFunc(d.func,d.ref,d.mask),this.current=d,this.dirty=!1)}}class Jh extends _r{getDefault(){const d=this.gl;return[d.KEEP,d.KEEP,d.KEEP]}set(d){const g=this.current;(d[0]!==g[0]||d[1]!==g[1]||d[2]!==g[2]||this.dirty)&&(this.gl.stencilOp(d[0],d[1],d[2]),this.current=d,this.dirty=!1)}}class qd extends _r{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const g=this.gl;d?g.enable(g.STENCIL_TEST):g.disable(g.STENCIL_TEST),this.current=d,this.dirty=!1}}class Yd extends _r{getDefault(){return[0,1]}set(d){const g=this.current;(d[0]!==g[0]||d[1]!==g[1]||this.dirty)&&(this.gl.depthRange(d[0],d[1]),this.current=d,this.dirty=!1)}}class po extends _r{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const g=this.gl;d?g.enable(g.DEPTH_TEST):g.disable(g.DEPTH_TEST),this.current=d,this.dirty=!1}}class Kf extends _r{getDefault(){return this.gl.LESS}set(d){(d!==this.current||this.dirty)&&(this.gl.depthFunc(d),this.current=d,this.dirty=!1)}}class _A extends _r{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const g=this.gl;d?g.enable(g.BLEND):g.disable(g.BLEND),this.current=d,this.dirty=!1}}class Wf extends _r{getDefault(){const d=this.gl;return[d.ONE,d.ZERO,d.ONE,d.ZERO]}set(d){const g=this.current;(d[0]!==g[0]||d[1]!==g[1]||d[2]!==g[2]||d[3]!==g[3]||this.dirty)&&(this.gl.blendFuncSeparate(d[0],d[1],d[2],d[3]),this.current=d,this.dirty=!1)}}class qf extends _r{getDefault(){return a.ax.transparent}set(d){const g=this.current;(d.r!==g.r||d.g!==g.g||d.b!==g.b||d.a!==g.a||this.dirty)&&(this.gl.blendColor(d.r,d.g,d.b,d.a),this.current=d,this.dirty=!1)}}class Ql extends _r{getDefault(){return this.gl.FUNC_ADD}set(d){(d!==this.current||this.dirty)&&(this.gl.blendEquationSeparate(d,d),this.current=d,this.dirty=!1)}}class Wa extends _r{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const g=this.gl;d?g.enable(g.CULL_FACE):g.disable(g.CULL_FACE),this.current=d,this.dirty=!1}}class Di extends _r{getDefault(){return this.gl.BACK}set(d){(d!==this.current||this.dirty)&&(this.gl.cullFace(d),this.current=d,this.dirty=!1)}}class cu extends _r{getDefault(){return this.gl.CCW}set(d){(d!==this.current||this.dirty)&&(this.gl.frontFace(d),this.current=d,this.dirty=!1)}}let Xd=class extends _r{getDefault(){return null}set(w){(w!==this.current||this.dirty)&&(this.gl.useProgram(w),this.current=w,this.dirty=!1)}};class yA extends _r{getDefault(){return this.gl.TEXTURE0}set(d){(d!==this.current||this.dirty)&&(this.gl.activeTexture(d),this.current=d,this.dirty=!1)}}class U1 extends _r{getDefault(){const d=this.gl;return[0,0,d.drawingBufferWidth,d.drawingBufferHeight]}set(d){const g=this.current;(d[0]!==g[0]||d[1]!==g[1]||d[2]!==g[2]||d[3]!==g[3]||this.dirty)&&(this.gl.viewport(d[0],d[1],d[2],d[3]),this.current=d,this.dirty=!1)}}class Yu extends _r{getDefault(){return null}set(d){if(d===this.current&&!this.dirty)return;const g=this.gl;g.bindFramebuffer(g.FRAMEBUFFER,d),this.current=d,this.dirty=!1}}class Qm extends _r{getDefault(){return null}set(d){if(d===this.current&&!this.dirty)return;const g=this.gl;g.bindRenderbuffer(g.RENDERBUFFER,d),this.current=d,this.dirty=!1}}class P0 extends _r{getDefault(){return null}set(d){if(d===this.current&&!this.dirty)return;const g=this.gl;g.bindTexture(g.TEXTURE_2D,d),this.current=d,this.dirty=!1}}class Zd extends _r{getDefault(){return null}set(d){if(d===this.current&&!this.dirty)return;const g=this.gl;g.bindBuffer(g.ARRAY_BUFFER,d),this.current=d,this.dirty=!1}}class mr extends _r{getDefault(){return null}set(d){const g=this.gl;g.bindBuffer(g.ELEMENT_ARRAY_BUFFER,d),this.current=d,this.dirty=!1}}class pa extends _r{getDefault(){return null}set(d){this.gl&&(d!==this.current||this.dirty)&&(this.gl.bindVertexArray(d),this.current=d,this.dirty=!1)}}class Aa extends _r{getDefault(){return 4}set(d){if(d===this.current&&!this.dirty)return;const g=this.gl;g.pixelStorei(g.UNPACK_ALIGNMENT,d),this.current=d,this.dirty=!1}}class Iu extends _r{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const g=this.gl;g.pixelStorei(g.UNPACK_PREMULTIPLY_ALPHA_WEBGL,d),this.current=d,this.dirty=!1}}class Lu extends _r{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const g=this.gl;g.pixelStorei(g.UNPACK_FLIP_Y_WEBGL,d),this.current=d,this.dirty=!1}}class Gi extends _r{constructor(d,g){super(d),this.context=d,this.parent=g}getDefault(){return null}}class ed extends Gi{setDirty(){this.dirty=!0}set(d){if(d===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const g=this.gl;g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,d,0),this.current=d,this.dirty=!1}}class td extends Gi{attachment(){return this.gl.DEPTH_ATTACHMENT}set(d){if(d===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const g=this.gl;g.framebufferRenderbuffer(g.FRAMEBUFFER,this.attachment(),g.RENDERBUFFER,d),this.current=d,this.dirty=!1}}class zo extends Gi{attachment(){return this.gl.DEPTH_ATTACHMENT}set(d){if(d===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const g=this.gl;g.framebufferTexture2D(g.FRAMEBUFFER,this.attachment(),g.TEXTURE_2D,d,0),this.current=d,this.dirty=!1}}class jl extends td{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class ws{constructor(d,g,x,B,L){this.context=d,this.width=g,this.height=x;const D=this.framebuffer=d.gl.createFramebuffer();B&&(this.colorAttachment=new ed(d,D)),L&&(this.depthAttachmentType=L,this.depthAttachment=L==="renderbuffer"?new td(d,D):new zo(d,D))}destroy(){const d=this.context.gl;if(this.colorAttachment){const g=this.colorAttachment.get();g&&d.deleteTexture(g)}if(this.depthAttachment&&this.depthAttachmentType)if(this.depthAttachmentType==="renderbuffer"){const g=this.depthAttachment.get();g&&d.deleteRenderbuffer(g)}else{const g=this.depthAttachment.get();g&&d.deleteTexture(g)}d.deleteFramebuffer(this.framebuffer)}}class rr{constructor(d,g,x){this.func=d,this.mask=g,this.range=x}}rr.ReadOnly=!1,rr.ReadWrite=!0,rr.disabled=new rr(519,rr.ReadOnly,[0,1]);const nd=7680;class si{constructor(d,g,x,B,L,D){this.test=d,this.ref=g,this.mask=x,this.fail=B,this.depthFail=L,this.pass=D}}si.disabled=new si({func:519,mask:0},0,0,nd,nd,nd);const gl=771;class Ii{constructor(d,g,x,B){this.blendFunction=d,this.blendColor=g,this.mask=x,this.blendEquation=B}}Ii.Replace=[1,0,1,0],Ii.disabled=new Ii(Ii.Replace,a.ax.transparent,[!1,!1,!1,!1]),Ii.unblended=new Ii(Ii.Replace,a.ax.transparent,[!0,!0,!0,!0]),Ii.alphaBlended=new Ii([1,gl,1,gl],a.ax.transparent,[!0,!0,!0,!0]),Ii.multiply=new Ii([774,0,774,0],a.ax.transparent,[!0,!0,!0,!0]);const rd=1029,so=2305;class Vr{constructor(d,g,x){this.enable=d,this.mode=g,this.frontFace=x}}Vr.disabled=new Vr(!1,rd,so),Vr.backCCW=new Vr(!0,rd,so),Vr.backCW=new Vr(!0,rd,2304),Vr.frontCW=new Vr(!0,1028,2304),Vr.frontCCW=new Vr(!0,1028,so);class F0{constructor(d,g){this.gl=d,this.clearColor=new fa(this),this.clearDepth=new ss(this),this.clearStencil=new Sa(this),this.colorMask=new Gc(this),this.depthMask=new uu(this),this.stencilMask=new Zh(this),this.stencilFunc=new vA(this),this.stencilOp=new Jh(this),this.stencilTest=new qd(this),this.depthRange=new Yd(this),this.depthTest=new po(this),this.depthFunc=new Kf(this),this.blend=new _A(this),this.blendFunc=new Wf(this),this.blendColor=new qf(this),this.blendEquation=new Ql(this),this.cullFace=new Wa(this),this.cullFaceSide=new Di(this),this.frontFace=new cu(this),this.program=new Xd(this),this.activeTexture=new yA(this),this.viewport=new U1(this),this.bindFramebuffer=new Yu(this),this.bindRenderbuffer=new Qm(this),this.bindTexture=new P0(this),this.bindVertexBuffer=new Zd(this),this.bindElementBuffer=new mr(this),this.bindVertexArrayOES=new pa(this),this.pixelStoreUnpack=new Aa(this),this.pixelStoreUnpackPremultiplyAlpha=new Iu(this),this.pixelStoreUnpackFlipY=new Lu(this),this.options=g?{...g}:{},this.options.extTextureFilterAnisotropicForceOff||(this.extTextureFilterAnisotropic=d.getExtension("EXT_texture_filter_anisotropic")||d.getExtension("MOZ_EXT_texture_filter_anisotropic")||d.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=d.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT))),this.extDebugRendererInfo=d.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=d.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=d.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),this.options.extTextureFloatLinearForceOff||(this.extTextureFloatLinear=d.getExtension("OES_texture_float_linear")),this.extRenderToTextureHalfFloat=d.getExtension("EXT_color_buffer_half_float"),this.extTimerQuery=d.getExtension("EXT_disjoint_timer_query_webgl2"),this.maxTextureSize=d.getParameter(d.MAX_TEXTURE_SIZE),this.maxPointSize=d.getParameter(d.ALIASED_POINT_SIZE_RANGE)[1]}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArrayOES.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(d,g,x){return new jt(this,d,g,x)}createVertexBuffer(d,g,x,B,L){return new kr(this,d,g,x,B,L)}createRenderbuffer(d,g,x){const B=this.gl,L=B.createRenderbuffer();return this.bindRenderbuffer.set(L),B.renderbufferStorage(B.RENDERBUFFER,d,g,x),this.bindRenderbuffer.set(null),L}createFramebuffer(d,g,x,B){return new ws(this,d,g,x,B)}clear({color:d,depth:g,stencil:x,colorMask:B}){const L=this.gl;let D=0;d&&(D|=L.COLOR_BUFFER_BIT,this.clearColor.set(d),this.colorMask.set(B||[!0,!0,!0,!0])),g!==void 0&&(D|=L.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(g),this.depthMask.set(!0)),x!==void 0&&(D|=L.STENCIL_BUFFER_BIT,this.clearStencil.set(x),this.stencilMask.set(255)),L.clear(D)}setCullFace(d){d.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(d.mode),this.frontFace.set(d.frontFace))}setDepthMode(d){d.func!==this.gl.ALWAYS||d.mask?(this.depthTest.set(!0),this.depthFunc.set(d.func),this.depthMask.set(d.mask),this.depthRange.set(d.range)):this.depthTest.set(!1)}setStencilMode(d){d.test.func!==this.gl.ALWAYS||d.mask?(this.stencilTest.set(!0),this.stencilMask.set(d.mask),this.stencilOp.set([d.fail,d.depthFail,d.pass]),this.stencilFunc.set({func:d.test.func,ref:d.ref,mask:d.test.mask})):this.stencilTest.set(!1)}setColorMode(d){f(d.blendFunction,Ii.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(d.blendFunction),this.blendColor.set(d.blendColor),d.blendEquation?this.blendEquation.set(d.blendEquation):this.blendEquation.setDefault()),this.colorMask.set(d.mask)}unbindVAO(){this.bindVertexArrayOES.set(null)}}var id=a.ay([{name:"a_pos",type:"Float32",components:3}]);class Ws{constructor(d,g,x,B){const L={width:x[0],height:x[1],data:null},D=d.gl;this.targetColorTexture=new a.T(d,L,D.RGBA,{useMipmap:!1}),this.backgroundColorTexture=new a.T(d,L,D.RGBA,{useMipmap:!1}),this.context=d,this.setNumParticles(g,B),this.lastInvalidatedAt=0}setNumParticles(d,g){if(this.numParticles===g)return;(this.particleVertices0||this.particleVertices1||this.particleSegment)&&(this.particleVertices0.destroy(),this.particleVertices1.destroy(),this.particleSegment.destroy());const x=new a.az;x.reserve(Math.round(g));const B=a.aA(d.key);for(let L=0;L<g;L++)x.emplaceBack(B(),B(),B());this.particleVertices0=this.context.createVertexBuffer(x,id.members,!0),this.particleVertices1=this.context.createVertexBuffer(x,id.members,!0),this.particleSegment=a.aB.simpleSegment(0,0,this.particleVertices0.length,0),this.numParticles=g}update(d){return!(this.lastInvalidatedAt<d&&(this.lastInvalidatedAt=a.f.now(),1))}destroy(){this.targetColorTexture.destroy(),this.backgroundColorTexture.destroy(),this.particleVertices0.destroy(),this.particleVertices1.destroy(),this.particleSegment.destroy()}}const Gl={type:2,extent:a.V,loadGeometry:()=>[[new a.P(0,0),new a.P(a.V+1,0),new a.P(a.V+1,a.V+1),new a.P(0,a.V+1),new a.P(0,0)]]};class ku{constructor(d,g,x,B,L){this.tileID=d,this.uid=a.aC(),this.uses=0,this.tileSize=g,this.tileZoom=x,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=L,B&&B.style&&(this._lastUpdatedBrightness=B.style.getBrightness()),this.expiredRequestCount=0,this.state="loading",B&&B.transform&&(this.projection=B.transform.projection)}registerFadeDuration(d){const g=d+this.timeAdded;g<a.f.now()||this.fadeEndTime&&g<this.fadeEndTime||(this.fadeEndTime=g)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=a.as(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(d,g,x){if(this.unloadVectorData(),this.state="loaded",d){d.featureIndex&&(this.latestFeatureIndex=d.featureIndex,d.rawTileData?(this.latestRawTileData=d.rawTileData,this.latestFeatureIndex.rawTileData=d.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=d.collisionBoxArray,this.buckets=function(B,L){const D={};if(!L)return D;for(const $ of B){const Y=$.layerIds.map(ae=>L.getLayer(ae)).filter(Boolean);if(Y.length!==0){$.layers=Y,$.stateDependentLayerIds&&($.stateDependentLayers=$.stateDependentLayerIds.map(ae=>Y.filter(de=>de.id===ae)[0]));for(const ae of Y)D[ae.fqid]=$}}return D}(d.buckets,g.style),this.hasSymbolBuckets=!1;for(const B in this.buckets){const L=this.buckets[B];if(L instanceof a.aE){if(this.hasSymbolBuckets=!0,!x)break;L.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const B in this.buckets){const L=this.buckets[B];if(L instanceof a.aE&&L.hasRTLText){this.hasRTLText=!0,a.aF();break}}this.queryPadding=0;for(const B in this.buckets){const L=this.buckets[B],D=g.style.getOwnLayer(B);if(!D)continue;const $=D.queryRadius(L);this.queryPadding=Math.max(this.queryPadding,$)}d.imageAtlas&&(this.imageAtlas=d.imageAtlas),d.glyphAtlasImage&&(this.glyphAtlasImage=d.glyphAtlasImage),d.lineAtlas&&(this.lineAtlas=d.lineAtlas),this._lastUpdatedBrightness=d.brightness}else this.collisionBoxArray=new a.aD}unloadVectorData(){if(this.hasData()){for(const d in this.buckets)this.buckets[d].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(d){return this.buckets[d.fqid]}upload(d){for(const B in this.buckets){const L=this.buckets[B];L.uploadPending()&&L.upload(d)}const g=d.gl,x=this.imageAtlas;if(x&&!x.uploaded){const B=!!Object.keys(x.patternPositions).length;this.imageAtlasTexture=new a.T(d,x.image,g.RGBA,{useMipmap:B}),this.imageAtlas.uploaded=!0}this.glyphAtlasImage&&(this.glyphAtlasTexture=new a.T(d,this.glyphAtlasImage,g.R8),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new a.T(d,this.lineAtlas.image,g.R8),this.lineAtlas.uploaded=!0)}prepare(d,g,x){if(this.imageAtlas&&this.imageAtlasTexture&&this.imageAtlas.patchUpdatedImages(d,this.imageAtlasTexture,x),!g||!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData)return;const B=g.style.getBrightness();(this._lastUpdatedBrightness||B)&&(this._lastUpdatedBrightness&&B&&Math.abs(this._lastUpdatedBrightness-B)<.001||(this._lastUpdatedBrightness=B,this.updateBuckets(void 0,g)))}queryRenderedFeatures(d,g,x,B,L,D,$,Y){return this.latestFeatureIndex&&(this.latestFeatureIndex.rawTileData||this.latestFeatureIndex.is3DTile)?this.latestFeatureIndex.query({tileResult:B,pixelPosMatrix:$,transform:D,params:L,tileTransform:this.tileTransform},d,g,x):{}}querySourceFeatures(d,g){const x=this.latestFeatureIndex;if(!x||!x.rawTileData)return;const B=x.loadVTLayers(),L=g?g.sourceLayer:"",D=B._geojsonTileLayer||B[L];if(!D)return;const $=a.aG(g&&g.filter),{z:Y,x:ae,y:de}=this.tileID.canonical,Ae={z:Y,x:ae,y:de};for(let Ce=0;Ce<D.length;Ce++){const Me=D.feature(Ce);if($.needGeometry){const Ke=a.aH(Me,!0);if(!$.filter(new a.K(this.tileID.overscaledZ),Ke,this.tileID.canonical))continue}else if(!$.filter(new a.K(this.tileID.overscaledZ),Me))continue;const He=x.getId(Me,L),$e=new a.aI(Me,Y,ae,de,He);$e.tile=Ae,d.push($e)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}bucketsLoaded(){for(const d in this.buckets)if(this.buckets[d].uploadPending())return!1;return!0}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(d){const g=this.expirationTime;if(d.cacheControl){const x=a.aJ(d.cacheControl);x["max-age"]&&(this.expirationTime=Date.now()+1e3*x["max-age"])}else d.expires&&(this.expirationTime=new Date(d.expires).getTime());if(this.expirationTime){const x=Date.now();let B=!1;if(this.expirationTime>x)B=!1;else if(g)if(this.expirationTime<g)B=!0;else{const L=this.expirationTime-g;L?this.expirationTime=x+Math.max(L,3e4):B=!0}else B=!0;B?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(d,g){this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&Object.keys(d).length!==0&&g&&this.updateBuckets(d,g)}updateBuckets(d,g){if(!this.latestFeatureIndex)return;const x=this.latestFeatureIndex.loadVTLayers(),B=g.style.listImages(),L=g.style.getBrightness();for(const D in this.buckets){if(!g.style.hasLayer(D))continue;const $=this.buckets[D],Y=$.layers[0].sourceLayer||"_geojsonTileLayer",ae=x[Y];let de={};if(d&&(de=d[Y],!ae||!de||Object.keys(de).length===0))continue;if($.update(de,ae,B,this.imageAtlas&&this.imageAtlas.patternPositions||{},L),$ instanceof a.aK||$ instanceof a.aL){const Ce=g.style.getOwnSourceCache($.layers[0].source);g._terrain&&g._terrain.enabled&&Ce&&$.programConfigurations.needsUpload&&g._terrain._clearRenderCacheForTile(Ce.id,this.tileID)}const Ae=g&&g.style&&g.style.getOwnLayer(D);Ae&&(this.queryPadding=Math.max(this.queryPadding,Ae.queryRadius($)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<a.f.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(d){this.symbolFadeHoldUntil=a.f.now()+d}setTexture(d,g){const x=g.context,B=x.gl;this.texture=this.texture||g.getTileTexture(d.width),this.texture&&this.texture instanceof a.T?this.texture.update(d,{useMipmap:!0}):(this.texture=new a.T(x,d,B.RGBA,{useMipmap:!0}),this.texture.bind(B.LINEAR,B.CLAMP_TO_EDGE))}setDependencies(d,g){const x={};for(const B of g)x[B]=!0;this.dependencies[d]=x}hasDependency(d,g){for(const x of d){const B=this.dependencies[x];if(B){for(const L of g)if(B[L])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(d,g){if(!g||g.name==="mercator"||this._tileDebugBuffer)return;const x=a.aM(Gl,this.tileID.canonical,this.tileTransform)[0],B=new a.aN,L=new a.aO;for(let D=0;D<x.length;D++){const{x:$,y:Y}=x[D];B.emplaceBack($,Y),L.emplaceBack(D)}L.emplaceBack(0),this._tileDebugIndexBuffer=d.createIndexBuffer(L),this._tileDebugBuffer=d.createVertexBuffer(B,a.aP.members),this._tileDebugSegments=a.aB.simpleSegment(0,0,B.length,L.length)}_makeTileBoundsBuffers(d,g){if(this._tileBoundsBuffer||!g||g.name==="mercator")return;const x=a.aM(Gl,this.tileID.canonical,this.tileTransform)[0];let B,L;if(this.isRaster){const D=function($,Y){const ae=a.as($,Y),de=Math.pow(2,$.z);for(let Ke=0;Ke<Gn;Ke++)for(let Pe=0;Pe<Gn;Pe++){const Ze=a.at(($.x+(Pe+Zn(Pe))/er)/de),pt=a.au(($.y+(Ke+Zn(Ke))/er)/de),st=Y.project(Ze,pt),At=Ke*Gn+Pe;ti[2*At+0]=Math.round((st.x*ae.scale-ae.x)*a.V),ti[2*At+1]=Math.round((st.y*ae.scale-ae.y)*a.V)}Tn.fill(0),Kt.fill(0);for(let Ke=2045;Ke>=0;Ke--){const Pe=4*Ke,Ze=Mr[Pe+0],pt=Mr[Pe+1],st=Mr[Pe+2],At=Mr[Pe+3],qe=Ze+st>>1,mt=pt+At>>1,Pt=qe+mt-pt,Ot=mt+Ze-qe,Qt=pt*Gn+Ze,fn=At*Gn+st,Wt=mt*Gn+qe,xn=Math.hypot((ti[2*Qt+0]+ti[2*fn+0])/2-ti[2*Wt+0],(ti[2*Qt+1]+ti[2*fn+1])/2-ti[2*Wt+1])>=16;Tn[Wt]=Tn[Wt]||(xn?1:0),Ke<1022&&(Tn[Wt]=Tn[Wt]||Tn[(pt+Ot>>1)*Gn+(Ze+Pt>>1)]||Tn[(At+Ot>>1)*Gn+(st+Pt>>1)])}const Ae=new a.av,Ce=new a.aw;let Me=0;function He(Ke,Pe){const Ze=Pe*Gn+Ke;return Kt[Ze]===0&&(Ae.emplaceBack(ti[2*Ze+0],ti[2*Ze+1],Ke*a.V/er,Pe*a.V/er),Kt[Ze]=++Me),Kt[Ze]-1}function $e(Ke,Pe,Ze,pt,st,At){const qe=Ke+Ze>>1,mt=Pe+pt>>1;if(Math.abs(Ke-st)+Math.abs(Pe-At)>1&&Tn[mt*Gn+qe])$e(st,At,Ke,Pe,qe,mt),$e(Ze,pt,st,At,qe,mt);else{const Pt=He(Ke,Pe),Ot=He(Ze,pt),Qt=He(st,At);Ce.emplaceBack(Pt,Ot,Qt)}}return $e(0,0,er,er,er,0),$e(er,er,0,0,0,er),{vertices:Ae,indices:Ce}}(this.tileID.canonical,g);B=D.vertices,L=D.indices}else{B=new a.av,L=new a.aw;for(const{x:$,y:Y}of x)B.emplaceBack($,Y,0,0);const D=a.aQ(B.int16,void 0,4);for(let $=0;$<D.length;$+=3)L.emplaceBack(D[$],D[$+1],D[$+2])}this._tileBoundsBuffer=d.createVertexBuffer(B,a.aR.members),this._tileBoundsIndexBuffer=d.createIndexBuffer(L),this._tileBoundsSegments=a.aB.simpleSegment(0,0,B.length,L.length)}_makeGlobeTileDebugBuffers(d,g){const x=g.projection;if(!x||x.name!=="globe"||g.freezeTileCoverage)return;const B=this.tileID.canonical,L=a.aS(B,g),D=a.aT(L),$=a.S(g.zoom);let Y;$>0&&(Y=a.a6.invert(new Float64Array(16),g.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(d,B,g,D,Y,$),this._makeGlobeTileDebugTextBuffer(d,B,g,D,Y,$)}_globePoint(d,g,x,B,L,D,$){let Y=a.aU(d,g,x);if(D){const ae=1<<x.z,de=a.a5(B.center.lng),Ae=a.ae(B.center.lat),Ce=(x.x+.5)/ae-de;let Me=0;Ce>.5?Me=-1:Ce<-.5&&(Me=1);let He=(d/a.V+x.x)/ae+Me,$e=(g/a.V+x.y)/ae;He=(He-de)*B._pixelsPerMercatorPixel+de,$e=($e-Ae)*B._pixelsPerMercatorPixel+Ae;const Ke=[He*B.worldSize,$e*B.worldSize,0];a.N.transformMat4(Ke,Ke,D),Y=a.aV(Y,Ke,$)}return a.N.transformMat4(Y,Y,L)}_makeGlobeTileDebugBorderBuffer(d,g,x,B,L,D){const $=new a.aN,Y=new a.aO,ae=new a.aW,de=(Ce,Me,He,$e,Ke)=>{const Pe=(He-Ce)/(Ke-1),Ze=($e-Me)/(Ke-1),pt=$.length;for(let st=0;st<Ke;st++){const At=Ce+st*Pe,qe=Me+st*Ze;$.emplaceBack(At,qe);const mt=this._globePoint(At,qe,g,x,B,L,D);ae.emplaceBack(mt[0],mt[1],mt[2]),Y.emplaceBack(pt+st)}},Ae=a.V;de(0,0,Ae,0,16),de(Ae,0,Ae,Ae,16),de(Ae,Ae,0,Ae,16),de(0,Ae,0,0,16),this._tileDebugIndexBuffer=d.createIndexBuffer(Y),this._tileDebugBuffer=d.createVertexBuffer($,a.aP.members),this._globeTileDebugBorderBuffer=d.createVertexBuffer(ae,a.aX.members),this._tileDebugSegments=a.aB.simpleSegment(0,0,$.length,Y.length)}_makeGlobeTileDebugTextBuffer(d,g,x,B,L,D){const $=a.V/4,Y=new a.aN,ae=new a.aw,de=new a.aW,Ae=25;ae.reserve(32),Y.reserve(Ae),de.reserve(Ae);const Ce=(Me,He)=>Ae*Me+He;for(let Me=0;Me<Ae;Me++){const He=Me*$;for(let $e=0;$e<Ae;$e++){const Ke=$e*$;Y.emplaceBack(Ke,He);const Pe=this._globePoint(Ke,He,g,x,B,L,D);de.emplaceBack(Pe[0],Pe[1],Pe[2])}}for(let Me=0;Me<4;Me++)for(let He=0;He<4;He++){const $e=Ce(Me,He),Ke=Ce(Me,He+1),Pe=Ce(Me+1,He),Ze=Ce(Me+1,He+1);ae.emplaceBack($e,Ke,Pe),ae.emplaceBack(Pe,Ke,Ze)}this._tileDebugTextIndexBuffer=d.createIndexBuffer(ae),this._tileDebugTextBuffer=d.createVertexBuffer(Y,a.aP.members),this._globeTileDebugTextBuffer=d.createVertexBuffer(de,a.aX.members),this._tileDebugTextSegments=a.aB.simpleSegment(0,0,Ae,32)}destroy(d=!1){for(const g in this.buckets)this.buckets[g].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&(this.imageAtlasTexture.destroy(),delete this.imageAtlasTexture),this.glyphAtlasTexture&&(this.glyphAtlasTexture.destroy(),delete this.glyphAtlasTexture),this.lineAtlasTexture&&(this.lineAtlasTexture.destroy(),delete this.lineAtlasTexture),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),!d&&this.texture&&this.texture instanceof a.T&&(this.texture.destroy(),delete this.texture),this.hillshadeFBO&&(this.hillshadeFBO.destroy(),delete this.hillshadeFBO),this.dem&&delete this.dem,this.neighboringTiles&&delete this.neighboringTiles,this.demTexture&&(this.demTexture.destroy(),delete this.demTexture),this.rasterParticleState&&(this.rasterParticleState.destroy(),delete this.rasterParticleState),this.latestFeatureIndex=null,this.state="unloaded"}}const Kl={vector:an,raster:In,"raster-dem":class extends In{constructor(w,d,g,x){super(w,d,g,x),this.type="raster-dem",this.maxzoom=22,this._options=a.e({type:"raster-dem"},d),this.encoding=d.encoding||"mapbox"}loadTile(w,d){const g=this.map._requestManager.normalizeTileURL(w.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function x(B,L){B&&(w.state="errored",d(B)),L&&(w.dem=L,w.dem.onDeserialize(),w.needsHillshadePrepare=!0,w.needsDEMTextureUpload=!0,w.state="loaded",d(null))}w.request=a.d(this.map._requestManager.transformRequest(g,a.R.Tile),(function(B,L,D,$){if(delete w.request,w.aborted)w.state="unloaded",d(null);else if(B)w.state="errored",d(B);else if(L){this.map._refreshExpiredTiles&&w.setExpiryData({cacheControl:D,expires:$});const Y=ImageBitmap&&L instanceof ImageBitmap&&a.ak(),ae=1-(L.width-a.al(L.width))/2;ae<1||w.neighboringTiles||(w.neighboringTiles=this._getNeighboringTiles(w.tileID));const de=Y?L:a.f.getImageData(L,ae),Ae={uid:w.uid,coord:w.tileID,source:this.id,scope:this.scope,rawImageData:de,encoding:this.encoding,padding:ae};w.actor&&w.state!=="expired"||(w.actor=this.dispatcher.getActor(),w.actor.send("loadDEMTile",Ae,x.bind(this),void 0,!0))}}).bind(this))}_getNeighboringTiles(w){const d=w.canonical,g=Math.pow(2,d.z),x=(d.x-1+g)%g,B=d.x===0?w.wrap-1:w.wrap,L=(d.x+1+g)%g,D=d.x+1===g?w.wrap+1:w.wrap,$={};return $[new a.am(w.overscaledZ,B,d.z,x,d.y).key]={backfilled:!1},$[new a.am(w.overscaledZ,D,d.z,L,d.y).key]={backfilled:!1},d.y>0&&($[new a.am(w.overscaledZ,B,d.z,x,d.y-1).key]={backfilled:!1},$[new a.am(w.overscaledZ,w.wrap,d.z,d.x,d.y-1).key]={backfilled:!1},$[new a.am(w.overscaledZ,D,d.z,L,d.y-1).key]={backfilled:!1}),d.y+1<g&&($[new a.am(w.overscaledZ,B,d.z,x,d.y+1).key]={backfilled:!1},$[new a.am(w.overscaledZ,w.wrap,d.z,d.x,d.y+1).key]={backfilled:!1},$[new a.am(w.overscaledZ,D,d.z,L,d.y+1).key]={backfilled:!1}),$}},"raster-array":kn,geojson:class extends a.E{constructor(w,d,g,x){super(),this.id=w,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=g.getActor(),this.setEventedParent(x),this._data=d.data,this._options=a.e({},d),this._collectResourceTiming=d.collectResourceTiming,d.maxzoom!==void 0&&(this.maxzoom=d.maxzoom),d.type&&(this.type=d.type),d.attribution&&(this.attribution=d.attribution),this.promoteId=d.promoteId;const B=a.V/this.tileSize;this.workerOptions=a.e({source:this.id,scope:this.scope,cluster:d.cluster||!1,geojsonVtOptions:{buffer:(d.buffer!==void 0?d.buffer:128)*B,tolerance:(d.tolerance!==void 0?d.tolerance:.375)*B,extent:a.V,maxZoom:this.maxzoom,lineMetrics:d.lineMetrics||!1,generateId:d.generateId||!1},superclusterOptions:{maxZoom:d.clusterMaxZoom!==void 0?d.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,d.clusterMinPoints||2),extent:a.V,radius:(d.clusterRadius!==void 0?d.clusterRadius:50)*B,log:!1,generateId:d.generateId||!1},clusterProperties:d.clusterProperties,filter:d.filter},d.workerOptions)}onAdd(w){this.map=w,this.setData(this._data)}setData(w){return this._data=w,this._updateWorkerData(),this}getClusterExpansionZoom(w,d){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:w,source:this.id,scope:this.scope},d),this}getClusterChildren(w,d){return this.actor.send("geojson.getClusterChildren",{clusterId:w,source:this.id,scope:this.scope},d),this}getClusterLeaves(w,d,g,x){return this.actor.send("geojson.getClusterLeaves",{source:this.id,scope:this.scope,clusterId:w,limit:d,offset:g},x),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new a.b("dataloading",{dataType:"source"})),this._loaded=!1;const w=a.e({},this.workerOptions);w.scope=this.scope;const d=this._data;typeof d=="string"?(w.request=this.map._requestManager.transformRequest(a.f.resolveURL(d),a.R.Source),w.request.collectResourceTiming=this._collectResourceTiming):w.data=JSON.stringify(d),this._pendingLoad=this.actor.send(`${this.type}.loadData`,w,(g,x)=>{if(this._loaded=!0,this._pendingLoad=null,g)this.fire(new a.a(g));else{const B={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&x&&x.resourceTiming&&x.resourceTiming[this.id]&&(B.resourceTiming=x.resourceTiming[this.id]),this.fire(new a.b("data",B)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(w,d){const g=w.actor?"reloadTile":"loadTile";w.actor=this.actor;const x={type:this.type,uid:w.uid,tileID:w.tileID,tileZoom:w.tileZoom,zoom:w.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,scope:this.scope,pixelRatio:a.f.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,brightness:this.map.style&&this.map.style.getBrightness()||0};w.request=this.actor.send(g,x,(B,L)=>(delete w.request,w.destroy(),w.aborted?d(null):B?d(B):(w.loadVectorData(L,this.map.painter,g==="reloadTile"),d(null))),void 0,g==="loadTile")}abortTile(w){w.request&&(w.request.cancel(),delete w.request),w.aborted=!0}unloadTile(w){this.actor.send("removeTile",{uid:w.uid,type:this.type,source:this.id,scope:this.scope}),w.destroy()}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return a.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends a.ap{constructor(w,d,g,x){super(w,d,g,x),this.roundZoom=!0,this.type="video",this.options=d}load(){this._loaded=!1;const w=this.options;this.urls=[];for(const d of w.urls)this.urls.push(this.map._requestManager.transformRequest(d,a.R.Source).url);a.aq(this.urls,(d,g)=>{this._loaded=!0,d?this.fire(new a.a(d)):g&&(this.video=g,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(w){if(this.video){const d=this.video.seekable;w<d.start(0)||w>d.end(0)?this.fire(new a.a(new J(`sources.${this.id}`,null,`Playback for this video can be set only between the ${d.start(0)} and ${d.end(0)}-second mark.`))):this.video.currentTime=w}}getVideo(){return this.video}onAdd(w){this.map||(this.map=w,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const w=this.map.painter.context,d=w.gl;this.texture?this.video.paused||(this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE),d.texSubImage2D(d.TEXTURE_2D,0,0,0,d.RGBA,d.UNSIGNED_BYTE,this.video)):(this.texture=new a.T(w,this.video,d.RGBA),this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(w)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:a.ap,model:class extends a.E{constructor(w,d,g,x){super(),this.id=w,this.type="model",this.models=[],this._loaded=!1,this._options=d}load(){const w=[];for(const d in this._options.models){const g=this._options.models[d],x=a.l(this.map._requestManager.transformRequest(g.uri,a.R.Model).url).then(B=>{if(!B)return;const L=a.c(B),D=new a.M(d,g.position,g.orientation,L);D.computeBoundsAndApplyParent(),this.models.push(D)}).catch(B=>{this.fire(new a.a(new Error(`Could not load model ${d} from ${g.uri}: ${B.message}`)))});w.push(x)}return Promise.allSettled(w).then(()=>{this._loaded=!0,this.fire(new a.b("data",{dataType:"source",sourceDataType:"metadata"}))}).catch(d=>{this.fire(new a.a(new Error(`Could not load models: ${d.message}`)))})}onAdd(w){this.map=w,this.load()}hasTransition(){return!1}loaded(){return this._loaded}getModels(){return this.models}loadTile(w,d){}serialize(){return{type:"model"}}},"batched-model":class extends a.E{constructor(w,d,g,x){super(),this.type="batched-model",this.id=w,this.tileSize=512,this._options=d,this.tiles=this._options.tiles,this.maxzoom=d.maxzoom||19,this.minzoom=d.minzoom||0,this.roundZoom=!0,this.usedInConflation=!0,this.dispatcher=g,this.reparseOverscaled=!1,this.scheme="xyz",this._loaded=!1,this.setEventedParent(x)}onAdd(w){this.map=w,this.load()}load(w){this._loaded=!1,this.fire(new a.b("dataloading",{dataType:"source"}));const d=Array.isArray(this.map._language)?this.map._language.join():this.map._language,g=this.map._worldview;this._tileJSONRequest=Hn(this._options,this.map._requestManager,d,g,(x,B)=>{this._tileJSONRequest=null,this._loaded=!0,x?(d&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${d}`),g&&g.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${g}`),this.fire(new a.a(x))):B&&(a.e(this,B),B.bounds&&(this.tileBounds=new Ht(B.bounds,this.minzoom,this.maxzoom)),a.aj(B.tiles,this.map._requestManager._customAccessToken),this.fire(new a.b("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.b("data",{dataType:"source",sourceDataType:"content"}))),w&&w(x)})}hasTransition(){return!1}hasTile(w){return!this.tileBounds||this.tileBounds.contains(w.canonical)}loaded(){return this._loaded}loadTile(w,d){const g=this.map._requestManager.normalizeTileURL(w.tileID.canonical.url(this.tiles,this.scheme)),x={request:this.map._requestManager.transformRequest(g,a.R.Tile),data:void 0,uid:w.uid,tileID:w.tileID,tileZoom:w.tileZoom,zoom:w.tileID.overscaledZ,tileSize:this.tileSize*w.tileID.overscaleFactor(),type:this.type,source:this.id,scope:this.scope,showCollisionBoxes:this.map.showCollisionBoxes,isSymbolTile:w.isSymbolTile,brightness:this.map.style&&this.map.style.getBrightness()||0};if(w.actor&&w.state!=="expired")if(w.state==="loading")w.reloadCallback=d;else{if(w.buckets){const L=Object.values(w.buckets);for(const D of L)D.dirty=!0;return void(w.state="loaded")}w.request=w.actor.send("reloadTile",x,B.bind(this))}else w.actor=this.dispatcher.getActor(),w.request=w.actor.send("loadTile",x,B.bind(this),void 0,!0);function B(L,D){return w.aborted?d(null):L&&L.status!==404?d(L):(D&&(D.resourceTiming&&(w.resourceTiming=D.resourceTiming),this.map._refreshExpiredTiles&&w.setExpiryData(D),w.buckets={...w.buckets,...D.buckets},D.featureIndex&&(w.latestFeatureIndex=D.featureIndex)),w.state="loaded",void d(null))}}serialize(){return a.e({},this._options)}},canvas:class extends a.ap{constructor(w,d,g,x){super(w,d,g,x),d.coordinates?Array.isArray(d.coordinates)&&d.coordinates.length===4&&!d.coordinates.some(B=>!Array.isArray(B)||B.length!==2||B.some(L=>typeof L!="number"))||this.fire(new a.a(new J(`sources.${w}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.a(new J(`sources.${w}`,null,'missing required property "coordinates"'))),d.animate&&typeof d.animate!="boolean"&&this.fire(new a.a(new J(`sources.${w}`,null,'optional "animate" property must be a boolean value'))),d.canvas?typeof d.canvas=="string"||d.canvas instanceof HTMLCanvasElement||this.fire(new a.a(new J(`sources.${w}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.a(new J(`sources.${w}`,null,'missing required property "canvas"'))),this.options=d,this.animate=d.animate===void 0||d.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.a(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(w){this.map=w,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let w=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,w=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,w=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const d=this.map.painter.context;this.texture?!w&&!this._playing||this.texture instanceof a.ar||this.texture.update(this.canvas,{premultiply:!0}):this.texture=new a.T(d,this.canvas,d.gl.RGBA,{premultiply:!0}),this._prepareData(d)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const w of[this.canvas.width,this.canvas.height])if(isNaN(w)||w<=0)return!0;return!1}},custom:class extends a.E{constructor(w,d,g,x){super(),this.id=w,this.type="custom",this._dataType="raster",this._dispatcher=g,this._implementation=d,this.setEventedParent(x),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new a.a(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new a.a(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new Ht(this._implementation.bounds,this.minzoom,this.maxzoom)),d.update=this._update.bind(this),d.clearTiles=this._clearTiles.bind(this),d.coveringTiles=this._coveringTiles.bind(this),a.e(this,a.ac(d,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return a.ac(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new a.b("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.b("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(w){this._map=w,this._loaded=!1,this.fire(new a.b("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(w),this.load()}onRemove(w){this._implementation.onRemove&&this._implementation.onRemove(w)}hasTile(w){if(this._implementation.hasTile){const{x:d,y:g,z:x}=w.canonical;return this._implementation.hasTile({x:d,y:g,z:x})}return!this.tileBounds||this.tileBounds.contains(w.canonical)}loadTile(w,d){const{x:g,y:x,z:B}=w.tileID.canonical,L=new AbortController;w.request=Promise.resolve(this._implementation.loadTile({x:g,y:x,z:B},{signal:L.signal})).then((function(D){return delete w.request,w.aborted?(w.state="unloaded",d(null)):D===void 0?(w.state="errored",d(null)):D===null?(this.loadTileData(w,{width:this.tileSize,height:this.tileSize,data:null}),w.state="loaded",d(null)):function($){return $ instanceof ImageData||$ instanceof HTMLCanvasElement||$ instanceof ImageBitmap||$ instanceof HTMLImageElement}(D)?(this.loadTileData(w,D),w.state="loaded",void d(null)):(w.state="errored",d(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}).bind(this)).catch(D=>{D.code!==20&&(w.state="errored",d(D))}),w.request.cancel=()=>L.abort()}loadTileData(w,d){w.setTexture(d,this._map.painter)}unloadTile(w,d){if(w.texture&&w.texture instanceof a.T?(w.destroy(!0),w.texture&&w.texture instanceof a.T&&this._map.painter.saveTileTexture(w.texture)):w.destroy(),this._implementation.unloadTile){const{x:g,y:x,z:B}=w.tileID.canonical;this._implementation.unloadTile({x:g,y:x,z:B})}d()}abortTile(w,d){w.request&&w.request.cancel&&(w.request.cancel(),delete w.request),d()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(w=>({x:w.canonical.x,y:w.canonical.y,z:w.canonical.z}))}_clearTiles(){const w=a.ag(this.id,this.scope);this._map.style.clearSource(w)}_update(){this.fire(new a.b("data",{dataType:"source",sourceDataType:"content"}))}}},qs=function(w,d,g,x){const B=new Kl[d.type](w,d,g,x);if(B.id!==w)throw new Error(`Expected Source id to be ${w} instead of ${B.id}`);return a.aY(["load","abort","unload","serialize","prepare"],B),B};function ad(w,d){const g=a.a6.identity([]);return a.a6.scale(g,g,[.5*w.width,.5*-w.height,1]),a.a6.translate(g,g,[1,-1,0]),a.a6.multiply(g,g,w.calculateProjMatrix(d.toUnwrapped())),Float32Array.from(g)}function Yf(w,d,g,x,B,L,D,$=!1){const Y=w.tilesIn(x,D,$);Y.sort(sd);const ae=[];for(const Ae of Y)ae.push({wrappedTileID:Ae.tile.tileID.wrapped().key,queryResults:Ae.tile.queryRenderedFeatures(d,g,w._state,Ae,B,L,ad(w.transform,Ae.tile.tileID),$)});const de=function(Ae){const Ce={},Me={};for(const He of Ae){const $e=He.queryResults,Ke=He.wrappedTileID,Pe=Me[Ke]=Me[Ke]||{};for(const Ze in $e){const pt=$e[Ze],st=Pe[Ze]=Pe[Ze]||{},At=Ce[Ze]=Ce[Ze]||[];for(const qe of pt)st[qe.featureIndex]||(st[qe.featureIndex]=!0,At.push(qe))}}return Ce}(ae);for(const Ae in de)de[Ae].forEach(Ce=>{const Me=Ce.feature,He=Me.layer;He&&He.type!=="background"&&He.type!=="sky"&&He.type!=="slot"&&(Me.source=He.source,He["source-layer"]&&(Me.sourceLayer=He["source-layer"]),Me.state=Me.id!==void 0?w.getFeatureState(He["source-layer"],Me.id):{})});return de}function Pu(w,d){const g=w.getRenderableIds().map(L=>w.getTileByID(L)),x=[],B={};for(let L=0;L<g.length;L++){const D=g[L],$=D.tileID.canonical.key;B[$]||(B[$]=!0,D.querySourceFeatures(x,d))}return x}function sd(w,d){const g=w.tileID,x=d.tileID;return g.overscaledZ-x.overscaledZ||g.canonical.y-x.canonical.y||g.wrap-x.wrap||g.canonical.x-x.canonical.x}class Ah extends ku{constructor(d,g,x,B,L){super(d,g,x,B,L),this._workQueue=[],this._fetchQueue=[],this._isHeaderLoaded=!1}setTexture(d,g){const x=g.context,B=x.gl;this.texture=this.texture||g.getTileTexture(d.width),this.texture&&this.texture instanceof a.T?this.texture.update(d,{useMipmap:!1,premultiply:!1}):this.texture=new a.T(x,d,B.RGBA,{useMipmap:!1,premultiply:!1})}flushQueues(){for(;this._workQueue.length;)this._workQueue.pop()();for(;this._fetchQueue.length;)this._fetchQueue.pop()()}fetchHeader(d=16384,g){const x=this._mrt=new a.aZ(30),B=Object.assign({},this.requestParams,{headers:{Range:"bytes=0-"+(d-1)}});return this.entireBuffer=null,this.request=a.a_(B,(L,D,$,Y)=>{if(L)g(L);else try{const ae=x.getHeaderLength(D);if(ae>d)return void(this.request=this.fetchHeader(ae,g));x.parseHeader(D),this._isHeaderLoaded=!0;let de=0;for(const Ae of Object.values(x.layers))de=Math.max(de,Ae.dataIndex[Ae.dataIndex.length-1].last_byte);D.byteLength>=de&&(this.entireBuffer=D),g(null,this.entireBuffer||D,$,Y)}catch(ae){g(ae)}}),this.request}fetchBand(d,g,x){const B=this._mrt;if(!this._isHeaderLoaded||!B)return void x(new Error("Tile header is not ready"));const L=this.actor;if(!L)return void x(new Error("Can't fetch tile band without an actor"));let D;const $=(Ae,Ce)=>{D.complete(Ae,Ce),Ae?x(Ae):(this.updateTextureDescriptor(d,g),x(null,this.textureDescriptor&&this.textureDescriptor.img))},Y=(Ae,Ce)=>{if(Ae)return x(Ae);const Me=L.send("decodeRasterArray",{buffer:Ce,task:D},$,void 0,!0);this._workQueue.push(()=>{Me&&Me.cancel(),D.cancel()})},ae=B.getLayer(d);if(!ae)return void x(new Error(`Unknown sourceLayer "${d}"`));if(ae.hasDataForBand(g))return this.updateTextureDescriptor(d,g),void x(null,this.textureDescriptor?this.textureDescriptor.img:null);const de=ae.getDataRange([g]);if(D=B.createDecodingTask(de),!D||D.tasks.length)if(this.flushQueues(),this.entireBuffer)Y(null,this.entireBuffer.slice(de.firstByte,de.lastByte+1));else{const Ae=Object.assign({},this.requestParams,{headers:{Range:`bytes=${de.firstByte}-${de.lastByte}`}}),Ce=a.a_(Ae,Y);this._fetchQueue.push(()=>{Ce.cancel(),D.cancel()})}else x(null)}updateNeeded(d,g){return(!this.textureDescriptor||this.textureDescriptor.band!==g||this.textureDescriptor.layer!==d)&&this.state!=="errored"}updateTextureDescriptor(d,g){if(!this._mrt)return;const x=this._mrt.getLayer(d);if(!x||!x.hasBand(g)||!x.hasDataForBand(g))return;const{bytes:B,tileSize:L,buffer:D,offset:$,scale:Y}=x.getBandView(g),ae=L+2*D,de={data:B,width:ae,height:ae},Ae=this.texture;Ae&&Ae instanceof a.T&&Ae.update(de,{useMipmap:!1,premultiply:!1}),this.textureDescriptor={layer:d,band:g,img:de,buffer:D,offset:$,tileSize:L,format:x.pixelFormat,mix:[Y,256*Y,65536*Y,16777216*Y]}}}class od{constructor(d,g){this.max=d,this.onRemove=g,this.reset()}reset(){for(const d in this.data)for(const g of this.data[d])g.timeout&&clearTimeout(g.timeout),this.onRemove(g.value);return this.data={},this.order=[],this}add(d,g,x){const B=d.wrapped().key;this.data[B]===void 0&&(this.data[B]=[]);const L={value:g,timeout:void 0};if(x!==void 0&&(L.timeout=setTimeout(()=>{this.remove(d,L)},x)),this.data[B].push(L),this.order.push(B),this.order.length>this.max){const D=this._getAndRemoveByKey(this.order[0]);D&&this.onRemove(D)}return this}has(d){return d.wrapped().key in this.data}getAndRemove(d){return this.has(d)?this._getAndRemoveByKey(d.wrapped().key):null}_getAndRemoveByKey(d){const g=this.data[d].shift();return g.timeout&&clearTimeout(g.timeout),this.data[d].length===0&&delete this.data[d],this.order.splice(this.order.indexOf(d),1),g.value}getByKey(d){const g=this.data[d];return g?g[0].value:null}get(d){return this.has(d)?this.data[d.wrapped().key][0].value:null}remove(d,g){if(!this.has(d))return this;const x=d.wrapped().key,B=g===void 0?0:this.data[x].indexOf(g),L=this.data[x][B];return this.data[x].splice(B,1),L.timeout&&clearTimeout(L.timeout),this.data[x].length===0&&delete this.data[x],this.onRemove(L.value),this.order.splice(this.order.indexOf(x),1),this}setMaxSize(d){for(this.max=d;this.order.length>this.max;){const g=this._getAndRemoveByKey(this.order[0]);g&&this.onRemove(g)}return this}filter(d){const g=[];for(const x in this.data)for(const B of this.data[x])d(B.value)||g.push(B);for(const x of g)this.remove(x.value.tileID,x)}}class Fu extends a.E{constructor(d,g,x){super(),this.id=d,this._onlySymbols=x,g.on("data",B=>{B.dataType==="source"&&B.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&B.dataType==="source"&&B.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),g.on("error",()=>{this._sourceErrored=!0}),this._source=g,this._tiles={},this._cache=new od(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=g.minTileCacheSize,this._maxTileCacheSize=g.maxTileCacheSize,this._loadedParentTiles={},this.castsShadows=!1,this.tileCoverLift=0,this._coveredTiles={},this._shadowCasterTiles={},this._state=new W,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="raster-array"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(d){this.map=d,this._minTileCacheSize=this._minTileCacheSize===void 0&&d?d._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&d?d._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const d in this._tiles){const g=this._tiles[d];if(g.state!=="errored"&&(g.state!=="loaded"||!g.bucketsLoaded()))return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const d=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,d&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(d,g){return d.isSymbolTile=this._onlySymbols,d.isExtraShadowCaster=this._shadowCasterTiles[d.tileID.key],this._source.loadTile(d,g)}_unloadTile(d){if(this._source.unloadTile)return this._source.unloadTile(d,()=>{})}_abortTile(d){if(this._source.abortTile)return this._source.abortTile(d,()=>{})}serialize(){return this._source.serialize()}prepare(d){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const g in this._tiles){const x=this._tiles[g];x.upload(d),x.prepare(this.map.style.imageManager,this.map?this.map.painter:null,this._source.scope)}}getIds(){return a.a$(this._tiles).map(d=>d.tileID).sort(pc).map(d=>d.key)}getRenderableIds(d,g){const x=[];for(const B in this._tiles)this._isIdRenderable(+B,d,g)&&x.push(this._tiles[B]);return d?x.sort((B,L)=>{const D=B.tileID,$=L.tileID,Y=new a.P(D.canonical.x,D.canonical.y)._rotate(this.transform.angle),ae=new a.P($.canonical.x,$.canonical.y)._rotate(this.transform.angle);return D.overscaledZ-$.overscaledZ||ae.y-Y.y||ae.x-Y.x}).map(B=>B.tileID.key):x.map(B=>B.tileID).sort(pc).map(B=>B.key)}hasRenderableParent(d){const g=this.findLoadedParent(d,0);return!!g&&this._isIdRenderable(g.tileID.key)}_isIdRenderable(d,g,x){return this._tiles[d]&&this._tiles[d].hasData()&&!this._coveredTiles[d]&&(g||!this._tiles[d].holdingForFade())&&(x||!this._shadowCasterTiles[d])}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const d in this._tiles)this._tiles[d].state!=="errored"&&this._reloadTile(+d,"reloading")}}_reloadTile(d,g){const x=this._tiles[d];x&&(x.state!=="loading"&&(x.state=g),this._loadTile(x,this._tileLoaded.bind(this,x,d,g)))}_tileLoaded(d,g,x,B){if(B)if(d.state="errored",B.status!==404)this._source.fire(new a.a(B,{tile:d}));else{if(!(d.tileID.key in this._loadedParentTiles))return void this._source.fire(new a.b("data",{dataType:"source",sourceDataType:"error",sourceId:this._source.id}));if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const L=this.map.painter.terrain;this.update(this.transform,L.getScaledDemTileSize(),!0),L.resetTileLookupCache(this.id)}else this.update(this.transform)}else d.timeAdded=a.f.now(),x==="expired"&&(d.refreshedUponExpiration=!0),this._setTileReloadTimer(g,d),this._source.type==="raster-dem"&&d.dem&&this._backfillDEM(d),this._state.initializeTileState(d,this.map?this.map.painter:null),this._source.fire(new a.b("data",{dataType:"source",tile:d,coord:d.tileID,sourceCacheId:this.id}))}_backfillDEM(d){const g=this.getRenderableIds();for(let B=0;B<g.length;B++){const L=g[B];if(d.neighboringTiles&&d.neighboringTiles[L]){const D=this.getTileByID(L);x(d,D),x(D,d)}}function x(B,L){if(!B.dem||B.dem.borderReady)return;B.needsHillshadePrepare=!0,B.needsDEMTextureUpload=!0;let D=L.tileID.canonical.x-B.tileID.canonical.x;const $=L.tileID.canonical.y-B.tileID.canonical.y,Y=Math.pow(2,B.tileID.canonical.z),ae=L.tileID.key;D===0&&$===0||Math.abs($)>1||(Math.abs(D)>1&&(Math.abs(D+Y)===1?D+=Y:Math.abs(D-Y)===1&&(D-=Y)),L.dem&&B.dem&&(B.dem.backfillBorder(L.dem,D,$),B.neighboringTiles&&B.neighboringTiles[ae]&&(B.neighboringTiles[ae].backfilled=!0)))}}getTile(d){return this.getTileByID(d.key)}getTileByID(d){return this._tiles[d]}_retainLoadedChildren(d,g,x,B){for(const L in this._tiles){let D=this._tiles[L];if(B[L]||!D.hasData()||D.tileID.overscaledZ<=g||D.tileID.overscaledZ>x)continue;let $=D.tileID;for(;D&&D.tileID.overscaledZ>g+1;){const ae=D.tileID.scaledTo(D.tileID.overscaledZ-1);D=this._tiles[ae.key],D&&D.hasData()&&($=ae)}let Y=$;for(;Y.overscaledZ>g;)if(Y=Y.scaledTo(Y.overscaledZ-1),d[Y.key]){B[$.key]=$;break}}}findLoadedParent(d,g){if(d.key in this._loadedParentTiles){const x=this._loadedParentTiles[d.key];return x&&x.tileID.overscaledZ>=g?x:null}for(let x=d.overscaledZ-1;x>=g;x--){const B=d.scaledTo(x),L=this._getLoadedTile(B);if(L)return L}}_getLoadedTile(d){const g=this._tiles[d.key];return g&&g.hasData()?g:this._cache.getByKey(this._source.reparseOverscaled?d.wrapped().key:d.canonical.key)}updateCacheSize(d,g){g=g||this._source.tileSize;const x=Math.ceil(d.width/g)+1,B=Math.ceil(d.height/g)+1,L=Math.floor(x*B*5),D=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,L):L,$=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,D):D;this._cache.setMaxSize($)}handleWrapJump(d){const g=Math.round((d-(this._prevLng===void 0?d:this._prevLng))/360);if(this._prevLng=d,g){const x={};for(const B in this._tiles){const L=this._tiles[B];L.tileID=L.tileID.unwrapTo(L.tileID.wrap+g),x[L.tileID.key]=L}this._tiles=x;for(const B in this._timers)clearTimeout(this._timers[B]),delete this._timers[B];for(const B in this._tiles)this._setTileReloadTimer(+B,this._tiles[B])}}update(d,g,x,B){if(this.transform=d,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!x)return;let L;if(this.updateCacheSize(d,g),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._shadowCasterTiles={},this._coveredTiles={},this.used||this.usedForTerrain)if(this._source.tileID)L=d.getVisibleUnwrappedCoordinates(this._source.tileID).map(Y=>new a.am(Y.canonical.z,Y.wrap,Y.canonical.z,Y.canonical.x,Y.canonical.y));else if(this.tileCoverLift!==0){const Y=d.clone();Y.tileCoverLift=this.tileCoverLift,L=Y.coveringTiles({tileSize:g||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!x,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.minzoom<=1&&d.projection.name==="globe"&&(L.push(new a.am(1,0,1,0,0)),L.push(new a.am(1,0,1,1,0)),L.push(new a.am(1,0,1,0,1)),L.push(new a.am(1,0,1,1,1)))}else L=d.coveringTiles({tileSize:g||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!x,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(L=L.filter(Y=>this._source.hasTile(Y)));else L=[];if(L.length>0&&this.castsShadows&&B&&this.transform.projection.name!=="globe"&&!this.usedForTerrain&&!Wl(this._source.type)){const Y=d.coveringZoomLevel({tileSize:g||this._source.tileSize,roundZoom:this._source.roundZoom&&!x}),ae=Math.min(Y,this._source.maxzoom),de=d.extendTileCoverForShadows(L,B,ae);for(const Ae of de)this._shadowCasterTiles[Ae.key]=!0,L.push(Ae)}const D=this._updateRetainedTiles(L);if(Wl(this._source.type)&&L.length!==0){const Y={},ae={},de=Object.keys(D);for(const Ce of de){const Me=D[Ce],He=this._tiles[Ce];if(!He||He.fadeEndTime&&He.fadeEndTime<=a.f.now())continue;const $e=this.findLoadedParent(Me,Math.max(Me.overscaledZ-Fu.maxOverzooming,this._source.minzoom));$e&&(this._addTile($e.tileID),Y[$e.tileID.key]=$e.tileID),ae[Ce]=Me}const Ae=L[L.length-1].overscaledZ;for(const Ce in this._tiles){const Me=this._tiles[Ce];if(D[Ce]||!Me.hasData())continue;let He=Me.tileID;for(;He.overscaledZ>Ae;){He=He.scaledTo(He.overscaledZ-1);const $e=this._tiles[He.key];if($e&&$e.hasData()&&ae[He.key]){D[Ce]=Me.tileID;break}}}for(const Ce in Y)D[Ce]||(this._coveredTiles[Ce]=!0,D[Ce]=Y[Ce])}for(const Y in D)this._tiles[Y].clearFadeHold();const $=a.b0(this._tiles,D);for(const Y of $){const ae=this._tiles[Y];ae.hasSymbolBuckets&&!ae.holdingForFade()?ae.setHoldDuration(this.map._fadeDuration):ae.hasSymbolBuckets&&!ae.symbolFadeFinished()||this._removeTile(+Y)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const d in this._tiles)this._tiles[d].holdingForFade()&&this._removeTile(+d)}_updateRetainedTiles(d){const g={};if(d.length===0)return g;const x={},B=d.reduce((ae,de)=>Math.min(ae,de.overscaledZ),1/0),L=d[0].overscaledZ,D=Math.max(L-Fu.maxOverzooming,this._source.minzoom),$=Math.max(L+Fu.maxUnderzooming,this._source.minzoom),Y={};for(const ae of d){const de=this._addTile(ae);g[ae.key]=ae,de.hasData()||B<this._source.maxzoom&&(Y[ae.key]=ae)}this._retainLoadedChildren(Y,B,$,g);for(const ae of d){let de=this._tiles[ae.key];if(de.hasData())continue;if(ae.canonical.z>=this._source.maxzoom){const Ce=ae.children(this._source.maxzoom)[0],Me=this.getTile(Ce);if(Me&&Me.hasData()){g[Ce.key]=Ce;continue}}else{const Ce=ae.children(this._source.maxzoom);if(g[Ce[0].key]&&g[Ce[1].key]&&g[Ce[2].key]&&g[Ce[3].key])continue}let Ae=de.wasRequested();for(let Ce=ae.overscaledZ-1;Ce>=D;--Ce){const Me=ae.scaledTo(Ce);if(x[Me.key]||(x[Me.key]=!0,de=this.getTile(Me),!de&&Ae&&(de=this._addTile(Me)),de&&(g[Me.key]=Me,Ae=de.wasRequested(),de.hasData())))break}}return g}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const d in this._tiles){const g=[];let x,B=this._tiles[d].tileID;for(;B.overscaledZ>0;){if(B.key in this._loadedParentTiles){x=this._loadedParentTiles[B.key];break}g.push(B.key);const L=B.scaledTo(B.overscaledZ-1);if(x=this._getLoadedTile(L),x)break;B=L}for(const L of g)this._loadedParentTiles[L]=x}}_addTile(d){let g=this._tiles[d.key];if(g)return g.isExtraShadowCaster!==!0||this._shadowCasterTiles[d.key]||this._reloadTile(d.key,"reloading"),g;g=this._cache.getAndRemove(d),g&&(this._setTileReloadTimer(d.key,g),g.tileID=d,this._state.initializeTileState(g,this.map?this.map.painter:null),this._cacheTimers[d.key]&&(clearTimeout(this._cacheTimers[d.key]),delete this._cacheTimers[d.key],this._setTileReloadTimer(d.key,g)));const x=!!g;if(!x){const B=this.map?this.map.painter:null,L=this._source.tileSize*d.overscaleFactor();g=this._source.type==="raster-array"?new Ah(d,L,this.transform.tileZoom,B,this._isRaster):new ku(d,L,this.transform.tileZoom,B,this._isRaster),this._loadTile(g,this._tileLoaded.bind(this,g,d.key,g.state))}return g?(g.uses++,this._tiles[d.key]=g,x||this._source.fire(new a.b("dataloading",{tile:g,coord:g.tileID,dataType:"source"})),g):null}_setTileReloadTimer(d,g){d in this._timers&&(clearTimeout(this._timers[d]),delete this._timers[d]);const x=g.getExpiryTimeout();x&&(this._timers[d]=setTimeout(()=>{this._reloadTile(d,"expired"),delete this._timers[d]},x))}_removeTile(d){const g=this._tiles[d];g&&(g.uses--,delete this._tiles[d],this._timers[d]&&(clearTimeout(this._timers[d]),delete this._timers[d]),g.uses>0||(g.hasData()&&g.state!=="reloading"||g.state==="empty"?this._cache.add(g.tileID,g,g.getExpiryTimeout()):(g.aborted=!0,this._abortTile(g),this._unloadTile(g))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const d in this._tiles)this._removeTile(+d);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(d,g,x){const B=[],L=this.transform;if(!L)return B;const D=L.projection.name==="globe",$=a.a5(L.center.lng);for(const Y in this._tiles){const ae=this._tiles[Y];if(x&&ae.clearQueryDebugViz(),ae.holdingForFade())continue;let de;if(D){const Ae=ae.tileID.canonical;if(Ae.z===0){const Ce=[Math.abs(a.aa($,...Xf(Ae,-1))-$),Math.abs(a.aa($,...Xf(Ae,1))-$)];de=[0,2*Ce.indexOf(Math.min(...Ce))-1]}else{const Ce=[Math.abs(a.aa($,...Xf(Ae,-1))-$),Math.abs(a.aa($,...Xf(Ae,0))-$),Math.abs(a.aa($,...Xf(Ae,1))-$)];de=[Ce.indexOf(Math.min(...Ce))-1]}}else de=[0];for(const Ae of de){const Ce=d.containsTile(ae,L,g,Ae);Ce&&B.push(Ce)}}return B}getShadowCasterCoordinates(){return this._getRenderableCoordinates(!1,!0)}getVisibleCoordinates(d){return this._getRenderableCoordinates(d)}_getRenderableCoordinates(d,g){const x=this.getRenderableIds(d,g).map(L=>this._tiles[L].tileID),B=this.transform.projection.name==="globe";for(const L of x)L.projMatrix=this.transform.calculateProjMatrix(L.toUnwrapped()),L.expandedProjMatrix=B?this.transform.calculateProjMatrix(L.toUnwrapped(),!1,!0):L.projMatrix;return x}sortCoordinatesByDistance(d){const g=d.slice(),x=this.transform._camera.position,B=this.transform._camera.forward(),L={};for(const D of g){const $=1/(1<<D.canonical.z);L[D.key]=((D.canonical.x+.5)*$+D.wrap-x[0])*B[0]+((D.canonical.y+.5)*$-x[1])*B[1]-x[2]*B[2]}return g.sort((D,$)=>L[D.key]-L[$.key]),g}hasTransition(){if(this._source.hasTransition())return!0;if(Wl(this._source.type))for(const d in this._tiles){const g=this._tiles[d];if(g.fadeEndTime!==void 0&&g.fadeEndTime>=a.f.now())return!0}return!1}setFeatureState(d,g,x){this._state.updateState(d=d||"_geojsonTileLayer",g,x)}removeFeatureState(d,g,x){this._state.removeFeatureState(d=d||"_geojsonTileLayer",g,x)}getFeatureState(d,g){return this._state.getState(d=d||"_geojsonTileLayer",g)}setDependencies(d,g,x){const B=this._tiles[d];B&&B.setDependencies(g,x)}reloadTilesForDependencies(d,g){for(const x in this._tiles)this._tiles[x].hasDependency(d,g)&&this._reloadTile(+x,"reloading");this._cache.filter(x=>!x.hasDependency(d,g))}_preloadTiles(d,g){if(!this._sourceLoaded){const Y=()=>{this._sourceLoaded&&(this._source.off("data",Y),this._preloadTiles(d,g))};return void this._source.on("data",Y)}const x=new Map,B=Array.isArray(d)?d:[d],L=this.map.painter.terrain,D=this.usedForTerrain&&L?L.getScaledDemTileSize():this._source.tileSize;for(const Y of B){const ae=Y.coveringTiles({tileSize:D,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const de of ae)x.set(de.key,de);this.usedForTerrain&&Y.updateElevation(!1)}const $=Array.from(x.values());a.b1($,(Y,ae)=>{const de=new ku(Y,this._source.tileSize*Y.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(de,Ae=>{this._source.type==="raster-dem"&&de.dem&&this._backfillDEM(de),ae(Ae,de)})},g)}}function pc(w,d){const g=Math.abs(2*w.wrap)-+(w.wrap<0),x=Math.abs(2*d.wrap)-+(d.wrap<0);return w.overscaledZ-d.overscaledZ||x-g||d.canonical.y-w.canonical.y||d.canonical.x-w.canonical.x}function Wl(w){return w==="raster"||w==="image"||w==="video"||w==="custom"}function Xf(w,d){const g=1<<w.z;return[w.x/g+d,(w.x+1)/g+d]}Fu.maxOverzooming=10,Fu.maxUnderzooming=3;class ld{constructor(d){this.style=d,this.layersGotHidden=!1,this.layers=[]}processLayersChanged(){this.layers=[];const d=!1,g=!1;for(const x in this.style._mergedLayers){const B=this.style._mergedLayers[x];if(B.type==="fill-extrusion")this.layers.push({layer:B,visible:d,visibilityChanged:g});else if(B.type==="model"){const L=this.style.getLayerSource(B);L&&L.type==="batched-model"&&this.layers.push({layer:B,visible:d,visibilityChanged:g})}}}onNewFrame(d){this.layersGotHidden=!1;for(const g of this.layers){const x=g.layer;let B=!1;x.type==="fill-extrusion"?B=!x.isHidden(d)&&x.paint.get("fill-extrusion-opacity")>0:x.type==="model"&&(B=!x.isHidden(d)&&x.paint.get("model-opacity")>0),this.layersGotHidden=this.layersGotHidden||!B&&g.visible,g.visible=B}}updateZOffset(d,g){this.currentBuildingBuckets=[];for(const B of this.layers){const L=B.layer,D=this.style.getLayerSourceCache(L);let $=1;L.type==="fill-extrusion"&&($=B.visible?L.paint.get("fill-extrusion-vertical-scale"):0);let Y=D?D.getTile(g):null;if(!Y&&D&&g.canonical.z>D.getSource().minzoom){let ae=g.scaledTo(Math.min(D.getSource().maxzoom,g.overscaledZ-1));for(;ae.overscaledZ>=D.getSource().minzoom&&(Y=D.getTile(ae),!Y&&ae.overscaledZ!==0);)ae=ae.scaledTo(ae.overscaledZ-1)}this.currentBuildingBuckets.push({bucket:Y?Y.getBucket(L):null,tileID:Y?Y.tileID:g,verticalScale:$})}d.hasAnyZOffset=!1;let x=!1;for(let B=0;B<d.symbolInstances.length;B++){const L=d.symbolInstances.get(B),D=L.zOffset,$=this._getHeightAtTileOffset(g,L.tileAnchorX,L.tileAnchorY);L.zOffset=$!==Number.NEGATIVE_INFINITY?$:D,x||D===L.zOffset||(x=!0),d.hasAnyZOffset||L.zOffset===0||(d.hasAnyZOffset=!0)}x&&(d.zOffsetBuffersNeedUpload=!0,d.zOffsetSortDirty=!0)}_mapCoordToOverlappingTile(d,g,x,B){let L=g,D=x;if(d.canonical.z!==B.canonical.z){const $=B.canonical,Y=1/(1<<d.canonical.z-$.z);L=(g+d.canonical.x*a.V)*Y-$.x*a.V|0,D=(x+d.canonical.y*a.V)*Y-$.y*a.V|0}return{tileX:L,tileY:D}}_getHeightAtTileOffset(d,g,x){let B,L;for(let D=0;D<this.layers.length;++D){if(this.layers[D].layer.type!=="fill-extrusion")continue;const{bucket:$,tileID:Y,verticalScale:ae}=this.currentBuildingBuckets[D];if(!$)continue;const{tileX:de,tileY:Ae}=this._mapCoordToOverlappingTile(d,g,x,Y),Ce=$.getHeightAtTileCoord(de,Ae);Ce&&Ce.height!==void 0&&(Ce.hidden?B=Ce.height:L=Math.max(Ce.height*ae,L||0))}if(L!==void 0)return L;for(let D=0;D<this.layers.length;++D){const $=this.layers[D];if($.layer.type!=="model"||!$.visible)continue;const{bucket:Y,tileID:ae}=this.currentBuildingBuckets[D];if(!Y)continue;const{tileX:de,tileY:Ae}=this._mapCoordToOverlappingTile(d,g,x,ae),Ce=Y.getHeightAtTileCoord(de,Ae);if(Ce&&!Ce.hidden)return Ce.height===void 0&&B!==void 0?Math.min(Ce.maxHeight,B)*Ce.verticalScale:(Ce.height||0)*Ce.verticalScale}return this.layersGotHidden?0:Number.NEGATIVE_INFINITY}}function vl(w,d){const g={};for(const x in w)x!=="ref"&&(g[x]=w[x]);return a.b2.forEach(x=>{x in d&&(g[x]=d[x])}),g}function bA(w){w=w.slice();const d=Object.create(null);for(let g=0;g<w.length;g++)d[w[g].id]=w[g];for(let g=0;g<w.length;g++)"ref"in w[g]&&(w[g]=vl(w[g],d[w[g].ref]));return w}const Ni={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setSlot:"setSlot",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setCamera:"setCamera",setLights:"setLights",setProjection:"setProjection",addImport:"addImport",removeImport:"removeImport",updateImport:"updateImport"};function Zf(w,d,g){g.push({command:Ni.addSource,args:[w,d[w]]})}function Jd(w,d,g){d.push({command:Ni.removeSource,args:[w]}),g[w]=!0}function z1(w,d,g,x){Jd(w,g,x),Zf(w,d,g)}function jm(w,d,g){let x;for(x in w[g])if(w[g].hasOwnProperty(x)&&x!=="data"&&!f(w[g][x],d[g][x]))return!1;for(x in d[g])if(d[g].hasOwnProperty(x)&&x!=="data"&&!f(w[g][x],d[g][x]))return!1;return!0}function Ac(w,d,g,x,B,L){let D;for(D in d=d||{},w=w||{})w.hasOwnProperty(D)&&(f(w[D],d[D])||g.push({command:L,args:[x,D,d[D],B]}));for(D in d)d.hasOwnProperty(D)&&!w.hasOwnProperty(D)&&(f(w[D],d[D])||g.push({command:L,args:[x,D,d[D],B]}))}function Kc(w){return w.id}function ud(w,d){return w[d.id]=d,w}class mh{constructor(d,g){this.reset(d,g)}reset(d,g){this.points=d||[],this._distances=[0];for(let x=1;x<this.points.length;x++)this._distances[x]=this._distances[x-1]+this.points[x].dist(this.points[x-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(g||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(d){if(this.points.length===1)return this.points[0];d=a.aa(d,0,1);let g=1,x=this._distances[g];const B=d*this.paddedLength+this.padding;for(;x<B&&g<this._distances.length;)x=this._distances[++g];const L=g-1,D=this._distances[L],$=x-D,Y=$>0?(B-D)/$:0;return this.points[L].mult(1-Y).add(this.points[g].mult(Y))}}class Jf{constructor(d,g,x){const B=this.boxCells=[],L=this.circleCells=[];this.xCellCount=Math.ceil(d/x),this.yCellCount=Math.ceil(g/x);for(let D=0;D<this.xCellCount*this.yCellCount;D++)B.push([]),L.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=d,this.height=g,this.xScale=this.xCellCount/d,this.yScale=this.yCellCount/g,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(d,g,x,B,L){this._forEachCell(g,x,B,L,this._insertBoxCell,this.boxUid++),this.boxKeys.push(d),this.bboxes.push(g),this.bboxes.push(x),this.bboxes.push(B),this.bboxes.push(L)}insertCircle(d,g,x,B){this._forEachCell(g-B,x-B,g+B,x+B,this._insertCircleCell,this.circleUid++),this.circleKeys.push(d),this.circles.push(g),this.circles.push(x),this.circles.push(B)}_insertBoxCell(d,g,x,B,L,D){this.boxCells[L].push(D)}_insertCircleCell(d,g,x,B,L,D){this.circleCells[L].push(D)}_query(d,g,x,B,L,D){if(x<0||d>this.width||B<0||g>this.height)return!L&&[];const $=[];if(d<=0&&g<=0&&this.width<=x&&this.height<=B){if(L)return!0;for(let Y=0;Y<this.boxKeys.length;Y++)$.push({key:this.boxKeys[Y],x1:this.bboxes[4*Y],y1:this.bboxes[4*Y+1],x2:this.bboxes[4*Y+2],y2:this.bboxes[4*Y+3]});for(let Y=0;Y<this.circleKeys.length;Y++){const ae=this.circles[3*Y],de=this.circles[3*Y+1],Ae=this.circles[3*Y+2];$.push({key:this.circleKeys[Y],x1:ae-Ae,y1:de-Ae,x2:ae+Ae,y2:de+Ae})}return D?$.filter(D):$}return this._forEachCell(d,g,x,B,this._queryCell,$,{hitTest:L,seenUids:{box:{},circle:{}}},D),L?$.length>0:$}_queryCircle(d,g,x,B,L){const D=d-x,$=d+x,Y=g-x,ae=g+x;if($<0||D>this.width||ae<0||Y>this.height)return!B&&[];const de=[];return this._forEachCell(D,Y,$,ae,this._queryCellCircle,de,{hitTest:B,circle:{x:d,y:g,radius:x},seenUids:{box:{},circle:{}}},L),B?de.length>0:de}query(d,g,x,B,L){return this._query(d,g,x,B,!1,L)}hitTest(d,g,x,B,L){return this._query(d,g,x,B,!0,L)}hitTestCircle(d,g,x,B){return this._queryCircle(d,g,x,!0,B)}_queryCell(d,g,x,B,L,D,$,Y){const ae=$.seenUids,de=this.boxCells[L];if(de!==null){const Ce=this.bboxes;for(const Me of de)if(!ae.box[Me]){ae.box[Me]=!0;const He=4*Me;if(d<=Ce[He+2]&&g<=Ce[He+3]&&x>=Ce[He+0]&&B>=Ce[He+1]&&(!Y||Y(this.boxKeys[Me]))){if($.hitTest)return D.push(!0),!0;D.push({key:this.boxKeys[Me],x1:Ce[He],y1:Ce[He+1],x2:Ce[He+2],y2:Ce[He+3]})}}}const Ae=this.circleCells[L];if(Ae!==null){const Ce=this.circles;for(const Me of Ae)if(!ae.circle[Me]){ae.circle[Me]=!0;const He=3*Me;if(this._circleAndRectCollide(Ce[He],Ce[He+1],Ce[He+2],d,g,x,B)&&(!Y||Y(this.circleKeys[Me]))){if($.hitTest)return D.push(!0),!0;{const $e=Ce[He],Ke=Ce[He+1],Pe=Ce[He+2];D.push({key:this.circleKeys[Me],x1:$e-Pe,y1:Ke-Pe,x2:$e+Pe,y2:Ke+Pe})}}}}}_queryCellCircle(d,g,x,B,L,D,$,Y){const ae=$.circle,de=$.seenUids,Ae=this.boxCells[L];if(Ae!==null){const Me=this.bboxes;for(const He of Ae)if(!de.box[He]){de.box[He]=!0;const $e=4*He;if(this._circleAndRectCollide(ae.x,ae.y,ae.radius,Me[$e+0],Me[$e+1],Me[$e+2],Me[$e+3])&&(!Y||Y(this.boxKeys[He])))return D.push(!0),!0}}const Ce=this.circleCells[L];if(Ce!==null){const Me=this.circles;for(const He of Ce)if(!de.circle[He]){de.circle[He]=!0;const $e=3*He;if(this._circlesCollide(Me[$e],Me[$e+1],Me[$e+2],ae.x,ae.y,ae.radius)&&(!Y||Y(this.circleKeys[He])))return D.push(!0),!0}}}_forEachCell(d,g,x,B,L,D,$,Y){const ae=this._convertToXCellCoord(d),de=this._convertToYCellCoord(g),Ae=this._convertToXCellCoord(x),Ce=this._convertToYCellCoord(B);for(let Me=ae;Me<=Ae;Me++)for(let He=de;He<=Ce;He++)if(L.call(this,d,g,x,B,this.xCellCount*He+Me,D,$,Y))return}_convertToXCellCoord(d){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(d*this.xScale)))}_convertToYCellCoord(d){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(d*this.yScale)))}_circlesCollide(d,g,x,B,L,D){const $=B-d,Y=L-g,ae=x+D;return ae*ae>$*$+Y*Y}_circleAndRectCollide(d,g,x,B,L,D,$){const Y=(D-B)/2,ae=Math.abs(d-(B+Y));if(ae>Y+x)return!1;const de=($-L)/2,Ae=Math.abs(g-(L+de));if(Ae>de+x)return!1;if(ae<=Y||Ae<=de)return!0;const Ce=ae-Y,Me=Ae-de;return Ce*Ce+Me*Me<=x*x}}const mc={unknown:0,flipRequired:1,flipNotRequired:2},gh=Math.tan(85*Math.PI/180);function vh(w,d,g,x,B,L,D){const $=a.a6.create();if(g)if(L.name==="globe"){const Y=a.b3(B,d);a.a6.multiply($,$,Y)}else{const Y=a.b4.invert([],D);$[0]=Y[0],$[1]=Y[1],$[4]=Y[2],$[5]=Y[3],x||a.a6.rotateZ($,$,B.angle)}else a.a6.multiply($,B.labelPlaneMatrix,w);return $}function cd(w,d,g,x,B,L,D){const $=vh(w,d,g,x,B,L,D);return L.name==="globe"&&g||($[2]=$[6]=$[10]=$[14]=0),$}function ep(w,d,g,x,B,L,D){if(g){if(L.name==="globe"){const $=vh(w,d,g,x,B,L,D);return a.a6.invert($,$),a.a6.multiply($,w,$),$}{const $=a.a6.clone(w),Y=a.a6.identity([]);return Y[0]=D[0],Y[1]=D[1],Y[4]=D[2],Y[5]=D[3],a.a6.multiply($,$,Y),x||a.a6.rotateZ($,$,-B.angle),$}}return B.glCoordMatrix}function jo(w,d,g,x){const B=[w,d,g,1];g?a.a7.transformMat4(B,B,x):sa(B,B,x);const L=B[3];return B[0]/=L,B[1]/=L,B[2]/=L,B}function wA(w,d){return Math.min(.5+w/d*.5,1.5)}function me(w,d){const g=w[0]/w[3],x=w[1]/w[3];return g>=-d[0]&&g<=d[0]&&x>=-d[1]&&x<=d[1]}function tt(w,d,g,x,B,L,D,$,Y,ae){const de=g.transform,Ae=x?w.textSizeData:w.iconSizeData,Ce=a.b5(Ae,g.transform.zoom),Me=de.projection.name==="globe",He=[256/g.width*2+1,256/g.height*2+1],$e=x?w.text.dynamicLayoutVertexArray:w.icon.dynamicLayoutVertexArray;$e.clear();let Ke=null;Me&&(Ke=x?w.text.globeExtVertexArray:w.icon.globeExtVertexArray);const Pe=w.lineVertexArray,Ze=x?w.text.placedSymbolArray:w.icon.placedSymbolArray,pt=g.transform.width/g.transform.height;let st,At=!1;for(let qe=0;qe<Ze.length;qe++){const mt=Ze.get(qe),{numGlyphs:Pt,writingMode:Ot}=mt;if(Ot!==a.b6.vertical||At||st===a.b6.horizontal||(At=!0),st=Ot,(mt.hidden||Ot===a.b6.vertical)&&!At){gi(Pt,$e);continue}At=!1;const Qt=new a.P(mt.tileAnchorX,mt.tileAnchorY);let{x:fn,y:Wt,z:xn}=de.projection.projectTilePoint(Qt.x,Qt.y,ae.canonical);if(Y){const[pr,Ir,jr]=Y(Qt);fn+=pr,Wt+=Ir,xn+=jr}const _n=[fn,Wt,xn,1];if(a.a7.transformMat4(_n,_n,d),!me(_n,He)){gi(Pt,$e);continue}const $n=_n[3],Yt=wA(g.transform.getCameraToCenterDistance(de.projection),$n),mn=a.b7(Ae,Ce,mt),$t=D?mn/Yt:mn*Yt,on=jo(fn,Wt,xn,B);if(on[3]<=0){gi(Pt,$e);continue}let Kn={};const ir=D?null:Y,nr=wn(mt,$t,!1,$,d,B,L,w.glyphOffsetArray,Pe,$e,Ke,on,Qt,Kn,pt,ir,de.projection,ae,D);At=nr.useVertical,ir&&nr.needsFlipping&&(Kn={}),(nr.notEnoughRoom||At||nr.needsFlipping&&wn(mt,$t,!0,$,d,B,L,w.glyphOffsetArray,Pe,$e,Ke,on,Qt,Kn,pt,ir,de.projection,ae,D).notEnoughRoom)&&gi(Pt,$e)}x?(w.text.dynamicLayoutVertexBuffer.updateData($e),Ke&&w.text.globeExtVertexBuffer&&w.text.globeExtVertexBuffer.updateData(Ke)):(w.icon.dynamicLayoutVertexBuffer.updateData($e),Ke&&w.icon.globeExtVertexBuffer&&w.icon.globeExtVertexBuffer.updateData(Ke))}function zt(w,d,g,x,B,L,D,$,Y,ae,de,Ae,Ce,Me,He,$e){const{lineStartIndex:Ke,glyphStartIndex:Pe,segment:Ze}=$,pt=Pe+$.numGlyphs,st=Ke+$.lineLength,At=d.getoffsetX(Pe),qe=d.getoffsetX(pt-1),mt=Wr(w*At,g,x,B,L,D,Ze,Ke,st,Y,ae,de,Ae,Ce,!0,Me,He,$e);if(!mt)return null;const Pt=Wr(w*qe,g,x,B,L,D,Ze,Ke,st,Y,ae,de,Ae,Ce,!0,Me,He,$e);return Pt?{first:mt,last:Pt}:null}function Zt(w,d,g,x){return w===a.b6.horizontal&&Math.abs(x)>Math.abs(g)?{useVertical:!0}:w===a.b6.vertical?x>0?{needsFlipping:!0}:null:d!==mc.unknown&&function(B,L){return B===0||Math.abs(L/B)>gh}(g,x)?d===mc.flipRequired?{needsFlipping:!0}:null:g<0?{needsFlipping:!0}:null}function wn(w,d,g,x,B,L,D,$,Y,ae,de,Ae,Ce,Me,He,$e,Ke,Pe,Ze){const pt=d/24,st=w.lineOffsetX*pt,At=w.lineOffsetY*pt,{lineStartIndex:qe,glyphStartIndex:mt,numGlyphs:Pt,segment:Ot,writingMode:Qt,flipState:fn}=w,Wt=qe+w.lineLength,xn=_n=>{if(de){const[$t,on,Kn]=_n.up,ir=ae.length;a.b8(de,ir+0,$t,on,Kn),a.b8(de,ir+1,$t,on,Kn),a.b8(de,ir+2,$t,on,Kn),a.b8(de,ir+3,$t,on,Kn)}const[$n,Yt,mn]=_n.point;a.b9(ae,$n,Yt,mn,_n.angle)};if(Pt>1){const _n=zt(pt,$,st,At,g,Ae,Ce,w,Y,L,Me,$e,!1,Ke,Pe,Ze);if(!_n)return{notEnoughRoom:!0};if(x&&!g){let[$n,Yt,mn]=_n.first.point,[$t,on,Kn]=_n.last.point;[$n,Yt]=jo($n,Yt,mn,D),[$t,on]=jo($t,on,Kn,D);const ir=Zt(Qt,fn,($t-$n)*He,on-Yt);if(w.flipState=ir&&ir.needsFlipping?mc.flipRequired:mc.flipNotRequired,ir)return ir}xn(_n.first);for(let $n=mt+1;$n<mt+Pt-1;$n++){const Yt=Wr(pt*$.getoffsetX($n),st,At,g,Ae,Ce,Ot,qe,Wt,Y,L,Me,$e,!1,!1,Ke,Pe,Ze);if(!Yt)return ae.length-=4*($n-mt),{notEnoughRoom:!0};xn(Yt)}xn(_n.last)}else{if(x&&!g){const $n=jo(Ce.x,Ce.y,0,B),Yt=qe+Ot+1,mn=new a.P(Y.getx(Yt),Y.gety(Yt)),$t=jo(mn.x,mn.y,0,B),on=$t[3]>0?$t:vr(Ce,mn,$n,1,B,void 0,Ke,Pe.canonical),Kn=Zt(Qt,fn,(on[0]-$n[0])*He,on[1]-$n[1]);if(w.flipState=Kn&&Kn.needsFlipping?mc.flipRequired:mc.flipNotRequired,Kn)return Kn}const _n=Wr(pt*$.getoffsetX(mt),st,At,g,Ae,Ce,Ot,qe,Wt,Y,L,Me,$e,!1,!1,Ke,Pe,Ze);if(!_n)return{notEnoughRoom:!0};xn(_n)}return{}}function Wn(w,d,g,x,B){const{x:L,y:D,z:$}=x.projectTilePoint(w.x,w.y,d);if(!B)return jo(L,D,$,g);const[Y,ae,de]=B(w);return jo(L+Y,D+ae,$+de,g)}function vr(w,d,g,x,B,L,D,$){const Y=Wn(w.sub(d)._unit()._add(w),$,B,D,L);return a.N.sub(Y,g,Y),a.N.normalize(Y,Y),a.N.scaleAndAdd(Y,g,Y,x)}function Wr(w,d,g,x,B,L,D,$,Y,ae,de,Ae,Ce,Me,He,$e,Ke,Pe){const Ze=x?w-d:w+d;let pt=Ze>0?1:-1,st=0;x&&(pt*=-1,st=Math.PI),pt<0&&(st+=Math.PI);let At=$+D+(pt>0?0:1)|0,qe=B,mt=B,Pt=0,Ot=0;const Qt=Math.abs(Ze),fn=[],Wt=[];let xn=L,_n=xn;const $n=()=>vr(_n,xn,mt,Qt-Pt+1,de,Ce,$e,Ke.canonical);for(;Pt+Ot<=Qt;){if(At+=pt,At<$||At>=Y)return null;if(mt=qe,_n=xn,fn.push(mt),Me&&Wt.push(_n),xn=new a.P(ae.getx(At),ae.gety(At)),qe=Ae[At],!qe){const Ir=Wn(xn,Ke.canonical,de,$e,Ce);qe=Ir[3]>0?Ae[At]=Ir:$n()}Pt+=Ot,Ot=a.N.distance(mt,qe)}He&&Ce&&(Ae[At]&&(qe=$n(),Ot=a.N.distance(mt,qe)),Ae[At]=qe);const Yt=(Qt-Pt)/Ot,mn=xn.sub(_n)._mult(Yt)._add(_n),$t=a.N.sub([],qe,mt),on=a.N.scaleAndAdd([],mt,$t,Yt);let Kn=[0,0,1],ir=$t[0],nr=$t[1];if(Pe&&(Kn=$e.upVector(Ke.canonical,mn.x,mn.y),Kn[0]!==0||Kn[1]!==0||Kn[2]!==1)){const Ir=[Kn[2],0,-Kn[0]],jr=a.N.cross([],Kn,Ir);a.N.normalize(Ir,Ir),a.N.normalize(jr,jr),ir=a.N.dot($t,Ir),nr=a.N.dot($t,jr)}if(g){const Ir=a.N.cross([],Kn,$t);a.N.normalize(Ir,Ir),a.N.scaleAndAdd(on,on,Ir,g*pt)}const pr=st+Math.atan2(nr,ir);return fn.push(on),Me&&Wt.push(mn),{point:on,angle:pr,path:fn,tilePath:Wt,up:Kn}}function gi(w,d){const g=d.length,x=g+4*w;d.resize(x),d.float32.fill(-1/0,4*g,4*x)}function sa(w,d,g){const x=d[0],B=d[1];return w[0]=g[0]*x+g[4]*B+g[12],w[1]=g[1]*x+g[5]*B+g[13],w[3]=g[3]*x+g[7]*B+g[15],w}const Ki=100;class zn{constructor(d,g,x=new Jf(d.width+200,d.height+200,25),B=new Jf(d.width+200,d.height+200,25)){this.transform=d,this.grid=x,this.ignoredGrid=B,this.pitchfactor=Math.cos(d._pitch)*d.cameraToCenterDistance,this.screenRightBoundary=d.width+Ki,this.screenBottomBoundary=d.height+Ki,this.gridRightBoundary=d.width+200,this.gridBottomBoundary=d.height+200,this.fogState=g}placeCollisionBox(d,g,x,B,L,D,$,Y){let ae=x.projectedAnchorX,de=x.projectedAnchorY,Ae=x.projectedAnchorZ;const Ce=x.elevation,Me=x.tileID,He=d.getProjection();if(Ce&&Me){const[qe,mt,Pt]=He.upVector(Me.canonical,x.tileAnchorX,x.tileAnchorY),Ot=He.upVectorScale(Me.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;ae+=qe*Ce*Ot,de+=mt*Ce*Ot,Ae+=Pt*Ce*Ot}const $e=this.projectAndGetPerspectiveRatio($,ae,de,Ae,x.tileID,He.name==="globe"||!!Ce||this.transform.pitch>0,He),Ke=D*$e.perspectiveRatio,Pe=(x.x1*g+B.x-x.padding)*Ke+$e.point.x,Ze=(x.y1*g+B.y-x.padding)*Ke+$e.point.y,pt=(x.x2*g+B.x+x.padding)*Ke+$e.point.x,st=(x.y2*g+B.y+x.padding)*Ke+$e.point.y,At=$e.perspectiveRatio<=.55||$e.occluded;return!this.isInsideGrid(Pe,Ze,pt,st)||!L&&this.grid.hitTest(Pe,Ze,pt,st,Y)||At?{box:[],offscreen:!1,occluded:$e.occluded}:{box:[Pe,Ze,pt,st],offscreen:this.isOffscreen(Pe,Ze,pt,st),occluded:!1}}placeCollisionCircles(d,g,x,B,L,D,$,Y,ae,de,Ae,Ce,Me,He,$e){const Ke=[],Pe=this.transform.elevation,Ze=d.getProjection(),pt=Pe?Pe.getAtTileOffsetFunc($e,this.transform.center.lat,this.transform.worldSize,Ze):null,st=new a.P(x.tileAnchorX,x.tileAnchorY);let{x:At,y:qe,z:mt}=Ze.projectTilePoint(st.x,st.y,$e.canonical);if(pt){const[mn,$t,on]=pt(st);At+=mn,qe+=$t,mt+=on}const Pt=Ze.name==="globe",Ot=this.projectAndGetPerspectiveRatio($,At,qe,mt,$e,Pt||!!Pe||this.transform.pitch>0,Ze),{perspectiveRatio:Qt}=Ot,fn=(Ae?D/Qt:D*Qt)/a.bc,Wt=jo(At,qe,mt,Y),xn=Ot.signedDistanceFromCamera>0?zt(fn,L,x.lineOffsetX*fn,x.lineOffsetY*fn,!1,Wt,st,x,B,Y,{},Pe&&!Ae?pt:null,Ae&&!!Pe,Ze,$e,Ae):null;let _n=!1,$n=!1,Yt=!0;if(xn&&!Ot.occluded){const mn=.5*Me*Qt+He,$t=new a.P(-100,-100),on=new a.P(this.screenRightBoundary,this.screenBottomBoundary),Kn=new mh,{first:ir,last:nr}=xn,pr=ir.path.length;let Ir=[];for(let zr=pr-1;zr>=1;zr--)Ir.push(ir.path[zr]);for(let zr=1;zr<nr.path.length;zr++)Ir.push(nr.path[zr]);const jr=2.5*mn;ae&&(Ir=Ir.map(([zr,Ri,hi],Ei)=>(pt&&!Pt&&(hi=pt(Ei<pr-1?ir.tilePath[pr-1-Ei]:nr.tilePath[Ei-pr+2])[2]),jo(zr,Ri,hi,ae))),Ir.some(zr=>zr[3]<=0)&&(Ir=[]));let Nr=[];if(Ir.length>0){let zr=1/0,Ri=-1/0,hi=1/0,Ei=-1/0;for(const wi of Ir)zr=Math.min(zr,wi[0]),hi=Math.min(hi,wi[1]),Ri=Math.max(Ri,wi[0]),Ei=Math.max(Ei,wi[1]);Ri>=$t.x&&zr<=on.x&&Ei>=$t.y&&hi<=on.y&&(Nr=[Ir.map(wi=>new a.P(wi[0],wi[1]))],(zr<$t.x||Ri>on.x||hi<$t.y||Ei>on.y)&&(Nr=a.ba(Nr,$t.x,$t.y,on.x,on.y)))}for(const zr of Nr){Kn.reset(zr,.25*mn);let Ri=0;Ri=Kn.length<=.5*mn?1:Math.ceil(Kn.paddedLength/jr)+1;for(let hi=0;hi<Ri;hi++){const Ei=hi/Math.max(Ri-1,1),wi=Kn.lerp(Ei),ia=wi.x+Ki,ns=wi.y+Ki;Ke.push(ia,ns,mn,0);const Yi=ia-mn,ks=ns-mn,Xi=ia+mn,_a=ns+mn;if(Yt=Yt&&this.isOffscreen(Yi,ks,Xi,_a),$n=$n||this.isInsideGrid(Yi,ks,Xi,_a),!g&&this.grid.hitTestCircle(ia,ns,mn,Ce)&&(_n=!0,!de))return{circles:[],offscreen:!1,collisionDetected:_n,occluded:!1}}}}return{circles:!de&&_n||!$n?[]:Ke,offscreen:Yt,collisionDetected:_n,occluded:Ot.occluded}}queryRenderedSymbols(d){if(d.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const g=[];let x=1/0,B=1/0,L=-1/0,D=-1/0;for(const de of d){const Ae=new a.P(de.x+Ki,de.y+Ki);x=Math.min(x,Ae.x),B=Math.min(B,Ae.y),L=Math.max(L,Ae.x),D=Math.max(D,Ae.y),g.push(Ae)}const $=this.grid.query(x,B,L,D).concat(this.ignoredGrid.query(x,B,L,D)),Y={},ae={};for(const de of $){const Ae=de.key;if(Y[Ae.bucketInstanceId]===void 0&&(Y[Ae.bucketInstanceId]={}),Y[Ae.bucketInstanceId][Ae.featureIndex])continue;const Ce=[new a.P(de.x1,de.y1),new a.P(de.x2,de.y1),new a.P(de.x2,de.y2),new a.P(de.x1,de.y2)];a.bb(g,Ce)&&(Y[Ae.bucketInstanceId][Ae.featureIndex]=!0,ae[Ae.bucketInstanceId]===void 0&&(ae[Ae.bucketInstanceId]=[]),ae[Ae.bucketInstanceId].push(Ae.featureIndex))}return ae}insertCollisionBox(d,g,x,B,L){(g?this.ignoredGrid:this.grid).insert({bucketInstanceId:x,featureIndex:B,collisionGroupID:L},d[0],d[1],d[2],d[3])}insertCollisionCircles(d,g,x,B,L){const D=g?this.ignoredGrid:this.grid,$={bucketInstanceId:x,featureIndex:B,collisionGroupID:L};for(let Y=0;Y<d.length;Y+=4)D.insertCircle($,d[Y],d[Y+1],d[Y+2])}projectAndGetPerspectiveRatio(d,g,x,B,L,D,$){const Y=[g,x,B,1];let ae=!1;B||this.transform.pitch>0?(a.a7.transformMat4(Y,Y,d),this.fogState&&L&&$.name!=="globe"&&(ae=function(Ce,Me,He,$e,Ke,Pe){const Ze=Pe.calculateFogTileMatrix(Ke),pt=[Me,He,$e];return a.N.transformMat4(pt,pt,Ze),Nn(Ce,a.N.length(pt),Pe.pitch,Pe._fov)}(this.fogState,g,x,B,L.toUnwrapped(),this.transform)>.9)):sa(Y,Y,d);const de=Y[3];return{point:new a.P((Y[0]/de+1)/2*this.transform.width+Ki,(-Y[1]/de+1)/2*this.transform.height+Ki),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance($)/de*.5,1.5),signedDistanceFromCamera:de,occluded:D&&Y[2]>de||ae}}isOffscreen(d,g,x,B){return x<Ki||d>=this.screenRightBoundary||B<Ki||g>this.screenBottomBoundary}isInsideGrid(d,g,x,B){return x>=0&&d<this.gridRightBoundary&&B>=0&&g<this.gridBottomBoundary}getViewportMatrix(){const d=a.a6.identity([]);return a.a6.translate(d,d,[-100,-100,0]),d}}function Is(w,d,g){const x=d.createTileMatrix(w,w.worldSize,g.toUnwrapped());return a.a6.multiply(new Float32Array(16),w.projMatrix,x)}function Ys(w,d,g){if(d.projection.name===g.projection.name)return w.projMatrix;const x=g.clone();return x.setProjection(d.projection),Is(x,d.getProjection(),w)}function Xs(w,d,g){return d.name===g.projection.name?w.projMatrix:Is(g,d,w)}class nl{constructor(d,g,x,B){this.opacity=d?Math.max(0,Math.min(1,d.opacity+(d.placed?g:-g))):B&&x?1:0,this.placed=x}isHidden(){return this.opacity===0&&!this.placed}}class $s{constructor(d,g,x,B,L,D=!1){this.text=new nl(d?d.text:null,g,x,L),this.icon=new nl(d?d.icon:null,g,B,L),this.clipped=D}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Bo{constructor(d,g,x,B=!1){this.text=d,this.icon=g,this.skipFade=x,this.clipped=B}}class hu{constructor(){this.invProjMatrix=a.a6.create(),this.viewportMatrix=a.a6.create(),this.circles=[]}}class du{constructor(d,g,x,B,L){this.bucketInstanceId=d,this.featureIndex=g,this.sourceLayerIndex=x,this.bucketIndex=B,this.tileID=L}}class tp{constructor(d){this.crossSourceCollisions=d,this.maxGroupID=0,this.collisionGroups={}}get(d){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[d]){const g=++this.maxGroupID;this.collisionGroups[d]={ID:g,predicate:x=>x.collisionGroupID===g}}return this.collisionGroups[d]}}function Wc(w,d,g,x,B){const{horizontalAlign:L,verticalAlign:D}=a.bf(w),$=-(L-.5)*d,Y=-(D-.5)*g,ae=a.bd(w,x);return new a.P($+ae[0]*B,Y+ae[1]*B)}function np(w,d,g,x,B){const L=new a.P(w,d);return g&&L._rotate(x?B:-B),L}class xA{constructor(d,g,x,B,L,D){this.transform=d.clone(),this.projection=d.projection.name,this.collisionIndex=new zn(this.transform,L),this.buildingIndex=D,this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=g,this.retainedQueryData={},this.collisionGroups=new tp(x),this.collisionCircleArrays={},this.prevPlacement=B,B&&(B.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(d,g,x,B){const L=x.getBucket(g),D=x.latestFeatureIndex;if(!L||!D||g.fqid!==L.layerIds[0])return;const $=L.layers[0].layout,Y=x.collisionBoxArray,ae=Math.pow(2,this.transform.zoom-x.tileID.overscaledZ),de=x.tileSize/a.V,Ae=x.tileID.toUnwrapped();this.transform.setProjection(L.projection);const Ce=(Me=x.tileID,He=L.getProjection(),$e=this.transform,He.name===this.projection?$e.calculateProjMatrix(Me.toUnwrapped()):Is($e,He,Me));var Me,He,$e;const Ke=$.get("text-pitch-alignment")==="map",Pe=$.get("text-rotation-alignment")==="map";g.compileFilter();const Ze=g.dynamicFilter(),pt=g.dynamicFilterNeedsFeature(),st=this.transform.calculatePixelsToTileUnitsMatrix(x),At=cd(Ce,x.tileID.canonical,Ke,Pe,this.transform,L.getProjection(),st);let qe=null;if(Ke){const Ot=ep(Ce,x.tileID.canonical,Ke,Pe,this.transform,L.getProjection(),st);qe=a.a6.multiply([],this.transform.labelPlaneMatrix,Ot)}let mt=null;Ze&&x.latestFeatureIndex&&(mt={unwrappedTileID:Ae,dynamicFilter:Ze,dynamicFilterNeedsFeature:pt,featureIndex:x.latestFeatureIndex}),this.retainedQueryData[L.bucketInstanceId]=new du(L.bucketInstanceId,D,L.sourceLayerIndex,L.index,x.tileID);const Pt={bucket:L,layout:$,posMatrix:Ce,textLabelPlaneMatrix:At,labelToScreenMatrix:qe,clippingData:mt,scale:ae,textPixelRatio:de,holdingForFade:x.holdingForFade(),collisionBoxArray:Y,partiallyEvaluatedTextSize:a.b5(L.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:a.b5(L.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(L.sourceID)};if(B)for(const Ot of L.sortKeyRanges){const{sortKey:Qt,symbolInstanceStart:fn,symbolInstanceEnd:Wt}=Ot;d.push({sortKey:Qt,symbolInstanceStart:fn,symbolInstanceEnd:Wt,parameters:Pt})}else d.push({symbolInstanceStart:0,symbolInstanceEnd:L.symbolInstances.length,parameters:Pt})}attemptAnchorPlacement(d,g,x,B,L,D,$,Y,ae,de,Ae,Ce,Me,He,$e,Ke,Pe,Ze){const{textOffset0:pt,textOffset1:st,crossTileID:At}=Ce,qe=[pt,st],mt=Wc(d,x,B,qe,L),Pt=this.collisionIndex.placeCollisionBox(He,L,g,np(mt.x,mt.y,D,$,this.transform.angle),Ae,Y,ae,de.predicate);if(Ke){const Ot=He.getSymbolInstanceIconSize(Ze,this.transform.zoom,Ce.placedIconSymbolIndex);if(this.collisionIndex.placeCollisionBox(He,Ot,Ke,np(mt.x,mt.y,D,$,this.transform.angle),Ae,Y,ae,de.predicate).box.length===0)return}if(Pt.box.length>0){let Ot;return this.prevPlacement&&this.prevPlacement.variableOffsets[At]&&this.prevPlacement.placements[At]&&this.prevPlacement.placements[At].text&&(Ot=this.prevPlacement.variableOffsets[At].anchor),this.variableOffsets[At]={textOffset:qe,width:x,height:B,anchor:d,textScale:L,prevAnchor:Ot},this.markUsedJustification(He,d,Ce,$e),He.allowVerticalPlacement&&(this.markUsedOrientation(He,$e,Ce),this.placedOrientations[At]=$e),{shift:mt,placedGlyphBoxes:Pt}}}placeLayerBucketPart(d,g,x,B){const{bucket:L,layout:D,posMatrix:$,textLabelPlaneMatrix:Y,labelToScreenMatrix:ae,clippingData:de,textPixelRatio:Ae,holdingForFade:Ce,collisionBoxArray:Me,partiallyEvaluatedTextSize:He,partiallyEvaluatedIconSize:$e,collisionGroup:Ke}=d.parameters,Pe=D.get("text-optional"),Ze=D.get("icon-optional"),pt=D.get("text-allow-overlap"),st=D.get("icon-allow-overlap"),At=D.get("text-rotation-alignment")==="map",qe=D.get("text-pitch-alignment")==="map",mt=D.get("symbol-z-order")==="viewport-y",Pt=D.get("symbol-z-elevate");this.transform.setProjection(L.projection);let Ot=pt&&(st||!L.hasIconData()||Ze),Qt=st&&(pt||!L.hasTextData()||Pe);!L.collisionArrays&&Me&&L.deserializeCollisionBoxes(Me),x&&B&&L.updateCollisionDebugBuffers(this.transform.zoom,Me);const fn=(Wt,xn,_n)=>{const{crossTileID:$n,numVerticalGlyphVertices:Yt}=Wt;if(de){const Xi={zoom:this.transform.zoom,pitch:this.transform.pitch};let _a=null;if(de.dynamicFilterNeedsFeature){const Zi=this.retainedQueryData[L.bucketInstanceId];_a=de.featureIndex.loadFeature({featureIndex:Wt.featureIndex,bucketIndex:Zi.bucketIndex,sourceLayerIndex:Zi.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,de.dynamicFilter)(Xi,_a,this.retainedQueryData[L.bucketInstanceId].tileID.canonical,new a.P(Wt.tileAnchorX,Wt.tileAnchorY),this.transform.calculateDistanceTileData(de.unwrappedTileID)))return this.placements[$n]=new Bo(!1,!1,!1,!0),void g.add($n)}if(g.has($n))return;if(Ce)return void(this.placements[$n]=new Bo(!1,!1,!1));let mn=!1,$t=!1,on=!0,Kn=!1,ir=!1,nr=null,pr={box:null,offscreen:null,occluded:null},Ir={box:null,offscreen:null,occluded:null},jr=null,Nr=null,zr=null,Ri=0,hi=0,Ei=0;_n.textFeatureIndex?Ri=_n.textFeatureIndex:Wt.useRuntimeCollisionCircles&&(Ri=Wt.featureIndex),_n.verticalTextFeatureIndex&&(hi=_n.verticalTextFeatureIndex);const wi=Xi=>{Xi.tileID=this.retainedQueryData[L.bucketInstanceId].tileID;const _a=this.transform.elevation;Xi.elevation=Wt.zOffset+(_a?_a.getAtTileOffset(Xi.tileID,Xi.tileAnchorX,Xi.tileAnchorY):0)},ia=_n.textBox;if(ia){wi(ia);const Xi=Zi=>{let ma=a.b6.horizontal;if(L.allowVerticalPlacement&&!Zi&&this.prevPlacement){const ls=this.prevPlacement.placedOrientations[$n];ls&&(this.placedOrientations[$n]=ls,ma=ls,this.markUsedOrientation(L,ma,Wt))}return ma},_a=(Zi,ma)=>{if(L.allowVerticalPlacement&&Yt>0&&_n.verticalTextBox){for(const ls of L.writingModes)if(ls===a.b6.vertical?(pr=ma(),Ir=pr):pr=Zi(),pr&&pr.box&&pr.box.length)break}else pr=Zi()};if(D.get("text-variable-anchor")){let Zi=D.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[$n]){const xa=this.prevPlacement.variableOffsets[$n];Zi.indexOf(xa.anchor)>0&&(Zi=Zi.filter(ll=>ll!==xa.anchor),Zi.unshift(xa.anchor))}const ma=(xa,ll,eu)=>{const _c=L.getSymbolInstanceTextSize(He,Wt,this.transform.zoom,xn),df=(xa.x2-xa.x1)*_c+2*xa.padding,yc=(xa.y2-xa.y1)*_c+2*xa.padding,ul=Wt.hasIconTextFit&&!st?ll:null;ul&&wi(ul);let Vo={box:[],offscreen:!1,occluded:!1};const Uu=pt?2*Zi.length:Zi.length;for(let nc=0;nc<Uu;++nc){const bc=this.attemptAnchorPlacement(Zi[nc%Zi.length],xa,df,yc,_c,At,qe,Ae,$,Ke,nc>=Zi.length,Wt,xn,L,eu,ul,He,$e);if(bc&&(Vo=bc.placedGlyphBoxes,Vo&&Vo.box&&Vo.box.length)){mn=!0,nr=bc.shift;break}}return Vo};_a(()=>ma(ia,_n.iconBox,a.b6.horizontal),()=>{const xa=_n.verticalTextBox;return xa&&wi(xa),L.allowVerticalPlacement&&!(pr&&pr.box&&pr.box.length)&&Yt>0&&xa?ma(xa,_n.verticalIconBox,a.b6.vertical):{box:null,offscreen:null,occluded:null}}),pr&&(mn=pr.box,on=pr.offscreen,Kn=pr.occluded);const ls=Xi(!(!pr||!pr.box));if(!mn&&this.prevPlacement){const xa=this.prevPlacement.variableOffsets[$n];xa&&(this.variableOffsets[$n]=xa,this.markUsedJustification(L,xa.anchor,Wt,ls))}}else{const Zi=(ma,ls)=>{const xa=L.getSymbolInstanceTextSize(He,Wt,this.transform.zoom,xn),ll=this.collisionIndex.placeCollisionBox(L,xa,ma,new a.P(0,0),pt,Ae,$,Ke.predicate);return ll&&ll.box&&ll.box.length&&(this.markUsedOrientation(L,ls,Wt),this.placedOrientations[$n]=ls),ll};_a(()=>Zi(ia,a.b6.horizontal),()=>{const ma=_n.verticalTextBox;return L.allowVerticalPlacement&&Yt>0&&ma?(wi(ma),Zi(ma,a.b6.vertical)):{box:null,offscreen:null,occluded:null}}),Xi(!!(pr&&pr.box&&pr.box.length))}}if(jr=pr,mn=jr&&jr.box&&jr.box.length>0,on=jr&&jr.offscreen,Kn=jr&&jr.occluded,Wt.useRuntimeCollisionCircles){const Xi=L.text.placedSymbolArray.get(Wt.centerJustifiedTextSymbolIndex>=0?Wt.centerJustifiedTextSymbolIndex:Wt.verticalPlacedTextSymbolIndex),_a=a.b7(L.textSizeData,He,Xi),Zi=D.get("text-padding");Nr=this.collisionIndex.placeCollisionCircles(L,pt,Xi,L.lineVertexArray,L.glyphOffsetArray,_a,$,Y,ae,x,qe,Ke.predicate,Wt.collisionCircleDiameter*_a/a.bc,Zi,this.retainedQueryData[L.bucketInstanceId].tileID),mn=pt||Nr.circles.length>0&&!Nr.collisionDetected,on=on&&Nr.offscreen,Kn=Nr.occluded}if(_n.iconFeatureIndex&&(Ei=_n.iconFeatureIndex),_n.iconBox){const Xi=_a=>{wi(_a);const Zi=Wt.hasIconTextFit&&nr?np(nr.x,nr.y,At,qe,this.transform.angle):new a.P(0,0),ma=L.getSymbolInstanceIconSize($e,this.transform.zoom,Wt.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(L,ma,_a,Zi,st,Ae,$,Ke.predicate)};Ir&&Ir.box&&Ir.box.length&&_n.verticalIconBox?(zr=Xi(_n.verticalIconBox),$t=zr.box.length>0):(zr=Xi(_n.iconBox),$t=zr.box.length>0),on=on&&zr.offscreen,ir=zr.occluded}const ns=Pe||Wt.numHorizontalGlyphVertices===0&&Yt===0,Yi=Ze||Wt.numIconVertices===0;if(ns||Yi?Yi?ns||($t=$t&&mn):mn=$t&&mn:$t=mn=$t&&mn,mn&&jr&&jr.box&&this.collisionIndex.insertCollisionBox(jr.box,D.get("text-ignore-placement"),L.bucketInstanceId,Ir&&Ir.box&&hi?hi:Ri,Ke.ID),$t&&zr&&this.collisionIndex.insertCollisionBox(zr.box,D.get("icon-ignore-placement"),L.bucketInstanceId,Ei,Ke.ID),Nr&&(mn&&this.collisionIndex.insertCollisionCircles(Nr.circles,D.get("text-ignore-placement"),L.bucketInstanceId,Ri,Ke.ID),x)){const Xi=L.bucketInstanceId;let _a=this.collisionCircleArrays[Xi];_a===void 0&&(_a=this.collisionCircleArrays[Xi]=new hu);for(let Zi=0;Zi<Nr.circles.length;Zi+=4)_a.circles.push(Nr.circles[Zi+0]),_a.circles.push(Nr.circles[Zi+1]),_a.circles.push(Nr.circles[Zi+2]),_a.circles.push(Nr.collisionDetected?1:0)}const ks=L.projection.name!=="globe";Ot=Ot&&(ks||!Kn),Qt=Qt&&(ks||!ir),this.placements[$n]=new Bo(mn||Ot,$t||Qt,on||L.justReloaded),g.add($n)};if(Pt&&this.buildingIndex&&(this.buildingIndex.updateZOffset(L,this.retainedQueryData[L.bucketInstanceId].tileID),L.updateZOffset()),mt){const Wt=L.getSortedSymbolIndexes(this.transform.angle);for(let xn=Wt.length-1;xn>=0;--xn){const _n=Wt[xn];fn(L.symbolInstances.get(_n),_n,L.collisionArrays[_n])}L.hasAnyZOffset&&a.w(`${L.layerIds[0]} layer symbol-z-elevate: symbols are not sorted by elevation if symbol-z-order is evaluated to viewport-y`)}else if(L.hasAnyZOffset){const Wt=L.getSortedIndexesByZOffset();for(let xn=0;xn<Wt.length;++xn){const _n=Wt[xn];fn(L.symbolInstances.get(_n),_n,L.collisionArrays[_n])}}else for(let Wt=d.symbolInstanceStart;Wt<d.symbolInstanceEnd;Wt++)fn(L.symbolInstances.get(Wt),Wt,L.collisionArrays[Wt]);if(x&&L.bucketInstanceId in this.collisionCircleArrays){const Wt=this.collisionCircleArrays[L.bucketInstanceId];a.a6.invert(Wt.invProjMatrix,$),Wt.viewportMatrix=this.collisionIndex.getViewportMatrix()}L.justReloaded=!1}markUsedJustification(d,g,x,B){const{leftJustifiedTextSymbolIndex:L,centerJustifiedTextSymbolIndex:D,rightJustifiedTextSymbolIndex:$,verticalPlacedTextSymbolIndex:Y,crossTileID:ae}=x,de=a.be(g),Ae=B===a.b6.vertical?Y:de==="left"?L:de==="center"?D:de==="right"?$:-1;L>=0&&(d.text.placedSymbolArray.get(L).crossTileID=Ae>=0&&L!==Ae?0:ae),D>=0&&(d.text.placedSymbolArray.get(D).crossTileID=Ae>=0&&D!==Ae?0:ae),$>=0&&(d.text.placedSymbolArray.get($).crossTileID=Ae>=0&&$!==Ae?0:ae),Y>=0&&(d.text.placedSymbolArray.get(Y).crossTileID=Ae>=0&&Y!==Ae?0:ae)}markUsedOrientation(d,g,x){const B=g===a.b6.horizontal||g===a.b6.horizontalOnly?g:0,L=g===a.b6.vertical?g:0,{leftJustifiedTextSymbolIndex:D,centerJustifiedTextSymbolIndex:$,rightJustifiedTextSymbolIndex:Y,verticalPlacedTextSymbolIndex:ae}=x,de=d.text.placedSymbolArray;D>=0&&(de.get(D).placedOrientation=B),$>=0&&(de.get($).placedOrientation=B),Y>=0&&(de.get(Y).placedOrientation=B),ae>=0&&(de.get(ae).placedOrientation=L)}commit(d){this.commitTime=d,this.zoomAtLastRecencyCheck=this.transform.zoom;const g=this.prevPlacement;let x=!1;this.prevZoomAdjustment=g?g.zoomAdjustment(this.transform.zoom):0;const B=g?g.symbolFadeChange(d):1,L=g?g.opacities:{},D=g?g.variableOffsets:{},$=g?g.placedOrientations:{};for(const Y in this.placements){const ae=this.placements[Y],de=L[Y];de?(this.opacities[Y]=new $s(de,B,ae.text,ae.icon,null,ae.clipped),x=x||ae.text!==de.text.placed||ae.icon!==de.icon.placed):(this.opacities[Y]=new $s(null,B,ae.text,ae.icon,ae.skipFade,ae.clipped),x=x||ae.text||ae.icon)}for(const Y in L){const ae=L[Y];if(!this.opacities[Y]){const de=new $s(ae,B,!1,!1);de.isHidden()||(this.opacities[Y]=de,x=x||ae.text.placed||ae.icon.placed)}}for(const Y in D)this.variableOffsets[Y]||!this.opacities[Y]||this.opacities[Y].isHidden()||(this.variableOffsets[Y]=D[Y]);for(const Y in $)this.placedOrientations[Y]||!this.opacities[Y]||this.opacities[Y].isHidden()||(this.placedOrientations[Y]=$[Y]);x?this.lastPlacementChangeTime=d:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=g?g.lastPlacementChangeTime:d)}updateLayerOpacities(d,g){const x=new Set;for(const B of g){const L=B.getBucket(d);L&&B.latestFeatureIndex&&d.fqid===L.layerIds[0]&&(this.updateBucketOpacities(L,x,B.collisionBoxArray),L.layers[0].layout.get("symbol-z-elevate")&&this.buildingIndex&&(this.buildingIndex.updateZOffset(L,B.tileID),L.updateZOffset()))}}updateBucketOpacities(d,g,x){d.hasTextData()&&d.text.opacityVertexArray.clear(),d.hasIconData()&&d.icon.opacityVertexArray.clear(),d.hasIconCollisionBoxData()&&d.iconCollisionBox.collisionVertexArray.clear(),d.hasTextCollisionBoxData()&&d.textCollisionBox.collisionVertexArray.clear();const B=d.layers[0].layout,L=!!d.layers[0].dynamicFilter(),D=new $s(null,0,!1,!1,!0),$=B.get("text-allow-overlap"),Y=B.get("icon-allow-overlap"),ae=B.get("text-variable-anchor"),de=B.get("text-rotation-alignment")==="map",Ae=B.get("text-pitch-alignment")==="map",Ce=new $s(null,0,$&&(Y||!d.hasIconData()||B.get("icon-optional")),Y&&($||!d.hasTextData()||B.get("text-optional")),!0);!d.collisionArrays&&x&&(d.hasIconCollisionBoxData()||d.hasTextCollisionBoxData())&&d.deserializeCollisionBoxes(x);const Me=($e,Ke,Pe)=>{for(let Ze=0;Ze<Ke/4;Ze++)$e.opacityVertexArray.emplaceBack(Pe)};let He=0;for(let $e=0;$e<d.symbolInstances.length;$e++){const Ke=d.symbolInstances.get($e),{numHorizontalGlyphVertices:Pe,numVerticalGlyphVertices:Ze,crossTileID:pt,numIconVertices:st}=Ke,At=g.has(pt);let qe=this.opacities[pt];At?qe=D:qe||(qe=Ce,this.opacities[pt]=qe),g.add(pt);const mt=Pe>0||Ze>0,Pt=st>0,Ot=this.placedOrientations[pt],Qt=Ot===a.b6.vertical,fn=Ot===a.b6.horizontal||Ot===a.b6.horizontalOnly;if(!mt&&!Pt||qe.isHidden()||He++,mt){const Wt=pu(qe.text);Me(d.text,Pe,Qt?ip:Wt),Me(d.text,Ze,fn?ip:Wt);const xn=qe.text.isHidden(),{leftJustifiedTextSymbolIndex:_n,centerJustifiedTextSymbolIndex:$n,rightJustifiedTextSymbolIndex:Yt,verticalPlacedTextSymbolIndex:mn}=Ke,$t=d.text.placedSymbolArray,on=xn||Qt?1:0;_n>=0&&($t.get(_n).hidden=on),$n>=0&&($t.get($n).hidden=on),Yt>=0&&($t.get(Yt).hidden=on),mn>=0&&($t.get(mn).hidden=xn||fn?1:0);const Kn=this.variableOffsets[pt];Kn&&this.markUsedJustification(d,Kn.anchor,Ke,Ot);const ir=this.placedOrientations[pt];ir&&(this.markUsedJustification(d,"left",Ke,ir),this.markUsedOrientation(d,ir,Ke))}if(Pt){const Wt=pu(qe.icon),{placedIconSymbolIndex:xn,verticalPlacedIconSymbolIndex:_n}=Ke,$n=d.icon.placedSymbolArray,Yt=qe.icon.isHidden()?1:0;xn>=0&&(Me(d.icon,st,Qt?ip:Wt),$n.get(xn).hidden=Yt),_n>=0&&(Me(d.icon,Ke.numVerticalIconVertices,fn?ip:Wt),$n.get(_n).hidden=Yt)}if(d.hasIconCollisionBoxData()||d.hasTextCollisionBoxData()){const Wt=d.collisionArrays[$e];if(Wt){let xn=new a.P(0,0),_n=!0;if(Wt.textBox||Wt.verticalTextBox){if(ae){const Yt=this.variableOffsets[pt];Yt?(xn=Wc(Yt.anchor,Yt.width,Yt.height,Yt.textOffset,Yt.textScale),de&&xn._rotate(Ae?this.transform.angle:-this.transform.angle)):_n=!1}L&&(_n=!qe.clipped),Wt.textBox&&_h(d.textCollisionBox.collisionVertexArray,qe.text.placed,!_n||Qt,xn.x,xn.y),Wt.verticalTextBox&&_h(d.textCollisionBox.collisionVertexArray,qe.text.placed,!_n||fn,xn.x,xn.y)}const $n=_n&&!!(!fn&&Wt.verticalIconBox);Wt.iconBox&&_h(d.iconCollisionBox.collisionVertexArray,qe.icon.placed,$n,Ke.hasIconTextFit?xn.x:0,Ke.hasIconTextFit?xn.y:0),Wt.verticalIconBox&&_h(d.iconCollisionBox.collisionVertexArray,qe.icon.placed,!$n,Ke.hasIconTextFit?xn.x:0,Ke.hasIconTextFit?xn.y:0)}}}if(d.fullyClipped=He===0,d.sortFeatures(this.transform.angle),this.retainedQueryData[d.bucketInstanceId]&&(this.retainedQueryData[d.bucketInstanceId].featureSortOrder=d.featureSortOrder),d.hasTextData()&&d.text.opacityVertexBuffer&&d.text.opacityVertexBuffer.updateData(d.text.opacityVertexArray),d.hasIconData()&&d.icon.opacityVertexBuffer&&d.icon.opacityVertexBuffer.updateData(d.icon.opacityVertexArray),d.hasIconCollisionBoxData()&&d.iconCollisionBox.collisionVertexBuffer&&d.iconCollisionBox.collisionVertexBuffer.updateData(d.iconCollisionBox.collisionVertexArray),d.hasTextCollisionBoxData()&&d.textCollisionBox.collisionVertexBuffer&&d.textCollisionBox.collisionVertexBuffer.updateData(d.textCollisionBox.collisionVertexArray),d.bucketInstanceId in this.collisionCircleArrays){const $e=this.collisionCircleArrays[d.bucketInstanceId];d.placementInvProjMatrix=$e.invProjMatrix,d.placementViewportMatrix=$e.viewportMatrix,d.collisionCircleArray=$e.circles,delete this.collisionCircleArrays[d.bucketInstanceId]}}symbolFadeChange(d){return this.fadeDuration===0?1:(d-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(d){return Math.max(0,(this.transform.zoom-d)/1.5)}hasTransitions(d){return this.stale||d-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(d,g){const x=this.zoomAtLastRecencyCheck===g?1-this.zoomAdjustment(g):1;return this.zoomAtLastRecencyCheck=g,this.commitTime+this.fadeDuration*x>d}setStale(){this.stale=!0}}function _h(w,d,g,x,B){w.emplaceBack(d?1:0,g?1:0,x||0,B||0),w.emplaceBack(d?1:0,g?1:0,x||0,B||0),w.emplaceBack(d?1:0,g?1:0,x||0,B||0),w.emplaceBack(d?1:0,g?1:0,x||0,B||0)}const Gm=Math.pow(2,25),rp=Math.pow(2,24),fu=Math.pow(2,17),ef=Math.pow(2,16),CA=Math.pow(2,9),EA=Math.pow(2,8),Km=Math.pow(2,1);function pu(w){if(w.opacity===0&&!w.placed)return 0;if(w.opacity===1&&w.placed)return 4294967295;const d=w.placed?1:0,g=Math.floor(127*w.opacity);return g*Gm+d*rp+g*fu+d*ef+g*CA+d*EA+g*Km+d}const ip=0;class Wm{constructor(d){this._sortAcrossTiles=d.layout.get("symbol-z-order")!=="viewport-y"&&d.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs=new Set,this._bucketParts=[]}continuePlacement(d,g,x,B,L){const D=this._bucketParts;for(;this._currentTileIndex<d.length;)if(g.getBucketParts(D,B,d[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,L())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,D.sort(($,Y)=>$.sortKey-Y.sortKey));this._currentPartIndex<D.length;){const $=D[this._currentPartIndex];if(g.placeLayerBucketPart($,this._seenCrossTileIDs,x,$.symbolInstanceStart===0),this._currentPartIndex++,L())return!0}return!1}}class ap{constructor(d,g,x,B,L,D,$,Y,ae){this.placement=new xA(d,L,D,$,Y,ae),this._currentPlacementIndex=g.length-1,this._forceFullPlacement=x,this._showCollisionBoxes=B,this._done=!1}isDone(){return this._done}continuePlacement(d,g,x,B){const L=a.f.now(),D=()=>{const $=a.f.now()-L;return!this._forceFullPlacement&&$>2};for(;this._currentPlacementIndex>=0;){const $=g[d[this._currentPlacementIndex]],Y=this.placement.collisionIndex.transform.zoom;if($.type==="symbol"&&(!$.minzoom||$.minzoom<=Y)&&(!$.maxzoom||$.maxzoom>Y)){const ae=$,de=ae.layout.get("symbol-z-elevate"),Ae=this._inProgressLayer=this._inProgressLayer||new Wm(ae),Ce=a.ag($.source,$.scope);if(Ae.continuePlacement(de?B[Ce]:x[Ce],this.placement,this._showCollisionBoxes,$,D))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(d){return this.placement.commit(d),this.placement}}const Xu=512/a.V/2;class SA{constructor(d,g,x){this.tileID=d,this.bucketInstanceId=x,this.index=new a.bg(g.length,16,Int32Array),this.keys=[],this.crossTileIDs=[];const B=d.canonical.x*a.V,L=d.canonical.y*a.V;for(let D=0;D<g.length;D++){const{key:$,crossTileID:Y,tileAnchorX:ae,tileAnchorY:de}=g.get(D),Ae=Math.floor((B+ae)*Xu),Ce=Math.floor((L+de)*Xu);this.index.add(Ae,Ce),this.keys.push($),this.crossTileIDs.push(Y)}this.index.finish()}findMatches(d,g,x){const B=this.tileID.canonical.z<g.canonical.z?1:Math.pow(2,this.tileID.canonical.z-g.canonical.z),L=Xu/Math.pow(2,g.canonical.z-this.tileID.canonical.z),D=g.canonical.x*a.V,$=g.canonical.y*a.V;for(let Y=0;Y<d.length;Y++){const ae=d.get(Y);if(ae.crossTileID)continue;const{key:de,tileAnchorX:Ae,tileAnchorY:Ce}=ae,Me=Math.floor((D+Ae)*L),He=Math.floor(($+Ce)*L),$e=this.index.range(Me-B,He-B,Me+B,He+B);for(const Ke of $e){const Pe=this.crossTileIDs[Ke];if(this.keys[Ke]===de&&!x.has(Pe)){x.add(Pe),ae.crossTileID=Pe;break}}}}}class qm{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class TA{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(d){const g=Math.round((d-this.lng)/360);if(g!==0)for(const x in this.indexes){const B=this.indexes[x],L={};for(const D in B){const $=B[D];$.tileID=$.tileID.unwrapTo($.tileID.wrap+g),L[$.tileID.key]=$}this.indexes[x]=L}this.lng=d}addBucket(d,g,x){if(this.indexes[d.overscaledZ]&&this.indexes[d.overscaledZ][d.key]){if(this.indexes[d.overscaledZ][d.key].bucketInstanceId===g.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(d.overscaledZ,this.indexes[d.overscaledZ][d.key])}for(let L=0;L<g.symbolInstances.length;L++)g.symbolInstances.get(L).crossTileID=0;this.usedCrossTileIDs[d.overscaledZ]||(this.usedCrossTileIDs[d.overscaledZ]=new Set);const B=this.usedCrossTileIDs[d.overscaledZ];for(const L in this.indexes){const D=this.indexes[L];if(Number(L)>d.overscaledZ)for(const $ in D){const Y=D[$];Y.tileID.isChildOf(d)&&Y.findMatches(g.symbolInstances,d,B)}else{const $=D[d.scaledTo(Number(L)).key];$&&$.findMatches(g.symbolInstances,d,B)}}for(let L=0;L<g.symbolInstances.length;L++){const D=g.symbolInstances.get(L);D.crossTileID||(D.crossTileID=x.generate(),B.add(D.crossTileID))}return this.indexes[d.overscaledZ]===void 0&&(this.indexes[d.overscaledZ]={}),this.indexes[d.overscaledZ][d.key]=new SA(d,g.symbolInstances,g.bucketInstanceId),!0}removeBucketCrossTileIDs(d,g){for(const x of g.crossTileIDs)this.usedCrossTileIDs[d].delete(x)}removeStaleBuckets(d){let g=!1;for(const x in this.indexes){const B=this.indexes[x];for(const L in B)d[B[L].bucketInstanceId]||(this.removeBucketCrossTileIDs(x,B[L]),delete B[L],g=!0)}return g}}class yh{constructor(){this.layerIndexes={},this.crossTileIDs=new qm,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(d,g,x,B){let L=this.layerIndexes[d.fqid];L===void 0&&(L=this.layerIndexes[d.fqid]=new TA);let D=!1;const $={};B.name!=="globe"&&L.handleWrapJump(x);for(const Y of g){const ae=Y.getBucket(d);ae&&d.fqid===ae.layerIds[0]&&(ae.bucketInstanceId||(ae.bucketInstanceId=++this.maxBucketInstanceId),L.addBucket(Y.tileID,ae,this.crossTileIDs)&&(D=!0),$[ae.bucketInstanceId]=!0)}return L.removeStaleBuckets($)&&(D=!0),D}pruneUnusedLayers(d){const g={};d.forEach(x=>{g[x]=!0});for(const x in this.layerIndexes)g[x]||delete this.layerIndexes[x]}}class rl{constructor(d=0,g=0,x=0,B=0){if(isNaN(d)||d<0||isNaN(g)||g<0||isNaN(x)||x<0||isNaN(B)||B<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=d,this.bottom=g,this.left=x,this.right=B}interpolate(d,g,x){return g.top!=null&&d.top!=null&&(this.top=a.U(d.top,g.top,x)),g.bottom!=null&&d.bottom!=null&&(this.bottom=a.U(d.bottom,g.bottom,x)),g.left!=null&&d.left!=null&&(this.left=a.U(d.left,g.left,x)),g.right!=null&&d.right!=null&&(this.right=a.U(d.right,g.right,x)),this}getCenter(d,g){const x=a.aa((this.left+d-this.right)/2,0,d),B=a.aa((this.top+g-this.bottom)/2,0,g);return new a.P(x,B)}equals(d){return this.top===d.top&&this.bottom===d.bottom&&this.left===d.left&&this.right===d.right}clone(){return new rl(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function Ru(w,d){const g=a.bk(w,3);a.a6.fromQuat(w,d),a.bm(w,3,g)}function gc(w,d){const g=a.bi.identity([]);return a.bi.rotateZ(g,g,-d),a.bi.rotateX(g,g,-w),g}function vc(w,d){const g=[w[0],w[1],0],x=[d[0],d[1],0];if(a.N.length(g)>=1e-15){const D=a.N.normalize([],g);a.N.scale(x,D,a.N.dot(x,D)),d[0]=x[0],d[1]=x[1]}const B=a.N.cross([],d,w);if(a.N.len(B)<1e-15)return null;const L=Math.atan2(-B[1],B[0]);return gc(Math.atan2(Math.sqrt(w[0]*w[0]+w[1]*w[1]),-w[2]),L)}class Zu{constructor(d,g){this.position=d,this.orientation=g}get position(){return this._position}set position(d){if(d){const g=d instanceof a.L?d:new a.L(d[0],d[1],d[2]);this._renderWorldCopies&&(g.x=a.bh(g.x,0,1)),this._position=g}else this._position=null}lookAtPoint(d,g){if(this.orientation=null,!this.position)return;const x=this.position,B=this._elevation?this._elevation.getAtPointOrZero(a.L.fromLngLat(d)):0,L=a.L.fromLngLat(d,B),D=[L.x-x.x,L.y-x.y,L.z-x.z];g||(g=[0,0,1]),g[2]=Math.abs(g[2]),this.orientation=vc(D,g)}setPitchBearing(d,g){this.orientation=gc(a.bj(d),a.bj(-g))}}class qc{constructor(d,g){this._transform=a.a6.identity([]),this.orientation=g,this.position=d}get mercatorPosition(){const d=this.position;return new a.L(d[0],d[1],d[2])}get position(){const d=a.bk(this._transform,3);return[d[0],d[1],d[2]]}set position(d){var g;d&&a.bm(this._transform,3,[(g=d)[0],g[1],g[2],1])}get orientation(){return this._orientation}set orientation(d){this._orientation=d||a.bi.identity([]),d&&Ru(this._transform,this._orientation)}getPitchBearing(){const d=this.forward(),g=this.right();return{bearing:Math.atan2(-g[1],g[0]),pitch:Math.atan2(Math.sqrt(d[0]*d[0]+d[1]*d[1]),-d[2])}}setPitchBearing(d,g){this._orientation=gc(d,g),Ru(this._transform,this._orientation)}forward(){const d=a.bk(this._transform,2);return[-d[0],-d[1],-d[2]]}up(){const d=a.bk(this._transform,1);return[-d[0],-d[1],-d[2]]}right(){const d=a.bk(this._transform,0);return[d[0],d[1],d[2]]}getCameraToWorld(d,g){const x=new Float64Array(16);return a.a6.invert(x,this.getWorldToCamera(d,g)),x}getCameraToWorldMercator(){return this._transform}getWorldToCameraPosition(d,g,x){const B=this.position;a.N.scale(B,B,-d);const L=new Float64Array(16);return a.a6.fromScaling(L,[x,x,x]),a.a6.translate(L,L,B),L[10]*=g,L}getWorldToCamera(d,g){const x=new Float64Array(16),B=new Float64Array(4),L=this.position;return a.bi.conjugate(B,this._orientation),a.N.scale(L,L,-d),a.a6.fromQuat(x,B),a.a6.translate(x,x,L),x[1]*=-1,x[5]*=-1,x[9]*=-1,x[13]*=-1,x[8]*=g,x[9]*=g,x[10]*=g,x[11]*=g,x}getCameraToClipPerspective(d,g,x,B){const L=new Float64Array(16);return a.a6.perspective(L,d,g,x,B),L}getCameraToClipOrthographic(d,g,x,B,L,D){const $=new Float64Array(16);return a.a6.ortho($,d,g,x,B,L,D),$}getDistanceToElevation(d,g=!1){const x=d===0?0:a.bl(d,g?a.au(this.position[1]):this.position[1]),B=this.forward();return(x-this.position[2])/B[2]}clone(){return new qc([...this.position],[...this.orientation])}}const ql=(w,d,g)=>(1-g)*w+g*d,bh=w=>w*w*w*w*w;class hd{constructor(d,g,x,B,L,D,$){this.tileSize=512,this._renderWorldCopies=L===void 0||L,this._minZoom=d||0,this._maxZoom=g||22,this._minPitch=x??0,this._maxPitch=B??60,this.setProjection(D),this.setMaxBounds($),this.width=0,this.height=0,this._center=new a.bn(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new rl,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._expandedProjMatrixCache={},this._distanceTileDataCache={},this._camera=new qc,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._tileCoverLift=0,this._horizonShift=.1,this._orthographicProjectionAtLowPitch=!1}clone(){const d=new hd(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return d._elevation=this._elevation,d._centerAltitude=this._centerAltitude,d._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,d.tileSize=this.tileSize,d.mercatorFromTransition=this.mercatorFromTransition,d.width=this.width,d.height=this.height,d.cameraElevationReference=this.cameraElevationReference,d._center=this._center,d._setZoom(this.zoom),d._seaLevelZoom=this._seaLevelZoom,d.angle=this.angle,d._fov=this._fov,d._pitch=this._pitch,d._nearZ=this._nearZ,d._farZ=this._farZ,d._averageElevation=this._averageElevation,d._orthographicProjectionAtLowPitch=this._orthographicProjectionAtLowPitch,d._unmodified=this._unmodified,d._edgeInsets=this._edgeInsets.clone(),d._camera=this._camera.clone(),d._calcMatrices(),d.freezeTileCoverage=this.freezeTileCoverage,d.frustumCorners=this.frustumCorners,d}get isOrthographic(){return this.projection.name!=="globe"&&this._orthographicProjectionAtLowPitch&&this.pitch<15}get elevation(){return this._elevation}set elevation(d){this._elevation!==d&&(this._elevation=d,this._updateCameraOnTerrain(),this._calcMatrices())}get depthOcclusionForSymbolsAndCircles(){return this.projection.name!=="globe"&&!this.isOrthographic}updateElevation(d,g=!1){const x=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||x)&&this._updateCameraOnTerrain(),(d||x)&&this._constrainCamera(g),this._calcMatrices()}getProjection(){return a.ac(this.projection,["name","center","parallels"])}setProjection(d){this.projectionOptions=d||{name:"mercator"};const g=this.projection?this.getProjection():void 0;this.projection=a.bo(this.projectionOptions);const x=!f(g,this.getProjection());return x&&this._calcMatrices(),this.mercatorFromTransition=!1,x}setOrthographicProjectionAtLowPitch(d){return this._orthographicProjectionAtLowPitch!==d&&(this._orthographicProjectionAtLowPitch=d,this._calcMatrices(),!0)}setMercatorFromTransition(){const d=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=a.bo({name:"mercator"});const g=d!==this.projection.name;return g&&this._calcMatrices(),g}get minZoom(){return this._minZoom}set minZoom(d){this._minZoom!==d&&(this._minZoom=d,this.zoom=Math.max(this.zoom,d))}get maxZoom(){return this._maxZoom}set maxZoom(d){this._maxZoom!==d&&(this._maxZoom=d,this.zoom=Math.min(this.zoom,d))}get minPitch(){return this._minPitch}set minPitch(d){this._minPitch!==d&&(this._minPitch=d,this.pitch=Math.max(this.pitch,d))}get maxPitch(){return this._maxPitch}set maxPitch(d){this._maxPitch!==d&&(this._maxPitch=d,this.pitch=Math.min(this.pitch,d))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(d){d===void 0?d=!0:d===null&&(d=!1),this._renderWorldCopies=d}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const d=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(d))}get cameraWorldSize(){const d=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(d))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return a.bl(1,this.center.lat)*this.cameraWorldSizeForFog}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new a.P(this.width,this.height)}get bearing(){return a.bh(this.rotation,-180,180)}set bearing(d){this.rotation=d}get rotation(){return-this.angle/Math.PI*180}set rotation(d){const g=-d*Math.PI/180;this.angle!==g&&(this._unmodified=!1,this.angle=g,this._calcMatrices(),this.rotationMatrix=a.b4.create(),a.b4.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(d){const g=a.aa(d,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==g&&(this._unmodified=!1,this._pitch=g,this._calcMatrices())}get aspect(){return this.width/this.height}get fov(){return this._fov/Math.PI*180}get fovX(){return this._fov}get fovY(){const d=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/d)}set fov(d){d=Math.max(.01,Math.min(60,d)),this._fov!==d&&(this._unmodified=!1,this._fov=a.bj(d),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(d){this._averageElevation=d,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(d){const g=Math.min(Math.max(d,this.minZoom),this.maxZoom);this._zoom!==g&&(this._unmodified=!1,this._setZoom(g),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(d){this._zoom=d,this.scale=this.zoomScale(d),this.tileZoom=Math.floor(d),this.zoomFraction=d-this.tileZoom}get tileCoverLift(){return this._tileCoverLift}set tileCoverLift(d){this._tileCoverLift!==d&&(this._tileCoverLift=d)}_updateCameraOnTerrain(){const d=this.elevation?this.elevation.getAtPoint(this.locationCoordinate(this.center),Number.NEGATIVE_INFINITY):Number.NEGATIVE_INFINITY,g=this.elevation&&d===Number.NEGATIVE_INFINITY&&this.elevation.visibleDemTiles.length>0&&this.elevation.exaggeration()>0&&this._centerAltitudeValidForExaggeration;if(!this._elevation||d===Number.NEGATIVE_INFINITY&&(!g||!this._centerAltitude))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const x=this._elevation;g||this._centerAltitude&&this._centerAltitudeValidForExaggeration&&x.exaggeration()&&this._centerAltitudeValidForExaggeration!==x.exaggeration()?(this._centerAltitude=this._centerAltitude/this._centerAltitudeValidForExaggeration*x.exaggeration(),this._centerAltitudeValidForExaggeration=x.exaggeration()):(this._centerAltitude=d||0,this._centerAltitudeValidForExaggeration=x.exaggeration()),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const d=this._elevation,g=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],x=this.horizonLineFromTop();let B=0,L=0;for(let D=0;D<g.length;D++){const $=new a.P(g[D][0]*this.width,x+g[D][1]*(this.height-x)),Y=d.pointCoordinate($);if(!Y)continue;const ae=1/Math.hypot(Y[0]-this._camera.position[0],Y[1]-this._camera.position[1]);B+=Y[3]*ae,L+=ae}return L===0?NaN:B/L}get center(){return this._center}set center(d){d.lat===this._center.lat&&d.lng===this._center.lng||(this._unmodified=!1,this._center=d,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const d=this._seaLevelZoom,g=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),x=this.pixelsPerMeter/this.worldSize*g,B=this._mercatorZfromZoom(d),L=this._mercatorZfromZoom(this._maxZoom),D=Math.max(B-x,L);this._setZoom(this._zoomFromMercatorZ(D))}get padding(){return this._edgeInsets.toJSON()}set padding(d){this._edgeInsets.equals(d)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,d,1),this._calcMatrices())}computeZoomRelativeTo(d){const g=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,d.toAltitude()));let x;x=d.z<this._camera.position[2]?[g.x,g.y,g.z]:[d.x,d.y,d.z];const B=a.N.length(a.N.sub([],this._camera.position,x));return a.aa(this._zoomFromMercatorZ(B),this._minZoom,this._maxZoom)}setFreeCameraOptions(d){if(!this.height||!d.position&&!d.orientation)return;this._updateCameraState();let g=!1;if(d.orientation&&!a.bi.exactEquals(d.orientation,this._camera.orientation)&&(g=this._setCameraOrientation(d.orientation)),d.position){const x=[d.position.x,d.position.y,d.position.z];a.N.exactEquals(x,this._camera.position)||(this._setCameraPosition(x),g=!0)}g&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const d=this._camera.position,g=new Zu;return g.position=new a.L(d[0],d[1],d[2]),g.orientation=this._camera.orientation,g._elevation=this.elevation,g._renderWorldCopies=this.renderWorldCopies,g}_setCameraOrientation(d){if(!a.bi.length(d))return!1;a.bi.normalize(d,d);const g=a.N.transformQuat([],[0,0,-1],d),x=a.N.transformQuat([],[0,-1,0],d);if(x[2]<0)return!1;const B=vc(g,x);return!!B&&(this._camera.orientation=B,!0)}_setCameraPosition(d){const g=this.zoomScale(this.minZoom)*this.tileSize,x=this.zoomScale(this.maxZoom)*this.tileSize,B=this.cameraToCenterDistance;d[2]=a.aa(d[2],B/x,B/g),this._camera.position=d}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(d){return this._edgeInsets.equals(d)}interpolatePadding(d,g,x){this._unmodified=!1,this._edgeInsets.interpolate(d,g,x),this._constrain(),this._calcMatrices()}coveringZoomLevel(d){const g=(d.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/d.tileSize));return Math.max(0,g)}getVisibleUnwrappedCoordinates(d){const g=[new a.bp(0,d)];if(this.renderWorldCopies){const x=this.pointCoordinate(new a.P(0,0)),B=this.pointCoordinate(new a.P(this.width,0)),L=this.pointCoordinate(new a.P(this.width,this.height)),D=this.pointCoordinate(new a.P(0,this.height)),$=Math.floor(Math.min(x.x,B.x,L.x,D.x)),Y=Math.floor(Math.max(x.x,B.x,L.x,D.x)),ae=1;for(let de=$-ae;de<=Y+ae;de++)de!==0&&g.push(new a.bp(de,d))}return g}isLODDisabled(d){return(!d||this.pitch<=60)&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace}extendTileCoverForShadows(d,g,x){let B=[];if(g[0]===0&&g[1]===0)return B;for(const D of d){const $=D.canonical,Y=D.overscaledZ,ae=D.wrap,de=1<<$.z,Ae=$.x+1<de,Ce=$.x>0,Me=$.y+1<de,He=$.y>0,$e=D.wrap-(Ce?0:1),Ke=D.wrap+(Ae?0:1),Pe=Ce?$.x-1:de-1,Ze=Ae?$.x+1:0;g[0]<0?(B.push(new a.am(Y,Ke,$.z,Ze,$.y)),g[1]<0&&Me&&(B.push(new a.am(Y,ae,$.z,$.x,$.y+1)),B.push(new a.am(Y,Ke,$.z,Ze,$.y+1))),g[1]>0&&He&&(B.push(new a.am(Y,ae,$.z,$.x,$.y-1)),B.push(new a.am(Y,Ke,$.z,Ze,$.y-1)))):g[0]>0?(B.push(new a.am(Y,$e,$.z,Pe,$.y)),g[1]<0&&Me&&(B.push(new a.am(Y,ae,$.z,$.x,$.y+1)),B.push(new a.am(Y,$e,$.z,Pe,$.y+1))),g[1]>0&&He&&(B.push(new a.am(Y,ae,$.z,$.x,$.y-1)),B.push(new a.am(Y,$e,$.z,Pe,$.y-1)))):g[1]<0&&Me?B.push(new a.am(Y,ae,$.z,$.x,$.y+1)):He&&B.push(new a.am(Y,ae,$.z,$.x,$.y-1))}if(B.length>1){B.sort((Y,ae)=>Y.overscaledZ-ae.overscaledZ||Y.wrap-ae.wrap||Y.canonical.z-ae.canonical.z||Y.canonical.x-ae.canonical.x||Y.canonical.y-ae.canonical.y);let D=0,$=0;for(;$<B.length;)B[$].equals(B[D])?++$:B[++D]=B[$++];B.length=D+1}const L=[];for(const D of B)B.some($=>D.isChildOf($))||L.push(D);return B=L.filter(D=>!d.some($=>!!(D.overscaledZ<x&&$.isChildOf(D))||D.equals($)||D.isChildOf($))),B}coveringTiles(d){let g=this.coveringZoomLevel(d);const x=g,B=this.elevation&&this.elevation.exaggeration(),L=B&&!d.isTerrainDEM,D=this.projection.name==="mercator";if(d.minzoom!==void 0&&g<d.minzoom)return[];d.maxzoom!==void 0&&g>d.maxzoom&&(g=d.maxzoom);const $=this.locationCoordinate(this.center),Y=this.center.lat,ae=1<<g,de=[ae*$.x,ae*$.y,0],Ae=this.projection.name==="globe",Ce=!Ae,Me=a.bq.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,g,Ce),He=Ae?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),$e=ae*a.bl(1,this.center.lat),Ke=this._camera.position[2]/a.bl(1,this.center.lat),Pe=[ae*He.x,ae*He.y,Ke*(Ce?1:$e)],Ze=Ae||B,pt=this.cameraToCenterDistance/d.tileSize*(d.roundZoom?1:.502),st=this.isLODDisabled(!0)?g:0;let At;if(this._elevation&&d.isTerrainDEM)At=1e4*this._elevation.exaggeration();else if(this._elevation){const $t=this._elevation.getMinMaxForVisibleTiles();At=$t?$t.max:this._centerAltitude}else At=this._centerAltitude;const qe=d.isTerrainDEM?-At:this._elevation?this._elevation.getMinElevationBelowMSL():0,mt=this.projection.isReprojectedInTileSpace?a.br(this):1,Pt=$t=>{const Kn=new a.L($t.x+25e-6,$t.y,$t.z),ir=new a.L($t.x,$t.y+25e-6,$t.z),nr=$t.toLngLat(),pr=Kn.toLngLat(),Ir=ir.toLngLat(),jr=this.locationCoordinate(nr),Nr=this.locationCoordinate(pr),zr=this.locationCoordinate(Ir),Ri=Math.hypot(Nr.x-jr.x,Nr.y-jr.y),hi=Math.hypot(zr.x-jr.x,zr.y-jr.y);return Math.sqrt(Ri*hi)*mt/25e-6},Ot=$t=>{const on=At,Kn=qe;return{aabb:a.bu(this,ae,0,0,0,$t,Kn,on,this.projection),zoom:0,x:0,y:0,minZ:Kn,maxZ:on,wrap:$t,fullyVisible:!1}},Qt=[];let fn=[];const Wt=g,xn=d.reparseOverscaled?x:g,_n=$t=>$t*$t,$n=_n((Ke-this._centerAltitude)*$e),Yt=$t=>{if(!this._elevation||!$t.tileID||!D)return;const on=this._elevation.getMinMaxForTile($t.tileID),Kn=$t.aabb;on?(Kn.min[2]=on.min,Kn.max[2]=on.max,Kn.center[2]=(Kn.min[2]+Kn.max[2])/2):($t.shouldSplit=mn($t),$t.shouldSplit||(Kn.min[2]=Kn.max[2]=Kn.center[2]=this._centerAltitude))},mn=$t=>{if($t.zoom<st)return!0;if($t.zoom===Wt)return!1;if($t.shouldSplit!=null)return $t.shouldSplit;const on=$t.aabb.distanceX(Pe),Kn=$t.aabb.distanceY(Pe);let ir=$n,nr=1;if(Ae){ir=_n($t.aabb.distanceZ(Pe));const jr=Math.pow(2,$t.zoom),Nr=a.au(($t.y+1)/jr),zr=a.au($t.y/jr),Ri=Math.min(Math.max(Y,Nr),zr),hi=a.bJ(Ri)/a.bJ(Y);if(nr=Ri===Y?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,hi/this._mercatorScaleRatio),this.zoom<=a.bG&&$t.zoom===Wt-1&&hi>=.9)return!0}else if(L&&(ir=_n($t.aabb.distanceZ(Pe)*$e)),this.projection.isReprojectedInTileSpace&&x<=5){const jr=Math.pow(2,$t.zoom),Nr=Pt(new a.L(($t.x+.5)/jr,($t.y+.5)/jr));nr=Nr>.85?1:Nr}const pr=on*on+Kn*Kn+ir,Ir=_n((1<<Wt-$t.zoom)*pt*nr*((jr,Nr)=>{if(Nr*_n(.707)<jr)return 1;const zr=Math.sqrt(Nr/jr);return zr/(1.4144271570014144+(Math.pow(1.1,zr-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(ir,$n),pr));return pr<Ir};if(this.renderWorldCopies)for(let $t=1;$t<=3;$t++)Qt.push(Ot(-$t)),Qt.push(Ot($t));for(Qt.push(Ot(0));Qt.length>0;){const $t=Qt.pop(),on=$t.x,Kn=$t.y;let ir=$t.fullyVisible;const nr=()=>this.projection.name==="globe"&&($t.y===0||$t.y===(1<<$t.zoom)-1);if(!ir){let pr=Ze?$t.aabb.intersects(Me):$t.aabb.intersectsFlat(Me);if(pr===0&&nr()){const Ir=new a.bs($t.zoom,on,Kn);pr=a.bt(this,ae,Ir,!0).intersects(Me)}if(pr===0)continue;ir=pr===2}if($t.zoom!==Wt&&mn($t))for(let pr=0;pr<4;pr++){const Ir=(on<<1)+pr%2,jr=(Kn<<1)+(pr>>1),Nr={aabb:D?$t.aabb.quadrant(pr):a.bu(this,ae,$t.zoom+1,Ir,jr,$t.wrap,$t.minZ,$t.maxZ,this.projection),zoom:$t.zoom+1,x:Ir,y:jr,wrap:$t.wrap,fullyVisible:ir,tileID:void 0,shouldSplit:void 0,minZ:$t.minZ,maxZ:$t.maxZ};L&&!Ae&&(Nr.tileID=new a.am($t.zoom+1===Wt?xn:$t.zoom+1,$t.wrap,$t.zoom+1,Ir,jr),Yt(Nr)),Qt.push(Nr)}else{const pr=$t.zoom===Wt?xn:$t.zoom;if(d.minzoom&&d.minzoom>pr)continue;if(!ir){let zr=Ze?$t.aabb.intersectsPrecise(Me):$t.aabb.intersectsPreciseFlat(Me);if(zr===0&&nr()){const Ri=new a.bs($t.zoom,on,Kn);zr=a.bt(this,ae,Ri,!0).intersectsPrecise(Me)}if(zr===0)continue}const Ir=de[0]-(.5+on+($t.wrap<<$t.zoom))*(1<<g-$t.zoom),jr=de[1]-.5-Kn,Nr=$t.tileID?$t.tileID:new a.am(pr,$t.wrap,$t.zoom,on,Kn);fn.push({tileID:Nr,distanceSq:Ir*Ir+jr*jr})}}if(this.fogCullDistSq){const $t=this.fogCullDistSq,on=this.horizonLineFromTop();fn=fn.filter(Kn=>{const ir=[0,0,0,1],nr=[a.V,a.V,0,1],pr=this.calculateFogTileMatrix(Kn.tileID.toUnwrapped());a.a7.transformMat4(ir,ir,pr),a.a7.transformMat4(nr,nr,pr);const Ir=a.a7.min([],ir,nr),jr=a.a7.max([],ir,nr),Nr=a.bv(Ir,jr);if(Nr===0)return!0;let zr=!1;const Ri=this._elevation;if(Ri&&Nr>$t&&on!==0){const hi=this.calculateProjMatrix(Kn.tileID.toUnwrapped());let Ei;d.isTerrainDEM||(Ei=Ri.getMinMaxForTile(Kn.tileID)),Ei||(Ei={min:qe,max:At});const wi=a.bH(this.rotation),ia=[wi[0]*a.V,wi[1]*a.V,Ei.max];a.N.transformMat4(ia,ia,hi),zr=(1-ia[1])*this.height*.5<on}return Nr<$t||zr})}return fn.sort(($t,on)=>$t.distanceSq-on.distanceSq).map($t=>$t.tileID)}resize(d,g){this.width=d,this.height=g,this.pixelsToGLUnits=[2/d,-2/g],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(d){return Math.pow(2,d)}scaleZoom(d){return Math.log(d)/Math.LN2}project(d){const g=a.aa(d.lat,-a.bw,a.bw),x=this.projection.project(d.lng,g);return new a.P(x.x*this.worldSize,x.y*this.worldSize)}unproject(d){return this.projection.unproject(d.x/this.worldSize,d.y/this.worldSize)}get point(){return this.project(this.center)}get pointMerc(){return this.point._div(this.worldSize)}get pixelsPerMeterRatio(){return this.pixelsPerMeter/a.bl(1,this.center.lat)/this.worldSize}setLocationAtPoint(d,g){let x,B;const L=this.centerPoint;if(this.projection.name==="globe"){const $=this.worldSize;x=(g.x-L.x)/$,B=(g.y-L.y)/$}else{const $=this.pointCoordinate(g),Y=this.pointCoordinate(L);x=$.x-Y.x,B=$.y-Y.y}const D=this.locationCoordinate(d);this.setLocation(new a.L(D.x-x,D.y-B))}setLocation(d){this.center=this.coordinateLocation(d),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(d){return this.projection.locationPoint(this,d)}locationPoint3D(d){return this.projection.locationPoint(this,d,!0)}pointLocation(d){return this.coordinateLocation(this.pointCoordinate(d))}pointLocation3D(d){return this.coordinateLocation(this.pointCoordinate3D(d))}locationCoordinate(d,g){const x=g?a.bl(g,d.lat):void 0,B=this.projection.project(d.lng,d.lat);return new a.L(B.x,B.y,x)}coordinateLocation(d){return this.projection.unproject(d.x,d.y)}pointRayIntersection(d,g){const x=g??this._centerAltitude,B=[d.x,d.y,0,1],L=[d.x,d.y,1,1];a.a7.transformMat4(B,B,this.pixelMatrixInverse),a.a7.transformMat4(L,L,this.pixelMatrixInverse);const D=L[3];a.a7.scale(B,B,1/B[3]),a.a7.scale(L,L,1/D);const $=B[2],Y=L[2];return{p0:B,p1:L,t:$===Y?0:(x-$)/(Y-$)}}screenPointToMercatorRay(d){const g=[d.x,d.y,0,1],x=[d.x,d.y,1,1];return a.a7.transformMat4(g,g,this.pixelMatrixInverse),a.a7.transformMat4(x,x,this.pixelMatrixInverse),a.a7.scale(g,g,1/g[3]),a.a7.scale(x,x,1/x[3]),g[2]=a.bl(g[2],this._center.lat)*this.worldSize,x[2]=a.bl(x[2],this._center.lat)*this.worldSize,a.a7.scale(g,g,1/this.worldSize),a.a7.scale(x,x,1/this.worldSize),new a.a2([g[0],g[1],g[2]],a.N.normalize([],a.N.sub([],x,g)))}rayIntersectionCoordinate(d){const{p0:g,p1:x,t:B}=d,L=a.bl(g[2],this._center.lat),D=a.bl(x[2],this._center.lat);return new a.L(a.U(g[0],x[0],B)/this.worldSize,a.U(g[1],x[1],B)/this.worldSize,a.U(L,D,B))}pointCoordinate(d,g=this._centerAltitude){return this.projection.pointCoordinate(this,d.x,d.y,g)}pointCoordinate3D(d){if(!this.elevation)return this.pointCoordinate(d);let g=this.projection.pointCoordinate3D(this,d.x,d.y);if(g)return new a.L(g[0],g[1],g[2]);let x=0,B=this.horizonLineFromTop();if(d.y>B)return this.pointCoordinate(d);const L=.02*B,D=d.clone();for(let $=0;$<10&&B-x>L;$++){D.y=a.U(x,B,.66);const Y=this.projection.pointCoordinate3D(this,D.x,D.y);Y?(B=D.y,g=Y):x=D.y}return g?new a.L(g[0],g[1],g[2]):this.pointCoordinate(d)}isPointAboveHorizon(d){return this.projection.isPointAboveHorizon(this,d)}isPointOnSurface(d){if(d.y<0||d.y>this.height||d.x<0||d.x>this.width)return!1;if(this.elevation||this.zoom>=a.bx)return!this.isPointAboveHorizon(d);const g=this.pointCoordinate(d);return g.y>=0&&g.y<=1}_coordinatePoint(d,g){const x=g&&this.elevation?this.elevation.getAtPointOrZero(d,this._centerAltitude):this._centerAltitude,B=[d.x*this.worldSize,d.y*this.worldSize,x+d.toAltitude(),1];return a.a7.transformMat4(B,B,this.pixelMatrix),B[3]>0?new a.P(B[0]/B[3],B[1]/B[3]):new a.P(Number.MAX_VALUE,Number.MAX_VALUE)}_getBoundsNonRectangular(){const{top:d,left:g}=this._edgeInsets,x=this.height-this._edgeInsets.bottom,B=this.width-this._edgeInsets.right,L=this.pointLocation3D(new a.P(g,d)),D=this.pointLocation3D(new a.P(B,d)),$=this.pointLocation3D(new a.P(B,x)),Y=this.pointLocation3D(new a.P(g,x));let ae=Math.min(L.lng,D.lng,$.lng,Y.lng),de=Math.max(L.lng,D.lng,$.lng,Y.lng),Ae=Math.min(L.lat,D.lat,$.lat,Y.lat),Ce=Math.max(L.lat,D.lat,$.lat,Y.lat);const Me=Math.pow(2,-this.zoom)/16*270,He=this.projection.name==="globe"?1:4,$e=(Ke,Pe,Ze,pt,st)=>{const At=(Ke+Ze)/2,qe=(Pe+pt)/2,mt=new a.P(At,qe),{lng:Pt,lat:Ot}=this.pointLocation3D(mt),Qt=Math.max(0,ae-Pt,Ae-Ot,Pt-de,Ot-Ce);ae=Math.min(ae,Pt),de=Math.max(de,Pt),Ae=Math.min(Ae,Ot),Ce=Math.max(Ce,Ot),(st<He||Qt>Me)&&($e(Ke,Pe,At,qe,st+1),$e(At,qe,Ze,pt,st+1))};if($e(g,d,B,d,1),$e(B,d,B,x,1),$e(B,x,g,x,1),$e(g,x,g,d,1),this.projection.name==="globe"){const[Ke,Pe]=a.by(this);Ke?(Ce=90,de=180,ae=-180):Pe&&(Ae=-90,de=180,ae=-180)}return new a.ad(new a.bn(ae,Ae),new a.bn(de,Ce))}_getBoundsRectangular(d,g){const{top:x,left:B}=this._edgeInsets,L=this.height-this._edgeInsets.bottom,D=this.width-this._edgeInsets.right,$=new a.P(B,x),Y=new a.P(D,x),ae=new a.P(D,L),de=new a.P(B,L);let Ae=this.pointCoordinate($,d),Ce=this.pointCoordinate(Y,d);const Me=this.pointCoordinate(ae,g),He=this.pointCoordinate(de,g),$e=(Ke,Pe)=>(Pe.y-Ke.y)/(Pe.x-Ke.x);return Ae.y>1&&Ce.y>=0?Ae=new a.L((1-He.y)/$e(He,Ae)+He.x,1):Ae.y<0&&Ce.y<=1&&(Ae=new a.L(-He.y/$e(He,Ae)+He.x,0)),Ce.y>1&&Ae.y>=0?Ce=new a.L((1-Me.y)/$e(Me,Ce)+Me.x,1):Ce.y<0&&Ae.y<=1&&(Ce=new a.L(-Me.y/$e(Me,Ce)+Me.x,0)),new a.ad().extend(this.coordinateLocation(Ae)).extend(this.coordinateLocation(Ce)).extend(this.coordinateLocation(He)).extend(this.coordinateLocation(Me))}_getBoundsRectangularTerrain(){const d=this.elevation;if(!d.visibleDemTiles.length||d.isUsingMockSource())return this._getBoundsRectangular(0,0);const g=d.visibleDemTiles.reduce((x,B)=>{if(B.dem){const L=B.dem.tree;x.min=Math.min(x.min,L.minimums[0]),x.max=Math.max(x.max,L.maximums[0])}return x},{min:Number.MAX_VALUE,max:0});return this._getBoundsRectangular(g.min*d.exaggeration(),g.max*d.exaggeration())}getBounds(){return this.projection.name==="mercator"||this.projection.name==="equirectangular"?this._terrainEnabled()?this._getBoundsRectangularTerrain():this._getBoundsRectangular(0,0):this._getBoundsNonRectangular()}horizonLineFromTop(d=!0){const g=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))-this.centerOffset.y,x=this.height/2-g*(1-this._horizonShift);return d?Math.max(0,x):x}getMaxBounds(){return this.maxBounds}setMaxBounds(d){this.maxBounds=d,this.minLat=-a.bw,this.maxLat=a.bw,this.minLng=-180,this.maxLng=180,d&&(this.minLat=d.getSouth(),this.maxLat=d.getNorth(),this.minLng=d.getWest(),this.maxLng=d.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=a.a5(this.minLng)*this.tileSize,this.worldMaxX=a.a5(this.maxLng)*this.tileSize,this.worldMinY=a.ae(this.maxLat)*this.tileSize,this.worldMaxY=a.ae(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(d,g){return this.projection.createTileMatrix(this,g,d)}calculateDistanceTileData(d){const g=d.key,x=this._distanceTileDataCache;if(x[g])return x[g];const B=d.canonical,L=1/this.height,D=this.cameraWorldSize,$=D/this.zoomScale(B.z),Y=(B.x+Math.pow(2,B.z)*d.wrap)*$,ae=B.y*$,de=this.point;de.x*=D/this.worldSize,de.y*=D/this.worldSize;const Ae=this.angle,Ce=Math.sin(-Ae),Me=-Math.cos(-Ae);return x[g]={bearing:[Ce,Me],center:[(de.x-Y)*L,(de.y-ae)*L],scale:$/a.V*L},x[g]}calculateFogTileMatrix(d){const g=d.key,x=this._fogTileMatrixCache;if(x[g])return x[g];const B=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,d);return a.a6.multiply(B,this.worldToFogMatrix,B),x[g]=new Float32Array(B),x[g]}calculateProjMatrix(d,g=!1,x=!1){const B=d.key;let L;if(L=x?this._expandedProjMatrixCache:g?this._alignedProjMatrixCache:this._projMatrixCache,L[B])return L[B];const D=this.calculatePosMatrix(d,this.worldSize);let $;return $=this.projection.isReprojectedInTileSpace?this.mercatorMatrix:x?this.expandedFarZProjMatrix:g?this.alignedProjMatrix:this.projMatrix,a.a6.multiply(D,$,D),L[B]=new Float32Array(D),L[B]}calculatePixelsToTileUnitsMatrix(d){const g=d.tileID.key,x=this._pixelsToTileUnitsCache;if(x[g])return x[g];const B=a.bz(d,this);return x[g]=B,x[g]}customLayerMatrix(){return this.mercatorMatrix.slice()}globeToMercatorMatrix(){if(this.projection.name==="globe"){const d=1/this.worldSize,g=a.a6.fromScaling([],[d,d,d]);return a.a6.multiply(g,g,this.globeMatrix),g}}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;const d=this._elevation;this._updateCameraState();const g=a.bl(1,this._center.lat)*this.worldSize,x=this._computeCameraPosition(g),B=this._camera.forward(),L=a.bl(1,this._center.lat);x[2]/=L,B[2]/=L,a.N.normalize(B,B);const D=d.raycast(x,B,d.exaggeration());if(D){const $=a.N.scaleAndAdd([],x,B,D),Y=new a.L($[0],$[1],a.bl($[2],a.au($[1]))),ae=(Y.z+a.N.length([Y.x-x[0],Y.y-x[1],Y.z-x[2]*L]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(ae),this._centerAltitude=Y.toAltitude(),this._center=this.coordinateLocation(Y),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(d=!1){if(!this._elevation)return;const g=this._elevation,x=a.bl(1,this._center.lat)*this.worldSize,B=this._computeCameraPosition(x),L=g.getAtPointOrZero(new a.L(...B)),D=this.pixelsPerMeter/this.worldSize*L,$=this._minimumHeightOverTerrain(),Y=B[2]-D;if(Y<=$)if(Y<0||d){const ae=this.locationCoordinate(this._center,this._centerAltitude),de=[B[0],B[1],ae.z-B[2]],Ae=a.N.length(de);de[2]-=($-Y)/this._pixelsPerMercatorPixel;const Ce=a.N.length(de);if(Ce===0)return;a.N.scale(de,de,Ae/Ce*this._pixelsPerMercatorPixel),this._camera.position=[B[0],B[1],ae.z*this._pixelsPerMercatorPixel-de[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const d=this.projection.name==="globe"||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||d){const Ce=this.center;return Ce.lat=a.aa(Ce.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!d)&&(Ce.lng=a.aa(Ce.lng,this.minLng,this.maxLng)),this.center=Ce,void(this._constraining=!1)}const g=this._unmodified,{x,y:B}=this.point;let L=0,D=x,$=B;const Y=this.width/2,ae=this.height/2,de=this.worldMinY*this.scale,Ae=this.worldMaxY*this.scale;if(B-ae<de&&($=de+ae),B+ae>Ae&&($=Ae-ae),Ae-de<this.height&&(L=Math.max(L,this.height/(Ae-de)),$=(Ae+de)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const Ce=this.worldMinX*this.scale,Me=this.worldMaxX*this.scale,He=this.worldSize/2-(Ce+Me)/2;D=(x+He+this.worldSize)%this.worldSize-He,D-Y<Ce&&(D=Ce+Y),D+Y>Me&&(D=Me-Y),Me-Ce<this.width&&(L=Math.max(L,this.width/(Me-Ce)),D=(Me+Ce)/2)}D===x&&$===B||(this.center=this.unproject(new a.P(D,$))),L&&(this.zoom+=this.scaleZoom(L)),this._constrainCamera(),this._unmodified=g,this._constraining=!1}_minZoomForBounds(){let d=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(d=Math.max(d,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),d}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const d=this.centerOffset,g=this.projection.name==="globe",x=this.pixelsPerMeter;this.projection.name==="globe"&&(this._mercatorScaleRatio=a.bl(1,this.center.lat)/a.bl(1,a.bI));const B=a.bA(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,B),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const L=this.projection.zAxisUnit==="meters"?x:1,D=this._camera.getWorldToCamera(this.worldSize,L);let $;const Y=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);if(Y[8]=2*-d.x/this.width,Y[9]=2*d.y/this.height,this.isOrthographic){let Ot=.5*this.height/Math.tan(this._fov/2)*1*Math.tan(.5*this._fov),Qt=Ot*this.aspect,fn=-Qt,Wt=-Ot;Qt-=d.x,fn-=d.x,Ot+=d.y,Wt+=d.y,$=this._camera.getCameraToClipOrthographic(fn,Qt,Wt,Ot,this._nearZ,this._farZ),((xn,_n,$n,Yt)=>{for(let mn=0;mn<16;mn++)xn[mn]=ql(_n[mn],$n[mn],Yt)})($,$,Y,bh(this.pitch>=15?1:this.pitch/15))}else $=Y;const ae=a.a6.mul([],Y,D);let de=a.a6.mul([],$,D);if(this.projection.isReprojectedInTileSpace){const Ot=this.locationCoordinate(this.center),Qt=a.a6.identity([]);a.a6.translate(Qt,Qt,[Ot.x*this.worldSize,Ot.y*this.worldSize,0]),a.a6.multiply(Qt,Qt,a.bB(this)),a.a6.translate(Qt,Qt,[-Ot.x*this.worldSize,-Ot.y*this.worldSize,0]),a.a6.multiply(de,de,Qt),a.a6.multiply(ae,ae,Qt),this.inverseAdjustmentMatrix=a.bC(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];if(this.mercatorMatrix=a.a6.scale([],de,[this.worldSize,this.worldSize,this.worldSize/L,1]),this.projMatrix=de,this.invProjMatrix=a.a6.invert(new Float64Array(16),this.projMatrix),g){const Ot=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,1/0);Ot[8]=2*-d.x/this.width,Ot[9]=2*d.y/this.height,this.expandedFarZProjMatrix=a.a6.mul([],Ot,D)}else this.expandedFarZProjMatrix=this.projMatrix;const Ae=a.a6.invert([],$);this.frustumCorners=a.bD.fromInvProjectionMatrix(Ae,this.horizonLineFromTop(),this.height),this.cameraFrustum=a.bq.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,0,!g);const Ce=new Float32Array(16);a.a6.identity(Ce),a.a6.scale(Ce,Ce,[1,-1,1]),a.a6.rotateX(Ce,Ce,this._pitch),a.a6.rotateZ(Ce,Ce,this.angle);const Me=a.a6.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ);this.starsProjMatrix=a.a6.clone(Me);const He=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;Me[8]=2*-d.x/this.width,Me[9]=2*(d.y+He)/this.height,this.skyboxMatrix=a.a6.multiply(Ce,Me,Ce);const $e=this.point,Ke=$e.x,Pe=$e.y,Ze=this.width%2/2,pt=this.height%2/2,st=Math.cos(this.angle),At=Math.sin(this.angle),qe=Ke-Math.round(Ke)+st*Ze+At*pt,mt=Pe-Math.round(Pe)+st*pt+At*Ze,Pt=new Float64Array(de);if(a.a6.translate(Pt,Pt,[qe>.5?qe-1:qe,mt>.5?mt-1:mt,0]),this.alignedProjMatrix=Pt,de=a.a6.create(),a.a6.scale(de,de,[this.width/2,-this.height/2,1]),a.a6.translate(de,de,[1,-1,0]),this.labelPlaneMatrix=de,de=a.a6.create(),a.a6.scale(de,de,[1,-1,1]),a.a6.translate(de,de,[-1,-1,0]),a.a6.scale(de,de,[2/this.width,2/this.height,1]),this.glCoordMatrix=de,this.pixelMatrix=a.a6.multiply(new Float64Array(16),this.labelPlaneMatrix,ae),this._calcFogMatrices(),this._distanceTileDataCache={},de=a.a6.invert(new Float64Array(16),this.pixelMatrix),!de)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=de,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=a.bE(this);const Ot=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=a.N.transformMat4(Ot,Ot,D),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=de;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={},this._expandedProjMatrixCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const d=this.cameraWorldSizeForFog,g=this.cameraPixelsPerMeter,x=this._camera.position,B=1/this.height/this._pixelsPerMercatorPixel,L=[d,d,g];a.N.scale(L,L,B),a.N.scale(x,x,-1),a.N.multiply(x,x,L);const D=a.a6.create();a.a6.translate(D,D,x),a.a6.scale(D,D,L),this.mercatorFogMatrix=D,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(d,g,B)}_computeCameraPosition(d){const g=(d=d||this.pixelsPerMeter)/this.pixelsPerMeter,x=this._camera.forward(),B=this.point,L=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*g-d/this.worldSize*this._centerAltitude;return[B.x/this.worldSize-x[0]*L,B.y/this.worldSize-x[1]*L,d/this.worldSize*this._centerAltitude-x[2]*L]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(d){const g=this._maxCameraBoundsDistance()*Math.cos(this._pitch),x=this._camera.position[2],B=d[2];let L=1;this.projection.wrap&&(this.center=this.center.wrap()),B>0&&(L=Math.min((g-x)/B,1)),this._camera.position=a.N.scaleAndAdd([],this._camera.position,d,L),this._updateStateFromCamera()}_updateStateFromCamera(){const d=this._camera.position,g=this._camera.forward(),{pitch:x,bearing:B}=this._camera.getPitchBearing(),L=a.bl(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,D=this._mercatorZfromZoom(this._maxZoom)*Math.cos(a.bj(this._maxPitch)),$=Math.max((d[2]-L)/Math.cos(x),D),Y=this._zoomFromMercatorZ($);a.N.scaleAndAdd(d,d,g,$),this._pitch=a.aa(x,a.bj(this.minPitch),a.bj(this.maxPitch)),this.angle=a.bh(B,-Math.PI,Math.PI),this._setZoom(a.aa(Y,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new a.L(d[0],d[1],d[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(d){return Math.pow(2,d)*this.tileSize}_mercatorZfromZoom(d){return this.cameraToCenterDistance/this._worldSizeFromZoom(d)}_minimumHeightOverTerrain(){const d=Math.min(this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom,this._maxZoom)+4;return this._mercatorZfromZoom(d)}_zoomFromMercatorZ(d){return this.scaleZoom(this.cameraToCenterDistance/(d*this.tileSize))}zoomFromMercatorZAdjusted(d){let g=0,x=a.bx,B=0,L=1/0;for(;x-g>1e-6&&x>g;){const D=g+.5*(x-g),$=this.tileSize*Math.pow(2,D),Y=this.getCameraToCenterDistance(this.projection,D,$),ae=this.scaleZoom(Y/(d*this.tileSize)),de=Math.abs(D-ae);de<L&&(L=de,B=D),D<ae?g=D:x=D}return B}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(a.w("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(d,g){const x=Math.min(d.x,g.x),B=Math.max(d.x,g.x),L=Math.min(d.y,g.y),D=Math.max(d.y,g.y);if(L<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const $=[new a.P(x,L),new a.P(B,D),new a.P(x,D),new a.P(B,L)],Y=this.renderWorldCopies?-3:0,ae=this.renderWorldCopies?4:1;for(const de of $){const Ae=this.pointRayIntersection(de);if(Ae.t<0)return!0;const Ce=this.rayIntersectionCoordinate(Ae);if(Ce.x<Y||Ce.y<0||Ce.x>ae||Ce.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+a.bF(this.fovAboveCenter)>88||this.anyCornerOffEdge(new a.P(0,0),new a.P(this.width,this.height))}zoomDeltaToMovement(d,g){const x=a.N.length(a.N.sub([],this._camera.position,d)),B=this._zoomFromMercatorZ(x)+g;return x-this._mercatorZfromZoom(B)}getCameraPoint(){if(this.projection.name==="globe"){const d=function([g,x,B],L){const D=[g,x,B,1];a.a7.transformMat4(D,D,L);const $=D[3]=Math.max(D[3],1e-6);return D[0]/=$,D[1]/=$,D[2]/=$,D}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new a.P(d[0],d[1])}{const d=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.P(0,d))}}getCameraToCenterDistance(d,g=this.zoom,x=this.worldSize){const B=a.bA(d,g,this.width,this.height,1024),L=d.pixelSpaceConversion(this.center.lat,x,B);let D=.5/Math.tan(.5*this._fov)*this.height*L;return this.isOrthographic&&(D=ql(1,D,bh(this.pitch>=15?1:this.pitch/15))),D}getWorldToCameraMatrix(){const d=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?this.pixelsPerMeter:1);return this.projection.name==="globe"&&a.a6.multiply(d,d,this.globeMatrix),d}getFrustum(d){return a.bq.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,d,this.projection.zAxisUnit==="meters")}}const Vs={BaseColor:5,MetallicRoughness:6,Normal:7,Occlusion:8,Emission:9,ShadowMap0:10},il=(w,d)=>{if(d>0&&w.terrain&&a.w("Cutoff is currently disabled on terrain"),d<=0||w.terrain)return{shouldRenderCutoff:!1,uniformValues:{u_cutoff_params:[0,0,0,1]}};const g=w.transform,x=Math.max(Math.abs(g._zoom-(w.minCutoffZoom-1)),1),B=g.isLODDisabled(!1)?a.O(60,45,g.pitch):a.O(30,15,g.pitch),L=g._farZ-g._nearZ,D=d*g.height,$=((1-(Y=B))*g.cameraToCenterDistance+Y*(g._farZ+D))*x;var Y;return{shouldRenderCutoff:B<1,uniformValues:{u_cutoff_params:[g._nearZ,g._farZ,($-g._nearZ)/L,($-D-g._nearZ)/L]}}},oo={cascadeCount:2,shadowMapResolution:2048};class dd{constructor(d,g){this.aabb=d,this.lastCascade=g}}class sp{add(d,g){const x=this.receivers[d.key];x!==void 0?(x.aabb.min[0]=Math.min(x.aabb.min[0],g.min[0]),x.aabb.min[1]=Math.min(x.aabb.min[1],g.min[1]),x.aabb.min[2]=Math.min(x.aabb.min[2],g.min[2]),x.aabb.max[0]=Math.max(x.aabb.max[0],g.max[0]),x.aabb.max[1]=Math.max(x.aabb.max[1],g.max[1]),x.aabb.max[2]=Math.max(x.aabb.max[2],g.max[2])):this.receivers[d.key]=new dd(g,null)}clear(){this.receivers={}}get(d){return this.receivers[d.key]}computeRequiredCascades(d,g,x){const B=a.bS.fromPoints(d.points);let L=0;for(const D in this.receivers){const $=this.receivers[D];if(!$||!B.intersectsAabb($.aabb))continue;$.aabb.min=B.closestPoint($.aabb.min),$.aabb.max=B.closestPoint($.aabb.max);const Y=$.aabb.getCorners();for(let ae=0;ae<x.length;ae++){let de=!0;for(const Ae of Y){const Ce=[Ae[0]*g,Ae[1]*g,Ae[2]];if(a.N.transformMat4(Ce,Ce,x[ae].matrix),Ce[0]<-1||Ce[0]>1||Ce[1]<-1||Ce[1]>1){de=!1;break}}if($.lastCascade=ae,L=Math.max(L,ae),de)break}}return L+1}}class fd{constructor(d){this.painter=d,this._enabled=!1,this._shadowLayerCount=0,this._numCascadesToRender=0,this._cascades=[],this._groundShadowTiles=[],this._receivers=new sp,this._depthMode=new rr(d.context.gl.LEQUAL,rr.ReadWrite,[0,1]),this._uniformValues={u_light_matrix_0:new Float32Array(16),u_light_matrix_1:new Float32Array(16),u_shadow_intensity:0,u_fade_range:[0,0],u_shadow_normal_offset:[1,1,1],u_shadow_texel_size:1,u_shadow_map_resolution:1,u_shadow_direction:[0,0,1],u_shadow_bias:[36e-5,.0012,.012],u_shadowmap_0:0,u_shadowmap_1:0},this.useNormalOffset=!1,d.tp.registerParameter(oo,["Shadows"],"cascadeCount",{min:1,max:2,step:1}),d.tp.registerParameter(oo,["Shadows"],"shadowMapResolution",{min:32,max:2048,step:32})}destroy(){for(const d of this._cascades)d.texture.destroy(),d.framebuffer.destroy();this._cascades=[]}updateShadowParameters(d,g){const x=this.painter;if(this._enabled=!1,this._shadowLayerCount=0,this._receivers.clear(),!g||!g.properties)return;const B=g.properties.get("shadow-intensity");if(!g.shadowsEnabled()||B<=0||(this._shadowLayerCount=x.style.order.reduce((He,$e)=>{const Ke=x.style._mergedLayers[$e];return He+(Ke.hasShadowPass()&&!Ke.isHidden(d.zoom)?1:0)},0),this._enabled=this._shadowLayerCount>0,!this._enabled))return;const L=x.context,D=oo.shadowMapResolution,$=oo.shadowMapResolution;if(this._cascades.length===0||oo.shadowMapResolution!==this._cascades[0].texture.size[0]){this._cascades=[];for(let He=0;He<oo.cascadeCount;++He){const $e=x._shadowMapDebug,Ke=L.gl,Pe=L.createFramebuffer(D,$,$e,"texture"),Ze=new a.T(L,{width:D,height:$,data:null},Ke.DEPTH_COMPONENT);if(Pe.depthAttachment.set(Ze.texture),$e){const pt=new a.T(L,{width:D,height:$,data:null},Ke.RGBA);Pe.colorAttachment.set(pt.texture)}this._cascades.push({framebuffer:Pe,texture:Ze,matrix:[],far:0,boundingSphereRadius:0,frustum:new a.bq,scale:0})}}this.shadowDirection=tf(g);let Y=0;if(d.elevation){const He=d.elevation,$e=[1e4,-1e4];He.visibleDemTiles.filter(Ke=>Ke.dem).forEach(Ke=>{const Pe=Ke.dem.tree;$e[0]=Math.min($e[0],Pe.minimums[0]),$e[1]=Math.max($e[1],Pe.maximums[0])}),$e[0]!==1e4&&(Y=($e[1]-$e[0])*He.exaggeration())}const ae=1.5*d.cameraToCenterDistance,de=3*ae,Ae=new Float64Array(16);for(let He=0;He<this._cascades.length;++He){const $e=this._cascades[He];let Ke=d.height/50,Pe=1;oo.cascadeCount===1?Pe=de:He===0?Pe=ae:(Ke=ae,Pe=de);const[Ze,pt]=wh(d,this.shadowDirection,Ke,Pe,oo.shadowMapResolution,Y);$e.scale=d.scale,$e.matrix=Ze,$e.boundingSphereRadius=pt,a.a6.invert(Ae,$e.matrix),$e.frustum=a.bq.fromInvProjectionMatrix(Ae,1,0,!0),$e.far=Pe}const Ce=this._cascades.length-1;this._uniformValues.u_fade_range=[.75*this._cascades[Ce].far,this._cascades[Ce].far],this._uniformValues.u_shadow_intensity=B,this._uniformValues.u_shadow_direction=[this.shadowDirection[0],this.shadowDirection[1],this.shadowDirection[2]],this._uniformValues.u_shadow_texel_size=1/oo.shadowMapResolution,this._uniformValues.u_shadow_map_resolution=oo.shadowMapResolution,this._uniformValues.u_shadowmap_0=Vs.ShadowMap0,this._uniformValues.u_shadowmap_1=Vs.ShadowMap0+1,this._groundShadowTiles=x.transform.coveringTiles({tileSize:512,renderWorldCopies:!0});const Me=x.transform.elevation;for(const He of this._groundShadowTiles){let $e={min:0,max:0};if(Me){const Ke=Me.getMinMaxForTile(He);Ke&&($e=Ke)}this.addShadowReceiver(He.toUnwrapped(),$e.min,$e.max)}}get enabled(){return this._enabled}set enabled(d){this._enabled=d}drawShadowPass(d,g){if(!this._enabled)return;const x=this.painter,B=x.context;this._numCascadesToRender=this._receivers.computeRequiredCascades(x.transform.getFrustum(0),x.transform.worldSize,this._cascades),B.viewport.set([0,0,oo.shadowMapResolution,oo.shadowMapResolution]);for(let L=0;L<this._numCascadesToRender;++L){x.currentShadowCascade=L,B.bindFramebuffer.set(this._cascades[L].framebuffer.framebuffer),B.clear({color:a.ax.white,depth:1});for(const D of d.order){const $=d._mergedLayers[D];if(!$.hasShadowPass()||$.isHidden(x.transform.zoom))continue;const Y=d.getLayerSourceCache($),ae=Y?g[Y.id]:void 0;($.type==="model"||ae&&ae.length)&&x.renderLayer(x,Y,$,ae)}}x.currentShadowCascade=0}drawGroundShadows(){if(!this._enabled)return;const d=this.painter,g=d.style,x=d.context,B=g.directionalLight,L=g.ambientLight;if(!B||!L)return;const D=[],$=il(d,d.longestCutoffRange);$.shouldRenderCutoff&&D.push("RENDER_CUTOFF");const Y=Yl(B,L),ae=new rr(x.gl.LEQUAL,rr.ReadOnly,d.depthRangeFor3D);for(const de of this._groundShadowTiles){const Ae=de.toUnwrapped(),Ce=d.isTileAffectedByFog(de),Me=d.getOrCreateProgram("groundShadow",{defines:D,overrideFog:Ce});this.setupShadows(Ae,Me),d.uploadCommonUniforms(x,Me,Ae,null,$);const He={u_matrix:d.transform.calculateProjMatrix(Ae),u_ground_shadow_factor:Y};Me.draw(d,x.gl.TRIANGLES,ae,si.disabled,Ii.multiply,Vr.disabled,He,"ground_shadow",d.tileExtentBuffer,d.quadTriangleIndexBuffer,d.tileExtentSegments,{},d.transform.zoom,null,null)}}getShadowPassColorMode(){return this.painter._shadowMapDebug?Ii.unblended:Ii.disabled}getShadowPassDepthMode(){return this._depthMode}getShadowCastingLayerCount(){return this._shadowLayerCount}calculateShadowPassMatrixFromTile(d){const g=this.painter.transform,x=g.calculatePosMatrix(d,g.worldSize);return a.a6.multiply(x,this._cascades[this.painter.currentShadowCascade].matrix,x),Float32Array.from(x)}calculateShadowPassMatrixFromMatrix(d){return a.a6.multiply(d,this._cascades[this.painter.currentShadowCascade].matrix,d),Float32Array.from(d)}setupShadows(d,g,x,B=0){if(!this._enabled)return;const L=this.painter.transform,D=this.painter.context,$=D.gl,Y=this._uniformValues,ae=new Float64Array(16),de=L.calculatePosMatrix(d,L.worldSize);for(let Ae=0;Ae<this._cascades.length;Ae++)a.a6.multiply(ae,this._cascades[Ae].matrix,de),Y[Ae===0?"u_light_matrix_0":"u_light_matrix_1"]=Float32Array.from(ae),D.activeTexture.set($.TEXTURE0+Vs.ShadowMap0+Ae),this._cascades[Ae].texture.bind($.NEAREST,$.CLAMP_TO_EDGE);if(this.useNormalOffset=!!x,this.useNormalOffset){const Ae=a.bR(d.canonical),Ce=2/L.tileSize*a.V/oo.shadowMapResolution,Me=Ce*this._cascades[0].boundingSphereRadius,He=Ce*this._cascades[this._cascades.length-1].boundingSphereRadius,$e=(x==="vector-tile"?1:3)/Math.pow(2,B-d.canonical.z-(1-L.zoom+Math.floor(L.zoom)));Y.u_shadow_normal_offset=[Ae,Me*$e,He*$e],Y.u_shadow_bias=[6e-5,.0012,.012]}else Y.u_shadow_bias=[36e-5,.0012,.012];g.setShadowUniformValues(D,Y)}setupShadowsFromMatrix(d,g,x=!1){if(!this._enabled)return;const B=this.painter.context,L=B.gl,D=this._uniformValues,$=new Float64Array(16);for(let Y=0;Y<oo.cascadeCount;Y++)a.a6.multiply($,this._cascades[Y].matrix,d),D[Y===0?"u_light_matrix_0":"u_light_matrix_1"]=Float32Array.from($),B.activeTexture.set(L.TEXTURE0+Vs.ShadowMap0+Y),this._cascades[Y].texture.bind(L.NEAREST,L.CLAMP_TO_EDGE);this.useNormalOffset=x,x?(D.u_shadow_normal_offset=[1,5,5],D.u_shadow_bias=[6e-5,.0012,.012]):D.u_shadow_bias=[36e-5,.0012,.012],g.setShadowUniformValues(B,D)}getShadowUniformValues(){return this._uniformValues}getCurrentCascadeFrustum(){return this._cascades[this.painter.currentShadowCascade].frustum}computeSimplifiedTileShadowVolume(d,g,x,B){if(B[2]>=0)return{};const L=function(Y,ae,de){const Ae=de/(1<<Y.canonical.z);return new a.bS([Y.canonical.x*Ae+Y.wrap*de,Y.canonical.y*Ae+Y.wrap*de,0],[(Y.canonical.x+1)*Ae+Y.wrap*de,(Y.canonical.y+1)*Ae+Y.wrap*de,ae])}(d,g,x).getCorners(),D=g/-B[2];B[0]<0?(a.N.add(L[0],L[0],[B[0]*D,0,0]),a.N.add(L[3],L[3],[B[0]*D,0,0])):B[0]>0&&(a.N.add(L[1],L[1],[B[0]*D,0,0]),a.N.add(L[2],L[2],[B[0]*D,0,0])),B[1]<0?(a.N.add(L[0],L[0],[0,B[1]*D,0]),a.N.add(L[1],L[1],[0,B[1]*D,0])):B[1]>0&&(a.N.add(L[2],L[2],[0,B[1]*D,0]),a.N.add(L[3],L[3],[0,B[1]*D,0]));const $={};return $.vertices=L,$.planes=[Ou(L[1],L[0],L[4]),Ou(L[2],L[1],L[5]),Ou(L[3],L[2],L[6]),Ou(L[0],L[3],L[7])],$}addShadowReceiver(d,g,x){this._receivers.add(d,a.bS.fromTileIdAndHeight(d,g,x))}getMaxCascadeForTile(d){const g=this._receivers.get(d);return g&&g.lastCascade?g.lastCascade:0}}function Ou(w,d,g){const x=a.N.sub([],g,d),B=a.N.sub([],w,d),L=a.N.cross([],x,B),D=a.N.length(L);return D===0?[0,0,1,0]:(a.N.scale(L,L,1/D),[L[0],L[1],L[2],-a.N.dot(L,d)])}function tf(w){const d=w.properties.get("direction"),g=a.bQ(d.x,d.y,d.z);g[2]=a.aa(g[2],0,75);const x=a.bT([g[0],g[1],g[2]]);return a.N.fromValues(x.x,x.y,x.z)}function Yl(w,d){const g=w.properties.get("color"),x=w.properties.get("intensity"),B=w.properties.get("direction"),L=[B.x,B.y,B.z],D=d.properties.get("color"),$=d.properties.get("intensity"),Y=Math.max(a.N.dot([0,0,1],L),0),ae=[0,0,0];a.N.scale(ae,D.toArray01Linear().slice(0,3),$);const de=[0,0,0];return a.N.scale(de,g.toArray01Linear().slice(0,3),Y*x),a.bU([ae[0]>0?ae[0]/(ae[0]+de[0]):0,ae[1]>0?ae[1]/(ae[1]+de[1]):0,ae[2]>0?ae[2]/(ae[2]+de[2]):0])}function wh(w,d,g,x,B,L){const D=w.zoom,$=w.scale,Y=w.worldSize,ae=1/Y,de=w.aspect,Ae=Math.sqrt(1+de*de)*Math.tan(.5*w.fovX),Ce=Ae*Ae,Me=x-g,He=x+g;let $e,Ke;Ce>Me/He?($e=x,Ke=x*Ae):($e=.5*He*(1+Ce),Ke=.5*Math.sqrt(Me*Me+2*(x*x+g*g)*Ce+He*He*Ce*Ce));const Pe=w.projection.pixelsPerMeter(w.center.lat,Y),Ze=w._camera.getCameraToWorldMercator(),pt=[0,0,-$e*ae];a.N.transformMat4(pt,pt,Ze);let st=Ke*ae;const At=w._edgeInsets;if(!(At.left===0&&At.top===0&&At.right===0&&At.bottom===0||At.left===At.right&&At.top===At.bottom)){const ir=w._camera.getWorldToCamera(w.worldSize,w.projection.zAxisUnit==="meters"?Pe:1),nr=w._camera.getCameraToClipPerspective(w._fov,w.width/w.height,g,x);nr[8]=2*-w.centerOffset.x/w.width,nr[9]=2*w.centerOffset.y/w.height;const pr=new Float64Array(16);a.a6.mul(pr,nr,ir);const Ir=new Float64Array(16);a.a6.invert(Ir,pr);const jr=a.bq.fromInvProjectionMatrix(Ir,Y,D,!0);for(const Nr of jr.points){const zr=((qe=Nr)[0]/=$,qe[1]/=$,qe[2]=a.bl(qe[2],w._center.lat),qe);st=Math.max(st,a.N.len(a.N.subtract([],pt,zr)))}}var qe;st*=B/(B-1);const mt=Math.acos(d[2]),Pt=Math.atan2(-d[0],-d[1]),Ot=new qc;Ot.position=pt,Ot.setPitchBearing(mt,Pt);const Qt=Ot.getWorldToCamera(Y,Pe),fn=st*Y,Wt=Math.min(w._mercatorZfromZoom(17)*Y*-2,-2*fn),xn=Ot.getCameraToClipOrthographic(-fn,fn,-fn,fn,Wt,(fn+L*Pe)/d[2]),_n=new Float64Array(16);a.a6.multiply(_n,xn,Qt);const $n=a.N.fromValues(Math.floor(1e6*pt[0])/1e6*Y,Math.floor(1e6*pt[1])/1e6*Y,0),Yt=.5*B,mn=[0,0,0];a.N.transformMat4(mn,$n,_n),a.N.scale(mn,mn,Yt);const $t=[Math.floor(mn[0]),Math.floor(mn[1]),Math.floor(mn[2])],on=[0,0,0];a.N.sub(on,mn,$t),a.N.scale(on,on,-1/Yt);const Kn=new Float64Array(16);return a.a6.identity(Kn),a.a6.translate(Kn,Kn,on),a.a6.multiply(_n,Kn,_n),[_n,fn]}const qa=(w,d)=>Mt(w,d&&d.filter(g=>g.identifier!=="source.canvas")),xs=a.ac(Ni,["addLayer","removeLayer","setLights","setPaintProperty","setLayoutProperty","setSlot","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection","setCamera","addImport","removeImport","updateImport"]),Ls=a.ac(Ni,["setCenter","setZoom","setBearing","setPitch"]),Mo={version:8,layers:[],sources:{}},xh={duration:300,delay:0},nf=new Set(["fill","line","background","hillshade","raster"]);class Xl extends a.E{constructor(d,g={}){super(),this.map=d,this.scope=g.scope||"",this.fragments=[],this.importDepth=g.importDepth||0,this.importsCache=g.importsCache||new Map,this.resolvedImports=g.resolvedImports||new Set,this.transition=a.e({},xh),this._buildingIndex=new ld(this),this.crossTileSymbolIndex=new yh,this._mergedOrder=[],this._drapedFirstOrder=[],this._mergedLayers={},this._mergedSourceCaches={},this._mergedOtherSourceCaches={},this._mergedSymbolSourceCaches={},this._has3DLayers=!1,this._hasCircleLayers=!1,this._hasSymbolLayers=!1,this._changes=g.styleChanges||new ie,this.dispatcher=g.dispatcher?g.dispatcher:new a.bW(a.bX(),this),g.imageManager?this.imageManager=g.imageManager:(this.imageManager=new he,this.imageManager.setEventedParent(this)),this.imageManager.createScope(this.scope),this.glyphManager=g.glyphManager?g.glyphManager:new a.bY(d._requestManager,g.localFontFamily?a.bZ.all:g.localIdeographFontFamily?a.bZ.ideographs:a.bZ.none,g.localFontFamily||g.localIdeographFontFamily),g.modelManager?this.modelManager=g.modelManager:(this.modelManager=new q(d._requestManager),this.modelManager.setEventedParent(this)),this._layers={},this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._precompileDone=!1,this._shouldPrecompile=!1,this._availableImages=[],this._order=[],this._markersNeedUpdate=!1,this.options=g.configOptions?g.configOptions:new Map,this._configDependentLayers=g.configDependentLayers?g.configDependentLayers:new Set,this._config=g.config,this.dispatcher.broadcast("setReferrer",a.b_());const x=this;this._rtlTextPluginCallback=Xl.registerForPluginStateChange(B=>{x.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:B.pluginStatus,pluginURL:B.pluginURL},(L,D)=>{if(a.b$(L),D&&D.every($=>$))for(const $ in x._sourceCaches){const Y=x._sourceCaches[$],ae=Y.getSource().type;ae!=="vector"&&ae!=="geojson"||Y.reload()}})}),this.on("data",B=>{if(B.dataType!=="source"||B.sourceDataType!=="metadata")return;const L=this.getOwnSource(B.sourceId);if(L&&L.vectorLayerIds)for(const D in this._layers){const $=this._layers[D];$.source===L.id&&this._validateLayer($)}})}loadURL(d,g={}){this.fire(new a.b("dataloading",{dataType:"style"}));const x=typeof g.validate=="boolean"?g.validate:!a.c0(d);d=this.map._requestManager.normalizeStyleURL(d,g.accessToken),this.resolvedImports.add(d);const B=this.importsCache.get(d);if(B)return this._load(B,x);const L=this.map._requestManager.transformRequest(d,a.R.Style);this._request=a.g(L,(D,$)=>{if(this._request=null,D)this.fire(new a.a(D));else if($)return this.importsCache.set(d,$),this._load($,x)})}loadJSON(d,g={}){this.fire(new a.b("dataloading",{dataType:"style"})),this._request=a.f.frame(()=>{this._request=null,this._load(d,g.validate!==!1)})}loadEmpty(){this.fire(new a.b("dataloading",{dataType:"style"})),this._load(Mo,!1)}_loadImports(d,g,x){if(this.importDepth>=4)return a.w("Style doesn't support nesting deeper than 5"),Promise.resolve();const B=[];for(const L of d){const D=this._createFragmentStyle(L),$=new Promise(de=>{D.once("style.import.load",de),D.once("error",de)}).then(()=>this.mergeAll());if(B.push($),this.resolvedImports.has(L.url)){D.loadEmpty();continue}const Y=L.data||this.importsCache.get(L.url);Y?D.loadJSON(Y,{validate:g}):L.url?D.loadURL(L.url,{validate:g}):D.loadEmpty();const ae={style:D,id:L.id,config:L.config};if(x){const de=this.fragments.findIndex(({id:Ae})=>Ae===x);this.fragments=this.fragments.slice(0,de).concat(ae).concat(this.fragments.slice(de))}else this.fragments.push(ae)}return Promise.allSettled(B)}_createFragmentStyle(d){const g=this.scope?a.ag(d.id,this.scope):d.id,x=new Xl(this.map,{scope:g,styleChanges:this._changes,importDepth:this.importDepth+1,importsCache:this.importsCache,resolvedImports:new Set(this.resolvedImports),dispatcher:this.dispatcher,imageManager:this.imageManager,glyphManager:this.glyphManager,modelManager:this.modelManager,config:d.config,configOptions:this.options,configDependentLayers:this._configDependentLayers});return x.setEventedParent(this.map,{style:x}),x}_reloadImports(){this.mergeAll(),this._updateMapProjection(),this.updateConfigDependencies(),this.map._triggerCameraUpdate(this.camera),this.dispatcher.broadcast("setLayers",{layers:this._serializeLayers(this._order),scope:this.scope,options:this.options});const d=this.isRootStyle();this._shouldPrecompile=d,this.fire(new a.b(d?"style.load":"style.import.load"))}_load(d,g){const x=d.schema;if(this.isRootStyle()&&(d.fragment||x&&d.fragment!==!1)){const D=a.e({},Mo,{imports:[{id:"basemap",data:d,url:""}]});return void this._load(D,g)}if(this.setConfig(this._config,x),g&&qa(this,qt(d)))return;this._loaded=!0,this.stylesheet=a.c1(d);for(const D in d.sources)this.addSource(D,d.sources[D],{validate:!1,isInitialLoad:!0});d.sprite?this._loadSprite(d.sprite):(this.imageManager.setLoaded(!0,this.scope),this.dispatcher.broadcast("spriteLoaded",{scope:this.scope,isLoaded:!0})),this.glyphManager.setURL(d.glyphs,this.scope);const B=bA(this.stylesheet.layers);if(this._order=B.map(D=>D.id),this.stylesheet.light&&a.w("The `light` root property is deprecated, prefer using `lights` with `flat` light type instead."),this.stylesheet.lights)if(this.stylesheet.lights.length===1&&this.stylesheet.lights[0].type==="flat"){const D=this.stylesheet.lights[0];this.light=new et(D.properties,D.id)}else this.setLights(this.stylesheet.lights);this.light||(this.light=new et(this.stylesheet.light)),this._layers={},this._serializedLayers={};for(const D of B){const $=a.c2(D,this.scope,this.options);$.isConfigDependent&&this._configDependentLayers.add($.fqid),$.setEventedParent(this,{layer:{id:$.id}}),this._layers[$.id]=$,this._serializedLayers[$.id]=$.serialize();const Y=this.getOwnLayerSourceCache($),ae=!!this.directionalLight&&this.directionalLight.shadowsEnabled();Y&&$.canCastShadows()&&ae&&(Y.castsShadows=!0)}this.stylesheet.models&&this.modelManager.addModels(this.stylesheet.models,this.scope);const L=this.stylesheet.terrain;L&&(this.disableElevatedTerrain===void 0&&(this.disableElevatedTerrain=a.f.hasCanvasFingerprintNoise()),this.disableElevatedTerrain?a.w("Terrain and hillshade are disabled because of Canvas2D limitations when fingerprinting protection is enabled (e.g. in private browsing mode)."):this.terrainSetForDrapingOnly()||this._createTerrain(L,1)),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this.stylesheet.transition&&this.setTransition(this.stylesheet.transition),this.fire(new a.b("data",{dataType:"style"})),d.imports?this._loadImports(d.imports,g).then(()=>this._reloadImports()):this._reloadImports()}isRootStyle(){return this.importDepth===0}mergeAll(){let d,g,x,B,L,D,$,Y;this.terrain&&this.terrain.scope!==this.scope&&delete this.terrain,this.forEachFragmentStyle(ae=>{if(ae.stylesheet){if(ae.light!=null&&(d=ae.light),ae.stylesheet.lights)for(const de of ae.stylesheet.lights)de.type==="ambient"&&ae.ambientLight!=null&&(g=ae.ambientLight),de.type==="directional"&&ae.directionalLight!=null&&(x=ae.directionalLight);B=this._prioritizeTerrain(B,ae.terrain,ae.stylesheet.terrain),ae.stylesheet.fog&&ae.fog!=null&&(L=ae.fog),ae.stylesheet.camera!=null&&(Y=ae.stylesheet.camera),ae.stylesheet.projection!=null&&(D=ae.stylesheet.projection),ae.stylesheet.transition!=null&&($=ae.stylesheet.transition)}}),this.light=d,this.ambientLight=g,this.directionalLight=x,this.fog=L,B===null?delete this.terrain:this.terrain=B,this.camera=Y||{"camera-projection":"perspective"},this.projection=D||{name:"mercator"},this.transition=a.e({},xh,$),this.mergeSources(),this.mergeLayers()}forEachFragmentStyle(d){const g=x=>{for(const B of x.fragments)g(B.style);d(x)};g(this)}_prioritizeTerrain(d,g,x){const B=d&&d.drapeRenderMode===0;return x===null?g&&g.drapeRenderMode===0?g:B?d:null:g!=null&&(!d||B||g&&g.drapeRenderMode===1)?g:d}mergeTerrain(){let d;this.terrain&&this.terrain.scope!==this.scope&&delete this.terrain,this.forEachFragmentStyle(g=>{d=this._prioritizeTerrain(d,g.terrain,g.stylesheet.terrain)}),d===null?delete this.terrain:this.terrain=d}mergeProjection(){let d;this.forEachFragmentStyle(g=>{g.stylesheet.projection!=null&&(d=g.stylesheet.projection)}),this.projection=d||{name:"mercator"}}mergeSources(){const d={},g={},x={};this.forEachFragmentStyle(B=>{for(const L in B._sourceCaches){const D=a.ag(L,B.scope);d[D]=B._sourceCaches[L]}for(const L in B._otherSourceCaches){const D=a.ag(L,B.scope);g[D]=B._otherSourceCaches[L]}for(const L in B._symbolSourceCaches){const D=a.ag(L,B.scope);x[D]=B._symbolSourceCaches[L]}}),this._mergedSourceCaches=d,this._mergedOtherSourceCaches=g,this._mergedSymbolSourceCaches=x}mergeLayers(){const d={},g=[],x={};this._has3DLayers=!1,this._hasCircleLayers=!1,this._hasSymbolLayers=!1,this.forEachFragmentStyle(L=>{for(const D of L._order){const $=L._layers[D];if($.type==="slot"){const Y=a.c3(D);if(d[Y])continue;d[Y]=[]}$.slot&&d[$.slot]?d[$.slot].push($):g.push($)}}),this._mergedOrder=[];const B=(L=[])=>{for(const D of L)if(D.type==="slot"){const $=a.c3(D.id);d[$]&&B(d[$])}else{const $=a.ag(D.id,D.scope);this._mergedOrder.push($),x[$]=D,D.is3D()&&(this._has3DLayers=!0),D.type==="circle"&&(this._hasCircleLayers=!0),D.type==="symbol"&&(this._hasSymbolLayers=!0)}};B(g),this._mergedLayers=x,this.updateDrapeFirstLayers(),this._buildingIndex.processLayersChanged()}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}getCamera(){return this.stylesheet.camera}setCamera(d){return this.stylesheet.camera=a.e({},this.stylesheet.camera,d),this.camera=this.stylesheet.camera,this}setProjection(d){d?this.stylesheet.projection=d:delete this.stylesheet.projection,this.mergeProjection(),this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?(this.getTerrain()||this.stylesheet.terrain)&&!this.disableElevatedTerrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null,0))}_updateMapProjection(){this.isRootStyle()&&(this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.projection))}_loadSprite(d){this._spriteRequest=function(g,x,B){let L,D,$;const Y=a.f.devicePixelRatio>1?"@2x":"";let ae=a.g(x.transformRequest(x.normalizeSpriteURL(g,Y,".json"),a.R.SpriteJSON),(Ce,Me)=>{ae=null,$||($=Ce,L=Me,Ae())}),de=a.d(x.transformRequest(x.normalizeSpriteURL(g,Y,".png"),a.R.SpriteImage),(Ce,Me)=>{de=null,$||($=Ce,D=Me,Ae())});function Ae(){if($)B($);else if(L&&D){const Ce=a.f.getImageData(D),Me={};for(const He in L){const{width:$e,height:Ke,x:Pe,y:Ze,sdf:pt,pixelRatio:st,stretchX:At,stretchY:qe,content:mt}=L[He],Pt=new a.h({width:$e,height:Ke});a.h.copy(Ce,Pt,{x:Pe,y:Ze},{x:0,y:0},{width:$e,height:Ke}),Me[He]={data:Pt,pixelRatio:st,sdf:pt,stretchX:At,stretchY:qe,content:mt}}B(null,Me)}}return{cancel(){ae&&(ae.cancel(),ae=null),de&&(de.cancel(),de=null)}}}(d,this.map._requestManager,(g,x)=>{if(this._spriteRequest=null,g)this.fire(new a.a(g));else if(x)for(const B in x)this.imageManager.addImage(B,this.scope,x[B]);this.imageManager.setLoaded(!0,this.scope),this._availableImages=this.imageManager.listImages(this.scope),this.dispatcher.broadcast("setImages",{scope:this.scope,images:this._availableImages}),this.dispatcher.broadcast("spriteLoaded",{scope:this.scope,isLoaded:!0}),this.fire(new a.b("data",{dataType:"style"}))})}_validateLayer(d){const g=this.getOwnSource(d.source);if(!g)return;const x=d.sourceLayer;x&&(g.type==="geojson"||g.vectorLayerIds&&g.vectorLayerIds.indexOf(x)===-1)&&this.fire(new a.a(new Error(`Source layer "${x}" does not exist on source "${g.id}" as specified by style layer "${d.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._changes.getUpdatedSourceCaches()).length)return!1;for(const d in this._sourceCaches)if(!this._sourceCaches[d].loaded())return!1;if(!this.imageManager.isLoaded()||!this.modelManager.isLoaded())return!1;for(const{style:d}of this.fragments)if(!d.loaded())return!1;return!0}_serializeImports(){if(this.stylesheet.imports)return this.stylesheet.imports.map((d,g)=>{const x=this.fragments[g];return x&&x.style&&(d.data=x.style.serialize()),d})}_serializeSources(){const d={};for(const g in this._sourceCaches){const x=this._sourceCaches[g].getSource();d[x.id]||(d[x.id]=x.serialize())}return d}_serializeLayers(d){const g=[];for(const x of d){const B=this._layers[x];B&&B.type!=="custom"&&g.push(B.serialize())}return g}hasLightTransitions(){return!(!this.light||!this.light.hasTransition())||!(!this.ambientLight||!this.ambientLight.hasTransition())||!(!this.directionalLight||!this.directionalLight.hasTransition())}hasFogTransition(){return!!this.fog&&this.fog.hasTransition()}hasTransitions(){if(this.hasLightTransitions()||this.hasFogTransition())return!0;for(const d in this._sourceCaches)if(this._sourceCaches[d].hasTransition())return!0;for(const d in this._layers)if(this._layers[d].hasTransition())return!0;return!1}get order(){return this.terrain?this._drapedFirstOrder:this._mergedOrder}isLayerDraped(d){return!!this.terrain&&(typeof d.isLayerDraped=="function"?d.isLayerDraped(this.getLayerSourceCache(d)):nf.has(d.type))}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}_checkLayer(d){const g=this.getOwnLayer(d);if(g)return g;this.fire(new a.a(new Error(`The layer '${d}' does not exist in the map's style.`)))}_checkSource(d){const g=this.getOwnSource(d);if(g)return g;this.fire(new a.a(new Error(`The source '${d}' does not exist in the map's style.`)))}update(d){if(!this._loaded)return;this.ambientLight&&this.ambientLight.recalculate(d),this.directionalLight&&this.directionalLight.recalculate(d);const g=this.calculateLightsBrightness();d.brightness=g||0,g!==this._brightness&&(this._brightness=g,this.dispatcher.broadcast("setBrightness",g));const x=this._changes.isDirty();if(this._changes.isDirty()){const L=this._changes.getLayerUpdatesByScope();for(const D in L){const{updatedIds:$,removedIds:Y}=L[D];($||Y)&&this._updateWorkerLayers(D,$,Y)}this.updateSourceCaches(),this._updateTilesForChangedImages(),this.updateLayers(d),this.light&&this.light.updateTransitions(d),this.ambientLight&&this.ambientLight.updateTransitions(d),this.directionalLight&&this.directionalLight.updateTransitions(d),this.fog&&this.fog.updateTransitions(d),this._changes.reset()}const B={};for(const L in this._mergedSourceCaches){const D=this._mergedSourceCaches[L];B[L]=D.used,D.used=!1,D.tileCoverLift=0}for(const L of this._mergedOrder){const D=this._mergedLayers[L];if(D.recalculate(d,this._availableImages),!D.isHidden(d.zoom)){const $=this.getLayerSourceCache(D);$&&($.used=!0,$.tileCoverLift=Math.max($.tileCoverLift,D.tileCoverLift()))}if(!this._precompileDone&&this._shouldPrecompile)for(let $=D.minzoom||0;$<(D.maxzoom||25.5);$++){const Y=this.map.painter;if(Y){const ae=D.getProgramIds();if(!ae)continue;for(const de of ae){const Ae=D.getDefaultProgramParams(de,d.zoom);Ae&&(Y.style=this,this.fog&&(Y._fogVisible=!0,Ae.overrideFog=!0,Y.getOrCreateProgram(de,Ae)),Y._fogVisible=!1,Ae.overrideFog=!1,Y.getOrCreateProgram(de,Ae),(this.stylesheet.terrain||this.stylesheet.projection&&this.stylesheet.projection.name==="globe")&&(Ae.overrideRtt=!0,Y.getOrCreateProgram(de,Ae)))}}}}this._shouldPrecompile&&(this._precompileDone=!0);for(const L in B){const D=this._mergedSourceCaches[L];B[L]!==D.used&&D.getSource().fire(new a.b("data",{sourceDataType:"visibility",dataType:"source",sourceId:D.getSource().id}))}this.light&&this.light.recalculate(d),this.terrain&&this.terrain.recalculate(d),this.fog&&this.fog.recalculate(d),this.z=d.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),x&&this.fire(new a.b("data",{dataType:"style"}))}_updateTilesForChangedImages(){const d=this._changes.getUpdatedImages();if(d.length){for(const g in this._sourceCaches)this._sourceCaches[g].reloadTilesForDependencies(["icons","patterns"],d);this._changes.resetUpdatedImages()}}_updateWorkerLayers(d,g,x){const B=this.getFragmentStyle(d);B&&this.dispatcher.broadcast("updateLayers",{layers:g?B._serializeLayers(g):[],scope:d,removedIds:x||[],options:B.options})}setState(d){if(this._checkLoaded(),qa(this,qt(d)))return!1;(d=a.c1(d)).layers=bA(d.layers);const g=function(B,L){if(!B)return[{command:Ni.setStyle,args:[L]}];let D=[];try{if(!f(B.version,L.version))return[{command:Ni.setStyle,args:[L]}];f(B.center,L.center)||D.push({command:Ni.setCenter,args:[L.center]}),f(B.zoom,L.zoom)||D.push({command:Ni.setZoom,args:[L.zoom]}),f(B.bearing,L.bearing)||D.push({command:Ni.setBearing,args:[L.bearing]}),f(B.pitch,L.pitch)||D.push({command:Ni.setPitch,args:[L.pitch]}),f(B.sprite,L.sprite)||D.push({command:Ni.setSprite,args:[L.sprite]}),f(B.glyphs,L.glyphs)||D.push({command:Ni.setGlyphs,args:[L.glyphs]}),f(B.imports,L.imports)||function(Ae=[],Ce=[],Me){Ce=Ce||[];const He=(Ae=Ae||[]).map(Kc),$e=Ce.map(Kc),Ke=Ae.reduce(ud,{}),Pe=Ce.reduce(ud,{}),Ze=He.slice();let pt,st,At,qe;for(pt=0,st=0;pt<He.length;pt++)At=He[pt],Pe.hasOwnProperty(At)?st++:(Me.push({command:Ni.removeImport,args:[At]}),Ze.splice(Ze.indexOf(At,st),1));for(pt=0,st=0;pt<$e.length;pt++)At=$e[$e.length-1-pt],Ze[Ze.length-1-pt]!==At&&(Ke.hasOwnProperty(At)?(Me.push({command:Ni.removeImport,args:[At]}),Ze.splice(Ze.lastIndexOf(At,Ze.length-st),1)):st++,qe=Ze[Ze.length-pt],Me.push({command:Ni.addImport,args:[Pe[At],qe]}),Ze.splice(Ze.length-pt,0,At));for(const mt of Ce){const Pt=Ke[mt.id];Pt&&!f(Pt,mt)&&Me.push({command:Ni.updateImport,args:[mt.id,mt]})}}(B.imports,L.imports,D),f(B.transition,L.transition)||D.push({command:Ni.setTransition,args:[L.transition]}),f(B.light,L.light)||D.push({command:Ni.setLight,args:[L.light]}),f(B.fog,L.fog)||D.push({command:Ni.setFog,args:[L.fog]}),f(B.projection,L.projection)||D.push({command:Ni.setProjection,args:[L.projection]}),f(B.lights,L.lights)||D.push({command:Ni.setLights,args:[L.lights]}),f(B.camera,L.camera)||D.push({command:Ni.setCamera,args:[L.camera]});const $={},Y=[];(function(Ae,Ce,Me,He){let $e;for($e in Ce=Ce||{},Ae=Ae||{})Ae.hasOwnProperty($e)&&(Ce.hasOwnProperty($e)||Jd($e,Me,He));for($e in Ce){if(!Ce.hasOwnProperty($e))continue;const Ke=Ce[$e];Ae.hasOwnProperty($e)?f(Ae[$e],Ke)||(Ae[$e].type==="geojson"&&Ke.type==="geojson"&&jm(Ae,Ce,$e)?Me.push({command:Ni.setGeoJSONSourceData,args:[$e,Ke.data]}):z1($e,Ce,Me,He)):Zf($e,Ce,Me)}})(B.sources,L.sources,Y,$);const ae=[];B.layers&&B.layers.forEach(Ae=>{Ae.source&&$[Ae.source]?D.push({command:Ni.removeLayer,args:[Ae.id]}):ae.push(Ae)});let de=B.terrain;de&&$[de.source]&&(D.push({command:Ni.setTerrain,args:[void 0]}),de=void 0),D=D.concat(Y),f(de,L.terrain)||D.push({command:Ni.setTerrain,args:[L.terrain]}),function(Ae,Ce,Me){Ce=Ce||[];const He=(Ae=Ae||[]).map(Kc),$e=Ce.map(Kc),Ke=Ae.reduce(ud,{}),Pe=Ce.reduce(ud,{}),Ze=He.slice(),pt=Object.create(null);let st,At,qe,mt,Pt,Ot,Qt;for(st=0,At=0;st<He.length;st++)qe=He[st],Pe.hasOwnProperty(qe)?At++:(Me.push({command:Ni.removeLayer,args:[qe]}),Ze.splice(Ze.indexOf(qe,At),1));for(st=0,At=0;st<$e.length;st++)qe=$e[$e.length-1-st],Ze[Ze.length-1-st]!==qe&&(Ke.hasOwnProperty(qe)?(Me.push({command:Ni.removeLayer,args:[qe]}),Ze.splice(Ze.lastIndexOf(qe,Ze.length-At),1)):At++,Ot=Ze[Ze.length-st],Me.push({command:Ni.addLayer,args:[Pe[qe],Ot]}),Ze.splice(Ze.length-st,0,qe),pt[qe]=!0);for(st=0;st<$e.length;st++)if(qe=$e[st],mt=Ke[qe],Pt=Pe[qe],!pt[qe]&&!f(mt,Pt))if(f(mt.source,Pt.source)&&f(mt["source-layer"],Pt["source-layer"])&&f(mt.type,Pt.type)){for(Qt in Ac(mt.layout,Pt.layout,Me,qe,null,Ni.setLayoutProperty),Ac(mt.paint,Pt.paint,Me,qe,null,Ni.setPaintProperty),f(mt.slot,Pt.slot)||Me.push({command:Ni.setSlot,args:[qe,Pt.slot]}),f(mt.filter,Pt.filter)||Me.push({command:Ni.setFilter,args:[qe,Pt.filter]}),f(mt.minzoom,Pt.minzoom)&&f(mt.maxzoom,Pt.maxzoom)||Me.push({command:Ni.setLayerZoomRange,args:[qe,Pt.minzoom,Pt.maxzoom]}),mt)mt.hasOwnProperty(Qt)&&Qt!=="layout"&&Qt!=="paint"&&Qt!=="filter"&&Qt!=="metadata"&&Qt!=="minzoom"&&Qt!=="maxzoom"&&Qt!=="slot"&&(Qt.indexOf("paint.")===0?Ac(mt[Qt],Pt[Qt],Me,qe,Qt.slice(6),Ni.setPaintProperty):f(mt[Qt],Pt[Qt])||Me.push({command:Ni.setLayerProperty,args:[qe,Qt,Pt[Qt]]}));for(Qt in Pt)Pt.hasOwnProperty(Qt)&&!mt.hasOwnProperty(Qt)&&Qt!=="layout"&&Qt!=="paint"&&Qt!=="filter"&&Qt!=="metadata"&&Qt!=="minzoom"&&Qt!=="maxzoom"&&Qt!=="slot"&&(Qt.indexOf("paint.")===0?Ac(mt[Qt],Pt[Qt],Me,qe,Qt.slice(6),Ni.setPaintProperty):f(mt[Qt],Pt[Qt])||Me.push({command:Ni.setLayerProperty,args:[qe,Qt,Pt[Qt]]}))}else Me.push({command:Ni.removeLayer,args:[qe]}),Ot=Ze[Ze.lastIndexOf(qe)+1],Me.push({command:Ni.addLayer,args:[Pt,Ot]})}(ae,L.layers,D)}catch($){console.warn("Unable to compute style diff:",$),D=[{command:Ni.setStyle,args:[L]}]}return D}(this.serialize(),d).filter(B=>!(B.command in Ls));if(g.length===0)return!1;const x=g.filter(B=>!(B.command in xs));if(x.length>0)throw new Error(`Unimplemented: ${x.map(B=>B.command).join(", ")}.`);return g.forEach(B=>{this[B.command].apply(this,B.args)}),this.stylesheet=d,this.mergeAll(),this.dispatcher.broadcast("setLayers",{layers:this._serializeLayers(this._order),scope:this.scope,options:this.options}),!0}addImage(d,g){return this.getImage(d)?this.fire(new a.a(new Error("An image with this name already exists."))):(this.imageManager.addImage(d,this.scope,g),this._afterImageUpdated(d),this)}updateImage(d,g){this.imageManager.updateImage(d,this.scope,g)}getImage(d){return this.imageManager.getImage(d,this.scope)}removeImage(d){return this.getImage(d)?(this.imageManager.removeImage(d,this.scope),this._afterImageUpdated(d),this):this.fire(new a.a(new Error("No image with this name exists.")))}_afterImageUpdated(d){this._availableImages=this.imageManager.listImages(this.scope),this._changes.updateImage(d),this.dispatcher.broadcast("setImages",{scope:this.scope,images:this._availableImages}),this.fire(new a.b("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addModel(d,g,x={}){return this._checkLoaded(),this._validate(Bt,`models.${d}`,g,null,x)||(this.modelManager.addModel(d,g,this.scope),this._changes.setDirty()),this}hasModel(d){return this.modelManager.hasModel(d,this.scope)}removeModel(d){return this.hasModel(d)?(this.modelManager.removeModel(d,this.scope),this):this.fire(new a.a(new Error("No model with this ID exists.")))}listModels(){return this._checkLoaded(),this.modelManager.listModels(this.scope)}addSource(d,g,x={}){if(this._checkLoaded(),this.getOwnSource(d)!==void 0)throw new Error(`There is already a source with ID "${d}".`);if(!g.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(g).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(g.type)>=0&&this._validate(tn,`sources.${d}`,g,null,x))return;this.map&&this.map._collectResourceTiming&&(g.collectResourceTiming=!0);const B=qs(d,g,this.dispatcher,this);B.scope=this.scope,B.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(B.id),source:B.serialize(),sourceId:B.id}));const L=D=>{const $=(D?"symbol:":"other:")+B.id,Y=a.ag($,this.scope),ae=this._sourceCaches[$]=new Fu(Y,B,D);(D?this._symbolSourceCaches:this._otherSourceCaches)[B.id]=ae,ae.onAdd(this.map)};L(!1),g.type!=="vector"&&g.type!=="geojson"||L(!0),B.onAdd&&B.onAdd(this.map),x.isInitialLoad||(this.mergeSources(),this._changes.setDirty())}removeSource(d){this._checkLoaded();const g=this.getOwnSource(d);if(!g)throw new Error("There is no source with this ID");for(const B in this._layers)if(this._layers[B].source===d)return this.fire(new a.a(new Error(`Source "${d}" cannot be removed while layer "${B}" is using it.`)));if(this.terrain&&this.terrain.scope===this.scope&&this.terrain.get().source===d)return this.fire(new a.a(new Error(`Source "${d}" cannot be removed while terrain is using it.`)));const x=this.getOwnSourceCaches(d);for(const B of x){const L=a.c3(B.id);delete this._sourceCaches[L],this._changes.discardSourceCacheUpdate(B.id),B.fire(new a.b("data",{sourceDataType:"metadata",dataType:"source",sourceId:B.getSource().id})),B.setEventedParent(null),B.clearTiles()}return delete this._otherSourceCaches[d],delete this._symbolSourceCaches[d],this.mergeSources(),g.setEventedParent(null),g.onRemove&&g.onRemove(this.map),this._changes.setDirty(),this}setGeoJSONSourceData(d,g){this._checkLoaded(),this.getOwnSource(d).setData(g),this._changes.setDirty()}getOwnSource(d){const g=this.getOwnSourceCache(d);return g&&g.getSource()}getOwnSources(){const d=[];for(const g in this._otherSourceCaches){const x=this.getOwnSourceCache(g);x&&d.push(x.getSource())}return d}areTilesLoaded(){const d=this._mergedSourceCaches;for(const g in d){const x=d[g]._tiles;for(const B in x){const L=x[B];if(L.state!=="loaded"&&L.state!=="errored")return!1}}return!0}setLights(d){if(this._checkLoaded(),!d)return delete this.ambientLight,void delete this.directionalLight;const g=this._getTransitionParameters();for(const B of d){if(this._validate(wt,"lights",B))return;switch(B.type){case"ambient":if(this.ambientLight){const L=this.ambientLight;L.set(B),L.updateTransitions(g)}else this.ambientLight=new va(B,Rr,this.scope,this.options);break;case"directional":if(this.directionalLight){const L=this.directionalLight;L.set(B),L.updateTransitions(g)}else this.directionalLight=new va(B,qi,this.scope,this.options)}}const x=new a.K(this.z||0,g);this.ambientLight&&this.ambientLight.recalculate(x),this.directionalLight&&this.directionalLight.recalculate(x),this._brightness=this.calculateLightsBrightness(),this.dispatcher.broadcast("setBrightness",this._brightness)}calculateLightsBrightness(){const d=this.directionalLight,g=this.ambientLight;if(!d||!g)return;const x=Ae=>.2126*(Ae[0]<=.03928?Ae[0]/12.92:Math.pow((Ae[0]+.055)/1.055,2.4))+.7152*(Ae[1]<=.03928?Ae[1]/12.92:Math.pow((Ae[1]+.055)/1.055,2.4))+.0722*(Ae[2]<=.03928?Ae[2]/12.92:Math.pow((Ae[2]+.055)/1.055,2.4)),B=d.properties.get("color").toArray01(),L=d.properties.get("intensity"),D=d.properties.get("direction"),$=1-a.bQ(D.x,D.y,D.z)[2]/90,Y=x(B)*L*$,ae=g.properties.get("color").toArray01(),de=g.properties.get("intensity");return(Y+x(ae)*de)/2}getBrightness(){return this._brightness}getLights(){if(!this.enable3dLights())return null;const d=[];return this.directionalLight&&d.push(this.directionalLight.get()),this.ambientLight&&d.push(this.ambientLight.get()),d}enable3dLights(){return!!this.ambientLight&&!!this.directionalLight}getFragmentStyle(d){if(!d)return this;if(a.c4(d)){const g=a.c5(d),x=this.fragments.find(({id:L})=>L===g);if(!x)throw new Error(`Style import not found: ${d}`);const B=a.c3(d);return x.style.getFragmentStyle(B)}{const g=this.fragments.find(({id:x})=>x===d);if(!g)throw new Error(`Style import not found: ${d}`);return g.style}}getConfigProperty(d,g){const x=this.getFragmentStyle(d);if(!x)return null;const B=a.ag(g,x.scope),L=x.options.get(B),D=L?L.value||L.default:null;return D?D.serialize():null}setConfigProperty(d,g,x){const B=a.r(x);if(B.result!=="success")return void qa(this,B.value);const L=B.value.expression,D=this.getFragmentStyle(d);if(!D)return;const $=a.ag(g,D.scope),Y=D.options.get($);Y&&(this.options.set($,{...Y,value:L}),this.updateConfigDependencies())}setConfig(d,g){if(this._config=d,d||g)if(g)for(const x in g){let B,L;const D=a.r(g[x].default);if(D.result==="success"&&(B=D.value.expression),d&&d[x]!==void 0){const Ce=a.r(d[x]);Ce.result==="success"&&(L=Ce.value.expression)}const{minValue:$,maxValue:Y,stepValue:ae,type:de,values:Ae}=g[x];if(B){const Ce=a.ag(x,this.scope);this.options.set(Ce,{default:B,value:L,minValue:$,maxValue:Y,stepValue:ae,type:de,values:Ae})}else this.fire(new a.a(new Error(`No schema defined for config option "${x}".`)))}else this.fire(new a.a(new Error("Attempting to set config for a style without schema.")))}updateConfigDependencies(){for(const d of this._configDependentLayers){const g=this.getLayer(d);g&&(g.possiblyEvaluateVisibility(),this._updateLayer(g))}this.ambientLight&&this.ambientLight.updateConfig(this.options),this.directionalLight&&this.directionalLight.updateConfig(this.options),this.fog&&this.fog.updateConfig(this.options),this._changes.setDirty()}addLayer(d,g,x={}){this._checkLoaded();const B=d.id;if(this._layers[B])return void this.fire(new a.a(new Error(`Layer with id "${B}" already exists on this map`)));let L;if(d.type==="custom"){if(qa(this,a.c6(d)))return;L=a.c2(d,this.scope,this.options)}else{if(typeof d.source=="object"&&(this.addSource(B,d.source),d=a.c1(d),d=a.e(d,{source:B})),this._validate(ut,`layers.${B}`,d,{arrayIndex:-1},x))return;L=a.c2(d,this.scope,this.options),this._validateLayer(L),L.setEventedParent(this,{layer:{id:B}}),this._serializedLayers[L.id]=L.serialize()}L.isConfigDependent&&this._configDependentLayers.add(L.fqid);let D=this._order.length;if(g){const de=this._order.indexOf(g);if(de===-1)return void this.fire(new a.a(new Error(`Layer with id "${g}" does not exist on this map.`)));L.slot===this._layers[g].slot?D=de:a.w(`Layer with id "${g}" has a different slot. Layers can only be rearranged within the same slot.`)}this._order.splice(D,0,B),this._layerOrderChanged=!0,this._layers[B]=L;const $=this.getOwnLayerSourceCache(L),Y=!!this.directionalLight&&this.directionalLight.shadowsEnabled();$&&L.canCastShadows()&&Y&&($.castsShadows=!0);const ae=this._changes.getRemovedLayer(L);if(ae&&L.source&&$&&L.type!=="custom"){this._changes.discardLayerRemoval(L);const de=a.ag(L.source,L.scope);ae.type!==L.type?this._changes.updateSourceCache(de,"clear"):(this._changes.updateSourceCache(de,"reload"),$.pause())}this._updateLayer(L),L.onAdd&&L.onAdd(this.map),L.scope=this.scope,this.mergeLayers()}moveLayer(d,g){this._checkLoaded();const x=this._checkLayer(d);if(!x||d===g)return;const B=this._order.indexOf(d);this._order.splice(B,1);let L=this._order.length;if(g){const D=this._order.indexOf(g);if(D===-1)return void this.fire(new a.a(new Error(`Layer with id "${g}" does not exist on this map.`)));x.slot===this._layers[g].slot?L=D:a.w(`Layer with id "${g}" has a different slot. Layers can only be rearranged within the same slot.`)}this._order.splice(L,0,d),this._changes.setDirty(),this._layerOrderChanged=!0,this.mergeLayers()}removeLayer(d){this._checkLoaded();const g=this._checkLayer(d);if(!g)return;g.setEventedParent(null);const x=this._order.indexOf(d);this._order.splice(x,1),delete this._layers[d],delete this._serializedLayers[d],this._changes.setDirty(),this._layerOrderChanged=!0,this._configDependentLayers.delete(g.fqid),this._changes.removeLayer(g);const B=this.getOwnLayerSourceCache(g);if(B&&B.castsShadows){let L=!1;for(const D in this._layers)if(this._layers[D].source===g.source&&this._layers[D].canCastShadows()){L=!0;break}B.castsShadows=L}g.onRemove&&g.onRemove(this.map),this.mergeLayers()}getOwnLayer(d){return this._layers[d]}hasLayer(d){return d in this._mergedLayers}hasLayerType(d){for(const g in this._layers)if(this._layers[g].type===d)return!0;return!1}setLayerZoomRange(d,g,x){this._checkLoaded();const B=this._checkLayer(d);B&&(B.minzoom===g&&B.maxzoom===x||(g!=null&&(B.minzoom=g),x!=null&&(B.maxzoom=x),this._updateLayer(B)))}setSlot(d,g){this._checkLoaded();const x=this._checkLayer(d);x&&x.slot!==g&&(x.slot=g,this._updateLayer(x))}setFilter(d,g,x={}){this._checkLoaded();const B=this._checkLayer(d);if(B&&!f(B.filter,g))return g==null?(B.filter=void 0,void this._updateLayer(B)):void(this._validate(It,`layers.${B.id}.filter`,g,{layerType:B.type},x)||(B.filter=a.c1(g),this._updateLayer(B)))}getFilter(d){const g=this._checkLayer(d);if(g)return a.c1(g.filter)}setLayoutProperty(d,g,x,B={}){this._checkLoaded();const L=this._checkLayer(d);if(L&&!f(L.getLayoutProperty(g),x)){if(x!=null&&(!B||B.validate!==!1)&&qa(L,kt.call(qt,{key:`layers.${d}.layout.${g}`,layerType:L.type,objectKey:g,value:x,styleSpec:a.D,style:{glyphs:!0,sprite:!0}})))return;L.setLayoutProperty(g,x),L.isConfigDependent&&this._configDependentLayers.add(L.fqid),this._updateLayer(L)}}getLayoutProperty(d,g){const x=this._checkLayer(d);if(x)return x.getLayoutProperty(g)}setPaintProperty(d,g,x,B={}){this._checkLoaded();const L=this._checkLayer(d);if(!L||f(L.getPaintProperty(g),x)||x!=null&&(!B||B.validate!==!1)&&qa(L,Xe.call(qt,{key:`layers.${d}.paint.${g}`,layerType:L.type,objectKey:g,value:x,styleSpec:a.D})))return;const D=L.setPaintProperty(g,x);L.isConfigDependent&&this._configDependentLayers.add(L.fqid),D&&this._updateLayer(L),this._changes.updatePaintProperties(L)}getPaintProperty(d,g){const x=this._checkLayer(d);if(x)return x.getPaintProperty(g)}setFeatureState(d,g){this._checkLoaded();const x=d.source,B=d.sourceLayer,L=this._checkSource(x);if(!L)return;const D=L.type;if(D==="geojson"&&B)return void this.fire(new a.a(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(D==="vector"&&!B)return void this.fire(new a.a(new Error("The sourceLayer parameter must be provided for vector source types.")));d.id===void 0&&this.fire(new a.a(new Error("The feature id parameter must be provided.")));const $=this.getOwnSourceCaches(x);for(const Y of $)Y.setFeatureState(B,d.id,g)}removeFeatureState(d,g){this._checkLoaded();const x=d.source,B=this._checkSource(x);if(!B)return;const L=B.type,D=L==="vector"?d.sourceLayer:void 0;if(L==="vector"&&!D)return void this.fire(new a.a(new Error("The sourceLayer parameter must be provided for vector source types.")));if(g&&typeof d.id!="string"&&typeof d.id!="number")return void this.fire(new a.a(new Error("A feature id is required to remove its specific state property.")));const $=this.getOwnSourceCaches(x);for(const Y of $)Y.removeFeatureState(D,d.id,g)}getFeatureState(d){this._checkLoaded();const g=d.source,x=d.sourceLayer,B=this._checkSource(g);if(B){if(B.type!=="vector"||x)return d.id===void 0&&this.fire(new a.a(new Error("The feature id parameter must be provided."))),this.getOwnSourceCaches(g)[0].getFeatureState(x,d.id);this.fire(new a.a(new Error("The sourceLayer parameter must be provided for vector source types.")))}}setTransition(d){return this.stylesheet.transition=a.e({},this.stylesheet.transition,d),this.transition=this.stylesheet.transition,this}getTransition(){return a.e({},this.stylesheet.transition)}serialize(){this._checkLoaded();const d=this.getTerrain(),g=d&&this.terrain&&this.terrain.scope===this.scope?d:this.stylesheet.terrain;return a.c7({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,imports:this._serializeImports(),schema:this.stylesheet.schema,camera:this.stylesheet.camera,light:this.stylesheet.light,lights:this.stylesheet.lights,terrain:g,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:this._serializeSources(),layers:this._serializeLayers(this._order)},x=>x!==void 0)}_updateLayer(d){this._changes.updateLayer(d);const g=this.getLayerSourceCache(d),x=a.ag(d.source,d.scope),B=this._changes.getUpdatedSourceCaches();d.source&&!B[x]&&g&&g.getSource().type!=="raster"&&(this._changes.updateSourceCache(x,"reload"),g.pause()),d.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(d){const g=$=>this._mergedLayers[$].type==="fill-extrusion"||this._mergedLayers[$].type==="model",x=this.order,B={},L=[];for(let $=x.length-1;$>=0;$--){const Y=x[$];if(g(Y)){B[Y]=$;for(const ae of d){const de=ae[Y];if(de)for(const Ae of de)L.push(Ae)}}}L.sort(($,Y)=>Y.intersectionZ-$.intersectionZ);const D=[];for(let $=x.length-1;$>=0;$--){const Y=x[$];if(g(Y))for(let ae=L.length-1;ae>=0;ae--){const de=L[ae].feature;if(B[de.layer.id]<$)break;D.push(de),L.pop()}else for(const ae of d){const de=ae[Y];if(de)for(const Ae of de)D.push(Ae.feature)}}return D}queryRenderedFeatures(d,g,x){g&&g.filter&&this._validate(It,"queryRenderedFeatures.filter",g.filter,null,g),g.scope=this.scope,g.availableImages=this._availableImages,g.serializedLayers=this._serializedLayers;const B={};if(g&&g.layers){if(!Array.isArray(g.layers))return this.fire(new a.a(new Error("parameters.layers must be an Array."))),[];for(const ae of g.layers){const de=this._mergedLayers[ae];if(!de)return this.fire(new a.a(new Error(`The layer '${ae}' does not exist in the map's style and cannot be queried for features.`))),[];B[de.source]=!0}}const L=[],D=g.serializedLayers||{},$=g&&g.layers?g.layers.some(ae=>{const de=this.getLayer(ae);return de&&de.is3D()}):this.has3DLayers(),Y=Hi.createFromScreenPoints(d,x);for(const ae in this._mergedSourceCaches){const de=this._mergedSourceCaches[ae].getSource();if(!de||de.scope!==g.scope)continue;const Ae=this._mergedSourceCaches[ae].getSource().id;g.layers&&!B[Ae]||L.push(Yf(this._mergedSourceCaches[ae],this._mergedLayers,D,Y,g,x,$,!!this.map._showQueryGeometry))}return this.placement&&L.push(function(ae,de,Ae,Ce,Me,He,$e){const Ke={},Pe=He.queryRenderedSymbols(Ce),Ze=[];for(const pt of Object.keys(Pe).map(Number))Ze.push($e[pt]);Ze.sort(sd);for(const pt of Ze){const st=pt.featureIndex.lookupSymbolFeatures(Pe[pt.bucketInstanceId],de,pt.bucketIndex,pt.sourceLayerIndex,Me.filter,Me.layers,Me.availableImages,ae);for(const At in st){const qe=Ke[At]=Ke[At]||[],mt=st[At];mt.sort((Pt,Ot)=>{const Qt=pt.featureSortOrder;if(Qt){const fn=Qt.indexOf(Pt.featureIndex);return Qt.indexOf(Ot.featureIndex)-fn}return Ot.featureIndex-Pt.featureIndex});for(const Pt of mt)qe.push(Pt)}}for(const pt in Ke)Ke[pt].forEach(st=>{const At=st.feature,qe=Ae(ae[pt]);if(!qe)return;const mt=qe.getFeatureState(At.layer["source-layer"],At.id);At.source=At.layer.source,At.layer["source-layer"]&&(At.sourceLayer=At.layer["source-layer"]),At.state=mt});return Ke}(this._mergedLayers,D,this.getLayerSourceCache.bind(this),Y.screenGeometry,g,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(L)}querySourceFeatures(d,g){g&&g.filter&&this._validate(It,"querySourceFeatures.filter",g.filter,null,g);const x=this.getOwnSourceCaches(d);let B=[];for(const L of x)B=B.concat(Pu(L,g));return B}addSourceType(d,g,x){return Xl.getSourceType(d)?x(new Error(`A source type called "${d}" already exists.`)):(Xl.setSourceType(d,g),g.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:d,url:g.workerSourceURL},x):x(null,null))}getFlatLight(){return this.light.getLight()}setFlatLight(d,g,x={}){this._checkLoaded();const B=this.light.getLight();let L=!1;for(const $ in d)if(!f(d[$],B[$])){L=!0;break}if(!L)return;const D=this._getTransitionParameters();this.light.setLight(d,g,x),this.light.updateTransitions(D)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(d,g=1){if(this._checkLoaded(),!d)return this.terrainSetForDrapingOnly()&&g!==0||delete this.terrain,d===null?this.stylesheet.terrain=null:delete this.stylesheet.terrain,this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);let x=d;const B=d.source==null;if(g===1){if(typeof x.source=="object"){const $="terrain-dem-src";this.addSource($,x.source),x=a.c1(x),x=a.e(x,{source:$})}const L=a.e({},x),D={};if(this.terrain&&B){L.source=this.terrain.get().source;const $=this.terrain?this.getFragmentStyle(this.terrain.scope):null;$&&(D.style=$.serialize())}if(this._validate(De,"terrain",L,D))return}if(!this.terrain||this.terrain.scope!==this.scope&&!B||this.terrain&&g!==this.terrain.drapeRenderMode){if(!x)return;this._createTerrain(x,g),this.fire(new a.b("data",{dataType:"style"}))}else{const L=this.terrain,D=L.get();for(const $ of Object.keys(a.D.terrain))!x.hasOwnProperty($)&&a.D.terrain[$].default&&(x[$]=a.D.terrain[$].default);for(const $ in d)if(!f(d[$],D[$])){L.set(d,this.options),this.stylesheet.terrain=d;const Y=this._getTransitionParameters({duration:0});L.updateTransitions(Y),this.fire(new a.b("data",{dataType:"style"}));break}}this.mergeTerrain(),this.updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(d){const g=this.fog=new Vi(d,this.map.transform,this.scope,this.options);this.stylesheet.fog=g.get();const x=this._getTransitionParameters({duration:0});g.updateTransitions(x)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(const d of this.map._markers)d._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(d){if(this._checkLoaded(),!d)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const g=this.fog;if(!f(g.get(),d)){g.set(d,this.options),this.stylesheet.fog=g.get();const x=this._getTransitionParameters({duration:0});g.updateTransitions(x)}}else this._createFog(d);this._markersNeedUpdate=!0}_getTransitionParameters(d){return{now:a.f.now(),transition:a.e(this.transition,d)}}updateDrapeFirstLayers(){if(!this.terrain)return;const d=[],g=[];for(const x in this._mergedLayers)this.isLayerDraped(this._mergedLayers[x])?d.push(x):g.push(x);this._drapedFirstOrder=[],this._drapedFirstOrder.push(...d),this._drapedFirstOrder.push(...g)}_createTerrain(d,g){const x=this.terrain=new sn(d,g,this.scope,this.options);g===1&&(this.stylesheet.terrain=d),this.mergeTerrain(),this.updateDrapeFirstLayers(),this._force3DLayerUpdate();const B=this._getTransitionParameters({duration:0});x.updateTransitions(B)}_force3DLayerUpdate(){for(const d in this._layers){const g=this._layers[d];g.type==="fill-extrusion"&&this._updateLayer(g)}}_forceSymbolLayerUpdate(){for(const d in this._layers){const g=this._layers[d];g.type==="symbol"&&this._updateLayer(g)}}_validate(d,g,x,B,L={}){if(L&&L.validate===!1)return!1;const D=a.e({},this.serialize());return qa(this,d.call(qt,a.e({key:g,style:D,value:x,styleSpec:a.D},B)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.c8.off("pluginStateChange",this._rtlTextPluginCallback);for(const d in this._mergedLayers)this._mergedLayers[d].setEventedParent(null);for(const d in this._mergedSourceCaches)this._mergedSourceCaches[d].clearTiles(),this._mergedSourceCaches[d].setEventedParent(null);this.setEventedParent(null),delete this.fog,delete this.terrain,delete this.ambientLight,delete this.directionalLight,this.isRootStyle()&&(this.imageManager.setEventedParent(null),this.modelManager.setEventedParent(null),this.dispatcher.remove())}clearSource(d){const g=this.getSourceCaches(d);for(const x of g)x.clearTiles()}clearSources(){for(const d in this._mergedSourceCaches)this._mergedSourceCaches[d].clearTiles()}reloadSource(d){const g=this.getSourceCaches(d);for(const x of g)x.resume(),x.reload()}reloadSources(){for(const d of this.getSources())d.reload&&d.reload()}updateSources(d){let g;this.directionalLight&&(g=tf(this.directionalLight));for(const x in this._mergedSourceCaches)this._mergedSourceCaches[x].update(d,void 0,void 0,g)}_generateCollisionBoxes(){for(const d in this._sourceCaches){const g=this._sourceCaches[d];g.resume(),g.reload()}}_updatePlacement(d,g,x,B,L=!1){let D=!1,$=!1;const Y={},ae={};for(const de of this._mergedOrder){const Ae=this._mergedLayers[de];if(Ae.type!=="symbol")continue;const Ce=a.ag(Ae.source,Ae.scope);let Me=Y[Ce];if(!Me){const $e=this.getLayerSourceCache(Ae);if(!$e)continue;const Ke=$e.getRenderableIds(!0).map(Pe=>$e.getTileByID(Pe));ae[Ce]=Ke.slice(),Me=Y[Ce]=Ke.sort((Pe,Ze)=>Ze.tileID.overscaledZ-Pe.tileID.overscaledZ||(Pe.tileID.isLessThan(Ze.tileID)?-1:1))}const He=this.crossTileSymbolIndex.addLayer(Ae,Me,d.center.lng,d.projection);D=D||He}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._mergedOrder),L=L||this._layerOrderChanged||x===0,this._layerOrderChanged&&this.fire(new a.b("neworder")),(L||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.f.now(),d.zoom))&&(this.pauseablePlacement=new ap(d,this._mergedOrder,L,g,x,B,this.placement,this.fog&&d.projection.supportsFog?this.fog.state:null,this._buildingIndex),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._mergedOrder,this._mergedLayers,Y,ae),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.f.now()),$=!0),D&&this.pauseablePlacement.placement.setStale()),$||D){this._buildingIndex.onNewFrame(d.zoom);for(const de of this._mergedOrder){const Ae=this._mergedLayers[de];Ae.type==="symbol"&&this.placement.updateLayerOpacities(Ae,Y[a.ag(Ae.source,Ae.scope)])}}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.f.now())}_releaseSymbolFadeTiles(){for(const d in this._sourceCaches)this._sourceCaches[d].releaseSymbolFadeTiles()}addImport(d,g){this._checkLoaded();const x=this.stylesheet.imports=this.stylesheet.imports||[];if(x.findIndex(({id:L})=>L===d.id)!==-1)return this.fire(new a.a(new Error(`Import with id '${d.id}' already exists in the map's style.`)));if(!g)return x.push(d),this._loadImports([d],!0),this;const B=x.findIndex(({id:L})=>L===g);return B===-1?this.fire(new a.a(new Error(`Import with id "${g}" does not exist on this map.`))):(this.stylesheet.imports=x.slice(0,B).concat(d).concat(x.slice(B)),this._loadImports([d],!0,g),this)}updateImport(d,g){this._checkLoaded();const x=this.stylesheet.imports||[],B=this.getImportIndex(d);return B===-1?this:typeof g=="string"?(this.setImportUrl(d,g),this):(g.url&&g.url!==x[B].url&&this.setImportUrl(d,g.url),f(g.config,x[B].config)||this.setImportConfig(d,g.config),f(g.data,x[B].data)||this.setImportData(d,g.data),this)}moveImport(d,g){this._checkLoaded();let x=this.stylesheet.imports||[];const B=this.getImportIndex(d);if(B===-1)return this;const L=this.getImportIndex(g);if(L===-1)return this;const D=x[B],$=this.fragments[B];return x=x.filter(({id:Y})=>Y!==d),this.fragments=this.fragments.filter(({id:Y})=>Y!==d),this.stylesheet.imports=x.slice(0,L).concat(D).concat(x.slice(L)),this.fragments=this.fragments.slice(0,L).concat($).concat(this.fragments.slice(L)),this.mergeLayers(),this}setImportUrl(d,g){this._checkLoaded();const x=this.stylesheet.imports||[],B=this.getImportIndex(d);if(B===-1)return this;x[B].url=g;const L=this.fragments[B];return L.style=this._createFragmentStyle(x[B]),L.style.on("style.import.load",()=>this.mergeAll()),L.style.loadURL(g),this}setImportData(d,g){this._checkLoaded();const x=this.getImportIndex(d),B=this.stylesheet.imports||[];return x===-1?this:g?(this.fragments[x].style.setState(g),this._reloadImports(),this):(delete B[x].data,this.setImportUrl(d,B[x].url))}setImportConfig(d,g){this._checkLoaded();const x=this.getImportIndex(d),B=this.stylesheet.imports||[];if(x===-1)return this;g?B[x].config=g:delete B[x].config;const L=this.fragments[x],D=L.style.stylesheet&&L.style.stylesheet.schema;return L.config=g,L.style.setConfig(g,D),this.updateConfigDependencies(),this}removeImport(d){this._checkLoaded();const g=this.stylesheet.imports||[],x=this.getImportIndex(d);return x===-1||(g.splice(x,1),this.fragments[x].style._remove(),this.fragments.splice(x,1),this._reloadImports()),this}getImportIndex(d){const g=(this.stylesheet.imports||[]).findIndex(x=>x.id===d);return g===-1&&this.fire(new a.a(new Error(`Import '${d}' does not exist in the map's style and cannot be updated.`))),g}getLayer(d){return this._mergedLayers[d]}getSources(){const d=[];for(const g in this._mergedOtherSourceCaches){const x=this._mergedOtherSourceCaches[g];x&&d.push(x.getSource())}return d}getSource(d,g){const x=this.getSourceCache(d,g);return x&&x.getSource()}getLayerSource(d){const g=this.getLayerSourceCache(d);return g&&g.getSource()}getSourceCache(d,g){const x=a.ag(d,g);return this._mergedOtherSourceCaches[x]}getLayerSourceCache(d){const g=a.ag(d.source,d.scope);return d.type==="symbol"?this._mergedSymbolSourceCaches[g]:this._mergedOtherSourceCaches[g]}getSourceCaches(d){const g=[];return this._mergedOtherSourceCaches[d]&&g.push(this._mergedOtherSourceCaches[d]),this._mergedSymbolSourceCaches[d]&&g.push(this._mergedSymbolSourceCaches[d]),g}updateSourceCaches(){const d=this._changes.getUpdatedSourceCaches();for(const g in d){const x=d[g];x==="reload"?this.reloadSource(g):x==="clear"&&this.clearSource(g)}}updateLayers(d){const g=this._changes.getUpdatedPaintProperties();for(const x of g){const B=this.getLayer(x);B&&B.updateTransitions(d)}}getImages(d,g,x){this.imageManager.getImages(g.icons,g.scope,x),this._updateTilesForChangedImages();const B=L=>{L&&L.setDependencies(g.tileID.key,g.type,g.icons)};B(this._otherSourceCaches[g.source]),B(this._symbolSourceCaches[g.source])}getGlyphs(d,g,x){this.glyphManager.getGlyphs(g.stacks,g.scope,x)}getResource(d,g,x){return a.c9(g,x)}getOwnSourceCache(d){return this._otherSourceCaches[d]}getOwnLayerSourceCache(d){return d.type==="symbol"?this._symbolSourceCaches[d.source]:this._otherSourceCaches[d.source]}getOwnSourceCaches(d){const g=[];return this._otherSourceCaches[d]&&g.push(this._otherSourceCaches[d]),this._symbolSourceCaches[d]&&g.push(this._symbolSourceCaches[d]),g}_isSourceCacheLoaded(d){const g=this.getOwnSourceCaches(d);return g.length===0?(this.fire(new a.a(new Error(`There is no source with ID '${d}'`))),!1):g.every(x=>x.loaded())}has3DLayers(){return this._has3DLayers}hasSymbolLayers(){return this._hasSymbolLayers}hasCircleLayers(){return this._hasCircleLayers}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.fragments.forEach(d=>{d.style._remove()}),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}Xl.getSourceType=function(w){return Kl[w]},Xl.setSourceType=function(w,d){Kl[w]=d},Xl.registerForPluginStateChange=a.bV;var op=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#ifdef RENDER_CUTOFF
float cutoff_opacity(vec4 cutoff_params,float depth) {float near=cutoff_params.x;float far=cutoff_params.y;float cutoffStart=cutoff_params.z;float cutoffEnd=cutoff_params.w;float linearDepth=(depth-near)/(far-near);return clamp((linearDepth-cutoffStart)/(cutoffEnd-cutoffStart),0.0,1.0);}
#endif`,Ym=`
out vec4 glFragColor;highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}
#ifdef INDICATOR_CUTOUT
uniform vec2 u_indicator_cutout_centers;uniform vec4 u_indicator_cutout_params;
#endif
vec4 applyCutout(vec4 color) {
#ifdef INDICATOR_CUTOUT
float holeMinOpacity=u_indicator_cutout_params.x;float holeRadius=max(u_indicator_cutout_params.y,0.0);float holeAspectRatio=u_indicator_cutout_params.z;float fadeStart=u_indicator_cutout_params.w;float distA=distance(vec2(gl_FragCoord.x,gl_FragCoord.y*holeAspectRatio),vec2(u_indicator_cutout_centers[0],u_indicator_cutout_centers[1]*holeAspectRatio));return color*min(smoothstep(fadeStart,holeRadius,distA)+holeMinOpacity,1.0);
#else
return color;
#endif
}
#ifdef DEBUG_WIREFRAME
#define HANDLE_WIREFRAME_DEBUG \\
glFragColor=vec4(0.7,0.0,0.0,0.7); \\
gl_FragDepth=gl_FragCoord.z-0.0001;
#else
#define HANDLE_WIREFRAME_DEBUG
#endif
#ifdef RENDER_CUTOFF
uniform highp vec4 u_cutoff_params;in float v_cutoff_opacity;
#endif
vec4 textureLodCustom(sampler2D image,vec2 pos,vec2 lod_coord) {vec2 size=vec2(textureSize(image,0));vec2 dx=dFdx(lod_coord.xy*size);vec2 dy=dFdy(lod_coord.xy*size);float delta_max_sqr=max(dot(dx,dx),dot(dy,dy));float lod=0.5*log2(delta_max_sqr);return textureLod(image,pos,lod);}`,Xm=`
#define EXTENT 8192.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(PI/4.0+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}
#ifdef RENDER_CUTOFF
uniform vec4 u_cutoff_params;out float v_cutoff_opacity;
#endif
const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);const float skirtOffset=24575.0;vec3 decomposeToPosAndSkirt(vec2 posWithComposedSkirt)
{float skirt=float(posWithComposedSkirt.x >=skirtOffset);vec2 pos=posWithComposedSkirt-vec2(skirt*skirtOffset,0.0);return vec3(pos,skirt);}`,Zm="in highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;out highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",R0=`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
#ifdef TERRAIN
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture(u_dem,pos).r;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=texture(u_dem,pos).r;float tr=texture(u_dem,pos+vec2(dd,0)).r;float bl=texture(u_dem,pos+vec2(0,dd)).r;float br=texture(u_dem,pos+vec2(dd,dd)).r;return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture(u_dem_prev,pos).r;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=texture(u_dem_prev,pos).r;float tr=texture(u_dem_prev,pos+vec2(dd,0)).r;float bl=texture(u_dem_prev,pos+vec2(0,dd)).r;float br=texture(u_dem_prev,pos+vec2(dd,dd)).r;return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
return currentElevation(apos);}
#endif
highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(
unpack_depth(texture(u_depth,uv-df.xz)),unpack_depth(texture(u_depth,uv+df.xz)),unpack_depth(texture(u_depth,uv-df.zy)),unpack_depth(texture(u_depth,uv+df.zy))
);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {float tl=texture(u_dem,pos).r;float tr=texture(u_dem,pos+vec2(off.x,0.0)).r;float bl=texture(u_dem,pos+vec2(0.0,off.y)).r;float br=texture(u_dem,pos+off).r;return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }
#endif`,O0=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;out vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,$1=`highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}
#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump vec2 u_fog_vertical_limit;uniform mediump float u_fog_temporal_offset;in vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos,float opacity_limit) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,min(opacity,opacity_limit));}vec3 fog_apply(vec3 color,vec3 pos) {return fog_apply(color,pos,1.0);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec4 fog_apply_premultiplied(vec4 color,vec3 pos,float heightMeters) {float verticalProgress=(u_fog_vertical_limit.x > 0.0 || u_fog_vertical_limit.y > 0.0) ? smoothstep(u_fog_vertical_limit.x,u_fog_vertical_limit.y,heightMeters) : 0.0;float opacityLimit=1.0-smoothstep(0.9,1.0,fog_opacity(pos));return mix(fog_apply_premultiplied(color,pos),color,min(verticalProgress,opacityLimit));}vec3 fog_dither(vec3 color) {
#ifdef FOG_DITHERING
vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);
#else
return color;
#endif
}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`,rf=`#ifdef RASTER_ARRAY
uniform sampler2D u_image0;uniform sampler2D u_image1;const vec4 NODATA=vec4(1);ivec4 _raTexLinearCoord(highp vec2 texCoord,highp vec2 texResolution,out highp vec2 fxy) {texCoord=texCoord*texResolution-0.5;fxy=fract(texCoord);texCoord-=fxy;return ivec4(texCoord.xxyy+vec2(1.5,0.5).xyxy);}vec2 _raTexLinearMix(highp vec2 fxy,highp vec4 colorMix,highp float colorOffset,highp vec4 t00,highp vec4 t10,highp vec4 t01,highp vec4 t11) {vec2 c00=t00==NODATA ? vec2(0) : vec2(colorOffset+dot(t00,colorMix),1);vec2 c10=t10==NODATA ? vec2(0) : vec2(colorOffset+dot(t10,colorMix),1);vec2 c01=t01==NODATA ? vec2(0) : vec2(colorOffset+dot(t01,colorMix),1);vec2 c11=t11==NODATA ? vec2(0) : vec2(colorOffset+dot(t11,colorMix),1);return mix(mix(c01,c11,fxy.x),mix(c00,c10,fxy.x),fxy.y);}vec2 raTexture2D_image0_linear(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec2 fxy;ivec4 c=_raTexLinearCoord(texCoord,texResolution,fxy);return _raTexLinearMix(fxy,colorMix,colorOffset,texelFetch(u_image0,c.yz,0),texelFetch(u_image0,c.xz,0),texelFetch(u_image0,c.yw,0),texelFetch(u_image0,c.xw,0)
);}vec2 raTexture2D_image1_linear(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec2 fxy;ivec4 c=_raTexLinearCoord(texCoord,texResolution,fxy);return _raTexLinearMix(fxy,colorMix,colorOffset,texelFetch(u_image1,c.yz,0),texelFetch(u_image1,c.xz,0),texelFetch(u_image1,c.yw,0),texelFetch(u_image1,c.xw,0)
);}vec2 raTexture2D_image0_nearest(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec4 t=texelFetch(u_image0,ivec2(texCoord*texResolution),0);return t==NODATA ? vec2(0) : vec2(colorOffset+dot(t,colorMix),1);}vec2 raTexture2D_image1_nearest(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec4 t=texelFetch(u_image1,ivec2(texCoord*texResolution),0);return t==NODATA ? vec2(0) : vec2(colorOffset+dot(t,colorMix),1);}
#endif`,pd=`#ifdef RASTER_ARRAY
uniform sampler2D u_velocity;uniform vec2 u_velocity_res;uniform float u_max_speed;const vec2 INVALID_VELOCITY=vec2(-1);uniform vec2 u_texture_offset;uniform float u_data_offset;uniform vec4 u_data_scale;vec2 lookup_velocity(vec2 uv) {uv=u_texture_offset.x+u_texture_offset.y*uv;vec2 fxy;ivec4 c=_raTexLinearCoord(uv,u_velocity_res,fxy);vec4 tl=texelFetch(u_velocity,c.yz,0);vec4 tr=texelFetch(u_velocity,c.xz,0);vec4 bl=texelFetch(u_velocity,c.yw,0);vec4 br=texelFetch(u_velocity,c.xw,0);if (tl==NODATA) {return INVALID_VELOCITY;}if (tr==NODATA) {return INVALID_VELOCITY;}if (bl==NODATA) {return INVALID_VELOCITY;}if (br==NODATA) {return INVALID_VELOCITY;}vec4 t=mix(mix(bl,br,fxy.x),mix(tl,tr,fxy.x),fxy.y);
#ifdef DATA_FORMAT_UINT32
vec2 velocity=vec2(u_data_offset+dot(t,u_data_scale),0);return velocity;
#else
vec2 velocity=vec2(u_data_offset+dot(t.rg,u_data_scale.yx),-(u_data_offset+dot(t.ba,u_data_scale.yx)));
#endif
return velocity/max(u_max_speed,length(velocity));}
#endif`,Au=`#ifdef RENDER_SHADOWS
uniform mediump vec3 u_shadow_direction;uniform highp vec3 u_shadow_normal_offset;vec3 shadow_normal_offset(vec3 normal) {float tileInMeters=u_shadow_normal_offset[0];vec3 n=vec3(-normal.xy,tileInMeters*normal.z);float dotScale=min(1.0-dot(normal,u_shadow_direction),1.0)*0.5+0.5;return n*dotScale;}vec3 shadow_normal_offset_model(vec3 normal) {float dotScale=min(1.0-dot(normal,u_shadow_direction),1.0)*0.5+0.5;return normal*dotScale;}float shadow_normal_offset_multiplier0() {return u_shadow_normal_offset[1];}float shadow_normal_offset_multiplier1() {return u_shadow_normal_offset[2];}
#endif//RENDER_SHADOWS`,Zl=`#ifdef RENDER_SHADOWS
#ifdef DEPTH_TEXTURE
uniform highp sampler2D u_shadowmap_0;uniform highp sampler2D u_shadowmap_1;
#else
uniform sampler2D u_shadowmap_0;uniform sampler2D u_shadowmap_1;
#endif
uniform float u_shadow_intensity;uniform float u_shadow_map_resolution;uniform float u_shadow_texel_size;uniform highp vec3 u_shadow_normal_offset;uniform vec2 u_fade_range;uniform mediump vec3 u_shadow_direction;uniform highp vec3 u_shadow_bias;highp float shadow_sample_1(highp vec2 uv,highp float compare) {highp float shadow_depth;
#ifdef DEPTH_TEXTURE
shadow_depth=texture(u_shadowmap_1,uv).r;
#else
shadow_depth=unpack_depth(texture(u_shadowmap_1,uv))*0.5+0.5;
#endif
return step(shadow_depth,compare);}highp float shadow_sample_0(highp vec2 uv,highp float compare) {highp float shadow_depth;
#ifdef DEPTH_TEXTURE
shadow_depth=texture(u_shadowmap_0,uv).r;
#else
shadow_depth=unpack_depth(texture(u_shadowmap_0,uv))*0.5+0.5;
#endif
return step(shadow_depth,compare);}float shadow_occlusion_1(highp vec4 pos,highp float bias) {highp vec2 uv=pos.xy;return shadow_sample_1(uv,pos.z-bias);}float shadow_occlusion_0(highp vec4 pos,highp float bias) {highp float compare0=pos.z-bias;
#ifdef NATIVE
highp vec2 uv=pos.xy;highp vec4 samples=textureGather(u_shadowmap_0,uv,0);lowp vec4 stepSamples=step(samples,vec4(compare0));
#else
highp vec2 uv00=pos.xy-vec2(0.5*u_shadow_texel_size);highp vec2 uv10=uv00+vec2(u_shadow_texel_size,0.0);highp vec2 uv01=uv00+vec2(0.0,u_shadow_texel_size);highp vec2 uv11=uv01+vec2(u_shadow_texel_size,0.0);lowp vec4 stepSamples=vec4(
shadow_sample_0(uv01,compare0),shadow_sample_0(uv11,compare0),shadow_sample_0(uv10,compare0),shadow_sample_0(uv00,compare0)
);
#endif
vec2 f=fract(pos.xy*u_shadow_map_resolution-vec2(0.5));lowp vec2 lerpx=mix(stepSamples.wx,stepSamples.zy,f.xx);return mix(lerpx.x,lerpx.y,f.y);}float shadow_occlusion(highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth,highp float bias) {
#ifdef SHADOWS_SINGLE_CASCADE
light_view_pos0.xyz=light_view_pos0.xyz/light_view_pos0.w*0.5+0.5;return shadow_occlusion_0(light_view_pos0,bias);
#else
light_view_pos0.xyz/=light_view_pos0.w;light_view_pos1.xyz/=light_view_pos1.w;vec4 uv=vec4(light_view_pos0.xy,light_view_pos1.xy);vec4 abs_bounds=abs(uv);if (abs_bounds.x < 1.0 && abs_bounds.y < 1.0) {light_view_pos0.xyz=light_view_pos0.xyz*0.5+0.5;return shadow_occlusion_0(light_view_pos0,bias);}if (abs_bounds.z >=1.0 || abs_bounds.w >=1.0) {return 0.0;}light_view_pos1.xyz=light_view_pos1.xyz*0.5+0.5;float occlusion1=shadow_occlusion_1(light_view_pos1,bias);return mix(occlusion1,0.0,smoothstep(u_fade_range.x,u_fade_range.y,view_depth));
#endif
}highp float calculate_shadow_bias(float NDotL) {
#ifdef NORMAL_OFFSET
return 0.5*u_shadow_bias.x;
#else
return 0.5*(u_shadow_bias.x+clamp(u_shadow_bias.y*tan(acos(NDotL)),0.0,u_shadow_bias.z));
#endif
}float shadowed_light_factor_normal(vec3 N,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float NDotL=dot(N,u_shadow_direction);float bias=calculate_shadow_bias(NDotL);float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return mix(0.0,(1.0-(u_shadow_intensity*occlusion))*NDotL,step(0.0,NDotL));}float shadowed_light_factor_normal_unbiased(vec3 N,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float NDotL=dot(N,u_shadow_direction);float bias=0.0;float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return mix(0.0,(1.0-(u_shadow_intensity*occlusion))*NDotL,step(0.0,NDotL));}float shadowed_light_factor(highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float bias=0.0;float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return 1.0-(u_shadow_intensity*occlusion);}float shadow_occlusion(float ndotl,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float bias=calculate_shadow_bias(ndotl);return shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);}
#endif`;const Ad=[];md(op,Ad),md(Xm,Ad),md(Ym,Ad);const Jl={"_prelude_fog.vertex.glsl":O0,"_prelude_terrain.vertex.glsl":R0,"_prelude_shadow.vertex.glsl":Au,"_prelude_fog.fragment.glsl":$1,"_prelude_shadow.fragment.glsl":Zl,"_prelude_lighting.glsl":`
#ifdef LIGHTING_3D_MODE
uniform mediump vec3 u_lighting_ambient_color;uniform mediump vec3 u_lighting_directional_dir;uniform mediump vec3 u_lighting_directional_color;uniform mediump vec3 u_ground_radiance;float calculate_ambient_directional_factor(vec3 normal) {float NdotL=dot(normal,u_lighting_directional_dir);const float factor_reduction_max=0.3;float dir_luminance=dot(u_lighting_directional_color,vec3(0.2126,0.7152,0.0722));float directional_factor_min=1.0-factor_reduction_max*min(dir_luminance,1.0);float ambient_directional_factor=mix(directional_factor_min,1.0,min((NdotL+1.0),1.0));const float vertical_factor_min=0.92;float vertical_factor=mix(vertical_factor_min,1.0,normal.z*0.5+0.5);return vertical_factor*ambient_directional_factor;}vec3 linearProduct(vec3 srgbIn,vec3 k) {return srgbIn*pow(k,vec3(1./2.2));}vec3 apply_lighting(vec3 color,vec3 normal,float dir_factor) {float ambient_directional_factor=calculate_ambient_directional_factor(normal);vec3 ambient_contrib=ambient_directional_factor*u_lighting_ambient_color;vec3 directional_contrib=u_lighting_directional_color*dir_factor;return linearProduct(color,ambient_contrib+directional_contrib);}vec4 apply_lighting(vec4 color,vec3 normal,float dir_factor) {return vec4(apply_lighting(color.rgb,normal,dir_factor),color.a);}vec3 apply_lighting(vec3 color,vec3 normal) {float dir_factor=max(dot(normal,u_lighting_directional_dir),0.0);return apply_lighting(color.rgb,normal,dir_factor);}vec4 apply_lighting(vec4 color,vec3 normal) {float dir_factor=max(dot(normal,u_lighting_directional_dir),0.0);return vec4(apply_lighting(color.rgb,normal,dir_factor),color.a);}vec3 apply_lighting_ground(vec3 color) {return color*u_ground_radiance;}vec4 apply_lighting_ground(vec4 color) {return vec4(apply_lighting_ground(color.rgb),color.a);}float calculate_NdotL(vec3 normal) {const float ext=0.70710678118;return (clamp(dot(normal,u_lighting_directional_dir),-ext,1.0)+ext)/(1.0+ext);}vec4 apply_lighting_with_emission_ground(vec4 color,float emissive_strength) {return mix(apply_lighting_ground(color),color,emissive_strength);}vec3 compute_flood_lighting(vec3 flood_light_color,float fully_occluded_factor,float occlusion,vec3 ground_shadow_factor) {vec3 fully_occluded_color=flood_light_color*mix(ground_shadow_factor,vec3(1.0),fully_occluded_factor);float occlusion_ramp=smoothstep(0.0,0.2,1.0-occlusion);return mix(fully_occluded_color,flood_light_color,occlusion_ramp);}vec3 compute_emissive_draped(vec3 unlit_color,float fully_occluded_factor,float occlusion,vec3 ground_shadow_factor) {vec3 fully_occluded_color=unlit_color*mix(ground_shadow_factor,vec3(1.0),fully_occluded_factor);return mix(fully_occluded_color,unlit_color,1.0-occlusion);}
#endif//LIGHTING_3D_MODE`,"_prelude_raster_array.glsl":rf,"_prelude_raster_particle.glsl":pd},lp={};ea("",R0),ea($1,O0),ea(Zl,Au),ea(rf,""),ea(pd,"");const BA=ea(Ym,Xm),up=op;var Jm={background:ea(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec4 u_color;uniform float u_opacity;
#ifdef LIGHTING_3D_MODE
in vec4 v_color;
#endif
void main() {vec4 out_color;
#ifdef LIGHTING_3D_MODE
out_color=v_color;
#else
out_color=u_color;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_lighting.glsl"
in vec2 a_pos;uniform mat4 u_matrix;
#ifdef LIGHTING_3D_MODE
uniform mediump vec4 u_color;out vec4 v_color;uniform float u_emissive_strength;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting_with_emission_ground(u_color,u_emissive_strength);
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:ea(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform float u_emissive_strength;uniform sampler2D u_image;in vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=textureLodCustom(u_image,pos,v_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:ea(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
in vec3 v_data;in float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
uniform float u_emissive_strength;void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
glFragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;in vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
out vec3 v_data;out float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);
#else 
surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;
#else
occlusion_world_center=world_center;occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:ea("void main() {glFragColor=vec4(1.0);}","in vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:ea(`#include "_prelude_fog.fragment.glsl"
uniform highp float u_intensity;in vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);glFragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {glFragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_terrain.vertex.glsl"
#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;in vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
out vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:ea(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));glFragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(0.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,"in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:ea("in float v_placed;in float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);glFragColor =mix(red,blue,step(0.5,v_placed))*0.5;glFragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`#include "_prelude_terrain.vertex.glsl"
in vec3 a_pos;in vec2 a_anchor_pos;in vec2 a_extrude;in vec2 a_placed;in vec2 a_shift;in float a_size_scale;in vec2 a_padding;in float a_z_offset;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;out float v_placed;out float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*(a_z_offset+elevation(a_anchor_pos)),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:ea("in float v_radius;in vec2 v_extrude;in float v_perspective_ratio;in float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);glFragColor=color*alpha*opacity_t;}",`in vec2 a_pos_2f;in float a_radius;in vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;out float v_radius;out vec2 v_extrude;out float v_perspective_ratio;out float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:ea("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);glFragColor=mix(u_color,overlay_color,overlay_color.a);}",`#include "_prelude_terrain.vertex.glsl"
in vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;
#endif
out vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:ea(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
uniform float u_emissive_strength;void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
in vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutline:ea(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
in highp vec2 v_pos;uniform float u_emissive_strength;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
in vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;out highp vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:ea(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_emissive_strength;in highp vec2 v_pos;in highp vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec2 lod_pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,v_pos);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=textureLodCustom(u_image,pos,lod_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;in vec2 a_pos;out highp vec2 v_pos;out highp vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:ea(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec2 u_texsize;uniform sampler2D u_image;in vec2 v_pos;uniform float u_emissive_strength;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec2 lod_pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,v_pos);vec4 out_color=textureLodCustom(u_image,pos,lod_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:ea(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_shadow.fragment.glsl"
#include "_prelude_lighting.glsl"
in vec4 v_color;in vec4 v_flat;
#ifdef RENDER_SHADOWS
in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;
#endif
uniform lowp float u_opacity;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;in vec2 v_ao;
#endif
#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)
in vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
in highp vec3 v_normal;
#endif
uniform vec3 u_flood_light_color;uniform highp float u_vertical_scale;uniform float u_flood_light_intensity;uniform vec3 u_ground_shadow_factor;
#if defined(LIGHTING_3D_MODE) && defined(FLOOD_LIGHT)
in float v_flood_radius;in float v_has_floodlight;
#endif
uniform float u_emissive_strength;in float v_height;void main() {
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
vec3 normal=normalize(v_normal);
#endif
float z;vec4 color=v_color;
#ifdef ZERO_ROOF_RADIUS
z=float(normal.z > 0.00001);
#ifdef LIGHTING_3D_MODE
normal=mix(normal,vec3(0.0,0.0,1.0),z);
#else
color=mix(v_color,v_roof_color,z);
#endif
#endif
float h=max(0.0,v_height);float ao_shade=1.0;
#ifdef FAUX_AO
float intensity=u_ao[0];float h_floors=h/(u_ao[1]*u_vertical_scale);float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);ao_shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;
#ifdef ZERO_ROOF_RADIUS
concave*=(1.0-z);
#endif
float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);ao_shade*=mix(1.0,x_shade*x_shade*x_shade,concave);
#ifdef LIGHTING_3D_MODE
#ifdef FLOOD_LIGHT
color.rgb*=mix(ao_shade,1.0,v_has_floodlight);
#else
color.rgb*=ao_shade;
#endif
#else
color.rgb*=ao_shade;
#endif
#endif
#ifdef LIGHTING_3D_MODE
float flood_radiance=0.0;
#ifdef FLOOD_LIGHT
flood_radiance=(1.0-min(h/v_flood_radius,1.0))*u_flood_light_intensity*v_has_floodlight;
#endif
#ifdef RENDER_SHADOWS
#ifdef FLOOD_LIGHT
float ndotl_unclamped=dot(normal,u_shadow_direction);float ndotl=max(0.0,ndotl_unclamped);float occlusion=ndotl_unclamped < 0.0 ? 1.0 : shadow_occlusion(ndotl,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);vec3 litColor=apply_lighting(color.rgb,normal,(1.0-u_shadow_intensity*occlusion)*ndotl);vec3 floodLitColor=compute_flood_lighting(u_flood_light_color*u_opacity,1.0-u_shadow_intensity,occlusion,u_ground_shadow_factor);color.rgb=mix(litColor,floodLitColor,flood_radiance);
#else
float shadowed_lighting_factor=shadowed_light_factor_normal(normal,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);color.rgb=apply_lighting(color.rgb,normal,shadowed_lighting_factor);
#endif
#else
color.rgb=apply_lighting(color.rgb,normal);
#ifdef FLOOD_LIGHT
color.rgb=mix(color.rgb,u_flood_light_color*u_opacity,flood_radiance);
#endif
#endif
color.rgb=mix(color.rgb,v_flat.rgb,u_emissive_strength);color*=u_opacity;
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos,h));
#endif
#ifdef INDICATOR_CUTOUT
color=applyCutout(color);
#endif
glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
#include "_prelude_lighting.glsl"
uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
uniform highp float u_vertical_scale;out vec4 v_color;out vec4 v_flat;
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out float v_depth;
#endif
#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)
out vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
out highp vec3 v_normal;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;out vec2 v_ao;
#endif
#if defined(LIGHTING_3D_MODE) && defined(FLOOD_LIGHT)
out float v_flood_radius;out float v_has_floodlight;
#endif
out float v_height;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
#pragma mapbox: define highp float flood_light_wall_radius
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize highp float flood_light_wall_radius
base*=u_vertical_scale;height*=u_vertical_scale;vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
v_normal=normal;
#endif
base=max(0.0,base);float attr_height=height;height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=0.0;float c_ele=0.0;vec3 pos;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);
#else
h=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float cutoff=1.0;vec3 scaled_pos=pos;
#ifdef RENDER_CUTOFF
vec3 centroid_random=vec3(centroid_pos.xy,centroid_pos.x+centroid_pos.y+1.0);vec3 ground_pos=centroid_pos.x==0.0 ? pos.xyz : (centroid_random/8.0);vec4 ground=u_matrix*vec4(ground_pos.xy,ele,1.0);cutoff=max(0.01,cutoff_opacity(u_cutoff_params,ground.z));if (centroid_pos.y !=0.0 && centroid_pos.x !=0.0) {vec3 g=floor(ground_pos);vec3 mod_=centroid_random-g*8.0;float seed=min(1.0,0.1*(min(3.5,max(mod_.x+mod_.y,0.2*attr_height))*0.35+mod_.z));if (cutoff < 0.8-seed) {cutoff=0.0;}}float cutoff_scale=cutoff;scaled_pos.z=mix(c_ele,h,cutoff_scale);
#endif
float hidden=float((centroid_pos.x==0.0 && centroid_pos.y==1.0) || (cutoff < 0.01 && centroid_pos.x !=0.0));gl_Position=mix(u_matrix*vec4(scaled_pos,1),AWAY,hidden);h=h-ele;v_height=h;
#ifdef RENDER_SHADOWS
vec3 shd_pos0=pos;vec3 shd_pos1=pos;
#ifdef NORMAL_OFFSET
vec3 offset=shadow_normal_offset(normal);shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);
#endif
float NdotL=0.0;float colorvalue=0.0;
#ifndef LIGHTING_3D_MODE
colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);if (normal.y !=0.0) {float r=0.84;r=mix(0.7,0.98,1.0-u_lightintensity);NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#endif
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec2(mix(concave,-concave,start),y_ground);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
#ifdef FLOOD_LIGHT
float is_wall=1.0-float(t > 0.0 && top_up_ny.y > 0.0);v_has_floodlight=float(flood_light_wall_radius > 0.0 && is_wall > 0.0);v_flood_radius=flood_light_wall_radius*u_vertical_scale;
#endif
v_color=vec4(color.rgb,1.0);v_flat=vec4(linearProduct(color.rgb,vec3(calculate_NdotL(normal))),1.0);
#else
v_color=vec4(0.0,0.0,0.0,1.0);v_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_color*=u_opacity;
#endif
#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)
float roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color=vec4(0.0,0.0,0.0,1.0);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_roof_color*=u_opacity;
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionDepth:ea(`in highp float v_depth;void main() {
#ifndef DEPTH_TEXTURE
glFragColor=pack_depth(v_depth);
#endif
}`,`#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_matrix;uniform float u_edge_radius;uniform float u_vertical_scale;in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
out highp float v_depth;void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
base*=u_vertical_scale;height*=u_vertical_scale;vec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
vec3 pos;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;float ele=elevation(pos_nx.xy);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base);pos=vec3(pos_nx.xy,h);
#else
pos=vec3(pos_nx.xy,t > 0.0 ? height : base);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);v_depth=gl_Position.z/gl_Position.w;}`),fillExtrusionPattern:ea(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec2 u_texsize;uniform sampler2D u_image;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;in vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
in vec3 v_normal;
#endif
in vec2 v_pos;in vec4 v_lighting;uniform lowp float u_opacity;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define highp float pixel_ratio
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize highp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec2 lod_pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,v_pos);vec4 out_color=textureLodCustom(u_image,pos,lod_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color,normalize(v_normal))*u_opacity;
#else
out_color=out_color*v_lighting;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef INDICATOR_CUTOUT
out_color=applyCutout(out_color);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#include "_prelude_lighting.glsl"
uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
out vec2 v_pos;out vec4 v_lighting;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;out vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
out vec3 v_normal;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define highp float pixel_ratio
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize highp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=z;vec3 p;float c_ele;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);
#else
p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_normal=normal;
#else
v_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#endif 
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),groundShadow:ea(`#include "_prelude_shadow.fragment.glsl"
precision highp float;uniform vec3 u_ground_shadow_factor;in vec4 v_pos_light_view_0;in vec4 v_pos_light_view_1;
#ifdef FOG
in float v_fog_opacity;
#endif
void main() {float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);vec3 shadow=mix(u_ground_shadow_factor,vec3(1.0),light);
#ifdef RENDER_CUTOFF
shadow=mix(vec3(1.0),shadow,cutoff_opacity(u_cutoff_params,1.0/gl_FragCoord.w));
#endif
#ifdef FOG
shadow=mix(shadow,vec3(1.0),v_fog_opacity);
#endif
#ifdef INDICATOR_CUTOUT
shadow=mix(shadow,vec3(1.0),1.0-applyCutout(vec4(1.0)).r);
#endif
glFragColor=vec4(shadow,1.0);}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;in vec2 a_pos;out vec4 v_pos_light_view_0;out vec4 v_pos_light_view_1;
#ifdef FOG
out float v_fog_opacity;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0.0,1.0);v_pos_light_view_0=u_light_matrix_0*vec4(a_pos,0.0,1.0);v_pos_light_view_1=u_light_matrix_1*vec4(a_pos,0.0,1.0);
#ifdef FOG
v_fog_pos=fog_position(a_pos);v_fog_opacity=fog(v_fog_pos);
#endif
}`),fillExtrusionGroundEffect:ea(`uniform highp float u_ao_pass;uniform highp float u_opacity;uniform highp float u_flood_light_intensity;uniform highp vec3 u_flood_light_color;uniform highp float u_attenuation;uniform sampler2D u_fb;uniform float u_fb_size;
#ifdef SDF_SUBPASS
in highp vec2 v_pos;in highp vec4 v_line_segment;in highp float v_flood_light_radius_tile;in highp vec2 v_ao;float line_df(highp vec2 a,highp vec2 b,highp vec2 p) {highp vec2 ba=b-a;highp vec2 pa=p-a;highp float r=clamp(dot(pa,ba)/dot(ba,ba),0.0,1.0);return length(pa-r*ba);}
#ifdef FOG
in highp float v_fog;
#endif
#endif
void main() {
#ifdef CLEAR_SUBPASS
vec4 color=vec4(1.0);
#ifdef CLEAR_FROM_TEXTURE
color=texture(u_fb,gl_FragCoord.xy/vec2(u_fb_size));
#endif
glFragColor=color;
#else
#ifdef SDF_SUBPASS
highp float d=line_df(v_line_segment.xy,v_line_segment.zw,v_pos);highp float effect_radius=mix(v_flood_light_radius_tile,v_ao.y,u_ao_pass);d/=effect_radius;d=min(d,1.0);d=1.0-pow(1.0-d,u_attenuation);highp float effect_intensity=mix(u_flood_light_intensity,v_ao.x,u_ao_pass);highp float fog=1.0;
#ifdef FOG
fog=v_fog;
#endif
#ifdef RENDER_CUTOFF
fog*=v_cutoff_opacity;
#endif
glFragColor=vec4(vec3(0.0),mix(1.0,d,effect_intensity*u_opacity*fog));
#else
vec4 color=mix(vec4(u_flood_light_color,1.0),vec4(vec3(0.0),1.0),u_ao_pass);
#ifdef OVERDRAW_INSPECTOR
color=vec4(1.0);
#endif
glFragColor=color;
#endif
HANDLE_WIREFRAME_DEBUG;
#endif
}`,`#include "_prelude_fog.vertex.glsl"
in highp vec4 a_pos_end;in highp float a_angular_offset_factor;in highp float a_hidden_by_landmark;
#ifdef SDF_SUBPASS
out highp vec2 v_pos;out highp vec4 v_line_segment;out highp float v_flood_light_radius_tile;out highp vec2 v_ao;
#ifdef FOG
out highp float v_fog;
#endif
#endif
uniform highp float u_flood_light_intensity;uniform highp mat4 u_matrix;uniform highp float u_ao_pass;uniform highp float u_meter_to_tile;uniform highp float u_edge_radius;uniform highp vec2 u_ao;
#pragma mapbox: define highp float flood_light_ground_radius
const float TANGENT_CUTOFF=4.0;const float NORM=32767.0;void main() {
#pragma mapbox: initialize highp float flood_light_ground_radius
vec2 p=a_pos_end.xy;vec2 q=floor(a_pos_end.zw*0.5);vec2 start_bottom=a_pos_end.zw-q*2.0;float fl_ground_radius=flood_light_ground_radius;fl_ground_radius=abs(flood_light_ground_radius);float direction=flood_light_ground_radius < 0.0 ?-1.0 : 1.0;float flood_radius_tile=fl_ground_radius*u_meter_to_tile;vec2 v=normalize(q-p);float ao_radius=u_ao.y/3.5;float effect_radius=mix(flood_radius_tile,ao_radius,u_ao_pass)+u_edge_radius;float angular_offset_factor=a_angular_offset_factor/NORM*TANGENT_CUTOFF;float angular_offset=direction*angular_offset_factor*effect_radius;float top=1.0-start_bottom.y;float side=(0.5-start_bottom.x)*2.0;vec2 extrusion_parallel=v*side*mix(1.0,angular_offset,top);vec2 perp=vec2(v.y,-v.x);vec2 extrusion_perp=direction*perp*effect_radius*top;vec3 pos=vec3(mix(q,p,start_bottom.x),0.0);pos.xy+=extrusion_parallel+extrusion_perp;
#ifdef SDF_SUBPASS
v_pos=pos.xy;v_line_segment=vec4(p,q)+perp.xyxy*u_edge_radius;v_flood_light_radius_tile=flood_radius_tile;v_ao=vec2(u_ao.x,ao_radius);
#ifdef FOG
v_fog_pos=fog_position(pos);v_fog=1.0-fog(v_fog_pos);
#endif
#endif
float hidden_by_landmark=0.0;
#ifdef HAS_CENTROID
hidden_by_landmark=a_hidden_by_landmark;
#endif
float isFloodlit=float(fl_ground_radius > 0.0 && u_flood_light_intensity > 0.0);float hidden=mix(1.0-isFloodlit,isFloodlit,u_ao_pass);hidden+=hidden_by_landmark;gl_Position=mix(u_matrix*vec4(pos,1.0),AWAY,float(hidden > 0.0));
#ifdef RENDER_CUTOFF
v_cutoff_opacity=cutoff_opacity(u_cutoff_params,gl_Position.z);
#endif
}`),hillshadePrepare:ea(`precision highp float;uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;float getElevation(vec2 coord) {return texture(u_image,coord).r/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));glFragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:ea(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;uniform float u_emissive_strength;void main() {vec4 pixel=texture(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);glFragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef LIGHTING_3D_MODE
glFragColor=apply_lighting_with_emission_ground(glFragColor,u_emissive_strength);
#endif
#ifdef FOG
glFragColor=fog_dither(fog_apply_premultiplied(glFragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:ea(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;in vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}uniform float u_emissive_strength;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float border_width
#pragma mapbox: define lowp vec4 border_color
float linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float border_width
#pragma mapbox: initialize lowp vec4 border_color
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist=texture(u_dash_image,v_tex).r;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);
#endif
highp vec4 out_color;
#ifdef RENDER_LINE_GRADIENT
out_color=texture(u_gradient_image,v_uv.xy);
#else
out_color=color;
#endif
float trimmed=1.0;
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);trimmed=0.0;}}
#endif
if (u_alpha_discard_threshold !=0.0) {if (alpha < u_alpha_discard_threshold) {discard;}}
#ifdef RENDER_LINE_BORDER
float edgeBlur=(border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);if (border_color.a==0.0) {    
float Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}} else {out_color.rgb=mix(border_color.rgb*border_color.a*trimmed,out_color.rgb,smoothAlpha);}}
#endif
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
out_color*=(alpha*opacity);
#ifdef INDICATOR_CUTOUT
out_color=applyCutout(out_color);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#define EXTRUDE_SCALE 0.015873016
in vec2 a_pos_normal;in vec4 a_data;
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
in highp vec4 a_packed;
#endif
#ifdef RENDER_LINE_DASH
in float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;out vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float border_width
#pragma mapbox: define lowp vec4 border_color
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float border_width
#pragma mapbox: initialize lowp vec4 border_color
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);
#else
v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
#endif
#ifdef RENDER_LINE_DASH
float scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),linePattern:ea(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform highp vec2 u_trim_offset;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in float v_linesofar;in float v_gamma_scale;in float v_width;
#ifdef RENDER_LINE_TRIM_OFFSET
in highp vec4 v_uv;
#endif
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float pattern_x=v_linesofar/pattern_size.x*aspect;float x=mod(pattern_x,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec2 lod_pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(pattern_x,y));vec4 color=textureLodCustom(u_image,pos,lod_pos);
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {color=vec4(0,0,0,0);}}
#endif
#ifdef LIGHTING_3D_MODE
color=apply_lighting_ground(color);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
color*=(alpha*opacity);
#ifdef INDICATOR_CUTOUT
color=applyCutout(color);
#endif
glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;
#ifdef RENDER_LINE_TRIM_OFFSET
in highp vec4 a_packed;
#endif
in float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_linesofar;out float v_gamma_scale;out float v_width;
#ifdef RENDER_LINE_TRIM_OFFSET
out highp vec4 v_uv;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
#ifdef RENDER_LINE_TRIM_OFFSET
float a_uv_x=a_packed[0];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),raster:ea(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_raster_array.glsl"
uniform float u_fade_t;uniform float u_opacity;uniform highp float u_raster_elevation;uniform highp float u_zoom_transition;in vec2 v_pos0;in vec2 v_pos1;in float v_depth;
#ifdef PROJECTION_GLOBE_VIEW
in float v_split_fade;
#endif
uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;uniform float u_emissive_strength;
#ifndef RASTER_ARRAY
uniform sampler2D u_image0;uniform sampler2D u_image1;
#endif
#ifdef RASTER_COLOR
uniform sampler2D u_color_ramp;uniform highp vec4 u_colorization_mix;uniform highp float u_colorization_offset;uniform vec2 u_texture_res;
#endif
void main() {vec4 color0,color1,color;vec2 value;
#ifdef RASTER_COLOR
#ifdef RASTER_ARRAY
#ifdef RASTER_ARRAY_LINEAR
value=mix(
raTexture2D_image0_linear(v_pos0,u_texture_res,u_colorization_mix,u_colorization_offset),raTexture2D_image1_linear(v_pos1,u_texture_res,u_colorization_mix,u_colorization_offset),u_fade_t
);
#else
value=mix(
raTexture2D_image0_nearest(v_pos0,u_texture_res,u_colorization_mix,u_colorization_offset),raTexture2D_image1_nearest(v_pos1,u_texture_res,u_colorization_mix,u_colorization_offset),u_fade_t
);
#endif
if (value.y > 0.0) value.x/=value.y;
#else
color=mix(texture(u_image0,v_pos0),texture(u_image1,v_pos1),u_fade_t);value=vec2(u_colorization_offset+dot(color.rgb,u_colorization_mix.rgb),color.a);
#endif
color=texture(u_color_ramp,vec2(value.x,0.5));if (color.a > 0.0) color.rgb/=color.a;color.a*=value.y;
#else
color0=texture(u_image0,v_pos0);color1=texture(u_image1,v_pos1);if (color0.a > 0.0) color0.rgb/=color0.a;if (color1.a > 0.0) color1.rgb/=color1.a;color=mix(color0,color1,u_fade_t);
#endif
color.a*=u_opacity;
#ifdef GLOBE_POLES
color.a*=1.0-smoothstep(0.0,0.05,u_zoom_transition);
#endif
vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(vec4(out_color,1.0),u_emissive_strength).rgb;
#endif
#ifdef FOG
highp float fog_limit_high_meters=1000000.0;highp float fog_limit_low_meters=600000.0;float fog_limit=1.0-smoothstep(fog_limit_low_meters,fog_limit_high_meters,u_raster_elevation);out_color=fog_dither(fog_apply(out_color,v_fog_pos,fog_limit));
#endif
glFragColor=vec4(out_color*color.a,color.a);
#ifdef PROJECTION_GLOBE_VIEW
glFragColor*=mix(1.0,1.0-smoothstep(0.0,0.05,u_zoom_transition),smoothstep(0.8,0.9,v_split_fade));
#endif
#ifdef RENDER_CUTOFF
glFragColor=glFragColor*cutoff_opacity(u_cutoff_params,v_depth);
#endif
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform mat3 u_grid_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;uniform vec2 u_texture_offset;uniform float u_raster_elevation;uniform float u_zoom_transition;uniform vec2 u_merc_center;
#define GLOBE_UPSCALE GLOBE_RADIUS/6371008.8
#ifdef GLOBE_POLES
in vec3 a_globe_pos;in vec2 a_uv;
#else
in vec2 a_pos;in vec2 a_texture_pos;
#endif
out vec2 v_pos0;out vec2 v_pos1;out float v_depth;
#ifdef PROJECTION_GLOBE_VIEW
out float v_split_fade;
#endif
void main() {vec2 uv;
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;gl_Position=u_matrix*u_globe_matrix*vec4(globe_pos   ,1.0);uv=a_uv;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(a_globe_pos,1.0)).xyz);
#endif
#else
float w=1.0+dot(a_texture_pos,u_perspective_transform);uv=a_texture_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);vec3 globe_pos=latLngToECEF(latLng.xy);globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);float mercatorY=mercatorYfromLat(latLng[0]);float mercatorX=mercatorXfromLng(latLng[1]);    
v_split_fade=0.0;if (u_zoom_transition > 0.0) {vec2 merc_pos=vec2(mercatorX,mercatorY);merc_world_pos=vec4(merc_pos,u_raster_elevation,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;float opposite_merc_center=mod(u_merc_center.x+0.5,1.0);float dist_from_poles=(abs(mercatorY-0.5)*2.0);float range=0.1;v_split_fade=abs(opposite_merc_center-mercatorX);v_split_fade=clamp(1.0-v_split_fade,0.0,1.0);v_split_fade=max(smoothstep(1.0-range,1.0,dist_from_poles),max(smoothstep(1.0-range,1.0,v_split_fade),smoothstep(1.0-range,1.0,1.0-v_split_fade)));}float tiles=u_grid_matrix[0][2];if (tiles > 0.0) {float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];float uvY=mercatorY*tiles-idy;float uvX=mercatorX*tiles-idx;uv=vec2(uvX,uvY);}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition)*w,w);gl_Position=u_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
#else
gl_Position=u_matrix*vec4(a_pos*w,u_raster_elevation*w,w);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
#endif
#endif
v_pos0=uv;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;v_pos0=u_texture_offset.x+u_texture_offset.y*v_pos0;v_pos1=u_texture_offset.x+u_texture_offset.y*v_pos1;
#ifdef RENDER_CUTOFF
v_depth=gl_Position.z;
#endif
}`),rasterParticle:ea(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform float u_fade_t;uniform float u_opacity;uniform highp float u_raster_elevation;in vec2 v_pos0;in vec2 v_pos1;uniform sampler2D u_image0;uniform sampler2D u_image1;void main() {vec4 color0,color1,color;color0=texture(u_image0,v_pos0);color1=texture(u_image1,v_pos1);if (color0.a > 0.0) color0.rgb/=color0.a;if (color1.a > 0.0) color1.rgb/=color1.a;color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 out_color=color.rgb;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(vec4(out_color,1.0),0.0).rgb;
#endif
#ifdef FOG
highp float fog_limit_high_meters=1000000.0;highp float fog_limit_low_meters=600000.0;float fog_limit=1.0-smoothstep(fog_limit_low_meters,fog_limit_high_meters,u_raster_elevation);out_color=fog_dither(fog_apply(out_color,v_fog_pos,fog_limit));
#endif
glFragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform mat3 u_grid_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_raster_elevation;uniform float u_zoom_transition;uniform vec2 u_merc_center;
#define GLOBE_UPSCALE GLOBE_RADIUS/6371008.8
in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {float w=1.0;
#ifdef PROJECTION_GLOBE_VIEW
vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float mercatorX=mercatorXfromLng(latLng[1]);float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];float uvX=mercatorX*tiles-idx;float uvY=mercatorY*tiles-idy;vec2 uv=vec2(uvX,uvY);vec3 globe_pos=latLngToECEF(latLng.xy);globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {vec2 merc_pos=vec2(mercatorX,mercatorY);merc_world_pos=vec4(merc_pos,u_raster_elevation,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition)*w,w);gl_Position=u_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
#else
vec2 uv=a_texture_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*w,u_raster_elevation*w,w);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
#endif
v_pos0=uv;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),rasterParticleDraw:ea("precision highp float;uniform sampler2D u_color_ramp;in float v_particle_speed;void main() {glFragColor=texture(u_color_ramp,vec2(v_particle_speed,0.5));}",`precision highp float;
#include "_prelude_raster_array.glsl"
#include "_prelude_raster_particle.glsl"
in vec3 a_pos;uniform vec2 u_tile_offset;out float v_particle_speed;void main() {vec2 pos=a_pos.xy+u_tile_offset;vec2 tex_coords=fract(pos);gl_PointSize=1.0;vec2 velocity=lookup_velocity(tex_coords);if (velocity==INVALID_VELOCITY) {v_particle_speed=0.0;gl_Position=vec4(2.0,2.0,2.0,1.0);} else {v_particle_speed=length(velocity);gl_Position=vec4(2.0*pos-vec2(1.0),0.0,1.0);}}`),rasterParticleTexture:ea("uniform sampler2D u_texture;uniform float u_opacity;in vec2 v_tex_pos;void main() {vec4 color=texture(u_texture,v_tex_pos);glFragColor=vec4(floor(255.0*color*u_opacity)/255.0);}","in vec2 a_pos;out vec2 v_tex_pos;void main() {v_tex_pos=0.5*a_pos+vec2(0.5);gl_Position=vec4(a_pos,0.0,1.0);}"),rasterParticleUpdate:ea("void main() {}",`#include "_prelude_raster_array.glsl"
#include "_prelude_raster_particle.glsl"
in vec3 a_pos;uniform float u_speed_factor;uniform float u_lifetime_delta;uniform float u_rand_seed;out vec3 v_new_particle;const vec3 rand_constants=vec3(12.9898,78.233,4375.85453);float rand(const vec2 co) {float t=dot(rand_constants.xy,co);return fract(sin(t)*(rand_constants.z+t));}void main() {float lifetime=a_pos.z;vec2 pos=a_pos.xy;vec2 uv=clamp(pos,vec2(0.0),vec2(1.0));vec2 velocity=lookup_velocity(uv);float next_lifetime=lifetime-u_lifetime_delta;float t=step(0.0,next_lifetime);
#ifdef DATA_FORMAT_UINT32
vec2 dp=vec2(0);
#else
vec2 dp=velocity==INVALID_VELOCITY ? vec2(0) : velocity*u_speed_factor;
#endif
vec2 seed=pos*u_rand_seed;vec2 next_pos=pos+dp;vec2 random_pos=vec2(rand(seed+1.3),rand(seed+2.1));v_new_particle=vec3(
vec2(mix(random_pos,next_pos,t)),mix(1.0,next_lifetime,t)
);}`),symbolIcon:ea(`#include "_prelude_lighting.glsl"
uniform sampler2D u_texture;
#ifdef ICON_TRANSITION
uniform float u_icon_transition;
#endif
in float v_fade_opacity;in vec2 v_tex_a;
#ifdef ICON_TRANSITION
in vec2 v_tex_b;
#endif
uniform mediump float u_icon_saturation;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float emissive_strength
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float emissive_strength
lowp float alpha=opacity*v_fade_opacity;vec4 out_color;
#ifdef ICON_TRANSITION
vec4 a=texture(u_texture,v_tex_a)*(1.0-u_icon_transition);vec4 b=texture(u_texture,v_tex_b)*u_icon_transition;out_color=(a+b)*alpha;
#else
out_color=texture(u_texture,v_tex_a)*alpha;
#endif
#ifdef SATURATION
vec3 luma=vec3(dot(out_color.rgb,vec3(0.2126,0.7152,0.0722)));out_color.rgb=mix(luma,out_color.rgb,u_icon_saturation);
#endif
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,emissive_strength);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_terrain.vertex.glsl"
in vec4 a_pos_offset;in vec4 a_tex_size;in vec4 a_pixeloffset;in vec4 a_projected_pos;in float a_fade_opacity;
#ifdef Z_OFFSET
in float a_z_offset;
#endif
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_globe_anchor;in vec3 a_globe_normal;
#endif
#ifdef ICON_TRANSITION
in vec2 a_texb;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
out vec2 v_tex_a;
#ifdef ICON_TRANSITION
out vec2 v_tex_b;
#endif
out float v_fade_opacity;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float emissive_strength
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float emissive_strength
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;float e=elevation(tile_anchor);
#ifdef Z_OFFSET
e+=a_z_offset;
#endif
vec3 h=elevationVector(tile_anchor)*e;float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float out_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;float alpha=opacity*out_fade_opacity;float hidden=float(alpha==0.0 || projected_point.w <=0.0 || occlusion_fade==0.0);
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,hidden);
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,hidden);
#endif
v_tex_a=a_tex/u_texsize;
#ifdef ICON_TRANSITION
v_tex_b=a_texb/u_texsize;
#endif
v_fade_opacity=out_fade_opacity;}`),symbolSDF:ea(`#include "_prelude_lighting.glsl"
#define SDF_PX 8.0
uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;uniform bool u_is_halo;in float v_draw_halo;in vec2 v_data0;in vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
#pragma mapbox: define lowp float emissive_strength
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
#pragma mapbox: initialize lowp float emissive_strength
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;bool draw_halo=v_draw_halo > 0.0;if (draw_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).r;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);vec4 out_color=color*(alpha*opacity*fade_opacity);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,emissive_strength);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_terrain.vertex.glsl"
in vec4 a_pos_offset;in vec4 a_tex_size;in vec4 a_pixeloffset;in vec4 a_projected_pos;in float a_fade_opacity;
#ifdef Z_OFFSET
in float a_z_offset;
#endif
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_globe_anchor;in vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform bool u_is_halo;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
out float v_draw_halo;out vec2 v_data0;out vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
#pragma mapbox: define lowp float emissive_strength
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
#pragma mapbox: initialize lowp float emissive_strength
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;float e=elevation(tile_anchor);
#ifdef Z_OFFSET
e+=a_z_offset;
#endif
vec3 h=elevationVector(tile_anchor)*e;float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float out_fade_opacity=interpolated_fade_opacity*projection_transition_fade;float alpha=opacity*out_fade_opacity;float hidden=float(alpha==0.0 || projected_point.w <=0.0 || occlusion_fade==0.0);
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,hidden);
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,hidden);
#endif
float gamma_scale=gl_Position.w;v_draw_halo=(u_is_halo && float(gl_InstanceID)==0.0) ? 1.0 : 0.0;v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,out_fade_opacity);}`),symbolTextAndIcon:ea(`#include "_prelude_lighting.glsl"
#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_halo;in float v_draw_halo;in vec4 v_data0;in vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
#pragma mapbox: define lowp float emissive_strength
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
#pragma mapbox: initialize lowp float emissive_strength
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;glFragColor=texture(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;bool draw_halo=v_draw_halo > 0.0;if (draw_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).r;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);vec4 out_color=color*(alpha*opacity*fade_opacity);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,emissive_strength);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_terrain.vertex.glsl"
in vec4 a_pos_offset;in vec4 a_tex_size;in vec4 a_projected_pos;in float a_fade_opacity;
#ifdef Z_OFFSET
in float a_z_offset;
#endif
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_globe_anchor;in vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;uniform bool u_is_halo;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
out float v_draw_halo;out vec4 v_data0;out vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
#pragma mapbox: define lowp float emissive_strength
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
#pragma mapbox: initialize lowp float emissive_strength
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;float e=elevation(tile_anchor);
#ifdef Z_OFFSET
e+=a_z_offset;
#endif
vec3 h=elevationVector(tile_anchor)*e;float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
float out_fade_opacity=interpolated_fade_opacity*projection_transition_fade;float alpha=opacity*out_fade_opacity;float hidden=float(alpha==0.0 || projected_point.w <=0.0 || occlusion_fade==0.0);
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,hidden);
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,hidden);
#endif
float gamma_scale=gl_Position.w;v_draw_halo=(u_is_halo && float(gl_InstanceID)==0.0) ? 1.0 : 0.0;v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,out_fade_opacity,is_sdf);}`),terrainRaster:ea(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_shadow.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform sampler2D u_image0;in vec2 v_pos0;
#ifdef FOG
in float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
in vec4 v_pos_light_view_0;in vec4 v_pos_light_view_1;
#endif
uniform vec3 u_ground_shadow_factor;void main() {vec4 image_color=texture(u_image0,v_pos0);vec4 color;
#ifdef LIGHTING_3D_MODE
const vec3 normal=vec3(0.0,0.0,1.0);
#ifdef RENDER_SHADOWS
float cutoffOpacity=1.0;
#ifdef RENDER_CUTOFF
cutoffOpacity=cutoff_opacity(u_cutoff_params,1.0/gl_FragCoord.w);
#endif
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
vec3 unlit_base=image_color.rgb*(1.0-image_color.a);vec3 emissive_base=image_color.rgb*image_color.a;float ndotl=u_shadow_direction.z;float occlusion=ndotl < 0.0 ? 1.0 : shadow_occlusion(v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w,0.0);ndotl=max(0.0,ndotl);vec3 lit=apply_lighting(unlit_base,normal,mix(1.0,(1.0-(u_shadow_intensity*occlusion))*ndotl,cutoffOpacity));vec3 emissive=compute_emissive_draped(emissive_base,1.0-u_shadow_intensity,occlusion,u_ground_shadow_factor);color.rgb=lit+emissive;color.a=1.0;
#else
float lighting_factor=shadowed_light_factor_normal_unbiased(normal,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);color=apply_lighting(image_color,normal,mix(1.0,lighting_factor,cutoffOpacity));
#endif
#else
float lighting_factor=u_lighting_directional_dir.z;color=apply_lighting(image_color,normal,lighting_factor);
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
color.rgb=mix(color.rgb,image_color.rgb,image_color.a);color.a=1.0;
#endif
#endif
#else
color=image_color;
#endif
#ifdef FOG
#ifdef ZERO_EXAGGERATION
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#else
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
#endif
glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_matrix;uniform float u_skirt_height;in vec2 a_pos;out vec2 v_pos0;
#ifdef FOG
out float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out vec4 v_pos_light_view_0;out vec4 v_pos_light_view_1;out float v_depth;
#endif
void main() {vec3 decomposedPosAndSkirt=decomposeToPosAndSkirt(a_pos);float skirt=decomposedPosAndSkirt.z;vec2 decodedPos=decomposedPosAndSkirt.xy;float elevation=elevation(decodedPos)-skirt*u_skirt_height;v_pos0=decodedPos/8192.0;gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
#ifdef ZERO_EXAGGERATION
v_fog_pos=fog_position(decodedPos);
#else
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
#endif
#ifdef RENDER_SHADOWS
vec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);
#endif
}`),terrainDepth:ea("precision highp float;in float v_depth;void main() {glFragColor=pack_depth(v_depth);}",`#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_matrix;in vec2 a_pos;out float v_depth;void main() {float elevation=elevation(a_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}`),skybox:ea(`#include "_prelude_fog.fragment.glsl"
in lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=texture(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);glFragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
}`,Zm),skyboxGradient:ea(`#include "_prelude_fog.fragment.glsl"
in highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
}`,Zm),skyboxCapture:ea(`
in highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;precision highp float;
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;glFragColor=vec4(color,1.0);}`,"in highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;out highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:ea(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform sampler2D u_image0;uniform float u_far_z_cutoff;in vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {vec4 color;
#ifdef CUSTOM_ANTIALIASING
vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture(u_image0,v_pos0);
#ifdef LIGHTING_3D_MODE
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
raster=apply_lighting_with_emission_ground(raster,raster.a);color=vec4(raster.rgb*antialias,antialias);
#else
raster=apply_lighting_ground(raster);color=vec4(raster.rgb*antialias,raster.a*antialias);
#endif
#else
color=vec4(raster.rgb*antialias,raster.a*antialias);
#endif
#else
color=texture(u_image0,v_pos0);
#ifdef LIGHTING_3D_MODE
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
color=apply_lighting_with_emission_ground(color,color.a);color.a=1.0;
#else
color=apply_lighting_ground(color);
#endif
#endif
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
color*=1.0-step(u_far_z_cutoff,1.0/gl_FragCoord.w);glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;uniform float u_skirt_height;
#ifdef GLOBE_POLES
in vec3 a_globe_pos;in vec2 a_uv;
#else
in vec2 a_pos;
#endif
out vec2 v_pos0;void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;vec2 tile_pos=uv*EXTENT;vec3 globe_derived_up_vector=normalize(globe_pos)*u_tile_up_scale;
#ifdef GLOBE_POLES
vec3 up_vector=globe_derived_up_vector;
#else
vec3 up_vector=elevationVector(tile_pos);
#endif
float height=elevation(tile_pos);globe_pos+=up_vector*height;
#ifndef GLOBE_POLES
globe_pos-=globe_derived_up_vector*u_skirt_height*decomposed_pos_and_skirt.z;
#endif
#ifdef GLOBE_POLES
vec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);
#else
vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height-u_skirt_height*decomposed_pos_and_skirt.z,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);
#endif
gl_Position=u_proj_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:ea(`#include "_prelude_fog.fragment.glsl"
uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec4 u_color;uniform vec4 u_high_color;uniform vec4 u_space_color;uniform float u_horizon_angle;in highp vec3 v_ray_dir;in highp vec3 v_horizon_dir;void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;
#ifdef PROJECTION_GLOBE_VIEW
globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {
#ifdef ALPHA_PASS
glFragColor=vec4(0,0,0,0);return;
#else
#ifdef NATIVE
glFragColor=vec4(1,1,1,1);
#else
glFragColor=vec4(0,0,0,1);
#endif
return;
#endif
}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(clamp(dot(dir,horizon_dir),-1.0,1.0)),0.0);float horizon_angle;
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;highp float closest_point_to_center=length(closest_point-u_globe_pos);highp float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;
#ifdef ALPHA_PASS
float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);glFragColor=vec4(1.0,1.0,1.0,a);
#else
vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c=c2;
#ifndef NATIVE
c=dither(c,gl_FragCoord.xy+u_temporal_offset);
#endif
glFragColor=vec4(c*t,t);
#endif
}`,`in vec3 a_pos;in vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;out highp vec3 v_ray_dir;out highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`),model:ea(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_shadow.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform float u_opacity;uniform vec3 u_lightcolor;uniform vec3 u_lightpos;uniform float u_lightintensity;uniform vec4 u_baseColorFactor;uniform vec4 u_emissiveFactor;uniform float u_metallicFactor;uniform float u_roughnessFactor;uniform float u_emissive_strength;in highp vec4 v_position_height;in lowp vec4 v_color_mix;
#ifdef RENDER_SHADOWS
in vec4 v_pos_light_view_0;in vec4 v_pos_light_view_1;in float v_depth_shadows;
#endif
#ifdef OCCLUSION_TEXTURE_TRANSFORM
uniform vec4 u_occlusionTextureTransform;
#endif
#pragma mapbox: define-attribute highp vec3 normal_3f
#pragma mapbox: define-attribute highp vec3 color_3f
#pragma mapbox: define-attribute highp vec4 color_4f
#pragma mapbox: define-attribute highp vec2 uv_2f
#pragma mapbox: initialize-attribute highp vec3 normal_3f
#pragma mapbox: initialize-attribute highp vec3 color_3f
#pragma mapbox: initialize-attribute highp vec4 color_4f
#pragma mapbox: initialize-attribute highp vec2 uv_2f
#ifdef HAS_ATTRIBUTE_a_pbr
in lowp vec4 v_roughness_metallic_emissive_alpha;in mediump vec4 v_height_based_emission_params;
#endif
#ifdef HAS_TEXTURE_u_baseColorTexture
uniform sampler2D u_baseColorTexture;uniform bool u_baseTextureIsAlpha;uniform bool u_alphaMask;uniform float u_alphaCutoff;
#endif
#ifdef HAS_TEXTURE_u_metallicRoughnessTexture
uniform sampler2D u_metallicRoughnessTexture;
#endif
#ifdef HAS_TEXTURE_u_occlusionTexture
uniform sampler2D u_occlusionTexture;uniform float u_aoIntensity;
#endif
#ifdef HAS_TEXTURE_u_normalTexture
uniform sampler2D u_normalTexture;
#endif
#ifdef HAS_TEXTURE_u_emissionTexture
uniform sampler2D u_emissionTexture;
#endif
#ifdef TERRAIN_FRAGMENT_OCCLUSION
in highp float v_depth;uniform sampler2D u_depthTexture;uniform vec2 u_inv_depth_size;bool isOccluded() {vec2 coord=gl_FragCoord.xy*u_inv_depth_size;highp float depth=unpack_depth(texture(u_depthTexture,coord));return v_depth > depth+0.0005;}
#endif
#define saturate(_x) clamp(_x,0.,1.)
vec3 linearTosRGB(vec3 color) {return pow(color,vec3(1./2.2));}vec3 sRGBToLinear(vec3 srgbIn) {return pow(srgbIn,vec3(2.2));}float calculate_NdotL(vec3 normal,vec3 lightDir) {const float ext=0.70710678118;return (clamp(dot(normal,lightDir),-ext,1.0)+ext)/(1.0+ext);}vec3 getDiffuseShadedColor(vec3 albedo,vec3 normal,vec3 lightDir,vec3 lightColor)
{
#ifdef LIGHTING_3D_MODE
vec3 transformed_normal=vec3(-normal.xy,normal.z);float lighting_factor;
#ifdef RENDER_SHADOWS
lighting_factor=shadowed_light_factor_normal(transformed_normal,v_pos_light_view_0,v_pos_light_view_1,v_depth_shadows);
#else
lighting_factor=saturate(dot(transformed_normal,u_lighting_directional_dir));
#endif
return apply_lighting(albedo,transformed_normal,lighting_factor);
#else
vec3 n=normal;float colorvalue=((albedo.x*0.2126)+(albedo.y*0.7152))+(albedo.z*0.0722);vec3 c=vec3(0.03,0.03,0.03);float directional=clamp(dot(n,vec3(lightDir)),0.0,1.0);directional=mix(1.0-u_lightintensity,max((1.0-colorvalue)+u_lightintensity,1.0),directional);vec3 c3=c+clamp((albedo*directional)*lightColor,mix(vec3(0.0),vec3(0.3),vec3(1.0)-lightColor),vec3(1.0));return c3;
#endif
}vec4 getBaseColor() {vec4 albedo=u_baseColorFactor;
#ifdef HAS_ATTRIBUTE_a_color_3f
albedo*=vec4(color_3f,1.0);
#endif
#ifdef HAS_ATTRIBUTE_a_pbr
#else
#ifdef HAS_ATTRIBUTE_a_color_4f
albedo*=color_4f;
#endif
#endif
#if defined (HAS_TEXTURE_u_baseColorTexture) && defined (HAS_ATTRIBUTE_a_uv_2f)
vec4 texColor=texture(u_baseColorTexture,uv_2f);if(u_alphaMask) {if (texColor.w < u_alphaCutoff) {discard;}}
#ifdef UNPREMULT_TEXTURE_IN_SHADER
if(texColor.w > 0.0) {texColor.rgb/=texColor.w;}texColor.w=1.0;
#endif
if(u_baseTextureIsAlpha) {if (texColor.r < 0.5) {discard;}} else {texColor.rgb=sRGBToLinear(texColor.rgb);albedo*=texColor;}
#endif
return vec4(mix(albedo.rgb,v_color_mix.rgb,v_color_mix.a),albedo.a);}highp mat3 cotangentFrame(highp vec3 N,highp vec3 p,highp vec2 uv ) {
#ifdef HAS_TEXTURE_u_normalTexture
highp vec3 dp1=vec3(dFdx(p.x),dFdx(p.y),dFdx(p.z));highp vec3 dp2=vec3(dFdy(p.x),dFdy(p.y),dFdy(p.z));highp vec2 duv1=vec2(dFdx(uv.x),dFdx(uv.y));highp vec2 duv2=vec2(dFdy(uv.x),dFdy(uv.y));highp vec3 dp2perp=cross( dp2,N );highp vec3 dp1perp=cross( N,dp1 );highp vec3 T=dp2perp*duv1.x+dp1perp*duv2.x;highp vec3 B=dp2perp*duv1.y+dp1perp*duv2.y;highp float lengthT=dot(T,T);highp float lengthB=dot(B,B);highp float maxLength=max(lengthT,lengthB);highp float invmax=inversesqrt( maxLength );highp mat3 res=mat3( T*invmax,B*invmax,N );return res;
#else
return mat3(1.0);
#endif
}highp vec3 getNormal(){highp vec3 n;
#ifdef HAS_ATTRIBUTE_a_normal_3f
n=normalize(normal_3f);
#else
highp vec3 fdx=vec3(dFdx(v_position_height.x),dFdx(v_position_height.y),dFdx(v_position_height.z));highp vec3 fdy=vec3(dFdy(v_position_height.x),dFdy(v_position_height.y),dFdy(v_position_height.z));n=normalize(cross(fdx,fdy))*-1.0;
#endif
#if defined(HAS_TEXTURE_u_normalTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)
vec3 nMap=texture( u_normalTexture,uv_2f).xyz;nMap=normalize(2.0*nMap-vec3(1.0));highp vec3 v=normalize(-v_position_height.xyz);highp mat3 TBN=cotangentFrame(n,v,uv_2f);n=normalize(TBN*nMap);
#endif
return n;}struct Material {float perceptualRoughness;float alphaRoughness;float metallic;vec3 f90;vec4 baseColor;vec3 diffuseColor;vec3 specularColor;highp vec3 normal;};Material getPBRMaterial() {Material mat;mat.baseColor=getBaseColor();mat.perceptualRoughness=u_roughnessFactor;mat.metallic=u_metallicFactor;
#ifdef HAS_ATTRIBUTE_a_pbr
mat.perceptualRoughness=v_roughness_metallic_emissive_alpha.x;mat.metallic=v_roughness_metallic_emissive_alpha.y;mat.baseColor.w*=v_roughness_metallic_emissive_alpha.w;
#endif
#if defined(HAS_TEXTURE_u_metallicRoughnessTexture) && defined(HAS_ATTRIBUTE_a_uv_2f) 
vec4 mrSample=texture(u_metallicRoughnessTexture,uv_2f);mat.perceptualRoughness*=mrSample.g;mat.metallic*=mrSample.b;
#endif
const float c_minRoughness=0.04;mat.perceptualRoughness=clamp(mat.perceptualRoughness,c_minRoughness,1.0);mat.metallic=saturate(mat.metallic);mat.alphaRoughness=mat.perceptualRoughness*mat.perceptualRoughness;const vec3 f0=vec3(0.04);mat.diffuseColor=mat.baseColor.rgb*(vec3(1.0)-f0);mat.diffuseColor*=1.0-mat.metallic;mat.specularColor=mix(f0,mat.baseColor.rgb,mat.metallic);highp float reflectance=max(max(mat.specularColor.r,mat.specularColor.g),mat.specularColor.b);highp float reflectance90=saturate(reflectance*25.0);mat.f90=vec3(reflectance90);mat.normal=getNormal();return mat;}float V_GGX(float NdotL,float NdotV,float roughness)
{float a2=roughness*roughness;float GGXV=NdotL*sqrt(NdotV*NdotV*(1.0-a2)+a2);float GGXL=NdotV*sqrt(NdotL*NdotL*(1.0-a2)+a2);return 0.5/(GGXV+GGXL);}float V_GGXFast(float NdotL,float NdotV,float roughness) {float a=roughness;float GGXV=NdotL*(NdotV*(1.0-a)+a);float GGXL=NdotV*(NdotL*(1.0-a)+a);return 0.5/(GGXV+GGXL);}vec3 F_Schlick(vec3 specularColor,vec3 f90,float VdotH)
{return specularColor+(f90-specularColor)*pow(clamp(1.0-VdotH,0.0,1.0),5.0);}vec3 F_SchlickFast(vec3 specularColor,float VdotH)
{float x=1.0-VdotH;float x4=x*x*x*x;return specularColor+(1.0-specularColor)*x4*x;}float D_GGX(highp float NdotH,float alphaRoughness)
{highp float a4=alphaRoughness*alphaRoughness;highp float f=(NdotH*a4-NdotH)*NdotH+1.0;return a4/(PI*f*f);}vec3 diffuseBurley(Material mat,float LdotH,float NdotL,float NdotV)
{float f90=2.0*LdotH*LdotH*mat.alphaRoughness-0.5;return (mat.diffuseColor/PI)*(1.0+f90*pow((1.0-NdotL),5.0))*(1.0+f90*pow((1.0-NdotV),5.0));}vec3 diffuseLambertian(Material mat)
{
#ifdef LIGHTING_3D_MODE
return mat.diffuseColor;
#else
return mat.diffuseColor/PI;
#endif
}vec3 EnvBRDFApprox(vec3 specularColor,float roughness,highp float NdotV)
{vec4 c0=vec4(-1,-0.0275,-0.572,0.022);vec4 c1=vec4(1,0.0425,1.04,-0.04);highp vec4 r=roughness*c0+c1;highp float a004=min(r.x*r.x,exp2(-9.28*NdotV))*r.x+r.y;vec2 AB=vec2(-1.04,1.04)*a004+r.zw;return specularColor*AB.x+AB.y;}vec3 computeIndirectLightContribution(Material mat,float NdotV,vec3 normal)
{vec3 env_light=vec3(0.65,0.65,0.65);
#ifdef LIGHTING_3D_MODE
float ambient_factor=calculate_ambient_directional_factor(normal);env_light=u_lighting_ambient_color*ambient_factor;
#endif
vec3 envBRDF=EnvBRDFApprox(mat.specularColor,mat.perceptualRoughness,NdotV);vec3 indirectSpecular= envBRDF*env_light;vec3 indirectDiffuse=mat.diffuseColor*env_light;return indirectSpecular+indirectDiffuse;}vec3 computeLightContribution(Material mat,vec3 lightPosition,vec3 lightColor)
{highp vec3 n=mat.normal;highp vec3 v=normalize(-v_position_height.xyz);highp vec3 l=normalize(lightPosition);highp vec3 h=normalize(v+l);float NdotV=clamp(abs(dot(n,v)),0.001,1.0);float NdotL=saturate(dot(n,l));highp float NdotH=saturate(dot(n,h));float VdotH=saturate(dot(v,h));vec3 f=F_SchlickFast(mat.specularColor,VdotH);float g=V_GGXFast(NdotL,NdotV,mat.alphaRoughness);float d=D_GGX(NdotH,mat.alphaRoughness);vec3 diffuseTerm=(1.0-f)*diffuseLambertian(mat);vec3 specularTerm=f*g*d;vec3 transformed_normal=vec3(-n.xy,n.z);float lighting_factor;
#ifdef RENDER_SHADOWS
lighting_factor=shadowed_light_factor_normal(transformed_normal,v_pos_light_view_0,v_pos_light_view_1,v_depth_shadows);
#else
lighting_factor=NdotL;
#endif
vec3 directLightColor=(specularTerm+diffuseTerm)*lighting_factor*lightColor;vec3 indirectLightColor=computeIndirectLightContribution(mat,NdotV,transformed_normal);vec3 color=(saturate(directLightColor)+indirectLightColor);float intensityFactor=1.0;
#if !defined(LIGHTING_3D_MODE)
const vec3 luminosityFactor=vec3(0.2126,0.7152,0.0722);float luminance=dot(diffuseTerm,luminosityFactor);intensityFactor=mix((1.0-u_lightintensity),max((1.0-luminance+u_lightintensity),1.0),NdotL);
#endif
color*=intensityFactor;return color;}void main() {
#ifdef TERRAIN_FRAGMENT_OCCLUSION
if (isOccluded()) {discard;}
#endif
vec3 lightDir=u_lightpos;vec3 lightColor=u_lightcolor;
#ifdef LIGHTING_3D_MODE
lightDir=u_lighting_directional_dir;lightDir.xy=-lightDir.xy;lightColor=u_lighting_directional_color;
#endif
vec4 finalColor;
#ifdef DIFFUSE_SHADED
vec3 N=getNormal();vec3 baseColor=getBaseColor().rgb;vec3 diffuse=getDiffuseShadedColor(baseColor,N,lightDir,lightColor);
#ifdef HAS_TEXTURE_u_occlusionTexture
float ao=(texture(u_occlusionTexture,uv_2f).r-1.0)*u_aoIntensity+1.0;diffuse*=ao;
#endif
finalColor=vec4(mix(diffuse,baseColor,u_emissive_strength),1.0)*u_opacity;
#else
Material mat=getPBRMaterial();vec3 color=computeLightContribution(mat,lightDir,lightColor);float ao=1.0;
#if defined (HAS_TEXTURE_u_occlusionTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)
#ifdef OCCLUSION_TEXTURE_TRANSFORM
vec2 uv=uv_2f.xy*u_occlusionTextureTransform.zw+u_occlusionTextureTransform.xy;
#else
vec2 uv=uv_2f;
#endif
ao=(texture(u_occlusionTexture,uv).x-1.0)*u_aoIntensity+1.0;color*=ao;
#endif
vec4 emissive=u_emissiveFactor;
#if defined(HAS_TEXTURE_u_emissionTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)
emissive.rgb*=sRGBToLinear(texture(u_emissionTexture,uv_2f).rgb);
#endif
color+=emissive.rgb;float opacity=mat.baseColor.w*u_opacity;
#ifdef HAS_ATTRIBUTE_a_pbr
float resEmission=v_roughness_metallic_emissive_alpha.z;resEmission*=v_height_based_emission_params.z+v_height_based_emission_params.w*pow(clamp(v_height_based_emission_params.x,0.0,1.0),v_height_based_emission_params.y);color=mix(color,v_color_mix.rgb,min(1.0,resEmission));
#ifdef HAS_ATTRIBUTE_a_color_4f
float distance=length(vec2(1.3*max(0.0,abs(color_4f.x)-color_4f.z),color_4f.y));distance+= mix(0.5,0.0,clamp(resEmission-1.0,0.0,1.0));opacity*=v_roughness_metallic_emissive_alpha.w*saturate(1.0-distance*distance);
#endif
#endif
vec3 unlitColor=mat.baseColor.rgb*ao+emissive.rgb;color=mix(color,unlitColor,u_emissive_strength);color=linearTosRGB(color);color*=opacity;finalColor=vec4(color,opacity);
#endif
#ifdef FOG
finalColor=fog_dither(fog_apply_premultiplied(finalColor,v_fog_pos,v_position_height.w));
#endif
#ifdef RENDER_CUTOFF
finalColor*=v_cutoff_opacity;
#endif
#ifdef INDICATOR_CUTOUT
finalColor=applyCutout(finalColor);
#endif
glFragColor=finalColor;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
in vec3 a_pos_3f;
#pragma mapbox: define-attribute highp vec3 normal_3f
#pragma mapbox: define-attribute highp vec2 uv_2f
#pragma mapbox: define-attribute highp vec3 color_3f
#pragma mapbox: define-attribute highp vec4 color_4f
#pragma mapbox: define-attribute-vertex-shader-only highp vec4 pbr
#pragma mapbox: define-attribute-vertex-shader-only highp vec3 heightBasedEmissiveStrength
uniform mat4 u_matrix;uniform mat4 u_lighting_matrix;uniform vec3 u_camera_pos;uniform vec4 u_color_mix;
#ifdef INSTANCED_ARRAYS
in vec4 a_normal_matrix0;in vec4 a_normal_matrix1;in vec4 a_normal_matrix2;in vec4 a_normal_matrix3;
#else
uniform highp mat4 u_normal_matrix;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out vec4 v_pos_light_view_0;out vec4 v_pos_light_view_1;out float v_depth_shadows;
#endif
out vec4 v_position_height;out lowp vec4 v_color_mix;
#ifdef TERRAIN_FRAGMENT_OCCLUSION
out highp float v_depth;
#endif
#ifdef HAS_ATTRIBUTE_a_pbr
out lowp vec4 v_roughness_metallic_emissive_alpha;out mediump vec4 v_height_based_emission_params;
#endif
vec3 sRGBToLinear(vec3 srgbIn) {return pow(srgbIn,vec3(2.2));}void main() {
#pragma mapbox: initialize-attribute highp vec3 normal_3f
#pragma mapbox: initialize-attribute highp vec2 uv_2f
#pragma mapbox: initialize-attribute highp vec3 color_3f
#pragma mapbox: initialize-attribute highp vec4 color_4f
#pragma mapbox: initialize-attribute-custom highp vec4 pbr
#pragma mapbox: initialize-attribute-custom highp vec3 heightBasedEmissiveStrength
highp mat4 normal_matrix;
#ifdef INSTANCED_ARRAYS
normal_matrix=mat4(a_normal_matrix0,a_normal_matrix1,a_normal_matrix2,a_normal_matrix3);
#else
normal_matrix=u_normal_matrix;
#endif
vec3 local_pos;mat3 rs;
#ifdef MODEL_POSITION_ON_GPU
vec3 pos_color=normal_matrix[0].xyz;vec4 translate=normal_matrix[1];vec3 pos_a=floor(pos_color);vec3 rgb=1.05*(pos_color-pos_a);float color_mix=pos_a.z/100.0;v_color_mix=vec4(sRGBToLinear(rgb),color_mix);float meter_to_tile=normal_matrix[0].w;vec4 pos=vec4(pos_a.xy,translate.z,1.0);rs[0].x=normal_matrix[1].w;rs[0].yz=normal_matrix[2].xy;rs[1].xy=normal_matrix[2].zw;rs[1].z=normal_matrix[3].x;rs[2].xyz=normal_matrix[3].yzw;vec4 pos_node=u_lighting_matrix*vec4(a_pos_3f,1.0);vec3 rotated_pos_node=rs*pos_node.xyz;vec3 pos_model_tile=(rotated_pos_node+vec3(translate.xy,0.0))*vec3(meter_to_tile,meter_to_tile,1.0);pos.xyz+=pos_model_tile;local_pos=pos.xyz;gl_Position=u_matrix*pos;pos.z*=meter_to_tile;v_position_height.xyz=pos.xyz-u_camera_pos;
#else
local_pos=a_pos_3f;gl_Position=u_matrix*vec4(a_pos_3f,1);v_position_height.xyz=vec3(u_lighting_matrix*vec4(a_pos_3f,1));v_color_mix=vec4(sRGBToLinear(u_color_mix.rgb),u_color_mix.a);
#endif
v_position_height.w=a_pos_3f.z;
#ifdef HAS_ATTRIBUTE_a_pbr
vec4 albedo_c=decode_color(pbr.xy);vec2 e_r_m=unpack_float(pbr.z);vec2 r_m= unpack_float(e_r_m.y*16.0);r_m.r=r_m.r*16.0;v_color_mix=vec4(albedo_c.rgb,1.0);v_roughness_metallic_emissive_alpha=vec4(vec3(r_m,e_r_m.x)/255.0,albedo_c.a);v_roughness_metallic_emissive_alpha.z*=2.0;float heightBasedRelativeIntepolation=a_pos_3f.z*heightBasedEmissiveStrength.x+heightBasedEmissiveStrength.y;v_height_based_emission_params.x=heightBasedRelativeIntepolation;v_height_based_emission_params.y=heightBasedEmissiveStrength.z;vec2 emissionMultiplierValues=unpack_float(pbr.w)/256.0;v_height_based_emission_params.z=emissionMultiplierValues.x;v_height_based_emission_params.w=emissionMultiplierValues.y-emissionMultiplierValues.x;
#endif
#ifdef FOG
v_fog_pos=fog_position(local_pos);
#endif
#ifdef RENDER_CUTOFF
v_cutoff_opacity=cutoff_opacity(u_cutoff_params,gl_Position.z);
#endif
#ifdef TERRAIN_FRAGMENT_OCCLUSION
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef HAS_ATTRIBUTE_a_normal_3f
#ifdef MODEL_POSITION_ON_GPU
float x_squared_scale=dot(rs[0],rs[0]);float y_squared_scale=dot(rs[1],rs[1]);float z_squared_scale=dot(rs[2],rs[2]);vec3 squared_scale=vec3(x_squared_scale,y_squared_scale,z_squared_scale);normal_3f=rs*((u_lighting_matrix*vec4(normal_3f,0.0)).xyz/squared_scale);normal_3f=normalize(normal_3f);
#else
normal_3f=vec3(normal_matrix*vec4(normal_3f,0));
#endif
#endif
#ifdef HAS_ATTRIBUTE_a_pbr
#ifdef HAS_ATTRIBUTE_a_color_4f
v_roughness_metallic_emissive_alpha.w=clamp(color_4f.a*v_roughness_metallic_emissive_alpha.w*(v_roughness_metallic_emissive_alpha.z-1.0),0.0,1.0);
#endif
#endif
#ifdef RENDER_SHADOWS
vec3 shadow_pos=local_pos;
#ifdef NORMAL_OFFSET
#ifdef HAS_ATTRIBUTE_a_normal_3f
#ifdef MODEL_POSITION_ON_GPU
vec3 offset=shadow_normal_offset(vec3(-normal_3f.xy,normal_3f.z));shadow_pos+=offset*shadow_normal_offset_multiplier0();
#else
vec3 offset=shadow_normal_offset_model(normalize(normal_3f));shadow_pos+=offset*shadow_normal_offset_multiplier0();
#endif
#endif
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shadow_pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(shadow_pos,1);v_depth_shadows=gl_Position.w;
#endif
}`),modelDepth:ea(`in highp float v_depth;void main() {
#ifndef DEPTH_TEXTURE
glFragColor=pack_depth(v_depth);
#endif
}`,`in vec3 a_pos_3f;uniform mat4 u_matrix;out highp float v_depth;
#ifdef MODEL_POSITION_ON_GPU
#ifdef INSTANCED_ARRAYS
in vec4 a_normal_matrix0;in vec4 a_normal_matrix1;in vec4 a_normal_matrix2;in vec4 a_normal_matrix3;
#else
uniform highp mat4 u_instance;
#endif
uniform highp mat4 u_node_matrix;
#endif
void main() {
#ifdef MODEL_POSITION_ON_GPU
highp mat4 instance;
#ifdef INSTANCED_ARRAYS
instance=mat4(a_normal_matrix0,a_normal_matrix1,a_normal_matrix2,a_normal_matrix3);
#else
instance=u_instance;
#endif
vec3 pos_color=instance[0].xyz;vec4 translate=instance[1];vec3 pos_a=floor(pos_color);float meter_to_tile=instance[0].w;vec4 pos=vec4(pos_a.xy,translate.z,1.0);mat3 rs;rs[0].x=instance[1].w;rs[0].yz=instance[2].xy;rs[1].xy=instance[2].zw;rs[1].z=instance[3].x;rs[2].xyz=instance[3].yzw;vec4 pos_node=u_node_matrix*vec4(a_pos_3f,1.0);vec3 rotated_pos_node=rs*pos_node.xyz;vec3 pos_model_tile=(rotated_pos_node+vec3(translate.xy,0.0))*vec3(meter_to_tile,meter_to_tile,1.0);pos.xyz+=pos_model_tile;gl_Position=u_matrix*pos;
#else
gl_Position=u_matrix*vec4(a_pos_3f,1);
#endif
v_depth=gl_Position.z/gl_Position.w;}`),stars:ea(`in highp vec2 v_uv;in mediump float v_intensity;float shapeCircle(in vec2 uv)
{float beginFade=0.6;float lengthFromCenter=length(v_uv);return 1.0-clamp((lengthFromCenter-beginFade)/(1.0-beginFade),0.0,1.0);}void main() {float alpha=shapeCircle(v_uv);vec3 color=vec3(1.0,1.0,1.0);alpha*=v_intensity;glFragColor=vec4(color*alpha,alpha);HANDLE_WIREFRAME_DEBUG;}`,`
in vec3 a_pos_3f;in vec2 a_uv;in float a_size_scale;in float a_fade_opacity;uniform mat4 u_matrix;uniform vec3 u_up;uniform vec3 u_right;uniform float u_intensity_multiplier;out highp vec2 v_uv;out mediump float v_intensity;void main() {v_uv=a_uv;v_intensity=a_fade_opacity*u_intensity_multiplier;vec3 pos=a_pos_3f;pos+=a_uv.x*u_right*a_size_scale;pos+=a_uv.y*u_up*a_size_scale;gl_Position=u_matrix*vec4(pos,1.0);}`)};function md(w,d){const g=w.replace(/\s*\/\/[^\n]*\n/g,`
`).split(`
`);for(let x of g)if(x=x.trim(),x[0]==="#"&&x.includes("if")&&!x.includes("endif")){x=x.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const B=x.split(" ");for(const L of B)d.includes(L)||d.push(L)}}function ea(w,d){const g=/#include\s+"([^"]+)"/g,x=/#pragma mapbox: ([\w\-]+) ([\w]+) ([\w]+) ([\w]+)/g;let B=d.match(/(attribute(\S*)|(^\s*|;)in) (highp |mediump |lowp )?([\w]+) ([\w]+)/gm);B&&(B=B.map(ae=>{const de=ae.split(" ");return de[de.length-1]}),B=[...new Set(B)]);const L={},D=[],$=[];if(w=w.replace(g,(ae,de)=>($.push(de),"")),(d=d.replace(g,(ae,de)=>(D.push(de),""))).includes("flat out"))return void console.error('The usage of "flat" qualifier is disallowed, see: https://bugs.webkit.org/show_bug.cgi?id=268071');let Y=[...Ad];md(w,Y),md(d,Y);for(const ae of[...D,...$])Jl[ae]||console.error(`Undefined include: ${ae}`),lp[ae]||(lp[ae]=[],md(Jl[ae],lp[ae])),Y=[...Y,...lp[ae]];return{fragmentSource:w=w.replace(x,(ae,de,Ae,Ce,Me)=>(L[Me]=!0,de==="define"?`
#ifndef HAS_UNIFORM_u_${Me}
in ${Ae} ${Ce} ${Me};
#else
uniform ${Ae} ${Ce} u_${Me};
#endif
`:de==="initialize"?`
#ifdef HAS_UNIFORM_u_${Me}
    ${Ae} ${Ce} ${Me} = u_${Me};
#endif
`:de==="define-attribute"?`
#ifdef HAS_ATTRIBUTE_a_${Me}
    in ${Ae} ${Ce} ${Me};
#endif
`:de==="initialize-attribute"?"":void 0)),vertexSource:d=d.replace(x,(ae,de,Ae,Ce,Me)=>{const He=Ce==="float"?"vec2":Ce,$e=Me.match(/color/)?"color":He;return de==="define-attribute-vertex-shader-only"?`
#ifdef HAS_ATTRIBUTE_a_${Me}
in ${Ae} ${Ce} a_${Me};
#endif
`:L[Me]?de==="define"?`
#ifndef HAS_UNIFORM_u_${Me}
uniform lowp float u_${Me}_t;
in ${Ae} ${He} a_${Me};
out ${Ae} ${Ce} ${Me};
#else
uniform ${Ae} ${Ce} u_${Me};
#endif
`:de==="initialize"?$e==="vec4"?`
#ifndef HAS_UNIFORM_u_${Me}
    ${Me} = a_${Me};
#else
    ${Ae} ${Ce} ${Me} = u_${Me};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Me}
    ${Me} = unpack_mix_${$e}(a_${Me}, u_${Me}_t);
#else
    ${Ae} ${Ce} ${Me} = u_${Me};
#endif
`:de==="define-attribute"?`
#ifdef HAS_ATTRIBUTE_a_${Me}
    in ${Ae} ${Ce} a_${Me};
    out ${Ae} ${Ce} ${Me};
#endif
`:de==="initialize-attribute"?`
#ifdef HAS_ATTRIBUTE_a_${Me}
    ${Me} = a_${Me};
#endif
`:void 0:de==="define"?`
#ifndef HAS_UNIFORM_u_${Me}
uniform lowp float u_${Me}_t;
in ${Ae} ${He} a_${Me};
#else
uniform ${Ae} ${Ce} u_${Me};
#endif
`:de==="define-instanced"?$e==="mat4"?`
#ifdef INSTANCED_ARRAYS
in vec4 a_${Me}0;
in vec4 a_${Me}1;
in vec4 a_${Me}2;
in vec4 a_${Me}3;
#else
uniform ${Ae} ${Ce} u_${Me};
#endif
`:`
#ifdef INSTANCED_ARRAYS
in ${Ae} ${He} a_${Me};
#else
uniform ${Ae} ${Ce} u_${Me};
#endif
`:de==="initialize-attribute-custom"?`
#ifdef HAS_ATTRIBUTE_a_${Me}
    ${Ae} ${Ce} ${Me} = a_${Me};
#endif
`:$e==="vec4"?`
#ifndef HAS_UNIFORM_u_${Me}
    ${Ae} ${Ce} ${Me} = a_${Me};
#else
    ${Ae} ${Ce} ${Me} = u_${Me};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Me}
    ${Ae} ${Ce} ${Me} = unpack_mix_${$e}(a_${Me}, u_${Me}_t);
#else
    ${Ae} ${Ce} ${Me} = u_${Me};
#endif
`}),staticAttributes:B,usedDefines:Y,vertexIncludes:D,fragmentIncludes:$}}class eg{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(d,g,x,B,L,D,$,Y){this.context=d;let ae=this.boundPaintVertexBuffers.length!==B.length;for(let Ae=0;!ae&&Ae<B.length;Ae++)this.boundPaintVertexBuffers[Ae]!==B[Ae]&&(ae=!0);let de=this.boundDynamicVertexBuffers.length!==$.length;for(let Ae=0;!de&&Ae<$.length;Ae++)this.boundDynamicVertexBuffers[Ae]!==$[Ae]&&(de=!0);if(!this.vao||this.boundProgram!==g||this.boundLayoutVertexBuffer!==x||ae||de||this.boundIndexBuffer!==L||this.boundVertexOffset!==D)this.freshBind(g,x,B,L,D,$,Y);else{d.bindVertexArrayOES.set(this.vao);for(const Ae of $)Ae&&(Ae.bind(),Y&&Ae.instanceCount&&Ae.setVertexAttribDivisor(d.gl,g,Y));L&&L.dynamicDraw&&L.bind()}}freshBind(d,g,x,B,L,D,$){const Y=d.numAttributes,ae=this.context,de=ae.gl;this.vao&&this.destroy(),this.vao=ae.gl.createVertexArray(),ae.bindVertexArrayOES.set(this.vao),this.boundProgram=d,this.boundLayoutVertexBuffer=g,this.boundPaintVertexBuffers=x,this.boundIndexBuffer=B,this.boundVertexOffset=L,this.boundDynamicVertexBuffers=D,g.enableAttributes(de,d),g.bind(),g.setVertexAttribPointers(de,d,L);for(const Ae of x)Ae.enableAttributes(de,d),Ae.bind(),Ae.setVertexAttribPointers(de,d,L);for(const Ae of D)Ae&&(Ae.enableAttributes(de,d),Ae.bind(),Ae.setVertexAttribPointers(de,d,L),$&&Ae.instanceCount&&Ae.setVertexAttribDivisor(de,d,$));B&&B.bind(),ae.currentNumAttributes=Y}destroy(){this.vao&&(this.context.gl.deleteVertexArray(this.vao),this.vao=null)}}function D0(w,d){const g=Math.pow(2,d.canonical.z),x=d.canonical.y;return[new a.L(0,x/g).toLngLat().lat,new a.L(0,(x+1)/g).toLngLat().lat]}function MA(w,d,g,x,B,L,D){const $=w.context,Y=$.gl,ae=g.hillshadeFBO;if(!ae)return;w.prepareDrawTile();const de=w.isTileAffectedByFog(d),Ae=w.getOrCreateProgram("hillshade",{overrideFog:de});$.activeTexture.set(Y.TEXTURE0),Y.bindTexture(Y.TEXTURE_2D,ae.colorAttachment.get());const Ce=((Ke,Pe,Ze,pt)=>{const st=Ze.paint.get("hillshade-shadow-color"),At=Ze.paint.get("hillshade-highlight-color"),qe=Ze.paint.get("hillshade-accent-color"),mt=Ze.paint.get("hillshade-emissive-strength");let Pt=a.bj(Ze.paint.get("hillshade-illumination-direction"));if(Ze.paint.get("hillshade-illumination-anchor")==="viewport")Pt-=Ke.transform.angle;else if(Ke.style&&Ke.style.enable3dLights()&&Ke.style.directionalLight){const Qt=Ke.style.directionalLight.properties.get("direction"),fn=a.bQ(Qt.x,Qt.y,Qt.z);Pt=a.bj(fn[1])}const Ot=!Ke.options.moving;return{u_matrix:pt||Ke.transform.calculateProjMatrix(Pe.tileID.toUnwrapped(),Ot),u_image:0,u_latrange:D0(0,Pe.tileID),u_light:[Ze.paint.get("hillshade-exaggeration"),Pt],u_shadow:st,u_highlight:At,u_emissive_strength:mt,u_accent:qe}})(w,g,x,w.terrain?d.projMatrix:null);w.uploadCommonUniforms($,Ae,d.toUnwrapped());const{tileBoundsBuffer:Me,tileBoundsIndexBuffer:He,tileBoundsSegments:$e}=w.getTileBoundsBuffers(g);Ae.draw(w,Y.TRIANGLES,B,L,D,Vr.disabled,Ce,x.id,Me,He,$e)}function eb(w,d,g){if(!d.needsDEMTextureUpload)return;const x=w.context,B=x.gl;x.pixelStoreUnpackPremultiplyAlpha.set(!1),d.demTexture=d.demTexture||w.getTileTexture(g.stride);const L=g.getPixels();d.demTexture?d.demTexture.update(L,{premultiply:!1}):d.demTexture=new a.T(x,L,B.R32F,{premultiply:!1}),d.needsDEMTextureUpload=!1}function V1(w,d,g){const x=w.context,B=x.gl;if(!d.dem)return;const L=d.dem;if(x.activeTexture.set(B.TEXTURE1),eb(w,d,L),!d.demTexture)return;d.demTexture.bind(B.NEAREST,B.CLAMP_TO_EDGE);const D=L.dim;x.activeTexture.set(B.TEXTURE0);let $=d.hillshadeFBO;if(!$){const Ce=new a.T(x,{width:D,height:D,data:null},B.RGBA);Ce.bind(B.LINEAR,B.CLAMP_TO_EDGE),$=d.hillshadeFBO=x.createFramebuffer(D,D,!0,"renderbuffer"),$.colorAttachment.set(Ce.texture)}x.bindFramebuffer.set($.framebuffer),x.viewport.set([0,0,D,D]);const{tileBoundsBuffer:Y,tileBoundsIndexBuffer:ae,tileBoundsSegments:de}=w.getMercatorTileBoundsBuffers(),Ae=[];w.linearFloatFilteringSupported()&&Ae.push("TERRAIN_DEM_FLOAT_FORMAT"),w.getOrCreateProgram("hillshadePrepare",{defines:Ae}).draw(w,B.TRIANGLES,rr.disabled,si.disabled,Ii.unblended,Vr.disabled,((Ce,Me)=>{const He=Me.stride,$e=a.a6.create();return a.a6.ortho($e,0,a.V,-a.V,0,0,1),a.a6.translate($e,$e,[0,-a.V,0]),{u_matrix:$e,u_image:1,u_dimension:[He,He],u_zoom:Ce.overscaledZ}})(d.tileID,L),g.id,Y,ae,de),d.needsHillshadePrepare=!1}const H1=w=>({u_matrix:new a.bK(w),u_image0:new a.bO(w),u_skirt_height:new a.bN(w),u_ground_shadow_factor:new a.bM(w)}),N0=(w,d,g)=>({u_matrix:w,u_image0:0,u_skirt_height:d,u_ground_shadow_factor:g}),tb=(w,d,g,x,B,L,D,$,Y,ae,de,Ae,Ce,Me,He,$e)=>({u_proj_matrix:Float32Array.from(w),u_globe_matrix:d,u_normalize_matrix:Float32Array.from(x),u_merc_matrix:g,u_zoom_transition:B,u_merc_center:L,u_image0:0,u_frustum_tl:D,u_frustum_tr:$,u_frustum_br:Y,u_frustum_bl:ae,u_globe_pos:de,u_globe_radius:Ae,u_viewport:Ce,u_grid_matrix:$e?Float32Array.from($e):new Float32Array(9),u_skirt_height:Me,u_far_z_cutoff:He});function tg(w,d){return w!=null&&d!=null&&!(!w.hasData()||!d.hasData())&&w.demTexture!=null&&d.demTexture!=null&&w.tileID.key!==d.tileID.key}const IA=new class{constructor(){this.operations={}}newMorphing(w,d,g,x,B){if(w in this.operations){const L=this.operations[w];L.to.tileID.key!==g.tileID.key&&(L.queued=g)}else this.operations[w]={startTime:x,phase:0,duration:B,from:d,to:g,queued:null}}getMorphValuesForProxy(w){if(!(w in this.operations))return null;const d=this.operations[w];return{from:d.from,to:d.to,phase:d.phase}}update(w){for(const d in this.operations){const g=this.operations[d];for(g.phase=(w-g.startTime)/g.duration;g.phase>=1||!this._validOp(g);)if(!this._nextOp(g,w)){delete this.operations[d];break}}}_nextOp(w,d){return!!w.queued&&(w.from=w.to,w.to=w.queued,w.queued=null,w.phase=0,w.startTime=d,!0)}_validOp(w){return w.from.hasData()&&w.to.hasData()}},Q1={0:null,1:"TERRAIN_VERTEX_MORPHING"};function ng(w,d,g){if(d===0)return 0;const x=d<1&&g===514?.25/d:1;return 6*Math.pow(1.5,22-w)*Math.max(d,1)*x}function af(w,d){const g=1<<w.z;return!d&&(w.x===0||w.x===g-1)||w.y===0||w.y===g-1}const cp=w=>({u_matrix:w});function j1(w,d,g,x,B){if(B>0){const L=a.f.now(),D=(L-w.timeAdded)/B,$=d?(L-d.timeAdded)/B:-1,Y=g.getSource(),ae=x.coveringZoomLevel({tileSize:Y.tileSize,roundZoom:Y.roundZoom}),de=!d||Math.abs(d.tileID.overscaledZ-ae)>Math.abs(w.tileID.overscaledZ-ae),Ae=de&&w.refreshedUponExpiration?1:a.aa(de?D:1-$,0,1);return w.refreshedUponExpiration&&D>=1&&(w.refreshedUponExpiration=!1),d?{opacity:1,mix:1-Ae}:{opacity:Ae,mix:0}}return{opacity:1,mix:0}}class Ex extends Fu{constructor(d){const g={type:"raster-dem",maxzoom:d.transform.maxZoom},x=new a.bW(a.bX(),null),B=qs("mock-dem",g,x,d.style);super("mock-dem",B,!1),B.setEventedParent(this),this._sourceLoaded=!0}_loadTile(d,g){d.state="loaded",g(null)}}class nb extends Fu{constructor(d){const g=qs("proxy",{type:"geojson",maxzoom:d.transform.maxZoom},new a.bW(a.bX(),null),d.style);super("proxy",g,!1),g.setEventedParent(this),this.map=this.getSource().map=d,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(d,g,x){if(d.freezeTileCoverage)return;this.transform=d;const B=d.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((L,D)=>{if(L[D.key]="",!this._tiles[D.key]){const $=new ku(D,this._source.tileSize*D.overscaleFactor(),d.tileZoom);$.state="loaded",this._tiles[D.key]=$}return L},{});for(const L in this._tiles)L in B||(this.freeFBO(L),this._tiles[L].unloadVectorData(),delete this._tiles[L])}freeFBO(d){const g=this.proxyCachedFBO[d];if(g!==void 0){const x=Object.values(g);this.renderCachePool.push(...x),delete this.proxyCachedFBO[d]}}deallocRenderCache(){this.renderCache.forEach(d=>d.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class rb extends a.am{constructor(d,g,x){super(d.overscaledZ,d.wrap,d.canonical.z,d.canonical.x,d.canonical.y),this.proxyTileKey=g,this.projMatrix=x}}class Sx extends a.ck{constructor(d,g){super(),this._debugParams={sortTilesHiZFirst:!0,disableRenderCache:!1},d.tp.registerParameter(this._debugParams,["Terrain"],"sortTilesHiZFirst",{},()=>{this._style.map.triggerRepaint()}),d.tp.registerParameter(this._debugParams,["Terrain"],"disableRenderCache",{},()=>{this._style.map.triggerRepaint()}),d.tp.registerButton(["Terrain"],"Invalidate Render Cache",()=>{this.invalidateRenderCache=!0,this._style.map.triggerRepaint()}),this.painter=d,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[x,B,L]=function(Y){const ae=new a.aN,de=new a.aw,Ae=131;ae.reserve(17161),de.reserve(33800);const Ce=a.V/128,Me=a.V+Ce/2,He=Me+Ce;for(let Ke=-Ce;Ke<He;Ke+=Ce)for(let Pe=-Ce;Pe<He;Pe+=Ce){const Ze=Pe<0||Pe>Me||Ke<0||Ke>Me?24575:0,pt=a.aa(Math.round(Pe),0,a.V),st=a.aa(Math.round(Ke),0,a.V);ae.emplaceBack(pt+Ze,st)}const $e=(Ke,Pe)=>{const Ze=Pe*Ae+Ke;de.emplaceBack(Ze+1,Ze,Ze+Ae),de.emplaceBack(Ze+Ae,Ze+Ae+1,Ze+1)};for(let Ke=1;Ke<129;Ke++)for(let Pe=1;Pe<129;Pe++)$e(Pe,Ke);return[0,129].forEach(Ke=>{for(let Pe=0;Pe<130;Pe++)$e(Pe,Ke),$e(Ke,Pe)}),[ae,de,32768]}(),D=d.context;this.gridBuffer=D.createVertexBuffer(x,a.aP.members),this.gridIndexBuffer=D.createIndexBuffer(B),this.gridSegments=a.aB.simpleSegment(0,0,x.length,B.length),this.gridNoSkirtSegments=a.aB.simpleSegment(0,0,x.length,L),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new nb(g.map),this.orthoMatrix=a.a6.create(),a.a6.ortho(this.orthoMatrix,this.painter.transform.projection.name==="globe"?.015:0,a.V,0,a.V,0,1);const $=D.gl;this._overlapStencilMode=new si({func:$.GEQUAL,mask:255},0,255,$.KEEP,$.KEEP,$.REPLACE),this._previousZoom=d.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=g,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new Ex(g.map),this._pendingGroundEffectLayers=[]}set style(d){d.on("data",this._onStyleDataEvent.bind(this)),this._style=d,this._style.map.on("moveend",()=>{this._clearLineLayersFromRenderCache()})}update(d,g,x){if(d&&d.terrain){this._style!==d&&(this.style=d,this._evaluationZoom=void 0);const B=d.terrain.properties,L=d.terrain.drapeRenderMode===0,D=d.terrain.isZoomDependent();this._previousUpdateTimestamp=this.enabled?this._updateTimestamp:void 0,this._updateTimestamp=a.f.now();const $=d.terrain&&d.terrain.scope,Y=B.get("source"),ae=L?this._mockSourceCache:d.getSourceCache(Y,$);if(!ae)return void a.w(`Couldn't find terrain source "${Y}".`);if(this.sourceCache=ae,this._exaggeration=D?this.calculateExaggeration(g):B.get("exaggeration"),!g.projection.requiresDraping&&D&&this._exaggeration===0)return void this._disable();this.enabled=!0;const de=()=>{this.sourceCache.used&&a.w(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const Ae=this.getScaledDemTileSize();this.sourceCache.update(g,Ae,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,de(),this._initializing=!0),de(),g.updateElevation(!0,x),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(g),this._emptyDEMTextureDirty=!0,this._previousZoom=g.zoom}else this._disable()}calculateExaggeration(d){const g=this._previousCameraAltitude,x=d.getFreeCameraOptions().position.z/d.pixelsPerMeter*d.worldSize;this._previousCameraAltitude=x;const B=g!=null?x-g:Number.MAX_VALUE;if(Math.abs(B)<2)return this._exaggeration;const L=d.zoom,D=this._style.terrain;if(!this._previousUpdateTimestamp)return D.getExaggeration(L);let $=L-this._previousZoom;const Y=this._previousUpdateTimestamp;let ae=L;this._evaluationZoom!=null&&(ae=this._evaluationZoom,Math.abs(L-ae)>.5&&($=.5*(L-ae+$)),$*B<0&&(ae+=$)),this._evaluationZoom=ae;const de=D.getExaggeration(ae),Ae=de===D.getExaggeration(Math.max(0,ae-.1));if(Ae&&Math.abs(de-this._exaggeration)<.01)return de;let Ce=Math.min(.1,.00375*(this._updateTimestamp-Y));return(Ae||de<.1||Math.abs($)<1e-4)&&(Ce=Math.min(.2,4*Ce)),a.U(this._exaggeration,de,Ce)}resetTileLookupCache(d){this._findCoveringTileCache[d]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_onStyleDataEvent(d){d.coord&&d.dataType==="source"?this._clearRenderCacheForTile(d.sourceCacheId,d.coord):d.dataType==="style"&&(this.invalidateRenderCache=!0,this._evaluationZoom=void 0,this._previousUpdateTimestamp=void 0,this._previousCameraAltitude=void 0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this._evaluationZoom=void 0,this._previousUpdateTimestamp=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const d in this._style._mergedSourceCaches)this._style._mergedSourceCaches[d].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(d=>d.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),this.framebufferCopyTexture&&this.framebufferCopyTexture.destroy()}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const d=2*this.proxySourceCache.getSource().tileSize;return[d,d]}set useVertexMorphing(d){this._useVertexMorphing=d}updateTileBinding(d){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const g=this.proxySourceCache,x=this.painter.transform;this._initializing&&(this._initializing=x._centerAltitude===0&&this.getAtPointOrZero(a.L.fromLngLat(x.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const B=this.proxyCoords=g.getIds().map(Y=>{const ae=g.getTileByID(Y).tileID;return ae.projMatrix=x.calculateProjMatrix(ae.toUnwrapped()),ae});(function(Y,ae){const de=ae.transform.pointCoordinate(ae.transform.getCameraPoint()),Ae=new a.P(de.x,de.y);Y.sort((Ce,Me)=>{if(Me.overscaledZ-Ce.overscaledZ)return Me.overscaledZ-Ce.overscaledZ;const He=new a.P(Ce.canonical.x+(1<<Ce.canonical.z)*Ce.wrap,Ce.canonical.y),$e=new a.P(Me.canonical.x+(1<<Me.canonical.z)*Me.wrap,Me.canonical.y),Ke=Ae.mult(1<<Ce.canonical.z);return Ke.x-=.5,Ke.y-=.5,Ke.distSqr(He)-Ke.distSqr($e)})})(B,this.painter);const L=this.proxyToSource||{};this.proxyToSource={},B.forEach(Y=>{this.proxyToSource[Y.key]={}}),this.terrainTileForTile={};const D=this._style._mergedSourceCaches;for(const Y in D){const ae=D[Y];if(!ae.used||(ae!==this.sourceCache&&this.resetTileLookupCache(ae.id),this._setupProxiedCoordsForOrtho(ae,d[Y],L),ae.usedForTerrain))continue;const de=d[Y];ae.getSource().reparseOverscaled&&this._assignTerrainTiles(de)}this.proxiedCoords[g.id]=B.map(Y=>new rb(Y,Y.key,this.orthoMatrix)),this._assignTerrainTiles(B),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(L),this.renderingToTexture=!1;const $={};this._visibleDemTiles=[];for(const Y of this.proxyCoords){const ae=this.terrainTileForTile[Y.key];if(!ae)continue;const de=ae.tileID.key;de in $||(this._visibleDemTiles.push(ae),$[de]=de)}}_assignTerrainTiles(d){this._initializing||d.forEach(g=>{if(this.terrainTileForTile[g.key])return;const x=this._findTileCoveringTileID(g,this.sourceCache);x&&(this.terrainTileForTile[g.key]=x)})}_prepareDEMTextures(){const d=this.painter.context,g=d.gl;for(const x in this.terrainTileForTile){const B=this.terrainTileForTile[x],L=B.dem;!L||B.demTexture&&!B.needsDEMTextureUpload||(d.activeTexture.set(g.TEXTURE1),eb(this.painter,B,L))}}_prepareDemTileUniforms(d,g,x,B){if(!g||g.demTexture==null)return!1;const L=d.tileID.canonical,D=Math.pow(2,g.tileID.canonical.z-L.z),$=B||"";return x[`u_dem_tl${$}`]=[L.x*D%1,L.y*D%1],x[`u_dem_scale${$}`]=D,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const d=this.painter.context,g=d.gl;if(!this._emptyDepthBufferTexture){const x=new a.h({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new a.T(d,x,g.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let d=0;const g=this._visibleDemTiles.reduce((x,B)=>{if(!B.dem)return x;const L=B.dem.tree.minimums[0];return L>0&&d++,x+L},0);return d?g/d:0}_updateEmptyDEMTexture(){const d=this.painter.context,g=d.gl;d.activeTexture.set(g.TEXTURE2);const x=this._getLoadedAreaMinimum(),[B,L]=(()=>{const $=new a.cm({width:1,height:1},new Float32Array([x]));return[g.R32F,$]})();this._emptyDEMTextureDirty=!1;let D=this._emptyDEMTexture;return D?D.update(L,{premultiply:!1}):D=this._emptyDEMTexture=new a.T(d,L,B,{premultiply:!1}),D}setupElevationDraw(d,g,x){const B=this.painter.context,L=B.gl,D={u_dem:2,u_dem_prev:4,u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0};D.u_exaggeration=this.exaggeration();let $=null,Y=null,ae=1;if(x&&x.morphing&&this._useVertexMorphing){const Ce=x.morphing.srcDemTile,Me=x.morphing.dstDemTile;ae=x.morphing.phase,Ce&&Me&&(this._prepareDemTileUniforms(d,Ce,D,"_prev")&&(Y=Ce),this._prepareDemTileUniforms(d,Me,D)&&($=Me))}const de=Ce=>Ce&&Ce.demTexture&&this.painter.linearFloatFilteringSupported()?L.LINEAR:L.NEAREST,Ae=Ce=>{D.u_dem_size=Ce.size[0]===1?1:Ce.size[0]-2};if(Y&&$)B.activeTexture.set(L.TEXTURE2),$.demTexture.bind(de($),L.CLAMP_TO_EDGE),B.activeTexture.set(L.TEXTURE4),Y.demTexture.bind(de(Y),L.CLAMP_TO_EDGE),$.demTexture&&Ae($.demTexture),D.u_dem_lerp=ae;else{$=this.terrainTileForTile[d.tileID.key],B.activeTexture.set(L.TEXTURE2);const Ce=this._prepareDemTileUniforms(d,$,D)?$.demTexture:this.emptyDEMTexture;Ce.bind(de($),L.CLAMP_TO_EDGE),Ae(Ce)}if(B.activeTexture.set(L.TEXTURE3),x&&x.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(L.NEAREST,L.CLAMP_TO_EDGE),this._depthFBO&&(D.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(L.NEAREST,L.CLAMP_TO_EDGE),D.u_depth_size_inv=[1,1]),x&&x.useMeterToDem&&$){const Ce=(1<<$.tileID.canonical.z)*a.bl(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;D.u_meter_to_dem=Ce}if(x&&x.labelPlaneMatrixInv&&(D.u_label_plane_matrix_inv=x.labelPlaneMatrixInv),g.setTerrainUniformValues(B,D),this.painter.transform.projection.name==="globe"){const Ce=this.globeUniformValues(this.painter.transform,d.tileID.canonical,x&&x.useDenormalizedUpVectorScale);g.setGlobeUniformValues(B,Ce)}}globeUniformValues(d,g,x){const B=d.projection;return{u_tile_tl_up:B.upVector(g,0,0),u_tile_tr_up:B.upVector(g,a.V,0),u_tile_br_up:B.upVector(g,a.V,a.V),u_tile_bl_up:B.upVector(g,0,a.V),u_tile_up_scale:x?a.cl(1):B.upVectorScale(g,d.center.lat,d.worldSize).metersToTile}}renderToBackBuffer(d){const g=this.painter,x=this.painter.context;d.length!==0&&(x.bindFramebuffer.set(null),x.viewport.set([0,0,g.width,g.height]),g.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(B,L,D,$,Y){if(B.transform.projection.name==="globe")(function(ae,de,Ae,Ce,Me){const He=ae.context,$e=He.gl;let Ke,Pe;const Ze=ae.transform,pt=a.cd(ae,He,Ze),st=(xn,_n)=>{if(Pe===_n)return;const $n=[Q1[_n],"PROJECTION_GLOBE_VIEW"];pt&&$n.push("CUSTOM_ANTIALIASING");const Yt=ae.isTileAffectedByFog(xn);Ke=ae.getOrCreateProgram("globeRaster",{defines:$n,overrideFog:Yt}),Pe=_n},At=ae.colorModeForRenderPass(),qe=new rr($e.LEQUAL,rr.ReadWrite,ae.depthRangeFor3D);IA.update(Me);const mt=a.ce(Ze),Pt=[a.a5(Ze.center.lng),a.ae(Ze.center.lat)],Ot=ae.globeSharedBuffers,Qt=[Ze.width*a.f.devicePixelRatio,Ze.height*a.f.devicePixelRatio],fn=Float32Array.from(Ze.globeMatrix),Wt={useDenormalizedUpVectorScale:!0};{const xn=ae.transform,_n=ng(xn.zoom,de.exaggeration(),de.sourceCache._source.tileSize);Pe=-1;const $n=$e.TRIANGLES;for(const Yt of Ce){const mn=Ae.getTile(Yt),$t=si.disabled,on=de.prevTerrainTileForTile[Yt.key],Kn=de.terrainTileForTile[Yt.key];tg(on,Kn)&&IA.newMorphing(Yt.key,on,Kn,Me,250),He.activeTexture.set($e.TEXTURE0),mn.texture&&mn.texture.bind($e.LINEAR,$e.CLAMP_TO_EDGE);const ir=IA.getMorphValuesForProxy(Yt.key),nr=ir?1:0;ir&&a.j(Wt,{morphing:{srcDemTile:ir.from,dstDemTile:ir.to,phase:a.cc(ir.phase)}});const pr=a.cf(Yt.canonical),Ir=a.cg(pr.getCenter().lat),jr=a.ch(Yt.canonical,pr,Ir,xn.worldSize/xn._pixelsPerMercatorPixel),Nr=a.aT(a.ci(Yt.canonical)),zr=tb(xn.expandedFarZProjMatrix,fn,mt,Nr,a.S(xn.zoom),Pt,xn.frustumCorners.TL,xn.frustumCorners.TR,xn.frustumCorners.BR,xn.frustumCorners.BL,xn.globeCenterInViewSpace,xn.globeRadius,Qt,_n,xn._farZ,jr);if(st(Yt,nr),Ke&&(de.setupElevationDraw(mn,Ke,Wt),ae.uploadCommonUniforms(He,Ke,Yt.toUnwrapped()),Ot)){const[Ri,hi,Ei]=Ot.getGridBuffers(Ir,_n!==0);Ke.draw(ae,$n,qe,$t,At,Vr.backCCW,zr,"globe_raster",Ri,hi,Ei)}}}if(Ot&&(ae.renderDefaultNorthPole||ae.renderDefaultSouthPole)){const xn=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];pt&&xn.push("CUSTOM_ANTIALIASING"),Ke=ae.getOrCreateProgram("globeRaster",{defines:xn});for(const _n of Ce){const{x:$n,y:Yt,z:mn}=_n.canonical,$t=Yt===0,on=Yt===(1<<mn)-1,[Kn,ir,nr,pr]=Ot.getPoleBuffers(mn,!1);if(pr&&($t||on)){const Ir=Ae.getTile(_n);He.activeTexture.set($e.TEXTURE0),Ir.texture&&Ir.texture.bind($e.LINEAR,$e.CLAMP_TO_EDGE);let jr=a.cj(mn,$n,Ze);const Nr=a.aT(a.ci(_n.canonical)),zr=(Ri,hi)=>Ri.draw(ae,$e.TRIANGLES,qe,si.disabled,At,Vr.disabled,tb(Ze.expandedFarZProjMatrix,jr,jr,Nr,0,Pt,Ze.frustumCorners.TL,Ze.frustumCorners.TR,Ze.frustumCorners.BR,Ze.frustumCorners.BL,Ze.globeCenterInViewSpace,Ze.globeRadius,Qt,0,Ze._farZ),"globe_pole_raster",hi,nr,pr);de.setupElevationDraw(Ir,Ke,Wt),ae.uploadCommonUniforms(He,Ke,_n.toUnwrapped()),$t&&ae.renderDefaultNorthPole&&zr(Ke,Kn),on&&ae.renderDefaultSouthPole&&(jr=a.a6.scale(a.a6.create(),jr,[1,-1,1]),zr(Ke,ir))}}}})(B,L,D,$,Y);else{const ae=B.context,de=ae.gl;let Ae,Ce;const Me=B.shadowRenderer,He=il(B,B.longestCutoffRange),$e=At=>{if(Ce===At)return;const qe=[];qe.push(Q1[At]),He.shouldRenderCutoff&&qe.push("RENDER_CUTOFF"),Ae=B.getOrCreateProgram("terrainRaster",{defines:qe}),Ce=At},Ke=B.colorModeForRenderPass(),Pe=new rr(de.LEQUAL,rr.ReadWrite,B.depthRangeFor3D);IA.update(Y);const Ze=B.transform,pt=ng(Ze.zoom,L.exaggeration(),L.sourceCache._source.tileSize);let st=[0,0,0];if(Me){const At=B.style.directionalLight,qe=B.style.ambientLight;At&&qe&&(st=Yl(At,qe))}{Ce=-1;const At=de.TRIANGLES,[qe,mt]=[L.gridIndexBuffer,L.gridSegments];for(const Pt of $){const Ot=D.getTile(Pt),Qt=si.disabled,fn=L.prevTerrainTileForTile[Pt.key],Wt=L.terrainTileForTile[Pt.key];tg(fn,Wt)&&IA.newMorphing(Pt.key,fn,Wt,Y,250),ae.activeTexture.set(de.TEXTURE0),Ot.texture&&Ot.texture.bind(de.LINEAR,de.CLAMP_TO_EDGE);const xn=IA.getMorphValuesForProxy(Pt.key),_n=xn?1:0;let $n;xn&&($n={morphing:{srcDemTile:xn.from,dstDemTile:xn.to,phase:a.cc(xn.phase)}});const Yt=N0(Pt.projMatrix,af(Pt.canonical,Ze.renderWorldCopies)?pt/10:pt,st);if($e(_n),!Ae)continue;L.setupElevationDraw(Ot,Ae,$n);const mn=Pt.toUnwrapped();Me&&Me.setupShadows(mn,Ae),B.uploadCommonUniforms(ae,Ae,mn,null,He),Ae.draw(B,At,Pe,Qt,Ke,Vr.backCCW,Yt,"terrain_raster",L.gridBuffer,qe,mt)}}}}(g,this,this.proxySourceCache,d,this._updateTimestamp),this.renderingToTexture=!0,g.gpuTimingDeferredRenderEnd(),d.splice(0,d.length))}renderBatch(d){if(this._drapedRenderBatches.length===0)return d+1;this.renderingToTexture=!0;const g=this.painter,x=this.painter.context,B=this.proxySourceCache,L=this.proxiedCoords[B.id],D=this._drapedRenderBatches.shift(),$=g.style.order,Y=[];let ae=0;for(const de of L){const Ae=B.getTileByID(de.proxyTileKey),Ce=B.proxyCachedFBO[de.key]?B.proxyCachedFBO[de.key][d]:void 0,Me=Ce!==void 0?B.renderCache[Ce]:this.pool[ae++],He=Ce!==void 0;if(Ae.texture=Me.tex,He&&!Me.dirty){Y.push(Ae.tileID);continue}let $e;x.bindFramebuffer.set(Me.fb.framebuffer),this.renderedToTile=!1,Me.dirty&&(x.clear({color:a.ax.transparent,stencil:0}),Me.dirty=!1);for(let Ke=D.start;Ke<=D.end;++Ke){const Pe=g.style._mergedLayers[$[Ke]];if(Pe.isHidden(g.transform.zoom))continue;const Ze=g.style.getLayerSourceCache(Pe),pt=Ze?this.proxyToSource[de.key][Ze.id]:[de];if(!pt)continue;const st=pt;x.viewport.set([0,0,Me.fb.width,Me.fb.height]),$e!==(Ze?Ze.id:null)&&(this._setupStencil(Me,pt,Pe,Ze),$e=Ze?Ze.id:null),g.renderLayer(g,Ze,Pe,st)}if(this._drapedRenderBatches.length===0)for(const Ke of this._pendingGroundEffectLayers){const Pe=g.style._mergedLayers[$[Ke]];if(Pe.isHidden(g.transform.zoom))continue;const Ze=g.style.getLayerSourceCache(Pe),pt=Ze?this.proxyToSource[de.key][Ze.id]:[de];if(!pt)continue;const st=pt;x.viewport.set([0,0,Me.fb.width,Me.fb.height]),$e!==(Ze?Ze.id:null)&&(this._setupStencil(Me,pt,Pe,Ze),$e=Ze?Ze.id:null),g.renderLayer(g,Ze,Pe,st)}this.renderedToTile?(Me.dirty=!0,Y.push(Ae.tileID)):He||--ae,ae===5&&(ae=0,this.renderToBackBuffer(Y))}return this.renderToBackBuffer(Y),this.renderingToTexture=!1,x.bindFramebuffer.set(null),x.viewport.set([0,0,g.width,g.height]),D.end+1}postRender(){}isLayerOrderingCorrect(d){const g=d.order.length;let x=-1,B=g;for(let L=0;L<g;++L)this._style.isLayerDraped(d._mergedLayers[d.order[L]])?x=Math.max(x,L):B=Math.min(B,L);return B>x}getMinElevationBelowMSL(){let d=0;return this._visibleDemTiles.filter(g=>g.dem).forEach(g=>{d=Math.min(d,g.dem.tree.minimums[0])}),d===0?d:(d-30)*this._exaggeration}raycast(d,g,x){if(!this._visibleDemTiles)return null;const B=this._visibleDemTiles.filter(L=>L.dem).map(L=>{const D=L.tileID,$=1<<D.overscaledZ,{x:Y,y:ae}=D.canonical,de=Y/$,Ae=(Y+1)/$,Ce=ae/$,Me=(ae+1)/$;return{minx:de,miny:Ce,maxx:Ae,maxy:Me,t:L.dem.tree.raycastRoot(de,Ce,Ae,Me,d,g,x),tile:L}});B.sort((L,D)=>(L.t!==null?L.t:Number.MAX_VALUE)-(D.t!==null?D.t:Number.MAX_VALUE));for(const L of B){if(L.t==null)return null;const D=L.tile.dem.tree.raycast(L.minx,L.miny,L.maxx,L.maxy,d,g,x);if(D!=null)return D}return null}_createFBO(){const d=this.painter.context,g=d.gl,x=this.drapeBufferSize;d.activeTexture.set(g.TEXTURE0);const B=new a.T(d,{width:x[0],height:x[1],data:null},g.RGBA);B.bind(g.LINEAR,g.CLAMP_TO_EDGE);const L=d.createFramebuffer(x[0],x[1],!0,null);return L.colorAttachment.set(B.texture),L.depthAttachment=new jl(d,L.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=d.createRenderbuffer(d.gl.DEPTH_STENCIL,x[0],x[1]),this._stencilRef=0,L.depthAttachment.set(this._sharedDepthStencil),d.clear({stencil:0})):L.depthAttachment.set(this._sharedDepthStencil),d.extTextureFilterAnisotropic&&g.texParameterf(g.TEXTURE_2D,d.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,d.extTextureFilterAnisotropicMax),{fb:L,tex:B,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._debugParams.disableRenderCache||this._style.hasLightTransitions())return!0;for(const d in this._style._mergedSourceCaches)if(this._style._mergedSourceCaches[d].hasTransition())return!0;return this._style.order.some(d=>{const g=this._style._mergedLayers[d],x=g.isHidden(this.painter.transform.zoom);return g.type==="custom"?!x&&g.shouldRedrape():!x&&g.hasTransition()})}_clearLineLayersFromRenderCache(){let d=!1;for(const x of this._style.getSources())if(x instanceof an){d=!0;break}if(!d)return;const g={};for(let x=0;x<this._style.order.length;++x){const B=this._style._mergedLayers[this._style.order[x]],L=this._style.getLayerSourceCache(B);if(L&&!g[L.id]&&!B.isHidden(this.painter.transform.zoom)&&B.type==="line"&&B.widthExpression()instanceof a.Z){g[L.id]=!0;for(const D of this.proxyCoords){const $=this.proxyToSource[D.key][L.id];if($)for(const Y of $)this._clearRenderCacheForTile(L.id,Y)}}}}_clearRasterLayersFromRenderCache(){let d=!1;for(const x in this._style._mergedSourceCaches)if(this._style._mergedSourceCaches[x]._source instanceof In){d=!0;break}if(!d)return;const g={};for(let x=0;x<this._style.order.length;++x){const B=this._style._mergedLayers[this._style.order[x]],L=this._style.getLayerSourceCache(B);if(!L||g[L.id]||B.isHidden(this.painter.transform.zoom)||B.type!=="raster")continue;const D=B.paint.get("raster-fade-duration");for(const $ of this.proxyCoords){const Y=this.proxyToSource[$.key][L.id];if(Y)for(const ae of Y){const de=j1(L.getTile(ae),L.findLoadedParent(ae,0),L,this.painter.transform,D);(de.opacity!==1||de.mix!==0)&&this._clearRenderCacheForTile(L.id,ae)}}}}_setupDrapedRenderBatches(){const d=this._style.order,g=d.length;if(g===0)return;const x=[];this._pendingGroundEffectLayers=[];let B,L=0,D=this._style._mergedLayers[d[L]];for(;!this._style.isLayerDraped(D)&&D.isHidden(this.painter.transform.zoom)&&++L<g;)D=this._style._mergedLayers[d[L]];for(;L<g;++L){const $=this._style._mergedLayers[d[L]];$.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped($)?B===void 0&&(B=L):($.type==="fill-extrusion"&&this._pendingGroundEffectLayers.push(L),B!==void 0&&(x.push({start:B,end:L-1}),B=void 0)))}if(B!==void 0&&x.push({start:B,end:L-1}),x.length!==0){const $=x[x.length-1];this._pendingGroundEffectLayers.every(Y=>Y>$.end)||a.w("fill-extrusion with flood lighting and/or ground ambient occlusion should be moved to be on top of all draped layers.")}this._drapedRenderBatches=x}_setupRenderCache(d){const g=this.proxySourceCache;if(this._shouldDisableRenderCache()||this.invalidateRenderCache){if(this.invalidateRenderCache=!1,g.renderCache.length>g.renderCachePool.length){const D=Object.values(g.proxyCachedFBO);g.proxyCachedFBO={};for(let $=0;$<D.length;++$){const Y=Object.values(D[$]);g.renderCachePool.push(...Y)}}return}this._clearRasterLayersFromRenderCache();const x=this.proxyCoords,B=this._tilesDirty;for(let D=x.length-1;D>=0;D--){const $=x[D];if(g.getTileByID($.key),g.proxyCachedFBO[$.key]!==void 0){const Y=d[$.key],ae=this.proxyToSource[$.key];let de=0;for(const Ae in ae){const Ce=ae[Ae],Me=Y[Ae];if(!Me||Me.length!==Ce.length||Ce.some((He,$e)=>He!==Me[$e]||B[Ae]&&B[Ae].hasOwnProperty(He.key))){de=-1;break}++de}for(const Ae in g.proxyCachedFBO[$.key])g.renderCache[g.proxyCachedFBO[$.key][Ae]].dirty=de<0||de!==Object.values(Y).length}}const L=[...this._drapedRenderBatches];L.sort((D,$)=>$.end-$.start-(D.end-D.start));for(const D of L)for(const $ of x){if(g.proxyCachedFBO[$.key])continue;let Y=g.renderCachePool.pop();Y===void 0&&g.renderCache.length<50&&(Y=g.renderCache.length,g.renderCache.push(this._createFBO())),Y!==void 0&&(g.proxyCachedFBO[$.key]={},g.proxyCachedFBO[$.key][D.start]=Y,g.renderCache[Y].dirty=!0)}this._tilesDirty={}}_setupStencil(d,g,x,B){if(!B||!this._sourceTilesOverlap[B.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const L=this.painter.context,D=L.gl;if(g.length<=1)return void(this._overlapStencilType=!1);let $;if(x.isTileClipped())$=g.length,this._overlapStencilMode.test={func:D.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(g[0].overscaledZ>g[g.length-1].overscaledZ))return void(this._overlapStencilType=!1);$=1,this._overlapStencilMode.test={func:D.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+$>255&&(L.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=$,this._overlapStencilMode.ref=this._stencilRef,x.isTileClipped()&&this._renderTileClippingMasks(g,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(d){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[d.key]),this._overlapStencilMode):si.disabled}_renderTileClippingMasks(d,g){const x=this.painter,B=this.painter.context,L=B.gl;x._tileClippingMaskIDs={},B.setColorMode(Ii.disabled),B.setDepthMode(rr.disabled);const D=x.getOrCreateProgram("clippingMask");for(const $ of d){const Y=x._tileClippingMaskIDs[$.key]=--g;D.draw(x,L.TRIANGLES,rr.disabled,new si({func:L.ALWAYS,mask:0},Y,255,L.KEEP,L.KEEP,L.REPLACE),Ii.disabled,Vr.disabled,cp($.projMatrix),"$clipping",x.tileExtentBuffer,x.quadTriangleIndexBuffer,x.tileExtentSegments)}}pointCoordinate(d){const g=this.painter.transform;if(d.x<0||d.x>g.width||d.y<0||d.y>g.height)return null;const x=[d.x,d.y,1,1];a.a7.transformMat4(x,x,g.pixelMatrixInverse),a.a7.scale(x,x,1/x[3]),x[0]/=g.worldSize,x[1]/=g.worldSize;const B=g._camera.position,L=a.bl(1,g.center.lat),D=[B[0],B[1],B[2]/L,0],$=a.N.subtract([],x.slice(0,3),D);a.N.normalize($,$);const Y=this.raycast(D,$,this._exaggeration);return Y!==null&&Y?(a.N.scaleAndAdd(D,D,$,Y),D[3]=D[2],D[2]*=L,D):null}drawDepth(){const d=this.painter,g=d.context,x=this.proxySourceCache,B=Math.ceil(d.width),L=Math.ceil(d.height);if(!this._depthFBO||this._depthFBO.width===B&&this._depthFBO.height===L||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const D=g.gl,$=g.createFramebuffer(B,L,!0,"renderbuffer");g.activeTexture.set(D.TEXTURE0);const Y=new a.T(g,{width:B,height:L,data:null},D.RGBA);Y.bind(D.NEAREST,D.CLAMP_TO_EDGE),$.colorAttachment.set(Y.texture);const ae=g.createRenderbuffer(g.gl.DEPTH_COMPONENT16,B,L);$.depthAttachment.set(ae),this._depthFBO=$,this._depthTexture=Y}g.bindFramebuffer.set(this._depthFBO.framebuffer),g.viewport.set([0,0,B,L]),function(D,$,Y,ae){if(D.transform.projection.name==="globe")return;const de=D.context,Ae=de.gl;de.clear({depth:1});const Ce=D.getOrCreateProgram("terrainDepth"),Me=new rr(Ae.LESS,rr.ReadWrite,D.depthRangeFor3D);for(const He of ae){const $e=Y.getTile(He),Ke=N0(He.projMatrix,0,[0,0,0]);$.setupElevationDraw($e,Ce),Ce.draw(D,Ae.TRIANGLES,Me,si.disabled,Ii.unblended,Vr.backCCW,Ke,"terrain_depth",$.gridBuffer,$.gridIndexBuffer,$.gridNoSkirtSegments)}}(d,this,x,this.proxyCoords)}_setupProxiedCoordsForOrtho(d,g,x){if(d.getSource()instanceof a.ap)return this._setupProxiedCoordsForImageSource(d,g,x);this._findCoveringTileCache[d.id]=this._findCoveringTileCache[d.id]||{};const B=this.proxiedCoords[d.id]=[],L=this.proxyCoords;for(let Y=0;Y<L.length;Y++){const ae=L[Y],de=this._findTileCoveringTileID(ae,d);if(de){const Ae=this._createProxiedId(ae,de,x[ae.key]&&x[ae.key][d.id]);B.push(Ae),this.proxyToSource[ae.key][d.id]=[Ae]}}let D=!1;const $=new Set;for(let Y=0;Y<g.length;Y++){const ae=d.getTile(g[Y]);if(!ae||!ae.hasData())continue;const de=this._findTileCoveringTileID(ae.tileID,this.proxySourceCache);if(de&&de.tileID.canonical.z!==ae.tileID.canonical.z){const Ae=this.proxyToSource[de.tileID.key][d.id],Ce=this._createProxiedId(de.tileID,ae,x[de.tileID.key]&&x[de.tileID.key][d.id]);Ae?Ae.splice(Ae.length-1,0,Ce):this.proxyToSource[de.tileID.key][d.id]=[Ce];const Me=this.proxyToSource[de.tileID.key][d.id];$.has(Me)||$.add(Me),B.push(Ce),D=!0}}if(this._sourceTilesOverlap[d.id]=D,D&&this._debugParams.sortTilesHiZFirst)for(const Y of $)Y.sort((ae,de)=>de.overscaledZ-ae.overscaledZ)}_setupProxiedCoordsForImageSource(d,g,x){if(!d.getSource().loaded())return;const B=this.proxiedCoords[d.id]=[],L=this.proxyCoords,D=d.getSource(),$=D.tileID;if(!$)return;const Y=new a.P($.x,$.y)._div(1<<$.z),ae=D.coordinates.map(a.L.fromLngLat).reduce((Ae,Ce)=>(Ae.min.x=Math.min(Ae.min.x,Ce.x-Y.x),Ae.min.y=Math.min(Ae.min.y,Ce.y-Y.y),Ae.max.x=Math.max(Ae.max.x,Ce.x-Y.x),Ae.max.y=Math.max(Ae.max.y,Ce.y-Y.y),Ae),{min:new a.P(Number.MAX_VALUE,Number.MAX_VALUE),max:new a.P(-Number.MAX_VALUE,-Number.MAX_VALUE)}),de=(Ae,Ce)=>{const Me=Ae.wrap+Ae.canonical.x/(1<<Ae.canonical.z),He=Ae.canonical.y/(1<<Ae.canonical.z),$e=a.V/(1<<Ae.canonical.z),Ke=Ce.wrap+Ce.canonical.x/(1<<Ce.canonical.z),Pe=Ce.canonical.y/(1<<Ce.canonical.z);return Me+$e<Ke+ae.min.x||Me>Ke+ae.max.x||He+$e<Pe+ae.min.y||He>Pe+ae.max.y};for(let Ae=0;Ae<L.length;Ae++){const Ce=L[Ae];for(let Me=0;Me<g.length;Me++){const He=d.getTile(g[Me]);if(!He||!He.hasData()||de(Ce,He.tileID))continue;const $e=this._createProxiedId(Ce,He,x[Ce.key]&&x[Ce.key][d.id]),Ke=this.proxyToSource[Ce.key][d.id];Ke?Ke.push($e):this.proxyToSource[Ce.key][d.id]=[$e],B.push($e)}}}_createProxiedId(d,g,x){let B=this.orthoMatrix;if(x){const L=x.find(D=>D.key===g.tileID.key);if(L)return L}if(g.tileID.key!==d.key){const L=d.canonical.z-g.tileID.canonical.z;let D,$,Y;B=a.a6.create();const ae=g.tileID.wrap-d.wrap<<d.overscaledZ;L>0?(D=a.V>>L,$=D*((g.tileID.canonical.x<<L)-d.canonical.x+ae),Y=D*((g.tileID.canonical.y<<L)-d.canonical.y)):(D=a.V<<-L,$=a.V*(g.tileID.canonical.x-(d.canonical.x+ae<<-L)),Y=a.V*(g.tileID.canonical.y-(d.canonical.y<<-L))),a.a6.ortho(B,0,D,0,D,0,1),a.a6.translate(B,B,[$,Y,0])}return new rb(g.tileID,d.key,B)}_findTileCoveringTileID(d,g){let x=g.getTile(d);if(x&&x.hasData())return x;const B=this._findCoveringTileCache[g.id],L=B[d.key];if(x=L?g.getTileByID(L):null,x&&x.hasData()||L===null)return x;let D=x?x.tileID:d,$=D.overscaledZ;const Y=g.getSource().minzoom,ae=[];if(!L){const Ae=g.getSource().maxzoom;if(d.canonical.z>=Ae){const Ce=d.canonical.z-Ae;g.getSource().reparseOverscaled?($=Math.max(d.canonical.z+2,g.transform.tileZoom),D=new a.am($,d.wrap,Ae,d.canonical.x>>Ce,d.canonical.y>>Ce)):Ce!==0&&($=Ae,D=new a.am($,d.wrap,Ae,d.canonical.x>>Ce,d.canonical.y>>Ce))}D.key!==d.key&&(ae.push(D.key),x=g.getTile(D))}const de=Ae=>{ae.forEach(Ce=>{B[Ce]=Ae}),ae.length=0};for($-=1;$>=Y&&(!x||!x.hasData());$--){x&&de(x.tileID.key);const Ae=D.calculateScaledKey($);if(x=g.getTileByID(Ae),x&&x.hasData())break;const Ce=B[Ae];if(Ce===null)break;Ce===void 0?ae.push(Ae):x=g.getTileByID(Ce)}return de(x?x.tileID.key:null),x&&x.hasData()?x:null}findDEMTileFor(d){return this.enabled?this._findTileCoveringTileID(d,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(d,g){let x=this._tilesDirty[d];x||(x=this._tilesDirty[d]={}),x[g.key]=!0}}function G1(w,d,g){const x=function($,Y,ae){const de=a.N.dot(Y,$),Ae=a.N.dot(ae,[.2126,.7152,.0722]),Ce=(He,$e,Ke)=>(1-Ke)*He+Ke*$e,Me=Ce(1-.3*Math.min(Ae,1),1,Math.min(de+1,1));return Ce(.92,1,Math.asin(a.aa(Y[2],-1,1))/Math.PI+.5)*Me}(w,[0,0,1],d),B=[0,0,0];a.N.scale(B,g.slice(0,3),x);const L=[0,0,0];a.N.scale(L,d.slice(0,3),w[2]);const D=[0,0,0];return a.N.add(D,B,L),a.bU(D)}const K1=["fill","fillOutline","fillPattern","line","linePattern","background","backgroundPattern","hillshade","raster"],gd=["stars","fillExtrusion","fillExtrusionGroundEffect","model","symbolSDF","symbolIcon","symbolTextAndIcon"];class Ju{static cacheKey(d,g,x,B){let L=`${g}${B?B.cacheKey:""}`;for(const D of x)d.usedDefines.includes(D)&&(L+=`/${D}`);return L}constructor(d,g,x,B,L,D,$){const Y=d.gl;this.program=Y.createProgram(),this.configuration=B,this.name=g,this.fixedDefines=[...D];const ae=B?B.getBinderAttributes():[],de=(x.staticAttributes||[]).concat(ae);let Ae=B?B.defines():[];Ae=Ae.concat(D.map(Pe=>`#define ${Pe}`));const Ce=`#version 300 es
`;let Me=Ce+Ae.concat("precision mediump float;",up,BA.fragmentSource).join(`
`);for(const Pe of x.fragmentIncludes)Me+=`
${Jl[Pe]}`;Me+=`
${x.fragmentSource}`;let He=Ce+Ae.concat("precision highp float;",up,BA.vertexSource).join(`
`);for(const Pe of x.vertexIncludes)He+=`
${Jl[Pe]}`;He+=`
${x.vertexSource}`;const $e=Y.createShader(Y.FRAGMENT_SHADER);if(Y.isContextLost())return void(this.failedToCreate=!0);Y.shaderSource($e,Me),Y.compileShader($e),Y.attachShader(this.program,$e);const Ke=Y.createShader(Y.VERTEX_SHADER);if(Y.isContextLost())this.failedToCreate=!0;else{Y.shaderSource(Ke,He),Y.compileShader(Ke),Y.attachShader(this.program,Ke),this.attributes={},this.numAttributes=de.length;for(let Pe=0;Pe<this.numAttributes;Pe++)if(de[Pe]){const Ze=de[Pe].startsWith("a_")?de[Pe]:`a_${de[Pe]}`;Y.bindAttribLocation(this.program,Pe,Ze),this.attributes[Ze]=Pe}$&&$.shaderVaryings.length>0&&Y.transformFeedbackVaryings(this.program,$.shaderVaryings,$.bufferMode),Y.linkProgram(this.program),Y.deleteShader(Ke),Y.deleteShader($e),this.fixedUniforms=L(d),this.binderUniforms=B?B.getUniforms(d):[],D.includes("TERRAIN")&&(this.terrainUniforms=(Pe=>({u_dem:new a.bO(Pe),u_dem_prev:new a.bO(Pe),u_dem_tl:new a.bL(Pe),u_dem_scale:new a.bN(Pe),u_dem_tl_prev:new a.bL(Pe),u_dem_scale_prev:new a.bN(Pe),u_dem_size:new a.bN(Pe),u_dem_lerp:new a.bN(Pe),u_exaggeration:new a.bN(Pe),u_depth:new a.bO(Pe),u_depth_size_inv:new a.bL(Pe),u_meter_to_dem:new a.bN(Pe),u_label_plane_matrix_inv:new a.bK(Pe)}))(d)),D.includes("GLOBE")&&(this.globeUniforms=(Pe=>({u_tile_tl_up:new a.bM(Pe),u_tile_tr_up:new a.bM(Pe),u_tile_br_up:new a.bM(Pe),u_tile_bl_up:new a.bM(Pe),u_tile_up_scale:new a.bN(Pe)}))(d)),D.includes("FOG")&&(this.fogUniforms=(Pe=>({u_fog_matrix:new a.bK(Pe),u_fog_range:new a.bL(Pe),u_fog_color:new a.bP(Pe),u_fog_horizon_blend:new a.bN(Pe),u_fog_vertical_limit:new a.bL(Pe),u_fog_temporal_offset:new a.bN(Pe),u_frustum_tl:new a.bM(Pe),u_frustum_tr:new a.bM(Pe),u_frustum_br:new a.bM(Pe),u_frustum_bl:new a.bM(Pe),u_globe_pos:new a.bM(Pe),u_globe_radius:new a.bN(Pe),u_globe_transition:new a.bN(Pe),u_is_globe:new a.bO(Pe),u_viewport:new a.bL(Pe)}))(d)),D.includes("RENDER_CUTOFF")&&(this.cutoffUniforms=(Pe=>({u_cutoff_params:new a.bP(Pe)}))(d)),D.includes("LIGHTING_3D_MODE")&&(this.lightsUniforms=(Pe=>({u_lighting_ambient_color:new a.bM(Pe),u_lighting_directional_dir:new a.bM(Pe),u_lighting_directional_color:new a.bM(Pe),u_ground_radiance:new a.bM(Pe)}))(d)),D.includes("RENDER_SHADOWS")&&(this.shadowUniforms=(Pe=>({u_light_matrix_0:new a.bK(Pe),u_light_matrix_1:new a.bK(Pe),u_fade_range:new a.bL(Pe),u_shadow_normal_offset:new a.bM(Pe),u_shadow_intensity:new a.bN(Pe),u_shadow_texel_size:new a.bN(Pe),u_shadow_map_resolution:new a.bN(Pe),u_shadow_direction:new a.bM(Pe),u_shadow_bias:new a.bM(Pe),u_shadowmap_0:new a.bO(Pe),u_shadowmap_1:new a.bO(Pe)}))(d))}}setTerrainUniformValues(d,g){if(!this.terrainUniforms)return;const x=this.terrainUniforms;if(!this.failedToCreate){d.program.set(this.program);for(const B in g)x[B]&&x[B].set(this.program,B,g[B])}}setGlobeUniformValues(d,g){if(!this.globeUniforms)return;const x=this.globeUniforms;if(!this.failedToCreate){d.program.set(this.program);for(const B in g)x[B]&&x[B].set(this.program,B,g[B])}}setFogUniformValues(d,g){if(!this.fogUniforms)return;const x=this.fogUniforms;if(!this.failedToCreate){d.program.set(this.program);for(const B in g)x[B].set(this.program,B,g[B])}}setCutoffUniformValues(d,g){if(!this.cutoffUniforms)return;const x=this.cutoffUniforms;if(!this.failedToCreate){d.program.set(this.program);for(const B in g)x[B].set(this.program,B,g[B])}}setLightsUniformValues(d,g){if(!this.lightsUniforms)return;const x=this.lightsUniforms;if(!this.failedToCreate){d.program.set(this.program);for(const B in g)x[B].set(this.program,B,g[B])}}setShadowUniformValues(d,g){if(this.failedToCreate||!this.shadowUniforms)return;const x=this.shadowUniforms;d.program.set(this.program);for(const B in g)x[B].set(this.program,B,g[B])}_drawDebugWireframe(d,g,x,B,L,D,$,Y,ae,de){const Ae=d.options.wireframe;if(Ae.terrain===!1&&Ae.layers2D===!1&&Ae.layers3D===!1)return;const Ce=d.context;if(!(!(!Ae.terrain||this.name!=="terrainRaster"&&this.name!=="globeRaster")||!(!Ae.layers2D||d._terrain&&d._terrain.renderingToTexture||!K1.includes(this.name))||!(!Ae.layers3D||!gd.includes(this.name))))return;const Me=Ce.gl,He=d.wireframeDebugCache.getLinesFromTrianglesBuffer(d.frameCounter,L,Ce);if(!He)return;const $e=[...this.fixedDefines];$e.push("DEBUG_WIREFRAME");const Ke=d.getOrCreateProgram(this.name,{config:this.configuration,defines:$e});Ce.program.set(Ke.program);const Pe=(st,At,qe)=>{if(At[st]&&qe[st])for(const mt in At[st])qe[st][mt]&&qe[st][mt].set(qe.program,mt,At[st][mt].current)};ae&&ae.setUniforms(Ke.program,Ce,Ke.binderUniforms,$,{zoom:Y}),Pe("fixedUniforms",this,Ke),Pe("terrainUniforms",this,Ke),Pe("globeUniforms",this,Ke),Pe("fogUniforms",this,Ke),Pe("lightsUniforms",this,Ke),Pe("shadowUniforms",this,Ke),He.bind(),Ce.setColorMode(new Ii([Me.ONE,Me.ONE_MINUS_SRC_ALPHA,Me.ZERO,Me.ONE],a.ax.transparent,[!0,!0,!0,!1])),Ce.setDepthMode(new rr(g.func===Me.LESS?Me.LEQUAL:g.func,rr.ReadOnly,g.range)),Ce.setStencilMode(si.disabled);const Ze=3*D.primitiveLength*2,pt=3*D.primitiveOffset*2*2;de&&de>1?Me.drawElementsInstanced(Me.LINES,Ze,Me.UNSIGNED_SHORT,pt,de):Me.drawElements(Me.LINES,Ze,Me.UNSIGNED_SHORT,pt),L.bind(),Ce.program.set(this.program),Ce.setDepthMode(g),Ce.setStencilMode(x),Ce.setColorMode(B)}draw(d,g,x,B,L,D,$,Y,ae,de,Ae,Ce,Me,He,$e,Ke,Pe){const Ze=d.context,pt=Ze.gl;if(this.failedToCreate)return;Ze.program.set(this.program),Ze.setDepthMode(x),Ze.setStencilMode(B),Ze.setColorMode(L),Ze.setCullFace(D);for(const mt of Object.keys(this.fixedUniforms))this.fixedUniforms[mt].set(this.program,mt,$[mt]);He&&He.setUniforms(this.program,Ze,this.binderUniforms,Ce,{zoom:Me});const st={[pt.POINTS]:1,[pt.LINES]:2,[pt.TRIANGLES]:3,[pt.LINE_STRIP]:1}[g],At=Pe&&Pe.length>0;if(At){for(const mt of Pe)pt.bindBufferBase(pt.TRANSFORM_FEEDBACK_BUFFER,mt.targetIndex,mt.buffer.buffer);pt.beginTransformFeedback(g)}const qe=Ke&&Ke>0?1:void 0;for(const mt of Ae.get()){const Pt=mt.vaos||(mt.vaos={});(Pt[Y]||(Pt[Y]=new eg)).bind(Ze,this,ae,He?He.getPaintVertexBuffers():[],de,mt.vertexOffset,$e||[],qe),Ke&&Ke>1?pt.drawElementsInstanced(g,mt.primitiveLength*st,pt.UNSIGNED_SHORT,mt.primitiveOffset*st*2,Ke):de?pt.drawElements(g,mt.primitiveLength*st,pt.UNSIGNED_SHORT,mt.primitiveOffset*st*2):pt.drawArrays(g,mt.vertexOffset,mt.vertexLength),g===pt.TRIANGLES&&de&&this._drawDebugWireframe(d,x,B,L,de,mt,Ce,Me,He,Ke)}At&&pt.endTransformFeedback()}}function Yc(w,d){const g=Math.pow(2,d.tileID.overscaledZ),x=d.tileSize*Math.pow(2,w.transform.tileZoom)/g,B=x*(d.tileID.canonical.x+d.tileID.wrap*g),L=x*d.tileID.canonical.y;return{u_image:0,u_texsize:d.imageAtlasTexture?d.imageAtlasTexture.size:[0,0],u_tile_units_to_pixels:1/a.a3(d,1,w.transform.tileZoom),u_pixel_coord_upper:[B>>16,L>>16],u_pixel_coord_lower:[65535&B,65535&L]}}const ib=a.a6.create(),U0=(w,d,g,x,B,L,D,$,Y,ae,de,Ae,Ce,Me,He,$e)=>{const Ke=d.style.light,Pe=Ke.properties.get("position"),Ze=[Pe.x,Pe.y,Pe.z],pt=a.co.create();Ke.properties.get("anchor")==="viewport"&&(a.co.fromRotation(pt,-d.transform.angle),a.N.transformMat3(Ze,Ze,pt));const st=Ke.properties.get("color"),At=d.transform,qe={u_matrix:w,u_lightpos:Ze,u_lightintensity:Ke.properties.get("intensity"),u_lightcolor:[st.r,st.g,st.b],u_vertical_gradient:+g,u_opacity:x,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:ib,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:B,u_edge_radius:L,u_flood_light_color:Ae,u_vertical_scale:Ce,u_flood_light_intensity:Me,u_ground_shadow_factor:He,u_emissive_strength:$e};return At.projection.name==="globe"&&(qe.u_tile_id=[D.canonical.x,D.canonical.y,1<<D.canonical.z],qe.u_zoom_transition=Y,qe.u_inv_rot_matrix=de,qe.u_merc_center=ae,qe.u_up_dir=At.projection.upVector(new a.bs(0,0,0),ae[0]*a.V,ae[1]*a.V),qe.u_height_lift=$),qe},Ch=(w,d,g)=>({u_matrix:w,u_edge_radius:d,u_vertical_scale:g}),al=(w,d,g,x,B,L,D,$,Y,ae,de,Ae,Ce,Me)=>{const He=U0(w,d,g,x,B,L,D,Y,ae,de,Ae,Ce,Me,1,[0,0,0],0),$e={u_height_factor:-Math.pow(2,D.overscaledZ)/$.tileSize/8};return a.e(He,Yc(d,$),$e)},LA=(w,d)=>({u_matrix:w,u_emissive_strength:d}),W1=(w,d,g,x)=>a.e(LA(w,d),Yc(g,x)),sf=(w,d,g)=>({u_matrix:w,u_world:g,u_emissive_strength:d}),q1=(w,d,g,x,B)=>a.e(W1(w,d,g,x),{u_world:B}),rg=(w,d,g,x)=>{const B=a.V/g.tileSize;return{u_matrix:w,u_camera_to_center_distance:d.getCameraToCenterDistance(x),u_extrude_scale:[d.pixelsToGLUnits[0]/B,d.pixelsToGLUnits[1]/B]}},z0=(w,d,g=1)=>({u_matrix:w,u_color:d,u_overlay:0,u_overlay_scale:g}),ab=a.a6.create(),kA=(w,d,g,x,B,L,D)=>{const $=w.transform,Y=$.projection.name==="globe",ae=Y?a.cp($.zoom,d.canonical)*$._pixelsPerMercatorPixel:a.a3(g,1,L),de={u_matrix:d.projMatrix,u_extrude_scale:ae,u_intensity:D,u_inv_rot_matrix:ab,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(Y){de.u_inv_rot_matrix=x,de.u_merc_center=B,de.u_tile_id=[d.canonical.x,d.canonical.y,1<<d.canonical.z],de.u_zoom_transition=a.S($.zoom);const Ae=B[0]*a.V,Ce=B[1]*a.V;de.u_up_dir=$.projection.upVector(new a.bs(0,0,0),Ae,Ce)}return de};function hp(w,[d,g,x,B],[L,D]){if(L===D)return[0,0,0,0];const $=255*(w-1)/(w*(D-L));return[d*$,g*$,x*$,B*$]}function PA(w,d,[g,x]){return g===x?0:.5/w+(d-g)*(w-1)/(w*(x-g))}const ig=(w,d,g,x,B,L,D,$,Y,ae,de,Ae,Ce,Me,He,$e,Ke,Pe,Ze,pt,st)=>{return{u_matrix:w,u_normalize_matrix:d,u_globe_matrix:g,u_merc_matrix:x,u_grid_matrix:B,u_tl_parent:L,u_scale_parent:ae,u_fade_t:de.mix,u_opacity:de.opacity*Ae.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:Ae.paint.get("raster-brightness-min"),u_brightness_high:Ae.paint.get("raster-brightness-max"),u_saturation_factor:(qe=Ae.paint.get("raster-saturation"),qe>0?1-1/(1.001-qe):-qe),u_contrast_factor:(At=Ae.paint.get("raster-contrast"),At>0?1/(1-At):1+At),u_spin_weights:FA(Ae.paint.get("raster-hue-rotate")),u_perspective_transform:Ce,u_raster_elevation:Me,u_zoom_transition:D,u_merc_center:$,u_cutoff_params:Y,u_colorization_mix:hp(a.cq,$e,Pe),u_colorization_offset:PA(a.cq,Ke,Pe),u_color_ramp:He,u_texture_offset:[pt/(Ze+2*pt),Ze/(Ze+2*pt)],u_texture_res:[Ze+2*pt,Ze+2*pt],u_emissive_strength:st};var At,qe};function FA(w){w*=Math.PI/180;const d=Math.sin(w),g=Math.cos(w);return[(2*g+1)/3,(-Math.sqrt(3)*d-g+1)/3,(Math.sqrt(3)*d-g+1)/3]}const Tx=(w,d,g,x,B,L,D,$,Y,ae,de,Ae)=>({u_matrix:w,u_normalize_matrix:d,u_globe_matrix:g,u_merc_matrix:x,u_grid_matrix:B,u_tl_parent:L,u_scale_parent:ae,u_fade_t:de.mix,u_opacity:de.opacity,u_image0:0,u_image1:1,u_raster_elevation:Ae,u_zoom_transition:D,u_merc_center:$,u_cutoff_params:Y}),sb=(w,d,g,x,B,L,D,$)=>({u_tile_offset:w,u_velocity:d,u_color_ramp:x,u_velocity_res:g,u_max_speed:B,u_texture_offset:L,u_data_scale:D,u_data_offset:$}),ob=(w,d,g,x,B,L,D,$)=>({u_velocity:w,u_velocity_res:d,u_max_speed:g,u_speed_factor:x,u_lifetime_delta:B,u_rand_seed:Math.random(),u_texture_offset:L,u_data_scale:D,u_data_offset:$}),lb=a.a6.create(),$0=(w,d,g,x,B,L,D,$,Y,ae,de,Ae,Ce,Me,He,$e,Ke,Pe)=>{const Ze=B.transform,pt={u_is_size_zoom_constant:+(w==="constant"||w==="source"),u_is_size_feature_constant:+(w==="constant"||w==="camera"),u_size_t:d?d.uSizeT:0,u_size:d?d.uSize:0,u_camera_to_center_distance:Ze.getCameraToCenterDistance($e),u_rotate_symbol:+g,u_aspect_ratio:Ze.width/Ze.height,u_fade_change:B.options.fadeDuration?B.symbolFadeChange:1,u_matrix:L,u_label_plane_matrix:D,u_coord_matrix:$,u_is_text:+Y,u_pitch_with_map:+x,u_texsize:ae,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:lb,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:lb,u_up_vector:[0,-1,0],u_icon_transition:Pe||0,u_icon_saturation:Ke};return $e.name==="globe"&&(pt.u_tile_id=[de.canonical.x,de.canonical.y,1<<de.canonical.z],pt.u_zoom_transition=Ae,pt.u_inv_rot_matrix=Me,pt.u_merc_center=Ce,pt.u_camera_forward=Ze._camera.forward(),pt.u_ecef_origin=a.cr(Ze.globeMatrix,de.toUnwrapped()),pt.u_tile_matrix=Float32Array.from(Ze.globeMatrix),pt.u_up_vector=He),pt},ag=(w,d,g,x,B,L,D,$,Y,ae,de,Ae,Ce,Me,He,$e,Ke)=>a.e($0(w,d,g,x,B,L,D,$,Y,ae,Ae,Ce,Me,He,$e,Ke,1),{u_gamma_scale:x?B.transform.getCameraToCenterDistance(Ke)*Math.cos(B.terrain?0:B.transform._pitch):1,u_device_pixel_ratio:a.f.devicePixelRatio,u_is_halo:+de,undefined:void 0}),V0=(w,d,g,x,B,L,D,$,Y,ae,de,Ae,Ce,Me,He,$e)=>a.e(ag(w,d,g,x,B,L,D,$,!0,Y,!0,de,Ae,Ce,Me,He,$e),{u_texsize_icon:ae,u_texture_icon:1}),Y1=(w,d,g,x)=>({u_matrix:w,u_emissive_strength:d,u_opacity:g,u_color:x}),RA=(w,d,g,x,B,L,D)=>a.e(function($,Y,ae,de){const Ae=ae.imageManager.getPattern($.toString(),Y),{width:Ce,height:Me}=ae.imageManager.getPixelSize(Y),He=Math.pow(2,de.tileID.overscaledZ),$e=de.tileSize*Math.pow(2,ae.transform.tileZoom)/He,Ke=$e*(de.tileID.canonical.x+de.tileID.wrap*He),Pe=$e*de.tileID.canonical.y;return{u_image:0,u_pattern_tl:Ae.tl,u_pattern_br:Ae.br,u_texsize:[Ce,Me],u_pattern_size:Ae.displaySize,u_tile_units_to_pixels:1/a.a3(de,1,ae.transform.tileZoom),u_pixel_coord_upper:[Ke>>16,Pe>>16],u_pixel_coord_lower:[65535&Ke,65535&Pe]}}(B,L,x,D),{u_matrix:w,u_emissive_strength:d,u_opacity:g}),dp=(w,d,g,x,B,L,D,$,Y,ae,de,Ae,Ce=[0,0,0],Me)=>{const He=x.style.light,$e=He.properties.get("position"),Ke=[-$e.x,-$e.y,$e.z],Pe=a.co.create();He.properties.get("anchor")==="viewport"&&(a.co.fromRotation(Pe,-x.transform.angle),a.N.transformMat3(Ke,Ke,Pe));const Ze=ae.alphaMode==="MASK",pt=He.properties.get("color"),st=Ae.paint.get("model-ambient-occlusion-intensity"),At=Ae.paint.get("model-color").constantOr(a.ax.white),qe=Ae.paint.get("model-color-mix-intensity").constantOr(0);return{u_matrix:w,u_lighting_matrix:d,u_normal_matrix:g,u_lightpos:Ke,u_lightintensity:He.properties.get("intensity"),u_lightcolor:[pt.r,pt.g,pt.b],u_camera_pos:Ce,u_opacity:B,u_baseTextureIsAlpha:0,u_alphaMask:+Ze,u_alphaCutoff:ae.alphaCutoff,u_baseColorFactor:[L.r,L.g,L.b,L.a],u_emissiveFactor:[D[0],D[1],D[2],1],u_metallicFactor:$,u_roughnessFactor:Y,u_baseColorTexture:Vs.BaseColor,u_metallicRoughnessTexture:Vs.MetallicRoughness,u_normalTexture:Vs.Normal,u_occlusionTexture:Vs.Occlusion,u_emissionTexture:Vs.Emission,u_color_mix:[At.r,At.g,At.b,qe],u_aoIntensity:st,u_emissive_strength:de,u_occlusionTextureTransform:Me||[0,0,0,0]}},sg=new Float32Array(16),og=(w,d=sg,g=sg)=>({u_matrix:w,u_instance:d,u_node_matrix:g}),ub={fillExtrusion:w=>({u_matrix:new a.bK(w),u_lightpos:new a.bM(w),u_lightintensity:new a.bN(w),u_lightcolor:new a.bM(w),u_vertical_gradient:new a.bN(w),u_opacity:new a.bN(w),u_edge_radius:new a.bN(w),u_ao:new a.bL(w),u_tile_id:new a.bM(w),u_zoom_transition:new a.bN(w),u_inv_rot_matrix:new a.bK(w),u_merc_center:new a.bL(w),u_up_dir:new a.bM(w),u_height_lift:new a.bN(w),u_flood_light_color:new a.bM(w),u_vertical_scale:new a.bN(w),u_flood_light_intensity:new a.bN(w),u_ground_shadow_factor:new a.bM(w),u_emissive_strength:new a.bN(w)}),fillExtrusionDepth:w=>({u_matrix:new a.bK(w),u_edge_radius:new a.bN(w),u_vertical_scale:new a.bN(w)}),fillExtrusionPattern:w=>({u_matrix:new a.bK(w),u_lightpos:new a.bM(w),u_lightintensity:new a.bN(w),u_lightcolor:new a.bM(w),u_vertical_gradient:new a.bN(w),u_height_factor:new a.bN(w),u_edge_radius:new a.bN(w),u_ao:new a.bL(w),u_tile_id:new a.bM(w),u_zoom_transition:new a.bN(w),u_inv_rot_matrix:new a.bK(w),u_merc_center:new a.bL(w),u_up_dir:new a.bM(w),u_height_lift:new a.bN(w),u_image:new a.bO(w),u_texsize:new a.bL(w),u_pixel_coord_upper:new a.bL(w),u_pixel_coord_lower:new a.bL(w),u_tile_units_to_pixels:new a.bN(w),u_opacity:new a.bN(w)}),fillExtrusionGroundEffect:w=>({u_matrix:new a.bK(w),u_opacity:new a.bN(w),u_ao_pass:new a.bN(w),u_meter_to_tile:new a.bN(w),u_ao:new a.bL(w),u_flood_light_intensity:new a.bN(w),u_flood_light_color:new a.bM(w),u_attenuation:new a.bN(w),u_edge_radius:new a.bN(w),u_fb:new a.bO(w),u_fb_size:new a.bN(w)}),fill:w=>({u_matrix:new a.bK(w),u_emissive_strength:new a.bN(w)}),fillPattern:w=>({u_matrix:new a.bK(w),u_emissive_strength:new a.bN(w),u_image:new a.bO(w),u_texsize:new a.bL(w),u_pixel_coord_upper:new a.bL(w),u_pixel_coord_lower:new a.bL(w),u_tile_units_to_pixels:new a.bN(w)}),fillOutline:w=>({u_matrix:new a.bK(w),u_emissive_strength:new a.bN(w),u_world:new a.bL(w)}),fillOutlinePattern:w=>({u_matrix:new a.bK(w),u_emissive_strength:new a.bN(w),u_world:new a.bL(w),u_image:new a.bO(w),u_texsize:new a.bL(w),u_pixel_coord_upper:new a.bL(w),u_pixel_coord_lower:new a.bL(w),u_tile_units_to_pixels:new a.bN(w)}),circle:a.cs,collisionBox:w=>({u_matrix:new a.bK(w),u_camera_to_center_distance:new a.bN(w),u_extrude_scale:new a.bL(w)}),collisionCircle:w=>({u_matrix:new a.bK(w),u_inv_matrix:new a.bK(w),u_camera_to_center_distance:new a.bN(w),u_viewport_size:new a.bL(w)}),debug:w=>({u_color:new a.ca(w),u_matrix:new a.bK(w),u_overlay:new a.bO(w),u_overlay_scale:new a.bN(w)}),clippingMask:w=>({u_matrix:new a.bK(w)}),heatmap:w=>({u_extrude_scale:new a.bN(w),u_intensity:new a.bN(w),u_matrix:new a.bK(w),u_inv_rot_matrix:new a.bK(w),u_merc_center:new a.bL(w),u_tile_id:new a.bM(w),u_zoom_transition:new a.bN(w),u_up_dir:new a.bM(w)}),heatmapTexture:w=>({u_image:new a.bO(w),u_color_ramp:new a.bO(w),u_opacity:new a.bN(w)}),hillshade:w=>({u_matrix:new a.bK(w),u_image:new a.bO(w),u_latrange:new a.bL(w),u_light:new a.bL(w),u_shadow:new a.ca(w),u_highlight:new a.ca(w),u_emissive_strength:new a.bN(w),u_accent:new a.ca(w)}),hillshadePrepare:w=>({u_matrix:new a.bK(w),u_image:new a.bO(w),u_dimension:new a.bL(w),u_zoom:new a.bN(w)}),line:a.ct,linePattern:a.cu,raster:w=>({u_matrix:new a.bK(w),u_normalize_matrix:new a.bK(w),u_globe_matrix:new a.bK(w),u_merc_matrix:new a.bK(w),u_grid_matrix:new a.cb(w),u_tl_parent:new a.bL(w),u_scale_parent:new a.bN(w),u_fade_t:new a.bN(w),u_opacity:new a.bN(w),u_image0:new a.bO(w),u_image1:new a.bO(w),u_brightness_low:new a.bN(w),u_brightness_high:new a.bN(w),u_saturation_factor:new a.bN(w),u_contrast_factor:new a.bN(w),u_spin_weights:new a.bM(w),u_perspective_transform:new a.bL(w),u_raster_elevation:new a.bN(w),u_zoom_transition:new a.bN(w),u_merc_center:new a.bL(w),u_cutoff_params:new a.bP(w),u_colorization_mix:new a.bP(w),u_colorization_offset:new a.bN(w),u_color_ramp:new a.bO(w),u_texture_offset:new a.bL(w),u_texture_res:new a.bL(w),u_emissive_strength:new a.bN(w)}),rasterParticle:w=>({u_matrix:new a.bK(w),u_normalize_matrix:new a.bK(w),u_globe_matrix:new a.bK(w),u_merc_matrix:new a.bK(w),u_grid_matrix:new a.cb(w),u_tl_parent:new a.bL(w),u_scale_parent:new a.bN(w),u_fade_t:new a.bN(w),u_opacity:new a.bN(w),u_image0:new a.bO(w),u_image1:new a.bO(w),u_raster_elevation:new a.bN(w),u_zoom_transition:new a.bN(w),u_merc_center:new a.bL(w),u_cutoff_params:new a.bP(w)}),rasterParticleTexture:w=>({u_texture:new a.bO(w),u_opacity:new a.bN(w)}),rasterParticleDraw:w=>({u_tile_offset:new a.bL(w),u_velocity:new a.bO(w),u_color_ramp:new a.bO(w),u_velocity_res:new a.bL(w),u_max_speed:new a.bN(w),u_texture_offset:new a.bL(w),u_data_scale:new a.bP(w),u_data_offset:new a.bN(w)}),rasterParticleUpdate:w=>({u_velocity:new a.bO(w),u_velocity_res:new a.bL(w),u_max_speed:new a.bN(w),u_speed_factor:new a.bN(w),u_lifetime_delta:new a.bN(w),u_rand_seed:new a.bN(w),u_texture_offset:new a.bL(w),u_data_scale:new a.bP(w),u_data_offset:new a.bN(w)}),symbolIcon:w=>({u_is_size_zoom_constant:new a.bO(w),u_is_size_feature_constant:new a.bO(w),u_size_t:new a.bN(w),u_size:new a.bN(w),u_camera_to_center_distance:new a.bN(w),u_rotate_symbol:new a.bO(w),u_aspect_ratio:new a.bN(w),u_fade_change:new a.bN(w),u_matrix:new a.bK(w),u_label_plane_matrix:new a.bK(w),u_coord_matrix:new a.bK(w),u_is_text:new a.bO(w),u_pitch_with_map:new a.bO(w),u_texsize:new a.bL(w),u_tile_id:new a.bM(w),u_zoom_transition:new a.bN(w),u_inv_rot_matrix:new a.bK(w),u_merc_center:new a.bL(w),u_camera_forward:new a.bM(w),u_tile_matrix:new a.bK(w),u_up_vector:new a.bM(w),u_ecef_origin:new a.bM(w),u_texture:new a.bO(w),u_icon_transition:new a.bN(w),u_icon_saturation:new a.bN(w)}),symbolSDF:w=>({u_is_size_zoom_constant:new a.bO(w),u_is_size_feature_constant:new a.bO(w),u_size_t:new a.bN(w),u_size:new a.bN(w),u_camera_to_center_distance:new a.bN(w),u_rotate_symbol:new a.bO(w),u_aspect_ratio:new a.bN(w),u_fade_change:new a.bN(w),u_matrix:new a.bK(w),u_label_plane_matrix:new a.bK(w),u_coord_matrix:new a.bK(w),u_is_text:new a.bO(w),u_pitch_with_map:new a.bO(w),u_texsize:new a.bL(w),u_texture:new a.bO(w),u_gamma_scale:new a.bN(w),u_device_pixel_ratio:new a.bN(w),u_tile_id:new a.bM(w),u_zoom_transition:new a.bN(w),u_inv_rot_matrix:new a.bK(w),u_merc_center:new a.bL(w),u_camera_forward:new a.bM(w),u_tile_matrix:new a.bK(w),u_up_vector:new a.bM(w),u_ecef_origin:new a.bM(w),u_is_halo:new a.bO(w)}),symbolTextAndIcon:w=>({u_is_size_zoom_constant:new a.bO(w),u_is_size_feature_constant:new a.bO(w),u_size_t:new a.bN(w),u_size:new a.bN(w),u_camera_to_center_distance:new a.bN(w),u_rotate_symbol:new a.bO(w),u_aspect_ratio:new a.bN(w),u_fade_change:new a.bN(w),u_matrix:new a.bK(w),u_label_plane_matrix:new a.bK(w),u_coord_matrix:new a.bK(w),u_is_text:new a.bO(w),u_pitch_with_map:new a.bO(w),u_texsize:new a.bL(w),u_texsize_icon:new a.bL(w),u_texture:new a.bO(w),u_texture_icon:new a.bO(w),u_gamma_scale:new a.bN(w),u_device_pixel_ratio:new a.bN(w),u_is_halo:new a.bO(w)}),background:w=>({u_matrix:new a.bK(w),u_emissive_strength:new a.bN(w),u_opacity:new a.bN(w),u_color:new a.ca(w)}),backgroundPattern:w=>({u_matrix:new a.bK(w),u_emissive_strength:new a.bN(w),u_opacity:new a.bN(w),u_image:new a.bO(w),u_pattern_tl:new a.bL(w),u_pattern_br:new a.bL(w),u_texsize:new a.bL(w),u_pattern_size:new a.bL(w),u_pixel_coord_upper:new a.bL(w),u_pixel_coord_lower:new a.bL(w),u_tile_units_to_pixels:new a.bN(w)}),terrainRaster:H1,terrainDepth:H1,skybox:w=>({u_matrix:new a.bK(w),u_sun_direction:new a.bM(w),u_cubemap:new a.bO(w),u_opacity:new a.bN(w),u_temporal_offset:new a.bN(w)}),skyboxGradient:w=>({u_matrix:new a.bK(w),u_color_ramp:new a.bO(w),u_center_direction:new a.bM(w),u_radius:new a.bN(w),u_opacity:new a.bN(w),u_temporal_offset:new a.bN(w)}),skyboxCapture:w=>({u_matrix_3f:new a.cb(w),u_sun_direction:new a.bM(w),u_sun_intensity:new a.bN(w),u_color_tint_r:new a.bP(w),u_color_tint_m:new a.bP(w),u_luminance:new a.bN(w)}),globeRaster:w=>({u_proj_matrix:new a.bK(w),u_globe_matrix:new a.bK(w),u_normalize_matrix:new a.bK(w),u_merc_matrix:new a.bK(w),u_zoom_transition:new a.bN(w),u_merc_center:new a.bL(w),u_image0:new a.bO(w),u_grid_matrix:new a.cb(w),u_skirt_height:new a.bN(w),u_far_z_cutoff:new a.bN(w),u_frustum_tl:new a.bM(w),u_frustum_tr:new a.bM(w),u_frustum_br:new a.bM(w),u_frustum_bl:new a.bM(w),u_globe_pos:new a.bM(w),u_globe_radius:new a.bN(w),u_viewport:new a.bL(w)}),globeAtmosphere:w=>({u_frustum_tl:new a.bM(w),u_frustum_tr:new a.bM(w),u_frustum_br:new a.bM(w),u_frustum_bl:new a.bM(w),u_horizon:new a.bN(w),u_transition:new a.bN(w),u_fadeout_range:new a.bN(w),u_color:new a.bP(w),u_high_color:new a.bP(w),u_space_color:new a.bP(w),u_temporal_offset:new a.bN(w),u_horizon_angle:new a.bN(w)}),model:w=>({u_matrix:new a.bK(w),u_lighting_matrix:new a.bK(w),u_normal_matrix:new a.bK(w),u_lightpos:new a.bM(w),u_lightintensity:new a.bN(w),u_lightcolor:new a.bM(w),u_camera_pos:new a.bM(w),u_opacity:new a.bN(w),u_baseColorFactor:new a.bP(w),u_emissiveFactor:new a.bP(w),u_metallicFactor:new a.bN(w),u_roughnessFactor:new a.bN(w),u_baseTextureIsAlpha:new a.bO(w),u_alphaMask:new a.bO(w),u_alphaCutoff:new a.bN(w),u_baseColorTexture:new a.bO(w),u_metallicRoughnessTexture:new a.bO(w),u_normalTexture:new a.bO(w),u_occlusionTexture:new a.bO(w),u_emissionTexture:new a.bO(w),u_color_mix:new a.bP(w),u_aoIntensity:new a.bN(w),u_emissive_strength:new a.bN(w),u_occlusionTextureTransform:new a.bP(w)}),modelDepth:w=>({u_matrix:new a.bK(w),u_instance:new a.bK(w),u_node_matrix:new a.bK(w)}),groundShadow:w=>({u_matrix:new a.bK(w),u_ground_shadow_factor:new a.bM(w)}),stars:w=>({u_matrix:new a.bK(w),u_up:new a.bM(w),u_right:new a.bM(w),u_intensity_multiplier:new a.bN(w)})};let V;function re(w,d,g,x,B,L,D){const $=w.context,Y=$.gl,ae=w.transform,de=w.getOrCreateProgram("collisionBox"),Ae=[];let Ce=0,Me=0;for(let st=0;st<x.length;st++){const At=x[st],qe=d.getTile(At),mt=qe.getBucket(g);if(!mt)continue;const Pt=Ys(At,mt,ae);let Ot=Pt;B[0]===0&&B[1]===0||(Ot=w.translatePosMatrix(Pt,qe,B,L));const Qt=D?mt.textCollisionBox:mt.iconCollisionBox,fn=mt.collisionCircleArray;if(fn.length>0){const Wt=a.a6.create(),xn=Ot;a.a6.mul(Wt,mt.placementInvProjMatrix,ae.glCoordMatrix),a.a6.mul(Wt,Wt,mt.placementViewportMatrix),Ae.push({circleArray:fn,circleOffset:Me,transform:xn,invTransform:Wt,projection:mt.getProjection()}),Ce+=fn.length/4,Me=Ce}Qt&&(w.terrain&&w.terrain.setupElevationDraw(qe,de),de.draw(w,Y.LINES,rr.disabled,si.disabled,w.colorModeForRenderPass(),Vr.disabled,rg(Ot,ae,qe,mt.getProjection()),g.id,Qt.layoutVertexBuffer,Qt.indexBuffer,Qt.segments,null,ae.zoom,null,[Qt.collisionVertexBuffer,Qt.collisionVertexBufferExt]))}if(!D||!Ae.length)return;const He=w.getOrCreateProgram("collisionCircle"),$e=new a.cv;$e.resize(4*Ce),$e._trim();let Ke=0;for(const st of Ae)for(let At=0;At<st.circleArray.length/4;At++){const qe=4*At,mt=st.circleArray[qe+0],Pt=st.circleArray[qe+1],Ot=st.circleArray[qe+2],Qt=st.circleArray[qe+3];$e.emplace(Ke++,mt,Pt,Ot,Qt,0),$e.emplace(Ke++,mt,Pt,Ot,Qt,1),$e.emplace(Ke++,mt,Pt,Ot,Qt,2),$e.emplace(Ke++,mt,Pt,Ot,Qt,3)}(!V||V.length<2*Ce)&&(V=function(st){const At=2*st,qe=new a.aw;qe.resize(At),qe._trim();for(let mt=0;mt<At;mt++){const Pt=6*mt;qe.uint16[Pt+0]=4*mt+0,qe.uint16[Pt+1]=4*mt+1,qe.uint16[Pt+2]=4*mt+2,qe.uint16[Pt+3]=4*mt+2,qe.uint16[Pt+4]=4*mt+3,qe.uint16[Pt+5]=4*mt+0}return qe}(Ce));const Pe=$.createIndexBuffer(V,!0),Ze=$.createVertexBuffer($e,a.cw.members,!0);for(const st of Ae){const At={u_matrix:st.transform,u_inv_matrix:st.invTransform,u_camera_to_center_distance:(pt=ae).getCameraToCenterDistance(st.projection),u_viewport_size:[pt.width,pt.height]};He.draw(w,Y.TRIANGLES,rr.disabled,si.disabled,w.colorModeForRenderPass(),Vr.disabled,At,g.id,Ze,Pe,a.aB.simpleSegment(0,2*st.circleOffset,st.circleArray.length,st.circleArray.length/2),null,ae.zoom)}var pt;Ze.destroy(),Pe.destroy()}const we=a.a6.create();function Fe(w){const d=w._camera.getWorldToCamera(w.worldSize,1),g=a.a6.multiply([],d,w.globeMatrix);a.a6.invert(g,g);const x=[0,0,0],B=[0,1,0,0];return a.a7.transformMat4(B,B,g),x[0]=B[0],x[1]=B[1],x[2]=B[2],a.N.normalize(x,x),x}function ze({width:w,height:d,anchor:g,textOffset:x,textScale:B},L){const{horizontalAlign:D,verticalAlign:$}=a.bf(g),Y=-(D-.5)*w,ae=-($-.5)*d,de=a.bd(g,x);return new a.P((Y/B+de[0])*L,(ae/B+de[1])*L)}function ct(w,d,g,x,B,L,D,$,Y,ae,de){const Ae=w.text.placedSymbolArray,Ce=w.text.dynamicLayoutVertexArray,Me=w.icon.dynamicLayoutVertexArray,He={},$e=w.getProjection(),Ke=Xs($,$e,L),Pe=L.elevation,Ze=$e.upVectorScale($.canonical,L.center.lat,L.worldSize).metersToTile;Ce.clear();for(let pt=0;pt<Ae.length;pt++){const st=Ae.get(pt),{tileAnchorX:At,tileAnchorY:qe,numGlyphs:mt}=st,Pt=st.hidden||!st.crossTileID||w.allowVerticalPlacement&&!st.placedOrientation?null:x[st.crossTileID];if(Pt){let Ot=0,Qt=0,fn=0;if(Pe){const Kn=Pe?Pe.getAtTileOffset($,At,qe):0,[ir,nr,pr]=$e.upVector($.canonical,At,qe);Ot=Kn*ir*Ze,Qt=Kn*nr*Ze,fn=Kn*pr*Ze}let[Wt,xn,_n,$n]=jo(st.projectedAnchorX+Ot,st.projectedAnchorY+Qt,st.projectedAnchorZ+fn,g?Ke:D);const Yt=wA(L.getCameraToCenterDistance($e),$n);let mn=B.evaluateSizeForFeature(w.textSizeData,ae,st)*Yt/a.bc;g&&(mn*=w.tilePixelRatio/Y);const $t=ze(Pt,mn);g?({x:Wt,y:xn,z:_n}=$e.projectTilePoint(At+$t.x,qe+$t.y,$.canonical),[Wt,xn,_n]=jo(Wt+Ot,xn+Qt,_n+fn,D)):(d&&$t._rotate(-L.angle),Wt+=$t.x,xn+=$t.y,_n=0);const on=w.allowVerticalPlacement&&st.placedOrientation===a.b6.vertical?Math.PI/2:0;for(let Kn=0;Kn<mt;Kn++)a.b9(Ce,Wt,xn,_n,on);de&&st.associatedIconIndex>=0&&(He[st.associatedIconIndex]={x:Wt,y:xn,z:_n,angle:on})}else gi(mt,Ce)}if(de){Me.clear();const pt=w.icon.placedSymbolArray;for(let st=0;st<pt.length;st++){const At=pt.get(st),{numGlyphs:qe}=At,mt=He[st];if(At.hidden||!mt)gi(qe,Me);else{const{x:Pt,y:Ot,z:Qt,angle:fn}=mt;for(let Wt=0;Wt<qe;Wt++)a.b9(Me,Pt,Ot,Qt,fn)}}w.icon.dynamicLayoutVertexBuffer.updateData(Me)}w.text.dynamicLayoutVertexBuffer.updateData(Ce)}function dt(w,d,g,x,B,L,D={}){const $=g.paint.get("icon-translate"),Y=g.paint.get("text-translate"),ae=g.paint.get("icon-translate-anchor"),de=g.paint.get("text-translate-anchor"),Ae=g.layout.get("icon-rotation-alignment"),Ce=g.layout.get("text-rotation-alignment"),Me=g.layout.get("icon-pitch-alignment"),He=g.layout.get("text-pitch-alignment"),$e=g.layout.get("icon-keep-upright"),Ke=g.layout.get("text-keep-upright"),Pe=g.paint.get("icon-color-saturation"),Ze=w.context,pt=Ze.gl,st=w.transform,At=Ae==="map",qe=Ce==="map",mt=Me==="map",Pt=He==="map",Ot=g.layout.get("symbol-sort-key").constantOr(1)!==void 0;let Qt=!1;const fn=w.depthModeForSublayer(0,rr.ReadOnly),Wt=[a.a5(st.center.lng),a.ae(st.center.lat)],xn=g.layout.get("text-variable-anchor"),_n=st.projection.name==="globe",$n=[],Yt=[0,-1,0];for(const mn of x){const $t=d.getTile(mn),on=$t.getBucket(g);if(!on||on.projection.name==="mercator"&&_n||on.fullyClipped)continue;const Kn=on.projection.name==="globe",ir=Kn?a.S(st.zoom):0,nr=Xs(mn,on.getProjection(),st),pr=st.calculatePixelsToTileUnitsMatrix($t),Ir=xn&&on.hasTextData(),jr=on.hasIconTextFit()&&Ir&&on.hasIconData(),Nr=on.getProjection().createInversionMatrix(st,mn.canonical),zr=()=>{const ks=At&&g.layout.get("symbol-placement")!=="point",Xi=[],_a=ks||jr,Zi=g.paint.get("icon-image-cross-fade").constantOr(0);w.terrainRenderModeElevated()&&mt&&Xi.push("PITCH_WITH_MAP_TERRAIN"),Kn&&(Xi.push("PROJECTION_GLOBE_VIEW"),_a&&Xi.push("PROJECTED_POS_ON_VIEWPORT")),Zi>0&&Xi.push("ICON_TRANSITION"),on.icon.zOffsetVertexBuffer&&Xi.push("Z_OFFSET"),Pe<1&&Xi.push("SATURATION");const ma=on.icon.programConfigurations.get(g.id),ls=w.getOrCreateProgram(on.sdfIcons?"symbolSDF":"symbolIcon",{config:ma,defines:Xi});let xa;const ll=$t.imageAtlasTexture?$t.imageAtlasTexture.size:[0,0],eu=on.iconSizeData,_c=a.b5(eu,st.zoom),df=mt||st.pitch!==0,yc=vh(nr,$t.tileID.canonical,mt,At,st,on.getProjection(),pr),ul=ep(nr,$t.tileID.canonical,mt,At,st,on.getProjection(),pr),Vo=w.translatePosMatrix(ul,$t,$,ae,!0),Uu=w.translatePosMatrix(nr,$t,$,ae),nc=_a?we:yc,bc=At&&!mt&&!ks;let ff=Yt;!_n&&!st.mercatorFromTransition||At||(ff=Fe(st));const zA=Kn?ff:Yt;xa=on.sdfIcons&&!on.iconsInText?ag(eu.kind,_c,bc,mt,w,Uu,nc,Vo,!1,ll,!0,mn,ir,Wt,Nr,zA,on.getProjection()):$0(eu.kind,_c,bc,mt,w,Uu,nc,Vo,!1,ll,mn,ir,Wt,Nr,zA,on.getProjection(),Pe,Zi);const wg=$t.imageAtlasTexture?$t.imageAtlasTexture:null,s_=g.layout.get("icon-size").constantOr(0)!==1||on.iconsNeedLinear,o_=on.sdfIcons||w.options.rotating||w.options.zooming||s_||df?pt.LINEAR:pt.NEAREST,kx=on.sdfIcons&&g.paint.get("icon-halo-width").constantOr(1)!==0,l_=w.terrain&&mt&&ks?a.a6.invert(a.a6.create(),yc):we;if(ks&&on.icon){const K0=st.elevation,Ab=K0?K0.getAtTileOffsetFunc(mn,st.center.lat,st.worldSize,on.getProjection()):null,yp=cd(nr,$t.tileID.canonical,mt,At,st,on.getProjection(),pr);tt(on,nr,w,!1,yp,ul,mt,$e,Ab,mn)}return{program:ls,buffers:on.icon,uniformValues:xa,atlasTexture:wg,atlasTextureIcon:null,atlasInterpolation:o_,atlasInterpolationIcon:null,isSDF:on.sdfIcons,hasHalo:kx,tile:$t,labelPlaneMatrixInv:l_}},Ri=()=>{const ks=qe&&g.layout.get("symbol-placement")!=="point",Xi=[],_a=ks||xn||jr;w.terrainRenderModeElevated()&&Pt&&Xi.push("PITCH_WITH_MAP_TERRAIN"),Kn&&(Xi.push("PROJECTION_GLOBE_VIEW"),_a&&Xi.push("PROJECTED_POS_ON_VIEWPORT")),on.text.zOffsetVertexBuffer&&Xi.push("Z_OFFSET");const Zi=on.text.programConfigurations.get(g.id),ma=w.getOrCreateProgram(on.iconsInText?"symbolTextAndIcon":"symbolSDF",{config:Zi,defines:Xi});let ls,xa=[0,0],ll=null;const eu=on.textSizeData;on.iconsInText&&(xa=$t.imageAtlasTexture?$t.imageAtlasTexture.size:[0,0],ll=$t.imageAtlasTexture?$t.imageAtlasTexture:null,ls=Pt||st.pitch!==0||w.options.rotating||w.options.zooming||eu.kind==="composite"||eu.kind==="camera"?pt.LINEAR:pt.NEAREST);const _c=$t.glyphAtlasTexture?$t.glyphAtlasTexture.size:[0,0],df=a.b5(eu,st.zoom),yc=vh(nr,$t.tileID.canonical,Pt,qe,st,on.getProjection(),pr),ul=ep(nr,$t.tileID.canonical,Pt,qe,st,on.getProjection(),pr),Vo=w.translatePosMatrix(ul,$t,Y,de,!0),Uu=w.translatePosMatrix(nr,$t,Y,de),nc=_a?we:yc,bc=qe&&!Pt&&!ks;let ff=Yt;!_n&&!st.mercatorFromTransition||qe||(ff=Fe(st));const zA=Kn?ff:Yt;let wg;wg=on.iconsInText?V0(eu.kind,df,bc,Pt,w,Uu,nc,Vo,_c,xa,mn,ir,Wt,Nr,zA,on.getProjection()):ag(eu.kind,df,bc,Pt,w,Uu,nc,Vo,!0,_c,!0,mn,ir,Wt,Nr,zA,on.getProjection());const s_=$t.glyphAtlasTexture?$t.glyphAtlasTexture:null,o_=pt.LINEAR,kx=g.paint.get("text-halo-width").constantOr(1)!==0,l_=w.terrain&&Pt&&ks?a.a6.invert(a.a6.create(),yc):we;if(ks&&on.text){const K0=st.elevation,Ab=K0?K0.getAtTileOffsetFunc(mn,st.center.lat,st.worldSize,on.getProjection()):null,yp=cd(nr,$t.tileID.canonical,Pt,qe,st,on.getProjection(),pr);tt(on,nr,w,!0,yp,ul,Pt,Ke,Ab,mn)}return{program:ma,buffers:on.text,uniformValues:wg,atlasTexture:s_,atlasTextureIcon:ll,atlasInterpolation:o_,atlasInterpolationIcon:ls,isSDF:!0,hasHalo:kx,tile:$t,labelPlaneMatrixInv:l_}},hi=on.icon.segments.get().length,Ei=on.text.segments.get().length,wi=hi&&!D.onlyText?zr():null,ia=Ei&&!D.onlyIcons?Ri():null,ns=g.paint.get("icon-opacity").constantOr(1),Yi=g.paint.get("text-opacity").constantOr(1);if(Ot&&on.canOverlap){Qt=!0;const ks=ns&&!D.onlyText?on.icon.segments.get():[],Xi=Yi&&!D.onlyIcons?on.text.segments.get():[];for(const _a of ks)$n.push({segments:new a.aB([_a]),sortKey:_a.sortKey,state:wi});for(const _a of Xi)$n.push({segments:new a.aB([_a]),sortKey:_a.sortKey,state:ia})}else D.onlyText||$n.push({segments:ns?on.icon.segments:new a.aB([]),sortKey:0,state:wi}),D.onlyIcons||$n.push({segments:Yi?on.text.segments:new a.aB([]),sortKey:0,state:ia})}Qt&&$n.sort((mn,$t)=>mn.sortKey-$t.sortKey);for(const mn of $n){const $t=mn.state;if($t)if(w.terrain&&w.terrain.setupElevationDraw($t.tile,$t.program,{useDepthForOcclusion:st.depthOcclusionForSymbolsAndCircles,labelPlaneMatrixInv:$t.labelPlaneMatrixInv}),Ze.activeTexture.set(pt.TEXTURE0),$t.atlasTexture&&$t.atlasTexture.bind($t.atlasInterpolation,pt.CLAMP_TO_EDGE,!0),$t.atlasTextureIcon&&(Ze.activeTexture.set(pt.TEXTURE1),$t.atlasTextureIcon&&$t.atlasTextureIcon.bind($t.atlasInterpolationIcon,pt.CLAMP_TO_EDGE,!0)),w.uploadCommonLightUniforms(w.context,$t.program),$t.hasHalo){const on=$t.uniformValues;on.u_is_halo=1,gt($t.buffers,mn.segments,g,w,$t.program,fn,B,L,on,2),on.u_is_halo=0}else{if($t.isSDF){const on=$t.uniformValues;$t.hasHalo&&(on.u_is_halo=1,gt($t.buffers,mn.segments,g,w,$t.program,fn,B,L,on,1)),on.u_is_halo=0}gt($t.buffers,mn.segments,g,w,$t.program,fn,B,L,$t.uniformValues,1)}}}function gt(w,d,g,x,B,L,D,$,Y,ae){const de=[w.dynamicLayoutVertexBuffer,w.opacityVertexBuffer,w.iconTransitioningVertexBuffer,w.globeExtVertexBuffer,w.zOffsetVertexBuffer];B.draw(x,x.context.gl.TRIANGLES,L,D,$,Vr.disabled,Y,g.id,w.layoutVertexBuffer,w.indexBuffer,d,g.paint,x.transform.zoom,w.programConfigurations.get(g.id),de,ae)}function Ct(w,d,g,x,B,L,D){const $=w.context.gl,Y=g.paint.get("fill-pattern"),ae=Y&&Y.constantOr(1);let de,Ae,Ce,Me,He;D?(Ae=ae&&!g.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",de=$.LINES):(Ae=ae?"fillPattern":"fill",de=$.TRIANGLES);for(const $e of x){const Ke=d.getTile($e);if(ae&&!Ke.patternsLoaded())continue;const Pe=Ke.getBucket(g);if(!Pe)continue;w.prepareDrawTile();const Ze=Pe.programConfigurations.get(g.id),pt=w.isTileAffectedByFog($e),st=w.getOrCreateProgram(Ae,{config:Ze,overrideFog:pt});ae&&(w.context.activeTexture.set($.TEXTURE0),Ke.imageAtlasTexture&&Ke.imageAtlasTexture.bind($.LINEAR,$.CLAMP_TO_EDGE),Ze.updatePaintBuffers());const At=Y.constantOr(null);if(At&&Ke.imageAtlas){const Pt=Ke.imageAtlas.patternPositions[At.toString()];Pt&&Ze.setConstantPatternPositions(Pt)}const qe=w.translatePosMatrix($e.projMatrix,Ke,g.paint.get("fill-translate"),g.paint.get("fill-translate-anchor")),mt=g.paint.get("fill-emissive-strength");if(D){Me=Pe.indexBuffer2,He=Pe.segments2;const Pt=w.terrain&&w.terrain.renderingToTexture?w.terrain.drapeBufferSize:[$.drawingBufferWidth,$.drawingBufferHeight];Ce=Ae==="fillOutlinePattern"&&ae?q1(qe,mt,w,Ke,Pt):sf(qe,mt,Pt)}else Me=Pe.indexBuffer,He=Pe.segments,Ce=ae?W1(qe,mt,w,Ke):LA(qe,mt);w.uploadCommonUniforms(w.context,st,$e.toUnwrapped()),st.draw(w,de,B,w.stencilModeForClipping($e),L,Vr.disabled,Ce,g.id,Pe.layoutVertexBuffer,Me,He,g.paint,w.transform.zoom,Ze,void 0)}}function ft(w,d,g,x,B,L,D,$){g.resetLayerRenderingStats(w);const Y=w.context,ae=Y.gl,de=w.transform,Ae=g.paint.get("fill-extrusion-pattern"),Ce=Ae.constantOr(1),Me=g.paint.get("fill-extrusion-opacity"),He=w.style.enable3dLights(),$e=g.paint.get(He&&!Ce?"fill-extrusion-ambient-occlusion-wall-radius":"fill-extrusion-ambient-occlusion-radius"),Ke=[g.paint.get("fill-extrusion-ambient-occlusion-intensity"),$e],Pe=g.layout.get("fill-extrusion-edge-radius"),Ze=Pe>0&&!g.paint.get("fill-extrusion-rounded-roof"),pt=Ze?0:Pe,st=de.projection.name==="globe"?a.cF():0,At=de.projection.name==="globe",qe=At?a.S(de.zoom):0,mt=[a.a5(de.center.lng),a.ae(de.center.lat)],Pt=g.paint.get("fill-extrusion-flood-light-color").toArray01().slice(0,3),Ot=g.paint.get("fill-extrusion-flood-light-intensity"),Qt=g.paint.get("fill-extrusion-vertical-scale"),fn=il(w,g.paint.get("fill-extrusion-cutoff-fade-range")),Wt=g.paint.get("fill-extrusion-emissive-strength"),xn=[];let _n;At&&xn.push("PROJECTION_GLOBE_VIEW"),Ke[0]>0&&xn.push("FAUX_AO"),Ze&&xn.push("ZERO_ROOF_RADIUS"),$&&xn.push("HAS_CENTROID"),Ot>0&&xn.push("FLOOD_LIGHT"),fn.shouldRenderCutoff&&xn.push("RENDER_CUTOFF");const $n=w.renderPass==="shadow",Yt=w.shadowRenderer,mn=$n&&!!Yt;w.shadowRenderer&&(w.shadowRenderer.useNormalOffset=!0);let $t=[0,0,0];if(Yt){const ir=w.style.directionalLight,nr=w.style.ambientLight;ir&&nr&&($t=Yl(ir,nr)),_n=xn.concat(["SHADOWS_SINGLE_CASCADE"])}const on=mn?"fillExtrusionDepth":Ce?"fillExtrusionPattern":"fillExtrusion",Kn=g.getLayerRenderingStats();for(const ir of x){const nr=d.getTile(ir),pr=nr.getBucket(g);if(!pr||pr.projection.name!==de.projection.name)continue;let Ir=!1;Yt&&(Ir=Yt.getMaxCascadeForTile(ir.toUnwrapped())===0);const jr=w.isTileAffectedByFog(ir),Nr=pr.programConfigurations.get(g.id),zr=w.getOrCreateProgram(on,{config:Nr,defines:Ir?_n:xn,overrideFog:jr});if(w.terrain&&w.terrain.setupElevationDraw(nr,zr,{useMeterToDem:!0}),!pr.centroidVertexBuffer){const ns=zr.attributes.a_centroid_pos;ns!==void 0&&ae.vertexAttrib2f(ns,0,0)}!$n&&Yt&&Yt.setupShadows(nr.tileID.toUnwrapped(),zr,"vector-tile",nr.tileID.overscaledZ),Ce&&(w.context.activeTexture.set(ae.TEXTURE0),nr.imageAtlasTexture&&nr.imageAtlasTexture.bind(ae.LINEAR,ae.CLAMP_TO_EDGE),Nr.updatePaintBuffers());const Ri=Ae.constantOr(null);if(Ri&&nr.imageAtlas){const ns=nr.imageAtlas.patternPositions[Ri.toString()];ns&&Nr.setConstantPatternPositions(ns)}const hi=g.paint.get("fill-extrusion-vertical-gradient");let Ei;if($n&&Yt){if(Qn(nr.tileID,pr,w))continue;const ns=Yt.calculateShadowPassMatrixFromTile(nr.tileID.toUnwrapped());Ei=Ch(ns,pt,Qt)}else{const ns=w.translatePosMatrix(ir.expandedProjMatrix,nr,g.paint.get("fill-extrusion-translate"),g.paint.get("fill-extrusion-translate-anchor")),Yi=de.projection.createInversionMatrix(de,ir.canonical);Ei=Ce?al(ns,w,hi,Me,Ke,pt,ir,nr,st,qe,mt,Yi,Pt,Qt):U0(ns,w,hi,Me,Ke,pt,ir,st,qe,mt,Yi,Pt,Qt,Ot,$t,Wt)}w.uploadCommonUniforms(Y,zr,ir.toUnwrapped(),null,fn);let wi=pr.segments;if(de.projection.name==="mercator"&&!$n&&(wi=pr.getVisibleSegments(nr.tileID,w.terrain,w.transform.getFrustum(0)),!wi.get().length))continue;if(Kn)if($n)for(const ns of wi.get())Kn.numRenderedVerticesInShadowPass+=ns.primitiveLength;else for(const ns of wi.get())Kn.numRenderedVerticesInTransparentPass+=ns.primitiveLength;const ia=[];(w.terrain||$)&&ia.push(pr.centroidVertexBuffer),At&&ia.push(pr.layoutVertexExtBuffer),zr.draw(w,Y.gl.TRIANGLES,B,L,D,Vr.backCCW,Ei,g.id,pr.layoutVertexBuffer,pr.indexBuffer,wi,g.paint,w.transform.zoom,Nr,ia)}w.shadowRenderer&&(w.shadowRenderer.useNormalOffset=!1)}function nn(w,d,g,x,B,L,D,$,Y,ae,de,Ae,Ce,Me,He,$e,Ke,Pe,Ze){const pt=w.context,st=pt.gl,At=w.transform,qe=w.transform.zoom,mt=[],Pt=il(w,g.paint.get("fill-extrusion-cutoff-fade-range"));ae==="clear"?(mt.push("CLEAR_SUBPASS"),Ze&&(mt.push("CLEAR_FROM_TEXTURE"),pt.activeTexture.set(st.TEXTURE0),Ze.bind(st.LINEAR,st.CLAMP_TO_EDGE))):ae==="sdf"&&mt.push("SDF_SUBPASS"),Ke&&mt.push("HAS_CENTROID"),Pt.shouldRenderCutoff&&mt.push("RENDER_CUTOFF");const Ot=g.layout.get("fill-extrusion-edge-radius"),Qt=(fn,Wt,xn,_n,$n)=>{const Yt=Wt.programConfigurations.get(g.id),mn=w.isTileAffectedByFog(fn),$t=w.getOrCreateProgram("fillExtrusionGroundEffect",{config:Yt,defines:mt,overrideFog:mn}),on=((ir,nr,pr,Ir,jr,Nr,zr,Ri,hi,Ei,wi)=>({u_matrix:nr,u_opacity:pr,u_ao_pass:Ir?1:0,u_meter_to_tile:jr,u_ao:Nr,u_flood_light_intensity:zr,u_flood_light_color:Ri,u_attenuation:hi,u_edge_radius:Ei,u_fb:0,u_fb_size:wi}))(0,_n,de,Y,$n,[Ae,Ce*$n],Me,He,$e,qe>=17?0:Ot*$n,Ze?Ze.size[0]:0),Kn=[];Ke&&Kn.push(Wt.hiddenByLandmarkVertexBuffer),w.uploadCommonUniforms(pt,$t,fn.toUnwrapped(),null,Pt),$t.draw(w,pt.gl.TRIANGLES,B,L,D,$,on,g.id,Wt.vertexBuffer,Wt.indexBuffer,xn,g.paint,qe,Yt,Kn)};for(const fn of x){const Wt=d.getTile(fn),xn=Wt.getBucket(g);if(!xn||xn.projection.name!==At.projection.name||!xn.groundEffect||xn.groundEffect&&!xn.groundEffect.hasData())continue;const _n=xn.groundEffect,$n=1/xn.tileToMeter;{const Yt=w.translatePosMatrix(fn.projMatrix,Wt,g.paint.get("fill-extrusion-translate"),g.paint.get("fill-extrusion-translate-anchor")),mn=_n.getDefaultSegment();Qt(fn,_n,mn,Yt,$n)}if(Pe)for(let Yt=0;Yt<4;Yt++){const mn=a.cG[Yt](fn),$t=d.getTile(mn);if(!$t)continue;const on=$t.getBucket(g);if(!on||on.projection.name!==At.projection.name||!on.groundEffect||on.groundEffect&&!on.groundEffect.hasData())continue;const Kn=on.groundEffect;let ir,nr;Yt===0?(ir=[-a.V,0,0],nr=1):Yt===1?(ir=[a.V,0,0],nr=0):Yt===2?(ir=[0,-a.V,0],nr=3):(ir=[0,a.V,0],nr=2);const pr=Kn.regionSegments[nr];if(!pr)continue;const Ir=new Float32Array(16);a.a6.translate(Ir,fn.projMatrix,ir),Qt(fn,Kn,pr,w.translatePosMatrix(Ir,Wt,g.paint.get("fill-extrusion-translate"),g.paint.get("fill-extrusion-translate-anchor")),$n)}}}function Bn(w,d,g,x,B,L,D){x.centroidVertexArray.length===0&&x.createCentroidsBuffer();const $=L?L.findDEMTileFor(g):null;if(!($&&$.dem||D))return;const Y=Pe=>new a.P(Math.ceil((Pe+a.cJ)*a.cK),0),ae=Pe=>{const Ze=d.getSource().minzoom,pt=At=>{const qe=d.getTileByID(At);if(qe&&qe.hasData())return qe.getBucket(B)},st=[0,-1,1];for(const At of st){if(Pe.overscaledZ+At<Ze)continue;const qe=pt(Pe.calculateScaledKey(Pe.overscaledZ+At));if(qe)return qe}},de=[0,0,0],Ae=(Pe,Ze)=>(de[0]=Math.min(Pe.min.y,Ze.min.y),de[1]=Math.max(Pe.max.y,Ze.max.y),de[2]=a.V-Ze.min.x>Pe.max.x?Ze.min.x-a.V:Pe.max.x,de),Ce=(Pe,Ze)=>(de[0]=Math.min(Pe.min.x,Ze.min.x),de[1]=Math.max(Pe.max.x,Ze.max.x),de[2]=a.V-Ze.min.y>Pe.max.y?Ze.min.y-a.V:Pe.max.y,de),Me=[(Pe,Ze)=>Ae(Pe,Ze),(Pe,Ze)=>Ae(Ze,Pe),(Pe,Ze)=>Ce(Pe,Ze),(Pe,Ze)=>Ce(Ze,Pe)],He=(Pe,Ze,pt,st,At,qe,mt)=>{if(!L)return 0;const Pt=[[qe?pt:Pe,qe?Pe:pt,0],[qe?pt:Ze,qe?Ze:pt,0]],Ot=mt<0?a.V+mt:mt,Qt=[qe?Ot:(Pe+Ze)/2,qe?(Pe+Ze)/2:Ot,0];return pt===0&&mt<0||pt!==0&&mt>0?L.getForTilePoints(At,[Qt],!0,st):Pt.push(Qt),L.getForTilePoints(g,Pt,!0,$),Math.max(Pt[0][2],Pt[1][2],Qt[2])/L.exaggeration()};for(let Pe=0;Pe<4;Pe++){const Ze=x.borderFeatureIndices[Pe];if(Ze.length===0)continue;const pt=a.cG[Pe](g),st=ae(pt);if(!(st&&st instanceof a.cH)||x.borderDoneWithNeighborZ[Pe]===st.canonical.z)continue;st.centroidVertexArray.length===0&&st.createCentroidsBuffer();const At=L?L.findDEMTileFor(pt):null;if(!(At&&At.dem||D))continue;const qe=(Pe<2?1:5)-Pe,mt=st.borderDoneWithNeighborZ[qe]!==x.canonical.z,Pt=st.borderFeatureIndices[qe];let Ot=0;if(x.canonical.z!==st.canonical.z){for(const Qt of Ze)x.showCentroid(x.featuresOnBorder[Qt]);if(mt)for(const Qt of Pt)st.showCentroid(st.featuresOnBorder[Qt]);x.borderDoneWithNeighborZ[Pe]=st.canonical.z,st.borderDoneWithNeighborZ[qe]=x.canonical.z}for(const Qt of Ze){const fn=x.featuresOnBorder[Qt],Wt=x.centroidData[fn.centroidDataIndex],xn=fn.borders[Pe];let _n;for(;Ot<Pt.length;){_n=st.featuresOnBorder[Pt[Ot]];const $n=_n.borders[qe];if($n[1]>xn[0]+3||$n[0]>xn[0]-3)break;st.showCentroid(_n),Ot++}if(_n&&Ot<Pt.length){const $n=Ot;let Yt=0;for(;!(_n.borders[qe][0]>xn[1]-3)&&(Yt++,++Ot!==Pt.length);)_n=st.featuresOnBorder[Pt[Ot]];if(_n=st.featuresOnBorder[Pt[$n]],Yt>1){const on=_n.borders[qe];Math.abs(xn[0]-on[0])<3&&Math.abs(xn[1]-on[1])<3&&(Yt=1,Ot=$n+1)}else if(Yt===0){x.showCentroid(fn);continue}const mn=st.centroidData[_n.centroidDataIndex];D&&Yt===1&&((($e=Wt).flags|(Ke=mn).flags)&a.cI?($e.flags|=a.cI,Ke.flags|=a.cI):($e.flags&=~a.cI,Ke.flags&=~a.cI));const $t=fn.intersectsCount()>1||_n.intersectsCount()>1;if(Yt>1)Ot=$n,Wt.centroidXY=mn.centroidXY=new a.P(0,0);else if(At&&At.dem&&!$t){const on=Me[Pe](Wt,mn),Kn=Pe%2?a.V-1:0,ir=He(on[0],Math.min(a.V-1,on[1]),Kn,At,pt,Pe<2,on[2]);Wt.centroidXY=mn.centroidXY=Y(ir)}else $t?Wt.centroidXY=mn.centroidXY=new a.P(0,0):(Wt.centroidXY=x.encodeBorderCentroid(fn),mn.centroidXY=st.encodeBorderCentroid(_n));x.writeCentroidToBuffer(Wt),st.writeCentroidToBuffer(mn)}else x.showCentroid(fn)}x.borderDoneWithNeighborZ[Pe]=st.canonical.z,st.borderDoneWithNeighborZ[qe]=x.canonical.z}var $e,Ke;(x.needsCentroidUpdate||!x.centroidVertexBuffer&&x.centroidVertexArray.length!==0)&&x.uploadCentroid(w)}const Mn=[1,0,0],An=[0,1,0],hr=[0,0,1];function Qn(w,d,g){const x=g.transform,B=g.shadowRenderer;if(!B)return!0;const L=w.toUnwrapped(),D=x.tileSize*B._cascades[g.currentShadowCascade].scale;let $=d.maxHeight;if(x.elevation){const $e=x.elevation.getMinMaxForTile(w);$e&&($+=$e.max)}const Y=[...B.shadowDirection];Y[2]=-Y[2];const ae=B.computeSimplifiedTileShadowVolume(L,$,D,Y);if(!ae)return!1;const de=[Mn,An,hr,Y,[Y[0],0,Y[2]],[0,Y[1],Y[2]]],Ae=x.projection.name==="globe",Ce=x.scaleZoom(D),Me=a.bq.fromInvProjectionMatrix(x.invProjMatrix,x.worldSize,Ce,!Ae),He=B.getCurrentCascadeFrustum();return Me.intersectsPrecise(ae.vertices,ae.planes,de)===0||He.intersectsPrecise(ae.vertices,ae.planes,de)===0}function un(w){return[w[0]*a.cL,w[1]*a.cL,w[2]*a.cL,0]}function dn(w,d,g,x,B,L,D,$,Y){const ae=x.getSource(),de=g.globeSharedBuffers;if(!de)return;let Ae,Ce,Me;if(d&&(Ae=x.getTile(d)),ae instanceof a.ap?(Ce=ae.texture,Me=a.cj(0,0,g.transform)):Ae&&d&&(Ce=Ae.texture,Me=a.cj(d.canonical.z,d.canonical.x,g.transform)),!Ce||!Me)return;w||(Me=a.a6.scale(a.a6.create(),Me,[1,-1,1]));const He=g.context,$e=He.gl,Ke=B.paint.get("raster-resampling")==="nearest"?$e.NEAREST:$e.LINEAR,Pe=g.colorModeForDrapableLayerRenderPass(L),Ze=D.defines;Ze.push("GLOBE_POLES");const pt=new rr($e.LEQUAL,rr.ReadWrite,g.depthRangeFor3D),st=Float32Array.from(g.transform.expandedFarZProjMatrix),At=Float32Array.from(a.aT(a.ci(new a.bs(0,0,0))));g.terrain&&g.terrain.prepareDrawTile(),He.activeTexture.set($e.TEXTURE0),Ce.bind(Ke,$e.CLAMP_TO_EDGE),He.activeTexture.set($e.TEXTURE1),Ce.bind(Ke,$e.CLAMP_TO_EDGE),Ce.useMipmap&&He.extTextureFilterAnisotropic&&g.transform.pitch>20&&$e.texParameterf($e.TEXTURE_2D,He.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,He.extTextureFilterAnisotropicMax);const[qe,mt,Pt,Ot]=d?de.getPoleBuffers(d.canonical.z,!1):de.getPoleBuffers(0,!0),Qt=B.paint.get("raster-elevation");let fn;w?(fn=qe,g.renderDefaultNorthPole=Qt!==0):(fn=mt,g.renderDefaultSouthPole=Qt!==0);const Wt=un(D.mix),xn=(($n,Yt,mn,$t,on,Kn,ir,nr,pr,Ir,jr,Nr,zr)=>ig($n,Yt,mn,new Float32Array(16),new Float32Array(9),[0,0],$t,[0,0],[0,0,0,0],1,{opacity:1,mix:0},Kn,[0,0],nr,2,Ir,jr,Nr,1,0,zr))(st,At,Me,a.S(g.transform.zoom),0,B,0,Qt,0,Wt,D.offset,D.range,L),_n=g.getOrCreateProgram("raster",{defines:Ze});g.uploadCommonUniforms(He,_n,null),_n.draw(g,$e.TRIANGLES,pt,Y,Pe,$,xn,B.id,fn,Pt,Ot)}function sr(w){const d=w._nearZ,g=w.projection.farthestPixelDistance(w),x=g-d,B=.2*w.height,L=d+B;return[d,g,(L-B-d)/x,(L-d)/x]}function fr(w,d,g,x){if(w)return d instanceof kn&&w instanceof Ah?d.getTextureDescriptor(w,g,!0):{texture:w.texture,mix:un(x.mix),offset:x.offset,buffer:0,tileSize:1}}function ur(w,d,g){if(!w)return null;const x=d.getTextureDescriptor(w,g,!0);if(!x)return null;let{texture:B,mix:L,offset:D,tileSize:$,buffer:Y,format:ae}=x;if(!B||!ae)return null;let de=!1;return ae==="uint32"&&(de=!0,L[3]=0,L=hp(a.cM,L,[0,g.paint.get("raster-particle-max-speed")]),D=PA(a.cM,D,[0,g.paint.get("raster-particle-max-speed")])),{texture:B,textureOffset:[Y/($+2*Y),$/($+2*Y)],tileSize:$,scalarData:de,scale:L,offset:D,defines:["RASTER_ARRAY",{uint8:"DATA_FORMAT_UINT8",uint16:"DATA_FORMAT_UINT16",uint32:"DATA_FORMAT_UINT32"}[ae]]}}function Zr(w){const d=w._nearZ,g=w.projection.farthestPixelDistance(w),x=g-d,B=.2*w.height,L=d+B;return[d,g,(L-B-d)/x,(L-d)/x]}const Er=new a.ax(1,0,0,1),bi=new a.ax(0,1,0,1),Gr=new a.ax(0,0,1,1),Ya=new a.ax(1,0,1,1),os=new a.ax(0,1,1,1);function Ta(w,d,g,x,B,L,D){const $=w.context,Y=w.transform,ae=$.gl,de=Y.projection.name==="globe",Ae=de?["PROJECTION_GLOBE_VIEW"]:[];let Ce=a.a6.clone(g.projMatrix);if(de&&a.S(Y.zoom)>0){const Wt=a.aS(g.canonical,Y),xn=a.cN(Wt);Ce=a.a6.multiply(new Float32Array(16),Y.globeMatrix,xn),a.a6.multiply(Ce,Y.projMatrix,Ce)}const Me=a.a6.create();Me[12]+=2*B/(a.f.devicePixelRatio*Y.width),Me[13]+=2*L/(a.f.devicePixelRatio*Y.height),a.a6.multiply(Ce,Me,Ce);const He=w.getOrCreateProgram("debug",{defines:Ae}),$e=d.getTileByID(g.key);w.terrain&&w.terrain.setupElevationDraw($e,He);const Ke=rr.disabled,Pe=si.disabled,Ze=w.colorModeForRenderPass(),pt="$debug";$.activeTexture.set(ae.TEXTURE0),w.emptyTexture.bind(ae.LINEAR,ae.CLAMP_TO_EDGE),de?$e._makeGlobeTileDebugBuffers(w.context,Y):$e._makeDebugTileBoundsBuffers(w.context,Y.projection);const st=$e._tileDebugBuffer||w.debugBuffer,At=$e._tileDebugIndexBuffer||w.debugIndexBuffer,qe=$e._tileDebugSegments||w.debugSegments;if(He.draw(w,ae.LINE_STRIP,Ke,Pe,Ze,Vr.disabled,z0(Ce,x),pt,st,At,qe,null,null,null,[$e._globeTileDebugBorderBuffer]),D){const Wt=$e.latestRawTileData,xn=Math.floor((Wt&&Wt.byteLength||0)/1024);let _n=g.canonical.toString();g.overscaledZ!==g.canonical.z&&(_n+=` => ${g.overscaledZ}`),_n+=` ${$e.state}`,_n+=` ${xn}kb`,function($n,Yt){$n.initDebugOverlayCanvas();const mn=$n.debugOverlayCanvas,$t=$n.context.gl,on=$n.debugOverlayCanvas.getContext("2d");on.clearRect(0,0,mn.width,mn.height),on.shadowColor="white",on.shadowBlur=2,on.lineWidth=1.5,on.strokeStyle="white",on.textBaseline="top",on.font="bold 36px Open Sans, sans-serif",on.fillText(Yt,5,5),on.strokeText(Yt,5,5),$n.debugOverlayTexture.update(mn),$n.debugOverlayTexture.bind($t.LINEAR,$t.CLAMP_TO_EDGE)}(w,_n)}const mt=d.getTile(g).tileSize,Pt=512/Math.min(mt,512)*(g.overscaledZ/Y.zoom)*.5,Ot=$e._tileDebugTextBuffer||w.debugBuffer,Qt=$e._tileDebugTextIndexBuffer||w.quadTriangleIndexBuffer,fn=$e._tileDebugTextSegments||w.debugSegments;He.draw(w,ae.TRIANGLES,Ke,Pe,Ii.alphaBlended,Vr.disabled,z0(Ce,a.ax.transparent,Pt),pt,Ot,Qt,fn,null,null,null,[$e._globeTileDebugTextBuffer])}function Fa(w,d,g,x){Fi(w,0,d+g/2,w.transform.width,g,x)}function La(w,d,g,x){Fi(w,d-g/2,0,g,w.transform.height,x)}function Fi(w,d,g,x,B,L){const D=w.context,$=D.gl;$.enable($.SCISSOR_TEST),$.scissor(d*a.f.devicePixelRatio,g*a.f.devicePixelRatio,x*a.f.devicePixelRatio,B*a.f.devicePixelRatio),D.clear({color:L}),$.disable($.SCISSOR_TEST)}const oa=a.ay([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:Ao}=oa;function mo(w,d,g,x){w.emplaceBack(d,g,x)}class go{constructor(d){this.vertexArray=new a.az,this.indices=new a.aw,mo(this.vertexArray,-1,-1,1),mo(this.vertexArray,1,-1,1),mo(this.vertexArray,-1,1,1),mo(this.vertexArray,1,1,1),mo(this.vertexArray,-1,-1,-1),mo(this.vertexArray,1,-1,-1),mo(this.vertexArray,-1,1,-1),mo(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=d.createVertexBuffer(this.vertexArray,Ao),this.indexBuffer=d.createIndexBuffer(this.indices),this.segment=a.aB.simpleSegment(0,0,36,12)}}function $o(w,d,g,x,B,L){const D=w.context.gl,$=d.paint.get("sky-atmosphere-color"),Y=d.paint.get("sky-atmosphere-halo-color"),ae=d.paint.get("sky-atmosphere-sun-intensity"),de=((Ae,Ce,Me,He,$e)=>({u_matrix_3f:Ae,u_sun_direction:Ce,u_sun_intensity:Me,u_color_tint_r:[He.r,He.g,He.b,He.a],u_color_tint_m:[$e.r,$e.g,$e.b,$e.a],u_luminance:5e-5}))(a.co.fromMat4(a.co.create(),x),B,ae,$,Y);D.framebufferTexture2D(D.FRAMEBUFFER,D.COLOR_ATTACHMENT0,D.TEXTURE_CUBE_MAP_POSITIVE_X+L,d.skyboxTexture,0),g.draw(w,D.TRIANGLES,rr.disabled,si.disabled,Ii.unblended,Vr.frontCW,de,"skyboxCapture",d.skyboxGeometry.vertexBuffer,d.skyboxGeometry.indexBuffer,d.skyboxGeometry.segment)}const cs=a.ay([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class sl{constructor(d){const g=new a.cO;g.emplaceBack(-1,1,1,0,0),g.emplaceBack(1,1,1,1,0),g.emplaceBack(1,-1,1,1,1),g.emplaceBack(-1,-1,1,0,1);const x=new a.aw;x.emplaceBack(0,1,2),x.emplaceBack(2,3,0),this.vertexBuffer=d.createVertexBuffer(g,cs.members),this.indexBuffer=d.createIndexBuffer(x),this.segments=a.aB.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const _l=a.ay([{type:"Float32",name:"a_pos_3f",components:3},{type:"Float32",name:"a_uv",components:2},{type:"Float32",name:"a_size_scale",components:1},{type:"Float32",name:"a_fade_opacity",components:1}]);class jn{constructor(){this.starsCount=16e3,this.sizeMultiplier=.15,this.sizeRange=100,this.intensityRange=200}}class Cr{constructor(d){this.colorModeAlphaBlendedWriteRGB=new Ii([1,gl,1,gl],a.ax.transparent,[!0,!0,!0,!1]),this.colorModeWriteAlpha=new Ii([1,0,1,0],a.ax.transparent,[!1,!1,!1,!0]),this.params=new jn,this.updateNeeded=!0,d.tp.registerParameter(this.params,["Stars"],"starsCount",{min:100,max:16e3,step:1},()=>{this.updateNeeded=!0}),d.tp.registerParameter(this.params,["Stars"],"sizeMultiplier",{min:.01,max:2,step:.01}),d.tp.registerParameter(this.params,["Stars"],"sizeRange",{min:0,max:200,step:1},()=>{this.updateNeeded=!0}),d.tp.registerParameter(this.params,["Stars"],"intensityRange",{min:0,max:200,step:1},()=>{this.updateNeeded=!0})}update(d){const g=d.context;if(!this.atmosphereBuffer||this.updateNeeded){this.updateNeeded=!1,this.atmosphereBuffer=new sl(g);const x=this.params.sizeRange,B=this.params.intensityRange,L=function(de){const Ae=a.aA(30),Ce=[];for(let Me=0;Me<de;++Me){const He=2*Math.PI*Ae(),$e=Math.acos(1-2*Ae())-.5*Math.PI;Ce.push(a.N.fromValues(Math.cos($e)*Math.cos(He),Math.cos($e)*Math.sin(He),Math.sin($e)))}return Ce}(this.params.starsCount),D=a.aA(300),$=new a.cP,Y=new a.aw;let ae=0;for(let de=0;de<L.length;++de){const Ae=a.N.scale([],L[de],200),Ce=Math.max(0,1+.01*x*(1*D()-.5)),Me=Math.max(0,1+.01*B*(1*D()-.5));$.emplaceBack(Ae[0],Ae[1],Ae[2],-1,-1,Ce,Me),$.emplaceBack(Ae[0],Ae[1],Ae[2],1,-1,Ce,Me),$.emplaceBack(Ae[0],Ae[1],Ae[2],1,1,Ce,Me),$.emplaceBack(Ae[0],Ae[1],Ae[2],-1,1,Ce,Me),Y.emplaceBack(ae+0,ae+1,ae+2),Y.emplaceBack(ae+0,ae+2,ae+3),ae+=4}this.starsVx=g.createVertexBuffer($,_l.members),this.starsIdx=g.createIndexBuffer(Y),this.starsSegments=a.aB.simpleSegment(0,0,$.length,Y.length)}}destroy(){this.atmosphereBuffer&&this.atmosphereBuffer.destroy(),this.starsVx&&this.starsVx.destroy(),this.starsIdx&&this.starsIdx.destroy()}drawAtmosphereGlow(d,g){const x=d.context,B=x.gl,L=d.transform,D=new rr(B.LEQUAL,rr.ReadOnly,[0,1]),$=a.S(L.zoom),Y=g.properties.get("color").toArray01(),ae=g.properties.get("high-color").toArray01(),de=g.properties.get("space-color").toArray01PremultipliedAlpha(),Ae=5e-4,Ce=a.cQ(g.properties.get("horizon-blend"),0,1,Ae,.25),Me=a.cd(d,x,L)&&Ce===Ae?L.worldSize/(2*Math.PI*1.025)-1:L.globeRadius,He=d.frameCounter/1e3%1,$e=a.N.length(L.globeCenterInViewSpace),Ke=Math.sqrt(Math.pow($e,2)-Math.pow(Me,2)),Pe=Math.acos(Ke/$e),Ze=pt=>{const st=L.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"];pt&&st.push("ALPHA_PASS");const At=d.getOrCreateProgram("globeAtmosphere",{defines:st}),qe=((Pt,Ot,Qt,fn,Wt,xn,_n,$n,Yt,mn,$t,on)=>({u_frustum_tl:Pt,u_frustum_tr:Ot,u_frustum_br:Qt,u_frustum_bl:fn,u_horizon:Wt,u_transition:xn,u_fadeout_range:_n,u_color:$n,u_high_color:Yt,u_space_color:mn,u_temporal_offset:$t,u_horizon_angle:on}))(L.frustumCorners.TL,L.frustumCorners.TR,L.frustumCorners.BR,L.frustumCorners.BL,L.frustumCorners.horizon,$,Ce,Y,ae,de,He,Pe);d.uploadCommonUniforms(x,At);const mt=this.atmosphereBuffer;mt&&At.draw(d,B.TRIANGLES,D,si.disabled,pt?this.colorModeWriteAlpha:this.colorModeAlphaBlendedWriteRGB,Vr.backCW,qe,pt?"atmosphere_glow_alpha":"atmosphere_glow",mt.vertexBuffer,mt.indexBuffer,mt.segments)};Ze(!1),Ze(!0)}drawStars(d,g){const x=a.aa(g.properties.get("star-intensity"),0,1);if(x===0)return;const B=d.context,L=B.gl,D=d.transform,$=d.getOrCreateProgram("stars"),Y=a.bi.identity([]);a.bi.rotateX(Y,Y,-D._pitch),a.bi.rotateZ(Y,Y,-D.angle),a.bi.rotateX(Y,Y,a.bj(D._center.lat)),a.bi.rotateY(Y,Y,-a.bj(D._center.lng));const ae=a.a6.fromQuat(new Float32Array(16),Y),de=a.a6.multiply([],D.starsProjMatrix,ae),Ae=a.co.fromMat4([],ae),Ce=a.co.invert([],Ae),Me=[0,1,0];a.N.transformMat3(Me,Me,Ce),a.N.scale(Me,Me,this.params.sizeMultiplier);const He=[1,0,0];a.N.transformMat3(He,He,Ce),a.N.scale(He,He,this.params.sizeMultiplier);const $e=(Ke=Me,Pe=He,Ze=x,{u_matrix:Float32Array.from(de),u_up:Ke,u_right:Pe,u_intensity_multiplier:Ze});var Ke,Pe,Ze;d.uploadCommonUniforms(B,$),this.starsVx&&this.starsIdx&&$.draw(d,L.TRIANGLES,rr.disabled,si.disabled,this.colorModeAlphaBlendedWriteRGB,Vr.disabled,$e,"atmosphere_stars",this.starsVx,this.starsIdx,this.starsSegments)}}function Io(w,d){const g=[...w],x=d.cameraWorldSizeForFog/d.worldSize,B=a.a6.identity([]);return a.a6.scale(B,B,[x,x,1]),a.a6.multiply(g,B,g),a.a6.multiply(g,d.worldToFogMatrix,g),g}function ka(w,d,g,x){const B=g.material,L=x.context,{baseColorTexture:D,metallicRoughnessTexture:$}=B.pbrMetallicRoughness,{normalTexture:Y,occlusionTexture:ae,emissionTexture:de}=B;function Ae(Ce,Me,He){if(Ce&&(w.push(Me),L.activeTexture.set(L.gl.TEXTURE0+He),Ce.gfxTexture)){const{minFilter:$e,magFilter:Ke,wrapS:Pe,wrapT:Ze}=Ce.sampler;Ce.gfxTexture.bindExtraParam($e,Ke,Pe,Ze)}}Ae(D,"HAS_TEXTURE_u_baseColorTexture",Vs.BaseColor),Ae($,"HAS_TEXTURE_u_metallicRoughnessTexture",Vs.MetallicRoughness),Ae(Y,"HAS_TEXTURE_u_normalTexture",Vs.Normal),Ae(ae,"HAS_TEXTURE_u_occlusionTexture",Vs.Occlusion),Ae(de,"HAS_TEXTURE_u_emissionTexture",Vs.Emission),g.texcoordBuffer&&(w.push("HAS_ATTRIBUTE_a_uv_2f"),d.push(g.texcoordBuffer)),g.colorBuffer&&(w.push(g.colorBuffer.itemSize===12?"HAS_ATTRIBUTE_a_color_3f":"HAS_ATTRIBUTE_a_color_4f"),d.push(g.colorBuffer)),g.normalBuffer&&(w.push("HAS_ATTRIBUTE_a_normal_3f"),d.push(g.normalBuffer)),g.pbrBuffer&&(w.push("HAS_ATTRIBUTE_a_pbr"),w.push("HAS_ATTRIBUTE_a_heightBasedEmissiveStrength"),d.push(g.pbrBuffer)),B.alphaMode!=="OPAQUE"&&B.alphaMode!=="MASK"||w.push("UNPREMULT_TEXTURE_IN_SHADER"),B.defined||w.push("DIFFUSE_SHADED"),w.push("USE_STANDARD_DERIVATIVES")}function Du(w,d,g,x,B,L){const D=g.paint.get("model-opacity"),$=d.context,Y=new rr(d.context.gl.LEQUAL,rr.ReadWrite,d.depthRangeFor3D),ae=d.transform,de=w.mesh,Ae=de.material,Ce=Ae.pbrMetallicRoughness,Me=d.style.fog;let He;He=d.transform.projection.zAxisUnit==="pixels"?[...w.nodeModelMatrix]:a.a6.multiply([],x.zScaleMatrix,w.nodeModelMatrix),a.a6.multiply(He,x.negCameraPosMatrix,He);const $e=a.a6.invert([],He);a.a6.transpose($e,$e);const Ke=g.paint.get("model-emissive-strength").constantOr(0),Pe=dp(new Float32Array(w.worldViewProjection),new Float32Array(He),new Float32Array($e),d,D,Ce.baseColorFactor,Ae.emissiveFactor,Ce.metallicFactor,Ce.roughnessFactor,Ae,Ke,g),Ze={defines:[]},pt=[];ka(Ze.defines,pt,de,d);const st=d.shadowRenderer;st&&(st.useNormalOffset=!1);let At=null;if(Me){const Pt=Io(w.nodeModelMatrix,d.transform);if(At=new Float32Array(Pt),ae.projection.name!=="globe"){const Ot=de.aabb.min,Qt=de.aabb.max,[fn,Wt]=Me.getOpacityForBounds(Pt,Ot[0],Ot[1],Qt[0],Qt[1]);Ze.overrideFog=fn>=tr||Wt>=tr}}const qe=il(d,g.paint.get("model-cutoff-fade-range"));qe.shouldRenderCutoff&&Ze.defines.push("RENDER_CUTOFF");const mt=d.getOrCreateProgram("model",Ze);d.uploadCommonUniforms($,mt,null,At,qe),d.renderPass!=="shadow"&&st&&st.setupShadowsFromMatrix(w.nodeModelMatrix,mt),mt.draw(d,$.gl.TRIANGLES,Y,B,L,de.material.doubleSided?Vr.disabled:Vr.backCCW,Pe,g.id,de.vertexBuffer,de.indexBuffer,de.segments,g.paint,d.transform.zoom,void 0,pt)}function vo(w,d,g,x,B,L,D){let $;$=w.projection.name==="globe"?a.cS(g,w):[...g],a.a6.multiply($,$,d.matrix);const Y=a.a6.multiply([],x,$);if(d.meshes)for(const ae of d.meshes){if(ae.material.alphaMode!=="BLEND"){D.push({mesh:ae,depth:0,modelIndex:B,worldViewProjection:Y,nodeModelMatrix:$});continue}const de=a.N.transformMat4([],ae.centroid,Y);de[2]>0&&L.push({mesh:ae,depth:de[2],modelIndex:B,worldViewProjection:Y,nodeModelMatrix:$})}if(d.children)for(const ae of d.children)vo(w,ae,g,x,B,L,D)}function rn(w,d,g,x){const B=g.shadowRenderer;if(!B)return;const L=B.getShadowPassDepthMode(),D=B.getShadowPassColorMode(),$=B.calculateShadowPassMatrixFromMatrix(d),Y=og($);g.getOrCreateProgram("modelDepth",{defines:g._shadowMapDebug?[]:["DEPTH_TEXTURE"]}).draw(g,g.context.gl.TRIANGLES,L,si.disabled,D,Vr.backCCW,Y,x.id,w.vertexBuffer,w.indexBuffer,w.segments,x.paint,g.transform.zoom,void 0,void 0)}function vd(w,d,g){const x=d.updateZoomBasedPaintProperties(),B=function(L,D,$){let Y,ae,de,Ae=L.terrain?L.terrain.exaggeration():0;if(L.terrain&&Ae>0){const Ce=L.terrain,Me=Ce.findDEMTileFor($);Me&&Me.dem?Y=a.cU.create(Ce,$,Me):Ae=0}if(Ae===0&&(D.terrainElevationMin=0,D.terrainElevationMax=0),Ae===D.validForExaggeration&&(Ae===0||Y&&Y._demTile&&Y._demTile.tileID===D.validForDEMTile.id&&Y._dem._timestamp===D.validForDEMTile.timestamp))return!1;for(const Ce in D.instancesPerModel){const Me=D.instancesPerModel[Ce];for(let He=0;He<Me.instancedDataArray.length;++He){const $e=(Y?Ae*Y.getElevationAt(0|Me.instancedDataArray.float32[16*He],0|Me.instancedDataArray.float32[16*He+1],!0,!0):0)+Me.instancesEvaluatedElevation[He];Me.instancedDataArray.float32[16*He+6]=$e,ae=ae?Math.min(D.terrainElevationMin,$e):$e,de=de?Math.max(D.terrainElevationMax,$e):$e}}return D.terrainElevationMin=ae||0,D.terrainElevationMax=de||0,D.validForExaggeration=Ae,D.validForDEMTile=Y&&Y._demTile?{id:Y._demTile.tileID,timestamp:Y._dem._timestamp}:{id:void 0,timestamp:0},!0}(w,d,g);(x||B)&&(d.uploaded=!1,d.upload(w.context))}const ol={shadowUniformsInitialized:!1,useSingleShadowCascade:!1,tileMatrix:new Float64Array(16),shadowTileMatrix:new Float32Array(16),aabb:new a.bS([0,0,0],[a.V,a.V,0])};function _d(w,d){const g=1<<w.canonical.z,x=d.getFreeCameraOptions().position,B=d.elevation,L=w.canonical.x/g,D=(w.canonical.x+1)/g,$=w.canonical.y/g,Y=(w.canonical.y+1)/g;let ae=d._centerAltitude;if(B){const Me=B.getMinMaxForTile(w);Me&&Me.max>ae&&(ae=Me.max)}const de=a.aa(x.x,L,D)-x.x,Ae=a.aa(x.y,$,Y)-x.y,Ce=a.bl(ae,d.center.lat)-x.z;return d._zoomFromMercatorZ(Math.sqrt(de*de+Ae*Ae+Ce*Ce))}function Zs(w,d,g,x,B,L,D){const $=w.context,Y=w.renderPass==="shadow",ae=w.shadowRenderer,de=Y&&ae?ae.getShadowPassDepthMode():new rr($.gl.LEQUAL,rr.ReadWrite,w.depthRangeFor3D),Ae=w.isTileAffectedByFog(L);if(g.meshes)for(const Ce of g.meshes){const Me=["MODEL_POSITION_ON_GPU"],He=[];let $e,Ke,Pe;x.instancedDataArray.length>20&&Me.push("INSTANCED_ARRAYS");const Ze=il(w,d.paint.get("model-cutoff-fade-range"));if(Ze.shouldRenderCutoff&&Me.push("RENDER_CUTOFF"),Y&&ae)$e=w.getOrCreateProgram("modelDepth",{defines:Me}),Ke=og(D.shadowTileMatrix,D.shadowTileMatrix,Float32Array.from(g.matrix)),Pe=ae.getShadowPassColorMode();else{ka(Me,He,Ce,w),$e=w.getOrCreateProgram("model",{defines:Me,overrideFog:Ae});const st=Ce.material,At=st.pbrMetallicRoughness,qe=d.paint.get("model-opacity"),mt=d.paint.get("model-emissive-strength").constantOr(0);Ke=dp(L.expandedProjMatrix,Float32Array.from(g.matrix),new Float32Array(16),w,qe,At.baseColorFactor,st.emissiveFactor,At.metallicFactor,At.roughnessFactor,st,mt,d,B),ae&&(D.shadowUniformsInitialized?$e.setShadowUniformValues($,ae.getShadowUniformValues()):(ae.setupShadows(L.toUnwrapped(),$e,"model-tile",L.overscaledZ),D.shadowUniformsInitialized=!0)),Pe=Ze.shouldRenderCutoff||qe<1||st.alphaMode!=="OPAQUE"?Ii.alphaBlended:Ii.unblended}w.uploadCommonUniforms($,$e,L.toUnwrapped(),null,Ze);const pt=Ce.material.doubleSided?Vr.disabled:Vr.backCCW;if(x.instancedDataArray.length>20)He.push(x.instancedDataBuffer),$e.draw(w,$.gl.TRIANGLES,de,si.disabled,Pe,pt,Ke,d.id,Ce.vertexBuffer,Ce.indexBuffer,Ce.segments,d.paint,w.transform.zoom,void 0,He,x.instancedDataArray.length);else{const st=Y?"u_instance":"u_normal_matrix";for(let At=0;At<x.instancedDataArray.length;++At)Ke[st]=new Float32Array(x.instancedDataArray.arrayBuffer,64*At,16),$e.draw(w,$.gl.TRIANGLES,de,si.disabled,Pe,pt,Ke,d.id,Ce.vertexBuffer,Ce.indexBuffer,Ce.segments,d.paint,w.transform.zoom,void 0,He)}}if(g.children)for(const Ce of g.children)Zs(w,d,Ce,x,B,L,D)}const of=[1,-1,1];function cb(w,d,g,x){if(!g.modelManager)return!0;const B=g.modelManager;if(!g.shadowRenderer)return!0;const L=g.shadowRenderer,D=d.aabb;let $=!0,Y=w.maxHeight;if(Y===0){let de=0;for(const Ae in w.instancesPerModel){const Ce=B.getModel(Ae,x);Ce?de=Math.max(de,Math.max(Math.max(Ce.aabb.max[0],Ce.aabb.max[1]),Ce.aabb.max[2])):$=!1}Y=w.maxScale*de*1.41+w.maxVerticalOffset,$&&(w.maxHeight=Y)}D.max[2]=Y,D.min[2]+=w.terrainElevationMin,D.max[2]+=w.terrainElevationMax,a.N.transformMat4(D.min,D.min,d.tileMatrix),a.N.transformMat4(D.max,D.max,d.tileMatrix);const ae=D.intersects(L.getCurrentCascadeFrustum());return g.currentShadowCascade===0&&(w.isInsideFirstShadowMapFrustum=ae===2),ae===0}class hb{}class lg{constructor(){this._storage=new Map}getLinesFromTrianglesBuffer(d,g,x){{const Ae=this._storage.get(g.id);if(Ae)return Ae.lastUsedFrameIdx=d,Ae.buf}const B=x.gl,L=B.getBufferParameter(B.ELEMENT_ARRAY_BUFFER,B.BUFFER_SIZE),D=new ArrayBuffer(L),$=new Int16Array(D);B.getBufferSubData(B.ELEMENT_ARRAY_BUFFER,0,new Int16Array(D));const Y=new a.cW;for(let Ae=0;Ae<L/2;Ae+=3){const Ce=$[Ae],Me=$[Ae+1],He=$[Ae+2];Y.emplaceBack(Ce,Me),Y.emplaceBack(Me,He),Y.emplaceBack(He,Ce)}const ae=x.bindVertexArrayOES.current,de=new hb;return de.buf=new jt(x,Y),de.lastUsedFrameIdx=d,this._storage.set(g.id,de),x.bindVertexArrayOES.set(ae),de.buf}update(d){for(const[g,x]of this._storage)d-x.lastUsedFrameIdx>30&&(x.buf.destroy(),this._storage.delete(g))}destroy(){for(const[d,g]of this._storage)g.buf.destroy(),this._storage.delete(d)}}class yd{registerParameter(d,g,x,B,L){}registerButton(d,g,x){}}const lf={symbol:function(w,d,g,x,B){if(w.renderPass!=="translucent")return;const L=si.disabled,D=w.colorModeForRenderPass();g.layout.get("text-variable-anchor")&&function(ae,de,Ae,Ce,Me,He,$e){const Ke=de.transform,Pe=Me==="map",Ze=He==="map";for(const pt of ae){const st=Ce.getTile(pt),At=st.getBucket(Ae);if(!At||!At.text||!At.text.segments.get().length)continue;const qe=a.b5(At.textSizeData,Ke.zoom),mt=Xs(pt,At.getProjection(),Ke),Pt=Ke.calculatePixelsToTileUnitsMatrix(st),Ot=vh(mt,st.tileID.canonical,Ze,Pe,Ke,At.getProjection(),Pt),Qt=At.hasIconTextFit()&&At.hasIconData();if(qe){const fn=Math.pow(2,Ke.zoom-st.tileID.overscaledZ);ct(At,Pe,Ze,$e,a.cx,Ke,Ot,pt,fn,qe,Qt)}}}(x,w,g,d,g.layout.get("text-rotation-alignment"),g.layout.get("text-pitch-alignment"),B);const $=g.paint.get("icon-opacity").constantOr(1)!==0,Y=g.paint.get("text-opacity").constantOr(1)!==0;g.layout.get("symbol-sort-key").constantOr(1)!==void 0&&($||Y)?dt(w,d,g,x,L,D):($&&dt(w,d,g,x,L,D,{onlyIcons:!0}),Y&&dt(w,d,g,x,L,D,{onlyText:!0})),d.map.showCollisionBoxes&&(re(w,d,g,x,g.paint.get("text-translate"),g.paint.get("text-translate-anchor"),!0),re(w,d,g,x,g.paint.get("icon-translate"),g.paint.get("icon-translate-anchor"),!1))},circle:function(w,d,g,x){if(w.renderPass!=="translucent")return;const B=g.paint.get("circle-opacity"),L=g.paint.get("circle-stroke-width"),D=g.paint.get("circle-stroke-opacity"),$=g.layout.get("circle-sort-key").constantOr(1)!==void 0,Y=g.paint.get("circle-emissive-strength");if(B.constantOr(1)===0&&(L.constantOr(1)===0||D.constantOr(1)===0))return;const ae=w.context,de=ae.gl,Ae=w.transform,Ce=w.depthModeForSublayer(0,rr.ReadOnly),Me=si.disabled,He=w.colorModeForDrapableLayerRenderPass(Y),$e=Ae.projection.name==="globe",Ke=[a.a5(Ae.center.lng),a.ae(Ae.center.lat)],Pe=[];for(let pt=0;pt<x.length;pt++){const st=x[pt],At=d.getTile(st),qe=At.getBucket(g);if(!qe||qe.projection.name!==Ae.projection.name)continue;const mt=qe.programConfigurations.get(g.id),Pt=a.cy(g),Ot=w.isTileAffectedByFog(st);$e&&Pt.push("PROJECTION_GLOBE_VIEW");const Qt=w.getOrCreateProgram("circle",{config:mt,defines:Pt,overrideFog:Ot}),fn=qe.layoutVertexBuffer,Wt=qe.globeExtVertexBuffer,xn=qe.indexBuffer,_n=Ae.projection.createInversionMatrix(Ae,st.canonical),$n={programConfiguration:mt,program:Qt,layoutVertexBuffer:fn,globeExtVertexBuffer:Wt,indexBuffer:xn,uniformValues:a.cz(w,st,At,_n,Ke,g),tile:At};if($){const Yt=qe.segments.get();for(const mn of Yt)Pe.push({segments:new a.aB([mn]),sortKey:mn.sortKey,state:$n})}else Pe.push({segments:qe.segments,sortKey:0,state:$n})}$&&Pe.sort((pt,st)=>pt.sortKey-st.sortKey);const Ze={useDepthForOcclusion:Ae.depthOcclusionForSymbolsAndCircles};for(const pt of Pe){const{programConfiguration:st,program:At,layoutVertexBuffer:qe,globeExtVertexBuffer:mt,indexBuffer:Pt,uniformValues:Ot,tile:Qt}=pt.state,fn=pt.segments;w.terrain&&w.terrain.setupElevationDraw(Qt,At,Ze),w.uploadCommonUniforms(ae,At,Qt.tileID.toUnwrapped()),At.draw(w,de.TRIANGLES,Ce,Me,He,Vr.disabled,Ot,g.id,qe,Pt,fn,g.paint,Ae.zoom,st,[mt])}},heatmap:function(w,d,g,x){if(g.paint.get("heatmap-opacity")!==0)if(w.renderPass==="offscreen"){const B=w.context,L=B.gl,D=si.disabled,$=new Ii([L.ONE,L.ONE,L.ONE,L.ONE],a.ax.transparent,[!0,!0,!0,!0]);(function(Me,He,$e,Ke){const Pe=Me.gl,Ze=He.width*Ke,pt=He.height*Ke;Me.activeTexture.set(Pe.TEXTURE1),Me.viewport.set([0,0,Ze,pt]);let st=$e.heatmapFbo;if(!st||st&&(st.width!==Ze||st.height!==pt)){st&&st.destroy();const At=Pe.createTexture();Pe.bindTexture(Pe.TEXTURE_2D,At),Pe.texParameteri(Pe.TEXTURE_2D,Pe.TEXTURE_WRAP_S,Pe.CLAMP_TO_EDGE),Pe.texParameteri(Pe.TEXTURE_2D,Pe.TEXTURE_WRAP_T,Pe.CLAMP_TO_EDGE),Pe.texParameteri(Pe.TEXTURE_2D,Pe.TEXTURE_MIN_FILTER,Pe.LINEAR),Pe.texParameteri(Pe.TEXTURE_2D,Pe.TEXTURE_MAG_FILTER,Pe.LINEAR),st=$e.heatmapFbo=Me.createFramebuffer(Ze,pt,!0,null),function(qe,mt,Pt,Ot,Qt,fn){const Wt=qe.gl;Wt.texImage2D(Wt.TEXTURE_2D,0,qe.extRenderToTextureHalfFloat?Wt.RGBA16F:Wt.RGBA,Qt,fn,0,Wt.RGBA,qe.extRenderToTextureHalfFloat?Wt.HALF_FLOAT:Wt.UNSIGNED_BYTE,null),Ot.colorAttachment.set(Pt)}(Me,0,At,st,Ze,pt)}else Pe.bindTexture(Pe.TEXTURE_2D,st.colorAttachment.get()),Me.bindFramebuffer.set(st.framebuffer)})(B,w,g,w.transform.projection.name==="globe"?.5:.25),B.clear({color:a.ax.transparent});const Y=w.transform,ae=Y.projection.name==="globe",de=ae?["PROJECTION_GLOBE_VIEW"]:[],Ae=ae?Vr.frontCCW:Vr.disabled,Ce=[a.a5(Y.center.lng),a.ae(Y.center.lat)];for(let Me=0;Me<x.length;Me++){const He=x[Me];if(d.hasRenderableParent(He))continue;const $e=d.getTile(He),Ke=$e.getBucket(g);if(!Ke||Ke.projection.name!==Y.projection.name)continue;const Pe=w.isTileAffectedByFog(He),Ze=Ke.programConfigurations.get(g.id),pt=w.getOrCreateProgram("heatmap",{config:Ze,defines:de,overrideFog:Pe}),{zoom:st}=w.transform;w.terrain&&w.terrain.setupElevationDraw($e,pt),w.uploadCommonUniforms(B,pt,He.toUnwrapped());const At=Y.projection.createInversionMatrix(Y,He.canonical);pt.draw(w,L.TRIANGLES,rr.disabled,D,$,Ae,kA(w,He,$e,At,Ce,st,g.paint.get("heatmap-intensity")),g.id,Ke.layoutVertexBuffer,Ke.indexBuffer,Ke.segments,g.paint,w.transform.zoom,Ze,ae?[Ke.globeExtVertexBuffer]:null)}B.viewport.set([0,0,w.width,w.height])}else w.renderPass==="translucent"&&(w.context.setColorMode(w.colorModeForRenderPass()),function(B,L){const D=B.context,$=D.gl,Y=L.heatmapFbo;if(!Y)return;D.activeTexture.set($.TEXTURE0),$.bindTexture($.TEXTURE_2D,Y.colorAttachment.get()),D.activeTexture.set($.TEXTURE1);let ae=L.colorRampTexture;ae||(ae=L.colorRampTexture=new a.T(D,L.colorRamp,$.RGBA)),ae.bind($.LINEAR,$.CLAMP_TO_EDGE),B.getOrCreateProgram("heatmapTexture").draw(B,$.TRIANGLES,rr.disabled,si.disabled,B.colorModeForRenderPass(),Vr.disabled,((de,Ae,Ce,Me)=>({u_image:0,u_color_ramp:1,u_opacity:Ae.paint.get("heatmap-opacity")}))(0,L),L.id,B.viewportBuffer,B.quadTriangleIndexBuffer,B.viewportSegments,L.paint,B.transform.zoom)}(w,g))},line:function(w,d,g,x){if(w.renderPass!=="translucent")return;const B=g.paint.get("line-opacity"),L=g.paint.get("line-width");if(B.constantOr(1)===0||L.constantOr(1)===0)return;const D=g.paint.get("line-emissive-strength"),$=w.depthModeForSublayer(0,rr.ReadOnly),Y=w.colorModeForDrapableLayerRenderPass(D),ae=w.terrain&&w.terrain.renderingToTexture?1:a.f.devicePixelRatio,de=g.paint.get("line-dasharray"),Ae=de.constantOr(1),Ce=g.layout.get("line-cap"),Me=g.paint.get("line-pattern"),He=Me.constantOr(1),$e=g.paint.get("line-pattern").constantOr(1),Ke=g.paint.get("line-opacity").constantOr(1)!==1;let Pe=!$e&&Ke;const Ze=g.paint.get("line-gradient"),pt=He?"linePattern":"line",st=w.context,At=st.gl,qe=a.cA(g);w.terrain&&w.terrain.clipOrMaskOverlapStencilType()&&(Pe=!1);for(const mt of x){const Pt=d.getTile(mt);if(He&&!Pt.patternsLoaded())continue;const Ot=Pt.getBucket(g);if(!Ot)continue;w.prepareDrawTile();const Qt=Ot.programConfigurations.get(g.id),fn=w.isTileAffectedByFog(mt),Wt=w.getOrCreateProgram(pt,{config:Qt,defines:qe,overrideFog:fn}),xn=Me.constantOr(null);if(xn&&Pt.imageAtlas){const ir=Pt.imageAtlas.patternPositions[xn.toString()];ir&&Qt.setConstantPatternPositions(ir)}const _n=de.constantOr(null),$n=Ce.constantOr(null);if(!He&&_n&&$n&&Pt.lineAtlas){const ir=Pt.lineAtlas.getDash(_n,$n);ir&&Qt.setConstantPatternPositions(ir)}let[Yt,mn]=g.paint.get("line-trim-offset");($n==="round"||$n==="square")&&Yt!==mn&&(Yt===0&&(Yt-=1),mn===1&&(mn+=1));const $t=w.terrain?mt.projMatrix:null,on=He?a.cB(w,Pt,g,$t,ae,[Yt,mn]):a.cC(w,Pt,g,$t,Ot.lineClipsArray.length,ae,[Yt,mn]);if(Ze){const ir=Ot.gradients[g.id];let nr=ir.texture;if(g.gradientVersion!==ir.version){let pr=256;if(g.stepInterpolant){const Ir=d.getSource().maxzoom,jr=mt.canonical.z===Ir?Math.ceil(1<<w.transform.maxZoom-mt.canonical.z):1;pr=a.aa(a.cD(Ot.maxLineLength/a.V*1024*jr),256,st.maxTextureSize)}ir.gradient=a.cE({expression:g.gradientExpression(),evaluationKey:"lineProgress",resolution:pr,image:ir.gradient||void 0,clips:Ot.lineClipsArray}),ir.texture?ir.texture.update(ir.gradient):ir.texture=new a.T(st,ir.gradient,At.RGBA),ir.version=g.gradientVersion,nr=ir.texture}st.activeTexture.set(At.TEXTURE1),nr.bind(g.stepInterpolant?At.NEAREST:At.LINEAR,At.CLAMP_TO_EDGE)}Ae&&(st.activeTexture.set(At.TEXTURE0),Pt.lineAtlasTexture&&Pt.lineAtlasTexture.bind(At.LINEAR,At.REPEAT),Qt.updatePaintBuffers()),He&&(st.activeTexture.set(At.TEXTURE0),Pt.imageAtlasTexture&&Pt.imageAtlasTexture.bind(At.LINEAR,At.CLAMP_TO_EDGE),Qt.updatePaintBuffers()),w.uploadCommonUniforms(st,Wt,mt.toUnwrapped());const Kn=ir=>{Wt.draw(w,At.TRIANGLES,$,ir,Y,Vr.disabled,on,g.id,Ot.layoutVertexBuffer,Ot.indexBuffer,Ot.segments,g.paint,w.transform.zoom,Qt,[Ot.layoutVertexBuffer2])};if(Pe){const ir=w.stencilModeForClipping(mt).ref;ir===0&&w.terrain&&st.clear({stencil:0});const nr={func:At.EQUAL,mask:255};on.u_alpha_discard_threshold=.8,Kn(new si(nr,ir,255,At.KEEP,At.KEEP,At.INVERT)),on.u_alpha_discard_threshold=0,Kn(new si(nr,ir,255,At.KEEP,At.KEEP,At.KEEP))}else Kn(w.stencilModeForClipping(mt))}Pe&&(w.resetStencilClippingMasks(),w.terrain&&st.clear({stencil:0}))},fill:function(w,d,g,x){const B=g.paint.get("fill-color"),L=g.paint.get("fill-opacity");if(L.constantOr(1)===0)return;const D=g.paint.get("fill-emissive-strength"),$=w.colorModeForDrapableLayerRenderPass(D),Y=g.paint.get("fill-pattern"),ae=w.opaquePassEnabledForLayer()&&!Y.constantOr(1)&&B.constantOr(a.ax.transparent).a===1&&L.constantOr(0)===1?"opaque":"translucent";if(w.renderPass===ae){const de=w.depthModeForSublayer(1,w.renderPass==="opaque"?rr.ReadWrite:rr.ReadOnly);Ct(w,d,g,x,de,$,!1)}if(w.renderPass==="translucent"&&g.paint.get("fill-antialias")){const de=w.depthModeForSublayer(g.getPaintProperty("fill-outline-color")?2:0,rr.ReadOnly);Ct(w,d,g,x,de,$,!0)}},"fill-extrusion":function(w,d,g,x){const B=g.paint.get("fill-extrusion-opacity"),L=w.context,D=L.gl,$=w.terrain,Y=$&&$.renderingToTexture;if(B===0)return;const ae=w.conflationActive&&w.layerUsedInConflation(g,d.getSource());if(ae&&function(de,Ae,Ce,Me){for(const He of Me){const $e=Ae.getTile(He).getBucket(Ce);$e&&($e.updateReplacement(He,de.replacementSource),$e.uploadCentroid(de.context))}}(w,d,g,x),$||ae)for(const de of x){const Ae=d.getTile(de).getBucket(g);Ae&&Bn(w.context,d,de,Ae,g,$,ae)}if(w.renderPass==="shadow"&&w.shadowRenderer){const de=w.shadowRenderer;if($&&B<.65&&g._transitionablePaint._values["fill-extrusion-opacity"].value.expression instanceof a.Z)return;const Ae=de.getShadowPassDepthMode(),Ce=de.getShadowPassColorMode();ft(w,d,g,x,Ae,si.disabled,Ce,ae)}else if(w.renderPass==="translucent"){const de=!g.paint.get("fill-extrusion-pattern").constantOr(1),Ae=g.paint.get("fill-extrusion-color").constantOr(a.ax.white);if(!Y&&Ae.a!==0){const Ce=new rr(w.context.gl.LEQUAL,rr.ReadWrite,w.depthRangeFor3D);B===1&&de?ft(w,d,g,x,Ce,si.disabled,Ii.unblended,ae):(ft(w,d,g,x,Ce,si.disabled,Ii.disabled,ae),ft(w,d,g,x,Ce,w.stencilModeFor3D(),w.colorModeForRenderPass(),ae),w.resetStencilClippingMasks())}if(w.style.enable3dLights()&&de&&(!$&&w.transform.projection.name!=="globe"||Y)){const Ce=g.paint.get("fill-extrusion-opacity"),Me=g.paint.get("fill-extrusion-ambient-occlusion-intensity"),He=g.paint.get("fill-extrusion-ambient-occlusion-ground-radius"),$e=g.paint.get("fill-extrusion-flood-light-intensity"),Ke=g.paint.get("fill-extrusion-flood-light-color").toArray01().slice(0,3),Pe=Me>0&&He>0,Ze=$e>0,pt=(At,qe,mt)=>(1-mt)*At+mt*qe,st=At=>{const qe=w.depthModeForSublayer(1,rr.ReadOnly,D.LEQUAL,!0),mt=g.paint.get(At?"fill-extrusion-ambient-occlusion-ground-attenuation":"fill-extrusion-flood-light-ground-attenuation"),Pt=pt(.1,3,mt),Ot=w._showOverdrawInspector;if(!Ot){const Qt=new si({func:D.ALWAYS,mask:255},255,255,D.KEEP,D.KEEP,D.REPLACE),fn=new Ii([D.ONE,D.ONE,D.ONE,D.ONE],a.ax.transparent,[!1,!1,!1,!0],D.MIN);nn(w,d,g,x,qe,Qt,fn,Vr.disabled,At,"sdf",Ce,Me,He,$e,Ke,Pt,ae,!1)}{const Qt=Ot?si.disabled:new si({func:D.EQUAL,mask:255},255,255,D.KEEP,D.DECR,D.DECR),fn=Ot?w.colorModeForRenderPass():new Ii([D.ONE_MINUS_DST_ALPHA,D.DST_ALPHA,D.ONE,D.ONE],a.ax.transparent,[!0,!0,!0,!0]);nn(w,d,g,x,qe,Qt,fn,Vr.disabled,At,"color",Ce,Me,He,$e,Ke,Pt,ae,!1)}};if(Y){const At=(qe,mt,Pt)=>{const Ot=w.depthModeForSublayer(1,rr.ReadOnly,D.LEQUAL,!1),Qt=g.paint.get(qe?"fill-extrusion-ambient-occlusion-ground-attenuation":"fill-extrusion-flood-light-ground-attenuation"),fn=pt(.1,3,Qt);{const Wt=new Ii([D.ONE,D.ONE,D.ONE,D.ONE],a.ax.transparent,[!1,!1,!1,!0]);nn(w,d,g,x,Ot,si.disabled,Wt,Vr.disabled,qe,"clear",Ce,Me,He,$e,Ke,fn,ae,mt)}{const Wt=new si({func:D.ALWAYS,mask:255},255,255,D.KEEP,D.KEEP,D.REPLACE),xn=new Ii([D.ONE,D.ONE,D.ONE,D.ONE],a.ax.transparent,[!1,!1,!1,!0],D.MIN);nn(w,d,g,x,Ot,Wt,xn,Vr.disabled,qe,"sdf",Ce,Me,He,$e,Ke,fn,ae,mt)}{const Wt=qe?D.ZERO:D.ONE_MINUS_DST_ALPHA,xn=new si({func:D.EQUAL,mask:255},255,255,D.KEEP,D.DECR,D.DECR),_n=new Ii([Wt,D.DST_ALPHA,D.ONE_MINUS_DST_ALPHA,D.ZERO],a.ax.transparent,[!0,!0,!0,!0]);nn(w,d,g,x,Ot,xn,_n,Vr.disabled,qe,"color",Ce,Me,He,$e,Ke,fn,ae,mt)}{const Wt=new Ii([D.ONE,D.ONE,D.ONE,qe?D.ZERO:D.ONE],a.ax.transparent,[!1,!1,!1,!0],qe?D.FUNC_ADD:D.MAX);nn(w,d,g,x,Ot,si.disabled,Wt,Vr.disabled,qe,"clear",Ce,Me,He,$e,Ke,fn,ae,mt,Pt)}};if(Pe||Ze){let qe;if(w.prepareDrawTile(),$){const mt=$.drapeBufferSize[0],Pt=$.drapeBufferSize[1];qe=$.framebufferCopyTexture,qe&&(!qe||qe.size[0]===mt&&qe.size[1]===Pt)||(qe&&qe.destroy(),qe=$.framebufferCopyTexture=new a.T(L,new a.h({width:mt,height:Pt}),D.RGBA)),qe.bind(D.LINEAR,D.CLAMP_TO_EDGE),D.copyTexImage2D(D.TEXTURE_2D,0,D.RGBA,0,0,mt,Pt,0)}Pe&&At(!0,!1,qe),Ze&&At(!1,!0,qe)}}else Pe&&st(!0),Ze&&st(!1)}}},hillshade:function(w,d,g,x){if(w.renderPass!=="offscreen"&&w.renderPass!=="translucent"||w.style.disableElevatedTerrain)return;const B=w.context,L=w.terrain&&w.terrain.renderingToTexture,[D,$]=w.renderPass!=="translucent"||L?[{},x]:w.stencilConfigForOverlap(x);for(const Y of $){const ae=d.getTile(Y);if(ae.needsHillshadePrepare&&w.renderPass==="offscreen")V1(w,ae,g);else if(w.renderPass==="translucent"){const de=w.depthModeForSublayer(0,rr.ReadOnly),Ae=g.paint.get("hillshade-emissive-strength"),Ce=w.colorModeForDrapableLayerRenderPass(Ae),Me=L&&w.terrain?w.terrain.stencilModeForRTTOverlap(Y):D[Y.overscaledZ];MA(w,Y,ae,g,de,Me,Ce)}}B.viewport.set([0,0,w.width,w.height]),w.resetStencilClippingMasks()},raster:function(w,d,g,x,B,L){if(w.renderPass!=="translucent"||g.paint.get("raster-opacity")===0)return;const D=w.transform.projection.name==="globe",$=g.paint.get("raster-elevation")!==0,Y=$&&D;if(w.renderElevatedRasterBackface&&!Y)return;const ae=w.context,de=ae.gl,Ae=d.getSource(),Ce=function(qe,mt,Pt,Ot){const Qt=mt.paint.get("raster-color"),fn=qe.type==="raster-array",Wt=[],xn=mt.paint.get("raster-resampling"),_n=mt.paint.get("raster-color-mix");let $n=mt.paint.get("raster-color-range");const Yt=[_n[0],_n[1],_n[2],0],mn=_n[3];let $t=xn==="nearest"?Ot.NEAREST:Ot.LINEAR;if(fn&&(Wt.push("RASTER_ARRAY"),Qt||Wt.push("RASTER_COLOR"),xn==="linear"&&Wt.push("RASTER_ARRAY_LINEAR"),$t=Ot.NEAREST,!$n&&qe.rasterLayers)){const on=qe.rasterLayers.find(({id:Kn})=>Kn===mt.sourceLayer);on&&on.fields&&on.fields.range&&($n=on.fields.range)}if($n=$n||[0,1],Qt){Wt.push("RASTER_COLOR"),Pt.activeTexture.set(Ot.TEXTURE2),mt.updateColorRamp($n);let on=mt.colorRampTexture;on||(on=mt.colorRampTexture=new a.T(Pt,mt.colorRamp,Ot.RGBA)),on.bind(Ot.LINEAR,Ot.CLAMP_TO_EDGE)}return{mix:Yt,range:$n,offset:mn,defines:Wt,resampling:$t}}(Ae,g,ae,de);if(Ae instanceof a.ap&&!x.length&&!D)return;const Me=g.paint.get("raster-emissive-strength"),He=w.colorModeForDrapableLayerRenderPass(Me),$e=w.terrain&&w.terrain.renderingToTexture,Ke=!w.options.moving,Pe=g.paint.get("raster-resampling")==="nearest"?de.NEAREST:de.LINEAR;if(Ae instanceof a.ap&&!x.length&&(Ae.onNorthPole||Ae.onSouthPole)){const qe=$?w.stencilModeFor3D():si.disabled;return void dn(!!Ae.onNorthPole,null,w,d,g,Me,Ce,Vr.disabled,qe)}if(!x.length)return;const[Ze,pt]=Ae instanceof a.ap||$e?[{},x]:w.stencilConfigForOverlap(x),st=pt[pt.length-1].overscaledZ;Y&&Ce.defines.push("PROJECTION_GLOBE_VIEW"),$&&Ce.defines.push("RENDER_CUTOFF");const At=(qe,mt,Pt)=>{for(const Ot of qe){const Qt=Ot.toUnwrapped(),fn=d.getTile(Ot);if($e&&(!fn||!fn.hasData()))continue;ae.activeTexture.set(de.TEXTURE0);const Wt=fr(fn,Ae,g,Ce);if(!Wt||!Wt.texture)continue;const{texture:xn,mix:_n,offset:$n,tileSize:Yt,buffer:mn}=Wt;let $t,on;$e?($t=rr.disabled,on=Ot.projMatrix):$?($t=new rr(de.LEQUAL,rr.ReadWrite,w.depthRangeFor3D),on=D?Float32Array.from(w.transform.expandedFarZProjMatrix):w.transform.calculateProjMatrix(Qt,Ke)):($t=w.depthModeForSublayer(Ot.overscaledZ-st,g.paint.get("raster-opacity")===1?rr.ReadWrite:rr.ReadOnly,de.LESS),on=w.transform.calculateProjMatrix(Qt,Ke));const Kn=w.terrain&&$e?w.terrain.stencilModeForRTTOverlap(Ot):Ze[Ot.overscaledZ],ir=L?0:g.paint.get("raster-fade-duration");fn.registerFadeDuration(ir);const nr=d.findLoadedParent(Ot,0),pr=j1(fn,nr,d,w.transform,ir);let Ir,jr;w.terrain&&w.terrain.prepareDrawTile(),ae.activeTexture.set(de.TEXTURE0),xn.bind(Pe,de.CLAMP_TO_EDGE),ae.activeTexture.set(de.TEXTURE1),nr?(nr.texture&&nr.texture.bind(Pe,de.CLAMP_TO_EDGE),Ir=Math.pow(2,nr.tileID.overscaledZ-fn.tileID.overscaledZ),jr=[fn.tileID.canonical.x*Ir%1,fn.tileID.canonical.y*Ir%1]):xn.bind(Pe,de.CLAMP_TO_EDGE),xn.useMipmap&&ae.extTextureFilterAnisotropic&&w.transform.pitch>20&&de.texParameterf(de.TEXTURE_2D,ae.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,ae.extTextureFilterAnisotropicMax);const Nr=w.transform;let zr;const Ri=$?sr(Nr):[0,0,0,0];let hi,Ei,wi,ia,ns,Yi=0;if(Y&&Ae instanceof a.ap&&Ae.coordinates.length>3)hi=Float32Array.from(a.aT(a.ci(new a.bs(0,0,0)))),Ei=Float32Array.from(Nr.globeMatrix),wi=Float32Array.from(a.ce(Nr)),ia=[a.a5(Nr.center.lng),a.ae(Nr.center.lat)],zr=Ae.elevatedGlobePerspectiveTransform,ns=Ae.elevatedGlobeGridMatrix||new Float32Array(9);else if(Y){const Zi=a.cf(Ot.canonical);Yi=a.cg(Zi.getCenter().lat),hi=Float32Array.from(a.aT(a.ci(Ot.canonical))),Ei=Float32Array.from(Nr.globeMatrix),wi=Float32Array.from(a.ce(Nr)),ia=[a.a5(Nr.center.lng),a.ae(Nr.center.lat)],zr=[0,0],ns=Float32Array.from(a.ch(Ot.canonical,Zi,Yi,Nr.worldSize/Nr._pixelsPerMercatorPixel))}else zr=Ae instanceof a.ap?Ae.perspectiveTransform:[0,0],hi=new Float32Array(16),Ei=new Float32Array(9),wi=new Float32Array(16),ia=[0,0],ns=new Float32Array(9);const ks=ig(on,hi,Ei,wi,ns,jr||[0,0],a.S(w.transform.zoom),ia,Ri,Ir||1,pr,g,zr,$?g.paint.get("raster-elevation"):0,2,_n,$n,Ce.range,Yt,mn,Me),Xi=w.isTileAffectedByFog(Ot),_a=w.getOrCreateProgram("raster",{defines:Ce.defines,overrideFog:Xi});if(w.uploadCommonUniforms(ae,_a,Qt),Ae instanceof a.ap){const Zi=Ae.elevatedGlobeVertexBuffer,ma=Ae.elevatedGlobeIndexBuffer;if($e||!D)Ae.boundsBuffer&&Ae.boundsSegments&&_a.draw(w,de.TRIANGLES,$t,si.disabled,He,Vr.disabled,ks,g.id,Ae.boundsBuffer,w.quadTriangleIndexBuffer,Ae.boundsSegments);else if(Zi&&ma){const ls=Nr.zoom<=a.bG?Ae.elevatedGlobeSegments:Ae.getSegmentsForLongitude(Nr.center.lng);ls&&_a.draw(w,de.TRIANGLES,$t,si.disabled,He,mt,ks,g.id,Zi,ma,ls)}}else if(Y){$t=new rr(de.LEQUAL,rr.ReadOnly,w.depthRangeFor3D);const Zi=w.globeSharedBuffers;if(Zi){const[ma,ls,xa]=Zi.getGridBuffers(Yi,!1);_a.draw(w,de.TRIANGLES,$t,Pt||Kn,w.colorModeForRenderPass(),mt,ks,g.id,ma,ls,xa)}}else{const{tileBoundsBuffer:Zi,tileBoundsIndexBuffer:ma,tileBoundsSegments:ls}=w.getTileBoundsBuffers(fn);_a.draw(w,de.TRIANGLES,$t,Kn,He,Vr.disabled,ks,g.id,Zi,ma,ls)}}if(!(Ae instanceof a.ap)&&Y)for(const Ot of qe){const Qt=Ot.canonical.y===(1<<Ot.canonical.z)-1;Ot.canonical.y===0&&dn(!0,Ot,w,d,g,Me,Ce,mt,Pt||si.disabled),Qt&&dn(!1,Ot,w,d,g,Me,Ce,mt===Vr.frontCW?Vr.backCW:Vr.frontCW,Pt||si.disabled)}};Y?At(pt,w.renderElevatedRasterBackface?Vr.backCW:Vr.frontCW,w.stencilModeFor3D()):At(pt,Vr.disabled,void 0),w.resetStencilClippingMasks()},"raster-particle":function(w,d,g,x,B,L){w.renderPass==="offscreen"&&function(D,$,Y,ae){if(!ae.length)return;const de=D.context,Ae=de.gl,Ce=$.getSource();if(!(Ce instanceof kn))return;const Me=[];for(const Ke of ae){const Pe=$.getTile(Ke);if(!(Pe instanceof Ah))continue;const Ze=ur(Pe,Ce,Y);if(!Ze)continue;const pt=[Ze.tileSize,Ze.tileSize];let st=Y.tileFramebuffer;st||(st=Y.tileFramebuffer=de.createFramebuffer(pt[0],pt[1],!0,null));let At=Pe.rasterParticleState;const qe=Y.paint.get("raster-particle-count");At||(At=Pe.rasterParticleState=new Ws(de,Ke,pt,qe));const mt=At.update(Y.lastInvalidatedAt);At.numParticles!==qe&&At.setNumParticles(Ke,qe);const Pt=At.targetColorTexture;At.targetColorTexture=At.backgroundColorTexture,At.backgroundColorTexture=Pt;const Ot=At.particleVertices0;At.particleVertices0=At.particleVertices1,At.particleVertices1=Ot,Me.push([Ke,Ze,At,mt])}if(Me.length===0)return;const He=a.f.now(),$e=Y.previousDrawTimestamp?.001*(He-Y.previousDrawTimestamp):.0167;if(Y.previousDrawTimestamp=He,Y.hasColorMap()){de.activeTexture.set(Ae.TEXTURE0+2);let Ke=Y.colorRampTexture;Ke||(Ke=Y.colorRampTexture=new a.T(de,Y.colorRamp,Ae.RGBA)),Ke.bind(Ae.LINEAR,Ae.CLAMP_TO_EDGE)}de.bindFramebuffer.set(Y.tileFramebuffer.framebuffer),de.activeTexture.set(Ae.TEXTURE0),function(Ke,Pe,Ze){const pt=Ke.context,st=pt.gl,At=Pe.tileFramebuffer;pt.activeTexture.set(st.TEXTURE0);const qe={u_texture:0,u_opacity:1.05*(Pt=Pe.paint.get("raster-particle-fade-opacity-factor"))/(Pt+.05)},mt=Ke.getOrCreateProgram("rasterParticleTexture",{defines:[],overrideFog:!1});var Pt;for(const Ot of Ze){const[,,Qt,fn]=Ot;At.colorAttachment.set(Qt.targetColorTexture.texture),pt.viewport.set([0,0,At.width,At.height]),pt.clear({color:a.ax.transparent}),fn&&(Qt.backgroundColorTexture.bind(st.NEAREST,st.CLAMP_TO_EDGE),mt.draw(Ke,st.TRIANGLES,rr.disabled,si.disabled,Ii.alphaBlended,Vr.disabled,qe,Pe.id,Ke.viewportBuffer,Ke.quadTriangleIndexBuffer,Ke.viewportSegments))}}(D,Y,Me),function(Ke,Pe,Ze,pt){const st=Ke.context.gl,At=Ze.tileFramebuffer,qe=Ke.transform.projection.name==="globe",mt=Ze.paint.get("raster-particle-max-speed");for(const Pt of pt){const[Ot,Qt,fn]=Pt;Qt.texture.bind(st.LINEAR,st.CLAMP_TO_EDGE),At.colorAttachment.set(fn.targetColorTexture.texture);const Wt=Ke.getOrCreateProgram("rasterParticleDraw",{defines:Qt.defines,overrideFog:!1}),xn=Qt.scalarData?[]:[0,1,2,3].map(Yt=>a.cG[Yt](Ot));xn.push(Ot);const _n=Ot.canonical.x,$n=Ot.canonical.y;for(const Yt of xn){const mn=Pe.getTile(qe?Yt.wrapped():Yt);if(!mn)continue;const $t=mn.rasterParticleState;if(!$t)continue;const on=sb([Yt.canonical.x+(1<<Yt.canonical.z)*(Yt.wrap-Ot.wrap)-_n,Yt.canonical.y-$n],0,Qt.texture.size,2,mt,Qt.textureOffset,Qt.scale,Qt.offset);Wt.draw(Ke,st.POINTS,rr.disabled,si.disabled,Ii.alphaBlended,Vr.disabled,on,Ze.id,$t.particleVertices0,void 0,$t.particleSegment)}}}(D,$,Y,Me),function(Ke,Pe,Ze,pt){const st=Ke.context.gl;let At=Pe.transformFeedbackObject;At||(At=Pe.transformFeedbackObject=st.createTransformFeedback()),st.bindTransformFeedback(st.TRANSFORM_FEEDBACK,Pe.transformFeedbackObject);const qe=Pe.paint.get("raster-particle-max-speed"),mt=pt*Pe.paint.get("raster-particle-speed-factor")*.3,Pt=(Ot=Pe.paint.get("raster-particle-reset-rate-factor"),Math.pow(Ot,6));var Ot;for(const Qt of Ze){const[,fn,Wt]=Qt;fn.texture.bind(st.LINEAR,st.CLAMP_TO_EDGE);const xn=ob(0,fn.texture.size,qe,mt,Pt,fn.textureOffset,fn.scale,fn.offset);Ke.getOrCreateProgram("rasterParticleUpdate",{defines:fn.defines,transformFeedback:{bufferMode:st.SEPARATE_ATTRIBS,shaderVaryings:["v_new_particle"]}}).draw(Ke,st.POINTS,rr.disabled,si.disabled,Ii.disabled,Vr.disabled,xn,Pe.id,Wt.particleVertices0,void 0,Wt.particleSegment,{},void 0,void 0,void 0,void 0,[{buffer:Wt.particleVertices1,targetIndex:0}])}st.bindTransformFeedback(st.TRANSFORM_FEEDBACK,null)}(D,Y,Me,$e)}(w,d,g,x),w.renderPass==="translucent"&&(function(D,$,Y,ae,de){const Ae=D.context,Ce=Ae.gl,Me=!D.options.moving,He=D.transform.projection.name==="globe";if(!ae.length)return;const[$e,Ke]=D.stencilConfigForOverlap(ae),Pe=[];He&&Pe.push("PROJECTION_GLOBE_VIEW");for(const Ze of Ke){const pt=Ze.toUnwrapped(),st=$.getTile(Ze);if(!st.rasterParticleState)continue;const At=st.rasterParticleState,qe=100;st.registerFadeDuration(qe);const mt=$.findLoadedParent(Ze,0),Pt=j1(st,mt,$,D.transform,qe);let Ot,Qt;D.terrain&&D.terrain.prepareDrawTile(),Ae.activeTexture.set(Ce.TEXTURE0),At.targetColorTexture.bind(Ce.LINEAR,Ce.CLAMP_TO_EDGE),Ae.activeTexture.set(Ce.TEXTURE1),mt&&mt.rasterParticleState?(mt.rasterParticleState.targetColorTexture.bind(Ce.LINEAR,Ce.CLAMP_TO_EDGE),Ot=Math.pow(2,mt.tileID.overscaledZ-st.tileID.overscaledZ),Qt=[st.tileID.canonical.x*Ot%1,st.tileID.canonical.y*Ot%1]):At.targetColorTexture.bind(Ce.LINEAR,Ce.CLAMP_TO_EDGE);const fn=He?Float32Array.from(D.transform.expandedFarZProjMatrix):D.transform.calculateProjMatrix(pt,Me),Wt=D.transform,xn=Zr(Wt),_n=a.cf(Ze.canonical),$n=a.cg(_n.getCenter().lat);let Yt,mn,$t,on,Kn;He?(Yt=Float32Array.from(a.aT(a.ci(Ze.canonical))),mn=Float32Array.from(Wt.globeMatrix),$t=Float32Array.from(a.ce(Wt)),on=[a.a5(Wt.center.lng),a.ae(Wt.center.lat)],Kn=Float32Array.from(a.ch(Ze.canonical,_n,$n,Wt.worldSize/Wt._pixelsPerMercatorPixel))):(Yt=new Float32Array(16),mn=new Float32Array(9),$t=new Float32Array(16),on=[0,0],Kn=new Float32Array(9));const ir=Tx(fn,Yt,mn,$t,Kn,Qt||[0,0],a.S(D.transform.zoom),on,xn,Ot||1,Pt,250),nr=D.isTileAffectedByFog(Ze),pr=D.getOrCreateProgram("rasterParticle",{defines:Pe,overrideFog:nr});if(D.uploadCommonUniforms(Ae,pr,pt),He){const Ir=new rr(Ce.LEQUAL,rr.ReadWrite,D.depthRangeFor3D),jr=0,Nr=D.globeSharedBuffers;if(Nr){const[zr,Ri,hi]=Nr.getGridBuffers($n,jr!==0);pr.draw(D,Ce.TRIANGLES,Ir,si.disabled,Ii.alphaBlended,Vr.backCCW,ir,Y.id,zr,Ri,hi)}}else{const Ir=D.depthModeForSublayer(0,rr.ReadOnly),jr=$e[Ze.overscaledZ],{tileBoundsBuffer:Nr,tileBoundsIndexBuffer:zr,tileBoundsSegments:Ri}=D.getTileBoundsBuffers(st);pr.draw(D,Ce.TRIANGLES,Ir,jr,Ii.alphaBlended,Vr.disabled,ir,Y.id,Nr,zr,Ri)}}D.resetStencilClippingMasks()}(w,d,g,x),w.style.map.triggerRepaint())},background:function(w,d,g,x){const B=g.paint.get("background-color"),L=g.paint.get("background-opacity"),D=g.paint.get("background-emissive-strength");if(L===0)return;const $=w.context,Y=$.gl,ae=w.transform,de=ae.tileSize,Ae=g.paint.get("background-pattern");if(w.isPatternMissing(Ae,g.scope))return;const Ce=!Ae&&B.a===1&&L===1&&w.opaquePassEnabledForLayer()?"opaque":"translucent";if(w.renderPass!==Ce)return;const Me=si.disabled,He=w.depthModeForSublayer(0,Ce==="opaque"?rr.ReadWrite:rr.ReadOnly),$e=w.colorModeForDrapableLayerRenderPass(D),Ke=Ae?"backgroundPattern":"background";let Pe,Ze=x;Ze||(Pe=w.getBackgroundTiles(),Ze=Object.values(Pe).map(pt=>pt.tileID)),Ae&&($.activeTexture.set(Y.TEXTURE0),w.imageManager.bind(w.context,g.scope));for(const pt of Ze){const st=w.isTileAffectedByFog(pt),At=w.getOrCreateProgram(Ke,{overrideFog:st}),qe=pt.toUnwrapped(),mt=x?pt.projMatrix:w.transform.calculateProjMatrix(qe);w.prepareDrawTile();const Pt=d?d.getTile(pt):Pe?Pe[pt.key]:new ku(pt,de,ae.zoom,w),Ot=Ae?RA(mt,D,L,w,Ae,g.scope,{tileID:pt,tileSize:de}):Y1(mt,D,L,B);w.uploadCommonUniforms($,At,qe);const{tileBoundsBuffer:Qt,tileBoundsIndexBuffer:fn,tileBoundsSegments:Wt}=w.getTileBoundsBuffers(Pt);At.draw(w,Y.TRIANGLES,He,Me,$e,Vr.disabled,Ot,g.id,Qt,fn,Wt)}},sky:function(w,d,g){const x=w._atmosphere?a.S(w.transform.zoom):1,B=g.paint.get("sky-opacity")*x;if(B===0)return;const L=w.context,D=g.paint.get("sky-type"),$=new rr(L.gl.LEQUAL,rr.ReadOnly,[0,1]),Y=w.frameCounter/1e3%1;D==="atmosphere"?w.renderPass==="offscreen"?g.needsSkyboxCapture(w)&&(function(ae,de,Ae,Ce){const Me=ae.context,He=Me.gl;let $e=de.skyboxFbo;if(!$e){$e=de.skyboxFbo=Me.createFramebuffer(32,32,!0,null),de.skyboxGeometry=new go(Me),de.skyboxTexture=Me.gl.createTexture(),He.bindTexture(He.TEXTURE_CUBE_MAP,de.skyboxTexture),He.texParameteri(He.TEXTURE_CUBE_MAP,He.TEXTURE_WRAP_S,He.CLAMP_TO_EDGE),He.texParameteri(He.TEXTURE_CUBE_MAP,He.TEXTURE_WRAP_T,He.CLAMP_TO_EDGE),He.texParameteri(He.TEXTURE_CUBE_MAP,He.TEXTURE_MIN_FILTER,He.LINEAR),He.texParameteri(He.TEXTURE_CUBE_MAP,He.TEXTURE_MAG_FILTER,He.LINEAR);for(let pt=0;pt<6;++pt)He.texImage2D(He.TEXTURE_CUBE_MAP_POSITIVE_X+pt,0,He.RGBA,32,32,0,He.RGBA,He.UNSIGNED_BYTE,null)}Me.bindFramebuffer.set($e.framebuffer),Me.viewport.set([0,0,32,32]);const Ke=de.getCenter(ae,!0),Pe=ae.getOrCreateProgram("skyboxCapture"),Ze=new Float64Array(16);a.a6.identity(Ze),a.a6.rotateY(Ze,Ze,.5*-Math.PI),$o(ae,de,Pe,Ze,Ke,0),a.a6.identity(Ze),a.a6.rotateY(Ze,Ze,.5*Math.PI),$o(ae,de,Pe,Ze,Ke,1),a.a6.identity(Ze),a.a6.rotateX(Ze,Ze,.5*-Math.PI),$o(ae,de,Pe,Ze,Ke,2),a.a6.identity(Ze),a.a6.rotateX(Ze,Ze,.5*Math.PI),$o(ae,de,Pe,Ze,Ke,3),a.a6.identity(Ze),$o(ae,de,Pe,Ze,Ke,4),a.a6.identity(Ze),a.a6.rotateY(Ze,Ze,Math.PI),$o(ae,de,Pe,Ze,Ke,5),Me.viewport.set([0,0,ae.width,ae.height])}(w,g),g.markSkyboxValid(w)):w.renderPass==="sky"&&function(ae,de,Ae,Ce,Me){const He=ae.context,$e=He.gl,Ke=ae.transform,Pe=ae.getOrCreateProgram("skybox");He.activeTexture.set($e.TEXTURE0),$e.bindTexture($e.TEXTURE_CUBE_MAP,de.skyboxTexture);const Ze=((pt,st,At,qe,mt)=>({u_matrix:pt,u_sun_direction:st,u_cubemap:0,u_opacity:qe,u_temporal_offset:mt}))(Ke.skyboxMatrix,de.getCenter(ae,!1),0,Ce,Me);ae.uploadCommonUniforms(He,Pe),Pe.draw(ae,$e.TRIANGLES,Ae,si.disabled,ae.colorModeForRenderPass(),Vr.backCW,Ze,"skybox",de.skyboxGeometry.vertexBuffer,de.skyboxGeometry.indexBuffer,de.skyboxGeometry.segment)}(w,g,$,B,Y):D==="gradient"&&w.renderPass==="sky"&&function(ae,de,Ae,Ce,Me){const He=ae.context,$e=He.gl,Ke=ae.transform,Pe=ae.getOrCreateProgram("skyboxGradient");de.skyboxGeometry||(de.skyboxGeometry=new go(He)),He.activeTexture.set($e.TEXTURE0);let Ze=de.colorRampTexture;Ze||(Ze=de.colorRampTexture=new a.T(He,de.colorRamp,$e.RGBA)),Ze.bind($e.LINEAR,$e.CLAMP_TO_EDGE);const pt=((st,At,qe,mt,Pt)=>({u_matrix:st,u_color_ramp:0,u_center_direction:At,u_radius:a.bj(qe),u_opacity:mt,u_temporal_offset:Pt}))(Ke.skyboxMatrix,de.getCenter(ae,!1),de.paint.get("sky-gradient-radius"),Ce,Me);ae.uploadCommonUniforms(He,Pe),Pe.draw(ae,$e.TRIANGLES,Ae,si.disabled,ae.colorModeForRenderPass(),Vr.backCW,pt,"skyboxGradient",de.skyboxGeometry.vertexBuffer,de.skyboxGeometry.indexBuffer,de.skyboxGeometry.segment)}(w,g,$,B,Y)},debug:function(w,d,g,x,B,L){for(let D=0;D<g.length;D++)if(B){const ae=new a.ax(x.r*.8,x.g*.8,x.b*.8,1);Ta(w,d,g[D],x,-1,-1,L),Ta(w,d,g[D],x,-1,1,L),Ta(w,d,g[D],x,1,1,L),Ta(w,d,g[D],x,1,-1,L),Ta(w,d,g[D],ae,0,0,L)}else Ta(w,d,g[D],x,0,0,L)},custom:function(w,d,g,x){const B=w.context,L=g.implementation;if(!w.transform.projection.unsupportedLayers||!w.transform.projection.unsupportedLayers.includes("custom")||w.terrain&&(w.terrain.renderingToTexture||w.renderPass==="offscreen")&&g.isLayerDraped(d)){if(w.renderPass==="offscreen"){const D=L.prerender;if(D){if(w.setCustomLayerDefaults(),B.setColorMode(w.colorModeForRenderPass()),w.transform.projection.name==="globe"){const $=w.transform.pointMerc;D.call(L,B.gl,w.transform.customLayerMatrix(),w.transform.getProjection(),w.transform.globeToMercatorMatrix(),a.S(w.transform.zoom),[$.x,$.y],w.transform.pixelsPerMeterRatio)}else D.call(L,B.gl,w.transform.customLayerMatrix());B.setDirty(),w.setBaseState()}}else if(w.renderPass==="translucent"){if(w.terrain&&w.terrain.renderingToTexture){const $=L.renderToTile;if($){const Y=x[0].canonical,ae=new a.L(Y.x+x[0].wrap*(1<<Y.z),Y.y,Y.z);B.setDepthMode(rr.disabled),B.setStencilMode(si.disabled),B.setColorMode(w.colorModeForRenderPass()),w.setCustomLayerDefaults(),$.call(L,B.gl,ae),B.setDirty(),w.setBaseState()}return}w.setCustomLayerDefaults(),B.setColorMode(w.colorModeForRenderPass()),B.setStencilMode(si.disabled);const D=L.renderingMode==="3d"?new rr(w.context.gl.LEQUAL,rr.ReadWrite,w.depthRangeFor3D):w.depthModeForSublayer(0,rr.ReadOnly);if(B.setDepthMode(D),w.transform.projection.name==="globe"){const $=w.transform.pointMerc;L.render(B.gl,w.transform.customLayerMatrix(),w.transform.getProjection(),w.transform.globeToMercatorMatrix(),a.S(w.transform.zoom),[$.x,$.y],w.transform.pixelsPerMeterRatio)}else L.render(B.gl,w.transform.customLayerMatrix());B.setDirty(),w.setBaseState(),B.bindFramebuffer.set(null)}}else a.w("Custom layers are not yet supported with this projection. Use mercator or globe to enable usage of custom layers.")},model:function(w,d,g,x){if(w.renderPass==="opaque")return;const B=g.paint.get("model-opacity");if(B===0)return;const L=g.paint.get("model-cast-shadows");if(w.renderPass==="shadow"&&(!L||w.terrain&&B<.65&&g._transitionablePaint._values["model-opacity"].value.expression instanceof a.Z))return;const D=w.shadowRenderer,$=g.paint.get("model-receive-shadows");D&&(D.useNormalOffset=!0,$||(D.enabled=!1));const Y=()=>{D&&(D.useNormalOffset=!0,$||(D.enabled=!0))},ae=d.getSource();if(w.renderPass==="light-beam"&&ae.type!=="batched-model")return;if(ae.type==="vector"||ae.type==="geojson")return function(Pe,Ze,pt,st){const At=Pe.transform;if(At.projection.name!=="mercator")return void a.w(`Drawing 3D models for ${At.projection.name} projection is not yet implemented`);const qe=At.getFreeCameraOptions().position;if(!Pe.modelManager)return;const mt=Pe.modelManager;pt.modelManager=mt;const Pt=Pe.shadowRenderer;if(!pt._unevaluatedLayout._values.hasOwnProperty("model-id"))return;const Ot=pt._unevaluatedLayout._values["model-id"],Qt={...pt.layout.get("model-id").parameters};for(const fn of st){const Wt=Ze.getTile(fn).getBucket(pt);if(!Wt||Wt.projection.name!==At.projection.name)continue;const xn=_d(fn,At);Qt.zoom=xn;const _n=Ot.possiblyEvaluate(Qt);if(vd(Pe,Wt,fn),ol.shadowUniformsInitialized=!1,ol.useSingleShadowCascade=!!Pt&&Pt.getMaxCascadeForTile(fn.toUnwrapped())===0,Pe.renderPass==="shadow"&&Pt){if(Pe.currentShadowCascade===1&&Wt.isInsideFirstShadowMapFrustum)continue;const mn=At.calculatePosMatrix(fn.toUnwrapped(),At.worldSize);if(ol.tileMatrix.set(mn),ol.shadowTileMatrix=Float32Array.from(Pt.calculateShadowPassMatrixFromMatrix(mn)),ol.aabb.min.fill(0),ol.aabb.max[0]=ol.aabb.max[1]=a.V,ol.aabb.max[2]=0,cb(Wt,ol,Pe,pt.scope))continue}const $n=1<<fn.canonical.z,Yt=[((qe.x-fn.wrap)*$n-fn.canonical.x)*a.V,(qe.y*$n-fn.canonical.y)*a.V,qe.z*$n*a.V];for(let mn in Wt.instancesPerModel){const $t=Wt.instancesPerModel[mn];$t.features.length>0&&(mn=_n.evaluate($t.features[0].feature,{}));const on=mt.getModel(mn,pt.scope);if(on&&on.uploaded)for(const Kn of on.nodes)Zs(Pe,pt,Kn,$t,Yt,fn,ol)}}}(w,d,g,x),void Y();if(!ae.loaded())return;if(ae.type==="batched-model")return function(Pe,Ze,pt,st){pt.resetLayerRenderingStats(Pe);const At=Pe.context,qe=Pe.transform,mt=Pe.style.fog,Pt=Pe.shadowRenderer;if(qe.projection.name!=="mercator")return void a.w(`Drawing 3D landmark models for ${qe.projection.name} projection is not yet implemented`);const Ot=Pe.transform.getFreeCameraOptions().position,Qt=a.N.scale([],[Ot.x,Ot.y,Ot.z],Pe.transform.worldSize);a.N.negate(Qt,Qt);const fn=a.a6.identity([]),Wt=a.cR(qe.center.lat,qe.zoom),xn=a.a6.fromScaling([],[1,1,1/Wt]);a.a6.translate(fn,fn,Qt);const _n=pt.paint.get("model-opacity"),$n=new rr(At.gl.LEQUAL,rr.ReadWrite,Pe.depthRangeFor3D),Yt=new rr(At.gl.LEQUAL,rr.ReadOnly,Pe.depthRangeFor3D),mn=new a.bS([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),$t=Pe.renderPass==="shadow",on=$t&&Pt?Pt.getCurrentCascadeFrustum():qe.getFrustum(qe.scaleZoom(qe.worldSize)),Kn=pt.getLayerRenderingStats(),ir=function(nr,pr){for(const Ir of st){const jr=Ze.getTile(Ir).getBucket(pt);if(!jr||!jr.uploaded)continue;let Nr=!1;Pt&&(Nr=Pt.getMaxCascadeForTile(Ir.toUnwrapped())===0);const zr=qe.calculatePosMatrix(Ir.toUnwrapped(),qe.worldSize),Ri=jr.modelTraits;for(const hi of jr.getNodesInfo()){if(hi.hiddenByReplacement||!hi.node.meshes)continue;const Ei=hi.evaluatedScale,wi=hi.node;let ia=0;if(Pe.terrain&&wi.elevation&&(ia=wi.elevation*Pe.terrain.exaggeration()),Ei[0]<=1&&Ei[1]<=1&&Ei[2]<=1&&(()=>{const ls=hi.getLocalBounds();return mn.min=[...ls.min],mn.max=[...ls.max],mn.min[2]+=ia,mn.max[2]+=ia,a.N.transformMat4(mn.min,mn.min,zr),a.N.transformMat4(mn.max,mn.max,zr),mn})().intersects(on)===0)continue;const ns=Pe.renderPass==="light-beam",Yi=[...zr];a.a6.translate(Yi,Yi,[(wi.anchor?wi.anchor[0]:0)*(Ei[0]-1),(wi.anchor?wi.anchor[1]:0)*(Ei[1]-1),ia]),a.N.exactEquals(Ei,a.cT)||a.a6.scale(Yi,Yi,Ei),a.a6.multiply(Yi,Yi,wi.matrix);const ks=a.a6.multiply([],xn,Yi);a.a6.multiply(ks,fn,ks);const Xi=a.a6.invert([],ks);a.a6.transpose(Xi,Xi),a.a6.scale(Xi,Xi,of);const _a=a.a6.multiply([],qe.expandedFarZProjMatrix,Yi),Zi=Ri&a.cV.HasMapboxMeshFeatures,ma=Zi?0:hi.evaluatedRMEA[0][2];for(let ls=0;ls<wi.meshes.length;++ls){const xa=wi.meshes[ls],ll=ls===wi.lightMeshIndex;if(ll){if(!ns&&!Pe.terrain&&Pe.shadowRenderer){Pe.currentLayer<Pe.firstLightBeamLayer&&(Pe.firstLightBeamLayer=Pe.currentLayer);continue}}else if(ns)continue;const eu={defines:[]},_c=[];if(ka(eu.defines,_c,xa,Pe),Zi||eu.defines.push("DIFFUSE_SHADED"),Nr&&eu.defines.push("SHADOWS_SINGLE_CASCADE"),Kn&&($t?Kn.numRenderedVerticesInShadowPass+=xa.vertexArray.length:Kn.numRenderedVerticesInTransparentPass+=xa.vertexArray.length),$t){rn(xa,Yi,Pe,pt);continue}let df=null;if(mt){const bc=Io(Yi,Pe.transform);if(df=new Float32Array(bc),qe.projection.name!=="globe"){const ff=xa.aabb.min,zA=xa.aabb.max,[wg,s_]=mt.getOpacityForBounds(bc,ff[0],ff[1],zA[0],zA[1]);eu.overrideFog=wg>=tr||s_>=tr}}const yc=xa.material;let ul;yc.occlusionTexture&&yc.occlusionTexture.offsetScale&&(ul=yc.occlusionTexture.offsetScale,eu.defines.push("OCCLUSION_TEXTURE_TRANSFORM")),!$t&&Pt&&(Pt.useNormalOffset=!!xa.normalBuffer);const Vo=Pe.getOrCreateProgram("model",eu);!$t&&Pt&&Pt.setupShadowsFromMatrix(Yi,Vo,Pt.useNormalOffset),Pe.uploadCommonUniforms(At,Vo,Ir.toUnwrapped(),df);const Uu=yc.pbrMetallicRoughness;Uu.metallicFactor=.9,Uu.roughnessFactor=.5;const nc=dp(new Float32Array(_a),new Float32Array(ks),new Float32Array(Xi),Pe,_n,Uu.baseColorFactor,yc.emissiveFactor,Uu.metallicFactor,Uu.roughnessFactor,yc,ma,pt,[0,0,0],ul);Vo.draw(Pe,At.gl.TRIANGLES,pr&&!ll?$n:Yt,si.disabled,nr?ll||_n<1||hi.hasTranslucentParts?Ii.alphaBlended:Ii.unblended:Ii.disabled,Vr.backCCW,nc,pt.id,xa.vertexBuffer,xa.indexBuffer,xa.segments,pt.paint,Pe.transform.zoom,void 0,_c)}}}};(function(nr,pr,Ir,jr){const Nr=nr.terrain?nr.terrain.exaggeration():0,zr=nr.transform.zoom;for(const Ri of jr){const hi=pr.getTile(Ri).getBucket(Ir);hi&&(nr.conflationActive&&hi.updateReplacement(Ri,nr.replacementSource),hi.evaluateScale(nr,Ir),nr.terrain&&Nr>0&&hi.elevationUpdate(nr.terrain,Nr,Ri,Ir.source),hi.needsReEvaluation(nr,zr,Ir)&&hi.evaluate(Ir))}})(Pe,Ze,pt,st),_n===1?ir(!0,!0):(ir(!1,!0),ir(!0,!1))}(w,d,g,x),void Y();const de=ae.getModels(),Ae=[],Ce=w.transform.getFreeCameraOptions().position,Me=a.N.scale([],[Ce.x,Ce.y,Ce.z],w.transform.worldSize);a.N.negate(Me,Me);const He=[],$e=[];let Ke=0;for(const Pe of de){const Ze=g.paint.get("model-rotation").constantOr(null),pt=g.paint.get("model-scale").constantOr(null),st=g.paint.get("model-translation").constantOr(null);Pe.computeModelMatrix(w,Ze,pt,st,!0,!0,!1);const At=a.a6.identity([]),qe=a.cR(Pe.position.lat,w.transform.zoom),mt=a.a6.fromScaling([],[1,1,1/qe]);a.a6.translate(At,At,Me),Ae.push({zScaleMatrix:mt,negCameraPosMatrix:At});for(const Pt of Pe.nodes)vo(w.transform,Pt,Pe.matrix,w.transform.expandedFarZProjMatrix,Ke,He,$e);Ke++}if(He.sort((Pe,Ze)=>Ze.depth-Pe.depth),w.renderPass!=="shadow"){if(B===1)for(const Pe of $e)Du(Pe,w,g,Ae[Pe.modelIndex],si.disabled,w.colorModeForRenderPass());else{for(const Pe of $e)Du(Pe,w,g,Ae[Pe.modelIndex],si.disabled,Ii.disabled);for(const Pe of $e)Du(Pe,w,g,Ae[Pe.modelIndex],w.stencilModeFor3D(),w.colorModeForRenderPass());w.resetStencilClippingMasks()}for(const Pe of He)Du(Pe,w,g,Ae[Pe.modelIndex],si.disabled,w.colorModeForRenderPass());Y()}else{for(const Pe of $e)rn(Pe.mesh,Pe.nodeModelMatrix,w,g);for(const Pe of He)rn(Pe.mesh,Pe.nodeModelMatrix,w,g);Y()}}},ec={model:function(w,d,g){const x=w.scope,B=d.getSource();if(!B.loaded())return;if(B.type==="vector"||B.type==="geojson")return void(g.modelManager&&g.modelManager.upload(g,x));if(B.type==="batched-model")return;const L=B.getModels();for(const D of L)D.upload(g.context)},raster:function(w,d,g){const x=d.getSource();if(!(x instanceof kn&&x.loaded()))return;const B=w.sourceLayer||x.rasterLayerIds&&x.rasterLayerIds[0];if(!B)return;const L=w.paint.get("raster-array-band")||x.getInitialBand(B);if(L==null)return;const D=d.getIds().map($=>d.getTileByID($));for(const $ of D)$.updateNeeded(B,L)&&x.prepareTile($,B,L)},"raster-particle":function(w,d,g){const x=d.getSource();if(!(x instanceof kn&&x.loaded()))return;const B=w.sourceLayer||x.rasterLayerIds&&x.rasterLayerIds[0];if(!B)return;const L=w.paint.get("raster-particle-array-band")||x.getInitialBand(B);if(L==null)return;const D=d.getIds().map($=>d.getTileByID($));for(const $ of D)$.updateNeeded(B,L)&&x.prepareTile($,B,L)}};class fp{constructor(d,g,x,B){this.context=new F0(d,g),this.transform=x,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.tp=B,this._debugParams={showTerrainProxyTiles:!1},B.registerParameter(this._debugParams,["Terrain"],"showTerrainProxyTiles",{},()=>{this.style.map.triggerRepaint()}),this.setup(),this.numSublayers=Fu.maxUnderzooming+Fu.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={},this.conflationActive=!1,this.replacementSource=new a.cX,this.longestCutoffRange=0,this.minCutoffZoom=0,this._fogVisible=!1,this._cachedTileFogOpacities={},this._shadowRenderer=new fd(this),this._wireframeDebugCache=new lg,this.renderDefaultNorthPole=!0,this.renderDefaultSouthPole=!0}updateTerrain(d,g){const x=!!d&&!!d.terrain&&this.transform.projection.supportsTerrain;if(!(x||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new Sx(this,d));const B=this._terrain;this.transform.elevation=x?B:null,B.update(d,this.transform,g),this.transform.elevation&&!B.enabled&&(this.transform.elevation=null)}_updateFog(d){const g=d.fog;if(!g||this.transform.projection.name==="globe"||g.getOpacity(this.transform.pitch)<1||g.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[x,B]=g.getFovAdjustedRange(this.transform._fov);if(x>B)return void(this.transform.fogCullDistSq=null);const L=x+.78*(B-x);this.transform.fogCullDistSq=L*L}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}get shadowRenderer(){return this._shadowRenderer&&this._shadowRenderer.enabled?this._shadowRenderer:null}get wireframeDebugCache(){return this._wireframeDebugCache}resize(d,g){if(this.width=d*a.f.devicePixelRatio,this.height=g*a.f.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const x of this.style.order)this.style._mergedLayers[x].resize()}setup(){const d=this.context,g=new a.aN;g.emplaceBack(0,0),g.emplaceBack(a.V,0),g.emplaceBack(0,a.V),g.emplaceBack(a.V,a.V),this.tileExtentBuffer=d.createVertexBuffer(g,a.aP.members),this.tileExtentSegments=a.aB.simpleSegment(0,0,4,2);const x=new a.aN;x.emplaceBack(0,0),x.emplaceBack(a.V,0),x.emplaceBack(0,a.V),x.emplaceBack(a.V,a.V),this.debugBuffer=d.createVertexBuffer(x,a.aP.members),this.debugSegments=a.aB.simpleSegment(0,0,4,5);const B=new a.aN;B.emplaceBack(-1,-1),B.emplaceBack(1,-1),B.emplaceBack(-1,1),B.emplaceBack(1,1),this.viewportBuffer=d.createVertexBuffer(B,a.aP.members),this.viewportSegments=a.aB.simpleSegment(0,0,4,2);const L=new a.av;L.emplaceBack(0,0,0,0),L.emplaceBack(a.V,0,a.V,0),L.emplaceBack(0,a.V,0,a.V),L.emplaceBack(a.V,a.V,a.V,a.V),this.mercatorBoundsBuffer=d.createVertexBuffer(L,a.aR.members),this.mercatorBoundsSegments=a.aB.simpleSegment(0,0,4,2);const D=new a.aw;D.emplaceBack(0,1,2),D.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=d.createIndexBuffer(D);const $=new a.aO;for(const ae of[0,1,3,2,0])$.emplaceBack(ae);this.debugIndexBuffer=d.createIndexBuffer($),this.emptyTexture=new a.T(d,new a.h({width:1,height:1},Uint8Array.of(0,0,0,0)),d.gl.RGBA),this.identityMat=a.a6.create();const Y=this.context.gl;this.stencilClearMode=new si({func:Y.ALWAYS,mask:0},0,255,Y.ZERO,Y.ZERO,Y.ZERO),this.loadTimeStamps.push(performance.now())}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(d){return d._makeTileBoundsBuffers(this.context,this.transform.projection),d._tileBoundsBuffer?{tileBoundsBuffer:d._tileBoundsBuffer,tileBoundsIndexBuffer:d._tileBoundsIndexBuffer,tileBoundsSegments:d._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const d=this.context.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.getOrCreateProgram("clippingMask").draw(this,d.TRIANGLES,rr.disabled,this.stencilClearMode,Ii.disabled,Vr.disabled,cp(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(d,g,x){if(!g||this.currentStencilSource===g.id||!d.isTileClipped()||!x||x.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let $=!1;for(const Y of x)if(this._tileClippingMaskIDs[Y.key]===void 0){$=!0;break}if(!$)return}this.currentStencilSource=g.id;const B=this.context,L=B.gl;this.nextStencilID+x.length>256&&this.clearStencil(),B.setColorMode(Ii.disabled),B.setDepthMode(rr.disabled);const D=this.getOrCreateProgram("clippingMask");this._tileClippingMaskIDs={};for(const $ of x){const Y=g.getTile($),ae=this._tileClippingMaskIDs[$.key]=this.nextStencilID++,{tileBoundsBuffer:de,tileBoundsIndexBuffer:Ae,tileBoundsSegments:Ce}=this.getTileBoundsBuffers(Y);D.draw(this,L.TRIANGLES,rr.disabled,new si({func:L.ALWAYS,mask:0},ae,255,L.KEEP,L.KEEP,L.REPLACE),Ii.disabled,Vr.disabled,cp($.projMatrix),"$clipping",de,Ae,Ce)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const d=this.nextStencilID++,g=this.context.gl;return new si({func:g.NOTEQUAL,mask:255},d,255,g.KEEP,g.KEEP,g.REPLACE)}stencilModeForClipping(d){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(d);const g=this.context.gl;return new si({func:g.EQUAL,mask:255},this._tileClippingMaskIDs[d.key],0,g.KEEP,g.KEEP,g.REPLACE)}stencilConfigForOverlap(d){const g=this.context.gl,x=d.sort((D,$)=>$.overscaledZ-D.overscaledZ),B=x[x.length-1].overscaledZ,L=x[0].overscaledZ-B+1;if(L>1){this.currentStencilSource=void 0,this.nextStencilID+L>256&&this.clearStencil();const D={};for(let $=0;$<L;$++)D[$+B]=new si({func:g.GEQUAL,mask:255},$+this.nextStencilID,255,g.KEEP,g.KEEP,g.REPLACE);return this.nextStencilID+=L,[D,x]}return[{[B]:si.disabled},x]}colorModeForRenderPass(){const d=this.context.gl;return this._showOverdrawInspector?new Ii([d.CONSTANT_COLOR,d.ONE,d.CONSTANT_COLOR,d.ONE],new a.ax(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Ii.unblended:Ii.alphaBlended}colorModeForDrapableLayerRenderPass(d){const g=this.context.gl;return this.style&&this.style.enable3dLights()&&this.terrain&&this.terrain.renderingToTexture&&this.renderPass==="translucent"?new Ii([g.ONE,g.ONE_MINUS_SRC_ALPHA,g.CONSTANT_ALPHA,g.ONE_MINUS_SRC_ALPHA],new a.ax(0,0,0,d===void 0?0:d),[!0,!0,!0,!0]):this.colorModeForRenderPass()}depthModeForSublayer(d,g,x,B=!1){if(!this.opaquePassEnabledForLayer()&&!B)return rr.disabled;const L=1-((1+this.currentLayer)*this.numSublayers+d)*this.depthEpsilon;return new rr(x||this.context.gl.LEQUAL,g,[L,L])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(d,g){this._wireframeDebugCache.update(this.frameCounter),this.style=d,this.options=g;const x=this.style._mergedLayers,B=this.style.order,L=B.map(qe=>x[qe]),D=this.style._mergedSourceCaches;this.imageManager=d.imageManager,this.modelManager=d.modelManager,this.symbolFadeChange=d.placement.symbolFadeChange(a.f.now()),this.imageManager.beginFrame();let $=0,Y=!1;for(const qe in D){const mt=D[qe];mt.used&&(mt.prepare(this.context),mt.getSource().usedInConflation&&++$)}for(const qe of L)qe.isHidden(this.transform.zoom)||this.prepareLayer(qe);const ae={},de={},Ae={},Ce={},Me={};for(const qe in D){const mt=D[qe];ae[qe]=mt.getVisibleCoordinates(),de[qe]=ae[qe].slice().reverse(),Ae[qe]=mt.getVisibleCoordinates(!0).reverse(),Ce[qe]=mt.getShadowCasterCoordinates(),Me[qe]=mt.sortCoordinatesByDistance(ae[qe])}const He=qe=>{const mt=this.style.getLayerSourceCache(qe);return mt&&mt.used?mt.getSource():null};if($){const qe=[];for(const mt of L)this.layerUsedInConflation(mt,He(mt))&&qe.push(mt);if(qe&&qe.length>1){const mt=[];for(const Pt of qe){const Ot=this.style.getLayerSourceCache(Pt);Ot&&Ot.used&&Ot.getSource().usedInConflation&&mt.push({layer:Pt.fqid,cache:Ot})}this.replacementSource.setSources(mt),Y=!0}}Y||this.replacementSource.clear(),this.conflationActive=Y,this.minCutoffZoom=0,this.longestCutoffRange=0;for(const qe of L){const mt=qe.cutoffRange();if(this.longestCutoffRange=Math.max(mt,this.longestCutoffRange),mt>0){const Pt=He(qe);Pt&&(this.minCutoffZoom=Math.max(Pt.minzoom,this.minCutoffZoom)),qe.minzoom&&(this.minCutoffZoom=Math.max(qe.minzoom,this.minCutoffZoom))}}this.opaquePassCutoff=1/0;for(let qe=0;qe<L.length;qe++)if(L[qe].is3D()){this.opaquePassCutoff=qe;break}const $e=this.style&&this.style.fog;$e?(this._fogVisible=$e.getOpacity(this.transform.pitch)!==0,this._fogVisible&&this.transform.projection.name!=="globe"&&(this._fogVisible=$e.isVisibleOnFrustum(this.transform.cameraFrustum))):this._fogVisible=!1,this._cachedTileFogOpacities={},this.terrain&&(this.terrain.updateTileBinding(Ae),this.opaquePassCutoff=0);const Ke=this._shadowRenderer;if(Ke){Ke.updateShadowParameters(this.transform,this.style.directionalLight);for(const qe in D)for(const mt of ae[qe]){let Pt={min:0,max:0};this.terrain&&(Pt=this.terrain.getMinMaxForTile(mt)||Pt),Ke.addShadowReceiver(mt.toUnwrapped(),Pt.min,Pt.max)}}if(this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new a.cY(this.context)),this.style.fog&&this.transform.projection.supportsFog?(this._atmosphere||(this._atmosphere=new Cr(this)),this._atmosphere.update(this)):this._atmosphere&&(this._atmosphere.destroy(),this._atmosphere=void 0),!a.cZ(this.context.gl))return;this.renderPass="offscreen";for(const qe of L){const mt=d.getLayerSourceCache(qe);if(!qe.hasOffscreenPass()||qe.isHidden(this.transform.zoom))continue;const Pt=mt?de[mt.id]:void 0;(qe.type==="custom"||qe.type==="raster"||qe.type==="raster-particle"||qe.isSky()||Pt&&Pt.length)&&this.renderLayer(this,mt,qe,Pt)}this.depthRangeFor3D=[0,1-(L.length+2)*this.numSublayers*this.depthEpsilon];const Pe=this.terrain;Pe&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&!this.transform.isOrthographic&&Pe.drawDepth(),this._shadowRenderer&&(this.renderPass="shadow",this._shadowRenderer.drawShadowPass(this.style,Ce)),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]);const Ze=this.transform.projection.name==="globe"||this.transform.isHorizonVisible(),pt=(()=>{if(g.showOverdrawInspector)return a.ax.black;if(this.style.fog&&this.transform.projection.supportsFog&&!Ze){const qe=this.style.fog.properties.get("color").toArray01();return new a.ax(...qe)}if(this.style.fog&&this.transform.projection.supportsFog&&Ze){const qe=this.style.fog.properties.get("space-color").toArray01();return new a.ax(...qe)}return a.ax.transparent})();if(this.context.clear({color:pt,depth:1}),this.clearStencil(),this._showOverdrawInspector=g.showOverdrawInspector,this.renderPass="opaque",this.style.fog&&this.transform.projection.supportsFog&&this._atmosphere&&!this._showOverdrawInspector&&Ze&&this._atmosphere.drawStars(this,this.style.fog),!this.terrain)for(this.currentLayer=B.length-1;this.currentLayer>=0;this.currentLayer--){const qe=L[this.currentLayer],mt=d.getLayerSourceCache(qe);if(qe.isSky())continue;const Pt=mt?(qe.is3D()?Me:de)[mt.id]:void 0;this._renderTileClippingMasks(qe,mt,Pt),this.renderLayer(this,mt,qe,Pt)}if(this.style.fog&&this.transform.projection.supportsFog&&this._atmosphere&&!this._showOverdrawInspector&&Ze&&this._atmosphere.drawAtmosphereGlow(this,this.style.fog),this.renderPass="sky",(!this._atmosphere||a.S(this.transform.zoom)>0)&&(this.transform.projection.name==="globe"||this.transform.isHorizonVisible()))for(this.currentLayer=0;this.currentLayer<B.length;this.currentLayer++){const qe=L[this.currentLayer],mt=d.getLayerSourceCache(qe);qe.isSky()&&this.renderLayer(this,mt,qe,mt?de[mt.id]:void 0)}function st(qe,mt){let Pt;return mt&&(Pt=(qe.type==="symbol"?Ae:qe.is3D()?Me:de)[mt.id]),Pt}if(this.renderPass="translucent",this.transform.projection.name==="globe"){for(this.renderElevatedRasterBackface=!0,this.currentLayer=0;this.currentLayer<B.length;){const qe=L[this.currentLayer];if(qe.type==="raster"){const mt=d.getLayerSourceCache(qe);this.renderLayer(this,mt,qe,st(qe,mt))}++this.currentLayer}this.renderElevatedRasterBackface=!1}this.currentLayer=0,this.firstLightBeamLayer=Number.MAX_SAFE_INTEGER;let At=0;for(Ke&&(At=Ke.getShadowCastingLayerCount());this.currentLayer<B.length;){const qe=L[this.currentLayer],mt=d.getLayerSourceCache(qe);if(qe.isSky())++this.currentLayer;else if(Pe&&this.style.isLayerDraped(qe)){if(qe.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=Pe.renderBatch(this.currentLayer)}else{if(this._renderTileClippingMasks(qe,mt,mt?ae[mt.id]:void 0),this.renderLayer(this,mt,qe,st(qe,mt)),!Pe&&Ke&&At>0&&qe.hasShadowPass()&&--At==0&&(Ke.drawGroundShadows(),this.firstLightBeamLayer<=this.currentLayer)){const Pt=this.currentLayer;for(this.renderPass="light-beam",this.currentLayer=this.firstLightBeamLayer;this.currentLayer<=Pt;this.currentLayer++){const Ot=L[this.currentLayer];if(!Ot.hasLightBeamPass())continue;const Qt=d.getLayerSourceCache(Ot);this.renderLayer(this,Qt,Ot,Qt?de[Qt.id]:void 0)}this.currentLayer=Pt,this.renderPass="translucent"}++this.currentLayer}}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let qe=null;L.forEach(mt=>{const Pt=d.getLayerSourceCache(mt);Pt&&!mt.isHidden(this.transform.zoom)&&Pt.getVisibleCoordinates().length&&(!qe||qe.getSource().maxzoom<Pt.getSource().maxzoom)&&(qe=Pt)}),qe&&this.options.showTileBoundaries&&lf.debug(this,qe,qe.getVisibleCoordinates(),a.ax.red,!1,this.options.showParseStatus)}this.terrain&&this._debugParams.showTerrainProxyTiles&&lf.debug(this,this.terrain.proxySourceCache,this.terrain.proxyCoords,new a.ax(1,.8,.1,1),!0,this.options.showParseStatus),this.options.showPadding&&function(qe){const mt=qe.transform.padding;Fa(qe,qe.transform.height-(mt.top||0),3,Er),Fa(qe,mt.bottom||0,3,bi),La(qe,mt.left||0,3,Gr),La(qe,qe.transform.width-(mt.right||0),3,Ya);const Pt=qe.transform.centerPoint;(function(Ot,Qt,fn,Wt){Fi(Ot,Qt-1,fn-10,2,20,Wt),Fi(Ot,Qt-10,fn-1,20,2,Wt)})(qe,Pt.x,qe.transform.height-Pt.y,os)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(performance.now()),this.saveCanvasCopy()),Y||(this.conflationActive=!1)}prepareLayer(d){this.gpuTimingStart(d);const{unsupportedLayers:g}=this.transform.projection,x=!g||!g.includes(d.type);if(ec[d.type]&&(x||this.terrain&&d.type==="custom")){const B=this.style.getLayerSourceCache(d);ec[d.type](d,B,this)}this.gpuTimingEnd()}renderLayer(d,g,x,B){x.isHidden(this.transform.zoom)||(x.type==="background"||x.type==="sky"||x.type==="custom"||x.type==="model"||x.type==="raster"||x.type==="raster-particle"||B&&B.length)&&(this.id=x.id,this.gpuTimingStart(x),(!d.transform.projection.unsupportedLayers||!d.transform.projection.unsupportedLayers.includes(x.type)||d.terrain&&x.type==="custom")&&lf[x.type](d,g,x,B,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(d){if(!this.options.gpuTiming)return;const g=this.context.extTimerQuery,x=this.context.gl;let B=this.gpuTimers[d.id];B||(B=this.gpuTimers[d.id]={calls:0,cpuTime:0,query:x.createQuery()}),B.calls++,x.beginQuery(g.TIME_ELAPSED_EXT,B.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const d=this.context.extTimerQuery,g=this.context.gl,x=g.createQuery();this.deferredRenderGpuTimeQueries.push(x),g.beginQuery(d.TIME_ELAPSED_EXT,x)}}gpuTimingDeferredRenderEnd(){this.options.gpuTimingDeferredRender&&this.context.gl.endQuery(this.context.extTimerQuery.TIME_ELAPSED_EXT)}gpuTimingEnd(){this.options.gpuTiming&&this.context.gl.endQuery(this.context.extTimerQuery.TIME_ELAPSED_EXT)}collectGpuTimers(){const d=this.gpuTimers;return this.gpuTimers={},d}collectDeferredRenderGpuQueries(){const d=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],d}queryGpuTimers(d){const g={};for(const x in d){const B=d[x],L=this.context.extTimerQuery,D=L.getQueryParameter(B.query,this.context.gl.QUERY_RESULT)/1e6;L.deleteQueryEXT(B.query),g[x]=D}return g}queryGpuTimeDeferredRender(d){if(!this.options.gpuTimingDeferredRender)return 0;const g=this.context.extTimerQuery,x=this.context.gl;let B=0;for(const L of d)B+=g.getQueryParameter(L,x.QUERY_RESULT)/1e6,g.deleteQueryEXT(L);return B}translatePosMatrix(d,g,x,B,L){if(!x[0]&&!x[1])return d;const D=L?B==="map"?this.transform.angle:0:B==="viewport"?-this.transform.angle:0;if(D){const ae=Math.sin(D),de=Math.cos(D);x=[x[0]*de-x[1]*ae,x[0]*ae+x[1]*de]}const $=[L?x[0]:a.a3(g,x[0],this.transform.zoom),L?x[1]:a.a3(g,x[1],this.transform.zoom),0],Y=new Float32Array(16);return a.a6.translate(Y,d,$),Y}saveTileTexture(d){const g=d.size[0],x=this._tileTextures[g];x?x.push(d):this._tileTextures[g]=[d]}getTileTexture(d){const g=this._tileTextures[d];return g&&g.length>0?g.pop():null}isPatternMissing(d,g){return d===null||d!==void 0&&!this.imageManager.getPattern(d.toString(),g)}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}linearFloatFilteringSupported(){return this.context.extTextureFloatLinear!=null}currentGlobalDefines(d,g,x){const B=x===void 0?this.terrain&&this.terrain.renderingToTexture:x,L=this.terrain&&this.terrain.exaggeration()===0,D=[];return this.style&&this.style.enable3dLights()&&(d==="globeRaster"||d==="terrainRaster"?(D.push("LIGHTING_3D_MODE"),D.push("LIGHTING_3D_ALPHA_EMISSIVENESS")):B||D.push("LIGHTING_3D_MODE")),this.renderPass==="shadow"?this._shadowMapDebug||D.push("DEPTH_TEXTURE"):this.shadowRenderer&&(this.shadowRenderer.useNormalOffset?D.push("RENDER_SHADOWS","DEPTH_TEXTURE","NORMAL_OFFSET"):D.push("RENDER_SHADOWS","DEPTH_TEXTURE")),this.terrainRenderModeElevated()&&(D.push("TERRAIN"),this.linearFloatFilteringSupported()&&D.push("TERRAIN_DEM_FLOAT_FORMAT"),L&&D.push("ZERO_EXAGGERATION")),this.transform.projection.name==="globe"&&D.push("GLOBE"),!this._fogVisible||B||g!==void 0&&!g||D.push("FOG","FOG_DITHERING"),B&&D.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&D.push("OVERDRAW_INSPECTOR"),D}getOrCreateProgram(d,g){this.cache=this.cache||{};const x=g&&g.defines||[],B=g&&g.config,L=g&&g.transformFeedback,D=this.currentGlobalDefines(d,g&&g.overrideFog,g&&g.overrideRtt).concat(x),$=Ju.cacheKey(Jm[d],d,D,B);return this.cache[$]||(this.cache[$]=new Ju(this.context,d,Jm[d],B,ub[d],D,L)),this.cache[$]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const d=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(d.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new a.T(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this._atmosphere&&(this._atmosphere.destroy(),this._atmosphere=void 0),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this._wireframeDebugCache.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}uploadCommonLightUniforms(d,g){if(this.style.enable3dLights()){const x=this.style.directionalLight,B=this.style.ambientLight;if(x&&B){const L=((D,$)=>{const Y=D.properties.get("direction"),ae=D.properties.get("color").toArray01(),de=D.properties.get("intensity"),Ae=$.properties.get("color").toArray01(),Ce=$.properties.get("intensity"),Me=[Y.x,Y.y,Y.z],He=a.cn(Ae,Ce),$e=a.cn(ae,de);return{u_lighting_ambient_color:He,u_lighting_directional_dir:Me,u_lighting_directional_color:$e,u_ground_radiance:G1(Me,$e,He)}})(x,B);g.setLightsUniformValues(d,L)}}}uploadCommonUniforms(d,g,x,B,L){if(this.uploadCommonLightUniforms(d,g),this.terrain&&this.terrain.renderingToTexture)return;const D=this.style.fog;if(D){const $=D.getOpacity(this.transform.pitch),Y=((ae,de,Ae,Ce,Me,He,$e,Ke,Pe,Ze,pt,st)=>{const At=ae.transform,qe=de.properties.get("color").toArray01();qe[3]=Ce;const mt=ae.frameCounter/1e3%1,[Pt,Ot]=de.properties.get("vertical-range");return{u_fog_matrix:Ae?At.calculateFogTileMatrix(Ae):st||ae.identityMat,u_fog_range:de.getFovAdjustedRange(At._fov),u_fog_color:qe,u_fog_horizon_blend:de.properties.get("horizon-blend"),u_fog_vertical_limit:[Math.min(Pt,Ot),Ot],u_fog_temporal_offset:mt,u_frustum_tl:Me,u_frustum_tr:He,u_frustum_br:$e,u_frustum_bl:Ke,u_globe_pos:Pe,u_globe_radius:Ze,u_viewport:pt,u_globe_transition:a.S(At.zoom),u_is_globe:+(At.projection.name==="globe")}})(this,D,x,$,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*a.f.devicePixelRatio,this.transform.height*a.f.devicePixelRatio],B);g.setFogUniformValues(d,Y)}L&&g.setCutoffUniformValues(d,L.uniformValues)}setTileLoadedFlag(d){this.tileLoaded=d}saveCanvasCopy(){const d=this.canvasCopy();d&&(this.frameCopies.push(d),this.tileLoaded=!1)}canvasCopy(){const d=this.context.gl,g=d.createTexture();return d.bindTexture(d.TEXTURE_2D,g),d.copyTexImage2D(d.TEXTURE_2D,0,d.RGBA,0,0,d.drawingBufferWidth,d.drawingBufferHeight,0),g}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const d=this.style&&this.style.fog;return!!d&&d.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const d=this._backgroundTiles,g=this._backgroundTiles={},x=this.transform.coveringTiles({tileSize:512});for(const B of x)g[B.key]=d[B.key]||new ku(B,512,this.transform.tileZoom,this);return g}clearBackgroundTiles(){this._backgroundTiles={}}layerUsedInConflation(d,g){return!(!d.is3D()||d.minzoom&&d.minzoom>this.transform.zoom||d.sourceLayer!=="building"&&(!g||g.type!=="batched-model"))}isTileAffectedByFog(d){if(!this.style||!this.style.fog)return!1;if(this.transform.projection.name==="globe")return!0;let g=this._cachedTileFogOpacities[d.key];return g||(this._cachedTileFogOpacities[d.key]=g=this.style.fog.getOpacityForTile(d)),g[0]>=tr||g[1]>=tr}}function Eh(w,d){let g=!1,x=null;const B=()=>{x=null,g&&(w(),x=setTimeout(B,d),g=!1)};return()=>(g=!0,x||B(),x)}class ug{constructor(d){this._hashName=d&&encodeURIComponent(d),a.aY(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Eh(this._updateHashUnthrottled.bind(this),300)}addTo(d){return this._map=d,window.addEventListener("hashchange",this._onHashChange,!1),d.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const d=this._map;if(!d)return"";const g=OA(d);if(this._hashName){const x=this._hashName;let B=!1;const L=location.hash.slice(1).split("&").map(D=>{const $=D.split("=")[0];return $===x?(B=!0,`${$}=${g}`):D}).filter(D=>D);return B||L.push(`${x}=${g}`),`#${L.join("&")}`}return`#${g}`}_getCurrentHash(){const d=location.hash.replace("#","");if(this._hashName){let g;return d.split("&").map(x=>x.split("=")).forEach(x=>{x[0]===this._hashName&&(g=x)}),(g&&g[1]||"").split("/")}return d.split("/")}_onHashChange(){const d=this._map;if(!d)return!1;const g=this._getCurrentHash();if(g.length>=3&&!g.some(x=>isNaN(x))){const x=d.dragRotate.isEnabled()&&d.touchZoomRotate.isEnabled()?+(g[3]||0):d.getBearing();return d.jumpTo({center:[+g[2],+g[1]],zoom:+g[0],bearing:x,pitch:+(g[4]||0)}),!0}return!1}_updateHashUnthrottled(){history.replaceState(history.state,"",location.href.replace(/(#.+)?$/,this.getHashString()))}}function OA(w,d){const g=w.getCenter(),x=Math.round(100*w.getZoom())/100,B=Math.ceil((x*Math.LN2+Math.log(512/360/.5))/Math.LN10),L=Math.pow(10,B),D=Math.round(g.lng*L)/L,$=Math.round(g.lat*L)/L,Y=w.getBearing(),ae=w.getPitch();let de=d?`/${D}/${$}/${x}`:`${x}/${$}/${D}`;return(Y||ae)&&(de+="/"+Math.round(10*Y)/10),ae&&(de+=`/${Math.round(ae)}`),de}const DA={linearity:.3,easing:a.c_(0,0,.3,1)},yl=a.e({deceleration:2500,maxSpeed:1400},DA),X1=a.e({deceleration:20,maxSpeed:1400},DA),pp=a.e({deceleration:1e3,maxSpeed:360},DA),ja=a.e({deceleration:1e3,maxSpeed:90},DA);class Ba{constructor(d){this._map=d,this.clear()}clear(){this._inertiaBuffer=[]}record(d){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.f.now(),settings:d})}_drainInertiaBuffer(){const d=this._inertiaBuffer,g=a.f.now();for(;d.length>0&&g-d[0].time>160;)d.shift()}_onMoveEnd(d){if(this._map._prefersReducedMotion()||(this._drainInertiaBuffer(),this._inertiaBuffer.length<2))return;const g={zoom:0,bearing:0,pitch:0,pan:new a.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:L}of this._inertiaBuffer)g.zoom+=L.zoomDelta||0,g.bearing+=L.bearingDelta||0,g.pitch+=L.pitchDelta||0,L.panDelta&&g.pan._add(L.panDelta),L.around&&(g.around=L.around),L.pinchAround&&(g.pinchAround=L.pinchAround);const x=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,B={};if(g.pan.mag()){const L=tc(g.pan.mag(),x,a.e({},yl,d||{}));B.offset=g.pan.mult(L.amount/g.pan.mag()),B.center=this._map.transform.center,cg(B,L)}if(g.zoom){const L=tc(g.zoom,x,X1);B.zoom=this._map.transform.zoom+L.amount,cg(B,L)}if(g.bearing){const L=tc(g.bearing,x,pp);B.bearing=this._map.transform.bearing+a.aa(L.amount,-179,179),cg(B,L)}if(g.pitch){const L=tc(g.pitch,x,ja);B.pitch=this._map.transform.pitch+L.amount,cg(B,L)}if(B.zoom||B.bearing){const L=g.pinchAround===void 0?g.around:g.pinchAround;B.around=L?this._map.unproject(L):this._map.getCenter()}return this.clear(),B.noMoveStart=!0,B}}function cg(w,d){(!w.duration||w.duration<d.duration)&&(w.duration=d.duration,w.easing=d.easing)}function tc(w,d,g){const{maxSpeed:x,linearity:B,deceleration:L}=g,D=a.aa(w*B/(d/1e3),-x,x),$=Math.abs(D)/(L*B);return{easing:g.easing,duration:1e3*$,amount:D*($/2)}}class _o extends a.b{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(d,g,x,B={}){const L=H(g.getCanvasContainer(),x),D=g.unproject(L);super(d,a.e({point:L,lngLat:D,originalEvent:x},B)),this._defaultPrevented=!1,this.target=g}}class bd extends a.b{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(d,g,x){const B=d==="touchend"?x.changedTouches:x.touches,L=j(g.getCanvasContainer(),B),D=L.map(Y=>g.unproject(Y)),$=L.reduce((Y,ae,de,Ae)=>Y.add(ae.div(Ae.length)),new a.P(0,0));super(d,{points:L,point:$,lngLats:D,lngLat:g.unproject($),originalEvent:x}),this._defaultPrevented=!1}}class Z1 extends a.b{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(d,g,x){super(d,{originalEvent:x}),this._defaultPrevented=!1}}class J1{constructor(d,g){this._map=d,this._clickTolerance=g.clickTolerance}reset(){this._mousedownPos=void 0}wheel(d){return this._firePreventable(new Z1(d.type,this._map,d))}mousedown(d,g){return this._mousedownPos=g,this._firePreventable(new _o(d.type,this._map,d))}mouseup(d){this._map.fire(new _o(d.type,this._map,d))}preclick(d){const g=a.e({},d);g.type="preclick",this._map.fire(new _o(g.type,this._map,g))}click(d,g){this._mousedownPos&&this._mousedownPos.dist(g)>=this._clickTolerance||(this.preclick(d),this._map.fire(new _o(d.type,this._map,d)))}dblclick(d){return this._firePreventable(new _o(d.type,this._map,d))}mouseover(d){this._map.fire(new _o(d.type,this._map,d))}mouseout(d){this._map.fire(new _o(d.type,this._map,d))}touchstart(d){return this._firePreventable(new bd(d.type,this._map,d))}touchmove(d){this._map.fire(new bd(d.type,this._map,d))}touchend(d){this._map.fire(new bd(d.type,this._map,d))}touchcancel(d){this._map.fire(new bd(d.type,this._map,d))}_firePreventable(d){if(this._map.fire(d),d.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class wd{constructor(d){this._map=d}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(d){this._map.fire(new _o(d.type,this._map,d))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new _o("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(d){this._delayContextMenu?this._contextMenuEvent=d:this._map.fire(new _o(d.type,this._map,d)),this._map.listens("contextmenu")&&d.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Xc{constructor(d,g){this._map=d,this._el=d.getCanvasContainer(),this._container=d.getContainer(),this._clickTolerance=g.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(d,g){this.isEnabled()&&d.shiftKey&&d.button===0&&(P(),this._startPos=this._lastPos=g,this._active=!0)}mousemoveWindow(d,g){if(!this._active)return;const x=g,B=this._startPos,L=this._lastPos;if(!B||!L||L.equals(x)||!this._box&&x.dist(B)<this._clickTolerance)return;this._lastPos=x,this._box||(this._box=y("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",d));const D=Math.min(B.x,x.x),$=Math.max(B.x,x.x),Y=Math.min(B.y,x.y),ae=Math.max(B.y,x.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${D}px,${Y}px)`,this._box.style.width=$-D+"px",this._box.style.height=ae-Y+"px")})}mouseupWindow(d,g){if(!this._active)return;const x=this._startPos,B=g;if(x&&d.button===0){if(this.reset(),z(),x.x!==B.x||x.y!==B.y)return this._map.fire(new a.b("boxzoomend",{originalEvent:d})),{cameraAnimation:L=>L.fitScreenCoordinates(x,B,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",d)}}keydown(d){this._active&&d.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",d))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),R(),delete this._startPos,delete this._lastPos}_fireEvent(d,g){return this._map.fire(new a.b(d,{originalEvent:g}))}}function Ap(w,d){const g={};for(let x=0;x<w.length;x++)g[w[x].identifier]=d[x];return g}class hg{constructor(d){this.reset(),this.numTouches=d.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(d,g,x){(this.centroid||x.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=d.timeStamp),x.length===this.numTouches&&(this.centroid=function(B){const L=new a.P(0,0);for(const D of B)L._add(D);return L.div(B.length)}(g),this.touches=Ap(x,g)))}touchmove(d,g,x){if(this.aborted||!this.centroid)return;const B=Ap(x,g);for(const L in this.touches){const D=B[L];(!D||D.dist(this.touches[L])>30)&&(this.aborted=!0)}}touchend(d,g,x){if((!this.centroid||d.timeStamp-this.startTime>500)&&(this.aborted=!0),x.length===0){const B=!this.aborted&&this.centroid;if(this.reset(),B)return B}}}class uf{constructor(d){this.singleTap=new hg(d),this.numTaps=d.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(d,g,x){this.singleTap.touchstart(d,g,x)}touchmove(d,g,x){this.singleTap.touchmove(d,g,x)}touchend(d,g,x){const B=this.singleTap.touchend(d,g,x);if(B){const L=d.timeStamp-this.lastTime<500,D=!this.lastTap||this.lastTap.dist(B)<30;if(L&&D||this.reset(),this.count++,this.lastTime=d.timeStamp,this.lastTap=B,this.count===this.numTaps)return this.reset(),B}}}class dg{constructor(){this._zoomIn=new uf({numTouches:1,numTaps:2}),this._zoomOut=new uf({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(d,g,x){this._zoomIn.touchstart(d,g,x),this._zoomOut.touchstart(d,g,x)}touchmove(d,g,x){this._zoomIn.touchmove(d,g,x),this._zoomOut.touchmove(d,g,x)}touchend(d,g,x){const B=this._zoomIn.touchend(d,g,x),L=this._zoomOut.touchend(d,g,x);return B?(this._active=!0,d.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:D=>D.easeTo({duration:300,zoom:D.getZoom()+1,around:D.unproject(B)},{originalEvent:d})}):L?(this._active=!0,d.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:D=>D.easeTo({duration:300,zoom:D.getZoom()-1,around:D.unproject(L)},{originalEvent:d})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const mp={0:1,2:2};class Zc{constructor(d){this.reset(),this._clickTolerance=d.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(d,g){return!1}_move(d,g){return{}}mousedown(d,g){if(this._lastPoint)return;const x=Q(d);this._correctButton(d,x)&&(this._lastPoint=g,this._eventButton=x)}mousemoveWindow(d,g){const x=this._lastPoint;if(x){if(d.preventDefault(),this._eventButton!=null&&function(B,L){const D=mp[L];return B.buttons===void 0||(B.buttons&D)!==D}(d,this._eventButton))this.reset();else if(this._moved||!(g.dist(x)<this._clickTolerance))return this._moved=!0,this._lastPoint=g,this._move(x,g)}}mouseupWindow(d){this._lastPoint&&Q(d)===this._eventButton&&(this._moved&&z(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class e_ extends Zc{mousedown(d,g){super.mousedown(d,g),this._lastPoint&&(this._active=!0)}_correctButton(d,g){return g===0&&!d.ctrlKey}_move(d,g){return{around:g,panDelta:g.sub(d)}}}class cf extends Zc{_correctButton(d,g){return g===0&&d.ctrlKey||g===2}_move(d,g){const x=.8*(g.x-d.x);if(x)return this._active=!0,{bearingDelta:x}}contextmenu(d){d.preventDefault()}}class fg extends Zc{_correctButton(d,g){return g===0&&d.ctrlKey||g===2}_move(d,g){const x=-.5*(g.y-d.y);if(x)return this._active=!0,{pitchDelta:x}}contextmenu(d){d.preventDefault()}}class pg{constructor(d,g){this._map=d,this._el=d.getCanvasContainer(),this._minTouches=1,this._clickTolerance=g.clickTolerance||1,this.reset(),a.aY(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new a.P(0,0)}touchstart(d,g,x){return this._calculateTransform(d,g,x)}touchmove(d,g,x){if(this._active&&!(x.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(x.length===1&&!a.c$())return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return d.cancelable&&d.preventDefault(),this._calculateTransform(d,g,x)}}touchend(d,g,x){this._calculateTransform(d,g,x),this._active&&x.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(d,g,x){x.length>0&&(this._active=!0);const B=Ap(x,g),L=new a.P(0,0),D=new a.P(0,0);let $=0;for(const ae in B){const de=B[ae],Ae=this._touches[ae];Ae&&(L._add(de),D._add(de.sub(Ae)),$++,B[ae]=de)}if(this._touches=B,$<this._minTouches||!D.mag())return;const Y=D.div($);return this._sum._add(Y),this._sum.mag()<this._clickTolerance?void 0:{around:L.div($),panDelta:Y}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=y("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.removeAttribute("role")},500)}}class Cs{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(d){}_move(d,g,x){return{}}touchstart(d,g,x){this._firstTwoTouches||x.length<2||(this._firstTwoTouches=[x[0].identifier,x[1].identifier],this._start([g[0],g[1]]))}touchmove(d,g,x){const B=this._firstTwoTouches;if(!B)return;d.preventDefault();const[L,D]=B,$=gp(x,g,L),Y=gp(x,g,D);if(!$||!Y)return;const ae=this._aroundCenter?null:$.add(Y).div(2);return this._move([$,Y],ae,d)}touchend(d,g,x){if(!this._firstTwoTouches)return;const[B,L]=this._firstTwoTouches,D=gp(x,g,B),$=gp(x,g,L);D&&$||(this._active&&z(),this.reset())}touchcancel(){this.reset()}enable(d){this._enabled=!0,this._aroundCenter=!!d&&d.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function gp(w,d,g){for(let x=0;x<w.length;x++)if(w[x].identifier===g)return d[x]}function Ag(w,d){return Math.log(w/d)/Math.LN2}class mg extends Cs{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(d){this._startDistance=this._distance=d[0].dist(d[1])}_move(d,g){const x=this._distance;if(this._distance=d[0].dist(d[1]),this._active||!(Math.abs(Ag(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Ag(this._distance,x),pinchAround:g}}}function xd(w,d){return 180*w.angleWith(d)/Math.PI}class hf extends Cs{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(d){this._startVector=this._vector=d[0].sub(d[1]),this._minDiameter=d[0].dist(d[1])}_move(d,g){const x=this._vector;if(this._vector=d[0].sub(d[1]),x&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:xd(this._vector,x),pinchAround:g}}_isBelowThreshold(d){this._minDiameter=Math.min(this._minDiameter,d.mag());const g=25/(Math.PI*this._minDiameter)*360,x=this._startVector;if(!x)return!1;const B=xd(d,x);return Math.abs(B)<g}}function gg(w){return Math.abs(w.y)>Math.abs(w.x)}class H0 extends Cs{constructor(d){super(),this._map=d}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(d){this._lastPoints=d,gg(d[0].sub(d[1]))&&(this._valid=!1)}_move(d,g,x){const B=this._lastPoints;if(!B)return;const L=d[0].sub(B[0]),D=d[1].sub(B[1]);return this._map._cooperativeGestures&&!a.c$()&&x.touches.length<3||(this._valid=this.gestureBeginsVertically(L,D,x.timeStamp),!this._valid)?void 0:(this._lastPoints=d,this._active=!0,{pitchDelta:(L.y+D.y)/2*-.5})}gestureBeginsVertically(d,g,x){if(this._valid!==void 0)return this._valid;const B=d.mag()>=2,L=g.mag()>=2;if(!B&&!L)return;if(!B||!L)return this._firstMove==null&&(this._firstMove=x),x-this._firstMove<100&&void 0;const D=d.y>0==g.y>0;return gg(d)&&gg(g)&&D}}const vp={panStep:100,bearingStep:15,pitchStep:10};class NA{constructor(){const d=vp;this._panStep=d.panStep,this._bearingStep=d.bearingStep,this._pitchStep=d.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(d){if(d.altKey||d.ctrlKey||d.metaKey)return;let g=0,x=0,B=0,L=0,D=0;switch(d.keyCode){case 61:case 107:case 171:case 187:g=1;break;case 189:case 109:case 173:g=-1;break;case 37:d.shiftKey?x=-1:(d.preventDefault(),L=-1);break;case 39:d.shiftKey?x=1:(d.preventDefault(),L=1);break;case 38:d.shiftKey?B=1:(d.preventDefault(),D=-1);break;case 40:d.shiftKey?B=-1:(d.preventDefault(),D=1);break;default:return}return this._rotationDisabled&&(x=0,B=0),{cameraAnimation:$=>{const Y=$.getZoom();$.easeTo({duration:300,easeId:"keyboardHandler",easing:t_,zoom:g?Math.round(Y)+g*(d.shiftKey?2:1):Y,bearing:$.getBearing()+x*this._bearingStep,pitch:$.getPitch()+B*this._pitchStep,offset:[-L*this._panStep,-D*this._panStep],center:$.getCenter()},{originalEvent:d})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function t_(w){return w*(2-w)}const Cd=4.000244140625,vg=1/450;class _g{constructor(d,g){this._map=d,this._el=d.getCanvasContainer(),this._handler=g,this._delta=0,this._lastDelta=0,this._defaultZoomRate=.01,this._wheelZoomRate=vg,a.aY(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(d){this._defaultZoomRate=d}setWheelZoomRate(d){this._wheelZoomRate=d}isEnabled(){return!!this._enabled}isActive(){return this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(d){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!d&&d.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(d){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(d.ctrlKey||d.metaKey||this.isZooming()||a.c$()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let g=d.deltaMode===WheelEvent.DOM_DELTA_LINE?40*d.deltaY:d.deltaY;const x=a.f.now(),B=x-(this._lastWheelEventTime||0);this._lastWheelEventTime=x,g!==0&&g%Cd==0?this._type="wheel":g!==0&&Math.abs(g)<4?this._type="trackpad":B>400?(this._type=null,this._lastValue=g,this._timeout=setTimeout(this._onTimeout,40,d)):this._type||(this._type=Math.abs(B*g)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,g+=this._lastValue)),d.shiftKey&&g&&(g/=4),this._type&&(this._lastWheelEvent=d,this._delta-=g,this._active||this._start(d)),d.preventDefault()}_onTimeout(d){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(d)}_start(d){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const g=H(this._el,d);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:g,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const d=this._map.transform;this._type==="wheel"&&d.projection.wrap&&(d._center.lng>=180||d._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const g=()=>d._terrainEnabled()&&this._aroundCoord?d.computeZoomRelativeTo(this._aroundCoord):d.zoom;if(this._delta!==0){const ae=this._type==="wheel"&&Math.abs(this._delta)>Cd?this._wheelZoomRate:this._defaultZoomRate;let de=2/(1+Math.exp(-Math.abs(this._delta*ae)));this._delta<0&&de!==0&&(de=1/de);const Ae=g(),Ce=Math.pow(2,Ae),Me=typeof this._targetZoom=="number"?d.zoomScale(this._targetZoom):Ce;this._targetZoom=Math.min(d.maxZoom,Math.max(d.minZoom,d.scaleZoom(Me*de))),this._type==="wheel"&&(this._startZoom=Ae,this._easing=this._smoothOutEasing(200)),this._lastDelta=this._delta,this._delta=0}const x=typeof this._targetZoom=="number"?this._targetZoom:g(),B=this._startZoom,L=this._easing;let D,$=!1;if(this._type==="wheel"&&B&&L){const ae=Math.min((a.f.now()-this._lastWheelEventTime)/200,1),de=L(ae);D=a.U(B,x,de),ae<1?this._frameId||(this._frameId=!0):$=!0}else D=x,$=!0;this._active=!0,$&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200));let Y=D-g();return Y*this._lastDelta<0&&(Y=0),{noInertia:!0,needsRenderFrame:!$,zoomDelta:Y,around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(d){let g=a.d0;if(this._prevEase){const x=this._prevEase,B=(a.f.now()-x.start)/x.duration,L=x.easing(B+.01)-x.easing(B),D=.27/Math.sqrt(L*L+1e-4)*.01,$=Math.sqrt(.0729-D*D);g=a.c_(D,$,.25,1)}return this._prevEase={start:a.f.now(),duration:d,easing:g},g}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=y("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.removeAttribute("role")},200)}}class Sh{constructor(d,g){this._clickZoom=d,this._tapZoom=g}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Ed{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(d,g){return d.preventDefault(),{cameraAnimation:x=>{x.easeTo({duration:300,zoom:x.getZoom()+(d.shiftKey?-1:1),around:x.unproject(g)},{originalEvent:d})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Sd{constructor(){this._tap=new uf({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(d,g,x){this._swipePoint||(this._tapTime&&d.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?x.length>0&&(this._swipePoint=g[0],this._swipeTouch=x[0].identifier):this._tap.touchstart(d,g,x))}touchmove(d,g,x){if(this._tapTime){if(this._swipePoint){if(x[0].identifier!==this._swipeTouch)return;const B=g[0],L=B.y-this._swipePoint.y;return this._swipePoint=B,d.preventDefault(),this._active=!0,{zoomDelta:L/128}}}else this._tap.touchmove(d,g,x)}touchend(d,g,x){this._tapTime?this._swipePoint&&x.length===0&&this.reset():this._tap.touchend(d,g,x)&&(this._tapTime=d.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class yg{constructor(d,g,x){this._el=d,this._mousePan=g,this._touchPan=x}enable(d){this._inertiaOptions=d||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Q0{constructor(d,g,x){this._pitchWithRotate=d.pitchWithRotate,this._mouseRotate=g,this._mousePitch=x}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class n_{constructor(d,g,x,B){this._el=d,this._touchZoom=g,this._touchRotate=x,this._tapDragZoom=B,this._rotationDisabled=!1,this._enabled=!0}enable(d){this._touchZoom.enable(d),this._rotationDisabled||this._touchRotate.enable(d),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const bg=w=>w.zoom||w.drag||w.pitch||w.rotate;class j0 extends a.b{}class G0{constructor(){this.constants=[1,1,.01],this.radius=0}setup(d,g){const x=a.N.sub([],g,d);this.radius=a.N.length(x[2]<0?a.N.div([],x,this.constants):[x[0],x[1],0])}projectRay(d){a.N.div(d,d,this.constants),a.N.normalize(d,d),a.N.mul(d,d,this.constants);const g=a.N.scale([],d,this.radius);if(g[2]>0){const x=a.N.scale([],[0,0,1],a.N.dot(g,[0,0,1])),B=a.N.scale([],a.N.normalize([],[g[0],g[1],0]),this.radius),L=a.N.add([],g,a.N.scale([],a.N.sub([],a.N.add([],B,x),g),2));g[0]=L[0],g[1]=L[1]}return g}}function r_(w){return w.panDelta&&w.panDelta.mag()||w.zoomDelta||w.bearingDelta||w.pitchDelta}class MI{constructor(d,g){this._map=d,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Ba(d),this._bearingSnap=g.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new G0,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(g),a.aY(["handleEvent","handleWindowEvent"],this);const x=this._el;this._listeners=[[x,"touchstart",{passive:!0}],[x,"touchmove",{passive:!1}],[x,"touchend",void 0],[x,"touchcancel",void 0],[x,"mousedown",void 0],[x,"mousemove",void 0],[x,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[x,"mouseover",void 0],[x,"mouseout",void 0],[x,"dblclick",void 0],[x,"click",void 0],[x,"keydown",{capture:!1}],[x,"keyup",void 0],[x,"wheel",{passive:!1}],[x,"contextmenu",void 0],[window,"blur",void 0]];for(const[B,L,D]of this._listeners){const $=B===document?this.handleWindowEvent:this.handleEvent;B.addEventListener(L,$,D)}}destroy(){for(const[d,g,x]of this._listeners){const B=d===document?this.handleWindowEvent:this.handleEvent;d.removeEventListener(g,B,x)}}_addDefaultHandlers(d){const g=this._map,x=g.getCanvasContainer();this._add("mapEvent",new J1(g,d));const B=g.boxZoom=new Xc(g,d);this._add("boxZoom",B);const L=new dg,D=new Ed;g.doubleClickZoom=new Sh(D,L),this._add("tapZoom",L),this._add("clickZoom",D);const $=new Sd;this._add("tapDragZoom",$);const Y=g.touchPitch=new H0(g);this._add("touchPitch",Y);const ae=new cf(d),de=new fg(d);g.dragRotate=new Q0(d,ae,de),this._add("mouseRotate",ae,["mousePitch"]),this._add("mousePitch",de,["mouseRotate"]);const Ae=new e_(d),Ce=new pg(g,d);g.dragPan=new yg(x,Ae,Ce),this._add("mousePan",Ae),this._add("touchPan",Ce,["touchZoom","touchRotate"]);const Me=new hf,He=new mg;g.touchZoomRotate=new n_(x,He,Me,$),this._add("touchRotate",Me,["touchPan","touchZoom"]),this._add("touchZoom",He,["touchPan","touchRotate"]),this._add("blockableMapEvent",new wd(g));const $e=g.scrollZoom=new _g(g,this);this._add("scrollZoom",$e,["mousePan"]);const Ke=g.keyboard=new NA;this._add("keyboard",Ke);for(const Pe of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])d.interactive&&d[Pe]&&g[Pe].enable(d[Pe])}_add(d,g,x){this._handlers.push({handlerName:d,handler:g,allowed:x}),this._handlersById[d]=g}stop(d){if(!this._updatingCamera){for(const{handler:g}of this._handlers)g.reset();this._inertia.clear(),this._fireEvents({},{},d),this._changes=[],this._originalZoom=void 0}}isActive(){for(const{handler:d}of this._handlers)if(d.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!bg(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(d,g,x){for(const B in d)if(B!==x&&(!g||g.indexOf(B)<0))return!0;return!1}handleWindowEvent(d){this.handleEvent(d,`${d.type}Window`)}_getMapTouches(d){const g=[];for(const x of d)this._el.contains(x.target)&&g.push(x);return g}handleEvent(d,g){this._updatingCamera=!0;const x=d.type==="renderFrame",B=x?void 0:d,L={needsRenderFrame:!1},D={},$={},Y=d.touches?this._getMapTouches(d.touches):void 0,ae=Y?j(this._el,Y):x?void 0:H(this._el,d);for(const{handlerName:Ce,handler:Me,allowed:He}of this._handlers){if(!Me.isEnabled())continue;let $e;this._blockedByActive($,He,Ce)?Me.reset():Me[g||d.type]&&($e=Me[g||d.type](d,ae,Y),this.mergeHandlerResult(L,D,$e,Ce,B),$e&&$e.needsRenderFrame&&this._triggerRenderFrame()),($e||Me.isActive())&&($[Ce]=Me)}const de={};for(const Ce in this._previousActiveHandlers)$[Ce]||(de[Ce]=B);this._previousActiveHandlers=$,(Object.keys(de).length||r_(L))&&(this._changes.push([L,D,de]),this._triggerRenderFrame()),(Object.keys($).length||r_(L))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:Ae}=L;Ae&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Ae(this._map))}mergeHandlerResult(d,g,x,B,L){if(!x)return;a.e(d,x);const D={handlerName:B,originalEvent:x.originalEvent||L};x.zoomDelta!==void 0&&(g.zoom=D),x.panDelta!==void 0&&(g.drag=D),x.pitchDelta!==void 0&&(g.pitch=D),x.bearingDelta!==void 0&&(g.rotate=D)}_applyChanges(){const d={},g={},x={};for(const[B,L,D]of this._changes)B.panDelta&&(d.panDelta=(d.panDelta||new a.P(0,0))._add(B.panDelta)),B.zoomDelta&&(d.zoomDelta=(d.zoomDelta||0)+B.zoomDelta),B.bearingDelta&&(d.bearingDelta=(d.bearingDelta||0)+B.bearingDelta),B.pitchDelta&&(d.pitchDelta=(d.pitchDelta||0)+B.pitchDelta),B.around!==void 0&&(d.around=B.around),B.aroundCoord!==void 0&&(d.aroundCoord=B.aroundCoord),B.pinchAround!==void 0&&(d.pinchAround=B.pinchAround),B.noInertia&&(d.noInertia=B.noInertia),a.e(g,L),a.e(x,D);this._updateMapTransform(d,g,x),this._changes=[]}_updateMapTransform(d,g,x){const B=this._map,L=B.transform,D=Ze=>[Ze.x,Ze.y,Ze.z];if((Ze=>{const pt=this._eventsInProgress.drag;return pt&&!this._handlersById[pt.handlerName].isActive()})()&&!r_(d)){const Ze=L.zoom;L.cameraElevationReference="sea",this._originalZoom!=null&&L._orthographicProjectionAtLowPitch&&L.projection.name!=="globe"&&L.pitch===0?(L.cameraElevationReference="ground",L.zoom=this._originalZoom):(L.recenterOnTerrain(),L.cameraElevationReference="ground"),Ze!==L.zoom&&this._map._update(!0)}if(L._isCameraConstrained&&B._stop(!0),!r_(d))return void this._fireEvents(g,x,!0);let{panDelta:$,zoomDelta:Y,bearingDelta:ae,pitchDelta:de,around:Ae,aroundCoord:Ce,pinchAround:Me}=d;L._isCameraConstrained&&(Y>0&&(Y=0),L._isCameraConstrained=!1),Me!==void 0&&(Ae=Me),(Y||(Ze=>g[Ze]&&!this._eventsInProgress[Ze])("drag"))&&Ae&&(this._dragOrigin=D(L.pointCoordinate3D(Ae)),this._originalZoom=L.zoom,this._trackingEllipsoid.setup(L._camera.position,this._dragOrigin)),L.cameraElevationReference="sea",B._stop(!0),Ae=Ae||B.transform.centerPoint,ae&&(L.bearing+=ae),de&&(L.pitch+=de),L._updateCameraState();const He=[0,0,0];if($)if(L.projection.name==="mercator"){const Ze=this._trackingEllipsoid.projectRay(L.screenPointToMercatorRay(Ae).dir),pt=this._trackingEllipsoid.projectRay(L.screenPointToMercatorRay(Ae.sub($)).dir);He[0]=pt[0]-Ze[0],He[1]=pt[1]-Ze[1]}else{const Ze=L.pointCoordinate(Ae);if(L.projection.name==="globe"){$=$.rotate(-L.angle);const pt=L._pixelsPerMercatorPixel/L.worldSize;He[0]=-$.x*a.d1(a.au(Ze.y))*pt,He[1]=-$.y*a.d1(L.center.lat)*pt}else{const pt=L.pointCoordinate(Ae.sub($));Ze&&pt&&(He[0]=pt.x-Ze.x,He[1]=pt.y-Ze.y)}}const $e=L.zoom,Ke=[0,0,0];if(Y){const Ze=D(Ce||L.pointCoordinate3D(Ae)),pt={dir:a.N.normalize([],a.N.sub([],Ze,L._camera.position))};if(pt.dir[2]<0){const st=L.zoomDeltaToMovement(Ze,Y);a.N.scale(Ke,pt.dir,st)}}const Pe=a.N.add(He,He,Ke);L._translateCameraConstrained(Pe),Y&&Math.abs(L.zoom-$e)>1e-4&&L.recenterOnTerrain(),L.cameraElevationReference="ground",this._map._update(),d.noInertia||this._inertia.record(d),this._fireEvents(g,x,!0)}_fireEvents(d,g,x){const B=bg(this._eventsInProgress),L=bg(d),D={};for(const de in d){const{originalEvent:Ae}=d[de];this._eventsInProgress[de]||(D[`${de}start`]=Ae),this._eventsInProgress[de]=d[de]}!B&&L&&this._fireEvent("movestart",L.originalEvent);for(const de in D)this._fireEvent(de,D[de]);L&&this._fireEvent("move",L.originalEvent);for(const de in d){const{originalEvent:Ae}=d[de];this._fireEvent(de,Ae)}const $={};let Y;for(const de in this._eventsInProgress){const{handlerName:Ae,originalEvent:Ce}=this._eventsInProgress[de];this._handlersById[Ae].isActive()||(delete this._eventsInProgress[de],Y=g[Ae]||Ce,$[`${de}end`]=Y)}for(const de in $)this._fireEvent(de,$[de]);const ae=bg(this._eventsInProgress);if(x&&(B||L)&&!ae){this._updatingCamera=!0;const de=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Ae=Ce=>Ce!==0&&-this._bearingSnap<Ce&&Ce<this._bearingSnap;de?(Ae(de.bearing||this._map.getBearing())&&(de.bearing=0),this._map.easeTo(de,{originalEvent:Y})):(this._map.fire(new a.b("moveend",{originalEvent:Y})),Ae(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(d,g){this._map.fire(new a.b(d,g?{originalEvent:g}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(d=>{this._frameId=void 0,this.handleEvent(new j0("renderFrame",{timeStamp:d})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const aE="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class Js extends a.E{constructor(d,g){super(),this._moving=!1,this._zooming=!1,this.transform=d,this._bearingSnap=g.bearingSnap,this._respectPrefersReducedMotion=g.respectPrefersReducedMotion!==!1,a.aY(["_renderFrameCallback"],this)}getCenter(){return new a.bn(this.transform.center.lng,this.transform.center.lat)}setCenter(d,g){return this.jumpTo({center:d},g)}panBy(d,g,x){return d=a.P.convert(d).mult(-1),this.panTo(this.transform.center,a.e({offset:d},g),x)}panTo(d,g,x){return this.easeTo(a.e({center:d},g),x)}getZoom(){return this.transform.zoom}setZoom(d,g){return this.jumpTo({zoom:d},g),this}zoomTo(d,g,x){return this.easeTo(a.e({zoom:d},g),x)}zoomIn(d,g){return this.zoomTo(this.getZoom()+1,d,g),this}zoomOut(d,g){return this.zoomTo(this.getZoom()-1,d,g),this}getBearing(){return this.transform.bearing}setBearing(d,g){return this.jumpTo({bearing:d},g),this}getPadding(){return this.transform.padding}setPadding(d,g){return this.jumpTo({padding:d},g),this}rotateTo(d,g,x){return this.easeTo(a.e({bearing:d},g),x)}resetNorth(d,g){return this.rotateTo(0,a.e({duration:1e3},d),g),this}resetNorthPitch(d,g){return this.easeTo(a.e({bearing:0,pitch:0,duration:1e3},d),g),this}snapToNorth(d,g){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(d,g):this}getPitch(){return this.transform.pitch}setPitch(d,g){return this.jumpTo({pitch:d},g),this}cameraForBounds(d,g){d=a.ad.convert(d);const x=g&&g.bearing||0,B=g&&g.pitch||0,L=d.getNorthWest(),D=d.getSouthEast();return this._cameraForBounds(this.transform,L,D,x,B,g)}_extendCameraOptions(d){const g={top:0,bottom:0,right:0,left:0};if(typeof(d=a.e({padding:g,offset:[0,0],maxZoom:this.transform.maxZoom},d)).padding=="number"){const x=d.padding;d.padding={top:x,bottom:x,right:x,left:x}}return d.padding=a.e(g,d.padding),d}_minimumAABBFrustumDistance(d,g){const x=g.max[0]-g.min[0],B=g.max[1]-g.min[1];return x/B>d.aspect?x/(2*Math.tan(.5*d.fovX)*d.aspect):B/(2*Math.tan(.5*d.fovY)*d.aspect)}_cameraForBoundsOnGlobe(d,g,x,B,L,D){const $=d.clone(),Y=this._extendCameraOptions(D);$.bearing=B,$.pitch=L;const ae=a.bn.convert(g),de=a.bn.convert(x),Ae=.5*(ae.lat+de.lat),Ce=.5*(ae.lng+de.lng),Me=a.d2(Ae,Ce),He=a.N.normalize([],Me),$e=a.N.normalize([],a.N.cross([],He,[0,1,0])),Ke=a.N.cross([],$e,He),Pe=[$e[0],$e[1],$e[2],0,Ke[0],Ke[1],Ke[2],0,He[0],He[1],He[2],0,0,0,0,1],Ze=[Me,a.d2(ae.lat,ae.lng),a.d2(de.lat,ae.lng),a.d2(de.lat,de.lng),a.d2(ae.lat,de.lng),a.d2(Ae,ae.lng),a.d2(Ae,de.lng),a.d2(ae.lat,Ce),a.d2(de.lat,Ce)];let pt=a.bS.fromPoints(Ze.map(on=>[a.N.dot($e,on),a.N.dot(Ke,on),a.N.dot(He,on)]));const st=a.N.transformMat4([],pt.center,Pe);a.N.squaredLength(st)===0&&a.N.set(st,0,0,1),a.N.normalize(st,st),a.N.scale(st,st,a.ab),$.center=a.d3(st);const At=$.getWorldToCameraMatrix(),qe=a.a6.invert(new Float64Array(16),At);pt=a.bS.applyTransform(pt,a.a6.multiply([],At,Pe)),a.N.transformMat4(st,st,At);const mt=.5*(pt.max[2]-pt.min[2]),Pt=this._minimumAABBFrustumDistance($,pt),Ot=a.N.scale([],[0,0,1],mt),Qt=a.N.add(Ot,st,Ot),fn=Pt+($.pitch===0?0:a.N.distance(st,Qt)),Wt=$.globeCenterInViewSpace,xn=a.N.sub([],st,[Wt[0],Wt[1],Wt[2]]);a.N.normalize(xn,xn),a.N.scale(xn,xn,fn);const _n=a.N.add([],st,xn);a.N.transformMat4(_n,_n,qe);const $n=a.d4/a.ab,Yt=a.N.length(_n),mn=a.bl(Math.max(Yt*$n-a.d4,Number.EPSILON),0),$t=Math.min($.zoomFromMercatorZAdjusted(mn),Y.maxZoom);return $t>.5*(a.bG+a.bx)?($.setProjection({name:"mercator"}),$.zoom=$t,this._cameraForBounds($,g,x,B,L,D)):{center:$.center,zoom:$t,bearing:B,pitch:L}}queryTerrainElevation(d,g){const x=this.transform.elevation;return x?(g=a.e({},{exaggerated:!0},g),x.getAtPoint(a.L.fromLngLat(d),null,g.exaggerated)):null}_cameraForBounds(d,g,x,B,L,D){if(d.projection.name==="globe")return this._cameraForBoundsOnGlobe(d,g,x,B,L,D);const $=d.clone(),Y=this._extendCameraOptions(D),ae=$.padding;$.bearing=B,$.pitch=L;const de=a.bn.convert(g),Ae=a.bn.convert(x),Ce=new a.bn(de.lng,Ae.lat),Me=new a.bn(Ae.lng,de.lat),He=$.project(de),$e=$.project(Ae),Ke=this.queryTerrainElevation(de),Pe=this.queryTerrainElevation(Ae),Ze=this.queryTerrainElevation(Ce),pt=this.queryTerrainElevation(Me),st=[[He.x,He.y,Math.min(Ke||0,Pe||0,Ze||0,pt||0)],[$e.x,$e.y,Math.max(Ke||0,Pe||0,Ze||0,pt||0)]];let At=a.bS.fromPoints(st);const qe=$.getWorldToCameraMatrix(),mt=a.a6.invert(new Float64Array(16),qe);At=a.bS.applyTransform(At,qe);const Pt=a.N.sub([],At.max,At.min),Ot=ae.left||0,Qt=ae.right||0,fn=ae.bottom||0,Wt=ae.top||0,{left:xn,right:_n,top:$n,bottom:Yt}=Y.padding,mn=.5*(Ot+Qt),$t=.5*(Wt+fn),on=Math.min($.scaleZoom($.scale*Math.min(($.width-(Ot+Qt+xn+_n))/Pt[0],($.height-(fn+Wt+Yt+$n))/Pt[1])),Y.maxZoom),Kn=$.scale/$.zoomScale(on);At=new a.bS([At.min[0]-(xn+mn)*Kn,At.min[1]-(Yt+$t)*Kn,At.min[2]],[At.max[0]+(_n+mn)*Kn,At.max[1]+($n+$t)*Kn,At.max[2]]);const ir=.5*Pt[2],nr=this._minimumAABBFrustumDistance($,At),pr=[0,0,1,0];a.a7.transformMat4(pr,pr,qe),a.a7.normalize(pr,pr);const Ir=a.N.scale([],pr,nr+ir),jr=a.N.add([],At.center,Ir),Nr=(typeof Y.offset.x=="number"&&typeof Y.offset.y=="number"?new a.P(Y.offset.x,Y.offset.y):a.P.convert(Y.offset)).rotate(-a.bj(B));At.center[0]-=Nr.x*Kn,At.center[1]+=Nr.y*Kn,a.N.transformMat4(At.center,At.center,mt),a.N.transformMat4(jr,jr,mt);const zr=[At.center[0],At.center[1],jr[2]*$.pixelsPerMeter];a.N.scale(zr,zr,1/$.worldSize);const Ri=a.at(zr[0]),hi=a.au(zr[1]),Ei=Math.min($._zoomFromMercatorZ(zr[2]),Y.maxZoom),wi=new a.bn(Ri,hi);return $.mercatorFromTransition&&Ei<.5*(a.bG+a.bx)?($.setProjection({name:"globe"}),$.zoom=Ei,this._cameraForBounds($,g,x,B,L,D)):{center:wi,zoom:Ei,bearing:B,pitch:L}}fitBounds(d,g,x){const B=this.cameraForBounds(d,g);return this._fitInternal(B,g,x)}fitScreenCoordinates(d,g,x,B,L){const D=a.P.convert(d),$=a.P.convert(g),Y=new a.P(Math.min(D.x,$.x),Math.min(D.y,$.y)),ae=new a.P(Math.max(D.x,$.x),Math.max(D.y,$.y));if(this.transform.projection.name==="mercator"&&this.transform.anyCornerOffEdge(D,$))return this;const de=this.transform.pointLocation3D(Y),Ae=this.transform.pointLocation3D(ae),Ce=this.transform.pointLocation3D(new a.P(Y.x,ae.y)),Me=this.transform.pointLocation3D(new a.P(ae.x,Y.y)),He=[Math.min(de.lng,Ae.lng,Ce.lng,Me.lng),Math.min(de.lat,Ae.lat,Ce.lat,Me.lat)],$e=[Math.max(de.lng,Ae.lng,Ce.lng,Me.lng),Math.max(de.lat,Ae.lat,Ce.lat,Me.lat)],Ke=B&&B.pitch?B.pitch:this.getPitch(),Pe=this._cameraForBounds(this.transform,He,$e,x,Ke,B);return this._fitInternal(Pe,B,L)}_fitInternal(d,g,x){return d?(delete(g=a.e(d,g)).padding,g.linear?this.easeTo(g,x):this.flyTo(g,x)):this}jumpTo(d,g){this.stop();const x=d.preloadOnly?this.transform.clone():this.transform;let B=!1,L=!1,D=!1;return"zoom"in d&&x.zoom!==+d.zoom&&(B=!0,x.zoom=+d.zoom),d.center!==void 0&&(x.center=a.bn.convert(d.center)),"bearing"in d&&x.bearing!==+d.bearing&&(L=!0,x.bearing=+d.bearing),"pitch"in d&&x.pitch!==+d.pitch&&(D=!0,x.pitch=+d.pitch),d.padding==null||x.isPaddingEqual(d.padding)||(x.padding=d.padding),d.preloadOnly?(this._preloadTiles(x),this):(this.fire(new a.b("movestart",g)).fire(new a.b("move",g)),B&&this.fire(new a.b("zoomstart",g)).fire(new a.b("zoom",g)).fire(new a.b("zoomend",g)),L&&this.fire(new a.b("rotatestart",g)).fire(new a.b("rotate",g)).fire(new a.b("rotateend",g)),D&&this.fire(new a.b("pitchstart",g)).fire(new a.b("pitch",g)).fire(new a.b("pitchend",g)),this.fire(new a.b("moveend",g)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||a.w(aE),this.transform.getFreeCameraOptions()}setFreeCameraOptions(d,g){const x=this.transform;if(!x.projection.supportsFreeCamera)return a.w(aE),this;this.stop();const B=x.zoom,L=x.pitch,D=x.bearing;x.setFreeCameraOptions(d);const $=B!==x.zoom,Y=L!==x.pitch,ae=D!==x.bearing;return this.fire(new a.b("movestart",g)).fire(new a.b("move",g)),$&&this.fire(new a.b("zoomstart",g)).fire(new a.b("zoom",g)).fire(new a.b("zoomend",g)),ae&&this.fire(new a.b("rotatestart",g)).fire(new a.b("rotate",g)).fire(new a.b("rotateend",g)),Y&&this.fire(new a.b("pitchstart",g)).fire(new a.b("pitch",g)).fire(new a.b("pitchend",g)),this.fire(new a.b("moveend",g)),this}easeTo(d,g){this._stop(!1,d.easeId),((d=a.e({offset:[0,0],duration:500,easing:a.d0},d)).animate===!1||this._prefersReducedMotion(d))&&(d.duration=0);const x=this.transform,B=this.getZoom(),L=this.getBearing(),D=this.getPitch(),$=this.getPadding(),Y="zoom"in d?+d.zoom:B,ae="bearing"in d?this._normalizeBearing(d.bearing,L):L,de="pitch"in d?+d.pitch:D,Ae="padding"in d?d.padding:x.padding,Ce=a.P.convert(d.offset);let Me,He,$e;if(x.projection.name==="globe"){const Ot=a.L.fromLngLat(x.center),Qt=Ce.rotate(-x.angle);Ot.x+=Qt.x/x.worldSize,Ot.y+=Qt.y/x.worldSize;const fn=Ot.toLngLat(),Wt=a.bn.convert(d.center||fn);this._normalizeCenter(Wt),Me=x.centerPoint.add(Qt),He=new a.P(Ot.x,Ot.y).mult(x.worldSize),$e=new a.P(a.a5(Wt.lng),a.ae(Wt.lat)).mult(x.worldSize).sub(He)}else{Me=x.centerPoint.add(Ce);const Ot=x.pointLocation(Me),Qt=a.bn.convert(d.center||Ot);this._normalizeCenter(Qt),He=x.project(Ot),$e=x.project(Qt).sub(He)}const Ke=x.zoomScale(Y-B);let Pe,Ze;d.around&&(Pe=a.bn.convert(d.around),Ze=x.locationPoint(Pe));const pt=this._zooming||Y!==B,st=this._rotating||L!==ae,At=this._pitching||de!==D,qe=!x.isPaddingEqual(Ae),mt=Ot=>Qt=>{if(pt&&(Ot.zoom=a.U(B,Y,Qt)),st&&(Ot.bearing=a.U(L,ae,Qt)),At&&(Ot.pitch=a.U(D,de,Qt)),qe&&(Ot.interpolatePadding($,Ae,Qt),Me=Ot.centerPoint.add(Ce)),Pe)Ot.setLocationAtPoint(Pe,Ze);else{const fn=Ot.zoomScale(Ot.zoom-B),Wt=Y>B?Math.min(2,Ke):Math.max(.5,Ke),xn=Math.pow(Wt,1-Qt),_n=Ot.unproject(He.add($e.mult(Qt*xn)).mult(fn));Ot.setLocationAtPoint(Ot.renderWorldCopies?_n.wrap():_n,Me)}return d.preloadOnly||this._fireMoveEvents(g),Ot};if(d.preloadOnly){const Ot=this._emulate(mt,d.duration,x);return this._preloadTiles(Ot),this}const Pt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=pt,this._rotating=st,this._pitching=At,this._easeId=d.easeId,this._prepareEase(g,d.noMoveStart,Pt),this._ease(mt(x),Ot=>{x.cameraElevationReference==="sea"&&x.recenterOnTerrain(),this._afterEase(g,Ot)},d),this}_prepareEase(d,g,x={}){this._moving=!0,this.transform.cameraElevationReference="sea",this.transform._orthographicProjectionAtLowPitch&&this.transform.pitch===0&&this.transform.projection.name!=="globe"&&(this.transform.cameraElevationReference="ground"),g||x.moving||this.fire(new a.b("movestart",d)),this._zooming&&!x.zooming&&this.fire(new a.b("zoomstart",d)),this._rotating&&!x.rotating&&this.fire(new a.b("rotatestart",d)),this._pitching&&!x.pitching&&this.fire(new a.b("pitchstart",d))}_fireMoveEvents(d){this.fire(new a.b("move",d)),this._zooming&&this.fire(new a.b("zoom",d)),this._rotating&&this.fire(new a.b("rotate",d)),this._pitching&&this.fire(new a.b("pitch",d))}_afterEase(d,g){if(this._easeId&&g&&this._easeId===g)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const x=this._zooming,B=this._rotating,L=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,x&&this.fire(new a.b("zoomend",d)),B&&this.fire(new a.b("rotateend",d)),L&&this.fire(new a.b("pitchend",d)),this.fire(new a.b("moveend",d))}flyTo(d,g){if(this._prefersReducedMotion(d)){const Yt=a.ac(d,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Yt,g)}this.stop(),d=a.e({offset:[0,0],speed:1.2,curve:1.42,easing:a.d0},d);const x=this.transform,B=this.getZoom(),L=this.getBearing(),D=this.getPitch(),$="zoom"in d?a.aa(+d.zoom,x.minZoom,x.maxZoom):B,Y="bearing"in d?this._normalizeBearing(d.bearing,L):L,ae="pitch"in d?+d.pitch:D,de=x.zoomScale($-B),Ae=a.P.convert(d.offset),Ce=x.centerPoint.add(Ae),Me=x.pointLocation(Ce);let He=d.center;if(He&&d.padding){const Yt=this._cameraForBounds(this.transform,He,He,Y,ae,d);Yt&&(He=Yt.center)}He=a.bn.convert(He||Me),this._normalizeCenter(He);const $e=x.project(Me),Ke=x.project(He).sub($e);let Pe=d.curve;const Ze=Math.max(x.width,x.height),pt=Ze/de,st=Ke.mag();if("minZoom"in d){const Yt=a.aa(Math.min(d.minZoom,B,$),x.minZoom,x.maxZoom),mn=Ze/x.zoomScale(Yt-B);Pe=Math.sqrt(mn/st*2)}const At=Pe*Pe;function qe(Yt){const mn=(pt*pt-Ze*Ze+(Yt?-1:1)*At*At*st*st)/(2*(Yt?pt:Ze)*At*st);return Math.log(Math.sqrt(mn*mn+1)-mn)}function mt(Yt){return(Math.exp(Yt)-Math.exp(-Yt))/2}function Pt(Yt){return(Math.exp(Yt)+Math.exp(-Yt))/2}const Ot=qe(0);let Qt=function(Yt){return Pt(Ot)/Pt(Ot+Pe*Yt)},fn=function(Yt){return Ze*((Pt(Ot)*(mt(mn=Ot+Pe*Yt)/Pt(mn))-mt(Ot))/At)/st;var mn},Wt=(qe(1)-Ot)/Pe;if(Math.abs(st)<1e-6||!isFinite(Wt)){if(Math.abs(Ze-pt)<1e-6)return this.easeTo(d,g);const Yt=pt<Ze?-1:1;Wt=Math.abs(Math.log(pt/Ze))/Pe,fn=function(){return 0},Qt=function(mn){return Math.exp(Yt*Pe*mn)}}d.duration="duration"in d?+d.duration:1e3*Wt/("screenSpeed"in d?+d.screenSpeed/Pe:+d.speed),d.maxDuration&&d.duration>d.maxDuration&&(d.duration=0);const xn=L!==Y,_n=ae!==D,$n=Yt=>mn=>{const $t=mn*Wt,on=1/Qt($t);Yt.zoom=mn===1?$:B+Yt.scaleZoom(on),xn&&(Yt.bearing=a.U(L,Y,mn)),_n&&(Yt.pitch=a.U(D,ae,mn));const Kn=mn===1?He:Yt.unproject($e.add(Ke.mult(fn($t))).mult(on));return Yt.setLocationAtPoint(Yt.renderWorldCopies?Kn.wrap():Kn,Ce),Yt._updateCameraOnTerrain(),d.preloadOnly||this._fireMoveEvents(g),Yt};if(d.preloadOnly){const Yt=this._emulate($n,d.duration,x);return this._preloadTiles(Yt),this}return this._zooming=!0,this._rotating=xn,this._pitching=_n,this._prepareEase(g,!1),this._ease($n(x),()=>this._afterEase(g),d),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(d,g){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const x=this._onEaseEnd;this._onEaseEnd=void 0,x.call(this,g)}if(!d){const x=this.handlers;x&&x.stop(!1)}return this}_ease(d,g,x){x.animate===!1||x.duration===0?(d(1),g()):(this._easeStart=a.f.now(),this._easeOptions=x,this._onEaseFrame=d,this._onEaseEnd=g,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const d=Math.min((a.f.now()-this._easeStart)/this._easeOptions.duration,1),g=this._onEaseFrame;g&&g(this._easeOptions.easing(d)),d<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(d,g){d=a.bh(d,-180,180);const x=Math.abs(d-g);return Math.abs(d-360-g)<x&&(d-=360),Math.abs(d+360-g)<x&&(d+=360),d}_normalizeCenter(d){const g=this.transform;if(g.maxBounds||g.projection.name!=="globe"&&!g.renderWorldCopies)return;const x=d.lng-g.center.lng;d.lng+=x>180?-360:x<-180?360:0}_prefersReducedMotion(d){return this._respectPrefersReducedMotion&&a.f.prefersReducedMotion&&!(d&&d.essential)}_emulate(d,g,x){const B=Math.ceil(15*g/1e3),L=[],D=d(x.clone());for(let $=0;$<=B;$++){const Y=D($/B);L.push(Y.clone())}return L}}class Bx{constructor(d={}){this.options=d,a.aY(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(d){const g=this.options&&this.options.compact;return this._map=d,this._container=y("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=y("button","mapboxgl-ctrl-attrib-button",this._container),y("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=y("div","mapboxgl-ctrl-attrib-inner",this._container),g&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),g===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(d,g){const x=this._map._getUIString(`AttributionControl.${g}`);d.removeAttribute("title"),d.firstElementChild&&d.firstElementChild.setAttribute("title",x)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let d=this._editLink;d||(d=this._editLink=this._container.querySelector(".mapbox-improve-map"));const g=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||a.d5.ACCESS_TOKEN}];if(d){const x=g.reduce((B,L,D)=>(L.value&&(B+=`${L.key}=${L.value}${D<g.length-1?"&":""}`),B),"?");d.href=`${a.d5.FEEDBACK_URL}/${x}#${OA(this._map,!0)}`,d.rel="noopener nofollow",this._setElementTitle(d,"MapFeedback")}}_updateData(d){!d||d.sourceDataType!=="metadata"&&d.sourceDataType!=="visibility"&&d.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let d=[];if(this._map.style.stylesheet){const B=this._map.style.stylesheet;this.styleOwner=B.owner,this.styleId=B.id}const g=this._map.style._mergedSourceCaches;for(const B in g){const L=g[B];if(L.used){const D=L.getSource();D.attribution&&d.indexOf(D.attribution)<0&&d.push(D.attribution)}}d.sort((B,L)=>B.length-L.length),d=d.filter((B,L)=>{for(let D=L+1;D<d.length;D++)if(d[D].indexOf(B)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?d=[...this.options.customAttribution,...d]:d.unshift(this.options.customAttribution));const x=d.join(" | ");x!==this._attribHTML&&(this._attribHTML=x,d.length?(this._innerContainer.innerHTML=x,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class sE{constructor(){a.aY(["_updateLogo","_updateCompact"],this)}onAdd(d){this._map=d,this._container=y("div","mapboxgl-ctrl");const g=y("a","mapboxgl-ctrl-logo");return g.target="_blank",g.rel="noopener nofollow",g.href="https://www.mapbox.com/",g.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),g.setAttribute("rel","noopener nofollow"),this._container.appendChild(g),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(d){d&&d.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const d=this._map.style._sourceCaches;if(Object.entries(d).length===0)return!0;for(const g in d){const x=d[g].getSource();if(x.hasOwnProperty("mapbox_logo")&&!x.mapbox_logo)return!1}return!0}_updateCompact(){const d=this._container.children;if(d.length){const g=d[0];this._map.getCanvasContainer().offsetWidth<250?g.classList.add("mapboxgl-compact"):g.classList.remove("mapboxgl-compact")}}}class oE{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(d){const g=++this._id;return this._queue.push({callback:d,id:g,cancelled:!1}),g}remove(d){const g=this._currentlyRunning,x=g?this._queue.concat(g):this._queue;for(const B of x)if(B.id===d)return void(B.cancelled=!0)}run(d=0){const g=this._currentlyRunning=this._queue;this._queue=[];for(const x of g)if(!x.cancelled&&(x.callback(d),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function i_(w,d,g){if(w=new a.bn(w.lng,w.lat),d){const x=new a.bn(w.lng-360,w.lat),B=new a.bn(w.lng+360,w.lat),L=360*Math.ceil(Math.abs(w.lng-g.center.lng)/360),D=g.locationPoint(w).distSqr(d),$=d.x<0||d.y<0||d.x>g.width||d.y>g.height;g.locationPoint(x).distSqr(d)<D&&($||Math.abs(x.lng-g.center.lng)<L)?w=x:g.locationPoint(B).distSqr(d)<D&&($||Math.abs(B.lng-g.center.lng)<L)&&(w=B)}for(;Math.abs(w.lng-g.center.lng)>180;){const x=g.locationPoint(w);if(x.x>=0&&x.y>=0&&x.x<=g.width&&x.y<=g.height)break;w.lng>g.center.lng?w.lng-=360:w.lng+=360}return w}const db={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class Mx extends a.E{constructor(d,g){if(super(),(d instanceof HTMLElement||g)&&(d=a.e({element:d},g)),a.aY(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=d&&d.anchor||"center",this._color=d&&d.color||"#3FB1CE",this._scale=d&&d.scale||1,this._draggable=d&&d.draggable||!1,this._clickTolerance=d&&d.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=d&&d.rotation||0,this._rotationAlignment=d&&d.rotationAlignment||"auto",this._pitchAlignment=d&&d.pitchAlignment&&d.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=d&&d.occludedOpacity||.2,d&&d.element)this._element=d.element,this._offset=a.P.convert(d&&d.offset||[0,0]);else{this._defaultMarker=!0,this._element=y("div");const L=41,D=27,$=T("svg",{display:"block",height:L*this._scale+"px",width:D*this._scale+"px",viewBox:`0 0 ${D} ${L}`},this._element),Y=T("radialGradient",{id:"shadowGradient"},T("defs",{},$));T("stop",{offset:"10%","stop-opacity":.4},Y),T("stop",{offset:"100%","stop-opacity":.05},Y),T("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},$),T("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},$),T("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},$),T("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},$),this._offset=a.P.convert(d&&d.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.hasAttribute("role")||this._element.setAttribute("role","img"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",L=>{L.preventDefault()}),this._element.addEventListener("mousedown",L=>{L.preventDefault()});const x=this._element.classList;for(const L in db)x.remove(`mapboxgl-marker-anchor-${L}`);x.add(`mapboxgl-marker-anchor-${this._anchor}`);const B=d&&d.className?d.className.trim().split(/\s+/):[];x.add(...B),this._popup=null}addTo(d){return d===this._map||(this.remove(),this._map=d,d.getCanvasContainer().appendChild(this._element),d.on("move",this._updateMoving),d.on("moveend",this._update),d.on("remove",this._clearFadeTimer),d._addMarker(this),this.setDraggable(this._draggable),this._update(),d.on("click",this._onMapClick)),this}remove(){const d=this._map;return d&&(d.off("click",this._onMapClick),d.off("move",this._updateMoving),d.off("moveend",this._update),d.off("mousedown",this._addDragHandler),d.off("touchstart",this._addDragHandler),d.off("mouseup",this._onUp),d.off("touchend",this._onUp),d.off("mousemove",this._onMove),d.off("touchmove",this._onMove),d.off("remove",this._clearFadeTimer),d._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(d){return this._lngLat=a.bn.convert(d),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(d){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),d){if(!("offset"in d.options)){const B=Math.sqrt(Math.pow(13.5,2)/2);d.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[B,-1*(38.1-13.5+B)],"bottom-right":[-B,-1*(38.1-13.5+B)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=d,d._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(d){const g=d.code,x=d.charCode||d.keyCode;g!=="Space"&&g!=="Enter"&&x!==32&&x!==13||this.togglePopup()}_onMapClick(d){const g=d.originalEvent.target,x=this._element;this._popup&&(g===x||x.contains(g))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const d=this._popup;return d?(d.isOpen()?(d.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(d.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const d=this._map,g=this._pos;if(!d||!g)return!1;const x=d.unproject(g),B=d.getFreeCameraOptions();if(!B.position)return!1;const L=B.position.toLngLat();return L.distanceTo(x)<.9*L.distanceTo(this._lngLat)}_evaluateOpacity(){const d=this._map;if(!d)return;const g=this._pos;if(!g||g.x<0||g.x>d.transform.width||g.y<0||g.y>d.transform.height)return void this._clearFadeTimer();const x=d.unproject(g);let B;d._showingGlobe()&&a.d6(d.transform,this._lngLat)?B=0:(B=1-d._queryFogOpacity(x),d.transform._terrainEnabled()&&d.getTerrain()&&this._behindTerrain()&&(B*=this._occludedOpacity)),this._element.style.opacity=`${B}`,this._element.style.pointerEvents=B>0?"auto":"none",this._popup&&this._popup._setOpacity(B),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const d=this._pos;if(!d||!this._map)return;const g=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${d.x}px,${d.y}px)
            ${db[this._anchor]}
            ${this._calculateXYTransform()} ${this._calculateZTransform()}
            translate(${g.x}px,${g.y}px)
        `}_calculateXYTransform(){const d=this._pos,g=this._map,x=this.getPitchAlignment();if(!g||!d||x!=="map")return"";if(!g._showingGlobe()){const Y=g.getPitch();return Y?`rotateX(${Y}deg)`:""}const B=a.bF(a.d7(g.transform,this._lngLat)),L=d.sub(a.d8(g.transform)),D=Math.abs(L.x)+Math.abs(L.y);if(D===0)return"";const $=B/D;return`rotateX(${-L.y*$}deg) rotateY(${L.x*$}deg)`}_calculateZTransform(){const d=this._pos,g=this._map;if(!g||!d)return"";let x=0;const B=this.getRotationAlignment();if(B==="map")if(g._showingGlobe()){const L=g.project(new a.bn(this._lngLat.lng,this._lngLat.lat+.001)),D=g.project(new a.bn(this._lngLat.lng,this._lngLat.lat-.001)).sub(L);x=a.bF(Math.atan2(D.y,D.x))-90}else x=-g.getBearing();else if(B==="horizon"){const L=a.O(4,6,g.getZoom()),D=a.d8(g.transform);D.y+=L*g.transform.height;const $=d.sub(D),Y=a.bF(Math.atan2($.y,$.x));x=(Y>90?Y-270:Y+90)*(1-L)}return x+=this._rotation,x?`rotateZ(${x}deg)`:""}_update(d){cancelAnimationFrame(this._updateFrameId);const g=this._map;g&&(g.transform.renderWorldCopies&&(this._lngLat=i_(this._lngLat,this._pos,g.transform)),this._pos=g.project(this._lngLat),d===!0?this._updateFrameId=requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),g._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(g._showingGlobe()||g.getTerrain()||g.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(d){return this._offset=a.P.convert(d),this._update(),this}addClassName(d){return this._element.classList.add(d),this}removeClassName(d){return this._element.classList.remove(d),this}toggleClassName(d){return this._element.classList.toggle(d)}_onMove(d){const g=this._map;if(!g)return;const x=this._pointerdownPos,B=this._positionDelta;if(x&&B){if(!this._isDragging){const L=this._clickTolerance||g._clickTolerance;if(d.point.dist(x)<L)return;this._isDragging=!0}this._pos=d.point.sub(B),this._lngLat=g.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.b("dragstart"))),this.fire(new a.b("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const d=this._map;d&&(d.off("mousemove",this._onMove),d.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new a.b("dragend")),this._state="inactive"}_addDragHandler(d){const g=this._map,x=this._pos;g&&x&&this._element.contains(d.originalEvent.target)&&(d.preventDefault(),this._positionDelta=d.point.sub(x),this._pointerdownPos=d.point,this._state="pending",g.on("mousemove",this._onMove),g.on("touchmove",this._onMove),g.once("mouseup",this._onUp),g.once("touchend",this._onUp))}setDraggable(d){this._draggable=!!d;const g=this._map;return g&&(d?(g.on("mousedown",this._addDragHandler),g.on("touchstart",this._addDragHandler)):(g.off("mousedown",this._addDragHandler),g.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(d){return this._rotation=d||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(d){return this._rotationAlignment=d||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"||this._rotationAlignment==="horizon"&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(d){return this._pitchAlignment=d||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(d){return this._occludedOpacity=d||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const lE={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},uE=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function cE(w=new a.P(0,0),d="bottom"){if(typeof w=="number"){const g=Math.round(Math.sqrt(.5*Math.pow(w,2)));switch(d){case"top":return new a.P(0,w);case"top-left":return new a.P(g,g);case"top-right":return new a.P(-g,g);case"bottom":return new a.P(0,-w);case"bottom-left":return new a.P(g,-g);case"bottom-right":return new a.P(-g,-g);case"left":return new a.P(w,0);case"right":return new a.P(-w,0)}return new a.P(0,0)}return w instanceof a.P||Array.isArray(w)?a.P.convert(w):a.P.convert(w[d]||[0,0])}class Ix{constructor(d){this.jumpTo(d)}getValue(d){if(d<=this._startTime)return this._start;if(d>=this._endTime)return this._end;const g=a.cc((d-this._startTime)/(this._endTime-this._startTime));return this._start*(1-g)+this._end*g}isEasing(d){return d>=this._startTime&&d<=this._endTime}jumpTo(d){this._startTime=-1/0,this._endTime=-1/0,this._start=d,this._end=d}easeTo(d,g,x){this._start=this.getValue(g),this._end=d,this._startTime=g,this._endTime=g+x}}const a_={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use ⌘ + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},hE={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,antialias:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,respectPrefersReducedMotion:!0,crossSourceCollisions:!0,collectResourceTiming:!1,testMode:!1};class Lx{constructor(){this.showOverdrawInspector=!1,this.showTileBoundaries=!1,this.showParseStatus=!1,this.continuousRedraw=!1,this.showTileAABBs=!1,this.showPadding=!1,this.showTerrainWireframe=!1,this.showLayers2DWireframe=!1,this.showLayers3DWireframe=!1}}const fb={showCompass:!0,showZoom:!0,visualizePitch:!1};class _p{constructor(d,g,x=!1){this._clickTolerance=10,this.element=g,this.mouseRotate=new cf({clickTolerance:d.dragRotate._mouseRotate._clickTolerance}),this.map=d,x&&(this.mousePitch=new fg({clickTolerance:d.dragRotate._mousePitch._clickTolerance})),a.aY(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),g.addEventListener("mousedown",this.mousedown),g.addEventListener("touchstart",this.touchstart,{passive:!1}),g.addEventListener("touchmove",this.touchmove),g.addEventListener("touchend",this.touchend),g.addEventListener("touchcancel",this.reset)}down(d,g){this.mouseRotate.mousedown(d,g),this.mousePitch&&this.mousePitch.mousedown(d,g),P()}move(d,g){const x=this.map,B=this.mouseRotate.mousemoveWindow(d,g),L=B&&B.bearingDelta;if(L&&x.setBearing(x.getBearing()+L),this.mousePitch){const D=this.mousePitch.mousemoveWindow(d,g),$=D&&D.pitchDelta;$&&x.setPitch(x.getPitch()+$)}}off(){const d=this.element;d.removeEventListener("mousedown",this.mousedown),d.removeEventListener("touchstart",this.touchstart,{passive:!1}),d.removeEventListener("touchmove",this.touchmove),d.removeEventListener("touchend",this.touchend),d.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){R(),window.removeEventListener("mousemove",this.mousemove),window.removeEventListener("mouseup",this.mouseup)}mousedown(d){this.down(a.e({},d,{ctrlKey:!0,preventDefault:()=>d.preventDefault()}),H(this.element,d)),window.addEventListener("mousemove",this.mousemove),window.addEventListener("mouseup",this.mouseup)}mousemove(d){this.move(d,H(this.element,d))}mouseup(d){this.mouseRotate.mouseupWindow(d),this.mousePitch&&this.mousePitch.mouseupWindow(d),this.offTemp()}touchstart(d){d.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=j(this.element,d.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>d.preventDefault()},this._startPos))}touchmove(d){d.targetTouches.length!==1?this.reset():(this._lastPos=j(this.element,d.targetTouches)[0],this.move({preventDefault:()=>d.preventDefault()},this._lastPos))}touchend(d){d.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const pb={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},Nu={maxWidth:100,unit:"metric"},UA={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"};return{version:a.dk,supported:p,setRTLTextPlugin:a.dm,getRTLTextPluginStatus:a.dn,Map:class extends Js{constructor(w){const d=w;if((w=a.e({},hE,w)).minZoom!=null&&w.maxZoom!=null&&w.minZoom>w.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(w.minPitch!=null&&w.maxPitch!=null&&w.minPitch>w.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(w.minPitch!=null&&w.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(w.maxPitch!=null&&w.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(w.antialias&&a.d9(window)&&(w.antialias=!1,a.w("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new hd(w.minZoom,w.maxZoom,w.minPitch,w.maxPitch,w.renderWorldCopies),w),this._repaint=!1,this._interactive=w.interactive,this._minTileCacheSize=w.minTileCacheSize,this._maxTileCacheSize=w.maxTileCacheSize,this._failIfMajorPerformanceCaveat=w.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=w.preserveDrawingBuffer,this._antialias=w.antialias,this._trackResize=w.trackResize,this._bearingSnap=w.bearingSnap,this._refreshExpiredTiles=w.refreshExpiredTiles,this._fadeDuration=w.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=w.crossSourceCollisions,this._collectResourceTiming=w.collectResourceTiming,this._language=this._parseLanguage(w.language),this._worldview=w.worldview,this._renderTaskQueue=new oE,this._domRenderTaskQueue=new oE,this._controls=[],this._markers=[],this._popups=[],this._mapId=a.aC(),this._locale=a.e({},a_,w.locale),this._clickTolerance=w.clickTolerance,this._cooperativeGestures=w.cooperativeGestures,this._performanceMetricsCollection=w.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._showParseStatus=!0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new Ix(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new a.da(w.transformRequest,w.accessToken,w.testMode),this._silenceAuthErrors=!!w.testMode,this._contextCreateOptions=w.contextCreateOptions?{...w.contextCreateOptions}:{},typeof w.container=="string"){const g=document.getElementById(w.container);if(!g)throw new Error(`Container '${w.container.toString()}' not found.`);this._container=g}else{if(!(w.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=w.container}if(this._container.childNodes.length>0&&a.w("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),w.maxBounds&&this.setMaxBounds(w.maxBounds),a.aY(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._debugParams=new Lx,this._tp=w.devtools?new yd(this):new yd,this._tp.registerParameter(this._debugParams,["Debug"],"showOverdrawInspector",void 0,()=>{this._update()}),this._tp.registerParameter(this._debugParams,["Debug"],"showTileBoundaries",void 0,()=>{this._update()}),this._tp.registerParameter(this._debugParams,["Debug"],"showParseStatus",void 0,()=>{this._update()}),this._tp.registerParameter(this._debugParams,["Debug"],"continuousRedraw",void 0,g=>{this.repaint=g}),this._tp.registerParameter(this._debugParams,["Debug"],"showTileAABBs",void 0,g=>{this.showTileAABBs=g}),this._tp.registerParameter(this._debugParams,["Debug"],"showPadding",void 0,g=>{this.showPadding=g}),this._tp.registerParameter(this._debugParams,["Debug","Wireframe"],"showTerrainWireframe",void 0,()=>{this._update()}),this._tp.registerParameter(this._debugParams,["Debug","Wireframe"],"showLayers2DWireframe",void 0,()=>{this._update()}),this._tp.registerParameter(this._debugParams,["Debug","Wireframe"],"showLayers3DWireframe",void 0,()=>{this._update()}),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");if(this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this._fullscreenchangeEvent="onfullscreenchange"in document?"fullscreenchange":"webkitfullscreenchange",window.addEventListener("online",this._onWindowOnline,!1),window.addEventListener("resize",this._onWindowResize,!1),window.addEventListener("orientationchange",this._onWindowResize,!1),window.addEventListener(this._fullscreenchangeEvent,this._onWindowResize,!1),window.addEventListener("visibilitychange",this._onVisibilityChange,!1),this.handlers=new MI(this,w),this._localFontFamily=w.localFontFamily,this._localIdeographFontFamily=w.localIdeographFontFamily,(w.style||!w.testMode)&&this.setStyle(w.style||a.d5.DEFAULT_STYLE,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),w.projection&&this.setProjection(w.projection),w.hash&&(this._hash=new ug(typeof w.hash=="string"&&w.hash||void 0).addTo(this)),!this._hash||!this._hash._onHashChange()){d.center==null&&d.zoom==null||(this.transform._unmodified=!1),this.jumpTo({center:w.center,zoom:w.zoom,bearing:w.bearing,pitch:w.pitch});const g=w.bounds;g&&(this.resize(),this.fitBounds(g,a.e({},w.fitBoundsOptions,{duration:0})))}this.resize(),w.attributionControl&&this.addControl(new Bx({customAttribution:w.customAttribution})),this._logoControl=new sE,this.addControl(this._logoControl,w.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",g=>{this._update(g.dataType==="style"),this.fire(new a.b(`${g.dataType}data`,g))}),this.on("dataloading",g=>{this.fire(new a.b(`${g.dataType}dataloading`,g))})}_getMapId(){return this._mapId}addControl(w,d){if(d===void 0&&(d=w.getDefaultPosition?w.getDefaultPosition():"top-right"),!w||!w.onAdd)return this.fire(new a.a(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const g=w.onAdd(this);this._controls.push(w);const x=this._controlPositions[d];return d.indexOf("bottom")!==-1?x.insertBefore(g,x.firstChild):x.appendChild(g),this}removeControl(w){if(!w||!w.onRemove)return this.fire(new a.a(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const d=this._controls.indexOf(w);return d>-1&&this._controls.splice(d,1),w.onRemove(this),this}hasControl(w){return this._controls.indexOf(w)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(w){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const d=!this._moving;return d&&this.fire(new a.b("movestart",w)).fire(new a.b("move",w)),this.fire(new a.b("resize",w)),d&&this.fire(new a.b("moveend",w)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(w){return this.transform.setMaxBounds(a.ad.convert(w)),this._update()}setMinZoom(w){if((w=w??-2)>=-2&&w<=this.transform.maxZoom)return this.transform.minZoom=w,this._update(),this.getZoom()<w?this.setZoom(w):this.fire(new a.b("zoomstart")).fire(new a.b("zoom")).fire(new a.b("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(w){if((w=w??22)>=this.transform.minZoom)return this.transform.maxZoom=w,this._update(),this.getZoom()>w?this.setZoom(w):this.fire(new a.b("zoomstart")).fire(new a.b("zoom")).fire(new a.b("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(w){if((w=w??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(w>=0&&w<=this.transform.maxPitch)return this.transform.minPitch=w,this._update(),this.getPitch()<w?this.setPitch(w):this.fire(new a.b("pitchstart")).fire(new a.b("pitch")).fire(new a.b("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(w){if((w=w??85)>85)throw new Error("maxPitch must be less than or equal to 85");if(w>=this.transform.minPitch)return this.transform.maxPitch=w,this._update(),this.getPitch()>w?this.setPitch(w):this.fire(new a.b("pitchstart")).fire(new a.b("pitch")).fire(new a.b("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(w){return this.transform.renderWorldCopies=w,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(w){return w==="auto"?navigator.language:Array.isArray(w)?w.length===0?void 0:w.map(d=>d==="auto"?navigator.language:d):w}setLanguage(w){const d=this._parseLanguage(w);if(!this.style||d===this._language)return this;this._language=d,this.style.reloadSources();for(const g of this._controls)g._setLanguage&&g._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(w){return this.style&&w!==this._worldview?(this._worldview=w,this.style.reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return this.transform.projection.name==="globe"}setProjection(w){return this._lazyInitEmptyStyle(),w?typeof w=="string"&&(w={name:w}):w=null,this._useExplicitProjection=!!w,this._prioritizeAndUpdateProjection(w,this.style.projection)}_updateProjectionTransition(){if(this.getProjection().name!=="globe")return;const w=this.transform,d=w.projection.name;let g;d==="globe"&&w.zoom>=a.bx?(w.setMercatorFromTransition(),g=!0):d==="mercator"&&w.zoom<a.bx&&(w.setProjection({name:"globe"}),g=!0),g&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(w,d){return this._updateProjection(w||d||{name:"mercator"})}_updateProjection(w){let d;return d=w.name==="globe"&&this.transform.zoom>=a.bx?this.transform.setMercatorFromTransition():this.transform.setProjection(w),this.style.applyProjectionUpdate(),d&&(this.painter.clearBackgroundTiles(),this.style.clearSources(),this._update(!0),this._forceMarkerAndPopupUpdate(!0)),this}project(w){return this.transform.locationPoint3D(a.bn.convert(w))}unproject(w){return this.transform.pointLocation3D(a.P.convert(w))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(w,d,g){if(w==="mouseenter"||w==="mouseover"){let x=!1;const B=D=>{const $=d.filter(ae=>this.getLayer(ae)),Y=$.length?this.queryRenderedFeatures(D.point,{layers:$}):[];Y.length?x||(x=!0,g.call(this,new _o(w,this,D.originalEvent,{features:Y}))):x=!1},L=()=>{x=!1};return{layers:new Set(d),listener:g,delegates:{mousemove:B,mouseout:L}}}if(w==="mouseleave"||w==="mouseout"){let x=!1;const B=D=>{const $=d.filter(Y=>this.getLayer(Y));($.length?this.queryRenderedFeatures(D.point,{layers:$}):[]).length?x=!0:x&&(x=!1,g.call(this,new _o(w,this,D.originalEvent)))},L=D=>{x&&(x=!1,g.call(this,new _o(w,this,D.originalEvent)))};return{layers:new Set(d),listener:g,delegates:{mousemove:B,mouseout:L}}}{const x=B=>{const L=d.filter($=>this.getLayer($)),D=L.length?this.queryRenderedFeatures(B.point,{layers:L}):[];D.length&&(B.features=D,g.call(this,B),delete B.features)};return{layers:new Set(d),listener:g,delegates:{[w]:x}}}}on(w,d,g){if(g===void 0)return super.on(w,d);if(Array.isArray(d)||(d=[d]),d){for(const B of d)if(!this._isValidId(B))return this}const x=this._createDelegatedListener(w,d,g);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[w]=this._delegatedListeners[w]||[],this._delegatedListeners[w].push(x);for(const B in x.delegates)this.on(B,x.delegates[B]);return this}once(w,d,g){if(g===void 0)return super.once(w,d);if(Array.isArray(d)||(d=[d]),d){for(const B of d)if(!this._isValidId(B))return this}const x=this._createDelegatedListener(w,d,g);for(const B in x.delegates)this.once(B,x.delegates[B]);return this}off(w,d,g){if(g===void 0)return super.off(w,d);d=new Set(Array.isArray(d)?d:[d]);for(const L of d)if(!this._isValidId(L))return this;const x=(L,D)=>{if(L.size!==D.size)return!1;for(const $ of L)if(!D.has($))return!1;return!0},B=this._delegatedListeners?this._delegatedListeners[w]:void 0;return B&&(L=>{for(let D=0;D<L.length;D++){const $=L[D];if($.listener===g&&x($.layers,d)){for(const Y in $.delegates)this.off(Y,$.delegates[Y]);return L.splice(D,1),this}}})(B),this}queryRenderedFeatures(w,d){if(!this.style)return[];if(d!==void 0||w===void 0||w instanceof a.P||Array.isArray(w)||(d=w,w=void 0),w=w||[[0,0],[this.transform.width,this.transform.height]],(d=d||{}).layers&&Array.isArray(d.layers)){for(const g of d.layers)if(!this._isValidId(g))return[]}return this.style.queryRenderedFeatures(w,d,this.transform)}querySourceFeatures(w,d){return this._isValidId(w)?this.style.querySourceFeatures(w,d):[]}isPointOnSurface(w){const{name:d}=this.transform.projection;return d!=="globe"&&d!=="mercator"&&a.w(`${d} projection does not support isPointOnSurface, this API may behave unexpectedly.`),this.transform.isPointOnSurface(a.P.convert(w))}setStyle(w,d){return(d=a.e({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},d)).diff!==!1&&d.localIdeographFontFamily===this._localIdeographFontFamily&&d.localFontFamily===this._localFontFamily&&this.style&&w?(this._diffStyle(w,d),this):(this._localIdeographFontFamily=d.localIdeographFontFamily,this._localFontFamily=d.localFontFamily,this._updateStyle(w,d))}_getUIString(w){const d=this._locale[w];if(d==null)throw new Error(`Missing UI string '${w}'`);return d}_updateStyle(w,d){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),w&&(this.style=new Xl(this,d||{}),this.style.setEventedParent(this,{style:this.style}),typeof w=="string"?this.style.loadURL(w):this.style.loadJSON(w)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new Xl(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(w,d){if(typeof w=="string"){const g=this._requestManager.normalizeStyleURL(w),x=this._requestManager.transformRequest(g,a.R.Style);a.g(x,(B,L)=>{B?this.fire(new a.a(B)):L&&this._updateDiff(L,d)})}else typeof w=="object"&&this._updateDiff(w,d)}_updateDiff(w,d){try{this.style.setState(w)&&this._update(!0)}catch(g){a.w(`Unable to perform style diff: ${g.message||g.error||g}.  Rebuilding the style from scratch.`),this._updateStyle(w,d)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(a.w("There is no style added to the map."),!1)}_isValidId(w){return w==null?(this.fire(new a.a(new Error("IDs can't be empty."))),!1):!a.c4(w)||(this.fire(new a.a(new Error(`IDs can't contain special symbols: "${w}".`))),!1)}addSource(w,d){return this._isValidId(w)?(this._lazyInitEmptyStyle(),this.style.addSource(w,d),this._update(!0)):this}isSourceLoaded(w){return!!this._isValidId(w)&&!!this.style&&this.style._isSourceCacheLoaded(w)}areTilesLoaded(){return this.style.areTilesLoaded()}addSourceType(w,d,g){this._lazyInitEmptyStyle(),this.style.addSourceType(w,d,g)}removeSource(w){return this._isValidId(w)?(this.style.removeSource(w),this._updateTerrain(),this._update(!0)):this}getSource(w){return this._isValidId(w)?this.style.getOwnSource(w):null}addImage(w,d,{pixelRatio:g=1,sdf:x=!1,stretchX:B,stretchY:L,content:D}={}){if(this._lazyInitEmptyStyle(),d instanceof HTMLImageElement||ImageBitmap&&d instanceof ImageBitmap){const{width:$,height:Y,data:ae}=a.f.getImageData(d);this.style.addImage(w,{data:new a.h({width:$,height:Y},ae),pixelRatio:g,stretchX:B,stretchY:L,content:D,sdf:x,version:0})}else if(d.width===void 0||d.height===void 0)this.fire(new a.a(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:$,height:Y}=d,ae=d;this.style.addImage(w,{data:new a.h({width:$,height:Y},new Uint8Array(ae.data)),pixelRatio:g,stretchX:B,stretchY:L,content:D,sdf:x,version:0,userImage:ae}),ae.onAdd&&ae.onAdd(this,w)}}updateImage(w,d){this._lazyInitEmptyStyle();const g=this.style.getImage(w);if(!g)return void this.fire(new a.a(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const x=d instanceof HTMLImageElement||ImageBitmap&&d instanceof ImageBitmap?a.f.getImageData(d):d,{width:B,height:L}=x,D=x.data;if(B===void 0||L===void 0)return void this.fire(new a.a(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(B!==g.data.width||L!==g.data.height)return void this.fire(new a.a(new Error(`The width and height of the updated image (${B}, ${L})
                must be that same as the previous version of the image
                (${g.data.width}, ${g.data.height})`)));const $=!(d instanceof HTMLImageElement||ImageBitmap&&d instanceof ImageBitmap);g.data.replace(D,$),this.style.updateImage(w,g)}hasImage(w){return w?!!this.style&&!!this.style.getImage(w):(this.fire(new a.a(new Error("Missing required image id"))),!1)}removeImage(w){this.style.removeImage(w)}loadImage(w,d){a.d(this._requestManager.transformRequest(w,a.R.Image),(g,x)=>{d(g,x instanceof HTMLImageElement?a.f.getImageData(x):x)})}listImages(){return this.style.listImages()}addModel(w,d){this._lazyInitEmptyStyle(),this.style.addModel(w,d)}hasModel(w){return w?this.style.hasModel(w):(this.fire(new a.a(new Error("Missing required model id"))),!1)}removeModel(w){this.style.removeModel(w)}listModels(){return this.style.listModels()}addLayer(w,d){return this._isValidId(w.id)?(this._lazyInitEmptyStyle(),this.style.addLayer(w,d),this._update(!0)):this}getSlot(w){const d=this.getLayer(w);return d&&d.slot||null}setSlot(w,d){return this.style.setSlot(w,d),this.style.mergeLayers(),this._update(!0)}addImport(w,d){return this.style.addImport(w,d),this}updateImport(w,d){return typeof d!="string"&&d.id!==w?(this.removeImport(w),this.addImport(d)):(this.style.updateImport(w,d),this._update(!0))}removeImport(w){return this.style.removeImport(w),this}moveImport(w,d){return this.style.moveImport(w,d),this._update(!0)}moveLayer(w,d){return this._isValidId(w)?(this.style.moveLayer(w,d),this._update(!0)):this}removeLayer(w){return this._isValidId(w)?(this.style.removeLayer(w),this._update(!0)):this}getLayer(w){return this._isValidId(w)?this.style.getOwnLayer(w):null}setLayerZoomRange(w,d,g){return this._isValidId(w)?(this.style.setLayerZoomRange(w,d,g),this._update(!0)):this}setFilter(w,d,g={}){return this._isValidId(w)?(this.style.setFilter(w,d,g),this._update(!0)):this}getFilter(w){return this._isValidId(w)?this.style.getFilter(w):null}setPaintProperty(w,d,g,x={}){return this._isValidId(w)?(this.style.setPaintProperty(w,d,g,x),this._update(!0)):this}getPaintProperty(w,d){return this._isValidId(w)?this.style.getPaintProperty(w,d):null}setLayoutProperty(w,d,g,x={}){return this._isValidId(w)?(this.style.setLayoutProperty(w,d,g,x),this._update(!0)):this}getLayoutProperty(w,d){return this._isValidId(w)?this.style.getLayoutProperty(w,d):null}getConfigProperty(w,d){return this.style.getConfigProperty(w,d)}setConfigProperty(w,d,g){return this.style.setConfigProperty(w,d,g),this._update(!0)}setLights(w){if(this._lazyInitEmptyStyle(),w&&w.length===1&&w[0].type==="flat"){const d=w[0];d.properties?this.style.setFlatLight(d.properties,d.id,{}):this.style.setFlatLight({},"flat")}else this.style.setLights(w),this.painter.terrain&&(this.painter.terrain.invalidateRenderCache=!0);return this._update(!0)}getLights(){const w=this.style.getLights()||[];return w.length===0&&w.push({id:this.style.light.id,type:"flat",properties:this.style.getFlatLight()}),w}setLight(w,d={}){return console.log("The `map.setLight` function is deprecated, prefer using `map.setLights` with `flat` light type instead."),this.setLights([{id:"flat",type:"flat",properties:w}])}getLight(){return console.log("The `map.getLight` function is deprecated, prefer using `map.getLights` instead."),this.style.getFlatLight()}setTerrain(w){return this._lazyInitEmptyStyle(),!w&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(w),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(w){return this._lazyInitEmptyStyle(),this.style.setFog(w),this._update(!0)}getFog(){return this.style?this.style.getFog():null}setCamera(w){return this.style.setCamera(w),this._triggerCameraUpdate(w)}_triggerCameraUpdate(w){return this._update(this.transform.setOrthographicProjectionAtLowPitch(w["camera-projection"]==="orthographic"))}getCamera(){return this.style.camera}_queryFogOpacity(w){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(a.bn.convert(w),this.transform):0}setFeatureState(w,d){return this._isValidId(w.source)?(this.style.setFeatureState(w,d),this._update()):this}removeFeatureState(w,d){return this._isValidId(w.source)?(this.style.removeFeatureState(w,d),this._update()):this}getFeatureState(w){return this._isValidId(w.source)?this.style.getFeatureState(w):null}_updateContainerDimensions(){if(!this._container)return;const w=this._container.getBoundingClientRect().width||400,d=this._container.getBoundingClientRect().height||300;let g,x,B,L=this._container;for(;L&&(!x||!B);){const D=window.getComputedStyle(L).transform;D&&D!=="none"&&(g=D.match(/matrix.*\((.+)\)/)[1].split(", "),g[0]&&g[0]!=="0"&&g[0]!=="1"&&(x=g[0]),g[3]&&g[3]!=="0"&&g[3]!=="1"&&(B=g[3])),L=L.parentElement}this._containerWidth=x?Math.abs(w/x):w,this._containerHeight=B?Math.abs(d/B):d}_detectMissingCSS(){window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&a.w("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const w=this._container;w.classList.add("mapboxgl-map"),(this._missingCSSCanary=y("div","mapboxgl-canary",w)).style.visibility="hidden",this._detectMissingCSS();const d=this._canvasContainer=y("div","mapboxgl-canvas-container",w);this._canvas=y("canvas","mapboxgl-canvas",d),this._interactive&&(d.classList.add("mapboxgl-interactive"),this._canvas.setAttribute("tabindex","0")),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const g=this._controlContainer=y("div","mapboxgl-control-container",w),x=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(B=>{x[B]=y("div",`mapboxgl-ctrl-${B}`,g)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(w,d){const g=a.f.devicePixelRatio||1;this._canvas.width=g*Math.ceil(w),this._canvas.height=g*Math.ceil(d),this._canvas.style.width=`${w}px`,this._canvas.style.height=`${d}px`}_addMarker(w){this._markers.push(w)}_removeMarker(w){const d=this._markers.indexOf(w);d!==-1&&this._markers.splice(d,1)}_addPopup(w){this._popups.push(w)}_removePopup(w){const d=this._popups.indexOf(w);d!==-1&&this._popups.splice(d,1)}_setupPainter(){const w=a.e({},p.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),d=this._canvas.getContext("webgl2",w);d?(a.db(d,!0),this.painter=new fp(d,this._contextCreateOptions,this.transform,this._tp),this.on("data",g=>{g.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),a.dc.testSupport(d)):this.fire(new a.a(new Error("Failed to initialize WebGL")))}_contextLost(w){w.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.b("webglcontextlost",{originalEvent:w}))}_contextRestored(w){this._setupPainter(),this.resize(),this._update(),this.fire(new a.b("webglcontextrestored",{originalEvent:w}))}_onMapScroll(w){if(w.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(w){return this.style?(this._styleDirty=this._styleDirty||w,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(w){return this._update(),this._renderTaskQueue.add(w)}_cancelRenderFrame(w){this._renderTaskQueue.remove(w)}_requestDomTask(w){!this.loaded()||this.loaded()&&!this.isMoving()?w():this._domRenderTaskQueue.add(w)}_render(w){let d;this.fire(new a.b("renderstart"));const g=this.painter.context.extTimerQuery,x=a.f.now(),B=this.painter.context.gl;if(this.listens("gpu-timing-frame")&&(d=B.createQuery(),B.beginQuery(g.TIME_ELAPSED_EXT,d)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],performance.now())),this._renderTaskQueue.run(w),this._domRenderTaskQueue.run(w),this._removed)return;this._updateProjectionTransition();const L=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const Y=this.transform.zoom,ae=this.transform.pitch,de=a.f.now(),Ae=new a.K(Y,{now:de,fadeDuration:L,pitch:ae,transition:this.style.transition});this.style.update(Ae)}this.style&&this.style.hasFogTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let D=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),D=this._updateAverageElevation(x),this.style.updateSources(this.transform),this._forceMarkerAndPopupUpdate()):D=this._updateAverageElevation(x),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,L,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries||this._debugParams.showTileBoundaries,showParseStatus:this.showParseStatus||this._debugParams.showParseStatus,wireframe:{terrain:this.showTerrainWireframe||this._debugParams.showTerrainWireframe,layers2D:this.showLayers2DWireframe||this._debugParams.showLayers2DWireframe,layers3D:this.showLayers3DWireframe||this._debugParams.showLayers3DWireframe},showOverdrawInspector:this._showOverdrawInspector||this._debugParams.showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs||this._debugParams.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:L,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding||this._debugParams.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new a.b("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new a.b("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),d){const Y=a.f.now()-x;B.endQuery(g.TIME_ELAPSED_EXT),setTimeout(()=>{const ae=B.getQueryParameter(d,B.QUERY_RESULT)/1e6;B.deleteQuery(d),this.fire(new a.b("gpu-timing-frame",{cpuTime:Y,gpuTime:ae}))},50)}if(this.listens("gpu-timing-layer")){const Y=this.painter.collectGpuTimers();setTimeout(()=>{const ae=this.painter.queryGpuTimers(Y);this.fire(new a.b("gpu-timing-layer",{layerTimes:ae}))},50)}if(this.listens("gpu-timing-deferred-render")){const Y=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const ae=this.painter.queryGpuTimeDeferredRender(Y);this.fire(new a.b("gpu-timing-deferred-render",{gpuTime:ae}))},50)}const $=this._sourcesDirty||this._styleDirty||this._placementDirty||D;if($||this._repaint)this.triggerRepaint();else{const Y=!this.isMoving()&&this.loaded();if(Y&&(D=this._updateAverageElevation(x,!0)),D)this.triggerRepaint();else if(this._triggerFrame(!1),Y&&(this.fire(new a.b("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const ae=this._calculateSpeedIndex();this.fire(new a.b("speedindexcompleted",{speedIndex:ae})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||$||(this._fullyLoaded=!0,this._performanceMetricsCollection&&a.dd(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(w){for(const d of this._markers)w&&!this.getRenderWorldCopies()&&(d._lngLat=d._lngLat.wrap()),d._update();for(const d of this._popups)!w||this.getRenderWorldCopies()||d._trackPointer||(d._lngLat=d._lngLat.wrap()),d._update()}_updateAverageElevation(w,d=!1){const g=B=>(this.transform.averageElevation=B,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&g(0);const x=this.transform.elevation&&this.transform.elevation.exaggeration()!==this._averageElevationExaggeration;if(x||(d||w-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(w)){const B=this.transform.averageElevation;let L=this.transform.sampleAverageElevation();this.transform.elevation&&(this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(L)?L=0:this._averageElevationLastSampledAt=w;const D=Math.abs(B-L);if(D>1){if(this._isInitialLoad||x)return this._averageElevation.jumpTo(L),g(L);this._averageElevation.easeTo(L,w,300)}else if(D>1e-4)return this._averageElevation.jumpTo(L),g(L)}return!!this._averageElevation.isEasing(w)&&g(this._averageElevation.getValue(w))}_authenticate(){a.de(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,w=>{if(w&&(w.message===a.df||w.status===401)){const d=this.painter.context.gl;a.db(d,!1),this._logoControl instanceof sE&&this._logoControl._updateLogo(),d&&d.clear(d.DEPTH_BUFFER_BIT|d.COLOR_BUFFER_BIT|d.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new a.a(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),a.dg(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){const w=this._isDragging();this.painter.updateTerrain(this.style,w)}_calculateSpeedIndex(){const w=this.painter.canvasCopy(),d=this.painter.getCanvasCopiesAndTimestamps();d.timeStamps.push(performance.now());const g=this.painter.context.gl,x=g.createFramebuffer();function B(L){g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,L,0);const D=new Uint8Array(g.drawingBufferWidth*g.drawingBufferHeight*4);return g.readPixels(0,0,g.drawingBufferWidth,g.drawingBufferHeight,g.RGBA,g.UNSIGNED_BYTE,D),D}return g.bindFramebuffer(g.FRAMEBUFFER,x),this._canvasPixelComparison(B(w),d.canvasCopies.map(B),d.timeStamps)}_canvasPixelComparison(w,d,g){let x=g[1]-g[0];const B=w.length/4;for(let L=0;L<d.length;L++){const D=d[L];let $=0;for(let Y=0;Y<D.length;Y+=4)D[Y]===w[Y]&&D[Y+1]===w[Y+1]&&D[Y+2]===w[Y+2]&&D[Y+3]===w[Y+3]&&($+=1);x+=(g[L+2]-g[L+1])*(1-$/B)}return x}remove(){this._hash&&this._hash.remove();for(const d of this._controls)d.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),window.removeEventListener("resize",this._onWindowResize,!1),window.removeEventListener("orientationchange",this._onWindowResize,!1),window.removeEventListener(this._fullscreenchangeEvent,this._onWindowResize,!1),window.removeEventListener("online",this._onWindowOnline,!1),window.removeEventListener("visibilitychange",this._onVisibilityChange,!1);const w=this.painter.context.gl.getExtension("WEBGL_lose_context");w&&w.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),a.dh(this.painter.context.gl),a.di.remove(),a.dj.remove(),this._removed=!0,this.fire(new a.b("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(w){this._renderNextFrame=this._renderNextFrame||w,this.style&&!this._frame&&(this._frame=a.f.frame(d=>{const g=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,g&&this._render(d)}))}_preloadTiles(w){const d=this.style?Object.values(this.style._sourceCaches):[];return a.b1(d,(g,x)=>g._preloadTiles(w,x),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(w){this._trackResize&&this.resize({originalEvent:w})._update()}_onVisibilityChange(){document.visibilityState==="hidden"&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(w){this._showTileBoundaries!==w&&(this._showTileBoundaries=w,this._update())}get showParseStatus(){return!!this._showParseStatus}set showParseStatus(w){this._showParseStatus!==w&&(this._showParseStatus=w,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(w){this._showTerrainWireframe!==w&&(this._showTerrainWireframe=w,this._update())}get showLayers2DWireframe(){return!!this._showLayers2DWireframe}set showLayers2DWireframe(w){this._showLayers2DWireframe!==w&&(this._showLayers2DWireframe=w,this._update())}get showLayers3DWireframe(){return!!this._showLayers3DWireframe}set showLayers3DWireframe(w){this._showLayers3DWireframe!==w&&(this._showLayers3DWireframe=w,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(w){this._speedIndexTiming!==w&&(this._speedIndexTiming=w,this._update())}get showPadding(){return!!this._showPadding}set showPadding(w){this._showPadding!==w&&(this._showPadding=w,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(w){this._showCollisionBoxes!==w&&(this._showCollisionBoxes=w,w?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(w){this._showOverdrawInspector!==w&&(this._showOverdrawInspector=w,this._update())}get repaint(){return!!this._repaint}set repaint(w){this._repaint!==w&&(this._repaint=w,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(w){this._vertices=w,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(w){this._showTileAABBs!==w&&(this._showTileAABBs=w,w&&this._update())}_setCacheLimits(w,d){a.dl(w,d)}get version(){return a.dk}},NavigationControl:class{constructor(w){this.options=a.e({},fb,w),this._container=y("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",d=>d.preventDefault()),this.options.showZoom&&(a.aY(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",d=>{this._map&&this._map.zoomIn({},{originalEvent:d})}),y("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",d=>{this._map&&this._map.zoomOut({},{originalEvent:d})}),y("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(a.aY(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",d=>{const g=this._map;g&&(this.options.visualizePitch?g.resetNorthPitch({},{originalEvent:d}):g.resetNorth({},{originalEvent:d}))}),this._compassIcon=y("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const w=this._map;if(!w)return;const d=w.getZoom(),g=d===w.getMaxZoom(),x=d===w.getMinZoom();this._zoomInButton.disabled=g,this._zoomOutButton.disabled=x,this._zoomInButton.setAttribute("aria-disabled",g.toString()),this._zoomOutButton.setAttribute("aria-disabled",x.toString())}_rotateCompassArrow(){const w=this._map;if(!w)return;const d=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(w.transform.pitch*(Math.PI/180)),.5)}) rotateX(${w.transform.pitch}deg) rotateZ(${w.transform.angle*(180/Math.PI)}deg)`:`rotate(${w.transform.angle*(180/Math.PI)}deg)`;w._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=d)})}onAdd(w){return this._map=w,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),w.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&w.on("pitch",this._rotateCompassArrow),w.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new _p(w,this._compass,this.options.visualizePitch)),this._container}onRemove(){const w=this._map;w&&(this._container.remove(),this.options.showZoom&&w.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&w.off("pitch",this._rotateCompassArrow),w.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(w,d){const g=y("button",w,this._container);return g.type="button",g.addEventListener("click",d),g}_setButtonTitle(w,d){if(!this._map)return;const g=this._map._getUIString(`NavigationControl.${d}`);w.setAttribute("aria-label",g),w.firstElementChild&&w.firstElementChild.setAttribute("title",g)}},GeolocateControl:class extends a.E{constructor(w){super();const d=navigator.geolocation;this.options=a.e({geolocation:d},pb,w),a.aY(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=Eh(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(w){return this._map=w,this._container=y("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(w){const d=(g=!!this.options.geolocation)=>{this._supportsGeolocation=g,w(g)};this._supportsGeolocation!==void 0?w(this._supportsGeolocation):navigator.permissions!==void 0?navigator.permissions.query({name:"geolocation"}).then(g=>d(g.state!=="denied")).catch(()=>d()):d()}_isOutOfMapMaxBounds(w){const d=this._map.getMaxBounds(),g=w.coords;return!!d&&(g.longitude<d.getWest()||g.longitude>d.getEast()||g.latitude<d.getSouth()||g.latitude>d.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(w){if(this._map){if(this._isOutOfMapMaxBounds(w))return this._setErrorState(),this.fire(new a.b("outofmaxbounds",w)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=w,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(w),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(w),this.options.showUserLocation&&this._userLocationDotMarker.removeClassName("mapboxgl-user-location-dot-stale"),this.fire(new a.b("geolocate",w)),this._finish()}}_updateCamera(w){const d=new a.bn(w.coords.longitude,w.coords.latitude),g=w.coords.accuracy,x=this._map.getBearing(),B=a.e({bearing:x},this.options.fitBoundsOptions);this._map.fitBounds(d.toBounds(g),B,{geolocateSource:!0})}_updateMarker(w){if(w){const d=new a.bn(w.coords.longitude,w.coords.latitude);this._accuracyCircleMarker.setLngLat(d).addTo(this._map),this._userLocationDotMarker.setLngLat(d).addTo(this._map),this._accuracy=w.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const w=this._map.transform,d=a.bl(1,w._center.lat)*w.worldSize,g=Math.ceil(2*this._accuracy*d);this._circleElement.style.width=`${g}px`,this._circleElement.style.height=`${g}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._userLocationDotMarker.addClassName("mapboxgl-user-location-show-heading")):(this._userLocationDotMarker.removeClassName("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(w){if(this._map){if(this.options.trackUserLocation)if(w.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",d),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",d),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(w.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._userLocationDotMarker.addClassName("mapboxgl-user-location-dot-stale"),this.fire(new a.b("error",w)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(w){if(this._map!==void 0){if(this._container.addEventListener("contextmenu",d=>d.preventDefault()),this._geolocateButton=y("button","mapboxgl-ctrl-geolocate",this._container),y("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",w===!1){a.w("Geolocation support is not available so the GeolocateControl will be disabled.");const d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",d),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",d)}else{const d=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",d),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",d)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=y("div","mapboxgl-user-location"),this._dotElement.appendChild(y("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(y("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new Mx({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=y("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Mx({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",d=>{d.geolocateSource||this._watchState!=="ACTIVE_LOCK"||d.originalEvent&&d.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new a.b("trackuserlocationend")))})}}_onDeviceOrientation(w){this._userLocationDotMarker&&(w.webkitCompassHeading?this._heading=w.webkitCompassHeading:w.absolute===!0&&(this._heading=-1*w.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return a.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.b("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new a.b("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.b("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let w;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(w={maximumAge:6e5,timeout:0},this._noTimeout=!0):(w=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,w),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const w=()=>{"ondeviceorientationabsolute"in window?window.addEventListener("deviceorientationabsolute",this._onDeviceOrientation):window.addEventListener("deviceorientation",this._onDeviceOrientation)};typeof DeviceMotionEvent<"u"&&typeof DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(d=>{d==="granted"&&w()}).catch(console.error):w()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),window.removeEventListener("deviceorientation",this._onDeviceOrientation),window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Bx,ScaleControl:class{constructor(w){this.options=a.e({},Nu,w),this._isNumberFormatSupported=function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"short",unit:"meter"}),!0}catch{return!1}}(),a.aY(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const w=this.options.maxWidth||100,d=this._map,g=d._containerHeight/2,x=d._containerWidth/2-w/2,B=d.unproject([x,g]),L=d.unproject([x+w,g]),D=B.distanceTo(L);if(this.options.unit==="imperial"){const $=3.2808*D;$>5280?this._setScale(w,$/5280,"mile"):this._setScale(w,$,"foot")}else this.options.unit==="nautical"?this._setScale(w,D/1852,"nautical-mile"):D>=1e3?this._setScale(w,D/1e3,"kilometer"):this._setScale(w,D,"meter")}_setScale(w,d,g){this._map._requestDomTask(()=>{const x=function(L){const D=Math.pow(10,`${Math.floor(L)}`.length-1);let $=L/D;return $=$>=10?10:$>=5?5:$>=3?3:$>=2?2:$>=1?1:function(Y){const ae=Math.pow(10,Math.ceil(-Math.log(Y)/Math.LN10));return Math.round(Y*ae)/ae}($),D*$}(d),B=x/d;this._container.innerHTML=this._isNumberFormatSupported&&g!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"short",unit:g}).format(x):`${x}&nbsp;${UA[g]}`,this._container.style.width=w*B+"px"})}onAdd(w){return this._map=w,this._language=w.getLanguage(),this._container=y("div","mapboxgl-ctrl mapboxgl-ctrl-scale",w.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(w){this._language=w,this._update()}setUnit(w){this.options.unit=w,this._update()}},FullscreenControl:class{constructor(w){this._fullscreen=!1,w&&w.container&&(w.container instanceof HTMLElement?this._container=w.container:a.w("Full screen control 'container' must be a DOM element.")),a.aY(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(w){return this._map=w,this._container||(this._container=this._map.getContainer()),this._controlContainer=y("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",a.w("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!document.fullscreenEnabled&&!document.webkitFullscreenEnabled)}_setupUI(){const w=this._fullscreenButton=y("button","mapboxgl-ctrl-fullscreen",this._controlContainer);y("span","mapboxgl-ctrl-icon",w).setAttribute("aria-hidden","true"),w.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const w=this._getTitle();this._fullscreenButton.setAttribute("aria-label",w),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",w)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(document.fullscreenElement||document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends a.E{constructor(w){super(),this.options=a.e(Object.create(lE),w),a.aY(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(w&&w.className?w.className.trim().split(/\s+/):[])}addTo(w){return this._map&&this.remove(),this._map=w,this.options.closeOnClick&&w.on("preclick",this._onClose),this.options.closeOnMove&&w.on("move",this._onClose),w.on("remove",this.remove),this._update(),w._addPopup(this),this._focusFirstElement(),this._trackPointer?(w.on("mousemove",this._onMouseEvent),w.on("mouseup",this._onMouseEvent),w._canvasContainer.classList.add("mapboxgl-track-pointer")):w.on("move",this._update),this.fire(new a.b("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const w=this._map;return w&&(w.off("move",this._update),w.off("move",this._onClose),w.off("preclick",this._onClose),w.off("click",this._onClose),w.off("remove",this.remove),w.off("mousemove",this._onMouseEvent),w.off("mouseup",this._onMouseEvent),w.off("drag",this._onMouseEvent),w._canvasContainer&&w._canvasContainer.classList.remove("mapboxgl-track-pointer"),w._removePopup(this),this._map=void 0),this.fire(new a.b("close")),this}getLngLat(){return this._lngLat}setLngLat(w){this._lngLat=a.bn.convert(w),this._pos=null,this._trackPointer=!1,this._update();const d=this._map;return d&&(d.on("move",this._update),d.off("mousemove",this._onMouseEvent),d._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const w=this._map;return w&&(w.off("move",this._update),w.on("mousemove",this._onMouseEvent),w.on("drag",this._onMouseEvent),w._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(w){return this.setDOMContent(document.createTextNode(w))}setHTML(w){const d=document.createDocumentFragment(),g=document.createElement("body");let x;for(g.innerHTML=w;x=g.firstChild,x;)d.appendChild(x);return this.setDOMContent(d)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(w){return this.options.maxWidth=w,this._update(),this}setDOMContent(w){let d=this._content;if(d)for(;d.hasChildNodes();)d.firstChild&&d.removeChild(d.firstChild);else d=this._content=y("div","mapboxgl-popup-content",this._container||void 0);if(d.appendChild(w),this.options.closeButton){const g=this._closeButton=y("button","mapboxgl-popup-close-button",d);g.type="button",g.setAttribute("aria-label","Close popup"),g.setAttribute("aria-hidden","true"),g.innerHTML="&#215;",g.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(w){return this._classList.add(w),this._updateClassList(),this}removeClassName(w){return this._classList.delete(w),this._updateClassList(),this}setOffset(w){return this.options.offset=w,this._update(),this}toggleClassName(w){let d;return this._classList.delete(w)?d=!1:(this._classList.add(w),d=!0),this._updateClassList(),d}_onMouseEvent(w){this._update(w.point)}_getAnchor(w){if(this.options.anchor)return this.options.anchor;const d=this._map,g=this._container,x=this._pos;if(!d||!g||!x)return"bottom";const B=g.offsetWidth,L=g.offsetHeight,D=x.x<B/2,$=x.x>d.transform.width-B/2;if(x.y+w<L)return D?"top-left":$?"top-right":"top";if(x.y>d.transform.height-L){if(D)return"bottom-left";if($)return"bottom-right"}return D?"left":$?"right":"bottom"}_updateClassList(){const w=this._container;if(!w)return;const d=[...this._classList];d.push("mapboxgl-popup"),this._anchor&&d.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&d.push("mapboxgl-popup-track-pointer"),w.className=d.join(" ")}_update(w){const d=this._map,g=this._content;if(!d||!this._lngLat&&!this._trackPointer||!g)return;let x=this._container;if(x||(x=this._container=y("div","mapboxgl-popup",d.getContainer()),this._tip=y("div","mapboxgl-popup-tip",x),x.appendChild(g)),this.options.maxWidth&&x.style.maxWidth!==this.options.maxWidth&&(x.style.maxWidth=this.options.maxWidth),d.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=i_(this._lngLat,this._pos,d.transform)),!this._trackPointer||w){const B=this._pos=this._trackPointer&&w?w:d.project(this._lngLat),L=cE(this.options.offset),D=this._anchor=this._getAnchor(L.y),$=cE(this.options.offset,D),Y=B.add($).round();d._requestDomTask(()=>{this._container&&D&&(this._container.style.transform=`${db[D]} translate(${Y.x}px,${Y.y}px)`)})}if(!this._marker&&d._showingGlobe()){const B=a.d6(d.transform,this._lngLat)?0:1;this._setOpacity(B)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const w=this._container.querySelector(uE);w&&w.focus()}_onClose(){this.remove()}_setOpacity(w){this._container&&(this._container.style.opacity=`${w}`),this._content&&(this._content.style.pointerEvents=w?"auto":"none")}},Marker:Mx,Style:Xl,LngLat:a.bn,LngLatBounds:a.ad,Point:a.P,MercatorCoordinate:a.L,FreeCameraOptions:Zu,Evented:a.E,config:a.d5,prewarm:a.dp,clearPrewarmedResources:a.dq,get accessToken(){return a.d5.ACCESS_TOKEN},set accessToken(w){a.d5.ACCESS_TOKEN=w},get baseApiUrl(){return a.d5.API_URL},set baseApiUrl(w){a.d5.API_URL=w},get workerCount(){return a.dr.workerCount},set workerCount(w){a.dr.workerCount=w},get maxParallelImageRequests(){return a.d5.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(w){a.d5.MAX_PARALLEL_IMAGE_REQUESTS=w},clearStorage(w){a.ds(w)},get workerUrl(){return a.dt.workerUrl},set workerUrl(w){a.dt.workerUrl=w},get workerClass(){return a.dt.workerClass},set workerClass(w){a.dt.workerClass=w},get workerParams(){return a.dt.workerParams},set workerParams(w){a.dt.workerParams=w},get dracoUrl(){return a.du()},set dracoUrl(w){a.dv(w)},get meshoptUrl(){return a.dw()},set meshoptUrl(w){a.dx(w)},setNow:a.f.setNow,restoreNow:a.f.restoreNow}});var c=s;return c})})(Vre);var kxe=Vre.exports;const Ig=lA(kxe);var Qre={exports:{}};(function(t){function e(f){if(f=Object.assign({},f),!(this instanceof e))throw new Error("MapboxLanguage needs to be called with the new keyword");this.setLanguage=this.setLanguage.bind(this),this._initialStyleUpdate=this._initialStyleUpdate.bind(this),this._defaultLanguage=f.defaultLanguage,this._isLanguageField=f.languageField||/^name_/,this._getLanguageField=f.getLanguageField||function(m){return m==="mul"?"name":`name_${m}`},this._languageSource=f.languageSource||null,this._languageTransform=f.languageTransform,this._excludedLayerIds=f.excludedLayerIds||[],this.supportedLanguages=f.supportedLanguages||["ar","de","en","es","fr","it","ja","ko","mul","pt","ru","vi","zh-Hans","zh-Hant"]}const n=/^\{name/;function r(f,p){const m=Array.isArray(p)&&p[0]==="get";return m&&n.test(p[1])&&console.warn("This plugin no longer supports the use of token syntax (e.g. {name}). Please use a get expression. See https://docs.mapbox.com/mapbox-gl-js/style-spec/expressions/ for more details."),m&&f.test(p[1])}function i(f,p,m){if(Array.isArray(p))for(let v=1;v<p.length;v++)Array.isArray(p[v])&&(r(f,p[v])&&(p[v][1]=m),i(f,p[v],m))}function s(f,p,m){if(r(f,p)&&(p[1]=m),i(f,p,m),p[0]==="get"&&p[1]==="name"){const v=p.slice();p=["coalesce",["get",m],v]}return p}function l(f,p,m,v){return p.layout&&p.layout["text-field"]&&v.indexOf(p.id)===-1?Object.assign({},p,{layout:Object.assign({},p.layout,{"text-field":s(f,p.layout["text-field"],m)})}):p}function c(f){const p=Object.keys(f.sources).filter(m=>{const v=f.sources[m].url;return v&&v.indexOf("mapbox.mapbox-streets-v8")>-1||/mapbox-streets-v[1-9][1-9]/.test(v)});if(!p.length)throw new Error('If using MapboxLanguage with a Mapbox style, the style must be based on vector tile version 8, e.g. "streets-v11"');return p[0]}e.prototype.setLanguage=function(f,p){if(this.supportedLanguages.indexOf(p)<0)throw new Error(`Language ${p} is not supported`);const m=this._languageSource||c(f);if(!m)return f;const v=this._getLanguageField(p),y=this._isLanguageField,T=this._excludedLayerIds,C=f.layers.map(M=>M.source===m?l(y,M,v,T):M),k=Object.assign({},f,{layers:C});return this._languageTransform?this._languageTransform(k,p):k},e.prototype._initialStyleUpdate=function(){const f=this._map.getStyle(),p=this._defaultLanguage||a(this.supportedLanguages);this._map.setStyle(this.setLanguage(f,p))};function a(f){const p=navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage,m=p&&p.split("-");let v=p;return m.length>1&&(v=m[0]),f.indexOf(v)>-1?v:null}e.prototype.onAdd=function(f){return this._map=f,this._map.on("style.load",this._initialStyleUpdate),this._container=document.createElement("div"),this._container},e.prototype.onRemove=function(){this._map.off("style.load",this._initialStyleUpdate),this._map=void 0},t.exports=e})(Qre);var Pxe=Qre.exports;const Fxe=lA(Pxe),Rxe={id:"menu"},Oxe={class:"input-label-row"},Dxe=["id","value","checked"],Nxe=["for"],iK="streets",Uxe={__name:"MapboxMain",props:{geodata:{type:Object,default:{}}},setup(t,{expose:e}){const n=Te(null),r=Te(null),i=Te(null);let s=!1;const l={ar:"ar",de:"de",en:"en",es:"es",fr:"fr",it:"it",ja:"ja",ko:"ko",mul:"mul",pt:"pt",ru:"ru",vi:"vi","zh-CN":"zh-Hans","zh-HK":"zh-Hant","zh-TW":"zh-Hant","zh-Hans":"zh-Hans","zh-Hant":"zh-Hant"},c="pk.eyJ1IjoiZ2Vla2NhdCIsImEiOiJjbHc5ZTJ6dmIwMTEyMmpudGowMXk5Y3o2In0.HDxYFBSNCpbYan731GLJEw",a=[{id:"satellite-streets",label:"Satellite Streets",url:"mapbox://styles/geekcat/clwc44om0008b01pn91yg82cg"},{id:"light-v11",label:"Light",url:"mapbox://styles/mapbox/light-v11"},{id:"dark-v11",label:"Dark",url:"mapbox://styles/mapbox/dark-v11"},{id:"streets",label:"Streets",url:"mapbox://styles/geekcat/clwxb0z8q01ep01pohp1h4q4d"},{id:"outdoors",label:"Outdoors",url:"mapbox://styles/geekcat/clwxbnita01es01po7fto915q"}],f=t,p=()=>{const z=navigator.language||navigator.userLanguage,H=navigator.language.split("-")[0];let j="mul";H=="zh"&&l[z]&&(j=l[z]),H!=="zh"&&l[H]&&(j=l[H]),Ig.setRTLTextPlugin("https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js");const Q=new Fxe({defaultLanguage:j});r.value.language=j,r.value.setStyle(Q.setLanguage(r.value.getStyle(),j)),r.value.addControl(Q)},m=z=>{const H=z.target.value,j=a.find(Q=>Q.id===H).url;r.value&&(r.value.setStyle(j),f.geodata,r.value.once("style.load",()=>{f.geodata.status=="GeoJSONLayers"&&T(f.geodata.data),f.geodata.status=="HeatMap"&&y(f.geodata.data)}))},v=z=>{const H=["match",["get","name"]];return Object.entries(z).forEach(([Q,G])=>{H.push(Q,G)}),H.push("#B42222"),H},y=z=>{Object.keys(z).length!=0&&(r.value.addSource("findmy-data",{type:"geojson",data:z}),r.value.addLayer({id:"findmy-heatmap",type:"heatmap",source:"findmy-data",maxzoom:17,paint:{"heatmap-intensity":["interpolate",["linear"],["zoom"],0,1,9,3,15,10],"heatmap-color":["interpolate",["linear"],["heatmap-density"],0,"rgba(33,102,172,0)",.2,"rgb(103,169,207)",.4,"rgb(209,229,240)",.6,"rgb(253,219,199)",.8,"rgb(239,138,98)",1,"rgb(178,24,43)"],"heatmap-radius":["interpolate",["linear"],["zoom"],0,2,9,15],"heatmap-opacity":["interpolate",["linear"],["zoom"],0,.6,10,.7,17,1]},filter:["==","$type","Point"]}))},T=z=>{if(Object.keys(z).length==0)return;const j=v({"001":"#f28cb1",LBKAS9:"#36beff","Location C":"#223b53","Location D":"#e55e5e"});r.value.addSource("findmy-data",{type:"geojson",data:z}),r.value.addLayer({id:"findmy-point",type:"circle",source:"findmy-data",paint:{"circle-radius":6,"circle-color":j},filter:["==","$type","Point"]}),r.value.addLayer({id:"findmy-route",type:"line",source:"findmy-data",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":j,"line-width":3,"line-dasharray":[1,2]},filter:["==","$type","LineString"]}),r.value.addLayer({id:"line-arrows",type:"symbol",source:"findmy-data",layout:{"symbol-placement":"line","text-field":"▶","text-size":24,"symbol-spacing":50,"text-keep-upright":!1},paint:{"text-color":"red"},filter:["==","$type","LineString"]})},C=(z,H)=>{z.forEach(j=>{r.value.getLayer(j)&&r.value.removeLayer(j)}),H.forEach(j=>{r.value.getSource(j)&&r.value.removeSource(j)})},k=z=>{const H=new Ig.LngLatBounds;z.features.forEach(function(j){const Q=j.geometry.coordinates;H.extend(Q)}),r.value.fitBounds(H,{padding:20})},M=z=>{const H=["in",["get","name"],["literal",z]];r.value.setFilter("findmy-point",H),r.value.setFilter("findmy-route",H),r.value.setFilter("line-arrows",H),s=!0},P=()=>{r.value.setFilter("findmy-point",null),r.value.setFilter("findmy-route",null),r.value.setFilter("line-arrows",null),s=!1},R=z=>{for(const H of z.features){const j=document.createElement("div"),Q=40,G=40;j.className="marker";const ie=document.createElement("div");ie.innerHTML='<i class="fa-solid fa-tag fa-3x"></i>',j.appendChild(ie),j.style.width=`${Q}px`,j.style.height=`${G}px`,j.style.backgroundSize="100%",j.addEventListener("click",()=>{window.alert("test")}),new Ig.Marker(j).setLngLat(H.geometry.coordinates).addTo(r.value)}},N=new Ig.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0,showUserHeading:!0});return e({map:r,switchStyle:m,setStyleLanguage:p,geometryColorSet:v,addHeatmapLayer:y,addGeoJSONLayers:T,removeGeoJSONLayers:C,setMapFilter:M,removeMapFilter:P,FitBounds:k,addRealtimeMarker:R}),Fr(()=>{Ig.accessToken=c;const z=[104.0657,30.6594];r.value=new Ig.Map({container:n.value,style:a.find(H=>H.id===iK).url,center:z,zoom:3}),r.value.on("load",()=>{p()}),r.value.on("mouseenter","findmy-point",H=>{r.value.getCanvas().style.cursor="pointer";const j=s?1:0,Q=H.features[j].geometry.coordinates.slice(),G=Q.map(ee=>ee.toFixed(4).toString()),ie=H.features[j].properties.TimeStamp,q=H.features[j].properties.name,W=new Ig.Popup({offset:25}).setLngLat(Q).setHTML(`<strong>Name:</strong> ${q}<br/><strong>Coordinates:</strong> ${G}<br/><strong>Timestamp:</strong> ${ie}`).addTo(r.value);r.value.on("mouseleave","findmy-point",()=>{r.value.getCanvas().style.cursor="",W.remove()})}),r.value.on("click","findmy-point",H=>{const j=s?1:0,Q=H.features[j].geometry.coordinates.slice(),G=Q.map(W=>W.toFixed(4).toString()),ie=H.features[j].properties.TimeStamp,q=H.features[j].properties.name;new Ig.Popup({offset:25}).setLngLat(Q).setHTML(`<strong>Name:</strong> ${q}<br/><strong>Coordinates:</strong> ${G}<br/><strong>Timestamp:</strong> ${ie}`).addTo(r.value)}),r.value.addControl(new Ig.NavigationControl),r.value.addControl(N)}),(z,H)=>{const j=Kr("el-row"),Q=Kr("el-col");return X(),ve("div",null,[pe("div",{id:"map",ref_key:"mapContainer",ref:n},null,512),ht(O9,{ref_key:"DataHandlerRef",ref:i},null,512),pe("div",Rxe,[ht(Q,null,{default:xt(()=>[(X(),ve(Vn,null,Yr(a,G=>ht(j,{span:6,key:G.id},{default:xt(()=>[pe("div",Oxe,[pe("input",{id:G.id,type:"radio",name:"rtoggle",value:G.id,checked:G.id===iK,onChange:m},null,40,Dxe),pe("label",{for:G.id},Cn(G.label),9,Nxe)])]),_:2},1024)),64))]),_:1})])])}}},zxe=h5(Uxe,[["__scopeId","data-v-f67dd574"]]),jre={__name:"MainApp",setup(t){const e=Te(null),n=Te(null),r=Te({}),i={layers:["findmy-point","findmy-route","line-arrows","findmy-heatmap"],sources:["findmy-data"]},s=p=>{r.value.data=p,r.value.status="GeoJSONLayers",e.value.removeGeoJSONLayers(i.layers,i.sources),e.value.addGeoJSONLayers(p),e.value.FitBounds(p)},l=p=>{r.value.data=p,r.value.status="HeatMap",e.value.removeGeoJSONLayers(i.layers,i.sources),e.value.addHeatmapLayer(p),e.value.FitBounds(p)},c=async p=>{p.mode="timerange",await n.value.fetchData(p);const m=n.value.exposedData;s(m)},a=async p=>{p.mode="timerange",await n.value.fetchData(p);const m=n.value.exposedData;l(m)},f=async p=>{p.dateTimeRange=[],p.mode="realtime";const m=await n.value.fetchData(p);console.log(m);const v=n.value.exposedData;console.log(v),e.value.addRealtimeMarker(v)};return Fr(()=>{}),(p,m)=>(X(),ve(Vn,null,[ht(Lxe,{onSubmit:c,onAddHeatMap:a,onRealtime:f}),ht(zxe,{geodata:r.value,ref_key:"MapboxMainRef",ref:e},null,8,["geodata"]),ht(O9,{ref_key:"DataHandlerRef",ref:n},null,512)],64))}},$xe={__name:"App",setup(t){return(e,n)=>(X(),Ut(jre))}};/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const cw=typeof document<"u";function Vxe(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Gs=Object.assign;function mk(t,e){const n={};for(const r in e){const i=e[r];n[r]=tA(i)?i.map(t):t(i)}return n}const mC=()=>{},tA=Array.isArray,Gre=/#/g,Hxe=/&/g,Qxe=/\//g,jxe=/=/g,Gxe=/\?/g,Kre=/\+/g,Kxe=/%5B/g,Wxe=/%5D/g,Wre=/%5E/g,qxe=/%60/g,qre=/%7B/g,Yxe=/%7C/g,Yre=/%7D/g,Xxe=/%20/g;function D9(t){return encodeURI(""+t).replace(Yxe,"|").replace(Kxe,"[").replace(Wxe,"]")}function Zxe(t){return D9(t).replace(qre,"{").replace(Yre,"}").replace(Wre,"^")}function vR(t){return D9(t).replace(Kre,"%2B").replace(Xxe,"+").replace(Gre,"%23").replace(Hxe,"%26").replace(qxe,"`").replace(qre,"{").replace(Yre,"}").replace(Wre,"^")}function Jxe(t){return vR(t).replace(jxe,"%3D")}function e4e(t){return D9(t).replace(Gre,"%23").replace(Gxe,"%3F")}function t4e(t){return t==null?"":e4e(t).replace(Qxe,"%2F")}function r6(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const n4e=/\/$/,r4e=t=>t.replace(n4e,"");function gk(t,e,n="/"){let r,i={},s="",l="";const c=e.indexOf("#");let a=e.indexOf("?");return c<a&&c>=0&&(a=-1),a>-1&&(r=e.slice(0,a),s=e.slice(a+1,c>-1?c:e.length),i=t(s)),c>-1&&(r=r||e.slice(0,c),l=e.slice(c,e.length)),r=o4e(r??e,n),{fullPath:r+(s&&"?")+s+l,path:r,query:i,hash:r6(l)}}function i4e(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function aK(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function a4e(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&w2(e.matched[r],n.matched[i])&&Xre(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function w2(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Xre(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!s4e(t[n],e[n]))return!1;return!0}function s4e(t,e){return tA(t)?sK(t,e):tA(e)?sK(e,t):t===e}function sK(t,e){return tA(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function o4e(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,l,c;for(l=0;l<r.length;l++)if(c=r[l],c!==".")if(c==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(l).join("/")}var i6;(function(t){t.pop="pop",t.push="push"})(i6||(i6={}));var gC;(function(t){t.back="back",t.forward="forward",t.unknown=""})(gC||(gC={}));function l4e(t){if(!t)if(cw){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),r4e(t)}const u4e=/^[^#]+#/;function c4e(t,e){return t.replace(u4e,"#")+e}function h4e(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const HB=()=>({left:window.scrollX,top:window.scrollY});function d4e(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=h4e(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function oK(t,e){return(history.state?history.state.position-e:-1)+t}const _R=new Map;function f4e(t,e){_R.set(t,e)}function p4e(t){const e=_R.get(t);return _R.delete(t),e}let A4e=()=>location.protocol+"//"+location.host;function Zre(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let c=i.includes(t.slice(s))?t.slice(s).length:1,a=i.slice(c);return a[0]!=="/"&&(a="/"+a),aK(a,"")}return aK(n,t)+r+i}function m4e(t,e,n,r){let i=[],s=[],l=null;const c=({state:v})=>{const y=Zre(t,location),T=n.value,C=e.value;let k=0;if(v){if(n.value=y,e.value=v,l&&l===T){l=null;return}k=C?v.position-C.position:0}else r(y);i.forEach(M=>{M(n.value,T,{delta:k,type:i6.pop,direction:k?k>0?gC.forward:gC.back:gC.unknown})})};function a(){l=n.value}function f(v){i.push(v);const y=()=>{const T=i.indexOf(v);T>-1&&i.splice(T,1)};return s.push(y),y}function p(){const{history:v}=window;v.state&&v.replaceState(Gs({},v.state,{scroll:HB()}),"")}function m(){for(const v of s)v();s=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",p,{passive:!0}),{pauseListeners:a,listen:f,destroy:m}}function lK(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?HB():null}}function g4e(t){const{history:e,location:n}=window,r={value:Zre(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(a,f,p){const m=t.indexOf("#"),v=m>-1?(n.host&&document.querySelector("base")?t:t.slice(m))+a:A4e()+t+a;try{e[p?"replaceState":"pushState"](f,"",v),i.value=f}catch(y){console.error(y),n[p?"replace":"assign"](v)}}function l(a,f){const p=Gs({},e.state,lK(i.value.back,a,i.value.forward,!0),f,{position:i.value.position});s(a,p,!0),r.value=a}function c(a,f){const p=Gs({},i.value,e.state,{forward:a,scroll:HB()});s(p.current,p,!0);const m=Gs({},lK(r.value,a,null),{position:p.position+1},f);s(a,m,!1),r.value=a}return{location:r,state:i,push:c,replace:l}}function v4e(t){t=l4e(t);const e=g4e(t),n=m4e(t,e.state,e.location,e.replace);function r(s,l=!0){l||n.pauseListeners(),history.go(s)}const i=Gs({location:"",base:t,go:r,createHref:c4e.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function _4e(t){return typeof t=="string"||t&&typeof t=="object"}function Jre(t){return typeof t=="string"||typeof t=="symbol"}const hv={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},eie=Symbol("");var uK;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(uK||(uK={}));function x2(t,e){return Gs(new Error,{type:t,[eie]:!0},e)}function Lg(t,e){return t instanceof Error&&eie in t&&(e==null||!!(t.type&e))}const cK="[^/]+?",y4e={sensitive:!1,strict:!1,start:!0,end:!0},b4e=/[.+*?^${}()[\]/\\]/g;function w4e(t,e){const n=Gs({},y4e,e),r=[];let i=n.start?"^":"";const s=[];for(const f of t){const p=f.length?[]:[90];n.strict&&!f.length&&(i+="/");for(let m=0;m<f.length;m++){const v=f[m];let y=40+(n.sensitive?.25:0);if(v.type===0)m||(i+="/"),i+=v.value.replace(b4e,"\\$&"),y+=40;else if(v.type===1){const{value:T,repeatable:C,optional:k,regexp:M}=v;s.push({name:T,repeatable:C,optional:k});const P=M||cK;if(P!==cK){y+=10;try{new RegExp(`(${P})`)}catch(N){throw new Error(`Invalid custom RegExp for param "${T}" (${P}): `+N.message)}}let R=C?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;m||(R=k&&f.length<2?`(?:/${R})`:"/"+R),k&&(R+="?"),i+=R,y+=20,k&&(y+=-8),C&&(y+=-20),P===".*"&&(y+=-50)}p.push(y)}r.push(p)}if(n.strict&&n.end){const f=r.length-1;r[f][r[f].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const l=new RegExp(i,n.sensitive?"":"i");function c(f){const p=f.match(l),m={};if(!p)return null;for(let v=1;v<p.length;v++){const y=p[v]||"",T=s[v-1];m[T.name]=y&&T.repeatable?y.split("/"):y}return m}function a(f){let p="",m=!1;for(const v of t){(!m||!p.endsWith("/"))&&(p+="/"),m=!1;for(const y of v)if(y.type===0)p+=y.value;else if(y.type===1){const{value:T,repeatable:C,optional:k}=y,M=T in f?f[T]:"";if(tA(M)&&!C)throw new Error(`Provided param "${T}" is an array but it is not repeatable (* or + modifiers)`);const P=tA(M)?M.join("/"):M;if(!P)if(k)v.length<2&&(p.endsWith("/")?p=p.slice(0,-1):m=!0);else throw new Error(`Missing required param "${T}"`);p+=P}}return p||"/"}return{re:l,score:r,keys:s,parse:c,stringify:a}}function x4e(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function C4e(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=x4e(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(hK(r))return 1;if(hK(i))return-1}return i.length-r.length}function hK(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const E4e={type:0,value:""},S4e=/[a-zA-Z0-9_]/;function T4e(t){if(!t)return[[]];if(t==="/")return[[E4e]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(y){throw new Error(`ERR (${n})/"${f}": ${y}`)}let n=0,r=n;const i=[];let s;function l(){s&&i.push(s),s=[]}let c=0,a,f="",p="";function m(){f&&(n===0?s.push({type:0,value:f}):n===1||n===2||n===3?(s.length>1&&(a==="*"||a==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:f,regexp:p,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):e("Invalid state to consume buffer"),f="")}function v(){f+=a}for(;c<t.length;){if(a=t[c++],a==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:a==="/"?(f&&m(),l()):a===":"?(m(),n=1):v();break;case 4:v(),n=r;break;case 1:a==="("?n=2:S4e.test(a)?v():(m(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&c--);break;case 2:a===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+a:n=3:p+=a;break;case 3:m(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&c--,p="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${f}"`),m(),l(),i}function B4e(t,e,n){const r=w4e(T4e(t.path),n),i=Gs(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function M4e(t,e){const n=[],r=new Map;e=pK({strict:!1,end:!0,sensitive:!1},e);function i(p){return r.get(p)}function s(p,m,v){const y=!v,T=I4e(p);T.aliasOf=v&&v.record;const C=pK(e,p),k=[T];if("alias"in p){const R=typeof p.alias=="string"?[p.alias]:p.alias;for(const N of R)k.push(Gs({},T,{components:v?v.record.components:T.components,path:N,aliasOf:v?v.record:T}))}let M,P;for(const R of k){const{path:N}=R;if(m&&N[0]!=="/"){const z=m.record.path,H=z[z.length-1]==="/"?"":"/";R.path=m.record.path+(N&&H+N)}if(M=B4e(R,m,C),v?v.alias.push(M):(P=P||M,P!==M&&P.alias.push(M),y&&p.name&&!fK(M)&&l(p.name)),T.children){const z=T.children;for(let H=0;H<z.length;H++)s(z[H],M,v&&v.children[H])}v=v||M,(M.record.components&&Object.keys(M.record.components).length||M.record.name||M.record.redirect)&&a(M)}return P?()=>{l(P)}:mC}function l(p){if(Jre(p)){const m=r.get(p);m&&(r.delete(p),n.splice(n.indexOf(m),1),m.children.forEach(l),m.alias.forEach(l))}else{const m=n.indexOf(p);m>-1&&(n.splice(m,1),p.record.name&&r.delete(p.record.name),p.children.forEach(l),p.alias.forEach(l))}}function c(){return n}function a(p){let m=0;for(;m<n.length&&C4e(p,n[m])>=0&&(p.record.path!==n[m].record.path||!tie(p,n[m]));)m++;n.splice(m,0,p),p.record.name&&!fK(p)&&r.set(p.record.name,p)}function f(p,m){let v,y={},T,C;if("name"in p&&p.name){if(v=r.get(p.name),!v)throw x2(1,{location:p});C=v.record.name,y=Gs(dK(m.params,v.keys.filter(P=>!P.optional).concat(v.parent?v.parent.keys.filter(P=>P.optional):[]).map(P=>P.name)),p.params&&dK(p.params,v.keys.map(P=>P.name))),T=v.stringify(y)}else if(p.path!=null)T=p.path,v=n.find(P=>P.re.test(T)),v&&(y=v.parse(T),C=v.record.name);else{if(v=m.name?r.get(m.name):n.find(P=>P.re.test(m.path)),!v)throw x2(1,{location:p,currentLocation:m});C=v.record.name,y=Gs({},m.params,p.params),T=v.stringify(y)}const k=[];let M=v;for(;M;)k.unshift(M.record),M=M.parent;return{name:C,path:T,params:y,matched:k,meta:k4e(k)}}return t.forEach(p=>s(p)),{addRoute:s,resolve:f,removeRoute:l,getRoutes:c,getRecordMatcher:i}}function dK(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function I4e(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:L4e(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function L4e(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function fK(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function k4e(t){return t.reduce((e,n)=>Gs(e,n.meta),{})}function pK(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function tie(t,e){return e.children.some(n=>n===t||tie(t,n))}function P4e(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(Kre," "),l=s.indexOf("="),c=r6(l<0?s:s.slice(0,l)),a=l<0?null:r6(s.slice(l+1));if(c in e){let f=e[c];tA(f)||(f=e[c]=[f]),f.push(a)}else e[c]=a}return e}function AK(t){let e="";for(let n in t){const r=t[n];if(n=Jxe(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(tA(r)?r.map(s=>s&&vR(s)):[r&&vR(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function F4e(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=tA(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const R4e=Symbol(""),mK=Symbol(""),N9=Symbol(""),nie=Symbol(""),yR=Symbol("");function f4(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Fv(t,e,n,r,i,s=l=>l()){const l=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((c,a)=>{const f=v=>{v===!1?a(x2(4,{from:n,to:e})):v instanceof Error?a(v):_4e(v)?a(x2(2,{from:e,to:v})):(l&&r.enterCallbacks[i]===l&&typeof v=="function"&&l.push(v),c())},p=s(()=>t.call(r&&r.instances[i],e,n,f));let m=Promise.resolve(p);t.length<3&&(m=m.then(f)),m.catch(v=>a(v))})}function vk(t,e,n,r,i=s=>s()){const s=[];for(const l of t)for(const c in l.components){let a=l.components[c];if(!(e!=="beforeRouteEnter"&&!l.instances[c]))if(O4e(a)){const p=(a.__vccOpts||a)[e];p&&s.push(Fv(p,n,r,l,c,i))}else{let f=a();s.push(()=>f.then(p=>{if(!p)return Promise.reject(new Error(`Couldn't resolve component "${c}" at "${l.path}"`));const m=Vxe(p)?p.default:p;l.components[c]=m;const y=(m.__vccOpts||m)[e];return y&&Fv(y,n,r,l,c,i)()}))}}return s}function O4e(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function gK(t){const e=ar(N9),n=ar(nie),r=le(()=>{const a=S(t.to);return e.resolve(a)}),i=le(()=>{const{matched:a}=r.value,{length:f}=a,p=a[f-1],m=n.matched;if(!p||!m.length)return-1;const v=m.findIndex(w2.bind(null,p));if(v>-1)return v;const y=vK(a[f-2]);return f>1&&vK(p)===y&&m[m.length-1].path!==y?m.findIndex(w2.bind(null,a[f-2])):v}),s=le(()=>i.value>-1&&z4e(n.params,r.value.params)),l=le(()=>i.value>-1&&i.value===n.matched.length-1&&Xre(n.params,r.value.params));function c(a={}){return U4e(a)?e[S(t.replace)?"replace":"push"](S(t.to)).catch(mC):Promise.resolve()}return{route:r,href:le(()=>r.value.href),isActive:s,isExactActive:l,navigate:c}}const D4e=Be({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:gK,setup(t,{slots:e}){const n=ha(gK(t)),{options:r}=ar(N9),i=le(()=>({[_K(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[_K(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:wr("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),N4e=D4e;function U4e(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function z4e(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!tA(i)||i.length!==r.length||r.some((s,l)=>s!==i[l]))return!1}return!0}function vK(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const _K=(t,e,n)=>t??e??n,$4e=Be({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=ar(yR),i=le(()=>t.route||r.value),s=ar(mK,0),l=le(()=>{let f=S(s);const{matched:p}=i.value;let m;for(;(m=p[f])&&!m.components;)f++;return f}),c=le(()=>i.value.matched[l.value]);ki(mK,le(()=>l.value+1)),ki(R4e,c),ki(yR,i);const a=Te();return ln(()=>[a.value,c.value,t.name],([f,p,m],[v,y,T])=>{p&&(p.instances[m]=f,y&&y!==p&&f&&f===v&&(p.leaveGuards.size||(p.leaveGuards=y.leaveGuards),p.updateGuards.size||(p.updateGuards=y.updateGuards))),f&&p&&(!y||!w2(p,y)||!v)&&(p.enterCallbacks[m]||[]).forEach(C=>C(f))},{flush:"post"}),()=>{const f=i.value,p=t.name,m=c.value,v=m&&m.components[p];if(!v)return yK(n.default,{Component:v,route:f});const y=m.props[p],T=y?y===!0?f.params:typeof y=="function"?y(f):y:null,k=wr(v,Gs({},T,e,{onVnodeUnmounted:M=>{M.component.isUnmounted&&(m.instances[p]=null)},ref:a}));return yK(n.default,{Component:k,route:f})||k}}});function yK(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const V4e=$4e;function H4e(t){const e=M4e(t.routes,t),n=t.parseQuery||P4e,r=t.stringifyQuery||AK,i=t.history,s=f4(),l=f4(),c=f4(),a=vs(hv);let f=hv;cw&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=mk.bind(null,be=>""+be),m=mk.bind(null,t4e),v=mk.bind(null,r6);function y(be,Re){let Qe,Je;return Jre(be)?(Qe=e.getRecordMatcher(be),Je=Re):Je=be,e.addRoute(Je,Qe)}function T(be){const Re=e.getRecordMatcher(be);Re&&e.removeRoute(Re)}function C(){return e.getRoutes().map(be=>be.record)}function k(be){return!!e.getRecordMatcher(be)}function M(be,Re){if(Re=Gs({},Re||a.value),typeof be=="string"){const Ge=gk(n,be,Re.path),Ne=e.resolve({path:Ge.path},Re),je=i.createHref(Ge.fullPath);return Gs(Ge,Ne,{params:v(Ne.params),hash:r6(Ge.hash),redirectedFrom:void 0,href:je})}let Qe;if(be.path!=null)Qe=Gs({},be,{path:gk(n,be.path,Re.path).path});else{const Ge=Gs({},be.params);for(const Ne in Ge)Ge[Ne]==null&&delete Ge[Ne];Qe=Gs({},be,{params:m(Ge)}),Re.params=m(Re.params)}const Je=e.resolve(Qe,Re),nt=be.hash||"";Je.params=p(v(Je.params));const Ve=i4e(r,Gs({},be,{hash:Zxe(nt),path:Je.path})),ke=i.createHref(Ve);return Gs({fullPath:Ve,hash:nt,query:r===AK?F4e(be.query):be.query||{}},Je,{redirectedFrom:void 0,href:ke})}function P(be){return typeof be=="string"?gk(n,be,a.value.path):Gs({},be)}function R(be,Re){if(f!==be)return x2(8,{from:Re,to:be})}function N(be){return j(be)}function z(be){return N(Gs(P(be),{replace:!0}))}function H(be){const Re=be.matched[be.matched.length-1];if(Re&&Re.redirect){const{redirect:Qe}=Re;let Je=typeof Qe=="function"?Qe(be):Qe;return typeof Je=="string"&&(Je=Je.includes("?")||Je.includes("#")?Je=P(Je):{path:Je},Je.params={}),Gs({query:be.query,hash:be.hash,params:Je.path!=null?{}:be.params},Je)}}function j(be,Re){const Qe=f=M(be),Je=a.value,nt=be.state,Ve=be.force,ke=be.replace===!0,Ge=H(Qe);if(Ge)return j(Gs(P(Ge),{state:typeof Ge=="object"?Gs({},nt,Ge.state):nt,force:Ve,replace:ke}),Re||Qe);const Ne=Qe;Ne.redirectedFrom=Re;let je;return!Ve&&a4e(r,Je,Qe)&&(je=x2(16,{to:Ne,from:Je}),Ee(Je,Je,!0,!1)),(je?Promise.resolve(je):ie(Ne,Je)).catch(Ye=>Lg(Ye)?Lg(Ye,2)?Ye:ye(Ye):ce(Ye,Ne,Je)).then(Ye=>{if(Ye){if(Lg(Ye,2))return j(Gs({replace:ke},P(Ye.to),{state:typeof Ye.to=="object"?Gs({},nt,Ye.to.state):nt,force:Ve}),Re||Ne)}else Ye=W(Ne,Je,!0,ke,nt);return q(Ne,Je,Ye),Ye})}function Q(be,Re){const Qe=R(be,Re);return Qe?Promise.reject(Qe):Promise.resolve()}function G(be){const Re=_e.values().next().value;return Re&&typeof Re.runWithContext=="function"?Re.runWithContext(be):be()}function ie(be,Re){let Qe;const[Je,nt,Ve]=Q4e(be,Re);Qe=vk(Je.reverse(),"beforeRouteLeave",be,Re);for(const Ge of Je)Ge.leaveGuards.forEach(Ne=>{Qe.push(Fv(Ne,be,Re))});const ke=Q.bind(null,be,Re);return Qe.push(ke),Le(Qe).then(()=>{Qe=[];for(const Ge of s.list())Qe.push(Fv(Ge,be,Re));return Qe.push(ke),Le(Qe)}).then(()=>{Qe=vk(nt,"beforeRouteUpdate",be,Re);for(const Ge of nt)Ge.updateGuards.forEach(Ne=>{Qe.push(Fv(Ne,be,Re))});return Qe.push(ke),Le(Qe)}).then(()=>{Qe=[];for(const Ge of Ve)if(Ge.beforeEnter)if(tA(Ge.beforeEnter))for(const Ne of Ge.beforeEnter)Qe.push(Fv(Ne,be,Re));else Qe.push(Fv(Ge.beforeEnter,be,Re));return Qe.push(ke),Le(Qe)}).then(()=>(be.matched.forEach(Ge=>Ge.enterCallbacks={}),Qe=vk(Ve,"beforeRouteEnter",be,Re,G),Qe.push(ke),Le(Qe))).then(()=>{Qe=[];for(const Ge of l.list())Qe.push(Fv(Ge,be,Re));return Qe.push(ke),Le(Qe)}).catch(Ge=>Lg(Ge,8)?Ge:Promise.reject(Ge))}function q(be,Re,Qe){c.list().forEach(Je=>G(()=>Je(be,Re,Qe)))}function W(be,Re,Qe,Je,nt){const Ve=R(be,Re);if(Ve)return Ve;const ke=Re===hv,Ge=cw?history.state:{};Qe&&(Je||ke?i.replace(be.fullPath,Gs({scroll:ke&&Ge&&Ge.scroll},nt)):i.push(be.fullPath,nt)),a.value=be,Ee(be,Re,Qe,ke),ye()}let ee;function he(){ee||(ee=i.listen((be,Re,Qe)=>{const Je=M(be),nt=H(Je);if(nt){j(Gs(nt,{replace:!0}),Je).catch(mC);return}f=Je;const Ve=a.value;cw&&f4e(oK(Ve.fullPath,Qe.delta),HB()),ie(Je,Ve).catch(ke=>Lg(ke,12)?ke:Lg(ke,2)?(j(ke.to,Je).then(Ge=>{Lg(Ge,20)&&!Qe.delta&&Qe.type===i6.pop&&i.go(-1,!1)}).catch(mC),Promise.reject()):(Qe.delta&&i.go(-Qe.delta,!1),ce(ke,Je,Ve))).then(ke=>{ke=ke||W(Je,Ve,!1),ke&&(Qe.delta&&!Lg(ke,8)?i.go(-Qe.delta,!1):Qe.type===i6.pop&&Lg(ke,20)&&i.go(-1,!1)),q(Je,Ve,ke)}).catch(mC)}))}let J=f4(),te=f4(),ne;function ce(be,Re,Qe){ye(be);const Je=te.list();return Je.length?Je.forEach(nt=>nt(be,Re,Qe)):console.error(be),Promise.reject(be)}function ue(){return ne&&a.value!==hv?Promise.resolve():new Promise((be,Re)=>{J.add([be,Re])})}function ye(be){return ne||(ne=!be,he(),J.list().forEach(([Re,Qe])=>be?Qe(be):Re()),J.reset()),be}function Ee(be,Re,Qe,Je){const{scrollBehavior:nt}=t;if(!cw||!nt)return Promise.resolve();const Ve=!Qe&&p4e(oK(be.fullPath,0))||(Je||!Qe)&&history.state&&history.state.scroll||null;return dr().then(()=>nt(be,Re,Ve)).then(ke=>ke&&d4e(ke)).catch(ke=>ce(ke,be,Re))}const se=be=>i.go(be);let oe;const _e=new Set,Ue={currentRoute:a,listening:!0,addRoute:y,removeRoute:T,hasRoute:k,getRoutes:C,resolve:M,options:t,push:N,replace:z,go:se,back:()=>se(-1),forward:()=>se(1),beforeEach:s.add,beforeResolve:l.add,afterEach:c.add,onError:te.add,isReady:ue,install(be){const Re=this;be.component("RouterLink",N4e),be.component("RouterView",V4e),be.config.globalProperties.$router=Re,Object.defineProperty(be.config.globalProperties,"$route",{enumerable:!0,get:()=>S(a)}),cw&&!oe&&a.value===hv&&(oe=!0,N(i.location).catch(nt=>{}));const Qe={};for(const nt in hv)Object.defineProperty(Qe,nt,{get:()=>a.value[nt],enumerable:!0});be.provide(N9,Re),be.provide(nie,t9(Qe)),be.provide(yR,a);const Je=be.unmount;_e.add(be),be.unmount=function(){_e.delete(be),_e.size<1&&(f=hv,ee&&ee(),ee=null,a.value=hv,oe=!1,ne=!1),Je()}}};function Le(be){return be.reduce((Re,Qe)=>Re.then(()=>G(Qe)),Promise.resolve())}return Ue}function Q4e(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let l=0;l<s;l++){const c=e.matched[l];c&&(t.matched.find(f=>w2(f,c))?r.push(c):n.push(c));const a=t.matched[l];a&&(e.matched.find(f=>w2(f,a))||i.push(a))}return[n,r,i]}H4e({history:v4e("/FindMyTrackPage/"),routes:[{path:"/",name:"home",component:jre}]});const j4e='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',G4e=t=>getComputedStyle(t).position==="fixed"?!1:t.offsetParent!==null,bK=t=>Array.from(t.querySelectorAll(j4e)).filter(e=>K4e(e)&&G4e(e)),K4e=t=>{if(t.tabIndex>0||t.tabIndex===0&&t.getAttribute("tabIndex")!==null)return!0;if(t.disabled)return!1;switch(t.nodeName){case"A":return!!t.href&&t.rel!=="ignore";case"INPUT":return!(t.type==="hidden"||t.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},nT=function(t,e,...n){let r;e.includes("mouse")||e.includes("click")?r="MouseEvents":e.includes("key")?r="KeyboardEvent":r="HTMLEvents";const i=document.createEvent(r);return i.initEvent(e,...n),t.dispatchEvent(i),t},rie=t=>!t.getAttribute("aria-owns"),iie=(t,e,n)=>{const{parentNode:r}=t;if(!r)return null;const i=r.querySelectorAll(n),s=Array.prototype.indexOf.call(i,t);return i[s+e]||null},rT=t=>{t&&(t.focus(),!rie(t)&&t.click())},xo=(t,e,{checkForDefaultPrevented:n=!0}={})=>i=>{const s=t==null?void 0:t(i);if(n===!1||!s)return e==null?void 0:e(i)},wK=t=>e=>e.pointerType==="mouse"?t(e):void 0;var W4e=Object.defineProperty,q4e=Object.defineProperties,Y4e=Object.getOwnPropertyDescriptors,xK=Object.getOwnPropertySymbols,X4e=Object.prototype.hasOwnProperty,Z4e=Object.prototype.propertyIsEnumerable,CK=(t,e,n)=>e in t?W4e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,J4e=(t,e)=>{for(var n in e||(e={}))X4e.call(e,n)&&CK(t,n,e[n]);if(xK)for(var n of xK(e))Z4e.call(e,n)&&CK(t,n,e[n]);return t},eCe=(t,e)=>q4e(t,Y4e(e));function EK(t,e){var n;const r=vs();return uc(()=>{r.value=t()},eCe(J4e({},e),{flush:(n=void 0)!=null?n:"sync"})),Y2(r)}var SK;const ra=typeof window<"u",tCe=t=>typeof t<"u",bR=t=>typeof t=="function",nCe=t=>typeof t=="string",C2=()=>{},rCe=ra&&((SK=window==null?void 0:window.navigator)==null?void 0:SK.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function c1(t){return typeof t=="function"?t():S(t)}function aie(t,e){function n(...r){return new Promise((i,s)=>{Promise.resolve(t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(i).catch(s)})}return n}function iCe(t,e={}){let n,r,i=C2;const s=c=>{clearTimeout(c),i(),i=C2};return c=>{const a=c1(t),f=c1(e.maxWait);return n&&s(n),a<=0||f!==void 0&&f<=0?(r&&(s(r),r=null),Promise.resolve(c())):new Promise((p,m)=>{i=e.rejectOnCancel?m:p,f&&!r&&(r=setTimeout(()=>{n&&s(n),r=null,p(c())},f)),n=setTimeout(()=>{r&&s(r),r=null,p(c())},a)})}}function aCe(t,e=!0,n=!0,r=!1){let i=0,s,l=!0,c=C2,a;const f=()=>{s&&(clearTimeout(s),s=void 0,c(),c=C2)};return m=>{const v=c1(t),y=Date.now()-i,T=()=>a=m();return f(),v<=0?(i=Date.now(),T()):(y>v&&(n||!l)?(i=Date.now(),T()):e&&(a=new Promise((C,k)=>{c=r?k:C,s=setTimeout(()=>{i=Date.now(),l=!0,C(T()),f()},Math.max(0,v-y))})),!n&&!s&&(s=setTimeout(()=>l=!0,v)),l=!1,a)}}function sCe(t){return t}function oCe(t,e){let n,r,i;const s=Te(!0),l=()=>{s.value=!0,i()};ln(t,l,{flush:"sync"});const c=bR(e)?e:e.get,a=bR(e)?void 0:e.set,f=sne((p,m)=>(r=p,i=m,{get(){return s.value&&(n=c(),s.value=!1),r(),n},set(v){a==null||a(v)}}));return Object.isExtensible(f)&&(f.trigger=l),f}function d5(t){return WN()?(qN(t),!0):!1}function lCe(t,e=200,n={}){return aie(iCe(e,n),t)}function uCe(t,e=200,n={}){const r=Te(t.value),i=lCe(()=>{r.value=t.value},e,n);return ln(t,()=>i()),r}function sie(t,e=200,n=!1,r=!0,i=!1){return aie(aCe(e,n,r,i),t)}function U9(t,e=!0){ci()?Fr(t):e?t():dr(t)}function yy(t,e,n={}){const{immediate:r=!0}=n,i=Te(!1);let s=null;function l(){s&&(clearTimeout(s),s=null)}function c(){i.value=!1,l()}function a(...f){l(),i.value=!0,s=setTimeout(()=>{i.value=!1,s=null,t(...f)},c1(e))}return r&&(i.value=!0,ra&&a()),d5(c),{isPending:Y2(i),start:a,stop:c}}function $h(t){var e;const n=c1(t);return(e=n==null?void 0:n.$el)!=null?e:n}const F1=ra?window:void 0,cCe=ra?window.document:void 0;function _s(...t){let e,n,r,i;if(nCe(t[0])||Array.isArray(t[0])?([n,r,i]=t,e=F1):[e,n,r,i]=t,!e)return C2;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const s=[],l=()=>{s.forEach(p=>p()),s.length=0},c=(p,m,v,y)=>(p.addEventListener(m,v,y),()=>p.removeEventListener(m,v,y)),a=ln(()=>[$h(e),c1(i)],([p,m])=>{l(),p&&s.push(...n.flatMap(v=>r.map(y=>c(p,v,y,m))))},{immediate:!0,flush:"post"}),f=()=>{a(),l()};return d5(f),f}let TK=!1;function z9(t,e,n={}){const{window:r=F1,ignore:i=[],capture:s=!0,detectIframe:l=!1}=n;if(!r)return;rCe&&!TK&&(TK=!0,Array.from(r.document.body.children).forEach(v=>v.addEventListener("click",C2)));let c=!0;const a=v=>i.some(y=>{if(typeof y=="string")return Array.from(r.document.querySelectorAll(y)).some(T=>T===v.target||v.composedPath().includes(T));{const T=$h(y);return T&&(v.target===T||v.composedPath().includes(T))}}),p=[_s(r,"click",v=>{const y=$h(t);if(!(!y||y===v.target||v.composedPath().includes(y))){if(v.detail===0&&(c=!a(v)),!c){c=!0;return}e(v)}},{passive:!0,capture:s}),_s(r,"pointerdown",v=>{const y=$h(t);y&&(c=!v.composedPath().includes(y)&&!a(v))},{passive:!0}),l&&_s(r,"blur",v=>{var y;const T=$h(t);((y=r.document.activeElement)==null?void 0:y.tagName)==="IFRAME"&&!(T!=null&&T.contains(r.document.activeElement))&&e(v)})].filter(Boolean);return()=>p.forEach(v=>v())}function hCe(t={}){var e;const{window:n=F1}=t,r=(e=t.document)!=null?e:n==null?void 0:n.document,i=oCe(()=>null,()=>r==null?void 0:r.activeElement);return n&&(_s(n,"blur",s=>{s.relatedTarget===null&&i.trigger()},!0),_s(n,"focus",i.trigger,!0)),i}function oie(t,e=!1){const n=Te(),r=()=>n.value=!!t();return r(),U9(r,e),n}function dCe(t){return JSON.parse(JSON.stringify(t))}const BK=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},MK="__vueuse_ssr_handlers__";BK[MK]=BK[MK]||{};function fCe(t,e,{window:n=F1,initialValue:r=""}={}){const i=Te(r),s=le(()=>{var l;return $h(e)||((l=n==null?void 0:n.document)==null?void 0:l.documentElement)});return ln([s,()=>c1(t)],([l,c])=>{var a;if(l&&n){const f=(a=n.getComputedStyle(l).getPropertyValue(c))==null?void 0:a.trim();i.value=f||r}},{immediate:!0}),ln(i,l=>{var c;(c=s.value)!=null&&c.style&&s.value.style.setProperty(c1(t),l)}),i}function pCe({document:t=cCe}={}){if(!t)return Te("visible");const e=Te(t.visibilityState);return _s(t,"visibilitychange",()=>{e.value=t.visibilityState}),e}var IK=Object.getOwnPropertySymbols,ACe=Object.prototype.hasOwnProperty,mCe=Object.prototype.propertyIsEnumerable,gCe=(t,e)=>{var n={};for(var r in t)ACe.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&IK)for(var r of IK(t))e.indexOf(r)<0&&mCe.call(t,r)&&(n[r]=t[r]);return n};function no(t,e,n={}){const r=n,{window:i=F1}=r,s=gCe(r,["window"]);let l;const c=oie(()=>i&&"ResizeObserver"in i),a=()=>{l&&(l.disconnect(),l=void 0)},f=ln(()=>$h(t),m=>{a(),c.value&&i&&m&&(l=new ResizeObserver(e),l.observe(m,s))},{immediate:!0,flush:"post"}),p=()=>{a(),f()};return d5(p),{isSupported:c,stop:p}}function LK(t,e={}){const{reset:n=!0,windowResize:r=!0,windowScroll:i=!0,immediate:s=!0}=e,l=Te(0),c=Te(0),a=Te(0),f=Te(0),p=Te(0),m=Te(0),v=Te(0),y=Te(0);function T(){const C=$h(t);if(!C){n&&(l.value=0,c.value=0,a.value=0,f.value=0,p.value=0,m.value=0,v.value=0,y.value=0);return}const k=C.getBoundingClientRect();l.value=k.height,c.value=k.bottom,a.value=k.left,f.value=k.right,p.value=k.top,m.value=k.width,v.value=k.x,y.value=k.y}return no(t,T),ln(()=>$h(t),C=>!C&&T()),i&&_s("scroll",T,{capture:!0,passive:!0}),r&&_s("resize",T,{passive:!0}),U9(()=>{s&&T()}),{height:l,bottom:c,left:a,right:f,top:p,width:m,x:v,y,update:T}}var kK=Object.getOwnPropertySymbols,vCe=Object.prototype.hasOwnProperty,_Ce=Object.prototype.propertyIsEnumerable,yCe=(t,e)=>{var n={};for(var r in t)vCe.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&kK)for(var r of kK(t))e.indexOf(r)<0&&_Ce.call(t,r)&&(n[r]=t[r]);return n};function lie(t,e,n={}){const r=n,{window:i=F1}=r,s=yCe(r,["window"]);let l;const c=oie(()=>i&&"MutationObserver"in i),a=()=>{l&&(l.disconnect(),l=void 0)},f=ln(()=>$h(t),m=>{a(),c.value&&i&&m&&(l=new MutationObserver(e),l.observe(m,s))},{immediate:!0}),p=()=>{a(),f()};return d5(p),{isSupported:c,stop:p}}var PK;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(PK||(PK={}));var bCe=Object.defineProperty,FK=Object.getOwnPropertySymbols,wCe=Object.prototype.hasOwnProperty,xCe=Object.prototype.propertyIsEnumerable,RK=(t,e,n)=>e in t?bCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,CCe=(t,e)=>{for(var n in e||(e={}))wCe.call(e,n)&&RK(t,n,e[n]);if(FK)for(var n of FK(e))xCe.call(e,n)&&RK(t,n,e[n]);return t};const ECe={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};CCe({linear:sCe},ECe);function uie(t,e,n,r={}){var i,s,l;const{clone:c=!1,passive:a=!1,eventName:f,deep:p=!1,defaultValue:m}=r,v=ci(),y=n||(v==null?void 0:v.emit)||((i=v==null?void 0:v.$emit)==null?void 0:i.bind(v))||((l=(s=v==null?void 0:v.proxy)==null?void 0:s.$emit)==null?void 0:l.bind(v==null?void 0:v.proxy));let T=f;e||(e="modelValue"),T=f||T||`update:${e.toString()}`;const C=M=>c?bR(c)?c(M):dCe(M):M,k=()=>tCe(t[e])?C(t[e]):m;if(a){const M=k(),P=Te(M);return ln(()=>t[e],R=>P.value=C(R)),ln(P,R=>{(R!==t[e]||p)&&y(T,R)},{deep:p}),P}else return le({get(){return k()},set(M){y(T,M)}})}function SCe({window:t=F1}={}){if(!t)return Te(!1);const e=Te(t.document.hasFocus());return _s(t,"blur",()=>{e.value=!1}),_s(t,"focus",()=>{e.value=!0}),e}function TCe(t={}){const{window:e=F1,initialWidth:n=1/0,initialHeight:r=1/0,listenOrientation:i=!0,includeScrollbar:s=!0}=t,l=Te(n),c=Te(r),a=()=>{e&&(s?(l.value=e.innerWidth,c.value=e.innerHeight):(l.value=e.document.documentElement.clientWidth,c.value=e.document.documentElement.clientHeight))};return a(),U9(a),_s("resize",a,{passive:!0}),i&&_s("orientationchange",a,{passive:!0}),{width:l,height:c}}const cie=()=>ra&&/firefox/i.test(window.navigator.userAgent),BCe=(t,e)=>{if(!ra||!t||!e)return!1;const n=t.getBoundingClientRect();let r;return e instanceof Element?r=e.getBoundingClientRect():r={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<r.bottom&&n.bottom>r.top&&n.right>r.left&&n.left<r.right},OK=t=>{let e=0,n=t;for(;n;)e+=n.offsetTop,n=n.offsetParent;return e},wR=(t,e)=>Math.abs(OK(t)-OK(e)),$9=t=>{let e,n;return t.type==="touchend"?(n=t.changedTouches[0].clientY,e=t.changedTouches[0].clientX):t.type.startsWith("touch")?(n=t.touches[0].clientY,e=t.touches[0].clientX):(n=t.clientY,e=t.clientX),{clientX:e,clientY:n}};function MCe(t,e,n,r){const i=n-e;return t/=r/2,t<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e}var hie=typeof global=="object"&&global&&global.Object===Object&&global,ICe=typeof self=="object"&&self&&self.Object===Object&&self,uA=hie||ICe||Function("return this")(),Pf=uA.Symbol,die=Object.prototype,LCe=die.hasOwnProperty,kCe=die.toString,p4=Pf?Pf.toStringTag:void 0;function PCe(t){var e=LCe.call(t,p4),n=t[p4];try{t[p4]=void 0;var r=!0}catch{}var i=kCe.call(t);return r&&(e?t[p4]=n:delete t[p4]),i}var FCe=Object.prototype,RCe=FCe.toString;function OCe(t){return RCe.call(t)}var DCe="[object Null]",NCe="[object Undefined]",DK=Pf?Pf.toStringTag:void 0;function zy(t){return t==null?t===void 0?NCe:DCe:DK&&DK in Object(t)?PCe(t):OCe(t)}function Cm(t){return t!=null&&typeof t=="object"}var UCe="[object Symbol]";function QB(t){return typeof t=="symbol"||Cm(t)&&zy(t)==UCe}function V9(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var ch=Array.isArray,zCe=1/0,NK=Pf?Pf.prototype:void 0,UK=NK?NK.toString:void 0;function fie(t){if(typeof t=="string")return t;if(ch(t))return V9(t,fie)+"";if(QB(t))return UK?UK.call(t):"";var e=t+"";return e=="0"&&1/t==-zCe?"-0":e}var $Ce=/\s/;function VCe(t){for(var e=t.length;e--&&$Ce.test(t.charAt(e)););return e}var HCe=/^\s+/;function QCe(t){return t&&t.slice(0,VCe(t)+1).replace(HCe,"")}function hh(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var zK=NaN,jCe=/^[-+]0x[0-9a-f]+$/i,GCe=/^0b[01]+$/i,KCe=/^0o[0-7]+$/i,WCe=parseInt;function $K(t){if(typeof t=="number")return t;if(QB(t))return zK;if(hh(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=hh(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=QCe(t);var n=GCe.test(t);return n||KCe.test(t)?WCe(t.slice(2),n?2:8):jCe.test(t)?zK:+t}function H9(t){return t}var qCe="[object AsyncFunction]",YCe="[object Function]",XCe="[object GeneratorFunction]",ZCe="[object Proxy]";function Q9(t){if(!hh(t))return!1;var e=zy(t);return e==YCe||e==XCe||e==qCe||e==ZCe}var _k=uA["__core-js_shared__"],VK=function(){var t=/[^.]+$/.exec(_k&&_k.keys&&_k.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function JCe(t){return!!VK&&VK in t}var e6e=Function.prototype,t6e=e6e.toString;function $y(t){if(t!=null){try{return t6e.call(t)}catch{}try{return t+""}catch{}}return""}var n6e=/[\\^$.*+?()[\]{}|]/g,r6e=/^\[object .+?Constructor\]$/,i6e=Function.prototype,a6e=Object.prototype,s6e=i6e.toString,o6e=a6e.hasOwnProperty,l6e=RegExp("^"+s6e.call(o6e).replace(n6e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function u6e(t){if(!hh(t)||JCe(t))return!1;var e=Q9(t)?l6e:r6e;return e.test($y(t))}function c6e(t,e){return t==null?void 0:t[e]}function Vy(t,e){var n=c6e(t,e);return u6e(n)?n:void 0}var xR=Vy(uA,"WeakMap"),HK=Object.create,h6e=function(){function t(){}return function(e){if(!hh(e))return{};if(HK)return HK(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function d6e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function f6e(){}function pie(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var p6e=800,A6e=16,m6e=Date.now;function g6e(t){var e=0,n=0;return function(){var r=m6e(),i=A6e-(r-n);if(n=r,i>0){if(++e>=p6e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function v6e(t){return function(){return t}}var c8=function(){try{var t=Vy(Object,"defineProperty");return t({},"",{}),t}catch{}}(),_6e=c8?function(t,e){return c8(t,"toString",{configurable:!0,enumerable:!1,value:v6e(e),writable:!0})}:H9,Aie=g6e(_6e);function y6e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function mie(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function b6e(t){return t!==t}function w6e(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function x6e(t,e,n){return e===e?w6e(t,e,n):mie(t,b6e,n)}function C6e(t,e){var n=t==null?0:t.length;return!!n&&x6e(t,e,0)>-1}var E6e=9007199254740991,S6e=/^(?:0|[1-9]\d*)$/;function jB(t,e){var n=typeof t;return e=e??E6e,!!e&&(n=="number"||n!="symbol"&&S6e.test(t))&&t>-1&&t%1==0&&t<e}function j9(t,e,n){e=="__proto__"&&c8?c8(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function f5(t,e){return t===e||t!==t&&e!==e}var T6e=Object.prototype,B6e=T6e.hasOwnProperty;function G9(t,e,n){var r=t[e];(!(B6e.call(t,e)&&f5(r,n))||n===void 0&&!(e in t))&&j9(t,e,n)}function J2(t,e,n,r){var i=!n;n||(n={});for(var s=-1,l=e.length;++s<l;){var c=e[s],a=void 0;a===void 0&&(a=t[c]),i?j9(n,c,a):G9(n,c,a)}return n}var QK=Math.max;function gie(t,e,n){return e=QK(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=QK(r.length-e,0),l=Array(s);++i<s;)l[i]=r[e+i];i=-1;for(var c=Array(e+1);++i<e;)c[i]=r[i];return c[e]=n(l),d6e(t,this,c)}}function vie(t,e){return Aie(gie(t,e,H9),t+"")}var M6e=9007199254740991;function K9(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=M6e}function ex(t){return t!=null&&K9(t.length)&&!Q9(t)}function I6e(t,e,n){if(!hh(n))return!1;var r=typeof e;return(r=="number"?ex(n)&&jB(e,n.length):r=="string"&&e in n)?f5(n[e],t):!1}function L6e(t){return vie(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,l=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,l&&I6e(n[0],n[1],l)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var c=n[r];c&&t(e,c,r,s)}return e})}var k6e=Object.prototype;function W9(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||k6e;return t===n}function P6e(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var F6e="[object Arguments]";function jK(t){return Cm(t)&&zy(t)==F6e}var _ie=Object.prototype,R6e=_ie.hasOwnProperty,O6e=_ie.propertyIsEnumerable,a6=jK(function(){return arguments}())?jK:function(t){return Cm(t)&&R6e.call(t,"callee")&&!O6e.call(t,"callee")};function D6e(){return!1}var yie=typeof Hd=="object"&&Hd&&!Hd.nodeType&&Hd,GK=yie&&typeof Qd=="object"&&Qd&&!Qd.nodeType&&Qd,N6e=GK&&GK.exports===yie,KK=N6e?uA.Buffer:void 0,U6e=KK?KK.isBuffer:void 0,s6=U6e||D6e,z6e="[object Arguments]",$6e="[object Array]",V6e="[object Boolean]",H6e="[object Date]",Q6e="[object Error]",j6e="[object Function]",G6e="[object Map]",K6e="[object Number]",W6e="[object Object]",q6e="[object RegExp]",Y6e="[object Set]",X6e="[object String]",Z6e="[object WeakMap]",J6e="[object ArrayBuffer]",e5e="[object DataView]",t5e="[object Float32Array]",n5e="[object Float64Array]",r5e="[object Int8Array]",i5e="[object Int16Array]",a5e="[object Int32Array]",s5e="[object Uint8Array]",o5e="[object Uint8ClampedArray]",l5e="[object Uint16Array]",u5e="[object Uint32Array]",Po={};Po[t5e]=Po[n5e]=Po[r5e]=Po[i5e]=Po[a5e]=Po[s5e]=Po[o5e]=Po[l5e]=Po[u5e]=!0;Po[z6e]=Po[$6e]=Po[J6e]=Po[V6e]=Po[e5e]=Po[H6e]=Po[Q6e]=Po[j6e]=Po[G6e]=Po[K6e]=Po[W6e]=Po[q6e]=Po[Y6e]=Po[X6e]=Po[Z6e]=!1;function c5e(t){return Cm(t)&&K9(t.length)&&!!Po[zy(t)]}function q9(t){return function(e){return t(e)}}var bie=typeof Hd=="object"&&Hd&&!Hd.nodeType&&Hd,vC=bie&&typeof Qd=="object"&&Qd&&!Qd.nodeType&&Qd,h5e=vC&&vC.exports===bie,yk=h5e&&hie.process,E2=function(){try{var t=vC&&vC.require&&vC.require("util").types;return t||yk&&yk.binding&&yk.binding("util")}catch{}}(),WK=E2&&E2.isTypedArray,Y9=WK?q9(WK):c5e,d5e=Object.prototype,f5e=d5e.hasOwnProperty;function wie(t,e){var n=ch(t),r=!n&&a6(t),i=!n&&!r&&s6(t),s=!n&&!r&&!i&&Y9(t),l=n||r||i||s,c=l?P6e(t.length,String):[],a=c.length;for(var f in t)(e||f5e.call(t,f))&&!(l&&(f=="length"||i&&(f=="offset"||f=="parent")||s&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||jB(f,a)))&&c.push(f);return c}function xie(t,e){return function(n){return t(e(n))}}var p5e=xie(Object.keys,Object),A5e=Object.prototype,m5e=A5e.hasOwnProperty;function g5e(t){if(!W9(t))return p5e(t);var e=[];for(var n in Object(t))m5e.call(t,n)&&n!="constructor"&&e.push(n);return e}function p5(t){return ex(t)?wie(t):g5e(t)}function v5e(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var _5e=Object.prototype,y5e=_5e.hasOwnProperty;function b5e(t){if(!hh(t))return v5e(t);var e=W9(t),n=[];for(var r in t)r=="constructor"&&(e||!y5e.call(t,r))||n.push(r);return n}function A5(t){return ex(t)?wie(t,!0):b5e(t)}var w5e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,x5e=/^\w*$/;function X9(t,e){if(ch(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||QB(t)?!0:x5e.test(t)||!w5e.test(t)||e!=null&&t in Object(e)}var o6=Vy(Object,"create");function C5e(){this.__data__=o6?o6(null):{},this.size=0}function E5e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var S5e="__lodash_hash_undefined__",T5e=Object.prototype,B5e=T5e.hasOwnProperty;function M5e(t){var e=this.__data__;if(o6){var n=e[t];return n===S5e?void 0:n}return B5e.call(e,t)?e[t]:void 0}var I5e=Object.prototype,L5e=I5e.hasOwnProperty;function k5e(t){var e=this.__data__;return o6?e[t]!==void 0:L5e.call(e,t)}var P5e="__lodash_hash_undefined__";function F5e(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=o6&&e===void 0?P5e:e,this}function by(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}by.prototype.clear=C5e;by.prototype.delete=E5e;by.prototype.get=M5e;by.prototype.has=k5e;by.prototype.set=F5e;function R5e(){this.__data__=[],this.size=0}function GB(t,e){for(var n=t.length;n--;)if(f5(t[n][0],e))return n;return-1}var O5e=Array.prototype,D5e=O5e.splice;function N5e(t){var e=this.__data__,n=GB(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():D5e.call(e,n,1),--this.size,!0}function U5e(t){var e=this.__data__,n=GB(e,t);return n<0?void 0:e[n][1]}function z5e(t){return GB(this.__data__,t)>-1}function $5e(t,e){var n=this.__data__,r=GB(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function y0(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}y0.prototype.clear=R5e;y0.prototype.delete=N5e;y0.prototype.get=U5e;y0.prototype.has=z5e;y0.prototype.set=$5e;var l6=Vy(uA,"Map");function V5e(){this.size=0,this.__data__={hash:new by,map:new(l6||y0),string:new by}}function H5e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function KB(t,e){var n=t.__data__;return H5e(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Q5e(t){var e=KB(this,t).delete(t);return this.size-=e?1:0,e}function j5e(t){return KB(this,t).get(t)}function G5e(t){return KB(this,t).has(t)}function K5e(t,e){var n=KB(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function b0(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}b0.prototype.clear=V5e;b0.prototype.delete=Q5e;b0.prototype.get=j5e;b0.prototype.has=G5e;b0.prototype.set=K5e;var W5e="Expected a function";function WB(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(W5e);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var l=t.apply(this,r);return n.cache=s.set(i,l)||s,l};return n.cache=new(WB.Cache||b0),n}WB.Cache=b0;var q5e=500;function Y5e(t){var e=WB(t,function(r){return n.size===q5e&&n.clear(),r}),n=e.cache;return e}var X5e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Z5e=/\\(\\)?/g,J5e=Y5e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(X5e,function(n,r,i,s){e.push(i?s.replace(Z5e,"$1"):r||n)}),e});function eEe(t){return t==null?"":fie(t)}function tx(t,e){return ch(t)?t:X9(t,e)?[t]:J5e(eEe(t))}var tEe=1/0;function nx(t){if(typeof t=="string"||QB(t))return t;var e=t+"";return e=="0"&&1/t==-tEe?"-0":e}function qB(t,e){e=tx(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[nx(e[n++])];return n&&n==r?t:void 0}function Oo(t,e,n){var r=t==null?void 0:qB(t,e);return r===void 0?n:r}function Z9(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var qK=Pf?Pf.isConcatSpreadable:void 0;function nEe(t){return ch(t)||a6(t)||!!(qK&&t&&t[qK])}function m5(t,e,n,r,i){var s=-1,l=t.length;for(n||(n=nEe),i||(i=[]);++s<l;){var c=t[s];e>0&&n(c)?e>1?m5(c,e-1,n,r,i):Z9(i,c):r||(i[i.length]=c)}return i}function Cie(t){var e=t==null?0:t.length;return e?m5(t,1):[]}function Eie(t){return Aie(gie(t,void 0,Cie),t+"")}var J9=xie(Object.getPrototypeOf,Object),rEe="[object Object]",iEe=Function.prototype,aEe=Object.prototype,Sie=iEe.toString,sEe=aEe.hasOwnProperty,oEe=Sie.call(Object);function Tie(t){if(!Cm(t)||zy(t)!=rEe)return!1;var e=J9(t);if(e===null)return!0;var n=sEe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Sie.call(n)==oEe}function lEe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}function h1(){if(!arguments.length)return[];var t=arguments[0];return ch(t)?t:[t]}function uEe(){this.__data__=new y0,this.size=0}function cEe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function hEe(t){return this.__data__.get(t)}function dEe(t){return this.__data__.has(t)}var fEe=200;function pEe(t,e){var n=this.__data__;if(n instanceof y0){var r=n.__data__;if(!l6||r.length<fEe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new b0(r)}return n.set(t,e),this.size=n.size,this}function Xp(t){var e=this.__data__=new y0(t);this.size=e.size}Xp.prototype.clear=uEe;Xp.prototype.delete=cEe;Xp.prototype.get=hEe;Xp.prototype.has=dEe;Xp.prototype.set=pEe;function AEe(t,e){return t&&J2(e,p5(e),t)}function mEe(t,e){return t&&J2(e,A5(e),t)}var Bie=typeof Hd=="object"&&Hd&&!Hd.nodeType&&Hd,YK=Bie&&typeof Qd=="object"&&Qd&&!Qd.nodeType&&Qd,gEe=YK&&YK.exports===Bie,XK=gEe?uA.Buffer:void 0,ZK=XK?XK.allocUnsafe:void 0;function Mie(t,e){if(e)return t.slice();var n=t.length,r=ZK?ZK(n):new t.constructor(n);return t.copy(r),r}function vEe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var l=t[n];e(l,n,t)&&(s[i++]=l)}return s}function Iie(){return[]}var _Ee=Object.prototype,yEe=_Ee.propertyIsEnumerable,JK=Object.getOwnPropertySymbols,e7=JK?function(t){return t==null?[]:(t=Object(t),vEe(JK(t),function(e){return yEe.call(t,e)}))}:Iie;function bEe(t,e){return J2(t,e7(t),e)}var wEe=Object.getOwnPropertySymbols,Lie=wEe?function(t){for(var e=[];t;)Z9(e,e7(t)),t=J9(t);return e}:Iie;function xEe(t,e){return J2(t,Lie(t),e)}function kie(t,e,n){var r=e(t);return ch(t)?r:Z9(r,n(t))}function CR(t){return kie(t,p5,e7)}function Pie(t){return kie(t,A5,Lie)}var ER=Vy(uA,"DataView"),SR=Vy(uA,"Promise"),Ww=Vy(uA,"Set"),eW="[object Map]",CEe="[object Object]",tW="[object Promise]",nW="[object Set]",rW="[object WeakMap]",iW="[object DataView]",EEe=$y(ER),SEe=$y(l6),TEe=$y(SR),BEe=$y(Ww),MEe=$y(xR),Vp=zy;(ER&&Vp(new ER(new ArrayBuffer(1)))!=iW||l6&&Vp(new l6)!=eW||SR&&Vp(SR.resolve())!=tW||Ww&&Vp(new Ww)!=nW||xR&&Vp(new xR)!=rW)&&(Vp=function(t){var e=zy(t),n=e==CEe?t.constructor:void 0,r=n?$y(n):"";if(r)switch(r){case EEe:return iW;case SEe:return eW;case TEe:return tW;case BEe:return nW;case MEe:return rW}return e});var IEe=Object.prototype,LEe=IEe.hasOwnProperty;function kEe(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&LEe.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var h8=uA.Uint8Array;function t7(t){var e=new t.constructor(t.byteLength);return new h8(e).set(new h8(t)),e}function PEe(t,e){var n=e?t7(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var FEe=/\w*$/;function REe(t){var e=new t.constructor(t.source,FEe.exec(t));return e.lastIndex=t.lastIndex,e}var aW=Pf?Pf.prototype:void 0,sW=aW?aW.valueOf:void 0;function OEe(t){return sW?Object(sW.call(t)):{}}function Fie(t,e){var n=e?t7(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var DEe="[object Boolean]",NEe="[object Date]",UEe="[object Map]",zEe="[object Number]",$Ee="[object RegExp]",VEe="[object Set]",HEe="[object String]",QEe="[object Symbol]",jEe="[object ArrayBuffer]",GEe="[object DataView]",KEe="[object Float32Array]",WEe="[object Float64Array]",qEe="[object Int8Array]",YEe="[object Int16Array]",XEe="[object Int32Array]",ZEe="[object Uint8Array]",JEe="[object Uint8ClampedArray]",eSe="[object Uint16Array]",tSe="[object Uint32Array]";function nSe(t,e,n){var r=t.constructor;switch(e){case jEe:return t7(t);case DEe:case NEe:return new r(+t);case GEe:return PEe(t,n);case KEe:case WEe:case qEe:case YEe:case XEe:case ZEe:case JEe:case eSe:case tSe:return Fie(t,n);case UEe:return new r;case zEe:case HEe:return new r(t);case $Ee:return REe(t);case VEe:return new r;case QEe:return OEe(t)}}function Rie(t){return typeof t.constructor=="function"&&!W9(t)?h6e(J9(t)):{}}var rSe="[object Map]";function iSe(t){return Cm(t)&&Vp(t)==rSe}var oW=E2&&E2.isMap,aSe=oW?q9(oW):iSe,sSe="[object Set]";function oSe(t){return Cm(t)&&Vp(t)==sSe}var lW=E2&&E2.isSet,lSe=lW?q9(lW):oSe,uSe=1,cSe=2,hSe=4,Oie="[object Arguments]",dSe="[object Array]",fSe="[object Boolean]",pSe="[object Date]",ASe="[object Error]",Die="[object Function]",mSe="[object GeneratorFunction]",gSe="[object Map]",vSe="[object Number]",Nie="[object Object]",_Se="[object RegExp]",ySe="[object Set]",bSe="[object String]",wSe="[object Symbol]",xSe="[object WeakMap]",CSe="[object ArrayBuffer]",ESe="[object DataView]",SSe="[object Float32Array]",TSe="[object Float64Array]",BSe="[object Int8Array]",MSe="[object Int16Array]",ISe="[object Int32Array]",LSe="[object Uint8Array]",kSe="[object Uint8ClampedArray]",PSe="[object Uint16Array]",FSe="[object Uint32Array]",yo={};yo[Oie]=yo[dSe]=yo[CSe]=yo[ESe]=yo[fSe]=yo[pSe]=yo[SSe]=yo[TSe]=yo[BSe]=yo[MSe]=yo[ISe]=yo[gSe]=yo[vSe]=yo[Nie]=yo[_Se]=yo[ySe]=yo[bSe]=yo[wSe]=yo[LSe]=yo[kSe]=yo[PSe]=yo[FSe]=!0;yo[ASe]=yo[Die]=yo[xSe]=!1;function qw(t,e,n,r,i,s){var l,c=e&uSe,a=e&cSe,f=e&hSe;if(n&&(l=i?n(t,r,i,s):n(t)),l!==void 0)return l;if(!hh(t))return t;var p=ch(t);if(p){if(l=kEe(t),!c)return pie(t,l)}else{var m=Vp(t),v=m==Die||m==mSe;if(s6(t))return Mie(t,c);if(m==Nie||m==Oie||v&&!i){if(l=a||v?{}:Rie(t),!c)return a?xEe(t,mEe(l,t)):bEe(t,AEe(l,t))}else{if(!yo[m])return i?t:{};l=nSe(t,m,c)}}s||(s=new Xp);var y=s.get(t);if(y)return y;s.set(t,l),lSe(t)?t.forEach(function(k){l.add(qw(k,e,n,k,t,s))}):aSe(t)&&t.forEach(function(k,M){l.set(M,qw(k,e,n,M,t,s))});var T=f?a?Pie:CR:a?A5:p5,C=p?void 0:T(t);return y6e(C||t,function(k,M){C&&(M=k,k=t[M]),G9(l,M,qw(k,e,n,M,t,s))}),l}var RSe=4;function uW(t){return qw(t,RSe)}var OSe=1,DSe=4;function d8(t){return qw(t,OSe|DSe)}var NSe="__lodash_hash_undefined__";function USe(t){return this.__data__.set(t,NSe),this}function zSe(t){return this.__data__.has(t)}function u6(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new b0;++e<n;)this.add(t[e])}u6.prototype.add=u6.prototype.push=USe;u6.prototype.has=zSe;function $Se(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function Uie(t,e){return t.has(e)}var VSe=1,HSe=2;function zie(t,e,n,r,i,s){var l=n&VSe,c=t.length,a=e.length;if(c!=a&&!(l&&a>c))return!1;var f=s.get(t),p=s.get(e);if(f&&p)return f==e&&p==t;var m=-1,v=!0,y=n&HSe?new u6:void 0;for(s.set(t,e),s.set(e,t);++m<c;){var T=t[m],C=e[m];if(r)var k=l?r(C,T,m,e,t,s):r(T,C,m,t,e,s);if(k!==void 0){if(k)continue;v=!1;break}if(y){if(!$Se(e,function(M,P){if(!Uie(y,P)&&(T===M||i(T,M,n,r,s)))return y.push(P)})){v=!1;break}}else if(!(T===C||i(T,C,n,r,s))){v=!1;break}}return s.delete(t),s.delete(e),v}function QSe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function n7(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var jSe=1,GSe=2,KSe="[object Boolean]",WSe="[object Date]",qSe="[object Error]",YSe="[object Map]",XSe="[object Number]",ZSe="[object RegExp]",JSe="[object Set]",e3e="[object String]",t3e="[object Symbol]",n3e="[object ArrayBuffer]",r3e="[object DataView]",cW=Pf?Pf.prototype:void 0,bk=cW?cW.valueOf:void 0;function i3e(t,e,n,r,i,s,l){switch(n){case r3e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case n3e:return!(t.byteLength!=e.byteLength||!s(new h8(t),new h8(e)));case KSe:case WSe:case XSe:return f5(+t,+e);case qSe:return t.name==e.name&&t.message==e.message;case ZSe:case e3e:return t==e+"";case YSe:var c=QSe;case JSe:var a=r&jSe;if(c||(c=n7),t.size!=e.size&&!a)return!1;var f=l.get(t);if(f)return f==e;r|=GSe,l.set(t,e);var p=zie(c(t),c(e),r,i,s,l);return l.delete(t),p;case t3e:if(bk)return bk.call(t)==bk.call(e)}return!1}var a3e=1,s3e=Object.prototype,o3e=s3e.hasOwnProperty;function l3e(t,e,n,r,i,s){var l=n&a3e,c=CR(t),a=c.length,f=CR(e),p=f.length;if(a!=p&&!l)return!1;for(var m=a;m--;){var v=c[m];if(!(l?v in e:o3e.call(e,v)))return!1}var y=s.get(t),T=s.get(e);if(y&&T)return y==e&&T==t;var C=!0;s.set(t,e),s.set(e,t);for(var k=l;++m<a;){v=c[m];var M=t[v],P=e[v];if(r)var R=l?r(P,M,v,e,t,s):r(M,P,v,t,e,s);if(!(R===void 0?M===P||i(M,P,n,r,s):R)){C=!1;break}k||(k=v=="constructor")}if(C&&!k){var N=t.constructor,z=e.constructor;N!=z&&"constructor"in t&&"constructor"in e&&!(typeof N=="function"&&N instanceof N&&typeof z=="function"&&z instanceof z)&&(C=!1)}return s.delete(t),s.delete(e),C}var u3e=1,hW="[object Arguments]",dW="[object Array]",vS="[object Object]",c3e=Object.prototype,fW=c3e.hasOwnProperty;function h3e(t,e,n,r,i,s){var l=ch(t),c=ch(e),a=l?dW:Vp(t),f=c?dW:Vp(e);a=a==hW?vS:a,f=f==hW?vS:f;var p=a==vS,m=f==vS,v=a==f;if(v&&s6(t)){if(!s6(e))return!1;l=!0,p=!1}if(v&&!p)return s||(s=new Xp),l||Y9(t)?zie(t,e,n,r,i,s):i3e(t,e,a,n,r,i,s);if(!(n&u3e)){var y=p&&fW.call(t,"__wrapped__"),T=m&&fW.call(e,"__wrapped__");if(y||T){var C=y?t.value():t,k=T?e.value():e;return s||(s=new Xp),i(C,k,n,r,s)}}return v?(s||(s=new Xp),l3e(t,e,n,r,i,s)):!1}function YB(t,e,n,r,i){return t===e?!0:t==null||e==null||!Cm(t)&&!Cm(e)?t!==t&&e!==e:h3e(t,e,n,r,YB,i)}var d3e=1,f3e=2;function p3e(t,e,n,r){var i=n.length,s=i;if(t==null)return!s;for(t=Object(t);i--;){var l=n[i];if(l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<s;){l=n[i];var c=l[0],a=t[c],f=l[1];if(l[2]){if(a===void 0&&!(c in t))return!1}else{var p=new Xp,m;if(!(m===void 0?YB(f,a,d3e|f3e,r,p):m))return!1}}return!0}function $ie(t){return t===t&&!hh(t)}function A3e(t){for(var e=p5(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,$ie(i)]}return e}function Vie(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function m3e(t){var e=A3e(t);return e.length==1&&e[0][2]?Vie(e[0][0],e[0][1]):function(n){return n===t||p3e(n,t,e)}}function g3e(t,e){return t!=null&&e in Object(t)}function v3e(t,e,n){e=tx(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var l=nx(e[r]);if(!(s=t!=null&&n(t,l)))break;t=t[l]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&K9(i)&&jB(l,i)&&(ch(t)||a6(t)))}function Hie(t,e){return t!=null&&v3e(t,e,g3e)}var _3e=1,y3e=2;function b3e(t,e){return X9(t)&&$ie(e)?Vie(nx(t),e):function(n){var r=Oo(n,t);return r===void 0&&r===e?Hie(n,t):YB(e,r,_3e|y3e)}}function w3e(t){return function(e){return e==null?void 0:e[t]}}function x3e(t){return function(e){return qB(e,t)}}function C3e(t){return X9(t)?w3e(nx(t)):x3e(t)}function Qie(t){return typeof t=="function"?t:t==null?H9:typeof t=="object"?ch(t)?b3e(t[0],t[1]):m3e(t):C3e(t)}function E3e(t){return function(e,n,r){for(var i=-1,s=Object(e),l=r(e),c=l.length;c--;){var a=l[++i];if(n(s[a],a,s)===!1)break}return e}}var jie=E3e();function S3e(t,e){return t&&jie(t,e,p5)}function T3e(t,e){return function(n,r){if(n==null)return n;if(!ex(n))return t(n,r);for(var i=n.length,s=-1,l=Object(n);++s<i&&r(l[s],s,l)!==!1;);return n}}var B3e=T3e(S3e),wk=function(){return uA.Date.now()},M3e="Expected a function",I3e=Math.max,L3e=Math.min;function Wh(t,e,n){var r,i,s,l,c,a,f=0,p=!1,m=!1,v=!0;if(typeof t!="function")throw new TypeError(M3e);e=$K(e)||0,hh(n)&&(p=!!n.leading,m="maxWait"in n,s=m?I3e($K(n.maxWait)||0,e):s,v="trailing"in n?!!n.trailing:v);function y(H){var j=r,Q=i;return r=i=void 0,f=H,l=t.apply(Q,j),l}function T(H){return f=H,c=setTimeout(M,e),p?y(H):l}function C(H){var j=H-a,Q=H-f,G=e-j;return m?L3e(G,s-Q):G}function k(H){var j=H-a,Q=H-f;return a===void 0||j>=e||j<0||m&&Q>=s}function M(){var H=wk();if(k(H))return P(H);c=setTimeout(M,C(H))}function P(H){return c=void 0,v&&r?y(H):(r=i=void 0,l)}function R(){c!==void 0&&clearTimeout(c),f=0,r=a=i=c=void 0}function N(){return c===void 0?l:P(wk())}function z(){var H=wk(),j=k(H);if(r=arguments,i=this,a=H,j){if(c===void 0)return T(a);if(m)return clearTimeout(c),c=setTimeout(M,e),y(a)}return c===void 0&&(c=setTimeout(M,e)),l}return z.cancel=R,z.flush=N,z}function TR(t,e,n){(n!==void 0&&!f5(t[e],n)||n===void 0&&!(e in t))&&j9(t,e,n)}function Gie(t){return Cm(t)&&ex(t)}function BR(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function k3e(t){return J2(t,A5(t))}function P3e(t,e,n,r,i,s,l){var c=BR(t,n),a=BR(e,n),f=l.get(a);if(f){TR(t,n,f);return}var p=s?s(c,a,n+"",t,e,l):void 0,m=p===void 0;if(m){var v=ch(a),y=!v&&s6(a),T=!v&&!y&&Y9(a);p=a,v||y||T?ch(c)?p=c:Gie(c)?p=pie(c):y?(m=!1,p=Mie(a,!0)):T?(m=!1,p=Fie(a,!0)):p=[]:Tie(a)||a6(a)?(p=c,a6(c)?p=k3e(c):(!hh(c)||Q9(c))&&(p=Rie(a))):m=!1}m&&(l.set(a,p),i(p,a,r,s,l),l.delete(a)),TR(t,n,p)}function Kie(t,e,n,r,i){t!==e&&jie(e,function(s,l){if(i||(i=new Xp),hh(s))P3e(t,e,l,n,Kie,r,i);else{var c=r?r(BR(t,l),s,l+"",t,e,i):void 0;c===void 0&&(c=s),TR(t,l,c)}},A5)}function F3e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function Wie(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=r-1;return mie(t,Qie(e),i,!0)}function R3e(t,e){var n=-1,r=ex(t)?Array(t.length):[];return B3e(t,function(i,s,l){r[++n]=e(i,s,l)}),r}function O3e(t,e){var n=ch(t)?V9:R3e;return n(t,Qie(e))}function D3e(t,e){return m5(O3e(t,e),1)}var N3e=1/0;function U3e(t){var e=t==null?0:t.length;return e?m5(t,N3e):[]}function f8(t){for(var e=-1,n=t==null?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}function z3e(t,e){return e.length<2?t:qB(t,lEe(e,0,-1))}function zc(t,e){return YB(t,e)}function Cu(t){return t==null}function qie(t){return t===void 0}var $3e=L6e(function(t,e,n){Kie(t,e,n)});function V3e(t,e){return e=tx(e,t),t=z3e(t,e),t==null||delete t[nx(F3e(e))]}function H3e(t){return Tie(t)?void 0:t}var Q3e=1,j3e=2,G3e=4,K3e=Eie(function(t,e){var n={};if(t==null)return n;var r=!1;e=V9(e,function(s){return s=tx(s,t),r||(r=s.length>1),s}),J2(t,Pie(t),n),r&&(n=qw(n,Q3e|j3e|G3e,H3e));for(var i=e.length;i--;)V3e(n,e[i]);return n});function Yie(t,e,n,r){if(!hh(t))return t;e=tx(e,t);for(var i=-1,s=e.length,l=s-1,c=t;c!=null&&++i<s;){var a=nx(e[i]),f=n;if(a==="__proto__"||a==="constructor"||a==="prototype")return t;if(i!=l){var p=c[a];f=void 0,f===void 0&&(f=hh(p)?p:jB(e[i+1])?[]:{})}G9(c,a,f),c=c[a]}return t}function W3e(t,e,n){for(var r=-1,i=e.length,s={};++r<i;){var l=e[r],c=qB(t,l);n(c,l)&&Yie(s,tx(l,t),c)}return s}function q3e(t,e){return W3e(t,e,function(n,r){return Hie(t,r)})}var om=Eie(function(t,e){return t==null?{}:q3e(t,e)});function Y3e(t,e,n){return t==null?t:Yie(t,e,n)}var X3e="Expected a function";function sy(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(X3e);return hh(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Wh(t,e,{leading:r,maxWait:e,trailing:i})}var Z3e=1/0,J3e=Ww&&1/n7(new Ww([,-0]))[1]==Z3e?function(t){return new Ww(t)}:f6e,eTe=200;function tTe(t,e,n){var r=-1,i=C6e,s=t.length,l=!0,c=[],a=c;if(s>=eTe){var f=J3e(t);if(f)return n7(f);l=!1,i=Uie,a=new u6}else a=c;e:for(;++r<s;){var p=t[r],m=p;if(p=p!==0?p:0,l&&m===m){for(var v=a.length;v--;)if(a[v]===m)continue e;c.push(p)}else i(a,m,n)||(a!==c&&a.push(m),c.push(p))}return c}var xk=vie(function(t){return tTe(m5(t,1,Gie,!0))});const Zo=t=>t===void 0,Jo=t=>typeof t=="boolean",Or=t=>typeof t=="number",bf=t=>!t&&t!==0||Jn(t)&&t.length===0||mi(t)&&!Object.keys(t).length,Ff=t=>typeof Element>"u"?!1:t instanceof Element,wy=t=>Cu(t),nTe=t=>Hr(t)?!Number.isNaN(Number(t)):!1,XB=t=>t===window,d1=t=>ra?window.requestAnimationFrame(t):setTimeout(t,16),xy=t=>ra?window.cancelAnimationFrame(t):clearTimeout(t),r7=(t="")=>t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),im=t=>s5(t),S2=t=>Object.keys(t),rTe=t=>Object.entries(t),iT=(t,e,n)=>({get value(){return Oo(t,e,n)},set value(r){Y3e(t,e,r)}});class iTe extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function Ul(t,e){throw new iTe(`[${t}] ${e}`)}const Xie=(t="")=>t.split(" ").filter(e=>!!e.trim()),Lf=(t,e)=>{if(!t||!e)return!1;if(e.includes(" "))throw new Error("className should not contain space.");return t.classList.contains(e)},Cf=(t,e)=>{!t||!e.trim()||t.classList.add(...Xie(e))},$c=(t,e)=>{!t||!e.trim()||t.classList.remove(...Xie(e))},Uv=(t,e)=>{var n;if(!ra||!t||!e)return"";let r=Gd(e);r==="float"&&(r="cssFloat");try{const i=t.style[r];if(i)return i;const s=(n=document.defaultView)==null?void 0:n.getComputedStyle(t,"");return s?s[r]:""}catch{return t.style[r]}};function So(t,e="px"){if(!t)return"";if(Or(t)||nTe(t))return`${t}${e}`;if(Hr(t))return t}const aTe=(t,e)=>{if(!ra)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(e)],r=Uv(t,n);return["scroll","auto","overlay"].some(i=>r.includes(i))},i7=(t,e)=>{if(!ra)return;let n=t;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(aTe(n,e))return n;n=n.parentNode}return n};let _S;const Zie=t=>{var e;if(!ra)return 0;if(_S!==void 0)return _S;const n=document.createElement("div");n.className=`${t}-scrollbar__wrap`,n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const r=n.offsetWidth;n.style.overflow="scroll";const i=document.createElement("div");i.style.width="100%",n.appendChild(i);const s=i.offsetWidth;return(e=n.parentNode)==null||e.removeChild(n),_S=r-s,_S};function Jie(t,e){if(!ra)return;if(!e){t.scrollTop=0;return}const n=[];let r=e.offsetParent;for(;r!==null&&t!==r&&t.contains(r);)n.push(r),r=r.offsetParent;const i=e.offsetTop+n.reduce((a,f)=>a+f.offsetTop,0),s=i+e.offsetHeight,l=t.scrollTop,c=l+t.clientHeight;i<l?t.scrollTop=i:s>c&&(t.scrollTop=s-t.clientHeight)}function sTe(t,e,n,r,i){const s=Date.now();let l;const c=()=>{const f=Date.now()-s,p=MCe(f>r?r:f,e,n,r);XB(t)?t.scrollTo(window.pageXOffset,p):t.scrollTop=p,f<r?l=d1(c):typeof i=="function"&&i()};return c(),()=>{l&&xy(l)}}const pW=(t,e)=>XB(e)?t.ownerDocument.documentElement:e,AW=t=>XB(t)?window.scrollY:t.scrollTop,yS=t=>{if(!ra||t==="")return null;if(Hr(t))try{return document.querySelector(t)}catch{return null}return t};/*! Element Plus Icons Vue v2.3.1 */var oTe=Be({name:"AddLocation",__name:"add-location",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M288 896h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32"}),pe("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416M512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544"}),pe("path",{fill:"currentColor",d:"M544 384h96a32 32 0 1 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96v-96a32 32 0 0 1 64 0z"})]))}}),lTe=oTe,uTe=Be({name:"Aim",__name:"aim",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),pe("path",{fill:"currentColor",d:"M512 96a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V128a32 32 0 0 1 32-32m0 576a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V704a32 32 0 0 1 32-32M96 512a32 32 0 0 1 32-32h192a32 32 0 0 1 0 64H128a32 32 0 0 1-32-32m576 0a32 32 0 0 1 32-32h192a32 32 0 1 1 0 64H704a32 32 0 0 1-32-32"})]))}}),cTe=uTe,hTe=Be({name:"AlarmClock",__name:"alarm-clock",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 832a320 320 0 1 0 0-640 320 320 0 0 0 0 640m0 64a384 384 0 1 1 0-768 384 384 0 0 1 0 768"}),pe("path",{fill:"currentColor",d:"m292.288 824.576 55.424 32-48 83.136a32 32 0 1 1-55.424-32zm439.424 0-55.424 32 48 83.136a32 32 0 1 0 55.424-32zM512 512h160a32 32 0 1 1 0 64H480a32 32 0 0 1-32-32V320a32 32 0 0 1 64 0zM90.496 312.256A160 160 0 0 1 312.32 90.496l-46.848 46.848a96 96 0 0 0-128 128L90.56 312.256zm835.264 0A160 160 0 0 0 704 90.496l46.848 46.848a96 96 0 0 1 128 128z"})]))}}),dTe=hTe,fTe=Be({name:"Apple",__name:"apple",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M599.872 203.776a189.44 189.44 0 0 1 64.384-4.672l2.624.128c31.168 1.024 51.2 4.096 79.488 16.32 37.632 16.128 74.496 45.056 111.488 89.344 96.384 115.264 82.752 372.8-34.752 521.728-7.68 9.728-32 41.6-30.72 39.936a426.624 426.624 0 0 1-30.08 35.776c-31.232 32.576-65.28 49.216-110.08 50.048-31.36.64-53.568-5.312-84.288-18.752l-6.528-2.88c-20.992-9.216-30.592-11.904-47.296-11.904-18.112 0-28.608 2.88-51.136 12.672l-6.464 2.816c-28.416 12.224-48.32 18.048-76.16 19.2-74.112 2.752-116.928-38.08-180.672-132.16-96.64-142.08-132.608-349.312-55.04-486.4 46.272-81.92 129.92-133.632 220.672-135.04 32.832-.576 60.288 6.848 99.648 22.72 27.136 10.88 34.752 13.76 37.376 14.272 16.256-20.16 27.776-36.992 34.56-50.24 13.568-26.304 27.2-59.968 40.704-100.8a32 32 0 1 1 60.8 20.224c-12.608 37.888-25.408 70.4-38.528 97.664zm-51.52 78.08c-14.528 17.792-31.808 37.376-51.904 58.816a32 32 0 1 1-46.72-43.776l12.288-13.248c-28.032-11.2-61.248-26.688-95.68-26.112-70.4 1.088-135.296 41.6-171.648 105.792C121.6 492.608 176 684.16 247.296 788.992c34.816 51.328 76.352 108.992 130.944 106.944 52.48-2.112 72.32-34.688 135.872-34.688 63.552 0 81.28 34.688 136.96 33.536 56.448-1.088 75.776-39.04 126.848-103.872 107.904-136.768 107.904-362.752 35.776-449.088-72.192-86.272-124.672-84.096-151.68-85.12-41.472-4.288-81.6 12.544-113.664 25.152z"})]))}}),pTe=fTe,ATe=Be({name:"ArrowDownBold",__name:"arrow-down-bold",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M104.704 338.752a64 64 0 0 1 90.496 0l316.8 316.8 316.8-316.8a64 64 0 0 1 90.496 90.496L557.248 791.296a64 64 0 0 1-90.496 0L104.704 429.248a64 64 0 0 1 0-90.496z"})]))}}),mTe=ATe,gTe=Be({name:"ArrowDown",__name:"arrow-down",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),Rm=gTe,vTe=Be({name:"ArrowLeftBold",__name:"arrow-left-bold",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M685.248 104.704a64 64 0 0 1 0 90.496L368.448 512l316.8 316.8a64 64 0 0 1-90.496 90.496L232.704 557.248a64 64 0 0 1 0-90.496l362.048-362.048a64 64 0 0 1 90.496 0z"})]))}}),_Te=vTe,yTe=Be({name:"ArrowLeft",__name:"arrow-left",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}}),o0=yTe,bTe=Be({name:"ArrowRightBold",__name:"arrow-right-bold",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M338.752 104.704a64 64 0 0 0 0 90.496l316.8 316.8-316.8 316.8a64 64 0 0 0 90.496 90.496l362.048-362.048a64 64 0 0 0 0-90.496L429.248 104.704a64 64 0 0 0-90.496 0z"})]))}}),wTe=bTe,xTe=Be({name:"ArrowRight",__name:"arrow-right",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),Vc=xTe,CTe=Be({name:"ArrowUpBold",__name:"arrow-up-bold",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M104.704 685.248a64 64 0 0 0 90.496 0l316.8-316.8 316.8 316.8a64 64 0 0 0 90.496-90.496L557.248 232.704a64 64 0 0 0-90.496 0L104.704 594.752a64 64 0 0 0 0 90.496z"})]))}}),ETe=CTe,STe=Be({name:"ArrowUp",__name:"arrow-up",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),ZB=STe,TTe=Be({name:"Avatar",__name:"avatar",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M628.736 528.896A416 416 0 0 1 928 928H96a415.872 415.872 0 0 1 299.264-399.104L512 704zM720 304a208 208 0 1 1-416 0 208 208 0 0 1 416 0"})]))}}),BTe=TTe,MTe=Be({name:"Back",__name:"back",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64"}),pe("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312z"})]))}}),eae=MTe,ITe=Be({name:"Baseball",__name:"baseball",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M195.2 828.8a448 448 0 1 1 633.6-633.6 448 448 0 0 1-633.6 633.6zm45.248-45.248a384 384 0 1 0 543.104-543.104 384 384 0 0 0-543.104 543.104"}),pe("path",{fill:"currentColor",d:"M497.472 96.896c22.784 4.672 44.416 9.472 64.896 14.528a256.128 256.128 0 0 0 350.208 350.208c5.056 20.48 9.856 42.112 14.528 64.896A320.128 320.128 0 0 1 497.472 96.896zM108.48 491.904a320.128 320.128 0 0 1 423.616 423.68c-23.04-3.648-44.992-7.424-65.728-11.52a256.128 256.128 0 0 0-346.496-346.432 1736.64 1736.64 0 0 1-11.392-65.728z"})]))}}),LTe=ITe,kTe=Be({name:"Basketball",__name:"basketball",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M778.752 788.224a382.464 382.464 0 0 0 116.032-245.632 256.512 256.512 0 0 0-241.728-13.952 762.88 762.88 0 0 1 125.696 259.584zm-55.04 44.224a699.648 699.648 0 0 0-125.056-269.632 256.128 256.128 0 0 0-56.064 331.968 382.72 382.72 0 0 0 181.12-62.336m-254.08 61.248A320.128 320.128 0 0 1 557.76 513.6a715.84 715.84 0 0 0-48.192-48.128 320.128 320.128 0 0 1-379.264 88.384 382.4 382.4 0 0 0 110.144 229.696 382.4 382.4 0 0 0 229.184 110.08zM129.28 481.088a256.128 256.128 0 0 0 331.072-56.448 699.648 699.648 0 0 0-268.8-124.352 382.656 382.656 0 0 0-62.272 180.8m106.56-235.84a762.88 762.88 0 0 1 258.688 125.056 256.512 256.512 0 0 0-13.44-241.088A382.464 382.464 0 0 0 235.84 245.248zm318.08-114.944c40.576 89.536 37.76 193.92-8.448 281.344a779.84 779.84 0 0 1 66.176 66.112 320.832 320.832 0 0 1 282.112-8.128 382.4 382.4 0 0 0-110.144-229.12 382.4 382.4 0 0 0-229.632-110.208zM828.8 828.8a448 448 0 1 1-633.6-633.6 448 448 0 0 1 633.6 633.6"})]))}}),PTe=kTe,FTe=Be({name:"BellFilled",__name:"bell-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M640 832a128 128 0 0 1-256 0zm192-64H134.4a38.4 38.4 0 0 1 0-76.8H192V448c0-154.88 110.08-284.16 256.32-313.6a64 64 0 1 1 127.36 0A320.128 320.128 0 0 1 832 448v243.2h57.6a38.4 38.4 0 0 1 0 76.8z"})]))}}),RTe=FTe,OTe=Be({name:"Bell",__name:"bell",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 64a64 64 0 0 1 64 64v64H448v-64a64 64 0 0 1 64-64"}),pe("path",{fill:"currentColor",d:"M256 768h512V448a256 256 0 1 0-512 0zm256-640a320 320 0 0 1 320 320v384H192V448a320 320 0 0 1 320-320"}),pe("path",{fill:"currentColor",d:"M96 768h832q32 0 32 32t-32 32H96q-32 0-32-32t32-32m352 128h128a64 64 0 0 1-128 0"})]))}}),DTe=OTe,NTe=Be({name:"Bicycle",__name:"bicycle",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M256 832a128 128 0 1 0 0-256 128 128 0 0 0 0 256m0 64a192 192 0 1 1 0-384 192 192 0 0 1 0 384"}),pe("path",{fill:"currentColor",d:"M288 672h320q32 0 32 32t-32 32H288q-32 0-32-32t32-32"}),pe("path",{fill:"currentColor",d:"M768 832a128 128 0 1 0 0-256 128 128 0 0 0 0 256m0 64a192 192 0 1 1 0-384 192 192 0 0 1 0 384"}),pe("path",{fill:"currentColor",d:"M480 192a32 32 0 0 1 0-64h160a32 32 0 0 1 31.04 24.256l96 384a32 32 0 0 1-62.08 15.488L615.04 192zM96 384a32 32 0 0 1 0-64h128a32 32 0 0 1 30.336 21.888l64 192a32 32 0 1 1-60.672 20.224L200.96 384z"}),pe("path",{fill:"currentColor",d:"m373.376 599.808-42.752-47.616 320-288 42.752 47.616z"})]))}}),UTe=NTe,zTe=Be({name:"BottomLeft",__name:"bottom-left",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M256 768h416a32 32 0 1 1 0 64H224a32 32 0 0 1-32-32V352a32 32 0 0 1 64 0z"}),pe("path",{fill:"currentColor",d:"M246.656 822.656a32 32 0 0 1-45.312-45.312l544-544a32 32 0 0 1 45.312 45.312l-544 544z"})]))}}),$Te=zTe,VTe=Be({name:"BottomRight",__name:"bottom-right",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M352 768a32 32 0 1 0 0 64h448a32 32 0 0 0 32-32V352a32 32 0 0 0-64 0v416z"}),pe("path",{fill:"currentColor",d:"M777.344 822.656a32 32 0 0 0 45.312-45.312l-544-544a32 32 0 0 0-45.312 45.312z"})]))}}),HTe=VTe,QTe=Be({name:"Bottom",__name:"bottom",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M544 805.888V168a32 32 0 1 0-64 0v637.888L246.656 557.952a30.72 30.72 0 0 0-45.312 0 35.52 35.52 0 0 0 0 48.064l288 306.048a30.72 30.72 0 0 0 45.312 0l288-306.048a35.52 35.52 0 0 0 0-48 30.72 30.72 0 0 0-45.312 0L544 805.824z"})]))}}),jTe=QTe,GTe=Be({name:"Bowl",__name:"bowl",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M714.432 704a351.744 351.744 0 0 0 148.16-256H161.408a351.744 351.744 0 0 0 148.16 256zM288 766.592A415.68 415.68 0 0 1 96 416a32 32 0 0 1 32-32h768a32 32 0 0 1 32 32 415.68 415.68 0 0 1-192 350.592V832a64 64 0 0 1-64 64H352a64 64 0 0 1-64-64zM493.248 320h-90.496l254.4-254.4a32 32 0 1 1 45.248 45.248zm187.328 0h-128l269.696-155.712a32 32 0 0 1 32 55.424zM352 768v64h320v-64z"})]))}}),KTe=GTe,WTe=Be({name:"Box",__name:"box",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M317.056 128 128 344.064V896h768V344.064L706.944 128zm-14.528-64h418.944a32 32 0 0 1 24.064 10.88l206.528 236.096A32 32 0 0 1 960 332.032V928a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V332.032a32 32 0 0 1 7.936-21.12L278.4 75.008A32 32 0 0 1 302.528 64z"}),pe("path",{fill:"currentColor",d:"M64 320h896v64H64z"}),pe("path",{fill:"currentColor",d:"M448 327.872V640h128V327.872L526.08 128h-28.16zM448 64h128l64 256v352a32 32 0 0 1-32 32H416a32 32 0 0 1-32-32V320z"})]))}}),qTe=WTe,YTe=Be({name:"Briefcase",__name:"briefcase",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M320 320V128h384v192h192v192H128V320zM128 576h768v320H128zm256-256h256.064V192H384z"})]))}}),XTe=YTe,ZTe=Be({name:"BrushFilled",__name:"brush-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M608 704v160a96 96 0 0 1-192 0V704h-96a128 128 0 0 1-128-128h640a128 128 0 0 1-128 128zM192 512V128.064h640V512z"})]))}}),JTe=ZTe,e8e=Be({name:"Brush",__name:"brush",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M896 448H128v192a64 64 0 0 0 64 64h192v192h256V704h192a64 64 0 0 0 64-64zm-770.752-64c0-47.552 5.248-90.24 15.552-128 14.72-54.016 42.496-107.392 83.2-160h417.28l-15.36 70.336L736 96h211.2c-24.832 42.88-41.92 96.256-51.2 160a663.872 663.872 0 0 0-6.144 128H960v256a128 128 0 0 1-128 128H704v160a32 32 0 0 1-32 32H352a32 32 0 0 1-32-32V768H192A128 128 0 0 1 64 640V384h61.248zm64 0h636.544c-2.048-45.824.256-91.584 6.848-137.216 4.48-30.848 10.688-59.776 18.688-86.784h-96.64l-221.12 141.248L561.92 160H256.512c-25.856 37.888-43.776 75.456-53.952 112.832-8.768 32.064-13.248 69.12-13.312 111.168z"})]))}}),t8e=e8e,n8e=Be({name:"Burger",__name:"burger",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M160 512a32 32 0 0 0-32 32v64a32 32 0 0 0 30.08 32H864a32 32 0 0 0 32-32v-64a32 32 0 0 0-32-32zm736-58.56A96 96 0 0 1 960 544v64a96 96 0 0 1-51.968 85.312L855.36 833.6a96 96 0 0 1-89.856 62.272H258.496A96 96 0 0 1 168.64 833.6l-52.608-140.224A96 96 0 0 1 64 608v-64a96 96 0 0 1 64-90.56V448a384 384 0 1 1 768 5.44M832 448a320 320 0 0 0-640 0zM512 704H188.352l40.192 107.136a32 32 0 0 0 29.952 20.736h507.008a32 32 0 0 0 29.952-20.736L835.648 704z"})]))}}),r8e=n8e,i8e=Be({name:"Calendar",__name:"calendar",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}}),tae=i8e,a8e=Be({name:"CameraFilled",__name:"camera-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M160 224a64 64 0 0 0-64 64v512a64 64 0 0 0 64 64h704a64 64 0 0 0 64-64V288a64 64 0 0 0-64-64H748.416l-46.464-92.672A64 64 0 0 0 644.736 96H379.328a64 64 0 0 0-57.216 35.392L275.776 224zm352 435.2a115.2 115.2 0 1 0 0-230.4 115.2 115.2 0 0 0 0 230.4m0 140.8a256 256 0 1 1 0-512 256 256 0 0 1 0 512"})]))}}),s8e=a8e,o8e=Be({name:"Camera",__name:"camera",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M896 256H128v576h768zm-199.424-64-32.064-64h-304.96l-32 64zM96 192h160l46.336-92.608A64 64 0 0 1 359.552 64h304.96a64 64 0 0 1 57.216 35.328L768.192 192H928a32 32 0 0 1 32 32v640a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V224a32 32 0 0 1 32-32m416 512a160 160 0 1 0 0-320 160 160 0 0 0 0 320m0 64a224 224 0 1 1 0-448 224 224 0 0 1 0 448"})]))}}),l8e=o8e,u8e=Be({name:"CaretBottom",__name:"caret-bottom",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m192 384 320 384 320-384z"})]))}}),c8e=u8e,h8e=Be({name:"CaretLeft",__name:"caret-left",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M672 192 288 511.936 672 832z"})]))}}),d8e=h8e,f8e=Be({name:"CaretRight",__name:"caret-right",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"})]))}}),a7=f8e,p8e=Be({name:"CaretTop",__name:"caret-top",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"})]))}}),nae=p8e,A8e=Be({name:"Cellphone",__name:"cellphone",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M256 128a64 64 0 0 0-64 64v640a64 64 0 0 0 64 64h512a64 64 0 0 0 64-64V192a64 64 0 0 0-64-64zm0-64h512a128 128 0 0 1 128 128v640a128 128 0 0 1-128 128H256a128 128 0 0 1-128-128V192A128 128 0 0 1 256 64m128 128h256a32 32 0 1 1 0 64H384a32 32 0 0 1 0-64m128 640a64 64 0 1 1 0-128 64 64 0 0 1 0 128"})]))}}),m8e=A8e,g8e=Be({name:"ChatDotRound",__name:"chat-dot-round",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m174.72 855.68 135.296-45.12 23.68 11.84C388.096 849.536 448.576 864 512 864c211.84 0 384-166.784 384-352S723.84 160 512 160 128 326.784 128 512c0 69.12 24.96 139.264 70.848 199.232l22.08 28.8-46.272 115.584zm-45.248 82.56A32 32 0 0 1 89.6 896l58.368-145.92C94.72 680.32 64 596.864 64 512 64 299.904 256 96 512 96s448 203.904 448 416-192 416-448 416a461.056 461.056 0 0 1-206.912-48.384l-175.616 58.56z"}),pe("path",{fill:"currentColor",d:"M512 563.2a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4m192 0a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4m-384 0a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4"})]))}}),v8e=g8e,_8e=Be({name:"ChatDotSquare",__name:"chat-dot-square",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M273.536 736H800a64 64 0 0 0 64-64V256a64 64 0 0 0-64-64H224a64 64 0 0 0-64 64v570.88zM296 800 147.968 918.4A32 32 0 0 1 96 893.44V256a128 128 0 0 1 128-128h576a128 128 0 0 1 128 128v416a128 128 0 0 1-128 128z"}),pe("path",{fill:"currentColor",d:"M512 499.2a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4zm192 0a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4zm-384 0a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4z"})]))}}),y8e=_8e,b8e=Be({name:"ChatLineRound",__name:"chat-line-round",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m174.72 855.68 135.296-45.12 23.68 11.84C388.096 849.536 448.576 864 512 864c211.84 0 384-166.784 384-352S723.84 160 512 160 128 326.784 128 512c0 69.12 24.96 139.264 70.848 199.232l22.08 28.8-46.272 115.584zm-45.248 82.56A32 32 0 0 1 89.6 896l58.368-145.92C94.72 680.32 64 596.864 64 512 64 299.904 256 96 512 96s448 203.904 448 416-192 416-448 416a461.056 461.056 0 0 1-206.912-48.384l-175.616 58.56z"}),pe("path",{fill:"currentColor",d:"M352 576h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32m32-192h256q32 0 32 32t-32 32H384q-32 0-32-32t32-32"})]))}}),w8e=b8e,x8e=Be({name:"ChatLineSquare",__name:"chat-line-square",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M160 826.88 273.536 736H800a64 64 0 0 0 64-64V256a64 64 0 0 0-64-64H224a64 64 0 0 0-64 64zM296 800 147.968 918.4A32 32 0 0 1 96 893.44V256a128 128 0 0 1 128-128h576a128 128 0 0 1 128 128v416a128 128 0 0 1-128 128z"}),pe("path",{fill:"currentColor",d:"M352 512h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32m0-192h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32"})]))}}),C8e=x8e,E8e=Be({name:"ChatRound",__name:"chat-round",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m174.72 855.68 130.048-43.392 23.424 11.392C382.4 849.984 444.352 864 512 864c223.744 0 384-159.872 384-352 0-192.832-159.104-352-384-352S128 319.168 128 512a341.12 341.12 0 0 0 69.248 204.288l21.632 28.8-44.16 110.528zm-45.248 82.56A32 32 0 0 1 89.6 896l56.512-141.248A405.12 405.12 0 0 1 64 512C64 299.904 235.648 96 512 96s448 203.904 448 416-173.44 416-448 416c-79.68 0-150.848-17.152-211.712-46.72l-170.88 56.96z"})]))}}),S8e=E8e,T8e=Be({name:"ChatSquare",__name:"chat-square",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M273.536 736H800a64 64 0 0 0 64-64V256a64 64 0 0 0-64-64H224a64 64 0 0 0-64 64v570.88zM296 800 147.968 918.4A32 32 0 0 1 96 893.44V256a128 128 0 0 1 128-128h576a128 128 0 0 1 128 128v416a128 128 0 0 1-128 128z"})]))}}),B8e=T8e,M8e=Be({name:"Check",__name:"check",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),rx=M8e,I8e=Be({name:"Checked",__name:"checked",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M704 192h160v736H160V192h160.064v64H704zM311.616 537.28l-45.312 45.248L447.36 763.52l316.8-316.8-45.312-45.184L447.36 673.024zM384 192V96h256v96z"})]))}}),L8e=I8e,k8e=Be({name:"Cherry",__name:"cherry",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M261.056 449.6c13.824-69.696 34.88-128.96 63.36-177.728 23.744-40.832 61.12-88.64 112.256-143.872H320a32 32 0 0 1 0-64h384a32 32 0 1 1 0 64H554.752c14.912 39.168 41.344 86.592 79.552 141.76 47.36 68.48 84.8 106.752 106.304 114.304a224 224 0 1 1-84.992 14.784c-22.656-22.912-47.04-53.76-73.92-92.608-38.848-56.128-67.008-105.792-84.352-149.312-55.296 58.24-94.528 107.52-117.76 147.2-23.168 39.744-41.088 88.768-53.568 147.072a224.064 224.064 0 1 1-64.96-1.6zM288 832a160 160 0 1 0 0-320 160 160 0 0 0 0 320m448-64a160 160 0 1 0 0-320 160 160 0 0 0 0 320"})]))}}),P8e=k8e,F8e=Be({name:"Chicken",__name:"chicken",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M349.952 716.992 478.72 588.16a106.688 106.688 0 0 1-26.176-19.072 106.688 106.688 0 0 1-19.072-26.176L304.704 671.744c.768 3.072 1.472 6.144 2.048 9.216l2.048 31.936 31.872 1.984c3.136.64 6.208 1.28 9.28 2.112zm57.344 33.152a128 128 0 1 1-216.32 114.432l-1.92-32-32-1.92a128 128 0 1 1 114.432-216.32L416.64 469.248c-2.432-101.44 58.112-239.104 149.056-330.048 107.328-107.328 231.296-85.504 316.8 0 85.44 85.44 107.328 209.408 0 316.8-91.008 90.88-228.672 151.424-330.112 149.056L407.296 750.08zm90.496-226.304c49.536 49.536 233.344-7.04 339.392-113.088 78.208-78.208 63.232-163.072 0-226.304-63.168-63.232-148.032-78.208-226.24 0C504.896 290.496 448.32 474.368 497.792 523.84M244.864 708.928a64 64 0 1 0-59.84 59.84l56.32-3.52zm8.064 127.68a64 64 0 1 0 59.84-59.84l-56.32 3.52-3.52 56.32z"})]))}}),R8e=F8e,O8e=Be({name:"ChromeFilled",__name:"chrome-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M938.67 512.01c0-44.59-6.82-87.6-19.54-128H682.67a212.372 212.372 0 0 1 42.67 128c.06 38.71-10.45 76.7-30.42 109.87l-182.91 316.8c235.65-.01 426.66-191.02 426.66-426.67z"}),pe("path",{fill:"currentColor",d:"M576.79 401.63a127.92 127.92 0 0 0-63.56-17.6c-22.36-.22-44.39 5.43-63.89 16.38s-35.79 26.82-47.25 46.02a128.005 128.005 0 0 0-2.16 127.44l1.24 2.13a127.906 127.906 0 0 0 46.36 46.61 127.907 127.907 0 0 0 63.38 17.44c22.29.2 44.24-5.43 63.68-16.33a127.94 127.94 0 0 0 47.16-45.79v-.01l1.11-1.92a127.984 127.984 0 0 0 .29-127.46 127.957 127.957 0 0 0-46.36-46.91"}),pe("path",{fill:"currentColor",d:"M394.45 333.96A213.336 213.336 0 0 1 512 298.67h369.58A426.503 426.503 0 0 0 512 85.34a425.598 425.598 0 0 0-171.74 35.98 425.644 425.644 0 0 0-142.62 102.22l118.14 204.63a213.397 213.397 0 0 1 78.67-94.21m117.56 604.72H512zm-97.25-236.73a213.284 213.284 0 0 1-89.54-86.81L142.48 298.6c-36.35 62.81-57.13 135.68-57.13 213.42 0 203.81 142.93 374.22 333.95 416.55h.04l118.19-204.71a213.315 213.315 0 0 1-122.77-21.91z"})]))}}),D8e=O8e,N8e=Be({name:"CircleCheckFilled",__name:"circle-check-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),rae=N8e,U8e=Be({name:"CircleCheck",__name:"circle-check",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),pe("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),JB=U8e,z8e=Be({name:"CircleCloseFilled",__name:"circle-close-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),eM=z8e,$8e=Be({name:"CircleClose",__name:"circle-close",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),pe("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),w0=$8e,V8e=Be({name:"CirclePlusFilled",__name:"circle-plus-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-38.4 409.6H326.4a38.4 38.4 0 1 0 0 76.8h147.2v147.2a38.4 38.4 0 0 0 76.8 0V550.4h147.2a38.4 38.4 0 0 0 0-76.8H550.4V326.4a38.4 38.4 0 1 0-76.8 0v147.2z"})]))}}),H8e=V8e,Q8e=Be({name:"CirclePlus",__name:"circle-plus",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M352 480h320a32 32 0 1 1 0 64H352a32 32 0 0 1 0-64"}),pe("path",{fill:"currentColor",d:"M480 672V352a32 32 0 1 1 64 0v320a32 32 0 0 1-64 0"}),pe("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),j8e=Q8e,G8e=Be({name:"Clock",__name:"clock",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),pe("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),pe("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}}),s7=G8e,K8e=Be({name:"CloseBold",__name:"close-bold",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M195.2 195.2a64 64 0 0 1 90.496 0L512 421.504 738.304 195.2a64 64 0 0 1 90.496 90.496L602.496 512 828.8 738.304a64 64 0 0 1-90.496 90.496L512 602.496 285.696 828.8a64 64 0 0 1-90.496-90.496L421.504 512 195.2 285.696a64 64 0 0 1 0-90.496z"})]))}}),W8e=K8e,q8e=Be({name:"Close",__name:"close",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),Rf=q8e,Y8e=Be({name:"Cloudy",__name:"cloudy",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M598.4 831.872H328.192a256 256 0 0 1-34.496-510.528A352 352 0 1 1 598.4 831.872m-271.36-64h272.256a288 288 0 1 0-248.512-417.664L335.04 381.44l-34.816 3.584a192 192 0 0 0 26.88 382.848z"})]))}}),X8e=Y8e,Z8e=Be({name:"CoffeeCup",__name:"coffee-cup",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M768 192a192 192 0 1 1-8 383.808A256.128 256.128 0 0 1 512 768H320A256 256 0 0 1 64 512V160a32 32 0 0 1 32-32h640a32 32 0 0 1 32 32zm0 64v256a128 128 0 1 0 0-256M96 832h640a32 32 0 1 1 0 64H96a32 32 0 1 1 0-64m32-640v320a192 192 0 0 0 192 192h192a192 192 0 0 0 192-192V192z"})]))}}),J8e=Z8e,eBe=Be({name:"Coffee",__name:"coffee",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M822.592 192h14.272a32 32 0 0 1 31.616 26.752l21.312 128A32 32 0 0 1 858.24 384h-49.344l-39.04 546.304A32 32 0 0 1 737.92 960H285.824a32 32 0 0 1-32-29.696L214.912 384H165.76a32 32 0 0 1-31.552-37.248l21.312-128A32 32 0 0 1 187.136 192h14.016l-6.72-93.696A32 32 0 0 1 226.368 64h571.008a32 32 0 0 1 31.936 34.304zm-64.128 0 4.544-64H260.736l4.544 64h493.184m-548.16 128H820.48l-10.688-64H214.208l-10.688 64h6.784m68.736 64 36.544 512H708.16l36.544-512z"})]))}}),tBe=eBe,nBe=Be({name:"Coin",__name:"coin",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m161.92 580.736 29.888 58.88C171.328 659.776 160 681.728 160 704c0 82.304 155.328 160 352 160s352-77.696 352-160c0-22.272-11.392-44.16-31.808-64.32l30.464-58.432C903.936 615.808 928 657.664 928 704c0 129.728-188.544 224-416 224S96 833.728 96 704c0-46.592 24.32-88.576 65.92-123.264z"}),pe("path",{fill:"currentColor",d:"m161.92 388.736 29.888 58.88C171.328 467.84 160 489.792 160 512c0 82.304 155.328 160 352 160s352-77.696 352-160c0-22.272-11.392-44.16-31.808-64.32l30.464-58.432C903.936 423.808 928 465.664 928 512c0 129.728-188.544 224-416 224S96 641.728 96 512c0-46.592 24.32-88.576 65.92-123.264z"}),pe("path",{fill:"currentColor",d:"M512 544c-227.456 0-416-94.272-416-224S284.544 96 512 96s416 94.272 416 224-188.544 224-416 224m0-64c196.672 0 352-77.696 352-160S708.672 160 512 160s-352 77.696-352 160 155.328 160 352 160"})]))}}),rBe=nBe,iBe=Be({name:"ColdDrink",__name:"cold-drink",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M768 64a192 192 0 1 1-69.952 370.88L480 725.376V896h96a32 32 0 1 1 0 64H320a32 32 0 1 1 0-64h96V725.376L76.8 273.536a64 64 0 0 1-12.8-38.4v-10.688a32 32 0 0 1 32-32h71.808l-65.536-83.84a32 32 0 0 1 50.432-39.424l96.256 123.264h337.728A192.064 192.064 0 0 1 768 64M656.896 192.448H800a32 32 0 0 1 32 32v10.624a64 64 0 0 1-12.8 38.4l-80.448 107.2a128 128 0 1 0-81.92-188.16v-.064zm-357.888 64 129.472 165.76a32 32 0 0 1-50.432 39.36l-160.256-205.12H144l304 404.928 304-404.928z"})]))}}),aBe=iBe,sBe=Be({name:"CollectionTag",__name:"collection-tag",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M256 128v698.88l196.032-156.864a96 96 0 0 1 119.936 0L768 826.816V128zm-32-64h576a32 32 0 0 1 32 32v797.44a32 32 0 0 1-51.968 24.96L531.968 720a32 32 0 0 0-39.936 0L243.968 918.4A32 32 0 0 1 192 893.44V96a32 32 0 0 1 32-32"})]))}}),oBe=sBe,lBe=Be({name:"Collection",__name:"collection",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M192 736h640V128H256a64 64 0 0 0-64 64zm64-672h608a32 32 0 0 1 32 32v672a32 32 0 0 1-32 32H160l-32 57.536V192A128 128 0 0 1 256 64"}),pe("path",{fill:"currentColor",d:"M240 800a48 48 0 1 0 0 96h592v-96zm0-64h656v160a64 64 0 0 1-64 64H240a112 112 0 0 1 0-224m144-608v250.88l96-76.8 96 76.8V128zm-64-64h320v381.44a32 32 0 0 1-51.968 24.96L480 384l-108.032 86.4A32 32 0 0 1 320 445.44z"})]))}}),uBe=lBe,cBe=Be({name:"Comment",__name:"comment",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M736 504a56 56 0 1 1 0-112 56 56 0 0 1 0 112m-224 0a56 56 0 1 1 0-112 56 56 0 0 1 0 112m-224 0a56 56 0 1 1 0-112 56 56 0 0 1 0 112M128 128v640h192v160l224-160h352V128z"})]))}}),hBe=cBe,dBe=Be({name:"Compass",__name:"compass",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),pe("path",{fill:"currentColor",d:"M725.888 315.008C676.48 428.672 624 513.28 568.576 568.64c-55.424 55.424-139.968 107.904-253.568 157.312a12.8 12.8 0 0 1-16.896-16.832c49.536-113.728 102.016-198.272 157.312-253.632 55.36-55.296 139.904-107.776 253.632-157.312a12.8 12.8 0 0 1 16.832 16.832"})]))}}),fBe=dBe,pBe=Be({name:"Connection",__name:"connection",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M640 384v64H448a128 128 0 0 0-128 128v128a128 128 0 0 0 128 128h320a128 128 0 0 0 128-128V576a128 128 0 0 0-64-110.848V394.88c74.56 26.368 128 97.472 128 181.056v128a192 192 0 0 1-192 192H448a192 192 0 0 1-192-192V576a192 192 0 0 1 192-192z"}),pe("path",{fill:"currentColor",d:"M384 640v-64h192a128 128 0 0 0 128-128V320a128 128 0 0 0-128-128H256a128 128 0 0 0-128 128v128a128 128 0 0 0 64 110.848v70.272A192.064 192.064 0 0 1 64 448V320a192 192 0 0 1 192-192h320a192 192 0 0 1 192 192v128a192 192 0 0 1-192 192z"})]))}}),ABe=pBe,mBe=Be({name:"Coordinate",__name:"coordinate",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M480 512h64v320h-64z"}),pe("path",{fill:"currentColor",d:"M192 896h640a64 64 0 0 0-64-64H256a64 64 0 0 0-64 64m64-128h512a128 128 0 0 1 128 128v64H128v-64a128 128 0 0 1 128-128m256-256a192 192 0 1 0 0-384 192 192 0 0 0 0 384m0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512"})]))}}),gBe=mBe,vBe=Be({name:"CopyDocument",__name:"copy-document",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M768 832a128 128 0 0 1-128 128H192A128 128 0 0 1 64 832V384a128 128 0 0 1 128-128v64a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64z"}),pe("path",{fill:"currentColor",d:"M384 128a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64V192a64 64 0 0 0-64-64zm0-64h448a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128H384a128 128 0 0 1-128-128V192A128 128 0 0 1 384 64"})]))}}),_Be=vBe,yBe=Be({name:"Cpu",__name:"cpu",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M320 256a64 64 0 0 0-64 64v384a64 64 0 0 0 64 64h384a64 64 0 0 0 64-64V320a64 64 0 0 0-64-64zm0-64h384a128 128 0 0 1 128 128v384a128 128 0 0 1-128 128H320a128 128 0 0 1-128-128V320a128 128 0 0 1 128-128"}),pe("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v128h-64V96a32 32 0 0 1 32-32m160 0a32 32 0 0 1 32 32v128h-64V96a32 32 0 0 1 32-32m-320 0a32 32 0 0 1 32 32v128h-64V96a32 32 0 0 1 32-32m160 896a32 32 0 0 1-32-32V800h64v128a32 32 0 0 1-32 32m160 0a32 32 0 0 1-32-32V800h64v128a32 32 0 0 1-32 32m-320 0a32 32 0 0 1-32-32V800h64v128a32 32 0 0 1-32 32M64 512a32 32 0 0 1 32-32h128v64H96a32 32 0 0 1-32-32m0-160a32 32 0 0 1 32-32h128v64H96a32 32 0 0 1-32-32m0 320a32 32 0 0 1 32-32h128v64H96a32 32 0 0 1-32-32m896-160a32 32 0 0 1-32 32H800v-64h128a32 32 0 0 1 32 32m0-160a32 32 0 0 1-32 32H800v-64h128a32 32 0 0 1 32 32m0 320a32 32 0 0 1-32 32H800v-64h128a32 32 0 0 1 32 32"})]))}}),bBe=yBe,wBe=Be({name:"CreditCard",__name:"credit-card",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M896 324.096c0-42.368-2.496-55.296-9.536-68.48a52.352 52.352 0 0 0-22.144-22.08c-13.12-7.04-26.048-9.536-68.416-9.536H228.096c-42.368 0-55.296 2.496-68.48 9.536a52.352 52.352 0 0 0-22.08 22.144c-7.04 13.12-9.536 26.048-9.536 68.416v375.808c0 42.368 2.496 55.296 9.536 68.48a52.352 52.352 0 0 0 22.144 22.08c13.12 7.04 26.048 9.536 68.416 9.536h567.808c42.368 0 55.296-2.496 68.48-9.536a52.352 52.352 0 0 0 22.08-22.144c7.04-13.12 9.536-26.048 9.536-68.416zm64 0v375.808c0 57.088-5.952 77.76-17.088 98.56-11.136 20.928-27.52 37.312-48.384 48.448-20.864 11.136-41.6 17.088-98.56 17.088H228.032c-57.088 0-77.76-5.952-98.56-17.088a116.288 116.288 0 0 1-48.448-48.384c-11.136-20.864-17.088-41.6-17.088-98.56V324.032c0-57.088 5.952-77.76 17.088-98.56 11.136-20.928 27.52-37.312 48.384-48.448 20.864-11.136 41.6-17.088 98.56-17.088H795.84c57.088 0 77.76 5.952 98.56 17.088 20.928 11.136 37.312 27.52 48.448 48.384 11.136 20.864 17.088 41.6 17.088 98.56z"}),pe("path",{fill:"currentColor",d:"M64 320h896v64H64zm0 128h896v64H64zm128 192h256v64H192z"})]))}}),xBe=wBe,CBe=Be({name:"Crop",__name:"crop",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M256 768h672a32 32 0 1 1 0 64H224a32 32 0 0 1-32-32V96a32 32 0 0 1 64 0z"}),pe("path",{fill:"currentColor",d:"M832 224v704a32 32 0 1 1-64 0V256H96a32 32 0 0 1 0-64h704a32 32 0 0 1 32 32"})]))}}),EBe=CBe,SBe=Be({name:"DArrowLeft",__name:"d-arrow-left",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"})]))}}),Cy=SBe,TBe=Be({name:"DArrowRight",__name:"d-arrow-right",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"})]))}}),Ey=TBe,BBe=Be({name:"DCaret",__name:"d-caret",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m512 128 288 320H224zM224 576h576L512 896z"})]))}}),MBe=BBe,IBe=Be({name:"DataAnalysis",__name:"data-analysis",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m665.216 768 110.848 192h-73.856L591.36 768H433.024L322.176 960H248.32l110.848-192H160a32 32 0 0 1-32-32V192H64a32 32 0 0 1 0-64h896a32 32 0 1 1 0 64h-64v544a32 32 0 0 1-32 32zM832 192H192v512h640zM352 448a32 32 0 0 1 32 32v64a32 32 0 0 1-64 0v-64a32 32 0 0 1 32-32m160-64a32 32 0 0 1 32 32v128a32 32 0 0 1-64 0V416a32 32 0 0 1 32-32m160-64a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V352a32 32 0 0 1 32-32"})]))}}),LBe=IBe,kBe=Be({name:"DataBoard",__name:"data-board",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M32 128h960v64H32z"}),pe("path",{fill:"currentColor",d:"M192 192v512h640V192zm-64-64h768v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32z"}),pe("path",{fill:"currentColor",d:"M322.176 960H248.32l144.64-250.56 55.424 32zm453.888 0h-73.856L576 741.44l55.424-32z"})]))}}),PBe=kBe,FBe=Be({name:"DataLine",__name:"data-line",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M359.168 768H160a32 32 0 0 1-32-32V192H64a32 32 0 0 1 0-64h896a32 32 0 1 1 0 64h-64v544a32 32 0 0 1-32 32H665.216l110.848 192h-73.856L591.36 768H433.024L322.176 960H248.32zM832 192H192v512h640zM342.656 534.656a32 32 0 1 1-45.312-45.312L444.992 341.76l125.44 94.08L679.04 300.032a32 32 0 1 1 49.92 39.936L581.632 524.224 451.008 426.24 342.656 534.592z"})]))}}),RBe=FBe,OBe=Be({name:"DeleteFilled",__name:"delete-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M352 192V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64H96a32 32 0 0 1 0-64zm64 0h192v-64H416zM192 960a32 32 0 0 1-32-32V256h704v672a32 32 0 0 1-32 32zm224-192a32 32 0 0 0 32-32V416a32 32 0 0 0-64 0v320a32 32 0 0 0 32 32m192 0a32 32 0 0 0 32-32V416a32 32 0 0 0-64 0v320a32 32 0 0 0 32 32"})]))}}),DBe=OBe,NBe=Be({name:"DeleteLocation",__name:"delete-location",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M288 896h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32"}),pe("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416M512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544"}),pe("path",{fill:"currentColor",d:"M384 384h256q32 0 32 32t-32 32H384q-32 0-32-32t32-32"})]))}}),UBe=NBe,zBe=Be({name:"Delete",__name:"delete",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),iae=zBe,$Be=Be({name:"Dessert",__name:"dessert",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M128 416v-48a144 144 0 0 1 168.64-141.888 224.128 224.128 0 0 1 430.72 0A144 144 0 0 1 896 368v48a384 384 0 0 1-352 382.72V896h-64v-97.28A384 384 0 0 1 128 416m287.104-32.064h193.792a143.808 143.808 0 0 1 58.88-132.736 160.064 160.064 0 0 0-311.552 0 143.808 143.808 0 0 1 58.88 132.8zm-72.896 0a72 72 0 1 0-140.48 0h140.48m339.584 0h140.416a72 72 0 1 0-140.48 0zM512 736a320 320 0 0 0 318.4-288.064H193.6A320 320 0 0 0 512 736M384 896.064h256a32 32 0 1 1 0 64H384a32 32 0 1 1 0-64"})]))}}),VBe=$Be,HBe=Be({name:"Discount",__name:"discount",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M224 704h576V318.336L552.512 115.84a64 64 0 0 0-81.024 0L224 318.336zm0 64v128h576V768zM593.024 66.304l259.2 212.096A32 32 0 0 1 864 303.168V928a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V303.168a32 32 0 0 1 11.712-24.768l259.2-212.096a128 128 0 0 1 162.112 0"}),pe("path",{fill:"currentColor",d:"M512 448a64 64 0 1 0 0-128 64 64 0 0 0 0 128m0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256"})]))}}),QBe=HBe,jBe=Be({name:"DishDot",__name:"dish-dot",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m384.064 274.56.064-50.688A128 128 0 0 1 512.128 96c70.528 0 127.68 57.152 127.68 127.68v50.752A448.192 448.192 0 0 1 955.392 768H68.544A448.192 448.192 0 0 1 384 274.56zM96 832h832a32 32 0 1 1 0 64H96a32 32 0 1 1 0-64m32-128h768a384 384 0 1 0-768 0m447.808-448v-32.32a63.68 63.68 0 0 0-63.68-63.68 64 64 0 0 0-64 63.936V256z"})]))}}),GBe=jBe,KBe=Be({name:"Dish",__name:"dish",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M480 257.152V192h-96a32 32 0 0 1 0-64h256a32 32 0 1 1 0 64h-96v65.152A448 448 0 0 1 955.52 768H68.48A448 448 0 0 1 480 257.152M128 704h768a384 384 0 1 0-768 0M96 832h832a32 32 0 1 1 0 64H96a32 32 0 1 1 0-64"})]))}}),WBe=KBe,qBe=Be({name:"DocumentAdd",__name:"document-add",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m320 512V448h64v128h128v64H544v128h-64V640H352v-64z"})]))}}),YBe=qBe,XBe=Be({name:"DocumentChecked",__name:"document-checked",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M805.504 320 640 154.496V320zM832 384H576V128H192v768h640zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m318.4 582.144 180.992-180.992L704.64 510.4 478.4 736.64 320 578.304l45.248-45.312z"})]))}}),ZBe=XBe,JBe=Be({name:"DocumentCopy",__name:"document-copy",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M128 320v576h576V320zm-32-64h640a32 32 0 0 1 32 32v640a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V288a32 32 0 0 1 32-32M960 96v704a32 32 0 0 1-32 32h-96v-64h64V128H384v64h-64V96a32 32 0 0 1 32-32h576a32 32 0 0 1 32 32M256 672h320v64H256zm0-192h320v64H256z"})]))}}),eMe=JBe,tMe=Be({name:"DocumentDelete",__name:"document-delete",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M805.504 320 640 154.496V320zM832 384H576V128H192v768h640zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m308.992 546.304-90.496-90.624 45.248-45.248 90.56 90.496 90.496-90.432 45.248 45.248-90.496 90.56 90.496 90.496-45.248 45.248-90.496-90.496-90.56 90.496-45.248-45.248 90.496-90.496z"})]))}}),nMe=tMe,rMe=Be({name:"DocumentRemove",__name:"document-remove",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M805.504 320 640 154.496V320zM832 384H576V128H192v768h640zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m192 512h320v64H352z"})]))}}),iMe=rMe,aMe=Be({name:"Document",__name:"document",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),aae=aMe,sMe=Be({name:"Download",__name:"download",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M160 832h704a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64m384-253.696 236.288-236.352 45.248 45.248L508.8 704 192 387.2l45.248-45.248L480 584.704V128h64z"})]))}}),oMe=sMe,lMe=Be({name:"Drizzling",__name:"drizzling",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m739.328 291.328-35.2-6.592-12.8-33.408a192.064 192.064 0 0 0-365.952 23.232l-9.92 40.896-41.472 7.04a176.32 176.32 0 0 0-146.24 173.568c0 97.28 78.72 175.936 175.808 175.936h400a192 192 0 0 0 35.776-380.672zM959.552 480a256 256 0 0 1-256 256h-400A239.808 239.808 0 0 1 63.744 496.192a240.32 240.32 0 0 1 199.488-236.8 256.128 256.128 0 0 1 487.872-30.976A256.064 256.064 0 0 1 959.552 480M288 800h64v64h-64zm192 0h64v64h-64zm-96 96h64v64h-64zm192 0h64v64h-64zm96-96h64v64h-64z"})]))}}),uMe=lMe,cMe=Be({name:"EditPen",__name:"edit-pen",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m199.04 672.64 193.984 112 224-387.968-193.92-112-224 388.032zm-23.872 60.16 32.896 148.288 144.896-45.696zM455.04 229.248l193.92 112 56.704-98.112-193.984-112-56.64 98.112zM104.32 708.8l384-665.024 304.768 175.936L409.152 884.8h.064l-248.448 78.336zm384 254.272v-64h448v64h-448z"})]))}}),hMe=cMe,dMe=Be({name:"Edit",__name:"edit",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M832 512a32 32 0 1 1 64 0v352a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h352a32 32 0 0 1 0 64H192v640h640z"}),pe("path",{fill:"currentColor",d:"m469.952 554.24 52.8-7.552L847.104 222.4a32 32 0 1 0-45.248-45.248L477.44 501.44l-7.552 52.8zm422.4-422.4a96 96 0 0 1 0 135.808l-331.84 331.84a32 32 0 0 1-18.112 9.088L436.8 623.68a32 32 0 0 1-36.224-36.224l15.104-105.6a32 32 0 0 1 9.024-18.112l331.904-331.84a96 96 0 0 1 135.744 0z"})]))}}),fMe=dMe,pMe=Be({name:"ElemeFilled",__name:"eleme-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M176 64h672c61.824 0 112 50.176 112 112v672a112 112 0 0 1-112 112H176A112 112 0 0 1 64 848V176c0-61.824 50.176-112 112-112m150.528 173.568c-152.896 99.968-196.544 304.064-97.408 456.96a330.688 330.688 0 0 0 456.96 96.64c9.216-5.888 17.6-11.776 25.152-18.56a18.24 18.24 0 0 0 4.224-24.32L700.352 724.8a47.552 47.552 0 0 0-65.536-14.272A234.56 234.56 0 0 1 310.592 641.6C240 533.248 271.104 387.968 379.456 316.48a234.304 234.304 0 0 1 276.352 15.168c1.664.832 2.56 2.56 3.392 4.224 5.888 8.384 3.328 19.328-5.12 25.216L456.832 489.6a47.552 47.552 0 0 0-14.336 65.472l16 24.384c5.888 8.384 16.768 10.88 25.216 5.056l308.224-199.936a19.584 19.584 0 0 0 6.72-23.488v-.896c-4.992-9.216-10.048-17.6-15.104-26.88-99.968-151.168-304.064-194.88-456.96-95.744zM786.88 504.704l-62.208 40.32c-8.32 5.888-10.88 16.768-4.992 25.216L760 632.32c5.888 8.448 16.768 11.008 25.152 5.12l31.104-20.16a55.36 55.36 0 0 0 16-76.48l-20.224-31.04a19.52 19.52 0 0 0-25.152-5.12z"})]))}}),AMe=pMe,mMe=Be({name:"Eleme",__name:"eleme",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M300.032 188.8c174.72-113.28 408-63.36 522.24 109.44 5.76 10.56 11.52 20.16 17.28 30.72v.96a22.4 22.4 0 0 1-7.68 26.88l-352.32 228.48c-9.6 6.72-22.08 3.84-28.8-5.76l-18.24-27.84a54.336 54.336 0 0 1 16.32-74.88l225.6-146.88c9.6-6.72 12.48-19.2 5.76-28.8-.96-1.92-1.92-3.84-3.84-4.8a267.84 267.84 0 0 0-315.84-17.28c-123.84 81.6-159.36 247.68-78.72 371.52a268.096 268.096 0 0 0 370.56 78.72 54.336 54.336 0 0 1 74.88 16.32l17.28 26.88c5.76 9.6 3.84 21.12-4.8 27.84-8.64 7.68-18.24 14.4-28.8 21.12a377.92 377.92 0 0 1-522.24-110.4c-113.28-174.72-63.36-408 111.36-522.24zm526.08 305.28a22.336 22.336 0 0 1 28.8 5.76l23.04 35.52a63.232 63.232 0 0 1-18.24 87.36l-35.52 23.04c-9.6 6.72-22.08 3.84-28.8-5.76l-46.08-71.04c-6.72-9.6-3.84-22.08 5.76-28.8l71.04-46.08z"})]))}}),gMe=mMe,vMe=Be({name:"ElementPlus",__name:"element-plus",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M839.7 734.7c0 33.3-17.9 41-17.9 41S519.7 949.8 499.2 960c-10.2 5.1-20.5 5.1-30.7 0 0 0-314.9-184.3-325.1-192-5.1-5.1-10.2-12.8-12.8-20.5V368.6c0-17.9 20.5-28.2 20.5-28.2L466 158.6c12.8-5.1 25.6-5.1 38.4 0 0 0 279 161.3 309.8 179.2 17.9 7.7 28.2 25.6 25.6 46.1-.1-5-.1 317.5-.1 350.8M714.2 371.2c-64-35.8-217.6-125.4-217.6-125.4-7.7-5.1-20.5-5.1-30.7 0L217.6 389.1s-17.9 10.2-17.9 23v297c0 5.1 5.1 12.8 7.7 17.9 7.7 5.1 256 148.5 256 148.5 7.7 5.1 17.9 5.1 25.6 0 15.4-7.7 250.9-145.9 250.9-145.9s12.8-5.1 12.8-30.7v-74.2l-276.5 169v-64c0-17.9 7.7-30.7 20.5-46.1L745 535c5.1-7.7 10.2-20.5 10.2-30.7v-66.6l-279 169v-69.1c0-15.4 5.1-30.7 17.9-38.4l220.1-128zM919 135.7c0-5.1-5.1-7.7-7.7-7.7h-58.9V66.6c0-5.1-5.1-5.1-10.2-5.1l-30.7 5.1c-5.1 0-5.1 2.6-5.1 5.1V128h-56.3c-5.1 0-5.1 5.1-7.7 5.1v38.4h69.1v64c0 5.1 5.1 5.1 10.2 5.1l30.7-5.1c5.1 0 5.1-2.6 5.1-5.1v-56.3h64l-2.5-38.4z"})]))}}),_Me=vMe,yMe=Be({name:"Expand",__name:"expand",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M128 192h768v128H128zm0 256h512v128H128zm0 256h768v128H128zm576-352 192 160-192 128z"})]))}}),bMe=yMe,wMe=Be({name:"Failed",__name:"failed",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m557.248 608 135.744-135.744-45.248-45.248-135.68 135.744-135.808-135.68-45.248 45.184L466.752 608l-135.68 135.68 45.184 45.312L512 653.248l135.744 135.744 45.248-45.248L557.312 608zM704 192h160v736H160V192h160v64h384zm-320 0V96h256v96z"})]))}}),xMe=wMe,CMe=Be({name:"Female",__name:"female",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 640a256 256 0 1 0 0-512 256 256 0 0 0 0 512m0 64a320 320 0 1 1 0-640 320 320 0 0 1 0 640"}),pe("path",{fill:"currentColor",d:"M512 640q32 0 32 32v256q0 32-32 32t-32-32V672q0-32 32-32"}),pe("path",{fill:"currentColor",d:"M352 800h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32"})]))}}),EMe=CMe,SMe=Be({name:"Files",__name:"files",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M128 384v448h768V384zm-32-64h832a32 32 0 0 1 32 32v512a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V352a32 32 0 0 1 32-32m64-128h704v64H160zm96-128h512v64H256z"})]))}}),TMe=SMe,BMe=Be({name:"Film",__name:"film",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M160 160v704h704V160zm-32-64h768a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H128a32 32 0 0 1-32-32V128a32 32 0 0 1 32-32"}),pe("path",{fill:"currentColor",d:"M320 288V128h64v352h256V128h64v160h160v64H704v128h160v64H704v128h160v64H704v160h-64V544H384v352h-64V736H128v-64h192V544H128v-64h192V352H128v-64z"})]))}}),MMe=BMe,IMe=Be({name:"Filter",__name:"filter",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M384 523.392V928a32 32 0 0 0 46.336 28.608l192-96A32 32 0 0 0 640 832V523.392l280.768-343.104a32 32 0 1 0-49.536-40.576l-288 352A32 32 0 0 0 576 512v300.224l-128 64V512a32 32 0 0 0-7.232-20.288L195.52 192H704a32 32 0 1 0 0-64H128a32 32 0 0 0-24.768 52.288z"})]))}}),LMe=IMe,kMe=Be({name:"Finished",__name:"finished",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M280.768 753.728 691.456 167.04a32 32 0 1 1 52.416 36.672L314.24 817.472a32 32 0 0 1-45.44 7.296l-230.4-172.8a32 32 0 0 1 38.4-51.2l203.968 152.96zM736 448a32 32 0 1 1 0-64h192a32 32 0 1 1 0 64zM608 640a32 32 0 0 1 0-64h319.936a32 32 0 1 1 0 64zM480 832a32 32 0 1 1 0-64h447.936a32 32 0 1 1 0 64z"})]))}}),PMe=kMe,FMe=Be({name:"FirstAidKit",__name:"first-aid-kit",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M192 256a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V320a64 64 0 0 0-64-64zm0-64h640a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128H192A128 128 0 0 1 64 768V320a128 128 0 0 1 128-128"}),pe("path",{fill:"currentColor",d:"M544 512h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96v-96a32 32 0 0 1 64 0zM352 128v64h320v-64zm-32-64h384a32 32 0 0 1 32 32v128a32 32 0 0 1-32 32H320a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32"})]))}}),RMe=FMe,OMe=Be({name:"Flag",__name:"flag",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M288 128h608L736 384l160 256H288v320h-96V64h96z"})]))}}),DMe=OMe,NMe=Be({name:"Fold",__name:"fold",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M896 192H128v128h768zm0 256H384v128h512zm0 256H128v128h768zM320 384 128 512l192 128z"})]))}}),UMe=NMe,zMe=Be({name:"FolderAdd",__name:"folder-add",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32m384 416V416h64v128h128v64H544v128h-64V608H352v-64z"})]))}}),$Me=zMe,VMe=Be({name:"FolderChecked",__name:"folder-checked",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32m414.08 502.144 180.992-180.992L736.32 494.4 510.08 720.64l-158.4-158.336 45.248-45.312z"})]))}}),HMe=VMe,QMe=Be({name:"FolderDelete",__name:"folder-delete",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32m370.752 448-90.496-90.496 45.248-45.248L512 530.752l90.496-90.496 45.248 45.248L557.248 576l90.496 90.496-45.248 45.248L512 621.248l-90.496 90.496-45.248-45.248z"})]))}}),jMe=QMe,GMe=Be({name:"FolderOpened",__name:"folder-opened",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M878.08 448H241.92l-96 384h636.16l96-384zM832 384v-64H485.76L357.504 192H128v448l57.92-231.744A32 32 0 0 1 216.96 384zm-24.96 512H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h287.872l128.384 128H864a32 32 0 0 1 32 32v96h23.04a32 32 0 0 1 31.04 39.744l-112 448A32 32 0 0 1 807.04 896"})]))}}),KMe=GMe,WMe=Be({name:"FolderRemove",__name:"folder-remove",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32m256 416h320v64H352z"})]))}}),qMe=WMe,YMe=Be({name:"Folder",__name:"folder",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32"})]))}}),XMe=YMe,ZMe=Be({name:"Food",__name:"food",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M128 352.576V352a288 288 0 0 1 491.072-204.224 192 192 0 0 1 274.24 204.48 64 64 0 0 1 57.216 74.24C921.6 600.512 850.048 710.656 736 756.992V800a96 96 0 0 1-96 96H384a96 96 0 0 1-96-96v-43.008c-114.048-46.336-185.6-156.48-214.528-330.496A64 64 0 0 1 128 352.64zm64-.576h64a160 160 0 0 1 320 0h64a224 224 0 0 0-448 0m128 0h192a96 96 0 0 0-192 0m439.424 0h68.544A128.256 128.256 0 0 0 704 192c-15.36 0-29.952 2.688-43.52 7.616 11.328 18.176 20.672 37.76 27.84 58.304A64.128 64.128 0 0 1 759.424 352M672 768H352v32a32 32 0 0 0 32 32h256a32 32 0 0 0 32-32zm-342.528-64h365.056c101.504-32.64 165.76-124.928 192.896-288H136.576c27.136 163.072 91.392 255.36 192.896 288"})]))}}),JMe=ZMe,eIe=Be({name:"Football",__name:"football",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 960a448 448 0 1 1 0-896 448 448 0 0 1 0 896m0-64a384 384 0 1 0 0-768 384 384 0 0 0 0 768"}),pe("path",{fill:"currentColor",d:"M186.816 268.288c16-16.384 31.616-31.744 46.976-46.08 17.472 30.656 39.808 58.112 65.984 81.28l-32.512 56.448a385.984 385.984 0 0 1-80.448-91.648zm653.696-5.312a385.92 385.92 0 0 1-83.776 96.96l-32.512-56.384a322.923 322.923 0 0 0 68.48-85.76c15.552 14.08 31.488 29.12 47.808 45.184zM465.984 445.248l11.136-63.104a323.584 323.584 0 0 0 69.76 0l11.136 63.104a387.968 387.968 0 0 1-92.032 0m-62.72-12.8A381.824 381.824 0 0 1 320 396.544l32-55.424a319.885 319.885 0 0 0 62.464 27.712l-11.2 63.488zm300.8-35.84a381.824 381.824 0 0 1-83.328 35.84l-11.2-63.552A319.885 319.885 0 0 0 672 341.184l32 55.424zm-520.768 364.8a385.92 385.92 0 0 1 83.968-97.28l32.512 56.32c-26.88 23.936-49.856 52.352-67.52 84.032-16-13.44-32.32-27.712-48.96-43.072zm657.536.128a1442.759 1442.759 0 0 1-49.024 43.072 321.408 321.408 0 0 0-67.584-84.16l32.512-56.32c33.216 27.456 61.696 60.352 84.096 97.408zM465.92 578.752a387.968 387.968 0 0 1 92.032 0l-11.136 63.104a323.584 323.584 0 0 0-69.76 0zm-62.72 12.8 11.2 63.552a319.885 319.885 0 0 0-62.464 27.712L320 627.392a381.824 381.824 0 0 1 83.264-35.84zm300.8 35.84-32 55.424a318.272 318.272 0 0 0-62.528-27.712l11.2-63.488c29.44 8.64 57.28 20.736 83.264 35.776z"})]))}}),tIe=eIe,nIe=Be({name:"ForkSpoon",__name:"fork-spoon",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M256 410.304V96a32 32 0 0 1 64 0v314.304a96 96 0 0 0 64-90.56V96a32 32 0 0 1 64 0v223.744a160 160 0 0 1-128 156.8V928a32 32 0 1 1-64 0V476.544a160 160 0 0 1-128-156.8V96a32 32 0 0 1 64 0v223.744a96 96 0 0 0 64 90.56zM672 572.48C581.184 552.128 512 446.848 512 320c0-141.44 85.952-256 192-256s192 114.56 192 256c0 126.848-69.184 232.128-160 252.48V928a32 32 0 1 1-64 0zM704 512c66.048 0 128-82.56 128-192s-61.952-192-128-192-128 82.56-128 192 61.952 192 128 192"})]))}}),rIe=nIe,iIe=Be({name:"Fries",__name:"fries",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M608 224v-64a32 32 0 0 0-64 0v336h26.88A64 64 0 0 0 608 484.096zm101.12 160A64 64 0 0 0 672 395.904V384h64V224a32 32 0 1 0-64 0v160zm74.88 0a92.928 92.928 0 0 1 91.328 110.08l-60.672 323.584A96 96 0 0 1 720.32 896H303.68a96 96 0 0 1-94.336-78.336L148.672 494.08A92.928 92.928 0 0 1 240 384h-16V224a96 96 0 0 1 188.608-25.28A95.744 95.744 0 0 1 480 197.44V160a96 96 0 0 1 188.608-25.28A96 96 0 0 1 800 224v160zM670.784 512a128 128 0 0 1-99.904 48H453.12a128 128 0 0 1-99.84-48H352v-1.536a128.128 128.128 0 0 1-9.984-14.976L314.88 448H240a28.928 28.928 0 0 0-28.48 34.304L241.088 640h541.824l29.568-157.696A28.928 28.928 0 0 0 784 448h-74.88l-27.136 47.488A132.405 132.405 0 0 1 672 510.464V512zM480 288a32 32 0 0 0-64 0v196.096A64 64 0 0 0 453.12 496H480zm-128 96V224a32 32 0 0 0-64 0v160zh-37.12A64 64 0 0 1 352 395.904zm-98.88 320 19.072 101.888A32 32 0 0 0 303.68 832h416.64a32 32 0 0 0 31.488-26.112L770.88 704z"})]))}}),aIe=iIe,sIe=Be({name:"FullScreen",__name:"full-screen",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),sae=sIe,oIe=Be({name:"GobletFull",__name:"goblet-full",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M256 320h512c0-78.592-12.608-142.4-36.928-192h-434.24C269.504 192.384 256 256.256 256 320m503.936 64H264.064a256.128 256.128 0 0 0 495.872 0zM544 638.4V896h96a32 32 0 1 1 0 64H384a32 32 0 1 1 0-64h96V638.4A320 320 0 0 1 192 320c0-85.632 21.312-170.944 64-256h512c42.688 64.32 64 149.632 64 256a320 320 0 0 1-288 318.4"})]))}}),lIe=oIe,uIe=Be({name:"GobletSquareFull",__name:"goblet-square-full",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M256 270.912c10.048 6.72 22.464 14.912 28.992 18.624a220.16 220.16 0 0 0 114.752 30.72c30.592 0 49.408-9.472 91.072-41.152l.64-.448c52.928-40.32 82.368-55.04 132.288-54.656 55.552.448 99.584 20.8 142.72 57.408l1.536 1.28V128H256v142.912zm.96 76.288C266.368 482.176 346.88 575.872 512 576c157.44.064 237.952-85.056 253.248-209.984a952.32 952.32 0 0 1-40.192-35.712c-32.704-27.776-63.36-41.92-101.888-42.24-31.552-.256-50.624 9.28-93.12 41.6l-.576.448c-52.096 39.616-81.024 54.208-129.792 54.208-54.784 0-100.48-13.376-142.784-37.056zM480 638.848C250.624 623.424 192 442.496 192 319.68V96a32 32 0 0 1 32-32h576a32 32 0 0 1 32 32v224c0 122.816-58.624 303.68-288 318.912V896h96a32 32 0 1 1 0 64H384a32 32 0 1 1 0-64h96z"})]))}}),cIe=uIe,hIe=Be({name:"GobletSquare",__name:"goblet-square",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M544 638.912V896h96a32 32 0 1 1 0 64H384a32 32 0 1 1 0-64h96V638.848C250.624 623.424 192 442.496 192 319.68V96a32 32 0 0 1 32-32h576a32 32 0 0 1 32 32v224c0 122.816-58.624 303.68-288 318.912M256 319.68c0 149.568 80 256.192 256 256.256C688.128 576 768 469.568 768 320V128H256z"})]))}}),dIe=hIe,fIe=Be({name:"Goblet",__name:"goblet",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M544 638.4V896h96a32 32 0 1 1 0 64H384a32 32 0 1 1 0-64h96V638.4A320 320 0 0 1 192 320c0-85.632 21.312-170.944 64-256h512c42.688 64.32 64 149.632 64 256a320 320 0 0 1-288 318.4M256 320a256 256 0 1 0 512 0c0-78.592-12.608-142.4-36.928-192h-434.24C269.504 192.384 256 256.256 256 320"})]))}}),pIe=fIe,AIe=Be({name:"GoldMedal",__name:"gold-medal",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m772.13 452.84 53.86-351.81c1.32-10.01-1.17-18.68-7.49-26.02S804.35 64 795.01 64H228.99v-.01h-.06c-9.33 0-17.15 3.67-23.49 11.01s-8.83 16.01-7.49 26.02l53.87 351.89C213.54 505.73 193.59 568.09 192 640c2 90.67 33.17 166.17 93.5 226.5S421.33 957.99 512 960c90.67-2 166.17-33.17 226.5-93.5 60.33-60.34 91.49-135.83 93.5-226.5-1.59-71.94-21.56-134.32-59.87-187.16zM640.01 128h117.02l-39.01 254.02c-20.75-10.64-40.74-19.73-59.94-27.28-5.92-3-11.95-5.8-18.08-8.41V128h.01zM576 128v198.76c-13.18-2.58-26.74-4.43-40.67-5.55-8.07-.8-15.85-1.2-23.33-1.2-10.54 0-21.09.66-31.64 1.96a359.844 359.844 0 0 0-32.36 4.79V128zm-192 0h.04v218.3c-6.22 2.66-12.34 5.5-18.36 8.56-19.13 7.54-39.02 16.6-59.66 27.16L267.01 128zm308.99 692.99c-48 48-108.33 73-180.99 75.01-72.66-2.01-132.99-27.01-180.99-75.01S258.01 712.66 256 640c2.01-72.66 27.01-132.99 75.01-180.99 19.67-19.67 41.41-35.47 65.22-47.41 38.33-15.04 71.15-23.92 98.44-26.65 5.07-.41 10.2-.7 15.39-.88.63-.01 1.28-.03 1.91-.03.66 0 1.35.03 2.02.04 5.11.17 10.15.46 15.13.86 27.4 2.71 60.37 11.65 98.91 26.79 23.71 11.93 45.36 27.69 64.96 47.29 48 48 73 108.33 75.01 180.99-2.01 72.65-27.01 132.98-75.01 180.98z"}),pe("path",{fill:"currentColor",d:"M544 480H416v64h64v192h-64v64h192v-64h-64z"})]))}}),mIe=AIe,gIe=Be({name:"GoodsFilled",__name:"goods-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M192 352h640l64 544H128zm128 224h64V448h-64zm320 0h64V448h-64zM384 288h-64a192 192 0 1 1 384 0h-64a128 128 0 1 0-256 0"})]))}}),vIe=gIe,_Ie=Be({name:"Goods",__name:"goods",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M320 288v-22.336C320 154.688 405.504 64 512 64s192 90.688 192 201.664v22.4h131.072a32 32 0 0 1 31.808 28.8l57.6 576a32 32 0 0 1-31.808 35.2H131.328a32 32 0 0 1-31.808-35.2l57.6-576a32 32 0 0 1 31.808-28.8H320zm64 0h256v-22.336C640 189.248 582.272 128 512 128c-70.272 0-128 61.248-128 137.664v22.4zm-64 64H217.92l-51.2 512h690.56l-51.264-512H704v96a32 32 0 1 1-64 0v-96H384v96a32 32 0 0 1-64 0z"})]))}}),yIe=_Ie,bIe=Be({name:"Grape",__name:"grape",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M544 195.2a160 160 0 0 1 96 60.8 160 160 0 1 1 146.24 254.976 160 160 0 0 1-128 224 160 160 0 1 1-292.48 0 160 160 0 0 1-128-224A160 160 0 1 1 384 256a160 160 0 0 1 96-60.8V128h-64a32 32 0 0 1 0-64h192a32 32 0 0 1 0 64h-64zM512 448a96 96 0 1 0 0-192 96 96 0 0 0 0 192m-256 0a96 96 0 1 0 0-192 96 96 0 0 0 0 192m128 224a96 96 0 1 0 0-192 96 96 0 0 0 0 192m128 224a96 96 0 1 0 0-192 96 96 0 0 0 0 192m128-224a96 96 0 1 0 0-192 96 96 0 0 0 0 192m128-224a96 96 0 1 0 0-192 96 96 0 0 0 0 192"})]))}}),wIe=bIe,xIe=Be({name:"Grid",__name:"grid",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M640 384v256H384V384zm64 0h192v256H704zm-64 512H384V704h256zm64 0V704h192v192zm-64-768v192H384V128zm64 0h192v192H704zM320 384v256H128V384zm0 512H128V704h192zm0-768v192H128V128z"})]))}}),CIe=xIe,EIe=Be({name:"Guide",__name:"guide",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M640 608h-64V416h64zm0 160v160a32 32 0 0 1-32 32H416a32 32 0 0 1-32-32V768h64v128h128V768zM384 608V416h64v192zm256-352h-64V128H448v128h-64V96a32 32 0 0 1 32-32h192a32 32 0 0 1 32 32z"}),pe("path",{fill:"currentColor",d:"m220.8 256-71.232 80 71.168 80H768V256H220.8zm-14.4-64H800a32 32 0 0 1 32 32v224a32 32 0 0 1-32 32H206.4a32 32 0 0 1-23.936-10.752l-99.584-112a32 32 0 0 1 0-42.496l99.584-112A32 32 0 0 1 206.4 192m678.784 496-71.104 80H266.816V608h547.2l71.168 80zm-56.768-144H234.88a32 32 0 0 0-32 32v224a32 32 0 0 0 32 32h593.6a32 32 0 0 0 23.936-10.752l99.584-112a32 32 0 0 0 0-42.496l-99.584-112A32 32 0 0 0 828.48 544z"})]))}}),SIe=EIe,TIe=Be({name:"Handbag",__name:"handbag",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M887.01 264.99c-6-5.99-13.67-8.99-23.01-8.99H704c-1.34-54.68-20.01-100.01-56-136s-81.32-54.66-136-56c-54.68 1.34-100.01 20.01-136 56s-54.66 81.32-56 136H160c-9.35 0-17.02 3-23.01 8.99-5.99 6-8.99 13.67-8.99 23.01v640c0 9.35 2.99 17.02 8.99 23.01S150.66 960 160 960h704c9.35 0 17.02-2.99 23.01-8.99S896 937.34 896 928V288c0-9.35-2.99-17.02-8.99-23.01M421.5 165.5c24.32-24.34 54.49-36.84 90.5-37.5 35.99.68 66.16 13.18 90.5 37.5s36.84 54.49 37.5 90.5H384c.68-35.99 13.18-66.16 37.5-90.5M832 896H192V320h128v128h64V320h256v128h64V320h128z"})]))}}),BIe=TIe,MIe=Be({name:"Headset",__name:"headset",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M896 529.152V512a384 384 0 1 0-768 0v17.152A128 128 0 0 1 320 640v128a128 128 0 1 1-256 0V512a448 448 0 1 1 896 0v256a128 128 0 1 1-256 0V640a128 128 0 0 1 192-110.848M896 640a64 64 0 0 0-128 0v128a64 64 0 0 0 128 0zm-768 0v128a64 64 0 0 0 128 0V640a64 64 0 1 0-128 0"})]))}}),IIe=MIe,LIe=Be({name:"HelpFilled",__name:"help-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M926.784 480H701.312A192.512 192.512 0 0 0 544 322.688V97.216A416.064 416.064 0 0 1 926.784 480m0 64A416.064 416.064 0 0 1 544 926.784V701.312A192.512 192.512 0 0 0 701.312 544zM97.28 544h225.472A192.512 192.512 0 0 0 480 701.312v225.472A416.064 416.064 0 0 1 97.216 544zm0-64A416.064 416.064 0 0 1 480 97.216v225.472A192.512 192.512 0 0 0 322.688 480H97.216z"})]))}}),kIe=LIe,PIe=Be({name:"Help",__name:"help",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m759.936 805.248-90.944-91.008A254.912 254.912 0 0 1 512 768a254.912 254.912 0 0 1-156.992-53.76l-90.944 91.008A382.464 382.464 0 0 0 512 896c94.528 0 181.12-34.176 247.936-90.752m45.312-45.312A382.464 382.464 0 0 0 896 512c0-94.528-34.176-181.12-90.752-247.936l-91.008 90.944C747.904 398.4 768 452.864 768 512c0 59.136-20.096 113.6-53.76 156.992l91.008 90.944zm-45.312-541.184A382.464 382.464 0 0 0 512 128c-94.528 0-181.12 34.176-247.936 90.752l90.944 91.008A254.912 254.912 0 0 1 512 256c59.136 0 113.6 20.096 156.992 53.76l90.944-91.008zm-541.184 45.312A382.464 382.464 0 0 0 128 512c0 94.528 34.176 181.12 90.752 247.936l91.008-90.944A254.912 254.912 0 0 1 256 512c0-59.136 20.096-113.6 53.76-156.992zm417.28 394.496a194.56 194.56 0 0 0 22.528-22.528C686.912 602.56 704 559.232 704 512a191.232 191.232 0 0 0-67.968-146.56A191.296 191.296 0 0 0 512 320a191.232 191.232 0 0 0-146.56 67.968C337.088 421.44 320 464.768 320 512a191.232 191.232 0 0 0 67.968 146.56C421.44 686.912 464.768 704 512 704c47.296 0 90.56-17.088 124.032-45.44zM512 960a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),FIe=PIe,RIe=Be({name:"Hide",__name:"hide",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),pe("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),oae=RIe,OIe=Be({name:"Histogram",__name:"histogram",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M416 896V128h192v768zm-288 0V448h192v448zm576 0V320h192v576z"})]))}}),DIe=OIe,NIe=Be({name:"HomeFilled",__name:"home-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 128 128 447.936V896h255.936V640H640v256h255.936V447.936z"})]))}}),UIe=NIe,zIe=Be({name:"HotWater",__name:"hot-water",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M273.067 477.867h477.866V409.6H273.067zm0 68.266v51.2A187.733 187.733 0 0 0 460.8 785.067h102.4a187.733 187.733 0 0 0 187.733-187.734v-51.2H273.067zm-34.134-204.8h546.134a34.133 34.133 0 0 1 34.133 34.134v221.866a256 256 0 0 1-256 256H460.8a256 256 0 0 1-256-256V375.467a34.133 34.133 0 0 1 34.133-34.134zM512 34.133a34.133 34.133 0 0 1 34.133 34.134v170.666a34.133 34.133 0 0 1-68.266 0V68.267A34.133 34.133 0 0 1 512 34.133zM375.467 102.4a34.133 34.133 0 0 1 34.133 34.133v102.4a34.133 34.133 0 0 1-68.267 0v-102.4a34.133 34.133 0 0 1 34.134-34.133m273.066 0a34.133 34.133 0 0 1 34.134 34.133v102.4a34.133 34.133 0 1 1-68.267 0v-102.4a34.133 34.133 0 0 1 34.133-34.133M170.667 921.668h682.666a34.133 34.133 0 1 1 0 68.267H170.667a34.133 34.133 0 1 1 0-68.267z"})]))}}),$Ie=zIe,VIe=Be({name:"House",__name:"house",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M192 413.952V896h640V413.952L512 147.328zM139.52 374.4l352-293.312a32 32 0 0 1 40.96 0l352 293.312A32 32 0 0 1 896 398.976V928a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V398.976a32 32 0 0 1 11.52-24.576"})]))}}),HIe=VIe,QIe=Be({name:"IceCreamRound",__name:"ice-cream-round",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m308.352 489.344 226.304 226.304a32 32 0 0 0 45.248 0L783.552 512A192 192 0 1 0 512 240.448L308.352 444.16a32 32 0 0 0 0 45.248zm135.744 226.304L308.352 851.392a96 96 0 0 1-135.744-135.744l135.744-135.744-45.248-45.248a96 96 0 0 1 0-135.808L466.752 195.2A256 256 0 0 1 828.8 557.248L625.152 760.96a96 96 0 0 1-135.808 0l-45.248-45.248zM398.848 670.4 353.6 625.152 217.856 760.896a32 32 0 0 0 45.248 45.248zm248.96-384.64a32 32 0 0 1 0 45.248L466.624 512a32 32 0 1 1-45.184-45.248l180.992-181.056a32 32 0 0 1 45.248 0zm90.496 90.496a32 32 0 0 1 0 45.248L557.248 602.496A32 32 0 1 1 512 557.248l180.992-180.992a32 32 0 0 1 45.312 0z"})]))}}),jIe=QIe,GIe=Be({name:"IceCreamSquare",__name:"ice-cream-square",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M416 640h256a32 32 0 0 0 32-32V160a32 32 0 0 0-32-32H352a32 32 0 0 0-32 32v448a32 32 0 0 0 32 32zm192 64v160a96 96 0 0 1-192 0V704h-64a96 96 0 0 1-96-96V160a96 96 0 0 1 96-96h320a96 96 0 0 1 96 96v448a96 96 0 0 1-96 96zm-64 0h-64v160a32 32 0 1 0 64 0z"})]))}}),KIe=GIe,WIe=Be({name:"IceCream",__name:"ice-cream",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M128.64 448a208 208 0 0 1 193.536-191.552 224 224 0 0 1 445.248 15.488A208.128 208.128 0 0 1 894.784 448H896L548.8 983.68a32 32 0 0 1-53.248.704L128 448zm64.256 0h286.208a144 144 0 0 0-286.208 0zm351.36 0h286.272a144 144 0 0 0-286.272 0zm-294.848 64 271.808 396.608L778.24 512H249.408zM511.68 352.64a207.872 207.872 0 0 1 189.184-96.192 160 160 0 0 0-314.752 5.632c52.608 12.992 97.28 46.08 125.568 90.56"})]))}}),qIe=WIe,YIe=Be({name:"IceDrink",__name:"ice-drink",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 448v128h239.68l16.064-128zm-64 0H256.256l16.064 128H448zm64-255.36V384h247.744A256.128 256.128 0 0 0 512 192.64m-64 8.064A256.448 256.448 0 0 0 264.256 384H448zm64-72.064A320.128 320.128 0 0 1 825.472 384H896a32 32 0 1 1 0 64h-64v1.92l-56.96 454.016A64 64 0 0 1 711.552 960H312.448a64 64 0 0 1-63.488-56.064L192 449.92V448h-64a32 32 0 0 1 0-64h70.528A320.384 320.384 0 0 1 448 135.04V96a96 96 0 0 1 96-96h128a32 32 0 1 1 0 64H544a32 32 0 0 0-32 32zM743.68 640H280.32l32.128 256h399.104z"})]))}}),XIe=YIe,ZIe=Be({name:"IceTea",__name:"ice-tea",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M197.696 259.648a320.128 320.128 0 0 1 628.608 0A96 96 0 0 1 896 352v64a96 96 0 0 1-71.616 92.864l-49.408 395.072A64 64 0 0 1 711.488 960H312.512a64 64 0 0 1-63.488-56.064l-49.408-395.072A96 96 0 0 1 128 416v-64a96 96 0 0 1 69.696-92.352M264.064 256h495.872a256.128 256.128 0 0 0-495.872 0m495.424 256H264.512l48 384h398.976zM224 448h576a32 32 0 0 0 32-32v-64a32 32 0 0 0-32-32H224a32 32 0 0 0-32 32v64a32 32 0 0 0 32 32m160 192h64v64h-64zm192 64h64v64h-64zm-128 64h64v64h-64zm64-192h64v64h-64z"})]))}}),JIe=ZIe,eLe=Be({name:"InfoFilled",__name:"info-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),tM=eLe,tLe=Be({name:"Iphone",__name:"iphone",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M224 768v96.064a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64V768zm0-64h576V160a64 64 0 0 0-64-64H288a64 64 0 0 0-64 64zm32 288a96 96 0 0 1-96-96V128a96 96 0 0 1 96-96h512a96 96 0 0 1 96 96v768a96 96 0 0 1-96 96zm304-144a48 48 0 1 1-96 0 48 48 0 0 1 96 0"})]))}}),nLe=tLe,rLe=Be({name:"Key",__name:"key",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M448 456.064V96a32 32 0 0 1 32-32.064L672 64a32 32 0 0 1 0 64H512v128h160a32 32 0 0 1 0 64H512v128a256 256 0 1 1-64 8.064M512 896a192 192 0 1 0 0-384 192 192 0 0 0 0 384"})]))}}),iLe=rLe,aLe=Be({name:"KnifeFork",__name:"knife-fork",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M256 410.56V96a32 32 0 0 1 64 0v314.56A96 96 0 0 0 384 320V96a32 32 0 0 1 64 0v224a160 160 0 0 1-128 156.8V928a32 32 0 1 1-64 0V476.8A160 160 0 0 1 128 320V96a32 32 0 0 1 64 0v224a96 96 0 0 0 64 90.56m384-250.24V544h126.72c-3.328-78.72-12.928-147.968-28.608-207.744-14.336-54.528-46.848-113.344-98.112-175.872zM640 608v320a32 32 0 1 1-64 0V64h64c85.312 89.472 138.688 174.848 160 256 21.312 81.152 32 177.152 32 288z"})]))}}),sLe=aLe,oLe=Be({name:"Lightning",__name:"lightning",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M288 671.36v64.128A239.808 239.808 0 0 1 63.744 496.192a240.32 240.32 0 0 1 199.488-236.8 256.128 256.128 0 0 1 487.872-30.976A256.064 256.064 0 0 1 736 734.016v-64.768a192 192 0 0 0 3.328-377.92l-35.2-6.592-12.8-33.408a192.064 192.064 0 0 0-365.952 23.232l-9.92 40.896-41.472 7.04a176.32 176.32 0 0 0-146.24 173.568c0 91.968 70.464 167.36 160.256 175.232z"}),pe("path",{fill:"currentColor",d:"M416 736a32 32 0 0 1-27.776-47.872l128-224a32 32 0 1 1 55.552 31.744L471.168 672H608a32 32 0 0 1 27.776 47.872l-128 224a32 32 0 1 1-55.68-31.744L552.96 736z"})]))}}),lLe=oLe,uLe=Be({name:"Link",__name:"link",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M715.648 625.152 670.4 579.904l90.496-90.56c75.008-74.944 85.12-186.368 22.656-248.896-62.528-62.464-173.952-52.352-248.96 22.656L444.16 353.6l-45.248-45.248 90.496-90.496c100.032-99.968 251.968-110.08 339.456-22.656 87.488 87.488 77.312 239.424-22.656 339.456l-90.496 90.496zm-90.496 90.496-90.496 90.496C434.624 906.112 282.688 916.224 195.2 828.8c-87.488-87.488-77.312-239.424 22.656-339.456l90.496-90.496 45.248 45.248-90.496 90.56c-75.008 74.944-85.12 186.368-22.656 248.896 62.528 62.464 173.952 52.352 248.96-22.656l90.496-90.496zm0-362.048 45.248 45.248L398.848 670.4 353.6 625.152z"})]))}}),cLe=uLe,hLe=Be({name:"List",__name:"list",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M704 192h160v736H160V192h160v64h384zM288 512h448v-64H288zm0 256h448v-64H288zm96-576V96h256v96z"})]))}}),dLe=hLe,fLe=Be({name:"Loading",__name:"loading",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),x0=fLe,pLe=Be({name:"LocationFilled",__name:"location-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 928c23.936 0 117.504-68.352 192.064-153.152C803.456 661.888 864 535.808 864 416c0-189.632-155.84-320-352-320S160 226.368 160 416c0 120.32 60.544 246.4 159.936 359.232C394.432 859.84 488 928 512 928m0-435.2a64 64 0 1 0 0-128 64 64 0 0 0 0 128m0 140.8a204.8 204.8 0 1 1 0-409.6 204.8 204.8 0 0 1 0 409.6"})]))}}),ALe=pLe,mLe=Be({name:"LocationInformation",__name:"location-information",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M288 896h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32"}),pe("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416M512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544"}),pe("path",{fill:"currentColor",d:"M512 512a96 96 0 1 0 0-192 96 96 0 0 0 0 192m0 64a160 160 0 1 1 0-320 160 160 0 0 1 0 320"})]))}}),gLe=mLe,vLe=Be({name:"Location",__name:"location",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416M512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544"}),pe("path",{fill:"currentColor",d:"M512 512a96 96 0 1 0 0-192 96 96 0 0 0 0 192m0 64a160 160 0 1 1 0-320 160 160 0 0 1 0 320"})]))}}),_Le=vLe,yLe=Be({name:"Lock",__name:"lock",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M224 448a32 32 0 0 0-32 32v384a32 32 0 0 0 32 32h576a32 32 0 0 0 32-32V480a32 32 0 0 0-32-32zm0-64h576a96 96 0 0 1 96 96v384a96 96 0 0 1-96 96H224a96 96 0 0 1-96-96V480a96 96 0 0 1 96-96"}),pe("path",{fill:"currentColor",d:"M512 544a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V576a32 32 0 0 1 32-32m192-160v-64a192 192 0 1 0-384 0v64zM512 64a256 256 0 0 1 256 256v128H256V320A256 256 0 0 1 512 64"})]))}}),bLe=yLe,wLe=Be({name:"Lollipop",__name:"lollipop",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M513.28 448a64 64 0 1 1 76.544 49.728A96 96 0 0 0 768 448h64a160 160 0 0 1-320 0zm-126.976-29.696a256 256 0 1 0 43.52-180.48A256 256 0 0 1 832 448h-64a192 192 0 0 0-381.696-29.696m105.664 249.472L285.696 874.048a96 96 0 0 1-135.68-135.744l206.208-206.272a320 320 0 1 1 135.744 135.744zm-54.464-36.032a321.92 321.92 0 0 1-45.248-45.248L195.2 783.552a32 32 0 1 0 45.248 45.248l197.056-197.12z"})]))}}),xLe=wLe,CLe=Be({name:"MagicStick",__name:"magic-stick",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 64h64v192h-64zm0 576h64v192h-64zM160 480v-64h192v64zm576 0v-64h192v64zM249.856 199.04l45.248-45.184L430.848 289.6 385.6 334.848 249.856 199.104zM657.152 606.4l45.248-45.248 135.744 135.744-45.248 45.248zM114.048 923.2 68.8 877.952l316.8-316.8 45.248 45.248zM702.4 334.848 657.152 289.6l135.744-135.744 45.248 45.248z"})]))}}),ELe=CLe,SLe=Be({name:"Magnet",__name:"magnet",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M832 320V192H704v320a192 192 0 1 1-384 0V192H192v128h128v64H192v128a320 320 0 0 0 640 0V384H704v-64zM640 512V128h256v384a384 384 0 1 1-768 0V128h256v384a128 128 0 1 0 256 0"})]))}}),TLe=SLe,BLe=Be({name:"Male",__name:"male",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M399.5 849.5a225 225 0 1 0 0-450 225 225 0 0 0 0 450m0 56.25a281.25 281.25 0 1 1 0-562.5 281.25 281.25 0 0 1 0 562.5m253.125-787.5h225q28.125 0 28.125 28.125T877.625 174.5h-225q-28.125 0-28.125-28.125t28.125-28.125"}),pe("path",{fill:"currentColor",d:"M877.625 118.25q28.125 0 28.125 28.125v225q0 28.125-28.125 28.125T849.5 371.375v-225q0-28.125 28.125-28.125"}),pe("path",{fill:"currentColor",d:"M604.813 458.9 565.1 419.131l292.613-292.668 39.825 39.824z"})]))}}),MLe=BLe,ILe=Be({name:"Management",__name:"management",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M576 128v288l96-96 96 96V128h128v768H320V128zm-448 0h128v768H128z"})]))}}),LLe=ILe,kLe=Be({name:"MapLocation",__name:"map-location",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416M512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544"}),pe("path",{fill:"currentColor",d:"M512 448a64 64 0 1 0 0-128 64 64 0 0 0 0 128m0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256m345.6 192L960 960H672v-64H352v64H64l102.4-256zm-68.928 0H235.328l-76.8 192h706.944z"})]))}}),PLe=kLe,FLe=Be({name:"Medal",__name:"medal",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 896a256 256 0 1 0 0-512 256 256 0 0 0 0 512m0 64a320 320 0 1 1 0-640 320 320 0 0 1 0 640"}),pe("path",{fill:"currentColor",d:"M576 128H448v200a286.72 286.72 0 0 1 64-8c19.52 0 40.832 2.688 64 8zm64 0v219.648c24.448 9.088 50.56 20.416 78.4 33.92L757.44 128zm-256 0H266.624l39.04 253.568c27.84-13.504 53.888-24.832 78.336-33.92V128zM229.312 64h565.376a32 32 0 0 1 31.616 36.864L768 480c-113.792-64-199.104-96-256-96-56.896 0-142.208 32-256 96l-58.304-379.136A32 32 0 0 1 229.312 64"})]))}}),RLe=FLe,OLe=Be({name:"Memo",__name:"memo",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M480 320h192c21.33 0 32-10.67 32-32s-10.67-32-32-32H480c-21.33 0-32 10.67-32 32s10.67 32 32 32"}),pe("path",{fill:"currentColor",d:"M887.01 72.99C881.01 67 873.34 64 864 64H160c-9.35 0-17.02 3-23.01 8.99C131 78.99 128 86.66 128 96v832c0 9.35 2.99 17.02 8.99 23.01S150.66 960 160 960h704c9.35 0 17.02-2.99 23.01-8.99S896 937.34 896 928V96c0-9.35-3-17.02-8.99-23.01M192 896V128h96v768zm640 0H352V128h480z"}),pe("path",{fill:"currentColor",d:"M480 512h192c21.33 0 32-10.67 32-32s-10.67-32-32-32H480c-21.33 0-32 10.67-32 32s10.67 32 32 32m0 192h192c21.33 0 32-10.67 32-32s-10.67-32-32-32H480c-21.33 0-32 10.67-32 32s10.67 32 32 32"})]))}}),DLe=OLe,NLe=Be({name:"Menu",__name:"menu",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M160 448a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32zm448 0a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32zM160 896a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32zm448 0a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32z"})]))}}),ULe=NLe,zLe=Be({name:"MessageBox",__name:"message-box",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M288 384h448v64H288zm96-128h256v64H384zM131.456 512H384v128h256V512h252.544L721.856 192H302.144zM896 576H704v128H320V576H128v256h768zM275.776 128h472.448a32 32 0 0 1 28.608 17.664l179.84 359.552A32 32 0 0 1 960 519.552V864a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V519.552a32 32 0 0 1 3.392-14.336l179.776-359.552A32 32 0 0 1 275.776 128z"})]))}}),$Le=zLe,VLe=Be({name:"Message",__name:"message",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M128 224v512a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V224zm0-64h768a64 64 0 0 1 64 64v512a128 128 0 0 1-128 128H192A128 128 0 0 1 64 736V224a64 64 0 0 1 64-64"}),pe("path",{fill:"currentColor",d:"M904 224 656.512 506.88a192 192 0 0 1-289.024 0L120 224zm-698.944 0 210.56 240.704a128 128 0 0 0 192.704 0L818.944 224H205.056"})]))}}),HLe=VLe,QLe=Be({name:"Mic",__name:"mic",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M480 704h160a64 64 0 0 0 64-64v-32h-96a32 32 0 0 1 0-64h96v-96h-96a32 32 0 0 1 0-64h96v-96h-96a32 32 0 0 1 0-64h96v-32a64 64 0 0 0-64-64H384a64 64 0 0 0-64 64v32h96a32 32 0 0 1 0 64h-96v96h96a32 32 0 0 1 0 64h-96v96h96a32 32 0 0 1 0 64h-96v32a64 64 0 0 0 64 64zm64 64v128h192a32 32 0 1 1 0 64H288a32 32 0 1 1 0-64h192V768h-96a128 128 0 0 1-128-128V192A128 128 0 0 1 384 64h256a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128z"})]))}}),jLe=QLe,GLe=Be({name:"Microphone",__name:"microphone",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 128a128 128 0 0 0-128 128v256a128 128 0 1 0 256 0V256a128 128 0 0 0-128-128m0-64a192 192 0 0 1 192 192v256a192 192 0 1 1-384 0V256A192 192 0 0 1 512 64m-32 832v-64a288 288 0 0 1-288-288v-32a32 32 0 0 1 64 0v32a224 224 0 0 0 224 224h64a224 224 0 0 0 224-224v-32a32 32 0 1 1 64 0v32a288 288 0 0 1-288 288v64h64a32 32 0 1 1 0 64H416a32 32 0 1 1 0-64z"})]))}}),KLe=GLe,WLe=Be({name:"MilkTea",__name:"milk-tea",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M416 128V96a96 96 0 0 1 96-96h128a32 32 0 1 1 0 64H512a32 32 0 0 0-32 32v32h320a96 96 0 0 1 11.712 191.296l-39.68 581.056A64 64 0 0 1 708.224 960H315.776a64 64 0 0 1-63.872-59.648l-39.616-581.056A96 96 0 0 1 224 128zM276.48 320l39.296 576h392.448l4.8-70.784a224.064 224.064 0 0 1 30.016-439.808L747.52 320zM224 256h576a32 32 0 1 0 0-64H224a32 32 0 0 0 0 64m493.44 503.872 21.12-309.12a160 160 0 0 0-21.12 309.12"})]))}}),qLe=WLe,YLe=Be({name:"Minus",__name:"minus",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),lae=YLe,XLe=Be({name:"Money",__name:"money",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M256 640v192h640V384H768v-64h150.976c14.272 0 19.456 1.472 24.64 4.288a29.056 29.056 0 0 1 12.16 12.096c2.752 5.184 4.224 10.368 4.224 24.64v493.952c0 14.272-1.472 19.456-4.288 24.64a29.056 29.056 0 0 1-12.096 12.16c-5.184 2.752-10.368 4.224-24.64 4.224H233.024c-14.272 0-19.456-1.472-24.64-4.288a29.056 29.056 0 0 1-12.16-12.096c-2.688-5.184-4.224-10.368-4.224-24.576V640z"}),pe("path",{fill:"currentColor",d:"M768 192H128v448h640zm64-22.976v493.952c0 14.272-1.472 19.456-4.288 24.64a29.056 29.056 0 0 1-12.096 12.16c-5.184 2.752-10.368 4.224-24.64 4.224H105.024c-14.272 0-19.456-1.472-24.64-4.288a29.056 29.056 0 0 1-12.16-12.096C65.536 682.432 64 677.248 64 663.04V169.024c0-14.272 1.472-19.456 4.288-24.64a29.056 29.056 0 0 1 12.096-12.16C85.568 129.536 90.752 128 104.96 128h685.952c14.272 0 19.456 1.472 24.64 4.288a29.056 29.056 0 0 1 12.16 12.096c2.752 5.184 4.224 10.368 4.224 24.64z"}),pe("path",{fill:"currentColor",d:"M448 576a160 160 0 1 1 0-320 160 160 0 0 1 0 320m0-64a96 96 0 1 0 0-192 96 96 0 0 0 0 192"})]))}}),ZLe=XLe,JLe=Be({name:"Monitor",__name:"monitor",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M544 768v128h192a32 32 0 1 1 0 64H288a32 32 0 1 1 0-64h192V768H192A128 128 0 0 1 64 640V256a128 128 0 0 1 128-128h640a128 128 0 0 1 128 128v384a128 128 0 0 1-128 128zM192 192a64 64 0 0 0-64 64v384a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V256a64 64 0 0 0-64-64z"})]))}}),eke=JLe,tke=Be({name:"MoonNight",__name:"moon-night",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M384 512a448 448 0 0 1 215.872-383.296A384 384 0 0 0 213.76 640h188.8A448.256 448.256 0 0 1 384 512M171.136 704a448 448 0 0 1 636.992-575.296A384 384 0 0 0 499.328 704h-328.32z"}),pe("path",{fill:"currentColor",d:"M32 640h960q32 0 32 32t-32 32H32q-32 0-32-32t32-32m128 128h384a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64m160 127.68 224 .256a32 32 0 0 1 32 32V928a32 32 0 0 1-32 32l-224-.384a32 32 0 0 1-32-32v-.064a32 32 0 0 1 32-32z"})]))}}),nke=tke,rke=Be({name:"Moon",__name:"moon",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M240.448 240.448a384 384 0 1 0 559.424 525.696 448 448 0 0 1-542.016-542.08 390.592 390.592 0 0 0-17.408 16.384zm181.056 362.048a384 384 0 0 0 525.632 16.384A448 448 0 1 1 405.056 76.8a384 384 0 0 0 16.448 525.696"})]))}}),ike=rke,ake=Be({name:"MoreFilled",__name:"more-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224"})]))}}),MR=ake,ske=Be({name:"More",__name:"more",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}}),uae=ske,oke=Be({name:"MostlyCloudy",__name:"mostly-cloudy",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M737.216 357.952 704 349.824l-11.776-32a192.064 192.064 0 0 0-367.424 23.04l-8.96 39.04-39.04 8.96A192.064 192.064 0 0 0 320 768h368a207.808 207.808 0 0 0 207.808-208 208.32 208.32 0 0 0-158.592-202.048m15.168-62.208A272.32 272.32 0 0 1 959.744 560a271.808 271.808 0 0 1-271.552 272H320a256 256 0 0 1-57.536-505.536 256.128 256.128 0 0 1 489.92-30.72"})]))}}),lke=oke,uke=Be({name:"Mouse",__name:"mouse",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M438.144 256c-68.352 0-92.736 4.672-117.76 18.112-20.096 10.752-35.52 26.176-46.272 46.272C260.672 345.408 256 369.792 256 438.144v275.712c0 68.352 4.672 92.736 18.112 117.76 10.752 20.096 26.176 35.52 46.272 46.272C345.408 891.328 369.792 896 438.144 896h147.712c68.352 0 92.736-4.672 117.76-18.112 20.096-10.752 35.52-26.176 46.272-46.272C763.328 806.592 768 782.208 768 713.856V438.144c0-68.352-4.672-92.736-18.112-117.76a110.464 110.464 0 0 0-46.272-46.272C678.592 260.672 654.208 256 585.856 256zm0-64h147.712c85.568 0 116.608 8.96 147.904 25.6 31.36 16.768 55.872 41.344 72.576 72.64C823.104 321.536 832 352.576 832 438.08v275.84c0 85.504-8.96 116.544-25.6 147.84a174.464 174.464 0 0 1-72.64 72.576C702.464 951.104 671.424 960 585.92 960H438.08c-85.504 0-116.544-8.96-147.84-25.6a174.464 174.464 0 0 1-72.64-72.704c-16.768-31.296-25.664-62.336-25.664-147.84v-275.84c0-85.504 8.96-116.544 25.6-147.84a174.464 174.464 0 0 1 72.768-72.576c31.232-16.704 62.272-25.6 147.776-25.6z"}),pe("path",{fill:"currentColor",d:"M512 320q32 0 32 32v128q0 32-32 32t-32-32V352q0-32 32-32m32-96a32 32 0 0 1-64 0v-64a32 32 0 0 0-32-32h-96a32 32 0 0 1 0-64h96a96 96 0 0 1 96 96z"})]))}}),cke=uke,hke=Be({name:"Mug",__name:"mug",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M736 800V160H160v640a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64m64-544h63.552a96 96 0 0 1 96 96v224a96 96 0 0 1-96 96H800v128a128 128 0 0 1-128 128H224A128 128 0 0 1 96 800V128a32 32 0 0 1 32-32h640a32 32 0 0 1 32 32zm0 64v288h63.552a32 32 0 0 0 32-32V352a32 32 0 0 0-32-32z"})]))}}),dke=hke,fke=Be({name:"MuteNotification",__name:"mute-notification",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m241.216 832 63.616-64H768V448c0-42.368-10.24-82.304-28.48-117.504l46.912-47.232C815.36 331.392 832 387.84 832 448v320h96a32 32 0 1 1 0 64zm-90.24 0H96a32 32 0 1 1 0-64h96V448a320.128 320.128 0 0 1 256-313.6V128a64 64 0 1 1 128 0v6.4a319.552 319.552 0 0 1 171.648 97.088l-45.184 45.44A256 256 0 0 0 256 448v278.336L151.04 832zM448 896h128a64 64 0 0 1-128 0"}),pe("path",{fill:"currentColor",d:"M150.72 859.072a32 32 0 0 1-45.44-45.056l704-708.544a32 32 0 0 1 45.44 45.056l-704 708.544z"})]))}}),pke=fke,Ake=Be({name:"Mute",__name:"mute",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m412.16 592.128-45.44 45.44A191.232 191.232 0 0 1 320 512V256a192 192 0 1 1 384 0v44.352l-64 64V256a128 128 0 1 0-256 0v256c0 30.336 10.56 58.24 28.16 80.128m51.968 38.592A128 128 0 0 0 640 512v-57.152l64-64V512a192 192 0 0 1-287.68 166.528zM314.88 779.968l46.144-46.08A222.976 222.976 0 0 0 480 768h64a224 224 0 0 0 224-224v-32a32 32 0 1 1 64 0v32a288 288 0 0 1-288 288v64h64a32 32 0 1 1 0 64H416a32 32 0 1 1 0-64h64v-64c-61.44 0-118.4-19.2-165.12-52.032M266.752 737.6A286.976 286.976 0 0 1 192 544v-32a32 32 0 0 1 64 0v32c0 56.832 21.184 108.8 56.064 148.288z"}),pe("path",{fill:"currentColor",d:"M150.72 859.072a32 32 0 0 1-45.44-45.056l704-708.544a32 32 0 0 1 45.44 45.056l-704 708.544z"})]))}}),mke=Ake,gke=Be({name:"NoSmoking",__name:"no-smoking",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M440.256 576H256v128h56.256l-64 64H224a32 32 0 0 1-32-32V544a32 32 0 0 1 32-32h280.256zm143.488 128H704V583.744L775.744 512H928a32 32 0 0 1 32 32v192a32 32 0 0 1-32 32H519.744zM768 576v128h128V576zm-29.696-207.552 45.248 45.248-497.856 497.856-45.248-45.248zM256 64h64v320h-64zM128 192h64v192h-64zM64 512h64v256H64z"})]))}}),vke=gke,_ke=Be({name:"Notebook",__name:"notebook",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M192 128v768h640V128zm-32-64h704a32 32 0 0 1 32 32v832a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32"}),pe("path",{fill:"currentColor",d:"M672 128h64v768h-64zM96 192h128q32 0 32 32t-32 32H96q-32 0-32-32t32-32m0 192h128q32 0 32 32t-32 32H96q-32 0-32-32t32-32m0 192h128q32 0 32 32t-32 32H96q-32 0-32-32t32-32m0 192h128q32 0 32 32t-32 32H96q-32 0-32-32t32-32"})]))}}),yke=_ke,bke=Be({name:"Notification",__name:"notification",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 128v64H256a64 64 0 0 0-64 64v512a64 64 0 0 0 64 64h512a64 64 0 0 0 64-64V512h64v256a128 128 0 0 1-128 128H256a128 128 0 0 1-128-128V256a128 128 0 0 1 128-128z"}),pe("path",{fill:"currentColor",d:"M768 384a128 128 0 1 0 0-256 128 128 0 0 0 0 256m0 64a192 192 0 1 1 0-384 192 192 0 0 1 0 384"})]))}}),wke=bke,xke=Be({name:"Odometer",__name:"odometer",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),pe("path",{fill:"currentColor",d:"M192 512a320 320 0 1 1 640 0 32 32 0 1 1-64 0 256 256 0 1 0-512 0 32 32 0 0 1-64 0"}),pe("path",{fill:"currentColor",d:"M570.432 627.84A96 96 0 1 1 509.568 608l60.992-187.776A32 32 0 1 1 631.424 440l-60.992 187.776zM502.08 734.464a32 32 0 1 0 19.84-60.928 32 32 0 0 0-19.84 60.928"})]))}}),Cke=xke,Eke=Be({name:"OfficeBuilding",__name:"office-building",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M192 128v704h384V128zm-32-64h448a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32"}),pe("path",{fill:"currentColor",d:"M256 256h256v64H256zm0 192h256v64H256zm0 192h256v64H256zm384-128h128v64H640zm0 128h128v64H640zM64 832h896v64H64z"}),pe("path",{fill:"currentColor",d:"M640 384v448h192V384zm-32-64h256a32 32 0 0 1 32 32v512a32 32 0 0 1-32 32H608a32 32 0 0 1-32-32V352a32 32 0 0 1 32-32"})]))}}),Ske=Eke,Tke=Be({name:"Open",__name:"open",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M329.956 257.138a254.862 254.862 0 0 0 0 509.724h364.088a254.862 254.862 0 0 0 0-509.724zm0-72.818h364.088a327.68 327.68 0 1 1 0 655.36H329.956a327.68 327.68 0 1 1 0-655.36z"}),pe("path",{fill:"currentColor",d:"M694.044 621.227a109.227 109.227 0 1 0 0-218.454 109.227 109.227 0 0 0 0 218.454m0 72.817a182.044 182.044 0 1 1 0-364.088 182.044 182.044 0 0 1 0 364.088"})]))}}),Bke=Tke,Mke=Be({name:"Operation",__name:"operation",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M389.44 768a96.064 96.064 0 0 1 181.12 0H896v64H570.56a96.064 96.064 0 0 1-181.12 0H128v-64zm192-288a96.064 96.064 0 0 1 181.12 0H896v64H762.56a96.064 96.064 0 0 1-181.12 0H128v-64zm-320-288a96.064 96.064 0 0 1 181.12 0H896v64H442.56a96.064 96.064 0 0 1-181.12 0H128v-64z"})]))}}),Ike=Mke,Lke=Be({name:"Opportunity",__name:"opportunity",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M384 960v-64h192.064v64zm448-544a350.656 350.656 0 0 1-128.32 271.424C665.344 719.04 640 763.776 640 813.504V832H320v-14.336c0-48-19.392-95.36-57.216-124.992a351.552 351.552 0 0 1-128.448-344.256c25.344-136.448 133.888-248.128 269.76-276.48A352.384 352.384 0 0 1 832 416m-544 32c0-132.288 75.904-224 192-224v-64c-154.432 0-256 122.752-256 288z"})]))}}),kke=Lke,Pke=Be({name:"Orange",__name:"orange",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M544 894.72a382.336 382.336 0 0 0 215.936-89.472L577.024 622.272c-10.24 6.016-21.248 10.688-33.024 13.696v258.688zm261.248-134.784A382.336 382.336 0 0 0 894.656 544H635.968c-3.008 11.776-7.68 22.848-13.696 33.024l182.976 182.912zM894.656 480a382.336 382.336 0 0 0-89.408-215.936L622.272 446.976c6.016 10.24 10.688 21.248 13.696 33.024h258.688zm-134.72-261.248A382.336 382.336 0 0 0 544 129.344v258.688c11.776 3.008 22.848 7.68 33.024 13.696zM480 129.344a382.336 382.336 0 0 0-215.936 89.408l182.912 182.976c10.24-6.016 21.248-10.688 33.024-13.696zm-261.248 134.72A382.336 382.336 0 0 0 129.344 480h258.688c3.008-11.776 7.68-22.848 13.696-33.024zM129.344 544a382.336 382.336 0 0 0 89.408 215.936l182.976-182.912A127.232 127.232 0 0 1 388.032 544zm134.72 261.248A382.336 382.336 0 0 0 480 894.656V635.968a127.232 127.232 0 0 1-33.024-13.696zM512 960a448 448 0 1 1 0-896 448 448 0 0 1 0 896m0-384a64 64 0 1 0 0-128 64 64 0 0 0 0 128"})]))}}),Fke=Pke,Rke=Be({name:"Paperclip",__name:"paperclip",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M602.496 240.448A192 192 0 1 1 874.048 512l-316.8 316.8A256 256 0 0 1 195.2 466.752L602.496 59.456l45.248 45.248L240.448 512A192 192 0 0 0 512 783.552l316.8-316.8a128 128 0 1 0-181.056-181.056L353.6 579.904a32 32 0 1 0 45.248 45.248l294.144-294.144 45.312 45.248L444.096 670.4a96 96 0 1 1-135.744-135.744l294.144-294.208z"})]))}}),Oke=Rke,Dke=Be({name:"PartlyCloudy",__name:"partly-cloudy",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M598.4 895.872H328.192a256 256 0 0 1-34.496-510.528A352 352 0 1 1 598.4 895.872m-271.36-64h272.256a288 288 0 1 0-248.512-417.664L335.04 445.44l-34.816 3.584a192 192 0 0 0 26.88 382.848z"}),pe("path",{fill:"currentColor",d:"M139.84 501.888a256 256 0 1 1 417.856-277.12c-17.728 2.176-38.208 8.448-61.504 18.816A192 192 0 1 0 189.12 460.48a6003.84 6003.84 0 0 0-49.28 41.408z"})]))}}),Nke=Dke,Uke=Be({name:"Pear",__name:"pear",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M542.336 258.816a443.255 443.255 0 0 0-9.024 25.088 32 32 0 1 1-60.8-20.032l1.088-3.328a162.688 162.688 0 0 0-122.048 131.392l-17.088 102.72-20.736 15.36C256.192 552.704 224 610.88 224 672c0 120.576 126.4 224 288 224s288-103.424 288-224c0-61.12-32.192-119.296-89.728-161.92l-20.736-15.424-17.088-102.72a162.688 162.688 0 0 0-130.112-133.12zm-40.128-66.56c7.936-15.552 16.576-30.08 25.92-43.776 23.296-33.92 49.408-59.776 78.528-77.12a32 32 0 1 1 32.704 55.04c-20.544 12.224-40.064 31.552-58.432 58.304a316.608 316.608 0 0 0-9.792 15.104 226.688 226.688 0 0 1 164.48 181.568l12.8 77.248C819.456 511.36 864 587.392 864 672c0 159.04-157.568 288-352 288S160 831.04 160 672c0-84.608 44.608-160.64 115.584-213.376l12.8-77.248a226.624 226.624 0 0 1 213.76-189.184z"})]))}}),zke=Uke,$ke=Be({name:"PhoneFilled",__name:"phone-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M199.232 125.568 90.624 379.008a32 32 0 0 0 6.784 35.2l512.384 512.384a32 32 0 0 0 35.2 6.784l253.44-108.608a32 32 0 0 0 10.048-52.032L769.6 633.92a32 32 0 0 0-36.928-5.952l-130.176 65.088-271.488-271.552 65.024-130.176a32 32 0 0 0-5.952-36.928L251.2 115.52a32 32 0 0 0-51.968 10.048z"})]))}}),Vke=$ke,Hke=Be({name:"Phone",__name:"phone",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M79.36 432.256 591.744 944.64a32 32 0 0 0 35.2 6.784l253.44-108.544a32 32 0 0 0 9.984-52.032l-153.856-153.92a32 32 0 0 0-36.928-6.016l-69.888 34.944L358.08 394.24l35.008-69.888a32 32 0 0 0-5.952-36.928L233.152 133.568a32 32 0 0 0-52.032 10.048L72.512 397.056a32 32 0 0 0 6.784 35.2zm60.48-29.952 81.536-190.08L325.568 316.48l-24.64 49.216-20.608 41.216 32.576 32.64 271.552 271.552 32.64 32.64 41.216-20.672 49.28-24.576 104.192 104.128-190.08 81.472L139.84 402.304zM512 320v-64a256 256 0 0 1 256 256h-64a192 192 0 0 0-192-192m0-192V64a448 448 0 0 1 448 448h-64a384 384 0 0 0-384-384"})]))}}),Qke=Hke,jke=Be({name:"PictureFilled",__name:"picture-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112M256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384"})]))}}),cae=jke,Gke=Be({name:"PictureRounded",__name:"picture-rounded",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 128a384 384 0 1 0 0 768 384 384 0 0 0 0-768m0-64a448 448 0 1 1 0 896 448 448 0 0 1 0-896"}),pe("path",{fill:"currentColor",d:"M640 288q64 0 64 64t-64 64q-64 0-64-64t64-64M214.656 790.656l-45.312-45.312 185.664-185.6a96 96 0 0 1 123.712-10.24l138.24 98.688a32 32 0 0 0 39.872-2.176L906.688 422.4l42.624 47.744L699.52 693.696a96 96 0 0 1-119.808 6.592l-138.24-98.752a32 32 0 0 0-41.152 3.456l-185.664 185.6z"})]))}}),Kke=Gke,Wke=Be({name:"Picture",__name:"picture",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M160 160v704h704V160zm-32-64h768a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H128a32 32 0 0 1-32-32V128a32 32 0 0 1 32-32"}),pe("path",{fill:"currentColor",d:"M384 288q64 0 64 64t-64 64q-64 0-64-64t64-64M185.408 876.992l-50.816-38.912L350.72 556.032a96 96 0 0 1 134.592-17.856l1.856 1.472 122.88 99.136a32 32 0 0 0 44.992-4.864l216-269.888 49.92 39.936-215.808 269.824-.256.32a96 96 0 0 1-135.04 14.464l-122.88-99.072-.64-.512a32 32 0 0 0-44.8 5.952z"})]))}}),qke=Wke,Yke=Be({name:"PieChart",__name:"pie-chart",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M448 68.48v64.832A384.128 384.128 0 0 0 512 896a384.128 384.128 0 0 0 378.688-320h64.768A448.128 448.128 0 0 1 64 512 448.128 448.128 0 0 1 448 68.48z"}),pe("path",{fill:"currentColor",d:"M576 97.28V448h350.72A384.064 384.064 0 0 0 576 97.28zM512 64V33.152A448 448 0 0 1 990.848 512H512z"})]))}}),Xke=Yke,Zke=Be({name:"Place",__name:"place",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 512a192 192 0 1 0 0-384 192 192 0 0 0 0 384m0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512"}),pe("path",{fill:"currentColor",d:"M512 512a32 32 0 0 1 32 32v256a32 32 0 1 1-64 0V544a32 32 0 0 1 32-32"}),pe("path",{fill:"currentColor",d:"M384 649.088v64.96C269.76 732.352 192 771.904 192 800c0 37.696 139.904 96 320 96s320-58.304 320-96c0-28.16-77.76-67.648-192-85.952v-64.96C789.12 671.04 896 730.368 896 800c0 88.32-171.904 160-384 160s-384-71.68-384-160c0-69.696 106.88-128.96 256-150.912"})]))}}),Jke=Zke,ePe=Be({name:"Platform",__name:"platform",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M448 832v-64h128v64h192v64H256v-64zM128 704V128h768v576z"})]))}}),tPe=ePe,nPe=Be({name:"Plus",__name:"plus",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),o7=nPe,rPe=Be({name:"Pointer",__name:"pointer",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M511.552 128c-35.584 0-64.384 28.8-64.384 64.448v516.48L274.048 570.88a94.272 94.272 0 0 0-112.896-3.456 44.416 44.416 0 0 0-8.96 62.208L332.8 870.4A64 64 0 0 0 384 896h512V575.232a64 64 0 0 0-45.632-61.312l-205.952-61.76A96 96 0 0 1 576 360.192V192.448C576 156.8 547.2 128 511.552 128M359.04 556.8l24.128 19.2V192.448a128.448 128.448 0 1 1 256.832 0v167.744a32 32 0 0 0 22.784 30.656l206.016 61.76A128 128 0 0 1 960 575.232V896a64 64 0 0 1-64 64H384a128 128 0 0 1-102.4-51.2L101.056 668.032A108.416 108.416 0 0 1 128 512.512a158.272 158.272 0 0 1 185.984 8.32z"})]))}}),iPe=rPe,aPe=Be({name:"Position",__name:"position",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m249.6 417.088 319.744 43.072 39.168 310.272L845.12 178.88 249.6 417.088zm-129.024 47.168a32 32 0 0 1-7.68-61.44l777.792-311.04a32 32 0 0 1 41.6 41.6l-310.336 775.68a32 32 0 0 1-61.44-7.808L512 516.992l-391.424-52.736z"})]))}}),sPe=aPe,oPe=Be({name:"Postcard",__name:"postcard",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M160 224a32 32 0 0 0-32 32v512a32 32 0 0 0 32 32h704a32 32 0 0 0 32-32V256a32 32 0 0 0-32-32zm0-64h704a96 96 0 0 1 96 96v512a96 96 0 0 1-96 96H160a96 96 0 0 1-96-96V256a96 96 0 0 1 96-96"}),pe("path",{fill:"currentColor",d:"M704 320a64 64 0 1 1 0 128 64 64 0 0 1 0-128M288 448h256q32 0 32 32t-32 32H288q-32 0-32-32t32-32m0 128h256q32 0 32 32t-32 32H288q-32 0-32-32t32-32"})]))}}),lPe=oPe,uPe=Be({name:"Pouring",__name:"pouring",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m739.328 291.328-35.2-6.592-12.8-33.408a192.064 192.064 0 0 0-365.952 23.232l-9.92 40.896-41.472 7.04a176.32 176.32 0 0 0-146.24 173.568c0 97.28 78.72 175.936 175.808 175.936h400a192 192 0 0 0 35.776-380.672zM959.552 480a256 256 0 0 1-256 256h-400A239.808 239.808 0 0 1 63.744 496.192a240.32 240.32 0 0 1 199.488-236.8 256.128 256.128 0 0 1 487.872-30.976A256.064 256.064 0 0 1 959.552 480M224 800a32 32 0 0 1 32 32v96a32 32 0 1 1-64 0v-96a32 32 0 0 1 32-32m192 0a32 32 0 0 1 32 32v96a32 32 0 1 1-64 0v-96a32 32 0 0 1 32-32m192 0a32 32 0 0 1 32 32v96a32 32 0 1 1-64 0v-96a32 32 0 0 1 32-32m192 0a32 32 0 0 1 32 32v96a32 32 0 1 1-64 0v-96a32 32 0 0 1 32-32"})]))}}),cPe=uPe,hPe=Be({name:"Present",__name:"present",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M480 896V640H192v-64h288V320H192v576zm64 0h288V320H544v256h288v64H544zM128 256h768v672a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32z"}),pe("path",{fill:"currentColor",d:"M96 256h832q32 0 32 32t-32 32H96q-32 0-32-32t32-32"}),pe("path",{fill:"currentColor",d:"M416 256a64 64 0 1 0 0-128 64 64 0 0 0 0 128m0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256"}),pe("path",{fill:"currentColor",d:"M608 256a64 64 0 1 0 0-128 64 64 0 0 0 0 128m0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256"})]))}}),dPe=hPe,fPe=Be({name:"PriceTag",__name:"price-tag",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M224 318.336V896h576V318.336L552.512 115.84a64 64 0 0 0-81.024 0zM593.024 66.304l259.2 212.096A32 32 0 0 1 864 303.168V928a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V303.168a32 32 0 0 1 11.712-24.768l259.2-212.096a128 128 0 0 1 162.112 0z"}),pe("path",{fill:"currentColor",d:"M512 448a64 64 0 1 0 0-128 64 64 0 0 0 0 128m0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256"})]))}}),pPe=fPe,APe=Be({name:"Printer",__name:"printer",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M256 768H105.024c-14.272 0-19.456-1.472-24.64-4.288a29.056 29.056 0 0 1-12.16-12.096C65.536 746.432 64 741.248 64 727.04V379.072c0-42.816 4.48-58.304 12.8-73.984 8.384-15.616 20.672-27.904 36.288-36.288 15.68-8.32 31.168-12.8 73.984-12.8H256V64h512v192h68.928c42.816 0 58.304 4.48 73.984 12.8 15.616 8.384 27.904 20.672 36.288 36.288 8.32 15.68 12.8 31.168 12.8 73.984v347.904c0 14.272-1.472 19.456-4.288 24.64a29.056 29.056 0 0 1-12.096 12.16c-5.184 2.752-10.368 4.224-24.64 4.224H768v192H256zm64-192v320h384V576zm-64 128V512h512v192h128V379.072c0-29.376-1.408-36.48-5.248-43.776a23.296 23.296 0 0 0-10.048-10.048c-7.232-3.84-14.4-5.248-43.776-5.248H187.072c-29.376 0-36.48 1.408-43.776 5.248a23.296 23.296 0 0 0-10.048 10.048c-3.84 7.232-5.248 14.4-5.248 43.776V704zm64-448h384V128H320zm-64 128h64v64h-64zm128 0h64v64h-64z"})]))}}),mPe=APe,gPe=Be({name:"Promotion",__name:"promotion",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m64 448 832-320-128 704-446.08-243.328L832 192 242.816 545.472zm256 512V657.024L512 768z"})]))}}),vPe=gPe,_Pe=Be({name:"QuartzWatch",__name:"quartz-watch",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M422.02 602.01v-.03c-6.68-5.99-14.35-8.83-23.01-8.51-8.67.32-16.17 3.66-22.5 10.02-6.33 6.36-9.5 13.7-9.5 22.02s3 15.82 8.99 22.5c8.68 8.68 19.02 11.35 31.01 8s19.49-10.85 22.5-22.5c3.01-11.65.51-22.15-7.49-31.49zM384 512c0-9.35-3-17.02-8.99-23.01-6-5.99-13.66-8.99-23.01-8.99-9.35 0-17.02 3-23.01 8.99-5.99 6-8.99 13.66-8.99 23.01s3 17.02 8.99 23.01c6 5.99 13.66 8.99 23.01 8.99 9.35 0 17.02-3 23.01-8.99 5.99-6 8.99-13.67 8.99-23.01m6.53-82.49c11.65 3.01 22.15.51 31.49-7.49h.04c5.99-6.68 8.83-14.34 8.51-23.01-.32-8.67-3.66-16.16-10.02-22.5-6.36-6.33-13.7-9.5-22.02-9.5s-15.82 3-22.5 8.99c-8.68 8.69-11.35 19.02-8 31.01 3.35 11.99 10.85 19.49 22.5 22.5zm242.94 0c11.67-3.03 19.01-10.37 22.02-22.02 3.01-11.65.51-22.15-7.49-31.49h.01c-6.68-5.99-14.18-8.99-22.5-8.99s-15.66 3.16-22.02 9.5c-6.36 6.34-9.7 13.84-10.02 22.5-.32 8.66 2.52 16.33 8.51 23.01 9.32 8.02 19.82 10.52 31.49 7.49M512 640c-9.35 0-17.02 3-23.01 8.99-5.99 6-8.99 13.66-8.99 23.01s3 17.02 8.99 23.01c6 5.99 13.67 8.99 23.01 8.99 9.35 0 17.02-3 23.01-8.99 5.99-6 8.99-13.66 8.99-23.01s-3-17.02-8.99-23.01c-6-5.99-13.66-8.99-23.01-8.99m183.01-151.01c-6-5.99-13.66-8.99-23.01-8.99s-17.02 3-23.01 8.99c-5.99 6-8.99 13.66-8.99 23.01s3 17.02 8.99 23.01c6 5.99 13.66 8.99 23.01 8.99s17.02-3 23.01-8.99c5.99-6 8.99-13.67 8.99-23.01 0-9.35-3-17.02-8.99-23.01"}),pe("path",{fill:"currentColor",d:"M832 512c-2-90.67-33.17-166.17-93.5-226.5-20.43-20.42-42.6-37.49-66.5-51.23V64H352v170.26c-23.9 13.74-46.07 30.81-66.5 51.24-60.33 60.33-91.49 135.83-93.5 226.5 2 90.67 33.17 166.17 93.5 226.5 20.43 20.43 42.6 37.5 66.5 51.24V960h320V789.74c23.9-13.74 46.07-30.81 66.5-51.24 60.33-60.34 91.49-135.83 93.5-226.5M416 128h192v78.69c-29.85-9.03-61.85-13.93-96-14.69-34.15.75-66.15 5.65-96 14.68zm192 768H416v-78.68c29.85 9.03 61.85 13.93 96 14.68 34.15-.75 66.15-5.65 96-14.68zm-96-128c-72.66-2.01-132.99-27.01-180.99-75.01S258.01 584.66 256 512c2.01-72.66 27.01-132.99 75.01-180.99S439.34 258.01 512 256c72.66 2.01 132.99 27.01 180.99 75.01S765.99 439.34 768 512c-2.01 72.66-27.01 132.99-75.01 180.99S584.66 765.99 512 768"}),pe("path",{fill:"currentColor",d:"M512 320c-9.35 0-17.02 3-23.01 8.99-5.99 6-8.99 13.66-8.99 23.01 0 9.35 3 17.02 8.99 23.01 6 5.99 13.67 8.99 23.01 8.99 9.35 0 17.02-3 23.01-8.99 5.99-6 8.99-13.66 8.99-23.01 0-9.35-3-17.02-8.99-23.01-6-5.99-13.66-8.99-23.01-8.99m112.99 273.5c-8.66-.32-16.33 2.52-23.01 8.51-7.98 9.32-10.48 19.82-7.49 31.49s10.49 19.17 22.5 22.5 22.35.66 31.01-8v.04c5.99-6.68 8.99-14.18 8.99-22.5s-3.16-15.66-9.5-22.02-13.84-9.7-22.5-10.02"})]))}}),yPe=_Pe,bPe=Be({name:"QuestionFilled",__name:"question-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"})]))}}),hae=bPe,wPe=Be({name:"Rank",__name:"rank",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m186.496 544 41.408 41.344a32 32 0 1 1-45.248 45.312l-96-96a32 32 0 0 1 0-45.312l96-96a32 32 0 1 1 45.248 45.312L186.496 480h290.816V186.432l-41.472 41.472a32 32 0 1 1-45.248-45.184l96-96.128a32 32 0 0 1 45.312 0l96 96.064a32 32 0 0 1-45.248 45.184l-41.344-41.28V480H832l-41.344-41.344a32 32 0 0 1 45.248-45.312l96 96a32 32 0 0 1 0 45.312l-96 96a32 32 0 0 1-45.248-45.312L832 544H541.312v293.44l41.344-41.28a32 32 0 1 1 45.248 45.248l-96 96a32 32 0 0 1-45.312 0l-96-96a32 32 0 1 1 45.312-45.248l41.408 41.408V544H186.496z"})]))}}),xPe=wPe,CPe=Be({name:"ReadingLamp",__name:"reading-lamp",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M352 896h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32m-44.672-768-99.52 448h608.384l-99.52-448zm-25.6-64h460.608a32 32 0 0 1 31.232 25.088l113.792 512A32 32 0 0 1 856.128 640H167.872a32 32 0 0 1-31.232-38.912l113.792-512A32 32 0 0 1 281.664 64z"}),pe("path",{fill:"currentColor",d:"M672 576q32 0 32 32v128q0 32-32 32t-32-32V608q0-32 32-32m-192-.064h64V960h-64z"})]))}}),EPe=CPe,SPe=Be({name:"Reading",__name:"reading",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m512 863.36 384-54.848v-638.72L525.568 222.72a96 96 0 0 1-27.136 0L128 169.792v638.72zM137.024 106.432l370.432 52.928a32 32 0 0 0 9.088 0l370.432-52.928A64 64 0 0 1 960 169.792v638.72a64 64 0 0 1-54.976 63.36l-388.48 55.488a32 32 0 0 1-9.088 0l-388.48-55.488A64 64 0 0 1 64 808.512v-638.72a64 64 0 0 1 73.024-63.36z"}),pe("path",{fill:"currentColor",d:"M480 192h64v704h-64z"})]))}}),TPe=SPe,BPe=Be({name:"RefreshLeft",__name:"refresh-left",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),dae=BPe,MPe=Be({name:"RefreshRight",__name:"refresh-right",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"})]))}}),fae=MPe,IPe=Be({name:"Refresh",__name:"refresh",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M771.776 794.88A384 384 0 0 1 128 512h64a320 320 0 0 0 555.712 216.448H654.72a32 32 0 1 1 0-64h149.056a32 32 0 0 1 32 32v148.928a32 32 0 1 1-64 0v-50.56zM276.288 295.616h92.992a32 32 0 0 1 0 64H220.16a32 32 0 0 1-32-32V178.56a32 32 0 0 1 64 0v50.56A384 384 0 0 1 896.128 512h-64a320 320 0 0 0-555.776-216.384z"})]))}}),LPe=IPe,kPe=Be({name:"Refrigerator",__name:"refrigerator",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M256 448h512V160a32 32 0 0 0-32-32H288a32 32 0 0 0-32 32zm0 64v352a32 32 0 0 0 32 32h448a32 32 0 0 0 32-32V512zm32-448h448a96 96 0 0 1 96 96v704a96 96 0 0 1-96 96H288a96 96 0 0 1-96-96V160a96 96 0 0 1 96-96m32 224h64v96h-64zm0 288h64v96h-64z"})]))}}),PPe=kPe,FPe=Be({name:"RemoveFilled",__name:"remove-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896M288 512a38.4 38.4 0 0 0 38.4 38.4h371.2a38.4 38.4 0 0 0 0-76.8H326.4A38.4 38.4 0 0 0 288 512"})]))}}),RPe=FPe,OPe=Be({name:"Remove",__name:"remove",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M352 480h320a32 32 0 1 1 0 64H352a32 32 0 0 1 0-64"}),pe("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),DPe=OPe,NPe=Be({name:"Right",__name:"right",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M754.752 480H160a32 32 0 1 0 0 64h594.752L521.344 777.344a32 32 0 0 0 45.312 45.312l288-288a32 32 0 0 0 0-45.312l-288-288a32 32 0 1 0-45.312 45.312z"})]))}}),UPe=NPe,zPe=Be({name:"ScaleToOriginal",__name:"scale-to-original",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512"})]))}}),pae=zPe,$Pe=Be({name:"School",__name:"school",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M224 128v704h576V128zm-32-64h640a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32"}),pe("path",{fill:"currentColor",d:"M64 832h896v64H64zm256-640h128v96H320z"}),pe("path",{fill:"currentColor",d:"M384 832h256v-64a128 128 0 1 0-256 0zm128-256a192 192 0 0 1 192 192v128H320V768a192 192 0 0 1 192-192M320 384h128v96H320zm256-192h128v96H576zm0 192h128v96H576z"})]))}}),VPe=$Pe,HPe=Be({name:"Scissor",__name:"scissor",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m512.064 578.368-106.88 152.768a160 160 0 1 1-23.36-78.208L472.96 522.56 196.864 128.256a32 32 0 1 1 52.48-36.736l393.024 561.344a160 160 0 1 1-23.36 78.208l-106.88-152.704zm54.4-189.248 208.384-297.6a32 32 0 0 1 52.48 36.736l-221.76 316.672-39.04-55.808zm-376.32 425.856a96 96 0 1 0 110.144-157.248 96 96 0 0 0-110.08 157.248zm643.84 0a96 96 0 1 0-110.08-157.248 96 96 0 0 0 110.08 157.248"})]))}}),QPe=HPe,jPe=Be({name:"Search",__name:"search",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}}),Aae=jPe,GPe=Be({name:"Select",__name:"select",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M77.248 415.04a64 64 0 0 1 90.496 0l226.304 226.304L846.528 188.8a64 64 0 1 1 90.56 90.496l-543.04 543.04-316.8-316.8a64 64 0 0 1 0-90.496z"})]))}}),KPe=GPe,WPe=Be({name:"Sell",__name:"sell",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M704 288h131.072a32 32 0 0 1 31.808 28.8L886.4 512h-64.384l-16-160H704v96a32 32 0 1 1-64 0v-96H384v96a32 32 0 0 1-64 0v-96H217.92l-51.2 512H512v64H131.328a32 32 0 0 1-31.808-35.2l57.6-576a32 32 0 0 1 31.808-28.8H320v-22.336C320 154.688 405.504 64 512 64s192 90.688 192 201.664v22.4zm-64 0v-22.336C640 189.248 582.272 128 512 128c-70.272 0-128 61.248-128 137.664v22.4h256zm201.408 483.84L768 698.496V928a32 32 0 1 1-64 0V698.496l-73.344 73.344a32 32 0 1 1-45.248-45.248l128-128a32 32 0 0 1 45.248 0l128 128a32 32 0 1 1-45.248 45.248z"})]))}}),qPe=WPe,YPe=Be({name:"SemiSelect",__name:"semi-select",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M128 448h768q64 0 64 64t-64 64H128q-64 0-64-64t64-64"})]))}}),XPe=YPe,ZPe=Be({name:"Service",__name:"service",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M864 409.6a192 192 0 0 1-37.888 349.44A256.064 256.064 0 0 1 576 960h-96a32 32 0 1 1 0-64h96a192.064 192.064 0 0 0 181.12-128H736a32 32 0 0 1-32-32V416a32 32 0 0 1 32-32h32c10.368 0 20.544.832 30.528 2.432a288 288 0 0 0-573.056 0A193.235 193.235 0 0 1 256 384h32a32 32 0 0 1 32 32v320a32 32 0 0 1-32 32h-32a192 192 0 0 1-96-358.4 352 352 0 0 1 704 0M256 448a128 128 0 1 0 0 256zm640 128a128 128 0 0 0-128-128v256a128 128 0 0 0 128-128"})]))}}),JPe=ZPe,eFe=Be({name:"SetUp",__name:"set-up",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M224 160a64 64 0 0 0-64 64v576a64 64 0 0 0 64 64h576a64 64 0 0 0 64-64V224a64 64 0 0 0-64-64zm0-64h576a128 128 0 0 1 128 128v576a128 128 0 0 1-128 128H224A128 128 0 0 1 96 800V224A128 128 0 0 1 224 96"}),pe("path",{fill:"currentColor",d:"M384 416a64 64 0 1 0 0-128 64 64 0 0 0 0 128m0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256"}),pe("path",{fill:"currentColor",d:"M480 320h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32m160 416a64 64 0 1 0 0-128 64 64 0 0 0 0 128m0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256"}),pe("path",{fill:"currentColor",d:"M288 640h256q32 0 32 32t-32 32H288q-32 0-32-32t32-32"})]))}}),tFe=eFe,nFe=Be({name:"Setting",__name:"setting",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357.12 357.12 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a351.616 351.616 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357.12 357.12 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088-24.512 11.968a294.113 294.113 0 0 0-34.816 20.096l-22.656 15.36-116.224-25.088-65.28 113.152 79.68 88.192-1.92 27.136a293.12 293.12 0 0 0 0 40.192l1.92 27.136-79.808 88.192 65.344 113.152 116.224-25.024 22.656 15.296a294.113 294.113 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152 24.448-11.904a288.282 288.282 0 0 0 34.752-20.096l22.592-15.296 116.288 25.024 65.28-113.152-79.744-88.192 1.92-27.136a293.12 293.12 0 0 0 0-40.256l-1.92-27.136 79.808-88.128-65.344-113.152-116.288 24.96-22.592-15.232a287.616 287.616 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384 192 192 0 0 1 0-384m0 64a128 128 0 1 0 0 256 128 128 0 0 0 0-256"})]))}}),rFe=nFe,iFe=Be({name:"Share",__name:"share",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m679.872 348.8-301.76 188.608a127.808 127.808 0 0 1 5.12 52.16l279.936 104.96a128 128 0 1 1-22.464 59.904l-279.872-104.96a128 128 0 1 1-16.64-166.272l301.696-188.608a128 128 0 1 1 33.92 54.272z"})]))}}),aFe=iFe,sFe=Be({name:"Ship",__name:"ship",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 386.88V448h405.568a32 32 0 0 1 30.72 40.768l-76.48 267.968A192 192 0 0 1 687.168 896H336.832a192 192 0 0 1-184.64-139.264L75.648 488.768A32 32 0 0 1 106.368 448H448V117.888a32 32 0 0 1 47.36-28.096l13.888 7.616L512 96v2.88l231.68 126.4a32 32 0 0 1-2.048 57.216zm0-70.272 144.768-65.792L512 171.84zM512 512H148.864l18.24 64H856.96l18.24-64zM185.408 640l28.352 99.2A128 128 0 0 0 336.832 832h350.336a128 128 0 0 0 123.072-92.8l28.352-99.2H185.408"})]))}}),oFe=sFe,lFe=Be({name:"Shop",__name:"shop",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M704 704h64v192H256V704h64v64h384zm188.544-152.192C894.528 559.616 896 567.616 896 576a96 96 0 1 1-192 0 96 96 0 1 1-192 0 96 96 0 1 1-192 0 96 96 0 1 1-192 0c0-8.384 1.408-16.384 3.392-24.192L192 128h640z"})]))}}),uFe=lFe,cFe=Be({name:"ShoppingBag",__name:"shopping-bag",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M704 320v96a32 32 0 0 1-32 32h-32V320H384v128h-32a32 32 0 0 1-32-32v-96H192v576h640V320zm-384-64a192 192 0 1 1 384 0h160a32 32 0 0 1 32 32v640a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V288a32 32 0 0 1 32-32zm64 0h256a128 128 0 1 0-256 0"}),pe("path",{fill:"currentColor",d:"M192 704h640v64H192z"})]))}}),hFe=cFe,dFe=Be({name:"ShoppingCartFull",__name:"shopping-cart-full",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M432 928a48 48 0 1 1 0-96 48 48 0 0 1 0 96m320 0a48 48 0 1 1 0-96 48 48 0 0 1 0 96M96 128a32 32 0 0 1 0-64h160a32 32 0 0 1 31.36 25.728L320.64 256H928a32 32 0 0 1 31.296 38.72l-96 448A32 32 0 0 1 832 768H384a32 32 0 0 1-31.36-25.728L229.76 128zm314.24 576h395.904l82.304-384H333.44l76.8 384z"}),pe("path",{fill:"currentColor",d:"M699.648 256 608 145.984 516.352 256h183.296zm-140.8-151.04a64 64 0 0 1 98.304 0L836.352 320H379.648l179.2-215.04"})]))}}),fFe=dFe,pFe=Be({name:"ShoppingCart",__name:"shopping-cart",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M432 928a48 48 0 1 1 0-96 48 48 0 0 1 0 96m320 0a48 48 0 1 1 0-96 48 48 0 0 1 0 96M96 128a32 32 0 0 1 0-64h160a32 32 0 0 1 31.36 25.728L320.64 256H928a32 32 0 0 1 31.296 38.72l-96 448A32 32 0 0 1 832 768H384a32 32 0 0 1-31.36-25.728L229.76 128zm314.24 576h395.904l82.304-384H333.44l76.8 384z"})]))}}),AFe=pFe,mFe=Be({name:"ShoppingTrolley",__name:"shopping-trolley",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M368 833c-13.3 0-24.5 4.5-33.5 13.5S321 866.7 321 880s4.5 24.5 13.5 33.5 20.2 13.8 33.5 14.5c13.3-.7 24.5-5.5 33.5-14.5S415 893.3 415 880s-4.5-24.5-13.5-33.5S381.3 833 368 833m439-193c7.4 0 13.8-2.2 19.5-6.5S836 623.3 838 616l112-448c2-10-.2-19.2-6.5-27.5S929 128 919 128H96c-9.3 0-17 3-23 9s-9 13.7-9 23 3 17 9 23 13.7 9 23 9h96v576h672c9.3 0 17-3 23-9s9-13.7 9-23-3-17-9-23-13.7-9-23-9H256v-64zM256 192h622l-96 384H256zm432 641c-13.3 0-24.5 4.5-33.5 13.5S641 866.7 641 880s4.5 24.5 13.5 33.5 20.2 13.8 33.5 14.5c13.3-.7 24.5-5.5 33.5-14.5S735 893.3 735 880s-4.5-24.5-13.5-33.5S701.3 833 688 833"})]))}}),gFe=mFe,vFe=Be({name:"Smoking",__name:"smoking",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M256 576v128h640V576zm-32-64h704a32 32 0 0 1 32 32v192a32 32 0 0 1-32 32H224a32 32 0 0 1-32-32V544a32 32 0 0 1 32-32"}),pe("path",{fill:"currentColor",d:"M704 576h64v128h-64zM256 64h64v320h-64zM128 192h64v192h-64zM64 512h64v256H64z"})]))}}),_Fe=vFe,yFe=Be({name:"Soccer",__name:"soccer",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M418.496 871.04 152.256 604.8c-16.512 94.016-2.368 178.624 42.944 224 44.928 44.928 129.344 58.752 223.296 42.24m72.32-18.176a573.056 573.056 0 0 0 224.832-137.216 573.12 573.12 0 0 0 137.216-224.832L533.888 171.84a578.56 578.56 0 0 0-227.52 138.496A567.68 567.68 0 0 0 170.432 532.48l320.384 320.384zM871.04 418.496c16.512-93.952 2.688-178.368-42.24-223.296-44.544-44.544-128.704-58.048-222.592-41.536zM149.952 874.048c-112.96-112.96-88.832-408.96 111.168-608.96C461.056 65.152 760.96 36.928 874.048 149.952c113.024 113.024 86.784 411.008-113.152 610.944-199.936 199.936-497.92 226.112-610.944 113.152m452.544-497.792 22.656-22.656a32 32 0 0 1 45.248 45.248l-22.656 22.656 45.248 45.248A32 32 0 1 1 647.744 512l-45.248-45.248L557.248 512l45.248 45.248a32 32 0 1 1-45.248 45.248L512 557.248l-45.248 45.248L512 647.744a32 32 0 1 1-45.248 45.248l-45.248-45.248-22.656 22.656a32 32 0 1 1-45.248-45.248l22.656-22.656-45.248-45.248A32 32 0 1 1 376.256 512l45.248 45.248L466.752 512l-45.248-45.248a32 32 0 1 1 45.248-45.248L512 466.752l45.248-45.248L512 376.256a32 32 0 0 1 45.248-45.248l45.248 45.248z"})]))}}),bFe=yFe,wFe=Be({name:"SoldOut",__name:"sold-out",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M704 288h131.072a32 32 0 0 1 31.808 28.8L886.4 512h-64.384l-16-160H704v96a32 32 0 1 1-64 0v-96H384v96a32 32 0 0 1-64 0v-96H217.92l-51.2 512H512v64H131.328a32 32 0 0 1-31.808-35.2l57.6-576a32 32 0 0 1 31.808-28.8H320v-22.336C320 154.688 405.504 64 512 64s192 90.688 192 201.664v22.4zm-64 0v-22.336C640 189.248 582.272 128 512 128c-70.272 0-128 61.248-128 137.664v22.4h256zm201.408 476.16a32 32 0 1 1 45.248 45.184l-128 128a32 32 0 0 1-45.248 0l-128-128a32 32 0 1 1 45.248-45.248L704 837.504V608a32 32 0 1 1 64 0v229.504l73.408-73.408z"})]))}}),xFe=wFe,CFe=Be({name:"SortDown",__name:"sort-down",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0"})]))}}),mae=CFe,EFe=Be({name:"SortUp",__name:"sort-up",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248"})]))}}),gae=EFe,SFe=Be({name:"Sort",__name:"sort",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M384 96a32 32 0 0 1 64 0v786.752a32 32 0 0 1-54.592 22.656L95.936 608a32 32 0 0 1 0-45.312h.128a32 32 0 0 1 45.184 0L384 805.632zm192 45.248a32 32 0 0 1 54.592-22.592L928.064 416a32 32 0 0 1 0 45.312h-.128a32 32 0 0 1-45.184 0L640 218.496V928a32 32 0 1 1-64 0V141.248z"})]))}}),TFe=SFe,BFe=Be({name:"Stamp",__name:"stamp",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M624 475.968V640h144a128 128 0 0 1 128 128H128a128 128 0 0 1 128-128h144V475.968a192 192 0 1 1 224 0M128 896v-64h768v64z"})]))}}),MFe=BFe,IFe=Be({name:"StarFilled",__name:"star-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"})]))}}),U4=IFe,LFe=Be({name:"Star",__name:"star",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}}),vae=LFe,kFe=Be({name:"Stopwatch",__name:"stopwatch",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),pe("path",{fill:"currentColor",d:"M672 234.88c-39.168 174.464-80 298.624-122.688 372.48-64 110.848-202.624 30.848-138.624-80C453.376 453.44 540.48 355.968 672 234.816z"})]))}}),PFe=kFe,FFe=Be({name:"SuccessFilled",__name:"success-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),l7=FFe,RFe=Be({name:"Sugar",__name:"sugar",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m801.728 349.184 4.48 4.48a128 128 0 0 1 0 180.992L534.656 806.144a128 128 0 0 1-181.056 0l-4.48-4.48-19.392 109.696a64 64 0 0 1-108.288 34.176L78.464 802.56a64 64 0 0 1 34.176-108.288l109.76-19.328-4.544-4.544a128 128 0 0 1 0-181.056l271.488-271.488a128 128 0 0 1 181.056 0l4.48 4.48 19.392-109.504a64 64 0 0 1 108.352-34.048l142.592 143.04a64 64 0 0 1-34.24 108.16l-109.248 19.2zm-548.8 198.72h447.168v2.24l60.8-60.8a63.808 63.808 0 0 0 18.752-44.416h-426.88l-89.664 89.728a64.064 64.064 0 0 0-10.24 13.248zm0 64c2.752 4.736 6.144 9.152 10.176 13.248l135.744 135.744a64 64 0 0 0 90.496 0L638.4 611.904zm490.048-230.976L625.152 263.104a64 64 0 0 0-90.496 0L416.768 380.928zM123.712 757.312l142.976 142.976 24.32-137.6a25.6 25.6 0 0 0-29.696-29.632l-137.6 24.256zm633.6-633.344-24.32 137.472a25.6 25.6 0 0 0 29.632 29.632l137.28-24.064-142.656-143.04z"})]))}}),OFe=RFe,DFe=Be({name:"SuitcaseLine",__name:"suitcase-line",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M922.5 229.5c-24.32-24.34-54.49-36.84-90.5-37.5H704v-64c-.68-17.98-7.02-32.98-19.01-44.99S658.01 64.66 640 64H384c-17.98.68-32.98 7.02-44.99 19.01S320.66 110 320 128v64H192c-35.99.68-66.16 13.18-90.5 37.5C77.16 253.82 64.66 283.99 64 320v448c.68 35.99 13.18 66.16 37.5 90.5s54.49 36.84 90.5 37.5h640c35.99-.68 66.16-13.18 90.5-37.5s36.84-54.49 37.5-90.5V320c-.68-35.99-13.18-66.16-37.5-90.5M384 128h256v64H384zM256 832h-64c-17.98-.68-32.98-7.02-44.99-19.01S128.66 786.01 128 768V448h128zm448 0H320V448h384zm192-64c-.68 17.98-7.02 32.98-19.01 44.99S850.01 831.34 832 832h-64V448h128zm0-384H128v-64c.69-17.98 7.02-32.98 19.01-44.99S173.99 256.66 192 256h640c17.98.69 32.98 7.02 44.99 19.01S895.34 301.99 896 320z"})]))}}),NFe=DFe,UFe=Be({name:"Suitcase",__name:"suitcase",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M128 384h768v-64a64 64 0 0 0-64-64H192a64 64 0 0 0-64 64zm0 64v320a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V448zm64-256h640a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128H192A128 128 0 0 1 64 768V320a128 128 0 0 1 128-128"}),pe("path",{fill:"currentColor",d:"M384 128v64h256v-64zm0-64h256a64 64 0 0 1 64 64v64a64 64 0 0 1-64 64H384a64 64 0 0 1-64-64v-64a64 64 0 0 1 64-64"})]))}}),zFe=UFe,$Fe=Be({name:"Sunny",__name:"sunny",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 704a192 192 0 1 0 0-384 192 192 0 0 0 0 384m0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512m0-704a32 32 0 0 1 32 32v64a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 768a32 32 0 0 1 32 32v64a32 32 0 1 1-64 0v-64a32 32 0 0 1 32-32M195.2 195.2a32 32 0 0 1 45.248 0l45.248 45.248a32 32 0 1 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm543.104 543.104a32 32 0 0 1 45.248 0l45.248 45.248a32 32 0 0 1-45.248 45.248l-45.248-45.248a32 32 0 0 1 0-45.248M64 512a32 32 0 0 1 32-32h64a32 32 0 0 1 0 64H96a32 32 0 0 1-32-32m768 0a32 32 0 0 1 32-32h64a32 32 0 1 1 0 64h-64a32 32 0 0 1-32-32M195.2 828.8a32 32 0 0 1 0-45.248l45.248-45.248a32 32 0 0 1 45.248 45.248L240.448 828.8a32 32 0 0 1-45.248 0zm543.104-543.104a32 32 0 0 1 0-45.248l45.248-45.248a32 32 0 0 1 45.248 45.248l-45.248 45.248a32 32 0 0 1-45.248 0"})]))}}),VFe=$Fe,HFe=Be({name:"Sunrise",__name:"sunrise",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M32 768h960a32 32 0 1 1 0 64H32a32 32 0 1 1 0-64m129.408-96a352 352 0 0 1 701.184 0h-64.32a288 288 0 0 0-572.544 0h-64.32zM512 128a32 32 0 0 1 32 32v96a32 32 0 0 1-64 0v-96a32 32 0 0 1 32-32m407.296 168.704a32 32 0 0 1 0 45.248l-67.84 67.84a32 32 0 1 1-45.248-45.248l67.84-67.84a32 32 0 0 1 45.248 0zm-814.592 0a32 32 0 0 1 45.248 0l67.84 67.84a32 32 0 1 1-45.248 45.248l-67.84-67.84a32 32 0 0 1 0-45.248"})]))}}),QFe=HFe,jFe=Be({name:"Sunset",__name:"sunset",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M82.56 640a448 448 0 1 1 858.88 0h-67.2a384 384 0 1 0-724.288 0zM32 704h960q32 0 32 32t-32 32H32q-32 0-32-32t32-32m256 128h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32"})]))}}),GFe=jFe,KFe=Be({name:"SwitchButton",__name:"switch-button",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M352 159.872V230.4a352 352 0 1 0 320 0v-70.528A416.128 416.128 0 0 1 512 960a416 416 0 0 1-160-800.128z"}),pe("path",{fill:"currentColor",d:"M512 64q32 0 32 32v320q0 32-32 32t-32-32V96q0-32 32-32"})]))}}),WFe=KFe,qFe=Be({name:"SwitchFilled",__name:"switch-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M247.47 358.4v.04c.07 19.17 7.72 37.53 21.27 51.09s31.92 21.2 51.09 21.27c39.86 0 72.41-32.6 72.41-72.4s-32.6-72.36-72.41-72.36-72.36 32.55-72.36 72.36z"}),pe("path",{fill:"currentColor",d:"M492.38 128H324.7c-52.16 0-102.19 20.73-139.08 57.61a196.655 196.655 0 0 0-57.61 139.08V698.7c-.01 25.84 5.08 51.42 14.96 75.29s24.36 45.56 42.63 63.83 39.95 32.76 63.82 42.65a196.67 196.67 0 0 0 75.28 14.98h167.68c3.03 0 5.46-2.43 5.46-5.42V133.42c.6-2.99-1.83-5.42-5.46-5.42zm-56.11 705.88H324.7c-17.76.13-35.36-3.33-51.75-10.18s-31.22-16.94-43.61-29.67c-25.3-25.35-39.81-59.1-39.81-95.32V324.69c-.13-17.75 3.33-35.35 10.17-51.74a131.695 131.695 0 0 1 29.64-43.62c25.39-25.3 59.14-39.81 95.36-39.81h111.57zm402.12-647.67a196.655 196.655 0 0 0-139.08-57.61H580.48c-3.03 0-4.82 2.43-4.82 4.82v757.16c-.6 2.99 1.79 5.42 5.42 5.42h118.23a196.69 196.69 0 0 0 139.08-57.61A196.655 196.655 0 0 0 896 699.31V325.29a196.69 196.69 0 0 0-57.61-139.08zm-111.3 441.92c-42.83 0-77.82-34.99-77.82-77.82s34.98-77.82 77.82-77.82c42.83 0 77.82 34.99 77.82 77.82s-34.99 77.82-77.82 77.82z"})]))}}),YFe=qFe,XFe=Be({name:"Switch",__name:"switch",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M118.656 438.656a32 32 0 0 1 0-45.248L416 96l4.48-3.776A32 32 0 0 1 461.248 96l3.712 4.48a32.064 32.064 0 0 1-3.712 40.832L218.56 384H928a32 32 0 1 1 0 64H141.248a32 32 0 0 1-22.592-9.344zM64 608a32 32 0 0 1 32-32h786.752a32 32 0 0 1 22.656 54.592L608 928l-4.48 3.776a32.064 32.064 0 0 1-40.832-49.024L805.632 640H96a32 32 0 0 1-32-32"})]))}}),ZFe=XFe,JFe=Be({name:"TakeawayBox",__name:"takeaway-box",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M832 384H192v448h640zM96 320h832V128H96zm800 64v480a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V384H64a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32h896a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32zM416 512h192a32 32 0 0 1 0 64H416a32 32 0 0 1 0-64"})]))}}),eRe=JFe,tRe=Be({name:"Ticket",__name:"ticket",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M640 832H64V640a128 128 0 1 0 0-256V192h576v160h64V192h256v192a128 128 0 1 0 0 256v192H704V672h-64zm0-416v192h64V416z"})]))}}),nRe=tRe,rRe=Be({name:"Tickets",__name:"tickets",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M192 128v768h640V128zm-32-64h704a32 32 0 0 1 32 32v832a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h192v64H320zm0 384h384v64H320z"})]))}}),iRe=rRe,aRe=Be({name:"Timer",__name:"timer",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 896a320 320 0 1 0 0-640 320 320 0 0 0 0 640m0 64a384 384 0 1 1 0-768 384 384 0 0 1 0 768"}),pe("path",{fill:"currentColor",d:"M512 320a32 32 0 0 1 32 32l-.512 224a32 32 0 1 1-64 0L480 352a32 32 0 0 1 32-32"}),pe("path",{fill:"currentColor",d:"M448 576a64 64 0 1 0 128 0 64 64 0 1 0-128 0m96-448v128h-64V128h-96a32 32 0 0 1 0-64h256a32 32 0 1 1 0 64z"})]))}}),sRe=aRe,oRe=Be({name:"ToiletPaper",__name:"toilet-paper",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M595.2 128H320a192 192 0 0 0-192 192v576h384V352c0-90.496 32.448-171.2 83.2-224M736 64c123.712 0 224 128.96 224 288S859.712 640 736 640H576v320H64V320A256 256 0 0 1 320 64zM576 352v224h160c84.352 0 160-97.28 160-224s-75.648-224-160-224-160 97.28-160 224"}),pe("path",{fill:"currentColor",d:"M736 448c-35.328 0-64-43.008-64-96s28.672-96 64-96 64 43.008 64 96-28.672 96-64 96"})]))}}),lRe=oRe,uRe=Be({name:"Tools",__name:"tools",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M764.416 254.72a351.68 351.68 0 0 1 86.336 149.184H960v192.064H850.752a351.68 351.68 0 0 1-86.336 149.312l54.72 94.72-166.272 96-54.592-94.72a352.64 352.64 0 0 1-172.48 0L371.136 936l-166.272-96 54.72-94.72a351.68 351.68 0 0 1-86.336-149.312H64v-192h109.248a351.68 351.68 0 0 1 86.336-149.312L204.8 160l166.208-96h.192l54.656 94.592a352.64 352.64 0 0 1 172.48 0L652.8 64h.128L819.2 160l-54.72 94.72zM704 499.968a192 192 0 1 0-384 0 192 192 0 0 0 384 0"})]))}}),cRe=uRe,hRe=Be({name:"TopLeft",__name:"top-left",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M256 256h416a32 32 0 1 0 0-64H224a32 32 0 0 0-32 32v448a32 32 0 0 0 64 0z"}),pe("path",{fill:"currentColor",d:"M246.656 201.344a32 32 0 0 0-45.312 45.312l544 544a32 32 0 0 0 45.312-45.312l-544-544z"})]))}}),dRe=hRe,fRe=Be({name:"TopRight",__name:"top-right",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M768 256H353.6a32 32 0 1 1 0-64H800a32 32 0 0 1 32 32v448a32 32 0 0 1-64 0z"}),pe("path",{fill:"currentColor",d:"M777.344 201.344a32 32 0 0 1 45.312 45.312l-544 544a32 32 0 0 1-45.312-45.312l544-544z"})]))}}),pRe=fRe,ARe=Be({name:"Top",__name:"top",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M572.235 205.282v600.365a30.118 30.118 0 1 1-60.235 0V205.282L292.382 438.633a28.913 28.913 0 0 1-42.646 0 33.43 33.43 0 0 1 0-45.236l271.058-288.045a28.913 28.913 0 0 1 42.647 0L834.5 393.397a33.43 33.43 0 0 1 0 45.176 28.913 28.913 0 0 1-42.647 0l-219.618-233.23z"})]))}}),mRe=ARe,gRe=Be({name:"TrendCharts",__name:"trend-charts",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M128 896V128h768v768zm291.712-327.296 128 102.4 180.16-201.792-47.744-42.624-139.84 156.608-128-102.4-180.16 201.792 47.744 42.624 139.84-156.608zM816 352a48 48 0 1 0-96 0 48 48 0 0 0 96 0"})]))}}),vRe=gRe,_Re=Be({name:"TrophyBase",__name:"trophy-base",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M918.4 201.6c-6.4-6.4-12.8-9.6-22.4-9.6H768V96c0-9.6-3.2-16-9.6-22.4C752 67.2 745.6 64 736 64H288c-9.6 0-16 3.2-22.4 9.6C259.2 80 256 86.4 256 96v96H128c-9.6 0-16 3.2-22.4 9.6-6.4 6.4-9.6 16-9.6 22.4 3.2 108.8 25.6 185.6 64 224 34.4 34.4 77.56 55.65 127.65 61.99 10.91 20.44 24.78 39.25 41.95 56.41 40.86 40.86 91 65.47 150.4 71.9V768h-96c-9.6 0-16 3.2-22.4 9.6-6.4 6.4-9.6 12.8-9.6 22.4s3.2 16 9.6 22.4c6.4 6.4 12.8 9.6 22.4 9.6h256c9.6 0 16-3.2 22.4-9.6 6.4-6.4 9.6-12.8 9.6-22.4s-3.2-16-9.6-22.4c-6.4-6.4-12.8-9.6-22.4-9.6h-96V637.26c59.4-7.71 109.54-30.01 150.4-70.86 17.2-17.2 31.51-36.06 42.81-56.55 48.93-6.51 90.02-27.7 126.79-61.85 38.4-38.4 60.8-112 64-224 0-6.4-3.2-16-9.6-22.4zM256 438.4c-19.2-6.4-35.2-19.2-51.2-35.2-22.4-22.4-35.2-70.4-41.6-147.2H256zm390.4 80C608 553.6 566.4 576 512 576s-99.2-19.2-134.4-57.6C342.4 480 320 438.4 320 384V128h384v256c0 54.4-19.2 99.2-57.6 134.4m172.8-115.2c-16 16-32 25.6-51.2 35.2V256h92.8c-6.4 76.8-19.2 124.8-41.6 147.2zM768 896H256c-9.6 0-16 3.2-22.4 9.6-6.4 6.4-9.6 12.8-9.6 22.4s3.2 16 9.6 22.4c6.4 6.4 12.8 9.6 22.4 9.6h512c9.6 0 16-3.2 22.4-9.6 6.4-6.4 9.6-12.8 9.6-22.4s-3.2-16-9.6-22.4c-6.4-6.4-12.8-9.6-22.4-9.6"})]))}}),yRe=_Re,bRe=Be({name:"Trophy",__name:"trophy",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M480 896V702.08A256.256 256.256 0 0 1 264.064 512h-32.64a96 96 0 0 1-91.968-68.416L93.632 290.88a76.8 76.8 0 0 1 73.6-98.88H256V96a32 32 0 0 1 32-32h448a32 32 0 0 1 32 32v96h88.768a76.8 76.8 0 0 1 73.6 98.88L884.48 443.52A96 96 0 0 1 792.576 512h-32.64A256.256 256.256 0 0 1 544 702.08V896h128a32 32 0 1 1 0 64H352a32 32 0 1 1 0-64zm224-448V128H320v320a192 192 0 1 0 384 0m64 0h24.576a32 32 0 0 0 30.656-22.784l45.824-152.768A12.8 12.8 0 0 0 856.768 256H768zm-512 0V256h-88.768a12.8 12.8 0 0 0-12.288 16.448l45.824 152.768A32 32 0 0 0 231.424 448z"})]))}}),wRe=bRe,xRe=Be({name:"TurnOff",__name:"turn-off",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M329.956 257.138a254.862 254.862 0 0 0 0 509.724h364.088a254.862 254.862 0 0 0 0-509.724zm0-72.818h364.088a327.68 327.68 0 1 1 0 655.36H329.956a327.68 327.68 0 1 1 0-655.36z"}),pe("path",{fill:"currentColor",d:"M329.956 621.227a109.227 109.227 0 1 0 0-218.454 109.227 109.227 0 0 0 0 218.454m0 72.817a182.044 182.044 0 1 1 0-364.088 182.044 182.044 0 0 1 0 364.088"})]))}}),CRe=xRe,ERe=Be({name:"Umbrella",__name:"umbrella",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M320 768a32 32 0 1 1 64 0 64 64 0 0 0 128 0V512H64a448 448 0 1 1 896 0H576v256a128 128 0 1 1-256 0m570.688-320a384.128 384.128 0 0 0-757.376 0z"})]))}}),SRe=ERe,TRe=Be({name:"Unlock",__name:"unlock",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M224 448a32 32 0 0 0-32 32v384a32 32 0 0 0 32 32h576a32 32 0 0 0 32-32V480a32 32 0 0 0-32-32zm0-64h576a96 96 0 0 1 96 96v384a96 96 0 0 1-96 96H224a96 96 0 0 1-96-96V480a96 96 0 0 1 96-96"}),pe("path",{fill:"currentColor",d:"M512 544a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V576a32 32 0 0 1 32-32m178.304-295.296A192.064 192.064 0 0 0 320 320v64h352l96 38.4V448H256V320a256 256 0 0 1 493.76-95.104z"})]))}}),BRe=TRe,MRe=Be({name:"UploadFilled",__name:"upload-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M544 864V672h128L512 480 352 672h128v192H320v-1.6c-5.376.32-10.496 1.6-16 1.6A240 240 0 0 1 64 624c0-123.136 93.12-223.488 212.608-237.248A239.808 239.808 0 0 1 512 192a239.872 239.872 0 0 1 235.456 194.752c119.488 13.76 212.48 114.112 212.48 237.248a240 240 0 0 1-240 240c-5.376 0-10.56-1.28-16-1.6v1.6z"})]))}}),IRe=MRe,LRe=Be({name:"Upload",__name:"upload",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M160 832h704a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64m384-578.304V704h-64V247.296L237.248 490.048 192 444.8 508.8 128l316.8 316.8-45.312 45.248z"})]))}}),kRe=LRe,PRe=Be({name:"UserFilled",__name:"user-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M288 320a224 224 0 1 0 448 0 224 224 0 1 0-448 0m544 608H160a32 32 0 0 1-32-32v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 0 1-32 32z"})]))}}),FRe=PRe,RRe=Be({name:"User",__name:"user",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 512a192 192 0 1 0 0-384 192 192 0 0 0 0 384m0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512m320 320v-96a96 96 0 0 0-96-96H288a96 96 0 0 0-96 96v96a32 32 0 1 1-64 0v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 1 1-64 0"})]))}}),ORe=RRe,DRe=Be({name:"Van",__name:"van",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M128.896 736H96a32 32 0 0 1-32-32V224a32 32 0 0 1 32-32h576a32 32 0 0 1 32 32v96h164.544a32 32 0 0 1 31.616 27.136l54.144 352A32 32 0 0 1 922.688 736h-91.52a144 144 0 1 1-286.272 0H415.104a144 144 0 1 1-286.272 0zm23.36-64a143.872 143.872 0 0 1 239.488 0H568.32c17.088-25.6 42.24-45.376 71.744-55.808V256H128v416zm655.488 0h77.632l-19.648-128H704v64.896A144 144 0 0 1 807.744 672m48.128-192-14.72-96H704v96h151.872M688 832a80 80 0 1 0 0-160 80 80 0 0 0 0 160m-416 0a80 80 0 1 0 0-160 80 80 0 0 0 0 160"})]))}}),NRe=DRe,URe=Be({name:"VideoCameraFilled",__name:"video-camera-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m768 576 192-64v320l-192-64v96a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V480a32 32 0 0 1 32-32h640a32 32 0 0 1 32 32zM192 768v64h384v-64zm192-480a160 160 0 0 1 320 0 160 160 0 0 1-320 0m64 0a96 96 0 1 0 192.064-.064A96 96 0 0 0 448 288m-320 32a128 128 0 1 1 256.064.064A128 128 0 0 1 128 320m64 0a64 64 0 1 0 128 0 64 64 0 0 0-128 0"})]))}}),zRe=URe,$Re=Be({name:"VideoCamera",__name:"video-camera",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M704 768V256H128v512zm64-416 192-96v512l-192-96v128a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V224a32 32 0 0 1 32-32h640a32 32 0 0 1 32 32zm0 71.552v176.896l128 64V359.552zM192 320h192v64H192z"})]))}}),VRe=$Re,HRe=Be({name:"VideoPause",__name:"video-pause",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 832a384 384 0 0 0 0-768 384 384 0 0 0 0 768m-96-544q32 0 32 32v256q0 32-32 32t-32-32V384q0-32 32-32m192 0q32 0 32 32v256q0 32-32 32t-32-32V384q0-32 32-32"})]))}}),QRe=HRe,jRe=Be({name:"VideoPlay",__name:"video-play",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 832a384 384 0 0 0 0-768 384 384 0 0 0 0 768m-48-247.616L668.608 512 464 375.616zm10.624-342.656 249.472 166.336a48 48 0 0 1 0 79.872L474.624 718.272A48 48 0 0 1 400 678.336V345.6a48 48 0 0 1 74.624-39.936z"})]))}}),GRe=jRe,KRe=Be({name:"View",__name:"view",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),_ae=KRe,WRe=Be({name:"WalletFilled",__name:"wallet-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M688 512a112 112 0 1 0 0 224h208v160H128V352h768v160zm32 160h-32a48 48 0 0 1 0-96h32a48 48 0 0 1 0 96m-80-544 128 160H384z"})]))}}),qRe=WRe,YRe=Be({name:"Wallet",__name:"wallet",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M640 288h-64V128H128v704h384v32a32 32 0 0 0 32 32H96a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32h512a32 32 0 0 1 32 32z"}),pe("path",{fill:"currentColor",d:"M128 320v512h768V320zm-32-64h832a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V288a32 32 0 0 1 32-32"}),pe("path",{fill:"currentColor",d:"M704 640a64 64 0 1 1 0-128 64 64 0 0 1 0 128"})]))}}),XRe=YRe,ZRe=Be({name:"WarnTriangleFilled",__name:"warn-triangle-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M928.99 755.83 574.6 203.25c-12.89-20.16-36.76-32.58-62.6-32.58s-49.71 12.43-62.6 32.58L95.01 755.83c-12.91 20.12-12.9 44.91.01 65.03 12.92 20.12 36.78 32.51 62.59 32.49h708.78c25.82.01 49.68-12.37 62.59-32.49 12.91-20.12 12.92-44.91.01-65.03M554.67 768h-85.33v-85.33h85.33zm0-426.67v298.66h-85.33V341.32z"})]))}}),JRe=ZRe,eOe=Be({name:"WarningFilled",__name:"warning-filled",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),g5=eOe,tOe=Be({name:"Warning",__name:"warning",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 832a384 384 0 0 0 0-768 384 384 0 0 0 0 768m48-176a48 48 0 1 1-96 0 48 48 0 0 1 96 0m-48-464a32 32 0 0 1 32 32v288a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"})]))}}),nOe=tOe,rOe=Be({name:"Watch",__name:"watch",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M512 768a256 256 0 1 0 0-512 256 256 0 0 0 0 512m0 64a320 320 0 1 1 0-640 320 320 0 0 1 0 640"}),pe("path",{fill:"currentColor",d:"M480 352a32 32 0 0 1 32 32v160a32 32 0 0 1-64 0V384a32 32 0 0 1 32-32"}),pe("path",{fill:"currentColor",d:"M480 512h128q32 0 32 32t-32 32H480q-32 0-32-32t32-32m128-256V128H416v128h-64V64h320v192zM416 768v128h192V768h64v192H352V768z"})]))}}),iOe=rOe,aOe=Be({name:"Watermelon",__name:"watermelon",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m683.072 600.32-43.648 162.816-61.824-16.512 53.248-198.528L576 493.248l-158.4 158.4-45.248-45.248 158.4-158.4-55.616-55.616-198.528 53.248-16.512-61.824 162.816-43.648L282.752 200A384 384 0 0 0 824 741.248zm231.552 141.056a448 448 0 1 1-632-632l632 632"})]))}}),sOe=aOe,oOe=Be({name:"WindPower",__name:"wind-power",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"M160 64q32 0 32 32v832q0 32-32 32t-32-32V96q0-32 32-32m416 354.624 128-11.584V168.96l-128-11.52v261.12zm-64 5.824V151.552L320 134.08V160h-64V64l616.704 56.064A96 96 0 0 1 960 215.68v144.64a96 96 0 0 1-87.296 95.616L256 512V224h64v217.92zm256-23.232 98.88-8.96A32 32 0 0 0 896 360.32V215.68a32 32 0 0 0-29.12-31.872l-98.88-8.96z"})]))}}),lOe=oOe,uOe=Be({name:"ZoomIn",__name:"zoom-in",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),u7=uOe,cOe=Be({name:"ZoomOut",__name:"zoom-out",setup(t){return(e,n)=>(X(),ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[pe("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),yae=cOe;const hOe=Object.freeze(Object.defineProperty({__proto__:null,AddLocation:lTe,Aim:cTe,AlarmClock:dTe,Apple:pTe,ArrowDown:Rm,ArrowDownBold:mTe,ArrowLeft:o0,ArrowLeftBold:_Te,ArrowRight:Vc,ArrowRightBold:wTe,ArrowUp:ZB,ArrowUpBold:ETe,Avatar:BTe,Back:eae,Baseball:LTe,Basketball:PTe,Bell:DTe,BellFilled:RTe,Bicycle:UTe,Bottom:jTe,BottomLeft:$Te,BottomRight:HTe,Bowl:KTe,Box:qTe,Briefcase:XTe,Brush:t8e,BrushFilled:JTe,Burger:r8e,Calendar:tae,Camera:l8e,CameraFilled:s8e,CaretBottom:c8e,CaretLeft:d8e,CaretRight:a7,CaretTop:nae,Cellphone:m8e,ChatDotRound:v8e,ChatDotSquare:y8e,ChatLineRound:w8e,ChatLineSquare:C8e,ChatRound:S8e,ChatSquare:B8e,Check:rx,Checked:L8e,Cherry:P8e,Chicken:R8e,ChromeFilled:D8e,CircleCheck:JB,CircleCheckFilled:rae,CircleClose:w0,CircleCloseFilled:eM,CirclePlus:j8e,CirclePlusFilled:H8e,Clock:s7,Close:Rf,CloseBold:W8e,Cloudy:X8e,Coffee:tBe,CoffeeCup:J8e,Coin:rBe,ColdDrink:aBe,Collection:uBe,CollectionTag:oBe,Comment:hBe,Compass:fBe,Connection:ABe,Coordinate:gBe,CopyDocument:_Be,Cpu:bBe,CreditCard:xBe,Crop:EBe,DArrowLeft:Cy,DArrowRight:Ey,DCaret:MBe,DataAnalysis:LBe,DataBoard:PBe,DataLine:RBe,Delete:iae,DeleteFilled:DBe,DeleteLocation:UBe,Dessert:VBe,Discount:QBe,Dish:WBe,DishDot:GBe,Document:aae,DocumentAdd:YBe,DocumentChecked:ZBe,DocumentCopy:eMe,DocumentDelete:nMe,DocumentRemove:iMe,Download:oMe,Drizzling:uMe,Edit:fMe,EditPen:hMe,Eleme:gMe,ElemeFilled:AMe,ElementPlus:_Me,Expand:bMe,Failed:xMe,Female:EMe,Files:TMe,Film:MMe,Filter:LMe,Finished:PMe,FirstAidKit:RMe,Flag:DMe,Fold:UMe,Folder:XMe,FolderAdd:$Me,FolderChecked:HMe,FolderDelete:jMe,FolderOpened:KMe,FolderRemove:qMe,Food:JMe,Football:tIe,ForkSpoon:rIe,Fries:aIe,FullScreen:sae,Goblet:pIe,GobletFull:lIe,GobletSquare:dIe,GobletSquareFull:cIe,GoldMedal:mIe,Goods:yIe,GoodsFilled:vIe,Grape:wIe,Grid:CIe,Guide:SIe,Handbag:BIe,Headset:IIe,Help:FIe,HelpFilled:kIe,Hide:oae,Histogram:DIe,HomeFilled:UIe,HotWater:$Ie,House:HIe,IceCream:qIe,IceCreamRound:jIe,IceCreamSquare:KIe,IceDrink:XIe,IceTea:JIe,InfoFilled:tM,Iphone:nLe,Key:iLe,KnifeFork:sLe,Lightning:lLe,Link:cLe,List:dLe,Loading:x0,Location:_Le,LocationFilled:ALe,LocationInformation:gLe,Lock:bLe,Lollipop:xLe,MagicStick:ELe,Magnet:TLe,Male:MLe,Management:LLe,MapLocation:PLe,Medal:RLe,Memo:DLe,Menu:ULe,Message:HLe,MessageBox:$Le,Mic:jLe,Microphone:KLe,MilkTea:qLe,Minus:lae,Money:ZLe,Monitor:eke,Moon:ike,MoonNight:nke,More:uae,MoreFilled:MR,MostlyCloudy:lke,Mouse:cke,Mug:dke,Mute:mke,MuteNotification:pke,NoSmoking:vke,Notebook:yke,Notification:wke,Odometer:Cke,OfficeBuilding:Ske,Open:Bke,Operation:Ike,Opportunity:kke,Orange:Fke,Paperclip:Oke,PartlyCloudy:Nke,Pear:zke,Phone:Qke,PhoneFilled:Vke,Picture:qke,PictureFilled:cae,PictureRounded:Kke,PieChart:Xke,Place:Jke,Platform:tPe,Plus:o7,Pointer:iPe,Position:sPe,Postcard:lPe,Pouring:cPe,Present:dPe,PriceTag:pPe,Printer:mPe,Promotion:vPe,QuartzWatch:yPe,QuestionFilled:hae,Rank:xPe,Reading:TPe,ReadingLamp:EPe,Refresh:LPe,RefreshLeft:dae,RefreshRight:fae,Refrigerator:PPe,Remove:DPe,RemoveFilled:RPe,Right:UPe,ScaleToOriginal:pae,School:VPe,Scissor:QPe,Search:Aae,Select:KPe,Sell:qPe,SemiSelect:XPe,Service:JPe,SetUp:tFe,Setting:rFe,Share:aFe,Ship:oFe,Shop:uFe,ShoppingBag:hFe,ShoppingCart:AFe,ShoppingCartFull:fFe,ShoppingTrolley:gFe,Smoking:_Fe,Soccer:bFe,SoldOut:xFe,Sort:TFe,SortDown:mae,SortUp:gae,Stamp:MFe,Star:vae,StarFilled:U4,Stopwatch:PFe,SuccessFilled:l7,Sugar:OFe,Suitcase:zFe,SuitcaseLine:NFe,Sunny:VFe,Sunrise:QFe,Sunset:GFe,Switch:ZFe,SwitchButton:WFe,SwitchFilled:YFe,TakeawayBox:eRe,Ticket:nRe,Tickets:iRe,Timer:sRe,ToiletPaper:lRe,Tools:cRe,Top:mRe,TopLeft:dRe,TopRight:pRe,TrendCharts:vRe,Trophy:wRe,TrophyBase:yRe,TurnOff:CRe,Umbrella:SRe,Unlock:BRe,Upload:kRe,UploadFilled:IRe,User:ORe,UserFilled:FRe,Van:NRe,VideoCamera:VRe,VideoCameraFilled:zRe,VideoPause:QRe,VideoPlay:GRe,View:_ae,Wallet:XRe,WalletFilled:qRe,WarnTriangleFilled:JRe,Warning:nOe,WarningFilled:g5,Watch:iOe,Watermelon:sOe,WindPower:lOe,ZoomIn:u7,ZoomOut:yae},Symbol.toStringTag,{value:"Module"})),bae="__epPropKey",Rt=t=>t,dOe=t=>mi(t)&&!!t[bae],cA=(t,e)=>{if(!mi(t)||dOe(t))return t;const{values:n,required:r,default:i,type:s,validator:l}=t,a={type:s,required:!!r,validator:n||l?f=>{let p=!1,m=[];if(n&&(m=Array.from(n),aa(t,"default")&&m.push(i),p||(p=m.includes(f))),l&&(p||(p=l(f))),!p&&m.length>0){const v=[...new Set(m)].map(y=>JSON.stringify(y)).join(", ");C_e(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${v}], got value ${JSON.stringify(f)}.`)}return p}:void 0,[bae]:!0};return aa(t,"default")&&(a.default=i),a},Ln=t=>f8(Object.entries(t).map(([e,n])=>[e,cA(n,e)])),ts=Rt([String,Object,Function]),c7={Close:Rf},h7={Close:Rf,SuccessFilled:l7,InfoFilled:tM,WarningFilled:g5,CircleCloseFilled:eM},f1={success:l7,warning:g5,error:eM,info:tM},d7={validating:x0,success:JB,error:w0},pi=(t,e)=>{if(t.install=n=>{for(const r of[t,...Object.values(e??{})])n.component(r.name,r)},e)for(const[n,r]of Object.entries(e))t[n]=r;return t},wae=(t,e)=>(t.install=n=>{t._context=n._context,n.config.globalProperties[e]=t},t),fOe=(t,e)=>(t.install=n=>{n.directive(e,t)},t),ao=t=>(t.install=Qa,t),nM=(...t)=>e=>{t.forEach(n=>{Dr(n)?n(e):n.value=e})},Tr={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},pOe=["year","years","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],Ck=["sun","mon","tue","wed","thu","fri","sat"],_i="update:modelValue",bs="change",lh="input",mW=Symbol("INSTALLED_KEY"),Om=["","default","small","large"],xae=t=>["",...Om].includes(t);var _f=(t=>(t[t.TEXT=1]="TEXT",t[t.CLASS=2]="CLASS",t[t.STYLE=4]="STYLE",t[t.PROPS=8]="PROPS",t[t.FULL_PROPS=16]="FULL_PROPS",t[t.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",t[t.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",t[t.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",t[t.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",t[t.NEED_PATCH=512]="NEED_PATCH",t[t.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",t[t.HOISTED=-1]="HOISTED",t[t.BAIL=-2]="BAIL",t))(_f||{});function IR(t){return Ks(t)&&t.type===Vn}function AOe(t){return Ks(t)&&t.type===Dc}function mOe(t){return Ks(t)&&!IR(t)&&!AOe(t)}const gOe=t=>{if(!Ks(t))return{};const e=t.props||{},n=(Ks(t.type)?t.type.props:void 0)||{},r={};return Object.keys(n).forEach(i=>{aa(n[i],"default")&&(r[i]=n[i].default)}),Object.keys(e).forEach(i=>{r[Gd(i)]=e[i]}),r},vOe=t=>{if(!Jn(t)||t.length>1)throw new Error("expect to receive a single Vue element child");return t[0]},r1=t=>{const e=Jn(t)?t:[t],n=[];return e.forEach(r=>{var i;Jn(r)?n.push(...r1(r)):Ks(r)&&Jn(r.children)?n.push(...r1(r.children)):(n.push(r),Ks(r)&&((i=r.component)!=null&&i.subTree)&&n.push(...r1(r.component.subTree)))}),n},gW=t=>[...new Set(t)],Dd=t=>!t&&t!==0?[]:Array.isArray(t)?t:[t],f7=t=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(t),ro=t=>t;function _Oe(t){let e=0;const n=(...r)=>{e&&xy(e),e=d1(()=>{t(...r),e=0})};return n.cancel=()=>{xy(e),e=0},n}const yOe=["class","style"],bOe=/^on[A-Z]/,p7=(t={})=>{const{excludeListeners:e=!1,excludeKeys:n}=t,r=le(()=>((n==null?void 0:n.value)||[]).concat(yOe)),i=ci();return le(i?()=>{var s;return f8(Object.entries((s=i.proxy)==null?void 0:s.$attrs).filter(([l])=>!r.value.includes(l)&&!(e&&bOe.test(l))))}:()=>({}))},wu=({from:t,replacement:e,scope:n,version:r,ref:i,type:s="API"},l)=>{ln(()=>S(l),c=>{},{immediate:!0})},Cae=(t,e,n,r)=>{let i={offsetX:0,offsetY:0};const s=a=>{const f=a.clientX,p=a.clientY,{offsetX:m,offsetY:v}=i,y=t.value.getBoundingClientRect(),T=y.left,C=y.top,k=y.width,M=y.height,P=document.documentElement.clientWidth,R=document.documentElement.clientHeight,N=-T+m,z=-C+v,H=P-T-k+m,j=R-C-M+v,Q=ie=>{let q=m+ie.clientX-f,W=v+ie.clientY-p;r!=null&&r.value||(q=Math.min(Math.max(q,N),H),W=Math.min(Math.max(W,z),j)),i={offsetX:q,offsetY:W},t.value&&(t.value.style.transform=`translate(${So(q)}, ${So(W)})`)},G=()=>{document.removeEventListener("mousemove",Q),document.removeEventListener("mouseup",G)};document.addEventListener("mousemove",Q),document.addEventListener("mouseup",G)},l=()=>{e.value&&t.value&&e.value.addEventListener("mousedown",s)},c=()=>{e.value&&t.value&&e.value.removeEventListener("mousedown",s)};Fr(()=>{uc(()=>{n.value?l():c()})}),ps(()=>{c()})};var wOe={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const xOe=t=>(e,n)=>COe(e,n,S(t)),COe=(t,e,n)=>Oo(n,t,t).replace(/\{(\w+)\}/g,(r,i)=>{var s;return`${(s=e==null?void 0:e[i])!=null?s:`{${i}}`}`}),EOe=t=>{const e=le(()=>S(t).name),n=fs(t)?t:Te(t);return{lang:e,locale:n,t:xOe(t)}},Eae=Symbol("localeContextKey"),da=t=>{const e=t||ar(Eae,Te());return EOe(le(()=>e.value||wOe))},_C="el",SOe="is-",y_=(t,e,n,r,i)=>{let s=`${t}-${e}`;return n&&(s+=`-${n}`),r&&(s+=`__${r}`),i&&(s+=`--${i}`),s},Sae=Symbol("namespaceContextKey"),A7=t=>{const e=t||(ci()?ar(Sae,Te(_C)):Te(_C));return le(()=>S(e)||_C)},vn=(t,e)=>{const n=A7(e);return{namespace:n,b:(C="")=>y_(n.value,t,C,"",""),e:C=>C?y_(n.value,t,"",C,""):"",m:C=>C?y_(n.value,t,"","",C):"",be:(C,k)=>C&&k?y_(n.value,t,C,k,""):"",em:(C,k)=>C&&k?y_(n.value,t,"",C,k):"",bm:(C,k)=>C&&k?y_(n.value,t,C,"",k):"",bem:(C,k,M)=>C&&k&&M?y_(n.value,t,C,k,M):"",is:(C,...k)=>{const M=k.length>=1?k[0]:!0;return C&&M?`${SOe}${C}`:""},cssVar:C=>{const k={};for(const M in C)C[M]&&(k[`--${n.value}-${M}`]=C[M]);return k},cssVarName:C=>`--${n.value}-${C}`,cssVarBlock:C=>{const k={};for(const M in C)C[M]&&(k[`--${n.value}-${t}-${M}`]=C[M]);return k},cssVarBlockName:C=>`--${n.value}-${t}-${C}`}},m7=(t,e={})=>{fs(t)||Ul("[useLockscreen]","You need to pass a ref param to this function");const n=e.ns||vn("popup"),r=rne(()=>n.bm("parent","hidden"));if(!ra||Lf(document.body,r.value))return;let i=0,s=!1,l="0";const c=()=>{setTimeout(()=>{$c(document==null?void 0:document.body,r.value),s&&document&&(document.body.style.width=l)},200)};ln(t,a=>{if(!a){c();return}s=!Lf(document.body,r.value),s&&(l=document.body.style.width),i=Zie(n.namespace.value);const f=document.documentElement.clientHeight<document.body.scrollHeight,p=Uv(document.body,"overflowY");i>0&&(f||p==="scroll")&&s&&(document.body.style.width=`calc(100% - ${i}px)`),Cf(document.body,r.value)}),qN(()=>c())},TOe=cA({type:Rt(Boolean),default:null}),BOe=cA({type:Rt(Function)}),Tae=t=>{const e=`update:${t}`,n=`onUpdate:${t}`,r=[e],i={[t]:TOe,[n]:BOe};return{useModelToggle:({indicator:l,toggleReason:c,shouldHideWhenRouteChanges:a,shouldProceed:f,onShow:p,onHide:m})=>{const v=ci(),{emit:y}=v,T=v.props,C=le(()=>Dr(T[n])),k=le(()=>T[t]===null),M=j=>{l.value!==!0&&(l.value=!0,c&&(c.value=j),Dr(p)&&p(j))},P=j=>{l.value!==!1&&(l.value=!1,c&&(c.value=j),Dr(m)&&m(j))},R=j=>{if(T.disabled===!0||Dr(f)&&!f())return;const Q=C.value&&ra;Q&&y(e,!0),(k.value||!Q)&&M(j)},N=j=>{if(T.disabled===!0||!ra)return;const Q=C.value&&ra;Q&&y(e,!1),(k.value||!Q)&&P(j)},z=j=>{Jo(j)&&(T.disabled&&j?C.value&&y(e,!1):l.value!==j&&(j?M():P()))},H=()=>{l.value?N():R()};return ln(()=>T[t],z),a&&v.appContext.config.globalProperties.$route!==void 0&&ln(()=>({...v.proxy.$route}),()=>{a.value&&l.value&&N()}),Fr(()=>{z(T[t])}),{hide:N,show:R,toggle:H,hasUpdateHandler:C}},useModelToggleProps:i,useModelToggleEmits:r}};Tae("modelValue");const Bae=t=>{const e=ci();return le(()=>{var n,r;return(r=(n=e==null?void 0:e.proxy)==null?void 0:n.$props)==null?void 0:r[t]})};var Qh="top",Of="bottom",Df="right",jh="left",g7="auto",v5=[Qh,Of,Df,jh],T2="start",c6="end",MOe="clippingParents",Mae="viewport",A4="popper",IOe="reference",vW=v5.reduce(function(t,e){return t.concat([e+"-"+T2,e+"-"+c6])},[]),Hy=[].concat(v5,[g7]).reduce(function(t,e){return t.concat([e,e+"-"+T2,e+"-"+c6])},[]),LOe="beforeRead",kOe="read",POe="afterRead",FOe="beforeMain",ROe="main",OOe="afterMain",DOe="beforeWrite",NOe="write",UOe="afterWrite",zOe=[LOe,kOe,POe,FOe,ROe,OOe,DOe,NOe,UOe];function Em(t){return t?(t.nodeName||"").toLowerCase():null}function hA(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function B2(t){var e=hA(t).Element;return t instanceof e||t instanceof Element}function kf(t){var e=hA(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function v7(t){if(typeof ShadowRoot>"u")return!1;var e=hA(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function $Oe(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!kf(s)||!Em(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(l){var c=i[l];c===!1?s.removeAttribute(l):s.setAttribute(l,c===!0?"":c)}))})}function VOe(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},l=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),c=l.reduce(function(a,f){return a[f]="",a},{});!kf(i)||!Em(i)||(Object.assign(i.style,c),Object.keys(s).forEach(function(a){i.removeAttribute(a)}))})}}var Iae={name:"applyStyles",enabled:!0,phase:"write",fn:$Oe,effect:VOe,requires:["computeStyles"]};function mm(t){return t.split("-")[0]}var oy=Math.max,p8=Math.min,M2=Math.round;function I2(t,e){e===void 0&&(e=!1);var n=t.getBoundingClientRect(),r=1,i=1;if(kf(t)&&e){var s=t.offsetHeight,l=t.offsetWidth;l>0&&(r=M2(n.width)/l||1),s>0&&(i=M2(n.height)/s||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function _7(t){var e=I2(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Lae(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&v7(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function l0(t){return hA(t).getComputedStyle(t)}function HOe(t){return["table","td","th"].indexOf(Em(t))>=0}function R1(t){return((B2(t)?t.ownerDocument:t.document)||window.document).documentElement}function rM(t){return Em(t)==="html"?t:t.assignedSlot||t.parentNode||(v7(t)?t.host:null)||R1(t)}function _W(t){return!kf(t)||l0(t).position==="fixed"?null:t.offsetParent}function QOe(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&kf(t)){var r=l0(t);if(r.position==="fixed")return null}var i=rM(t);for(v7(i)&&(i=i.host);kf(i)&&["html","body"].indexOf(Em(i))<0;){var s=l0(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function _5(t){for(var e=hA(t),n=_W(t);n&&HOe(n)&&l0(n).position==="static";)n=_W(n);return n&&(Em(n)==="html"||Em(n)==="body"&&l0(n).position==="static")?e:n||QOe(t)||e}function y7(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function yC(t,e,n){return oy(t,p8(e,n))}function jOe(t,e,n){var r=yC(t,e,n);return r>n?n:r}function kae(){return{top:0,right:0,bottom:0,left:0}}function Pae(t){return Object.assign({},kae(),t)}function Fae(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var GOe=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,Pae(typeof t!="number"?t:Fae(t,v5))};function KOe(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,l=n.modifiersData.popperOffsets,c=mm(n.placement),a=y7(c),f=[jh,Df].indexOf(c)>=0,p=f?"height":"width";if(!(!s||!l)){var m=GOe(i.padding,n),v=_7(s),y=a==="y"?Qh:jh,T=a==="y"?Of:Df,C=n.rects.reference[p]+n.rects.reference[a]-l[a]-n.rects.popper[p],k=l[a]-n.rects.reference[a],M=_5(s),P=M?a==="y"?M.clientHeight||0:M.clientWidth||0:0,R=C/2-k/2,N=m[y],z=P-v[p]-m[T],H=P/2-v[p]/2+R,j=yC(N,H,z),Q=a;n.modifiersData[r]=(e={},e[Q]=j,e.centerOffset=j-H,e)}}function WOe(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||!Lae(e.elements.popper,i)||(e.elements.arrow=i))}var qOe={name:"arrow",enabled:!0,phase:"main",fn:KOe,effect:WOe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function L2(t){return t.split("-")[1]}var YOe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function XOe(t){var e=t.x,n=t.y,r=window,i=r.devicePixelRatio||1;return{x:M2(e*i)/i||0,y:M2(n*i)/i||0}}function yW(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,l=t.offsets,c=t.position,a=t.gpuAcceleration,f=t.adaptive,p=t.roundOffsets,m=t.isFixed,v=l.x,y=v===void 0?0:v,T=l.y,C=T===void 0?0:T,k=typeof p=="function"?p({x:y,y:C}):{x:y,y:C};y=k.x,C=k.y;var M=l.hasOwnProperty("x"),P=l.hasOwnProperty("y"),R=jh,N=Qh,z=window;if(f){var H=_5(n),j="clientHeight",Q="clientWidth";if(H===hA(n)&&(H=R1(n),l0(H).position!=="static"&&c==="absolute"&&(j="scrollHeight",Q="scrollWidth")),H=H,i===Qh||(i===jh||i===Df)&&s===c6){N=Of;var G=m&&H===z&&z.visualViewport?z.visualViewport.height:H[j];C-=G-r.height,C*=a?1:-1}if(i===jh||(i===Qh||i===Of)&&s===c6){R=Df;var ie=m&&H===z&&z.visualViewport?z.visualViewport.width:H[Q];y-=ie-r.width,y*=a?1:-1}}var q=Object.assign({position:c},f&&YOe),W=p===!0?XOe({x:y,y:C}):{x:y,y:C};if(y=W.x,C=W.y,a){var ee;return Object.assign({},q,(ee={},ee[N]=P?"0":"",ee[R]=M?"0":"",ee.transform=(z.devicePixelRatio||1)<=1?"translate("+y+"px, "+C+"px)":"translate3d("+y+"px, "+C+"px, 0)",ee))}return Object.assign({},q,(e={},e[N]=P?C+"px":"",e[R]=M?y+"px":"",e.transform="",e))}function ZOe(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,l=s===void 0?!0:s,c=n.roundOffsets,a=c===void 0?!0:c,f={placement:mm(e.placement),variation:L2(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,yW(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:a})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,yW(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var Rae={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ZOe,data:{}},bS={passive:!0};function JOe(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,l=r.resize,c=l===void 0?!0:l,a=hA(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&f.forEach(function(p){p.addEventListener("scroll",n.update,bS)}),c&&a.addEventListener("resize",n.update,bS),function(){s&&f.forEach(function(p){p.removeEventListener("scroll",n.update,bS)}),c&&a.removeEventListener("resize",n.update,bS)}}var Oae={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:JOe,data:{}},eDe={left:"right",right:"left",bottom:"top",top:"bottom"};function aT(t){return t.replace(/left|right|bottom|top/g,function(e){return eDe[e]})}var tDe={start:"end",end:"start"};function bW(t){return t.replace(/start|end/g,function(e){return tDe[e]})}function b7(t){var e=hA(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function w7(t){return I2(R1(t)).left+b7(t).scrollLeft}function nDe(t){var e=hA(t),n=R1(t),r=e.visualViewport,i=n.clientWidth,s=n.clientHeight,l=0,c=0;return r&&(i=r.width,s=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(l=r.offsetLeft,c=r.offsetTop)),{width:i,height:s,x:l+w7(t),y:c}}function rDe(t){var e,n=R1(t),r=b7(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=oy(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),l=oy(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-r.scrollLeft+w7(t),a=-r.scrollTop;return l0(i||n).direction==="rtl"&&(c+=oy(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:l,x:c,y:a}}function x7(t){var e=l0(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Dae(t){return["html","body","#document"].indexOf(Em(t))>=0?t.ownerDocument.body:kf(t)&&x7(t)?t:Dae(rM(t))}function bC(t,e){var n;e===void 0&&(e=[]);var r=Dae(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=hA(r),l=i?[s].concat(s.visualViewport||[],x7(r)?r:[]):r,c=e.concat(l);return i?c:c.concat(bC(rM(l)))}function LR(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function iDe(t){var e=I2(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function wW(t,e){return e===Mae?LR(nDe(t)):B2(e)?iDe(e):LR(rDe(R1(t)))}function aDe(t){var e=bC(rM(t)),n=["absolute","fixed"].indexOf(l0(t).position)>=0,r=n&&kf(t)?_5(t):t;return B2(r)?e.filter(function(i){return B2(i)&&Lae(i,r)&&Em(i)!=="body"}):[]}function sDe(t,e,n){var r=e==="clippingParents"?aDe(t):[].concat(e),i=[].concat(r,[n]),s=i[0],l=i.reduce(function(c,a){var f=wW(t,a);return c.top=oy(f.top,c.top),c.right=p8(f.right,c.right),c.bottom=p8(f.bottom,c.bottom),c.left=oy(f.left,c.left),c},wW(t,s));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Nae(t){var e=t.reference,n=t.element,r=t.placement,i=r?mm(r):null,s=r?L2(r):null,l=e.x+e.width/2-n.width/2,c=e.y+e.height/2-n.height/2,a;switch(i){case Qh:a={x:l,y:e.y-n.height};break;case Of:a={x:l,y:e.y+e.height};break;case Df:a={x:e.x+e.width,y:c};break;case jh:a={x:e.x-n.width,y:c};break;default:a={x:e.x,y:e.y}}var f=i?y7(i):null;if(f!=null){var p=f==="y"?"height":"width";switch(s){case T2:a[f]=a[f]-(e[p]/2-n[p]/2);break;case c6:a[f]=a[f]+(e[p]/2-n[p]/2);break}}return a}function h6(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.boundary,l=s===void 0?MOe:s,c=n.rootBoundary,a=c===void 0?Mae:c,f=n.elementContext,p=f===void 0?A4:f,m=n.altBoundary,v=m===void 0?!1:m,y=n.padding,T=y===void 0?0:y,C=Pae(typeof T!="number"?T:Fae(T,v5)),k=p===A4?IOe:A4,M=t.rects.popper,P=t.elements[v?k:p],R=sDe(B2(P)?P:P.contextElement||R1(t.elements.popper),l,a),N=I2(t.elements.reference),z=Nae({reference:N,element:M,strategy:"absolute",placement:i}),H=LR(Object.assign({},M,z)),j=p===A4?H:N,Q={top:R.top-j.top+C.top,bottom:j.bottom-R.bottom+C.bottom,left:R.left-j.left+C.left,right:j.right-R.right+C.right},G=t.modifiersData.offset;if(p===A4&&G){var ie=G[i];Object.keys(Q).forEach(function(q){var W=[Df,Of].indexOf(q)>=0?1:-1,ee=[Qh,Of].indexOf(q)>=0?"y":"x";Q[q]+=ie[ee]*W})}return Q}function oDe(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,l=n.padding,c=n.flipVariations,a=n.allowedAutoPlacements,f=a===void 0?Hy:a,p=L2(r),m=p?c?vW:vW.filter(function(T){return L2(T)===p}):v5,v=m.filter(function(T){return f.indexOf(T)>=0});v.length===0&&(v=m);var y=v.reduce(function(T,C){return T[C]=h6(t,{placement:C,boundary:i,rootBoundary:s,padding:l})[mm(C)],T},{});return Object.keys(y).sort(function(T,C){return y[T]-y[C]})}function lDe(t){if(mm(t)===g7)return[];var e=aT(t);return[bW(t),e,bW(e)]}function uDe(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,l=n.altAxis,c=l===void 0?!0:l,a=n.fallbackPlacements,f=n.padding,p=n.boundary,m=n.rootBoundary,v=n.altBoundary,y=n.flipVariations,T=y===void 0?!0:y,C=n.allowedAutoPlacements,k=e.options.placement,M=mm(k),P=M===k,R=a||(P||!T?[aT(k)]:lDe(k)),N=[k].concat(R).reduce(function(_e,Ue){return _e.concat(mm(Ue)===g7?oDe(e,{placement:Ue,boundary:p,rootBoundary:m,padding:f,flipVariations:T,allowedAutoPlacements:C}):Ue)},[]),z=e.rects.reference,H=e.rects.popper,j=new Map,Q=!0,G=N[0],ie=0;ie<N.length;ie++){var q=N[ie],W=mm(q),ee=L2(q)===T2,he=[Qh,Of].indexOf(W)>=0,J=he?"width":"height",te=h6(e,{placement:q,boundary:p,rootBoundary:m,altBoundary:v,padding:f}),ne=he?ee?Df:jh:ee?Of:Qh;z[J]>H[J]&&(ne=aT(ne));var ce=aT(ne),ue=[];if(s&&ue.push(te[W]<=0),c&&ue.push(te[ne]<=0,te[ce]<=0),ue.every(function(_e){return _e})){G=q,Q=!1;break}j.set(q,ue)}if(Q)for(var ye=T?3:1,Ee=function(_e){var Ue=N.find(function(Le){var be=j.get(Le);if(be)return be.slice(0,_e).every(function(Re){return Re})});if(Ue)return G=Ue,"break"},se=ye;se>0;se--){var oe=Ee(se);if(oe==="break")break}e.placement!==G&&(e.modifiersData[r]._skip=!0,e.placement=G,e.reset=!0)}}var cDe={name:"flip",enabled:!0,phase:"main",fn:uDe,requiresIfExists:["offset"],data:{_skip:!1}};function xW(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function CW(t){return[Qh,Df,Of,jh].some(function(e){return t[e]>=0})}function hDe(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,l=h6(e,{elementContext:"reference"}),c=h6(e,{altBoundary:!0}),a=xW(l,r),f=xW(c,i,s),p=CW(a),m=CW(f);e.modifiersData[n]={referenceClippingOffsets:a,popperEscapeOffsets:f,isReferenceHidden:p,hasPopperEscaped:m},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":m})}var dDe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hDe};function fDe(t,e,n){var r=mm(t),i=[jh,Qh].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,l=s[0],c=s[1];return l=l||0,c=(c||0)*i,[jh,Df].indexOf(r)>=0?{x:c,y:l}:{x:l,y:c}}function pDe(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,l=Hy.reduce(function(p,m){return p[m]=fDe(m,e.rects,s),p},{}),c=l[e.placement],a=c.x,f=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=a,e.modifiersData.popperOffsets.y+=f),e.modifiersData[r]=l}var ADe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:pDe};function mDe(t){var e=t.state,n=t.name;e.modifiersData[n]=Nae({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var Uae={name:"popperOffsets",enabled:!0,phase:"read",fn:mDe,data:{}};function gDe(t){return t==="x"?"y":"x"}function vDe(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,l=n.altAxis,c=l===void 0?!1:l,a=n.boundary,f=n.rootBoundary,p=n.altBoundary,m=n.padding,v=n.tether,y=v===void 0?!0:v,T=n.tetherOffset,C=T===void 0?0:T,k=h6(e,{boundary:a,rootBoundary:f,padding:m,altBoundary:p}),M=mm(e.placement),P=L2(e.placement),R=!P,N=y7(M),z=gDe(N),H=e.modifiersData.popperOffsets,j=e.rects.reference,Q=e.rects.popper,G=typeof C=="function"?C(Object.assign({},e.rects,{placement:e.placement})):C,ie=typeof G=="number"?{mainAxis:G,altAxis:G}:Object.assign({mainAxis:0,altAxis:0},G),q=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,W={x:0,y:0};if(H){if(s){var ee,he=N==="y"?Qh:jh,J=N==="y"?Of:Df,te=N==="y"?"height":"width",ne=H[N],ce=ne+k[he],ue=ne-k[J],ye=y?-Q[te]/2:0,Ee=P===T2?j[te]:Q[te],se=P===T2?-Q[te]:-j[te],oe=e.elements.arrow,_e=y&&oe?_7(oe):{width:0,height:0},Ue=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:kae(),Le=Ue[he],be=Ue[J],Re=yC(0,j[te],_e[te]),Qe=R?j[te]/2-ye-Re-Le-ie.mainAxis:Ee-Re-Le-ie.mainAxis,Je=R?-j[te]/2+ye+Re+be+ie.mainAxis:se+Re+be+ie.mainAxis,nt=e.elements.arrow&&_5(e.elements.arrow),Ve=nt?N==="y"?nt.clientTop||0:nt.clientLeft||0:0,ke=(ee=q==null?void 0:q[N])!=null?ee:0,Ge=ne+Qe-ke-Ve,Ne=ne+Je-ke,je=yC(y?p8(ce,Ge):ce,ne,y?oy(ue,Ne):ue);H[N]=je,W[N]=je-ne}if(c){var Ye,vt=N==="x"?Qh:jh,Lt=N==="x"?Of:Df,Et=H[z],Vt=z==="y"?"height":"width",_t=Et+k[vt],qt=Et-k[Lt],tn=[Qh,jh].indexOf(M)!==-1,Nt=(Ye=q==null?void 0:q[z])!=null?Ye:0,wt=tn?_t:Et-j[Vt]-Q[Vt]-Nt+ie.altAxis,De=tn?Et+j[Vt]+Q[Vt]-Nt-ie.altAxis:qt,We=y&&tn?jOe(wt,Et,De):yC(y?wt:_t,Et,y?De:qt);H[z]=We,W[z]=We-Et}e.modifiersData[r]=W}}var _De={name:"preventOverflow",enabled:!0,phase:"main",fn:vDe,requiresIfExists:["offset"]};function yDe(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function bDe(t){return t===hA(t)||!kf(t)?b7(t):yDe(t)}function wDe(t){var e=t.getBoundingClientRect(),n=M2(e.width)/t.offsetWidth||1,r=M2(e.height)/t.offsetHeight||1;return n!==1||r!==1}function xDe(t,e,n){n===void 0&&(n=!1);var r=kf(e),i=kf(e)&&wDe(e),s=R1(e),l=I2(t,i),c={scrollLeft:0,scrollTop:0},a={x:0,y:0};return(r||!r&&!n)&&((Em(e)!=="body"||x7(s))&&(c=bDe(e)),kf(e)?(a=I2(e,!0),a.x+=e.clientLeft,a.y+=e.clientTop):s&&(a.x=w7(s))),{x:l.left+c.scrollLeft-a.x,y:l.top+c.scrollTop-a.y,width:l.width,height:l.height}}function CDe(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var l=[].concat(s.requires||[],s.requiresIfExists||[]);l.forEach(function(c){if(!n.has(c)){var a=e.get(c);a&&i(a)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function EDe(t){var e=CDe(t);return zOe.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function SDe(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function TDe(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var EW={placement:"bottom",modifiers:[],strategy:"absolute"};function SW(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function C7(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?EW:i;return function(l,c,a){a===void 0&&(a=s);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},EW,s),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},p=[],m=!1,v={state:f,setOptions:function(C){var k=typeof C=="function"?C(f.options):C;T(),f.options=Object.assign({},s,f.options,k),f.scrollParents={reference:B2(l)?bC(l):l.contextElement?bC(l.contextElement):[],popper:bC(c)};var M=EDe(TDe([].concat(r,f.options.modifiers)));return f.orderedModifiers=M.filter(function(P){return P.enabled}),y(),v.update()},forceUpdate:function(){if(!m){var C=f.elements,k=C.reference,M=C.popper;if(SW(k,M)){f.rects={reference:xDe(k,_5(M),f.options.strategy==="fixed"),popper:_7(M)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(Q){return f.modifiersData[Q.name]=Object.assign({},Q.data)});for(var P=0;P<f.orderedModifiers.length;P++){if(f.reset===!0){f.reset=!1,P=-1;continue}var R=f.orderedModifiers[P],N=R.fn,z=R.options,H=z===void 0?{}:z,j=R.name;typeof N=="function"&&(f=N({state:f,options:H,name:j,instance:v})||f)}}}},update:SDe(function(){return new Promise(function(C){v.forceUpdate(),C(f)})}),destroy:function(){T(),m=!0}};if(!SW(l,c))return v;v.setOptions(a).then(function(C){!m&&a.onFirstUpdate&&a.onFirstUpdate(C)});function y(){f.orderedModifiers.forEach(function(C){var k=C.name,M=C.options,P=M===void 0?{}:M,R=C.effect;if(typeof R=="function"){var N=R({state:f,name:k,instance:v,options:P}),z=function(){};p.push(N||z)}})}function T(){p.forEach(function(C){return C()}),p=[]}return v}}C7();var BDe=[Oae,Uae,Rae,Iae];C7({defaultModifiers:BDe});var MDe=[Oae,Uae,Rae,Iae,ADe,cDe,_De,qOe,dDe],IDe=C7({defaultModifiers:MDe});const LDe=(t,e,n={})=>{const r={name:"updateState",enabled:!0,phase:"write",fn:({state:a})=>{const f=kDe(a);Object.assign(l.value,f)},requires:["computeStyles"]},i=le(()=>{const{onFirstUpdate:a,placement:f,strategy:p,modifiers:m}=S(n);return{onFirstUpdate:a,placement:f||"bottom",strategy:p||"absolute",modifiers:[...m||[],r,{name:"applyStyles",enabled:!1}]}}),s=vs(),l=Te({styles:{popper:{position:S(i).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),c=()=>{s.value&&(s.value.destroy(),s.value=void 0)};return ln(i,a=>{const f=S(s);f&&f.setOptions(a)},{deep:!0}),ln([t,e],([a,f])=>{c(),!(!a||!f)&&(s.value=IDe(a,f,S(i)))}),ps(()=>{c()}),{state:le(()=>{var a;return{...((a=S(s))==null?void 0:a.state)||{}}}),styles:le(()=>S(l).styles),attributes:le(()=>S(l).attributes),update:()=>{var a;return(a=S(s))==null?void 0:a.update()},forceUpdate:()=>{var a;return(a=S(s))==null?void 0:a.forceUpdate()},instanceRef:le(()=>S(s))}};function kDe(t){const e=Object.keys(t.elements),n=f8(e.map(i=>[i,t.styles[i]||{}])),r=f8(e.map(i=>[i,t.attributes[i]]));return{styles:n,attributes:r}}const E7=t=>{if(!t)return{onClick:Qa,onMousedown:Qa,onMouseup:Qa};let e=!1,n=!1;return{onClick:l=>{e&&n&&t(l),e=n=!1},onMousedown:l=>{e=l.target===l.currentTarget},onMouseup:l=>{n=l.target===l.currentTarget}}},PDe=(t,e=0)=>{if(e===0)return t;const n=Te(!1);let r=0;const i=()=>{r&&clearTimeout(r),r=window.setTimeout(()=>{n.value=t.value},e)};return Fr(i),ln(()=>t.value,s=>{s?i():n.value=s}),n};function TW(){let t;const e=(r,i)=>{n(),t=window.setTimeout(r,i)},n=()=>window.clearTimeout(t);return d5(()=>n()),{registerTimeout:e,cancelTimeout:n}}const BW={prefix:Math.floor(Math.random()*1e4),current:0},FDe=Symbol("elIdInjection"),S7=()=>ci()?ar(FDe,BW):BW,hc=t=>{const e=S7(),n=A7();return le(()=>S(t)||`${n.value}-id-${e.prefix}-${e.current++}`)};let hw=[];const MW=t=>{const e=t;e.key===Tr.esc&&hw.forEach(n=>n(e))},RDe=t=>{Fr(()=>{hw.length===0&&document.addEventListener("keydown",MW),ra&&hw.push(t)}),ps(()=>{hw=hw.filter(e=>e!==t),hw.length===0&&ra&&document.removeEventListener("keydown",MW)})};let IW;const zae=()=>{const t=A7(),e=S7(),n=le(()=>`${t.value}-popper-container-${e.prefix}`),r=le(()=>`#${n.value}`);return{id:n,selector:r}},ODe=t=>{const e=document.createElement("div");return e.id=t,document.body.appendChild(e),e},DDe=()=>{const{id:t,selector:e}=zae();return RB(()=>{ra&&!IW&&!document.body.querySelector(e.value)&&(IW=ODe(t.value))}),{id:t,selector:e}},NDe=Ln({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),UDe=({showAfter:t,hideAfter:e,autoClose:n,open:r,close:i})=>{const{registerTimeout:s}=TW(),{registerTimeout:l,cancelTimeout:c}=TW();return{onOpen:p=>{s(()=>{r(p);const m=S(n);Or(m)&&m>0&&l(()=>{i(p)},m)},S(t))},onClose:p=>{c(),s(()=>{i(p)},S(e))}}},$ae=Symbol("elForwardRef"),zDe=t=>{ki($ae,{setForwardRef:n=>{t.value=n}})},$De=t=>({mounted(e){t(e)},updated(e){t(e)},unmounted(){t(null)}}),LW={current:0},kW=Te(0),Vae=2e3,PW=Symbol("elZIndexContextKey"),Hae=Symbol("zIndexContextKey"),ix=t=>{const e=ci()?ar(PW,LW):LW,n=t||(ci()?ar(Hae,void 0):void 0),r=le(()=>{const l=S(n);return Or(l)?l:Vae}),i=le(()=>r.value+kW.value),s=()=>(e.current++,kW.value=e.current,i.value);return!ra&&ar(PW),{initialZIndex:r,currentZIndex:i,nextZIndex:s}},k2=Math.min,ly=Math.max,A8=Math.round,wS=Math.floor,p1=t=>({x:t,y:t}),VDe={left:"right",right:"left",bottom:"top",top:"bottom"},HDe={start:"end",end:"start"};function kR(t,e,n){return ly(t,k2(e,n))}function y5(t,e){return typeof t=="function"?t(e):t}function Sy(t){return t.split("-")[0]}function b5(t){return t.split("-")[1]}function Qae(t){return t==="x"?"y":"x"}function T7(t){return t==="y"?"height":"width"}function iM(t){return["top","bottom"].includes(Sy(t))?"y":"x"}function B7(t){return Qae(iM(t))}function QDe(t,e,n){n===void 0&&(n=!1);const r=b5(t),i=B7(t),s=T7(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(l=m8(l)),[l,m8(l)]}function jDe(t){const e=m8(t);return[PR(t),e,PR(e)]}function PR(t){return t.replace(/start|end/g,e=>HDe[e])}function GDe(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:l;default:return[]}}function KDe(t,e,n,r){const i=b5(t);let s=GDe(Sy(t),n==="start",r);return i&&(s=s.map(l=>l+"-"+i),e&&(s=s.concat(s.map(PR)))),s}function m8(t){return t.replace(/left|right|bottom|top/g,e=>VDe[e])}function WDe(t){return{top:0,right:0,bottom:0,left:0,...t}}function jae(t){return typeof t!="number"?WDe(t):{top:t,right:t,bottom:t,left:t}}function g8(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function FW(t,e,n){let{reference:r,floating:i}=t;const s=iM(e),l=B7(e),c=T7(l),a=Sy(e),f=s==="y",p=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,v=r[c]/2-i[c]/2;let y;switch(a){case"top":y={x:p,y:r.y-i.height};break;case"bottom":y={x:p,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:m};break;case"left":y={x:r.x-i.width,y:m};break;default:y={x:r.x,y:r.y}}switch(b5(e)){case"start":y[l]-=v*(n&&f?-1:1);break;case"end":y[l]+=v*(n&&f?-1:1);break}return y}const qDe=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:l}=n,c=s.filter(Boolean),a=await(l.isRTL==null?void 0:l.isRTL(e));let f=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:p,y:m}=FW(f,r,a),v=r,y={},T=0;for(let C=0;C<c.length;C++){const{name:k,fn:M}=c[C],{x:P,y:R,data:N,reset:z}=await M({x:p,y:m,initialPlacement:r,placement:v,strategy:i,middlewareData:y,rects:f,platform:l,elements:{reference:t,floating:e}});p=P??p,m=R??m,y={...y,[k]:{...y[k],...N}},z&&T<=50&&(T++,typeof z=="object"&&(z.placement&&(v=z.placement),z.rects&&(f=z.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):z.rects),{x:p,y:m}=FW(f,v,a)),C=-1)}return{x:p,y:m,placement:v,strategy:i,middlewareData:y}};async function M7(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:l,elements:c,strategy:a}=t,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:v=!1,padding:y=0}=y5(e,t),T=jae(y),k=c[v?m==="floating"?"reference":"floating":m],M=g8(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(k)))==null||n?k:k.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:f,rootBoundary:p,strategy:a})),P=m==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,R=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),N=await(s.isElement==null?void 0:s.isElement(R))?await(s.getScale==null?void 0:s.getScale(R))||{x:1,y:1}:{x:1,y:1},z=g8(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:P,offsetParent:R,strategy:a}):P);return{top:(M.top-z.top+T.top)/N.y,bottom:(z.bottom-M.bottom+T.bottom)/N.y,left:(M.left-z.left+T.left)/N.x,right:(z.right-M.right+T.right)/N.x}}const YDe=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:l,elements:c,middlewareData:a}=e,{element:f,padding:p=0}=y5(t,e)||{};if(f==null)return{};const m=jae(p),v={x:n,y:r},y=B7(i),T=T7(y),C=await l.getDimensions(f),k=y==="y",M=k?"top":"left",P=k?"bottom":"right",R=k?"clientHeight":"clientWidth",N=s.reference[T]+s.reference[y]-v[y]-s.floating[T],z=v[y]-s.reference[y],H=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let j=H?H[R]:0;(!j||!await(l.isElement==null?void 0:l.isElement(H)))&&(j=c.floating[R]||s.floating[T]);const Q=N/2-z/2,G=j/2-C[T]/2-1,ie=k2(m[M],G),q=k2(m[P],G),W=ie,ee=j-C[T]-q,he=j/2-C[T]/2+Q,J=kR(W,he,ee),te=!a.arrow&&b5(i)!=null&&he!==J&&s.reference[T]/2-(he<W?ie:q)-C[T]/2<0,ne=te?he<W?he-W:he-ee:0;return{[y]:v[y]+ne,data:{[y]:J,centerOffset:he-J-ne,...te&&{alignmentOffset:ne}},reset:te}}}),XDe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:l,initialPlacement:c,platform:a,elements:f}=e,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:v,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:C=!0,...k}=y5(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const M=Sy(i),P=Sy(c)===c,R=await(a.isRTL==null?void 0:a.isRTL(f.floating)),N=v||(P||!C?[m8(c)]:jDe(c));!v&&T!=="none"&&N.push(...KDe(c,C,T,R));const z=[c,...N],H=await M7(e,k),j=[];let Q=((r=s.flip)==null?void 0:r.overflows)||[];if(p&&j.push(H[M]),m){const W=QDe(i,l,R);j.push(H[W[0]],H[W[1]])}if(Q=[...Q,{placement:i,overflows:j}],!j.every(W=>W<=0)){var G,ie;const W=(((G=s.flip)==null?void 0:G.index)||0)+1,ee=z[W];if(ee)return{data:{index:W,overflows:Q},reset:{placement:ee}};let he=(ie=Q.filter(J=>J.overflows[0]<=0).sort((J,te)=>J.overflows[1]-te.overflows[1])[0])==null?void 0:ie.placement;if(!he)switch(y){case"bestFit":{var q;const J=(q=Q.map(te=>[te.placement,te.overflows.filter(ne=>ne>0).reduce((ne,ce)=>ne+ce,0)]).sort((te,ne)=>te[1]-ne[1])[0])==null?void 0:q[0];J&&(he=J);break}case"initialPlacement":he=c;break}if(i!==he)return{reset:{placement:he}}}return{}}}};async function ZDe(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=Sy(n),c=b5(n),a=iM(n)==="y",f=["left","top"].includes(l)?-1:1,p=s&&a?-1:1,m=y5(e,t);let{mainAxis:v,crossAxis:y,alignmentAxis:T}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...m};return c&&typeof T=="number"&&(y=c==="end"?T*-1:T),a?{x:y*p,y:v*f}:{x:v*f,y:y*p}}const JDe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:l,middlewareData:c}=e,a=await ZDe(e,t);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+a.x,y:s+a.y,data:{...a,placement:l}}}}},eNe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:l=!1,limiter:c={fn:k=>{let{x:M,y:P}=k;return{x:M,y:P}}},...a}=y5(t,e),f={x:n,y:r},p=await M7(e,a),m=iM(Sy(i)),v=Qae(m);let y=f[v],T=f[m];if(s){const k=v==="y"?"top":"left",M=v==="y"?"bottom":"right",P=y+p[k],R=y-p[M];y=kR(P,y,R)}if(l){const k=m==="y"?"top":"left",M=m==="y"?"bottom":"right",P=T+p[k],R=T-p[M];T=kR(P,T,R)}const C=c.fn({...e,[v]:y,[m]:T});return{...C,data:{x:C.x-n,y:C.y-r}}}}};function ax(t){return Gae(t)?(t.nodeName||"").toLowerCase():"#document"}function jd(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function C0(t){var e;return(e=(Gae(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Gae(t){return t instanceof Node||t instanceof jd(t).Node}function Sm(t){return t instanceof Element||t instanceof jd(t).Element}function Tm(t){return t instanceof HTMLElement||t instanceof jd(t).HTMLElement}function RW(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof jd(t).ShadowRoot}function w5(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=nA(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function tNe(t){return["table","td","th"].includes(ax(t))}function I7(t){const e=L7(),n=nA(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function nNe(t){let e=A1(t);for(;Tm(e)&&!P2(e);){if(I7(e))return e;e=A1(e)}return null}function L7(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function P2(t){return["html","body","#document"].includes(ax(t))}function nA(t){return jd(t).getComputedStyle(t)}function aM(t){return Sm(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function A1(t){if(ax(t)==="html")return t;const e=t.assignedSlot||t.parentNode||RW(t)&&t.host||C0(t);return RW(e)?e.host:e}function Kae(t){const e=A1(t);return P2(e)?t.ownerDocument?t.ownerDocument.body:t.body:Tm(e)&&w5(e)?e:Kae(e)}function d6(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Kae(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),l=jd(i);return s?e.concat(l,l.visualViewport||[],w5(i)?i:[],l.frameElement&&n?d6(l.frameElement):[]):e.concat(i,d6(i,[],n))}function Wae(t){const e=nA(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Tm(t),s=i?t.offsetWidth:n,l=i?t.offsetHeight:r,c=A8(n)!==s||A8(r)!==l;return c&&(n=s,r=l),{width:n,height:r,$:c}}function k7(t){return Sm(t)?t:t.contextElement}function Yw(t){const e=k7(t);if(!Tm(e))return p1(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=Wae(e);let l=(s?A8(n.width):n.width)/r,c=(s?A8(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const rNe=p1(0);function qae(t){const e=jd(t);return!L7()||!e.visualViewport?rNe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function iNe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==jd(t)?!1:e}function Ty(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=k7(t);let l=p1(1);e&&(r?Sm(r)&&(l=Yw(r)):l=Yw(t));const c=iNe(s,n,r)?qae(s):p1(0);let a=(i.left+c.x)/l.x,f=(i.top+c.y)/l.y,p=i.width/l.x,m=i.height/l.y;if(s){const v=jd(s),y=r&&Sm(r)?jd(r):r;let T=v,C=T.frameElement;for(;C&&r&&y!==T;){const k=Yw(C),M=C.getBoundingClientRect(),P=nA(C),R=M.left+(C.clientLeft+parseFloat(P.paddingLeft))*k.x,N=M.top+(C.clientTop+parseFloat(P.paddingTop))*k.y;a*=k.x,f*=k.y,p*=k.x,m*=k.y,a+=R,f+=N,T=jd(C),C=T.frameElement}}return g8({width:p,height:m,x:a,y:f})}const aNe=[":popover-open",":modal"];function P7(t){return aNe.some(e=>{try{return t.matches(e)}catch{return!1}})}function sNe(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",l=C0(r),c=e?P7(e.floating):!1;if(r===l||c&&s)return n;let a={scrollLeft:0,scrollTop:0},f=p1(1);const p=p1(0),m=Tm(r);if((m||!m&&!s)&&((ax(r)!=="body"||w5(l))&&(a=aM(r)),Tm(r))){const v=Ty(r);f=Yw(r),p.x=v.x+r.clientLeft,p.y=v.y+r.clientTop}return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-a.scrollLeft*f.x+p.x,y:n.y*f.y-a.scrollTop*f.y+p.y}}function oNe(t){return Array.from(t.getClientRects())}function Yae(t){return Ty(C0(t)).left+aM(t).scrollLeft}function lNe(t){const e=C0(t),n=aM(t),r=t.ownerDocument.body,i=ly(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=ly(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+Yae(t);const c=-n.scrollTop;return nA(r).direction==="rtl"&&(l+=ly(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:l,y:c}}function uNe(t,e){const n=jd(t),r=C0(t),i=n.visualViewport;let s=r.clientWidth,l=r.clientHeight,c=0,a=0;if(i){s=i.width,l=i.height;const f=L7();(!f||f&&e==="fixed")&&(c=i.offsetLeft,a=i.offsetTop)}return{width:s,height:l,x:c,y:a}}function cNe(t,e){const n=Ty(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Tm(t)?Yw(t):p1(1),l=t.clientWidth*s.x,c=t.clientHeight*s.y,a=i*s.x,f=r*s.y;return{width:l,height:c,x:a,y:f}}function OW(t,e,n){let r;if(e==="viewport")r=uNe(t,n);else if(e==="document")r=lNe(C0(t));else if(Sm(e))r=cNe(e,n);else{const i=qae(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return g8(r)}function Xae(t,e){const n=A1(t);return n===e||!Sm(n)||P2(n)?!1:nA(n).position==="fixed"||Xae(n,e)}function hNe(t,e){const n=e.get(t);if(n)return n;let r=d6(t,[],!1).filter(c=>Sm(c)&&ax(c)!=="body"),i=null;const s=nA(t).position==="fixed";let l=s?A1(t):t;for(;Sm(l)&&!P2(l);){const c=nA(l),a=I7(l);!a&&c.position==="fixed"&&(i=null),(s?!a&&!i:!a&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||w5(l)&&!a&&Xae(t,l))?r=r.filter(p=>p!==l):i=c,l=A1(l)}return e.set(t,r),r}function dNe(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const l=[...n==="clippingAncestors"?P7(e)?[]:hNe(e,this._c):[].concat(n),r],c=l[0],a=l.reduce((f,p)=>{const m=OW(e,p,i);return f.top=ly(m.top,f.top),f.right=k2(m.right,f.right),f.bottom=k2(m.bottom,f.bottom),f.left=ly(m.left,f.left),f},OW(e,c,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function fNe(t){const{width:e,height:n}=Wae(t);return{width:e,height:n}}function pNe(t,e,n){const r=Tm(e),i=C0(e),s=n==="fixed",l=Ty(t,!0,s,e);let c={scrollLeft:0,scrollTop:0};const a=p1(0);if(r||!r&&!s)if((ax(e)!=="body"||w5(i))&&(c=aM(e)),r){const m=Ty(e,!0,s,e);a.x=m.x+e.clientLeft,a.y=m.y+e.clientTop}else i&&(a.x=Yae(i));const f=l.left+c.scrollLeft-a.x,p=l.top+c.scrollTop-a.y;return{x:f,y:p,width:l.width,height:l.height}}function Ek(t){return nA(t).position==="static"}function DW(t,e){return!Tm(t)||nA(t).position==="fixed"?null:e?e(t):t.offsetParent}function Zae(t,e){const n=jd(t);if(P7(t))return n;if(!Tm(t)){let i=A1(t);for(;i&&!P2(i);){if(Sm(i)&&!Ek(i))return i;i=A1(i)}return n}let r=DW(t,e);for(;r&&tNe(r)&&Ek(r);)r=DW(r,e);return r&&P2(r)&&Ek(r)&&!I7(r)?n:r||nNe(t)||n}const ANe=async function(t){const e=this.getOffsetParent||Zae,n=this.getDimensions,r=await n(t.floating);return{reference:pNe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function mNe(t){return nA(t).direction==="rtl"}const gNe={convertOffsetParentRelativeRectToViewportRelativeRect:sNe,getDocumentElement:C0,getClippingRect:dNe,getOffsetParent:Zae,getElementRects:ANe,getClientRects:oNe,getDimensions:fNe,getScale:Yw,isElement:Sm,isRTL:mNe};function vNe(t,e){let n=null,r;const i=C0(t);function s(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,a){c===void 0&&(c=!1),a===void 0&&(a=1),s();const{left:f,top:p,width:m,height:v}=t.getBoundingClientRect();if(c||e(),!m||!v)return;const y=wS(p),T=wS(i.clientWidth-(f+m)),C=wS(i.clientHeight-(p+v)),k=wS(f),P={rootMargin:-y+"px "+-T+"px "+-C+"px "+-k+"px",threshold:ly(0,k2(1,a))||1};let R=!0;function N(z){const H=z[0].intersectionRatio;if(H!==a){if(!R)return l();H?l(!1,H):r=setTimeout(()=>{l(!1,1e-7)},1e3)}R=!1}try{n=new IntersectionObserver(N,{...P,root:i.ownerDocument})}catch{n=new IntersectionObserver(N,P)}n.observe(t)}return l(!0),s}function _Ne(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:a=!1}=r,f=k7(t),p=i||s?[...f?d6(f):[],...d6(e)]:[];p.forEach(M=>{i&&M.addEventListener("scroll",n,{passive:!0}),s&&M.addEventListener("resize",n)});const m=f&&c?vNe(f,n):null;let v=-1,y=null;l&&(y=new ResizeObserver(M=>{let[P]=M;P&&P.target===f&&y&&(y.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var R;(R=y)==null||R.observe(e)})),n()}),f&&!a&&y.observe(f),y.observe(e));let T,C=a?Ty(t):null;a&&k();function k(){const M=Ty(t);C&&(M.x!==C.x||M.y!==C.y||M.width!==C.width||M.height!==C.height)&&n(),C=M,T=requestAnimationFrame(k)}return n(),()=>{var M;p.forEach(P=>{i&&P.removeEventListener("scroll",n),s&&P.removeEventListener("resize",n)}),m==null||m(),(M=y)==null||M.disconnect(),y=null,a&&cancelAnimationFrame(T)}}const yNe=M7,Jae=JDe,bNe=eNe,wNe=XDe,ese=YDe,tse=(t,e,n)=>{const r=new Map,i={platform:gNe,...n},s={...i.platform,_c:r};return qDe(t,e,{...i,platform:s})};Ln({});const xNe=t=>{if(!ra)return;if(!t)return t;const e=$h(t);return e||(fs(t)?e:t)},CNe=({middleware:t,placement:e,strategy:n})=>{const r=Te(),i=Te(),s=Te(),l=Te(),c=Te({}),a={x:s,y:l,placement:e,strategy:n,middlewareData:c},f=async()=>{if(!ra)return;const p=xNe(r),m=$h(i);if(!p||!m)return;const v=await tse(p,m,{placement:S(e),strategy:S(n),middleware:S(t)});S2(a).forEach(y=>{a[y].value=v[y]})};return Fr(()=>{uc(()=>{f()})}),{...a,update:f,referenceRef:r,contentRef:i}},ENe=({arrowRef:t,padding:e})=>({name:"arrow",options:{element:t,padding:e},fn(n){const r=S(t);return r?ese({element:r,padding:e}).fn(n):{}}});function SNe(t){const e=Te();function n(){if(t.value==null)return;const{selectionStart:i,selectionEnd:s,value:l}=t.value;if(i==null||s==null)return;const c=l.slice(0,Math.max(0,i)),a=l.slice(Math.max(0,s));e.value={selectionStart:i,selectionEnd:s,value:l,beforeTxt:c,afterTxt:a}}function r(){if(t.value==null||e.value==null)return;const{value:i}=t.value,{beforeTxt:s,afterTxt:l,selectionStart:c}=e.value;if(s==null||l==null||c==null)return;let a=i.length;if(i.endsWith(l))a=i.length-l.length;else if(i.startsWith(s))a=s.length;else{const f=s[c-1],p=i.indexOf(f,c-1);p!==-1&&(a=p+1)}t.value.setSelectionRange(a,a)}return[n,r]}const TNe=(t,e,n)=>r1(t.subTree).filter(s=>{var l;return Ks(s)&&((l=s.type)==null?void 0:l.name)===e&&!!s.component}).map(s=>s.component.uid).map(s=>n[s]).filter(s=>!!s),F7=(t,e)=>{const n={},r=vs([]);return{children:r,addChild:l=>{n[l.uid]=l,r.value=TNe(t,e,n)},removeChild:l=>{delete n[l],r.value=r.value.filter(c=>c.uid!==l)}}},lu=cA({type:String,values:Om,required:!1}),nse=Symbol("size"),BNe=()=>{const t=ar(nse,{});return le(()=>S(t.size)||"")};function sM(t,{afterFocus:e,beforeBlur:n,afterBlur:r}={}){const i=ci(),{emit:s}=i,l=vs(),c=Te(!1),a=m=>{c.value||(c.value=!0,s("focus",m),e==null||e())},f=m=>{var v;Dr(n)&&n(m)||m.relatedTarget&&((v=l.value)!=null&&v.contains(m.relatedTarget))||(c.value=!1,s("blur",m),r==null||r())},p=()=>{var m;(m=t.value)==null||m.focus()};return ln(l,m=>{m&&m.setAttribute("tabindex","-1")}),_s(l,"click",p),{wrapperRef:l,isFocused:c,handleFocus:a,handleBlur:f}}const MNe=["",void 0,null],INe=void 0,sx=Ln({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:t=>Dr(t)?!t():!t}}),oM=(t,e)=>{let n=x5();n.value||(n=Te({}));const r=le(()=>t.emptyValues||n.value.emptyValues||MNe),i=le(()=>Dr(t.valueOnClear)?t.valueOnClear():t.valueOnClear!==void 0?t.valueOnClear:Dr(n.value.valueOnClear)?n.value.valueOnClear():n.value.valueOnClear!==void 0?n.value.valueOnClear:e!==void 0?e:INe),s=l=>r.value.includes(l);return r.value.includes(i.value),{emptyValues:r,valueOnClear:i,isEmptyValue:s}},LNe=Ln({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),Wu=t=>om(LNe,t),rse=Symbol(),v8=Te();function x5(t,e=void 0){const n=ci()?ar(rse,v8):v8;return t?le(()=>{var r,i;return(i=(r=n.value)==null?void 0:r[t])!=null?i:e}):n}function lM(t,e){const n=x5(),r=vn(t,le(()=>{var c;return((c=n.value)==null?void 0:c.namespace)||_C})),i=da(le(()=>{var c;return(c=n.value)==null?void 0:c.locale})),s=ix(le(()=>{var c;return((c=n.value)==null?void 0:c.zIndex)||Vae})),l=le(()=>{var c;return S(e)||((c=n.value)==null?void 0:c.size)||""});return R7(le(()=>S(n)||{})),{ns:r,locale:i,zIndex:s,size:l}}const R7=(t,e,n=!1)=>{var r;const i=!!ci(),s=i?x5():void 0,l=(r=e==null?void 0:e.provide)!=null?r:i?ki:void 0;if(!l)return;const c=le(()=>{const a=S(t);return s!=null&&s.value?kNe(s.value,a):a});return l(rse,c),l(Eae,le(()=>c.value.locale)),l(Sae,le(()=>c.value.namespace)),l(Hae,le(()=>c.value.zIndex)),l(nse,{size:le(()=>c.value.size||"")}),(n||!v8.value)&&(v8.value=c.value),c},kNe=(t,e)=>{const n=[...new Set([...S2(t),...S2(e)])],r={};for(const i of n)r[i]=e[i]!==void 0?e[i]:t[i];return r},PNe=Ln({a11y:{type:Boolean,default:!0},locale:{type:Rt(Object)},size:lu,button:{type:Rt(Object)},experimentalFeatures:{type:Rt(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:Rt(Object)},zIndex:Number,namespace:{type:String,default:"el"},...sx}),FR={},FNe=Be({name:"ElConfigProvider",props:PNe,setup(t,{slots:e}){ln(()=>t.message,r=>{Object.assign(FR,r??{})},{immediate:!0,deep:!0});const n=R7(t);return()=>Ft(e,"default",{config:n==null?void 0:n.value})}}),RNe=pi(FNe),ONe="2.7.2",DNe=(t=[])=>({version:ONe,install:(n,r)=>{n[mW]||(n[mW]=!0,t.forEach(i=>n.use(i)),r&&R7(r,n,!0))}}),NNe=Ln({zIndex:{type:Rt([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),UNe={scroll:({scrollTop:t,fixed:e})=>Or(t)&&Jo(e),[bs]:t=>Jo(t)};var Fn=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n};const ise="ElAffix",zNe=Be({name:ise}),$Ne=Be({...zNe,props:NNe,emits:UNe,setup(t,{expose:e,emit:n}){const r=t,i=vn("affix"),s=vs(),l=vs(),c=vs(),{height:a}=TCe(),{height:f,width:p,top:m,bottom:v,update:y}=LK(l,{windowScroll:!1}),T=LK(s),C=Te(!1),k=Te(0),M=Te(0),P=le(()=>({height:C.value?`${f.value}px`:"",width:C.value?`${p.value}px`:""})),R=le(()=>{if(!C.value)return{};const H=r.offset?So(r.offset):0;return{height:`${f.value}px`,width:`${p.value}px`,top:r.position==="top"?H:"",bottom:r.position==="bottom"?H:"",transform:M.value?`translateY(${M.value}px)`:"",zIndex:r.zIndex}}),N=()=>{if(c.value)if(k.value=c.value instanceof Window?document.documentElement.scrollTop:c.value.scrollTop||0,r.position==="top")if(r.target){const H=T.bottom.value-r.offset-f.value;C.value=r.offset>m.value&&T.bottom.value>0,M.value=H<0?H:0}else C.value=r.offset>m.value;else if(r.target){const H=a.value-T.top.value-r.offset-f.value;C.value=a.value-r.offset<v.value&&a.value>T.top.value,M.value=H<0?-H:0}else C.value=a.value-r.offset<v.value},z=()=>{y(),n("scroll",{scrollTop:k.value,fixed:C.value})};return ln(C,H=>n("change",H)),Fr(()=>{var H;r.target?(s.value=(H=document.querySelector(r.target))!=null?H:void 0,s.value||Ul(ise,`Target does not exist: ${r.target}`)):s.value=document.documentElement,c.value=i7(l.value,!0),y()}),_s(c,"scroll",z),uc(N),e({update:N,updateRoot:y}),(H,j)=>(X(),ve("div",{ref_key:"root",ref:l,class:Se(S(i).b()),style:or(S(P))},[pe("div",{class:Se({[S(i).m("fixed")]:C.value}),style:or(S(R))},[Ft(H.$slots,"default")],6)],6))}});var VNe=Fn($Ne,[["__file","affix.vue"]]);const HNe=pi(VNe),QNe=Ln({size:{type:Rt([Number,String])},color:{type:String}}),jNe=Be({name:"ElIcon",inheritAttrs:!1}),GNe=Be({...jNe,props:QNe,setup(t){const e=t,n=vn("icon"),r=le(()=>{const{size:i,color:s}=e;return!i&&!s?{}:{fontSize:Zo(i)?void 0:So(i),"--color":s}});return(i,s)=>(X(),ve("i",Xr({class:S(n).b(),style:S(r)},i.$attrs),[Ft(i.$slots,"default")],16))}});var KNe=Fn(GNe,[["__file","icon.vue"]]);const Ar=pi(KNe),WNe=["light","dark"],qNe=Ln({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:S2(f1),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:WNe,default:"light"}}),YNe={close:t=>t instanceof MouseEvent},XNe=Be({name:"ElAlert"}),ZNe=Be({...XNe,props:qNe,emits:YNe,setup(t,{emit:e}){const n=t,{Close:r}=h7,i=To(),s=vn("alert"),l=Te(!0),c=le(()=>f1[n.type]),a=le(()=>[s.e("icon"),{[s.is("big")]:!!n.description||!!i.default}]),f=le(()=>({"with-description":n.description||i.default})),p=m=>{l.value=!1,e("close",m)};return(m,v)=>(X(),Ut(fo,{name:S(s).b("fade"),persisted:""},{default:xt(()=>[Jr(pe("div",{class:Se([S(s).b(),S(s).m(m.type),S(s).is("center",m.center),S(s).is(m.effect)]),role:"alert"},[m.showIcon&&S(c)?(X(),Ut(S(Ar),{key:0,class:Se(S(a))},{default:xt(()=>[(X(),Ut(fi(S(c))))]),_:1},8,["class"])):bt("v-if",!0),pe("div",{class:Se(S(s).e("content"))},[m.title||m.$slots.title?(X(),ve("span",{key:0,class:Se([S(s).e("title"),S(f)])},[Ft(m.$slots,"title",{},()=>[xi(Cn(m.title),1)])],2)):bt("v-if",!0),m.$slots.default||m.description?(X(),ve("p",{key:1,class:Se(S(s).e("description"))},[Ft(m.$slots,"default",{},()=>[xi(Cn(m.description),1)])],2)):bt("v-if",!0),m.closable?(X(),ve(Vn,{key:2},[m.closeText?(X(),ve("div",{key:0,class:Se([S(s).e("close-btn"),S(s).is("customed")]),onClick:p},Cn(m.closeText),3)):(X(),Ut(S(Ar),{key:1,class:Se(S(s).e("close-btn")),onClick:p},{default:xt(()=>[ht(S(r))]),_:1},8,["class"]))],64)):bt("v-if",!0)],2)],2),[[ca,l.value]])]),_:3},8,["name"]))}});var JNe=Fn(ZNe,[["__file","alert.vue"]]);const e9e=pi(JNe),Qy=Symbol("formContextKey"),Bm=Symbol("formItemContextKey"),ml=(t,e={})=>{const n=Te(void 0),r=e.prop?n:Bae("size"),i=e.global?n:BNe(),s=e.form?{size:void 0}:ar(Qy,void 0),l=e.formItem?{size:void 0}:ar(Bm,void 0);return le(()=>r.value||S(t)||(l==null?void 0:l.size)||(s==null?void 0:s.size)||i.value||"")},fh=t=>{const e=Bae("disabled"),n=ar(Qy,void 0);return le(()=>e.value||S(t)||(n==null?void 0:n.disabled)||!1)},Qc=()=>{const t=ar(Qy,void 0),e=ar(Bm,void 0);return{form:t,formItem:e}},dA=(t,{formItemContext:e,disableIdGeneration:n,disableIdManagement:r})=>{n||(n=Te(!1)),r||(r=Te(!1));const i=Te();let s;const l=le(()=>{var c;return!!(!(t.label||t.ariaLabel)&&e&&e.inputIds&&((c=e.inputIds)==null?void 0:c.length)<=1)});return Fr(()=>{s=ln([Na(t,"id"),n],([c,a])=>{const f=c??(a?void 0:hc().value);f!==i.value&&(e!=null&&e.removeInputId&&(i.value&&e.removeInputId(i.value),!(r!=null&&r.value)&&!a&&f&&e.addInputId(f)),i.value=f)},{immediate:!0})}),Hf(()=>{s&&s(),e!=null&&e.removeInputId&&i.value&&e.removeInputId(i.value)}),{isLabeledByFormItem:l,inputId:i}},t9e=Ln({size:{type:String,values:Om},disabled:Boolean}),n9e=Ln({...t9e,model:Object,rules:{type:Rt(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),r9e={validate:(t,e,n)=>(Jn(t)||Hr(t))&&Jo(e)&&Hr(n)};function i9e(){const t=Te([]),e=le(()=>{if(!t.value.length)return"0";const s=Math.max(...t.value);return s?`${s}px`:""});function n(s){const l=t.value.indexOf(s);return l===-1&&e.value,l}function r(s,l){if(s&&l){const c=n(l);t.value.splice(c,1,s)}else s&&t.value.push(s)}function i(s){const l=n(s);l>-1&&t.value.splice(l,1)}return{autoLabelWidth:e,registerLabelWidth:r,deregisterLabelWidth:i}}const xS=(t,e)=>{const n=h1(e);return n.length>0?t.filter(r=>r.prop&&n.includes(r.prop)):t},a9e="ElForm",s9e=Be({name:a9e}),o9e=Be({...s9e,props:n9e,emits:r9e,setup(t,{expose:e,emit:n}){const r=t,i=[],s=ml(),l=vn("form"),c=le(()=>{const{labelPosition:R,inline:N}=r;return[l.b(),l.m(s.value||"default"),{[l.m(`label-${R}`)]:R,[l.m("inline")]:N}]}),a=R=>i.find(N=>N.prop===R),f=R=>{i.push(R)},p=R=>{R.prop&&i.splice(i.indexOf(R),1)},m=(R=[])=>{r.model&&xS(i,R).forEach(N=>N.resetField())},v=(R=[])=>{xS(i,R).forEach(N=>N.clearValidate())},y=le(()=>!!r.model),T=R=>{if(i.length===0)return[];const N=xS(i,R);return N.length?N:[]},C=async R=>M(void 0,R),k=async(R=[])=>{if(!y.value)return!1;const N=T(R);if(N.length===0)return!0;let z={};for(const H of N)try{await H.validate("")}catch(j){z={...z,...j}}return Object.keys(z).length===0?!0:Promise.reject(z)},M=async(R=[],N)=>{const z=!Dr(N);try{const H=await k(R);return H===!0&&await(N==null?void 0:N(H)),H}catch(H){if(H instanceof Error)throw H;const j=H;return r.scrollToError&&P(Object.keys(j)[0]),await(N==null?void 0:N(!1,j)),z&&Promise.reject(j)}},P=R=>{var N;const z=xS(i,R)[0];z&&((N=z.$el)==null||N.scrollIntoView(r.scrollIntoViewOptions))};return ln(()=>r.rules,()=>{r.validateOnRuleChange&&C().catch(R=>void 0)},{deep:!0}),ki(Qy,ha({...Gu(r),emit:n,resetFields:m,clearValidate:v,validateField:M,getField:a,addField:f,removeField:p,...i9e()})),e({validate:C,validateField:M,resetFields:m,clearValidate:v,scrollToField:P}),(R,N)=>(X(),ve("form",{class:Se(S(c))},[Ft(R.$slots,"default")],2))}});var l9e=Fn(o9e,[["__file","form.vue"]]);function H_(){return H_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H_.apply(this,arguments)}function u9e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,f6(t,e)}function RR(t){return RR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},RR(t)}function f6(t,e){return f6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},f6(t,e)}function c9e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sT(t,e,n){return c9e()?sT=Reflect.construct.bind():sT=function(i,s,l){var c=[null];c.push.apply(c,s);var a=Function.bind.apply(i,c),f=new a;return l&&f6(f,l.prototype),f},sT.apply(null,arguments)}function h9e(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function OR(t){var e=typeof Map=="function"?new Map:void 0;return OR=function(r){if(r===null||!h9e(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return sT(r,arguments,RR(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),f6(i,r)},OR(t)}var d9e=/%[sdj%]/g,f9e=function(){};function DR(t){if(!t||!t.length)return null;var e={};return t.forEach(function(n){var r=n.field;e[r]=e[r]||[],e[r].push(n)}),e}function $d(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=0,s=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var l=t.replace(d9e,function(c){if(c==="%%")return"%";if(i>=s)return c;switch(c){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch{return"[Circular]"}break;default:return c}});return l}return t}function p9e(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function Tu(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||p9e(e)&&typeof t=="string"&&!t)}function A9e(t,e,n){var r=[],i=0,s=t.length;function l(c){r.push.apply(r,c||[]),i++,i===s&&n(r)}t.forEach(function(c){e(c,l)})}function NW(t,e,n){var r=0,i=t.length;function s(l){if(l&&l.length){n(l);return}var c=r;r=r+1,c<i?e(t[c],s):n([])}s([])}function m9e(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,t[n]||[])}),e}var UW=function(t){u9e(e,t);function e(n,r){var i;return i=t.call(this,"Async Validation Error")||this,i.errors=n,i.fields=r,i}return e}(OR(Error));function g9e(t,e,n,r,i){if(e.first){var s=new Promise(function(v,y){var T=function(M){return r(M),M.length?y(new UW(M,DR(M))):v(i)},C=m9e(t);NW(C,n,T)});return s.catch(function(v){return v}),s}var l=e.firstFields===!0?Object.keys(t):e.firstFields||[],c=Object.keys(t),a=c.length,f=0,p=[],m=new Promise(function(v,y){var T=function(k){if(p.push.apply(p,k),f++,f===a)return r(p),p.length?y(new UW(p,DR(p))):v(i)};c.length||(r(p),v(i)),c.forEach(function(C){var k=t[C];l.indexOf(C)!==-1?NW(k,n,T):A9e(k,n,T)})});return m.catch(function(v){return v}),m}function v9e(t){return!!(t&&t.message!==void 0)}function _9e(t,e){for(var n=t,r=0;r<e.length;r++){if(n==null)return n;n=n[e[r]]}return n}function zW(t,e){return function(n){var r;return t.fullFields?r=_9e(e,t.fullFields):r=e[n.field||t.fullField],v9e(n)?(n.field=n.field||t.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||t.fullField}}}function $W(t,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];typeof r=="object"&&typeof t[n]=="object"?t[n]=H_({},t[n],r):t[n]=r}}return t}var ase=function(e,n,r,i,s,l){e.required&&(!r.hasOwnProperty(e.field)||Tu(n,l||e.type))&&i.push($d(s.messages.required,e.fullField))},y9e=function(e,n,r,i,s){(/^\s+$/.test(n)||n==="")&&i.push($d(s.messages.whitespace,e.fullField))},CS,b9e=function(){if(CS)return CS;var t="[a-fA-F\\d:]",e=function(N){return N&&N.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=(`
(?:
(?:`+r+":){7}(?:"+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+":){6}(?:"+n+"|:"+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+":){5}(?::"+n+"|(?::"+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+"){0,5}:"+n+"|(?::"+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),s=new RegExp("(?:^"+n+"$)|(?:^"+i+"$)"),l=new RegExp("^"+n+"$"),c=new RegExp("^"+i+"$"),a=function(N){return N&&N.exact?s:new RegExp("(?:"+e(N)+n+e(N)+")|(?:"+e(N)+i+e(N)+")","g")};a.v4=function(R){return R&&R.exact?l:new RegExp(""+e(R)+n+e(R),"g")},a.v6=function(R){return R&&R.exact?c:new RegExp(""+e(R)+i+e(R),"g")};var f="(?:(?:[a-z]+:)?//)",p="(?:\\S+(?::\\S*)?@)?",m=a.v4().source,v=a.v6().source,y="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",T="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",C="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",k="(?::\\d{2,5})?",M='(?:[/?#][^\\s"]*)?',P="(?:"+f+"|www\\.)"+p+"(?:localhost|"+m+"|"+v+"|"+y+T+C+")"+k+M;return CS=new RegExp("(?:^"+P+"$)","i"),CS},VW={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},z4={integer:function(e){return z4.number(e)&&parseInt(e,10)===e},float:function(e){return z4.number(e)&&!z4.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!z4.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(VW.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(b9e())},hex:function(e){return typeof e=="string"&&!!e.match(VW.hex)}},w9e=function(e,n,r,i,s){if(e.required&&n===void 0){ase(e,n,r,i,s);return}var l=["integer","float","array","regexp","object","method","email","number","date","url","hex"],c=e.type;l.indexOf(c)>-1?z4[c](n)||i.push($d(s.messages.types[c],e.fullField,e.type)):c&&typeof n!==e.type&&i.push($d(s.messages.types[c],e.fullField,e.type))},x9e=function(e,n,r,i,s){var l=typeof e.len=="number",c=typeof e.min=="number",a=typeof e.max=="number",f=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,p=n,m=null,v=typeof n=="number",y=typeof n=="string",T=Array.isArray(n);if(v?m="number":y?m="string":T&&(m="array"),!m)return!1;T&&(p=n.length),y&&(p=n.replace(f,"_").length),l?p!==e.len&&i.push($d(s.messages[m].len,e.fullField,e.len)):c&&!a&&p<e.min?i.push($d(s.messages[m].min,e.fullField,e.min)):a&&!c&&p>e.max?i.push($d(s.messages[m].max,e.fullField,e.max)):c&&a&&(p<e.min||p>e.max)&&i.push($d(s.messages[m].range,e.fullField,e.min,e.max))},Nb="enum",C9e=function(e,n,r,i,s){e[Nb]=Array.isArray(e[Nb])?e[Nb]:[],e[Nb].indexOf(n)===-1&&i.push($d(s.messages[Nb],e.fullField,e[Nb].join(", ")))},E9e=function(e,n,r,i,s){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||i.push($d(s.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var l=new RegExp(e.pattern);l.test(n)||i.push($d(s.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},as={required:ase,whitespace:y9e,type:w9e,range:x9e,enum:C9e,pattern:E9e},S9e=function(e,n,r,i,s){var l=[],c=e.required||!e.required&&i.hasOwnProperty(e.field);if(c){if(Tu(n,"string")&&!e.required)return r();as.required(e,n,i,l,s,"string"),Tu(n,"string")||(as.type(e,n,i,l,s),as.range(e,n,i,l,s),as.pattern(e,n,i,l,s),e.whitespace===!0&&as.whitespace(e,n,i,l,s))}r(l)},T9e=function(e,n,r,i,s){var l=[],c=e.required||!e.required&&i.hasOwnProperty(e.field);if(c){if(Tu(n)&&!e.required)return r();as.required(e,n,i,l,s),n!==void 0&&as.type(e,n,i,l,s)}r(l)},B9e=function(e,n,r,i,s){var l=[],c=e.required||!e.required&&i.hasOwnProperty(e.field);if(c){if(n===""&&(n=void 0),Tu(n)&&!e.required)return r();as.required(e,n,i,l,s),n!==void 0&&(as.type(e,n,i,l,s),as.range(e,n,i,l,s))}r(l)},M9e=function(e,n,r,i,s){var l=[],c=e.required||!e.required&&i.hasOwnProperty(e.field);if(c){if(Tu(n)&&!e.required)return r();as.required(e,n,i,l,s),n!==void 0&&as.type(e,n,i,l,s)}r(l)},I9e=function(e,n,r,i,s){var l=[],c=e.required||!e.required&&i.hasOwnProperty(e.field);if(c){if(Tu(n)&&!e.required)return r();as.required(e,n,i,l,s),Tu(n)||as.type(e,n,i,l,s)}r(l)},L9e=function(e,n,r,i,s){var l=[],c=e.required||!e.required&&i.hasOwnProperty(e.field);if(c){if(Tu(n)&&!e.required)return r();as.required(e,n,i,l,s),n!==void 0&&(as.type(e,n,i,l,s),as.range(e,n,i,l,s))}r(l)},k9e=function(e,n,r,i,s){var l=[],c=e.required||!e.required&&i.hasOwnProperty(e.field);if(c){if(Tu(n)&&!e.required)return r();as.required(e,n,i,l,s),n!==void 0&&(as.type(e,n,i,l,s),as.range(e,n,i,l,s))}r(l)},P9e=function(e,n,r,i,s){var l=[],c=e.required||!e.required&&i.hasOwnProperty(e.field);if(c){if(n==null&&!e.required)return r();as.required(e,n,i,l,s,"array"),n!=null&&(as.type(e,n,i,l,s),as.range(e,n,i,l,s))}r(l)},F9e=function(e,n,r,i,s){var l=[],c=e.required||!e.required&&i.hasOwnProperty(e.field);if(c){if(Tu(n)&&!e.required)return r();as.required(e,n,i,l,s),n!==void 0&&as.type(e,n,i,l,s)}r(l)},R9e="enum",O9e=function(e,n,r,i,s){var l=[],c=e.required||!e.required&&i.hasOwnProperty(e.field);if(c){if(Tu(n)&&!e.required)return r();as.required(e,n,i,l,s),n!==void 0&&as[R9e](e,n,i,l,s)}r(l)},D9e=function(e,n,r,i,s){var l=[],c=e.required||!e.required&&i.hasOwnProperty(e.field);if(c){if(Tu(n,"string")&&!e.required)return r();as.required(e,n,i,l,s),Tu(n,"string")||as.pattern(e,n,i,l,s)}r(l)},N9e=function(e,n,r,i,s){var l=[],c=e.required||!e.required&&i.hasOwnProperty(e.field);if(c){if(Tu(n,"date")&&!e.required)return r();if(as.required(e,n,i,l,s),!Tu(n,"date")){var a;n instanceof Date?a=n:a=new Date(n),as.type(e,a,i,l,s),a&&as.range(e,a.getTime(),i,l,s)}}r(l)},U9e=function(e,n,r,i,s){var l=[],c=Array.isArray(n)?"array":typeof n;as.required(e,n,i,l,s,c),r(l)},Sk=function(e,n,r,i,s){var l=e.type,c=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Tu(n,l)&&!e.required)return r();as.required(e,n,i,c,s,l),Tu(n,l)||as.type(e,n,i,c,s)}r(c)},z9e=function(e,n,r,i,s){var l=[],c=e.required||!e.required&&i.hasOwnProperty(e.field);if(c){if(Tu(n)&&!e.required)return r();as.required(e,n,i,l,s)}r(l)},wC={string:S9e,method:T9e,number:B9e,boolean:M9e,regexp:I9e,integer:L9e,float:k9e,array:P9e,object:F9e,enum:O9e,pattern:D9e,date:N9e,url:Sk,hex:Sk,email:Sk,required:U9e,any:z9e};function NR(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var UR=NR(),C5=function(){function t(n){this.rules=null,this._messages=UR,this.define(n)}var e=t.prototype;return e.define=function(r){var i=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(s){var l=r[s];i.rules[s]=Array.isArray(l)?l:[l]})},e.messages=function(r){return r&&(this._messages=$W(NR(),r)),this._messages},e.validate=function(r,i,s){var l=this;i===void 0&&(i={}),s===void 0&&(s=function(){});var c=r,a=i,f=s;if(typeof a=="function"&&(f=a,a={}),!this.rules||Object.keys(this.rules).length===0)return f&&f(null,c),Promise.resolve(c);function p(C){var k=[],M={};function P(N){if(Array.isArray(N)){var z;k=(z=k).concat.apply(z,N)}else k.push(N)}for(var R=0;R<C.length;R++)P(C[R]);k.length?(M=DR(k),f(k,M)):f(null,c)}if(a.messages){var m=this.messages();m===UR&&(m=NR()),$W(m,a.messages),a.messages=m}else a.messages=this.messages();var v={},y=a.keys||Object.keys(this.rules);y.forEach(function(C){var k=l.rules[C],M=c[C];k.forEach(function(P){var R=P;typeof R.transform=="function"&&(c===r&&(c=H_({},c)),M=c[C]=R.transform(M)),typeof R=="function"?R={validator:R}:R=H_({},R),R.validator=l.getValidationMethod(R),R.validator&&(R.field=C,R.fullField=R.fullField||C,R.type=l.getType(R),v[C]=v[C]||[],v[C].push({rule:R,value:M,source:c,field:C}))})});var T={};return g9e(v,a,function(C,k){var M=C.rule,P=(M.type==="object"||M.type==="array")&&(typeof M.fields=="object"||typeof M.defaultField=="object");P=P&&(M.required||!M.required&&C.value),M.field=C.field;function R(H,j){return H_({},j,{fullField:M.fullField+"."+H,fullFields:M.fullFields?[].concat(M.fullFields,[H]):[H]})}function N(H){H===void 0&&(H=[]);var j=Array.isArray(H)?H:[H];!a.suppressWarning&&j.length&&t.warning("async-validator:",j),j.length&&M.message!==void 0&&(j=[].concat(M.message));var Q=j.map(zW(M,c));if(a.first&&Q.length)return T[M.field]=1,k(Q);if(!P)k(Q);else{if(M.required&&!C.value)return M.message!==void 0?Q=[].concat(M.message).map(zW(M,c)):a.error&&(Q=[a.error(M,$d(a.messages.required,M.field))]),k(Q);var G={};M.defaultField&&Object.keys(C.value).map(function(W){G[W]=M.defaultField}),G=H_({},G,C.rule.fields);var ie={};Object.keys(G).forEach(function(W){var ee=G[W],he=Array.isArray(ee)?ee:[ee];ie[W]=he.map(R.bind(null,W))});var q=new t(ie);q.messages(a.messages),C.rule.options&&(C.rule.options.messages=a.messages,C.rule.options.error=a.error),q.validate(C.value,C.rule.options||a,function(W){var ee=[];Q&&Q.length&&ee.push.apply(ee,Q),W&&W.length&&ee.push.apply(ee,W),k(ee.length?ee:null)})}}var z;if(M.asyncValidator)z=M.asyncValidator(M,C.value,N,C.source,a);else if(M.validator){try{z=M.validator(M,C.value,N,C.source,a)}catch(H){console.error==null||console.error(H),a.suppressValidatorError||setTimeout(function(){throw H},0),N(H.message)}z===!0?N():z===!1?N(typeof M.message=="function"?M.message(M.fullField||M.field):M.message||(M.fullField||M.field)+" fails"):z instanceof Array?N(z):z instanceof Error&&N(z.message)}z&&z.then&&z.then(function(){return N()},function(H){return N(H)})},function(C){p(C)},c)},e.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!wC.hasOwnProperty(r.type))throw new Error($d("Unknown rule type %s",r.type));return r.type||"string"},e.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var i=Object.keys(r),s=i.indexOf("message");return s!==-1&&i.splice(s,1),i.length===1&&i[0]==="required"?wC.required:wC[this.getType(r)]||void 0},t}();C5.register=function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");wC[e]=n};C5.warning=f9e;C5.messages=UR;C5.validators=wC;const $9e=["","error","validating","success"],V9e=Ln({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:Rt([String,Array])},required:{type:Boolean,default:void 0},rules:{type:Rt([Object,Array])},error:String,validateStatus:{type:String,values:$9e},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:Om}}),HW="ElLabelWrap";var H9e=Be({name:HW,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(t,{slots:e}){const n=ar(Qy,void 0),r=ar(Bm);r||Ul(HW,"usage: <el-form-item><label-wrap /></el-form-item>");const i=vn("form"),s=Te(),l=Te(0),c=()=>{var p;if((p=s.value)!=null&&p.firstElementChild){const m=window.getComputedStyle(s.value.firstElementChild).width;return Math.ceil(Number.parseFloat(m))}else return 0},a=(p="update")=>{dr(()=>{e.default&&t.isAutoWidth&&(p==="update"?l.value=c():p==="remove"&&(n==null||n.deregisterLabelWidth(l.value)))})},f=()=>a("update");return Fr(()=>{f()}),ps(()=>{a("remove")}),_0(()=>f()),ln(l,(p,m)=>{t.updateAll&&(n==null||n.registerLabelWidth(p,m))}),no(le(()=>{var p,m;return(m=(p=s.value)==null?void 0:p.firstElementChild)!=null?m:null}),f),()=>{var p,m;if(!e)return null;const{isAutoWidth:v}=t;if(v){const y=n==null?void 0:n.autoLabelWidth,T=r==null?void 0:r.hasLabel,C={};if(T&&y&&y!=="auto"){const k=Math.max(0,Number.parseInt(y,10)-l.value),M=n.labelPosition==="left"?"marginRight":"marginLeft";k&&(C[M]=`${k}px`)}return ht("div",{ref:s,class:[i.be("item","label-wrap")],style:C},[(p=e.default)==null?void 0:p.call(e)])}else return ht(Vn,{ref:s},[(m=e.default)==null?void 0:m.call(e)])}}});const Q9e=["role","aria-labelledby"],j9e=Be({name:"ElFormItem"}),G9e=Be({...j9e,props:V9e,setup(t,{expose:e}){const n=t,r=To(),i=ar(Qy,void 0),s=ar(Bm,void 0),l=ml(void 0,{formItem:!1}),c=vn("form-item"),a=hc().value,f=Te([]),p=Te(""),m=uCe(p,100),v=Te(""),y=Te();let T,C=!1;const k=le(()=>{if((i==null?void 0:i.labelPosition)==="top")return{};const be=So(n.labelWidth||(i==null?void 0:i.labelWidth)||"");return be?{width:be}:{}}),M=le(()=>{if((i==null?void 0:i.labelPosition)==="top"||i!=null&&i.inline)return{};if(!n.label&&!n.labelWidth&&G)return{};const be=So(n.labelWidth||(i==null?void 0:i.labelWidth)||"");return!n.label&&!r.label?{marginLeft:be}:{}}),P=le(()=>[c.b(),c.m(l.value),c.is("error",p.value==="error"),c.is("validating",p.value==="validating"),c.is("success",p.value==="success"),c.is("required",he.value||n.required),c.is("no-asterisk",i==null?void 0:i.hideRequiredAsterisk),(i==null?void 0:i.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[c.m("feedback")]:i==null?void 0:i.statusIcon}]),R=le(()=>Jo(n.inlineMessage)?n.inlineMessage:(i==null?void 0:i.inlineMessage)||!1),N=le(()=>[c.e("error"),{[c.em("error","inline")]:R.value}]),z=le(()=>n.prop?Hr(n.prop)?n.prop:n.prop.join("."):""),H=le(()=>!!(n.label||r.label)),j=le(()=>n.for||(f.value.length===1?f.value[0]:void 0)),Q=le(()=>!j.value&&H.value),G=!!s,ie=le(()=>{const be=i==null?void 0:i.model;if(!(!be||!n.prop))return iT(be,n.prop).value}),q=le(()=>{const{required:be}=n,Re=[];n.rules&&Re.push(...h1(n.rules));const Qe=i==null?void 0:i.rules;if(Qe&&n.prop){const Je=iT(Qe,n.prop).value;Je&&Re.push(...h1(Je))}if(be!==void 0){const Je=Re.map((nt,Ve)=>[nt,Ve]).filter(([nt])=>Object.keys(nt).includes("required"));if(Je.length>0)for(const[nt,Ve]of Je)nt.required!==be&&(Re[Ve]={...nt,required:be});else Re.push({required:be})}return Re}),W=le(()=>q.value.length>0),ee=be=>q.value.filter(Qe=>!Qe.trigger||!be?!0:Array.isArray(Qe.trigger)?Qe.trigger.includes(be):Qe.trigger===be).map(({trigger:Qe,...Je})=>Je),he=le(()=>q.value.some(be=>be.required)),J=le(()=>{var be;return m.value==="error"&&n.showMessage&&((be=i==null?void 0:i.showMessage)!=null?be:!0)}),te=le(()=>`${n.label||""}${(i==null?void 0:i.labelSuffix)||""}`),ne=be=>{p.value=be},ce=be=>{var Re,Qe;const{errors:Je,fields:nt}=be;(!Je||!nt)&&console.error(be),ne("error"),v.value=Je?(Qe=(Re=Je==null?void 0:Je[0])==null?void 0:Re.message)!=null?Qe:`${n.prop} is required`:"",i==null||i.emit("validate",n.prop,!1,v.value)},ue=()=>{ne("success"),i==null||i.emit("validate",n.prop,!0,"")},ye=async be=>{const Re=z.value;return new C5({[Re]:be}).validate({[Re]:ie.value},{firstFields:!0}).then(()=>(ue(),!0)).catch(Je=>(ce(Je),Promise.reject(Je)))},Ee=async(be,Re)=>{if(C||!n.prop)return!1;const Qe=Dr(Re);if(!W.value)return Re==null||Re(!1),!1;const Je=ee(be);return Je.length===0?(Re==null||Re(!0),!0):(ne("validating"),ye(Je).then(()=>(Re==null||Re(!0),!0)).catch(nt=>{const{fields:Ve}=nt;return Re==null||Re(!1,Ve),Qe?!1:Promise.reject(Ve)}))},se=()=>{ne(""),v.value="",C=!1},oe=async()=>{const be=i==null?void 0:i.model;if(!be||!n.prop)return;const Re=iT(be,n.prop);C=!0,Re.value=uW(T),await dr(),se(),C=!1},_e=be=>{f.value.includes(be)||f.value.push(be)},Ue=be=>{f.value=f.value.filter(Re=>Re!==be)};ln(()=>n.error,be=>{v.value=be||"",ne(be?"error":"")},{immediate:!0}),ln(()=>n.validateStatus,be=>ne(be||""));const Le=ha({...Gu(n),$el:y,size:l,validateState:p,labelId:a,inputIds:f,isGroup:Q,hasLabel:H,fieldValue:ie,addInputId:_e,removeInputId:Ue,resetField:oe,clearValidate:se,validate:Ee});return ki(Bm,Le),Fr(()=>{n.prop&&(i==null||i.addField(Le),T=uW(ie.value))}),ps(()=>{i==null||i.removeField(Le)}),e({size:l,validateMessage:v,validateState:p,validate:Ee,clearValidate:se,resetField:oe}),(be,Re)=>{var Qe;return X(),ve("div",{ref_key:"formItemRef",ref:y,class:Se(S(P)),role:S(Q)?"group":void 0,"aria-labelledby":S(Q)?S(a):void 0},[ht(S(H9e),{"is-auto-width":S(k).width==="auto","update-all":((Qe=S(i))==null?void 0:Qe.labelWidth)==="auto"},{default:xt(()=>[S(H)?(X(),Ut(fi(S(j)?"label":"div"),{key:0,id:S(a),for:S(j),class:Se(S(c).e("label")),style:or(S(k))},{default:xt(()=>[Ft(be.$slots,"label",{label:S(te)},()=>[xi(Cn(S(te)),1)])]),_:3},8,["id","for","class","style"])):bt("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),pe("div",{class:Se(S(c).e("content")),style:or(S(M))},[Ft(be.$slots,"default"),ht(Wne,{name:`${S(c).namespace.value}-zoom-in-top`},{default:xt(()=>[S(J)?Ft(be.$slots,"error",{key:0,error:v.value},()=>[pe("div",{class:Se(S(N))},Cn(v.value),3)]):bt("v-if",!0)]),_:3},8,["name"])],6)],10,Q9e)}}});var sse=Fn(G9e,[["__file","form-item.vue"]]);const K9e=pi(l9e,{FormItem:sse}),W9e=ao(sse);let Mp;const q9e=`
  height:0 !important;
  visibility:hidden !important;
  ${cie()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,Y9e=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function X9e(t){const e=window.getComputedStyle(t),n=e.getPropertyValue("box-sizing"),r=Number.parseFloat(e.getPropertyValue("padding-bottom"))+Number.parseFloat(e.getPropertyValue("padding-top")),i=Number.parseFloat(e.getPropertyValue("border-bottom-width"))+Number.parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:Y9e.map(l=>`${l}:${e.getPropertyValue(l)}`).join(";"),paddingSize:r,borderSize:i,boxSizing:n}}function QW(t,e=1,n){var r;Mp||(Mp=document.createElement("textarea"),document.body.appendChild(Mp));const{paddingSize:i,borderSize:s,boxSizing:l,contextStyle:c}=X9e(t);Mp.setAttribute("style",`${c};${q9e}`),Mp.value=t.value||t.placeholder||"";let a=Mp.scrollHeight;const f={};l==="border-box"?a=a+s:l==="content-box"&&(a=a-i),Mp.value="";const p=Mp.scrollHeight-i;if(Or(e)){let m=p*e;l==="border-box"&&(m=m+i+s),a=Math.max(m,a),f.minHeight=`${m}px`}if(Or(n)){let m=p*n;l==="border-box"&&(m=m+i+s),a=Math.min(m,a)}return f.height=`${a}px`,(r=Mp.parentNode)==null||r.removeChild(Mp),Mp=void 0,f}const Z9e=Ln({id:{type:String,default:void 0},size:lu,disabled:Boolean,modelValue:{type:Rt([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:Rt([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:ts},prefixIcon:{type:ts},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:Rt([Object,Array,String]),default:()=>ro({})},autofocus:{type:Boolean,default:!1},...Wu(["ariaLabel"])}),J9e={[_i]:t=>Hr(t),input:t=>Hr(t),change:t=>Hr(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof Event,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},e7e=["role"],t7e=["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],n7e=["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus"],r7e=Be({name:"ElInput",inheritAttrs:!1}),i7e=Be({...r7e,props:Z9e,emits:J9e,setup(t,{expose:e,emit:n}){const r=t,i=Dy(),s=To(),l=le(()=>{const Nt={};return r.containerRole==="combobox"&&(Nt["aria-haspopup"]=i["aria-haspopup"],Nt["aria-owns"]=i["aria-owns"],Nt["aria-expanded"]=i["aria-expanded"]),Nt}),c=le(()=>[r.type==="textarea"?k.b():C.b(),C.m(y.value),C.is("disabled",T.value),C.is("exceed",_e.value),{[C.b("group")]:s.prepend||s.append,[C.bm("group","append")]:s.append,[C.bm("group","prepend")]:s.prepend,[C.m("prefix")]:s.prefix||r.prefixIcon,[C.m("suffix")]:s.suffix||r.suffixIcon||r.clearable||r.showPassword,[C.bm("suffix","password-clear")]:ye.value&&Ee.value,[C.b("hidden")]:r.type==="hidden"},i.class]),a=le(()=>[C.e("wrapper"),C.is("focus",ie.value)]),f=p7({excludeKeys:le(()=>Object.keys(l.value))}),{form:p,formItem:m}=Qc(),{inputId:v}=dA(r,{formItemContext:m}),y=ml(),T=fh(),C=vn("input"),k=vn("textarea"),M=vs(),P=vs(),R=Te(!1),N=Te(!1),z=Te(!1),H=Te(),j=vs(r.inputStyle),Q=le(()=>M.value||P.value),{wrapperRef:G,isFocused:ie,handleFocus:q,handleBlur:W}=sM(Q,{afterBlur(){var Nt;r.validateEvent&&((Nt=m==null?void 0:m.validate)==null||Nt.call(m,"blur").catch(wt=>void 0))}}),ee=le(()=>{var Nt;return(Nt=p==null?void 0:p.statusIcon)!=null?Nt:!1}),he=le(()=>(m==null?void 0:m.validateState)||""),J=le(()=>he.value&&d7[he.value]),te=le(()=>z.value?_ae:oae),ne=le(()=>[i.style]),ce=le(()=>[r.inputStyle,j.value,{resize:r.resize}]),ue=le(()=>Cu(r.modelValue)?"":String(r.modelValue)),ye=le(()=>r.clearable&&!T.value&&!r.readonly&&!!ue.value&&(ie.value||R.value)),Ee=le(()=>r.showPassword&&!T.value&&!r.readonly&&!!ue.value&&(!!ue.value||ie.value)),se=le(()=>r.showWordLimit&&!!r.maxlength&&(r.type==="text"||r.type==="textarea")&&!T.value&&!r.readonly&&!r.showPassword),oe=le(()=>ue.value.length),_e=le(()=>!!se.value&&oe.value>Number(r.maxlength)),Ue=le(()=>!!s.suffix||!!r.suffixIcon||ye.value||r.showPassword||se.value||!!he.value&&ee.value),[Le,be]=SNe(M);no(P,Nt=>{if(Je(),!se.value||r.resize!=="both")return;const wt=Nt[0],{width:De}=wt.contentRect;H.value={right:`calc(100% - ${De+15+6}px)`}});const Re=()=>{const{type:Nt,autosize:wt}=r;if(!(!ra||Nt!=="textarea"||!P.value))if(wt){const De=mi(wt)?wt.minRows:void 0,We=mi(wt)?wt.maxRows:void 0,ut=QW(P.value,De,We);j.value={overflowY:"hidden",...ut},dr(()=>{P.value.offsetHeight,j.value=ut})}else j.value={minHeight:QW(P.value).minHeight}},Je=(Nt=>{let wt=!1;return()=>{var De;if(wt||!r.autosize)return;((De=P.value)==null?void 0:De.offsetParent)===null||(Nt(),wt=!0)}})(Re),nt=()=>{const Nt=Q.value,wt=r.formatter?r.formatter(ue.value):ue.value;!Nt||Nt.value===wt||(Nt.value=wt)},Ve=async Nt=>{Le();let{value:wt}=Nt.target;if(r.formatter&&(wt=r.parser?r.parser(wt):wt),!N.value){if(wt===ue.value){nt();return}n(_i,wt),n("input",wt),await dr(),nt(),be()}},ke=Nt=>{n("change",Nt.target.value)},Ge=Nt=>{n("compositionstart",Nt),N.value=!0},Ne=Nt=>{var wt;n("compositionupdate",Nt);const De=(wt=Nt.target)==null?void 0:wt.value,We=De[De.length-1]||"";N.value=!f7(We)},je=Nt=>{n("compositionend",Nt),N.value&&(N.value=!1,Ve(Nt))},Ye=()=>{z.value=!z.value,vt()},vt=async()=>{var Nt;await dr(),(Nt=Q.value)==null||Nt.focus()},Lt=()=>{var Nt;return(Nt=Q.value)==null?void 0:Nt.blur()},Et=Nt=>{R.value=!1,n("mouseleave",Nt)},Vt=Nt=>{R.value=!0,n("mouseenter",Nt)},_t=Nt=>{n("keydown",Nt)},qt=()=>{var Nt;(Nt=Q.value)==null||Nt.select()},tn=()=>{n(_i,""),n("change",""),n("clear"),n("input","")};return ln(()=>r.modelValue,()=>{var Nt;dr(()=>Re()),r.validateEvent&&((Nt=m==null?void 0:m.validate)==null||Nt.call(m,"change").catch(wt=>void 0))}),ln(ue,()=>nt()),ln(()=>r.type,async()=>{await dr(),nt(),Re()}),Fr(()=>{!r.formatter&&r.parser,nt(),dr(Re)}),wu({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-input",ref:"https://element-plus.org/en-US/component/input.html"},le(()=>!!r.label)),e({input:M,textarea:P,ref:Q,textareaStyle:ce,autosize:Na(r,"autosize"),focus:vt,blur:Lt,select:qt,clear:tn,resizeTextarea:Re}),(Nt,wt)=>(X(),ve("div",Xr(S(l),{class:S(c),style:S(ne),role:Nt.containerRole,onMouseenter:Vt,onMouseleave:Et}),[bt(" input "),Nt.type!=="textarea"?(X(),ve(Vn,{key:0},[bt(" prepend slot "),Nt.$slots.prepend?(X(),ve("div",{key:0,class:Se(S(C).be("group","prepend"))},[Ft(Nt.$slots,"prepend")],2)):bt("v-if",!0),pe("div",{ref_key:"wrapperRef",ref:G,class:Se(S(a))},[bt(" prefix slot "),Nt.$slots.prefix||Nt.prefixIcon?(X(),ve("span",{key:0,class:Se(S(C).e("prefix"))},[pe("span",{class:Se(S(C).e("prefix-inner"))},[Ft(Nt.$slots,"prefix"),Nt.prefixIcon?(X(),Ut(S(Ar),{key:0,class:Se(S(C).e("icon"))},{default:xt(()=>[(X(),Ut(fi(Nt.prefixIcon)))]),_:1},8,["class"])):bt("v-if",!0)],2)],2)):bt("v-if",!0),pe("input",Xr({id:S(v),ref_key:"input",ref:M,class:S(C).e("inner")},S(f),{minlength:Nt.minlength,maxlength:Nt.maxlength,type:Nt.showPassword?z.value?"text":"password":Nt.type,disabled:S(T),readonly:Nt.readonly,autocomplete:Nt.autocomplete,tabindex:Nt.tabindex,"aria-label":Nt.label||Nt.ariaLabel,placeholder:Nt.placeholder,style:Nt.inputStyle,form:Nt.form,autofocus:Nt.autofocus,onCompositionstart:Ge,onCompositionupdate:Ne,onCompositionend:je,onInput:Ve,onFocus:wt[0]||(wt[0]=(...De)=>S(q)&&S(q)(...De)),onBlur:wt[1]||(wt[1]=(...De)=>S(W)&&S(W)(...De)),onChange:ke,onKeydown:_t}),null,16,t7e),bt(" suffix slot "),S(Ue)?(X(),ve("span",{key:1,class:Se(S(C).e("suffix"))},[pe("span",{class:Se(S(C).e("suffix-inner"))},[!S(ye)||!S(Ee)||!S(se)?(X(),ve(Vn,{key:0},[Ft(Nt.$slots,"suffix"),Nt.suffixIcon?(X(),Ut(S(Ar),{key:0,class:Se(S(C).e("icon"))},{default:xt(()=>[(X(),Ut(fi(Nt.suffixIcon)))]),_:1},8,["class"])):bt("v-if",!0)],64)):bt("v-if",!0),S(ye)?(X(),Ut(S(Ar),{key:1,class:Se([S(C).e("icon"),S(C).e("clear")]),onMousedown:Pr(S(Qa),["prevent"]),onClick:tn},{default:xt(()=>[ht(S(w0))]),_:1},8,["class","onMousedown"])):bt("v-if",!0),S(Ee)?(X(),Ut(S(Ar),{key:2,class:Se([S(C).e("icon"),S(C).e("password")]),onClick:Ye},{default:xt(()=>[(X(),Ut(fi(S(te))))]),_:1},8,["class"])):bt("v-if",!0),S(se)?(X(),ve("span",{key:3,class:Se(S(C).e("count"))},[pe("span",{class:Se(S(C).e("count-inner"))},Cn(S(oe))+" / "+Cn(Nt.maxlength),3)],2)):bt("v-if",!0),S(he)&&S(J)&&S(ee)?(X(),Ut(S(Ar),{key:4,class:Se([S(C).e("icon"),S(C).e("validateIcon"),S(C).is("loading",S(he)==="validating")])},{default:xt(()=>[(X(),Ut(fi(S(J))))]),_:1},8,["class"])):bt("v-if",!0)],2)],2)):bt("v-if",!0)],2),bt(" append slot "),Nt.$slots.append?(X(),ve("div",{key:1,class:Se(S(C).be("group","append"))},[Ft(Nt.$slots,"append")],2)):bt("v-if",!0)],64)):(X(),ve(Vn,{key:1},[bt(" textarea "),pe("textarea",Xr({id:S(v),ref_key:"textarea",ref:P,class:S(k).e("inner")},S(f),{minlength:Nt.minlength,maxlength:Nt.maxlength,tabindex:Nt.tabindex,disabled:S(T),readonly:Nt.readonly,autocomplete:Nt.autocomplete,style:S(ce),"aria-label":Nt.label||Nt.ariaLabel,placeholder:Nt.placeholder,form:Nt.form,autofocus:Nt.autofocus,onCompositionstart:Ge,onCompositionupdate:Ne,onCompositionend:je,onInput:Ve,onFocus:wt[2]||(wt[2]=(...De)=>S(q)&&S(q)(...De)),onBlur:wt[3]||(wt[3]=(...De)=>S(W)&&S(W)(...De)),onChange:ke,onKeydown:_t}),null,16,n7e),S(se)?(X(),ve("span",{key:0,style:or(H.value),class:Se(S(C).e("count"))},Cn(S(oe))+" / "+Cn(Nt.maxlength),7)):bt("v-if",!0)],64))],16,e7e))}});var a7e=Fn(i7e,[["__file","input.vue"]]);const Nc=pi(a7e),Ub=4,ose={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},s7e=({move:t,size:e,bar:n})=>({[n.size]:e,transform:`translate${n.axis}(${t}%)`}),O7=Symbol("scrollbarContextKey"),o7e=Ln({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),l7e="Thumb",u7e=Be({__name:"thumb",props:o7e,setup(t){const e=t,n=ar(O7),r=vn("scrollbar");n||Ul(l7e,"can not inject scrollbar context");const i=Te(),s=Te(),l=Te({}),c=Te(!1);let a=!1,f=!1,p=ra?document.onselectstart:null;const m=le(()=>ose[e.vertical?"vertical":"horizontal"]),v=le(()=>s7e({size:e.size,move:e.move,bar:m.value})),y=le(()=>i.value[m.value.offset]**2/n.wrapElement[m.value.scrollSize]/e.ratio/s.value[m.value.offset]),T=H=>{var j;if(H.stopPropagation(),H.ctrlKey||[1,2].includes(H.button))return;(j=window.getSelection())==null||j.removeAllRanges(),k(H);const Q=H.currentTarget;Q&&(l.value[m.value.axis]=Q[m.value.offset]-(H[m.value.client]-Q.getBoundingClientRect()[m.value.direction]))},C=H=>{if(!s.value||!i.value||!n.wrapElement)return;const j=Math.abs(H.target.getBoundingClientRect()[m.value.direction]-H[m.value.client]),Q=s.value[m.value.offset]/2,G=(j-Q)*100*y.value/i.value[m.value.offset];n.wrapElement[m.value.scroll]=G*n.wrapElement[m.value.scrollSize]/100},k=H=>{H.stopImmediatePropagation(),a=!0,document.addEventListener("mousemove",M),document.addEventListener("mouseup",P),p=document.onselectstart,document.onselectstart=()=>!1},M=H=>{if(!i.value||!s.value||a===!1)return;const j=l.value[m.value.axis];if(!j)return;const Q=(i.value.getBoundingClientRect()[m.value.direction]-H[m.value.client])*-1,G=s.value[m.value.offset]-j,ie=(Q-G)*100*y.value/i.value[m.value.offset];n.wrapElement[m.value.scroll]=ie*n.wrapElement[m.value.scrollSize]/100},P=()=>{a=!1,l.value[m.value.axis]=0,document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",P),z(),f&&(c.value=!1)},R=()=>{f=!1,c.value=!!e.size},N=()=>{f=!0,c.value=a};ps(()=>{z(),document.removeEventListener("mouseup",P)});const z=()=>{document.onselectstart!==p&&(document.onselectstart=p)};return _s(Na(n,"scrollbarElement"),"mousemove",R),_s(Na(n,"scrollbarElement"),"mouseleave",N),(H,j)=>(X(),Ut(fo,{name:S(r).b("fade"),persisted:""},{default:xt(()=>[Jr(pe("div",{ref_key:"instance",ref:i,class:Se([S(r).e("bar"),S(r).is(S(m).key)]),onMousedown:C},[pe("div",{ref_key:"thumb",ref:s,class:Se(S(r).e("thumb")),style:or(S(v)),onMousedown:T},null,38)],34),[[ca,H.always||c.value]])]),_:1},8,["name"]))}});var jW=Fn(u7e,[["__file","thumb.vue"]]);const c7e=Ln({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),h7e=Be({__name:"bar",props:c7e,setup(t,{expose:e}){const n=t,r=ar(O7),i=Te(0),s=Te(0),l=Te(""),c=Te(""),a=Te(1),f=Te(1);return e({handleScroll:v=>{if(v){const y=v.offsetHeight-Ub,T=v.offsetWidth-Ub;s.value=v.scrollTop*100/y*a.value,i.value=v.scrollLeft*100/T*f.value}},update:()=>{const v=r==null?void 0:r.wrapElement;if(!v)return;const y=v.offsetHeight-Ub,T=v.offsetWidth-Ub,C=y**2/v.scrollHeight,k=T**2/v.scrollWidth,M=Math.max(C,n.minSize),P=Math.max(k,n.minSize);a.value=C/(y-C)/(M/(y-M)),f.value=k/(T-k)/(P/(T-P)),c.value=M+Ub<y?`${M}px`:"",l.value=P+Ub<T?`${P}px`:""}}),(v,y)=>(X(),ve(Vn,null,[ht(jW,{move:i.value,ratio:f.value,size:l.value,always:v.always},null,8,["move","ratio","size","always"]),ht(jW,{move:s.value,ratio:a.value,size:c.value,vertical:"",always:v.always},null,8,["move","ratio","size","always"])],64))}});var d7e=Fn(h7e,[["__file","bar.vue"]]);const f7e=Ln({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:Rt([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},id:String,role:String,...Wu(["ariaLabel","ariaOrientation"])}),p7e={scroll:({scrollTop:t,scrollLeft:e})=>[t,e].every(Or)},A7e="ElScrollbar",m7e=Be({name:A7e}),g7e=Be({...m7e,props:f7e,emits:p7e,setup(t,{expose:e,emit:n}){const r=t,i=vn("scrollbar");let s,l;const c=Te(),a=Te(),f=Te(),p=Te(),m=le(()=>{const R={};return r.height&&(R.height=So(r.height)),r.maxHeight&&(R.maxHeight=So(r.maxHeight)),[r.wrapStyle,R]}),v=le(()=>[r.wrapClass,i.e("wrap"),{[i.em("wrap","hidden-default")]:!r.native}]),y=le(()=>[i.e("view"),r.viewClass]),T=()=>{var R;a.value&&((R=p.value)==null||R.handleScroll(a.value),n("scroll",{scrollTop:a.value.scrollTop,scrollLeft:a.value.scrollLeft}))};function C(R,N){mi(R)?a.value.scrollTo(R):Or(R)&&Or(N)&&a.value.scrollTo(R,N)}const k=R=>{Or(R)&&(a.value.scrollTop=R)},M=R=>{Or(R)&&(a.value.scrollLeft=R)},P=()=>{var R;(R=p.value)==null||R.update()};return ln(()=>r.noresize,R=>{R?(s==null||s(),l==null||l()):({stop:s}=no(f,P),l=_s("resize",P))},{immediate:!0}),ln(()=>[r.maxHeight,r.height],()=>{r.native||dr(()=>{var R;P(),a.value&&((R=p.value)==null||R.handleScroll(a.value))})}),ki(O7,ha({scrollbarElement:c,wrapElement:a})),Fr(()=>{r.native||dr(()=>{P()})}),_0(()=>P()),e({wrapRef:a,update:P,scrollTo:C,setScrollTop:k,setScrollLeft:M,handleScroll:T}),(R,N)=>(X(),ve("div",{ref_key:"scrollbarRef",ref:c,class:Se(S(i).b())},[pe("div",{ref_key:"wrapRef",ref:a,class:Se(S(v)),style:or(S(m)),onScroll:T},[(X(),Ut(fi(R.tag),{id:R.id,ref_key:"resizeRef",ref:f,class:Se(S(y)),style:or(R.viewStyle),role:R.role,"aria-label":R.ariaLabel,"aria-orientation":R.ariaOrientation},{default:xt(()=>[Ft(R.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],38),R.native?bt("v-if",!0):(X(),Ut(d7e,{key:0,ref_key:"barRef",ref:p,always:R.always,"min-size":R.minSize},null,8,["always","min-size"]))],2))}});var v7e=Fn(g7e,[["__file","scrollbar.vue"]]);const E0=pi(v7e),D7=Symbol("popper"),lse=Symbol("popperContent"),_7e=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],use=Ln({role:{type:String,values:_7e,default:"tooltip"}}),y7e=Be({name:"ElPopper",inheritAttrs:!1}),b7e=Be({...y7e,props:use,setup(t,{expose:e}){const n=t,r=Te(),i=Te(),s=Te(),l=Te(),c=le(()=>n.role),a={triggerRef:r,popperInstanceRef:i,contentRef:s,referenceRef:l,role:c};return e(a),ki(D7,a),(f,p)=>Ft(f.$slots,"default")}});var w7e=Fn(b7e,[["__file","popper.vue"]]);const cse=Ln({arrowOffset:{type:Number,default:5}}),x7e=Be({name:"ElPopperArrow",inheritAttrs:!1}),C7e=Be({...x7e,props:cse,setup(t,{expose:e}){const n=t,r=vn("popper"),{arrowOffset:i,arrowRef:s,arrowStyle:l}=ar(lse,void 0);return ln(()=>n.arrowOffset,c=>{i.value=c}),ps(()=>{s.value=void 0}),e({arrowRef:s}),(c,a)=>(X(),ve("span",{ref_key:"arrowRef",ref:s,class:Se(S(r).e("arrow")),style:or(S(l)),"data-popper-arrow":""},null,6))}});var E7e=Fn(C7e,[["__file","arrow.vue"]]);const S7e="ElOnlyChild",hse=Be({name:S7e,setup(t,{slots:e,attrs:n}){var r;const i=ar($ae),s=$De((r=i==null?void 0:i.setForwardRef)!=null?r:Qa);return()=>{var l;const c=(l=e.default)==null?void 0:l.call(e,n);if(!c||c.length>1)return null;const a=dse(c);return a?Jr(a0(a,n),[[s]]):null}}});function dse(t){if(!t)return null;const e=t;for(const n of e){if(mi(n))switch(n.type){case Dc:continue;case X2:case"svg":return GW(n);case Vn:return dse(n.children);default:return n}return GW(n)}return null}function GW(t){const e=vn("only-child");return ht("span",{class:e.e("content")},[t])}const fse=Ln({virtualRef:{type:Rt(Object)},virtualTriggering:Boolean,onMouseenter:{type:Rt(Function)},onMouseleave:{type:Rt(Function)},onClick:{type:Rt(Function)},onKeydown:{type:Rt(Function)},onFocus:{type:Rt(Function)},onBlur:{type:Rt(Function)},onContextmenu:{type:Rt(Function)},id:String,open:Boolean}),T7e=Be({name:"ElPopperTrigger",inheritAttrs:!1}),B7e=Be({...T7e,props:fse,setup(t,{expose:e}){const n=t,{role:r,triggerRef:i}=ar(D7,void 0);zDe(i);const s=le(()=>c.value?n.id:void 0),l=le(()=>{if(r&&r.value==="tooltip")return n.open&&n.id?n.id:void 0}),c=le(()=>{if(r&&r.value!=="tooltip")return r.value}),a=le(()=>c.value?`${n.open}`:void 0);let f;return Fr(()=>{ln(()=>n.virtualRef,p=>{p&&(i.value=$h(p))},{immediate:!0}),ln(i,(p,m)=>{f==null||f(),f=void 0,Ff(p)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(v=>{var y;const T=n[v];T&&(p.addEventListener(v.slice(2).toLowerCase(),T),(y=m==null?void 0:m.removeEventListener)==null||y.call(m,v.slice(2).toLowerCase(),T))}),f=ln([s,l,c,a],v=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((y,T)=>{Cu(v[T])?p.removeAttribute(y):p.setAttribute(y,v[T])})},{immediate:!0})),Ff(m)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(v=>m.removeAttribute(v))},{immediate:!0})}),ps(()=>{f==null||f(),f=void 0}),e({triggerRef:i}),(p,m)=>p.virtualTriggering?bt("v-if",!0):(X(),Ut(S(hse),Xr({key:0},p.$attrs,{"aria-controls":S(s),"aria-describedby":S(l),"aria-expanded":S(a),"aria-haspopup":S(c)}),{default:xt(()=>[Ft(p.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var M7e=Fn(B7e,[["__file","trigger.vue"]]);const Tk="focus-trap.focus-after-trapped",Bk="focus-trap.focus-after-released",I7e="focus-trap.focusout-prevented",KW={cancelable:!0,bubbles:!1},L7e={cancelable:!0,bubbles:!1},WW="focusAfterTrapped",qW="focusAfterReleased",N7=Symbol("elFocusTrap"),U7=Te(),uM=Te(0),z7=Te(0);let ES=0;const pse=t=>{const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0||r===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e},YW=(t,e)=>{for(const n of t)if(!k7e(n,e))return n},k7e=(t,e)=>{if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1},P7e=t=>{const e=pse(t),n=YW(e,t),r=YW(e.reverse(),t);return[n,r]},F7e=t=>t instanceof HTMLInputElement&&"select"in t,xv=(t,e)=>{if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),z7.value=window.performance.now(),t!==n&&F7e(t)&&e&&t.select()}};function XW(t,e){const n=[...t],r=t.indexOf(e);return r!==-1&&n.splice(r,1),n}const R7e=()=>{let t=[];return{push:r=>{const i=t[0];i&&r!==i&&i.pause(),t=XW(t,r),t.unshift(r)},remove:r=>{var i,s;t=XW(t,r),(s=(i=t[0])==null?void 0:i.resume)==null||s.call(i)}}},O7e=(t,e=!1)=>{const n=document.activeElement;for(const r of t)if(xv(r,e),document.activeElement!==n)return},ZW=R7e(),D7e=()=>uM.value>z7.value,SS=()=>{U7.value="pointer",uM.value=window.performance.now()},JW=()=>{U7.value="keyboard",uM.value=window.performance.now()},N7e=()=>(Fr(()=>{ES===0&&(document.addEventListener("mousedown",SS),document.addEventListener("touchstart",SS),document.addEventListener("keydown",JW)),ES++}),ps(()=>{ES--,ES<=0&&(document.removeEventListener("mousedown",SS),document.removeEventListener("touchstart",SS),document.removeEventListener("keydown",JW))}),{focusReason:U7,lastUserFocusTimestamp:uM,lastAutomatedFocusTimestamp:z7}),TS=t=>new CustomEvent(I7e,{...L7e,detail:t}),U7e=Be({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[WW,qW,"focusin","focusout","focusout-prevented","release-requested"],setup(t,{emit:e}){const n=Te();let r,i;const{focusReason:s}=N7e();RDe(T=>{t.trapped&&!l.paused&&e("release-requested",T)});const l={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},c=T=>{if(!t.loop&&!t.trapped||l.paused)return;const{key:C,altKey:k,ctrlKey:M,metaKey:P,currentTarget:R,shiftKey:N}=T,{loop:z}=t,H=C===Tr.tab&&!k&&!M&&!P,j=document.activeElement;if(H&&j){const Q=R,[G,ie]=P7e(Q);if(G&&ie){if(!N&&j===ie){const W=TS({focusReason:s.value});e("focusout-prevented",W),W.defaultPrevented||(T.preventDefault(),z&&xv(G,!0))}else if(N&&[G,Q].includes(j)){const W=TS({focusReason:s.value});e("focusout-prevented",W),W.defaultPrevented||(T.preventDefault(),z&&xv(ie,!0))}}else if(j===Q){const W=TS({focusReason:s.value});e("focusout-prevented",W),W.defaultPrevented||T.preventDefault()}}};ki(N7,{focusTrapRef:n,onKeydown:c}),ln(()=>t.focusTrapEl,T=>{T&&(n.value=T)},{immediate:!0}),ln([n],([T],[C])=>{T&&(T.addEventListener("keydown",c),T.addEventListener("focusin",p),T.addEventListener("focusout",m)),C&&(C.removeEventListener("keydown",c),C.removeEventListener("focusin",p),C.removeEventListener("focusout",m))});const a=T=>{e(WW,T)},f=T=>e(qW,T),p=T=>{const C=S(n);if(!C)return;const k=T.target,M=T.relatedTarget,P=k&&C.contains(k);t.trapped||M&&C.contains(M)||(r=M),P&&e("focusin",T),!l.paused&&t.trapped&&(P?i=k:xv(i,!0))},m=T=>{const C=S(n);if(!(l.paused||!C))if(t.trapped){const k=T.relatedTarget;!Cu(k)&&!C.contains(k)&&setTimeout(()=>{if(!l.paused&&t.trapped){const M=TS({focusReason:s.value});e("focusout-prevented",M),M.defaultPrevented||xv(i,!0)}},0)}else{const k=T.target;k&&C.contains(k)||e("focusout",T)}};async function v(){await dr();const T=S(n);if(T){ZW.push(l);const C=T.contains(document.activeElement)?r:document.activeElement;if(r=C,!T.contains(C)){const M=new Event(Tk,KW);T.addEventListener(Tk,a),T.dispatchEvent(M),M.defaultPrevented||dr(()=>{let P=t.focusStartEl;Hr(P)||(xv(P),document.activeElement!==P&&(P="first")),P==="first"&&O7e(pse(T),!0),(document.activeElement===C||P==="container")&&xv(T)})}}}function y(){const T=S(n);if(T){T.removeEventListener(Tk,a);const C=new CustomEvent(Bk,{...KW,detail:{focusReason:s.value}});T.addEventListener(Bk,f),T.dispatchEvent(C),!C.defaultPrevented&&(s.value=="keyboard"||!D7e()||T.contains(document.activeElement))&&xv(r??document.body),T.removeEventListener(Bk,f),ZW.remove(l)}}return Fr(()=>{t.trapped&&v(),ln(()=>t.trapped,T=>{T?v():y()})}),ps(()=>{t.trapped&&y()}),{onKeydown:c}}});function z7e(t,e,n,r,i,s){return Ft(t.$slots,"default",{handleKeydown:t.onKeydown})}var E5=Fn(U7e,[["render",z7e],["__file","focus-trap.vue"]]);const $7e=["fixed","absolute"],V7e=Ln({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:Rt(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Hy,default:"bottom"},popperOptions:{type:Rt(Object),default:()=>({})},strategy:{type:String,values:$7e,default:"absolute"}}),Ase=Ln({...V7e,id:String,style:{type:Rt([String,Array,Object])},className:{type:Rt([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:Rt([String,Array,Object])},popperStyle:{type:Rt([String,Array,Object])},referenceEl:{type:Rt(Object)},triggerTargetEl:{type:Rt(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...Wu(["ariaLabel"])}),H7e={mouseenter:t=>t instanceof MouseEvent,mouseleave:t=>t instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},Q7e=(t,e=[])=>{const{placement:n,strategy:r,popperOptions:i}=t,s={placement:n,strategy:r,...i,modifiers:[...G7e(t),...e]};return K7e(s,i==null?void 0:i.modifiers),s},j7e=t=>{if(ra)return $h(t)};function G7e(t){const{offset:e,gpuAcceleration:n,fallbackPlacements:r}=t;return[{name:"offset",options:{offset:[0,e??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:r}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function K7e(t,e){e&&(t.modifiers=[...t.modifiers,...e??[]])}const W7e=0,q7e=t=>{const{popperInstanceRef:e,contentRef:n,triggerRef:r,role:i}=ar(D7,void 0),s=Te(),l=Te(),c=le(()=>({name:"eventListeners",enabled:!!t.visible})),a=le(()=>{var M;const P=S(s),R=(M=S(l))!=null?M:W7e;return{name:"arrow",enabled:!qie(P),options:{element:P,padding:R}}}),f=le(()=>({onFirstUpdate:()=>{T()},...Q7e(t,[S(a),S(c)])})),p=le(()=>j7e(t.referenceEl)||S(r)),{attributes:m,state:v,styles:y,update:T,forceUpdate:C,instanceRef:k}=LDe(p,n,f);return ln(k,M=>e.value=M),Fr(()=>{ln(()=>{var M;return(M=S(p))==null?void 0:M.getBoundingClientRect()},()=>{T()})}),{attributes:m,arrowRef:s,contentRef:n,instanceRef:k,state:v,styles:y,role:i,forceUpdate:C,update:T}},Y7e=(t,{attributes:e,styles:n,role:r})=>{const{nextZIndex:i}=ix(),s=vn("popper"),l=le(()=>S(e).popper),c=Te(Or(t.zIndex)?t.zIndex:i()),a=le(()=>[s.b(),s.is("pure",t.pure),s.is(t.effect),t.popperClass]),f=le(()=>[{zIndex:S(c)},S(n).popper,t.popperStyle||{}]),p=le(()=>r.value==="dialog"?"false":void 0),m=le(()=>S(n).arrow||{});return{ariaModal:p,arrowStyle:m,contentAttrs:l,contentClass:a,contentStyle:f,contentZIndex:c,updateZIndex:()=>{c.value=Or(t.zIndex)?t.zIndex:i()}}},X7e=(t,e)=>{const n=Te(!1),r=Te();return{focusStartRef:r,trapped:n,onFocusAfterReleased:f=>{var p;((p=f.detail)==null?void 0:p.focusReason)!=="pointer"&&(r.value="first",e("blur"))},onFocusAfterTrapped:()=>{e("focus")},onFocusInTrap:f=>{t.visible&&!n.value&&(f.target&&(r.value=f.target),n.value=!0)},onFocusoutPrevented:f=>{t.trapping||(f.detail.focusReason==="pointer"&&f.preventDefault(),n.value=!1)},onReleaseRequested:()=>{n.value=!1,e("close")}}},Z7e=Be({name:"ElPopperContent"}),J7e=Be({...Z7e,props:Ase,emits:H7e,setup(t,{expose:e,emit:n}){const r=t,{focusStartRef:i,trapped:s,onFocusAfterReleased:l,onFocusAfterTrapped:c,onFocusInTrap:a,onFocusoutPrevented:f,onReleaseRequested:p}=X7e(r,n),{attributes:m,arrowRef:v,contentRef:y,styles:T,instanceRef:C,role:k,update:M}=q7e(r),{ariaModal:P,arrowStyle:R,contentAttrs:N,contentClass:z,contentStyle:H,updateZIndex:j}=Y7e(r,{styles:T,attributes:m,role:k}),Q=ar(Bm,void 0),G=Te();ki(lse,{arrowStyle:R,arrowRef:v,arrowOffset:G}),Q&&(Q.addInputId||Q.removeInputId)&&ki(Bm,{...Q,addInputId:Qa,removeInputId:Qa});let ie;const q=(ee=!0)=>{M(),ee&&j()},W=()=>{q(!1),r.visible&&r.focusOnShow?s.value=!0:r.visible===!1&&(s.value=!1)};return Fr(()=>{ln(()=>r.triggerTargetEl,(ee,he)=>{ie==null||ie(),ie=void 0;const J=S(ee||y.value),te=S(he||y.value);Ff(J)&&(ie=ln([k,()=>r.ariaLabel,P,()=>r.id],ne=>{["role","aria-label","aria-modal","id"].forEach((ce,ue)=>{Cu(ne[ue])?J.removeAttribute(ce):J.setAttribute(ce,ne[ue])})},{immediate:!0})),te!==J&&Ff(te)&&["role","aria-label","aria-modal","id"].forEach(ne=>{te.removeAttribute(ne)})},{immediate:!0}),ln(()=>r.visible,W,{immediate:!0})}),ps(()=>{ie==null||ie(),ie=void 0}),e({popperContentRef:y,popperInstanceRef:C,updatePopper:q,contentStyle:H}),(ee,he)=>(X(),ve("div",Xr({ref_key:"contentRef",ref:y},S(N),{style:S(H),class:S(z),tabindex:"-1",onMouseenter:he[0]||(he[0]=J=>ee.$emit("mouseenter",J)),onMouseleave:he[1]||(he[1]=J=>ee.$emit("mouseleave",J))}),[ht(S(E5),{trapped:S(s),"trap-on-focus-in":!0,"focus-trap-el":S(y),"focus-start-el":S(i),onFocusAfterTrapped:S(c),onFocusAfterReleased:S(l),onFocusin:S(a),onFocusoutPrevented:S(f),onReleaseRequested:S(p)},{default:xt(()=>[Ft(ee.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var eUe=Fn(J7e,[["__file","content.vue"]]);const mse=pi(w7e),cM=Symbol("elTooltip"),gu=Ln({...NDe,...Ase,appendTo:{type:Rt([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,visible:{type:Rt(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...Wu(["ariaLabel"])}),p6=Ln({...fse,disabled:Boolean,trigger:{type:Rt([String,Array]),default:"hover"},triggerKeys:{type:Rt(Array),default:()=>[Tr.enter,Tr.space]}}),{useModelToggleProps:tUe,useModelToggleEmits:nUe,useModelToggle:rUe}=Tae("visible"),iUe=Ln({...use,...tUe,...gu,...p6,...cse,showArrow:{type:Boolean,default:!0}}),aUe=[...nUe,"before-show","before-hide","show","hide","open","close"],sUe=(t,e)=>Jn(t)?t.includes(e):t===e,zb=(t,e,n)=>r=>{sUe(S(t),e)&&n(r)},oUe=Be({name:"ElTooltipTrigger"}),lUe=Be({...oUe,props:p6,setup(t,{expose:e}){const n=t,r=vn("tooltip"),{controlled:i,id:s,open:l,onOpen:c,onClose:a,onToggle:f}=ar(cM,void 0),p=Te(null),m=()=>{if(S(i)||n.disabled)return!0},v=Na(n,"trigger"),y=xo(m,zb(v,"hover",c)),T=xo(m,zb(v,"hover",a)),C=xo(m,zb(v,"click",N=>{N.button===0&&f(N)})),k=xo(m,zb(v,"focus",c)),M=xo(m,zb(v,"focus",a)),P=xo(m,zb(v,"contextmenu",N=>{N.preventDefault(),f(N)})),R=xo(m,N=>{const{code:z}=N;n.triggerKeys.includes(z)&&(N.preventDefault(),f(N))});return e({triggerRef:p}),(N,z)=>(X(),Ut(S(M7e),{id:S(s),"virtual-ref":N.virtualRef,open:S(l),"virtual-triggering":N.virtualTriggering,class:Se(S(r).e("trigger")),onBlur:S(M),onClick:S(C),onContextmenu:S(P),onFocus:S(k),onMouseenter:S(y),onMouseleave:S(T),onKeydown:S(R)},{default:xt(()=>[Ft(N.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var uUe=Fn(lUe,[["__file","trigger.vue"]]);const cUe=Be({name:"ElTooltipContent",inheritAttrs:!1}),hUe=Be({...cUe,props:gu,setup(t,{expose:e}){const n=t,{selector:r}=zae(),i=vn("tooltip"),s=Te(null),l=Te(!1),{controlled:c,id:a,open:f,trigger:p,onClose:m,onOpen:v,onShow:y,onHide:T,onBeforeShow:C,onBeforeHide:k}=ar(cM,void 0),M=le(()=>n.transition||`${i.namespace.value}-fade-in-linear`),P=le(()=>n.persistent);ps(()=>{l.value=!0});const R=le(()=>S(P)?!0:S(f)),N=le(()=>n.disabled?!1:S(f)),z=le(()=>n.appendTo||r.value),H=le(()=>{var ne;return(ne=n.style)!=null?ne:{}}),j=le(()=>!S(f)),Q=()=>{T()},G=()=>{if(S(c))return!0},ie=xo(G,()=>{n.enterable&&S(p)==="hover"&&v()}),q=xo(G,()=>{S(p)==="hover"&&m()}),W=()=>{var ne,ce;(ce=(ne=s.value)==null?void 0:ne.updatePopper)==null||ce.call(ne),C==null||C()},ee=()=>{k==null||k()},he=()=>{y(),te=z9(le(()=>{var ne;return(ne=s.value)==null?void 0:ne.popperContentRef}),()=>{if(S(c))return;S(p)!=="hover"&&m()})},J=()=>{n.virtualTriggering||m()};let te;return ln(()=>S(f),ne=>{ne||te==null||te()},{flush:"post"}),ln(()=>n.content,()=>{var ne,ce;(ce=(ne=s.value)==null?void 0:ne.updatePopper)==null||ce.call(ne)}),e({contentRef:s}),(ne,ce)=>(X(),Ut(Ny,{disabled:!ne.teleported,to:S(z)},[ht(fo,{name:S(M),onAfterLeave:Q,onBeforeEnter:W,onAfterEnter:he,onBeforeLeave:ee},{default:xt(()=>[S(R)?Jr((X(),Ut(S(eUe),Xr({key:0,id:S(a),ref_key:"contentRef",ref:s},ne.$attrs,{"aria-label":ne.ariaLabel,"aria-hidden":S(j),"boundaries-padding":ne.boundariesPadding,"fallback-placements":ne.fallbackPlacements,"gpu-acceleration":ne.gpuAcceleration,offset:ne.offset,placement:ne.placement,"popper-options":ne.popperOptions,strategy:ne.strategy,effect:ne.effect,enterable:ne.enterable,pure:ne.pure,"popper-class":ne.popperClass,"popper-style":[ne.popperStyle,S(H)],"reference-el":ne.referenceEl,"trigger-target-el":ne.triggerTargetEl,visible:S(N),"z-index":ne.zIndex,onMouseenter:S(ie),onMouseleave:S(q),onBlur:J,onClose:S(m)}),{default:xt(()=>[l.value?bt("v-if",!0):Ft(ne.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[ca,S(N)]]):bt("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var dUe=Fn(hUe,[["__file","content.vue"]]);const fUe=["innerHTML"],pUe={key:1},AUe=Be({name:"ElTooltip"}),mUe=Be({...AUe,props:iUe,emits:aUe,setup(t,{expose:e,emit:n}){const r=t;DDe();const i=hc(),s=Te(),l=Te(),c=()=>{var M;const P=S(s);P&&((M=P.popperInstanceRef)==null||M.update())},a=Te(!1),f=Te(),{show:p,hide:m,hasUpdateHandler:v}=rUe({indicator:a,toggleReason:f}),{onOpen:y,onClose:T}=UDe({showAfter:Na(r,"showAfter"),hideAfter:Na(r,"hideAfter"),autoClose:Na(r,"autoClose"),open:p,close:m}),C=le(()=>Jo(r.visible)&&!v.value);ki(cM,{controlled:C,id:i,open:Y2(a),trigger:Na(r,"trigger"),onOpen:M=>{y(M)},onClose:M=>{T(M)},onToggle:M=>{S(a)?T(M):y(M)},onShow:()=>{n("show",f.value)},onHide:()=>{n("hide",f.value)},onBeforeShow:()=>{n("before-show",f.value)},onBeforeHide:()=>{n("before-hide",f.value)},updatePopper:c}),ln(()=>r.disabled,M=>{M&&a.value&&(a.value=!1)});const k=M=>{var P,R;const N=(R=(P=l.value)==null?void 0:P.contentRef)==null?void 0:R.popperContentRef,z=(M==null?void 0:M.relatedTarget)||document.activeElement;return N&&N.contains(z)};return vne(()=>a.value&&m()),e({popperRef:s,contentRef:l,isFocusInsideContent:k,updatePopper:c,onOpen:y,onClose:T,hide:m}),(M,P)=>(X(),Ut(S(mse),{ref_key:"popperRef",ref:s,role:M.role},{default:xt(()=>[ht(uUe,{disabled:M.disabled,trigger:M.trigger,"trigger-keys":M.triggerKeys,"virtual-ref":M.virtualRef,"virtual-triggering":M.virtualTriggering},{default:xt(()=>[M.$slots.default?Ft(M.$slots,"default",{key:0}):bt("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),ht(dUe,{ref_key:"contentRef",ref:l,"aria-label":M.ariaLabel,"boundaries-padding":M.boundariesPadding,content:M.content,disabled:M.disabled,effect:M.effect,enterable:M.enterable,"fallback-placements":M.fallbackPlacements,"hide-after":M.hideAfter,"gpu-acceleration":M.gpuAcceleration,offset:M.offset,persistent:M.persistent,"popper-class":M.popperClass,"popper-style":M.popperStyle,placement:M.placement,"popper-options":M.popperOptions,pure:M.pure,"raw-content":M.rawContent,"reference-el":M.referenceEl,"trigger-target-el":M.triggerTargetEl,"show-after":M.showAfter,strategy:M.strategy,teleported:M.teleported,transition:M.transition,"virtual-triggering":M.virtualTriggering,"z-index":M.zIndex,"append-to":M.appendTo},{default:xt(()=>[Ft(M.$slots,"content",{},()=>[M.rawContent?(X(),ve("span",{key:0,innerHTML:M.content},null,8,fUe)):(X(),ve("span",pUe,Cn(M.content),1))]),M.showArrow?(X(),Ut(S(E7e),{key:0,"arrow-offset":M.arrowOffset},null,8,["arrow-offset"])):bt("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var gUe=Fn(mUe,[["__file","tooltip.vue"]]);const Hc=pi(gUe),vUe=Ln({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:Rt(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:Rt([Function,Array]),default:Qa},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},teleported:gu.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:String,...Wu(["ariaLabel"])}),_Ue={[_i]:t=>Hr(t),[lh]:t=>Hr(t),[bs]:t=>Hr(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,select:t=>mi(t)},yUe=["aria-expanded","aria-owns"],bUe={key:0},wUe=["id","aria-selected","onClick"],gse="ElAutocomplete",xUe=Be({name:gse,inheritAttrs:!1}),CUe=Be({...xUe,props:vUe,emits:_Ue,setup(t,{expose:e,emit:n}){const r=t,i=p7(),s=Dy(),l=fh(),c=vn("autocomplete"),a=Te(),f=Te(),p=Te(),m=Te();let v=!1,y=!1;const T=Te([]),C=Te(-1),k=Te(""),M=Te(!1),P=Te(!1),R=Te(!1),N=hc(),z=le(()=>s.style),H=le(()=>(T.value.length>0||R.value)&&M.value),j=le(()=>!r.hideLoading&&R.value),Q=le(()=>a.value?Array.from(a.value.$el.querySelectorAll("input")):[]),G=()=>{H.value&&(k.value=`${a.value.$el.offsetWidth}px`)},ie=()=>{C.value=-1},W=Wh(async Le=>{if(P.value)return;const be=Re=>{R.value=!1,!P.value&&(Jn(Re)?(T.value=Re,C.value=r.highlightFirstItem?0:-1):Ul(gse,"autocomplete suggestions must be an array"))};if(R.value=!0,Jn(r.fetchSuggestions))be(r.fetchSuggestions);else{const Re=await r.fetchSuggestions(Le,be);Jn(Re)&&be(Re)}},r.debounce),ee=Le=>{const be=!!Le;if(n(lh,Le),n(_i,Le),P.value=!1,M.value||(M.value=be),!r.triggerOnFocus&&!Le){P.value=!0,T.value=[];return}W(Le)},he=Le=>{var be;l.value||(((be=Le.target)==null?void 0:be.tagName)!=="INPUT"||Q.value.includes(document.activeElement))&&(M.value=!0)},J=Le=>{n(bs,Le)},te=Le=>{y?y=!1:(M.value=!0,n("focus",Le),r.triggerOnFocus&&!v&&W(String(r.modelValue)))},ne=Le=>{setTimeout(()=>{var be;if((be=p.value)!=null&&be.isFocusInsideContent()){y=!0;return}M.value&&Ee(),n("blur",Le)})},ce=()=>{M.value=!1,n(_i,""),n("clear")},ue=async()=>{H.value&&C.value>=0&&C.value<T.value.length?_e(T.value[C.value]):r.selectWhenUnmatched&&(n("select",{value:r.modelValue}),T.value=[],C.value=-1)},ye=Le=>{H.value&&(Le.preventDefault(),Le.stopPropagation(),Ee())},Ee=()=>{M.value=!1},se=()=>{var Le;(Le=a.value)==null||Le.focus()},oe=()=>{var Le;(Le=a.value)==null||Le.blur()},_e=async Le=>{n(lh,Le[r.valueKey]),n(_i,Le[r.valueKey]),n("select",Le),T.value=[],C.value=-1},Ue=Le=>{if(!H.value||R.value)return;if(Le<0){C.value=-1;return}Le>=T.value.length&&(Le=T.value.length-1);const be=f.value.querySelector(`.${c.be("suggestion","wrap")}`),Qe=be.querySelectorAll(`.${c.be("suggestion","list")} li`)[Le],Je=be.scrollTop,{offsetTop:nt,scrollHeight:Ve}=Qe;nt+Ve>Je+be.clientHeight&&(be.scrollTop+=Ve),nt<Je&&(be.scrollTop-=Ve),C.value=Le,a.value.ref.setAttribute("aria-activedescendant",`${N.value}-item-${C.value}`)};return z9(m,()=>{H.value&&Ee()}),Fr(()=>{a.value.ref.setAttribute("role","textbox"),a.value.ref.setAttribute("aria-autocomplete","list"),a.value.ref.setAttribute("aria-controls","id"),a.value.ref.setAttribute("aria-activedescendant",`${N.value}-item-${C.value}`),v=a.value.ref.hasAttribute("readonly")}),e({highlightedIndex:C,activated:M,loading:R,inputRef:a,popperRef:p,suggestions:T,handleSelect:_e,handleKeyEnter:ue,focus:se,blur:oe,close:Ee,highlight:Ue}),(Le,be)=>(X(),Ut(S(Hc),{ref_key:"popperRef",ref:p,visible:S(H),placement:Le.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[S(c).e("popper"),Le.popperClass],teleported:Le.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${S(c).namespace.value}-zoom-in-top`,persistent:"",role:"listbox",onBeforeShow:G,onHide:ie},{content:xt(()=>[pe("div",{ref_key:"regionRef",ref:f,class:Se([S(c).b("suggestion"),S(c).is("loading",S(j))]),style:or({[Le.fitInputWidth?"width":"minWidth"]:k.value,outline:"none"}),role:"region"},[ht(S(E0),{id:S(N),tag:"ul","wrap-class":S(c).be("suggestion","wrap"),"view-class":S(c).be("suggestion","list"),role:"listbox"},{default:xt(()=>[S(j)?(X(),ve("li",bUe,[Ft(Le.$slots,"loading",{},()=>[ht(S(Ar),{class:Se(S(c).is("loading"))},{default:xt(()=>[ht(S(x0))]),_:1},8,["class"])])])):(X(!0),ve(Vn,{key:1},Yr(T.value,(Re,Qe)=>(X(),ve("li",{id:`${S(N)}-item-${Qe}`,key:Qe,class:Se({highlighted:C.value===Qe}),role:"option","aria-selected":C.value===Qe,onClick:Je=>_e(Re)},[Ft(Le.$slots,"default",{item:Re},()=>[xi(Cn(Re[Le.valueKey]),1)])],10,wUe))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:xt(()=>[pe("div",{ref_key:"listboxRef",ref:m,class:Se([S(c).b(),Le.$attrs.class]),style:or(S(z)),role:"combobox","aria-haspopup":"listbox","aria-expanded":S(H),"aria-owns":S(N)},[ht(S(Nc),Xr({ref_key:"inputRef",ref:a},S(i),{clearable:Le.clearable,disabled:S(l),name:Le.name,"model-value":Le.modelValue,"aria-label":Le.ariaLabel,onInput:ee,onChange:J,onFocus:te,onBlur:ne,onClear:ce,onKeydown:[be[0]||(be[0]=Ga(Pr(Re=>Ue(C.value-1),["prevent"]),["up"])),be[1]||(be[1]=Ga(Pr(Re=>Ue(C.value+1),["prevent"]),["down"])),Ga(ue,["enter"]),Ga(Ee,["tab"]),Ga(ye,["esc"])],onMousedown:he}),Uo({_:2},[Le.$slots.prepend?{name:"prepend",fn:xt(()=>[Ft(Le.$slots,"prepend")])}:void 0,Le.$slots.append?{name:"append",fn:xt(()=>[Ft(Le.$slots,"append")])}:void 0,Le.$slots.prefix?{name:"prefix",fn:xt(()=>[Ft(Le.$slots,"prefix")])}:void 0,Le.$slots.suffix?{name:"suffix",fn:xt(()=>[Ft(Le.$slots,"suffix")])}:void 0]),1040,["clearable","disabled","name","model-value","aria-label","onKeydown"])],14,yUe)]),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var EUe=Fn(CUe,[["__file","autocomplete.vue"]]);const SUe=pi(EUe),TUe=Ln({size:{type:[Number,String],values:Om,default:"",validator:t=>Or(t)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:ts},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:Rt(String),default:"cover"}}),BUe={error:t=>t instanceof Event},MUe=["src","alt","srcset"],IUe=Be({name:"ElAvatar"}),LUe=Be({...IUe,props:TUe,emits:BUe,setup(t,{emit:e}){const n=t,r=vn("avatar"),i=Te(!1),s=le(()=>{const{size:f,icon:p,shape:m}=n,v=[r.b()];return Hr(f)&&v.push(r.m(f)),p&&v.push(r.m("icon")),m&&v.push(r.m(m)),v}),l=le(()=>{const{size:f}=n;return Or(f)?r.cssVarBlock({size:So(f)||""}):void 0}),c=le(()=>({objectFit:n.fit}));ln(()=>n.src,()=>i.value=!1);function a(f){i.value=!0,e("error",f)}return(f,p)=>(X(),ve("span",{class:Se(S(s)),style:or(S(l))},[(f.src||f.srcSet)&&!i.value?(X(),ve("img",{key:0,src:f.src,alt:f.alt,srcset:f.srcSet,style:or(S(c)),onError:a},null,44,MUe)):f.icon?(X(),Ut(S(Ar),{key:1},{default:xt(()=>[(X(),Ut(fi(f.icon)))]),_:1})):Ft(f.$slots,"default",{key:2})],6))}});var kUe=Fn(LUe,[["__file","avatar.vue"]]);const PUe=pi(kUe),FUe={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},RUe={click:t=>t instanceof MouseEvent},OUe=(t,e,n)=>{const r=vs(),i=vs(),s=Te(!1),l=()=>{r.value&&(s.value=r.value.scrollTop>=t.visibilityHeight)},c=f=>{var p;(p=r.value)==null||p.scrollTo({top:0,behavior:"smooth"}),e("click",f)},a=sie(l,300,!0);return _s(i,"scroll",a),Fr(()=>{var f;i.value=document,r.value=document.documentElement,t.target&&(r.value=(f=document.querySelector(t.target))!=null?f:void 0,r.value||Ul(n,`target does not exist: ${t.target}`),i.value=r.value),l()}),{visible:s,handleClick:c}},vse="ElBacktop",DUe=Be({name:vse}),NUe=Be({...DUe,props:FUe,emits:RUe,setup(t,{emit:e}){const n=t,r=vn("backtop"),{handleClick:i,visible:s}=OUe(n,e,vse),l=le(()=>({right:`${n.right}px`,bottom:`${n.bottom}px`}));return(c,a)=>(X(),Ut(fo,{name:`${S(r).namespace.value}-fade-in`},{default:xt(()=>[S(s)?(X(),ve("div",{key:0,style:or(S(l)),class:Se(S(r).b()),onClick:a[0]||(a[0]=Pr((...f)=>S(i)&&S(i)(...f),["stop"]))},[Ft(c.$slots,"default",{},()=>[ht(S(Ar),{class:Se(S(r).e("icon"))},{default:xt(()=>[ht(S(nae))]),_:1},8,["class"])])],6)):bt("v-if",!0)]),_:3},8,["name"]))}});var UUe=Fn(NUe,[["__file","backtop.vue"]]);const zUe=pi(UUe),$Ue=Ln({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,dotStyle:{type:Rt([String,Object,Array])},badgeStyle:{type:Rt([String,Object,Array])},offset:{type:Rt(Array),default:[0,0]},dotClass:{type:String},badgeClass:{type:String}}),VUe=["textContent"],HUe=Be({name:"ElBadge"}),QUe=Be({...HUe,props:$Ue,setup(t,{expose:e}){const n=t,r=vn("badge"),i=le(()=>n.isDot?"":Or(n.value)&&Or(n.max)?n.max<n.value?`${n.max}+`:n.value===0&&!n.showZero?"":`${n.value}`:`${n.value}`),s=le(()=>{var l,c,a,f,p,m;return[{backgroundColor:n.color,marginRight:So(-((c=(l=n.offset)==null?void 0:l[0])!=null?c:0)),marginTop:So((f=(a=n.offset)==null?void 0:a[1])!=null?f:0)},(p=n.dotStyle)!=null?p:{},(m=n.badgeStyle)!=null?m:{}]});return wu({from:"dot-style",replacement:"badge-style",version:"2.8.0",scope:"el-badge",ref:"https://element-plus.org/en-US/component/badge.html"},le(()=>!!n.dotStyle)),wu({from:"dot-class",replacement:"badge-class",version:"2.8.0",scope:"el-badge",ref:"https://element-plus.org/en-US/component/badge.html"},le(()=>!!n.dotClass)),e({content:i}),(l,c)=>(X(),ve("div",{class:Se(S(r).b())},[Ft(l.$slots,"default"),ht(fo,{name:`${S(r).namespace.value}-zoom-in-center`,persisted:""},{default:xt(()=>[Jr(pe("sup",{class:Se([S(r).e("content"),S(r).em("content",l.type),S(r).is("fixed",!!l.$slots.default),S(r).is("dot",l.isDot),l.dotClass,l.badgeClass]),style:or(S(s)),textContent:Cn(S(i))},null,14,VUe),[[ca,!l.hidden&&(S(i)||l.isDot)]])]),_:1},8,["name"])],2))}});var jUe=Fn(QUe,[["__file","badge.vue"]]);const _se=pi(jUe),yse=Symbol("breadcrumbKey"),GUe=Ln({separator:{type:String,default:"/"},separatorIcon:{type:ts}}),KUe=["aria-label"],WUe=Be({name:"ElBreadcrumb"}),qUe=Be({...WUe,props:GUe,setup(t){const e=t,{t:n}=da(),r=vn("breadcrumb"),i=Te();return ki(yse,e),Fr(()=>{const s=i.value.querySelectorAll(`.${r.e("item")}`);s.length&&s[s.length-1].setAttribute("aria-current","page")}),(s,l)=>(X(),ve("div",{ref_key:"breadcrumb",ref:i,class:Se(S(r).b()),"aria-label":S(n)("el.breadcrumb.label"),role:"navigation"},[Ft(s.$slots,"default")],10,KUe))}});var YUe=Fn(qUe,[["__file","breadcrumb.vue"]]);const XUe=Ln({to:{type:Rt([String,Object]),default:""},replace:{type:Boolean,default:!1}}),ZUe=Be({name:"ElBreadcrumbItem"}),JUe=Be({...ZUe,props:XUe,setup(t){const e=t,n=ci(),r=ar(yse,void 0),i=vn("breadcrumb"),s=n.appContext.config.globalProperties.$router,l=Te(),c=()=>{!e.to||!s||(e.replace?s.replace(e.to):s.push(e.to))};return(a,f)=>{var p,m;return X(),ve("span",{class:Se(S(i).e("item"))},[pe("span",{ref_key:"link",ref:l,class:Se([S(i).e("inner"),S(i).is("link",!!a.to)]),role:"link",onClick:c},[Ft(a.$slots,"default")],2),(p=S(r))!=null&&p.separatorIcon?(X(),Ut(S(Ar),{key:0,class:Se(S(i).e("separator"))},{default:xt(()=>[(X(),Ut(fi(S(r).separatorIcon)))]),_:1},8,["class"])):(X(),ve("span",{key:1,class:Se(S(i).e("separator")),role:"presentation"},Cn((m=S(r))==null?void 0:m.separator),3))],2)}}});var bse=Fn(JUe,[["__file","breadcrumb-item.vue"]]);const eze=pi(YUe,{BreadcrumbItem:bse}),tze=ao(bse),wse=Symbol("buttonGroupContextKey"),nze=(t,e)=>{wu({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},le(()=>t.type==="text"));const n=ar(wse,void 0),r=x5("button"),{form:i}=Qc(),s=ml(le(()=>n==null?void 0:n.size)),l=fh(),c=Te(),a=To(),f=le(()=>t.type||(n==null?void 0:n.type)||""),p=le(()=>{var T,C,k;return(k=(C=t.autoInsertSpace)!=null?C:(T=r.value)==null?void 0:T.autoInsertSpace)!=null?k:!1}),m=le(()=>t.tag==="button"?{ariaDisabled:l.value||t.loading,disabled:l.value||t.loading,autofocus:t.autofocus,type:t.nativeType}:{}),v=le(()=>{var T;const C=(T=a.default)==null?void 0:T.call(a);if(p.value&&(C==null?void 0:C.length)===1){const k=C[0];if((k==null?void 0:k.type)===X2){const M=k.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(M.trim())}}return!1});return{_disabled:l,_size:s,_type:f,_ref:c,_props:m,shouldAddSpace:v,handleClick:T=>{t.nativeType==="reset"&&(i==null||i.resetFields()),e("click",T)}}},zR=["default","primary","success","warning","info","danger","text",""],rze=["button","submit","reset"],$R=Ln({size:lu,disabled:Boolean,type:{type:String,values:zR,default:""},icon:{type:ts},nativeType:{type:String,values:rze,default:"button"},loading:Boolean,loadingIcon:{type:ts,default:()=>x0},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:Rt([String,Object]),default:"button"}}),ize={click:t=>t instanceof MouseEvent};function cc(t,e){aze(t)&&(t="100%");var n=sze(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function BS(t){return Math.min(1,Math.max(0,t))}function aze(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function sze(t){return typeof t=="string"&&t.indexOf("%")!==-1}function xse(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function MS(t){return t<=1?"".concat(Number(t)*100,"%"):t}function Q_(t){return t.length===1?"0"+t:String(t)}function oze(t,e,n){return{r:cc(t,255)*255,g:cc(e,255)*255,b:cc(n,255)*255}}function eq(t,e,n){t=cc(t,255),e=cc(e,255),n=cc(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s=0,l=0,c=(r+i)/2;if(r===i)l=0,s=0;else{var a=r-i;switch(l=c>.5?a/(2-r-i):a/(r+i),r){case t:s=(e-n)/a+(e<n?6:0);break;case e:s=(n-t)/a+2;break;case n:s=(t-e)/a+4;break}s/=6}return{h:s,s:l,l:c}}function Mk(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*(6*n):n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function lze(t,e,n){var r,i,s;if(t=cc(t,360),e=cc(e,100),n=cc(n,100),e===0)i=n,s=n,r=n;else{var l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;r=Mk(c,l,t+1/3),i=Mk(c,l,t),s=Mk(c,l,t-1/3)}return{r:r*255,g:i*255,b:s*255}}function tq(t,e,n){t=cc(t,255),e=cc(e,255),n=cc(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s=0,l=r,c=r-i,a=r===0?0:c/r;if(r===i)s=0;else{switch(r){case t:s=(e-n)/c+(e<n?6:0);break;case e:s=(n-t)/c+2;break;case n:s=(t-e)/c+4;break}s/=6}return{h:s,s:a,v:l}}function uze(t,e,n){t=cc(t,360)*6,e=cc(e,100),n=cc(n,100);var r=Math.floor(t),i=t-r,s=n*(1-e),l=n*(1-i*e),c=n*(1-(1-i)*e),a=r%6,f=[n,l,s,s,c,n][a],p=[c,n,n,l,s,s][a],m=[s,s,c,n,n,l][a];return{r:f*255,g:p*255,b:m*255}}function nq(t,e,n,r){var i=[Q_(Math.round(t).toString(16)),Q_(Math.round(e).toString(16)),Q_(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function cze(t,e,n,r,i){var s=[Q_(Math.round(t).toString(16)),Q_(Math.round(e).toString(16)),Q_(Math.round(n).toString(16)),Q_(hze(r))];return i&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))&&s[3].startsWith(s[3].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function hze(t){return Math.round(parseFloat(t)*255).toString(16)}function rq(t){return Pd(t)/255}function Pd(t){return parseInt(t,16)}function dze(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var VR={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function fze(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,s=null,l=!1,c=!1;return typeof t=="string"&&(t=mze(t)),typeof t=="object"&&(kg(t.r)&&kg(t.g)&&kg(t.b)?(e=oze(t.r,t.g,t.b),l=!0,c=String(t.r).substr(-1)==="%"?"prgb":"rgb"):kg(t.h)&&kg(t.s)&&kg(t.v)?(r=MS(t.s),i=MS(t.v),e=uze(t.h,r,i),l=!0,c="hsv"):kg(t.h)&&kg(t.s)&&kg(t.l)&&(r=MS(t.s),s=MS(t.l),e=lze(t.h,r,s),l=!0,c="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=xse(n),{ok:l,format:t.format||c,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}var pze="[-\\+]?\\d+%?",Aze="[-\\+]?\\d*\\.\\d+%?",Vv="(?:".concat(Aze,")|(?:").concat(pze,")"),Ik="[\\s|\\(]+(".concat(Vv,")[,|\\s]+(").concat(Vv,")[,|\\s]+(").concat(Vv,")\\s*\\)?"),Lk="[\\s|\\(]+(".concat(Vv,")[,|\\s]+(").concat(Vv,")[,|\\s]+(").concat(Vv,")[,|\\s]+(").concat(Vv,")\\s*\\)?"),Dp={CSS_UNIT:new RegExp(Vv),rgb:new RegExp("rgb"+Ik),rgba:new RegExp("rgba"+Lk),hsl:new RegExp("hsl"+Ik),hsla:new RegExp("hsla"+Lk),hsv:new RegExp("hsv"+Ik),hsva:new RegExp("hsva"+Lk),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function mze(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(VR[t])t=VR[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=Dp.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=Dp.rgba.exec(t),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Dp.hsl.exec(t),n?{h:n[1],s:n[2],l:n[3]}:(n=Dp.hsla.exec(t),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Dp.hsv.exec(t),n?{h:n[1],s:n[2],v:n[3]}:(n=Dp.hsva.exec(t),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Dp.hex8.exec(t),n?{r:Pd(n[1]),g:Pd(n[2]),b:Pd(n[3]),a:rq(n[4]),format:e?"name":"hex8"}:(n=Dp.hex6.exec(t),n?{r:Pd(n[1]),g:Pd(n[2]),b:Pd(n[3]),format:e?"name":"hex"}:(n=Dp.hex4.exec(t),n?{r:Pd(n[1]+n[1]),g:Pd(n[2]+n[2]),b:Pd(n[3]+n[3]),a:rq(n[4]+n[4]),format:e?"name":"hex8"}:(n=Dp.hex3.exec(t),n?{r:Pd(n[1]+n[1]),g:Pd(n[2]+n[2]),b:Pd(n[3]+n[3]),format:e?"name":"hex"}:!1)))))))))}function kg(t){return!!Dp.CSS_UNIT.exec(String(t))}var Cse=function(){function t(e,n){e===void 0&&(e=""),n===void 0&&(n={});var r;if(e instanceof t)return e;typeof e=="number"&&(e=dze(e)),this.originalInput=e;var i=fze(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),n,r,i,s=e.r/255,l=e.g/255,c=e.b/255;return s<=.03928?n=s/12.92:n=Math.pow((s+.055)/1.055,2.4),l<=.03928?r=l/12.92:r=Math.pow((l+.055)/1.055,2.4),c<=.03928?i=c/12.92:i=Math.pow((c+.055)/1.055,2.4),.2126*n+.7152*r+.0722*i},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=xse(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},t.prototype.toHsv=function(){var e=tq(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=tq(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=eq(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=eq(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),nq(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),cze(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(n,", ").concat(r,")"):"rgba(".concat(e,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(n){return"".concat(Math.round(cc(n,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(n){return Math.round(cc(n,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+nq(this.r,this.g,this.b,!1),n=0,r=Object.entries(VR);n<r.length;n++){var i=r[n],s=i[0],l=i[1];if(e===l)return s}return!1},t.prototype.toString=function(e){var n=!!e;e=e??this.format;var r=!1,i=this.a<1&&this.a>=0,s=!n&&i&&(e.startsWith("hex")||e==="name");return s?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=BS(n.l),new t(n)},t.prototype.brighten=function(e){e===void 0&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),new t(n)},t.prototype.darken=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=BS(n.l),new t(n)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=BS(n.s),new t(n)},t.prototype.saturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=BS(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,new t(n)},t.prototype.mix=function(e,n){n===void 0&&(n=50);var r=this.toRgb(),i=new t(e).toRgb(),s=n/100,l={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return new t(l)},t.prototype.analogous=function(e,n){e===void 0&&(e=6),n===void 0&&(n=30);var r=this.toHsl(),i=360/n,s=[this];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(new t(r));return s},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var n=this.toHsv(),r=n.h,i=n.s,s=n.v,l=[],c=1/e;e--;)l.push(new t({h:r,s:i,v:s})),s=(s+c)%1;return l},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),r=new t(e).toRgb(),i=n.a+r.a*(1-n.a);return new t({r:(n.r*n.a+r.r*r.a*(1-n.a))/i,g:(n.g*n.a+r.g*r.a*(1-n.a))/i,b:(n.b*n.a+r.b*r.a*(1-n.a))/i,a:i})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),r=n.h,i=[this],s=360/e,l=1;l<e;l++)i.push(new t({h:(r+l*s)%360,s:n.s,l:n.l}));return i},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}();function dv(t,e=20){return t.mix("#141414",e).toString()}function gze(t){const e=fh(),n=vn("button");return le(()=>{let r={};const i=t.color;if(i){const s=new Cse(i),l=t.dark?s.tint(20).toString():dv(s,20);if(t.plain)r=n.cssVarBlock({"bg-color":t.dark?dv(s,90):s.tint(90).toString(),"text-color":i,"border-color":t.dark?dv(s,50):s.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":i,"hover-border-color":i,"active-bg-color":l,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":l}),e.value&&(r[n.cssVarBlockName("disabled-bg-color")]=t.dark?dv(s,90):s.tint(90).toString(),r[n.cssVarBlockName("disabled-text-color")]=t.dark?dv(s,50):s.tint(50).toString(),r[n.cssVarBlockName("disabled-border-color")]=t.dark?dv(s,80):s.tint(80).toString());else{const c=t.dark?dv(s,30):s.tint(30).toString(),a=s.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(r=n.cssVarBlock({"bg-color":i,"text-color":a,"border-color":i,"hover-bg-color":c,"hover-text-color":a,"hover-border-color":c,"active-bg-color":l,"active-border-color":l}),e.value){const f=t.dark?dv(s,50):s.tint(50).toString();r[n.cssVarBlockName("disabled-bg-color")]=f,r[n.cssVarBlockName("disabled-text-color")]=t.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,r[n.cssVarBlockName("disabled-border-color")]=f}}}return r})}const vze=Be({name:"ElButton"}),_ze=Be({...vze,props:$R,emits:ize,setup(t,{expose:e,emit:n}){const r=t,i=gze(r),s=vn("button"),{_ref:l,_size:c,_type:a,_disabled:f,_props:p,shouldAddSpace:m,handleClick:v}=nze(r,n),y=le(()=>[s.b(),s.m(a.value),s.m(c.value),s.is("disabled",f.value),s.is("loading",r.loading),s.is("plain",r.plain),s.is("round",r.round),s.is("circle",r.circle),s.is("text",r.text),s.is("link",r.link),s.is("has-bg",r.bg)]);return e({ref:l,size:c,type:a,disabled:f,shouldAddSpace:m}),(T,C)=>(X(),Ut(fi(T.tag),Xr({ref_key:"_ref",ref:l},S(p),{class:S(y),style:S(i),onClick:S(v)}),{default:xt(()=>[T.loading?(X(),ve(Vn,{key:0},[T.$slots.loading?Ft(T.$slots,"loading",{key:0}):(X(),Ut(S(Ar),{key:1,class:Se(S(s).is("loading"))},{default:xt(()=>[(X(),Ut(fi(T.loadingIcon)))]),_:1},8,["class"]))],64)):T.icon||T.$slots.icon?(X(),Ut(S(Ar),{key:1},{default:xt(()=>[T.icon?(X(),Ut(fi(T.icon),{key:0})):Ft(T.$slots,"icon",{key:1})]),_:3})):bt("v-if",!0),T.$slots.default?(X(),ve("span",{key:2,class:Se({[S(s).em("text","expand")]:S(m)})},[Ft(T.$slots,"default")],2)):bt("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var yze=Fn(_ze,[["__file","button.vue"]]);const bze={size:$R.size,type:$R.type},wze=Be({name:"ElButtonGroup"}),xze=Be({...wze,props:bze,setup(t){const e=t;ki(wse,ha({size:Na(e,"size"),type:Na(e,"type")}));const n=vn("button");return(r,i)=>(X(),ve("div",{class:Se(`${S(n).b("group")}`)},[Ft(r.$slots,"default")],2))}});var Ese=Fn(xze,[["__file","button-group.vue"]]);const Eu=pi(yze,{ButtonGroup:Ese}),Sse=ao(Ese);var Tse={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Fm,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",l="second",c="minute",a="hour",f="day",p="week",m="month",v="quarter",y="year",T="date",C="Invalid Date",k=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,M=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,P={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(he){var J=["th","st","nd","rd"],te=he%100;return"["+he+(J[(te-20)%10]||J[te]||J[0])+"]"}},R=function(he,J,te){var ne=String(he);return!ne||ne.length>=J?he:""+Array(J+1-ne.length).join(te)+he},N={s:R,z:function(he){var J=-he.utcOffset(),te=Math.abs(J),ne=Math.floor(te/60),ce=te%60;return(J<=0?"+":"-")+R(ne,2,"0")+":"+R(ce,2,"0")},m:function he(J,te){if(J.date()<te.date())return-he(te,J);var ne=12*(te.year()-J.year())+(te.month()-J.month()),ce=J.clone().add(ne,m),ue=te-ce<0,ye=J.clone().add(ne+(ue?-1:1),m);return+(-(ne+(te-ce)/(ue?ce-ye:ye-ce))||0)},a:function(he){return he<0?Math.ceil(he)||0:Math.floor(he)},p:function(he){return{M:m,y,w:p,d:f,D:T,h:a,m:c,s:l,ms:s,Q:v}[he]||String(he||"").toLowerCase().replace(/s$/,"")},u:function(he){return he===void 0}},z="en",H={};H[z]=P;var j="$isDayjsObject",Q=function(he){return he instanceof W||!(!he||!he[j])},G=function he(J,te,ne){var ce;if(!J)return z;if(typeof J=="string"){var ue=J.toLowerCase();H[ue]&&(ce=ue),te&&(H[ue]=te,ce=ue);var ye=J.split("-");if(!ce&&ye.length>1)return he(ye[0])}else{var Ee=J.name;H[Ee]=J,ce=Ee}return!ne&&ce&&(z=ce),ce||!ne&&z},ie=function(he,J){if(Q(he))return he.clone();var te=typeof J=="object"?J:{};return te.date=he,te.args=arguments,new W(te)},q=N;q.l=G,q.i=Q,q.w=function(he,J){return ie(he,{locale:J.$L,utc:J.$u,x:J.$x,$offset:J.$offset})};var W=function(){function he(te){this.$L=G(te.locale,null,!0),this.parse(te),this.$x=this.$x||te.x||{},this[j]=!0}var J=he.prototype;return J.parse=function(te){this.$d=function(ne){var ce=ne.date,ue=ne.utc;if(ce===null)return new Date(NaN);if(q.u(ce))return new Date;if(ce instanceof Date)return new Date(ce);if(typeof ce=="string"&&!/Z$/i.test(ce)){var ye=ce.match(k);if(ye){var Ee=ye[2]-1||0,se=(ye[7]||"0").substring(0,3);return ue?new Date(Date.UTC(ye[1],Ee,ye[3]||1,ye[4]||0,ye[5]||0,ye[6]||0,se)):new Date(ye[1],Ee,ye[3]||1,ye[4]||0,ye[5]||0,ye[6]||0,se)}}return new Date(ce)}(te),this.init()},J.init=function(){var te=this.$d;this.$y=te.getFullYear(),this.$M=te.getMonth(),this.$D=te.getDate(),this.$W=te.getDay(),this.$H=te.getHours(),this.$m=te.getMinutes(),this.$s=te.getSeconds(),this.$ms=te.getMilliseconds()},J.$utils=function(){return q},J.isValid=function(){return this.$d.toString()!==C},J.isSame=function(te,ne){var ce=ie(te);return this.startOf(ne)<=ce&&ce<=this.endOf(ne)},J.isAfter=function(te,ne){return ie(te)<this.startOf(ne)},J.isBefore=function(te,ne){return this.endOf(ne)<ie(te)},J.$g=function(te,ne,ce){return q.u(te)?this[ne]:this.set(ce,te)},J.unix=function(){return Math.floor(this.valueOf()/1e3)},J.valueOf=function(){return this.$d.getTime()},J.startOf=function(te,ne){var ce=this,ue=!!q.u(ne)||ne,ye=q.p(te),Ee=function(Qe,Je){var nt=q.w(ce.$u?Date.UTC(ce.$y,Je,Qe):new Date(ce.$y,Je,Qe),ce);return ue?nt:nt.endOf(f)},se=function(Qe,Je){return q.w(ce.toDate()[Qe].apply(ce.toDate("s"),(ue?[0,0,0,0]:[23,59,59,999]).slice(Je)),ce)},oe=this.$W,_e=this.$M,Ue=this.$D,Le="set"+(this.$u?"UTC":"");switch(ye){case y:return ue?Ee(1,0):Ee(31,11);case m:return ue?Ee(1,_e):Ee(0,_e+1);case p:var be=this.$locale().weekStart||0,Re=(oe<be?oe+7:oe)-be;return Ee(ue?Ue-Re:Ue+(6-Re),_e);case f:case T:return se(Le+"Hours",0);case a:return se(Le+"Minutes",1);case c:return se(Le+"Seconds",2);case l:return se(Le+"Milliseconds",3);default:return this.clone()}},J.endOf=function(te){return this.startOf(te,!1)},J.$set=function(te,ne){var ce,ue=q.p(te),ye="set"+(this.$u?"UTC":""),Ee=(ce={},ce[f]=ye+"Date",ce[T]=ye+"Date",ce[m]=ye+"Month",ce[y]=ye+"FullYear",ce[a]=ye+"Hours",ce[c]=ye+"Minutes",ce[l]=ye+"Seconds",ce[s]=ye+"Milliseconds",ce)[ue],se=ue===f?this.$D+(ne-this.$W):ne;if(ue===m||ue===y){var oe=this.clone().set(T,1);oe.$d[Ee](se),oe.init(),this.$d=oe.set(T,Math.min(this.$D,oe.daysInMonth())).$d}else Ee&&this.$d[Ee](se);return this.init(),this},J.set=function(te,ne){return this.clone().$set(te,ne)},J.get=function(te){return this[q.p(te)]()},J.add=function(te,ne){var ce,ue=this;te=Number(te);var ye=q.p(ne),Ee=function(_e){var Ue=ie(ue);return q.w(Ue.date(Ue.date()+Math.round(_e*te)),ue)};if(ye===m)return this.set(m,this.$M+te);if(ye===y)return this.set(y,this.$y+te);if(ye===f)return Ee(1);if(ye===p)return Ee(7);var se=(ce={},ce[c]=r,ce[a]=i,ce[l]=n,ce)[ye]||1,oe=this.$d.getTime()+te*se;return q.w(oe,this)},J.subtract=function(te,ne){return this.add(-1*te,ne)},J.format=function(te){var ne=this,ce=this.$locale();if(!this.isValid())return ce.invalidDate||C;var ue=te||"YYYY-MM-DDTHH:mm:ssZ",ye=q.z(this),Ee=this.$H,se=this.$m,oe=this.$M,_e=ce.weekdays,Ue=ce.months,Le=ce.meridiem,be=function(Je,nt,Ve,ke){return Je&&(Je[nt]||Je(ne,ue))||Ve[nt].slice(0,ke)},Re=function(Je){return q.s(Ee%12||12,Je,"0")},Qe=Le||function(Je,nt,Ve){var ke=Je<12?"AM":"PM";return Ve?ke.toLowerCase():ke};return ue.replace(M,function(Je,nt){return nt||function(Ve){switch(Ve){case"YY":return String(ne.$y).slice(-2);case"YYYY":return q.s(ne.$y,4,"0");case"M":return oe+1;case"MM":return q.s(oe+1,2,"0");case"MMM":return be(ce.monthsShort,oe,Ue,3);case"MMMM":return be(Ue,oe);case"D":return ne.$D;case"DD":return q.s(ne.$D,2,"0");case"d":return String(ne.$W);case"dd":return be(ce.weekdaysMin,ne.$W,_e,2);case"ddd":return be(ce.weekdaysShort,ne.$W,_e,3);case"dddd":return _e[ne.$W];case"H":return String(Ee);case"HH":return q.s(Ee,2,"0");case"h":return Re(1);case"hh":return Re(2);case"a":return Qe(Ee,se,!0);case"A":return Qe(Ee,se,!1);case"m":return String(se);case"mm":return q.s(se,2,"0");case"s":return String(ne.$s);case"ss":return q.s(ne.$s,2,"0");case"SSS":return q.s(ne.$ms,3,"0");case"Z":return ye}return null}(Je)||ye.replace(":","")})},J.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},J.diff=function(te,ne,ce){var ue,ye=this,Ee=q.p(ne),se=ie(te),oe=(se.utcOffset()-this.utcOffset())*r,_e=this-se,Ue=function(){return q.m(ye,se)};switch(Ee){case y:ue=Ue()/12;break;case m:ue=Ue();break;case v:ue=Ue()/3;break;case p:ue=(_e-oe)/6048e5;break;case f:ue=(_e-oe)/864e5;break;case a:ue=_e/i;break;case c:ue=_e/r;break;case l:ue=_e/n;break;default:ue=_e}return ce?ue:q.a(ue)},J.daysInMonth=function(){return this.endOf(m).$D},J.$locale=function(){return H[this.$L]},J.locale=function(te,ne){if(!te)return this.$L;var ce=this.clone(),ue=G(te,ne,!0);return ue&&(ce.$L=ue),ce},J.clone=function(){return q.w(this.$d,this)},J.toDate=function(){return new Date(this.valueOf())},J.toJSON=function(){return this.isValid()?this.toISOString():null},J.toISOString=function(){return this.$d.toISOString()},J.toString=function(){return this.$d.toUTCString()},he}(),ee=W.prototype;return ie.prototype=ee,[["$ms",s],["$s",l],["$m",c],["$H",a],["$W",f],["$M",m],["$y",y],["$D",T]].forEach(function(he){ee[he[1]]=function(J){return this.$g(J,he[0],he[1])}}),ie.extend=function(he,J){return he.$i||(he(J,W,ie),he.$i=!0),ie},ie.locale=G,ie.isDayjs=Q,ie.unix=function(he){return ie(1e3*he)},ie.en=H[z],ie.Ls=H,ie.p={},ie})})(Tse);var Cze=Tse.exports;const Ai=lA(Cze);var Bse={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Fm,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d\d/,s=/\d\d?/,l=/\d*[^-_:/,()\s\d]+/,c={},a=function(C){return(C=+C)+(C>68?1900:2e3)},f=function(C){return function(k){this[C]=+k}},p=[/[+-]\d\d:?(\d\d)?|Z/,function(C){(this.zone||(this.zone={})).offset=function(k){if(!k||k==="Z")return 0;var M=k.match(/([+-]|\d\d)/g),P=60*M[1]+(+M[2]||0);return P===0?0:M[0]==="+"?-P:P}(C)}],m=function(C){var k=c[C];return k&&(k.indexOf?k:k.s.concat(k.f))},v=function(C,k){var M,P=c.meridiem;if(P){for(var R=1;R<=24;R+=1)if(C.indexOf(P(R,0,k))>-1){M=R>12;break}}else M=C===(k?"pm":"PM");return M},y={A:[l,function(C){this.afternoon=v(C,!1)}],a:[l,function(C){this.afternoon=v(C,!0)}],S:[/\d/,function(C){this.milliseconds=100*+C}],SS:[i,function(C){this.milliseconds=10*+C}],SSS:[/\d{3}/,function(C){this.milliseconds=+C}],s:[s,f("seconds")],ss:[s,f("seconds")],m:[s,f("minutes")],mm:[s,f("minutes")],H:[s,f("hours")],h:[s,f("hours")],HH:[s,f("hours")],hh:[s,f("hours")],D:[s,f("day")],DD:[i,f("day")],Do:[l,function(C){var k=c.ordinal,M=C.match(/\d+/);if(this.day=M[0],k)for(var P=1;P<=31;P+=1)k(P).replace(/\[|\]/g,"")===C&&(this.day=P)}],M:[s,f("month")],MM:[i,f("month")],MMM:[l,function(C){var k=m("months"),M=(m("monthsShort")||k.map(function(P){return P.slice(0,3)})).indexOf(C)+1;if(M<1)throw new Error;this.month=M%12||M}],MMMM:[l,function(C){var k=m("months").indexOf(C)+1;if(k<1)throw new Error;this.month=k%12||k}],Y:[/[+-]?\d+/,f("year")],YY:[i,function(C){this.year=a(C)}],YYYY:[/\d{4}/,f("year")],Z:p,ZZ:p};function T(C){var k,M;k=C,M=c&&c.formats;for(var P=(C=k.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(G,ie,q){var W=q&&q.toUpperCase();return ie||M[q]||n[q]||M[W].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(ee,he,J){return he||J.slice(1)})})).match(r),R=P.length,N=0;N<R;N+=1){var z=P[N],H=y[z],j=H&&H[0],Q=H&&H[1];P[N]=Q?{regex:j,parser:Q}:z.replace(/^\[|\]$/g,"")}return function(G){for(var ie={},q=0,W=0;q<R;q+=1){var ee=P[q];if(typeof ee=="string")W+=ee.length;else{var he=ee.regex,J=ee.parser,te=G.slice(W),ne=he.exec(te)[0];J.call(ie,ne),G=G.replace(ne,"")}}return function(ce){var ue=ce.afternoon;if(ue!==void 0){var ye=ce.hours;ue?ye<12&&(ce.hours+=12):ye===12&&(ce.hours=0),delete ce.afternoon}}(ie),ie}}return function(C,k,M){M.p.customParseFormat=!0,C&&C.parseTwoDigitYear&&(a=C.parseTwoDigitYear);var P=k.prototype,R=P.parse;P.parse=function(N){var z=N.date,H=N.utc,j=N.args;this.$u=H;var Q=j[1];if(typeof Q=="string"){var G=j[2]===!0,ie=j[3]===!0,q=G||ie,W=j[2];ie&&(W=j[2]),c=this.$locale(),!G&&W&&(c=M.Ls[W]),this.$d=function(te,ne,ce){try{if(["x","X"].indexOf(ne)>-1)return new Date((ne==="X"?1e3:1)*te);var ue=T(ne)(te),ye=ue.year,Ee=ue.month,se=ue.day,oe=ue.hours,_e=ue.minutes,Ue=ue.seconds,Le=ue.milliseconds,be=ue.zone,Re=new Date,Qe=se||(ye||Ee?1:Re.getDate()),Je=ye||Re.getFullYear(),nt=0;ye&&!Ee||(nt=Ee>0?Ee-1:Re.getMonth());var Ve=oe||0,ke=_e||0,Ge=Ue||0,Ne=Le||0;return be?new Date(Date.UTC(Je,nt,Qe,Ve,ke,Ge,Ne+60*be.offset*1e3)):ce?new Date(Date.UTC(Je,nt,Qe,Ve,ke,Ge,Ne)):new Date(Je,nt,Qe,Ve,ke,Ge,Ne)}catch{return new Date("")}}(z,Q,H),this.init(),W&&W!==!0&&(this.$L=this.locale(W).$L),q&&z!=this.format(Q)&&(this.$d=new Date("")),c={}}else if(Q instanceof Array)for(var ee=Q.length,he=1;he<=ee;he+=1){j[1]=Q[he-1];var J=M.apply(this,j);if(J.isValid()){this.$d=J.$d,this.$L=J.$L,this.init();break}he===ee&&(this.$d=new Date(""))}else R.call(this,N)}}})})(Bse);var Eze=Bse.exports;const $7=lA(Eze),iq=["hours","minutes","seconds"],HR="HH:mm:ss",dw="YYYY-MM-DD",Sze={date:dw,dates:dw,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",datetime:`${dw} ${HR}`,monthrange:"YYYY-MM",daterange:dw,datetimerange:`${dw} ${HR}`},kk=(t,e)=>[t>0?t-1:void 0,t,t<e?t+1:void 0],i1=t=>Array.from(Array.from({length:t}).keys()),Mse=t=>t.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),Ise=t=>t.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),aq=function(t,e){const n=_y(t),r=_y(e);return n&&r?t.getTime()===e.getTime():!n&&!r?t===e:!1},sq=function(t,e){const n=Jn(t),r=Jn(e);return n&&r?t.length!==e.length?!1:t.every((i,s)=>aq(i,e[s])):!n&&!r?aq(t,e):!1},oq=function(t,e,n){const r=bf(e)||e==="x"?Ai(t).locale(n):Ai(t,e).locale(n);return r.isValid()?r:void 0},lq=function(t,e,n){return bf(e)?t:e==="x"?+t:Ai(t).locale(n).format(e)},Pk=(t,e)=>{var n;const r=[],i=e==null?void 0:e();for(let s=0;s<t;s++)r.push((n=i==null?void 0:i.includes(s))!=null?n:!1);return r},Lse=Ln({disabledHours:{type:Rt(Function)},disabledMinutes:{type:Rt(Function)},disabledSeconds:{type:Rt(Function)}}),kse=Ln({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),V7=Ln({id:{type:Rt([Array,String])},name:{type:Rt([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:Rt([String,Object]),default:w0},editable:{type:Boolean,default:!0},prefixIcon:{type:Rt([String,Object]),default:""},size:lu,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:""},popperOptions:{type:Rt(Object),default:()=>({})},modelValue:{type:Rt([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:Rt([Date,Array])},defaultTime:{type:Rt([Date,Array])},isRange:Boolean,...Lse,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,label:{type:String,default:void 0},tabindex:{type:Rt([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,...sx,...Wu(["ariaLabel"])}),Tze=["id","name","placeholder","value","disabled","readonly"],Bze=["id","name","placeholder","value","disabled","readonly"],Mze=Be({name:"Picker"}),Ize=Be({...Mze,props:V7,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(t,{expose:e,emit:n}){const r=t,i=Dy(),{lang:s}=da(),l=vn("date"),c=vn("input"),a=vn("range"),{form:f,formItem:p}=Qc(),m=ar("ElPopperOptions",{}),{valueOnClear:v}=oM(r,null),y=Te(),T=Te(),C=Te(!1),k=Te(!1),M=Te(null);let P=!1,R=!1;const N=le(()=>[l.b("editor"),l.bm("editor",r.type),c.e("wrapper"),l.is("disabled",oe.value),l.is("active",C.value),a.b("editor"),Lt?a.bm("editor",Lt.value):"",i.class]),z=le(()=>[c.e("icon"),a.e("close-icon"),nt.value?"":a.e("close-icon--hidden")]);ln(C,et=>{et?dr(()=>{et&&(M.value=r.modelValue)}):(_t.value=null,dr(()=>{H(r.modelValue)}))});const H=(et,St)=>{(St||!sq(et,M.value))&&(n("change",et),r.validateEvent&&(p==null||p.validate("change").catch(sn=>void 0)))},j=et=>{if(!sq(r.modelValue,et)){let St;Jn(et)?St=et.map(sn=>lq(sn,r.valueFormat,s.value)):et&&(St=lq(et,r.valueFormat,s.value)),n("update:modelValue",et&&St,s.value)}},Q=et=>{n("keydown",et)},G=le(()=>{if(T.value){const et=vt.value?T.value:T.value.$el;return Array.from(et.querySelectorAll("input"))}return[]}),ie=(et,St,sn)=>{const bn=G.value;bn.length&&(!sn||sn==="min"?(bn[0].setSelectionRange(et,St),bn[0].focus()):sn==="max"&&(bn[1].setSelectionRange(et,St),bn[1].focus()))},q=()=>{ue(!0,!0),dr(()=>{R=!1})},W=(et="",St=!1)=>{St||(R=!0),C.value=St;let sn;Jn(et)?sn=et.map(bn=>bn.toDate()):sn=et&&et.toDate(),_t.value=null,j(sn)},ee=()=>{k.value=!0},he=()=>{n("visible-change",!0)},J=et=>{(et==null?void 0:et.key)===Tr.esc&&ue(!0,!0)},te=()=>{k.value=!1,C.value=!1,R=!1,n("visible-change",!1)},ne=()=>{C.value=!0},ce=()=>{C.value=!1},ue=(et=!0,St=!1)=>{R=St;const[sn,bn]=S(G);let gr=sn;!et&&vt.value&&(gr=bn),gr&&gr.focus()},ye=et=>{r.readonly||oe.value||C.value||R||(C.value=!0,n("focus",et))};let Ee;const se=et=>{const St=async()=>{setTimeout(()=>{var sn;Ee===St&&(!((sn=y.value)!=null&&sn.isFocusInsideContent()&&!P)&&G.value.filter(bn=>bn.contains(document.activeElement)).length===0&&(qt(),C.value=!1,n("blur",et),r.validateEvent&&(p==null||p.validate("blur").catch(bn=>void 0))),P=!1)},0)};Ee=St,St()},oe=le(()=>r.disabled||(f==null?void 0:f.disabled)),_e=le(()=>{let et;if(ke.value?Bt.value.getDefaultValue&&(et=Bt.value.getDefaultValue()):Jn(r.modelValue)?et=r.modelValue.map(St=>oq(St,r.valueFormat,s.value)):et=oq(r.modelValue,r.valueFormat,s.value),Bt.value.getRangeAvailableTime){const St=Bt.value.getRangeAvailableTime(et);zc(St,et)||(et=St,j(Jn(et)?et.map(sn=>sn.toDate()):et.toDate()))}return Jn(et)&&et.some(St=>!St)&&(et=[]),et}),Ue=le(()=>{if(!Bt.value.panelReady)return"";const et=Nt(_e.value);return Jn(_t.value)?[_t.value[0]||et&&et[0]||"",_t.value[1]||et&&et[1]||""]:_t.value!==null?_t.value:!be.value&&ke.value||!C.value&&ke.value?"":et?Re.value||Qe.value?et.join(", "):et:""}),Le=le(()=>r.type.includes("time")),be=le(()=>r.type.startsWith("time")),Re=le(()=>r.type==="dates"),Qe=le(()=>r.type==="years"),Je=le(()=>r.prefixIcon||(Le.value?s7:tae)),nt=Te(!1),Ve=et=>{r.readonly||oe.value||nt.value&&(et.stopPropagation(),q(),j(v.value),H(v.value,!0),nt.value=!1,C.value=!1,Bt.value.handleClear&&Bt.value.handleClear())},ke=le(()=>{const{modelValue:et}=r;return!et||Jn(et)&&!et.filter(Boolean).length}),Ge=async et=>{var St;r.readonly||oe.value||(((St=et.target)==null?void 0:St.tagName)!=="INPUT"||G.value.includes(document.activeElement))&&(C.value=!0)},Ne=()=>{r.readonly||oe.value||!ke.value&&r.clearable&&(nt.value=!0)},je=()=>{nt.value=!1},Ye=et=>{var St;r.readonly||oe.value||(((St=et.touches[0].target)==null?void 0:St.tagName)!=="INPUT"||G.value.includes(document.activeElement))&&(C.value=!0)},vt=le(()=>r.type.includes("range")),Lt=ml(),Et=le(()=>{var et,St;return(St=(et=S(y))==null?void 0:et.popperRef)==null?void 0:St.contentRef}),Vt=le(()=>{var et;return S(vt)?S(T):(et=S(T))==null?void 0:et.$el});z9(Vt,et=>{const St=S(Et),sn=S(Vt);St&&(et.target===St||et.composedPath().includes(St))||et.target===sn||et.composedPath().includes(sn)||(C.value=!1)});const _t=Te(null),qt=()=>{if(_t.value){const et=tn(Ue.value);et&&wt(et)&&(j(Jn(et)?et.map(St=>St.toDate()):et.toDate()),_t.value=null)}_t.value===""&&(j(v.value),H(v.value),_t.value=null)},tn=et=>et?Bt.value.parseUserInput(et):null,Nt=et=>et?Bt.value.formatToString(et):null,wt=et=>Bt.value.isValidValue(et),De=async et=>{if(r.readonly||oe.value)return;const{code:St}=et;if(Q(et),St===Tr.esc){C.value===!0&&(C.value=!1,et.preventDefault(),et.stopPropagation());return}if(St===Tr.down&&(Bt.value.handleFocusPicker&&(et.preventDefault(),et.stopPropagation()),C.value===!1&&(C.value=!0,await dr()),Bt.value.handleFocusPicker)){Bt.value.handleFocusPicker();return}if(St===Tr.tab){P=!0;return}if(St===Tr.enter||St===Tr.numpadEnter){(_t.value===null||_t.value===""||wt(tn(Ue.value)))&&(qt(),C.value=!1),et.stopPropagation();return}if(_t.value){et.stopPropagation();return}Bt.value.handleKeydownInput&&Bt.value.handleKeydownInput(et)},We=et=>{_t.value=et,C.value||(C.value=!0)},ut=et=>{const St=et.target;_t.value?_t.value=[St.value,_t.value[1]]:_t.value=[St.value,null]},It=et=>{const St=et.target;_t.value?_t.value=[_t.value[0],St.value]:_t.value=[null,St.value]},Xe=()=>{var et;const St=_t.value,sn=tn(St&&St[0]),bn=S(_e);if(sn&&sn.isValid()){_t.value=[Nt(sn),((et=Ue.value)==null?void 0:et[1])||null];const gr=[sn,bn&&(bn[1]||null)];wt(gr)&&(j(gr),_t.value=null)}},kt=()=>{var et;const St=S(_t),sn=tn(St&&St[1]),bn=S(_e);if(sn&&sn.isValid()){_t.value=[((et=S(Ue))==null?void 0:et[0])||null,Nt(sn)];const gr=[bn&&bn[0],sn];wt(gr)&&(j(gr),_t.value=null)}},Bt=Te({}),it=et=>{Bt.value[et[0]]=et[1],Bt.value.panelReady=!0},Mt=et=>{n("calendar-change",et)},at=(et,St,sn)=>{n("panel-change",et,St,sn)};return ki("EP_PICKER_BASE",{props:r}),wu({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-time-picker",ref:"https://element-plus.org/en-US/component/time-picker.html"},le(()=>!!r.label)),e({focus:ue,handleFocusInput:ye,handleBlurInput:se,handleOpen:ne,handleClose:ce,onPick:W}),(et,St)=>(X(),Ut(S(Hc),Xr({ref_key:"refPopper",ref:y,visible:C.value,effect:"light",pure:"",trigger:"click"},et.$attrs,{role:"dialog",teleported:"",transition:`${S(l).namespace.value}-zoom-in-top`,"popper-class":[`${S(l).namespace.value}-picker__popper`,et.popperClass],"popper-options":S(m),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:ee,onShow:he,onHide:te}),{default:xt(()=>[S(vt)?(X(),ve("div",{key:1,ref_key:"inputRef",ref:T,class:Se(S(N)),style:or(et.$attrs.style),onClick:ye,onMouseenter:Ne,onMouseleave:je,onTouchstart:Ye,onKeydown:De},[S(Je)?(X(),Ut(S(Ar),{key:0,class:Se([S(c).e("icon"),S(a).e("icon")]),onMousedown:Pr(Ge,["prevent"]),onTouchstart:Ye},{default:xt(()=>[(X(),Ut(fi(S(Je))))]),_:1},8,["class","onMousedown"])):bt("v-if",!0),pe("input",{id:et.id&&et.id[0],autocomplete:"off",name:et.name&&et.name[0],placeholder:et.startPlaceholder,value:S(Ue)&&S(Ue)[0],disabled:S(oe),readonly:!et.editable||et.readonly,class:Se(S(a).b("input")),onMousedown:Ge,onInput:ut,onChange:Xe,onFocus:ye,onBlur:se},null,42,Tze),Ft(et.$slots,"range-separator",{},()=>[pe("span",{class:Se(S(a).b("separator"))},Cn(et.rangeSeparator),3)]),pe("input",{id:et.id&&et.id[1],autocomplete:"off",name:et.name&&et.name[1],placeholder:et.endPlaceholder,value:S(Ue)&&S(Ue)[1],disabled:S(oe),readonly:!et.editable||et.readonly,class:Se(S(a).b("input")),onMousedown:Ge,onFocus:ye,onBlur:se,onInput:It,onChange:kt},null,42,Bze),et.clearIcon?(X(),Ut(S(Ar),{key:1,class:Se(S(z)),onClick:Ve},{default:xt(()=>[(X(),Ut(fi(et.clearIcon)))]),_:1},8,["class"])):bt("v-if",!0)],38)):(X(),Ut(S(Nc),{key:0,id:et.id,ref_key:"inputRef",ref:T,"container-role":"combobox","model-value":S(Ue),name:et.name,size:S(Lt),disabled:S(oe),placeholder:et.placeholder,class:Se([S(l).b("editor"),S(l).bm("editor",et.type),et.$attrs.class]),style:or(et.$attrs.style),readonly:!et.editable||et.readonly||S(Re)||S(Qe)||et.type==="week","aria-label":et.label||et.ariaLabel,tabindex:et.tabindex,"validate-event":!1,onInput:We,onFocus:ye,onBlur:se,onKeydown:De,onChange:qt,onMousedown:Ge,onMouseenter:Ne,onMouseleave:je,onTouchstart:Ye,onClick:St[0]||(St[0]=Pr(()=>{},["stop"]))},{prefix:xt(()=>[S(Je)?(X(),Ut(S(Ar),{key:0,class:Se(S(c).e("icon")),onMousedown:Pr(Ge,["prevent"]),onTouchstart:Ye},{default:xt(()=>[(X(),Ut(fi(S(Je))))]),_:1},8,["class","onMousedown"])):bt("v-if",!0)]),suffix:xt(()=>[nt.value&&et.clearIcon?(X(),Ut(S(Ar),{key:0,class:Se(`${S(c).e("icon")} clear-icon`),onClick:Pr(Ve,["stop"])},{default:xt(()=>[(X(),Ut(fi(et.clearIcon)))]),_:1},8,["class","onClick"])):bt("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","aria-label","tabindex","onKeydown"]))]),content:xt(()=>[Ft(et.$slots,"default",{visible:C.value,actualVisible:k.value,parsedValue:S(_e),format:et.format,dateFormat:et.dateFormat,timeFormat:et.timeFormat,unlinkPanels:et.unlinkPanels,type:et.type,defaultValue:et.defaultValue,onPick:W,onSelectRange:ie,onSetPickerOption:it,onCalendarChange:Mt,onPanelChange:at,onKeydown:J,onMousedown:St[1]||(St[1]=Pr(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var Pse=Fn(Ize,[["__file","picker.vue"]]);const Lze=Ln({...kse,datetimeRole:String,parsedValue:{type:Rt(Object)}}),Fse=({getAvailableHours:t,getAvailableMinutes:e,getAvailableSeconds:n})=>{const r=(l,c,a,f)=>{const p={hour:t,minute:e,second:n};let m=l;return["hour","minute","second"].forEach(v=>{if(p[v]){let y;const T=p[v];switch(v){case"minute":{y=T(m.hour(),c,f);break}case"second":{y=T(m.hour(),m.minute(),c,f);break}default:{y=T(c,f);break}}if(y!=null&&y.length&&!y.includes(m[v]())){const C=a?0:y.length-1;m=m[v](y[C])}}}),m},i={};return{timePickerOptions:i,getAvailableTime:r,onSetOption:([l,c])=>{i[l]=c}}},Fk=t=>{const e=(r,i)=>r||i,n=r=>r!==!0;return t.map(e).filter(n)},Rse=(t,e,n)=>({getHoursList:(l,c)=>Pk(24,t&&(()=>t==null?void 0:t(l,c))),getMinutesList:(l,c,a)=>Pk(60,e&&(()=>e==null?void 0:e(l,c,a))),getSecondsList:(l,c,a,f)=>Pk(60,n&&(()=>n==null?void 0:n(l,c,a,f)))}),Ose=(t,e,n)=>{const{getHoursList:r,getMinutesList:i,getSecondsList:s}=Rse(t,e,n);return{getAvailableHours:(f,p)=>Fk(r(f,p)),getAvailableMinutes:(f,p,m)=>Fk(i(f,p,m)),getAvailableSeconds:(f,p,m,v)=>Fk(s(f,p,m,v))}},Dse=t=>{const e=Te(t.parsedValue);return ln(()=>t.visible,n=>{n||(e.value=t.parsedValue)}),e},Cv=new Map;let uq;ra&&(document.addEventListener("mousedown",t=>uq=t),document.addEventListener("mouseup",t=>{for(const e of Cv.values())for(const{documentHandler:n}of e)n(t,uq)}));function cq(t,e){let n=[];return Array.isArray(e.arg)?n=e.arg:Ff(e.arg)&&n.push(e.arg),function(r,i){const s=e.instance.popperRef,l=r.target,c=i==null?void 0:i.target,a=!e||!e.instance,f=!l||!c,p=t.contains(l)||t.contains(c),m=t===l,v=n.length&&n.some(T=>T==null?void 0:T.contains(l))||n.length&&n.includes(c),y=s&&(s.contains(l)||s.contains(c));a||f||p||m||v||y||e.value(r,i)}}const u0={beforeMount(t,e){Cv.has(t)||Cv.set(t,[]),Cv.get(t).push({documentHandler:cq(t,e),bindingFn:e.value})},updated(t,e){Cv.has(t)||Cv.set(t,[]);const n=Cv.get(t),r=n.findIndex(s=>s.bindingFn===e.oldValue),i={documentHandler:cq(t,e),bindingFn:e.value};r>=0?n.splice(r,1,i):n.push(i)},unmounted(t){Cv.delete(t)}},kze=100,Pze=600,_8={beforeMount(t,e){const n=e.value,{interval:r=kze,delay:i=Pze}=Dr(n)?{}:n;let s,l;const c=()=>Dr(n)?n():n.handler(),a=()=>{l&&(clearTimeout(l),l=void 0),s&&(clearInterval(s),s=void 0)};t.addEventListener("mousedown",f=>{f.button===0&&(a(),c(),document.addEventListener("mouseup",()=>a(),{once:!0}),l=setTimeout(()=>{s=setInterval(()=>{c()},r)},i))})}},QR="_trap-focus-children",j_=[],hq=t=>{if(j_.length===0)return;const e=j_[j_.length-1][QR];if(e.length>0&&t.code===Tr.tab){if(e.length===1){t.preventDefault(),document.activeElement!==e[0]&&e[0].focus();return}const n=t.shiftKey,r=t.target===e[0],i=t.target===e[e.length-1];r&&n&&(t.preventDefault(),e[e.length-1].focus()),i&&!n&&(t.preventDefault(),e[0].focus())}},Fze={beforeMount(t){t[QR]=bK(t),j_.push(t),j_.length<=1&&document.addEventListener("keydown",hq)},updated(t){dr(()=>{t[QR]=bK(t)})},unmounted(){j_.shift(),j_.length===0&&document.removeEventListener("keydown",hq)}};var dq=!1,O_,jR,GR,oT,lT,Nse,uT,KR,WR,qR,Use,YR,XR,zse,$se;function kh(){if(!dq){dq=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),n=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(YR=/\b(iPhone|iP[ao]d)/.exec(t),XR=/\b(iP[ao]d)/.exec(t),qR=/Android/i.exec(t),zse=/FBAN\/\w+;/i.exec(t),$se=/Mobile/i.exec(t),Use=!!/Win64/.exec(t),e){O_=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,O_&&document&&document.documentMode&&(O_=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(t);Nse=r?parseFloat(r[1])+4:O_,jR=e[2]?parseFloat(e[2]):NaN,GR=e[3]?parseFloat(e[3]):NaN,oT=e[4]?parseFloat(e[4]):NaN,oT?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),lT=e&&e[1]?parseFloat(e[1]):NaN):lT=NaN}else O_=jR=GR=lT=oT=NaN;if(n){if(n[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);uT=i?parseFloat(i[1].replace("_",".")):!0}else uT=!1;KR=!!n[2],WR=!!n[3]}else uT=KR=WR=!1}}var ZR={ie:function(){return kh()||O_},ieCompatibilityMode:function(){return kh()||Nse>O_},ie64:function(){return ZR.ie()&&Use},firefox:function(){return kh()||jR},opera:function(){return kh()||GR},webkit:function(){return kh()||oT},safari:function(){return ZR.webkit()},chrome:function(){return kh()||lT},windows:function(){return kh()||KR},osx:function(){return kh()||uT},linux:function(){return kh()||WR},iphone:function(){return kh()||YR},mobile:function(){return kh()||YR||XR||qR||$se},nativeApp:function(){return kh()||zse},android:function(){return kh()||qR},ipad:function(){return kh()||XR}},Rze=ZR,IS=!!(typeof window<"u"&&window.document&&window.document.createElement),Oze={canUseDOM:IS,canUseWorkers:typeof Worker<"u",canUseEventListeners:IS&&!!(window.addEventListener||window.attachEvent),canUseViewport:IS&&!!window.screen,isInWorker:!IS},Vse=Oze,Hse;Vse.canUseDOM&&(Hse=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function Dze(t,e){if(!Vse.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,r=n in document;if(!r){var i=document.createElement("div");i.setAttribute(n,"return;"),r=typeof i[n]=="function"}return!r&&Hse&&t==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var Nze=Dze,fq=10,pq=40,Aq=800;function Qse(t){var e=0,n=0,r=0,i=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=e*fq,i=n*fq,"deltaY"in t&&(i=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||i)&&t.deltaMode&&(t.deltaMode==1?(r*=pq,i*=pq):(r*=Aq,i*=Aq)),r&&!e&&(e=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:e,spinY:n,pixelX:r,pixelY:i}}Qse.getEventType=function(){return Rze.firefox()?"DOMMouseScroll":Nze("wheel")?"wheel":"mousewheel"};var Uze=Qse;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const zze=function(t,e){if(t&&t.addEventListener){const n=function(r){const i=Uze(r);e&&Reflect.apply(e,this,[r,i])};t.addEventListener("wheel",n,{passive:!0})}},$ze={beforeMount(t,e){zze(t,e.value)}},Vze=Ln({role:{type:String,required:!0},spinnerDate:{type:Rt(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:Rt(String),default:""},...Lse}),Hze=["onClick"],Qze=["onMouseenter"],jze=Be({__name:"basic-time-spinner",props:Vze,emits:["change","select-range","set-option"],setup(t,{emit:e}){const n=t,r=vn("time"),{getHoursList:i,getMinutesList:s,getSecondsList:l}=Rse(n.disabledHours,n.disabledMinutes,n.disabledSeconds);let c=!1;const a=Te(),f=Te(),p=Te(),m=Te(),v={hours:f,minutes:p,seconds:m},y=le(()=>n.showSeconds?iq:iq.slice(0,2)),T=le(()=>{const{spinnerDate:ue}=n,ye=ue.hour(),Ee=ue.minute(),se=ue.second();return{hours:ye,minutes:Ee,seconds:se}}),C=le(()=>{const{hours:ue,minutes:ye}=S(T);return{hours:i(n.role),minutes:s(ue,n.role),seconds:l(ue,ye,n.role)}}),k=le(()=>{const{hours:ue,minutes:ye,seconds:Ee}=S(T);return{hours:kk(ue,23),minutes:kk(ye,59),seconds:kk(Ee,59)}}),M=Wh(ue=>{c=!1,N(ue)},200),P=ue=>{if(!!!n.amPmMode)return"";const Ee=n.amPmMode==="A";let se=ue<12?" am":" pm";return Ee&&(se=se.toUpperCase()),se},R=ue=>{let ye;switch(ue){case"hours":ye=[0,2];break;case"minutes":ye=[3,5];break;case"seconds":ye=[6,8];break}const[Ee,se]=ye;e("select-range",Ee,se),a.value=ue},N=ue=>{j(ue,S(T)[ue])},z=()=>{N("hours"),N("minutes"),N("seconds")},H=ue=>ue.querySelector(`.${r.namespace.value}-scrollbar__wrap`),j=(ue,ye)=>{if(n.arrowControl)return;const Ee=S(v[ue]);Ee&&Ee.$el&&(H(Ee.$el).scrollTop=Math.max(0,ye*Q(ue)))},Q=ue=>{const ye=S(v[ue]),Ee=ye==null?void 0:ye.$el.querySelector("li");return Ee&&Number.parseFloat(Uv(Ee,"height"))||0},G=()=>{q(1)},ie=()=>{q(-1)},q=ue=>{a.value||R("hours");const ye=a.value,Ee=S(T)[ye],se=a.value==="hours"?24:60,oe=W(ye,Ee,ue,se);ee(ye,oe),j(ye,oe),dr(()=>R(ye))},W=(ue,ye,Ee,se)=>{let oe=(ye+Ee+se)%se;const _e=S(C)[ue];for(;_e[oe]&&oe!==ye;)oe=(oe+Ee+se)%se;return oe},ee=(ue,ye)=>{if(S(C)[ue][ye])return;const{hours:oe,minutes:_e,seconds:Ue}=S(T);let Le;switch(ue){case"hours":Le=n.spinnerDate.hour(ye).minute(_e).second(Ue);break;case"minutes":Le=n.spinnerDate.hour(oe).minute(ye).second(Ue);break;case"seconds":Le=n.spinnerDate.hour(oe).minute(_e).second(ye);break}e("change",Le)},he=(ue,{value:ye,disabled:Ee})=>{Ee||(ee(ue,ye),R(ue),j(ue,ye))},J=ue=>{c=!0,M(ue);const ye=Math.min(Math.round((H(S(v[ue]).$el).scrollTop-(te(ue)*.5-10)/Q(ue)+3)/Q(ue)),ue==="hours"?23:59);ee(ue,ye)},te=ue=>S(v[ue]).$el.offsetHeight,ne=()=>{const ue=ye=>{const Ee=S(v[ye]);Ee&&Ee.$el&&(H(Ee.$el).onscroll=()=>{J(ye)})};ue("hours"),ue("minutes"),ue("seconds")};Fr(()=>{dr(()=>{!n.arrowControl&&ne(),z(),n.role==="start"&&R("hours")})});const ce=(ue,ye)=>{v[ye].value=ue};return e("set-option",[`${n.role}_scrollDown`,q]),e("set-option",[`${n.role}_emitSelectRange`,R]),ln(()=>n.spinnerDate,()=>{c||z()}),(ue,ye)=>(X(),ve("div",{class:Se([S(r).b("spinner"),{"has-seconds":ue.showSeconds}])},[ue.arrowControl?bt("v-if",!0):(X(!0),ve(Vn,{key:0},Yr(S(y),Ee=>(X(),Ut(S(E0),{key:Ee,ref_for:!0,ref:se=>ce(se,Ee),class:Se(S(r).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":S(r).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:se=>R(Ee),onMousemove:se=>N(Ee)},{default:xt(()=>[(X(!0),ve(Vn,null,Yr(S(C)[Ee],(se,oe)=>(X(),ve("li",{key:oe,class:Se([S(r).be("spinner","item"),S(r).is("active",oe===S(T)[Ee]),S(r).is("disabled",se)]),onClick:_e=>he(Ee,{value:oe,disabled:se})},[Ee==="hours"?(X(),ve(Vn,{key:0},[xi(Cn(("0"+(ue.amPmMode?oe%12||12:oe)).slice(-2))+Cn(P(oe)),1)],64)):(X(),ve(Vn,{key:1},[xi(Cn(("0"+oe).slice(-2)),1)],64))],10,Hze))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),ue.arrowControl?(X(!0),ve(Vn,{key:1},Yr(S(y),Ee=>(X(),ve("div",{key:Ee,class:Se([S(r).be("spinner","wrapper"),S(r).is("arrow")]),onMouseenter:se=>R(Ee)},[Jr((X(),Ut(S(Ar),{class:Se(["arrow-up",S(r).be("spinner","arrow")])},{default:xt(()=>[ht(S(ZB))]),_:1},8,["class"])),[[S(_8),ie]]),Jr((X(),Ut(S(Ar),{class:Se(["arrow-down",S(r).be("spinner","arrow")])},{default:xt(()=>[ht(S(Rm))]),_:1},8,["class"])),[[S(_8),G]]),pe("ul",{class:Se(S(r).be("spinner","list"))},[(X(!0),ve(Vn,null,Yr(S(k)[Ee],(se,oe)=>(X(),ve("li",{key:oe,class:Se([S(r).be("spinner","item"),S(r).is("active",se===S(T)[Ee]),S(r).is("disabled",S(C)[Ee][se])])},[typeof se=="number"?(X(),ve(Vn,{key:0},[Ee==="hours"?(X(),ve(Vn,{key:0},[xi(Cn(("0"+(ue.amPmMode?se%12||12:se)).slice(-2))+Cn(P(se)),1)],64)):(X(),ve(Vn,{key:1},[xi(Cn(("0"+se).slice(-2)),1)],64))],64)):bt("v-if",!0)],2))),128))],2)],42,Qze))),128)):bt("v-if",!0)],2))}});var JR=Fn(jze,[["__file","basic-time-spinner.vue"]]);const Gze=Be({__name:"panel-time-pick",props:Lze,emits:["pick","select-range","set-picker-option"],setup(t,{emit:e}){const n=t,r=ar("EP_PICKER_BASE"),{arrowControl:i,disabledHours:s,disabledMinutes:l,disabledSeconds:c,defaultValue:a}=r.props,{getAvailableHours:f,getAvailableMinutes:p,getAvailableSeconds:m}=Ose(s,l,c),v=vn("time"),{t:y,lang:T}=da(),C=Te([0,2]),k=Dse(n),M=le(()=>Zo(n.actualVisible)?`${v.namespace.value}-zoom-in-top`:""),P=le(()=>n.format.includes("ss")),R=le(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),N=ce=>{const ue=Ai(ce).locale(T.value),ye=he(ue);return ue.isSame(ye)},z=()=>{e("pick",k.value,!1)},H=(ce=!1,ue=!1)=>{ue||e("pick",n.parsedValue,ce)},j=ce=>{if(!n.visible)return;const ue=he(ce).millisecond(0);e("pick",ue,!0)},Q=(ce,ue)=>{e("select-range",ce,ue),C.value=[ce,ue]},G=ce=>{const ue=[0,3].concat(P.value?[6]:[]),ye=["hours","minutes"].concat(P.value?["seconds"]:[]),se=(ue.indexOf(C.value[0])+ce+ue.length)%ue.length;q.start_emitSelectRange(ye[se])},ie=ce=>{const ue=ce.code,{left:ye,right:Ee,up:se,down:oe}=Tr;if([ye,Ee].includes(ue)){G(ue===ye?-1:1),ce.preventDefault();return}if([se,oe].includes(ue)){const _e=ue===se?-1:1;q.start_scrollDown(_e),ce.preventDefault();return}},{timePickerOptions:q,onSetOption:W,getAvailableTime:ee}=Fse({getAvailableHours:f,getAvailableMinutes:p,getAvailableSeconds:m}),he=ce=>ee(ce,n.datetimeRole||"",!0),J=ce=>ce?Ai(ce,n.format).locale(T.value):null,te=ce=>ce?ce.format(n.format):null,ne=()=>Ai(a).locale(T.value);return e("set-picker-option",["isValidValue",N]),e("set-picker-option",["formatToString",te]),e("set-picker-option",["parseUserInput",J]),e("set-picker-option",["handleKeydownInput",ie]),e("set-picker-option",["getRangeAvailableTime",he]),e("set-picker-option",["getDefaultValue",ne]),(ce,ue)=>(X(),Ut(fo,{name:S(M)},{default:xt(()=>[ce.actualVisible||ce.visible?(X(),ve("div",{key:0,class:Se(S(v).b("panel"))},[pe("div",{class:Se([S(v).be("panel","content"),{"has-seconds":S(P)}])},[ht(JR,{ref:"spinner",role:ce.datetimeRole||"start","arrow-control":S(i),"show-seconds":S(P),"am-pm-mode":S(R),"spinner-date":ce.parsedValue,"disabled-hours":S(s),"disabled-minutes":S(l),"disabled-seconds":S(c),onChange:j,onSetOption:S(W),onSelectRange:Q},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),pe("div",{class:Se(S(v).be("panel","footer"))},[pe("button",{type:"button",class:Se([S(v).be("panel","btn"),"cancel"]),onClick:z},Cn(S(y)("el.datepicker.cancel")),3),pe("button",{type:"button",class:Se([S(v).be("panel","btn"),"confirm"]),onClick:ue[0]||(ue[0]=ye=>H())},Cn(S(y)("el.datepicker.confirm")),3)],2)],2)):bt("v-if",!0)]),_:1},8,["name"]))}});var y8=Fn(Gze,[["__file","panel-time-pick.vue"]]);const Kze=Ln({...kse,parsedValue:{type:Rt(Array)}}),Wze=["disabled"],qze=Be({__name:"panel-time-range",props:Kze,emits:["pick","select-range","set-picker-option"],setup(t,{emit:e}){const n=t,r=(nt,Ve)=>{const ke=[];for(let Ge=nt;Ge<=Ve;Ge++)ke.push(Ge);return ke},{t:i,lang:s}=da(),l=vn("time"),c=vn("picker"),a=ar("EP_PICKER_BASE"),{arrowControl:f,disabledHours:p,disabledMinutes:m,disabledSeconds:v,defaultValue:y}=a.props,T=le(()=>[l.be("range-picker","body"),l.be("panel","content"),l.is("arrow",f),N.value?"has-seconds":""]),C=le(()=>[l.be("range-picker","body"),l.be("panel","content"),l.is("arrow",f),N.value?"has-seconds":""]),k=le(()=>n.parsedValue[0]),M=le(()=>n.parsedValue[1]),P=Dse(n),R=()=>{e("pick",P.value,!1)},N=le(()=>n.format.includes("ss")),z=le(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),H=(nt=!1)=>{e("pick",[k.value,M.value],nt)},j=nt=>{ie(nt.millisecond(0),M.value)},Q=nt=>{ie(k.value,nt.millisecond(0))},G=nt=>{const Ve=nt.map(Ge=>Ai(Ge).locale(s.value)),ke=Ee(Ve);return Ve[0].isSame(ke[0])&&Ve[1].isSame(ke[1])},ie=(nt,Ve)=>{e("pick",[nt,Ve],!0)},q=le(()=>k.value>M.value),W=Te([0,2]),ee=(nt,Ve)=>{e("select-range",nt,Ve,"min"),W.value=[nt,Ve]},he=le(()=>N.value?11:8),J=(nt,Ve)=>{e("select-range",nt,Ve,"max");const ke=S(he);W.value=[nt+ke,Ve+ke]},te=nt=>{const Ve=N.value?[0,3,6,11,14,17]:[0,3,8,11],ke=["hours","minutes"].concat(N.value?["seconds"]:[]),Ne=(Ve.indexOf(W.value[0])+nt+Ve.length)%Ve.length,je=Ve.length/2;Ne<je?Ue.start_emitSelectRange(ke[Ne]):Ue.end_emitSelectRange(ke[Ne-je])},ne=nt=>{const Ve=nt.code,{left:ke,right:Ge,up:Ne,down:je}=Tr;if([ke,Ge].includes(Ve)){te(Ve===ke?-1:1),nt.preventDefault();return}if([Ne,je].includes(Ve)){const Ye=Ve===Ne?-1:1,vt=W.value[0]<he.value?"start":"end";Ue[`${vt}_scrollDown`](Ye),nt.preventDefault();return}},ce=(nt,Ve)=>{const ke=p?p(nt):[],Ge=nt==="start",je=(Ve||(Ge?M.value:k.value)).hour(),Ye=Ge?r(je+1,23):r(0,je-1);return xk(ke,Ye)},ue=(nt,Ve,ke)=>{const Ge=m?m(nt,Ve):[],Ne=Ve==="start",je=ke||(Ne?M.value:k.value),Ye=je.hour();if(nt!==Ye)return Ge;const vt=je.minute(),Lt=Ne?r(vt+1,59):r(0,vt-1);return xk(Ge,Lt)},ye=(nt,Ve,ke,Ge)=>{const Ne=v?v(nt,Ve,ke):[],je=ke==="start",Ye=Ge||(je?M.value:k.value),vt=Ye.hour(),Lt=Ye.minute();if(nt!==vt||Ve!==Lt)return Ne;const Et=Ye.second(),Vt=je?r(Et+1,59):r(0,Et-1);return xk(Ne,Vt)},Ee=([nt,Ve])=>[Le(nt,"start",!0,Ve),Le(Ve,"end",!1,nt)],{getAvailableHours:se,getAvailableMinutes:oe,getAvailableSeconds:_e}=Ose(ce,ue,ye),{timePickerOptions:Ue,getAvailableTime:Le,onSetOption:be}=Fse({getAvailableHours:se,getAvailableMinutes:oe,getAvailableSeconds:_e}),Re=nt=>nt?Jn(nt)?nt.map(Ve=>Ai(Ve,n.format).locale(s.value)):Ai(nt,n.format).locale(s.value):null,Qe=nt=>nt?Jn(nt)?nt.map(Ve=>Ve.format(n.format)):nt.format(n.format):null,Je=()=>{if(Jn(y))return y.map(Ve=>Ai(Ve).locale(s.value));const nt=Ai(y).locale(s.value);return[nt,nt.add(60,"m")]};return e("set-picker-option",["formatToString",Qe]),e("set-picker-option",["parseUserInput",Re]),e("set-picker-option",["isValidValue",G]),e("set-picker-option",["handleKeydownInput",ne]),e("set-picker-option",["getDefaultValue",Je]),e("set-picker-option",["getRangeAvailableTime",Ee]),(nt,Ve)=>nt.actualVisible?(X(),ve("div",{key:0,class:Se([S(l).b("range-picker"),S(c).b("panel")])},[pe("div",{class:Se(S(l).be("range-picker","content"))},[pe("div",{class:Se(S(l).be("range-picker","cell"))},[pe("div",{class:Se(S(l).be("range-picker","header"))},Cn(S(i)("el.datepicker.startTime")),3),pe("div",{class:Se(S(T))},[ht(JR,{ref:"minSpinner",role:"start","show-seconds":S(N),"am-pm-mode":S(z),"arrow-control":S(f),"spinner-date":S(k),"disabled-hours":ce,"disabled-minutes":ue,"disabled-seconds":ye,onChange:j,onSetOption:S(be),onSelectRange:ee},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),pe("div",{class:Se(S(l).be("range-picker","cell"))},[pe("div",{class:Se(S(l).be("range-picker","header"))},Cn(S(i)("el.datepicker.endTime")),3),pe("div",{class:Se(S(C))},[ht(JR,{ref:"maxSpinner",role:"end","show-seconds":S(N),"am-pm-mode":S(z),"arrow-control":S(f),"spinner-date":S(M),"disabled-hours":ce,"disabled-minutes":ue,"disabled-seconds":ye,onChange:Q,onSetOption:S(be),onSelectRange:J},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),pe("div",{class:Se(S(l).be("panel","footer"))},[pe("button",{type:"button",class:Se([S(l).be("panel","btn"),"cancel"]),onClick:Ve[0]||(Ve[0]=ke=>R())},Cn(S(i)("el.datepicker.cancel")),3),pe("button",{type:"button",class:Se([S(l).be("panel","btn"),"confirm"]),disabled:S(q),onClick:Ve[1]||(Ve[1]=ke=>H())},Cn(S(i)("el.datepicker.confirm")),11,Wze)],2)],2)):bt("v-if",!0)}});var Yze=Fn(qze,[["__file","panel-time-range.vue"]]);Ai.extend($7);var Xze=Be({name:"ElTimePicker",install:null,props:{...V7,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,e){const n=Te(),[r,i]=t.isRange?["timerange",Yze]:["time",y8],s=l=>e.emit("update:modelValue",l);return ki("ElPopperOptions",t.popperOptions),e.expose({focus:l=>{var c;(c=n.value)==null||c.handleFocusInput(l)},blur:l=>{var c;(c=n.value)==null||c.handleBlurInput(l)},handleOpen:()=>{var l;(l=n.value)==null||l.handleOpen()},handleClose:()=>{var l;(l=n.value)==null||l.handleClose()}}),()=>{var l;const c=(l=t.format)!=null?l:HR;return ht(Pse,Xr(t,{ref:n,type:r,format:c,"onUpdate:modelValue":s}),{default:a=>ht(i,a,null)})}}});const cT=Xze;cT.install=t=>{t.component(cT.name,cT)};const Zze=cT,Jze=(t,e)=>{const n=t.subtract(1,"month").endOf("month").date();return i1(e).map((r,i)=>n-(e-i-1))},e$e=t=>{const e=t.daysInMonth();return i1(e).map((n,r)=>r+1)},t$e=t=>i1(t.length/7).map(e=>{const n=e*7;return t.slice(n,n+7)}),n$e=Ln({selectedDay:{type:Rt(Object)},range:{type:Rt(Array)},date:{type:Rt(Object),required:!0},hideHeader:{type:Boolean}}),r$e={pick:t=>mi(t)};var jse={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Fm,function(){return function(n,r,i){var s=r.prototype,l=function(m){return m&&(m.indexOf?m:m.s)},c=function(m,v,y,T,C){var k=m.name?m:m.$locale(),M=l(k[v]),P=l(k[y]),R=M||P.map(function(z){return z.slice(0,T)});if(!C)return R;var N=k.weekStart;return R.map(function(z,H){return R[(H+(N||0))%7]})},a=function(){return i.Ls[i.locale()]},f=function(m,v){return m.formats[v]||function(y){return y.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(T,C,k){return C||k.slice(1)})}(m.formats[v.toUpperCase()])},p=function(){var m=this;return{months:function(v){return v?v.format("MMMM"):c(m,"months")},monthsShort:function(v){return v?v.format("MMM"):c(m,"monthsShort","months",3)},firstDayOfWeek:function(){return m.$locale().weekStart||0},weekdays:function(v){return v?v.format("dddd"):c(m,"weekdays")},weekdaysMin:function(v){return v?v.format("dd"):c(m,"weekdaysMin","weekdays",2)},weekdaysShort:function(v){return v?v.format("ddd"):c(m,"weekdaysShort","weekdays",3)},longDateFormat:function(v){return f(m.$locale(),v)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};s.localeData=function(){return p.bind(this)()},i.localeData=function(){var m=a();return{firstDayOfWeek:function(){return m.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(v){return f(m,v)},meridiem:m.meridiem,ordinal:m.ordinal}},i.months=function(){return c(a(),"months")},i.monthsShort=function(){return c(a(),"monthsShort","months",3)},i.weekdays=function(m){return c(a(),"weekdays",null,null,m)},i.weekdaysShort=function(m){return c(a(),"weekdaysShort","weekdays",3,m)},i.weekdaysMin=function(m){return c(a(),"weekdaysMin","weekdays",2,m)}}})})(jse);var i$e=jse.exports;const Gse=lA(i$e),a$e=(t,e)=>{Ai.extend(Gse);const n=Ai.localeData().firstDayOfWeek(),{t:r,lang:i}=da(),s=Ai().locale(i.value),l=le(()=>!!t.range&&!!t.range.length),c=le(()=>{let v=[];if(l.value){const[y,T]=t.range,C=i1(T.date()-y.date()+1).map(P=>({text:y.date()+P,type:"current"}));let k=C.length%7;k=k===0?0:7-k;const M=i1(k).map((P,R)=>({text:R+1,type:"next"}));v=C.concat(M)}else{const y=t.date.startOf("month").day(),T=Jze(t.date,(y-n+7)%7).map(P=>({text:P,type:"prev"})),C=e$e(t.date).map(P=>({text:P,type:"current"}));v=[...T,...C];const k=7-(v.length%7||7),M=i1(k).map((P,R)=>({text:R+1,type:"next"}));v=v.concat(M)}return t$e(v)}),a=le(()=>{const v=n;return v===0?Ck.map(y=>r(`el.datepicker.weeks.${y}`)):Ck.slice(v).concat(Ck.slice(0,v)).map(y=>r(`el.datepicker.weeks.${y}`))}),f=(v,y)=>{switch(y){case"prev":return t.date.startOf("month").subtract(1,"month").date(v);case"next":return t.date.startOf("month").add(1,"month").date(v);case"current":return t.date.date(v)}};return{now:s,isInRange:l,rows:c,weekDays:a,getFormattedDate:f,handlePickDay:({text:v,type:y})=>{const T=f(v,y);e("pick",T)},getSlotData:({text:v,type:y})=>{const T=f(v,y);return{isSelected:T.isSame(t.selectedDay),type:`${y}-month`,day:T.format("YYYY-MM-DD"),date:T.toDate()}}}},s$e={key:0},o$e=["onClick"],l$e=Be({name:"DateTable"}),u$e=Be({...l$e,props:n$e,emits:r$e,setup(t,{expose:e,emit:n}){const r=t,{isInRange:i,now:s,rows:l,weekDays:c,getFormattedDate:a,handlePickDay:f,getSlotData:p}=a$e(r,n),m=vn("calendar-table"),v=vn("calendar-day"),y=({text:T,type:C})=>{const k=[C];if(C==="current"){const M=a(T,C);M.isSame(r.selectedDay,"day")&&k.push(v.is("selected")),M.isSame(s,"day")&&k.push(v.is("today"))}return k};return e({getFormattedDate:a}),(T,C)=>(X(),ve("table",{class:Se([S(m).b(),S(m).is("range",S(i))]),cellspacing:"0",cellpadding:"0"},[T.hideHeader?bt("v-if",!0):(X(),ve("thead",s$e,[(X(!0),ve(Vn,null,Yr(S(c),k=>(X(),ve("th",{key:k},Cn(k),1))),128))])),pe("tbody",null,[(X(!0),ve(Vn,null,Yr(S(l),(k,M)=>(X(),ve("tr",{key:M,class:Se({[S(m).e("row")]:!0,[S(m).em("row","hide-border")]:M===0&&T.hideHeader})},[(X(!0),ve(Vn,null,Yr(k,(P,R)=>(X(),ve("td",{key:R,class:Se(y(P)),onClick:N=>S(f)(P)},[pe("div",{class:Se(S(v).b())},[Ft(T.$slots,"date-cell",{data:S(p)(P)},()=>[pe("span",null,Cn(P.text),1)])],2)],10,o$e))),128))],2))),128))])],2))}});var mq=Fn(u$e,[["__file","date-table.vue"]]);const c$e=(t,e)=>{const n=t.endOf("month"),r=e.startOf("month"),s=n.isSame(r,"week")?r.add(1,"week"):r;return[[t,n],[s.startOf("week"),e]]},h$e=(t,e)=>{const n=t.endOf("month"),r=t.add(1,"month").startOf("month"),i=n.isSame(r,"week")?r.add(1,"week"):r,s=i.endOf("month"),l=e.startOf("month"),c=s.isSame(l,"week")?l.add(1,"week"):l;return[[t,n],[i.startOf("week"),s],[c.startOf("week"),e]]},d$e=(t,e,n)=>{const{lang:r}=da(),i=Te(),s=Ai().locale(r.value),l=le({get(){return t.modelValue?a.value:i.value},set(k){if(!k)return;i.value=k;const M=k.toDate();e(lh,M),e(_i,M)}}),c=le(()=>{if(!t.range)return[];const k=t.range.map(R=>Ai(R).locale(r.value)),[M,P]=k;return M.isAfter(P)?[]:M.isSame(P,"month")?y(M,P):M.add(1,"month").month()!==P.month()?[]:y(M,P)}),a=le(()=>t.modelValue?Ai(t.modelValue).locale(r.value):l.value||(c.value.length?c.value[0][0]:s)),f=le(()=>a.value.subtract(1,"month").date(1)),p=le(()=>a.value.add(1,"month").date(1)),m=le(()=>a.value.subtract(1,"year").date(1)),v=le(()=>a.value.add(1,"year").date(1)),y=(k,M)=>{const P=k.startOf("week"),R=M.endOf("week"),N=P.get("month"),z=R.get("month");return N===z?[[P,R]]:(N+1)%12===z?c$e(P,R):N+2===z||(N+1)%11===z?h$e(P,R):[]},T=k=>{l.value=k};return{calculateValidatedDateRange:y,date:a,realSelectedDay:l,pickDay:T,selectDate:k=>{const P={"prev-month":f.value,"next-month":p.value,"prev-year":m.value,"next-year":v.value,today:s}[k];P.isSame(a.value,"day")||T(P)},validatedRange:c}},f$e=t=>Jn(t)&&t.length===2&&t.every(e=>_y(e)),p$e=Ln({modelValue:{type:Date},range:{type:Rt(Array),validator:f$e}}),A$e={[_i]:t=>_y(t),[lh]:t=>_y(t)},m$e="ElCalendar",g$e=Be({name:m$e}),v$e=Be({...g$e,props:p$e,emits:A$e,setup(t,{expose:e,emit:n}){const r=t,i=vn("calendar"),{calculateValidatedDateRange:s,date:l,pickDay:c,realSelectedDay:a,selectDate:f,validatedRange:p}=d$e(r,n),{t:m}=da(),v=le(()=>{const y=`el.datepicker.month${l.value.format("M")}`;return`${l.value.year()} ${m("el.datepicker.year")} ${m(y)}`});return e({selectedDay:a,pickDay:c,selectDate:f,calculateValidatedDateRange:s}),(y,T)=>(X(),ve("div",{class:Se(S(i).b())},[pe("div",{class:Se(S(i).e("header"))},[Ft(y.$slots,"header",{date:S(v)},()=>[pe("div",{class:Se(S(i).e("title"))},Cn(S(v)),3),S(p).length===0?(X(),ve("div",{key:0,class:Se(S(i).e("button-group"))},[ht(S(Sse),null,{default:xt(()=>[ht(S(Eu),{size:"small",onClick:T[0]||(T[0]=C=>S(f)("prev-month"))},{default:xt(()=>[xi(Cn(S(m)("el.datepicker.prevMonth")),1)]),_:1}),ht(S(Eu),{size:"small",onClick:T[1]||(T[1]=C=>S(f)("today"))},{default:xt(()=>[xi(Cn(S(m)("el.datepicker.today")),1)]),_:1}),ht(S(Eu),{size:"small",onClick:T[2]||(T[2]=C=>S(f)("next-month"))},{default:xt(()=>[xi(Cn(S(m)("el.datepicker.nextMonth")),1)]),_:1})]),_:1})],2)):bt("v-if",!0)])],2),S(p).length===0?(X(),ve("div",{key:0,class:Se(S(i).e("body"))},[ht(mq,{date:S(l),"selected-day":S(a),onPick:S(c)},Uo({_:2},[y.$slots["date-cell"]?{name:"date-cell",fn:xt(C=>[Ft(y.$slots,"date-cell",ho(ou(C)))])}:void 0]),1032,["date","selected-day","onPick"])],2)):(X(),ve("div",{key:1,class:Se(S(i).e("body"))},[(X(!0),ve(Vn,null,Yr(S(p),(C,k)=>(X(),Ut(mq,{key:k,date:C[0],"selected-day":S(a),range:C,"hide-header":k!==0,onPick:S(c)},Uo({_:2},[y.$slots["date-cell"]?{name:"date-cell",fn:xt(M=>[Ft(y.$slots,"date-cell",ho(ou(M)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var _$e=Fn(v$e,[["__file","calendar.vue"]]);const y$e=pi(_$e),b$e=Ln({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:Rt([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),w$e=Be({name:"ElCard"}),x$e=Be({...w$e,props:b$e,setup(t){const e=vn("card");return(n,r)=>(X(),ve("div",{class:Se([S(e).b(),S(e).is(`${n.shadow}-shadow`)])},[n.$slots.header||n.header?(X(),ve("div",{key:0,class:Se(S(e).e("header"))},[Ft(n.$slots,"header",{},()=>[xi(Cn(n.header),1)])],2)):bt("v-if",!0),pe("div",{class:Se([S(e).e("body"),n.bodyClass]),style:or(n.bodyStyle)},[Ft(n.$slots,"default")],6),n.$slots.footer||n.footer?(X(),ve("div",{key:1,class:Se(S(e).e("footer"))},[Ft(n.$slots,"footer",{},()=>[xi(Cn(n.footer),1)])],2)):bt("v-if",!0)],2))}});var C$e=Fn(x$e,[["__file","card.vue"]]);const E$e=pi(C$e),S$e=Ln({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:{type:Boolean,default:!1}}),T$e={change:(t,e)=>[t,e].every(Or)},Kse=Symbol("carouselContextKey"),gq=300,B$e=(t,e,n)=>{const{children:r,addChild:i,removeChild:s}=F7(ci(),"ElCarouselItem"),l=To(),c=Te(-1),a=Te(null),f=Te(!1),p=Te(),m=Te(0),v=Te(!0),y=Te(!0),T=Te(!1),C=le(()=>t.arrow!=="never"&&!S(P)),k=le(()=>r.value.some(Le=>Le.props.label.toString().length>0)),M=le(()=>t.type==="card"),P=le(()=>t.direction==="vertical"),R=le(()=>t.height!=="auto"?{height:t.height}:{height:`${m.value}px`,overflow:"hidden"}),N=sy(Le=>{ie(Le)},gq,{trailing:!0}),z=sy(Le=>{ue(Le)},gq),H=Le=>v.value?c.value<=1?Le<=1:Le>1:!0;function j(){a.value&&(clearInterval(a.value),a.value=null)}function Q(){t.interval<=0||!t.autoplay||a.value||(a.value=setInterval(()=>G(),t.interval))}const G=()=>{y.value||(T.value=!0),y.value=!1,c.value<r.value.length-1?c.value=c.value+1:t.loop&&(c.value=0)};function ie(Le){if(y.value||(T.value=!0),y.value=!1,Hr(Le)){const Qe=r.value.filter(Je=>Je.props.name===Le);Qe.length>0&&(Le=r.value.indexOf(Qe[0]))}if(Le=Number(Le),Number.isNaN(Le)||Le!==Math.floor(Le))return;const be=r.value.length,Re=c.value;Le<0?c.value=t.loop?be-1:0:Le>=be?c.value=t.loop?0:be-1:c.value=Le,Re===c.value&&q(Re),se()}function q(Le){r.value.forEach((be,Re)=>{be.translateItem(Re,c.value,Le)})}function W(Le,be){var Re,Qe,Je,nt;const Ve=S(r),ke=Ve.length;if(ke===0||!Le.states.inStage)return!1;const Ge=be+1,Ne=be-1,je=ke-1,Ye=Ve[je].states.active,vt=Ve[0].states.active,Lt=(Qe=(Re=Ve[Ge])==null?void 0:Re.states)==null?void 0:Qe.active,Et=(nt=(Je=Ve[Ne])==null?void 0:Je.states)==null?void 0:nt.active;return be===je&&vt||Lt?"left":be===0&&Ye||Et?"right":!1}function ee(){f.value=!0,t.pauseOnHover&&j()}function he(){f.value=!1,Q()}function J(){T.value=!1}function te(Le){S(P)||r.value.forEach((be,Re)=>{Le===W(be,Re)&&(be.states.hover=!0)})}function ne(){S(P)||r.value.forEach(Le=>{Le.states.hover=!1})}function ce(Le){Le!==c.value&&(y.value||(T.value=!0)),c.value=Le}function ue(Le){t.trigger==="hover"&&Le!==c.value&&(c.value=Le,y.value||(T.value=!0))}function ye(){ie(c.value-1)}function Ee(){ie(c.value+1)}function se(){j(),t.pauseOnHover||Q()}function oe(Le){t.height==="auto"&&(m.value=Le)}function _e(){var Le;const be=(Le=l.default)==null?void 0:Le.call(l);if(!be)return null;const Re=r1(be),Qe="ElCarouselItem",Je=Re.filter(nt=>Ks(nt)&&nt.type.name===Qe);return(Je==null?void 0:Je.length)===2&&t.loop&&!M.value?(v.value=!0,Je):(v.value=!1,null)}ln(()=>c.value,(Le,be)=>{q(be),v.value&&(Le=Le%2,be=be%2),be>-1&&e("change",Le,be)}),ln(()=>t.autoplay,Le=>{Le?Q():j()}),ln(()=>t.loop,()=>{ie(c.value)}),ln(()=>t.interval,()=>{se()});const Ue=vs();return Fr(()=>{ln(()=>r.value,()=>{r.value.length>0&&ie(t.initialIndex)},{immediate:!0}),Ue.value=no(p.value,()=>{q()}),Q()}),ps(()=>{j(),p.value&&Ue.value&&Ue.value.stop()}),ki(Kse,{root:p,isCardType:M,isVertical:P,items:r,loop:t.loop,addItem:i,removeItem:s,setActiveItem:ie,setContainerHeight:oe}),{root:p,activeIndex:c,arrowDisplay:C,hasLabel:k,hover:f,isCardType:M,isTransitioning:T,items:r,isVertical:P,containerStyle:R,isItemsTwoLength:v,handleButtonEnter:te,handleTransitionEnd:J,handleButtonLeave:ne,handleIndicatorClick:ce,handleMouseEnter:ee,handleMouseLeave:he,setActiveItem:ie,prev:ye,next:Ee,PlaceholderItem:_e,isTwoLengthShow:H,throttledArrowClick:N,throttledIndicatorHover:z}},M$e=["aria-label"],I$e=["aria-label"],L$e=["onMouseenter","onClick"],k$e=["aria-label"],P$e={key:0},F$e={key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},R$e=pe("defs",null,[pe("filter",{id:"elCarouselHorizontal"},[pe("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),pe("filter",{id:"elCarouselVertical"},[pe("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])],-1),O$e=[R$e],D$e="ElCarousel",N$e=Be({name:D$e}),U$e=Be({...N$e,props:S$e,emits:T$e,setup(t,{expose:e,emit:n}){const r=t,{root:i,activeIndex:s,arrowDisplay:l,hasLabel:c,hover:a,isCardType:f,items:p,isVertical:m,containerStyle:v,handleButtonEnter:y,handleButtonLeave:T,isTransitioning:C,handleIndicatorClick:k,handleMouseEnter:M,handleMouseLeave:P,handleTransitionEnd:R,setActiveItem:N,prev:z,next:H,PlaceholderItem:j,isTwoLengthShow:Q,throttledArrowClick:G,throttledIndicatorHover:ie}=B$e(r,n),q=vn("carousel"),{t:W}=da(),ee=le(()=>{const te=[q.b(),q.m(r.direction)];return S(f)&&te.push(q.m("card")),te}),he=le(()=>{const te=[q.e("container")];return r.motionBlur&&S(C)&&te.push(S(m)?`${q.namespace.value}-transitioning-vertical`:`${q.namespace.value}-transitioning`),te}),J=le(()=>{const te=[q.e("indicators"),q.em("indicators",r.direction)];return S(c)&&te.push(q.em("indicators","labels")),r.indicatorPosition==="outside"&&te.push(q.em("indicators","outside")),S(m)&&te.push(q.em("indicators","right")),te});return e({setActiveItem:N,prev:z,next:H}),(te,ne)=>(X(),ve("div",{ref_key:"root",ref:i,class:Se(S(ee)),onMouseenter:ne[7]||(ne[7]=Pr((...ce)=>S(M)&&S(M)(...ce),["stop"])),onMouseleave:ne[8]||(ne[8]=Pr((...ce)=>S(P)&&S(P)(...ce),["stop"]))},[S(l)?(X(),Ut(fo,{key:0,name:"carousel-arrow-left",persisted:""},{default:xt(()=>[Jr(pe("button",{type:"button",class:Se([S(q).e("arrow"),S(q).em("arrow","left")]),"aria-label":S(W)("el.carousel.leftArrow"),onMouseenter:ne[0]||(ne[0]=ce=>S(y)("left")),onMouseleave:ne[1]||(ne[1]=(...ce)=>S(T)&&S(T)(...ce)),onClick:ne[2]||(ne[2]=Pr(ce=>S(G)(S(s)-1),["stop"]))},[ht(S(Ar),null,{default:xt(()=>[ht(S(o0))]),_:1})],42,M$e),[[ca,(te.arrow==="always"||S(a))&&(r.loop||S(s)>0)]])]),_:1})):bt("v-if",!0),S(l)?(X(),Ut(fo,{key:1,name:"carousel-arrow-right",persisted:""},{default:xt(()=>[Jr(pe("button",{type:"button",class:Se([S(q).e("arrow"),S(q).em("arrow","right")]),"aria-label":S(W)("el.carousel.rightArrow"),onMouseenter:ne[3]||(ne[3]=ce=>S(y)("right")),onMouseleave:ne[4]||(ne[4]=(...ce)=>S(T)&&S(T)(...ce)),onClick:ne[5]||(ne[5]=Pr(ce=>S(G)(S(s)+1),["stop"]))},[ht(S(Ar),null,{default:xt(()=>[ht(S(Vc))]),_:1})],42,I$e),[[ca,(te.arrow==="always"||S(a))&&(r.loop||S(s)<S(p).length-1)]])]),_:1})):bt("v-if",!0),pe("div",{class:Se(S(he)),style:or(S(v)),onTransitionend:ne[6]||(ne[6]=(...ce)=>S(R)&&S(R)(...ce))},[ht(S(j)),Ft(te.$slots,"default")],38),te.indicatorPosition!=="none"?(X(),ve("ul",{key:2,class:Se(S(J))},[(X(!0),ve(Vn,null,Yr(S(p),(ce,ue)=>Jr((X(),ve("li",{key:ue,class:Se([S(q).e("indicator"),S(q).em("indicator",te.direction),S(q).is("active",ue===S(s))]),onMouseenter:ye=>S(ie)(ue),onClick:Pr(ye=>S(k)(ue),["stop"])},[pe("button",{class:Se(S(q).e("button")),"aria-label":S(W)("el.carousel.indicator",{index:ue+1})},[S(c)?(X(),ve("span",P$e,Cn(ce.props.label),1)):bt("v-if",!0)],10,k$e)],42,L$e)),[[ca,S(Q)(ue)]])),128))],2)):bt("v-if",!0),r.motionBlur?(X(),ve("svg",F$e,O$e)):bt("v-if",!0)],34))}});var z$e=Fn(U$e,[["__file","carousel.vue"]]);const $$e=Ln({name:{type:String,default:""},label:{type:[String,Number],default:""}}),V$e=(t,e)=>{const n=ar(Kse),r=ci(),i=.83,s=Te(),l=Te(!1),c=Te(0),a=Te(1),f=Te(!1),p=Te(!1),m=Te(!1),v=Te(!1),{isCardType:y,isVertical:T}=n;function C(N,z,H){const j=H-1,Q=z-1,G=z+1,ie=H/2;return z===0&&N===j?-1:z===j&&N===0?H:N<Q&&z-N>=ie?H+1:N>G&&N-z>=ie?-2:N}function k(N,z){var H,j;const Q=S(T)?((H=n.root.value)==null?void 0:H.offsetHeight)||0:((j=n.root.value)==null?void 0:j.offsetWidth)||0;return m.value?Q*((2-i)*(N-z)+1)/4:N<z?-(1+i)*Q/4:(3+i)*Q/4}function M(N,z,H){const j=n.root.value;return j?((H?j.offsetHeight:j.offsetWidth)||0)*(N-z):0}const P=(N,z,H)=>{var j;const Q=S(y),G=(j=n.items.value.length)!=null?j:Number.NaN,ie=N===z;!Q&&!Zo(H)&&(v.value=ie||N===H),!ie&&G>2&&n.loop&&(N=C(N,z,G));const q=S(T);f.value=ie,Q?(m.value=Math.round(Math.abs(N-z))<=1,c.value=k(N,z),a.value=S(f)?1:i):c.value=M(N,z,q),p.value=!0,ie&&s.value&&n.setContainerHeight(s.value.offsetHeight)};function R(){if(n&&S(y)){const N=n.items.value.findIndex(({uid:z})=>z===r.uid);n.setActiveItem(N)}}return Fr(()=>{n.addItem({props:t,states:ha({hover:l,translate:c,scale:a,active:f,ready:p,inStage:m,animating:v}),uid:r.uid,translateItem:P})}),Hf(()=>{n.removeItem(r.uid)}),{carouselItemRef:s,active:f,animating:v,hover:l,inStage:m,isVertical:T,translate:c,isCardType:y,scale:a,ready:p,handleItemClick:R}},H$e=Be({name:"ElCarouselItem"}),Q$e=Be({...H$e,props:$$e,setup(t){const e=t,n=vn("carousel"),{carouselItemRef:r,active:i,animating:s,hover:l,inStage:c,isVertical:a,translate:f,isCardType:p,scale:m,ready:v,handleItemClick:y}=V$e(e),T=le(()=>[n.e("item"),n.is("active",i.value),n.is("in-stage",c.value),n.is("hover",l.value),n.is("animating",s.value),{[n.em("item","card")]:p.value,[n.em("item","card-vertical")]:p.value&&a.value}]),C=le(()=>{const M=`${`translate${S(a)?"Y":"X"}`}(${S(f)}px)`,P=`scale(${S(m)})`;return{transform:[M,P].join(" ")}});return(k,M)=>Jr((X(),ve("div",{ref_key:"carouselItemRef",ref:r,class:Se(S(T)),style:or(S(C)),onClick:M[0]||(M[0]=(...P)=>S(y)&&S(y)(...P))},[S(p)?Jr((X(),ve("div",{key:0,class:Se(S(n).e("mask"))},null,2)),[[ca,!S(i)]]):bt("v-if",!0),Ft(k.$slots,"default")],6)),[[ca,S(v)]])}});var Wse=Fn(Q$e,[["__file","carousel-item.vue"]]);const j$e=pi(z$e,{CarouselItem:Wse}),G$e=ao(Wse),qse={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:lu,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...Wu(["ariaControls"])},Yse={[_i]:t=>Hr(t)||Or(t)||Jo(t),change:t=>Hr(t)||Or(t)||Jo(t)},ox=Symbol("checkboxGroupContextKey"),K$e=({model:t,isChecked:e})=>{const n=ar(ox,void 0),r=le(()=>{var s,l;const c=(s=n==null?void 0:n.max)==null?void 0:s.value,a=(l=n==null?void 0:n.min)==null?void 0:l.value;return!Zo(c)&&t.value.length>=c&&!e.value||!Zo(a)&&t.value.length<=a&&e.value});return{isDisabled:fh(le(()=>(n==null?void 0:n.disabled.value)||r.value)),isLimitDisabled:r}},W$e=(t,{model:e,isLimitExceeded:n,hasOwnLabel:r,isDisabled:i,isLabeledByFormItem:s})=>{const l=ar(ox,void 0),{formItem:c}=Qc(),{emit:a}=ci();function f(T){var C,k,M,P;return[!0,t.trueValue,t.trueLabel].includes(T)?(k=(C=t.trueValue)!=null?C:t.trueLabel)!=null?k:!0:(P=(M=t.falseValue)!=null?M:t.falseLabel)!=null?P:!1}function p(T,C){a("change",f(T),C)}function m(T){if(n.value)return;const C=T.target;a("change",f(C.checked),T)}async function v(T){n.value||!r.value&&!i.value&&s.value&&(T.composedPath().some(M=>M.tagName==="LABEL")||(e.value=f([!1,t.falseValue,t.falseLabel].includes(e.value)),await dr(),p(e.value,T)))}const y=le(()=>(l==null?void 0:l.validateEvent)||t.validateEvent);return ln(()=>t.modelValue,()=>{y.value&&(c==null||c.validate("change").catch(T=>void 0))}),{handleChange:m,onClickRoot:v}},q$e=t=>{const e=Te(!1),{emit:n}=ci(),r=ar(ox,void 0),i=le(()=>Zo(r)===!1),s=Te(!1),l=le({get(){var c,a;return i.value?(c=r==null?void 0:r.modelValue)==null?void 0:c.value:(a=t.modelValue)!=null?a:e.value},set(c){var a,f;i.value&&Jn(c)?(s.value=((a=r==null?void 0:r.max)==null?void 0:a.value)!==void 0&&c.length>(r==null?void 0:r.max.value)&&c.length>l.value.length,s.value===!1&&((f=r==null?void 0:r.changeEvent)==null||f.call(r,c))):(n(_i,c),e.value=c)}});return{model:l,isGroup:i,isLimitExceeded:s}},Y$e=(t,e,{model:n})=>{const r=ar(ox,void 0),i=Te(!1),s=le(()=>wy(t.value)?t.label:t.value),l=le(()=>{const p=n.value;return Jo(p)?p:Jn(p)?mi(s.value)?p.map(Ka).some(m=>zc(m,s.value)):p.map(Ka).includes(s.value):p!=null?p===t.trueValue||p===t.trueLabel:!!p}),c=ml(le(()=>{var p;return(p=r==null?void 0:r.size)==null?void 0:p.value}),{prop:!0}),a=ml(le(()=>{var p;return(p=r==null?void 0:r.size)==null?void 0:p.value})),f=le(()=>!!e.default||!wy(s.value));return{checkboxButtonSize:c,isChecked:l,isFocused:i,checkboxSize:a,hasOwnLabel:f,actualValue:s}},Xse=(t,e)=>{const{formItem:n}=Qc(),{model:r,isGroup:i,isLimitExceeded:s}=q$e(t),{isFocused:l,isChecked:c,checkboxButtonSize:a,checkboxSize:f,hasOwnLabel:p,actualValue:m}=Y$e(t,e,{model:r}),{isDisabled:v}=K$e({model:r,isChecked:c}),{inputId:y,isLabeledByFormItem:T}=dA(t,{formItemContext:n,disableIdGeneration:p,disableIdManagement:i}),{handleChange:C,onClickRoot:k}=W$e(t,{model:r,isLimitExceeded:s,hasOwnLabel:p,isDisabled:v,isLabeledByFormItem:T});return(()=>{function P(){var R,N;Jn(r.value)&&!r.value.includes(m.value)?r.value.push(m.value):r.value=(N=(R=t.trueValue)!=null?R:t.trueLabel)!=null?N:!0}t.checked&&P()})(),wu({from:"controls",replacement:"aria-controls",version:"2.8.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},le(()=>!!t.controls)),wu({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},le(()=>i.value&&wy(t.value))),wu({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},le(()=>!!t.trueLabel)),wu({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},le(()=>!!t.falseLabel)),{inputId:y,isLabeledByFormItem:T,isChecked:c,isDisabled:v,isFocused:l,checkboxButtonSize:a,checkboxSize:f,hasOwnLabel:p,model:r,actualValue:m,handleChange:C,onClickRoot:k}},X$e=["id","indeterminate","name","tabindex","disabled","true-value","false-value"],Z$e=["id","indeterminate","disabled","value","name","tabindex"],J$e=Be({name:"ElCheckbox"}),eVe=Be({...J$e,props:qse,emits:Yse,setup(t){const e=t,n=To(),{inputId:r,isLabeledByFormItem:i,isChecked:s,isDisabled:l,isFocused:c,checkboxSize:a,hasOwnLabel:f,model:p,actualValue:m,handleChange:v,onClickRoot:y}=Xse(e,n),T=vn("checkbox"),C=le(()=>[T.b(),T.m(a.value),T.is("disabled",l.value),T.is("bordered",e.border),T.is("checked",s.value)]),k=le(()=>[T.e("input"),T.is("disabled",l.value),T.is("checked",s.value),T.is("indeterminate",e.indeterminate),T.is("focus",c.value)]);return(M,P)=>(X(),Ut(fi(!S(f)&&S(i)?"span":"label"),{class:Se(S(C)),"aria-controls":M.indeterminate?M.controls||M.ariaControls:null,onClick:S(y)},{default:xt(()=>{var R,N;return[pe("span",{class:Se(S(k))},[M.trueValue||M.falseValue||M.trueLabel||M.falseLabel?Jr((X(),ve("input",{key:0,id:S(r),"onUpdate:modelValue":P[0]||(P[0]=z=>fs(p)?p.value=z:null),class:Se(S(T).e("original")),type:"checkbox",indeterminate:M.indeterminate,name:M.name,tabindex:M.tabindex,disabled:S(l),"true-value":(R=M.trueValue)!=null?R:M.trueLabel,"false-value":(N=M.falseValue)!=null?N:M.falseLabel,onChange:P[1]||(P[1]=(...z)=>S(v)&&S(v)(...z)),onFocus:P[2]||(P[2]=z=>c.value=!0),onBlur:P[3]||(P[3]=z=>c.value=!1),onClick:P[4]||(P[4]=Pr(()=>{},["stop"]))},null,42,X$e)),[[s8,S(p)]]):Jr((X(),ve("input",{key:1,id:S(r),"onUpdate:modelValue":P[5]||(P[5]=z=>fs(p)?p.value=z:null),class:Se(S(T).e("original")),type:"checkbox",indeterminate:M.indeterminate,disabled:S(l),value:S(m),name:M.name,tabindex:M.tabindex,onChange:P[6]||(P[6]=(...z)=>S(v)&&S(v)(...z)),onFocus:P[7]||(P[7]=z=>c.value=!0),onBlur:P[8]||(P[8]=z=>c.value=!1),onClick:P[9]||(P[9]=Pr(()=>{},["stop"]))},null,42,Z$e)),[[s8,S(p)]]),pe("span",{class:Se(S(T).e("inner"))},null,2)],2),S(f)?(X(),ve("span",{key:0,class:Se(S(T).e("label"))},[Ft(M.$slots,"default"),M.$slots.default?bt("v-if",!0):(X(),ve(Vn,{key:0},[xi(Cn(M.label),1)],64))],2)):bt("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var tVe=Fn(eVe,[["__file","checkbox.vue"]]);const nVe=["name","tabindex","disabled","true-value","false-value"],rVe=["name","tabindex","disabled","value"],iVe=Be({name:"ElCheckboxButton"}),aVe=Be({...iVe,props:qse,emits:Yse,setup(t){const e=t,n=To(),{isFocused:r,isChecked:i,isDisabled:s,checkboxButtonSize:l,model:c,actualValue:a,handleChange:f}=Xse(e,n),p=ar(ox,void 0),m=vn("checkbox"),v=le(()=>{var T,C,k,M;const P=(C=(T=p==null?void 0:p.fill)==null?void 0:T.value)!=null?C:"";return{backgroundColor:P,borderColor:P,color:(M=(k=p==null?void 0:p.textColor)==null?void 0:k.value)!=null?M:"",boxShadow:P?`-1px 0 0 0 ${P}`:void 0}}),y=le(()=>[m.b("button"),m.bm("button",l.value),m.is("disabled",s.value),m.is("checked",i.value),m.is("focus",r.value)]);return(T,C)=>{var k,M;return X(),ve("label",{class:Se(S(y))},[T.trueValue||T.falseValue||T.trueLabel||T.falseLabel?Jr((X(),ve("input",{key:0,"onUpdate:modelValue":C[0]||(C[0]=P=>fs(c)?c.value=P:null),class:Se(S(m).be("button","original")),type:"checkbox",name:T.name,tabindex:T.tabindex,disabled:S(s),"true-value":(k=T.trueValue)!=null?k:T.trueLabel,"false-value":(M=T.falseValue)!=null?M:T.falseLabel,onChange:C[1]||(C[1]=(...P)=>S(f)&&S(f)(...P)),onFocus:C[2]||(C[2]=P=>r.value=!0),onBlur:C[3]||(C[3]=P=>r.value=!1),onClick:C[4]||(C[4]=Pr(()=>{},["stop"]))},null,42,nVe)),[[s8,S(c)]]):Jr((X(),ve("input",{key:1,"onUpdate:modelValue":C[5]||(C[5]=P=>fs(c)?c.value=P:null),class:Se(S(m).be("button","original")),type:"checkbox",name:T.name,tabindex:T.tabindex,disabled:S(s),value:S(a),onChange:C[6]||(C[6]=(...P)=>S(f)&&S(f)(...P)),onFocus:C[7]||(C[7]=P=>r.value=!0),onBlur:C[8]||(C[8]=P=>r.value=!1),onClick:C[9]||(C[9]=Pr(()=>{},["stop"]))},null,42,rVe)),[[s8,S(c)]]),T.$slots.default||T.label?(X(),ve("span",{key:2,class:Se(S(m).be("button","inner")),style:or(S(i)?S(v):void 0)},[Ft(T.$slots,"default",{},()=>[xi(Cn(T.label),1)])],6)):bt("v-if",!0)],2)}}});var Zse=Fn(aVe,[["__file","checkbox-button.vue"]]);const sVe=Ln({modelValue:{type:Rt(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:lu,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},...Wu(["ariaLabel"])}),oVe={[_i]:t=>Jn(t),change:t=>Jn(t)},lVe=Be({name:"ElCheckboxGroup"}),uVe=Be({...lVe,props:sVe,emits:oVe,setup(t,{emit:e}){const n=t,r=vn("checkbox"),{formItem:i}=Qc(),{inputId:s,isLabeledByFormItem:l}=dA(n,{formItemContext:i}),c=async f=>{e(_i,f),await dr(),e("change",f)},a=le({get(){return n.modelValue},set(f){c(f)}});return ki(ox,{...om(Gu(n),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:a,changeEvent:c}),wu({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-checkbox-group",ref:"https://element-plus.org/en-US/component/checkbox.html"},le(()=>!!n.label)),ln(()=>n.modelValue,()=>{n.validateEvent&&(i==null||i.validate("change").catch(f=>void 0))}),(f,p)=>{var m;return X(),Ut(fi(f.tag),{id:S(s),class:Se(S(r).b("group")),role:"group","aria-label":S(l)?void 0:f.label||f.ariaLabel||"checkbox-group","aria-labelledby":S(l)?(m=S(i))==null?void 0:m.labelId:void 0},{default:xt(()=>[Ft(f.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var Jse=Fn(uVe,[["__file","checkbox-group.vue"]]);const Nf=pi(tVe,{CheckboxButton:Zse,CheckboxGroup:Jse}),cVe=ao(Zse),eoe=ao(Jse),toe=Ln({modelValue:{type:[String,Number,Boolean],default:void 0},size:lu,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),hVe=Ln({...toe,border:Boolean}),noe={[_i]:t=>Hr(t)||Or(t)||Jo(t),[bs]:t=>Hr(t)||Or(t)||Jo(t)},roe=Symbol("radioGroupKey"),ioe=(t,e)=>{const n=Te(),r=ar(roe,void 0),i=le(()=>!!r),s=le(()=>wy(t.value)?t.label:t.value),l=le({get(){return i.value?r.modelValue:t.modelValue},set(m){i.value?r.changeEvent(m):e&&e(_i,m),n.value.checked=t.modelValue===s.value}}),c=ml(le(()=>r==null?void 0:r.size)),a=fh(le(()=>r==null?void 0:r.disabled)),f=Te(!1),p=le(()=>a.value||i.value&&l.value!==s.value?-1:0);return wu({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},le(()=>i.value&&wy(t.value))),{radioRef:n,isGroup:i,radioGroup:r,focus:f,size:c,disabled:a,tabIndex:p,modelValue:l,actualValue:s}},dVe=["value","name","disabled"],fVe=Be({name:"ElRadio"}),pVe=Be({...fVe,props:hVe,emits:noe,setup(t,{emit:e}){const n=t,r=vn("radio"),{radioRef:i,radioGroup:s,focus:l,size:c,disabled:a,modelValue:f,actualValue:p}=ioe(n,e);function m(){dr(()=>e("change",f.value))}return(v,y)=>{var T;return X(),ve("label",{class:Se([S(r).b(),S(r).is("disabled",S(a)),S(r).is("focus",S(l)),S(r).is("bordered",v.border),S(r).is("checked",S(f)===S(p)),S(r).m(S(c))])},[pe("span",{class:Se([S(r).e("input"),S(r).is("disabled",S(a)),S(r).is("checked",S(f)===S(p))])},[Jr(pe("input",{ref_key:"radioRef",ref:i,"onUpdate:modelValue":y[0]||(y[0]=C=>fs(f)?f.value=C:null),class:Se(S(r).e("original")),value:S(p),name:v.name||((T=S(s))==null?void 0:T.name),disabled:S(a),type:"radio",onFocus:y[1]||(y[1]=C=>l.value=!0),onBlur:y[2]||(y[2]=C=>l.value=!1),onChange:m,onClick:y[3]||(y[3]=Pr(()=>{},["stop"]))},null,42,dVe),[[qne,S(f)]]),pe("span",{class:Se(S(r).e("inner"))},null,2)],2),pe("span",{class:Se(S(r).e("label")),onKeydown:y[4]||(y[4]=Pr(()=>{},["stop"]))},[Ft(v.$slots,"default",{},()=>[xi(Cn(v.label),1)])],34)],2)}}});var AVe=Fn(pVe,[["__file","radio.vue"]]);const mVe=Ln({...toe}),gVe=["value","name","disabled"],vVe=Be({name:"ElRadioButton"}),_Ve=Be({...vVe,props:mVe,setup(t){const e=t,n=vn("radio"),{radioRef:r,focus:i,size:s,disabled:l,modelValue:c,radioGroup:a,actualValue:f}=ioe(e),p=le(()=>({backgroundColor:(a==null?void 0:a.fill)||"",borderColor:(a==null?void 0:a.fill)||"",boxShadow:a!=null&&a.fill?`-1px 0 0 0 ${a.fill}`:"",color:(a==null?void 0:a.textColor)||""}));return(m,v)=>{var y;return X(),ve("label",{class:Se([S(n).b("button"),S(n).is("active",S(c)===S(f)),S(n).is("disabled",S(l)),S(n).is("focus",S(i)),S(n).bm("button",S(s))])},[Jr(pe("input",{ref_key:"radioRef",ref:r,"onUpdate:modelValue":v[0]||(v[0]=T=>fs(c)?c.value=T:null),class:Se(S(n).be("button","original-radio")),value:S(f),type:"radio",name:m.name||((y=S(a))==null?void 0:y.name),disabled:S(l),onFocus:v[1]||(v[1]=T=>i.value=!0),onBlur:v[2]||(v[2]=T=>i.value=!1),onClick:v[3]||(v[3]=Pr(()=>{},["stop"]))},null,42,gVe),[[qne,S(c)]]),pe("span",{class:Se(S(n).be("button","inner")),style:or(S(c)===S(f)?S(p):{}),onKeydown:v[4]||(v[4]=Pr(()=>{},["stop"]))},[Ft(m.$slots,"default",{},()=>[xi(Cn(m.label),1)])],38)],2)}}});var aoe=Fn(_Ve,[["__file","radio-button.vue"]]);const yVe=Ln({id:{type:String,default:void 0},size:lu,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},...Wu(["ariaLabel"])}),bVe=noe,wVe=["id","aria-label","aria-labelledby"],xVe=Be({name:"ElRadioGroup"}),CVe=Be({...xVe,props:yVe,emits:bVe,setup(t,{emit:e}){const n=t,r=vn("radio"),i=hc(),s=Te(),{formItem:l}=Qc(),{inputId:c,isLabeledByFormItem:a}=dA(n,{formItemContext:l}),f=m=>{e(_i,m),dr(()=>e("change",m))};Fr(()=>{const m=s.value.querySelectorAll("[type=radio]"),v=m[0];!Array.from(m).some(y=>y.checked)&&v&&(v.tabIndex=0)});const p=le(()=>n.name||i.value);return ki(roe,ha({...Gu(n),changeEvent:f,name:p})),ln(()=>n.modelValue,()=>{n.validateEvent&&(l==null||l.validate("change").catch(m=>void 0))}),wu({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-radio-group",ref:"https://element-plus.org/en-US/component/radio.html"},le(()=>!!n.label)),(m,v)=>(X(),ve("div",{id:S(c),ref_key:"radioGroupRef",ref:s,class:Se(S(r).b("group")),role:"radiogroup","aria-label":S(a)?void 0:m.label||m.ariaLabel||"radio-group","aria-labelledby":S(a)?S(l).labelId:void 0},[Ft(m.$slots,"default")],10,wVe))}});var soe=Fn(CVe,[["__file","radio-group.vue"]]);const ooe=pi(AVe,{RadioButton:aoe,RadioGroup:soe}),EVe=ao(soe),SVe=ao(aoe);var TVe=Be({name:"NodeContent",setup(){return{ns:vn("cascader-node")}},render(){const{ns:t}=this,{node:e,panel:n}=this.$parent,{data:r,label:i}=e,{renderLabelFn:s}=n;return wr("span",{class:t.e("label")},s?s({node:e,data:r}):i)}});const H7=Symbol(),BVe=Be({name:"ElCascaderNode",components:{ElCheckbox:Nf,ElRadio:ooe,NodeContent:TVe,ElIcon:Ar,Check:rx,Loading:x0,ArrowRight:Vc},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(t,{emit:e}){const n=ar(H7),r=vn("cascader-node"),i=le(()=>n.isHoverMenu),s=le(()=>n.config.multiple),l=le(()=>n.config.checkStrictly),c=le(()=>{var H;return(H=n.checkedNodes[0])==null?void 0:H.uid}),a=le(()=>t.node.isDisabled),f=le(()=>t.node.isLeaf),p=le(()=>l.value&&!f.value||!a.value),m=le(()=>y(n.expandingNode)),v=le(()=>l.value&&n.checkedNodes.some(y)),y=H=>{var j;const{level:Q,uid:G}=t.node;return((j=H==null?void 0:H.pathNodes[Q-1])==null?void 0:j.uid)===G},T=()=>{m.value||n.expandNode(t.node)},C=H=>{const{node:j}=t;H!==j.checked&&n.handleCheckChange(j,H)},k=()=>{n.lazyLoad(t.node,()=>{f.value||T()})},M=H=>{i.value&&(P(),!f.value&&e("expand",H))},P=()=>{const{node:H}=t;!p.value||H.loading||(H.loaded?T():k())},R=()=>{i.value&&!f.value||(f.value&&!a.value&&!l.value&&!s.value?z(!0):P())},N=H=>{l.value?(C(H),t.node.loaded&&T()):z(H)},z=H=>{t.node.loaded?(C(H),!l.value&&T()):k()};return{panel:n,isHoverMenu:i,multiple:s,checkStrictly:l,checkedNodeId:c,isDisabled:a,isLeaf:f,expandable:p,inExpandingPath:m,inCheckedPath:v,ns:r,handleHoverExpand:M,handleExpand:P,handleClick:R,handleCheck:z,handleSelectCheck:N}}}),MVe=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],IVe=pe("span",null,null,-1);function LVe(t,e,n,r,i,s){const l=Kr("el-checkbox"),c=Kr("el-radio"),a=Kr("check"),f=Kr("el-icon"),p=Kr("node-content"),m=Kr("loading"),v=Kr("arrow-right");return X(),ve("li",{id:`${t.menuId}-${t.node.uid}`,role:"menuitem","aria-haspopup":!t.isLeaf,"aria-owns":t.isLeaf?null:t.menuId,"aria-expanded":t.inExpandingPath,tabindex:t.expandable?-1:void 0,class:Se([t.ns.b(),t.ns.is("selectable",t.checkStrictly),t.ns.is("active",t.node.checked),t.ns.is("disabled",!t.expandable),t.inExpandingPath&&"in-active-path",t.inCheckedPath&&"in-checked-path"]),onMouseenter:e[2]||(e[2]=(...y)=>t.handleHoverExpand&&t.handleHoverExpand(...y)),onFocus:e[3]||(e[3]=(...y)=>t.handleHoverExpand&&t.handleHoverExpand(...y)),onClick:e[4]||(e[4]=(...y)=>t.handleClick&&t.handleClick(...y))},[bt(" prefix "),t.multiple?(X(),Ut(l,{key:0,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:t.isDisabled,onClick:e[0]||(e[0]=Pr(()=>{},["stop"])),"onUpdate:modelValue":t.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):t.checkStrictly?(X(),Ut(c,{key:1,"model-value":t.checkedNodeId,label:t.node.uid,disabled:t.isDisabled,"onUpdate:modelValue":t.handleSelectCheck,onClick:e[1]||(e[1]=Pr(()=>{},["stop"]))},{default:xt(()=>[bt(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),IVe]),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):t.isLeaf&&t.node.checked?(X(),Ut(f,{key:2,class:Se(t.ns.e("prefix"))},{default:xt(()=>[ht(a)]),_:1},8,["class"])):bt("v-if",!0),bt(" content "),ht(p),bt(" postfix "),t.isLeaf?bt("v-if",!0):(X(),ve(Vn,{key:3},[t.node.loading?(X(),Ut(f,{key:0,class:Se([t.ns.is("loading"),t.ns.e("postfix")])},{default:xt(()=>[ht(m)]),_:1},8,["class"])):(X(),Ut(f,{key:1,class:Se(["arrow-right",t.ns.e("postfix")])},{default:xt(()=>[ht(v)]),_:1},8,["class"]))],64))],42,MVe)}var kVe=Fn(BVe,[["render",LVe],["__file","node.vue"]]);const PVe=Be({name:"ElCascaderMenu",components:{Loading:x0,ElIcon:Ar,ElScrollbar:E0,ElCascaderNode:kVe},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(t){const e=ci(),n=vn("cascader-menu"),{t:r}=da(),i=hc();let s=null,l=null;const c=ar(H7),a=Te(null),f=le(()=>!t.nodes.length),p=le(()=>!c.initialLoaded),m=le(()=>`${i.value}-${t.index}`),v=k=>{s=k.target},y=k=>{if(!(!c.isHoverMenu||!s||!a.value))if(s.contains(k.target)){T();const M=e.vnode.el,{left:P}=M.getBoundingClientRect(),{offsetWidth:R,offsetHeight:N}=M,z=k.clientX-P,H=s.offsetTop,j=H+s.offsetHeight;a.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${z} ${H} L${R} 0 V${H} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${z} ${j} L${R} ${N} V${j} Z" />
        `}else l||(l=window.setTimeout(C,c.config.hoverThreshold))},T=()=>{l&&(clearTimeout(l),l=null)},C=()=>{a.value&&(a.value.innerHTML="",T())};return{ns:n,panel:c,hoverZone:a,isEmpty:f,isLoading:p,menuId:m,t:r,handleExpand:v,handleMouseMove:y,clearHoverZone:C}}});function FVe(t,e,n,r,i,s){const l=Kr("el-cascader-node"),c=Kr("loading"),a=Kr("el-icon"),f=Kr("el-scrollbar");return X(),Ut(f,{key:t.menuId,tag:"ul",role:"menu",class:Se(t.ns.b()),"wrap-class":t.ns.e("wrap"),"view-class":[t.ns.e("list"),t.ns.is("empty",t.isEmpty)],onMousemove:t.handleMouseMove,onMouseleave:t.clearHoverZone},{default:xt(()=>{var p;return[(X(!0),ve(Vn,null,Yr(t.nodes,m=>(X(),Ut(l,{key:m.uid,node:m,"menu-id":t.menuId,onExpand:t.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),t.isLoading?(X(),ve("div",{key:0,class:Se(t.ns.e("empty-text"))},[ht(a,{size:"14",class:Se(t.ns.is("loading"))},{default:xt(()=>[ht(c)]),_:1},8,["class"]),xi(" "+Cn(t.t("el.cascader.loading")),1)],2)):t.isEmpty?(X(),ve("div",{key:1,class:Se(t.ns.e("empty-text"))},Cn(t.t("el.cascader.noData")),3)):(p=t.panel)!=null&&p.isHoverMenu?(X(),ve("svg",{key:2,ref:"hoverZone",class:Se(t.ns.e("hover-zone"))},null,2)):bt("v-if",!0)]}),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var RVe=Fn(PVe,[["render",FVe],["__file","menu.vue"]]);let OVe=0;const DVe=t=>{const e=[t];let{parent:n}=t;for(;n;)e.unshift(n),n=n.parent;return e};let eO=class tO{constructor(e,n,r,i=!1){this.data=e,this.config=n,this.parent=r,this.root=i,this.uid=OVe++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:s,label:l,children:c}=n,a=e[c],f=DVe(this);this.level=i?0:r?r.level+1:1,this.value=e[s],this.label=e[l],this.pathNodes=f,this.pathValues=f.map(p=>p.value),this.pathLabels=f.map(p=>p.label),this.childrenData=a,this.children=(a||[]).map(p=>new tO(p,n,this)),this.loaded=!n.lazy||this.isLeaf||!bf(a)}get isDisabled(){const{data:e,parent:n,config:r}=this,{disabled:i,checkStrictly:s}=r;return(Dr(i)?i(e,this):!!e[i])||!s&&(n==null?void 0:n.isDisabled)}get isLeaf(){const{data:e,config:n,childrenData:r,loaded:i}=this,{lazy:s,leaf:l}=n,c=Dr(l)?l(e,this):e[l];return Zo(c)?s&&!i?!1:!(Array.isArray(r)&&r.length):!!c}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(e){const{childrenData:n,children:r}=this,i=new tO(e,this.config,this);return Array.isArray(n)?n.push(e):this.childrenData=[e],r.push(i),i}calcText(e,n){const r=e?this.pathLabels.join(n):this.label;return this.text=r,r}broadcast(e,...n){const r=`onParent${im(e)}`;this.children.forEach(i=>{i&&(i.broadcast(e,...n),i[r]&&i[r](...n))})}emit(e,...n){const{parent:r}=this,i=`onChild${im(e)}`;r&&(r[i]&&r[i](...n),r.emit(e,...n))}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,n=e.filter(i=>!i.isDisabled),r=n.length?n.every(i=>i.checked):!1;this.setCheckState(r)}setCheckState(e){const n=this.children.length,r=this.children.reduce((i,s)=>{const l=s.checked?1:s.indeterminate?.5:0;return i+l},0);this.checked=this.loaded&&this.children.filter(i=>!i.isDisabled).every(i=>i.loaded&&i.checked)&&e,this.indeterminate=this.loaded&&r!==n&&r>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:n,multiple:r}=this.config;n||!r?this.checked=e:(this.broadcast("check",e),this.setCheckState(e),this.emit("check"))}};const nO=(t,e)=>t.reduce((n,r)=>(r.isLeaf?n.push(r):(!e&&n.push(r),n=n.concat(nO(r.children,e))),n),[]);class vq{constructor(e,n){this.config=n;const r=(e||[]).map(i=>new eO(i,this.config));this.nodes=r,this.allNodes=nO(r,!1),this.leafNodes=nO(r,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,n){const r=n?n.appendChild(e):new eO(e,this.config);n||this.nodes.push(r),this.allNodes.push(r),r.isLeaf&&this.leafNodes.push(r)}appendNodes(e,n){e.forEach(r=>this.appendNode(r,n))}getNodeByValue(e,n=!1){return!e&&e!==0?null:this.getFlattedNodes(n).find(i=>zc(i.value,e)||zc(i.pathValues,e))||null}getSameNode(e){return e&&this.getFlattedNodes(!1).find(({value:r,level:i})=>zc(e.value,r)&&e.level===i)||null}}const loe=Ln({modelValue:{type:Rt([Number,String,Array])},options:{type:Rt(Array),default:()=>[]},props:{type:Rt(Object),default:()=>({})}}),NVe={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:Qa,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},UVe=t=>le(()=>({...NVe,...t.props})),_q=t=>{if(!t)return 0;const e=t.id.split("-");return Number(e[e.length-2])},zVe=t=>{if(!t)return;const e=t.querySelector("input");e?e.click():rie(t)&&t.click()},$Ve=(t,e)=>{const n=e.slice(0),r=n.map(s=>s.uid),i=t.reduce((s,l)=>{const c=r.indexOf(l.uid);return c>-1&&(s.push(l),n.splice(c,1),r.splice(c,1)),s},[]);return i.push(...n),i},VVe=Be({name:"ElCascaderPanel",components:{ElCascaderMenu:RVe},props:{...loe,border:{type:Boolean,default:!0},renderLabel:Function},emits:[_i,bs,"close","expand-change"],setup(t,{emit:e,slots:n}){let r=!1;const i=vn("cascader"),s=UVe(t);let l=null;const c=Te(!0),a=Te([]),f=Te(null),p=Te([]),m=Te(null),v=Te([]),y=le(()=>s.value.expandTrigger==="hover"),T=le(()=>t.renderLabel||n.default),C=()=>{const{options:W}=t,ee=s.value;r=!1,l=new vq(W,ee),p.value=[l.getNodes()],ee.lazy&&bf(t.options)?(c.value=!1,k(void 0,he=>{he&&(l=new vq(he,ee),p.value=[l.getNodes()]),c.value=!0,Q(!1,!0)})):Q(!1,!0)},k=(W,ee)=>{const he=s.value;W=W||new eO({},he,void 0,!0),W.loading=!0;const J=te=>{const ne=W,ce=ne.root?null:ne;te&&(l==null||l.appendNodes(te,ce)),ne.loading=!1,ne.loaded=!0,ne.childrenData=ne.childrenData||[],ee&&ee(te)};he.lazyLoad(W,J)},M=(W,ee)=>{var he;const{level:J}=W,te=p.value.slice(0,J);let ne;W.isLeaf?ne=W.pathNodes[J-2]:(ne=W,te.push(W.children)),((he=m.value)==null?void 0:he.uid)!==(ne==null?void 0:ne.uid)&&(m.value=W,p.value=te,!ee&&e("expand-change",(W==null?void 0:W.pathValues)||[]))},P=(W,ee,he=!0)=>{const{checkStrictly:J,multiple:te}=s.value,ne=v.value[0];r=!0,!te&&(ne==null||ne.doCheck(!1)),W.doCheck(ee),j(),he&&!te&&!J&&e("close"),!he&&!te&&!J&&R(W)},R=W=>{W&&(W=W.parent,R(W),W&&M(W))},N=W=>l==null?void 0:l.getFlattedNodes(W),z=W=>{var ee;return(ee=N(W))==null?void 0:ee.filter(he=>he.checked!==!1)},H=()=>{v.value.forEach(W=>W.doCheck(!1)),j(),p.value=p.value.slice(0,1),m.value=null,e("expand-change",[])},j=()=>{var W;const{checkStrictly:ee,multiple:he}=s.value,J=v.value,te=z(!ee),ne=$Ve(J,te),ce=ne.map(ue=>ue.valueByOption);v.value=ne,f.value=he?ce:(W=ce[0])!=null?W:null},Q=(W=!1,ee=!1)=>{const{modelValue:he}=t,{lazy:J,multiple:te,checkStrictly:ne}=s.value,ce=!ne;if(!(!c.value||r||!ee&&zc(he,f.value)))if(J&&!W){const ye=gW(U3e(Dd(he))).map(Ee=>l==null?void 0:l.getNodeByValue(Ee)).filter(Ee=>!!Ee&&!Ee.loaded&&!Ee.loading);ye.length?ye.forEach(Ee=>{k(Ee,()=>Q(!1,ee))}):Q(!0,ee)}else{const ue=te?Dd(he):[he],ye=gW(ue.map(Ee=>l==null?void 0:l.getNodeByValue(Ee,ce)));G(ye,ee),f.value=d8(he)}},G=(W,ee=!0)=>{const{checkStrictly:he}=s.value,J=v.value,te=W.filter(ue=>!!ue&&(he||ue.isLeaf)),ne=l==null?void 0:l.getSameNode(m.value),ce=ee&&ne||te[0];ce?ce.pathNodes.forEach(ue=>M(ue,!0)):m.value=null,J.forEach(ue=>ue.doCheck(!1)),ha(te).forEach(ue=>ue.doCheck(!0)),v.value=te,dr(ie)},ie=()=>{ra&&a.value.forEach(W=>{const ee=W==null?void 0:W.$el;if(ee){const he=ee.querySelector(`.${i.namespace.value}-scrollbar__wrap`),J=ee.querySelector(`.${i.b("node")}.${i.is("active")}`)||ee.querySelector(`.${i.b("node")}.in-active-path`);Jie(he,J)}})},q=W=>{const ee=W.target,{code:he}=W;switch(he){case Tr.up:case Tr.down:{W.preventDefault();const J=he===Tr.up?-1:1;rT(iie(ee,J,`.${i.b("node")}[tabindex="-1"]`));break}case Tr.left:{W.preventDefault();const J=a.value[_q(ee)-1],te=J==null?void 0:J.$el.querySelector(`.${i.b("node")}[aria-expanded="true"]`);rT(te);break}case Tr.right:{W.preventDefault();const J=a.value[_q(ee)+1],te=J==null?void 0:J.$el.querySelector(`.${i.b("node")}[tabindex="-1"]`);rT(te);break}case Tr.enter:zVe(ee);break}};return ki(H7,ha({config:s,expandingNode:m,checkedNodes:v,isHoverMenu:y,initialLoaded:c,renderLabelFn:T,lazyLoad:k,expandNode:M,handleCheckChange:P})),ln([s,()=>t.options],C,{deep:!0,immediate:!0}),ln(()=>t.modelValue,()=>{r=!1,Q()},{deep:!0}),ln(()=>f.value,W=>{zc(W,t.modelValue)||(e(_i,W),e(bs,W))}),c9(()=>a.value=[]),Fr(()=>!bf(t.modelValue)&&Q()),{ns:i,menuList:a,menus:p,checkedNodes:v,handleKeyDown:q,handleCheckChange:P,getFlattedNodes:N,getCheckedNodes:z,clearCheckedNodes:H,calculateCheckedValue:j,scrollToExpandingNode:ie}}});function HVe(t,e,n,r,i,s){const l=Kr("el-cascader-menu");return X(),ve("div",{class:Se([t.ns.b("panel"),t.ns.is("bordered",t.border)]),onKeydown:e[0]||(e[0]=(...c)=>t.handleKeyDown&&t.handleKeyDown(...c))},[(X(!0),ve(Vn,null,Yr(t.menus,(c,a)=>(X(),Ut(l,{key:a,ref_for:!0,ref:f=>t.menuList[a]=f,index:a,nodes:[...c]},null,8,["index","nodes"]))),128))],34)}var hT=Fn(VVe,[["render",HVe],["__file","index.vue"]]);hT.install=t=>{t.component(hT.name,hT)};const uoe=hT,QVe=uoe,hM=Ln({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:Om},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),jVe={close:t=>t instanceof MouseEvent,click:t=>t instanceof MouseEvent},GVe=Be({name:"ElTag"}),KVe=Be({...GVe,props:hM,emits:jVe,setup(t,{emit:e}){const n=t,r=ml(),i=vn("tag"),s=le(()=>{const{type:a,hit:f,effect:p,closable:m,round:v}=n;return[i.b(),i.is("closable",m),i.m(a||"primary"),i.m(r.value),i.m(p),i.is("hit",f),i.is("round",v)]}),l=a=>{e("close",a)},c=a=>{e("click",a)};return(a,f)=>a.disableTransitions?(X(),ve("span",{key:0,class:Se(S(s)),style:or({backgroundColor:a.color}),onClick:c},[pe("span",{class:Se(S(i).e("content"))},[Ft(a.$slots,"default")],2),a.closable?(X(),Ut(S(Ar),{key:0,class:Se(S(i).e("close")),onClick:Pr(l,["stop"])},{default:xt(()=>[ht(S(Rf))]),_:1},8,["class","onClick"])):bt("v-if",!0)],6)):(X(),Ut(fo,{key:1,name:`${S(i).namespace.value}-zoom-in-center`,appear:""},{default:xt(()=>[pe("span",{class:Se(S(s)),style:or({backgroundColor:a.color}),onClick:c},[pe("span",{class:Se(S(i).e("content"))},[Ft(a.$slots,"default")],2),a.closable?(X(),Ut(S(Ar),{key:0,class:Se(S(i).e("close")),onClick:Pr(l,["stop"])},{default:xt(()=>[ht(S(Rf))]),_:1},8,["class","onClick"])):bt("v-if",!0)],6)]),_:3},8,["name"]))}});var WVe=Fn(KVe,[["__file","tag.vue"]]);const A6=pi(WVe),qVe=Ln({...loe,size:lu,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:Rt(Function),default:(t,e)=>t.text.includes(e)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:Rt(Function),default:()=>!0},popperClass:{type:String,default:""},teleported:gu.teleported,tagType:{...hM.type,default:"info"},validateEvent:{type:Boolean,default:!0},...sx}),YVe={[_i]:t=>!0,[bs]:t=>!0,focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,visibleChange:t=>Jo(t),expandChange:t=>!!t,removeTag:t=>!!t},XVe={key:0},ZVe=["placeholder","onKeydown"],JVe=["onClick"],eHe="ElCascader",tHe=Be({name:eHe}),nHe=Be({...tHe,props:qVe,emits:YVe,setup(t,{expose:e,emit:n}){const r=t,i={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:it})=>{const{modifiersData:Mt,placement:at}=it;["right","left","bottom","top"].includes(at)||(Mt.arrow.x=35)},requires:["arrow"]}]},s=Dy();let l=0,c=0;const a=vn("cascader"),f=vn("input"),{t:p}=da(),{form:m,formItem:v}=Qc(),{valueOnClear:y}=oM(r),T=Te(null),C=Te(null),k=Te(null),M=Te(null),P=Te(null),R=Te(!1),N=Te(!1),z=Te(!1),H=Te(!1),j=Te(""),Q=Te(""),G=Te([]),ie=Te([]),q=Te([]),W=Te(!1),ee=le(()=>s.style),he=le(()=>r.disabled||(m==null?void 0:m.disabled)),J=le(()=>r.placeholder||p("el.cascader.placeholder")),te=le(()=>Q.value||G.value.length>0||W.value?"":J.value),ne=ml(),ce=le(()=>["small"].includes(ne.value)?"small":"default"),ue=le(()=>!!r.props.multiple),ye=le(()=>!r.filterable||ue.value),Ee=le(()=>ue.value?Q.value:j.value),se=le(()=>{var it;return((it=M.value)==null?void 0:it.checkedNodes)||[]}),oe=le(()=>!r.clearable||he.value||z.value||!N.value?!1:!!se.value.length),_e=le(()=>{const{showAllLevels:it,separator:Mt}=r,at=se.value;return at.length?ue.value?"":at[0].calcText(it,Mt):""}),Ue=le(()=>(v==null?void 0:v.validateState)||""),Le=le({get(){return d8(r.modelValue)},set(it){const Mt=it||y.value;n(_i,Mt),n(bs,Mt),r.validateEvent&&(v==null||v.validate("change").catch(at=>void 0))}}),be=le(()=>[a.b(),a.m(ne.value),a.is("disabled",he.value),s.class]),Re=le(()=>[f.e("icon"),"icon-arrow-down",a.is("reverse",R.value)]),Qe=le(()=>a.is("focus",R.value||H.value)),Je=le(()=>{var it,Mt;return(Mt=(it=T.value)==null?void 0:it.popperRef)==null?void 0:Mt.contentRef}),nt=it=>{var Mt,at,et;he.value||(it=it??!R.value,it!==R.value&&(R.value=it,(at=(Mt=C.value)==null?void 0:Mt.input)==null||at.setAttribute("aria-expanded",`${it}`),it?(Ve(),dr((et=M.value)==null?void 0:et.scrollToExpandingNode)):r.filterable&&Nt(),n("visibleChange",it)))},Ve=()=>{dr(()=>{var it;(it=T.value)==null||it.updatePopper()})},ke=()=>{z.value=!1},Ge=it=>{const{showAllLevels:Mt,separator:at}=r;return{node:it,key:it.uid,text:it.calcText(Mt,at),hitState:!1,closable:!he.value&&!it.isDisabled,isCollapseTag:!1}},Ne=it=>{var Mt;const at=it.node;at.doCheck(!1),(Mt=M.value)==null||Mt.calculateCheckedValue(),n("removeTag",at.valueByOption)},je=()=>{if(!ue.value)return;const it=se.value,Mt=[],at=[];if(it.forEach(et=>at.push(Ge(et))),ie.value=at,it.length){it.slice(0,r.maxCollapseTags).forEach(sn=>Mt.push(Ge(sn)));const et=it.slice(r.maxCollapseTags),St=et.length;St&&(r.collapseTags?Mt.push({key:-1,text:`+ ${St}`,closable:!1,isCollapseTag:!0}):et.forEach(sn=>Mt.push(Ge(sn))))}G.value=Mt},Ye=()=>{var it,Mt;const{filterMethod:at,showAllLevels:et,separator:St}=r,sn=(Mt=(it=M.value)==null?void 0:it.getFlattedNodes(!r.props.checkStrictly))==null?void 0:Mt.filter(bn=>bn.isDisabled?!1:(bn.calcText(et,St),at(bn,Ee.value)));ue.value&&(G.value.forEach(bn=>{bn.hitState=!1}),ie.value.forEach(bn=>{bn.hitState=!1})),z.value=!0,q.value=sn,Ve()},vt=()=>{var it;let Mt;z.value&&P.value?Mt=P.value.$el.querySelector(`.${a.e("suggestion-item")}`):Mt=(it=M.value)==null?void 0:it.$el.querySelector(`.${a.b("node")}[tabindex="-1"]`),Mt&&(Mt.focus(),!z.value&&Mt.click())},Lt=()=>{var it,Mt;const at=(it=C.value)==null?void 0:it.input,et=k.value,St=(Mt=P.value)==null?void 0:Mt.$el;if(!(!ra||!at)){if(St){const sn=St.querySelector(`.${a.e("suggestion-list")}`);sn.style.minWidth=`${at.offsetWidth}px`}if(et){const{offsetHeight:sn}=et,bn=G.value.length>0?`${Math.max(sn+6,l)}px`:`${l}px`;at.style.height=bn,Ve()}}},Et=it=>{var Mt;return(Mt=M.value)==null?void 0:Mt.getCheckedNodes(it)},Vt=it=>{Ve(),n("expandChange",it)},_t=it=>{var Mt;const at=(Mt=it.target)==null?void 0:Mt.value;if(it.type==="compositionend")W.value=!1,dr(()=>kt(at));else{const et=at[at.length-1]||"";W.value=!f7(et)}},qt=it=>{if(!W.value)switch(it.code){case Tr.enter:nt();break;case Tr.down:nt(!0),dr(vt),it.preventDefault();break;case Tr.esc:R.value===!0&&(it.preventDefault(),it.stopPropagation(),nt(!1));break;case Tr.tab:nt(!1);break}},tn=()=>{var it;(it=M.value)==null||it.clearCheckedNodes(),!R.value&&r.filterable&&Nt(),nt(!1)},Nt=()=>{const{value:it}=_e;j.value=it,Q.value=it},wt=it=>{var Mt,at;const{checked:et}=it;ue.value?(Mt=M.value)==null||Mt.handleCheckChange(it,!et,!1):(!et&&((at=M.value)==null||at.handleCheckChange(it,!0,!1)),nt(!1))},De=it=>{const Mt=it.target,{code:at}=it;switch(at){case Tr.up:case Tr.down:{const et=at===Tr.up?-1:1;rT(iie(Mt,et,`.${a.e("suggestion-item")}[tabindex="-1"]`));break}case Tr.enter:Mt.click();break}},We=()=>{const it=G.value,Mt=it[it.length-1];c=Q.value?0:c+1,!(!Mt||!c||r.collapseTags&&it.length>1)&&(Mt.hitState?Ne(Mt):Mt.hitState=!0)},ut=it=>{const Mt=it.target,at=a.e("search-input");Mt.className===at&&(H.value=!0),n("focus",it)},It=it=>{H.value=!1,n("blur",it)},Xe=Wh(()=>{const{value:it}=Ee;if(!it)return;const Mt=r.beforeFilter(it);KC(Mt)?Mt.then(Ye).catch(()=>{}):Mt!==!1?Ye():ke()},r.debounce),kt=(it,Mt)=>{!R.value&&nt(!0),!(Mt!=null&&Mt.isComposing)&&(it?Xe():ke())},Bt=it=>Number.parseFloat(fCe(f.cssVarName("input-height"),it).value)-2;return ln(z,Ve),ln([se,he],je),ln(G,()=>{dr(()=>Lt())}),ln(ne,async()=>{await dr();const it=C.value.input;l=Bt(it)||l,Lt()}),ln(_e,Nt,{immediate:!0}),Fr(()=>{const it=C.value.input,Mt=Bt(it);l=it.offsetHeight||Mt,no(it,Lt)}),e({getCheckedNodes:Et,cascaderPanelRef:M,togglePopperVisible:nt,contentRef:Je}),(it,Mt)=>(X(),Ut(S(Hc),{ref_key:"tooltipRef",ref:T,visible:R.value,teleported:it.teleported,"popper-class":[S(a).e("dropdown"),it.popperClass],"popper-options":i,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${S(a).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:"",onHide:ke},{default:xt(()=>[Jr((X(),ve("div",{class:Se(S(be)),style:or(S(ee)),onClick:Mt[5]||(Mt[5]=()=>nt(S(ye)?void 0:!0)),onKeydown:qt,onMouseenter:Mt[6]||(Mt[6]=at=>N.value=!0),onMouseleave:Mt[7]||(Mt[7]=at=>N.value=!1)},[ht(S(Nc),{ref_key:"input",ref:C,modelValue:j.value,"onUpdate:modelValue":Mt[1]||(Mt[1]=at=>j.value=at),placeholder:S(te),readonly:S(ye),disabled:S(he),"validate-event":!1,size:S(ne),class:Se(S(Qe)),tabindex:S(ue)&&it.filterable&&!S(he)?-1:void 0,onCompositionstart:_t,onCompositionupdate:_t,onCompositionend:_t,onFocus:ut,onBlur:It,onInput:kt},{suffix:xt(()=>[S(oe)?(X(),Ut(S(Ar),{key:"clear",class:Se([S(f).e("icon"),"icon-circle-close"]),onClick:Pr(tn,["stop"])},{default:xt(()=>[ht(S(w0))]),_:1},8,["class","onClick"])):(X(),Ut(S(Ar),{key:"arrow-down",class:Se(S(Re)),onClick:Mt[0]||(Mt[0]=Pr(at=>nt(),["stop"]))},{default:xt(()=>[ht(S(Rm))]),_:1},8,["class"]))]),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","tabindex"]),S(ue)?(X(),ve("div",{key:0,ref_key:"tagWrapper",ref:k,class:Se([S(a).e("tags"),S(a).is("validate",!!S(Ue))])},[(X(!0),ve(Vn,null,Yr(G.value,at=>(X(),Ut(S(A6),{key:at.key,type:it.tagType,size:S(ce),hit:at.hitState,closable:at.closable,"disable-transitions":"",onClose:et=>Ne(at)},{default:xt(()=>[at.isCollapseTag===!1?(X(),ve("span",XVe,Cn(at.text),1)):(X(),Ut(S(Hc),{key:1,disabled:R.value||!it.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:xt(()=>[pe("span",null,Cn(at.text),1)]),content:xt(()=>[pe("div",{class:Se(S(a).e("collapse-tags"))},[(X(!0),ve(Vn,null,Yr(ie.value.slice(it.maxCollapseTags),(et,St)=>(X(),ve("div",{key:St,class:Se(S(a).e("collapse-tag"))},[(X(),Ut(S(A6),{key:et.key,class:"in-tooltip",type:it.tagType,size:S(ce),hit:et.hitState,closable:et.closable,"disable-transitions":"",onClose:sn=>Ne(et)},{default:xt(()=>[pe("span",null,Cn(et.text),1)]),_:2},1032,["type","size","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","hit","closable","onClose"]))),128)),it.filterable&&!S(he)?Jr((X(),ve("input",{key:0,"onUpdate:modelValue":Mt[2]||(Mt[2]=at=>Q.value=at),type:"text",class:Se(S(a).e("search-input")),placeholder:S(_e)?"":S(J),onInput:Mt[3]||(Mt[3]=at=>kt(Q.value,at)),onClick:Mt[4]||(Mt[4]=Pr(at=>nt(!0),["stop"])),onKeydown:Ga(We,["delete"]),onCompositionstart:_t,onCompositionupdate:_t,onCompositionend:_t,onFocus:ut,onBlur:It},null,42,ZVe)),[[A9,Q.value]]):bt("v-if",!0)],2)):bt("v-if",!0)],38)),[[S(u0),()=>nt(!1),S(Je)]])]),content:xt(()=>[Jr(ht(S(uoe),{ref_key:"cascaderPanelRef",ref:M,modelValue:S(Le),"onUpdate:modelValue":Mt[8]||(Mt[8]=at=>fs(Le)?Le.value=at:null),options:it.options,props:r.props,border:!1,"render-label":it.$slots.default,onExpandChange:Vt,onClose:Mt[9]||(Mt[9]=at=>it.$nextTick(()=>nt(!1)))},null,8,["modelValue","options","props","render-label"]),[[ca,!z.value]]),it.filterable?Jr((X(),Ut(S(E0),{key:0,ref_key:"suggestionPanel",ref:P,tag:"ul",class:Se(S(a).e("suggestion-panel")),"view-class":S(a).e("suggestion-list"),onKeydown:De},{default:xt(()=>[q.value.length?(X(!0),ve(Vn,{key:0},Yr(q.value,at=>(X(),ve("li",{key:at.uid,class:Se([S(a).e("suggestion-item"),S(a).is("checked",at.checked)]),tabindex:-1,onClick:et=>wt(at)},[pe("span",null,Cn(at.text),1),at.checked?(X(),Ut(S(Ar),{key:0},{default:xt(()=>[ht(S(rx))]),_:1})):bt("v-if",!0)],10,JVe))),128)):Ft(it.$slots,"empty",{key:1},()=>[pe("li",{class:Se(S(a).e("empty-text"))},Cn(S(p)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[ca,z.value]]):bt("v-if",!0)]),_:3},8,["visible","teleported","popper-class","transition"]))}});var dT=Fn(nHe,[["__file","cascader.vue"]]);dT.install=t=>{t.component(dT.name,dT)};const rHe=dT,iHe=rHe,aHe=Ln({checked:{type:Boolean,default:!1},type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"}}),sHe={"update:checked":t=>Jo(t),[bs]:t=>Jo(t)},oHe=Be({name:"ElCheckTag"}),lHe=Be({...oHe,props:aHe,emits:sHe,setup(t,{emit:e}){const n=t,r=vn("check-tag"),i=le(()=>[r.b(),r.is("checked",n.checked),r.m(n.type||"primary")]),s=()=>{const l=!n.checked;e(bs,l),e("update:checked",l)};return(l,c)=>(X(),ve("span",{class:Se(S(i)),onClick:s},[Ft(l.$slots,"default")],2))}});var uHe=Fn(lHe,[["__file","check-tag.vue"]]);const cHe=pi(uHe),coe=Symbol("rowContextKey"),hHe=["start","center","end","space-around","space-between","space-evenly"],dHe=["top","middle","bottom"],fHe=Ln({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:hHe,default:"start"},align:{type:String,values:dHe}}),pHe=Be({name:"ElRow"}),AHe=Be({...pHe,props:fHe,setup(t){const e=t,n=vn("row"),r=le(()=>e.gutter);ki(coe,{gutter:r});const i=le(()=>{const l={};return e.gutter&&(l.marginRight=l.marginLeft=`-${e.gutter/2}px`),l}),s=le(()=>[n.b(),n.is(`justify-${e.justify}`,e.justify!=="start"),n.is(`align-${e.align}`,!!e.align)]);return(l,c)=>(X(),Ut(fi(l.tag),{class:Se(S(s)),style:or(S(i))},{default:xt(()=>[Ft(l.$slots,"default")]),_:3},8,["class","style"]))}});var mHe=Fn(AHe,[["__file","row.vue"]]);const gHe=pi(mHe),vHe=Ln({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:Rt([Number,Object]),default:()=>ro({})},sm:{type:Rt([Number,Object]),default:()=>ro({})},md:{type:Rt([Number,Object]),default:()=>ro({})},lg:{type:Rt([Number,Object]),default:()=>ro({})},xl:{type:Rt([Number,Object]),default:()=>ro({})}}),_He=Be({name:"ElCol"}),yHe=Be({..._He,props:vHe,setup(t){const e=t,{gutter:n}=ar(coe,{gutter:le(()=>0)}),r=vn("col"),i=le(()=>{const l={};return n.value&&(l.paddingLeft=l.paddingRight=`${n.value/2}px`),l}),s=le(()=>{const l=[];return["span","offset","pull","push"].forEach(f=>{const p=e[f];Or(p)&&(f==="span"?l.push(r.b(`${e[f]}`)):p>0&&l.push(r.b(`${f}-${e[f]}`)))}),["xs","sm","md","lg","xl"].forEach(f=>{Or(e[f])?l.push(r.b(`${f}-${e[f]}`)):mi(e[f])&&Object.entries(e[f]).forEach(([p,m])=>{l.push(p!=="span"?r.b(`${f}-${p}-${m}`):r.b(`${f}-${m}`))})}),n.value&&l.push(r.is("guttered")),[r.b(),l]});return(l,c)=>(X(),Ut(fi(l.tag),{class:Se(S(s)),style:or(S(i))},{default:xt(()=>[Ft(l.$slots,"default")]),_:3},8,["class","style"]))}});var bHe=Fn(yHe,[["__file","col.vue"]]);const wHe=pi(bHe),yq=t=>Or(t)||Hr(t)||Jn(t),xHe=Ln({accordion:Boolean,modelValue:{type:Rt([Array,String,Number]),default:()=>ro([])}}),CHe={[_i]:yq,[bs]:yq},hoe=Symbol("collapseContextKey"),EHe=(t,e)=>{const n=Te(h1(t.modelValue)),r=s=>{n.value=s;const l=t.accordion?n.value[0]:n.value;e(_i,l),e(bs,l)},i=s=>{if(t.accordion)r([n.value[0]===s?"":s]);else{const l=[...n.value],c=l.indexOf(s);c>-1?l.splice(c,1):l.push(s),r(l)}};return ln(()=>t.modelValue,()=>n.value=h1(t.modelValue),{deep:!0}),ki(hoe,{activeNames:n,handleItemClick:i}),{activeNames:n,setActiveNames:r}},SHe=()=>{const t=vn("collapse");return{rootKls:le(()=>t.b())}},THe=Be({name:"ElCollapse"}),BHe=Be({...THe,props:xHe,emits:CHe,setup(t,{expose:e,emit:n}){const r=t,{activeNames:i,setActiveNames:s}=EHe(r,n),{rootKls:l}=SHe();return e({activeNames:i,setActiveNames:s}),(c,a)=>(X(),ve("div",{class:Se(S(l))},[Ft(c.$slots,"default")],2))}});var MHe=Fn(BHe,[["__file","collapse.vue"]]);const IHe=Be({name:"ElCollapseTransition"}),LHe=Be({...IHe,setup(t){const e=vn("collapse-transition"),n=i=>{i.style.maxHeight="",i.style.overflow=i.dataset.oldOverflow,i.style.paddingTop=i.dataset.oldPaddingTop,i.style.paddingBottom=i.dataset.oldPaddingBottom},r={beforeEnter(i){i.dataset||(i.dataset={}),i.dataset.oldPaddingTop=i.style.paddingTop,i.dataset.oldPaddingBottom=i.style.paddingBottom,i.style.height&&(i.dataset.elExistsHeight=i.style.height),i.style.maxHeight=0,i.style.paddingTop=0,i.style.paddingBottom=0},enter(i){requestAnimationFrame(()=>{i.dataset.oldOverflow=i.style.overflow,i.dataset.elExistsHeight?i.style.maxHeight=i.dataset.elExistsHeight:i.scrollHeight!==0?i.style.maxHeight=`${i.scrollHeight}px`:i.style.maxHeight=0,i.style.paddingTop=i.dataset.oldPaddingTop,i.style.paddingBottom=i.dataset.oldPaddingBottom,i.style.overflow="hidden"})},afterEnter(i){i.style.maxHeight="",i.style.overflow=i.dataset.oldOverflow},enterCancelled(i){n(i)},beforeLeave(i){i.dataset||(i.dataset={}),i.dataset.oldPaddingTop=i.style.paddingTop,i.dataset.oldPaddingBottom=i.style.paddingBottom,i.dataset.oldOverflow=i.style.overflow,i.style.maxHeight=`${i.scrollHeight}px`,i.style.overflow="hidden"},leave(i){i.scrollHeight!==0&&(i.style.maxHeight=0,i.style.paddingTop=0,i.style.paddingBottom=0)},afterLeave(i){n(i)},leaveCancelled(i){n(i)}};return(i,s)=>(X(),Ut(fo,Xr({name:S(e).b()},G1e(r)),{default:xt(()=>[Ft(i.$slots,"default")]),_:3},16,["name"]))}});var fT=Fn(LHe,[["__file","collapse-transition.vue"]]);fT.install=t=>{t.component(fT.name,fT)};const dM=fT,kHe=dM,PHe=Ln({title:{type:String,default:""},name:{type:Rt([String,Number]),default:void 0},disabled:Boolean}),FHe=t=>{const e=ar(hoe),{namespace:n}=vn("collapse"),r=Te(!1),i=Te(!1),s=S7(),l=le(()=>s.current++),c=le(()=>{var v;return(v=t.name)!=null?v:`${n.value}-id-${s.prefix}-${S(l)}`}),a=le(()=>e==null?void 0:e.activeNames.value.includes(S(c)));return{focusing:r,id:l,isActive:a,handleFocus:()=>{setTimeout(()=>{i.value?i.value=!1:r.value=!0},50)},handleHeaderClick:()=>{t.disabled||(e==null||e.handleItemClick(S(c)),r.value=!1,i.value=!0)},handleEnterClick:()=>{e==null||e.handleItemClick(S(c))}}},RHe=(t,{focusing:e,isActive:n,id:r})=>{const i=vn("collapse"),s=le(()=>[i.b("item"),i.is("active",S(n)),i.is("disabled",t.disabled)]),l=le(()=>[i.be("item","header"),i.is("active",S(n)),{focusing:S(e)&&!t.disabled}]),c=le(()=>[i.be("item","arrow"),i.is("active",S(n))]),a=le(()=>i.be("item","wrap")),f=le(()=>i.be("item","content")),p=le(()=>i.b(`content-${S(r)}`)),m=le(()=>i.b(`head-${S(r)}`));return{arrowKls:c,headKls:l,rootKls:s,itemWrapperKls:a,itemContentKls:f,scopedContentId:p,scopedHeadId:m}},OHe=["id","aria-expanded","aria-controls","aria-describedby","tabindex"],DHe=["id","aria-hidden","aria-labelledby"],NHe=Be({name:"ElCollapseItem"}),UHe=Be({...NHe,props:PHe,setup(t,{expose:e}){const n=t,{focusing:r,id:i,isActive:s,handleFocus:l,handleHeaderClick:c,handleEnterClick:a}=FHe(n),{arrowKls:f,headKls:p,rootKls:m,itemWrapperKls:v,itemContentKls:y,scopedContentId:T,scopedHeadId:C}=RHe(n,{focusing:r,isActive:s,id:i});return e({isActive:s}),(k,M)=>(X(),ve("div",{class:Se(S(m))},[pe("button",{id:S(C),class:Se(S(p)),"aria-expanded":S(s),"aria-controls":S(T),"aria-describedby":S(T),tabindex:k.disabled?-1:0,type:"button",onClick:M[0]||(M[0]=(...P)=>S(c)&&S(c)(...P)),onKeydown:M[1]||(M[1]=Ga(Pr((...P)=>S(a)&&S(a)(...P),["stop","prevent"]),["space","enter"])),onFocus:M[2]||(M[2]=(...P)=>S(l)&&S(l)(...P)),onBlur:M[3]||(M[3]=P=>r.value=!1)},[Ft(k.$slots,"title",{},()=>[xi(Cn(k.title),1)]),ht(S(Ar),{class:Se(S(f))},{default:xt(()=>[ht(S(Vc))]),_:1},8,["class"])],42,OHe),ht(S(dM),null,{default:xt(()=>[Jr(pe("div",{id:S(T),role:"region",class:Se(S(v)),"aria-hidden":!S(s),"aria-labelledby":S(C)},[pe("div",{class:Se(S(y))},[Ft(k.$slots,"default")],2)],10,DHe),[[ca,S(s)]])]),_:3})],2))}});var doe=Fn(UHe,[["__file","collapse-item.vue"]]);const zHe=pi(MHe,{CollapseItem:doe}),$He=ao(doe),VHe=Ln({color:{type:Rt(Object),required:!0},vertical:{type:Boolean,default:!1}});let Rk=!1;function m6(t,e){if(!ra)return;const n=function(s){var l;(l=e.drag)==null||l.call(e,s)},r=function(s){var l;document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",r),document.removeEventListener("touchmove",n),document.removeEventListener("touchend",r),document.onselectstart=null,document.ondragstart=null,Rk=!1,(l=e.end)==null||l.call(e,s)},i=function(s){var l;Rk||(s.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",n),document.addEventListener("mouseup",r),document.addEventListener("touchmove",n),document.addEventListener("touchend",r),Rk=!0,(l=e.start)==null||l.call(e,s))};t.addEventListener("mousedown",i),t.addEventListener("touchstart",i)}const HHe=t=>{const e=ci(),n=vs(),r=vs();function i(l){l.target!==n.value&&s(l)}function s(l){if(!r.value||!n.value)return;const a=e.vnode.el.getBoundingClientRect(),{clientX:f,clientY:p}=$9(l);if(t.vertical){let m=p-a.top;m=Math.max(n.value.offsetHeight/2,m),m=Math.min(m,a.height-n.value.offsetHeight/2),t.color.set("alpha",Math.round((m-n.value.offsetHeight/2)/(a.height-n.value.offsetHeight)*100))}else{let m=f-a.left;m=Math.max(n.value.offsetWidth/2,m),m=Math.min(m,a.width-n.value.offsetWidth/2),t.color.set("alpha",Math.round((m-n.value.offsetWidth/2)/(a.width-n.value.offsetWidth)*100))}}return{thumb:n,bar:r,handleDrag:s,handleClick:i}},QHe=(t,{bar:e,thumb:n,handleDrag:r})=>{const i=ci(),s=vn("color-alpha-slider"),l=Te(0),c=Te(0),a=Te();function f(){if(!n.value||t.vertical)return 0;const P=i.vnode.el,R=t.color.get("alpha");return P?Math.round(R*(P.offsetWidth-n.value.offsetWidth/2)/100):0}function p(){if(!n.value)return 0;const P=i.vnode.el;if(!t.vertical)return 0;const R=t.color.get("alpha");return P?Math.round(R*(P.offsetHeight-n.value.offsetHeight/2)/100):0}function m(){if(t.color&&t.color.value){const{r:P,g:R,b:N}=t.color.toRgb();return`linear-gradient(to right, rgba(${P}, ${R}, ${N}, 0) 0%, rgba(${P}, ${R}, ${N}, 1) 100%)`}return""}function v(){l.value=f(),c.value=p(),a.value=m()}Fr(()=>{if(!e.value||!n.value)return;const P={drag:R=>{r(R)},end:R=>{r(R)}};m6(e.value,P),m6(n.value,P),v()}),ln(()=>t.color.get("alpha"),()=>v()),ln(()=>t.color.value,()=>v());const y=le(()=>[s.b(),s.is("vertical",t.vertical)]),T=le(()=>s.e("bar")),C=le(()=>s.e("thumb")),k=le(()=>({background:a.value})),M=le(()=>({left:So(l.value),top:So(c.value)}));return{rootKls:y,barKls:T,barStyle:k,thumbKls:C,thumbStyle:M,update:v}},jHe="ElColorAlphaSlider",GHe=Be({name:jHe}),KHe=Be({...GHe,props:VHe,setup(t,{expose:e}){const n=t,{bar:r,thumb:i,handleDrag:s,handleClick:l}=HHe(n),{rootKls:c,barKls:a,barStyle:f,thumbKls:p,thumbStyle:m,update:v}=QHe(n,{bar:r,thumb:i,handleDrag:s});return e({update:v,bar:r,thumb:i}),(y,T)=>(X(),ve("div",{class:Se(S(c))},[pe("div",{ref_key:"bar",ref:r,class:Se(S(a)),style:or(S(f)),onClick:T[0]||(T[0]=(...C)=>S(l)&&S(l)(...C))},null,6),pe("div",{ref_key:"thumb",ref:i,class:Se(S(p)),style:or(S(m))},null,6)],2))}});var WHe=Fn(KHe,[["__file","alpha-slider.vue"]]);const qHe=Be({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(t){const e=vn("color-hue-slider"),n=ci(),r=Te(),i=Te(),s=Te(0),l=Te(0),c=le(()=>t.color.get("hue"));ln(()=>c.value,()=>{v()});function a(y){y.target!==r.value&&f(y)}function f(y){if(!i.value||!r.value)return;const C=n.vnode.el.getBoundingClientRect(),{clientX:k,clientY:M}=$9(y);let P;if(t.vertical){let R=M-C.top;R=Math.min(R,C.height-r.value.offsetHeight/2),R=Math.max(r.value.offsetHeight/2,R),P=Math.round((R-r.value.offsetHeight/2)/(C.height-r.value.offsetHeight)*360)}else{let R=k-C.left;R=Math.min(R,C.width-r.value.offsetWidth/2),R=Math.max(r.value.offsetWidth/2,R),P=Math.round((R-r.value.offsetWidth/2)/(C.width-r.value.offsetWidth)*360)}t.color.set("hue",P)}function p(){if(!r.value)return 0;const y=n.vnode.el;if(t.vertical)return 0;const T=t.color.get("hue");return y?Math.round(T*(y.offsetWidth-r.value.offsetWidth/2)/360):0}function m(){if(!r.value)return 0;const y=n.vnode.el;if(!t.vertical)return 0;const T=t.color.get("hue");return y?Math.round(T*(y.offsetHeight-r.value.offsetHeight/2)/360):0}function v(){s.value=p(),l.value=m()}return Fr(()=>{if(!i.value||!r.value)return;const y={drag:T=>{f(T)},end:T=>{f(T)}};m6(i.value,y),m6(r.value,y),v()}),{bar:i,thumb:r,thumbLeft:s,thumbTop:l,hueValue:c,handleClick:a,update:v,ns:e}}});function YHe(t,e,n,r,i,s){return X(),ve("div",{class:Se([t.ns.b(),t.ns.is("vertical",t.vertical)])},[pe("div",{ref:"bar",class:Se(t.ns.e("bar")),onClick:e[0]||(e[0]=(...l)=>t.handleClick&&t.handleClick(...l))},null,2),pe("div",{ref:"thumb",class:Se(t.ns.e("thumb")),style:or({left:t.thumbLeft+"px",top:t.thumbTop+"px"})},null,6)],2)}var XHe=Fn(qHe,[["render",YHe],["__file","hue-slider.vue"]]);const ZHe=Ln({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:lu,popperClass:{type:String,default:""},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},teleported:gu.teleported,predefine:{type:Rt(Array)},validateEvent:{type:Boolean,default:!0},...Wu(["ariaLabel"])}),JHe={[_i]:t=>Hr(t)||Cu(t),[bs]:t=>Hr(t)||Cu(t),activeChange:t=>Hr(t)||Cu(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent},foe=Symbol("colorPickerContextKey"),bq=function(t,e,n){return[t,e*n/((t=(2-e)*n)<1?t:2-t)||0,t/2]},eQe=function(t){return typeof t=="string"&&t.includes(".")&&Number.parseFloat(t)===1},tQe=function(t){return typeof t=="string"&&t.includes("%")},Xw=function(t,e){eQe(t)&&(t="100%");const n=tQe(t);return t=Math.min(e,Math.max(0,Number.parseFloat(`${t}`))),n&&(t=Number.parseInt(`${t*e}`,10)/100),Math.abs(t-e)<1e-6?1:t%e/Number.parseFloat(e)},wq={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},pT=t=>{t=Math.min(Math.round(t),255);const e=Math.floor(t/16),n=t%16;return`${wq[e]||e}${wq[n]||n}`},xq=function({r:t,g:e,b:n}){return Number.isNaN(+t)||Number.isNaN(+e)||Number.isNaN(+n)?"":`#${pT(t)}${pT(e)}${pT(n)}`},Ok={A:10,B:11,C:12,D:13,E:14,F:15},b_=function(t){return t.length===2?(Ok[t[0].toUpperCase()]||+t[0])*16+(Ok[t[1].toUpperCase()]||+t[1]):Ok[t[1].toUpperCase()]||+t[1]},nQe=function(t,e,n){e=e/100,n=n/100;let r=e;const i=Math.max(n,.01);n*=2,e*=n<=1?n:2-n,r*=i<=1?i:2-i;const s=(n+e)/2,l=n===0?2*r/(i+r):2*e/(n+e);return{h:t,s:l*100,v:s*100}},Cq=(t,e,n)=>{t=Xw(t,255),e=Xw(e,255),n=Xw(n,255);const r=Math.max(t,e,n),i=Math.min(t,e,n);let s;const l=r,c=r-i,a=r===0?0:c/r;if(r===i)s=0;else{switch(r){case t:{s=(e-n)/c+(e<n?6:0);break}case e:{s=(n-t)/c+2;break}case n:{s=(t-e)/c+4;break}}s/=6}return{h:s*360,s:a*100,v:l*100}},m4=function(t,e,n){t=Xw(t,360)*6,e=Xw(e,100),n=Xw(n,100);const r=Math.floor(t),i=t-r,s=n*(1-e),l=n*(1-i*e),c=n*(1-(1-i)*e),a=r%6,f=[n,l,s,s,c,n][a],p=[c,n,n,l,s,s][a],m=[s,s,c,n,n,l][a];return{r:Math.round(f*255),g:Math.round(p*255),b:Math.round(m*255)}};class xC{constructor(e={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const n in e)aa(e,n)&&(this[n]=e[n]);e.value?this.fromString(e.value):this.doOnChange()}set(e,n){if(arguments.length===1&&typeof e=="object"){for(const r in e)aa(e,r)&&this.set(r,e[r]);return}this[`_${e}`]=n,this.doOnChange()}get(e){return e==="alpha"?Math.floor(this[`_${e}`]):this[`_${e}`]}toRgb(){return m4(this._hue,this._saturation,this._value)}fromString(e){if(!e){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const n=(r,i,s)=>{this._hue=Math.max(0,Math.min(360,r)),this._saturation=Math.max(0,Math.min(100,i)),this._value=Math.max(0,Math.min(100,s)),this.doOnChange()};if(e.includes("hsl")){const r=e.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(i=>i!=="").map((i,s)=>s>2?Number.parseFloat(i):Number.parseInt(i,10));if(r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3){const{h:i,s,v:l}=nQe(r[0],r[1],r[2]);n(i,s,l)}}else if(e.includes("hsv")){const r=e.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(i=>i!=="").map((i,s)=>s>2?Number.parseFloat(i):Number.parseInt(i,10));r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3&&n(r[0],r[1],r[2])}else if(e.includes("rgb")){const r=e.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(i=>i!=="").map((i,s)=>s>2?Number.parseFloat(i):Number.parseInt(i,10));if(r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3){const{h:i,s,v:l}=Cq(r[0],r[1],r[2]);n(i,s,l)}}else if(e.includes("#")){const r=e.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(r))return;let i,s,l;r.length===3?(i=b_(r[0]+r[0]),s=b_(r[1]+r[1]),l=b_(r[2]+r[2])):(r.length===6||r.length===8)&&(i=b_(r.slice(0,2)),s=b_(r.slice(2,4)),l=b_(r.slice(4,6))),r.length===8?this._alpha=b_(r.slice(6))/255*100:(r.length===3||r.length===6)&&(this._alpha=100);const{h:c,s:a,v:f}=Cq(i,s,l);n(c,a,f)}}compare(e){return Math.abs(e._hue-this._hue)<2&&Math.abs(e._saturation-this._saturation)<1&&Math.abs(e._value-this._value)<1&&Math.abs(e._alpha-this._alpha)<1}doOnChange(){const{_hue:e,_saturation:n,_value:r,_alpha:i,format:s}=this;if(this.enableAlpha)switch(s){case"hsl":{const l=bq(e,n/100,r/100);this.value=`hsla(${e}, ${Math.round(l[1]*100)}%, ${Math.round(l[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${e}, ${Math.round(n)}%, ${Math.round(r)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${xq(m4(e,n,r))}${pT(i*255/100)}`;break}default:{const{r:l,g:c,b:a}=m4(e,n,r);this.value=`rgba(${l}, ${c}, ${a}, ${this.get("alpha")/100})`}}else switch(s){case"hsl":{const l=bq(e,n/100,r/100);this.value=`hsl(${e}, ${Math.round(l[1]*100)}%, ${Math.round(l[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${e}, ${Math.round(n)}%, ${Math.round(r)}%)`;break}case"rgb":{const{r:l,g:c,b:a}=m4(e,n,r);this.value=`rgb(${l}, ${c}, ${a})`;break}default:this.value=xq(m4(e,n,r))}}}const rQe=Be({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0}},setup(t){const e=vn("color-predefine"),{currentColor:n}=ar(foe),r=Te(s(t.colors,t.color));ln(()=>n.value,l=>{const c=new xC;c.fromString(l),r.value.forEach(a=>{a.selected=c.compare(a)})}),uc(()=>{r.value=s(t.colors,t.color)});function i(l){t.color.fromString(t.colors[l])}function s(l,c){return l.map(a=>{const f=new xC;return f.enableAlpha=!0,f.format="rgba",f.fromString(a),f.selected=f.value===c.value,f})}return{rgbaColors:r,handleSelect:i,ns:e}}}),iQe=["onClick"];function aQe(t,e,n,r,i,s){return X(),ve("div",{class:Se(t.ns.b())},[pe("div",{class:Se(t.ns.e("colors"))},[(X(!0),ve(Vn,null,Yr(t.rgbaColors,(l,c)=>(X(),ve("div",{key:t.colors[c],class:Se([t.ns.e("color-selector"),t.ns.is("alpha",l._alpha<100),{selected:l.selected}]),onClick:a=>t.handleSelect(c)},[pe("div",{style:or({backgroundColor:l.value})},null,4)],10,iQe))),128))],2)],2)}var sQe=Fn(rQe,[["render",aQe],["__file","predefine.vue"]]);const oQe=Be({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(t){const e=vn("color-svpanel"),n=ci(),r=Te(0),i=Te(0),s=Te("hsl(0, 100%, 50%)"),l=le(()=>{const f=t.color.get("hue"),p=t.color.get("value");return{hue:f,value:p}});function c(){const f=t.color.get("saturation"),p=t.color.get("value"),m=n.vnode.el,{clientWidth:v,clientHeight:y}=m;i.value=f*v/100,r.value=(100-p)*y/100,s.value=`hsl(${t.color.get("hue")}, 100%, 50%)`}function a(f){const m=n.vnode.el.getBoundingClientRect(),{clientX:v,clientY:y}=$9(f);let T=v-m.left,C=y-m.top;T=Math.max(0,T),T=Math.min(T,m.width),C=Math.max(0,C),C=Math.min(C,m.height),i.value=T,r.value=C,t.color.set({saturation:T/m.width*100,value:100-C/m.height*100})}return ln(()=>l.value,()=>{c()}),Fr(()=>{m6(n.vnode.el,{drag:f=>{a(f)},end:f=>{a(f)}}),c()}),{cursorTop:r,cursorLeft:i,background:s,colorValue:l,handleDrag:a,update:c,ns:e}}}),lQe=pe("div",null,null,-1),uQe=[lQe];function cQe(t,e,n,r,i,s){return X(),ve("div",{class:Se(t.ns.b()),style:or({backgroundColor:t.background})},[pe("div",{class:Se(t.ns.e("white"))},null,2),pe("div",{class:Se(t.ns.e("black"))},null,2),pe("div",{class:Se(t.ns.e("cursor")),style:or({top:t.cursorTop+"px",left:t.cursorLeft+"px"})},uQe,6)],6)}var hQe=Fn(oQe,[["render",cQe],["__file","sv-panel.vue"]]);const dQe=["onKeydown"],fQe=["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex"],pQe=Be({name:"ElColorPicker"}),AQe=Be({...pQe,props:ZHe,emits:JHe,setup(t,{expose:e,emit:n}){const r=t,{t:i}=da(),s=vn("color"),{formItem:l}=Qc(),c=ml(),a=fh(),{inputId:f,isLabeledByFormItem:p}=dA(r,{formItemContext:l}),m=Te(),v=Te(),y=Te(),T=Te(),C=Te(),k=Te(),{isFocused:M,handleFocus:P,handleBlur:R}=sM(C,{beforeBlur(Je){var nt;return(nt=T.value)==null?void 0:nt.isFocusInsideContent(Je)},afterBlur(){te(!1),ye()}}),N=Je=>{if(a.value)return Qe();P(Je)};let z=!0;const H=ha(new xC({enableAlpha:r.showAlpha,format:r.colorFormat||"",value:r.modelValue})),j=Te(!1),Q=Te(!1),G=Te(""),ie=le(()=>!r.modelValue&&!Q.value?"transparent":J(H,r.showAlpha)),q=le(()=>!r.modelValue&&!Q.value?"":H.value),W=le(()=>p.value?void 0:r.label||r.ariaLabel||i("el.colorpicker.defaultLabel"));wu({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-color-picker",ref:"https://element-plus.org/en-US/component/color-picker.html"},le(()=>!!r.label));const ee=le(()=>p.value?l==null?void 0:l.labelId:void 0),he=le(()=>[s.b("picker"),s.is("disabled",a.value),s.bm("picker",c.value),s.is("focused",M.value)]);function J(Je,nt){if(!(Je instanceof xC))throw new TypeError("color should be instance of _color Class");const{r:Ve,g:ke,b:Ge}=Je.toRgb();return nt?`rgba(${Ve}, ${ke}, ${Ge}, ${Je.get("alpha")/100})`:`rgb(${Ve}, ${ke}, ${Ge})`}function te(Je){j.value=Je}const ne=Wh(te,100,{leading:!0});function ce(){a.value||te(!0)}function ue(){ne(!1),ye()}function ye(){dr(()=>{r.modelValue?H.fromString(r.modelValue):(H.value="",dr(()=>{Q.value=!1}))})}function Ee(){a.value||ne(!j.value)}function se(){H.fromString(G.value)}function oe(){const Je=H.value;n(_i,Je),n("change",Je),r.validateEvent&&(l==null||l.validate("change").catch(nt=>void 0)),ne(!1),dr(()=>{const nt=new xC({enableAlpha:r.showAlpha,format:r.colorFormat||"",value:r.modelValue});H.compare(nt)||ye()})}function _e(){ne(!1),n(_i,null),n("change",null),r.modelValue!==null&&r.validateEvent&&(l==null||l.validate("change").catch(Je=>void 0)),ye()}function Ue(Je){if(j.value&&(ue(),M.value)){const nt=new FocusEvent("focus",Je);R(nt)}}function Le(Je){Je.preventDefault(),Je.stopPropagation(),te(!1),ye()}function be(Je){switch(Je.code){case Tr.enter:case Tr.space:Je.preventDefault(),Je.stopPropagation(),ce(),k.value.focus();break;case Tr.esc:Le(Je);break}}function Re(){C.value.focus()}function Qe(){C.value.blur()}return Fr(()=>{r.modelValue&&(G.value=q.value)}),ln(()=>r.modelValue,Je=>{Je?Je&&Je!==H.value&&(z=!1,H.fromString(Je)):Q.value=!1}),ln(()=>q.value,Je=>{G.value=Je,z&&n("activeChange",Je),z=!0}),ln(()=>H.value,()=>{!r.modelValue&&!Q.value&&(Q.value=!0)}),ln(()=>j.value,()=>{dr(()=>{var Je,nt,Ve;(Je=m.value)==null||Je.update(),(nt=v.value)==null||nt.update(),(Ve=y.value)==null||Ve.update()})}),ki(foe,{currentColor:q}),e({color:H,show:ce,hide:ue,focus:Re,blur:Qe}),(Je,nt)=>(X(),Ut(S(Hc),{ref_key:"popper",ref:T,visible:j.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[S(s).be("picker","panel"),S(s).b("dropdown"),Je.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",teleported:Je.teleported,transition:`${S(s).namespace.value}-zoom-in-top`,persistent:"",onHide:nt[2]||(nt[2]=Ve=>te(!1))},{content:xt(()=>[Jr((X(),ve("div",{onKeydown:Ga(Le,["esc"])},[pe("div",{class:Se(S(s).be("dropdown","main-wrapper"))},[ht(XHe,{ref_key:"hue",ref:m,class:"hue-slider",color:S(H),vertical:""},null,8,["color"]),ht(hQe,{ref_key:"sv",ref:v,color:S(H)},null,8,["color"])],2),Je.showAlpha?(X(),Ut(WHe,{key:0,ref_key:"alpha",ref:y,color:S(H)},null,8,["color"])):bt("v-if",!0),Je.predefine?(X(),Ut(sQe,{key:1,ref:"predefine",color:S(H),colors:Je.predefine},null,8,["color","colors"])):bt("v-if",!0),pe("div",{class:Se(S(s).be("dropdown","btns"))},[pe("span",{class:Se(S(s).be("dropdown","value"))},[ht(S(Nc),{ref_key:"inputRef",ref:k,modelValue:G.value,"onUpdate:modelValue":nt[0]||(nt[0]=Ve=>G.value=Ve),"validate-event":!1,size:"small",onKeyup:Ga(se,["enter"]),onBlur:se},null,8,["modelValue","onKeyup"])],2),ht(S(Eu),{class:Se(S(s).be("dropdown","link-btn")),text:"",size:"small",onClick:_e},{default:xt(()=>[xi(Cn(S(i)("el.colorpicker.clear")),1)]),_:1},8,["class"]),ht(S(Eu),{plain:"",size:"small",class:Se(S(s).be("dropdown","btn")),onClick:oe},{default:xt(()=>[xi(Cn(S(i)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)],40,dQe)),[[S(u0),Ue]])]),default:xt(()=>[pe("div",{id:S(f),ref_key:"triggerRef",ref:C,class:Se(S(he)),role:"button","aria-label":S(W),"aria-labelledby":S(ee),"aria-description":S(i)("el.colorpicker.description",{color:Je.modelValue||""}),"aria-disabled":S(a),tabindex:S(a)?-1:Je.tabindex,onKeydown:be,onFocus:N,onBlur:nt[1]||(nt[1]=(...Ve)=>S(R)&&S(R)(...Ve))},[S(a)?(X(),ve("div",{key:0,class:Se(S(s).be("picker","mask"))},null,2)):bt("v-if",!0),pe("div",{class:Se(S(s).be("picker","trigger")),onClick:Ee},[pe("span",{class:Se([S(s).be("picker","color"),S(s).is("alpha",Je.showAlpha)])},[pe("span",{class:Se(S(s).be("picker","color-inner")),style:or({backgroundColor:S(ie)})},[Jr(ht(S(Ar),{class:Se([S(s).be("picker","icon"),S(s).is("icon-arrow-down")])},{default:xt(()=>[ht(S(Rm))]),_:1},8,["class"]),[[ca,Je.modelValue||Q.value]]),Jr(ht(S(Ar),{class:Se([S(s).be("picker","empty"),S(s).is("icon-close")])},{default:xt(()=>[ht(S(Rf))]),_:1},8,["class"]),[[ca,!Je.modelValue&&!Q.value]])],6)],2)],2)],42,fQe)]),_:1},8,["visible","popper-class","teleported","transition"]))}});var mQe=Fn(AQe,[["__file","color-picker.vue"]]);const gQe=pi(mQe),vQe=Be({name:"ElContainer"}),_Qe=Be({...vQe,props:{direction:{type:String}},setup(t){const e=t,n=To(),r=vn("container"),i=le(()=>e.direction==="vertical"?!0:e.direction==="horizontal"?!1:n&&n.default?n.default().some(l=>{const c=l.type.name;return c==="ElHeader"||c==="ElFooter"}):!1);return(s,l)=>(X(),ve("section",{class:Se([S(r).b(),S(r).is("vertical",S(i))])},[Ft(s.$slots,"default")],2))}});var yQe=Fn(_Qe,[["__file","container.vue"]]);const bQe=Be({name:"ElAside"}),wQe=Be({...bQe,props:{width:{type:String,default:null}},setup(t){const e=t,n=vn("aside"),r=le(()=>e.width?n.cssVarBlock({width:e.width}):{});return(i,s)=>(X(),ve("aside",{class:Se(S(n).b()),style:or(S(r))},[Ft(i.$slots,"default")],6))}});var poe=Fn(wQe,[["__file","aside.vue"]]);const xQe=Be({name:"ElFooter"}),CQe=Be({...xQe,props:{height:{type:String,default:null}},setup(t){const e=t,n=vn("footer"),r=le(()=>e.height?n.cssVarBlock({height:e.height}):{});return(i,s)=>(X(),ve("footer",{class:Se(S(n).b()),style:or(S(r))},[Ft(i.$slots,"default")],6))}});var Aoe=Fn(CQe,[["__file","footer.vue"]]);const EQe=Be({name:"ElHeader"}),SQe=Be({...EQe,props:{height:{type:String,default:null}},setup(t){const e=t,n=vn("header"),r=le(()=>e.height?n.cssVarBlock({height:e.height}):{});return(i,s)=>(X(),ve("header",{class:Se(S(n).b()),style:or(S(r))},[Ft(i.$slots,"default")],6))}});var moe=Fn(SQe,[["__file","header.vue"]]);const TQe=Be({name:"ElMain"}),BQe=Be({...TQe,setup(t){const e=vn("main");return(n,r)=>(X(),ve("main",{class:Se(S(e).b())},[Ft(n.$slots,"default")],2))}});var goe=Fn(BQe,[["__file","main.vue"]]);const MQe=pi(yQe,{Aside:poe,Footer:Aoe,Header:moe,Main:goe}),IQe=ao(poe),LQe=ao(Aoe),kQe=ao(moe),PQe=ao(goe);var voe={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Fm,function(){return function(n,r){var i=r.prototype,s=i.format;i.format=function(l){var c=this,a=this.$locale();if(!this.isValid())return s.bind(this)(l);var f=this.$utils(),p=(l||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(m){switch(m){case"Q":return Math.ceil((c.$M+1)/3);case"Do":return a.ordinal(c.$D);case"gggg":return c.weekYear();case"GGGG":return c.isoWeekYear();case"wo":return a.ordinal(c.week(),"W");case"w":case"ww":return f.s(c.week(),m==="w"?1:2,"0");case"W":case"WW":return f.s(c.isoWeek(),m==="W"?1:2,"0");case"k":case"kk":return f.s(String(c.$H===0?24:c.$H),m==="k"?1:2,"0");case"X":return Math.floor(c.$d.getTime()/1e3);case"x":return c.$d.getTime();case"z":return"["+c.offsetName()+"]";case"zzz":return"["+c.offsetName("long")+"]";default:return m}});return s.bind(this)(p)}}})})(voe);var FQe=voe.exports;const RQe=lA(FQe);var _oe={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Fm,function(){var n="week",r="year";return function(i,s,l){var c=s.prototype;c.week=function(a){if(a===void 0&&(a=null),a!==null)return this.add(7*(a-this.week()),"day");var f=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var p=l(this).startOf(r).add(1,r).date(f),m=l(this).endOf(n);if(p.isBefore(m))return 1}var v=l(this).startOf(r).date(f).startOf(n).subtract(1,"millisecond"),y=this.diff(v,n,!0);return y<0?l(this).startOf("week").week():Math.ceil(y)},c.weeks=function(a){return a===void 0&&(a=null),this.week(a)}}})})(_oe);var OQe=_oe.exports;const DQe=lA(OQe);var yoe={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Fm,function(){return function(n,r){r.prototype.weekYear=function(){var i=this.month(),s=this.week(),l=this.year();return s===1&&i===11?l+1:i===0&&s>=52?l-1:l}}})})(yoe);var NQe=yoe.exports;const UQe=lA(NQe);var boe={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Fm,function(){return function(n,r,i){r.prototype.dayOfYear=function(s){var l=Math.round((i(this).startOf("day")-i(this).startOf("year"))/864e5)+1;return s==null?l:this.add(s-l,"day")}}})})(boe);var zQe=boe.exports;const $Qe=lA(zQe);var woe={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Fm,function(){return function(n,r){r.prototype.isSameOrAfter=function(i,s){return this.isSame(i,s)||this.isAfter(i,s)}}})})(woe);var VQe=woe.exports;const HQe=lA(VQe);var xoe={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Fm,function(){return function(n,r){r.prototype.isSameOrBefore=function(i,s){return this.isSame(i,s)||this.isBefore(i,s)}}})})(xoe);var QQe=xoe.exports;const jQe=lA(QQe),Q7=Symbol(),GQe=Ln({...V7,type:{type:Rt(String),default:"date"}}),KQe=["date","dates","year","years","month","week","range"],j7=Ln({disabledDate:{type:Rt(Function)},date:{type:Rt(Object),required:!0},minDate:{type:Rt(Object)},maxDate:{type:Rt(Object)},parsedValue:{type:Rt([Object,Array])},rangeState:{type:Rt(Object),default:()=>({endDate:null,selecting:!1})}}),Coe=Ln({type:{type:Rt(String),required:!0,values:pOe},dateFormat:String,timeFormat:String}),Eoe=Ln({unlinkPanels:Boolean,parsedValue:{type:Rt(Array)}}),G7=t=>({type:String,values:KQe,default:t}),WQe=Ln({...Coe,parsedValue:{type:Rt([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),qQe=Ln({...j7,cellClassName:{type:Rt(Function)},showWeekNumber:Boolean,selectionMode:G7("date")}),YQe=["changerange","pick","select"],rO=t=>{if(!Jn(t))return!1;const[e,n]=t;return Ai.isDayjs(e)&&Ai.isDayjs(n)&&e.isSameOrBefore(n)},Soe=(t,{lang:e,unit:n,unlinkPanels:r})=>{let i;if(Jn(t)){let[s,l]=t.map(c=>Ai(c).locale(e));return r||(l=s.add(1,n)),[s,l]}else t?i=Ai(t):i=Ai();return i=i.locale(e),[i,i.add(1,n)]},XQe=(t,e,{columnIndexOffset:n,startDate:r,nextEndDate:i,now:s,unit:l,relativeDateGetter:c,setCellMetadata:a,setRowMetadata:f})=>{for(let p=0;p<t.row;p++){const m=e[p];for(let v=0;v<t.column;v++){let y=m[v+n];y||(y={row:p,column:v,type:"normal",inRange:!1,start:!1,end:!1});const T=p*t.column+v,C=c(T);y.dayjs=C,y.date=C.toDate(),y.timestamp=C.valueOf(),y.type="normal",y.inRange=!!(r&&C.isSameOrAfter(r,l)&&i&&C.isSameOrBefore(i,l))||!!(r&&C.isSameOrBefore(r,l)&&i&&C.isSameOrAfter(i,l)),r!=null&&r.isSameOrAfter(i)?(y.start=!!i&&C.isSame(i,l),y.end=r&&C.isSame(r,l)):(y.start=!!r&&C.isSame(r,l),y.end=!!i&&C.isSame(i,l)),C.isSame(s,l)&&(y.type="today"),a==null||a(y,{rowIndex:p,columnIndex:v}),m[v+n]=y}f==null||f(m)}},iO=(t="")=>["normal","today"].includes(t),ZQe=(t,e)=>{const{lang:n}=da(),r=Te(),i=Te(),s=Te(),l=Te(),c=Te([[],[],[],[],[],[]]);let a=!1;const f=t.date.$locale().weekStart||7,p=t.date.locale("en").localeData().weekdaysShort().map(ue=>ue.toLowerCase()),m=le(()=>f>3?7-f:-f),v=le(()=>{const ue=t.date.startOf("month");return ue.subtract(ue.day()||7,"day")}),y=le(()=>p.concat(p).slice(f,f+7)),T=le(()=>Cie(S(N)).some(ue=>ue.isCurrent)),C=le(()=>{const ue=t.date.startOf("month"),ye=ue.day()||7,Ee=ue.daysInMonth(),se=ue.subtract(1,"month").daysInMonth();return{startOfMonthDay:ye,dateCountOfMonth:Ee,dateCountOfLastMonth:se}}),k=le(()=>t.selectionMode==="dates"?Dd(t.parsedValue):[]),M=(ue,{count:ye,rowIndex:Ee,columnIndex:se})=>{const{startOfMonthDay:oe,dateCountOfMonth:_e,dateCountOfLastMonth:Ue}=S(C),Le=S(m);if(Ee>=0&&Ee<=1){const be=oe+Le<0?7+oe+Le:oe+Le;if(se+Ee*7>=be)return ue.text=ye,!0;ue.text=Ue-(be-se%7)+1+Ee*7,ue.type="prev-month"}else return ye<=_e?ue.text=ye:(ue.text=ye-_e,ue.type="next-month"),!0;return!1},P=(ue,{columnIndex:ye,rowIndex:Ee},se)=>{const{disabledDate:oe,cellClassName:_e}=t,Ue=S(k),Le=M(ue,{count:se,rowIndex:Ee,columnIndex:ye}),be=ue.dayjs.toDate();return ue.selected=Ue.find(Re=>Re.isSame(ue.dayjs,"day")),ue.isSelected=!!ue.selected,ue.isCurrent=H(ue),ue.disabled=oe==null?void 0:oe(be),ue.customClass=_e==null?void 0:_e(be),Le},R=ue=>{if(t.selectionMode==="week"){const[ye,Ee]=t.showWeekNumber?[1,7]:[0,6],se=ce(ue[ye+1]);ue[ye].inRange=se,ue[ye].start=se,ue[Ee].inRange=se,ue[Ee].end=se}},N=le(()=>{const{minDate:ue,maxDate:ye,rangeState:Ee,showWeekNumber:se}=t,oe=S(m),_e=S(c),Ue="day";let Le=1;if(se)for(let be=0;be<6;be++)_e[be][0]||(_e[be][0]={type:"week",text:S(v).add(be*7+1,Ue).week()});return XQe({row:6,column:7},_e,{startDate:ue,columnIndexOffset:se?1:0,nextEndDate:Ee.endDate||ye||Ee.selecting&&ue||null,now:Ai().locale(S(n)).startOf(Ue),unit:Ue,relativeDateGetter:be=>S(v).add(be-oe,Ue),setCellMetadata:(...be)=>{P(...be,Le)&&(Le+=1)},setRowMetadata:R}),_e});ln(()=>t.date,async()=>{var ue;(ue=S(r))!=null&&ue.contains(document.activeElement)&&(await dr(),await z())});const z=async()=>{var ue;return(ue=S(i))==null?void 0:ue.focus()},H=ue=>t.selectionMode==="date"&&iO(ue.type)&&j(ue,t.parsedValue),j=(ue,ye)=>ye?Ai(ye).locale(S(n)).isSame(t.date.date(Number(ue.text)),"day"):!1,Q=(ue,ye)=>{const Ee=ue*7+(ye-(t.showWeekNumber?1:0))-S(m);return S(v).add(Ee,"day")},G=ue=>{var ye;if(!t.rangeState.selecting)return;let Ee=ue.target;if(Ee.tagName==="SPAN"&&(Ee=(ye=Ee.parentNode)==null?void 0:ye.parentNode),Ee.tagName==="DIV"&&(Ee=Ee.parentNode),Ee.tagName!=="TD")return;const se=Ee.parentNode.rowIndex-1,oe=Ee.cellIndex;S(N)[se][oe].disabled||(se!==S(s)||oe!==S(l))&&(s.value=se,l.value=oe,e("changerange",{selecting:!0,endDate:Q(se,oe)}))},ie=ue=>!S(T)&&(ue==null?void 0:ue.text)===1&&ue.type==="normal"||ue.isCurrent,q=ue=>{a||S(T)||t.selectionMode!=="date"||ne(ue,!0)},W=ue=>{ue.target.closest("td")&&(a=!0)},ee=ue=>{ue.target.closest("td")&&(a=!1)},he=ue=>{!t.rangeState.selecting||!t.minDate?(e("pick",{minDate:ue,maxDate:null}),e("select",!0)):(ue>=t.minDate?e("pick",{minDate:t.minDate,maxDate:ue}):e("pick",{minDate:ue,maxDate:t.minDate}),e("select",!1))},J=ue=>{const ye=ue.week(),Ee=`${ue.year()}w${ye}`;e("pick",{year:ue.year(),week:ye,value:Ee,date:ue.startOf("week")})},te=(ue,ye)=>{const Ee=ye?Dd(t.parsedValue).filter(se=>(se==null?void 0:se.valueOf())!==ue.valueOf()):Dd(t.parsedValue).concat([ue]);e("pick",Ee)},ne=(ue,ye=!1)=>{const Ee=ue.target.closest("td");if(!Ee)return;const se=Ee.parentNode.rowIndex-1,oe=Ee.cellIndex,_e=S(N)[se][oe];if(_e.disabled||_e.type==="week")return;const Ue=Q(se,oe);switch(t.selectionMode){case"range":{he(Ue);break}case"date":{e("pick",Ue,ye);break}case"week":{J(Ue);break}case"dates":{te(Ue,!!_e.selected);break}}},ce=ue=>{if(t.selectionMode!=="week")return!1;let ye=t.date.startOf("day");if(ue.type==="prev-month"&&(ye=ye.subtract(1,"month")),ue.type==="next-month"&&(ye=ye.add(1,"month")),ye=ye.date(Number.parseInt(ue.text,10)),t.parsedValue&&!Array.isArray(t.parsedValue)){const Ee=(t.parsedValue.day()-f+7)%7-1;return t.parsedValue.subtract(Ee,"day").isSame(ye,"day")}return!1};return{WEEKS:y,rows:N,tbodyRef:r,currentCellRef:i,focus:z,isCurrent:H,isWeekActive:ce,isSelectedCell:ie,handlePickDate:ne,handleMouseUp:ee,handleMouseDown:W,handleMouseMove:G,handleFocus:q}},JQe=(t,{isCurrent:e,isWeekActive:n})=>{const r=vn("date-table"),{t:i}=da(),s=le(()=>[r.b(),{"is-week-mode":t.selectionMode==="week"}]),l=le(()=>i("el.datepicker.dateTablePrompt")),c=le(()=>i("el.datepicker.week"));return{tableKls:s,tableLabel:l,weekLabel:c,getCellClasses:p=>{const m=[];return iO(p.type)&&!p.disabled?(m.push("available"),p.type==="today"&&m.push("today")):m.push(p.type),e(p)&&m.push("current"),p.inRange&&(iO(p.type)||t.selectionMode==="week")&&(m.push("in-range"),p.start&&m.push("start-date"),p.end&&m.push("end-date")),p.disabled&&m.push("disabled"),p.selected&&m.push("selected"),p.customClass&&m.push(p.customClass),m.join(" ")},getRowKls:p=>[r.e("row"),{current:n(p)}],t:i}},eje=Ln({cell:{type:Rt(Object)}});var tje=Be({name:"ElDatePickerCell",props:eje,setup(t){const e=vn("date-table-cell"),{slots:n}=ar(Q7);return()=>{const{cell:r}=t;return Ft(n,"default",{...r},()=>[ht("div",{class:e.b()},[ht("span",{class:e.e("text")},[r==null?void 0:r.text])])])}}});const nje=["aria-label"],rje={key:0,scope:"col"},ije=["aria-label"],aje=["aria-current","aria-selected","tabindex"],sje=Be({__name:"basic-date-table",props:qQe,emits:YQe,setup(t,{expose:e,emit:n}){const r=t,{WEEKS:i,rows:s,tbodyRef:l,currentCellRef:c,focus:a,isCurrent:f,isWeekActive:p,isSelectedCell:m,handlePickDate:v,handleMouseUp:y,handleMouseDown:T,handleMouseMove:C,handleFocus:k}=ZQe(r,n),{tableLabel:M,tableKls:P,weekLabel:R,getCellClasses:N,getRowKls:z,t:H}=JQe(r,{isCurrent:f,isWeekActive:p});return e({focus:a}),(j,Q)=>(X(),ve("table",{"aria-label":S(M),class:Se(S(P)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:Q[1]||(Q[1]=(...G)=>S(v)&&S(v)(...G)),onMousemove:Q[2]||(Q[2]=(...G)=>S(C)&&S(C)(...G)),onMousedown:Q[3]||(Q[3]=Pr((...G)=>S(T)&&S(T)(...G),["prevent"])),onMouseup:Q[4]||(Q[4]=(...G)=>S(y)&&S(y)(...G))},[pe("tbody",{ref_key:"tbodyRef",ref:l},[pe("tr",null,[j.showWeekNumber?(X(),ve("th",rje,Cn(S(R)),1)):bt("v-if",!0),(X(!0),ve(Vn,null,Yr(S(i),(G,ie)=>(X(),ve("th",{key:ie,"aria-label":S(H)("el.datepicker.weeksFull."+G),scope:"col"},Cn(S(H)("el.datepicker.weeks."+G)),9,ije))),128))]),(X(!0),ve(Vn,null,Yr(S(s),(G,ie)=>(X(),ve("tr",{key:ie,class:Se(S(z)(G[1]))},[(X(!0),ve(Vn,null,Yr(G,(q,W)=>(X(),ve("td",{key:`${ie}.${W}`,ref_for:!0,ref:ee=>S(m)(q)&&(c.value=ee),class:Se(S(N)(q)),"aria-current":q.isCurrent?"date":void 0,"aria-selected":q.isCurrent,tabindex:S(m)(q)?0:-1,onFocus:Q[0]||(Q[0]=(...ee)=>S(k)&&S(k)(...ee))},[ht(S(tje),{cell:q},null,8,["cell"])],42,aje))),128))],2))),128))],512)],42,nje))}});var aO=Fn(sje,[["__file","basic-date-table.vue"]]);const oje=Ln({...j7,selectionMode:G7("month")}),lje=["aria-label"],uje=["aria-selected","aria-label","tabindex","onKeydown"],cje={class:"cell"},hje=Be({__name:"basic-month-table",props:oje,emits:["changerange","pick","select"],setup(t,{expose:e,emit:n}){const r=t,i=(N,z,H)=>{const j=Ai().locale(H).startOf("month").month(z).year(N),Q=j.daysInMonth();return i1(Q).map(G=>j.add(G,"day").toDate())},s=vn("month-table"),{t:l,lang:c}=da(),a=Te(),f=Te(),p=Te(r.date.locale("en").localeData().monthsShort().map(N=>N.toLowerCase())),m=Te([[],[],[]]),v=Te(),y=Te(),T=le(()=>{var N,z;const H=m.value,j=Ai().locale(c.value).startOf("month");for(let Q=0;Q<3;Q++){const G=H[Q];for(let ie=0;ie<4;ie++){const q=G[ie]||(G[ie]={row:Q,column:ie,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});q.type="normal";const W=Q*4+ie,ee=r.date.startOf("year").month(W),he=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;q.inRange=!!(r.minDate&&ee.isSameOrAfter(r.minDate,"month")&&he&&ee.isSameOrBefore(he,"month"))||!!(r.minDate&&ee.isSameOrBefore(r.minDate,"month")&&he&&ee.isSameOrAfter(he,"month")),(N=r.minDate)!=null&&N.isSameOrAfter(he)?(q.start=!!(he&&ee.isSame(he,"month")),q.end=r.minDate&&ee.isSame(r.minDate,"month")):(q.start=!!(r.minDate&&ee.isSame(r.minDate,"month")),q.end=!!(he&&ee.isSame(he,"month"))),j.isSame(ee)&&(q.type="today"),q.text=W,q.disabled=((z=r.disabledDate)==null?void 0:z.call(r,ee.toDate()))||!1}}return H}),C=()=>{var N;(N=f.value)==null||N.focus()},k=N=>{const z={},H=r.date.year(),j=new Date,Q=N.text;return z.disabled=r.disabledDate?i(H,Q,c.value).every(r.disabledDate):!1,z.current=Dd(r.parsedValue).findIndex(G=>Ai.isDayjs(G)&&G.year()===H&&G.month()===Q)>=0,z.today=j.getFullYear()===H&&j.getMonth()===Q,N.inRange&&(z["in-range"]=!0,N.start&&(z["start-date"]=!0),N.end&&(z["end-date"]=!0)),z},M=N=>{const z=r.date.year(),H=N.text;return Dd(r.date).findIndex(j=>j.year()===z&&j.month()===H)>=0},P=N=>{var z;if(!r.rangeState.selecting)return;let H=N.target;if(H.tagName==="SPAN"&&(H=(z=H.parentNode)==null?void 0:z.parentNode),H.tagName==="DIV"&&(H=H.parentNode),H.tagName!=="TD")return;const j=H.parentNode.rowIndex,Q=H.cellIndex;T.value[j][Q].disabled||(j!==v.value||Q!==y.value)&&(v.value=j,y.value=Q,n("changerange",{selecting:!0,endDate:r.date.startOf("year").month(j*4+Q)}))},R=N=>{var z;const H=(z=N.target)==null?void 0:z.closest("td");if((H==null?void 0:H.tagName)!=="TD"||Lf(H,"disabled"))return;const j=H.cellIndex,G=H.parentNode.rowIndex*4+j,ie=r.date.startOf("year").month(G);r.selectionMode==="range"?r.rangeState.selecting?(r.minDate&&ie>=r.minDate?n("pick",{minDate:r.minDate,maxDate:ie}):n("pick",{minDate:ie,maxDate:r.minDate}),n("select",!1)):(n("pick",{minDate:ie,maxDate:null}),n("select",!0)):n("pick",G)};return ln(()=>r.date,async()=>{var N,z;(N=a.value)!=null&&N.contains(document.activeElement)&&(await dr(),(z=f.value)==null||z.focus())}),e({focus:C}),(N,z)=>(X(),ve("table",{role:"grid","aria-label":S(l)("el.datepicker.monthTablePrompt"),class:Se(S(s).b()),onClick:R,onMousemove:P},[pe("tbody",{ref_key:"tbodyRef",ref:a},[(X(!0),ve(Vn,null,Yr(S(T),(H,j)=>(X(),ve("tr",{key:j},[(X(!0),ve(Vn,null,Yr(H,(Q,G)=>(X(),ve("td",{key:G,ref_for:!0,ref:ie=>M(Q)&&(f.value=ie),class:Se(k(Q)),"aria-selected":`${M(Q)}`,"aria-label":S(l)(`el.datepicker.month${+Q.text+1}`),tabindex:M(Q)?0:-1,onKeydown:[Ga(Pr(R,["prevent","stop"]),["space"]),Ga(Pr(R,["prevent","stop"]),["enter"])]},[pe("div",null,[pe("span",cje,Cn(S(l)("el.datepicker.months."+p.value[Q.text])),1)])],42,uje))),128))]))),128))],512)],42,lje))}});var sO=Fn(hje,[["__file","basic-month-table.vue"]]);const{date:dje,disabledDate:fje,parsedValue:pje}=j7,Aje=Ln({date:dje,disabledDate:fje,parsedValue:pje,selectionMode:G7("year")}),mje=["aria-label"],gje=["aria-selected","tabindex","onKeydown"],vje={class:"cell"},_je={key:1},yje=Be({__name:"basic-year-table",props:Aje,emits:["pick"],setup(t,{expose:e,emit:n}){const r=t,i=(C,k)=>{const M=Ai(String(C)).locale(k).startOf("year"),R=M.endOf("year").dayOfYear();return i1(R).map(N=>M.add(N,"day").toDate())},s=vn("year-table"),{t:l,lang:c}=da(),a=Te(),f=Te(),p=le(()=>Math.floor(r.date.year()/10)*10),m=()=>{var C;(C=f.value)==null||C.focus()},v=C=>{const k={},M=Ai().locale(c.value);return k.disabled=r.disabledDate?i(C,c.value).every(r.disabledDate):!1,k.current=Dd(r.parsedValue).findIndex(P=>P.year()===C)>=0,k.today=M.year()===C,k},y=C=>C===p.value&&r.date.year()<p.value&&r.date.year()>p.value+9||Dd(r.date).findIndex(k=>k.year()===C)>=0||Dd(r.parsedValue).findIndex(k=>(k==null?void 0:k.year())===C)>=0,T=C=>{const M=C.target.closest("td");if(M&&M.textContent){if(Lf(M,"disabled"))return;const P=M.textContent||M.innerText;if(r.selectionMode==="years"){if(C.type==="keydown"){n("pick",Dd(r.parsedValue),!1);return}const R=Lf(M,"current")?Dd(r.parsedValue).filter(N=>(N==null?void 0:N.year())!==Number(P)):Dd(r.parsedValue).concat([Ai(P)]);n("pick",R)}else n("pick",Number(P))}};return ln(()=>r.date,async()=>{var C,k;(C=a.value)!=null&&C.contains(document.activeElement)&&(await dr(),(k=f.value)==null||k.focus())}),e({focus:m}),(C,k)=>(X(),ve("table",{role:"grid","aria-label":S(l)("el.datepicker.yearTablePrompt"),class:Se(S(s).b()),onClick:T},[pe("tbody",{ref_key:"tbodyRef",ref:a},[(X(),ve(Vn,null,Yr(3,(M,P)=>pe("tr",{key:P},[(X(),ve(Vn,null,Yr(4,(R,N)=>(X(),ve(Vn,{key:P+"_"+N},[P*4+N<10?(X(),ve("td",{key:0,ref_for:!0,ref:z=>y(S(p)+P*4+N)&&(f.value=z),class:Se(["available",v(S(p)+P*4+N)]),"aria-selected":`${y(S(p)+P*4+N)}`,tabindex:y(S(p)+P*4+N)?0:-1,onKeydown:[Ga(Pr(T,["prevent","stop"]),["space"]),Ga(Pr(T,["prevent","stop"]),["enter"])]},[pe("div",null,[pe("span",vje,Cn(S(p)+P*4+N),1)])],42,gje)):(X(),ve("td",_je))],64))),64))])),64))],512)],10,mje))}});var bje=Fn(yje,[["__file","basic-year-table.vue"]]);const wje=["onClick"],xje=["aria-label"],Cje=["aria-label"],Eje=["aria-label"],Sje=["aria-label"],Tje=Be({__name:"panel-date-pick",props:WQe,emits:["pick","set-picker-option","panel-change"],setup(t,{emit:e}){const n=t,r=(Xe,kt,Bt)=>!0,i=vn("picker-panel"),s=vn("date-picker"),l=Dy(),c=To(),{t:a,lang:f}=da(),p=ar("EP_PICKER_BASE"),m=ar(cM),{shortcuts:v,disabledDate:y,cellClassName:T,defaultTime:C}=p.props,k=Na(p.props,"defaultValue"),M=Te(),P=Te(Ai().locale(f.value)),R=Te(!1);let N=!1;const z=le(()=>Ai(C).locale(f.value)),H=le(()=>P.value.month()),j=le(()=>P.value.year()),Q=Te([]),G=Te(null),ie=Te(null),q=Xe=>Q.value.length>0?r(Xe,Q.value,n.format||"HH:mm:ss"):!0,W=Xe=>C&&!Ge.value&&!R.value&&!N?z.value.year(Xe.year()).month(Xe.month()).date(Xe.date()):Le.value?Xe.millisecond(0):Xe.startOf("day"),ee=(Xe,...kt)=>{if(!Xe)e("pick",Xe,...kt);else if(Jn(Xe)){const Bt=Xe.map(W);e("pick",Bt,...kt)}else e("pick",W(Xe),...kt);G.value=null,ie.value=null,R.value=!1,N=!1},he=async(Xe,kt)=>{if(ye.value==="date"){Xe=Xe;let Bt=n.parsedValue?n.parsedValue.year(Xe.year()).month(Xe.month()).date(Xe.date()):Xe;q(Bt)||(Bt=Q.value[0][0].year(Xe.year()).month(Xe.month()).date(Xe.date())),P.value=Bt,ee(Bt,Le.value||kt),n.type==="datetime"&&(await dr(),De())}else ye.value==="week"?ee(Xe.date):ye.value==="dates"&&ee(Xe,!0)},J=Xe=>{const kt=Xe?"add":"subtract";P.value=P.value[kt](1,"month"),It("month")},te=Xe=>{const kt=P.value,Bt=Xe?"add":"subtract";P.value=ne.value==="year"?kt[Bt](10,"year"):kt[Bt](1,"year"),It("year")},ne=Te("date"),ce=le(()=>{const Xe=a("el.datepicker.year");if(ne.value==="year"){const kt=Math.floor(j.value/10)*10;return Xe?`${kt} ${Xe} - ${kt+9} ${Xe}`:`${kt} - ${kt+9}`}return`${j.value} ${Xe}`}),ue=Xe=>{const kt=Dr(Xe.value)?Xe.value():Xe.value;if(kt){N=!0,ee(Ai(kt).locale(f.value));return}Xe.onClick&&Xe.onClick({attrs:l,slots:c,emit:e})},ye=le(()=>{const{type:Xe}=n;return["week","month","year","years","dates"].includes(Xe)?Xe:"date"}),Ee=le(()=>ye.value==="date"?ne.value:ye.value),se=le(()=>!!v.length),oe=async Xe=>{P.value=P.value.startOf("month").month(Xe),ye.value==="month"?ee(P.value,!1):(ne.value="date",["month","year","date","week"].includes(ye.value)&&(ee(P.value,!0),await dr(),De())),It("month")},_e=async(Xe,kt)=>{ye.value==="year"?(P.value=P.value.startOf("year").year(Xe),ee(P.value,!1)):ye.value==="years"?ee(Xe,kt??!0):(P.value=P.value.year(Xe),ne.value="month",["month","year","date","week"].includes(ye.value)&&(ee(P.value,!0),await dr(),De())),It("year")},Ue=async Xe=>{ne.value=Xe,await dr(),De()},Le=le(()=>n.type==="datetime"||n.type==="datetimerange"),be=le(()=>{const Xe=Le.value||ye.value==="dates",kt=ye.value==="years",Bt=ne.value==="date",it=ne.value==="year";return Xe&&Bt||kt&&it}),Re=le(()=>y?n.parsedValue?Jn(n.parsedValue)?y(n.parsedValue[0].toDate()):y(n.parsedValue.toDate()):!0:!1),Qe=()=>{if(ye.value==="dates"||ye.value==="years")ee(n.parsedValue);else{let Xe=n.parsedValue;if(!Xe){const kt=Ai(C).locale(f.value),Bt=wt();Xe=kt.year(Bt.year()).month(Bt.month()).date(Bt.date())}P.value=Xe,ee(Xe)}},Je=le(()=>y?y(Ai().locale(f.value).toDate()):!1),nt=()=>{const kt=Ai().locale(f.value).toDate();R.value=!0,(!y||!y(kt))&&q(kt)&&(P.value=Ai().locale(f.value),ee(P.value))},Ve=le(()=>n.timeFormat||Ise(n.format)),ke=le(()=>n.dateFormat||Mse(n.format)),Ge=le(()=>{if(ie.value)return ie.value;if(!(!n.parsedValue&&!k.value))return(n.parsedValue||P.value).format(Ve.value)}),Ne=le(()=>{if(G.value)return G.value;if(!(!n.parsedValue&&!k.value))return(n.parsedValue||P.value).format(ke.value)}),je=Te(!1),Ye=()=>{je.value=!0},vt=()=>{je.value=!1},Lt=Xe=>({hour:Xe.hour(),minute:Xe.minute(),second:Xe.second(),year:Xe.year(),month:Xe.month(),date:Xe.date()}),Et=(Xe,kt,Bt)=>{const{hour:it,minute:Mt,second:at}=Lt(Xe),et=n.parsedValue?n.parsedValue.hour(it).minute(Mt).second(at):Xe;P.value=et,ee(P.value,!0),Bt||(je.value=kt)},Vt=Xe=>{const kt=Ai(Xe,Ve.value).locale(f.value);if(kt.isValid()&&q(kt)){const{year:Bt,month:it,date:Mt}=Lt(P.value);P.value=kt.year(Bt).month(it).date(Mt),ie.value=null,je.value=!1,ee(P.value,!0)}},_t=Xe=>{const kt=Ai(Xe,ke.value).locale(f.value);if(kt.isValid()){if(y&&y(kt.toDate()))return;const{hour:Bt,minute:it,second:Mt}=Lt(P.value);P.value=kt.hour(Bt).minute(it).second(Mt),G.value=null,ee(P.value,!0)}},qt=Xe=>Ai.isDayjs(Xe)&&Xe.isValid()&&(y?!y(Xe.toDate()):!0),tn=Xe=>Jn(Xe)?Xe.map(kt=>kt.format(n.format)):Xe.format(n.format),Nt=Xe=>Ai(Xe,n.format).locale(f.value),wt=()=>{const Xe=Ai(k.value).locale(f.value);if(!k.value){const kt=z.value;return Ai().hour(kt.hour()).minute(kt.minute()).second(kt.second()).locale(f.value)}return Xe},De=async()=>{var Xe;["week","month","year","date"].includes(ye.value)&&((Xe=M.value)==null||Xe.focus(),ye.value==="week"&&ut(Tr.down))},We=Xe=>{const{code:kt}=Xe;[Tr.up,Tr.down,Tr.left,Tr.right,Tr.home,Tr.end,Tr.pageUp,Tr.pageDown].includes(kt)&&(ut(kt),Xe.stopPropagation(),Xe.preventDefault()),[Tr.enter,Tr.space,Tr.numpadEnter].includes(kt)&&G.value===null&&ie.value===null&&(Xe.preventDefault(),ee(P.value,!1))},ut=Xe=>{var kt;const{up:Bt,down:it,left:Mt,right:at,home:et,end:St,pageUp:sn,pageDown:bn}=Tr,gr={year:{[Bt]:-4,[it]:4,[Mt]:-1,[at]:1,offset:(Nn,lr)=>Nn.setFullYear(Nn.getFullYear()+lr)},month:{[Bt]:-4,[it]:4,[Mt]:-1,[at]:1,offset:(Nn,lr)=>Nn.setMonth(Nn.getMonth()+lr)},week:{[Bt]:-1,[it]:1,[Mt]:-1,[at]:1,offset:(Nn,lr)=>Nn.setDate(Nn.getDate()+lr*7)},date:{[Bt]:-7,[it]:7,[Mt]:-1,[at]:1,[et]:Nn=>-Nn.getDay(),[St]:Nn=>-Nn.getDay()+6,[sn]:Nn=>-new Date(Nn.getFullYear(),Nn.getMonth(),0).getDate(),[bn]:Nn=>new Date(Nn.getFullYear(),Nn.getMonth()+1,0).getDate(),offset:(Nn,lr)=>Nn.setDate(Nn.getDate()+lr)}},tr=P.value.toDate();for(;Math.abs(P.value.diff(tr,"year",!0))<1;){const Nn=gr[Ee.value];if(!Nn)return;if(Nn.offset(tr,Dr(Nn[Xe])?Nn[Xe](tr):(kt=Nn[Xe])!=null?kt:0),y&&y(tr))break;const lr=Ai(tr).locale(f.value);P.value=lr,e("pick",lr,!0);break}},It=Xe=>{e("panel-change",P.value.toDate(),Xe,ne.value)};return ln(()=>ye.value,Xe=>{if(["month","year"].includes(Xe)){ne.value=Xe;return}else if(Xe==="years"){ne.value="year";return}ne.value="date"},{immediate:!0}),ln(()=>ne.value,()=>{m==null||m.updatePopper()}),ln(()=>k.value,Xe=>{Xe&&(P.value=wt())},{immediate:!0}),ln(()=>n.parsedValue,Xe=>{if(Xe){if(ye.value==="dates"||ye.value==="years"||Array.isArray(Xe))return;P.value=Xe}else P.value=wt()},{immediate:!0}),e("set-picker-option",["isValidValue",qt]),e("set-picker-option",["formatToString",tn]),e("set-picker-option",["parseUserInput",Nt]),e("set-picker-option",["handleFocusPicker",De]),(Xe,kt)=>(X(),ve("div",{class:Se([S(i).b(),S(s).b(),{"has-sidebar":Xe.$slots.sidebar||S(se),"has-time":S(Le)}])},[pe("div",{class:Se(S(i).e("body-wrapper"))},[Ft(Xe.$slots,"sidebar",{class:Se(S(i).e("sidebar"))}),S(se)?(X(),ve("div",{key:0,class:Se(S(i).e("sidebar"))},[(X(!0),ve(Vn,null,Yr(S(v),(Bt,it)=>(X(),ve("button",{key:it,type:"button",class:Se(S(i).e("shortcut")),onClick:Mt=>ue(Bt)},Cn(Bt.text),11,wje))),128))],2)):bt("v-if",!0),pe("div",{class:Se(S(i).e("body"))},[S(Le)?(X(),ve("div",{key:0,class:Se(S(s).e("time-header"))},[pe("span",{class:Se(S(s).e("editor-wrap"))},[ht(S(Nc),{placeholder:S(a)("el.datepicker.selectDate"),"model-value":S(Ne),size:"small","validate-event":!1,onInput:kt[0]||(kt[0]=Bt=>G.value=Bt),onChange:_t},null,8,["placeholder","model-value"])],2),Jr((X(),ve("span",{class:Se(S(s).e("editor-wrap"))},[ht(S(Nc),{placeholder:S(a)("el.datepicker.selectTime"),"model-value":S(Ge),size:"small","validate-event":!1,onFocus:Ye,onInput:kt[1]||(kt[1]=Bt=>ie.value=Bt),onChange:Vt},null,8,["placeholder","model-value"]),ht(S(y8),{visible:je.value,format:S(Ve),"parsed-value":P.value,onPick:Et},null,8,["visible","format","parsed-value"])],2)),[[S(u0),vt]])],2)):bt("v-if",!0),Jr(pe("div",{class:Se([S(s).e("header"),(ne.value==="year"||ne.value==="month")&&S(s).e("header--bordered")])},[pe("span",{class:Se(S(s).e("prev-btn"))},[pe("button",{type:"button","aria-label":S(a)("el.datepicker.prevYear"),class:Se(["d-arrow-left",S(i).e("icon-btn")]),onClick:kt[2]||(kt[2]=Bt=>te(!1))},[ht(S(Ar),null,{default:xt(()=>[ht(S(Cy))]),_:1})],10,xje),Jr(pe("button",{type:"button","aria-label":S(a)("el.datepicker.prevMonth"),class:Se([S(i).e("icon-btn"),"arrow-left"]),onClick:kt[3]||(kt[3]=Bt=>J(!1))},[ht(S(Ar),null,{default:xt(()=>[ht(S(o0))]),_:1})],10,Cje),[[ca,ne.value==="date"]])],2),pe("span",{role:"button",class:Se(S(s).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:kt[4]||(kt[4]=Ga(Bt=>Ue("year"),["enter"])),onClick:kt[5]||(kt[5]=Bt=>Ue("year"))},Cn(S(ce)),35),Jr(pe("span",{role:"button","aria-live":"polite",tabindex:"0",class:Se([S(s).e("header-label"),{active:ne.value==="month"}]),onKeydown:kt[6]||(kt[6]=Ga(Bt=>Ue("month"),["enter"])),onClick:kt[7]||(kt[7]=Bt=>Ue("month"))},Cn(S(a)(`el.datepicker.month${S(H)+1}`)),35),[[ca,ne.value==="date"]]),pe("span",{class:Se(S(s).e("next-btn"))},[Jr(pe("button",{type:"button","aria-label":S(a)("el.datepicker.nextMonth"),class:Se([S(i).e("icon-btn"),"arrow-right"]),onClick:kt[8]||(kt[8]=Bt=>J(!0))},[ht(S(Ar),null,{default:xt(()=>[ht(S(Vc))]),_:1})],10,Eje),[[ca,ne.value==="date"]]),pe("button",{type:"button","aria-label":S(a)("el.datepicker.nextYear"),class:Se([S(i).e("icon-btn"),"d-arrow-right"]),onClick:kt[9]||(kt[9]=Bt=>te(!0))},[ht(S(Ar),null,{default:xt(()=>[ht(S(Ey))]),_:1})],10,Sje)],2)],2),[[ca,ne.value!=="time"]]),pe("div",{class:Se(S(i).e("content")),onKeydown:We},[ne.value==="date"?(X(),Ut(aO,{key:0,ref_key:"currentViewRef",ref:M,"selection-mode":S(ye),date:P.value,"parsed-value":Xe.parsedValue,"disabled-date":S(y),"cell-class-name":S(T),onPick:he},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):bt("v-if",!0),ne.value==="year"?(X(),Ut(bje,{key:1,ref_key:"currentViewRef",ref:M,"selection-mode":S(ye),date:P.value,"disabled-date":S(y),"parsed-value":Xe.parsedValue,onPick:_e},null,8,["selection-mode","date","disabled-date","parsed-value"])):bt("v-if",!0),ne.value==="month"?(X(),Ut(sO,{key:2,ref_key:"currentViewRef",ref:M,date:P.value,"parsed-value":Xe.parsedValue,"disabled-date":S(y),onPick:oe},null,8,["date","parsed-value","disabled-date"])):bt("v-if",!0)],34)],2)],2),Jr(pe("div",{class:Se(S(i).e("footer"))},[Jr(ht(S(Eu),{text:"",size:"small",class:Se(S(i).e("link-btn")),disabled:S(Je),onClick:nt},{default:xt(()=>[xi(Cn(S(a)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[ca,S(ye)!=="dates"&&S(ye)!=="years"]]),ht(S(Eu),{plain:"",size:"small",class:Se(S(i).e("link-btn")),disabled:S(Re),onClick:Qe},{default:xt(()=>[xi(Cn(S(a)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[ca,S(be)]])],2))}});var Bje=Fn(Tje,[["__file","panel-date-pick.vue"]]);const Mje=Ln({...Coe,...Eoe}),Ije=t=>{const{emit:e}=ci(),n=Dy(),r=To();return s=>{const l=Dr(s.value)?s.value():s.value;if(l){e("pick",[Ai(l[0]).locale(t.value),Ai(l[1]).locale(t.value)]);return}s.onClick&&s.onClick({attrs:n,slots:r,emit:e})}},Toe=(t,{defaultValue:e,leftDate:n,rightDate:r,unit:i,onParsedValueChanged:s})=>{const{emit:l}=ci(),{pickerNs:c}=ar(Q7),a=vn("date-range-picker"),{t:f,lang:p}=da(),m=Ije(p),v=Te(),y=Te(),T=Te({endDate:null,selecting:!1}),C=R=>{T.value=R},k=(R=!1)=>{const N=S(v),z=S(y);rO([N,z])&&l("pick",[N,z],R)},M=R=>{T.value.selecting=R,R||(T.value.endDate=null)},P=()=>{const[R,N]=Soe(S(e),{lang:S(p),unit:i,unlinkPanels:t.unlinkPanels});v.value=void 0,y.value=void 0,n.value=R,r.value=N};return ln(e,R=>{R&&P()},{immediate:!0}),ln(()=>t.parsedValue,R=>{if(Jn(R)&&R.length===2){const[N,z]=R;v.value=N,n.value=N,y.value=z,s(S(v),S(y))}else P()},{immediate:!0}),{minDate:v,maxDate:y,rangeState:T,lang:p,ppNs:c,drpNs:a,handleChangeRange:C,handleRangeConfirm:k,handleShortcutClick:m,onSelect:M,t:f}},Lje=["onClick"],kje=["aria-label"],Pje=["aria-label"],Fje=["disabled","aria-label"],Rje=["disabled","aria-label"],Oje=["disabled","aria-label"],Dje=["disabled","aria-label"],Nje=["aria-label"],Uje=["aria-label"],LS="month",zje=Be({__name:"panel-date-range",props:Mje,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(t,{emit:e}){const n=t,r=ar("EP_PICKER_BASE"),{disabledDate:i,cellClassName:s,format:l,defaultTime:c,clearable:a}=r.props,f=Na(r.props,"shortcuts"),p=Na(r.props,"defaultValue"),{lang:m}=da(),v=Te(Ai().locale(m.value)),y=Te(Ai().locale(m.value).add(1,LS)),{minDate:T,maxDate:C,rangeState:k,ppNs:M,drpNs:P,handleChangeRange:R,handleRangeConfirm:N,handleShortcutClick:z,onSelect:H,t:j}=Toe(n,{defaultValue:p,leftDate:v,rightDate:y,unit:LS,onParsedValueChanged:kt}),Q=Te({min:null,max:null}),G=Te({min:null,max:null}),ie=le(()=>`${v.value.year()} ${j("el.datepicker.year")} ${j(`el.datepicker.month${v.value.month()+1}`)}`),q=le(()=>`${y.value.year()} ${j("el.datepicker.year")} ${j(`el.datepicker.month${y.value.month()+1}`)}`),W=le(()=>v.value.year()),ee=le(()=>v.value.month()),he=le(()=>y.value.year()),J=le(()=>y.value.month()),te=le(()=>!!f.value.length),ne=le(()=>Q.value.min!==null?Q.value.min:T.value?T.value.format(se.value):""),ce=le(()=>Q.value.max!==null?Q.value.max:C.value||T.value?(C.value||T.value).format(se.value):""),ue=le(()=>G.value.min!==null?G.value.min:T.value?T.value.format(Ee.value):""),ye=le(()=>G.value.max!==null?G.value.max:C.value||T.value?(C.value||T.value).format(Ee.value):""),Ee=le(()=>n.timeFormat||Ise(l)),se=le(()=>n.dateFormat||Mse(l)),oe=Bt=>rO(Bt)&&(i?!i(Bt[0].toDate())&&!i(Bt[1].toDate()):!0),_e=()=>{v.value=v.value.subtract(1,"year"),n.unlinkPanels||(y.value=v.value.add(1,"month")),Ve("year")},Ue=()=>{v.value=v.value.subtract(1,"month"),n.unlinkPanels||(y.value=v.value.add(1,"month")),Ve("month")},Le=()=>{n.unlinkPanels?y.value=y.value.add(1,"year"):(v.value=v.value.add(1,"year"),y.value=v.value.add(1,"month")),Ve("year")},be=()=>{n.unlinkPanels?y.value=y.value.add(1,"month"):(v.value=v.value.add(1,"month"),y.value=v.value.add(1,"month")),Ve("month")},Re=()=>{v.value=v.value.add(1,"year"),Ve("year")},Qe=()=>{v.value=v.value.add(1,"month"),Ve("month")},Je=()=>{y.value=y.value.subtract(1,"year"),Ve("year")},nt=()=>{y.value=y.value.subtract(1,"month"),Ve("month")},Ve=Bt=>{e("panel-change",[v.value.toDate(),y.value.toDate()],Bt)},ke=le(()=>{const Bt=(ee.value+1)%12,it=ee.value+1>=12?1:0;return n.unlinkPanels&&new Date(W.value+it,Bt)<new Date(he.value,J.value)}),Ge=le(()=>n.unlinkPanels&&he.value*12+J.value-(W.value*12+ee.value+1)>=12),Ne=le(()=>!(T.value&&C.value&&!k.value.selecting&&rO([T.value,C.value]))),je=le(()=>n.type==="datetime"||n.type==="datetimerange"),Ye=(Bt,it)=>{if(Bt)return c?Ai(c[it]||c).locale(m.value).year(Bt.year()).month(Bt.month()).date(Bt.date()):Bt},vt=(Bt,it=!0)=>{const Mt=Bt.minDate,at=Bt.maxDate,et=Ye(Mt,0),St=Ye(at,1);C.value===St&&T.value===et||(e("calendar-change",[Mt.toDate(),at&&at.toDate()]),C.value=St,T.value=et,!(!it||je.value)&&N())},Lt=Te(!1),Et=Te(!1),Vt=()=>{Lt.value=!1},_t=()=>{Et.value=!1},qt=(Bt,it)=>{Q.value[it]=Bt;const Mt=Ai(Bt,se.value).locale(m.value);if(Mt.isValid()){if(i&&i(Mt.toDate()))return;it==="min"?(v.value=Mt,T.value=(T.value||v.value).year(Mt.year()).month(Mt.month()).date(Mt.date()),!n.unlinkPanels&&(!C.value||C.value.isBefore(T.value))&&(y.value=Mt.add(1,"month"),C.value=T.value.add(1,"month"))):(y.value=Mt,C.value=(C.value||y.value).year(Mt.year()).month(Mt.month()).date(Mt.date()),!n.unlinkPanels&&(!T.value||T.value.isAfter(C.value))&&(v.value=Mt.subtract(1,"month"),T.value=C.value.subtract(1,"month")))}},tn=(Bt,it)=>{Q.value[it]=null},Nt=(Bt,it)=>{G.value[it]=Bt;const Mt=Ai(Bt,Ee.value).locale(m.value);Mt.isValid()&&(it==="min"?(Lt.value=!0,T.value=(T.value||v.value).hour(Mt.hour()).minute(Mt.minute()).second(Mt.second()),(!C.value||C.value.isBefore(T.value))&&(C.value=T.value)):(Et.value=!0,C.value=(C.value||y.value).hour(Mt.hour()).minute(Mt.minute()).second(Mt.second()),y.value=C.value,C.value&&C.value.isBefore(T.value)&&(T.value=C.value)))},wt=(Bt,it)=>{G.value[it]=null,it==="min"?(v.value=T.value,Lt.value=!1):(y.value=C.value,Et.value=!1)},De=(Bt,it,Mt)=>{G.value.min||(Bt&&(v.value=Bt,T.value=(T.value||v.value).hour(Bt.hour()).minute(Bt.minute()).second(Bt.second())),Mt||(Lt.value=it),(!C.value||C.value.isBefore(T.value))&&(C.value=T.value,y.value=Bt))},We=(Bt,it,Mt)=>{G.value.max||(Bt&&(y.value=Bt,C.value=(C.value||y.value).hour(Bt.hour()).minute(Bt.minute()).second(Bt.second())),Mt||(Et.value=it),C.value&&C.value.isBefore(T.value)&&(T.value=C.value))},ut=()=>{v.value=Soe(S(p),{lang:S(m),unit:"month",unlinkPanels:n.unlinkPanels})[0],y.value=v.value.add(1,"month"),C.value=void 0,T.value=void 0,e("pick",null)},It=Bt=>Jn(Bt)?Bt.map(it=>it.format(l)):Bt.format(l),Xe=Bt=>Jn(Bt)?Bt.map(it=>Ai(it,l).locale(m.value)):Ai(Bt,l).locale(m.value);function kt(Bt,it){if(n.unlinkPanels&&it){const Mt=(Bt==null?void 0:Bt.year())||0,at=(Bt==null?void 0:Bt.month())||0,et=it.year(),St=it.month();y.value=Mt===et&&at===St?it.add(1,LS):it}else y.value=v.value.add(1,LS),it&&(y.value=y.value.hour(it.hour()).minute(it.minute()).second(it.second()))}return e("set-picker-option",["isValidValue",oe]),e("set-picker-option",["parseUserInput",Xe]),e("set-picker-option",["formatToString",It]),e("set-picker-option",["handleClear",ut]),(Bt,it)=>(X(),ve("div",{class:Se([S(M).b(),S(P).b(),{"has-sidebar":Bt.$slots.sidebar||S(te),"has-time":S(je)}])},[pe("div",{class:Se(S(M).e("body-wrapper"))},[Ft(Bt.$slots,"sidebar",{class:Se(S(M).e("sidebar"))}),S(te)?(X(),ve("div",{key:0,class:Se(S(M).e("sidebar"))},[(X(!0),ve(Vn,null,Yr(S(f),(Mt,at)=>(X(),ve("button",{key:at,type:"button",class:Se(S(M).e("shortcut")),onClick:et=>S(z)(Mt)},Cn(Mt.text),11,Lje))),128))],2)):bt("v-if",!0),pe("div",{class:Se(S(M).e("body"))},[S(je)?(X(),ve("div",{key:0,class:Se(S(P).e("time-header"))},[pe("span",{class:Se(S(P).e("editors-wrap"))},[pe("span",{class:Se(S(P).e("time-picker-wrap"))},[ht(S(Nc),{size:"small",disabled:S(k).selecting,placeholder:S(j)("el.datepicker.startDate"),class:Se(S(P).e("editor")),"model-value":S(ne),"validate-event":!1,onInput:it[0]||(it[0]=Mt=>qt(Mt,"min")),onChange:it[1]||(it[1]=Mt=>tn(Mt,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),Jr((X(),ve("span",{class:Se(S(P).e("time-picker-wrap"))},[ht(S(Nc),{size:"small",class:Se(S(P).e("editor")),disabled:S(k).selecting,placeholder:S(j)("el.datepicker.startTime"),"model-value":S(ue),"validate-event":!1,onFocus:it[2]||(it[2]=Mt=>Lt.value=!0),onInput:it[3]||(it[3]=Mt=>Nt(Mt,"min")),onChange:it[4]||(it[4]=Mt=>wt(Mt,"min"))},null,8,["class","disabled","placeholder","model-value"]),ht(S(y8),{visible:Lt.value,format:S(Ee),"datetime-role":"start","parsed-value":v.value,onPick:De},null,8,["visible","format","parsed-value"])],2)),[[S(u0),Vt]])],2),pe("span",null,[ht(S(Ar),null,{default:xt(()=>[ht(S(Vc))]),_:1})]),pe("span",{class:Se([S(P).e("editors-wrap"),"is-right"])},[pe("span",{class:Se(S(P).e("time-picker-wrap"))},[ht(S(Nc),{size:"small",class:Se(S(P).e("editor")),disabled:S(k).selecting,placeholder:S(j)("el.datepicker.endDate"),"model-value":S(ce),readonly:!S(T),"validate-event":!1,onInput:it[5]||(it[5]=Mt=>qt(Mt,"max")),onChange:it[6]||(it[6]=Mt=>tn(Mt,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),Jr((X(),ve("span",{class:Se(S(P).e("time-picker-wrap"))},[ht(S(Nc),{size:"small",class:Se(S(P).e("editor")),disabled:S(k).selecting,placeholder:S(j)("el.datepicker.endTime"),"model-value":S(ye),readonly:!S(T),"validate-event":!1,onFocus:it[7]||(it[7]=Mt=>S(T)&&(Et.value=!0)),onInput:it[8]||(it[8]=Mt=>Nt(Mt,"max")),onChange:it[9]||(it[9]=Mt=>wt(Mt,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),ht(S(y8),{"datetime-role":"end",visible:Et.value,format:S(Ee),"parsed-value":y.value,onPick:We},null,8,["visible","format","parsed-value"])],2)),[[S(u0),_t]])],2)],2)):bt("v-if",!0),pe("div",{class:Se([[S(M).e("content"),S(P).e("content")],"is-left"])},[pe("div",{class:Se(S(P).e("header"))},[pe("button",{type:"button",class:Se([S(M).e("icon-btn"),"d-arrow-left"]),"aria-label":S(j)("el.datepicker.prevYear"),onClick:_e},[ht(S(Ar),null,{default:xt(()=>[ht(S(Cy))]),_:1})],10,kje),pe("button",{type:"button",class:Se([S(M).e("icon-btn"),"arrow-left"]),"aria-label":S(j)("el.datepicker.prevMonth"),onClick:Ue},[ht(S(Ar),null,{default:xt(()=>[ht(S(o0))]),_:1})],10,Pje),Bt.unlinkPanels?(X(),ve("button",{key:0,type:"button",disabled:!S(Ge),class:Se([[S(M).e("icon-btn"),{"is-disabled":!S(Ge)}],"d-arrow-right"]),"aria-label":S(j)("el.datepicker.nextYear"),onClick:Re},[ht(S(Ar),null,{default:xt(()=>[ht(S(Ey))]),_:1})],10,Fje)):bt("v-if",!0),Bt.unlinkPanels?(X(),ve("button",{key:1,type:"button",disabled:!S(ke),class:Se([[S(M).e("icon-btn"),{"is-disabled":!S(ke)}],"arrow-right"]),"aria-label":S(j)("el.datepicker.nextMonth"),onClick:Qe},[ht(S(Ar),null,{default:xt(()=>[ht(S(Vc))]),_:1})],10,Rje)):bt("v-if",!0),pe("div",null,Cn(S(ie)),1)],2),ht(aO,{"selection-mode":"range",date:v.value,"min-date":S(T),"max-date":S(C),"range-state":S(k),"disabled-date":S(i),"cell-class-name":S(s),onChangerange:S(R),onPick:vt,onSelect:S(H)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),pe("div",{class:Se([[S(M).e("content"),S(P).e("content")],"is-right"])},[pe("div",{class:Se(S(P).e("header"))},[Bt.unlinkPanels?(X(),ve("button",{key:0,type:"button",disabled:!S(Ge),class:Se([[S(M).e("icon-btn"),{"is-disabled":!S(Ge)}],"d-arrow-left"]),"aria-label":S(j)("el.datepicker.prevYear"),onClick:Je},[ht(S(Ar),null,{default:xt(()=>[ht(S(Cy))]),_:1})],10,Oje)):bt("v-if",!0),Bt.unlinkPanels?(X(),ve("button",{key:1,type:"button",disabled:!S(ke),class:Se([[S(M).e("icon-btn"),{"is-disabled":!S(ke)}],"arrow-left"]),"aria-label":S(j)("el.datepicker.prevMonth"),onClick:nt},[ht(S(Ar),null,{default:xt(()=>[ht(S(o0))]),_:1})],10,Dje)):bt("v-if",!0),pe("button",{type:"button","aria-label":S(j)("el.datepicker.nextYear"),class:Se([S(M).e("icon-btn"),"d-arrow-right"]),onClick:Le},[ht(S(Ar),null,{default:xt(()=>[ht(S(Ey))]),_:1})],10,Nje),pe("button",{type:"button",class:Se([S(M).e("icon-btn"),"arrow-right"]),"aria-label":S(j)("el.datepicker.nextMonth"),onClick:be},[ht(S(Ar),null,{default:xt(()=>[ht(S(Vc))]),_:1})],10,Uje),pe("div",null,Cn(S(q)),1)],2),ht(aO,{"selection-mode":"range",date:y.value,"min-date":S(T),"max-date":S(C),"range-state":S(k),"disabled-date":S(i),"cell-class-name":S(s),onChangerange:S(R),onPick:vt,onSelect:S(H)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),S(je)?(X(),ve("div",{key:0,class:Se(S(M).e("footer"))},[S(a)?(X(),Ut(S(Eu),{key:0,text:"",size:"small",class:Se(S(M).e("link-btn")),onClick:ut},{default:xt(()=>[xi(Cn(S(j)("el.datepicker.clear")),1)]),_:1},8,["class"])):bt("v-if",!0),ht(S(Eu),{plain:"",size:"small",class:Se(S(M).e("link-btn")),disabled:S(Ne),onClick:it[10]||(it[10]=Mt=>S(N)(!1))},{default:xt(()=>[xi(Cn(S(j)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):bt("v-if",!0)],2))}});var $je=Fn(zje,[["__file","panel-date-range.vue"]]);const Vje=Ln({...Eoe}),Hje=["pick","set-picker-option","calendar-change"],Qje=({unlinkPanels:t,leftDate:e,rightDate:n})=>{const{t:r}=da(),i=()=>{e.value=e.value.subtract(1,"year"),t.value||(n.value=n.value.subtract(1,"year"))},s=()=>{t.value||(e.value=e.value.add(1,"year")),n.value=n.value.add(1,"year")},l=()=>{e.value=e.value.add(1,"year")},c=()=>{n.value=n.value.subtract(1,"year")},a=le(()=>`${e.value.year()} ${r("el.datepicker.year")}`),f=le(()=>`${n.value.year()} ${r("el.datepicker.year")}`),p=le(()=>e.value.year()),m=le(()=>n.value.year()===e.value.year()?e.value.year()+1:n.value.year());return{leftPrevYear:i,rightNextYear:s,leftNextYear:l,rightPrevYear:c,leftLabel:a,rightLabel:f,leftYear:p,rightYear:m}},jje=["onClick"],Gje=["disabled"],Kje=["disabled"],kS="year",Wje=Be({name:"DatePickerMonthRange"}),qje=Be({...Wje,props:Vje,emits:Hje,setup(t,{emit:e}){const n=t,{lang:r}=da(),i=ar("EP_PICKER_BASE"),{shortcuts:s,disabledDate:l,format:c}=i.props,a=Na(i.props,"defaultValue"),f=Te(Ai().locale(r.value)),p=Te(Ai().locale(r.value).add(1,kS)),{minDate:m,maxDate:v,rangeState:y,ppNs:T,drpNs:C,handleChangeRange:k,handleRangeConfirm:M,handleShortcutClick:P,onSelect:R}=Toe(n,{defaultValue:a,leftDate:f,rightDate:p,unit:kS,onParsedValueChanged:te}),N=le(()=>!!s.length),{leftPrevYear:z,rightNextYear:H,leftNextYear:j,rightPrevYear:Q,leftLabel:G,rightLabel:ie,leftYear:q,rightYear:W}=Qje({unlinkPanels:Na(n,"unlinkPanels"),leftDate:f,rightDate:p}),ee=le(()=>n.unlinkPanels&&W.value>q.value+1),he=(ne,ce=!0)=>{const ue=ne.minDate,ye=ne.maxDate;v.value===ye&&m.value===ue||(e("calendar-change",[ue.toDate(),ye&&ye.toDate()]),v.value=ye,m.value=ue,ce&&M())},J=ne=>ne.map(ce=>ce.format(c));function te(ne,ce){if(n.unlinkPanels&&ce){const ue=(ne==null?void 0:ne.year())||0,ye=ce.year();p.value=ue===ye?ce.add(1,kS):ce}else p.value=f.value.add(1,kS)}return e("set-picker-option",["formatToString",J]),(ne,ce)=>(X(),ve("div",{class:Se([S(T).b(),S(C).b(),{"has-sidebar":!!ne.$slots.sidebar||S(N)}])},[pe("div",{class:Se(S(T).e("body-wrapper"))},[Ft(ne.$slots,"sidebar",{class:Se(S(T).e("sidebar"))}),S(N)?(X(),ve("div",{key:0,class:Se(S(T).e("sidebar"))},[(X(!0),ve(Vn,null,Yr(S(s),(ue,ye)=>(X(),ve("button",{key:ye,type:"button",class:Se(S(T).e("shortcut")),onClick:Ee=>S(P)(ue)},Cn(ue.text),11,jje))),128))],2)):bt("v-if",!0),pe("div",{class:Se(S(T).e("body"))},[pe("div",{class:Se([[S(T).e("content"),S(C).e("content")],"is-left"])},[pe("div",{class:Se(S(C).e("header"))},[pe("button",{type:"button",class:Se([S(T).e("icon-btn"),"d-arrow-left"]),onClick:ce[0]||(ce[0]=(...ue)=>S(z)&&S(z)(...ue))},[ht(S(Ar),null,{default:xt(()=>[ht(S(Cy))]),_:1})],2),ne.unlinkPanels?(X(),ve("button",{key:0,type:"button",disabled:!S(ee),class:Se([[S(T).e("icon-btn"),{[S(T).is("disabled")]:!S(ee)}],"d-arrow-right"]),onClick:ce[1]||(ce[1]=(...ue)=>S(j)&&S(j)(...ue))},[ht(S(Ar),null,{default:xt(()=>[ht(S(Ey))]),_:1})],10,Gje)):bt("v-if",!0),pe("div",null,Cn(S(G)),1)],2),ht(sO,{"selection-mode":"range",date:f.value,"min-date":S(m),"max-date":S(v),"range-state":S(y),"disabled-date":S(l),onChangerange:S(k),onPick:he,onSelect:S(R)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),pe("div",{class:Se([[S(T).e("content"),S(C).e("content")],"is-right"])},[pe("div",{class:Se(S(C).e("header"))},[ne.unlinkPanels?(X(),ve("button",{key:0,type:"button",disabled:!S(ee),class:Se([[S(T).e("icon-btn"),{"is-disabled":!S(ee)}],"d-arrow-left"]),onClick:ce[2]||(ce[2]=(...ue)=>S(Q)&&S(Q)(...ue))},[ht(S(Ar),null,{default:xt(()=>[ht(S(Cy))]),_:1})],10,Kje)):bt("v-if",!0),pe("button",{type:"button",class:Se([S(T).e("icon-btn"),"d-arrow-right"]),onClick:ce[3]||(ce[3]=(...ue)=>S(H)&&S(H)(...ue))},[ht(S(Ar),null,{default:xt(()=>[ht(S(Ey))]),_:1})],2),pe("div",null,Cn(S(ie)),1)],2),ht(sO,{"selection-mode":"range",date:p.value,"min-date":S(m),"max-date":S(v),"range-state":S(y),"disabled-date":S(l),onChangerange:S(k),onPick:he,onSelect:S(R)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var Yje=Fn(qje,[["__file","panel-month-range.vue"]]);const Xje=function(t){switch(t){case"daterange":case"datetimerange":return $je;case"monthrange":return Yje;default:return Bje}};Ai.extend(Gse);Ai.extend(RQe);Ai.extend($7);Ai.extend(DQe);Ai.extend(UQe);Ai.extend($Qe);Ai.extend(HQe);Ai.extend(jQe);var Zje=Be({name:"ElDatePicker",install:null,props:GQe,emits:["update:modelValue"],setup(t,{expose:e,emit:n,slots:r}){const i=vn("picker-panel");ki("ElPopperOptions",ha(Na(t,"popperOptions"))),ki(Q7,{slots:r,pickerNs:i});const s=Te();e({focus:(a=!0)=>{var f;(f=s.value)==null||f.focus(a)},handleOpen:()=>{var a;(a=s.value)==null||a.handleOpen()},handleClose:()=>{var a;(a=s.value)==null||a.handleClose()}});const c=a=>{n("update:modelValue",a)};return()=>{var a;const f=(a=t.format)!=null?a:Sze[t.type]||dw,p=Xje(t.type);return ht(Pse,Xr(t,{format:f,type:t.type,ref:s,"onUpdate:modelValue":c}),{default:m=>ht(p,m,null),"range-separator":r["range-separator"]})}}});const AT=Zje;AT.install=t=>{t.component(AT.name,AT)};const Jje=AT,K7=Symbol("elDescriptions");var g4=Be({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:ar(K7,{})}},render(){var t,e,n,r,i,s,l;const c=gOe(this.cell),a=(((t=this.cell)==null?void 0:t.dirs)||[]).map(z=>{const{dir:H,arg:j,modifiers:Q,value:G}=z;return[H,G,j,Q]}),{border:f,direction:p}=this.descriptions,m=p==="vertical",v=((r=(n=(e=this.cell)==null?void 0:e.children)==null?void 0:n.label)==null?void 0:r.call(n))||c.label,y=(l=(s=(i=this.cell)==null?void 0:i.children)==null?void 0:s.default)==null?void 0:l.call(s),T=c.span,C=c.align?`is-${c.align}`:"",k=c.labelAlign?`is-${c.labelAlign}`:C,M=c.className,P=c.labelClassName,R={width:So(c.width),minWidth:So(c.minWidth)},N=vn("descriptions");switch(this.type){case"label":return Jr(wr(this.tag,{style:R,class:[N.e("cell"),N.e("label"),N.is("bordered-label",f),N.is("vertical-label",m),k,P],colSpan:m?T:1},v),a);case"content":return Jr(wr(this.tag,{style:R,class:[N.e("cell"),N.e("content"),N.is("bordered-content",f),N.is("vertical-content",m),C,M],colSpan:m?T:T*2-1},y),a);default:return Jr(wr("td",{style:R,class:[N.e("cell"),C],colSpan:T},[Cu(v)?void 0:wr("span",{class:[N.e("label"),P]},v),wr("span",{class:[N.e("content"),M]},y)]),a)}}});const eGe=Ln({row:{type:Rt(Array),default:()=>[]}}),tGe={key:1},nGe=Be({name:"ElDescriptionsRow"}),rGe=Be({...nGe,props:eGe,setup(t){const e=ar(K7,{});return(n,r)=>S(e).direction==="vertical"?(X(),ve(Vn,{key:0},[pe("tr",null,[(X(!0),ve(Vn,null,Yr(n.row,(i,s)=>(X(),Ut(S(g4),{key:`tr1-${s}`,cell:i,tag:"th",type:"label"},null,8,["cell"]))),128))]),pe("tr",null,[(X(!0),ve(Vn,null,Yr(n.row,(i,s)=>(X(),Ut(S(g4),{key:`tr2-${s}`,cell:i,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(X(),ve("tr",tGe,[(X(!0),ve(Vn,null,Yr(n.row,(i,s)=>(X(),ve(Vn,{key:`tr3-${s}`},[S(e).border?(X(),ve(Vn,{key:0},[ht(S(g4),{cell:i,tag:"td",type:"label"},null,8,["cell"]),ht(S(g4),{cell:i,tag:"td",type:"content"},null,8,["cell"])],64)):(X(),Ut(S(g4),{key:1,cell:i,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var iGe=Fn(rGe,[["__file","descriptions-row.vue"]]);const aGe=Ln({border:{type:Boolean,default:!1},column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:lu,title:{type:String,default:""},extra:{type:String,default:""}}),sGe=Be({name:"ElDescriptions"}),oGe=Be({...sGe,props:aGe,setup(t){const e=t,n=vn("descriptions"),r=ml(),i=To();ki(K7,e);const s=le(()=>[n.b(),n.m(r.value)]),l=(a,f,p,m=!1)=>(a.props||(a.props={}),f>p&&(a.props.span=p),m&&(a.props.span=f),a),c=()=>{if(!i.default)return[];const a=r1(i.default()).filter(y=>{var T;return((T=y==null?void 0:y.type)==null?void 0:T.name)==="ElDescriptionsItem"}),f=[];let p=[],m=e.column,v=0;return a.forEach((y,T)=>{var C;const k=((C=y.props)==null?void 0:C.span)||1;if(T<a.length-1&&(v+=k>m?m:k),T===a.length-1){const M=e.column-v%e.column;p.push(l(y,M,m,!0)),f.push(p);return}k<m?(m-=k,p.push(y)):(p.push(l(y,k,m)),f.push(p),m=e.column,p=[])}),f};return(a,f)=>(X(),ve("div",{class:Se(S(s))},[a.title||a.extra||a.$slots.title||a.$slots.extra?(X(),ve("div",{key:0,class:Se(S(n).e("header"))},[pe("div",{class:Se(S(n).e("title"))},[Ft(a.$slots,"title",{},()=>[xi(Cn(a.title),1)])],2),pe("div",{class:Se(S(n).e("extra"))},[Ft(a.$slots,"extra",{},()=>[xi(Cn(a.extra),1)])],2)],2)):bt("v-if",!0),pe("div",{class:Se(S(n).e("body"))},[pe("table",{class:Se([S(n).e("table"),S(n).is("bordered",a.border)])},[pe("tbody",null,[(X(!0),ve(Vn,null,Yr(c(),(p,m)=>(X(),Ut(iGe,{key:m,row:p},null,8,["row"]))),128))])],2)],2)],2))}});var lGe=Fn(oGe,[["__file","description.vue"]]);const uGe=Ln({label:{type:String,default:""},span:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}),Boe=Be({name:"ElDescriptionsItem",props:uGe}),cGe=pi(lGe,{DescriptionsItem:Boe}),hGe=ao(Boe),dGe=Ln({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:Rt([String,Array,Object])},zIndex:{type:Rt([String,Number])}}),fGe={click:t=>t instanceof MouseEvent},pGe="overlay";var AGe=Be({name:"ElOverlay",props:dGe,emits:fGe,setup(t,{slots:e,emit:n}){const r=vn(pGe),i=a=>{n("click",a)},{onClick:s,onMousedown:l,onMouseup:c}=E7(t.customMaskEvent?void 0:i);return()=>t.mask?ht("div",{class:[r.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:s,onMousedown:l,onMouseup:c},[Ft(e,"default")],_f.STYLE|_f.CLASS|_f.PROPS,["onClick","onMouseup","onMousedown"]):wr("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[Ft(e,"default")])}});const W7=AGe,Moe=Symbol("dialogInjectionKey"),Ioe=Ln({center:Boolean,alignCenter:Boolean,closeIcon:{type:ts},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),mGe={close:()=>!0},gGe=["aria-level"],vGe=["aria-label"],_Ge=["id"],yGe=Be({name:"ElDialogContent"}),bGe=Be({...yGe,props:Ioe,emits:mGe,setup(t){const e=t,{t:n}=da(),{Close:r}=c7,{dialogRef:i,headerRef:s,bodyId:l,ns:c,style:a}=ar(Moe),{focusTrapRef:f}=ar(N7),p=le(()=>[c.b(),c.is("fullscreen",e.fullscreen),c.is("draggable",e.draggable),c.is("align-center",e.alignCenter),{[c.m("center")]:e.center}]),m=nM(f,i),v=le(()=>e.draggable),y=le(()=>e.overflow);return Cae(i,s,v,y),(T,C)=>(X(),ve("div",{ref:S(m),class:Se(S(p)),style:or(S(a)),tabindex:"-1"},[pe("header",{ref_key:"headerRef",ref:s,class:Se([S(c).e("header"),{"show-close":T.showClose}])},[Ft(T.$slots,"header",{},()=>[pe("span",{role:"heading","aria-level":T.ariaLevel,class:Se(S(c).e("title"))},Cn(T.title),11,gGe)]),T.showClose?(X(),ve("button",{key:0,"aria-label":S(n)("el.dialog.close"),class:Se(S(c).e("headerbtn")),type:"button",onClick:C[0]||(C[0]=k=>T.$emit("close"))},[ht(S(Ar),{class:Se(S(c).e("close"))},{default:xt(()=>[(X(),Ut(fi(T.closeIcon||S(r))))]),_:1},8,["class"])],10,vGe)):bt("v-if",!0)],2),pe("div",{id:S(l),class:Se(S(c).e("body"))},[Ft(T.$slots,"default")],10,_Ge),T.$slots.footer?(X(),ve("footer",{key:0,class:Se(S(c).e("footer"))},[Ft(T.$slots,"footer")],2)):bt("v-if",!0)],6))}});var wGe=Fn(bGe,[["__file","dialog-content.vue"]]);const Loe=Ln({...Ioe,appendToBody:Boolean,appendTo:{type:Rt(String),default:"body"},beforeClose:{type:Rt(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),koe={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[_i]:t=>Jo(t),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},Poe=(t,e)=>{var n;const i=ci().emit,{nextZIndex:s}=ix();let l="";const c=hc(),a=hc(),f=Te(!1),p=Te(!1),m=Te(!1),v=Te((n=t.zIndex)!=null?n:s());let y,T;const C=x5("namespace",_C),k=le(()=>{const J={},te=`--${C.value}-dialog`;return t.fullscreen||(t.top&&(J[`${te}-margin-top`]=t.top),t.width&&(J[`${te}-width`]=So(t.width))),J}),M=le(()=>t.alignCenter?{display:"flex"}:{});function P(){i("opened")}function R(){i("closed"),i(_i,!1),t.destroyOnClose&&(m.value=!1)}function N(){i("close")}function z(){T==null||T(),y==null||y(),t.openDelay&&t.openDelay>0?{stop:y}=yy(()=>G(),t.openDelay):G()}function H(){y==null||y(),T==null||T(),t.closeDelay&&t.closeDelay>0?{stop:T}=yy(()=>ie(),t.closeDelay):ie()}function j(){function J(te){te||(p.value=!0,f.value=!1)}t.beforeClose?t.beforeClose(J):H()}function Q(){t.closeOnClickModal&&j()}function G(){ra&&(f.value=!0)}function ie(){f.value=!1}function q(){i("openAutoFocus")}function W(){i("closeAutoFocus")}function ee(J){var te;((te=J.detail)==null?void 0:te.focusReason)==="pointer"&&J.preventDefault()}t.lockScroll&&m7(f);function he(){t.closeOnPressEscape&&j()}return ln(()=>t.modelValue,J=>{J?(p.value=!1,z(),m.value=!0,v.value=qie(t.zIndex)?s():v.value++,dr(()=>{i("open"),e.value&&(e.value.scrollTop=0)})):f.value&&H()}),ln(()=>t.fullscreen,J=>{e.value&&(J?(l=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=l)}),Fr(()=>{t.modelValue&&(f.value=!0,m.value=!0,z())}),{afterEnter:P,afterLeave:R,beforeLeave:N,handleClose:j,onModalClick:Q,close:H,doClose:ie,onOpenAutoFocus:q,onCloseAutoFocus:W,onCloseRequested:he,onFocusoutPrevented:ee,titleId:c,bodyId:a,closed:p,style:k,overlayDialogStyle:M,rendered:m,visible:f,zIndex:v}},xGe=["aria-label","aria-labelledby","aria-describedby"],CGe=Be({name:"ElDialog",inheritAttrs:!1}),EGe=Be({...CGe,props:Loe,emits:koe,setup(t,{expose:e}){const n=t,r=To();wu({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},le(()=>!!r.title));const i=vn("dialog"),s=Te(),l=Te(),c=Te(),{visible:a,titleId:f,bodyId:p,style:m,overlayDialogStyle:v,rendered:y,zIndex:T,afterEnter:C,afterLeave:k,beforeLeave:M,handleClose:P,onModalClick:R,onOpenAutoFocus:N,onCloseAutoFocus:z,onCloseRequested:H,onFocusoutPrevented:j}=Poe(n,s);ki(Moe,{dialogRef:s,headerRef:l,bodyId:p,ns:i,rendered:y,style:m});const Q=E7(R),G=le(()=>n.draggable&&!n.fullscreen);return e({visible:a,dialogContentRef:c}),(ie,q)=>(X(),Ut(Ny,{to:ie.appendTo,disabled:ie.appendTo!=="body"?!1:!ie.appendToBody},[ht(fo,{name:"dialog-fade",onAfterEnter:S(C),onAfterLeave:S(k),onBeforeLeave:S(M),persisted:""},{default:xt(()=>[Jr(ht(S(W7),{"custom-mask-event":"",mask:ie.modal,"overlay-class":ie.modalClass,"z-index":S(T)},{default:xt(()=>[pe("div",{role:"dialog","aria-modal":"true","aria-label":ie.title||void 0,"aria-labelledby":ie.title?void 0:S(f),"aria-describedby":S(p),class:Se(`${S(i).namespace.value}-overlay-dialog`),style:or(S(v)),onClick:q[0]||(q[0]=(...W)=>S(Q).onClick&&S(Q).onClick(...W)),onMousedown:q[1]||(q[1]=(...W)=>S(Q).onMousedown&&S(Q).onMousedown(...W)),onMouseup:q[2]||(q[2]=(...W)=>S(Q).onMouseup&&S(Q).onMouseup(...W))},[ht(S(E5),{loop:"",trapped:S(a),"focus-start-el":"container",onFocusAfterTrapped:S(N),onFocusAfterReleased:S(z),onFocusoutPrevented:S(j),onReleaseRequested:S(H)},{default:xt(()=>[S(y)?(X(),Ut(wGe,Xr({key:0,ref_key:"dialogContentRef",ref:c},ie.$attrs,{center:ie.center,"align-center":ie.alignCenter,"close-icon":ie.closeIcon,draggable:S(G),overflow:ie.overflow,fullscreen:ie.fullscreen,"show-close":ie.showClose,title:ie.title,"aria-level":ie.headerAriaLevel,onClose:S(P)}),Uo({header:xt(()=>[ie.$slots.title?Ft(ie.$slots,"title",{key:1}):Ft(ie.$slots,"header",{key:0,close:S(P),titleId:S(f),titleClass:S(i).e("title")})]),default:xt(()=>[Ft(ie.$slots,"default")]),_:2},[ie.$slots.footer?{name:"footer",fn:xt(()=>[Ft(ie.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):bt("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,xGe)]),_:3},8,["mask","overlay-class","z-index"]),[[ca,S(a)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var SGe=Fn(EGe,[["__file","dialog.vue"]]);const TGe=pi(SGe),BGe=Ln({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:Rt(String),default:"solid"}}),MGe=Be({name:"ElDivider"}),IGe=Be({...MGe,props:BGe,setup(t){const e=t,n=vn("divider"),r=le(()=>n.cssVar({"border-style":e.borderStyle}));return(i,s)=>(X(),ve("div",{class:Se([S(n).b(),S(n).m(i.direction)]),style:or(S(r)),role:"separator"},[i.$slots.default&&i.direction!=="vertical"?(X(),ve("div",{key:0,class:Se([S(n).e("text"),S(n).is(i.contentPosition)])},[Ft(i.$slots,"default")],2)):bt("v-if",!0)],6))}});var LGe=Fn(IGe,[["__file","divider.vue"]]);const Foe=pi(LGe),kGe=Ln({...Loe,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),PGe=koe,FGe=["aria-label","aria-labelledby","aria-describedby"],RGe=["id","aria-level"],OGe=["aria-label"],DGe=["id"],NGe=Be({name:"ElDrawer",inheritAttrs:!1}),UGe=Be({...NGe,props:kGe,emits:PGe,setup(t,{expose:e}){const n=t,r=To();wu({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},le(()=>!!r.title));const i=Te(),s=Te(),l=vn("drawer"),{t:c}=da(),{afterEnter:a,afterLeave:f,beforeLeave:p,visible:m,rendered:v,titleId:y,bodyId:T,zIndex:C,onModalClick:k,onOpenAutoFocus:M,onCloseAutoFocus:P,onFocusoutPrevented:R,onCloseRequested:N,handleClose:z}=Poe(n,i),H=le(()=>n.direction==="rtl"||n.direction==="ltr"),j=le(()=>So(n.size));return e({handleClose:z,afterEnter:a,afterLeave:f}),(Q,G)=>(X(),Ut(Ny,{to:"body",disabled:!Q.appendToBody},[ht(fo,{name:S(l).b("fade"),onAfterEnter:S(a),onAfterLeave:S(f),onBeforeLeave:S(p),persisted:""},{default:xt(()=>[Jr(ht(S(W7),{mask:Q.modal,"overlay-class":Q.modalClass,"z-index":S(C),onClick:S(k)},{default:xt(()=>[ht(S(E5),{loop:"",trapped:S(m),"focus-trap-el":i.value,"focus-start-el":s.value,onFocusAfterTrapped:S(M),onFocusAfterReleased:S(P),onFocusoutPrevented:S(R),onReleaseRequested:S(N)},{default:xt(()=>[pe("div",Xr({ref_key:"drawerRef",ref:i,"aria-modal":"true","aria-label":Q.title||void 0,"aria-labelledby":Q.title?void 0:S(y),"aria-describedby":S(T)},Q.$attrs,{class:[S(l).b(),Q.direction,S(m)&&"open"],style:S(H)?"width: "+S(j):"height: "+S(j),role:"dialog",onClick:G[1]||(G[1]=Pr(()=>{},["stop"]))}),[pe("span",{ref_key:"focusStartRef",ref:s,class:Se(S(l).e("sr-focus")),tabindex:"-1"},null,2),Q.withHeader?(X(),ve("header",{key:0,class:Se(S(l).e("header"))},[Q.$slots.title?Ft(Q.$slots,"title",{key:1},()=>[bt(" DEPRECATED SLOT ")]):Ft(Q.$slots,"header",{key:0,close:S(z),titleId:S(y),titleClass:S(l).e("title")},()=>[Q.$slots.title?bt("v-if",!0):(X(),ve("span",{key:0,id:S(y),role:"heading","aria-level":Q.headerAriaLevel,class:Se(S(l).e("title"))},Cn(Q.title),11,RGe))]),Q.showClose?(X(),ve("button",{key:2,"aria-label":S(c)("el.drawer.close"),class:Se(S(l).e("close-btn")),type:"button",onClick:G[0]||(G[0]=(...ie)=>S(z)&&S(z)(...ie))},[ht(S(Ar),{class:Se(S(l).e("close"))},{default:xt(()=>[ht(S(Rf))]),_:1},8,["class"])],10,OGe)):bt("v-if",!0)],2)):bt("v-if",!0),S(v)?(X(),ve("div",{key:1,id:S(T),class:Se(S(l).e("body"))},[Ft(Q.$slots,"default")],10,DGe)):bt("v-if",!0),Q.$slots.footer?(X(),ve("div",{key:2,class:Se(S(l).e("footer"))},[Ft(Q.$slots,"footer")],2)):bt("v-if",!0)],16,FGe)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[ca,S(m)]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var zGe=Fn(UGe,[["__file","drawer.vue"]]);const $Ge=pi(zGe),VGe=Be({inheritAttrs:!1});function HGe(t,e,n,r,i,s){return Ft(t.$slots,"default")}var QGe=Fn(VGe,[["render",HGe],["__file","collection.vue"]]);const jGe=Be({name:"ElCollectionItem",inheritAttrs:!1});function GGe(t,e,n,r,i,s){return Ft(t.$slots,"default")}var KGe=Fn(jGe,[["render",GGe],["__file","collection-item.vue"]]);const Roe="data-el-collection-item",Ooe=t=>{const e=`El${t}Collection`,n=`${e}Item`,r=Symbol(e),i=Symbol(n),s={...QGe,name:e,setup(){const c=Te(null),a=new Map;ki(r,{itemMap:a,getItems:()=>{const p=S(c);if(!p)return[];const m=Array.from(p.querySelectorAll(`[${Roe}]`));return[...a.values()].sort((y,T)=>m.indexOf(y.ref)-m.indexOf(T.ref))},collectionRef:c})}},l={...KGe,name:n,setup(c,{attrs:a}){const f=Te(null),p=ar(r,void 0);ki(i,{collectionItemRef:f}),Fr(()=>{const m=S(f);m&&p.itemMap.set(m,{ref:m,...a})}),ps(()=>{const m=S(f);p.itemMap.delete(m)})}};return{COLLECTION_INJECTION_KEY:r,COLLECTION_ITEM_INJECTION_KEY:i,ElCollection:s,ElCollectionItem:l}},WGe=Ln({style:{type:Rt([String,Array,Object])},currentTabId:{type:Rt(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:Rt(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:qGe,ElCollectionItem:YGe,COLLECTION_INJECTION_KEY:q7,COLLECTION_ITEM_INJECTION_KEY:XGe}=Ooe("RovingFocusGroup"),Y7=Symbol("elRovingFocusGroup"),Doe=Symbol("elRovingFocusGroupItem"),ZGe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},JGe=(t,e)=>t,eKe=(t,e,n)=>{const r=JGe(t.key);return ZGe[r]},tKe=(t,e)=>t.map((n,r)=>t[(r+e)%t.length]),X7=t=>{const{activeElement:e}=document;for(const n of t)if(n===e||(n.focus(),e!==document.activeElement))return},Eq="currentTabIdChange",Sq="rovingFocusGroup.entryFocus",nKe={bubbles:!1,cancelable:!0},rKe=Be({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:WGe,emits:[Eq,"entryFocus"],setup(t,{emit:e}){var n;const r=Te((n=t.currentTabId||t.defaultCurrentTabId)!=null?n:null),i=Te(!1),s=Te(!1),l=Te(null),{getItems:c}=ar(q7,void 0),a=le(()=>[{outline:"none"},t.style]),f=C=>{e(Eq,C)},p=()=>{i.value=!0},m=xo(C=>{var k;(k=t.onMousedown)==null||k.call(t,C)},()=>{s.value=!0}),v=xo(C=>{var k;(k=t.onFocus)==null||k.call(t,C)},C=>{const k=!S(s),{target:M,currentTarget:P}=C;if(M===P&&k&&!S(i)){const R=new Event(Sq,nKe);if(P==null||P.dispatchEvent(R),!R.defaultPrevented){const N=c().filter(G=>G.focusable),z=N.find(G=>G.active),H=N.find(G=>G.id===S(r)),Q=[z,H,...N].filter(Boolean).map(G=>G.ref);X7(Q)}}s.value=!1}),y=xo(C=>{var k;(k=t.onBlur)==null||k.call(t,C)},()=>{i.value=!1}),T=(...C)=>{e("entryFocus",...C)};ki(Y7,{currentTabbedId:Y2(r),loop:Na(t,"loop"),tabIndex:le(()=>S(i)?-1:0),rovingFocusGroupRef:l,rovingFocusGroupRootStyle:a,orientation:Na(t,"orientation"),dir:Na(t,"dir"),onItemFocus:f,onItemShiftTab:p,onBlur:y,onFocus:v,onMousedown:m}),ln(()=>t.currentTabId,C=>{r.value=C??null}),_s(l,Sq,T)}});function iKe(t,e,n,r,i,s){return Ft(t.$slots,"default")}var aKe=Fn(rKe,[["render",iKe],["__file","roving-focus-group-impl.vue"]]);const sKe=Be({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:qGe,ElRovingFocusGroupImpl:aKe}});function oKe(t,e,n,r,i,s){const l=Kr("el-roving-focus-group-impl"),c=Kr("el-focus-group-collection");return X(),Ut(c,null,{default:xt(()=>[ht(l,ho(ou(t.$attrs)),{default:xt(()=>[Ft(t.$slots,"default")]),_:3},16)]),_:3})}var lKe=Fn(sKe,[["render",oKe],["__file","roving-focus-group.vue"]]);const uKe=Be({components:{ElRovingFocusCollectionItem:YGe},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(t,{emit:e}){const{currentTabbedId:n,loop:r,onItemFocus:i,onItemShiftTab:s}=ar(Y7,void 0),{getItems:l}=ar(q7,void 0),c=hc(),a=Te(null),f=xo(y=>{e("mousedown",y)},y=>{t.focusable?i(S(c)):y.preventDefault()}),p=xo(y=>{e("focus",y)},()=>{i(S(c))}),m=xo(y=>{e("keydown",y)},y=>{const{key:T,shiftKey:C,target:k,currentTarget:M}=y;if(T===Tr.tab&&C){s();return}if(k!==M)return;const P=eKe(y);if(P){y.preventDefault();let N=l().filter(z=>z.focusable).map(z=>z.ref);switch(P){case"last":{N.reverse();break}case"prev":case"next":{P==="prev"&&N.reverse();const z=N.indexOf(M);N=r.value?tKe(N,z+1):N.slice(z+1);break}}dr(()=>{X7(N)})}}),v=le(()=>n.value===S(c));return ki(Doe,{rovingFocusGroupItemRef:a,tabIndex:le(()=>S(v)?0:-1),handleMousedown:f,handleFocus:p,handleKeydown:m}),{id:c,handleKeydown:m,handleFocus:p,handleMousedown:f}}});function cKe(t,e,n,r,i,s){const l=Kr("el-roving-focus-collection-item");return X(),Ut(l,{id:t.id,focusable:t.focusable,active:t.active},{default:xt(()=>[Ft(t.$slots,"default")]),_:3},8,["id","focusable","active"])}var hKe=Fn(uKe,[["render",cKe],["__file","roving-focus-item.vue"]]);const mT=Ln({trigger:p6.trigger,effect:{...gu.effect,default:"light"},type:{type:Rt(String)},placement:{type:Rt(String),default:"bottom"},popperOptions:{type:Rt(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:Rt([Number,String]),default:0},maxHeight:{type:Rt([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:Rt(Object)},teleported:gu.teleported}),Noe=Ln({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:ts}}),dKe=Ln({onKeydown:{type:Rt(Function)}}),fKe=[Tr.down,Tr.pageDown,Tr.home],Uoe=[Tr.up,Tr.pageUp,Tr.end],pKe=[...fKe,...Uoe],{ElCollection:AKe,ElCollectionItem:mKe,COLLECTION_INJECTION_KEY:gKe,COLLECTION_ITEM_INJECTION_KEY:vKe}=Ooe("Dropdown"),fM=Symbol("elDropdown"),{ButtonGroup:_Ke}=Eu,yKe=Be({name:"ElDropdown",components:{ElButton:Eu,ElButtonGroup:_Ke,ElScrollbar:E0,ElDropdownCollection:AKe,ElTooltip:Hc,ElRovingFocusGroup:lKe,ElOnlyChild:hse,ElIcon:Ar,ArrowDown:Rm},props:mT,emits:["visible-change","click","command"],setup(t,{emit:e}){const n=ci(),r=vn("dropdown"),{t:i}=da(),s=Te(),l=Te(),c=Te(null),a=Te(null),f=Te(null),p=Te(null),m=Te(!1),v=[Tr.enter,Tr.space,Tr.down],y=le(()=>({maxHeight:So(t.maxHeight)})),T=le(()=>[r.m(z.value)]),C=le(()=>h1(t.trigger)),k=hc().value,M=le(()=>t.id||k);ln([s,C],([ne,ce],[ue])=>{var ye,Ee,se;(ye=ue==null?void 0:ue.$el)!=null&&ye.removeEventListener&&ue.$el.removeEventListener("pointerenter",j),(Ee=ne==null?void 0:ne.$el)!=null&&Ee.removeEventListener&&ne.$el.removeEventListener("pointerenter",j),(se=ne==null?void 0:ne.$el)!=null&&se.addEventListener&&ce.includes("hover")&&ne.$el.addEventListener("pointerenter",j)},{immediate:!0}),ps(()=>{var ne,ce;(ce=(ne=s.value)==null?void 0:ne.$el)!=null&&ce.removeEventListener&&s.value.$el.removeEventListener("pointerenter",j)});function P(){R()}function R(){var ne;(ne=c.value)==null||ne.onClose()}function N(){var ne;(ne=c.value)==null||ne.onOpen()}const z=ml();function H(...ne){e("command",...ne)}function j(){var ne,ce;(ce=(ne=s.value)==null?void 0:ne.$el)==null||ce.focus()}function Q(){}function G(){const ne=S(a);C.value.includes("hover")&&(ne==null||ne.focus()),p.value=null}function ie(ne){p.value=ne}function q(ne){m.value||(ne.preventDefault(),ne.stopImmediatePropagation())}function W(){e("visible-change",!0)}function ee(ne){(ne==null?void 0:ne.type)==="keydown"&&a.value.focus()}function he(){e("visible-change",!1)}return ki(fM,{contentRef:a,role:le(()=>t.role),triggerId:M,isUsingKeyboard:m,onItemEnter:Q,onItemLeave:G}),ki("elDropdown",{instance:n,dropdownSize:z,handleClick:P,commandHandler:H,trigger:Na(t,"trigger"),hideOnClick:Na(t,"hideOnClick")}),{t:i,ns:r,scrollbar:f,wrapStyle:y,dropdownTriggerKls:T,dropdownSize:z,triggerId:M,triggerKeys:v,currentTabId:p,handleCurrentTabIdChange:ie,handlerMainButtonClick:ne=>{e("click",ne)},handleEntryFocus:q,handleClose:R,handleOpen:N,handleBeforeShowTooltip:W,handleShowTooltip:ee,handleBeforeHideTooltip:he,onFocusAfterTrapped:ne=>{var ce,ue;ne.preventDefault(),(ue=(ce=a.value)==null?void 0:ce.focus)==null||ue.call(ce,{preventScroll:!0})},popperRef:c,contentRef:a,triggeringElementRef:s,referenceElementRef:l}}});function bKe(t,e,n,r,i,s){var l;const c=Kr("el-dropdown-collection"),a=Kr("el-roving-focus-group"),f=Kr("el-scrollbar"),p=Kr("el-only-child"),m=Kr("el-tooltip"),v=Kr("el-button"),y=Kr("arrow-down"),T=Kr("el-icon"),C=Kr("el-button-group");return X(),ve("div",{class:Se([t.ns.b(),t.ns.is("disabled",t.disabled)])},[ht(m,{ref:"popperRef",role:t.role,effect:t.effect,"fallback-placements":["bottom","top"],"popper-options":t.popperOptions,"gpu-acceleration":!1,"hide-after":t.trigger==="hover"?t.hideTimeout:0,"manual-mode":!0,placement:t.placement,"popper-class":[t.ns.e("popper"),t.popperClass],"reference-element":(l=t.referenceElementRef)==null?void 0:l.$el,trigger:t.trigger,"trigger-keys":t.triggerKeys,"trigger-target-el":t.contentRef,"show-after":t.trigger==="hover"?t.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":t.triggeringElementRef,"virtual-triggering":t.splitButton,disabled:t.disabled,transition:`${t.ns.namespace.value}-zoom-in-top`,teleported:t.teleported,pure:"",persistent:"",onBeforeShow:t.handleBeforeShowTooltip,onShow:t.handleShowTooltip,onBeforeHide:t.handleBeforeHideTooltip},Uo({content:xt(()=>[ht(f,{ref:"scrollbar","wrap-style":t.wrapStyle,tag:"div","view-class":t.ns.e("list")},{default:xt(()=>[ht(a,{loop:t.loop,"current-tab-id":t.currentTabId,orientation:"horizontal",onCurrentTabIdChange:t.handleCurrentTabIdChange,onEntryFocus:t.handleEntryFocus},{default:xt(()=>[ht(c,null,{default:xt(()=>[Ft(t.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[t.splitButton?void 0:{name:"default",fn:xt(()=>[ht(p,{id:t.triggerId,ref:"triggeringElementRef",role:"button",tabindex:t.tabindex},{default:xt(()=>[Ft(t.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),t.splitButton?(X(),Ut(C,{key:0},{default:xt(()=>[ht(v,Xr({ref:"referenceElementRef"},t.buttonProps,{size:t.dropdownSize,type:t.type,disabled:t.disabled,tabindex:t.tabindex,onClick:t.handlerMainButtonClick}),{default:xt(()=>[Ft(t.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),ht(v,Xr({id:t.triggerId,ref:"triggeringElementRef"},t.buttonProps,{role:"button",size:t.dropdownSize,type:t.type,class:t.ns.e("caret-button"),disabled:t.disabled,tabindex:t.tabindex,"aria-label":t.t("el.dropdown.toggleDropdown")}),{default:xt(()=>[ht(T,{class:Se(t.ns.e("icon"))},{default:xt(()=>[ht(y)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):bt("v-if",!0)],2)}var wKe=Fn(yKe,[["render",bKe],["__file","dropdown.vue"]]);const xKe=Be({name:"DropdownItemImpl",components:{ElIcon:Ar},props:Noe,emits:["pointermove","pointerleave","click","clickimpl"],setup(t,{emit:e}){const n=vn("dropdown"),{role:r}=ar(fM,void 0),{collectionItemRef:i}=ar(vKe,void 0),{collectionItemRef:s}=ar(XGe,void 0),{rovingFocusGroupItemRef:l,tabIndex:c,handleFocus:a,handleKeydown:f,handleMousedown:p}=ar(Doe,void 0),m=nM(i,s,l),v=le(()=>r.value==="menu"?"menuitem":r.value==="navigation"?"link":"button"),y=xo(T=>{const{code:C}=T;if(C===Tr.enter||C===Tr.space)return T.preventDefault(),T.stopImmediatePropagation(),e("clickimpl",T),!0},f);return{ns:n,itemRef:m,dataset:{[Roe]:""},role:v,tabIndex:c,handleFocus:a,handleKeydown:y,handleMousedown:p}}}),CKe=["aria-disabled","tabindex","role"];function EKe(t,e,n,r,i,s){const l=Kr("el-icon");return X(),ve(Vn,null,[t.divided?(X(),ve("li",Xr({key:0,role:"separator",class:t.ns.bem("menu","item","divided")},t.$attrs),null,16)):bt("v-if",!0),pe("li",Xr({ref:t.itemRef},{...t.dataset,...t.$attrs},{"aria-disabled":t.disabled,class:[t.ns.be("menu","item"),t.ns.is("disabled",t.disabled)],tabindex:t.tabIndex,role:t.role,onClick:e[0]||(e[0]=c=>t.$emit("clickimpl",c)),onFocus:e[1]||(e[1]=(...c)=>t.handleFocus&&t.handleFocus(...c)),onKeydown:e[2]||(e[2]=Pr((...c)=>t.handleKeydown&&t.handleKeydown(...c),["self"])),onMousedown:e[3]||(e[3]=(...c)=>t.handleMousedown&&t.handleMousedown(...c)),onPointermove:e[4]||(e[4]=c=>t.$emit("pointermove",c)),onPointerleave:e[5]||(e[5]=c=>t.$emit("pointerleave",c))}),[t.icon?(X(),Ut(l,{key:0},{default:xt(()=>[(X(),Ut(fi(t.icon)))]),_:1})):bt("v-if",!0),Ft(t.$slots,"default")],16,CKe)],64)}var SKe=Fn(xKe,[["render",EKe],["__file","dropdown-item-impl.vue"]]);const zoe=()=>{const t=ar("elDropdown",{}),e=le(()=>t==null?void 0:t.dropdownSize);return{elDropdown:t,_elDropdownSize:e}},TKe=Be({name:"ElDropdownItem",components:{ElDropdownCollectionItem:mKe,ElRovingFocusItem:hKe,ElDropdownItemImpl:SKe},inheritAttrs:!1,props:Noe,emits:["pointermove","pointerleave","click"],setup(t,{emit:e,attrs:n}){const{elDropdown:r}=zoe(),i=ci(),s=Te(null),l=le(()=>{var y,T;return(T=(y=S(s))==null?void 0:y.textContent)!=null?T:""}),{onItemEnter:c,onItemLeave:a}=ar(fM,void 0),f=xo(y=>(e("pointermove",y),y.defaultPrevented),wK(y=>{if(t.disabled){a(y);return}const T=y.currentTarget;T===document.activeElement||T.contains(document.activeElement)||(c(y),y.defaultPrevented||T==null||T.focus())})),p=xo(y=>(e("pointerleave",y),y.defaultPrevented),wK(y=>{a(y)})),m=xo(y=>{if(!t.disabled)return e("click",y),y.type!=="keydown"&&y.defaultPrevented},y=>{var T,C,k;if(t.disabled){y.stopImmediatePropagation();return}(T=r==null?void 0:r.hideOnClick)!=null&&T.value&&((C=r.handleClick)==null||C.call(r)),(k=r.commandHandler)==null||k.call(r,t.command,i,y)}),v=le(()=>({...t,...n}));return{handleClick:m,handlePointerMove:f,handlePointerLeave:p,textContent:l,propsAndAttrs:v}}});function BKe(t,e,n,r,i,s){var l;const c=Kr("el-dropdown-item-impl"),a=Kr("el-roving-focus-item"),f=Kr("el-dropdown-collection-item");return X(),Ut(f,{disabled:t.disabled,"text-value":(l=t.textValue)!=null?l:t.textContent},{default:xt(()=>[ht(a,{focusable:!t.disabled},{default:xt(()=>[ht(c,Xr(t.propsAndAttrs,{onPointerleave:t.handlePointerLeave,onPointermove:t.handlePointerMove,onClickimpl:t.handleClick}),{default:xt(()=>[Ft(t.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var $oe=Fn(TKe,[["render",BKe],["__file","dropdown-item.vue"]]);const MKe=Be({name:"ElDropdownMenu",props:dKe,setup(t){const e=vn("dropdown"),{_elDropdownSize:n}=zoe(),r=n.value,{focusTrapRef:i,onKeydown:s}=ar(N7,void 0),{contentRef:l,role:c,triggerId:a}=ar(fM,void 0),{collectionRef:f,getItems:p}=ar(gKe,void 0),{rovingFocusGroupRef:m,rovingFocusGroupRootStyle:v,tabIndex:y,onBlur:T,onFocus:C,onMousedown:k}=ar(Y7,void 0),{collectionRef:M}=ar(q7,void 0),P=le(()=>[e.b("menu"),e.bm("menu",r==null?void 0:r.value)]),R=nM(l,f,i,m,M),N=xo(H=>{var j;(j=t.onKeydown)==null||j.call(t,H)},H=>{const{currentTarget:j,code:Q,target:G}=H;if(j.contains(G),Tr.tab===Q&&H.stopImmediatePropagation(),H.preventDefault(),G!==S(l)||!pKe.includes(Q))return;const q=p().filter(W=>!W.disabled).map(W=>W.ref);Uoe.includes(Q)&&q.reverse(),X7(q)});return{size:r,rovingFocusGroupRootStyle:v,tabIndex:y,dropdownKls:P,role:c,triggerId:a,dropdownListWrapperRef:R,handleKeydown:H=>{N(H),s(H)},onBlur:T,onFocus:C,onMousedown:k}}}),IKe=["role","aria-labelledby"];function LKe(t,e,n,r,i,s){return X(),ve("ul",{ref:t.dropdownListWrapperRef,class:Se(t.dropdownKls),style:or(t.rovingFocusGroupRootStyle),tabindex:-1,role:t.role,"aria-labelledby":t.triggerId,onBlur:e[0]||(e[0]=(...l)=>t.onBlur&&t.onBlur(...l)),onFocus:e[1]||(e[1]=(...l)=>t.onFocus&&t.onFocus(...l)),onKeydown:e[2]||(e[2]=Pr((...l)=>t.handleKeydown&&t.handleKeydown(...l),["self"])),onMousedown:e[3]||(e[3]=Pr((...l)=>t.onMousedown&&t.onMousedown(...l),["self"]))},[Ft(t.$slots,"default")],46,IKe)}var Voe=Fn(MKe,[["render",LKe],["__file","dropdown-menu.vue"]]);const kKe=pi(wKe,{DropdownItem:$oe,DropdownMenu:Voe}),PKe=ao($oe),FKe=ao(Voe),RKe={viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},OKe=["id"],DKe=["stop-color"],NKe=["stop-color"],UKe=["id"],zKe=["stop-color"],$Ke=["stop-color"],VKe=["id"],HKe={id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},QKe={id:"B-type",transform:"translate(-1268.000000, -535.000000)"},jKe={id:"Group-2",transform:"translate(1268.000000, 535.000000)"},GKe=["fill"],KKe=["fill"],WKe={id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},qKe=["fill"],YKe=["fill"],XKe=["fill"],ZKe=["fill"],JKe=["fill"],eWe={id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},tWe=["fill","xlink:href"],nWe=["fill","mask"],rWe=["fill"],iWe=Be({name:"ImgEmpty"}),aWe=Be({...iWe,setup(t){const e=vn("empty"),n=hc();return(r,i)=>(X(),ve("svg",RKe,[pe("defs",null,[pe("linearGradient",{id:`linearGradient-1-${S(n)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[pe("stop",{"stop-color":`var(${S(e).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,DKe),pe("stop",{"stop-color":`var(${S(e).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,NKe)],8,OKe),pe("linearGradient",{id:`linearGradient-2-${S(n)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[pe("stop",{"stop-color":`var(${S(e).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,zKe),pe("stop",{"stop-color":`var(${S(e).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,$Ke)],8,UKe),pe("rect",{id:`path-3-${S(n)}`,x:"0",y:"0",width:"17",height:"36"},null,8,VKe)]),pe("g",HKe,[pe("g",QKe,[pe("g",jKe,[pe("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${S(e).cssVarBlockName("fill-color-3")})`},null,8,GKe),pe("polygon",{id:"Rectangle-Copy-14",fill:`var(${S(e).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,KKe),pe("g",WKe,[pe("polygon",{id:"Rectangle-Copy-10",fill:`var(${S(e).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,qKe),pe("polygon",{id:"Rectangle-Copy-11",fill:`var(${S(e).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,YKe),pe("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${S(n)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,XKe),pe("polygon",{id:"Rectangle-Copy-13",fill:`var(${S(e).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,ZKe)]),pe("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${S(n)})`,x:"13",y:"45",width:"40",height:"36"},null,8,JKe),pe("g",eWe,[pe("use",{id:"Mask",fill:`var(${S(e).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${S(n)}`},null,8,tWe),pe("polygon",{id:"Rectangle-Copy",fill:`var(${S(e).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${S(n)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,nWe)]),pe("polygon",{id:"Rectangle-Copy-18",fill:`var(${S(e).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,rWe)])])])]))}});var sWe=Fn(aWe,[["__file","img-empty.vue"]]);const oWe=Ln({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),lWe=["src"],uWe={key:1},cWe=Be({name:"ElEmpty"}),hWe=Be({...cWe,props:oWe,setup(t){const e=t,{t:n}=da(),r=vn("empty"),i=le(()=>e.description||n("el.table.emptyText")),s=le(()=>({width:So(e.imageSize)}));return(l,c)=>(X(),ve("div",{class:Se(S(r).b())},[pe("div",{class:Se(S(r).e("image")),style:or(S(s))},[l.image?(X(),ve("img",{key:0,src:l.image,ondragstart:"return false"},null,8,lWe)):Ft(l.$slots,"image",{key:1},()=>[ht(sWe)])],6),pe("div",{class:Se(S(r).e("description"))},[l.$slots.description?Ft(l.$slots,"description",{key:0}):(X(),ve("p",uWe,Cn(S(i)),1))],2),l.$slots.default?(X(),ve("div",{key:0,class:Se(S(r).e("bottom"))},[Ft(l.$slots,"default")],2)):bt("v-if",!0)],2))}});var dWe=Fn(hWe,[["__file","empty.vue"]]);const Hoe=pi(dWe),fWe=Ln({urlList:{type:Rt(Array),default:()=>ro([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:Rt(String)}}),pWe={close:()=>!0,switch:t=>Or(t),rotate:t=>Or(t)},AWe=["src","crossorigin"],mWe=Be({name:"ElImageViewer"}),gWe=Be({...mWe,props:fWe,emits:pWe,setup(t,{expose:e,emit:n}){var r;const i=t,s={CONTAIN:{name:"contain",icon:Gw(sae)},ORIGINAL:{name:"original",icon:Gw(pae)}},{t:l}=da(),c=vn("image-viewer"),{nextZIndex:a}=ix(),f=Te(),p=Te([]),m=Gve(),v=Te(!0),y=Te(i.initialIndex),T=vs(s.CONTAIN),C=Te({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),k=Te((r=i.zIndex)!=null?r:a()),M=le(()=>{const{urlList:ye}=i;return ye.length<=1}),P=le(()=>y.value===0),R=le(()=>y.value===i.urlList.length-1),N=le(()=>i.urlList[y.value]),z=le(()=>[c.e("btn"),c.e("prev"),c.is("disabled",!i.infinite&&P.value)]),H=le(()=>[c.e("btn"),c.e("next"),c.is("disabled",!i.infinite&&R.value)]),j=le(()=>{const{scale:ye,deg:Ee,offsetX:se,offsetY:oe,enableTransition:_e}=C.value;let Ue=se/ye,Le=oe/ye;switch(Ee%360){case 90:case-270:[Ue,Le]=[Le,-Ue];break;case 180:case-180:[Ue,Le]=[-Ue,-Le];break;case 270:case-90:[Ue,Le]=[-Le,Ue];break}const be={transform:`scale(${ye}) rotate(${Ee}deg) translate(${Ue}px, ${Le}px)`,transition:_e?"transform .3s":""};return T.value.name===s.CONTAIN.name&&(be.maxWidth=be.maxHeight="100%"),be});function Q(){ie(),n("close")}function G(){const ye=sy(se=>{switch(se.code){case Tr.esc:i.closeOnPressEscape&&Q();break;case Tr.space:J();break;case Tr.left:ne();break;case Tr.up:ue("zoomIn");break;case Tr.right:ce();break;case Tr.down:ue("zoomOut");break}}),Ee=sy(se=>{const oe=se.deltaY||se.deltaX;ue(oe<0?"zoomIn":"zoomOut",{zoomRate:i.zoomRate,enableTransition:!1})});m.run(()=>{_s(document,"keydown",ye),_s(document,"wheel",Ee)})}function ie(){m.stop()}function q(){v.value=!1}function W(ye){v.value=!1,ye.target.alt=l("el.image.error")}function ee(ye){if(v.value||ye.button!==0||!f.value)return;C.value.enableTransition=!1;const{offsetX:Ee,offsetY:se}=C.value,oe=ye.pageX,_e=ye.pageY,Ue=sy(be=>{C.value={...C.value,offsetX:Ee+be.pageX-oe,offsetY:se+be.pageY-_e}}),Le=_s(document,"mousemove",Ue);_s(document,"mouseup",()=>{Le()}),ye.preventDefault()}function he(){C.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function J(){if(v.value)return;const ye=S2(s),Ee=Object.values(s),se=T.value.name,_e=(Ee.findIndex(Ue=>Ue.name===se)+1)%ye.length;T.value=s[ye[_e]],he()}function te(ye){const Ee=i.urlList.length;y.value=(ye+Ee)%Ee}function ne(){P.value&&!i.infinite||te(y.value-1)}function ce(){R.value&&!i.infinite||te(y.value+1)}function ue(ye,Ee={}){if(v.value)return;const{minScale:se,maxScale:oe}=i,{zoomRate:_e,rotateDeg:Ue,enableTransition:Le}={zoomRate:i.zoomRate,rotateDeg:90,enableTransition:!0,...Ee};switch(ye){case"zoomOut":C.value.scale>se&&(C.value.scale=Number.parseFloat((C.value.scale/_e).toFixed(3)));break;case"zoomIn":C.value.scale<oe&&(C.value.scale=Number.parseFloat((C.value.scale*_e).toFixed(3)));break;case"clockwise":C.value.deg+=Ue,n("rotate",C.value.deg);break;case"anticlockwise":C.value.deg-=Ue,n("rotate",C.value.deg);break}C.value.enableTransition=Le}return ln(N,()=>{dr(()=>{const ye=p.value[0];ye!=null&&ye.complete||(v.value=!0)})}),ln(y,ye=>{he(),n("switch",ye)}),Fr(()=>{var ye,Ee;G(),(Ee=(ye=f.value)==null?void 0:ye.focus)==null||Ee.call(ye)}),e({setActiveItem:te}),(ye,Ee)=>(X(),Ut(Ny,{to:"body",disabled:!ye.teleported},[ht(fo,{name:"viewer-fade",appear:""},{default:xt(()=>[pe("div",{ref_key:"wrapper",ref:f,tabindex:-1,class:Se(S(c).e("wrapper")),style:or({zIndex:k.value})},[pe("div",{class:Se(S(c).e("mask")),onClick:Ee[0]||(Ee[0]=Pr(se=>ye.hideOnClickModal&&Q(),["self"]))},null,2),bt(" CLOSE "),pe("span",{class:Se([S(c).e("btn"),S(c).e("close")]),onClick:Q},[ht(S(Ar),null,{default:xt(()=>[ht(S(Rf))]),_:1})],2),bt(" ARROW "),S(M)?bt("v-if",!0):(X(),ve(Vn,{key:0},[pe("span",{class:Se(S(z)),onClick:ne},[ht(S(Ar),null,{default:xt(()=>[ht(S(o0))]),_:1})],2),pe("span",{class:Se(S(H)),onClick:ce},[ht(S(Ar),null,{default:xt(()=>[ht(S(Vc))]),_:1})],2)],64)),bt(" ACTIONS "),pe("div",{class:Se([S(c).e("btn"),S(c).e("actions")])},[pe("div",{class:Se(S(c).e("actions__inner"))},[ht(S(Ar),{onClick:Ee[1]||(Ee[1]=se=>ue("zoomOut"))},{default:xt(()=>[ht(S(yae))]),_:1}),ht(S(Ar),{onClick:Ee[2]||(Ee[2]=se=>ue("zoomIn"))},{default:xt(()=>[ht(S(u7))]),_:1}),pe("i",{class:Se(S(c).e("actions__divider"))},null,2),ht(S(Ar),{onClick:J},{default:xt(()=>[(X(),Ut(fi(S(T).icon)))]),_:1}),pe("i",{class:Se(S(c).e("actions__divider"))},null,2),ht(S(Ar),{onClick:Ee[3]||(Ee[3]=se=>ue("anticlockwise"))},{default:xt(()=>[ht(S(dae))]),_:1}),ht(S(Ar),{onClick:Ee[4]||(Ee[4]=se=>ue("clockwise"))},{default:xt(()=>[ht(S(fae))]),_:1})],2)],2),bt(" CANVAS "),pe("div",{class:Se(S(c).e("canvas"))},[(X(!0),ve(Vn,null,Yr(ye.urlList,(se,oe)=>Jr((X(),ve("img",{ref_for:!0,ref:_e=>p.value[oe]=_e,key:se,src:se,style:or(S(j)),class:Se(S(c).e("img")),crossorigin:ye.crossorigin,onLoad:q,onError:W,onMousedown:ee},null,46,AWe)),[[ca,oe===y.value]])),128))],2),Ft(ye.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var vWe=Fn(gWe,[["__file","image-viewer.vue"]]);const Qoe=pi(vWe),_We=Ln({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:Rt([String,Object])},previewSrcList:{type:Rt(Array),default:()=>ro([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:Rt(String)}}),yWe={load:t=>t instanceof Event,error:t=>t instanceof Event,switch:t=>Or(t),close:()=>!0,show:()=>!0},bWe=["src","loading","crossorigin"],wWe={key:0},xWe=Be({name:"ElImage",inheritAttrs:!1}),CWe=Be({...xWe,props:_We,emits:yWe,setup(t,{emit:e}){const n=t;let r="";const{t:i}=da(),s=vn("image"),l=Dy(),c=p7(),a=Te(),f=Te(!1),p=Te(!0),m=Te(!1),v=Te(),y=Te(),T=ra&&"loading"in HTMLImageElement.prototype;let C,k;const M=le(()=>[s.e("inner"),N.value&&s.e("preview"),p.value&&s.is("loading")]),P=le(()=>l.style),R=le(()=>{const{fit:ce}=n;return ra&&ce?{objectFit:ce}:{}}),N=le(()=>{const{previewSrcList:ce}=n;return Array.isArray(ce)&&ce.length>0}),z=le(()=>{const{previewSrcList:ce,initialIndex:ue}=n;let ye=ue;return ue>ce.length-1&&(ye=0),ye}),H=le(()=>n.loading==="eager"?!1:!T&&n.loading==="lazy"||n.lazy),j=()=>{ra&&(p.value=!0,f.value=!1,a.value=n.src)};function Q(ce){p.value=!1,f.value=!1,e("load",ce)}function G(ce){p.value=!1,f.value=!0,e("error",ce)}function ie(){BCe(v.value,y.value)&&(j(),ee())}const q=sie(ie,200,!0);async function W(){var ce;if(!ra)return;await dr();const{scrollContainer:ue}=n;Ff(ue)?y.value=ue:Hr(ue)&&ue!==""?y.value=(ce=document.querySelector(ue))!=null?ce:void 0:v.value&&(y.value=i7(v.value)),y.value&&(C=_s(y,"scroll",q),setTimeout(()=>ie(),100))}function ee(){!ra||!y.value||!q||(C==null||C(),y.value=void 0)}function he(ce){if(ce.ctrlKey){if(ce.deltaY<0)return ce.preventDefault(),!1;if(ce.deltaY>0)return ce.preventDefault(),!1}}function J(){N.value&&(k=_s("wheel",he,{passive:!1}),r=document.body.style.overflow,document.body.style.overflow="hidden",m.value=!0,e("show"))}function te(){k==null||k(),document.body.style.overflow=r,m.value=!1,e("close")}function ne(ce){e("switch",ce)}return ln(()=>n.src,()=>{H.value?(p.value=!0,f.value=!1,ee(),W()):j()}),Fr(()=>{H.value?W():j()}),(ce,ue)=>(X(),ve("div",{ref_key:"container",ref:v,class:Se([S(s).b(),ce.$attrs.class]),style:or(S(P))},[f.value?Ft(ce.$slots,"error",{key:0},()=>[pe("div",{class:Se(S(s).e("error"))},Cn(S(i)("el.image.error")),3)]):(X(),ve(Vn,{key:1},[a.value!==void 0?(X(),ve("img",Xr({key:0},S(c),{src:a.value,loading:ce.loading,style:S(R),class:S(M),crossorigin:ce.crossorigin,onClick:J,onLoad:Q,onError:G}),null,16,bWe)):bt("v-if",!0),p.value?(X(),ve("div",{key:1,class:Se(S(s).e("wrapper"))},[Ft(ce.$slots,"placeholder",{},()=>[pe("div",{class:Se(S(s).e("placeholder"))},null,2)])],2)):bt("v-if",!0)],64)),S(N)?(X(),ve(Vn,{key:2},[m.value?(X(),Ut(S(Qoe),{key:0,"z-index":ce.zIndex,"initial-index":S(z),infinite:ce.infinite,"zoom-rate":ce.zoomRate,"min-scale":ce.minScale,"max-scale":ce.maxScale,"url-list":ce.previewSrcList,"hide-on-click-modal":ce.hideOnClickModal,teleported:ce.previewTeleported,"close-on-press-escape":ce.closeOnPressEscape,onClose:te,onSwitch:ne},{default:xt(()=>[ce.$slots.viewer?(X(),ve("div",wWe,[Ft(ce.$slots,"viewer")])):bt("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):bt("v-if",!0)],64)):bt("v-if",!0)],6))}});var EWe=Fn(CWe,[["__file","image.vue"]]);const SWe=pi(EWe),TWe=Ln({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:lu,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:t=>t===null||Or(t)||["min","max"].includes(t),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:t=>t>=0&&t===Number.parseInt(`${t}`,10)},validateEvent:{type:Boolean,default:!0},...Wu(["ariaLabel"])}),BWe={[bs]:(t,e)=>e!==t,blur:t=>t instanceof FocusEvent,focus:t=>t instanceof FocusEvent,[lh]:t=>Or(t)||Cu(t),[_i]:t=>Or(t)||Cu(t)},MWe=["aria-label","onKeydown"],IWe=["aria-label","onKeydown"],LWe=Be({name:"ElInputNumber"}),kWe=Be({...LWe,props:TWe,emits:BWe,setup(t,{expose:e,emit:n}){const r=t,{t:i}=da(),s=vn("input-number"),l=Te(),c=ha({currentValue:r.modelValue,userInput:null}),{formItem:a}=Qc(),f=le(()=>Or(r.modelValue)&&r.modelValue<=r.min),p=le(()=>Or(r.modelValue)&&r.modelValue>=r.max),m=le(()=>{const J=M(r.step);return Zo(r.precision)?Math.max(M(r.modelValue),J):(J>r.precision,r.precision)}),v=le(()=>r.controls&&r.controlsPosition==="right"),y=ml(),T=fh(),C=le(()=>{if(c.userInput!==null)return c.userInput;let J=c.currentValue;if(Cu(J))return"";if(Or(J)){if(Number.isNaN(J))return"";Zo(r.precision)||(J=J.toFixed(r.precision))}return J}),k=(J,te)=>{if(Zo(te)&&(te=m.value),te===0)return Math.round(J);let ne=String(J);const ce=ne.indexOf(".");if(ce===-1||!ne.replace(".","").split("")[ce+te])return J;const Ee=ne.length;return ne.charAt(Ee-1)==="5"&&(ne=`${ne.slice(0,Math.max(0,Ee-1))}6`),Number.parseFloat(Number(ne).toFixed(te))},M=J=>{if(Cu(J))return 0;const te=J.toString(),ne=te.indexOf(".");let ce=0;return ne!==-1&&(ce=te.length-ne-1),ce},P=(J,te=1)=>Or(J)?k(J+r.step*te):c.currentValue,R=()=>{if(r.readonly||T.value||p.value)return;const J=Number(C.value)||0,te=P(J);H(te),n(lh,c.currentValue),ee()},N=()=>{if(r.readonly||T.value||f.value)return;const J=Number(C.value)||0,te=P(J,-1);H(te),n(lh,c.currentValue),ee()},z=(J,te)=>{const{max:ne,min:ce,step:ue,precision:ye,stepStrictly:Ee,valueOnClear:se}=r;ne<ce&&Ul("InputNumber","min should not be greater than max.");let oe=Number(J);if(Cu(J)||Number.isNaN(oe))return null;if(J===""){if(se===null)return null;oe=Hr(se)?{min:ce,max:ne}[se]:se}return Ee&&(oe=k(Math.round(oe/ue)*ue,ye)),Zo(ye)||(oe=k(oe,ye)),(oe>ne||oe<ce)&&(oe=oe>ne?ne:ce,te&&n(_i,oe)),oe},H=(J,te=!0)=>{var ne;const ce=c.currentValue,ue=z(J);if(!te){n(_i,ue);return}ce===ue&&J||(c.userInput=null,n(_i,ue),ce!==ue&&n(bs,ue,ce),r.validateEvent&&((ne=a==null?void 0:a.validate)==null||ne.call(a,"change").catch(ye=>void 0)),c.currentValue=ue)},j=J=>{c.userInput=J;const te=J===""?null:Number(J);n(lh,te),H(te,!1)},Q=J=>{const te=J!==""?Number(J):"";(Or(te)&&!Number.isNaN(te)||J==="")&&H(te),ee(),c.userInput=null},G=()=>{var J,te;(te=(J=l.value)==null?void 0:J.focus)==null||te.call(J)},ie=()=>{var J,te;(te=(J=l.value)==null?void 0:J.blur)==null||te.call(J)},q=J=>{n("focus",J)},W=J=>{var te;c.userInput=null,n("blur",J),r.validateEvent&&((te=a==null?void 0:a.validate)==null||te.call(a,"blur").catch(ne=>void 0))},ee=()=>{c.currentValue!==r.modelValue&&(c.currentValue=r.modelValue)},he=J=>{document.activeElement===J.target&&J.preventDefault()};return ln(()=>r.modelValue,(J,te)=>{const ne=z(J,!0);c.userInput===null&&ne!==te&&(c.currentValue=ne)},{immediate:!0}),Fr(()=>{var J;const{min:te,max:ne,modelValue:ce}=r,ue=(J=l.value)==null?void 0:J.input;if(ue.setAttribute("role","spinbutton"),Number.isFinite(ne)?ue.setAttribute("aria-valuemax",String(ne)):ue.removeAttribute("aria-valuemax"),Number.isFinite(te)?ue.setAttribute("aria-valuemin",String(te)):ue.removeAttribute("aria-valuemin"),ue.setAttribute("aria-valuenow",c.currentValue||c.currentValue===0?String(c.currentValue):""),ue.setAttribute("aria-disabled",String(T.value)),!Or(ce)&&ce!=null){let ye=Number(ce);Number.isNaN(ye)&&(ye=null),n(_i,ye)}ue.addEventListener("wheel",he,{passive:!1})}),_0(()=>{var J,te;const ne=(J=l.value)==null?void 0:J.input;ne==null||ne.setAttribute("aria-valuenow",`${(te=c.currentValue)!=null?te:""}`)}),wu({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-input-number",ref:"https://element-plus.org/en-US/component/input-number.html"},le(()=>!!r.label)),e({focus:G,blur:ie}),(J,te)=>(X(),ve("div",{class:Se([S(s).b(),S(s).m(S(y)),S(s).is("disabled",S(T)),S(s).is("without-controls",!J.controls),S(s).is("controls-right",S(v))]),onDragstart:te[0]||(te[0]=Pr(()=>{},["prevent"]))},[J.controls?Jr((X(),ve("span",{key:0,role:"button","aria-label":S(i)("el.inputNumber.decrease"),class:Se([S(s).e("decrease"),S(s).is("disabled",S(f))]),onKeydown:Ga(N,["enter"])},[Ft(J.$slots,"decrease-icon",{},()=>[ht(S(Ar),null,{default:xt(()=>[S(v)?(X(),Ut(S(Rm),{key:0})):(X(),Ut(S(lae),{key:1}))]),_:1})])],42,MWe)),[[S(_8),N]]):bt("v-if",!0),J.controls?Jr((X(),ve("span",{key:1,role:"button","aria-label":S(i)("el.inputNumber.increase"),class:Se([S(s).e("increase"),S(s).is("disabled",S(p))]),onKeydown:Ga(R,["enter"])},[Ft(J.$slots,"increase-icon",{},()=>[ht(S(Ar),null,{default:xt(()=>[S(v)?(X(),Ut(S(ZB),{key:0})):(X(),Ut(S(o7),{key:1}))]),_:1})])],42,IWe)),[[S(_8),R]]):bt("v-if",!0),ht(S(Nc),{id:J.id,ref_key:"input",ref:l,type:"number",step:J.step,"model-value":S(C),placeholder:J.placeholder,readonly:J.readonly,disabled:S(T),size:S(y),max:J.max,min:J.min,name:J.name,"aria-label":J.label||J.ariaLabel,"validate-event":!1,onKeydown:[Ga(Pr(R,["prevent"]),["up"]),Ga(Pr(N,["prevent"]),["down"])],onBlur:W,onFocus:q,onInput:j,onChange:Q},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],34))}});var PWe=Fn(kWe,[["__file","input-number.vue"]]);const joe=pi(PWe),FWe=Ln({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},href:{type:String,default:""},target:{type:String,default:"_self"},icon:{type:ts}}),RWe={click:t=>t instanceof MouseEvent},OWe=["href","target"],DWe=Be({name:"ElLink"}),NWe=Be({...DWe,props:FWe,emits:RWe,setup(t,{emit:e}){const n=t,r=vn("link"),i=le(()=>[r.b(),r.m(n.type),r.is("disabled",n.disabled),r.is("underline",n.underline&&!n.disabled)]);function s(l){n.disabled||e("click",l)}return(l,c)=>(X(),ve("a",{class:Se(S(i)),href:l.disabled||!l.href?void 0:l.href,target:l.disabled||!l.href?void 0:l.target,onClick:s},[l.icon?(X(),Ut(S(Ar),{key:0},{default:xt(()=>[(X(),Ut(fi(l.icon)))]),_:1})):bt("v-if",!0),l.$slots.default?(X(),ve("span",{key:1,class:Se(S(r).e("inner"))},[Ft(l.$slots,"default")],2)):bt("v-if",!0),l.$slots.icon?Ft(l.$slots,"icon",{key:2}):bt("v-if",!0)],10,OWe))}});var UWe=Fn(NWe,[["__file","link.vue"]]);const zWe=pi(UWe);let $We=class{constructor(e,n){this.parent=e,this.domNode=n,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,n=>{n.addEventListener("keydown",r=>{let i=!1;switch(r.code){case Tr.down:{this.gotoSubIndex(this.subIndex+1),i=!0;break}case Tr.up:{this.gotoSubIndex(this.subIndex-1),i=!0;break}case Tr.tab:{nT(e,"mouseleave");break}case Tr.enter:case Tr.space:{i=!0,r.currentTarget.click();break}}return i&&(r.preventDefault(),r.stopPropagation()),!1})})}},VWe=class{constructor(e,n){this.domNode=e,this.submenu=null,this.submenu=null,this.init(n)}init(e){this.domNode.setAttribute("tabindex","0");const n=this.domNode.querySelector(`.${e}-menu`);n&&(this.submenu=new $We(this,n)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",e=>{let n=!1;switch(e.code){case Tr.down:{nT(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),n=!0;break}case Tr.up:{nT(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),n=!0;break}case Tr.tab:{nT(e.currentTarget,"mouseleave");break}case Tr.enter:case Tr.space:{n=!0,e.currentTarget.click();break}}n&&e.preventDefault()})}},HWe=class{constructor(e,n){this.domNode=e,this.init(n)}init(e){const n=this.domNode.childNodes;Array.from(n).forEach(r=>{r.nodeType===1&&new VWe(r,e)})}};const QWe=Be({name:"ElMenuCollapseTransition",setup(){const t=vn("menu");return{listeners:{onBeforeEnter:n=>n.style.opacity="0.2",onEnter(n,r){Cf(n,`${t.namespace.value}-opacity-transition`),n.style.opacity="1",r()},onAfterEnter(n){$c(n,`${t.namespace.value}-opacity-transition`),n.style.opacity=""},onBeforeLeave(n){n.dataset||(n.dataset={}),Lf(n,t.m("collapse"))?($c(n,t.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),Cf(n,t.m("collapse"))):(Cf(n,t.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),$c(n,t.m("collapse"))),n.style.width=`${n.scrollWidth}px`,n.style.overflow="hidden"},onLeave(n){Cf(n,"horizontal-collapse-transition"),n.style.width=`${n.dataset.scrollWidth}px`}}}}});function jWe(t,e,n,r,i,s){return X(),Ut(fo,Xr({mode:"out-in"},t.listeners),{default:xt(()=>[Ft(t.$slots,"default")]),_:3},16)}var GWe=Fn(QWe,[["render",jWe],["__file","menu-collapse-transition.vue"]]);function Goe(t,e){const n=le(()=>{let i=t.parent;const s=[e.value];for(;i.type.name!=="ElMenu";)i.props.index&&s.unshift(i.props.index),i=i.parent;return s});return{parentMenu:le(()=>{let i=t.parent;for(;i&&!["ElMenu","ElSubMenu"].includes(i.type.name);)i=i.parent;return i}),indexPath:n}}function KWe(t){return le(()=>{const n=t.backgroundColor;return n?new Cse(n).shade(20).toString():""})}const Koe=(t,e)=>{const n=vn("menu");return le(()=>n.cssVarBlock({"text-color":t.textColor||"","hover-text-color":t.textColor||"","bg-color":t.backgroundColor||"","hover-bg-color":KWe(t).value||"","active-color":t.activeTextColor||"",level:`${e}`}))},WWe=Ln({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:ts},expandOpenIcon:{type:ts},collapseCloseIcon:{type:ts},collapseOpenIcon:{type:ts}}),Dk="ElSubMenu";var Z7=Be({name:Dk,props:WWe,setup(t,{slots:e,expose:n}){const r=ci(),{indexPath:i,parentMenu:s}=Goe(r,le(()=>t.index)),l=vn("menu"),c=vn("sub-menu"),a=ar("rootMenu");a||Ul(Dk,"can not inject root menu");const f=ar(`subMenu:${s.value.uid}`);f||Ul(Dk,"can not inject sub menu");const p=Te({}),m=Te({});let v;const y=Te(!1),T=Te(),C=Te(null),k=le(()=>Q.value==="horizontal"&&P.value?"bottom-start":"right-start"),M=le(()=>Q.value==="horizontal"&&P.value||Q.value==="vertical"&&!a.props.collapse?t.expandCloseIcon&&t.expandOpenIcon?H.value?t.expandOpenIcon:t.expandCloseIcon:Rm:t.collapseCloseIcon&&t.collapseOpenIcon?H.value?t.collapseOpenIcon:t.collapseCloseIcon:Vc),P=le(()=>f.level===0),R=le(()=>{const ye=t.teleported;return ye===void 0?P.value:ye}),N=le(()=>a.props.collapse?`${l.namespace.value}-zoom-in-left`:`${l.namespace.value}-zoom-in-top`),z=le(()=>Q.value==="horizontal"&&P.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),H=le(()=>a.openedMenus.includes(t.index)),j=le(()=>{let ye=!1;return Object.values(p.value).forEach(Ee=>{Ee.active&&(ye=!0)}),Object.values(m.value).forEach(Ee=>{Ee.active&&(ye=!0)}),ye}),Q=le(()=>a.props.mode),G=ha({index:t.index,indexPath:i,active:j}),ie=Koe(a.props,f.level+1),q=le(()=>{var ye;return(ye=t.popperOffset)!=null?ye:a.props.popperOffset}),W=le(()=>{var ye;return(ye=t.popperClass)!=null?ye:a.props.popperClass}),ee=le(()=>{var ye;return(ye=t.showTimeout)!=null?ye:a.props.showTimeout}),he=le(()=>{var ye;return(ye=t.hideTimeout)!=null?ye:a.props.hideTimeout}),J=()=>{var ye,Ee,se;return(se=(Ee=(ye=C.value)==null?void 0:ye.popperRef)==null?void 0:Ee.popperInstanceRef)==null?void 0:se.destroy()},te=ye=>{ye||J()},ne=()=>{a.props.menuTrigger==="hover"&&a.props.mode==="horizontal"||a.props.collapse&&a.props.mode==="vertical"||t.disabled||a.handleSubMenuClick({index:t.index,indexPath:i.value,active:j.value})},ce=(ye,Ee=ee.value)=>{var se;if(ye.type!=="focus"){if(a.props.menuTrigger==="click"&&a.props.mode==="horizontal"||!a.props.collapse&&a.props.mode==="vertical"||t.disabled){f.mouseInChild.value=!0;return}f.mouseInChild.value=!0,v==null||v(),{stop:v}=yy(()=>{a.openMenu(t.index,i.value)},Ee),R.value&&((se=s.value.vnode.el)==null||se.dispatchEvent(new MouseEvent("mouseenter")))}},ue=(ye=!1)=>{var Ee;if(a.props.menuTrigger==="click"&&a.props.mode==="horizontal"||!a.props.collapse&&a.props.mode==="vertical"){f.mouseInChild.value=!1;return}v==null||v(),f.mouseInChild.value=!1,{stop:v}=yy(()=>!y.value&&a.closeMenu(t.index,i.value),he.value),R.value&&ye&&((Ee=f.handleMouseleave)==null||Ee.call(f,!0))};ln(()=>a.props.collapse,ye=>te(!!ye));{const ye=se=>{m.value[se.index]=se},Ee=se=>{delete m.value[se.index]};ki(`subMenu:${r.uid}`,{addSubMenu:ye,removeSubMenu:Ee,handleMouseleave:ue,mouseInChild:y,level:f.level+1})}return n({opened:H}),Fr(()=>{a.addSubMenu(G),f.addSubMenu(G)}),ps(()=>{f.removeSubMenu(G),a.removeSubMenu(G)}),()=>{var ye;const Ee=[(ye=e.title)==null?void 0:ye.call(e),wr(Ar,{class:c.e("icon-arrow"),style:{transform:H.value?t.expandCloseIcon&&t.expandOpenIcon||t.collapseCloseIcon&&t.collapseOpenIcon&&a.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>Hr(M.value)?wr(r.appContext.components[M.value]):wr(M.value)})],se=a.isMenuPopup?wr(Hc,{ref:C,visible:H.value,effect:"light",pure:!0,offset:q.value,showArrow:!1,persistent:!0,popperClass:W.value,placement:k.value,teleported:R.value,fallbackPlacements:z.value,transition:N.value,gpuAcceleration:!1},{content:()=>{var oe;return wr("div",{class:[l.m(Q.value),l.m("popup-container"),W.value],onMouseenter:_e=>ce(_e,100),onMouseleave:()=>ue(!0),onFocus:_e=>ce(_e,100)},[wr("ul",{class:[l.b(),l.m("popup"),l.m(`popup-${k.value}`)],style:ie.value},[(oe=e.default)==null?void 0:oe.call(e)])])},default:()=>wr("div",{class:c.e("title"),onClick:ne},Ee)}):wr(Vn,{},[wr("div",{class:c.e("title"),ref:T,onClick:ne},Ee),wr(dM,{},{default:()=>{var oe;return Jr(wr("ul",{role:"menu",class:[l.b(),l.m("inline")],style:ie.value},[(oe=e.default)==null?void 0:oe.call(e)]),[[ca,H.value]])}})]);return wr("li",{class:[c.b(),c.is("active",j.value),c.is("opened",H.value),c.is("disabled",t.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:H.value,onMouseenter:ce,onMouseleave:()=>ue(),onFocus:ce},[se])}}});const qWe=Ln({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:Rt(Array),default:()=>ro([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:ts,default:()=>uae},popperEffect:{type:String,values:["dark","light"],default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300}}),Nk=t=>Array.isArray(t)&&t.every(e=>Hr(e)),YWe={close:(t,e)=>Hr(t)&&Nk(e),open:(t,e)=>Hr(t)&&Nk(e),select:(t,e,n,r)=>Hr(t)&&Nk(e)&&mi(n)&&(r===void 0||r instanceof Promise)};var XWe=Be({name:"ElMenu",props:qWe,emits:YWe,setup(t,{emit:e,slots:n,expose:r}){const i=ci(),s=i.appContext.config.globalProperties.$router,l=Te(),c=vn("menu"),a=vn("sub-menu"),f=Te(-1),p=Te(t.defaultOpeneds&&!t.collapse?t.defaultOpeneds.slice(0):[]),m=Te(t.defaultActive),v=Te({}),y=Te({}),T=le(()=>t.mode==="horizontal"||t.mode==="vertical"&&t.collapse),C=()=>{const he=m.value&&v.value[m.value];if(!he||t.mode==="horizontal"||t.collapse)return;he.indexPath.forEach(te=>{const ne=y.value[te];ne&&k(te,ne.indexPath)})},k=(he,J)=>{p.value.includes(he)||(t.uniqueOpened&&(p.value=p.value.filter(te=>J.includes(te))),p.value.push(he),e("open",he,J))},M=he=>{const J=p.value.indexOf(he);J!==-1&&p.value.splice(J,1)},P=(he,J)=>{M(he),e("close",he,J)},R=({index:he,indexPath:J})=>{p.value.includes(he)?P(he,J):k(he,J)},N=he=>{(t.mode==="horizontal"||t.collapse)&&(p.value=[]);const{index:J,indexPath:te}=he;if(!(Cu(J)||Cu(te)))if(t.router&&s){const ne=he.route||J,ce=s.push(ne).then(ue=>(ue||(m.value=J),ue));e("select",J,te,{index:J,indexPath:te,route:ne},ce)}else m.value=J,e("select",J,te,{index:J,indexPath:te})},z=he=>{const J=v.value,te=J[he]||m.value&&J[m.value]||J[t.defaultActive];te?m.value=te.index:m.value=he},H=he=>{const J=getComputedStyle(he),te=Number.parseInt(J.marginLeft,10),ne=Number.parseInt(J.marginRight,10);return he.offsetWidth+te+ne||0},j=()=>{var he,J;if(!l.value)return-1;const te=Array.from((J=(he=l.value)==null?void 0:he.childNodes)!=null?J:[]).filter(_e=>_e.nodeName!=="#comment"&&(_e.nodeName!=="#text"||_e.nodeValue)),ne=64,ce=getComputedStyle(l.value),ue=Number.parseInt(ce.paddingLeft,10),ye=Number.parseInt(ce.paddingRight,10),Ee=l.value.clientWidth-ue-ye;let se=0,oe=0;return te.forEach((_e,Ue)=>{se+=H(_e),se<=Ee-ne&&(oe=Ue+1)}),oe===te.length?-1:oe},Q=he=>y.value[he].indexPath,G=(he,J=33.34)=>{let te;return()=>{te&&clearTimeout(te),te=setTimeout(()=>{he()},J)}};let ie=!0;const q=()=>{if(f.value===j())return;const he=()=>{f.value=-1,dr(()=>{f.value=j()})};ie?he():G(he)(),ie=!1};ln(()=>t.defaultActive,he=>{v.value[he]||(m.value=""),z(he)}),ln(()=>t.collapse,he=>{he&&(p.value=[])}),ln(v.value,C);let W;uc(()=>{t.mode==="horizontal"&&t.ellipsis?W=no(l,q).stop:W==null||W()});const ee=Te(!1);{const he=ce=>{y.value[ce.index]=ce},J=ce=>{delete y.value[ce.index]};ki("rootMenu",ha({props:t,openedMenus:p,items:v,subMenus:y,activeIndex:m,isMenuPopup:T,addMenuItem:ce=>{v.value[ce.index]=ce},removeMenuItem:ce=>{delete v.value[ce.index]},addSubMenu:he,removeSubMenu:J,openMenu:k,closeMenu:P,handleMenuItemClick:N,handleSubMenuClick:R})),ki(`subMenu:${i.uid}`,{addSubMenu:he,removeSubMenu:J,mouseInChild:ee,level:0})}return Fr(()=>{t.mode==="horizontal"&&new HWe(i.vnode.el,c.namespace.value)}),r({open:J=>{const{indexPath:te}=y.value[J];te.forEach(ne=>k(ne,te))},close:M,handleResize:q}),()=>{var he,J;let te=(J=(he=n.default)==null?void 0:he.call(n))!=null?J:[];const ne=[];if(t.mode==="horizontal"&&l.value){const Ee=r1(te),se=f.value===-1?Ee:Ee.slice(0,f.value),oe=f.value===-1?[]:Ee.slice(f.value);oe!=null&&oe.length&&t.ellipsis&&(te=se,ne.push(wr(Z7,{index:"sub-menu-more",class:a.e("hide-arrow"),popperOffset:t.popperOffset},{title:()=>wr(Ar,{class:a.e("icon-more")},{default:()=>wr(t.ellipsisIcon)}),default:()=>oe})))}const ce=Koe(t,0),ue=t.closeOnClickOutside?[[u0,()=>{p.value.length&&(ee.value||(p.value.forEach(Ee=>e("close",Ee,Q(Ee))),p.value=[]))}]]:[],ye=Jr(wr("ul",{key:String(t.collapse),role:"menubar",ref:l,style:ce.value,class:{[c.b()]:!0,[c.m(t.mode)]:!0,[c.m("collapse")]:t.collapse}},[...te,...ne]),ue);return t.collapseTransition&&t.mode==="vertical"?wr(GWe,()=>ye):ye}}});const ZWe=Ln({index:{type:Rt([String,null]),default:null},route:{type:Rt([String,Object])},disabled:Boolean}),JWe={click:t=>Hr(t.index)&&Array.isArray(t.indexPath)},Uk="ElMenuItem",eqe=Be({name:Uk,components:{ElTooltip:Hc},props:ZWe,emits:JWe,setup(t,{emit:e}){const n=ci(),r=ar("rootMenu"),i=vn("menu"),s=vn("menu-item");r||Ul(Uk,"can not inject root menu");const{parentMenu:l,indexPath:c}=Goe(n,Na(t,"index")),a=ar(`subMenu:${l.value.uid}`);a||Ul(Uk,"can not inject sub menu");const f=le(()=>t.index===r.activeIndex),p=ha({index:t.index,indexPath:c,active:f}),m=()=>{t.disabled||(r.handleMenuItemClick({index:t.index,indexPath:c.value,route:t.route}),e("click",p))};return Fr(()=>{a.addSubMenu(p),r.addMenuItem(p)}),ps(()=>{a.removeSubMenu(p),r.removeMenuItem(p)}),{parentMenu:l,rootMenu:r,active:f,nsMenu:i,nsMenuItem:s,handleClick:m}}});function tqe(t,e,n,r,i,s){const l=Kr("el-tooltip");return X(),ve("li",{class:Se([t.nsMenuItem.b(),t.nsMenuItem.is("active",t.active),t.nsMenuItem.is("disabled",t.disabled)]),role:"menuitem",tabindex:"-1",onClick:e[0]||(e[0]=(...c)=>t.handleClick&&t.handleClick(...c))},[t.parentMenu.type.name==="ElMenu"&&t.rootMenu.props.collapse&&t.$slots.title?(X(),Ut(l,{key:0,effect:t.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:xt(()=>[Ft(t.$slots,"title")]),default:xt(()=>[pe("div",{class:Se(t.nsMenu.be("tooltip","trigger"))},[Ft(t.$slots,"default")],2)]),_:3},8,["effect"])):(X(),ve(Vn,{key:1},[Ft(t.$slots,"default"),Ft(t.$slots,"title")],64))],2)}var Woe=Fn(eqe,[["render",tqe],["__file","menu-item.vue"]]);const nqe={title:String},rqe="ElMenuItemGroup",iqe=Be({name:rqe,props:nqe,setup(){return{ns:vn("menu-item-group")}}});function aqe(t,e,n,r,i,s){return X(),ve("li",{class:Se(t.ns.b())},[pe("div",{class:Se(t.ns.e("title"))},[t.$slots.title?Ft(t.$slots,"title",{key:1}):(X(),ve(Vn,{key:0},[xi(Cn(t.title),1)],64))],2),pe("ul",null,[Ft(t.$slots,"default")])],2)}var qoe=Fn(iqe,[["render",aqe],["__file","menu-item-group.vue"]]);const sqe=pi(XWe,{MenuItem:Woe,MenuItemGroup:qoe,SubMenu:Z7}),oqe=ao(Woe),lqe=ao(qoe),uqe=ao(Z7),cqe=Ln({icon:{type:ts,default:()=>eae},title:String,content:{type:String,default:""}}),hqe={back:()=>!0},dqe=["aria-label"],fqe=Be({name:"ElPageHeader"}),pqe=Be({...fqe,props:cqe,emits:hqe,setup(t,{emit:e}){const n=To(),{t:r}=da(),i=vn("page-header"),s=le(()=>[i.b(),{[i.m("has-breadcrumb")]:!!n.breadcrumb,[i.m("has-extra")]:!!n.extra,[i.is("contentful")]:!!n.default}]);function l(){e("back")}return(c,a)=>(X(),ve("div",{class:Se(S(s))},[c.$slots.breadcrumb?(X(),ve("div",{key:0,class:Se(S(i).e("breadcrumb"))},[Ft(c.$slots,"breadcrumb")],2)):bt("v-if",!0),pe("div",{class:Se(S(i).e("header"))},[pe("div",{class:Se(S(i).e("left"))},[pe("div",{class:Se(S(i).e("back")),role:"button",tabindex:"0",onClick:l},[c.icon||c.$slots.icon?(X(),ve("div",{key:0,"aria-label":c.title||S(r)("el.pageHeader.title"),class:Se(S(i).e("icon"))},[Ft(c.$slots,"icon",{},()=>[c.icon?(X(),Ut(S(Ar),{key:0},{default:xt(()=>[(X(),Ut(fi(c.icon)))]),_:1})):bt("v-if",!0)])],10,dqe)):bt("v-if",!0),pe("div",{class:Se(S(i).e("title"))},[Ft(c.$slots,"title",{},()=>[xi(Cn(c.title||S(r)("el.pageHeader.title")),1)])],2)],2),ht(S(Foe),{direction:"vertical"}),pe("div",{class:Se(S(i).e("content"))},[Ft(c.$slots,"content",{},()=>[xi(Cn(c.content),1)])],2)],2),c.$slots.extra?(X(),ve("div",{key:0,class:Se(S(i).e("extra"))},[Ft(c.$slots,"extra")],2)):bt("v-if",!0)],2),c.$slots.default?(X(),ve("div",{key:1,class:Se(S(i).e("main"))},[Ft(c.$slots,"default")],2)):bt("v-if",!0)],2))}});var Aqe=Fn(pqe,[["__file","page-header.vue"]]);const mqe=pi(Aqe),Yoe=Symbol("elPaginationKey"),gqe=Ln({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:ts}}),vqe={click:t=>t instanceof MouseEvent},_qe=["disabled","aria-label","aria-disabled"],yqe={key:0},bqe=Be({name:"ElPaginationPrev"}),wqe=Be({...bqe,props:gqe,emits:vqe,setup(t){const e=t,{t:n}=da(),r=le(()=>e.disabled||e.currentPage<=1);return(i,s)=>(X(),ve("button",{type:"button",class:"btn-prev",disabled:S(r),"aria-label":i.prevText||S(n)("el.pagination.prev"),"aria-disabled":S(r),onClick:s[0]||(s[0]=l=>i.$emit("click",l))},[i.prevText?(X(),ve("span",yqe,Cn(i.prevText),1)):(X(),Ut(S(Ar),{key:1},{default:xt(()=>[(X(),Ut(fi(i.prevIcon)))]),_:1}))],8,_qe))}});var xqe=Fn(wqe,[["__file","prev.vue"]]);const Cqe=Ln({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:ts}}),Eqe=["disabled","aria-label","aria-disabled"],Sqe={key:0},Tqe=Be({name:"ElPaginationNext"}),Bqe=Be({...Tqe,props:Cqe,emits:["click"],setup(t){const e=t,{t:n}=da(),r=le(()=>e.disabled||e.currentPage===e.pageCount||e.pageCount===0);return(i,s)=>(X(),ve("button",{type:"button",class:"btn-next",disabled:S(r),"aria-label":i.nextText||S(n)("el.pagination.next"),"aria-disabled":S(r),onClick:s[0]||(s[0]=l=>i.$emit("click",l))},[i.nextText?(X(),ve("span",Sqe,Cn(i.nextText),1)):(X(),Ut(S(Ar),{key:1},{default:xt(()=>[(X(),Ut(fi(i.nextIcon)))]),_:1}))],8,Eqe))}});var Mqe=Fn(Bqe,[["__file","next.vue"]]);const Xoe=Symbol("ElSelectGroup"),S5=Symbol("ElSelect");function Iqe(t,e){const n=ar(S5),r=ar(Xoe,{disabled:!1}),i=le(()=>n.props.multiple?p(n.props.modelValue,t.value):p([n.props.modelValue],t.value)),s=le(()=>{if(n.props.multiple){const y=n.props.modelValue||[];return!i.value&&y.length>=n.props.multipleLimit&&n.props.multipleLimit>0}else return!1}),l=le(()=>t.label||(mi(t.value)?"":t.value)),c=le(()=>t.value||t.label||""),a=le(()=>t.disabled||e.groupDisabled||s.value),f=ci(),p=(y=[],T)=>{if(mi(t.value)){const C=n.props.valueKey;return y&&y.some(k=>Ka(Oo(k,C))===Oo(T,C))}else return y&&y.includes(T)},m=()=>{!t.disabled&&!r.disabled&&(n.states.hoveringIndex=n.optionsArray.indexOf(f.proxy))},v=y=>{const T=new RegExp(r7(y),"i");e.visible=T.test(l.value)||t.created};return ln(()=>l.value,()=>{!t.created&&!n.props.remote&&n.setSelected()}),ln(()=>t.value,(y,T)=>{const{remote:C,valueKey:k}=n.props;if(zc(y,T)||(n.onOptionDestroy(T,f.proxy),n.onOptionCreate(f.proxy)),!t.created&&!C){if(k&&mi(y)&&mi(T)&&y[k]===T[k])return;n.setSelected()}}),ln(()=>r.disabled,()=>{e.groupDisabled=r.disabled},{immediate:!0}),{select:n,currentLabel:l,currentValue:c,itemSelected:i,isDisabled:a,hoverItem:m,updateOption:v}}const Lqe=Be({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(t){const e=vn("select"),n=hc(),r=le(()=>[e.be("dropdown","item"),e.is("disabled",S(c)),e.is("selected",S(l)),e.is("hovering",S(v))]),i=ha({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:s,itemSelected:l,isDisabled:c,select:a,hoverItem:f,updateOption:p}=Iqe(t,i),{visible:m,hover:v}=Gu(i),y=ci().proxy;a.onOptionCreate(y),ps(()=>{const C=y.value,{selected:k}=a.states,P=(a.props.multiple?k:[k]).some(R=>R.value===y.value);dr(()=>{a.states.cachedOptions.get(C)===y&&!P&&a.states.cachedOptions.delete(C)}),a.onOptionDestroy(C,y)});function T(){t.disabled!==!0&&i.groupDisabled!==!0&&a.handleOptionSelect(y)}return{ns:e,id:n,containerKls:r,currentLabel:s,itemSelected:l,isDisabled:c,select:a,hoverItem:f,updateOption:p,visible:m,hover:v,selectOptionClick:T,states:i}}}),kqe=["id","aria-disabled","aria-selected"];function Pqe(t,e,n,r,i,s){return Jr((X(),ve("li",{id:t.id,class:Se(t.containerKls),role:"option","aria-disabled":t.isDisabled||void 0,"aria-selected":t.itemSelected,onMouseenter:e[0]||(e[0]=(...l)=>t.hoverItem&&t.hoverItem(...l)),onClick:e[1]||(e[1]=Pr((...l)=>t.selectOptionClick&&t.selectOptionClick(...l),["stop"]))},[Ft(t.$slots,"default",{},()=>[pe("span",null,Cn(t.currentLabel),1)])],42,kqe)),[[ca,t.visible]])}var J7=Fn(Lqe,[["render",Pqe],["__file","option.vue"]]);const Fqe=Be({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const t=ar(S5),e=vn("select"),n=le(()=>t.props.popperClass),r=le(()=>t.props.multiple),i=le(()=>t.props.fitInputWidth),s=Te("");function l(){var c;s.value=`${(c=t.selectRef)==null?void 0:c.offsetWidth}px`}return Fr(()=>{l(),no(t.selectRef,l)}),{ns:e,minWidth:s,popperClass:n,isMultiple:r,isFitInputWidth:i}}});function Rqe(t,e,n,r,i,s){return X(),ve("div",{class:Se([t.ns.b("dropdown"),t.ns.is("multiple",t.isMultiple),t.popperClass]),style:or({[t.isFitInputWidth?"width":"minWidth"]:t.minWidth})},[t.$slots.header?(X(),ve("div",{key:0,class:Se(t.ns.be("dropdown","header"))},[Ft(t.$slots,"header")],2)):bt("v-if",!0),Ft(t.$slots,"default"),t.$slots.footer?(X(),ve("div",{key:1,class:Se(t.ns.be("dropdown","footer"))},[Ft(t.$slots,"footer")],2)):bt("v-if",!0)],6)}var Oqe=Fn(Fqe,[["render",Rqe],["__file","select-dropdown.vue"]]);function Zoe(t){const e=Te(!1);return{handleCompositionStart:()=>{e.value=!0},handleCompositionUpdate:s=>{const l=s.target.value,c=l[l.length-1]||"";e.value=!f7(c)},handleCompositionEnd:s=>{e.value&&(e.value=!1,Dr(t)&&t(s))}}}const Dqe=11,Nqe=(t,e)=>{const{t:n}=da(),r=hc(),i=vn("select"),s=vn("input"),l=ha({inputValue:"",options:new Map,cachedOptions:new Map,disabledOptions:new Map,optionValues:[],selected:t.multiple?[]:{},selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),c=Te(null),a=Te(null),f=Te(null),p=Te(null),m=Te(null),v=Te(null),y=Te(null),T=Te(null),C=Te(null),k=Te(null),M=Te(null),P=Te(null),{wrapperRef:R,isFocused:N,handleFocus:z,handleBlur:H}=sM(m,{afterFocus(){t.automaticDropdown&&!j.value&&(j.value=!0,l.menuVisibleOnFocus=!0)},beforeBlur(Ht){var an,In;return((an=f.value)==null?void 0:an.isFocusInsideContent(Ht))||((In=p.value)==null?void 0:In.isFocusInsideContent(Ht))},afterBlur(){j.value=!1,l.menuVisibleOnFocus=!1}}),j=Te(!1),Q=Te(),{form:G,formItem:ie}=Qc(),{inputId:q}=dA(t,{formItemContext:ie}),{valueOnClear:W,isEmptyValue:ee}=oM(t),he=le(()=>t.disabled||(G==null?void 0:G.disabled)),J=le(()=>t.multiple?Jn(t.modelValue)&&t.modelValue.length>0:!ee(t.modelValue)),te=le(()=>t.clearable&&!he.value&&l.inputHovering&&J.value),ne=le(()=>t.remote&&t.filterable&&!t.remoteShowSuffix?"":t.suffixIcon),ce=le(()=>i.is("reverse",ne.value&&j.value)),ue=le(()=>(ie==null?void 0:ie.validateState)||""),ye=le(()=>d7[ue.value]),Ee=le(()=>t.remote?300:0),se=le(()=>t.loading?t.loadingText||n("el.select.loading"):t.remote&&!l.inputValue&&l.options.size===0?!1:t.filterable&&l.inputValue&&l.options.size>0&&oe.value===0?t.noMatchText||n("el.select.noMatch"):l.options.size===0?t.noDataText||n("el.select.noData"):null),oe=le(()=>_e.value.filter(Ht=>Ht.visible).length),_e=le(()=>{const Ht=Array.from(l.options.values()),an=[];return l.optionValues.forEach(In=>{const kn=Ht.findIndex(er=>er.value===In);kn>-1&&an.push(Ht[kn])}),an.length>=Ht.length?an:Ht}),Ue=le(()=>Array.from(l.cachedOptions.values())),Le=le(()=>{const Ht=_e.value.filter(an=>!an.created).some(an=>an.currentLabel===l.inputValue);return t.filterable&&t.allowCreate&&l.inputValue!==""&&!Ht}),be=()=>{t.filterable&&Dr(t.filterMethod)||t.filterable&&t.remote&&Dr(t.remoteMethod)||_e.value.forEach(Ht=>{var an;(an=Ht.updateOption)==null||an.call(Ht,l.inputValue)})},Re=ml(),Qe=le(()=>["small"].includes(Re.value)?"small":"default"),Je=le({get(){return j.value&&se.value!==!1},set(Ht){j.value=Ht}}),nt=le(()=>Jn(t.modelValue)?t.modelValue.length===0&&!l.inputValue:t.filterable?!l.inputValue:!0),Ve=le(()=>{var Ht;const an=(Ht=t.placeholder)!=null?Ht:n("el.select.placeholder");return t.multiple||!J.value?an:l.selectedLabel});ln(()=>t.modelValue,(Ht,an)=>{t.multiple&&t.filterable&&!t.reserveKeyword&&(l.inputValue="",ke("")),Ne(),!zc(Ht,an)&&t.validateEvent&&(ie==null||ie.validate("change").catch(In=>void 0))},{flush:"post",deep:!0}),ln(()=>j.value,Ht=>{Ht?ke(l.inputValue):(l.inputValue="",l.previousQuery=null,l.isBeforeHide=!0),e("visible-change",Ht)}),ln(()=>l.options.entries(),()=>{var Ht;if(!ra)return;const an=((Ht=c.value)==null?void 0:Ht.querySelectorAll("input"))||[];(!t.filterable&&!t.defaultFirstOption&&!Zo(t.modelValue)||!Array.from(an).includes(document.activeElement))&&Ne(),t.defaultFirstOption&&(t.filterable||t.remote)&&oe.value&&Ge()},{flush:"post"}),ln(()=>l.hoveringIndex,Ht=>{Or(Ht)&&Ht>-1?Q.value=_e.value[Ht]||{}:Q.value={},_e.value.forEach(an=>{an.hover=Q.value===an})}),uc(()=>{l.isBeforeHide||be()});const ke=Ht=>{l.previousQuery!==Ht&&(l.previousQuery=Ht,t.filterable&&Dr(t.filterMethod)?t.filterMethod(Ht):t.filterable&&t.remote&&Dr(t.remoteMethod)&&t.remoteMethod(Ht),t.defaultFirstOption&&(t.filterable||t.remote)&&oe.value?dr(Ge):dr(Ye))},Ge=()=>{const Ht=_e.value.filter(kn=>kn.visible&&!kn.disabled&&!kn.states.groupDisabled),an=Ht.find(kn=>kn.created),In=Ht[0];l.hoveringIndex=kt(_e.value,an||In)},Ne=()=>{if(t.multiple)l.selectedLabel="";else{const an=je(t.modelValue);l.selectedLabel=an.currentLabel,l.selected=an;return}const Ht=[];Jn(t.modelValue)&&t.modelValue.forEach(an=>{Ht.push(je(an))}),l.selected=Ht},je=Ht=>{let an;const In=X3(Ht).toLowerCase()==="object",kn=X3(Ht).toLowerCase()==="null",er=X3(Ht).toLowerCase()==="undefined";for(let ti=l.cachedOptions.size-1;ti>=0;ti--){const Tn=Ue.value[ti];if(In?Oo(Tn.value,t.valueKey)===Oo(Ht,t.valueKey):Tn.value===Ht){an={value:Ht,currentLabel:Tn.currentLabel,get isDisabled(){return Tn.isDisabled}};break}}if(an)return an;const Gn=In?Ht.label:!kn&&!er?Ht:"";return{value:Ht,currentLabel:Gn}},Ye=()=>{t.multiple?l.hoveringIndex=_e.value.findIndex(Ht=>l.selected.some(an=>Vi(an)===Vi(Ht))):l.hoveringIndex=_e.value.findIndex(Ht=>Vi(Ht)===Vi(l.selected))},vt=()=>{l.selectionWidth=a.value.getBoundingClientRect().width},Lt=()=>{l.calculatorWidth=v.value.getBoundingClientRect().width},Et=()=>{l.collapseItemWidth=M.value.getBoundingClientRect().width},Vt=()=>{var Ht,an;(an=(Ht=f.value)==null?void 0:Ht.updatePopper)==null||an.call(Ht)},_t=()=>{var Ht,an;(an=(Ht=p.value)==null?void 0:Ht.updatePopper)==null||an.call(Ht)},qt=()=>{l.inputValue.length>0&&!j.value&&(j.value=!0),ke(l.inputValue)},tn=Ht=>{if(l.inputValue=Ht.target.value,t.remote)Nt();else return qt()},Nt=Wh(()=>{qt()},Ee.value),wt=Ht=>{zc(t.modelValue,Ht)||e(bs,Ht)},De=Ht=>Wie(Ht,an=>!l.disabledOptions.has(an)),We=Ht=>{if(t.multiple&&Ht.code!==Tr.delete&&Ht.target.value.length<=0){const an=t.modelValue.slice(),In=De(an);if(In<0)return;an.splice(In,1),e(_i,an),wt(an)}},ut=(Ht,an)=>{const In=l.selected.indexOf(an);if(In>-1&&!he.value){const kn=t.modelValue.slice();kn.splice(In,1),e(_i,kn),wt(kn),e("remove-tag",an.value)}Ht.stopPropagation(),gr()},It=Ht=>{Ht.stopPropagation();const an=t.multiple?[]:W.value;if(t.multiple)for(const In of l.selected)In.isDisabled&&an.push(In.value);e(_i,an),wt(an),l.hoveringIndex=-1,j.value=!1,e("clear"),gr()},Xe=Ht=>{if(t.multiple){const an=(t.modelValue||[]).slice(),In=kt(an,Ht.value);In>-1?an.splice(In,1):(t.multipleLimit<=0||an.length<t.multipleLimit)&&an.push(Ht.value),e(_i,an),wt(an),Ht.created&&ke(""),t.filterable&&!t.reserveKeyword&&(l.inputValue="")}else e(_i,Ht.value),wt(Ht.value),j.value=!1;gr(),!j.value&&dr(()=>{Bt(Ht)})},kt=(Ht=[],an)=>{if(!mi(an))return Ht.indexOf(an);const In=t.valueKey;let kn=-1;return Ht.some((er,Gn)=>Ka(Oo(er,In))===Oo(an,In)?(kn=Gn,!0):!1),kn},Bt=Ht=>{var an,In,kn,er,Gn;const Mr=Jn(Ht)?Ht[0]:Ht;let ti=null;if(Mr!=null&&Mr.value){const Tn=_e.value.filter(Kt=>Kt.value===Mr.value);Tn.length>0&&(ti=Tn[0].$el)}if(f.value&&ti){const Tn=(er=(kn=(In=(an=f.value)==null?void 0:an.popperRef)==null?void 0:In.contentRef)==null?void 0:kn.querySelector)==null?void 0:er.call(kn,`.${i.be("dropdown","wrap")}`);Tn&&Jie(Tn,ti)}(Gn=P.value)==null||Gn.handleScroll()},it=Ht=>{l.options.set(Ht.value,Ht),l.cachedOptions.set(Ht.value,Ht),Ht.disabled&&l.disabledOptions.set(Ht.value,Ht)},Mt=(Ht,an)=>{l.options.get(Ht)===an&&l.options.delete(Ht)},{handleCompositionStart:at,handleCompositionUpdate:et,handleCompositionEnd:St}=Zoe(Ht=>tn(Ht)),sn=le(()=>{var Ht,an;return(an=(Ht=f.value)==null?void 0:Ht.popperRef)==null?void 0:an.contentRef}),bn=()=>{l.isBeforeHide=!1,dr(()=>Bt(l.selected))},gr=()=>{var Ht;(Ht=m.value)==null||Ht.focus()},tr=()=>{lr()},Nn=Ht=>{It(Ht)},lr=Ht=>{if(j.value=!1,N.value){const an=new FocusEvent("focus",Ht);dr(()=>H(an))}},Qr=()=>{l.inputValue.length>0?l.inputValue="":j.value=!1},Ci=()=>{he.value||(l.menuVisibleOnFocus?l.menuVisibleOnFocus=!1:j.value=!j.value)},ai=()=>{j.value?_e.value[l.hoveringIndex]&&Xe(_e.value[l.hoveringIndex]):Ci()},Vi=Ht=>mi(Ht.value)?Oo(Ht.value,t.valueKey):Ht.value,va=le(()=>_e.value.filter(Ht=>Ht.visible).every(Ht=>Ht.disabled)),Rr=le(()=>t.multiple?t.collapseTags?l.selected.slice(0,t.maxCollapseTags):l.selected:[]),qi=le(()=>t.multiple?t.collapseTags?l.selected.slice(t.maxCollapseTags):[]:[]),Hi=Ht=>{if(!j.value){j.value=!0;return}if(!(l.options.size===0||oe.value===0)&&!va.value){Ht==="next"?(l.hoveringIndex++,l.hoveringIndex===l.options.size&&(l.hoveringIndex=0)):Ht==="prev"&&(l.hoveringIndex--,l.hoveringIndex<0&&(l.hoveringIndex=l.options.size-1));const an=_e.value[l.hoveringIndex];(an.disabled===!0||an.states.groupDisabled===!0||!an.visible)&&Hi(Ht),dr(()=>Bt(Q.value))}},Jt=()=>{if(!a.value)return 0;const Ht=window.getComputedStyle(a.value);return Number.parseFloat(Ht.gap||"6px")},hn=le(()=>{const Ht=Jt();return{maxWidth:`${M.value&&t.maxCollapseTags===1?l.selectionWidth-l.collapseItemWidth-Ht:l.selectionWidth}px`}}),En=le(()=>({maxWidth:`${l.selectionWidth}px`})),Hn=le(()=>({width:`${Math.max(l.calculatorWidth,Dqe)}px`}));return t.multiple&&!Jn(t.modelValue)&&e(_i,[]),!t.multiple&&Jn(t.modelValue)&&e(_i,""),no(a,vt),no(v,Lt),no(C,Vt),no(R,Vt),no(k,_t),no(M,Et),Fr(()=>{Ne()}),{inputId:q,contentId:r,nsSelect:i,nsInput:s,states:l,isFocused:N,expanded:j,optionsArray:_e,hoverOption:Q,selectSize:Re,filteredOptionsCount:oe,resetCalculatorWidth:Lt,updateTooltip:Vt,updateTagTooltip:_t,debouncedOnInputChange:Nt,onInput:tn,deletePrevTag:We,deleteTag:ut,deleteSelected:It,handleOptionSelect:Xe,scrollToOption:Bt,hasModelValue:J,shouldShowPlaceholder:nt,currentPlaceholder:Ve,showClose:te,iconComponent:ne,iconReverse:ce,validateState:ue,validateIcon:ye,showNewOption:Le,updateOptions:be,collapseTagSize:Qe,setSelected:Ne,selectDisabled:he,emptyText:se,handleCompositionStart:at,handleCompositionUpdate:et,handleCompositionEnd:St,onOptionCreate:it,onOptionDestroy:Mt,handleMenuEnter:bn,handleFocus:z,focus:gr,blur:tr,handleBlur:H,handleClearClick:Nn,handleClickOutside:lr,handleEsc:Qr,toggleMenu:Ci,selectOption:ai,getValueKey:Vi,navigateOptions:Hi,dropdownMenuVisible:Je,showTagList:Rr,collapseTagList:qi,tagStyle:hn,collapseTagStyle:En,inputStyle:Hn,popperRef:sn,inputRef:m,tooltipRef:f,tagTooltipRef:p,calculatorRef:v,prefixRef:y,suffixRef:T,selectRef:c,wrapperRef:R,selectionRef:a,scrollbarRef:P,menuRef:C,tagMenuRef:k,collapseItemRef:M}};var Uqe=Be({name:"ElOptions",setup(t,{slots:e}){const n=ar(S5);let r=[];return()=>{var i,s;const l=(i=e.default)==null?void 0:i.call(e),c=[];function a(f){Jn(f)&&f.forEach(p=>{var m,v,y,T;const C=(m=(p==null?void 0:p.type)||{})==null?void 0:m.name;C==="ElOptionGroup"?a(!Hr(p.children)&&!Jn(p.children)&&Dr((v=p.children)==null?void 0:v.default)?(y=p.children)==null?void 0:y.default():p.children):C==="ElOption"?c.push((T=p.props)==null?void 0:T.value):Jn(p.children)&&a(p.children)})}return l.length&&a((s=l[0])==null?void 0:s.children),zc(c,r)||(r=c,n&&(n.states.optionValues=c)),l}}});const zqe=Ln({name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:lu,effect:{type:Rt(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Rt(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:gu.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:ts,default:w0},fitInputWidth:Boolean,suffixIcon:{type:ts,default:Rm},tagType:{...hM.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,placement:{type:Rt(String),values:Hy,default:"bottom-start"},fallbackPlacements:{type:Rt(Array),default:["bottom-start","top-start","right","left"]},...sx,...Wu(["ariaLabel"])}),Tq="ElSelect",$qe=Be({name:Tq,componentName:Tq,components:{ElInput:Nc,ElSelectMenu:Oqe,ElOption:J7,ElOptions:Uqe,ElTag:A6,ElScrollbar:E0,ElTooltip:Hc,ElIcon:Ar},directives:{ClickOutside:u0},props:zqe,emits:[_i,bs,"remove-tag","clear","visible-change","focus","blur"],setup(t,{emit:e}){const n=Nqe(t,e);return ki(S5,ha({props:t,states:n.states,optionsArray:n.optionsArray,handleOptionSelect:n.handleOptionSelect,onOptionCreate:n.onOptionCreate,onOptionDestroy:n.onOptionDestroy,selectRef:n.selectRef,setSelected:n.setSelected})),{...n}}}),Vqe=["id","disabled","autocomplete","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label"],Hqe=["textContent"];function Qqe(t,e,n,r,i,s){const l=Kr("el-tag"),c=Kr("el-tooltip"),a=Kr("el-icon"),f=Kr("el-option"),p=Kr("el-options"),m=Kr("el-scrollbar"),v=Kr("el-select-menu"),y=LB("click-outside");return Jr((X(),ve("div",{ref:"selectRef",class:Se([t.nsSelect.b(),t.nsSelect.m(t.selectSize)]),onMouseenter:e[16]||(e[16]=T=>t.states.inputHovering=!0),onMouseleave:e[17]||(e[17]=T=>t.states.inputHovering=!1),onClick:e[18]||(e[18]=Pr((...T)=>t.toggleMenu&&t.toggleMenu(...T),["prevent","stop"]))},[ht(c,{ref:"tooltipRef",visible:t.dropdownMenuVisible,placement:t.placement,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"popper-options":t.popperOptions,"fallback-placements":t.fallbackPlacements,effect:t.effect,pure:"",trigger:"click",transition:`${t.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:t.persistent,onBeforeShow:t.handleMenuEnter,onHide:e[15]||(e[15]=T=>t.states.isBeforeHide=!1)},{default:xt(()=>{var T;return[pe("div",{ref:"wrapperRef",class:Se([t.nsSelect.e("wrapper"),t.nsSelect.is("focused",t.isFocused),t.nsSelect.is("hovering",t.states.inputHovering),t.nsSelect.is("filterable",t.filterable),t.nsSelect.is("disabled",t.selectDisabled)])},[t.$slots.prefix?(X(),ve("div",{key:0,ref:"prefixRef",class:Se(t.nsSelect.e("prefix"))},[Ft(t.$slots,"prefix")],2)):bt("v-if",!0),pe("div",{ref:"selectionRef",class:Se([t.nsSelect.e("selection"),t.nsSelect.is("near",t.multiple&&!t.$slots.prefix&&!!t.states.selected.length)])},[t.multiple?Ft(t.$slots,"tag",{key:0},()=>[(X(!0),ve(Vn,null,Yr(t.showTagList,C=>(X(),ve("div",{key:t.getValueKey(C),class:Se(t.nsSelect.e("selected-item"))},[ht(l,{closable:!t.selectDisabled&&!C.isDisabled,size:t.collapseTagSize,type:t.tagType,"disable-transitions":"",style:or(t.tagStyle),onClose:k=>t.deleteTag(k,C)},{default:xt(()=>[pe("span",{class:Se(t.nsSelect.e("tags-text"))},Cn(C.currentLabel),3)]),_:2},1032,["closable","size","type","style","onClose"])],2))),128)),t.collapseTags&&t.states.selected.length>t.maxCollapseTags?(X(),Ut(c,{key:0,ref:"tagTooltipRef",disabled:t.dropdownMenuVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:t.teleported},{default:xt(()=>[pe("div",{ref:"collapseItemRef",class:Se(t.nsSelect.e("selected-item"))},[ht(l,{closable:!1,size:t.collapseTagSize,type:t.tagType,"disable-transitions":"",style:or(t.collapseTagStyle)},{default:xt(()=>[pe("span",{class:Se(t.nsSelect.e("tags-text"))}," + "+Cn(t.states.selected.length-t.maxCollapseTags),3)]),_:1},8,["size","type","style"])],2)]),content:xt(()=>[pe("div",{ref:"tagMenuRef",class:Se(t.nsSelect.e("selection"))},[(X(!0),ve(Vn,null,Yr(t.collapseTagList,C=>(X(),ve("div",{key:t.getValueKey(C),class:Se(t.nsSelect.e("selected-item"))},[ht(l,{class:"in-tooltip",closable:!t.selectDisabled&&!C.isDisabled,size:t.collapseTagSize,type:t.tagType,"disable-transitions":"",onClose:k=>t.deleteTag(k,C)},{default:xt(()=>[pe("span",{class:Se(t.nsSelect.e("tags-text"))},Cn(C.currentLabel),3)]),_:2},1032,["closable","size","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):bt("v-if",!0)]):bt("v-if",!0),t.selectDisabled?bt("v-if",!0):(X(),ve("div",{key:1,class:Se([t.nsSelect.e("selected-item"),t.nsSelect.e("input-wrapper"),t.nsSelect.is("hidden",!t.filterable)])},[Jr(pe("input",{id:t.inputId,ref:"inputRef","onUpdate:modelValue":e[0]||(e[0]=C=>t.states.inputValue=C),type:"text",class:Se([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,autocomplete:t.autocomplete,style:or(t.inputStyle),role:"combobox",readonly:!t.filterable,spellcheck:"false","aria-activedescendant":((T=t.hoverOption)==null?void 0:T.id)||"","aria-controls":t.contentId,"aria-expanded":t.dropdownMenuVisible,"aria-label":t.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onFocus:e[1]||(e[1]=(...C)=>t.handleFocus&&t.handleFocus(...C)),onBlur:e[2]||(e[2]=(...C)=>t.handleBlur&&t.handleBlur(...C)),onKeydown:[e[3]||(e[3]=Ga(Pr(C=>t.navigateOptions("next"),["stop","prevent"]),["down"])),e[4]||(e[4]=Ga(Pr(C=>t.navigateOptions("prev"),["stop","prevent"]),["up"])),e[5]||(e[5]=Ga(Pr((...C)=>t.handleEsc&&t.handleEsc(...C),["stop","prevent"]),["esc"])),e[6]||(e[6]=Ga(Pr((...C)=>t.selectOption&&t.selectOption(...C),["stop","prevent"]),["enter"])),e[7]||(e[7]=Ga(Pr((...C)=>t.deletePrevTag&&t.deletePrevTag(...C),["stop"]),["delete"]))],onCompositionstart:e[8]||(e[8]=(...C)=>t.handleCompositionStart&&t.handleCompositionStart(...C)),onCompositionupdate:e[9]||(e[9]=(...C)=>t.handleCompositionUpdate&&t.handleCompositionUpdate(...C)),onCompositionend:e[10]||(e[10]=(...C)=>t.handleCompositionEnd&&t.handleCompositionEnd(...C)),onInput:e[11]||(e[11]=(...C)=>t.onInput&&t.onInput(...C)),onClick:e[12]||(e[12]=Pr((...C)=>t.toggleMenu&&t.toggleMenu(...C),["stop"]))},null,46,Vqe),[[A9,t.states.inputValue]]),t.filterable?(X(),ve("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:Se(t.nsSelect.e("input-calculator")),textContent:Cn(t.states.inputValue)},null,10,Hqe)):bt("v-if",!0)],2)),t.shouldShowPlaceholder?(X(),ve("div",{key:2,class:Se([t.nsSelect.e("selected-item"),t.nsSelect.e("placeholder"),t.nsSelect.is("transparent",!t.hasModelValue||t.expanded&&!t.states.inputValue)])},[pe("span",null,Cn(t.currentPlaceholder),1)],2)):bt("v-if",!0)],2),pe("div",{ref:"suffixRef",class:Se(t.nsSelect.e("suffix"))},[t.iconComponent&&!t.showClose?(X(),Ut(a,{key:0,class:Se([t.nsSelect.e("caret"),t.nsSelect.e("icon"),t.iconReverse])},{default:xt(()=>[(X(),Ut(fi(t.iconComponent)))]),_:1},8,["class"])):bt("v-if",!0),t.showClose&&t.clearIcon?(X(),Ut(a,{key:1,class:Se([t.nsSelect.e("caret"),t.nsSelect.e("icon")]),onClick:t.handleClearClick},{default:xt(()=>[(X(),Ut(fi(t.clearIcon)))]),_:1},8,["class","onClick"])):bt("v-if",!0),t.validateState&&t.validateIcon?(X(),Ut(a,{key:2,class:Se([t.nsInput.e("icon"),t.nsInput.e("validateIcon")])},{default:xt(()=>[(X(),Ut(fi(t.validateIcon)))]),_:1},8,["class"])):bt("v-if",!0)],2)],2)]}),content:xt(()=>[ht(v,{ref:"menuRef"},{default:xt(()=>[t.$slots.header?(X(),ve("div",{key:0,class:Se(t.nsSelect.be("dropdown","header")),onClick:e[13]||(e[13]=Pr(()=>{},["stop"]))},[Ft(t.$slots,"header")],2)):bt("v-if",!0),Jr(ht(m,{id:t.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":t.nsSelect.be("dropdown","wrap"),"view-class":t.nsSelect.be("dropdown","list"),class:Se([t.nsSelect.is("empty",t.filteredOptionsCount===0)]),role:"listbox","aria-label":t.ariaLabel,"aria-orientation":"vertical"},{default:xt(()=>[t.showNewOption?(X(),Ut(f,{key:0,value:t.states.inputValue,created:!0},null,8,["value"])):bt("v-if",!0),ht(p,null,{default:xt(()=>[Ft(t.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[ca,t.states.options.size>0&&!t.loading]]),t.$slots.loading&&t.loading?(X(),ve("div",{key:1,class:Se(t.nsSelect.be("dropdown","loading"))},[Ft(t.$slots,"loading")],2)):t.loading||t.filteredOptionsCount===0?(X(),ve("div",{key:2,class:Se(t.nsSelect.be("dropdown","empty"))},[Ft(t.$slots,"empty",{},()=>[pe("span",null,Cn(t.emptyText),1)])],2)):bt("v-if",!0),t.$slots.footer?(X(),ve("div",{key:3,class:Se(t.nsSelect.be("dropdown","footer")),onClick:e[14]||(e[14]=Pr(()=>{},["stop"]))},[Ft(t.$slots,"footer")],2)):bt("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","onBeforeShow"])],34)),[[y,t.handleClickOutside,t.popperRef]])}var jqe=Fn($qe,[["render",Qqe],["__file","select.vue"]]);const Gqe=Be({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(t){const e=vn("select"),n=Te(null),r=ci(),i=Te([]);ki(Xoe,ha({...Gu(t)}));const s=le(()=>i.value.some(f=>f.visible===!0)),l=f=>{var p,m;return((p=f.type)==null?void 0:p.name)==="ElOption"&&!!((m=f.component)!=null&&m.proxy)},c=f=>{const p=h1(f),m=[];return p.forEach(v=>{var y,T;l(v)?m.push(v.component.proxy):(y=v.children)!=null&&y.length?m.push(...c(v.children)):(T=v.component)!=null&&T.subTree&&m.push(...c(v.component.subTree))}),m},a=()=>{i.value=c(r.subTree)};return Fr(()=>{a()}),lie(n,a,{attributes:!0,subtree:!0,childList:!0}),{groupRef:n,visible:s,ns:e}}});function Kqe(t,e,n,r,i,s){return Jr((X(),ve("ul",{ref:"groupRef",class:Se(t.ns.be("group","wrap"))},[pe("li",{class:Se(t.ns.be("group","title"))},Cn(t.label),3),pe("li",null,[pe("ul",{class:Se(t.ns.b("group"))},[Ft(t.$slots,"default")],2)])],2)),[[ca,t.visible]])}var Joe=Fn(Gqe,[["render",Kqe],["__file","option-group.vue"]]);const By=pi(jqe,{Option:J7,OptionGroup:Joe}),b8=ao(J7),Wqe=ao(Joe),eU=()=>ar(Yoe,{}),qqe=Ln({pageSize:{type:Number,required:!0},pageSizes:{type:Rt(Array),default:()=>ro([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,teleported:Boolean,size:{type:String,values:Om}}),Yqe=Be({name:"ElPaginationSizes"}),Xqe=Be({...Yqe,props:qqe,emits:["page-size-change"],setup(t,{emit:e}){const n=t,{t:r}=da(),i=vn("pagination"),s=eU(),l=Te(n.pageSize);ln(()=>n.pageSizes,(f,p)=>{if(!zc(f,p)&&Array.isArray(f)){const m=f.includes(n.pageSize)?n.pageSize:n.pageSizes[0];e("page-size-change",m)}}),ln(()=>n.pageSize,f=>{l.value=f});const c=le(()=>n.pageSizes);function a(f){var p;f!==l.value&&(l.value=f,(p=s.handleSizeChange)==null||p.call(s,Number(f)))}return(f,p)=>(X(),ve("span",{class:Se(S(i).e("sizes"))},[ht(S(By),{"model-value":l.value,disabled:f.disabled,"popper-class":f.popperClass,size:f.size,teleported:f.teleported,"validate-event":!1,onChange:a},{default:xt(()=>[(X(!0),ve(Vn,null,Yr(S(c),m=>(X(),Ut(S(b8),{key:m,value:m,label:m+S(r)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size","teleported"])],2))}});var Zqe=Fn(Xqe,[["__file","sizes.vue"]]);const Jqe=Ln({size:{type:String,values:Om}}),eYe=["disabled"],tYe=Be({name:"ElPaginationJumper"}),nYe=Be({...tYe,props:Jqe,setup(t){const{t:e}=da(),n=vn("pagination"),{pageCount:r,disabled:i,currentPage:s,changeEvent:l}=eU(),c=Te(),a=le(()=>{var m;return(m=c.value)!=null?m:s==null?void 0:s.value});function f(m){c.value=m?+m:""}function p(m){m=Math.trunc(+m),l==null||l(m),c.value=void 0}return(m,v)=>(X(),ve("span",{class:Se(S(n).e("jump")),disabled:S(i)},[pe("span",{class:Se([S(n).e("goto")])},Cn(S(e)("el.pagination.goto")),3),ht(S(Nc),{size:m.size,class:Se([S(n).e("editor"),S(n).is("in-pagination")]),min:1,max:S(r),disabled:S(i),"model-value":S(a),"validate-event":!1,label:S(e)("el.pagination.page"),type:"number","onUpdate:modelValue":f,onChange:p},null,8,["size","class","max","disabled","model-value","label"]),pe("span",{class:Se([S(n).e("classifier")])},Cn(S(e)("el.pagination.pageClassifier")),3)],10,eYe))}});var rYe=Fn(nYe,[["__file","jumper.vue"]]);const iYe=Ln({total:{type:Number,default:1e3}}),aYe=["disabled"],sYe=Be({name:"ElPaginationTotal"}),oYe=Be({...sYe,props:iYe,setup(t){const{t:e}=da(),n=vn("pagination"),{disabled:r}=eU();return(i,s)=>(X(),ve("span",{class:Se(S(n).e("total")),disabled:S(r)},Cn(S(e)("el.pagination.total",{total:i.total})),11,aYe))}});var lYe=Fn(oYe,[["__file","total.vue"]]);const uYe=Ln({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),cYe=["onKeyup"],hYe=["aria-current","aria-label","tabindex"],dYe=["tabindex","aria-label"],fYe=["aria-current","aria-label","tabindex"],pYe=["tabindex","aria-label"],AYe=["aria-current","aria-label","tabindex"],mYe=Be({name:"ElPaginationPager"}),gYe=Be({...mYe,props:uYe,emits:["change"],setup(t,{emit:e}){const n=t,r=vn("pager"),i=vn("icon"),{t:s}=da(),l=Te(!1),c=Te(!1),a=Te(!1),f=Te(!1),p=Te(!1),m=Te(!1),v=le(()=>{const N=n.pagerCount,z=(N-1)/2,H=Number(n.currentPage),j=Number(n.pageCount);let Q=!1,G=!1;j>N&&(H>N-z&&(Q=!0),H<j-z&&(G=!0));const ie=[];if(Q&&!G){const q=j-(N-2);for(let W=q;W<j;W++)ie.push(W)}else if(!Q&&G)for(let q=2;q<N;q++)ie.push(q);else if(Q&&G){const q=Math.floor(N/2)-1;for(let W=H-q;W<=H+q;W++)ie.push(W)}else for(let q=2;q<j;q++)ie.push(q);return ie}),y=le(()=>["more","btn-quickprev",i.b(),r.is("disabled",n.disabled)]),T=le(()=>["more","btn-quicknext",i.b(),r.is("disabled",n.disabled)]),C=le(()=>n.disabled?-1:0);uc(()=>{const N=(n.pagerCount-1)/2;l.value=!1,c.value=!1,n.pageCount>n.pagerCount&&(n.currentPage>n.pagerCount-N&&(l.value=!0),n.currentPage<n.pageCount-N&&(c.value=!0))});function k(N=!1){n.disabled||(N?a.value=!0:f.value=!0)}function M(N=!1){N?p.value=!0:m.value=!0}function P(N){const z=N.target;if(z.tagName.toLowerCase()==="li"&&Array.from(z.classList).includes("number")){const H=Number(z.textContent);H!==n.currentPage&&e("change",H)}else z.tagName.toLowerCase()==="li"&&Array.from(z.classList).includes("more")&&R(N)}function R(N){const z=N.target;if(z.tagName.toLowerCase()==="ul"||n.disabled)return;let H=Number(z.textContent);const j=n.pageCount,Q=n.currentPage,G=n.pagerCount-2;z.className.includes("more")&&(z.className.includes("quickprev")?H=Q-G:z.className.includes("quicknext")&&(H=Q+G)),Number.isNaN(+H)||(H<1&&(H=1),H>j&&(H=j)),H!==Q&&e("change",H)}return(N,z)=>(X(),ve("ul",{class:Se(S(r).b()),onClick:R,onKeyup:Ga(P,["enter"])},[N.pageCount>0?(X(),ve("li",{key:0,class:Se([[S(r).is("active",N.currentPage===1),S(r).is("disabled",N.disabled)],"number"]),"aria-current":N.currentPage===1,"aria-label":S(s)("el.pagination.currentPage",{pager:1}),tabindex:S(C)}," 1 ",10,hYe)):bt("v-if",!0),l.value?(X(),ve("li",{key:1,class:Se(S(y)),tabindex:S(C),"aria-label":S(s)("el.pagination.prevPages",{pager:N.pagerCount-2}),onMouseenter:z[0]||(z[0]=H=>k(!0)),onMouseleave:z[1]||(z[1]=H=>a.value=!1),onFocus:z[2]||(z[2]=H=>M(!0)),onBlur:z[3]||(z[3]=H=>p.value=!1)},[(a.value||p.value)&&!N.disabled?(X(),Ut(S(Cy),{key:0})):(X(),Ut(S(MR),{key:1}))],42,dYe)):bt("v-if",!0),(X(!0),ve(Vn,null,Yr(S(v),H=>(X(),ve("li",{key:H,class:Se([[S(r).is("active",N.currentPage===H),S(r).is("disabled",N.disabled)],"number"]),"aria-current":N.currentPage===H,"aria-label":S(s)("el.pagination.currentPage",{pager:H}),tabindex:S(C)},Cn(H),11,fYe))),128)),c.value?(X(),ve("li",{key:2,class:Se(S(T)),tabindex:S(C),"aria-label":S(s)("el.pagination.nextPages",{pager:N.pagerCount-2}),onMouseenter:z[4]||(z[4]=H=>k()),onMouseleave:z[5]||(z[5]=H=>f.value=!1),onFocus:z[6]||(z[6]=H=>M()),onBlur:z[7]||(z[7]=H=>m.value=!1)},[(f.value||m.value)&&!N.disabled?(X(),Ut(S(Ey),{key:0})):(X(),Ut(S(MR),{key:1}))],42,pYe)):bt("v-if",!0),N.pageCount>1?(X(),ve("li",{key:3,class:Se([[S(r).is("active",N.currentPage===N.pageCount),S(r).is("disabled",N.disabled)],"number"]),"aria-current":N.currentPage===N.pageCount,"aria-label":S(s)("el.pagination.currentPage",{pager:N.pageCount}),tabindex:S(C)},Cn(N.pageCount),11,AYe)):bt("v-if",!0)],42,cYe))}});var vYe=Fn(gYe,[["__file","pager.vue"]]);const eh=t=>typeof t!="number",_Ye=Ln({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:t=>Or(t)&&Math.trunc(t)===t&&t>4&&t<22&&t%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:Rt(Array),default:()=>ro([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:ts,default:()=>o0},nextText:{type:String,default:""},nextIcon:{type:ts,default:()=>Vc},teleported:{type:Boolean,default:!0},small:Boolean,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),yYe={"update:current-page":t=>Or(t),"update:page-size":t=>Or(t),"size-change":t=>Or(t),change:(t,e)=>Or(t)&&Or(e),"current-change":t=>Or(t),"prev-click":t=>Or(t),"next-click":t=>Or(t)},Bq="ElPagination";var bYe=Be({name:Bq,props:_Ye,emits:yYe,setup(t,{emit:e,slots:n}){const{t:r}=da(),i=vn("pagination"),s=ci().vnode.props||{},l="onUpdate:currentPage"in s||"onUpdate:current-page"in s||"onCurrentChange"in s,c="onUpdate:pageSize"in s||"onUpdate:page-size"in s||"onSizeChange"in s,a=le(()=>{if(eh(t.total)&&eh(t.pageCount)||!eh(t.currentPage)&&!l)return!1;if(t.layout.includes("sizes")){if(eh(t.pageCount)){if(!eh(t.total)&&!eh(t.pageSize)&&!c)return!1}else if(!c)return!1}return!0}),f=Te(eh(t.defaultPageSize)?10:t.defaultPageSize),p=Te(eh(t.defaultCurrentPage)?1:t.defaultCurrentPage),m=le({get(){return eh(t.pageSize)?f.value:t.pageSize},set(R){eh(t.pageSize)&&(f.value=R),c&&(e("update:page-size",R),e("size-change",R))}}),v=le(()=>{let R=0;return eh(t.pageCount)?eh(t.total)||(R=Math.max(1,Math.ceil(t.total/m.value))):R=t.pageCount,R}),y=le({get(){return eh(t.currentPage)?p.value:t.currentPage},set(R){let N=R;R<1?N=1:R>v.value&&(N=v.value),eh(t.currentPage)&&(p.value=N),l&&(e("update:current-page",N),e("current-change",N))}});ln(v,R=>{y.value>R&&(y.value=R)}),ln([y,m],R=>{e("change",...R)},{flush:"post"});function T(R){y.value=R}function C(R){m.value=R;const N=v.value;y.value>N&&(y.value=N)}function k(){t.disabled||(y.value-=1,e("prev-click",y.value))}function M(){t.disabled||(y.value+=1,e("next-click",y.value))}function P(R,N){R&&(R.props||(R.props={}),R.props.class=[R.props.class,N].join(" "))}return ki(Yoe,{pageCount:v,disabled:le(()=>t.disabled),currentPage:y,changeEvent:T,handleSizeChange:C}),()=>{var R,N;if(!a.value)return r("el.pagination.deprecationWarning"),null;if(!t.layout||t.hideOnSinglePage&&v.value<=1)return null;const z=[],H=[],j=wr("div",{class:i.e("rightwrapper")},H),Q={prev:wr(xqe,{disabled:t.disabled,currentPage:y.value,prevText:t.prevText,prevIcon:t.prevIcon,onClick:k}),jumper:wr(rYe,{size:t.small?"small":"default"}),pager:wr(vYe,{currentPage:y.value,pageCount:v.value,pagerCount:t.pagerCount,onChange:T,disabled:t.disabled}),next:wr(Mqe,{disabled:t.disabled,currentPage:y.value,pageCount:v.value,nextText:t.nextText,nextIcon:t.nextIcon,onClick:M}),sizes:wr(Zqe,{pageSize:m.value,pageSizes:t.pageSizes,popperClass:t.popperClass,disabled:t.disabled,teleported:t.teleported,size:t.small?"small":"default"}),slot:(N=(R=n==null?void 0:n.default)==null?void 0:R.call(n))!=null?N:null,total:wr(lYe,{total:eh(t.total)?0:t.total})},G=t.layout.split(",").map(q=>q.trim());let ie=!1;return G.forEach(q=>{if(q==="->"){ie=!0;return}ie?H.push(Q[q]):z.push(Q[q])}),P(z[0],i.is("first")),P(z[z.length-1],i.is("last")),ie&&H.length>0&&(P(H[0],i.is("first")),P(H[H.length-1],i.is("last")),z.push(j)),wr("div",{class:[i.b(),i.is("background",t.background),{[i.m("small")]:t.small}]},z)}}});const wYe=pi(bYe),xYe=Ln({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:zR,default:"primary"},cancelButtonType:{type:String,values:zR,default:"text"},icon:{type:ts,default:()=>hae},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:gu.teleported,persistent:gu.persistent,width:{type:[String,Number],default:150}}),CYe={confirm:t=>t instanceof MouseEvent,cancel:t=>t instanceof MouseEvent},EYe=Be({name:"ElPopconfirm"}),SYe=Be({...EYe,props:xYe,emits:CYe,setup(t,{emit:e}){const n=t,{t:r}=da(),i=vn("popconfirm"),s=Te(),l=()=>{var v,y;(y=(v=s.value)==null?void 0:v.onClose)==null||y.call(v)},c=le(()=>({width:So(n.width)})),a=v=>{e("confirm",v),l()},f=v=>{e("cancel",v),l()},p=le(()=>n.confirmButtonText||r("el.popconfirm.confirmButtonText")),m=le(()=>n.cancelButtonText||r("el.popconfirm.cancelButtonText"));return(v,y)=>(X(),Ut(S(Hc),Xr({ref_key:"tooltipRef",ref:s,trigger:"click",effect:"light"},v.$attrs,{"popper-class":`${S(i).namespace.value}-popover`,"popper-style":S(c),teleported:v.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":v.hideAfter,persistent:v.persistent}),{content:xt(()=>[pe("div",{class:Se(S(i).b())},[pe("div",{class:Se(S(i).e("main"))},[!v.hideIcon&&v.icon?(X(),Ut(S(Ar),{key:0,class:Se(S(i).e("icon")),style:or({color:v.iconColor})},{default:xt(()=>[(X(),Ut(fi(v.icon)))]),_:1},8,["class","style"])):bt("v-if",!0),xi(" "+Cn(v.title),1)],2),pe("div",{class:Se(S(i).e("action"))},[ht(S(Eu),{size:"small",type:v.cancelButtonType==="text"?"":v.cancelButtonType,text:v.cancelButtonType==="text",onClick:f},{default:xt(()=>[xi(Cn(S(m)),1)]),_:1},8,["type","text"]),ht(S(Eu),{size:"small",type:v.confirmButtonType==="text"?"":v.confirmButtonType,text:v.confirmButtonType==="text",onClick:a},{default:xt(()=>[xi(Cn(S(p)),1)]),_:1},8,["type","text"])],2)],2)]),default:xt(()=>[v.$slots.reference?Ft(v.$slots,"reference",{key:0}):bt("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var TYe=Fn(SYe,[["__file","popconfirm.vue"]]);const BYe=pi(TYe),MYe=Ln({trigger:p6.trigger,placement:mT.placement,disabled:p6.disabled,visible:gu.visible,transition:gu.transition,popperOptions:mT.popperOptions,tabindex:mT.tabindex,content:gu.content,popperStyle:gu.popperStyle,popperClass:gu.popperClass,enterable:{...gu.enterable,default:!0},effect:{...gu.effect,default:"light"},teleported:gu.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),IYe={"update:visible":t=>Jo(t),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},LYe="onUpdate:visible",kYe=Be({name:"ElPopover"}),PYe=Be({...kYe,props:MYe,emits:IYe,setup(t,{expose:e,emit:n}){const r=t,i=le(()=>r[LYe]),s=vn("popover"),l=Te(),c=le(()=>{var k;return(k=S(l))==null?void 0:k.popperRef}),a=le(()=>[{width:So(r.width)},r.popperStyle]),f=le(()=>[s.b(),r.popperClass,{[s.m("plain")]:!!r.content}]),p=le(()=>r.transition===`${s.namespace.value}-fade-in-linear`),m=()=>{var k;(k=l.value)==null||k.hide()},v=()=>{n("before-enter")},y=()=>{n("before-leave")},T=()=>{n("after-enter")},C=()=>{n("update:visible",!1),n("after-leave")};return e({popperRef:c,hide:m}),(k,M)=>(X(),Ut(S(Hc),Xr({ref_key:"tooltipRef",ref:l},k.$attrs,{trigger:k.trigger,placement:k.placement,disabled:k.disabled,visible:k.visible,transition:k.transition,"popper-options":k.popperOptions,tabindex:k.tabindex,content:k.content,offset:k.offset,"show-after":k.showAfter,"hide-after":k.hideAfter,"auto-close":k.autoClose,"show-arrow":k.showArrow,"aria-label":k.title,effect:k.effect,enterable:k.enterable,"popper-class":S(f),"popper-style":S(a),teleported:k.teleported,persistent:k.persistent,"gpu-acceleration":S(p),"onUpdate:visible":S(i),onBeforeShow:v,onBeforeHide:y,onShow:T,onHide:C}),{content:xt(()=>[k.title?(X(),ve("div",{key:0,class:Se(S(s).e("title")),role:"title"},Cn(k.title),3)):bt("v-if",!0),Ft(k.$slots,"default",{},()=>[xi(Cn(k.content),1)])]),default:xt(()=>[k.$slots.reference?Ft(k.$slots,"reference",{key:0}):bt("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var FYe=Fn(PYe,[["__file","popover.vue"]]);const Mq=(t,e)=>{const n=e.arg||e.value,r=n==null?void 0:n.popperRef;r&&(r.triggerRef=t)};var RYe={mounted(t,e){Mq(t,e)},updated(t,e){Mq(t,e)}};const OYe="popover",ele=fOe(RYe,OYe),DYe=pi(FYe,{directive:ele}),NYe=Ln({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:t=>t>=0&&t<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:Rt(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:Rt([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:Rt(Function),default:t=>`${t}%`}}),UYe=["aria-valuenow"],zYe={viewBox:"0 0 100 100"},$Ye=["d","stroke","stroke-linecap","stroke-width"],VYe=["d","stroke","opacity","stroke-linecap","stroke-width"],HYe={key:0},QYe=Be({name:"ElProgress"}),jYe=Be({...QYe,props:NYe,setup(t){const e=t,n={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},r=vn("progress"),i=le(()=>({width:`${e.percentage}%`,animationDuration:`${e.duration}s`,background:P(e.percentage)})),s=le(()=>(e.strokeWidth/e.width*100).toFixed(1)),l=le(()=>["circle","dashboard"].includes(e.type)?Number.parseInt(`${50-Number.parseFloat(s.value)/2}`,10):0),c=le(()=>{const R=l.value,N=e.type==="dashboard";return`
          M 50 50
          m 0 ${N?"":"-"}${R}
          a ${R} ${R} 0 1 1 0 ${N?"-":""}${R*2}
          a ${R} ${R} 0 1 1 0 ${N?"":"-"}${R*2}
          `}),a=le(()=>2*Math.PI*l.value),f=le(()=>e.type==="dashboard"?.75:1),p=le(()=>`${-1*a.value*(1-f.value)/2}px`),m=le(()=>({strokeDasharray:`${a.value*f.value}px, ${a.value}px`,strokeDashoffset:p.value})),v=le(()=>({strokeDasharray:`${a.value*f.value*(e.percentage/100)}px, ${a.value}px`,strokeDashoffset:p.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),y=le(()=>{let R;return e.color?R=P(e.percentage):R=n[e.status]||n.default,R}),T=le(()=>e.status==="warning"?g5:e.type==="line"?e.status==="success"?JB:w0:e.status==="success"?rx:Rf),C=le(()=>e.type==="line"?12+e.strokeWidth*.4:e.width*.111111+2),k=le(()=>e.format(e.percentage));function M(R){const N=100/R.length;return R.map((H,j)=>Hr(H)?{color:H,percentage:(j+1)*N}:H).sort((H,j)=>H.percentage-j.percentage)}const P=R=>{var N;const{color:z}=e;if(Dr(z))return z(R);if(Hr(z))return z;{const H=M(z);for(const j of H)if(j.percentage>R)return j.color;return(N=H[H.length-1])==null?void 0:N.color}};return(R,N)=>(X(),ve("div",{class:Se([S(r).b(),S(r).m(R.type),S(r).is(R.status),{[S(r).m("without-text")]:!R.showText,[S(r).m("text-inside")]:R.textInside}]),role:"progressbar","aria-valuenow":R.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[R.type==="line"?(X(),ve("div",{key:0,class:Se(S(r).b("bar"))},[pe("div",{class:Se(S(r).be("bar","outer")),style:or({height:`${R.strokeWidth}px`})},[pe("div",{class:Se([S(r).be("bar","inner"),{[S(r).bem("bar","inner","indeterminate")]:R.indeterminate},{[S(r).bem("bar","inner","striped")]:R.striped},{[S(r).bem("bar","inner","striped-flow")]:R.stripedFlow}]),style:or(S(i))},[(R.showText||R.$slots.default)&&R.textInside?(X(),ve("div",{key:0,class:Se(S(r).be("bar","innerText"))},[Ft(R.$slots,"default",{percentage:R.percentage},()=>[pe("span",null,Cn(S(k)),1)])],2)):bt("v-if",!0)],6)],6)],2)):(X(),ve("div",{key:1,class:Se(S(r).b("circle")),style:or({height:`${R.width}px`,width:`${R.width}px`})},[(X(),ve("svg",zYe,[pe("path",{class:Se(S(r).be("circle","track")),d:S(c),stroke:`var(${S(r).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":R.strokeLinecap,"stroke-width":S(s),fill:"none",style:or(S(m))},null,14,$Ye),pe("path",{class:Se(S(r).be("circle","path")),d:S(c),stroke:S(y),fill:"none",opacity:R.percentage?1:0,"stroke-linecap":R.strokeLinecap,"stroke-width":S(s),style:or(S(v))},null,14,VYe)]))],6)),(R.showText||R.$slots.default)&&!R.textInside?(X(),ve("div",{key:2,class:Se(S(r).e("text")),style:or({fontSize:`${S(C)}px`})},[Ft(R.$slots,"default",{percentage:R.percentage},()=>[R.status?(X(),Ut(S(Ar),{key:1},{default:xt(()=>[(X(),Ut(fi(S(T))))]),_:1})):(X(),ve("span",HYe,Cn(S(k)),1))])],6)):bt("v-if",!0)],10,UYe))}});var GYe=Fn(jYe,[["__file","progress.vue"]]);const tle=pi(GYe),KYe=Ln({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:Rt([Array,Object]),default:()=>ro(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:Rt([Array,Object]),default:()=>[U4,U4,U4]},voidIcon:{type:ts,default:()=>vae},disabledVoidIcon:{type:ts,default:()=>U4},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:Rt(Array),default:()=>ro(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:lu,label:{type:String,default:void 0},clearable:{type:Boolean,default:!1},...Wu(["ariaLabel"])}),WYe={[bs]:t=>Or(t),[_i]:t=>Or(t)},qYe=["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"],YYe=["onMousemove","onClick"],XYe=Be({name:"ElRate"}),ZYe=Be({...XYe,props:KYe,emits:WYe,setup(t,{expose:e,emit:n}){const r=t;function i(te,ne){const ce=Ee=>mi(Ee),ue=Object.keys(ne).map(Ee=>+Ee).filter(Ee=>{const se=ne[Ee];return(ce(se)?se.excluded:!1)?te<Ee:te<=Ee}).sort((Ee,se)=>Ee-se),ye=ne[ue[0]];return ce(ye)&&ye.value||ye}const s=ar(Qy,void 0),l=ar(Bm,void 0),c=ml(),a=vn("rate"),{inputId:f,isLabeledByFormItem:p}=dA(r,{formItemContext:l}),m=Te(r.modelValue),v=Te(-1),y=Te(!0),T=le(()=>[a.b(),a.m(c.value)]),C=le(()=>r.disabled||(s==null?void 0:s.disabled)),k=le(()=>a.cssVarBlock({"void-color":r.voidColor,"disabled-void-color":r.disabledVoidColor,"fill-color":N.value})),M=le(()=>{let te="";return r.showScore?te=r.scoreTemplate.replace(/\{\s*value\s*\}/,C.value?`${r.modelValue}`:`${m.value}`):r.showText&&(te=r.texts[Math.ceil(m.value)-1]),te}),P=le(()=>r.modelValue*100-Math.floor(r.modelValue)*100),R=le(()=>Jn(r.colors)?{[r.lowThreshold]:r.colors[0],[r.highThreshold]:{value:r.colors[1],excluded:!0},[r.max]:r.colors[2]}:r.colors),N=le(()=>{const te=i(m.value,R.value);return mi(te)?"":te}),z=le(()=>{let te="";return C.value?te=`${P.value}%`:r.allowHalf&&(te="50%"),{color:N.value,width:te}}),H=le(()=>{let te=Jn(r.icons)?[...r.icons]:{...r.icons};return te=Gw(te),Jn(te)?{[r.lowThreshold]:te[0],[r.highThreshold]:{value:te[1],excluded:!0},[r.max]:te[2]}:te}),j=le(()=>i(r.modelValue,H.value)),Q=le(()=>C.value?Hr(r.disabledVoidIcon)?r.disabledVoidIcon:Gw(r.disabledVoidIcon):Hr(r.voidIcon)?r.voidIcon:Gw(r.voidIcon)),G=le(()=>i(m.value,H.value));function ie(te){const ne=C.value&&P.value>0&&te-1<r.modelValue&&te>r.modelValue,ce=r.allowHalf&&y.value&&te-.5<=m.value&&te>m.value;return ne||ce}function q(te){r.clearable&&te===r.modelValue&&(te=0),n(_i,te),r.modelValue!==te&&n("change",te)}function W(te){C.value||(r.allowHalf&&y.value?q(m.value):q(te))}function ee(te){if(C.value)return;let ne=m.value;const ce=te.code;return ce===Tr.up||ce===Tr.right?(r.allowHalf?ne+=.5:ne+=1,te.stopPropagation(),te.preventDefault()):(ce===Tr.left||ce===Tr.down)&&(r.allowHalf?ne-=.5:ne-=1,te.stopPropagation(),te.preventDefault()),ne=ne<0?0:ne,ne=ne>r.max?r.max:ne,n(_i,ne),n("change",ne),ne}function he(te,ne){if(!C.value){if(r.allowHalf&&ne){let ce=ne.target;Lf(ce,a.e("item"))&&(ce=ce.querySelector(`.${a.e("icon")}`)),(ce.clientWidth===0||Lf(ce,a.e("decimal")))&&(ce=ce.parentNode),y.value=ne.offsetX*2<=ce.clientWidth,m.value=y.value?te-.5:te}else m.value=te;v.value=te}}function J(){C.value||(r.allowHalf&&(y.value=r.modelValue!==Math.floor(r.modelValue)),m.value=r.modelValue,v.value=-1)}return ln(()=>r.modelValue,te=>{m.value=te,y.value=r.modelValue!==Math.floor(r.modelValue)}),r.modelValue||n(_i,0),wu({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-rate",ref:"https://element-plus.org/en-US/component/rate.html"},le(()=>!!r.label)),e({setCurrentValue:he,resetCurrentValue:J}),(te,ne)=>{var ce;return X(),ve("div",{id:S(f),class:Se([S(T),S(a).is("disabled",S(C))]),role:"slider","aria-label":S(p)?void 0:te.label||te.ariaLabel||"rating","aria-labelledby":S(p)?(ce=S(l))==null?void 0:ce.labelId:void 0,"aria-valuenow":m.value,"aria-valuetext":S(M)||void 0,"aria-valuemin":"0","aria-valuemax":te.max,tabindex:"0",style:or(S(k)),onKeydown:ee},[(X(!0),ve(Vn,null,Yr(te.max,(ue,ye)=>(X(),ve("span",{key:ye,class:Se(S(a).e("item")),onMousemove:Ee=>he(ue,Ee),onMouseleave:J,onClick:Ee=>W(ue)},[ht(S(Ar),{class:Se([S(a).e("icon"),{hover:v.value===ue},S(a).is("active",ue<=m.value)])},{default:xt(()=>[ie(ue)?bt("v-if",!0):(X(),ve(Vn,{key:0},[Jr((X(),Ut(fi(S(G)),null,null,512)),[[ca,ue<=m.value]]),Jr((X(),Ut(fi(S(Q)),null,null,512)),[[ca,!(ue<=m.value)]])],64)),ie(ue)?(X(),ve(Vn,{key:1},[(X(),Ut(fi(S(Q)),{class:Se([S(a).em("decimal","box")])},null,8,["class"])),ht(S(Ar),{style:or(S(z)),class:Se([S(a).e("icon"),S(a).e("decimal")])},{default:xt(()=>[(X(),Ut(fi(S(j))))]),_:1},8,["style","class"])],64)):bt("v-if",!0)]),_:2},1032,["class"])],42,YYe))),128)),te.showText||te.showScore?(X(),ve("span",{key:0,class:Se(S(a).e("text")),style:or({color:te.textColor})},Cn(S(M)),7)):bt("v-if",!0)],46,qYe)}}});var JYe=Fn(ZYe,[["__file","rate.vue"]]);const eXe=pi(JYe),Tw={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},Iq={[Tw.success]:rae,[Tw.warning]:g5,[Tw.error]:eM,[Tw.info]:tM},tXe=Ln({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),nXe=Be({name:"ElResult"}),rXe=Be({...nXe,props:tXe,setup(t){const e=t,n=vn("result"),r=le(()=>{const i=e.icon,s=i&&Tw[i]?Tw[i]:"icon-info",l=Iq[s]||Iq["icon-info"];return{class:s,component:l}});return(i,s)=>(X(),ve("div",{class:Se(S(n).b())},[pe("div",{class:Se(S(n).e("icon"))},[Ft(i.$slots,"icon",{},()=>[S(r).component?(X(),Ut(fi(S(r).component),{key:0,class:Se(S(r).class)},null,8,["class"])):bt("v-if",!0)])],2),i.title||i.$slots.title?(X(),ve("div",{key:0,class:Se(S(n).e("title"))},[Ft(i.$slots,"title",{},()=>[pe("p",null,Cn(i.title),1)])],2)):bt("v-if",!0),i.subTitle||i.$slots["sub-title"]?(X(),ve("div",{key:1,class:Se(S(n).e("subtitle"))},[Ft(i.$slots,"sub-title",{},()=>[pe("p",null,Cn(i.subTitle),1)])],2)):bt("v-if",!0),i.$slots.extra?(X(),ve("div",{key:2,class:Se(S(n).e("extra"))},[Ft(i.$slots,"extra")],2)):bt("v-if",!0)],2))}});var iXe=Fn(rXe,[["__file","result.vue"]]);const aXe=pi(iXe);var Lq=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function sXe(t,e){return!!(t===e||Lq(t)&&Lq(e))}function oXe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!sXe(t[n],e[n]))return!1;return!0}function lXe(t,e){e===void 0&&(e=oXe);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var l=t.apply(this,i);return n={lastResult:l,lastArgs:i,lastThis:this},l}return r.clear=function(){n=null},r}const nle=()=>{const e=ci().proxy.$props;return le(()=>{const n=(r,i,s)=>({});return e.perfMode?WB(n):lXe(n)})},oO=50,w8="itemRendered",x8="scroll",Bw="forward",C8="backward",Ef="auto",pM="smart",g6="start",lm="center",v6="end",F2="horizontal",tU="vertical",uXe="ltr",Zw="rtl",_6="negative",nU="positive-ascending",rU="positive-descending",cXe={[F2]:"left",[tU]:"top"},hXe=20,dXe={[F2]:"deltaX",[tU]:"deltaY"},fXe=({atEndEdge:t,atStartEdge:e,layout:n},r)=>{let i,s=0;const l=a=>a<0&&e.value||a>0&&t.value;return{hasReachedEdge:l,onWheel:a=>{xy(i);const f=a[dXe[n.value]];l(s)&&l(s+f)||(s+=f,cie()||a.preventDefault(),i=d1(()=>{r(s),s=0}))}}},lO=cA({type:Rt([Number,Function]),required:!0}),uO=cA({type:Number}),cO=cA({type:Number,default:2}),pXe=cA({type:String,values:["ltr","rtl"],default:"ltr"}),hO=cA({type:Number,default:0}),E8=cA({type:Number,required:!0}),rle=cA({type:String,values:["horizontal","vertical"],default:tU}),ile=Ln({className:{type:String,default:""},containerElement:{type:Rt([String,Object]),default:"div"},data:{type:Rt(Array),default:()=>ro([])},direction:pXe,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:Rt([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),ale=Ln({cache:cO,estimatedItemSize:uO,layout:rle,initScrollOffset:hO,total:E8,itemSize:lO,...ile}),dO={type:Number,default:6},sle={type:Number,default:0},ole={type:Number,default:2},uy=Ln({columnCache:cO,columnWidth:lO,estimatedColumnWidth:uO,estimatedRowHeight:uO,initScrollLeft:hO,initScrollTop:hO,itemKey:{type:Rt(Function),default:({columnIndex:t,rowIndex:e})=>`${e}:${t}`},rowCache:cO,rowHeight:lO,totalColumn:E8,totalRow:E8,hScrollbarSize:dO,vScrollbarSize:dO,scrollbarStartGap:sle,scrollbarEndGap:ole,role:String,...ile}),lle=Ln({alwaysOn:Boolean,class:String,layout:rle,total:E8,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:dO,startGap:sle,endGap:ole,visible:Boolean}),G_=(t,e)=>t<e?Bw:C8,y6=t=>t===uXe||t===Zw||t===F2,kq=t=>t===Zw;let $b=null;function S8(t=!1){if($b===null||t){const e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";const r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",e.appendChild(r),document.body.appendChild(e),e.scrollLeft>0?$b=rU:(e.scrollLeft=1,e.scrollLeft===0?$b=_6:$b=nU),document.body.removeChild(e),$b}return $b}function AXe({move:t,size:e,bar:n},r){const i={},s=`translate${n.axis}(${t}px)`;return i[n.size]=e,i.transform=s,i.msTransform=s,i.webkitTransform=s,r==="horizontal"?i.height="100%":i.width="100%",i}const fO=Be({name:"ElVirtualScrollBar",props:lle,emits:["scroll","start-move","stop-move"],setup(t,{emit:e}){const n=le(()=>t.startGap+t.endGap),r=vn("virtual-scrollbar"),i=vn("scrollbar"),s=Te(),l=Te();let c=null,a=null;const f=ha({isDragging:!1,traveled:0}),p=le(()=>ose[t.layout]),m=le(()=>t.clientSize-S(n)),v=le(()=>({position:"absolute",width:`${F2===t.layout?m.value:t.scrollbarSize}px`,height:`${F2===t.layout?t.scrollbarSize:m.value}px`,[cXe[t.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),y=le(()=>{const H=t.ratio,j=t.clientSize;if(H>=100)return Number.POSITIVE_INFINITY;if(H>=50)return H*j/100;const Q=j/3;return Math.floor(Math.min(Math.max(H*j,hXe),Q))}),T=le(()=>{if(!Number.isFinite(y.value))return{display:"none"};const H=`${y.value}px`;return AXe({bar:p.value,size:H,move:f.traveled},t.layout)}),C=le(()=>Math.floor(t.clientSize-y.value-S(n))),k=()=>{window.addEventListener("mousemove",N),window.addEventListener("mouseup",R);const H=S(l);H&&(a=document.onselectstart,document.onselectstart=()=>!1,H.addEventListener("touchmove",N),H.addEventListener("touchend",R))},M=()=>{window.removeEventListener("mousemove",N),window.removeEventListener("mouseup",R),document.onselectstart=a,a=null;const H=S(l);H&&(H.removeEventListener("touchmove",N),H.removeEventListener("touchend",R))},P=H=>{H.stopImmediatePropagation(),!(H.ctrlKey||[1,2].includes(H.button))&&(f.isDragging=!0,f[p.value.axis]=H.currentTarget[p.value.offset]-(H[p.value.client]-H.currentTarget.getBoundingClientRect()[p.value.direction]),e("start-move"),k())},R=()=>{f.isDragging=!1,f[p.value.axis]=0,e("stop-move"),M()},N=H=>{const{isDragging:j}=f;if(!j||!l.value||!s.value)return;const Q=f[p.value.axis];if(!Q)return;xy(c);const G=(s.value.getBoundingClientRect()[p.value.direction]-H[p.value.client])*-1,ie=l.value[p.value.offset]-Q,q=G-ie;c=d1(()=>{f.traveled=Math.max(t.startGap,Math.min(q,C.value)),e("scroll",q,C.value)})},z=H=>{const j=Math.abs(H.target.getBoundingClientRect()[p.value.direction]-H[p.value.client]),Q=l.value[p.value.offset]/2,G=j-Q;f.traveled=Math.max(0,Math.min(G,C.value)),e("scroll",G,C.value)};return ln(()=>t.scrollFrom,H=>{f.isDragging||(f.traveled=Math.ceil(H*C.value))}),ps(()=>{M()}),()=>wr("div",{role:"presentation",ref:s,class:[r.b(),t.class,(t.alwaysOn||f.isDragging)&&"always-on"],style:v.value,onMousedown:Pr(z,["stop","prevent"]),onTouchstartPrevent:P},wr("div",{ref:l,class:i.e("thumb"),style:T.value,onMousedown:P},[]))}}),ule=({name:t,getOffset:e,getItemSize:n,getItemOffset:r,getEstimatedTotalSize:i,getStartIndexForOffset:s,getStopIndexForStartIndex:l,initCache:c,clearCache:a,validateProps:f})=>Be({name:t??"ElVirtualList",props:ale,emits:[w8,x8],setup(p,{emit:m,expose:v}){f(p);const y=ci(),T=vn("vl"),C=Te(c(p,y)),k=nle(),M=Te(),P=Te(),R=Te(),N=Te({isScrolling:!1,scrollDir:"forward",scrollOffset:Or(p.initScrollOffset)?p.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:p.scrollbarAlwaysOn}),z=le(()=>{const{total:oe,cache:_e}=p,{isScrolling:Ue,scrollDir:Le,scrollOffset:be}=S(N);if(oe===0)return[0,0,0,0];const Re=s(p,be,S(C)),Qe=l(p,Re,be,S(C)),Je=!Ue||Le===C8?Math.max(1,_e):1,nt=!Ue||Le===Bw?Math.max(1,_e):1;return[Math.max(0,Re-Je),Math.max(0,Math.min(oe-1,Qe+nt)),Re,Qe]}),H=le(()=>i(p,S(C))),j=le(()=>y6(p.layout)),Q=le(()=>[{position:"relative",[`overflow-${j.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:p.direction,height:Or(p.height)?`${p.height}px`:p.height,width:Or(p.width)?`${p.width}px`:p.width},p.style]),G=le(()=>{const oe=S(H),_e=S(j);return{height:_e?"100%":`${oe}px`,pointerEvents:S(N).isScrolling?"none":void 0,width:_e?`${oe}px`:"100%"}}),ie=le(()=>j.value?p.width:p.height),{onWheel:q}=fXe({atStartEdge:le(()=>N.value.scrollOffset<=0),atEndEdge:le(()=>N.value.scrollOffset>=H.value),layout:le(()=>p.layout)},oe=>{var _e,Ue;(Ue=(_e=R.value).onMouseUp)==null||Ue.call(_e),ne(Math.min(N.value.scrollOffset+oe,H.value-ie.value))}),W=()=>{const{total:oe}=p;if(oe>0){const[be,Re,Qe,Je]=S(z);m(w8,be,Re,Qe,Je)}const{scrollDir:_e,scrollOffset:Ue,updateRequested:Le}=S(N);m(x8,_e,Ue,Le)},ee=oe=>{const{clientHeight:_e,scrollHeight:Ue,scrollTop:Le}=oe.currentTarget,be=S(N);if(be.scrollOffset===Le)return;const Re=Math.max(0,Math.min(Le,Ue-_e));N.value={...be,isScrolling:!0,scrollDir:G_(be.scrollOffset,Re),scrollOffset:Re,updateRequested:!1},dr(ye)},he=oe=>{const{clientWidth:_e,scrollLeft:Ue,scrollWidth:Le}=oe.currentTarget,be=S(N);if(be.scrollOffset===Ue)return;const{direction:Re}=p;let Qe=Ue;if(Re===Zw)switch(S8()){case _6:{Qe=-Ue;break}case rU:{Qe=Le-_e-Ue;break}}Qe=Math.max(0,Math.min(Qe,Le-_e)),N.value={...be,isScrolling:!0,scrollDir:G_(be.scrollOffset,Qe),scrollOffset:Qe,updateRequested:!1},dr(ye)},J=oe=>{S(j)?he(oe):ee(oe),W()},te=(oe,_e)=>{const Ue=(H.value-ie.value)/_e*oe;ne(Math.min(H.value-ie.value,Ue))},ne=oe=>{oe=Math.max(oe,0),oe!==S(N).scrollOffset&&(N.value={...S(N),scrollOffset:oe,scrollDir:G_(S(N).scrollOffset,oe),updateRequested:!0},dr(ye))},ce=(oe,_e=Ef)=>{const{scrollOffset:Ue}=S(N);oe=Math.max(0,Math.min(oe,p.total-1)),ne(e(p,oe,_e,Ue,S(C)))},ue=oe=>{const{direction:_e,itemSize:Ue,layout:Le}=p,be=k.value(a&&Ue,a&&Le,a&&_e);let Re;if(aa(be,String(oe)))Re=be[oe];else{const Qe=r(p,oe,S(C)),Je=n(p,oe,S(C)),nt=S(j),Ve=_e===Zw,ke=nt?Qe:0;be[oe]=Re={position:"absolute",left:Ve?void 0:`${ke}px`,right:Ve?`${ke}px`:void 0,top:nt?0:`${Qe}px`,height:nt?"100%":`${Je}px`,width:nt?`${Je}px`:"100%"}}return Re},ye=()=>{N.value.isScrolling=!1,dr(()=>{k.value(-1,null,null)})},Ee=()=>{const oe=M.value;oe&&(oe.scrollTop=0)};Fr(()=>{if(!ra)return;const{initScrollOffset:oe}=p,_e=S(M);Or(oe)&&_e&&(S(j)?_e.scrollLeft=oe:_e.scrollTop=oe),W()}),_0(()=>{const{direction:oe,layout:_e}=p,{scrollOffset:Ue,updateRequested:Le}=S(N),be=S(M);if(Le&&be)if(_e===F2)if(oe===Zw)switch(S8()){case _6:{be.scrollLeft=-Ue;break}case nU:{be.scrollLeft=Ue;break}default:{const{clientWidth:Re,scrollWidth:Qe}=be;be.scrollLeft=Qe-Re-Ue;break}}else be.scrollLeft=Ue;else be.scrollTop=Ue});const se={ns:T,clientSize:ie,estimatedTotalSize:H,windowStyle:Q,windowRef:M,innerRef:P,innerStyle:G,itemsToRender:z,scrollbarRef:R,states:N,getItemStyle:ue,onScroll:J,onScrollbarScroll:te,onWheel:q,scrollTo:ne,scrollToItem:ce,resetScrollTop:Ee};return v({windowRef:M,innerRef:P,getItemStyleCache:k,scrollTo:ne,scrollToItem:ce,resetScrollTop:Ee,states:N}),se},render(p){var m;const{$slots:v,className:y,clientSize:T,containerElement:C,data:k,getItemStyle:M,innerElement:P,itemsToRender:R,innerStyle:N,layout:z,total:H,onScroll:j,onScrollbarScroll:Q,onWheel:G,states:ie,useIsScrolling:q,windowStyle:W,ns:ee}=p,[he,J]=R,te=fi(C),ne=fi(P),ce=[];if(H>0)for(let se=he;se<=J;se++)ce.push((m=v.default)==null?void 0:m.call(v,{data:k,key:se,index:se,isScrolling:q?ie.isScrolling:void 0,style:M(se)}));const ue=[wr(ne,{style:N,ref:"innerRef"},Hr(ne)?ce:{default:()=>ce})],ye=wr(fO,{ref:"scrollbarRef",clientSize:T,layout:z,onScroll:Q,ratio:T*100/this.estimatedTotalSize,scrollFrom:ie.scrollOffset/(this.estimatedTotalSize-T),total:H}),Ee=wr(te,{class:[ee.e("window"),y],style:W,onScroll:j,onWheel:G,ref:"windowRef",key:0},Hr(te)?[ue]:{default:()=>[ue]});return wr("div",{key:0,class:[ee.e("wrapper"),ie.scrollbarAlwaysOn?"always-on":""]},[Ee,ye])}}),cle=ule({name:"ElFixedSizeList",getItemOffset:({itemSize:t},e)=>e*t,getItemSize:({itemSize:t})=>t,getEstimatedTotalSize:({total:t,itemSize:e})=>e*t,getOffset:({height:t,total:e,itemSize:n,layout:r,width:i},s,l,c)=>{const a=y6(r)?i:t,f=Math.max(0,e*n-a),p=Math.min(f,s*n),m=Math.max(0,(s+1)*n-a);switch(l===pM&&(c>=m-a&&c<=p+a?l=Ef:l=lm),l){case g6:return p;case v6:return m;case lm:{const v=Math.round(m+(p-m)/2);return v<Math.ceil(a/2)?0:v>f+Math.floor(a/2)?f:v}case Ef:default:return c>=m&&c<=p?c:c<m?m:p}},getStartIndexForOffset:({total:t,itemSize:e},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getStopIndexForStartIndex:({height:t,total:e,itemSize:n,layout:r,width:i},s,l)=>{const c=s*n,a=y6(r)?i:t,f=Math.ceil((a+l-c)/n);return Math.max(0,Math.min(e-1,s+f-1))},initCache(){},clearCache:!0,validateProps(){}}),Mw=(t,e,n)=>{const{itemSize:r}=t,{items:i,lastVisitedIndex:s}=n;if(e>s){let l=0;if(s>=0){const c=i[s];l=c.offset+c.size}for(let c=s+1;c<=e;c++){const a=r(c);i[c]={offset:l,size:a},l+=a}n.lastVisitedIndex=e}return i[e]},mXe=(t,e,n)=>{const{items:r,lastVisitedIndex:i}=e;return(i>0?r[i].offset:0)>=n?hle(t,e,0,i,n):gXe(t,e,Math.max(0,i),n)},hle=(t,e,n,r,i)=>{for(;n<=r;){const s=n+Math.floor((r-n)/2),l=Mw(t,s,e).offset;if(l===i)return s;l<i?n=s+1:l>i&&(r=s-1)}return Math.max(0,n-1)},gXe=(t,e,n,r)=>{const{total:i}=t;let s=1;for(;n<i&&Mw(t,n,e).offset<r;)n+=s,s*=2;return hle(t,e,Math.floor(n/2),Math.min(n,i-1),r)},Pq=({total:t},{items:e,estimatedItemSize:n,lastVisitedIndex:r})=>{let i=0;if(r>=t&&(r=t-1),r>=0){const c=e[r];i=c.offset+c.size}const l=(t-r-1)*n;return i+l},vXe=ule({name:"ElDynamicSizeList",getItemOffset:(t,e,n)=>Mw(t,e,n).offset,getItemSize:(t,e,{items:n})=>n[e].size,getEstimatedTotalSize:Pq,getOffset:(t,e,n,r,i)=>{const{height:s,layout:l,width:c}=t,a=y6(l)?c:s,f=Mw(t,e,i),p=Pq(t,i),m=Math.max(0,Math.min(p-a,f.offset)),v=Math.max(0,f.offset-a+f.size);switch(n===pM&&(r>=v-a&&r<=m+a?n=Ef:n=lm),n){case g6:return m;case v6:return v;case lm:return Math.round(v+(m-v)/2);case Ef:default:return r>=v&&r<=m?r:r<v?v:m}},getStartIndexForOffset:(t,e,n)=>mXe(t,n,e),getStopIndexForStartIndex:(t,e,n,r)=>{const{height:i,total:s,layout:l,width:c}=t,a=y6(l)?c:i,f=Mw(t,e,r),p=n+a;let m=f.offset+f.size,v=e;for(;v<s-1&&m<p;)v++,m+=Mw(t,v,r).size;return v},initCache({estimatedItemSize:t=oO},e){const n={items:{},estimatedItemSize:t,lastVisitedIndex:-1};return n.clearCacheAfterIndex=(r,i=!0)=>{var s,l;n.lastVisitedIndex=Math.min(n.lastVisitedIndex,r-1),(s=e.exposed)==null||s.getItemStyleCache(-1),i&&((l=e.proxy)==null||l.$forceUpdate())},n},clearCache:!1,validateProps:({itemSize:t})=>{}}),_Xe=({atXEndEdge:t,atXStartEdge:e,atYEndEdge:n,atYStartEdge:r},i)=>{let s=null,l=0,c=0;const a=(p,m)=>{const v=p<=0&&e.value||p>=0&&t.value,y=m<=0&&r.value||m>=0&&n.value;return v&&y};return{hasReachedEdge:a,onWheel:p=>{xy(s);let m=p.deltaX,v=p.deltaY;Math.abs(m)>Math.abs(v)?v=0:m=0,p.shiftKey&&v!==0&&(m=v,v=0),!(a(l,c)&&a(l+m,c+v))&&(l+=m,c+=v,p.preventDefault(),s=d1(()=>{i(l,c),l=0,c=0}))}}},dle=({name:t,clearCache:e,getColumnPosition:n,getColumnStartIndexForOffset:r,getColumnStopIndexForStartIndex:i,getEstimatedTotalHeight:s,getEstimatedTotalWidth:l,getColumnOffset:c,getRowOffset:a,getRowPosition:f,getRowStartIndexForOffset:p,getRowStopIndexForStartIndex:m,initCache:v,injectToInstance:y,validateProps:T})=>Be({name:t??"ElVirtualList",props:uy,emits:[w8,x8],setup(C,{emit:k,expose:M,slots:P}){const R=vn("vl");T(C);const N=ci(),z=Te(v(C,N));y==null||y(N,z);const H=Te(),j=Te(),Q=Te(),G=Te(null),ie=Te({isScrolling:!1,scrollLeft:Or(C.initScrollLeft)?C.initScrollLeft:0,scrollTop:Or(C.initScrollTop)?C.initScrollTop:0,updateRequested:!1,xAxisScrollDir:Bw,yAxisScrollDir:Bw}),q=nle(),W=le(()=>Number.parseInt(`${C.height}`,10)),ee=le(()=>Number.parseInt(`${C.width}`,10)),he=le(()=>{const{totalColumn:Ye,totalRow:vt,columnCache:Lt}=C,{isScrolling:Et,xAxisScrollDir:Vt,scrollLeft:_t}=S(ie);if(Ye===0||vt===0)return[0,0,0,0];const qt=r(C,_t,S(z)),tn=i(C,qt,_t,S(z)),Nt=!Et||Vt===C8?Math.max(1,Lt):1,wt=!Et||Vt===Bw?Math.max(1,Lt):1;return[Math.max(0,qt-Nt),Math.max(0,Math.min(Ye-1,tn+wt)),qt,tn]}),J=le(()=>{const{totalColumn:Ye,totalRow:vt,rowCache:Lt}=C,{isScrolling:Et,yAxisScrollDir:Vt,scrollTop:_t}=S(ie);if(Ye===0||vt===0)return[0,0,0,0];const qt=p(C,_t,S(z)),tn=m(C,qt,_t,S(z)),Nt=!Et||Vt===C8?Math.max(1,Lt):1,wt=!Et||Vt===Bw?Math.max(1,Lt):1;return[Math.max(0,qt-Nt),Math.max(0,Math.min(vt-1,tn+wt)),qt,tn]}),te=le(()=>s(C,S(z))),ne=le(()=>l(C,S(z))),ce=le(()=>{var Ye;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:C.direction,height:Or(C.height)?`${C.height}px`:C.height,width:Or(C.width)?`${C.width}px`:C.width},(Ye=C.style)!=null?Ye:{}]}),ue=le(()=>{const Ye=`${S(ne)}px`;return{height:`${S(te)}px`,pointerEvents:S(ie).isScrolling?"none":void 0,width:Ye}}),ye=()=>{const{totalColumn:Ye,totalRow:vt}=C;if(Ye>0&&vt>0){const[tn,Nt,wt,De]=S(he),[We,ut,It,Xe]=S(J);k(w8,{columnCacheStart:tn,columnCacheEnd:Nt,rowCacheStart:We,rowCacheEnd:ut,columnVisibleStart:wt,columnVisibleEnd:De,rowVisibleStart:It,rowVisibleEnd:Xe})}const{scrollLeft:Lt,scrollTop:Et,updateRequested:Vt,xAxisScrollDir:_t,yAxisScrollDir:qt}=S(ie);k(x8,{xAxisScrollDir:_t,scrollLeft:Lt,yAxisScrollDir:qt,scrollTop:Et,updateRequested:Vt})},Ee=Ye=>{const{clientHeight:vt,clientWidth:Lt,scrollHeight:Et,scrollLeft:Vt,scrollTop:_t,scrollWidth:qt}=Ye.currentTarget,tn=S(ie);if(tn.scrollTop===_t&&tn.scrollLeft===Vt)return;let Nt=Vt;if(kq(C.direction))switch(S8()){case _6:Nt=-Vt;break;case rU:Nt=qt-Lt-Vt;break}ie.value={...tn,isScrolling:!0,scrollLeft:Nt,scrollTop:Math.max(0,Math.min(_t,Et-vt)),updateRequested:!0,xAxisScrollDir:G_(tn.scrollLeft,Nt),yAxisScrollDir:G_(tn.scrollTop,_t)},dr(()=>Re()),Qe(),ye()},se=(Ye,vt)=>{const Lt=S(W),Et=(te.value-Lt)/vt*Ye;Ue({scrollTop:Math.min(te.value-Lt,Et)})},oe=(Ye,vt)=>{const Lt=S(ee),Et=(ne.value-Lt)/vt*Ye;Ue({scrollLeft:Math.min(ne.value-Lt,Et)})},{onWheel:_e}=_Xe({atXStartEdge:le(()=>ie.value.scrollLeft<=0),atXEndEdge:le(()=>ie.value.scrollLeft>=ne.value-S(ee)),atYStartEdge:le(()=>ie.value.scrollTop<=0),atYEndEdge:le(()=>ie.value.scrollTop>=te.value-S(W))},(Ye,vt)=>{var Lt,Et,Vt,_t;(Et=(Lt=j.value)==null?void 0:Lt.onMouseUp)==null||Et.call(Lt),(_t=(Vt=Q.value)==null?void 0:Vt.onMouseUp)==null||_t.call(Vt);const qt=S(ee),tn=S(W);Ue({scrollLeft:Math.min(ie.value.scrollLeft+Ye,ne.value-qt),scrollTop:Math.min(ie.value.scrollTop+vt,te.value-tn)})}),Ue=({scrollLeft:Ye=ie.value.scrollLeft,scrollTop:vt=ie.value.scrollTop})=>{Ye=Math.max(Ye,0),vt=Math.max(vt,0);const Lt=S(ie);vt===Lt.scrollTop&&Ye===Lt.scrollLeft||(ie.value={...Lt,xAxisScrollDir:G_(Lt.scrollLeft,Ye),yAxisScrollDir:G_(Lt.scrollTop,vt),scrollLeft:Ye,scrollTop:vt,updateRequested:!0},dr(()=>Re()),Qe(),ye())},Le=(Ye=0,vt=0,Lt=Ef)=>{const Et=S(ie);vt=Math.max(0,Math.min(vt,C.totalColumn-1)),Ye=Math.max(0,Math.min(Ye,C.totalRow-1));const Vt=Zie(R.namespace.value),_t=S(z),qt=s(C,_t),tn=l(C,_t);Ue({scrollLeft:c(C,vt,Lt,Et.scrollLeft,_t,tn>C.width?Vt:0),scrollTop:a(C,Ye,Lt,Et.scrollTop,_t,qt>C.height?Vt:0)})},be=(Ye,vt)=>{const{columnWidth:Lt,direction:Et,rowHeight:Vt}=C,_t=q.value(e&&Lt,e&&Vt,e&&Et),qt=`${Ye},${vt}`;if(aa(_t,qt))return _t[qt];{const[,tn]=n(C,vt,S(z)),Nt=S(z),wt=kq(Et),[De,We]=f(C,Ye,Nt),[ut]=n(C,vt,Nt);return _t[qt]={position:"absolute",left:wt?void 0:`${tn}px`,right:wt?`${tn}px`:void 0,top:`${We}px`,height:`${De}px`,width:`${ut}px`},_t[qt]}},Re=()=>{ie.value.isScrolling=!1,dr(()=>{q.value(-1,null,null)})};Fr(()=>{if(!ra)return;const{initScrollLeft:Ye,initScrollTop:vt}=C,Lt=S(H);Lt&&(Or(Ye)&&(Lt.scrollLeft=Ye),Or(vt)&&(Lt.scrollTop=vt)),ye()});const Qe=()=>{const{direction:Ye}=C,{scrollLeft:vt,scrollTop:Lt,updateRequested:Et}=S(ie),Vt=S(H);if(Et&&Vt){if(Ye===Zw)switch(S8()){case _6:{Vt.scrollLeft=-vt;break}case nU:{Vt.scrollLeft=vt;break}default:{const{clientWidth:_t,scrollWidth:qt}=Vt;Vt.scrollLeft=qt-_t-vt;break}}else Vt.scrollLeft=Math.max(0,vt);Vt.scrollTop=Math.max(0,Lt)}},{resetAfterColumnIndex:Je,resetAfterRowIndex:nt,resetAfter:Ve}=N.proxy;M({windowRef:H,innerRef:G,getItemStyleCache:q,scrollTo:Ue,scrollToItem:Le,states:ie,resetAfterColumnIndex:Je,resetAfterRowIndex:nt,resetAfter:Ve});const ke=()=>{const{scrollbarAlwaysOn:Ye,scrollbarStartGap:vt,scrollbarEndGap:Lt,totalColumn:Et,totalRow:Vt}=C,_t=S(ee),qt=S(W),tn=S(ne),Nt=S(te),{scrollLeft:wt,scrollTop:De}=S(ie),We=wr(fO,{ref:j,alwaysOn:Ye,startGap:vt,endGap:Lt,class:R.e("horizontal"),clientSize:_t,layout:"horizontal",onScroll:oe,ratio:_t*100/tn,scrollFrom:wt/(tn-_t),total:Vt,visible:!0}),ut=wr(fO,{ref:Q,alwaysOn:Ye,startGap:vt,endGap:Lt,class:R.e("vertical"),clientSize:qt,layout:"vertical",onScroll:se,ratio:qt*100/Nt,scrollFrom:De/(Nt-qt),total:Et,visible:!0});return{horizontalScrollbar:We,verticalScrollbar:ut}},Ge=()=>{var Ye;const[vt,Lt]=S(he),[Et,Vt]=S(J),{data:_t,totalColumn:qt,totalRow:tn,useIsScrolling:Nt,itemKey:wt}=C,De=[];if(tn>0&&qt>0)for(let We=Et;We<=Vt;We++)for(let ut=vt;ut<=Lt;ut++)De.push((Ye=P.default)==null?void 0:Ye.call(P,{columnIndex:ut,data:_t,key:wt({columnIndex:ut,data:_t,rowIndex:We}),isScrolling:Nt?S(ie).isScrolling:void 0,style:be(We,ut),rowIndex:We}));return De},Ne=()=>{const Ye=fi(C.innerElement),vt=Ge();return[wr(Ye,{style:S(ue),ref:G},Hr(Ye)?vt:{default:()=>vt})]};return()=>{const Ye=fi(C.containerElement),{horizontalScrollbar:vt,verticalScrollbar:Lt}=ke(),Et=Ne();return wr("div",{key:0,class:R.e("wrapper"),role:C.role},[wr(Ye,{class:C.className,style:S(ce),onScroll:Ee,onWheel:_e,ref:H},Hr(Ye)?Et:{default:()=>Et}),vt,Lt])}}}),yXe=dle({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:t},e)=>[t,e*t],getRowPosition:({rowHeight:t},e)=>[t,e*t],getEstimatedTotalHeight:({totalRow:t,rowHeight:e})=>e*t,getEstimatedTotalWidth:({totalColumn:t,columnWidth:e})=>e*t,getColumnOffset:({totalColumn:t,columnWidth:e,width:n},r,i,s,l,c)=>{n=Number(n);const a=Math.max(0,t*e-n),f=Math.min(a,r*e),p=Math.max(0,r*e-n+c+e);switch(i==="smart"&&(s>=p-n&&s<=f+n?i=Ef:i=lm),i){case g6:return f;case v6:return p;case lm:{const m=Math.round(p+(f-p)/2);return m<Math.ceil(n/2)?0:m>a+Math.floor(n/2)?a:m}case Ef:default:return s>=p&&s<=f?s:p>f||s<p?p:f}},getRowOffset:({rowHeight:t,height:e,totalRow:n},r,i,s,l,c)=>{e=Number(e);const a=Math.max(0,n*t-e),f=Math.min(a,r*t),p=Math.max(0,r*t-e+c+t);switch(i===pM&&(s>=p-e&&s<=f+e?i=Ef:i=lm),i){case g6:return f;case v6:return p;case lm:{const m=Math.round(p+(f-p)/2);return m<Math.ceil(e/2)?0:m>a+Math.floor(e/2)?a:m}case Ef:default:return s>=p&&s<=f?s:p>f||s<p?p:f}},getColumnStartIndexForOffset:({columnWidth:t,totalColumn:e},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getColumnStopIndexForStartIndex:({columnWidth:t,totalColumn:e,width:n},r,i)=>{const s=r*t,l=Math.ceil((n+i-s)/t);return Math.max(0,Math.min(e-1,r+l-1))},getRowStartIndexForOffset:({rowHeight:t,totalRow:e},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getRowStopIndexForStartIndex:({rowHeight:t,totalRow:e,height:n},r,i)=>{const s=r*t,l=Math.ceil((n+i-s)/t);return Math.max(0,Math.min(e-1,r+l-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:t,rowHeight:e})=>{}}),{max:T8,min:fle,floor:ple}=Math,bXe={column:"columnWidth",row:"rowHeight"},pO={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},Qg=(t,e,n,r)=>{const[i,s,l]=[n[r],t[bXe[r]],n[pO[r]]];if(e>l){let c=0;if(l>=0){const a=i[l];c=a.offset+a.size}for(let a=l+1;a<=e;a++){const f=s(a);i[a]={offset:c,size:f},c+=f}n[pO[r]]=e}return i[e]},Ale=(t,e,n,r,i,s)=>{for(;n<=r;){const l=n+ple((r-n)/2),c=Qg(t,l,e,s).offset;if(c===i)return l;c<i?n=l+1:r=l-1}return T8(0,n-1)},wXe=(t,e,n,r,i)=>{const s=i==="column"?t.totalColumn:t.totalRow;let l=1;for(;n<s&&Qg(t,n,e,i).offset<r;)n+=l,l*=2;return Ale(t,e,ple(n/2),fle(n,s-1),r,i)},Fq=(t,e,n,r)=>{const[i,s]=[e[r],e[pO[r]]];return(s>0?i[s].offset:0)>=n?Ale(t,e,0,s,n,r):wXe(t,e,T8(0,s),n,r)},mle=({totalRow:t},{estimatedRowHeight:e,lastVisitedRowIndex:n,row:r})=>{let i=0;if(n>=t&&(n=t-1),n>=0){const c=r[n];i=c.offset+c.size}const l=(t-n-1)*e;return i+l},gle=({totalColumn:t},{column:e,estimatedColumnWidth:n,lastVisitedColumnIndex:r})=>{let i=0;if(r>t&&(r=t-1),r>=0){const c=e[r];i=c.offset+c.size}const l=(t-r-1)*n;return i+l},xXe={column:gle,row:mle},Rq=(t,e,n,r,i,s,l)=>{const[c,a]=[s==="row"?t.height:t.width,xXe[s]],f=Qg(t,e,i,s),p=a(t,i),m=T8(0,fle(p-c,f.offset)),v=T8(0,f.offset-c+l+f.size);switch(n===pM&&(r>=v-c&&r<=m+c?n=Ef:n=lm),n){case g6:return m;case v6:return v;case lm:return Math.round(v+(m-v)/2);case Ef:default:return r>=v&&r<=m?r:v>m||r<v?v:m}},CXe=dle({name:"ElDynamicSizeGrid",getColumnPosition:(t,e,n)=>{const r=Qg(t,e,n,"column");return[r.size,r.offset]},getRowPosition:(t,e,n)=>{const r=Qg(t,e,n,"row");return[r.size,r.offset]},getColumnOffset:(t,e,n,r,i,s)=>Rq(t,e,n,r,i,"column",s),getRowOffset:(t,e,n,r,i,s)=>Rq(t,e,n,r,i,"row",s),getColumnStartIndexForOffset:(t,e,n)=>Fq(t,n,e,"column"),getColumnStopIndexForStartIndex:(t,e,n,r)=>{const i=Qg(t,e,r,"column"),s=n+t.width;let l=i.offset+i.size,c=e;for(;c<t.totalColumn-1&&l<s;)c++,l+=Qg(t,e,r,"column").size;return c},getEstimatedTotalHeight:mle,getEstimatedTotalWidth:gle,getRowStartIndexForOffset:(t,e,n)=>Fq(t,n,e,"row"),getRowStopIndexForStartIndex:(t,e,n,r)=>{const{totalRow:i,height:s}=t,l=Qg(t,e,r,"row"),c=n+s;let a=l.size+l.offset,f=e;for(;f<i-1&&a<c;)f++,a+=Qg(t,f,r,"row").size;return f},injectToInstance:(t,e)=>{const n=({columnIndex:s,rowIndex:l},c)=>{var a,f;c=Zo(c)?!0:c,Or(s)&&(e.value.lastVisitedColumnIndex=Math.min(e.value.lastVisitedColumnIndex,s-1)),Or(l)&&(e.value.lastVisitedRowIndex=Math.min(e.value.lastVisitedRowIndex,l-1)),(a=t.exposed)==null||a.getItemStyleCache.value(-1,null,null),c&&((f=t.proxy)==null||f.$forceUpdate())},r=(s,l)=>{n({columnIndex:s},l)},i=(s,l)=>{n({rowIndex:s},l)};Object.assign(t.proxy,{resetAfterColumnIndex:r,resetAfterRowIndex:i,resetAfter:n})},initCache:({estimatedColumnWidth:t=oO,estimatedRowHeight:e=oO})=>({column:{},estimatedColumnWidth:t,estimatedRowHeight:e,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:t,rowHeight:e})=>{}}),EXe=Be({props:{item:{type:Object,required:!0},style:Object,height:Number},setup(){return{ns:vn("select")}}});function SXe(t,e,n,r,i,s){return t.item.isTitle?(X(),ve("div",{key:0,class:Se(t.ns.be("group","title")),style:or([t.style,{lineHeight:`${t.height}px`}])},Cn(t.item.label),7)):(X(),ve("div",{key:1,class:Se(t.ns.be("group","split")),style:or(t.style)},[pe("span",{class:Se(t.ns.be("group","split-dash")),style:or({top:`${t.height/2}px`})},null,6)],6))}var TXe=Fn(EXe,[["render",SXe],["__file","group-item.vue"]]);function BXe(t,{emit:e}){return{hoverItem:()=>{t.disabled||e("hover",t.index)},selectOptionClick:()=>{t.disabled||e("select",t.item,t.index)}}}const vle={label:"label",value:"value",disabled:"disabled",options:"options"};function AM(t){const e=le(()=>({...vle,...t.props}));return{aliasProps:e,getLabel:l=>Oo(l,e.value.label),getValue:l=>Oo(l,e.value.value),getDisabled:l=>Oo(l,e.value.disabled),getOptions:l=>Oo(l,e.value.options)}}const MXe=Ln({allowCreate:Boolean,autocomplete:{type:Rt(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:ts,default:w0},effect:{type:Rt(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:Rt([Array,String,Number,Boolean,Object])},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:Rt(Array),required:!0},placeholder:{type:String},teleported:gu.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:Rt(Object),default:()=>({})},remote:Boolean,size:lu,props:{type:Rt(Object),default:()=>vle},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},placement:{type:Rt(String),values:Hy,default:"bottom-start"},fallbackPlacements:{type:Rt(Array),default:["bottom-start","top-start","right","left"]},tagType:{...hM.type,default:"info"},...sx,...Wu(["ariaLabel"])}),IXe=Ln({data:Array,disabled:Boolean,hovering:Boolean,item:{type:Rt(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),iU=Symbol("ElSelectV2Injection"),LXe=Be({props:IXe,emits:["select","hover"],setup(t,{emit:e}){const n=ar(iU),r=vn("select"),{hoverItem:i,selectOptionClick:s}=BXe(t,{emit:e}),{getLabel:l}=AM(n.props);return{ns:r,hoverItem:i,selectOptionClick:s,getLabel:l}}}),kXe=["aria-selected"];function PXe(t,e,n,r,i,s){return X(),ve("li",{"aria-selected":t.selected,style:or(t.style),class:Se([t.ns.be("dropdown","item"),t.ns.is("selected",t.selected),t.ns.is("disabled",t.disabled),t.ns.is("created",t.created),t.ns.is("hovering",t.hovering)]),onMouseenter:e[0]||(e[0]=(...l)=>t.hoverItem&&t.hoverItem(...l)),onClick:e[1]||(e[1]=Pr((...l)=>t.selectOptionClick&&t.selectOptionClick(...l),["stop"]))},[Ft(t.$slots,"default",{item:t.item,index:t.index,disabled:t.disabled},()=>[pe("span",null,Cn(t.getLabel(t.item)),1)])],46,kXe)}var FXe=Fn(LXe,[["render",PXe],["__file","option-item.vue"]]),RXe=Be({name:"ElSelectDropdown",props:{loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number},setup(t,{slots:e,expose:n}){const r=ar(iU),i=vn("select"),{getLabel:s,getValue:l,getDisabled:c}=AM(r.props),a=Te([]),f=Te(),p=le(()=>t.data.length);ln(()=>p.value,()=>{var q,W;(W=(q=r.tooltipRef.value).updatePopper)==null||W.call(q)});const m=le(()=>Zo(r.props.estimatedOptionHeight)),v=le(()=>m.value?{itemSize:r.props.itemHeight}:{estimatedSize:r.props.estimatedOptionHeight,itemSize:q=>a.value[q]}),y=(q=[],W)=>{const{props:{valueKey:ee}}=r;return mi(W)?q&&q.some(he=>Ka(Oo(he,ee))===Oo(W,ee)):q.includes(W)},T=(q,W)=>{if(mi(W)){const{valueKey:ee}=r.props;return Oo(q,ee)===Oo(W,ee)}else return q===W},C=(q,W)=>r.props.multiple?y(q,l(W)):T(q,l(W)),k=(q,W)=>{const{disabled:ee,multiple:he,multipleLimit:J}=r.props;return ee||!W&&(he?J>0&&q.length>=J:!1)},M=q=>t.hoveringIndex===q;n({listRef:f,isSized:m,isItemDisabled:k,isItemHovering:M,isItemSelected:C,scrollToItem:q=>{const W=f.value;W&&W.scrollToItem(q)},resetScrollTop:()=>{const q=f.value;q&&q.resetScrollTop()}});const N=q=>{const{index:W,data:ee,style:he}=q,J=S(m),{itemSize:te,estimatedSize:ne}=S(v),{modelValue:ce}=r.props,{onSelect:ue,onHover:ye}=r,Ee=ee[W];if(Ee.type==="Group")return ht(TXe,{item:Ee,style:he,height:J?te:ne},null);const se=C(ce,Ee),oe=k(ce,se),_e=M(W);return ht(FXe,Xr(q,{selected:se,disabled:c(Ee)||oe,created:!!Ee.created,hovering:_e,item:Ee,onSelect:ue,onHover:ye}),{default:Ue=>{var Le;return((Le=e.default)==null?void 0:Le.call(e,Ue))||ht("span",null,[s(Ee)])}})},{onKeyboardNavigate:z,onKeyboardSelect:H}=r,j=()=>{z("forward")},Q=()=>{z("backward")},G=()=>{r.expanded=!1},ie=q=>{const{code:W}=q,{tab:ee,esc:he,down:J,up:te,enter:ne}=Tr;switch(W!==ee&&(q.preventDefault(),q.stopPropagation()),W){case ee:case he:{G();break}case J:{j();break}case te:{Q();break}case ne:{H();break}}};return()=>{var q,W,ee,he;const{data:J,width:te}=t,{height:ne,multiple:ce,scrollbarAlwaysOn:ue}=r.props,ye=S(m)?cle:vXe;return ht("div",{class:[i.b("dropdown"),i.is("multiple",ce)],style:{width:`${te}px`}},[(q=e.header)==null?void 0:q.call(e),((W=e.loading)==null?void 0:W.call(e))||((ee=e.empty)==null?void 0:ee.call(e))||ht(ye,Xr({ref:f},S(v),{className:i.be("dropdown","list"),scrollbarAlwaysOn:ue,data:J,height:ne,width:te,total:J.length,onKeydown:ie}),{default:Ee=>ht(N,Ee,null)}),(he=e.footer)==null?void 0:he.call(e)])}}});function OXe(t,e){const{aliasProps:n,getLabel:r,getValue:i}=AM(t),s=Te(0),l=Te(null),c=le(()=>t.allowCreate&&t.filterable);function a(y){const T=C=>r(C)===y;return t.options&&t.options.some(T)||e.createdOptions.some(T)}function f(y){c.value&&(t.multiple&&y.created?s.value++:l.value=y)}function p(y){if(c.value)if(y&&y.length>0){if(a(y))return;const T={[n.value.value]:y,[n.value.label]:y,created:!0,[n.value.disabled]:!1};e.createdOptions.length>=s.value?e.createdOptions[s.value]=T:e.createdOptions.push(T)}else if(t.multiple)e.createdOptions.length=s.value;else{const T=l.value;e.createdOptions.length=0,T&&T.created&&e.createdOptions.push(T)}}function m(y){if(!c.value||!y||!y.created||y.created&&t.reserveKeyword&&e.inputValue===r(y))return;const T=e.createdOptions.findIndex(C=>i(C)===i(y));~T&&(e.createdOptions.splice(T,1),s.value--)}function v(){c.value&&(e.createdOptions.length=0,s.value=0)}return{createNewOption:p,removeNewOption:m,selectNewOption:f,clearAllNewOption:v}}const DXe=11,NXe=(t,e)=>{const{t:n}=da(),r=vn("select"),i=vn("input"),{form:s,formItem:l}=Qc(),{inputId:c}=dA(t,{formItemContext:l}),{aliasProps:a,getLabel:f,getValue:p,getDisabled:m,getOptions:v}=AM(t),{valueOnClear:y,isEmptyValue:T}=oM(t),C=ha({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),k=Te(-1),M=Te(null),P=Te(null),R=Te(null),N=Te(null),z=Te(null),H=Te(null),j=Te(null),Q=Te(null),G=Te(null),ie=Te(null),q=Te(null),{wrapperRef:W,isFocused:ee,handleFocus:he,handleBlur:J}=sM(z,{afterFocus(){t.automaticDropdown&&!ce.value&&(ce.value=!0,C.menuVisibleOnFocus=!0)},beforeBlur(jt){var Xn,kr;return((Xn=R.value)==null?void 0:Xn.isFocusInsideContent(jt))||((kr=N.value)==null?void 0:kr.isFocusInsideContent(jt))},afterBlur(){ce.value=!1,C.menuVisibleOnFocus=!1}}),te=Te([]),ne=Te([]),ce=Te(!1),ue=le(()=>t.disabled||(s==null?void 0:s.disabled)),ye=le(()=>{const jt=ne.value.length*t.itemHeight;return jt>t.height?t.height:jt}),Ee=le(()=>t.multiple?Jn(t.modelValue)&&t.modelValue.length>0:!T(t.modelValue)),se=le(()=>t.clearable&&!ue.value&&C.inputHovering&&Ee.value),oe=le(()=>t.remote&&t.filterable?"":Rm),_e=le(()=>oe.value&&r.is("reverse",ce.value)),Ue=le(()=>(l==null?void 0:l.validateState)||""),Le=le(()=>d7[Ue.value]),be=le(()=>t.remote?300:0),Re=le(()=>t.loading?t.loadingText||n("el.select.loading"):t.remote&&!C.inputValue&&te.value.length===0?!1:t.filterable&&C.inputValue&&te.value.length>0&&ne.value.length===0?t.noMatchText||n("el.select.noMatch"):te.value.length===0?t.noDataText||n("el.select.noData"):null),Qe=jt=>{const Xn=kr=>{if(t.filterable&&Dr(t.filterMethod)||t.filterable&&t.remote&&Dr(t.remoteMethod))return!0;const _r=new RegExp(r7(jt),"i");return jt?_r.test(f(kr)||""):!0};return t.loading?[]:[...C.createdOptions,...t.options].reduce((kr,_r)=>{const fa=v(_r);if(Jn(fa)){const ss=fa.filter(Xn);ss.length>0&&kr.push({label:f(_r),isTitle:!0,type:"Group"},...ss,{type:"Group"})}else(t.remote||Xn(_r))&&kr.push(_r);return kr},[])},Je=()=>{te.value=Qe(""),ne.value=Qe(C.inputValue)},nt=le(()=>{const jt=new Map;return te.value.forEach((Xn,kr)=>{jt.set(Nn(p(Xn)),{option:Xn,index:kr})}),jt}),Ve=le(()=>{const jt=new Map;return ne.value.forEach((Xn,kr)=>{jt.set(Nn(p(Xn)),{option:Xn,index:kr})}),jt}),ke=le(()=>ne.value.every(jt=>m(jt))),Ge=ml(),Ne=le(()=>Ge.value==="small"?"small":"default"),je=()=>{var jt;k.value=((jt=M.value)==null?void 0:jt.offsetWidth)||200},Ye=()=>{if(!P.value)return 0;const jt=window.getComputedStyle(P.value);return Number.parseFloat(jt.gap||"6px")},vt=le(()=>{const jt=Ye();return{maxWidth:`${q.value&&t.maxCollapseTags===1?C.selectionWidth-C.collapseItemWidth-jt:C.selectionWidth}px`}}),Lt=le(()=>({maxWidth:`${C.selectionWidth}px`})),Et=le(()=>({width:`${Math.max(C.calculatorWidth,DXe)}px`})),Vt=le(()=>Jn(t.modelValue)?t.modelValue.length===0&&!C.inputValue:t.filterable?!C.inputValue:!0),_t=le(()=>{var jt;const Xn=(jt=t.placeholder)!=null?jt:n("el.select.placeholder");return t.multiple||!Ee.value?Xn:C.selectedLabel}),qt=le(()=>{var jt,Xn;return(Xn=(jt=R.value)==null?void 0:jt.popperRef)==null?void 0:Xn.contentRef}),tn=le(()=>{if(t.multiple){const jt=t.modelValue.length;if(t.modelValue.length>0&&Ve.value.has(t.modelValue[jt-1])){const{index:Xn}=Ve.value.get(t.modelValue[jt-1]);return Xn}}else if(t.modelValue&&Ve.value.has(t.modelValue)){const{index:jt}=Ve.value.get(t.modelValue);return jt}return-1}),Nt=le({get(){return ce.value&&Re.value!==!1},set(jt){ce.value=jt}}),wt=le(()=>t.multiple?t.collapseTags?C.cachedOptions.slice(0,t.maxCollapseTags):C.cachedOptions:[]),De=le(()=>t.multiple?t.collapseTags?C.cachedOptions.slice(t.maxCollapseTags):[]:[]),{createNewOption:We,removeNewOption:ut,selectNewOption:It,clearAllNewOption:Xe}=OXe(t,C),{handleCompositionStart:kt,handleCompositionUpdate:Bt,handleCompositionEnd:it}=Zoe(jt=>Gn(jt)),Mt=()=>{ue.value||(C.menuVisibleOnFocus?C.menuVisibleOnFocus=!1:ce.value=!ce.value)},at=()=>{C.inputValue.length>0&&!ce.value&&(ce.value=!0),We(C.inputValue),St(C.inputValue)},et=Wh(at,be.value),St=jt=>{C.previousQuery!==jt&&(C.previousQuery=jt,t.filterable&&Dr(t.filterMethod)?t.filterMethod(jt):t.filterable&&t.remote&&Dr(t.remoteMethod)&&t.remoteMethod(jt),t.defaultFirstOption&&(t.filterable||t.remote)&&ne.value.length?dr(sn):dr(er))},sn=()=>{const jt=ne.value.filter(_r=>!_r.disabled&&_r.type!=="Group"),Xn=jt.find(_r=>_r.created),kr=jt[0];C.hoveringIndex=tr(ne.value,Xn||kr)},bn=jt=>{zc(t.modelValue,jt)||e(bs,jt)},gr=jt=>{e(_i,jt),bn(jt),C.previousValue=t.multiple?String(jt):jt},tr=(jt=[],Xn)=>{if(!mi(Xn))return jt.indexOf(Xn);const kr=t.valueKey;let _r=-1;return jt.some((fa,ss)=>Oo(fa,kr)===Oo(Xn,kr)?(_r=ss,!0):!1),_r},Nn=jt=>mi(jt)?Oo(jt,t.valueKey):jt,lr=()=>{je()},Qr=()=>{C.selectionWidth=P.value.getBoundingClientRect().width},Ci=()=>{C.calculatorWidth=H.value.getBoundingClientRect().width},ai=()=>{C.collapseItemWidth=q.value.getBoundingClientRect().width},Vi=()=>{var jt,Xn;(Xn=(jt=R.value)==null?void 0:jt.updatePopper)==null||Xn.call(jt)},va=()=>{var jt,Xn;(Xn=(jt=N.value)==null?void 0:jt.updatePopper)==null||Xn.call(jt)},Rr=jt=>{if(t.multiple){let Xn=t.modelValue.slice();const kr=tr(Xn,p(jt));kr>-1?(Xn=[...Xn.slice(0,kr),...Xn.slice(kr+1)],C.cachedOptions.splice(kr,1),ut(jt)):(t.multipleLimit<=0||Xn.length<t.multipleLimit)&&(Xn=[...Xn,p(jt)],C.cachedOptions.push(jt),It(jt)),gr(Xn),jt.created&&St(""),t.filterable&&!t.reserveKeyword&&(C.inputValue="")}else C.selectedLabel=f(jt),gr(p(jt)),ce.value=!1,It(jt),jt.created||Xe();Hi()},qi=(jt,Xn)=>{let kr=t.modelValue.slice();const _r=tr(kr,p(Xn));_r>-1&&!ue.value&&(kr=[...t.modelValue.slice(0,_r),...t.modelValue.slice(_r+1)],C.cachedOptions.splice(_r,1),gr(kr),e("remove-tag",p(Xn)),ut(Xn)),jt.stopPropagation(),Hi()},Hi=()=>{var jt;(jt=z.value)==null||jt.focus()},Jt=()=>{var jt;(jt=z.value)==null||jt.blur()},hn=()=>{C.inputValue.length>0?C.inputValue="":ce.value=!1},En=jt=>Wie(jt,Xn=>!C.cachedOptions.some(kr=>p(kr)===Xn&&m(kr))),Hn=jt=>{if(t.multiple&&jt.code!==Tr.delete&&C.inputValue.length===0){jt.preventDefault();const Xn=t.modelValue.slice(),kr=En(Xn);if(kr<0)return;Xn.splice(kr,1);const _r=C.cachedOptions[kr];C.cachedOptions.splice(kr,1),ut(_r),gr(Xn)}},Ht=()=>{let jt;Jn(t.modelValue)?jt=[]:jt=y.value,t.multiple?C.cachedOptions=[]:C.selectedLabel="",ce.value=!1,gr(jt),e("clear"),Xe(),Hi()},an=(jt,Xn=void 0)=>{const kr=ne.value;if(!["forward","backward"].includes(jt)||ue.value||kr.length<=0||ke.value)return;if(!ce.value)return Mt();Xn===void 0&&(Xn=C.hoveringIndex);let _r=-1;jt==="forward"?(_r=Xn+1,_r>=kr.length&&(_r=0)):jt==="backward"&&(_r=Xn-1,(_r<0||_r>=kr.length)&&(_r=kr.length-1));const fa=kr[_r];if(m(fa)||fa.type==="Group")return an(jt,_r);C.hoveringIndex=_r,Tn(_r)},In=()=>{if(ce.value)~C.hoveringIndex&&ne.value[C.hoveringIndex]&&Rr(ne.value[C.hoveringIndex]);else return Mt()},kn=jt=>{C.hoveringIndex=jt},er=()=>{t.multiple?C.hoveringIndex=ne.value.findIndex(jt=>t.modelValue.some(Xn=>Nn(Xn)===Nn(jt))):C.hoveringIndex=ne.value.findIndex(jt=>Nn(jt)===Nn(t.modelValue))},Gn=jt=>{if(C.inputValue=jt.target.value,t.remote)et();else return at()},Mr=jt=>{if(ce.value=!1,ee.value){const Xn=new FocusEvent("focus",jt);J(Xn)}},ti=()=>(C.isBeforeHide=!1,dr(()=>{~tn.value&&Tn(C.hoveringIndex)})),Tn=jt=>{G.value.scrollToItem(jt)},Kt=jt=>{const Xn=Nn(jt);if(nt.value.has(Xn)){const{option:kr}=nt.value.get(Xn);return kr}return{[a.value.value]:jt,[a.value.label]:jt}},Zn=()=>{if(t.multiple)if(t.modelValue.length>0){C.cachedOptions.length=0,C.previousValue=t.modelValue.toString();for(const jt of t.modelValue){const Xn=Kt(jt);C.cachedOptions.push(Xn)}}else C.cachedOptions=[],C.previousValue=void 0;else if(Ee.value){C.previousValue=t.modelValue;const jt=ne.value,Xn=jt.findIndex(kr=>Nn(p(kr))===Nn(t.modelValue));~Xn?C.selectedLabel=f(jt[Xn]):C.selectedLabel=Nn(t.modelValue)}else C.selectedLabel="",C.previousValue=void 0;Xe(),je()};return ln(ce,jt=>{jt?St(""):(C.inputValue="",C.previousQuery=null,C.isBeforeHide=!0,We("")),e("visible-change",jt)}),ln(()=>t.modelValue,(jt,Xn)=>{var kr;(!jt||t.multiple&&jt.toString()!==C.previousValue||!t.multiple&&Nn(jt)!==Nn(C.previousValue))&&Zn(),!zc(jt,Xn)&&t.validateEvent&&((kr=l==null?void 0:l.validate)==null||kr.call(l,"change").catch(_r=>void 0))},{deep:!0}),ln(()=>t.options,()=>{const jt=z.value;(!jt||jt&&document.activeElement!==jt)&&Zn()},{deep:!0,flush:"post"}),ln(()=>ne.value,()=>G.value&&dr(G.value.resetScrollTop)),uc(()=>{C.isBeforeHide||Je()}),uc(()=>{const{valueKey:jt,options:Xn}=t,kr=new Map;for(const _r of Xn){const fa=p(_r);let ss=fa;if(mi(ss)&&(ss=Oo(fa,jt)),kr.get(ss))break;kr.set(ss,!0)}}),Fr(()=>{Zn()}),no(M,lr),no(P,Qr),no(H,Ci),no(G,Vi),no(W,Vi),no(ie,va),no(q,ai),{inputId:c,collapseTagSize:Ne,currentPlaceholder:_t,expanded:ce,emptyText:Re,popupHeight:ye,debounce:be,allOptions:te,filteredOptions:ne,iconComponent:oe,iconReverse:_e,tagStyle:vt,collapseTagStyle:Lt,inputStyle:Et,popperSize:k,dropdownMenuVisible:Nt,hasModelValue:Ee,shouldShowPlaceholder:Vt,selectDisabled:ue,selectSize:Ge,showClearBtn:se,states:C,isFocused:ee,nsSelect:r,nsInput:i,calculatorRef:H,inputRef:z,menuRef:G,tagMenuRef:ie,tooltipRef:R,tagTooltipRef:N,selectRef:M,wrapperRef:W,selectionRef:P,prefixRef:j,suffixRef:Q,collapseItemRef:q,popperRef:qt,validateState:Ue,validateIcon:Le,showTagList:wt,collapseTagList:De,debouncedOnInputChange:et,deleteTag:qi,getLabel:f,getValue:p,getDisabled:m,getValueKey:Nn,handleBlur:J,handleClear:Ht,handleClickOutside:Mr,handleDel:Hn,handleEsc:hn,handleFocus:he,focus:Hi,blur:Jt,handleMenuEnter:ti,handleResize:lr,resetSelectionWidth:Qr,resetCalculatorWidth:Ci,updateTooltip:Vi,updateTagTooltip:va,updateOptions:Je,toggleMenu:Mt,scrollTo:Tn,onInput:Gn,onKeyboardNavigate:an,onKeyboardSelect:In,onSelect:Rr,onHover:kn,handleCompositionStart:kt,handleCompositionEnd:it,handleCompositionUpdate:Bt}},UXe=Be({name:"ElSelectV2",components:{ElSelectMenu:RXe,ElTag:A6,ElTooltip:Hc,ElIcon:Ar},directives:{ClickOutside:u0},props:MXe,emits:[_i,bs,"remove-tag","clear","visible-change","focus","blur"],setup(t,{emit:e}){const n=le(()=>{const{modelValue:i,multiple:s}=t,l=s?[]:void 0;return Jn(i)?s?i:l:s?l:i}),r=NXe(ha({...Gu(t),modelValue:n}),e);return ki(iU,{props:ha({...Gu(t),height:r.popupHeight,modelValue:n}),tooltipRef:r.tooltipRef,onSelect:r.onSelect,onHover:r.onHover,onKeyboardNavigate:r.onKeyboardNavigate,onKeyboardSelect:r.onKeyboardSelect}),{...r,modelValue:n}}}),zXe=["id","autocomplete","aria-expanded","aria-label","disabled","readonly","name"],$Xe=["textContent"];function VXe(t,e,n,r,i,s){const l=Kr("el-tag"),c=Kr("el-tooltip"),a=Kr("el-icon"),f=Kr("el-select-menu"),p=LB("click-outside");return Jr((X(),ve("div",{ref:"selectRef",class:Se([t.nsSelect.b(),t.nsSelect.m(t.selectSize)]),onMouseenter:e[14]||(e[14]=m=>t.states.inputHovering=!0),onMouseleave:e[15]||(e[15]=m=>t.states.inputHovering=!1),onClick:e[16]||(e[16]=Pr((...m)=>t.toggleMenu&&t.toggleMenu(...m),["prevent","stop"]))},[ht(c,{ref:"tooltipRef",visible:t.dropdownMenuVisible,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":t.popperOptions,"fallback-placements":t.fallbackPlacements,effect:t.effect,placement:t.placement,pure:"",transition:`${t.nsSelect.namespace.value}-zoom-in-top`,trigger:"click",persistent:t.persistent,onBeforeShow:t.handleMenuEnter,onHide:e[13]||(e[13]=m=>t.states.isBeforeHide=!1)},{default:xt(()=>[pe("div",{ref:"wrapperRef",class:Se([t.nsSelect.e("wrapper"),t.nsSelect.is("focused",t.isFocused),t.nsSelect.is("hovering",t.states.inputHovering),t.nsSelect.is("filterable",t.filterable),t.nsSelect.is("disabled",t.selectDisabled)])},[t.$slots.prefix?(X(),ve("div",{key:0,ref:"prefixRef",class:Se(t.nsSelect.e("prefix"))},[Ft(t.$slots,"prefix")],2)):bt("v-if",!0),pe("div",{ref:"selectionRef",class:Se([t.nsSelect.e("selection"),t.nsSelect.is("near",t.multiple&&!t.$slots.prefix&&!!t.modelValue.length)])},[t.multiple?Ft(t.$slots,"tag",{key:0},()=>[(X(!0),ve(Vn,null,Yr(t.showTagList,m=>(X(),ve("div",{key:t.getValueKey(t.getValue(m)),class:Se(t.nsSelect.e("selected-item"))},[ht(l,{closable:!t.selectDisabled&&!t.getDisabled(m),size:t.collapseTagSize,type:t.tagType,"disable-transitions":"",style:or(t.tagStyle),onClose:v=>t.deleteTag(v,m)},{default:xt(()=>[pe("span",{class:Se(t.nsSelect.e("tags-text"))},Cn(t.getLabel(m)),3)]),_:2},1032,["closable","size","type","style","onClose"])],2))),128)),t.collapseTags&&t.modelValue.length>t.maxCollapseTags?(X(),Ut(c,{key:0,ref:"tagTooltipRef",disabled:t.dropdownMenuVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:t.teleported},{default:xt(()=>[pe("div",{ref:"collapseItemRef",class:Se(t.nsSelect.e("selected-item"))},[ht(l,{closable:!1,size:t.collapseTagSize,type:t.tagType,style:or(t.collapseTagStyle),"disable-transitions":""},{default:xt(()=>[pe("span",{class:Se(t.nsSelect.e("tags-text"))}," + "+Cn(t.modelValue.length-t.maxCollapseTags),3)]),_:1},8,["size","type","style"])],2)]),content:xt(()=>[pe("div",{ref:"tagMenuRef",class:Se(t.nsSelect.e("selection"))},[(X(!0),ve(Vn,null,Yr(t.collapseTagList,m=>(X(),ve("div",{key:t.getValueKey(t.getValue(m)),class:Se(t.nsSelect.e("selected-item"))},[ht(l,{class:"in-tooltip",closable:!t.selectDisabled&&!t.getDisabled(m),size:t.collapseTagSize,type:t.tagType,"disable-transitions":"",onClose:v=>t.deleteTag(v,m)},{default:xt(()=>[pe("span",{class:Se(t.nsSelect.e("tags-text"))},Cn(t.getLabel(m)),3)]),_:2},1032,["closable","size","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):bt("v-if",!0)]):bt("v-if",!0),t.selectDisabled?bt("v-if",!0):(X(),ve("div",{key:1,class:Se([t.nsSelect.e("selected-item"),t.nsSelect.e("input-wrapper"),t.nsSelect.is("hidden",!t.filterable)])},[Jr(pe("input",{id:t.inputId,ref:"inputRef","onUpdate:modelValue":e[0]||(e[0]=m=>t.states.inputValue=m),style:or(t.inputStyle),autocomplete:t.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":t.expanded,"aria-label":t.ariaLabel,class:Se([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,role:"combobox",readonly:!t.filterable,spellcheck:"false",type:"text",name:t.name,onFocus:e[1]||(e[1]=(...m)=>t.handleFocus&&t.handleFocus(...m)),onBlur:e[2]||(e[2]=(...m)=>t.handleBlur&&t.handleBlur(...m)),onInput:e[3]||(e[3]=(...m)=>t.onInput&&t.onInput(...m)),onCompositionstart:e[4]||(e[4]=(...m)=>t.handleCompositionStart&&t.handleCompositionStart(...m)),onCompositionupdate:e[5]||(e[5]=(...m)=>t.handleCompositionUpdate&&t.handleCompositionUpdate(...m)),onCompositionend:e[6]||(e[6]=(...m)=>t.handleCompositionEnd&&t.handleCompositionEnd(...m)),onKeydown:[e[7]||(e[7]=Ga(Pr(m=>t.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),e[8]||(e[8]=Ga(Pr(m=>t.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),e[9]||(e[9]=Ga(Pr((...m)=>t.onKeyboardSelect&&t.onKeyboardSelect(...m),["stop","prevent"]),["enter"])),e[10]||(e[10]=Ga(Pr((...m)=>t.handleEsc&&t.handleEsc(...m),["stop","prevent"]),["esc"])),e[11]||(e[11]=Ga(Pr((...m)=>t.handleDel&&t.handleDel(...m),["stop"]),["delete"]))],onClick:e[12]||(e[12]=Pr((...m)=>t.toggleMenu&&t.toggleMenu(...m),["stop"]))},null,46,zXe),[[A9,t.states.inputValue]]),t.filterable?(X(),ve("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:Se(t.nsSelect.e("input-calculator")),textContent:Cn(t.states.inputValue)},null,10,$Xe)):bt("v-if",!0)],2)),t.shouldShowPlaceholder?(X(),ve("div",{key:2,class:Se([t.nsSelect.e("selected-item"),t.nsSelect.e("placeholder"),t.nsSelect.is("transparent",!t.hasModelValue||t.expanded&&!t.states.inputValue)])},[pe("span",null,Cn(t.currentPlaceholder),1)],2)):bt("v-if",!0)],2),pe("div",{ref:"suffixRef",class:Se(t.nsSelect.e("suffix"))},[t.iconComponent?Jr((X(),Ut(a,{key:0,class:Se([t.nsSelect.e("caret"),t.nsInput.e("icon"),t.iconReverse])},{default:xt(()=>[(X(),Ut(fi(t.iconComponent)))]),_:1},8,["class"])),[[ca,!t.showClearBtn]]):bt("v-if",!0),t.showClearBtn&&t.clearIcon?(X(),Ut(a,{key:1,class:Se([t.nsSelect.e("caret"),t.nsInput.e("icon")]),onClick:Pr(t.handleClear,["prevent","stop"])},{default:xt(()=>[(X(),Ut(fi(t.clearIcon)))]),_:1},8,["class","onClick"])):bt("v-if",!0),t.validateState&&t.validateIcon?(X(),Ut(a,{key:2,class:Se([t.nsInput.e("icon"),t.nsInput.e("validateIcon")])},{default:xt(()=>[(X(),Ut(fi(t.validateIcon)))]),_:1},8,["class"])):bt("v-if",!0)],2)],2)]),content:xt(()=>[ht(f,{ref:"menuRef",data:t.filteredOptions,width:t.popperSize,"hovering-index":t.states.hoveringIndex,"scrollbar-always-on":t.scrollbarAlwaysOn},Uo({default:xt(m=>[Ft(t.$slots,"default",ho(ou(m)))]),_:2},[t.$slots.header?{name:"header",fn:xt(()=>[pe("div",{class:Se(t.nsSelect.be("dropdown","header"))},[Ft(t.$slots,"header")],2)])}:void 0,t.$slots.loading&&t.loading?{name:"loading",fn:xt(()=>[pe("div",{class:Se(t.nsSelect.be("dropdown","loading"))},[Ft(t.$slots,"loading")],2)])}:t.loading||t.filteredOptions.length===0?{name:"empty",fn:xt(()=>[pe("div",{class:Se(t.nsSelect.be("dropdown","empty"))},[Ft(t.$slots,"empty",{},()=>[pe("span",null,Cn(t.emptyText),1)])],2)])}:void 0,t.$slots.footer?{name:"footer",fn:xt(()=>[pe("div",{class:Se(t.nsSelect.be("dropdown","footer"))},[Ft(t.$slots,"footer")],2)])}:void 0]),1032,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","fallback-placements","effect","placement","transition","persistent","onBeforeShow"])],34)),[[p,t.handleClickOutside,t.popperRef]])}var gT=Fn(UXe,[["render",VXe],["__file","select.vue"]]);gT.install=t=>{t.component(gT.name,gT)};const HXe=gT,QXe=HXe,jXe=Ln({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),GXe=Ln({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),KXe=Be({name:"ElSkeletonItem"}),WXe=Be({...KXe,props:GXe,setup(t){const e=vn("skeleton");return(n,r)=>(X(),ve("div",{class:Se([S(e).e("item"),S(e).e(n.variant)])},[n.variant==="image"?(X(),Ut(S(cae),{key:0})):bt("v-if",!0)],2))}});var B8=Fn(WXe,[["__file","skeleton-item.vue"]]);const qXe=Be({name:"ElSkeleton"}),YXe=Be({...qXe,props:jXe,setup(t,{expose:e}){const n=t,r=vn("skeleton"),i=PDe(Na(n,"loading"),n.throttle);return e({uiLoading:i}),(s,l)=>S(i)?(X(),ve("div",Xr({key:0,class:[S(r).b(),S(r).is("animated",s.animated)]},s.$attrs),[(X(!0),ve(Vn,null,Yr(s.count,c=>(X(),ve(Vn,{key:c},[s.loading?Ft(s.$slots,"template",{key:c},()=>[ht(B8,{class:Se(S(r).is("first")),variant:"p"},null,8,["class"]),(X(!0),ve(Vn,null,Yr(s.rows,a=>(X(),Ut(B8,{key:a,class:Se([S(r).e("paragraph"),S(r).is("last",a===s.rows&&s.rows>1)]),variant:"p"},null,8,["class"]))),128))]):bt("v-if",!0)],64))),128))],16)):Ft(s.$slots,"default",ho(Xr({key:1},s.$attrs)))}});var XXe=Fn(YXe,[["__file","skeleton.vue"]]);const ZXe=pi(XXe,{SkeletonItem:B8}),JXe=ao(B8),_le=Symbol("sliderContextKey"),eZe=Ln({modelValue:{type:Rt([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:lu,inputSize:lu,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:Rt(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},label:{type:String,default:void 0},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:Rt(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:Hy,default:"top"},marks:{type:Rt(Object)},validateEvent:{type:Boolean,default:!0},...Wu(["ariaLabel"])}),zk=t=>Or(t)||Jn(t)&&t.every(Or),tZe={[_i]:zk,[lh]:zk,[bs]:zk},nZe=(t,e,n)=>{const r=Te();return Fr(async()=>{t.range?(Array.isArray(t.modelValue)?(e.firstValue=Math.max(t.min,t.modelValue[0]),e.secondValue=Math.min(t.max,t.modelValue[1])):(e.firstValue=t.min,e.secondValue=t.max),e.oldValue=[e.firstValue,e.secondValue]):(typeof t.modelValue!="number"||Number.isNaN(t.modelValue)?e.firstValue=t.min:e.firstValue=Math.min(t.max,Math.max(t.min,t.modelValue)),e.oldValue=e.firstValue),_s(window,"resize",n),await dr(),n()}),{sliderWrapper:r}},rZe=t=>le(()=>t.marks?Object.keys(t.marks).map(Number.parseFloat).sort((n,r)=>n-r).filter(n=>n<=t.max&&n>=t.min).map(n=>({point:n,position:(n-t.min)*100/(t.max-t.min),mark:t.marks[n]})):[]),iZe=(t,e,n)=>{const{form:r,formItem:i}=Qc(),s=vs(),l=Te(),c=Te(),a={firstButton:l,secondButton:c},f=le(()=>t.disabled||(r==null?void 0:r.disabled)||!1),p=le(()=>Math.min(e.firstValue,e.secondValue)),m=le(()=>Math.max(e.firstValue,e.secondValue)),v=le(()=>t.range?`${100*(m.value-p.value)/(t.max-t.min)}%`:`${100*(e.firstValue-t.min)/(t.max-t.min)}%`),y=le(()=>t.range?`${100*(p.value-t.min)/(t.max-t.min)}%`:"0%"),T=le(()=>t.vertical?{height:t.height}:{}),C=le(()=>t.vertical?{height:v.value,bottom:y.value}:{width:v.value,left:y.value}),k=()=>{s.value&&(e.sliderSize=s.value[`client${t.vertical?"Height":"Width"}`])},M=q=>{const W=t.min+q*(t.max-t.min)/100;if(!t.range)return l;let ee;return Math.abs(p.value-W)<Math.abs(m.value-W)?ee=e.firstValue<e.secondValue?"firstButton":"secondButton":ee=e.firstValue>e.secondValue?"firstButton":"secondButton",a[ee]},P=q=>{const W=M(q);return W.value.setPosition(q),W},R=q=>{e.firstValue=q,z(t.range?[p.value,m.value]:q)},N=q=>{e.secondValue=q,t.range&&z([p.value,m.value])},z=q=>{n(_i,q),n(lh,q)},H=async()=>{await dr(),n(bs,t.range?[p.value,m.value]:t.modelValue)},j=q=>{var W,ee,he,J,te,ne;if(f.value||e.dragging)return;k();let ce=0;if(t.vertical){const ue=(he=(ee=(W=q.touches)==null?void 0:W.item(0))==null?void 0:ee.clientY)!=null?he:q.clientY;ce=(s.value.getBoundingClientRect().bottom-ue)/e.sliderSize*100}else{const ue=(ne=(te=(J=q.touches)==null?void 0:J.item(0))==null?void 0:te.clientX)!=null?ne:q.clientX,ye=s.value.getBoundingClientRect().left;ce=(ue-ye)/e.sliderSize*100}if(!(ce<0||ce>100))return P(ce)};return{elFormItem:i,slider:s,firstButton:l,secondButton:c,sliderDisabled:f,minValue:p,maxValue:m,runwayStyle:T,barStyle:C,resetSize:k,setPosition:P,emitChange:H,onSliderWrapperPrevent:q=>{var W,ee;((W=a.firstButton.value)!=null&&W.dragging||(ee=a.secondButton.value)!=null&&ee.dragging)&&q.preventDefault()},onSliderClick:q=>{j(q)&&H()},onSliderDown:async q=>{const W=j(q);W&&(await dr(),W.value.onButtonDown(q))},setFirstValue:R,setSecondValue:N}},{left:aZe,down:sZe,right:oZe,up:lZe,home:uZe,end:cZe,pageUp:hZe,pageDown:dZe}=Tr,fZe=(t,e,n)=>{const r=Te(),i=Te(!1),s=le(()=>e.value instanceof Function),l=le(()=>s.value&&e.value(t.modelValue)||t.modelValue),c=Wh(()=>{n.value&&(i.value=!0)},50),a=Wh(()=>{n.value&&(i.value=!1)},50);return{tooltip:r,tooltipVisible:i,formatValue:l,displayTooltip:c,hideTooltip:a}},pZe=(t,e,n)=>{const{disabled:r,min:i,max:s,step:l,showTooltip:c,precision:a,sliderSize:f,formatTooltip:p,emitChange:m,resetSize:v,updateDragging:y}=ar(_le),{tooltip:T,tooltipVisible:C,formatValue:k,displayTooltip:M,hideTooltip:P}=fZe(t,p,c),R=Te(),N=le(()=>`${(t.modelValue-i.value)/(s.value-i.value)*100}%`),z=le(()=>t.vertical?{bottom:N.value}:{left:N.value}),H=()=>{e.hovering=!0,M()},j=()=>{e.hovering=!1,e.dragging||P()},Q=se=>{r.value||(se.preventDefault(),ce(se),window.addEventListener("mousemove",ue),window.addEventListener("touchmove",ue),window.addEventListener("mouseup",ye),window.addEventListener("touchend",ye),window.addEventListener("contextmenu",ye),R.value.focus())},G=se=>{r.value||(e.newPosition=Number.parseFloat(N.value)+se/(s.value-i.value)*100,Ee(e.newPosition),m())},ie=()=>{G(-l.value)},q=()=>{G(l.value)},W=()=>{G(-l.value*4)},ee=()=>{G(l.value*4)},he=()=>{r.value||(Ee(0),m())},J=()=>{r.value||(Ee(100),m())},te=se=>{let oe=!0;[aZe,sZe].includes(se.key)?ie():[oZe,lZe].includes(se.key)?q():se.key===uZe?he():se.key===cZe?J():se.key===dZe?W():se.key===hZe?ee():oe=!1,oe&&se.preventDefault()},ne=se=>{let oe,_e;return se.type.startsWith("touch")?(_e=se.touches[0].clientY,oe=se.touches[0].clientX):(_e=se.clientY,oe=se.clientX),{clientX:oe,clientY:_e}},ce=se=>{e.dragging=!0,e.isClick=!0;const{clientX:oe,clientY:_e}=ne(se);t.vertical?e.startY=_e:e.startX=oe,e.startPosition=Number.parseFloat(N.value),e.newPosition=e.startPosition},ue=se=>{if(e.dragging){e.isClick=!1,M(),v();let oe;const{clientX:_e,clientY:Ue}=ne(se);t.vertical?(e.currentY=Ue,oe=(e.startY-e.currentY)/f.value*100):(e.currentX=_e,oe=(e.currentX-e.startX)/f.value*100),e.newPosition=e.startPosition+oe,Ee(e.newPosition)}},ye=()=>{e.dragging&&(setTimeout(()=>{e.dragging=!1,e.hovering||P(),e.isClick||Ee(e.newPosition),m()},0),window.removeEventListener("mousemove",ue),window.removeEventListener("touchmove",ue),window.removeEventListener("mouseup",ye),window.removeEventListener("touchend",ye),window.removeEventListener("contextmenu",ye))},Ee=async se=>{if(se===null||Number.isNaN(+se))return;se<0?se=0:se>100&&(se=100);const oe=100/((s.value-i.value)/l.value);let Ue=Math.round(se/oe)*oe*(s.value-i.value)*.01+i.value;Ue=Number.parseFloat(Ue.toFixed(a.value)),Ue!==t.modelValue&&n(_i,Ue),!e.dragging&&t.modelValue!==e.oldValue&&(e.oldValue=t.modelValue),await dr(),e.dragging&&M(),T.value.updatePopper()};return ln(()=>e.dragging,se=>{y(se)}),{disabled:r,button:R,tooltip:T,tooltipVisible:C,showTooltip:c,wrapperStyle:z,formatValue:k,handleMouseEnter:H,handleMouseLeave:j,onButtonDown:Q,onKeyDown:te,setPosition:Ee}},AZe=(t,e,n,r)=>({stops:le(()=>{if(!t.showStops||t.min>t.max)return[];if(t.step===0)return[];const l=(t.max-t.min)/t.step,c=100*t.step/(t.max-t.min),a=Array.from({length:l-1}).map((f,p)=>(p+1)*c);return t.range?a.filter(f=>f<100*(n.value-t.min)/(t.max-t.min)||f>100*(r.value-t.min)/(t.max-t.min)):a.filter(f=>f>100*(e.firstValue-t.min)/(t.max-t.min))}),getStopStyle:l=>t.vertical?{bottom:`${l}%`}:{left:`${l}%`}}),mZe=(t,e,n,r,i,s)=>{const l=f=>{i(_i,f),i(lh,f)},c=()=>t.range?![n.value,r.value].every((f,p)=>f===e.oldValue[p]):t.modelValue!==e.oldValue,a=()=>{var f,p;t.min>t.max&&Ul("Slider","min should not be greater than max.");const m=t.modelValue;t.range&&Array.isArray(m)?m[1]<t.min?l([t.min,t.min]):m[0]>t.max?l([t.max,t.max]):m[0]<t.min?l([t.min,m[1]]):m[1]>t.max?l([m[0],t.max]):(e.firstValue=m[0],e.secondValue=m[1],c()&&(t.validateEvent&&((f=s==null?void 0:s.validate)==null||f.call(s,"change").catch(v=>void 0)),e.oldValue=m.slice())):!t.range&&typeof m=="number"&&!Number.isNaN(m)&&(m<t.min?l(t.min):m>t.max?l(t.max):(e.firstValue=m,c()&&(t.validateEvent&&((p=s==null?void 0:s.validate)==null||p.call(s,"change").catch(v=>void 0)),e.oldValue=m)))};a(),ln(()=>e.dragging,f=>{f||a()}),ln(()=>t.modelValue,(f,p)=>{e.dragging||Array.isArray(f)&&Array.isArray(p)&&f.every((m,v)=>m===p[v])&&e.firstValue===f[0]&&e.secondValue===f[1]||a()},{deep:!0}),ln(()=>[t.min,t.max],()=>{a()})},gZe=Ln({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:Hy,default:"top"}}),vZe={[_i]:t=>Or(t)},_Ze=["tabindex"],yZe=Be({name:"ElSliderButton"}),bZe=Be({...yZe,props:gZe,emits:vZe,setup(t,{expose:e,emit:n}){const r=t,i=vn("slider"),s=ha({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:r.modelValue}),{disabled:l,button:c,tooltip:a,showTooltip:f,tooltipVisible:p,wrapperStyle:m,formatValue:v,handleMouseEnter:y,handleMouseLeave:T,onButtonDown:C,onKeyDown:k,setPosition:M}=pZe(r,s,n),{hovering:P,dragging:R}=Gu(s);return e({onButtonDown:C,onKeyDown:k,setPosition:M,hovering:P,dragging:R}),(N,z)=>(X(),ve("div",{ref_key:"button",ref:c,class:Se([S(i).e("button-wrapper"),{hover:S(P),dragging:S(R)}]),style:or(S(m)),tabindex:S(l)?-1:0,onMouseenter:z[0]||(z[0]=(...H)=>S(y)&&S(y)(...H)),onMouseleave:z[1]||(z[1]=(...H)=>S(T)&&S(T)(...H)),onMousedown:z[2]||(z[2]=(...H)=>S(C)&&S(C)(...H)),onTouchstart:z[3]||(z[3]=(...H)=>S(C)&&S(C)(...H)),onFocus:z[4]||(z[4]=(...H)=>S(y)&&S(y)(...H)),onBlur:z[5]||(z[5]=(...H)=>S(T)&&S(T)(...H)),onKeydown:z[6]||(z[6]=(...H)=>S(k)&&S(k)(...H))},[ht(S(Hc),{ref_key:"tooltip",ref:a,visible:S(p),placement:N.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":N.tooltipClass,disabled:!S(f),persistent:""},{content:xt(()=>[pe("span",null,Cn(S(v)),1)]),default:xt(()=>[pe("div",{class:Se([S(i).e("button"),{hover:S(P),dragging:S(R)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled"])],46,_Ze))}});var Oq=Fn(bZe,[["__file","button.vue"]]);const wZe=Ln({mark:{type:Rt([String,Object]),default:void 0}});var xZe=Be({name:"ElSliderMarker",props:wZe,setup(t){const e=vn("slider"),n=le(()=>Hr(t.mark)?t.mark:t.mark.label),r=le(()=>Hr(t.mark)?void 0:t.mark.style);return()=>wr("div",{class:e.e("marks-text"),style:r.value},n.value)}});const CZe=["id","role","aria-label","aria-labelledby"],EZe={key:1},SZe=Be({name:"ElSlider"}),TZe=Be({...SZe,props:eZe,emits:tZe,setup(t,{expose:e,emit:n}){const r=t,i=vn("slider"),{t:s}=da(),l=ha({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:c,slider:a,firstButton:f,secondButton:p,sliderDisabled:m,minValue:v,maxValue:y,runwayStyle:T,barStyle:C,resetSize:k,emitChange:M,onSliderWrapperPrevent:P,onSliderClick:R,onSliderDown:N,setFirstValue:z,setSecondValue:H}=iZe(r,l,n),{stops:j,getStopStyle:Q}=AZe(r,l,v,y),{inputId:G,isLabeledByFormItem:ie}=dA(r,{formItemContext:c}),q=ml(),W=le(()=>r.inputSize||q.value),ee=le(()=>r.label||r.ariaLabel||s("el.slider.defaultLabel",{min:r.min,max:r.max})),he=le(()=>r.range?r.rangeStartLabel||s("el.slider.defaultRangeStartLabel"):ee.value),J=le(()=>r.formatValueText?r.formatValueText(se.value):`${se.value}`),te=le(()=>r.rangeEndLabel||s("el.slider.defaultRangeEndLabel")),ne=le(()=>r.formatValueText?r.formatValueText(oe.value):`${oe.value}`),ce=le(()=>[i.b(),i.m(q.value),i.is("vertical",r.vertical),{[i.m("with-input")]:r.showInput}]),ue=rZe(r);mZe(r,l,v,y,n,c);const ye=le(()=>{const Le=[r.min,r.max,r.step].map(be=>{const Re=`${be}`.split(".")[1];return Re?Re.length:0});return Math.max.apply(null,Le)}),{sliderWrapper:Ee}=nZe(r,l,k),{firstValue:se,secondValue:oe,sliderSize:_e}=Gu(l),Ue=Le=>{l.dragging=Le};return ki(_le,{...Gu(r),sliderSize:_e,disabled:m,precision:ye,emitChange:M,resetSize:k,updateDragging:Ue}),wu({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-slider",ref:"https://element-plus.org/en-US/component/slider.html"},le(()=>!!r.label)),e({onSliderClick:R}),(Le,be)=>{var Re,Qe;return X(),ve("div",{id:Le.range?S(G):void 0,ref_key:"sliderWrapper",ref:Ee,class:Se(S(ce)),role:Le.range?"group":void 0,"aria-label":Le.range&&!S(ie)?S(ee):void 0,"aria-labelledby":Le.range&&S(ie)?(Re=S(c))==null?void 0:Re.labelId:void 0,onTouchstart:be[2]||(be[2]=(...Je)=>S(P)&&S(P)(...Je)),onTouchmove:be[3]||(be[3]=(...Je)=>S(P)&&S(P)(...Je))},[pe("div",{ref_key:"slider",ref:a,class:Se([S(i).e("runway"),{"show-input":Le.showInput&&!Le.range},S(i).is("disabled",S(m))]),style:or(S(T)),onMousedown:be[0]||(be[0]=(...Je)=>S(N)&&S(N)(...Je)),onTouchstart:be[1]||(be[1]=(...Je)=>S(N)&&S(N)(...Je))},[pe("div",{class:Se(S(i).e("bar")),style:or(S(C))},null,6),ht(Oq,{id:Le.range?void 0:S(G),ref_key:"firstButton",ref:f,"model-value":S(se),vertical:Le.vertical,"tooltip-class":Le.tooltipClass,placement:Le.placement,role:"slider","aria-label":Le.range||!S(ie)?S(he):void 0,"aria-labelledby":!Le.range&&S(ie)?(Qe=S(c))==null?void 0:Qe.labelId:void 0,"aria-valuemin":Le.min,"aria-valuemax":Le.range?S(oe):Le.max,"aria-valuenow":S(se),"aria-valuetext":S(J),"aria-orientation":Le.vertical?"vertical":"horizontal","aria-disabled":S(m),"onUpdate:modelValue":S(z)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),Le.range?(X(),Ut(Oq,{key:0,ref_key:"secondButton",ref:p,"model-value":S(oe),vertical:Le.vertical,"tooltip-class":Le.tooltipClass,placement:Le.placement,role:"slider","aria-label":S(te),"aria-valuemin":S(se),"aria-valuemax":Le.max,"aria-valuenow":S(oe),"aria-valuetext":S(ne),"aria-orientation":Le.vertical?"vertical":"horizontal","aria-disabled":S(m),"onUpdate:modelValue":S(H)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):bt("v-if",!0),Le.showStops?(X(),ve("div",EZe,[(X(!0),ve(Vn,null,Yr(S(j),(Je,nt)=>(X(),ve("div",{key:nt,class:Se(S(i).e("stop")),style:or(S(Q)(Je))},null,6))),128))])):bt("v-if",!0),S(ue).length>0?(X(),ve(Vn,{key:2},[pe("div",null,[(X(!0),ve(Vn,null,Yr(S(ue),(Je,nt)=>(X(),ve("div",{key:nt,style:or(S(Q)(Je.position)),class:Se([S(i).e("stop"),S(i).e("marks-stop")])},null,6))),128))]),pe("div",{class:Se(S(i).e("marks"))},[(X(!0),ve(Vn,null,Yr(S(ue),(Je,nt)=>(X(),Ut(S(xZe),{key:nt,mark:Je.mark,style:or(S(Q)(Je.position))},null,8,["mark","style"]))),128))],2)],64)):bt("v-if",!0)],38),Le.showInput&&!Le.range?(X(),Ut(S(joe),{key:0,ref:"input","model-value":S(se),class:Se(S(i).e("input")),step:Le.step,disabled:S(m),controls:Le.showInputControls,min:Le.min,max:Le.max,debounce:Le.debounce,size:S(W),"onUpdate:modelValue":S(z),onChange:S(M)},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):bt("v-if",!0)],42,CZe)}}});var BZe=Fn(TZe,[["__file","slider.vue"]]);const MZe=pi(BZe),IZe=Ln({prefixCls:{type:String}}),Dq=Be({name:"ElSpaceItem",props:IZe,setup(t,{slots:e}){const n=vn("space"),r=le(()=>`${t.prefixCls||n.b()}__item`);return()=>wr("div",{class:r.value},Ft(e,"default"))}}),Nq={small:8,default:12,large:16};function LZe(t){const e=vn("space"),n=le(()=>[e.b(),e.m(t.direction),t.class]),r=Te(0),i=Te(0),s=le(()=>{const c=t.wrap||t.fill?{flexWrap:"wrap"}:{},a={alignItems:t.alignment},f={rowGap:`${i.value}px`,columnGap:`${r.value}px`};return[c,a,f,t.style]}),l=le(()=>t.fill?{flexGrow:1,minWidth:`${t.fillRatio}%`}:{});return uc(()=>{const{size:c="small",wrap:a,direction:f,fill:p}=t;if(Jn(c)){const[m=0,v=0]=c;r.value=m,i.value=v}else{let m;Or(c)?m=c:m=Nq[c||"small"]||Nq.small,(a||p)&&f==="horizontal"?r.value=i.value=m:f==="horizontal"?(r.value=m,i.value=0):(i.value=m,r.value=0)}}),{classes:n,containerStyle:s,itemStyle:l}}const kZe=Ln({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:Rt([String,Object,Array]),default:""},style:{type:Rt([String,Array,Object]),default:""},alignment:{type:Rt(String),default:"center"},prefixCls:{type:String},spacer:{type:Rt([Object,String,Number,Array]),default:null,validator:t=>Ks(t)||Or(t)||Hr(t)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:Om,validator:t=>Or(t)||Jn(t)&&t.length===2&&t.every(Or)}}),PZe=Be({name:"ElSpace",props:kZe,setup(t,{slots:e}){const{classes:n,containerStyle:r,itemStyle:i}=LZe(t);function s(l,c="",a=[]){const{prefixCls:f}=t;return l.forEach((p,m)=>{IR(p)?Jn(p.children)&&p.children.forEach((v,y)=>{IR(v)&&Jn(v.children)?s(v.children,`${c+y}-`,a):a.push(ht(Dq,{style:i.value,prefixCls:f,key:`nested-${c+y}`},{default:()=>[v]},_f.PROPS|_f.STYLE,["style","prefixCls"]))}):mOe(p)&&a.push(ht(Dq,{style:i.value,prefixCls:f,key:`LoopKey${c+m}`},{default:()=>[p]},_f.PROPS|_f.STYLE,["style","prefixCls"]))}),a}return()=>{var l;const{spacer:c,direction:a}=t,f=Ft(e,"default",{key:0},()=>[]);if(((l=f.children)!=null?l:[]).length===0)return null;if(Jn(f.children)){let p=s(f.children);if(c){const m=p.length-1;p=p.reduce((v,y,T)=>{const C=[...v,y];return T!==m&&C.push(ht("span",{style:[i.value,a==="vertical"?"width: 100%":null],key:T},[Ks(c)?c:xi(c,_f.TEXT)],_f.STYLE)),C},[])}return ht("div",{class:n.value,style:r.value},p,_f.STYLE|_f.CLASS)}return f.children}}}),FZe=pi(PZe),RZe=Ln({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:Rt([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:Rt([String,Object,Array])}}),OZe=Be({name:"ElStatistic"}),DZe=Be({...OZe,props:RZe,setup(t,{expose:e}){const n=t,r=vn("statistic"),i=le(()=>{const{value:s,formatter:l,precision:c,decimalSeparator:a,groupSeparator:f}=n;if(Dr(l))return l(s);if(!Or(s))return s;let[p,m=""]=String(s).split(".");return m=m.padEnd(c,"0").slice(0,c>0?c:0),p=p.replace(/\B(?=(\d{3})+(?!\d))/g,f),[p,m].join(m?a:"")});return e({displayValue:i}),(s,l)=>(X(),ve("div",{class:Se(S(r).b())},[s.$slots.title||s.title?(X(),ve("div",{key:0,class:Se(S(r).e("head"))},[Ft(s.$slots,"title",{},()=>[xi(Cn(s.title),1)])],2)):bt("v-if",!0),pe("div",{class:Se(S(r).e("content"))},[s.$slots.prefix||s.prefix?(X(),ve("div",{key:0,class:Se(S(r).e("prefix"))},[Ft(s.$slots,"prefix",{},()=>[pe("span",null,Cn(s.prefix),1)])],2)):bt("v-if",!0),pe("span",{class:Se(S(r).e("number")),style:or(s.valueStyle)},Cn(S(i)),7),s.$slots.suffix||s.suffix?(X(),ve("div",{key:1,class:Se(S(r).e("suffix"))},[Ft(s.$slots,"suffix",{},()=>[pe("span",null,Cn(s.suffix),1)])],2)):bt("v-if",!0)],2)],2))}});var NZe=Fn(DZe,[["__file","statistic.vue"]]);const yle=pi(NZe),UZe=Ln({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:Rt([Number,Object]),default:0},valueStyle:{type:Rt([String,Object,Array])}}),zZe={finish:()=>!0,[bs]:t=>Or(t)},$Ze=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],Uq=t=>Or(t)?new Date(t).getTime():t.valueOf(),zq=(t,e)=>{let n=t;const r=/\[([^\]]*)]/g;return $Ze.reduce((s,[l,c])=>{const a=new RegExp(`${l}+(?![^\\[\\]]*\\])`,"g");if(a.test(s)){const f=Math.floor(n/c);return n-=f*c,s.replace(a,p=>String(f).padStart(p.length,"0"))}return s},e).replace(r,"$1")},VZe=Be({name:"ElCountdown"}),HZe=Be({...VZe,props:UZe,emits:zZe,setup(t,{expose:e,emit:n}){const r=t;let i;const s=Te(Uq(r.value)-Date.now()),l=le(()=>zq(s.value,r.format)),c=p=>zq(p,r.format),a=()=>{i&&(xy(i),i=void 0)},f=()=>{const p=Uq(r.value),m=()=>{let v=p-Date.now();n("change",v),v<=0?(v=0,a(),n("finish")):i=d1(m),s.value=v};i=d1(m)};return ln(()=>[r.value,r.format],()=>{a(),f()},{immediate:!0}),ps(()=>{a()}),e({displayValue:l}),(p,m)=>(X(),Ut(S(yle),{value:s.value,title:p.title,prefix:p.prefix,suffix:p.suffix,"value-style":p.valueStyle,formatter:c},Uo({_:2},[Yr(p.$slots,(v,y)=>({name:y,fn:xt(()=>[Ft(p.$slots,y)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var QZe=Fn(HZe,[["__file","countdown.vue"]]);const jZe=pi(QZe),GZe=Ln({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),KZe={[bs]:(t,e)=>[t,e].every(Or)},WZe=Be({name:"ElSteps"}),qZe=Be({...WZe,props:GZe,emits:KZe,setup(t,{emit:e}){const n=t,r=vn("steps"),{children:i,addChild:s,removeChild:l}=F7(ci(),"ElStep");return ln(i,()=>{i.value.forEach((c,a)=>{c.setIndex(a)})}),ki("ElSteps",{props:n,steps:i,addStep:s,removeStep:l}),ln(()=>n.active,(c,a)=>{e(bs,c,a)}),(c,a)=>(X(),ve("div",{class:Se([S(r).b(),S(r).m(c.simple?"simple":c.direction)])},[Ft(c.$slots,"default")],2))}});var YZe=Fn(qZe,[["__file","steps.vue"]]);const XZe=Ln({title:{type:String,default:""},icon:{type:ts},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),ZZe=Be({name:"ElStep"}),JZe=Be({...ZZe,props:XZe,setup(t){const e=t,n=vn("step"),r=Te(-1),i=Te({}),s=Te(""),l=ar("ElSteps"),c=ci();Fr(()=>{ln([()=>l.props.active,()=>l.props.processStatus,()=>l.props.finishStatus],([H])=>{N(H)},{immediate:!0})}),ps(()=>{l.removeStep(z.uid)});const a=le(()=>e.status||s.value),f=le(()=>{const H=l.steps.value[r.value-1];return H?H.currentStatus:"wait"}),p=le(()=>l.props.alignCenter),m=le(()=>l.props.direction==="vertical"),v=le(()=>l.props.simple),y=le(()=>l.steps.value.length),T=le(()=>{var H;return((H=l.steps.value[y.value-1])==null?void 0:H.uid)===(c==null?void 0:c.uid)}),C=le(()=>v.value?"":l.props.space),k=le(()=>[n.b(),n.is(v.value?"simple":l.props.direction),n.is("flex",T.value&&!C.value&&!p.value),n.is("center",p.value&&!m.value&&!v.value)]),M=le(()=>{const H={flexBasis:Or(C.value)?`${C.value}px`:C.value?C.value:`${100/(y.value-(p.value?0:1))}%`};return m.value||T.value&&(H.maxWidth=`${100/y.value}%`),H}),P=H=>{r.value=H},R=H=>{const j=H==="wait",Q={transitionDelay:`${j?"-":""}${150*r.value}ms`},G=H===l.props.processStatus||j?0:100;Q.borderWidth=G&&!v.value?"1px":0,Q[l.props.direction==="vertical"?"height":"width"]=`${G}%`,i.value=Q},N=H=>{H>r.value?s.value=l.props.finishStatus:H===r.value&&f.value!=="error"?s.value=l.props.processStatus:s.value="wait";const j=l.steps.value[r.value-1];j&&j.calcProgress(s.value)},z=ha({uid:c.uid,currentStatus:a,setIndex:P,calcProgress:R});return l.addStep(z),(H,j)=>(X(),ve("div",{style:or(S(M)),class:Se(S(k))},[bt(" icon & line "),pe("div",{class:Se([S(n).e("head"),S(n).is(S(a))])},[S(v)?bt("v-if",!0):(X(),ve("div",{key:0,class:Se(S(n).e("line"))},[pe("i",{class:Se(S(n).e("line-inner")),style:or(i.value)},null,6)],2)),pe("div",{class:Se([S(n).e("icon"),S(n).is(H.icon||H.$slots.icon?"icon":"text")])},[Ft(H.$slots,"icon",{},()=>[H.icon?(X(),Ut(S(Ar),{key:0,class:Se(S(n).e("icon-inner"))},{default:xt(()=>[(X(),Ut(fi(H.icon)))]),_:1},8,["class"])):S(a)==="success"?(X(),Ut(S(Ar),{key:1,class:Se([S(n).e("icon-inner"),S(n).is("status")])},{default:xt(()=>[ht(S(rx))]),_:1},8,["class"])):S(a)==="error"?(X(),Ut(S(Ar),{key:2,class:Se([S(n).e("icon-inner"),S(n).is("status")])},{default:xt(()=>[ht(S(Rf))]),_:1},8,["class"])):S(v)?bt("v-if",!0):(X(),ve("div",{key:3,class:Se(S(n).e("icon-inner"))},Cn(r.value+1),3))])],2)],2),bt(" title & description "),pe("div",{class:Se(S(n).e("main"))},[pe("div",{class:Se([S(n).e("title"),S(n).is(S(a))])},[Ft(H.$slots,"title",{},()=>[xi(Cn(H.title),1)])],2),S(v)?(X(),ve("div",{key:0,class:Se(S(n).e("arrow"))},null,2)):(X(),ve("div",{key:1,class:Se([S(n).e("description"),S(n).is(S(a))])},[Ft(H.$slots,"description",{},()=>[xi(Cn(H.description),1)])],2))],2)],6))}});var ble=Fn(JZe,[["__file","item.vue"]]);const eJe=pi(YZe,{Step:ble}),tJe=ao(ble),nJe=Ln({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},size:{type:String,validator:xae},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},inactiveActionIcon:{type:ts},activeActionIcon:{type:ts},activeIcon:{type:ts},inactiveIcon:{type:ts},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:Rt(Function)},id:String,tabindex:{type:[String,Number]},label:{type:String,default:void 0},...Wu(["ariaLabel"])}),rJe={[_i]:t=>Jo(t)||Hr(t)||Or(t),[bs]:t=>Jo(t)||Hr(t)||Or(t),[lh]:t=>Jo(t)||Hr(t)||Or(t)},iJe=["onClick"],aJe=["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"],sJe=["aria-hidden"],oJe=["aria-hidden"],lJe=["aria-hidden"],wle="ElSwitch",uJe=Be({name:wle}),cJe=Be({...uJe,props:nJe,emits:rJe,setup(t,{expose:e,emit:n}){const r=t,{formItem:i}=Qc(),s=ml(),l=vn("switch"),{inputId:c}=dA(r,{formItemContext:i}),a=fh(le(()=>r.loading)),f=Te(r.modelValue!==!1),p=Te(),m=Te(),v=le(()=>[l.b(),l.m(s.value),l.is("disabled",a.value),l.is("checked",M.value)]),y=le(()=>[l.e("label"),l.em("label","left"),l.is("active",!M.value)]),T=le(()=>[l.e("label"),l.em("label","right"),l.is("active",M.value)]),C=le(()=>({width:So(r.width)}));ln(()=>r.modelValue,()=>{f.value=!0});const k=le(()=>f.value?r.modelValue:!1),M=le(()=>k.value===r.activeValue);[r.activeValue,r.inactiveValue].includes(k.value)||(n(_i,r.inactiveValue),n(bs,r.inactiveValue),n(lh,r.inactiveValue)),ln(M,z=>{var H;p.value.checked=z,r.validateEvent&&((H=i==null?void 0:i.validate)==null||H.call(i,"change").catch(j=>void 0))});const P=()=>{const z=M.value?r.inactiveValue:r.activeValue;n(_i,z),n(bs,z),n(lh,z),dr(()=>{p.value.checked=M.value})},R=()=>{if(a.value)return;const{beforeChange:z}=r;if(!z){P();return}const H=z();[KC(H),Jo(H)].includes(!0)||Ul(wle,"beforeChange must return type `Promise<boolean>` or `boolean`"),KC(H)?H.then(Q=>{Q&&P()}).catch(Q=>{}):H&&P()},N=()=>{var z,H;(H=(z=p.value)==null?void 0:z.focus)==null||H.call(z)};return Fr(()=>{p.value.checked=M.value}),wu({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-switch",ref:"https://element-plus.org/en-US/component/switch.html"},le(()=>!!r.label)),e({focus:N,checked:M}),(z,H)=>(X(),ve("div",{class:Se(S(v)),onClick:Pr(R,["prevent"])},[pe("input",{id:S(c),ref_key:"input",ref:p,class:Se(S(l).e("input")),type:"checkbox",role:"switch","aria-checked":S(M),"aria-disabled":S(a),"aria-label":z.label||z.ariaLabel,name:z.name,"true-value":z.activeValue,"false-value":z.inactiveValue,disabled:S(a),tabindex:z.tabindex,onChange:P,onKeydown:Ga(R,["enter"])},null,42,aJe),!z.inlinePrompt&&(z.inactiveIcon||z.inactiveText)?(X(),ve("span",{key:0,class:Se(S(y))},[z.inactiveIcon?(X(),Ut(S(Ar),{key:0},{default:xt(()=>[(X(),Ut(fi(z.inactiveIcon)))]),_:1})):bt("v-if",!0),!z.inactiveIcon&&z.inactiveText?(X(),ve("span",{key:1,"aria-hidden":S(M)},Cn(z.inactiveText),9,sJe)):bt("v-if",!0)],2)):bt("v-if",!0),pe("span",{ref_key:"core",ref:m,class:Se(S(l).e("core")),style:or(S(C))},[z.inlinePrompt?(X(),ve("div",{key:0,class:Se(S(l).e("inner"))},[z.activeIcon||z.inactiveIcon?(X(),Ut(S(Ar),{key:0,class:Se(S(l).is("icon"))},{default:xt(()=>[(X(),Ut(fi(S(M)?z.activeIcon:z.inactiveIcon)))]),_:1},8,["class"])):z.activeText||z.inactiveText?(X(),ve("span",{key:1,class:Se(S(l).is("text")),"aria-hidden":!S(M)},Cn(S(M)?z.activeText:z.inactiveText),11,oJe)):bt("v-if",!0)],2)):bt("v-if",!0),pe("div",{class:Se(S(l).e("action"))},[z.loading?(X(),Ut(S(Ar),{key:0,class:Se(S(l).is("loading"))},{default:xt(()=>[ht(S(x0))]),_:1},8,["class"])):S(M)?Ft(z.$slots,"active-action",{key:1},()=>[z.activeActionIcon?(X(),Ut(S(Ar),{key:0},{default:xt(()=>[(X(),Ut(fi(z.activeActionIcon)))]),_:1})):bt("v-if",!0)]):S(M)?bt("v-if",!0):Ft(z.$slots,"inactive-action",{key:2},()=>[z.inactiveActionIcon?(X(),Ut(S(Ar),{key:0},{default:xt(()=>[(X(),Ut(fi(z.inactiveActionIcon)))]),_:1})):bt("v-if",!0)])],2)],6),!z.inlinePrompt&&(z.activeIcon||z.activeText)?(X(),ve("span",{key:1,class:Se(S(T))},[z.activeIcon?(X(),Ut(S(Ar),{key:0},{default:xt(()=>[(X(),Ut(fi(z.activeIcon)))]),_:1})):bt("v-if",!0),!z.activeIcon&&z.activeText?(X(),ve("span",{key:1,"aria-hidden":!S(M)},Cn(z.activeText),9,lJe)):bt("v-if",!0)],2)):bt("v-if",!0)],10,iJe))}});var hJe=Fn(cJe,[["__file","switch.vue"]]);const dJe=pi(hJe),$k=function(t){var e;return(e=t.target)==null?void 0:e.closest("td")},fJe=function(t,e,n,r,i){if(!e&&!r&&(!i||Array.isArray(i)&&!i.length))return t;typeof n=="string"?n=n==="descending"?-1:1:n=n&&n<0?-1:1;const s=r?null:function(c,a){return i?(Array.isArray(i)||(i=[i]),i.map(f=>typeof f=="string"?Oo(c,f):f(c,a,t))):(e!=="$key"&&mi(c)&&"$value"in c&&(c=c.$value),[mi(c)?Oo(c,e):c])},l=function(c,a){if(r)return r(c.value,a.value);for(let f=0,p=c.key.length;f<p;f++){if(c.key[f]<a.key[f])return-1;if(c.key[f]>a.key[f])return 1}return 0};return t.map((c,a)=>({value:c,index:a,key:s?s(c,a):null})).sort((c,a)=>{let f=l(c,a);return f||(f=c.index-a.index),f*+n}).map(c=>c.value)},xle=function(t,e){let n=null;return t.columns.forEach(r=>{r.id===e&&(n=r)}),n},pJe=function(t,e){let n=null;for(let r=0;r<t.columns.length;r++){const i=t.columns[r];if(i.columnKey===e){n=i;break}}return n||Ul("ElTable",`No column matching with column-key: ${e}`),n},$q=function(t,e,n){const r=(e.className||"").match(new RegExp(`${n}-table_[^\\s]+`,"gm"));return r?xle(t,r[0]):null},sc=(t,e)=>{if(!t)throw new Error("Row is required when get row identity");if(typeof e=="string"){if(!e.includes("."))return`${t[e]}`;const n=e.split(".");let r=t;for(const i of n)r=r[i];return`${r}`}else if(typeof e=="function")return e.call(null,t)},K_=function(t,e){const n={};return(t||[]).forEach((r,i)=>{n[sc(r,e)]={row:r,index:i}}),n};function AJe(t,e){const n={};let r;for(r in t)n[r]=t[r];for(r in e)if(aa(e,r)){const i=e[r];typeof i<"u"&&(n[r]=i)}return n}function aU(t){return t===""||t!==void 0&&(t=Number.parseInt(t,10),Number.isNaN(t)&&(t="")),t}function Cle(t){return t===""||t!==void 0&&(t=aU(t),Number.isNaN(t)&&(t=80)),t}function mJe(t){return typeof t=="number"?t:typeof t=="string"?/^\d+(?:px)?$/.test(t)?Number.parseInt(t,10):t:null}function gJe(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function CC(t,e,n){let r=!1;const i=t.indexOf(e),s=i!==-1,l=c=>{c==="add"?t.push(e):t.splice(i,1),r=!0,Jn(e.children)&&e.children.forEach(a=>{CC(t,a,n??!s)})};return Jo(n)?n&&!s?l("add"):!n&&s&&l("remove"):l(s?"remove":"add"),r}function vJe(t,e,n="children",r="hasChildren"){const i=l=>!(Array.isArray(l)&&l.length);function s(l,c,a){e(l,c,a),c.forEach(f=>{if(f[r]){e(f,null,a+1);return}const p=f[n];i(p)||s(f,p,a+1)})}t.forEach(l=>{if(l[r]){e(l,null,0);return}const c=l[n];i(c)||s(l,c,0)})}let mf=null;function _Je(t,e,n,r){if((mf==null?void 0:mf.trigger)===n)return;mf==null||mf();const i=r==null?void 0:r.refs.tableWrapper,s=i==null?void 0:i.dataset.prefix,l={strategy:"fixed",...t.popperOptions},c=ht(Hc,{content:e,virtualTriggering:!0,virtualRef:n,appendTo:i,placement:"top",transition:"none",offset:0,hideAfter:0,...t,popperOptions:l,onHide:()=>{mf==null||mf()}});c.appContext={...r.appContext,...r};const a=document.createElement("div");xm(c,a),c.component.exposed.onOpen();const f=i==null?void 0:i.querySelector(`.${s}-scrollbar__wrap`);mf=()=>{xm(null,a),f==null||f.removeEventListener("scroll",mf),mf=null},mf.trigger=n,f==null||f.addEventListener("scroll",mf)}function Ele(t){return t.children?D3e(t.children,Ele):[t]}function Vq(t,e){return t+e.colSpan}const Sle=(t,e,n,r)=>{let i=0,s=t;const l=n.states.columns.value;if(r){const a=Ele(r[t]);i=l.slice(0,l.indexOf(a[0])).reduce(Vq,0),s=i+a.reduce(Vq,0)-1}else i=t;let c;switch(e){case"left":s<n.states.fixedLeafColumnsLength.value&&(c="left");break;case"right":i>=l.length-n.states.rightFixedLeafColumnsLength.value&&(c="right");break;default:s<n.states.fixedLeafColumnsLength.value?c="left":i>=l.length-n.states.rightFixedLeafColumnsLength.value&&(c="right")}return c?{direction:c,start:i,after:s}:{}},sU=(t,e,n,r,i,s=0)=>{const l=[],{direction:c,start:a,after:f}=Sle(e,n,r,i);if(c){const p=c==="left";l.push(`${t}-fixed-column--${c}`),p&&f+s===r.states.fixedLeafColumnsLength.value-1?l.push("is-last-column"):!p&&a-s===r.states.columns.value.length-r.states.rightFixedLeafColumnsLength.value&&l.push("is-first-column")}return l};function Hq(t,e){return t+(e.realWidth===null||Number.isNaN(e.realWidth)?Number(e.width):e.realWidth)}const oU=(t,e,n,r)=>{const{direction:i,start:s=0,after:l=0}=Sle(t,e,n,r);if(!i)return;const c={},a=i==="left",f=n.states.columns.value;return a?c.left=f.slice(0,s).reduce(Hq,0):c.right=f.slice(l+1).reverse().reduce(Hq,0),c},R2=(t,e)=>{t&&(Number.isNaN(t[e])||(t[e]=`${t[e]}px`))};function yJe(t){const e=ci(),n=Te(!1),r=Te([]);return{updateExpandRows:()=>{const a=t.data.value||[],f=t.rowKey.value;if(n.value)r.value=a.slice();else if(f){const p=K_(r.value,f);r.value=a.reduce((m,v)=>{const y=sc(v,f);return p[y]&&m.push(v),m},[])}else r.value=[]},toggleRowExpansion:(a,f)=>{CC(r.value,a,f)&&e.emit("expand-change",a,r.value.slice())},setExpandRowKeys:a=>{e.store.assertRowKey();const f=t.data.value||[],p=t.rowKey.value,m=K_(f,p);r.value=a.reduce((v,y)=>{const T=m[y];return T&&v.push(T.row),v},[])},isRowExpanded:a=>{const f=t.rowKey.value;return f?!!K_(r.value,f)[sc(a,f)]:r.value.includes(a)},states:{expandRows:r,defaultExpandAll:n}}}function bJe(t){const e=ci(),n=Te(null),r=Te(null),i=f=>{e.store.assertRowKey(),n.value=f,l(f)},s=()=>{n.value=null},l=f=>{const{data:p,rowKey:m}=t;let v=null;m.value&&(v=(S(p)||[]).find(y=>sc(y,m.value)===f)),r.value=v,e.emit("current-change",r.value,null)};return{setCurrentRowKey:i,restoreCurrentRowKey:s,setCurrentRowByKey:l,updateCurrentRow:f=>{const p=r.value;if(f&&f!==p){r.value=f,e.emit("current-change",r.value,p);return}!f&&p&&(r.value=null,e.emit("current-change",null,p))},updateCurrentRowData:()=>{const f=t.rowKey.value,p=t.data.value||[],m=r.value;if(!p.includes(m)&&m){if(f){const v=sc(m,f);l(v)}else r.value=null;r.value===null&&e.emit("current-change",null,m)}else n.value&&(l(n.value),s())},states:{_currentRowKey:n,currentRow:r}}}function wJe(t){const e=Te([]),n=Te({}),r=Te(16),i=Te(!1),s=Te({}),l=Te("hasChildren"),c=Te("children"),a=ci(),f=le(()=>{if(!t.rowKey.value)return{};const M=t.data.value||[];return m(M)}),p=le(()=>{const M=t.rowKey.value,P=Object.keys(s.value),R={};return P.length&&P.forEach(N=>{if(s.value[N].length){const z={children:[]};s.value[N].forEach(H=>{const j=sc(H,M);z.children.push(j),H[l.value]&&!R[j]&&(R[j]={children:[]})}),R[N]=z}}),R}),m=M=>{const P=t.rowKey.value,R={};return vJe(M,(N,z,H)=>{const j=sc(N,P);Array.isArray(z)?R[j]={children:z.map(Q=>sc(Q,P)),level:H}:i.value&&(R[j]={children:[],lazy:!0,level:H})},c.value,l.value),R},v=(M=!1,P=(R=>(R=a.store)==null?void 0:R.states.defaultExpandAll.value)())=>{var R;const N=f.value,z=p.value,H=Object.keys(N),j={};if(H.length){const Q=S(n),G=[],ie=(W,ee)=>{if(M)return e.value?P||e.value.includes(ee):!!(P||W!=null&&W.expanded);{const he=P||e.value&&e.value.includes(ee);return!!(W!=null&&W.expanded||he)}};H.forEach(W=>{const ee=Q[W],he={...N[W]};if(he.expanded=ie(ee,W),he.lazy){const{loaded:J=!1,loading:te=!1}=ee||{};he.loaded=!!J,he.loading=!!te,G.push(W)}j[W]=he});const q=Object.keys(z);i.value&&q.length&&G.length&&q.forEach(W=>{const ee=Q[W],he=z[W].children;if(G.includes(W)){if(j[W].children.length!==0)throw new Error("[ElTable]children must be an empty array.");j[W].children=he}else{const{loaded:J=!1,loading:te=!1}=ee||{};j[W]={lazy:!0,loaded:!!J,loading:!!te,expanded:ie(ee,W),children:he,level:""}}})}n.value=j,(R=a.store)==null||R.updateTableScrollY()};ln(()=>e.value,()=>{v(!0)}),ln(()=>f.value,()=>{v()}),ln(()=>p.value,()=>{v()});const y=M=>{e.value=M,v()},T=(M,P)=>{a.store.assertRowKey();const R=t.rowKey.value,N=sc(M,R),z=N&&n.value[N];if(N&&z&&"expanded"in z){const H=z.expanded;P=typeof P>"u"?!z.expanded:P,n.value[N].expanded=P,H!==P&&a.emit("expand-change",M,P),a.store.updateTableScrollY()}},C=M=>{a.store.assertRowKey();const P=t.rowKey.value,R=sc(M,P),N=n.value[R];i.value&&N&&"loaded"in N&&!N.loaded?k(M,R,N):T(M,void 0)},k=(M,P,R)=>{const{load:N}=a.props;N&&!n.value[P].loaded&&(n.value[P].loading=!0,N(M,R,z=>{if(!Array.isArray(z))throw new TypeError("[ElTable] data must be an array");n.value[P].loading=!1,n.value[P].loaded=!0,n.value[P].expanded=!0,z.length&&(s.value[P]=z),a.emit("expand-change",M,!0)}))};return{loadData:k,loadOrToggle:C,toggleTreeExpansion:T,updateTreeExpandKeys:y,updateTreeData:v,normalize:m,states:{expandRowKeys:e,treeData:n,indent:r,lazy:i,lazyTreeNodeMap:s,lazyColumnIdentifier:l,childrenColumnName:c}}}const xJe=(t,e)=>{const n=e.sortingColumn;return!n||typeof n.sortable=="string"?t:fJe(t,e.sortProp,e.sortOrder,n.sortMethod,n.sortBy)},vT=t=>{const e=[];return t.forEach(n=>{n.children&&n.children.length>0?e.push.apply(e,vT(n.children)):e.push(n)}),e};function CJe(){var t;const e=ci(),{size:n}=Gu((t=e.proxy)==null?void 0:t.$props),r=Te(null),i=Te([]),s=Te([]),l=Te(!1),c=Te([]),a=Te([]),f=Te([]),p=Te([]),m=Te([]),v=Te([]),y=Te([]),T=Te([]),C=[],k=Te(0),M=Te(0),P=Te(0),R=Te(!1),N=Te([]),z=Te(!1),H=Te(!1),j=Te(null),Q=Te({}),G=Te(null),ie=Te(null),q=Te(null),W=Te(null),ee=Te(null);ln(i,()=>e.state&&ne(!1),{deep:!0});const he=()=>{if(!r.value)throw new Error("[ElTable] prop row-key is required")},J=It=>{var Xe;(Xe=It.children)==null||Xe.forEach(kt=>{kt.fixed=It.fixed,J(kt)})},te=()=>{c.value.forEach(it=>{J(it)}),p.value=c.value.filter(it=>it.fixed===!0||it.fixed==="left"),m.value=c.value.filter(it=>it.fixed==="right"),p.value.length>0&&c.value[0]&&c.value[0].type==="selection"&&!c.value[0].fixed&&(c.value[0].fixed=!0,p.value.unshift(c.value[0]));const It=c.value.filter(it=>!it.fixed);a.value=[].concat(p.value).concat(It).concat(m.value);const Xe=vT(It),kt=vT(p.value),Bt=vT(m.value);k.value=Xe.length,M.value=kt.length,P.value=Bt.length,f.value=[].concat(kt).concat(Xe).concat(Bt),l.value=p.value.length>0||m.value.length>0},ne=(It,Xe=!1)=>{It&&te(),Xe?e.state.doLayout():e.state.debouncedUpdateLayout()},ce=It=>N.value.includes(It),ue=()=>{R.value=!1,N.value.length&&(N.value=[],e.emit("selection-change",[]))},ye=()=>{let It;if(r.value){It=[];const Xe=K_(N.value,r.value),kt=K_(i.value,r.value);for(const Bt in Xe)aa(Xe,Bt)&&!kt[Bt]&&It.push(Xe[Bt].row)}else It=N.value.filter(Xe=>!i.value.includes(Xe));if(It.length){const Xe=N.value.filter(kt=>!It.includes(kt));N.value=Xe,e.emit("selection-change",Xe.slice())}},Ee=()=>(N.value||[]).slice(),se=(It,Xe=void 0,kt=!0)=>{if(CC(N.value,It,Xe)){const it=(N.value||[]).slice();kt&&e.emit("select",it,It),e.emit("selection-change",it)}},oe=()=>{var It,Xe;const kt=H.value?!R.value:!(R.value||N.value.length);R.value=kt;let Bt=!1,it=0;const Mt=(Xe=(It=e==null?void 0:e.store)==null?void 0:It.states)==null?void 0:Xe.rowKey.value;i.value.forEach((at,et)=>{const St=et+it;j.value?j.value.call(null,at,St)&&CC(N.value,at,kt)&&(Bt=!0):CC(N.value,at,kt)&&(Bt=!0),it+=Le(sc(at,Mt))}),Bt&&e.emit("selection-change",N.value?N.value.slice():[]),e.emit("select-all",N.value)},_e=()=>{const It=K_(N.value,r.value);i.value.forEach(Xe=>{const kt=sc(Xe,r.value),Bt=It[kt];Bt&&(N.value[Bt.index]=Xe)})},Ue=()=>{var It,Xe,kt;if(((It=i.value)==null?void 0:It.length)===0){R.value=!1;return}let Bt;r.value&&(Bt=K_(N.value,r.value));const it=function(St){return Bt?!!Bt[sc(St,r.value)]:N.value.includes(St)};let Mt=!0,at=0,et=0;for(let St=0,sn=(i.value||[]).length;St<sn;St++){const bn=(kt=(Xe=e==null?void 0:e.store)==null?void 0:Xe.states)==null?void 0:kt.rowKey.value,gr=St+et,tr=i.value[St],Nn=j.value&&j.value.call(null,tr,gr);if(it(tr))at++;else if(!j.value||Nn){Mt=!1;break}et+=Le(sc(tr,bn))}at===0&&(Mt=!1),R.value=Mt},Le=It=>{var Xe;if(!e||!e.store)return 0;const{treeData:kt}=e.store.states;let Bt=0;const it=(Xe=kt.value[It])==null?void 0:Xe.children;return it&&(Bt+=it.length,it.forEach(Mt=>{Bt+=Le(Mt)})),Bt},be=(It,Xe)=>{Array.isArray(It)||(It=[It]);const kt={};return It.forEach(Bt=>{Q.value[Bt.id]=Xe,kt[Bt.columnKey||Bt.id]=Xe}),kt},Re=(It,Xe,kt)=>{ie.value&&ie.value!==It&&(ie.value.order=null),ie.value=It,q.value=Xe,W.value=kt},Qe=()=>{let It=S(s);Object.keys(Q.value).forEach(Xe=>{const kt=Q.value[Xe];if(!kt||kt.length===0)return;const Bt=xle({columns:f.value},Xe);Bt&&Bt.filterMethod&&(It=It.filter(it=>kt.some(Mt=>Bt.filterMethod.call(null,Mt,it,Bt))))}),G.value=It},Je=()=>{i.value=xJe(G.value,{sortingColumn:ie.value,sortProp:q.value,sortOrder:W.value})},nt=(It=void 0)=>{It&&It.filter||Qe(),Je()},Ve=It=>{const{tableHeaderRef:Xe}=e.refs;if(!Xe)return;const kt=Object.assign({},Xe.filterPanels),Bt=Object.keys(kt);if(Bt.length)if(typeof It=="string"&&(It=[It]),Array.isArray(It)){const it=It.map(Mt=>pJe({columns:f.value},Mt));Bt.forEach(Mt=>{const at=it.find(et=>et.id===Mt);at&&(at.filteredValue=[])}),e.store.commit("filterChange",{column:it,values:[],silent:!0,multi:!0})}else Bt.forEach(it=>{const Mt=f.value.find(at=>at.id===it);Mt&&(Mt.filteredValue=[])}),Q.value={},e.store.commit("filterChange",{column:{},values:[],silent:!0})},ke=()=>{ie.value&&(Re(null,null,null),e.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:Ge,toggleRowExpansion:Ne,updateExpandRows:je,states:Ye,isRowExpanded:vt}=yJe({data:i,rowKey:r}),{updateTreeExpandKeys:Lt,toggleTreeExpansion:Et,updateTreeData:Vt,loadOrToggle:_t,states:qt}=wJe({data:i,rowKey:r}),{updateCurrentRowData:tn,updateCurrentRow:Nt,setCurrentRowKey:wt,states:De}=bJe({data:i,rowKey:r});return{assertRowKey:he,updateColumns:te,scheduleLayout:ne,isSelected:ce,clearSelection:ue,cleanSelection:ye,getSelectionRows:Ee,toggleRowSelection:se,_toggleAllSelection:oe,toggleAllSelection:null,updateSelectionByRowKey:_e,updateAllSelected:Ue,updateFilters:be,updateCurrentRow:Nt,updateSort:Re,execFilter:Qe,execSort:Je,execQuery:nt,clearFilter:Ve,clearSort:ke,toggleRowExpansion:Ne,setExpandRowKeysAdapter:It=>{Ge(It),Lt(It)},setCurrentRowKey:wt,toggleRowExpansionAdapter:(It,Xe)=>{f.value.some(({type:Bt})=>Bt==="expand")?Ne(It,Xe):Et(It,Xe)},isRowExpanded:vt,updateExpandRows:je,updateCurrentRowData:tn,loadOrToggle:_t,updateTreeData:Vt,states:{tableSize:n,rowKey:r,data:i,_data:s,isComplex:l,_columns:c,originColumns:a,columns:f,fixedColumns:p,rightFixedColumns:m,leafColumns:v,fixedLeafColumns:y,rightFixedLeafColumns:T,updateOrderFns:C,leafColumnsLength:k,fixedLeafColumnsLength:M,rightFixedLeafColumnsLength:P,isAllSelected:R,selection:N,reserveSelection:z,selectOnIndeterminate:H,selectable:j,filters:Q,filteredData:G,sortingColumn:ie,sortProp:q,sortOrder:W,hoverRow:ee,...Ye,...qt,...De}}}function AO(t,e){return t.map(n=>{var r;return n.id===e.id?e:((r=n.children)!=null&&r.length&&(n.children=AO(n.children,e)),n)})}function mO(t){t.forEach(e=>{var n,r;e.no=(n=e.getColumnIndex)==null?void 0:n.call(e),(r=e.children)!=null&&r.length&&mO(e.children)}),t.sort((e,n)=>e.no-n.no)}function EJe(){const t=ci(),e=CJe();return{ns:vn("table"),...e,mutations:{setData(l,c){const a=S(l._data)!==c;l.data.value=c,l._data.value=c,t.store.execQuery(),t.store.updateCurrentRowData(),t.store.updateExpandRows(),t.store.updateTreeData(t.store.states.defaultExpandAll.value),S(l.reserveSelection)?(t.store.assertRowKey(),t.store.updateSelectionByRowKey()):a?t.store.clearSelection():t.store.cleanSelection(),t.store.updateAllSelected(),t.$ready&&t.store.scheduleLayout()},insertColumn(l,c,a,f){const p=S(l._columns);let m=[];a?(a&&!a.children&&(a.children=[]),a.children.push(c),m=AO(p,a)):(p.push(c),m=p),mO(m),l._columns.value=m,l.updateOrderFns.push(f),c.type==="selection"&&(l.selectable.value=c.selectable,l.reserveSelection.value=c.reserveSelection),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},updateColumnOrder(l,c){var a;((a=c.getColumnIndex)==null?void 0:a.call(c))!==c.no&&(mO(l._columns.value),t.$ready&&t.store.updateColumns())},removeColumn(l,c,a,f){const p=S(l._columns)||[];if(a)a.children.splice(a.children.findIndex(v=>v.id===c.id),1),dr(()=>{var v;((v=a.children)==null?void 0:v.length)===0&&delete a.children}),l._columns.value=AO(p,a);else{const v=p.indexOf(c);v>-1&&(p.splice(v,1),l._columns.value=p)}const m=l.updateOrderFns.indexOf(f);m>-1&&l.updateOrderFns.splice(m,1),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},sort(l,c){const{prop:a,order:f,init:p}=c;if(a){const m=S(l.columns).find(v=>v.property===a);m&&(m.order=f,t.store.updateSort(m,a,f),t.store.commit("changeSortCondition",{init:p}))}},changeSortCondition(l,c){const{sortingColumn:a,sortProp:f,sortOrder:p}=l,m=S(a),v=S(f),y=S(p);y===null&&(l.sortingColumn.value=null,l.sortProp.value=null);const T={filter:!0};t.store.execQuery(T),(!c||!(c.silent||c.init))&&t.emit("sort-change",{column:m,prop:v,order:y}),t.store.updateTableScrollY()},filterChange(l,c){const{column:a,values:f,silent:p}=c,m=t.store.updateFilters(a,f);t.store.execQuery(),p||t.emit("filter-change",m),t.store.updateTableScrollY()},toggleAllSelection(){t.store.toggleAllSelection()},rowSelectedChanged(l,c){t.store.toggleRowSelection(c),t.store.updateAllSelected()},setHoverRow(l,c){l.hoverRow.value=c},setCurrentRow(l,c){t.store.updateCurrentRow(c)}},commit:function(l,...c){const a=t.store.mutations;if(a[l])a[l].apply(t,[t.store.states].concat(c));else throw new Error(`Action not found: ${l}`)},updateTableScrollY:function(){dr(()=>t.layout.updateScrollY.apply(t.layout))}}}const EC={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"}};function SJe(t,e){if(!t)throw new Error("Table is required.");const n=EJe();return n.toggleAllSelection=Wh(n._toggleAllSelection,10),Object.keys(EC).forEach(r=>{Tle(Ble(e,r),r,n)}),TJe(n,e),n}function TJe(t,e){Object.keys(EC).forEach(n=>{ln(()=>Ble(e,n),r=>{Tle(r,n,t)})})}function Tle(t,e,n){let r=t,i=EC[e];typeof EC[e]=="object"&&(i=i.key,r=r||EC[e].default),n.states[i].value=r}function Ble(t,e){if(e.includes(".")){const n=e.split(".");let r=t;return n.forEach(i=>{r=r[i]}),r}else return t[e]}class BJe{constructor(e){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=Te(null),this.scrollX=Te(!1),this.scrollY=Te(!1),this.bodyWidth=Te(null),this.fixedWidth=Te(null),this.rightFixedWidth=Te(null),this.gutterWidth=0;for(const n in e)aa(e,n)&&(fs(this[n])?this[n].value=e[n]:this[n]=e[n]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const n=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(n!=null&&n.wrapRef)){let r=!0;const i=this.scrollY.value;return r=n.wrapRef.scrollHeight>n.wrapRef.clientHeight,this.scrollY.value=r,i!==r}return!1}setHeight(e,n="height"){if(!ra)return;const r=this.table.vnode.el;if(e=mJe(e),this.height.value=Number(e),!r&&(e||e===0))return dr(()=>this.setHeight(e,n));typeof e=="number"?(r.style[n]=`${e}px`,this.updateElsHeight()):typeof e=="string"&&(r.style[n]=e,this.updateElsHeight())}setMaxHeight(e){this.setHeight(e,"max-height")}getFlattenColumns(){const e=[];return this.table.store.states.columns.value.forEach(r=>{r.isColumnGroup?e.push.apply(e,r.columns):e.push(r)}),e}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(e){if(!e)return!0;let n=e;for(;n.tagName!=="DIV";){if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}updateColumnsWidth(){if(!ra)return;const e=this.fit,n=this.table.vnode.el.clientWidth;let r=0;const i=this.getFlattenColumns(),s=i.filter(a=>typeof a.width!="number");if(i.forEach(a=>{typeof a.width=="number"&&a.realWidth&&(a.realWidth=null)}),s.length>0&&e){if(i.forEach(a=>{r+=Number(a.width||a.minWidth||80)}),r<=n){this.scrollX.value=!1;const a=n-r;if(s.length===1)s[0].realWidth=Number(s[0].minWidth||80)+a;else{const f=s.reduce((v,y)=>v+Number(y.minWidth||80),0),p=a/f;let m=0;s.forEach((v,y)=>{if(y===0)return;const T=Math.floor(Number(v.minWidth||80)*p);m+=T,v.realWidth=Number(v.minWidth||80)+T}),s[0].realWidth=Number(s[0].minWidth||80)+a-m}}else this.scrollX.value=!0,s.forEach(a=>{a.realWidth=Number(a.minWidth)});this.bodyWidth.value=Math.max(r,n),this.table.state.resizeState.value.width=this.bodyWidth.value}else i.forEach(a=>{!a.width&&!a.minWidth?a.realWidth=80:a.realWidth=Number(a.width||a.minWidth),r+=a.realWidth}),this.scrollX.value=r>n,this.bodyWidth.value=r;const l=this.store.states.fixedColumns.value;if(l.length>0){let a=0;l.forEach(f=>{a+=Number(f.realWidth||f.width)}),this.fixedWidth.value=a}const c=this.store.states.rightFixedColumns.value;if(c.length>0){let a=0;c.forEach(f=>{a+=Number(f.realWidth||f.width)}),this.rightFixedWidth.value=a}this.notifyObservers("columns")}addObserver(e){this.observers.push(e)}removeObserver(e){const n=this.observers.indexOf(e);n!==-1&&this.observers.splice(n,1)}notifyObservers(e){this.observers.forEach(r=>{var i,s;switch(e){case"columns":(i=r.state)==null||i.onColumnsChange(this);break;case"scrollable":(s=r.state)==null||s.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${e}.`)}})}}const{CheckboxGroup:MJe}=Nf,IJe=Be({name:"ElTableFilterPanel",components:{ElCheckbox:Nf,ElCheckboxGroup:MJe,ElScrollbar:E0,ElTooltip:Hc,ElIcon:Ar,ArrowDown:Rm,ArrowUp:ZB},directives:{ClickOutside:u0},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function}},setup(t){const e=ci(),{t:n}=da(),r=vn("table-filter"),i=e==null?void 0:e.parent;i.filterPanels.value[t.column.id]||(i.filterPanels.value[t.column.id]=e);const s=Te(!1),l=Te(null),c=le(()=>t.column&&t.column.filters),a=le(()=>t.column.filterClassName?`${r.b()} ${t.column.filterClassName}`:r.b()),f=le({get:()=>{var z;return(((z=t.column)==null?void 0:z.filteredValue)||[])[0]},set:z=>{p.value&&(typeof z<"u"&&z!==null?p.value.splice(0,1,z):p.value.splice(0,1))}}),p=le({get(){return t.column?t.column.filteredValue||[]:[]},set(z){t.column&&t.upDataColumn("filteredValue",z)}}),m=le(()=>t.column?t.column.filterMultiple:!0),v=z=>z.value===f.value,y=()=>{s.value=!1},T=z=>{z.stopPropagation(),s.value=!s.value},C=()=>{s.value=!1},k=()=>{R(p.value),y()},M=()=>{p.value=[],R(p.value),y()},P=z=>{f.value=z,R(typeof z<"u"&&z!==null?p.value:[]),y()},R=z=>{t.store.commit("filterChange",{column:t.column,values:z}),t.store.updateAllSelected()};ln(s,z=>{t.column&&t.upDataColumn("filterOpened",z)},{immediate:!0});const N=le(()=>{var z,H;return(H=(z=l.value)==null?void 0:z.popperRef)==null?void 0:H.contentRef});return{tooltipVisible:s,multiple:m,filterClassName:a,filteredValue:p,filterValue:f,filters:c,handleConfirm:k,handleReset:M,handleSelect:P,isActive:v,t:n,ns:r,showFilterPanel:T,hideFilterPanel:C,popperPaneRef:N,tooltip:l}}}),LJe={key:0},kJe=["disabled"],PJe=["label","onClick"];function FJe(t,e,n,r,i,s){const l=Kr("el-checkbox"),c=Kr("el-checkbox-group"),a=Kr("el-scrollbar"),f=Kr("arrow-up"),p=Kr("arrow-down"),m=Kr("el-icon"),v=Kr("el-tooltip"),y=LB("click-outside");return X(),Ut(v,{ref:"tooltip",visible:t.tooltipVisible,offset:0,placement:t.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":t.filterClassName,persistent:""},{content:xt(()=>[t.multiple?(X(),ve("div",LJe,[pe("div",{class:Se(t.ns.e("content"))},[ht(a,{"wrap-class":t.ns.e("wrap")},{default:xt(()=>[ht(c,{modelValue:t.filteredValue,"onUpdate:modelValue":e[0]||(e[0]=T=>t.filteredValue=T),class:Se(t.ns.e("checkbox-group"))},{default:xt(()=>[(X(!0),ve(Vn,null,Yr(t.filters,T=>(X(),Ut(l,{key:T.value,value:T.value},{default:xt(()=>[xi(Cn(T.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","class"])]),_:1},8,["wrap-class"])],2),pe("div",{class:Se(t.ns.e("bottom"))},[pe("button",{class:Se({[t.ns.is("disabled")]:t.filteredValue.length===0}),disabled:t.filteredValue.length===0,type:"button",onClick:e[1]||(e[1]=(...T)=>t.handleConfirm&&t.handleConfirm(...T))},Cn(t.t("el.table.confirmFilter")),11,kJe),pe("button",{type:"button",onClick:e[2]||(e[2]=(...T)=>t.handleReset&&t.handleReset(...T))},Cn(t.t("el.table.resetFilter")),1)],2)])):(X(),ve("ul",{key:1,class:Se(t.ns.e("list"))},[pe("li",{class:Se([t.ns.e("list-item"),{[t.ns.is("active")]:t.filterValue===void 0||t.filterValue===null}]),onClick:e[3]||(e[3]=T=>t.handleSelect(null))},Cn(t.t("el.table.clearFilter")),3),(X(!0),ve(Vn,null,Yr(t.filters,T=>(X(),ve("li",{key:T.value,class:Se([t.ns.e("list-item"),t.ns.is("active",t.isActive(T))]),label:T.value,onClick:C=>t.handleSelect(T.value)},Cn(T.text),11,PJe))),128))],2))]),default:xt(()=>[Jr((X(),ve("span",{class:Se([`${t.ns.namespace.value}-table__column-filter-trigger`,`${t.ns.namespace.value}-none-outline`]),onClick:e[4]||(e[4]=(...T)=>t.showFilterPanel&&t.showFilterPanel(...T))},[ht(m,null,{default:xt(()=>[t.column.filterOpened?(X(),Ut(f,{key:0})):(X(),Ut(p,{key:1}))]),_:1})],2)),[[y,t.hideFilterPanel,t.popperPaneRef]])]),_:1},8,["visible","placement","popper-class"])}var RJe=Fn(IJe,[["render",FJe],["__file","filter-panel.vue"]]);function Mle(t){const e=ci();RB(()=>{n.value.addObserver(e)}),Fr(()=>{r(n.value),i(n.value)}),_0(()=>{r(n.value),i(n.value)}),Hf(()=>{n.value.removeObserver(e)});const n=le(()=>{const s=t.layout;if(!s)throw new Error("Can not find table layout.");return s}),r=s=>{var l;const c=((l=t.vnode.el)==null?void 0:l.querySelectorAll("colgroup > col"))||[];if(!c.length)return;const a=s.getFlattenColumns(),f={};a.forEach(p=>{f[p.id]=p});for(let p=0,m=c.length;p<m;p++){const v=c[p],y=v.getAttribute("name"),T=f[y];T&&v.setAttribute("width",T.realWidth||T.width)}},i=s=>{var l,c;const a=((l=t.vnode.el)==null?void 0:l.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let p=0,m=a.length;p<m;p++)a[p].setAttribute("width",s.scrollY.value?s.gutterWidth:"0");const f=((c=t.vnode.el)==null?void 0:c.querySelectorAll("th.gutter"))||[];for(let p=0,m=f.length;p<m;p++){const v=f[p];v.style.width=s.scrollY.value?`${s.gutterWidth}px`:"0",v.style.display=s.scrollY.value?"":"none"}};return{tableLayout:n.value,onColumnsChange:r,onScrollableChange:i}}const Dm=Symbol("ElTable");function OJe(t,e){const n=ci(),r=ar(Dm),i=C=>{C.stopPropagation()},s=(C,k)=>{!k.filters&&k.sortable?T(C,k,!1):k.filterable&&!k.sortable&&i(C),r==null||r.emit("header-click",k,C)},l=(C,k)=>{r==null||r.emit("header-contextmenu",k,C)},c=Te(null),a=Te(!1),f=Te({}),p=(C,k)=>{if(ra&&!(k.children&&k.children.length>0)&&c.value&&t.border){a.value=!0;const M=r;e("set-drag-visible",!0);const R=(M==null?void 0:M.vnode.el).getBoundingClientRect().left,N=n.vnode.el.querySelector(`th.${k.id}`),z=N.getBoundingClientRect(),H=z.left-R+30;Cf(N,"noclick"),f.value={startMouseLeft:C.clientX,startLeft:z.right-R,startColumnLeft:z.left-R,tableLeft:R};const j=M==null?void 0:M.refs.resizeProxy;j.style.left=`${f.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const Q=ie=>{const q=ie.clientX-f.value.startMouseLeft,W=f.value.startLeft+q;j.style.left=`${Math.max(H,W)}px`},G=()=>{if(a.value){const{startColumnLeft:ie,startLeft:q}=f.value,ee=Number.parseInt(j.style.left,10)-ie;k.width=k.realWidth=ee,M==null||M.emit("header-dragend",k.width,q-ie,k,C),requestAnimationFrame(()=>{t.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",a.value=!1,c.value=null,f.value={},e("set-drag-visible",!1)}document.removeEventListener("mousemove",Q),document.removeEventListener("mouseup",G),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{$c(N,"noclick")},0)};document.addEventListener("mousemove",Q),document.addEventListener("mouseup",G)}},m=(C,k)=>{if(k.children&&k.children.length>0)return;const M=C.target;if(!Ff(M))return;const P=M==null?void 0:M.closest("th");if(!(!k||!k.resizable)&&!a.value&&t.border){const R=P.getBoundingClientRect(),N=document.body.style;R.width>12&&R.right-C.pageX<8?(N.cursor="col-resize",Lf(P,"is-sortable")&&(P.style.cursor="col-resize"),c.value=k):a.value||(N.cursor="",Lf(P,"is-sortable")&&(P.style.cursor="pointer"),c.value=null)}},v=()=>{ra&&(document.body.style.cursor="")},y=({order:C,sortOrders:k})=>{if(C==="")return k[0];const M=k.indexOf(C||null);return k[M>k.length-2?0:M+1]},T=(C,k,M)=>{var P;C.stopPropagation();const R=k.order===M?null:M||y(k),N=(P=C.target)==null?void 0:P.closest("th");if(N&&Lf(N,"noclick")){$c(N,"noclick");return}if(!k.sortable)return;const z=t.store.states;let H=z.sortProp.value,j;const Q=z.sortingColumn.value;(Q!==k||Q===k&&Q.order===null)&&(Q&&(Q.order=null),z.sortingColumn.value=k,H=k.property),R?j=k.order=R:j=k.order=null,z.sortProp.value=H,z.sortOrder.value=j,r==null||r.store.commit("changeSortCondition")};return{handleHeaderClick:s,handleHeaderContextMenu:l,handleMouseDown:p,handleMouseMove:m,handleMouseOut:v,handleSortClick:T,handleFilterClick:i}}function DJe(t){const e=ar(Dm),n=vn("table");return{getHeaderRowStyle:c=>{const a=e==null?void 0:e.props.headerRowStyle;return typeof a=="function"?a.call(null,{rowIndex:c}):a},getHeaderRowClass:c=>{const a=[],f=e==null?void 0:e.props.headerRowClassName;return typeof f=="string"?a.push(f):typeof f=="function"&&a.push(f.call(null,{rowIndex:c})),a.join(" ")},getHeaderCellStyle:(c,a,f,p)=>{var m;let v=(m=e==null?void 0:e.props.headerCellStyle)!=null?m:{};typeof v=="function"&&(v=v.call(null,{rowIndex:c,columnIndex:a,row:f,column:p}));const y=oU(a,p.fixed,t.store,f);return R2(y,"left"),R2(y,"right"),Object.assign({},v,y)},getHeaderCellClass:(c,a,f,p)=>{const m=sU(n.b(),a,p.fixed,t.store,f),v=[p.id,p.order,p.headerAlign,p.className,p.labelClassName,...m];p.children||v.push("is-leaf"),p.sortable&&v.push("is-sortable");const y=e==null?void 0:e.props.headerCellClassName;return typeof y=="string"?v.push(y):typeof y=="function"&&v.push(y.call(null,{rowIndex:c,columnIndex:a,row:f,column:p})),v.push(n.e("cell")),v.filter(T=>!!T).join(" ")}}}const Ile=t=>{const e=[];return t.forEach(n=>{n.children?(e.push(n),e.push.apply(e,Ile(n.children))):e.push(n)}),e},NJe=t=>{let e=1;const n=(s,l)=>{if(l&&(s.level=l.level+1,e<s.level&&(e=s.level)),s.children){let c=0;s.children.forEach(a=>{n(a,s),c+=a.colSpan}),s.colSpan=c}else s.colSpan=1};t.forEach(s=>{s.level=1,n(s,void 0)});const r=[];for(let s=0;s<e;s++)r.push([]);return Ile(t).forEach(s=>{s.children?(s.rowSpan=1,s.children.forEach(l=>l.isSubColumn=!0)):s.rowSpan=e-s.level+1,r[s.level-1].push(s)}),r};function UJe(t){const e=ar(Dm),n=le(()=>NJe(t.store.states.originColumns.value));return{isGroup:le(()=>{const s=n.value.length>1;return s&&e&&(e.state.isGroup.value=!0),s}),toggleAllSelection:s=>{s.stopPropagation(),e==null||e.store.commit("toggleAllSelection")},columnRows:n}}var zJe=Be({name:"ElTableHeader",components:{ElCheckbox:Nf},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(t,{emit:e}){const n=ci(),r=ar(Dm),i=vn("table"),s=Te({}),{onColumnsChange:l,onScrollableChange:c}=Mle(r);Fr(async()=>{await dr(),await dr();const{prop:H,order:j}=t.defaultSort;r==null||r.store.commit("sort",{prop:H,order:j,init:!0})});const{handleHeaderClick:a,handleHeaderContextMenu:f,handleMouseDown:p,handleMouseMove:m,handleMouseOut:v,handleSortClick:y,handleFilterClick:T}=OJe(t,e),{getHeaderRowStyle:C,getHeaderRowClass:k,getHeaderCellStyle:M,getHeaderCellClass:P}=DJe(t),{isGroup:R,toggleAllSelection:N,columnRows:z}=UJe(t);return n.state={onColumnsChange:l,onScrollableChange:c},n.filterPanels=s,{ns:i,filterPanels:s,onColumnsChange:l,onScrollableChange:c,columnRows:z,getHeaderRowClass:k,getHeaderRowStyle:C,getHeaderCellClass:P,getHeaderCellStyle:M,handleHeaderClick:a,handleHeaderContextMenu:f,handleMouseDown:p,handleMouseMove:m,handleMouseOut:v,handleSortClick:y,handleFilterClick:T,isGroup:R,toggleAllSelection:N}},render(){const{ns:t,isGroup:e,columnRows:n,getHeaderCellStyle:r,getHeaderCellClass:i,getHeaderRowClass:s,getHeaderRowStyle:l,handleHeaderClick:c,handleHeaderContextMenu:a,handleMouseDown:f,handleMouseMove:p,handleSortClick:m,handleMouseOut:v,store:y,$parent:T}=this;let C=1;return wr("thead",{class:{[t.is("group")]:e}},n.map((k,M)=>wr("tr",{class:s(M),key:M,style:l(M)},k.map((P,R)=>(P.rowSpan>C&&(C=P.rowSpan),wr("th",{class:i(M,R,k,P),colspan:P.colSpan,key:`${P.id}-thead`,rowspan:P.rowSpan,style:r(M,R,k,P),onClick:N=>c(N,P),onContextmenu:N=>a(N,P),onMousedown:N=>f(N,P),onMousemove:N=>p(N,P),onMouseout:v},[wr("div",{class:["cell",P.filteredValue&&P.filteredValue.length>0?"highlight":""]},[P.renderHeader?P.renderHeader({column:P,$index:R,store:y,_self:T}):P.label,P.sortable&&wr("span",{onClick:N=>m(N,P),class:"caret-wrapper"},[wr("i",{onClick:N=>m(N,P,"ascending"),class:"sort-caret ascending"}),wr("i",{onClick:N=>m(N,P,"descending"),class:"sort-caret descending"})]),P.filterable&&wr(RJe,{store:y,placement:P.filterPlacement||"bottom-start",column:P,upDataColumn:(N,z)=>{P[N]=z}})])]))))))}});function $Je(t){const e=ar(Dm),n=Te(""),r=Te(wr("div")),i=(T,C,k)=>{var M;const P=e,R=$k(T);let N;const z=(M=P==null?void 0:P.vnode.el)==null?void 0:M.dataset.prefix;R&&(N=$q({columns:t.store.states.columns.value},R,z),N&&(P==null||P.emit(`cell-${k}`,C,N,R,T))),P==null||P.emit(`row-${k}`,C,N,T)},s=(T,C)=>{i(T,C,"dblclick")},l=(T,C)=>{t.store.commit("setCurrentRow",C),i(T,C,"click")},c=(T,C)=>{i(T,C,"contextmenu")},a=Wh(T=>{t.store.commit("setHoverRow",T)},30),f=Wh(()=>{t.store.commit("setHoverRow",null)},30),p=T=>{const C=window.getComputedStyle(T,null),k=Number.parseInt(C.paddingLeft,10)||0,M=Number.parseInt(C.paddingRight,10)||0,P=Number.parseInt(C.paddingTop,10)||0,R=Number.parseInt(C.paddingBottom,10)||0;return{left:k,right:M,top:P,bottom:R}},m=(T,C,k)=>{let M=C.target.parentNode;for(;T>1&&(M=M==null?void 0:M.nextSibling,!(!M||M.nodeName!=="TR"));)k(M,"hover-row hover-fixed-row"),T--};return{handleDoubleClick:s,handleClick:l,handleContextMenu:c,handleMouseEnter:a,handleMouseLeave:f,handleCellMouseEnter:(T,C,k)=>{var M;const P=e,R=$k(T),N=(M=P==null?void 0:P.vnode.el)==null?void 0:M.dataset.prefix;if(R){const ue=$q({columns:t.store.states.columns.value},R,N);R.rowSpan>1&&m(R.rowSpan,T,Cf);const ye=P.hoverState={cell:R,column:ue,row:C};P==null||P.emit("cell-mouse-enter",ye.row,ye.column,ye.cell,T)}if(!k)return;const z=T.target.querySelector(".cell");if(!(Lf(z,`${N}-tooltip`)&&z.childNodes.length))return;const H=document.createRange();H.setStart(z,0),H.setEnd(z,z.childNodes.length);let j=H.getBoundingClientRect().width,Q=H.getBoundingClientRect().height;const G=j-Math.floor(j),{width:ie,height:q}=z.getBoundingClientRect();G<.001&&(j=Math.floor(j)),Q-Math.floor(Q)<.001&&(Q=Math.floor(Q));const{top:ee,left:he,right:J,bottom:te}=p(z),ne=he+J,ce=ee+te;(j+ne>ie||Q+ce>q||z.scrollWidth>ie)&&_Je(k,R.innerText||R.textContent,R,P)},handleCellMouseLeave:T=>{const C=$k(T);if(!C)return;C.rowSpan>1&&m(C.rowSpan,T,$c);const k=e==null?void 0:e.hoverState;e==null||e.emit("cell-mouse-leave",k==null?void 0:k.row,k==null?void 0:k.column,k==null?void 0:k.cell,T)},tooltipContent:n,tooltipTrigger:r}}function VJe(t){const e=ar(Dm),n=vn("table");return{getRowStyle:(f,p)=>{const m=e==null?void 0:e.props.rowStyle;return typeof m=="function"?m.call(null,{row:f,rowIndex:p}):m||null},getRowClass:(f,p)=>{const m=[n.e("row")];e!=null&&e.props.highlightCurrentRow&&f===t.store.states.currentRow.value&&m.push("current-row"),t.stripe&&p%2===1&&m.push(n.em("row","striped"));const v=e==null?void 0:e.props.rowClassName;return typeof v=="string"?m.push(v):typeof v=="function"&&m.push(v.call(null,{row:f,rowIndex:p})),m},getCellStyle:(f,p,m,v)=>{const y=e==null?void 0:e.props.cellStyle;let T=y??{};typeof y=="function"&&(T=y.call(null,{rowIndex:f,columnIndex:p,row:m,column:v}));const C=oU(p,t==null?void 0:t.fixed,t.store);return R2(C,"left"),R2(C,"right"),Object.assign({},T,C)},getCellClass:(f,p,m,v,y)=>{const T=sU(n.b(),p,t==null?void 0:t.fixed,t.store,void 0,y),C=[v.id,v.align,v.className,...T],k=e==null?void 0:e.props.cellClassName;return typeof k=="string"?C.push(k):typeof k=="function"&&C.push(k.call(null,{rowIndex:f,columnIndex:p,row:m,column:v})),C.push(n.e("cell")),C.filter(M=>!!M).join(" ")},getSpan:(f,p,m,v)=>{let y=1,T=1;const C=e==null?void 0:e.props.spanMethod;if(typeof C=="function"){const k=C({row:f,column:p,rowIndex:m,columnIndex:v});Array.isArray(k)?(y=k[0],T=k[1]):typeof k=="object"&&(y=k.rowspan,T=k.colspan)}return{rowspan:y,colspan:T}},getColspanRealWidth:(f,p,m)=>{if(p<1)return f[m].realWidth;const v=f.map(({realWidth:y,width:T})=>y||T).slice(m,m+p);return Number(v.reduce((y,T)=>Number(y)+Number(T),-1))}}}function HJe(t){const e=ar(Dm),n=vn("table"),{handleDoubleClick:r,handleClick:i,handleContextMenu:s,handleMouseEnter:l,handleMouseLeave:c,handleCellMouseEnter:a,handleCellMouseLeave:f,tooltipContent:p,tooltipTrigger:m}=$Je(t),{getRowStyle:v,getRowClass:y,getCellStyle:T,getCellClass:C,getSpan:k,getColspanRealWidth:M}=VJe(t),P=le(()=>t.store.states.columns.value.findIndex(({type:j})=>j==="default")),R=(j,Q)=>{const G=e.props.rowKey;return G?sc(j,G):Q},N=(j,Q,G,ie=!1)=>{const{tooltipEffect:q,tooltipOptions:W,store:ee}=t,{indent:he,columns:J}=ee.states,te=y(j,Q);let ne=!0;return G&&(te.push(n.em("row",`level-${G.level}`)),ne=G.display),wr("tr",{style:[ne?null:{display:"none"},v(j,Q)],class:te,key:R(j,Q),onDblclick:ue=>r(ue,j),onClick:ue=>i(ue,j),onContextmenu:ue=>s(ue,j),onMouseenter:()=>l(Q),onMouseleave:c},J.value.map((ue,ye)=>{const{rowspan:Ee,colspan:se}=k(j,ue,Q,ye);if(!Ee||!se)return null;const oe=Object.assign({},ue);oe.realWidth=M(J.value,se,ye);const _e={store:t.store,_self:t.context||e,column:oe,row:j,$index:Q,cellIndex:ye,expanded:ie};ye===P.value&&G&&(_e.treeNode={indent:G.level*he.value,level:G.level},typeof G.expanded=="boolean"&&(_e.treeNode.expanded=G.expanded,"loading"in G&&(_e.treeNode.loading=G.loading),"noLazyChildren"in G&&(_e.treeNode.noLazyChildren=G.noLazyChildren)));const Ue=`${R(j,Q)},${ye}`,Le=oe.columnKey||oe.rawColumnKey||"",be=z(ye,ue,_e),Re=ue.showOverflowTooltip&&$3e({effect:q},W,ue.showOverflowTooltip);return wr("td",{style:T(Q,ye,j,ue),class:C(Q,ye,j,ue,se-1),key:`${Le}${Ue}`,rowspan:Ee,colspan:se,onMouseenter:Qe=>a(Qe,j,Re),onMouseleave:f},[be])}))},z=(j,Q,G)=>Q.renderCell(G);return{wrappedRowRender:(j,Q)=>{const G=t.store,{isRowExpanded:ie,assertRowKey:q}=G,{treeData:W,lazyTreeNodeMap:ee,childrenColumnName:he,rowKey:J}=G.states,te=G.states.columns.value;if(te.some(({type:ce})=>ce==="expand")){const ce=ie(j),ue=N(j,Q,void 0,ce),ye=e.renderExpanded;return ce?ye?[[ue,wr("tr",{key:`expanded-row__${ue.key}`},[wr("td",{colspan:te.length,class:`${n.e("cell")} ${n.e("expanded-cell")}`},[ye({row:j,$index:Q,store:G,expanded:ce})])])]]:(console.error("[Element Error]renderExpanded is required."),ue):[[ue]]}else if(Object.keys(W.value).length){q();const ce=sc(j,J.value);let ue=W.value[ce],ye=null;ue&&(ye={expanded:ue.expanded,level:ue.level,display:!0},typeof ue.lazy=="boolean"&&(typeof ue.loaded=="boolean"&&ue.loaded&&(ye.noLazyChildren=!(ue.children&&ue.children.length)),ye.loading=ue.loading));const Ee=[N(j,Q,ye)];if(ue){let se=0;const oe=(Ue,Le)=>{Ue&&Ue.length&&Le&&Ue.forEach(be=>{const Re={display:Le.display&&Le.expanded,level:Le.level+1,expanded:!1,noLazyChildren:!1,loading:!1},Qe=sc(be,J.value);if(Qe==null)throw new Error("For nested data item, row-key is required.");if(ue={...W.value[Qe]},ue&&(Re.expanded=ue.expanded,ue.level=ue.level||Re.level,ue.display=!!(ue.expanded&&Re.display),typeof ue.lazy=="boolean"&&(typeof ue.loaded=="boolean"&&ue.loaded&&(Re.noLazyChildren=!(ue.children&&ue.children.length)),Re.loading=ue.loading)),se++,Ee.push(N(be,Q+se,Re)),ue){const Je=ee.value[Qe]||be[he.value];oe(Je,ue)}})};ue.display=!0;const _e=ee.value[ce]||j[he.value];oe(_e,ue)}return Ee}else return N(j,Q,void 0)},tooltipContent:p,tooltipTrigger:m}}const QJe={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var jJe=Be({name:"ElTableBody",props:QJe,setup(t){const e=ci(),n=ar(Dm),r=vn("table"),{wrappedRowRender:i,tooltipContent:s,tooltipTrigger:l}=HJe(t),{onColumnsChange:c,onScrollableChange:a}=Mle(n),f=[];return ln(t.store.states.hoverRow,(p,m)=>{var v;const y=e==null?void 0:e.vnode.el,T=Array.from((y==null?void 0:y.children)||[]).filter(M=>M==null?void 0:M.classList.contains(`${r.e("row")}`));let C=p;const k=(v=T[C])==null?void 0:v.childNodes;if(k!=null&&k.length){let M=0;Array.from(k).reduce((R,N,z)=>{var H,j;return((H=k[z])==null?void 0:H.colSpan)>1&&(M=(j=k[z])==null?void 0:j.colSpan),N.nodeName!=="TD"&&M===0&&R.push(z),M>0&&M--,R},[]).forEach(R=>{var N;for(C=p;C>0;){const z=(N=T[C-1])==null?void 0:N.childNodes;if(z[R]&&z[R].nodeName==="TD"&&z[R].rowSpan>1){Cf(z[R],"hover-cell"),f.push(z[R]);break}C--}})}else f.forEach(M=>$c(M,"hover-cell")),f.length=0;!t.store.states.isComplex.value||!ra||d1(()=>{const M=T[m],P=T[p];M&&!M.classList.contains("hover-fixed-row")&&$c(M,"hover-row"),P&&Cf(P,"hover-row")})}),Hf(()=>{var p;(p=mf)==null||p()}),{ns:r,onColumnsChange:c,onScrollableChange:a,wrappedRowRender:i,tooltipContent:s,tooltipTrigger:l}},render(){const{wrappedRowRender:t,store:e}=this,n=e.states.data.value||[];return wr("tbody",{tabIndex:-1},[n.reduce((r,i)=>r.concat(t(i,r.length)),[])])}});function GJe(){const t=ar(Dm),e=t==null?void 0:t.store,n=le(()=>e.states.fixedLeafColumnsLength.value),r=le(()=>e.states.rightFixedColumns.value.length),i=le(()=>e.states.columns.value.length),s=le(()=>e.states.fixedColumns.value.length),l=le(()=>e.states.rightFixedColumns.value.length);return{leftFixedLeafCount:n,rightFixedLeafCount:r,columnsCount:i,leftFixedCount:s,rightFixedCount:l,columns:e.states.columns}}function KJe(t){const{columns:e}=GJe(),n=vn("table");return{getCellClasses:(s,l)=>{const c=s[l],a=[n.e("cell"),c.id,c.align,c.labelClassName,...sU(n.b(),l,c.fixed,t.store)];return c.className&&a.push(c.className),c.children||a.push(n.is("leaf")),a},getCellStyles:(s,l)=>{const c=oU(l,s.fixed,t.store);return R2(c,"left"),R2(c,"right"),c},columns:e}}var WJe=Be({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(t){const{getCellClasses:e,getCellStyles:n,columns:r}=KJe(t);return{ns:vn("table"),getCellClasses:e,getCellStyles:n,columns:r}},render(){const{columns:t,getCellStyles:e,getCellClasses:n,summaryMethod:r,sumText:i}=this,s=this.store.states.data.value;let l=[];return r?l=r({columns:t,data:s}):t.forEach((c,a)=>{if(a===0){l[a]=i;return}const f=s.map(y=>Number(y[c.property])),p=[];let m=!0;f.forEach(y=>{if(!Number.isNaN(+y)){m=!1;const T=`${y}`.split(".")[1];p.push(T?T.length:0)}});const v=Math.max.apply(null,p);m?l[a]="":l[a]=f.reduce((y,T)=>{const C=Number(T);return Number.isNaN(+C)?y:Number.parseFloat((y+T).toFixed(Math.min(v,20)))},0)}),wr(wr("tfoot",[wr("tr",{},[...t.map((c,a)=>wr("td",{key:a,colspan:c.colSpan,rowspan:c.rowSpan,class:n(t,a),style:e(c,a)},[wr("div",{class:["cell",c.labelClassName]},[l[a]])]))])]))}});function qJe(t){return{setCurrentRow:p=>{t.commit("setCurrentRow",p)},getSelectionRows:()=>t.getSelectionRows(),toggleRowSelection:(p,m)=>{t.toggleRowSelection(p,m,!1),t.updateAllSelected()},clearSelection:()=>{t.clearSelection()},clearFilter:p=>{t.clearFilter(p)},toggleAllSelection:()=>{t.commit("toggleAllSelection")},toggleRowExpansion:(p,m)=>{t.toggleRowExpansionAdapter(p,m)},clearSort:()=>{t.clearSort()},sort:(p,m)=>{t.commit("sort",{prop:p,order:m})}}}function YJe(t,e,n,r){const i=Te(!1),s=Te(null),l=Te(!1),c=ue=>{l.value=ue},a=Te({width:null,height:null,headerHeight:null}),f=Te(!1),p={display:"inline-block",verticalAlign:"middle"},m=Te(),v=Te(0),y=Te(0),T=Te(0),C=Te(0),k=Te(0);uc(()=>{e.setHeight(t.height)}),uc(()=>{e.setMaxHeight(t.maxHeight)}),ln(()=>[t.currentRowKey,n.states.rowKey],([ue,ye])=>{!S(ye)||!S(ue)||n.setCurrentRowKey(`${ue}`)},{immediate:!0}),ln(()=>t.data,ue=>{r.store.commit("setData",ue)},{immediate:!0,deep:!0}),uc(()=>{t.expandRowKeys&&n.setExpandRowKeysAdapter(t.expandRowKeys)});const M=()=>{r.store.commit("setHoverRow",null),r.hoverState&&(r.hoverState=null)},P=(ue,ye)=>{const{pixelX:Ee,pixelY:se}=ye;Math.abs(Ee)>=Math.abs(se)&&(r.refs.bodyWrapper.scrollLeft+=ye.pixelX/5)},R=le(()=>t.height||t.maxHeight||n.states.fixedColumns.value.length>0||n.states.rightFixedColumns.value.length>0),N=le(()=>({width:e.bodyWidth.value?`${e.bodyWidth.value}px`:""})),z=()=>{R.value&&e.updateElsHeight(),e.updateColumnsWidth(),requestAnimationFrame(G)};Fr(async()=>{await dr(),n.updateColumns(),ie(),requestAnimationFrame(z);const ue=r.vnode.el,ye=r.refs.headerWrapper;t.flexible&&ue&&ue.parentElement&&(ue.parentElement.style.minWidth="0"),a.value={width:m.value=ue.offsetWidth,height:ue.offsetHeight,headerHeight:t.showHeader&&ye?ye.offsetHeight:null},n.states.columns.value.forEach(Ee=>{Ee.filteredValue&&Ee.filteredValue.length&&r.store.commit("filterChange",{column:Ee,values:Ee.filteredValue,silent:!0})}),r.$ready=!0});const H=(ue,ye)=>{if(!ue)return;const Ee=Array.from(ue.classList).filter(se=>!se.startsWith("is-scrolling-"));Ee.push(e.scrollX.value?ye:"is-scrolling-none"),ue.className=Ee.join(" ")},j=ue=>{const{tableWrapper:ye}=r.refs;H(ye,ue)},Q=ue=>{const{tableWrapper:ye}=r.refs;return!!(ye&&ye.classList.contains(ue))},G=function(){if(!r.refs.scrollBarRef)return;if(!e.scrollX.value){const Le="is-scrolling-none";Q(Le)||j(Le);return}const ue=r.refs.scrollBarRef.wrapRef;if(!ue)return;const{scrollLeft:ye,offsetWidth:Ee,scrollWidth:se}=ue,{headerWrapper:oe,footerWrapper:_e}=r.refs;oe&&(oe.scrollLeft=ye),_e&&(_e.scrollLeft=ye);const Ue=se-Ee-1;ye>=Ue?j("is-scrolling-right"):j(ye===0?"is-scrolling-left":"is-scrolling-middle")},ie=()=>{r.refs.scrollBarRef&&(r.refs.scrollBarRef.wrapRef&&_s(r.refs.scrollBarRef.wrapRef,"scroll",G,{passive:!0}),t.fit?no(r.vnode.el,q):_s(window,"resize",q),no(r.refs.bodyWrapper,()=>{var ue,ye;q(),(ye=(ue=r.refs)==null?void 0:ue.scrollBarRef)==null||ye.update()}))},q=()=>{var ue,ye,Ee,se;const oe=r.vnode.el;if(!r.$ready||!oe)return;let _e=!1;const{width:Ue,height:Le,headerHeight:be}=a.value,Re=m.value=oe.offsetWidth;Ue!==Re&&(_e=!0);const Qe=oe.offsetHeight;(t.height||R.value)&&Le!==Qe&&(_e=!0);const Je=t.tableLayout==="fixed"?r.refs.headerWrapper:(ue=r.refs.tableHeaderRef)==null?void 0:ue.$el;t.showHeader&&(Je==null?void 0:Je.offsetHeight)!==be&&(_e=!0),v.value=((ye=r.refs.tableWrapper)==null?void 0:ye.scrollHeight)||0,T.value=(Je==null?void 0:Je.scrollHeight)||0,C.value=((Ee=r.refs.footerWrapper)==null?void 0:Ee.offsetHeight)||0,k.value=((se=r.refs.appendWrapper)==null?void 0:se.offsetHeight)||0,y.value=v.value-T.value-C.value-k.value,_e&&(a.value={width:Re,height:Qe,headerHeight:t.showHeader&&(Je==null?void 0:Je.offsetHeight)||0},z())},W=ml(),ee=le(()=>{const{bodyWidth:ue,scrollY:ye,gutterWidth:Ee}=e;return ue.value?`${ue.value-(ye.value?Ee:0)}px`:""}),he=le(()=>t.maxHeight?"fixed":t.tableLayout),J=le(()=>{if(t.data&&t.data.length)return null;let ue="100%";t.height&&y.value&&(ue=`${y.value}px`);const ye=m.value;return{width:ye?`${ye}px`:"",height:ue}}),te=le(()=>t.height?{height:Number.isNaN(Number(t.height))?t.height:`${t.height}px`}:t.maxHeight?{maxHeight:Number.isNaN(Number(t.maxHeight))?t.maxHeight:`${t.maxHeight}px`}:{}),ne=le(()=>t.height?{height:"100%"}:t.maxHeight?Number.isNaN(Number(t.maxHeight))?{maxHeight:`calc(${t.maxHeight} - ${T.value+C.value}px)`}:{maxHeight:`${t.maxHeight-T.value-C.value}px`}:{});return{isHidden:i,renderExpanded:s,setDragVisible:c,isGroup:f,handleMouseLeave:M,handleHeaderFooterMousewheel:P,tableSize:W,emptyBlockStyle:J,handleFixedMousewheel:(ue,ye)=>{const Ee=r.refs.bodyWrapper;if(Math.abs(ye.spinY)>0){const se=Ee.scrollTop;ye.pixelY<0&&se!==0&&ue.preventDefault(),ye.pixelY>0&&Ee.scrollHeight-Ee.clientHeight>se&&ue.preventDefault(),Ee.scrollTop+=Math.ceil(ye.pixelY/5)}else Ee.scrollLeft+=Math.ceil(ye.pixelX/5)},resizeProxyVisible:l,bodyWidth:ee,resizeState:a,doLayout:z,tableBodyStyles:N,tableLayout:he,scrollbarViewStyle:p,tableInnerStyle:te,scrollbarStyle:ne}}function XJe(t){const e=Te(),n=()=>{const i=t.vnode.el.querySelector(".hidden-columns"),s={childList:!0,subtree:!0},l=t.store.states.updateOrderFns;e.value=new MutationObserver(()=>{l.forEach(c=>c())}),e.value.observe(i,s)};Fr(()=>{n()}),Hf(()=>{var r;(r=e.value)==null||r.disconnect()})}var ZJe={data:{type:Array,default:()=>[]},size:lu,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children"})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object]};function Lle(t){const e=t.tableLayout==="auto";let n=t.columns||[];e&&n.every(i=>i.width===void 0)&&(n=[]);const r=i=>{const s={key:`${t.tableLayout}_${i.id}`,style:{},name:void 0};return e?s.style={width:`${i.width}px`}:s.name=i.id,s};return wr("colgroup",{},n.map(i=>wr("col",r(i))))}Lle.props=["columns","tableLayout"];const JJe=()=>{const t=Te(),e=(s,l)=>{const c=t.value;c&&c.scrollTo(s,l)},n=(s,l)=>{const c=t.value;c&&Or(l)&&["Top","Left"].includes(s)&&c[`setScroll${s}`](l)};return{scrollBarRef:t,scrollTo:e,setScrollTop:s=>n("Top",s),setScrollLeft:s=>n("Left",s)}};let eet=1;const tet=Be({name:"ElTable",directives:{Mousewheel:$ze},components:{TableHeader:zJe,TableBody:jJe,TableFooter:WJe,ElScrollbar:E0,hColgroup:Lle},props:ZJe,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(t){const{t:e}=da(),n=vn("table"),r=ci();ki(Dm,r);const i=SJe(r,t);r.store=i;const s=new BJe({store:r.store,table:r,fit:t.fit,showHeader:t.showHeader});r.layout=s;const l=le(()=>(i.states.data.value||[]).length===0),{setCurrentRow:c,getSelectionRows:a,toggleRowSelection:f,clearSelection:p,clearFilter:m,toggleAllSelection:v,toggleRowExpansion:y,clearSort:T,sort:C}=qJe(i),{isHidden:k,renderExpanded:M,setDragVisible:P,isGroup:R,handleMouseLeave:N,handleHeaderFooterMousewheel:z,tableSize:H,emptyBlockStyle:j,handleFixedMousewheel:Q,resizeProxyVisible:G,bodyWidth:ie,resizeState:q,doLayout:W,tableBodyStyles:ee,tableLayout:he,scrollbarViewStyle:J,tableInnerStyle:te,scrollbarStyle:ne}=YJe(t,s,i,r),{scrollBarRef:ce,scrollTo:ue,setScrollLeft:ye,setScrollTop:Ee}=JJe(),se=Wh(W,50),oe=`${n.namespace.value}-table_${eet++}`;r.tableId=oe,r.state={isGroup:R,resizeState:q,doLayout:W,debouncedUpdateLayout:se};const _e=le(()=>t.sumText||e("el.table.sumText")),Ue=le(()=>t.emptyText||e("el.table.emptyText"));return XJe(r),{ns:n,layout:s,store:i,handleHeaderFooterMousewheel:z,handleMouseLeave:N,tableId:oe,tableSize:H,isHidden:k,isEmpty:l,renderExpanded:M,resizeProxyVisible:G,resizeState:q,isGroup:R,bodyWidth:ie,tableBodyStyles:ee,emptyBlockStyle:j,debouncedUpdateLayout:se,handleFixedMousewheel:Q,setCurrentRow:c,getSelectionRows:a,toggleRowSelection:f,clearSelection:p,clearFilter:m,toggleAllSelection:v,toggleRowExpansion:y,clearSort:T,doLayout:W,sort:C,t:e,setDragVisible:P,context:r,computedSumText:_e,computedEmptyText:Ue,tableLayout:he,scrollbarViewStyle:J,tableInnerStyle:te,scrollbarStyle:ne,scrollBarRef:ce,scrollTo:ue,setScrollLeft:ye,setScrollTop:Ee}}}),net=["data-prefix"],ret={ref:"hiddenColumns",class:"hidden-columns"};function iet(t,e,n,r,i,s){const l=Kr("hColgroup"),c=Kr("table-header"),a=Kr("table-body"),f=Kr("table-footer"),p=Kr("el-scrollbar"),m=LB("mousewheel");return X(),ve("div",{ref:"tableWrapper",class:Se([{[t.ns.m("fit")]:t.fit,[t.ns.m("striped")]:t.stripe,[t.ns.m("border")]:t.border||t.isGroup,[t.ns.m("hidden")]:t.isHidden,[t.ns.m("group")]:t.isGroup,[t.ns.m("fluid-height")]:t.maxHeight,[t.ns.m("scrollable-x")]:t.layout.scrollX.value,[t.ns.m("scrollable-y")]:t.layout.scrollY.value,[t.ns.m("enable-row-hover")]:!t.store.states.isComplex.value,[t.ns.m("enable-row-transition")]:(t.store.states.data.value||[]).length!==0&&(t.store.states.data.value||[]).length<100,"has-footer":t.showSummary},t.ns.m(t.tableSize),t.className,t.ns.b(),t.ns.m(`layout-${t.tableLayout}`)]),style:or(t.style),"data-prefix":t.ns.namespace.value,onMouseleave:e[0]||(e[0]=(...v)=>t.handleMouseLeave&&t.handleMouseLeave(...v))},[pe("div",{class:Se(t.ns.e("inner-wrapper")),style:or(t.tableInnerStyle)},[pe("div",ret,[Ft(t.$slots,"default")],512),t.showHeader&&t.tableLayout==="fixed"?Jr((X(),ve("div",{key:0,ref:"headerWrapper",class:Se(t.ns.e("header-wrapper"))},[pe("table",{ref:"tableHeader",class:Se(t.ns.e("header")),style:or(t.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[ht(l,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),ht(c,{ref:"tableHeaderRef",border:t.border,"default-sort":t.defaultSort,store:t.store,onSetDragVisible:t.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])],6)],2)),[[m,t.handleHeaderFooterMousewheel]]):bt("v-if",!0),pe("div",{ref:"bodyWrapper",class:Se(t.ns.e("body-wrapper"))},[ht(p,{ref:"scrollBarRef","view-style":t.scrollbarViewStyle,"wrap-style":t.scrollbarStyle,always:t.scrollbarAlwaysOn},{default:xt(()=>[pe("table",{ref:"tableBody",class:Se(t.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:or({width:t.bodyWidth,tableLayout:t.tableLayout})},[ht(l,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),t.showHeader&&t.tableLayout==="auto"?(X(),Ut(c,{key:0,ref:"tableHeaderRef",class:Se(t.ns.e("body-header")),border:t.border,"default-sort":t.defaultSort,store:t.store,onSetDragVisible:t.setDragVisible},null,8,["class","border","default-sort","store","onSetDragVisible"])):bt("v-if",!0),ht(a,{context:t.context,highlight:t.highlightCurrentRow,"row-class-name":t.rowClassName,"tooltip-effect":t.tooltipEffect,"tooltip-options":t.tooltipOptions,"row-style":t.rowStyle,store:t.store,stripe:t.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),t.showSummary&&t.tableLayout==="auto"?(X(),Ut(f,{key:1,class:Se(t.ns.e("body-footer")),border:t.border,"default-sort":t.defaultSort,store:t.store,"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):bt("v-if",!0)],6),t.isEmpty?(X(),ve("div",{key:0,ref:"emptyBlock",style:or(t.emptyBlockStyle),class:Se(t.ns.e("empty-block"))},[pe("span",{class:Se(t.ns.e("empty-text"))},[Ft(t.$slots,"empty",{},()=>[xi(Cn(t.computedEmptyText),1)])],2)],6)):bt("v-if",!0),t.$slots.append?(X(),ve("div",{key:1,ref:"appendWrapper",class:Se(t.ns.e("append-wrapper"))},[Ft(t.$slots,"append")],2)):bt("v-if",!0)]),_:3},8,["view-style","wrap-style","always"])],2),t.showSummary&&t.tableLayout==="fixed"?Jr((X(),ve("div",{key:1,ref:"footerWrapper",class:Se(t.ns.e("footer-wrapper"))},[pe("table",{class:Se(t.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:or(t.tableBodyStyles)},[ht(l,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),ht(f,{border:t.border,"default-sort":t.defaultSort,store:t.store,"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[ca,!t.isEmpty],[m,t.handleHeaderFooterMousewheel]]):bt("v-if",!0),t.border||t.isGroup?(X(),ve("div",{key:2,class:Se(t.ns.e("border-left-patch"))},null,2)):bt("v-if",!0)],6),Jr(pe("div",{ref:"resizeProxy",class:Se(t.ns.e("column-resize-proxy"))},null,2),[[ca,t.resizeProxyVisible]])],46,net)}var aet=Fn(tet,[["render",iet],["__file","table.vue"]]);const set={selection:"table-column--selection",expand:"table__expand-column"},oet={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},uet=t=>set[t]||"",cet={selection:{renderHeader({store:t,column:e}){function n(){return t.states.data.value&&t.states.data.value.length===0}return wr(Nf,{disabled:n(),size:t.states.tableSize.value,indeterminate:t.states.selection.value.length>0&&!t.states.isAllSelected.value,"onUpdate:modelValue":t.toggleAllSelection,modelValue:t.states.isAllSelected.value,ariaLabel:e.label})},renderCell({row:t,column:e,store:n,$index:r}){return wr(Nf,{disabled:e.selectable?!e.selectable.call(null,t,r):!1,size:n.states.tableSize.value,onChange:()=>{n.commit("rowSelectedChanged",t)},onClick:i=>i.stopPropagation(),modelValue:n.isSelected(t),ariaLabel:e.label})},sortable:!1,resizable:!1},index:{renderHeader({column:t}){return t.label||"#"},renderCell({column:t,$index:e}){let n=e+1;const r=t.index;return typeof r=="number"?n=e+r:typeof r=="function"&&(n=r(e)),wr("div",{},[n])},sortable:!1},expand:{renderHeader({column:t}){return t.label||""},renderCell({row:t,store:e,expanded:n}){const{ns:r}=e,i=[r.e("expand-icon")];return n&&i.push(r.em("expand-icon","expanded")),wr("div",{class:i,onClick:function(l){l.stopPropagation(),e.toggleRowExpansion(t)}},{default:()=>[wr(Ar,null,{default:()=>[wr(Vc)]})]})},sortable:!1,resizable:!1}};function het({row:t,column:e,$index:n}){var r;const i=e.property,s=i&&iT(t,i).value;return e&&e.formatter?e.formatter(t,e,s,n):((r=s==null?void 0:s.toString)==null?void 0:r.call(s))||""}function det({row:t,treeNode:e,store:n},r=!1){const{ns:i}=n;if(!e)return r?[wr("span",{class:i.e("placeholder")})]:null;const s=[],l=function(c){c.stopPropagation(),!e.loading&&n.loadOrToggle(t)};if(e.indent&&s.push(wr("span",{class:i.e("indent"),style:{"padding-left":`${e.indent}px`}})),typeof e.expanded=="boolean"&&!e.noLazyChildren){const c=[i.e("expand-icon"),e.expanded?i.em("expand-icon","expanded"):""];let a=Vc;e.loading&&(a=x0),s.push(wr("div",{class:c,onClick:l},{default:()=>[wr(Ar,{class:{[i.is("loading")]:e.loading}},{default:()=>[wr(a)]})]}))}else s.push(wr("span",{class:i.e("placeholder")}));return s}function Qq(t,e){return t.reduce((n,r)=>(n[r]=r,n),e)}function fet(t,e){const n=ci();return{registerComplexWatchers:()=>{const s=["fixed"],l={realWidth:"width",realMinWidth:"minWidth"},c=Qq(s,l);Object.keys(c).forEach(a=>{const f=l[a];aa(e,f)&&ln(()=>e[f],p=>{let m=p;f==="width"&&a==="realWidth"&&(m=aU(p)),f==="minWidth"&&a==="realMinWidth"&&(m=Cle(p)),n.columnConfig.value[f]=m,n.columnConfig.value[a]=m;const v=f==="fixed";t.value.store.scheduleLayout(v)})})},registerNormalWatchers:()=>{const s=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip"],l={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},c=Qq(s,l);Object.keys(c).forEach(a=>{const f=l[a];aa(e,f)&&ln(()=>e[f],p=>{n.columnConfig.value[a]=p})})}}}function pet(t,e,n){const r=ci(),i=Te(""),s=Te(!1),l=Te(),c=Te(),a=vn("table");uc(()=>{l.value=t.align?`is-${t.align}`:null,l.value}),uc(()=>{c.value=t.headerAlign?`is-${t.headerAlign}`:l.value,c.value});const f=le(()=>{let N=r.vnode.vParent||r.parent;for(;N&&!N.tableId&&!N.columnId;)N=N.vnode.vParent||N.parent;return N}),p=le(()=>{const{store:N}=r.parent;if(!N)return!1;const{treeData:z}=N.states,H=z.value;return H&&Object.keys(H).length>0}),m=Te(aU(t.width)),v=Te(Cle(t.minWidth)),y=N=>(m.value&&(N.width=m.value),v.value&&(N.minWidth=v.value),!m.value&&v.value&&(N.width=void 0),N.minWidth||(N.minWidth=80),N.realWidth=Number(N.width===void 0?N.minWidth:N.width),N),T=N=>{const z=N.type,H=cet[z]||{};Object.keys(H).forEach(Q=>{const G=H[Q];Q!=="className"&&G!==void 0&&(N[Q]=G)});const j=uet(z);if(j){const Q=`${S(a.namespace)}-${j}`;N.className=N.className?`${N.className} ${Q}`:Q}return N},C=N=>{Array.isArray(N)?N.forEach(H=>z(H)):z(N);function z(H){var j;((j=H==null?void 0:H.type)==null?void 0:j.name)==="ElTableColumn"&&(H.vParent=r)}};return{columnId:i,realAlign:l,isSubColumn:s,realHeaderAlign:c,columnOrTableParent:f,setColumnWidth:y,setColumnForcedProps:T,setColumnRenders:N=>{t.renderHeader||N.type!=="selection"&&(N.renderHeader=H=>(r.columnConfig.value.label,Ft(e,"header",H,()=>[N.label])));let z=N.renderCell;return N.type==="expand"?(N.renderCell=H=>wr("div",{class:"cell"},[z(H)]),n.value.renderExpanded=H=>e.default?e.default(H):e.default):(z=z||het,N.renderCell=H=>{let j=null;if(e.default){const ee=e.default(H);j=ee.some(he=>he.type!==Dc)?ee:z(H)}else j=z(H);const{columns:Q}=n.value.store.states,G=Q.value.findIndex(ee=>ee.type==="default"),ie=p.value&&H.cellIndex===G,q=det(H,ie),W={class:"cell",style:{}};return N.showOverflowTooltip&&(W.class=`${W.class} ${S(a.namespace)}-tooltip`,W.style={width:`${(H.column.realWidth||Number(H.column.width))-1}px`}),C(j),wr("div",W,[q,j])}),N},getPropsData:(...N)=>N.reduce((z,H)=>(Array.isArray(H)&&H.forEach(j=>{z[j]=t[j]}),z),{}),getColumnElIndex:(N,z)=>Array.prototype.indexOf.call(N,z),updateColumnOrder:()=>{n.value.store.commit("updateColumnOrder",r.columnConfig.value)}}}var Aet={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:t=>t.every(e=>["ascending","descending",null].includes(e))}};let met=1;var kle=Be({name:"ElTableColumn",components:{ElCheckbox:Nf},props:Aet,setup(t,{slots:e}){const n=ci(),r=Te({}),i=le(()=>{let R=n.parent;for(;R&&!R.tableId;)R=R.parent;return R}),{registerNormalWatchers:s,registerComplexWatchers:l}=fet(i,t),{columnId:c,isSubColumn:a,realHeaderAlign:f,columnOrTableParent:p,setColumnWidth:m,setColumnForcedProps:v,setColumnRenders:y,getPropsData:T,getColumnElIndex:C,realAlign:k,updateColumnOrder:M}=pet(t,e,i),P=p.value;c.value=`${P.tableId||P.columnId}_column_${met++}`,RB(()=>{a.value=i.value!==P;const R=t.type||"default",N=t.sortable===""?!0:t.sortable,z=Zo(t.showOverflowTooltip)?P.props.showOverflowTooltip:t.showOverflowTooltip,H={...oet[R],id:c.value,type:R,property:t.prop||t.property,align:k,headerAlign:f,showOverflowTooltip:z,filterable:t.filters||t.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:N,index:t.index,rawColumnKey:n.vnode.key};let q=T(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);q=AJe(H,q),q=gJe(y,m,v)(q),r.value=q,s(),l()}),Fr(()=>{var R;const N=p.value,z=a.value?N.vnode.el.children:(R=N.refs.hiddenColumns)==null?void 0:R.children,H=()=>C(z||[],n.vnode.el);r.value.getColumnIndex=H,H()>-1&&i.value.store.commit("insertColumn",r.value,a.value?N.columnConfig.value:null,M)}),ps(()=>{r.value.getColumnIndex()>-1&&i.value.store.commit("removeColumn",r.value,a.value?P.columnConfig.value:null,M)}),n.columnId=c.value,n.columnConfig=r},render(){var t,e,n;try{const r=(e=(t=this.$slots).default)==null?void 0:e.call(t,{row:{},column:{},$index:-1}),i=[];if(Array.isArray(r))for(const l of r)((n=l.type)==null?void 0:n.name)==="ElTableColumn"||l.shapeFlag&2?i.push(l):l.type===Vn&&Array.isArray(l.children)&&l.children.forEach(c=>{(c==null?void 0:c.patchFlag)!==1024&&!Hr(c==null?void 0:c.children)&&i.push(c)});return wr("div",i)}catch{return wr("div",[])}}});const get=pi(aet,{TableColumn:kle}),vet=ao(kle);var b6=(t=>(t.ASC="asc",t.DESC="desc",t))(b6||{}),w6=(t=>(t.CENTER="center",t.RIGHT="right",t))(w6||{}),Ple=(t=>(t.LEFT="left",t.RIGHT="right",t))(Ple||{});const gO={asc:"desc",desc:"asc"},x6=Symbol("placeholder"),_et=(t,e,n)=>{var r;const i={flexGrow:0,flexShrink:0,...n?{}:{flexGrow:t.flexGrow||0,flexShrink:t.flexShrink||1}};n||(i.flexShrink=1);const s={...(r=t.style)!=null?r:{},...i,flexBasis:"auto",width:t.width};return e||(t.maxWidth&&(s.maxWidth=t.maxWidth),t.minWidth&&(s.minWidth=t.minWidth)),s};function yet(t,e,n){const r=le(()=>S(e).filter(C=>!C.hidden)),i=le(()=>S(r).filter(C=>C.fixed==="left"||C.fixed===!0)),s=le(()=>S(r).filter(C=>C.fixed==="right")),l=le(()=>S(r).filter(C=>!C.fixed)),c=le(()=>{const C=[];return S(i).forEach(k=>{C.push({...k,placeholderSign:x6})}),S(l).forEach(k=>{C.push(k)}),S(s).forEach(k=>{C.push({...k,placeholderSign:x6})}),C}),a=le(()=>S(i).length||S(s).length),f=le(()=>S(e).reduce((k,M)=>(k[M.key]=_et(M,S(n),t.fixed),k),{})),p=le(()=>S(r).reduce((C,k)=>C+k.width,0)),m=C=>S(e).find(k=>k.key===C),v=C=>S(f)[C],y=(C,k)=>{C.width=k};function T(C){var k;const{key:M}=C.currentTarget.dataset;if(!M)return;const{sortState:P,sortBy:R}=t;let N=b6.ASC;mi(P)?N=gO[P[M]]:N=gO[R.order],(k=t.onColumnSort)==null||k.call(t,{column:m(M),key:M,order:N})}return{columns:e,columnsStyles:f,columnsTotalWidth:p,fixedColumnsOnLeft:i,fixedColumnsOnRight:s,hasFixedColumns:a,mainColumns:c,normalColumns:l,visibleColumns:r,getColumn:m,getColumnStyle:v,updateColumnWidth:y,onColumnSorted:T}}const bet=(t,{mainTableRef:e,leftTableRef:n,rightTableRef:r,onMaybeEndReached:i})=>{const s=Te({scrollLeft:0,scrollTop:0});function l(y){var T,C,k;const{scrollTop:M}=y;(T=e.value)==null||T.scrollTo(y),(C=n.value)==null||C.scrollToTop(M),(k=r.value)==null||k.scrollToTop(M)}function c(y){s.value=y,l(y)}function a(y){s.value.scrollTop=y,l(S(s))}function f(y){var T,C;s.value.scrollLeft=y,(C=(T=e.value)==null?void 0:T.scrollTo)==null||C.call(T,S(s))}function p(y){var T;c(y),(T=t.onScroll)==null||T.call(t,y)}function m({scrollTop:y}){const{scrollTop:T}=S(s);y!==T&&a(y)}function v(y,T="auto"){var C;(C=e.value)==null||C.scrollToRow(y,T)}return ln(()=>S(s).scrollTop,(y,T)=>{y>T&&i()}),{scrollPos:s,scrollTo:c,scrollToLeft:f,scrollToTop:a,scrollToRow:v,onScroll:p,onVerticalScroll:m}},wet=(t,{mainTableRef:e,leftTableRef:n,rightTableRef:r,tableInstance:i,ns:s,isScrolling:l})=>{const c=ci(),{emit:a}=c,f=vs(!1),p=Te(t.defaultExpandedRowKeys||[]),m=Te(-1),v=vs(null),y=Te({}),T=Te({}),C=vs({}),k=vs({}),M=vs({}),P=le(()=>Or(t.estimatedRowHeight));function R(ie){var q;(q=t.onRowsRendered)==null||q.call(t,ie),ie.rowCacheEnd>S(m)&&(m.value=ie.rowCacheEnd)}function N({hovered:ie,rowKey:q}){if(l.value)return;i.vnode.el.querySelectorAll(`[rowkey=${q}]`).forEach(he=>{ie?he.classList.add(s.is("hovered")):he.classList.remove(s.is("hovered"))})}function z({expanded:ie,rowData:q,rowIndex:W,rowKey:ee}){var he,J;const te=[...S(p)],ne=te.indexOf(ee);ie?ne===-1&&te.push(ee):ne>-1&&te.splice(ne,1),p.value=te,a("update:expandedRowKeys",te),(he=t.onRowExpand)==null||he.call(t,{expanded:ie,rowData:q,rowIndex:W,rowKey:ee}),(J=t.onExpandedRowsChange)==null||J.call(t,te)}const H=Wh(()=>{var ie,q,W,ee;f.value=!0,y.value={...S(y),...S(T)},j(S(v),!1),T.value={},v.value=null,(ie=e.value)==null||ie.forceUpdate(),(q=n.value)==null||q.forceUpdate(),(W=r.value)==null||W.forceUpdate(),(ee=c.proxy)==null||ee.$forceUpdate(),f.value=!1},0);function j(ie,q=!1){S(P)&&[e,n,r].forEach(W=>{const ee=S(W);ee&&ee.resetAfterRowIndex(ie,q)})}function Q(ie,q,W){const ee=S(v);(ee===null||ee>W)&&(v.value=W),T.value[ie]=q}function G({rowKey:ie,height:q,rowIndex:W},ee){ee?ee===Ple.RIGHT?M.value[ie]=q:C.value[ie]=q:k.value[ie]=q;const he=Math.max(...[C,M,k].map(J=>J.value[ie]||0));S(y)[ie]!==he&&(Q(ie,he,W),H())}return{expandedRowKeys:p,lastRenderedRowIndex:m,isDynamic:P,isResetting:f,rowHeights:y,resetAfterIndex:j,onRowExpanded:z,onRowHovered:N,onRowsRendered:R,onRowHeightChange:G}},xet=(t,{expandedRowKeys:e,lastRenderedRowIndex:n,resetAfterIndex:r})=>{const i=Te({}),s=le(()=>{const c={},{data:a,rowKey:f}=t,p=S(e);if(!p||!p.length)return a;const m=[],v=new Set;p.forEach(T=>v.add(T));let y=a.slice();for(y.forEach(T=>c[T[f]]=0);y.length>0;){const T=y.shift();m.push(T),v.has(T[f])&&Array.isArray(T.children)&&T.children.length>0&&(y=[...T.children,...y],T.children.forEach(C=>c[C[f]]=c[T[f]]+1))}return i.value=c,m}),l=le(()=>{const{data:c,expandColumnKey:a}=t;return a?S(s):c});return ln(l,(c,a)=>{c!==a&&(n.value=-1,r(0,!0))}),{data:l,depthMap:i}},Cet=(t,e)=>t+e,_T=t=>Jn(t)?t.reduce(Cet,0):t,My=(t,e,n={})=>Dr(t)?t(e):t??n,Hv=t=>(["width","maxWidth","minWidth","height"].forEach(e=>{t[e]=So(t[e])}),t),Fle=t=>Ks(t)?e=>wr(t,e):t,Eet=(t,{columnsTotalWidth:e,data:n,fixedColumnsOnLeft:r,fixedColumnsOnRight:i})=>{const s=le(()=>{const{fixed:R,width:N,vScrollbarSize:z}=t,H=N-z;return R?Math.max(Math.round(S(e)),H):H}),l=le(()=>S(s)+t.vScrollbarSize),c=le(()=>{const{height:R=0,maxHeight:N=0,footerHeight:z,hScrollbarSize:H}=t;if(N>0){const j=S(T),Q=S(a),ie=S(y)+j+Q+H;return Math.min(ie,N-z)}return R-z}),a=le(()=>{const{rowHeight:R,estimatedRowHeight:N}=t,z=S(n);return Or(N)?z.length*N:z.length*R}),f=le(()=>{const{maxHeight:R}=t,N=S(c);if(Or(R)&&R>0)return N;const z=S(a)+S(y)+S(T);return Math.min(N,z)}),p=R=>R.width,m=le(()=>_T(S(r).map(p))),v=le(()=>_T(S(i).map(p))),y=le(()=>_T(t.headerHeight)),T=le(()=>{var R;return(((R=t.fixedData)==null?void 0:R.length)||0)*t.rowHeight}),C=le(()=>S(c)-S(y)-S(T)),k=le(()=>{const{style:R={},height:N,width:z}=t;return Hv({...R,height:N,width:z})}),M=le(()=>Hv({height:t.footerHeight})),P=le(()=>({top:So(S(y)),bottom:So(t.footerHeight),width:So(t.width)}));return{bodyWidth:s,fixedTableHeight:f,mainTableHeight:c,leftTableWidth:m,rightTableWidth:v,headerWidth:l,rowsHeight:a,windowHeight:C,footerHeight:M,emptyStyle:P,rootStyle:k,headerHeight:y}},Tet=t=>{const e=Te(),n=Te(0),r=Te(0);let i;return Fr(()=>{i=no(e,([s])=>{const{width:l,height:c}=s.contentRect,{paddingLeft:a,paddingRight:f,paddingTop:p,paddingBottom:m}=getComputedStyle(s.target),v=Number.parseInt(a)||0,y=Number.parseInt(f)||0,T=Number.parseInt(p)||0,C=Number.parseInt(m)||0;n.value=l-v-y,r.value=c-T-C}).stop}),ps(()=>{i==null||i()}),ln([n,r],([s,l])=>{var c;(c=t.onResize)==null||c.call(t,{width:s,height:l})}),{sizer:e,width:n,height:r}};function Bet(t){const e=Te(),n=Te(),r=Te(),{columns:i,columnsStyles:s,columnsTotalWidth:l,fixedColumnsOnLeft:c,fixedColumnsOnRight:a,hasFixedColumns:f,mainColumns:p,onColumnSorted:m}=yet(t,Na(t,"columns"),Na(t,"fixed")),{scrollTo:v,scrollToLeft:y,scrollToTop:T,scrollToRow:C,onScroll:k,onVerticalScroll:M,scrollPos:P}=bet(t,{mainTableRef:e,leftTableRef:n,rightTableRef:r,onMaybeEndReached:ke}),R=vn("table-v2"),N=ci(),z=vs(!1),{expandedRowKeys:H,lastRenderedRowIndex:j,isDynamic:Q,isResetting:G,rowHeights:ie,resetAfterIndex:q,onRowExpanded:W,onRowHeightChange:ee,onRowHovered:he,onRowsRendered:J}=wet(t,{mainTableRef:e,leftTableRef:n,rightTableRef:r,tableInstance:N,ns:R,isScrolling:z}),{data:te,depthMap:ne}=xet(t,{expandedRowKeys:H,lastRenderedRowIndex:j,resetAfterIndex:q}),{bodyWidth:ce,fixedTableHeight:ue,mainTableHeight:ye,leftTableWidth:Ee,rightTableWidth:se,headerWidth:oe,rowsHeight:_e,windowHeight:Ue,footerHeight:Le,emptyStyle:be,rootStyle:Re,headerHeight:Qe}=Eet(t,{columnsTotalWidth:l,data:te,fixedColumnsOnLeft:c,fixedColumnsOnRight:a}),Je=Te(),nt=le(()=>{const Ge=S(te).length===0;return Jn(t.fixedData)?t.fixedData.length===0&&Ge:Ge});function Ve(Ge){const{estimatedRowHeight:Ne,rowHeight:je,rowKey:Ye}=t;return Ne?S(ie)[S(te)[Ge][Ye]]||Ne:je}function ke(){const{onEndReached:Ge}=t;if(!Ge)return;const{scrollTop:Ne}=S(P),je=S(_e),Ye=S(Ue),vt=je-(Ne+Ye)+t.hScrollbarSize;S(j)>=0&&je===Ne+S(ye)-S(Qe)&&Ge(vt)}return ln(()=>t.expandedRowKeys,Ge=>H.value=Ge,{deep:!0}),{columns:i,containerRef:Je,mainTableRef:e,leftTableRef:n,rightTableRef:r,isDynamic:Q,isResetting:G,isScrolling:z,hasFixedColumns:f,columnsStyles:s,columnsTotalWidth:l,data:te,expandedRowKeys:H,depthMap:ne,fixedColumnsOnLeft:c,fixedColumnsOnRight:a,mainColumns:p,bodyWidth:ce,emptyStyle:be,rootStyle:Re,headerWidth:oe,footerHeight:Le,mainTableHeight:ye,fixedTableHeight:ue,leftTableWidth:Ee,rightTableWidth:se,showEmpty:nt,getRowHeight:Ve,onColumnSorted:m,onRowHovered:he,onRowExpanded:W,onRowsRendered:J,onRowHeightChange:ee,scrollTo:v,scrollToLeft:y,scrollToTop:T,scrollToRow:C,onScroll:k,onVerticalScroll:M}}const lU=Symbol("tableV2"),Rle=String,T5={type:Rt(Array),required:!0},uU={type:Rt(Array)},Ole={...uU,required:!0},Met=String,jq={type:Rt(Array),default:()=>ro([])},D_={type:Number,required:!0},Dle={type:Rt([String,Number,Symbol]),default:"id"},Gq={type:Rt(Object)},W_=Ln({class:String,columns:T5,columnsStyles:{type:Rt(Object),required:!0},depth:Number,expandColumnKey:Met,estimatedRowHeight:{...uy.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:Rt(Function)},onRowHover:{type:Rt(Function)},onRowHeightChange:{type:Rt(Function)},rowData:{type:Rt(Object),required:!0},rowEventHandlers:{type:Rt(Object)},rowIndex:{type:Number,required:!0},rowKey:Dle,style:{type:Rt(Object)}}),Vk={type:Number,required:!0},cU=Ln({class:String,columns:T5,fixedHeaderData:{type:Rt(Array)},headerData:{type:Rt(Array),required:!0},headerHeight:{type:Rt([Number,Array]),default:50},rowWidth:Vk,rowHeight:{type:Number,default:50},height:Vk,width:Vk}),yT=Ln({columns:T5,data:Ole,fixedData:uU,estimatedRowHeight:W_.estimatedRowHeight,width:D_,height:D_,headerWidth:D_,headerHeight:cU.headerHeight,bodyWidth:D_,rowHeight:D_,cache:ale.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:uy.scrollbarAlwaysOn,scrollbarStartGap:uy.scrollbarStartGap,scrollbarEndGap:uy.scrollbarEndGap,class:Rle,style:Gq,containerStyle:Gq,getRowHeight:{type:Rt(Function),required:!0},rowKey:W_.rowKey,onRowsRendered:{type:Rt(Function)},onScroll:{type:Rt(Function)}}),Iet=Ln({cache:yT.cache,estimatedRowHeight:W_.estimatedRowHeight,rowKey:Dle,headerClass:{type:Rt([String,Function])},headerProps:{type:Rt([Object,Function])},headerCellProps:{type:Rt([Object,Function])},headerHeight:cU.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:Rt([String,Function])},rowProps:{type:Rt([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:Rt([Object,Function])},columns:T5,data:Ole,dataGetter:{type:Rt(Function)},fixedData:uU,expandColumnKey:W_.expandColumnKey,expandedRowKeys:jq,defaultExpandedRowKeys:jq,class:Rle,fixed:Boolean,style:{type:Rt(Object)},width:D_,height:D_,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:uy.hScrollbarSize,vScrollbarSize:uy.vScrollbarSize,scrollbarAlwaysOn:lle.alwaysOn,sortBy:{type:Rt(Object),default:()=>({})},sortState:{type:Rt(Object),default:void 0},onColumnSort:{type:Rt(Function)},onExpandedRowsChange:{type:Rt(Function)},onEndReached:{type:Rt(Function)},onRowExpand:W_.onRowExpand,onScroll:yT.onScroll,onRowsRendered:yT.onRowsRendered,rowEventHandlers:W_.rowEventHandlers}),hU=(t,{slots:e})=>{var n;const{cellData:r,style:i}=t,s=((n=r==null?void 0:r.toString)==null?void 0:n.call(r))||"",l=Ft(e,"default",t,()=>[s]);return ht("div",{class:t.class,title:s,style:i},[l])};hU.displayName="ElTableV2Cell";hU.inheritAttrs=!1;const dU=(t,{slots:e})=>Ft(e,"default",t,()=>{var n,r;return[ht("div",{class:t.class,title:(n=t.column)==null?void 0:n.title},[(r=t.column)==null?void 0:r.title])]});dU.displayName="ElTableV2HeaderCell";dU.inheritAttrs=!1;const Let=Ln({class:String,columns:T5,columnsStyles:{type:Rt(Object),required:!0},headerIndex:Number,style:{type:Rt(Object)}}),ket=Be({name:"ElTableV2HeaderRow",props:Let,setup(t,{slots:e}){return()=>{const{columns:n,columnsStyles:r,headerIndex:i,style:s}=t;let l=n.map((c,a)=>e.cell({columns:n,column:c,columnIndex:a,headerIndex:i,style:r[c.key]}));return e.header&&(l=e.header({cells:l.map(c=>Jn(c)&&c.length===1?c[0]:c),columns:n,headerIndex:i})),ht("div",{class:t.class,style:s,role:"row"},[l])}}}),Pet="ElTableV2Header",Fet=Be({name:Pet,props:cU,setup(t,{slots:e,expose:n}){const r=vn("table-v2"),i=Te(),s=le(()=>Hv({width:t.width,height:t.height})),l=le(()=>Hv({width:t.rowWidth,height:t.height})),c=le(()=>h1(S(t.headerHeight))),a=m=>{const v=S(i);dr(()=>{v!=null&&v.scroll&&v.scroll({left:m})})},f=()=>{const m=r.e("fixed-header-row"),{columns:v,fixedHeaderData:y,rowHeight:T}=t;return y==null?void 0:y.map((C,k)=>{var M;const P=Hv({height:T,width:"100%"});return(M=e.fixed)==null?void 0:M.call(e,{class:m,columns:v,rowData:C,rowIndex:-(k+1),style:P})})},p=()=>{const m=r.e("dynamic-header-row"),{columns:v}=t;return S(c).map((y,T)=>{var C;const k=Hv({width:"100%",height:y});return(C=e.dynamic)==null?void 0:C.call(e,{class:m,columns:v,headerIndex:T,style:k})})};return n({scrollToLeft:a}),()=>{if(!(t.height<=0))return ht("div",{ref:i,class:t.class,style:S(s),role:"rowgroup"},[ht("div",{style:S(l),class:r.e("header")},[p(),f()])])}}}),Ret=t=>{const{isScrolling:e}=ar(lU),n=Te(!1),r=Te(),i=le(()=>Or(t.estimatedRowHeight)&&t.rowIndex>=0),s=(a=!1)=>{const f=S(r);if(!f)return;const{columns:p,onRowHeightChange:m,rowKey:v,rowIndex:y,style:T}=t,{height:C}=f.getBoundingClientRect();n.value=!0,dr(()=>{if(a||C!==Number.parseInt(T.height)){const k=p[0],M=(k==null?void 0:k.placeholderSign)===x6;m==null||m({rowKey:v,height:C,rowIndex:y},k&&!M&&k.fixed)}})},l=le(()=>{const{rowData:a,rowIndex:f,rowKey:p,onRowHover:m}=t,v=t.rowEventHandlers||{},y={};return Object.entries(v).forEach(([T,C])=>{Dr(C)&&(y[T]=k=>{C({event:k,rowData:a,rowIndex:f,rowKey:p})})}),m&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:T,hovered:C})=>{const k=y[T];y[T]=M=>{m({event:M,hovered:C,rowData:a,rowIndex:f,rowKey:p}),k==null||k(M)}}),y}),c=a=>{const{onRowExpand:f,rowData:p,rowIndex:m,rowKey:v}=t;f==null||f({expanded:a,rowData:p,rowIndex:m,rowKey:v})};return Fr(()=>{S(i)&&s(!0)}),{isScrolling:e,measurable:i,measured:n,rowRef:r,eventHandlers:l,onExpand:c}},Oet="ElTableV2TableRow",Det=Be({name:Oet,props:W_,setup(t,{expose:e,slots:n,attrs:r}){const{eventHandlers:i,isScrolling:s,measurable:l,measured:c,rowRef:a,onExpand:f}=Ret(t);return e({onExpand:f}),()=>{const{columns:p,columnsStyles:m,expandColumnKey:v,depth:y,rowData:T,rowIndex:C,style:k}=t;let M=p.map((P,R)=>{const N=Jn(T.children)&&T.children.length>0&&P.key===v;return n.cell({column:P,columns:p,columnIndex:R,depth:y,style:m[P.key],rowData:T,rowIndex:C,isScrolling:S(s),expandIconProps:N?{rowData:T,rowIndex:C,onExpand:f}:void 0})});if(n.row&&(M=n.row({cells:M.map(P=>Jn(P)&&P.length===1?P[0]:P),style:k,columns:p,depth:y,rowData:T,rowIndex:C,isScrolling:S(s)})),S(l)){const{height:P,...R}=k||{},N=S(c);return ht("div",Xr({ref:a,class:t.class,style:N?k:R,role:"row"},r,S(i)),[M])}return ht("div",Xr(r,{ref:a,class:t.class,style:k,role:"row"},S(i)),[M])}}}),Net=t=>{const{sortOrder:e}=t;return ht(Ar,{size:14,class:t.class},{default:()=>[e===b6.ASC?ht(gae,null,null):ht(mae,null,null)]})},Uet=t=>{const{expanded:e,expandable:n,onExpand:r,style:i,size:s}=t,l={onClick:n?()=>r(!e):void 0,class:t.class};return ht(Ar,Xr(l,{size:s,style:i}),{default:()=>[ht(Vc,null,null)]})},zet="ElTableV2Grid",$et=t=>{const e=Te(),n=Te(),r=le(()=>{const{data:C,rowHeight:k,estimatedRowHeight:M}=t;if(!M)return C.length*k}),i=le(()=>{const{fixedData:C,rowHeight:k}=t;return((C==null?void 0:C.length)||0)*k}),s=le(()=>_T(t.headerHeight)),l=le(()=>{const{height:C}=t;return Math.max(0,C-S(s)-S(i))}),c=le(()=>S(s)+S(i)>0),a=({data:C,rowIndex:k})=>C[k][t.rowKey];function f({rowCacheStart:C,rowCacheEnd:k,rowVisibleStart:M,rowVisibleEnd:P}){var R;(R=t.onRowsRendered)==null||R.call(t,{rowCacheStart:C,rowCacheEnd:k,rowVisibleStart:M,rowVisibleEnd:P})}function p(C,k){var M;(M=n.value)==null||M.resetAfterRowIndex(C,k)}function m(C,k){const M=S(e),P=S(n);mi(C)?(M==null||M.scrollToLeft(C.scrollLeft),P==null||P.scrollTo(C)):(M==null||M.scrollToLeft(C),P==null||P.scrollTo({scrollLeft:C,scrollTop:k}))}function v(C){var k;(k=S(n))==null||k.scrollTo({scrollTop:C})}function y(C,k){var M;(M=S(n))==null||M.scrollToItem(C,1,k)}function T(){var C,k;(C=S(n))==null||C.$forceUpdate(),(k=S(e))==null||k.$forceUpdate()}return{bodyRef:n,forceUpdate:T,fixedRowHeight:i,gridHeight:l,hasHeader:c,headerHeight:s,headerRef:e,totalHeight:r,itemKey:a,onItemRendered:f,resetAfterRowIndex:p,scrollTo:m,scrollToTop:v,scrollToRow:y}},fU=Be({name:zet,props:yT,setup(t,{slots:e,expose:n}){const{ns:r}=ar(lU),{bodyRef:i,fixedRowHeight:s,gridHeight:l,hasHeader:c,headerRef:a,headerHeight:f,totalHeight:p,forceUpdate:m,itemKey:v,onItemRendered:y,resetAfterRowIndex:T,scrollTo:C,scrollToTop:k,scrollToRow:M}=$et(t);n({forceUpdate:m,totalHeight:p,scrollTo:C,scrollToTop:k,scrollToRow:M,resetAfterRowIndex:T});const P=()=>t.bodyWidth;return()=>{const{cache:R,columns:N,data:z,fixedData:H,useIsScrolling:j,scrollbarAlwaysOn:Q,scrollbarEndGap:G,scrollbarStartGap:ie,style:q,rowHeight:W,bodyWidth:ee,estimatedRowHeight:he,headerWidth:J,height:te,width:ne,getRowHeight:ce,onScroll:ue}=t,ye=Or(he),Ee=ye?CXe:yXe,se=S(f);return ht("div",{role:"table",class:[r.e("table"),t.class],style:q},[ht(Ee,{ref:i,data:z,useIsScrolling:j,itemKey:v,columnCache:0,columnWidth:ye?P:ee,totalColumn:1,totalRow:z.length,rowCache:R,rowHeight:ye?ce:W,width:ne,height:S(l),class:r.e("body"),role:"rowgroup",scrollbarStartGap:ie,scrollbarEndGap:G,scrollbarAlwaysOn:Q,onScroll:ue,onItemRendered:y,perfMode:!1},{default:oe=>{var _e;const Ue=z[oe.rowIndex];return(_e=e.row)==null?void 0:_e.call(e,{...oe,columns:N,rowData:Ue})}}),S(c)&&ht(Fet,{ref:a,class:r.e("header-wrapper"),columns:N,headerData:z,headerHeight:t.headerHeight,fixedHeaderData:H,rowWidth:J,rowHeight:W,width:ne,height:Math.min(se+S(s),te)},{dynamic:e.header,fixed:e.row})])}}});function Vet(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Ks(t)}const Het=(t,{slots:e})=>{const{mainTableRef:n,...r}=t;return ht(fU,Xr({ref:n},r),Vet(e)?e:{default:()=>[e]})};function Qet(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Ks(t)}const jet=(t,{slots:e})=>{if(!t.columns.length)return;const{leftTableRef:n,...r}=t;return ht(fU,Xr({ref:n},r),Qet(e)?e:{default:()=>[e]})};function Get(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Ks(t)}const Ket=(t,{slots:e})=>{if(!t.columns.length)return;const{rightTableRef:n,...r}=t;return ht(fU,Xr({ref:n},r),Get(e)?e:{default:()=>[e]})};function Wet(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Ks(t)}const qet=(t,{slots:e})=>{const{columns:n,columnsStyles:r,depthMap:i,expandColumnKey:s,expandedRowKeys:l,estimatedRowHeight:c,hasFixedColumns:a,rowData:f,rowIndex:p,style:m,isScrolling:v,rowProps:y,rowClass:T,rowKey:C,rowEventHandlers:k,ns:M,onRowHovered:P,onRowExpanded:R}=t,N=My(T,{columns:n,rowData:f,rowIndex:p},""),z=My(y,{columns:n,rowData:f,rowIndex:p}),H=f[C],j=i[H]||0,Q=!!s,G=p<0,ie=[M.e("row"),N,{[M.e(`row-depth-${j}`)]:Q&&p>=0,[M.is("expanded")]:Q&&l.includes(H),[M.is("fixed")]:!j&&G,[M.is("customized")]:!!e.row}],q=a?P:void 0,W={...z,columns:n,columnsStyles:r,class:ie,depth:j,expandColumnKey:s,estimatedRowHeight:G?void 0:c,isScrolling:v,rowIndex:p,rowData:f,rowKey:H,rowEventHandlers:k,style:m};return ht(Det,Xr(W,{onRowExpand:R,onMouseenter:J=>{q==null||q({hovered:!0,rowKey:H,event:J,rowData:f,rowIndex:p})},onMouseleave:J=>{q==null||q({hovered:!1,rowKey:H,event:J,rowData:f,rowIndex:p})},rowkey:H}),Wet(e)?e:{default:()=>[e]})},vO=({columns:t,column:e,columnIndex:n,depth:r,expandIconProps:i,isScrolling:s,rowData:l,rowIndex:c,style:a,expandedRowKeys:f,ns:p,cellProps:m,expandColumnKey:v,indentSize:y,iconSize:T,rowKey:C},{slots:k})=>{const M=Hv(a);if(e.placeholderSign===x6)return ht("div",{class:p.em("row-cell","placeholder"),style:M},null);const{cellRenderer:P,dataKey:R,dataGetter:N}=e,z=Dr(N)?N({columns:t,column:e,columnIndex:n,rowData:l,rowIndex:c}):Oo(l,R??""),H=My(m,{cellData:z,columns:t,column:e,columnIndex:n,rowIndex:c,rowData:l}),j={class:p.e("cell-text"),columns:t,column:e,columnIndex:n,cellData:z,isScrolling:s,rowData:l,rowIndex:c},Q=Fle(P),G=Q?Q(j):Ft(k,"default",j,()=>[ht(hU,j,null)]),ie=[p.e("row-cell"),e.class,e.align===w6.CENTER&&p.is("align-center"),e.align===w6.RIGHT&&p.is("align-right")],q=c>=0&&v&&e.key===v,W=c>=0&&f.includes(l[C]);let ee;const he=`margin-inline-start: ${r*y}px;`;return q&&(mi(i)?ee=ht(Uet,Xr(i,{class:[p.e("expand-icon"),p.is("expanded",W)],size:T,expanded:W,style:he,expandable:!0}),null):ee=ht("div",{style:[he,`width: ${T}px; height: ${T}px;`].join(" ")},null)),ht("div",Xr({class:ie,style:M},H,{role:"cell"}),[ee,G])};vO.inheritAttrs=!1;function Yet(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Ks(t)}const Xet=({columns:t,columnsStyles:e,headerIndex:n,style:r,headerClass:i,headerProps:s,ns:l},{slots:c})=>{const a={columns:t,headerIndex:n},f=[l.e("header-row"),My(i,a,""),{[l.is("customized")]:!!c.header}],p={...My(s,a),columnsStyles:e,class:f,columns:t,headerIndex:n,style:r};return ht(ket,p,Yet(c)?c:{default:()=>[c]})},Kq=(t,{slots:e})=>{const{column:n,ns:r,style:i,onColumnSorted:s}=t,l=Hv(i);if(n.placeholderSign===x6)return ht("div",{class:r.em("header-row-cell","placeholder"),style:l},null);const{headerCellRenderer:c,headerClass:a,sortable:f}=n,p={...t,class:r.e("header-cell-text")},m=Fle(c),v=m?m(p):Ft(e,"default",p,()=>[ht(dU,p,null)]),{sortBy:y,sortState:T,headerCellProps:C}=t;let k,M;if(T){const N=T[n.key];k=!!gO[N],M=k?N:b6.ASC}else k=n.key===y.key,M=k?y.order:b6.ASC;const P=[r.e("header-cell"),My(a,t,""),n.align===w6.CENTER&&r.is("align-center"),n.align===w6.RIGHT&&r.is("align-right"),f&&r.is("sortable")],R={...My(C,t),onClick:n.sortable?s:void 0,class:P,style:l,"data-key":n.key};return ht("div",Xr(R,{role:"columnheader"}),[v,f&&ht(Net,{class:[r.e("sort-icon"),k&&r.is("sorting")],sortOrder:M},null)])},Nle=(t,{slots:e})=>{var n;return ht("div",{class:t.class,style:t.style},[(n=e.default)==null?void 0:n.call(e)])};Nle.displayName="ElTableV2Footer";const Ule=(t,{slots:e})=>{const n=Ft(e,"default",{},()=>[ht(Hoe,null,null)]);return ht("div",{class:t.class,style:t.style},[n])};Ule.displayName="ElTableV2Empty";const zle=(t,{slots:e})=>{var n;return ht("div",{class:t.class,style:t.style},[(n=e.default)==null?void 0:n.call(e)])};zle.displayName="ElTableV2Overlay";function v4(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Ks(t)}const Zet="ElTableV2",Jet=Be({name:Zet,props:Iet,setup(t,{slots:e,expose:n}){const r=vn("table-v2"),{columnsStyles:i,fixedColumnsOnLeft:s,fixedColumnsOnRight:l,mainColumns:c,mainTableHeight:a,fixedTableHeight:f,leftTableWidth:p,rightTableWidth:m,data:v,depthMap:y,expandedRowKeys:T,hasFixedColumns:C,mainTableRef:k,leftTableRef:M,rightTableRef:P,isDynamic:R,isResetting:N,isScrolling:z,bodyWidth:H,emptyStyle:j,rootStyle:Q,headerWidth:G,footerHeight:ie,showEmpty:q,scrollTo:W,scrollToLeft:ee,scrollToTop:he,scrollToRow:J,getRowHeight:te,onColumnSorted:ne,onRowHeightChange:ce,onRowHovered:ue,onRowExpanded:ye,onRowsRendered:Ee,onScroll:se,onVerticalScroll:oe}=Bet(t);return n({scrollTo:W,scrollToLeft:ee,scrollToTop:he,scrollToRow:J}),ki(lU,{ns:r,isResetting:N,isScrolling:z}),()=>{const{cache:_e,cellProps:Ue,estimatedRowHeight:Le,expandColumnKey:be,fixedData:Re,headerHeight:Qe,headerClass:Je,headerProps:nt,headerCellProps:Ve,sortBy:ke,sortState:Ge,rowHeight:Ne,rowClass:je,rowEventHandlers:Ye,rowKey:vt,rowProps:Lt,scrollbarAlwaysOn:Et,indentSize:Vt,iconSize:_t,useIsScrolling:qt,vScrollbarSize:tn,width:Nt}=t,wt=S(v),De={cache:_e,class:r.e("main"),columns:S(c),data:wt,fixedData:Re,estimatedRowHeight:Le,bodyWidth:S(H)+tn,headerHeight:Qe,headerWidth:S(G),height:S(a),mainTableRef:k,rowKey:vt,rowHeight:Ne,scrollbarAlwaysOn:Et,scrollbarStartGap:2,scrollbarEndGap:tn,useIsScrolling:qt,width:Nt,getRowHeight:te,onRowsRendered:Ee,onScroll:se},We=S(p),ut=S(f),It={cache:_e,class:r.e("left"),columns:S(s),data:wt,estimatedRowHeight:Le,leftTableRef:M,rowHeight:Ne,bodyWidth:We,headerWidth:We,headerHeight:Qe,height:ut,rowKey:vt,scrollbarAlwaysOn:Et,scrollbarStartGap:2,scrollbarEndGap:tn,useIsScrolling:qt,width:We,getRowHeight:te,onScroll:oe},kt=S(m)+tn,Bt={cache:_e,class:r.e("right"),columns:S(l),data:wt,estimatedRowHeight:Le,rightTableRef:P,rowHeight:Ne,bodyWidth:kt,headerWidth:kt,headerHeight:Qe,height:ut,rowKey:vt,scrollbarAlwaysOn:Et,scrollbarStartGap:2,scrollbarEndGap:tn,width:kt,style:`--${S(r.namespace)}-table-scrollbar-size: ${tn}px`,useIsScrolling:qt,getRowHeight:te,onScroll:oe},it=S(i),Mt={ns:r,depthMap:S(y),columnsStyles:it,expandColumnKey:be,expandedRowKeys:S(T),estimatedRowHeight:Le,hasFixedColumns:S(C),rowProps:Lt,rowClass:je,rowKey:vt,rowEventHandlers:Ye,onRowHovered:ue,onRowExpanded:ye,onRowHeightChange:ce},at={cellProps:Ue,expandColumnKey:be,indentSize:Vt,iconSize:_t,rowKey:vt,expandedRowKeys:S(T),ns:r},et={ns:r,headerClass:Je,headerProps:nt,columnsStyles:it},St={ns:r,sortBy:ke,sortState:Ge,headerCellProps:Ve,onColumnSorted:ne},sn={row:tr=>ht(qet,Xr(tr,Mt),{row:e.row,cell:Nn=>{let lr;return e.cell?ht(vO,Xr(Nn,at,{style:it[Nn.column.key]}),v4(lr=e.cell(Nn))?lr:{default:()=>[lr]}):ht(vO,Xr(Nn,at,{style:it[Nn.column.key]}),null)}}),header:tr=>ht(Xet,Xr(tr,et),{header:e.header,cell:Nn=>{let lr;return e["header-cell"]?ht(Kq,Xr(Nn,St,{style:it[Nn.column.key]}),v4(lr=e["header-cell"](Nn))?lr:{default:()=>[lr]}):ht(Kq,Xr(Nn,St,{style:it[Nn.column.key]}),null)}})},bn=[t.class,r.b(),r.e("root"),{[r.is("dynamic")]:S(R)}],gr={class:r.e("footer"),style:S(ie)};return ht("div",{class:bn,style:S(Q)},[ht(Het,De,v4(sn)?sn:{default:()=>[sn]}),ht(jet,It,v4(sn)?sn:{default:()=>[sn]}),ht(Ket,Bt,v4(sn)?sn:{default:()=>[sn]}),e.footer&&ht(Nle,gr,{default:e.footer}),S(q)&&ht(Ule,{class:r.e("empty"),style:S(j)},{default:e.empty}),e.overlay&&ht(zle,{class:r.e("overlay")},{default:e.overlay})])}}}),ett=Ln({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:Rt(Function)}}),ttt=Be({name:"ElAutoResizer",props:ett,setup(t,{slots:e}){const n=vn("auto-resizer"),{height:r,width:i,sizer:s}=Tet(t),l={width:"100%",height:"100%"};return()=>{var c;return ht("div",{ref:s,class:n.b(),style:l},[(c=e.default)==null?void 0:c.call(e,{height:r.value,width:i.value})])}}}),ntt=pi(Jet),rtt=pi(ttt),mM=Symbol("tabsRootContextKey"),itt=Ln({tabs:{type:Rt(Array),default:()=>ro([])}}),$le="ElTabBar",att=Be({name:$le}),stt=Be({...att,props:itt,setup(t,{expose:e}){const n=t,r=ci(),i=ar(mM);i||Ul($le,"<el-tabs><el-tab-bar /></el-tabs>");const s=vn("tabs"),l=Te(),c=Te(),a=()=>{let p=0,m=0;const v=["top","bottom"].includes(i.props.tabPosition)?"width":"height",y=v==="width"?"x":"y",T=y==="x"?"left":"top";return n.tabs.every(C=>{var k,M;const P=(M=(k=r.parent)==null?void 0:k.refs)==null?void 0:M[`tab-${C.uid}`];if(!P)return!1;if(!C.active)return!0;p=P[`offset${im(T)}`],m=P[`client${im(v)}`];const R=window.getComputedStyle(P);return v==="width"&&(n.tabs.length>1&&(m-=Number.parseFloat(R.paddingLeft)+Number.parseFloat(R.paddingRight)),p+=Number.parseFloat(R.paddingLeft)),!1}),{[v]:`${m}px`,transform:`translate${im(y)}(${p}px)`}},f=()=>c.value=a();return ln(()=>n.tabs,async()=>{await dr(),f()},{immediate:!0}),no(l,()=>f()),e({ref:l,update:f}),(p,m)=>(X(),ve("div",{ref_key:"barRef",ref:l,class:Se([S(s).e("active-bar"),S(s).is(S(i).props.tabPosition)]),style:or(c.value)},null,6))}});var ott=Fn(stt,[["__file","tab-bar.vue"]]);const ltt=Ln({panes:{type:Rt(Array),default:()=>ro([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),utt={tabClick:(t,e,n)=>n instanceof Event,tabRemove:(t,e)=>e instanceof Event},Wq="ElTabNav",ctt=Be({name:Wq,props:ltt,emits:utt,setup(t,{expose:e,emit:n}){const r=ci(),i=ar(mM);i||Ul(Wq,"<el-tabs><tab-nav /></el-tabs>");const s=vn("tabs"),l=pCe(),c=SCe(),a=Te(),f=Te(),p=Te(),m=Te(),v=Te(!1),y=Te(0),T=Te(!1),C=Te(!0),k=le(()=>["top","bottom"].includes(i.props.tabPosition)?"width":"height"),M=le(()=>({transform:`translate${k.value==="width"?"X":"Y"}(-${y.value}px)`})),P=()=>{if(!a.value)return;const G=a.value[`offset${im(k.value)}`],ie=y.value;if(!ie)return;const q=ie>G?ie-G:0;y.value=q},R=()=>{if(!a.value||!f.value)return;const G=f.value[`offset${im(k.value)}`],ie=a.value[`offset${im(k.value)}`],q=y.value;if(G-q<=ie)return;const W=G-q>ie*2?q+ie:G-ie;y.value=W},N=async()=>{const G=f.value;if(!v.value||!p.value||!a.value||!G)return;await dr();const ie=p.value.querySelector(".is-active");if(!ie)return;const q=a.value,W=["top","bottom"].includes(i.props.tabPosition),ee=ie.getBoundingClientRect(),he=q.getBoundingClientRect(),J=W?G.offsetWidth-he.width:G.offsetHeight-he.height,te=y.value;let ne=te;W?(ee.left<he.left&&(ne=te-(he.left-ee.left)),ee.right>he.right&&(ne=te+ee.right-he.right)):(ee.top<he.top&&(ne=te-(he.top-ee.top)),ee.bottom>he.bottom&&(ne=te+(ee.bottom-he.bottom))),ne=Math.max(ne,0),y.value=Math.min(ne,J)},z=()=>{var G;if(!f.value||!a.value)return;t.stretch&&((G=m.value)==null||G.update());const ie=f.value[`offset${im(k.value)}`],q=a.value[`offset${im(k.value)}`],W=y.value;q<ie?(v.value=v.value||{},v.value.prev=W,v.value.next=W+q<ie,ie-W<q&&(y.value=ie-q)):(v.value=!1,W>0&&(y.value=0))},H=G=>{const ie=G.code,{up:q,down:W,left:ee,right:he}=Tr;if(![q,W,ee,he].includes(ie))return;const J=Array.from(G.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),te=J.indexOf(G.target);let ne;ie===ee||ie===q?te===0?ne=J.length-1:ne=te-1:te<J.length-1?ne=te+1:ne=0,J[ne].focus({preventScroll:!0}),J[ne].click(),j()},j=()=>{C.value&&(T.value=!0)},Q=()=>T.value=!1;return ln(l,G=>{G==="hidden"?C.value=!1:G==="visible"&&setTimeout(()=>C.value=!0,50)}),ln(c,G=>{G?setTimeout(()=>C.value=!0,50):C.value=!1}),no(p,z),Fr(()=>setTimeout(()=>N(),0)),_0(()=>z()),e({scrollToActiveTab:N,removeFocus:Q}),ln(()=>t.panes,()=>r.update(),{flush:"post",deep:!0}),()=>{const G=v.value?[ht("span",{class:[s.e("nav-prev"),s.is("disabled",!v.value.prev)],onClick:P},[ht(Ar,null,{default:()=>[ht(o0,null,null)]})]),ht("span",{class:[s.e("nav-next"),s.is("disabled",!v.value.next)],onClick:R},[ht(Ar,null,{default:()=>[ht(Vc,null,null)]})])]:null,ie=t.panes.map((q,W)=>{var ee,he,J,te;const ne=q.uid,ce=q.props.disabled,ue=(he=(ee=q.props.name)!=null?ee:q.index)!=null?he:`${W}`,ye=!ce&&(q.isClosable||t.editable);q.index=`${W}`;const Ee=ye?ht(Ar,{class:"is-icon-close",onClick:_e=>n("tabRemove",q,_e)},{default:()=>[ht(Rf,null,null)]}):null,se=((te=(J=q.slots).label)==null?void 0:te.call(J))||q.props.label,oe=!ce&&q.active?0:-1;return ht("div",{ref:`tab-${ne}`,class:[s.e("item"),s.is(i.props.tabPosition),s.is("active",q.active),s.is("disabled",ce),s.is("closable",ye),s.is("focus",T.value)],id:`tab-${ue}`,key:`tab-${ne}`,"aria-controls":`pane-${ue}`,role:"tab","aria-selected":q.active,tabindex:oe,onFocus:()=>j(),onBlur:()=>Q(),onClick:_e=>{Q(),n("tabClick",q,ue,_e)},onKeydown:_e=>{ye&&(_e.code===Tr.delete||_e.code===Tr.backspace)&&n("tabRemove",q,_e)}},[se,Ee])});return ht("div",{ref:p,class:[s.e("nav-wrap"),s.is("scrollable",!!v.value),s.is(i.props.tabPosition)]},[G,ht("div",{class:s.e("nav-scroll"),ref:a},[ht("div",{class:[s.e("nav"),s.is(i.props.tabPosition),s.is("stretch",t.stretch&&["top","bottom"].includes(i.props.tabPosition))],ref:f,style:M.value,role:"tablist",onKeydown:H},[t.type?null:ht(ott,{ref:m,tabs:[...t.panes]},null),ie])])])}}}),htt=Ln({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:Rt(Function),default:()=>!0},stretch:Boolean}),Hk=t=>Hr(t)||Or(t),dtt={[_i]:t=>Hk(t),tabClick:(t,e)=>e instanceof Event,tabChange:t=>Hk(t),edit:(t,e)=>["remove","add"].includes(e),tabRemove:t=>Hk(t),tabAdd:()=>!0},ftt=Be({name:"ElTabs",props:htt,emits:dtt,setup(t,{emit:e,slots:n,expose:r}){var i;const s=vn("tabs"),{children:l,addChild:c,removeChild:a}=F7(ci(),"ElTabPane"),f=Te(),p=Te((i=t.modelValue)!=null?i:"0"),m=async(C,k=!1)=>{var M,P,R;if(!(p.value===C||Zo(C)))try{await((M=t.beforeLeave)==null?void 0:M.call(t,C,p.value))!==!1&&(p.value=C,k&&(e(_i,C),e("tabChange",C)),(R=(P=f.value)==null?void 0:P.removeFocus)==null||R.call(P))}catch{}},v=(C,k,M)=>{C.props.disabled||(m(k,!0),e("tabClick",C,M))},y=(C,k)=>{C.props.disabled||Zo(C.props.name)||(k.stopPropagation(),e("edit",C.props.name,"remove"),e("tabRemove",C.props.name))},T=()=>{e("edit",void 0,"add"),e("tabAdd")};return ln(()=>t.modelValue,C=>m(C)),ln(p,async()=>{var C;await dr(),(C=f.value)==null||C.scrollToActiveTab()}),ki(mM,{props:t,currentName:p,registerPane:c,unregisterPane:a}),r({currentName:p}),()=>{const C=n["add-icon"],k=t.editable||t.addable?ht("span",{class:s.e("new-tab"),tabindex:"0",onClick:T,onKeydown:R=>{R.code===Tr.enter&&T()}},[C?Ft(n,"add-icon"):ht(Ar,{class:s.is("icon-plus")},{default:()=>[ht(o7,null,null)]})]):null,M=ht("div",{class:[s.e("header"),s.is(t.tabPosition)]},[k,ht(ctt,{ref:f,currentName:p.value,editable:t.editable,type:t.type,panes:l.value,stretch:t.stretch,onTabClick:v,onTabRemove:y},null)]),P=ht("div",{class:s.e("content")},[Ft(n,"default")]);return ht("div",{class:[s.b(),s.m(t.tabPosition),{[s.m("card")]:t.type==="card",[s.m("border-card")]:t.type==="border-card"}]},[...t.tabPosition!=="bottom"?[M,P]:[P,M]])}}}),ptt=Ln({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),Att=["id","aria-hidden","aria-labelledby"],Vle="ElTabPane",mtt=Be({name:Vle}),gtt=Be({...mtt,props:ptt,setup(t){const e=t,n=ci(),r=To(),i=ar(mM);i||Ul(Vle,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const s=vn("tab-pane"),l=Te(),c=le(()=>e.closable||i.props.closable),a=EK(()=>{var y;return i.currentName.value===((y=e.name)!=null?y:l.value)}),f=Te(a.value),p=le(()=>{var y;return(y=e.name)!=null?y:l.value}),m=EK(()=>!e.lazy||f.value||a.value);ln(a,y=>{y&&(f.value=!0)});const v=ha({uid:n.uid,slots:r,props:e,paneName:p,active:a,index:l,isClosable:c});return Fr(()=>{i.registerPane(v)}),Hf(()=>{i.unregisterPane(v.uid)}),(y,T)=>S(m)?Jr((X(),ve("div",{key:0,id:`pane-${S(p)}`,class:Se(S(s).b()),role:"tabpanel","aria-hidden":!S(a),"aria-labelledby":`tab-${S(p)}`},[Ft(y.$slots,"default")],10,Att)),[[ca,S(a)]]):bt("v-if",!0)}});var Hle=Fn(gtt,[["__file","tab-pane.vue"]]);const vtt=pi(ftt,{TabPane:Hle}),_tt=ao(Hle),ytt=Ln({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:Om,default:""},truncated:{type:Boolean},lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),btt=Be({name:"ElText"}),wtt=Be({...btt,props:ytt,setup(t){const e=t,n=ml(),r=vn("text"),i=le(()=>[r.b(),r.m(e.type),r.m(n.value),r.is("truncated",e.truncated),r.is("line-clamp",!Zo(e.lineClamp))]);return(s,l)=>(X(),Ut(fi(s.tag),{class:Se(S(i)),style:or({"-webkit-line-clamp":s.lineClamp})},{default:xt(()=>[Ft(s.$slots,"default")]),_:3},8,["class","style"]))}});var xtt=Fn(wtt,[["__file","text.vue"]]);const Ctt=pi(xtt),Ett=Ln({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:String,default:"light"},clearable:{type:Boolean,default:!0},size:lu,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:Rt([String,Object]),default:()=>s7},clearIcon:{type:Rt([String,Object]),default:()=>w0},...sx}),Kg=t=>{const e=(t||"").split(":");if(e.length>=2){let n=Number.parseInt(e[0],10);const r=Number.parseInt(e[1],10),i=t.toUpperCase();return i.includes("AM")&&n===12?n=0:i.includes("PM")&&n!==12&&(n+=12),{hours:n,minutes:r}}return null},Qk=(t,e)=>{const n=Kg(t);if(!n)return-1;const r=Kg(e);if(!r)return-1;const i=n.minutes+n.hours*60,s=r.minutes+r.hours*60;return i===s?0:i>s?1:-1},qq=t=>`${t}`.padStart(2,"0"),fw=t=>`${qq(t.hours)}:${qq(t.minutes)}`,Stt=(t,e)=>{const n=Kg(t);if(!n)return"";const r=Kg(e);if(!r)return"";const i={hours:n.hours,minutes:n.minutes};return i.minutes+=r.minutes,i.hours+=r.hours,i.hours+=Math.floor(i.minutes/60),i.minutes=i.minutes%60,fw(i)},Ttt=Be({name:"ElTimeSelect"}),Btt=Be({...Ttt,props:Ett,emits:["change","blur","focus","update:modelValue"],setup(t,{expose:e}){const n=t;Ai.extend($7);const{Option:r}=By,i=vn("input"),s=Te(),l=fh(),{lang:c}=da(),a=le(()=>n.modelValue),f=le(()=>{const M=Kg(n.start);return M?fw(M):null}),p=le(()=>{const M=Kg(n.end);return M?fw(M):null}),m=le(()=>{const M=Kg(n.step);return M?fw(M):null}),v=le(()=>{const M=Kg(n.minTime||"");return M?fw(M):null}),y=le(()=>{const M=Kg(n.maxTime||"");return M?fw(M):null}),T=le(()=>{const M=[];if(n.start&&n.end&&n.step){let P=f.value,R;for(;P&&p.value&&Qk(P,p.value)<=0;)R=Ai(P,"HH:mm").locale(c.value).format(n.format),M.push({value:R,disabled:Qk(P,v.value||"-1:-1")<=0||Qk(P,y.value||"100:100")>=0}),P=Stt(P,m.value)}return M});return e({blur:()=>{var M,P;(P=(M=s.value)==null?void 0:M.blur)==null||P.call(M)},focus:()=>{var M,P;(P=(M=s.value)==null?void 0:M.focus)==null||P.call(M)}}),(M,P)=>(X(),Ut(S(By),{ref_key:"select",ref:s,"model-value":S(a),disabled:S(l),clearable:M.clearable,"clear-icon":M.clearIcon,size:M.size,effect:M.effect,placeholder:M.placeholder,"default-first-option":"",filterable:M.editable,"empty-values":M.emptyValues,"value-on-clear":M.valueOnClear,"onUpdate:modelValue":P[0]||(P[0]=R=>M.$emit("update:modelValue",R)),onChange:P[1]||(P[1]=R=>M.$emit("change",R)),onBlur:P[2]||(P[2]=R=>M.$emit("blur",R)),onFocus:P[3]||(P[3]=R=>M.$emit("focus",R))},{prefix:xt(()=>[M.prefixIcon?(X(),Ut(S(Ar),{key:0,class:Se(S(i).e("prefix-icon"))},{default:xt(()=>[(X(),Ut(fi(M.prefixIcon)))]),_:1},8,["class"])):bt("v-if",!0)]),default:xt(()=>[(X(!0),ve(Vn,null,Yr(S(T),R=>(X(),Ut(S(r),{key:R.value,label:R.value,value:R.value,disabled:R.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear"]))}});var bT=Fn(Btt,[["__file","time-select.vue"]]);bT.install=t=>{t.component(bT.name,bT)};const Mtt=bT,Itt=Mtt,Ltt=Be({name:"ElTimeline",setup(t,{slots:e}){const n=vn("timeline");return ki("timeline",e),()=>wr("ul",{class:[n.b()]},[Ft(e,"default")])}}),ktt=Ln({timestamp:{type:String,default:""},hideTimestamp:{type:Boolean,default:!1},center:{type:Boolean,default:!1},placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:ts},hollow:{type:Boolean,default:!1}}),Ptt=Be({name:"ElTimelineItem"}),Ftt=Be({...Ptt,props:ktt,setup(t){const e=t,n=vn("timeline-item"),r=le(()=>[n.e("node"),n.em("node",e.size||""),n.em("node",e.type||""),n.is("hollow",e.hollow)]);return(i,s)=>(X(),ve("li",{class:Se([S(n).b(),{[S(n).e("center")]:i.center}])},[pe("div",{class:Se(S(n).e("tail"))},null,2),i.$slots.dot?bt("v-if",!0):(X(),ve("div",{key:0,class:Se(S(r)),style:or({backgroundColor:i.color})},[i.icon?(X(),Ut(S(Ar),{key:0,class:Se(S(n).e("icon"))},{default:xt(()=>[(X(),Ut(fi(i.icon)))]),_:1},8,["class"])):bt("v-if",!0)],6)),i.$slots.dot?(X(),ve("div",{key:1,class:Se(S(n).e("dot"))},[Ft(i.$slots,"dot")],2)):bt("v-if",!0),pe("div",{class:Se(S(n).e("wrapper"))},[!i.hideTimestamp&&i.placement==="top"?(X(),ve("div",{key:0,class:Se([S(n).e("timestamp"),S(n).is("top")])},Cn(i.timestamp),3)):bt("v-if",!0),pe("div",{class:Se(S(n).e("content"))},[Ft(i.$slots,"default")],2),!i.hideTimestamp&&i.placement==="bottom"?(X(),ve("div",{key:1,class:Se([S(n).e("timestamp"),S(n).is("bottom")])},Cn(i.timestamp),3)):bt("v-if",!0)],2)],2))}});var Qle=Fn(Ftt,[["__file","timeline-item.vue"]]);const Rtt=pi(Ltt,{TimelineItem:Qle}),Ott=ao(Qle),jle=Ln({nowrap:Boolean});var Gle=(t=>(t.top="top",t.bottom="bottom",t.left="left",t.right="right",t))(Gle||{});const Dtt=Object.values(Gle),pU=Ln({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:Rt(Object),default:null}}),Ntt=Ln({side:{type:Rt(String),values:Dtt,required:!0}}),Utt=["absolute","fixed"],ztt=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],AU=Ln({arrowPadding:{type:Rt(Number),default:5},effect:{type:String,default:""},contentClass:String,placement:{type:Rt(String),values:ztt,default:"bottom"},reference:{type:Rt(Object),default:null},offset:{type:Number,default:8},strategy:{type:Rt(String),values:Utt,default:"absolute"},showArrow:{type:Boolean,default:!1},...Wu(["ariaLabel"])}),mU=Ln({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:Rt(Function)},"onUpdate:open":{type:Rt(Function)}}),Vb={type:Rt(Function)},gU=Ln({onBlur:Vb,onClick:Vb,onFocus:Vb,onMouseDown:Vb,onMouseEnter:Vb,onMouseLeave:Vb}),$tt=Ln({...mU,...pU,...gU,...AU,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:Rt(Object),default:null},teleported:Boolean,to:{type:Rt(String),default:"body"}}),gM=Symbol("tooltipV2"),Kle=Symbol("tooltipV2Content"),jk="tooltip_v2.open",Vtt=Be({name:"ElTooltipV2Root"}),Htt=Be({...Vtt,props:mU,setup(t,{expose:e}){const n=t,r=Te(n.defaultOpen),i=Te(null),s=le({get:()=>wy(n.open)?r.value:n.open,set:k=>{var M;r.value=k,(M=n["onUpdate:open"])==null||M.call(n,k)}}),l=le(()=>Or(n.delayDuration)&&n.delayDuration>0),{start:c,stop:a}=yy(()=>{s.value=!0},le(()=>n.delayDuration),{immediate:!1}),f=vn("tooltip-v2"),p=hc(),m=()=>{a(),s.value=!0},v=()=>{S(l)?c():m()},y=m,T=()=>{a(),s.value=!1};return ln(s,k=>{var M;k&&(document.dispatchEvent(new CustomEvent(jk)),y()),(M=n.onOpenChange)==null||M.call(n,k)}),Fr(()=>{document.addEventListener(jk,T)}),ps(()=>{a(),document.removeEventListener(jk,T)}),ki(gM,{contentId:p,triggerRef:i,ns:f,onClose:T,onDelayOpen:v,onOpen:y}),e({onOpen:y,onClose:T}),(k,M)=>Ft(k.$slots,"default",{open:S(s)})}});var Qtt=Fn(Htt,[["__file","root.vue"]]);const jtt=Be({name:"ElTooltipV2Arrow"}),Gtt=Be({...jtt,props:{...pU,...Ntt},setup(t){const e=t,{ns:n}=ar(gM),{arrowRef:r}=ar(Kle),i=le(()=>{const{style:s,width:l,height:c}=e,a=n.namespace.value;return{[`--${a}-tooltip-v2-arrow-width`]:`${l}px`,[`--${a}-tooltip-v2-arrow-height`]:`${c}px`,[`--${a}-tooltip-v2-arrow-border-width`]:`${l/2}px`,[`--${a}-tooltip-v2-arrow-cover-width`]:l/2-1,...s||{}}});return(s,l)=>(X(),ve("span",{ref_key:"arrowRef",ref:r,style:or(S(i)),class:Se(S(n).e("arrow"))},null,6))}});var Yq=Fn(Gtt,[["__file","arrow.vue"]]);const Ktt=Ln({style:{type:Rt([String,Object,Array]),default:()=>({})}}),Wtt=Be({name:"ElVisuallyHidden"}),qtt=Be({...Wtt,props:Ktt,setup(t){const e=t,n=le(()=>[e.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(r,i)=>(X(),ve("span",Xr(r.$attrs,{style:S(n)}),[Ft(r.$slots,"default")],16))}});var Ytt=Fn(qtt,[["__file","visual-hidden.vue"]]);const Xtt=["data-side"],Ztt=Be({name:"ElTooltipV2Content"}),Jtt=Be({...Ztt,props:{...AU,...jle},setup(t){const e=t,{triggerRef:n,contentId:r}=ar(gM),i=Te(e.placement),s=Te(e.strategy),l=Te(null),{referenceRef:c,contentRef:a,middlewareData:f,x:p,y:m,update:v}=CNe({placement:i,strategy:s,middleware:le(()=>{const R=[Jae(e.offset)];return e.showArrow&&R.push(ENe({arrowRef:l})),R})}),y=ix().nextZIndex(),T=vn("tooltip-v2"),C=le(()=>i.value.split("-")[0]),k=le(()=>({position:S(s),top:`${S(m)||0}px`,left:`${S(p)||0}px`,zIndex:y})),M=le(()=>{if(!e.showArrow)return{};const{arrow:R}=S(f);return{[`--${T.namespace.value}-tooltip-v2-arrow-x`]:`${R==null?void 0:R.x}px`||"",[`--${T.namespace.value}-tooltip-v2-arrow-y`]:`${R==null?void 0:R.y}px`||""}}),P=le(()=>[T.e("content"),T.is("dark",e.effect==="dark"),T.is(S(s)),e.contentClass]);return ln(l,()=>v()),ln(()=>e.placement,R=>i.value=R),Fr(()=>{ln(()=>e.reference||n.value,R=>{c.value=R||void 0},{immediate:!0})}),ki(Kle,{arrowRef:l}),(R,N)=>(X(),ve("div",{ref_key:"contentRef",ref:a,style:or(S(k)),"data-tooltip-v2-root":""},[R.nowrap?bt("v-if",!0):(X(),ve("div",{key:0,"data-side":S(C),class:Se(S(P))},[Ft(R.$slots,"default",{contentStyle:S(k),contentClass:S(P)}),ht(S(Ytt),{id:S(r),role:"tooltip"},{default:xt(()=>[R.ariaLabel?(X(),ve(Vn,{key:0},[xi(Cn(R.ariaLabel),1)],64)):Ft(R.$slots,"default",{key:1})]),_:3},8,["id"]),Ft(R.$slots,"arrow",{style:or(S(M)),side:S(C)})],10,Xtt))],4))}});var Xq=Fn(Jtt,[["__file","content.vue"]]);const ent=Ln({setRef:{type:Rt(Function),required:!0},onlyChild:Boolean});var tnt=Be({props:ent,setup(t,{slots:e}){const n=Te(),r=nM(n,i=>{i?t.setRef(i.nextElementSibling):t.setRef(null)});return()=>{var i;const[s]=((i=e.default)==null?void 0:i.call(e))||[],l=t.onlyChild?vOe(s.children):s.children;return ht(Vn,{ref:r},[l])}}});const nnt=Be({name:"ElTooltipV2Trigger"}),rnt=Be({...nnt,props:{...jle,...gU},setup(t){const e=t,{onClose:n,onOpen:r,onDelayOpen:i,triggerRef:s,contentId:l}=ar(gM);let c=!1;const a=P=>{s.value=P},f=()=>{c=!1},p=xo(e.onMouseEnter,i),m=xo(e.onMouseLeave,n),v=xo(e.onMouseDown,()=>{n(),c=!0,document.addEventListener("mouseup",f,{once:!0})}),y=xo(e.onFocus,()=>{c||r()}),T=xo(e.onBlur,n),C=xo(e.onClick,P=>{P.detail===0&&n()}),k={blur:T,click:C,focus:y,mousedown:v,mouseenter:p,mouseleave:m},M=(P,R,N)=>{P&&Object.entries(R).forEach(([z,H])=>{P[N](z,H)})};return ln(s,(P,R)=>{M(P,k,"addEventListener"),M(R,k,"removeEventListener"),P&&P.setAttribute("aria-describedby",l.value)}),ps(()=>{M(s.value,k,"removeEventListener"),document.removeEventListener("mouseup",f)}),(P,R)=>P.nowrap?(X(),Ut(S(tnt),{key:0,"set-ref":a,"only-child":""},{default:xt(()=>[Ft(P.$slots,"default")]),_:3})):(X(),ve("button",Xr({key:1,ref_key:"triggerRef",ref:s},P.$attrs),[Ft(P.$slots,"default")],16))}});var int=Fn(rnt,[["__file","trigger.vue"]]);const ant=Be({name:"ElTooltipV2"}),snt=Be({...ant,props:$tt,setup(t){const n=Gu(t),r=ha(om(n,Object.keys(pU))),i=ha(om(n,Object.keys(AU))),s=ha(om(n,Object.keys(mU))),l=ha(om(n,Object.keys(gU)));return(c,a)=>(X(),Ut(Qtt,ho(ou(s)),{default:xt(({open:f})=>[ht(int,Xr(l,{nowrap:""}),{default:xt(()=>[Ft(c.$slots,"trigger")]),_:3},16),(X(),Ut(Ny,{to:c.to,disabled:!c.teleported},[c.fullTransition?(X(),Ut(fo,ho(Xr({key:0},c.transitionProps)),{default:xt(()=>[c.alwaysOn||f?(X(),Ut(Xq,ho(Xr({key:0},i)),{arrow:xt(({style:p,side:m})=>[c.showArrow?(X(),Ut(Yq,Xr({key:0},r,{style:p,side:m}),null,16,["style","side"])):bt("v-if",!0)]),default:xt(()=>[Ft(c.$slots,"default")]),_:3},16)):bt("v-if",!0)]),_:2},1040)):(X(),ve(Vn,{key:1},[c.alwaysOn||f?(X(),Ut(Xq,ho(Xr({key:0},i)),{arrow:xt(({style:p,side:m})=>[c.showArrow?(X(),Ut(Yq,Xr({key:0},r,{style:p,side:m}),null,16,["style","side"])):bt("v-if",!0)]),default:xt(()=>[Ft(c.$slots,"default")]),_:3},16)):bt("v-if",!0)],64))],8,["to","disabled"]))]),_:3},16))}});var ont=Fn(snt,[["__file","tooltip.vue"]]);const lnt=pi(ont),Wle="left-check-change",qle="right-check-change",pw=Ln({data:{type:Rt(Array),default:()=>[]},titles:{type:Rt(Array),default:()=>[]},buttonTexts:{type:Rt(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:Rt(Function)},leftDefaultChecked:{type:Rt(Array),default:()=>[]},rightDefaultChecked:{type:Rt(Array),default:()=>[]},renderContent:{type:Rt(Function)},modelValue:{type:Rt(Array),default:()=>[]},format:{type:Rt(Object),default:()=>({})},filterable:Boolean,props:{type:Rt(Object),default:()=>ro({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),_O=(t,e)=>[t,e].every(Jn)||Jn(t)&&Cu(e),unt={[bs]:(t,e,n)=>[t,n].every(Jn)&&["left","right"].includes(e),[_i]:t=>Jn(t),[Wle]:_O,[qle]:_O},yO="checked-change",cnt=Ln({data:pw.data,optionRender:{type:Rt(Function)},placeholder:String,title:String,filterable:Boolean,format:pw.format,filterMethod:pw.filterMethod,defaultChecked:pw.leftDefaultChecked,props:pw.props}),hnt={[yO]:_O},B5=t=>{const e={label:"label",key:"key",disabled:"disabled"};return le(()=>({...e,...t.props}))},dnt=(t,e,n)=>{const r=B5(t),i=le(()=>t.data.filter(p=>Dr(t.filterMethod)?t.filterMethod(e.query,p):String(p[r.value.label]||p[r.value.key]).toLowerCase().includes(e.query.toLowerCase()))),s=le(()=>i.value.filter(p=>!p[r.value.disabled])),l=le(()=>{const p=e.checked.length,m=t.data.length,{noChecked:v,hasChecked:y}=t.format;return v&&y?p>0?y.replace(/\${checked}/g,p.toString()).replace(/\${total}/g,m.toString()):v.replace(/\${total}/g,m.toString()):`${p}/${m}`}),c=le(()=>{const p=e.checked.length;return p>0&&p<s.value.length}),a=()=>{const p=s.value.map(m=>m[r.value.key]);e.allChecked=p.length>0&&p.every(m=>e.checked.includes(m))},f=p=>{e.checked=p?s.value.map(m=>m[r.value.key]):[]};return ln(()=>e.checked,(p,m)=>{if(a(),e.checkChangeByUser){const v=p.concat(m).filter(y=>!p.includes(y)||!m.includes(y));n(yO,p,v)}else n(yO,p),e.checkChangeByUser=!0}),ln(s,()=>{a()}),ln(()=>t.data,()=>{const p=[],m=i.value.map(v=>v[r.value.key]);e.checked.forEach(v=>{m.includes(v)&&p.push(v)}),e.checkChangeByUser=!1,e.checked=p}),ln(()=>t.defaultChecked,(p,m)=>{if(m&&p.length===m.length&&p.every(T=>m.includes(T)))return;const v=[],y=s.value.map(T=>T[r.value.key]);p.forEach(T=>{y.includes(T)&&v.push(T)}),e.checkChangeByUser=!1,e.checked=v},{immediate:!0}),{filteredData:i,checkableData:s,checkedSummary:l,isIndeterminate:c,updateAllChecked:a,handleAllCheckedChange:f}},fnt=(t,e)=>({onSourceCheckedChange:(i,s)=>{t.leftChecked=i,s&&e(Wle,i,s)},onTargetCheckedChange:(i,s)=>{t.rightChecked=i,s&&e(qle,i,s)}}),pnt=t=>{const e=B5(t),n=le(()=>t.data.reduce((s,l)=>(s[l[e.value.key]]=l)&&s,{})),r=le(()=>t.data.filter(s=>!t.modelValue.includes(s[e.value.key]))),i=le(()=>t.targetOrder==="original"?t.data.filter(s=>t.modelValue.includes(s[e.value.key])):t.modelValue.reduce((s,l)=>{const c=n.value[l];return c&&s.push(c),s},[]));return{sourceData:r,targetData:i}},Ant=(t,e,n)=>{const r=B5(t),i=(c,a,f)=>{n(_i,c),n(bs,c,a,f)};return{addToLeft:()=>{const c=t.modelValue.slice();e.rightChecked.forEach(a=>{const f=c.indexOf(a);f>-1&&c.splice(f,1)}),i(c,"left",e.rightChecked)},addToRight:()=>{let c=t.modelValue.slice();const a=t.data.filter(f=>{const p=f[r.value.key];return e.leftChecked.includes(p)&&!t.modelValue.includes(p)}).map(f=>f[r.value.key]);c=t.targetOrder==="unshift"?a.concat(c):c.concat(a),t.targetOrder==="original"&&(c=t.data.filter(f=>c.includes(f[r.value.key])).map(f=>f[r.value.key])),i(c,"right",e.leftChecked)}}},mnt=Be({name:"ElTransferPanel"}),gnt=Be({...mnt,props:cnt,emits:hnt,setup(t,{expose:e,emit:n}){const r=t,i=To(),s=({option:R})=>R,{t:l}=da(),c=vn("transfer"),a=ha({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),f=B5(r),{filteredData:p,checkedSummary:m,isIndeterminate:v,handleAllCheckedChange:y}=dnt(r,a,n),T=le(()=>!bf(a.query)&&bf(p.value)),C=le(()=>!bf(i.default()[0].children)),{checked:k,allChecked:M,query:P}=Gu(a);return e({query:P}),(R,N)=>(X(),ve("div",{class:Se(S(c).b("panel"))},[pe("p",{class:Se(S(c).be("panel","header"))},[ht(S(Nf),{modelValue:S(M),"onUpdate:modelValue":N[0]||(N[0]=z=>fs(M)?M.value=z:null),indeterminate:S(v),"validate-event":!1,onChange:S(y)},{default:xt(()=>[xi(Cn(R.title)+" ",1),pe("span",null,Cn(S(m)),1)]),_:1},8,["modelValue","indeterminate","onChange"])],2),pe("div",{class:Se([S(c).be("panel","body"),S(c).is("with-footer",S(C))])},[R.filterable?(X(),Ut(S(Nc),{key:0,modelValue:S(P),"onUpdate:modelValue":N[1]||(N[1]=z=>fs(P)?P.value=z:null),class:Se(S(c).be("panel","filter")),size:"default",placeholder:R.placeholder,"prefix-icon":S(Aae),clearable:"","validate-event":!1},null,8,["modelValue","class","placeholder","prefix-icon"])):bt("v-if",!0),Jr(ht(S(eoe),{modelValue:S(k),"onUpdate:modelValue":N[2]||(N[2]=z=>fs(k)?k.value=z:null),"validate-event":!1,class:Se([S(c).is("filterable",R.filterable),S(c).be("panel","list")])},{default:xt(()=>[(X(!0),ve(Vn,null,Yr(S(p),z=>(X(),Ut(S(Nf),{key:z[S(f).key],class:Se(S(c).be("panel","item")),value:z[S(f).key],disabled:z[S(f).disabled],"validate-event":!1},{default:xt(()=>{var H;return[ht(s,{option:(H=R.optionRender)==null?void 0:H.call(R,z)},null,8,["option"])]}),_:2},1032,["class","value","disabled"]))),128))]),_:1},8,["modelValue","class"]),[[ca,!S(T)&&!S(bf)(R.data)]]),Jr(pe("p",{class:Se(S(c).be("panel","empty"))},Cn(S(T)?S(l)("el.transfer.noMatch"):S(l)("el.transfer.noData")),3),[[ca,S(T)||S(bf)(R.data)]])],2),S(C)?(X(),ve("p",{key:0,class:Se(S(c).be("panel","footer"))},[Ft(R.$slots,"default")],2)):bt("v-if",!0)],2))}});var Zq=Fn(gnt,[["__file","transfer-panel.vue"]]);const vnt={key:0},_nt={key:0},ynt=Be({name:"ElTransfer"}),bnt=Be({...ynt,props:pw,emits:unt,setup(t,{expose:e,emit:n}){const r=t,i=To(),{t:s}=da(),l=vn("transfer"),{formItem:c}=Qc(),a=ha({leftChecked:[],rightChecked:[]}),f=B5(r),{sourceData:p,targetData:m}=pnt(r),{onSourceCheckedChange:v,onTargetCheckedChange:y}=fnt(a,n),{addToLeft:T,addToRight:C}=Ant(r,a,n),k=Te(),M=Te(),P=Q=>{switch(Q){case"left":k.value.query="";break;case"right":M.value.query="";break}},R=le(()=>r.buttonTexts.length===2),N=le(()=>r.titles[0]||s("el.transfer.titles.0")),z=le(()=>r.titles[1]||s("el.transfer.titles.1")),H=le(()=>r.filterPlaceholder||s("el.transfer.filterPlaceholder"));ln(()=>r.modelValue,()=>{var Q;r.validateEvent&&((Q=c==null?void 0:c.validate)==null||Q.call(c,"change").catch(G=>void 0))});const j=le(()=>Q=>r.renderContent?r.renderContent(wr,Q):i.default?i.default({option:Q}):wr("span",Q[f.value.label]||Q[f.value.key]));return e({clearQuery:P,leftPanel:k,rightPanel:M}),(Q,G)=>(X(),ve("div",{class:Se(S(l).b())},[ht(Zq,{ref_key:"leftPanel",ref:k,data:S(p),"option-render":S(j),placeholder:S(H),title:S(N),filterable:Q.filterable,format:Q.format,"filter-method":Q.filterMethod,"default-checked":Q.leftDefaultChecked,props:r.props,onCheckedChange:S(v)},{default:xt(()=>[Ft(Q.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),pe("div",{class:Se(S(l).e("buttons"))},[ht(S(Eu),{type:"primary",class:Se([S(l).e("button"),S(l).is("with-texts",S(R))]),disabled:S(bf)(a.rightChecked),onClick:S(T)},{default:xt(()=>[ht(S(Ar),null,{default:xt(()=>[ht(S(o0))]),_:1}),S(Zo)(Q.buttonTexts[0])?bt("v-if",!0):(X(),ve("span",vnt,Cn(Q.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),ht(S(Eu),{type:"primary",class:Se([S(l).e("button"),S(l).is("with-texts",S(R))]),disabled:S(bf)(a.leftChecked),onClick:S(C)},{default:xt(()=>[S(Zo)(Q.buttonTexts[1])?bt("v-if",!0):(X(),ve("span",_nt,Cn(Q.buttonTexts[1]),1)),ht(S(Ar),null,{default:xt(()=>[ht(S(Vc))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),ht(Zq,{ref_key:"rightPanel",ref:M,data:S(m),"option-render":S(j),placeholder:S(H),filterable:Q.filterable,format:Q.format,"filter-method":Q.filterMethod,title:S(z),"default-checked":Q.rightDefaultChecked,props:r.props,onCheckedChange:S(y)},{default:xt(()=>[Ft(Q.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var wnt=Fn(bnt,[["__file","transfer.vue"]]);const xnt=pi(wnt),Jw="$treeNodeId",Jq=function(t,e){!e||e[Jw]||Object.defineProperty(e,Jw,{value:t.id,enumerable:!1,configurable:!1,writable:!1})},vU=function(t,e){return t?e[t]:e[Jw]},bO=(t,e,n)=>{const r=t.value.currentNode;n();const i=t.value.currentNode;r!==i&&e("current-change",i?i.data:null,i)},wO=t=>{let e=!0,n=!0,r=!0;for(let i=0,s=t.length;i<s;i++){const l=t[i];(l.checked!==!0||l.indeterminate)&&(e=!1,l.disabled||(r=!1)),(l.checked!==!1||l.indeterminate)&&(n=!1)}return{all:e,none:n,allWithoutDisable:r,half:!e&&!n}},$4=function(t){if(t.childNodes.length===0||t.loading)return;const{all:e,none:n,half:r}=wO(t.childNodes);e?(t.checked=!0,t.indeterminate=!1):r?(t.checked=!1,t.indeterminate=!0):n&&(t.checked=!1,t.indeterminate=!1);const i=t.parent;!i||i.level===0||t.store.checkStrictly||$4(i)},PS=function(t,e){const n=t.store.props,r=t.data||{},i=n[e];if(typeof i=="function")return i(r,t);if(typeof i=="string")return r[i];if(typeof i>"u"){const s=r[e];return s===void 0?"":s}};let Cnt=0,xO=class wT{constructor(e){this.id=Cnt++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const n in e)aa(e,n)&&(this[n]=e[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const e=this.store;if(!e)throw new Error("[Node]store is required!");e.registerNode(this);const n=e.props;if(n&&typeof n.isLeaf<"u"){const s=PS(this,"isLeaf");typeof s=="boolean"&&(this.isLeafByUser=s)}if(e.lazy!==!0&&this.data?(this.setData(this.data),e.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&e.lazy&&e.defaultExpandAll&&this.expand(),Array.isArray(this.data)||Jq(this,this.data),!this.data)return;const r=e.defaultExpandedKeys,i=e.key;i&&r&&r.includes(this.key)&&this.expand(null,e.autoExpandParent),i&&e.currentNodeKey!==void 0&&this.key===e.currentNodeKey&&(e.currentNode=this,e.currentNode.isCurrent=!0),e.lazy&&e._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(e){Array.isArray(e)||Jq(this,e),this.data=e,this.childNodes=[];let n;this.level===0&&Array.isArray(this.data)?n=this.data:n=PS(this,"children")||[];for(let r=0,i=n.length;r<i;r++)this.insertChild({data:n[r]})}get label(){return PS(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return PS(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const n=e.childNodes.indexOf(this);if(n>-1)return e.childNodes[n+1]}return null}get previousSibling(){const e=this.parent;if(e){const n=e.childNodes.indexOf(this);if(n>-1)return n>0?e.childNodes[n-1]:null}return null}contains(e,n=!0){return(this.childNodes||[]).some(r=>r===e||n&&r.contains(e))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(e,n,r){if(!e)throw new Error("InsertChild error: child is required.");if(!(e instanceof wT)){if(!r){const i=this.getChildren(!0);i.includes(e.data)||(typeof n>"u"||n<0?i.push(e.data):i.splice(n,0,e.data))}Object.assign(e,{parent:this,store:this.store}),e=ha(new wT(e)),e instanceof wT&&e.initialize()}e.level=this.level+1,typeof n>"u"||n<0?this.childNodes.push(e):this.childNodes.splice(n,0,e),this.updateLeafState()}insertBefore(e,n){let r;n&&(r=this.childNodes.indexOf(n)),this.insertChild(e,r)}insertAfter(e,n){let r;n&&(r=this.childNodes.indexOf(n),r!==-1&&(r+=1)),this.insertChild(e,r)}removeChild(e){const n=this.getChildren()||[],r=n.indexOf(e.data);r>-1&&n.splice(r,1);const i=this.childNodes.indexOf(e);i>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(i,1)),this.updateLeafState()}removeChildByData(e){let n=null;for(let r=0;r<this.childNodes.length;r++)if(this.childNodes[r].data===e){n=this.childNodes[r];break}n&&this.removeChild(n)}expand(e,n){const r=()=>{if(n){let i=this.parent;for(;i.level>0;)i.expanded=!0,i=i.parent}this.expanded=!0,e&&e(),this.childNodes.forEach(i=>{i.canFocus=!0})};this.shouldLoadData()?this.loadData(i=>{Array.isArray(i)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||$4(this),r())}):r()}doCreateChildren(e,n={}){e.forEach(r=>{this.insertChild(Object.assign({data:r},n),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(e=>{e.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const e=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!e||e.length===0;return}this.isLeaf=!1}setChecked(e,n,r,i){if(this.indeterminate=e==="half",this.checked=e===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:l,allWithoutDisable:c}=wO(this.childNodes);!this.isLeaf&&!l&&c&&(this.checked=!1,e=!1);const a=()=>{if(n){const f=this.childNodes;for(let v=0,y=f.length;v<y;v++){const T=f[v];i=i||e!==!1;const C=T.disabled?T.checked:i;T.setChecked(C,n,!0,i)}const{half:p,all:m}=wO(f);m||(this.checked=m,this.indeterminate=p)}};if(this.shouldLoadData()){this.loadData(()=>{a(),$4(this)},{checked:e!==!1});return}else a()}const s=this.parent;!s||s.level===0||r||$4(s)}getChildren(e=!1){if(this.level===0)return this.data;const n=this.data;if(!n)return null;const r=this.store.props;let i="children";return r&&(i=r.children||"children"),n[i]===void 0&&(n[i]=null),e&&!n[i]&&(n[i]=[]),n[i]}updateChildren(){const e=this.getChildren()||[],n=this.childNodes.map(s=>s.data),r={},i=[];e.forEach((s,l)=>{const c=s[Jw];!!c&&n.findIndex(f=>f[Jw]===c)>=0?r[c]={index:l,data:s}:i.push({index:l,data:s})}),this.store.lazy||n.forEach(s=>{r[s[Jw]]||this.removeChildByData(s)}),i.forEach(({index:s,data:l})=>{this.insertChild({data:l},s)}),this.updateLeafState()}loadData(e,n={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(n).length)){this.loading=!0;const r=s=>{this.childNodes=[],this.doCreateChildren(s,n),this.loaded=!0,this.loading=!1,this.updateLeafState(),e&&e.call(this,s)},i=()=>{this.loading=!1};this.store.load(this,r,i)}else e&&e.call(this)}eachNode(e){const n=[this];for(;n.length;){const r=n.shift();n.unshift(...r.childNodes),e(r)}}reInitChecked(){this.store.checkStrictly||$4(this)}};class Ent{constructor(e){this.currentNode=null,this.currentNodeKey=null;for(const n in e)aa(e,n)&&(this[n]=e[n]);this.nodesMap={}}initialize(){if(this.root=new xO({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const e=this.load;e(this.root,n=>{this.root.doCreateChildren(n),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(e){const n=this.filterNodeMethod,r=this.lazy,i=function(s){const l=s.root?s.root.childNodes:s.childNodes;if(l.forEach(c=>{c.visible=n.call(c,e,c.data,c),i(c)}),!s.visible&&l.length){let c=!0;c=!l.some(a=>a.visible),s.root?s.root.visible=c===!1:s.visible=c===!1}e&&s.visible&&!s.isLeaf&&(!r||s.loaded)&&s.expand()};i(this)}setData(e){e!==this.root.data?(this.root.setData(e),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(e){if(e instanceof xO)return e;const n=mi(e)?vU(this.key,e):e;return this.nodesMap[n]||null}insertBefore(e,n){const r=this.getNode(n);r.parent.insertBefore({data:e},r)}insertAfter(e,n){const r=this.getNode(n);r.parent.insertAfter({data:e},r)}remove(e){const n=this.getNode(e);n&&n.parent&&(n===this.currentNode&&(this.currentNode=null),n.parent.removeChild(n))}append(e,n){const r=wy(n)?this.root:this.getNode(n);r&&r.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],n=this.nodesMap;e.forEach(r=>{const i=n[r];i&&i.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(e){(this.defaultCheckedKeys||[]).includes(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const n=this.key;!e||!e.data||(n?e.key!==void 0&&(this.nodesMap[e.key]=e):this.nodesMap[e.id]=e)}deregisterNode(e){!this.key||!e||!e.data||(e.childNodes.forEach(r=>{this.deregisterNode(r)}),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,n=!1){const r=[],i=function(s){(s.root?s.root.childNodes:s.childNodes).forEach(c=>{(c.checked||n&&c.indeterminate)&&(!e||e&&c.isLeaf)&&r.push(c.data),i(c)})};return i(this),r}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map(n=>(n||{})[this.key])}getHalfCheckedNodes(){const e=[],n=function(r){(r.root?r.root.childNodes:r.childNodes).forEach(s=>{s.indeterminate&&e.push(s.data),n(s)})};return n(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(e=>(e||{})[this.key])}_getAllNodes(){const e=[],n=this.nodesMap;for(const r in n)aa(n,r)&&e.push(n[r]);return e}updateChildren(e,n){const r=this.nodesMap[e];if(!r)return;const i=r.childNodes;for(let s=i.length-1;s>=0;s--){const l=i[s];this.remove(l.data)}for(let s=0,l=n.length;s<l;s++){const c=n[s];this.append(c,r.data)}}_setCheckedKeys(e,n=!1,r){const i=this._getAllNodes().sort((a,f)=>a.level-f.level),s=Object.create(null),l=Object.keys(r);i.forEach(a=>a.setChecked(!1,!1));const c=a=>{a.childNodes.forEach(f=>{var p;s[f.data[e]]=!0,(p=f.childNodes)!=null&&p.length&&c(f)})};for(let a=0,f=i.length;a<f;a++){const p=i[a],m=p.data[e].toString();if(!l.includes(m)){p.checked&&!s[m]&&p.setChecked(!1,!1);continue}if(p.childNodes.length&&c(p),p.isLeaf||this.checkStrictly){p.setChecked(!0,!1);continue}if(p.setChecked(!0,!0),n){p.setChecked(!1,!1);const y=function(T){T.childNodes.forEach(k=>{k.isLeaf||k.setChecked(!1,!1),y(k)})};y(p)}}}setCheckedNodes(e,n=!1){const r=this.key,i={};e.forEach(s=>{i[(s||{})[r]]=!0}),this._setCheckedKeys(r,n,i)}setCheckedKeys(e,n=!1){this.defaultCheckedKeys=e;const r=this.key,i={};e.forEach(s=>{i[s]=!0}),this._setCheckedKeys(r,n,i)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach(n=>{const r=this.getNode(n);r&&r.expand(null,this.autoExpandParent)})}setChecked(e,n,r){const i=this.getNode(e);i&&i.setChecked(!!n,r)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const n=this.currentNode;n&&(n.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,n=!0){const r=e[this.key],i=this.nodesMap[r];this.setCurrentNode(i),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(e,n=!0){if(e==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const r=this.getNode(e);r&&(this.setCurrentNode(r),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const Snt=Be({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(t){const e=vn("tree"),n=ar("NodeInstance"),r=ar("RootTree");return()=>{const i=t.node,{data:s,store:l}=i;return t.renderContent?t.renderContent(wr,{_self:n,node:i,data:s,store:l}):Ft(r.ctx.slots,"default",{node:i,data:s},()=>[wr("span",{class:e.be("node","label")},[i.label])])}}});var Tnt=Fn(Snt,[["__file","tree-node-content.vue"]]);function Yle(t){const e=ar("TreeNodeMap",null),n={treeNodeExpand:r=>{t.node!==r&&t.node.collapse()},children:[]};return e&&e.children.push(n),ki("TreeNodeMap",n),{broadcastExpanded:r=>{if(t.accordion)for(const i of n.children)i.treeNodeExpand(r)}}}const Xle=Symbol("dragEvents");function Bnt({props:t,ctx:e,el$:n,dropIndicator$:r,store:i}){const s=vn("tree"),l=Te({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return ki(Xle,{treeNodeDragStart:({event:p,treeNode:m})=>{if(typeof t.allowDrag=="function"&&!t.allowDrag(m.node))return p.preventDefault(),!1;p.dataTransfer.effectAllowed="move";try{p.dataTransfer.setData("text/plain","")}catch{}l.value.draggingNode=m,e.emit("node-drag-start",m.node,p)},treeNodeDragOver:({event:p,treeNode:m})=>{const v=m,y=l.value.dropNode;y&&y.node.id!==v.node.id&&$c(y.$el,s.is("drop-inner"));const T=l.value.draggingNode;if(!T||!v)return;let C=!0,k=!0,M=!0,P=!0;typeof t.allowDrop=="function"&&(C=t.allowDrop(T.node,v.node,"prev"),P=k=t.allowDrop(T.node,v.node,"inner"),M=t.allowDrop(T.node,v.node,"next")),p.dataTransfer.dropEffect=k||C||M?"move":"none",(C||k||M)&&(y==null?void 0:y.node.id)!==v.node.id&&(y&&e.emit("node-drag-leave",T.node,y.node,p),e.emit("node-drag-enter",T.node,v.node,p)),C||k||M?l.value.dropNode=v:l.value.dropNode=null,v.node.nextSibling===T.node&&(M=!1),v.node.previousSibling===T.node&&(C=!1),v.node.contains(T.node,!1)&&(k=!1),(T.node===v.node||T.node.contains(v.node))&&(C=!1,k=!1,M=!1);const R=v.$el.querySelector(`.${s.be("node","content")}`).getBoundingClientRect(),N=n.value.getBoundingClientRect();let z;const H=C?k?.25:M?.45:1:-1,j=M?k?.75:C?.55:0:1;let Q=-9999;const G=p.clientY-R.top;G<R.height*H?z="before":G>R.height*j?z="after":k?z="inner":z="none";const ie=v.$el.querySelector(`.${s.be("node","expand-icon")}`).getBoundingClientRect(),q=r.value;z==="before"?Q=ie.top-N.top:z==="after"&&(Q=ie.bottom-N.top),q.style.top=`${Q}px`,q.style.left=`${ie.right-N.left}px`,z==="inner"?Cf(v.$el,s.is("drop-inner")):$c(v.$el,s.is("drop-inner")),l.value.showDropIndicator=z==="before"||z==="after",l.value.allowDrop=l.value.showDropIndicator||P,l.value.dropType=z,e.emit("node-drag-over",T.node,v.node,p)},treeNodeDragEnd:p=>{const{draggingNode:m,dropType:v,dropNode:y}=l.value;if(p.preventDefault(),p.dataTransfer.dropEffect="move",m&&y){const T={data:m.node.data};v!=="none"&&m.node.remove(),v==="before"?y.node.parent.insertBefore(T,y.node):v==="after"?y.node.parent.insertAfter(T,y.node):v==="inner"&&y.node.insertChild(T),v!=="none"&&(i.value.registerNode(T),i.value.key&&m.node.eachNode(C=>{var k;(k=i.value.nodesMap[C.data[i.value.key]])==null||k.setChecked(C.checked,!i.value.checkStrictly)})),$c(y.$el,s.is("drop-inner")),e.emit("node-drag-end",m.node,y.node,v,p),v!=="none"&&e.emit("node-drop",m.node,y.node,v,p)}m&&!y&&e.emit("node-drag-end",m.node,null,v,p),l.value.showDropIndicator=!1,l.value.draggingNode=null,l.value.dropNode=null,l.value.allowDrop=!0}}),{dragState:l}}const Mnt=Be({name:"ElTreeNode",components:{ElCollapseTransition:dM,ElCheckbox:Nf,NodeContent:Tnt,ElIcon:Ar,Loading:x0},props:{node:{type:xO,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(t,e){const n=vn("tree"),{broadcastExpanded:r}=Yle(t),i=ar("RootTree"),s=Te(!1),l=Te(!1),c=Te(null),a=Te(null),f=Te(null),p=ar(Xle),m=ci();ki("NodeInstance",m),t.node.expanded&&(s.value=!0,l.value=!0);const v=i.props.props.children||"children";ln(()=>{const G=t.node.data[v];return G&&[...G]},()=>{t.node.updateChildren()}),ln(()=>t.node.indeterminate,G=>{C(t.node.checked,G)}),ln(()=>t.node.checked,G=>{C(G,t.node.indeterminate)}),ln(()=>t.node.childNodes.length,()=>t.node.reInitChecked()),ln(()=>t.node.expanded,G=>{dr(()=>s.value=G),G&&(l.value=!0)});const y=G=>vU(i.props.nodeKey,G.data),T=G=>{const ie=t.props.class;if(!ie)return{};let q;if(Dr(ie)){const{data:W}=G;q=ie(W,G)}else q=ie;return Hr(q)?{[q]:!0}:q},C=(G,ie)=>{(c.value!==G||a.value!==ie)&&i.ctx.emit("check-change",t.node.data,G,ie),c.value=G,a.value=ie},k=G=>{bO(i.store,i.ctx.emit,()=>i.store.value.setCurrentNode(t.node)),i.currentNode.value=t.node,i.props.expandOnClickNode&&P(),i.props.checkOnClickNode&&!t.node.disabled&&R(null,{target:{checked:!t.node.checked}}),i.ctx.emit("node-click",t.node.data,t.node,m,G)},M=G=>{i.instance.vnode.props.onNodeContextmenu&&(G.stopPropagation(),G.preventDefault()),i.ctx.emit("node-contextmenu",G,t.node.data,t.node,m)},P=()=>{t.node.isLeaf||(s.value?(i.ctx.emit("node-collapse",t.node.data,t.node,m),t.node.collapse()):(t.node.expand(),e.emit("node-expand",t.node.data,t.node,m)))},R=(G,ie)=>{t.node.setChecked(ie.target.checked,!i.props.checkStrictly),dr(()=>{const q=i.store.value;i.ctx.emit("check",t.node.data,{checkedNodes:q.getCheckedNodes(),checkedKeys:q.getCheckedKeys(),halfCheckedNodes:q.getHalfCheckedNodes(),halfCheckedKeys:q.getHalfCheckedKeys()})})};return{ns:n,node$:f,tree:i,expanded:s,childNodeRendered:l,oldChecked:c,oldIndeterminate:a,getNodeKey:y,getNodeClass:T,handleSelectChange:C,handleClick:k,handleContextMenu:M,handleExpandIconClick:P,handleCheckChange:R,handleChildNodeExpand:(G,ie,q)=>{r(ie),i.ctx.emit("node-expand",G,ie,q)},handleDragStart:G=>{i.props.draggable&&p.treeNodeDragStart({event:G,treeNode:t})},handleDragOver:G=>{G.preventDefault(),i.props.draggable&&p.treeNodeDragOver({event:G,treeNode:{$el:f.value,node:t.node}})},handleDrop:G=>{G.preventDefault()},handleDragEnd:G=>{i.props.draggable&&p.treeNodeDragEnd(G)},CaretRight:a7}}}),Int=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],Lnt=["aria-expanded"];function knt(t,e,n,r,i,s){const l=Kr("el-icon"),c=Kr("el-checkbox"),a=Kr("loading"),f=Kr("node-content"),p=Kr("el-tree-node"),m=Kr("el-collapse-transition");return Jr((X(),ve("div",{ref:"node$",class:Se([t.ns.b("node"),t.ns.is("expanded",t.expanded),t.ns.is("current",t.node.isCurrent),t.ns.is("hidden",!t.node.visible),t.ns.is("focusable",!t.node.disabled),t.ns.is("checked",!t.node.disabled&&t.node.checked),t.getNodeClass(t.node)]),role:"treeitem",tabindex:"-1","aria-expanded":t.expanded,"aria-disabled":t.node.disabled,"aria-checked":t.node.checked,draggable:t.tree.props.draggable,"data-key":t.getNodeKey(t.node),onClick:e[1]||(e[1]=Pr((...v)=>t.handleClick&&t.handleClick(...v),["stop"])),onContextmenu:e[2]||(e[2]=(...v)=>t.handleContextMenu&&t.handleContextMenu(...v)),onDragstart:e[3]||(e[3]=Pr((...v)=>t.handleDragStart&&t.handleDragStart(...v),["stop"])),onDragover:e[4]||(e[4]=Pr((...v)=>t.handleDragOver&&t.handleDragOver(...v),["stop"])),onDragend:e[5]||(e[5]=Pr((...v)=>t.handleDragEnd&&t.handleDragEnd(...v),["stop"])),onDrop:e[6]||(e[6]=Pr((...v)=>t.handleDrop&&t.handleDrop(...v),["stop"]))},[pe("div",{class:Se(t.ns.be("node","content")),style:or({paddingLeft:(t.node.level-1)*t.tree.props.indent+"px"})},[t.tree.props.icon||t.CaretRight?(X(),Ut(l,{key:0,class:Se([t.ns.be("node","expand-icon"),t.ns.is("leaf",t.node.isLeaf),{expanded:!t.node.isLeaf&&t.expanded}]),onClick:Pr(t.handleExpandIconClick,["stop"])},{default:xt(()=>[(X(),Ut(fi(t.tree.props.icon||t.CaretRight)))]),_:1},8,["class","onClick"])):bt("v-if",!0),t.showCheckbox?(X(),Ut(c,{key:1,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:!!t.node.disabled,onClick:e[0]||(e[0]=Pr(()=>{},["stop"])),onChange:t.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):bt("v-if",!0),t.node.loading?(X(),Ut(l,{key:2,class:Se([t.ns.be("node","loading-icon"),t.ns.is("loading")])},{default:xt(()=>[ht(a)]),_:1},8,["class"])):bt("v-if",!0),ht(f,{node:t.node,"render-content":t.renderContent},null,8,["node","render-content"])],6),ht(m,null,{default:xt(()=>[!t.renderAfterExpand||t.childNodeRendered?Jr((X(),ve("div",{key:0,class:Se(t.ns.be("node","children")),role:"group","aria-expanded":t.expanded},[(X(!0),ve(Vn,null,Yr(t.node.childNodes,v=>(X(),Ut(p,{key:t.getNodeKey(v),"render-content":t.renderContent,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,node:v,accordion:t.accordion,props:t.props,onNodeExpand:t.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,Lnt)),[[ca,t.expanded]]):bt("v-if",!0)]),_:1})],42,Int)),[[ca,t.node.visible]])}var Pnt=Fn(Mnt,[["render",knt],["__file","tree-node.vue"]]);function Fnt({el$:t},e){const n=vn("tree"),r=vs([]),i=vs([]);Fr(()=>{l()}),_0(()=>{r.value=Array.from(t.value.querySelectorAll("[role=treeitem]")),i.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"))}),ln(i,c=>{c.forEach(a=>{a.setAttribute("tabindex","-1")})}),_s(t,"keydown",c=>{const a=c.target;if(!a.className.includes(n.b("node")))return;const f=c.code;r.value=Array.from(t.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`));const p=r.value.indexOf(a);let m;if([Tr.up,Tr.down].includes(f)){if(c.preventDefault(),f===Tr.up){m=p===-1?0:p!==0?p-1:r.value.length-1;const y=m;for(;!e.value.getNode(r.value[m].dataset.key).canFocus;){if(m--,m===y){m=-1;break}m<0&&(m=r.value.length-1)}}else{m=p===-1?0:p<r.value.length-1?p+1:0;const y=m;for(;!e.value.getNode(r.value[m].dataset.key).canFocus;){if(m++,m===y){m=-1;break}m>=r.value.length&&(m=0)}}m!==-1&&r.value[m].focus()}[Tr.left,Tr.right].includes(f)&&(c.preventDefault(),a.click());const v=a.querySelector('[type="checkbox"]');[Tr.enter,Tr.space].includes(f)&&v&&(c.preventDefault(),v.click())});const l=()=>{var c;r.value=Array.from(t.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`)),i.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"));const a=t.value.querySelectorAll(`.${n.is("checked")}[role=treeitem]`);if(a.length){a[0].setAttribute("tabindex","0");return}(c=r.value[0])==null||c.setAttribute("tabindex","0")}}const Rnt=Be({name:"ElTree",components:{ElTreeNode:Pnt},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:ts}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(t,e){const{t:n}=da(),r=vn("tree"),i=Te(new Ent({key:t.nodeKey,data:t.data,lazy:t.lazy,props:t.props,load:t.load,currentNodeKey:t.currentNodeKey,checkStrictly:t.checkStrictly,checkDescendants:t.checkDescendants,defaultCheckedKeys:t.defaultCheckedKeys,defaultExpandedKeys:t.defaultExpandedKeys,autoExpandParent:t.autoExpandParent,defaultExpandAll:t.defaultExpandAll,filterNodeMethod:t.filterNodeMethod}));i.value.initialize();const s=Te(i.value.root),l=Te(null),c=Te(null),a=Te(null),{broadcastExpanded:f}=Yle(t),{dragState:p}=Bnt({props:t,ctx:e,el$:c,dropIndicator$:a,store:i});Fnt({el$:c},i);const m=le(()=>{const{childNodes:ne}=s.value;return!ne||ne.length===0||ne.every(({visible:ce})=>!ce)});ln(()=>t.currentNodeKey,ne=>{i.value.setCurrentNodeKey(ne)}),ln(()=>t.defaultCheckedKeys,ne=>{i.value.setDefaultCheckedKey(ne)}),ln(()=>t.defaultExpandedKeys,ne=>{i.value.setDefaultExpandedKeys(ne)}),ln(()=>t.data,ne=>{i.value.setData(ne)},{deep:!0}),ln(()=>t.checkStrictly,ne=>{i.value.checkStrictly=ne});const v=ne=>{if(!t.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");i.value.filter(ne)},y=ne=>vU(t.nodeKey,ne.data),T=ne=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const ce=i.value.getNode(ne);if(!ce)return[];const ue=[ce.data];let ye=ce.parent;for(;ye&&ye!==s.value;)ue.push(ye.data),ye=ye.parent;return ue.reverse()},C=(ne,ce)=>i.value.getCheckedNodes(ne,ce),k=ne=>i.value.getCheckedKeys(ne),M=()=>{const ne=i.value.getCurrentNode();return ne?ne.data:null},P=()=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const ne=M();return ne?ne[t.nodeKey]:null},R=(ne,ce)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");i.value.setCheckedNodes(ne,ce)},N=(ne,ce)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");i.value.setCheckedKeys(ne,ce)},z=(ne,ce,ue)=>{i.value.setChecked(ne,ce,ue)},H=()=>i.value.getHalfCheckedNodes(),j=()=>i.value.getHalfCheckedKeys(),Q=(ne,ce=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");bO(i,e.emit,()=>i.value.setUserCurrentNode(ne,ce))},G=(ne,ce=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");bO(i,e.emit,()=>i.value.setCurrentNodeKey(ne,ce))},ie=ne=>i.value.getNode(ne),q=ne=>{i.value.remove(ne)},W=(ne,ce)=>{i.value.append(ne,ce)},ee=(ne,ce)=>{i.value.insertBefore(ne,ce)},he=(ne,ce)=>{i.value.insertAfter(ne,ce)},J=(ne,ce,ue)=>{f(ce),e.emit("node-expand",ne,ce,ue)},te=(ne,ce)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");i.value.updateChildren(ne,ce)};return ki("RootTree",{ctx:e,props:t,store:i,root:s,currentNode:l,instance:ci()}),ki(Bm,void 0),{ns:r,store:i,root:s,currentNode:l,dragState:p,el$:c,dropIndicator$:a,isEmpty:m,filter:v,getNodeKey:y,getNodePath:T,getCheckedNodes:C,getCheckedKeys:k,getCurrentNode:M,getCurrentKey:P,setCheckedNodes:R,setCheckedKeys:N,setChecked:z,getHalfCheckedNodes:H,getHalfCheckedKeys:j,setCurrentNode:Q,setCurrentKey:G,t:n,getNode:ie,remove:q,append:W,insertBefore:ee,insertAfter:he,handleNodeExpand:J,updateKeyChildren:te}}});function Ont(t,e,n,r,i,s){const l=Kr("el-tree-node");return X(),ve("div",{ref:"el$",class:Se([t.ns.b(),t.ns.is("dragging",!!t.dragState.draggingNode),t.ns.is("drop-not-allow",!t.dragState.allowDrop),t.ns.is("drop-inner",t.dragState.dropType==="inner"),{[t.ns.m("highlight-current")]:t.highlightCurrent}]),role:"tree"},[(X(!0),ve(Vn,null,Yr(t.root.childNodes,c=>(X(),Ut(l,{key:t.getNodeKey(c),node:c,props:t.props,accordion:t.accordion,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,"render-content":t.renderContent,onNodeExpand:t.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),t.isEmpty?(X(),ve("div",{key:0,class:Se(t.ns.e("empty-block"))},[Ft(t.$slots,"empty",{},()=>{var c;return[pe("span",{class:Se(t.ns.e("empty-text"))},Cn((c=t.emptyText)!=null?c:t.t("el.tree.emptyText")),3)]})],2)):bt("v-if",!0),Jr(pe("div",{ref:"dropIndicator$",class:Se(t.ns.e("drop-indicator"))},null,2),[[ca,t.dragState.showDropIndicator]])],2)}var xT=Fn(Rnt,[["render",Ont],["__file","tree.vue"]]);xT.install=t=>{t.component(xT.name,xT)};const M8=xT,Dnt=M8,Nnt=(t,{attrs:e,emit:n},{select:r,tree:i,key:s})=>{const l=vn("tree-select");return ln(()=>t.data,()=>{t.filterable&&dr(()=>{var a,f;(f=i.value)==null||f.filter((a=r.value)==null?void 0:a.states.inputValue)})},{flush:"post"}),{...om(Gu(t),Object.keys(By.props)),...e,"onUpdate:modelValue":a=>n(_i,a),valueKey:s,popperClass:le(()=>{const a=[l.e("popper")];return t.popperClass&&a.push(t.popperClass),a.join(" ")}),filterMethod:(a="")=>{var f;t.filterMethod?t.filterMethod(a):t.remoteMethod?t.remoteMethod(a):(f=i.value)==null||f.filter(a)}}},Unt=Be({extends:b8,setup(t,e){const n=b8.setup(t,e);delete n.selectOptionClick;const r=ci().proxy;return dr(()=>{n.select.states.cachedOptions.get(r.value)||n.select.onOptionCreate(r)}),n},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function CO(t){return t||t===0}function _U(t){return Array.isArray(t)&&t.length}function _4(t){return Array.isArray(t)?t:CO(t)?[t]:[]}function CT(t,e,n,r,i){for(let s=0;s<t.length;s++){const l=t[s];if(e(l,s,t,i))return r?r(l,s,t,i):l;{const c=n(l);if(_U(c)){const a=CT(c,e,n,r,l);if(a)return a}}}}function EO(t,e,n,r){for(let i=0;i<t.length;i++){const s=t[i];e(s,i,t,r);const l=n(s);_U(l)&&EO(l,e,n,s)}}const znt=(t,{attrs:e,slots:n,emit:r},{select:i,tree:s,key:l})=>{ln(()=>t.modelValue,()=>{t.showCheckbox&&dr(()=>{const m=s.value;m&&!zc(m.getCheckedKeys(),_4(t.modelValue))&&m.setCheckedKeys(_4(t.modelValue))})},{immediate:!0,deep:!0});const c=le(()=>({value:l.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...t.props})),a=(m,v)=>{var y;const T=c.value[m];return Dr(T)?T(v,(y=s.value)==null?void 0:y.getNode(a("value",v))):v[T]},f=_4(t.modelValue).map(m=>CT(t.data||[],v=>a("value",v)===m,v=>a("children",v),(v,y,T,C)=>C&&a("value",C))).filter(m=>CO(m)),p=le(()=>{if(!t.renderAfterExpand&&!t.lazy)return[];const m=[];return EO(t.data.concat(t.cacheData),v=>{const y=a("value",v);m.push({value:y,currentLabel:a("label",v),isDisabled:a("disabled",v)})},v=>a("children",v)),m});return{...om(Gu(t),Object.keys(M8.props)),...e,nodeKey:l,expandOnClickNode:le(()=>!t.checkStrictly&&t.expandOnClickNode),defaultExpandedKeys:le(()=>t.defaultExpandedKeys?t.defaultExpandedKeys.concat(f):f),renderContent:(m,{node:v,data:y,store:T})=>m(Unt,{value:a("value",y),label:a("label",y),disabled:a("disabled",y)},t.renderContent?()=>t.renderContent(m,{node:v,data:y,store:T}):n.default?()=>n.default({node:v,data:y,store:T}):void 0),filterNodeMethod:(m,v,y)=>t.filterNodeMethod?t.filterNodeMethod(m,v,y):m?new RegExp(r7(m),"i").test(a("label",v)||""):!0,onNodeClick:(m,v,y)=>{var T,C,k,M;if((T=e.onNodeClick)==null||T.call(e,m,v,y),!(t.showCheckbox&&t.checkOnClickNode)){if(!t.showCheckbox&&(t.checkStrictly||v.isLeaf)){if(!a("disabled",m)){const P=(C=i.value)==null?void 0:C.states.options.get(a("value",m));(k=i.value)==null||k.handleOptionSelect(P)}}else t.expandOnClickNode&&y.proxy.handleExpandIconClick();(M=i.value)==null||M.focus()}},onCheck:(m,v)=>{var y;if(!t.showCheckbox)return;const T=a("value",m),C={};EO([s.value.store.root],R=>C[R.key]=R,R=>R.childNodes);const k=v.checkedKeys,M=t.multiple?_4(t.modelValue).filter(R=>!(R in C)&&!k.includes(R)):[],P=M.concat(k);if(t.checkStrictly)r(_i,t.multiple?P:P.includes(T)?T:void 0);else if(t.multiple)r(_i,M.concat(s.value.getCheckedKeys(!0)));else{const R=CT([m],H=>!_U(a("children",H))&&!a("disabled",H),H=>a("children",H)),N=R?a("value",R):void 0,z=CO(t.modelValue)&&!!CT([m],H=>a("value",H)===t.modelValue,H=>a("children",H));r(_i,N===t.modelValue||z?void 0:N)}dr(()=>{var R;const N=_4(t.modelValue);s.value.setCheckedKeys(N),(R=e.onCheck)==null||R.call(e,m,{checkedKeys:s.value.getCheckedKeys(),checkedNodes:s.value.getCheckedNodes(),halfCheckedKeys:s.value.getHalfCheckedKeys(),halfCheckedNodes:s.value.getHalfCheckedNodes()})}),(y=i.value)==null||y.focus()},cacheOptions:p}};var $nt=Be({props:{data:{type:Array,default:()=>[]}},setup(t){const e=ar(S5);return ln(()=>t.data,()=>{var n;t.data.forEach(i=>{e.states.cachedOptions.has(i.value)||e.states.cachedOptions.set(i.value,i)});const r=((n=e.selectRef)==null?void 0:n.querySelectorAll("input"))||[];Array.from(r).includes(document.activeElement)||e.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const Vnt=Be({name:"ElTreeSelect",inheritAttrs:!1,props:{...By.props,...M8.props,cacheData:{type:Array,default:()=>[]}},setup(t,e){const{slots:n,expose:r}=e,i=Te(),s=Te(),l=le(()=>t.nodeKey||t.valueKey||"value"),c=Nnt(t,e,{select:i,tree:s,key:l}),{cacheOptions:a,...f}=znt(t,e,{select:i,tree:s,key:l}),p=ha({});return r(p),Fr(()=>{Object.assign(p,{...om(s.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...om(i.value,["focus","blur"])})}),()=>wr(By,ha({...c,ref:m=>i.value=m}),{...n,default:()=>[wr($nt,{data:a.value}),wr(M8,ha({...f,ref:m=>s.value=m}))]})}});var ET=Fn(Vnt,[["__file","tree-select.vue"]]);ET.install=t=>{t.component(ET.name,ET)};const Hnt=ET,Qnt=Hnt,yU=Symbol(),jnt={key:-1,level:-1,data:{}};var V4=(t=>(t.KEY="id",t.LABEL="label",t.CHILDREN="children",t.DISABLED="disabled",t))(V4||{}),SO=(t=>(t.ADD="add",t.DELETE="delete",t))(SO||{});const Zle={type:Number,default:26},Gnt=Ln({data:{type:Rt(Array),default:()=>ro([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:Rt(Object),default:()=>ro({children:"children",label:"label",disabled:"disabled",value:"id"})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:Rt(Array),default:()=>ro([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:Rt(Array),default:()=>ro([])},indent:{type:Number,default:16},itemSize:Zle,icon:{type:ts},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:Rt([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:Rt(Function)},perfMode:{type:Boolean,default:!0}}),Knt=Ln({node:{type:Rt(Object),default:()=>ro(jnt)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1},itemSize:Zle}),Wnt=Ln({node:{type:Rt(Object),required:!0}}),Jle="node-click",eue="node-expand",tue="node-collapse",nue="current-change",rue="check",iue="check-change",aue="node-contextmenu",qnt={[Jle]:(t,e,n)=>t&&e&&n,[eue]:(t,e)=>t&&e,[tue]:(t,e)=>t&&e,[nue]:(t,e)=>t&&e,[rue]:(t,e)=>t&&e,[iue]:(t,e)=>t&&typeof e=="boolean",[aue]:(t,e,n)=>t&&e&&n},Ynt={click:(t,e)=>!!(t&&e),toggle:t=>!!t,check:(t,e)=>t&&typeof e=="boolean"};function Xnt(t,e){const n=Te(new Set),r=Te(new Set),{emit:i}=ci();ln([()=>e.value,()=>t.defaultCheckedKeys],()=>dr(()=>{P(t.defaultCheckedKeys)}),{immediate:!0});const s=()=>{if(!e.value||!t.showCheckbox||t.checkStrictly)return;const{levelTreeNodeMap:R,maxLevel:N}=e.value,z=n.value,H=new Set;for(let j=N-1;j>=1;--j){const Q=R.get(j);Q&&Q.forEach(G=>{const ie=G.children;if(ie){let q=!0,W=!1;for(const ee of ie){const he=ee.key;if(z.has(he))W=!0;else if(H.has(he)){q=!1,W=!0;break}else q=!1}q?z.add(G.key):W?(H.add(G.key),z.delete(G.key)):(z.delete(G.key),H.delete(G.key))}})}r.value=H},l=R=>n.value.has(R.key),c=R=>r.value.has(R.key),a=(R,N,z=!0)=>{const H=n.value,j=(Q,G)=>{H[G?SO.ADD:SO.DELETE](Q.key);const ie=Q.children;!t.checkStrictly&&ie&&ie.forEach(q=>{q.disabled||j(q,G)})};j(R,N),s(),z&&f(R,N)},f=(R,N)=>{const{checkedNodes:z,checkedKeys:H}=T(),{halfCheckedNodes:j,halfCheckedKeys:Q}=C();i(rue,R.data,{checkedKeys:H,checkedNodes:z,halfCheckedKeys:Q,halfCheckedNodes:j}),i(iue,R.data,N)};function p(R=!1){return T(R).checkedKeys}function m(R=!1){return T(R).checkedNodes}function v(){return C().halfCheckedKeys}function y(){return C().halfCheckedNodes}function T(R=!1){const N=[],z=[];if(e!=null&&e.value&&t.showCheckbox){const{treeNodeMap:H}=e.value;n.value.forEach(j=>{const Q=H.get(j);Q&&(!R||R&&Q.isLeaf)&&(z.push(j),N.push(Q.data))})}return{checkedKeys:z,checkedNodes:N}}function C(){const R=[],N=[];if(e!=null&&e.value&&t.showCheckbox){const{treeNodeMap:z}=e.value;r.value.forEach(H=>{const j=z.get(H);j&&(N.push(H),R.push(j.data))})}return{halfCheckedNodes:R,halfCheckedKeys:N}}function k(R){n.value.clear(),r.value.clear(),dr(()=>{P(R)})}function M(R,N){if(e!=null&&e.value&&t.showCheckbox){const z=e.value.treeNodeMap.get(R);z&&a(z,N,!1)}}function P(R){if(e!=null&&e.value){const{treeNodeMap:N}=e.value;if(t.showCheckbox&&N&&R)for(const z of R){const H=N.get(z);H&&!l(H)&&a(H,!0,!1)}}}return{updateCheckedKeys:s,toggleCheckbox:a,isChecked:l,isIndeterminate:c,getCheckedKeys:p,getCheckedNodes:m,getHalfCheckedKeys:v,getHalfCheckedNodes:y,setChecked:M,setCheckedKeys:k}}function Znt(t,e){const n=Te(new Set([])),r=Te(new Set([])),i=le(()=>Dr(t.filterMethod));function s(c){var a;if(!i.value)return;const f=new Set,p=r.value,m=n.value,v=[],y=((a=e.value)==null?void 0:a.treeNodes)||[],T=t.filterMethod;m.clear();function C(k){k.forEach(M=>{v.push(M),T!=null&&T(c,M.data)?v.forEach(R=>{f.add(R.key)}):M.isLeaf&&m.add(M.key);const P=M.children;if(P&&C(P),!M.isLeaf){if(!f.has(M.key))m.add(M.key);else if(P){let R=!0;for(const N of P)if(!m.has(N.key)){R=!1;break}R?p.add(M.key):p.delete(M.key)}}v.pop()})}return C(y),f}function l(c){return r.value.has(c.key)}return{hiddenExpandIconKeySet:r,hiddenNodeKeySet:n,doFilter:s,isForceHiddenExpandIcon:l}}function Jnt(t,e){const n=Te(new Set(t.defaultExpandedKeys)),r=Te(),i=vs();ln(()=>t.currentNodeKey,Re=>{r.value=Re},{immediate:!0}),ln(()=>t.data,Re=>{Le(Re)},{immediate:!0});const{isIndeterminate:s,isChecked:l,toggleCheckbox:c,getCheckedKeys:a,getCheckedNodes:f,getHalfCheckedKeys:p,getHalfCheckedNodes:m,setChecked:v,setCheckedKeys:y}=Xnt(t,i),{doFilter:T,hiddenNodeKeySet:C,isForceHiddenExpandIcon:k}=Znt(t,i),M=le(()=>{var Re;return((Re=t.props)==null?void 0:Re.value)||V4.KEY}),P=le(()=>{var Re;return((Re=t.props)==null?void 0:Re.children)||V4.CHILDREN}),R=le(()=>{var Re;return((Re=t.props)==null?void 0:Re.disabled)||V4.DISABLED}),N=le(()=>{var Re;return((Re=t.props)==null?void 0:Re.label)||V4.LABEL}),z=le(()=>{const Re=n.value,Qe=C.value,Je=[],nt=i.value&&i.value.treeNodes||[];function Ve(){const ke=[];for(let Ge=nt.length-1;Ge>=0;--Ge)ke.push(nt[Ge]);for(;ke.length;){const Ge=ke.pop();if(Ge&&(Qe.has(Ge.key)||Je.push(Ge),Re.has(Ge.key))){const Ne=Ge.children;if(Ne){const je=Ne.length;for(let Ye=je-1;Ye>=0;--Ye)ke.push(Ne[Ye])}}}}return Ve(),Je}),H=le(()=>z.value.length>0);function j(Re){const Qe=new Map,Je=new Map;let nt=1;function Ve(Ge,Ne=1,je=void 0){var Ye;const vt=[];for(const Lt of Ge){const Et=ie(Lt),Vt={level:Ne,key:Et,data:Lt};Vt.label=W(Lt),Vt.parent=je;const _t=G(Lt);Vt.disabled=q(Lt),Vt.isLeaf=!_t||_t.length===0,_t&&_t.length&&(Vt.children=Ve(_t,Ne+1,Vt)),vt.push(Vt),Qe.set(Et,Vt),Je.has(Ne)||Je.set(Ne,[]),(Ye=Je.get(Ne))==null||Ye.push(Vt)}return Ne>nt&&(nt=Ne),vt}const ke=Ve(Re);return{treeNodeMap:Qe,levelTreeNodeMap:Je,maxLevel:nt,treeNodes:ke}}function Q(Re){const Qe=T(Re);Qe&&(n.value=Qe)}function G(Re){return Re[P.value]}function ie(Re){return Re?Re[M.value]:""}function q(Re){return Re[R.value]}function W(Re){return Re[N.value]}function ee(Re){n.value.has(Re.key)?ue(Re):ce(Re)}function he(Re){n.value=new Set(Re)}function J(Re,Qe){e(Jle,Re.data,Re,Qe),te(Re),t.expandOnClickNode&&ee(Re),t.showCheckbox&&t.checkOnClickNode&&!Re.disabled&&c(Re,!l(Re),!0)}function te(Re){se(Re)||(r.value=Re.key,e(nue,Re.data,Re))}function ne(Re,Qe){c(Re,Qe)}function ce(Re){const Qe=n.value;if(i.value&&t.accordion){const{treeNodeMap:Je}=i.value;Qe.forEach(nt=>{const Ve=Je.get(nt);Re&&Re.level===(Ve==null?void 0:Ve.level)&&Qe.delete(nt)})}Qe.add(Re.key),e(eue,Re.data,Re)}function ue(Re){n.value.delete(Re.key),e(tue,Re.data,Re)}function ye(Re){return n.value.has(Re.key)}function Ee(Re){return!!Re.disabled}function se(Re){const Qe=r.value;return Qe!==void 0&&Qe===Re.key}function oe(){var Re,Qe;if(r.value)return(Qe=(Re=i.value)==null?void 0:Re.treeNodeMap.get(r.value))==null?void 0:Qe.data}function _e(){return r.value}function Ue(Re){r.value=Re}function Le(Re){dr(()=>i.value=j(Re))}function be(Re){var Qe;const Je=mi(Re)?ie(Re):Re;return(Qe=i.value)==null?void 0:Qe.treeNodeMap.get(Je)}return{tree:i,flattenTree:z,isNotEmpty:H,getKey:ie,getChildren:G,toggleExpand:ee,toggleCheckbox:c,isExpanded:ye,isChecked:l,isIndeterminate:s,isDisabled:Ee,isCurrent:se,isForceHiddenExpandIcon:k,handleNodeClick:J,handleNodeCheck:ne,getCurrentNode:oe,getCurrentKey:_e,setCurrentKey:Ue,getCheckedKeys:a,getCheckedNodes:f,getHalfCheckedKeys:p,getHalfCheckedNodes:m,setChecked:v,setCheckedKeys:y,filter:Q,setData:Le,getNode:be,expandNode:ce,collapseNode:ue,setExpandedKeys:he}}var ert=Be({name:"ElTreeNodeContent",props:Wnt,setup(t){const e=ar(yU),n=vn("tree");return()=>{const r=t.node,{data:i}=r;return e!=null&&e.ctx.slots.default?e.ctx.slots.default({node:r,data:i}):wr("span",{class:n.be("node","label")},[r==null?void 0:r.label])}}});const trt=["aria-expanded","aria-disabled","aria-checked","data-key","onClick"],nrt=Be({name:"ElTreeNode"}),rrt=Be({...nrt,props:Knt,emits:Ynt,setup(t,{emit:e}){const n=t,r=ar(yU),i=vn("tree"),s=le(()=>{var m;return(m=r==null?void 0:r.props.indent)!=null?m:16}),l=le(()=>{var m;return(m=r==null?void 0:r.props.icon)!=null?m:a7}),c=m=>{e("click",n.node,m)},a=()=>{e("toggle",n.node)},f=m=>{e("check",n.node,m)},p=m=>{var v,y,T,C;(T=(y=(v=r==null?void 0:r.instance)==null?void 0:v.vnode)==null?void 0:y.props)!=null&&T.onNodeContextmenu&&(m.stopPropagation(),m.preventDefault()),r==null||r.ctx.emit(aue,m,(C=n.node)==null?void 0:C.data,n.node)};return(m,v)=>{var y,T,C;return X(),ve("div",{ref:"node$",class:Se([S(i).b("node"),S(i).is("expanded",m.expanded),S(i).is("current",m.current),S(i).is("focusable",!m.disabled),S(i).is("checked",!m.disabled&&m.checked)]),role:"treeitem",tabindex:"-1","aria-expanded":m.expanded,"aria-disabled":m.disabled,"aria-checked":m.checked,"data-key":(y=m.node)==null?void 0:y.key,onClick:Pr(c,["stop"]),onContextmenu:p},[pe("div",{class:Se(S(i).be("node","content")),style:or({paddingLeft:`${(m.node.level-1)*S(s)}px`,height:m.itemSize+"px"})},[S(l)?(X(),Ut(S(Ar),{key:0,class:Se([S(i).is("leaf",!!((T=m.node)!=null&&T.isLeaf)),S(i).is("hidden",m.hiddenExpandIcon),{expanded:!((C=m.node)!=null&&C.isLeaf)&&m.expanded},S(i).be("node","expand-icon")]),onClick:Pr(a,["stop"])},{default:xt(()=>[(X(),Ut(fi(S(l))))]),_:1},8,["class","onClick"])):bt("v-if",!0),m.showCheckbox?(X(),Ut(S(Nf),{key:1,"model-value":m.checked,indeterminate:m.indeterminate,disabled:m.disabled,onChange:f,onClick:v[0]||(v[0]=Pr(()=>{},["stop"]))},null,8,["model-value","indeterminate","disabled"])):bt("v-if",!0),ht(S(ert),{node:m.node},null,8,["node"])],6)],42,trt)}}});var irt=Fn(rrt,[["__file","tree-node.vue"]]);const art=Be({name:"ElTreeV2"}),srt=Be({...art,props:Gnt,emits:qnt,setup(t,{expose:e,emit:n}){const r=t,i=To(),s=le(()=>r.itemSize);ki(yU,{ctx:{emit:n,slots:i},props:r,instance:ci()}),ki(Bm,void 0);const{t:l}=da(),c=vn("tree"),{flattenTree:a,isNotEmpty:f,toggleExpand:p,isExpanded:m,isIndeterminate:v,isChecked:y,isDisabled:T,isCurrent:C,isForceHiddenExpandIcon:k,handleNodeClick:M,handleNodeCheck:P,toggleCheckbox:R,getCurrentNode:N,getCurrentKey:z,setCurrentKey:H,getCheckedKeys:j,getCheckedNodes:Q,getHalfCheckedKeys:G,getHalfCheckedNodes:ie,setChecked:q,setCheckedKeys:W,filter:ee,setData:he,getNode:J,expandNode:te,collapseNode:ne,setExpandedKeys:ce}=Jnt(r,n);return e({toggleCheckbox:R,getCurrentNode:N,getCurrentKey:z,setCurrentKey:H,getCheckedKeys:j,getCheckedNodes:Q,getHalfCheckedKeys:G,getHalfCheckedNodes:ie,setChecked:q,setCheckedKeys:W,filter:ee,setData:he,getNode:J,expandNode:te,collapseNode:ne,setExpandedKeys:ce}),(ue,ye)=>{var Ee;return X(),ve("div",{class:Se([S(c).b(),{[S(c).m("highlight-current")]:ue.highlightCurrent}]),role:"tree"},[S(f)?(X(),Ut(S(cle),{key:0,"class-name":S(c).b("virtual-list"),data:S(a),total:S(a).length,height:ue.height,"item-size":S(s),"perf-mode":ue.perfMode},{default:xt(({data:se,index:oe,style:_e})=>[(X(),Ut(irt,{key:se[oe].key,style:or(_e),node:se[oe],expanded:S(m)(se[oe]),"show-checkbox":ue.showCheckbox,checked:S(y)(se[oe]),indeterminate:S(v)(se[oe]),"item-size":S(s),disabled:S(T)(se[oe]),current:S(C)(se[oe]),"hidden-expand-icon":S(k)(se[oe]),onClick:S(M),onToggle:S(p),onCheck:S(P)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):(X(),ve("div",{key:1,class:Se(S(c).e("empty-block"))},[pe("span",{class:Se(S(c).e("empty-text"))},Cn((Ee=ue.emptyText)!=null?Ee:S(l)("el.tree.emptyText")),3)],2))],2)}}});var ort=Fn(srt,[["__file","tree.vue"]]);const lrt=pi(ort),sue=Symbol("uploadContextKey"),urt="ElUpload";class crt extends Error{constructor(e,n,r,i){super(e),this.name="UploadAjaxError",this.status=n,this.method=r,this.url=i}}function eY(t,e,n){let r;return n.response?r=`${n.response.error||n.response}`:n.responseText?r=`${n.responseText}`:r=`fail to ${e.method} ${t} ${n.status}`,new crt(r,n.status,e.method,t)}function hrt(t){const e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}const drt=t=>{typeof XMLHttpRequest>"u"&&Ul(urt,"XMLHttpRequest is undefined");const e=new XMLHttpRequest,n=t.action;e.upload&&e.upload.addEventListener("progress",s=>{const l=s;l.percent=s.total>0?s.loaded/s.total*100:0,t.onProgress(l)});const r=new FormData;if(t.data)for(const[s,l]of Object.entries(t.data))Jn(l)&&l.length?r.append(s,...l):r.append(s,l);r.append(t.filename,t.file,t.file.name),e.addEventListener("error",()=>{t.onError(eY(n,t,e))}),e.addEventListener("load",()=>{if(e.status<200||e.status>=300)return t.onError(eY(n,t,e));t.onSuccess(hrt(e))}),e.open(t.method,n,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);const i=t.headers||{};if(i instanceof Headers)i.forEach((s,l)=>e.setRequestHeader(l,s));else for(const[s,l]of Object.entries(i))Cu(l)||e.setRequestHeader(s,String(l));return e.send(r),e},oue=["text","picture","picture-card"];let frt=1;const TO=()=>Date.now()+frt++,lue=Ln({action:{type:String,default:"#"},headers:{type:Rt(Object)},method:{type:String,default:"post"},data:{type:Rt([Object,Function,Promise]),default:()=>ro({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:Rt(Array),default:()=>ro([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:oue,default:"text"},httpRequest:{type:Rt(Function),default:drt},disabled:Boolean,limit:Number}),prt=Ln({...lue,beforeUpload:{type:Rt(Function),default:Qa},beforeRemove:{type:Rt(Function)},onRemove:{type:Rt(Function),default:Qa},onChange:{type:Rt(Function),default:Qa},onPreview:{type:Rt(Function),default:Qa},onSuccess:{type:Rt(Function),default:Qa},onProgress:{type:Rt(Function),default:Qa},onError:{type:Rt(Function),default:Qa},onExceed:{type:Rt(Function),default:Qa},crossorigin:{type:Rt(String)}}),Art=Ln({files:{type:Rt(Array),default:()=>ro([])},disabled:{type:Boolean,default:!1},handlePreview:{type:Rt(Function),default:Qa},listType:{type:String,values:oue,default:"text"},crossorigin:{type:Rt(String)}}),mrt={remove:t=>!!t},grt=["onKeydown"],vrt=["src","crossorigin"],_rt=["onClick"],yrt=["title"],brt=["onClick"],wrt=["onClick"],xrt=Be({name:"ElUploadList"}),Crt=Be({...xrt,props:Art,emits:mrt,setup(t,{emit:e}){const n=t,{t:r}=da(),i=vn("upload"),s=vn("icon"),l=vn("list"),c=fh(),a=Te(!1),f=le(()=>[i.b("list"),i.bm("list",n.listType),i.is("disabled",n.disabled)]),p=m=>{e("remove",m)};return(m,v)=>(X(),Ut(Wne,{tag:"ul",class:Se(S(f)),name:S(l).b()},{default:xt(()=>[(X(!0),ve(Vn,null,Yr(m.files,y=>(X(),ve("li",{key:y.uid||y.name,class:Se([S(i).be("list","item"),S(i).is(y.status),{focusing:a.value}]),tabindex:"0",onKeydown:Ga(T=>!S(c)&&p(y),["delete"]),onFocus:v[0]||(v[0]=T=>a.value=!0),onBlur:v[1]||(v[1]=T=>a.value=!1),onClick:v[2]||(v[2]=T=>a.value=!1)},[Ft(m.$slots,"default",{file:y},()=>[m.listType==="picture"||y.status!=="uploading"&&m.listType==="picture-card"?(X(),ve("img",{key:0,class:Se(S(i).be("list","item-thumbnail")),src:y.url,crossorigin:m.crossorigin,alt:""},null,10,vrt)):bt("v-if",!0),y.status==="uploading"||m.listType!=="picture-card"?(X(),ve("div",{key:1,class:Se(S(i).be("list","item-info"))},[pe("a",{class:Se(S(i).be("list","item-name")),onClick:Pr(T=>m.handlePreview(y),["prevent"])},[ht(S(Ar),{class:Se(S(s).m("document"))},{default:xt(()=>[ht(S(aae))]),_:1},8,["class"]),pe("span",{class:Se(S(i).be("list","item-file-name")),title:y.name},Cn(y.name),11,yrt)],10,_rt),y.status==="uploading"?(X(),Ut(S(tle),{key:0,type:m.listType==="picture-card"?"circle":"line","stroke-width":m.listType==="picture-card"?6:2,percentage:Number(y.percentage),style:or(m.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):bt("v-if",!0)],2)):bt("v-if",!0),pe("label",{class:Se(S(i).be("list","item-status-label"))},[m.listType==="text"?(X(),Ut(S(Ar),{key:0,class:Se([S(s).m("upload-success"),S(s).m("circle-check")])},{default:xt(()=>[ht(S(JB))]),_:1},8,["class"])):["picture-card","picture"].includes(m.listType)?(X(),Ut(S(Ar),{key:1,class:Se([S(s).m("upload-success"),S(s).m("check")])},{default:xt(()=>[ht(S(rx))]),_:1},8,["class"])):bt("v-if",!0)],2),S(c)?bt("v-if",!0):(X(),Ut(S(Ar),{key:2,class:Se(S(s).m("close")),onClick:T=>p(y)},{default:xt(()=>[ht(S(Rf))]),_:2},1032,["class","onClick"])),bt(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),bt(" This is a bug which needs to be fixed "),bt(" TODO: Fix the incorrect navigation interaction "),S(c)?bt("v-if",!0):(X(),ve("i",{key:3,class:Se(S(s).m("close-tip"))},Cn(S(r)("el.upload.deleteTip")),3)),m.listType==="picture-card"?(X(),ve("span",{key:4,class:Se(S(i).be("list","item-actions"))},[pe("span",{class:Se(S(i).be("list","item-preview")),onClick:T=>m.handlePreview(y)},[ht(S(Ar),{class:Se(S(s).m("zoom-in"))},{default:xt(()=>[ht(S(u7))]),_:1},8,["class"])],10,brt),S(c)?bt("v-if",!0):(X(),ve("span",{key:0,class:Se(S(i).be("list","item-delete")),onClick:T=>p(y)},[ht(S(Ar),{class:Se(S(s).m("delete"))},{default:xt(()=>[ht(S(iae))]),_:1},8,["class"])],10,wrt))],2)):bt("v-if",!0)])],42,grt))),128)),Ft(m.$slots,"append")]),_:3},8,["class","name"]))}});var tY=Fn(Crt,[["__file","upload-list.vue"]]);const Ert=Ln({disabled:{type:Boolean,default:!1}}),Srt={file:t=>Jn(t)},Trt=["onDrop","onDragover"],uue="ElUploadDrag",Brt=Be({name:uue}),Mrt=Be({...Brt,props:Ert,emits:Srt,setup(t,{emit:e}){ar(sue)||Ul(uue,"usage: <el-upload><el-upload-dragger /></el-upload>");const r=vn("upload"),i=Te(!1),s=fh(),l=a=>{if(s.value)return;i.value=!1,a.stopPropagation();const f=Array.from(a.dataTransfer.files);e("file",f)},c=()=>{s.value||(i.value=!0)};return(a,f)=>(X(),ve("div",{class:Se([S(r).b("dragger"),S(r).is("dragover",i.value)]),onDrop:Pr(l,["prevent"]),onDragover:Pr(c,["prevent"]),onDragleave:f[0]||(f[0]=Pr(p=>i.value=!1,["prevent"]))},[Ft(a.$slots,"default")],42,Trt))}});var Irt=Fn(Mrt,[["__file","upload-dragger.vue"]]);const Lrt=Ln({...lue,beforeUpload:{type:Rt(Function),default:Qa},onRemove:{type:Rt(Function),default:Qa},onStart:{type:Rt(Function),default:Qa},onSuccess:{type:Rt(Function),default:Qa},onProgress:{type:Rt(Function),default:Qa},onError:{type:Rt(Function),default:Qa},onExceed:{type:Rt(Function),default:Qa}}),krt=["onKeydown"],Prt=["name","multiple","accept"],Frt=Be({name:"ElUploadContent",inheritAttrs:!1}),Rrt=Be({...Frt,props:Lrt,setup(t,{expose:e}){const n=t,r=vn("upload"),i=fh(),s=vs({}),l=vs(),c=C=>{if(C.length===0)return;const{autoUpload:k,limit:M,fileList:P,multiple:R,onStart:N,onExceed:z}=n;if(M&&P.length+C.length>M){z(C,P);return}R||(C=C.slice(0,1));for(const H of C){const j=H;j.uid=TO(),N(j),k&&a(j)}},a=async C=>{if(l.value.value="",!n.beforeUpload)return p(C);let k,M={};try{const R=n.data,N=n.beforeUpload(C);M=ZT(n.data)?d8(n.data):n.data,k=await N,ZT(n.data)&&zc(R,M)&&(M=d8(n.data))}catch{k=!1}if(k===!1){n.onRemove(C);return}let P=C;k instanceof Blob&&(k instanceof File?P=k:P=new File([k],C.name,{type:C.type})),p(Object.assign(P,{uid:C.uid}),M)},f=async(C,k)=>Dr(C)?C(k):C,p=async(C,k)=>{const{headers:M,data:P,method:R,withCredentials:N,name:z,action:H,onProgress:j,onSuccess:Q,onError:G,httpRequest:ie}=n;try{k=await f(k??P,C)}catch{n.onRemove(C);return}const{uid:q}=C,W={headers:M||{},withCredentials:N,file:C,data:k,method:R,filename:z,action:H,onProgress:he=>{j(he,C)},onSuccess:he=>{Q(he,C),delete s.value[q]},onError:he=>{G(he,C),delete s.value[q]}},ee=ie(W);s.value[q]=ee,ee instanceof Promise&&ee.then(W.onSuccess,W.onError)},m=C=>{const k=C.target.files;k&&c(Array.from(k))},v=()=>{i.value||(l.value.value="",l.value.click())},y=()=>{v()};return e({abort:C=>{rTe(s.value).filter(C?([M])=>String(C.uid)===M:()=>!0).forEach(([M,P])=>{P instanceof XMLHttpRequest&&P.abort(),delete s.value[M]})},upload:a}),(C,k)=>(X(),ve("div",{class:Se([S(r).b(),S(r).m(C.listType),S(r).is("drag",C.drag)]),tabindex:"0",onClick:v,onKeydown:Ga(Pr(y,["self"]),["enter","space"])},[C.drag?(X(),Ut(Irt,{key:0,disabled:S(i),onFile:c},{default:xt(()=>[Ft(C.$slots,"default")]),_:3},8,["disabled"])):Ft(C.$slots,"default",{key:1}),pe("input",{ref_key:"inputRef",ref:l,class:Se(S(r).e("input")),name:C.name,multiple:C.multiple,accept:C.accept,type:"file",onChange:m,onClick:k[0]||(k[0]=Pr(()=>{},["stop"]))},null,42,Prt)],42,krt))}});var nY=Fn(Rrt,[["__file","upload-content.vue"]]);const rY="ElUpload",iY=t=>{var e;(e=t.url)!=null&&e.startsWith("blob:")&&URL.revokeObjectURL(t.url)},Ort=(t,e)=>{const n=uie(t,"fileList",void 0,{passive:!0}),r=v=>n.value.find(y=>y.uid===v.uid);function i(v){var y;(y=e.value)==null||y.abort(v)}function s(v=["ready","uploading","success","fail"]){n.value=n.value.filter(y=>!v.includes(y.status))}const l=(v,y)=>{const T=r(y);T&&(console.error(v),T.status="fail",n.value.splice(n.value.indexOf(T),1),t.onError(v,T,n.value),t.onChange(T,n.value))},c=(v,y)=>{const T=r(y);T&&(t.onProgress(v,T,n.value),T.status="uploading",T.percentage=Math.round(v.percent))},a=(v,y)=>{const T=r(y);T&&(T.status="success",T.response=v,t.onSuccess(v,T,n.value),t.onChange(T,n.value))},f=v=>{Cu(v.uid)&&(v.uid=TO());const y={name:v.name,percentage:0,status:"ready",size:v.size,raw:v,uid:v.uid};if(t.listType==="picture-card"||t.listType==="picture")try{y.url=URL.createObjectURL(v)}catch(T){T.message,t.onError(T,y,n.value)}n.value=[...n.value,y],t.onChange(y,n.value)},p=async v=>{const y=v instanceof File?r(v):v;y||Ul(rY,"file to be removed not found");const T=C=>{i(C);const k=n.value;k.splice(k.indexOf(C),1),t.onRemove(C,k),iY(C)};t.beforeRemove?await t.beforeRemove(y,n.value)!==!1&&T(y):T(y)};function m(){n.value.filter(({status:v})=>v==="ready").forEach(({raw:v})=>{var y;return v&&((y=e.value)==null?void 0:y.upload(v))})}return ln(()=>t.listType,v=>{v!=="picture-card"&&v!=="picture"||(n.value=n.value.map(y=>{const{raw:T,url:C}=y;if(!C&&T)try{y.url=URL.createObjectURL(T)}catch(k){t.onError(k,y,n.value)}return y}))}),ln(n,v=>{for(const y of v)y.uid||(y.uid=TO()),y.status||(y.status="success")},{immediate:!0,deep:!0}),{uploadFiles:n,abort:i,clearFiles:s,handleError:l,handleProgress:c,handleStart:f,handleSuccess:a,handleRemove:p,submit:m,revokeFileObjectURL:iY}},Drt=Be({name:"ElUpload"}),Nrt=Be({...Drt,props:prt,setup(t,{expose:e}){const n=t,r=fh(),i=vs(),{abort:s,submit:l,clearFiles:c,uploadFiles:a,handleStart:f,handleError:p,handleRemove:m,handleSuccess:v,handleProgress:y,revokeFileObjectURL:T}=Ort(n,i),C=le(()=>n.listType==="picture-card"),k=le(()=>({...n,fileList:a.value,onStart:f,onProgress:y,onSuccess:v,onError:p,onRemove:m}));return ps(()=>{a.value.forEach(T)}),ki(sue,{accept:Na(n,"accept")}),e({abort:s,submit:l,clearFiles:c,handleStart:f,handleRemove:m}),(M,P)=>(X(),ve("div",null,[S(C)&&M.showFileList?(X(),Ut(tY,{key:0,disabled:S(r),"list-type":M.listType,files:S(a),crossorigin:M.crossorigin,"handle-preview":M.onPreview,onRemove:S(m)},Uo({append:xt(()=>[ht(nY,Xr({ref_key:"uploadRef",ref:i},S(k)),{default:xt(()=>[M.$slots.trigger?Ft(M.$slots,"trigger",{key:0}):bt("v-if",!0),!M.$slots.trigger&&M.$slots.default?Ft(M.$slots,"default",{key:1}):bt("v-if",!0)]),_:3},16)]),_:2},[M.$slots.file?{name:"default",fn:xt(({file:R})=>[Ft(M.$slots,"file",{file:R})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):bt("v-if",!0),!S(C)||S(C)&&!M.showFileList?(X(),Ut(nY,Xr({key:1,ref_key:"uploadRef",ref:i},S(k)),{default:xt(()=>[M.$slots.trigger?Ft(M.$slots,"trigger",{key:0}):bt("v-if",!0),!M.$slots.trigger&&M.$slots.default?Ft(M.$slots,"default",{key:1}):bt("v-if",!0)]),_:3},16)):bt("v-if",!0),M.$slots.trigger?Ft(M.$slots,"default",{key:2}):bt("v-if",!0),Ft(M.$slots,"tip"),!S(C)&&M.showFileList?(X(),Ut(tY,{key:3,disabled:S(r),"list-type":M.listType,files:S(a),crossorigin:M.crossorigin,"handle-preview":M.onPreview,onRemove:S(m)},Uo({_:2},[M.$slots.file?{name:"default",fn:xt(({file:R})=>[Ft(M.$slots,"file",{file:R})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):bt("v-if",!0)]))}});var Urt=Fn(Nrt,[["__file","upload.vue"]]);const zrt=pi(Urt),$rt=Ln({zIndex:{type:Number,default:9},rotate:{type:Number,default:-22},width:Number,height:Number,image:String,content:{type:Rt([String,Array]),default:"Element Plus"},font:{type:Rt(Object)},gap:{type:Rt(Array),default:()=>[100,100]},offset:{type:Rt(Array)}});function Vrt(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}function Hrt(t){return Object.keys(t).map(e=>`${Vrt(e)}: ${t[e]};`).join(" ")}function Qrt(){return window.devicePixelRatio||1}const jrt=(t,e)=>{let n=!1;return t.removedNodes.length&&e&&(n=Array.from(t.removedNodes).includes(e)),t.type==="attributes"&&t.target===e&&(n=!0),n},cue=3;function Gk(t,e,n=1){const r=document.createElement("canvas"),i=r.getContext("2d"),s=t*n,l=e*n;return r.setAttribute("width",`${s}px`),r.setAttribute("height",`${l}px`),i.save(),[i,r,s,l]}function Grt(){function t(e,n,r,i,s,l,c,a){const[f,p,m,v]=Gk(i,s,r);if(e instanceof HTMLImageElement)f.drawImage(e,0,0,m,v);else{const{color:Ee,fontSize:se,fontStyle:oe,fontWeight:_e,fontFamily:Ue,textAlign:Le,textBaseline:be}=l,Re=Number(se)*r;f.font=`${oe} normal ${_e} ${Re}px/${s}px ${Ue}`,f.fillStyle=Ee,f.textAlign=Le,f.textBaseline=be;const Qe=Array.isArray(e)?e:[e];Qe==null||Qe.forEach((Je,nt)=>{f.fillText(Je??"",m/2,nt*(Re+cue*r))})}const y=Math.PI/180*Number(n),T=Math.max(i,s),[C,k,M]=Gk(T,T,r);C.translate(M/2,M/2),C.rotate(y),m>0&&v>0&&C.drawImage(p,-m/2,-v/2);function P(Ee,se){const oe=Ee*Math.cos(y)-se*Math.sin(y),_e=Ee*Math.sin(y)+se*Math.cos(y);return[oe,_e]}let R=0,N=0,z=0,H=0;const j=m/2,Q=v/2;[[0-j,0-Q],[0+j,0-Q],[0+j,0+Q],[0-j,0+Q]].forEach(([Ee,se])=>{const[oe,_e]=P(Ee,se);R=Math.min(R,oe),N=Math.max(N,oe),z=Math.min(z,_e),H=Math.max(H,_e)});const ie=R+M/2,q=z+M/2,W=N-R,ee=H-z,he=c*r,J=a*r,te=(W+he)*2,ne=ee+J,[ce,ue]=Gk(te,ne);function ye(Ee=0,se=0){ce.drawImage(k,ie,q,W,ee,Ee,se,W,ee)}return ye(),ye(W+he,-ee/2-J/2),ye(W+he,+ee/2+J/2),[ue.toDataURL(),te/r,ne/r]}return t}const Krt=Be({name:"ElWatermark"}),Wrt=Be({...Krt,props:$rt,setup(t){const e=t,n={position:"relative"},r=le(()=>{var ie,q;return(q=(ie=e.font)==null?void 0:ie.color)!=null?q:"rgba(0,0,0,.15)"}),i=le(()=>{var ie,q;return(q=(ie=e.font)==null?void 0:ie.fontSize)!=null?q:16}),s=le(()=>{var ie,q;return(q=(ie=e.font)==null?void 0:ie.fontWeight)!=null?q:"normal"}),l=le(()=>{var ie,q;return(q=(ie=e.font)==null?void 0:ie.fontStyle)!=null?q:"normal"}),c=le(()=>{var ie,q;return(q=(ie=e.font)==null?void 0:ie.fontFamily)!=null?q:"sans-serif"}),a=le(()=>{var ie,q;return(q=(ie=e.font)==null?void 0:ie.textAlign)!=null?q:"center"}),f=le(()=>{var ie,q;return(q=(ie=e.font)==null?void 0:ie.textBaseline)!=null?q:"top"}),p=le(()=>e.gap[0]),m=le(()=>e.gap[1]),v=le(()=>p.value/2),y=le(()=>m.value/2),T=le(()=>{var ie,q;return(q=(ie=e.offset)==null?void 0:ie[0])!=null?q:v.value}),C=le(()=>{var ie,q;return(q=(ie=e.offset)==null?void 0:ie[1])!=null?q:y.value}),k=()=>{const ie={zIndex:e.zIndex,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let q=T.value-v.value,W=C.value-y.value;return q>0&&(ie.left=`${q}px`,ie.width=`calc(100% - ${q}px)`,q=0),W>0&&(ie.top=`${W}px`,ie.height=`calc(100% - ${W}px)`,W=0),ie.backgroundPosition=`${q}px ${W}px`,ie},M=vs(null),P=vs(),R=Te(!1),N=()=>{P.value&&(P.value.remove(),P.value=void 0)},z=(ie,q)=>{var W;M.value&&P.value&&(R.value=!0,P.value.setAttribute("style",Hrt({...k(),backgroundImage:`url('${ie}')`,backgroundSize:`${Math.floor(q)}px`})),(W=M.value)==null||W.append(P.value),setTimeout(()=>{R.value=!1}))},H=ie=>{let q=120,W=64;const ee=e.image,he=e.content,J=e.width,te=e.height;if(!ee&&ie.measureText){ie.font=`${Number(i.value)}px ${c.value}`;const ne=Array.isArray(he)?he:[he],ce=ne.map(ue=>{const ye=ie.measureText(ue);return[ye.width,ye.fontBoundingBoxAscent!==void 0?ye.fontBoundingBoxAscent+ye.fontBoundingBoxDescent:ye.actualBoundingBoxAscent+ye.actualBoundingBoxDescent]});q=Math.ceil(Math.max(...ce.map(ue=>ue[0]))),W=Math.ceil(Math.max(...ce.map(ue=>ue[1])))*ne.length+(ne.length-1)*cue}return[J??q,te??W]},j=Grt(),Q=()=>{const q=document.createElement("canvas").getContext("2d"),W=e.image,ee=e.content,he=e.rotate;if(q){P.value||(P.value=document.createElement("div"));const J=Qrt(),[te,ne]=H(q),ce=ue=>{const[ye,Ee]=j(ue||"",he,J,te,ne,{color:r.value,fontSize:i.value,fontStyle:l.value,fontWeight:s.value,fontFamily:c.value,textAlign:a.value,textBaseline:f.value},p.value,m.value);z(ye,Ee)};if(W){const ue=new Image;ue.onload=()=>{ce(ue)},ue.onerror=()=>{ce(ee)},ue.crossOrigin="anonymous",ue.referrerPolicy="no-referrer",ue.src=W}else ce(ee)}};return Fr(()=>{Q()}),ln(()=>e,()=>{Q()},{deep:!0,flush:"post"}),ps(()=>{N()}),lie(M,ie=>{R.value||ie.forEach(q=>{jrt(q,P.value)&&(N(),Q())})},{attributes:!0,subtree:!0,childList:!0}),(ie,q)=>(X(),ve("div",{ref_key:"containerRef",ref:M,style:or([n])},[Ft(ie.$slots,"default")],4))}});var qrt=Fn(Wrt,[["__file","watermark.vue"]]);const Yrt=pi(qrt),Xrt=Ln({zIndex:{type:Number,default:1001},visible:Boolean,fill:{type:String,default:"rgba(0,0,0,0.5)"},pos:{type:Rt(Object)},targetAreaClickable:{type:Boolean,default:!0}}),Zrt=(t,e,n,r,i)=>{const s=Te(null),l=()=>{let m;return Hr(t.value)?m=document.querySelector(t.value):Dr(t.value)?m=t.value():m=t.value,m},c=()=>{const m=l();if(!m||!e.value){s.value=null;return}!Jrt(m)&&e.value&&m.scrollIntoView(i.value);const{left:v,top:y,width:T,height:C}=m.getBoundingClientRect();s.value={left:v,top:y,width:T,height:C,radius:0}};Fr(()=>{ln([e,t],()=>{c()},{immediate:!0}),window.addEventListener("resize",c)}),ps(()=>{window.removeEventListener("resize",c)});const a=m=>{var v;return(v=Jn(n.value.offset)?n.value.offset[m]:n.value.offset)!=null?v:6},f=le(()=>{var m;if(!s.value)return s.value;const v=a(0),y=a(1),T=((m=n.value)==null?void 0:m.radius)||2;return{left:s.value.left-v,top:s.value.top-y,width:s.value.width+v*2,height:s.value.height+y*2,radius:T}}),p=le(()=>{const m=l();return!r.value||!m||!window.DOMRect?m||void 0:{getBoundingClientRect(){var v,y,T,C;return window.DOMRect.fromRect({width:((v=f.value)==null?void 0:v.width)||0,height:((y=f.value)==null?void 0:y.height)||0,x:((T=f.value)==null?void 0:T.left)||0,y:((C=f.value)==null?void 0:C.top)||0})}}});return{mergedPosInfo:f,triggerTarget:p}},vM=Symbol("ElTour");function Jrt(t){const e=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,{top:r,right:i,bottom:s,left:l}=t.getBoundingClientRect();return r>=0&&l>=0&&i<=e&&s<=n}const eit=(t,e,n,r,i,s,l,c)=>{const a=Te(),f=Te(),p=Te({}),m={x:a,y:f,placement:r,strategy:i,middlewareData:p},v=le(()=>{const M=[Jae(S(s)),wNe(),bNe(),tit()];return S(c)&&S(n)&&M.push(ese({element:S(n)})),M}),y=async()=>{if(!ra)return;const M=S(t),P=S(e);if(!M||!P)return;const R=await tse(M,P,{placement:S(r),strategy:S(i),middleware:S(v)});S2(m).forEach(N=>{m[N].value=R[N]})},T=le(()=>{if(!S(t))return{position:"fixed",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",maxWidth:"100vw",zIndex:S(l)};const{overflow:M}=S(p);return{position:S(i),zIndex:S(l),top:S(f)!=null?`${S(f)}px`:"",left:S(a)!=null?`${S(a)}px`:"",maxWidth:M!=null&&M.maxWidth?`${M==null?void 0:M.maxWidth}px`:""}}),C=le(()=>{if(!S(c))return{};const{arrow:M}=S(p);return{left:(M==null?void 0:M.x)!=null?`${M==null?void 0:M.x}px`:"",top:(M==null?void 0:M.y)!=null?`${M==null?void 0:M.y}px`:""}});let k;return Fr(()=>{const M=S(t),P=S(e);M&&P&&(k=_Ne(M,P,y)),uc(()=>{y()})}),ps(()=>{k&&k()}),{update:y,contentStyle:T,arrowStyle:C}},tit=()=>({name:"overflow",async fn(t){const e=await yNe(t);let n=0;return e.left>0&&(n=e.left),e.right>0&&(n=e.right),{data:{maxWidth:t.rects.floating.width-n}}}}),nit={style:{width:"100%",height:"100%"}},rit=["d"],iit=Be({name:"ElTourMask",inheritAttrs:!1}),ait=Be({...iit,props:Xrt,setup(t){const e=t,{ns:n}=ar(vM),r=le(()=>{var c,a;return(a=(c=e.pos)==null?void 0:c.radius)!=null?a:2}),i=le(()=>{const c=r.value,a=`a${c},${c} 0 0 1`;return{topRight:`${a} ${c},${c}`,bottomRight:`${a} ${-c},${c}`,bottomLeft:`${a} ${-c},${-c}`,topLeft:`${a} ${c},${-c}`}}),s=le(()=>{const c=window.innerWidth,a=window.innerHeight,f=i.value,p=`M${c},0 L0,0 L0,${a} L${c},${a} L${c},0 Z`,m=r.value;return e.pos?`${p} M${e.pos.left+m},${e.pos.top} h${e.pos.width-m*2} ${f.topRight} v${e.pos.height-m*2} ${f.bottomRight} h${-e.pos.width+m*2} ${f.bottomLeft} v${-e.pos.height+m*2} ${f.topLeft} z`:p}),l=le(()=>({fill:e.fill,pointerEvents:"auto",cursor:"auto"}));return m7(Na(e,"visible"),{ns:n}),(c,a)=>c.visible?(X(),ve("div",Xr({key:0,class:S(n).e("mask"),style:{position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:c.zIndex,pointerEvents:c.pos&&c.targetAreaClickable?"none":"auto"}},c.$attrs),[(X(),ve("svg",nit,[pe("path",{class:Se(S(n).e("hollow")),style:or(S(l)),d:S(s)},null,14,rit)]))],16)):bt("v-if",!0)}});var sit=Fn(ait,[["__file","mask.vue"]]);const oit=["absolute","fixed"],lit=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],bU=Ln({placement:{type:Rt(String),values:lit,default:"bottom"},reference:{type:Rt(Object),default:null},strategy:{type:Rt(String),values:oit,default:"absolute"},offset:{type:Number,default:10},showArrow:Boolean,zIndex:{type:Number,default:2001}}),uit={close:()=>!0},cit=["data-side"],hit=Be({name:"ElTourContent"}),dit=Be({...hit,props:bU,emits:uit,setup(t,{emit:e}){const n=t,r=Te(n.placement),i=Te(n.strategy),s=Te(null),l=Te(null);ln(()=>n.placement,()=>{r.value=n.placement});const{contentStyle:c,arrowStyle:a}=eit(Na(n,"reference"),s,l,r,i,Na(n,"offset"),Na(n,"zIndex"),Na(n,"showArrow")),f=le(()=>r.value.split("-")[0]),{ns:p}=ar(vM),m=()=>{e("close")},v=y=>{y.detail.focusReason==="pointer"&&y.preventDefault()};return(y,T)=>(X(),ve("div",{ref_key:"contentRef",ref:s,style:or(S(c)),class:Se(S(p).e("content")),"data-side":S(f),tabindex:"-1"},[ht(S(E5),{loop:"",trapped:"","focus-start-el":"container","focus-trap-el":s.value||void 0,onReleaseRequested:m,onFocusoutPrevented:v},{default:xt(()=>[Ft(y.$slots,"default")]),_:3},8,["focus-trap-el"]),y.showArrow?(X(),ve("span",{key:0,ref_key:"arrowRef",ref:l,style:or(S(a)),class:Se(S(p).e("arrow"))},null,6)):bt("v-if",!0)],14,cit))}});var fit=Fn(dit,[["__file","content.vue"]]),pit=Be({name:"ElTourSteps",props:{current:{type:Number,default:0}},emits:["update-total"],setup(t,{slots:e,emit:n}){let r=0;return()=>{var i,s;const l=(i=e.default)==null?void 0:i.call(e),c=[];let a=0;function f(p){Jn(p)&&p.forEach(m=>{var v;((v=(m==null?void 0:m.type)||{})==null?void 0:v.name)==="ElTourStep"&&(c.push(m),a+=1)})}return l.length&&f(r1((s=l[0])==null?void 0:s.children)),r!==a&&(r=a,n("update-total",a)),c.length?c[t.current]:null}}});const Ait=Ln({modelValue:Boolean,current:{type:Number,default:0},showArrow:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeIcon:{type:ts},placement:bU.placement,contentStyle:{type:Rt([Object])},mask:{type:Rt([Boolean,Object]),default:!0},gap:{type:Rt(Object),default:()=>({offset:6,radius:2})},zIndex:{type:Number},scrollIntoViewOptions:{type:Rt([Boolean,Object]),default:()=>({block:"center"})},type:{type:Rt(String)},appendTo:{type:Rt([String,Object]),default:"body"},closeOnPressEscape:{type:Boolean,default:!0},targetAreaClickable:{type:Boolean,default:!0}}),mit={[_i]:t=>Jo(t),"update:current":t=>Or(t),close:t=>Or(t),finish:()=>!0,change:t=>Or(t)},git=Be({name:"ElTour"}),vit=Be({...git,props:Ait,emits:mit,setup(t,{emit:e}){const n=t,r=vn("tour"),i=Te(0),s=Te(),l=uie(n,"current",e,{passive:!0}),c=le(()=>{var G;return(G=s.value)==null?void 0:G.target}),a=le(()=>[r.b(),k.value==="primary"?r.m("primary"):""]),f=le(()=>{var G;return((G=s.value)==null?void 0:G.placement)||n.placement}),p=le(()=>{var G,ie;return(ie=(G=s.value)==null?void 0:G.contentStyle)!=null?ie:n.contentStyle}),m=le(()=>{var G,ie;return(ie=(G=s.value)==null?void 0:G.mask)!=null?ie:n.mask}),v=le(()=>!!m.value&&n.modelValue),y=le(()=>Jo(m.value)?void 0:m.value),T=le(()=>{var G,ie;return!!c.value&&((ie=(G=s.value)==null?void 0:G.showArrow)!=null?ie:n.showArrow)}),C=le(()=>{var G,ie;return(ie=(G=s.value)==null?void 0:G.scrollIntoViewOptions)!=null?ie:n.scrollIntoViewOptions}),k=le(()=>{var G,ie;return(ie=(G=s.value)==null?void 0:G.type)!=null?ie:n.type}),{nextZIndex:M}=ix(),P=M(),R=le(()=>{var G;return(G=n.zIndex)!=null?G:P}),{mergedPosInfo:N,triggerTarget:z}=Zrt(c,Na(n,"modelValue"),Na(n,"gap"),m,C);ln(()=>n.modelValue,G=>{G||(l.value=0)});const H=()=>{n.closeOnPressEscape&&(e("update:modelValue",!1),e("close",l.value))},j=G=>{i.value=G},Q=To();return ki(vM,{currentStep:s,current:l,total:i,showClose:Na(n,"showClose"),closeIcon:Na(n,"closeIcon"),mergedType:k,ns:r,slots:Q,updateModelValue(G){e("update:modelValue",G)},onClose(){e("close",l.value)},onFinish(){e("finish")},onChange(){e("change",l.value)}}),(G,ie)=>{var q,W;return X(),ve(Vn,null,[(X(),Ut(Ny,{to:G.appendTo},[pe("div",Xr({class:S(a)},G.$attrs),[ht(sit,{visible:S(v),fill:(q=S(y))==null?void 0:q.color,style:or((W=S(y))==null?void 0:W.style),pos:S(N),"z-index":S(R),"target-area-clickable":G.targetAreaClickable},null,8,["visible","fill","style","pos","z-index","target-area-clickable"]),G.modelValue?(X(),Ut(fit,{key:S(l),reference:S(z),placement:S(f),"show-arrow":S(T),"z-index":S(R),style:or(S(p)),onClose:H},{default:xt(()=>[ht(S(pit),{current:S(l),onUpdateTotal:j},{default:xt(()=>[Ft(G.$slots,"default")]),_:3},8,["current"])]),_:3},8,["reference","placement","show-arrow","z-index","style"])):bt("v-if",!0)],16)],8,["to"])),bt(" just for IDE "),bt("v-if",!0)],64)}}});var _it=Fn(vit,[["__file","tour.vue"]]);const yit=Ln({target:{type:Rt([String,Object,Function])},title:String,description:String,showClose:{type:Boolean,default:void 0},closeIcon:{type:ts},showArrow:{type:Boolean,default:void 0},placement:bU.placement,mask:{type:Rt([Boolean,Object]),default:void 0},contentStyle:{type:Rt([Object])},prevButtonProps:{type:Rt(Object)},nextButtonProps:{type:Rt(Object)},scrollIntoViewOptions:{type:Rt([Boolean,Object]),default:void 0},type:{type:Rt(String)}}),bit={close:()=>!0},wit=Be({name:"ElTourStep"}),xit=Be({...wit,props:yit,emits:bit,setup(t,{emit:e}){const n=t,{Close:r}=c7,{t:i}=da(),{currentStep:s,current:l,total:c,showClose:a,closeIcon:f,mergedType:p,ns:m,slots:v,updateModelValue:y,onClose:T,onFinish:C,onChange:k}=ar(vM);ln(n,Q=>{s.value=Q},{immediate:!0});const M=le(()=>{var Q;return(Q=n.showClose)!=null?Q:a.value}),P=le(()=>{var Q,G;return(G=(Q=n.closeIcon)!=null?Q:f.value)!=null?G:r}),R=Q=>{if(Q)return K3e(Q,["children","onClick"])},N=()=>{var Q,G;l.value-=1,(Q=n.prevButtonProps)!=null&&Q.onClick&&((G=n.prevButtonProps)==null||G.onClick()),k()},z=()=>{var Q;l.value>=c.value-1?H():l.value+=1,(Q=n.nextButtonProps)!=null&&Q.onClick&&n.nextButtonProps.onClick(),k()},H=()=>{j(),C()},j=()=>{y(!1),T(),e("close")};return(Q,G)=>(X(),ve(Vn,null,[S(M)?(X(),ve("button",{key:0,"aria-label":"Close",class:Se(S(m).e("closebtn")),type:"button",onClick:j},[ht(S(Ar),{class:Se(S(m).e("close"))},{default:xt(()=>[(X(),Ut(fi(S(P))))]),_:1},8,["class"])],2)):bt("v-if",!0),pe("header",{class:Se([S(m).e("header"),{"show-close":S(a)}])},[Ft(Q.$slots,"header",{},()=>[pe("span",{role:"heading",class:Se(S(m).e("title"))},Cn(Q.title),3)])],2),pe("div",{class:Se(S(m).e("body"))},[Ft(Q.$slots,"default",{},()=>[pe("span",null,Cn(Q.description),1)])],2),pe("footer",{class:Se(S(m).e("footer"))},[pe("div",{class:Se(S(m).b("indicators"))},[S(v).indicators?(X(),Ut(fi(S(v).indicators),{key:0,current:S(l),total:S(c)},null,8,["current","total"])):(X(!0),ve(Vn,{key:1},Yr(S(c),(ie,q)=>(X(),ve("span",{key:ie,class:Se([S(m).b("indicator"),q===S(l)?"is-active":""])},null,2))),128))],2),pe("div",{class:Se(S(m).b("buttons"))},[S(l)>0?(X(),Ut(S(Eu),Xr({key:0,size:"small",type:S(p)},R(Q.prevButtonProps),{onClick:N}),{default:xt(()=>{var ie,q;return[xi(Cn((q=(ie=Q.prevButtonProps)==null?void 0:ie.children)!=null?q:S(i)("el.tour.previous")),1)]}),_:1},16,["type"])):bt("v-if",!0),S(l)<=S(c)-1?(X(),Ut(S(Eu),Xr({key:1,size:"small",type:S(p)==="primary"?"default":"primary"},R(Q.nextButtonProps),{onClick:z}),{default:xt(()=>{var ie,q;return[xi(Cn((q=(ie=Q.nextButtonProps)==null?void 0:ie.children)!=null?q:S(l)===S(c)-1?S(i)("el.tour.finish"):S(i)("el.tour.next")),1)]}),_:1},16,["type"])):bt("v-if",!0)],2)],2)],64))}});var hue=Fn(xit,[["__file","step.vue"]]);const Cit=pi(_it,{TourStep:hue}),Eit=ao(hue),Sit=Ln({container:{type:Rt([String,Object])},offset:{type:Number,default:0},bound:{type:Number,default:15},duration:{type:Number,default:300},marker:{type:Boolean,default:!0},type:{type:Rt(String),default:"default"},direction:{type:Rt(String),default:"vertical"}}),Tit={change:t=>Hr(t),click:(t,e)=>t instanceof MouseEvent&&(Hr(e)||Zo(e))},due=Symbol("anchor"),Bit=Be({name:"ElAnchor"}),Mit=Be({...Bit,props:Sit,emits:Tit,setup(t,{expose:e,emit:n}){const r=t,i=Te(""),s=Te(null),l=Te(null),c=Te(),a={};let f=!1,p=0;const m=vn("anchor"),v=le(()=>[m.b(),r.type==="underline"?m.m("underline"):"",m.m(r.direction)]),y=Q=>{a[Q.href]=Q.el},T=Q=>{delete a[Q]},C=Q=>{i.value!==Q&&(i.value=Q,n("change",Q))};let k=null;const M=Q=>{if(!c.value)return;const G=yS(Q);if(!G)return;k&&k(),f=!0;const ie=pW(G,c.value),q=wR(G,ie),W=ie.scrollHeight-ie.clientHeight,ee=Math.min(q-r.offset,W);k=sTe(c.value,p,ee,r.duration,()=>{setTimeout(()=>{f=!1},20)})},P=Q=>{Q&&(C(Q),M(Q))},R=(Q,G)=>{n("click",Q,G),P(G)},N=_Oe(()=>{c.value&&(p=AW(c.value));const Q=z();f||Zo(Q)||C(Q)}),z=()=>{if(!c.value)return;const Q=AW(c.value),G=[];for(const ie of Object.keys(a)){const q=yS(ie);if(!q)continue;const W=pW(q,c.value),ee=wR(q,W);G.push({top:ee-r.offset-r.bound,href:ie})}G.sort((ie,q)=>ie.top-q.top);for(let ie=0;ie<G.length;ie++){const q=G[ie],W=G[ie+1];if(ie===0&&Q===0)return"";if(q.top<=Q&&(!W||W.top>Q))return q.href}},H=()=>{const Q=yS(r.container);!Q||XB(Q)?c.value=window:c.value=Q};_s(c,"scroll",N);const j=le(()=>{if(!s.value||!l.value||!i.value)return{};const Q=a[i.value];if(!Q)return{};const G=s.value.getBoundingClientRect(),ie=l.value.getBoundingClientRect(),q=Q.getBoundingClientRect();return r.direction==="horizontal"?{left:`${q.left-G.left}px`,width:`${q.width}px`,opacity:1}:{top:`${q.top-G.top+(q.height-ie.height)/2}px`,opacity:1}});return Fr(()=>{H();const Q=decodeURIComponent(window.location.hash);yS(Q)?P(Q):N()}),ln(()=>r.container,()=>{H()}),ki(due,{ns:m,direction:r.direction,currentAnchor:i,addLink:y,removeLink:T,handleClick:R}),e({scrollTo:P}),(Q,G)=>(X(),ve("div",{ref_key:"anchorRef",ref:s,class:Se(S(v))},[Q.marker?(X(),ve("div",{key:0,ref_key:"markerRef",ref:l,class:Se(S(m).e("marker")),style:or(S(j))},null,6)):bt("v-if",!0),pe("div",{class:Se(S(m).e("list"))},[Ft(Q.$slots,"default")],2)],2))}});var Iit=Fn(Mit,[["__file","anchor.vue"]]);const Lit=Ln({title:String,href:String}),kit=["href"],Pit=Be({name:"ElAnchorLink"}),Fit=Be({...Pit,props:Lit,setup(t){const e=t,n=Te(null),{ns:r,direction:i,currentAnchor:s,addLink:l,removeLink:c,handleClick:a}=ar(due),f=le(()=>[r.e("link"),r.is("active",s.value===e.href)]),p=m=>{a(m,e.href)};return ln(()=>e.href,(m,v)=>{dr(()=>{v&&c(v),m&&l({href:m,el:n.value})})}),Fr(()=>{const{href:m}=e;m&&l({href:m,el:n.value})}),ps(()=>{const{href:m}=e;m&&c(m)}),(m,v)=>(X(),ve("div",{class:Se(S(r).e("item"))},[pe("a",{ref_key:"linkRef",ref:n,class:Se(S(f)),href:m.href,onClick:p},[Ft(m.$slots,"default",{},()=>[xi(Cn(m.title),1)])],10,kit),m.$slots["sub-link"]&&S(i)==="vertical"?(X(),ve("div",{key:0,class:Se(S(r).e("list"))},[Ft(m.$slots,"sub-link")],2)):bt("v-if",!0)],2))}});var fue=Fn(Fit,[["__file","anchor-link.vue"]]);const Rit=pi(Iit,{AnchorLink:fue}),Oit=ao(fue),Dit=Ln({options:{type:Rt(Array),default:()=>[]},modelValue:{type:[String,Number,Boolean],default:void 0},block:Boolean,size:lu,disabled:Boolean,validateEvent:{type:Boolean,default:!0},id:String,name:String,...Wu(["ariaLabel"])}),Nit={[_i]:t=>Hr(t)||Or(t),[bs]:t=>Hr(t)||Or(t)},Uit=["id","aria-label","aria-labelledby"],zit=["name","disabled","checked","onChange"],$it=Be({name:"ElSegmented"}),Vit=Be({...$it,props:Dit,emits:Nit,setup(t,{emit:e}){const n=t,r=vn("segmented"),i=hc(),s=ml(),l=fh(),{formItem:c}=Qc(),{inputId:a,isLabeledByFormItem:f}=dA(n,{formItemContext:c}),p=Te(null),m=hCe(),v=ha({isInit:!1,width:0,translateX:0,disabled:!1,focusVisible:!1}),y=G=>{const ie=T(G);e(_i,ie),e(bs,ie)},T=G=>mi(G)?G.value:G,C=G=>mi(G)?G.label:G,k=G=>!!(l.value||mi(G)&&G.disabled),M=G=>n.modelValue===T(G),P=G=>n.options.find(ie=>T(ie)===G),R=G=>[r.e("item"),r.is("selected",M(G)),r.is("disabled",k(G))],N=()=>{if(!p.value)return;const G=p.value.querySelector(".is-selected"),ie=p.value.querySelector(".is-selected input");if(!G||!ie){v.width=0,v.translateX=0,v.disabled=!1,v.focusVisible=!1;return}const q=G.getBoundingClientRect();v.isInit=!0,v.width=q.width,v.translateX=G.offsetLeft,v.disabled=k(P(n.modelValue));try{v.focusVisible=ie.matches(":focus-visible")}catch{}},z=le(()=>[r.b(),r.m(s.value),r.is("block",n.block)]),H=le(()=>({width:`${v.width}px`,transform:`translateX(${v.translateX}px)`,display:v.isInit?"block":"none"})),j=le(()=>[r.e("item-selected"),r.is("disabled",v.disabled),r.is("focus-visible",v.focusVisible)]),Q=le(()=>n.name||i.value);return no(p,N),ln(m,N),ln(()=>n.modelValue,()=>{var G;N(),n.validateEvent&&((G=c==null?void 0:c.validate)==null||G.call(c,"change").catch(ie=>void 0))},{flush:"post"}),(G,ie)=>(X(),ve("div",{id:S(a),ref_key:"segmentedRef",ref:p,class:Se(S(z)),role:"radiogroup","aria-label":S(f)?void 0:G.ariaLabel||"segmented","aria-labelledby":S(f)?S(c).labelId:void 0},[pe("div",{class:Se(S(r).e("group"))},[pe("div",{style:or(S(H)),class:Se(S(j))},null,6),(X(!0),ve(Vn,null,Yr(G.options,(q,W)=>(X(),ve("label",{key:W,class:Se(R(q))},[pe("input",{class:Se(S(r).e("item-input")),type:"radio",name:S(Q),disabled:k(q),checked:M(q),onChange:ee=>y(q)},null,42,zit),pe("div",{class:Se(S(r).e("item-label"))},[Ft(G.$slots,"default",{item:q},()=>[xi(Cn(C(q)),1)])],2)],2))),128))],2)],10,Uit))}});var Hit=Fn(Vit,[["__file","segmented.vue"]]);const Qit=pi(Hit);var jit=[HNe,e9e,SUe,rtt,PUe,zUe,_se,eze,tze,Eu,Sse,y$e,E$e,j$e,G$e,iHe,QVe,cHe,Nf,cVe,eoe,wHe,zHe,$He,kHe,gQe,RNe,MQe,IQe,LQe,kQe,PQe,Jje,cGe,hGe,TGe,Foe,$Ge,kKe,PKe,FKe,Hoe,K9e,W9e,Ar,SWe,Qoe,Nc,joe,zWe,sqe,oqe,lqe,uqe,mqe,wYe,BYe,DYe,mse,tle,ooe,SVe,EVe,eXe,aXe,gHe,E0,By,b8,Wqe,QXe,ZXe,JXe,MZe,FZe,yle,jZe,eJe,tJe,dJe,get,vet,ntt,vtt,_tt,A6,Ctt,Zze,Itt,Rtt,Ott,Hc,lnt,xnt,Dnt,Qnt,lrt,zrt,Yrt,Cit,Eit,Rit,Oit,Qit];const Hp="ElInfiniteScroll",Git=50,Kit=200,Wit=0,qit={delay:{type:Number,default:Kit},distance:{type:Number,default:Wit},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},wU=(t,e)=>Object.entries(qit).reduce((n,[r,i])=>{var s,l;const{type:c,default:a}=i,f=t.getAttribute(`infinite-scroll-${r}`);let p=(l=(s=e[f])!=null?s:f)!=null?l:a;return p=p==="false"?!1:p,p=c(p),n[r]=Number.isNaN(p)?a:p,n},{}),pue=t=>{const{observer:e}=t[Hp];e&&(e.disconnect(),delete t[Hp].observer)},Yit=(t,e)=>{const{container:n,containerEl:r,instance:i,observer:s,lastScrollTop:l}=t[Hp],{disabled:c,distance:a}=wU(t,i),{clientHeight:f,scrollHeight:p,scrollTop:m}=r,v=m-l;if(t[Hp].lastScrollTop=m,s||c||v<0)return;let y=!1;if(n===t)y=p-(f+m)<=a;else{const{clientTop:T,scrollHeight:C}=t,k=wR(t,r);y=m+f>=k+T+C-a}y&&e.call(i)};function Kk(t,e){const{containerEl:n,instance:r}=t[Hp],{disabled:i}=wU(t,r);i||n.clientHeight===0||(n.scrollHeight<=n.clientHeight?e.call(r):pue(t))}const Xit={async mounted(t,e){const{instance:n,value:r}=e;Dr(r)||Ul(Hp,"'v-infinite-scroll' binding value must be a function"),await dr();const{delay:i,immediate:s}=wU(t,n),l=i7(t,!0),c=l===window?document.documentElement:l,a=sy(Yit.bind(null,t,r),i);if(l){if(t[Hp]={instance:n,container:l,containerEl:c,delay:i,cb:r,onScroll:a,lastScrollTop:c.scrollTop},s){const f=new MutationObserver(sy(Kk.bind(null,t,r),Git));t[Hp].observer=f,f.observe(t,{childList:!0,subtree:!0}),Kk(t,r)}l.addEventListener("scroll",a)}},unmounted(t){const{container:e,onScroll:n}=t[Hp];e==null||e.removeEventListener("scroll",n),pue(t)},async updated(t){if(!t[Hp])await dr();else{const{containerEl:e,cb:n,observer:r}=t[Hp];e.clientHeight&&r&&Kk(t,n)}}},BO=Xit;BO.install=t=>{t.directive("InfiniteScroll",BO)};const Zit=BO;function Jit(t){let e;const n=Te(!1),r=ha({...t,originalPosition:"",originalOverflow:"",visible:!1});function i(v){r.text=v}function s(){const v=r.parent,y=m.ns;if(!v.vLoadingAddClassList){let T=v.getAttribute("loading-number");T=Number.parseInt(T)-1,T?v.setAttribute("loading-number",T.toString()):($c(v,y.bm("parent","relative")),v.removeAttribute("loading-number")),$c(v,y.bm("parent","hidden"))}l(),p.unmount()}function l(){var v,y;(y=(v=m.$el)==null?void 0:v.parentNode)==null||y.removeChild(m.$el)}function c(){var v;t.beforeClose&&!t.beforeClose()||(n.value=!0,clearTimeout(e),e=window.setTimeout(a,400),r.visible=!1,(v=t.closed)==null||v.call(t))}function a(){if(!n.value)return;const v=r.parent;n.value=!1,v.vLoadingAddClassList=void 0,s()}const p=Jne(Be({name:"ElLoading",setup(v,{expose:y}){const{ns:T,zIndex:C}=lM("loading");return y({ns:T,zIndex:C}),()=>{const k=r.spinner||r.svg,M=wr("svg",{class:"circular",viewBox:r.svgViewBox?r.svgViewBox:"0 0 50 50",...k?{innerHTML:k}:{}},[wr("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),P=r.text?wr("p",{class:T.b("text")},[r.text]):void 0;return wr(fo,{name:T.b("fade"),onAfterLeave:a},{default:xt(()=>[Jr(ht("div",{style:{backgroundColor:r.background||""},class:[T.b("mask"),r.customClass,r.fullscreen?"is-fullscreen":""]},[wr("div",{class:T.b("spinner")},[M,P])]),[[ca,r.visible]])])})}}})),m=p.mount(document.createElement("div"));return{...Gu(r),setText:i,removeElLoadingChild:l,close:c,handleAfterLeave:a,vm:m,get $el(){return m.$el}}}let FS;const MO=function(t={}){if(!ra)return;const e=eat(t);if(e.fullscreen&&FS)return FS;const n=Jit({...e,closed:()=>{var i;(i=e.closed)==null||i.call(e),e.fullscreen&&(FS=void 0)}});tat(e,e.parent,n),aY(e,e.parent,n),e.parent.vLoadingAddClassList=()=>aY(e,e.parent,n);let r=e.parent.getAttribute("loading-number");return r?r=`${Number.parseInt(r)+1}`:r="1",e.parent.setAttribute("loading-number",r),e.parent.appendChild(n.$el),dr(()=>n.visible.value=e.visible),e.fullscreen&&(FS=n),n},eat=t=>{var e,n,r,i;let s;return Hr(t.target)?s=(e=document.querySelector(t.target))!=null?e:document.body:s=t.target||document.body,{parent:s===document.body||t.body?document.body:s,background:t.background||"",svg:t.svg||"",svgViewBox:t.svgViewBox||"",spinner:t.spinner||!1,text:t.text||"",fullscreen:s===document.body&&((n=t.fullscreen)!=null?n:!0),lock:(r=t.lock)!=null?r:!1,customClass:t.customClass||"",visible:(i=t.visible)!=null?i:!0,target:s}},tat=async(t,e,n)=>{const{nextZIndex:r}=n.vm.zIndex||n.vm._.exposed.zIndex,i={};if(t.fullscreen)n.originalPosition.value=Uv(document.body,"position"),n.originalOverflow.value=Uv(document.body,"overflow"),i.zIndex=r();else if(t.parent===document.body){n.originalPosition.value=Uv(document.body,"position"),await dr();for(const s of["top","left"]){const l=s==="top"?"scrollTop":"scrollLeft";i[s]=`${t.target.getBoundingClientRect()[s]+document.body[l]+document.documentElement[l]-Number.parseInt(Uv(document.body,`margin-${s}`),10)}px`}for(const s of["height","width"])i[s]=`${t.target.getBoundingClientRect()[s]}px`}else n.originalPosition.value=Uv(e,"position");for(const[s,l]of Object.entries(i))n.$el.style[s]=l},aY=(t,e,n)=>{const r=n.vm.ns||n.vm._.exposed.ns;["absolute","fixed","sticky"].includes(n.originalPosition.value)?$c(e,r.bm("parent","relative")):Cf(e,r.bm("parent","relative")),t.fullscreen&&t.lock?Cf(e,r.bm("parent","hidden")):$c(e,r.bm("parent","hidden"))},ST=Symbol("ElLoading"),sY=(t,e)=>{var n,r,i,s;const l=e.instance,c=v=>mi(e.value)?e.value[v]:void 0,a=v=>{const y=Hr(v)&&(l==null?void 0:l[v])||v;return y&&Te(y)},f=v=>a(c(v)||t.getAttribute(`element-loading-${g0(v)}`)),p=(n=c("fullscreen"))!=null?n:e.modifiers.fullscreen,m={text:f("text"),svg:f("svg"),svgViewBox:f("svgViewBox"),spinner:f("spinner"),background:f("background"),customClass:f("customClass"),fullscreen:p,target:(r=c("target"))!=null?r:p?void 0:t,body:(i=c("body"))!=null?i:e.modifiers.body,lock:(s=c("lock"))!=null?s:e.modifiers.lock};t[ST]={options:m,instance:MO(m)}},nat=(t,e)=>{for(const n of Object.keys(e))fs(e[n])&&(e[n].value=t[n])},oY={mounted(t,e){e.value&&sY(t,e)},updated(t,e){const n=t[ST];e.oldValue!==e.value&&(e.value&&!e.oldValue?sY(t,e):e.value&&e.oldValue?mi(e.value)&&nat(e.value,n.options):n==null||n.instance.close())},unmounted(t){var e;(e=t[ST])==null||e.instance.close(),t[ST]=null}},rat={install(t){t.directive("loading",oY),t.config.globalProperties.$loading=MO},directive:oY,service:MO},Aue=["success","info","warning","error"],Bc=ro({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:ra?document.body:void 0}),iat=Ln({customClass:{type:String,default:Bc.customClass},center:{type:Boolean,default:Bc.center},dangerouslyUseHTMLString:{type:Boolean,default:Bc.dangerouslyUseHTMLString},duration:{type:Number,default:Bc.duration},icon:{type:ts,default:Bc.icon},id:{type:String,default:Bc.id},message:{type:Rt([String,Object,Function]),default:Bc.message},onClose:{type:Rt(Function),default:Bc.onClose},showClose:{type:Boolean,default:Bc.showClose},type:{type:String,values:Aue,default:Bc.type},plain:{type:Boolean,default:Bc.plain},offset:{type:Number,default:Bc.offset},zIndex:{type:Number,default:Bc.zIndex},grouping:{type:Boolean,default:Bc.grouping},repeatNum:{type:Number,default:Bc.repeatNum}}),aat={destroy:()=>!0},Wp=t9([]),sat=t=>{const e=Wp.findIndex(i=>i.id===t),n=Wp[e];let r;return e>0&&(r=Wp[e-1]),{current:n,prev:r}},oat=t=>{const{prev:e}=sat(t);return e?e.vm.exposed.bottom.value:0},lat=(t,e)=>Wp.findIndex(r=>r.id===t)>0?16:e,uat=["id"],cat=["innerHTML"],hat=Be({name:"ElMessage"}),dat=Be({...hat,props:iat,emits:aat,setup(t,{expose:e}){const n=t,{Close:r}=h7,{ns:i,zIndex:s}=lM("message"),{currentZIndex:l,nextZIndex:c}=s,a=Te(),f=Te(!1),p=Te(0);let m;const v=le(()=>n.type?n.type==="error"?"danger":n.type:"info"),y=le(()=>{const j=n.type;return{[i.bm("icon",j)]:j&&f1[j]}}),T=le(()=>n.icon||f1[n.type]||""),C=le(()=>oat(n.id)),k=le(()=>lat(n.id,n.offset)+C.value),M=le(()=>p.value+k.value),P=le(()=>({top:`${k.value}px`,zIndex:l.value}));function R(){n.duration!==0&&({stop:m}=yy(()=>{z()},n.duration))}function N(){m==null||m()}function z(){f.value=!1}function H({code:j}){j===Tr.esc&&z()}return Fr(()=>{R(),c(),f.value=!0}),ln(()=>n.repeatNum,()=>{N(),R()}),_s(document,"keydown",H),no(a,()=>{p.value=a.value.getBoundingClientRect().height}),e({visible:f,bottom:M,close:z}),(j,Q)=>(X(),Ut(fo,{name:S(i).b("fade"),onBeforeLeave:j.onClose,onAfterLeave:Q[0]||(Q[0]=G=>j.$emit("destroy")),persisted:""},{default:xt(()=>[Jr(pe("div",{id:j.id,ref_key:"messageRef",ref:a,class:Se([S(i).b(),{[S(i).m(j.type)]:j.type},S(i).is("center",j.center),S(i).is("closable",j.showClose),S(i).is("plain",j.plain),j.customClass]),style:or(S(P)),role:"alert",onMouseenter:N,onMouseleave:R},[j.repeatNum>1?(X(),Ut(S(_se),{key:0,value:j.repeatNum,type:S(v),class:Se(S(i).e("badge"))},null,8,["value","type","class"])):bt("v-if",!0),S(T)?(X(),Ut(S(Ar),{key:1,class:Se([S(i).e("icon"),S(y)])},{default:xt(()=>[(X(),Ut(fi(S(T))))]),_:1},8,["class"])):bt("v-if",!0),Ft(j.$slots,"default",{},()=>[j.dangerouslyUseHTMLString?(X(),ve(Vn,{key:1},[bt(" Caution here, message could've been compromised, never use user's input as message "),pe("p",{class:Se(S(i).e("content")),innerHTML:j.message},null,10,cat)],2112)):(X(),ve("p",{key:0,class:Se(S(i).e("content"))},Cn(j.message),3))]),j.showClose?(X(),Ut(S(Ar),{key:2,class:Se(S(i).e("closeBtn")),onClick:Pr(z,["stop"])},{default:xt(()=>[ht(S(r))]),_:1},8,["class","onClick"])):bt("v-if",!0)],46,uat),[[ca,f.value]])]),_:3},8,["name","onBeforeLeave"]))}});var fat=Fn(dat,[["__file","message.vue"]]);let pat=1;const mue=t=>{const e=!t||Hr(t)||Ks(t)||Dr(t)?{message:t}:t,n={...Bc,...e};if(!n.appendTo)n.appendTo=document.body;else if(Hr(n.appendTo)){let r=document.querySelector(n.appendTo);Ff(r)||(r=document.body),n.appendTo=r}return n},Aat=t=>{const e=Wp.indexOf(t);if(e===-1)return;Wp.splice(e,1);const{handler:n}=t;n.close()},mat=({appendTo:t,...e},n)=>{const r=`message_${pat++}`,i=e.onClose,s=document.createElement("div"),l={...e,id:r,onClose:()=>{i==null||i(),Aat(p)},onDestroy:()=>{xm(null,s)}},c=ht(fat,l,Dr(l.message)||Ks(l.message)?{default:Dr(l.message)?l.message:()=>l.message}:null);c.appContext=n||O2._context,xm(c,s),t.appendChild(s.firstElementChild);const a=c.component,p={id:r,vnode:c,vm:a,handler:{close:()=>{a.exposed.visible.value=!1}},props:c.component.props};return p},O2=(t={},e)=>{if(!ra)return{close:()=>{}};if(Or(FR.max)&&Wp.length>=FR.max)return{close:()=>{}};const n=mue(t);if(n.grouping&&Wp.length){const i=Wp.find(({vnode:s})=>{var l;return((l=s.props)==null?void 0:l.message)===n.message});if(i)return i.props.repeatNum+=1,i.props.type=n.type,i.handler}const r=mat(n,e);return Wp.push(r),r.handler};Aue.forEach(t=>{O2[t]=(e={},n)=>{const r=mue(e);return O2({...r,type:t},n)}});function gat(t){for(const e of Wp)(!t||t===e.props.type)&&e.handler.close()}O2.closeAll=gat;O2._context=null;const vat=wae(O2,"$message"),_at=Be({name:"ElMessageBox",directives:{TrapFocus:Fze},components:{ElButton:Eu,ElFocusTrap:E5,ElInput:Nc,ElOverlay:W7,ElIcon:Ar,...h7},inheritAttrs:!1,props:{buttonSize:{type:String,validator:xae},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(t,{emit:e}){const{locale:n,zIndex:r,ns:i,size:s}=lM("message-box",le(()=>t.buttonSize)),{t:l}=n,{nextZIndex:c}=r,a=Te(!1),f=ha({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:c()}),p=le(()=>{const te=f.type;return{[i.bm("icon",te)]:te&&f1[te]}}),m=hc(),v=hc(),y=le(()=>f.icon||f1[f.type]||""),T=le(()=>!!f.message),C=Te(),k=Te(),M=Te(),P=Te(),R=Te(),N=le(()=>f.confirmButtonClass);ln(()=>f.inputValue,async te=>{await dr(),t.boxType==="prompt"&&te!==null&&W()},{immediate:!0}),ln(()=>a.value,te=>{var ne,ce;te&&(t.boxType!=="prompt"&&(f.autofocus?M.value=(ce=(ne=R.value)==null?void 0:ne.$el)!=null?ce:C.value:M.value=C.value),f.zIndex=c()),t.boxType==="prompt"&&(te?dr().then(()=>{var ue;P.value&&P.value.$el&&(f.autofocus?M.value=(ue=ee())!=null?ue:C.value:M.value=C.value)}):(f.editorErrorMessage="",f.validateError=!1))});const z=le(()=>t.draggable),H=le(()=>t.overflow);Cae(C,k,z,H),Fr(async()=>{await dr(),t.closeOnHashChange&&window.addEventListener("hashchange",j)}),ps(()=>{t.closeOnHashChange&&window.removeEventListener("hashchange",j)});function j(){a.value&&(a.value=!1,dr(()=>{f.action&&e("action",f.action)}))}const Q=()=>{t.closeOnClickModal&&q(f.distinguishCancelAndClose?"close":"cancel")},G=E7(Q),ie=te=>{if(f.inputType!=="textarea")return te.preventDefault(),q("confirm")},q=te=>{var ne;t.boxType==="prompt"&&te==="confirm"&&!W()||(f.action=te,f.beforeClose?(ne=f.beforeClose)==null||ne.call(f,te,f,j):j())},W=()=>{if(t.boxType==="prompt"){const te=f.inputPattern;if(te&&!te.test(f.inputValue||""))return f.editorErrorMessage=f.inputErrorMessage||l("el.messagebox.error"),f.validateError=!0,!1;const ne=f.inputValidator;if(typeof ne=="function"){const ce=ne(f.inputValue);if(ce===!1)return f.editorErrorMessage=f.inputErrorMessage||l("el.messagebox.error"),f.validateError=!0,!1;if(typeof ce=="string")return f.editorErrorMessage=ce,f.validateError=!0,!1}}return f.editorErrorMessage="",f.validateError=!1,!0},ee=()=>{const te=P.value.$refs;return te.input||te.textarea},he=()=>{q("close")},J=()=>{t.closeOnPressEscape&&he()};return t.lockScroll&&m7(a),{...Gu(f),ns:i,overlayEvent:G,visible:a,hasMessage:T,typeClass:p,contentId:m,inputId:v,btnSize:s,iconComponent:y,confirmButtonClasses:N,rootRef:C,focusStartRef:M,headerRef:k,inputRef:P,confirmRef:R,doClose:j,handleClose:he,onCloseRequested:J,handleWrapperClick:Q,handleInputEnter:ie,handleAction:q,t:l}}}),yat=["aria-label","aria-describedby"],bat=["aria-label"],wat=["id"];function xat(t,e,n,r,i,s){const l=Kr("el-icon"),c=Kr("close"),a=Kr("el-input"),f=Kr("el-button"),p=Kr("el-focus-trap"),m=Kr("el-overlay");return X(),Ut(fo,{name:"fade-in-linear",onAfterLeave:e[11]||(e[11]=v=>t.$emit("vanish")),persisted:""},{default:xt(()=>[Jr(ht(m,{"z-index":t.zIndex,"overlay-class":[t.ns.is("message-box"),t.modalClass],mask:t.modal},{default:xt(()=>[pe("div",{role:"dialog","aria-label":t.title,"aria-modal":"true","aria-describedby":t.showInput?void 0:t.contentId,class:Se(`${t.ns.namespace.value}-overlay-message-box`),onClick:e[8]||(e[8]=(...v)=>t.overlayEvent.onClick&&t.overlayEvent.onClick(...v)),onMousedown:e[9]||(e[9]=(...v)=>t.overlayEvent.onMousedown&&t.overlayEvent.onMousedown(...v)),onMouseup:e[10]||(e[10]=(...v)=>t.overlayEvent.onMouseup&&t.overlayEvent.onMouseup(...v))},[ht(p,{loop:"",trapped:t.visible,"focus-trap-el":t.rootRef,"focus-start-el":t.focusStartRef,onReleaseRequested:t.onCloseRequested},{default:xt(()=>[pe("div",{ref:"rootRef",class:Se([t.ns.b(),t.customClass,t.ns.is("draggable",t.draggable),{[t.ns.m("center")]:t.center}]),style:or(t.customStyle),tabindex:"-1",onClick:e[7]||(e[7]=Pr(()=>{},["stop"]))},[t.title!==null&&t.title!==void 0?(X(),ve("div",{key:0,ref:"headerRef",class:Se([t.ns.e("header"),{"show-close":t.showClose}])},[pe("div",{class:Se(t.ns.e("title"))},[t.iconComponent&&t.center?(X(),Ut(l,{key:0,class:Se([t.ns.e("status"),t.typeClass])},{default:xt(()=>[(X(),Ut(fi(t.iconComponent)))]),_:1},8,["class"])):bt("v-if",!0),pe("span",null,Cn(t.title),1)],2),t.showClose?(X(),ve("button",{key:0,type:"button",class:Se(t.ns.e("headerbtn")),"aria-label":t.t("el.messagebox.close"),onClick:e[0]||(e[0]=v=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel")),onKeydown:e[1]||(e[1]=Ga(Pr(v=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[ht(l,{class:Se(t.ns.e("close"))},{default:xt(()=>[ht(c)]),_:1},8,["class"])],42,bat)):bt("v-if",!0)],2)):bt("v-if",!0),pe("div",{id:t.contentId,class:Se(t.ns.e("content"))},[pe("div",{class:Se(t.ns.e("container"))},[t.iconComponent&&!t.center&&t.hasMessage?(X(),Ut(l,{key:0,class:Se([t.ns.e("status"),t.typeClass])},{default:xt(()=>[(X(),Ut(fi(t.iconComponent)))]),_:1},8,["class"])):bt("v-if",!0),t.hasMessage?(X(),ve("div",{key:1,class:Se(t.ns.e("message"))},[Ft(t.$slots,"default",{},()=>[t.dangerouslyUseHTMLString?(X(),Ut(fi(t.showInput?"label":"p"),{key:1,for:t.showInput?t.inputId:void 0,innerHTML:t.message},null,8,["for","innerHTML"])):(X(),Ut(fi(t.showInput?"label":"p"),{key:0,for:t.showInput?t.inputId:void 0},{default:xt(()=>[xi(Cn(t.dangerouslyUseHTMLString?"":t.message),1)]),_:1},8,["for"]))])],2)):bt("v-if",!0)],2),Jr(pe("div",{class:Se(t.ns.e("input"))},[ht(a,{id:t.inputId,ref:"inputRef",modelValue:t.inputValue,"onUpdate:modelValue":e[2]||(e[2]=v=>t.inputValue=v),type:t.inputType,placeholder:t.inputPlaceholder,"aria-invalid":t.validateError,class:Se({invalid:t.validateError}),onKeydown:Ga(t.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),pe("div",{class:Se(t.ns.e("errormsg")),style:or({visibility:t.editorErrorMessage?"visible":"hidden"})},Cn(t.editorErrorMessage),7)],2),[[ca,t.showInput]])],10,wat),pe("div",{class:Se(t.ns.e("btns"))},[t.showCancelButton?(X(),Ut(f,{key:0,loading:t.cancelButtonLoading,class:Se([t.cancelButtonClass]),round:t.roundButton,size:t.btnSize,onClick:e[3]||(e[3]=v=>t.handleAction("cancel")),onKeydown:e[4]||(e[4]=Ga(Pr(v=>t.handleAction("cancel"),["prevent"]),["enter"]))},{default:xt(()=>[xi(Cn(t.cancelButtonText||t.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):bt("v-if",!0),Jr(ht(f,{ref:"confirmRef",type:"primary",loading:t.confirmButtonLoading,class:Se([t.confirmButtonClasses]),round:t.roundButton,disabled:t.confirmButtonDisabled,size:t.btnSize,onClick:e[5]||(e[5]=v=>t.handleAction("confirm")),onKeydown:e[6]||(e[6]=Ga(Pr(v=>t.handleAction("confirm"),["prevent"]),["enter"]))},{default:xt(()=>[xi(Cn(t.confirmButtonText||t.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[ca,t.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,yat)]),_:3},8,["z-index","overlay-class","mask"]),[[ca,t.visible]])]),_:3})}var Cat=Fn(_at,[["render",xat],["__file","index.vue"]]);const C6=new Map,Eat=t=>{let e=document.body;return t.appendTo&&(Hr(t.appendTo)&&(e=document.querySelector(t.appendTo)),Ff(t.appendTo)&&(e=t.appendTo),Ff(e)||(e=document.body)),e},Sat=(t,e,n=null)=>{const r=ht(Cat,t,Dr(t.message)||Ks(t.message)?{default:Dr(t.message)?t.message:()=>t.message}:null);return r.appContext=n,xm(r,e),Eat(t).appendChild(e.firstElementChild),r.component},Tat=()=>document.createElement("div"),Bat=(t,e)=>{const n=Tat();t.onVanish=()=>{xm(null,n),C6.delete(i)},t.onAction=s=>{const l=C6.get(i);let c;t.showInput?c={value:i.inputValue,action:s}:c=s,t.callback?t.callback(c,r.proxy):s==="cancel"||s==="close"?t.distinguishCancelAndClose&&s!=="cancel"?l.reject("close"):l.reject("cancel"):l.resolve(c)};const r=Sat(t,n,e),i=r.proxy;for(const s in t)aa(t,s)&&!aa(i.$props,s)&&(i[s]=t[s]);return i.visible=!0,i};function lx(t,e=null){if(!ra)return Promise.reject();let n;return Hr(t)||Ks(t)?t={message:t}:n=t.callback,new Promise((r,i)=>{const s=Bat(t,e??lx._context);C6.set(s,{options:t,callback:n,resolve:r,reject:i})})}const Mat=["alert","confirm","prompt"],Iat={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};Mat.forEach(t=>{lx[t]=Lat(t)});function Lat(t){return(e,n,r,i)=>{let s="";return mi(n)?(r=n,s=""):Zo(n)?s="":s=n,lx(Object.assign({title:s,message:e,type:"",...Iat[t]},r,{boxType:t}),i)}}lx.close=()=>{C6.forEach((t,e)=>{e.doClose()}),C6.clear()};lx._context=null;const Ev=lx;Ev.install=t=>{Ev._context=t._context,t.config.globalProperties.$msgbox=Ev,t.config.globalProperties.$messageBox=Ev,t.config.globalProperties.$alert=Ev.alert,t.config.globalProperties.$confirm=Ev.confirm,t.config.globalProperties.$prompt=Ev.prompt};const kat=Ev,gue=["success","info","warning","error"],Pat=Ln({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:ts},id:{type:String,default:""},message:{type:Rt([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:Rt(Function),default:()=>{}},onClose:{type:Rt(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...gue,""],default:""},zIndex:Number}),Fat={destroy:()=>!0},Rat=["id"],Oat=["textContent"],Dat={key:0},Nat=["innerHTML"],Uat=Be({name:"ElNotification"}),zat=Be({...Uat,props:Pat,emits:Fat,setup(t,{expose:e}){const n=t,{ns:r,zIndex:i}=lM("notification"),{nextZIndex:s,currentZIndex:l}=i,{Close:c}=c7,a=Te(!1);let f;const p=le(()=>{const R=n.type;return R&&f1[n.type]?r.m(R):""}),m=le(()=>n.type&&f1[n.type]||n.icon),v=le(()=>n.position.endsWith("right")?"right":"left"),y=le(()=>n.position.startsWith("top")?"top":"bottom"),T=le(()=>{var R;return{[y.value]:`${n.offset}px`,zIndex:(R=n.zIndex)!=null?R:l.value}});function C(){n.duration>0&&({stop:f}=yy(()=>{a.value&&M()},n.duration))}function k(){f==null||f()}function M(){a.value=!1}function P({code:R}){R===Tr.delete||R===Tr.backspace?k():R===Tr.esc?a.value&&M():C()}return Fr(()=>{C(),s(),a.value=!0}),_s(document,"keydown",P),e({visible:a,close:M}),(R,N)=>(X(),Ut(fo,{name:S(r).b("fade"),onBeforeLeave:R.onClose,onAfterLeave:N[1]||(N[1]=z=>R.$emit("destroy")),persisted:""},{default:xt(()=>[Jr(pe("div",{id:R.id,class:Se([S(r).b(),R.customClass,S(v)]),style:or(S(T)),role:"alert",onMouseenter:k,onMouseleave:C,onClick:N[0]||(N[0]=(...z)=>R.onClick&&R.onClick(...z))},[S(m)?(X(),Ut(S(Ar),{key:0,class:Se([S(r).e("icon"),S(p)])},{default:xt(()=>[(X(),Ut(fi(S(m))))]),_:1},8,["class"])):bt("v-if",!0),pe("div",{class:Se(S(r).e("group"))},[pe("h2",{class:Se(S(r).e("title")),textContent:Cn(R.title)},null,10,Oat),Jr(pe("div",{class:Se(S(r).e("content")),style:or(R.title?void 0:{margin:0})},[Ft(R.$slots,"default",{},()=>[R.dangerouslyUseHTMLString?(X(),ve(Vn,{key:1},[bt(" Caution here, message could've been compromised, never use user's input as message "),pe("p",{innerHTML:R.message},null,8,Nat)],2112)):(X(),ve("p",Dat,Cn(R.message),1))])],6),[[ca,R.message]]),R.showClose?(X(),Ut(S(Ar),{key:0,class:Se(S(r).e("closeBtn")),onClick:Pr(M,["stop"])},{default:xt(()=>[ht(S(c))]),_:1},8,["class","onClick"])):bt("v-if",!0)],2)],46,Rat),[[ca,a.value]])]),_:3},8,["name","onBeforeLeave"]))}});var $at=Fn(zat,[["__file","notification.vue"]]);const I8={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},IO=16;let Vat=1;const D2=function(t={},e=null){if(!ra)return{close:()=>{}};(typeof t=="string"||Ks(t))&&(t={message:t});const n=t.position||"top-right";let r=t.offset||0;I8[n].forEach(({vm:p})=>{var m;r+=(((m=p.el)==null?void 0:m.offsetHeight)||0)+IO}),r+=IO;const i=`notification_${Vat++}`,s=t.onClose,l={...t,offset:r,id:i,onClose:()=>{Hat(i,n,s)}};let c=document.body;Ff(t.appendTo)?c=t.appendTo:Hr(t.appendTo)&&(c=document.querySelector(t.appendTo)),Ff(c)||(c=document.body);const a=document.createElement("div"),f=ht($at,l,Ks(l.message)?{default:()=>l.message}:null);return f.appContext=e??D2._context,f.props.onDestroy=()=>{xm(null,a)},xm(f,a),I8[n].push({vm:f}),c.appendChild(a.firstElementChild),{close:()=>{f.component.exposed.visible.value=!1}}};gue.forEach(t=>{D2[t]=(e={})=>((typeof e=="string"||Ks(e))&&(e={message:e}),D2({...e,type:t}))});function Hat(t,e,n){const r=I8[e],i=r.findIndex(({vm:f})=>{var p;return((p=f.component)==null?void 0:p.props.id)===t});if(i===-1)return;const{vm:s}=r[i];if(!s)return;n==null||n(s);const l=s.el.offsetHeight,c=e.split("-")[0];r.splice(i,1);const a=r.length;if(!(a<1))for(let f=i;f<a;f++){const{el:p,component:m}=r[f].vm,v=Number.parseInt(p.style[c],10)-l-IO;m.props.offset=v}}function Qat(){for(const t of Object.values(I8))t.forEach(({vm:e})=>{e.component.exposed.visible.value=!1})}D2.closeAll=Qat;D2._context=null;const jat=wae(D2,"$notify");var Gat=[Zit,rat,vat,kat,jat,ele],Kat=DNe([...jit,...Gat]);class S0{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}const N2={PROPERTYCHANGE:"propertychange"};class _M{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function Wat(t,e,n){let r,i;n=n||gm;let s=0,l=t.length,c=!1;for(;s<l;)r=s+(l-s>>1),i=+n(t[r],e),i<0?s=r+1:(l=r,c=!i);return c?s:~s}function gm(t,e){return t>e?1:t<e?-1:0}function xU(t,e,n){if(t[0]<=e)return 0;const r=t.length;if(e<=t[r-1])return r-1;if(typeof n=="function"){for(let i=1;i<r;++i){const s=t[i];if(s===e)return i;if(s<e)return n(e,t[i-1],s)>0?i-1:i}return r-1}if(n>0){for(let i=1;i<r;++i)if(t[i]<e)return i-1;return r-1}if(n<0){for(let i=1;i<r;++i)if(t[i]<=e)return i;return r-1}for(let i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return r-1}function qat(t,e,n){for(;e<n;){const r=t[e];t[e]=t[n],t[n]=r,++e,--n}}function vm(t,e){const n=Array.isArray(e)?e:[e],r=n.length;for(let i=0;i<r;i++)t[t.length]=n[i]}function T0(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Yat(t,e,n){const r=e||gm;return t.every(function(i,s){if(s===0)return!0;const l=r(t[s-1],i);return!(l>0||l===0)})}function E6(){return!0}function yM(){return!1}function U2(){}function vue(t){let e=!1,n,r,i;return function(){const s=Array.prototype.slice.call(arguments);return(!e||this!==i||!T0(s,r))&&(e=!0,i=this,r=s,n=t.apply(this,arguments)),n}}function Xat(t){function e(){let n;try{n=t()}catch(r){return Promise.reject(r)}return n instanceof Promise?n:Promise.resolve(n)}return e()}function ux(t){for(const e in t)delete t[e]}function z2(t){let e;for(e in t)return!1;return!e}class bM extends _M{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,n){if(!e||!n)return;const r=this.listeners_||(this.listeners_={}),i=r[e]||(r[e]=[]);i.includes(n)||i.push(n)}dispatchEvent(e){const n=typeof e=="string",r=n?e:e.type,i=this.listeners_&&this.listeners_[r];if(!i)return;const s=n?new S0(e):e;s.target||(s.target=this.eventTarget_||this);const l=this.dispatching_||(this.dispatching_={}),c=this.pendingRemovals_||(this.pendingRemovals_={});r in l||(l[r]=0,c[r]=0),++l[r];let a;for(let f=0,p=i.length;f<p;++f)if("handleEvent"in i[f]?a=i[f].handleEvent(s):a=i[f].call(this,s),a===!1||s.propagationStopped){a=!1;break}if(--l[r]===0){let f=c[r];for(delete c[r];f--;)this.removeEventListener(r,U2);delete l[r]}return a}disposeInternal(){this.listeners_&&ux(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,n){if(!this.listeners_)return;const r=this.listeners_[e];if(!r)return;const i=r.indexOf(n);i!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(r[i]=U2,++this.pendingRemovals_[e]):(r.splice(i,1),r.length===0&&delete this.listeners_[e]))}}const Ra={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function Ha(t,e,n,r,i){if(r&&r!==t&&(n=n.bind(r)),i){const l=n;n=function(){t.removeEventListener(e,n),l.apply(this,arguments)}}const s={target:t,type:e,listener:n};return t.addEventListener(e,n),s}function L8(t,e,n,r){return Ha(t,e,n,r,!0)}function Eo(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),ux(t))}class M5 extends bM{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(Ra.CHANGE)}getRevision(){return this.revision_}onInternal(e,n){if(Array.isArray(e)){const r=e.length,i=new Array(r);for(let s=0;s<r;++s)i[s]=Ha(this,e[s],n);return i}return Ha(this,e,n)}onceInternal(e,n){let r;if(Array.isArray(e)){const i=e.length;r=new Array(i);for(let s=0;s<i;++s)r[s]=L8(this,e[s],n)}else r=L8(this,e,n);return n.ol_key=r,r}unInternal(e,n){const r=n.ol_key;if(r)Mm(r);else if(Array.isArray(e))for(let i=0,s=e.length;i<s;++i)this.removeEventListener(e[i],n);else this.removeEventListener(e,n)}}M5.prototype.on;M5.prototype.once;M5.prototype.un;function Mm(t){if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)Eo(t[e]);else Eo(t)}function gs(){throw new Error("Unimplemented abstract method.")}let Zat=0;function Mi(t){return t.ol_uid||(t.ol_uid=String(++Zat))}const Jat="9.1.0";class lY extends S0{constructor(e,n,r){super(e),this.key=n,this.oldValue=r}}class Qf extends M5{constructor(e){super(),this.on,this.once,this.un,Mi(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let n;return this.values_&&this.values_.hasOwnProperty(e)&&(n=this.values_[e]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,n){let r;r=`change:${e}`,this.hasListener(r)&&this.dispatchEvent(new lY(r,e,n)),r=N2.PROPERTYCHANGE,this.hasListener(r)&&this.dispatchEvent(new lY(r,e,n))}addChangeListener(e,n){this.addEventListener(`change:${e}`,n)}removeChangeListener(e,n){this.removeEventListener(`change:${e}`,n)}set(e,n,r){const i=this.values_||(this.values_={});if(r)i[e]=n;else{const s=i[e];i[e]=n,s!==n&&this.notify(e,s)}}setProperties(e,n){for(const r in e)this.set(r,e[r],n)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,n){if(this.values_&&e in this.values_){const r=this.values_[e];delete this.values_[e],z2(this.values_)&&(this.values_=null),n||this.notify(e,r)}}}function es(t,e){if(!t)throw new Error(e)}class JA extends Qf{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){const n=e;this.setGeometry(n)}else{const n=e;this.setProperties(n)}}clone(){const e=new JA(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const n=this.getGeometry();n&&e.setGeometry(n.clone());const r=this.getStyle();return r&&e.setStyle(r),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(Eo(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=Ha(e,Ra.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?est(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function est(t){if(typeof t=="function")return t;let e;return Array.isArray(t)?e=t:(es(typeof t.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),e=[t]),function(){return e}}const _ue=new Array(6);function Qo(){return[1,0,0,1,0,0]}function uY(t){return CU(t,1,0,0,1,0,0)}function cx(t,e){const n=t[0],r=t[1],i=t[2],s=t[3],l=t[4],c=t[5],a=e[0],f=e[1],p=e[2],m=e[3],v=e[4],y=e[5];return t[0]=n*a+i*f,t[1]=r*a+s*f,t[2]=n*p+i*m,t[3]=r*p+s*m,t[4]=n*v+i*y+l,t[5]=r*v+s*y+c,t}function CU(t,e,n,r,i,s,l){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=l,t}function yue(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Fo(t,e){const n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e}function Wk(t,e,n){return cx(t,CU(_ue,e,0,0,n,0,0))}function EU(t,e,n){return cx(t,CU(_ue,1,0,0,1,e,n))}function qh(t,e,n,r,i,s,l,c){const a=Math.sin(s),f=Math.cos(s);return t[0]=r*f,t[1]=i*a,t[2]=-r*a,t[3]=i*f,t[4]=l*r*f-c*r*a+e,t[5]=l*i*a+c*i*f+n,t}function m1(t,e){const n=tst(e);es(n!==0,"Transformation matrix cannot be inverted");const r=e[0],i=e[1],s=e[2],l=e[3],c=e[4],a=e[5];return t[0]=l/n,t[1]=-i/n,t[2]=-s/n,t[3]=r/n,t[4]=(s*a-l*c)/n,t[5]=-(r*a-i*c)/n,t}function tst(t){return t[0]*t[3]-t[1]*t[2]}const cY=[1e6,1e6,1e6,1e6,2,2];function SU(t){return"matrix("+t.map((n,r)=>Math.round(n*cY[r])/cY[r]).join(", ")+")"}const Vu={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function k8(t){const e=dc();for(let n=0,r=t.length;n<r;++n)SC(e,t[n]);return e}function nst(t,e,n){const r=Math.min.apply(null,t),i=Math.min.apply(null,e),s=Math.max.apply(null,t),l=Math.max.apply(null,e);return Im(r,i,s,l,n)}function rA(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function bue(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function hx(t,e,n){let r,i;return e<t[0]?r=t[0]-e:t[2]<e?r=e-t[2]:r=0,n<t[1]?i=t[1]-n:t[3]<n?i=n-t[3]:i=0,r*r+i*i}function g1(t,e){return TU(t,e[0],e[1])}function Qv(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function TU(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function LO(t,e){const n=t[0],r=t[1],i=t[2],s=t[3],l=e[0],c=e[1];let a=Vu.UNKNOWN;return l<n?a=a|Vu.LEFT:l>i&&(a=a|Vu.RIGHT),c<r?a=a|Vu.BELOW:c>s&&(a=a|Vu.ABOVE),a===Vu.UNKNOWN&&(a=Vu.INTERSECTING),a}function dc(){return[1/0,1/0,-1/0,-1/0]}function Im(t,e,n,r,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=r,i):[t,e,n,r]}function I5(t){return Im(1/0,1/0,-1/0,-1/0,t)}function wue(t,e){const n=t[0],r=t[1];return Im(n,r,n,r,e)}function BU(t,e,n,r,i){const s=I5(i);return xue(s,t,e,n,r)}function v1(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function TT(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function SC(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function xue(t,e,n,r,i){for(;n<r;n+=i)rst(t,e[n],e[n+1]);return t}function rst(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function MU(t,e){let n;return n=e(wM(t)),n||(n=e(xM(t)),n)||(n=e(CM(t)),n)||(n=e(O1(t)),n)?n:!1}function kO(t){let e=0;return dx(t)||(e=ds(t)*xu(t)),e}function wM(t){return[t[0],t[1]]}function xM(t){return[t[2],t[1]]}function iA(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function ist(t,e){let n;if(e==="bottom-left")n=wM(t);else if(e==="bottom-right")n=xM(t);else if(e==="top-left")n=O1(t);else if(e==="top-right")n=CM(t);else throw new Error("Invalid corner");return n}function PO(t,e,n,r,i){const[s,l,c,a,f,p,m,v]=FO(t,e,n,r);return Im(Math.min(s,c,f,m),Math.min(l,a,p,v),Math.max(s,c,f,m),Math.max(l,a,p,v),i)}function FO(t,e,n,r){const i=e*r[0]/2,s=e*r[1]/2,l=Math.cos(n),c=Math.sin(n),a=i*l,f=i*c,p=s*l,m=s*c,v=t[0],y=t[1];return[v-a+m,y-f-p,v-a-m,y-f+p,v+a-m,y+f+p,v+a+m,y+f-p,v-a+m,y-f-p]}function xu(t){return t[3]-t[1]}function cy(t,e,n){const r=n||dc();return su(t,e)?(t[0]>e[0]?r[0]=t[0]:r[0]=e[0],t[1]>e[1]?r[1]=t[1]:r[1]=e[1],t[2]<e[2]?r[2]=t[2]:r[2]=e[2],t[3]<e[3]?r[3]=t[3]:r[3]=e[3]):I5(r),r}function O1(t){return[t[0],t[3]]}function CM(t){return[t[2],t[3]]}function ds(t){return t[2]-t[0]}function su(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function dx(t){return t[2]<t[0]||t[3]<t[1]}function ast(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function sst(t,e,n){let r=!1;const i=LO(t,e),s=LO(t,n);if(i===Vu.INTERSECTING||s===Vu.INTERSECTING)r=!0;else{const l=t[0],c=t[1],a=t[2],f=t[3],p=e[0],m=e[1],v=n[0],y=n[1],T=(y-m)/(v-p);let C,k;s&Vu.ABOVE&&!(i&Vu.ABOVE)&&(C=v-(y-f)/T,r=C>=l&&C<=a),!r&&s&Vu.RIGHT&&!(i&Vu.RIGHT)&&(k=y-(v-a)*T,r=k>=c&&k<=f),!r&&s&Vu.BELOW&&!(i&Vu.BELOW)&&(C=v-(y-c)/T,r=C>=l&&C<=a),!r&&s&Vu.LEFT&&!(i&Vu.LEFT)&&(k=y-(v-l)*T,r=k>=c&&k<=f)}return r}function ost(t,e,n,r){if(dx(t))return I5(n);let i=[];i=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]],e(i,i,2);const s=[],l=[];for(let c=0,a=i.length;c<a;c+=2)s.push(i[c]),l.push(i[c+1]);return nst(s,l,n)}function Cue(t,e){const n=e.getExtent(),r=iA(t);if(e.canWrapX()&&(r[0]<n[0]||r[0]>=n[2])){const i=ds(n),l=Math.floor((r[0]-n[0])/i)*i;t[0]-=l,t[2]-=l}return t}function lst(t,e){if(e.canWrapX()){const n=e.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[n[0],t[1],n[2],t[3]]];Cue(t,e);const r=ds(n);if(ds(t)>r)return[[n[0],t[1],n[2],t[3]]];if(t[0]<n[0])return[[t[0]+r,t[1],n[2],t[3]],[n[0],t[1],t[2],t[3]]];if(t[2]>n[2])return[[t[0],t[1],n[2],t[3]],[n[0],t[1],t[2]-r,t[3]]]}return[t]}const IU={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};let Eue=class{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||IU[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}};const L5=6378137,Iw=Math.PI*L5,ust=[-Iw,-Iw,Iw,Iw],cst=[-180,-85,180,85],RS=L5*Math.log(Math.tan(Math.PI/2));class Hb extends Eue{constructor(e){super({code:e,units:"m",extent:ust,global:!0,worldExtent:cst,getPointResolution:function(n,r){return n/Math.cosh(r[1]/L5)}})}}const hY=[new Hb("EPSG:3857"),new Hb("EPSG:102100"),new Hb("EPSG:102113"),new Hb("EPSG:900913"),new Hb("http://www.opengis.net/def/crs/EPSG/0/3857"),new Hb("http://www.opengis.net/gml/srs/epsg.xml#3857")];function hst(t,e,n){const r=t.length;n=n>1?n:2,e===void 0&&(n>2?e=t.slice():e=new Array(r));for(let i=0;i<r;i+=n){e[i]=Iw*t[i]/180;let s=L5*Math.log(Math.tan(Math.PI*(+t[i+1]+90)/360));s>RS?s=RS:s<-RS&&(s=-RS),e[i+1]=s}return e}function dst(t,e,n){const r=t.length;n=n>1?n:2,e===void 0&&(n>2?e=t.slice():e=new Array(r));for(let i=0;i<r;i+=n)e[i]=180*t[i]/Iw,e[i+1]=360*Math.atan(Math.exp(t[i+1]/L5))/Math.PI-90;return e}const fst=6378137,dY=[-180,-90,180,90],pst=Math.PI*fst/180;class w_ extends Eue{constructor(e,n){super({code:e,units:"degrees",extent:dY,axisOrientation:n,global:!0,metersPerUnit:pst,worldExtent:dY})}}const fY=[new w_("CRS:84"),new w_("EPSG:4326","neu"),new w_("urn:ogc:def:crs:OGC:1.3:CRS84"),new w_("urn:ogc:def:crs:OGC:2:84"),new w_("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new w_("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new w_("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let RO={};function Ast(t){return RO[t]||RO[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function mst(t,e){RO[t]=e}let e2={};function P8(t,e,n){const r=t.getCode(),i=e.getCode();r in e2||(e2[r]={}),e2[r][i]=n}function gst(t,e){let n;return t in e2&&e in e2[t]&&(n=e2[t][e]),n}function Ol(t,e,n){return Math.min(Math.max(t,e),n)}function vst(t,e,n,r,i,s){const l=i-n,c=s-r;if(l!==0||c!==0){const a=((t-n)*l+(e-r)*c)/(l*l+c*c);a>1?(n=i,r=s):a>0&&(n+=l*a,r+=c*a)}return hy(t,e,n,r)}function hy(t,e,n,r){const i=n-t,s=r-e;return i*i+s*s}function _st(t){const e=t.length;for(let r=0;r<e;r++){let i=r,s=Math.abs(t[r][r]);for(let c=r+1;c<e;c++){const a=Math.abs(t[c][r]);a>s&&(s=a,i=c)}if(s===0)return null;const l=t[i];t[i]=t[r],t[r]=l;for(let c=r+1;c<e;c++){const a=-t[c][r]/t[r][r];for(let f=r;f<e+1;f++)r==f?t[c][f]=0:t[c][f]+=a*t[r][f]}}const n=new Array(e);for(let r=e-1;r>=0;r--){n[r]=t[r][e]/t[r][r];for(let i=r-1;i>=0;i--)t[i][e]-=t[i][r]*n[r]}return n}function BT(t){return t*Math.PI/180}function dy(t,e){const n=t%e;return n*e<0?n+e:n}function Nd(t,e,n){return t+n*(e-t)}function EM(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function pY(t,e){return Math.round(EM(t,e))}function OS(t,e){return Math.floor(EM(t,e))}function DS(t,e){return Math.ceil(EM(t,e))}function Sue(t,e){const n=(""+t).split("."),r=(""+e).split(".");for(let i=0;i<Math.max(n.length,r.length);i++){const s=parseInt(n[i]||"0",10),l=parseInt(r[i]||"0",10);if(s>l)return 1;if(l>s)return-1}return 0}function yst(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function F8(t,e){let n=!0;for(let r=t.length-1;r>=0;--r)if(t[r]!=e[r]){n=!1;break}return n}function LU(t,e){const n=Math.cos(e),r=Math.sin(e),i=t[0]*n-t[1]*r,s=t[1]*n+t[0]*r;return t[0]=i,t[1]=s,t}function bst(t,e){return t[0]*=e,t[1]*=e,t}function kU(t,e){if(e.canWrapX()){const n=ds(e.getExtent()),r=wst(t,e,n);r&&(t[0]-=r*n)}return t}function wst(t,e,n){const r=e.getExtent();let i=0;return e.canWrapX()&&(t[0]<r[0]||t[0]>r[2])&&(n=n||ds(r),i=Math.floor((t[0]-r[0])/n)),i}const xst=63710088e-1;function S6(t,e,n){n=n||xst;const r=BT(t[1]),i=BT(e[1]),s=(i-r)/2,l=BT(e[0]-t[0])/2,c=Math.sin(s)*Math.sin(s)+Math.sin(l)*Math.sin(l)*Math.cos(r)*Math.cos(i);return 2*n*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))}function Tue(...t){console.warn(...t)}let OO=!0;function Cst(t){OO=!1}function PU(t,e){if(e!==void 0){for(let n=0,r=t.length;n<r;++n)e[n]=t[n];e=e}else e=t.slice();return e}function Bue(t,e){if(e!==void 0&&t!==e){for(let n=0,r=t.length;n<r;++n)e[n]=t[n];t=e}return t}function Est(t){mst(t.getCode(),t),P8(t,t,PU)}function Sst(t){t.forEach(Est)}function Uf(t){return typeof t=="string"?Ast(t):t||null}function AY(t,e,n,r){t=Uf(t);let i;const s=t.getPointResolutionFunc();if(s)i=s(e,n);else{const l=t.getUnits();if(l=="degrees"&&!r||r=="degrees")i=e;else{const c=SM(t,Uf("EPSG:4326"));if(c===Bue&&l!=="degrees")i=e*t.getMetersPerUnit();else{let f=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];f=c(f,f,2);const p=S6(f.slice(0,2),f.slice(2,4)),m=S6(f.slice(4,6),f.slice(6,8));i=(p+m)/2}const a=t.getMetersPerUnit();a!==void 0&&(i/=a)}}return i}function mY(t){Sst(t),t.forEach(function(e){t.forEach(function(n){e!==n&&P8(e,n,PU)})})}function Tst(t,e,n,r){t.forEach(function(i){e.forEach(function(s){P8(i,s,n),P8(s,i,r)})})}function FU(t,e){return t?typeof t=="string"?Uf(t):t:Uf(e)}function Aw(t,e){if(t===e)return!0;const n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||SM(t,e)===PU)&&n}function SM(t,e){const n=t.getCode(),r=e.getCode();let i=gst(n,r);return i||(i=Bue),i}function T6(t,e){const n=Uf(t),r=Uf(e);return SM(n,r)}function c0(t,e,n){return T6(e,n)(t,void 0,t.length)}function gY(t,e,n,r){const i=T6(e,n);return ost(t,i,void 0)}let Bst=null;function Mst(){return Bst}function DO(t,e){return t}function $g(t,e){return OO&&!F8(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(OO=!1,Tue("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t}function RU(t,e){return t}function Yg(t,e){return t}function Ist(){mY(hY),mY(fY),Tst(fY,hY,hst,dst)}Ist();function _m(t,e,n,r,i,s){s=s||[];let l=0;for(let c=e;c<n;c+=r){const a=t[c],f=t[c+1];s[l++]=i[0]*a+i[2]*f+i[4],s[l++]=i[1]*a+i[3]*f+i[5]}return s&&s.length!=l&&(s.length=l),s}function OU(t,e,n,r,i,s,l){l=l||[];const c=Math.cos(i),a=Math.sin(i),f=s[0],p=s[1];let m=0;for(let v=e;v<n;v+=r){const y=t[v]-f,T=t[v+1]-p;l[m++]=f+y*c-T*a,l[m++]=p+y*a+T*c;for(let C=v+2;C<v+r;++C)l[m++]=t[C]}return l&&l.length!=m&&(l.length=m),l}function Lst(t,e,n,r,i,s,l,c){c=c||[];const a=l[0],f=l[1];let p=0;for(let m=e;m<n;m+=r){const v=t[m]-a,y=t[m+1]-f;c[p++]=a+i*v,c[p++]=f+s*y;for(let T=m+2;T<m+r;++T)c[p++]=t[T]}return c&&c.length!=p&&(c.length=p),c}function kst(t,e,n,r,i,s,l){l=l||[];let c=0;for(let a=e;a<n;a+=r){l[c++]=t[a]+i,l[c++]=t[a+1]+s;for(let f=a+2;f<a+r;++f)l[c++]=t[f]}return l&&l.length!=c&&(l.length=c),l}const vY=Qo();class Pst extends Qf{constructor(){super(),this.extent_=dc(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=vue((e,n,r)=>{if(!r)return this.getSimplifiedGeometry(n);const i=this.clone();return i.applyTransform(r),i.getSimplifiedGeometry(n)})}simplifyTransformed(e,n){return this.simplifyTransformedInternal(this.getRevision(),e,n)}clone(){return gs()}closestPointXY(e,n,r,i){return gs()}containsXY(e,n){const r=this.getClosestPoint([e,n]);return r[0]===e&&r[1]===n}getClosestPoint(e,n){return n=n||[NaN,NaN],this.closestPointXY(e[0],e[1],n,1/0),n}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return gs()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&I5(n),this.extentRevision_=this.getRevision()}return ast(this.extent_,e)}rotate(e,n){gs()}scale(e,n,r){gs()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return gs()}getType(){return gs()}applyTransform(e){gs()}intersectsExtent(e){return gs()}translate(e,n){gs()}transform(e,n){const r=Uf(e),i=r.getUnits()=="tile-pixels"?function(s,l,c){const a=r.getExtent(),f=r.getWorldExtent(),p=xu(f)/xu(a);return qh(vY,f[0],f[3],p,-p,0,0,0),_m(s,0,s.length,c,vY,l),T6(r,n)(s,l,c)}:T6(r,n);return this.applyTransform(i),this}}class D1 extends Pst{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return BU(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return gs()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(e);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,n){this.stride=_Y(e),this.layout=e,this.flatCoordinates=n}setCoordinates(e,n){gs()}setLayout(e,n,r){let i;if(e)i=_Y(e);else{for(let s=0;s<r;++s){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}i=n.length,e=Fst(i)}this.layout=e,this.stride=i}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(e,n){const r=this.getFlatCoordinates();if(r){const i=this.getStride();OU(r,0,r.length,i,e,n,r),this.changed()}}scale(e,n,r){n===void 0&&(n=e),r||(r=iA(this.getExtent()));const i=this.getFlatCoordinates();if(i){const s=this.getStride();Lst(i,0,i.length,s,e,n,r,i),this.changed()}}translate(e,n){const r=this.getFlatCoordinates();if(r){const i=this.getStride();kst(r,0,r.length,i,e,n,r),this.changed()}}}function Fst(t){let e;return t==2?e="XY":t==3?e="XYZ":t==4&&(e="XYZM"),e}function _Y(t){let e;return t=="XY"?e=2:t=="XYZ"||t=="XYM"?e=3:t=="XYZM"&&(e=4),e}function Rst(t,e,n){const r=t.getFlatCoordinates();if(!r)return null;const i=t.getStride();return _m(r,0,r.length,i,e,n)}function yY(t,e,n,r,i,s,l){const c=t[e],a=t[e+1],f=t[n]-c,p=t[n+1]-a;let m;if(f===0&&p===0)m=e;else{const v=((i-c)*f+(s-a)*p)/(f*f+p*p);if(v>1)m=n;else if(v>0){for(let y=0;y<r;++y)l[y]=Nd(t[e+y],t[n+y],v);l.length=r;return}else m=e}for(let v=0;v<r;++v)l[v]=t[m+v];l.length=r}function DU(t,e,n,r,i){let s=t[e],l=t[e+1];for(e+=r;e<n;e+=r){const c=t[e],a=t[e+1],f=hy(s,l,c,a);f>i&&(i=f),s=c,l=a}return i}function NU(t,e,n,r,i){for(let s=0,l=n.length;s<l;++s){const c=n[s];i=DU(t,e,c,r,i),e=c}return i}function Ost(t,e,n,r,i){for(let s=0,l=n.length;s<l;++s){const c=n[s];i=NU(t,e,c,r,i),e=c[c.length-1]}return i}function UU(t,e,n,r,i,s,l,c,a,f,p){if(e==n)return f;let m,v;if(i===0){if(v=hy(l,c,t[e],t[e+1]),v<f){for(m=0;m<r;++m)a[m]=t[e+m];return a.length=r,v}return f}p=p||[NaN,NaN];let y=e+r;for(;y<n;)if(yY(t,y-r,y,r,l,c,p),v=hy(l,c,p[0],p[1]),v<f){for(f=v,m=0;m<r;++m)a[m]=p[m];a.length=r,y+=r}else y+=r*Math.max((Math.sqrt(v)-Math.sqrt(f))/i|0,1);if(s&&(yY(t,n-r,e,r,l,c,p),v=hy(l,c,p[0],p[1]),v<f)){for(f=v,m=0;m<r;++m)a[m]=p[m];a.length=r}return f}function zU(t,e,n,r,i,s,l,c,a,f,p){p=p||[NaN,NaN];for(let m=0,v=n.length;m<v;++m){const y=n[m];f=UU(t,e,y,r,i,s,l,c,a,f,p),e=y}return f}function Dst(t,e,n,r,i,s,l,c,a,f,p){p=p||[NaN,NaN];for(let m=0,v=n.length;m<v;++m){const y=n[m];f=zU(t,e,y,r,i,s,l,c,a,f,p),e=y[y.length-1]}return f}function Mue(t,e,n,r){for(let i=0,s=n.length;i<s;++i)t[e++]=n[i];return e}function TM(t,e,n,r){for(let i=0,s=n.length;i<s;++i){const l=n[i];for(let c=0;c<r;++c)t[e++]=l[c]}return e}function $U(t,e,n,r,i){i=i||[];let s=0;for(let l=0,c=n.length;l<c;++l){const a=TM(t,e,n[l],r);i[s++]=a,e=a}return i.length=s,i}function Nst(t,e,n,r,i){i=i||[];let s=0;for(let l=0,c=n.length;l<c;++l){const a=$U(t,e,n[l],r,i[s]);a.length===0&&(a[0]=e),i[s++]=a,e=a[a.length-1]}return i.length=s,i}function BM(t,e,n,r,i,s,l){const c=(n-e)/r;if(c<3){for(;e<n;e+=r)s[l++]=t[e],s[l++]=t[e+1];return l}const a=new Array(c);a[0]=1,a[c-1]=1;const f=[e,n-r];let p=0;for(;f.length>0;){const m=f.pop(),v=f.pop();let y=0;const T=t[v],C=t[v+1],k=t[m],M=t[m+1];for(let P=v+r;P<m;P+=r){const R=t[P],N=t[P+1],z=vst(R,N,T,C,k,M);z>y&&(p=P,y=z)}y>i&&(a[(p-e)/r]=1,v+r<p&&f.push(v,p),p+r<m&&f.push(p,m))}for(let m=0;m<c;++m)a[m]&&(s[l++]=t[e+m*r],s[l++]=t[e+m*r+1]);return l}function Iue(t,e,n,r,i,s,l,c){for(let a=0,f=n.length;a<f;++a){const p=n[a];l=BM(t,e,p,r,i,s,l),c.push(l),e=p}return l}function k_(t,e){return e*Math.round(t/e)}function Ust(t,e,n,r,i,s,l){if(e==n)return l;let c=k_(t[e],i),a=k_(t[e+1],i);e+=r,s[l++]=c,s[l++]=a;let f,p;do if(f=k_(t[e],i),p=k_(t[e+1],i),e+=r,e==n)return s[l++]=f,s[l++]=p,l;while(f==c&&p==a);for(;e<n;){const m=k_(t[e],i),v=k_(t[e+1],i);if(e+=r,m==f&&v==p)continue;const y=f-c,T=p-a,C=m-c,k=v-a;if(y*k==T*C&&(y<0&&C<y||y==C||y>0&&C>y)&&(T<0&&k<T||T==k||T>0&&k>T)){f=m,p=v;continue}s[l++]=f,s[l++]=p,c=f,a=p,f=m,p=v}return s[l++]=f,s[l++]=p,l}function VU(t,e,n,r,i,s,l,c){for(let a=0,f=n.length;a<f;++a){const p=n[a];l=Ust(t,e,p,r,i,s,l),c.push(l),e=p}return l}function zst(t,e,n,r,i,s,l,c){for(let a=0,f=n.length;a<f;++a){const p=n[a],m=[];l=VU(t,e,p,r,i,s,l,m),c.push(m),e=p[p.length-1]}return l}function jv(t,e,n,r,i){i=i!==void 0?i:[];let s=0;for(let l=e;l<n;l+=r)i[s++]=t.slice(l,l+r);return i.length=s,i}function B6(t,e,n,r,i){i=i!==void 0?i:[];let s=0;for(let l=0,c=n.length;l<c;++l){const a=n[l];i[s++]=jv(t,e,a,r,i[s]),e=a}return i.length=s,i}function NO(t,e,n,r,i){i=i!==void 0?i:[];let s=0;for(let l=0,c=n.length;l<c;++l){const a=n[l];i[s++]=a.length===1&&a[0]===e?[]:B6(t,e,a,r,i[s]),e=a[a.length-1]}return i.length=s,i}function Lue(t,e,n,r){let i=0,s=t[n-r],l=t[n-r+1];for(;e<n;e+=r){const c=t[e],a=t[e+1];i+=l*c-s*a,s=c,l=a}return i/2}function kue(t,e,n,r){let i=0;for(let s=0,l=n.length;s<l;++s){const c=n[s];i+=Lue(t,e,c,r),e=c}return i}function $st(t,e,n,r){let i=0;for(let s=0,l=n.length;s<l;++s){const c=n[s];i+=kue(t,e,c,r),e=c[c.length-1]}return i}class M6 extends D1{constructor(e,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}clone(){return new M6(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,n,r,i){return i<hx(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(DU(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),UU(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,n,r,i))}getArea(){return Lue(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return jv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const n=[];return n.length=BM(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new M6(n,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=TM(this.flatCoordinates,0,e,this.stride),this.changed()}}let $p=class Pue extends D1{constructor(e,n){super(),this.setCoordinates(e,n)}clone(){const e=new Pue(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){const s=this.flatCoordinates,l=hy(e,n,s[0],s[1]);if(l<i){const c=this.stride;for(let a=0;a<c;++a)r[a]=s[a];return r.length=c,l}return i}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return wue(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return TU(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Mue(this.flatCoordinates,0,e,this.stride),this.changed()}};function Vst(t,e,n,r,i){return!MU(i,function(l){return!q_(t,e,n,r,l[0],l[1])})}function q_(t,e,n,r,i,s){let l=0,c=t[n-r],a=t[n-r+1];for(;e<n;e+=r){const f=t[e],p=t[e+1];a<=s?p>s&&(f-c)*(s-a)-(i-c)*(p-a)>0&&l++:p<=s&&(f-c)*(s-a)-(i-c)*(p-a)<0&&l--,c=f,a=p}return l!==0}function HU(t,e,n,r,i,s){if(n.length===0||!q_(t,e,n[0],r,i,s))return!1;for(let l=1,c=n.length;l<c;++l)if(q_(t,n[l-1],n[l],r,i,s))return!1;return!0}function Hst(t,e,n,r,i,s){if(n.length===0)return!1;for(let l=0,c=n.length;l<c;++l){const a=n[l];if(HU(t,e,a,r,i,s))return!0;e=a[a.length-1]}return!1}function QU(t,e,n,r,i,s,l){let c,a,f,p,m,v,y;const T=i[s+1],C=[];for(let P=0,R=n.length;P<R;++P){const N=n[P];for(p=t[N-r],v=t[N-r+1],c=e;c<N;c+=r)m=t[c],y=t[c+1],(T<=v&&y<=T||v<=T&&T<=y)&&(f=(T-v)/(y-v)*(m-p)+p,C.push(f)),p=m,v=y}let k=NaN,M=-1/0;for(C.sort(gm),p=C[0],c=1,a=C.length;c<a;++c){m=C[c];const P=Math.abs(m-p);P>M&&(f=(p+m)/2,HU(t,e,n,r,f,T)&&(k=f,M=P)),p=m}return isNaN(k)&&(k=i[s]),l?(l.push(k,T,M),l):[k,T,M]}function Fue(t,e,n,r,i){let s=[];for(let l=0,c=n.length;l<c;++l){const a=n[l];s=QU(t,e,a,r,i,2*l,s),e=a[a.length-1]}return s}function Rue(t,e,n,r,i){let s;for(e+=r;e<n;e+=r)if(s=i(t.slice(e-r,e),t.slice(e,e+r)),s)return s;return!1}function MM(t,e,n,r,i){const s=xue(dc(),t,e,n,r);return su(i,s)?Qv(i,s)||s[0]>=i[0]&&s[2]<=i[2]||s[1]>=i[1]&&s[3]<=i[3]?!0:Rue(t,e,n,r,function(l,c){return sst(i,l,c)}):!1}function Qst(t,e,n,r,i){for(let s=0,l=n.length;s<l;++s){if(MM(t,e,n[s],r,i))return!0;e=n[s]}return!1}function Oue(t,e,n,r,i){return!!(MM(t,e,n,r,i)||q_(t,e,n,r,i[0],i[1])||q_(t,e,n,r,i[0],i[3])||q_(t,e,n,r,i[2],i[1])||q_(t,e,n,r,i[2],i[3]))}function Due(t,e,n,r,i){if(!Oue(t,e,n[0],r,i))return!1;if(n.length===1)return!0;for(let s=1,l=n.length;s<l;++s)if(Vst(t,n[s-1],n[s],r,i)&&!MM(t,n[s-1],n[s],r,i))return!1;return!0}function jst(t,e,n,r,i){for(let s=0,l=n.length;s<l;++s){const c=n[s];if(Due(t,e,c,r,i))return!0;e=c[c.length-1]}return!1}function Gst(t,e,n,r){for(;e<n-r;){for(let i=0;i<r;++i){const s=t[e+i];t[e+i]=t[n-r+i],t[n-r+i]=s}e+=r,n-=r}}function jU(t,e,n,r){let i=0,s=t[n-r],l=t[n-r+1];for(;e<n;e+=r){const c=t[e],a=t[e+1];i+=(c-s)*(a+l),s=c,l=a}return i===0?void 0:i>0}function Nue(t,e,n,r,i){i=i!==void 0?i:!1;for(let s=0,l=n.length;s<l;++s){const c=n[s],a=jU(t,e,c,r);if(s===0){if(i&&a||!i&&!a)return!1}else if(i&&!a||!i&&a)return!1;e=c}return!0}function Kst(t,e,n,r,i){for(let s=0,l=n.length;s<l;++s){const c=n[s];if(!Nue(t,e,c,r,i))return!1;c.length&&(e=c[c.length-1])}return!0}function UO(t,e,n,r,i){i=i!==void 0?i:!1;for(let s=0,l=n.length;s<l;++s){const c=n[s],a=jU(t,e,c,r);(s===0?i&&a||!i&&!a:i&&!a||!i&&a)&&Gst(t,e,c,r),e=c}return e}function bY(t,e,n,r,i){for(let s=0,l=n.length;s<l;++s)e=UO(t,e,n[s],r,i);return e}function Uue(t,e){const n=[];let r=0,i=0,s;for(let l=0,c=e.length;l<c;++l){const a=e[l],f=jU(t,r,a,2);if(s===void 0&&(s=f),f===s)n.push(e.slice(i,l+1));else{if(n.length===0)continue;n[n.length-1].push(e[i])}i=l+1,r=a}return n}class zf extends D1{constructor(e,n,r){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&r?(this.setFlatCoordinates(n,e),this.ends_=r):this.setCoordinates(e,n)}appendLinearRing(e){this.flatCoordinates?vm(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new zf(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,r,i){return i<hx(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(NU(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),zU(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,n,r,i))}containsXY(e,n){return HU(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,n)}getArea(){return kue(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),UO(n,0,this.ends_,this.stride,e)):n=this.flatCoordinates,B6(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=iA(this.getExtent());this.flatInteriorPoint_=QU(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new $p(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new M6(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,n=this.flatCoordinates,r=this.ends_,i=[];let s=0;for(let l=0,c=r.length;l<c;++l){const a=r[l],f=new M6(n.slice(s,a),e);i.push(f),s=a}return i}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;Nue(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=UO(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],r=[];return n.length=VU(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),n,0,r),new zf(n,"XY",r)}getType(){return"Polygon"}intersectsExtent(e){return Due(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const r=$U(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=r.length===0?0:r[r.length-1],this.changed()}}function Lw(t){if(dx(t))throw new Error("Cannot create polygon from empty extent");const e=t[0],n=t[1],r=t[2],i=t[3],s=[e,n,e,i,r,i,r,n,e,n];return new zf(s,"XY",[s.length])}const Dh={ADD:"add",REMOVE:"remove"},wY={LENGTH:"length"};class NS extends S0{constructor(e,n,r){super(e),this.element=n,this.index=r}}class Sf extends Qf{constructor(e,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=e||[],this.unique_)for(let r=0,i=this.array_.length;r<i;++r)this.assertUnique_(this.array_[r],r);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let n=0,r=e.length;n<r;++n)this.push(e[n]);return this}forEach(e){const n=this.array_;for(let r=0,i=n.length;r<i;++r)e(n[r],r,n)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(wY.LENGTH)}insertAt(e,n){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n),this.array_.splice(e,0,n),this.updateLength_(),this.dispatchEvent(new NS(Dh.ADD,n,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const n=this.getLength();return this.insertAt(n,e),this.getLength()}remove(e){const n=this.array_;for(let r=0,i=n.length;r<i;++r)if(n[r]===e)return this.removeAt(r)}removeAt(e){if(e<0||e>=this.getLength())return;const n=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new NS(Dh.REMOVE,n,e)),n}setAt(e,n){const r=this.getLength();if(e>=r){this.insertAt(e,n);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n,e);const i=this.array_[e];this.array_[e]=n,this.dispatchEvent(new NS(Dh.REMOVE,i,e)),this.dispatchEvent(new NS(Dh.ADD,n,e))}updateLength_(){this.set(wY.LENGTH,this.array_.length)}assertUnique_(e,n){for(let r=0,i=this.array_.length;r<i;++r)if(this.array_[r]===e&&r!==n)throw new Error("Duplicate item added to a unique collection")}}const Rs={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class GU extends Qf{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const n=Object.assign({},e);typeof e.properties=="object"&&(delete n.properties,Object.assign(n,e.properties)),n[Rs.OPACITY]=e.opacity!==void 0?e.opacity:1,es(typeof n[Rs.OPACITY]=="number","Layer opacity must be a number"),n[Rs.VISIBLE]=e.visible!==void 0?e.visible:!0,n[Rs.Z_INDEX]=e.zIndex,n[Rs.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,n[Rs.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,n[Rs.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,n[Rs.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const n=this.state_||{layer:this,managed:e===void 0?!0:e},r=this.getZIndex();return n.opacity=Ol(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=r===void 0&&!n.managed?1/0:r,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(e){return gs()}getLayerStatesArray(e){return gs()}getExtent(){return this.get(Rs.EXTENT)}getMaxResolution(){return this.get(Rs.MAX_RESOLUTION)}getMinResolution(){return this.get(Rs.MIN_RESOLUTION)}getMinZoom(){return this.get(Rs.MIN_ZOOM)}getMaxZoom(){return this.get(Rs.MAX_ZOOM)}getOpacity(){return this.get(Rs.OPACITY)}getSourceState(){return gs()}getVisible(){return this.get(Rs.VISIBLE)}getZIndex(){return this.get(Rs.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(Rs.EXTENT,e)}setMaxResolution(e){this.set(Rs.MAX_RESOLUTION,e)}setMinResolution(e){this.set(Rs.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(Rs.MAX_ZOOM,e)}setMinZoom(e){this.set(Rs.MIN_ZOOM,e)}setOpacity(e){es(typeof e=="number","Layer opacity must be a number"),this.set(Rs.OPACITY,e)}setVisible(e){this.set(Rs.VISIBLE,e)}setZIndex(e){this.set(Rs.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const ju={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},to={ANIMATING:0,INTERACTING:1},Ip={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},Wst=42,KU=256;function xY(t,e,n){return function(r,i,s,l,c){if(!r)return;if(!i&&!e)return r;const a=e?0:s[0]*i,f=e?0:s[1]*i,p=c?c[0]:0,m=c?c[1]:0;let v=t[0]+a/2+p,y=t[2]-a/2+p,T=t[1]+f/2+m,C=t[3]-f/2+m;v>y&&(v=(y+v)/2,y=v),T>C&&(T=(C+T)/2,C=T);let k=Ol(r[0],v,y),M=Ol(r[1],T,C);if(l&&n&&i){const P=30*i;k+=-P*Math.log(1+Math.max(0,v-r[0])/P)+P*Math.log(1+Math.max(0,r[0]-y)/P),M+=-P*Math.log(1+Math.max(0,T-r[1])/P)+P*Math.log(1+Math.max(0,r[1]-C)/P)}return[k,M]}}function qst(t){return t}function WU(t,e,n,r){const i=ds(e)/n[0],s=xu(e)/n[1];return r?Math.min(t,Math.max(i,s)):Math.min(t,Math.min(i,s))}function qU(t,e,n){let r=Math.min(t,e);const i=50;return r*=Math.log(1+i*Math.max(0,t/e-1))/i+1,n&&(r=Math.max(r,n),r/=Math.log(1+i*Math.max(0,n/t-1))/i+1),Ol(r,n/2,e*2)}function Yst(t,e,n,r){return e=e!==void 0?e:!0,function(i,s,l,c){if(i!==void 0){const a=t[0],f=t[t.length-1],p=n?WU(a,n,l,r):a;if(c)return e?qU(i,p,f):Ol(i,f,p);const m=Math.min(p,i),v=Math.floor(xU(t,m,s));return t[v]>p&&v<t.length-1?t[v+1]:t[v]}}}function Xst(t,e,n,r,i,s){return r=r!==void 0?r:!0,n=n!==void 0?n:0,function(l,c,a,f){if(l!==void 0){const p=i?WU(e,i,a,s):e;if(f)return r?qU(l,p,n):Ol(l,n,p);const m=1e-9,v=Math.ceil(Math.log(e/p)/Math.log(t)-m),y=-c*(.5-m)+.5,T=Math.min(p,l),C=Math.floor(Math.log(e/T)/Math.log(t)+y),k=Math.max(v,C),M=e/Math.pow(t,k);return Ol(M,n,p)}}}function CY(t,e,n,r,i){return n=n!==void 0?n:!0,function(s,l,c,a){if(s!==void 0){const f=r?WU(t,r,c,i):t;return!n||!a?Ol(s,e,f):qU(s,f,e)}}}function YU(t){if(t!==void 0)return 0}function EY(t){if(t!==void 0)return t}function Zst(t){const e=2*Math.PI/t;return function(n,r){if(r)return n;if(n!==void 0)return n=Math.floor(n/e+.5)*e,n}}function Jst(t){const e=BT(5);return function(n,r){return r||n===void 0?n:Math.abs(n)<=e?0:n}}function zue(t){return Math.pow(t,3)}function fx(t){return 1-zue(1-t)}function eot(t){return 3*t*t-2*t*t*t}function $ue(t){return t}const qk=0;class am extends Qf{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=FU(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&Cst(),e.center&&(e.center=$g(e.center,this.projection_)),e.extent&&(e.extent=Yg(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const n=Object.assign({},e);for(const c in Ip)delete n[c];this.setProperties(n,!0);const r=not(e);this.maxResolution_=r.maxResolution,this.minResolution_=r.minResolution,this.zoomFactor_=r.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=r.minZoom;const i=tot(e),s=r.constraint,l=rot(e);this.constraints_={center:i,resolution:s,rotation:l},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let n=this.padding_;this.padding_=e;const r=this.getCenterInternal();if(r){const i=e||[0,0,0,0];n=n||[0,0,0,0];const s=this.getResolution(),l=s/2*(i[3]-n[3]+n[1]-i[1]),c=s/2*(i[0]-n[0]+n[2]-i[2]);this.setCenterInternal([r[0]+l,r[1]-c])}}getUpdatedOptions_(e){const n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let r=0;r<n.length;++r){let i=arguments[r];i.center&&(i=Object.assign({},i),i.center=$g(i.center,this.getProjection())),i.anchor&&(i=Object.assign({},i),i.anchor=$g(i.anchor,this.getProjection())),n[r]=i}this.animateInternal.apply(this,n)}animateInternal(e){let n=arguments.length,r;n>1&&typeof arguments[n-1]=="function"&&(r=arguments[n-1],--n);let i=0;for(;i<n&&!this.isDef();++i){const p=arguments[i];p.center&&this.setCenterInternal(p.center),p.zoom!==void 0?this.setZoom(p.zoom):p.resolution&&this.setResolution(p.resolution),p.rotation!==void 0&&this.setRotation(p.rotation)}if(i===n){r&&US(r,!0);return}let s=Date.now(),l=this.targetCenter_.slice(),c=this.targetResolution_,a=this.targetRotation_;const f=[];for(;i<n;++i){const p=arguments[i],m={start:s,complete:!1,anchor:p.anchor,duration:p.duration!==void 0?p.duration:1e3,easing:p.easing||eot,callback:r};if(p.center&&(m.sourceCenter=l,m.targetCenter=p.center.slice(),l=m.targetCenter),p.zoom!==void 0?(m.sourceResolution=c,m.targetResolution=this.getResolutionForZoom(p.zoom),c=m.targetResolution):p.resolution&&(m.sourceResolution=c,m.targetResolution=p.resolution,c=m.targetResolution),p.rotation!==void 0){m.sourceRotation=a;const v=dy(p.rotation-a+Math.PI,2*Math.PI)-Math.PI;m.targetRotation=a+v,a=m.targetRotation}iot(m)?m.complete=!0:s+=m.duration,f.push(m)}this.animations_.push(f),this.setHint(to.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[to.ANIMATING]>0}getInteracting(){return this.hints_[to.INTERACTING]>0}cancelAnimations(){this.setHint(to.ANIMATING,-this.hints_[to.ANIMATING]);let e;for(let n=0,r=this.animations_.length;n<r;++n){const i=this.animations_[n];if(i[0].callback&&US(i[0].callback,!1),!e)for(let s=0,l=i.length;s<l;++s){const c=i[s];if(!c.complete){e=c.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let n=!1;for(let r=this.animations_.length-1;r>=0;--r){const i=this.animations_[r];let s=!0;for(let l=0,c=i.length;l<c;++l){const a=i[l];if(a.complete)continue;const f=e-a.start;let p=a.duration>0?f/a.duration:1;p>=1?(a.complete=!0,p=1):s=!1;const m=a.easing(p);if(a.sourceCenter){const v=a.sourceCenter[0],y=a.sourceCenter[1],T=a.targetCenter[0],C=a.targetCenter[1];this.nextCenter_=a.targetCenter;const k=v+m*(T-v),M=y+m*(C-y);this.targetCenter_=[k,M]}if(a.sourceResolution&&a.targetResolution){const v=m===1?a.targetResolution:a.sourceResolution+m*(a.targetResolution-a.sourceResolution);if(a.anchor){const y=this.getViewportSize_(this.getRotation()),T=this.constraints_.resolution(v,0,y,!0);this.targetCenter_=this.calculateCenterZoom(T,a.anchor)}this.nextResolution_=a.targetResolution,this.targetResolution_=v,this.applyTargetState_(!0)}if(a.sourceRotation!==void 0&&a.targetRotation!==void 0){const v=m===1?dy(a.targetRotation+Math.PI,2*Math.PI)-Math.PI:a.sourceRotation+m*(a.targetRotation-a.sourceRotation);if(a.anchor){const y=this.constraints_.rotation(v,!0);this.targetCenter_=this.calculateCenterRotate(y,a.anchor)}this.nextRotation_=a.targetRotation,this.targetRotation_=v}if(this.applyTargetState_(!0),n=!0,!a.complete)break}if(s){this.animations_[r]=null,this.setHint(to.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const l=i[0].callback;l&&US(l,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,n){let r;const i=this.getCenterInternal();return i!==void 0&&(r=[i[0]-n[0],i[1]-n[1]],LU(r,e-this.getRotation()),yst(r,n)),r}calculateCenterZoom(e,n){let r;const i=this.getCenterInternal(),s=this.getResolution();if(i!==void 0&&s!==void 0){const l=n[0]-e*(n[0]-i[0])/s,c=n[1]-e*(n[1]-i[1])/s;r=[l,c]}return r}getViewportSize_(e){const n=this.viewportSize_;if(e){const r=n[0],i=n[1];return[Math.abs(r*Math.cos(e))+Math.abs(i*Math.sin(e)),Math.abs(r*Math.sin(e))+Math.abs(i*Math.cos(e))]}return n}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&DO(e,this.getProjection())}getCenterInternal(){return this.get(Ip.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const n=this.calculateExtentInternal(e);return RU(n,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();es(n,"The view center is not defined");const r=this.getResolution();es(r!==void 0,"The view resolution is not defined");const i=this.getRotation();return es(i!==void 0,"The view rotation is not defined"),PO(n,r,i,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(Ip.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,n){return this.getResolutionForExtentInternal(Yg(e,this.getProjection()),n)}getResolutionForExtentInternal(e,n){n=n||this.getViewportSizeMinusPadding_();const r=ds(e)/n[0],i=xu(e)/n[1];return Math.max(r,i)}getResolutionForValueFunction(e){e=e||2;const n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,i=Math.log(n/r)/Math.log(e);return function(s){return n/Math.pow(e,s*i)}}getRotation(){return this.get(Ip.ROTATION)}getValueForResolutionFunction(e){const n=Math.log(e||2),r=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,s=Math.log(r/i)/n;return function(l){return Math.log(r/l)/n/s}}getViewportSizeMinusPadding_(e){let n=this.getViewportSize_(e);const r=this.padding_;return r&&(n=[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]),n}getState(){const e=this.getProjection(),n=this.getResolution(),r=this.getRotation();let i=this.getCenterInternal();const s=this.padding_;if(s){const l=this.getViewportSizeMinusPadding_();i=Yk(i,this.getViewportSize_(),[l[0]/2+s[3],l[1]/2+s[0]],n,r)}return{center:i.slice(0),projection:e!==void 0?e:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:r,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const n=this.getResolution();return n!==void 0&&(e=this.getZoomForResolution(n)),e}getZoomForResolution(e){let n=this.minZoom_||0,r,i;if(this.resolutions_){const s=xU(this.resolutions_,e,1);n=s,r=this.resolutions_[s],s==this.resolutions_.length-1?i=2:i=r/this.resolutions_[s+1]}else r=this.maxResolution_,i=this.zoomFactor_;return n+Math.log(r/e)/Math.log(i)}getResolutionForZoom(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const n=Ol(Math.floor(e),0,this.resolutions_.length-2),r=this.resolutions_[n]/this.resolutions_[n+1];return this.resolutions_[n]/Math.pow(r,Ol(e-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,n){let r;if(es(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){es(!dx(e),"Cannot fit empty extent provided as `geometry`");const i=Yg(e,this.getProjection());r=Lw(i)}else if(e.getType()==="Circle"){const i=Yg(e.getExtent(),this.getProjection());r=Lw(i),r.rotate(this.getRotation(),iA(i))}else r=e;this.fitInternal(r,n)}rotatedExtentForGeometry(e){const n=this.getRotation(),r=Math.cos(n),i=Math.sin(-n),s=e.getFlatCoordinates(),l=e.getStride();let c=1/0,a=1/0,f=-1/0,p=-1/0;for(let m=0,v=s.length;m<v;m+=l){const y=s[m]*r-s[m+1]*i,T=s[m]*i+s[m+1]*r;c=Math.min(c,y),a=Math.min(a,T),f=Math.max(f,y),p=Math.max(p,T)}return[c,a,f,p]}fitInternal(e,n){n=n||{};let r=n.size;r||(r=this.getViewportSizeMinusPadding_());const i=n.padding!==void 0?n.padding:[0,0,0,0],s=n.nearest!==void 0?n.nearest:!1;let l;n.minResolution!==void 0?l=n.minResolution:n.maxZoom!==void 0?l=this.getResolutionForZoom(n.maxZoom):l=0;const c=this.rotatedExtentForGeometry(e);let a=this.getResolutionForExtentInternal(c,[r[0]-i[1]-i[3],r[1]-i[0]-i[2]]);a=isNaN(a)?l:Math.max(a,l),a=this.getConstrainedResolution(a,s?0:1);const f=this.getRotation(),p=Math.sin(f),m=Math.cos(f),v=iA(c);v[0]+=(i[1]-i[3])/2*a,v[1]+=(i[0]-i[2])/2*a;const y=v[0]*m-v[1]*p,T=v[1]*m+v[0]*p,C=this.getConstrainedCenter([y,T],a),k=n.callback?n.callback:U2;n.duration!==void 0?this.animateInternal({resolution:a,center:C,duration:n.duration,easing:n.easing},k):(this.targetResolution_=a,this.targetCenter_=C,this.applyTargetState_(!1,!0),US(k,!0))}centerOn(e,n,r){this.centerOnInternal($g(e,this.getProjection()),n,r)}centerOnInternal(e,n,r){this.setCenterInternal(Yk(e,n,r,this.getResolution(),this.getRotation()))}calculateCenterShift(e,n,r,i){let s;const l=this.padding_;if(l&&e){const c=this.getViewportSizeMinusPadding_(-r),a=Yk(e,i,[c[0]/2+l[3],c[1]/2+l[0]],n,r);s=[e[0]-a[0],e[1]-a[1]]}return s}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const n=DO(this.targetCenter_,this.getProjection());this.setCenter([n[0]+e[0],n[1]+e[1]])}adjustCenterInternal(e){const n=this.targetCenter_;this.setCenterInternal([n[0]+e[0],n[1]+e[1]])}adjustResolution(e,n){n=n&&$g(n,this.getProjection()),this.adjustResolutionInternal(e,n)}adjustResolutionInternal(e,n){const r=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*e,0,i,r);n&&(this.targetCenter_=this.calculateCenterZoom(s,n)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,n){this.adjustResolution(Math.pow(this.zoomFactor_,-e),n)}adjustRotation(e,n){n&&(n=$g(n,this.getProjection())),this.adjustRotationInternal(e,n)}adjustRotationInternal(e,n){const r=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+e,r);n&&(this.targetCenter_=this.calculateCenterRotate(i,n)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&$g(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,n){return this.hints_[e]+=n,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,n){const r=this.getAnimating()||this.getInteracting()||n,i=this.constraints_.rotation(this.targetRotation_,r),s=this.getViewportSize_(i),l=this.constraints_.resolution(this.targetResolution_,0,s,r),c=this.constraints_.center(this.targetCenter_,l,s,r,this.calculateCenterShift(this.targetCenter_,l,i,s));this.get(Ip.ROTATION)!==i&&this.set(Ip.ROTATION,i),this.get(Ip.RESOLUTION)!==l&&(this.set(Ip.RESOLUTION,l),this.set("zoom",this.getZoom(),!0)),(!c||!this.get(Ip.CENTER)||!F8(this.get(Ip.CENTER),c))&&this.set(Ip.CENTER,c),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,n,r){e=e!==void 0?e:200;const i=n||0,s=this.constraints_.rotation(this.targetRotation_),l=this.getViewportSize_(s),c=this.constraints_.resolution(this.targetResolution_,i,l),a=this.constraints_.center(this.targetCenter_,c,l,!1,this.calculateCenterShift(this.targetCenter_,c,s,l));if(e===0&&!this.cancelAnchor_){this.targetResolution_=c,this.targetRotation_=s,this.targetCenter_=a,this.applyTargetState_();return}r=r||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==c||this.getRotation()!==s||!this.getCenterInternal()||!F8(this.getCenterInternal(),a))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:a,resolution:c,duration:e,easing:fx,anchor:r}))}beginInteraction(){this.resolveConstraints(0),this.setHint(to.INTERACTING,1)}endInteraction(e,n,r){r=r&&$g(r,this.getProjection()),this.endInteractionInternal(e,n,r)}endInteractionInternal(e,n,r){this.getInteracting()&&(this.setHint(to.INTERACTING,-1),this.resolveConstraints(e,n,r))}getConstrainedCenter(e,n){const r=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,n||this.getResolution(),r)}getConstrainedZoom(e,n){const r=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(r,n))}getConstrainedResolution(e,n){n=n||0;const r=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,n,r)}}function US(t,e){setTimeout(function(){t(e)},0)}function tot(t){if(t.extent!==void 0){const n=t.smoothExtentConstraint!==void 0?t.smoothExtentConstraint:!0;return xY(t.extent,t.constrainOnlyCenter,n)}const e=FU(t.projection,"EPSG:3857");if(t.multiWorld!==!0&&e.isGlobal()){const n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,xY(n,!1,!1)}return qst}function not(t){let e,n,r,l=t.minZoom!==void 0?t.minZoom:qk,c=t.maxZoom!==void 0?t.maxZoom:28;const a=t.zoomFactor!==void 0?t.zoomFactor:2,f=t.multiWorld!==void 0?t.multiWorld:!1,p=t.smoothResolutionConstraint!==void 0?t.smoothResolutionConstraint:!0,m=t.showFullExtent!==void 0?t.showFullExtent:!1,v=FU(t.projection,"EPSG:3857"),y=v.getExtent();let T=t.constrainOnlyCenter,C=t.extent;if(!f&&!C&&v.isGlobal()&&(T=!1,C=y),t.resolutions!==void 0){const k=t.resolutions;n=k[l],r=k[c]!==void 0?k[c]:k[k.length-1],t.constrainResolution?e=Yst(k,p,!T&&C,m):e=CY(n,r,p,!T&&C,m)}else{const M=(y?Math.max(ds(y),xu(y)):360*IU.degrees/v.getMetersPerUnit())/KU/Math.pow(2,qk),P=M/Math.pow(2,28-qk);n=t.maxResolution,n!==void 0?l=0:n=M/Math.pow(a,l),r=t.minResolution,r===void 0&&(t.maxZoom!==void 0?t.maxResolution!==void 0?r=n/Math.pow(a,c):r=M/Math.pow(a,c):r=P),c=l+Math.floor(Math.log(n/r)/Math.log(a)),r=n/Math.pow(a,c-l),t.constrainResolution?e=Xst(a,n,r,p,!T&&C,m):e=CY(n,r,p,!T&&C,m)}return{constraint:e,maxResolution:n,minResolution:r,minZoom:l,zoomFactor:a}}function rot(t){if(t.enableRotation!==void 0?t.enableRotation:!0){const n=t.constrainRotation;return n===void 0||n===!0?Jst():n===!1?EY:typeof n=="number"?Zst(n):EY}return YU}function iot(t){return!(t.sourceCenter&&t.targetCenter&&!F8(t.sourceCenter,t.targetCenter)||t.sourceResolution!==t.targetResolution||t.sourceRotation!==t.targetRotation)}function Yk(t,e,n,r,i){const s=Math.cos(-i);let l=Math.sin(-i),c=t[0]*s-t[1]*l,a=t[1]*s+t[0]*l;c+=(e[0]/2-n[0])*r,a+=(n[1]-e[1]/2)*r,l=-l;const f=c*s-a*l,p=a*s+c*l;return[f,p]}class jy extends GU{constructor(e){const n=Object.assign({},e);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(Rs.SOURCE,this.handleSourcePropertyChange_);const r=e.source?e.source:null;this.setSource(r)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(Rs.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Eo(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=Ha(e,Ra.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let n;const r=this.getMapInternal();!e&&r&&(e=r.getView()),e instanceof am?n={viewState:e.getState(),extent:e.calculateExtent()}:n=e,!n.layerStatesArray&&r&&(n.layerStatesArray=r.getLayerGroup().getLayerStatesArray());let i;n.layerStatesArray?i=n.layerStatesArray.find(l=>l.layer===this):i=this.getLayerState();const s=this.getExtent();return XU(i,n.viewState)&&(!s||su(s,n.extent))}getAttributions(e){if(!this.isVisible(e))return[];let n;const r=this.getSource();if(r&&(n=r.getAttributions()),!n)return[];const i=e instanceof am?e.getViewStateAndExtent():e;let s=n(i);return Array.isArray(s)||(s=[s]),s}render(e,n){const r=this.getRenderer();return r.prepareFrame(e)?(this.rendered=!0,r.renderFrame(e,n)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,n){}renderDeferred(e){const n=this.getRenderer();n&&n.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(Rs.MAP,e)}getMapInternal(){return this.get(Rs.MAP)}setMap(e){this.mapPrecomposeKey_&&(Eo(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Eo(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=Ha(e,ju.PRECOMPOSE,function(n){const i=n.frameState.layerStatesArray,s=this.getLayerState(!1);es(!i.some(function(l){return l.layer===s.layer}),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),i.push(s)},this),this.mapRenderKey_=Ha(this,Ra.CHANGE,e.render,e),this.changed())}setSource(e){this.set(Rs.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function XU(t,e){if(!t.visible)return!1;const n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;const r=e.zoom;return r>t.minZoom&&r<=t.maxZoom}function aot(t,e,n,r,i){Vue(t,e,n||0,r||t.length-1,i||sot)}function Vue(t,e,n,r,i){for(;r>n;){if(r-n>600){var s=r-n+1,l=e-n+1,c=Math.log(s),a=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*a*(s-a)/s)*(l-s/2<0?-1:1),p=Math.max(n,Math.floor(e-l*a/s+f)),m=Math.min(r,Math.floor(e+(s-l)*a/s+f));Vue(t,e,p,m,i)}var v=t[e],y=n,T=r;for(y4(t,n,e),i(t[r],v)>0&&y4(t,n,r);y<T;){for(y4(t,y,T),y++,T--;i(t[y],v)<0;)y++;for(;i(t[T],v)>0;)T--}i(t[n],v)===0?y4(t,n,T):(T++,y4(t,T,r)),T<=e&&(n=T+1),e<=T&&(r=T-1)}}function y4(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function sot(t,e){return t<e?-1:t>e?1:0}let Hue=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let n=this.data;const r=[];if(!$S(e,n))return r;const i=this.toBBox,s=[];for(;n;){for(let l=0;l<n.children.length;l++){const c=n.children[l],a=n.leaf?i(c):c;$S(e,a)&&(n.leaf?r.push(c):Zk(e,a)?this._all(c,r):s.push(c))}n=s.pop()}return r}collides(e){let n=this.data;if(!$S(e,n))return!1;const r=[];for(;n;){for(let i=0;i<n.children.length;i++){const s=n.children[i],l=n.leaf?this.toBBox(s):s;if($S(e,l)){if(n.leaf||Zk(e,l))return!0;r.push(s)}}n=r.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let r=0;r<e.length;r++)this.insert(e[r]);return this}let n=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=mw([]),this}remove(e,n){if(!e)return this;let r=this.data;const i=this.toBBox(e),s=[],l=[];let c,a,f;for(;r||s.length;){if(r||(r=s.pop(),a=s[s.length-1],c=l.pop(),f=!0),r.leaf){const p=oot(e,r.children,n);if(p!==-1)return r.children.splice(p,1),s.push(r),this._condense(s),this}!f&&!r.leaf&&Zk(r,i)?(s.push(r),l.push(c),c=0,a=r,r=r.children[0]):a?(c++,r=a.children[c],f=!1):r=null}return this}toBBox(e){return e}compareMinX(e,n){return e.minX-n.minX}compareMinY(e,n){return e.minY-n.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,n){const r=[];for(;e;)e.leaf?n.push(...e.children):r.push(...e.children),e=r.pop();return n}_build(e,n,r,i){const s=r-n+1;let l=this._maxEntries,c;if(s<=l)return c=mw(e.slice(n,r+1)),Qb(c,this.toBBox),c;i||(i=Math.ceil(Math.log(s)/Math.log(l)),l=Math.ceil(s/Math.pow(l,i-1))),c=mw([]),c.leaf=!1,c.height=i;const a=Math.ceil(s/l),f=a*Math.ceil(Math.sqrt(l));SY(e,n,r,f,this.compareMinX);for(let p=n;p<=r;p+=f){const m=Math.min(p+f-1,r);SY(e,p,m,a,this.compareMinY);for(let v=p;v<=m;v+=a){const y=Math.min(v+a-1,m);c.children.push(this._build(e,v,y,i-1))}}return Qb(c,this.toBBox),c}_chooseSubtree(e,n,r,i){for(;i.push(n),!(n.leaf||i.length-1===r);){let s=1/0,l=1/0,c;for(let a=0;a<n.children.length;a++){const f=n.children[a],p=Xk(f),m=cot(e,f)-p;m<l?(l=m,s=p<s?p:s,c=f):m===l&&p<s&&(s=p,c=f)}n=c||n.children[0]}return n}_insert(e,n,r){const i=r?e:this.toBBox(e),s=[],l=this._chooseSubtree(i,this.data,n,s);for(l.children.push(e),Q4(l,i);n>=0&&s[n].children.length>this._maxEntries;)this._split(s,n),n--;this._adjustParentBBoxes(i,s,n)}_split(e,n){const r=e[n],i=r.children.length,s=this._minEntries;this._chooseSplitAxis(r,s,i);const l=this._chooseSplitIndex(r,s,i),c=mw(r.children.splice(l,r.children.length-l));c.height=r.height,c.leaf=r.leaf,Qb(r,this.toBBox),Qb(c,this.toBBox),n?e[n-1].children.push(c):this._splitRoot(r,c)}_splitRoot(e,n){this.data=mw([e,n]),this.data.height=e.height+1,this.data.leaf=!1,Qb(this.data,this.toBBox)}_chooseSplitIndex(e,n,r){let i,s=1/0,l=1/0;for(let c=n;c<=r-n;c++){const a=H4(e,0,c,this.toBBox),f=H4(e,c,r,this.toBBox),p=hot(a,f),m=Xk(a)+Xk(f);p<s?(s=p,i=c,l=m<l?m:l):p===s&&m<l&&(l=m,i=c)}return i||r-n}_chooseSplitAxis(e,n,r){const i=e.leaf?this.compareMinX:lot,s=e.leaf?this.compareMinY:uot,l=this._allDistMargin(e,n,r,i),c=this._allDistMargin(e,n,r,s);l<c&&e.children.sort(i)}_allDistMargin(e,n,r,i){e.children.sort(i);const s=this.toBBox,l=H4(e,0,n,s),c=H4(e,r-n,r,s);let a=zS(l)+zS(c);for(let f=n;f<r-n;f++){const p=e.children[f];Q4(l,e.leaf?s(p):p),a+=zS(l)}for(let f=r-n-1;f>=n;f--){const p=e.children[f];Q4(c,e.leaf?s(p):p),a+=zS(c)}return a}_adjustParentBBoxes(e,n,r){for(let i=r;i>=0;i--)Q4(n[i],e)}_condense(e){for(let n=e.length-1,r;n>=0;n--)e[n].children.length===0?n>0?(r=e[n-1].children,r.splice(r.indexOf(e[n]),1)):this.clear():Qb(e[n],this.toBBox)}};function oot(t,e,n){if(!n)return e.indexOf(t);for(let r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function Qb(t,e){H4(t,0,t.children.length,e,t)}function H4(t,e,n,r,i){i||(i=mw(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(let s=e;s<n;s++){const l=t.children[s];Q4(i,t.leaf?r(l):l)}return i}function Q4(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function lot(t,e){return t.minX-e.minX}function uot(t,e){return t.minY-e.minY}function Xk(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function zS(t){return t.maxX-t.minX+(t.maxY-t.minY)}function cot(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function hot(t,e){const n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),s=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,s-r)}function Zk(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function $S(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function mw(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function SY(t,e,n,r,i){const s=[e,n];for(;s.length;){if(n=s.pop(),e=s.pop(),n-e<=r)continue;const l=e+Math.ceil((n-e)/r/2)*r;aot(t,l,e,n,i),s.push(e,l,l,n)}}const Va={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function TY(t){return t[0]>0&&t[1]>0}function dot(t,e,n){return n===void 0&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function Vh(t,e){return Array.isArray(t)?t:(e===void 0?e=[t,t]:(e[0]=t,e[1]=t),e)}class IM{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=Vh(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new IM({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return gs()}getImage(e){return gs()}getHitDetectionImage(){return gs()}getPixelRatio(e){return 1}getImageState(){return gs()}getImageSize(){return gs()}getOrigin(){return gs()}getSize(){return gs()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=Vh(e)}listenImageChange(e){gs()}load(){gs()}unlistenImageChange(e){gs()}ready(){return Promise.resolve()}}const I6={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var oc={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"]};oc.whitepoint={2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}};oc.max=oc.whitepoint[2].D65;oc.rgb=function(t,e){e=e||oc.whitepoint[2].E;var n=t[0]/e[0],r=t[1]/e[1],i=t[2]/e[2],s,l,c;return s=n*3.240969941904521+r*-1.537383177570093+i*-.498610760293,l=n*-.96924363628087+r*1.87596750150772+i*.041555057407175,c=n*.055630079696993+r*-.20397695888897+i*1.056971514242878,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s=s*12.92,l=l>.0031308?1.055*Math.pow(l,1/2.4)-.055:l=l*12.92,c=c>.0031308?1.055*Math.pow(c,1/2.4)-.055:c=c*12.92,s=Math.min(Math.max(0,s),1),l=Math.min(Math.max(0,l),1),c=Math.min(Math.max(0,c),1),[s*255,l*255,c*255]};I6.xyz=function(t,e){var n=t[0]/255,r=t[1]/255,i=t[2]/255;n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92;var s=n*.41239079926595+r*.35758433938387+i*.18048078840183,l=n*.21263900587151+r*.71516867876775+i*.072192315360733,c=n*.019330818715591+r*.11919477979462+i*.95053215224966;return e=e||oc.whitepoint[2].E,[s*e[0],l*e[1],c*e[2]]};const ZU={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(t,e,n){var r,i,s,l,c,a,f,p,m,v,y,T,C;if(s=t[0],l=t[1],c=t[2],s===0)return[0,0,0];var k=.0011070564598794539;return e=e||"D65",n=n||2,m=oc.whitepoint[n][e][0],v=oc.whitepoint[n][e][1],y=oc.whitepoint[n][e][2],T=4*m/(m+15*v+3*y),C=9*v/(m+15*v+3*y),r=l/(13*s)+T||0,i=c/(13*s)+C||0,f=s>8?v*Math.pow((s+16)/116,3):v*s*k,a=f*9*r/(4*i)||0,p=f*(12-3*r-20*i)/(4*i)||0,[a,f,p]}};oc.luv=function(t,e,n){var r,i,s,l,c,a,f,p,m,v,y,T,C,k=.008856451679035631,M=903.2962962962961;e=e||"D65",n=n||2,m=oc.whitepoint[n][e][0],v=oc.whitepoint[n][e][1],y=oc.whitepoint[n][e][2],T=4*m/(m+15*v+3*y),C=9*v/(m+15*v+3*y),a=t[0],f=t[1],p=t[2],r=4*a/(a+15*f+3*p)||0,i=9*f/(a+15*f+3*p)||0;var P=f/v;return s=P<=k?M*P:116*Math.pow(P,1/3)-16,l=13*s*(r-T),c=13*s*(i-C),[s,l,c]};var Que={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(t){var e=t[0],n=t[1],r=t[2],i,s,l;return l=r/360*2*Math.PI,i=n*Math.cos(l),s=n*Math.sin(l),[e,i,s]},xyz:function(t){return ZU.xyz(Que.luv(t))}};ZU.lchuv=function(t){var e=t[0],n=t[1],r=t[2],i=Math.sqrt(n*n+r*r),s=Math.atan2(r,n),l=s*360/2/Math.PI;return l<0&&(l+=360),[e,i,l]};oc.lchuv=function(t){return ZU.lchuv(oc.luv(t))};const BY={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var MY={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function fot(t){var p,m;var e,n=[],r=1,i;if(typeof t=="number")return{space:"rgb",values:[t>>>16,(t&65280)>>>8,t&255],alpha:1};if(typeof t=="number")return{space:"rgb",values:[t>>>16,(t&65280)>>>8,t&255],alpha:1};if(t=String(t).toLowerCase(),BY[t])n=BY[t].slice(),i="rgb";else if(t==="transparent")r=0,i="rgb",n=[0,0,0];else if(t[0]==="#"){var s=t.slice(1),l=s.length,c=l<=4;r=1,c?(n=[parseInt(s[0]+s[0],16),parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16)],l===4&&(r=parseInt(s[3]+s[3],16)/255)):(n=[parseInt(s[0]+s[1],16),parseInt(s[2]+s[3],16),parseInt(s[4]+s[5],16)],l===8&&(r=parseInt(s[6]+s[7],16)/255)),n[0]||(n[0]=0),n[1]||(n[1]=0),n[2]||(n[2]=0),i="rgb"}else if(e=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(t)){var a=e[1];i=a.replace(/a$/,"");var f=i==="cmyk"?4:i==="gray"?1:3;n=e[2].trim().split(/\s*[,\/]\s*|\s+/),i==="color"&&(i=n.shift()),n=n.map(function(v,y){if(v[v.length-1]==="%")return v=parseFloat(v)/100,y===3?v:i==="rgb"?v*255:i[0]==="h"||i[0]==="l"&&!y?v*100:i==="lab"?v*125:i==="lch"?y<2?v*150:v*360:i[0]==="o"&&!y?v:i==="oklab"?v*.4:i==="oklch"?y<2?v*.4:v*360:v;if(i[y]==="h"||y===2&&i[i.length-1]==="h"){if(MY[v]!==void 0)return MY[v];if(v.endsWith("deg"))return parseFloat(v);if(v.endsWith("turn"))return parseFloat(v)*360;if(v.endsWith("grad"))return parseFloat(v)*360/400;if(v.endsWith("rad"))return parseFloat(v)*180/Math.PI}return v==="none"?0:parseFloat(v)}),r=n.length>f?n.pop():1}else/[0-9](?:\s|\/|,)/.test(t)&&(n=t.match(/([0-9]+)/g).map(function(v){return parseFloat(v)}),i=((m=(p=t.match(/([a-z])/ig))==null?void 0:p.join(""))==null?void 0:m.toLowerCase())||"rgb");return{space:i,values:n,alpha:r}}const Jk={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(t){var e=t[0]/360,n=t[1]/100,r=t[2]/100,i,s,l,c,a,f=0;if(n===0)return a=r*255,[a,a,a];for(s=r<.5?r*(1+n):r+n-r*n,i=2*r-s,c=[0,0,0];f<3;)l=e+1/3*-(f-1),l<0?l++:l>1&&l--,a=6*l<1?i+(s-i)*6*l:2*l<1?s:3*l<2?i+(s-i)*(2/3-l)*6:i,c[f++]=a*255;return c}};I6.hsl=function(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.min(e,n,r),s=Math.max(e,n,r),l=s-i,c,a,f;return s===i?c=0:e===s?c=(n-r)/l:n===s?c=2+(r-e)/l:r===s&&(c=4+(e-n)/l),c=Math.min(c*60,360),c<0&&(c+=360),f=(i+s)/2,s===i?a=0:f<=.5?a=l/(s+i):a=l/(2-s-i),[c,a*100,f*100]};function pot(t){Array.isArray(t)&&t.raw&&(t=String.raw(...arguments)),t instanceof Number&&(t=+t);var e,n=fot(t);if(!n.space)return[];const r=n.space[0]==="h"?Jk.min:I6.min,i=n.space[0]==="h"?Jk.max:I6.max;return e=Array(3),e[0]=Math.min(Math.max(n.values[0],r[0]),i[0]),e[1]=Math.min(Math.max(n.values[1],r[1]),i[1]),e[2]=Math.min(Math.max(n.values[2],r[2]),i[2]),n.space[0]==="h"&&(e=Jk.rgb(e)),e.push(Math.min(Math.max(n.alpha,0),1)),e}function TC(t){return typeof t=="string"?t:ez(t)}const Aot=1024,b4={};let eP=0;function mot(t){if(t.length===4)return t;const e=t.slice();return e[3]=1,e}function IY(t){const e=oc.lchuv(I6.xyz(t));return e[3]=t[3],e}function got(t){const e=oc.rgb(Que.xyz(t));return e[3]=t[3],e}function JU(t){if(b4.hasOwnProperty(t))return b4[t];if(eP>=Aot){let n=0;for(const r in b4)n++&3||(delete b4[r],--eP)}const e=pot(t);if(e.length!==4)throw new Error('Failed to parse "'+t+'" as color');for(const n of e)if(isNaN(n))throw new Error('Failed to parse "'+t+'" as color');return jue(e),b4[t]=e,++eP,e}function Lm(t){return Array.isArray(t)?t:JU(t)}function jue(t){return t[0]=Ol(t[0]+.5|0,0,255),t[1]=Ol(t[1]+.5|0,0,255),t[2]=Ol(t[2]+.5|0,0,255),t[3]=Ol(t[3],0,1),t}function ez(t){let e=t[0];e!=(e|0)&&(e=e+.5|0);let n=t[1];n!=(n|0)&&(n=n+.5|0);let r=t[2];r!=(r|0)&&(r=r+.5|0);const i=t[3]===void 0?1:Math.round(t[3]*1e3)/1e3;return"rgba("+e+","+n+","+r+","+i+")"}function vot(t){try{return JU(t),!0}catch{return!1}}const _1=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",_ot=_1.includes("firefox"),yot=_1.includes("safari")&&!_1.includes("chrom"),bot=yot&&(_1.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(_1)),wot=_1.includes("webkit")&&!_1.includes("edge"),Gue=_1.includes("macintosh"),Kue=typeof devicePixelRatio<"u"?devicePixelRatio:1,Wue=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,que=typeof Image<"u"&&Image.prototype.decode,Yue=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return t}();function Ku(t,e,n,r){let i;return n&&n.length?i=n.shift():Wue?i=new OffscreenCanvas(t||300,e||300):i=document.createElement("canvas"),t&&(i.width=t),e&&(i.height=e),i.getContext("2d",r)}let tP;function zO(){return tP||(tP=Ku(1,1)),tP}function LM(t){const e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function LY(t,e){const n=e.parentNode;n&&n.replaceChild(t,e)}function $O(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function xot(t){for(;t.lastChild;)t.removeChild(t.lastChild)}function Cot(t,e){const n=t.childNodes;for(let r=0;;++r){const i=n[r],s=e[r];if(!i&&!s)break;if(i!==s){if(!i){t.appendChild(s);continue}if(!s){t.removeChild(i),--r;continue}t.insertBefore(s,i)}}}function Eot(t,e,n){const r=t;let i=!0,s=!1,l=!1;const c=[L8(r,Ra.LOAD,function(){l=!0,s||e()})];return r.src&&que?(s=!0,r.decode().then(function(){i&&e()}).catch(function(a){i&&(l?e():n())})):c.push(L8(r,Ra.ERROR,n)),function(){i=!1,c.forEach(Eo)}}function Sot(t,e){return new Promise((n,r)=>{function i(){l(),n(t)}function s(){l(),r(new Error("Image load error"))}function l(){t.removeEventListener("load",i),t.removeEventListener("error",s)}t.addEventListener("load",i),t.addEventListener("error",s)})}function Tot(t,e){return e&&(t.src=e),t.src&&que?new Promise((n,r)=>t.decode().then(()=>n(t)).catch(i=>t.complete&&t.width?n(t):r(i))):Sot(t)}class Bot{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const n in this.cache_){const r=this.cache_[n];!(e++&3)&&!r.hasListener()&&(delete this.cache_[n],delete this.patternCache_[n],--this.cacheSize_)}}}get(e,n,r){const i=nP(e,n,r);return i in this.cache_?this.cache_[i]:null}getPattern(e,n,r){const i=nP(e,n,r);return i in this.patternCache_?this.patternCache_[i]:null}set(e,n,r,i,s){const l=nP(e,n,r),c=l in this.cache_;this.cache_[l]=i,s&&(i.getImageState()===Va.IDLE&&i.load(),i.getImageState()===Va.LOADING?i.ready().then(()=>{this.patternCache_[l]=zO().createPattern(i.getImage(1),"repeat")}):this.patternCache_[l]=zO().createPattern(i.getImage(1),"repeat")),c||++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function nP(t,e,n){const r=n?Lm(n):"null";return e+":"+t+":"+r}const um=new Bot;let w4=null;class Mot extends bM{constructor(e,n,r,i,s){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=r,this.canvas_={},this.color_=s,this.imageState_=i===void 0?Va.IDLE:i,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=n,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===Va.LOADED){w4||(w4=Ku(1,1,void 0,{willReadFrequently:!0})),w4.drawImage(this.image_,0,0);try{w4.getImageData(0,0,1,1),this.tainted_=!1}catch{w4=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(Ra.CHANGE)}handleImageError_(){this.imageState_=Va.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=Va.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],n=this.size_[1],r=Ku(e,n);r.fillRect(0,0,e,n),this.hitDetectionImage_=r.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===Va.IDLE){this.image_||this.initializeImage_(),this.imageState_=Va.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&Tot(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==Va.LOADED)return;const n=this.image_,r=document.createElement("canvas");r.width=Math.ceil(n.width*e),r.height=Math.ceil(n.height*e);const i=r.getContext("2d");i.scale(e,e),i.drawImage(n,0,0),i.globalCompositeOperation="multiply",i.fillStyle=TC(this.color_),i.fillRect(0,0,r.width/e,r.height/e),i.globalCompositeOperation="destination-in",i.drawImage(n,0,0),this.canvas_[e]=r}ready(){return this.ready_||(this.ready_=new Promise(e=>{this.imageState_===Va.LOADED||this.imageState_===Va.ERROR?e():this.addEventListener(Ra.CHANGE,function n(){(this.imageState_===Va.LOADED||this.imageState_===Va.ERROR)&&(this.removeEventListener(Ra.CHANGE,n),e())})})),this.ready_}}function tz(t,e,n,r,i,s){let l=e===void 0?void 0:um.get(e,n,i);return l||(l=new Mot(t,t instanceof HTMLImageElement?t.src||void 0:e,n,r,i),um.set(e,n,i,l,s)),s&&l&&!um.getPattern(e,n,i)&&um.set(e,n,i,l,s),l}function cm(t){return t?Array.isArray(t)?ez(t):typeof t=="object"&&"src"in t?Iot(t):t:null}function Iot(t){if(!t.offset||!t.size)return um.getPattern(t.src,"anonymous",t.color);const e=t.src+":"+t.offset,n=um.getPattern(e,void 0,t.color);if(n)return n;const r=um.get(t.src,"anonymous",null);if(r.getImageState()!==Va.LOADED)return null;const i=Ku(t.size[0],t.size[1]);return i.drawImage(r.getImage(1),t.offset[0],t.offset[1],t.size[0],t.size[1],0,0,t.size[0],t.size[1]),tz(i.canvas,e,void 0,Va.LOADED,t.color,!0),um.getPattern(e,void 0,t.color)}const VS="ol-hidden",kM="ol-unselectable",nz="ol-control",kY="ol-collapsed",Lot=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),PY=["style","variant","weight","size","lineHeight","family"],Xue=function(t){const e=t.match(Lot);if(!e)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let r=0,i=PY.length;r<i;++r){const s=e[r+1];s!==void 0&&(n[PY[r]]=s)}return n.families=n.family.split(/,\s?/),n},Zue="10px sans-serif",Nh="#000",$2="round",Jg=[],e0=0,V2="round",L6=10,k6="#000",P6="center",R8="middle",Y_=[0,0,0,0],F6=1,Vg=new Qf;let gw=null,VO;const HO={},kot=function(){const e="32px ",n=["monospace","serif"],r=n.length,i="wmytzilWMYTZIL@#/&?$%10";let s,l;function c(f,p,m){let v=!0;for(let y=0;y<r;++y){const T=n[y];if(l=O8(f+" "+p+" "+e+T,i),m!=T){const C=O8(f+" "+p+" "+e+m+","+T,i);v=v&&C!=l}}return!!v}function a(){let f=!0;const p=Vg.getKeys();for(let m=0,v=p.length;m<v;++m){const y=p[m];Vg.get(y)<100&&(c.apply(this,y.split(`
`))?(ux(HO),gw=null,VO=void 0,Vg.set(y,100)):(Vg.set(y,Vg.get(y)+1,!0),f=!1))}f&&(clearInterval(s),s=void 0)}return function(f){const p=Xue(f);if(!p)return;const m=p.families;for(let v=0,y=m.length;v<y;++v){const T=m[v],C=p.style+`
`+p.weight+`
`+T;Vg.get(C)===void 0&&(Vg.set(C,100,!0),c(p.style,p.weight,T)||(Vg.set(C,0,!0),s===void 0&&(s=setInterval(a,32))))}}}(),Pot=function(){let t;return function(e){let n=HO[e];if(n==null){if(Wue){const r=Xue(e),i=Jue(e,"Žg");n=(isNaN(Number(r.lineHeight))?1.2:Number(r.lineHeight))*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else t||(t=document.createElement("div"),t.innerHTML="M",t.style.minHeight="0",t.style.maxHeight="none",t.style.height="auto",t.style.padding="0",t.style.border="none",t.style.position="absolute",t.style.display="block",t.style.left="-99999px"),t.style.font=e,document.body.appendChild(t),n=t.offsetHeight,document.body.removeChild(t);HO[e]=n}return n}}();function Jue(t,e){return gw||(gw=Ku(1,1)),t!=VO&&(gw.font=t,VO=gw.font),gw.measureText(e)}function O8(t,e){return Jue(t,e).width}function FY(t,e,n){if(e in n)return n[e];const r=e.split(`
`).reduce((i,s)=>Math.max(i,O8(t,s)),0);return n[e]=r,r}function Fot(t,e){const n=[],r=[],i=[];let s=0,l=0,c=0,a=0;for(let f=0,p=e.length;f<=p;f+=2){const m=e[f];if(m===`
`||f===p){s=Math.max(s,l),i.push(l),l=0,c+=a;continue}const v=e[f+1]||t.font,y=O8(v,m);n.push(y),l+=y;const T=Pot(v);r.push(T),a=Math.max(a,T)}return{width:s,height:c,widths:n,heights:r,lineWidths:i}}function Rot(t,e,n,r,i,s,l,c,a,f,p){t.save(),n!==1&&(t.globalAlpha===void 0?t.globalAlpha=m=>m.globalAlpha*=n:t.globalAlpha*=n),e&&t.transform.apply(t,e),r.contextInstructions?(t.translate(a,f),t.scale(p[0],p[1]),Oot(r,t)):p[0]<0||p[1]<0?(t.translate(a,f),t.scale(p[0],p[1]),t.drawImage(r,i,s,l,c,0,0,l,c)):t.drawImage(r,i,s,l,c,a,f,l*p[0],c*p[1]),t.restore()}function Oot(t,e){const n=t.contextInstructions;for(let r=0,i=n.length;r<i;r+=2)Array.isArray(n[r+1])?e[n[r]].apply(e,n[r+1]):e[n[r]]=n[r+1]}class fy extends IM{constructor(e){super({opacity:1,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.canvases_,this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=e.radius,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?Va.LOADING:Va.LOADED,this.imageState_===Va.LOADING&&this.ready().then(()=>this.imageState_=Va.LOADED),this.render()}clone(){const e=this.getScale(),n=new fy({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){const e=this.size_,n=this.getDisplacement(),r=this.getScaleArray();return[e[0]/2-n[0]/r[0],e[1]/2+n[1]/r[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){let n=this.canvases_[e];if(!n){const r=this.renderOptions_,i=Ku(r.size*e,r.size*e);this.draw_(r,i,e),n=i.canvas,this.canvases_[e]=n}return n}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,n,r){if(n===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return n;let i=this.radius_,s=this.radius2_===void 0?i:this.radius2_;if(i<s){const H=i;i=s,s=H}const l=this.radius2_===void 0?this.points_:this.points_*2,c=2*Math.PI/l,a=s*Math.sin(c),f=Math.sqrt(s*s-a*a),p=i-f,m=Math.sqrt(a*a+p*p),v=m/a;if(e==="miter"&&v<=r)return v*n;const y=n/2/v,T=n/2*(p/m),k=Math.sqrt((i+y)*(i+y)+T*T)-i;if(this.radius2_===void 0||e==="bevel")return k*2;const M=i*Math.sin(c),P=Math.sqrt(i*i-M*M),R=s-P,z=Math.sqrt(M*M+R*R)/M;if(z<=r){const H=z*n/2-s-i;return 2*Math.max(k,H)}return k*2}createRenderOptions(){let e=$2,n=V2,r=0,i=null,s=0,l,c=0;this.stroke_&&(l=cm(this.stroke_.getColor()??k6),c=this.stroke_.getWidth()??F6,i=this.stroke_.getLineDash(),s=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??V2,e=this.stroke_.getLineCap()??$2,r=this.stroke_.getMiterLimit()??L6);const a=this.calculateLineJoinSize_(n,c,r),f=Math.max(this.radius_,this.radius2_||0),p=Math.ceil(2*f+a);return{strokeStyle:l,strokeWidth:c,size:p,lineCap:e,lineDash:i,lineDashOffset:s,lineJoin:n,miterLimit:r}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.canvases_={},this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,n,r){if(n.scale(r,r),n.translate(e.size/2,e.size/2),this.createPath_(n),this.fill_){let i=this.fill_.getColor();i===null&&(i=Nh),n.fillStyle=cm(i),n.fill()}e.strokeStyle&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineCap=e.lineCap,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}createHitDetectionCanvas_(e){let n;if(this.fill_){let r=this.fill_.getColor(),i=0;typeof r=="string"&&(r=Lm(r)),r===null?i=1:Array.isArray(r)&&(i=r.length===4?r[3]:1),i===0&&(n=Ku(e.size,e.size),this.drawHitDetectionCanvas_(e,n))}return n?n.canvas:this.getImage(1)}createPath_(e){let n=this.points_;const r=this.radius_;if(n===1/0)e.arc(0,0,r,0,2*Math.PI);else{const i=this.radius2_===void 0?r:this.radius2_;this.radius2_!==void 0&&(n*=2);const s=this.angle_-Math.PI/2,l=2*Math.PI/n;for(let c=0;c<n;c++){const a=s+c*l,f=c%2===0?r:i;e.lineTo(f*Math.cos(a),f*Math.sin(a))}e.closePath()}}drawHitDetectionCanvas_(e,n){n.translate(e.size/2,e.size/2),this.createPath_(n),n.fillStyle=Nh,n.fill(),e.strokeStyle&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class k5 extends fy{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),n=new k5({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(e){this.radius_=e,this.render()}}class km{constructor(e){e=e||{},this.patternImage_=null,this.color_=null,e.color!==void 0&&this.setColor(e.color)}clone(){const e=this.getColor();return new km({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){if(e!==null&&typeof e=="object"&&"src"in e){const n=tz(null,e.src,"anonymous",void 0,e.offset?null:e.color?e.color:null,!(e.offset&&e.size));n.ready().then(()=>{this.patternImage_=null}),n.getImageState()===Va.IDLE&&n.load(),n.getImageState()===Va.LOADING&&(this.patternImage_=n)}this.color_=e}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}class Kd{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new Kd({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}class Uc{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=RY,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new Uc({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(n){return n.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=RY,this.geometry_=e}setZIndex(e){this.zIndex_=e}}function Dot(t){let e;if(typeof t=="function")e=t;else{let n;Array.isArray(t)?n=t:(es(typeof t.getZIndex=="function","Expected an `Style` or an array of `Style`"),n=[t]),e=function(){return n}}return e}let rP=null;function Not(t,e){if(!rP){const n=new km({color:"rgba(255,255,255,0.4)"}),r=new Kd({color:"#3399CC",width:1.25});rP=[new Uc({image:new k5({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return rP}function RY(t){return t.getGeometry()}function OY(t,e,n,r){return n!==void 0&&r!==void 0?[n/t,r/e]:n!==void 0?n/t:r!==void 0?r/e:1}class P5 extends IM{constructor(e){e=e||{};const n=e.opacity!==void 0?e.opacity:1,r=e.rotation!==void 0?e.rotation:0,i=e.scale!==void 0?e.scale:1,s=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:n,rotation:r,scale:i,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:s,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;const l=e.img!==void 0?e.img:null;let c=e.src;es(!(c!==void 0&&l),"`image` and `src` cannot be provided at the same time"),(c===void 0||c.length===0)&&l&&(c=l.src||Mi(l)),es(c!==void 0&&c.length>0,"A defined and non-empty `src` or `image` must be provided"),es(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let a;if(e.src!==void 0?a=Va.IDLE:l!==void 0&&(l instanceof HTMLImageElement?l.complete?a=l.src?Va.LOADED:Va.IDLE:a=Va.LOADING:a=Va.LOADED),this.color_=e.color!==void 0?Lm(e.color):null,this.iconImage_=tz(l,c,this.crossOrigin_,a,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,e.width!==void 0||e.height!==void 0){let f,p;if(e.size)[f,p]=e.size;else{const m=this.getImage(1);if(m.width&&m.height)f=m.width,p=m.height;else if(m instanceof HTMLImageElement){this.initialOptions_=e;const v=()=>{if(this.unlistenImageChange(v),!this.initialOptions_)return;const y=this.iconImage_.getSize();this.setScale(OY(y[0],y[1],e.width,e.height))};this.listenImageChange(v);return}}f!==void 0&&this.setScale(OY(f,p,e.width,e.height))}}clone(){let e,n,r;return this.initialOptions_?(n=this.initialOptions_.width,r=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new P5({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:n,height:r,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const i=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!i)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=i[0]),this.anchorYUnits_=="fraction"&&(e[1]*=i[1])}if(this.anchorOrigin_!="top-left"){if(!i)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+i[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+i[1])}this.normalizedAnchor_=e}const n=this.getDisplacement(),r=this.getScaleArray();return[e[0]-n[0]/r[0],e[1]+n[1]/r[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){const n=this.getSize(),r=this.iconImage_.getSize();if(!n||!r)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=r[0]-n[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=r[1]-n[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const e=this.getScaleArray();if(this.size_)return this.size_[0]*e[0];if(this.iconImage_.getImageState()==Va.LOADED)return this.iconImage_.getSize()[0]*e[0]}getHeight(){const e=this.getScaleArray();if(this.size_)return this.size_[1]*e[1];if(this.iconImage_.getImageState()==Va.LOADED)return this.iconImage_.getSize()[1]*e[1]}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(Ra.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(Ra.CHANGE,e)}ready(){return this.iconImage_.ready()}}const Uot="#333";class a1{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=Vh(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new km({color:Uot}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new a1({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=Vh(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}let px=0;const Gy=0,bo=1<<px++,$r=1<<px++,vu=1<<px++,zs=1<<px++,Dl=1<<px++,Mc=Math.pow(2,px)-1,ece={[bo]:"boolean",[$r]:"number",[vu]:"string",[zs]:"color",[Dl]:"number[]"},zot=Object.keys(ece).map(Number).sort(gm);function Su(t){const e=[];for(const n of zot)$ot(t,n)&&e.push(ece[n]);return e.length===0?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function $ot(t,e){return(t&e)===e}function Zp(t,e){return!!(t&e)}function F5(t,e){return t===e}class Gv{constructor(e,n){this.type=e,this.value=n}}class tce{constructor(e,n,...r){this.type=e,this.operator=n,this.args=r}}function rz(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,style:{}}}function Vot(t){switch(t){case"string":return vu;case"color":return zs;case"number":return $r;case"boolean":return bo;case"number[]":return Dl;default:throw new Error(`Unrecognized type hint: ${t}`)}}function Ts(t,e,n){switch(typeof t){case"boolean":return new Gv(bo,t);case"number":return new Gv($r,t);case"string":{let i=vu;return vot(t)&&(i|=zs),F5(i&n,Gy)||(i&=n),new Gv(i,t)}}if(!Array.isArray(t))throw new Error("Expression must be an array or a primitive value");if(t.length===0)throw new Error("Empty expression");if(typeof t[0]=="string")return elt(t,e,n);for(const i of t)if(typeof i!="number")throw new Error("Expected an array of numbers");let r=Dl;return(t.length===3||t.length===4)&&(r|=zs),n&&(r&=n),new Gv(r,t)}const Pn={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string"},Hot={[Pn.Get]:Ca(([t,e])=>e!==void 0?Vot(e.value):Mc,za(1,2),Qot),[Pn.Var]:Ca(([t])=>t.type,za(1,1),jot),[Pn.Id]:Ca($r|vu,x4,Got),[Pn.Concat]:Ca(vu,za(2,1/0),hs(Mc)),[Pn.GeometryType]:Ca(vu,x4,Kot),[Pn.Resolution]:Ca($r,x4),[Pn.Zoom]:Ca($r,x4),[Pn.Time]:Ca($r,x4),[Pn.Any]:Ca(bo,za(2,1/0),hs(bo)),[Pn.All]:Ca(bo,za(2,1/0),hs(bo)),[Pn.Not]:Ca(bo,za(1,1),hs(bo)),[Pn.Equal]:Ca(bo,za(2,2),hs(Mc),fv),[Pn.NotEqual]:Ca(bo,za(2,2),hs(Mc),fv),[Pn.GreaterThan]:Ca(bo,za(2,2),hs(Mc),fv),[Pn.GreaterThanOrEqualTo]:Ca(bo,za(2,2),hs(Mc),fv),[Pn.LessThan]:Ca(bo,za(2,2),hs(Mc),fv),[Pn.LessThanOrEqualTo]:Ca(bo,za(2,2),hs(Mc),fv),[Pn.Multiply]:Ca(t=>{let e=$r|zs;for(let n=0;n<t.length;n++)e&=t[n].type;return e},za(2,1/0),hs($r|zs),fv),[Pn.Coalesce]:Ca(t=>{let e=Mc;for(let n=1;n<t.length;n+=2)e&=t[n].type;return e&=t[t.length-1].type,e},za(2,1/0),hs(Mc),fv),[Pn.Divide]:Ca($r,za(2,2),hs($r)),[Pn.Add]:Ca($r,za(2,1/0),hs($r)),[Pn.Subtract]:Ca($r,za(2,2),hs($r)),[Pn.Clamp]:Ca($r,za(3,3),hs($r)),[Pn.Mod]:Ca($r,za(2,2),hs($r)),[Pn.Pow]:Ca($r,za(2,2),hs($r)),[Pn.Abs]:Ca($r,za(1,1),hs($r)),[Pn.Floor]:Ca($r,za(1,1),hs($r)),[Pn.Ceil]:Ca($r,za(1,1),hs($r)),[Pn.Round]:Ca($r,za(1,1),hs($r)),[Pn.Sin]:Ca($r,za(1,1),hs($r)),[Pn.Cos]:Ca($r,za(1,1),hs($r)),[Pn.Atan]:Ca($r,za(1,2),hs($r)),[Pn.Sqrt]:Ca($r,za(1,1),hs($r)),[Pn.Match]:Ca(t=>{let e=Mc;for(let n=2;n<t.length;n+=2)e&=t[n].type;return e&=t[t.length-1].type,e},za(4,1/0),DY,qot),[Pn.Between]:Ca(bo,za(3,3),hs($r)),[Pn.Interpolate]:Ca(t=>{let e=zs|$r;for(let n=3;n<t.length;n+=2)e&=t[n].type;return e},za(6,1/0),DY,Yot),[Pn.Case]:Ca(t=>{let e=Mc;for(let n=1;n<t.length;n+=2)e&=t[n].type;return e&=t[t.length-1].type,e},za(3,1/0),Wot,Xot),[Pn.In]:Ca(bo,za(2,2),Zot),[Pn.Number]:Ca($r,za(1,1/0),hs(Mc)),[Pn.String]:Ca(vu,za(1,1/0),hs(Mc)),[Pn.Array]:Ca(t=>t.length===3||t.length===4?Dl|zs:Dl,za(1,1/0),hs($r)),[Pn.Color]:Ca(zs,za(1,4),hs($r)),[Pn.Band]:Ca($r,za(1,3),hs($r)),[Pn.Palette]:Ca(zs,za(2,2),Jot),[Pn.ToString]:Ca(vu,za(1,1),hs(bo|$r|vu|zs))};function Qot(t,e){const n=Ts(t[1],e);if(!(n instanceof Gv))throw new Error("Expected a literal argument for get operation");if(typeof n.value!="string")throw new Error("Expected a string argument for get operation");if(e.properties.add(n.value),t.length===3){const r=Ts(t[2],e);return[n,r]}return[n]}function jot(t,e,n,r){const i=t[1];if(typeof i!="string")throw new Error("Expected a string argument for var operation");if(e.variables.add(i),!("variables"in e.style)||e.style.variables[i]===void 0)return[new Gv(Mc,i)];const s=e.style.variables[i],l=Ts(s,e);if(l.value=i,r&&!Zp(r,l.type))throw new Error(`The variable ${i} has type ${Su(l.type)} but the following type was expected: ${Su(r)}`);return[l]}function Got(t,e){e.featureId=!0}function Kot(t,e){e.geometryType=!0}function x4(t,e){const n=t[0];if(t.length!==1)throw new Error(`Expected no arguments for ${n} operation`);return[]}function za(t,e){return function(n,r){const i=n[0],s=n.length-1;if(t===e){if(s!==t){const l=t===1?"":"s";throw new Error(`Expected ${t} argument${l} for ${i}, got ${s}`)}}else if(s<t||s>e){const l=e===1/0?`${t} or more`:`${t} to ${e}`;throw new Error(`Expected ${l} arguments for ${i}, got ${s}`)}}}function hs(t){return function(e,n){const r=e[0],i=e.length-1,s=new Array(i);for(let l=0;l<i;++l){const c=Ts(e[l+1],n);if(!Zp(t,c.type)){const a=Su(t),f=Su(c.type);throw new Error(`Unexpected type for argument ${l} of ${r} operation, got ${a} but expected ${f}`)}c.type&=t,s[l]=c}return s}}function fv(t,e,n){const r=t[0],i=t.length-1;let s=Mc;for(let c=0;c<n.length;++c)s&=n[c].type;if(s===Gy)throw new Error(`No common type could be found for arguments of ${r} operation`);const l=new Array(i);for(let c=0;c<i;++c)l[c]=Ts(t[c+1],e,s);return l}function Wot(t,e){const n=t[0],r=t.length-1;if(r%2===0)throw new Error(`An odd amount of arguments was expected for operation ${n}, got ${JSON.stringify(r)} instead`)}function DY(t,e){const n=t[0],r=t.length-1;if(r%2===1)throw new Error(`An even amount of arguments was expected for operation ${n}, got ${JSON.stringify(r)} instead`)}function qot(t,e,n,r){const i=t.length-1;let l=Ts(t[1],e).type;const c=Ts(t[t.length-1],e);let a=r!==void 0?r&c.type:c.type;const f=new Array(i-2);for(let m=0;m<i-2;m+=2){const v=Ts(t[m+2],e),y=Ts(t[m+3],e);l&=v.type,a&=y.type,f[m]=v,f[m+1]=y}const p=vu|$r|bo;if(!Zp(p,l))throw new Error(`Expected an input of type ${Su(p)} for the interpolate operation, got ${Su(l)} instead`);if(F5(a,Gy))throw new Error("Could not find a common output type for the following match operation: "+JSON.stringify(t));for(let m=0;m<i-2;m+=2){const v=Ts(t[m+2],e,l),y=Ts(t[m+3],e,a);f[m]=v,f[m+1]=y}return[Ts(t[1],e,l),...f,Ts(t[t.length-1],e,a)]}function Yot(t,e,n,r){const i=t[1];let s;switch(i[0]){case"linear":s=1;break;case"exponential":if(s=i[1],typeof s!="number")throw new Error(`Expected a number base for exponential interpolation, got ${JSON.stringify(s)} instead`);break;default:s=null}if(!s)throw new Error(`Invalid interpolation type: ${JSON.stringify(i)}`);s=Ts(s,e);let l=Ts(t[2],e);if(!Zp($r,l.type))throw new Error(`Expected an input of type number for the interpolate operation, got ${Su(l.type)} instead`);l=Ts(t[2],e,$r);const c=new Array(t.length-3);for(let a=0;a<c.length;a+=2){let f=Ts(t[a+3],e);if(!Zp($r,f.type))throw new Error(`Expected all stop input values in the interpolate operation to be of type number, got ${Su(f.type)} at position ${a+2} instead`);let p=Ts(t[a+4],e);if(!Zp($r|zs,p.type))throw new Error(`Expected all stop output values in the interpolate operation to be a number or color, got ${Su(p.type)} at position ${a+3} instead`);f=Ts(t[a+3],e,$r),p=Ts(t[a+4],e,$r|zs),c[a]=f,c[a+1]=p}return[s,l,...c]}function Xot(t,e,n,r){const i=Ts(t[t.length-1],e);let s=r!==void 0?r&i.type:i.type;const l=new Array(t.length-1);for(let c=0;c<l.length-1;c+=2){const a=Ts(t[c+1],e),f=Ts(t[c+2],e);if(!Zp(bo,a.type))throw new Error(`Expected all conditions in the case operation to be of type boolean, got ${Su(a.type)} at position ${c} instead`);s&=f.type,l[c]=a,l[c+1]=f}if(F5(s,Gy))throw new Error("Could not find a common output type for the following case operation: "+JSON.stringify(t));for(let c=0;c<l.length-1;c+=2)l[c+1]=Ts(t[c+2],e,s);return l[l.length-1]=Ts(t[t.length-1],e,s),l}function Zot(t,e){let n=t[2];if(!Array.isArray(n))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');if(typeof n[0]=="string"){if(n[0]!=="literal")throw new Error('For the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions.');if(!Array.isArray(n[1]))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');n=n[1]}let r=vu|$r;const i=new Array(n.length);for(let l=0;l<i.length;l++){const c=Ts(n[l],e);r&=c.type,i[l]=c}if(F5(r,Gy))throw new Error("Could not find a common type for the following in operation: "+JSON.stringify(t));return[Ts(t[1],e,r),...i]}function Jot(t,e){const n=Ts(t[1],e,$r);if(n.type!==$r)throw new Error(`The first argument of palette must be an number, got ${Su(n.type)} instead`);const r=t[2];if(!Array.isArray(r))throw new Error("The second argument of palette must be an array");const i=new Array(r.length);for(let s=0;s<i.length;s++){const l=Ts(r[s],e,zs);if(!(l instanceof Gv))throw new Error(`The palette color at index ${s} must be a literal value`);if(!Zp(l.type,zs))throw new Error(`The palette color at index ${s} should be of type color, got ${Su(l.type)} instead`);i[s]=l}return[n,...i]}function Ca(t,...e){return function(n,r,i){const s=n[0];let l=[];for(let a=0;a<e.length;a++)l=e[a](n,r,l,i)||l;let c=typeof t=="function"?t(l):t;if(i!==void 0){if(!Zp(c,i))throw new Error(`The following expression was expected to return ${Su(i)}, but returns ${Su(c)} instead: ${JSON.stringify(n)}`);c&=i}if(c===Gy)throw new Error(`No matching type was found for the following expression: ${JSON.stringify(n)}`);return new tce(c,s,...l)}}function elt(t,e,n){const r=t[0],i=Hot[r];if(!i)throw new Error(`Unknown operator: ${r}`);return i(t,e,n)}function iz(t){if(!t)return"";const e=t.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return iz(t.getGeometries()[0]);default:return""}}function nce(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function B0(t,e,n){const r=Ts(t,n);if(!Zp(e,r.type)){const i=Su(e),s=Su(r.type);throw new Error(`Expected expression to be of type ${i}, got ${s}`)}return aA(r)}function aA(t,e){if(t instanceof Gv){if(t.type===zs&&typeof t.value=="string"){const r=JU(t.value);return function(){return r}}return function(){return t.value}}const n=t.operator;switch(n){case Pn.Number:case Pn.String:case Pn.Coalesce:return tlt(t);case Pn.Get:case Pn.Var:return nlt(t);case Pn.Id:return r=>r.featureId;case Pn.GeometryType:return r=>r.geometryType;case Pn.Concat:{const r=t.args.map(i=>aA(i));return i=>"".concat(...r.map(s=>s(i).toString()))}case Pn.Resolution:return r=>r.resolution;case Pn.Any:case Pn.All:case Pn.Between:case Pn.In:case Pn.Not:return ilt(t);case Pn.Equal:case Pn.NotEqual:case Pn.LessThan:case Pn.LessThanOrEqualTo:case Pn.GreaterThan:case Pn.GreaterThanOrEqualTo:return rlt(t);case Pn.Multiply:case Pn.Divide:case Pn.Add:case Pn.Subtract:case Pn.Clamp:case Pn.Mod:case Pn.Pow:case Pn.Abs:case Pn.Floor:case Pn.Ceil:case Pn.Round:case Pn.Sin:case Pn.Cos:case Pn.Atan:case Pn.Sqrt:return alt(t);case Pn.Case:return slt(t);case Pn.Match:return olt(t);case Pn.Interpolate:return llt(t);case Pn.ToString:return ult(t);default:throw new Error(`Unsupported operator ${n}`)}}function tlt(t,e){const n=t.operator,r=t.args.length,i=new Array(r);for(let s=0;s<r;++s)i[s]=aA(t.args[s]);switch(n){case Pn.Coalesce:return s=>{for(let l=0;l<r;++l){const c=i[l](s);if(typeof c<"u"&&c!==null)return c}throw new Error("Expected one of the values to be non-null")};case Pn.Number:case Pn.String:return s=>{for(let l=0;l<r;++l){const c=i[l](s);if(typeof c===n)return c}throw new Error(`Expected one of the values to be a ${n}`)};default:throw new Error(`Unsupported assertion operator ${n}`)}}function nlt(t,e){const r=t.args[0].value;switch(t.operator){case Pn.Get:return i=>i.properties[r];case Pn.Var:return i=>i.variables[r];default:throw new Error(`Unsupported accessor operator ${t.operator}`)}}function rlt(t,e){const n=t.operator,r=aA(t.args[0]),i=aA(t.args[1]);switch(n){case Pn.Equal:return s=>r(s)===i(s);case Pn.NotEqual:return s=>r(s)!==i(s);case Pn.LessThan:return s=>r(s)<i(s);case Pn.LessThanOrEqualTo:return s=>r(s)<=i(s);case Pn.GreaterThan:return s=>r(s)>i(s);case Pn.GreaterThanOrEqualTo:return s=>r(s)>=i(s);default:throw new Error(`Unsupported comparison operator ${n}`)}}function ilt(t,e){const n=t.operator,r=t.args.length,i=new Array(r);for(let s=0;s<r;++s)i[s]=aA(t.args[s]);switch(n){case Pn.Any:return s=>{for(let l=0;l<r;++l)if(i[l](s))return!0;return!1};case Pn.All:return s=>{for(let l=0;l<r;++l)if(!i[l](s))return!1;return!0};case Pn.Between:return s=>{const l=i[0](s),c=i[1](s),a=i[2](s);return l>=c&&l<=a};case Pn.In:return s=>{const l=i[0](s);for(let c=1;c<r;++c)if(l===i[c](s))return!0;return!1};case Pn.Not:return s=>!i[0](s);default:throw new Error(`Unsupported logical operator ${n}`)}}function alt(t,e){const n=t.operator,r=t.args.length,i=new Array(r);for(let s=0;s<r;++s)i[s]=aA(t.args[s]);switch(n){case Pn.Multiply:return s=>{let l=1;for(let c=0;c<r;++c)l*=i[c](s);return l};case Pn.Divide:return s=>i[0](s)/i[1](s);case Pn.Add:return s=>{let l=0;for(let c=0;c<r;++c)l+=i[c](s);return l};case Pn.Subtract:return s=>i[0](s)-i[1](s);case Pn.Clamp:return s=>{const l=i[0](s),c=i[1](s);if(l<c)return c;const a=i[2](s);return l>a?a:l};case Pn.Mod:return s=>i[0](s)%i[1](s);case Pn.Pow:return s=>Math.pow(i[0](s),i[1](s));case Pn.Abs:return s=>Math.abs(i[0](s));case Pn.Floor:return s=>Math.floor(i[0](s));case Pn.Ceil:return s=>Math.ceil(i[0](s));case Pn.Round:return s=>Math.round(i[0](s));case Pn.Sin:return s=>Math.sin(i[0](s));case Pn.Cos:return s=>Math.cos(i[0](s));case Pn.Atan:return r===2?s=>Math.atan2(i[0](s),i[1](s)):s=>Math.atan(i[0](s));case Pn.Sqrt:return s=>Math.sqrt(i[0](s));default:throw new Error(`Unsupported numeric operator ${n}`)}}function slt(t,e){const n=t.args.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=aA(t.args[i]);return i=>{for(let s=0;s<n-1;s+=2)if(r[s](i))return r[s+1](i);return r[n-1](i)}}function olt(t,e){const n=t.args.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=aA(t.args[i]);return i=>{const s=r[0](i);for(let l=1;l<n;l+=2)if(s===r[l](i))return r[l+1](i);return r[n-1](i)}}function llt(t,e){const n=t.args.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=aA(t.args[i]);return i=>{const s=r[0](i),l=r[1](i);let c,a;for(let f=2;f<n;f+=2){const p=r[f](i);let m=r[f+1](i);const v=Array.isArray(m);if(v&&(m=mot(m)),p>=l)return f===2?m:v?clt(s,l,c,a,p,m):j4(s,l,c,a,p,m);c=p,a=m}return a}}function ult(t,e){const n=t.operator,r=t.args.length,i=new Array(r);for(let s=0;s<r;++s)i[s]=aA(t.args[s]);switch(n){case Pn.ToString:return s=>{const l=i[0](s);return t.args[0].type===zs?ez(l):l.toString()};default:throw new Error(`Unsupported convert operator ${n}`)}}function j4(t,e,n,r,i,s){const l=i-n;if(l===0)return r;const c=e-n,a=t===1?c/l:(Math.pow(t,c)-1)/(Math.pow(t,l)-1);return r+a*(s-r)}function clt(t,e,n,r,i,s){if(i-n===0)return r;const c=IY(r),a=IY(s);let f=a[2]-c[2];f>180?f-=360:f<-180&&(f+=360);const p=[j4(t,e,n,c[0],i,a[0]),j4(t,e,n,c[1],i,a[1]),c[2]+j4(t,e,n,0,i,f),j4(t,e,n,r[3],i,s[3])];return jue(got(p))}function hlt(t){return!0}function dlt(t){const e=rz(),n=flt(t,e),r=nce();return function(i,s){if(r.properties=i.getPropertiesInternal(),r.resolution=s,e.featureId){const l=i.getId();l!==void 0?r.featureId=l:r.featureId=null}return e.geometryType&&(r.geometryType=iz(i.getGeometry())),n(r)}}function NY(t){const e=rz(),n=t.length,r=new Array(n);for(let l=0;l<n;++l)r[l]=QO(t[l],e);const i=nce(),s=new Array(n);return function(l,c){if(i.properties=l.getPropertiesInternal(),i.resolution=c,e.featureId){const f=l.getId();f!==void 0?i.featureId=f:i.featureId=null}let a=0;for(let f=0;f<n;++f){const p=r[f](i);p&&(s[a]=p,a+=1)}return s.length=a,s}}function flt(t,e){const n=t.length,r=new Array(n);for(let i=0;i<n;++i){const s=t[i],l="filter"in s?B0(s.filter,bo,e):hlt;let c;if(Array.isArray(s.style)){const a=s.style.length;c=new Array(a);for(let f=0;f<a;++f)c[f]=QO(s.style[f],e)}else c=[QO(s.style,e)];r[i]={filter:l,styles:c}}return function(i){const s=[];let l=!1;for(let c=0;c<n;++c){const a=r[c].filter;if(a(i)&&!(t[c].else&&l)){l=!0;for(const f of r[c].styles){const p=f(i);p&&s.push(p)}}}return s}}function QO(t,e){const n=R6(t,"",e),r=O6(t,"",e),i=plt(t,e),s=Alt(t,e),l=Uh(t,"z-index",e);if(!n&&!r&&!i&&!s&&!z2(t))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(t));const c=new Uc;return function(a){let f=!0;if(n){const p=n(a);p&&(f=!1),c.setFill(p)}if(r){const p=r(a);p&&(f=!1),c.setStroke(p)}if(i){const p=i(a);p&&(f=!1),c.setText(p)}if(s){const p=s(a);p&&(f=!1),c.setImage(p)}return l&&c.setZIndex(l(a)),f?null:c}}function R6(t,e,n){let r;if(e+"fill-pattern-src"in t?r=_lt(t,e+"fill-",n):r=az(t,e+"fill-color",n),!r)return null;const i=new km;return function(s){const l=r(s);return l==="none"?null:(i.setColor(l),i)}}function O6(t,e,n){const r=Uh(t,e+"stroke-width",n),i=az(t,e+"stroke-color",n);if(!r&&!i)return null;const s=jg(t,e+"stroke-line-cap",n),l=jg(t,e+"stroke-line-join",n),c=rce(t,e+"stroke-line-dash",n),a=Uh(t,e+"stroke-line-dash-offset",n),f=Uh(t,e+"stroke-miter-limit",n),p=new Kd;return function(m){if(i){const v=i(m);if(v==="none")return null;p.setColor(v)}if(r&&p.setWidth(r(m)),s){const v=s(m);if(v!=="butt"&&v!=="round"&&v!=="square")throw new Error("Expected butt, round, or square line cap");p.setLineCap(v)}if(l){const v=l(m);if(v!=="bevel"&&v!=="round"&&v!=="miter")throw new Error("Expected bevel, round, or miter line join");p.setLineJoin(v)}return c&&p.setLineDash(c(m)),a&&p.setLineDashOffset(a(m)),f&&p.setMiterLimit(f(m)),p}}function plt(t,e){const n="text-",r=jg(t,n+"value",e);if(!r)return null;const i=R6(t,n,e),s=R6(t,n+"background-",e),l=O6(t,n,e),c=O6(t,n+"background-",e),a=jg(t,n+"font",e),f=Uh(t,n+"max-angle",e),p=Uh(t,n+"offset-x",e),m=Uh(t,n+"offset-y",e),v=D6(t,n+"overflow",e),y=jg(t,n+"placement",e),T=Uh(t,n+"repeat",e),C=PM(t,n+"scale",e),k=D6(t,n+"rotate-with-view",e),M=Uh(t,n+"rotation",e),P=jg(t,n+"align",e),R=jg(t,n+"justify",e),N=jg(t,n+"baseline",e),z=rce(t,n+"padding",e),H=FM(t,n+"declutter-mode"),j=new a1({declutterMode:H});return function(Q){if(j.setText(r(Q)),i&&j.setFill(i(Q)),s&&j.setBackgroundFill(s(Q)),l&&j.setStroke(l(Q)),c&&j.setBackgroundStroke(c(Q)),a&&j.setFont(a(Q)),f&&j.setMaxAngle(f(Q)),p&&j.setOffsetX(p(Q)),m&&j.setOffsetY(m(Q)),v&&j.setOverflow(v(Q)),y){const G=y(Q);if(G!=="point"&&G!=="line")throw new Error("Expected point or line for text-placement");j.setPlacement(G)}if(T&&j.setRepeat(T(Q)),C&&j.setScale(C(Q)),k&&j.setRotateWithView(k(Q)),M&&j.setRotation(M(Q)),P){const G=P(Q);if(G!=="left"&&G!=="center"&&G!=="right"&&G!=="end"&&G!=="start")throw new Error("Expected left, right, center, start, or end for text-align");j.setTextAlign(G)}if(R){const G=R(Q);if(G!=="left"&&G!=="right"&&G!=="center")throw new Error("Expected left, right, or center for text-justify");j.setJustify(G)}if(N){const G=N(Q);if(G!=="bottom"&&G!=="top"&&G!=="middle"&&G!=="alphabetic"&&G!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");j.setTextBaseline(G)}return z&&j.setPadding(z(Q)),j}}function Alt(t,e){return"icon-src"in t?mlt(t,e):"shape-points"in t?glt(t,e):"circle-radius"in t?vlt(t,e):null}function mlt(t,e){const n="icon-",r=n+"src",i=ice(t[r],r),s=D8(t,n+"anchor",e),l=PM(t,n+"scale",e),c=Uh(t,n+"opacity",e),a=D8(t,n+"displacement",e),f=Uh(t,n+"rotation",e),p=D6(t,n+"rotate-with-view",e),m=zY(t,n+"anchor-origin"),v=$Y(t,n+"anchor-x-units"),y=$Y(t,n+"anchor-y-units"),T=xlt(t,n+"color"),C=blt(t,n+"cross-origin"),k=wlt(t,n+"offset"),M=zY(t,n+"offset-origin"),P=N8(t,n+"width"),R=N8(t,n+"height"),N=ylt(t,n+"size"),z=FM(t,n+"declutter-mode"),H=new P5({src:i,anchorOrigin:m,anchorXUnits:v,anchorYUnits:y,color:T,crossOrigin:C,offset:k,offsetOrigin:M,height:R,width:P,size:N,declutterMode:z});return function(j){return c&&H.setOpacity(c(j)),a&&H.setDisplacement(a(j)),f&&H.setRotation(f(j)),p&&H.setRotateWithView(p(j)),l&&H.setScale(l(j)),s&&H.setAnchor(s(j)),H}}function glt(t,e){const n="shape-",r=n+"points",i=n+"radius",s=jO(t[r],r),l=jO(t[i],i),c=R6(t,n,e),a=O6(t,n,e),f=PM(t,n+"scale",e),p=D8(t,n+"displacement",e),m=Uh(t,n+"rotation",e),v=D6(t,n+"rotate-with-view",e),y=N8(t,n+"radius2"),T=N8(t,n+"angle"),C=FM(t,n+"declutter-mode"),k=new fy({points:s,radius:l,radius2:y,angle:T,declutterMode:C});return function(M){return c&&k.setFill(c(M)),a&&k.setStroke(a(M)),p&&k.setDisplacement(p(M)),m&&k.setRotation(m(M)),v&&k.setRotateWithView(v(M)),f&&k.setScale(f(M)),k}}function vlt(t,e){const n="circle-",r=R6(t,n,e),i=O6(t,n,e),s=Uh(t,n+"radius",e),l=PM(t,n+"scale",e),c=D8(t,n+"displacement",e),a=Uh(t,n+"rotation",e),f=D6(t,n+"rotate-with-view",e),p=FM(t,n+"declutter-mode"),m=new k5({radius:5,declutterMode:p});return function(v){return s&&m.setRadius(s(v)),r&&m.setFill(r(v)),i&&m.setStroke(i(v)),c&&m.setDisplacement(c(v)),a&&m.setRotation(a(v)),f&&m.setRotateWithView(f(v)),l&&m.setScale(l(v)),m}}function Uh(t,e,n){if(!(e in t))return;const r=B0(t[e],$r,n);return function(i){return jO(r(i),e)}}function jg(t,e,n){if(!(e in t))return null;const r=B0(t[e],vu,n);return function(i){return ice(r(i),e)}}function _lt(t,e,n){const r=jg(t,e+"pattern-src",n),i=UY(t,e+"pattern-offset",n),s=UY(t,e+"pattern-size",n),l=az(t,e+"color",n);return function(c){return{src:r(c),offset:i&&i(c),size:s&&s(c),color:l&&l(c)}}}function D6(t,e,n){if(!(e in t))return null;const r=B0(t[e],bo,n);return function(i){const s=r(i);if(typeof s!="boolean")throw new Error(`Expected a boolean for ${e}`);return s}}function az(t,e,n){if(!(e in t))return null;const r=B0(t[e],zs|vu,n);return function(i){return ace(r(i),e)}}function rce(t,e,n){if(!(e in t))return null;const r=B0(t[e],Dl,n);return function(i){return R5(r(i),e)}}function D8(t,e,n){if(!(e in t))return null;const r=B0(t[e],Dl,n);return function(i){const s=R5(r(i),e);if(s.length!==2)throw new Error(`Expected two numbers for ${e}`);return s}}function UY(t,e,n){if(!(e in t))return null;const r=B0(t[e],Dl,n);return function(i){return sce(r(i),e)}}function PM(t,e,n){if(!(e in t))return null;const r=B0(t[e],Dl|$r,n);return function(i){return Clt(r(i),e)}}function N8(t,e){const n=t[e];if(n!==void 0){if(typeof n!="number")throw new Error(`Expected a number for ${e}`);return n}}function ylt(t,e){const n=t[e];if(n!==void 0){if(typeof n=="number")return Vh(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${e}`);if(n.length!==2||typeof n[0]!="number"||typeof n[1]!="number")throw new Error(`Expected a number or size array for ${e}`);return n}}function blt(t,e){const n=t[e];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);return n}}function zY(t,e){const n=t[e];if(n!==void 0){if(n!=="bottom-left"&&n!=="bottom-right"&&n!=="top-left"&&n!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return n}}function $Y(t,e){const n=t[e];if(n!==void 0){if(n!=="pixels"&&n!=="fraction")throw new Error(`Expected pixels or fraction for ${e}`);return n}}function wlt(t,e){const n=t[e];if(n!==void 0)return R5(n,e)}function FM(t,e){const n=t[e];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);if(n!=="declutter"&&n!=="obstacle"&&n!=="none")throw new Error(`Expected declutter, obstacle, or none for ${e}`);return n}}function xlt(t,e){const n=t[e];if(n!==void 0)return ace(n,e)}function R5(t,e){if(!Array.isArray(t))throw new Error(`Expected an array for ${e}`);const n=t.length;for(let r=0;r<n;++r)if(typeof t[r]!="number")throw new Error(`Expected an array of numbers for ${e}`);return t}function ice(t,e){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);return t}function jO(t,e){if(typeof t!="number")throw new Error(`Expected a number for ${e}`);return t}function ace(t,e){if(typeof t=="string")return t;const n=R5(t,e),r=n.length;if(r<3||r>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return n}function sce(t,e){const n=R5(t,e);if(n.length!==2)throw new Error(`Expected an array of two numbers for ${e}`);return n}function Clt(t,e){return typeof t=="number"?t:sce(t,e)}const VY={RENDER_ORDER:"renderOrder"};class Ax extends jy{constructor(e){e=e||{};const n=Object.assign({},e);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=e.declutter?String(e.declutter):void 0,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(VY.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e,n){const r=this.getDeclutter();r in e.declutter||(e.declutter[r]=new Hue(9)),this.getRenderer().renderDeclutter(e,n)}setRenderOrder(e){this.set(VY.RENDER_ORDER,e)}setStyle(e){this.style_=Elt(e),this.styleFunction_=e===null?void 0:Dot(this.style_),this.changed()}}function Elt(t){if(t===void 0)return Not;if(!t)return null;if(typeof t=="function"||t instanceof Uc)return t;if(!Array.isArray(t))return NY([t]);if(t.length===0)return[];const e=t.length,n=t[0];if(n instanceof Uc){const i=new Array(e);for(let s=0;s<e;++s){const l=t[s];if(!(l instanceof Uc))throw new Error("Expected a list of style instances");i[s]=l}return i}if("style"in n){const i=new Array(e);for(let s=0;s<e;++s){const l=t[s];if(!("style"in l))throw new Error("Expected a list of rules with a style property");i[s]=l}return dlt(i)}return NY(t)}class Slt extends _M{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,n){gs()}calculateMatrices2D(e){const n=e.viewState,r=e.coordinateToPixelTransform,i=e.pixelToCoordinateTransform;qh(r,e.size[0]/2,e.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),m1(i,r)}forEachFeatureAtCoordinate(e,n,r,i,s,l,c,a){let f;const p=n.viewState;function m(N,z,H,j){return s.call(l,z,N?H:null,j)}const v=p.projection,y=kU(e.slice(),v),T=[[0,0]];if(v.canWrapX()&&i){const N=v.getExtent(),z=ds(N);T.push([-z,0],[z,0])}const C=n.layerStatesArray,k=C.length,M=[],P=[];for(let N=0;N<T.length;N++)for(let z=k-1;z>=0;--z){const H=C[z],j=H.layer;if(j.hasRenderer()&&XU(H,p)&&c.call(a,j)){const Q=j.getRenderer(),G=j.getSource();if(Q&&G){const ie=G.getWrapX()?y:e,q=m.bind(null,H.managed);P[0]=ie[0]+T[N][0],P[1]=ie[1]+T[N][1],f=Q.forEachFeatureAtCoordinate(P,n,r,q,M)}if(f)return f}}if(M.length===0)return;const R=1/M.length;return M.forEach((N,z)=>N.distanceSq+=z*R),M.sort((N,z)=>N.distanceSq-z.distanceSq),M.some(N=>f=N.callback(N.feature,N.layer,N.geometry)),f}hasFeatureAtCoordinate(e,n,r,i,s,l){return this.forEachFeatureAtCoordinate(e,n,r,i,E6,this,s,l)!==void 0}getMap(){return this.map_}renderFrame(e){gs()}scheduleExpireIconCache(e){um.canExpireCache()&&e.postRenderFunctions.push(Tlt)}}function Tlt(t,e){um.expire()}class BC extends S0{constructor(e,n,r,i){super(e),this.inversePixelTransform=n,this.frameState=r,this.context=i}}class Blt extends Slt{constructor(e){super(e),this.fontChangeListenerKey_=Ha(Vg,N2.PROPERTYCHANGE,e.redrawText.bind(e)),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=kM+" ol-layers";const r=e.getViewport();r.insertBefore(this.element_,r.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,n){const r=this.getMap();if(r.hasListener(e)){const i=new BC(e,void 0,n);r.dispatchEvent(i)}}disposeInternal(){Eo(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(ju.PRECOMPOSE,e);const n=e.layerStatesArray.sort(function(c,a){return c.zIndex-a.zIndex});n.some(c=>c.layer instanceof Ax&&c.layer.getDeclutter())&&(e.declutter={});const i=e.viewState;this.children_.length=0;const s=[];let l=null;for(let c=0,a=n.length;c<a;++c){const f=n[c];e.layerIndex=c;const p=f.layer,m=p.getSourceState();if(!XU(f,i)||m!="ready"&&m!="undefined"){p.unrender();continue}const v=p.render(e,l);v&&(v!==l&&(this.children_.push(v),l=v),s.push(f))}this.declutter(e,s),Cot(this.element_,this.children_),this.dispatchRenderEvent(ju.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,n){for(let r=n.length-1;r>=0;--r){const i=n[r],s=i.layer;s.getDeclutter()&&s.renderDeclutter(e,i)}n.forEach(r=>r.layer.renderDeferred(e))}}class Rv extends S0{constructor(e,n){super(e),this.layer=n}}const iP={LAYERS:"layers"};class Ky extends GU{constructor(e){e=e||{};const n=Object.assign({},e);delete n.layers;let r=e.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(iP.LAYERS,this.handleLayersChanged_),r?Array.isArray(r)?r=new Sf(r.slice(),{unique:!0}):es(typeof r.getArray=="function","Expected `layers` to be an array or a `Collection`"):r=new Sf(void 0,{unique:!0}),this.setLayers(r)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Eo),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(Ha(e,Dh.ADD,this.handleLayersAdd_,this),Ha(e,Dh.REMOVE,this.handleLayersRemove_,this));for(const r in this.listenerKeys_)this.listenerKeys_[r].forEach(Eo);ux(this.listenerKeys_);const n=e.getArray();for(let r=0,i=n.length;r<i;r++){const s=n[r];this.registerLayerListeners_(s),this.dispatchEvent(new Rv("addlayer",s))}this.changed()}registerLayerListeners_(e){const n=[Ha(e,N2.PROPERTYCHANGE,this.handleLayerChange_,this),Ha(e,Ra.CHANGE,this.handleLayerChange_,this)];e instanceof Ky&&n.push(Ha(e,"addlayer",this.handleLayerGroupAdd_,this),Ha(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Mi(e)]=n}handleLayerGroupAdd_(e){this.dispatchEvent(new Rv("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new Rv("removelayer",e.layer))}handleLayersAdd_(e){const n=e.element;this.registerLayerListeners_(n),this.dispatchEvent(new Rv("addlayer",n)),this.changed()}handleLayersRemove_(e){const n=e.element,r=Mi(n);this.listenerKeys_[r].forEach(Eo),delete this.listenerKeys_[r],this.dispatchEvent(new Rv("removelayer",n)),this.changed()}getLayers(){return this.get(iP.LAYERS)}setLayers(e){const n=this.getLayers();if(n){const r=n.getArray();for(let i=0,s=r.length;i<s;++i)this.dispatchEvent(new Rv("removelayer",r[i]))}this.set(iP.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(n){n.getLayersArray(e)}),e}getLayerStatesArray(e){const n=e!==void 0?e:[],r=n.length;this.getLayers().forEach(function(l){l.getLayerStatesArray(n)});const i=this.getLayerState();let s=i.zIndex;!e&&i.zIndex===void 0&&(s=0);for(let l=r,c=n.length;l<c;l++){const a=n[l];a.opacity*=i.opacity,a.visible=a.visible&&i.visible,a.maxResolution=Math.min(a.maxResolution,i.maxResolution),a.minResolution=Math.max(a.minResolution,i.minResolution),a.minZoom=Math.max(a.minZoom,i.minZoom),a.maxZoom=Math.min(a.maxZoom,i.maxZoom),i.extent!==void 0&&(a.extent!==void 0?a.extent=cy(a.extent,i.extent):a.extent=i.extent),a.zIndex===void 0&&(a.zIndex=s)}return n}getSourceState(){return"ready"}}class vw extends S0{constructor(e,n,r){super(e),this.map=n,this.frameState=r!==void 0?r:null}}class Sv extends vw{constructor(e,n,r,i,s,l){super(e,n,s),this.originalEvent=r,this.pixel_=null,this.coordinate_=null,this.dragging=i!==void 0?i:!1,this.activePointers=l}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const cl={SINGLECLICK:"singleclick",CLICK:Ra.CLICK,DBLCLICK:Ra.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},GO={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};class Mlt extends bM{constructor(e,n){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;const r=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=r,this.pointerdownListenerKey_=Ha(r,GO.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=Ha(r,GO.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(Ra.TOUCHMOVE,this.boundHandleTouchMove_,Yue?{passive:!1}:!1)}emulateClick_(e){let n=new Sv(cl.CLICK,this.map_,e);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new Sv(cl.DBLCLICK,this.map_,e),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const r=new Sv(cl.SINGLECLICK,this.map_,e);this.dispatchEvent(r)},250)}updateActivePointers_(e){const n=e,r=n.pointerId;if(n.type==cl.POINTERUP||n.type==cl.POINTERCANCEL){delete this.trackedTouches_[r];for(const i in this.trackedTouches_)if(this.trackedTouches_[i].target!==n.target){delete this.trackedTouches_[i];break}}else(n.type==cl.POINTERDOWN||n.type==cl.POINTERMOVE)&&(this.trackedTouches_[r]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const n=new Sv(cl.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Eo),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const n=new Sv(cl.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){const r=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Ha(r,cl.POINTERMOVE,this.handlePointerMove_,this),Ha(r,cl.POINTERUP,this.handlePointerUp_,this),Ha(this.element_,cl.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==r&&this.dragListenerKeys_.push(Ha(this.element_.getRootNode(),cl.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const n=new Sv(cl.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const n=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new Sv(cl.POINTERMOVE,this.map_,e,n))}handleTouchMove_(e){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Eo(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Ra.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Eo(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Eo),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const Tv={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Ic={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},U8=1/0;class Ilt{constructor(e,n){this.priorityFunction_=e,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,ux(this.queuedElements_)}dequeue(){const e=this.elements_,n=this.priorities_,r=e[0];e.length==1?(e.length=0,n.length=0):(e[0]=e.pop(),n[0]=n.pop(),this.siftUp_(0));const i=this.keyFunction_(r);return delete this.queuedElements_[i],r}enqueue(e){es(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const n=this.priorityFunction_(e);return n!=U8?(this.elements_.push(e),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const n=this.elements_,r=this.priorities_,i=n.length,s=n[e],l=r[e],c=e;for(;e<i>>1;){const a=this.getLeftChildIndex_(e),f=this.getRightChildIndex_(e),p=f<i&&r[f]<r[a]?f:a;n[e]=n[p],r[e]=r[p],e=p}n[e]=s,r[e]=l,this.siftDown_(c,e)}siftDown_(e,n){const r=this.elements_,i=this.priorities_,s=r[n],l=i[n];for(;n>e;){const c=this.getParentIndex_(n);if(i[c]>l)r[n]=r[c],i[n]=i[c],n=c;else break}r[n]=s,i[n]=l}reprioritize(){const e=this.priorityFunction_,n=this.elements_,r=this.priorities_;let i=0;const s=n.length;let l,c,a;for(c=0;c<s;++c)l=n[c],a=e(l),a==U8?delete this.queuedElements_[this.keyFunction_(l)]:(r[i]=a,n[i++]=l);n.length=i,r.length=i,this.heapify_()}}const Qi={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class Llt extends Ilt{constructor(e,n){super(function(r){return e.apply(null,r)},function(r){return r[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const n=super.enqueue(e);return n&&e[0].addEventListener(Ra.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const n=e.target,r=n.getState();if(r===Qi.LOADED||r===Qi.ERROR||r===Qi.EMPTY){r!==Qi.ERROR&&n.removeEventListener(Ra.CHANGE,this.boundHandleTileChange_);const i=n.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,n){let r=0,i,s,l;for(;this.tilesLoading_<e&&r<n&&this.getCount()>0;)s=this.dequeue()[0],l=s.getKey(),i=s.getState(),i===Qi.IDLE&&!(l in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[l]=!0,++this.tilesLoading_,++r,s.load())}}function klt(t,e,n,r,i){if(!t||!(n in t.wantedTiles)||!t.wantedTiles[n][e.getKey()])return U8;const s=t.viewState.center,l=r[0]-s[0],c=r[1]-s[1];return 65536*Math.log(i)+Math.sqrt(l*l+c*c)/i}let jf=class extends Qf{constructor(e){super();const n=e.element;n&&!e.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){$O(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&$O(this.element);for(let n=0,r=this.listenerKeys.length;n<r;++n)Eo(this.listenerKeys[n]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==U2&&this.listenerKeys.push(Ha(e,Tv.POSTRENDER,this.render,this)),e.render())}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}};class Plt extends jf{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1);const n=e.className!==void 0?e.className:"ol-attribution",r=e.tipLabel!==void 0?e.tipLabel:"Attributions",i=e.expandClassName!==void 0?e.expandClassName:n+"-expand",s=e.collapseLabel!==void 0?e.collapseLabel:"›",l=e.collapseClassName!==void 0?e.collapseClassName:n+"-collapse";typeof s=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s,this.collapseLabel_.className=l):this.collapseLabel_=s;const c=e.label!==void 0?e.label:"i";typeof c=="string"?(this.label_=document.createElement("span"),this.label_.textContent=c,this.label_.className=i):this.label_=c;const a=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=r,this.toggleButton_.appendChild(a),this.toggleButton_.addEventListener(Ra.CLICK,this.handleClick_.bind(this),!1);const f=n+" "+kM+" "+nz+(this.collapsed_&&this.collapsible_?" "+kY:"")+(this.collapsible_?"":" ol-uncollapsible"),p=this.element;p.className=f,p.appendChild(this.toggleButton_),p.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const n=Array.from(new Set(this.getMap().getAllLayers().flatMap(i=>i.getAttributions(e)))),r=!this.getMap().getAllLayers().some(i=>i.getSource()&&i.getSource().getAttributionsCollapsible()===!1);return this.overrideCollapsible_||this.setCollapsible(r),n}async updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=await Promise.all(this.collectSourceAttributions_(e).map(i=>Xat(()=>i))),r=n.length>0;if(this.renderedVisible_!=r&&(this.element.style.display=r?"":"none",this.renderedVisible_=r),!T0(n,this.renderedAttributions_)){xot(this.ulElement_);for(let i=0,s=n.length;i<s;++i){const l=document.createElement("li");l.innerHTML=n[i],this.ulElement_.appendChild(l)}this.renderedAttributions_=n}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(kY),this.collapsed_?LY(this.collapseLabel_,this.label_):LY(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}let Flt=class extends jf{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const n=e.className!==void 0?e.className:"ol-rotate",r=e.label!==void 0?e.label:"⇧",i=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof r=="string"?(this.label_=document.createElement("span"),this.label_.className=i,this.label_.textContent=r):(this.label_=r,this.label_.classList.add(i));const s=e.tipLabel?e.tipLabel:"Reset rotation",l=document.createElement("button");l.className=n+"-reset",l.setAttribute("type","button"),l.title=s,l.appendChild(this.label_),l.addEventListener(Ra.CLICK,this.handleClick_.bind(this),!1);const c=n+" "+kM+" "+nz,a=this.element;a.className=c,a.appendChild(l),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(VS)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const r=n.getRotation();r!==void 0&&(this.duration_>0&&r%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:fx}):n.setRotation(0))}render(e){const n=e.frameState;if(!n)return;const r=n.viewState.rotation;if(r!=this.rotation_){const i="rotate("+r+"rad)";if(this.autoHide_){const s=this.element.classList.contains(VS);!s&&r===0?this.element.classList.add(VS):s&&r!==0&&this.element.classList.remove(VS)}this.label_.style.transform=i}this.rotation_=r}};class Rlt extends jf{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const n=e.className!==void 0?e.className:"ol-zoom",r=e.delta!==void 0?e.delta:1,i=e.zoomInClassName!==void 0?e.zoomInClassName:n+"-in",s=e.zoomOutClassName!==void 0?e.zoomOutClassName:n+"-out",l=e.zoomInLabel!==void 0?e.zoomInLabel:"+",c=e.zoomOutLabel!==void 0?e.zoomOutLabel:"–",a=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",f=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",p=document.createElement("button");p.className=i,p.setAttribute("type","button"),p.title=a,p.appendChild(typeof l=="string"?document.createTextNode(l):l),p.addEventListener(Ra.CLICK,this.handleClick_.bind(this,r),!1);const m=document.createElement("button");m.className=s,m.setAttribute("type","button"),m.title=f,m.appendChild(typeof c=="string"?document.createTextNode(c):c),m.addEventListener(Ra.CLICK,this.handleClick_.bind(this,-r),!1);const v=n+" "+kM+" "+nz,y=this.element;y.className=v,y.appendChild(p),y.appendChild(m),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,n){n.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const r=this.getMap().getView();if(!r)return;const i=r.getZoom();if(i!==void 0){const s=r.getConstrainedZoom(i+e);this.duration_>0?(r.getAnimating()&&r.cancelAnimations(),r.animate({zoom:s,duration:this.duration_,easing:fx})):r.setZoom(s)}}}function Olt(t){t=t||{};const e=new Sf;return(t.zoom!==void 0?t.zoom:!0)&&e.push(new Rlt(t.zoomOptions)),(t.rotate!==void 0?t.rotate:!0)&&e.push(new Flt(t.rotateOptions)),(t.attribution!==void 0?t.attribution:!0)&&e.push(new Plt(t.attributionOptions)),e}const HY={ACTIVE:"active"};class O5 extends Qf{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(HY.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(HY.ACTIVE,e)}setMap(e){this.map_=e}}function Dlt(t,e,n){const r=t.getCenterInternal();if(r){const i=[r[0]+e[0],r[1]+e[1]];t.animateInternal({duration:n!==void 0?n:250,easing:$ue,center:t.getConstrainedCenter(i)})}}function sz(t,e,n,r){const i=t.getZoom();if(i===void 0)return;const s=t.getConstrainedZoom(i+e),l=t.getResolutionForZoom(s);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:l,anchor:n,duration:r!==void 0?r:250,easing:fx})}class Nlt extends O5{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let n=!1;if(e.type==cl.DBLCLICK){const r=e.originalEvent,i=e.map,s=e.coordinate,l=r.shiftKey?-this.delta_:this.delta_,c=i.getView();sz(c,l,s,this.duration_),r.preventDefault(),n=!0}return!n}}class mx extends O5{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==cl.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==cl.POINTERUP){const r=this.handleUpEvent(e);this.handlingDownUpSequence=r&&this.targetPointers.length>0}}else if(e.type==cl.POINTERDOWN){const r=this.handleDownEvent(e);this.handlingDownUpSequence=r,n=this.stopDown(r)}else e.type==cl.POINTERMOVE&&this.handleMoveEvent(e);return!n}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function oz(t){const e=t.length;let n=0,r=0;for(let i=0;i<e;i++)n+=t[i].clientX,r+=t[i].clientY;return{clientX:n/e,clientY:r/e}}function KO(t){const e=arguments;return function(n){let r=!0;for(let i=0,s=e.length;i<s&&(r=r&&e[i](n),!!r);++i);return r}}const Ult=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},zlt=function(t){const e=t.map.getTargetElement(),n=t.map.getOwnerDocument().activeElement;return e.contains(n)},oce=function(t){return t.map.getTargetElement().hasAttribute("tabindex")?zlt(t):!0},$lt=E6,lce=function(t){const e=t.originalEvent;return e.button==0&&!(wot&&Gue&&e.ctrlKey)},uce=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Vlt=function(t){const e=t.originalEvent;return Gue?e.metaKey:e.ctrlKey},Hlt=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},cce=function(t){const e=t.originalEvent,n=e.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!e.target.isContentEditable},aP=function(t){const e=t.originalEvent;return es(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.pointerType=="mouse"},Qlt=function(t){const e=t.originalEvent;return es(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.isPrimary&&e.button===0};class jlt extends mx{constructor(e){super({stopDown:yM}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const n=e.condition?e.condition:KO(uce,Qlt);this.condition_=e.onFocusOnly?KO(oce,n):n,this.noKinetic_=!1}handleDragEvent(e){const n=e.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const r=this.targetPointers,i=n.getEventPixel(oz(r));if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){const s=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],c=e.map.getView();bst(s,c.getResolution()),LU(s,c.getRotation()),c.adjustCenterInternal(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=r.length,e.originalEvent.preventDefault()}handleUpEvent(e){const n=e.map,r=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const i=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),l=r.getCenterInternal(),c=n.getPixelFromCoordinateInternal(l),a=n.getCoordinateFromPixelInternal([c[0]-i*Math.cos(s),c[1]-i*Math.sin(s)]);r.animateInternal({center:r.getConstrainedCenter(a),duration:500,easing:fx})}return this.panning_&&(this.panning_=!1,r.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const r=e.map.getView();return this.lastCentroid=null,r.getAnimating()&&r.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class Glt extends mx{constructor(e){e=e||{},super({stopDown:yM}),this.condition_=e.condition?e.condition:Ult,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!aP(e))return;const n=e.map,r=n.getView();if(r.getConstraints().rotation===YU)return;const i=n.getSize(),s=e.pixel,l=Math.atan2(i[1]/2-s[1],s[0]-i[0]/2);if(this.lastAngle_!==void 0){const c=l-this.lastAngle_;r.adjustRotationInternal(-c)}this.lastAngle_=l}handleUpEvent(e){return aP(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return aP(e)&&lce(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class Klt extends _M{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,n=this.endPixel_,r="px",i=this.element_.style;i.left=Math.min(e[0],n[0])+r,i.top=Math.min(e[1],n[1])+r,i.width=Math.abs(n[0]-e[0])+r,i.height=Math.abs(n[1]-e[1])+r}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,n){this.startPixel_=e,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const e=this.startPixel_,n=this.endPixel_,i=[e,[e[0],n[1]],n,[n[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new zf([i])}getGeometry(){return this.geometry_}}const HS={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class sP extends S0{constructor(e,n,r){super(e),this.coordinate=n,this.mapBrowserEvent=r}}class Wlt extends mx{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.box_=new Klt(e.className||"ol-dragbox"),this.minArea_=e.minArea!==void 0?e.minArea:64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition?e.condition:lce,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(e,n,r){const i=r[0]-n[0],s=r[1]-n[1];return i*i+s*s>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new sP(HS.BOXDRAG,e.coordinate,e))}handleUpEvent(e){this.box_.setMap(null);const n=this.boxEndCondition_(e,this.startPixel_,e.pixel);return n&&this.onBoxEnd(e),this.dispatchEvent(new sP(n?HS.BOXEND:HS.BOXCANCEL,e.coordinate,e)),!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new sP(HS.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}}class qlt extends Wlt{constructor(e){e=e||{};const n=e.condition?e.condition:Hlt;super({condition:n,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const r=this.getMap().getView();let i=this.getGeometry();if(this.out_){const s=r.rotatedExtentForGeometry(i),l=r.getResolutionForExtentInternal(s),c=r.getResolution()/l;i=i.clone(),i.scale(c*c)}r.fitInternal(i,{duration:this.duration_,easing:fx})}}const x_={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class Ylt extends O5{constructor(e){super(),e=e||{},this.defaultCondition_=function(n){return uce(n)&&cce(n)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let n=!1;if(e.type==Ra.KEYDOWN){const r=e.originalEvent,i=r.key;if(this.condition_(e)&&(i==x_.DOWN||i==x_.LEFT||i==x_.RIGHT||i==x_.UP)){const l=e.map.getView(),c=l.getResolution()*this.pixelDelta_;let a=0,f=0;i==x_.DOWN?f=-c:i==x_.LEFT?a=-c:i==x_.RIGHT?a=c:f=c;const p=[a,f];LU(p,l.getRotation()),Dlt(l,p,this.duration_),r.preventDefault(),n=!0}}return!n}}class Xlt extends O5{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(n){return!Vlt(n)&&cce(n)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let n=!1;if(e.type==Ra.KEYDOWN||e.type==Ra.KEYPRESS){const r=e.originalEvent,i=r.key;if(this.condition_(e)&&(i==="+"||i==="-")){const s=e.map,l=i==="+"?this.delta_:-this.delta_,c=s.getView();sz(c,l,void 0,this.duration_),r.preventDefault(),n=!0}}return!n}}class Zlt{constructor(e,n,r){this.decay_=e,this.minVelocity_=n,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,n){this.points_.push(e,n,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<e)return!1;let r=n-3;for(;r>0&&this.points_[r+2]>e;)r-=3;const i=this.points_[n+2]-this.points_[r+2];if(i<1e3/60)return!1;const s=this.points_[n]-this.points_[r],l=this.points_[n+1]-this.points_[r+1];return this.angle_=Math.atan2(l,s),this.initialVelocity_=Math.sqrt(s*s+l*l)/i,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}class Jlt extends O5{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const n=e.condition?e.condition:$lt;this.condition_=e.onFocusOnly?KO(oce,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(e){if(!this.condition_(e)||e.type!==Ra.WHEEL)return!0;const r=e.map,i=e.originalEvent;i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate);let s;if(e.type==Ra.WHEEL&&(s=i.deltaY,_ot&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=Kue),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),s===0)return!1;this.lastDelta_=s;const l=Date.now();this.startTime_===void 0&&(this.startTime_=l),(!this.mode_||l-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?"trackpad":"wheel");const c=r.getView();if(this.mode_==="trackpad"&&!(c.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(c.getAnimating()&&c.cancelAnimations(),c.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),c.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=l,!1;this.totalDelta_+=s;const a=Math.max(this.timeout_-(l-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),a),!1}handleWheelZoom_(e){const n=e.getView();n.getAnimating()&&n.cancelAnimations();let r=-Ol(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(r=r?r>0?1:-1:0),sz(n,r,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}class eut extends mx{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=yM),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let n=0;const r=this.targetPointers[0],i=this.targetPointers[1],s=Math.atan2(i.clientY-r.clientY,i.clientX-r.clientX);if(this.lastAngle_!==void 0){const a=s-this.lastAngle_;this.rotationDelta_+=a,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=a}this.lastAngle_=s;const l=e.map,c=l.getView();c.getConstraints().rotation!==YU&&(this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(oz(this.targetPointers))),this.rotating_&&(l.render(),c.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}class tut extends mx{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=yM),super(n),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let n=1;const r=this.targetPointers[0],i=this.targetPointers[1],s=r.clientX-i.clientX,l=r.clientY-i.clientY,c=Math.sqrt(s*s+l*l);this.lastDistance_!==void 0&&(n=this.lastDistance_/c),this.lastDistance_=c;const a=e.map,f=a.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=a.getCoordinateFromPixelInternal(a.getEventPixel(oz(this.targetPointers))),a.render(),f.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const r=e.map.getView(),i=this.lastScaleDelta_>1?1:-1;return r.endInteraction(this.duration_,i),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}function nut(t){t=t||{};const e=new Sf,n=new Zlt(-.005,.05,100);return(t.altShiftDragRotate!==void 0?t.altShiftDragRotate:!0)&&e.push(new Glt),(t.doubleClickZoom!==void 0?t.doubleClickZoom:!0)&&e.push(new Nlt({delta:t.zoomDelta,duration:t.zoomDuration})),(t.dragPan!==void 0?t.dragPan:!0)&&e.push(new jlt({onFocusOnly:t.onFocusOnly,kinetic:n})),(t.pinchRotate!==void 0?t.pinchRotate:!0)&&e.push(new eut),(t.pinchZoom!==void 0?t.pinchZoom:!0)&&e.push(new tut({duration:t.zoomDuration})),(t.keyboard!==void 0?t.keyboard:!0)&&(e.push(new Ylt),e.push(new Xlt({delta:t.zoomDelta,duration:t.zoomDuration}))),(t.mouseWheelZoom!==void 0?t.mouseWheelZoom:!0)&&e.push(new Jlt({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(t.shiftDragZoom!==void 0?t.shiftDragZoom:!0)&&e.push(new qlt({duration:t.zoomDuration})),e}function hce(t){if(t instanceof jy){t.setMapInternal(null);return}t instanceof Ky&&t.getLayers().forEach(hce)}function dce(t,e){if(t instanceof jy){t.setMapInternal(e);return}if(t instanceof Ky){const n=t.getLayers().getArray();for(let r=0,i=n.length;r<i;++r)dce(n[r],e)}}let fce=class extends Qf{constructor(e){super(),e=e||{},this.on,this.once,this.un;const n=rut(e);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:Kue,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=Qo(),this.pixelToCoordinateTransform_=Qo(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||Olt(),this.interactions=n.interactions||nut({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new Llt(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Ic.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Ic.VIEW,this.handleViewChanged_),this.addChangeListener(Ic.SIZE,this.handleSizeChanged_),this.addChangeListener(Ic.TARGET,this.handleTargetChanged_),this.setProperties(n.values);const r=this;e.view&&!(e.view instanceof am)&&e.view.then(function(i){r.setView(new am(i))}),this.controls.addEventListener(Dh.ADD,i=>{i.element.setMap(this)}),this.controls.addEventListener(Dh.REMOVE,i=>{i.element.setMap(null)}),this.interactions.addEventListener(Dh.ADD,i=>{i.element.setMap(this)}),this.interactions.addEventListener(Dh.REMOVE,i=>{i.element.setMap(null)}),this.overlays_.addEventListener(Dh.ADD,i=>{this.addOverlayInternal_(i.element)}),this.overlays_.addEventListener(Dh.REMOVE,i=>{const s=i.element.getId();s!==void 0&&delete this.overlayIdIndex_[s.toString()],i.element.setMap(null)}),this.controls.forEach(i=>{i.setMap(this)}),this.interactions.forEach(i=>{i.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){dce(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const n=e.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,n,r){if(!this.frameState_||!this.renderer_)return;const i=this.getCoordinateFromPixelInternal(e);r=r!==void 0?r:{};const s=r.hitTolerance!==void 0?r.hitTolerance:0,l=r.layerFilter!==void 0?r.layerFilter:E6,c=r.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,s,c,n,null,l,null)}getFeaturesAtPixel(e,n){const r=[];return this.forEachFeatureAtPixel(e,function(i){r.push(i)},n),r}getAllLayers(){const e=[];function n(r){r.forEach(function(i){i instanceof Ky?n(i.getLayers()):e.push(i)})}return n(this.getLayers()),e}hasFeatureAtPixel(e,n){if(!this.frameState_||!this.renderer_)return!1;const r=this.getCoordinateFromPixelInternal(e);n=n!==void 0?n:{};const i=n.layerFilter!==void 0?n.layerFilter:E6,s=n.hitTolerance!==void 0?n.hitTolerance:0,l=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(r,this.frameState_,s,l,i,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const r=this.viewport_.getBoundingClientRect(),i=this.getSize(),s=r.width/i[0],l=r.height/i[1],c="changedTouches"in e?e.changedTouches[0]:e;return[(c.clientX-r.left)/s,(c.clientY-r.top)/l]}getTarget(){return this.get(Ic.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return DO(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const n=this.frameState_;return n?Fo(n.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const n=this.overlayIdIndex_[e.toString()];return n!==void 0?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Ic.LAYERGROUP)}setLayers(e){const n=this.getLayerGroup();if(e instanceof Sf){n.setLayers(e);return}const r=n.getLayers();r.clear(),r.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,r=e.length;n<r;++n){const i=e[n];if(!i.visible)continue;const s=i.layer.getRenderer();if(s&&!s.ready)return!0;const l=i.layer.getSource();if(l&&l.loading)return!0}return!1}getPixelFromCoordinate(e){const n=$g(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(e){const n=this.frameState_;return n?Fo(n.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Ic.SIZE)}getView(){return this.get(Ic.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,n,r,i){return klt(this.frameState_,e,n,r,i)}handleBrowserEvent(e,n){n=n||e.type;const r=new Sv(n,this,e);this.handleMapBrowserEvent(r)}handleMapBrowserEvent(e){if(!this.frameState_)return;const n=e.originalEvent,r=n.type;if(r===GO.POINTERDOWN||r===Ra.WHEEL||r===Ra.KEYDOWN){const i=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():i,l=n.target;if(this.overlayContainerStopEvent_.contains(l)||!(s===i?i.documentElement:s).contains(l))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){const i=this.getInteractions().getArray().slice();for(let s=i.length-1;s>=0;s--){const l=i[s];if(l.getMap()!==this||!l.getActive()||!this.getTargetElement())continue;if(!l.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let i=this.maxTilesLoading_,s=i;if(e){const l=e.viewHints;if(l[to.ANIMATING]||l[to.INTERACTING]){const c=Date.now()-e.time>8;i=c?0:8,s=c?0:2}}n.getTilesLoading()<i&&(n.reprioritize(),n.loadMoreTiles(i,s))}e&&this.renderer_&&!e.animate&&(this.renderComplete_===!0?(this.hasListener(ju.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(ju.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new vw(Tv.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new vw(Tv.LOADSTART,this,e))));const r=this.postRenderFunctions_;for(let i=0,s=r.length;i<s;++i)r[i](this,e);r.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let r=0,i=this.targetChangeHandlerKeys_.length;r<i;++r)Eo(this.targetChangeHandlerKeys_[r]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Ra.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Ra.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,$O(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const r=this.targetElement_.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.unobserve(r.host),this.setSize(void 0)}const e=this.getTarget(),n=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=n,!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new Blt(this)),this.mapBrowserEventHandler_=new Mlt(this,this.moveTolerance_);for(const s in cl)this.mapBrowserEventHandler_.addEventListener(cl[s],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Ra.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Ra.WHEEL,this.boundHandleBrowserEvent_,Yue?{passive:!1}:!1);const r=this.keyboardEventTarget_?this.keyboardEventTarget_:n;this.targetChangeHandlerKeys_=[Ha(r,Ra.KEYDOWN,this.handleBrowserEvent,this),Ha(r,Ra.KEYPRESS,this.handleBrowserEvent,this)];const i=n.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.observe(i.host),this.resizeObserver_.observe(n)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Eo(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Eo(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=Ha(e,N2.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Ha(e,Ra.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Eo),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new Rv("addlayer",e)),this.layerGroupPropertyListenerKeys_=[Ha(e,N2.PROPERTYCHANGE,this.render,this),Ha(e,Ra.CHANGE,this.render,this),Ha(e,"addlayer",this.handleLayerAdd_,this),Ha(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,r=e.length;n<r;++n){const i=e[n].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){hce(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const n=this.getSize(),r=this.getView(),i=this.frameState_;let s=null;if(n!==void 0&&TY(n)&&r&&r.isDef()){const l=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),c=r.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:PO(c.center,c.resolution,c.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:c,viewHints:l,wantedTiles:{},mapId:Mi(this),renderTargets:{}},c.nextCenter&&c.nextResolution){const a=isNaN(c.nextRotation)?c.rotation:c.nextRotation;s.nextExtent=PO(c.nextCenter,c.nextResolution,a,n)}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),i&&(!this.previousExtent_||!dx(this.previousExtent_)&&!v1(s.extent,this.previousExtent_))&&(this.dispatchEvent(new vw(Tv.MOVESTART,this,i)),this.previousExtent_=I5(this.previousExtent_)),this.previousExtent_&&!s.viewHints[to.ANIMATING]&&!s.viewHints[to.INTERACTING]&&!v1(s.extent,this.previousExtent_)&&(this.dispatchEvent(new vw(Tv.MOVEEND,this,s)),bue(s.extent,this.previousExtent_))),this.dispatchEvent(new vw(Tv.POSTRENDER,this,s)),this.renderComplete_=this.hasListener(Tv.LOADSTART)||this.hasListener(Tv.LOADEND)||this.hasListener(ju.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new Rv("removelayer",n)),this.set(Ic.LAYERGROUP,e)}setSize(e){this.set(Ic.SIZE,e)}setTarget(e){this.set(Ic.TARGET,e)}setView(e){if(!e||e instanceof am){this.set(Ic.VIEW,e);return}this.set(Ic.VIEW,new am);const n=this;e.then(function(r){n.setView(new am(r))})}updateSize(){const e=this.getTargetElement();let n;if(e){const i=getComputedStyle(e),s=e.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),l=e.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);!isNaN(s)&&!isNaN(l)&&(n=[s,l],!TY(n)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&Tue("No map visible because the map container's width or height are 0."))}const r=this.getSize();n&&(!r||!T0(n,r))&&(this.setSize(n),this.updateViewportSize_(n))}updateViewportSize_(e){const n=this.getView();n&&n.setViewportSize(e)}};function rut(t){let e=null;t.keyboardEventTarget!==void 0&&(e=typeof t.keyboardEventTarget=="string"?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);const n={},r=t.layers&&typeof t.layers.getLayers=="function"?t.layers:new Ky({layers:t.layers});n[Ic.LAYERGROUP]=r,n[Ic.TARGET]=t.target,n[Ic.VIEW]=t.view instanceof am?t.view:new am;let i;t.controls!==void 0&&(Array.isArray(t.controls)?i=new Sf(t.controls.slice()):(es(typeof t.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),i=t.controls));let s;t.interactions!==void 0&&(Array.isArray(t.interactions)?s=new Sf(t.interactions.slice()):(es(typeof t.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),s=t.interactions));let l;return t.overlays!==void 0?Array.isArray(t.overlays)?l=new Sf(t.overlays.slice()):(es(typeof t.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),l=t.overlays):l=new Sf,{controls:i,interactions:s,keyboardEventTarget:e,overlays:l,values:n}}class iut{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let n=this.oldest_;for(;n;)e(n.value_,n.key_,this),n=n.newer}get(e,n){const r=this.entries_[e];return es(r!==void 0,"Tried to get a value for a key that does not exist in the cache"),r===this.newest_||(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r),r.value_}remove(e){const n=this.entries_[e];return es(n!==void 0,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[e],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let n=0,r;for(r=this.newest_;r;r=r.older)e[n++]=r.key_;return e}getValues(){const e=new Array(this.count_);let n=0,r;for(r=this.newest_;r;r=r.older)e[n++]=r.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){var n;return(n=this.entries_[e])==null?void 0:n.value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,n){this.get(e),this.entries_[e].value_=n}set(e,n){es(!(e in this.entries_),"Tried to set a value for a key that is used already");const r={key_:e,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[e]=r,++this.count_}setSize(e){this.highWaterMark=e}}class pce extends bM{constructor(e,n,r){super(),r=r||{},this.tileCoord=e,this.state=n,this.interimTile=null,this.key="",this.transition_=r.transition===void 0?250:r.transition,this.transitionStarts_={},this.interpolate=!!r.interpolate}changed(){this.dispatchEvent(Ra.CHANGE)}release(){this.state===Qi.ERROR&&this.setState(Qi.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){let e=this.interimTile;if(!e)return this;do{if(e.getState()==Qi.LOADED)return this.transition_=0,e;e=e.interimTile}while(e);return this}refreshInterimChain(){let e=this.interimTile;if(!e)return;let n=this;do{if(e.getState()==Qi.LOADED){e.interimTile=null;break}e.getState()==Qi.LOADING?n=e:e.getState()==Qi.IDLE?n.interimTile=e.interimTile:n=e,e=n.interimTile}while(e)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==Qi.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){gs()}getAlpha(e,n){if(!this.transition_)return 1;let r=this.transitionStarts_[e];if(!r)r=n,this.transitionStarts_[e]=r;else if(r===-1)return 1;const i=n-r+1e3/60;return i>=this.transition_?1:zue(i/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}}class Ace extends pce{constructor(e,n,r,i,s,l){super(e,n,l),this.crossOrigin_=i,this.src_=r,this.key=r,this.image_=new Image,i!==null&&(this.image_.crossOrigin=i),this.unlisten_=null,this.tileLoadFunction_=s}getImage(){return this.image_}setImage(e){this.image_=e,this.state=Qi.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=Qi.ERROR,this.unlistenImage_(),this.image_=aut(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=Qi.LOADED:this.state=Qi.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==Qi.ERROR&&(this.state=Qi.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==Qi.IDLE&&(this.state=Qi.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Eot(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function aut(){const t=Ku(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}const sut=.5,out=10,QY=.25;class lut{constructor(e,n,r,i,s,l){this.sourceProj_=e,this.targetProj_=n;let c={};const a=T6(this.targetProj_,this.sourceProj_);this.transformInv_=function(P){const R=P[0]+"/"+P[1];return c[R]||(c[R]=a(P)),c[R]},this.maxSourceExtent_=i,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&ds(i)>=ds(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?ds(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?ds(this.targetProj_.getExtent()):null;const f=O1(r),p=CM(r),m=xM(r),v=wM(r),y=this.transformInv_(f),T=this.transformInv_(p),C=this.transformInv_(m),k=this.transformInv_(v),M=out+(l?Math.max(0,Math.ceil(Math.log2(kO(r)/(l*l*256*256)))):0);if(this.addQuad_(f,p,m,v,y,T,C,k,M),this.wrapsXInSource_){let P=1/0;this.triangles_.forEach(function(R,N,z){P=Math.min(P,R.source[0][0],R.source[1][0],R.source[2][0])}),this.triangles_.forEach(R=>{if(Math.max(R.source[0][0],R.source[1][0],R.source[2][0])-P>this.sourceWorldWidth_/2){const N=[[R.source[0][0],R.source[0][1]],[R.source[1][0],R.source[1][1]],[R.source[2][0],R.source[2][1]]];N[0][0]-P>this.sourceWorldWidth_/2&&(N[0][0]-=this.sourceWorldWidth_),N[1][0]-P>this.sourceWorldWidth_/2&&(N[1][0]-=this.sourceWorldWidth_),N[2][0]-P>this.sourceWorldWidth_/2&&(N[2][0]-=this.sourceWorldWidth_);const z=Math.min(N[0][0],N[1][0],N[2][0]);Math.max(N[0][0],N[1][0],N[2][0])-z<this.sourceWorldWidth_/2&&(R.source=N)}})}c={}}addTriangle_(e,n,r,i,s,l){this.triangles_.push({source:[i,s,l],target:[e,n,r]})}addQuad_(e,n,r,i,s,l,c,a,f){const p=k8([s,l,c,a]),m=this.sourceWorldWidth_?ds(p)/this.sourceWorldWidth_:null,v=this.sourceWorldWidth_,y=this.sourceProj_.canWrapX()&&m>.5&&m<1;let T=!1;if(f>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const k=k8([e,n,r,i]);T=ds(k)/this.targetWorldWidth_>QY||T}!y&&this.sourceProj_.isGlobal()&&m&&(T=m>QY||T)}if(!T&&this.maxSourceExtent_&&isFinite(p[0])&&isFinite(p[1])&&isFinite(p[2])&&isFinite(p[3])&&!su(p,this.maxSourceExtent_))return;let C=0;if(!T&&(!isFinite(s[0])||!isFinite(s[1])||!isFinite(l[0])||!isFinite(l[1])||!isFinite(c[0])||!isFinite(c[1])||!isFinite(a[0])||!isFinite(a[1]))){if(f>0)T=!0;else if(C=(!isFinite(s[0])||!isFinite(s[1])?8:0)+(!isFinite(l[0])||!isFinite(l[1])?4:0)+(!isFinite(c[0])||!isFinite(c[1])?2:0)+(!isFinite(a[0])||!isFinite(a[1])?1:0),C!=1&&C!=2&&C!=4&&C!=8)return}if(f>0){if(!T){const k=[(e[0]+r[0])/2,(e[1]+r[1])/2],M=this.transformInv_(k);let P;y?P=(dy(s[0],v)+dy(c[0],v))/2-dy(M[0],v):P=(s[0]+c[0])/2-M[0];const R=(s[1]+c[1])/2-M[1];T=P*P+R*R>this.errorThresholdSquared_}if(T){if(Math.abs(e[0]-r[0])<=Math.abs(e[1]-r[1])){const k=[(n[0]+r[0])/2,(n[1]+r[1])/2],M=this.transformInv_(k),P=[(i[0]+e[0])/2,(i[1]+e[1])/2],R=this.transformInv_(P);this.addQuad_(e,n,k,P,s,l,M,R,f-1),this.addQuad_(P,k,r,i,R,M,c,a,f-1)}else{const k=[(e[0]+n[0])/2,(e[1]+n[1])/2],M=this.transformInv_(k),P=[(r[0]+i[0])/2,(r[1]+i[1])/2],R=this.transformInv_(P);this.addQuad_(e,k,P,i,s,M,R,a,f-1),this.addQuad_(k,n,r,P,M,l,c,R,f-1)}return}}if(y){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}C&11||this.addTriangle_(e,r,i,s,c,a),C&14||this.addTriangle_(e,r,n,s,c,l),C&&(C&13||this.addTriangle_(n,i,e,l,a,s),C&7||this.addTriangle_(n,i,r,l,a,c))}calculateSourceExtent(){const e=dc();return this.triangles_.forEach(function(n,r,i){const s=n.source;SC(e,s[0]),SC(e,s[1]),SC(e,s[2])}),e}getTriangles(){return this.triangles_}}let oP;const t2=[];function jY(t,e,n,r,i){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(r,i),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,r)+1,Math.max(n,i)),t.restore()}function lP(t,e){return Math.abs(t[e*4]-210)>2||Math.abs(t[e*4+3]-.75*255)>2}function uut(){if(oP===void 0){const t=Ku(6,6,t2);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",jY(t,4,5,4,0),jY(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;oP=lP(e,0)||lP(e,4)||lP(e,8),LM(t),t2.push(t.canvas)}return oP}function WO(t,e,n,r){const i=c0(n,e,t);let s=AY(e,r,n);const l=e.getMetersPerUnit();l!==void 0&&(s*=l);const c=t.getMetersPerUnit();c!==void 0&&(s/=c);const a=t.getExtent();if(!a||g1(a,i)){const f=AY(t,s,i)/s;isFinite(f)&&f>0&&(s/=f)}return s}function cut(t,e,n,r){const i=iA(n);let s=WO(t,e,i,r);return(!isFinite(s)||s<=0)&&MU(n,function(l){return s=WO(t,e,l,r),isFinite(s)&&s>0}),s}function hut(t,e,n,r,i,s,l,c,a,f,p,m,v,y){const T=Ku(Math.round(n*t),Math.round(n*e),t2);if(m||(T.imageSmoothingEnabled=!1),a.length===0)return T.canvas;T.scale(n,n);function C(z){return Math.round(z*n)/n}T.globalCompositeOperation="lighter";const k=dc();a.forEach(function(z,H,j){TT(k,z.extent)});let M;const P=n/r,R=(m?1:1+Math.pow(2,-24))/P;if(!v||a.length!==1||f!==0){if(M=Ku(Math.round(ds(k)*P),Math.round(xu(k)*P),t2),m||(M.imageSmoothingEnabled=!1),i&&y){const z=(i[0]-k[0])*P,H=-(i[3]-k[3])*P,j=ds(i)*P,Q=xu(i)*P;M.rect(z,H,j,Q),M.clip()}a.forEach(function(z,H,j){const Q=(z.extent[0]-k[0])*P,G=-(z.extent[3]-k[3])*P,ie=ds(z.extent)*P,q=xu(z.extent)*P;z.image.width>0&&z.image.height>0&&M.drawImage(z.image,f,f,z.image.width-2*f,z.image.height-2*f,m?Q:Math.round(Q),m?G:Math.round(G),m?ie:Math.round(Q+ie)-Math.round(Q),m?q:Math.round(G+q)-Math.round(G))})}const N=O1(l);return c.getTriangles().forEach(function(z,H,j){const Q=z.source,G=z.target;let ie=Q[0][0],q=Q[0][1],W=Q[1][0],ee=Q[1][1],he=Q[2][0],J=Q[2][1];const te=C((G[0][0]-N[0])/s),ne=C(-(G[0][1]-N[1])/s),ce=C((G[1][0]-N[0])/s),ue=C(-(G[1][1]-N[1])/s),ye=C((G[2][0]-N[0])/s),Ee=C(-(G[2][1]-N[1])/s),se=ie,oe=q;ie=0,q=0,W-=se,ee-=oe,he-=se,J-=oe;const _e=[[W,ee,0,0,ce-te],[he,J,0,0,ye-te],[0,0,W,ee,ue-ne],[0,0,he,J,Ee-ne]],Ue=_st(_e);if(!Ue)return;if(T.save(),T.beginPath(),uut()||!m){T.moveTo(ce,ue);const be=4,Re=te-ce,Qe=ne-ue;for(let Je=0;Je<be;Je++)T.lineTo(ce+C((Je+1)*Re/be),ue+C(Je*Qe/(be-1))),Je!=be-1&&T.lineTo(ce+C((Je+1)*Re/be),ue+C((Je+1)*Qe/(be-1)));T.lineTo(ye,Ee)}else T.moveTo(ce,ue),T.lineTo(te,ne),T.lineTo(ye,Ee);T.clip(),T.transform(Ue[0],Ue[2],Ue[1],Ue[3],te,ne),T.translate(k[0]-se,k[3]-oe);let Le;if(M)Le=M.canvas,T.scale(R,-R);else{const be=a[0],Re=be.extent;Le=be.image,T.scale(ds(Re)/Le.width,-xu(Re)/Le.height)}T.drawImage(Le,0,0),T.restore()}),M&&(LM(M),t2.push(M.canvas)),p&&(T.save(),T.globalCompositeOperation="source-over",T.strokeStyle="black",T.lineWidth=1,c.getTriangles().forEach(function(z,H,j){const Q=z.target,G=(Q[0][0]-N[0])/s,ie=-(Q[0][1]-N[1])/s,q=(Q[1][0]-N[0])/s,W=-(Q[1][1]-N[1])/s,ee=(Q[2][0]-N[0])/s,he=-(Q[2][1]-N[1])/s;T.beginPath(),T.moveTo(q,W),T.lineTo(G,ie),T.lineTo(ee,he),T.closePath(),T.stroke()}),T.restore()),T.canvas}class qO extends pce{constructor(e,n,r,i,s,l,c,a,f,p,m,v){super(s,Qi.IDLE,v),this.renderEdges_=m!==void 0?m:!1,this.pixelRatio_=c,this.gutter_=a,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=i,this.wrappedTileCoord_=l||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const y=i.getTileCoordExtent(this.wrappedTileCoord_),T=this.targetTileGrid_.getExtent();let C=this.sourceTileGrid_.getExtent();const k=T?cy(y,T):y;if(kO(k)===0){this.state=Qi.EMPTY;return}const M=e.getExtent();M&&(C?C=cy(C,M):C=M);const P=i.getResolution(this.wrappedTileCoord_[0]),R=cut(e,r,k,P);if(!isFinite(R)||R<=0){this.state=Qi.EMPTY;return}const N=p!==void 0?p:sut;if(this.triangulation_=new lut(e,r,k,C,R*N,P),this.triangulation_.getTriangles().length===0){this.state=Qi.EMPTY;return}this.sourceZ_=n.getZForResolution(R);let z=this.triangulation_.calculateSourceExtent();if(C&&(e.canWrapX()?(z[1]=Ol(z[1],C[1],C[3]),z[3]=Ol(z[3],C[1],C[3])):z=cy(z,C)),!kO(z))this.state=Qi.EMPTY;else{const H=n.getTileRangeForExtentAndZ(z,this.sourceZ_);for(let j=H.minX;j<=H.maxX;j++)for(let Q=H.minY;Q<=H.maxY;Q++){const G=f(this.sourceZ_,j,Q,c);G&&this.sourceTiles_.push(G)}this.sourceTiles_.length===0&&(this.state=Qi.EMPTY)}}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(n=>{n&&n.getState()==Qi.LOADED&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(n.tileCoord),image:n.getImage()})}),this.sourceTiles_.length=0,e.length===0)this.state=Qi.ERROR;else{const n=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(n),i=typeof r=="number"?r:r[0],s=typeof r=="number"?r:r[1],l=this.targetTileGrid_.getResolution(n),c=this.sourceTileGrid_.getResolution(this.sourceZ_),a=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=hut(i,s,this.pixelRatio_,c,this.sourceTileGrid_.getExtent(),l,a,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=Qi.LOADED}this.changed()}load(){if(this.state==Qi.IDLE){this.state=Qi.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(n=>{const r=n.getState();if(r==Qi.IDLE||r==Qi.LOADING){e++;const i=Ha(n,Ra.CHANGE,function(s){const l=n.getState();(l==Qi.LOADED||l==Qi.ERROR||l==Qi.EMPTY)&&(Eo(i),e--,e===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(i)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(n,r,i){n.getState()==Qi.IDLE&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Eo),this.sourcesListenerKeys_=null}release(){this.canvas_&&(LM(this.canvas_.getContext("2d")),t2.push(this.canvas_),this.canvas_=null),super.release()}}function GY(t,e,n,r){return r!==void 0?(r[0]=t,r[1]=e,r[2]=n,r):[t,e,n]}function RM(t,e,n){return t+"/"+e+"/"+n}function mce(t){return RM(t[0],t[1],t[2])}function dut(t){return t.split("/").map(Number)}function gce(t){return(t[1]<<t[0])+t[2]}function fut(t,e){const n=t[0],r=t[1],i=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;const s=e.getFullTileRange(n);return s?s.containsXY(r,i):!0}class vce extends iut{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()}pruneExceptNewestZ(){if(this.getCount()===0)return;const e=this.peekFirstKey(),r=dut(e)[0];this.forEach(i=>{i.tileCoord[0]!==r&&(this.remove(mce(i.tileCoord)),i.release())})}}const uP={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class lz extends Qf{constructor(e){super(),this.projection=Uf(e.projection),this.attributions_=KY(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible!==void 0?e.attributionsCollapsible:!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(r,i){n.viewResolver=r,n.viewRejector=i})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=KY(e),this.changed()}setState(e){this.state_=e,this.changed()}}function KY(t){return t?Array.isArray(t)?function(e){return t}:typeof t=="function"?t:function(e){return[t]}:null}class uz{constructor(e,n,r,i){this.minX=e,this.maxX=n,this.minY=r,this.maxY=i}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,n){return this.minX<=e&&e<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function jb(t,e,n,r,i){return i!==void 0?(i.minX=t,i.maxX=e,i.minY=n,i.maxY=r,i):new uz(t,e,n,r)}const Gb=[0,0,0],pv=5;class _ce{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,es(Yat(this.resolutions_,(i,s)=>s-i),"`resolutions` must be sorted in descending order");let n;if(!e.origins){for(let i=0,s=this.resolutions_.length-1;i<s;++i)if(!n)n=this.resolutions_[i]/this.resolutions_[i+1];else if(this.resolutions_[i]/this.resolutions_[i+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,es(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const r=e.extent;r!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=O1(r)),es(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,es(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:KU,es(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=r!==void 0?r:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map((i,s)=>{const l=new uz(Math.min(0,i[0]),Math.max(i[0]-1,-1),Math.min(0,i[1]),Math.max(i[1]-1,-1));if(r){const c=this.getTileRangeForExtentAndZ(r,s);l.minX=Math.max(c.minX,l.minX),l.maxX=Math.min(c.maxX,l.maxX),l.minY=Math.max(c.minY,l.minY),l.maxY=Math.min(c.maxY,l.maxY)}return l}):r&&this.calculateTileRanges_(r)}forEachTileCoord(e,n,r){const i=this.getTileRangeForExtentAndZ(e,n);for(let s=i.minX,l=i.maxX;s<=l;++s)for(let c=i.minY,a=i.maxY;c<=a;++c)r([n,s,c])}forEachTileCoordParentTileRange(e,n,r,i){let s,l,c,a=null,f=e[0]-1;for(this.zoomFactor_===2?(l=e[1],c=e[2]):a=this.getTileCoordExtent(e,i);f>=this.minZoom;){if(l!==void 0&&c!==void 0?(l=Math.floor(l/2),c=Math.floor(c/2),s=jb(l,l,c,c,r)):s=this.getTileRangeForExtentAndZ(a,f,r),n(f,s))return!0;--f}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,n,r){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const s=e[1]*2,l=e[2]*2;return jb(s,s+1,l,l+1,n)}const i=this.getTileCoordExtent(e,r||this.tmpExtent_);return this.getTileRangeForExtentAndZ(i,e[0]+1,n)}return null}getTileRangeForTileCoordAndZ(e,n,r){if(n>this.maxZoom||n<this.minZoom)return null;const i=e[0],s=e[1],l=e[2];if(n===i)return jb(s,l,s,l,r);if(this.zoomFactor_){const a=Math.pow(this.zoomFactor_,n-i),f=Math.floor(s*a),p=Math.floor(l*a);if(n<i)return jb(f,f,p,p,r);const m=Math.floor(a*(s+1))-1,v=Math.floor(a*(l+1))-1;return jb(f,m,p,v,r)}const c=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(c,n,r)}getTileRangeForExtentAndZ(e,n,r){this.getTileCoordForXYAndZ_(e[0],e[3],n,!1,Gb);const i=Gb[1],s=Gb[2];this.getTileCoordForXYAndZ_(e[2],e[1],n,!0,Gb);const l=Gb[1],c=Gb[2];return jb(i,l,s,c,r)}getTileCoordCenter(e){const n=this.getOrigin(e[0]),r=this.getResolution(e[0]),i=Vh(this.getTileSize(e[0]),this.tmpSize_);return[n[0]+(e[1]+.5)*i[0]*r,n[1]-(e[2]+.5)*i[1]*r]}getTileCoordExtent(e,n){const r=this.getOrigin(e[0]),i=this.getResolution(e[0]),s=Vh(this.getTileSize(e[0]),this.tmpSize_),l=r[0]+e[1]*s[0]*i,c=r[1]-(e[2]+1)*s[1]*i,a=l+s[0]*i,f=c+s[1]*i;return Im(l,c,a,f,n)}getTileCoordForCoordAndResolution(e,n,r){return this.getTileCoordForXYAndResolution_(e[0],e[1],n,!1,r)}getTileCoordForXYAndResolution_(e,n,r,i,s){const l=this.getZForResolution(r),c=r/this.getResolution(l),a=this.getOrigin(l),f=Vh(this.getTileSize(l),this.tmpSize_);let p=c*(e-a[0])/r/f[0],m=c*(a[1]-n)/r/f[1];return i?(p=DS(p,pv)-1,m=DS(m,pv)-1):(p=OS(p,pv),m=OS(m,pv)),GY(l,p,m,s)}getTileCoordForXYAndZ_(e,n,r,i,s){const l=this.getOrigin(r),c=this.getResolution(r),a=Vh(this.getTileSize(r),this.tmpSize_);let f=(e-l[0])/c/a[0],p=(l[1]-n)/c/a[1];return i?(f=DS(f,pv)-1,p=DS(p,pv)-1):(f=OS(f,pv),p=OS(p,pv)),GY(r,f,p,s)}getTileCoordForCoordAndZ(e,n,r){return this.getTileCoordForXYAndZ_(e[0],e[1],n,!1,r)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,n){const r=xU(this.resolutions_,e,n||0);return Ol(r,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,n){return Oue(n,0,n.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const n=this.resolutions_.length,r=new Array(n);for(let i=this.minZoom;i<n;++i)r[i]=this.getTileRangeForExtentAndZ(e,i);this.fullTileRanges_=r}}class WY extends _ce{constructor(e){super({extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes}),this.matrixIds_=e.matrixIds}getMatrixId(e){return this.matrixIds_[e]}getMatrixIds(){return this.matrixIds_}}function yce(t){let e=t.getDefaultTileGrid();return e||(e=gut(t),t.setDefaultTileGrid(e)),e}function put(t,e,n){const r=e[0],i=t.getTileCoordCenter(e),s=bce(n);if(!g1(s,i)){const l=ds(s),c=Math.ceil((s[0]-i[0])/l);return i[0]+=l*c,t.getTileCoordForCoordAndZ(i,r)}return e}function Aut(t,e,n,r){r=r!==void 0?r:"top-left";const i=mut(t,e,n);return new _ce({extent:t,origin:ist(t,r),resolutions:i,tileSize:n})}function mut(t,e,n,r){e=e!==void 0?e:Wst,n=Vh(n!==void 0?n:KU);const i=xu(t),s=ds(t);r=r>0?r:Math.max(s/n[0],i/n[1]);const l=e+1,c=new Array(l);for(let a=0;a<l;++a)c[a]=r/Math.pow(2,a);return c}function gut(t,e,n,r){const i=bce(t);return Aut(i,e,n,r)}function bce(t){t=Uf(t);let e=t.getExtent();if(!e){const n=180*IU.degrees/t.getMetersPerUnit();e=Im(-n,-n,n,n)}return e}class wce extends lz{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.opaque_=e.opaque!==void 0?e.opaque:!1,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const n=[256,256];this.tileGrid&&Vh(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tileCache=new vce(e.cacheSize||0),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(e,n){const r=this.getTileCacheForProjection(e);r&&r.expireCache(n)}forEachLoadedTile(e,n,r,i){const s=this.getTileCacheForProjection(e);if(!s)return!1;let l=!0,c,a,f;for(let p=r.minX;p<=r.maxX;++p)for(let m=r.minY;m<=r.maxY;++m)a=RM(n,p,m),f=!1,s.containsKey(a)&&(c=s.get(a),f=c.getState()===Qi.LOADED,f&&(f=i(c)!==!1)),f||(l=!1);return l}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getOpaque(e){return this.opaque_}getResolutions(e){const n=e?this.getTileGridForProjection(e):this.tileGrid;return n?n.getResolutions():null}getTile(e,n,r,i,s){return gs()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:yce(e)}getTileCacheForProjection(e){const n=this.getProjection();return es(n===null||Aw(n,e),"A VectorTile source can only be rendered if it has a projection compatible with the view projection."),this.tileCache}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,n,r){const i=this.getTileGridForProjection(r),s=this.getTilePixelRatio(n),l=Vh(i.getTileSize(e),this.tmpSize);return s==1?l:dot(l,s,this.tmpSize)}getTileCoordForTileUrlFunction(e,n){n=n!==void 0?n:this.getProjection();const r=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(e=put(r,e,n)),fut(e,r)?e:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(e,n){const r=this.getTileCacheForProjection(n);e>r.highWaterMark&&(r.highWaterMark=e)}useTile(e,n,r,i){}}class vut extends S0{constructor(e,n){super(e),this.tile=n}}function _ut(t,e){const n=/\{z\}/g,r=/\{x\}/g,i=/\{y\}/g,s=/\{-y\}/g;return function(l,c,a){if(l)return t.replace(n,l[0].toString()).replace(r,l[1].toString()).replace(i,l[2].toString()).replace(s,function(){const f=l[0],p=e.getFullTileRange(f);if(!p)throw new Error("The {-y} placeholder requires a tile grid with extent");return(p.getHeight()-l[2]-1).toString()})}}function yut(t,e){const n=t.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=_ut(t[i],e);return YO(r)}function YO(t){return t.length===1?t[0]:function(e,n,r){if(!e)return;const i=gce(e),s=dy(i,t.length);return t[s](e,n,r)}}function xce(t){const e=[];let n=/\{([a-z])-([a-z])\}/.exec(t);if(n){const r=n[1].charCodeAt(0),i=n[2].charCodeAt(0);let s;for(s=r;s<=i;++s)e.push(t.replace(n[0],String.fromCharCode(s)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t),n){const r=parseInt(n[2],10);for(let i=parseInt(n[1],10);i<=r;i++)e.push(t.replace(n[0],i.toString()));return e}return e.push(t),e}class cz extends wce{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===cz.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const n=e.target,r=Mi(n),i=n.getState();let s;i==Qi.LOADING?(this.tileLoadingKeys_[r]=!0,s=uP.TILELOADSTART):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],s=i==Qi.ERROR?uP.TILELOADERROR:i==Qi.LOADED?uP.TILELOADEND:void 0),s!=null&&this.dispatchEvent(new vut(s,n))}setTileLoadFunction(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,n){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof n<"u"?this.setKey(n):this.changed()}setUrl(e){const n=xce(e);this.urls=n,this.setUrls(n)}setUrls(e){this.urls=e;const n=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(yut(e,this.tileGrid),n):this.setKey(n)}tileUrlFunction(e,n,r){}useTile(e,n,r){const i=RM(e,n,r);this.tileCache.containsKey(i)&&this.tileCache.get(i)}}class Cce extends cz{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:but,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:Ace,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}expireCache(e,n){const r=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==r?n:{});for(const i in this.tileCacheForProjection){const s=this.tileCacheForProjection[i];s.expireCache(s==r?n:{})}}getGutterForProjection(e){return this.getProjection()&&e&&!Aw(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getOpaque(e){return this.getProjection()&&e&&!Aw(this.getProjection(),e)?!1:super.getOpaque(e)}getTileGridForProjection(e){const n=this.getProjection();if(this.tileGrid&&(!n||Aw(n,e)))return this.tileGrid;const r=Mi(e);return r in this.tileGridForProjection||(this.tileGridForProjection[r]=yce(e)),this.tileGridForProjection[r]}getTileCacheForProjection(e){const n=this.getProjection();if(!n||Aw(n,e))return this.tileCache;const r=Mi(e);return r in this.tileCacheForProjection||(this.tileCacheForProjection[r]=new vce(this.tileCache.highWaterMark)),this.tileCacheForProjection[r]}createTile_(e,n,r,i,s,l){const c=[e,n,r],a=this.getTileCoordForTileUrlFunction(c,s),f=a?this.tileUrlFunction(a,i,s):void 0,p=new this.tileClass(c,f!==void 0?Qi.IDLE:Qi.EMPTY,f!==void 0?f:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return p.key=l,p.addEventListener(Ra.CHANGE,this.handleTileChange.bind(this)),p}getTile(e,n,r,i,s){const l=this.getProjection();if(!l||!s||Aw(l,s))return this.getTileInternal(e,n,r,i,l||s);const c=this.getTileCacheForProjection(s),a=[e,n,r];let f;const p=mce(a);c.containsKey(p)&&(f=c.get(p));const m=this.getKey();if(f&&f.key==m)return f;const v=this.getTileGridForProjection(l),y=this.getTileGridForProjection(s),T=this.getTileCoordForTileUrlFunction(a,s),C=new qO(l,v,s,y,a,T,this.getTilePixelRatio(i),this.getGutter(),(k,M,P,R)=>this.getTileInternal(k,M,P,R,l),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return C.key=m,f?(C.interimTile=f,C.refreshInterimChain(),c.replace(p,C)):c.set(p,C),C}getTileInternal(e,n,r,i,s){let l=null;const c=RM(e,n,r),a=this.getKey();if(!this.tileCache.containsKey(c))l=this.createTile_(e,n,r,i,s,a),this.tileCache.set(c,l);else if(l=this.tileCache.get(c),l.key!=a){const f=l;l=this.createTile_(e,n,r,i,s,a),f.getState()==Qi.IDLE?l.interimTile=f.interimTile:l.interimTile=f,l.refreshInterimChain(),this.tileCache.replace(c,l)}return l}setRenderReprojectionEdges(e){if(this.renderReprojectionEdges_!=e){this.renderReprojectionEdges_=e;for(const n in this.tileCacheForProjection)this.tileCacheForProjection[n].clear();this.changed()}}setTileGridForProjection(e,n){const r=Uf(e);if(r){const i=Mi(r);i in this.tileGridForProjection||(this.tileGridForProjection[i]=n)}}clear(){super.clear();for(const e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}}function but(t,e){t.getImage().src=e}class qY{constructor(e){this.rbush_=new Hue(e),this.items_={}}insert(e,n){const r={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:n};this.rbush_.insert(r),this.items_[Mi(n)]=r}load(e,n){const r=new Array(n.length);for(let i=0,s=n.length;i<s;i++){const l=e[i],c=n[i],a={minX:l[0],minY:l[1],maxX:l[2],maxY:l[3],value:c};r[i]=a,this.items_[Mi(c)]=a}this.rbush_.load(r)}remove(e){const n=Mi(e),r=this.items_[n];return delete this.items_[n],this.rbush_.remove(r)!==null}update(e,n){const r=this.items_[Mi(n)],i=[r.minX,r.minY,r.maxX,r.maxY];v1(i,e)||(this.remove(n),this.insert(e,n))}getAll(){return this.rbush_.all().map(function(n){return n.value})}getInExtent(e){const n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(n).map(function(i){return i.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,n){return this.forEach_(this.getInExtent(e),n)}forEach_(e,n){let r;for(let i=0,s=e.length;i<s;i++)if(r=n(e[i]),r)return r;return r}isEmpty(){return z2(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const n=this.rbush_.toJSON();return Im(n.minX,n.minY,n.maxX,n.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const n in e.items_)this.items_[n]=e.items_[n]}}class OM extends D1{constructor(e,n,r){super(),r!==void 0&&n===void 0?this.setFlatCoordinates(r,e):(n=n||0,this.setCenterAndRadius(e,n,r))}clone(){const e=new OM(this.flatCoordinates.slice(),void 0,this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){const s=this.flatCoordinates,l=e-s[0],c=n-s[1],a=l*l+c*c;if(a<i){if(a===0)for(let f=0;f<this.stride;++f)r[f]=s[f];else{const f=this.getRadius()/Math.sqrt(a);r[0]=s[0]+f*l,r[1]=s[1]+f*c;for(let p=2;p<this.stride;++p)r[p]=s[p]}return r.length=this.stride,a}return i}containsXY(e,n){const r=this.flatCoordinates,i=e-r[0],s=n-r[1];return i*i+s*s<=this.getRadiusSquared_()}getCenter(){return this.flatCoordinates.slice(0,this.stride)}computeExtent(e){const n=this.flatCoordinates,r=n[this.stride]-n[0];return Im(n[0]-r,n[1]-r,n[0]+r,n[1]+r,e)}getRadius(){return Math.sqrt(this.getRadiusSquared_())}getRadiusSquared_(){const e=this.flatCoordinates[this.stride]-this.flatCoordinates[0],n=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+n*n}getType(){return"Circle"}intersectsExtent(e){const n=this.getExtent();if(su(e,n)){const r=this.getCenter();return e[0]<=r[0]&&e[2]>=r[0]||e[1]<=r[1]&&e[3]>=r[1]?!0:MU(e,this.intersectsCoordinate.bind(this))}return!1}setCenter(e){const n=this.stride,r=this.flatCoordinates[n]-this.flatCoordinates[0],i=e.slice();i[n]=i[0]+r;for(let s=1;s<n;++s)i[n+s]=e[s];this.setFlatCoordinates(this.layout,i),this.changed()}setCenterAndRadius(e,n,r){this.setLayout(r,e,0),this.flatCoordinates||(this.flatCoordinates=[]);const i=this.flatCoordinates;let s=Mue(i,0,e,this.stride);i[s++]=i[0]+n;for(let l=1,c=this.stride;l<c;++l)i[s++]=i[l];i.length=s,this.changed()}getCoordinates(){return null}setCoordinates(e,n){}setRadius(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e,this.changed()}rotate(e,n){const r=this.getCenter(),i=this.getStride();this.setCenter(OU(r,0,r.length,i,e,n,r)),this.changed()}}OM.prototype.transform;function z8(t,e,n,r,i,s,l){let c,a;const f=(n-e)/r;if(f===1)c=e;else if(f===2)c=e,a=i;else if(f!==0){let p=t[e],m=t[e+1],v=0;const y=[0];for(let k=e+r;k<n;k+=r){const M=t[k],P=t[k+1];v+=Math.sqrt((M-p)*(M-p)+(P-m)*(P-m)),y.push(v),p=M,m=P}const T=i*v,C=Wat(y,T);C<0?(a=(T-y[-C-2])/(y[-C-1]-y[-C-2]),c=e+(-C-2)*r):c=e+C*r}l=l>1?l:2,s=s||new Array(l);for(let p=0;p<l;++p)s[p]=c===void 0?NaN:a===void 0?t[c+p]:Nd(t[c+p],t[c+r+p],a);return s}function XO(t,e,n,r,i,s){if(n==e)return null;let l;if(i<t[e+r-1])return s?(l=t.slice(e,e+r),l[r-1]=i,l):null;if(t[n-1]<i)return s?(l=t.slice(n-r,n),l[r-1]=i,l):null;if(i==t[e+r-1])return t.slice(e,e+r);let c=e/r,a=n/r;for(;c<a;){const v=c+a>>1;i<t[(v+1)*r-1]?a=v:c=v+1}const f=t[c*r-1];if(i==f)return t.slice((c-1)*r,(c-1)*r+r);const p=t[(c+1)*r-1],m=(i-f)/(p-f);l=[];for(let v=0;v<r-1;++v)l.push(Nd(t[(c-1)*r+v],t[c*r+v],m));return l.push(i),l}function wut(t,e,n,r,i,s,l){if(l)return XO(t,e,n[n.length-1],r,i,s);let c;if(i<t[r-1])return s?(c=t.slice(0,r),c[r-1]=i,c):null;if(t[t.length-1]<i)return s?(c=t.slice(t.length-r),c[r-1]=i,c):null;for(let a=0,f=n.length;a<f;++a){const p=n[a];if(e!=p){if(i<t[e+r-1])return null;if(i<=t[p-1])return XO(t,e,p,r,i,!1);e=p}}return null}function Ece(t,e,n,r){let i=t[e],s=t[e+1],l=0;for(let c=e+r;c<n;c+=r){const a=t[c],f=t[c+1];l+=Math.sqrt((a-i)*(a-i)+(f-s)*(f-s)),i=a,s=f}return l}class Tf extends D1{constructor(e,n){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}appendCoordinate(e){vm(this.flatCoordinates,e),this.changed()}clone(){const e=new Tf(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){return i<hx(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(DU(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),UU(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,n,r,i))}forEachSegment(e){return Rue(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,n){return this.layout!="XYM"&&this.layout!="XYZM"?null:(n=n!==void 0?n:!1,XO(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n))}getCoordinates(){return jv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,n){return z8(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,this.stride)}getLength(){return Ece(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const n=[];return n.length=BM(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new Tf(n,"XY")}getType(){return"LineString"}intersectsExtent(e){return MM(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=TM(this.flatCoordinates,0,e,this.stride),this.changed()}}class N6 extends D1{constructor(e,n,r){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,n);else if(n!==void 0&&r)this.setFlatCoordinates(n,e),this.ends_=r;else{const i=e,s=[],l=[];for(let a=0,f=i.length;a<f;++a){const p=i[a];vm(s,p.getFlatCoordinates()),l.push(s.length)}const c=i.length===0?this.getLayout():i[0].getLayout();this.setFlatCoordinates(c,s),this.ends_=l}}appendLineString(e){vm(this.flatCoordinates,e.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new N6(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,r,i){return i<hx(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(NU(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),zU(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,n,r,i))}getCoordinateAtM(e,n,r){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(n=n!==void 0?n:!1,r=r!==void 0?r:!1,wut(this.flatCoordinates,0,this.ends_,this.stride,e,n,r))}getCoordinates(){return B6(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new Tf(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,n=this.ends_,r=this.layout,i=[];let s=0;for(let l=0,c=n.length;l<c;++l){const a=n[l],f=new Tf(e.slice(s,a),r);i.push(f),s=a}return i}getFlatMidpoints(){const e=[],n=this.flatCoordinates;let r=0;const i=this.ends_,s=this.stride;for(let l=0,c=i.length;l<c;++l){const a=i[l],f=z8(n,r,a,s,.5);vm(e,f),r=a}return e}getSimplifiedGeometryInternal(e){const n=[],r=[];return n.length=Iue(this.flatCoordinates,0,this.ends_,this.stride,e,n,0,r),new N6(n,"XY",r)}getType(){return"MultiLineString"}intersectsExtent(e){return Qst(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const r=$U(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=r.length===0?0:r[r.length-1],this.changed()}}class hz extends D1{constructor(e,n){super(),n&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}appendPoint(e){vm(this.flatCoordinates,e.getFlatCoordinates()),this.changed()}clone(){const e=new hz(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){if(i<hx(this.getExtent(),e,n))return i;const s=this.flatCoordinates,l=this.stride;for(let c=0,a=s.length;c<a;c+=l){const f=hy(e,n,s[c],s[c+1]);if(f<i){i=f;for(let p=0;p<l;++p)r[p]=s[c+p];r.length=l}}return i}getCoordinates(){return jv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){const n=this.flatCoordinates.length/this.stride;return e<0||n<=e?null:new $p(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,n=this.layout,r=this.stride,i=[];for(let s=0,l=e.length;s<l;s+=r){const c=new $p(e.slice(s,s+r),n);i.push(c)}return i}getType(){return"MultiPoint"}intersectsExtent(e){const n=this.flatCoordinates,r=this.stride;for(let i=0,s=n.length;i<s;i+=r){const l=n[i],c=n[i+1];if(TU(e,l,c))return!0}return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=TM(this.flatCoordinates,0,e,this.stride),this.changed()}}function Sce(t,e,n,r){const i=[];let s=dc();for(let l=0,c=n.length;l<c;++l){const a=n[l];s=BU(t,e,a[0],r),i.push((s[0]+s[2])/2,(s[1]+s[3])/2),e=a[a.length-1]}return i}class Iy extends D1{constructor(e,n,r){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!r&&!Array.isArray(e[0])){const i=e,s=[],l=[];for(let c=0,a=i.length;c<a;++c){const f=i[c],p=s.length,m=f.getEnds();for(let v=0,y=m.length;v<y;++v)m[v]+=p;vm(s,f.getFlatCoordinates()),l.push(m)}n=i.length===0?this.getLayout():i[0].getLayout(),e=s,r=l}n!==void 0&&r?(this.setFlatCoordinates(n,e),this.endss_=r):this.setCoordinates(e,n)}appendPolygon(e){let n;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),n=e.getEnds().slice(),this.endss_.push();else{const r=this.flatCoordinates.length;vm(this.flatCoordinates,e.getFlatCoordinates()),n=e.getEnds().slice();for(let i=0,s=n.length;i<s;++i)n[i]+=r}this.endss_.push(n),this.changed()}clone(){const e=this.endss_.length,n=new Array(e);for(let i=0;i<e;++i)n[i]=this.endss_[i].slice();const r=new Iy(this.flatCoordinates.slice(),this.layout,n);return r.applyProperties(this),r}closestPointXY(e,n,r,i){return i<hx(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Ost(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Dst(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,n,r,i))}containsXY(e,n){return Hst(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,n)}getArea(){return $st(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),bY(n,0,this.endss_,this.stride,e)):n=this.flatCoordinates,NO(n,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=Sce(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Fue(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new hz(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;Kst(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=bY(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],r=[];return n.length=zst(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),n,0,r),new Iy(n,"XY",r)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let n;if(e===0)n=0;else{const s=this.endss_[e-1];n=s[s.length-1]}const r=this.endss_[e].slice(),i=r[r.length-1];if(n!==0)for(let s=0,l=r.length;s<l;++s)r[s]-=n;return new zf(this.flatCoordinates.slice(n,i),this.layout,r)}getPolygons(){const e=this.layout,n=this.flatCoordinates,r=this.endss_,i=[];let s=0;for(let l=0,c=r.length;l<c;++l){const a=r[l].slice(),f=a[a.length-1];if(s!==0)for(let m=0,v=a.length;m<v;++m)a[m]-=s;const p=new zf(n.slice(s,f),e,a);i.push(p),s=f}return i}getType(){return"MultiPolygon"}intersectsExtent(e){return jst(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const r=Nst(this.flatCoordinates,0,e,this.stride,this.endss_);if(r.length===0)this.flatCoordinates.length=0;else{const i=r[r.length-1];this.flatCoordinates.length=i.length===0?0:i[i.length-1]}this.changed()}}const YY=Qo();class Od{constructor(e,n,r,i,s,l){this.styleFunction,this.extent_,this.id_=l,this.type_=e,this.flatCoordinates_=n,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=r||null,this.properties_=s,this.squaredTolerance_,this.stride_=i,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?wue(this.flatCoordinates_):BU(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const e=iA(this.getExtent());this.flatInteriorPoints_=QU(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const e=Uue(this.flatCoordinates_,this.ends_),n=Sce(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=Fue(this.flatCoordinates_,0,e,2,n)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=z8(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const e=this.flatCoordinates_;let n=0;const r=this.ends_;for(let i=0,s=r.length;i<s;++i){const l=r[i],c=z8(e,n,l,2,.5);vm(this.flatMidpoints_,c),n=l}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,n){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){e=Uf(e);const n=e.getExtent(),r=e.getWorldExtent();if(n&&r){const i=xu(r)/xu(n);qh(YY,r[0],r[3],i,-i,0,0,0),_m(this.flatCoordinates_,0,this.flatCoordinates_.length,2,YY,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){var e;return new Od(this.type_,this.flatCoordinates_.slice(),(e=this.ends_)==null?void 0:e.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=vue((e,n)=>{if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),n&&this.simplifiedGeometry_.applyTransform(n);const r=this.simplifiedGeometry_.getFlatCoordinates();let i;switch(this.type_){case"LineString":r.length=BM(r,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,r,0),i=[r.length];break;case"MultiLineString":i=[],r.length=Iue(r,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,r,0,i);break;case"Polygon":i=[],r.length=VU(r,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),r,0,i);break}return i&&(this.simplifiedGeometry_=new Od(this.type_,r,i,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_}),this}}Od.prototype.getFlatCoordinates=Od.prototype.getOrientedFlatCoordinates;const iu={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function xut(t,e){return[[-1/0,-1/0,1/0,1/0]]}let Cut=!1;function Eut(t,e,n,r,i,s,l){const c=new XMLHttpRequest;c.open("GET",typeof t=="function"?t(n,r,i):t,!0),e.getType()=="arraybuffer"&&(c.responseType="arraybuffer"),c.withCredentials=Cut,c.onload=function(a){if(!c.status||c.status>=200&&c.status<300){const f=e.getType();let p;f=="json"?p=JSON.parse(c.responseText):f=="text"?p=c.responseText:f=="xml"?(p=c.responseXML,p||(p=new DOMParser().parseFromString(c.responseText,"application/xml"))):f=="arraybuffer"&&(p=c.response),p?s(e.readFeatures(p,{extent:n,featureProjection:i}),e.readProjection(p)):l()}else l()},c.onerror=l,c.send()}function XY(t,e){return function(n,r,i,s,l){const c=this;Eut(t,e,n,r,i,function(a,f){c.addFeatures(a),s!==void 0&&s(a)},l||U2)}}class Av extends S0{constructor(e,n,r){super(e),this.feature=n,this.features=r}}class Tce extends lz{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=U2,this.format_=e.format,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(es(this.format_,"`format` must be set when `url` is set"),this.loader_=XY(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:xut;const n=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=n?new qY:null,this.loadedExtentsRtree_=new qY,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let r,i;Array.isArray(e.features)?i=e.features:e.features&&(r=e.features,i=r.getArray()),!n&&r===void 0&&(r=new Sf(i)),i!==void 0&&this.addFeaturesInternal(i),r!==void 0&&this.bindFeaturesCollection_(r)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const n=Mi(e);if(!this.addToIndex_(n,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(n,e);const r=e.getGeometry();if(r){const i=r.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,e)}else this.nullGeometryFeatures_[n]=e;this.dispatchEvent(new Av(iu.ADDFEATURE,e))}setupChangeEvents_(e,n){n instanceof Od||(this.featureChangeKeys_[e]=[Ha(n,Ra.CHANGE,this.handleFeatureChange_,this),Ha(n,N2.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(e,n){let r=!0;if(n.getId()!==void 0){const i=String(n.getId());if(!(i in this.idIndex_))this.idIndex_[i]=n;else if(n instanceof Od){const s=this.idIndex_[i];s instanceof Od?Array.isArray(s)?s.push(n):this.idIndex_[i]=[s,n]:r=!1}else r=!1}return r&&(es(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=n),r}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const n=[],r=[],i=[];for(let s=0,l=e.length;s<l;s++){const c=e[s],a=Mi(c);this.addToIndex_(a,c)&&r.push(c)}for(let s=0,l=r.length;s<l;s++){const c=r[s],a=Mi(c);this.setupChangeEvents_(a,c);const f=c.getGeometry();if(f){const p=f.getExtent();n.push(p),i.push(c)}else this.nullGeometryFeatures_[a]=c}if(this.featuresRtree_&&this.featuresRtree_.load(n,i),this.hasListener(iu.ADDFEATURE))for(let s=0,l=r.length;s<l;s++)this.dispatchEvent(new Av(iu.ADDFEATURE,r[s]))}bindFeaturesCollection_(e){let n=!1;this.addEventListener(iu.ADDFEATURE,function(r){n||(n=!0,e.push(r.feature),n=!1)}),this.addEventListener(iu.REMOVEFEATURE,function(r){n||(n=!0,e.remove(r.feature),n=!1)}),e.addEventListener(Dh.ADD,r=>{n||(n=!0,this.addFeature(r.element),n=!1)}),e.addEventListener(Dh.REMOVE,r=>{n||(n=!0,this.removeFeature(r.element),n=!1)}),this.featuresCollection_=e}clear(e){if(e){for(const r in this.featureChangeKeys_)this.featureChangeKeys_[r].forEach(Eo);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){const r=i=>{this.removeFeatureInternal(i)};this.featuresRtree_.forEach(r);for(const i in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const n=new Av(iu.CLEAR);this.dispatchEvent(n),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,n){const r=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(r,function(i){const s=i.getGeometry();if(s instanceof Od||s.intersectsCoordinate(e))return n(i)})}forEachFeatureInExtent(e,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)}forEachFeatureIntersectingExtent(e,n){return this.forEachFeatureInExtent(e,function(r){const i=r.getGeometry();if(i instanceof Od||i.intersectsExtent(e)){const s=n(r);if(s)return s}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),z2(this.nullGeometryFeatures_)||vm(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const n=[];return this.forEachFeatureAtCoordinateDirect(e,function(r){n.push(r)}),n}getFeaturesInExtent(e,n){if(this.featuresRtree_){if(!(n&&n.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const i=lst(e,n);return[].concat(...i.map(s=>this.featuresRtree_.getInExtent(s)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,n){const r=e[0],i=e[1];let s=null;const l=[NaN,NaN];let c=1/0;const a=[-1/0,-1/0,1/0,1/0];return n=n||E6,this.featuresRtree_.forEachInExtent(a,function(f){if(n(f)){const p=f.getGeometry(),m=c;if(c=p instanceof Od?0:p.closestPointXY(r,i,l,c),c<m){s=f;const v=Math.sqrt(c);a[0]=r-v,a[1]=i-v,a[2]=r+v,a[3]=i+v}}}),s}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const n=this.idIndex_[e.toString()];return n!==void 0?n:null}getFeatureByUid(e){const n=this.uidIndex_[e];return n!==void 0?n:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const n=e.target,r=Mi(n),i=n.getGeometry();if(!i)r in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[r]=n);else{const l=i.getExtent();r in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[r],this.featuresRtree_&&this.featuresRtree_.insert(l,n)):this.featuresRtree_&&this.featuresRtree_.update(l,n)}const s=n.getId();if(s!==void 0){const l=s.toString();this.idIndex_[l]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[l]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[r]=n;this.changed(),this.dispatchEvent(new Av(iu.CHANGEFEATURE,n))}hasFeature(e){const n=e.getId();return n!==void 0?n in this.idIndex_:Mi(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&z2(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,n,r){const i=this.loadedExtentsRtree_,s=this.strategy_(e,n,r);for(let l=0,c=s.length;l<c;++l){const a=s[l];i.forEachInExtent(a,function(p){return Qv(p.extent,a)})||(++this.loadingExtentsCount_,this.dispatchEvent(new Av(iu.FEATURESLOADSTART)),this.loader_.call(this,a,n,r,p=>{--this.loadingExtentsCount_,this.dispatchEvent(new Av(iu.FEATURESLOADEND,void 0,p))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new Av(iu.FEATURESLOADERROR))}),i.insert(a,{extent:a.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const n=this.loadedExtentsRtree_;let r;n.forEachInExtent(e,function(i){if(v1(i.extent,e))return r=i,!0}),r&&n.remove(r)}removeFeatures(e){const n=[];for(let r=0,i=e.length;r<i;++r){const s=e[r],l=this.removeFeatureInternal(s);l&&n.push(l)}n.length>0&&this.changed()}removeFeature(e){if(!e)return;this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const n=Mi(e);n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(e);const r=this.featureChangeKeys_[n];if(!r)return;r.forEach(Eo),delete this.featureChangeKeys_[n];const i=e.getId();return i!==void 0&&delete this.idIndex_[i.toString()],delete this.uidIndex_[n],this.hasListener(iu.REMOVEFEATURE)&&this.dispatchEvent(new Av(iu.REMOVEFEATURE,e)),e}removeFromIdIndex_(e){let n=!1;for(const r in this.idIndex_){const i=this.idIndex_[r];if(e instanceof Od&&Array.isArray(i)&&i.includes(e))i.splice(i.indexOf(e),1);else if(this.idIndex_[r]===e){delete this.idIndex_[r],n=!0;break}}return n}setLoader(e){this.loader_=e}setUrl(e){es(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(XY(e,this.format_))}}const ZY=4;function $8(t,e){const n=[];Object.keys(e).forEach(function(i){e[i]!==null&&e[i]!==void 0&&n.push(i+"="+encodeURIComponent(e[i]))});const r=n.join("&");return t=t.replace(/[?&]$/,""),t+=t.includes("?")?"&":"?",t+r}const ZO="1.3.0";function Sut(t,e,n,r,i){i.WIDTH=n[0],i.HEIGHT=n[1];const s=r.getAxisOrientation();let l;const c=Sue(i.VERSION,"1.3")>=0;return i[c?"CRS":"SRS"]=r.getCode(),c&&s.substr(0,2)=="ne"?l=[e[1],e[0],e[3],e[2]]:l=e,i.BBOX=l.join(","),$8(t,i)}function Tut(t,e,n,r,i,s,l){s=Object.assign({REQUEST:"GetMap"},s);const c=e/n,a=[pY(ds(t)/c,ZY),pY(xu(t)/c,ZY)];if(n!=1)switch(l){case"geoserver":const p=90*n+.5|0;"FORMAT_OPTIONS"in s?s.FORMAT_OPTIONS+=";dpi:"+p:s.FORMAT_OPTIONS="dpi:"+p;break;case"mapserver":s.MAP_RESOLUTION=90*n;break;case"carmentaserver":case"qgis":s.DPI=90*n;break;default:throw new Error("Unknown `serverType` configured")}return Sut(i,t,a,r,s)}function JY(t,e){return Object.assign({REQUEST:e,SERVICE:"WMS",VERSION:ZO,FORMAT:"image/png",STYLES:"",TRANSPARENT:!0},t)}class But extends jy{constructor(e){e=e||{},super(e)}}class Bce extends M5{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.declutterExecutorGroup=null}getFeatures(e){return gs()}getData(e){return null}prepareFrame(e){return gs()}renderFrame(e,n){return gs()}loadedTileCallback(e,n,r){e[n]||(e[n]={}),e[n][r.tileCoord.toString()]=r}createLoadedTileFinder(e,n,r){return(i,s)=>{const l=this.loadedTileCallback.bind(this,r,i);return e.forEachLoadedTile(n,i,s,l)}}forEachFeatureAtCoordinate(e,n,r,i,s){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const n=e.target;(n.getState()===Va.LOADED||n.getState()===Va.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let n=e.getState();return n!=Va.LOADED&&n!=Va.ERROR&&e.addEventListener(Ra.CHANGE,this.boundHandleImageChange_),n==Va.IDLE&&(e.load(),n=e.getState()),n==Va.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}}class dz{constructor(){oi(this,"pushMethodArgs_",(...e)=>(this.instructions_[this.zIndex+this.offset_].push(e),this));this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(CanvasRenderingContext2D.prototype,{get:(e,n)=>{if(typeof zO()[n]=="function")return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n),this.pushMethodArgs_},set:(e,n,r)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n,r),!0)})}getContext(){return this.context_}draw(e){this.instructions_.forEach(n=>{for(let r=0,i=n.length;r<i;r+=2){const s=n[r],l=n[r+1];if(typeof e[s]=="function")e[s](...l);else{if(typeof l=="function"){e[s]=l(e);continue}e[s]=l}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const eX=[];let _w=null;function Mut(){_w=Ku(1,1,void 0,{willReadFrequently:!0})}class fz extends Bce{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=Qo(),this.pixelTransform=Qo(),this.inversePixelTransform=Qo(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(e,n,r){_w||Mut(),_w.clearRect(0,0,1,1);let i;try{_w.drawImage(e,n,r,1,1,0,0,1,1),i=_w.getImageData(0,0,1,1).data}catch{return _w=null,null}return i}getBackground(e){let r=this.getLayer().getBackground();return typeof r=="function"&&(r=r(e.viewState.resolution)),r||void 0}useContainer(e,n,r){const i=this.getLayer().getClassName();let s,l;if(e&&e.className===i&&(!r||e&&e.style.backgroundColor&&T0(Lm(e.style.backgroundColor),Lm(r)))){const c=e.firstElementChild;c instanceof HTMLCanvasElement&&(l=c.getContext("2d"))}if(l&&l.canvas.style.transform===n?(this.container=e,this.context=l,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){s=document.createElement("div"),s.className=i;let c=s.style;c.position="absolute",c.width="100%",c.height="100%",l=Ku();const a=l.canvas;s.appendChild(a),c=a.style,c.position="absolute",c.left="0",c.transformOrigin="top left",this.container=s,this.context=l}!this.containerReused&&r&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=r)}clipUnrotated(e,n,r){const i=O1(r),s=CM(r),l=xM(r),c=wM(r);Fo(n.coordinateToPixelTransform,i),Fo(n.coordinateToPixelTransform,s),Fo(n.coordinateToPixelTransform,l),Fo(n.coordinateToPixelTransform,c);const a=this.inversePixelTransform;Fo(a,i),Fo(a,s),Fo(a,l),Fo(a,c),e.save(),e.beginPath(),e.moveTo(Math.round(i[0]),Math.round(i[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(l[0]),Math.round(l[1])),e.lineTo(Math.round(c[0]),Math.round(c[1])),e.clip()}dispatchRenderEvent_(e,n,r){const i=this.getLayer();if(i.hasListener(e)){const s=new BC(e,this.inversePixelTransform,r,n);i.dispatchEvent(s)}}preRender(e,n){this.frameState=n,!n.declutter&&this.dispatchRenderEvent_(ju.PRERENDER,e,n)}postRender(e,n){n.declutter||this.dispatchRenderEvent_(ju.POSTRENDER,e,n)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new dz),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(ju.PRERENDER,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(ju.POSTRENDER,this.context,e))}getRenderTransform(e,n,r,i,s,l,c){const a=s/2,f=l/2,p=i/n,m=-p,v=-e[0]+c,y=-e[1];return qh(this.tempTransform,a,f,p,m,-r,v,y)}disposeInternal(){delete this.frameState,super.disposeInternal()}}class Iut extends fz{constructor(e){super(e),this.image_=null}getImage(){return this.image_?this.image_.getImage():null}prepareFrame(e){const n=e.layerStatesArray[e.layerIndex],r=e.pixelRatio,i=e.viewState,s=i.resolution,l=this.getLayer().getSource(),c=e.viewHints;let a=e.extent;if(n.extent!==void 0&&(a=cy(a,Yg(n.extent,i.projection))),!c[to.ANIMATING]&&!c[to.INTERACTING]&&!dx(a))if(l){const f=i.projection,p=l.getImage(a,s,r,f);p&&(this.loadImage(p)?this.image_=p:p.getState()===Va.EMPTY&&(this.image_=null))}else this.image_=null;return!!this.image_}getData(e){const n=this.frameState;if(!n)return null;const r=this.getLayer(),i=Fo(n.pixelToCoordinateTransform,e.slice()),s=r.getExtent();if(s&&!g1(s,i))return null;const l=this.image_.getExtent(),c=this.image_.getImage(),a=ds(l),f=Math.floor(c.width*((i[0]-l[0])/a));if(f<0||f>=c.width)return null;const p=xu(l),m=Math.floor(c.height*((l[3]-i[1])/p));return m<0||m>=c.height?null:this.getImageData(c,f,m)}renderFrame(e,n){const r=this.image_,i=r.getExtent(),s=r.getResolution(),[l,c]=Array.isArray(s)?s:[s,s],a=r.getPixelRatio(),f=e.layerStatesArray[e.layerIndex],p=e.pixelRatio,m=e.viewState,v=m.center,y=m.resolution,T=p*l/(y*a),C=p*c/(y*a),k=e.extent,M=m.resolution,P=m.rotation,R=Math.round(ds(k)/M*p),N=Math.round(xu(k)/M*p);qh(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/p,1/p,P,-R/2,-N/2),m1(this.inversePixelTransform,this.pixelTransform);const z=SU(this.pixelTransform);this.useContainer(n,z,this.getBackground(e));const H=this.getRenderContext(e),j=this.context.canvas;j.width!=R||j.height!=N?(j.width=R,j.height=N):this.containerReused||H.clearRect(0,0,R,N);let Q=!1,G=!0;if(f.extent){const he=Yg(f.extent,m.projection);G=su(he,e.extent),Q=G&&!Qv(he,e.extent),Q&&this.clipUnrotated(H,e,he)}const ie=r.getImage(),q=qh(this.tempTransform,R/2,N/2,T,C,0,a*(i[0]-v[0])/l,a*(v[1]-i[3])/c);this.renderedResolution=c*p/a;const W=ie.width*q[0],ee=ie.height*q[3];if(this.getLayer().getSource().getInterpolate()||(H.imageSmoothingEnabled=!1),this.preRender(H,e),G&&W>=.5&&ee>=.5){const he=q[4],J=q[5],te=f.opacity;te!==1&&(H.save(),H.globalAlpha=te),H.drawImage(ie,0,0,+ie.width,+ie.height,he,J,W,ee),te!==1&&H.restore()}return this.postRender(this.context,e),Q&&H.restore(),H.imageSmoothingEnabled=!0,z!==j.style.transform&&(j.style.transform=z),this.container}}class Lut extends But{constructor(e){super(e)}createRenderer(){return new Iut(this)}getData(e){return super.getData(e)}}const Kv={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class kut extends jy{constructor(e){e=e||{};const n=Object.assign({},e);delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getPreload(){return this.get(Kv.PRELOAD)}setPreload(e){this.set(Kv.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(Kv.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(Kv.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}class Mce extends fz{constructor(e){super(e),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=dc(),this.tmpTileRange_=new uz(0,0,0,0)}isDrawableTile(e){const n=this.getLayer(),r=e.getState(),i=n.getUseInterimTilesOnError();return r==Qi.LOADED||r==Qi.EMPTY||r==Qi.ERROR&&!i}getTile(e,n,r,i){const s=i.pixelRatio,l=i.viewState.projection,c=this.getLayer();let f=c.getSource().getTile(e,n,r,s,l);return f.getState()==Qi.ERROR&&c.getUseInterimTilesOnError()&&c.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(f)||(f=f.getInterimTile()),f}getData(e){const n=this.frameState;if(!n)return null;const r=this.getLayer(),i=Fo(n.pixelToCoordinateTransform,e.slice()),s=r.getExtent();if(s&&!g1(s,i))return null;const l=n.pixelRatio,c=n.viewState.projection,a=n.viewState,f=r.getRenderSource(),p=f.getTileGridForProjection(a.projection),m=f.getTilePixelRatio(n.pixelRatio);for(let v=p.getZForResolution(a.resolution);v>=p.getMinZoom();--v){const y=p.getTileCoordForCoordAndZ(i,v),T=f.getTile(v,y[1],y[2],l,c);if(!(T instanceof Ace||T instanceof qO)||T instanceof qO&&T.getState()===Qi.EMPTY)return null;if(T.getState()!==Qi.LOADED)continue;const C=p.getOrigin(v),k=Vh(p.getTileSize(v)),M=p.getResolution(v),P=Math.floor(m*((i[0]-C[0])/M-y[1]*k[0])),R=Math.floor(m*((C[1]-i[1])/M-y[2]*k[1])),N=Math.round(m*f.getGutterForProjection(a.projection));return this.getImageData(T.getImage(),P+N,R+N)}return null}loadedTileCallback(e,n,r){return this.isDrawableTile(r)?super.loadedTileCallback(e,n,r):!1}prepareFrame(e){return!!this.getLayer().getSource()}renderFrame(e,n){const r=e.layerStatesArray[e.layerIndex],i=e.viewState,s=i.projection,l=i.resolution,c=i.center,a=i.rotation,f=e.pixelRatio,p=this.getLayer(),m=p.getSource(),v=m.getRevision(),y=m.getTileGridForProjection(s),T=y.getZForResolution(l,m.zDirection),C=y.getResolution(T);let k=e.extent;const M=e.viewState.resolution,P=m.getTilePixelRatio(f),R=Math.round(ds(k)/M*f),N=Math.round(xu(k)/M*f),z=r.extent&&Yg(r.extent);z&&(k=cy(k,Yg(r.extent)));const H=C*R/2/P,j=C*N/2/P,Q=[c[0]-H,c[1]-j,c[0]+H,c[1]+j],G=y.getTileRangeForExtentAndZ(k,T),ie={};ie[T]={};const q=this.createLoadedTileFinder(m,s,ie),W=this.tmpExtent,ee=this.tmpTileRange_;this.newTiles_=!1;const he=a?FO(i.center,M,a,e.size):void 0;for(let oe=G.minX;oe<=G.maxX;++oe)for(let _e=G.minY;_e<=G.maxY;++_e){if(a&&!y.tileCoordIntersectsViewport([T,oe,_e],he))continue;const Ue=this.getTile(T,oe,_e,e);if(this.isDrawableTile(Ue)){const Re=Mi(this);if(Ue.getState()==Qi.LOADED){ie[T][Ue.tileCoord.toString()]=Ue;let Qe=Ue.inTransition(Re);Qe&&r.opacity!==1&&(Ue.endTransition(Re),Qe=!1),!this.newTiles_&&(Qe||!this.renderedTiles.includes(Ue))&&(this.newTiles_=!0)}if(Ue.getAlpha(Re,e.time)===1)continue}const Le=y.getTileCoordChildTileRange(Ue.tileCoord,ee,W);let be=!1;Le&&(be=q(T+1,Le)),be||y.forEachTileCoordParentTileRange(Ue.tileCoord,q,ee,W)}const J=C/l*f/P;qh(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/f,1/f,a,-R/2,-N/2);const te=SU(this.pixelTransform);this.useContainer(n,te,this.getBackground(e));const ne=this.getRenderContext(e),ce=this.context.canvas;m1(this.inversePixelTransform,this.pixelTransform),qh(this.tempTransform,R/2,N/2,J,J,0,-R/2,-N/2),ce.width!=R||ce.height!=N?(ce.width=R,ce.height=N):this.containerReused||ne.clearRect(0,0,R,N),z&&this.clipUnrotated(ne,e,z),m.getInterpolate()||(ne.imageSmoothingEnabled=!1),this.preRender(ne,e),this.renderedTiles.length=0;let ue=Object.keys(ie).map(Number);ue.sort(gm);let ye,Ee,se;r.opacity===1&&(!this.containerReused||m.getOpaque(e.viewState.projection))?ue=ue.reverse():(ye=[],Ee=[]);for(let oe=ue.length-1;oe>=0;--oe){const _e=ue[oe],Ue=m.getTilePixelSize(_e,f,s),be=y.getResolution(_e)/C,Re=Ue[0]*be*J,Qe=Ue[1]*be*J,Je=y.getTileCoordForCoordAndZ(O1(Q),_e),nt=y.getTileCoordExtent(Je),Ve=Fo(this.tempTransform,[P*(nt[0]-Q[0])/C,P*(Q[3]-nt[3])/C]),ke=P*m.getGutterForProjection(s),Ge=ie[_e];for(const Ne in Ge){const je=Ge[Ne],Ye=je.tileCoord,vt=Je[1]-Ye[1],Lt=Math.round(Ve[0]-(vt-1)*Re),Et=Je[2]-Ye[2],Vt=Math.round(Ve[1]-(Et-1)*Qe),_t=Math.round(Ve[0]-vt*Re),qt=Math.round(Ve[1]-Et*Qe),tn=Lt-_t,Nt=Vt-qt,wt=T===_e,De=wt&&je.getAlpha(Mi(this),e.time)!==1;let We=!1;if(!De)if(ye){se=[_t,qt,_t+tn,qt,_t+tn,qt+Nt,_t,qt+Nt];for(let ut=0,It=ye.length;ut<It;++ut)if(T!==_e&&_e<Ee[ut]){const Xe=ye[ut];su([_t,qt,_t+tn,qt+Nt],[Xe[0],Xe[3],Xe[4],Xe[7]])&&(We||(ne.save(),We=!0),ne.beginPath(),ne.moveTo(se[0],se[1]),ne.lineTo(se[2],se[3]),ne.lineTo(se[4],se[5]),ne.lineTo(se[6],se[7]),ne.moveTo(Xe[6],Xe[7]),ne.lineTo(Xe[4],Xe[5]),ne.lineTo(Xe[2],Xe[3]),ne.lineTo(Xe[0],Xe[1]),ne.clip())}ye.push(se),Ee.push(_e)}else ne.clearRect(_t,qt,tn,Nt);this.drawTileImage(je,e,_t,qt,tn,Nt,ke,wt),ye&&!De?(We&&ne.restore(),this.renderedTiles.unshift(je)):this.renderedTiles.push(je),this.updateUsedTiles(e.usedTiles,m,je)}}return this.renderedRevision=v,this.renderedResolution=C,this.extentChanged=!this.renderedExtent_||!v1(this.renderedExtent_,Q),this.renderedExtent_=Q,this.renderedPixelRatio=f,this.renderedProjection=s,this.manageTilePyramid(e,m,y,f,s,k,T,p.getPreload()),this.scheduleExpireCache(e,m),this.postRender(this.context,e),r.extent&&ne.restore(),ne.imageSmoothingEnabled=!0,te!==ce.style.transform&&(ce.style.transform=te),this.container}drawTileImage(e,n,r,i,s,l,c,a){const f=this.getTileImage(e);if(!f)return;const p=this.getRenderContext(n),m=Mi(this),v=n.layerStatesArray[n.layerIndex],y=v.opacity*(a?e.getAlpha(m,n.time):1),T=y!==p.globalAlpha;T&&(p.save(),p.globalAlpha=y),p.drawImage(f,c,c,f.width-2*c,f.height-2*c,r,i,s,l),T&&p.restore(),y!==v.opacity?n.animate=!0:a&&e.endTransition(m)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}scheduleExpireCache(e,n){if(n.canExpireCache()){const r=(function(i,s,l){const c=Mi(i);c in l.usedTiles&&i.expireCache(l.viewState.projection,l.usedTiles[c])}).bind(null,n);e.postRenderFunctions.push(r)}}updateUsedTiles(e,n,r){const i=Mi(n);i in e||(e[i]={}),e[i][r.getKey()]=!0}manageTilePyramid(e,n,r,i,s,l,c,a,f){const p=Mi(n);p in e.wantedTiles||(e.wantedTiles[p]={});const m=e.wantedTiles[p],v=e.tileQueue,y=r.getMinZoom(),T=e.viewState.rotation,C=T?FO(e.viewState.center,e.viewState.resolution,T,e.size):void 0;let k=0,M,P,R,N,z,H;for(H=y;H<=c;++H)for(P=r.getTileRangeForExtentAndZ(l,H,P),R=r.getResolution(H),N=P.minX;N<=P.maxX;++N)for(z=P.minY;z<=P.maxY;++z)T&&!r.tileCoordIntersectsViewport([H,N,z],C)||(c-H<=a?(++k,M=n.getTile(H,N,z,i,s),M.getState()==Qi.IDLE&&(m[M.getKey()]=!0,v.isKeyQueued(M.getKey())||v.enqueue([M,p,r.getTileCoordCenter(M.tileCoord),R])),f!==void 0&&f(M)):n.useTile(H,N,z,s));n.updateCacheSize(k,s)}}class tX extends kut{constructor(e){super(e)}createRenderer(){return new Mce(this)}}class Put extends Cce{constructor(e){e=e||{};const n=Object.assign({},e.params),r="TRANSPARENT"in n?n.TRANSPARENT:!0;super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:!r,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0,this.params_=n,this.v13_=!0,this.serverType_=e.serverType,this.hidpi_=e.hidpi!==void 0?e.hidpi:!0,this.tmpExtent_=dc(),this.updateV13_(),this.setKey(this.getKeyForParams_())}getFeatureInfoUrl(e,n,r,i){const s=Uf(r),l=this.getProjection()||s;let c=this.getTileGrid();c||(c=this.getTileGridForProjection(l));const a=c0(e,s,l),f=WO(l,s,e,n),p=c.getZForResolution(f,this.zDirection),m=c.getResolution(p),v=c.getTileCoordForCoordAndZ(a,p);if(c.getResolutions().length<=v[0])return;let y=c.getTileCoordExtent(v,this.tmpExtent_);const T=this.gutter_;T!==0&&(y=rA(y,m*T,y));const C={QUERY_LAYERS:this.params_.LAYERS};Object.assign(C,JY(this.params_,"GetFeatureInfo"),i);const k=Math.floor((a[0]-y[0])/m),M=Math.floor((y[3]-a[1])/m);return C[this.v13_?"I":"X"]=k,C[this.v13_?"J":"Y"]=M,this.getRequestUrl_(v,y,1,l||s,C)}getLegendUrl(e,n){if(this.urls[0]===void 0)return;const r={SERVICE:"WMS",VERSION:ZO,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(n===void 0||n.LAYER===void 0){const i=this.params_.LAYERS;if(!(!Array.isArray(i)||i.length===1))return;r.LAYER=i}if(e!==void 0){const i=this.getProjection()?this.getProjection().getMetersPerUnit():1,s=28e-5;r.SCALE=e*i/s}return Object.assign(r,n),$8(this.urls[0],r)}getGutter(){return this.gutter_}getParams(){return this.params_}getRequestUrl_(e,n,r,i,s){const l=this.urls;if(!l)return;let c;if(l.length==1)c=l[0];else{const a=dy(gce(e),l.length);c=l[a]}return Tut(n,(this.tileGrid||this.getTileGridForProjection(i)).getResolution(e[0]),r,i,c,s,this.serverType_)}getTilePixelRatio(e){return!this.hidpi_||this.serverType_===void 0?1:e}getKeyForParams_(){let e=0;const n=[];for(const r in this.params_)n[e++]=r+"-"+this.params_[r];return n.join("/")}updateParams(e){Object.assign(this.params_,e),this.updateV13_(),this.setKey(this.getKeyForParams_())}updateV13_(){const e=this.params_.VERSION||ZO;this.v13_=Sue(e,"1.3")>=0}tileUrlFunction(e,n,r){let i=this.getTileGrid();if(i||(i=this.getTileGridForProjection(r)),i.getResolutions().length<=e[0])return;n!=1&&(!this.hidpi_||this.serverType_===void 0)&&(n=1);const s=i.getResolution(e[0]);let l=i.getTileCoordExtent(e,this.tmpExtent_);const c=this.gutter_;c!==0&&(l=rA(l,s*c,l));const a=Object.assign({},JY(this.params_,"GetMap"));return this.getRequestUrl_(e,l,n,r,a)}}class Fut extends Cce{constructor(e){const n=e.requestEncoding!==void 0?e.requestEncoding:"KVP",r=e.tileGrid;let i=e.urls;i===void 0&&e.url!==void 0&&(i=xce(e.url)),super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:r,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,urls:i,wrapX:e.wrapX!==void 0?e.wrapX:!1,transition:e.transition,zDirection:e.zDirection}),this.version_=e.version!==void 0?e.version:"1.0.0",this.format_=e.format!==void 0?e.format:"image/jpeg",this.dimensions_=e.dimensions!==void 0?e.dimensions:{},this.layer_=e.layer,this.matrixSet_=e.matrixSet,this.style_=e.style,this.requestEncoding_=n,this.setKey(this.getKeyForDimensions_()),i&&i.length>0&&(this.tileUrlFunction=YO(i.map(this.createFromWMTSTemplate.bind(this))))}setUrls(e){this.urls=e;const n=e.join(`
`);this.setTileUrlFunction(YO(e.map(this.createFromWMTSTemplate.bind(this))),n)}getDimensions(){return this.dimensions_}getFormat(){return this.format_}getLayer(){return this.layer_}getMatrixSet(){return this.matrixSet_}getRequestEncoding(){return this.requestEncoding_}getStyle(){return this.style_}getVersion(){return this.version_}getKeyForDimensions_(){const e=this.urls?this.urls.slice(0):[];for(const n in this.dimensions_)e.push(n+"-"+this.dimensions_[n]);return e.join("/")}updateDimensions(e){Object.assign(this.dimensions_,e),this.setKey(this.getKeyForDimensions_())}createFromWMTSTemplate(e){const n=this.requestEncoding_,r={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};n=="KVP"&&Object.assign(r,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),e=n=="KVP"?$8(e,r):e.replace(/\{(\w+?)\}/g,function(l,c){return c.toLowerCase()in r?r[c.toLowerCase()]:l});const i=this.tileGrid,s=this.dimensions_;return function(l,c,a){if(!l)return;const f={TileMatrix:i.getMatrixId(l[0]),TileCol:l[1],TileRow:l[2]};Object.assign(f,s);let p=e;return n=="KVP"?p=$8(p,f):p=p.replace(/\{(\w+?)\}/g,function(m,v){return f[v]}),p}}}const Ji={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},QS=[Ji.FILL],Wv=[Ji.STROKE],X_=[Ji.BEGIN_PATH],nX=[Ji.CLOSE_PATH];class Ice{drawCustom(e,n,r,i,s){}drawGeometry(e){}setStyle(e){}drawCircle(e,n,r){}drawFeature(e,n,r){}drawGeometryCollection(e,n,r){}drawLineString(e,n,r){}drawMultiLineString(e,n,r){}drawMultiPoint(e,n,r){}drawMultiPolygon(e,n,r){}drawPoint(e,n,r){}drawPolygon(e,n,r){}drawText(e,n,r){}setFillStrokeStyle(e,n){}setImageStyle(e,n){}setTextStyle(e,n){}}class D5 extends Ice{constructor(e,n,r,i){super(),this.tolerance=e,this.maxExtent=n,this.pixelRatio=i,this.maxLineWidth=0,this.resolution=r,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const n=this.pixelRatio;return n==1?e:e.map(function(r){return r*n})}appendFlatPointCoordinates(e,n){const r=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,s=this.coordinates;let l=s.length;for(let c=0,a=e.length;c<a;c+=n)i[0]=e[c],i[1]=e[c+1],g1(r,i)&&(s[l++]=i[0],s[l++]=i[1]);return l}appendFlatLineCoordinates(e,n,r,i,s,l){const c=this.coordinates;let a=c.length;const f=this.getBufferedMaxExtent();l&&(n+=i);let p=e[n],m=e[n+1];const v=this.tmpCoordinate_;let y=!0,T,C,k;for(T=n+i;T<r;T+=i)v[0]=e[T],v[1]=e[T+1],k=LO(f,v),k!==C?(y&&(c[a++]=p,c[a++]=m,y=!1),c[a++]=v[0],c[a++]=v[1]):k===Vu.INTERSECTING?(c[a++]=v[0],c[a++]=v[1],y=!1):y=!0,p=v[0],m=v[1],C=k;return(s&&y||T===n+i)&&(c[a++]=p,c[a++]=m),a}drawCustomCoordinates_(e,n,r,i,s){for(let l=0,c=r.length;l<c;++l){const a=r[l],f=this.appendFlatLineCoordinates(e,n,a,i,!1,!1);s.push(f),n=a}return n}drawCustom(e,n,r,i,s){this.beginGeometry(e,n,s);const l=e.getType(),c=e.getStride(),a=this.coordinates.length;let f,p,m,v,y;switch(l){case"MultiPolygon":f=e.getOrientedFlatCoordinates(),v=[];const T=e.getEndss();y=0;for(let C=0,k=T.length;C<k;++C){const M=[];y=this.drawCustomCoordinates_(f,y,T[C],c,M),v.push(M)}this.instructions.push([Ji.CUSTOM,a,v,e,r,NO,s]),this.hitDetectionInstructions.push([Ji.CUSTOM,a,v,e,i||r,NO,s]);break;case"Polygon":case"MultiLineString":m=[],f=l=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),y=this.drawCustomCoordinates_(f,0,e.getEnds(),c,m),this.instructions.push([Ji.CUSTOM,a,m,e,r,B6,s]),this.hitDetectionInstructions.push([Ji.CUSTOM,a,m,e,i||r,B6,s]);break;case"LineString":case"Circle":f=e.getFlatCoordinates(),p=this.appendFlatLineCoordinates(f,0,f.length,c,!1,!1),this.instructions.push([Ji.CUSTOM,a,p,e,r,jv,s]),this.hitDetectionInstructions.push([Ji.CUSTOM,a,p,e,i||r,jv,s]);break;case"MultiPoint":f=e.getFlatCoordinates(),p=this.appendFlatPointCoordinates(f,c),p>a&&(this.instructions.push([Ji.CUSTOM,a,p,e,r,jv,s]),this.hitDetectionInstructions.push([Ji.CUSTOM,a,p,e,i||r,jv,s]));break;case"Point":f=e.getFlatCoordinates(),this.coordinates.push(f[0],f[1]),p=this.coordinates.length,this.instructions.push([Ji.CUSTOM,a,p,e,r,void 0,s]),this.hitDetectionInstructions.push([Ji.CUSTOM,a,p,e,i||r,void 0,s]);break}this.endGeometry(n)}beginGeometry(e,n,r){this.beginGeometryInstruction1_=[Ji.BEGIN_GEOMETRY,n,0,e,r],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Ji.BEGIN_GEOMETRY,n,0,e,r],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;e.reverse();let n;const r=e.length;let i,s,l=-1;for(n=0;n<r;++n)i=e[n],s=i[0],s==Ji.END_GEOMETRY?l=n:s==Ji.BEGIN_GEOMETRY&&(i[2]=n,qat(this.hitDetectionInstructions,l,n),l=-1)}setFillStrokeStyle(e,n){const r=this.state;if(e){const i=e.getColor();r.fillPatternScale=i&&typeof i=="object"&&"src"in i?this.pixelRatio:1,r.fillStyle=cm(i||Nh)}else r.fillStyle=void 0;if(n){const i=n.getColor();r.strokeStyle=cm(i||k6);const s=n.getLineCap();r.lineCap=s!==void 0?s:$2;const l=n.getLineDash();r.lineDash=l?l.slice():Jg;const c=n.getLineDashOffset();r.lineDashOffset=c||e0;const a=n.getLineJoin();r.lineJoin=a!==void 0?a:V2;const f=n.getWidth();r.lineWidth=f!==void 0?f:F6;const p=n.getMiterLimit();r.miterLimit=p!==void 0?p:L6,r.lineWidth>this.maxLineWidth&&(this.maxLineWidth=r.lineWidth,this.bufferedMaxExtent_=null)}else r.strokeStyle=void 0,r.lineCap=void 0,r.lineDash=null,r.lineDashOffset=void 0,r.lineJoin=void 0,r.lineWidth=void 0,r.miterLimit=void 0}createFill(e){const n=e.fillStyle,r=[Ji.SET_FILL_STYLE,n];return typeof n!="string"&&r.push(e.fillPatternScale),r}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[Ji.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,n){const r=e.fillStyle;(typeof r!="string"||e.currentFillStyle!=r)&&(r!==void 0&&this.instructions.push(n.call(this,e)),e.currentFillStyle=r)}updateStrokeStyle(e,n){const r=e.strokeStyle,i=e.lineCap,s=e.lineDash,l=e.lineDashOffset,c=e.lineJoin,a=e.lineWidth,f=e.miterLimit;(e.currentStrokeStyle!=r||e.currentLineCap!=i||s!=e.currentLineDash&&!T0(e.currentLineDash,s)||e.currentLineDashOffset!=l||e.currentLineJoin!=c||e.currentLineWidth!=a||e.currentMiterLimit!=f)&&(r!==void 0&&n.call(this,e),e.currentStrokeStyle=r,e.currentLineCap=i,e.currentLineDash=s,e.currentLineDashOffset=l,e.currentLineJoin=c,e.currentLineWidth=a,e.currentMiterLimit=f)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const n=[Ji.END_GEOMETRY,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=bue(this.maxExtent),this.maxLineWidth>0)){const e=this.resolution*(this.maxLineWidth+1)/2;rA(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class Rut extends D5{constructor(e,n,r,i){super(e,n,r,i),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,n,r){if(!this.image_||this.maxExtent&&!g1(this.maxExtent,e.getFlatCoordinates()))return;this.beginGeometry(e,n,r);const i=e.getFlatCoordinates(),s=e.getStride(),l=this.coordinates.length,c=this.appendFlatPointCoordinates(i,s);this.instructions.push([Ji.DRAW_IMAGE,l,c,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ji.DRAW_IMAGE,l,c,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}drawMultiPoint(e,n,r){if(!this.image_)return;this.beginGeometry(e,n,r);const i=e.getFlatCoordinates(),s=[];for(let a=0,f=i.length;a<f;a+=e.getStride())(!this.maxExtent||g1(this.maxExtent,i.slice(a,a+2)))&&s.push(i[a],i[a+1]);const l=this.coordinates.length,c=this.appendFlatPointCoordinates(s,2);this.instructions.push([Ji.DRAW_IMAGE,l,c,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ji.DRAW_IMAGE,l,c,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,n){const r=e.getAnchor(),i=e.getSize(),s=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=r[0],this.anchorY_=r[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=i[1],this.opacity_=e.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=i[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=n}}class Out extends D5{constructor(e,n,r,i){super(e,n,r,i)}drawFlatCoordinates_(e,n,r,i){const s=this.coordinates.length,l=this.appendFlatLineCoordinates(e,n,r,i,!1,!1),c=[Ji.MOVE_TO_LINE_TO,s,l];return this.instructions.push(c),this.hitDetectionInstructions.push(c),r}drawLineString(e,n,r){const i=this.state,s=i.strokeStyle,l=i.lineWidth;if(s===void 0||l===void 0)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,n,r),this.hitDetectionInstructions.push([Ji.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Jg,e0],X_);const c=e.getFlatCoordinates(),a=e.getStride();this.drawFlatCoordinates_(c,0,c.length,a),this.hitDetectionInstructions.push(Wv),this.endGeometry(n)}drawMultiLineString(e,n,r){const i=this.state,s=i.strokeStyle,l=i.lineWidth;if(s===void 0||l===void 0)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,n,r),this.hitDetectionInstructions.push([Ji.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Jg,e0],X_);const c=e.getEnds(),a=e.getFlatCoordinates(),f=e.getStride();let p=0;for(let m=0,v=c.length;m<v;++m)p=this.drawFlatCoordinates_(a,p,c[m],f);this.hitDetectionInstructions.push(Wv),this.endGeometry(n)}finish(){const e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(Wv),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Wv),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(X_)}}class rX extends D5{constructor(e,n,r,i){super(e,n,r,i)}drawFlatCoordinatess_(e,n,r,i){const s=this.state,l=s.fillStyle!==void 0,c=s.strokeStyle!==void 0,a=r.length;this.instructions.push(X_),this.hitDetectionInstructions.push(X_);for(let f=0;f<a;++f){const p=r[f],m=this.coordinates.length,v=this.appendFlatLineCoordinates(e,n,p,i,!0,!c),y=[Ji.MOVE_TO_LINE_TO,m,v];this.instructions.push(y),this.hitDetectionInstructions.push(y),c&&(this.instructions.push(nX),this.hitDetectionInstructions.push(nX)),n=p}return l&&(this.instructions.push(QS),this.hitDetectionInstructions.push(QS)),c&&(this.instructions.push(Wv),this.hitDetectionInstructions.push(Wv)),n}drawCircle(e,n,r){const i=this.state,s=i.fillStyle,l=i.strokeStyle;if(s===void 0&&l===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ji.SET_FILL_STYLE,Nh]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ji.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Jg,e0]);const c=e.getFlatCoordinates(),a=e.getStride(),f=this.coordinates.length;this.appendFlatLineCoordinates(c,0,c.length,a,!1,!1);const p=[Ji.CIRCLE,f];this.instructions.push(X_,p),this.hitDetectionInstructions.push(X_,p),i.fillStyle!==void 0&&(this.instructions.push(QS),this.hitDetectionInstructions.push(QS)),i.strokeStyle!==void 0&&(this.instructions.push(Wv),this.hitDetectionInstructions.push(Wv)),this.endGeometry(n)}drawPolygon(e,n,r){const i=this.state,s=i.fillStyle,l=i.strokeStyle;if(s===void 0&&l===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ji.SET_FILL_STYLE,Nh]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ji.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Jg,e0]);const c=e.getEnds(),a=e.getOrientedFlatCoordinates(),f=e.getStride();this.drawFlatCoordinatess_(a,0,c,f),this.endGeometry(n)}drawMultiPolygon(e,n,r){const i=this.state,s=i.fillStyle,l=i.strokeStyle;if(s===void 0&&l===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ji.SET_FILL_STYLE,Nh]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ji.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Jg,e0]);const c=e.getEndss(),a=e.getOrientedFlatCoordinates(),f=e.getStride();let p=0;for(let m=0,v=c.length;m<v;++m)p=this.drawFlatCoordinatess_(a,p,c[m],f);this.endGeometry(n)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(e!==0){const n=this.coordinates;for(let r=0,i=n.length;r<i;++r)n[r]=k_(n[r],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;e.fillStyle!==void 0&&this.updateFillStyle(e,this.createFill),e.strokeStyle!==void 0&&this.updateStrokeStyle(e,this.applyStroke)}}function Dut(t,e,n,r,i){const s=[];let l=n,c=0,a=e.slice(n,2);for(;c<t&&l+i<r;){const[f,p]=a.slice(-2),m=e[l+i],v=e[l+i+1],y=Math.sqrt((m-f)*(m-f)+(v-p)*(v-p));if(c+=y,c>=t){const T=(t-c+y)/y,C=Nd(f,m,T),k=Nd(p,v,T);a.push(C,k),s.push(a),a=[C,k],c==t&&(l+=i),c=0}else if(c<t)a.push(e[l+i],e[l+i+1]),l+=i;else{const T=y-c,C=Nd(f,m,T/y),k=Nd(p,v,T/y);a.push(C,k),s.push(a),a=[C,k],c=0,l+=i}}return c>0&&s.push(a),s}function Nut(t,e,n,r,i){let s=n,l=n,c=0,a=0,f=n,p,m,v,y,T,C,k,M,P,R;for(m=n;m<r;m+=i){const N=e[m],z=e[m+1];T!==void 0&&(P=N-T,R=z-C,y=Math.sqrt(P*P+R*R),k!==void 0&&(a+=v,p=Math.acos((k*P+M*R)/(v*y)),p>t&&(a>c&&(c=a,s=f,l=m),a=0,f=m-i)),v=y,k=P,M=R),T=N,C=z}return a+=y,a>c?[f,m]:[s,l]}const V8={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class Uut extends D5{constructor(e,n,r,i){super(e,n,r,i),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[Nh]={fillStyle:Nh},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,n,r){const i=this.textFillState_,s=this.textStrokeState_,l=this.textState_;if(this.text_===""||!l||!i&&!s)return;const c=this.coordinates;let a=c.length;const f=e.getType();let p=null,m=e.getStride();if(l.placement==="line"&&(f=="LineString"||f=="MultiLineString"||f=="Polygon"||f=="MultiPolygon")){if(!su(this.maxExtent,e.getExtent()))return;let v;if(p=e.getFlatCoordinates(),f=="LineString")v=[p.length];else if(f=="MultiLineString")v=e.getEnds();else if(f=="Polygon")v=e.getEnds().slice(0,1);else if(f=="MultiPolygon"){const k=e.getEndss();v=[];for(let M=0,P=k.length;M<P;++M)v.push(k[M][0])}this.beginGeometry(e,n,r);const y=l.repeat,T=y?void 0:l.textAlign;let C=0;for(let k=0,M=v.length;k<M;++k){let P;y?P=Dut(y*this.resolution,p,C,v[k],m):P=[p.slice(C,v[k])];for(let R=0,N=P.length;R<N;++R){const z=P[R];let H=0,j=z.length;if(T==null){const G=Nut(l.maxAngle,z,0,z.length,2);H=G[0],j=G[1]}for(let G=H;G<j;G+=m)c.push(z[G],z[G+1]);const Q=c.length;C=v[k],this.drawChars_(a,Q),a=Q}}this.endGeometry(n)}else{let v=l.overflow?null:[];switch(f){case"Point":case"MultiPoint":p=e.getFlatCoordinates();break;case"LineString":p=e.getFlatMidpoint();break;case"Circle":p=e.getCenter();break;case"MultiLineString":p=e.getFlatMidpoints(),m=2;break;case"Polygon":p=e.getFlatInteriorPoint(),l.overflow||v.push(p[2]/this.resolution),m=3;break;case"MultiPolygon":const P=e.getFlatInteriorPoints();p=[];for(let R=0,N=P.length;R<N;R+=3)l.overflow||v.push(P[R+2]/this.resolution),p.push(P[R],P[R+1]);if(p.length===0)return;m=2;break}const y=this.appendFlatPointCoordinates(p,m);if(y===a)return;if(v&&(y-a)/2!==p.length/m){let P=a/2;v=v.filter((R,N)=>{const z=c[(P+N)*2]===p[N*m]&&c[(P+N)*2+1]===p[N*m+1];return z||--P,z})}this.saveTextStates_(),(l.backgroundFill||l.backgroundStroke)&&(this.setFillStrokeStyle(l.backgroundFill,l.backgroundStroke),l.backgroundFill&&this.updateFillStyle(this.state,this.createFill),l.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,n,r);let T=l.padding;if(T!=Y_&&(l.scale[0]<0||l.scale[1]<0)){let P=l.padding[0],R=l.padding[1],N=l.padding[2],z=l.padding[3];l.scale[0]<0&&(R=-R,z=-z),l.scale[1]<0&&(P=-P,N=-N),T=[P,R,N,z]}const C=this.pixelRatio;this.instructions.push([Ji.DRAW_IMAGE,a,y,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,T==Y_?Y_:T.map(function(P){return P*C}),!!l.backgroundFill,!!l.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,v]);const k=1/C,M=this.state.fillStyle;l.backgroundFill&&(this.state.fillStyle=Nh,this.hitDetectionInstructions.push(this.createFill(this.state))),this.hitDetectionInstructions.push([Ji.DRAW_IMAGE,a,y,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[k,k],NaN,this.declutterMode_,this.declutterImageWithText_,T,!!l.backgroundFill,!!l.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?Nh:this.fillKey_,this.textOffsetX_,this.textOffsetY_,v]),l.backgroundFill&&(this.state.fillStyle=M,this.hitDetectionInstructions.push(this.createFill(this.state))),this.endGeometry(n)}}saveTextStates_(){const e=this.textStrokeState_,n=this.textState_,r=this.textFillState_,i=this.strokeKey_;e&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const s=this.textKey_;s in this.textStates||(this.textStates[s]={font:n.font,textAlign:n.textAlign||P6,justify:n.justify,textBaseline:n.textBaseline||R8,scale:n.scale});const l=this.fillKey_;r&&(l in this.fillStates||(this.fillStates[l]={fillStyle:r.fillStyle}))}drawChars_(e,n){const r=this.textStrokeState_,i=this.textState_,s=this.strokeKey_,l=this.textKey_,c=this.fillKey_;this.saveTextStates_();const a=this.pixelRatio,f=V8[i.textBaseline],p=this.textOffsetY_*a,m=this.text_,v=r?r.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([Ji.DRAW_CHARS,e,n,f,i.overflow,c,i.maxAngle,a,p,s,v*a,m,l,1,this.declutterMode_]),this.hitDetectionInstructions.push([Ji.DRAW_CHARS,e,n,f,i.overflow,c&&Nh,i.maxAngle,a,p,s,v*a,m,l,1/a,this.declutterMode_])}setTextStyle(e,n){let r,i,s;if(!e)this.text_="";else{const l=e.getFill();l?(i=this.textFillState_,i||(i={},this.textFillState_=i),i.fillStyle=cm(l.getColor()||Nh)):(i=null,this.textFillState_=i);const c=e.getStroke();if(!c)s=null,this.textStrokeState_=s;else{s=this.textStrokeState_,s||(s={},this.textStrokeState_=s);const T=c.getLineDash(),C=c.getLineDashOffset(),k=c.getWidth(),M=c.getMiterLimit();s.lineCap=c.getLineCap()||$2,s.lineDash=T?T.slice():Jg,s.lineDashOffset=C===void 0?e0:C,s.lineJoin=c.getLineJoin()||V2,s.lineWidth=k===void 0?F6:k,s.miterLimit=M===void 0?L6:M,s.strokeStyle=cm(c.getColor()||k6)}r=this.textState_;const a=e.getFont()||Zue;kot(a);const f=e.getScaleArray();r.overflow=e.getOverflow(),r.font=a,r.maxAngle=e.getMaxAngle(),r.placement=e.getPlacement(),r.textAlign=e.getTextAlign(),r.repeat=e.getRepeat(),r.justify=e.getJustify(),r.textBaseline=e.getTextBaseline()||R8,r.backgroundFill=e.getBackgroundFill(),r.backgroundStroke=e.getBackgroundStroke(),r.padding=e.getPadding()||Y_,r.scale=f===void 0?[1,1]:f;const p=e.getOffsetX(),m=e.getOffsetY(),v=e.getRotateWithView(),y=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=p===void 0?0:p,this.textOffsetY_=m===void 0?0:m,this.textRotateWithView_=v===void 0?!1:v,this.textRotation_=y===void 0?0:y,this.strokeKey_=s?(typeof s.strokeStyle=="string"?s.strokeStyle:Mi(s.strokeStyle))+s.lineCap+s.lineDashOffset+"|"+s.lineWidth+s.lineJoin+s.miterLimit+"["+s.lineDash.join()+"]":"",this.textKey_=r.font+r.scale+(r.textAlign||"?")+(r.repeat||"?")+(r.justify||"?")+(r.textBaseline||"?"),this.fillKey_=i&&i.fillStyle?typeof i.fillStyle=="string"?i.fillStyle:"|"+Mi(i.fillStyle):""}this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=n}}const zut={Circle:rX,Default:D5,Image:Rut,LineString:Out,Polygon:rX,Text:Uut};class Lce{constructor(e,n,r,i){this.tolerance_=e,this.maxExtent_=n,this.pixelRatio_=i,this.resolution_=r,this.buildersByZIndex_={}}finish(){const e={};for(const n in this.buildersByZIndex_){e[n]=e[n]||{};const r=this.buildersByZIndex_[n];for(const i in r){const s=r[i].finish();e[n][i]=s}}return e}getBuilder(e,n){const r=e!==void 0?e.toString():"0";let i=this.buildersByZIndex_[r];i===void 0&&(i={},this.buildersByZIndex_[r]=i);let s=i[n];if(s===void 0){const l=zut[n];s=new l(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[n]=s}return s}}function $ut(t,e,n,r,i,s,l,c,a,f,p,m){let v=t[e],y=t[e+1],T=0,C=0,k=0,M=0;function P(){T=v,C=y,e+=r,v=t[e],y=t[e+1],M+=k,k=Math.sqrt((v-T)*(v-T)+(y-C)*(y-C))}do P();while(e<n-r&&M+k<s);let R=k===0?0:(s-M)/k;const N=Nd(T,v,R),z=Nd(C,y,R),H=e-r,j=M,Q=s+c*a(f,i,p);for(;e<n-r&&M+k<Q;)P();R=k===0?0:(Q-M)/k;const G=Nd(T,v,R),ie=Nd(C,y,R);let q;if(m){const te=[N,z,G,ie];OU(te,0,4,2,m,te,te),q=te[0]>te[2]}else q=N>G;const W=Math.PI,ee=[],he=H+r===e;e=H,k=0,M=j,v=t[e],y=t[e+1];let J;if(he){P(),J=Math.atan2(y-C,v-T),q&&(J+=J>0?-W:W);const te=(G+N)/2,ne=(ie+z)/2;return ee[0]=[te,ne,(Q-s)/2,J,i],ee}i=i.replace(/\n/g," ");for(let te=0,ne=i.length;te<ne;){P();let ce=Math.atan2(y-C,v-T);if(q&&(ce+=ce>0?-W:W),J!==void 0){let _e=ce-J;if(_e+=_e>W?-2*W:_e<-W?2*W:0,Math.abs(_e)>l)return null}J=ce;const ue=te;let ye=0;for(;te<ne;++te){const _e=q?ne-te-1:te,Ue=c*a(f,i[_e],p);if(e+r<n&&M+k<s+ye+Ue/2)break;ye+=Ue}if(te===ue)continue;const Ee=q?i.substring(ne-ue,ne-te):i.substring(ue,te);R=k===0?0:(s+ye/2-M)/k;const se=Nd(T,v,R),oe=Nd(C,y,R);ee.push([se,oe,ye/2,ce,Ee]),s+=ye}return ee}const Kb=dc(),mv=[],Pg=[],Fg=[],gv=[];function iX(t){return t[3].declutterBox}const aX=new RegExp("[֑-ࣿיִ-﷿ﹰ-ﻼࠀ-࿿-]");function cP(t,e){return e==="start"?e=aX.test(t)?"right":"left":e==="end"&&(e=aX.test(t)?"left":"right"),V8[e]}function Vut(t,e,n){return n>0&&t.push(`
`,""),t.push(e,""),t}class Hut{constructor(e,n,r,i,s){this.overlaps=r,this.pixelRatio=n,this.resolution=e,this.alignAndScaleFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=Qo(),this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=s?new dz:null}getZIndexContext(){return this.zIndexContext_}createLabel(e,n,r,i){const s=e+n+r+i;if(this.labels_[s])return this.labels_[s];const l=i?this.strokeStates[i]:null,c=r?this.fillStates[r]:null,a=this.textStates[n],f=this.pixelRatio,p=[a.scale[0]*f,a.scale[1]*f],m=Array.isArray(e),v=a.justify?V8[a.justify]:cP(Array.isArray(e)?e[0]:e,a.textAlign||P6),y=i&&l.lineWidth?l.lineWidth:0,T=m?e:e.split(`
`).reduce(Vut,[]),{width:C,height:k,widths:M,heights:P,lineWidths:R}=Fot(a,T),N=C+y,z=[],H=(N+2)*p[0],j=(k+y)*p[1],Q={width:H<0?Math.floor(H):Math.ceil(H),height:j<0?Math.floor(j):Math.ceil(j),contextInstructions:z};(p[0]!=1||p[1]!=1)&&z.push("scale",p),i&&(z.push("strokeStyle",l.strokeStyle),z.push("lineWidth",y),z.push("lineCap",l.lineCap),z.push("lineJoin",l.lineJoin),z.push("miterLimit",l.miterLimit),z.push("setLineDash",[l.lineDash]),z.push("lineDashOffset",l.lineDashOffset)),r&&z.push("fillStyle",c.fillStyle),z.push("textBaseline","middle"),z.push("textAlign","center");const G=.5-v;let ie=v*N+G*y;const q=[],W=[];let ee=0,he=0,J=0,te=0,ne;for(let ce=0,ue=T.length;ce<ue;ce+=2){const ye=T[ce];if(ye===`
`){he+=ee,ee=0,ie=v*N+G*y,++te;continue}const Ee=T[ce+1]||a.font;Ee!==ne&&(i&&q.push("font",Ee),r&&W.push("font",Ee),ne=Ee),ee=Math.max(ee,P[J]);const se=[ye,ie+G*M[J]+v*(M[J]-R[te]),.5*(y+ee)+he];ie+=M[J],i&&q.push("strokeText",se),r&&W.push("fillText",se),++J}return Array.prototype.push.apply(z,q),Array.prototype.push.apply(z,W),this.labels_[s]=Q,Q}replayTextBackground_(e,n,r,i,s,l,c){e.beginPath(),e.moveTo.apply(e,n),e.lineTo.apply(e,r),e.lineTo.apply(e,i),e.lineTo.apply(e,s),e.lineTo.apply(e,n),l&&(this.alignAndScaleFill_=l[2],this.fill_(e)),c&&(this.setStrokeStyle_(e,c),e.stroke())}calculateImageOrLabelDimensions_(e,n,r,i,s,l,c,a,f,p,m,v,y,T,C,k){c*=v[0],a*=v[1];let M=r-c,P=i-a;const R=s+f>e?e-f:s,N=l+p>n?n-p:l,z=T[3]+R*v[0]+T[1],H=T[0]+N*v[1]+T[2],j=M-T[3],Q=P-T[0];(C||m!==0)&&(mv[0]=j,gv[0]=j,mv[1]=Q,Pg[1]=Q,Pg[0]=j+z,Fg[0]=Pg[0],Fg[1]=Q+H,gv[1]=Fg[1]);let G;return m!==0?(G=qh(Qo(),r,i,1,1,m,-r,-i),Fo(G,mv),Fo(G,Pg),Fo(G,Fg),Fo(G,gv),Im(Math.min(mv[0],Pg[0],Fg[0],gv[0]),Math.min(mv[1],Pg[1],Fg[1],gv[1]),Math.max(mv[0],Pg[0],Fg[0],gv[0]),Math.max(mv[1],Pg[1],Fg[1],gv[1]),Kb)):Im(Math.min(j,j+z),Math.min(Q,Q+H),Math.max(j,j+z),Math.max(Q,Q+H),Kb),y&&(M=Math.round(M),P=Math.round(P)),{drawImageX:M,drawImageY:P,drawImageW:R,drawImageH:N,originX:f,originY:p,declutterBox:{minX:Kb[0],minY:Kb[1],maxX:Kb[2],maxY:Kb[3],value:k},canvasTransform:G,scale:v}}replayImageOrLabel_(e,n,r,i,s,l,c){const a=!!(l||c),f=i.declutterBox,p=c?c[2]*i.scale[0]/2:0;return f.minX-p<=n[0]&&f.maxX+p>=0&&f.minY-p<=n[1]&&f.maxY+p>=0&&(a&&this.replayTextBackground_(e,mv,Pg,Fg,gv,l,c),Rot(e,i.canvasTransform,s,r,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0}fill_(e){const n=this.alignAndScaleFill_;if(n){const r=Fo(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;e.save(),e.translate(r[0]%i,r[1]%i),n!==1&&e.scale(n,n),e.rotate(this.viewRotation_)}e.fill(),n&&e.restore()}setStrokeStyle_(e,n){e.strokeStyle=n[1],e.lineWidth=n[2],e.lineCap=n[3],e.lineJoin=n[4],e.miterLimit=n[5],e.lineDashOffset=n[7],e.setLineDash(n[6])}drawLabelWithPointPlacement_(e,n,r,i){const s=this.textStates[n],l=this.createLabel(e,n,i,r),c=this.strokeStates[r],a=this.pixelRatio,f=cP(Array.isArray(e)?e[0]:e,s.textAlign||P6),p=V8[s.textBaseline||R8],m=c&&c.lineWidth?c.lineWidth:0,v=l.width/a-2*s.scale[0],y=f*v+2*(.5-f)*m,T=p*l.height/a+2*(.5-p)*m;return{label:l,anchorX:y,anchorY:T}}execute_(e,n,r,i,s,l,c,a){const f=this.zIndexContext_;let p;this.pixelCoordinates_&&T0(r,this.renderedTransform_)?p=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),p=_m(this.coordinates,0,this.coordinates.length,2,r,this.pixelCoordinates_),yue(this.renderedTransform_,r));let m=0;const v=i.length;let y=0,T,C,k,M,P,R,N,z,H,j,Q,G,ie,q=0,W=0,ee=null,he=null;const J=this.coordinateCache_,te=this.viewRotation_,ne=Math.round(Math.atan2(-r[1],r[0])*1e12)/1e12,ce={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:te},ue=this.instructions!=i||this.overlaps?0:200;let ye,Ee,se,oe;for(;m<v;){const _e=i[m];switch(_e[0]){case Ji.BEGIN_GEOMETRY:ye=_e[1],oe=_e[3],ye.getGeometry()?c!==void 0&&!su(c,oe.getExtent())?m=_e[2]+1:++m:m=_e[2],f&&(f.zIndex=_e[4]);break;case Ji.BEGIN_PATH:q>ue&&(this.fill_(e),q=0),W>ue&&(e.stroke(),W=0),!q&&!W&&(e.beginPath(),P=NaN,R=NaN),++m;break;case Ji.CIRCLE:y=_e[1];const Le=p[y],be=p[y+1],Re=p[y+2],Qe=p[y+3],Je=Re-Le,nt=Qe-be,Ve=Math.sqrt(Je*Je+nt*nt);e.moveTo(Le+Ve,be),e.arc(Le,be,Ve,0,2*Math.PI,!0),++m;break;case Ji.CLOSE_PATH:e.closePath(),++m;break;case Ji.CUSTOM:y=_e[1],T=_e[2];const ke=_e[3],Ge=_e[4],Ne=_e[5];ce.geometry=ke,ce.feature=ye,m in J||(J[m]=[]);const je=J[m];Ne?Ne(p,y,T,2,je):(je[0]=p[y],je[1]=p[y+1],je.length=2),f&&(f.zIndex=_e[6]),Ge(je,ce),++m;break;case Ji.DRAW_IMAGE:y=_e[1],T=_e[2],H=_e[3],C=_e[4],k=_e[5];let Ye=_e[6];const vt=_e[7],Lt=_e[8],Et=_e[9],Vt=_e[10];let _t=_e[11];const qt=_e[12];let tn=_e[13];M=_e[14]||"declutter";const Nt=_e[15];if(!H&&_e.length>=20){j=_e[19],Q=_e[20],G=_e[21],ie=_e[22];const Ci=this.drawLabelWithPointPlacement_(j,Q,G,ie);H=Ci.label,_e[3]=H;const ai=_e[23];C=(Ci.anchorX-ai)*this.pixelRatio,_e[4]=C;const Vi=_e[24];k=(Ci.anchorY-Vi)*this.pixelRatio,_e[5]=k,Ye=H.height,_e[6]=Ye,tn=H.width,_e[13]=tn}let wt;_e.length>25&&(wt=_e[25]);let De,We,ut;_e.length>17?(De=_e[16],We=_e[17],ut=_e[18]):(De=Y_,We=!1,ut=!1),Vt&&ne?_t+=te:!Vt&&!ne&&(_t-=te);let It=0;for(;y<T;y+=2){if(wt&&wt[It++]<tn/this.pixelRatio)continue;const Ci=this.calculateImageOrLabelDimensions_(H.width,H.height,p[y],p[y+1],tn,Ye,C,k,Lt,Et,_t,qt,s,De,We||ut,ye),ai=[e,n,H,Ci,vt,We?ee:null,ut?he:null];if(a){let Vi,va,Rr;if(Nt){const Jt=T-y;if(!Nt[Jt]){Nt[Jt]={args:ai,declutterMode:M};continue}const hn=Nt[Jt];Vi=hn.args,va=hn.declutterMode,delete Nt[Jt],Rr=iX(Vi)}let qi,Hi;if(Vi&&(va!=="declutter"||!a.collides(Rr))&&(qi=!0),(M!=="declutter"||!a.collides(Ci.declutterBox))&&(Hi=!0),va==="declutter"&&M==="declutter"){const Jt=qi&&Hi;qi=Jt,Hi=Jt}qi&&(va!=="none"&&a.insert(Rr),this.replayImageOrLabel_.apply(this,Vi)),Hi&&(M!=="none"&&a.insert(Ci.declutterBox),this.replayImageOrLabel_.apply(this,ai))}else this.replayImageOrLabel_.apply(this,ai)}++m;break;case Ji.DRAW_CHARS:const Xe=_e[1],kt=_e[2],Bt=_e[3],it=_e[4];ie=_e[5];const Mt=_e[6],at=_e[7],et=_e[8];G=_e[9];const St=_e[10];j=_e[11],Q=_e[12];const sn=[_e[13],_e[13]];M=_e[14]||"declutter";const bn=this.textStates[Q],gr=bn.font,tr=[bn.scale[0]*at,bn.scale[1]*at];let Nn;gr in this.widths_?Nn=this.widths_[gr]:(Nn={},this.widths_[gr]=Nn);const lr=Ece(p,Xe,kt,2),Qr=Math.abs(tr[0])*FY(gr,j,Nn);if(it||Qr<=lr){const Ci=this.textStates[Q].textAlign,ai=(lr-Qr)*cP(j,Ci),Vi=$ut(p,Xe,kt,2,j,ai,Mt,Math.abs(tr[0]),FY,gr,Nn,ne?0:this.viewRotation_);e:if(Vi){const va=[];let Rr,qi,Hi,Jt,hn;if(G)for(Rr=0,qi=Vi.length;Rr<qi;++Rr){hn=Vi[Rr],Hi=hn[4],Jt=this.createLabel(Hi,Q,"",G),C=hn[2]+(tr[0]<0?-St:St),k=Bt*Jt.height+(.5-Bt)*2*St*tr[1]/tr[0]-et;const En=this.calculateImageOrLabelDimensions_(Jt.width,Jt.height,hn[0],hn[1],Jt.width,Jt.height,C,k,0,0,hn[3],sn,!1,Y_,!1,ye);if(a&&M==="declutter"&&a.collides(En.declutterBox))break e;va.push([e,n,Jt,En,1,null,null])}if(ie)for(Rr=0,qi=Vi.length;Rr<qi;++Rr){hn=Vi[Rr],Hi=hn[4],Jt=this.createLabel(Hi,Q,ie,""),C=hn[2],k=Bt*Jt.height-et;const En=this.calculateImageOrLabelDimensions_(Jt.width,Jt.height,hn[0],hn[1],Jt.width,Jt.height,C,k,0,0,hn[3],sn,!1,Y_,!1,ye);if(a&&M==="declutter"&&a.collides(En.declutterBox))break e;va.push([e,n,Jt,En,1,null,null])}a&&M!=="none"&&a.load(va.map(iX));for(let En=0,Hn=va.length;En<Hn;++En)this.replayImageOrLabel_.apply(this,va[En])}}++m;break;case Ji.END_GEOMETRY:if(l!==void 0){ye=_e[1];const Ci=l(ye,oe);if(Ci)return Ci}++m;break;case Ji.FILL:ue?q++:this.fill_(e),++m;break;case Ji.MOVE_TO_LINE_TO:for(y=_e[1],T=_e[2],Ee=p[y],se=p[y+1],N=Ee+.5|0,z=se+.5|0,(N!==P||z!==R)&&(e.moveTo(Ee,se),P=N,R=z),y+=2;y<T;y+=2)Ee=p[y],se=p[y+1],N=Ee+.5|0,z=se+.5|0,(y==T-2||N!==P||z!==R)&&(e.lineTo(Ee,se),P=N,R=z);++m;break;case Ji.SET_FILL_STYLE:ee=_e,this.alignAndScaleFill_=_e[2],q&&(this.fill_(e),q=0,W&&(e.stroke(),W=0)),e.fillStyle=_e[1],++m;break;case Ji.SET_STROKE_STYLE:he=_e,W&&(e.stroke(),W=0),this.setStrokeStyle_(e,_e),++m;break;case Ji.STROKE:ue?W++:e.stroke(),++m;break;default:++m;break}}q&&this.fill_(e),W&&e.stroke()}execute(e,n,r,i,s,l){this.viewRotation_=i,this.execute_(e,n,r,this.instructions,s,void 0,void 0,l)}executeHitDetection(e,n,r,i,s){return this.viewRotation_=r,this.execute_(e,[e.canvas.width,e.canvas.height],n,this.hitDetectionInstructions,!0,i,s)}}const MC=["Polygon","Circle","LineString","Image","Text","Default"],H8=["Image","Text"],Qut=MC.filter(t=>!H8.includes(t));class kce{constructor(e,n,r,i,s,l,c){this.maxExtent_=e,this.overlaps_=i,this.pixelRatio_=r,this.resolution_=n,this.renderBuffer_=l,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Qo(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(s,c)}clip(e,n){const r=this.getClipCoords(n);e.beginPath(),e.moveTo(r[0],r[1]),e.lineTo(r[2],r[3]),e.lineTo(r[4],r[5]),e.lineTo(r[6],r[7]),e.clip()}createExecutors_(e,n){for(const r in e){let i=this.executorsByZIndex_[r];i===void 0&&(i={},this.executorsByZIndex_[r]=i);const s=e[r];for(const l in s){const c=s[l];i[l]=new Hut(this.resolution_,this.pixelRatio_,this.overlaps_,c,n)}}}hasExecutors(e){for(const n in this.executorsByZIndex_){const r=this.executorsByZIndex_[n];for(let i=0,s=e.length;i<s;++i)if(e[i]in r)return!0}return!1}forEachFeatureAtCoordinate(e,n,r,i,s,l){i=Math.round(i);const c=i*2+1,a=qh(this.hitDetectionTransform_,i+.5,i+.5,1/n,-1/n,-r,-e[0],-e[1]),f=!this.hitDetectionContext_;f&&(this.hitDetectionContext_=Ku(c,c,void 0,{willReadFrequently:!0}));const p=this.hitDetectionContext_;p.canvas.width!==c||p.canvas.height!==c?(p.canvas.width=c,p.canvas.height=c):f||p.clearRect(0,0,c,c);let m;this.renderBuffer_!==void 0&&(m=dc(),SC(m,e),rA(m,n*(this.renderBuffer_+i),m));const v=jut(i);let y;function T(z,H){const j=p.getImageData(0,0,c,c).data;for(let Q=0,G=v.length;Q<G;Q++)if(j[v[Q]]>0){if(!l||y!=="Image"&&y!=="Text"||l.includes(z)){const ie=(v[Q]-3)/4,q=i-ie%c,W=i-(ie/c|0),ee=s(z,H,q*q+W*W);if(ee)return ee}p.clearRect(0,0,c,c);break}}const C=Object.keys(this.executorsByZIndex_).map(Number);C.sort(gm);let k,M,P,R,N;for(k=C.length-1;k>=0;--k){const z=C[k].toString();for(P=this.executorsByZIndex_[z],M=MC.length-1;M>=0;--M)if(y=MC[M],R=P[y],R!==void 0&&(N=R.executeHitDetection(p,a,r,T,m),N))return N}}getClipCoords(e){const n=this.maxExtent_;if(!n)return null;const r=n[0],i=n[1],s=n[2],l=n[3],c=[r,i,r,l,s,l,s,i];return _m(c,0,8,2,e,c),c}isEmpty(){return z2(this.executorsByZIndex_)}execute(e,n,r,i,s,l,c){const a=Object.keys(this.executorsByZIndex_).map(Number);a.sort(gm),l=l||MC;let f,p,m,v,y,T;for(c&&a.reverse(),f=0,p=a.length;f<p;++f){const C=a[f].toString();for(y=this.executorsByZIndex_[C],m=0,v=l.length;m<v;++m){const k=l[m];if(T=y[k],T!==void 0){const M=c===null?void 0:T.getZIndexContext(),P=M?M.getContext():e,R=this.maxExtent_&&k!=="Image"&&k!=="Text";if(R&&(P.save(),this.clip(P,r)),T.execute(P,n,r,i,s,c),R&&P.restore(),M){M.offset();const N=a[f];this.deferredZIndexContexts_[N]||(this.deferredZIndexContexts_[N]=[]),this.deferredZIndexContexts_[N].push(M)}}}}this.renderedContext_=e}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const e=this.deferredZIndexContexts_,n=Object.keys(e).map(Number).sort(gm);for(let r=0,i=n.length;r<i;++r)e[n[r]].forEach(s=>{s.draw(this.renderedContext_),s.clear()})}}const hP={};function jut(t){if(hP[t]!==void 0)return hP[t];const e=t*2+1,n=t*t,r=new Array(n+1);for(let s=0;s<=t;++s)for(let l=0;l<=t;++l){const c=s*s+l*l;if(c>n)break;let a=r[c];a||(a=[],r[c]=a),a.push(((t+s)*e+(t+l))*4+3),s>0&&a.push(((t-s)*e+(t+l))*4+3),l>0&&(a.push(((t+s)*e+(t-l))*4+3),s>0&&a.push(((t-s)*e+(t-l))*4+3))}const i=[];for(let s=0,l=r.length;s<l;++s)r[s]&&i.push(...r[s]);return hP[t]=i,i}class Pce extends Ice{constructor(e,n,r,i,s,l,c){super(),this.context_=e,this.pixelRatio_=n,this.extent_=r,this.transform_=i,this.transformRotation_=i?EM(Math.atan2(i[1],i[0]),10):0,this.viewRotation_=s,this.squaredTolerance_=l,this.userTransform_=c,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Qo()}drawImages_(e,n,r,i){if(!this.image_)return;const s=_m(e,n,r,i,this.transform_,this.pixelCoordinates_),l=this.context_,c=this.tmpLocalTransform_,a=l.globalAlpha;this.imageOpacity_!=1&&(l.globalAlpha=a*this.imageOpacity_);let f=this.imageRotation_;this.transformRotation_===0&&(f-=this.viewRotation_),this.imageRotateWithView_&&(f+=this.viewRotation_);for(let p=0,m=s.length;p<m;p+=2){const v=s[p]-this.imageAnchorX_,y=s[p+1]-this.imageAnchorY_;if(f!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const T=v+this.imageAnchorX_,C=y+this.imageAnchorY_;qh(c,T,C,1,1,f,-T,-C),l.save(),l.transform.apply(l,c),l.translate(T,C),l.scale(this.imageScale_[0],this.imageScale_[1]),l.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),l.restore()}else l.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,v,y,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(l.globalAlpha=a)}drawText_(e,n,r,i){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const s=_m(e,n,r,i,this.transform_,this.pixelCoordinates_),l=this.context_;let c=this.textRotation_;for(this.transformRotation_===0&&(c-=this.viewRotation_),this.textRotateWithView_&&(c+=this.viewRotation_);n<r;n+=i){const a=s[n]+this.textOffsetX_,f=s[n+1]+this.textOffsetY_;c!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(l.save(),l.translate(a-this.textOffsetX_,f-this.textOffsetY_),l.rotate(c),l.translate(this.textOffsetX_,this.textOffsetY_),l.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&l.strokeText(this.text_,0,0),this.textFillState_&&l.fillText(this.text_,0,0),l.restore()):(this.textStrokeState_&&l.strokeText(this.text_,a,f),this.textFillState_&&l.fillText(this.text_,a,f))}}moveToLineTo_(e,n,r,i,s){const l=this.context_,c=_m(e,n,r,i,this.transform_,this.pixelCoordinates_);l.moveTo(c[0],c[1]);let a=c.length;s&&(a-=2);for(let f=2;f<a;f+=2)l.lineTo(c[f],c[f+1]);return s&&l.closePath(),r}drawRings_(e,n,r,i){for(let s=0,l=r.length;s<l;++s)n=this.moveToLineTo_(e,n,r[s],i,!0);return n}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!su(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=Rst(e,this.transform_,this.pixelCoordinates_),r=n[2]-n[0],i=n[3]-n[1],s=Math.sqrt(r*r+i*i),l=this.context_;l.beginPath(),l.arc(n[0],n[1],s,0,2*Math.PI),this.fillState_&&l.fill(),this.strokeState_&&l.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break}}drawFeature(e,n){const r=n.getGeometryFunction()(e);r&&(this.setStyle(n),this.drawGeometry(r))}drawGeometryCollection(e){const n=e.getGeometriesArray();for(let r=0,i=n.length;r<i;++r)this.drawGeometry(n[r])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getFlatCoordinates(),r=e.getStride();this.image_&&this.drawImages_(n,0,n.length,r),this.text_!==""&&this.drawText_(n,0,n.length,r)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getFlatCoordinates(),r=e.getStride();this.image_&&this.drawImages_(n,0,n.length,r),this.text_!==""&&this.drawText_(n,0,n.length,r)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!su(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const n=this.context_,r=e.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(r,0,r.length,e.getStride(),!1),n.stroke()}if(this.text_!==""){const n=e.getFlatMidpoint();this.drawText_(n,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getExtent();if(su(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const r=this.context_,i=e.getFlatCoordinates();let s=0;const l=e.getEnds(),c=e.getStride();r.beginPath();for(let a=0,f=l.length;a<f;++a)s=this.moveToLineTo_(i,s,l[a],c,!1);r.stroke()}if(this.text_!==""){const r=e.getFlatMidpoints();this.drawText_(r,0,r.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!su(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_;n.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=e.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!su(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_,r=e.getOrientedFlatCoordinates();let i=0;const s=e.getEndss(),l=e.getStride();n.beginPath();for(let c=0,a=s.length;c<a;++c){const f=s[c];i=this.drawRings_(r,i,f,l)}this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=e.getFlatInteriorPoints();this.drawText_(n,0,n.length,2)}}}setContextFillState_(e){const n=this.context_,r=this.contextFillState_;r?r.fillStyle!=e.fillStyle&&(r.fillStyle=e.fillStyle,n.fillStyle=e.fillStyle):(n.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const n=this.context_,r=this.contextStrokeState_;r?(r.lineCap!=e.lineCap&&(r.lineCap=e.lineCap,n.lineCap=e.lineCap),T0(r.lineDash,e.lineDash)||n.setLineDash(r.lineDash=e.lineDash),r.lineDashOffset!=e.lineDashOffset&&(r.lineDashOffset=e.lineDashOffset,n.lineDashOffset=e.lineDashOffset),r.lineJoin!=e.lineJoin&&(r.lineJoin=e.lineJoin,n.lineJoin=e.lineJoin),r.lineWidth!=e.lineWidth&&(r.lineWidth=e.lineWidth,n.lineWidth=e.lineWidth),r.miterLimit!=e.miterLimit&&(r.miterLimit=e.miterLimit,n.miterLimit=e.miterLimit),r.strokeStyle!=e.strokeStyle&&(r.strokeStyle=e.strokeStyle,n.strokeStyle=e.strokeStyle)):(n.lineCap=e.lineCap,n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset,n.lineJoin=e.lineJoin,n.lineWidth=e.lineWidth,n.miterLimit=e.miterLimit,n.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const n=this.context_,r=this.contextTextState_,i=e.textAlign?e.textAlign:P6;r?(r.font!=e.font&&(r.font=e.font,n.font=e.font),r.textAlign!=i&&(r.textAlign=i,n.textAlign=i),r.textBaseline!=e.textBaseline&&(r.textBaseline=e.textBaseline,n.textBaseline=e.textBaseline)):(n.font=e.font,n.textAlign=i,n.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:i,textBaseline:e.textBaseline})}setFillStrokeStyle(e,n){if(!e)this.fillState_=null;else{const r=e.getColor();this.fillState_={fillStyle:cm(r||Nh)}}if(!n)this.strokeState_=null;else{const r=n.getColor(),i=n.getLineCap(),s=n.getLineDash(),l=n.getLineDashOffset(),c=n.getLineJoin(),a=n.getWidth(),f=n.getMiterLimit(),p=s||Jg;this.strokeState_={lineCap:i!==void 0?i:$2,lineDash:this.pixelRatio_===1?p:p.map(m=>m*this.pixelRatio_),lineDashOffset:(l||e0)*this.pixelRatio_,lineJoin:c!==void 0?c:V2,lineWidth:(a!==void 0?a:F6)*this.pixelRatio_,miterLimit:f!==void 0?f:L6,strokeStyle:cm(r||k6)}}}setImageStyle(e){let n;if(!e||!(n=e.getSize())){this.image_=null;return}const r=e.getPixelRatio(this.pixelRatio_),i=e.getAnchor(),s=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*r,this.imageAnchorY_=i[1]*r,this.imageHeight_=n[1]*r,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=s[0],this.imageOriginY_=s[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const l=e.getScaleArray();this.imageScale_=[l[0]*this.pixelRatio_/r,l[1]*this.pixelRatio_/r],this.imageWidth_=n[0]*r}setTextStyle(e){if(!e)this.text_="";else{const n=e.getFill();if(!n)this.textFillState_=null;else{const y=n.getColor();this.textFillState_={fillStyle:cm(y||Nh)}}const r=e.getStroke();if(!r)this.textStrokeState_=null;else{const y=r.getColor(),T=r.getLineCap(),C=r.getLineDash(),k=r.getLineDashOffset(),M=r.getLineJoin(),P=r.getWidth(),R=r.getMiterLimit();this.textStrokeState_={lineCap:T!==void 0?T:$2,lineDash:C||Jg,lineDashOffset:k||e0,lineJoin:M!==void 0?M:V2,lineWidth:P!==void 0?P:F6,miterLimit:R!==void 0?R:L6,strokeStyle:cm(y||k6)}}const i=e.getFont(),s=e.getOffsetX(),l=e.getOffsetY(),c=e.getRotateWithView(),a=e.getRotation(),f=e.getScaleArray(),p=e.getText(),m=e.getTextAlign(),v=e.getTextBaseline();this.textState_={font:i!==void 0?i:Zue,textAlign:m!==void 0?m:P6,textBaseline:v!==void 0?v:R8},this.text_=p!==void 0?Array.isArray(p)?p.reduce((y,T,C)=>y+=C%2?" ":T,""):p:"",this.textOffsetX_=s!==void 0?this.pixelRatio_*s:0,this.textOffsetY_=l!==void 0?this.pixelRatio_*l:0,this.textRotateWithView_=c!==void 0?c:!1,this.textRotation_=a!==void 0?a:0,this.textScale_=[this.pixelRatio_*f[0],this.pixelRatio_*f[1]]}}}const Ud=.5;function Fce(t,e,n,r,i,s,l,c,a){const f=a?RU(i):i,p=t[0]*Ud,m=t[1]*Ud,v=Ku(p,m);v.imageSmoothingEnabled=!1;const y=v.canvas,T=new Pce(v,Ud,i,null,l,c,a?SM(Mst(),a):null),C=n.length,k=Math.floor((256*256*256-1)/C),M={};for(let R=1;R<=C;++R){const N=n[R-1],z=N.getStyleFunction()||r;if(!z)continue;let H=z(N,s);if(!H)continue;Array.isArray(H)||(H=[H]);const Q=(R*k).toString(16).padStart(7,"#00000");for(let G=0,ie=H.length;G<ie;++G){const q=H[G],W=q.getGeometryFunction()(N);if(!W||!su(f,W.getExtent()))continue;const ee=q.clone(),he=ee.getFill();he&&he.setColor(Q);const J=ee.getStroke();J&&(J.setColor(Q),J.setLineDash(null)),ee.setText(void 0);const te=q.getImage();if(te){const ye=te.getImageSize();if(!ye)continue;const Ee=Ku(ye[0],ye[1],void 0,{alpha:!1}),se=Ee.canvas;Ee.fillStyle=Q,Ee.fillRect(0,0,se.width,se.height),ee.setImage(new P5({img:se,anchor:te.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:te.getOrigin(),opacity:1,size:te.getSize(),scale:te.getScale(),rotation:te.getRotation(),rotateWithView:te.getRotateWithView()}))}const ne=ee.getZIndex()||0;let ce=M[ne];ce||(ce={},M[ne]=ce,ce.Polygon=[],ce.Circle=[],ce.LineString=[],ce.Point=[]);const ue=W.getType();if(ue==="GeometryCollection"){const ye=W.getGeometriesArrayRecursive();for(let Ee=0,se=ye.length;Ee<se;++Ee){const oe=ye[Ee];ce[oe.getType().replace("Multi","")].push(oe,ee)}}else ce[ue.replace("Multi","")].push(W,ee)}}const P=Object.keys(M).map(Number).sort(gm);for(let R=0,N=P.length;R<N;++R){const z=M[P[R]];for(const H in z){const j=z[H];for(let Q=0,G=j.length;Q<G;Q+=2){T.setStyle(j[Q+1]);for(let ie=0,q=e.length;ie<q;++ie)T.setTransform(e[ie]),T.drawGeometry(j[Q])}}}return v.getImageData(0,0,y.width,y.height)}function Rce(t,e,n){const r=[];if(n){const i=Math.floor(Math.round(t[0])*Ud),s=Math.floor(Math.round(t[1])*Ud),l=(Ol(i,0,n.width-1)+Ol(s,0,n.height-1)*n.width)*4,c=n.data[l],a=n.data[l+1],p=n.data[l+2]+256*(a+256*c),m=Math.floor((256*256*256-1)/e.length);p&&p%m===0&&r.push(e[p/m-1])}return r}const Gut=.5,Oce={Point:ect,LineString:Xut,Polygon:nct,MultiPoint:tct,MultiLineString:Zut,MultiPolygon:Jut,GeometryCollection:Yut,Circle:Wut};function Kut(t,e){return parseInt(Mi(t),10)-parseInt(Mi(e),10)}function JO(t,e){const n=Dce(t,e);return n*n}function Dce(t,e){return Gut*t/e}function Wut(t,e,n,r,i){const s=n.getFill(),l=n.getStroke();if(s||l){const a=t.getBuilder(n.getZIndex(),"Circle");a.setFillStrokeStyle(s,l),a.drawCircle(e,r,i)}const c=n.getText();if(c&&c.getText()){const a=t.getBuilder(n.getZIndex(),"Text");a.setTextStyle(c),a.drawText(e,r)}}function Q8(t,e,n,r,i,s,l,c){const a=[],f=n.getImage();if(f){let v=!0;const y=f.getImageState();y==Va.LOADED||y==Va.ERROR?v=!1:y==Va.IDLE&&f.load(),v&&a.push(f.ready())}const p=n.getFill();p&&p.loading()&&a.push(p.ready());const m=a.length>0;return m&&Promise.all(a).then(()=>i(null)),qut(t,e,n,r,s,l,c),m}function qut(t,e,n,r,i,s,l){const c=n.getGeometryFunction()(e);if(!c)return;const a=c.simplifyTransformed(r,i);if(n.getRenderer())Nce(t,a,n,e,l);else{const p=Oce[a.getType()];p(t,a,n,e,l,s)}}function Nce(t,e,n,r,i){if(e.getType()=="GeometryCollection"){const l=e.getGeometries();for(let c=0,a=l.length;c<a;++c)Nce(t,l[c],n,r,i);return}t.getBuilder(n.getZIndex(),"Default").drawCustom(e,r,n.getRenderer(),n.getHitDetectionRenderer(),i)}function Yut(t,e,n,r,i,s){const l=e.getGeometriesArray();let c,a;for(c=0,a=l.length;c<a;++c){const f=Oce[l[c].getType()];f(t,l[c],n,r,i,s)}}function Xut(t,e,n,r,i){const s=n.getStroke();if(s){const c=t.getBuilder(n.getZIndex(),"LineString");c.setFillStrokeStyle(null,s),c.drawLineString(e,r,i)}const l=n.getText();if(l&&l.getText()){const c=t.getBuilder(n.getZIndex(),"Text");c.setTextStyle(l),c.drawText(e,r,i)}}function Zut(t,e,n,r,i){const s=n.getStroke();if(s){const c=t.getBuilder(n.getZIndex(),"LineString");c.setFillStrokeStyle(null,s),c.drawMultiLineString(e,r,i)}const l=n.getText();if(l&&l.getText()){const c=t.getBuilder(n.getZIndex(),"Text");c.setTextStyle(l),c.drawText(e,r,i)}}function Jut(t,e,n,r,i){const s=n.getFill(),l=n.getStroke();if(l||s){const a=t.getBuilder(n.getZIndex(),"Polygon");a.setFillStrokeStyle(s,l),a.drawMultiPolygon(e,r,i)}const c=n.getText();if(c&&c.getText()){const a=t.getBuilder(n.getZIndex(),"Text");a.setTextStyle(c),a.drawText(e,r,i)}}function ect(t,e,n,r,i,s){const l=n.getImage(),c=n.getText(),a=c&&c.getText(),f=s&&l&&a?{}:void 0;if(l){if(l.getImageState()!=Va.LOADED)return;const p=t.getBuilder(n.getZIndex(),"Image");p.setImageStyle(l,f),p.drawPoint(e,r,i)}if(a){const p=t.getBuilder(n.getZIndex(),"Text");p.setTextStyle(c,f),p.drawText(e,r,i)}}function tct(t,e,n,r,i,s){const l=n.getImage(),c=l&&l.getOpacity()!==0,a=n.getText(),f=a&&a.getText(),p=s&&c&&f?{}:void 0;if(c){if(l.getImageState()!=Va.LOADED)return;const m=t.getBuilder(n.getZIndex(),"Image");m.setImageStyle(l,p),m.drawMultiPoint(e,r,i)}if(f){const m=t.getBuilder(n.getZIndex(),"Text");m.setTextStyle(a,p),m.drawText(e,r,i)}}function nct(t,e,n,r,i){const s=n.getFill(),l=n.getStroke();if(s||l){const a=t.getBuilder(n.getZIndex(),"Polygon");a.setFillStrokeStyle(s,l),a.drawPolygon(e,r,i)}const c=n.getText();if(c&&c.getText()){const a=t.getBuilder(n.getZIndex(),"Text");a.setTextStyle(c),a.drawText(e,r,i)}}class rct extends fz{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=dc(),this.wrappedRenderedExtent_=dc(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(e,n,r){const i=n.extent,s=n.viewState,l=s.center,c=s.resolution,a=s.projection,f=s.rotation,p=a.getExtent(),m=this.getLayer().getSource(),v=this.getLayer().getDeclutter(),y=n.pixelRatio,T=n.viewHints,C=!(T[to.ANIMATING]||T[to.INTERACTING]),k=this.context,M=Math.round(ds(i)/c*y),P=Math.round(xu(i)/c*y),R=m.getWrapX()&&a.canWrapX(),N=R?ds(p):null,z=R?Math.ceil((i[2]-p[2])/N)+1:1;let H=R?Math.floor((i[0]-p[0])/N):0;do{const j=this.getRenderTransform(l,c,f,y,M,P,H*N);e.execute(k,[k.canvas.width,k.canvas.height],j,f,C,r===void 0?MC:r?H8:Qut,r?v&&n.declutter[v]:void 0)}while(++H<z)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=Ku(this.context.canvas.width,this.context.canvas.height,eX))}resetDrawContext_(){if(this.opacity_!==1){const e=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=e,LM(this.context),eX.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(e){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,e,!0)}renderDeferredInternal(e){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.resetDrawContext_())}renderFrame(e,n){const r=e.pixelRatio,i=e.layerStatesArray[e.layerIndex];this.opacity_=i.opacity;const s=e.extent,l=e.viewState.resolution,c=Math.round(ds(s)/l*r),a=Math.round(xu(s)/l*r);qh(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/r,1/r,0,-c/2,-a/2),m1(this.inversePixelTransform,this.pixelTransform);const f=SU(this.pixelTransform);this.useContainer(n,f,this.getBackground(e));const p=this.context,m=p.canvas,v=this.replayGroup_;let y=v&&!v.isEmpty();if(!y&&!(this.getLayer().hasListener(ju.PRERENDER)||this.getLayer().hasListener(ju.POSTRENDER)))return null;m.width!=c||m.height!=a?(m.width=c,m.height=a,m.style.transform!==f&&(m.style.transform=f)):this.containerReused||p.clearRect(0,0,c,a),this.setDrawContext_(),this.preRender(p,e);const T=e.viewState;T.projection;let C=!1;if(y&&i.extent&&this.clipping){const k=Yg(i.extent);y=su(k,e.extent),C=y&&!Qv(k,e.extent),C&&this.clipUnrotated(p,e,k)}return y&&this.renderWorlds(v,e,this.getLayer().getDeclutter()?!1:void 0),C&&p.restore(),this.postRender(p,e),this.renderedRotation_!==T.rotation&&(this.renderedRotation_=T.rotation,this.hitDetectionImageData_=null),e.declutter||this.resetDrawContext_(),this.container}getFeatures(e){return new Promise(n=>{if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const r=[this.context.canvas.width,this.context.canvas.height];Fo(this.pixelTransform,r);const i=this.renderedCenter_,s=this.renderedResolution_,l=this.renderedRotation_,c=this.renderedProjection_,a=this.wrappedRenderedExtent_,f=this.getLayer(),p=[],m=r[0]*Ud,v=r[1]*Ud;p.push(this.getRenderTransform(i,s,l,Ud,m,v,0).slice());const y=f.getSource(),T=c.getExtent();if(y.getWrapX()&&c.canWrapX()&&!Qv(T,a)){let C=a[0];const k=ds(T);let M=0,P;for(;C<T[0];)--M,P=k*M,p.push(this.getRenderTransform(i,s,l,Ud,m,v,P).slice()),C+=k;for(M=0,C=a[2];C>T[2];)++M,P=k*M,p.push(this.getRenderTransform(i,s,l,Ud,m,v,P).slice()),C-=k}this.hitDetectionImageData_=Fce(r,p,this.renderedFeatures_,f.getStyleFunction(),a,s,l,JO(s,this.renderedPixelRatio_),null)}n(Rce(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,n,r,i,s){if(!this.replayGroup_)return;const l=n.viewState.resolution,c=n.viewState.rotation,a=this.getLayer(),f={},p=function(T,C,k){const M=Mi(T),P=f[M];if(P){if(P!==!0&&k<P.distanceSq){if(k===0)return f[M]=!0,s.splice(s.lastIndexOf(P),1),i(T,a,C);P.geometry=C,P.distanceSq=k}}else{if(k===0)return f[M]=!0,i(T,a,C);s.push(f[M]={feature:T,layer:a,geometry:C,distanceSq:k,callback:i})}};let m;const v=[this.replayGroup_],y=this.getLayer().getDeclutter();return v.some(T=>m=T.forEachFeatureAtCoordinate(e,l,c,r,p,y&&n.declutter[y]?n.declutter[y].all().map(C=>C.value):null)),m}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const n=this.getLayer(),r=n.getSource();if(!r)return!1;const i=e.viewHints[to.ANIMATING],s=e.viewHints[to.INTERACTING],l=n.getUpdateWhileAnimating(),c=n.getUpdateWhileInteracting();if(this.ready&&!l&&i||!c&&s)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const a=e.extent,f=e.viewState,p=f.projection,m=f.resolution,v=e.pixelRatio,y=n.getRevision(),T=n.getRenderBuffer();let C=n.getRenderOrder();C===void 0&&(C=Kut);const k=f.center.slice(),M=rA(a,T*m),P=M.slice(),R=[M.slice()],N=p.getExtent();if(r.getWrapX()&&p.canWrapX()&&!Qv(N,e.extent)){const he=ds(N),J=Math.max(ds(M)/2,he);M[0]=N[0]-J,M[2]=N[2]+J,kU(k,p);const te=Cue(R[0],p);te[0]<N[0]&&te[2]<N[2]?R.push([te[0]+he,te[1],te[2]+he,te[3]]):te[0]>N[0]&&te[2]>N[2]&&R.push([te[0]-he,te[1],te[2]-he,te[3]])}if(this.ready&&this.renderedResolution_==m&&this.renderedRevision_==y&&this.renderedRenderOrder_==C&&Qv(this.wrappedRenderedExtent_,M))return T0(this.renderedExtent_,P)||(this.hitDetectionImageData_=null,this.renderedExtent_=P),this.renderedCenter_=k,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const z=new Lce(Dce(m,v),M,m,v);let H;for(let he=0,J=R.length;he<J;++he)r.loadFeatures(R[he],m,p);const j=JO(m,v);let Q=!0;const G=(he,J)=>{let te;const ne=he.getStyleFunction()||n.getStyleFunction();if(ne&&(te=ne(he,m)),te){const ce=this.renderFeature(he,j,te,z,H,this.getLayer().getDeclutter(),J);Q=Q&&!ce}},ie=RU(M),q=r.getFeaturesInExtent(ie);C&&q.sort(C);for(let he=0,J=q.length;he<J;++he)G(q[he],he);this.renderedFeatures_=q,this.ready=Q;const W=z.finish(),ee=new kce(M,m,v,r.getOverlaps(),W,n.getRenderBuffer(),!!e.declutter);return this.renderedResolution_=m,this.renderedRevision_=y,this.renderedRenderOrder_=C,this.renderedExtent_=P,this.wrappedRenderedExtent_=M,this.renderedCenter_=k,this.renderedProjection_=p,this.renderedPixelRatio_=v,this.replayGroup_=ee,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,n,r,i,s,l,c){if(!r)return!1;let a=!1;if(Array.isArray(r))for(let f=0,p=r.length;f<p;++f)a=Q8(i,e,r[f],n,this.boundHandleStyleImageChange_,s,l,c)||a;else a=Q8(i,e,r,n,this.boundHandleStyleImageChange_,s,l,c);return a}}class pz extends Ax{constructor(e){super(e)}createRenderer(){return new rct(this)}}function Uce(t){const e=t.frameState,n=cx(t.inversePixelTransform.slice(),e.coordinateToPixelTransform);return new Pce(t.context,e.pixelRatio,e.extent,n,e.viewState.rotation)}var IC=Jat.split(".");IC=parseInt(IC[0])*100+parseInt(IC[1]);var ict=function(t,e){var n=t.frameState.pixelRatio;if(IC>605&&IC<700&&n!==1&&e.getImage()instanceof P5){e=e.clone();var r=e.getImage();r.setScale(r.getScale()*n);var i=r.getAnchor();if(i&&r.setDisplacement){var s=r.getDisplacement();s&&(s[0]-=i[0]/n,s[1]+=i[1]/n,r.setAnchor([0,0]))}else i&&(i[0]/=n,i[1]/=n)}return e};const DM=34962,NM=34963,act=35040,sct=35044,U6=35048,oct=5121,lct=5123,uct=5125,zce=5126,sX=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function cct(t,e){e=Object.assign({preserveDrawingBuffer:!0,antialias:!bot},e);const n=sX.length;for(let r=0;r<n;++r)try{const i=t.getContext(sX[r],e);if(i)return i}catch{}return null}const hct={STATIC_DRAW:sct,STREAM_DRAW:act,DYNAMIC_DRAW:U6};class j8{constructor(e,n){this.array_=null,this.type_=e,es(e===DM||e===NM,"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`"),this.usage_=n!==void 0?n:hct.STATIC_DRAW}ofSize(e){return this.array_=new(dP(this.type_))(e),this}fromArray(e){return this.array_=dP(this.type_).from(e),this}fromArrayBuffer(e){return this.array_=new(dP(this.type_))(e),this}getType(){return this.type_}getArray(){return this.array_}getUsage(){return this.usage_}getSize(){return this.array_?this.array_.length:0}}function dP(t){switch(t){case DM:return Float32Array;case NM:return Uint32Array;default:return Float32Array}}const jS={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"},dct=`
  precision mediump float;
  
  attribute vec2 a_position;
  varying vec2 v_texCoord;
  varying vec2 v_screenCoord;
  
  uniform vec2 u_screenSize;
   
  void main() {
    v_texCoord = a_position * 0.5 + 0.5;
    v_screenCoord = v_texCoord * u_screenSize;
    gl_Position = vec4(a_position, 0.0, 1.0);
  }
`,fct=`
  precision mediump float;
   
  uniform sampler2D u_image;
  uniform float u_opacity;
   
  varying vec2 v_texCoord;
   
  void main() {
    gl_FragColor = texture2D(u_image, v_texCoord) * u_opacity;
  }
`;class oX{constructor(e){this.gl_=e.webGlContext;const n=this.gl_;this.scaleRatio_=e.scaleRatio||1,this.renderTargetTexture_=n.createTexture(),this.renderTargetTextureSize_=null,this.frameBuffer_=n.createFramebuffer(),this.depthBuffer_=n.createRenderbuffer();const r=n.createShader(n.VERTEX_SHADER);n.shaderSource(r,e.vertexShader||dct),n.compileShader(r);const i=n.createShader(n.FRAGMENT_SHADER);n.shaderSource(i,e.fragmentShader||fct),n.compileShader(i),this.renderTargetProgram_=n.createProgram(),n.attachShader(this.renderTargetProgram_,r),n.attachShader(this.renderTargetProgram_,i),n.linkProgram(this.renderTargetProgram_),this.renderTargetVerticesBuffer_=n.createBuffer();const s=[-1,-1,1,-1,-1,1,1,-1,1,1,-1,1];n.bindBuffer(n.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),n.bufferData(n.ARRAY_BUFFER,new Float32Array(s),n.STATIC_DRAW),this.renderTargetAttribLocation_=n.getAttribLocation(this.renderTargetProgram_,"a_position"),this.renderTargetUniformLocation_=n.getUniformLocation(this.renderTargetProgram_,"u_screenSize"),this.renderTargetOpacityLocation_=n.getUniformLocation(this.renderTargetProgram_,"u_opacity"),this.renderTargetTextureLocation_=n.getUniformLocation(this.renderTargetProgram_,"u_image"),this.uniforms_=[],e.uniforms&&Object.keys(e.uniforms).forEach(l=>{this.uniforms_.push({value:e.uniforms[l],location:n.getUniformLocation(this.renderTargetProgram_,l)})})}getGL(){return this.gl_}init(e){const n=this.getGL(),r=[n.drawingBufferWidth*this.scaleRatio_,n.drawingBufferHeight*this.scaleRatio_];if(n.bindFramebuffer(n.FRAMEBUFFER,this.getFrameBuffer()),n.bindRenderbuffer(n.RENDERBUFFER,this.getDepthBuffer()),n.viewport(0,0,r[0],r[1]),!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==r[0]||this.renderTargetTextureSize_[1]!==r[1]){this.renderTargetTextureSize_=r;const i=0,s=n.RGBA,l=0,c=n.RGBA,a=n.UNSIGNED_BYTE,f=null;n.bindTexture(n.TEXTURE_2D,this.renderTargetTexture_),n.texImage2D(n.TEXTURE_2D,i,s,r[0],r[1],l,c,a,f),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,this.renderTargetTexture_,0),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_COMPONENT16,r[0],r[1]),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,this.depthBuffer_)}}apply(e,n,r,i){const s=this.getGL(),l=e.size;if(s.bindFramebuffer(s.FRAMEBUFFER,n?n.getFrameBuffer():null),s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,this.renderTargetTexture_),!n){const a=Mi(s.canvas);if(!e.renderTargets[a]){const f=s.getContextAttributes();f&&f.preserveDrawingBuffer&&(s.clearColor(0,0,0,0),s.clearDepth(1),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT)),e.renderTargets[a]=!0}}s.disable(s.DEPTH_TEST),s.enable(s.BLEND),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA),s.viewport(0,0,s.drawingBufferWidth,s.drawingBufferHeight),s.bindBuffer(s.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),s.useProgram(this.renderTargetProgram_),s.enableVertexAttribArray(this.renderTargetAttribLocation_),s.vertexAttribPointer(this.renderTargetAttribLocation_,2,s.FLOAT,!1,0,0),s.uniform2f(this.renderTargetUniformLocation_,l[0],l[1]),s.uniform1i(this.renderTargetTextureLocation_,0);const c=e.layerStatesArray[e.layerIndex].opacity;s.uniform1f(this.renderTargetOpacityLocation_,c),this.applyUniforms(e),r&&r(s,e),s.drawArrays(s.TRIANGLES,0,6),i&&i(s,e)}getFrameBuffer(){return this.frameBuffer_}getDepthBuffer(){return this.depthBuffer_}applyUniforms(e){const n=this.getGL();let r,i=1;this.uniforms_.forEach(function(s){if(r=typeof s.value=="function"?s.value(e):s.value,r instanceof HTMLCanvasElement||r instanceof ImageData)s.texture||(s.texture=n.createTexture()),n.activeTexture(n[`TEXTURE${i}`]),n.bindTexture(n.TEXTURE_2D,s.texture),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),r instanceof ImageData?n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,r.width,r.height,0,n.UNSIGNED_BYTE,new Uint8Array(r.data)):n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,r),n.uniform1i(s.location,i++);else if(Array.isArray(r))switch(r.length){case 2:n.uniform2f(s.location,r[0],r[1]);return;case 3:n.uniform3f(s.location,r[0],r[1],r[2]);return;case 4:n.uniform4f(s.location,r[0],r[1],r[2],r[3]);return;default:return}else typeof r=="number"&&n.uniform1f(s.location,r)})}}function $ce(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function eD(t,e){return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}const ZA={PROJECTION_MATRIX:"u_projectionMatrix",SCREEN_TO_WORLD_MATRIX:"u_screenToWorldMatrix",TIME:"u_time",ZOOM:"u_zoom",RESOLUTION:"u_resolution",ROTATION:"u_rotation",VIEWPORT_SIZE_PX:"u_viewportSizePx",PIXEL_RATIO:"u_pixelRatio",HIT_DETECTION:"u_hitDetection"},Hu={UNSIGNED_BYTE:oct,UNSIGNED_SHORT:lct,UNSIGNED_INT:uct,FLOAT:zce},G8={};function lX(t){return"shared/"+t}let uX=0;function pct(){const t="unique/"+uX;return uX+=1,t}function Act(t){let e=G8[t];if(!e){const n=document.createElement("canvas");n.width=1,n.height=1,n.style.position="absolute",n.style.left="0",e={users:0,context:cct(n)},G8[t]=e}return e.users+=1,e.context}function mct(t){const e=G8[t];if(!e||(e.users-=1,e.users>0))return;const n=e.context,r=n.getExtension("WEBGL_lose_context");r&&r.loseContext();const i=n.canvas;i.width=1,i.height=1,delete G8[t]}class gct extends _M{constructor(e){super(),e=e||{},this.boundHandleWebGLContextLost_=this.handleWebGLContextLost.bind(this),this.boundHandleWebGLContextRestored_=this.handleWebGLContextRestored.bind(this),this.canvasCacheKey_=e.canvasCacheKey?lX(e.canvasCacheKey):pct(),this.gl_=Act(this.canvasCacheKey_),this.bufferCache_={},this.extensionCache_={},this.currentProgram_=null,this.needsToBeRecreated_=!1;const n=this.gl_.canvas;n.addEventListener(jS.LOST,this.boundHandleWebGLContextLost_),n.addEventListener(jS.RESTORED,this.boundHandleWebGLContextRestored_),this.offsetRotateMatrix_=Qo(),this.offsetScaleMatrix_=Qo(),this.tmpMat4_=$ce(),this.uniformLocationsByProgram_={},this.attribLocationsByProgram_={},this.uniforms_=[],e.uniforms&&this.setUniforms(e.uniforms),this.postProcessPasses_=e.postProcesses?e.postProcesses.map(r=>new oX({webGlContext:this.gl_,scaleRatio:r.scaleRatio,vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,uniforms:r.uniforms})):[new oX({webGlContext:this.gl_})],this.shaderCompileErrors_=null,this.startTime_=Date.now()}setUniforms(e){this.uniforms_=[],this.addUniforms(e)}addUniforms(e){for(const n in e)this.uniforms_.push({name:n,value:e[n]})}canvasCacheKeyMatches(e){return this.canvasCacheKey_===lX(e)}getExtension(e){if(e in this.extensionCache_)return this.extensionCache_[e];const n=this.gl_.getExtension(e);return this.extensionCache_[e]=n,n}bindBuffer(e){const n=this.gl_,r=Mi(e);let i=this.bufferCache_[r];if(!i){const s=n.createBuffer();i={buffer:e,webGlBuffer:s},this.bufferCache_[r]=i}n.bindBuffer(e.getType(),i.webGlBuffer)}flushBufferData(e){const n=this.gl_;this.bindBuffer(e),n.bufferData(e.getType(),e.getArray(),e.getUsage())}deleteBuffer(e){const n=this.gl_,r=Mi(e),i=this.bufferCache_[r];i&&!n.isContextLost()&&n.deleteBuffer(i.webGlBuffer),delete this.bufferCache_[r]}disposeInternal(){const e=this.gl_.canvas;e.removeEventListener(jS.LOST,this.boundHandleWebGLContextLost_),e.removeEventListener(jS.RESTORED,this.boundHandleWebGLContextRestored_),mct(this.canvasCacheKey_),delete this.gl_}prepareDraw(e,n,r){const i=this.gl_,s=this.getCanvas(),l=e.size,c=e.pixelRatio;(s.width!==l[0]*c||s.height!==l[1]*c)&&(s.width=l[0]*c,s.height=l[1]*c,s.style.width=l[0]+"px",s.style.height=l[1]+"px");for(let a=this.postProcessPasses_.length-1;a>=0;a--)this.postProcessPasses_[a].init(e);i.bindTexture(i.TEXTURE_2D,null),i.clearColor(0,0,0,0),i.depthRange(0,1),i.clearDepth(1),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT),i.enable(i.BLEND),i.blendFunc(i.ONE,n?i.ZERO:i.ONE_MINUS_SRC_ALPHA),r?(i.enable(i.DEPTH_TEST),i.depthFunc(i.LEQUAL)):i.disable(i.DEPTH_TEST)}bindTexture(e,n,r){const i=this.gl_;i.activeTexture(i.TEXTURE0+n),i.bindTexture(i.TEXTURE_2D,e),i.uniform1i(this.getUniformLocation(r),n)}prepareDrawToRenderTarget(e,n,r,i){const s=this.gl_,l=n.getSize();s.bindFramebuffer(s.FRAMEBUFFER,n.getFramebuffer()),s.bindRenderbuffer(s.RENDERBUFFER,n.getDepthbuffer()),s.viewport(0,0,l[0],l[1]),s.bindTexture(s.TEXTURE_2D,n.getTexture()),s.clearColor(0,0,0,0),s.depthRange(0,1),s.clearDepth(1),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT),s.enable(s.BLEND),s.blendFunc(s.ONE,r?s.ZERO:s.ONE_MINUS_SRC_ALPHA),i?(s.enable(s.DEPTH_TEST),s.depthFunc(s.LEQUAL)):s.disable(s.DEPTH_TEST)}drawElements(e,n){const r=this.gl_;this.getExtension("OES_element_index_uint");const i=r.UNSIGNED_INT,s=4,l=n-e,c=e*s;r.drawElements(r.TRIANGLES,l,i,c)}finalizeDraw(e,n,r){for(let i=0,s=this.postProcessPasses_.length;i<s;i++)i===s-1?this.postProcessPasses_[i].apply(e,null,n,r):this.postProcessPasses_[i].apply(e,this.postProcessPasses_[i+1])}getCanvas(){return this.gl_.canvas}getGL(){return this.gl_}applyFrameState(e){const n=e.size,r=e.viewState.rotation,i=e.pixelRatio;this.setUniformFloatValue(ZA.TIME,(Date.now()-this.startTime_)*.001),this.setUniformFloatValue(ZA.ZOOM,e.viewState.zoom),this.setUniformFloatValue(ZA.RESOLUTION,e.viewState.resolution),this.setUniformFloatValue(ZA.PIXEL_RATIO,i),this.setUniformFloatVec2(ZA.VIEWPORT_SIZE_PX,[n[0],n[1]]),this.setUniformFloatValue(ZA.ROTATION,r)}applyHitDetectionUniform(e){const n=this.getUniformLocation(ZA.HIT_DETECTION);this.getGL().uniform1i(n,e?1:0),e&&this.setUniformFloatValue(ZA.PIXEL_RATIO,.5)}applyUniforms(e){const n=this.gl_;let r,i=0;this.uniforms_.forEach(s=>{if(r=typeof s.value=="function"?s.value(e):s.value,r instanceof HTMLCanvasElement||r instanceof HTMLImageElement||r instanceof ImageData||r instanceof WebGLTexture){r instanceof WebGLTexture&&!s.texture?(s.prevValue=void 0,s.texture=r):s.texture||(s.prevValue=void 0,s.texture=n.createTexture()),this.bindTexture(s.texture,i,s.name),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE);const l=!(r instanceof HTMLImageElement)||r.complete;!(r instanceof WebGLTexture)&&l&&s.prevValue!==r&&(s.prevValue=r,n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,r)),i++}else if(Array.isArray(r)&&r.length===6)this.setUniformMatrixValue(s.name,eD(this.tmpMat4_,r));else if(Array.isArray(r)&&r.length<=4)switch(r.length){case 2:n.uniform2f(this.getUniformLocation(s.name),r[0],r[1]);return;case 3:n.uniform3f(this.getUniformLocation(s.name),r[0],r[1],r[2]);return;case 4:n.uniform4f(this.getUniformLocation(s.name),r[0],r[1],r[2],r[3]);return;default:return}else typeof r=="number"&&n.uniform1f(this.getUniformLocation(s.name),r)})}useProgram(e,n){this.gl_.useProgram(e),this.currentProgram_=e,this.applyFrameState(n),this.applyUniforms(n)}compileShader(e,n){const r=this.gl_,i=r.createShader(n);return r.shaderSource(i,e),r.compileShader(i),i}getProgram(e,n){const r=this.gl_,i=this.compileShader(e,r.FRAGMENT_SHADER),s=this.compileShader(n,r.VERTEX_SHADER),l=r.createProgram();if(r.attachShader(l,i),r.attachShader(l,s),r.linkProgram(l),!r.getShaderParameter(i,r.COMPILE_STATUS)){const c=`Fragment shader compilation failed: ${r.getShaderInfoLog(i)}`;throw new Error(c)}if(r.deleteShader(i),!r.getShaderParameter(s,r.COMPILE_STATUS)){const c=`Vertex shader compilation failed: ${r.getShaderInfoLog(s)}`;throw new Error(c)}if(r.deleteShader(s),!r.getProgramParameter(l,r.LINK_STATUS)){const c=`GL program linking failed: ${r.getProgramInfoLog(l)}`;throw new Error(c)}return l}getUniformLocation(e){const n=Mi(this.currentProgram_);return this.uniformLocationsByProgram_[n]===void 0&&(this.uniformLocationsByProgram_[n]={}),this.uniformLocationsByProgram_[n][e]===void 0&&(this.uniformLocationsByProgram_[n][e]=this.gl_.getUniformLocation(this.currentProgram_,e)),this.uniformLocationsByProgram_[n][e]}getAttributeLocation(e){const n=Mi(this.currentProgram_);return this.attribLocationsByProgram_[n]===void 0&&(this.attribLocationsByProgram_[n]={}),this.attribLocationsByProgram_[n][e]===void 0&&(this.attribLocationsByProgram_[n][e]=this.gl_.getAttribLocation(this.currentProgram_,e)),this.attribLocationsByProgram_[n][e]}makeProjectionTransform(e,n){const r=e.size,i=e.viewState.rotation,s=e.viewState.resolution,l=e.viewState.center;return qh(n,0,0,2/(s*r[0]),2/(s*r[1]),-i,-l[0],-l[1]),n}setUniformFloatValue(e,n){this.gl_.uniform1f(this.getUniformLocation(e),n)}setUniformFloatVec2(e,n){this.gl_.uniform2fv(this.getUniformLocation(e),n)}setUniformFloatVec4(e,n){this.gl_.uniform4fv(this.getUniformLocation(e),n)}setUniformMatrixValue(e,n){this.gl_.uniformMatrix4fv(this.getUniformLocation(e),!1,n)}enableAttributeArray_(e,n,r,i,s){const l=this.getAttributeLocation(e);l<0||(this.gl_.enableVertexAttribArray(l),this.gl_.vertexAttribPointer(l,n,r,!1,i,s))}enableAttributes(e){const n=vct(e);let r=0;for(let i=0;i<e.length;i++){const s=e[i];this.enableAttributeArray_(s.name,s.size,s.type||zce,n,r),r+=s.size*Vce(s.type)}}handleWebGLContextLost(e){ux(this.bufferCache_),this.currentProgram_=null,e.preventDefault()}handleWebGLContextRestored(){this.needsToBeRecreated_=!0}needsToBeRecreated(){return this.needsToBeRecreated_}createTexture(e,n,r){const i=this.gl_;r=r||i.createTexture();const s=0,l=i.RGBA,c=0,a=i.RGBA,f=i.UNSIGNED_BYTE;return i.bindTexture(i.TEXTURE_2D,r),n?i.texImage2D(i.TEXTURE_2D,s,l,a,f,n):i.texImage2D(i.TEXTURE_2D,s,l,e[0],e[1],c,a,f,null),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),r}}function vct(t){let e=0;for(let n=0;n<t.length;n++){const r=t[n];e+=r.size*Vce(r.type)}return e}function Vce(t){switch(t){case Hu.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case Hu.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case Hu.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;case Hu.FLOAT:default:return Float32Array.BYTES_PER_ELEMENT}}class UM extends Bce{constructor(e,n){super(e),n=n||{},this.inversePixelTransform_=Qo(),this.pixelContext_=null,this.postProcesses_=n.postProcesses,this.uniforms_=n.uniforms,this.helper,e.addChangeListener(Rs.MAP,this.removeHelper.bind(this)),this.dispatchPreComposeEvent=this.dispatchPreComposeEvent.bind(this),this.dispatchPostComposeEvent=this.dispatchPostComposeEvent.bind(this)}dispatchPreComposeEvent(e,n){const r=this.getLayer();if(r.hasListener(ju.PRECOMPOSE)){const i=new BC(ju.PRECOMPOSE,void 0,n,e);r.dispatchEvent(i)}}dispatchPostComposeEvent(e,n){const r=this.getLayer();if(r.hasListener(ju.POSTCOMPOSE)){const i=new BC(ju.POSTCOMPOSE,void 0,n,e);r.dispatchEvent(i)}}reset(e){this.uniforms_=e.uniforms,this.helper&&this.helper.setUniforms(this.uniforms_)}removeHelper(){this.helper&&(this.helper.dispose(),delete this.helper)}prepareFrame(e){if(this.getLayer().getRenderSource()){let n=!0,r=-1,i;for(let l=0,c=e.layerStatesArray.length;l<c;l++){const a=e.layerStatesArray[l].layer,f=a.getRenderer();if(!(f instanceof UM)){n=!0;continue}const p=a.getClassName();if((n||p!==i)&&(r+=1,n=!1),i=p,f===this)break}const s="map/"+e.mapId+"/group/"+r;(!this.helper||!this.helper.canvasCacheKeyMatches(s)||this.helper.needsToBeRecreated())&&(this.removeHelper(),this.helper=new gct({postProcesses:this.postProcesses_,uniforms:this.uniforms_,canvasCacheKey:s}),i&&(this.helper.getCanvas().className=i),this.afterHelperCreated())}return this.prepareFrameInternal(e)}afterHelperCreated(){}prepareFrameInternal(e){return!0}disposeInternal(){this.removeHelper(),super.disposeInternal()}dispatchRenderEvent_(e,n,r){const i=this.getLayer();if(i.hasListener(e)){qh(this.inversePixelTransform_,0,0,r.pixelRatio,-r.pixelRatio,0,0,-r.size[1]);const s=new BC(e,this.inversePixelTransform_,r,n);i.dispatchEvent(s)}}preRender(e,n){this.dispatchRenderEvent_(ju.PRERENDER,e,n)}postRender(e,n){this.dispatchRenderEvent_(ju.POSTRENDER,e,n)}}const GA=new Uint8Array(4);class Hce{constructor(e,n){this.helper_=e;const r=e.getGL();this.texture_=r.createTexture(),this.framebuffer_=r.createFramebuffer(),this.depthbuffer_=r.createRenderbuffer(),this.size_=n||[1,1],this.data_=new Uint8Array(0),this.dataCacheDirty_=!0,this.updateSize_()}setSize(e){T0(e,this.size_)||(this.size_[0]=e[0],this.size_[1]=e[1],this.updateSize_())}getSize(){return this.size_}clearCachedData(){this.dataCacheDirty_=!0}readAll(){if(this.dataCacheDirty_){const e=this.size_,n=this.helper_.getGL();n.bindFramebuffer(n.FRAMEBUFFER,this.framebuffer_),n.readPixels(0,0,e[0],e[1],n.RGBA,n.UNSIGNED_BYTE,this.data_),this.dataCacheDirty_=!1}return this.data_}readPixel(e,n){if(e<0||n<0||e>this.size_[0]||n>=this.size_[1])return GA[0]=0,GA[1]=0,GA[2]=0,GA[3]=0,GA;this.readAll();const r=Math.floor(e)+(this.size_[1]-Math.floor(n)-1)*this.size_[0];return GA[0]=this.data_[r*4],GA[1]=this.data_[r*4+1],GA[2]=this.data_[r*4+2],GA[3]=this.data_[r*4+3],GA}getTexture(){return this.texture_}getFramebuffer(){return this.framebuffer_}getDepthbuffer(){return this.depthbuffer_}updateSize_(){const e=this.size_,n=this.helper_.getGL();this.texture_=this.helper_.createTexture(e,null,this.texture_),n.bindFramebuffer(n.FRAMEBUFFER,this.framebuffer_),n.viewport(0,0,e[0],e[1]),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,this.texture_,0),n.bindRenderbuffer(n.RENDERBUFFER,this.depthbuffer_),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_COMPONENT16,e[0],e[1]),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,this.depthbuffer_),this.data_=new Uint8Array(e[0]*e[1]*4)}}const LC={GENERATE_POLYGON_BUFFERS:"GENERATE_POLYGON_BUFFERS",GENERATE_POINT_BUFFERS:"GENERATE_POINT_BUFFERS",GENERATE_LINE_STRING_BUFFERS:"GENERATE_LINE_STRING_BUFFERS"};var Qce={exports:{}};Qce.exports=zM;Qce.exports.default=zM;function zM(t,e,n){n=n||2;var r=e&&e.length,i=r?e[0]*n:t.length,s=jce(t,0,i,n,!0),l=[];if(!s||s.next===s.prev)return l;var c,a,f,p,m,v,y;if(r&&(s=xct(t,e,s,n)),t.length>80*n){c=f=t[0],a=p=t[1];for(var T=n;T<i;T+=n)m=t[T],v=t[T+1],m<c&&(c=m),v<a&&(a=v),m>f&&(f=m),v>p&&(p=v);y=Math.max(f-c,p-a),y=y!==0?32767/y:0}return z6(s,l,n,c,a,y,0),l}function jce(t,e,n,r,i){var s,l;if(i===rD(t,e,n,r)>0)for(s=e;s<n;s+=r)l=cX(s,t[s],t[s+1],l);else for(s=n-r;s>=e;s-=r)l=cX(s,t[s],t[s+1],l);return l&&$M(l,l.next)&&(V6(l),l=l.next),l}function Ly(t,e){if(!t)return t;e||(e=t);var n=t,r;do if(r=!1,!n.steiner&&($M(n,n.next)||Xo(n.prev,n,n.next)===0)){if(V6(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function z6(t,e,n,r,i,s,l){if(t){!l&&s&&Bct(t,r,i,s);for(var c=t,a,f;t.prev!==t.next;){if(a=t.prev,f=t.next,s?yct(t,r,i,s):_ct(t)){e.push(a.i/n|0),e.push(t.i/n|0),e.push(f.i/n|0),V6(t),t=f.next,c=f.next;continue}if(t=f,t===c){l?l===1?(t=bct(Ly(t),e,n),z6(t,e,n,r,i,s,2)):l===2&&wct(t,e,n,r,i,s):z6(Ly(t),e,n,r,i,s,1);break}}}}function _ct(t){var e=t.prev,n=t,r=t.next;if(Xo(e,n,r)>=0)return!1;for(var i=e.x,s=n.x,l=r.x,c=e.y,a=n.y,f=r.y,p=i<s?i<l?i:l:s<l?s:l,m=c<a?c<f?c:f:a<f?a:f,v=i>s?i>l?i:l:s>l?s:l,y=c>a?c>f?c:f:a>f?a:f,T=r.next;T!==e;){if(T.x>=p&&T.x<=v&&T.y>=m&&T.y<=y&&kw(i,c,s,a,l,f,T.x,T.y)&&Xo(T.prev,T,T.next)>=0)return!1;T=T.next}return!0}function yct(t,e,n,r){var i=t.prev,s=t,l=t.next;if(Xo(i,s,l)>=0)return!1;for(var c=i.x,a=s.x,f=l.x,p=i.y,m=s.y,v=l.y,y=c<a?c<f?c:f:a<f?a:f,T=p<m?p<v?p:v:m<v?m:v,C=c>a?c>f?c:f:a>f?a:f,k=p>m?p>v?p:v:m>v?m:v,M=tD(y,T,e,n,r),P=tD(C,k,e,n,r),R=t.prevZ,N=t.nextZ;R&&R.z>=M&&N&&N.z<=P;){if(R.x>=y&&R.x<=C&&R.y>=T&&R.y<=k&&R!==i&&R!==l&&kw(c,p,a,m,f,v,R.x,R.y)&&Xo(R.prev,R,R.next)>=0||(R=R.prevZ,N.x>=y&&N.x<=C&&N.y>=T&&N.y<=k&&N!==i&&N!==l&&kw(c,p,a,m,f,v,N.x,N.y)&&Xo(N.prev,N,N.next)>=0))return!1;N=N.nextZ}for(;R&&R.z>=M;){if(R.x>=y&&R.x<=C&&R.y>=T&&R.y<=k&&R!==i&&R!==l&&kw(c,p,a,m,f,v,R.x,R.y)&&Xo(R.prev,R,R.next)>=0)return!1;R=R.prevZ}for(;N&&N.z<=P;){if(N.x>=y&&N.x<=C&&N.y>=T&&N.y<=k&&N!==i&&N!==l&&kw(c,p,a,m,f,v,N.x,N.y)&&Xo(N.prev,N,N.next)>=0)return!1;N=N.nextZ}return!0}function bct(t,e,n){var r=t;do{var i=r.prev,s=r.next.next;!$M(i,s)&&Gce(i,r,r.next,s)&&$6(i,s)&&$6(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),V6(r),V6(r.next),r=t=s),r=r.next}while(r!==t);return Ly(r)}function wct(t,e,n,r,i,s){var l=t;do{for(var c=l.next.next;c!==l.prev;){if(l.i!==c.i&&Lct(l,c)){var a=Kce(l,c);l=Ly(l,l.next),a=Ly(a,a.next),z6(l,e,n,r,i,s,0),z6(a,e,n,r,i,s,0);return}c=c.next}l=l.next}while(l!==t)}function xct(t,e,n,r){var i=[],s,l,c,a,f;for(s=0,l=e.length;s<l;s++)c=e[s]*r,a=s<l-1?e[s+1]*r:t.length,f=jce(t,c,a,r,!1),f===f.next&&(f.steiner=!0),i.push(Ict(f));for(i.sort(Cct),s=0;s<i.length;s++)n=Ect(i[s],n);return n}function Cct(t,e){return t.x-e.x}function Ect(t,e){var n=Sct(t,e);if(!n)return e;var r=Kce(n,t);return Ly(r,r.next),Ly(n,n.next)}function Sct(t,e){var n=e,r=t.x,i=t.y,s=-1/0,l;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var c=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(c<=r&&c>s&&(s=c,l=n.x<n.next.x?n:n.next,c===r))return l}n=n.next}while(n!==e);if(!l)return null;var a=l,f=l.x,p=l.y,m=1/0,v;n=l;do r>=n.x&&n.x>=f&&r!==n.x&&kw(i<p?r:s,i,f,p,i<p?s:r,i,n.x,n.y)&&(v=Math.abs(i-n.y)/(r-n.x),$6(n,t)&&(v<m||v===m&&(n.x>l.x||n.x===l.x&&Tct(l,n)))&&(l=n,m=v)),n=n.next;while(n!==a);return l}function Tct(t,e){return Xo(t.prev,t,e.prev)<0&&Xo(e.next,t,t.next)<0}function Bct(t,e,n,r){var i=t;do i.z===0&&(i.z=tD(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,Mct(i)}function Mct(t){var e,n,r,i,s,l,c,a,f=1;do{for(n=t,t=null,s=null,l=0;n;){for(l++,r=n,c=0,e=0;e<f&&(c++,r=r.nextZ,!!r);e++);for(a=f;c>0||a>0&&r;)c!==0&&(a===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,c--):(i=r,r=r.nextZ,a--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,f*=2}while(l>1);return t}function tD(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Ict(t){var e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function kw(t,e,n,r,i,s,l,c){return(i-l)*(e-c)>=(t-l)*(s-c)&&(t-l)*(r-c)>=(n-l)*(e-c)&&(n-l)*(s-c)>=(i-l)*(r-c)}function Lct(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!kct(t,e)&&($6(t,e)&&$6(e,t)&&Pct(t,e)&&(Xo(t.prev,t,e.prev)||Xo(t,e.prev,e))||$M(t,e)&&Xo(t.prev,t,t.next)>0&&Xo(e.prev,e,e.next)>0)}function Xo(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function $M(t,e){return t.x===e.x&&t.y===e.y}function Gce(t,e,n,r){var i=KS(Xo(t,e,n)),s=KS(Xo(t,e,r)),l=KS(Xo(n,r,t)),c=KS(Xo(n,r,e));return!!(i!==s&&l!==c||i===0&&GS(t,n,e)||s===0&&GS(t,r,e)||l===0&&GS(n,t,r)||c===0&&GS(n,e,r))}function GS(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function KS(t){return t>0?1:t<0?-1:0}function kct(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Gce(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function $6(t,e){return Xo(t.prev,t,t.next)<0?Xo(t,e,t.next)>=0&&Xo(t,t.prev,e)>=0:Xo(t,e,t.prev)<0||Xo(t,t.next,e)<0}function Pct(t,e){var n=t,r=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function Kce(t,e){var n=new nD(t.i,t.x,t.y),r=new nD(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function cX(t,e,n,r){var i=new nD(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function V6(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function nD(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}zM.deviation=function(t,e,n,r){var i=e&&e.length,s=i?e[0]*n:t.length,l=Math.abs(rD(t,0,s,n));if(i)for(var c=0,a=e.length;c<a;c++){var f=e[c]*n,p=c<a-1?e[c+1]*n:t.length;l-=Math.abs(rD(t,f,p,n))}var m=0;for(c=0;c<r.length;c+=3){var v=r[c]*n,y=r[c+1]*n,T=r[c+2]*n;m+=Math.abs((t[v]-t[T])*(t[y+1]-t[v+1])-(t[v]-t[y])*(t[T+1]-t[v+1]))}return l===0&&m===0?0:Math.abs((m-l)/l)};function rD(t,e,n,r){for(var i=0,s=e,l=n-r;s<n;s+=r)i+=(t[l]-t[s])*(t[s+1]+t[l+1]),l=s;return i}zM.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var l=0;l<e;l++)n.vertices.push(t[i][s][l]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n};const hX=.985;function Wce(t,e){e=e||[];const n=256,r=n-1;return e[0]=Math.floor(t/n/n/n)/r,e[1]=Math.floor(t/n/n)%n/r,e[2]=Math.floor(t/n)%n/r,e[3]=t%n/r,e}function qce(t){let e=0;const n=256,r=n-1;return e+=Math.round(t[0]*n*n*n*r),e+=Math.round(t[1]*n*n*r),e+=Math.round(t[2]*n*r),e+=Math.round(t[3]*r),e}function Yce(){const t='const e="GENERATE_POLYGON_BUFFERS",t="GENERATE_POINT_BUFFERS",n="GENERATE_LINE_STRING_BUFFERS";function r(e,t){const n=t[0],r=t[1];return t[0]=e[0]*n+e[2]*r+e[4],t[1]=e[1]*n+e[3]*r+e[5],t}function x(e,t){const n=(r=t)[0]*r[3]-r[1]*r[2];var r;!function(e,t){if(!e)throw new Error(t)}(0!==n,"Transformation matrix cannot be inverted");const x=t[0],i=t[1],u=t[2],o=t[3],f=t[4],s=t[5];return e[0]=o/n,e[1]=-i/n,e[2]=-u/n,e[3]=x/n,e[4]=(u*s-o*f)/n,e[5]=-(x*s-i*f)/n,e}function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}new Array(6);var u={exports:{}};function o(e,t,n){n=n||2;var r,x,i,u,o,s,l,v=t&&t.length,h=v?t[0]*n:e.length,c=f(e,0,h,n,!0),g=[];if(!c||c.next===c.prev)return g;if(v&&(c=function(e,t,n,r){var x,i,u,o=[];for(x=0,i=t.length;x<i;x++)(u=f(e,t[x]*r,x<i-1?t[x+1]*r:e.length,r,!1))===u.next&&(u.steiner=!0),o.push(d(u));for(o.sort(p),x=0;x<o.length;x++)n=y(o[x],n);return n}(e,t,c,n)),e.length>80*n){r=i=e[0],x=u=e[1];for(var b=n;b<h;b+=n)(o=e[b])<r&&(r=o),(s=e[b+1])<x&&(x=s),o>i&&(i=o),s>u&&(u=s);l=0!==(l=Math.max(i-r,u-x))?32767/l:0}return a(c,g,n,r,x,l,0),g}function f(e,t,n,r,x){var i,u;if(x===O(e,t,n,r)>0)for(i=t;i<n;i+=r)u=P(i,e[i],e[i+1],u);else for(i=n-r;i>=t;i-=r)u=P(i,e[i],e[i+1],u);return u&&m(u,u.next)&&(B(u),u=u.next),u}function s(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!m(r,r.next)&&0!==w(r.prev,r,r.next))r=r.next;else{if(B(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function a(e,t,n,r,x,i,u){if(e){!u&&i&&function(e,t,n,r){var x=e;do{0===x.z&&(x.z=b(x.x,x.y,t,n,r)),x.prevZ=x.prev,x.nextZ=x.next,x=x.next}while(x!==e);x.prevZ.nextZ=null,x.prevZ=null,function(e){var t,n,r,x,i,u,o,f,s=1;do{for(n=e,e=null,i=null,u=0;n;){for(u++,r=n,o=0,t=0;t<s&&(o++,r=r.nextZ);t++);for(f=s;o>0||f>0&&r;)0!==o&&(0===f||!r||n.z<=r.z)?(x=n,n=n.nextZ,o--):(x=r,r=r.nextZ,f--),i?i.nextZ=x:e=x,x.prevZ=i,i=x;n=r}i.nextZ=null,s*=2}while(u>1)}(x)}(e,r,x,i);for(var o,f,p=e;e.prev!==e.next;)if(o=e.prev,f=e.next,i?v(e,r,x,i):l(e))t.push(o.i/n|0),t.push(e.i/n|0),t.push(f.i/n|0),B(e),e=f.next,p=f.next;else if((e=f)===p){u?1===u?a(e=h(s(e),t,n),t,n,r,x,i,2):2===u&&c(e,t,n,r,x,i):a(s(e),t,n,r,x,i,1);break}}}function l(e){var t=e.prev,n=e,r=e.next;if(w(t,n,r)>=0)return!1;for(var x=t.x,i=n.x,u=r.x,o=t.y,f=n.y,s=r.y,a=x<i?x<u?x:u:i<u?i:u,l=o<f?o<s?o:s:f<s?f:s,v=x>i?x>u?x:u:i>u?i:u,h=o>f?o>s?o:s:f>s?f:s,c=r.next;c!==t;){if(c.x>=a&&c.x<=v&&c.y>=l&&c.y<=h&&M(x,o,i,f,u,s,c.x,c.y)&&w(c.prev,c,c.next)>=0)return!1;c=c.next}return!0}function v(e,t,n,r){var x=e.prev,i=e,u=e.next;if(w(x,i,u)>=0)return!1;for(var o=x.x,f=i.x,s=u.x,a=x.y,l=i.y,v=u.y,h=o<f?o<s?o:s:f<s?f:s,c=a<l?a<v?a:v:l<v?l:v,p=o>f?o>s?o:s:f>s?f:s,y=a>l?a>v?a:v:l>v?l:v,g=b(h,c,t,n,r),d=b(p,y,t,n,r),Z=e.prevZ,m=e.nextZ;Z&&Z.z>=g&&m&&m.z<=d;){if(Z.x>=h&&Z.x<=p&&Z.y>=c&&Z.y<=y&&Z!==x&&Z!==u&&M(o,a,f,l,s,v,Z.x,Z.y)&&w(Z.prev,Z,Z.next)>=0)return!1;if(Z=Z.prevZ,m.x>=h&&m.x<=p&&m.y>=c&&m.y<=y&&m!==x&&m!==u&&M(o,a,f,l,s,v,m.x,m.y)&&w(m.prev,m,m.next)>=0)return!1;m=m.nextZ}for(;Z&&Z.z>=g;){if(Z.x>=h&&Z.x<=p&&Z.y>=c&&Z.y<=y&&Z!==x&&Z!==u&&M(o,a,f,l,s,v,Z.x,Z.y)&&w(Z.prev,Z,Z.next)>=0)return!1;Z=Z.prevZ}for(;m&&m.z<=d;){if(m.x>=h&&m.x<=p&&m.y>=c&&m.y<=y&&m!==x&&m!==u&&M(o,a,f,l,s,v,m.x,m.y)&&w(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function h(e,t,n){var r=e;do{var x=r.prev,i=r.next.next;!m(x,i)&&A(x,r,r.next,i)&&z(x,i)&&z(i,x)&&(t.push(x.i/n|0),t.push(r.i/n|0),t.push(i.i/n|0),B(r),B(r.next),r=e=i),r=r.next}while(r!==e);return s(r)}function c(e,t,n,r,x,i){var u=e;do{for(var o=u.next.next;o!==u.prev;){if(u.i!==o.i&&Z(u,o)){var f=F(u,o);return u=s(u,u.next),f=s(f,f.next),a(u,t,n,r,x,i,0),void a(f,t,n,r,x,i,0)}o=o.next}u=u.next}while(u!==e)}function p(e,t){return e.x-t.x}function y(e,t){var n=function(e,t){var n,r=t,x=e.x,i=e.y,u=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var o=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(o<=x&&o>u&&(u=o,n=r.x<r.next.x?r:r.next,o===x))return n}r=r.next}while(r!==t);if(!n)return null;var f,s=n,a=n.x,l=n.y,v=1/0;r=n;do{x>=r.x&&r.x>=a&&x!==r.x&&M(i<l?x:u,i,a,l,i<l?u:x,i,r.x,r.y)&&(f=Math.abs(i-r.y)/(x-r.x),z(r,e)&&(f<v||f===v&&(r.x>n.x||r.x===n.x&&g(n,r)))&&(n=r,v=f)),r=r.next}while(r!==s);return n}(e,t);if(!n)return t;var r=F(n,e);return s(r,r.next),s(n,n.next)}function g(e,t){return w(e.prev,e,t.prev)<0&&w(t.next,e,e.next)<0}function b(e,t,n,r,x){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*x|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*x|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function d(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function M(e,t,n,r,x,i,u,o){return(x-u)*(t-o)>=(e-u)*(i-o)&&(e-u)*(r-o)>=(n-u)*(t-o)&&(n-u)*(i-o)>=(x-u)*(r-o)}function Z(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&A(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(z(e,t)&&z(t,e)&&function(e,t){var n=e,r=!1,x=(e.x+t.x)/2,i=(e.y+t.y)/2;do{n.y>i!=n.next.y>i&&n.next.y!==n.y&&x<(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(w(e.prev,e,t.prev)||w(e,t.prev,t))||m(e,t)&&w(e.prev,e,e.next)>0&&w(t.prev,t,t.next)>0)}function w(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function m(e,t){return e.x===t.x&&e.y===t.y}function A(e,t,n,r){var x=I(w(e,t,n)),i=I(w(e,t,r)),u=I(w(n,r,e)),o=I(w(n,r,t));return x!==i&&u!==o||(!(0!==x||!E(e,n,t))||(!(0!==i||!E(e,r,t))||(!(0!==u||!E(n,e,r))||!(0!==o||!E(n,t,r)))))}function E(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function I(e){return e>0?1:e<0?-1:0}function z(e,t){return w(e.prev,e,e.next)<0?w(e,t,e.next)>=0&&w(e,e.prev,t)>=0:w(e,t,e.prev)<0||w(e,e.next,t)<0}function F(e,t){var n=new _(e.i,e.x,e.y),r=new _(t.i,t.x,t.y),x=e.next,i=t.prev;return e.next=t,t.prev=e,n.next=x,x.prev=n,r.next=n,n.prev=r,i.next=r,r.prev=i,r}function P(e,t,n,r){var x=new _(e,t,n);return r?(x.next=r.next,x.prev=r,r.next.prev=x,r.next=x):(x.prev=x,x.next=x),x}function B(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function _(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function O(e,t,n,r){for(var x=0,i=t,u=n-r;i<n;i+=r)x+=(e[u]-e[i])*(e[i+1]+e[u+1]),u=i;return x}u.exports=o,u.exports.default=o,o.deviation=function(e,t,n,r){var x=t&&t.length,i=x?t[0]*n:e.length,u=Math.abs(O(e,0,i,n));if(x)for(var o=0,f=t.length;o<f;o++){var s=t[o]*n,a=o<f-1?t[o+1]*n:e.length;u-=Math.abs(O(e,s,a,n))}var l=0;for(o=0;o<r.length;o+=3){var v=r[o]*n,h=r[o+1]*n,c=r[o+2]*n;l+=Math.abs((e[v]-e[c])*(e[h+1]-e[v+1])-(e[v]-e[h])*(e[c+1]-e[v+1]))}return 0===u&&0===l?0:Math.abs((l-u)/u)},o.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,x=0;x<e.length;x++){for(var i=0;i<e[x].length;i++)for(var u=0;u<t;u++)n.vertices.push(e[x][i][u]);x>0&&(r+=e[x-1].length,n.holes.push(r))}return n};var N=i(u.exports);const R=[],S={vertexPosition:0,indexPosition:0};function T(e,t,n,r,x){e[t+0]=n,e[t+1]=r,e[t+2]=x}function U(e,t,n,r,x,i){const u=3+x,o=e[t+0],f=e[t+1],s=R;s.length=x;for(let n=0;n<s.length;n++)s[n]=e[t+2+n];let a=i?i.vertexPosition:0,l=i?i.indexPosition:0;const v=a/u;return T(n,a,o,f,0),s.length&&n.set(s,a+3),a+=u,T(n,a,o,f,1),s.length&&n.set(s,a+3),a+=u,T(n,a,o,f,2),s.length&&n.set(s,a+3),a+=u,T(n,a,o,f,3),s.length&&n.set(s,a+3),a+=u,r[l++]=v,r[l++]=v+1,r[l++]=v+3,r[l++]=v+1,r[l++]=v+2,r[l++]=v+3,S.vertexPosition=a,S.indexPosition=l,S}function k(e,t,n,x,i,u,o,f,s,a,l){const v=8+f.length,h=u.length/v,c=[e[t+0],e[t+1]],p=[e[n],e[n+1]],y=r(s,[...c]),g=r(s,[...p]);function b(e,t,n){const r=Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])),x=[(t[0]-e[0])/r,(t[1]-e[1])/r],i=[-x[1],x[0]],u=Math.sqrt((n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1])),o=[(n[0]-e[0])/u,(n[1]-e[1])/u],f=0===r||0===u?0:Math.acos((s=o[0]*x[0]+o[1]*x[1],a=-1,l=1,Math.min(Math.max(s,a),l)));var s,a,l;return o[0]*i[0]+o[1]*i[1]>0?f:2*Math.PI-f}let d=-1,M=-1,Z=l;const w=null!==i;if(null!==x){d=b(y,g,r(s,[...[e[x],e[x+1]]])),Math.cos(d)<=.985&&(Z+=Math.tan((d-Math.PI)/2))}if(w){M=b(g,y,r(s,[...[e[i],e[i+1]]])),Math.cos(M)<=.985&&(Z+=Math.tan((Math.PI-M)/2))}function m(e,t){return 0===t?1e4*e:Math.sign(t)*(1e4*e+Math.abs(t))}return u.push(c[0],c[1],p[0],p[1],d,M,a,m(0,l)),u.push(...f),u.push(c[0],c[1],p[0],p[1],d,M,a,m(1,l)),u.push(...f),u.push(c[0],c[1],p[0],p[1],d,M,a,m(2,l)),u.push(...f),u.push(c[0],c[1],p[0],p[1],d,M,a,m(3,l)),u.push(...f),o.push(h,h+1,h+2,h+1,h+3,h+2),{length:a+Math.sqrt((g[0]-y[0])*(g[0]-y[0])+(g[1]-y[1])*(g[1]-y[1])),angle:Z}}function G(e,t,n,r,x){const i=2+x;let u=t;const o=e.slice(u,u+x);u+=x;const f=e[u++];let s=0;const a=new Array(f-1);for(let t=0;t<f;t++)s+=e[u++],t<f-1&&(a[t]=s);const l=e.slice(u,u+2*s),v=N(l,a,2);for(let e=0;e<v.length;e++)r.push(v[e]+n.length/i);for(let e=0;e<l.length;e+=2)n.push(l[e],l[e+1],...o);return u+2*s}const j=self;j.onmessage=r=>{const i=r.data;switch(i.type){case t:{const e=3,t=2,n=i.customAttributesSize,r=t+n,x=new Float32Array(i.renderInstructions),u=x.length/r,o=4*u*(n+e),f=new Uint32Array(6*u),s=new Float32Array(o);let a;for(let e=0;e<x.length;e+=r)a=U(x,e,s,f,n,a);const l=Object.assign({vertexBuffer:s.buffer,indexBuffer:f.buffer,renderInstructions:x.buffer},i);j.postMessage(l,[s.buffer,f.buffer,x.buffer]);break}case n:{const e=[],t=[],n=i.customAttributesSize,r=2,u=new Float32Array(i.renderInstructions);let o=0;const f=[1,0,0,1,0,0];let s,a;for(x(f,i.renderInstructionsTransform);o<u.length;){a=Array.from(u.slice(o,o+n)),o+=n,s=u[o++];const x=o,i=o+(s-1)*r,l=u[x]===u[i]&&u[x+1]===u[i+1];let v=0,h=0;for(let n=0;n<s-1;n++){let c=null;n>0?c=o+(n-1)*r:l&&(c=i-r);let p=null;n<s-2?p=o+(n+2)*r:l&&(p=x+r);const y=k(u,o+n*r,o+(n+1)*r,c,p,e,t,a,f,v,h);v=y.length,h=y.angle}o+=s*r}const l=Uint32Array.from(t),v=Float32Array.from(e),h=Object.assign({vertexBuffer:v.buffer,indexBuffer:l.buffer,renderInstructions:u.buffer},i);j.postMessage(h,[v.buffer,l.buffer,u.buffer]);break}case e:{const e=[],t=[],n=i.customAttributesSize,r=new Float32Array(i.renderInstructions);let x=0;for(;x<r.length;)x=G(r,x,e,t,n);const u=Uint32Array.from(t),o=Float32Array.from(e),f=Object.assign({vertexBuffer:o.buffer,indexBuffer:u.buffer,renderInstructions:r.buffer},i);j.postMessage(f,[o.buffer,u.buffer,r.buffer]);break}}};';return new Worker(typeof Blob>"u"?"data:application/javascript;base64,"+Buffer.from(t,"binary").toString("base64"):URL.createObjectURL(new Blob([t],{type:"application/javascript"})))}function Xce(t,e){const n=t.viewState.projection,i=e.getSource().getWrapX()&&n.canWrapX(),s=n.getExtent(),l=t.extent,c=i?ds(s):null,a=i?Math.ceil((l[2]-s[2])/c)+1:1;return[i?Math.floor((l[0]-s[0])/c):0,a,c]}class Fct extends UM{constructor(e,n){const r=n.uniforms||{},i=Qo();r[ZA.PROJECTION_MATRIX]=i,super(e,{uniforms:r,postProcesses:n.postProcesses}),this.sourceRevision_=-1,this.verticesBuffer_=new j8(DM,U6),this.indicesBuffer_=new j8(NM,U6),this.vertexShader_=n.vertexShader,this.fragmentShader_=n.fragmentShader,this.program_,this.hitDetectionEnabled_=n.hitDetectionEnabled??!0;const s=n.attributes?n.attributes.map(function(c){return{name:"a_prop_"+c.name,size:1,type:Hu.FLOAT}}):[];this.attributes=[{name:"a_position",size:2,type:Hu.FLOAT},{name:"a_index",size:1,type:Hu.FLOAT}],this.hitDetectionEnabled_&&(this.attributes.push({name:"a_prop_hitColor",size:4,type:Hu.FLOAT}),this.attributes.push({name:"a_featureUid",size:1,type:Hu.FLOAT})),this.attributes.push(...s),this.customAttributes=n.attributes?n.attributes:[],this.previousExtent_=dc(),this.currentTransform_=i,this.renderTransform_=Qo(),this.invertRenderTransform_=Qo(),this.renderInstructions_=new Float32Array(0),this.hitRenderTarget_,this.lastSentId=0,this.worker_=Yce(),this.worker_.addEventListener("message",c=>{const a=c.data;if(a.type===LC.GENERATE_POINT_BUFFERS){const f=a.projectionTransform;this.verticesBuffer_.fromArrayBuffer(a.vertexBuffer),this.helper.flushBufferData(this.verticesBuffer_),this.indicesBuffer_.fromArrayBuffer(a.indexBuffer),this.helper.flushBufferData(this.indicesBuffer_),this.renderTransform_=f,m1(this.invertRenderTransform_,this.renderTransform_),this.renderInstructions_=new Float32Array(c.data.renderInstructions),a.id===this.lastSentId&&(this.ready=!0),this.getLayer().changed()}}),this.featureCache_={},this.featureCount_=0;const l=this.getLayer().getSource();this.sourceListenKeys_=[Ha(l,iu.ADDFEATURE,this.handleSourceFeatureAdded_,this),Ha(l,iu.CHANGEFEATURE,this.handleSourceFeatureChanged_,this),Ha(l,iu.REMOVEFEATURE,this.handleSourceFeatureDelete_,this),Ha(l,iu.CLEAR,this.handleSourceFeatureClear_,this)],l.forEachFeature(c=>{this.featureCache_[Mi(c)]={feature:c,properties:c.getProperties(),geometry:c.getGeometry()},this.featureCount_++})}afterHelperCreated(){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_),this.hitDetectionEnabled_&&(this.hitRenderTarget_=new Hce(this.helper))}handleSourceFeatureAdded_(e){const n=e.feature;this.featureCache_[Mi(n)]={feature:n,properties:n.getProperties(),geometry:n.getGeometry()},this.featureCount_++}handleSourceFeatureChanged_(e){const n=e.feature;this.featureCache_[Mi(n)]={feature:n,properties:n.getProperties(),geometry:n.getGeometry()}}handleSourceFeatureDelete_(e){const n=e.feature;delete this.featureCache_[Mi(n)],this.featureCount_--}handleSourceFeatureClear_(){this.featureCache_={},this.featureCount_=0}renderFrame(e){const n=this.helper.getGL();this.preRender(n,e);const[r,i,s]=Xce(e,this.getLayer());return this.renderWorlds(e,!1,r,i,s),this.helper.finalizeDraw(e,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent),this.hitDetectionEnabled_&&(this.renderWorlds(e,!0,r,i,s),this.hitRenderTarget_.clearCachedData()),this.postRender(n,e),this.helper.getCanvas()}prepareFrameInternal(e){const n=this.getLayer(),r=n.getSource(),i=e.viewState,s=!e.viewHints[to.ANIMATING]&&!e.viewHints[to.INTERACTING],l=!v1(this.previousExtent_,e.extent),c=this.sourceRevision_<r.getRevision();if(c&&(this.sourceRevision_=r.getRevision()),s&&(l||c)){const a=i.projection,f=i.resolution,p=n instanceof Ax?n.getRenderBuffer():0,m=rA(e.extent,p*f);r.loadFeatures(m,f,a),this.rebuildBuffers_(e),this.previousExtent_=e.extent.slice()}return this.helper.useProgram(this.program_,e),this.helper.prepareDraw(e),this.helper.bindBuffer(this.verticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.attributes),!0}rebuildBuffers_(e){const n=Qo();this.helper.makeProjectionTransform(e,n);const i=(this.hitDetectionEnabled_?7:2)+this.customAttributes.length,s=i*this.featureCount_;(!this.renderInstructions_||this.renderInstructions_.length!==s)&&(this.renderInstructions_=new Float32Array(s));let l,c;const a=[],f=[];let p=-1;for(const v in this.featureCache_)if(l=this.featureCache_[v],c=l.geometry,!(!c||c.getType()!=="Point")){if(a[0]=c.getFlatCoordinates()[0],a[1]=c.getFlatCoordinates()[1],Fo(n,a),this.renderInstructions_[++p]=a[0],this.renderInstructions_[++p]=a[1],this.hitDetectionEnabled_){const y=Wce(p+5,f);this.renderInstructions_[++p]=y[0],this.renderInstructions_[++p]=y[1],this.renderInstructions_[++p]=y[2],this.renderInstructions_[++p]=y[3],this.renderInstructions_[++p]=Number(v)}for(let y=0;y<this.customAttributes.length;y++){const T=this.customAttributes[y].callback(l.feature,l.properties);this.renderInstructions_[++p]=T}}const m={id:++this.lastSentId,type:LC.GENERATE_POINT_BUFFERS,renderInstructions:this.renderInstructions_.buffer,customAttributesSize:i-2};m.projectionTransform=n,this.ready=!1,this.worker_.postMessage(m,[this.renderInstructions_.buffer]),this.renderInstructions_=null}forEachFeatureAtCoordinate(e,n,r,i,s){if(es(this.hitDetectionEnabled_,"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has been disabled using the `disableHitDetection: true` option."),!this.renderInstructions_||!this.hitDetectionEnabled_)return;const l=Fo(n.coordinateToPixelTransform,e.slice()),c=this.hitRenderTarget_.readPixel(l[0]/2,l[1]/2),a=[c[0]/255,c[1]/255,c[2]/255,c[3]/255],f=qce(a),p=this.renderInstructions_[f],m=Math.floor(p).toString(),y=this.getLayer().getSource().getFeatureByUid(m);if(y)return i(y,this.getLayer(),null)}renderWorlds(e,n,r,i,s){let l=r;this.helper.useProgram(this.program_,e),n&&(this.hitRenderTarget_.setSize([Math.floor(e.size[0]/2),Math.floor(e.size[1]/2)]),this.helper.prepareDrawToRenderTarget(e,this.hitRenderTarget_,!0)),this.helper.bindBuffer(this.verticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.attributes);do{this.helper.makeProjectionTransform(e,this.currentTransform_),EU(this.currentTransform_,l*s,0),cx(this.currentTransform_,this.invertRenderTransform_),this.helper.applyUniforms(e),this.helper.applyHitDetectionUniform(n);const c=this.indicesBuffer_.getSize();this.helper.drawElements(0,c)}while(++l<i)}disposeInternal(){this.worker_.terminate(),this.layer_=null,this.sourceListenKeys_.forEach(function(e){Eo(e)}),this.sourceListenKeys_=null,super.disposeInternal()}renderDeclutter(){}}class Rct{constructor(e,n){this.name=e,this.data=n,this.texture_=null}getTexture(e){if(!this.texture_){const n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.data.length/4,1,0,e.RGBA,e.UNSIGNED_BYTE,this.data),this.texture_=n}return this.texture_}}const Oct={TILE_TRANSFORM:"u_tileTransform",TRANSITION_ALPHA:"u_transitionAlpha",DEPTH:"u_depth",RENDER_EXTENT:"u_renderExtent",PATTERN_ORIGIN:"u_patternOrigin",RESOLUTION:"u_resolution",ZOOM:"u_zoom",GLOBAL_ALPHA:"u_globalAlpha",PROJECTION_MATRIX:"u_projectionMatrix",SCREEN_TO_WORLD_MATRIX:"u_screenToWorldMatrix"},fP={...Oct,TILE_TEXTURE_ARRAY:"u_tileTextures",TEXTURE_PIXEL_WIDTH:"u_texturePixelWidth",TEXTURE_PIXEL_HEIGHT:"u_texturePixelHeight",TEXTURE_RESOLUTION:"u_textureResolution",TEXTURE_ORIGIN_X:"u_textureOriginX",TEXTURE_ORIGIN_Y:"u_textureOriginY"};function Dct(t,e){return`operator_${t}_${Object.keys(e.functions).length}`}function py(t){const e=t.toString();return e.includes(".")?e:e+".0"}function Az(t){if(t.length<2||t.length>4)throw new Error("`formatArray` can only output `vec2`, `vec3` or `vec4` arrays.");return`vec${t.length}(${t.map(py).join(", ")})`}function MT(t){const e=Lm(t),n=e.length>3?e[3]:1;return Az([e[0]/255*n,e[1]/255*n,e[2]/255*n,n])}const pP={};let Nct=0;function iD(t){return t in pP||(pP[t]=Nct++),pP[t]}function Gg(t){return py(iD(t))}function Zce(t){return"u_var_"+t}const AP="getBandValue",Uct="u_paletteTextures";function zct(t,e,n,r){const i=Ts(t,n,e);if(F5(i.type,Gy))throw new Error("No matching type was found");if(!Zp(e,i.type)){const s=Su(e),l=Su(i.type);throw new Error(`Expected expression to be of type ${s}, got ${l}`)}return mz(i,e,r)}function ms(t){return(e,n,r)=>{const i=n.args.length,s=new Array(i);for(let l=0;l<i;++l)s[l]=mz(n.args[l],r,e);return t(s,e)}}const $ct={[Pn.Get]:(t,e)=>{const r=e.args[0].value;return r in t.properties||(t.properties[r]={name:r,type:e.type}),(t.inFragmentShader?"v_prop_":"a_prop_")+r},[Pn.GeometryType]:(t,e,n)=>{const r="geometryType";return r in t.properties||(t.properties[r]={name:r,type:vu,evaluator:l=>iz(l.getGeometry())}),(t.inFragmentShader?"v_prop_":"a_prop_")+r},[Pn.Var]:(t,e)=>{const r=e.args[0].value;return r in t.variables||(t.variables[r]={name:r,type:e.type}),Zce(r)},[Pn.Resolution]:()=>"u_resolution",[Pn.Zoom]:()=>"u_zoom",[Pn.Time]:()=>"u_time",[Pn.Any]:ms(t=>`(${t.join(" || ")})`),[Pn.All]:ms(t=>`(${t.join(" && ")})`),[Pn.Not]:ms(([t])=>`(!${t})`),[Pn.Equal]:ms(([t,e])=>`(${t} == ${e})`),[Pn.NotEqual]:ms(([t,e])=>`(${t} != ${e})`),[Pn.GreaterThan]:ms(([t,e])=>`(${t} > ${e})`),[Pn.GreaterThanOrEqualTo]:ms(([t,e])=>`(${t} >= ${e})`),[Pn.LessThan]:ms(([t,e])=>`(${t} < ${e})`),[Pn.LessThanOrEqualTo]:ms(([t,e])=>`(${t} <= ${e})`),[Pn.Multiply]:ms(t=>`(${t.join(" * ")})`),[Pn.Divide]:ms(([t,e])=>`(${t} / ${e})`),[Pn.Add]:ms(t=>`(${t.join(" + ")})`),[Pn.Subtract]:ms(([t,e])=>`(${t} - ${e})`),[Pn.Clamp]:ms(([t,e,n])=>`clamp(${t}, ${e}, ${n})`),[Pn.Mod]:ms(([t,e])=>`mod(${t}, ${e})`),[Pn.Pow]:ms(([t,e])=>`pow(${t}, ${e})`),[Pn.Abs]:ms(([t])=>`abs(${t})`),[Pn.Floor]:ms(([t])=>`floor(${t})`),[Pn.Ceil]:ms(([t])=>`ceil(${t})`),[Pn.Round]:ms(([t])=>`floor(${t} + 0.5)`),[Pn.Sin]:ms(([t])=>`sin(${t})`),[Pn.Cos]:ms(([t])=>`cos(${t})`),[Pn.Atan]:ms(([t,e])=>e!==void 0?`atan(${t}, ${e})`:`atan(${t})`),[Pn.Sqrt]:ms(([t])=>`sqrt(${t})`),[Pn.Match]:ms(t=>{const e=t[0],n=t[t.length-1];let r=null;for(let i=t.length-3;i>=1;i-=2){const s=t[i],l=t[i+1];r=`(${e} == ${s} ? ${l} : ${r||n})`}return r}),[Pn.Between]:ms(([t,e,n])=>`(${t} >= ${e} && ${t} <= ${n})`),[Pn.Interpolate]:ms(([t,e,...n])=>{let r="";for(let i=0;i<n.length-2;i+=2){const s=n[i],l=r||n[i+1],c=n[i+2],a=n[i+3];let f;t===py(1)?f=`(${e} - ${s}) / (${c} - ${s})`:f=`(pow(${t}, (${e} - ${s})) - 1.0) / (pow(${t}, (${c} - ${s})) - 1.0)`,r=`mix(${l}, ${a}, clamp(${f}, 0.0, 1.0))`}return r}),[Pn.Case]:ms(t=>{const e=t[t.length-1];let n=null;for(let r=t.length-3;r>=0;r-=2){const i=t[r],s=t[r+1];n=`(${i} ? ${s} : ${n||e})`}return n}),[Pn.In]:ms(([t,...e],n)=>{const r=Dct("in",n),i=[];for(let s=0;s<e.length;s+=1)i.push(`  if (inputValue == ${e[s]}) { return true; }`);return n.functions[r]=`bool ${r}(float inputValue) {
${i.join(`
`)}
  return false;
}`,`${r}(${t})`}),[Pn.Array]:ms(t=>`vec${t.length}(${t.join(", ")})`),[Pn.Color]:ms(t=>{if(t.length===1)return`vec4(vec3(${t[0]} / 255.0), 1.0)`;if(t.length===2)return`(${t[1]} * vec4(vec3(${t[0]} / 255.0), 1.0))`;const e=t.slice(0,3).map(r=>`${r} / 255.0`);return t.length===3?`vec4(${e.join(", ")}, 1.0)`:`(${t[3]} * vec4(${e.join(", ")}, 1.0))`}),[Pn.Band]:ms(([t,e,n],r)=>{if(!(AP in r.functions)){let i="";const s=r.bandCount||1;for(let l=0;l<s;l++){const c=Math.floor(l/4);let a=l%4;l===s-1&&a===1&&(a=3);const f=`${fP.TILE_TEXTURE_ARRAY}[${c}]`;i+=`  if (band == ${l+1}.0) {
    return texture2D(${f}, v_textureCoord + vec2(dx, dy))[${a}];
  }
`}r.functions[AP]=`float getBandValue(float band, float xOffset, float yOffset) {
  float dx = xOffset / ${fP.TEXTURE_PIXEL_WIDTH};
  float dy = yOffset / ${fP.TEXTURE_PIXEL_HEIGHT};
${i}
}`}return`${AP}(${t}, ${e??"0.0"}, ${n??"0.0"})`}),[Pn.Palette]:(t,e)=>{const[n,...r]=e.args,i=r.length,s=new Uint8Array(i*4);for(let f=0;f<r.length;f++){const p=r[f].value,m=Lm(p),v=f*4;s[v]=m[0],s[v+1]=m[1],s[v+2]=m[2],s[v+3]=m[3]*255}t.paletteTextures||(t.paletteTextures=[]);const l=`${Uct}[${t.paletteTextures.length}]`,c=new Rct(l,s);t.paletteTextures.push(c);const a=mz(n,$r,t);return`texture2D(${l}, vec2((${a} + 0.5) / ${i}.0, 0.5))`}};function mz(t,e,n){if(t instanceof tce){const r=$ct[t.operator];if(r===void 0)throw new Error(`No compiler defined for this operator: ${JSON.stringify(t.operator)}`);return r(n,t,e)}if((t.type&$r)>0)return py(t.value);if((t.type&bo)>0)return t.value.toString();if((t.type&vu)>0)return Gg(t.value.toString());if((t.type&zs)>0)return MT(t.value);if((t.type&Dl)>0)return Az(t.value);throw new Error(`Unexpected expression ${t.value} (expected type ${Su(e)})`)}function Vct(){return{"fill-color":"rgba(255,255,255,0.4)","stroke-color":"#3399CC","stroke-width":1.25,"circle-radius":5,"circle-fill-color":"rgba(255,255,255,0.4)","circle-stroke-width":1.25,"circle-stroke-color":"#3399CC"}}const Wb=`#ifdef GL_FRAGMENT_PRECISION_HIGH
precision highp float;
#else
precision mediump float;
#endif
uniform mat4 u_projectionMatrix;
uniform mat4 u_screenToWorldMatrix;
uniform vec2 u_viewportSizePx;
uniform float u_pixelRatio;
uniform float u_globalAlpha;
uniform float u_time;
uniform float u_zoom;
uniform float u_resolution;
uniform float u_rotation;
uniform vec4 u_renderExtent;
uniform vec2 u_patternOrigin;
uniform float u_depth;
uniform mediump int u_hitDetection;

const float PI = 3.141592653589793238;
const float TWO_PI = 2.0 * PI;

// this used to produce an alpha-premultiplied color from a texture
vec4 samplePremultiplied(sampler2D sampler, vec2 texCoord) {
  vec4 color = texture2D(sampler, texCoord);
  return vec4(color.rgb * color.a, color.a);
}
`,qb=Vct();class Jce{constructor(){this.uniforms_=[],this.attributes_=[],this.varyings_=[],this.hasSymbol_=!1,this.symbolSizeExpression_=`vec2(${py(qb["circle-radius"])} + ${py(qb["circle-stroke-width"]*.5)})`,this.symbolRotationExpression_="0.0",this.symbolOffsetExpression_="vec2(0.0)",this.symbolColorExpression_=MT(qb["circle-fill-color"]),this.texCoordExpression_="vec4(0.0, 0.0, 1.0, 1.0)",this.discardExpression_="false",this.symbolRotateWithView_=!1,this.hasStroke_=!1,this.strokeWidthExpression_=py(qb["stroke-width"]),this.strokeColorExpression_=MT(qb["stroke-color"]),this.strokeOffsetExpression_="0.",this.strokeCapExpression_=Gg("round"),this.strokeJoinExpression_=Gg("round"),this.strokeMiterLimitExpression_="10.",this.strokeDistanceFieldExpression_="-1000.",this.hasFill_=!1,this.fillColorExpression_=MT(qb["fill-color"]),this.vertexShaderFunctions_=[],this.fragmentShaderFunctions_=[]}addUniform(e){return this.uniforms_.push(e),this}addAttribute(e){return this.attributes_.push(e),this}addVarying(e,n,r){return this.varyings_.push({name:e,type:n,expression:r}),this}setSymbolSizeExpression(e){return this.hasSymbol_=!0,this.symbolSizeExpression_=e,this}getSymbolSizeExpression(){return this.symbolSizeExpression_}setSymbolRotationExpression(e){return this.symbolRotationExpression_=e,this}setSymbolOffsetExpression(e){return this.symbolOffsetExpression_=e,this}getSymbolOffsetExpression(){return this.symbolOffsetExpression_}setSymbolColorExpression(e){return this.hasSymbol_=!0,this.symbolColorExpression_=e,this}getSymbolColorExpression(){return this.symbolColorExpression_}setTextureCoordinateExpression(e){return this.texCoordExpression_=e,this}setFragmentDiscardExpression(e){return this.discardExpression_=e,this}getFragmentDiscardExpression(){return this.discardExpression_}setSymbolRotateWithView(e){return this.symbolRotateWithView_=e,this}setStrokeWidthExpression(e){return this.hasStroke_=!0,this.strokeWidthExpression_=e,this}setStrokeColorExpression(e){return this.hasStroke_=!0,this.strokeColorExpression_=e,this}getStrokeColorExpression(){return this.strokeColorExpression_}setStrokeOffsetExpression(e){return this.strokeOffsetExpression_=e,this}setStrokeCapExpression(e){return this.strokeCapExpression_=e,this}setStrokeJoinExpression(e){return this.strokeJoinExpression_=e,this}setStrokeMiterLimitExpression(e){return this.strokeMiterLimitExpression_=e,this}setStrokeDistanceFieldExpression(e){return this.strokeDistanceFieldExpression_=e,this}setFillColorExpression(e){return this.hasFill_=!0,this.fillColorExpression_=e,this}getFillColorExpression(){return this.fillColorExpression_}addVertexShaderFunction(e){this.vertexShaderFunctions_.includes(e)||this.vertexShaderFunctions_.push(e)}addFragmentShaderFunction(e){this.fragmentShaderFunctions_.includes(e)||this.fragmentShaderFunctions_.push(e)}getSymbolVertexShader(){return this.hasSymbol_?`${Wb}
${this.uniforms_.map(function(e){return"uniform "+e+";"}).join(`
`)}
attribute vec2 a_position;
attribute float a_index;
attribute vec4 a_prop_hitColor;
${this.attributes_.map(function(e){return"attribute "+e+";"}).join(`
`)}
varying vec2 v_texCoord;
varying vec2 v_quadCoord;
varying vec4 v_prop_hitColor;
varying vec2 v_centerPx;
varying float v_angle;
varying vec2 v_quadSizePx;
${this.varyings_.map(function(e){return"varying "+e.type+" "+e.name+";"}).join(`
`)}
${this.vertexShaderFunctions_.join(`
`)}
vec2 pxToScreen(vec2 coordPx) {
  vec2 scaled = coordPx / u_viewportSizePx / 0.5;
  return scaled;
}

vec2 screenToPx(vec2 coordScreen) {
  return (coordScreen * 0.5 + 0.5) * u_viewportSizePx;
}

void main(void) {
  v_quadSizePx = ${this.symbolSizeExpression_};
  vec2 halfSizePx = v_quadSizePx * 0.5;
  vec2 centerOffsetPx = ${this.symbolOffsetExpression_};
  vec2 offsetPx = centerOffsetPx;
  if (a_index == 0.0) {
    offsetPx -= halfSizePx;
  } else if (a_index == 1.0) {
    offsetPx += halfSizePx * vec2(1., -1.);
  } else if (a_index == 2.0) {
    offsetPx += halfSizePx;
  } else {
    offsetPx += halfSizePx * vec2(-1., 1.);
  }
  float angle = ${this.symbolRotationExpression_};
  ${this.symbolRotateWithView_?"angle += u_rotation;":""}
  float c = cos(-angle);
  float s = sin(-angle);
  offsetPx = vec2(c * offsetPx.x - s * offsetPx.y, s * offsetPx.x + c * offsetPx.y);
  vec4 center = u_projectionMatrix * vec4(a_position, 0.0, 1.0);
  gl_Position = center + vec4(pxToScreen(offsetPx), u_depth, 0.);
  vec4 texCoord = ${this.texCoordExpression_};
  float u = a_index == 0.0 || a_index == 3.0 ? texCoord.s : texCoord.p;
  float v = a_index == 2.0 || a_index == 3.0 ? texCoord.t : texCoord.q;
  v_texCoord = vec2(u, v);
  v_prop_hitColor = a_prop_hitColor;
  v_angle = angle;
  c = cos(-v_angle);
  s = sin(-v_angle);
  centerOffsetPx = vec2(c * centerOffsetPx.x - s * centerOffsetPx.y, s * centerOffsetPx.x + c * centerOffsetPx.y); 
  v_centerPx = screenToPx(center.xy) + centerOffsetPx;
${this.varyings_.map(function(e){return"  "+e.name+" = "+e.expression+";"}).join(`
`)}
}`:null}getSymbolFragmentShader(){return this.hasSymbol_?`${Wb}
${this.uniforms_.map(function(e){return"uniform "+e+";"}).join(`
`)}
varying vec2 v_texCoord;
varying vec4 v_prop_hitColor;
varying vec2 v_centerPx;
varying float v_angle;
varying vec2 v_quadSizePx;
${this.varyings_.map(function(e){return"varying "+e.type+" "+e.name+";"}).join(`
`)}
${this.fragmentShaderFunctions_.join(`
`)}

void main(void) {
  if (${this.discardExpression_}) { discard; }
  vec2 coordsPx = gl_FragCoord.xy / u_pixelRatio - v_centerPx; // relative to center
  float c = cos(v_angle);
  float s = sin(v_angle);
  coordsPx = vec2(c * coordsPx.x - s * coordsPx.y, s * coordsPx.x + c * coordsPx.y);
  gl_FragColor = ${this.symbolColorExpression_};
  if (u_hitDetection > 0) {
    if (gl_FragColor.a < 0.05) { discard; };
    gl_FragColor = v_prop_hitColor;
  }
}`:null}getStrokeVertexShader(){return this.hasStroke_?`${Wb}
${this.uniforms_.map(function(e){return"uniform "+e+";"}).join(`
`)}
attribute vec2 a_position;
attribute float a_index;
attribute vec2 a_segmentStart;
attribute vec2 a_segmentEnd;
attribute float a_parameters;
attribute float a_distance;
attribute vec2 a_joinAngles;
attribute vec4 a_prop_hitColor;
${this.attributes_.map(function(e){return"attribute "+e+";"}).join(`
`)}
varying vec2 v_segmentStart;
varying vec2 v_segmentEnd;
varying float v_angleStart;
varying float v_angleEnd;
varying float v_width;
varying vec4 v_prop_hitColor;
varying float v_distanceOffsetPx;
${this.varyings_.map(function(e){return"varying "+e.type+" "+e.name+";"}).join(`
`)}
${this.vertexShaderFunctions_.join(`
`)}
vec2 worldToPx(vec2 worldPos) {
  vec4 screenPos = u_projectionMatrix * vec4(worldPos, 0.0, 1.0);
  return (0.5 * screenPos.xy + 0.5) * u_viewportSizePx;
}

vec4 pxToScreen(vec2 pxPos) {
  vec2 screenPos = 2.0 * pxPos / u_viewportSizePx - 1.0;
  return vec4(screenPos, u_depth, 1.0);
}

bool isCap(float joinAngle) {
  return joinAngle < -0.1;
}

vec2 getJoinOffsetDirection(vec2 normalPx, float joinAngle) {
  float halfAngle = joinAngle / 2.0;
  float c = cos(halfAngle);
  float s = sin(halfAngle);
  vec2 angleBisectorNormal = vec2(s * normalPx.x + c * normalPx.y, -c * normalPx.x + s * normalPx.y);
  float length = 1.0 / s;
  return angleBisectorNormal * length;
}

vec2 getOffsetPoint(vec2 point, vec2 normal, float joinAngle, float offsetPx) {
  // if on a cap or the join angle is too high, offset the line along the segment normal
  if (cos(joinAngle) > 0.998 || isCap(joinAngle)) {
    return point - normal * offsetPx;
  }
  // offset is applied along the inverted normal (positive offset goes "right" relative to line direction)
  return point - getJoinOffsetDirection(normal, joinAngle) * offsetPx;
}

void main(void) {
  v_angleStart = a_joinAngles.x;
  v_angleEnd = a_joinAngles.y;
  float vertexNumber = floor(abs(a_parameters) / 10000. + 0.5);
  // we're reading the fractional part while keeping the sign (so -4.12 gives -0.12, 3.45 gives 0.45)
  float angleTangentSum = fract(abs(a_parameters) / 10000.) * 10000. * sign(a_parameters);

  float lineWidth = ${this.strokeWidthExpression_};
  float lineOffsetPx = ${this.strokeOffsetExpression_};

  // compute segment start/end in px with offset
  vec2 segmentStartPx = worldToPx(a_segmentStart);
  vec2 segmentEndPx = worldToPx(a_segmentEnd);
  vec2 tangentPx = normalize(segmentEndPx - segmentStartPx);
  vec2 normalPx = vec2(-tangentPx.y, tangentPx.x);
  segmentStartPx = getOffsetPoint(segmentStartPx, normalPx, v_angleStart, lineOffsetPx),
  segmentEndPx = getOffsetPoint(segmentEndPx, normalPx, v_angleEnd, lineOffsetPx);
  
  // compute current vertex position
  float normalDir = vertexNumber < 0.5 || (vertexNumber > 1.5 && vertexNumber < 2.5) ? 1.0 : -1.0;
  float tangentDir = vertexNumber < 1.5 ? 1.0 : -1.0;
  float angle = vertexNumber < 1.5 ? v_angleStart : v_angleEnd;
  vec2 joinDirection;
  vec2 positionPx = vertexNumber < 1.5 ? segmentStartPx : segmentEndPx;
  // if angle is too high, do not make a proper join
  if (cos(angle) > ${hX} || isCap(angle)) {
    joinDirection = normalPx * normalDir - tangentPx * tangentDir;
  } else {
    joinDirection = getJoinOffsetDirection(normalPx * normalDir, angle);
  }
  positionPx = positionPx + joinDirection * (lineWidth * 0.5 + 1.); // adding 1 pixel for antialiasing
  gl_Position = pxToScreen(positionPx);

  v_segmentStart = segmentStartPx;
  v_segmentEnd = segmentEndPx;
  v_width = lineWidth;
  v_prop_hitColor = a_prop_hitColor;
  v_distanceOffsetPx = a_distance / u_resolution - (lineOffsetPx * angleTangentSum);
${this.varyings_.map(function(e){return"  "+e.name+" = "+e.expression+";"}).join(`
`)}
}`:null}getStrokeFragmentShader(){return this.hasStroke_?`${Wb}
${this.uniforms_.map(function(e){return"uniform "+e+";"}).join(`
`)}
varying vec2 v_segmentStart;
varying vec2 v_segmentEnd;
varying float v_angleStart;
varying float v_angleEnd;
varying float v_width;
varying vec4 v_prop_hitColor;
varying float v_distanceOffsetPx;
${this.varyings_.map(function(e){return"varying "+e.type+" "+e.name+";"}).join(`
`)}
${this.fragmentShaderFunctions_.join(`
`)}

vec2 pxToWorld(vec2 pxPos) {
  vec2 screenPos = 2.0 * pxPos / u_viewportSizePx - 1.0;
  return (u_screenToWorldMatrix * vec4(screenPos, 0.0, 1.0)).xy;
}

bool isCap(float joinAngle) {
  return joinAngle < -0.1;
}

float segmentDistanceField(vec2 point, vec2 start, vec2 end, float width) {
  vec2 tangent = normalize(end - start);
  vec2 normal = vec2(-tangent.y, tangent.x);
  vec2 startToPoint = point - start;
  return abs(dot(startToPoint, normal)) - width * 0.5;
}

float buttCapDistanceField(vec2 point, vec2 start, vec2 end) {
  vec2 startToPoint = point - start;
  vec2 tangent = normalize(end - start);
  return dot(startToPoint, -tangent);
}

float squareCapDistanceField(vec2 point, vec2 start, vec2 end, float width) {
  return buttCapDistanceField(point, start, end) - width * 0.5;
}

float roundCapDistanceField(vec2 point, vec2 start, vec2 end, float width) {
  float onSegment = max(0., 1000. * dot(point - start, end - start)); // this is very high when inside the segment
  return length(point - start) - width * 0.5 - onSegment;
}

float roundJoinDistanceField(vec2 point, vec2 start, vec2 end, float width) {
  return roundCapDistanceField(point, start, end, width);
}

float bevelJoinField(vec2 point, vec2 start, vec2 end, float width, float joinAngle) {
  vec2 startToPoint = point - start;
  vec2 tangent = normalize(end - start);
  float c = cos(joinAngle * 0.5);
  float s = sin(joinAngle * 0.5);
  float direction = -sign(sin(joinAngle));
  vec2 bisector = vec2(c * tangent.x - s * tangent.y, s * tangent.x + c * tangent.y);
  float radius = width * 0.5 * s;
  return dot(startToPoint, bisector * direction) - radius;
}

float miterJoinDistanceField(vec2 point, vec2 start, vec2 end, float width, float joinAngle) {
  if (cos(joinAngle) > ${hX}) { // avoid risking a division by zero
    return bevelJoinField(point, start, end, width, joinAngle);
  }
  float miterLength = 1. / sin(joinAngle * 0.5);
  float miterLimit = ${this.strokeMiterLimitExpression_};
  if (miterLength > miterLimit) {
    return bevelJoinField(point, start, end, width, joinAngle);
  }
  return -1000.;
}

float capDistanceField(vec2 point, vec2 start, vec2 end, float width, float capType) {
   if (capType == ${Gg("butt")}) {
    return buttCapDistanceField(point, start, end);
  } else if (capType == ${Gg("square")}) {
    return squareCapDistanceField(point, start, end, width);
  }
  return roundCapDistanceField(point, start, end, width);
}

float joinDistanceField(vec2 point, vec2 start, vec2 end, float width, float joinAngle, float joinType) {
  if (joinType == ${Gg("bevel")}) {
    return bevelJoinField(point, start, end, width, joinAngle);
  } else if (joinType == ${Gg("miter")}) {
    return miterJoinDistanceField(point, start, end, width, joinAngle);
  }
  return roundJoinDistanceField(point, start, end, width);
}

float computeSegmentPointDistance(vec2 point, vec2 start, vec2 end, float width, float joinAngle, float capType, float joinType) {
  if (isCap(joinAngle)) {
    return capDistanceField(point, start, end, width, capType);
  }
  return joinDistanceField(point, start, end, width, joinAngle, joinType);
}

void main(void) {
  vec2 currentPoint = gl_FragCoord.xy / u_pixelRatio;
  #ifdef GL_FRAGMENT_PRECISION_HIGH
  vec2 worldPos = pxToWorld(currentPoint);
  if (
    abs(u_renderExtent[0] - u_renderExtent[2]) > 0.0 && (
      worldPos[0] < u_renderExtent[0] ||
      worldPos[1] < u_renderExtent[1] ||
      worldPos[0] > u_renderExtent[2] ||
      worldPos[1] > u_renderExtent[3]
    )
  ) {
    discard;
  }
  #endif
  if (${this.discardExpression_}) { discard; }

  float segmentLength = length(v_segmentEnd - v_segmentStart);
  vec2 segmentTangent = (v_segmentEnd - v_segmentStart) / segmentLength;
  vec2 segmentNormal = vec2(-segmentTangent.y, segmentTangent.x);
  vec2 startToPoint = currentPoint - v_segmentStart;
  float currentLengthPx = max(0., min(dot(segmentTangent, startToPoint), segmentLength)) + v_distanceOffsetPx; 
  float currentRadiusPx = abs(dot(segmentNormal, startToPoint));
  float currentRadiusRatio = dot(segmentNormal, startToPoint) * 2. / v_width;
  vec4 color = ${this.strokeColorExpression_} * u_globalAlpha;
  float capType = ${this.strokeCapExpression_};
  float joinType = ${this.strokeJoinExpression_};
  float segmentStartDistance = computeSegmentPointDistance(currentPoint, v_segmentStart, v_segmentEnd, v_width, v_angleStart, capType, joinType);
  float segmentEndDistance = computeSegmentPointDistance(currentPoint, v_segmentEnd, v_segmentStart, v_width, v_angleEnd, capType, joinType);
  float distance = max(
    segmentDistanceField(currentPoint, v_segmentStart, v_segmentEnd, v_width),
    max(segmentStartDistance, segmentEndDistance)
  );
  distance = max(distance, ${this.strokeDistanceFieldExpression_});
  gl_FragColor = color * smoothstep(0.5, -0.5, distance);
  if (u_hitDetection > 0) {
    if (gl_FragColor.a < 0.1) { discard; };
    gl_FragColor = v_prop_hitColor;
  }
}`:null}getFillVertexShader(){return this.hasFill_?`${Wb}
${this.uniforms_.map(function(e){return"uniform "+e+";"}).join(`
`)}
attribute vec2 a_position;
attribute vec4 a_prop_hitColor;
${this.attributes_.map(function(e){return"attribute "+e+";"}).join(`
`)}
varying vec4 v_prop_hitColor;
${this.varyings_.map(function(e){return"varying "+e.type+" "+e.name+";"}).join(`
`)}
${this.vertexShaderFunctions_.join(`
`)}
void main(void) {
  gl_Position = u_projectionMatrix * vec4(a_position, u_depth, 1.0);
  v_prop_hitColor = a_prop_hitColor;
${this.varyings_.map(function(e){return"  "+e.name+" = "+e.expression+";"}).join(`
`)}
}`:null}getFillFragmentShader(){return this.hasFill_?`${Wb}
${this.uniforms_.map(function(e){return"uniform "+e+";"}).join(`
`)}
varying vec4 v_prop_hitColor;
${this.varyings_.map(function(e){return"varying "+e.type+" "+e.name+";"}).join(`
`)}
${this.fragmentShaderFunctions_.join(`
`)}
vec2 pxToWorld(vec2 pxPos) {
  vec2 screenPos = 2.0 * pxPos / u_viewportSizePx - 1.0;
  return (u_screenToWorldMatrix * vec4(screenPos, 0.0, 1.0)).xy;
}

vec2 worldToPx(vec2 worldPos) {
  vec4 screenPos = u_projectionMatrix * vec4(worldPos, 0.0, 1.0);
  return (0.5 * screenPos.xy + 0.5) * u_viewportSizePx;
}

void main(void) {
  vec2 pxPos = gl_FragCoord.xy / u_pixelRatio;
  vec2 pxOrigin = worldToPx(u_patternOrigin);
  #ifdef GL_FRAGMENT_PRECISION_HIGH
  vec2 worldPos = pxToWorld(pxPos);
  if (
    abs(u_renderExtent[0] - u_renderExtent[2]) > 0.0 && (
      worldPos[0] < u_renderExtent[0] ||
      worldPos[1] < u_renderExtent[1] ||
      worldPos[0] > u_renderExtent[2] ||
      worldPos[1] > u_renderExtent[3]
    )
  ) {
    discard;
  }
  #endif
  if (${this.discardExpression_}) { discard; }
  gl_FragColor = ${this.fillColorExpression_} * u_globalAlpha;
  if (u_hitDetection > 0) {
    if (gl_FragColor.a < 0.1) { discard; };
    gl_FragColor = v_prop_hitColor;
  }
}`:null}}const Lp={BLUR:"blur",GRADIENT:"gradient",RADIUS:"radius"},Hct=["#00f","#0ff","#0f0","#ff0","#f00"];class Qct extends Ax{constructor(e){e=e||{};const n=Object.assign({},e);delete n.gradient,delete n.radius,delete n.blur,delete n.weight,super(n),this.gradient_=null,this.addChangeListener(Lp.GRADIENT,this.handleGradientChanged_),this.setGradient(e.gradient?e.gradient:Hct),this.setBlur(e.blur!==void 0?e.blur:15),this.setRadius(e.radius!==void 0?e.radius:8);const r=e.weight?e.weight:"weight";typeof r=="string"?this.weightFunction_=function(i){return i.get(r)}:this.weightFunction_=r,this.setRenderOrder(null)}getBlur(){return this.get(Lp.BLUR)}getGradient(){return this.get(Lp.GRADIENT)}getRadius(){return this.get(Lp.RADIUS)}handleGradientChanged_(){this.gradient_=jct(this.getGradient())}setBlur(e){this.set(Lp.BLUR,e)}setGradient(e){this.set(Lp.GRADIENT,e)}setRadius(e){this.set(Lp.RADIUS,e)}createRenderer(){const e=new Jce().addAttribute("float a_prop_weight").addVarying("v_prop_weight","float","a_prop_weight").addUniform("float u_size").addUniform("float u_blurSlope").setSymbolSizeExpression("vec2(u_size)").setSymbolColorExpression("vec4(smoothstep(0., 1., (1. - length(coordsPx * 2. / v_quadSizePx)) * u_blurSlope) * v_prop_weight)");return new Fct(this,{className:this.getClassName(),attributes:[{name:"weight",callback:n=>{const r=this.weightFunction_(n);return r!==void 0?Ol(r,0,1):1}}],uniforms:{u_size:()=>(this.get(Lp.RADIUS)+this.get(Lp.BLUR))*2,u_blurSlope:()=>this.get(Lp.RADIUS)/Math.max(1,this.get(Lp.BLUR))},hitDetectionEnabled:!0,vertexShader:e.getSymbolVertexShader(),fragmentShader:e.getSymbolFragmentShader(),postProcesses:[{fragmentShader:`
            precision mediump float;

            uniform sampler2D u_image;
            uniform sampler2D u_gradientTexture;
            uniform float u_opacity;

            varying vec2 v_texCoord;

            void main() {
              vec4 color = texture2D(u_image, v_texCoord);
              gl_FragColor.a = color.a * u_opacity;
              gl_FragColor.rgb = texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;
              gl_FragColor.rgb *= gl_FragColor.a;
            }`,uniforms:{u_gradientTexture:()=>this.gradient_,u_opacity:()=>this.getOpacity()}}]})}renderDeclutter(){}}function jct(t){const r=Ku(1,256),i=r.createLinearGradient(0,0,1,256),s=1/(t.length-1);for(let l=0,c=t.length;l<c;++l)i.addColorStop(l*s,t[l]);return r.fillStyle=i,r.fillRect(0,0,1,256),r.canvas}const Gct={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"],vector:[]},dX={hybrid:["Image","Text","Default"],vector:["Polygon","Circle","LineString","Image","Text","Default"]};class Kct extends Mce{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.renderedLayerRevision_,this.renderedPixelToCoordinateTransform_=null,this.renderedRotation_,this.renderedOpacity_=1,this.tmpTransform_=Qo(),this.tileClipContexts_=null}prepareTile(e,n,r){let i;const s=e.getState();return(s===Qi.LOADED||s===Qi.ERROR)&&(this.updateExecutorGroup_(e,n,r),this.tileImageNeedsRender_(e)&&(i=!0)),i}getTile(e,n,r,i){const s=i.pixelRatio,l=i.viewState,c=l.resolution,a=l.projection,f=this.getLayer(),p=f.getSource().getTile(e,n,r,s,a),m=i.viewHints,v=!(m[to.ANIMATING]||m[to.INTERACTING]);return(v||!p.wantedResolution)&&(p.wantedResolution=c),this.prepareTile(p,s,a)&&(v||Date.now()-i.time<8)&&f.getRenderMode()!=="vector"&&this.renderTileImage_(p,i),super.getTile(e,n,r,i)}isDrawableTile(e){const n=this.getLayer();return super.isDrawableTile(e)&&(n.getRenderMode()==="vector"?Mi(n)in e.executorGroups:e.hasContext(n))}getTileImage(e){return e.getImage(this.getLayer())}prepareFrame(e){const n=this.getLayer().getRevision();return this.renderedLayerRevision_!==n&&(this.renderedLayerRevision_=n,this.renderedTiles.length=0),super.prepareFrame(e)}updateExecutorGroup_(e,n,r){var k;const i=this.getLayer(),s=i.getRevision(),l=i.getRenderOrder()||null,c=e.wantedResolution,a=e.getReplayState(i);if(!a.dirty&&a.renderedResolution===c&&a.renderedRevision==s&&a.renderedRenderOrder==l)return;const f=i.getSource(),p=!!i.getDeclutter(),m=f.getTileGrid(),y=f.getTileGridForProjection(r).getTileCoordExtent(e.wrappedTileCoord),T=f.getSourceTiles(n,r,e),C=Mi(i);delete e.hitDetectionImageData[C],e.executorGroups[C]=[],a.dirty=!1;for(let M=0,P=T.length;M<P;++M){const R=T[M];if(R.getState()!=Qi.LOADED)continue;const N=R.tileCoord,z=m.getTileCoordExtent(N),H=cy(y,z),j=rA(H,i.getRenderBuffer()*c,this.tmpExtent),Q=v1(z,H)?null:j,G=new Lce(0,H,c,n),ie=JO(c,n),q=function(te,ne){let ce;const ue=te.getStyleFunction()||i.getStyleFunction();if(ue&&(ce=ue(te,c)),ce){const ye=this.renderFeature(te,ie,ce,G,p,ne);a.dirty=a.dirty||ye}},W=R.getFeatures();l&&l!==a.renderedRenderOrder&&W.sort(l);for(let te=0,ne=W.length;te<ne;++te){const ce=W[te];(!Q||su(Q,ce.getGeometry().getExtent()))&&q.call(this,ce,te)}const ee=G.finish(),he=i.getRenderMode()!=="vector"&&p&&T.length===1?null:H,J=new kce(he,c,n,f.getOverlaps(),ee,i.getRenderBuffer(),!!((k=this.frameState)!=null&&k.declutter));e.executorGroups[C].push(J)}a.renderedRevision=s,a.renderedRenderOrder=l,a.renderedResolution=c}forEachFeatureAtCoordinate(e,n,r,i,s){const l=n.viewState.resolution,c=n.viewState.rotation;r=r??0;const a=this.getLayer(),p=a.getSource().getTileGridForProjection(n.viewState.projection),m=k8([e]);rA(m,l*r,m);const v={},y=function(k,M,P){let R=k.getId();R===void 0&&(R=Mi(k));const N=v[R];if(N){if(N!==!0&&P<N.distanceSq){if(P===0)return v[R]=!0,s.splice(s.lastIndexOf(N),1),i(k,a,M);N.geometry=M,N.distanceSq=P}}else{if(P===0)return v[R]=!0,i(k,a,M);s.push(v[R]={feature:k,layer:a,geometry:M,distanceSq:P,callback:i})}},T=this.renderedTiles;let C;for(let k=0,M=T.length;!C&&k<M;++k){const P=T[k],R=p.getTileCoordExtent(P.wrappedTileCoord);if(!su(R,m))continue;const N=Mi(a),z=[P.executorGroups[N]],H=a.getDeclutter();z.some(j=>{const Q=H?n.declutter[H].all().map(G=>G.value):null;for(let G=0,ie=j.length;G<ie;++G)if(C=j[G].forEachFeatureAtCoordinate(e,l,c,r,y,Q),C)return!0})}return C}getFeatures(e){return new Promise((n,r)=>{const i=this.getLayer(),s=Mi(i),l=i.getSource(),c=this.renderedProjection,a=c.getExtent(),f=this.renderedResolution,p=l.getTileGridForProjection(c),m=Fo(this.renderedPixelToCoordinateTransform_,e.slice()),v=p.getTileCoordForCoordAndResolution(m,f);let y;for(let R=0,N=this.renderedTiles.length;R<N;++R)if(v.toString()===this.renderedTiles[R].tileCoord.toString()){if(y=this.renderedTiles[R],y.getState()===Qi.LOADED){const z=p.getTileCoordExtent(y.tileCoord);l.getWrapX()&&c.canWrapX()&&!Qv(a,z)&&kU(m,c);break}y=void 0}if(!y||y.loadingSourceTiles>0){n([]);return}const T=p.getTileCoordExtent(y.wrappedTileCoord),C=O1(T),k=[(m[0]-C[0])/f,(C[1]-m[1])/f],M=y.getSourceTiles().reduce(function(R,N){return R.concat(N.getFeatures())},[]);let P=y.hitDetectionImageData[s];if(!P){const R=Vh(p.getTileSize(p.getZForResolution(f,l.zDirection))),N=this.renderedRotation_,z=[this.getRenderTransform(p.getTileCoordCenter(y.wrappedTileCoord),f,0,Ud,R[0]*Ud,R[1]*Ud,0)];P=Fce(R,z,M,i.getStyleFunction(),p.getTileCoordExtent(y.wrappedTileCoord),y.getReplayState(i).renderedResolution,N),y.hitDetectionImageData[s]=P}n(Rce(k,M,P))})}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.renderedLayerRevision_!==void 0&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}renderDeclutter(e,n){const r=this.context,i=r.globalAlpha;r.globalAlpha=n.opacity;const s=e.viewHints,l=!(s[to.ANIMATING]||s[to.INTERACTING]),c=this.renderedTiles;for(let a=0,f=c.length;a<f;++a){const p=c[a],m=p.executorGroups[Mi(this.getLayer())],v=this.getLayer().getDeclutter();if(m)for(let y=m.length-1;y>=0;--y)m[y].execute(this.context,[this.context.canvas.width,this.context.canvas.height],this.getTileRenderTransform(p,e),e.viewState.rotation,l,H8,v?e.declutter[v]:void 0)}r.globalAlpha=i}renderDeferredInternal(e){const r=this.renderedTiles.reduce((l,c,a)=>(c.executorGroups[Mi(this.getLayer())].forEach(f=>l.push({executorGroup:f,index:a})),l),[]),i=r.map(({executorGroup:l})=>l.getDeferredZIndexContexts());i.map(l=>Object.keys(l)).flat().sort(gm).map(Number).forEach(l=>{i.forEach((c,a)=>{c[l]&&c[l].forEach(f=>{const{executorGroup:p,index:m}=r[a],v=p.getRenderedContext(),y=v.globalAlpha;v.globalAlpha=this.renderedOpacity_;const T=this.tileClipContexts_[m];T&&T.draw(v),f.draw(v),T&&v.restore(),v.globalAlpha=y,f.clear()})})})}getTileRenderTransform(e,n){const r=n.pixelRatio,i=n.viewState,s=i.center,l=i.resolution,c=i.rotation,a=n.size,f=Math.round(a[0]*r),p=Math.round(a[1]*r),v=this.getLayer().getSource().getTileGridForProjection(n.viewState.projection),y=e.tileCoord,T=v.getTileCoordExtent(e.wrappedTileCoord),C=v.getTileCoordExtent(y,this.tmpExtent)[0]-T[0];return cx(Wk(this.inversePixelTransform.slice(),1/r,1/r),this.getRenderTransform(s,l,c,r,f,p,C))}postRender(e,n){const r=n.viewHints,i=!(r[to.ANIMATING]||r[to.INTERACTING]);this.renderedPixelToCoordinateTransform_=n.pixelToCoordinateTransform.slice(),this.renderedRotation_=n.viewState.rotation,this.renderedOpacity_=n.layerStatesArray[n.layerIndex].opacity;const s=this.getLayer(),l=s.getRenderMode(),c=e.globalAlpha;e.globalAlpha=this.renderedOpacity_;const a=s.getDeclutter(),f=a?dX[l].filter(N=>!H8.includes(N)):dX[l],p=n.viewState,m=p.rotation,v=s.getSource(),T=v.getTileGridForProjection(p.projection).getZForResolution(p.resolution,v.zDirection),C=this.renderedTiles,k=[],M=[],P=[];let R=!0;for(let N=C.length-1;N>=0;--N){const z=C[N];R=R&&!z.getReplayState(s).dirty;const H=z.executorGroups[Mi(s)].filter(ee=>ee.hasExecutors(f));if(H.length===0)continue;const j=this.getTileRenderTransform(z,n),Q=z.tileCoord[0];let G=!1;const ie=H[0].getClipCoords(j);let q=e,W;if(ie){a&&(W=new dz,q=W.getContext());for(let ee=0,he=k.length;ee<he;++ee)if(T!==Q&&Q<M[ee]){const J=k[ee];su([ie[0],ie[3],ie[4],ie[7]],[J[0],J[3],J[4],J[7]])&&(G||(q.save(),G=!0),q.beginPath(),q.moveTo(ie[0],ie[1]),q.lineTo(ie[2],ie[3]),q.lineTo(ie[4],ie[5]),q.lineTo(ie[6],ie[7]),q.moveTo(J[6],J[7]),q.lineTo(J[4],J[5]),q.lineTo(J[2],J[3]),q.lineTo(J[0],J[1]),q.clip())}k.push(ie),M.push(Q)}for(let ee=0,he=H.length;ee<he;++ee)H[ee].execute(e,[e.canvas.width,e.canvas.height],j,m,i,f);G&&(q===e?q.restore():P[N]=W)}e.globalAlpha=c,this.ready=R,this.tileClipContexts_=P,super.postRender(e,n)}renderFeature(e,n,r,i,s,l){if(!r)return!1;let c=!1;if(Array.isArray(r))for(let a=0,f=r.length;a<f;++a)c=Q8(i,e,r[a],n,this.boundHandleStyleImageChange_,void 0,s,l)||c;else c=Q8(i,e,r,n,this.boundHandleStyleImageChange_,void 0,s,l);return c}tileImageNeedsRender_(e){const n=this.getLayer();if(n.getRenderMode()==="vector")return!1;const r=e.getReplayState(n),i=n.getRevision(),s=e.wantedResolution;return r.renderedTileResolution!==s||r.renderedTileRevision!==i}renderTileImage_(e,n){const r=this.getLayer(),i=e.getReplayState(r),s=r.getRevision(),l=e.executorGroups[Mi(r)];i.renderedTileRevision=s;const c=e.wrappedTileCoord,a=c[0],f=r.getSource();let p=n.pixelRatio;const v=n.viewState.projection,y=f.getTileGridForProjection(v),T=y.getResolution(e.tileCoord[0]),C=n.pixelRatio/e.wantedResolution*T,k=y.getResolution(a),M=e.getContext(r);p=Math.round(Math.max(p,C/p));const P=f.getTilePixelSize(a,p,v);M.canvas.width=P[0],M.canvas.height=P[1];const R=p/C;if(R!==1){const j=uY(this.tmpTransform_);Wk(j,R,R),M.setTransform.apply(M,j)}const N=y.getTileCoordExtent(c,this.tmpExtent),z=C/k,H=uY(this.tmpTransform_);Wk(H,z,-z),EU(H,-N[0],-N[3]);for(let j=0,Q=l.length;j<Q;++j)l[j].execute(M,[M.canvas.width*R,M.canvas.height*R],H,0,!0,Gct[r.getRenderMode()],null);i.renderedTileResolution=e.wantedResolution}}class Wct extends Ax{constructor(e){e=e||{};const n=Object.assign({},e);delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un;const r=e.renderMode||"hybrid";es(r=="hybrid"||r=="vector","`renderMode` must be `'hybrid'` or `'vector'`"),this.renderMode_=r,this.setPreload(e.preload?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0),this.getBackground,this.setBackground}createRenderer(){return new Kct(this)}getFeatures(e){return super.getFeatures(e)}getRenderMode(){return this.renderMode_}getPreload(){return this.get(Kv.PRELOAD)}getUseInterimTilesOnError(){return this.get(Kv.USE_INTERIM_TILES_ON_ERROR)}setPreload(e){this.set(Kv.PRELOAD,e)}setUseInterimTilesOnError(e){this.set(Kv.USE_INTERIM_TILES_ON_ERROR,e)}}function Oa(t,e,n){const r=rz();return r.style=t.style,zct(e,n,r,t)}function fX(t){const e=Lm(t),n=e[0]*256,r=e[1],i=e[2]*256,s=Math.round(e[3]*255);return[n+r,i+s]}const qct=`vec4 unpackColor(vec2 packedColor) {
  return fract(packedColor[1] / 256.0) * vec4(
    fract(floor(packedColor[0] / 256.0) / 256.0),
    fract(packedColor[0] / 256.0),
    fract(floor(packedColor[1] / 256.0) / 256.0),
    1.0
  );
}`;function ehe(t){return t===zs?2:t===Dl?4:1}function mP(t){const e=ehe(t);return e>1?`vec${e}`:"float"}function K8(t){return(JSON.stringify(t).split("").reduce((n,r)=>(n<<5)-n+r.charCodeAt(0),0)>>>0).toString()}function gz(t,e,n,r){if(`${r}radius`in t&&r!=="icon-"){let i=Oa(n,t[`${r}radius`],$r);if(`${r}radius2`in t){const s=Oa(n,t[`${r}radius2`],$r);i=`max(${i}, ${s})`}`${r}stroke-width`in t&&(i=`(${i} + ${Oa(n,t[`${r}stroke-width`],$r)} * 0.5)`),e.setSymbolSizeExpression(`vec2(${i} * 2. + 0.5)`)}if(`${r}scale`in t){const i=Oa(n,t[`${r}scale`],$r|Dl);e.setSymbolSizeExpression(`${e.getSymbolSizeExpression()} * ${i}`)}`${r}displacement`in t&&e.setSymbolOffsetExpression(Oa(n,t[`${r}displacement`],Dl)),`${r}rotation`in t&&e.setSymbolRotationExpression(Oa(n,t[`${r}rotation`],$r)),`${r}rotate-with-view`in t&&e.setSymbolRotateWithView(!!t[`${r}rotate-with-view`])}function the(t,e,n,r,i){let s="vec4(0.)";if(e!==null&&(s=e),n!==null&&r!==null){const a=`smoothstep(-${r} + 0.63, -${r} - 0.58, ${t})`;s=`mix(${n}, ${s}, ${a})`}const l=`(1.0 - smoothstep(-0.63, 0.58, ${t}))`;let c=`${s} * ${l}`;return i!==null&&(c=`${c} * ${i}`),c}function vz(t,e,n,r,i){const s=new Image;let l;return s.crossOrigin=t[`${r}cross-origin`]===void 0?"anonymous":t[`${r}cross-origin`],s.src=t[`${r}src`],s.complete&&s.width&&s.height?l=Az([s.width,s.height]):(n[`u_texture${i}_size`]=()=>s.complete?[s.width,s.height]:[0,0],e.addUniform(`vec2 u_texture${i}_size`),l=`u_texture${i}_size`),n[`u_texture${i}`]=s,e.addUniform(`sampler2D u_texture${i}`),l}function _z(t,e,n,r,i){let s=Oa(n,t[`${e}offset`],Dl);if(`${e}offset-origin`in t)switch(t[`${e}offset-origin`]){case"top-right":s=`vec2(${r}.x, 0.) + ${i} * vec2(-1., 0.) + ${s} * vec2(-1., 1.)`;break;case"bottom-left":s=`vec2(0., ${r}.y) + ${i} * vec2(0., -1.) + ${s} * vec2(1., -1.)`;break;case"bottom-right":s=`${r} - ${i} - ${s}`;break}return s}function Yct(t,e,n,r,i){i.functions.circleDistanceField=`float circleDistanceField(vec2 point, float radius) {
  return length(point) - radius;
}`,gz(t,e,r,"circle-");let s=null;"circle-opacity"in t&&(s=Oa(i,t["circle-opacity"],$r));let l="coordsPx";"circle-scale"in t&&(l=`coordsPx / ${Oa(i,t["circle-scale"],$r|Dl)}`);let c=null;"circle-fill-color"in t&&(c=Oa(i,t["circle-fill-color"],zs));let a=null;"circle-stroke-color"in t&&(a=Oa(i,t["circle-stroke-color"],zs));let f=Oa(i,t["circle-radius"],$r),p=null;"circle-stroke-width"in t&&(p=Oa(i,t["circle-stroke-width"],$r),f=`(${f} + ${p} * 0.5)`);const m=`circleDistanceField(${l}, ${f})`,v=the(m,c,a,p,s);e.setSymbolColorExpression(v)}function Xct(t,e,n,r,i){i.functions.round=`float round(float v) {
  return sign(v) * floor(abs(v) + 0.5);
}`,i.functions.starDistanceField=`float starDistanceField(vec2 point, float numPoints, float radius, float radius2, float angle) {
  float startAngle = -PI * 0.5 + angle; // tip starts upwards and rotates clockwise with angle
  float c = cos(startAngle);
  float s = sin(startAngle);
  vec2 pointRotated = vec2(c * point.x - s * point.y, s * point.x + c * point.y);
  float alpha = TWO_PI / numPoints; // the angle of one sector
  float beta = atan(pointRotated.y, pointRotated.x);
  float gamma = round(beta / alpha) * alpha; // angle in sector
  c = cos(-gamma);
  s = sin(-gamma);
  vec2 inSector = vec2(c * pointRotated.x - s * pointRotated.y, abs(s * pointRotated.x + c * pointRotated.y));
  vec2 tipToPoint = inSector + vec2(-radius, 0.);
  vec2 edgeNormal = vec2(radius2 * sin(alpha * 0.5), -radius2 * cos(alpha * 0.5) + radius);
  return dot(normalize(edgeNormal), tipToPoint);
}`,i.functions.regularDistanceField=`float regularDistanceField(vec2 point, float numPoints, float radius, float angle) {
  float startAngle = -PI * 0.5 + angle; // tip starts upwards and rotates clockwise with angle
  float c = cos(startAngle);
  float s = sin(startAngle);
  vec2 pointRotated = vec2(c * point.x - s * point.y, s * point.x + c * point.y);
  float alpha = TWO_PI / numPoints; // the angle of one sector
  float radiusIn = radius * cos(PI / numPoints);
  float beta = atan(pointRotated.y, pointRotated.x);
  float gamma = round((beta - alpha * 0.5) / alpha) * alpha + alpha * 0.5; // angle in sector from mid
  c = cos(-gamma);
  s = sin(-gamma);
  vec2 inSector = vec2(c * pointRotated.x - s * pointRotated.y, abs(s * pointRotated.x + c * pointRotated.y));
  return inSector.x - radiusIn;
}`,gz(t,e,r,"shape-");let s=null;"shape-opacity"in t&&(s=Oa(i,t["shape-opacity"],$r));let l="coordsPx";"shape-scale"in t&&(l=`coordsPx / ${Oa(i,t["shape-scale"],$r|Dl)}`);let c=null;"shape-fill-color"in t&&(c=Oa(i,t["shape-fill-color"],zs));let a=null;"shape-stroke-color"in t&&(a=Oa(i,t["shape-stroke-color"],zs));let f=null;"shape-stroke-width"in t&&(f=Oa(i,t["shape-stroke-width"],$r));const p=Oa(i,t["shape-points"],$r);let m="0.";"shape-angle"in t&&(m=Oa(i,t["shape-angle"],$r));let v,y=Oa(i,t["shape-radius"],$r);if(f!==null&&(y=`${y} + ${f} * 0.5`),"shape-radius2"in t){let C=Oa(i,t["shape-radius2"],$r);f!==null&&(C=`${C} + ${f} * 0.5`),v=`starDistanceField(${l}, ${p}, ${y}, ${C}, ${m})`}else v=`regularDistanceField(${l}, ${p}, ${y}, ${m})`;const T=the(v,c,a,f,s);e.setSymbolColorExpression(T)}function Zct(t,e,n,r,i){let s="vec4(1.0)";"icon-color"in t&&(s=Oa(i,t["icon-color"],zs)),"icon-opacity"in t&&(s=`${s} * ${Oa(i,t["icon-opacity"],$r)}`);const l=K8(t["icon-src"]),c=vz(t,e,n,"icon-",l);if(e.setSymbolColorExpression(`${s} * samplePremultiplied(u_texture${l}, v_texCoord)`).setSymbolSizeExpression(c),"icon-width"in t&&"icon-height"in t&&e.setSymbolSizeExpression(`vec2(${Oa(r,t["icon-width"],$r)}, ${Oa(r,t["icon-height"],$r)})`),"icon-offset"in t&&"icon-size"in t){const a=Oa(r,t["icon-size"],Dl),f=e.getSymbolSizeExpression();e.setSymbolSizeExpression(a);const p=_z(t,"icon-",r,"v_quadSizePx",a);e.setTextureCoordinateExpression(`(vec4((${p}).xyxy) + vec4(0., 0., ${a})) / (${f}).xyxy`)}if(gz(t,e,r,"icon-"),"icon-anchor"in t){const a=Oa(r,t["icon-anchor"],Dl);let f="1.0";"icon-scale"in t&&(f=Oa(r,t["icon-scale"],$r|Dl));let p;t["icon-anchor-x-units"]==="pixels"&&t["icon-anchor-y-units"]==="pixels"?p=`${a} * ${f}`:t["icon-anchor-x-units"]==="pixels"?p=`${a} * vec2(vec2(${f}).x, v_quadSizePx.y)`:t["icon-anchor-y-units"]==="pixels"?p=`${a} * vec2(v_quadSizePx.x, vec2(${f}).x)`:p=`${a} * v_quadSizePx`;let m=`v_quadSizePx * vec2(0.5, -0.5) + ${p} * vec2(-1., 1.)`;if("icon-anchor-origin"in t)switch(t["icon-anchor-origin"]){case"top-right":m=`v_quadSizePx * -0.5 + ${p}`;break;case"bottom-left":m=`v_quadSizePx * 0.5 - ${p}`;break;case"bottom-right":m=`v_quadSizePx * vec2(-0.5, 0.5) + ${p} * vec2(1., -1.)`;break}e.setSymbolOffsetExpression(`${e.getSymbolOffsetExpression()} + ${m}`)}}function Jct(t,e,n,r,i){if("stroke-color"in t&&e.setStrokeColorExpression(Oa(i,t["stroke-color"],zs)),"stroke-pattern-src"in t){const s=K8(t["stroke-pattern-src"]),l=vz(t,e,n,"stroke-pattern-",s);let c=l,a="vec2(0.)";"stroke-pattern-offset"in t&&"stroke-pattern-size"in t&&(c=Oa(i,t["stroke-pattern-size"],Dl),a=_z(t,"stroke-pattern-",i,l,c));let f="0.";"stroke-pattern-spacing"in t&&(f=Oa(i,t["stroke-pattern-spacing"],$r)),i.functions.sampleStrokePattern=`vec4 sampleStrokePattern(sampler2D texture, vec2 textureSize, vec2 textureOffset, vec2 sampleSize, float spacingPx, float currentLengthPx, float currentRadiusRatio, float lineWidth) {
  float currentLengthScaled = currentLengthPx * sampleSize.y / lineWidth;
  float spacingScaled = spacingPx * sampleSize.y / lineWidth;
  float uCoordPx = mod(currentLengthScaled, (sampleSize.x + spacingScaled));
  // make sure that we're not sampling too close to the borders to avoid interpolation with outside pixels
  uCoordPx = clamp(uCoordPx, 0.5, sampleSize.x - 0.5);
  float vCoordPx = (-currentRadiusRatio * 0.5 + 0.5) * sampleSize.y;
  vec2 texCoord = (vec2(uCoordPx, vCoordPx) + textureOffset) / textureSize;
  return samplePremultiplied(texture, texCoord);
}`;const p=`u_texture${s}`;let m="1.";"stroke-color"in t&&(m=e.getStrokeColorExpression()),e.setStrokeColorExpression(`${m} * sampleStrokePattern(${p}, ${l}, ${a}, ${c}, ${f}, currentLengthPx, currentRadiusRatio, v_width)`)}if("stroke-width"in t&&e.setStrokeWidthExpression(Oa(r,t["stroke-width"],$r)),"stroke-offset"in t&&e.setStrokeOffsetExpression(Oa(r,t["stroke-offset"],$r)),"stroke-line-cap"in t&&e.setStrokeCapExpression(Oa(r,t["stroke-line-cap"],vu)),"stroke-line-join"in t&&e.setStrokeJoinExpression(Oa(r,t["stroke-line-join"],vu)),"stroke-miter-limit"in t&&e.setStrokeMiterLimitExpression(Oa(r,t["stroke-miter-limit"],$r)),"stroke-line-dash"in t){i.functions.getSingleDashDistance=`float getSingleDashDistance(float distance, float radius, float dashOffset, float dashLength, float dashLengthTotal, float capType) {
  float localDistance = mod(distance, dashLengthTotal);
  float distanceSegment = abs(localDistance - dashOffset - dashLength * 0.5) - dashLength * 0.5;
  distanceSegment = min(distanceSegment, dashLengthTotal - localDistance);
  if (capType == ${Gg("square")}) {
    distanceSegment -= v_width * 0.5;
  } else if (capType == ${Gg("round")}) {
    distanceSegment = min(distanceSegment, sqrt(distanceSegment * distanceSegment + radius * radius) - v_width * 0.5);
  }
  return distanceSegment;
}`;let s=t["stroke-line-dash"].map(y=>Oa(i,y,$r));s.length%2===1&&(s=[...s,...s]);let l="0.";"stroke-line-dash-offset"in t&&(l=Oa(r,t["stroke-line-dash-offset"],$r));const a=`dashDistanceField_${K8(t["stroke-line-dash"])}`,f=s.map((y,T)=>`float dashLength${T} = ${y};`),p=s.map((y,T)=>`dashLength${T}`).join(" + ");let m="0.",v=`getSingleDashDistance(distance, radius, ${m}, dashLength0, totalDashLength, capType)`;for(let y=2;y<s.length;y+=2)m=`${m} + dashLength${y-2} + dashLength${y-1}`,v=`min(${v}, getSingleDashDistance(distance, radius, ${m}, dashLength${y}, totalDashLength, capType))`;i.functions[a]=`float ${a}(float distance, float radius, float capType) {
  ${f.join(`
  `)}
  float totalDashLength = ${p};
  return ${v};
}`,e.setStrokeDistanceFieldExpression(`${a}(currentLengthPx + ${l}, currentRadiusPx, capType)`)}}function eht(t,e,n,r,i){if("fill-color"in t&&e.setFillColorExpression(Oa(i,t["fill-color"],zs)),"fill-pattern-src"in t){const s=K8(t["fill-pattern-src"]),l=vz(t,e,n,"fill-pattern-",s);let c=l,a="vec2(0.)";"fill-pattern-offset"in t&&"fill-pattern-size"in t&&(c=Oa(i,t["fill-pattern-size"],Dl),a=_z(t,"fill-pattern-",i,l,c)),i.functions.sampleFillPattern=`vec4 sampleFillPattern(sampler2D texture, vec2 textureSize, vec2 textureOffset, vec2 sampleSize, vec2 pxOrigin, vec2 pxPosition) {
  float scaleRatio = pow(2., mod(u_zoom + 0.5, 1.) - 0.5);
  vec2 pxRelativePos = pxPosition - pxOrigin;
  // rotate the relative position from origin by the current view rotation
  pxRelativePos = vec2(pxRelativePos.x * cos(u_rotation) - pxRelativePos.y * sin(u_rotation), pxRelativePos.x * sin(u_rotation) + pxRelativePos.y * cos(u_rotation));
  // sample position is computed according to the sample offset & size
  vec2 samplePos = mod(pxRelativePos / scaleRatio, sampleSize);
  // also make sure that we're not sampling too close to the borders to avoid interpolation with outside pixels
  samplePos = clamp(samplePos, vec2(0.5), sampleSize - vec2(0.5));
  samplePos.y = sampleSize.y - samplePos.y; // invert y axis so that images appear upright
  return samplePremultiplied(texture, (samplePos + textureOffset) / textureSize);
}`;const f=`u_texture${s}`;let p="1.";"fill-color"in t&&(p=e.getFillColorExpression()),e.setFillColorExpression(`${p} * sampleFillPattern(${f}, ${l}, ${a}, ${c}, pxOrigin, pxPos)`)}}function tht(t){const e={inFragmentShader:!1,properties:{},variables:{},functions:{},style:t},n={inFragmentShader:!0,variables:e.variables,properties:{},functions:{},style:t},r=new Jce,i={};if("icon-src"in t?Zct(t,r,i,e,n):"shape-points"in t?Xct(t,r,i,e,n):"circle-radius"in t&&Yct(t,r,i,e,n),Jct(t,r,i,e,n),eht(t,r,i,e,n),t.filter){const l=Oa(n,t.filter,bo);r.setFragmentDiscardExpression(`!${l}`)}Object.keys(n.variables).forEach(function(l){const c=n.variables[l],a=Zce(c.name);r.addUniform(`${mP(c.type)} ${a}`);let f;c.type===vu?f=()=>iD(t.variables[c.name]):c.type===zs?f=()=>fX([...Lm(t.variables[c.name]||"#eee")]):c.type===bo?f=()=>t.variables[c.name]?1:0:f=()=>t.variables[c.name],i[a]=f}),Object.keys(n.properties).forEach(function(l){const c=n.properties[l];e.properties[l]||(e.properties[l]=c);let a=mP(c.type),f=`a_prop_${c.name}`;c.type===zs&&(a="vec4",f=`unpackColor(${f})`,r.addVertexShaderFunction(qct)),r.addVarying(`v_prop_${c.name}`,a,f)}),Object.keys(e.properties).forEach(function(l){const c=e.properties[l];r.addAttribute(`${mP(c.type)} a_prop_${c.name}`)});const s=Object.keys(e.properties).map(function(l){const c=e.properties[l];let a;return c.evaluator?a=c.evaluator:c.type===vu?a=f=>iD(f.get(c.name)):c.type===zs?a=f=>fX([...Lm(f.get(c.name)||"#eee")]):c.type===bo?a=f=>f.get(c.name)?1:0:a=f=>f.get(c.name),{name:c.name,size:ehe(c.type),callback:a}});for(const l in e.functions)r.addVertexShaderFunction(e.functions[l]);for(const l in n.functions)r.addFragmentShaderFunction(n.functions[l]);return{builder:r,attributes:s.reduce((l,c)=>({...l,[c.name]:{callback:c.callback,size:c.size}}),{}),uniforms:i}}class nht{constructor(){this.globalCounter_=0,this.refToFeature_=new Map,this.uidToRef_=new Map,this.freeGlobalRef_=[],this.polygonBatch={entries:{},geometriesCount:0,verticesCount:0,ringsCount:0},this.pointBatch={entries:{},geometriesCount:0},this.lineStringBatch={entries:{},geometriesCount:0,verticesCount:0}}addFeatures(e,n){for(let r=0;r<e.length;r++)this.addFeature(e[r],n)}addFeature(e,n){let r=e.getGeometry();r&&(n&&(r=r.clone(),r.applyTransform(n)),this.addGeometry_(r,e))}clearFeatureEntryInPointBatch_(e){const n=this.pointBatch.entries[Mi(e)];if(n)return this.pointBatch.geometriesCount-=n.flatCoordss.length,delete this.pointBatch.entries[Mi(e)],n}clearFeatureEntryInLineStringBatch_(e){const n=this.lineStringBatch.entries[Mi(e)];if(n)return this.lineStringBatch.verticesCount-=n.verticesCount,this.lineStringBatch.geometriesCount-=n.flatCoordss.length,delete this.lineStringBatch.entries[Mi(e)],n}clearFeatureEntryInPolygonBatch_(e){const n=this.polygonBatch.entries[Mi(e)];if(n)return this.polygonBatch.verticesCount-=n.verticesCount,this.polygonBatch.ringsCount-=n.ringsCount,this.polygonBatch.geometriesCount-=n.flatCoordss.length,delete this.polygonBatch.entries[Mi(e)],n}addGeometry_(e,n){const r=e.getType();switch(r){case"GeometryCollection":{const i=e.getGeometriesArray();for(const s of i)this.addGeometry_(s,n);break}case"MultiPolygon":{const i=e;this.addCoordinates_(r,i.getFlatCoordinates(),i.getEndss(),n,Mi(n),i.getStride());break}case"MultiLineString":{const i=e;this.addCoordinates_(r,i.getFlatCoordinates(),i.getEnds(),n,Mi(n),i.getStride());break}case"MultiPoint":{const i=e;this.addCoordinates_(r,i.getFlatCoordinates(),null,n,Mi(n),i.getStride());break}case"Polygon":{const i=e;this.addCoordinates_(r,i.getFlatCoordinates(),i.getEnds(),n,Mi(n),i.getStride());break}case"Point":{const i=e;this.addCoordinates_(r,i.getFlatCoordinates(),null,n,Mi(n),i.getStride());break}case"LineString":case"LinearRing":{const i=e;this.addCoordinates_(r,i.getFlatCoordinates(),null,n,Mi(n),i.getStride());break}}}addCoordinates_(e,n,r,i,s,l){let c;switch(e){case"MultiPolygon":{const a=r;for(let f=0,p=a.length;f<p;f++){let m=a[f];const v=f>0?a[f-1]:null,y=v?v[v.length-1]:0,T=m[m.length-1];m=y>0?m.map(C=>C-y):m,this.addCoordinates_("Polygon",n.slice(y,T),m,i,s,l)}break}case"MultiLineString":{const a=r;for(let f=0,p=a.length;f<p;f++){const m=f>0?a[f-1]:0;this.addCoordinates_("LineString",n.slice(m,a[f]),null,i,s,l)}break}case"MultiPoint":for(let a=0,f=n.length;a<f;a+=l)this.addCoordinates_("Point",n.slice(a,a+2),null,i,s,null);break;case"Polygon":{const a=r;if(i instanceof Od){const m=Uue(n,a);if(m.length>1){this.addCoordinates_("MultiPolygon",n,m,i,s,l);return}}this.polygonBatch.entries[s]||(this.polygonBatch.entries[s]=this.addRefToEntry_(s,{feature:i,flatCoordss:[],verticesCount:0,ringsCount:0,ringsVerticesCounts:[]})),c=n.length/l;const f=r.length,p=r.map((m,v,y)=>v>0?(m-y[v-1])/l:m/l);this.polygonBatch.verticesCount+=c,this.polygonBatch.ringsCount+=f,this.polygonBatch.geometriesCount++,this.polygonBatch.entries[s].flatCoordss.push(pX(n,l)),this.polygonBatch.entries[s].ringsVerticesCounts.push(p),this.polygonBatch.entries[s].verticesCount+=c,this.polygonBatch.entries[s].ringsCount+=f;for(let m=0,v=a.length;m<v;m++){const y=m>0?a[m-1]:0;this.addCoordinates_("LinearRing",n.slice(y,a[m]),null,i,s,l)}break}case"Point":this.pointBatch.entries[s]||(this.pointBatch.entries[s]=this.addRefToEntry_(s,{feature:i,flatCoordss:[]})),this.pointBatch.geometriesCount++,this.pointBatch.entries[s].flatCoordss.push(n);break;case"LineString":case"LinearRing":this.lineStringBatch.entries[s]||(this.lineStringBatch.entries[s]=this.addRefToEntry_(s,{feature:i,flatCoordss:[],verticesCount:0})),c=n.length/l,this.lineStringBatch.verticesCount+=c,this.lineStringBatch.geometriesCount++,this.lineStringBatch.entries[s].flatCoordss.push(pX(n,l)),this.lineStringBatch.entries[s].verticesCount+=c;break}}addRefToEntry_(e,n){const r=this.uidToRef_.get(e),i=r||this.freeGlobalRef_.pop()||++this.globalCounter_;return n.ref=i,r||(this.refToFeature_.set(i,n.feature),this.uidToRef_.set(e,i)),n}returnRef_(e,n){if(!e)throw new Error("This feature has no ref: "+n);this.refToFeature_.delete(e),this.uidToRef_.delete(n),this.freeGlobalRef_.push(e)}changeFeature(e){this.removeFeature(e);const n=e.getGeometry();n&&this.addGeometry_(n,e)}removeFeature(e){let n;n=this.clearFeatureEntryInPointBatch_(e)||n,n=this.clearFeatureEntryInPolygonBatch_(e)||n,n=this.clearFeatureEntryInLineStringBatch_(e)||n,n&&this.returnRef_(n.ref,Mi(n.feature))}clear(){this.polygonBatch.entries={},this.polygonBatch.geometriesCount=0,this.polygonBatch.verticesCount=0,this.polygonBatch.ringsCount=0,this.lineStringBatch.entries={},this.lineStringBatch.geometriesCount=0,this.lineStringBatch.verticesCount=0,this.pointBatch.entries={},this.pointBatch.geometriesCount=0,this.globalCounter_=0,this.freeGlobalRef_=[],this.refToFeature_.clear(),this.uidToRef_.clear()}getFeatureFromRef(e){return this.refToFeature_.get(e)}}function pX(t,e){return e===2?t:t.filter((n,r)=>r%e<2)}function yz(t,e,n,r){let i=0;for(const s in e){const l=e[s],c=l.callback.call(n,n.feature);t[r+i++]=c[0]??c,!(!l.size||l.size===1)&&(t[r+i++]=c[1],!(l.size<3)&&(t[r+i++]=c[2],!(l.size<4)&&(t[r+i++]=c[3])))}return i}function VM(t){return Object.keys(t).reduce((e,n)=>e+(t[n].size||1),0)}function rht(t,e,n,r){const i=(2+VM(n))*t.geometriesCount;(!e||e.length!==i)&&(e=new Float32Array(i));const s=[];let l=0;for(const c in t.entries){const a=t.entries[c];for(let f=0,p=a.flatCoordss.length;f<p;f++)s[0]=a.flatCoordss[f][0],s[1]=a.flatCoordss[f][1],Fo(r,s),e[l++]=s[0],e[l++]=s[1],l+=yz(e,n,a,l)}return e}function iht(t,e,n,r){const i=2*t.verticesCount+(1+VM(n))*t.geometriesCount;(!e||e.length!==i)&&(e=new Float32Array(i));const s=[];let l=0;for(const c in t.entries){const a=t.entries[c];for(let f=0,p=a.flatCoordss.length;f<p;f++){s.length=a.flatCoordss[f].length,_m(a.flatCoordss[f],0,s.length,2,r,s),l+=yz(e,n,a,l),e[l++]=s.length/2;for(let m=0,v=s.length;m<v;m+=2)e[l++]=s[m],e[l++]=s[m+1]}}return e}function aht(t,e,n,r){const i=2*t.verticesCount+(1+VM(n))*t.geometriesCount+t.ringsCount;(!e||e.length!==i)&&(e=new Float32Array(i));const s=[];let l=0;for(const c in t.entries){const a=t.entries[c];for(let f=0,p=a.flatCoordss.length;f<p;f++){s.length=a.flatCoordss[f].length,_m(a.flatCoordss[f],0,s.length,2,r,s),l+=yz(e,n,a,l),e[l++]=a.ringsVerticesCounts[f].length;for(let m=0,v=a.ringsVerticesCounts[f].length;m<v;m++)e[l++]=a.ringsVerticesCounts[f][m];for(let m=0,v=s.length;m<v;m+=2)e[l++]=s[m],e[l++]=s[m+1]}}return e}const sht=[],gP=Yce();let oht=0;const vv={POSITION:"a_position",INDEX:"a_index",SEGMENT_START:"a_segmentStart",SEGMENT_END:"a_segmentEnd",PARAMETERS:"a_parameters",JOIN_ANGLES:"a_joinAngles",DISTANCE:"a_distance"};class lht{constructor(e,n,r){this.helper_=n,this.hitDetectionEnabled_=r;let i=e;if(!("builder"in e)){const a=tht(e);i={builder:a.builder,attributes:a.attributes,uniforms:a.uniforms}}this.hasFill_=!!i.builder.getFillVertexShader(),this.hasFill_&&(this.fillVertexShader_=i.builder.getFillVertexShader(),this.fillFragmentShader_=i.builder.getFillFragmentShader(),this.fillProgram_=this.helper_.getProgram(this.fillFragmentShader_,this.fillVertexShader_)),this.hasStroke_=!!i.builder.getStrokeVertexShader(),this.hasStroke_&&(this.strokeVertexShader_=i.builder.getStrokeVertexShader(),this.strokeFragmentShader_=i.builder.getStrokeFragmentShader(),this.strokeProgram_=this.helper_.getProgram(this.strokeFragmentShader_,this.strokeVertexShader_)),this.hasSymbol_=!!i.builder.getSymbolVertexShader(),this.hasSymbol_&&(this.symbolVertexShader_=i.builder.getSymbolVertexShader(),this.symbolFragmentShader_=i.builder.getSymbolFragmentShader(),this.symbolProgram_=this.helper_.getProgram(this.symbolFragmentShader_,this.symbolVertexShader_));const l=this.hitDetectionEnabled_?{hitColor:{callback(){return Wce(this.ref,sht)},size:4}}:{};this.customAttributes_=Object.assign({},l,i.attributes),this.uniforms_=i.uniforms;const c=Object.entries(this.customAttributes_).map(([a,f])=>({name:`a_prop_${a}`,size:f.size||1,type:Hu.FLOAT}));this.polygonAttributesDesc_=[{name:vv.POSITION,size:2,type:Hu.FLOAT},...c],this.lineStringAttributesDesc_=[{name:vv.SEGMENT_START,size:2,type:Hu.FLOAT},{name:vv.SEGMENT_END,size:2,type:Hu.FLOAT},{name:vv.JOIN_ANGLES,size:2,type:Hu.FLOAT},{name:vv.DISTANCE,size:1,type:Hu.FLOAT},{name:vv.PARAMETERS,size:1,type:Hu.FLOAT},...c],this.pointAttributesDesc_=[{name:vv.POSITION,size:2,type:Hu.FLOAT},{name:vv.INDEX,size:1,type:Hu.FLOAT},...c],i.uniforms&&this.helper_.addUniforms(i.uniforms)}async generateBuffers(e,n){const r=this.generateRenderInstructions_(e,n),[i,s,l]=await Promise.all([this.generateBuffersForType_(r.polygonInstructions,"Polygon",n),this.generateBuffersForType_(r.lineStringInstructions,"LineString",n),this.generateBuffersForType_(r.pointInstructions,"Point",n)]),c=m1(Qo(),n);return{polygonBuffers:i,lineStringBuffers:s,pointBuffers:l,invertVerticesTransform:c}}generateRenderInstructions_(e,n){const r=this.hasFill_?aht(e.polygonBatch,new Float32Array(0),this.customAttributes_,n):null,i=this.hasStroke_?iht(e.lineStringBatch,new Float32Array(0),this.customAttributes_,n):null,s=this.hasSymbol_?rht(e.pointBatch,new Float32Array(0),this.customAttributes_,n):null;return{polygonInstructions:r,lineStringInstructions:i,pointInstructions:s}}generateBuffersForType_(e,n,r){if(e===null)return null;const i=oht++;let s;switch(n){case"Polygon":s=LC.GENERATE_POLYGON_BUFFERS;break;case"LineString":s=LC.GENERATE_LINE_STRING_BUFFERS;break;case"Point":s=LC.GENERATE_POINT_BUFFERS;break}const l={id:i,type:s,renderInstructions:e.buffer,renderInstructionsTransform:r,customAttributesSize:VM(this.customAttributes_)};return gP.postMessage(l,[e.buffer]),e=null,new Promise(c=>{const a=f=>{const p=f.data;if(p.id!==i||(gP.removeEventListener("message",a),!this.helper_.getGL()))return;const m=new j8(DM,U6).fromArrayBuffer(p.vertexBuffer),v=new j8(NM,U6).fromArrayBuffer(p.indexBuffer);this.helper_.flushBufferData(m),this.helper_.flushBufferData(v),c([v,m])};gP.addEventListener("message",a)})}render(e,n,r){this.hasFill_&&this.renderInternal_(e.polygonBuffers[0],e.polygonBuffers[1],this.fillProgram_,this.polygonAttributesDesc_,n,r),this.hasStroke_&&this.renderInternal_(e.lineStringBuffers[0],e.lineStringBuffers[1],this.strokeProgram_,this.lineStringAttributesDesc_,n,r),this.hasSymbol_&&this.renderInternal_(e.pointBuffers[0],e.pointBuffers[1],this.symbolProgram_,this.pointAttributesDesc_,n,r)}renderInternal_(e,n,r,i,s,l){const c=e.getSize();c!==0&&(this.helper_.useProgram(r,s),this.helper_.bindBuffer(n),this.helper_.bindBuffer(e),this.helper_.enableAttributes(i),l(),this.helper_.drawElements(0,c))}}const Yb={...ZA,RENDER_EXTENT:"u_renderExtent",PATTERN_ORIGIN:"u_patternOrigin",GLOBAL_ALPHA:"u_globalAlpha"};class uht extends UM{constructor(e,n){const r={[Yb.RENDER_EXTENT]:[0,0,0,0],[Yb.PATTERN_ORIGIN]:[0,0],[Yb.GLOBAL_ALPHA]:1};super(e,{uniforms:r,postProcesses:n.postProcesses}),this.hitDetectionEnabled_=!n.disableHitDetection,this.hitRenderTarget_,this.sourceRevision_=-1,this.previousExtent_=dc(),this.currentTransform_=Qo(),this.tmpCoords_=[0,0],this.tmpTransform_=Qo(),this.tmpMat4_=$ce(),this.currentFrameStateTransform_=Qo(),this.styles_=[],this.styleRenderers_=[],this.buffers_=[],this.applyOptions_(n),this.batch_=new nht,this.initialFeaturesAdded_=!1,this.sourceListenKeys_=null}addInitialFeatures_(e){const n=this.getLayer().getSource();let r;this.batch_.addFeatures(n.getFeatures(),r),this.sourceListenKeys_=[Ha(n,iu.ADDFEATURE,this.handleSourceFeatureAdded_.bind(this,r),this),Ha(n,iu.CHANGEFEATURE,this.handleSourceFeatureChanged_,this),Ha(n,iu.REMOVEFEATURE,this.handleSourceFeatureDelete_,this),Ha(n,iu.CLEAR,this.handleSourceFeatureClear_,this)]}applyOptions_(e){this.styles_=Array.isArray(e.style)?e.style:[e.style]}createRenderers_(){this.buffers_=[],this.styleRenderers_=this.styles_.map(e=>new lht(e,this.helper,this.hitDetectionEnabled_))}reset(e){this.applyOptions_(e),this.helper&&this.createRenderers_(),super.reset(e)}afterHelperCreated(){this.createRenderers_(),this.hitDetectionEnabled_&&(this.hitRenderTarget_=new Hce(this.helper))}handleSourceFeatureAdded_(e,n){const r=n.feature;this.batch_.addFeature(r,e)}handleSourceFeatureChanged_(e){const n=e.feature;this.batch_.changeFeature(n)}handleSourceFeatureDelete_(e){const n=e.feature;this.batch_.removeFeature(n)}handleSourceFeatureClear_(){this.batch_.clear()}applyUniforms_(e){yue(this.tmpTransform_,this.currentFrameStateTransform_),cx(this.tmpTransform_,e),this.helper.setUniformMatrixValue(Yb.PROJECTION_MATRIX,eD(this.tmpMat4_,this.tmpTransform_)),m1(this.tmpTransform_,this.tmpTransform_),this.helper.setUniformMatrixValue(Yb.SCREEN_TO_WORLD_MATRIX,eD(this.tmpMat4_,this.tmpTransform_)),this.tmpCoords_[0]=0,this.tmpCoords_[1]=0,m1(this.tmpTransform_,e),Fo(this.tmpTransform_,this.tmpCoords_),this.helper.setUniformFloatVec2(Yb.PATTERN_ORIGIN,this.tmpCoords_)}renderFrame(e){const n=this.helper.getGL();this.preRender(n,e);const[r,i,s]=Xce(e,this.getLayer());this.helper.prepareDraw(e),this.renderWorlds(e,!1,r,i,s),this.helper.finalizeDraw(e);const l=this.helper.getCanvas(),a=e.layerStatesArray[e.layerIndex].opacity;return a!==parseFloat(l.style.opacity)&&(l.style.opacity=String(a)),this.hitDetectionEnabled_&&(this.renderWorlds(e,!0,r,i,s),this.hitRenderTarget_.clearCachedData()),this.postRender(n,e),l}prepareFrameInternal(e){this.initialFeaturesAdded_||(this.addInitialFeatures_(e),this.initialFeaturesAdded_=!0);const n=this.getLayer(),r=n.getSource(),i=e.viewState,s=!e.viewHints[to.ANIMATING]&&!e.viewHints[to.INTERACTING],l=!v1(this.previousExtent_,e.extent),c=this.sourceRevision_<r.getRevision();if(c&&(this.sourceRevision_=r.getRevision()),s&&(l||c)){const a=i.projection,f=i.resolution,p=n instanceof Ax?n.getRenderBuffer():0,m=rA(e.extent,p*f);r.loadFeatures(m,f,a),this.ready=!1;const v=this.helper.makeProjectionTransform(e,Qo()),y=this.styleRenderers_.map((T,C)=>T.generateBuffers(this.batch_,v).then(k=>{this.buffers_[C]=k}));Promise.all(y).then(()=>{this.ready=!0,this.getLayer().changed()}),this.previousExtent_=e.extent.slice()}return!0}renderWorlds(e,n,r,i,s){let l=r;n&&(this.hitRenderTarget_.setSize([Math.floor(e.size[0]/2),Math.floor(e.size[1]/2)]),this.helper.prepareDrawToRenderTarget(e,this.hitRenderTarget_,!0)),this.currentFrameStateTransform_=this.helper.makeProjectionTransform(e,this.currentFrameStateTransform_);do{for(let c=0,a=this.styleRenderers_.length;c<a;c++){const f=this.styleRenderers_[c],p=this.buffers_[c];p&&f.render(p,e,()=>{this.applyUniforms_(p.invertVerticesTransform),this.helper.applyHitDetectionUniform(n)})}EU(this.currentFrameStateTransform_,s,0)}while(++l<i)}forEachFeatureAtCoordinate(e,n,r,i,s){if(es(this.hitDetectionEnabled_,"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has been disabled using the `disableHitDetection: true` option."),!this.styleRenderers_.length||!this.hitDetectionEnabled_)return;const l=Fo(n.coordinateToPixelTransform,e.slice()),c=this.hitRenderTarget_.readPixel(l[0]/2,l[1]/2),a=[c[0]/255,c[1]/255,c[2]/255,c[3]/255],f=qce(a),p=this.batch_.getFeatureFromRef(f);if(p)return i(p,this.getLayer(),null)}disposeInternal(){this.sourceListenKeys_&&(this.sourceListenKeys_.forEach(function(e){Eo(e)}),this.sourceListenKeys_=null),super.disposeInternal()}}var cht=class extends Qf{constructor(e){e=e||{},super();var n=this.input=e.input;n||(n=this.input=document.createElement("INPUT"),e.type&&n.setAttribute("type",e.type),e.min!==void 0&&n.setAttribute("min",e.min),e.max!==void 0&&n.setAttribute("max",e.max),e.step!==void 0&&n.setAttribute("step",e.step),e.parent&&e.parent.appendChild(n)),e.disabled&&(n.disabled=!0),e.checked!==void 0&&(n.checked=!!e.checked),e.val!==void 0&&(n.value=e.val),e.hidden&&(n.style.display="none"),n.addEventListener("focus",(function(){this.element&&this.element.classList.add("ol-focus")}).bind(this));var r;n.addEventListener("focusout",(function(){this.element&&(r&&clearTimeout(r),r=setTimeout((function(){this.element.classList.remove("ol-focus")}).bind(this),0))}).bind(this))}_listenDrag(e,n){var r=(function(i){this.moving=!0,this.element.classList.add("ol-moving");var s=(function(l){l.type==="pointerup"&&(document.removeEventListener("pointermove",s),document.removeEventListener("pointerup",s),document.removeEventListener("pointercancel",s),setTimeout((function(){this.moving=!1,this.element.classList.remove("ol-moving")}).bind(this))),l.target===e&&n(l),l.stopPropagation(),l.preventDefault()}).bind(this);document.addEventListener("pointermove",s,!1),document.addEventListener("pointerup",s,!1),document.addEventListener("pointercancel",s,!1),i.stopPropagation(),i.preventDefault()}).bind(this);e.addEventListener("mousedown",r,!1),e.addEventListener("touchstart",r,!1)}setValue(e){e!==void 0&&(this.input.value=e),this.input.dispatchEvent(new Event("change"))}getValue(){return this.input.value}getInputElement(){return this.input}},bz=class extends cht{constructor(e){e=e||{},super(e);var n=this.element=document.createElement("LABEL");e.html instanceof Element?n.appendChild(e.html):e.html!==void 0&&(n.innerHTML=e.html),n.className=("ol-ext-check ol-ext-checkbox "+(e.className||"")).trim(),this.input.parentNode&&this.input.parentNode.insertBefore(n,this.input),n.appendChild(this.input),n.appendChild(document.createElement("SPAN")),e.after&&n.appendChild(document.createTextNode(e.after)),this.input.addEventListener("change",(function(){this.dispatchEvent({type:"check",checked:this.input.checked,value:this.input.value})}).bind(this))}isChecked(){return this.input.checked}},hht=class extends bz{constructor(e){e=e||{},super(e),this.element.className=("ol-ext-toggle-switch "+(e.className||"")).trim()}},dht=class extends bz{constructor(e){e=e||{},super(e),this.element.className=("ol-ext-check ol-ext-radio "+(e.className||"")).trim()}},cn={};cn.create=function(t,e){e=e||{};var n;if(t==="TEXT")n=document.createTextNode(e.html||""),e.parent&&e.parent.appendChild(n);else{n=document.createElement(t),/button/i.test(t)&&n.setAttribute("type","button");for(var r in e)switch(r){case"className":{e.className&&e.className.trim&&n.setAttribute("class",e.className.trim());break}case"text":{n.innerText=e.text;break}case"html":{e.html instanceof Element?n.appendChild(e.html):e.html!==void 0&&(n.innerHTML=e.html);break}case"parent":{e.parent&&e.parent.appendChild(n);break}case"options":{if(/select/i.test(t))for(var i in e.options)cn.create("OPTION",{html:i,value:e.options[i],parent:n});break}case"style":{cn.setStyle(n,e.style);break}case"change":case"click":{cn.addListener(n,r,e[r]);break}case"on":{for(var s in e.on)cn.addListener(n,s,e.on[s]);break}case"checked":{n.checked=!!e.checked;break}default:{n.setAttribute(r,e[r]);break}}}return n};cn.createSwitch=function(t){var e=cn.create("INPUT",{type:"checkbox",on:t.on,click:t.click,change:t.change,parent:t.parent}),n=Object.assign({input:e},t||{});return new hht(n),e};cn.createCheck=function(t){var e=cn.create("INPUT",{name:t.name,type:t.type==="radio"?"radio":"checkbox",on:t.on,parent:t.parent}),n=Object.assign({input:e},t||{});return t.type==="radio"?new dht(n):new bz(n),e};cn.setHTML=function(t,e){e instanceof Element?t.appendChild(e):e!==void 0&&(t.innerHTML=e)};cn.appendText=function(t,e){t.appendChild(document.createTextNode(e||""))};cn.addListener=function(t,e,n,r){typeof e=="string"&&(e=e.split(" ")),e.forEach(function(i){t.addEventListener(i,n,r)})};cn.removeListener=function(t,e,n){typeof e=="string"&&(e=e.split(" ")),e.forEach(function(r){t.removeEventListener(r,n)})};cn.show=function(t){t.style.display=""};cn.hide=function(t){t.style.display="none"};cn.hidden=function(t){return cn.getStyle(t,"display")==="none"};cn.toggle=function(t){t.style.display=t.style.display==="none"?"":"none"};cn.setStyle=function(t,e){for(var n in e)switch(n){case"top":case"left":case"bottom":case"right":case"minWidth":case"maxWidth":case"width":case"height":{typeof e[n]=="number"?t.style[n]=e[n]+"px":t.style[n]=e[n];break}default:t.style[n]=e[n]}};cn.getStyle=function(t,e){var n,r=(t.ownerDocument||document).defaultView;if(r&&r.getComputedStyle)e=e.replace(/([A-Z])/g,"-$1").toLowerCase(),n=r.getComputedStyle(t,null).getPropertyValue(e);else if(t.currentStyle&&(e=e.replace(/-(\w)/g,function(i,s){return s.toUpperCase()}),n=t.currentStyle[e],/^\d+(em|pt|%|ex)?$/i.test(n)))return function(i){var s=t.style.left,l=t.runtimeStyle.left;return t.runtimeStyle.left=t.currentStyle.left,t.style.left=i||0,i=t.style.pixelLeft+"px",t.style.left=s,t.runtimeStyle.left=l,i}(n);return/px$/.test(n)?parseInt(n):n};cn.outerHeight=function(t){return t.offsetHeight+cn.getStyle(t,"marginBottom")};cn.outerWidth=function(t){return t.offsetWidth+cn.getStyle(t,"marginLeft")};cn.offsetRect=function(t){var e=t.getBoundingClientRect();return{top:e.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:e.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),height:e.height||e.bottom-e.top,width:e.width||e.right-e.left}};cn.getFixedOffset=function(t){var e={left:0,top:0},n=function(r){if(!r)return e;if(cn.getStyle(r,"position")==="absolute"&&cn.getStyle(r,"transform")!=="none"){var i=r.getBoundingClientRect();return e.left+=i.left,e.top+=i.top,e}return n(r.offsetParent)};return n(t.offsetParent)};cn.positionRect=function(t,e){var n=0,r=0,i=function(s){if(s)return n+=s.offsetLeft,r+=s.offsetTop,i(s.offsetParent);var l={top:t.offsetTop+r,left:t.offsetLeft+n};return e&&(l.top-=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,l.left-=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),l.bottom=l.top+t.offsetHeight,l.right=l.top+t.offsetWidth,l};return i(t.offsetParent)};cn.scrollDiv=function(t,e){e=e||{};var n=!1,r=0,i,s=0,l=typeof e.onmove=="function"?e.onmove:function(){},c=e.vertical?"screenY":"screenX",a=e.vertical?"scrollTop":"scrollLeft",f=!1,p,m,v=0,y=function(){R&&(v++,setTimeout(T))},T=function(){if(R){if(v--,v)return;var j=t.clientHeight,Q=t.scrollHeight;p=j/Q,R.style.height=p*100+"%",R.style.top=t.scrollTop/Q*100+"%",P.style.height=j+"px",j>Q-.5?P.classList.add("ol-100pc"):P.classList.remove("ol-100pc")}},C=function(j){j.target.classList.contains("ol-noscroll")||(f=!1,n=j[c],s=new Date,t.classList.add("ol-move"),j.preventDefault(),window.addEventListener("pointermove",k),cn.addListener(window,["pointerup","pointercancel"],z))},k=function(j){if(n!==!1){var Q=(m?-1/p:1)*(n-j[c]);f=f||Math.round(Q),t[a]+=Q,i=new Date,i-s&&(r=(r+Q/(i-s))/2),n=j[c],s=i,Q&&l(!0)}else f=!0},M=function(j){var Q=j>0?Math.min(100,j/2):Math.max(-100,j/2);j-=Q,t[a]+=Q,-1<j&&j<1?(f?setTimeout(function(){t.classList.remove("ol-move")}):t.classList.remove("ol-move"),f=!1,l(!1)):setTimeout(function(){M(j)},40)},P,R;if(e.vertical&&e.minibar){var N=function(j){t.removeEventListener("pointermove",N),t.parentNode.classList.add("ol-miniscroll"),R=cn.create("DIV"),P=cn.create("DIV",{className:"ol-scroll",html:R}),t.parentNode.insertBefore(P,t),R.addEventListener("pointerdown",function(Q){m=!0,C(Q)}),e.mousewheel&&(cn.addListener(P,["mousewheel","DOMMouseScroll","onmousewheel"],function(Q){H(Q)}),cn.addListener(R,["mousewheel","DOMMouseScroll","onmousewheel"],function(Q){H(Q)})),t.parentNode.addEventListener("pointerenter",y),window.addEventListener("resize",y),j!==!1&&y()};t.parentNode?N(!1):t.addEventListener("pointermove",N),t.addEventListener("scroll",function(){y()})}t.style["touch-action"]="none",t.style.overflow="hidden",t.classList.add("ol-scrolldiv"),cn.addListener(t,["pointerdown"],function(j){m=!1,C(j)}),t.addEventListener("click",function(j){t.classList.contains("ol-move")&&(j.preventDefault(),j.stopPropagation())},!0);var z=function(j){s=new Date-s,s>100||m?r=0:s>0&&(r=((r||0)+(n-j[c])/s)/2),M(e.animate===!1?0:r*200),n=!1,r=0,s=0,t.classList.contains("ol-move")?t.classList.remove("ol-hasClick"):(t.classList.add("ol-hasClick"),setTimeout(function(){t.classList.remove("ol-hasClick")},500)),m=!1,window.removeEventListener("pointermove",k),cn.removeListener(window,["pointerup","pointercancel"],z)},H=function(j){var Q=Math.max(-1,Math.min(1,j.wheelDelta||-j.detail));return t.classList.add("ol-move"),t[a]-=Q*30,t.classList.remove("ol-move"),!1};return e.mousewheel&&cn.addListener(t,["mousewheel","DOMMouseScroll","onmousewheel"],H),{refresh:y}};cn.dispatchEvent=function(t,e){var n;try{n=new CustomEvent(t)}catch{n=document.createEvent("CustomEvent"),n.initCustomEvent(t,!0,!0,{})}e.dispatchEvent(n)};var nhe={exports:{}};function wz(){}wz.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var r=this;function i(){r.off(t,i),e.apply(n,arguments)}return i._=e,this.on(t,i,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,i=n.length;for(r;r<i;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],i=[];if(r&&e)for(var s=0,l=r.length;s<l;s++)r[s].fn!==e&&r[s].fn._!==e&&i.push(r[s]);return i.length?n[t]=i:delete n[t],this}};nhe.exports=wz;nhe.exports.TinyEmitter=wz;var rhe=(t=>(t.CONTEXTMENU="contextmenu",t.CLICK="click",t.DBLCLICK="dblclick",t))(rhe||{});rhe.CONTEXTMENU;var fht=class extends jf{constructor(e){e=e||{};var n=cn.create("DIV",{className:e.switcherClass||"ol-layerswitcher"});super({element:n,target:e.target});var r=this;this.dcount=0,this.show_progress=e.show_progress,this.oninfo=typeof e.oninfo=="function"?e.oninfo:null,this.onextent=typeof e.onextent=="function"?e.onextent:null,this.hasextent=e.extent||e.onextent,this.hastrash=e.trash,this.reordering=e.reordering!==!1,this._layers=[],this._layerGroup=e.layerGroup&&e.layerGroup.getLayers?e.layerGroup:null,this.onchangeCheck=typeof e.onchangeCheck=="function"?e.onchangeCheck:null,typeof e.displayInLayerSwitcher=="function"&&(this.displayInLayerSwitcher=e.displayInLayerSwitcher),e.target||(n.classList.add("ol-unselectable"),n.classList.add("ol-control"),n.classList.add(e.collapsed!==!1?"ol-collapsed":"ol-forceopen"),this.button=cn.create("BUTTON",{type:"button",parent:n}),this.button.addEventListener("touchstart",function(i){n.classList.toggle("ol-forceopen"),n.classList.add("ol-collapsed"),r.dispatchEvent({type:"toggle",collapsed:n.classList.contains("ol-collapsed")}),i.preventDefault(),r.overflow()}),this.button.addEventListener("click",function(){n.classList.toggle("ol-forceopen"),n.classList.add("ol-collapsed"),r.dispatchEvent({type:"toggle",collapsed:!n.classList.contains("ol-forceopen")}),r.overflow()}),e.mouseover&&(n.addEventListener("mouseleave",function(){n.classList.add("ol-collapsed"),r.dispatchEvent({type:"toggle",collapsed:!0})}),n.addEventListener("mouseover",function(){n.classList.remove("ol-collapsed"),r.dispatchEvent({type:"toggle",collapsed:!1})})),e.minibar&&(e.noScroll=!0),e.noScroll||(this.topv=cn.create("DIV",{className:"ol-switchertopdiv",parent:n,click:function(){r.overflow("+50%")}}),this.botv=cn.create("DIV",{className:"ol-switcherbottomdiv",parent:n,click:function(){r.overflow("-50%")}})),this._noScroll=e.noScroll),this.panel_=cn.create("UL",{className:"panel"}),this.panelContainer_=cn.create("DIV",{className:"panel-container",html:this.panel_,parent:n}),!e.target&&!e.noScroll&&cn.addListener(this.panel_,"mousewheel DOMMouseScroll onmousewheel",function(i){r.overflow(Math.max(-1,Math.min(1,i.wheelDelta||-i.detail)))&&(i.stopPropagation(),i.preventDefault())}),this.header_=cn.create("LI",{className:"ol-header",parent:this.panel_}),this.set("drawDelay",e.drawDelay||0),this.set("selection",e.selection),e.minibar&&setTimeout((function(){var i=cn.scrollDiv(this.panelContainer_,{mousewheel:!0,vertical:!0,minibar:!0});this.on(["drawlist","toggle"],function(){i.refresh()})}).bind(this))}displayInLayerSwitcher(e){return e.get("displayInLayerSwitcher")!==!1}setMap(e){if(super.setMap(e),this.drawPanel(),this._listener)for(var n in this._listener)Mm(this._listener[n]);this._listener=null,e&&(this._listener={moveend:e.on("moveend",this.viewChange.bind(this)),size:e.on("change:size",this.overflow.bind(this))},this._layerGroup?this._listener.change=this._layerGroup.getLayers().on("change:length",this.drawPanel.bind(this)):this._listener.change=e.getLayerGroup().getLayers().on("change:length",this.drawPanel.bind(this)))}show(){this.element.classList.add("ol-forceopen"),this.overflow(),this.dispatchEvent({type:"toggle",collapsed:!1})}hide(){this.element.classList.remove("ol-forceopen"),this.overflow(),this.dispatchEvent({type:"toggle",collapsed:!0})}toggle(){this.element.classList.toggle("ol-forceopen"),this.overflow(),this.dispatchEvent({type:"toggle",collapsed:!this.isOpen()})}isOpen(){return this.element.classList.contains("ol-forceopen")}setHeader(e){cn.setHTML(this.header_,e)}overflow(e){if(this.button&&!this._noScroll){if(cn.hidden(this.panel_)){cn.setStyle(this.element,{height:"auto"});return}var n=cn.outerHeight(this.element),r=cn.outerHeight(this.panel_),i=this.button.offsetTop+cn.outerHeight(this.button),s=this.panel_.offsetTop-i;if(r>n-i){cn.setStyle(this.element,{height:"100%"});var l=this.panel_.querySelectorAll("li.ol-visible .li-content")[0],c=l?2*cn.getStyle(l,"height"):0;switch(e){case 1:s+=c;break;case-1:s-=c;break;case"+50%":s+=Math.round(n/2);break;case"-50%":s-=Math.round(n/2);break}return s+r<=n-3*i/2?(s=n-3*i/2-r,cn.hide(this.botv)):cn.show(this.botv),s>=0?(s=0,cn.hide(this.topv)):cn.show(this.topv),cn.setStyle(this.panel_,{top:s+"px"}),!0}else return cn.setStyle(this.element,{height:"auto"}),cn.setStyle(this.panel_,{top:0}),cn.hide(this.botv),cn.hide(this.topv),!1}else return!1}_setLayerForLI(e,n){var r=[];n.getLayers&&r.push(n.getLayers().on("change:length",this.drawPanel.bind(this))),e&&(r.push(n.on("change:opacity",(function(){this.setLayerOpacity(n,e)}).bind(this))),r.push(n.on("change:visible",(function(){this.setLayerVisibility(n,e)}).bind(this)))),r.push(n.on("propertychange",(function(i){(i.key==="displayInLayerSwitcher"||i.key==="openInLayerSwitcher"||i.key==="title"||i.key==="name")&&this.drawPanel(i)}).bind(this))),this._layers.push({li:e,layer:n,listeners:r})}setLayerOpacity(e,n){var r=n.querySelector(".layerswitcher-opacity-cursor");r&&(r.style.left=e.getOpacity()*100+"%"),this.dispatchEvent({type:"layer:opacity",layer:e})}setLayerVisibility(e,n){var r=n.querySelector(".ol-visibility");r&&(r.checked=e.getVisible()),e.getVisible()?n.classList.add("ol-visible"):n.classList.remove("ol-visible"),this.dispatchEvent({type:"layer:visible",layer:e})}_clearLayerForLI(){this._layers.forEach(function(e){e.listeners.forEach(function(n){Mm(n)})}),this._layers=[]}_getLayerForLI(e){for(var n=0,r;r=this._layers[n];n++)if(r.li===e)return r.layer;return null}viewChange(){this.panel_.querySelectorAll("li").forEach((function(e){var n=this._getLayerForLI(e);n&&(this.testLayerVisibility(n)?e.classList.remove("ol-layer-hidden"):e.classList.add("ol-layer-hidden"))}).bind(this))}getPanel(){return this.panelContainer_}drawPanel(){if(this.getMap()){var e=this;this.dcount++,setTimeout(function(){e.drawPanel_()},this.get("drawDelay")||0)}}drawPanel_(){if(!(--this.dcount||this.dragging_)){var e=this.panelContainer_.scrollTop;this._clearLayerForLI(),this.panel_.querySelectorAll("li").forEach((function(n){n.classList.contains("ol-header")||n.remove()}).bind(this)),this._layerGroup?this.drawList(this.panel_,this._layerGroup.getLayers()):this.getMap()&&this.drawList(this.panel_,this.getMap().getLayers()),this.panelContainer_.scrollTop=e}}switchLayerVisibility(e,n){e.get("baseLayer")?(e.getVisible()||e.setVisible(!0),n.forEach(function(r){e!==r&&r.get("baseLayer")&&r.getVisible()&&r.setVisible(!1)})):e.setVisible(!e.getVisible())}testLayerVisibility(e){if(!this.getMap())return!0;var n=this.getMap().getView().getResolution(),r=this.getMap().getView().getZoom();if(e.getMaxResolution()<=n||e.getMinResolution()>=n)return!1;if(e.getMinZoom&&(e.getMinZoom()>=r||e.getMaxZoom()<r))return!1;var i=e.getExtent();if(i){var s=this.getMap().getView().calculateExtent(this.getMap().getSize());return su(s,i)}return!0}dragOrdering_(e){e.stopPropagation(),e.preventDefault();var n=this,r=e.currentTarget.parentNode.parentNode,i=!0,s=this.panel_,l,c=e.pageY||e.touches&&e.touches.length&&e.touches[0].pageY||e.changedTouches&&e.changedTouches.length&&e.changedTouches[0].pageY,a,f,p,m;r.parentNode.classList.add("drag");function v(){if(a){var T=p,C=n.getSelection()===T;if(T&&a){var k;m?k=m.getLayers():k=n._layerGroup?n._layerGroup.getLayers():n.getMap().getLayers();for(var M=k.getArray(),P=0;P<M.length;P++)if(M[P]==T){k.removeAt(P);break}for(var R=0;R<M.length;R++)if(M[R]===a){P>R?k.insertAt(R,T):k.insertAt(R+1,T);break}}C&&n.selectLayer(T),n.dispatchEvent({type:"reorder-end",layer:T,group:m})}r.parentNode.querySelectorAll("li").forEach(function(N){N.classList.remove("dropover"),N.classList.remove("dropover-after"),N.classList.remove("dropover-before")}),r.classList.remove("drag"),r.parentNode.classList.remove("drag"),n.element.classList.remove("drag"),f&&f.remove(),cn.removeListener(document,"mousemove touchmove",y),cn.removeListener(document,"mouseup touchend touchcancel",v)}function y(T){if(l=T.pageY||T.touches&&T.touches.length&&T.touches[0].pageY||T.changedTouches&&T.changedTouches.length&&T.changedTouches[0].pageY,i&&Math.abs(c-l)>2&&(i=!1,r.classList.add("drag"),p=n._getLayerForLI(r),a=!1,m=n._getLayerForLI(r.parentNode.parentNode),f=cn.create("LI",{className:"ol-dragover",html:r.innerHTML,style:{position:"absolute","z-index":1e4,left:r.offsetLeft,opacity:.5,width:cn.outerWidth(r),height:cn.getStyle(r,"height")},parent:s}),n.element.classList.add("drag"),n.dispatchEvent({type:"reorder-start",layer:p,group:m})),!i){T.preventDefault(),T.stopPropagation(),cn.setStyle(f,{top:l-cn.offsetRect(s).top+s.scrollTop+5});var C;if(!T.touches)C=T.target,T.target.shadowRoot&&(C=T.composedPath()[0]);else for(C=document.elementFromPoint(T.touches[0].clientX,T.touches[0].clientY);C.shadowRoot;)C=C.shadowRoot.elementFromPoint(T.touches[0].clientX,T.touches[0].clientY);for(C.classList.contains("ol-switcherbottomdiv")?n.overflow(-1):C.classList.contains("ol-switchertopdiv")&&n.overflow(1);C&&C.tagName!=="LI";)C=C.parentNode;(!C||!C.classList.contains("dropover"))&&r.parentNode.querySelectorAll("li").forEach(function(k){k.classList.remove("dropover"),k.classList.remove("dropover-after"),k.classList.remove("dropover-before")}),C&&C.parentNode.classList.contains("drag")&&C!==r?(a=n._getLayerForLI(C),a&&!a.get("allwaysOnTop")==!p.get("allwaysOnTop")?(C.classList.add("dropover"),C.classList.add(r.offsetTop<C.offsetTop?"dropover-after":"dropover-before")):a=!1,cn.show(f)):(a=!1,C===r?cn.hide(f):cn.show(f)),a?f.classList.remove("forbidden"):f.classList.add("forbidden")}}cn.addListener(document,"mousemove touchmove",y),cn.addListener(document,"mouseup touchend touchcancel",v)}dragOpacity_(e){e.stopPropagation(),e.preventDefault();var n=this,r=e.target,i=this._getLayerForLI(r.parentNode.parentNode.parentNode);if(!i)return;var s=e.pageX||e.touches&&e.touches.length&&e.touches[0].pageX||e.changedTouches&&e.changedTouches.length&&e.changedTouches[0].pageX,l=cn.getStyle(r,"left")-s;n.dragging_=!0;function c(){cn.removeListener(document,"mouseup touchend touchcancel",c),cn.removeListener(document,"mousemove touchmove",a),n.dragging_=!1}function a(f){var p=f.pageX||f.touches&&f.touches.length&&f.touches[0].pageX||f.changedTouches&&f.changedTouches.length&&f.changedTouches[0].pageX,m=(l+p)/cn.getStyle(r.parentNode,"width"),v=Math.max(0,Math.min(1,m));cn.setStyle(r,{left:v*100+"%"}),r.parentNode.nextElementSibling.innerHTML=Math.round(v*100),i.setOpacity(v)}cn.addListener(document,"mouseup touchend touchcancel",c),cn.addListener(document,"mousemove touchmove",a)}drawList(e,n){var r=this,i=n.getArray(),s=function(m){m.stopPropagation(),m.preventDefault();var v=r._getLayerForLI(this.parentNode.parentNode);r.switchLayerVisibility(v,n),r.get("selection")&&v.getVisible()&&r.selectLayer(v),r.onchangeCheck&&r.onchangeCheck(v)};function l(m){m.stopPropagation(),m.preventDefault();var v=r._getLayerForLI(this.parentNode.parentNode);r.oninfo(v),r.dispatchEvent({type:"info",layer:v})}function c(m){m.stopPropagation(),m.preventDefault();var v=r._getLayerForLI(this.parentNode.parentNode);r.onextent?r.onextent(v):r.getMap().getView().fit(v.getExtent(),r.getMap().getSize()),r.dispatchEvent({type:"extent",layer:v})}function a(m){m.stopPropagation(),m.preventDefault();var v=this.parentNode.parentNode.parentNode.parentNode,y,T=r._getLayerForLI(v);T?(y=r._getLayerForLI(this.parentNode.parentNode),T.getLayers().remove(y),T.getLayers().getLength()==0&&!T.get("noSwitcherDelete")&&a.call(v.querySelectorAll(".layerTrash")[0],m)):(v=this.parentNode.parentNode,r.getMap().removeLayer(r._getLayerForLI(v)))}function f(m){if(!this.displayInLayerSwitcher(m)){this._setLayerForLI(null,m);return}var v=cn.create("LI",{className:(m.getVisible()?"ol-visible ":" ")+(m.get("baseLayer")?"baselayer":""),parent:e});this._setLayerForLI(v,m),this._selectedLayer===m&&v.classList.add("ol-layer-select");var y=cn.create("DIV",{className:"ol-layerswitcher-buttons",parent:v}),T=cn.create("DIV",{className:"li-content",parent:v});cn.create("INPUT",{type:m.get("baseLayer")?"radio":"checkbox",className:"ol-visibility",checked:m.getVisible(),click:s,parent:T});var C=cn.create("LABEL",{title:m.get("title")||m.get("name"),click:s,style:{userSelect:"none"},parent:T});if(C.addEventListener("selectstart",function(){return!1}),cn.create("SPAN",{html:m.get("title")||m.get("name"),click:(function(z){this.get("selection")&&(z.stopPropagation(),this.selectLayer(m))}).bind(this),parent:C}),this.reordering&&(p<i.length-1&&(m.get("allwaysOnTop")||!i[p+1].get("allwaysOnTop"))||p>0&&(!m.get("allwaysOnTop")||i[p-1].get("allwaysOnTop")))&&cn.create("DIV",{className:"layerup ol-noscroll",title:this.tip.up,on:{"mousedown touchstart":function(z){r.dragOrdering_(z)}},parent:y}),m.getLayers){var k=0;m.getLayers().forEach(function(z){r.displayInLayerSwitcher(z)&&k++}),k&&cn.create("DIV",{className:m.get("openInLayerSwitcher")?"collapse-layers":"expend-layers",title:this.tip.plus,click:function(){var z=r._getLayerForLI(this.parentNode.parentNode);z.set("openInLayerSwitcher",!z.get("openInLayerSwitcher"))},parent:y})}if(this.oninfo&&cn.create("DIV",{className:"layerInfo",title:this.tip.info,click:l,parent:y}),this.hastrash&&!m.get("noSwitcherDelete")&&cn.create("DIV",{className:"layerTrash",title:this.tip.trash,click:a,parent:y}),this.hasextent&&i[p].getExtent()){var M=i[p].getExtent();M.length==4&&M[0]<M[2]&&M[1]<M[3]&&cn.create("DIV",{className:"layerExtent",title:this.tip.extent,click:c,parent:y})}if(this.show_progress&&m instanceof tX){var P=cn.create("DIV",{className:"layerswitcher-progress",parent:T});this.setprogress_(m),m.layerswitcher_progress=cn.create("DIV",{parent:P})}var R=cn.create("DIV",{className:"layerswitcher-opacity",click:function(z){if(z.target===this){z.stopPropagation(),z.preventDefault();var H=Math.max(0,Math.min(1,z.offsetX/cn.getStyle(this,"width")));r._getLayerForLI(this.parentNode.parentNode).setOpacity(H),this.parentNode.querySelectorAll(".layerswitcher-opacity-label")[0].innerHTML=Math.round(H*100)}},parent:T});if(cn.create("DIV",{className:"layerswitcher-opacity-cursor ol-noscroll",style:{left:m.getOpacity()*100+"%"},on:{"mousedown touchstart":function(z){r.dragOpacity_(z)}},parent:R}),cn.create("DIV",{className:"layerswitcher-opacity-label",html:Math.round(m.getOpacity()*100),parent:T}),m.getLayers&&(v.classList.add("ol-layer-group"),m.get("openInLayerSwitcher")===!0)){var N=cn.create("UL",{parent:v});this.drawList(N,m.getLayers())}v.classList.add(this.getLayerClass(m)),this.dispatchEvent({type:"drawlist",layer:m,li:v})}for(var p=i.length-1;p>=0;p--)f.call(this,i[p]);this.viewChange(),e===this.panel_&&this.overflow()}getLayerClass(e){return e?e.getLayers?"ol-layer-group":e instanceof pz?"ol-layer-vector":e instanceof Wct?"ol-layer-vectortile":e instanceof tX?"ol-layer-tile":e instanceof Lut?"ol-layer-image":e instanceof Qct?"ol-layer-heatmap":e.getFeatures?"ol-layer-vectorimage":"unknown":"none"}selectLayer(e,n){if(!e){if(!this.getMap())return;e=this.getMap().getLayers().item(this.getMap().getLayers().getLength()-1)}this._selectedLayer=e,this.drawPanel(),n||this.dispatchEvent({type:"select",layer:e})}getSelection(){return this._selectedLayer}setprogress_(e){if(!e.layerswitcher_progress){var n=0,r=0,i=function(){r===n?(r=n=0,cn.setStyle(e.layerswitcher_progress,{width:0})):cn.setStyle(e.layerswitcher_progress,{width:(n/r*100).toFixed(1)+"%"})};e.getSource().on("tileloadstart",function(){r++,i()}),e.getSource().on("tileloadend",function(){n++,i()}),e.getSource().on("tileloaderror",function(){n++,i()})}}};fht.prototype.tip={up:"up/down",down:"down",info:"informations...",extent:"zoom to extent",trash:"remove layer",plus:"expand/shrink"};lz.prototype.getPreview=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAk6QAAJOkBUCTn+AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANeSURBVHic7ZpPiE1RHMc/780MBhkik79JSUlIUbOxI+wkI2yRhYSUlJLNpJF/xcpiJBmZGBZsNM1CkmhKITGkGbH0/BuPmXnP4rxbb/TOn3fvOffeec6nfqvb/b7f93fveeec37ng8Xg8Ho/nf6Uu4d+fDswFssCvhHOJhaXAMeApMAQUyyIPPAdOAiuTStAVy4EHjDWsix5gdRLJ2mY34ulWYz6IEeA4kIk9awtkgTOEM/5vdAKT4k0/Ou3YMR/ELcbRm9AKFLBbgCJwNE4TYZkJfMG++SIwDCyLz0o4bI17WdyJz0r1TAZ+oDcxCBwAFgIzEIuhvcBbg3sLwOK4DFXLFvQGniCGSSUagS4DjUPOHESkA3XiOWCORqMR6Nfo9DjI3QqPUSd+ylBnv0Zn0GrWFvmIOvGNhjqrNDp/EAutyFgRKUM2tgO+Gur81FxvAKYZaimxXYBvmuuLDHWWaK4X0RfJCNsF6NdcbzXU2a65PohYFKWOc+jn8PUajbWIXaBKp9NB7lZYh34OzwFbFfd/NtDYYSth27urLGIm0M31AL3APWAAmIooymaDnPIl/Vz4NN1yHrd7gcvxWQnHAuA3bsyPop8hUsE13BSgK04TUViBeFo2zedJ8S6wElexW4D2eNOPTjNi6WvD/DtEr8E6tk6GGoAmxFY2iFHE9NZiQf8gogiB9gTEH23izAZuE77vHyU+ANucO1QwD3hD/MbLowAcdm20EmkwXx4n3NodS9rMB2HabYpEWs0HcRqHp0fNwAvJD+eBTZr7p6BvmQVxUaEzEbiruNfJekH15L8jtrEm7JJolEcOmKXRqQOuKDQuY7HZY8s8iNfzkSLxIuI43FTrkkLnOlBfRW4VsWk+oAX5weknxFAxJQNckGgVgZuIRVoomoGXEmGTMa+iQ6K7M4SW7k24QYgiuDQPYinbhugiF4H3RGtzZYCzyIvQXfpNI1ybLyeLpf5+iTbkRbiP2EcocTHm4+YI8iI8RFHwWjAfsA95Q+YZFU6wasl8wB7kReijtNbIILa0vcg/PRlGfPQwHmlCviDqAzaA+OREtzqr1ejOIDorxlNEjTGUBV4nnUWCvAJxGDlA8q9j3DEArAn2zvXAfOwfl6eVAmJrPpJ0Ih6Px+PxeJLjLwPul3vj5d0eAAAAAElFTkSuQmCC"};wce.prototype.getPreview=function(t,e){t||(t=[21020,6355964]),e||(e=150);var n=this.getTileGrid().getTileCoordForCoordAndResolution(t,e),r=this.getTileUrlFunction();return r.call(this,n,this.getProjection())};Put.prototype.getPreview=function(t,e){t||(t=[21020,6355964]),e||(e=150);var n=this.getTileUrlFunction();if(n){var r=this.getTileGrid()||this.getTileGridForProjection(this.getProjection()),i=r.getTileCoordForCoordAndResolution(t,e);return n.call(this,i,1,this.getProjection())}var s=this.getGetFeatureInfoUrl?this.getGetFeatureInfoUrl(t,e,this.getProjection()||"EPSG:3857",{}):this.getFeatureInfoUrl(t,e,this.getProjection()||"EPSG:3857",{});return s=s.replace(/getfeatureinfo/i,"GetMap"),s};jy.prototype.getPreview=function(t,e,n){if(this.get("preview"))return[this.get("preview")];if(e||(e=150),e<this.getMinResolution()||e>this.getMaxResolution()){var r=this.getMinResolution(),i=this.getMaxResolution();for(i>1e5&&(i=156543),r<.15&&(r=.15),e=i;i>r;)r*=2,i/=2,e=r}var s=this.getExtent();if(t||(t=[21020,6355964]),s&&!g1(s,t)&&(t=[(s[0]+s[2])/2,(s[1]+s[3])/2]),n&&(t=c0(t,n,this.getSource().getProjection())),this.getSource&&this.getSource())try{return[this.getSource().getPreview(t,e)]}catch{}return[]};Ky.prototype.getPreview=function(t,e){if(this.get("preview"))return[this.get("preview")];var n=[];if(this.getLayers)for(var r=this.getLayers().getArray(),i=0;i<r.length;i++)n=n.concat(r[i].getPreview(t,e));return n};var ihe=class extends jf{constructor(e){e=e||{},e.fullscreen&&(e.target=document.body);var n=cn.create("DIV",{className:((e.className||"")+(e.zoom?" ol-zoom":"")+" ol-ext-dialog").trim()});super({element:n,target:e.target}),n.addEventListener("click",(function(s){this.get("hideOnBack")&&s.target===n&&this.close(),this.get("hideOnClick")&&this.close()}).bind(this));var r=cn.create("FORM",{on:{submit:this._onButton("submit")},parent:n});cn.create("H2",{parent:r}),cn.create("DIV",{className:"ol-closebox",click:this._onButton("cancel"),parent:r}),cn.create("DIV",{className:"ol-content",parent:r}),this._progress=cn.create("DIV",{style:{display:"none"},parent:r});var i=cn.create("DIV",{className:"ol-progress-bar",parent:this._progress});this._progressbar=cn.create("DIV",{parent:i}),this._progressMessage=cn.create("DIV",{className:"ol-progress-message",parent:this._progress}),cn.create("DIV",{className:"ol-buttons",parent:r}),this.set("closeBox",e.closeBox!==!1),this.set("zoom",!!e.zoom),this.set("hideOnClick",!!e.hideOnClick),this.set("hideOnBack",!!e.hideOnBack),this.set("className",n.className),this.set("closeOnSubmit",e.closeOnSubmit),this.set("buttons",e.buttons),this.setContent(e)}show(e){e&&((e instanceof Element||typeof e=="string")&&(e={content:e}),this.setContent(e)),this.element.classList.add("ol-visible");var n=this.element.querySelector('input[type="text"],input[type="search"],input[type="number"]');if(n&&n.focus(),this.dispatchEvent({type:"show"}),e){if(e.autoclose){var r=setTimeout((function(){this.hide()}).bind(this),e.autoclose);this.once("hide",function(){clearTimeout(r)})}if(e.hideOnBack){var i=this.get("hideOnBack");this.set("hideOnBack",!0),this.once("hide",(function(){this.set("hideOnBack",i)}).bind(this))}}}open(){this.show()}setContentMessage(e){if(e!==void 0){var n=this.getContentElement();e instanceof Element&&cn.setHTML(n,""),cn.setHTML(n,e||"")}}setTitle(e){var n=this.element.querySelector("form");n.querySelector("h2").innerText=e||"",e?n.classList.add("ol-title"):n.classList.remove("ol-title")}setContent(e){if(e){this.element.className=this.get("className"),typeof e=="string"&&(e={content:e}),e=e||{},this.setProgress(!1),e.max&&this.setProgress(0,e.max),e.progress!==void 0&&this.setProgress(e.progress),this.get("zoom")?this.element.classList.add("ol-zoom"):this.element.classList.remove("ol-zoom"),e.className&&e.className.split(" ").forEach((function(l){this.element.classList.add(l)}).bind(this));var n=this.element.querySelector("form");e.content!==void 0&&(e.content instanceof Element&&cn.setHTML(n.querySelector(".ol-content"),""),cn.setHTML(n.querySelector(".ol-content"),e.content||"")),this.setTitle(e.title),e.closeBox||this.get("closeBox")&&e.closeBox!==!1?n.classList.add("ol-closebox"):n.classList.remove("ol-closebox");var r=this.element.querySelector(".ol-buttons");r.innerHTML="";var i=e.buttons||this.get("buttons");if(i){n.classList.add("ol-button");for(var s in i)cn.create("INPUT",{type:s==="submit"?"submit":"button",value:i[s],click:this._onButton(s,e.onButton),parent:r})}else n.classList.remove("ol-button")}}getContentElement(){return this.element.querySelector("form .ol-content")}setProgress(e,n,r){if(e===!1){cn.setStyle(this._progress,{display:"none"});return}if(n>0?this.set("max",Number(n)):n=this.get("max"),!n)cn.setStyle(this._progress,{display:"none"});else{var i=Math.round(e/n*100);cn.setStyle(this._progress,{display:""}),this._progressbar.className=i?"":"notransition",cn.setStyle(this._progressbar,{width:i+"%"})}this._progressMessage.innerHTML="",cn.setHTML(this._progressMessage,r||"")}_onButton(e,n){var r=(function(i){i.preventDefault(),(e!=="submit"||this.get("closeOnSubmit")!==!1)&&this.hide();var s=this.getInputs();this.dispatchEvent({type:"button",button:e,inputs:s}),typeof n=="function"&&n(e,s)}).bind(this);return r}getInputs(){var e={};return["input","textarea","select"].forEach((function(n){this.element.querySelectorAll("form "+n).forEach(function(r){r.className&&r.className.split(" ").forEach(function(i){e[i]=r})})}).bind(this)),e}hide(){this.element.classList.remove("ol-visible"),this.dispatchEvent({type:"hide"})}close(){this.hide()}isOpen(){return this.element.classList.contains("ol-visible")}},pht=function(t){if(!t)return null;var e=t.getViewport().getElementsByClassName("ol-fixedoverlay")[0];return e||(t.getViewport().querySelector(".ol-layers")?(e=document.createElement("canvas"),e.className="ol-fixedoverlay",t.getViewport().querySelector(".ol-layers").after(e),t.on("precompose",function(n){e.width=t.getSize()[0]*n.frameState.pixelRatio,e.height=t.getSize()[1]*n.frameState.pixelRatio})):e=t.getViewport().querySelector("canvas")),e},xz=class extends jf{constructor(e){e=e||{},super(e),this.setStyle(e.style)}setMap(e){this.getCanvas(e);var n=this.getMap();if(this._listener&&(Mm(this._listener),this._listener=null),super.setMap(e),n)try{n.renderSync()}catch{}e&&(this._listener=e.on("postcompose",this._draw.bind(this)))}getCanvas(e){return pht(e)}getContext(e){var n=e.context;if(!n&&this.getMap()){var r=this.getMap().getViewport().getElementsByClassName("ol-fixedoverlay")[0];n=r?r.getContext("2d"):null}return n}setStyle(e){this._style=e||new Uc({})}getStyle(){return this._style}getStroke(){var e=this._style.getStroke();return e||this._style.setStroke(new Kd({color:"#000",width:1.25})),this._style.getStroke()}getFill(){var e=this._style.getFill();return e||this._style.setFill(new km({color:"#fff"})),this._style.getFill()}getTextStroke(){var e=this._style.getText();return e||(e=new a1({})),e.getStroke()||e.setStroke(new Kd({color:"#fff",width:3})),e.getStroke()}getTextFill(){var e=this._style.getText();return e||(e=new a1({})),e.getFill()||e.setFill(new km({color:"#fff"})),e.getFill()}getTextFont(){var e=this._style.getText();return e||(e=new a1({})),e.getFont()||e.setFont("12px sans-serif"),e.getFont()}_draw(){console.warn("[CanvasBase] draw function not implemented.")}},Aht=class extends xz{constructor(e){e=e||{};var n=document.createElement("div");if(super({element:n,target:e.target}),e.target)n.className=e.className||"ol-legend";else{n.className=(e.className||"ol-legend")+" ol-unselectable ol-control"+(e.collapsible===!1?" ol-uncollapsible":" ol-collapsed");var r=document.createElement("button");r.setAttribute("type","button"),r.addEventListener("click",(function(){this.toggle()}).bind(this)),n.appendChild(r),r=document.createElement("button"),r.setAttribute("type","button"),r.className="ol-closebox",r.addEventListener("click",(function(){this.toggle()}).bind(this)),n.appendChild(r)}this._legend=e.legend,this._legend.getCanvas().className="ol-legendImg",n.appendChild(this._legend.getCanvas()),n.appendChild(this._legend.getListElement()),e.collapsible!==!1&&e.collapsed===!1&&this.show(),this._legend.on("select",(function(i){this.dispatchEvent(i)}).bind(this)),this._legend.on("refresh",(function(){if(this._onCanvas&&this.getMap())try{this.getMap().renderSync()}catch{}}).bind(this)),this._legend.on("items",(function(i){i.nb?(this.element.classList.remove("ol-empty"),this.element.title=e.title||"legend"):(this.element.classList.add("ol-empty"),this.element.title=e.emptyTitle||"no legend"),this.dispatchEvent(i)}).bind(this))}getLegend(){return this._legend}setCanvas(e){if(this._onCanvas=e,this.element.style.visibility=e?"hidden":"visible",this.getMap())try{this.getMap().renderSync()}catch{}}onCanvas(){return!!this._onCanvas}_draw(e){if(this._onCanvas&&!this.element.classList.contains("ol-collapsed")){var n=this._legend.getCanvas(),r=this.getContext(e),i=r.canvas.height-n.height;r.save(),r.rect(0,i,n.width,n.height);var s="#fff";this._legend.getTextStyle().getBackgroundFill()&&(s=TC(this._legend.getTextStyle().getBackgroundFill().getColor())),r.fillStyle=r.strokeStyle=s,r.lineWidth=10,r.lineJoin="round",r.stroke(),r.clearRect(0,i,n.width,n.height),r.fill(),r.drawImage(n,0,i),r.restore()}}show(){if(this.element.classList.contains("ol-collapsed")&&(this.element.classList.remove("ol-collapsed"),this.dispatchEvent({type:"change:collapse",collapsed:!1}),this.getMap()))try{this.getMap().renderSync()}catch{}}hide(){if(!this.element.classList.contains("ol-collapsed")&&(this.element.classList.add("ol-collapsed"),this.dispatchEvent({type:"change:collapse",collapsed:!0}),this.getMap()))try{this.getMap().renderSync()}catch{}}collapse(e){e===!1?this.show():this.hide()}isCollapsed(){return this.element.classList.contains("ol-collapsed")}toggle(){if(this.element.classList.toggle("ol-collapsed"),this.dispatchEvent({type:"change:collapse",collapsed:this.element.classList.contains("ol-collapsed")}),this.getMap())try{this.getMap().renderSync()}catch{}}},ahe=class extends jf{constructor(e){e=e||{};var n=cn.create("DIV",{className:e.className||"ol-print"});super({element:n,target:e.target}),e.target||(n.classList.add("ol-unselectable","ol-control"),cn.create("BUTTON",{type:"button",title:e.title||"Print",click:(function(){this.print()}).bind(this),parent:n})),this.set("immediate",e.immediate),this.set("imageType",e.imageType||"image/jpeg"),this.set("quality",e.quality||.8),this.set("orientation",e.orientation)}toClipboard(e,n){try{e.canvas.toBlob(function(r){try{navigator.clipboard.write([new window.ClipboardItem(Object.defineProperty({},r.type,{value:r,enumerable:!0}))]),typeof n=="function"&&n(!0)}catch{typeof n=="function"&&n(!1)}})}catch{typeof n=="function"&&n(!1)}}copyMap(e,n){this.once("print",(function(r){this.toClipboard(r,n)}).bind(this)),this.print(e)}_getCanvas(e,n,r){var i;if(e.context)r=e.context.canvas;else{if(r)i=r.getContext("2d");else{r=document.createElement("canvas");var s=this.getMap().getSize();r.width=s[0],r.height=s[1],i=r.getContext("2d"),/jp.*g$/.test(n)&&(i.fillStyle=this.get("bgColor")||"white",i.fillRect(0,0,r.width,r.height))}this.getMap().getViewport().querySelectorAll(".ol-layers canvas, canvas.ol-fixedoverlay").forEach((function(l){if(l.width){if(i.save(),l.parentNode.style.opacity==="0")return;i.globalAlpha=parseFloat(l.parentNode.style.opacity)||1,i.globalCompositeOperation=cn.getStyle(l.parentNode,"mix-blend-mode"),i.filter=cn.getStyle(l.parentNode,"filter");var c=cn.getStyle(l,"transform")||cn.getStyle(l,"-webkit-transform");/^matrix/.test(c)?(c=c.replace(/^matrix\(|\)$/g,"").split(","),c.forEach(function(a,f){c[f]=parseFloat(a)}),i.transform(c[0],c[1],c[2],c[3],c[4],c[5]),i.drawImage(l,0,0)):i.drawImage(l,0,0,cn.getStyle(l,"width"),cn.getStyle(l,"height")),i.restore()}}).bind(this))}return r}fastPrint(e,n){e=e||{},this._ol6?requestAnimationFrame((function(){n(this._getCanvas({},e.imageType,e.canvas))}).bind(this)):(this.getMap().once("postcompose",(function(r){r.context||(this._ol6=!0),n(this._getCanvas(r,e.imageType,e.canvas))}).bind(this)),this.getMap().render())}print(e){e=e||{};var n=e.imageType||this.get("imageType"),r=e.quality||this.get("quality");if(this.getMap()){if(e.immediate!=="silent"&&this.dispatchEvent(Object.assign({type:"printing"},e)),!e.immediate){setTimeout((function(){e=Object.assign({},e),e.immediate="silent",this.print(e)}).bind(this),200);return}this.getMap().once(this.get("immediate")?"postcompose":"rendercomplete",(function(i){var s=this._getCanvas(i,n),l=e.size||[210,297],c=e.format||"a4",a,f,p,m=e.orient||this.get("orientation"),v=typeof e.margin=="number"?e.margin:10;if(s){m!=="landscape"&&m!=="portrait"&&(m=s.width>s.height?"landscape":"portrait"),m==="landscape"&&(l=[l[1],l[0]]);var y=Math.min((l[0]-2*v)/s.width,(l[1]-2*v)/s.height);a=y*s.width,f=y*s.height,p=[(l[0]-a)/2,(l[1]-f)/2]}var T;try{T=s?s.toDataURL(n,r):null}catch{this.dispatchEvent({type:"error",canvas:s});return}var C=Object.assign({type:"print",print:{format:c,orientation:m,unit:"mm",size:l,position:p,imageWidth:a,imageHeight:f},image:T,imageType:n,quality:r,canvas:s},e);this.dispatchEvent(C)}).bind(this)),this.getMap().render()}}},mht=class extends xz{constructor(e){e=e||{};var n=cn.create("DIV",{className:(e.className||"")+" ol-control-title ol-unselectable",style:{display:"block",visibility:"hidden"}});super({element:n,style:e.style}),this.setTitle(e.title||""),this.setVisible(e.visible!==!1),this.element.style.font=this.getTextFont()}setStyle(e){super.setStyle(e),this.element&&(this.element.style.font=this.getTextFont()),this.getMap()&&this.getMap().render()}setTitle(e){if(this.element.textContent=e,this.set("title",e),this.getMap())try{this.getMap().renderSync()}catch{}}getTitle(){return this.get("title")}setVisible(e){if(this.element.style.display=e?"block":"none",this.getMap())try{this.getMap().renderSync()}catch{}}getVisible(){return this.element.style.display!=="none"}_draw(e){if(this.getVisible()){var n=this.getContext(e);if(n){var r=e.frameState.pixelRatio;n.save(),n.scale(r,r);var i=this.element.getBoundingClientRect(),s=this.getMap().getViewport().getBoundingClientRect(),l=this.getMap().getSize()[0]/s.width;n.translate(Math.round((i.left-s.left)*l),Math.round((i.top-s.top)*l));var c=this.element.clientHeight,a=this.element.clientWidth,f=a/2;n.beginPath(),n.fillStyle=TC(this.getFill().getColor()),n.rect(0,0,a,c),n.fill(),n.closePath(),n.beginPath(),n.fillStyle=TC(this.getTextFill().getColor()),n.strokeStyle=TC(this.getTextStroke().getColor()),n.lineWidth=this.getTextStroke().getWidth(),n.textAlign="center",n.textBaseline="middle",n.font=this.getTextFont(),n.lineJoin="round",n.lineWidth&&n.strokeText(this.getTitle(),f,c/2),n.fillText(this.getTitle(),f,c/2),n.closePath(),n.restore()}}}},vP=function(t,e){var n=t.getView(),r=n.getProjection(),i=n.getCenter(),s=t.getPixelFromCoordinate(i);s[1]+=1;var l=t.getCoordinateFromPixel(s),c=S6(c0(i,r,"EPSG:4326"),c0(l,r,"EPSG:4326"));return c*=96/.0254,c},ght=function(t,e,n){if(t&&e){var r=e;if(typeof e=="string"&&(e=e.replace(":","/").split("/"),r=e[1],r||(r=e[0]||""),r=r.replace(/[^\d]/g,""),r=parseInt(r),e[1])){var i=parseInt(e[0]);i&&(r/=i)}if(!r)return;var s=t.getView(),l=s.getProjection(),c=s.getCenter(),a=t.getPixelFromCoordinate(c);a[1]+=1;var f=t.getCoordinateFromPixel(a),p=S6(c0(c,l,"EPSG:4326"),c0(f,l,"EPSG:4326"));return p*=96/.0254,s.setResolution(s.getResolution()*r/p),r}},AX=class extends xz{constructor(e){e=e||{};var n=document.createElement("div");n.className="ol-control ol-compassctrl ol-unselectable ol-hidden"+(e.className?" "+e.className:""),n.style.position="absolute",n.style.visibility="hidden";var r=e.style instanceof Kd?new Uc({stroke:e.style}):e.style;e.style||(r=new Uc({stroke:new Kd({width:0})})),super({element:n,style:r}),this.set("rotateVithView",e.rotateWithView!==!1),this.setVisible(e.visible!==!1),this.setImage(e.image||e.src)}setImage(e){if(e instanceof Image)this.img_=e,this.img_.onload=(function(){if(this.getMap())try{this.getMap().renderSync()}catch{}}).bind(this);else if(typeof e=="string")switch(e){case"compact":{this.img_=this.compactCompass_(this.element.clientWidth,this.getStroke().getColor());break}case"default":{this.img_=this.defaultCompass_(this.element.clientWidth,this.getStroke().getColor());break}default:{this.img_=new Image,this.img_.onload=(function(){if(this.getMap())try{this.getMap().renderSync()}catch{}}).bind(this),this.img_.src=e;break}}else this.img_=this.defaultCompass_(this.element.clientWidth,this.getStroke().getColor())}compactCompass_(e,n){var r=document.createElement("canvas"),i=r.getContext("2d");e=r.width=r.height=e||150;var s=e/2;return i.translate(s,s),i.fillStyle=n||"#963",i.lineWidth=5,i.lineJoin=i.lineCap="round",i.font="bold "+s*.4+"px sans-serif",i.textBaseline="bottom",i.textAlign="center",i.strokeStyle="#fff",i.globalAlpha=.75,i.strokeText("N",0,-s/2),i.globalAlpha=1,i.fillText("N",0,-s/2),i.beginPath(),i.moveTo(0,s/4),i.lineTo(s/3,s/2),i.lineTo(0,-s/2),i.lineTo(-s/3,s/2),i.lineTo(0,s/4),i.lineWidth=12,i.fillStyle="#fff",i.globalAlpha=.75,i.fill(),i.stroke(),i.globalAlpha=1,i.fillStyle=i.strokeStyle=n||"#963",i.lineWidth=5,i.beginPath(),i.moveTo(0,s/4),i.lineTo(0,-s/2),i.lineTo(s/3,s/2),i.lineTo(0,s/4),i.fill(),i.stroke(),i.beginPath(),i.moveTo(0,s/4),i.lineTo(0,-s/2),i.lineTo(-s/3,s/2),i.lineTo(0,s/4),i.stroke(),r}defaultCompass_(e,n){var r=document.createElement("canvas"),i=r.getContext("2d");e=r.width=r.height=e||150;var s=e/2,l=.22*s;function c(f,p){i.fillStyle=n||"#963",i.beginPath(),i.moveTo(0,0),i.lineTo(f,0),i.lineTo(p,p),i.moveTo(0,0),i.lineTo(-f,0),i.lineTo(-p,-p),i.moveTo(0,0),i.lineTo(0,f),i.lineTo(-p,p),i.moveTo(0,0),i.lineTo(0,-f),i.lineTo(p,-p),i.moveTo(0,0),i.fill(),i.stroke()}function a(f,p){i.globalCompositeOperation="destination-out",i.fillStyle="#fff",i.beginPath(),i.moveTo(0,0),i.lineTo(f,0),i.lineTo(p,-p),i.moveTo(0,0),i.lineTo(-f,0),i.lineTo(-p,p),i.moveTo(0,0),i.lineTo(0,f),i.lineTo(p,p),i.moveTo(0,0),i.lineTo(0,-f),i.lineTo(-p,-p),i.moveTo(0,0),i.fill(),i.globalCompositeOperation="source-over",i.beginPath(),i.moveTo(0,0),i.lineTo(f,0),i.lineTo(p,-p),i.moveTo(0,0),i.lineTo(-f,0),i.lineTo(-p,p),i.moveTo(0,0),i.lineTo(0,f),i.lineTo(p,p),i.moveTo(0,0),i.lineTo(0,-f),i.lineTo(-p,-p),i.moveTo(0,0),i.stroke()}return i.translate(s,s),i.strokeStyle=n||"#963",i.lineWidth=1.5,i.beginPath(),i.arc(0,0,e*.41,0,2*Math.PI),i.arc(0,0,e*.44,0,2*Math.PI),i.stroke(),i.rotate(Math.PI/4),c(s*.9,l*.8),a(s*.9,l*.8),i.rotate(-Math.PI/4),c(s,l),a(s,l),r}getVisible(){return cn.getStyle(this.element,"display")==="block"}setVisible(e){e?this.element.classList.add("ol-visible"):this.element.classList.remove("ol-visible"),this.getMap()&&this.getMap().render()}_draw(e){var n=this.getContext(e);if(!(!n||!this.getVisible())){var r=n.canvas,i,s=[];for(i=0;i<8;i++)s[i]=[Math.cos(Math.PI*i/8),Math.sin(Math.PI*i/8)];var l=e.frameState.pixelRatio;n.save(),n.scale(l,l);var c=this.element.clientWidth,a=this.element.clientHeight,f={left:this.element.offsetLeft,top:this.element.offsetTop},p=this.img_,m=e.frameState.viewState.rotation;if(n.beginPath(),n.translate(f.left+c/2,f.top+a/2),this.get("rotateVithView")&&n.rotate(m),this.getStroke().getWidth()){n.beginPath(),n.strokeStyle=this.getStroke().getColor(),n.lineWidth=this.getStroke().getWidth();var v=Math.max(r.width,r.height);for(i=0;i<8;i++)n.moveTo(-s[i][0]*v,-s[i][1]*v),n.lineTo(s[i][0]*v,s[i][1]*v);n.stroke()}p.width&&n.drawImage(p,-c/2,-a/2,c,a),n.closePath(),n.restore()}}},gx=class extends jf{constructor(e){e=e||{};var n=cn.create("DIV",{className:(e.className||"ol-print")+" ol-unselectable ol-control"});super({element:n}),this._lang=e.lang||"en",e.target||cn.create("BUTTON",{type:"button",title:e.title||"Print",click:(function(){this.print()}).bind(this),parent:n}),e.openWindow&&this.on("print",function(W){W.canvas&&window.open().document.write('<img src="'+W.canvas.toDataURL()+'"/>')}),e.target=cn.create("DIV");var r=this._printCtrl=new ahe(e);r.on(["print","error","printing"],(function(W){this._printing(W)}).bind(this)),this._compass=new AX({src:e.northImage||"compact",visible:!1,className:"olext-print-compass",style:new Kd({color:"#333",width:0})});var i=this._printDialog=new ihe({target:e.targetDialog||document.body,closeBox:!0,className:"ol-ext-print-dialog"}),s=i.getContentElement();this._input={};var l=cn.create("DIV",{className:"ol-print-param",parent:s});this._pages=[cn.create("DIV",{className:"ol-page"})];var c=cn.create("DIV",{className:"ol-map",parent:this._pages[0]});cn.create("DIV",{html:this._pages[0],className:"ol-print-map",parent:s}),cn.create("H2",{html:this.i18n("title"),parent:l});var a=cn.create("UL",{parent:l}),f=cn.create("LI",{className:"ol-orientation",parent:a});this._input.orientation={list:f};var p=cn.create("LABEL",{className:"portrait",parent:f});this._input.orientation.portrait=cn.create("INPUT",{type:"radio",name:"ol-print-orientation",value:"portrait",checked:!0,on:{change:(function(W){this.setOrientation(W.target.value)}).bind(this)},parent:p}),cn.create("SPAN",{html:this.i18n("portrait"),parent:p}),p=cn.create("LABEL",{className:"landscape",parent:f}),this._input.orientation.landscape=cn.create("INPUT",{type:"radio",name:"ol-print-orientation",value:"landscape",on:{change:(function(W){this.setOrientation(W.target.value)}).bind(this)},parent:p}),cn.create("SPAN",{html:this.i18n("landscape"),parent:p});var m;f=cn.create("LI",{html:cn.create("LABEL",{html:this.i18n("size")}),className:"ol-size",parent:a});var v=this._input.size=cn.create("SELECT",{on:{change:(function(){this.setSize(v.value||G)}).bind(this)},parent:f});for(m in this.paperSize)cn.create("OPTION",{html:m+(this.paperSize[m]?" - "+this.paperSize[m][0]+"x"+this.paperSize[m][1]+" mm":this.i18n("custom")),value:m,parent:v});f=cn.create("LI",{html:cn.create("LABEL",{html:this.i18n("margin")}),className:"ol-margin",parent:a});var y=this._input.margin=cn.create("SELECT",{on:{change:(function(){this.setMargin(y.value)}).bind(this)},parent:f});for(m in this.marginSize)cn.create("OPTION",{html:this.i18n(m)+" - "+this.marginSize[m]+" mm",value:this.marginSize[m],parent:y});f=cn.create("LI",{html:cn.create("LABEL",{html:this.i18n("scale")}),className:"ol-scale",parent:a});var T=this._input.scale=cn.create("SELECT",{on:{change:(function(){this.setScale(parseInt(T.value))}).bind(this)},parent:f});Object.keys(this.scales).forEach((function(W){cn.create("OPTION",{html:this.scales[W],value:W,parent:T})}).bind(this)),f=cn.create("LI",{className:"ol-legend",parent:a});var C=cn.createSwitch({html:this.i18n("legend"),checked:!1,on:{change:(function(){q.legend.control.setCanvas(C.checked)}).bind(this)},parent:f});f=cn.create("LI",{className:"ol-print-north",parent:a});var k=this._input.north=cn.createSwitch({html:this.i18n("north"),checked:"checked",on:{change:(function(){k.checked?this._compass.element.classList.add("ol-print-compass"):this._compass.element.classList.remove("ol-print-compass"),this.getMap().render()}).bind(this)},parent:f});f=cn.create("LI",{className:"ol-print-title",parent:a});var M=cn.createSwitch({html:this.i18n("mapTitle"),checked:!1,on:{change:(function(W){q.title.control.setVisible(W.target.checked)}).bind(this)},parent:f}),P=cn.create("INPUT",{type:"text",placeholder:this.i18n("mapTitle"),on:{keydown:function(W){W.keyCode===13&&W.preventDefault()},keyup:function(){q.title.control.setTitle(P.value)},change:(function(){q.title.control.setTitle(P.value)}).bind(this)},parent:f}),R=cn.create("DIV",{className:"ol-user-param",parent:l});f=cn.create("LI",{className:"ol-saveas",parent:a}),cn.create("DIV",{html:this.i18n("copied"),className:"ol-clipboard-copy",parent:f});var N=cn.create("SELECT",{on:{change:(function(){var W=N.value;if(N.value="",!(this.formats[W].clipboard&&this._copyMap(W))){var ee=typeof this.getSize()=="string"?this.getSize():null,he=Object.assign({format:ee,size:ee?this.paperSize[ee]:null,orient:this.getOrientation(),margin:this.getMargin()},this.formats[W]);r.print(he)}}).bind(this)},parent:f});cn.create("OPTION",{html:this.i18n("saveas"),style:{display:"none"},value:"",parent:N}),this.formats.forEach((function(W,ee){if(W.pdf){if(e.pdf===!1)return}else if(W.clipboard){if(e.copy===!1)return}else if(e.save===!1)return;cn.create("OPTION",{html:this.i18n(W.title),value:ee,parent:N})}).bind(this)),N.querySelectorAll("option").length===1&&(N.style.display="none"),f=cn.create("LI",{className:"ol-savelegend",parent:a});var z=cn.create("DIV",{html:this.i18n("copied"),className:"ol-clipboard-copy",parent:f}),H=cn.create("SELECT",{on:{change:(function(){var W=q.legend.control.getLegend().getCanvas(),ee=document.createElement("CANVAS");ee.width=W.width,ee.height=W.height;var he=ee.getContext("2d");if(he.fillStyle="#fff",he.fillRect(0,0,ee.width,ee.height),he.drawImage(W,0,0),this.formats[H.value].clipboard)ee.toBlob(function(Ee){try{navigator.clipboard.write([new window.ClipboardItem(Object.defineProperty({},Ee.type,{value:Ee,enumerable:!0}))]),z.classList.add("visible"),setTimeout(function(){z.classList.remove("visible")},1e3)}catch{}},"image/png");else{var J;try{J=ee.toDataURL(this.formats[H.value].imageType,this.formats[H.value].quality);var te=typeof this.getSize()=="string"?this.getSize():"A4",ne=ee.width/96*25.4,ce=ee.height/96*25.4,ue=this.paperSize[te];this.getOrientation()==="landscape"&&(ue=[ue[1],ue[0]]);var ye=[(ue[0]-ne)/2,(ue[1]-ce)/2];this.dispatchEvent({type:"print",print:{legend:!0,format:te,orientation:this.getOrientation(),unit:"mm",size:this.paperSize[te],position:ye,imageWidth:ne,imageHeight:ce},image:J,imageType:this.formats[H.value].imageType,pdf:this.formats[H.value].pdf,quality:this.formats[H.value].quality,canvas:ee})}catch{}}H.value=""}).bind(this)},parent:f});cn.create("OPTION",{html:this.i18n("saveLegend"),style:{display:"none"},value:"",parent:H}),this.formats.forEach((function(W,ee){cn.create("OPTION",{html:this.i18n(W.title),value:ee,parent:H})}).bind(this));var j=cn.create("DIV",{className:"ol-ext-buttons",parent:l});cn.create("BUTTON",{html:this.i18n("printBt"),type:"submit",click:function(W){W.preventDefault(),window.print()},parent:j}),cn.create("BUTTON",{html:this.i18n("cancel"),type:"button",click:function(){i.hide()},parent:j}),cn.create("DIV",{html:this.i18n("errorMsg"),className:"ol-error",parent:l});var Q,G,ie,q={};i.on("show",(function(){this.dispatchEvent({type:"show",userElement:R,dialog:this._printDialog,page:this.getPage()});var W=this.getMap();W&&(document.body.classList.add("ol-print-document"),Q=W.getTargetElement(),G=W.getSize(),typeof this.getSize()=="string"?this.setSize(this.getSize()):this.setSize(G),W.setTarget(c),ie&&Mm(ie),ie=W.on("moveend",(function(){this.setScale(vP(W))}).bind(this)),this.setScale(vP(W)),q={},this.getMap().getControls().forEach((function(ee){ee instanceof Aht&&(q.legend={control:ee}),ee instanceof mht&&(q.title={control:ee}),ee instanceof AX&&(q.compass?ee.element.classList.remove("ol-print-compass"):(this._input.north.checked?ee.element.classList.add("ol-print-compass"):ee.element.classList.remove("ol-print-compass"),this._compass=ee,q.compass={control:ee}))}).bind(this)),q.title?(M.checked=q.title.isVisible=q.title.control.getVisible(),P.value=q.title.control.getTitle(),M.parentNode.parentNode.classList.remove("hidden")):M.parentNode.parentNode.classList.add("hidden"),q.legend?(q.legend.ison=q.legend.control.onCanvas(),q.legend.collapsed=q.legend.control.isCollapsed(),q.legend.control.collapse(!1),H.parentNode.classList.remove("hidden"),C.parentNode.parentNode.classList.remove("hidden"),C.checked=!q.legend.collapsed,q.legend.control.setCanvas(!q.legend.collapsed)):(H.parentNode.classList.add("hidden"),C.parentNode.parentNode.classList.add("hidden")))}).bind(this)),i.on("hide",(function(){document.body.classList.remove("ol-print-document"),Q&&(this.getMap().setTarget(Q),Q=null,ie&&Mm(ie),q.title&&q.title.control.setVisible(q.title.isVisible),q.legend&&(q.legend.control.setCanvas(q.legend.ison),q.legend.control.collapse(q.legend.collapsed)),this.dispatchEvent({type:"hide"}))}).bind(this)),window.addEventListener("resize",(function(){this.setSize()}).bind(this)),e.saveAs&&this.on("print",function(W){W.pdf||W.canvas.toBlob(function(ee){var he=(W.print.legend?"legend.":"map.")+W.imageType.replace("image/","");e.saveAs(ee,he)},W.imageType,W.quality)}),e.jsPDF&&this.on("print",function(W){if(W.pdf){var ee=new e.jsPDF({orientation:W.print.orientation,unit:W.print.unit,format:W.print.size});ee.addImage(W.image,"JPEG",W.print.position[0],W.print.position[0],W.print.imageWidth,W.print.imageHeight),ee.save(W.print.legend?"legend.pdf":"map.pdf")}})}static addLang(e,n){gx.prototype._labels[e]=n}isOpen(){return this._printDialog.isOpen()}i18n(e){var n=this._labels.en[e]||e;return this._labels[this._lang]&&this._labels[this._lang][e]&&(n=this._labels[this._lang][e]),n}getOrientation(){return this._orientation||"portrait"}setOrientation(e){this._orientation=e==="landscape"?"landscape":"portrait",this._printDialog.element.dataset.orientation=this._orientation,this._input.orientation[this._orientation].checked=!0,this.setSize()}getMargin(){return this._margin||0}setMargin(e){this._margin=e,this._input.margin.value=e,this.setSize()}getSize(){return this._size}setSize(e){if(this._printDialog.getContentElement().dataset.status="",e?this._size=e:e=this._size,!!e){if(typeof e=="string"){for(var n in this.paperSize)n&&new RegExp(n,"i").test(e)&&(e=n);this.paperSize[e]||(e=this._size="A4"),this._input.size.value=e,e=[Math.trunc(this.paperSize[e][0]*96/25.4),Math.trunc(this.paperSize[e][1]*96/25.4)],this.getOrientation()==="landscape"&&(e=[e[1],e[0]]),this.getPage().classList.remove("margin")}else this._input.size.value="",this.getPage().classList.add("margin");var r=this.getPage(),i=r.parentNode.getBoundingClientRect(),s=(i.width-40)/e[0],l=(i.height-40)/e[1],c=Math.min(s,l,1);r.style.width=e[0]+"px",r.style.height=e[1]+"px",r.style["-webkit-transform"]=r.style.transform="translate(-50%,-50%) scale("+c+")";var a=Math.round(5/c);r.style["-webkit-box-shadow"]=r.style["box-shadow"]=a+"px "+a+"px "+a+"px rgba(0,0,0,.6)",r.style.padding=this.getMargin()*96/25.4+"px",this.getMap()&&this.getMap().updateSize(),this.dispatchEvent({type:"dialog:refresh"})}}_printing(e){this._printDialog.getContentElement().dataset.status=e.type,e.clipboard||this.dispatchEvent(e)}_copyMap(e){var n=this._printDialog.element.querySelector(".ol-clipboard-copy");return this._printCtrl.copyMap(this.formats[e],function(r){r&&(n.classList.add("visible"),setTimeout(function(){n.classList.remove("visible")},1e3))}),!0}getContentElement(){return this._printDialog.getContentElement()}getUserElement(){return this._printDialog.getContentElement().querySelector(".ol-user-param")}getPage(){return this._pages[0]}setMap(e){this.getMap()&&(this.getMap().removeControl(this._compass),this.getMap().removeControl(this._printCtrl),this.getMap().removeControl(this._printDialog)),super.setMap(e),this.getMap()&&(this.getMap().addControl(this._compass),this.getMap().addControl(this._printCtrl),this.getMap().addControl(this._printDialog))}setScale(e){ght(this.getMap(),e),this._input.scale.value=" "+Math.round(e/100)*100}getScale(){return vP(this.getMap())}print(e){e=e||{},e.size&&this.setSize(e.size),e.scale&&this.setScale(e.scale),e.orientation&&this.setOrientation(e.orientation),e.margin&&this.setMargin(e.margin),this._printDialog.show()}getPrintControl(){return this._printCtrl}};gx.prototype._labels={en:{title:"Print",orientation:"Orientation",portrait:"Portrait",landscape:"Landscape",size:"Page size",custom:"screen size",margin:"Margin",scale:"Scale",legend:"Legend",north:"North arrow",mapTitle:"Map title",saveas:"Save as...",saveLegend:"Save legend...",copied:"✔ Copied to clipboard",errorMsg:"Can't save map canvas...",printBt:"Print...",clipboardFormat:"copy to clipboard...",jpegFormat:"save as jpeg",pngFormat:"save as png",pdfFormat:"save as pdf",none:"none",small:"small",large:"large",cancel:"cancel"},fr:{title:"Imprimer",orientation:"Orientation",portrait:"Portrait",landscape:"Paysage",size:"Taille du papier",custom:"taille écran",margin:"Marges",scale:"Echelle",legend:"Légende",north:"Flèche du nord",mapTitle:"Titre de la carte",saveas:"Enregistrer sous...",saveLegend:"Enregistrer la légende...",copied:"✔ Carte copiée",errorMsg:"Impossible d'enregistrer la carte",printBt:"Imprimer",clipboardFormat:"copier dans le presse-papier...",jpegFormat:"enregistrer un jpeg",pngFormat:"enregistrer un png",pdfFormat:"enregistrer un pdf",none:"aucune",small:"petites",large:"larges",cancel:"annuler"},de:{title:"Drucken",orientation:"Ausrichtung",portrait:"Hochformat",landscape:"Querformat",size:"Papierformat",custom:"Bildschirmgröße",margin:"Rand",scale:"Maßstab",legend:"Legende",north:"Nordpfeil",mapTitle:"Kartentitel",saveas:"Speichern als...",saveLegend:"Legende speichern...",copied:"✔ In die Zwischenablage kopiert",errorMsg:"Kann Karte nicht speichern...",printBt:"Drucken...",clipboardFormat:"in die Zwischenablage kopieren...",jpegFormat:"speichern als jpeg",pngFormat:"speichern als png",pdfFormat:"speichern als pdf",none:"kein",small:"klein",large:"groß",cancel:"abbrechen"},zh:{title:"打印",orientation:"方向",portrait:"纵向",landscape:"横向",size:"页面大小",custom:"屏幕大小",margin:"外边距",scale:"尺度",legend:"图例",north:"指北针",mapTitle:"地图名字",saveas:"保存为...",saveLegend:"保存图例为...",copied:"✔ 已复制到剪贴板",errorMsg:"无法保存地图...",printBt:"打印...",cancel:"取消"}};gx.prototype.paperSize={"":null,A0:[841,1189],A1:[594,841],A2:[420,594],A3:[297,420],A4:[210,297],"US Letter":[215.9,279.4],A5:[148,210],B4:[257,364],B5:[182,257]};gx.prototype.marginSize={none:0,small:5,large:10};gx.prototype.formats=[{title:"clipboardFormat",imageType:"image/png",clipboard:!0},{title:"jpegFormat",imageType:"image/jpeg",quality:.8},{title:"pngFormat",imageType:"image/png",quality:.8},{title:"pdfFormat",imageType:"image/jpeg",pdf:!0}];gx.prototype.scales={" 5000":"1/5.000"," 10000":"1/10.000"," 25000":"1/25.000"," 50000":"1/50.000"," 100000":"1/100.000"," 250000":"1/250.000"," 1000000":"1/1.000.000"};var Cz=function(t,e){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)},C4=function(t,e){return t[0]==e[0]&&t[1]==e[1]},she;(function(){function t(n,r){var i;for(let s=n.length-1;s>0;s--)(n[s][0]>r&&n[s-1][0]<r||n[s][0]<r&&n[s-1][0]>r)&&(i=[r,(r-n[s][0])/(n[s-1][0]-n[s][0])*(n[s-1][1]-n[s][1])+n[s][1]],n.splice(s,0,i))}function e(n,r){var i;for(let s=n.length-1;s>0;s--)(n[s][1]>r&&n[s-1][1]<r||n[s][1]<r&&n[s-1][1]>r)&&(i=[(r-n[s][1])/(n[s-1][1]-n[s][1])*(n[s-1][0]-n[s][0])+n[s][0],r],n.splice(s,0,i))}she=function(n,r){var i=r.getType()==="Polygon";if(!i&&r.getType()!=="MultiPolygon")return null;var s=r.getCoordinates();return i&&(s=[s]),s.forEach(function(l){l.forEach(function(c){t(c,n[0]),t(c,n[2]),e(c,n[1]),e(c,n[3])})}),s.forEach(function(l){l.forEach(function(c){c.forEach(function(a){a[0]<n[0]?a[0]=n[0]:a[0]>n[2]&&(a[0]=n[2]),a[1]<n[1]?a[1]=n[1]:a[1]>n[3]&&(a[1]=n[3])})})}),i?new zf(s[0]):new Iy(s)}})();var HM=function(t,e,n,r){var i=[];r!==!1&&i.push(t);var s=Cz(t,e);if(s){var l=Math.round(s/n);if(l>1)for(var c=(e[0]-t[0])/l,a=(e[1]-t[1])/l,f=1;f<l;f++)i.push([t[0]+c*f,t[1]+a*f])}return i.push(e),i};Tf.prototype.sampleAt=function(t){for(var e=this.getCoordinates(),n=[],r=1;r<e.length;r++)n=n.concat(HM(e[r-1],e[r],t,r===1));return new Tf(n)};N6.prototype.sampleAt=function(t){var e=this.getCoordinates(),n=[];return e.forEach(function(r){for(var i=[],s=1;s<r.length;s++)i=i.concat(HM(r[s-1],r[s],t,s===1));n.push(i)}),new N6(n)};zf.prototype.sampleAt=function(t){var e=this.getCoordinates(),n=[];return e.forEach(function(r){for(var i=[],s=1;s<r.length;s++)i=i.concat(HM(r[s-1],r[s],t,s===1));n.push(i)}),new zf(n)};Iy.prototype.sampleAt=function(t){var e=this.getCoordinates(),n=[];return e.forEach(function(r){var i=[];n.push(i),r.forEach(function(s){for(var l=[],c=1;c<s.length;c++)l=l.concat(HM(s[c-1],s[c],t,c===1));i.push(l)})}),new Iy(n)};OM.prototype.intersection=function(t,e){if(t.sampleAt){var n=rA(this.getCenter().concat(this.getCenter()),this.getRadius());t=she(n,t),t=t.simplify(e);var r=this.getCenter(),i=this.getRadius(),s=t.sampleAt(e).getCoordinates();switch(t.getType()){case"Polygon":s=[s];case"MultiPolygon":{var l=!1,c=[];return s.forEach(function(a){var f=[];c.push(f),a.forEach(function(p){var m=[];f.push(m),p.forEach(function(v){var y=Cz(r,v);y>i?(l=!0,m.push([r[0]+i/y*(v[0]-r[0]),r[1]+i/y*(v[1]-r[1])])):m.push(v)})})}),l?t.getType()==="Polygon"?new zf(c[0]):new Iy(c):t}}}else console.warn("[ol/geom/Circle~intersection] Unsupported geometry type: "+t.getType());return t};var ohe=class extends jf{constructor(e){e=e||{};var n=document.createElement("div");super({element:n,target:e.target});var r=this;if(this.info=e.info||ohe.prototype.info,e.target)n.classList.add(e.className||"ol-profile");else{n.className=((e.className||"ol-profile")+" ol-unselectable ol-control ol-collapsed").trim(),this.button=document.createElement("button"),this.button.title=e.title||"Profile",this.button.setAttribute("type","button");var i=function(H){r.toggle(),H.preventDefault()};this.button.addEventListener("click",i),this.button.addEventListener("touchstart",i),n.appendChild(this.button),cn.create("I",{parent:this.button})}e.style instanceof Uc?this._style=e.style:this._style=new Uc({text:new a1,stroke:new Kd({width:1.5,color:"#369"})}),this._style.getText()||this._style.setText(new a1),e.selectStyle instanceof Uc?this._selectStyle=e.selectStyle:this._selectStyle=new Uc({fill:new km({color:"#369"})});var s=document.createElement("div");s.classList.add("ol-inner"),n.appendChild(s);var l=document.createElement("div");l.style.position="relative",s.appendChild(l);var c=this.ratio=2;this.canvas_=document.createElement("canvas"),this.canvas_.width=(e.width||300)*c,this.canvas_.height=(e.height||150)*c;var a={msTransform:"scale(0.5,0.5)",msTransformOrigin:"0 0",webkitTransform:"scale(0.5,0.5)",webkitTransformOrigin:"0 0",mozTransform:"scale(0.5,0.5)",mozTransformOrigin:"0 0",transform:"scale(0.5,0.5)",transformOrigin:"0 0"};Object.keys(a).forEach(function(H){H in r.canvas_.style&&(r.canvas_.style[H]=a[H])});var f=document.createElement("div");l.appendChild(f),f.style.width=this.canvas_.width/c+"px",f.style.height=this.canvas_.height/c+"px",f.appendChild(this.canvas_),f.addEventListener("pointerdown",this.onMove.bind(this)),document.addEventListener("pointerup",this.onMove.bind(this)),f.addEventListener("mousemove",this.onMove.bind(this)),f.addEventListener("touchmove",this.onMove.bind(this)),this.set("selectable",e.selectable),this.margin_={top:10*c,left:45*c,bottom:30*c,right:10*c},this.info.ytitle||(this.margin_.left-=20*c),this.info.xtitle||(this.margin_.bottom-=20*c),this.bar_=document.createElement("div"),this.bar_.classList.add("ol-profilebar"),this.bar_.style.top=this.margin_.top/c+"px",this.bar_.style.height=(this.canvas_.height-this.margin_.top-this.margin_.bottom)/c+"px",l.appendChild(this.bar_),this.cursor_=document.createElement("div"),this.cursor_.classList.add("ol-profilecursor"),l.appendChild(this.cursor_),this.popup_=document.createElement("div"),this.popup_.classList.add("ol-profilepopup"),this.cursor_.appendChild(this.popup_);var p=document.createElement("table");p.cellPadding="0",p.cellSpacing="0",p.style.clientWidth=this.canvas_.width/c+"px",l.appendChild(p);var m=document.createElement("tr");m.classList.add("track-info"),p.appendChild(m);var v=document.createElement("td");v.innerHTML=(this.info.zmin||"Zmin")+': <span class="zmin">',m.appendChild(v);var y=document.createElement("td");y.innerHTML=(this.info.zmax||"Zmax")+': <span class="zmax">',m.appendChild(y);var T=document.createElement("td");T.innerHTML=(this.info.distance||"Distance")+': <span class="dist">',m.appendChild(T);var C=document.createElement("td");C.innerHTML=(this.info.time||"Time")+': <span class="time">',m.appendChild(C);var k=document.createElement("tr");k.classList.add("point-info"),p.appendChild(k);var M=document.createElement("td");M.innerHTML=(this.info.altitude||"Altitude")+': <span class="z">',k.appendChild(M);var P=document.createElement("td");P.innerHTML=(this.info.distance||"Distance")+': <span class="dist">',k.appendChild(P);var R=document.createElement("td");if(R.innerHTML=(this.info.time||"Time")+': <span class="time">',k.appendChild(R),this.tab_=[],e.feature&&this.setGeometry(e.feature),e.zoomable){this.set("selectable",!0);var N,z;this.on("change:geometry",function(){z=null}),this.on("dragstart",function(H){N=H.index}),this.on("dragend",(function(H){if(Math.abs(N-H.index)>10){if(!z)var j=cn.create("BUTTON",{parent:n,className:"ol-zoom-out",click:(function(ie){ie.stopPropagation(),ie.preventDefault(),z&&(this.dispatchEvent({type:"zoom"}),this.setGeometry(z,this._geometry[1])),n.removeChild(j)}).bind(this)});var Q=z||this._geometry[0],G=new Tf(this.getSelection(N,H.index));this.setGeometry(G,this._geometry[1]),z=Q,this.dispatchEvent({type:"zoom",geometry:G,start:N,end:H.index})}}).bind(this))}}popup(e){this.popup_.innerHTML=e}_drawAt(e,n){e?(this.cursor_.style.left=n+"px",this.cursor_.style.top=(this.canvas_.height-this.margin_.bottom+e[1]*this.scale_[1]+this.dy_)/this.ratio+"px",this.cursor_.style.display="block",this.bar_.parentElement.classList.add("over"),this.bar_.style.left=n+"px",this.bar_.style.display="block",this.element.querySelector(".point-info .z").textContent=e[1]+this.info.altitudeUnits,this.element.querySelector(".point-info .dist").textContent=(e[0]/1e3).toFixed(1)+this.info.distanceUnitsKM,this.element.querySelector(".point-info .time").textContent=e[2],n>this.canvas_.width/this.ratio/2?this.popup_.classList.add("ol-left"):this.popup_.classList.remove("ol-left")):(this.cursor_.style.display="none",this.bar_.style.display="none",this.cursor_.style.display="none",this.bar_.parentElement.classList.remove("over"))}showAt(e){var n,r,i,s=1/0;if(typeof e>"u")this.bar_.parentElement.classList.contains("over")&&this._drawAt();else if(e.length)for(n=1;r=this.tab_[n];n++){var l=Cz(r[3],e);l<s&&(i=r,s=l)}else for(n=0;(r=this.tab_[n])&&(i=r,!(r[0]>=e));n++);if(i){var c=(i[0]*this.scale_[0]+this.margin_.left)/this.ratio;return this._drawAt(i,c),i[3]}return null}showAtTime(e,n){var r,i,s;if(e instanceof Date?e=e.getTime()/1e3:n&&(e+=this.tab_[0][3][3]),typeof e>"u")this.bar_.parentElement.classList.contains("over")&&this._drawAt();else for(r=0;(i=this.tab_[r])&&(s=i,!(i[3][3]>=e));r++);if(s){var l=(s[0]*this.scale_[0]+this.margin_.left)/this.ratio;return this._drawAt(s,l),s[3]}return null}pointAtTime(e){var n,r;for(n=1;r=this.tab_[n];n++){var i=r[3][3];if(i>=e){var s=this.tab_[n-1][3];return(s[3]+i)/2<e?s:r}}return this.tab_[this.tab_.length-1][3]}onMove(e){if(this.tab_.length){var n=this.canvas_.getBoundingClientRect(),r={top:n.top+window.pageYOffset-document.documentElement.clientTop,left:n.left+window.pageXOffset-document.documentElement.clientLeft},i=e.pageX||e.touches&&e.touches.length&&e.touches[0].pageX||e.changedTouches&&e.changedTouches.length&&e.changedTouches[0].pageX,s=e.pageY||e.touches&&e.touches.length&&e.touches[0].pageY||e.changedTouches&&e.changedTouches.length&&e.changedTouches[0].pageY,l=i-r.left,c=s-r.top,a=this.ratio;if(l>this.margin_.left/a-20&&l<(this.canvas_.width-this.margin_.right)/a+8&&c>this.margin_.top/a&&c<(this.canvas_.height-this.margin_.bottom)/a){var f=(l*a-this.margin_.left)/this.scale_[0],p=this.tab_[0],m,v;for(m=1;v=this.tab_[m];m++)if(v[0]>=f){f<(v[0]+p[0])/2&&(m=0,v=p);break}switch(v||(v=this.tab_[this.tab_.length-1]),l=Math.max(this.margin_.left/a,Math.min(l,(this.canvas_.width-this.margin_.right)/a)),this._drawAt(v,l),this.dispatchEvent({type:"over",click:e.type==="click",index:m,coord:v[3],time:v[2],distance:v[0]}),e.type){case"pointerdown":{this._dragging={event:{type:"dragstart",index:m,coord:v[3],time:v[2],distance:v[0]},pageX:i,pageY:s};break}case"pointerup":{this._dragging&&this._dragging.pageX?Math.abs(this._dragging.pageX-i)<3&&Math.abs(this._dragging.pageY-s)<3&&(this.dispatchEvent({type:"click",index:m,coord:v[3],time:v[2],distance:v[0]}),this.refresh()):this.dispatchEvent({type:"dragend",index:m,coord:v[3],time:v[2],distance:v[0]}),this._dragging=!1;break}default:{if(this._dragging)if(this._dragging.pageX)(Math.abs(this._dragging.pageX-i)>3||Math.abs(this._dragging.pageY-s)>3)&&(this._dragging.pageX=this._dragging.pageY=!1,this.dispatchEvent(this._dragging.event));else{this.dispatchEvent({type:"dragging",index:m,coord:v[3],time:v[2],distance:v[0]});var y=Math.min(this._dragging.event.index,m),T=Math.max(this._dragging.event.index,m);this.refresh(),this.get("selectable")&&this._drawGraph(this.tab_.slice(y,T),this._selectStyle)}break}}}else this.bar_.parentElement.classList.contains("over")&&(this._drawAt(),this.dispatchEvent({type:"out"})),e.type==="pointerup"&&this._dragging&&(this.dispatchEvent({type:"dragcancel"}),this._dragging=!1)}}show(){this.element.classList.remove("ol-collapsed"),this.dispatchEvent({type:"show",show:!0})}hide(){this.element.classList.add("ol-collapsed"),this.dispatchEvent({type:"show",show:!1})}toggle(){this.element.classList.toggle("ol-collapsed");var e=this.element.classList.contains("ol-collapsed");this.dispatchEvent({type:"show",show:!e})}isShown(){return!this.element.classList.contains("ol-collapsed")}getSelection(e,n){for(var r=[],i=Math.max(Math.min(e,n),0),s=Math.min(Math.max(e,n),this.tab_.length-1),l=i;l<=s;l++)r.push(this.tab_[l][3]);return r}_drawGraph(e,n){if(e.length){var r=this.canvas_.getContext("2d"),i=this.scale_[0],s=this.scale_[1],l=this.dy_,c=this.ratio,a,f;for(r.beginPath(),a=0;f=e[a];a++)a==0?r.moveTo(f[0]*i,f[1]*s+l):r.lineTo(f[0]*i,f[1]*s+l);n.getStroke()&&(r.strokeStyle=n.getStroke().getColor()||"#000",r.lineWidth=n.getStroke().getWidth()*c,r.setLineDash([]),r.stroke()),n.getFill()&&(r.fillStyle=n.getFill().getColor()||"#000",r.Style=n.getFill().getColor()||"#000",r.lineTo(e[e.length-1][0]*i,0),r.lineTo(e[0][0]*i,0),r.fill())}}setGeometry(e,n){if(n||(n={}),e instanceof JA&&(e=e.getGeometry()),this._geometry=[e,n],!/Z/.test(e.getLayout()))return;/M/.test(e.getLayout())?this.element.querySelector(".time").parentElement.style.display="block":this.element.querySelector(".time").parentElement.style.display="none";var r=e.getCoordinates();switch(e.getType()){case"LineString":break;case"MultiLineString":r=r[0];break;default:return}var i=n.projection||this.getMap().getView().getProjection();function s(C,k){return S6(c0(C,i,"EPSG:4326"),c0(k,i,"EPSG:4326"))}function l(C,k){if(!C||!k)return"-";var M=(k-C)/60,P=Math.trunc(M/60),R=Math.trunc(M-P*60);return P+"h"+(R<10?"0":"")+R+"mn"}var c=1/0,a=-1/0,f,p,m,v,y,T=this.tab_=[];for(f=0,p;p=r[f];f++)v=p[2],v<c&&(c=v),v>a&&(a=v),f==0?m=0:m+=s(r[f-1],p),y=l(r[0][3],p[3]),T.push([m,v,y,p]);this._z=[c,a],this.set("graduation",n.graduation||100),this.set("zmin",n.zmin),this.set("zmax",n.zmax),this.set("amplitude",n.amplitude),this.set("unit",n.unit),this.set("zunit",n.zunit),this.set("zDigits",n.zDigits),this.set("zMaxChars",n.zMaxChars),this.dispatchEvent({type:"change:geometry",geometry:e}),this.refresh()}refresh(){var e=this.canvas_,n=e.getContext("2d"),r=e.width,i=e.height;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,r,i);var s=this._z[0],l=this._z[1],c=this.tab_,a=c[c.length-1][0],f=c[c.length-1][2],p;if(!a){console.error("[ol/control/Profile] no data...",c);return}n.setTransform(1,0,0,1,this.margin_.left,i-this.margin_.bottom);var m=this.ratio;r-=this.margin_.right+this.margin_.left,i-=this.margin_.top+this.margin_.bottom,n.strokeStyle=this._style.getText().getFill().getColor()||"#000",n.lineWidth=.5*m,n.beginPath(),n.moveTo(0,0),n.lineTo(0,-i),n.moveTo(0,0),n.lineTo(r,0),n.stroke(),this.element.querySelector(".track-info .zmin").textContent=s.toFixed(2)+this.info.altitudeUnits,this.element.querySelector(".track-info .zmax").textContent=l.toFixed(2)+this.info.altitudeUnits,a>1e3?this.element.querySelector(".track-info .dist").textContent=(a/1e3).toFixed(1)+this.info.distanceUnitsKM:this.element.querySelector(".track-info .dist").textContent=a.toFixed(1)+this.info.distanceUnitsM,this.element.querySelector(".track-info .time").textContent=f;for(var v=this.get("graduation");;){l=Math.ceil(l/v)*v,s=Math.floor(s/v)*v;var y=(l-s)/v;if(i/y<15*m)v*=2;else break}typeof this.get("zmin")=="number"&&s>this.get("zmin")&&(s=this.get("zmin")),typeof this.get("zmax")=="number"&&l<this.get("zmax")&&(l=this.get("zmax"));var T=this.get("amplitude");T&&(l=Math.max(s+T,l));var C=r/a,k=-i/(l-s),M=this.dy_=-s*k;this.scale_=[C,k],this._drawGraph(c,this._style),n.textAlign="right",n.textBaseline="top",n.fillStyle=this._style.getText().getFill().getColor()||"#000",n.beginPath();var P=this.get("zDigits")||0,R=null;if(typeof this.get("zMaxChars")=="number"){var N;if(this.get("zunit")!="km"?N=Math.max(s.toFixed(P).length,l.toFixed(P).length):N=Math.max((s/1e3).toFixed(1).length,(l/1e3).toFixed(1).length),this.get("zMaxChars")<N){R=Math.floor(Math.log10(Math.max(Math.abs(s),Math.abs(l),Number.MIN_VALUE))),n.font="bold "+9*m+"px arial",n.fillText(R.toString(),-8*m,8*m);var z=n.measureText(R.toString()),H=z.width,j=z.actualBoundingBoxAscent+z.actualBoundingBoxDescent;n.font="bold "+12*m+"px arial",n.fillText("10",-8*m-H,8*m+.5*j)}}for(n.font=10*m+"px arial",n.textBaseline="middle",p=s;p<=l;p+=v){if(R!==null){var Q=p/Math.pow(10,R);this.get("zunit")=="km"&&(Q/=1e3);var G=this.get("zMaxChars")-Math.floor(Math.log10(Math.max(Math.abs(Q),1))+1)-1;Q<0&&(G-=1),this.get("zunit")!="km",n.fillText(Q.toFixed(Math.max(G,0)),-4*m,p*k+M)}else this.get("zunit")!="km"?n.fillText(p.toFixed(P),-4*m,p*k+M):n.fillText((p/1e3).toFixed(1),-4*m,p*k+M);n.moveTo(-2*m,p*k+M),p!=0?n.lineTo(a*C,p*k+M):n.lineTo(0,p*k+M)}n.textAlign="center",n.textBaseline="top",n.setLineDash([m,3*m]);var ie=this.get("unit")||"km",q;for(a>1e3?(q=Math.round(a/1e3)*100,q>1e3&&(q=Math.ceil(q/1e3)*1e3)):(ie="m",a>100?q=Math.round(a/100)*10:a>10?q=Math.round(a/10):a>1?q=Math.round(a)/10:q=a),p=0;p<=a;p+=q){var W=ie=="m"?p:p/1e3;n.fillText(Math.round(W*10)/10,p*C,4*m),n.moveTo(p*C,2*m),n.lineTo(p*C,0)}n.font=12*m+"px arial",n.fillText(this.info.xtitle.replace("(km)","("+ie+")"),r/2,18*m),n.save(),n.rotate(-Math.PI/2),n.fillText(this.info.ytitle,i/2,-this.margin_.left),n.restore(),n.stroke()}getImage(e,n){return e==="canvas"?this.canvas_:this.canvas_.toDataURL(e,n)}};ohe.prototype.info={zmin:"Zmin",zmax:"Zmax",ytitle:"Altitude (m)",xtitle:"Distance (km)",time:"Time",altitude:"Altitude",distance:"Distance",altitudeUnits:"m",distanceUnitsM:"m",distanceUnitsKM:"km"};var vht=class extends jf{constructor(e){e=e||{};var n=(e.className||"")+" ol-search"+(e.target?"":" ol-unselectable ol-control"),r=cn.create("DIV",{className:n});super({element:r,target:e.target});var i=this;if(e.typing==null&&(e.typing=300),this._classname=e.className||"search",e.collapsed!==!1&&r.classList.add("ol-collapsed"),e.target||(this.button=document.createElement("BUTTON"),this.button.setAttribute("type","button"),this.button.setAttribute("title",e.title||e.label||"Search"),this.button.addEventListener("click",function(){if(r.classList.toggle("ol-collapsed"),!r.classList.contains("ol-collapsed")){r.querySelector("input.search").focus();for(var v=r.querySelectorAll("li"),y=0;y<v.length;y++)v[y].classList.remove("select");a.value||i.drawList_()}}),r.appendChild(this.button)),e.inputLabel){var s=document.createElement("LABEL");s.innerText=e.inputLabel,r.appendChild(s)}var l,c="",a=this._input=document.createElement("INPUT");a.setAttribute("type","search"),a.setAttribute("class","search"),a.setAttribute("autocomplete","off"),a.setAttribute("placeholder",e.placeholder||"Search..."),a.addEventListener("change",function(v){i.dispatchEvent({type:"change:input",input:v,value:a.value})});var f=function(v){var y=r.querySelector("ul.autocomplete li.select"),T=a.value;if(v.key=="ArrowDown"||v.key=="ArrowUp"||v.key=="Down"||v.key=="Up")y?(y.classList.remove("select"),y=/Down/.test(v.key)?y.nextElementSibling:y.previousElementSibling,y&&y.classList.add("select")):r.querySelector("ul.autocomplete li").classList.add("select");else if(v.type=="input"&&!T)setTimeout(function(){i.drawList_()},200);else if(y&&(v.type=="search"||v.key=="Enter"))r.classList.contains("ol-control")&&a.blur(),y.classList.remove("select"),c=T,i._handleSelect(i._list[y.getAttribute("data-search")]);else if(v.type=="search"||v.key=="Enter"||c!=T&&e.typing>=0)if(c=T,c){l&&clearTimeout(l);var C=i.get("minLength");l=setTimeout(function(){if(c.length>=C){var k=i.autocomplete(c,function(M){i.drawList_(M)});k&&i.drawList_(k)}else i.drawList_()},e.typing)}else i.drawList_();else y=r.querySelector("ul.autocomplete li"),y&&y.classList.remove("select")};if(a.addEventListener("keyup",f),a.addEventListener("search",f),a.addEventListener("cut",f),a.addEventListener("paste",f),a.addEventListener("input",f),e.noCollapse||(a.addEventListener("blur",(function(){setTimeout((function(){a!==document.activeElement&&(r.classList.add("ol-collapsed"),this.set("reverse",!1),r.classList.remove("ol-revers"))}).bind(this),200)}).bind(this)),a.addEventListener("focus",(function(){this.get("reverse")||(r.classList.remove("ol-collapsed"),r.classList.remove("ol-revers"))}).bind(this))),r.appendChild(a),e.reverse){var p=cn.create("BUTTON",{type:"button",class:"ol-revers",title:e.reverseTitle||"click on the map",click:(function(){this.get("reverse")?this.set("reverse",!1):(this.set("reverse",!this.get("reverse")),a.focus(),r.classList.add("ol-revers"))}).bind(this)});r.appendChild(p)}var m=document.createElement("UL");m.classList.add("autocomplete"),r.appendChild(m),typeof e.getTitle=="function"&&(this.getTitle=e.getTitle),typeof e.autocomplete=="function"&&(this.autocomplete=e.autocomplete),this.set("copy",e.copy),this.set("minLength",e.minLength||1),this.set("maxItems",e.maxItems||10),this.set("maxHistory",e.maxHistory||e.maxItems||10),e.onselect&&this.on("select",e.onselect),e.centerOnSelect&&this.on("select",(function(v){var y=this.getMap();y&&y.getView().setCenter(v.coordinate)}).bind(this)),e.zoomOnSelect&&this.on("select",(function(v){var y=this.getMap();y&&(y.getView().setCenter(v.coordinate),y.getView().getZoom()<e.zoomOnSelect&&y.getView().setZoom(e.zoomOnSelect))}).bind(this)),this.restoreHistory(),this.drawList_()}setMap(e){this._listener&&Mm(this._listener),this._listener=null,super.setMap(e),e&&(this._listener=e.on("click",this._handleClick.bind(this)))}collapse(e){e===!1?this.element.classList.remove("ol-collapsed"):this.element.classList.add("ol-collapsed")}getInputField(){return this._input}getTitle(e){return e.name||"No title"}_getTitleTxt(e){return cn.create("DIV",{html:this.getTitle(e)}).innerText}search(){var e=this.element.querySelector("input.search");this._triggerCustomEvent("search",e)}_handleClick(e){this.get("reverse")&&(document.activeElement.blur(),this.reverseGeocode(e.coordinate))}reverseGeocode(){}_triggerCustomEvent(e,n){cn.dispatchEvent(e,n)}setInput(e,n){var r=this.element.querySelector("input.search");r.value=e,n&&this._triggerCustomEvent("keyup",r)}select(e,n,r,i){var s={type:"select",search:e,reverse:!!n,coordinate:r};if(i)for(var l in i)s[l]=i[l];this.dispatchEvent(s)}_handleSelect(e,n,r){if(e){var i=this.get("history"),s;try{var l=JSON.stringify(e);for(s=i.length-1;s>=0;s--)(!i[s]||JSON.stringify(i[s])===l)&&i.splice(s,1)}catch{for(s=i.length-1;s>=0;s--)i[s]===e&&i.splice(s,1)}i.unshift(e);for(var c=Math.max(0,this.get("maxHistory")||10)||0;i.length>c;)i.pop();this.saveHistory(),this.select(e,n,null,r),n&&(this.setInput(this._getTitleTxt(e)),this.drawList_(),setTimeout((function(){this.collapse(!1)}).bind(this),300))}}saveHistory(){try{this.get("maxHistory")>=0?localStorage["ol@search-"+this._classname]=JSON.stringify(this.get("history")):localStorage.removeItem("ol@search-"+this._classname)}catch{console.warn("Failed to access localStorage...")}}restoreHistory(){if(this._history[this._classname])this.set("history",this._history[this._classname]);else try{this._history[this._classname]=JSON.parse(localStorage["ol@search-"+this._classname]),this.set("history",this._history[this._classname])}catch{this.set("history",[])}}clearHistory(){this.set("history",[]),this.saveHistory(),this.drawList_()}getHistory(){return this.get("history")}autocomplete(e,n){return n([]),!1}drawList_(e){var n=this,r=this.element.querySelector("ul.autocomplete");if(r.innerHTML="",this._list=[],e)r.setAttribute("class","autocomplete");else{var i=this.element.querySelector("input.search"),s=i.value;if(!s)e=this.get("history");else return;r.setAttribute("class","autocomplete history")}for(var l,c=Math.min(n.get("maxItems"),e.length),a=0;a<c;a++)if(e[a]&&(!a||!n.equalFeatures(e[a],e[a-1]))){l=document.createElement("LI"),l.setAttribute("data-search",this._list.length),this._list.push(e[a]),l.addEventListener("click",function(p){n._handleSelect(n._list[p.currentTarget.getAttribute("data-search")])});var f=n.getTitle(e[a]);f instanceof Element?l.appendChild(f):l.innerHTML=f,r.appendChild(l)}c&&this.get("copy")&&(l=document.createElement("LI"),l.classList.add("copy"),l.innerHTML=this.get("copy"),r.appendChild(l))}equalFeatures(){return!1}};vht.prototype._history={};var G4=class extends jf{constructor(e){e=e||{};var n=cn.create("DIV",{className:(e.className||"ol-videorec")+" ol-unselectable ol-control"});super({element:n,target:e.target}),cn.create("BUTTON",{type:"button",className:"ol-start",title:G4.prototype.tips.start,click:(function(){this.start()}).bind(this),parent:n}),cn.create("BUTTON",{type:"button",className:"ol-stop",title:G4.prototype.tips.stop,click:(function(){this.stop()}).bind(this),parent:n}),cn.create("BUTTON",{type:"button",className:"ol-pause",title:G4.prototype.tips.pause,click:(function(){this.pause()}).bind(this),parent:n}),cn.create("BUTTON",{type:"button",className:"ol-resume",title:G4.prototype.tips.resume,click:(function(){this.resume()}).bind(this),parent:n}),this.set("framerate",30),this.set("videoBitsPerSecond",5e6),e.videoTarget==="DIALOG"?(this._dialog=new ihe({className:"ol-fullscreen-dialog",target:document.body,closeBox:!0}),this._videoTarget=this._dialog.getContentElement()):this._videoTarget=e.videoTarget,this._printCtrl=new ahe({target:cn.create("DIV")})}setTooltip(e,n){var r=this.element.querySelector("button.ol-"+e);r&&(r.title=n)}setMap(e){this.getMap()&&(this.getMap().removeControl(this._printCtrl),this._dialog&&this.getMap().removeControl(this._dialog)),super.setMap(e),this.getMap()&&(this.getMap().addControl(this._printCtrl),this._dialog&&this.getMap().addControl(this._dialog))}start(){var e=this._printCtrl,n=!1;function r(i){n||e.fastPrint({canvas:i},r)}e.fastPrint({},(function(i){var s;try{s=i.captureStream(this.get("framerate")||30)}catch(c){this.dispatchEvent({type:"error",error:c});return}this._mediaRecorder=new MediaRecorder(s,{videoBitsPerSecond:this.get("videoBitsPerSecond")||5e6});var l=[];this._mediaRecorder.ondataavailable=function(c){l.push(c.data)},this._mediaRecorder.onstop=(function(){n=!0;var c=new Blob(l,{type:"video/mp4"});if(l=[],this._videoTarget instanceof Element){var a;this._videoTarget.tagName==="VIDEO"?a=this._videoTarget:(a=this._videoTarget.querySelector("video"),a||(a=cn.create("VIDEO",{controls:"",parent:this._videoTarget}))),this._dialog&&this._dialog.show(),a.src=URL.createObjectURL(c),this.dispatchEvent({type:"stop",videoURL:a.src})}else this.dispatchEvent({type:"stop",videoURL:URL.createObjectURL(c)})}).bind(this),this._mediaRecorder.onpause=(function(){n=!0,this.dispatchEvent({type:"pause"})}).bind(this),this._mediaRecorder.onresume=(function(){n=!1,r(i),this.dispatchEvent({type:"resume"})}).bind(this),this._mediaRecorder.onerror=(function(c){this.dispatchEvent({type:"error",error:c})}).bind(this),n=!1,r(i),this._mediaRecorder.start(),this.dispatchEvent({type:"start",canvas:i}),this.element.setAttribute("data-state","rec")}).bind(this))}stop(){this._mediaRecorder&&(this._mediaRecorder.stop(),this._mediaRecorder=null,this.element.setAttribute("data-state","inactive"))}pause(){this._mediaRecorder&&(this._mediaRecorder.pause(),this.element.setAttribute("data-state","pause"))}resume(){this._mediaRecorder&&(this._mediaRecorder.resume(),this.element.setAttribute("data-state","rec"))}};G4.prototype.tips={start:"start video",stop:"stop",pause:"pause",resume:"resume"};var n2=class extends jf{constructor(e){e=e||{};var n=n=cn.create("DIV",{className:e.className||"ol-mapzone"});if(super({element:n,target:e.target}),!e.target){["ol-unselectable","ol-control","ol-collapsed"].forEach(function(s){n.classList.add(s)});var r=cn.create("BUTTON",{type:"button",on:{click:(function(){n.classList.toggle("ol-collapsed"),i.forEach(function(s){s.updateSize()})}).bind(this)},parent:n});cn.create("I",{parent:r})}this.set("centerOnClick",e.centerOnClick);var i=this._maps=[];this._projection=e.projection,this._layer=e.layer,e.zones.forEach(this.addZone.bind(this)),setTimeout(function(){i.forEach(function(s){s.updateSize()})})}setCollapsed(e){e?(this.element.classList.remove("ol-collapsed"),this.getMaps().forEach(function(n){n.updateSize()})):this.element.classList.add("ol-collapsed")}setVisible(e){this.setCollapsed(!e)}getCollapsed(){return this.element.classList.contains("ol-collapsed")}getMaps(){return this._maps}getLength(){return this._maps.length}addZone(e){var n=new am({zoom:6,center:[0,0],projection:this._projection}),r;e.map?r=gY(e.map.getView().calculateExtent(),e.map.getView().getProjection(),n.getProjection()):r=gY(e.extent,"EPSG:4326",n.getProjection());var i=cn.create("DIV",{className:"ol-mapzonezone",parent:this.element,click:(function(){var c=-1;this._maps.forEach(function(a,f){a.get("zone")===e&&(c=f)}),this.dispatchEvent({type:"select",zone:e,index:c,coordinate:iA(r),extent:r}),this.get("centerOnClick")!==!1&&this.getMap().getView().fit(r),this.setVisible(!1)}).bind(this)}),s;e.layer?s=e.layer:typeof this._layer=="function"?s=this._layer(e):s=new this._layer.constructor({source:this._layer.getSource()});var l=new fce({target:i,view:n,controls:[],interactions:[],layers:[s]});l.set("zone",e),this._maps.push(l),n.fit(r),cn.create("P",{html:e.title,parent:i})}removeZone(e){var n=this.element.querySelectorAll(".ol-mapzonezone")[e];n&&(n.remove(),this._maps.splice(e,1))}};n2.zones={};n2.zones.DOM=[{title:"Guadeloupe",extent:[-61.898594315312444,15.75623038647845,-60.957887532935324,16.575317670979473]},{title:"Guyane",extent:[-54.72525931072715,2.1603763430019,-51.528236062921344,5.7984307809552575]},{title:"Martinique",extent:[-61.257556528564756,14.387506317407514,-60.76934912110432,14.895067461729951]},{title:"Mayotte",extent:[44.959844536967815,-13.01674138212816,45.35328866510648,-12.65521942207829]},{title:"La réunion",extent:[55.17059012967656,-21.407680069231688,55.88195702001797,-20.85560221637526]}];n2.zones.TOM=[{title:"Polynésie Française",extent:[206.23664226630862,-22.189040615809787,221.85920743981987,-10.835039595040698]},{title:"Nouvelle Calédonie",extent:[163.76420580160925,-22.581641092751838,167.66984709498706,-19.816411635668445]},{title:"St-Pierre et Miquelon",extent:[-56.453698765748676,46.74449858188555,-56.0980198121544,47.14669874229787]},{title:"Wallis et Futuna",extent:[181.7588623143665,-14.7341169873267,183.95612353301715,-13.134720799175085]},{title:"St-Martin St-Barthélemy",extent:[-63.1726389501678,17.806097291313506,-62.7606535945649,18.13267688837938]}];n2.zones.DOMTOM=[{title:"Métropole",extent:[-5.318421740712579,41.16082274292913,9.73284186155716,51.21957336557702]}].concat(n2.zones.DOM,n2.zones.TOM);Tf.prototype.splitAt=function(t,e){var n;if(!t)return[this];if(e||(e=1e-10),t.length&&t[0].length){var r=[this];for(n=0;n<t.length;n++){for(var i=[],s=0;s<r.length;s++){var l=r[s].splitAt(t[n],e);i=i.concat(l)}r=i}return r}if(C4(t,this.getFirstCoordinate())||C4(t,this.getLastCoordinate()))return[this];var c=this.getCoordinates(),a=[c[0]],f=[];for(n=0;n<c.length-1;n++)if(!C4(c[n],c[n+1])){if(C4(t,c[n+1]))a.push(c[n+1]),f.push(new Tf(a)),a=[];else if(!C4(t,c[n])){var p,m,v=!1;c[n][0]==c[n+1][0]?(p=(c[n][1]-t[1])/(c[n][1]-c[n+1][1]),v=c[n][0]==t[0]&&0<p&&p<=1):c[n][1]==c[n+1][1]?(p=(c[n][0]-t[0])/(c[n][0]-c[n+1][0]),v=c[n][1]==t[1]&&0<p&&p<=1):(p=(c[n][0]-t[0])/(c[n][0]-c[n+1][0]),m=(c[n][1]-t[1])/(c[n][1]-c[n+1][1]),v=Math.abs(p-m)<=e&&0<p&&p<=1),v&&(a.push(t),f.push(new Tf(a)),a=[t])}a.push(c[n+1])}return a.length>1&&f.push(new Tf(a)),f.length?f:[this]};var _ht=class extends mx{constructor(e){e=e||{},super({handleDownEvent:function(r){return n.handleDownEvent_(r)},handleDragEvent:function(r){return this.handleDragEvent_(r)},handleMoveEvent:function(r){return this.handleMoveEvent_(r)},handleUpEvent:function(r){return this.handleUpEvent_(r)}});var n=this;this.selection_=new Sf,this.handles_=new Sf,this.overlayLayer_=new pz({source:new Tce({features:this.handles_,useSpatialIndex:!1,wrapX:!1}),name:"Transform overlay",displayInLayerSwitcher:!1,style:function(r){return n.style[(r.get("handle")||"default")+(r.get("constraint")||"")+(r.get("option")||"")]},updateWhileAnimating:!0,updateWhileInteracting:!0}),this.features_=e.features,typeof e.filter=="function"&&(this._filter=e.filter),this.layers_=e.layers?e.layers instanceof Array?e.layers:[e.layers]:null,this._handleEvent=e.condition||function(){return!0},this.addFn_=e.addCondition||function(){return!1},this.setPointRadius(e.pointRadius),this.set("translateFeature",e.translateFeature!==!1),this.set("translate",e.translate!==!1),this.set("translateBBox",e.translateBBox===!0),this.set("stretch",e.stretch!==!1),this.set("scale",e.scale!==!1),this.set("rotate",e.rotate!==!1),this.set("keepAspectRatio",e.keepAspectRatio||function(r){return r.originalEvent.shiftKey}),this.set("modifyCenter",e.modifyCenter||function(r){return r.originalEvent.metaKey||r.originalEvent.ctrlKey}),this.set("noFlip",e.noFlip||!1),this.set("selection",e.selection!==!1),this.set("hitTolerance",e.hitTolerance||0),this.set("enableRotatedTransform",e.enableRotatedTransform||!1),this.set("keepRectangle",e.keepRectangle||!1),this.set("buffer",e.buffer||0),this.on("propertychange",function(){this.drawSketch_()}),this.setDefaultStyle()}setMap(e){var n=this.getMap();if(n){var r=n.getTargetElement();n.removeLayer(this.overlayLayer_),this.previousCursor_&&r&&(r.style.cursor=this.previousCursor_),this.previousCursor_=void 0}super.setMap(e),this.overlayLayer_.setMap(e),e===null&&this.select(null),e!==null&&(this.isTouch=/touch/.test(e.getViewport().className),this.setDefaultStyle())}setActive(e){this.select(null),this.overlayLayer_&&this.overlayLayer_.setVisible(e),super.setActive(e)}setDefaultStyle(e){e=e||{};var n=e.pointStroke||new Kd({color:[255,0,0,1],width:1}),r=e.stroke||new Kd({color:[255,0,0,1],width:1,lineDash:[4,4]}),i=e.fill||new km({color:[255,0,0,.01]}),s=e.pointFill||new km({color:[255,255,255,.8]}),l=new fy({fill:s,stroke:n,radius:this.isTouch?12:6,displacement:this.isTouch?[24,-24]:[12,-12],points:15});l.setDisplacement||(l.getAnchor()[0]=this.isTouch?-10:-5);var c=new fy({fill:s,stroke:n,radius:this.isTouch?16:8,points:4,angle:Math.PI/4}),a=new fy({fill:s,stroke:n,radius:this.isTouch?12:6,points:4,angle:Math.PI/4});function f(p,m,v){return[new Uc({image:p,stroke:m,fill:v})]}this.style={default:f(c,r,i),translate:f(c,n,s),rotate:f(l,n,s),rotate0:f(c,n,s),scale:f(c,n,s),scale1:f(c,n,s),scale2:f(c,n,s),scale3:f(c,n,s),scalev:f(a,n,s),scaleh1:f(a,n,s),scalev2:f(a,n,s),scaleh3:f(a,n,s)},this.drawSketch_()}setStyle(e,n){if(n){n instanceof Array?this.style[e]=n:this.style[e]=[n];for(var r=0;r<this.style[e].length;r++){var i=this.style[e][r].getImage();i&&(e=="rotate"&&(i.getAnchor()[0]=-5),this.isTouch&&i.setScale(1.8));var s=this.style[e][r].getText();s&&(e=="rotate"&&s.setOffsetX(this.isTouch?14:7),this.isTouch&&s.setScale(1.8))}this.drawSketch_()}}getFeatureAtPixel_(e){var n=this;return this.getMap().forEachFeatureAtPixel(e,function(r,i){var s=!1;if(!i){if(r===n.bbox_)return n.get("translateBBox")?{feature:r,handle:"translate",constraint:"",option:""}:!1;if(n.handles_.forEach(function(c){c===r&&(s=!0)}),s)return{feature:r,handle:r.get("handle"),constraint:r.get("constraint"),option:r.get("option")}}if(!n.get("selection"))return n.selection_.getArray().some(function(c){return r===c})?{feature:r}:null;if(n._filter)return n._filter(r,i)?{feature:r}:null;if(n.layers_){for(var l=0;l<n.layers_.length;l++)if(n.layers_[l]===i)return{feature:r};return null}else return n.features_?(n.features_.forEach(function(c){c===r&&(s=!0)}),s?{feature:r}:null):{feature:r}},{hitTolerance:this.get("hitTolerance")})||{}}getGeometryRotateToZero_(e,n){var r=e.getGeometry(),i=this.getMap().getView().getRotation();if(i===0||!this.get("enableRotatedTransform"))return n?r.clone():r;var s=r.clone();return s.rotate(i*-1,this.getMap().getView().getCenter()),s}_isRectangle(e){if(this.get("keepRectangle")&&e.getType()==="Polygon"){var n=e.getCoordinates()[0];return n.length===5}return!1}drawSketch_(e){var n,r,i,s=this.selection_.item(0)&&this._isRectangle(this.selection_.item(0).getGeometry());if(this.overlayLayer_.getSource().clear(),!!this.selection_.getLength()){var l=this.getMap().getView().getRotation(),c=this.getGeometryRotateToZero_(this.selection_.item(0)).getExtent(),a;s&&(a=this.getGeometryRotateToZero_(this.selection_.item(0)).getCoordinates()[0].slice(0,4),a.unshift(a[3])),c=rA(c,this.get("buffer")),this.selection_.forEach((function(C){var k=this.getGeometryRotateToZero_(C).getExtent();TT(c,k)}).bind(this));var f=this.selection_.getLength()===1?this._pointRadius(this.selection_.item(0)):0;if(f&&!(f instanceof Array)&&(f=[f,f]),e===!0)this.ispt_||(this.overlayLayer_.getSource().addFeature(new JA({geometry:new $p(this.center_),handle:"rotate0"})),i=Lw(c),this.get("enableRotatedTransform")&&l!==0&&i.rotate(l,this.getMap().getView().getCenter()),r=this.bbox_=new JA(i),this.overlayLayer_.getSource().addFeature(r));else{if(this.ispt_){var p=this.getMap().getPixelFromCoordinate([c[0],c[1]]);if(p){var m=f&&f[0]||10,v=f&&f[1]||10;c=k8([this.getMap().getCoordinateFromPixel([p[0]-m,p[1]-v]),this.getMap().getCoordinateFromPixel([p[0]+m,p[1]+v])])}}i=s?new zf([a]):Lw(c),this.get("enableRotatedTransform")&&l!==0&&i.rotate(l,this.getMap().getView().getCenter()),r=this.bbox_=new JA(i);var y=[],T=i.getCoordinates()[0];if(!this.ispt_||f){if(y.push(r),!this.iscircle_&&!this.ispt_&&this.get("stretch")&&this.get("scale"))for(n=0;n<T.length-1;n++)r=new JA({geometry:new $p([(T[n][0]+T[n+1][0])/2,(T[n][1]+T[n+1][1])/2]),handle:"scale",constraint:n%2?"h":"v",option:n}),y.push(r);if(this.get("scale"))for(n=0;n<T.length-1;n++)r=new JA({geometry:new $p(T[n]),handle:"scale",option:n}),y.push(r);this.get("translate")&&!this.get("translateFeature")&&(r=new JA({geometry:new $p([(T[0][0]+T[2][0])/2,(T[0][1]+T[2][1])/2]),handle:"translate"}),y.push(r))}!this.iscircle_&&this.get("rotate")&&(r=new JA({geometry:new $p(T[3]),handle:"rotate"}),y.push(r)),this.overlayLayer_.getSource().addFeatures(y)}}}select(e,n){if(!e){this.selection_&&(this.selection_.clear(),this.drawSketch_());return}if(!(!e.getGeometry||!e.getGeometry())){if(n)this.selection_.push(e);else{var r=this.selection_.getArray().indexOf(e);this.selection_.removeAt(r)}this.ispt_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Point":!1,this.iscircle_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Circle":!1,this.drawSketch_(),this.watchFeatures_(),this.dispatchEvent({type:"select",feature:e,features:this.selection_})}}setSelection(e){this.selection_.clear(),e.forEach((function(n){this.selection_.push(n)}).bind(this)),this.ispt_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Point":!1,this.iscircle_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Circle":!1,this.drawSketch_(),this.watchFeatures_(),this.dispatchEvent({type:"select",features:this.selection_})}watchFeatures_(){this._featureListeners&&this._featureListeners.forEach(function(e){Mm(e)}),this._featureListeners=[],this.selection_.forEach((function(e){this._featureListeners.push(e.on("change",(function(){this.isUpdating_||this.drawSketch_()}).bind(this)))}).bind(this))}handleDownEvent_(e){if(this._handleEvent(e,this.selection_)){var n=this.getFeatureAtPixel_(e.pixel),r=n.feature;if(this.selection_.getLength()&&this.selection_.getArray().indexOf(r)>=0&&(this.ispt_&&this.get("translate")||this.get("translateFeature"))&&(n.handle="translate"),n.handle){this.mode_=n.handle,this.opt_=n.option,this.constraint_=n.constraint;var i=this.getMap().getView().getRotation();this.coordinate_=r.get("handle")?r.getGeometry().getCoordinates():e.coordinate,this.pixel_=this.getMap().getCoordinateFromPixel(this.coordinate_),this.geoms_=[],this.rotatedGeoms_=[];for(var s=dc(),l=dc(),c=0,a;a=this.selection_.item(c);c++)if(this.geoms_.push(a.getGeometry().clone()),s=TT(s,a.getGeometry().getExtent()),this.get("enableRotatedTransform")&&i!==0){var f=this.getGeometryRotateToZero_(a,!0);this.rotatedGeoms_.push(f),l=TT(l,f.getExtent())}if(this.extent_=Lw(s).getCoordinates()[0],this.get("enableRotatedTransform")&&i!==0&&(this.rotatedExtent_=Lw(l).getCoordinates()[0]),this.mode_==="rotate"){this.center_=this.getCenter()||iA(s);var p=e.map.getTargetElement();p.style.cursor=this.Cursors.rotate0,this.previousCursor_=p.style.cursor}else this.center_=iA(s);return this.angle_=Math.atan2(this.center_[1]-e.coordinate[1],this.center_[0]-e.coordinate[0]),this.dispatchEvent({type:this.mode_+"start",feature:this.selection_.item(0),features:this.selection_,pixel:e.pixel,coordinate:e.coordinate}),!0}else if(this.get("selection")){if(r){this.addFn_(e)||this.selection_.clear();var m=this.selection_.getArray().indexOf(r);m<0?this.selection_.push(r):this.selection_.removeAt(m)}else this.selection_.clear();return this.ispt_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Point":!1,this.iscircle_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Circle":!1,this.drawSketch_(),this.watchFeatures_(),this.dispatchEvent({type:"select",feature:r,features:this.selection_,pixel:e.pixel,coordinate:e.coordinate}),!1}}}getCenter(){return this.get("center")}setCenter(e){return this.set("center",e)}handleDragEvent_(e){if(this._handleEvent(e,this.features_)){var n=this.getMap().getView().getRotation(),r,i,s,l,c=[this.coordinate_[0],this.coordinate_[1]],a=[e.coordinate[0],e.coordinate[1]];switch(this.isUpdating_=!0,this.mode_){case"rotate":{var f=Math.atan2(this.center_[1]-a[1],this.center_[0]-a[0]);if(!this.ispt)for(r=0,s;s=this.selection_.item(r);r++)l=this.geoms_[r].clone(),l.rotate(f-this.angle_,this.center_),l.getType()=="Circle"&&l.setCenterAndRadius(l.getCenter(),l.getRadius()),s.setGeometry(l);this.drawSketch_(!0),this.dispatchEvent({type:"rotating",feature:this.selection_.item(0),features:this.selection_,angle:f-this.angle_,pixel:e.pixel,coordinate:e.coordinate});break}case"translate":{var p=a[0]-c[0],m=a[1]-c[1];for(r=0,s;s=this.selection_.item(r);r++)s.getGeometry().translate(p,m);this.handles_.forEach(function(G){G.getGeometry().translate(p,m)}),this.coordinate_=e.coordinate,this.dispatchEvent({type:"translating",feature:this.selection_.item(0),features:this.selection_,delta:[p,m],pixel:e.pixel,coordinate:e.coordinate});break}case"scale":{var v=this.center_;if(this.get("modifyCenter")(e)){var y=this.extent_;this.get("enableRotatedTransform")&&n!==0&&(y=this.rotatedExtent_),v=y[(Number(this.opt_)+2)%4]}var T=this.geoms_.length==1&&this._isRectangle(this.geoms_[0]),C=this.constraint_,k=this.opt_,M=this.coordinate_,P=e.coordinate;if(this.get("enableRotatedTransform")&&n!==0){var R=new $p(this.coordinate_);R.rotate(n*-1,v),M=R.getCoordinates();var N=new $p(e.coordinate);N.rotate(n*-1,v),P=N.getCoordinates()}var z=(P[0]-v[0])/(M[0]-v[0]),H=(P[1]-v[1])/(M[1]-v[1]),j=[P[0]-M[0],P[1]-M[1]];if(this.get("enableRotatedTransform")&&n!==0){var Q=new $p(v);Q.rotate(n*-1,this.getMap().getView().getCenter()),v=Q.getCoordinates()}for(this.get("noFlip")&&(z<0&&(z=-z),H<0&&(H=-H)),this.constraint_?this.constraint_=="h"?z=1:H=1:this.get("keepAspectRatio")(e)&&(z=H=Math.min(z,H)),r=0,s;s=this.selection_.item(r);r++)l=n===0||!this.get("enableRotatedTransform")?this.geoms_[r].clone():this.rotatedGeoms_[r].clone(),l.applyTransform((function(G,ie,q){if(q<2)return ie;if(T){var W=[[6],[0,8],[2],[4]],ee=[G[0],G[1]],he=[G[2],G[3]],J=[G[4],G[5]],te=[G[6],G[7]],ne=[G[8],G[9]];if(C){var ce=k%2===0?this._countVector(ee,he):this._countVector(te,ee),ue=this._projectVectorOnVector(j,ce),ye=k+1<W.length?k+1:0,Ee=[...W[k],...W[ye]];for(i=0;i<G.length;i+=q)ie[i]=Ee.includes(i)?G[i]+ue[0]:G[i],ie[i+1]=Ee.includes(i)?G[i+1]+ue[1]:G[i+1]}else{var se,oe;switch(k){case 0:j=this._countVector(te,P),se=this._projectVectorOnVector(j,this._countVector(J,te)),oe=this._projectVectorOnVector(j,this._countVector(ee,te)),[ie[0],ie[1]]=this._movePoint(ee,se),[ie[4],ie[5]]=this._movePoint(J,oe),[ie[6],ie[7]]=this._movePoint(te,j),[ie[8],ie[9]]=this._movePoint(ne,se);break;case 1:j=this._countVector(ee,P),se=this._projectVectorOnVector(j,this._countVector(te,ee)),oe=this._projectVectorOnVector(j,this._countVector(he,ee)),[ie[0],ie[1]]=this._movePoint(ee,j),[ie[2],ie[3]]=this._movePoint(he,se),[ie[6],ie[7]]=this._movePoint(te,oe),[ie[8],ie[9]]=this._movePoint(ne,j);break;case 2:j=this._countVector(he,P),se=this._projectVectorOnVector(j,this._countVector(ee,he)),oe=this._projectVectorOnVector(j,this._countVector(J,he)),[ie[0],ie[1]]=this._movePoint(ee,oe),[ie[2],ie[3]]=this._movePoint(he,j),[ie[4],ie[5]]=this._movePoint(J,se),[ie[8],ie[9]]=this._movePoint(ne,oe);break;case 3:j=this._countVector(J,P),se=this._projectVectorOnVector(j,this._countVector(he,J)),oe=this._projectVectorOnVector(j,this._countVector(te,J)),[ie[2],ie[3]]=this._movePoint(he,oe),[ie[4],ie[5]]=this._movePoint(J,j),[ie[6],ie[7]]=this._movePoint(te,se);break}}}else for(i=0;i<G.length;i+=q)z!=1&&(ie[i]=v[0]+(G[i]-v[0])*z),H!=1&&(ie[i+1]=v[1]+(G[i+1]-v[1])*H);return l.getType()=="Circle"&&l.setCenterAndRadius(l.getCenter(),l.getRadius()),ie}).bind(this)),this.get("enableRotatedTransform")&&n!==0&&l.rotate(n,this.getMap().getView().getCenter()),s.setGeometry(l);this.drawSketch_(),this.dispatchEvent({type:"scaling",feature:this.selection_.item(0),features:this.selection_,scale:[z,H],pixel:e.pixel,coordinate:e.coordinate});break}}this.isUpdating_=!1}}handleMoveEvent_(e){if(this._handleEvent(e,this.features_)&&!this.mode_){var n=this.getFeatureAtPixel_(e.pixel),r=e.map.getTargetElement();if(n.feature){var i=n.handle?this.Cursors[(n.handle||"default")+(n.constraint||"")+(n.option||"")]:this.Cursors.select;this.previousCursor_===void 0&&(this.previousCursor_=r.style.cursor),r.style.cursor=i}else this.previousCursor_!==void 0&&(r.style.cursor=this.previousCursor_),this.previousCursor_=void 0}}handleUpEvent_(e){if(this.mode_==="rotate"){var n=e.map.getTargetElement();n.style.cursor=this.Cursors.default,this.previousCursor_=void 0}return this.dispatchEvent({type:this.mode_+"end",feature:this.selection_.item(0),features:this.selection_,oldgeom:this.geoms_[0],oldgeoms:this.geoms_}),this.drawSketch_(),this.mode_=null,!1}setPointRadius(e){typeof e=="function"?this._pointRadius=e:this._pointRadius=function(){return e}}getFeatures(){return this.selection_}_projectVectorOnVector(e,n){var r=(e[0]*n[0]+e[1]*n[1])/(n[0]*n[0]+n[1]*n[1]);return[n[0]*r,n[1]*r]}_countVector(e,n){return[n[0]-e[0],n[1]-e[1]]}_movePoint(e,n){return[e[0]+n[0],e[1]+n[1]]}};_ht.prototype.Cursors={default:"auto",select:"pointer",translate:"move",rotate:"move",rotate0:"move",scale:"nesw-resize",scale1:"nwse-resize",scale2:"nesw-resize",scale3:"nwse-resize",scalev:"ew-resize",scaleh1:"ns-resize",scalev2:"ew-resize",scaleh3:"ns-resize"};var lhe=class extends Qf{constructor(e){e=e||{},super(),this.duration_=typeof e.duration=="number"?e.duration>=0?e.duration:0:1e3,this.fade_=typeof e.fade=="function"?e.fade:null,this.repeat_=Number(e.repeat);var n=typeof e.easing=="function"?e.easing:$ue;e.revers?this.easing_=function(r){return 1-n(r)}:this.easing_=n,this.hiddenStyle=e.hiddenStyle}drawGeom_(e,n,r){var i={type:"drawing",time:e.time,feature:e.feature,start:e.start,stop:e.stop,rotation:e.rotation,style:e.style,extra:e.extra};this.dispatchEvent(i);var s=i.style instanceof Array?i.style:[i.style];this.fade_&&(e.context.globalAlpha=this.fade_(1-e.elapsed));for(var l=0;l<s.length;l++)try{var c=e.vectorContext||Uce(e),a=ict(e,s[l]);c.setStyle(a),a.getZIndex()<0?c.drawGeometry(r||n):c.drawGeometry(n)}catch{}}animate(){return!1}};lhe.hiddenStyle=new Uc({image:new k5({}),stroke:new Kd({color:"transparent"})});fce.prototype.animateFeature=function(t,e){var n=this._featureAnimationLayer;n||(n=this._featureAnimationLayer=new pz({source:new Tce}),n.setMap(this)),n.getSource().addFeature(t);var r=e.on("animationend",function(i){i.feature===t&&(n.getSource().removeFeature(t),Mm(r))});n.animateFeature(t,e)};GU.prototype.animateFeature=function(t,e,n){var r=this,i,s=t.getStyle(),l=s||(this.getStyleFunction?this.getStyleFunction()(t):null);l||(l=[]),l instanceof Array||(l=[l]);var c={vectorContext:null,frameState:null,start:0,time:0,elapsed:0,extent:!1,feature:t,geom:t.getGeometry(),typeGeom:t.getGeometry().getType(),bbox:t.getGeometry().getExtent(),coord:iA(t.getGeometry().getExtent()),style:l};e instanceof Array||(e=[e]);for(var a=e.length-1;a>=0;a--)e[a].duration_===0&&e.splice(a,1);var f=0,p=0,m=n&&this.getFilters?this.getFilters():[];function v(C){c.type=C.type;try{c.vectorContext=C.vectorContext||Uce(C)}catch{}if(c.frameState=C.frameState,c.inversePixelTransform=C.inversePixelTransform,c.extent||(c.extent=C.frameState.extent,c.start=C.frameState.time,c.context=C.context),c.time=C.frameState.time-c.start,c.elapsed=c.time/e[p].duration_,c.elapsed>1&&(c.elapsed=1),C.context.save(),m.forEach(function(M){M.get("active")&&M.precompose(C)}),this.getOpacity&&(C.context.globalAlpha=this.getOpacity()),!e[p].animate(c))f++,f<e[p].repeat_?c.extent=!1:p<e.length-1?(e[p].dispatchEvent({type:"animationend",feature:t}),p++,f=0,c.extent=!1):y();else{var k={type:"animating",step:p,start:c.start,time:c.time,elapsed:c.elapsed,rotation:c.rotation||0,geom:c.geom,coordinate:c.coord,feature:t,extra:c.extra||{},style:l};e[p].dispatchEvent(k),r.dispatchEvent(k)}m.forEach(function(M){M.get("active")&&M.postcompose(C)}),C.context.restore(),C.frameState.animate=!0}function y(C){Mm(i),i=null,t.setStyle(s),c.stop=new Date().getTime();var k={type:"animationend",feature:t};if(C)for(var M in C)C.hasOwnProperty(M)&&(k[M]=C[M]);e[p].dispatchEvent(k),r.dispatchEvent(k)}function T(C){if(e.length&&!i){if(c.stop&&(c.start=new Date().getTime()-c.stop+c.start,c.stop=0),i=r.on(["postcompose","postrender"],v.bind(r)),r.renderSync)try{r.renderSync()}catch{}else r.changed();t.setStyle(e[p].hiddenStyle||lhe.hiddenStyle);var k={type:"animationstart",feature:t};if(C)for(var M in C)C.hasOwnProperty(M)&&(k[M]=C[M]);e[p].dispatchEvent(k),r.dispatchEvent(k)}}return T(),{start:T,stop:y,isPlaying:function(){return!!i}}};var yht=Object.defineProperty,bht=(t,e,n)=>e in t?yht(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,QM=(t,e,n)=>(bht(t,typeof e!="symbol"?e+"":e,n),n);function wht(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}var ky=1,Py=2,r2=3,xht=4,aD=5,mX=6378137,Cht=6356752314e-3,gX=.0066943799901413165,kC=484813681109536e-20,Lr=Math.PI/2,Eht=.16666666666666666,Sht=.04722222222222222,Tht=.022156084656084655,ei=1e-10,rc=.017453292519943295,hm=57.29577951308232,Ds=Math.PI/4,H6=Math.PI*2,Il=3.14159265359,Yh={};Yh.greenwich=0;Yh.lisbon=-9.131906111111;Yh.paris=2.337229166667;Yh.bogota=-74.080916666667;Yh.madrid=-3.687938888889;Yh.rome=12.452333333333;Yh.bern=7.439583333333;Yh.jakarta=106.807719444444;Yh.ferro=-17.666666666667;Yh.brussels=4.367975;Yh.stockholm=18.058277777778;Yh.athens=23.7163375;Yh.oslo=10.722916666667;const Bht={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var vX=/[\s_\-\/\(\)]/g;function y1(t,e){if(t[e])return t[e];for(var n=Object.keys(t),r=e.toLowerCase().replace(vX,""),i=-1,s,l;++i<n.length;)if(s=n[i],l=s.toLowerCase().replace(vX,""),l===r)return t[s]}function sD(t){var e={},n=t.split("+").map(function(c){return c.trim()}).filter(function(c){return c}).reduce(function(c,a){var f=a.split("=");return f.push(!0),c[f[0].toLowerCase()]=f[1],c},{}),r,i,s,l={proj:"projName",datum:"datumCode",rf:function(c){e.rf=parseFloat(c)},lat_0:function(c){e.lat0=c*rc},lat_1:function(c){e.lat1=c*rc},lat_2:function(c){e.lat2=c*rc},lat_ts:function(c){e.lat_ts=c*rc},lon_0:function(c){e.long0=c*rc},lon_1:function(c){e.long1=c*rc},lon_2:function(c){e.long2=c*rc},alpha:function(c){e.alpha=parseFloat(c)*rc},gamma:function(c){e.rectified_grid_angle=parseFloat(c)},lonc:function(c){e.longc=c*rc},x_0:function(c){e.x0=parseFloat(c)},y_0:function(c){e.y0=parseFloat(c)},k_0:function(c){e.k0=parseFloat(c)},k:function(c){e.k0=parseFloat(c)},a:function(c){e.a=parseFloat(c)},b:function(c){e.b=parseFloat(c)},r:function(c){e.a=e.b=parseFloat(c)},r_a:function(){e.R_A=!0},zone:function(c){e.zone=parseInt(c,10)},south:function(){e.utmSouth=!0},towgs84:function(c){e.datum_params=c.split(",").map(function(a){return parseFloat(a)})},to_meter:function(c){e.to_meter=parseFloat(c)},units:function(c){e.units=c;var a=y1(Bht,c);a&&(e.to_meter=a.to_meter)},from_greenwich:function(c){e.from_greenwich=c*rc},pm:function(c){var a=y1(Yh,c);e.from_greenwich=(a||parseFloat(c))*rc},nadgrids:function(c){c==="@null"?e.datumCode="none":e.nadgrids=c},axis:function(c){var a="ewnsud";c.length===3&&a.indexOf(c.substr(0,1))!==-1&&a.indexOf(c.substr(1,1))!==-1&&a.indexOf(c.substr(2,1))!==-1&&(e.axis=c)},approx:function(){e.approx=!0}};for(r in n)i=n[r],r in l?(s=l[r],typeof s=="function"?s(i):e[s]=i):e[r]=i;return typeof e.datumCode=="string"&&e.datumCode!=="WGS84"&&(e.datumCode=e.datumCode.toLowerCase()),e}var Q6=1,uhe=2,che=3,W8=4,hhe=5,Ez=-1,Mht=/\s/,Iht=/[A-Za-z]/,Lht=/[A-Za-z84_]/,jM=/[,\]]/,dhe=/[\d\.E\-\+]/;function M0(t){if(typeof t!="string")throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=Q6}M0.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==W8)for(;Mht.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case Q6:return this.neutral(t);case uhe:return this.keyword(t);case W8:return this.quoted(t);case hhe:return this.afterquote(t);case che:return this.number(t);case Ez:return}};M0.prototype.afterquote=function(t){if(t==='"'){this.word+='"',this.state=W8;return}if(jM.test(t)){this.word=this.word.trim(),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in afterquote yet, index '+this.place)};M0.prototype.afterItem=function(t){if(t===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=Q6;return}if(t==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=Q6,this.currentObject=this.stack.pop(),this.currentObject||(this.state=Ez);return}};M0.prototype.number=function(t){if(dhe.test(t)){this.word+=t;return}if(jM.test(t)){this.word=parseFloat(this.word),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in number yet, index '+this.place)};M0.prototype.quoted=function(t){if(t==='"'){this.state=hhe;return}this.word+=t};M0.prototype.keyword=function(t){if(Lht.test(t)){this.word+=t;return}if(t==="["){var e=[];e.push(this.word),this.level++,this.root===null?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=Q6;return}if(jM.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in keyword yet, index '+this.place)};M0.prototype.neutral=function(t){if(Iht.test(t)){this.word=t,this.state=uhe;return}if(t==='"'){this.word="",this.state=W8;return}if(dhe.test(t)){this.word=t,this.state=che;return}if(jM.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in neutral yet, index '+this.place)};M0.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===Ez)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function kht(t){var e=new M0(t);return e.output()}function _X(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var r=e?{}:t,i=n.reduce(function(s,l){return Pw(l,s),s},r);e&&(t[e]=i)}function Pw(t,e){if(!Array.isArray(t)){e[t]=!0;return}var n=t.shift();if(n==="PARAMETER"&&(n=t.shift()),t.length===1){if(Array.isArray(t[0])){e[n]={},Pw(t[0],e[n]);return}e[n]=t[0];return}if(!t.length){e[n]=!0;return}if(n==="TOWGS84"){e[n]=t;return}if(n==="AXIS"){n in e||(e[n]=[]),e[n].push(t);return}Array.isArray(n)||(e[n]={});var r;switch(n){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[n]={name:t[0].toLowerCase(),convert:t[1]},t.length===3&&Pw(t[2],e[n]);return;case"SPHEROID":case"ELLIPSOID":e[n]={name:t[0],a:t[1],rf:t[2]},t.length===4&&Pw(t[3],e[n]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":t[0]=["name",t[0]],_X(e,n,t);return;default:for(r=-1;++r<t.length;)if(!Array.isArray(t[r]))return Pw(t,e[n]);return _X(e,n,t)}}var Pht=.017453292519943295;function Fht(t,e){var n=e[0],r=e[1];!(n in t)&&r in t&&(t[n]=t[r],e.length===3&&(t[n]=e[2](t[n])))}function KA(t){return t*Pht}function Rht(t){if(t.type==="GEOGCS"?t.projName="longlat":t.type==="LOCAL_CS"?(t.projName="identity",t.local=!0):typeof t.PROJECTION=="object"?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var e="",n=0,r=t.AXIS.length;n<r;++n){var i=[t.AXIS[n][0].toLowerCase(),t.AXIS[n][1].toLowerCase()];i[0].indexOf("north")!==-1||(i[0]==="y"||i[0]==="lat")&&i[1]==="north"?e+="n":i[0].indexOf("south")!==-1||(i[0]==="y"||i[0]==="lat")&&i[1]==="south"?e+="s":i[0].indexOf("east")!==-1||(i[0]==="x"||i[0]==="lon")&&i[1]==="east"?e+="e":(i[0].indexOf("west")!==-1||(i[0]==="x"||i[0]==="lon")&&i[1]==="west")&&(e+="w")}e.length===2&&(e+="u"),e.length===3&&(t.axis=e)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),t.units==="metre"&&(t.units="meter"),t.UNIT.convert&&(t.type==="GEOGCS"?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var s=t.GEOGCS;t.type==="GEOGCS"&&(s=t),s&&(s.DATUM?t.datumCode=s.DATUM.name.toLowerCase():t.datumCode=s.name.toLowerCase(),t.datumCode.slice(0,2)==="d_"&&(t.datumCode=t.datumCode.slice(2)),(t.datumCode==="new_zealand_geodetic_datum_1949"||t.datumCode==="new_zealand_1949")&&(t.datumCode="nzgd49"),(t.datumCode==="wgs_1984"||t.datumCode==="world_geodetic_system_1984")&&(t.PROJECTION==="Mercator_Auxiliary_Sphere"&&(t.sphere=!0),t.datumCode="wgs84"),t.datumCode.slice(-6)==="_ferro"&&(t.datumCode=t.datumCode.slice(0,-6)),t.datumCode.slice(-8)==="_jakarta"&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(t.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),t.ellps.toLowerCase().slice(0,13)==="international"&&(t.ellps="intl"),t.a=s.DATUM.SPHEROID.a,t.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(t.datum_params=s.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),t.datumCode==="ch1903+"&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a);function l(f){var p=t.to_meter||1;return f*p}var c=function(f){return Fht(t,f)},a=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",KA],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",KA],["x0","false_easting",l],["y0","false_northing",l],["long0","central_meridian",KA],["lat0","latitude_of_origin",KA],["lat0","standard_parallel_1",KA],["lat1","standard_parallel_1",KA],["lat2","standard_parallel_2",KA],["azimuth","Azimuth"],["alpha","azimuth",KA],["srsCode","name"]];a.forEach(c),!t.long0&&t.longc&&(t.projName==="Albers_Conic_Equal_Area"||t.projName==="Lambert_Azimuthal_Equal_Area")&&(t.long0=t.longc),!t.lat_ts&&t.lat1&&(t.projName==="Stereographic_South_Pole"||t.projName==="Polar Stereographic (variant B)")?(t.lat0=KA(t.lat1>0?90:-90),t.lat_ts=t.lat1):!t.lat_ts&&t.lat0&&t.projName==="Polar_Stereographic"&&(t.lat_ts=t.lat0,t.lat0=KA(t.lat0>0?90:-90))}function fhe(t){var e=kht(t),n=e.shift(),r=e.shift();e.unshift(["name",r]),e.unshift(["type",n]);var i={};return Pw(e,i),Rht(i),i}function ah(t){var e=this;if(arguments.length===2){var n=arguments[1];typeof n=="string"?n.charAt(0)==="+"?ah[t]=sD(arguments[1]):ah[t]=fhe(arguments[1]):ah[t]=n}else if(arguments.length===1){if(Array.isArray(t))return t.map(function(r){Array.isArray(r)?ah.apply(e,r):ah(r)});if(typeof t=="string"){if(t in ah)return ah[t]}else"EPSG"in t?ah["EPSG:"+t.EPSG]=t:"ESRI"in t?ah["ESRI:"+t.ESRI]=t:"IAU2000"in t?ah["IAU2000:"+t.IAU2000]=t:console.log(t);return}}wht(ah);function Oht(t){return typeof t=="string"}function Dht(t){return t in ah}var Nht=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function Uht(t){return Nht.some(function(e){return t.indexOf(e)>-1})}var zht=["3857","900913","3785","102113"];function $ht(t){var e=y1(t,"authority");if(e){var n=y1(e,"epsg");return n&&zht.indexOf(n)>-1}}function Vht(t){var e=y1(t,"extension");if(e)return y1(e,"proj4")}function Hht(t){return t[0]==="+"}function Qht(t){if(Oht(t)){if(Dht(t))return ah[t];if(Uht(t)){var e=fhe(t);if($ht(e))return ah["EPSG:3857"];var n=Vht(e);return n?sD(n):e}if(Hht(t))return sD(t)}else return t}function yX(t,e){t=t||{};var n,r;if(!e)return t;for(r in e)n=e[r],n!==void 0&&(t[r]=n);return t}function Pm(t,e,n){var r=t*e;return n/Math.sqrt(1-r*r)}function N5(t){return t<0?-1:1}function ui(t){return Math.abs(t)<=Il?t:t-N5(t)*H6}function Jp(t,e,n){var r=t*n,i=.5*t;return r=Math.pow((1-r)/(1+r),i),Math.tan(.5*(Lr-e))/r}function j6(t,e){for(var n=.5*t,r,i,s=Lr-2*Math.atan(e),l=0;l<=15;l++)if(r=t*Math.sin(s),i=Lr-2*Math.atan(e*Math.pow((1-r)/(1+r),n))-s,s+=i,Math.abs(i)<=1e-10)return s;return-9999}function jht(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Pm(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function Ght(t){var e=t.x,n=t.y;if(n*hm>90&&n*hm<-90&&e*hm>180&&e*hm<-180)return null;var r,i;if(Math.abs(Math.abs(n)-Lr)<=ei)return null;if(this.sphere)r=this.x0+this.a*this.k0*ui(e-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(Ds+.5*n));else{var s=Math.sin(n),l=Jp(this.e,n,s);r=this.x0+this.a*this.k0*ui(e-this.long0),i=this.y0-this.a*this.k0*Math.log(l)}return t.x=r,t.y=i,t}function Kht(t){var e=t.x-this.x0,n=t.y-this.y0,r,i;if(this.sphere)i=Lr-2*Math.atan(Math.exp(-n/(this.a*this.k0)));else{var s=Math.exp(-n/(this.a*this.k0));if(i=j6(this.e,s),i===-9999)return null}return r=ui(this.long0+e/(this.a*this.k0)),t.x=r,t.y=i,t}var Wht=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const qht={init:jht,forward:Ght,inverse:Kht,names:Wht};function Yht(){}function bX(t){return t}var Xht=["longlat","identity"];const Zht={init:Yht,forward:bX,inverse:bX,names:Xht};var Jht=[qht,Zht],IT={},q8=[];function phe(t,e){var n=q8.length;return t.names?(q8[n]=t,t.names.forEach(function(r){IT[r.toLowerCase()]=n}),this):(console.log(e),!0)}function edt(t){if(!t)return!1;var e=t.toLowerCase();if(typeof IT[e]<"u"&&q8[IT[e]])return q8[IT[e]]}function tdt(){Jht.forEach(phe)}const ndt={start:tdt,add:phe,get:edt};var Ea={};Ea.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"};Ea.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"};Ea.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"};Ea.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"};Ea.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"};Ea.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"};Ea.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"};Ea.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"};Ea.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"};Ea.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"};Ea.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"};Ea.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"};Ea.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"};Ea.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"};Ea.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."};Ea.clrk80ign={a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"};Ea.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"};Ea.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"};Ea.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"};Ea.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"};Ea.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"};Ea.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"};Ea.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"};Ea.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"};Ea.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"};Ea.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"};Ea.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"};Ea.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"};Ea.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"};Ea.hough={a:6378270,rf:297,ellipseName:"Hough"};Ea.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"};Ea.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"};Ea.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"};Ea.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"};Ea.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"};Ea.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"};Ea.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"};Ea.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"};Ea.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"};Ea.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"};Ea.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"};Ea.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var rdt=Ea.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};Ea.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function idt(t,e,n,r){var i=t*t,s=e*e,l=(i-s)/i,c=0;r?(t*=1-l*(Eht+l*(Sht+l*Tht)),i=t*t,l=0):c=Math.sqrt(l);var a=(i-s)/s;return{es:l,e:c,ep2:a}}function adt(t,e,n,r,i){if(!t){var s=y1(Ea,r);s||(s=rdt),t=s.a,e=s.b,n=s.rf}return n&&!e&&(e=(1-1/n)*t),(n===0||Math.abs(t-e)<ei)&&(i=!0,e=t),{a:t,b:e,rf:n,sphere:i}}var Mu={};Mu.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"};Mu.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"};Mu.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"};Mu.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"};Mu.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"};Mu.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"};Mu.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"};Mu.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"};Mu.militargeographische_institut={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"};Mu.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"};Mu.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"};Mu.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"};Mu.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"};Mu.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"};Mu.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"};Mu.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"};Mu.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"};Mu.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function sdt(t,e,n,r,i,s,l){var c={};return t===void 0||t==="none"?c.datum_type=aD:c.datum_type=xht,e&&(c.datum_params=e.map(parseFloat),(c.datum_params[0]!==0||c.datum_params[1]!==0||c.datum_params[2]!==0)&&(c.datum_type=ky),c.datum_params.length>3&&(c.datum_params[3]!==0||c.datum_params[4]!==0||c.datum_params[5]!==0||c.datum_params[6]!==0)&&(c.datum_type=Py,c.datum_params[3]*=kC,c.datum_params[4]*=kC,c.datum_params[5]*=kC,c.datum_params[6]=c.datum_params[6]/1e6+1)),l&&(c.datum_type=r2,c.grids=l),c.a=n,c.b=r,c.es=i,c.ep2=s,c}var Ahe={};function odt(t,e){var n=new DataView(e),r=cdt(n),i=hdt(n,r),s=ddt(n,i,r),l={header:i,subgrids:s};return Ahe[t]=l,l}function ldt(t){if(t===void 0)return null;var e=t.split(",");return e.map(udt)}function udt(t){if(t.length===0)return null;var e=t[0]==="@";return e&&(t=t.slice(1)),t==="null"?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:Ahe[t]||null,isNull:!1}}function Fw(t){return t/3600*Math.PI/180}function cdt(t){var e=t.getInt32(8,!1);return e===11?!1:(e=t.getInt32(8,!0),e!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function hdt(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:oD(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}function oD(t,e,n){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,n)))}function ddt(t,e,n){for(var r=176,i=[],s=0;s<e.nSubgrids;s++){var l=pdt(t,r,n),c=Adt(t,r,l,n),a=Math.round(1+(l.upperLongitude-l.lowerLongitude)/l.longitudeInterval),f=Math.round(1+(l.upperLatitude-l.lowerLatitude)/l.latitudeInterval);i.push({ll:[Fw(l.lowerLongitude),Fw(l.lowerLatitude)],del:[Fw(l.longitudeInterval),Fw(l.latitudeInterval)],lim:[a,f],count:l.gridNodeCount,cvs:fdt(c)}),r+=176+l.gridNodeCount*16}return i}function fdt(t){return t.map(function(e){return[Fw(e.longitudeShift),Fw(e.latitudeShift)]})}function pdt(t,e,n){return{name:oD(t,e+8,e+16).trim(),parent:oD(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,n),upperLatitude:t.getFloat64(e+88,n),lowerLongitude:t.getFloat64(e+104,n),upperLongitude:t.getFloat64(e+120,n),latitudeInterval:t.getFloat64(e+136,n),longitudeInterval:t.getFloat64(e+152,n),gridNodeCount:t.getInt32(e+168,n)}}function Adt(t,e,n,r){for(var i=e+176,s=16,l=[],c=0;c<n.gridNodeCount;c++){var a={latitudeShift:t.getFloat32(i+c*s,r),longitudeShift:t.getFloat32(i+c*s+4,r),latitudeAccuracy:t.getFloat32(i+c*s+8,r),longitudeAccuracy:t.getFloat32(i+c*s+12,r)};l.push(a)}return l}function ym(t,e){if(!(this instanceof ym))return new ym(t);e=e||function(f){if(f)throw f};var n=Qht(t);if(typeof n!="object"){e(t);return}var r=ym.projections.get(n.projName);if(!r){e(t);return}if(n.datumCode&&n.datumCode!=="none"){var i=y1(Mu,n.datumCode);i&&(n.datum_params=n.datum_params||(i.towgs84?i.towgs84.split(","):null),n.ellps=i.ellipse,n.datumName=i.datumName?i.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var s=adt(n.a,n.b,n.rf,n.ellps,n.sphere),l=idt(s.a,s.b,s.rf,n.R_A),c=ldt(n.nadgrids),a=n.datum||sdt(n.datumCode,n.datum_params,s.a,s.b,l.es,l.ep2,c);yX(this,n),yX(this,r),this.a=s.a,this.b=s.b,this.rf=s.rf,this.sphere=s.sphere,this.es=l.es,this.e=l.e,this.ep2=l.ep2,this.datum=a,this.init(),e(null,this)}ym.projections=ndt;ym.projections.start();function mdt(t,e){return t.datum_type!==e.datum_type||t.a!==e.a||Math.abs(t.es-e.es)>5e-11?!1:t.datum_type===ky?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type===Py?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]:!0}function mhe(t,e,n){var r=t.x,i=t.y,s=t.z?t.z:0,l,c,a,f;if(i<-Lr&&i>-1.001*Lr)i=-Lr;else if(i>Lr&&i<1.001*Lr)i=Lr;else{if(i<-Lr)return{x:-1/0,y:-1/0,z:t.z};if(i>Lr)return{x:1/0,y:1/0,z:t.z}}return r>Math.PI&&(r-=2*Math.PI),c=Math.sin(i),f=Math.cos(i),a=c*c,l=n/Math.sqrt(1-e*a),{x:(l+s)*f*Math.cos(r),y:(l+s)*f*Math.sin(r),z:(l*(1-e)+s)*c}}function ghe(t,e,n,r){var i=1e-12,s=i*i,l=30,c,a,f,p,m,v,y,T,C,k,M,P,R,N=t.x,z=t.y,H=t.z?t.z:0,j,Q,G;if(c=Math.sqrt(N*N+z*z),a=Math.sqrt(N*N+z*z+H*H),c/n<i){if(j=0,a/n<i)return Q=Lr,G=-r,{x:t.x,y:t.y,z:t.z}}else j=Math.atan2(z,N);f=H/a,p=c/a,m=1/Math.sqrt(1-e*(2-e)*p*p),T=p*(1-e)*m,C=f*m,R=0;do R++,y=n/Math.sqrt(1-e*C*C),G=c*T+H*C-y*(1-e*C*C),v=e*y/(y+G),m=1/Math.sqrt(1-v*(2-v)*p*p),k=p*(1-v)*m,M=f*m,P=M*T-k*C,T=k,C=M;while(P*P>s&&R<l);return Q=Math.atan(M/Math.abs(k)),{x:j,y:Q,z:G}}function gdt(t,e,n){if(e===ky)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(e===Py){var r=n[0],i=n[1],s=n[2],l=n[3],c=n[4],a=n[5],f=n[6];return{x:f*(t.x-a*t.y+c*t.z)+r,y:f*(a*t.x+t.y-l*t.z)+i,z:f*(-c*t.x+l*t.y+t.z)+s}}}function vdt(t,e,n){if(e===ky)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(e===Py){var r=n[0],i=n[1],s=n[2],l=n[3],c=n[4],a=n[5],f=n[6],p=(t.x-r)/f,m=(t.y-i)/f,v=(t.z-s)/f;return{x:p+a*m-c*v,y:-a*p+m+l*v,z:c*p-l*m+v}}}function WS(t){return t===ky||t===Py}function _dt(t,e,n){if(mdt(t,e)||t.datum_type===aD||e.datum_type===aD)return n;var r=t.a,i=t.es;if(t.datum_type===r2){var s=wX(t,!1,n);if(s!==0)return;r=mX,i=gX}var l=e.a,c=e.b,a=e.es;if(e.datum_type===r2&&(l=mX,c=Cht,a=gX),i===a&&r===l&&!WS(t.datum_type)&&!WS(e.datum_type))return n;if(n=mhe(n,i,r),WS(t.datum_type)&&(n=gdt(n,t.datum_type,t.datum_params)),WS(e.datum_type)&&(n=vdt(n,e.datum_type,e.datum_params)),n=ghe(n,a,l,c),e.datum_type===r2){var f=wX(e,!0,n);if(f!==0)return}return n}function wX(t,e,n){if(t.grids===null||t.grids.length===0)return console.log("Grid shift grids not found"),-1;var r={x:-n.x,y:n.y},i={x:Number.NaN,y:Number.NaN},s=[];e:for(var l=0;l<t.grids.length;l++){var c=t.grids[l];if(s.push(c.name),c.isNull){i=r;break}if(c.mandatory,c.grid===null){if(c.mandatory)return console.log("Unable to find mandatory grid '"+c.name+"'"),-1;continue}for(var a=c.grid.subgrids,f=0,p=a.length;f<p;f++){var m=a[f],v=(Math.abs(m.del[1])+Math.abs(m.del[0]))/1e4,y=m.ll[0]-v,T=m.ll[1]-v,C=m.ll[0]+(m.lim[0]-1)*m.del[0]+v,k=m.ll[1]+(m.lim[1]-1)*m.del[1]+v;if(!(T>r.y||y>r.x||k<r.y||C<r.x)&&(i=ydt(r,e,m),!isNaN(i.x)))break e}}return isNaN(i.x)?(console.log("Failed to find a grid shift table for location '"+-r.x*hm+" "+r.y*hm+" tried: '"+s+"'"),-1):(n.x=-i.x,n.y=i.y,0)}function ydt(t,e,n){var r={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return r;var i={x:t.x,y:t.y};i.x-=n.ll[0],i.y-=n.ll[1],i.x=ui(i.x-Math.PI)+Math.PI;var s=xX(i,n);if(e){if(isNaN(s.x))return r;s.x=i.x-s.x,s.y=i.y-s.y;var l=9,c=1e-12,a,f;do{if(f=xX(s,n),isNaN(f.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}a={x:i.x-(f.x+s.x),y:i.y-(f.y+s.y)},s.x+=a.x,s.y+=a.y}while(l--&&Math.abs(a.x)>c&&Math.abs(a.y)>c);if(l<0)return console.log("Inverse grid shift iterator failed to converge."),r;r.x=ui(s.x+n.ll[0]),r.y=s.y+n.ll[1]}else isNaN(s.x)||(r.x=t.x+s.x,r.y=t.y+s.y);return r}function xX(t,e){var n={x:t.x/e.del[0],y:t.y/e.del[1]},r={x:Math.floor(n.x),y:Math.floor(n.y)},i={x:n.x-1*r.x,y:n.y-1*r.y},s={x:Number.NaN,y:Number.NaN},l;if(r.x<0||r.x>=e.lim[0]||r.y<0||r.y>=e.lim[1])return s;l=r.y*e.lim[0]+r.x;var c={x:e.cvs[l][0],y:e.cvs[l][1]};l++;var a={x:e.cvs[l][0],y:e.cvs[l][1]};l+=e.lim[0];var f={x:e.cvs[l][0],y:e.cvs[l][1]};l--;var p={x:e.cvs[l][0],y:e.cvs[l][1]},m=i.x*i.y,v=i.x*(1-i.y),y=(1-i.x)*(1-i.y),T=(1-i.x)*i.y;return s.x=y*c.x+v*a.x+T*p.x+m*f.x,s.y=y*c.y+v*a.y+T*p.y+m*f.y,s}function CX(t,e,n){var r=n.x,i=n.y,s=n.z||0,l,c,a,f={};for(a=0;a<3;a++)if(!(e&&a===2&&n.z===void 0))switch(a===0?(l=r,"ew".indexOf(t.axis[a])!==-1?c="x":c="y"):a===1?(l=i,"ns".indexOf(t.axis[a])!==-1?c="y":c="x"):(l=s,c="z"),t.axis[a]){case"e":f[c]=l;break;case"w":f[c]=-l;break;case"n":f[c]=l;break;case"s":f[c]=-l;break;case"u":n[c]!==void 0&&(f.z=l);break;case"d":n[c]!==void 0&&(f.z=-l);break;default:return null}return f}function vhe(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function bdt(t){EX(t.x),EX(t.y)}function EX(t){if(typeof Number.isFinite=="function"){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if(typeof t!="number"||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function wdt(t,e){return(t.datum.datum_type===ky||t.datum.datum_type===Py||t.datum.datum_type===r2)&&e.datumCode!=="WGS84"||(e.datum.datum_type===ky||e.datum.datum_type===Py||e.datum.datum_type===r2)&&t.datumCode!=="WGS84"}function Y8(t,e,n,r){var i;Array.isArray(n)?n=vhe(n):n={x:n.x,y:n.y,z:n.z,m:n.m};var s=n.z!==void 0;if(bdt(n),t.datum&&e.datum&&wdt(t,e)&&(i=new ym("WGS84"),n=Y8(t,i,n,r),t=i),r&&t.axis!=="enu"&&(n=CX(t,!1,n)),t.projName==="longlat")n={x:n.x*rc,y:n.y*rc,z:n.z||0};else if(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter,z:n.z||0}),n=t.inverse(n),!n)return;if(t.from_greenwich&&(n.x+=t.from_greenwich),n=_dt(t.datum,e.datum,n),!!n)return e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y,z:n.z||0}),e.projName==="longlat"?n={x:n.x*hm,y:n.y*hm,z:n.z||0}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter,z:n.z||0})),r&&e.axis!=="enu"?CX(e,!0,n):(n&&!s&&delete n.z,n)}var SX=ym("WGS84");function _P(t,e,n,r){var i,s,l;return Array.isArray(n)?(i=Y8(t,e,n,r)||{x:NaN,y:NaN},n.length>2?typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"?typeof i.z=="number"?[i.x,i.y,i.z].concat(n.splice(3)):[i.x,i.y,n[2]].concat(n.splice(3)):[i.x,i.y].concat(n.splice(2)):[i.x,i.y]):(s=Y8(t,e,n,r),l=Object.keys(n),l.length===2||l.forEach(function(c){if(typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"){if(c==="x"||c==="y"||c==="z")return}else if(c==="x"||c==="y")return;s[c]=n[c]}),s)}function TX(t){return t instanceof ym?t:t.oProj?t.oProj:ym(t)}function $f(t,e,n){t=TX(t);var r=!1,i;return typeof e>"u"?(e=t,t=SX,r=!0):(typeof e.x<"u"||Array.isArray(e))&&(n=e,e=t,t=SX,r=!0),e=TX(e),n?_P(t,e,n):(i={forward:function(s,l){return _P(t,e,s,l)},inverse:function(s,l){return _P(e,t,s,l)}},r&&(i.oProj=e),i)}var BX=6,_he="AJSAJS",yhe="AFAFAF",Rw=65,Ph=73,gf=79,K4=86,W4=90;const xdt={forward:bhe,inverse:Cdt,toPoint:whe};function bhe(t,e){return e=e||5,Tdt(Edt({lat:t[1],lon:t[0]}),e)}function Cdt(t){var e=Sz(Che(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function whe(t){var e=Sz(Che(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function yP(t){return t*(Math.PI/180)}function MX(t){return 180*(t/Math.PI)}function Edt(t){var e=t.lat,n=t.lon,r=6378137,i=.00669438,s=.9996,l,c,a,f,p,m,v,y=yP(e),T=yP(n),C,k;k=Math.floor((n+180)/6)+1,n===180&&(k=60),e>=56&&e<64&&n>=3&&n<12&&(k=32),e>=72&&e<84&&(n>=0&&n<9?k=31:n>=9&&n<21?k=33:n>=21&&n<33?k=35:n>=33&&n<42&&(k=37)),l=(k-1)*6-180+3,C=yP(l),c=i/(1-i),a=r/Math.sqrt(1-i*Math.sin(y)*Math.sin(y)),f=Math.tan(y)*Math.tan(y),p=c*Math.cos(y)*Math.cos(y),m=Math.cos(y)*(T-C),v=r*((1-i/4-3*i*i/64-5*i*i*i/256)*y-(3*i/8+3*i*i/32+45*i*i*i/1024)*Math.sin(2*y)+(15*i*i/256+45*i*i*i/1024)*Math.sin(4*y)-35*i*i*i/3072*Math.sin(6*y));var M=s*a*(m+(1-f+p)*m*m*m/6+(5-18*f+f*f+72*p-58*c)*m*m*m*m*m/120)+5e5,P=s*(v+a*Math.tan(y)*(m*m/2+(5-f+9*p+4*p*p)*m*m*m*m/24+(61-58*f+f*f+600*p-330*c)*m*m*m*m*m*m/720));return e<0&&(P+=1e7),{northing:Math.round(P),easting:Math.round(M),zoneNumber:k,zoneLetter:Sdt(e)}}function Sz(t){var e=t.northing,n=t.easting,r=t.zoneLetter,i=t.zoneNumber;if(i<0||i>60)return null;var s=.9996,l=6378137,c=.00669438,a,f=(1-Math.sqrt(1-c))/(1+Math.sqrt(1-c)),p,m,v,y,T,C,k,M,P,R=n-5e5,N=e;r<"N"&&(N-=1e7),k=(i-1)*6-180+3,a=c/(1-c),C=N/s,M=C/(l*(1-c/4-3*c*c/64-5*c*c*c/256)),P=M+(3*f/2-27*f*f*f/32)*Math.sin(2*M)+(21*f*f/16-55*f*f*f*f/32)*Math.sin(4*M)+151*f*f*f/96*Math.sin(6*M),p=l/Math.sqrt(1-c*Math.sin(P)*Math.sin(P)),m=Math.tan(P)*Math.tan(P),v=a*Math.cos(P)*Math.cos(P),y=l*(1-c)/Math.pow(1-c*Math.sin(P)*Math.sin(P),1.5),T=R/(p*s);var z=P-p*Math.tan(P)/y*(T*T/2-(5+3*m+10*v-4*v*v-9*a)*T*T*T*T/24+(61+90*m+298*v+45*m*m-252*a-3*v*v)*T*T*T*T*T*T/720);z=MX(z);var H=(T-(1+2*m+v)*T*T*T/6+(5-2*v+28*m-3*v*v+8*a+24*m*m)*T*T*T*T*T/120)/Math.cos(P);H=k+MX(H);var j;if(t.accuracy){var Q=Sz({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});j={top:Q.lat,right:Q.lon,bottom:z,left:H}}else j={lat:z,lon:H};return j}function Sdt(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function Tdt(t,e){var n="00000"+t.easting,r="00000"+t.northing;return t.zoneNumber+t.zoneLetter+Bdt(t.easting,t.northing,t.zoneNumber)+n.substr(n.length-5,e)+r.substr(r.length-5,e)}function Bdt(t,e,n){var r=xhe(n),i=Math.floor(t/1e5),s=Math.floor(e/1e5)%20;return Mdt(i,s,r)}function xhe(t){var e=t%BX;return e===0&&(e=BX),e}function Mdt(t,e,n){var r=n-1,i=_he.charCodeAt(r),s=yhe.charCodeAt(r),l=i+t-1,c=s+e,a=!1;l>W4&&(l=l-W4+Rw-1,a=!0),(l===Ph||i<Ph&&l>Ph||(l>Ph||i<Ph)&&a)&&l++,(l===gf||i<gf&&l>gf||(l>gf||i<gf)&&a)&&(l++,l===Ph&&l++),l>W4&&(l=l-W4+Rw-1),c>K4?(c=c-K4+Rw-1,a=!0):a=!1,(c===Ph||s<Ph&&c>Ph||(c>Ph||s<Ph)&&a)&&c++,(c===gf||s<gf&&c>gf||(c>gf||s<gf)&&a)&&(c++,c===Ph&&c++),c>K4&&(c=c-K4+Rw-1);var f=String.fromCharCode(l)+String.fromCharCode(c);return f}function Che(t){if(t&&t.length===0)throw"MGRSPoint coverting from nothing";for(var e=t.length,n=null,r="",i,s=0;!/[A-Z]/.test(i=t.charAt(s));){if(s>=2)throw"MGRSPoint bad conversion from: "+t;r+=i,s++}var l=parseInt(r,10);if(s===0||s+3>e)throw"MGRSPoint bad conversion from: "+t;var c=t.charAt(s++);if(c<="A"||c==="B"||c==="Y"||c>="Z"||c==="I"||c==="O")throw"MGRSPoint zone letter "+c+" not handled: "+t;n=t.substring(s,s+=2);for(var a=xhe(l),f=Idt(n.charAt(0),a),p=Ldt(n.charAt(1),a);p<kdt(c);)p+=2e6;var m=e-s;if(m%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+t;var v=m/2,y=0,T=0,C,k,M,P,R;return v>0&&(C=1e5/Math.pow(10,v),k=t.substring(s,s+v),y=parseFloat(k)*C,M=t.substring(s+v),T=parseFloat(M)*C),P=y+f,R=T+p,{easting:P,northing:R,zoneLetter:c,zoneNumber:l,accuracy:C}}function Idt(t,e){for(var n=_he.charCodeAt(e-1),r=1e5,i=!1;n!==t.charCodeAt(0);){if(n++,n===Ph&&n++,n===gf&&n++,n>W4){if(i)throw"Bad character: "+t;n=Rw,i=!0}r+=1e5}return r}function Ldt(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var n=yhe.charCodeAt(e-1),r=0,i=!1;n!==t.charCodeAt(0);){if(n++,n===Ph&&n++,n===gf&&n++,n>K4){if(i)throw"Bad character: "+t;n=Rw,i=!0}r+=1e5}return r}function kdt(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function H2(t,e,n){if(!(this instanceof H2))return new H2(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if(typeof t=="object")this.x=t.x,this.y=t.y,this.z=t.z||0;else if(typeof t=="string"&&typeof e>"u"){var r=t.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}H2.fromMGRS=function(t){return new H2(whe(t))};H2.prototype.toMGRS=function(t){return bhe([this.x,this.y],t)};var Pdt=1,Fdt=.25,IX=.046875,LX=.01953125,kX=.01068115234375,Rdt=.75,Odt=.46875,Ddt=.013020833333333334,Ndt=.007120768229166667,Udt=.3645833333333333,zdt=.005696614583333333,$dt=.3076171875;function Ehe(t){var e=[];e[0]=Pdt-t*(Fdt+t*(IX+t*(LX+t*kX))),e[1]=t*(Rdt-t*(IX+t*(LX+t*kX)));var n=t*t;return e[2]=n*(Odt-t*(Ddt+t*Ndt)),n*=t,e[3]=n*(Udt-t*zdt),e[4]=n*t*$dt,e}function GM(t,e,n,r){return n*=e,e*=e,r[0]*t-n*(r[1]+e*(r[2]+e*(r[3]+e*r[4])))}var Vdt=20;function She(t,e,n){for(var r=1/(1-e),i=t,s=Vdt;s;--s){var l=Math.sin(i),c=1-e*l*l;if(c=(GM(i,l,Math.cos(i),n)-t)*(c*Math.sqrt(c))*r,i-=c,Math.abs(c)<ei)return i}return i}function Hdt(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=Ehe(this.es),this.ml0=GM(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function Qdt(t){var e=t.x,n=t.y,r=ui(e-this.long0),i,s,l,c=Math.sin(n),a=Math.cos(n);if(this.es){var p=a*r,m=Math.pow(p,2),v=this.ep2*Math.pow(a,2),y=Math.pow(v,2),T=Math.abs(a)>ei?Math.tan(n):0,C=Math.pow(T,2),k=Math.pow(C,2);i=1-this.es*Math.pow(c,2),p=p/Math.sqrt(i);var M=GM(n,c,a,this.en);s=this.a*(this.k0*p*(1+m/6*(1-C+v+m/20*(5-18*C+k+14*v-58*C*v+m/42*(61+179*k-k*C-479*C)))))+this.x0,l=this.a*(this.k0*(M-this.ml0+c*r*p/2*(1+m/12*(5-C+9*v+4*y+m/30*(61+k-58*C+270*v-330*C*v+m/56*(1385+543*k-k*C-3111*C))))))+this.y0}else{var f=a*Math.sin(r);if(Math.abs(Math.abs(f)-1)<ei)return 93;if(s=.5*this.a*this.k0*Math.log((1+f)/(1-f))+this.x0,l=a*Math.cos(r)/Math.sqrt(1-Math.pow(f,2)),f=Math.abs(l),f>=1){if(f-1>ei)return 93;l=0}else l=Math.acos(l);n<0&&(l=-l),l=this.a*this.k0*(l-this.lat0)+this.y0}return t.x=s,t.y=l,t}function jdt(t){var e,n,r,i,s=(t.x-this.x0)*(1/this.a),l=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+l/this.k0,n=She(e,this.es,this.en),Math.abs(n)<Lr){var m=Math.sin(n),v=Math.cos(n),y=Math.abs(v)>ei?Math.tan(n):0,T=this.ep2*Math.pow(v,2),C=Math.pow(T,2),k=Math.pow(y,2),M=Math.pow(k,2);e=1-this.es*Math.pow(m,2);var P=s*Math.sqrt(e)/this.k0,R=Math.pow(P,2);e=e*y,r=n-e*R/(1-this.es)*.5*(1-R/12*(5+3*k-9*T*k+T-4*C-R/30*(61+90*k-252*T*k+45*M+46*T-R/56*(1385+3633*k+4095*M+1574*M*k)))),i=ui(this.long0+P*(1-R/6*(1+2*k+T-R/20*(5+28*k+24*M+8*T*k+6*T-R/42*(61+662*k+1320*M+720*M*k))))/v)}else r=Lr*N5(l),i=0;else{var c=Math.exp(s/this.k0),a=.5*(c-1/c),f=this.lat0+l/this.k0,p=Math.cos(f);e=Math.sqrt((1-Math.pow(p,2))/(1+Math.pow(a,2))),r=Math.asin(e),l<0&&(r=-r),a===0&&p===0?i=0:i=ui(Math.atan2(a,p)+this.long0)}return t.x=i,t.y=r,t}var Gdt=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const LT={init:Hdt,forward:Qdt,inverse:jdt,names:Gdt};function The(t){var e=Math.exp(t);return e=(e-1/e)/2,e}function wf(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),r=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(r,2))}function Kdt(t){var e=1+t,n=e-1;return n===0?t:t*Math.log(e)/n}function Wdt(t){var e=Math.abs(t);return e=Kdt(e*(1+e/(wf(1,e)+1))),t<0?-e:e}function Tz(t,e){for(var n=2*Math.cos(2*e),r=t.length-1,i=t[r],s=0,l;--r>=0;)l=-s+n*i+t[r],s=i,i=l;return e+l*Math.sin(2*e)}function qdt(t,e){for(var n=2*Math.cos(e),r=t.length-1,i=t[r],s=0,l;--r>=0;)l=-s+n*i+t[r],s=i,i=l;return Math.sin(e)*l}function Ydt(t){var e=Math.exp(t);return e=(e+1/e)/2,e}function Bhe(t,e,n){for(var r=Math.sin(e),i=Math.cos(e),s=The(n),l=Ydt(n),c=2*i*l,a=-2*r*s,f=t.length-1,p=t[f],m=0,v=0,y=0,T,C;--f>=0;)T=v,C=m,v=p,m=y,p=-T+c*v-a*m+t[f],y=-C+a*v+c*m;return c=r*l,a=i*s,[c*p-a*y,c*y+a*p]}function Xdt(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(LT.init.apply(this),this.forward=LT.forward,this.inverse=LT.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675)))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))),n=n*e,this.cgb[1]=n*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945))))),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n=n*e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835)))),n=n*e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(-12/5+e*(-24832/14175))),n=n*e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n=n*e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360))))),n=n*e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n=n*e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n=n*e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n=n*e,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=n*(212378941/319334400);var r=Tz(this.cbg,this.lat0);this.Zb=-this.Qn*(r+qdt(this.gtu,2*r))}function Zdt(t){var e=ui(t.x-this.long0),n=t.y;n=Tz(this.cbg,n);var r=Math.sin(n),i=Math.cos(n),s=Math.sin(e),l=Math.cos(e);n=Math.atan2(r,l*i),e=Math.atan2(s*i,wf(r,i*l)),e=Wdt(Math.tan(e));var c=Bhe(this.gtu,2*n,2*e);n=n+c[0],e=e+c[1];var a,f;return Math.abs(e)<=2.623395162778?(a=this.a*(this.Qn*e)+this.x0,f=this.a*(this.Qn*n+this.Zb)+this.y0):(a=1/0,f=1/0),t.x=a,t.y=f,t}function Jdt(t){var e=(t.x-this.x0)*(1/this.a),n=(t.y-this.y0)*(1/this.a);n=(n-this.Zb)/this.Qn,e=e/this.Qn;var r,i;if(Math.abs(e)<=2.623395162778){var s=Bhe(this.utg,2*n,2*e);n=n+s[0],e=e+s[1],e=Math.atan(The(e));var l=Math.sin(n),c=Math.cos(n),a=Math.sin(e),f=Math.cos(e);n=Math.atan2(l*f,wf(a,f*c)),e=Math.atan2(a,f*c),r=ui(e+this.long0),i=Tz(this.cgb,n)}else r=1/0,i=1/0;return t.x=r,t.y=i,t}var eft=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const kT={init:Xdt,forward:Zdt,inverse:Jdt,names:eft};function tft(t,e){if(t===void 0){if(t=Math.floor((ui(e)+Math.PI)*30/Math.PI)+1,t<0)return 0;if(t>60)return 60}return t}var nft="etmerc";function rft(){var t=tft(this.zone,this.long0);if(t===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*rc,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,kT.init.apply(this),this.forward=kT.forward,this.inverse=kT.inverse}var ift=["Universal Transverse Mercator System","utm"];const aft={init:rft,names:ift,dependsOn:nft};function Bz(t,e){return Math.pow((1-t)/(1+t),e)}var sft=20;function oft(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+Ds)/(Math.pow(Math.tan(.5*this.lat0+Ds),this.C)*Bz(this.e*t,this.ratexp))}function lft(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+Ds),this.C)*Bz(this.e*Math.sin(n),this.ratexp))-Lr,t.x=this.C*e,t}function uft(t){for(var e=1e-14,n=t.x/this.C,r=t.y,i=Math.pow(Math.tan(.5*r+Ds)/this.K,1/this.C),s=sft;s>0&&(r=2*Math.atan(i*Bz(this.e*Math.sin(t.y),-.5*this.e))-Lr,!(Math.abs(r-t.y)<e));--s)t.y=r;return s?(t.x=n,t.y=r,t):null}var cft=["gauss"];const Mz={init:oft,forward:lft,inverse:uft,names:cft};function hft(){Mz.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function dft(t){var e,n,r,i;return t.x=ui(t.x-this.long0),Mz.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),r=Math.cos(t.x),i=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*r),t.x=i*n*Math.sin(t.x),t.y=i*(this.cosc0*e-this.sinc0*n*r),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function fft(t){var e,n,r,i,s;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,s=wf(t.x,t.y)){var l=2*Math.atan2(s,this.R2);e=Math.sin(l),n=Math.cos(l),i=Math.asin(n*this.sinc0+t.y*e*this.cosc0/s),r=Math.atan2(t.x*e,s*this.cosc0*n-t.y*this.sinc0*e)}else i=this.phic0,r=0;return t.x=r,t.y=i,Mz.inverse.apply(this,[t]),t.x=ui(t.x+this.long0),t}var pft=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const Aft={init:hft,forward:dft,inverse:fft,names:pft};function mft(t,e,n){return e*=n,Math.tan(.5*(Lr+t))*Math.pow((1-e)/(1+e),.5*n)}function gft(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=ei&&(this.k0=.5*(1+N5(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=ei&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=ei&&Math.abs(Math.cos(this.lat_ts))>ei&&(this.k0=.5*this.cons*Pm(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Jp(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Pm(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-Lr,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function vft(t){var e=t.x,n=t.y,r=Math.sin(n),i=Math.cos(n),s,l,c,a,f,p,m=ui(e-this.long0);return Math.abs(Math.abs(e-this.long0)-Math.PI)<=ei&&Math.abs(n+this.lat0)<=ei?(t.x=NaN,t.y=NaN,t):this.sphere?(s=2*this.k0/(1+this.sinlat0*r+this.coslat0*i*Math.cos(m)),t.x=this.a*s*i*Math.sin(m)+this.x0,t.y=this.a*s*(this.coslat0*r-this.sinlat0*i*Math.cos(m))+this.y0,t):(l=2*Math.atan(this.ssfn_(n,r,this.e))-Lr,a=Math.cos(l),c=Math.sin(l),Math.abs(this.coslat0)<=ei?(f=Jp(this.e,n*this.con,this.con*r),p=2*this.a*this.k0*f/this.cons,t.x=this.x0+p*Math.sin(e-this.long0),t.y=this.y0-this.con*p*Math.cos(e-this.long0),t):(Math.abs(this.sinlat0)<ei?(s=2*this.a*this.k0/(1+a*Math.cos(m)),t.y=s*c):(s=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*c+this.cosX0*a*Math.cos(m))),t.y=s*(this.cosX0*c-this.sinX0*a*Math.cos(m))+this.y0),t.x=s*a*Math.sin(m)+this.x0,t))}function _ft(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,i,s,l=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var c=2*Math.atan(l/(2*this.a*this.k0));return e=this.long0,n=this.lat0,l<=ei?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(c)*this.sinlat0+t.y*Math.sin(c)*this.coslat0/l),Math.abs(this.coslat0)<ei?this.lat0>0?e=ui(this.long0+Math.atan2(t.x,-1*t.y)):e=ui(this.long0+Math.atan2(t.x,t.y)):e=ui(this.long0+Math.atan2(t.x*Math.sin(c),l*this.coslat0*Math.cos(c)-t.y*this.sinlat0*Math.sin(c))),t.x=e,t.y=n,t)}else if(Math.abs(this.coslat0)<=ei){if(l<=ei)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,r=l*this.cons/(2*this.a*this.k0),n=this.con*j6(this.e,r),e=this.con*ui(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else i=2*Math.atan(l*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,l<=ei?s=this.X0:(s=Math.asin(Math.cos(i)*this.sinX0+t.y*Math.sin(i)*this.cosX0/l),e=ui(this.long0+Math.atan2(t.x*Math.sin(i),l*this.cosX0*Math.cos(i)-t.y*this.sinX0*Math.sin(i)))),n=-1*j6(this.e,Math.tan(.5*(Lr+s)));return t.x=e,t.y=n,t}var yft=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"];const bft={init:gft,forward:vft,inverse:_ft,names:yft,ssfn_:mft};function wft(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,r=this.rf,i=1/r,s=2*i-Math.pow(i,2),l=this.e=Math.sqrt(s);this.R=this.k0*n*Math.sqrt(1-s)/(1-s*Math.pow(e,2)),this.alpha=Math.sqrt(1+s/(1-s)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var c=Math.log(Math.tan(Math.PI/4+this.b0/2)),a=Math.log(Math.tan(Math.PI/4+t/2)),f=Math.log((1+l*e)/(1-l*e));this.K=c-this.alpha*a+this.alpha*l/2*f}function xft(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),r=-this.alpha*(e+n)+this.K,i=2*(Math.atan(Math.exp(r))-Math.PI/4),s=this.alpha*(t.x-this.lambda0),l=Math.atan(Math.sin(s)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(s))),c=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(s));return t.y=this.R/2*Math.log((1+Math.sin(c))/(1-Math.sin(c)))+this.y0,t.x=this.R*l+this.x0,t}function Cft(t){for(var e=t.x-this.x0,n=t.y-this.y0,r=e/this.R,i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),s=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r)),l=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i))),c=this.lambda0+l/this.alpha,a=0,f=s,p=-1e3,m=0;Math.abs(f-p)>1e-7;){if(++m>20)return;a=1/this.alpha*(Math.log(Math.tan(Math.PI/4+s/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(f))/2)),p=f,f=2*Math.atan(Math.exp(a))-Math.PI/2}return t.x=c,t.y=f,t}var Eft=["somerc"];const Sft={init:wft,forward:xft,inverse:Cft,names:Eft};var yw=1e-7;function Tft(t){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],n=typeof t.PROJECTION=="object"?Object.keys(t.PROJECTION)[0]:t.PROJECTION;return"no_uoff"in t||"no_off"in t||e.indexOf(n)!==-1}function Bft(){var t,e,n,r,i,s,l,c,a,f,p=0,m,v=0,y=0,T=0,C=0,k=0,M=0;this.no_off=Tft(this),this.no_rot="no_rot"in this;var P=!1;"alpha"in this&&(P=!0);var R=!1;if("rectified_grid_angle"in this&&(R=!0),P&&(M=this.alpha),R&&(p=this.rectified_grid_angle*rc),P||R)v=this.longc;else if(y=this.long1,C=this.lat1,T=this.long2,k=this.lat2,Math.abs(C-k)<=yw||(t=Math.abs(C))<=yw||Math.abs(t-Lr)<=yw||Math.abs(Math.abs(this.lat0)-Lr)<=yw||Math.abs(Math.abs(k)-Lr)<=yw)throw new Error;var N=1-this.es;e=Math.sqrt(N),Math.abs(this.lat0)>ei?(c=Math.sin(this.lat0),n=Math.cos(this.lat0),t=1-this.es*c*c,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/N),this.A=this.B*this.k0*e/t,r=this.B*e/(n*Math.sqrt(t)),i=r*r-1,i<=0?i=0:(i=Math.sqrt(i),this.lat0<0&&(i=-i)),this.E=i+=r,this.E*=Math.pow(Jp(this.e,this.lat0,c),this.B)):(this.B=1/e,this.A=this.k0,this.E=r=i=1),P||R?(P?(m=Math.asin(Math.sin(M)/r),R||(p=M)):(m=p,M=Math.asin(r*Math.sin(m))),this.lam0=v-Math.asin(.5*(i-1/i)*Math.tan(m))/this.B):(s=Math.pow(Jp(this.e,C,Math.sin(C)),this.B),l=Math.pow(Jp(this.e,k,Math.sin(k)),this.B),i=this.E/s,a=(l-s)/(l+s),f=this.E*this.E,f=(f-l*s)/(f+l*s),t=y-T,t<-Math.pi?T-=H6:t>Math.pi&&(T+=H6),this.lam0=ui(.5*(y+T)-Math.atan(f*Math.tan(.5*this.B*(y-T))/a)/this.B),m=Math.atan(2*Math.sin(this.B*ui(y-this.lam0))/(i-1/i)),p=M=Math.asin(r*Math.sin(m))),this.singam=Math.sin(m),this.cosgam=Math.cos(m),this.sinrot=Math.sin(p),this.cosrot=Math.cos(p),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(r*r-1)/Math.cos(M))),this.lat0<0&&(this.u_0=-this.u_0)),i=.5*m,this.v_pole_n=this.ArB*Math.log(Math.tan(Ds-i)),this.v_pole_s=this.ArB*Math.log(Math.tan(Ds+i))}function Mft(t){var e={},n,r,i,s,l,c,a,f;if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-Lr)>ei){if(l=this.E/Math.pow(Jp(this.e,t.y,Math.sin(t.y)),this.B),c=1/l,n=.5*(l-c),r=.5*(l+c),s=Math.sin(this.B*t.x),i=(n*this.singam-s*this.cosgam)/r,Math.abs(Math.abs(i)-1)<ei)throw new Error;f=.5*this.ArB*Math.log((1-i)/(1+i)),c=Math.cos(this.B*t.x),Math.abs(c)<yw?a=this.A*t.x:a=this.ArB*Math.atan2(n*this.cosgam+s*this.singam,c)}else f=t.y>0?this.v_pole_n:this.v_pole_s,a=this.ArB*t.y;return this.no_rot?(e.x=a,e.y=f):(a-=this.u_0,e.x=f*this.cosrot+a*this.sinrot,e.y=a*this.cosrot-f*this.sinrot),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function Ift(t){var e,n,r,i,s,l,c,a={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(n=t.y,e=t.x):(n=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),r=Math.exp(-this.BrA*n),i=.5*(r-1/r),s=.5*(r+1/r),l=Math.sin(this.BrA*e),c=(l*this.cosgam+i*this.singam)/s,Math.abs(Math.abs(c)-1)<ei)a.x=0,a.y=c<0?-Lr:Lr;else{if(a.y=this.E/Math.sqrt((1+c)/(1-c)),a.y=j6(this.e,Math.pow(a.y,1/this.B)),a.y===1/0)throw new Error;a.x=-this.rB*Math.atan2(i*this.cosgam-l*this.singam,Math.cos(this.BrA*e))}return a.x+=this.lam0,a}var Lft=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const kft={init:Bft,forward:Mft,inverse:Ift,names:Lft};function Pft(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<ei)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),r=Pm(this.e,e,n),i=Jp(this.e,this.lat1,e),s=Math.sin(this.lat2),l=Math.cos(this.lat2),c=Pm(this.e,s,l),a=Jp(this.e,this.lat2,s),f=Jp(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>ei?this.ns=Math.log(r/c)/Math.log(i/a):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=r/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(f,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function Fft(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=ei&&(n=N5(n)*(Lr-2*ei));var r=Math.abs(Math.abs(n)-Lr),i,s;if(r>ei)i=Jp(this.e,n,Math.sin(n)),s=this.a*this.f0*Math.pow(i,this.ns);else{if(r=n*this.ns,r<=0)return null;s=0}var l=this.ns*ui(e-this.long0);return t.x=this.k0*(s*Math.sin(l))+this.x0,t.y=this.k0*(this.rh-s*Math.cos(l))+this.y0,t}function Rft(t){var e,n,r,i,s,l=(t.x-this.x0)/this.k0,c=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(l*l+c*c),n=1):(e=-Math.sqrt(l*l+c*c),n=-1);var a=0;if(e!==0&&(a=Math.atan2(n*l,n*c)),e!==0||this.ns>0){if(n=1/this.ns,r=Math.pow(e/(this.a*this.f0),n),i=j6(this.e,r),i===-9999)return null}else i=-Lr;return s=ui(a/this.ns+this.long0),t.x=s,t.y=i,t}var Oft=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const Dft={init:Pft,forward:Fft,inverse:Rft,names:Oft};function Nft(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function Uft(t){var e,n,r,i,s,l,c,a=t.x,f=t.y,p=ui(a-this.long0);return e=Math.pow((1+this.e*Math.sin(f))/(1-this.e*Math.sin(f)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(f/2+this.s45),this.alfa)/e)-this.s45),r=-p*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),s=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(i)),l=this.n*s,c=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),t.y=c*Math.cos(l)/1,t.x=c*Math.sin(l)/1,this.czech||(t.y*=-1,t.x*=-1),t}function zft(t){var e,n,r,i,s,l,c,a,f=t.x;t.x=t.y,t.y=f,this.czech||(t.y*=-1,t.x*=-1),l=Math.sqrt(t.x*t.x+t.y*t.y),s=Math.atan2(t.y,t.x),i=s/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/l,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(e)),t.x=this.long0-n/this.alfa,c=e,a=0;var p=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.e/2))-this.s45),Math.abs(c-t.y)<1e-10&&(a=1),c=t.y,p+=1;while(a===0&&p<15);return p>=15?null:t}var $ft=["Krovak","krovak"];const Vft={init:Nft,forward:Uft,inverse:zft,names:$ft};function sh(t,e,n,r,i){return t*i-e*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)}function U5(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function z5(t){return .375*t*(1+.25*t*(1+.46875*t))}function $5(t){return .05859375*t*t*(1+.75*t)}function V5(t){return t*t*t*(35/3072)}function Q2(t,e,n){var r=e*n;return t/Math.sqrt(1-r*r)}function vx(t){return Math.abs(t)<Lr?t:t-N5(t)*Math.PI}function X8(t,e,n,r,i){var s,l;s=t/e;for(var c=0;c<15;c++)if(l=(t-(e*s-n*Math.sin(2*s)+r*Math.sin(4*s)-i*Math.sin(6*s)))/(e-2*n*Math.cos(2*s)+4*r*Math.cos(4*s)-6*i*Math.cos(6*s)),s+=l,Math.abs(l)<=1e-10)return s;return NaN}function Hft(){this.sphere||(this.e0=U5(this.es),this.e1=z5(this.es),this.e2=$5(this.es),this.e3=V5(this.es),this.ml0=this.a*sh(this.e0,this.e1,this.e2,this.e3,this.lat0))}function Qft(t){var e,n,r=t.x,i=t.y;if(r=ui(r-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(i)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(i),Math.cos(r))-this.lat0);else{var s=Math.sin(i),l=Math.cos(i),c=Q2(this.a,this.e,s),a=Math.tan(i)*Math.tan(i),f=r*Math.cos(i),p=f*f,m=this.es*l*l/(1-this.es),v=this.a*sh(this.e0,this.e1,this.e2,this.e3,i);e=c*f*(1-p*a*(1/6-(8-a+8*m)*p/120)),n=v-this.ml0+c*s/l*p*(.5+(5-a+6*m)*p/24)}return t.x=e+this.x0,t.y=n+this.y0,t}function jft(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,n=t.y/this.a,r,i;if(this.sphere){var s=n+this.lat0;r=Math.asin(Math.sin(s)*Math.cos(e)),i=Math.atan2(Math.tan(e),Math.cos(s))}else{var l=this.ml0/this.a+n,c=X8(l,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(c)-Lr)<=ei)return t.x=this.long0,t.y=Lr,n<0&&(t.y*=-1),t;var a=Q2(this.a,this.e,Math.sin(c)),f=a*a*a/this.a/this.a*(1-this.es),p=Math.pow(Math.tan(c),2),m=e*this.a/a,v=m*m;r=c-a*Math.tan(c)/f*m*m*(.5-(1+3*p)*m*m/24),i=m*(1-v*(p/3+(1+3*p)*p*v/15))/Math.cos(c)}return t.x=ui(i+this.long0),t.y=vx(r),t}var Gft=["Cassini","Cassini_Soldner","cass"];const Kft={init:Hft,forward:Qft,inverse:jft,names:Gft};function s1(t,e){var n;return t>1e-7?(n=t*e,(1-t*t)*(e/(1-n*n)-.5/t*Math.log((1-n)/(1+n)))):2*e}var Wft=1,qft=2,Yft=3,Xft=4;function Zft(){var t=Math.abs(this.lat0);if(Math.abs(t-Lr)<ei?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<ei?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=s1(this.e,1),this.mmf=.5/(1-this.es),this.apa=opt(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=s1(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function Jft(t){var e,n,r,i,s,l,c,a,f,p,m=t.x,v=t.y;if(m=ui(m-this.long0),this.sphere){if(s=Math.sin(v),p=Math.cos(v),r=Math.cos(m),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(n=this.mode===this.EQUIT?1+p*r:1+this.sinph0*s+this.cosph0*p*r,n<=ei)return null;n=Math.sqrt(2/n),e=n*p*Math.sin(m),n*=this.mode===this.EQUIT?s:this.cosph0*s-this.sinph0*p*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(v+this.lat0)<ei)return null;n=Ds-v*.5,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),e=n*Math.sin(m),n*=r}}else{switch(c=0,a=0,f=0,r=Math.cos(m),i=Math.sin(m),s=Math.sin(v),l=s1(this.e,s),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(c=l/this.qp,a=Math.sqrt(1-c*c)),this.mode){case this.OBLIQ:f=1+this.sinb1*c+this.cosb1*a*r;break;case this.EQUIT:f=1+a*r;break;case this.N_POLE:f=Lr+v,l=this.qp-l;break;case this.S_POLE:f=v-Lr,l=this.qp+l;break}if(Math.abs(f)<ei)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:f=Math.sqrt(2/f),this.mode===this.OBLIQ?n=this.ymf*f*(this.cosb1*c-this.sinb1*a*r):n=(f=Math.sqrt(2/(1+a*r)))*c*this.ymf,e=this.xmf*f*a*i;break;case this.N_POLE:case this.S_POLE:l>=0?(e=(f=Math.sqrt(l))*i,n=r*(this.mode===this.S_POLE?f:-f)):e=n=0;break}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t}function ept(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,n=t.y/this.a,r,i,s,l,c,a,f;if(this.sphere){var p=0,m,v=0;if(m=Math.sqrt(e*e+n*n),i=m*.5,i>1)return null;switch(i=2*Math.asin(i),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(v=Math.sin(i),p=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(m)<=ei?0:Math.asin(n*v/m),e*=v,n=p*m;break;case this.OBLIQ:i=Math.abs(m)<=ei?this.lat0:Math.asin(p*this.sinph0+n*v*this.cosph0/m),e*=v*this.cosph0,n=(p-Math.sin(i)*this.sinph0)*m;break;case this.N_POLE:n=-n,i=Lr-i;break;case this.S_POLE:i-=Lr;break}r=n===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,n)}else{if(f=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(e/=this.dd,n*=this.dd,a=Math.sqrt(e*e+n*n),a<ei)return t.x=this.long0,t.y=this.lat0,t;l=2*Math.asin(.5*a/this.rq),s=Math.cos(l),e*=l=Math.sin(l),this.mode===this.OBLIQ?(f=s*this.sinb1+n*l*this.cosb1/a,c=this.qp*f,n=a*this.cosb1*s-n*this.sinb1*l):(f=n*l/a,c=this.qp*f,n=a*s)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),c=e*e+n*n,!c)return t.x=this.long0,t.y=this.lat0,t;f=1-c/this.qp,this.mode===this.S_POLE&&(f=-f)}r=Math.atan2(e,n),i=lpt(Math.asin(f),this.apa)}return t.x=ui(this.long0+r),t.y=i,t}var tpt=.3333333333333333,npt=.17222222222222222,rpt=.10257936507936508,ipt=.06388888888888888,apt=.0664021164021164,spt=.016415012942191543;function opt(t){var e,n=[];return n[0]=t*tpt,e=t*t,n[0]+=e*npt,n[1]=e*ipt,e*=t,n[0]+=e*rpt,n[1]+=e*apt,n[2]=e*spt,n}function lpt(t,e){var n=t+t;return t+e[0]*Math.sin(n)+e[1]*Math.sin(n+n)+e[2]*Math.sin(n+n+n)}var upt=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const cpt={init:Zft,forward:Jft,inverse:ept,names:upt,S_POLE:Wft,N_POLE:qft,EQUIT:Yft,OBLIQ:Xft};function b1(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}function hpt(){Math.abs(this.lat1+this.lat2)<ei||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Pm(this.e3,this.sin_po,this.cos_po),this.qs1=s1(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Pm(this.e3,this.sin_po,this.cos_po),this.qs2=s1(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=s1(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>ei?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function dpt(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=s1(this.e3,this.sin_phi),i=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,s=this.ns0*ui(e-this.long0),l=i*Math.sin(s)+this.x0,c=this.rh-i*Math.cos(s)+this.y0;return t.x=l,t.y=c,t}function fpt(t){var e,n,r,i,s,l;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),r=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),r=-1),i=0,e!==0&&(i=Math.atan2(r*t.x,r*t.y)),r=e*this.ns0/this.a,this.sphere?l=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,l=this.phi1z(this.e3,n)),s=ui(i/this.ns0+this.long0),t.x=s,t.y=l,t}function ppt(t,e){var n,r,i,s,l,c=b1(.5*e);if(t<ei)return c;for(var a=t*t,f=1;f<=25;f++)if(n=Math.sin(c),r=Math.cos(c),i=t*n,s=1-i*i,l=.5*s*s/r*(e/(1-a)-n/s+.5/t*Math.log((1-i)/(1+i))),c=c+l,Math.abs(l)<=1e-7)return c;return null}var Apt=["Albers_Conic_Equal_Area","Albers","aea"];const mpt={init:hpt,forward:dpt,inverse:fpt,names:Apt,phi1z:ppt};function gpt(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function vpt(t){var e,n,r,i,s,l,c,a,f=t.x,p=t.y;return r=ui(f-this.long0),e=Math.sin(p),n=Math.cos(p),i=Math.cos(r),l=this.sin_p14*e+this.cos_p14*n*i,s=1,l>0||Math.abs(l)<=ei?(c=this.x0+this.a*s*n*Math.sin(r)/l,a=this.y0+this.a*s*(this.cos_p14*e-this.sin_p14*n*i)/l):(c=this.x0+this.infinity_dist*n*Math.sin(r),a=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*i)),t.x=c,t.y=a,t}function _pt(t){var e,n,r,i,s,l;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(i=Math.atan2(e,this.rc),n=Math.sin(i),r=Math.cos(i),l=b1(r*this.sin_p14+t.y*n*this.cos_p14/e),s=Math.atan2(t.x*n,e*this.cos_p14*r-t.y*this.sin_p14*n),s=ui(this.long0+s)):(l=this.phic0,s=0),t.x=s,t.y=l,t}var ypt=["gnom"];const bpt={init:gpt,forward:vpt,inverse:_pt,names:ypt};function wpt(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*Lr:Lr;for(var r=Math.asin(.5*e),i,s,l,c,a=0;a<30;a++)if(s=Math.sin(r),l=Math.cos(r),c=t*s,i=Math.pow(1-c*c,2)/(2*l)*(e/(1-t*t)-s/(1-c*c)+.5/t*Math.log((1-c)/(1+c))),r+=i,Math.abs(i)<=1e-10)return r;return NaN}function xpt(){this.sphere||(this.k0=Pm(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function Cpt(t){var e=t.x,n=t.y,r,i,s=ui(e-this.long0);if(this.sphere)r=this.x0+this.a*s*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(n)/Math.cos(this.lat_ts);else{var l=s1(this.e,Math.sin(n));r=this.x0+this.a*this.k0*s,i=this.y0+this.a*l*.5/this.k0}return t.x=r,t.y=i,t}function Ept(t){t.x-=this.x0,t.y-=this.y0;var e,n;return this.sphere?(e=ui(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=wpt(this.e,2*t.y*this.k0/this.a),e=ui(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t}var Spt=["cea"];const Tpt={init:xpt,forward:Cpt,inverse:Ept,names:Spt};function Bpt(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function Mpt(t){var e=t.x,n=t.y,r=ui(e-this.long0),i=vx(n-this.lat0);return t.x=this.x0+this.a*r*this.rc,t.y=this.y0+this.a*i,t}function Ipt(t){var e=t.x,n=t.y;return t.x=ui(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=vx(this.lat0+(n-this.y0)/this.a),t}var Lpt=["Equirectangular","Equidistant_Cylindrical","eqc"];const kpt={init:Bpt,forward:Mpt,inverse:Ipt,names:Lpt};var PX=20;function Ppt(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=U5(this.es),this.e1=z5(this.es),this.e2=$5(this.es),this.e3=V5(this.es),this.ml0=this.a*sh(this.e0,this.e1,this.e2,this.e3,this.lat0)}function Fpt(t){var e=t.x,n=t.y,r,i,s,l=ui(e-this.long0);if(s=l*Math.sin(n),this.sphere)Math.abs(n)<=ei?(r=this.a*l,i=-1*this.a*this.lat0):(r=this.a*Math.sin(s)/Math.tan(n),i=this.a*(vx(n-this.lat0)+(1-Math.cos(s))/Math.tan(n)));else if(Math.abs(n)<=ei)r=this.a*l,i=-1*this.ml0;else{var c=Q2(this.a,this.e,Math.sin(n))/Math.tan(n);r=c*Math.sin(s),i=this.a*sh(this.e0,this.e1,this.e2,this.e3,n)-this.ml0+c*(1-Math.cos(s))}return t.x=r+this.x0,t.y=i+this.y0,t}function Rpt(t){var e,n,r,i,s,l,c,a,f;if(r=t.x-this.x0,i=t.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=ei)e=ui(r/this.a+this.long0),n=0;else{l=this.lat0+i/this.a,c=r*r/this.a/this.a+l*l,a=l;var p;for(s=PX;s;--s)if(p=Math.tan(a),f=-1*(l*(a*p+1)-a-.5*(a*a+c)*p)/((a-l)/p-1),a+=f,Math.abs(f)<=ei){n=a;break}e=ui(this.long0+Math.asin(r*Math.tan(a)/this.a)/Math.sin(n))}else if(Math.abs(i+this.ml0)<=ei)n=0,e=ui(this.long0+r/this.a);else{l=(this.ml0+i)/this.a,c=r*r/this.a/this.a+l*l,a=l;var m,v,y,T,C;for(s=PX;s;--s)if(C=this.e*Math.sin(a),m=Math.sqrt(1-C*C)*Math.tan(a),v=this.a*sh(this.e0,this.e1,this.e2,this.e3,a),y=this.e0-2*this.e1*Math.cos(2*a)+4*this.e2*Math.cos(4*a)-6*this.e3*Math.cos(6*a),T=v/this.a,f=(l*(m*T+1)-T-.5*m*(T*T+c))/(this.es*Math.sin(2*a)*(T*T+c-2*l*T)/(4*m)+(l-T)*(m*y-2/Math.sin(2*a))-y),a-=f,Math.abs(f)<=ei){n=a;break}m=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=ui(this.long0+Math.asin(r*m/this.a)/Math.sin(n))}return t.x=e,t.y=n,t}var Opt=["Polyconic","poly"];const Dpt={init:Ppt,forward:Fpt,inverse:Rpt,names:Opt};function Npt(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function Upt(t){var e,n=t.x,r=t.y,i=r-this.lat0,s=n-this.long0,l=i/kC*1e-5,c=s,a=1,f=0;for(e=1;e<=10;e++)a=a*l,f=f+this.A[e]*a;var p=f,m=c,v=1,y=0,T,C,k=0,M=0;for(e=1;e<=6;e++)T=v*p-y*m,C=y*p+v*m,v=T,y=C,k=k+this.B_re[e]*v-this.B_im[e]*y,M=M+this.B_im[e]*v+this.B_re[e]*y;return t.x=M*this.a+this.x0,t.y=k*this.a+this.y0,t}function zpt(t){var e,n=t.x,r=t.y,i=n-this.x0,s=r-this.y0,l=s/this.a,c=i/this.a,a=1,f=0,p,m,v=0,y=0;for(e=1;e<=6;e++)p=a*l-f*c,m=f*l+a*c,a=p,f=m,v=v+this.C_re[e]*a-this.C_im[e]*f,y=y+this.C_im[e]*a+this.C_re[e]*f;for(var T=0;T<this.iterations;T++){var C=v,k=y,M,P,R=l,N=c;for(e=2;e<=6;e++)M=C*v-k*y,P=k*v+C*y,C=M,k=P,R=R+(e-1)*(this.B_re[e]*C-this.B_im[e]*k),N=N+(e-1)*(this.B_im[e]*C+this.B_re[e]*k);C=1,k=0;var z=this.B_re[1],H=this.B_im[1];for(e=2;e<=6;e++)M=C*v-k*y,P=k*v+C*y,C=M,k=P,z=z+e*(this.B_re[e]*C-this.B_im[e]*k),H=H+e*(this.B_im[e]*C+this.B_re[e]*k);var j=z*z+H*H;v=(R*z+N*H)/j,y=(N*z-R*H)/j}var Q=v,G=y,ie=1,q=0;for(e=1;e<=9;e++)ie=ie*Q,q=q+this.D[e]*ie;var W=this.lat0+q*kC*1e5,ee=this.long0+G;return t.x=ee,t.y=W,t}var $pt=["New_Zealand_Map_Grid","nzmg"];const Vpt={init:Npt,forward:Upt,inverse:zpt,names:$pt};function Hpt(){}function Qpt(t){var e=t.x,n=t.y,r=ui(e-this.long0),i=this.x0+this.a*r,s=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=i,t.y=s,t}function jpt(t){t.x-=this.x0,t.y-=this.y0;var e=ui(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t}var Gpt=["Miller_Cylindrical","mill"];const Kpt={init:Hpt,forward:Qpt,inverse:jpt,names:Gpt};var Wpt=20;function qpt(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Ehe(this.es)}function Ypt(t){var e,n,r=t.x,i=t.y;if(r=ui(r-this.long0),this.sphere){if(!this.m)i=this.n!==1?Math.asin(this.n*Math.sin(i)):i;else for(var s=this.n*Math.sin(i),l=Wpt;l;--l){var c=(this.m*i+Math.sin(i)-s)/(this.m+Math.cos(i));if(i-=c,Math.abs(c)<ei)break}e=this.a*this.C_x*r*(this.m+Math.cos(i)),n=this.a*this.C_y*i}else{var a=Math.sin(i),f=Math.cos(i);n=this.a*GM(i,a,f,this.en),e=this.a*r*f/Math.sqrt(1-this.es*a*a)}return t.x=e,t.y=n,t}function Xpt(t){var e,n,r,i;return t.x-=this.x0,r=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,r=r/(this.C_x*(this.m+Math.cos(e))),this.m?e=b1((this.m*e+Math.sin(e))/this.n):this.n!==1&&(e=b1(Math.sin(e)/this.n)),r=ui(r+this.long0),e=vx(e)):(e=She(t.y/this.a,this.es,this.en),i=Math.abs(e),i<Lr?(i=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(e)),r=ui(n)):i-ei<Lr&&(r=this.long0)),t.x=r,t.y=e,t}var Zpt=["Sinusoidal","sinu"];const Jpt={init:qpt,forward:Ypt,inverse:Xpt,names:Zpt};function eAt(){}function tAt(t){for(var e=t.x,n=t.y,r=ui(e-this.long0),i=n,s=Math.PI*Math.sin(n);;){var l=-(i+Math.sin(i)-s)/(1+Math.cos(i));if(i+=l,Math.abs(l)<ei)break}i/=2,Math.PI/2-Math.abs(n)<ei&&(r=0);var c=.900316316158*this.a*r*Math.cos(i)+this.x0,a=1.4142135623731*this.a*Math.sin(i)+this.y0;return t.x=c,t.y=a,t}function nAt(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var r=ui(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var i=Math.asin(n);return t.x=r,t.y=i,t}var rAt=["Mollweide","moll"];const iAt={init:eAt,forward:tAt,inverse:nAt,names:rAt};function aAt(){Math.abs(this.lat1+this.lat2)<ei||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=U5(this.es),this.e1=z5(this.es),this.e2=$5(this.es),this.e3=V5(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=Pm(this.e,this.sinphi,this.cosphi),this.ml1=sh(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<ei?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=Pm(this.e,this.sinphi,this.cosphi),this.ml2=sh(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=sh(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function sAt(t){var e=t.x,n=t.y,r;if(this.sphere)r=this.a*(this.g-n);else{var i=sh(this.e0,this.e1,this.e2,this.e3,n);r=this.a*(this.g-i)}var s=this.ns*ui(e-this.long0),l=this.x0+r*Math.sin(s),c=this.y0+this.rh-r*Math.cos(s);return t.x=l,t.y=c,t}function oAt(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,n,r,i;this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var s=0;if(n!==0&&(s=Math.atan2(e*t.x,e*t.y)),this.sphere)return i=ui(this.long0+s/this.ns),r=vx(this.g-n/this.a),t.x=i,t.y=r,t;var l=this.g-n/this.a;return r=X8(l,this.e0,this.e1,this.e2,this.e3),i=ui(this.long0+s/this.ns),t.x=i,t.y=r,t}var lAt=["Equidistant_Conic","eqdc"];const uAt={init:aAt,forward:sAt,inverse:oAt,names:lAt};function cAt(){this.R=this.a}function hAt(t){var e=t.x,n=t.y,r=ui(e-this.long0),i,s;Math.abs(n)<=ei&&(i=this.x0+this.R*r,s=this.y0);var l=b1(2*Math.abs(n/Math.PI));(Math.abs(r)<=ei||Math.abs(Math.abs(n)-Lr)<=ei)&&(i=this.x0,n>=0?s=this.y0+Math.PI*this.R*Math.tan(.5*l):s=this.y0+Math.PI*this.R*-Math.tan(.5*l));var c=.5*Math.abs(Math.PI/r-r/Math.PI),a=c*c,f=Math.sin(l),p=Math.cos(l),m=p/(f+p-1),v=m*m,y=m*(2/f-1),T=y*y,C=Math.PI*this.R*(c*(m-T)+Math.sqrt(a*(m-T)*(m-T)-(T+a)*(v-T)))/(T+a);r<0&&(C=-C),i=this.x0+C;var k=a+m;return C=Math.PI*this.R*(y*k-c*Math.sqrt((T+a)*(a+1)-k*k))/(T+a),n>=0?s=this.y0+C:s=this.y0-C,t.x=i,t.y=s,t}function dAt(t){var e,n,r,i,s,l,c,a,f,p,m,v,y;return t.x-=this.x0,t.y-=this.y0,m=Math.PI*this.R,r=t.x/m,i=t.y/m,s=r*r+i*i,l=-Math.abs(i)*(1+s),c=l-2*i*i+r*r,a=-2*l+1+2*i*i+s*s,y=i*i/a+(2*c*c*c/a/a/a-9*l*c/a/a)/27,f=(l-c*c/3/a)/a,p=2*Math.sqrt(-f/3),m=3*y/f/p,Math.abs(m)>1&&(m>=0?m=1:m=-1),v=Math.acos(m)/3,t.y>=0?n=(-p*Math.cos(v+Math.PI/3)-c/3/a)*Math.PI:n=-(-p*Math.cos(v+Math.PI/3)-c/3/a)*Math.PI,Math.abs(r)<ei?e=this.long0:e=ui(this.long0+Math.PI*(s-1+Math.sqrt(1+2*(r*r-i*i)+s*s))/2/r),t.x=e,t.y=n,t}var fAt=["Van_der_Grinten_I","VanDerGrinten","vandg"];const pAt={init:cAt,forward:hAt,inverse:dAt,names:fAt};function AAt(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function mAt(t){var e=t.x,n=t.y,r=Math.sin(t.y),i=Math.cos(t.y),s=ui(e-this.long0),l,c,a,f,p,m,v,y,T,C,k,M,P,R,N,z,H,j,Q,G,ie,q,W;return this.sphere?Math.abs(this.sin_p12-1)<=ei?(t.x=this.x0+this.a*(Lr-n)*Math.sin(s),t.y=this.y0-this.a*(Lr-n)*Math.cos(s),t):Math.abs(this.sin_p12+1)<=ei?(t.x=this.x0+this.a*(Lr+n)*Math.sin(s),t.y=this.y0+this.a*(Lr+n)*Math.cos(s),t):(j=this.sin_p12*r+this.cos_p12*i*Math.cos(s),z=Math.acos(j),H=z?z/Math.sin(z):1,t.x=this.x0+this.a*H*i*Math.sin(s),t.y=this.y0+this.a*H*(this.cos_p12*r-this.sin_p12*i*Math.cos(s)),t):(l=U5(this.es),c=z5(this.es),a=$5(this.es),f=V5(this.es),Math.abs(this.sin_p12-1)<=ei?(p=this.a*sh(l,c,a,f,Lr),m=this.a*sh(l,c,a,f,n),t.x=this.x0+(p-m)*Math.sin(s),t.y=this.y0-(p-m)*Math.cos(s),t):Math.abs(this.sin_p12+1)<=ei?(p=this.a*sh(l,c,a,f,Lr),m=this.a*sh(l,c,a,f,n),t.x=this.x0+(p+m)*Math.sin(s),t.y=this.y0+(p+m)*Math.cos(s),t):(v=r/i,y=Q2(this.a,this.e,this.sin_p12),T=Q2(this.a,this.e,r),C=Math.atan((1-this.es)*v+this.es*y*this.sin_p12/(T*i)),k=Math.atan2(Math.sin(s),this.cos_p12*Math.tan(C)-this.sin_p12*Math.cos(s)),k===0?Q=Math.asin(this.cos_p12*Math.sin(C)-this.sin_p12*Math.cos(C)):Math.abs(Math.abs(k)-Math.PI)<=ei?Q=-Math.asin(this.cos_p12*Math.sin(C)-this.sin_p12*Math.cos(C)):Q=Math.asin(Math.sin(s)*Math.cos(C)/Math.sin(k)),M=this.e*this.sin_p12/Math.sqrt(1-this.es),P=this.e*this.cos_p12*Math.cos(k)/Math.sqrt(1-this.es),R=M*P,N=P*P,G=Q*Q,ie=G*Q,q=ie*Q,W=q*Q,z=y*Q*(1-G*N*(1-N)/6+ie/8*R*(1-2*N)+q/120*(N*(4-7*N)-3*M*M*(1-7*N))-W/48*R),t.x=this.x0+z*Math.sin(k),t.y=this.y0+z*Math.cos(k),t))}function gAt(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,i,s,l,c,a,f,p,m,v,y,T,C,k,M,P,R,N,z,H,j,Q;return this.sphere?(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*Lr*this.a?void 0:(n=e/this.a,r=Math.sin(n),i=Math.cos(n),s=this.long0,Math.abs(e)<=ei?l=this.lat0:(l=b1(i*this.sin_p12+t.y*r*this.cos_p12/e),c=Math.abs(this.lat0)-Lr,Math.abs(c)<=ei?this.lat0>=0?s=ui(this.long0+Math.atan2(t.x,-t.y)):s=ui(this.long0-Math.atan2(-t.x,t.y)):s=ui(this.long0+Math.atan2(t.x*r,e*this.cos_p12*i-t.y*this.sin_p12*r))),t.x=s,t.y=l,t)):(a=U5(this.es),f=z5(this.es),p=$5(this.es),m=V5(this.es),Math.abs(this.sin_p12-1)<=ei?(v=this.a*sh(a,f,p,m,Lr),e=Math.sqrt(t.x*t.x+t.y*t.y),y=v-e,l=X8(y/this.a,a,f,p,m),s=ui(this.long0+Math.atan2(t.x,-1*t.y)),t.x=s,t.y=l,t):Math.abs(this.sin_p12+1)<=ei?(v=this.a*sh(a,f,p,m,Lr),e=Math.sqrt(t.x*t.x+t.y*t.y),y=e-v,l=X8(y/this.a,a,f,p,m),s=ui(this.long0+Math.atan2(t.x,t.y)),t.x=s,t.y=l,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),k=Math.atan2(t.x,t.y),T=Q2(this.a,this.e,this.sin_p12),M=Math.cos(k),P=this.e*this.cos_p12*M,R=-P*P/(1-this.es),N=3*this.es*(1-R)*this.sin_p12*this.cos_p12*M/(1-this.es),z=e/T,H=z-R*(1+R)*Math.pow(z,3)/6-N*(1+3*R)*Math.pow(z,4)/24,j=1-R*H*H/2-z*H*H*H/6,C=Math.asin(this.sin_p12*Math.cos(H)+this.cos_p12*Math.sin(H)*M),s=ui(this.long0+Math.asin(Math.sin(k)*Math.sin(H)/Math.cos(C))),Q=Math.sin(C),l=Math.atan2((Q-this.es*j*this.sin_p12)*Math.tan(C),Q*(1-this.es)),t.x=s,t.y=l,t))}var vAt=["Azimuthal_Equidistant","aeqd"];const _At={init:AAt,forward:mAt,inverse:gAt,names:vAt};function yAt(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function bAt(t){var e,n,r,i,s,l,c,a,f=t.x,p=t.y;return r=ui(f-this.long0),e=Math.sin(p),n=Math.cos(p),i=Math.cos(r),l=this.sin_p14*e+this.cos_p14*n*i,s=1,(l>0||Math.abs(l)<=ei)&&(c=this.a*s*n*Math.sin(r),a=this.y0+this.a*s*(this.cos_p14*e-this.sin_p14*n*i)),t.x=c,t.y=a,t}function wAt(t){var e,n,r,i,s,l,c;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=b1(e/this.a),r=Math.sin(n),i=Math.cos(n),l=this.long0,Math.abs(e)<=ei?(c=this.lat0,t.x=l,t.y=c,t):(c=b1(i*this.sin_p14+t.y*r*this.cos_p14/e),s=Math.abs(this.lat0)-Lr,Math.abs(s)<=ei?(this.lat0>=0?l=ui(this.long0+Math.atan2(t.x,-t.y)):l=ui(this.long0-Math.atan2(-t.x,t.y)),t.x=l,t.y=c,t):(l=ui(this.long0+Math.atan2(t.x*r,e*this.cos_p14*i-t.y*this.sin_p14*r)),t.x=l,t.y=c,t))}var xAt=["ortho"];const CAt={init:yAt,forward:bAt,inverse:wAt,names:xAt};var qo={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},Ns={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function EAt(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=Lr-Ds/2?this.face=qo.TOP:this.lat0<=-(Lr-Ds/2)?this.face=qo.BOTTOM:Math.abs(this.long0)<=Ds?this.face=qo.FRONT:Math.abs(this.long0)<=Lr+Ds?this.face=this.long0>0?qo.RIGHT:qo.LEFT:this.face=qo.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function SAt(t){var e={x:0,y:0},n,r,i,s,l,c,a={value:0};if(t.x-=this.long0,this.es!==0?n=Math.atan(this.one_minus_f_squared*Math.tan(t.y)):n=t.y,r=t.x,this.face===qo.TOP)s=Lr-n,r>=Ds&&r<=Lr+Ds?(a.value=Ns.AREA_0,i=r-Lr):r>Lr+Ds||r<=-(Lr+Ds)?(a.value=Ns.AREA_1,i=r>0?r-Il:r+Il):r>-(Lr+Ds)&&r<=-Ds?(a.value=Ns.AREA_2,i=r+Lr):(a.value=Ns.AREA_3,i=r);else if(this.face===qo.BOTTOM)s=Lr+n,r>=Ds&&r<=Lr+Ds?(a.value=Ns.AREA_0,i=-r+Lr):r<Ds&&r>=-Ds?(a.value=Ns.AREA_1,i=-r):r<-Ds&&r>=-(Lr+Ds)?(a.value=Ns.AREA_2,i=-r-Lr):(a.value=Ns.AREA_3,i=r>0?-r+Il:-r-Il);else{var f,p,m,v,y,T,C;this.face===qo.RIGHT?r=i2(r,+Lr):this.face===qo.BACK?r=i2(r,+Il):this.face===qo.LEFT&&(r=i2(r,-Lr)),v=Math.sin(n),y=Math.cos(n),T=Math.sin(r),C=Math.cos(r),f=y*C,p=y*T,m=v,this.face===qo.FRONT?(s=Math.acos(f),i=qS(s,m,p,a)):this.face===qo.RIGHT?(s=Math.acos(p),i=qS(s,m,-f,a)):this.face===qo.BACK?(s=Math.acos(-f),i=qS(s,m,-p,a)):this.face===qo.LEFT?(s=Math.acos(-p),i=qS(s,m,f,a)):(s=i=0,a.value=Ns.AREA_0)}return c=Math.atan(12/Il*(i+Math.acos(Math.sin(i)*Math.cos(Ds))-Lr)),l=Math.sqrt((1-Math.cos(s))/(Math.cos(c)*Math.cos(c))/(1-Math.cos(Math.atan(1/Math.cos(i))))),a.value===Ns.AREA_1?c+=Lr:a.value===Ns.AREA_2?c+=Il:a.value===Ns.AREA_3&&(c+=1.5*Il),e.x=l*Math.cos(c),e.y=l*Math.sin(c),e.x=e.x*this.a+this.x0,e.y=e.y*this.a+this.y0,t.x=e.x,t.y=e.y,t}function TAt(t){var e={lam:0,phi:0},n,r,i,s,l,c,a,f,p,m={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,r=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),n=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?m.value=Ns.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(m.value=Ns.AREA_1,n-=Lr):t.x<0&&-t.x>=Math.abs(t.y)?(m.value=Ns.AREA_2,n=n<0?n+Il:n-Il):(m.value=Ns.AREA_3,n+=Lr),p=Il/12*Math.tan(n),l=Math.sin(p)/(Math.cos(p)-1/Math.sqrt(2)),c=Math.atan(l),i=Math.cos(n),s=Math.tan(r),a=1-i*i*s*s*(1-Math.cos(Math.atan(1/Math.cos(c)))),a<-1?a=-1:a>1&&(a=1),this.face===qo.TOP)f=Math.acos(a),e.phi=Lr-f,m.value===Ns.AREA_0?e.lam=c+Lr:m.value===Ns.AREA_1?e.lam=c<0?c+Il:c-Il:m.value===Ns.AREA_2?e.lam=c-Lr:e.lam=c;else if(this.face===qo.BOTTOM)f=Math.acos(a),e.phi=f-Lr,m.value===Ns.AREA_0?e.lam=-c+Lr:m.value===Ns.AREA_1?e.lam=-c:m.value===Ns.AREA_2?e.lam=-c-Lr:e.lam=c<0?-c-Il:-c+Il;else{var v,y,T;v=a,p=v*v,p>=1?T=0:T=Math.sqrt(1-p)*Math.sin(c),p+=T*T,p>=1?y=0:y=Math.sqrt(1-p),m.value===Ns.AREA_1?(p=y,y=-T,T=p):m.value===Ns.AREA_2?(y=-y,T=-T):m.value===Ns.AREA_3&&(p=y,y=T,T=-p),this.face===qo.RIGHT?(p=v,v=-y,y=p):this.face===qo.BACK?(v=-v,y=-y):this.face===qo.LEFT&&(p=v,v=y,y=-p),e.phi=Math.acos(-T)-Lr,e.lam=Math.atan2(y,v),this.face===qo.RIGHT?e.lam=i2(e.lam,-Lr):this.face===qo.BACK?e.lam=i2(e.lam,-Il):this.face===qo.LEFT&&(e.lam=i2(e.lam,+Lr))}if(this.es!==0){var C,k,M;C=e.phi<0?1:0,k=Math.tan(e.phi),M=this.b/Math.sqrt(k*k+this.one_minus_f_squared),e.phi=Math.atan(Math.sqrt(this.a*this.a-M*M)/(this.one_minus_f*M)),C&&(e.phi=-e.phi)}return e.lam+=this.long0,t.x=e.lam,t.y=e.phi,t}function qS(t,e,n,r){var i;return t<ei?(r.value=Ns.AREA_0,i=0):(i=Math.atan2(e,n),Math.abs(i)<=Ds?r.value=Ns.AREA_0:i>Ds&&i<=Lr+Ds?(r.value=Ns.AREA_1,i-=Lr):i>Lr+Ds||i<=-(Lr+Ds)?(r.value=Ns.AREA_2,i=i>=0?i-Il:i+Il):(r.value=Ns.AREA_3,i+=Lr)),i}function i2(t,e){var n=t+e;return n<-Il?n+=H6:n>+Il&&(n-=H6),n}var BAt=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const MAt={init:EAt,forward:SAt,inverse:TAt,names:BAt};var lD=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],q4=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Mhe=.8487,Ihe=1.3523,Lhe=hm/5,IAt=1/Lhe,Ow=18,Z8=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},LAt=function(t,e){return t[1]+e*(2*t[2]+e*3*t[3])};function kAt(t,e,n,r){for(var i=e;r;--r){var s=t(i);if(i-=s,Math.abs(s)<n)break}return i}function PAt(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function FAt(t){var e=ui(t.x-this.long0),n=Math.abs(t.y),r=Math.floor(n*Lhe);r<0?r=0:r>=Ow&&(r=Ow-1),n=hm*(n-IAt*r);var i={x:Z8(lD[r],n)*e,y:Z8(q4[r],n)};return t.y<0&&(i.y=-i.y),i.x=i.x*this.a*Mhe+this.x0,i.y=i.y*this.a*Ihe+this.y0,i}function RAt(t){var e={x:(t.x-this.x0)/(this.a*Mhe),y:Math.abs(t.y-this.y0)/(this.a*Ihe)};if(e.y>=1)e.x/=lD[Ow][0],e.y=t.y<0?-Lr:Lr;else{var n=Math.floor(e.y*Ow);for(n<0?n=0:n>=Ow&&(n=Ow-1);;)if(q4[n][0]>e.y)--n;else if(q4[n+1][0]<=e.y)++n;else break;var r=q4[n],i=5*(e.y-r[0])/(q4[n+1][0]-r[0]);i=kAt(function(s){return(Z8(r,s)-e.y)/LAt(r,s)},i,ei,100),e.x/=Z8(lD[n],i),e.y=(5*n+i)*rc,t.y<0&&(e.y=-e.y)}return e.x=ui(e.x+this.long0),e}var OAt=["Robinson","robin"];const DAt={init:PAt,forward:FAt,inverse:RAt,names:OAt};function NAt(){this.name="geocent"}function UAt(t){var e=mhe(t,this.es,this.a);return e}function zAt(t){var e=ghe(t,this.es,this.a,this.b);return e}var $At=["Geocentric","geocentric","geocent","Geocent"];const VAt={init:NAt,forward:UAt,inverse:zAt,names:$At};var kc={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},E4={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function HAt(){if(Object.keys(E4).forEach((function(n){if(typeof this[n]>"u")this[n]=E4[n].def;else{if(E4[n].num&&isNaN(this[n]))throw new Error("Invalid parameter value, must be numeric "+n+" = "+this[n]);E4[n].num&&(this[n]=parseFloat(this[n]))}E4[n].degrees&&(this[n]=this[n]*rc)}).bind(this)),Math.abs(Math.abs(this.lat0)-Lr)<ei?this.mode=this.lat0<0?kc.S_POLE:kc.N_POLE:Math.abs(this.lat0)<ei?this.mode=kc.EQUIT:(this.mode=kc.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)}function QAt(t){t.x-=this.long0;var e=Math.sin(t.y),n=Math.cos(t.y),r=Math.cos(t.x),i,s;switch(this.mode){case kc.OBLIQ:s=this.sinph0*e+this.cosph0*n*r;break;case kc.EQUIT:s=n*r;break;case kc.S_POLE:s=-e;break;case kc.N_POLE:s=e;break}switch(s=this.pn1/(this.p-s),i=s*n*Math.sin(t.x),this.mode){case kc.OBLIQ:s*=this.cosph0*e-this.sinph0*n*r;break;case kc.EQUIT:s*=e;break;case kc.N_POLE:s*=-(n*r);break;case kc.S_POLE:s*=n*r;break}var l,c;return l=s*this.cg+i*this.sg,c=1/(l*this.sw*this.h1+this.cw),i=(i*this.cg-s*this.sg)*this.cw*c,s=l*c,t.x=i*this.a,t.y=s*this.a,t}function jAt(t){t.x/=this.a,t.y/=this.a;var e={x:t.x,y:t.y},n,r,i;i=1/(this.pn1-t.y*this.sw),n=this.pn1*t.x*i,r=this.pn1*t.y*this.cw*i,t.x=n*this.cg+r*this.sg,t.y=r*this.cg-n*this.sg;var s=wf(t.x,t.y);if(Math.abs(s)<ei)e.x=0,e.y=t.y;else{var l,c;switch(c=1-s*s*this.pfact,c=(this.p-Math.sqrt(c))/(this.pn1/s+s/this.pn1),l=Math.sqrt(1-c*c),this.mode){case kc.OBLIQ:e.y=Math.asin(l*this.sinph0+t.y*c*this.cosph0/s),t.y=(l-this.sinph0*Math.sin(e.y))*s,t.x*=c*this.cosph0;break;case kc.EQUIT:e.y=Math.asin(t.y*c/s),t.y=l*s,t.x*=c;break;case kc.N_POLE:e.y=Math.asin(l),t.y=-t.y;break;case kc.S_POLE:e.y=-Math.asin(l);break}e.x=Math.atan2(t.x,t.y)}return t.x=e.x+this.long0,t.y=e.y,t}var GAt=["Tilted_Perspective","tpers"];const KAt={init:HAt,forward:QAt,inverse:jAt,names:GAt};function WAt(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var t=1-this.es,e=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function qAt(t){var e=t.x,n=t.y,r,i,s,l;if(e=e-this.long0,this.shape==="ellipse"){n=Math.atan(this.radius_p2*Math.tan(n));var c=this.radius_p/wf(this.radius_p*Math.cos(n),Math.sin(n));if(i=c*Math.cos(e)*Math.cos(n),s=c*Math.sin(e)*Math.cos(n),l=c*Math.sin(n),(this.radius_g-i)*i-s*s-l*l*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;r=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(s/wf(l,r)),t.y=this.radius_g_1*Math.atan(l/r)):(t.x=this.radius_g_1*Math.atan(s/r),t.y=this.radius_g_1*Math.atan(l/wf(s,r)))}else this.shape==="sphere"&&(r=Math.cos(n),i=Math.cos(e)*r,s=Math.sin(e)*r,l=Math.sin(n),r=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(s/wf(l,r)),t.y=this.radius_g_1*Math.atan(l/r)):(t.x=this.radius_g_1*Math.atan(s/r),t.y=this.radius_g_1*Math.atan(l/wf(s,r))));return t.x=t.x*this.a,t.y=t.y*this.a,t}function YAt(t){var e=-1,n=0,r=0,i,s,l,c;if(t.x=t.x/this.a,t.y=t.y/this.a,this.shape==="ellipse"){this.flip_axis?(r=Math.tan(t.y/this.radius_g_1),n=Math.tan(t.x/this.radius_g_1)*wf(1,r)):(n=Math.tan(t.x/this.radius_g_1),r=Math.tan(t.y/this.radius_g_1)*wf(1,n));var a=r/this.radius_p;if(i=n*n+a*a+e*e,s=2*this.radius_g*e,l=s*s-4*i*this.C,l<0)return t.x=Number.NaN,t.y=Number.NaN,t;c=(-s-Math.sqrt(l))/(2*i),e=this.radius_g+c*e,n*=c,r*=c,t.x=Math.atan2(n,e),t.y=Math.atan(r*Math.cos(t.x)/e),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if(this.shape==="sphere"){if(this.flip_axis?(r=Math.tan(t.y/this.radius_g_1),n=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+r*r)):(n=Math.tan(t.x/this.radius_g_1),r=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+n*n)),i=n*n+r*r+e*e,s=2*this.radius_g*e,l=s*s-4*i*this.C,l<0)return t.x=Number.NaN,t.y=Number.NaN,t;c=(-s-Math.sqrt(l))/(2*i),e=this.radius_g+c*e,n*=c,r*=c,t.x=Math.atan2(n,e),t.y=Math.atan(r*Math.cos(t.x)/e)}return t.x=t.x+this.long0,t}var XAt=["Geostationary Satellite View","Geostationary_Satellite","geos"];const ZAt={init:WAt,forward:qAt,inverse:YAt,names:XAt};var PC=1.340264,FC=-.081106,RC=893e-6,OC=.003796,J8=Math.sqrt(3)/2;function JAt(){this.es=0,this.long0=this.long0!==void 0?this.long0:0}function emt(t){var e=ui(t.x-this.long0),n=t.y,r=Math.asin(J8*Math.sin(n)),i=r*r,s=i*i*i;return t.x=e*Math.cos(r)/(J8*(PC+3*FC*i+s*(7*RC+9*OC*i))),t.y=r*(PC+FC*i+s*(RC+OC*i)),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function tmt(t){t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a;var e=1e-9,n=12,r=t.y,i,s,l,c,a,f;for(f=0;f<n&&(i=r*r,s=i*i*i,l=r*(PC+FC*i+s*(RC+OC*i))-t.y,c=PC+3*FC*i+s*(7*RC+9*OC*i),r-=a=l/c,!(Math.abs(a)<e));++f);return i=r*r,s=i*i*i,t.x=J8*t.x*(PC+3*FC*i+s*(7*RC+9*OC*i))/Math.cos(r),t.y=Math.asin(Math.sin(r)/J8),t.x=ui(t.x+this.long0),t}var nmt=["eqearth","Equal Earth","Equal_Earth"];const rmt={init:JAt,forward:emt,inverse:tmt,names:nmt};function imt(t){t.Proj.projections.add(LT),t.Proj.projections.add(kT),t.Proj.projections.add(aft),t.Proj.projections.add(Aft),t.Proj.projections.add(bft),t.Proj.projections.add(Sft),t.Proj.projections.add(kft),t.Proj.projections.add(Dft),t.Proj.projections.add(Vft),t.Proj.projections.add(Kft),t.Proj.projections.add(cpt),t.Proj.projections.add(mpt),t.Proj.projections.add(bpt),t.Proj.projections.add(Tpt),t.Proj.projections.add(kpt),t.Proj.projections.add(Dpt),t.Proj.projections.add(Vpt),t.Proj.projections.add(Kpt),t.Proj.projections.add(Jpt),t.Proj.projections.add(iAt),t.Proj.projections.add(uAt),t.Proj.projections.add(pAt),t.Proj.projections.add(_At),t.Proj.projections.add(CAt),t.Proj.projections.add(MAt),t.Proj.projections.add(DAt),t.Proj.projections.add(VAt),t.Proj.projections.add(KAt),t.Proj.projections.add(ZAt),t.Proj.projections.add(rmt)}$f.defaultDatum="WGS84";$f.Proj=ym;$f.WGS84=new $f.Proj("WGS84");$f.Point=H2;$f.toPoint=vhe;$f.defs=ah;$f.nadgrid=odt;$f.transform=Y8;$f.mgrs=xdt;$f.version="__VERSION__";imt($f);const amt=class khe extends jy{constructor(e){khe.options=e,super(e)}createRenderer(){return new uht(this,{className:this.getClassName(),style:this.getProperties().style})}};QM(amt,"options",{});const Iz=class YA extends Fut{constructor(e){YA.layerLabelMap={vec:"cva",ter:"cta",img:"cia"},YA.layerZoomMap={vec:18,ter:14,img:18};const n={...e};n.layerType=n.layerType||"vec",n.layerType=n.isLabel?YA.layerLabelMap[n.layerType]:n.layerType,n.matrixSet=n.projection==="EPSG:4326"||n.projection==="EPSG:4490"?"c":"w",!n.url&&!n.urls&&(n.url="https://t{0-7}.tianditu.gov.cn/{layer}_{proj}/wmts?"),n.tk&&(n.url=`${n.url}tk=${n.tk}`),n.url=(n.url||"").replace("{layer}",n.layerType).replace("{proj}",n.matrixSet);const r=n.tileGrid||YA.getTileGrid(n.projection),i=n.crossOrigin!==void 0?n.crossOrigin:"anonymous",s={version:n.version||"1.0.0",format:n.format||"tiles",dimensions:n.dimensions||{},layer:n.layerType,matrixSet:n.matrixSet,tileGrid:r,style:n.style||"default",cacheSize:n.cacheSize,crossOrigin:i,opaque:n.opaque===void 0?!0:n.opaque,maxZoom:YA.layerZoomMap[n.layerType],reprojectionErrorThreshold:n.reprojectionErrorThreshold,url:n.url,urls:n.urls,projection:n.projection||"EPSG:3857",wrapX:n.wrapX};n.tileProxy&&(YA.tileProxy=n.tileProxy,s.tileLoadFunction=(l,c)=>{l.getImage().src=YA.tileProxy+encodeURIComponent(c)}),super(s)}static getTileGrid(e){return e==="EPSG:4326"||e==="EPSG:4490"?YA.default4326TileGrid():YA.default3857TileGrid()}static default4326TileGrid(){const e=[],n=[];for(let i=1;i<19;i++)e.push(.703125*2/2**i),n.push(i.toString());return new WY({extent:[-180,-90,180,90],resolutions:e,origin:[-180,90],matrixIds:n})}static default3857TileGrid(){const e=[],n=[];for(let i=1;i<19;i++)e.push(78271.51696402031*2/2**i),n.push(i.toString());return new WY({extent:[-200375083427892e-7,-200375083427892e-7,200375083427892e-7,200375083427892e-7],resolutions:e,matrixIds:n,origin:[-200375083427892e-7,200375083427892e-7]})}};QM(Iz,"layerLabelMap",{});QM(Iz,"layerZoomMap",{});QM(Iz,"tileProxy");var xf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Phe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var smt={exports:{}};(function(t,e){(function(n,r){r()})(xf,function(){function n(f,p){return typeof p>"u"?p={autoBom:!1}:typeof p!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),p={autoBom:!p}),p.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\uFEFF",f],{type:f.type}):f}function r(f,p,m){var v=new XMLHttpRequest;v.open("GET",f),v.responseType="blob",v.onload=function(){a(v.response,p,m)},v.onerror=function(){console.error("could not download file")},v.send()}function i(f){var p=new XMLHttpRequest;p.open("HEAD",f,!1);try{p.send()}catch{}return 200<=p.status&&299>=p.status}function s(f){try{f.dispatchEvent(new MouseEvent("click"))}catch{var p=document.createEvent("MouseEvents");p.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),f.dispatchEvent(p)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof xf=="object"&&xf.global===xf?xf:void 0,c=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(f,p,m){var v=l.URL||l.webkitURL,y=document.createElement("a");p=p||f.name||"download",y.download=p,y.rel="noopener",typeof f=="string"?(y.href=f,y.origin===location.origin?s(y):i(y.href)?r(f,p,m):s(y,y.target="_blank")):(y.href=v.createObjectURL(f),setTimeout(function(){v.revokeObjectURL(y.href)},4e4),setTimeout(function(){s(y)},0))}:"msSaveOrOpenBlob"in navigator?function(f,p,m){if(p=p||f.name||"download",typeof f!="string")navigator.msSaveOrOpenBlob(n(f,m),p);else if(i(f))r(f,p,m);else{var v=document.createElement("a");v.href=f,v.target="_blank",setTimeout(function(){s(v)})}}:function(f,p,m,v){if(v=v||open("","_blank"),v&&(v.document.title=v.document.body.innerText="downloading..."),typeof f=="string")return r(f,p,m);var y=f.type==="application/octet-stream",T=/constructor/i.test(l.HTMLElement)||l.safari,C=/CriOS\/[\d]+/.test(navigator.userAgent);if((C||y&&T||c)&&typeof FileReader<"u"){var k=new FileReader;k.onloadend=function(){var R=k.result;R=C?R:R.replace(/^data:[^;]*;/,"data:attachment/file;"),v?v.location.href=R:location=R,v=null},k.readAsDataURL(f)}else{var M=l.URL||l.webkitURL,P=M.createObjectURL(f);v?v.location=P:location.href=P,v=null,setTimeout(function(){M.revokeObjectURL(P)},4e4)}});l.saveAs=a.saveAs=a,t.exports=a})})(smt);function ys(t){"@babel/helpers - typeof";return ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ys(t)}var Hh=Uint8Array,oh=Uint16Array,G6=Uint32Array,KM=new Hh([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),WM=new Hh([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),uD=new Hh([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Fhe=function(t,e){for(var n=new oh(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new G6(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return[n,i]},Rhe=Fhe(KM,2),Ohe=Rhe[0],cD=Rhe[1];Ohe[28]=258,cD[258]=28;var Dhe=Fhe(WM,0),omt=Dhe[0],FX=Dhe[1],hD=new oh(32768);for(var Do=0;Do<32768;++Do){var _v=(Do&43690)>>>1|(Do&21845)<<1;_v=(_v&52428)>>>2|(_v&13107)<<2,_v=(_v&61680)>>>4|(_v&3855)<<4,hD[Do]=((_v&65280)>>>8|(_v&255)<<8)>>>1}var bm=function(t,e,n){for(var r=t.length,i=0,s=new oh(e);i<r;++i)++s[t[i]-1];var l=new oh(e);for(i=0;i<e;++i)l[i]=l[i-1]+s[i-1]<<1;var c;if(n){c=new oh(1<<e);var a=15-e;for(i=0;i<r;++i)if(t[i])for(var f=i<<4|t[i],p=e-t[i],m=l[t[i]-1]++<<p,v=m|(1<<p)-1;m<=v;++m)c[hD[m]>>>a]=f}else for(c=new oh(r),i=0;i<r;++i)c[i]=hD[l[t[i]-1]++]>>>15-t[i];return c},w1=new Hh(288);for(var Do=0;Do<144;++Do)w1[Do]=8;for(var Do=144;Do<256;++Do)w1[Do]=9;for(var Do=256;Do<280;++Do)w1[Do]=7;for(var Do=280;Do<288;++Do)w1[Do]=8;var K6=new Hh(32);for(var Do=0;Do<32;++Do)K6[Do]=5;var lmt=bm(w1,9,0),umt=bm(w1,9,1),cmt=bm(K6,5,0),hmt=bm(K6,5,1),bP=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},kp=function(t,e,n){var r=e/8>>0;return(t[r]|t[r+1]<<8)>>>(e&7)&n},wP=function(t,e){var n=e/8>>0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>>(e&7)},Lz=function(t){return(t/8>>0)+(t&7&&1)},Nhe=function(t,e,n){(n==null||n>t.length)&&(n=t.length);var r=new(t instanceof oh?oh:t instanceof G6?G6:Hh)(n-e);return r.set(t.subarray(e,n)),r},dmt=function(t,e,n){var r=t.length,i=!e||n,s=!n||n.i;n||(n={}),e||(e=new Hh(r*3));var l=function(Le){var be=e.length;if(Le>be){var Re=new Hh(Math.max(be*2,Le));Re.set(e),e=Re}},c=n.f||0,a=n.p||0,f=n.b||0,p=n.l,m=n.d,v=n.m,y=n.n,T=r*8;do{if(!p){n.f=c=kp(t,a,1);var C=kp(t,a+1,3);if(a+=3,C)if(C==1)p=umt,m=hmt,v=9,y=5;else if(C==2){var R=kp(t,a,31)+257,N=kp(t,a+10,15)+4,z=R+kp(t,a+5,31)+1;a+=14;for(var H=new Hh(z),j=new Hh(19),Q=0;Q<N;++Q)j[uD[Q]]=kp(t,a+Q*3,7);a+=N*3;var G=bP(j),ie=(1<<G)-1;if(!s&&a+z*(G+7)>T)break;for(var q=bm(j,G,1),Q=0;Q<z;){var W=q[kp(t,a,ie)];a+=W&15;var k=W>>>4;if(k<16)H[Q++]=k;else{var ee=0,he=0;for(k==16?(he=3+kp(t,a,3),a+=2,ee=H[Q-1]):k==17?(he=3+kp(t,a,7),a+=3):k==18&&(he=11+kp(t,a,127),a+=7);he--;)H[Q++]=ee}}var J=H.subarray(0,R),te=H.subarray(R);v=bP(J),y=bP(te),p=bm(J,v,1),m=bm(te,y,1)}else throw"invalid block type";else{var k=Lz(a)+4,M=t[k-4]|t[k-3]<<8,P=k+M;if(P>r){if(s)throw"unexpected EOF";break}i&&l(f+M),e.set(t.subarray(k,P),f),n.b=f+=M,n.p=a=P*8;continue}if(a>T)throw"unexpected EOF"}i&&l(f+131072);for(var ne=(1<<v)-1,ce=(1<<y)-1,ue=v+y+18;s||a+ue<T;){var ee=p[wP(t,a)&ne],ye=ee>>>4;if(a+=ee&15,a>T)throw"unexpected EOF";if(!ee)throw"invalid length/literal";if(ye<256)e[f++]=ye;else if(ye==256){p=null;break}else{var Ee=ye-254;if(ye>264){var Q=ye-257,se=KM[Q];Ee=kp(t,a,(1<<se)-1)+Ohe[Q],a+=se}var oe=m[wP(t,a)&ce],_e=oe>>>4;if(!oe)throw"invalid distance";a+=oe&15;var te=omt[_e];if(_e>3){var se=WM[_e];te+=wP(t,a)&(1<<se)-1,a+=se}if(a>T)throw"unexpected EOF";i&&l(f+131072);for(var Ue=f+Ee;f<Ue;f+=4)e[f]=e[f-te],e[f+1]=e[f+1-te],e[f+2]=e[f+2-te],e[f+3]=e[f+3-te];f=Ue}}n.l=p,n.p=a,n.b=f,p&&(c=1,n.m=v,n.d=m,n.n=y)}while(!c);return f==e.length?e:Nhe(e,0,f)},Rg=function(t,e,n){n<<=e&7;var r=e/8>>0;t[r]|=n,t[r+1]|=n>>>8},S4=function(t,e,n){n<<=e&7;var r=e/8>>0;t[r]|=n,t[r+1]|=n>>>8,t[r+2]|=n>>>16},xP=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return[new Hh(0),0];if(i==1){var l=new Hh(n[0].s+1);return l[n[0].s]=1,[l,1]}n.sort(function(z,H){return z.f-H.f}),n.push({s:-1,f:25001});var c=n[0],a=n[1],f=0,p=1,m=2;for(n[0]={s:-1,f:c.f+a.f,l:c,r:a};p!=i-1;)c=n[n[f].f<n[m].f?f++:m++],a=n[f!=p&&n[f].f<n[m].f?f++:m++],n[p++]={s:-1,f:c.f+a.f,l:c,r:a};for(var v=s[0].s,r=1;r<i;++r)s[r].s>v&&(v=s[r].s);var y=new oh(v+1),T=dD(n[p-1],y,0);if(T>e){var r=0,C=0,k=T-e,M=1<<k;for(s.sort(function(H,j){return y[j.s]-y[H.s]||H.f-j.f});r<i;++r){var P=s[r].s;if(y[P]>e)C+=M-(1<<T-y[P]),y[P]=e;else break}for(C>>>=k;C>0;){var R=s[r].s;y[R]<e?C-=1<<e-y[R]++-1:++r}for(;r>=0&&C;--r){var N=s[r].s;y[N]==e&&(--y[N],++C)}T=e}return[new Hh(y),T]},dD=function(t,e,n){return t.s==-1?Math.max(dD(t.l,e,n+1),dD(t.r,e,n+1)):e[t.s]=n},RX=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new oh(++e),r=0,i=t[0],s=1,l=function(a){n[r++]=a},c=1;c<=e;++c)if(t[c]==i&&c!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)l(32754);s>2&&(l(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(l(i),--s;s>6;s-=6)l(8304);s>2&&(l(s-3<<5|8208),s=0)}for(;s--;)l(i);s=1,i=t[c]}return[n.subarray(0,r),e]},T4=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},fD=function(t,e,n){var r=n.length,i=Lz(e+2);t[i]=r&255,t[i+1]=r>>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},OX=function(t,e,n,r,i,s,l,c,a,f,p){Rg(e,p++,n),++i[256];for(var m=xP(i,15),v=m[0],y=m[1],T=xP(s,15),C=T[0],k=T[1],M=RX(v),P=M[0],R=M[1],N=RX(C),z=N[0],H=N[1],j=new oh(19),Q=0;Q<P.length;++Q)j[P[Q]&31]++;for(var Q=0;Q<z.length;++Q)j[z[Q]&31]++;for(var G=xP(j,7),ie=G[0],q=G[1],W=19;W>4&&!ie[uD[W-1]];--W);var ee=f+5<<3,he=T4(i,w1)+T4(s,K6)+l,J=T4(i,v)+T4(s,C)+l+14+3*W+T4(j,ie)+(2*j[16]+3*j[17]+7*j[18]);if(ee<=he&&ee<=J)return fD(e,p,t.subarray(a,a+f));var te,ne,ce,ue;if(Rg(e,p,1+(J<he)),p+=2,J<he){te=bm(v,y,0),ne=v,ce=bm(C,k,0),ue=C;var ye=bm(ie,q,0);Rg(e,p,R-257),Rg(e,p+5,H-1),Rg(e,p+10,W-4),p+=14;for(var Q=0;Q<W;++Q)Rg(e,p+3*Q,ie[uD[Q]]);p+=3*W;for(var Ee=[P,z],se=0;se<2;++se)for(var oe=Ee[se],Q=0;Q<oe.length;++Q){var _e=oe[Q]&31;Rg(e,p,ye[_e]),p+=ie[_e],_e>15&&(Rg(e,p,oe[Q]>>>5&127),p+=oe[Q]>>>12)}}else te=lmt,ne=w1,ce=cmt,ue=K6;for(var Q=0;Q<c;++Q)if(r[Q]>255){var _e=r[Q]>>>18&31;S4(e,p,te[_e+257]),p+=ne[_e+257],_e>7&&(Rg(e,p,r[Q]>>>23&31),p+=KM[_e]);var Ue=r[Q]&31;S4(e,p,ce[Ue]),p+=ue[Ue],Ue>3&&(S4(e,p,r[Q]>>>5&8191),p+=WM[Ue])}else S4(e,p,te[r[Q]]),p+=ne[r[Q]];return S4(e,p,te[256]),p+ne[256]},fmt=new G6([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),pmt=function(t,e,n,r,i,s){var l=t.length,c=new Hh(r+l+5*(1+Math.floor(l/7e3))+i),a=c.subarray(r,c.length-i),f=0;if(!e||l<8)for(var p=0;p<=l;p+=65535){var m=p+65535;m<l?f=fD(a,f,t.subarray(p,m)):(a[p]=s,f=fD(a,f,t.subarray(p,l)))}else{for(var v=fmt[e-1],y=v>>>13,T=v&8191,C=(1<<n)-1,k=new oh(32768),M=new oh(C+1),P=Math.ceil(n/3),R=2*P,N=function(Ge){return(t[Ge]^t[Ge+1]<<P^t[Ge+2]<<R)&C},z=new G6(25e3),H=new oh(288),j=new oh(32),Q=0,G=0,p=0,ie=0,q=0,W=0;p<l;++p){var ee=N(p),he=p&32767,J=M[ee];if(k[he]=J,M[ee]=he,q<=p){var te=l-p;if((Q>7e3||ie>24576)&&te>423){f=OX(t,a,0,z,H,j,G,ie,W,p-W,f),ie=Q=G=0,W=p;for(var ne=0;ne<286;++ne)H[ne]=0;for(var ne=0;ne<30;++ne)j[ne]=0}var ce=2,ue=0,ye=T,Ee=he-J&32767;if(te>2&&ee==N(p-Ee))for(var se=Math.min(y,te)-1,oe=Math.min(32767,p),_e=Math.min(258,te);Ee<=oe&&--ye&&he!=J;){if(t[p+ce]==t[p+ce-Ee]){for(var Ue=0;Ue<_e&&t[p+Ue]==t[p+Ue-Ee];++Ue);if(Ue>ce){if(ce=Ue,ue=Ee,Ue>se)break;for(var Le=Math.min(Ee,Ue-2),be=0,ne=0;ne<Le;++ne){var Re=p-Ee+ne+32768&32767,Qe=k[Re],Je=Re-Qe+32768&32767;Je>be&&(be=Je,J=Re)}}}he=J,J=k[he],Ee+=he-J+32768&32767}if(ue){z[ie++]=268435456|cD[ce]<<18|FX[ue];var nt=cD[ce]&31,Ve=FX[ue]&31;G+=KM[nt]+WM[Ve],++H[257+nt],++j[Ve],q=p+ce,++Q}else z[ie++]=t[p],++H[t[p]]}}f=OX(t,a,s,z,H,j,G,ie,W,p-W,f)}return Nhe(c,0,r+Lz(f)+i)},Amt=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length,l=0;l!=s;){for(var c=Math.min(l+5552,s);l<c;++l)r+=n[l],i+=r;r%=65521,i%=65521}t=r,e=i},d:function(){return(t>>>8<<16|(e&255)<<8|e>>>8)+((t&255)<<23)*2}}},mmt=function(t,e,n,r,i){return pmt(t,e.level==null?6:e.level,e.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):12+e.mem,n,r,!i)},gmt=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},vmt=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;t[0]=120,t[1]=r<<6|(r?32-2*r:1)},_mt=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function pD(t,e){e===void 0&&(e={});var n=Amt();n.p(t);var r=mmt(t,e,2,4);return vmt(r,e),gmt(r,r.length-4,n.d()),r}function ymt(t,e){return dmt((_mt(t),t.subarray(2,-4)),e)}/** @license
 *
 * jsPDF - PDF Document creation from JavaScript
 * Version 2.5.1 Built on 2022-01-28T15:37:57.791Z
 *                      CommitID 00000000
 *
 * Copyright (c) 2010-2021 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
 *               2015-2021 yWorks GmbH, http://www.yworks.com
 *               2015-2021 Lukas Holländer <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
 *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
 *               2010 Aaron Spike, https://github.com/acspike
 *               2012 Willow Systems Corporation, https://github.com/willowsystems
 *               2012 Pablo Hess, https://github.com/pablohess
 *               2012 Florian Jenett, https://github.com/fjenett
 *               2013 Warren Weckesser, https://github.com/warrenweckesser
 *               2013 Youssef Beddad, https://github.com/lifof
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2013 Stefan Slonevskiy, https://github.com/stefslon
 *               2013 Jeremy Morel, https://github.com/jmorel
 *               2013 Christoph Hartmann, https://github.com/chris-rock
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Makes, https://github.com/dollaruw
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Steven Spungin, https://github.com/Flamenco
 *               2014 Kenneth Glassey, https://github.com/Gavvers
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Contributor(s):
 *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
 *    kim3er, mfo, alnorth, Flamenco
 */var ua=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function CP(){ua.console&&typeof ua.console.log=="function"&&ua.console.log.apply(ua.console,arguments)}var uo={log:CP,warn:function(t){ua.console&&(typeof ua.console.warn=="function"?ua.console.warn.apply(ua.console,arguments):CP.call(null,arguments))},error:function(t){ua.console&&(typeof ua.console.error=="function"?ua.console.error.apply(ua.console,arguments):CP(t))}};function EP(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){P_(r.response,e,n)},r.onerror=function(){uo.error("could not download file")},r.send()}function DX(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function YS(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var DC,AD,P_=ua.saveAs||((typeof window>"u"?"undefined":ys(window))!=="object"||window!==ua?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=ua.URL||ua.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?DX(i.href)?EP(t,e,n):YS(i,i.target="_blank"):YS(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){YS(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(DX(t))EP(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){YS(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:ys(s)!=="object"&&(uo.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return EP(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(ua.HTMLElement)||ua.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||i&&s)&&(typeof FileReader>"u"?"undefined":ys(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var p=c.result;p=l?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=p:location=p,r=null},c.readAsDataURL(t)}else{var a=ua.URL||ua.webkitURL,f=a.createObjectURL(t);r?r.location=f:location.href=f,r=null,setTimeout(function(){a.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Uhe(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,l=i.exec(t);l&&(e=s(l),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),a=this.g.toString(16),f=this.b.toString(16);return c.length==1&&(c="0"+c),a.length==1&&(a="0"+a),f.length==1&&(f="0"+f),"#"+c+a+f}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function SP(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=Cc(n,r,i,s,e[0],7,-680876936),s=Cc(s,n,r,i,e[1],12,-389564586),i=Cc(i,s,n,r,e[2],17,606105819),r=Cc(r,i,s,n,e[3],22,-1044525330),n=Cc(n,r,i,s,e[4],7,-176418897),s=Cc(s,n,r,i,e[5],12,1200080426),i=Cc(i,s,n,r,e[6],17,-1473231341),r=Cc(r,i,s,n,e[7],22,-45705983),n=Cc(n,r,i,s,e[8],7,1770035416),s=Cc(s,n,r,i,e[9],12,-1958414417),i=Cc(i,s,n,r,e[10],17,-42063),r=Cc(r,i,s,n,e[11],22,-1990404162),n=Cc(n,r,i,s,e[12],7,1804603682),s=Cc(s,n,r,i,e[13],12,-40341101),i=Cc(i,s,n,r,e[14],17,-1502002290),n=Ec(n,r=Cc(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Ec(s,n,r,i,e[6],9,-1069501632),i=Ec(i,s,n,r,e[11],14,643717713),r=Ec(r,i,s,n,e[0],20,-373897302),n=Ec(n,r,i,s,e[5],5,-701558691),s=Ec(s,n,r,i,e[10],9,38016083),i=Ec(i,s,n,r,e[15],14,-660478335),r=Ec(r,i,s,n,e[4],20,-405537848),n=Ec(n,r,i,s,e[9],5,568446438),s=Ec(s,n,r,i,e[14],9,-1019803690),i=Ec(i,s,n,r,e[3],14,-187363961),r=Ec(r,i,s,n,e[8],20,1163531501),n=Ec(n,r,i,s,e[13],5,-1444681467),s=Ec(s,n,r,i,e[2],9,-51403784),i=Ec(i,s,n,r,e[7],14,1735328473),n=Sc(n,r=Ec(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Sc(s,n,r,i,e[8],11,-2022574463),i=Sc(i,s,n,r,e[11],16,1839030562),r=Sc(r,i,s,n,e[14],23,-35309556),n=Sc(n,r,i,s,e[1],4,-1530992060),s=Sc(s,n,r,i,e[4],11,1272893353),i=Sc(i,s,n,r,e[7],16,-155497632),r=Sc(r,i,s,n,e[10],23,-1094730640),n=Sc(n,r,i,s,e[13],4,681279174),s=Sc(s,n,r,i,e[0],11,-358537222),i=Sc(i,s,n,r,e[3],16,-722521979),r=Sc(r,i,s,n,e[6],23,76029189),n=Sc(n,r,i,s,e[9],4,-640364487),s=Sc(s,n,r,i,e[12],11,-421815835),i=Sc(i,s,n,r,e[15],16,530742520),n=Tc(n,r=Sc(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Tc(s,n,r,i,e[7],10,1126891415),i=Tc(i,s,n,r,e[14],15,-1416354905),r=Tc(r,i,s,n,e[5],21,-57434055),n=Tc(n,r,i,s,e[12],6,1700485571),s=Tc(s,n,r,i,e[3],10,-1894986606),i=Tc(i,s,n,r,e[10],15,-1051523),r=Tc(r,i,s,n,e[1],21,-2054922799),n=Tc(n,r,i,s,e[8],6,1873313359),s=Tc(s,n,r,i,e[15],10,-30611744),i=Tc(i,s,n,r,e[6],15,-1560198380),r=Tc(r,i,s,n,e[13],21,1309151649),n=Tc(n,r,i,s,e[4],6,-145523070),s=Tc(s,n,r,i,e[11],10,-1120210379),i=Tc(i,s,n,r,e[2],15,718787259),r=Tc(r,i,s,n,e[9],21,-343485551),t[0]=qv(n,t[0]),t[1]=qv(r,t[1]),t[2]=qv(i,t[2]),t[3]=qv(s,t[3])}function qM(t,e,n,r,i,s){return e=qv(qv(e,t),qv(r,s)),qv(e<<i|e>>>32-i,n)}function Cc(t,e,n,r,i,s,l){return qM(e&n|~e&r,t,e,i,s,l)}function Ec(t,e,n,r,i,s,l){return qM(e&r|n&~r,t,e,i,s,l)}function Sc(t,e,n,r,i,s,l){return qM(e^n^r,t,e,i,s,l)}function Tc(t,e,n,r,i,s,l){return qM(n^(e|~r),t,e,i,s,l)}function zhe(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)SP(r,bmt(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(SP(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,SP(r,i),r}function bmt(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}DC=ua.atob.bind(ua),AD=ua.btoa.bind(ua);var NX="0123456789abcdef".split("");function wmt(t){for(var e="",n=0;n<4;n++)e+=NX[t>>8*n+4&15]+NX[t>>8*n&15];return e}function xmt(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function mD(t){return zhe(t).map(xmt).join("")}var Cmt=function(t){for(var e=0;e<t.length;e++)t[e]=wmt(t[e]);return t.join("")}(zhe("hello"))!="5d41402abc4b2a76b9719d911017c592";function qv(t,e){if(Cmt){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function gD(t,e){var n,r,i,s;if(t!==n){for(var l=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),c=[],a=0;a<256;a++)c[a]=a;var f=0;for(a=0;a<256;a++){var p=c[a];f=(f+p+l.charCodeAt(a))%256,c[a]=c[f],c[f]=p}n=t,r=c}else c=r;var m=e.length,v=0,y=0,T="";for(a=0;a<m;a++)y=(y+(p=c[v=(v+1)%256]))%256,c[v]=c[y],c[y]=p,l=c[(c[v]+c[y])%256],T+=String.fromCharCode(e.charCodeAt(a)^l);return T}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var UX={print:4,modify:8,copy:16,"annot-forms":32};function bw(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(c){if(UX.perm!==void 0)throw new Error("Invalid permission: "+c);i+=UX[c]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),l=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,l),this.P=-(1+(255^i)),this.encryptionKey=mD(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=gD(this.encryptionKey,this.padding)}function ww(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function zX(t){if(ys(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var l=e[n][s];try{l[0].apply(t,r)}catch(c){ua.console&&uo.error("jsPDF PubSub Error",c.message,c)}l[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function eB(t){if(!(this instanceof eB))return new eB(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function $he(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function N_(t,e,n,r,i){if(!(this instanceof N_))return new N_(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,$he.call(this,r,i)}function Dw(t,e,n,r,i){if(!(this instanceof Dw))return new Dw(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,$he.call(this,r,i)}function ga(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],l=[],c=1,a=16,f="S",p=null;ys(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(p=t.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),c=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(a=t.floatPrecision),f=t.defaultPathOperation||"S"),l=t.filters||(s===!0?["FlateEncode"]:l),r=r||"mm",n=(""+(n||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,v={},y={internal:{},__private__:{}};y.__private__.PubSub=zX;var T="1.3",C=y.__private__.getPdfVersion=function(){return T};y.__private__.setPdfVersion=function(me){T=me};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return k};var M=y.__private__.getPageFormat=function(me){return k[me]};i=i||"a4";var P={COMPAT:"compat",ADVANCED:"advanced"},R=P.COMPAT;function N(){this.saveGraphicsState(),je(new Rr(Xe,0,0,-Xe,0,jo()*Xe).toString()+" cm"),this.setFontSize(this.getFontSize()/Xe),f="n",R=P.ADVANCED}function z(){this.restoreGraphicsState(),f="S",R=P.COMPAT}var H=y.__private__.combineFontStyleAndFontWeight=function(me,tt){if(me=="bold"&&tt=="normal"||me=="bold"&&tt==400||me=="normal"&&tt=="italic"||me=="bold"&&tt=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return tt&&(me=tt==400||tt==="normal"?me==="italic"?"italic":"normal":tt!=700&&tt!=="bold"||me!=="normal"?(tt==700?"bold":tt)+""+me:"bold"),me};y.advancedAPI=function(me){var tt=R===P.COMPAT;return tt&&N.call(this),typeof me!="function"||(me(this),tt&&z.call(this)),this},y.compatAPI=function(me){var tt=R===P.ADVANCED;return tt&&z.call(this),typeof me!="function"||(me(this),tt&&N.call(this)),this},y.isAdvancedAPI=function(){return R===P.ADVANCED};var j,Q=function(me){if(R!==P.ADVANCED)throw new Error(me+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},G=y.roundToPrecision=y.__private__.roundToPrecision=function(me,tt){var zt=e||tt;if(isNaN(me)||isNaN(zt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return me.toFixed(zt).replace(/0+$/,"")};j=y.hpf=y.__private__.hpf=typeof a=="number"?function(me){if(isNaN(me))throw new Error("Invalid argument passed to jsPDF.hpf");return G(me,a)}:a==="smart"?function(me){if(isNaN(me))throw new Error("Invalid argument passed to jsPDF.hpf");return G(me,me>-1&&me<1?16:5)}:function(me){if(isNaN(me))throw new Error("Invalid argument passed to jsPDF.hpf");return G(me,16)};var ie=y.f2=y.__private__.f2=function(me){if(isNaN(me))throw new Error("Invalid argument passed to jsPDF.f2");return G(me,2)},q=y.__private__.f3=function(me){if(isNaN(me))throw new Error("Invalid argument passed to jsPDF.f3");return G(me,3)},W=y.scale=y.__private__.scale=function(me){if(isNaN(me))throw new Error("Invalid argument passed to jsPDF.scale");return R===P.COMPAT?me*Xe:R===P.ADVANCED?me:void 0},ee=function(me){return R===P.COMPAT?jo()-me:R===P.ADVANCED?me:void 0},he=function(me){return W(ee(me))};y.__private__.setPrecision=y.setPrecision=function(me){typeof parseInt(me,10)=="number"&&(e=parseInt(me,10))};var J,te="00000000000000000000000000000000",ne=y.__private__.getFileId=function(){return te},ce=y.__private__.setFileId=function(me){return te=me!==void 0&&/^[a-fA-F0-9]{32}$/.test(me)?me.toUpperCase():te.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(zo=new bw(p.userPermissions,p.userPassword,p.ownerPassword,te)),te};y.setFileId=function(me){return ce(me),this},y.getFileId=function(){return ne()};var ue=y.__private__.convertDateToPDFDate=function(me){var tt=me.getTimezoneOffset(),zt=tt<0?"+":"-",Zt=Math.floor(Math.abs(tt/60)),wn=Math.abs(tt%60),Wn=[zt,_e(Zt),"'",_e(wn),"'"].join("");return["D:",me.getFullYear(),_e(me.getMonth()+1),_e(me.getDate()),_e(me.getHours()),_e(me.getMinutes()),_e(me.getSeconds()),Wn].join("")},ye=y.__private__.convertPDFDateToDate=function(me){var tt=parseInt(me.substr(2,4),10),zt=parseInt(me.substr(6,2),10)-1,Zt=parseInt(me.substr(8,2),10),wn=parseInt(me.substr(10,2),10),Wn=parseInt(me.substr(12,2),10),vr=parseInt(me.substr(14,2),10);return new Date(tt,zt,Zt,wn,Wn,vr,0)},Ee=y.__private__.setCreationDate=function(me){var tt;if(me===void 0&&(me=new Date),me instanceof Date)tt=ue(me);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(me))throw new Error("Invalid argument passed to jsPDF.setCreationDate");tt=me}return J=tt},se=y.__private__.getCreationDate=function(me){var tt=J;return me==="jsDate"&&(tt=ye(J)),tt};y.setCreationDate=function(me){return Ee(me),this},y.getCreationDate=function(me){return se(me)};var oe,_e=y.__private__.padd2=function(me){return("0"+parseInt(me)).slice(-2)},Ue=y.__private__.padd2Hex=function(me){return("00"+(me=me.toString())).substr(me.length)},Le=0,be=[],Re=[],Qe=0,Je=[],nt=[],Ve=!1,ke=Re,Ge=function(){Le=0,Qe=0,Re=[],be=[],Je=[],an=En(),In=En()};y.__private__.setCustomOutputDestination=function(me){Ve=!0,ke=me};var Ne=function(me){Ve||(ke=me)};y.__private__.resetCustomOutputDestination=function(){Ve=!1,ke=Re};var je=y.__private__.out=function(me){return me=me.toString(),Qe+=me.length+1,ke.push(me),ke},Ye=y.__private__.write=function(me){return je(arguments.length===1?me.toString():Array.prototype.join.call(arguments," "))},vt=y.__private__.getArrayBuffer=function(me){for(var tt=me.length,zt=new ArrayBuffer(tt),Zt=new Uint8Array(zt);tt--;)Zt[tt]=me.charCodeAt(tt);return zt},Lt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return Lt};var Et=t.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(me){return Et=R===P.ADVANCED?me/Xe:me,this};var Vt,_t=y.__private__.getFontSize=y.getFontSize=function(){return R===P.COMPAT?Et:Et*Xe},qt=t.R2L||!1;y.__private__.setR2L=y.setR2L=function(me){return qt=me,this},y.__private__.getR2L=y.getR2L=function(){return qt};var tn,Nt=y.__private__.setZoomMode=function(me){var tt=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(me))Vt=me;else if(isNaN(me)){if(tt.indexOf(me)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+me+'" is not recognized.');Vt=me}else Vt=parseInt(me,10)};y.__private__.getZoomMode=function(){return Vt};var wt,De=y.__private__.setPageMode=function(me){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(me)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+me+'" is not recognized.');tn=me};y.__private__.getPageMode=function(){return tn};var We=y.__private__.setLayoutMode=function(me){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(me)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+me+'" is not recognized.');wt=me};y.__private__.getLayoutMode=function(){return wt},y.__private__.setDisplayMode=y.setDisplayMode=function(me,tt,zt){return Nt(me),We(tt),De(zt),this};var ut={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(me){if(Object.keys(ut).indexOf(me)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ut[me]},y.__private__.getDocumentProperties=function(){return ut},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(me){for(var tt in ut)ut.hasOwnProperty(tt)&&me[tt]&&(ut[tt]=me[tt]);return this},y.__private__.setDocumentProperty=function(me,tt){if(Object.keys(ut).indexOf(me)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ut[me]=tt};var It,Xe,kt,Bt,it,Mt={},at={},et=[],St={},sn={},bn={},gr={},tr=null,Nn=0,lr=[],Qr=new zX(y),Ci=t.hotfixes||[],ai={},Vi={},va=[],Rr=function me(tt,zt,Zt,wn,Wn,vr){if(!(this instanceof me))return new me(tt,zt,Zt,wn,Wn,vr);isNaN(tt)&&(tt=1),isNaN(zt)&&(zt=0),isNaN(Zt)&&(Zt=0),isNaN(wn)&&(wn=1),isNaN(Wn)&&(Wn=0),isNaN(vr)&&(vr=0),this._matrix=[tt,zt,Zt,wn,Wn,vr]};Object.defineProperty(Rr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(me){this._matrix[0]=me}}),Object.defineProperty(Rr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(me){this._matrix[1]=me}}),Object.defineProperty(Rr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(me){this._matrix[2]=me}}),Object.defineProperty(Rr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(me){this._matrix[3]=me}}),Object.defineProperty(Rr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(me){this._matrix[4]=me}}),Object.defineProperty(Rr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(me){this._matrix[5]=me}}),Object.defineProperty(Rr.prototype,"a",{get:function(){return this._matrix[0]},set:function(me){this._matrix[0]=me}}),Object.defineProperty(Rr.prototype,"b",{get:function(){return this._matrix[1]},set:function(me){this._matrix[1]=me}}),Object.defineProperty(Rr.prototype,"c",{get:function(){return this._matrix[2]},set:function(me){this._matrix[2]=me}}),Object.defineProperty(Rr.prototype,"d",{get:function(){return this._matrix[3]},set:function(me){this._matrix[3]=me}}),Object.defineProperty(Rr.prototype,"e",{get:function(){return this._matrix[4]},set:function(me){this._matrix[4]=me}}),Object.defineProperty(Rr.prototype,"f",{get:function(){return this._matrix[5]},set:function(me){this._matrix[5]=me}}),Object.defineProperty(Rr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Rr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Rr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Rr.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Rr.prototype.join=function(me){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(j).join(me)},Rr.prototype.multiply=function(me){var tt=me.sx*this.sx+me.shy*this.shx,zt=me.sx*this.shy+me.shy*this.sy,Zt=me.shx*this.sx+me.sy*this.shx,wn=me.shx*this.shy+me.sy*this.sy,Wn=me.tx*this.sx+me.ty*this.shx+this.tx,vr=me.tx*this.shy+me.ty*this.sy+this.ty;return new Rr(tt,zt,Zt,wn,Wn,vr)},Rr.prototype.decompose=function(){var me=this.sx,tt=this.shy,zt=this.shx,Zt=this.sy,wn=this.tx,Wn=this.ty,vr=Math.sqrt(me*me+tt*tt),Wr=(me/=vr)*zt+(tt/=vr)*Zt;zt-=me*Wr,Zt-=tt*Wr;var gi=Math.sqrt(zt*zt+Zt*Zt);return Wr/=gi,me*(Zt/=gi)<tt*(zt/=gi)&&(me=-me,tt=-tt,Wr=-Wr,vr=-vr),{scale:new Rr(vr,0,0,gi,0,0),translate:new Rr(1,0,0,1,wn,Wn),rotate:new Rr(me,tt,-tt,me,0,0),skew:new Rr(1,0,Wr,1,0,0)}},Rr.prototype.toString=function(me){return this.join(" ")},Rr.prototype.inversed=function(){var me=this.sx,tt=this.shy,zt=this.shx,Zt=this.sy,wn=this.tx,Wn=this.ty,vr=1/(me*Zt-tt*zt),Wr=Zt*vr,gi=-tt*vr,sa=-zt*vr,Ki=me*vr;return new Rr(Wr,gi,sa,Ki,-Wr*wn-sa*Wn,-gi*wn-Ki*Wn)},Rr.prototype.applyToPoint=function(me){var tt=me.x*this.sx+me.y*this.shx+this.tx,zt=me.x*this.shy+me.y*this.sy+this.ty;return new ud(tt,zt)},Rr.prototype.applyToRectangle=function(me){var tt=this.applyToPoint(me),zt=this.applyToPoint(new ud(me.x+me.w,me.y+me.h));return new mh(tt.x,tt.y,zt.x-tt.x,zt.y-tt.y)},Rr.prototype.clone=function(){var me=this.sx,tt=this.shy,zt=this.shx,Zt=this.sy,wn=this.tx,Wn=this.ty;return new Rr(me,tt,zt,Zt,wn,Wn)},y.Matrix=Rr;var qi=y.matrixMult=function(me,tt){return tt.multiply(me)},Hi=new Rr(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=Hi;var Jt=function(me,tt){if(!sn[me]){var zt=(tt instanceof N_?"Sh":"P")+(Object.keys(St).length+1).toString(10);tt.id=zt,sn[me]=zt,St[zt]=tt,Qr.publish("addPattern",tt)}};y.ShadingPattern=N_,y.TilingPattern=Dw,y.addShadingPattern=function(me,tt){return Q("addShadingPattern()"),Jt(me,tt),this},y.beginTilingPattern=function(me){Q("beginTilingPattern()"),mc(me.boundingBox[0],me.boundingBox[1],me.boundingBox[2]-me.boundingBox[0],me.boundingBox[3]-me.boundingBox[1],me.matrix)},y.endTilingPattern=function(me,tt){Q("endTilingPattern()"),tt.stream=nt[oe].join(`
`),Jt(me,tt),Qr.publish("endTilingPattern",tt),va.pop().restore()};var hn=y.__private__.newObject=function(){var me=En();return Hn(me,!0),me},En=y.__private__.newObjectDeferred=function(){return Le++,be[Le]=function(){return Qe},Le},Hn=function(me,tt){return tt=typeof tt=="boolean"&&tt,be[me]=Qe,tt&&je(me+" 0 obj"),me},Ht=y.__private__.newAdditionalObject=function(){var me={objId:En(),content:""};return Je.push(me),me},an=En(),In=En(),kn=y.__private__.decodeColorString=function(me){var tt=me.split(" ");if(tt.length!==2||tt[1]!=="g"&&tt[1]!=="G")tt.length===5&&(tt[4]==="k"||tt[4]==="K")&&(tt=[(1-tt[0])*(1-tt[3]),(1-tt[1])*(1-tt[3]),(1-tt[2])*(1-tt[3]),"r"]);else{var zt=parseFloat(tt[0]);tt=[zt,zt,zt,"r"]}for(var Zt="#",wn=0;wn<3;wn++)Zt+=("0"+Math.floor(255*parseFloat(tt[wn])).toString(16)).slice(-2);return Zt},er=y.__private__.encodeColorString=function(me){var tt;typeof me=="string"&&(me={ch1:me});var zt=me.ch1,Zt=me.ch2,wn=me.ch3,Wn=me.ch4,vr=me.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof zt=="string"&&zt.charAt(0)!=="#"){var Wr=new Uhe(zt);if(Wr.ok)zt=Wr.toHex();else if(!/^\d*\.?\d*$/.test(zt))throw new Error('Invalid color "'+zt+'" passed to jsPDF.encodeColorString.')}if(typeof zt=="string"&&/^#[0-9A-Fa-f]{3}$/.test(zt)&&(zt="#"+zt[1]+zt[1]+zt[2]+zt[2]+zt[3]+zt[3]),typeof zt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(zt)){var gi=parseInt(zt.substr(1),16);zt=gi>>16&255,Zt=gi>>8&255,wn=255&gi}if(Zt===void 0||Wn===void 0&&zt===Zt&&Zt===wn)if(typeof zt=="string")tt=zt+" "+vr[0];else switch(me.precision){case 2:tt=ie(zt/255)+" "+vr[0];break;case 3:default:tt=q(zt/255)+" "+vr[0]}else if(Wn===void 0||ys(Wn)==="object"){if(Wn&&!isNaN(Wn.a)&&Wn.a===0)return tt=["1.","1.","1.",vr[1]].join(" ");if(typeof zt=="string")tt=[zt,Zt,wn,vr[1]].join(" ");else switch(me.precision){case 2:tt=[ie(zt/255),ie(Zt/255),ie(wn/255),vr[1]].join(" ");break;default:case 3:tt=[q(zt/255),q(Zt/255),q(wn/255),vr[1]].join(" ")}}else if(typeof zt=="string")tt=[zt,Zt,wn,Wn,vr[2]].join(" ");else switch(me.precision){case 2:tt=[ie(zt),ie(Zt),ie(wn),ie(Wn),vr[2]].join(" ");break;case 3:default:tt=[q(zt),q(Zt),q(wn),q(Wn),vr[2]].join(" ")}return tt},Gn=y.__private__.getFilters=function(){return l},Mr=y.__private__.putStream=function(me){var tt=(me=me||{}).data||"",zt=me.filters||Gn(),Zt=me.alreadyAppliedFilters||[],wn=me.addLength1||!1,Wn=tt.length,vr=me.objectId,Wr=function(nl){return nl};if(p!==null&&vr===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(Wr=zo.encryptor(vr,0));var gi={};zt===!0&&(zt=["FlateEncode"]);var sa=me.additionalKeyValues||[],Ki=(gi=ga.API.processDataByFilters!==void 0?ga.API.processDataByFilters(tt,zt):{data:tt,reverseChain:[]}).reverseChain+(Array.isArray(Zt)?Zt.join(" "):Zt.toString());if(gi.data.length!==0&&(sa.push({key:"Length",value:gi.data.length}),wn===!0&&sa.push({key:"Length1",value:Wn})),Ki.length!=0)if(Ki.split("/").length-1==1)sa.push({key:"Filter",value:Ki});else{sa.push({key:"Filter",value:"["+Ki+"]"});for(var zn=0;zn<sa.length;zn+=1)if(sa[zn].key==="DecodeParms"){for(var Is=[],Ys=0;Ys<gi.reverseChain.split("/").length-1;Ys+=1)Is.push("null");Is.push(sa[zn].value),sa[zn].value="["+Is.join(" ")+"]"}}je("<<");for(var Xs=0;Xs<sa.length;Xs++)je("/"+sa[Xs].key+" "+sa[Xs].value);je(">>"),gi.data.length!==0&&(je("stream"),je(Wr(gi.data)),je("endstream"))},ti=y.__private__.putPage=function(me){var tt=me.number,zt=me.data,Zt=me.objId,wn=me.contentsObjId;Hn(Zt,!0),je("<</Type /Page"),je("/Parent "+me.rootDictionaryObjId+" 0 R"),je("/Resources "+me.resourceDictionaryObjId+" 0 R"),je("/MediaBox ["+parseFloat(j(me.mediaBox.bottomLeftX))+" "+parseFloat(j(me.mediaBox.bottomLeftY))+" "+j(me.mediaBox.topRightX)+" "+j(me.mediaBox.topRightY)+"]"),me.cropBox!==null&&je("/CropBox ["+j(me.cropBox.bottomLeftX)+" "+j(me.cropBox.bottomLeftY)+" "+j(me.cropBox.topRightX)+" "+j(me.cropBox.topRightY)+"]"),me.bleedBox!==null&&je("/BleedBox ["+j(me.bleedBox.bottomLeftX)+" "+j(me.bleedBox.bottomLeftY)+" "+j(me.bleedBox.topRightX)+" "+j(me.bleedBox.topRightY)+"]"),me.trimBox!==null&&je("/TrimBox ["+j(me.trimBox.bottomLeftX)+" "+j(me.trimBox.bottomLeftY)+" "+j(me.trimBox.topRightX)+" "+j(me.trimBox.topRightY)+"]"),me.artBox!==null&&je("/ArtBox ["+j(me.artBox.bottomLeftX)+" "+j(me.artBox.bottomLeftY)+" "+j(me.artBox.topRightX)+" "+j(me.artBox.topRightY)+"]"),typeof me.userUnit=="number"&&me.userUnit!==1&&je("/UserUnit "+me.userUnit),Qr.publish("putPage",{objId:Zt,pageContext:lr[tt],pageNumber:tt,page:zt}),je("/Contents "+wn+" 0 R"),je(">>"),je("endobj");var Wn=zt.join(`
`);return R===P.ADVANCED&&(Wn+=`
Q`),Hn(wn,!0),Mr({data:Wn,filters:Gn(),objectId:wn}),je("endobj"),Zt},Tn=y.__private__.putPages=function(){var me,tt,zt=[];for(me=1;me<=Nn;me++)lr[me].objId=En(),lr[me].contentsObjId=En();for(me=1;me<=Nn;me++)zt.push(ti({number:me,data:nt[me],objId:lr[me].objId,contentsObjId:lr[me].contentsObjId,mediaBox:lr[me].mediaBox,cropBox:lr[me].cropBox,bleedBox:lr[me].bleedBox,trimBox:lr[me].trimBox,artBox:lr[me].artBox,userUnit:lr[me].userUnit,rootDictionaryObjId:an,resourceDictionaryObjId:In}));Hn(an,!0),je("<</Type /Pages");var Zt="/Kids [";for(tt=0;tt<Nn;tt++)Zt+=zt[tt]+" 0 R ";je(Zt+"]"),je("/Count "+Nn),je(">>"),je("endobj"),Qr.publish("postPutPages")},Kt=function(me){Qr.publish("putFont",{font:me,out:je,newObject:hn,putStream:Mr}),me.isAlreadyPutted!==!0&&(me.objectNumber=hn(),je("<<"),je("/Type /Font"),je("/BaseFont /"+ww(me.postScriptName)),je("/Subtype /Type1"),typeof me.encoding=="string"&&je("/Encoding /"+me.encoding),je("/FirstChar 32"),je("/LastChar 255"),je(">>"),je("endobj"))},Zn=function(){for(var me in Mt)Mt.hasOwnProperty(me)&&(m===!1||m===!0&&v.hasOwnProperty(me))&&Kt(Mt[me])},jt=function(me){me.objectNumber=hn();var tt=[];tt.push({key:"Type",value:"/XObject"}),tt.push({key:"Subtype",value:"/Form"}),tt.push({key:"BBox",value:"["+[j(me.x),j(me.y),j(me.x+me.width),j(me.y+me.height)].join(" ")+"]"}),tt.push({key:"Matrix",value:"["+me.matrix.toString()+"]"});var zt=me.pages[1].join(`
`);Mr({data:zt,additionalKeyValues:tt,objectId:me.objectNumber}),je("endobj")},Xn=function(){for(var me in ai)ai.hasOwnProperty(me)&&jt(ai[me])},kr=function(me,tt){var zt,Zt=[],wn=1/(tt-1);for(zt=0;zt<1;zt+=wn)Zt.push(zt);if(Zt.push(1),me[0].offset!=0){var Wn={offset:0,color:me[0].color};me.unshift(Wn)}if(me[me.length-1].offset!=1){var vr={offset:1,color:me[me.length-1].color};me.push(vr)}for(var Wr="",gi=0,sa=0;sa<Zt.length;sa++){for(zt=Zt[sa];zt>me[gi+1].offset;)gi++;var Ki=me[gi].offset,zn=(zt-Ki)/(me[gi+1].offset-Ki),Is=me[gi].color,Ys=me[gi+1].color;Wr+=Ue(Math.round((1-zn)*Is[0]+zn*Ys[0]).toString(16))+Ue(Math.round((1-zn)*Is[1]+zn*Ys[1]).toString(16))+Ue(Math.round((1-zn)*Is[2]+zn*Ys[2]).toString(16))}return Wr.trim()},_r=function(me,tt){tt||(tt=21);var zt=hn(),Zt=kr(me.colors,tt),wn=[];wn.push({key:"FunctionType",value:"0"}),wn.push({key:"Domain",value:"[0.0 1.0]"}),wn.push({key:"Size",value:"["+tt+"]"}),wn.push({key:"BitsPerSample",value:"8"}),wn.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),wn.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Mr({data:Zt,additionalKeyValues:wn,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:zt}),je("endobj"),me.objectNumber=hn(),je("<< /ShadingType "+me.type),je("/ColorSpace /DeviceRGB");var Wn="/Coords ["+j(parseFloat(me.coords[0]))+" "+j(parseFloat(me.coords[1]))+" ";me.type===2?Wn+=j(parseFloat(me.coords[2]))+" "+j(parseFloat(me.coords[3])):Wn+=j(parseFloat(me.coords[2]))+" "+j(parseFloat(me.coords[3]))+" "+j(parseFloat(me.coords[4]))+" "+j(parseFloat(me.coords[5])),je(Wn+="]"),me.matrix&&je("/Matrix ["+me.matrix.toString()+"]"),je("/Function "+zt+" 0 R"),je("/Extend [true true]"),je(">>"),je("endobj")},fa=function(me,tt){var zt=En(),Zt=hn();tt.push({resourcesOid:zt,objectOid:Zt}),me.objectNumber=Zt;var wn=[];wn.push({key:"Type",value:"/Pattern"}),wn.push({key:"PatternType",value:"1"}),wn.push({key:"PaintType",value:"1"}),wn.push({key:"TilingType",value:"1"}),wn.push({key:"BBox",value:"["+me.boundingBox.map(j).join(" ")+"]"}),wn.push({key:"XStep",value:j(me.xStep)}),wn.push({key:"YStep",value:j(me.yStep)}),wn.push({key:"Resources",value:zt+" 0 R"}),me.matrix&&wn.push({key:"Matrix",value:"["+me.matrix.toString()+"]"}),Mr({data:me.stream,additionalKeyValues:wn,objectId:me.objectNumber}),je("endobj")},ss=function(me){var tt;for(tt in St)St.hasOwnProperty(tt)&&(St[tt]instanceof N_?_r(St[tt]):St[tt]instanceof Dw&&fa(St[tt],me))},Sa=function(me){for(var tt in me.objectNumber=hn(),je("<<"),me)switch(tt){case"opacity":je("/ca "+ie(me[tt]));break;case"stroke-opacity":je("/CA "+ie(me[tt]))}je(">>"),je("endobj")},Gc=function(){var me;for(me in bn)bn.hasOwnProperty(me)&&Sa(bn[me])},uu=function(){for(var me in je("/XObject <<"),ai)ai.hasOwnProperty(me)&&ai[me].objectNumber>=0&&je("/"+me+" "+ai[me].objectNumber+" 0 R");Qr.publish("putXobjectDict"),je(">>")},Zh=function(){zo.oid=hn(),je("<<"),je("/Filter /Standard"),je("/V "+zo.v),je("/R "+zo.r),je("/U <"+zo.toHexString(zo.U)+">"),je("/O <"+zo.toHexString(zo.O)+">"),je("/P "+zo.P),je(">>"),je("endobj")},vA=function(){for(var me in je("/Font <<"),Mt)Mt.hasOwnProperty(me)&&(m===!1||m===!0&&v.hasOwnProperty(me))&&je("/"+me+" "+Mt[me].objectNumber+" 0 R");je(">>")},Jh=function(){if(Object.keys(St).length>0){for(var me in je("/Shading <<"),St)St.hasOwnProperty(me)&&St[me]instanceof N_&&St[me].objectNumber>=0&&je("/"+me+" "+St[me].objectNumber+" 0 R");Qr.publish("putShadingPatternDict"),je(">>")}},qd=function(me){if(Object.keys(St).length>0){for(var tt in je("/Pattern <<"),St)St.hasOwnProperty(tt)&&St[tt]instanceof y.TilingPattern&&St[tt].objectNumber>=0&&St[tt].objectNumber<me&&je("/"+tt+" "+St[tt].objectNumber+" 0 R");Qr.publish("putTilingPatternDict"),je(">>")}},Yd=function(){if(Object.keys(bn).length>0){var me;for(me in je("/ExtGState <<"),bn)bn.hasOwnProperty(me)&&bn[me].objectNumber>=0&&je("/"+me+" "+bn[me].objectNumber+" 0 R");Qr.publish("putGStateDict"),je(">>")}},po=function(me){Hn(me.resourcesOid,!0),je("<<"),je("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),vA(),Jh(),qd(me.objectOid),Yd(),uu(),je(">>"),je("endobj")},Kf=function(){var me=[];Zn(),Gc(),Xn(),ss(me),Qr.publish("putResources"),me.forEach(po),po({resourcesOid:In,objectOid:Number.MAX_SAFE_INTEGER}),Qr.publish("postPutResources")},_A=function(){Qr.publish("putAdditionalObjects");for(var me=0;me<Je.length;me++){var tt=Je[me];Hn(tt.objId,!0),je(tt.content),je("endobj")}Qr.publish("postPutAdditionalObjects")},Wf=function(me){at[me.fontName]=at[me.fontName]||{},at[me.fontName][me.fontStyle]=me.id},qf=function(me,tt,zt,Zt,wn){var Wn={id:"F"+(Object.keys(Mt).length+1).toString(10),postScriptName:me,fontName:tt,fontStyle:zt,encoding:Zt,isStandardFont:wn||!1,metadata:{}};return Qr.publish("addFont",{font:Wn,instance:this}),Mt[Wn.id]=Wn,Wf(Wn),Wn.id},Ql=function(me){for(var tt=0,zt=Lt.length;tt<zt;tt++){var Zt=qf.call(this,me[tt][0],me[tt][1],me[tt][2],Lt[tt][3],!0);m===!1&&(v[Zt]=!0);var wn=me[tt][0].split("-");Wf({id:Zt,fontName:wn[0],fontStyle:wn[1]||""})}Qr.publish("addFonts",{fonts:Mt,dictionary:at})},Wa=function(me){return me.foo=function(){try{return me.apply(this,arguments)}catch(Zt){var tt=Zt.stack||"";~tt.indexOf(" at ")&&(tt=tt.split(" at ")[1]);var zt="Error in function "+tt.split(`
`)[0].split("<")[0]+": "+Zt.message;if(!ua.console)throw new Error(zt);ua.console.error(zt,Zt),ua.alert&&alert(zt)}},me.foo.bar=me,me.foo},Di=function(me,tt){var zt,Zt,wn,Wn,vr,Wr,gi,sa,Ki;if(wn=(tt=tt||{}).sourceEncoding||"Unicode",vr=tt.outputEncoding,(tt.autoencode||vr)&&Mt[It].metadata&&Mt[It].metadata[wn]&&Mt[It].metadata[wn].encoding&&(Wn=Mt[It].metadata[wn].encoding,!vr&&Mt[It].encoding&&(vr=Mt[It].encoding),!vr&&Wn.codePages&&(vr=Wn.codePages[0]),typeof vr=="string"&&(vr=Wn[vr]),vr)){for(gi=!1,Wr=[],zt=0,Zt=me.length;zt<Zt;zt++)(sa=vr[me.charCodeAt(zt)])?Wr.push(String.fromCharCode(sa)):Wr.push(me[zt]),Wr[zt].charCodeAt(0)>>8&&(gi=!0);me=Wr.join("")}for(zt=me.length;gi===void 0&&zt!==0;)me.charCodeAt(zt-1)>>8&&(gi=!0),zt--;if(!gi)return me;for(Wr=tt.noBOM?[]:[254,255],zt=0,Zt=me.length;zt<Zt;zt++){if((Ki=(sa=me.charCodeAt(zt))>>8)>>8)throw new Error("Character at position "+zt+" of string '"+me+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Wr.push(Ki),Wr.push(sa-(Ki<<8))}return String.fromCharCode.apply(void 0,Wr)},cu=y.__private__.pdfEscape=y.pdfEscape=function(me,tt){return Di(me,tt).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Xd=y.__private__.beginPage=function(me){nt[++Nn]=[],lr[Nn]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(me[0]),topRightY:Number(me[1])}},Yu(Nn),Ne(nt[oe])},yA=function(me,tt){var zt,Zt,wn;switch(n=tt||n,typeof me=="string"&&(zt=M(me.toLowerCase()),Array.isArray(zt)&&(Zt=zt[0],wn=zt[1])),Array.isArray(me)&&(Zt=me[0]*Xe,wn=me[1]*Xe),isNaN(Zt)&&(Zt=i[0],wn=i[1]),(Zt>14400||wn>14400)&&(uo.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Zt=Math.min(14400,Zt),wn=Math.min(14400,wn)),i=[Zt,wn],n.substr(0,1)){case"l":wn>Zt&&(i=[wn,Zt]);break;case"p":Zt>wn&&(i=[wn,Zt])}Xd(i),sd(Yf),je(vl),jm!==0&&je(jm+" J"),Ac!==0&&je(Ac+" j"),Qr.publish("addPage",{pageNumber:Nn})},U1=function(me){me>0&&me<=Nn&&(nt.splice(me,1),lr.splice(me,1),Nn--,oe>Nn&&(oe=Nn),this.setPage(oe))},Yu=function(me){me>0&&me<=Nn&&(oe=me)},Qm=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return nt.length-1},P0=function(me,tt,zt){var Zt,wn=void 0;return zt=zt||{},me=me!==void 0?me:Mt[It].fontName,tt=tt!==void 0?tt:Mt[It].fontStyle,Zt=me.toLowerCase(),at[Zt]!==void 0&&at[Zt][tt]!==void 0?wn=at[Zt][tt]:at[me]!==void 0&&at[me][tt]!==void 0?wn=at[me][tt]:zt.disableWarning===!1&&uo.warn("Unable to look up font label for font '"+me+"', '"+tt+"'. Refer to getFontList() for available fonts."),wn||zt.noFallback||(wn=at.times[tt])==null&&(wn=at.times.normal),wn},Zd=y.__private__.putInfo=function(){var me=hn(),tt=function(Zt){return Zt};for(var zt in p!==null&&(tt=zo.encryptor(me,0)),je("<<"),je("/Producer ("+cu(tt("jsPDF "+ga.version))+")"),ut)ut.hasOwnProperty(zt)&&ut[zt]&&je("/"+zt.substr(0,1).toUpperCase()+zt.substr(1)+" ("+cu(tt(ut[zt]))+")");je("/CreationDate ("+cu(tt(J))+")"),je(">>"),je("endobj")},mr=y.__private__.putCatalog=function(me){var tt=(me=me||{}).rootDictionaryObjId||an;switch(hn(),je("<<"),je("/Type /Catalog"),je("/Pages "+tt+" 0 R"),Vt||(Vt="fullwidth"),Vt){case"fullwidth":je("/OpenAction [3 0 R /FitH null]");break;case"fullheight":je("/OpenAction [3 0 R /FitV null]");break;case"fullpage":je("/OpenAction [3 0 R /Fit]");break;case"original":je("/OpenAction [3 0 R /XYZ null null 1]");break;default:var zt=""+Vt;zt.substr(zt.length-1)==="%"&&(Vt=parseInt(Vt)/100),typeof Vt=="number"&&je("/OpenAction [3 0 R /XYZ null null "+ie(Vt)+"]")}switch(wt||(wt="continuous"),wt){case"continuous":je("/PageLayout /OneColumn");break;case"single":je("/PageLayout /SinglePage");break;case"two":case"twoleft":je("/PageLayout /TwoColumnLeft");break;case"tworight":je("/PageLayout /TwoColumnRight")}tn&&je("/PageMode /"+tn),Qr.publish("putCatalog"),je(">>"),je("endobj")},pa=y.__private__.putTrailer=function(){je("trailer"),je("<<"),je("/Size "+(Le+1)),je("/Root "+Le+" 0 R"),je("/Info "+(Le-1)+" 0 R"),p!==null&&je("/Encrypt "+zo.oid+" 0 R"),je("/ID [ <"+te+"> <"+te+"> ]"),je(">>")},Aa=y.__private__.putHeader=function(){je("%PDF-"+T),je("%ºß¬à")},Iu=y.__private__.putXRef=function(){var me="0000000000";je("xref"),je("0 "+(Le+1)),je("0000000000 65535 f ");for(var tt=1;tt<=Le;tt++)typeof be[tt]=="function"?je((me+be[tt]()).slice(-10)+" 00000 n "):be[tt]!==void 0?je((me+be[tt]).slice(-10)+" 00000 n "):je("0000000000 00000 n ")},Lu=y.__private__.buildDocument=function(){Ge(),Ne(Re),Qr.publish("buildDocument"),Aa(),Tn(),_A(),Kf(),p!==null&&Zh(),Zd(),mr();var me=Qe;return Iu(),pa(),je("startxref"),je(""+me),je("%%EOF"),Ne(nt[oe]),Re.join(`
`)},Gi=y.__private__.getBlob=function(me){return new Blob([vt(me)],{type:"application/pdf"})},ed=y.output=y.__private__.output=Wa(function(me,tt){switch(typeof(tt=tt||{})=="string"?tt={filename:tt}:tt.filename=tt.filename||"generated.pdf",me){case void 0:return Lu();case"save":y.save(tt.filename);break;case"arraybuffer":return vt(Lu());case"blob":return Gi(Lu());case"bloburi":case"bloburl":if(ua.URL!==void 0&&typeof ua.URL.createObjectURL=="function")return ua.URL&&ua.URL.createObjectURL(Gi(Lu()))||void 0;uo.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var zt="",Zt=Lu();try{zt=AD(Zt)}catch{zt=AD(unescape(encodeURIComponent(Zt)))}return"data:application/pdf;filename="+tt.filename+";base64,"+zt;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ua)==="[object Window]"){var wn="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Wn=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';tt.pdfObjectUrl&&(wn=tt.pdfObjectUrl,Wn="");var vr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+wn+'"'+Wn+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(tt)+");<\/script></body></html>",Wr=ua.open();return Wr!==null&&Wr.document.write(vr),Wr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ua)==="[object Window]"){var gi='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(tt.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+tt.filename+'" width="500px" height="400px" /></body></html>',sa=ua.open();if(sa!==null){sa.document.write(gi);var Ki=this;sa.document.documentElement.querySelector("#pdfViewer").onload=function(){sa.document.title=tt.filename,sa.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ki.output("bloburl"))}}return sa}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ua)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var zn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",tt)+'"></iframe></body></html>',Is=ua.open();if(Is!==null&&(Is.document.write(zn),Is.document.title=tt.filename),Is||typeof safari>"u")return Is;break;case"datauri":case"dataurl":return ua.document.location.href=this.output("datauristring",tt);default:return null}}),td=function(me){return Array.isArray(Ci)===!0&&Ci.indexOf(me)>-1};switch(r){case"pt":Xe=1;break;case"mm":Xe=72/25.4;break;case"cm":Xe=72/2.54;break;case"in":Xe=72;break;case"px":Xe=td("px_scaling")==1?.75:96/72;break;case"pc":case"em":Xe=12;break;case"ex":Xe=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Xe=r}var zo=null;Ee(),ce();var jl=function(me){return p!==null?zo.encryptor(me,0):function(tt){return tt}},ws=y.__private__.getPageInfo=y.getPageInfo=function(me){if(isNaN(me)||me%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:lr[me].objId,pageNumber:me,pageContext:lr[me]}},rr=y.__private__.getPageInfoByObjId=function(me){if(isNaN(me)||me%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var tt in lr)if(lr[tt].objId===me)break;return ws(tt)},nd=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:lr[oe].objId,pageNumber:oe,pageContext:lr[oe]}};y.addPage=function(){return yA.apply(this,arguments),this},y.setPage=function(){return Yu.apply(this,arguments),Ne.call(this,nt[oe]),this},y.insertPage=function(me){return this.addPage(),this.movePage(oe,me),this},y.movePage=function(me,tt){var zt,Zt;if(me>tt){zt=nt[me],Zt=lr[me];for(var wn=me;wn>tt;wn--)nt[wn]=nt[wn-1],lr[wn]=lr[wn-1];nt[tt]=zt,lr[tt]=Zt,this.setPage(tt)}else if(me<tt){zt=nt[me],Zt=lr[me];for(var Wn=me;Wn<tt;Wn++)nt[Wn]=nt[Wn+1],lr[Wn]=lr[Wn+1];nt[tt]=zt,lr[tt]=Zt,this.setPage(tt)}return this},y.deletePage=function(){return U1.apply(this,arguments),this},y.__private__.text=y.text=function(me,tt,zt,Zt,wn){var Wn,vr,Wr,gi,sa,Ki,zn,Is,Ys,Xs=(Zt=Zt||{}).scope||this;if(typeof me=="number"&&typeof tt=="number"&&(typeof zt=="string"||Array.isArray(zt))){var nl=zt;zt=tt,tt=me,me=nl}if(arguments[3]instanceof Rr?(Q("The transform parameter of text() with a Matrix value"),Ys=wn):(Wr=arguments[4],gi=arguments[5],ys(zn=arguments[3])==="object"&&zn!==null||(typeof Wr=="string"&&(gi=Wr,Wr=null),typeof zn=="string"&&(gi=zn,zn=null),typeof zn=="number"&&(Wr=zn,zn=null),Zt={flags:zn,angle:Wr,align:gi})),isNaN(tt)||isNaN(zt)||me==null)throw new Error("Invalid arguments passed to jsPDF.text");if(me.length===0)return Xs;var $s="",Bo=!1,hu=typeof Zt.lineHeightFactor=="number"?Zt.lineHeightFactor:ad,du=Xs.internal.scaleFactor;function tp(qa){return qa=qa.split("	").join(Array(Zt.TabLen||9).join(" ")),cu(qa,zn)}function Wc(qa){for(var xs,Ls=qa.concat(),Mo=[],xh=Ls.length;xh--;)typeof(xs=Ls.shift())=="string"?Mo.push(xs):Array.isArray(qa)&&(xs.length===1||xs[1]===void 0&&xs[2]===void 0)?Mo.push(xs[0]):Mo.push([xs[0],xs[1],xs[2]]);return Mo}function np(qa,xs){var Ls;if(typeof qa=="string")Ls=xs(qa)[0];else if(Array.isArray(qa)){for(var Mo,xh,nf=qa.concat(),Xl=[],op=nf.length;op--;)typeof(Mo=nf.shift())=="string"?Xl.push(xs(Mo)[0]):Array.isArray(Mo)&&typeof Mo[0]=="string"&&(xh=xs(Mo[0],Mo[1],Mo[2]),Xl.push([xh[0],xh[1],xh[2]]));Ls=Xl}return Ls}var xA=!1,_h=!0;if(typeof me=="string")xA=!0;else if(Array.isArray(me)){var Gm=me.concat();vr=[];for(var rp,fu=Gm.length;fu--;)(typeof(rp=Gm.shift())!="string"||Array.isArray(rp)&&typeof rp[0]!="string")&&(_h=!1);xA=_h}if(xA===!1)throw new Error('Type of text must be string or Array. "'+me+'" is not recognized.');typeof me=="string"&&(me=me.match(/[\r?\n]/)?me.split(/\r\n|\r|\n/g):[me]);var ef=Et/Xs.internal.scaleFactor,CA=ef*(hu-1);switch(Zt.baseline){case"bottom":zt-=CA;break;case"top":zt+=ef-CA;break;case"hanging":zt+=ef-2*CA;break;case"middle":zt+=ef/2-CA}if((Ki=Zt.maxWidth||0)>0&&(typeof me=="string"?me=Xs.splitTextToSize(me,Ki):Object.prototype.toString.call(me)==="[object Array]"&&(me=me.reduce(function(qa,xs){return qa.concat(Xs.splitTextToSize(xs,Ki))},[]))),Wn={text:me,x:tt,y:zt,options:Zt,mutex:{pdfEscape:cu,activeFontKey:It,fonts:Mt,activeFontSize:Et}},Qr.publish("preProcessText",Wn),me=Wn.text,Wr=(Zt=Wn.options).angle,!(Ys instanceof Rr)&&Wr&&typeof Wr=="number"){Wr*=Math.PI/180,Zt.rotationDirection===0&&(Wr=-Wr),R===P.ADVANCED&&(Wr=-Wr);var EA=Math.cos(Wr),Km=Math.sin(Wr);Ys=new Rr(EA,Km,-Km,EA,0,0)}else Wr&&Wr instanceof Rr&&(Ys=Wr);R!==P.ADVANCED||Ys||(Ys=Hi),(sa=Zt.charSpace||Jd)!==void 0&&($s+=j(W(sa))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Is=Zt.horizontalScale)!==void 0&&($s+=j(100*Is)+` Tz
`),Zt.lang;var pu=-1,ip=Zt.renderingMode!==void 0?Zt.renderingMode:Zt.stroke,Wm=Xs.internal.getCurrentPageInfo().pageContext;switch(ip){case 0:case!1:case"fill":pu=0;break;case 1:case!0:case"stroke":pu=1;break;case 2:case"fillThenStroke":pu=2;break;case 3:case"invisible":pu=3;break;case 4:case"fillAndAddForClipping":pu=4;break;case 5:case"strokeAndAddPathForClipping":pu=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":pu=6;break;case 7:case"addToPathForClipping":pu=7}var ap=Wm.usedRenderingMode!==void 0?Wm.usedRenderingMode:-1;pu!==-1?$s+=pu+` Tr
`:ap!==-1&&($s+=`0 Tr
`),pu!==-1&&(Wm.usedRenderingMode=pu),gi=Zt.align||"left";var Xu,SA=Et*hu,qm=Xs.internal.pageSize.getWidth(),TA=Mt[It];sa=Zt.charSpace||Jd,Ki=Zt.maxWidth||0,zn=Object.assign({autoencode:!0,noBOM:!0},Zt.flags);var yh=[];if(Object.prototype.toString.call(me)==="[object Array]"){var rl;vr=Wc(me),gi!=="left"&&(Xu=vr.map(function(qa){return Xs.getStringUnitWidth(qa,{font:TA,charSpace:sa,fontSize:Et,doKerning:!1})*Et/du}));var Ru,gc=0;if(gi==="right"){tt-=Xu[0],me=[],fu=vr.length;for(var vc=0;vc<fu;vc++)vc===0?(Ru=pc(tt),rl=Wl(zt)):(Ru=W(gc-Xu[vc]),rl=-SA),me.push([vr[vc],Ru,rl]),gc=Xu[vc]}else if(gi==="center"){tt-=Xu[0]/2,me=[],fu=vr.length;for(var Zu=0;Zu<fu;Zu++)Zu===0?(Ru=pc(tt),rl=Wl(zt)):(Ru=W((gc-Xu[Zu])/2),rl=-SA),me.push([vr[Zu],Ru,rl]),gc=Xu[Zu]}else if(gi==="left"){me=[],fu=vr.length;for(var qc=0;qc<fu;qc++)me.push(vr[qc])}else{if(gi!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');me=[],fu=vr.length,Ki=Ki!==0?Ki:qm;for(var ql=0;ql<fu;ql++)rl=ql===0?Wl(zt):-SA,Ru=ql===0?pc(tt):0,ql<fu-1?yh.push(j(W((Ki-Xu[ql])/(vr[ql].split(" ").length-1)))):yh.push(0),me.push([vr[ql],Ru,rl])}}var bh=typeof Zt.R2L=="boolean"?Zt.R2L:qt;bh===!0&&(me=np(me,function(qa,xs,Ls){return[qa.split("").reverse().join(""),xs,Ls]})),Wn={text:me,x:tt,y:zt,options:Zt,mutex:{pdfEscape:cu,activeFontKey:It,fonts:Mt,activeFontSize:Et}},Qr.publish("postProcessText",Wn),me=Wn.text,Bo=Wn.mutex.isHex||!1;var hd=Mt[It].encoding;hd!=="WinAnsiEncoding"&&hd!=="StandardEncoding"||(me=np(me,function(qa,xs,Ls){return[tp(qa),xs,Ls]})),vr=Wc(me),me=[];for(var Vs,il,oo,dd=0,sp=1,fd=Array.isArray(vr[0])?sp:dd,Ou="",tf=function(qa,xs,Ls){var Mo="";return Ls instanceof Rr?(Ls=typeof Zt.angle=="number"?qi(Ls,new Rr(1,0,0,1,qa,xs)):qi(new Rr(1,0,0,1,qa,xs),Ls),R===P.ADVANCED&&(Ls=qi(new Rr(1,0,0,-1,0,0),Ls)),Mo=Ls.join(" ")+` Tm
`):Mo=j(qa)+" "+j(xs)+` Td
`,Mo},Yl=0;Yl<vr.length;Yl++){switch(Ou="",fd){case sp:oo=(Bo?"<":"(")+vr[Yl][0]+(Bo?">":")"),Vs=parseFloat(vr[Yl][1]),il=parseFloat(vr[Yl][2]);break;case dd:oo=(Bo?"<":"(")+vr[Yl]+(Bo?">":")"),Vs=pc(tt),il=Wl(zt)}yh!==void 0&&yh[Yl]!==void 0&&(Ou=yh[Yl]+` Tw
`),Yl===0?me.push(Ou+tf(Vs,il,Ys)+oo):fd===dd?me.push(Ou+oo):fd===sp&&me.push(Ou+tf(Vs,il,Ys)+oo)}me=fd===dd?me.join(` Tj
T* `):me.join(` Tj
`),me+=` Tj
`;var wh=`BT
/`;return wh+=It+" "+Et+` Tf
`,wh+=j(Et*hu)+` TL
`,wh+=Ni+`
`,wh+=$s,wh+=me,je(wh+="ET"),v[It]=!0,Xs};var si=y.__private__.clip=y.clip=function(me){return je(me==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return si("evenodd")},y.__private__.discardPath=y.discardPath=function(){return je("n"),this};var gl=y.__private__.isValidStyle=function(me){var tt=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(me)!==-1&&(tt=!0),tt};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(me){return gl(me)&&(f=me),this};var Ii=y.__private__.getStyle=y.getStyle=function(me){var tt=f;switch(me){case"D":case"S":tt="S";break;case"F":tt="f";break;case"FD":case"DF":tt="B";break;case"f":case"f*":case"B":case"B*":tt=me}return tt},rd=y.close=function(){return je("h"),this};y.stroke=function(){return je("S"),this},y.fill=function(me){return so("f",me),this},y.fillEvenOdd=function(me){return so("f*",me),this},y.fillStroke=function(me){return so("B",me),this},y.fillStrokeEvenOdd=function(me){return so("B*",me),this};var so=function(me,tt){ys(tt)==="object"?id(tt,me):je(me)},Vr=function(me){me===null||R===P.ADVANCED&&me===void 0||(me=Ii(me),je(me))};function F0(me,tt,zt,Zt,wn){var Wn=new Dw(tt||this.boundingBox,zt||this.xStep,Zt||this.yStep,this.gState,wn||this.matrix);Wn.stream=this.stream;var vr=me+"$$"+this.cloneIndex+++"$$";return Jt(vr,Wn),Wn}var id=function(me,tt){var zt=sn[me.key],Zt=St[zt];if(Zt instanceof N_)je("q"),je(Ws(tt)),Zt.gState&&y.setGState(Zt.gState),je(me.matrix.toString()+" cm"),je("/"+zt+" sh"),je("Q");else if(Zt instanceof Dw){var wn=new Rr(1,0,0,-1,0,jo());me.matrix&&(wn=wn.multiply(me.matrix||Hi),zt=F0.call(Zt,me.key,me.boundingBox,me.xStep,me.yStep,wn).id),je("q"),je("/Pattern cs"),je("/"+zt+" scn"),Zt.gState&&y.setGState(Zt.gState),je(tt),je("Q")}},Ws=function(me){switch(me){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Gl=y.moveTo=function(me,tt){return je(j(W(me))+" "+j(he(tt))+" m"),this},ku=y.lineTo=function(me,tt){return je(j(W(me))+" "+j(he(tt))+" l"),this},Kl=y.curveTo=function(me,tt,zt,Zt,wn,Wn){return je([j(W(me)),j(he(tt)),j(W(zt)),j(he(Zt)),j(W(wn)),j(he(Wn)),"c"].join(" ")),this};y.__private__.line=y.line=function(me,tt,zt,Zt,wn){if(isNaN(me)||isNaN(tt)||isNaN(zt)||isNaN(Zt)||!gl(wn))throw new Error("Invalid arguments passed to jsPDF.line");return R===P.COMPAT?this.lines([[zt-me,Zt-tt]],me,tt,[1,1],wn||"S"):this.lines([[zt-me,Zt-tt]],me,tt,[1,1]).stroke()},y.__private__.lines=y.lines=function(me,tt,zt,Zt,wn,Wn){var vr,Wr,gi,sa,Ki,zn,Is,Ys,Xs,nl,$s,Bo;if(typeof me=="number"&&(Bo=zt,zt=tt,tt=me,me=Bo),Zt=Zt||[1,1],Wn=Wn||!1,isNaN(tt)||isNaN(zt)||!Array.isArray(me)||!Array.isArray(Zt)||!gl(wn)||typeof Wn!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Gl(tt,zt),vr=Zt[0],Wr=Zt[1],sa=me.length,nl=tt,$s=zt,gi=0;gi<sa;gi++)(Ki=me[gi]).length===2?(nl=Ki[0]*vr+nl,$s=Ki[1]*Wr+$s,ku(nl,$s)):(zn=Ki[0]*vr+nl,Is=Ki[1]*Wr+$s,Ys=Ki[2]*vr+nl,Xs=Ki[3]*Wr+$s,nl=Ki[4]*vr+nl,$s=Ki[5]*Wr+$s,Kl(zn,Is,Ys,Xs,nl,$s));return Wn&&rd(),Vr(wn),this},y.path=function(me){for(var tt=0;tt<me.length;tt++){var zt=me[tt],Zt=zt.c;switch(zt.op){case"m":Gl(Zt[0],Zt[1]);break;case"l":ku(Zt[0],Zt[1]);break;case"c":Kl.apply(this,Zt);break;case"h":rd()}}return this},y.__private__.rect=y.rect=function(me,tt,zt,Zt,wn){if(isNaN(me)||isNaN(tt)||isNaN(zt)||isNaN(Zt)||!gl(wn))throw new Error("Invalid arguments passed to jsPDF.rect");return R===P.COMPAT&&(Zt=-Zt),je([j(W(me)),j(he(tt)),j(W(zt)),j(W(Zt)),"re"].join(" ")),Vr(wn),this},y.__private__.triangle=y.triangle=function(me,tt,zt,Zt,wn,Wn,vr){if(isNaN(me)||isNaN(tt)||isNaN(zt)||isNaN(Zt)||isNaN(wn)||isNaN(Wn)||!gl(vr))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[zt-me,Zt-tt],[wn-zt,Wn-Zt],[me-wn,tt-Wn]],me,tt,[1,1],vr,!0),this},y.__private__.roundedRect=y.roundedRect=function(me,tt,zt,Zt,wn,Wn,vr){if(isNaN(me)||isNaN(tt)||isNaN(zt)||isNaN(Zt)||isNaN(wn)||isNaN(Wn)||!gl(vr))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Wr=4/3*(Math.SQRT2-1);return wn=Math.min(wn,.5*zt),Wn=Math.min(Wn,.5*Zt),this.lines([[zt-2*wn,0],[wn*Wr,0,wn,Wn-Wn*Wr,wn,Wn],[0,Zt-2*Wn],[0,Wn*Wr,-wn*Wr,Wn,-wn,Wn],[2*wn-zt,0],[-wn*Wr,0,-wn,-Wn*Wr,-wn,-Wn],[0,2*Wn-Zt],[0,-Wn*Wr,wn*Wr,-Wn,wn,-Wn]],me+wn,tt,[1,1],vr,!0),this},y.__private__.ellipse=y.ellipse=function(me,tt,zt,Zt,wn){if(isNaN(me)||isNaN(tt)||isNaN(zt)||isNaN(Zt)||!gl(wn))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Wn=4/3*(Math.SQRT2-1)*zt,vr=4/3*(Math.SQRT2-1)*Zt;return Gl(me+zt,tt),Kl(me+zt,tt-vr,me+Wn,tt-Zt,me,tt-Zt),Kl(me-Wn,tt-Zt,me-zt,tt-vr,me-zt,tt),Kl(me-zt,tt+vr,me-Wn,tt+Zt,me,tt+Zt),Kl(me+Wn,tt+Zt,me+zt,tt+vr,me+zt,tt),Vr(wn),this},y.__private__.circle=y.circle=function(me,tt,zt,Zt){if(isNaN(me)||isNaN(tt)||isNaN(zt)||!gl(Zt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(me,tt,zt,zt,Zt)},y.setFont=function(me,tt,zt){return zt&&(tt=H(tt,zt)),It=P0(me,tt,{disableWarning:!1}),this};var qs=y.__private__.getFont=y.getFont=function(){return Mt[P0.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var me,tt,zt={};for(me in at)if(at.hasOwnProperty(me))for(tt in zt[me]=[],at[me])at[me].hasOwnProperty(tt)&&zt[me].push(tt);return zt},y.addFont=function(me,tt,zt,Zt,wn){var Wn=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Wn.indexOf(arguments[3])!==-1?wn=arguments[3]:arguments[3]&&Wn.indexOf(arguments[3])==-1&&(zt=H(zt,Zt)),wn=wn||"Identity-H",qf.call(this,me,tt,zt,wn)};var ad,Yf=t.lineWidth||.200025,Pu=y.__private__.getLineWidth=y.getLineWidth=function(){return Yf},sd=y.__private__.setLineWidth=y.setLineWidth=function(me){return Yf=me,je(j(W(me))+" w"),this};y.__private__.setLineDash=ga.API.setLineDash=ga.API.setLineDashPattern=function(me,tt){if(me=me||[],tt=tt||0,isNaN(tt)||!Array.isArray(me))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return me=me.map(function(zt){return j(W(zt))}).join(" "),tt=j(W(tt)),je("["+me+"] "+tt+" d"),this};var Ah=y.__private__.getLineHeight=y.getLineHeight=function(){return Et*ad};y.__private__.getLineHeight=y.getLineHeight=function(){return Et*ad};var od=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(me){return typeof(me=me||1.15)=="number"&&(ad=me),this},Fu=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return ad};od(t.lineHeight);var pc=y.__private__.getHorizontalCoordinate=function(me){return W(me)},Wl=y.__private__.getVerticalCoordinate=function(me){return R===P.ADVANCED?me:lr[oe].mediaBox.topRightY-lr[oe].mediaBox.bottomLeftY-W(me)},Xf=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(me){return j(pc(me))},ld=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(me){return j(Wl(me))},vl=t.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return kn(vl)},y.__private__.setStrokeColor=y.setDrawColor=function(me,tt,zt,Zt){return vl=er({ch1:me,ch2:tt,ch3:zt,ch4:Zt,pdfColorType:"draw",precision:2}),je(vl),this};var bA=t.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return kn(bA)},y.__private__.setFillColor=y.setFillColor=function(me,tt,zt,Zt){return bA=er({ch1:me,ch2:tt,ch3:zt,ch4:Zt,pdfColorType:"fill",precision:2}),je(bA),this};var Ni=t.textColor||"0 g",Zf=y.__private__.getTextColor=y.getTextColor=function(){return kn(Ni)};y.__private__.setTextColor=y.setTextColor=function(me,tt,zt,Zt){return Ni=er({ch1:me,ch2:tt,ch3:zt,ch4:Zt,pdfColorType:"text",precision:3}),this};var Jd=t.charSpace,z1=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(Jd||0)};y.__private__.setCharSpace=y.setCharSpace=function(me){if(isNaN(me))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Jd=me,this};var jm=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(me){var tt=y.CapJoinStyles[me];if(tt===void 0)throw new Error("Line cap style of '"+me+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return jm=tt,je(tt+" J"),this};var Ac=0;y.__private__.setLineJoin=y.setLineJoin=function(me){var tt=y.CapJoinStyles[me];if(tt===void 0)throw new Error("Line join style of '"+me+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ac=tt,je(tt+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(me){if(me=me||0,isNaN(me))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return je(j(W(me))+" M"),this},y.GState=eB,y.setGState=function(me){(me=typeof me=="string"?bn[gr[me]]:Kc(null,me)).equals(tr)||(je("/"+me.id+" gs"),tr=me)};var Kc=function(me,tt){if(!me||!gr[me]){var zt=!1;for(var Zt in bn)if(bn.hasOwnProperty(Zt)&&bn[Zt].equals(tt)){zt=!0;break}if(zt)tt=bn[Zt];else{var wn="GS"+(Object.keys(bn).length+1).toString(10);bn[wn]=tt,tt.id=wn}return me&&(gr[me]=tt.id),Qr.publish("addGState",tt),tt}};y.addGState=function(me,tt){return Kc(me,tt),this},y.saveGraphicsState=function(){return je("q"),et.push({key:It,size:Et,color:Ni}),this},y.restoreGraphicsState=function(){je("Q");var me=et.pop();return It=me.key,Et=me.size,Ni=me.color,tr=null,this},y.setCurrentTransformationMatrix=function(me){return je(me.toString()+" cm"),this},y.comment=function(me){return je("#"+me),this};var ud=function(me,tt){var zt=me||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return zt},set:function(Wn){isNaN(Wn)||(zt=parseFloat(Wn))}});var Zt=tt||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Zt},set:function(Wn){isNaN(Wn)||(Zt=parseFloat(Wn))}});var wn="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return wn},set:function(Wn){wn=Wn.toString()}}),this},mh=function(me,tt,zt,Zt){ud.call(this,me,tt),this.type="rect";var wn=zt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return wn},set:function(vr){isNaN(vr)||(wn=parseFloat(vr))}});var Wn=Zt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Wn},set:function(vr){isNaN(vr)||(Wn=parseFloat(vr))}}),this},Jf=function(){this.page=Nn,this.currentPage=oe,this.pages=nt.slice(0),this.pagesContext=lr.slice(0),this.x=kt,this.y=Bt,this.matrix=it,this.width=cd(oe),this.height=jo(oe),this.outputDestination=ke,this.id="",this.objectNumber=-1};Jf.prototype.restore=function(){Nn=this.page,oe=this.currentPage,lr=this.pagesContext,nt=this.pages,kt=this.x,Bt=this.y,it=this.matrix,ep(oe,this.width),wA(oe,this.height),ke=this.outputDestination};var mc=function(me,tt,zt,Zt,wn){va.push(new Jf),Nn=oe=0,nt=[],kt=me,Bt=tt,it=wn,Xd([zt,Zt])},gh=function(me){if(Vi[me])va.pop().restore();else{var tt=new Jf,zt="Xo"+(Object.keys(ai).length+1).toString(10);tt.id=zt,Vi[me]=zt,ai[zt]=tt,Qr.publish("addFormObject",tt),va.pop().restore()}};for(var vh in y.beginFormObject=function(me,tt,zt,Zt,wn){return mc(me,tt,zt,Zt,wn),this},y.endFormObject=function(me){return gh(me),this},y.doFormObject=function(me,tt){var zt=ai[Vi[me]];return je("q"),je(tt.toString()+" cm"),je("/"+zt.id+" Do"),je("Q"),this},y.getFormObject=function(me){var tt=ai[Vi[me]];return{x:tt.x,y:tt.y,width:tt.width,height:tt.height,matrix:tt.matrix}},y.save=function(me,tt){return me=me||"generated.pdf",(tt=tt||{}).returnPromise=tt.returnPromise||!1,tt.returnPromise===!1?(P_(Gi(Lu()),me),typeof P_.unload=="function"&&ua.setTimeout&&setTimeout(P_.unload,911),this):new Promise(function(zt,Zt){try{var wn=P_(Gi(Lu()),me);typeof P_.unload=="function"&&ua.setTimeout&&setTimeout(P_.unload,911),zt(wn)}catch(Wn){Zt(Wn.message)}})},ga.API)ga.API.hasOwnProperty(vh)&&(vh==="events"&&ga.API.events.length?function(me,tt){var zt,Zt,wn;for(wn=tt.length-1;wn!==-1;wn--)zt=tt[wn][0],Zt=tt[wn][1],me.subscribe.apply(me,[zt].concat(typeof Zt=="function"?[Zt]:Zt))}(Qr,ga.API.events):y[vh]=ga.API[vh]);var cd=y.getPageWidth=function(me){return(lr[me=me||oe].mediaBox.topRightX-lr[me].mediaBox.bottomLeftX)/Xe},ep=y.setPageWidth=function(me,tt){lr[me].mediaBox.topRightX=tt*Xe+lr[me].mediaBox.bottomLeftX},jo=y.getPageHeight=function(me){return(lr[me=me||oe].mediaBox.topRightY-lr[me].mediaBox.bottomLeftY)/Xe},wA=y.setPageHeight=function(me,tt){lr[me].mediaBox.topRightY=tt*Xe+lr[me].mediaBox.bottomLeftY};return y.internal={pdfEscape:cu,getStyle:Ii,getFont:qs,getFontSize:_t,getCharSpace:z1,getTextColor:Zf,getLineHeight:Ah,getLineHeightFactor:Fu,getLineWidth:Pu,write:Ye,getHorizontalCoordinate:pc,getVerticalCoordinate:Wl,getCoordinateString:Xf,getVerticalCoordinateString:ld,collections:{},newObject:hn,newAdditionalObject:Ht,newObjectDeferred:En,newObjectDeferredBegin:Hn,getFilters:Gn,putStream:Mr,events:Qr,scaleFactor:Xe,pageSize:{getWidth:function(){return cd(oe)},setWidth:function(me){ep(oe,me)},getHeight:function(){return jo(oe)},setHeight:function(me){wA(oe,me)}},encryptionOptions:p,encryption:zo,getEncryptor:jl,output:ed,getNumberOfPages:Qm,pages:nt,out:je,f2:ie,f3:q,getPageInfo:ws,getPageInfoByObjId:rr,getCurrentPageInfo:nd,getPDFVersion:C,Point:ud,Rectangle:mh,Matrix:Rr,hasHotfix:td},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return cd(oe)},set:function(me){ep(oe,me)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return jo(oe)},set:function(me){wA(oe,me)},enumerable:!0,configurable:!0}),Ql.call(y,Lt),It="F1",yA(i,n),Qr.publish("initialized"),y}bw.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},bw.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},bw.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},bw.prototype.processOwnerPassword=function(t,e){return gD(mD(e).substr(0,5),t)},bw.prototype.encryptor=function(t,e){var n=mD(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return gD(n,r)}},eB.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||ys(t)!==ys(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},ga.API={events:[]},ga.version="2.5.1";var hl=ga.API,kz=1,Wy=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Xb=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ia=function(t){return t.toFixed(2)},yv=function(t){return t.toFixed(5)};hl.__acroform__={};var Xh=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},$X=function(t){return t*kz},XA=function(t){var e=new Hhe,n=yi.internal.getHeight(t)||0,r=yi.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Ia(r)),Number(Ia(n))],e},Emt=hl.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},Smt=hl.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},Tmt=hl.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Ll=hl.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Tmt(t,e-1)},kl=hl.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Emt(t,e-1)},Pl=hl.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Smt(t,e-1)},Bmt=hl.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],l=t[2],c=t[3],a={};return a.lowerLeft_X=n(i)||0,a.lowerLeft_Y=r(s+c)||0,a.upperRight_X=n(i+l)||0,a.upperRight_Y=r(s)||0,[Number(Ia(a.lowerLeft_X)),Number(Ia(a.lowerLeft_Y)),Number(Ia(a.upperRight_X)),Number(Ia(a.upperRight_Y))]},Mmt=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=vD(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Ia(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=XA(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},vD=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(q){return q.split(`
`)}):i.map(function(q){return[q]});var s=n,l=yi.internal.getHeight(t)||0;l=l<0?-l:l;var c=yi.internal.getWidth(t)||0;c=c<0?-c:c;var a=function(q,W,ee){if(q+1<i.length){var he=W+" "+i[q+1][0];return XS(he,t,ee).width<=c-4}return!1};s++;e:for(;s>0;){e="",s--;var f,p,m=XS("3",t,s).height,v=t.multiline?l-s:(l-m)/2,y=v+=2,T=0,C=0,k=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+XS(e,t,s=12).width+", FieldWidth:"+c+`
`;break}for(var M="",P=0,R=0;R<i.length;R++)if(i.hasOwnProperty(R)){var N=!1;if(i[R].length!==1&&k!==i[R].length-1){if((m+2)*(P+2)+2>l)continue e;M+=i[R][k],N=!0,C=R,R--}else{M=(M+=i[R][k]+" ").substr(M.length-1)==" "?M.substr(0,M.length-1):M;var z=parseInt(R),H=a(z,M,s),j=R>=i.length-1;if(H&&!j){M+=" ",k=0;continue}if(H||j){if(j)C=z;else if(t.multiline&&(m+2)*(P+2)+2>l)continue e}else{if(!t.multiline||(m+2)*(P+2)+2>l)continue e;C=z}}for(var Q="",G=T;G<=C;G++){var ie=i[G];if(t.multiline){if(G===C){Q+=ie[k]+" ",k=(k+1)%ie.length;continue}if(G===T){Q+=ie[ie.length-1]+" ";continue}}Q+=ie[0]+" "}switch(Q=Q.substr(Q.length-1)==" "?Q.substr(0,Q.length-1):Q,p=XS(Q,t,s).width,t.textAlign){case"right":f=c-p-2;break;case"center":f=(c-p)/2;break;case"left":default:f=2}e+=Ia(f)+" "+Ia(y)+` Td
`,e+="("+Wy(Q)+`) Tj
`,e+=-Ia(f)+` 0 Td
`,y=-(s+2),p=0,T=N?C:C+1,P++,M=""}break}return r.text=e,r.fontSize=s,r},XS=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Imt={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Lmt=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},kmt=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),ys(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},Pmt=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(fA.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Imt)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");kz=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Qhe,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&Lmt(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var l in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(l)){var c=r[l],a=[],f=c.Rect;if(c.Rect&&(c.Rect=Bmt(c.Rect,i)),i.internal.newObjectDeferredBegin(c.objId,!0),c.DA=yi.createDefaultAppearanceStream(c),ys(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(a=c.getKeyValueListForStream()),c.Rect=f,c.hasAppearanceStream&&!c.appearanceStreamContent){var p=Mmt(c);a.push({key:"AP",value:"<</N "+p+">>"}),i.internal.acroformPlugin.xForms.push(p)}if(c.appearanceStreamContent){var m="";for(var v in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(v)){var y=c.appearanceStreamContent[v];if(m+="/"+v+" ",m+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var l in y)if(y.hasOwnProperty(l)){var T=y[l];typeof T=="function"&&(T=T.call(i,c)),m+="/"+l+" "+T+" ",i.internal.acroformPlugin.xForms.indexOf(T)>=0||i.internal.acroformPlugin.xForms.push(T)}}else typeof(T=y)=="function"&&(T=T.call(i,c)),m+="/"+l+" "+T,i.internal.acroformPlugin.xForms.indexOf(T)>=0||i.internal.acroformPlugin.xForms.push(T);m+=">>"}a.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:a,objectId:c.objId}),i.internal.out("endobj")}s&&kmt(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},Vhe=hl.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(l){return l};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),ys(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Wy(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},TP=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Wy(r(t))+")"},dm=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};dm.prototype.toString=function(){return this.objId+" 0 R"},dm.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},dm.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:Vhe(i,this.objId,this.scope)}):i instanceof dm?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var Hhe=function(){dm.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Xh(Hhe,dm);var Qhe=function(){dm.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Wy(n(t))+")"}},set:function(n){t=n}})};Xh(Qhe,dm);var fA=function t(){dm.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(M){if(isNaN(M))throw new Error('Invalid value "'+M+'" for attribute F supplied.');e=M}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ll(e,3)},set:function(M){M?this.F=kl(e,3):this.F=Pl(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(M){if(isNaN(M))throw new Error('Invalid value "'+M+'" for attribute Ff supplied.');n=M}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(M){r=M!==void 0?M:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(M){r[0]=M}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(M){r[1]=M}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(M){r[2]=M}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(M){r[3]=M}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(M){switch(M){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=M;break;default:throw new Error('Invalid value "'+M+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof tB)return;s="FieldObject"+t.FieldNum++}var M=function(P){return P};return this.scope&&(M=this.scope.internal.getEncryptor(this.objId)),"("+Wy(M(s))+")"},set:function(M){s=M.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(M){s=M}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(M){l=M}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(M){c=M}});var a=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return a},set:function(M){a=M}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/kz:f},set:function(M){f=M}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(M){p=M}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof tB||this instanceof Ay))return TP(m,this.objId,this.scope)},set:function(M){M=M.toString(),m=M}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Qu?v:TP(v,this.objId,this.scope)},set:function(M){M=M.toString(),v=this instanceof Qu?M:M.substr(0,1)==="("?Xb(M.substr(1,M.length-2)):Xb(M)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Qu?Xb(v.substr(1,v.length-1)):v},set:function(M){M=M.toString(),v=this instanceof Qu?"/"+M:M}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(M){this.V=M}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Qu?y:TP(y,this.objId,this.scope)},set:function(M){M=M.toString(),y=this instanceof Qu?M:M.substr(0,1)==="("?Xb(M.substr(1,M.length-2)):Xb(M)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Qu?Xb(y.substr(1,y.length-1)):y},set:function(M){M=M.toString(),y=this instanceof Qu?"/"+M:M}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var T,C=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return C},set:function(M){M=!!M,C=M}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(T)return T},set:function(M){T=M}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ll(this.Ff,1)},set:function(M){M?this.Ff=kl(this.Ff,1):this.Ff=Pl(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ll(this.Ff,2)},set:function(M){M?this.Ff=kl(this.Ff,2):this.Ff=Pl(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ll(this.Ff,3)},set:function(M){M?this.Ff=kl(this.Ff,3):this.Ff=Pl(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(M){if([0,1,2].indexOf(M)===-1)throw new Error('Invalid value "'+M+'" for attribute Q supplied.');k=M}}),Object.defineProperty(this,"textAlign",{get:function(){var M;switch(k){case 0:default:M="left";break;case 1:M="center";break;case 2:M="right"}return M},configurable:!0,enumerable:!0,set:function(M){switch(M){case"right":case 2:k=2;break;case"center":case 1:k=1;break;case"left":case 0:default:k=0}}})};Xh(fA,dm);var a2=function(){fA.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Vhe(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,l,c){c||(c=1);for(var a,f=[];a=l.exec(s);)f.push(a[c]);return f}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ll(this.Ff,18)},set:function(n){n?this.Ff=kl(this.Ff,18):this.Ff=Pl(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ll(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=kl(this.Ff,19):this.Ff=Pl(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ll(this.Ff,20)},set:function(n){n?(this.Ff=kl(this.Ff,20),e.sort()):this.Ff=Pl(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ll(this.Ff,22)},set:function(n){n?this.Ff=kl(this.Ff,22):this.Ff=Pl(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ll(this.Ff,23)},set:function(n){n?this.Ff=kl(this.Ff,23):this.Ff=Pl(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ll(this.Ff,27)},set:function(n){n?this.Ff=kl(this.Ff,27):this.Ff=Pl(this.Ff,27)}}),this.hasAppearanceStream=!1};Xh(a2,fA);var s2=function(){a2.call(this),this.fontName="helvetica",this.combo=!1};Xh(s2,a2);var o2=function(){s2.call(this),this.combo=!0};Xh(o2,s2);var PT=function(){o2.call(this),this.edit=!0};Xh(PT,o2);var Qu=function(){fA.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ll(this.Ff,15)},set:function(n){n?this.Ff=kl(this.Ff,15):this.Ff=Pl(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ll(this.Ff,16)},set:function(n){n?this.Ff=kl(this.Ff,16):this.Ff=Pl(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ll(this.Ff,17)},set:function(n){n?this.Ff=kl(this.Ff,17):this.Ff=Pl(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ll(this.Ff,26)},set:function(n){n?this.Ff=kl(this.Ff,26):this.Ff=Pl(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Wy(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){ys(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Xh(Qu,fA);var FT=function(){Qu.call(this),this.pushButton=!0};Xh(FT,Qu);var l2=function(){Qu.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Xh(l2,Qu);var tB=function(){var t,e;fA.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(c){return c};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,l=[];for(s in l.push("<<"),r)l.push("/"+s+" ("+Wy(i(r[s]))+")");return l.push(">>"),l.join(`
`)},set:function(i){ys(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=yi.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Xh(tB,fA),l2.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},l2.prototype.createOption=function(t){var e=new tB;return e.Parent=this,e.optionName=t,this.Kids.push(e),Fmt.call(this.scope,e),e};var RT=function(){Qu.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=yi.CheckBox.createAppearanceStream()};Xh(RT,Qu);var Ay=function(){fA.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ll(this.Ff,13)},set:function(e){e?this.Ff=kl(this.Ff,13):this.Ff=Pl(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ll(this.Ff,21)},set:function(e){e?this.Ff=kl(this.Ff,21):this.Ff=Pl(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ll(this.Ff,23)},set:function(e){e?this.Ff=kl(this.Ff,23):this.Ff=Pl(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ll(this.Ff,24)},set:function(e){e?this.Ff=kl(this.Ff,24):this.Ff=Pl(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ll(this.Ff,25)},set:function(e){e?this.Ff=kl(this.Ff,25):this.Ff=Pl(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ll(this.Ff,26)},set:function(e){e?this.Ff=kl(this.Ff,26):this.Ff=Pl(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Xh(Ay,fA);var OT=function(){Ay.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ll(this.Ff,14)},set:function(t){t?this.Ff=kl(this.Ff,14):this.Ff=Pl(this.Ff,14)}}),this.password=!0};Xh(OT,Ay);var yi={CheckBox:{createAppearanceStream:function(){return{N:{On:yi.CheckBox.YesNormal},D:{On:yi.CheckBox.YesPushDown,Off:yi.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=XA(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=vD(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Ia(yi.internal.getWidth(t))+" "+Ia(yi.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Ia(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=XA(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=yi.internal.getHeight(t),l=yi.internal.getWidth(t),c=vD(t,t.caption);return i.push("1 g"),i.push("0 0 "+Ia(l)+" "+Ia(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Ia(l-1)+" "+Ia(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Ia(c.fontSize)+" Tf "+r),i.push(c.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=XA(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Ia(yi.internal.getWidth(t))+" "+Ia(yi.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:yi.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=yi.RadioButton.Circle.YesNormal,e.D[t]=yi.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=XA(t);e.scope=t.scope;var n=[],r=yi.internal.getWidth(t)<=yi.internal.getHeight(t)?yi.internal.getWidth(t)/4:yi.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=yi.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+yv(yi.internal.getWidth(t)/2)+" "+yv(yi.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=XA(t);e.scope=t.scope;var n=[],r=yi.internal.getWidth(t)<=yi.internal.getHeight(t)?yi.internal.getWidth(t)/4:yi.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*yi.internal.Bezier_C).toFixed(5)),l=Number((r*yi.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+yv(yi.internal.getWidth(t)/2)+" "+yv(yi.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+yv(yi.internal.getWidth(t)/2)+" "+yv(yi.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+l+" "+l+" "+r+" 0 "+r+" c"),n.push("-"+l+" "+r+" -"+r+" "+l+" -"+r+" 0 c"),n.push("-"+r+" -"+l+" -"+l+" -"+r+" 0 -"+r+" c"),n.push(l+" -"+r+" "+r+" -"+l+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=XA(t);e.scope=t.scope;var n=[],r=yi.internal.getWidth(t)<=yi.internal.getHeight(t)?yi.internal.getWidth(t)/4:yi.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*yi.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+yv(yi.internal.getWidth(t)/2)+" "+yv(yi.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:yi.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=yi.RadioButton.Cross.YesNormal,e.D[t]=yi.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=XA(t);e.scope=t.scope;var n=[],r=yi.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Ia(yi.internal.getWidth(t)-2)+" "+Ia(yi.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Ia(r.x1.x)+" "+Ia(r.x1.y)+" m"),n.push(Ia(r.x2.x)+" "+Ia(r.x2.y)+" l"),n.push(Ia(r.x4.x)+" "+Ia(r.x4.y)+" m"),n.push(Ia(r.x3.x)+" "+Ia(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=XA(t);e.scope=t.scope;var n=yi.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Ia(yi.internal.getWidth(t))+" "+Ia(yi.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Ia(yi.internal.getWidth(t)-2)+" "+Ia(yi.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Ia(n.x1.x)+" "+Ia(n.x1.y)+" m"),r.push(Ia(n.x2.x)+" "+Ia(n.x2.y)+" l"),r.push(Ia(n.x4.x)+" "+Ia(n.x4.y)+" m"),r.push(Ia(n.x3.x)+" "+Ia(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=XA(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Ia(yi.internal.getWidth(t))+" "+Ia(yi.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};yi.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=yi.internal.getWidth(t),n=yi.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},yi.internal.getWidth=function(t){var e=0;return ys(t)==="object"&&(e=$X(t.Rect[2])),e},yi.internal.getHeight=function(t){var e=0;return ys(t)==="object"&&(e=$X(t.Rect[3])),e};var Fmt=hl.addField=function(t){if(Pmt(this,t),!(t instanceof fA))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};hl.AcroFormChoiceField=a2,hl.AcroFormListBox=s2,hl.AcroFormComboBox=o2,hl.AcroFormEditBox=PT,hl.AcroFormButton=Qu,hl.AcroFormPushButton=FT,hl.AcroFormRadioButton=l2,hl.AcroFormCheckBox=RT,hl.AcroFormTextField=Ay,hl.AcroFormPasswordField=OT,hl.AcroFormAppearance=yi,hl.AcroForm={ChoiceField:a2,ListBox:s2,ComboBox:o2,EditBox:PT,Button:Qu,PushButton:FT,RadioButton:l2,CheckBox:RT,TextField:Ay,PasswordField:OT,Appearance:yi},ga.AcroForm={ChoiceField:a2,ListBox:s2,ComboBox:o2,EditBox:PT,Button:Qu,PushButton:FT,RadioButton:l2,CheckBox:RT,TextField:Ay,PasswordField:OT,Appearance:yi};function jhe(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(q,W){var ee,he,J,te,ne,ce=e;if((W=W||e)==="RGBA"||q.data!==void 0&&q.data instanceof Uint8ClampedArray&&"height"in q&&"width"in q)return"RGBA";if(H(q))for(ne in n)for(J=n[ne],ee=0;ee<J.length;ee+=1){for(te=!0,he=0;he<J[ee].length;he+=1)if(J[ee][he]!==void 0&&J[ee][he]!==q[he]){te=!1;break}if(te===!0){ce=ne;break}}else for(ne in n)for(J=n[ne],ee=0;ee<J.length;ee+=1){for(te=!0,he=0;he<J[ee].length;he+=1)if(J[ee][he]!==void 0&&J[ee][he]!==q.charCodeAt(he)){te=!1;break}if(te===!0){ce=ne;break}}return ce===e&&W!==e&&(ce=W),ce},i=function q(W){for(var ee=this.internal.write,he=this.internal.putStream,J=(0,this.internal.getFilters)();J.indexOf("FlateEncode")!==-1;)J.splice(J.indexOf("FlateEncode"),1);W.objectId=this.internal.newObject();var te=[];if(te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Image"}),te.push({key:"Width",value:W.width}),te.push({key:"Height",value:W.height}),W.colorSpace===k.INDEXED?te.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(W.palette.length/3-1)+" "+("sMask"in W&&W.sMask!==void 0?W.objectId+2:W.objectId+1)+" 0 R]"}):(te.push({key:"ColorSpace",value:"/"+W.colorSpace}),W.colorSpace===k.DEVICE_CMYK&&te.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),te.push({key:"BitsPerComponent",value:W.bitsPerComponent}),"decodeParameters"in W&&W.decodeParameters!==void 0&&te.push({key:"DecodeParms",value:"<<"+W.decodeParameters+">>"}),"transparency"in W&&Array.isArray(W.transparency)){for(var ne="",ce=0,ue=W.transparency.length;ce<ue;ce++)ne+=W.transparency[ce]+" "+W.transparency[ce]+" ";te.push({key:"Mask",value:"["+ne+"]"})}W.sMask!==void 0&&te.push({key:"SMask",value:W.objectId+1+" 0 R"});var ye=W.filter!==void 0?["/"+W.filter]:void 0;if(he({data:W.data,additionalKeyValues:te,alreadyAppliedFilters:ye,objectId:W.objectId}),ee("endobj"),"sMask"in W&&W.sMask!==void 0){var Ee="/Predictor "+W.predictor+" /Colors 1 /BitsPerComponent "+W.bitsPerComponent+" /Columns "+W.width,se={width:W.width,height:W.height,colorSpace:"DeviceGray",bitsPerComponent:W.bitsPerComponent,decodeParameters:Ee,data:W.sMask};"filter"in W&&(se.filter=W.filter),q.call(this,se)}if(W.colorSpace===k.INDEXED){var oe=this.internal.newObject();he({data:Q(new Uint8Array(W.palette)),objectId:oe}),ee("endobj")}},s=function(){var q=this.internal.collections.addImage_images;for(var W in q)i.call(this,q[W])},l=function(){var q,W=this.internal.collections.addImage_images,ee=this.internal.write;for(var he in W)ee("/I"+(q=W[he]).index,q.objectId,"0","R")},c=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",l))},a=function(){var q=this.internal.collections.addImage_images;return c.call(this),q},f=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(q){return typeof t["process"+q.toUpperCase()]=="function"},m=function(q){return ys(q)==="object"&&q.nodeType===1},v=function(q,W){if(q.nodeName==="IMG"&&q.hasAttribute("src")){var ee=""+q.getAttribute("src");if(ee.indexOf("data:image/")===0)return DC(unescape(ee).split("base64,").pop());var he=t.loadFile(ee,!0);if(he!==void 0)return he}if(q.nodeName==="CANVAS"){if(q.width===0||q.height===0)throw new Error("Given canvas must have data. Canvas width: "+q.width+", height: "+q.height);var J;switch(W){case"PNG":J="image/png";break;case"WEBP":J="image/webp";break;case"JPEG":case"JPG":default:J="image/jpeg"}return DC(q.toDataURL(J,1).split("base64,").pop())}},y=function(q){var W=this.internal.collections.addImage_images;if(W){for(var ee in W)if(q===W[ee].alias)return W[ee]}},T=function(q,W,ee){return q||W||(q=-96,W=-96),q<0&&(q=-1*ee.width*72/q/this.internal.scaleFactor),W<0&&(W=-1*ee.height*72/W/this.internal.scaleFactor),q===0&&(q=W*ee.width/ee.height),W===0&&(W=q*ee.height/ee.width),[q,W]},C=function(q,W,ee,he,J,te){var ne=T.call(this,ee,he,J),ce=this.internal.getCoordinateString,ue=this.internal.getVerticalCoordinateString,ye=a.call(this);if(ee=ne[0],he=ne[1],ye[J.index]=J,te){te*=Math.PI/180;var Ee=Math.cos(te),se=Math.sin(te),oe=function(Ue){return Ue.toFixed(4)},_e=[oe(Ee),oe(se),oe(-1*se),oe(Ee),0,0,"cm"]}this.internal.write("q"),te?(this.internal.write([1,"0","0",1,ce(q),ue(W+he),"cm"].join(" ")),this.internal.write(_e.join(" ")),this.internal.write([ce(ee),"0","0",ce(he),"0","0","cm"].join(" "))):this.internal.write([ce(ee),"0","0",ce(he),ce(q),ue(W+he),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+J.index+" Do"),this.internal.write("Q")},k=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var M=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},P=t.__addimage__.sHashCode=function(q){var W,ee,he=0;if(typeof q=="string")for(ee=q.length,W=0;W<ee;W++)he=(he<<5)-he+q.charCodeAt(W),he|=0;else if(H(q))for(ee=q.byteLength/2,W=0;W<ee;W++)he=(he<<5)-he+q[W],he|=0;return he},R=t.__addimage__.validateStringAsBase64=function(q){(q=q||"").toString().trim();var W=!0;return q.length===0&&(W=!1),q.length%4!=0&&(W=!1),/^[A-Za-z0-9+/]+$/.test(q.substr(0,q.length-2))===!1&&(W=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(q.substr(-2))===!1&&(W=!1),W},N=t.__addimage__.extractImageFromDataUrl=function(q){var W=(q=q||"").split("base64,"),ee=null;if(W.length===2){var he=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(W[0]);Array.isArray(he)&&(ee={mimeType:he[1],charset:he[2],data:W[1]})}return ee},z=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(q){return z()&&q instanceof ArrayBuffer};var H=t.__addimage__.isArrayBufferView=function(q){return z()&&typeof Uint32Array<"u"&&(q instanceof Int8Array||q instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&q instanceof Uint8ClampedArray||q instanceof Int16Array||q instanceof Uint16Array||q instanceof Int32Array||q instanceof Uint32Array||q instanceof Float32Array||q instanceof Float64Array)},j=t.__addimage__.binaryStringToUint8Array=function(q){for(var W=q.length,ee=new Uint8Array(W),he=0;he<W;he++)ee[he]=q.charCodeAt(he);return ee},Q=t.__addimage__.arrayBufferToBinaryString=function(q){for(var W="",ee=H(q)?q:new Uint8Array(q),he=0;he<ee.length;he+=8192)W+=String.fromCharCode.apply(null,ee.subarray(he,he+8192));return W};t.addImage=function(){var q,W,ee,he,J,te,ne,ce,ue;if(typeof arguments[1]=="number"?(W=e,ee=arguments[1],he=arguments[2],J=arguments[3],te=arguments[4],ne=arguments[5],ce=arguments[6],ue=arguments[7]):(W=arguments[1],ee=arguments[2],he=arguments[3],J=arguments[4],te=arguments[5],ne=arguments[6],ce=arguments[7],ue=arguments[8]),ys(q=arguments[0])==="object"&&!m(q)&&"imageData"in q){var ye=q;q=ye.imageData,W=ye.format||W||e,ee=ye.x||ee||0,he=ye.y||he||0,J=ye.w||ye.width||J,te=ye.h||ye.height||te,ne=ye.alias||ne,ce=ye.compression||ce,ue=ye.rotation||ye.angle||ue}var Ee=this.internal.getFilters();if(ce===void 0&&Ee.indexOf("FlateEncode")!==-1&&(ce="SLOW"),isNaN(ee)||isNaN(he))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var se=G.call(this,q,W,ne,ce);return C.call(this,ee,he,J,te,se,ue),this};var G=function(q,W,ee,he){var J,te,ne;if(typeof q=="string"&&r(q)===e){q=unescape(q);var ce=ie(q,!1);(ce!==""||(ce=t.loadFile(q,!0))!==void 0)&&(q=ce)}if(m(q)&&(q=v(q,W)),W=r(q,W),!p(W))throw new Error("addImage does not support files of type '"+W+"', please ensure that a plugin for '"+W+"' support is added.");if(((ne=ee)==null||ne.length===0)&&(ee=function(ue){return typeof ue=="string"||H(ue)?P(ue):H(ue.data)?P(ue.data):null}(q)),(J=y.call(this,ee))||(z()&&(q instanceof Uint8Array||W==="RGBA"||(te=q,q=j(q))),J=this["process"+W.toUpperCase()](q,f.call(this),ee,function(ue){return ue&&typeof ue=="string"&&(ue=ue.toUpperCase()),ue in t.image_compression?ue:M.NONE}(he),te)),!J)throw new Error("An unknown error occurred whilst processing the image.");return J},ie=t.__addimage__.convertBase64ToBinaryString=function(q,W){var ee;W=typeof W!="boolean"||W;var he,J="";if(typeof q=="string"){he=(ee=N(q))!==null?ee.data:q;try{J=DC(he)}catch(te){if(W)throw R(he)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+te.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return J};t.getImageProperties=function(q){var W,ee,he="";if(m(q)&&(q=v(q)),typeof q=="string"&&r(q)===e&&((he=ie(q,!1))===""&&(he=t.loadFile(q)||""),q=he),ee=r(q),!p(ee))throw new Error("addImage does not support files of type '"+ee+"', please ensure that a plugin for '"+ee+"' support is added.");if(!z()||q instanceof Uint8Array||(q=j(q)),!(W=this["process"+ee.toUpperCase()](q)))throw new Error("An unknown error occurred whilst processing the image");return W.fileType=ee,W}})(ga.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};ga.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,a=this.internal.getPageInfoByObjId(n.objId),f=n.pageContext.annotations,p=!1,m=0;m<f.length&&!p;m++)switch((r=f[m]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var v=0;v<f.length;v++){r=f[v];var y=this.internal.pdfEscape,T=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var C=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),M=this.internal.getEncryptor(C.objId),P=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+l(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+y(M(r.contents))+")",s+=" /Popup "+k.objId+" 0 R",s+=" /P "+a.objId+" 0 R",s+=" /T ("+y(M(P))+") >>",C.content=s;var R=C.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+l(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+R,r.open&&(s+=" /Open true"),s+=" >>",k.content=s,this.internal.write(C.objId,"0 R",k.objId,"0 R");break;case"freetext":i="/Rect ["+l(r.bounds.x)+" "+c(r.bounds.y)+" "+l(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var N=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+y(T(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+N+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var z=this.annotations._nameMap[r.options.name];r.options.pageNumber=z.page,r.options.top=z.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+y(T(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var H=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+H+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,l){var c=this.internal.getCurrentPageInfo(),a=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:a(n),y:f(r),w:a(n+i),h:f(r+s)},options:l,type:"link"})},t.textWithLink=function(n,r,i,s){var l,c,a=this.getTextWidth(n),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){c=s.maxWidth;var p=this.splitTextToSize(n,c).length;l=Math.ceil(f*p)}else c=a,l=f;return this.text(n,r,i,s),i+=.2*f,s.align==="center"&&(r-=a/2),s.align==="right"&&(r-=a),this.link(r,i-f,c,l,s),a},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(ga.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(C){return e[C.charCodeAt(0)]!==void 0},l=t.__arabicParser__.isArabicLetter=function(C){return typeof C=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(C)},c=t.__arabicParser__.isArabicEndLetter=function(C){return l(C)&&s(C)&&e[C.charCodeAt(0)].length<=2},a=t.__arabicParser__.isArabicAlfLetter=function(C){return l(C)&&i.indexOf(C.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(C){return l(C)&&s(C)&&e[C.charCodeAt(0)].length>=1};var f=t.__arabicParser__.arabicLetterHasFinalForm=function(C){return l(C)&&s(C)&&e[C.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(C){return l(C)&&s(C)&&e[C.charCodeAt(0)].length>=3};var p=t.__arabicParser__.arabicLetterHasMedialForm=function(C){return l(C)&&s(C)&&e[C.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(C){var k=0,M=n,P="",R=0;for(k=0;k<C.length;k+=1)M[C.charCodeAt(k)]!==void 0?(R++,typeof(M=M[C.charCodeAt(k)])=="number"&&(P+=String.fromCharCode(M),M=n,R=0),k===C.length-1&&(M=n,P+=C.charAt(k-(R-1)),k-=R-1,R=0)):(M=n,P+=C.charAt(k-R),k-=R,R=0);return P};t.__arabicParser__.isArabicDiacritic=function(C){return C!==void 0&&r[C.charCodeAt(0)]!==void 0};var v=t.__arabicParser__.getCorrectForm=function(C,k,M){return l(C)?s(C)===!1?-1:!f(C)||!l(k)&&!l(M)||!l(M)&&c(k)||c(C)&&!l(k)||c(C)&&a(k)||c(C)&&c(k)?0:p(C)&&l(k)&&!c(k)&&l(M)&&f(M)?3:c(C)||!l(M)?1:2:-1},y=function(C){var k=0,M=0,P=0,R="",N="",z="",H=(C=C||"").split("\\s+"),j=[];for(k=0;k<H.length;k+=1){for(j.push(""),M=0;M<H[k].length;M+=1)R=H[k][M],N=H[k][M-1],z=H[k][M+1],l(R)?(P=v(R,N,z),j[k]+=P!==-1?String.fromCharCode(e[R.charCodeAt(0)][P]):R):j[k]+=R;j[k]=m(j[k])}return j.join(" ")},T=t.__arabicParser__.processArabic=t.processArabic=function(){var C,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,M=[];if(Array.isArray(k)){var P=0;for(M=[],P=0;P<k.length;P+=1)Array.isArray(k[P])?M.push([y(k[P][0]),k[P][1],k[P][2]]):M.push([y(k[P])]);C=M}else C=y(k);return typeof arguments[0]=="string"?C:(arguments[0].text=C,arguments[0])};t.events.push(["preProcessText",T])}(ga.API),ga.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(c){n=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(c){s=c}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(c){l=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ga.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var a=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return a},set:function(C){a=C}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(C){f=C}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(C){p=C}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(C){m=C}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(C){v=C}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(C){y=C}});var T=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return T},set:function(C){T=C}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(a){return r.call(this),this.internal.__cell__.headerFunction=typeof a=="function"?a:void 0,this},t.getTextDimensions=function(a,f){r.call(this);var p=(f=f||{}).fontSize||this.getFontSize(),m=f.font||this.getFont(),v=f.scaleFactor||this.internal.scaleFactor,y=0,T=0,C=0,k=this;if(!Array.isArray(a)&&typeof a!="string"){if(typeof a!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");a=String(a)}var M=f.maxWidth;M>0?typeof a=="string"?a=this.splitTextToSize(a,M):Object.prototype.toString.call(a)==="[object Array]"&&(a=a.reduce(function(R,N){return R.concat(k.splitTextToSize(N,M))},[])):a=Array.isArray(a)?a:[a];for(var P=0;P<a.length;P++)y<(C=this.getStringUnitWidth(a[P],{font:m})*p)&&(y=C);return y!==0&&(T=a.length),{w:y/=v,h:Math.max((T*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/v,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var a=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(a.left,a.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=t.cell=function(){var a;a=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var f=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,v=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===a.lineNumber?(a.x=(f.x||0)+(f.width||0),a.y=f.y||0):f.y+f.height+a.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),a.y=m.top,y&&v&&(this.printHeaderRow(a.lineNumber,!0),a.y+=v[0].height)):a.y=f.y+f.height||a.y),a.text[0]!==void 0&&(this.rect(a.x,a.y,a.width,a.height,n===!0?"FD":void 0),a.align==="right"?this.text(a.text,a.x+a.width-p,a.y+p,{align:"right",baseline:"top"}):a.align==="center"?this.text(a.text,a.x+a.width/2,a.y+p,{align:"center",baseline:"top",maxWidth:a.width-p-p}):this.text(a.text,a.x+p,a.y+p,{align:"left",baseline:"top",maxWidth:a.width-p-p})),this.internal.__cell__.lastCell=a,this};t.table=function(a,f,p,m,v){if(r.call(this),!p)throw new Error("No data for PDF table.");var y,T,C,k,M=[],P=[],R=[],N={},z={},H=[],j=[],Q=(v=v||{}).autoSize||!1,G=v.printHeaders!==!1,ie=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,q=v.margins||Object.assign({width:this.getPageWidth()},e),W=typeof v.padding=="number"?v.padding:3,ee=v.headerBackgroundColor||"#c8c8c8",he=v.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=G,this.internal.__cell__.margins=q,this.internal.__cell__.table_font_size=ie,this.internal.__cell__.padding=W,this.internal.__cell__.headerBackgroundColor=ee,this.internal.__cell__.headerTextColor=he,this.setFontSize(ie),m==null)P=M=Object.keys(p[0]),R=M.map(function(){return"left"});else if(Array.isArray(m)&&ys(m[0])==="object")for(M=m.map(function(ye){return ye.name}),P=m.map(function(ye){return ye.prompt||ye.name||""}),R=m.map(function(ye){return ye.align||"left"}),y=0;y<m.length;y+=1)z[m[y].name]=m[y].width*(19.049976/25.4);else Array.isArray(m)&&typeof m[0]=="string"&&(P=M=m,R=M.map(function(){return"left"}));if(Q||Array.isArray(m)&&typeof m[0]=="string")for(y=0;y<M.length;y+=1){for(N[k=M[y]]=p.map(function(ye){return ye[k]}),this.setFont(void 0,"bold"),H.push(this.getTextDimensions(P[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),T=N[k],this.setFont(void 0,"normal"),C=0;C<T.length;C+=1)H.push(this.getTextDimensions(T[C],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);z[k]=Math.max.apply(null,H)+W+W,H=[]}if(G){var J={};for(y=0;y<M.length;y+=1)J[M[y]]={},J[M[y]].text=P[y],J[M[y]].align=R[y];var te=c.call(this,J,z);j=M.map(function(ye){return new s(a,f,z[ye],te,J[ye].text,void 0,J[ye].align)}),this.setTableHeaderRow(j),this.printHeaderRow(1,!1)}var ne=m.reduce(function(ye,Ee){return ye[Ee.name]=Ee.align,ye},{});for(y=0;y<p.length;y+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:y,data:p[y]},this);var ce=c.call(this,p[y],z);for(C=0;C<M.length;C+=1){var ue=p[y][M[C]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:y,col:C,data:ue},this),l.call(this,new s(a,f,z[M[C]],ce,ue,y+2,ne[M[C]]))}}return this.internal.__cell__.table_x=a,this.internal.__cell__.table_y=f,this};var c=function(a,f){var p=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(a).map(function(y){var T=a[y];return this.splitTextToSize(T.hasOwnProperty("text")?T.text:T,f[y]-p-p)},this).map(function(y){return this.getLineHeightFactor()*y.length*m/v+p+p},this).reduce(function(y,T){return Math.max(y,T)},0)};t.setTableHeaderRow=function(a){r.call(this),this.internal.__cell__.tableHeaderRow=a},t.printHeaderRow=function(a,f){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){p=this.internal.__cell__.tableHeaderRow[y].clone(),f&&(p.y=this.internal.__cell__.margins.top||0,v.push(p)),p.lineNumber=a;var T=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,p),this.setTextColor(T)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),n=!1}}(ga.API);var Ghe={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Khe=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],_D=jhe(Khe),Whe=[100,200,300,400,500,600,700,800,900],Rmt=jhe(Whe);function yD(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return Ghe[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof _D[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function VX(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var Omt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},HX={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function QX(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Dmt(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},Omt,n.genericFontFamilies||{}),s=null,l=null,c=0;c<e.length;++c)if(i[(s=yD(e[c])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){l=t[s.family];break}if(!(l=l||t[r]))throw new Error("Could not find a font-family for the rule '"+QX(s)+"' and default family '"+r+"'.");if(l=function(a,f){if(f[a])return f[a];var p=_D[a],m=p<=_D.normal?-1:1,v=VX(f,Khe,p,m);if(!v)throw new Error("Could not find a matching font-stretch value for "+a);return v}(s.stretch,l),l=function(a,f){if(f[a])return f[a];for(var p=Ghe[a],m=0;m<p.length;++m)if(f[p[m]])return f[p[m]];throw new Error("Could not find a matching font-style for "+a)}(s.style,l),!(l=function(a,f){if(f[a])return f[a];if(a===400&&f[500])return f[500];if(a===500&&f[400])return f[400];var p=Rmt[a],m=VX(f,Whe,p,a<400?-1:1);if(!m)throw new Error("Could not find a matching font-weight for value "+a);return m}(s.weight,l)))throw new Error("Failed to resolve a font for the rule '"+QX(s)+"'.");return l}function jX(t){return t.trimLeft()}function Nmt(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function Umt(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var ZS,GX,KX,BP=["times"];(function(t){var e,n,r,i,s,l,c,a,f,p=function(se){return se=se||{},this.isStrokeTransparent=se.isStrokeTransparent||!1,this.strokeOpacity=se.strokeOpacity||1,this.strokeStyle=se.strokeStyle||"#000000",this.fillStyle=se.fillStyle||"#000000",this.isFillTransparent=se.isFillTransparent||!1,this.fillOpacity=se.fillOpacity||1,this.font=se.font||"10px sans-serif",this.textBaseline=se.textBaseline||"alphabetic",this.textAlign=se.textAlign||"left",this.lineWidth=se.lineWidth||1,this.lineJoin=se.lineJoin||"miter",this.lineCap=se.lineCap||"butt",this.path=se.path||[],this.transform=se.transform!==void 0?se.transform.clone():new a,this.globalCompositeOperation=se.globalCompositeOperation||"normal",this.globalAlpha=se.globalAlpha||1,this.clip_path=se.clip_path||[],this.currentPoint=se.currentPoint||new l,this.miterLimit=se.miterLimit||10,this.lastPoint=se.lastPoint||new l,this.lineDashOffset=se.lineDashOffset||0,this.lineDash=se.lineDash||[],this.margin=se.margin||[0,0,0,0],this.prevPageLastElemOffset=se.prevPageLastElemOffset||0,this.ignoreClearRect=typeof se.ignoreClearRect!="boolean"||se.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,l=this.internal.Point,c=this.internal.Rectangle,a=this.internal.Matrix,f=new p}]);var m=function(se){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var oe=se;Object.defineProperty(this,"pdf",{get:function(){return oe}});var _e=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return _e},set:function(Ne){_e=!!Ne}});var Ue=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Ue},set:function(Ne){Ue=!!Ne}});var Le=0;Object.defineProperty(this,"posX",{get:function(){return Le},set:function(Ne){isNaN(Ne)||(Le=Ne)}});var be=0;Object.defineProperty(this,"posY",{get:function(){return be},set:function(Ne){isNaN(Ne)||(be=Ne)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Ne){var je;typeof Ne=="number"?je=[Ne,Ne,Ne,Ne]:((je=new Array(4))[0]=Ne[0],je[1]=Ne.length>=2?Ne[1]:je[0],je[2]=Ne.length>=3?Ne[2]:je[0],je[3]=Ne.length>=4?Ne[3]:je[1]),f.margin=je}});var Re=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Re},set:function(Ne){Re=Ne}});var Qe=0;Object.defineProperty(this,"lastBreak",{get:function(){return Qe},set:function(Ne){Qe=Ne}});var Je=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Je},set:function(Ne){Je=Ne}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Ne){Ne instanceof p&&(f=Ne)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Ne){f.path=Ne}});var nt=[];Object.defineProperty(this,"ctxStack",{get:function(){return nt},set:function(Ne){nt=Ne}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ne){var je;je=v(Ne),this.ctx.fillStyle=je.style,this.ctx.isFillTransparent=je.a===0,this.ctx.fillOpacity=je.a,this.pdf.setFillColor(je.r,je.g,je.b,{a:je.a}),this.pdf.setTextColor(je.r,je.g,je.b,{a:je.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ne){var je=v(Ne);this.ctx.strokeStyle=je.style,this.ctx.isStrokeTransparent=je.a===0,this.ctx.strokeOpacity=je.a,je.a===0?this.pdf.setDrawColor(255,255,255):(je.a,this.pdf.setDrawColor(je.r,je.g,je.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ne){["butt","round","square"].indexOf(Ne)!==-1&&(this.ctx.lineCap=Ne,this.pdf.setLineCap(Ne))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ne){isNaN(Ne)||(this.ctx.lineWidth=Ne,this.pdf.setLineWidth(Ne))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ne){["bevel","round","miter"].indexOf(Ne)!==-1&&(this.ctx.lineJoin=Ne,this.pdf.setLineJoin(Ne))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ne){isNaN(Ne)||(this.ctx.miterLimit=Ne,this.pdf.setMiterLimit(Ne))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ne){this.ctx.textBaseline=Ne}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ne){["right","end","center","left","start"].indexOf(Ne)!==-1&&(this.ctx.textAlign=Ne)}});var Ve=null;function ke(Ne,je){if(Ve===null){var Ye=function(vt){var Lt=[];return Object.keys(vt).forEach(function(Et){vt[Et].forEach(function(Vt){var _t=null;switch(Vt){case"bold":_t={family:Et,weight:"bold"};break;case"italic":_t={family:Et,style:"italic"};break;case"bolditalic":_t={family:Et,weight:"bold",style:"italic"};break;case"":case"normal":_t={family:Et}}_t!==null&&(_t.ref={name:Et,style:Vt},Lt.push(_t))})}),Lt}(Ne.getFontList());Ve=function(vt){for(var Lt={},Et=0;Et<vt.length;++Et){var Vt=yD(vt[Et]),_t=Vt.family,qt=Vt.stretch,tn=Vt.style,Nt=Vt.weight;Lt[_t]=Lt[_t]||{},Lt[_t][qt]=Lt[_t][qt]||{},Lt[_t][qt][tn]=Lt[_t][qt][tn]||{},Lt[_t][qt][tn][Nt]=Vt}return Lt}(Ye.concat(je))}return Ve}var Ge=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ge},set:function(Ne){Ve=null,Ge=Ne}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ne){var je;if(this.ctx.font=Ne,(je=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ne))!==null){var Ye=je[1],vt=(je[2],je[3]),Lt=je[4],Et=(je[5],je[6]),Vt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Lt)[2];Lt=Math.floor(Vt==="px"?parseFloat(Lt)*this.pdf.internal.scaleFactor:Vt==="em"?parseFloat(Lt)*this.pdf.getFontSize():parseFloat(Lt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Lt);var _t=function(ut){var It,Xe,kt=[],Bt=ut.trim();if(Bt==="")return BP;if(Bt in HX)return[HX[Bt]];for(;Bt!=="";){switch(Xe=null,It=(Bt=jX(Bt)).charAt(0)){case'"':case"'":Xe=Nmt(Bt.substring(1),It);break;default:Xe=Umt(Bt)}if(Xe===null||(kt.push(Xe[0]),(Bt=jX(Xe[1]))!==""&&Bt.charAt(0)!==","))return BP;Bt=Bt.replace(/^,/,"")}return kt}(Et);if(this.fontFaces){var qt=Dmt(ke(this.pdf,this.fontFaces),_t.map(function(ut){return{family:ut,stretch:"normal",weight:vt,style:Ye}}));this.pdf.setFont(qt.ref.name,qt.ref.style)}else{var tn="";(vt==="bold"||parseInt(vt,10)>=700||Ye==="bold")&&(tn="bold"),Ye==="italic"&&(tn+="italic"),tn.length===0&&(tn="normal");for(var Nt="",wt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},De=0;De<_t.length;De++){if(this.pdf.internal.getFont(_t[De],tn,{noFallback:!0,disableWarning:!0})!==void 0){Nt=_t[De];break}if(tn==="bolditalic"&&this.pdf.internal.getFont(_t[De],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Nt=_t[De],tn="bold";else if(this.pdf.internal.getFont(_t[De],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Nt=_t[De],tn="normal";break}}if(Nt===""){for(var We=0;We<_t.length;We++)if(wt[_t[We]]){Nt=wt[_t[We]];break}}Nt=Nt===""?"Times":Nt,this.pdf.setFont(Nt,tn)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ne){this.ctx.globalCompositeOperation=Ne}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ne){this.ctx.globalAlpha=Ne}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ne){this.ctx.lineDashOffset=Ne,Ee.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ne){this.ctx.lineDash=Ne,Ee.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ne){this.ctx.ignoreClearRect=!!Ne}})};m.prototype.setLineDash=function(se){this.lineDash=se},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){N.call(this,"fill",!1)},m.prototype.stroke=function(){N.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(se,oe){if(isNaN(se)||isNaN(oe))throw uo.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var _e=this.ctx.transform.applyToPoint(new l(se,oe));this.path.push({type:"mt",x:_e.x,y:_e.y}),this.ctx.lastPoint=new l(se,oe)},m.prototype.closePath=function(){var se=new l(0,0),oe=0;for(oe=this.path.length-1;oe!==-1;oe--)if(this.path[oe].type==="begin"&&ys(this.path[oe+1])==="object"&&typeof this.path[oe+1].x=="number"){se=new l(this.path[oe+1].x,this.path[oe+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(se.x,se.y)},m.prototype.lineTo=function(se,oe){if(isNaN(se)||isNaN(oe))throw uo.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var _e=this.ctx.transform.applyToPoint(new l(se,oe));this.path.push({type:"lt",x:_e.x,y:_e.y}),this.ctx.lastPoint=new l(_e.x,_e.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),N.call(this,null,!0)},m.prototype.quadraticCurveTo=function(se,oe,_e,Ue){if(isNaN(_e)||isNaN(Ue)||isNaN(se)||isNaN(oe))throw uo.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Le=this.ctx.transform.applyToPoint(new l(_e,Ue)),be=this.ctx.transform.applyToPoint(new l(se,oe));this.path.push({type:"qct",x1:be.x,y1:be.y,x:Le.x,y:Le.y}),this.ctx.lastPoint=new l(Le.x,Le.y)},m.prototype.bezierCurveTo=function(se,oe,_e,Ue,Le,be){if(isNaN(Le)||isNaN(be)||isNaN(se)||isNaN(oe)||isNaN(_e)||isNaN(Ue))throw uo.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Re=this.ctx.transform.applyToPoint(new l(Le,be)),Qe=this.ctx.transform.applyToPoint(new l(se,oe)),Je=this.ctx.transform.applyToPoint(new l(_e,Ue));this.path.push({type:"bct",x1:Qe.x,y1:Qe.y,x2:Je.x,y2:Je.y,x:Re.x,y:Re.y}),this.ctx.lastPoint=new l(Re.x,Re.y)},m.prototype.arc=function(se,oe,_e,Ue,Le,be){if(isNaN(se)||isNaN(oe)||isNaN(_e)||isNaN(Ue)||isNaN(Le))throw uo.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(be=!!be,!this.ctx.transform.isIdentity){var Re=this.ctx.transform.applyToPoint(new l(se,oe));se=Re.x,oe=Re.y;var Qe=this.ctx.transform.applyToPoint(new l(0,_e)),Je=this.ctx.transform.applyToPoint(new l(0,0));_e=Math.sqrt(Math.pow(Qe.x-Je.x,2)+Math.pow(Qe.y-Je.y,2))}Math.abs(Le-Ue)>=2*Math.PI&&(Ue=0,Le=2*Math.PI),this.path.push({type:"arc",x:se,y:oe,radius:_e,startAngle:Ue,endAngle:Le,counterclockwise:be})},m.prototype.arcTo=function(se,oe,_e,Ue,Le){throw new Error("arcTo not implemented.")},m.prototype.rect=function(se,oe,_e,Ue){if(isNaN(se)||isNaN(oe)||isNaN(_e)||isNaN(Ue))throw uo.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(se,oe),this.lineTo(se+_e,oe),this.lineTo(se+_e,oe+Ue),this.lineTo(se,oe+Ue),this.lineTo(se,oe),this.lineTo(se+_e,oe),this.lineTo(se,oe)},m.prototype.fillRect=function(se,oe,_e,Ue){if(isNaN(se)||isNaN(oe)||isNaN(_e)||isNaN(Ue))throw uo.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var Le={};this.lineCap!=="butt"&&(Le.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Le.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(se,oe,_e,Ue),this.fill(),Le.hasOwnProperty("lineCap")&&(this.lineCap=Le.lineCap),Le.hasOwnProperty("lineJoin")&&(this.lineJoin=Le.lineJoin)}},m.prototype.strokeRect=function(se,oe,_e,Ue){if(isNaN(se)||isNaN(oe)||isNaN(_e)||isNaN(Ue))throw uo.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");T.call(this)||(this.beginPath(),this.rect(se,oe,_e,Ue),this.stroke())},m.prototype.clearRect=function(se,oe,_e,Ue){if(isNaN(se)||isNaN(oe)||isNaN(_e)||isNaN(Ue))throw uo.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(se,oe,_e,Ue))},m.prototype.save=function(se){se=typeof se!="boolean"||se;for(var oe=this.pdf.internal.getCurrentPageInfo().pageNumber,_e=0;_e<this.pdf.internal.getNumberOfPages();_e++)this.pdf.setPage(_e+1),this.pdf.internal.out("q");if(this.pdf.setPage(oe),se){this.ctx.fontSize=this.pdf.internal.getFontSize();var Ue=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Ue}},m.prototype.restore=function(se){se=typeof se!="boolean"||se;for(var oe=this.pdf.internal.getCurrentPageInfo().pageNumber,_e=0;_e<this.pdf.internal.getNumberOfPages();_e++)this.pdf.setPage(_e+1),this.pdf.internal.out("Q");this.pdf.setPage(oe),se&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(se){var oe,_e,Ue,Le;if(se.isCanvasGradient===!0&&(se=se.getColor()),!se)return{r:0,g:0,b:0,a:0,style:se};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(se))oe=0,_e=0,Ue=0,Le=0;else{var be=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(se);if(be!==null)oe=parseInt(be[1]),_e=parseInt(be[2]),Ue=parseInt(be[3]),Le=1;else if((be=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(se))!==null)oe=parseInt(be[1]),_e=parseInt(be[2]),Ue=parseInt(be[3]),Le=parseFloat(be[4]);else{if(Le=1,typeof se=="string"&&se.charAt(0)!=="#"){var Re=new Uhe(se);se=Re.ok?Re.toHex():"#000000"}se.length===4?(oe=se.substring(1,2),oe+=oe,_e=se.substring(2,3),_e+=_e,Ue=se.substring(3,4),Ue+=Ue):(oe=se.substring(1,3),_e=se.substring(3,5),Ue=se.substring(5,7)),oe=parseInt(oe,16),_e=parseInt(_e,16),Ue=parseInt(Ue,16)}}return{r:oe,g:_e,b:Ue,a:Le,style:se}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},T=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(se,oe,_e,Ue){if(isNaN(oe)||isNaN(_e)||typeof se!="string")throw uo.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Ue=isNaN(Ue)?void 0:Ue,!y.call(this)){var Le=ce(this.ctx.transform.rotation),be=this.ctx.transform.scaleX;W.call(this,{text:se,x:oe,y:_e,scale:be,angle:Le,align:this.textAlign,maxWidth:Ue})}},m.prototype.strokeText=function(se,oe,_e,Ue){if(isNaN(oe)||isNaN(_e)||typeof se!="string")throw uo.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!T.call(this)){Ue=isNaN(Ue)?void 0:Ue;var Le=ce(this.ctx.transform.rotation),be=this.ctx.transform.scaleX;W.call(this,{text:se,x:oe,y:_e,scale:be,renderingMode:"stroke",angle:Le,align:this.textAlign,maxWidth:Ue})}},m.prototype.measureText=function(se){if(typeof se!="string")throw uo.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var oe=this.pdf,_e=this.pdf.internal.scaleFactor,Ue=oe.internal.getFontSize(),Le=oe.getStringUnitWidth(se)*Ue/oe.internal.scaleFactor,be=function(Re){var Qe=(Re=Re||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Qe}}),this};return new be({width:Le*=Math.round(96*_e/72*1e4)/1e4})},m.prototype.scale=function(se,oe){if(isNaN(se)||isNaN(oe))throw uo.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var _e=new a(se,0,0,oe,0,0);this.ctx.transform=this.ctx.transform.multiply(_e)},m.prototype.rotate=function(se){if(isNaN(se))throw uo.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var oe=new a(Math.cos(se),Math.sin(se),-Math.sin(se),Math.cos(se),0,0);this.ctx.transform=this.ctx.transform.multiply(oe)},m.prototype.translate=function(se,oe){if(isNaN(se)||isNaN(oe))throw uo.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var _e=new a(1,0,0,1,se,oe);this.ctx.transform=this.ctx.transform.multiply(_e)},m.prototype.transform=function(se,oe,_e,Ue,Le,be){if(isNaN(se)||isNaN(oe)||isNaN(_e)||isNaN(Ue)||isNaN(Le)||isNaN(be))throw uo.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Re=new a(se,oe,_e,Ue,Le,be);this.ctx.transform=this.ctx.transform.multiply(Re)},m.prototype.setTransform=function(se,oe,_e,Ue,Le,be){se=isNaN(se)?1:se,oe=isNaN(oe)?0:oe,_e=isNaN(_e)?0:_e,Ue=isNaN(Ue)?1:Ue,Le=isNaN(Le)?0:Le,be=isNaN(be)?0:be,this.ctx.transform=new a(se,oe,_e,Ue,Le,be)};var C=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(se,oe,_e,Ue,Le,be,Re,Qe,Je){var nt=this.pdf.getImageProperties(se),Ve=1,ke=1,Ge=1,Ne=1;Ue!==void 0&&Qe!==void 0&&(Ge=Qe/Ue,Ne=Je/Le,Ve=nt.width/Ue*Qe/Ue,ke=nt.height/Le*Je/Le),be===void 0&&(be=oe,Re=_e,oe=0,_e=0),Ue!==void 0&&Qe===void 0&&(Qe=Ue,Je=Le),Ue===void 0&&Qe===void 0&&(Qe=nt.width,Je=nt.height);for(var je,Ye=this.ctx.transform.decompose(),vt=ce(Ye.rotate.shx),Lt=new a,Et=(Lt=(Lt=(Lt=Lt.multiply(Ye.translate)).multiply(Ye.skew)).multiply(Ye.scale)).applyToRectangle(new c(be-oe*Ge,Re-_e*Ne,Ue*Ve,Le*ke)),Vt=k.call(this,Et),_t=[],qt=0;qt<Vt.length;qt+=1)_t.indexOf(Vt[qt])===-1&&_t.push(Vt[qt]);if(R(_t),this.autoPaging)for(var tn=_t[0],Nt=_t[_t.length-1],wt=tn;wt<Nt+1;wt++){this.pdf.setPage(wt);var De=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],We=wt===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],It=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Xe=wt===1?0:ut+(wt-2)*It;if(this.ctx.clip_path.length!==0){var kt=this.path;je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(je,this.posX+this.margin[3],-Xe+We+this.ctx.prevPageLastElemOffset),z.call(this,"fill",!0),this.path=kt}var Bt=JSON.parse(JSON.stringify(Et));Bt=P([Bt],this.posX+this.margin[3],-Xe+We+this.ctx.prevPageLastElemOffset)[0];var it=(wt>tn||wt<Nt)&&C.call(this);it&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],De,It,null).clip().discardPath()),this.pdf.addImage(se,"JPEG",Bt.x,Bt.y,Bt.w,Bt.h,null,null,vt),it&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(se,"JPEG",Et.x,Et.y,Et.w,Et.h,null,null,vt)};var k=function(se,oe,_e){var Ue=[];oe=oe||this.pdf.internal.pageSize.width,_e=_e||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Le=this.posY+this.ctx.prevPageLastElemOffset;switch(se.type){default:case"mt":case"lt":Ue.push(Math.floor((se.y+Le)/_e)+1);break;case"arc":Ue.push(Math.floor((se.y+Le-se.radius)/_e)+1),Ue.push(Math.floor((se.y+Le+se.radius)/_e)+1);break;case"qct":var be=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,se.x1,se.y1,se.x,se.y);Ue.push(Math.floor((be.y+Le)/_e)+1),Ue.push(Math.floor((be.y+be.h+Le)/_e)+1);break;case"bct":var Re=ye(this.ctx.lastPoint.x,this.ctx.lastPoint.y,se.x1,se.y1,se.x2,se.y2,se.x,se.y);Ue.push(Math.floor((Re.y+Le)/_e)+1),Ue.push(Math.floor((Re.y+Re.h+Le)/_e)+1);break;case"rect":Ue.push(Math.floor((se.y+Le)/_e)+1),Ue.push(Math.floor((se.y+se.h+Le)/_e)+1)}for(var Qe=0;Qe<Ue.length;Qe+=1)for(;this.pdf.internal.getNumberOfPages()<Ue[Qe];)M.call(this);return Ue},M=function(){var se=this.fillStyle,oe=this.strokeStyle,_e=this.font,Ue=this.lineCap,Le=this.lineWidth,be=this.lineJoin;this.pdf.addPage(),this.fillStyle=se,this.strokeStyle=oe,this.font=_e,this.lineCap=Ue,this.lineWidth=Le,this.lineJoin=be},P=function(se,oe,_e){for(var Ue=0;Ue<se.length;Ue++)switch(se[Ue].type){case"bct":se[Ue].x2+=oe,se[Ue].y2+=_e;case"qct":se[Ue].x1+=oe,se[Ue].y1+=_e;case"mt":case"lt":case"arc":default:se[Ue].x+=oe,se[Ue].y+=_e}return se},R=function(se){return se.sort(function(oe,_e){return oe-_e})},N=function(se,oe){for(var _e,Ue,Le=this.fillStyle,be=this.strokeStyle,Re=this.lineCap,Qe=this.lineWidth,Je=Math.abs(Qe*this.ctx.transform.scaleX),nt=this.lineJoin,Ve=JSON.parse(JSON.stringify(this.path)),ke=JSON.parse(JSON.stringify(this.path)),Ge=[],Ne=0;Ne<ke.length;Ne++)if(ke[Ne].x!==void 0)for(var je=k.call(this,ke[Ne]),Ye=0;Ye<je.length;Ye+=1)Ge.indexOf(je[Ye])===-1&&Ge.push(je[Ye]);for(var vt=0;vt<Ge.length;vt++)for(;this.pdf.internal.getNumberOfPages()<Ge[vt];)M.call(this);if(R(Ge),this.autoPaging)for(var Lt=Ge[0],Et=Ge[Ge.length-1],Vt=Lt;Vt<Et+1;Vt++){this.pdf.setPage(Vt),this.fillStyle=Le,this.strokeStyle=be,this.lineCap=Re,this.lineWidth=Je,this.lineJoin=nt;var _t=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],qt=Vt===1?this.posY+this.margin[0]:this.margin[0],tn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],wt=Vt===1?0:tn+(Vt-2)*Nt;if(this.ctx.clip_path.length!==0){var De=this.path;_e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(_e,this.posX+this.margin[3],-wt+qt+this.ctx.prevPageLastElemOffset),z.call(this,se,!0),this.path=De}if(Ue=JSON.parse(JSON.stringify(Ve)),this.path=P(Ue,this.posX+this.margin[3],-wt+qt+this.ctx.prevPageLastElemOffset),oe===!1||Vt===0){var We=(Vt>Lt||Vt<Et)&&C.call(this);We&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_t,Nt,null).clip().discardPath()),z.call(this,se,oe),We&&this.pdf.restoreGraphicsState()}this.lineWidth=Qe}else this.lineWidth=Je,z.call(this,se,oe),this.lineWidth=Qe;this.path=Ve},z=function(se,oe){if((se!=="stroke"||oe||!T.call(this))&&(se==="stroke"||oe||!y.call(this))){for(var _e,Ue,Le=[],be=this.path,Re=0;Re<be.length;Re++){var Qe=be[Re];switch(Qe.type){case"begin":Le.push({begin:!0});break;case"close":Le.push({close:!0});break;case"mt":Le.push({start:Qe,deltas:[],abs:[]});break;case"lt":var Je=Le.length;if(be[Re-1]&&!isNaN(be[Re-1].x)&&(_e=[Qe.x-be[Re-1].x,Qe.y-be[Re-1].y],Je>0)){for(;Je>=0;Je--)if(Le[Je-1].close!==!0&&Le[Je-1].begin!==!0){Le[Je-1].deltas.push(_e),Le[Je-1].abs.push(Qe);break}}break;case"bct":_e=[Qe.x1-be[Re-1].x,Qe.y1-be[Re-1].y,Qe.x2-be[Re-1].x,Qe.y2-be[Re-1].y,Qe.x-be[Re-1].x,Qe.y-be[Re-1].y],Le[Le.length-1].deltas.push(_e);break;case"qct":var nt=be[Re-1].x+2/3*(Qe.x1-be[Re-1].x),Ve=be[Re-1].y+2/3*(Qe.y1-be[Re-1].y),ke=Qe.x+2/3*(Qe.x1-Qe.x),Ge=Qe.y+2/3*(Qe.y1-Qe.y),Ne=Qe.x,je=Qe.y;_e=[nt-be[Re-1].x,Ve-be[Re-1].y,ke-be[Re-1].x,Ge-be[Re-1].y,Ne-be[Re-1].x,je-be[Re-1].y],Le[Le.length-1].deltas.push(_e);break;case"arc":Le.push({deltas:[],abs:[],arc:!0}),Array.isArray(Le[Le.length-1].abs)&&Le[Le.length-1].abs.push(Qe)}}Ue=oe?null:se==="stroke"?"stroke":"fill";for(var Ye=!1,vt=0;vt<Le.length;vt++)if(Le[vt].arc)for(var Lt=Le[vt].abs,Et=0;Et<Lt.length;Et++){var Vt=Lt[Et];Vt.type==="arc"?Q.call(this,Vt.x,Vt.y,Vt.radius,Vt.startAngle,Vt.endAngle,Vt.counterclockwise,void 0,oe,!Ye):ee.call(this,Vt.x,Vt.y),Ye=!0}else if(Le[vt].close===!0)this.pdf.internal.out("h"),Ye=!1;else if(Le[vt].begin!==!0){var _t=Le[vt].start.x,qt=Le[vt].start.y;he.call(this,Le[vt].deltas,_t,qt),Ye=!0}Ue&&G.call(this,Ue),oe&&ie.call(this)}},H=function(se){var oe=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,_e=oe*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return se-_e;case"top":return se+oe-_e;case"hanging":return se+oe-2*_e;case"middle":return se+oe/2-_e;case"ideographic":return se;case"alphabetic":default:return se}},j=function(se){return se+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var se=function(){};return se.colorStops=[],se.addColorStop=function(oe,_e){this.colorStops.push([oe,_e])},se.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},se.isCanvasGradient=!0,se},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Q=function(se,oe,_e,Ue,Le,be,Re,Qe,Je){for(var nt=te.call(this,_e,Ue,Le,be),Ve=0;Ve<nt.length;Ve++){var ke=nt[Ve];Ve===0&&(Je?q.call(this,ke.x1+se,ke.y1+oe):ee.call(this,ke.x1+se,ke.y1+oe)),J.call(this,se,oe,ke.x2,ke.y2,ke.x3,ke.y3,ke.x4,ke.y4)}Qe?ie.call(this):G.call(this,Re)},G=function(se){switch(se){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ie=function(){this.pdf.clip(),this.pdf.discardPath()},q=function(se,oe){this.pdf.internal.out(n(se)+" "+r(oe)+" m")},W=function(se){var oe;switch(se.align){case"right":case"end":oe="right";break;case"center":oe="center";break;case"left":case"start":default:oe="left"}var _e=this.pdf.getTextDimensions(se.text),Ue=H.call(this,se.y),Le=j.call(this,Ue)-_e.h,be=this.ctx.transform.applyToPoint(new l(se.x,Ue)),Re=this.ctx.transform.decompose(),Qe=new a;Qe=(Qe=(Qe=Qe.multiply(Re.translate)).multiply(Re.skew)).multiply(Re.scale);for(var Je,nt,Ve,ke=this.ctx.transform.applyToRectangle(new c(se.x,Ue,_e.w,_e.h)),Ge=Qe.applyToRectangle(new c(se.x,Le,_e.w,_e.h)),Ne=k.call(this,Ge),je=[],Ye=0;Ye<Ne.length;Ye+=1)je.indexOf(Ne[Ye])===-1&&je.push(Ne[Ye]);if(R(je),this.autoPaging)for(var vt=je[0],Lt=je[je.length-1],Et=vt;Et<Lt+1;Et++){this.pdf.setPage(Et);var Vt=Et===1?this.posY+this.margin[0]:this.margin[0],_t=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qt=this.pdf.internal.pageSize.height-this.margin[2],tn=qt-this.margin[0],Nt=this.pdf.internal.pageSize.width-this.margin[1],wt=Nt-this.margin[3],De=Et===1?0:_t+(Et-2)*tn;if(this.ctx.clip_path.length!==0){var We=this.path;Je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(Je,this.posX+this.margin[3],-1*De+Vt),z.call(this,"fill",!0),this.path=We}var ut=P([JSON.parse(JSON.stringify(Ge))],this.posX+this.margin[3],-De+Vt+this.ctx.prevPageLastElemOffset)[0];se.scale>=.01&&(nt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(nt*se.scale),Ve=this.lineWidth,this.lineWidth=Ve*se.scale);var It=this.autoPaging!=="text";if(It||ut.y+ut.h<=qt){if(It||ut.y>=Vt&&ut.x<=Nt){var Xe=It?se.text:this.pdf.splitTextToSize(se.text,se.maxWidth||Nt-ut.x)[0],kt=P([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-De+Vt+this.ctx.prevPageLastElemOffset)[0],Bt=It&&(Et>vt||Et<Lt)&&C.call(this);Bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],wt,tn,null).clip().discardPath()),this.pdf.text(Xe,kt.x,kt.y,{angle:se.angle,align:oe,renderingMode:se.renderingMode}),Bt&&this.pdf.restoreGraphicsState()}}else ut.y<qt&&(this.ctx.prevPageLastElemOffset+=qt-ut.y);se.scale>=.01&&(this.pdf.setFontSize(nt),this.lineWidth=Ve)}else se.scale>=.01&&(nt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(nt*se.scale),Ve=this.lineWidth,this.lineWidth=Ve*se.scale),this.pdf.text(se.text,be.x+this.posX,be.y+this.posY,{angle:se.angle,align:oe,renderingMode:se.renderingMode,maxWidth:se.maxWidth}),se.scale>=.01&&(this.pdf.setFontSize(nt),this.lineWidth=Ve)},ee=function(se,oe,_e,Ue){_e=_e||0,Ue=Ue||0,this.pdf.internal.out(n(se+_e)+" "+r(oe+Ue)+" l")},he=function(se,oe,_e){return this.pdf.lines(se,oe,_e,null,null)},J=function(se,oe,_e,Ue,Le,be,Re,Qe){this.pdf.internal.out([e(i(_e+se)),e(s(Ue+oe)),e(i(Le+se)),e(s(be+oe)),e(i(Re+se)),e(s(Qe+oe)),"c"].join(" "))},te=function(se,oe,_e,Ue){for(var Le=2*Math.PI,be=Math.PI/2;oe>_e;)oe-=Le;var Re=Math.abs(_e-oe);Re<Le&&Ue&&(Re=Le-Re);for(var Qe=[],Je=Ue?-1:1,nt=oe;Re>1e-5;){var Ve=nt+Je*Math.min(Re,be);Qe.push(ne.call(this,se,nt,Ve)),Re-=Math.abs(Ve-nt),nt=Ve}return Qe},ne=function(se,oe,_e){var Ue=(_e-oe)/2,Le=se*Math.cos(Ue),be=se*Math.sin(Ue),Re=Le,Qe=-be,Je=Re*Re+Qe*Qe,nt=Je+Re*Le+Qe*be,Ve=4/3*(Math.sqrt(2*Je*nt)-nt)/(Re*be-Qe*Le),ke=Re-Ve*Qe,Ge=Qe+Ve*Re,Ne=ke,je=-Ge,Ye=Ue+oe,vt=Math.cos(Ye),Lt=Math.sin(Ye);return{x1:se*Math.cos(oe),y1:se*Math.sin(oe),x2:ke*vt-Ge*Lt,y2:ke*Lt+Ge*vt,x3:Ne*vt-je*Lt,y3:Ne*Lt+je*vt,x4:se*Math.cos(_e),y4:se*Math.sin(_e)}},ce=function(se){return 180*se/Math.PI},ue=function(se,oe,_e,Ue,Le,be){var Re=se+.5*(_e-se),Qe=oe+.5*(Ue-oe),Je=Le+.5*(_e-Le),nt=be+.5*(Ue-be),Ve=Math.min(se,Le,Re,Je),ke=Math.max(se,Le,Re,Je),Ge=Math.min(oe,be,Qe,nt),Ne=Math.max(oe,be,Qe,nt);return new c(Ve,Ge,ke-Ve,Ne-Ge)},ye=function(se,oe,_e,Ue,Le,be,Re,Qe){var Je,nt,Ve,ke,Ge,Ne,je,Ye,vt,Lt,Et,Vt,_t,qt,tn=_e-se,Nt=Ue-oe,wt=Le-_e,De=be-Ue,We=Re-Le,ut=Qe-be;for(nt=0;nt<41;nt++)vt=(je=(Ve=se+(Je=nt/40)*tn)+Je*((Ge=_e+Je*wt)-Ve))+Je*(Ge+Je*(Le+Je*We-Ge)-je),Lt=(Ye=(ke=oe+Je*Nt)+Je*((Ne=Ue+Je*De)-ke))+Je*(Ne+Je*(be+Je*ut-Ne)-Ye),nt==0?(Et=vt,Vt=Lt,_t=vt,qt=Lt):(Et=Math.min(Et,vt),Vt=Math.min(Vt,Lt),_t=Math.max(_t,vt),qt=Math.max(qt,Lt));return new c(Math.round(Et),Math.round(Vt),Math.round(_t-Et),Math.round(qt-Vt))},Ee=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var se,oe,_e=(se=this.ctx.lineDash,oe=this.ctx.lineDashOffset,JSON.stringify({lineDash:se,lineDashOffset:oe}));this.prevLineDash!==_e&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=_e)}}})(ga.API),function(t){var e=function(s){var l,c,a,f,p,m,v,y,T,C;for(c=[],a=0,f=(s+=l="\0\0\0\0".slice(s.length%4||4)).length;f>a;a+=4)(p=(s.charCodeAt(a)<<24)+(s.charCodeAt(a+1)<<16)+(s.charCodeAt(a+2)<<8)+s.charCodeAt(a+3))!==0?(m=(p=((p=((p=((p=(p-(C=p%85))/85)-(T=p%85))/85)-(y=p%85))/85)-(v=p%85))/85)%85,c.push(m+33,v+33,y+33,T+33,C+33)):c.push(122);return function(k,M){for(var P=M;P>0;P--)k.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},n=function(s){var l,c,a,f,p,m=String,v="length",y=255,T="charCodeAt",C="slice",k="replace";for(s[C](-2),s=s[C](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),a=[],f=0,p=(s+=l="uuuuu"[C](s[v]%5||5))[v];p>f;f+=5)c=52200625*(s[T](f)-33)+614125*(s[T](f+1)-33)+7225*(s[T](f+2)-33)+85*(s[T](f+3)-33)+(s[T](f+4)-33),a.push(y&c>>24,y&c>>16,y&c>>8,y&c);return function(M,P){for(var R=P;R>0;R--)M.pop()}(a,l[v]),m.fromCharCode.apply(m,a)},r=function(s){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),l.test(s)===!1)return"";for(var c="",a=0;a<s.length;a+=2)c+=String.fromCharCode("0x"+(s[a]+s[a+1]));return c},i=function(s){for(var l=new Uint8Array(s.length),c=s.length;c--;)l[c]=s.charCodeAt(c);return s=(l=pD(l)).reduce(function(a,f){return a+String.fromCharCode(f)},"")};t.processDataByFilters=function(s,l){var c=0,a=s||"",f=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":a=n(a),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":a=e(a),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":a=r(a),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":a=a.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">",f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":a=i(a),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:a,reverseChain:f.reverse().join(" ")}}}(ga.API),function(t){t.loadFile=function(e,n,r){return function(i,s,l){s=s!==!1,l=typeof l=="function"?l:function(){};var c=void 0;try{c=function(a,f,p){var m=new XMLHttpRequest,v=0,y=function(T){var C=T.length,k=[],M=String.fromCharCode;for(v=0;v<C;v+=1)k.push(M(255&T.charCodeAt(v)));return k.join("")};if(m.open("GET",a,!f),m.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(m.onload=function(){m.status===200?p(y(this.responseText)):p(void 0)}),m.send(null),f&&m.status===200)return y(m.responseText)}(i,s,l)}catch{}return c}(e,n,r)},t.loadImageFile=t.loadFile}(ga.API),function(t){function e(){return(ua.html2canvas?Promise.resolve(ua.html2canvas):Promise.resolve().then(()=>Myt)).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function n(){return(ua.DOMPurify?Promise.resolve(ua.DOMPurify):Promise.resolve().then(()=>abt)).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var r=function(l){var c=ys(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(l,c){var a=document.createElement(l);for(var f in c.className&&(a.className=c.className),c.innerHTML&&c.dompurify&&(a.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)a.style[f]=c.style[f];return a},s=function l(c){var a=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),f=l.convert(Promise.resolve(),a);return f=(f=f.setProgress(1,l,1,[l])).set(c)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(l,c){return l.__proto__=c||s.prototype,l},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(a){switch(r(a)){case"string":return"string";case"element":return a.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l)){case"string":return this.then(n).then(function(a){return this.set({src:i("div",{innerHTML:l,dompurify:a})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},s.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=function a(f,p){for(var m=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),v=f.firstChild;v;v=v.nextSibling)p!==!0&&v.nodeType===1&&v.nodeName==="SCRIPT"||m.appendChild(a(v,p));return f.nodeType===1&&(f.nodeName==="CANVAS"?(m.width=f.width,m.height=f.height,m.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(m.value=f.value),m.addEventListener("load",function(){m.scrollTop=f.scrollTop,m.scrollLeft=f.scrollLeft},!0)),m}(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var a=Object.assign({},this.opt.html2canvas);return delete a.onrendered,c(this.prop.container,a)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var a=this.opt.jsPDF,f=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,a.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,a.context2d.posX=this.opt.x,a.context2d.posY=this.opt.y,a.context2d.margin=this.opt.margin,a.context2d.fontFaces=f,f)for(var v=0;v<f.length;++v){var y=f[v],T=y.src.find(function(C){return C.format==="truetype"});T&&a.addFont(T.url,y.ref.name,y.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,a.context2d.save(!0),c(this.prop.container,m)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(l,c,a){return(a=a||"pdf").toLowerCase()==="img"||a.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},s.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},s.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},s.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(l){if(r(l)!=="object")return this;var c=Object.keys(l||{}).map(function(a){if(a in s.template.prop)return function(){this.prop[a]=l[a]};switch(a){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[a]=l[a]}}},this);return this.then(function(){return this.thenList(c)})},s.prototype.get=function(l,c){return this.then(function(){var a=l in s.template.prop?this.prop[l]:this.opt[l];return c?c(a):a})},s.prototype.setMargin=function(l){return this.then(function(){switch(r(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},s.prototype.setPageSize=function(l){function c(a,f){return Math.floor(a*f/72*96)}return this.then(function(){(l=l||ga.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},s.prototype.setProgress=function(l,c,a,f){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),a!=null&&(this.progress.n=a),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(l,c,a,f){return this.setProgress(l?this.progress.val+l:null,c||null,a?this.progress.n+a:null,f?this.progress.stack.concat(f):null)},s.prototype.then=function(l,c){var a=this;return this.thenCore(l,c,function(f,p){return a.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(m){return a.updateProgress(null,f),m}).then(f,p).then(function(m){return a.updateProgress(1),m})})},s.prototype.thenCore=function(l,c,a){a=a||Promise.prototype.then,l&&(l=l.bind(this)),c&&(c=c.bind(this));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),p=a.call(f,l,c);return s.convert(p,this.__proto__)},s.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},s.prototype.thenList=function(l){var c=this;return l.forEach(function(a){c=c.thenCore(a)}),c},s.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return s.convert(c,this)},s.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},s.prototype.error=function(l){return this.then(function(){throw new Error(l)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ga.getPageSize=function(l,c,a){if(ys(l)==="object"){var f=l;l=f.orientation,c=f.unit||c,a=f.format||a}c=c||"mm",a=a||"a4",l=(""+(l||"P")).toLowerCase();var p,m=(""+a).toLowerCase(),v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+c}var y,T=0,C=0;if(v.hasOwnProperty(m))T=v[m][1]/p,C=v[m][0]/p;else try{T=a[1],C=a[0]}catch{throw new Error("Invalid format: "+a)}if(l==="p"||l==="portrait")l="p",C>T&&(y=C,C=T,T=y);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",T>C&&(y=C,C=T,T=y)}return{width:C,height:T,unit:c,k:p,orientation:l}},t.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(yD):null;var a=new s(c);return c.worker?a:a.from(l).doCallback()}}(ga.API),ga.API.addJS=function(t){return KX=t,this.internal.events.subscribe("postPutResources",function(){ZS=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ZS+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),GX=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+KX+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){ZS!==void 0&&GX!==void 0&&this.internal.out("/Names <</JavaScript "+ZS+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var l=i[s],c=r.exec(l);if(c!=null){var a=c[1];n.internal.newObjectDeferredBegin(a,!1)}n.internal.write(l)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,p=[];for(s=0;s<f;s++){var m=n.internal.newObject();p.push(m);var v=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var y=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<p.length;s++)n.internal.write("(page_"+(s+1)+")"+p[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+y+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var l={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(l),l},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var l=r.children[s];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var c=this.count=this.count_r({count:0},l);if(c>0&&this.line("/Count "+c),l.options&&l.options.pageNumber){var a=n.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+a.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var f=0;f<r.children.length;f++)this.renderItems(r.children[f])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(ga.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,l,c){var a,f=this.decode.DCT_DECODE,p=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=l||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(a=function(m){for(var v,y=256*m.charCodeAt(4)+m.charCodeAt(5),T=m.length,C={width:0,height:0,numcomponents:1},k=4;k<T;k+=2){if(k+=y,e.indexOf(m.charCodeAt(k+1))!==-1){v=256*m.charCodeAt(k+5)+m.charCodeAt(k+6),C={width:256*m.charCodeAt(k+7)+m.charCodeAt(k+8),height:v,numcomponents:m.charCodeAt(k+9)};break}y=256*m.charCodeAt(k+2)+m.charCodeAt(k+3)}return C}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}p={data:n,width:a.width,height:a.height,colorSpace:c,bitsPerComponent:8,filter:f,index:r,alias:i}}return p}}(ga.API);var Zb,JS,WX,qX,YX,zmt=function(){var t,e,n;function r(s){var l,c,a,f,p,m,v,y,T,C,k,M,P,R;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},m=null;;){switch(l=this.readUInt32(),T=(function(){var N,z;for(z=[],N=0;N<4;++N)z.push(String.fromCharCode(this.data[this.pos++]));return z}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(l);break;case"fcTL":m&&this.animation.frames.push(m),this.pos+=4,m={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),f=this.readUInt16()||100,m.delay=1e3*p/f,m.disposeOp=this.data[this.pos++],m.blendOp=this.data[this.pos++],m.data=[];break;case"IDAT":case"fdAT":for(T==="fdAT"&&(this.pos+=4,l-=4),s=(m!=null?m.data:void 0)||this.imgData,M=0;0<=l?M<l:M>l;0<=l?++M:--M)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(a=this.palette.length/3,this.transparency.indexed=this.read(l),this.transparency.indexed.length>a)throw new Error("More transparent colors than palette size");if((C=a-this.transparency.indexed.length)>0)for(P=0;0<=C?P<C:P>C;0<=C?++P:--P)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(l)[0];break;case 2:this.transparency.rgb=this.read(l)}break;case"tEXt":v=(k=this.read(l)).indexOf(0),y=String.fromCharCode.apply(String,k.slice(0,v)),this.text[y]=String.fromCharCode.apply(String,k.slice(v+1));break;case"IEND":return m&&this.animation.frames.push(m),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(R=this.colorType)===4||R===6,c=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*c,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=l}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var l,c;for(c=[],l=0;0<=s?l<s:l>s;0<=s?++l:--l)c.push(this.data[this.pos++]);return c},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var l=this.pixelBitlength/8,c=new Uint8Array(this.width*this.height*l),a=0,f=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function p(m,v,y,T){var C,k,M,P,R,N,z,H,j,Q,G,ie,q,W,ee,he,J,te,ne,ce,ue,ye=Math.ceil((f.width-m)/y),Ee=Math.ceil((f.height-v)/T),se=f.width==ye&&f.height==Ee;for(W=l*ye,ie=se?c:new Uint8Array(W*Ee),N=s.length,q=0,k=0;q<Ee&&a<N;){switch(s[a++]){case 0:for(P=J=0;J<W;P=J+=1)ie[k++]=s[a++];break;case 1:for(P=te=0;te<W;P=te+=1)C=s[a++],R=P<l?0:ie[k-l],ie[k++]=(C+R)%256;break;case 2:for(P=ne=0;ne<W;P=ne+=1)C=s[a++],M=(P-P%l)/l,ee=q&&ie[(q-1)*W+M*l+P%l],ie[k++]=(ee+C)%256;break;case 3:for(P=ce=0;ce<W;P=ce+=1)C=s[a++],M=(P-P%l)/l,R=P<l?0:ie[k-l],ee=q&&ie[(q-1)*W+M*l+P%l],ie[k++]=(C+Math.floor((R+ee)/2))%256;break;case 4:for(P=ue=0;ue<W;P=ue+=1)C=s[a++],M=(P-P%l)/l,R=P<l?0:ie[k-l],q===0?ee=he=0:(ee=ie[(q-1)*W+M*l+P%l],he=M&&ie[(q-1)*W+(M-1)*l+P%l]),z=R+ee-he,H=Math.abs(z-R),Q=Math.abs(z-ee),G=Math.abs(z-he),j=H<=Q&&H<=G?R:Q<=G?ee:he,ie[k++]=(C+j)%256;break;default:throw new Error("Invalid filter algorithm: "+s[a-1])}if(!se){var oe=((v+q*T)*f.width+m)*l,_e=q*W;for(P=0;P<ye;P+=1){for(var Ue=0;Ue<l;Ue+=1)c[oe++]=ie[_e++];oe+=(y-1)*l}}q++}}return s=ymt(s),f.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),c},r.prototype.decodePalette=function(){var s,l,c,a,f,p,m,v,y;for(c=this.palette,p=this.transparency.indexed||[],f=new Uint8Array((p.length||0)+c.length),a=0,s=0,l=m=0,v=c.length;m<v;l=m+=3)f[a++]=c[l],f[a++]=c[l+1],f[a++]=c[l+2],f[a++]=(y=p[s++])!=null?y:255;return f},r.prototype.copyToImageData=function(s,l){var c,a,f,p,m,v,y,T,C,k,M;if(a=this.colors,C=null,c=this.hasAlphaChannel,this.palette.length&&(C=(M=this._decodedPalette)!=null?M:this._decodedPalette=this.decodePalette(),a=4,c=!0),T=(f=s.data||s).length,m=C||l,p=v=0,a===1)for(;p<T;)y=C?4*l[p/4]:v,k=m[y++],f[p++]=k,f[p++]=k,f[p++]=k,f[p++]=c?m[y++]:255,v=y;else for(;p<T;)y=C?4*l[p/4]:v,f[p++]=m[y++],f[p++]=m[y++],f[p++]=m[y++],f[p++]=c?m[y++]:255,v=y},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(ua)==="[object Window]"){try{e=ua.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var l;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(l=new Image).src=e.toDataURL(),l;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var l,c,a,f,p,m,v,y;if(this.animation){for(y=[],c=p=0,m=(v=this.animation.frames).length;p<m;c=++p)l=v[c],a=s.createImageData(l.width,l.height),f=this.decodePixels(new Uint8Array(l.data)),this.copyToImageData(a,f),l.imageData=a,y.push(l.image=t(a));return y}},r.prototype.renderFrame=function(s,l){var c,a,f;return c=(a=this.animation.frames)[l],f=a[l-1],l===0&&s.clearRect(0,0,this.width,this.height),(f!=null?f.disposeOp:void 0)===1?s.clearRect(f.xOffset,f.yOffset,f.width,f.height):(f!=null?f.disposeOp:void 0)===2&&s.putImageData(f.imageData,f.xOffset,f.yOffset),c.blendOp===0&&s.clearRect(c.xOffset,c.yOffset,c.width,c.height),s.drawImage(c.image,c.xOffset,c.yOffset)},r.prototype.animate=function(s){var l,c,a,f,p,m,v=this;return c=0,m=this.animation,f=m.numFrames,a=m.frames,p=m.numPlays,(l=function(){var y,T;if(y=c++%f,T=a[y],v.renderFrame(s,y),f>1&&c/f<p)return v.animation._timeout=setTimeout(l,T.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var l,c;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,l=s.getContext("2d"),this.animation?(this.decodeFrames(l),this.animate(l)):(c=l.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),l.putImageData(c,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function $mt(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,l=1<<(7&i)+1;t[e++],t[e++];var c=null,a=null;s&&(c=e,a=l,e+=3*l);var f=!0,p=[],m=0,v=null,y=0,T=null;for(this.width=n,this.height=r;f&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,T=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((q=t[e++])>=0))throw Error("Invalid block size");if(q===0)break;e+=q}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var C=t[e++];m=t[e++]|t[e++]<<8,v=t[e++],!(1&C)&&(v=null),y=C>>2&7,e++;break;case 254:for(;;){if(!((q=t[e++])>=0))throw Error("Invalid block size");if(q===0)break;e+=q}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var k=t[e++]|t[e++]<<8,M=t[e++]|t[e++]<<8,P=t[e++]|t[e++]<<8,R=t[e++]|t[e++]<<8,N=t[e++],z=N>>6&1,H=1<<(7&N)+1,j=c,Q=a,G=!1;N>>7&&(G=!0,j=e,Q=H,e+=3*H);var ie=e;for(e++;;){var q;if(!((q=t[e++])>=0))throw Error("Invalid block size");if(q===0)break;e+=q}p.push({x:k,y:M,width:P,height:R,has_local_palette:G,palette_offset:j,palette_size:Q,data_offset:ie,data_length:e-ie,transparent_index:v,interlaced:!!z,delay:m,disposal:y});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return T},this.frameInfo=function(W){if(W<0||W>=p.length)throw new Error("Frame index out of range.");return p[W]},this.decodeAndBlitFrameBGRA=function(W,ee){var he=this.frameInfo(W),J=he.width*he.height,te=new Uint8Array(J);XX(t,he.data_offset,te,J);var ne=he.palette_offset,ce=he.transparent_index;ce===null&&(ce=256);var ue=he.width,ye=n-ue,Ee=ue,se=4*(he.y*n+he.x),oe=4*((he.y+he.height)*n+he.x),_e=se,Ue=4*ye;he.interlaced===!0&&(Ue+=4*n*7);for(var Le=8,be=0,Re=te.length;be<Re;++be){var Qe=te[be];if(Ee===0&&(Ee=ue,(_e+=Ue)>=oe&&(Ue=4*ye+4*n*(Le-1),_e=se+(ue+ye)*(Le<<1),Le>>=1)),Qe===ce)_e+=4;else{var Je=t[ne+3*Qe],nt=t[ne+3*Qe+1],Ve=t[ne+3*Qe+2];ee[_e++]=Ve,ee[_e++]=nt,ee[_e++]=Je,ee[_e++]=255}--Ee}},this.decodeAndBlitFrameRGBA=function(W,ee){var he=this.frameInfo(W),J=he.width*he.height,te=new Uint8Array(J);XX(t,he.data_offset,te,J);var ne=he.palette_offset,ce=he.transparent_index;ce===null&&(ce=256);var ue=he.width,ye=n-ue,Ee=ue,se=4*(he.y*n+he.x),oe=4*((he.y+he.height)*n+he.x),_e=se,Ue=4*ye;he.interlaced===!0&&(Ue+=4*n*7);for(var Le=8,be=0,Re=te.length;be<Re;++be){var Qe=te[be];if(Ee===0&&(Ee=ue,(_e+=Ue)>=oe&&(Ue=4*ye+4*n*(Le-1),_e=se+(ue+ye)*(Le<<1),Le>>=1)),Qe===ce)_e+=4;else{var Je=t[ne+3*Qe],nt=t[ne+3*Qe+1],Ve=t[ne+3*Qe+2];ee[_e++]=Je,ee[_e++]=nt,ee[_e++]=Ve,ee[_e++]=255}--Ee}}}function XX(t,e,n,r){for(var i=t[e++],s=1<<i,l=s+1,c=l+1,a=i+1,f=(1<<a)-1,p=0,m=0,v=0,y=t[e++],T=new Int32Array(4096),C=null;;){for(;p<16&&y!==0;)m|=t[e++]<<p,p+=8,y===1?y=t[e++]:--y;if(p<a)break;var k=m&f;if(m>>=a,p-=a,k!==s){if(k===l)break;for(var M=k<c?k:C,P=0,R=M;R>s;)R=T[R]>>8,++P;var N=R;if(v+P+(M!==k?1:0)>r)return void uo.log("Warning, gif stream longer than expected.");n[v++]=N;var z=v+=P;for(M!==k&&(n[v++]=N),R=M;P--;)R=T[R],n[--z]=255&R,R>>=8;C!==null&&c<4096&&(T[c++]=C<<8|N,c>=f+1&&a<12&&(++a,f=f<<1|1)),C=k}else c=l+1,f=(1<<(a=i+1))-1,C=null}return v!==r&&uo.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function MP(t){var e,n,r,i,s,l=Math.floor,c=new Array(64),a=new Array(64),f=new Array(64),p=new Array(64),m=new Array(65535),v=new Array(65535),y=new Array(64),T=new Array(64),C=[],k=0,M=7,P=new Array(64),R=new Array(64),N=new Array(64),z=new Array(256),H=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Q=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],ie=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],q=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],W=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ee=[0,1,2,3,4,5,6,7,8,9,10,11],he=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],J=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function te(se,oe){for(var _e=0,Ue=0,Le=new Array,be=1;be<=16;be++){for(var Re=1;Re<=se[be];Re++)Le[oe[Ue]]=[],Le[oe[Ue]][0]=_e,Le[oe[Ue]][1]=be,Ue++,_e++;_e*=2}return Le}function ne(se){for(var oe=se[0],_e=se[1]-1;_e>=0;)oe&1<<_e&&(k|=1<<M),_e--,--M<0&&(k==255?(ce(255),ce(0)):ce(k),M=7,k=0)}function ce(se){C.push(se)}function ue(se){ce(se>>8&255),ce(255&se)}function ye(se,oe,_e,Ue,Le){for(var be,Re=Le[0],Qe=Le[240],Je=function(Lt,Et){var Vt,_t,qt,tn,Nt,wt,De,We,ut,It,Xe=0;for(ut=0;ut<8;++ut){Vt=Lt[Xe],_t=Lt[Xe+1],qt=Lt[Xe+2],tn=Lt[Xe+3],Nt=Lt[Xe+4],wt=Lt[Xe+5],De=Lt[Xe+6];var kt=Vt+(We=Lt[Xe+7]),Bt=Vt-We,it=_t+De,Mt=_t-De,at=qt+wt,et=qt-wt,St=tn+Nt,sn=tn-Nt,bn=kt+St,gr=kt-St,tr=it+at,Nn=it-at;Lt[Xe]=bn+tr,Lt[Xe+4]=bn-tr;var lr=.707106781*(Nn+gr);Lt[Xe+2]=gr+lr,Lt[Xe+6]=gr-lr;var Qr=.382683433*((bn=sn+et)-(Nn=Mt+Bt)),Ci=.5411961*bn+Qr,ai=1.306562965*Nn+Qr,Vi=.707106781*(tr=et+Mt),va=Bt+Vi,Rr=Bt-Vi;Lt[Xe+5]=Rr+Ci,Lt[Xe+3]=Rr-Ci,Lt[Xe+1]=va+ai,Lt[Xe+7]=va-ai,Xe+=8}for(Xe=0,ut=0;ut<8;++ut){Vt=Lt[Xe],_t=Lt[Xe+8],qt=Lt[Xe+16],tn=Lt[Xe+24],Nt=Lt[Xe+32],wt=Lt[Xe+40],De=Lt[Xe+48];var qi=Vt+(We=Lt[Xe+56]),Hi=Vt-We,Jt=_t+De,hn=_t-De,En=qt+wt,Hn=qt-wt,Ht=tn+Nt,an=tn-Nt,In=qi+Ht,kn=qi-Ht,er=Jt+En,Gn=Jt-En;Lt[Xe]=In+er,Lt[Xe+32]=In-er;var Mr=.707106781*(Gn+kn);Lt[Xe+16]=kn+Mr,Lt[Xe+48]=kn-Mr;var ti=.382683433*((In=an+Hn)-(Gn=hn+Hi)),Tn=.5411961*In+ti,Kt=1.306562965*Gn+ti,Zn=.707106781*(er=Hn+hn),jt=Hi+Zn,Xn=Hi-Zn;Lt[Xe+40]=Xn+Tn,Lt[Xe+24]=Xn-Tn,Lt[Xe+8]=jt+Kt,Lt[Xe+56]=jt-Kt,Xe++}for(ut=0;ut<64;++ut)It=Lt[ut]*Et[ut],y[ut]=It>0?It+.5|0:It-.5|0;return y}(se,oe),nt=0;nt<64;++nt)T[j[nt]]=Je[nt];var Ve=T[0]-_e;_e=T[0],Ve==0?ne(Ue[0]):(ne(Ue[v[be=32767+Ve]]),ne(m[be]));for(var ke=63;ke>0&&T[ke]==0;)ke--;if(ke==0)return ne(Re),_e;for(var Ge,Ne=1;Ne<=ke;){for(var je=Ne;T[Ne]==0&&Ne<=ke;)++Ne;var Ye=Ne-je;if(Ye>=16){Ge=Ye>>4;for(var vt=1;vt<=Ge;++vt)ne(Qe);Ye&=15}be=32767+T[Ne],ne(Le[(Ye<<4)+v[be]]),ne(m[be]),Ne++}return ke!=63&&ne(Re),_e}function Ee(se){se=Math.min(Math.max(se,1),100),s!=se&&(function(oe){for(var _e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Ue=0;Ue<64;Ue++){var Le=l((_e[Ue]*oe+50)/100);Le=Math.min(Math.max(Le,1),255),c[j[Ue]]=Le}for(var be=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Re=0;Re<64;Re++){var Qe=l((be[Re]*oe+50)/100);Qe=Math.min(Math.max(Qe,1),255),a[j[Re]]=Qe}for(var Je=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],nt=0,Ve=0;Ve<8;Ve++)for(var ke=0;ke<8;ke++)f[nt]=1/(c[j[nt]]*Je[Ve]*Je[ke]*8),p[nt]=1/(a[j[nt]]*Je[Ve]*Je[ke]*8),nt++}(se<50?Math.floor(5e3/se):Math.floor(200-2*se)),s=se)}this.encode=function(se,oe){oe&&Ee(oe),C=new Array,k=0,M=7,ue(65496),ue(65504),ue(16),ce(74),ce(70),ce(73),ce(70),ce(0),ce(1),ce(1),ce(0),ue(1),ue(1),ce(0),ce(0),function(){ue(65499),ue(132),ce(0);for(var _t=0;_t<64;_t++)ce(c[_t]);ce(1);for(var qt=0;qt<64;qt++)ce(a[qt])}(),function(_t,qt){ue(65472),ue(17),ce(8),ue(qt),ue(_t),ce(3),ce(1),ce(17),ce(0),ce(2),ce(17),ce(1),ce(3),ce(17),ce(1)}(se.width,se.height),function(){ue(65476),ue(418),ce(0);for(var _t=0;_t<16;_t++)ce(Q[_t+1]);for(var qt=0;qt<=11;qt++)ce(G[qt]);ce(16);for(var tn=0;tn<16;tn++)ce(ie[tn+1]);for(var Nt=0;Nt<=161;Nt++)ce(q[Nt]);ce(1);for(var wt=0;wt<16;wt++)ce(W[wt+1]);for(var De=0;De<=11;De++)ce(ee[De]);ce(17);for(var We=0;We<16;We++)ce(he[We+1]);for(var ut=0;ut<=161;ut++)ce(J[ut])}(),ue(65498),ue(12),ce(3),ce(1),ce(0),ce(2),ce(17),ce(3),ce(17),ce(0),ce(63),ce(0);var _e=0,Ue=0,Le=0;k=0,M=7,this.encode.displayName="_encode_";for(var be,Re,Qe,Je,nt,Ve,ke,Ge,Ne,je=se.data,Ye=se.width,vt=se.height,Lt=4*Ye,Et=0;Et<vt;){for(be=0;be<Lt;){for(nt=Lt*Et+be,ke=-1,Ge=0,Ne=0;Ne<64;Ne++)Ve=nt+(Ge=Ne>>3)*Lt+(ke=4*(7&Ne)),Et+Ge>=vt&&(Ve-=Lt*(Et+1+Ge-vt)),be+ke>=Lt&&(Ve-=be+ke-Lt+4),Re=je[Ve++],Qe=je[Ve++],Je=je[Ve++],P[Ne]=(H[Re]+H[Qe+256>>0]+H[Je+512>>0]>>16)-128,R[Ne]=(H[Re+768>>0]+H[Qe+1024>>0]+H[Je+1280>>0]>>16)-128,N[Ne]=(H[Re+1280>>0]+H[Qe+1536>>0]+H[Je+1792>>0]>>16)-128;_e=ye(P,f,_e,e,r),Ue=ye(R,p,Ue,n,i),Le=ye(N,p,Le,n,i),be+=32}Et+=8}if(M>=0){var Vt=[];Vt[1]=M+1,Vt[0]=(1<<M+1)-1,ne(Vt)}return ue(65497),new Uint8Array(C)},t=t||50,function(){for(var se=String.fromCharCode,oe=0;oe<256;oe++)z[oe]=se(oe)}(),e=te(Q,G),n=te(W,ee),r=te(ie,q),i=te(he,J),function(){for(var se=1,oe=2,_e=1;_e<=15;_e++){for(var Ue=se;Ue<oe;Ue++)v[32767+Ue]=_e,m[32767+Ue]=[],m[32767+Ue][1]=_e,m[32767+Ue][0]=Ue;for(var Le=-(oe-1);Le<=-se;Le++)v[32767+Le]=_e,m[32767+Le]=[],m[32767+Le][1]=_e,m[32767+Le][0]=oe-1+Le;se<<=1,oe<<=1}}(),function(){for(var se=0;se<256;se++)H[se]=19595*se,H[se+256>>0]=38470*se,H[se+512>>0]=7471*se+32768,H[se+768>>0]=-11059*se,H[se+1024>>0]=-21709*se,H[se+1280>>0]=32768*se+8421375,H[se+1536>>0]=-27439*se,H[se+1792>>0]=-5329*se}(),Ee(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Pp(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ZX(t){function e(Q){if(!Q)throw Error("assert :P")}function n(Q,G,ie){for(var q=0;4>q;q++)if(Q[G+q]!=ie.charCodeAt(q))return!0;return!1}function r(Q,G,ie,q,W){for(var ee=0;ee<W;ee++)Q[G+ee]=ie[q+ee]}function i(Q,G,ie,q){for(var W=0;W<q;W++)Q[G+W]=ie}function s(Q){return new Int32Array(Q)}function l(Q,G){for(var ie=[],q=0;q<Q;q++)ie.push(new G);return ie}function c(Q,G){var ie=[];return function q(W,ee,he){for(var J=he[ee],te=0;te<J&&(W.push(he.length>ee+1?[]:new G),!(he.length<ee+1));te++)q(W[te],ee+1,he)}(ie,0,Q),ie}var a=function(){var Q=this;function G(V,re){for(var we=1<<re-1>>>0;V&we;)we>>>=1;return we?(V&we-1)+we:V}function ie(V,re,we,Fe,ze){e(!(Fe%we));do V[re+(Fe-=we)]=ze;while(0<Fe)}function q(V,re,we,Fe,ze){if(e(2328>=ze),512>=ze)var ct=s(512);else if((ct=s(ze))==null)return 0;return function(dt,gt,Ct,ft,nn,Bn){var Mn,An,hr=gt,Qn=1<<Ct,un=s(16),dn=s(16);for(e(nn!=0),e(ft!=null),e(dt!=null),e(0<Ct),An=0;An<nn;++An){if(15<ft[An])return 0;++un[ft[An]]}if(un[0]==nn)return 0;for(dn[1]=0,Mn=1;15>Mn;++Mn){if(un[Mn]>1<<Mn)return 0;dn[Mn+1]=dn[Mn]+un[Mn]}for(An=0;An<nn;++An)Mn=ft[An],0<ft[An]&&(Bn[dn[Mn]++]=An);if(dn[15]==1)return(ft=new W).g=0,ft.value=Bn[0],ie(dt,hr,1,Qn,ft),Qn;var sr,fr=-1,ur=Qn-1,Zr=0,Er=1,bi=1,Gr=1<<Ct;for(An=0,Mn=1,nn=2;Mn<=Ct;++Mn,nn<<=1){if(Er+=bi<<=1,0>(bi-=un[Mn]))return 0;for(;0<un[Mn];--un[Mn])(ft=new W).g=Mn,ft.value=Bn[An++],ie(dt,hr+Zr,nn,Gr,ft),Zr=G(Zr,Mn)}for(Mn=Ct+1,nn=2;15>=Mn;++Mn,nn<<=1){if(Er+=bi<<=1,0>(bi-=un[Mn]))return 0;for(;0<un[Mn];--un[Mn]){if(ft=new W,(Zr&ur)!=fr){for(hr+=Gr,sr=1<<(fr=Mn)-Ct;15>fr&&!(0>=(sr-=un[fr]));)++fr,sr<<=1;Qn+=Gr=1<<(sr=fr-Ct),dt[gt+(fr=Zr&ur)].g=sr+Ct,dt[gt+fr].value=hr-gt-fr}ft.g=Mn-Ct,ft.value=Bn[An++],ie(dt,hr+(Zr>>Ct),nn,Gr,ft),Zr=G(Zr,Mn)}}return Er!=2*dn[15]-1?0:Qn}(V,re,we,Fe,ze,ct)}function W(){this.value=this.g=0}function ee(){this.value=this.g=0}function he(){this.G=l(5,W),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(fu,ee)}function J(V,re,we,Fe){e(V!=null),e(re!=null),e(2147483648>Fe),V.Ca=254,V.I=0,V.b=-8,V.Ka=0,V.oa=re,V.pa=we,V.Jd=re,V.Yc=we+Fe,V.Zc=4<=Fe?we+Fe-4+1:we,be(V)}function te(V,re){for(var we=0;0<re--;)we|=Qe(V,128)<<re;return we}function ne(V,re){var we=te(V,re);return Re(V)?-we:we}function ce(V,re,we,Fe){var ze,ct=0;for(e(V!=null),e(re!=null),e(4294967288>Fe),V.Sb=Fe,V.Ra=0,V.u=0,V.h=0,4<Fe&&(Fe=4),ze=0;ze<Fe;++ze)ct+=re[we+ze]<<8*ze;V.Ra=ct,V.bb=Fe,V.oa=re,V.pa=we}function ue(V){for(;8<=V.u&&V.bb<V.Sb;)V.Ra>>>=8,V.Ra+=V.oa[V.pa+V.bb]<<EA-8>>>0,++V.bb,V.u-=8;_e(V)&&(V.h=1,V.u=0)}function ye(V,re){if(e(0<=re),!V.h&&re<=CA){var we=oe(V)&ef[re];return V.u+=re,ue(V),we}return V.h=1,V.u=0}function Ee(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function se(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function oe(V){return V.Ra>>>(V.u&EA-1)>>>0}function _e(V){return e(V.bb<=V.Sb),V.h||V.bb==V.Sb&&V.u>EA}function Ue(V,re){V.u=re,V.h=_e(V)}function Le(V){V.u>=Km&&(e(V.u>=Km),ue(V))}function be(V){e(V!=null&&V.oa!=null),V.pa<V.Zc?(V.I=(V.oa[V.pa++]|V.I<<8)>>>0,V.b+=8):(e(V!=null&&V.oa!=null),V.pa<V.Yc?(V.b+=8,V.I=V.oa[V.pa++]|V.I<<8):V.Ka?V.b=0:(V.I<<=8,V.b+=8,V.Ka=1))}function Re(V){return te(V,1)}function Qe(V,re){var we=V.Ca;0>V.b&&be(V);var Fe=V.b,ze=we*re>>>8,ct=(V.I>>>Fe>ze)+0;for(ct?(we-=ze,V.I-=ze+1<<Fe>>>0):we=ze+1,Fe=we,ze=0;256<=Fe;)ze+=8,Fe>>=8;return Fe=7^ze+pu[Fe],V.b-=Fe,V.Ca=(we<<Fe)-1,ct}function Je(V,re,we){V[re+0]=we>>24&255,V[re+1]=we>>16&255,V[re+2]=we>>8&255,V[re+3]=we>>0&255}function nt(V,re){return V[re+0]<<0|V[re+1]<<8}function Ve(V,re){return nt(V,re)|V[re+2]<<16}function ke(V,re){return nt(V,re)|nt(V,re+2)<<16}function Ge(V,re){var we=1<<re;return e(V!=null),e(0<re),V.X=s(we),V.X==null?0:(V.Mb=32-re,V.Xa=re,1)}function Ne(V,re){e(V!=null),e(re!=null),e(V.Xa==re.Xa),r(re.X,0,V.X,0,1<<re.Xa)}function je(){this.X=[],this.Xa=this.Mb=0}function Ye(V,re,we,Fe){e(we!=null),e(Fe!=null);var ze=we[0],ct=Fe[0];return ze==0&&(ze=(V*ct+re/2)/re),ct==0&&(ct=(re*ze+V/2)/V),0>=ze||0>=ct?0:(we[0]=ze,Fe[0]=ct,1)}function vt(V,re){return V+(1<<re)-1>>>re}function Lt(V,re){return((4278255360&V)+(4278255360&re)>>>0&4278255360)+((16711935&V)+(16711935&re)>>>0&16711935)>>>0}function Et(V,re){Q[re]=function(we,Fe,ze,ct,dt,gt,Ct){var ft;for(ft=0;ft<dt;++ft){var nn=Q[V](gt[Ct+ft-1],ze,ct+ft);gt[Ct+ft]=Lt(we[Fe+ft],nn)}}}function Vt(){this.ud=this.hd=this.jd=0}function _t(V,re){return((4278124286&(V^re))>>>1)+(V&re)>>>0}function qt(V){return 0<=V&&256>V?V:0>V?0:255<V?255:void 0}function tn(V,re){return qt(V+(V-re+.5>>1))}function Nt(V,re,we){return Math.abs(re-we)-Math.abs(V-we)}function wt(V,re,we,Fe,ze,ct,dt){for(Fe=ct[dt-1],we=0;we<ze;++we)ct[dt+we]=Fe=Lt(V[re+we],Fe)}function De(V,re,we,Fe,ze){var ct;for(ct=0;ct<we;++ct){var dt=V[re+ct],gt=dt>>8&255,Ct=16711935&(Ct=(Ct=16711935&dt)+((gt<<16)+gt));Fe[ze+ct]=(4278255360&dt)+Ct>>>0}}function We(V,re){re.jd=V>>0&255,re.hd=V>>8&255,re.ud=V>>16&255}function ut(V,re,we,Fe,ze,ct){var dt;for(dt=0;dt<Fe;++dt){var gt=re[we+dt],Ct=gt>>>8,ft=gt,nn=255&(nn=(nn=gt>>>16)+((V.jd<<24>>24)*(Ct<<24>>24)>>>5));ft=255&(ft=(ft=ft+((V.hd<<24>>24)*(Ct<<24>>24)>>>5))+((V.ud<<24>>24)*(nn<<24>>24)>>>5)),ze[ct+dt]=(4278255360&gt)+(nn<<16)+ft}}function It(V,re,we,Fe,ze){Q[re]=function(ct,dt,gt,Ct,ft,nn,Bn,Mn,An){for(Ct=Bn;Ct<Mn;++Ct)for(Bn=0;Bn<An;++Bn)ft[nn++]=ze(gt[Fe(ct[dt++])])},Q[V]=function(ct,dt,gt,Ct,ft,nn,Bn){var Mn=8>>ct.b,An=ct.Ea,hr=ct.K[0],Qn=ct.w;if(8>Mn)for(ct=(1<<ct.b)-1,Qn=(1<<Mn)-1;dt<gt;++dt){var un,dn=0;for(un=0;un<An;++un)un&ct||(dn=Fe(Ct[ft++])),nn[Bn++]=ze(hr[dn&Qn]),dn>>=Mn}else Q["VP8LMapColor"+we](Ct,ft,hr,Qn,nn,Bn,dt,gt,An)}}function Xe(V,re,we,Fe,ze){for(we=re+we;re<we;){var ct=V[re++];Fe[ze++]=ct>>16&255,Fe[ze++]=ct>>8&255,Fe[ze++]=ct>>0&255}}function kt(V,re,we,Fe,ze){for(we=re+we;re<we;){var ct=V[re++];Fe[ze++]=ct>>16&255,Fe[ze++]=ct>>8&255,Fe[ze++]=ct>>0&255,Fe[ze++]=ct>>24&255}}function Bt(V,re,we,Fe,ze){for(we=re+we;re<we;){var ct=(dt=V[re++])>>16&240|dt>>12&15,dt=dt>>0&240|dt>>28&15;Fe[ze++]=ct,Fe[ze++]=dt}}function it(V,re,we,Fe,ze){for(we=re+we;re<we;){var ct=(dt=V[re++])>>16&248|dt>>13&7,dt=dt>>5&224|dt>>3&31;Fe[ze++]=ct,Fe[ze++]=dt}}function Mt(V,re,we,Fe,ze){for(we=re+we;re<we;){var ct=V[re++];Fe[ze++]=ct>>0&255,Fe[ze++]=ct>>8&255,Fe[ze++]=ct>>16&255}}function at(V,re,we,Fe,ze,ct){if(ct==0)for(we=re+we;re<we;)Je(Fe,((ct=V[re++])[0]>>24|ct[1]>>8&65280|ct[2]<<8&16711680|ct[3]<<24)>>>0),ze+=32;else r(Fe,ze,V,re,we)}function et(V,re){Q[re][0]=Q[V+"0"],Q[re][1]=Q[V+"1"],Q[re][2]=Q[V+"2"],Q[re][3]=Q[V+"3"],Q[re][4]=Q[V+"4"],Q[re][5]=Q[V+"5"],Q[re][6]=Q[V+"6"],Q[re][7]=Q[V+"7"],Q[re][8]=Q[V+"8"],Q[re][9]=Q[V+"9"],Q[re][10]=Q[V+"10"],Q[re][11]=Q[V+"11"],Q[re][12]=Q[V+"12"],Q[re][13]=Q[V+"13"],Q[re][14]=Q[V+"0"],Q[re][15]=Q[V+"0"]}function St(V){return V==ea||V==eg||V==D0||V==MA}function sn(){this.eb=[],this.size=this.A=this.fb=0}function bn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function gr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new sn,this.f.kb=new bn,this.sd=null}function tr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Nn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function lr(V){return alert("todo:WebPSamplerProcessPlane"),V.T}function Qr(V,re){var we=V.T,Fe=re.ba.f.RGBA,ze=Fe.eb,ct=Fe.fb+V.ka*Fe.A,dt=al[re.ba.S],gt=V.y,Ct=V.O,ft=V.f,nn=V.N,Bn=V.ea,Mn=V.W,An=re.cc,hr=re.dc,Qn=re.Mc,un=re.Nc,dn=V.ka,sr=V.ka+V.T,fr=V.U,ur=fr+1>>1;for(dn==0?dt(gt,Ct,null,null,ft,nn,Bn,Mn,ft,nn,Bn,Mn,ze,ct,null,null,fr):(dt(re.ec,re.fc,gt,Ct,An,hr,Qn,un,ft,nn,Bn,Mn,ze,ct-Fe.A,ze,ct,fr),++we);dn+2<sr;dn+=2)An=ft,hr=nn,Qn=Bn,un=Mn,nn+=V.Rc,Mn+=V.Rc,ct+=2*Fe.A,dt(gt,(Ct+=2*V.fa)-V.fa,gt,Ct,An,hr,Qn,un,ft,nn,Bn,Mn,ze,ct-Fe.A,ze,ct,fr);return Ct+=V.fa,V.j+sr<V.o?(r(re.ec,re.fc,gt,Ct,fr),r(re.cc,re.dc,ft,nn,ur),r(re.Mc,re.Nc,Bn,Mn,ur),we--):1&sr||dt(gt,Ct,null,null,ft,nn,Bn,Mn,ft,nn,Bn,Mn,ze,ct+Fe.A,null,null,fr),we}function Ci(V,re,we){var Fe=V.F,ze=[V.J];if(Fe!=null){var ct=V.U,dt=re.ba.S,gt=dt==up||dt==D0;re=re.ba.f.RGBA;var Ct=[0],ft=V.ka;Ct[0]=V.T,V.Kb&&(ft==0?--Ct[0]:(--ft,ze[0]-=V.width),V.j+V.ka+V.T==V.o&&(Ct[0]=V.o-V.j-ft));var nn=re.eb;ft=re.fb+ft*re.A,V=op(Fe,ze[0],V.width,ct,Ct,nn,ft+(gt?0:3),re.A),e(we==Ct),V&&St(dt)&&nf(nn,ft,gt,ct,Ct,re.A)}return 0}function ai(V){var re=V.ma,we=re.ba.S,Fe=11>we,ze=we==Jl||we==BA||we==up||we==Jm||we==12||St(we);if(re.memory=null,re.Ib=null,re.Jb=null,re.Nd=null,!_h(re.Oa,V,ze?11:12))return 0;if(ze&&St(we)&&vr(),V.da)alert("todo:use_scaling");else{if(Fe){if(re.Ib=lr,V.Kb){if(we=V.U+1>>1,re.memory=s(V.U+2*we),re.memory==null)return 0;re.ec=re.memory,re.fc=0,re.cc=re.ec,re.dc=re.fc+V.U,re.Mc=re.cc,re.Nc=re.dc+we,re.Ib=Qr,vr()}}else alert("todo:EmitYUV");ze&&(re.Jb=Ci,Fe&&wn())}if(Fe&&!sb){for(V=0;256>V;++V)ob[V]=89858*(V-128)+hp>>kA,ag[V]=-22014*(V-128)+hp,$0[V]=-45773*(V-128),lb[V]=113618*(V-128)+hp>>kA;for(V=PA;V<ig;++V)re=76283*(V-16)+hp>>kA,V0[V-PA]=hu(re,255),Y1[V-PA]=hu(re+8>>4,15);sb=1}return 1}function Vi(V){var re=V.ma,we=V.U,Fe=V.T;return e(!(1&V.ka)),0>=we||0>=Fe?0:(we=re.Ib(V,re),re.Jb!=null&&re.Jb(V,re,we),re.Dc+=we,1)}function va(V){V.ma.memory=null}function Rr(V,re,we,Fe){return ye(V,8)!=47?0:(re[0]=ye(V,14)+1,we[0]=ye(V,14)+1,Fe[0]=ye(V,1),ye(V,3)!=0?0:!V.h)}function qi(V,re){if(4>V)return V+1;var we=V-2>>1;return(2+(1&V)<<we)+ye(re,we)+1}function Hi(V,re){return 120<re?re-120:1<=(we=((we=tg[re-1])>>4)*V+(8-(15&we)))?we:1;var we}function Jt(V,re,we){var Fe=oe(we),ze=V[re+=255&Fe].g-8;return 0<ze&&(Ue(we,we.u+8),Fe=oe(we),re+=V[re].value,re+=Fe&(1<<ze)-1),Ue(we,we.u+V[re].g),V[re].value}function hn(V,re,we){return we.g+=V.g,we.value+=V.value<<re>>>0,e(8>=we.g),V.g}function En(V,re,we){var Fe=V.xc;return e((re=Fe==0?0:V.vc[V.md*(we>>Fe)+(re>>Fe)])<V.Wb),V.Ya[re]}function Hn(V,re,we,Fe){var ze=V.ab,ct=V.c*re,dt=V.C;re=dt+re;var gt=we,Ct=Fe;for(Fe=V.Ta,we=V.Ua;0<ze--;){var ft=V.gc[ze],nn=dt,Bn=re,Mn=gt,An=Ct,hr=(Ct=Fe,gt=we,ft.Ea);switch(e(nn<Bn),e(Bn<=ft.nc),ft.hc){case 2:ap(Mn,An,(Bn-nn)*hr,Ct,gt);break;case 0:var Qn=nn,un=Bn,dn=Ct,sr=gt,fr=(Gr=ft).Ea;Qn==0&&(ip(Mn,An,null,null,1,dn,sr),wt(Mn,An+1,0,0,fr-1,dn,sr+1),An+=fr,sr+=fr,++Qn);for(var ur=1<<Gr.b,Zr=ur-1,Er=vt(fr,Gr.b),bi=Gr.K,Gr=Gr.w+(Qn>>Gr.b)*Er;Qn<un;){var Ya=bi,os=Gr,Ta=1;for(Wm(Mn,An,dn,sr-fr,1,dn,sr);Ta<fr;){var Fa=(Ta&~Zr)+ur;Fa>fr&&(Fa=fr),(0,yh[Ya[os++]>>8&15])(Mn,An+ +Ta,dn,sr+Ta-fr,Fa-Ta,dn,sr+Ta),Ta=Fa}An+=fr,sr+=fr,++Qn&Zr||(Gr+=Er)}Bn!=ft.nc&&r(Ct,gt-hr,Ct,gt+(Bn-nn-1)*hr,hr);break;case 1:for(hr=Mn,un=An,fr=(Mn=ft.Ea)-(sr=Mn&~(dn=(An=1<<ft.b)-1)),Qn=vt(Mn,ft.b),ur=ft.K,ft=ft.w+(nn>>ft.b)*Qn;nn<Bn;){for(Zr=ur,Er=ft,bi=new Vt,Gr=un+sr,Ya=un+Mn;un<Gr;)We(Zr[Er++],bi),rl(bi,hr,un,An,Ct,gt),un+=An,gt+=An;un<Ya&&(We(Zr[Er++],bi),rl(bi,hr,un,fr,Ct,gt),un+=fr,gt+=fr),++nn&dn||(ft+=Qn)}break;case 3:if(Mn==Ct&&An==gt&&0<ft.b){for(un=Ct,Mn=hr=gt+(Bn-nn)*hr-(sr=(Bn-nn)*vt(ft.Ea,ft.b)),An=Ct,dn=gt,Qn=[],sr=(fr=sr)-1;0<=sr;--sr)Qn[sr]=An[dn+sr];for(sr=fr-1;0<=sr;--sr)un[Mn+sr]=Qn[sr];Xu(ft,nn,Bn,Ct,hr,Ct,gt)}else Xu(ft,nn,Bn,Mn,An,Ct,gt)}gt=Fe,Ct=we}Ct!=we&&r(Fe,we,gt,Ct,ct)}function Ht(V,re){var we=V.V,Fe=V.Ba+V.c*V.C,ze=re-V.C;if(e(re<=V.l.o),e(16>=ze),0<ze){var ct=V.l,dt=V.Ta,gt=V.Ua,Ct=ct.width;if(Hn(V,ze,we,Fe),ze=gt=[gt],e((we=V.C)<(Fe=re)),e(ct.v<ct.va),Fe>ct.o&&(Fe=ct.o),we<ct.j){var ft=ct.j-we;we=ct.j,ze[0]+=ft*Ct}if(we>=Fe?we=0:(ze[0]+=4*ct.v,ct.ka=we-ct.j,ct.U=ct.va-ct.v,ct.T=Fe-we,we=1),we){if(gt=gt[0],11>(we=V.ca).S){var nn=we.f.RGBA,Bn=(Fe=we.S,ze=ct.U,ct=ct.T,ft=nn.eb,nn.A),Mn=ct;for(nn=nn.fb+V.Ma*nn.A;0<Mn--;){var An=dt,hr=gt,Qn=ze,un=ft,dn=nn;switch(Fe){case Ad:Ru(An,hr,Qn,un,dn);break;case Jl:gc(An,hr,Qn,un,dn);break;case ea:gc(An,hr,Qn,un,dn),nf(un,dn,0,Qn,1,0);break;case lp:qc(An,hr,Qn,un,dn);break;case BA:at(An,hr,Qn,un,dn,1);break;case eg:at(An,hr,Qn,un,dn,1),nf(un,dn,0,Qn,1,0);break;case up:at(An,hr,Qn,un,dn,0);break;case D0:at(An,hr,Qn,un,dn,0),nf(un,dn,1,Qn,1,0);break;case Jm:vc(An,hr,Qn,un,dn);break;case MA:vc(An,hr,Qn,un,dn),Xl(un,dn,Qn,1,0);break;case md:Zu(An,hr,Qn,un,dn);break;default:e(0)}gt+=Ct,nn+=Bn}V.Ma+=ct}else alert("todo:EmitRescaledRowsYUVA");e(V.Ma<=we.height)}}V.C=re,e(V.C<=V.i)}function an(V){var re;if(0<V.ua)return 0;for(re=0;re<V.Wb;++re){var we=V.Ya[re].G,Fe=V.Ya[re].H;if(0<we[1][Fe[1]+0].g||0<we[2][Fe[2]+0].g||0<we[3][Fe[3]+0].g)return 0}return 1}function In(V,re,we,Fe,ze,ct){if(V.Z!=0){var dt=V.qd,gt=V.rd;for(e(Ch[V.Z]!=null);re<we;++re)Ch[V.Z](dt,gt,Fe,ze,Fe,ze,ct),dt=Fe,gt=ze,ze+=ct;V.qd=dt,V.rd=gt}}function kn(V,re){var we=V.l.ma,Fe=we.Z==0||we.Z==1?V.l.j:V.C;if(Fe=V.C<Fe?Fe:V.C,e(re<=V.l.o),re>Fe){var ze=V.l.width,ct=we.ca,dt=we.tb+ze*Fe,gt=V.V,Ct=V.Ba+V.c*Fe,ft=V.gc;e(V.ab==1),e(ft[0].hc==3),qm(ft[0],Fe,re,gt,Ct,ct,dt),In(we,Fe,re,ct,dt,ze)}V.C=V.Ma=re}function er(V,re,we,Fe,ze,ct,dt){var gt=V.$/Fe,Ct=V.$%Fe,ft=V.m,nn=V.s,Bn=we+V.$,Mn=Bn;ze=we+Fe*ze;var An=we+Fe*ct,hr=280+nn.ua,Qn=V.Pb?gt:16777216,un=0<nn.ua?nn.Wa:null,dn=nn.wc,sr=Bn<An?En(nn,Ct,gt):null;e(V.C<ct),e(An<=ze);var fr=!1;e:for(;;){for(;fr||Bn<An;){var ur=0;if(gt>=Qn){var Zr=Bn-we;e((Qn=V).Pb),Qn.wd=Qn.m,Qn.xd=Zr,0<Qn.s.ua&&Ne(Qn.s.Wa,Qn.s.vb),Qn=gt+Q1}if(Ct&dn||(sr=En(nn,Ct,gt)),e(sr!=null),sr.Qb&&(re[Bn]=sr.qb,fr=!0),!fr)if(Le(ft),sr.jc){ur=ft,Zr=re;var Er=Bn,bi=sr.pd[oe(ur)&fu-1];e(sr.jc),256>bi.g?(Ue(ur,ur.u+bi.g),Zr[Er]=bi.value,ur=0):(Ue(ur,ur.u+bi.g-256),e(256<=bi.value),ur=bi.value),ur==0&&(fr=!0)}else ur=Jt(sr.G[0],sr.H[0],ft);if(ft.h)break;if(fr||256>ur){if(!fr)if(sr.nd)re[Bn]=(sr.qb|ur<<8)>>>0;else{if(Le(ft),fr=Jt(sr.G[1],sr.H[1],ft),Le(ft),Zr=Jt(sr.G[2],sr.H[2],ft),Er=Jt(sr.G[3],sr.H[3],ft),ft.h)break;re[Bn]=(Er<<24|fr<<16|ur<<8|Zr)>>>0}if(fr=!1,++Bn,++Ct>=Fe&&(Ct=0,++gt,dt!=null&&gt<=ct&&!(gt%16)&&dt(V,gt),un!=null))for(;Mn<Bn;)ur=re[Mn++],un.X[(506832829*ur&4294967295)>>>un.Mb]=ur}else if(280>ur){if(ur=qi(ur-256,ft),Zr=Jt(sr.G[4],sr.H[4],ft),Le(ft),Zr=Hi(Fe,Zr=qi(Zr,ft)),ft.h)break;if(Bn-we<Zr||ze-Bn<ur)break e;for(Er=0;Er<ur;++Er)re[Bn+Er]=re[Bn+Er-Zr];for(Bn+=ur,Ct+=ur;Ct>=Fe;)Ct-=Fe,++gt,dt!=null&&gt<=ct&&!(gt%16)&&dt(V,gt);if(e(Bn<=ze),Ct&dn&&(sr=En(nn,Ct,gt)),un!=null)for(;Mn<Bn;)ur=re[Mn++],un.X[(506832829*ur&4294967295)>>>un.Mb]=ur}else{if(!(ur<hr))break e;for(fr=ur-280,e(un!=null);Mn<Bn;)ur=re[Mn++],un.X[(506832829*ur&4294967295)>>>un.Mb]=ur;ur=Bn,e(!(fr>>>(Zr=un).Xa)),re[ur]=Zr.X[fr],fr=!0}fr||e(ft.h==_e(ft))}if(V.Pb&&ft.h&&Bn<ze)e(V.m.h),V.a=5,V.m=V.wd,V.$=V.xd,0<V.s.ua&&Ne(V.s.vb,V.s.Wa);else{if(ft.h)break e;dt!=null&&dt(V,gt>ct?ct:gt),V.a=0,V.$=Bn-we}return 1}return V.a=3,0}function Gn(V){e(V!=null),V.vc=null,V.yc=null,V.Ya=null;var re=V.Wa;re!=null&&(re.X=null),V.vb=null,e(V!=null)}function Mr(){var V=new gh;return V==null?null:(V.a=0,V.xb=U0,et("Predictor","VP8LPredictors"),et("Predictor","VP8LPredictors_C"),et("PredictorAdd","VP8LPredictorsAdd"),et("PredictorAdd","VP8LPredictorsAdd_C"),ap=De,rl=ut,Ru=Xe,gc=kt,vc=Bt,Zu=it,qc=Mt,Q.VP8LMapColor32b=SA,Q.VP8LMapColor8b=TA,V)}function ti(V,re,we,Fe,ze){var ct=1,dt=[V],gt=[re],Ct=Fe.m,ft=Fe.s,nn=null,Bn=0;e:for(;;){if(we)for(;ct&&ye(Ct,1);){var Mn=dt,An=gt,hr=Fe,Qn=1,un=hr.m,dn=hr.gc[hr.ab],sr=ye(un,2);if(hr.Oc&1<<sr)ct=0;else{switch(hr.Oc|=1<<sr,dn.hc=sr,dn.Ea=Mn[0],dn.nc=An[0],dn.K=[null],++hr.ab,e(4>=hr.ab),sr){case 0:case 1:dn.b=ye(un,3)+2,Qn=ti(vt(dn.Ea,dn.b),vt(dn.nc,dn.b),0,hr,dn.K),dn.K=dn.K[0];break;case 3:var fr,ur=ye(un,8)+1,Zr=16<ur?0:4<ur?1:2<ur?2:3;if(Mn[0]=vt(dn.Ea,Zr),dn.b=Zr,fr=Qn=ti(ur,1,0,hr,dn.K)){var Er,bi=ur,Gr=dn,Ya=1<<(8>>Gr.b),os=s(Ya);if(os==null)fr=0;else{var Ta=Gr.K[0],Fa=Gr.w;for(os[0]=Gr.K[0][0],Er=1;Er<1*bi;++Er)os[Er]=Lt(Ta[Fa+Er],os[Er-1]);for(;Er<4*Ya;++Er)os[Er]=0;Gr.K[0]=null,Gr.K[0]=os,fr=1}}Qn=fr;break;case 2:break;default:e(0)}ct=Qn}}if(dt=dt[0],gt=gt[0],ct&&ye(Ct,1)&&!(ct=1<=(Bn=ye(Ct,4))&&11>=Bn)){Fe.a=3;break e}var La;if(La=ct)t:{var Fi,oa,Ao,mo=Fe,go=dt,$o=gt,cs=Bn,sl=we,_l=mo.m,jn=mo.s,Cr=[null],Io=1,ka=0,Du=IA[cs];n:for(;;){if(sl&&ye(_l,1)){var vo=ye(_l,3)+2,rn=vt(go,vo),vd=vt($o,vo),ol=rn*vd;if(!ti(rn,vd,0,mo,Cr))break n;for(Cr=Cr[0],jn.xc=vo,Fi=0;Fi<ol;++Fi){var _d=Cr[Fi]>>8&65535;Cr[Fi]=_d,_d>=Io&&(Io=_d+1)}}if(_l.h)break n;for(oa=0;5>oa;++oa){var Zs=H1[oa];!oa&&0<cs&&(Zs+=1<<cs),ka<Zs&&(ka=Zs)}var of=l(Io*Du,W),cb=Io,hb=l(cb,he);if(hb==null)var lg=null;else e(65536>=cb),lg=hb;var yd=s(ka);if(lg==null||yd==null||of==null){mo.a=1;break n}var lf=of;for(Fi=Ao=0;Fi<Io;++Fi){var ec=lg[Fi],fp=ec.G,Eh=ec.H,ug=0,OA=1,DA=0;for(oa=0;5>oa;++oa){Zs=H1[oa],fp[oa]=lf,Eh[oa]=Ao,!oa&&0<cs&&(Zs+=1<<cs);i:{var yl,X1=Zs,pp=mo,ja=yd,Ba=lf,cg=Ao,tc=0,_o=pp.m,bd=ye(_o,1);if(i(ja,0,0,X1),bd){var Z1=ye(_o,1)+1,J1=ye(_o,1),wd=ye(_o,J1==0?1:8);ja[wd]=1,Z1==2&&(ja[wd=ye(_o,8)]=1);var Xc=1}else{var Ap=s(19),hg=ye(_o,4)+4;if(19<hg){pp.a=3;var uf=0;break i}for(yl=0;yl<hg;++yl)Ap[tb[yl]]=ye(_o,3);var dg=void 0,mp=void 0,Zc=pp,e_=Ap,cf=X1,fg=ja,pg=0,Cs=Zc.m,gp=8,Ag=l(128,W);r:for(;q(Ag,0,7,e_,19);){if(ye(Cs,1)){var mg=2+2*ye(Cs,3);if((dg=2+ye(Cs,mg))>cf)break r}else dg=cf;for(mp=0;mp<cf&&dg--;){Le(Cs);var xd=Ag[0+(127&oe(Cs))];Ue(Cs,Cs.u+xd.g);var hf=xd.value;if(16>hf)fg[mp++]=hf,hf!=0&&(gp=hf);else{var gg=hf==16,H0=hf-16,vp=V1[H0],NA=ye(Cs,eb[H0])+vp;if(mp+NA>cf)break r;for(var t_=gg?gp:0;0<NA--;)fg[mp++]=t_}}pg=1;break r}pg||(Zc.a=3),Xc=pg}(Xc=Xc&&!_o.h)&&(tc=q(Ba,cg,8,ja,X1)),Xc&&tc!=0?uf=tc:(pp.a=3,uf=0)}if(uf==0)break n;if(OA&&N0[oa]==1&&(OA=lf[Ao].g==0),ug+=lf[Ao].g,Ao+=uf,3>=oa){var Cd,vg=yd[0];for(Cd=1;Cd<Zs;++Cd)yd[Cd]>vg&&(vg=yd[Cd]);DA+=vg}}if(ec.nd=OA,ec.Qb=0,OA&&(ec.qb=(fp[3][Eh[3]+0].value<<24|fp[1][Eh[1]+0].value<<16|fp[2][Eh[2]+0].value)>>>0,ug==0&&256>fp[0][Eh[0]+0].value&&(ec.Qb=1,ec.qb+=fp[0][Eh[0]+0].value<<8)),ec.jc=!ec.Qb&&6>DA,ec.jc){var _g,Sh=ec;for(_g=0;_g<fu;++_g){var Ed=_g,Sd=Sh.pd[Ed],yg=Sh.G[0][Sh.H[0]+Ed];256<=yg.value?(Sd.g=yg.g+256,Sd.value=yg.value):(Sd.g=0,Sd.value=0,Ed>>=hn(yg,8,Sd),Ed>>=hn(Sh.G[1][Sh.H[1]+Ed],16,Sd),Ed>>=hn(Sh.G[2][Sh.H[2]+Ed],0,Sd),hn(Sh.G[3][Sh.H[3]+Ed],24,Sd))}}}jn.vc=Cr,jn.Wb=Io,jn.Ya=lg,jn.yc=of,La=1;break t}La=0}if(!(ct=La)){Fe.a=3;break e}if(0<Bn){if(ft.ua=1<<Bn,!Ge(ft.Wa,Bn)){Fe.a=1,ct=0;break e}}else ft.ua=0;var Q0=Fe,n_=dt,bg=gt,j0=Q0.s,G0=j0.xc;if(Q0.c=n_,Q0.i=bg,j0.md=vt(n_,G0),j0.wc=G0==0?-1:(1<<G0)-1,we){Fe.xb=ib;break e}if((nn=s(dt*gt))==null){Fe.a=1,ct=0;break e}ct=(ct=er(Fe,nn,0,dt,gt,gt,null))&&!Ct.h;break e}return ct?(ze!=null?ze[0]=nn:(e(nn==null),e(we)),Fe.$=0,we||Gn(ft)):Gn(ft),ct}function Tn(V,re){var we=V.c*V.i,Fe=we+re+16*re;return e(V.c<=re),V.V=s(Fe),V.V==null?(V.Ta=null,V.Ua=0,V.a=1,0):(V.Ta=V.V,V.Ua=V.Ba+we+re,1)}function Kt(V,re){var we=V.C,Fe=re-we,ze=V.V,ct=V.Ba+V.c*we;for(e(re<=V.l.o);0<Fe;){var dt=16<Fe?16:Fe,gt=V.l.ma,Ct=V.l.width,ft=Ct*dt,nn=gt.ca,Bn=gt.tb+Ct*we,Mn=V.Ta,An=V.Ua;Hn(V,dt,ze,ct),Ym(Mn,An,nn,Bn,ft),In(gt,we,we+dt,nn,Bn,Ct),Fe-=dt,ze+=dt*V.c,we+=dt}e(we==re),V.C=V.Ma=re}function Zn(){this.ub=this.yd=this.td=this.Rb=0}function jt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Xn(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function kr(){this.Yb=function(){var V=[];return function re(we,Fe,ze){for(var ct=ze[Fe],dt=0;dt<ct&&(we.push(ze.length>Fe+1?[]:0),!(ze.length<Fe+1));dt++)re(we[dt],Fe+1,ze)}(V,0,[3,11]),V}()}function _r(){this.jb=s(3),this.Wc=c([4,8],kr),this.Xc=c([4,17],kr)}function fa(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function ss(){this.ld=this.La=this.dd=this.tc=0}function Sa(){this.Na=this.la=0}function Gc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function uu(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Zh(){this.uc=this.M=this.Nb=0,this.wa=Array(new ss),this.Y=0,this.ya=Array(new uu),this.aa=0,this.l=new qd}function vA(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Jh(){this.cb=this.a=0,this.sc="",this.m=new Ee,this.Od=new Zn,this.Kc=new jt,this.ed=new fa,this.Qa=new Xn,this.Ic=this.$c=this.Aa=0,this.D=new Zh,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,Ee),this.ia=0,this.pb=l(4,Gc),this.Pa=new _r,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new vA),this.Hd=0,this.rb=Array(new Sa),this.sb=0,this.wa=Array(new ss),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new uu),this.L=this.aa=0,this.gd=c([4,2],ss),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function qd(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Yd(){var V=new Jh;return V!=null&&(V.a=0,V.sc="OK",V.cb=0,V.Xb=0,cp||(cp=Wf)),V}function po(V,re,we){return V.a==0&&(V.a=re,V.sc=we,V.cb=0),0}function Kf(V,re,we){return 3<=we&&V[re+0]==157&&V[re+1]==1&&V[re+2]==42}function _A(V,re){if(V==null)return 0;if(V.a=0,V.sc="OK",re==null)return po(V,2,"null VP8Io passed to VP8GetHeaders()");var we=re.data,Fe=re.w,ze=re.ha;if(4>ze)return po(V,7,"Truncated header.");var ct=we[Fe+0]|we[Fe+1]<<8|we[Fe+2]<<16,dt=V.Od;if(dt.Rb=!(1&ct),dt.td=ct>>1&7,dt.yd=ct>>4&1,dt.ub=ct>>5,3<dt.td)return po(V,3,"Incorrect keyframe parameters.");if(!dt.yd)return po(V,4,"Frame not displayable.");Fe+=3,ze-=3;var gt=V.Kc;if(dt.Rb){if(7>ze)return po(V,7,"cannot parse picture header");if(!Kf(we,Fe,ze))return po(V,3,"Bad code word");gt.c=16383&(we[Fe+4]<<8|we[Fe+3]),gt.Td=we[Fe+4]>>6,gt.i=16383&(we[Fe+6]<<8|we[Fe+5]),gt.Ud=we[Fe+6]>>6,Fe+=7,ze-=7,V.za=gt.c+15>>4,V.Ub=gt.i+15>>4,re.width=gt.c,re.height=gt.i,re.Da=0,re.j=0,re.v=0,re.va=re.width,re.o=re.height,re.da=0,re.ib=re.width,re.hb=re.height,re.U=re.width,re.T=re.height,i((ct=V.Pa).jb,0,255,ct.jb.length),e((ct=V.Qa)!=null),ct.Cb=0,ct.Bb=0,ct.Fb=1,i(ct.Zb,0,0,ct.Zb.length),i(ct.Lb,0,0,ct.Lb)}if(dt.ub>ze)return po(V,7,"bad partition length");J(ct=V.m,we,Fe,dt.ub),Fe+=dt.ub,ze-=dt.ub,dt.Rb&&(gt.Ld=Re(ct),gt.Kd=Re(ct)),gt=V.Qa;var Ct,ft=V.Pa;if(e(ct!=null),e(gt!=null),gt.Cb=Re(ct),gt.Cb){if(gt.Bb=Re(ct),Re(ct)){for(gt.Fb=Re(ct),Ct=0;4>Ct;++Ct)gt.Zb[Ct]=Re(ct)?ne(ct,7):0;for(Ct=0;4>Ct;++Ct)gt.Lb[Ct]=Re(ct)?ne(ct,6):0}if(gt.Bb)for(Ct=0;3>Ct;++Ct)ft.jb[Ct]=Re(ct)?te(ct,8):255}else gt.Bb=0;if(ct.Ka)return po(V,3,"cannot parse segment header");if((gt=V.ed).zd=Re(ct),gt.Tb=te(ct,6),gt.wb=te(ct,3),gt.Pc=Re(ct),gt.Pc&&Re(ct)){for(ft=0;4>ft;++ft)Re(ct)&&(gt.vd[ft]=ne(ct,6));for(ft=0;4>ft;++ft)Re(ct)&&(gt.od[ft]=ne(ct,6))}if(V.L=gt.Tb==0?0:gt.zd?1:2,ct.Ka)return po(V,3,"cannot parse filter header");var nn=ze;if(ze=Ct=Fe,Fe=Ct+nn,gt=nn,V.Xb=(1<<te(V.m,2))-1,nn<3*(ft=V.Xb))we=7;else{for(Ct+=3*ft,gt-=3*ft,nn=0;nn<ft;++nn){var Bn=we[ze+0]|we[ze+1]<<8|we[ze+2]<<16;Bn>gt&&(Bn=gt),J(V.Jc[+nn],we,Ct,Bn),Ct+=Bn,gt-=Bn,ze+=3}J(V.Jc[+ft],we,Ct,gt),we=Ct<Fe?0:5}if(we!=0)return po(V,we,"cannot parse partitions");for(we=te(Ct=V.m,7),ze=Re(Ct)?ne(Ct,4):0,Fe=Re(Ct)?ne(Ct,4):0,gt=Re(Ct)?ne(Ct,4):0,ft=Re(Ct)?ne(Ct,4):0,Ct=Re(Ct)?ne(Ct,4):0,nn=V.Qa,Bn=0;4>Bn;++Bn){if(nn.Cb){var Mn=nn.Zb[Bn];nn.Fb||(Mn+=we)}else{if(0<Bn){V.pb[Bn]=V.pb[0];continue}Mn=we}var An=V.pb[Bn];An.Sc[0]=ng[hu(Mn+ze,127)],An.Sc[1]=af[hu(Mn+0,127)],An.Eb[0]=2*ng[hu(Mn+Fe,127)],An.Eb[1]=101581*af[hu(Mn+gt,127)]>>16,8>An.Eb[1]&&(An.Eb[1]=8),An.Qc[0]=ng[hu(Mn+ft,117)],An.Qc[1]=af[hu(Mn+Ct,127)],An.lc=Mn+Ct}if(!dt.Rb)return po(V,4,"Not a key frame.");for(Re(ct),dt=V.Pa,we=0;4>we;++we){for(ze=0;8>ze;++ze)for(Fe=0;3>Fe;++Fe)for(gt=0;11>gt;++gt)ft=Qe(ct,G1[we][ze][Fe][gt])?te(ct,8):rb[we][ze][Fe][gt],dt.Wc[we][ze].Yb[Fe][gt]=ft;for(ze=0;17>ze;++ze)dt.Xc[we][ze]=dt.Wc[we][K1[ze]]}return V.kc=Re(ct),V.kc&&(V.Bd=te(ct,8)),V.cb=1}function Wf(V,re,we,Fe,ze,ct,dt){var gt=re[ze].Yb[we];for(we=0;16>ze;++ze){if(!Qe(V,gt[we+0]))return ze;for(;!Qe(V,gt[we+1]);)if(gt=re[++ze].Yb[0],we=0,ze==16)return 16;var Ct=re[ze+1].Yb;if(Qe(V,gt[we+2])){var ft=V,nn=0;if(Qe(ft,(Mn=gt)[(Bn=we)+3]))if(Qe(ft,Mn[Bn+6])){for(gt=0,Bn=2*(nn=Qe(ft,Mn[Bn+8]))+(Mn=Qe(ft,Mn[Bn+9+nn])),nn=0,Mn=j1[Bn];Mn[gt];++gt)nn+=nn+Qe(ft,Mn[gt]);nn+=3+(8<<Bn)}else Qe(ft,Mn[Bn+7])?(nn=7+2*Qe(ft,165),nn+=Qe(ft,145)):nn=5+Qe(ft,159);else nn=Qe(ft,Mn[Bn+4])?3+Qe(ft,Mn[Bn+5]):2;gt=Ct[2]}else nn=1,gt=Ct[1];Ct=dt+Ex[ze],0>(ft=V).b&&be(ft);var Bn,Mn=ft.b,An=(Bn=ft.Ca>>1)-(ft.I>>Mn)>>31;--ft.b,ft.Ca+=An,ft.Ca|=1,ft.I-=(Bn+1&An)<<Mn,ct[Ct]=((nn^An)-An)*Fe[(0<ze)+0]}return 16}function qf(V){var re=V.rb[V.sb-1];re.la=0,re.Na=0,i(V.zc,0,0,V.zc.length),V.ja=0}function Ql(V,re){if(V==null)return 0;if(re==null)return po(V,2,"NULL VP8Io parameter in VP8Decode().");if(!V.cb&&!_A(V,re))return 0;if(e(V.cb),re.ac==null||re.ac(re)){re.ob&&(V.L=0);var we=dp[V.L];if(V.L==2?(V.yb=0,V.zb=0):(V.yb=re.v-we>>4,V.zb=re.j-we>>4,0>V.yb&&(V.yb=0),0>V.zb&&(V.zb=0)),V.Va=re.o+15+we>>4,V.Hb=re.va+15+we>>4,V.Hb>V.za&&(V.Hb=V.za),V.Va>V.Ub&&(V.Va=V.Ub),0<V.L){var Fe=V.ed;for(we=0;4>we;++we){var ze;if(V.Qa.Cb){var ct=V.Qa.Lb[we];V.Qa.Fb||(ct+=Fe.Tb)}else ct=Fe.Tb;for(ze=0;1>=ze;++ze){var dt=V.gd[we][ze],gt=ct;if(Fe.Pc&&(gt+=Fe.vd[0],ze&&(gt+=Fe.od[0])),0<(gt=0>gt?0:63<gt?63:gt)){var Ct=gt;0<Fe.wb&&(Ct=4<Fe.wb?Ct>>2:Ct>>1)>9-Fe.wb&&(Ct=9-Fe.wb),1>Ct&&(Ct=1),dt.dd=Ct,dt.tc=2*gt+Ct,dt.ld=40<=gt?2:15<=gt?1:0}else dt.tc=0;dt.La=ze}}}we=0}else po(V,6,"Frame setup failed"),we=V.a;if(we=we==0){if(we){V.$c=0,0<V.Aa||(V.Ic=og);e:{we=V.Ic,Fe=4*(Ct=V.za);var ft=32*Ct,nn=Ct+1,Bn=0<V.L?Ct*(0<V.Aa?2:1):0,Mn=(V.Aa==2?2:1)*Ct;if((dt=Fe+832+(ze=3*(16*we+dp[V.L])/2*ft)+(ct=V.Fa!=null&&0<V.Fa.length?V.Kc.c*V.Kc.i:0))!=dt)we=0;else{if(dt>V.Vb){if(V.Vb=0,V.Ec=s(dt),V.Fc=0,V.Ec==null){we=po(V,1,"no memory during frame initialization.");break e}V.Vb=dt}dt=V.Ec,gt=V.Fc,V.Ac=dt,V.Bc=gt,gt+=Fe,V.Gd=l(ft,vA),V.Hd=0,V.rb=l(nn+1,Sa),V.sb=1,V.wa=Bn?l(Bn,ss):null,V.Y=0,V.D.Nb=0,V.D.wa=V.wa,V.D.Y=V.Y,0<V.Aa&&(V.D.Y+=Ct),e(!0),V.oc=dt,V.pc=gt,gt+=832,V.ya=l(Mn,uu),V.aa=0,V.D.ya=V.ya,V.D.aa=V.aa,V.Aa==2&&(V.D.aa+=Ct),V.R=16*Ct,V.B=8*Ct,Ct=(ft=dp[V.L])*V.R,ft=ft/2*V.B,V.sa=dt,V.ta=gt+Ct,V.qa=V.sa,V.ra=V.ta+16*we*V.R+ft,V.Ha=V.qa,V.Ia=V.ra+8*we*V.B+ft,V.$c=0,gt+=ze,V.mb=ct?dt:null,V.nb=ct?gt:null,e(gt+ct<=V.Fc+V.Vb),qf(V),i(V.Ac,V.Bc,0,Fe),we=1}}if(we){if(re.ka=0,re.y=V.sa,re.O=V.ta,re.f=V.qa,re.N=V.ra,re.ea=V.Ha,re.Vd=V.Ia,re.fa=V.R,re.Rc=V.B,re.F=null,re.J=0,!$1){for(we=-255;255>=we;++we)Xm[255+we]=0>we?-we:we;for(we=-1020;1020>=we;++we)Zm[1020+we]=-128>we?-128:127<we?127:we;for(we=-112;112>=we;++we)R0[112+we]=-16>we?-16:15<we?15:we;for(we=-255;510>=we;++we)O0[255+we]=0>we?0:255<we?255:we;$1=1}ql=Zd,bh=U1,Vs=Yu,il=Qm,oo=P0,hd=yA,dd=bA,sp=Ni,fd=z1,Ou=jm,tf=Zf,Yl=Jd,wh=Ac,qa=Kc,xs=Fu,Ls=pc,Mo=Wl,xh=Xf,Ju[0]=gl,Ju[1]=pa,Ju[2]=nd,Ju[3]=si,Ju[4]=Ii,Ju[5]=so,Ju[6]=rd,Ju[7]=Vr,Ju[8]=id,Ju[9]=F0,gd[0]=td,gd[1]=Iu,gd[2]=Lu,gd[3]=Gi,gd[4]=zo,gd[5]=jl,gd[6]=ws,Yc[0]=Kl,Yc[1]=Aa,Yc[2]=Ws,Yc[3]=Gl,Yc[4]=ad,Yc[5]=qs,Yc[6]=Yf,we=1}else we=0}we&&(we=function(An,hr){for(An.M=0;An.M<An.Va;++An.M){var Qn,un=An.Jc[An.M&An.Xb],dn=An.m,sr=An;for(Qn=0;Qn<sr.za;++Qn){var fr=dn,ur=sr,Zr=ur.Ac,Er=ur.Bc+4*Qn,bi=ur.zc,Gr=ur.ya[ur.aa+Qn];if(ur.Qa.Bb?Gr.$b=Qe(fr,ur.Pa.jb[0])?2+Qe(fr,ur.Pa.jb[2]):Qe(fr,ur.Pa.jb[1]):Gr.$b=0,ur.kc&&(Gr.Ad=Qe(fr,ur.Bd)),Gr.Za=!Qe(fr,145)+0,Gr.Za){var Ya=Gr.Ob,os=0;for(ur=0;4>ur;++ur){var Ta,Fa=bi[0+ur];for(Ta=0;4>Ta;++Ta){Fa=Sx[Zr[Er+Ta]][Fa];for(var La=nb[Qe(fr,Fa[0])];0<La;)La=nb[2*La+Qe(fr,Fa[La])];Fa=-La,Zr[Er+Ta]=Fa}r(Ya,os,Zr,Er,4),os+=4,bi[0+ur]=Fa}}else Fa=Qe(fr,156)?Qe(fr,128)?1:3:Qe(fr,163)?2:0,Gr.Ob[0]=Fa,i(Zr,Er,Fa,4),i(bi,0,Fa,4);Gr.Dd=Qe(fr,142)?Qe(fr,114)?Qe(fr,183)?1:3:2:0}if(sr.m.Ka)return po(An,7,"Premature end-of-partition0 encountered.");for(;An.ja<An.za;++An.ja){if(sr=un,fr=(dn=An).rb[dn.sb-1],Zr=dn.rb[dn.sb+dn.ja],Qn=dn.ya[dn.aa+dn.ja],Er=dn.kc?Qn.Ad:0)fr.la=Zr.la=0,Qn.Za||(fr.Na=Zr.Na=0),Qn.Hc=0,Qn.Gc=0,Qn.ia=0;else{var Fi,oa;if(fr=Zr,Zr=sr,Er=dn.Pa.Xc,bi=dn.ya[dn.aa+dn.ja],Gr=dn.pb[bi.$b],ur=bi.ad,Ya=0,os=dn.rb[dn.sb-1],Fa=Ta=0,i(ur,Ya,0,384),bi.Za)var Ao=0,mo=Er[3];else{La=s(16);var go=fr.Na+os.Na;if(go=cp(Zr,Er[1],go,Gr.Eb,0,La,0),fr.Na=os.Na=(0<go)+0,1<go)ql(La,0,ur,Ya);else{var $o=La[0]+3>>3;for(La=0;256>La;La+=16)ur[Ya+La]=$o}Ao=1,mo=Er[0]}var cs=15&fr.la,sl=15&os.la;for(La=0;4>La;++La){var _l=1&sl;for($o=oa=0;4>$o;++$o)cs=cs>>1|(_l=(go=cp(Zr,mo,go=_l+(1&cs),Gr.Sc,Ao,ur,Ya))>Ao)<<7,oa=oa<<2|(3<go?3:1<go?2:ur[Ya+0]!=0),Ya+=16;cs>>=4,sl=sl>>1|_l<<7,Ta=(Ta<<8|oa)>>>0}for(mo=cs,Ao=sl>>4,Fi=0;4>Fi;Fi+=2){for(oa=0,cs=fr.la>>4+Fi,sl=os.la>>4+Fi,La=0;2>La;++La){for(_l=1&sl,$o=0;2>$o;++$o)go=_l+(1&cs),cs=cs>>1|(_l=0<(go=cp(Zr,Er[2],go,Gr.Qc,0,ur,Ya)))<<3,oa=oa<<2|(3<go?3:1<go?2:ur[Ya+0]!=0),Ya+=16;cs>>=2,sl=sl>>1|_l<<5}Fa|=oa<<4*Fi,mo|=cs<<4<<Fi,Ao|=(240&sl)<<Fi}fr.la=mo,os.la=Ao,bi.Hc=Ta,bi.Gc=Fa,bi.ia=43690&Fa?0:Gr.ia,Er=!(Ta|Fa)}if(0<dn.L&&(dn.wa[dn.Y+dn.ja]=dn.gd[Qn.$b][Qn.Za],dn.wa[dn.Y+dn.ja].La|=!Er),sr.Ka)return po(An,7,"Premature end-of-file encountered.")}if(qf(An),dn=hr,sr=1,Qn=(un=An).D,fr=0<un.L&&un.M>=un.zb&&un.M<=un.Va,un.Aa==0)e:{if(Qn.M=un.M,Qn.uc=fr,np(un,Qn),sr=1,Qn=(oa=un.D).Nb,fr=(Fa=dp[un.L])*un.R,Zr=Fa/2*un.B,La=16*Qn*un.R,$o=8*Qn*un.B,Er=un.sa,bi=un.ta-fr+La,Gr=un.qa,ur=un.ra-Zr+$o,Ya=un.Ha,os=un.Ia-Zr+$o,sl=(cs=oa.M)==0,Ta=cs>=un.Va-1,un.Aa==2&&np(un,oa),oa.uc)for(_l=(go=un).D.M,e(go.D.uc),oa=go.yb;oa<go.Hb;++oa){Ao=oa,mo=_l;var jn=(Cr=(Zs=go).D).Nb;Fi=Zs.R;var Cr=Cr.wa[Cr.Y+Ao],Io=Zs.sa,ka=Zs.ta+16*jn*Fi+16*Ao,Du=Cr.dd,vo=Cr.tc;if(vo!=0)if(e(3<=vo),Zs.L==1)0<Ao&&Ls(Io,ka,Fi,vo+4),Cr.La&&xh(Io,ka,Fi,vo),0<mo&&xs(Io,ka,Fi,vo+4),Cr.La&&Mo(Io,ka,Fi,vo);else{var rn=Zs.B,vd=Zs.qa,ol=Zs.ra+8*jn*rn+8*Ao,_d=Zs.Ha,Zs=Zs.Ia+8*jn*rn+8*Ao;jn=Cr.ld,0<Ao&&(sp(Io,ka,Fi,vo+4,Du,jn),Ou(vd,ol,_d,Zs,rn,vo+4,Du,jn)),Cr.La&&(Yl(Io,ka,Fi,vo,Du,jn),qa(vd,ol,_d,Zs,rn,vo,Du,jn)),0<mo&&(dd(Io,ka,Fi,vo+4,Du,jn),fd(vd,ol,_d,Zs,rn,vo+4,Du,jn)),Cr.La&&(tf(Io,ka,Fi,vo,Du,jn),wh(vd,ol,_d,Zs,rn,vo,Du,jn))}}if(un.ia&&alert("todo:DitherRow"),dn.put!=null){if(oa=16*cs,cs=16*(cs+1),sl?(dn.y=un.sa,dn.O=un.ta+La,dn.f=un.qa,dn.N=un.ra+$o,dn.ea=un.Ha,dn.W=un.Ia+$o):(oa-=Fa,dn.y=Er,dn.O=bi,dn.f=Gr,dn.N=ur,dn.ea=Ya,dn.W=os),Ta||(cs-=Fa),cs>dn.o&&(cs=dn.o),dn.F=null,dn.J=null,un.Fa!=null&&0<un.Fa.length&&oa<cs&&(dn.J=wA(un,dn,oa,cs-oa),dn.F=un.mb,dn.F==null&&dn.F.length==0)){sr=po(un,3,"Could not decode alpha data.");break e}oa<dn.j&&(Fa=dn.j-oa,oa=dn.j,e(!(1&Fa)),dn.O+=un.R*Fa,dn.N+=un.B*(Fa>>1),dn.W+=un.B*(Fa>>1),dn.F!=null&&(dn.J+=dn.width*Fa)),oa<cs&&(dn.O+=dn.v,dn.N+=dn.v>>1,dn.W+=dn.v>>1,dn.F!=null&&(dn.J+=dn.v),dn.ka=oa-dn.j,dn.U=dn.va-dn.v,dn.T=cs-oa,sr=dn.put(dn))}Qn+1!=un.Ic||Ta||(r(un.sa,un.ta-fr,Er,bi+16*un.R,fr),r(un.qa,un.ra-Zr,Gr,ur+8*un.B,Zr),r(un.Ha,un.Ia-Zr,Ya,os+8*un.B,Zr))}if(!sr)return po(An,6,"Output aborted.")}return 1}(V,re)),re.bc!=null&&re.bc(re),we&=1}return we?(V.cb=0,we):0}function Wa(V,re,we,Fe,ze){ze=V[re+we+32*Fe]+(ze>>3),V[re+we+32*Fe]=-256&ze?0>ze?0:255:ze}function Di(V,re,we,Fe,ze,ct){Wa(V,re,0,we,Fe+ze),Wa(V,re,1,we,Fe+ct),Wa(V,re,2,we,Fe-ct),Wa(V,re,3,we,Fe-ze)}function cu(V){return(20091*V>>16)+V}function Xd(V,re,we,Fe){var ze,ct=0,dt=s(16);for(ze=0;4>ze;++ze){var gt=V[re+0]+V[re+8],Ct=V[re+0]-V[re+8],ft=(35468*V[re+4]>>16)-cu(V[re+12]),nn=cu(V[re+4])+(35468*V[re+12]>>16);dt[ct+0]=gt+nn,dt[ct+1]=Ct+ft,dt[ct+2]=Ct-ft,dt[ct+3]=gt-nn,ct+=4,re++}for(ze=ct=0;4>ze;++ze)gt=(V=dt[ct+0]+4)+dt[ct+8],Ct=V-dt[ct+8],ft=(35468*dt[ct+4]>>16)-cu(dt[ct+12]),Wa(we,Fe,0,0,gt+(nn=cu(dt[ct+4])+(35468*dt[ct+12]>>16))),Wa(we,Fe,1,0,Ct+ft),Wa(we,Fe,2,0,Ct-ft),Wa(we,Fe,3,0,gt-nn),ct++,Fe+=32}function yA(V,re,we,Fe){var ze=V[re+0]+4,ct=35468*V[re+4]>>16,dt=cu(V[re+4]),gt=35468*V[re+1]>>16;Di(we,Fe,0,ze+dt,V=cu(V[re+1]),gt),Di(we,Fe,1,ze+ct,V,gt),Di(we,Fe,2,ze-ct,V,gt),Di(we,Fe,3,ze-dt,V,gt)}function U1(V,re,we,Fe,ze){Xd(V,re,we,Fe),ze&&Xd(V,re+16,we,Fe+4)}function Yu(V,re,we,Fe){bh(V,re+0,we,Fe,1),bh(V,re+32,we,Fe+128,1)}function Qm(V,re,we,Fe){var ze;for(V=V[re+0]+4,ze=0;4>ze;++ze)for(re=0;4>re;++re)Wa(we,Fe,re,ze,V)}function P0(V,re,we,Fe){V[re+0]&&il(V,re+0,we,Fe),V[re+16]&&il(V,re+16,we,Fe+4),V[re+32]&&il(V,re+32,we,Fe+128),V[re+48]&&il(V,re+48,we,Fe+128+4)}function Zd(V,re,we,Fe){var ze,ct=s(16);for(ze=0;4>ze;++ze){var dt=V[re+0+ze]+V[re+12+ze],gt=V[re+4+ze]+V[re+8+ze],Ct=V[re+4+ze]-V[re+8+ze],ft=V[re+0+ze]-V[re+12+ze];ct[0+ze]=dt+gt,ct[8+ze]=dt-gt,ct[4+ze]=ft+Ct,ct[12+ze]=ft-Ct}for(ze=0;4>ze;++ze)dt=(V=ct[0+4*ze]+3)+ct[3+4*ze],gt=ct[1+4*ze]+ct[2+4*ze],Ct=ct[1+4*ze]-ct[2+4*ze],ft=V-ct[3+4*ze],we[Fe+0]=dt+gt>>3,we[Fe+16]=ft+Ct>>3,we[Fe+32]=dt-gt>>3,we[Fe+48]=ft-Ct>>3,Fe+=64}function mr(V,re,we){var Fe,ze=re-32,ct=Au,dt=255-V[ze-1];for(Fe=0;Fe<we;++Fe){var gt,Ct=ct,ft=dt+V[re-1];for(gt=0;gt<we;++gt)V[re+gt]=Ct[ft+V[ze+gt]];re+=32}}function pa(V,re){mr(V,re,4)}function Aa(V,re){mr(V,re,8)}function Iu(V,re){mr(V,re,16)}function Lu(V,re){var we;for(we=0;16>we;++we)r(V,re+32*we,V,re-32,16)}function Gi(V,re){var we;for(we=16;0<we;--we)i(V,re,V[re-1],16),re+=32}function ed(V,re,we){var Fe;for(Fe=0;16>Fe;++Fe)i(re,we+32*Fe,V,16)}function td(V,re){var we,Fe=16;for(we=0;16>we;++we)Fe+=V[re-1+32*we]+V[re+we-32];ed(Fe>>5,V,re)}function zo(V,re){var we,Fe=8;for(we=0;16>we;++we)Fe+=V[re-1+32*we];ed(Fe>>4,V,re)}function jl(V,re){var we,Fe=8;for(we=0;16>we;++we)Fe+=V[re+we-32];ed(Fe>>4,V,re)}function ws(V,re){ed(128,V,re)}function rr(V,re,we){return V+2*re+we+2>>2}function nd(V,re){var we,Fe=re-32;for(Fe=new Uint8Array([rr(V[Fe-1],V[Fe+0],V[Fe+1]),rr(V[Fe+0],V[Fe+1],V[Fe+2]),rr(V[Fe+1],V[Fe+2],V[Fe+3]),rr(V[Fe+2],V[Fe+3],V[Fe+4])]),we=0;4>we;++we)r(V,re+32*we,Fe,0,Fe.length)}function si(V,re){var we=V[re-1],Fe=V[re-1+32],ze=V[re-1+64],ct=V[re-1+96];Je(V,re+0,16843009*rr(V[re-1-32],we,Fe)),Je(V,re+32,16843009*rr(we,Fe,ze)),Je(V,re+64,16843009*rr(Fe,ze,ct)),Je(V,re+96,16843009*rr(ze,ct,ct))}function gl(V,re){var we,Fe=4;for(we=0;4>we;++we)Fe+=V[re+we-32]+V[re-1+32*we];for(Fe>>=3,we=0;4>we;++we)i(V,re+32*we,Fe,4)}function Ii(V,re){var we=V[re-1+0],Fe=V[re-1+32],ze=V[re-1+64],ct=V[re-1-32],dt=V[re+0-32],gt=V[re+1-32],Ct=V[re+2-32],ft=V[re+3-32];V[re+0+96]=rr(Fe,ze,V[re-1+96]),V[re+1+96]=V[re+0+64]=rr(we,Fe,ze),V[re+2+96]=V[re+1+64]=V[re+0+32]=rr(ct,we,Fe),V[re+3+96]=V[re+2+64]=V[re+1+32]=V[re+0+0]=rr(dt,ct,we),V[re+3+64]=V[re+2+32]=V[re+1+0]=rr(gt,dt,ct),V[re+3+32]=V[re+2+0]=rr(Ct,gt,dt),V[re+3+0]=rr(ft,Ct,gt)}function rd(V,re){var we=V[re+1-32],Fe=V[re+2-32],ze=V[re+3-32],ct=V[re+4-32],dt=V[re+5-32],gt=V[re+6-32],Ct=V[re+7-32];V[re+0+0]=rr(V[re+0-32],we,Fe),V[re+1+0]=V[re+0+32]=rr(we,Fe,ze),V[re+2+0]=V[re+1+32]=V[re+0+64]=rr(Fe,ze,ct),V[re+3+0]=V[re+2+32]=V[re+1+64]=V[re+0+96]=rr(ze,ct,dt),V[re+3+32]=V[re+2+64]=V[re+1+96]=rr(ct,dt,gt),V[re+3+64]=V[re+2+96]=rr(dt,gt,Ct),V[re+3+96]=rr(gt,Ct,Ct)}function so(V,re){var we=V[re-1+0],Fe=V[re-1+32],ze=V[re-1+64],ct=V[re-1-32],dt=V[re+0-32],gt=V[re+1-32],Ct=V[re+2-32],ft=V[re+3-32];V[re+0+0]=V[re+1+64]=ct+dt+1>>1,V[re+1+0]=V[re+2+64]=dt+gt+1>>1,V[re+2+0]=V[re+3+64]=gt+Ct+1>>1,V[re+3+0]=Ct+ft+1>>1,V[re+0+96]=rr(ze,Fe,we),V[re+0+64]=rr(Fe,we,ct),V[re+0+32]=V[re+1+96]=rr(we,ct,dt),V[re+1+32]=V[re+2+96]=rr(ct,dt,gt),V[re+2+32]=V[re+3+96]=rr(dt,gt,Ct),V[re+3+32]=rr(gt,Ct,ft)}function Vr(V,re){var we=V[re+0-32],Fe=V[re+1-32],ze=V[re+2-32],ct=V[re+3-32],dt=V[re+4-32],gt=V[re+5-32],Ct=V[re+6-32],ft=V[re+7-32];V[re+0+0]=we+Fe+1>>1,V[re+1+0]=V[re+0+64]=Fe+ze+1>>1,V[re+2+0]=V[re+1+64]=ze+ct+1>>1,V[re+3+0]=V[re+2+64]=ct+dt+1>>1,V[re+0+32]=rr(we,Fe,ze),V[re+1+32]=V[re+0+96]=rr(Fe,ze,ct),V[re+2+32]=V[re+1+96]=rr(ze,ct,dt),V[re+3+32]=V[re+2+96]=rr(ct,dt,gt),V[re+3+64]=rr(dt,gt,Ct),V[re+3+96]=rr(gt,Ct,ft)}function F0(V,re){var we=V[re-1+0],Fe=V[re-1+32],ze=V[re-1+64],ct=V[re-1+96];V[re+0+0]=we+Fe+1>>1,V[re+2+0]=V[re+0+32]=Fe+ze+1>>1,V[re+2+32]=V[re+0+64]=ze+ct+1>>1,V[re+1+0]=rr(we,Fe,ze),V[re+3+0]=V[re+1+32]=rr(Fe,ze,ct),V[re+3+32]=V[re+1+64]=rr(ze,ct,ct),V[re+3+64]=V[re+2+64]=V[re+0+96]=V[re+1+96]=V[re+2+96]=V[re+3+96]=ct}function id(V,re){var we=V[re-1+0],Fe=V[re-1+32],ze=V[re-1+64],ct=V[re-1+96],dt=V[re-1-32],gt=V[re+0-32],Ct=V[re+1-32],ft=V[re+2-32];V[re+0+0]=V[re+2+32]=we+dt+1>>1,V[re+0+32]=V[re+2+64]=Fe+we+1>>1,V[re+0+64]=V[re+2+96]=ze+Fe+1>>1,V[re+0+96]=ct+ze+1>>1,V[re+3+0]=rr(gt,Ct,ft),V[re+2+0]=rr(dt,gt,Ct),V[re+1+0]=V[re+3+32]=rr(we,dt,gt),V[re+1+32]=V[re+3+64]=rr(Fe,we,dt),V[re+1+64]=V[re+3+96]=rr(ze,Fe,we),V[re+1+96]=rr(ct,ze,Fe)}function Ws(V,re){var we;for(we=0;8>we;++we)r(V,re+32*we,V,re-32,8)}function Gl(V,re){var we;for(we=0;8>we;++we)i(V,re,V[re-1],8),re+=32}function ku(V,re,we){var Fe;for(Fe=0;8>Fe;++Fe)i(re,we+32*Fe,V,8)}function Kl(V,re){var we,Fe=8;for(we=0;8>we;++we)Fe+=V[re+we-32]+V[re-1+32*we];ku(Fe>>4,V,re)}function qs(V,re){var we,Fe=4;for(we=0;8>we;++we)Fe+=V[re+we-32];ku(Fe>>3,V,re)}function ad(V,re){var we,Fe=4;for(we=0;8>we;++we)Fe+=V[re-1+32*we];ku(Fe>>3,V,re)}function Yf(V,re){ku(128,V,re)}function Pu(V,re,we){var Fe=V[re-we],ze=V[re+0],ct=3*(ze-Fe)+rf[1020+V[re-2*we]-V[re+we]],dt=pd[112+(ct+4>>3)];V[re-we]=Au[255+Fe+pd[112+(ct+3>>3)]],V[re+0]=Au[255+ze-dt]}function sd(V,re,we,Fe){var ze=V[re+0],ct=V[re+we];return Zl[255+V[re-2*we]-V[re-we]]>Fe||Zl[255+ct-ze]>Fe}function Ah(V,re,we,Fe){return 4*Zl[255+V[re-we]-V[re+0]]+Zl[255+V[re-2*we]-V[re+we]]<=Fe}function od(V,re,we,Fe,ze){var ct=V[re-3*we],dt=V[re-2*we],gt=V[re-we],Ct=V[re+0],ft=V[re+we],nn=V[re+2*we],Bn=V[re+3*we];return 4*Zl[255+gt-Ct]+Zl[255+dt-ft]>Fe?0:Zl[255+V[re-4*we]-ct]<=ze&&Zl[255+ct-dt]<=ze&&Zl[255+dt-gt]<=ze&&Zl[255+Bn-nn]<=ze&&Zl[255+nn-ft]<=ze&&Zl[255+ft-Ct]<=ze}function Fu(V,re,we,Fe){var ze=2*Fe+1;for(Fe=0;16>Fe;++Fe)Ah(V,re+Fe,we,ze)&&Pu(V,re+Fe,we)}function pc(V,re,we,Fe){var ze=2*Fe+1;for(Fe=0;16>Fe;++Fe)Ah(V,re+Fe*we,1,ze)&&Pu(V,re+Fe*we,1)}function Wl(V,re,we,Fe){var ze;for(ze=3;0<ze;--ze)Fu(V,re+=4*we,we,Fe)}function Xf(V,re,we,Fe){var ze;for(ze=3;0<ze;--ze)pc(V,re+=4,we,Fe)}function ld(V,re,we,Fe,ze,ct,dt,gt){for(ct=2*ct+1;0<ze--;){if(od(V,re,we,ct,dt))if(sd(V,re,we,gt))Pu(V,re,we);else{var Ct=V,ft=re,nn=we,Bn=Ct[ft-2*nn],Mn=Ct[ft-nn],An=Ct[ft+0],hr=Ct[ft+nn],Qn=Ct[ft+2*nn],un=27*(sr=rf[1020+3*(An-Mn)+rf[1020+Bn-hr]])+63>>7,dn=18*sr+63>>7,sr=9*sr+63>>7;Ct[ft-3*nn]=Au[255+Ct[ft-3*nn]+sr],Ct[ft-2*nn]=Au[255+Bn+dn],Ct[ft-nn]=Au[255+Mn+un],Ct[ft+0]=Au[255+An-un],Ct[ft+nn]=Au[255+hr-dn],Ct[ft+2*nn]=Au[255+Qn-sr]}re+=Fe}}function vl(V,re,we,Fe,ze,ct,dt,gt){for(ct=2*ct+1;0<ze--;){if(od(V,re,we,ct,dt))if(sd(V,re,we,gt))Pu(V,re,we);else{var Ct=V,ft=re,nn=we,Bn=Ct[ft-nn],Mn=Ct[ft+0],An=Ct[ft+nn],hr=pd[112+((Qn=3*(Mn-Bn))+4>>3)],Qn=pd[112+(Qn+3>>3)],un=hr+1>>1;Ct[ft-2*nn]=Au[255+Ct[ft-2*nn]+un],Ct[ft-nn]=Au[255+Bn+Qn],Ct[ft+0]=Au[255+Mn-hr],Ct[ft+nn]=Au[255+An-un]}re+=Fe}}function bA(V,re,we,Fe,ze,ct){ld(V,re,we,1,16,Fe,ze,ct)}function Ni(V,re,we,Fe,ze,ct){ld(V,re,1,we,16,Fe,ze,ct)}function Zf(V,re,we,Fe,ze,ct){var dt;for(dt=3;0<dt;--dt)vl(V,re+=4*we,we,1,16,Fe,ze,ct)}function Jd(V,re,we,Fe,ze,ct){var dt;for(dt=3;0<dt;--dt)vl(V,re+=4,1,we,16,Fe,ze,ct)}function z1(V,re,we,Fe,ze,ct,dt,gt){ld(V,re,ze,1,8,ct,dt,gt),ld(we,Fe,ze,1,8,ct,dt,gt)}function jm(V,re,we,Fe,ze,ct,dt,gt){ld(V,re,1,ze,8,ct,dt,gt),ld(we,Fe,1,ze,8,ct,dt,gt)}function Ac(V,re,we,Fe,ze,ct,dt,gt){vl(V,re+4*ze,ze,1,8,ct,dt,gt),vl(we,Fe+4*ze,ze,1,8,ct,dt,gt)}function Kc(V,re,we,Fe,ze,ct,dt,gt){vl(V,re+4,1,ze,8,ct,dt,gt),vl(we,Fe+4,1,ze,8,ct,dt,gt)}function ud(){this.ba=new gr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Nn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function mh(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Jf(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function mc(){this.ua=0,this.Wa=new je,this.vb=new je,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new he,this.yc=new W}function gh(){this.xb=this.a=0,this.l=new qd,this.ca=new gr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new se,this.Pb=0,this.wd=new se,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new mc,this.ab=0,this.gc=l(4,Jf),this.Oc=0}function vh(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new qd,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function cd(V,re,we,Fe,ze,ct,dt){for(V=V==null?0:V[re+0],re=0;re<dt;++re)ze[ct+re]=V+we[Fe+re]&255,V=ze[ct+re]}function ep(V,re,we,Fe,ze,ct,dt){var gt;if(V==null)cd(null,null,we,Fe,ze,ct,dt);else for(gt=0;gt<dt;++gt)ze[ct+gt]=V[re+gt]+we[Fe+gt]&255}function jo(V,re,we,Fe,ze,ct,dt){if(V==null)cd(null,null,we,Fe,ze,ct,dt);else{var gt,Ct=V[re+0],ft=Ct,nn=Ct;for(gt=0;gt<dt;++gt)ft=nn+(Ct=V[re+gt])-ft,nn=we[Fe+gt]+(-256&ft?0>ft?0:255:ft)&255,ft=Ct,ze[ct+gt]=nn}}function wA(V,re,we,Fe){var ze=re.width,ct=re.o;if(e(V!=null&&re!=null),0>we||0>=Fe||we+Fe>ct)return null;if(!V.Cc){if(V.ga==null){var dt;if(V.ga=new vh,(dt=V.ga==null)||(dt=re.width*re.o,e(V.Gb.length==0),V.Gb=s(dt),V.Uc=0,V.Gb==null?dt=0:(V.mb=V.Gb,V.nb=V.Uc,V.rc=null,dt=1),dt=!dt),!dt){dt=V.ga;var gt=V.Fa,Ct=V.P,ft=V.qc,nn=V.mb,Bn=V.nb,Mn=Ct+1,An=ft-1,hr=dt.l;if(e(gt!=null&&nn!=null&&re!=null),Ch[0]=null,Ch[1]=cd,Ch[2]=ep,Ch[3]=jo,dt.ca=nn,dt.tb=Bn,dt.c=re.width,dt.i=re.height,e(0<dt.c&&0<dt.i),1>=ft)re=0;else if(dt.$a=gt[Ct+0]>>0&3,dt.Z=gt[Ct+0]>>2&3,dt.Lc=gt[Ct+0]>>4&3,Ct=gt[Ct+0]>>6&3,0>dt.$a||1<dt.$a||4<=dt.Z||1<dt.Lc||Ct)re=0;else if(hr.put=Vi,hr.ac=ai,hr.bc=va,hr.ma=dt,hr.width=re.width,hr.height=re.height,hr.Da=re.Da,hr.v=re.v,hr.va=re.va,hr.j=re.j,hr.o=re.o,dt.$a)e:{e(dt.$a==1),re=Mr();t:for(;;){if(re==null){re=0;break e}if(e(dt!=null),dt.mc=re,re.c=dt.c,re.i=dt.i,re.l=dt.l,re.l.ma=dt,re.l.width=dt.c,re.l.height=dt.i,re.a=0,ce(re.m,gt,Mn,An),!ti(dt.c,dt.i,1,re,null)||(re.ab==1&&re.gc[0].hc==3&&an(re.s)?(dt.ic=1,gt=re.c*re.i,re.Ta=null,re.Ua=0,re.V=s(gt),re.Ba=0,re.V==null?(re.a=1,re=0):re=1):(dt.ic=0,re=Tn(re,dt.c)),!re))break t;re=1;break e}dt.mc=null,re=0}else re=An>=dt.c*dt.i;dt=!re}if(dt)return null;V.ga.Lc!=1?V.Ga=0:Fe=ct-we}e(V.ga!=null),e(we+Fe<=ct);e:{if(re=(gt=V.ga).c,ct=gt.l.o,gt.$a==0){if(Mn=V.rc,An=V.Vc,hr=V.Fa,Ct=V.P+1+we*re,ft=V.mb,nn=V.nb+we*re,e(Ct<=V.P+V.qc),gt.Z!=0)for(e(Ch[gt.Z]!=null),dt=0;dt<Fe;++dt)Ch[gt.Z](Mn,An,hr,Ct,ft,nn,re),Mn=ft,An=nn,nn+=re,Ct+=re;else for(dt=0;dt<Fe;++dt)r(ft,nn,hr,Ct,re),Mn=ft,An=nn,nn+=re,Ct+=re;V.rc=Mn,V.Vc=An}else{if(e(gt.mc!=null),re=we+Fe,e((dt=gt.mc)!=null),e(re<=dt.i),dt.C>=re)re=1;else if(gt.ic||wn(),gt.ic){gt=dt.V,Mn=dt.Ba,An=dt.c;var Qn=dt.i,un=(hr=1,Ct=dt.$/An,ft=dt.$%An,nn=dt.m,Bn=dt.s,dt.$),dn=An*Qn,sr=An*re,fr=Bn.wc,ur=un<sr?En(Bn,ft,Ct):null;e(un<=dn),e(re<=Qn),e(an(Bn));t:for(;;){for(;!nn.h&&un<sr;){if(ft&fr||(ur=En(Bn,ft,Ct)),e(ur!=null),Le(nn),256>(Qn=Jt(ur.G[0],ur.H[0],nn)))gt[Mn+un]=Qn,++un,++ft>=An&&(ft=0,++Ct<=re&&!(Ct%16)&&kn(dt,Ct));else{if(!(280>Qn)){hr=0;break t}Qn=qi(Qn-256,nn);var Zr,Er=Jt(ur.G[4],ur.H[4],nn);if(Le(nn),!(un>=(Er=Hi(An,Er=qi(Er,nn)))&&dn-un>=Qn)){hr=0;break t}for(Zr=0;Zr<Qn;++Zr)gt[Mn+un+Zr]=gt[Mn+un+Zr-Er];for(un+=Qn,ft+=Qn;ft>=An;)ft-=An,++Ct<=re&&!(Ct%16)&&kn(dt,Ct);un<sr&&ft&fr&&(ur=En(Bn,ft,Ct))}e(nn.h==_e(nn))}kn(dt,Ct>re?re:Ct);break t}!hr||nn.h&&un<dn?(hr=0,dt.a=nn.h?5:3):dt.$=un,re=hr}else re=er(dt,dt.V,dt.Ba,dt.c,dt.i,re,Kt);if(!re){Fe=0;break e}}we+Fe>=ct&&(V.Cc=1),Fe=1}if(!Fe)return null;if(V.Cc&&((Fe=V.ga)!=null&&(Fe.mc=null),V.ga=null,0<V.Ga))return alert("todo:WebPDequantizeLevels"),null}return V.nb+we*ze}function me(V,re,we,Fe,ze,ct){for(;0<ze--;){var dt,gt=V,Ct=re+(we?1:0),ft=V,nn=re+(we?0:3);for(dt=0;dt<Fe;++dt){var Bn=ft[nn+4*dt];Bn!=255&&(Bn*=32897,gt[Ct+4*dt+0]=gt[Ct+4*dt+0]*Bn>>23,gt[Ct+4*dt+1]=gt[Ct+4*dt+1]*Bn>>23,gt[Ct+4*dt+2]=gt[Ct+4*dt+2]*Bn>>23)}re+=ct}}function tt(V,re,we,Fe,ze){for(;0<Fe--;){var ct;for(ct=0;ct<we;++ct){var dt=V[re+2*ct+0],gt=15&(ft=V[re+2*ct+1]),Ct=4369*gt,ft=(240&ft|ft>>4)*Ct>>16;V[re+2*ct+0]=(240&dt|dt>>4)*Ct>>16&240|(15&dt|dt<<4)*Ct>>16>>4&15,V[re+2*ct+1]=240&ft|gt}re+=ze}}function zt(V,re,we,Fe,ze,ct,dt,gt){var Ct,ft,nn=255;for(ft=0;ft<ze;++ft){for(Ct=0;Ct<Fe;++Ct){var Bn=V[re+Ct];ct[dt+4*Ct]=Bn,nn&=Bn}re+=we,dt+=gt}return nn!=255}function Zt(V,re,we,Fe,ze){var ct;for(ct=0;ct<ze;++ct)we[Fe+ct]=V[re+ct]>>8}function wn(){nf=me,Xl=tt,op=zt,Ym=Zt}function Wn(V,re,we){Q[V]=function(Fe,ze,ct,dt,gt,Ct,ft,nn,Bn,Mn,An,hr,Qn,un,dn,sr,fr){var ur,Zr=fr-1>>1,Er=gt[Ct+0]|ft[nn+0]<<16,bi=Bn[Mn+0]|An[hr+0]<<16;e(Fe!=null);var Gr=3*Er+bi+131074>>2;for(re(Fe[ze+0],255&Gr,Gr>>16,Qn,un),ct!=null&&(Gr=3*bi+Er+131074>>2,re(ct[dt+0],255&Gr,Gr>>16,dn,sr)),ur=1;ur<=Zr;++ur){var Ya=gt[Ct+ur]|ft[nn+ur]<<16,os=Bn[Mn+ur]|An[hr+ur]<<16,Ta=Er+Ya+bi+os+524296,Fa=Ta+2*(Ya+bi)>>3;Gr=Fa+Er>>1,Er=(Ta=Ta+2*(Er+os)>>3)+Ya>>1,re(Fe[ze+2*ur-1],255&Gr,Gr>>16,Qn,un+(2*ur-1)*we),re(Fe[ze+2*ur-0],255&Er,Er>>16,Qn,un+(2*ur-0)*we),ct!=null&&(Gr=Ta+bi>>1,Er=Fa+os>>1,re(ct[dt+2*ur-1],255&Gr,Gr>>16,dn,sr+(2*ur-1)*we),re(ct[dt+2*ur+0],255&Er,Er>>16,dn,sr+(2*ur+0)*we)),Er=Ya,bi=os}1&fr||(Gr=3*Er+bi+131074>>2,re(Fe[ze+fr-1],255&Gr,Gr>>16,Qn,un+(fr-1)*we),ct!=null&&(Gr=3*bi+Er+131074>>2,re(ct[dt+fr-1],255&Gr,Gr>>16,dn,sr+(fr-1)*we)))}}function vr(){al[Ad]=LA,al[Jl]=sf,al[lp]=W1,al[BA]=q1,al[up]=rg,al[Jm]=z0,al[md]=ab,al[ea]=sf,al[eg]=q1,al[D0]=rg,al[MA]=z0}function Wr(V){return V&~Tx?0>V?0:255:V>>FA}function gi(V,re){return Wr((19077*V>>8)+(26149*re>>8)-14234)}function sa(V,re,we){return Wr((19077*V>>8)-(6419*re>>8)-(13320*we>>8)+8708)}function Ki(V,re){return Wr((19077*V>>8)+(33050*re>>8)-17685)}function zn(V,re,we,Fe,ze){Fe[ze+0]=gi(V,we),Fe[ze+1]=sa(V,re,we),Fe[ze+2]=Ki(V,re)}function Is(V,re,we,Fe,ze){Fe[ze+0]=Ki(V,re),Fe[ze+1]=sa(V,re,we),Fe[ze+2]=gi(V,we)}function Ys(V,re,we,Fe,ze){var ct=sa(V,re,we);re=ct<<3&224|Ki(V,re)>>3,Fe[ze+0]=248&gi(V,we)|ct>>5,Fe[ze+1]=re}function Xs(V,re,we,Fe,ze){var ct=240&Ki(V,re)|15;Fe[ze+0]=240&gi(V,we)|sa(V,re,we)>>4,Fe[ze+1]=ct}function nl(V,re,we,Fe,ze){Fe[ze+0]=255,zn(V,re,we,Fe,ze+1)}function $s(V,re,we,Fe,ze){Is(V,re,we,Fe,ze),Fe[ze+3]=255}function Bo(V,re,we,Fe,ze){zn(V,re,we,Fe,ze),Fe[ze+3]=255}function hu(V,re){return 0>V?0:V>re?re:V}function du(V,re,we){Q[V]=function(Fe,ze,ct,dt,gt,Ct,ft,nn,Bn){for(var Mn=nn+(-2&Bn)*we;nn!=Mn;)re(Fe[ze+0],ct[dt+0],gt[Ct+0],ft,nn),re(Fe[ze+1],ct[dt+0],gt[Ct+0],ft,nn+we),ze+=2,++dt,++Ct,nn+=2*we;1&Bn&&re(Fe[ze+0],ct[dt+0],gt[Ct+0],ft,nn)}}function tp(V,re,we){return we==0?V==0?re==0?6:5:re==0?4:0:we}function Wc(V,re,we,Fe,ze){switch(V>>>30){case 3:bh(re,we,Fe,ze,0);break;case 2:hd(re,we,Fe,ze);break;case 1:il(re,we,Fe,ze)}}function np(V,re){var we,Fe,ze=re.M,ct=re.Nb,dt=V.oc,gt=V.pc+40,Ct=V.oc,ft=V.pc+584,nn=V.oc,Bn=V.pc+600;for(we=0;16>we;++we)dt[gt+32*we-1]=129;for(we=0;8>we;++we)Ct[ft+32*we-1]=129,nn[Bn+32*we-1]=129;for(0<ze?dt[gt-1-32]=Ct[ft-1-32]=nn[Bn-1-32]=129:(i(dt,gt-32-1,127,21),i(Ct,ft-32-1,127,9),i(nn,Bn-32-1,127,9)),Fe=0;Fe<V.za;++Fe){var Mn=re.ya[re.aa+Fe];if(0<Fe){for(we=-1;16>we;++we)r(dt,gt+32*we-4,dt,gt+32*we+12,4);for(we=-1;8>we;++we)r(Ct,ft+32*we-4,Ct,ft+32*we+4,4),r(nn,Bn+32*we-4,nn,Bn+32*we+4,4)}var An=V.Gd,hr=V.Hd+Fe,Qn=Mn.ad,un=Mn.Hc;if(0<ze&&(r(dt,gt-32,An[hr].y,0,16),r(Ct,ft-32,An[hr].f,0,8),r(nn,Bn-32,An[hr].ea,0,8)),Mn.Za){var dn=dt,sr=gt-32+16;for(0<ze&&(Fe>=V.za-1?i(dn,sr,An[hr].y[15],4):r(dn,sr,An[hr+1].y,0,4)),we=0;4>we;we++)dn[sr+128+we]=dn[sr+256+we]=dn[sr+384+we]=dn[sr+0+we];for(we=0;16>we;++we,un<<=2)dn=dt,sr=gt+RA[we],Ju[Mn.Ob[we]](dn,sr),Wc(un,Qn,16*+we,dn,sr)}else if(dn=tp(Fe,ze,Mn.Ob[0]),gd[dn](dt,gt),un!=0)for(we=0;16>we;++we,un<<=2)Wc(un,Qn,16*+we,dt,gt+RA[we]);for(we=Mn.Gc,dn=tp(Fe,ze,Mn.Dd),Yc[dn](Ct,ft),Yc[dn](nn,Bn),un=Qn,dn=Ct,sr=ft,255&(Mn=we>>0)&&(170&Mn?Vs(un,256,dn,sr):oo(un,256,dn,sr)),Mn=nn,un=Bn,255&(we>>=8)&&(170&we?Vs(Qn,320,Mn,un):oo(Qn,320,Mn,un)),ze<V.Ub-1&&(r(An[hr].y,0,dt,gt+480,16),r(An[hr].f,0,Ct,ft+224,8),r(An[hr].ea,0,nn,Bn+224,8)),we=8*ct*V.B,An=V.sa,hr=V.ta+16*Fe+16*ct*V.R,Qn=V.qa,Mn=V.ra+8*Fe+we,un=V.Ha,dn=V.Ia+8*Fe+we,we=0;16>we;++we)r(An,hr+we*V.R,dt,gt+32*we,16);for(we=0;8>we;++we)r(Qn,Mn+we*V.B,Ct,ft+32*we,8),r(un,dn+we*V.B,nn,Bn+32*we,8)}}function xA(V,re,we,Fe,ze,ct,dt,gt,Ct){var ft=[0],nn=[0],Bn=0,Mn=Ct!=null?Ct.kd:0,An=Ct??new mh;if(V==null||12>we)return 7;An.data=V,An.w=re,An.ha=we,re=[re],we=[we],An.gb=[An.gb];e:{var hr=re,Qn=we,un=An.gb;if(e(V!=null),e(Qn!=null),e(un!=null),un[0]=0,12<=Qn[0]&&!n(V,hr[0],"RIFF")){if(n(V,hr[0]+8,"WEBP")){un=3;break e}var dn=ke(V,hr[0]+4);if(12>dn||4294967286<dn){un=3;break e}if(Mn&&dn>Qn[0]-8){un=7;break e}un[0]=dn,hr[0]+=12,Qn[0]-=12}un=0}if(un!=0)return un;for(dn=0<An.gb[0],we=we[0];;){e:{var sr=V;Qn=re,un=we;var fr=ft,ur=nn,Zr=hr=[0];if((Gr=Bn=[Bn])[0]=0,8>un[0])un=7;else{if(!n(sr,Qn[0],"VP8X")){if(ke(sr,Qn[0]+4)!=10){un=3;break e}if(18>un[0]){un=7;break e}var Er=ke(sr,Qn[0]+8),bi=1+Ve(sr,Qn[0]+12);if(2147483648<=bi*(sr=1+Ve(sr,Qn[0]+15))){un=3;break e}Zr!=null&&(Zr[0]=Er),fr!=null&&(fr[0]=bi),ur!=null&&(ur[0]=sr),Qn[0]+=18,un[0]-=18,Gr[0]=1}un=0}}if(Bn=Bn[0],hr=hr[0],un!=0)return un;if(Qn=!!(2&hr),!dn&&Bn)return 3;if(ct!=null&&(ct[0]=!!(16&hr)),dt!=null&&(dt[0]=Qn),gt!=null&&(gt[0]=0),dt=ft[0],hr=nn[0],Bn&&Qn&&Ct==null){un=0;break}if(4>we){un=7;break}if(dn&&Bn||!dn&&!Bn&&!n(V,re[0],"ALPH")){we=[we],An.na=[An.na],An.P=[An.P],An.Sa=[An.Sa];e:{Er=V,un=re,dn=we;var Gr=An.gb;fr=An.na,ur=An.P,Zr=An.Sa,bi=22,e(Er!=null),e(dn!=null),sr=un[0];var Ya=dn[0];for(e(fr!=null),e(Zr!=null),fr[0]=null,ur[0]=null,Zr[0]=0;;){if(un[0]=sr,dn[0]=Ya,8>Ya){un=7;break e}var os=ke(Er,sr+4);if(4294967286<os){un=3;break e}var Ta=8+os+1&-2;if(bi+=Ta,0<Gr&&bi>Gr){un=3;break e}if(!n(Er,sr,"VP8 ")||!n(Er,sr,"VP8L")){un=0;break e}if(Ya[0]<Ta){un=7;break e}n(Er,sr,"ALPH")||(fr[0]=Er,ur[0]=sr+8,Zr[0]=os),sr+=Ta,Ya-=Ta}}if(we=we[0],An.na=An.na[0],An.P=An.P[0],An.Sa=An.Sa[0],un!=0)break}we=[we],An.Ja=[An.Ja],An.xa=[An.xa];e:if(Gr=V,un=re,dn=we,fr=An.gb[0],ur=An.Ja,Zr=An.xa,Er=un[0],sr=!n(Gr,Er,"VP8 "),bi=!n(Gr,Er,"VP8L"),e(Gr!=null),e(dn!=null),e(ur!=null),e(Zr!=null),8>dn[0])un=7;else{if(sr||bi){if(Gr=ke(Gr,Er+4),12<=fr&&Gr>fr-12){un=3;break e}if(Mn&&Gr>dn[0]-8){un=7;break e}ur[0]=Gr,un[0]+=8,dn[0]-=8,Zr[0]=bi}else Zr[0]=5<=dn[0]&&Gr[Er+0]==47&&!(Gr[Er+4]>>5),ur[0]=dn[0];un=0}if(we=we[0],An.Ja=An.Ja[0],An.xa=An.xa[0],re=re[0],un!=0)break;if(4294967286<An.Ja)return 3;if(gt==null||Qn||(gt[0]=An.xa?2:1),dt=[dt],hr=[hr],An.xa){if(5>we){un=7;break}gt=dt,Mn=hr,Qn=ct,V==null||5>we?V=0:5<=we&&V[re+0]==47&&!(V[re+4]>>5)?(dn=[0],Gr=[0],fr=[0],ce(ur=new se,V,re,we),Rr(ur,dn,Gr,fr)?(gt!=null&&(gt[0]=dn[0]),Mn!=null&&(Mn[0]=Gr[0]),Qn!=null&&(Qn[0]=fr[0]),V=1):V=0):V=0}else{if(10>we){un=7;break}gt=hr,V==null||10>we||!Kf(V,re+3,we-3)?V=0:(Mn=V[re+0]|V[re+1]<<8|V[re+2]<<16,Qn=16383&(V[re+7]<<8|V[re+6]),V=16383&(V[re+9]<<8|V[re+8]),1&Mn||3<(Mn>>1&7)||!(Mn>>4&1)||Mn>>5>=An.Ja||!Qn||!V?V=0:(dt&&(dt[0]=Qn),gt&&(gt[0]=V),V=1))}if(!V||(dt=dt[0],hr=hr[0],Bn&&(ft[0]!=dt||nn[0]!=hr)))return 3;Ct!=null&&(Ct[0]=An,Ct.offset=re-Ct.w,e(4294967286>re-Ct.w),e(Ct.offset==Ct.ha-we));break}return un==0||un==7&&Bn&&Ct==null?(ct!=null&&(ct[0]|=An.na!=null&&0<An.na.length),Fe!=null&&(Fe[0]=dt),ze!=null&&(ze[0]=hr),0):un}function _h(V,re,we){var Fe=re.width,ze=re.height,ct=0,dt=0,gt=Fe,Ct=ze;if(re.Da=V!=null&&0<V.Da,re.Da&&(gt=V.cd,Ct=V.bd,ct=V.v,dt=V.j,11>we||(ct&=-2,dt&=-2),0>ct||0>dt||0>=gt||0>=Ct||ct+gt>Fe||dt+Ct>ze))return 0;if(re.v=ct,re.j=dt,re.va=ct+gt,re.o=dt+Ct,re.U=gt,re.T=Ct,re.da=V!=null&&0<V.da,re.da){if(!Ye(gt,Ct,we=[V.ib],ct=[V.hb]))return 0;re.ib=we[0],re.hb=ct[0]}return re.ob=V!=null&&V.ob,re.Kb=V==null||!V.Sd,re.da&&(re.ob=re.ib<3*Fe/4&&re.hb<3*ze/4,re.Kb=0),1}function Gm(V){if(V==null)return 2;if(11>V.S){var re=V.f.RGBA;re.fb+=(V.height-1)*re.A,re.A=-re.A}else re=V.f.kb,V=V.height,re.O+=(V-1)*re.fa,re.fa=-re.fa,re.N+=(V-1>>1)*re.Ab,re.Ab=-re.Ab,re.W+=(V-1>>1)*re.Db,re.Db=-re.Db,re.F!=null&&(re.J+=(V-1)*re.lb,re.lb=-re.lb);return 0}function rp(V,re,we,Fe){if(Fe==null||0>=V||0>=re)return 2;if(we!=null){if(we.Da){var ze=we.cd,ct=we.bd,dt=-2&we.v,gt=-2&we.j;if(0>dt||0>gt||0>=ze||0>=ct||dt+ze>V||gt+ct>re)return 2;V=ze,re=ct}if(we.da){if(!Ye(V,re,ze=[we.ib],ct=[we.hb]))return 2;V=ze[0],re=ct[0]}}Fe.width=V,Fe.height=re;e:{var Ct=Fe.width,ft=Fe.height;if(V=Fe.S,0>=Ct||0>=ft||!(V>=Ad&&13>V))V=2;else{if(0>=Fe.Rd&&Fe.sd==null){dt=ct=ze=re=0;var nn=(gt=Ct*ub[V])*ft;if(11>V||(ct=(ft+1)/2*(re=(Ct+1)/2),V==12&&(dt=(ze=Ct)*ft)),(ft=s(nn+2*ct+dt))==null){V=1;break e}Fe.sd=ft,11>V?((Ct=Fe.f.RGBA).eb=ft,Ct.fb=0,Ct.A=gt,Ct.size=nn):((Ct=Fe.f.kb).y=ft,Ct.O=0,Ct.fa=gt,Ct.Fd=nn,Ct.f=ft,Ct.N=0+nn,Ct.Ab=re,Ct.Cd=ct,Ct.ea=ft,Ct.W=0+nn+ct,Ct.Db=re,Ct.Ed=ct,V==12&&(Ct.F=ft,Ct.J=0+nn+2*ct),Ct.Tc=dt,Ct.lb=ze)}if(re=1,ze=Fe.S,ct=Fe.width,dt=Fe.height,ze>=Ad&&13>ze)if(11>ze)V=Fe.f.RGBA,re&=(gt=Math.abs(V.A))*(dt-1)+ct<=V.size,re&=gt>=ct*ub[ze],re&=V.eb!=null;else{V=Fe.f.kb,gt=(ct+1)/2,nn=(dt+1)/2,Ct=Math.abs(V.fa),ft=Math.abs(V.Ab);var Bn=Math.abs(V.Db),Mn=Math.abs(V.lb),An=Mn*(dt-1)+ct;re&=Ct*(dt-1)+ct<=V.Fd,re&=ft*(nn-1)+gt<=V.Cd,re=(re&=Bn*(nn-1)+gt<=V.Ed)&Ct>=ct&ft>=gt&Bn>=gt,re&=V.y!=null,re&=V.f!=null,re&=V.ea!=null,ze==12&&(re&=Mn>=ct,re&=An<=V.Tc,re&=V.F!=null)}else re=0;V=re?0:2}}return V!=0||we!=null&&we.fd&&(V=Gm(Fe)),V}var fu=64,ef=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],CA=24,EA=32,Km=8,pu=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Et("Predictor0","PredictorAdd0"),Q.Predictor0=function(){return 4278190080},Q.Predictor1=function(V){return V},Q.Predictor2=function(V,re,we){return re[we+0]},Q.Predictor3=function(V,re,we){return re[we+1]},Q.Predictor4=function(V,re,we){return re[we-1]},Q.Predictor5=function(V,re,we){return _t(_t(V,re[we+1]),re[we+0])},Q.Predictor6=function(V,re,we){return _t(V,re[we-1])},Q.Predictor7=function(V,re,we){return _t(V,re[we+0])},Q.Predictor8=function(V,re,we){return _t(re[we-1],re[we+0])},Q.Predictor9=function(V,re,we){return _t(re[we+0],re[we+1])},Q.Predictor10=function(V,re,we){return _t(_t(V,re[we-1]),_t(re[we+0],re[we+1]))},Q.Predictor11=function(V,re,we){var Fe=re[we+0];return 0>=Nt(Fe>>24&255,V>>24&255,(re=re[we-1])>>24&255)+Nt(Fe>>16&255,V>>16&255,re>>16&255)+Nt(Fe>>8&255,V>>8&255,re>>8&255)+Nt(255&Fe,255&V,255&re)?Fe:V},Q.Predictor12=function(V,re,we){var Fe=re[we+0];return(qt((V>>24&255)+(Fe>>24&255)-((re=re[we-1])>>24&255))<<24|qt((V>>16&255)+(Fe>>16&255)-(re>>16&255))<<16|qt((V>>8&255)+(Fe>>8&255)-(re>>8&255))<<8|qt((255&V)+(255&Fe)-(255&re)))>>>0},Q.Predictor13=function(V,re,we){var Fe=re[we-1];return(tn((V=_t(V,re[we+0]))>>24&255,Fe>>24&255)<<24|tn(V>>16&255,Fe>>16&255)<<16|tn(V>>8&255,Fe>>8&255)<<8|tn(V>>0&255,Fe>>0&255))>>>0};var ip=Q.PredictorAdd0;Q.PredictorAdd1=wt,Et("Predictor2","PredictorAdd2"),Et("Predictor3","PredictorAdd3"),Et("Predictor4","PredictorAdd4"),Et("Predictor5","PredictorAdd5"),Et("Predictor6","PredictorAdd6"),Et("Predictor7","PredictorAdd7"),Et("Predictor8","PredictorAdd8"),Et("Predictor9","PredictorAdd9"),Et("Predictor10","PredictorAdd10"),Et("Predictor11","PredictorAdd11"),Et("Predictor12","PredictorAdd12"),Et("Predictor13","PredictorAdd13");var Wm=Q.PredictorAdd2;It("ColorIndexInverseTransform","MapARGB","32b",function(V){return V>>8&255},function(V){return V}),It("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(V){return V},function(V){return V>>8&255});var ap,Xu=Q.ColorIndexInverseTransform,SA=Q.MapARGB,qm=Q.VP8LColorIndexInverseTransformAlpha,TA=Q.MapAlpha,yh=Q.VP8LPredictorsAdd=[];yh.length=16,(Q.VP8LPredictors=[]).length=16,(Q.VP8LPredictorsAdd_C=[]).length=16,(Q.VP8LPredictors_C=[]).length=16;var rl,Ru,gc,vc,Zu,qc,ql,bh,hd,Vs,il,oo,dd,sp,fd,Ou,tf,Yl,wh,qa,xs,Ls,Mo,xh,nf,Xl,op,Ym,Xm=s(511),Zm=s(2041),R0=s(225),O0=s(767),$1=0,rf=Zm,pd=R0,Au=O0,Zl=Xm,Ad=0,Jl=1,lp=2,BA=3,up=4,Jm=5,md=6,ea=7,eg=8,D0=9,MA=10,eb=[2,3,7],V1=[3,3,11],H1=[280,256,256,256,40],N0=[0,1,1,1,0],tb=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],tg=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],IA=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Q1=8,ng=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],af=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],cp=null,j1=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ex=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],nb=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],rb=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Sx=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],G1=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],K1=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],gd=[],Ju=[],Yc=[],ib=1,U0=2,Ch=[],al=[];Wn("UpsampleRgbLinePair",zn,3),Wn("UpsampleBgrLinePair",Is,3),Wn("UpsampleRgbaLinePair",Bo,4),Wn("UpsampleBgraLinePair",$s,4),Wn("UpsampleArgbLinePair",nl,4),Wn("UpsampleRgba4444LinePair",Xs,2),Wn("UpsampleRgb565LinePair",Ys,2);var LA=Q.UpsampleRgbLinePair,W1=Q.UpsampleBgrLinePair,sf=Q.UpsampleRgbaLinePair,q1=Q.UpsampleBgraLinePair,rg=Q.UpsampleArgbLinePair,z0=Q.UpsampleRgba4444LinePair,ab=Q.UpsampleRgb565LinePair,kA=16,hp=1<<kA-1,PA=-227,ig=482,FA=6,Tx=(256<<FA)-1,sb=0,ob=s(256),lb=s(256),$0=s(256),ag=s(256),V0=s(ig-PA),Y1=s(ig-PA);du("YuvToRgbRow",zn,3),du("YuvToBgrRow",Is,3),du("YuvToRgbaRow",Bo,4),du("YuvToBgraRow",$s,4),du("YuvToArgbRow",nl,4),du("YuvToRgba4444Row",Xs,2),du("YuvToRgb565Row",Ys,2);var RA=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],dp=[0,2,8],sg=[8,7,6,4,4,2,2,2,1,1,1,1],og=1;this.WebPDecodeRGBA=function(V,re,we,Fe,ze){var ct=Jl,dt=new ud,gt=new gr;dt.ba=gt,gt.S=ct,gt.width=[gt.width],gt.height=[gt.height];var Ct=gt.width,ft=gt.height,nn=new tr;if(nn==null||V==null)var Bn=2;else e(nn!=null),Bn=xA(V,re,we,nn.width,nn.height,nn.Pd,nn.Qd,nn.format,null);if(Bn!=0?Ct=0:(Ct!=null&&(Ct[0]=nn.width[0]),ft!=null&&(ft[0]=nn.height[0]),Ct=1),Ct){gt.width=gt.width[0],gt.height=gt.height[0],Fe!=null&&(Fe[0]=gt.width),ze!=null&&(ze[0]=gt.height);e:{if(Fe=new qd,(ze=new mh).data=V,ze.w=re,ze.ha=we,ze.kd=1,re=[0],e(ze!=null),((V=xA(ze.data,ze.w,ze.ha,null,null,null,re,null,ze))==0||V==7)&&re[0]&&(V=4),(re=V)==0){if(e(dt!=null),Fe.data=ze.data,Fe.w=ze.w+ze.offset,Fe.ha=ze.ha-ze.offset,Fe.put=Vi,Fe.ac=ai,Fe.bc=va,Fe.ma=dt,ze.xa){if((V=Mr())==null){dt=1;break e}if(function(Mn,An){var hr=[0],Qn=[0],un=[0];t:for(;;){if(Mn==null)return 0;if(An==null)return Mn.a=2,0;if(Mn.l=An,Mn.a=0,ce(Mn.m,An.data,An.w,An.ha),!Rr(Mn.m,hr,Qn,un)){Mn.a=3;break t}if(Mn.xb=U0,An.width=hr[0],An.height=Qn[0],!ti(hr[0],Qn[0],1,Mn,null))break t;return 1}return e(Mn.a!=0),0}(V,Fe)){if(Fe=(re=rp(Fe.width,Fe.height,dt.Oa,dt.ba))==0){t:{Fe=V;n:for(;;){if(Fe==null){Fe=0;break t}if(e(Fe.s.yc!=null),e(Fe.s.Ya!=null),e(0<Fe.s.Wb),e((we=Fe.l)!=null),e((ze=we.ma)!=null),Fe.xb!=0){if(Fe.ca=ze.ba,Fe.tb=ze.tb,e(Fe.ca!=null),!_h(ze.Oa,we,BA)){Fe.a=2;break n}if(!Tn(Fe,we.width)||we.da)break n;if((we.da||St(Fe.ca.S))&&wn(),11>Fe.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Fe.ca.f.kb.F!=null&&wn()),Fe.Pb&&0<Fe.s.ua&&Fe.s.vb.X==null&&!Ge(Fe.s.vb,Fe.s.Wa.Xa)){Fe.a=1;break n}Fe.xb=0}if(!er(Fe,Fe.V,Fe.Ba,Fe.c,Fe.i,we.o,Ht))break n;ze.Dc=Fe.Ma,Fe=1;break t}e(Fe.a!=0),Fe=0}Fe=!Fe}Fe&&(re=V.a)}else re=V.a}else{if((V=new Yd)==null){dt=1;break e}if(V.Fa=ze.na,V.P=ze.P,V.qc=ze.Sa,_A(V,Fe)){if((re=rp(Fe.width,Fe.height,dt.Oa,dt.ba))==0){if(V.Aa=0,we=dt.Oa,e((ze=V)!=null),we!=null){if(0<(Ct=0>(Ct=we.Md)?0:100<Ct?255:255*Ct/100)){for(ft=nn=0;4>ft;++ft)12>(Bn=ze.pb[ft]).lc&&(Bn.ia=Ct*sg[0>Bn.lc?0:Bn.lc]>>3),nn|=Bn.ia;nn&&(alert("todo:VP8InitRandom"),ze.ia=1)}ze.Ga=we.Id,100<ze.Ga?ze.Ga=100:0>ze.Ga&&(ze.Ga=0)}Ql(V,Fe)||(re=V.a)}}else re=V.a}re==0&&dt.Oa!=null&&dt.Oa.fd&&(re=Gm(dt.ba))}dt=re}ct=dt!=0?null:11>ct?gt.f.RGBA.eb:gt.f.kb.y}else ct=null;return ct};var ub=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(Q,G){for(var ie="",q=0;q<4;q++)ie+=String.fromCharCode(Q[G++]);return ie}function p(Q,G){return(Q[G+0]<<0|Q[G+1]<<8|Q[G+2]<<16)>>>0}function m(Q,G){return(Q[G+0]<<0|Q[G+1]<<8|Q[G+2]<<16|Q[G+3]<<24)>>>0}new a;var v=[0],y=[0],T=[],C=new a,k=t,M=function(Q,G){var ie={},q=0,W=!1,ee=0,he=0;if(ie.frames=[],!function(oe,_e,Ue,Le){for(var be=0;be<Le;be++)if(oe[_e+be]!=Ue.charCodeAt(be))return!0;return!1}(Q,G,"RIFF",4)){var J,te;for(m(Q,G+=4),G+=8;G<Q.length;){var ne=f(Q,G),ce=m(Q,G+=4);G+=4;var ue=ce+(1&ce);switch(ne){case"VP8 ":case"VP8L":ie.frames[q]===void 0&&(ie.frames[q]={}),(se=ie.frames[q]).src_off=W?he:G-8,se.src_size=ee+ce+8,q++,W&&(W=!1,ee=0,he=0);break;case"VP8X":(se=ie.header={}).feature_flags=Q[G];var ye=G+4;se.canvas_width=1+p(Q,ye),ye+=3,se.canvas_height=1+p(Q,ye),ye+=3;break;case"ALPH":W=!0,ee=ue+8,he=G-8;break;case"ANIM":(se=ie.header).bgcolor=m(Q,G),ye=G+4,se.loop_count=(J=Q)[(te=ye)+0]<<0|J[te+1]<<8,ye+=2;break;case"ANMF":var Ee,se;(se=ie.frames[q]={}).offset_x=2*p(Q,G),G+=3,se.offset_y=2*p(Q,G),G+=3,se.width=1+p(Q,G),G+=3,se.height=1+p(Q,G),G+=3,se.duration=p(Q,G),G+=3,Ee=Q[G++],se.dispose=1&Ee,se.blend=Ee>>1&1}ne!="ANMF"&&(G+=ue)}return ie}}(k,0);M.response=k,M.rgbaoutput=!0,M.dataurl=!1;var P=M.header?M.header:null,R=M.frames?M.frames:null;if(P){P.loop_counter=P.loop_count,v=[P.canvas_height],y=[P.canvas_width];for(var N=0;N<R.length&&R[N].blend!=0;N++);}var z=R[0],H=C.WebPDecodeRGBA(k,z.src_off,z.src_size,y,v);z.rgba=H,z.imgwidth=y[0],z.imgheight=v[0];for(var j=0;j<y[0]*v[0]*4;j++)T[j]=H[j];return this.width=y,this.height=v,this.data=T,this}(function(t){var e=function(){return typeof pD=="function"},n=function(v,y,T,C){var k=4,M=l;switch(C){case t.image_compression.FAST:k=1,M=s;break;case t.image_compression.MEDIUM:k=6,M=c;break;case t.image_compression.SLOW:k=9,M=a}v=r(v,y,T,M);var P=pD(v,{level:k});return t.__addimage__.arrayBufferToBinaryString(P)},r=function(v,y,T,C){for(var k,M,P,R=v.length/y,N=new Uint8Array(v.length+R),z=p(),H=0;H<R;H+=1){if(P=H*y,k=v.subarray(P,P+y),C)N.set(C(k,T,M),P+H);else{for(var j,Q=z.length,G=[];j<Q;j+=1)G[j]=z[j](k,T,M);var ie=m(G.concat());N.set(G[ie],P+H)}M=k}return N},i=function(v){var y=Array.apply([],v);return y.unshift(0),y},s=function(v,y){var T,C=[],k=v.length;C[0]=1;for(var M=0;M<k;M+=1)T=v[M-y]||0,C[M+1]=v[M]-T+256&255;return C},l=function(v,y,T){var C,k=[],M=v.length;k[0]=2;for(var P=0;P<M;P+=1)C=T&&T[P]||0,k[P+1]=v[P]-C+256&255;return k},c=function(v,y,T){var C,k,M=[],P=v.length;M[0]=3;for(var R=0;R<P;R+=1)C=v[R-y]||0,k=T&&T[R]||0,M[R+1]=v[R]+256-(C+k>>>1)&255;return M},a=function(v,y,T){var C,k,M,P,R=[],N=v.length;R[0]=4;for(var z=0;z<N;z+=1)C=v[z-y]||0,k=T&&T[z]||0,M=T&&T[z-y]||0,P=f(C,k,M),R[z+1]=v[z]-P+256&255;return R},f=function(v,y,T){if(v===y&&y===T)return v;var C=Math.abs(y-T),k=Math.abs(v-T),M=Math.abs(v+y-T-T);return C<=k&&C<=M?v:k<=M?y:T},p=function(){return[i,s,l,c,a]},m=function(v){var y=v.map(function(T){return T.reduce(function(C,k){return C+Math.abs(k)},0)});return y.indexOf(Math.min.apply(null,y))};t.processPNG=function(v,y,T,C){var k,M,P,R,N,z,H,j,Q,G,ie,q,W,ee,he,J=this.decode.FLATE_DECODE,te="";if(this.__addimage__.isArrayBuffer(v)&&(v=new Uint8Array(v)),this.__addimage__.isArrayBufferView(v)){if(v=(P=new zmt(v)).imgData,M=P.bits,k=P.colorSpace,N=P.colors,[4,6].indexOf(P.colorType)!==-1){if(P.bits===8){Q=(j=P.pixelBitlength==32?new Uint32Array(P.decodePixels().buffer):P.pixelBitlength==16?new Uint16Array(P.decodePixels().buffer):new Uint8Array(P.decodePixels().buffer)).length,ie=new Uint8Array(Q*P.colors),G=new Uint8Array(Q);var ne,ce=P.pixelBitlength-P.bits;for(ee=0,he=0;ee<Q;ee++){for(W=j[ee],ne=0;ne<ce;)ie[he++]=W>>>ne&255,ne+=P.bits;G[ee]=W>>>ne&255}}if(P.bits===16){Q=(j=new Uint32Array(P.decodePixels().buffer)).length,ie=new Uint8Array(Q*(32/P.pixelBitlength)*P.colors),G=new Uint8Array(Q*(32/P.pixelBitlength)),q=P.colors>1,ee=0,he=0;for(var ue=0;ee<Q;)W=j[ee++],ie[he++]=W>>>0&255,q&&(ie[he++]=W>>>16&255,W=j[ee++],ie[he++]=W>>>0&255),G[ue++]=W>>>16&255;M=8}C!==t.image_compression.NONE&&e()?(v=n(ie,P.width*P.colors,P.colors,C),H=n(G,P.width,1,C)):(v=ie,H=G,J=void 0)}if(P.colorType===3&&(k=this.color_spaces.INDEXED,z=P.palette,P.transparency.indexed)){var ye=P.transparency.indexed,Ee=0;for(ee=0,Q=ye.length;ee<Q;++ee)Ee+=ye[ee];if((Ee/=255)===Q-1&&ye.indexOf(0)!==-1)R=[ye.indexOf(0)];else if(Ee!==Q){for(j=P.decodePixels(),G=new Uint8Array(j.length),ee=0,Q=j.length;ee<Q;ee++)G[ee]=ye[j[ee]];H=n(G,P.width,1)}}var se=function(oe){var _e;switch(oe){case t.image_compression.FAST:_e=11;break;case t.image_compression.MEDIUM:_e=13;break;case t.image_compression.SLOW:_e=14;break;default:_e=12}return _e}(C);return J===this.decode.FLATE_DECODE&&(te="/Predictor "+se+" "),te+="/Colors "+N+" /BitsPerComponent "+M+" /Columns "+P.width,(this.__addimage__.isArrayBuffer(v)||this.__addimage__.isArrayBufferView(v))&&(v=this.__addimage__.arrayBufferToBinaryString(v)),(H&&this.__addimage__.isArrayBuffer(H)||this.__addimage__.isArrayBufferView(H))&&(H=this.__addimage__.arrayBufferToBinaryString(H)),{alias:T,data:v,index:y,filter:J,decodeParameters:te,transparency:R,palette:z,sMask:H,predictor:se,width:P.width,height:P.height,bitsPerComponent:M,colorSpace:k}}}})(ga.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new $mt(e),l=s.width,c=s.height,a=[];s.decodeAndBlitFrameRGBA(0,a);var f={data:a,width:l,height:c},p=new MP(100).encode(f,100);return t.processJPEG.call(this,p,n,r,i)},t.processGIF87A=t.processGIF89A}(ga.API),Pp.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Pp.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){uo.log("bit decode error:"+n)}},Pp.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+8*i*4,c=0;c<8&&8*i+c<this.width;c++){var a=this.palette[s>>7-c&1];this.data[l+4*c]=a.blue,this.data[l+4*c+1]=a.green,this.data[l+4*c+2]=a.red,this.data[l+4*c+3]=255}n!==0&&(this.pos+=4-n)}},Pp.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+2*i*4,c=s>>4,a=15&s,f=this.palette[c];if(this.data[l]=f.blue,this.data[l+1]=f.green,this.data[l+2]=f.red,this.data[l+3]=255,2*i+1>=this.width)break;f=this.palette[a],this.data[l+4]=f.blue,this.data[l+4+1]=f.green,this.data[l+4+2]=f.red,this.data[l+4+3]=255}e!==0&&(this.pos+=4-e)}},Pp.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var l=this.palette[i];this.data[s]=l.red,this.data[s+1]=l.green,this.data[s+2]=l.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Pp.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&e)/e*255|0,c=(s>>5&e)/e*255|0,a=(s>>10&e)/e*255|0,f=s>>15?255:0,p=r*this.width*4+4*i;this.data[p]=a,this.data[p+1]=c,this.data[p+2]=l,this.data[p+3]=f}this.pos+=t}},Pp.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(l&e)/e*255|0,a=(l>>5&n)/n*255|0,f=(l>>11)/e*255|0,p=i*this.width*4+4*s;this.data[p]=f,this.data[p+1]=a,this.data[p+2]=c,this.data[p+3]=255}this.pos+=t}},Pp.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*n;this.data[l]=s,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=255}this.pos+=this.width%4}},Pp.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*n;this.data[c]=s,this.data[c+1]=i,this.data[c+2]=r,this.data[c+3]=l}},Pp.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new Pp(e,!1),l=s.width,c=s.height,a={data:s.getData(),width:l,height:c},f=new MP(100).encode(a,100);return t.processJPEG.call(this,f,n,r,i)}}(ga.API),ZX.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new ZX(e),l=s.width,c=s.height,a={data:s.getData(),width:l,height:c},f=new MP(100).encode(a,100);return t.processJPEG.call(this,f,n,r,i)}}(ga.API),ga.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),l=new Uint8Array(i/4),c=0,a=0,f=0;f<i;f+=4){var p=r[f],m=r[f+1],v=r[f+2],y=r[f+3];s[c++]=p,s[c++]=m,s[c++]=v,l[a++]=y}var T=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:T,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ga.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Zb=ga.API,JS=Zb.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),l=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:i.metadata.Unicode.widths,a=c.fof?c.fof:1,f=e.kerning?e.kerning:i.metadata.Unicode.kerning,p=f.fof?f.fof:1,m=e.doKerning!==!1,v=0,y=t.length,T=0,C=c[0]||a,k=[];for(n=0;n<y;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?k.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+l*(1e3/s)||0)/1e3):(v=m&&ys(f[r])==="object"&&!isNaN(parseInt(f[r][T],10))?f[r][T]/p:0,k.push((c[r]||C)/a+v)),T=r;return k},WX=Zb.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Zb.processArabic&&(t=Zb.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:JS.apply(this,arguments).reduce(function(s,l){return s+l},0)},qX=function(t,e,n,r){for(var i=[],s=0,l=t.length,c=0;s!==l&&c+e[s]<n;)c+=e[s],s++;i.push(t.slice(0,s));var a=s;for(c=0;s!==l;)c+e[s]>r&&(i.push(t.slice(a,s)),c=0,a=s),c+=e[s],s++;return a!==s&&i.push(t.slice(a,s)),i},YX=function(t,e,n){n||(n={});var r,i,s,l,c,a,f,p=[],m=[p],v=n.textIndent||0,y=0,T=0,C=t.split(" "),k=JS.apply(this,[" ",n])[0];if(a=n.lineIndent===-1?C[0].length+2:n.lineIndent||0){var M=Array(a).join(" "),P=[];C.map(function(N){(N=N.split(/\s*\n/)).length>1?P=P.concat(N.map(function(z,H){return(H&&z.length?`
`:"")+z})):P.push(N[0])}),C=P,a=WX.apply(this,[M,n])}for(s=0,l=C.length;s<l;s++){var R=0;if(r=C[s],a&&r[0]==`
`&&(r=r.substr(1),R=1),v+y+(T=(i=JS.apply(this,[r,n])).reduce(function(N,z){return N+z},0))>e||R){if(T>e){for(c=qX.apply(this,[r,i,e-(v+y),e]),p.push(c.shift()),p=[c.pop()];c.length;)m.push([c.shift()]);T=i.slice(r.length-(p[0]?p[0].length:0)).reduce(function(N,z){return N+z},0)}else p=[r];m.push(p),v=T+a,y=k}else p.push(r),v+=y+T,y=k}return f=a?function(N,z){return(z?M:"")+N.join(" ")}:function(N){return N.join(" ")},m.map(f)},Zb.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var m=this.internal.getFont(p.fontName,p.fontStyle);return m.metadata.Unicode?{widths:m.metadata.Unicode.widths||{0:1},kerning:m.metadata.Unicode.kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var l=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var c,a,f=[];for(c=0,a=r.length;c<a;c++)f=f.concat(YX.apply(this,[r[c],l,s]));return f},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(m){return"0x"+parseInt(m,10).toString(16)},l=t.__fontmetrics__.compress=function(m){var v,y,T,C,k=["{"];for(var M in m){if(v=m[M],isNaN(parseInt(M,10))?y="'"+M+"'":(M=parseInt(M,10),y=(y=s(M).slice(2)).slice(0,-1)+r[y.slice(-1)]),typeof v=="number")v<0?(T=s(v).slice(3),C="-"):(T=s(v).slice(2),C=""),T=C+T.slice(0,-1)+r[T.slice(-1)];else{if(ys(v)!=="object")throw new Error("Don't know what to do with value type "+ys(v)+".");T=l(v)}k.push(y+T)}return k.push("}"),k.join("")},c=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var v,y,T,C,k={},M=1,P=k,R=[],N="",z="",H=m.length-1,j=1;j<H;j+=1)(C=m[j])=="'"?v?(T=v.join(""),v=void 0):v=[]:v?v.push(C):C=="{"?(R.push([P,T]),P={},T=void 0):C=="}"?((y=R.pop())[0][y[1]]=P,T=void 0,P=y[0]):C=="-"?M=-1:T===void 0?n.hasOwnProperty(C)?(N+=n[C],T=parseInt(N,16)*M,M=1,N=""):N+=C:n.hasOwnProperty(C)?(z+=n[C],P[T]=parseInt(z,16)*M,M=1,T=void 0,z=""):z+=C;return k},a={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:a,"Courier-Bold":a,"Courier-BoldOblique":a,"Courier-Oblique":a,Helvetica:a,"Helvetica-Bold":a,"Helvetica-BoldOblique":a,"Helvetica-Oblique":a,"Times-Roman":a,"Times-Bold":a,"Times-BoldItalic":a,"Times-Italic":a}},p={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var v=m.font,y=p.Unicode[v.postScriptName];y&&(v.metadata.Unicode={},v.metadata.Unicode.widths=y.widths,v.metadata.Unicode.kerning=y.kerning);var T=f.Unicode[v.postScriptName];T&&(v.metadata.Unicode.encoding=T,v.encoding=T.codePages[0])}])}(ga.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(l,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(DC(c)),l.metadata=t.API.TTFFont.open(c),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(i,r)}}])}(ga),function(t){function e(){return(ua.canvg?Promise.resolve(ua.canvg):Promise.resolve().then(()=>ZTt)).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}ga.API.addSvgAsImage=function(n,r,i,s,l,c,a,f){if(isNaN(r)||isNaN(i))throw uo.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(l))throw uo.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=s,p.height=l;var m=p.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,p.width,p.height);var v={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return e().then(function(T){return T.fromString(m,n,v)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(T){return T.render(v)}).then(function(){y.addImage(p.toDataURL("image/jpeg",1),r,i,s,l,a,f)})}}(),ga.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},ga.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(l),a=[],f=0,p=0,m=0;function v(T,C){var k,M=!1;for(k=0;k<T.length;k+=1)T[k]===C&&(M=!0);return M}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var y=c.length;for(m=0;m<y;m+=1)n[c[m]].value=n[c[m]].defaultValue,n[c[m]].explicitSet=!1}if(ys(t)==="object"){for(i in t)if(s=t[i],v(c,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&v(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(f=0;f<s.length;f+=1)if(r=!0,s[f].length===1&&typeof s[f][0]=="number")a.push(String(s[f]-1));else if(s[f].length>1){for(p=0;p<s[f].length;p+=1)typeof s[f][p]!="number"&&(r=!1);r===!0&&a.push([s[f][0]-1,s[f][1]-1].join(" "))}n[i].value="["+a.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var T,C=[];for(T in n)n[T].explicitSet===!0&&(n[T].type==="name"?C.push("/"+T+" /"+n[T].value):C.push("/"+T+" "+n[T].value));C.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+C.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),a=unescape(encodeURIComponent("</x:xmpmeta>")),f=s.length+l.length+c.length+i.length+a.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(i+s+l+c+a),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(ga.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,l){for(var c,a=l.metadata.Unicode.widths,f=["","0","00","000","0000"],p=[""],m=0,v=s.length;m<v;++m){if(c=l.metadata.characterToGlyph(s.charCodeAt(m)),l.metadata.glyIdsUsed.push(c),l.metadata.toUnicode[c]=s.charCodeAt(m),a.indexOf(c)==-1&&(a.push(c),a.push([parseInt(l.metadata.widthOfGlyph(c),10)])),c=="0")return p.join("");c=c.toString(16),p.push(f[4-c.length],c)}return p.join("")},r=function(s){var l,c,a,f,p,m,v;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,a=[],m=0,v=(c=Object.keys(s).sort(function(y,T){return y-T})).length;m<v;m++)l=c[m],a.length>=100&&(p+=`
`+a.length+` beginbfchar
`+a.join(`
`)+`
endbfchar`,a=[]),s[l]!==void 0&&s[l]!==null&&typeof s[l].toString=="function"&&(f=("0000"+s[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),a.push("<"+l+"><"+f+">"));return a.length&&(p+=`
`+a.length+` beginbfchar
`+a.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(l){var c=l.font,a=l.out,f=l.newObject,p=l.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="Identity-H"){for(var m=c.metadata.Unicode.widths,v=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),y="",T=0;T<v.length;T++)y+=String.fromCharCode(v[T]);var C=f();p({data:y,addLength1:!0,objectId:C}),a("endobj");var k=f();p({data:r(c.metadata.toUnicode),addLength1:!0,objectId:k}),a("endobj");var M=f();a("<<"),a("/Type /FontDescriptor"),a("/FontName /"+ww(c.fontName)),a("/FontFile2 "+C+" 0 R"),a("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),a("/Flags "+c.metadata.flags),a("/StemV "+c.metadata.stemV),a("/ItalicAngle "+c.metadata.italicAngle),a("/Ascent "+c.metadata.ascender),a("/Descent "+c.metadata.decender),a("/CapHeight "+c.metadata.capHeight),a(">>"),a("endobj");var P=f();a("<<"),a("/Type /Font"),a("/BaseFont /"+ww(c.fontName)),a("/FontDescriptor "+M+" 0 R"),a("/W "+t.API.PDFObject.convert(m)),a("/CIDToGIDMap /Identity"),a("/DW 1000"),a("/Subtype /CIDFontType2"),a("/CIDSystemInfo"),a("<<"),a("/Supplement 0"),a("/Registry (Adobe)"),a("/Ordering ("+c.encoding+")"),a(">>"),a(">>"),a("endobj"),c.objectNumber=f(),a("<<"),a("/Type /Font"),a("/Subtype /Type0"),a("/ToUnicode "+k+" 0 R"),a("/BaseFont /"+ww(c.fontName)),a("/Encoding /"+c.encoding),a("/DescendantFonts ["+P+" 0 R]"),a(">>"),a("endobj"),c.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(l){var c=l.font,a=l.out,f=l.newObject,p=l.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var m=c.metadata.rawData,v="",y=0;y<m.length;y++)v+=String.fromCharCode(m[y]);var T=f();p({data:v,addLength1:!0,objectId:T}),a("endobj");var C=f();p({data:r(c.metadata.toUnicode),addLength1:!0,objectId:C}),a("endobj");var k=f();a("<<"),a("/Descent "+c.metadata.decender),a("/CapHeight "+c.metadata.capHeight),a("/StemV "+c.metadata.stemV),a("/Type /FontDescriptor"),a("/FontFile2 "+T+" 0 R"),a("/Flags 96"),a("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),a("/FontName /"+ww(c.fontName)),a("/ItalicAngle "+c.metadata.italicAngle),a("/Ascent "+c.metadata.ascender),a(">>"),a("endobj"),c.objectNumber=f();for(var M=0;M<c.metadata.hmtx.widths.length;M++)c.metadata.hmtx.widths[M]=parseInt(c.metadata.hmtx.widths[M]*(1e3/c.metadata.head.unitsPerEm));a("<</Subtype/TrueType/Type/Font/ToUnicode "+C+" 0 R/BaseFont/"+ww(c.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),a("endobj"),c.isAlreadyPutted=!0}})(s)}]);var i=function(s){var l,c=s.text||"",a=s.x,f=s.y,p=s.options||{},m=s.mutex||{},v=m.pdfEscape,y=m.activeFontKey,T=m.fonts,C=y,k="",M=0,P="",R=T[C].encoding;if(T[C].encoding!=="Identity-H")return{text:c,x:a,y:f,options:p,mutex:m};for(P=c,C=y,Array.isArray(c)&&(P=c[0]),M=0;M<P.length;M+=1)T[C].metadata.hasOwnProperty("cmap")&&(l=T[C].metadata.cmap.unicode.codeMap[P[M].charCodeAt(0)]),l||P[M].charCodeAt(0)<256&&T[C].metadata.hasOwnProperty("Unicode")?k+=P[M]:k+="";var N="";return parseInt(C.slice(1))<14||R==="WinAnsiEncoding"?N=v(k,C).split("").map(function(z){return z.charCodeAt(0).toString(16)}).join(""):R==="Identity-H"&&(N=n(k,T[C])),m.isHex=!0,{text:N,x:a,y:f,options:p,mutex:m}};e.events.push(["postProcessText",function(s){var l=s.text||"",c=[],a={text:l,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(l)){var f=0;for(f=0;f<l.length;f+=1)Array.isArray(l[f])&&l[f].length===3?c.push([i(Object.assign({},a,{text:l[f][0]})).text,l[f][1],l[f][2]]):c.push(i(Object.assign({},a,{text:l[f]})).text);s.text=c}else s.text=i(Object.assign({},a,{text:l})).text}])}(ga),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ga.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,l,c,a,f,p,m=e,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],T={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},C={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],M=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),P=!1,R=0;this.__bidiEngine__={};var N=function(q){var W=q.charCodeAt(),ee=W>>8,he=C[ee];return he!==void 0?m[256*he+(255&W)]:ee===252||ee===253?"AL":M.test(ee)?"L":ee===8?"R":"N"},z=function(q){for(var W,ee=0;ee<q.length;ee++){if((W=N(q.charAt(ee)))==="L")return!1;if(W==="R")return!0}return!1},H=function(q,W,ee,he){var J,te,ne,ce,ue=W[he];switch(ue){case"L":case"R":P=!1;break;case"N":case"AN":break;case"EN":P&&(ue="AN");break;case"AL":P=!0,ue="R";break;case"WS":ue="N";break;case"CS":he<1||he+1>=W.length||(J=ee[he-1])!=="EN"&&J!=="AN"||(te=W[he+1])!=="EN"&&te!=="AN"?ue="N":P&&(te="AN"),ue=te===J?te:"N";break;case"ES":ue=(J=he>0?ee[he-1]:"B")==="EN"&&he+1<W.length&&W[he+1]==="EN"?"EN":"N";break;case"ET":if(he>0&&ee[he-1]==="EN"){ue="EN";break}if(P){ue="N";break}for(ne=he+1,ce=W.length;ne<ce&&W[ne]==="ET";)ne++;ue=ne<ce&&W[ne]==="EN"?"EN":"N";break;case"NSM":if(l&&!c){for(ce=W.length,ne=he+1;ne<ce&&W[ne]==="NSM";)ne++;if(ne<ce){var ye=q[he],Ee=ye>=1425&&ye<=2303||ye===64286;if(J=W[ne],Ee&&(J==="R"||J==="AL")){ue="R";break}}}ue=he<1||(J=W[he-1])==="B"?"N":ee[he-1];break;case"B":P=!1,i=!0,ue=R;break;case"S":s=!0,ue="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":P=!1;break;case"BN":ue="N"}return ue},j=function(q,W,ee){var he=q.split("");return ee&&Q(he,ee,{hiLevel:R}),he.reverse(),W&&W.reverse(),he.join("")},Q=function(q,W,ee){var he,J,te,ne,ce,ue=-1,ye=q.length,Ee=0,se=[],oe=R?y:v,_e=[];for(P=!1,i=!1,s=!1,J=0;J<ye;J++)_e[J]=N(q[J]);for(te=0;te<ye;te++){if(ce=Ee,se[te]=H(q,_e,se,te),he=240&(Ee=oe[ce][T[se[te]]]),Ee&=15,W[te]=ne=oe[Ee][5],he>0)if(he===16){for(J=ue;J<te;J++)W[J]=1;ue=-1}else ue=-1;if(oe[Ee][6])ue===-1&&(ue=te);else if(ue>-1){for(J=ue;J<te;J++)W[J]=ne;ue=-1}_e[te]==="B"&&(W[te]=0),ee.hiLevel|=ne}s&&function(Ue,Le,be){for(var Re=0;Re<be;Re++)if(Ue[Re]==="S"){Le[Re]=R;for(var Qe=Re-1;Qe>=0&&Ue[Qe]==="WS";Qe--)Le[Qe]=R}}(_e,W,ye)},G=function(q,W,ee,he,J){if(!(J.hiLevel<q)){if(q===1&&R===1&&!i)return W.reverse(),void(ee&&ee.reverse());for(var te,ne,ce,ue,ye=W.length,Ee=0;Ee<ye;){if(he[Ee]>=q){for(ce=Ee+1;ce<ye&&he[ce]>=q;)ce++;for(ue=Ee,ne=ce-1;ue<ne;ue++,ne--)te=W[ue],W[ue]=W[ne],W[ne]=te,ee&&(te=ee[ue],ee[ue]=ee[ne],ee[ne]=te);Ee=ce}Ee++}}},ie=function(q,W,ee){var he=q.split(""),J={hiLevel:R};return ee||(ee=[]),Q(he,ee,J),function(te,ne,ce){if(ce.hiLevel!==0&&p)for(var ue,ye=0;ye<te.length;ye++)ne[ye]===1&&(ue=k.indexOf(te[ye]))>=0&&(te[ye]=k[ue+1])}(he,ee,J),G(2,he,W,ee,J),G(1,he,W,ee,J),he.join("")};return this.__bidiEngine__.doBidiReorder=function(q,W,ee){if(function(J,te){if(te)for(var ne=0;ne<J.length;ne++)te[ne]=ne;c===void 0&&(c=z(J)),f===void 0&&(f=z(J))}(q,W),l||!a||f)if(l&&a&&c^f)R=c?1:0,q=j(q,W,ee);else if(!l&&a&&f)R=c?1:0,q=ie(q,W,ee),q=j(q,W);else if(!l||c||a||f){if(l&&!a&&c^f)q=j(q,W),c?(R=0,q=ie(q,W,ee)):(R=1,q=ie(q,W,ee),q=j(q,W));else if(l&&c&&!a&&f)R=1,q=ie(q,W,ee),q=j(q,W);else if(!l&&!a&&c^f){var he=p;c?(R=1,q=ie(q,W,ee),R=0,p=!1,q=ie(q,W,ee),p=he):(R=0,q=ie(q,W,ee),q=j(q,W),R=1,p=!1,q=ie(q,W,ee),p=he,q=j(q,W))}}else R=0,q=ie(q,W,ee);else R=c?1:0,q=ie(q,W,ee);return q},this.__bidiEngine__.setOptions=function(q){q&&(l=q.isInputVisual,a=q.isOutputVisual,c=q.isInputRtl,f=q.isOutputRtl,p=q.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,s=(r.x,r.y,r.options||{}),l=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var c=0;for(l=[],c=0;c<i.length;c+=1)Object.prototype.toString.call(i[c])==="[object Array]"?l.push([n.doBidiReorder(i[c][0]),i[c][1],i[c][2]]):l.push([n.doBidiReorder(i[c])]);r.text=l}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(ga),ga.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new x1(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new ngt(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Vmt(this.contents),this.head=new Qmt(this),this.name=new qmt(this),this.cmap=new qhe(this),this.toUnicode={},this.hhea=new jmt(this),this.maxp=new Ymt(this),this.hmtx=new Xmt(this),this.post=new Kmt(this),this.os2=new Gmt(this),this.loca=new tgt(this),this.glyf=new Zmt(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,c,a,f;for(f=[],l=0,c=(a=this.bbox).length;l<c;l++)e=a[l],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,l,c;for(l=0,s=0,c=(e=""+e).length;0<=c?s<c:s>c;s=0<=c?++s:--s)i=e.charCodeAt(s),l+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return l*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var pA,x1=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,l,c,a;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),l=this.readByte(),c=this.readByte(),a=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^l)+256*(255^c)+(255^a)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*l+256*c+a},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),Vmt=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,l,c,a,f,p,m,v,y,T,C;for(C in y=Object.keys(n).length,a=Math.log(2),m=16*Math.floor(Math.log(y)/a),l=Math.floor(m/a),p=16*y-m,(i=new x1).writeInt(this.scalarType),i.writeShort(y),i.writeShort(m),i.writeShort(l),i.writeShort(p),s=16*y,f=i.pos+s,c=null,T=[],n)for(v=n[C],i.writeString(C),i.writeInt(t(v)),i.writeInt(f),i.writeInt(v.length),T=T.concat(v),C==="head"&&(c=f),f+=v.length;f%4;)T.push(0),f++;return i.write(T),r=2981146554-t(i.data),i.pos=c+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,l;for(n=Yhe.call(n);n.length%4;)n.push(0);for(s=new x1(n),i=0,r=0,l=n.length;r<l;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),Hmt={}.hasOwnProperty,Nm=function(t,e){for(var n in e)Hmt.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};pA=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var Qmt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Nm(e,pA),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new x1).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),JX=function(){function t(e,n){var r,i,s,l,c,a,f,p,m,v,y,T,C,k,M,P,R;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(a=0;a<256;++a)this.codeMap[a]=e.readByte();break;case 4:for(y=e.readUInt16(),v=y/2,e.pos+=6,s=function(){var N,z;for(z=[],a=N=0;0<=v?N<v:N>v;a=0<=v?++N:--N)z.push(e.readUInt16());return z}(),e.pos+=2,C=function(){var N,z;for(z=[],a=N=0;0<=v?N<v:N>v;a=0<=v?++N:--N)z.push(e.readUInt16());return z}(),f=function(){var N,z;for(z=[],a=N=0;0<=v?N<v:N>v;a=0<=v?++N:--N)z.push(e.readUInt16());return z}(),p=function(){var N,z;for(z=[],a=N=0;0<=v?N<v:N>v;a=0<=v?++N:--N)z.push(e.readUInt16());return z}(),i=(this.length-e.pos+this.offset)/2,c=function(){var N,z;for(z=[],a=N=0;0<=i?N<i:N>i;a=0<=i?++N:--N)z.push(e.readUInt16());return z}(),a=M=0,R=s.length;M<R;a=++M)for(k=s[a],r=P=T=C[a];T<=k?P<=k:P>=k;r=T<=k?++P:--P)p[a]===0?l=r+f[a]:(l=c[p[a]/2+(r-T)-(v-a)]||0)!==0&&(l+=f[a]),this.codeMap[r]=65535&l}e.pos=m}return t.encode=function(e,n){var r,i,s,l,c,a,f,p,m,v,y,T,C,k,M,P,R,N,z,H,j,Q,G,ie,q,W,ee,he,J,te,ne,ce,ue,ye,Ee,se,oe,_e,Ue,Le,be,Re,Qe,Je,nt,Ve;switch(he=new x1,l=Object.keys(e).sort(function(ke,Ge){return ke-Ge}),n){case"macroman":for(C=0,k=function(){var ke=[];for(T=0;T<256;++T)ke.push(0);return ke}(),P={0:0},s={},J=0,ue=l.length;J<ue;J++)P[Qe=e[i=l[J]]]==null&&(P[Qe]=++C),s[i]={old:e[i],new:P[e[i]]},k[i]=P[e[i]];return he.writeUInt16(1),he.writeUInt16(0),he.writeUInt32(12),he.writeUInt16(0),he.writeUInt16(262),he.writeUInt16(0),he.write(k),{charMap:s,subtable:he.data,maxGlyphID:C+1};case"unicode":for(W=[],m=[],R=0,P={},r={},M=f=null,te=0,ye=l.length;te<ye;te++)P[z=e[i=l[te]]]==null&&(P[z]=++R),r[i]={old:z,new:P[z]},c=P[z]-i,M!=null&&c===f||(M&&m.push(M),W.push(i),f=c),M=i;for(M&&m.push(M),m.push(65535),W.push(65535),ie=2*(G=W.length),Q=2*Math.pow(Math.log(G)/Math.LN2,2),v=Math.log(Q/2)/Math.LN2,j=2*G-Q,a=[],H=[],y=[],T=ne=0,Ee=W.length;ne<Ee;T=++ne){if(q=W[T],p=m[T],q===65535){a.push(0),H.push(0);break}if(q-(ee=r[q].new)>=32768)for(a.push(0),H.push(2*(y.length+G-T)),i=ce=q;q<=p?ce<=p:ce>=p;i=q<=p?++ce:--ce)y.push(r[i].new);else a.push(ee-q),H.push(0)}for(he.writeUInt16(3),he.writeUInt16(1),he.writeUInt32(12),he.writeUInt16(4),he.writeUInt16(16+8*G+2*y.length),he.writeUInt16(0),he.writeUInt16(ie),he.writeUInt16(Q),he.writeUInt16(v),he.writeUInt16(j),be=0,se=m.length;be<se;be++)i=m[be],he.writeUInt16(i);for(he.writeUInt16(0),Re=0,oe=W.length;Re<oe;Re++)i=W[Re],he.writeUInt16(i);for(Je=0,_e=a.length;Je<_e;Je++)c=a[Je],he.writeUInt16(c);for(nt=0,Ue=H.length;nt<Ue;nt++)N=H[nt],he.writeUInt16(N);for(Ve=0,Le=y.length;Ve<Le;Ve++)C=y[Ve],he.writeUInt16(C);return{charMap:r,subtable:he.data,maxGlyphID:R+1}}},t}(),qhe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Nm(e,pA),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new JX(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=JX.encode(n,r),(s=new x1).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),jmt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Nm(e,pA),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),Gmt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Nm(e,pA),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),Kmt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Nm(e,pA),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var l;for(i=n.readUInt16(),this.glyphNameIndex=[],l=0;0<=i?l<i:l>i;l=0<=i?++l:--l)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var c,a,f;for(f=[],l=c=0,a=this.file.maxp.numGlyphs;0<=a?c<a:c>a;l=0<=a?++c:--c)f.push(n.readUInt32());return f}).call(this)}},e}(),Wmt=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},qmt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Nm(e,pA),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,l,c,a,f,p,m,v,y;for(n.pos=this.offset,n.readShort(),r=n.readShort(),a=n.readShort(),i=[],l=0;0<=r?l<r:l>r;l=0<=r?++l:--l)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+a+n.readShort()});for(f={},l=m=0,v=i.length;m<v;l=++m)s=i[l],n.pos=s.offset,p=n.readString(s.length),c=new Wmt(p,s),f[y=s.nameID]==null&&(f[y]=[]),f[s.nameID].push(c);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},e}(),Ymt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Nm(e,pA),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),Xmt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Nm(e,pA),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,l,c,a,f;for(n.pos=this.offset,this.metrics=[],r=0,a=this.file.hhea.numberOfMetrics;0<=a?r<a:r>a;r=0<=a?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,m;for(m=[],r=p=0;0<=s?p<s:p>s;r=0<=s?++p:--p)m.push(n.readInt16());return m}(),this.widths=(function(){var p,m,v,y;for(y=[],p=0,m=(v=this.metrics).length;p<m;p++)l=v[p],y.push(l.advance);return y}).call(this),i=this.widths[this.widths.length-1],f=[],r=c=0;0<=s?c<s:c>s;r=0<=s?++c:--c)f.push(this.widths.push(i));return f},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),Yhe=[].slice,Zmt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Nm(e,pA),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,l,c,a,f,p,m,v;return n in this.cache?this.cache[n]:(l=this.file.loca,r=this.file.contents,i=l.indexOf(n),(s=l.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,c=(a=new x1(r.read(s))).readShort(),p=a.readShort(),v=a.readShort(),f=a.readShort(),m=a.readShort(),this.cache[n]=c===-1?new egt(a,p,v,f,m):new Jmt(a,c,p,v,f,m),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,l,c,a,f;for(c=[],l=[],a=0,f=r.length;a<f;a++)s=n[r[a]],l.push(c.length),s&&(c=c.concat(s.encode(i)));return l.push(c.length),{table:c,offsets:l}},e}(),Jmt=function(){function t(e,n,r,i,s,l){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=l,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),egt=function(){function t(e,n,r,i,s){var l,c;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;c=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&c;)l.pos+=1&c?4:2,128&c?l.pos+=8:64&c?l.pos+=4:8&c&&(l.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new x1(Yhe.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),tgt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Nm(e,pA),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,l;for(l=[],i=0,s=this.length;i<s;i+=2)l.push(2*n.readUInt16());return l}).call(this):(function(){var s,l;for(l=[],i=0,s=this.length;i<s;i+=4)l.push(n.readUInt32());return l}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,l=0,c=0;c<i.length;++c)if(i[c]=s,l<r.length&&r[l]==c){++l,i[c]=s;var a=this.offsets[c],f=this.offsets[c+1]-a;f>0&&(s+=f)}for(var p=new Array(4*i.length),m=0;m<i.length;++m)p[4*m+3]=255&i[m],p[4*m+2]=(65280&i[m])>>8,p[4*m+1]=(16711680&i[m])>>16,p[4*m]=(4278190080&i[m])>>24;return p},e}(),ngt=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,l,c,a;for(i={},l=0,c=e.length;l<c;l++)i[s=e[l]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in a=this.glyphsFor(n))r=a[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,l,c,a,f,p,m,v,y,T,C,k,M;for(i in r=qhe.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(e),y={0:0},M=r.charMap)y[(a=M[i]).old]=a.new;for(T in v=r.maxGlyphID,l)T in y||(y[T]=v++);return p=function(P){var R,N;for(R in N={},P)N[P[R]]=R;return N}(y),m=Object.keys(p).sort(function(P,R){return P-R}),C=function(){var P,R,N;for(N=[],P=0,R=m.length;P<R;P++)c=m[P],N.push(p[c]);return N}(),s=this.font.glyf.encode(l,C,y),f=this.font.loca.encode(s.offsets,C),k={cmap:this.font.cmap.raw(),glyf:s.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},t}();ga.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,l;if(Array.isArray(n))return"["+function(){var c,a,f;for(f=[],c=0,a=n.length;c<a;c++)r=n[c],f.push(e.convert(r));return f}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)l=n[i],s.push("/"+i+" "+e.convert(l));return s.push(">>"),s.join(`
`)}return""+n},e}();var rgt={exports:{}};/*! dom-to-image-more 14-02-2024 */(function(t,e){(function(n){const r=function(){let j=0;return{escape:function(ee){return ee.replace(/([.*+?^${}()|[]\/\\])/g,"\\$1")},isDataUrl:function(ee){return ee.search(/^(data:)/)!==-1},canvasToBlob:function(ee){return ee.toBlob?new Promise(function(he){ee.toBlob(he)}):function(he){return new Promise(function(J){var te=y(he.toDataURL().split(",")[1]),ne=te.length,ce=new Uint8Array(ne);for(let ue=0;ue<ne;ue++)ce[ue]=te.charCodeAt(ue);J(new Blob([ce],{type:"image/png"}))})}(ee)},resolveUrl:function(ee,he){var J=document.implementation.createHTMLDocument(),te=J.createElement("base"),ne=(J.head.appendChild(te),J.createElement("a"));return J.body.appendChild(ne),te.href=he,ne.href=ee,ne.href},getAndEncode:function(ee){let he=p.impl.urlCache.find(function(J){return J.url===ee});return he||(he={url:ee,promise:null},p.impl.urlCache.push(he)),he.promise===null&&(p.impl.options.cacheBust&&(ee+=(/\?/.test(ee)?"&":"?")+new Date().getTime()),he.promise=new Promise(function(J){const te=p.impl.options.httpTimeout,ne=new XMLHttpRequest;if(ne.onreadystatechange=function(){if(ne.readyState===4)if(300<=ne.status)ue?J(ue):ye(`cannot fetch resource: ${ee}, status: `+ne.status);else{const Ee=new FileReader;Ee.onloadend=function(){J(Ee.result)},Ee.readAsDataURL(ne.response)}},ne.ontimeout=function(){ue?J(ue):ye(`timeout of ${te}ms occured while fetching resource: `+ee)},ne.responseType="blob",ne.timeout=te,0<p.impl.options.useCredentialsFilters.length&&(p.impl.options.useCredentials=0<p.impl.options.useCredentialsFilters.filter(Ee=>0<=ee.search(Ee)).length),p.impl.options.useCredentials&&(ne.withCredentials=!0),p.impl.options.corsImg&&ee.indexOf("http")===0&&ee.indexOf(window.location.origin)===-1){var ce=(p.impl.options.corsImg.method||"GET").toUpperCase()==="POST"?"POST":"GET";ne.open(ce,(p.impl.options.corsImg.url||"").replace("#{cors}",ee),!0);let Ee=!1;const se=p.impl.options.corsImg.headers||{},oe=(Object.keys(se).forEach(function(_e){se[_e].indexOf("application/json")!==-1&&(Ee=!0),ne.setRequestHeader(_e,se[_e])}),function(_e){try{return JSON.parse(JSON.stringify(_e))}catch{ye("corsImg.data is missing or invalid")}}(p.impl.options.corsImg.data||""));Object.keys(oe).forEach(function(_e){typeof oe[_e]=="string"&&(oe[_e]=oe[_e].replace("#{cors}",ee))}),ne.send(Ee?JSON.stringify(oe):oe)}else ne.open("GET",ee,!0),ne.send();let ue;function ye(Ee){console.error(Ee),J("")}p.impl.options.imagePlaceholder&&(ce=p.impl.options.imagePlaceholder.split(/,/))&&ce[1]&&(ue=ce[1])})),he.promise},uid:function(){return"u"+("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)+j++},delay:function(ee){return function(he){return new Promise(function(J){setTimeout(function(){J(he)},ee)})}},asArray:function(ee){var he=[],J=ee.length;for(let te=0;te<J;te++)he.push(ee[te]);return he},escapeXhtml:function(ee){return ee.replace(/%/g,"%25").replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(ee){return ee!=="data:,"?new Promise(function(he,J){const te=new Image;p.impl.options.useCredentials&&(te.crossOrigin="use-credentials"),te.onload=function(){window&&window.requestAnimationFrame?window.requestAnimationFrame(function(){he(te)}):he(te)},te.onerror=J,te.src=ee}):Promise.resolve()},width:function(ee){var he=W(ee,"width");if(!isNaN(he))return he;var he=W(ee,"border-left-width"),J=W(ee,"border-right-width");return ee.scrollWidth+he+J},height:function(ee){var he=W(ee,"height");if(!isNaN(he))return he;var he=W(ee,"border-top-width"),J=W(ee,"border-bottom-width");return ee.scrollHeight+he+J},getWindow:Q,isElement:q,isElementHostForOpenShadowRoot:function(ee){return q(ee)&&ee.shadowRoot!==null},isShadowRoot:G,isInShadowRoot:ie,isHTMLElement:function(ee){return ee instanceof Q(ee).HTMLElement},isHTMLCanvasElement:function(ee){return ee instanceof Q(ee).HTMLCanvasElement},isHTMLInputElement:function(ee){return ee instanceof Q(ee).HTMLInputElement},isHTMLImageElement:function(ee){return ee instanceof Q(ee).HTMLImageElement},isHTMLLinkElement:function(ee){return ee instanceof Q(ee).HTMLLinkElement},isHTMLScriptElement:function(ee){return ee instanceof Q(ee).HTMLScriptElement},isHTMLStyleElement:function(ee){return ee instanceof Q(ee).HTMLStyleElement},isHTMLTextAreaElement:function(ee){return ee instanceof Q(ee).HTMLTextAreaElement},isShadowSlotElement:function(ee){return ie(ee)&&ee instanceof Q(ee).HTMLSlotElement},isSVGElement:function(ee){return ee instanceof Q(ee).SVGElement},isSVGRectElement:function(ee){return ee instanceof Q(ee).SVGRectElement},isDimensionMissing:function(ee){return isNaN(ee)||ee<=0}};function Q(ee){return ee=ee?ee.ownerDocument:void 0,(ee?ee.defaultView:void 0)||n||window}function G(ee){return ee instanceof Q(ee).ShadowRoot}function ie(ee){return ee!==null&&Object.prototype.hasOwnProperty.call(ee,"getRootNode")&&G(ee.getRootNode())}function q(ee){return ee instanceof Q(ee).Element}function W(ee,he){if(ee.nodeType===m){let J=v(ee).getPropertyValue(he);if(J.slice(-2)==="px")return J=J.slice(0,-2),parseFloat(J)}return NaN}}(),i=function(){const j=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:function(q,W,ee){return Q(q)?Promise.resolve(q).then(G).then(function(he){let J=Promise.resolve(q);return he.forEach(function(te){J=J.then(function(ne){return ie(ne,te,W,ee)})}),J}):Promise.resolve(q)},shouldProcess:Q,impl:{readUrls:G,inline:ie}};function Q(q){return q.search(j)!==-1}function G(q){for(var W,ee=[];(W=j.exec(q))!==null;)ee.push(W[1]);return ee.filter(function(he){return!r.isDataUrl(he)})}function ie(q,W,ee,he){return Promise.resolve(W).then(function(J){return ee?r.resolveUrl(J,ee):J}).then(he||r.getAndEncode).then(function(J){return q.replace((te=W,new RegExp(`(url\\(['"]?)(${r.escape(te)})(['"]?\\))`,"g")),`$1${J}$3`);var te})}}(),s={resolveAll:function(){return l().then(function(j){return Promise.all(j.map(function(Q){return Q.resolve()}))}).then(function(j){return j.join(`
`)})},impl:{readAll:l}};function l(){return Promise.resolve(r.asArray(document.styleSheets)).then(function(Q){const G=[];return Q.forEach(function(ie){if(Object.prototype.hasOwnProperty.call(Object.getPrototypeOf(ie),"cssRules"))try{r.asArray(ie.cssRules||[]).forEach(G.push.bind(G))}catch(q){console.error("domtoimage: Error while reading CSS rules from "+ie.href,q.toString())}}),G}).then(function(Q){return Q.filter(function(G){return G.type===CSSRule.FONT_FACE_RULE}).filter(function(G){return i.shouldProcess(G.style.getPropertyValue("src"))})}).then(function(Q){return Q.map(j)});function j(Q){return{resolve:function(){var G=(Q.parentStyleSheet||{}).href;return i.inlineAll(Q.cssText,G)},src:function(){return Q.style.getPropertyValue("src")}}}}const c={inlineAll:function j(Q){if(!r.isElement(Q))return Promise.resolve(Q);return G(Q).then(function(){return r.isHTMLImageElement(Q)?a(Q).inline():Promise.all(r.asArray(Q.childNodes).map(function(ie){return j(ie)}))});function G(ie){const q=["background","background-image"],W=q.map(function(ee){const he=ie.style.getPropertyValue(ee),J=ie.style.getPropertyPriority(ee);return he?i.inlineAll(he).then(function(te){ie.style.setProperty(ee,te,J)}):Promise.resolve()});return Promise.all(W).then(function(){return ie})}},impl:{newImage:a}};function a(j){return{inline:function(Q){return r.isDataUrl(j.src)?Promise.resolve():Promise.resolve(j.src).then(Q||r.getAndEncode).then(function(G){return new Promise(function(ie){j.onload=ie,j.onerror=ie,j.src=G})})}}}const f={copyDefaultStyles:!0,imagePlaceholder:void 0,cacheBust:!1,useCredentials:!1,useCredentialsFilters:[],httpTimeout:3e4,styleCaching:"strict",corsImg:void 0,adjustClonedNode:void 0},p={toSvg:T,toPng:function(j,Q){return C(j,Q).then(function(G){return G.toDataURL()})},toJpeg:function(j,Q){return C(j,Q).then(function(G){return G.toDataURL("image/jpeg",(Q?Q.quality:void 0)||1)})},toBlob:function(j,Q){return C(j,Q).then(r.canvasToBlob)},toPixelData:function(j,Q){return C(j,Q).then(function(G){return G.getContext("2d").getImageData(0,0,r.width(j),r.height(j)).data})},toCanvas:C,impl:{fontFaces:s,images:c,util:r,inliner:i,urlCache:[],options:{}}},m=(t.exports=p,(typeof Node<"u"?Node.ELEMENT_NODE:void 0)||1),v=(n!==void 0?n.getComputedStyle:void 0)||(typeof window<"u"?window.getComputedStyle:void 0)||globalThis.getComputedStyle,y=(n!==void 0?n.atob:void 0)||(typeof window<"u"?window.atob:void 0)||globalThis.atob;function T(j,Q){p.impl.util.getWindow(j);var G=Q=Q||{};G.copyDefaultStyles===void 0?p.impl.options.copyDefaultStyles=f.copyDefaultStyles:p.impl.options.copyDefaultStyles=G.copyDefaultStyles,G.imagePlaceholder===void 0?p.impl.options.imagePlaceholder=f.imagePlaceholder:p.impl.options.imagePlaceholder=G.imagePlaceholder,G.cacheBust===void 0?p.impl.options.cacheBust=f.cacheBust:p.impl.options.cacheBust=G.cacheBust,G.corsImg===void 0?p.impl.options.corsImg=f.corsImg:p.impl.options.corsImg=G.corsImg,G.useCredentials===void 0?p.impl.options.useCredentials=f.useCredentials:p.impl.options.useCredentials=G.useCredentials,G.useCredentialsFilters===void 0?p.impl.options.useCredentialsFilters=f.useCredentialsFilters:p.impl.options.useCredentialsFilters=G.useCredentialsFilters,G.httpTimeout===void 0?p.impl.options.httpTimeout=f.httpTimeout:p.impl.options.httpTimeout=G.httpTimeout,G.styleCaching===void 0?p.impl.options.styleCaching=f.styleCaching:p.impl.options.styleCaching=G.styleCaching;let ie=[];return Promise.resolve(j).then(function(q){if(q.nodeType===m)return q;var W=q,ee=q.parentNode,he=document.createElement("span");return ee.replaceChild(he,W),he.append(q),ie.push({parent:ee,child:W,wrapper:he}),he}).then(function(q){return function W(ee,he,J,te){const ne=he.filter;if(ee===k||r.isHTMLScriptElement(ee)||r.isHTMLStyleElement(ee)||r.isHTMLLinkElement(ee)||J!==null&&ne&&!ne(ee))return Promise.resolve();return Promise.resolve(ee).then(ce).then(ue).then(function(_e){return se(_e,Ee(ee))}).then(ye).then(function(_e){return oe(_e,ee)});function ce(_e){return r.isHTMLCanvasElement(_e)?r.makeImage(_e.toDataURL()):_e.cloneNode(!1)}function ue(_e){return he.adjustClonedNode&&he.adjustClonedNode(ee,_e,!1),Promise.resolve(_e)}function ye(_e){return he.adjustClonedNode&&he.adjustClonedNode(ee,_e,!0),Promise.resolve(_e)}function Ee(_e){return r.isElementHostForOpenShadowRoot(_e)?_e.shadowRoot:_e}function se(_e,Ue){const Le=Qe(Ue);let be=Promise.resolve();if(Le.length!==0){const Je=v(Re(Ue));r.asArray(Le).forEach(function(nt){be=be.then(function(){return W(nt,he,Je).then(function(Ve){Ve&&_e.appendChild(Ve)})})})}return be.then(function(){return _e});function Re(Je){return r.isShadowRoot(Je)?Je.host:Je}function Qe(Je){return r.isShadowSlotElement(Je)?Je.assignedNodes():Je.childNodes}}function oe(_e,Ue){return!r.isElement(_e)||r.isShadowSlotElement(Ue)?Promise.resolve(_e):Promise.resolve().then(Le).then(be).then(Re).then(Qe).then(function(){return _e});function Le(){function Je(Ve,ke){ke.font=Ve.font,ke.fontFamily=Ve.fontFamily,ke.fontFeatureSettings=Ve.fontFeatureSettings,ke.fontKerning=Ve.fontKerning,ke.fontSize=Ve.fontSize,ke.fontStretch=Ve.fontStretch,ke.fontStyle=Ve.fontStyle,ke.fontVariant=Ve.fontVariant,ke.fontVariantCaps=Ve.fontVariantCaps,ke.fontVariantEastAsian=Ve.fontVariantEastAsian,ke.fontVariantLigatures=Ve.fontVariantLigatures,ke.fontVariantNumeric=Ve.fontVariantNumeric,ke.fontVariationSettings=Ve.fontVariationSettings,ke.fontWeight=Ve.fontWeight}function nt(Ve,ke){const Ge=v(Ve);Ge.cssText?(ke.style.cssText=Ge.cssText,Je(Ge,ke.style)):(R(he,Ve,Ge,J,ke),J===null&&(["inset-block","inset-block-start","inset-block-end"].forEach(Ne=>ke.style.removeProperty(Ne)),["left","right","top","bottom"].forEach(Ne=>{ke.style.getPropertyValue(Ne)&&ke.style.setProperty(Ne,"0px")})))}nt(Ue,_e)}function be(){const Je=r.uid();function nt(Ve){const ke=v(Ue,Ve),Ge=ke.getPropertyValue("content");if(Ge!==""&&Ge!=="none"){let Ne=function(){const vt=`.${Je}:`+Ve,Lt=(ke.cssText?Et:Vt)();return document.createTextNode(vt+`{${Lt}}`);function Et(){return`${ke.cssText} content: ${Ge};`}function Vt(){return r.asArray(ke).map(qt).join("; ")+";";function qt(tn){const Nt=ke.getPropertyValue(tn),wt=ke.getPropertyPriority(tn)?" !important":"";return tn+": "+Nt+wt}}};const je=_e.getAttribute("class")||"",Ye=(_e.setAttribute("class",je+" "+Je),document.createElement("style"));Ye.appendChild(Ne()),_e.appendChild(Ye)}}[":before",":after"].forEach(function(Ve){nt(Ve)})}function Re(){r.isHTMLTextAreaElement(Ue)&&(_e.innerHTML=Ue.value),r.isHTMLInputElement(Ue)&&_e.setAttribute("value",Ue.value)}function Qe(){r.isSVGElement(_e)&&(_e.setAttribute("xmlns","http://www.w3.org/2000/svg"),r.isSVGRectElement(_e))&&["width","height"].forEach(function(Je){const nt=_e.getAttribute(Je);nt&&_e.style.setProperty(Je,nt)})}}}(q,Q,null)}).then(M).then(P).then(function(q){Q.bgcolor&&(q.style.backgroundColor=Q.bgcolor),Q.width&&(q.style.width=Q.width+"px"),Q.height&&(q.style.height=Q.height+"px"),Q.style&&Object.keys(Q.style).forEach(function(ee){q.style[ee]=Q.style[ee]});let W=null;return typeof Q.onclone=="function"&&(W=Q.onclone(q)),Promise.resolve(W).then(function(){return q})}).then(function(q){let W=Q.width||r.width(q),ee=Q.height||r.height(q);return Promise.resolve(q).then(function(he){return he.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(he)}).then(r.escapeXhtml).then(function(he){var J=(r.isDimensionMissing(W)?' width="100%"':` width="${W}"`)+(r.isDimensionMissing(ee)?' height="100%"':` height="${ee}"`);return`<svg xmlns="http://www.w3.org/2000/svg"${(r.isDimensionMissing(W)?"":` width="${W}"`)+(r.isDimensionMissing(ee)?"":` height="${ee}"`)}><foreignObject${J}>${he}</foreignObject></svg>`}).then(function(he){return"data:image/svg+xml;charset=utf-8,"+he})}).then(function(q){for(;0<ie.length;){var W=ie.pop();W.parent.replaceChild(W.child,W.wrapper)}return q}).then(function(q){return p.impl.urlCache=[],function(){k&&(document.body.removeChild(k),k=null),N&&clearTimeout(N),N=setTimeout(()=>{N=null,z={}},2e4)}(),q})}function C(j,Q){return T(j,Q=Q||{}).then(r.makeImage).then(function(G){var ie=typeof Q.scale!="number"?1:Q.scale,q=function(ee,he){let J=Q.width||r.width(ee),te=Q.height||r.height(ee);return r.isDimensionMissing(J)&&(J=r.isDimensionMissing(te)?300:2*te),r.isDimensionMissing(te)&&(te=J/2),ee=document.createElement("canvas"),ee.width=J*he,ee.height=te*he,Q.bgcolor&&((he=ee.getContext("2d")).fillStyle=Q.bgcolor,he.fillRect(0,0,ee.width,ee.height)),ee}(j,ie),W=q.getContext("2d");return W.msImageSmoothingEnabled=!1,W.imageSmoothingEnabled=!1,G&&(W.scale(ie,ie),W.drawImage(G,0,0)),q})}let k=null;function M(j){return s.resolveAll().then(function(Q){var G;return Q!==""&&(G=document.createElement("style"),j.appendChild(G),G.appendChild(document.createTextNode(Q))),j})}function P(j){return c.inlineAll(j).then(function(){return j})}function R(j,Q,G,ie,q){const W=p.impl.options.copyDefaultStyles?function(he,ne){var ne=function(ue){var ye=[];do if(ue.nodeType===m){var Ee=ue.tagName;if(ye.push(Ee),H.includes(Ee))break}while(ue=ue.parentNode,ue);return ye}(ne),te=function(ue){return(he.styleCaching!=="relaxed"?ue:ue.filter((ye,Ee,se)=>Ee===0||Ee===se.length-1)).join(">")}(ne);if(z[te])return z[te];var ce=function(){if(k)return k.contentWindow;var ue=document.characterSet||"UTF-8",ye=document.doctype,ye=ye?(`<!DOCTYPE ${Ee(ye.name)} ${Ee(ye.publicId)} `+Ee(ye.systemId)).trim()+">":"";return(k=document.createElement("iframe")).id="domtoimage-sandbox-"+r.uid(),k.style.visibility="hidden",k.style.position="fixed",document.body.appendChild(k),function(se,oe,_e,Ue){try{return se.contentWindow.document.write(oe+`<html><head><meta charset='${_e}'><title>${Ue}</title></head><body></body></html>`),se.contentWindow}catch{}var Le=document.createElement("meta");Le.setAttribute("charset",_e);try{var be=document.implementation.createHTMLDocument(Ue),Re=(be.head.appendChild(Le),oe+be.documentElement.outerHTML);return se.setAttribute("srcdoc",Re),se.contentWindow}catch{}return se.contentDocument.head.appendChild(Le),se.contentDocument.title=Ue,se.contentWindow}(k,ye,ue,"domtoimage-sandbox");function Ee(se){var oe;return se?((oe=document.createElement("div")).innerText=se,oe.innerHTML):""}}(),ne=function(ue,ye){let Ee=ue.body;do{var se=ye.pop(),se=ue.createElement(se);Ee.appendChild(se),Ee=se}while(0<ye.length);return Ee.textContent="​",Ee}(ce.document,ne),ce=function(ue,ye){const Ee={},se=ue.getComputedStyle(ye);return r.asArray(se).forEach(function(oe){Ee[oe]=oe==="width"||oe==="height"?"auto":se.getPropertyValue(oe)}),Ee}(ce,ne);return function(ue){do{var ye=ue.parentElement;ye!==null&&ye.removeChild(ue),ue=ye}while(ue&&ue.tagName!=="BODY")}(ne),z[te]=ce}(j,Q):{},ee=q.style;r.asArray(G).forEach(function(he){var J,te=G.getPropertyValue(he),ne=W[he],ce=ie?ie.getPropertyValue(he):void 0;(te!==ne||ie&&te!==ce)&&(ne=G.getPropertyPriority(he),ce=ee,te=te,ne=ne,J=0<=["background-clip"].indexOf(he=he),ne?(ce.setProperty(he,te,ne),J&&ce.setProperty("-webkit-"+he,te,ne)):(ce.setProperty(he,te),J&&ce.setProperty("-webkit-"+he,te)))})}let N=null,z={};const H=["ADDRESS","ARTICLE","ASIDE","BLOCKQUOTE","DETAILS","DIALOG","DD","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","LI","MAIN","NAV","OL","P","PRE","SECTION","SVG","TABLE","UL","math","svg","BODY","HEAD","HTML"]})(xf)})(rgt);/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var bD=function(t,e){return bD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},bD(t,e)};function AA(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");bD(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var wD=function(){return wD=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wD.apply(this,arguments)};function ih(t,e,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(p){try{f(r.next(p))}catch(m){l(m)}}function a(p){try{f(r.throw(p))}catch(m){l(m)}}function f(p){p.done?s(p.value):i(p.value).then(c,a)}f((r=r.apply(t,[])).next())})}function Lc(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(f){return function(p){return a([f,p])}}function a(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){n.label=f[1];break}if(f[0]===6&&n.label<s[1]){n.label=s[1],s=f;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(f);break}s[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(p){f=[6,p],i=0}finally{r=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function e3(t,e,n){if(arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||e)}var h0=function(){function t(e,n,r,i){this.left=e,this.top=n,this.width=r,this.height=i}return t.prototype.add=function(e,n,r,i){return new t(this.left+e,this.top+n,this.width+r,this.height+i)},t.fromClientRect=function(e,n){return new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height)},t.fromDOMRectList=function(e,n){var r=Array.from(n).find(function(i){return i.width!==0});return r?new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),YM=function(t,e){return h0.fromClientRect(t,e.getBoundingClientRect())},igt=function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),i=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new h0(0,0,r,i)},XM=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e},Bl=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],i=-1,s="";++i<n;){var l=t[i];l<=65535?r.push(l):(l-=65536,r.push((l>>10)+55296,l%1024+56320)),(i+1===n||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},eZ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",agt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var t3=0;t3<eZ.length;t3++)agt[eZ.charCodeAt(t3)]=t3;var tZ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Y4=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var n3=0;n3<tZ.length;n3++)Y4[tZ.charCodeAt(n3)]=n3;var sgt=function(t){var e=t.length*.75,n=t.length,r,i=0,s,l,c,a;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var f=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),p=Array.isArray(f)?f:new Uint8Array(f);for(r=0;r<n;r+=4)s=Y4[t.charCodeAt(r)],l=Y4[t.charCodeAt(r+1)],c=Y4[t.charCodeAt(r+2)],a=Y4[t.charCodeAt(r+3)],p[i++]=s<<2|l>>4,p[i++]=(l&15)<<4|c>>2,p[i++]=(c&3)<<6|a&63;return f},ogt=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},lgt=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},my=5,Pz=11,IP=2,ugt=Pz-my,Xhe=65536>>my,cgt=1<<my,LP=cgt-1,hgt=1024>>my,dgt=Xhe+hgt,fgt=dgt,pgt=32,Agt=fgt+pgt,mgt=65536>>Pz,ggt=1<<ugt,vgt=ggt-1,nZ=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},_gt=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},ygt=function(t,e){var n=sgt(t),r=Array.isArray(n)?lgt(n):new Uint32Array(n),i=Array.isArray(n)?ogt(n):new Uint16Array(n),s=24,l=nZ(i,s/2,r[4]/2),c=r[5]===2?nZ(i,(s+r[4])/2):_gt(r,Math.ceil((s+r[4])/4));return new bgt(r[0],r[1],r[2],r[3],l,c)},bgt=function(){function t(e,n,r,i,s,l){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=l}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>my],n=(n<<IP)+(e&LP),this.data[n];if(e<=65535)return n=this.index[Xhe+(e-55296>>my)],n=(n<<IP)+(e&LP),this.data[n];if(e<this.highStart)return n=Agt-mgt+(e>>Pz),n=this.index[n],n+=e>>my&vgt,n=this.index[n],n=(n<<IP)+(e&LP),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),rZ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wgt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var r3=0;r3<rZ.length;r3++)wgt[rZ.charCodeAt(r3)]=r3;var xgt="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",iZ=50,Cgt=1,Zhe=2,Jhe=3,Egt=4,Sgt=5,aZ=7,ede=8,sZ=9,Yv=10,xD=11,oZ=12,CD=13,Tgt=14,X4=15,ED=16,i3=17,B4=18,Bgt=19,lZ=20,SD=21,M4=22,kP=23,Jb=24,Fd=25,Z4=26,J4=27,ew=28,Mgt=29,U_=30,Igt=31,a3=32,s3=33,TD=34,BD=35,MD=36,W6=37,ID=38,DT=39,NT=40,PP=41,tde=42,Lgt=43,kgt=[9001,65288],nde="!",rs="×",o3="÷",LD=ygt(xgt),Og=[U_,MD],kD=[Cgt,Zhe,Jhe,Sgt],rde=[Yv,ede],uZ=[J4,Z4],Pgt=kD.concat(rde),cZ=[ID,DT,NT,TD,BD],Fgt=[X4,CD],Rgt=function(t,e){e===void 0&&(e="strict");var n=[],r=[],i=[];return t.forEach(function(s,l){var c=LD.get(s);if(c>iZ?(i.push(!0),c-=iZ):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return r.push(l),n.push(ED);if(c===Egt||c===xD){if(l===0)return r.push(l),n.push(U_);var a=n[l-1];return Pgt.indexOf(a)===-1?(r.push(r[l-1]),n.push(a)):(r.push(l),n.push(U_))}if(r.push(l),c===Igt)return n.push(e==="strict"?SD:W6);if(c===tde||c===Mgt)return n.push(U_);if(c===Lgt)return s>=131072&&s<=196605||s>=196608&&s<=262141?n.push(W6):n.push(U_);n.push(c)}),[r,n,i]},FP=function(t,e,n,r){var i=r[n];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var s=n;s<=r.length;){s++;var l=r[s];if(l===e)return!0;if(l!==Yv)break}if(i===Yv)for(var s=n;s>0;){s--;var c=r[s];if(Array.isArray(t)?t.indexOf(c)!==-1:t===c)for(var a=n;a<=r.length;){a++;var l=r[a];if(l===e)return!0;if(l!==Yv)break}if(c!==Yv)break}return!1},hZ=function(t,e){for(var n=t;n>=0;){var r=e[n];if(r===Yv)n--;else return r}return 0},Ogt=function(t,e,n,r,i){if(n[r]===0)return rs;var s=r-1;if(Array.isArray(i)&&i[s]===!0)return rs;var l=s-1,c=s+1,a=e[s],f=l>=0?e[l]:0,p=e[c];if(a===Zhe&&p===Jhe)return rs;if(kD.indexOf(a)!==-1)return nde;if(kD.indexOf(p)!==-1||rde.indexOf(p)!==-1)return rs;if(hZ(s,e)===ede)return o3;if(LD.get(t[s])===xD||(a===a3||a===s3)&&LD.get(t[c])===xD||a===aZ||p===aZ||a===sZ||[Yv,CD,X4].indexOf(a)===-1&&p===sZ||[i3,B4,Bgt,Jb,ew].indexOf(p)!==-1||hZ(s,e)===M4||FP(kP,M4,s,e)||FP([i3,B4],SD,s,e)||FP(oZ,oZ,s,e))return rs;if(a===Yv)return o3;if(a===kP||p===kP)return rs;if(p===ED||a===ED)return o3;if([CD,X4,SD].indexOf(p)!==-1||a===Tgt||f===MD&&Fgt.indexOf(a)!==-1||a===ew&&p===MD||p===lZ||Og.indexOf(p)!==-1&&a===Fd||Og.indexOf(a)!==-1&&p===Fd||a===J4&&[W6,a3,s3].indexOf(p)!==-1||[W6,a3,s3].indexOf(a)!==-1&&p===Z4||Og.indexOf(a)!==-1&&uZ.indexOf(p)!==-1||uZ.indexOf(a)!==-1&&Og.indexOf(p)!==-1||[J4,Z4].indexOf(a)!==-1&&(p===Fd||[M4,X4].indexOf(p)!==-1&&e[c+1]===Fd)||[M4,X4].indexOf(a)!==-1&&p===Fd||a===Fd&&[Fd,ew,Jb].indexOf(p)!==-1)return rs;if([Fd,ew,Jb,i3,B4].indexOf(p)!==-1)for(var m=s;m>=0;){var v=e[m];if(v===Fd)return rs;if([ew,Jb].indexOf(v)!==-1)m--;else break}if([J4,Z4].indexOf(p)!==-1)for(var m=[i3,B4].indexOf(a)!==-1?l:s;m>=0;){var v=e[m];if(v===Fd)return rs;if([ew,Jb].indexOf(v)!==-1)m--;else break}if(ID===a&&[ID,DT,TD,BD].indexOf(p)!==-1||[DT,TD].indexOf(a)!==-1&&[DT,NT].indexOf(p)!==-1||[NT,BD].indexOf(a)!==-1&&p===NT||cZ.indexOf(a)!==-1&&[lZ,Z4].indexOf(p)!==-1||cZ.indexOf(p)!==-1&&a===J4||Og.indexOf(a)!==-1&&Og.indexOf(p)!==-1||a===Jb&&Og.indexOf(p)!==-1||Og.concat(Fd).indexOf(a)!==-1&&p===M4&&kgt.indexOf(t[c])===-1||Og.concat(Fd).indexOf(p)!==-1&&a===B4)return rs;if(a===PP&&p===PP){for(var y=n[s],T=1;y>0&&(y--,e[y]===PP);)T++;if(T%2!==0)return rs}return a===a3&&p===s3?rs:o3},Dgt=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=Rgt(t,e.lineBreak),r=n[0],i=n[1],s=n[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(c){return[Fd,U_,tde].indexOf(c)!==-1?W6:c}));var l=e.wordBreak==="keep-all"?s.map(function(c,a){return c&&t[a]>=19968&&t[a]<=40959}):void 0;return[r,i,l]},Ngt=function(){function t(e,n,r,i){this.codePoints=e,this.required=n===nde,this.start=r,this.end=i}return t.prototype.slice=function(){return Bl.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),Ugt=function(t,e){var n=XM(t),r=Dgt(n,e),i=r[0],s=r[1],l=r[2],c=n.length,a=0,f=0;return{next:function(){if(f>=c)return{done:!0,value:null};for(var p=rs;f<c&&(p=Ogt(n,s,i,++f,l))===rs;);if(p!==rs||f===c){var m=new Ngt(n,p,a,f);return a=f,{value:m,done:!1}}return{done:!0,value:null}}}},zgt=1,$gt=2,H5=4,dZ=8,nB=10,fZ=47,NC=92,Vgt=9,Hgt=32,l3=34,I4=61,Qgt=35,jgt=36,Ggt=37,u3=39,c3=40,L4=41,Kgt=95,Oh=45,Wgt=33,qgt=60,Ygt=62,Xgt=64,Zgt=91,Jgt=93,e0t=61,t0t=123,h3=63,n0t=125,pZ=124,r0t=126,i0t=128,AZ=65533,RP=42,Z_=43,a0t=44,s0t=58,o0t=59,q6=46,l0t=0,u0t=8,c0t=11,h0t=14,d0t=31,f0t=127,WA=-1,ide=48,ade=97,sde=101,p0t=102,A0t=117,m0t=122,ode=65,lde=69,ude=70,g0t=85,v0t=90,Fc=function(t){return t>=ide&&t<=57},_0t=function(t){return t>=55296&&t<=57343},tw=function(t){return Fc(t)||t>=ode&&t<=ude||t>=ade&&t<=p0t},y0t=function(t){return t>=ade&&t<=m0t},b0t=function(t){return t>=ode&&t<=v0t},w0t=function(t){return y0t(t)||b0t(t)},x0t=function(t){return t>=i0t},d3=function(t){return t===nB||t===Vgt||t===Hgt},rB=function(t){return w0t(t)||x0t(t)||t===Kgt},mZ=function(t){return rB(t)||Fc(t)||t===Oh},C0t=function(t){return t>=l0t&&t<=u0t||t===c0t||t>=h0t&&t<=d0t||t===f0t},Ov=function(t,e){return t!==NC?!1:e!==nB},f3=function(t,e,n){return t===Oh?rB(e)||Ov(e,n):rB(t)?!0:!!(t===NC&&Ov(t,e))},OP=function(t,e,n){return t===Z_||t===Oh?Fc(e)?!0:e===q6&&Fc(n):Fc(t===q6?e:t)},E0t=function(t){var e=0,n=1;(t[e]===Z_||t[e]===Oh)&&(t[e]===Oh&&(n=-1),e++);for(var r=[];Fc(t[e]);)r.push(t[e++]);var i=r.length?parseInt(Bl.apply(void 0,r),10):0;t[e]===q6&&e++;for(var s=[];Fc(t[e]);)s.push(t[e++]);var l=s.length,c=l?parseInt(Bl.apply(void 0,s),10):0;(t[e]===lde||t[e]===sde)&&e++;var a=1;(t[e]===Z_||t[e]===Oh)&&(t[e]===Oh&&(a=-1),e++);for(var f=[];Fc(t[e]);)f.push(t[e++]);var p=f.length?parseInt(Bl.apply(void 0,f),10):0;return n*(i+c*Math.pow(10,-l))*Math.pow(10,a*p)},S0t={type:2},T0t={type:3},B0t={type:4},M0t={type:13},I0t={type:8},L0t={type:21},k0t={type:9},P0t={type:10},F0t={type:11},R0t={type:12},O0t={type:14},p3={type:23},D0t={type:1},N0t={type:25},U0t={type:24},z0t={type:26},$0t={type:27},V0t={type:28},H0t={type:29},Q0t={type:31},PD={type:32},cde=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(XM(e))},t.prototype.read=function(){for(var e=[],n=this.consumeToken();n!==PD;)e.push(n),n=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case l3:return this.consumeStringToken(l3);case Qgt:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),i=this.peekCodePoint(2);if(mZ(n)||Ov(r,i)){var s=f3(n,r,i)?$gt:zgt,l=this.consumeName();return{type:5,value:l,flags:s}}break;case jgt:if(this.peekCodePoint(0)===I4)return this.consumeCodePoint(),M0t;break;case u3:return this.consumeStringToken(u3);case c3:return S0t;case L4:return T0t;case RP:if(this.peekCodePoint(0)===I4)return this.consumeCodePoint(),O0t;break;case Z_:if(OP(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case a0t:return B0t;case Oh:var c=e,a=this.peekCodePoint(0),f=this.peekCodePoint(1);if(OP(c,a,f))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(f3(c,a,f))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(a===Oh&&f===Ygt)return this.consumeCodePoint(),this.consumeCodePoint(),U0t;break;case q6:if(OP(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case fZ:if(this.peekCodePoint(0)===RP)for(this.consumeCodePoint();;){var p=this.consumeCodePoint();if(p===RP&&(p=this.consumeCodePoint(),p===fZ))return this.consumeToken();if(p===WA)return this.consumeToken()}break;case s0t:return z0t;case o0t:return $0t;case qgt:if(this.peekCodePoint(0)===Wgt&&this.peekCodePoint(1)===Oh&&this.peekCodePoint(2)===Oh)return this.consumeCodePoint(),this.consumeCodePoint(),N0t;break;case Xgt:var m=this.peekCodePoint(0),v=this.peekCodePoint(1),y=this.peekCodePoint(2);if(f3(m,v,y)){var l=this.consumeName();return{type:7,value:l}}break;case Zgt:return V0t;case NC:if(Ov(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case Jgt:return H0t;case e0t:if(this.peekCodePoint(0)===I4)return this.consumeCodePoint(),I0t;break;case t0t:return F0t;case n0t:return R0t;case A0t:case g0t:var T=this.peekCodePoint(0),C=this.peekCodePoint(1);return T===Z_&&(tw(C)||C===h3)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case pZ:if(this.peekCodePoint(0)===I4)return this.consumeCodePoint(),k0t;if(this.peekCodePoint(0)===pZ)return this.consumeCodePoint(),L0t;break;case r0t:if(this.peekCodePoint(0)===I4)return this.consumeCodePoint(),P0t;break;case WA:return PD}return d3(e)?(this.consumeWhiteSpace(),Q0t):Fc(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):rB(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Bl(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],n=this.consumeCodePoint();tw(n)&&e.length<6;)e.push(n),n=this.consumeCodePoint();for(var r=!1;n===h3&&e.length<6;)e.push(n),n=this.consumeCodePoint(),r=!0;if(r){var i=parseInt(Bl.apply(void 0,e.map(function(a){return a===h3?ide:a})),16),s=parseInt(Bl.apply(void 0,e.map(function(a){return a===h3?ude:a})),16);return{type:30,start:i,end:s}}var l=parseInt(Bl.apply(void 0,e),16);if(this.peekCodePoint(0)===Oh&&tw(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var c=[];tw(n)&&c.length<6;)c.push(n),n=this.consumeCodePoint();var s=parseInt(Bl.apply(void 0,c),16);return{type:30,start:l,end:s}}else return{type:30,start:l,end:l}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===c3?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===c3?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===WA)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===u3||n===l3){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===WA||this.peekCodePoint(0)===L4)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),p3)}for(;;){var i=this.consumeCodePoint();if(i===WA||i===L4)return{type:22,value:Bl.apply(void 0,e)};if(d3(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===WA||this.peekCodePoint(0)===L4?(this.consumeCodePoint(),{type:22,value:Bl.apply(void 0,e)}):(this.consumeBadUrlRemnants(),p3);if(i===l3||i===u3||i===c3||C0t(i))return this.consumeBadUrlRemnants(),p3;if(i===NC)if(Ov(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),p3;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;d3(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===L4||e===WA)return;Ov(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var n=5e4,r="";e>0;){var i=Math.min(n,e);r+=Bl.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),r},t.prototype.consumeStringToken=function(e){var n="",r=0;do{var i=this._value[r];if(i===WA||i===void 0||i===e)return n+=this.consumeStringSlice(r),{type:0,value:n};if(i===nB)return this._value.splice(0,r),D0t;if(i===NC){var s=this._value[r+1];s!==WA&&s!==void 0&&(s===nB?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):Ov(i,s)&&(n+=this.consumeStringSlice(r),n+=Bl(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},t.prototype.consumeNumber=function(){var e=[],n=H5,r=this.peekCodePoint(0);for((r===Z_||r===Oh)&&e.push(this.consumeCodePoint());Fc(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(r===q6&&Fc(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=dZ;Fc(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((r===lde||r===sde)&&((i===Z_||i===Oh)&&Fc(s)||Fc(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=dZ;Fc(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[E0t(e),n]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),n=e[0],r=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),l=this.peekCodePoint(2);if(f3(i,s,l)){var c=this.consumeName();return{type:15,number:n,flags:r,unit:c}}return i===Ggt?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(tw(e)){for(var n=Bl(e);tw(this.peekCodePoint(0))&&n.length<6;)n+=Bl(this.consumeCodePoint());d3(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||_0t(r)||r>1114111?AZ:r}return e===WA?AZ:e},t.prototype.consumeName=function(){for(var e="";;){var n=this.consumeCodePoint();if(mZ(n))e+=Bl(n);else if(Ov(n,this.peekCodePoint(0)))e+=Bl(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),e}},t}(),hde=function(){function t(e){this._tokens=e}return t.create=function(e){var n=new cde;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var n=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var n=this.consumeComponentValue();if(n.type===32)return e;e.push(n),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var n={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||G0t(r,e))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var n={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?PD:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),Q5=function(t){return t.type===15},_x=function(t){return t.type===17},io=function(t){return t.type===20},j0t=function(t){return t.type===0},FD=function(t,e){return io(t)&&t.value===e},dde=function(t){return t.type!==31},j2=function(t){return t.type!==31&&t.type!==4},Um=function(t){var e=[],n=[];return t.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&e.push(n),e},G0t=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},C1=function(t){return t.type===17||t.type===15},au=function(t){return t.type===16||C1(t)},fde=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},lc={type:17,number:0,flags:H5},Fz={type:16,number:50,flags:H5},Xv={type:16,number:100,flags:H5},eC=function(t,e,n){var r=t[0],i=t[1];return[Co(r,e),Co(typeof i<"u"?i:r,n)]},Co=function(t,e){if(t.type===16)return t.number/100*e;if(Q5(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},pde="deg",Ade="grad",mde="rad",gde="turn",ZM={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case pde:return Math.PI*e.number/180;case Ade:return Math.PI/200*e.number;case mde:return e.number;case gde:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},vde=function(t){return t.type===15&&(t.unit===pde||t.unit===Ade||t.unit===mde||t.unit===gde)},_de=function(t){var e=t.filter(io).map(function(n){return n.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[lc,lc];case"to top":case"bottom":return Bf(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[lc,Xv];case"to right":case"left":return Bf(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Xv,Xv];case"to bottom":case"top":return Bf(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Xv,lc];case"to left":case"right":return Bf(270)}return 0},Bf=function(t){return Math.PI*t/180},o1={name:"color",parse:function(t,e){if(e.type===18){var n=K0t[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return n(t,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return Zv(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),l=e.value.substring(3,4);return Zv(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(l+l,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return Zv(parseInt(r,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),l=e.value.substring(6,8);return Zv(parseInt(r,16),parseInt(i,16),parseInt(s,16),parseInt(l,16)/255)}}if(e.type===20){var c=t0[e.value.toUpperCase()];if(typeof c<"u")return c}return t0.TRANSPARENT}},l1=function(t){return(255&t)===0},zu=function(t){var e=255&t,n=255&t>>8,r=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+r+","+n+","+e/255+")":"rgb("+i+","+r+","+n+")"},Zv=function(t,e,n,r){return(t<<24|e<<16|n<<8|Math.round(r*255)<<0)>>>0},gZ=function(t,e){if(t.type===17)return t.number;if(t.type===16){var n=e===3?1:255;return e===3?t.number/100*n:Math.round(t.number/100*n)}return 0},vZ=function(t,e){var n=e.filter(j2);if(n.length===3){var r=n.map(gZ),i=r[0],s=r[1],l=r[2];return Zv(i,s,l,1)}if(n.length===4){var c=n.map(gZ),i=c[0],s=c[1],l=c[2],a=c[3];return Zv(i,s,l,a)}return 0};function DP(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<1/2?e:n<2/3?(e-t)*6*(2/3-n)+t:t}var _Z=function(t,e){var n=e.filter(j2),r=n[0],i=n[1],s=n[2],l=n[3],c=(r.type===17?Bf(r.number):ZM.parse(t,r))/(Math.PI*2),a=au(i)?i.number/100:0,f=au(s)?s.number/100:0,p=typeof l<"u"&&au(l)?Co(l,1):1;if(a===0)return Zv(f*255,f*255,f*255,1);var m=f<=.5?f*(a+1):f+a-f*a,v=f*2-m,y=DP(v,m,c+1/3),T=DP(v,m,c),C=DP(v,m,c-1/3);return Zv(y*255,T*255,C*255,p)},K0t={hsl:_Z,hsla:_Z,rgb:vZ,rgba:vZ},UC=function(t,e){return o1.parse(t,hde.create(e).parseComponentValue())},t0={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},W0t={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(io(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},q0t={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},JM=function(t,e){var n=o1.parse(t,e[0]),r=e[1];return r&&au(r)?{color:n,stop:r}:{color:n,stop:null}},yZ=function(t,e){var n=t[0],r=t[t.length-1];n.stop===null&&(n.stop=lc),r.stop===null&&(r.stop=Xv);for(var i=[],s=0,l=0;l<t.length;l++){var c=t[l].stop;if(c!==null){var a=Co(c,e);a>s?i.push(a):i.push(s),s=a}else i.push(null)}for(var f=null,l=0;l<i.length;l++){var p=i[l];if(p===null)f===null&&(f=l);else if(f!==null){for(var m=l-f,v=i[f-1],y=(p-v)/(m+1),T=1;T<=m;T++)i[f+T-1]=y*T;f=null}}return t.map(function(C,k){var M=C.color;return{color:M,stop:Math.max(Math.min(1,i[k]/e),0)}})},Y0t=function(t,e,n){var r=e/2,i=n/2,s=Co(t[0],e)-r,l=i-Co(t[1],n);return(Math.atan2(l,s)+Math.PI*2)%(Math.PI*2)},X0t=function(t,e,n){var r=typeof t=="number"?t:Y0t(t,e,n),i=Math.abs(e*Math.sin(r))+Math.abs(n*Math.cos(r)),s=e/2,l=n/2,c=i/2,a=Math.sin(r-Math.PI/2)*c,f=Math.cos(r-Math.PI/2)*c;return[i,s-f,s+f,l-a,l+a]},Np=function(t,e){return Math.sqrt(t*t+e*e)},bZ=function(t,e,n,r,i){var s=[[0,0],[0,e],[t,0],[t,e]];return s.reduce(function(l,c){var a=c[0],f=c[1],p=Np(n-a,r-f);return(i?p<l.optimumDistance:p>l.optimumDistance)?{optimumCorner:c,optimumDistance:p}:l},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},Z0t=function(t,e,n,r,i){var s=0,l=0;switch(t.size){case 0:t.shape===0?s=l=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-i)):t.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-r)),l=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(t.shape===0)s=l=Math.min(Np(e,n),Np(e,n-i),Np(e-r,n),Np(e-r,n-i));else if(t.shape===1){var c=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(e),Math.abs(e-r)),a=bZ(r,i,e,n,!0),f=a[0],p=a[1];s=Np(f-e,(p-n)/c),l=c*s}break;case 1:t.shape===0?s=l=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-i)):t.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-r)),l=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(t.shape===0)s=l=Math.max(Np(e,n),Np(e,n-i),Np(e-r,n),Np(e-r,n-i));else if(t.shape===1){var c=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(e),Math.abs(e-r)),m=bZ(r,i,e,n,!1),f=m[0],p=m[1];s=Np(f-e,(p-n)/c),l=c*s}break}return Array.isArray(t.size)&&(s=Co(t.size[0],r),l=t.size.length===2?Co(t.size[1],i):s),[s,l]},J0t=function(t,e){var n=Bf(180),r=[];return Um(e).forEach(function(i,s){if(s===0){var l=i[0];if(l.type===20&&l.value==="to"){n=_de(i);return}else if(vde(l)){n=ZM.parse(t,l);return}}var c=JM(t,i);r.push(c)}),{angle:n,stops:r,type:1}},A3=function(t,e){var n=Bf(180),r=[];return Um(e).forEach(function(i,s){if(s===0){var l=i[0];if(l.type===20&&["top","left","right","bottom"].indexOf(l.value)!==-1){n=_de(i);return}else if(vde(l)){n=(ZM.parse(t,l)+Bf(270))%Bf(360);return}}var c=JM(t,i);r.push(c)}),{angle:n,stops:r,type:1}},evt=function(t,e){var n=Bf(180),r=[],i=1,s=0,l=3,c=[];return Um(e).forEach(function(a,f){var p=a[0];if(f===0){if(io(p)&&p.value==="linear"){i=1;return}else if(io(p)&&p.value==="radial"){i=2;return}}if(p.type===18){if(p.name==="from"){var m=o1.parse(t,p.values[0]);r.push({stop:lc,color:m})}else if(p.name==="to"){var m=o1.parse(t,p.values[0]);r.push({stop:Xv,color:m})}else if(p.name==="color-stop"){var v=p.values.filter(j2);if(v.length===2){var m=o1.parse(t,v[1]),y=v[0];_x(y)&&r.push({stop:{type:16,number:y.number*100,flags:y.flags},color:m})}}}}),i===1?{angle:(n+Bf(180))%Bf(360),stops:r,type:i}:{size:l,shape:s,stops:r,position:c,type:i}},yde="closest-side",bde="farthest-side",wde="closest-corner",xde="farthest-corner",Cde="circle",Ede="ellipse",Sde="cover",Tde="contain",tvt=function(t,e){var n=0,r=3,i=[],s=[];return Um(e).forEach(function(l,c){var a=!0;if(c===0){var f=!1;a=l.reduce(function(m,v){if(f)if(io(v))switch(v.value){case"center":return s.push(Fz),m;case"top":case"left":return s.push(lc),m;case"right":case"bottom":return s.push(Xv),m}else(au(v)||C1(v))&&s.push(v);else if(io(v))switch(v.value){case Cde:return n=0,!1;case Ede:return n=1,!1;case"at":return f=!0,!1;case yde:return r=0,!1;case Sde:case bde:return r=1,!1;case Tde:case wde:return r=2,!1;case xde:return r=3,!1}else if(C1(v)||au(v))return Array.isArray(r)||(r=[]),r.push(v),!1;return m},a)}if(a){var p=JM(t,l);i.push(p)}}),{size:r,shape:n,stops:i,position:s,type:2}},m3=function(t,e){var n=0,r=3,i=[],s=[];return Um(e).forEach(function(l,c){var a=!0;if(c===0?a=l.reduce(function(p,m){if(io(m))switch(m.value){case"center":return s.push(Fz),!1;case"top":case"left":return s.push(lc),!1;case"right":case"bottom":return s.push(Xv),!1}else if(au(m)||C1(m))return s.push(m),!1;return p},a):c===1&&(a=l.reduce(function(p,m){if(io(m))switch(m.value){case Cde:return n=0,!1;case Ede:return n=1,!1;case Tde:case yde:return r=0,!1;case bde:return r=1,!1;case wde:return r=2,!1;case Sde:case xde:return r=3,!1}else if(C1(m)||au(m))return Array.isArray(r)||(r=[]),r.push(m),!1;return p},a)),a){var f=JM(t,l);i.push(f)}}),{size:r,shape:n,stops:i,position:s,type:2}},nvt=function(t){return t.type===1},rvt=function(t){return t.type===2},Rz={name:"image",parse:function(t,e){if(e.type===22){var n={url:e.value,type:0};return t.cache.addImage(e.value),n}if(e.type===18){var r=Bde[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function ivt(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!Bde[t.name])}var Bde={"linear-gradient":J0t,"-moz-linear-gradient":A3,"-ms-linear-gradient":A3,"-o-linear-gradient":A3,"-webkit-linear-gradient":A3,"radial-gradient":tvt,"-moz-radial-gradient":m3,"-ms-radial-gradient":m3,"-o-radial-gradient":m3,"-webkit-radial-gradient":m3,"-webkit-gradient":evt},avt={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e.filter(function(r){return j2(r)&&ivt(r)}).map(function(r){return Rz.parse(t,r)})}},svt={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(io(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},ovt={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return Um(e).map(function(n){return n.filter(au)}).map(fde)}},lvt={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return Um(e).map(function(n){return n.filter(io).map(function(r){return r.value}).join(" ")}).map(uvt)}},uvt=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},u2;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(u2||(u2={}));var cvt={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return Um(e).map(function(n){return n.filter(hvt)})}},hvt=function(t){return io(t)||au(t)},eI=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},dvt=eI("top"),fvt=eI("right"),pvt=eI("bottom"),Avt=eI("left"),tI=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,n){return fde(n.filter(au))}}},mvt=tI("top-left"),gvt=tI("top-right"),vvt=tI("bottom-right"),_vt=tI("bottom-left"),nI=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},yvt=nI("top"),bvt=nI("right"),wvt=nI("bottom"),xvt=nI("left"),rI=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,n){return Q5(n)?n.number:0}}},Cvt=rI("top"),Evt=rI("right"),Svt=rI("bottom"),Tvt=rI("left"),Bvt={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Mvt={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},Ivt={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(io).reduce(function(n,r){return n|Lvt(r.value)},0)}},Lvt=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},kvt={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Pvt={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},iB;(function(t){t.NORMAL="normal",t.STRICT="strict"})(iB||(iB={}));var Fvt={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return iB.STRICT;case"normal":default:return iB.NORMAL}}},Rvt={name:"line-height",initialValue:"normal",prefix:!1,type:4},wZ=function(t,e){return io(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:au(t)?Co(t,e):e},Ovt={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:Rz.parse(t,e)}},Dvt={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},RD={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},iI=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},Nvt=iI("top"),Uvt=iI("right"),zvt=iI("bottom"),$vt=iI("left"),Vvt={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(io).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Hvt={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},aI=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Qvt=aI("top"),jvt=aI("right"),Gvt=aI("bottom"),Kvt=aI("left"),Wvt={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},qvt={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Yvt={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&FD(e[0],"none")?[]:Um(e).map(function(n){for(var r={color:t0.TRANSPARENT,offsetX:lc,offsetY:lc,blur:lc},i=0,s=0;s<n.length;s++){var l=n[s];C1(l)?(i===0?r.offsetX=l:i===1?r.offsetY=l:r.blur=l,i++):r.color=o1.parse(t,l)}return r})}},Xvt={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Zvt={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var n=t1t[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return n(e.values)}return null}},Jvt=function(t){var e=t.filter(function(n){return n.type===17}).map(function(n){return n.number});return e.length===6?e:null},e1t=function(t){var e=t.filter(function(a){return a.type===17}).map(function(a){return a.number}),n=e[0],r=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var l=e[12],c=e[13];return e[14],e[15],e.length===16?[n,r,i,s,l,c]:null},t1t={matrix:Jvt,matrix3d:e1t},xZ={type:16,number:50,flags:H5},n1t=[xZ,xZ],r1t={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var n=e.filter(au);return n.length!==2?n1t:[n[0],n[1]]}},i1t={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},zC;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(zC||(zC={}));var a1t={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return zC.BREAK_ALL;case"keep-all":return zC.KEEP_ALL;case"normal":default:return zC.NORMAL}}},s1t={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(_x(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},Mde={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},o1t={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return _x(e)?e.number:1}},l1t={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},u1t={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(io).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},c1t={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var n=[],r=[];return e.forEach(function(i){switch(i.type){case 20:case 0:n.push(i.value);break;case 17:n.push(i.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},h1t={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},d1t={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(_x(e))return e.number;if(io(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},f1t={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(io).map(function(n){return n.value})}},p1t={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},_u=function(t,e){return(t&e)!==0},A1t={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e}},m1t={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;for(var r=[],i=e.filter(dde),s=0;s<i.length;s++){var l=i[s],c=i[s+1];if(l.type===20){var a=c&&_x(c)?c.number:1;r.push({counter:l.value,increment:a})}}return r}},g1t={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var n=[],r=e.filter(dde),i=0;i<r.length;i++){var s=r[i],l=r[i+1];if(io(s)&&s.value!=="none"){var c=l&&_x(l)?l.number:0;n.push({counter:s.value,reset:c})}}return n}},v1t={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Q5).map(function(n){return Mde.parse(t,n)})}},_1t={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;var r=[],i=e.filter(j0t);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var l=i[s].value,c=i[s+1].value;r.push({open:l,close:c})}return r}},CZ=function(t,e,n){if(!t)return"";var r=t[Math.min(e,t.length-1)];return r?n?r.open:r.close:""},y1t={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&FD(e[0],"none")?[]:Um(e).map(function(n){for(var r={color:255,offsetX:lc,offsetY:lc,blur:lc,spread:lc,inset:!1},i=0,s=0;s<n.length;s++){var l=n[s];FD(l,"inset")?r.inset=!0:C1(l)?(i===0?r.offsetX=l:i===1?r.offsetY=l:i===2?r.blur=l:r.spread=l,i++):r.color=o1.parse(t,l)}return r})}},b1t={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var n=[0,1,2],r=[];return e.filter(io).forEach(function(i){switch(i.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(i){r.indexOf(i)===-1&&r.push(i)}),r}},w1t={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},x1t={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Q5(e)?e.number:0}},C1t=function(){function t(e,n){var r,i;this.animationDuration=li(e,v1t,n.animationDuration),this.backgroundClip=li(e,W0t,n.backgroundClip),this.backgroundColor=li(e,q0t,n.backgroundColor),this.backgroundImage=li(e,avt,n.backgroundImage),this.backgroundOrigin=li(e,svt,n.backgroundOrigin),this.backgroundPosition=li(e,ovt,n.backgroundPosition),this.backgroundRepeat=li(e,lvt,n.backgroundRepeat),this.backgroundSize=li(e,cvt,n.backgroundSize),this.borderTopColor=li(e,dvt,n.borderTopColor),this.borderRightColor=li(e,fvt,n.borderRightColor),this.borderBottomColor=li(e,pvt,n.borderBottomColor),this.borderLeftColor=li(e,Avt,n.borderLeftColor),this.borderTopLeftRadius=li(e,mvt,n.borderTopLeftRadius),this.borderTopRightRadius=li(e,gvt,n.borderTopRightRadius),this.borderBottomRightRadius=li(e,vvt,n.borderBottomRightRadius),this.borderBottomLeftRadius=li(e,_vt,n.borderBottomLeftRadius),this.borderTopStyle=li(e,yvt,n.borderTopStyle),this.borderRightStyle=li(e,bvt,n.borderRightStyle),this.borderBottomStyle=li(e,wvt,n.borderBottomStyle),this.borderLeftStyle=li(e,xvt,n.borderLeftStyle),this.borderTopWidth=li(e,Cvt,n.borderTopWidth),this.borderRightWidth=li(e,Evt,n.borderRightWidth),this.borderBottomWidth=li(e,Svt,n.borderBottomWidth),this.borderLeftWidth=li(e,Tvt,n.borderLeftWidth),this.boxShadow=li(e,y1t,n.boxShadow),this.color=li(e,Bvt,n.color),this.direction=li(e,Mvt,n.direction),this.display=li(e,Ivt,n.display),this.float=li(e,kvt,n.cssFloat),this.fontFamily=li(e,c1t,n.fontFamily),this.fontSize=li(e,h1t,n.fontSize),this.fontStyle=li(e,p1t,n.fontStyle),this.fontVariant=li(e,f1t,n.fontVariant),this.fontWeight=li(e,d1t,n.fontWeight),this.letterSpacing=li(e,Pvt,n.letterSpacing),this.lineBreak=li(e,Fvt,n.lineBreak),this.lineHeight=li(e,Rvt,n.lineHeight),this.listStyleImage=li(e,Ovt,n.listStyleImage),this.listStylePosition=li(e,Dvt,n.listStylePosition),this.listStyleType=li(e,RD,n.listStyleType),this.marginTop=li(e,Nvt,n.marginTop),this.marginRight=li(e,Uvt,n.marginRight),this.marginBottom=li(e,zvt,n.marginBottom),this.marginLeft=li(e,$vt,n.marginLeft),this.opacity=li(e,o1t,n.opacity);var s=li(e,Vvt,n.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=li(e,Hvt,n.overflowWrap),this.paddingTop=li(e,Qvt,n.paddingTop),this.paddingRight=li(e,jvt,n.paddingRight),this.paddingBottom=li(e,Gvt,n.paddingBottom),this.paddingLeft=li(e,Kvt,n.paddingLeft),this.paintOrder=li(e,b1t,n.paintOrder),this.position=li(e,qvt,n.position),this.textAlign=li(e,Wvt,n.textAlign),this.textDecorationColor=li(e,l1t,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=li(e,u1t,(i=n.textDecorationLine)!==null&&i!==void 0?i:n.textDecoration),this.textShadow=li(e,Yvt,n.textShadow),this.textTransform=li(e,Xvt,n.textTransform),this.transform=li(e,Zvt,n.transform),this.transformOrigin=li(e,r1t,n.transformOrigin),this.visibility=li(e,i1t,n.visibility),this.webkitTextStrokeColor=li(e,w1t,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=li(e,x1t,n.webkitTextStrokeWidth),this.wordBreak=li(e,a1t,n.wordBreak),this.zIndex=li(e,s1t,n.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return l1(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return _u(this.display,4)||_u(this.display,33554432)||_u(this.display,268435456)||_u(this.display,536870912)||_u(this.display,67108864)||_u(this.display,134217728)},t}(),E1t=function(){function t(e,n){this.content=li(e,A1t,n.content),this.quotes=li(e,_1t,n.quotes)}return t}(),EZ=function(){function t(e,n){this.counterIncrement=li(e,m1t,n.counterIncrement),this.counterReset=li(e,g1t,n.counterReset)}return t}(),li=function(t,e,n){var r=new cde,i=n!==null&&typeof n<"u"?n.toString():e.initialValue;r.write(i);var s=new hde(r.read());switch(e.type){case 2:var l=s.parseComponentValue();return e.parse(t,io(l)?l.value:e.initialValue);case 0:return e.parse(t,s.parseComponentValue());case 1:return e.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return ZM.parse(t,s.parseComponentValue());case"color":return o1.parse(t,s.parseComponentValue());case"image":return Rz.parse(t,s.parseComponentValue());case"length":var c=s.parseComponentValue();return C1(c)?c:lc;case"length-percentage":var a=s.parseComponentValue();return au(a)?a:lc;case"time":return Mde.parse(t,s.parseComponentValue())}break}},S1t="data-html2canvas-debug",T1t=function(t){var e=t.getAttribute(S1t);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},OD=function(t,e){var n=T1t(t);return n===1||e===n},zm=function(){function t(e,n){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,OD(n,3))debugger;this.styles=new C1t(e,window.getComputedStyle(n,null)),UD(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=YM(this.context,n),OD(n,4)&&(this.flags|=16)}return t}(),B1t="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",SZ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tC=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var g3=0;g3<SZ.length;g3++)tC[SZ.charCodeAt(g3)]=g3;var M1t=function(t){var e=t.length*.75,n=t.length,r,i=0,s,l,c,a;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var f=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),p=Array.isArray(f)?f:new Uint8Array(f);for(r=0;r<n;r+=4)s=tC[t.charCodeAt(r)],l=tC[t.charCodeAt(r+1)],c=tC[t.charCodeAt(r+2)],a=tC[t.charCodeAt(r+3)],p[i++]=s<<2|l>>4,p[i++]=(l&15)<<4|c>>2,p[i++]=(c&3)<<6|a&63;return f},I1t=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},L1t=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},gy=5,Oz=11,NP=2,k1t=Oz-gy,Ide=65536>>gy,P1t=1<<gy,UP=P1t-1,F1t=1024>>gy,R1t=Ide+F1t,O1t=R1t,D1t=32,N1t=O1t+D1t,U1t=65536>>Oz,z1t=1<<k1t,$1t=z1t-1,TZ=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},V1t=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},H1t=function(t,e){var n=M1t(t),r=Array.isArray(n)?L1t(n):new Uint32Array(n),i=Array.isArray(n)?I1t(n):new Uint16Array(n),s=24,l=TZ(i,s/2,r[4]/2),c=r[5]===2?TZ(i,(s+r[4])/2):V1t(r,Math.ceil((s+r[4])/4));return new Q1t(r[0],r[1],r[2],r[3],l,c)},Q1t=function(){function t(e,n,r,i,s,l){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=l}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>gy],n=(n<<NP)+(e&UP),this.data[n];if(e<=65535)return n=this.index[Ide+(e-55296>>gy)],n=(n<<NP)+(e&UP),this.data[n];if(e<this.highStart)return n=N1t-U1t+(e>>Oz),n=this.index[n],n+=e>>gy&$1t,n=this.index[n],n=(n<<NP)+(e&UP),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),BZ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j1t=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var v3=0;v3<BZ.length;v3++)j1t[BZ.charCodeAt(v3)]=v3;var G1t=1,zP=2,$P=3,MZ=4,IZ=5,K1t=7,LZ=8,VP=9,HP=10,kZ=11,PZ=12,FZ=13,RZ=14,QP=15,W1t=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e},q1t=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],i=-1,s="";++i<n;){var l=t[i];l<=65535?r.push(l):(l-=65536,r.push((l>>10)+55296,l%1024+56320)),(i+1===n||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},Y1t=H1t(B1t),vf="×",jP="÷",X1t=function(t){return Y1t.get(t)},Z1t=function(t,e,n){var r=n-2,i=e[r],s=e[n-1],l=e[n];if(s===zP&&l===$P)return vf;if(s===zP||s===$P||s===MZ||l===zP||l===$P||l===MZ)return jP;if(s===LZ&&[LZ,VP,kZ,PZ].indexOf(l)!==-1||(s===kZ||s===VP)&&(l===VP||l===HP)||(s===PZ||s===HP)&&l===HP||l===FZ||l===IZ||l===K1t||s===G1t)return vf;if(s===FZ&&l===RZ){for(;i===IZ;)i=e[--r];if(i===RZ)return vf}if(s===QP&&l===QP){for(var c=0;i===QP;)c++,i=e[--r];if(c%2===0)return vf}return jP},J1t=function(t){var e=W1t(t),n=e.length,r=0,i=0,s=e.map(X1t);return{next:function(){if(r>=n)return{done:!0,value:null};for(var l=vf;r<n&&(l=Z1t(e,s,++r))===vf;);if(l!==vf||r===n){var c=q1t.apply(null,e.slice(i,r));return i=r,{value:c,done:!1}}return{done:!0,value:null}}}},e_t=function(t){for(var e=J1t(t),n=[],r;!(r=e.next()).done;)r.value&&n.push(r.value.slice());return n},t_t=function(t){var e=123;if(t.createRange){var n=t.createRange();if(n.getBoundingClientRect){var r=t.createElement("boundtest");r.style.height=e+"px",r.style.display="block",t.body.appendChild(r),n.selectNode(r);var i=n.getBoundingClientRect(),s=Math.round(i.height);if(t.body.removeChild(r),s===e)return!0}}return!1},n_t=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var n=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,i=XM(r.data).map(function(a){return Bl(a)}),s=0,l={},c=i.every(function(a,f){n.setStart(r,s),n.setEnd(r,s+a.length);var p=n.getBoundingClientRect();s+=a.length;var m=p.x>l.x||p.y>l.y;return l=p,f===0?!0:m});return t.body.removeChild(e),c},r_t=function(){return typeof new Image().crossOrigin<"u"},i_t=function(){return typeof new XMLHttpRequest().responseType=="string"},a_t=function(t){var e=new Image,n=t.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),n.toDataURL()}catch{return!1}return!0},OZ=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},s_t=function(t){var e=t.createElement("canvas"),n=100;e.width=n,e.height=n;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var i=new Image,s=e.toDataURL();i.src=s;var l=DD(n,n,0,0,i);return r.fillStyle="red",r.fillRect(0,0,n,n),DZ(l).then(function(c){r.drawImage(c,0,0);var a=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var f=t.createElement("div");return f.style.backgroundImage="url("+s+")",f.style.height=n+"px",OZ(a)?DZ(DD(n,n,0,0,f)):Promise.reject(!1)}).then(function(c){return r.drawImage(c,0,0),OZ(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},DD=function(t,e,n,r,i){var s="http://www.w3.org/2000/svg",l=document.createElementNS(s,"svg"),c=document.createElementNS(s,"foreignObject");return l.setAttributeNS(null,"width",t.toString()),l.setAttributeNS(null,"height",e.toString()),c.setAttributeNS(null,"width","100%"),c.setAttributeNS(null,"height","100%"),c.setAttributeNS(null,"x",n.toString()),c.setAttributeNS(null,"y",r.toString()),c.setAttributeNS(null,"externalResourcesRequired","true"),l.appendChild(c),c.appendChild(i),l},DZ=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},ic={get SUPPORT_RANGE_BOUNDS(){var t=t_t(document);return Object.defineProperty(ic,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=ic.SUPPORT_RANGE_BOUNDS&&n_t(document);return Object.defineProperty(ic,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=a_t(document);return Object.defineProperty(ic,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?s_t(document):Promise.resolve(!1);return Object.defineProperty(ic,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=r_t();return Object.defineProperty(ic,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=i_t();return Object.defineProperty(ic,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ic,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(ic,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},$C=function(){function t(e,n){this.text=e,this.bounds=n}return t}(),o_t=function(t,e,n,r){var i=c_t(e,n),s=[],l=0;return i.forEach(function(c){if(n.textDecorationLine.length||c.trim().length>0)if(ic.SUPPORT_RANGE_BOUNDS){var a=NZ(r,l,c.length).getClientRects();if(a.length>1){var f=Dz(c),p=0;f.forEach(function(v){s.push(new $C(v,h0.fromDOMRectList(t,NZ(r,p+l,v.length).getClientRects()))),p+=v.length})}else s.push(new $C(c,h0.fromDOMRectList(t,a)))}else{var m=r.splitText(c.length);s.push(new $C(c,l_t(t,r))),r=m}else ic.SUPPORT_RANGE_BOUNDS||(r=r.splitText(c.length));l+=c.length}),s},l_t=function(t,e){var n=e.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(r,e);var s=YM(t,r);return r.firstChild&&i.replaceChild(r.firstChild,r),s}}return h0.EMPTY},NZ=function(t,e,n){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(t,e),i.setEnd(t,e+n),i},Dz=function(t){if(ic.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(n){return n.segment})}return e_t(t)},u_t=function(t,e){if(ic.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(t)).map(function(r){return r.segment})}return d_t(t,e)},c_t=function(t,e){return e.letterSpacing!==0?Dz(t):u_t(t,e)},h_t=[32,160,4961,65792,65793,4153,4241],d_t=function(t,e){for(var n=Ugt(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],i,s=function(){if(i.value){var l=i.value.slice(),c=XM(l),a="";c.forEach(function(f){h_t.indexOf(f)===-1?a+=Bl(f):(a.length&&r.push(a),r.push(Bl(f)),a="")}),a.length&&r.push(a)}};!(i=n.next()).done;)s();return r},f_t=function(){function t(e,n,r){this.text=p_t(n.data,r.textTransform),this.textBounds=o_t(e,this.text,r,n)}return t}(),p_t=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(A_t,m_t);case 2:return t.toUpperCase();default:return t}},A_t=/(^|\s|:|-|\(|\))([a-z])/g,m_t=function(t,e,n){return t.length>0?e+n.toUpperCase():t},Lde=function(t){AA(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.src=r.currentSrc||r.src,i.intrinsicWidth=r.naturalWidth,i.intrinsicHeight=r.naturalHeight,i.context.cache.addImage(i.src),i}return e}(zm),kde=function(t){AA(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.canvas=r,i.intrinsicWidth=r.width,i.intrinsicHeight=r.height,i}return e}(zm),Pde=function(t){AA(e,t);function e(n,r){var i=t.call(this,n,r)||this,s=new XMLSerializer,l=YM(n,r);return r.setAttribute("width",l.width+"px"),r.setAttribute("height",l.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(r)),i.intrinsicWidth=r.width.baseVal.value,i.intrinsicHeight=r.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}(zm),Fde=function(t){AA(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.value=r.value,i}return e}(zm),ND=function(t){AA(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.start=r.start,i.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,i}return e}(zm),g_t=[{type:15,flags:0,unit:"px",number:3}],v_t=[{type:16,flags:0,number:50}],__t=function(t){return t.width>t.height?new h0(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new h0(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},y_t=function(t){var e=t.type===b_t?new Array(t.value.length+1).join("•"):t.value;return e.length===0?t.placeholder||"":e},aB="checkbox",sB="radio",b_t="password",UZ=707406591,Nz=function(t){AA(e,t);function e(n,r){var i=t.call(this,n,r)||this;switch(i.type=r.type.toLowerCase(),i.checked=r.checked,i.value=y_t(r),(i.type===aB||i.type===sB)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=__t(i.bounds)),i.type){case aB:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=g_t;break;case sB:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=v_t;break}return i}return e}(zm),Rde=function(t){AA(e,t);function e(n,r){var i=t.call(this,n,r)||this,s=r.options[r.selectedIndex||0];return i.value=s&&s.text||"",i}return e}(zm),Ode=function(t){AA(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.value=r.value,i}return e}(zm),Dde=function(t){AA(e,t);function e(n,r){var i=t.call(this,n,r)||this;i.src=r.src,i.width=parseInt(r.width,10)||0,i.height=parseInt(r.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){i.tree=Ude(n,r.contentWindow.document.documentElement);var s=r.contentWindow.document.documentElement?UC(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):t0.TRANSPARENT,l=r.contentWindow.document.body?UC(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):t0.TRANSPARENT;i.backgroundColor=l1(s)?l1(l)?i.styles.backgroundColor:l:s}}catch{}return i}return e}(zm),w_t=["OL","UL","MENU"],UT=function(t,e,n,r){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,zde(i)&&i.data.trim().length>0)n.textNodes.push(new f_t(t,i,n.styles));else if(Nw(i))if(Qde(i)&&i.assignedNodes)i.assignedNodes().forEach(function(c){return UT(t,c,n,r)});else{var l=Nde(t,i);l.styles.isVisible()&&(x_t(i,l,r)?l.flags|=4:C_t(l.styles)&&(l.flags|=2),w_t.indexOf(i.tagName)!==-1&&(l.flags|=8),n.elements.push(l),i.slot,i.shadowRoot?UT(t,i.shadowRoot,l,r):!oB(i)&&!$de(i)&&!lB(i)&&UT(t,i,l,r))}},Nde=function(t,e){return zD(e)?new Lde(t,e):Vde(e)?new kde(t,e):$de(e)?new Pde(t,e):E_t(e)?new Fde(t,e):S_t(e)?new ND(t,e):T_t(e)?new Nz(t,e):lB(e)?new Rde(t,e):oB(e)?new Ode(t,e):Hde(e)?new Dde(t,e):new zm(t,e)},Ude=function(t,e){var n=Nde(t,e);return n.flags|=4,UT(t,e,n,n),n},x_t=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||Uz(t)&&n.styles.isTransparent()},C_t=function(t){return t.isPositioned()||t.isFloating()},zde=function(t){return t.nodeType===Node.TEXT_NODE},Nw=function(t){return t.nodeType===Node.ELEMENT_NODE},UD=function(t){return Nw(t)&&typeof t.style<"u"&&!zT(t)},zT=function(t){return typeof t.className=="object"},E_t=function(t){return t.tagName==="LI"},S_t=function(t){return t.tagName==="OL"},T_t=function(t){return t.tagName==="INPUT"},B_t=function(t){return t.tagName==="HTML"},$de=function(t){return t.tagName==="svg"},Uz=function(t){return t.tagName==="BODY"},Vde=function(t){return t.tagName==="CANVAS"},zZ=function(t){return t.tagName==="VIDEO"},zD=function(t){return t.tagName==="IMG"},Hde=function(t){return t.tagName==="IFRAME"},$Z=function(t){return t.tagName==="STYLE"},M_t=function(t){return t.tagName==="SCRIPT"},oB=function(t){return t.tagName==="TEXTAREA"},lB=function(t){return t.tagName==="SELECT"},Qde=function(t){return t.tagName==="SLOT"},VZ=function(t){return t.tagName.indexOf("-")>0},I_t=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var n=this.counters[e];return n&&n.length?n[n.length-1]:1},t.prototype.getCounterValues=function(e){var n=this.counters[e];return n||[]},t.prototype.pop=function(e){var n=this;e.forEach(function(r){return n.counters[r].pop()})},t.prototype.parse=function(e){var n=this,r=e.counterIncrement,i=e.counterReset,s=!0;r!==null&&r.forEach(function(c){var a=n.counters[c.counter];a&&c.increment!==0&&(s=!1,a.length||a.push(1),a[Math.max(0,a.length-1)]+=c.increment)});var l=[];return s&&i.forEach(function(c){var a=n.counters[c.counter];l.push(c.counter),a||(a=n.counters[c.counter]=[]),a.push(c.reset)}),l},t}(),HZ={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},QZ={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},L_t={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},k_t={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},nw=function(t,e,n,r,i,s){return t<e||t>n?Y6(t,i,s.length>0):r.integers.reduce(function(l,c,a){for(;t>=c;)t-=c,l+=r.values[a];return l},"")+s},jde=function(t,e,n,r){var i="";do n||t--,i=r(t)+i,t/=e;while(t*e>=e);return i},Tl=function(t,e,n,r,i){var s=n-e+1;return(t<0?"-":"")+(jde(Math.abs(t),s,r,function(l){return Bl(Math.floor(l%s)+e)})+i)},C_=function(t,e,n){n===void 0&&(n=". ");var r=e.length;return jde(Math.abs(t),r,!1,function(i){return e[Math.floor(i%r)]})+n},xw=1,Bv=2,Mv=4,nC=8,Dg=function(t,e,n,r,i,s){if(t<-9999||t>9999)return Y6(t,4,i.length>0);var l=Math.abs(t),c=i;if(l===0)return e[0]+c;for(var a=0;l>0&&a<=4;a++){var f=l%10;f===0&&_u(s,xw)&&c!==""?c=e[f]+c:f>1||f===1&&a===0||f===1&&a===1&&_u(s,Bv)||f===1&&a===1&&_u(s,Mv)&&t>100||f===1&&a>1&&_u(s,nC)?c=e[f]+(a>0?n[a-1]:"")+c:f===1&&a>0&&(c=n[a-1]+c),l=Math.floor(l/10)}return(t<0?r:"")+c},jZ="十百千萬",GZ="拾佰仟萬",KZ="マイナス",GP="마이너스",Y6=function(t,e,n){var r=n?". ":"",i=n?"、":"",s=n?", ":"",l=n?" ":"";switch(e){case 0:return"•"+l;case 1:return"◦"+l;case 2:return"◾"+l;case 5:var c=Tl(t,48,57,!0,r);return c.length<4?"0"+c:c;case 4:return C_(t,"〇一二三四五六七八九",i);case 6:return nw(t,1,3999,HZ,3,r).toLowerCase();case 7:return nw(t,1,3999,HZ,3,r);case 8:return Tl(t,945,969,!1,r);case 9:return Tl(t,97,122,!1,r);case 10:return Tl(t,65,90,!1,r);case 11:return Tl(t,1632,1641,!0,r);case 12:case 49:return nw(t,1,9999,QZ,3,r);case 35:return nw(t,1,9999,QZ,3,r).toLowerCase();case 13:return Tl(t,2534,2543,!0,r);case 14:case 30:return Tl(t,6112,6121,!0,r);case 15:return C_(t,"子丑寅卯辰巳午未申酉戌亥",i);case 16:return C_(t,"甲乙丙丁戊己庚辛壬癸",i);case 17:case 48:return Dg(t,"零一二三四五六七八九",jZ,"負",i,Bv|Mv|nC);case 47:return Dg(t,"零壹貳參肆伍陸柒捌玖",GZ,"負",i,xw|Bv|Mv|nC);case 42:return Dg(t,"零一二三四五六七八九",jZ,"负",i,Bv|Mv|nC);case 41:return Dg(t,"零壹贰叁肆伍陆柒捌玖",GZ,"负",i,xw|Bv|Mv|nC);case 26:return Dg(t,"〇一二三四五六七八九","十百千万",KZ,i,0);case 25:return Dg(t,"零壱弐参四伍六七八九","拾百千万",KZ,i,xw|Bv|Mv);case 31:return Dg(t,"영일이삼사오육칠팔구","십백천만",GP,s,xw|Bv|Mv);case 33:return Dg(t,"零一二三四五六七八九","十百千萬",GP,s,0);case 32:return Dg(t,"零壹貳參四五六七八九","拾百千",GP,s,xw|Bv|Mv);case 18:return Tl(t,2406,2415,!0,r);case 20:return nw(t,1,19999,k_t,3,r);case 21:return Tl(t,2790,2799,!0,r);case 22:return Tl(t,2662,2671,!0,r);case 22:return nw(t,1,10999,L_t,3,r);case 23:return C_(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return C_(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return Tl(t,3302,3311,!0,r);case 28:return C_(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",i);case 29:return C_(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",i);case 34:return Tl(t,3792,3801,!0,r);case 37:return Tl(t,6160,6169,!0,r);case 38:return Tl(t,4160,4169,!0,r);case 39:return Tl(t,2918,2927,!0,r);case 40:return Tl(t,1776,1785,!0,r);case 43:return Tl(t,3046,3055,!0,r);case 44:return Tl(t,3174,3183,!0,r);case 45:return Tl(t,3664,3673,!0,r);case 46:return Tl(t,3872,3881,!0,r);case 3:default:return Tl(t,48,57,!0,r)}},Gde="data-html2canvas-ignore",WZ=function(){function t(e,n,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new I_t,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,n){var r=this,i=P_t(e,n);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,l=e.defaultView.pageYOffset,c=i.contentWindow,a=c.document,f=O_t(i).then(function(){return ih(r,void 0,void 0,function(){var p,m;return Lc(this,function(v){switch(v.label){case 0:return this.scrolledElements.forEach(z_t),c&&(c.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(c.scrollY!==n.top||c.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(c.scrollX-n.left,c.scrollY-n.top,0,0))),p=this.options.onclone,m=this.clonedReferenceElement,typeof m>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:a.fonts&&a.fonts.ready?[4,a.fonts.ready]:[3,2];case 1:v.sent(),v.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,R_t(a)]:[3,4];case 3:v.sent(),v.label=4;case 4:return typeof p=="function"?[2,Promise.resolve().then(function(){return p(a,m)}).then(function(){return i})]:[2,i]}})})});return a.open(),a.write(N_t(document.doctype)+"<html></html>"),U_t(this.referenceElement.ownerDocument,s,l),a.replaceChild(a.adoptNode(this.documentElement),a.documentElement),a.close(),f},t.prototype.createElementClone=function(e){if(OD(e,2))debugger;if(Vde(e))return this.createCanvasClone(e);if(zZ(e))return this.createVideoClone(e);if($Z(e))return this.createStyleClone(e);var n=e.cloneNode(!1);return zD(n)&&(zD(e)&&e.currentSrc&&e.currentSrc!==e.src&&(n.src=e.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),VZ(n)?this.createCustomElementClone(n):n},t.prototype.createCustomElementClone=function(e){var n=document.createElement("html2canvascustomelement");return KP(e.style,n),n},t.prototype.createStyleClone=function(e){try{var n=e.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(s,l){return l&&typeof l.cssText=="string"?s+l.cssText:s},""),i=e.cloneNode(!1);return i.textContent=r,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var n;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),l=i.getContext("2d");if(l)if(!this.options.allowTaint&&s)l.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var c=(n=e.getContext("webgl2"))!==null&&n!==void 0?n:e.getContext("webgl");if(c){var a=c.getContextAttributes();(a==null?void 0:a.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}l.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var n=e.ownerDocument.createElement("canvas");n.width=e.offsetWidth,n.height=e.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(e,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,n,r){(!Nw(n)||!M_t(n)&&!n.hasAttribute(Gde)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!Nw(n)||!$Z(n))&&e.appendChild(this.cloneNode(n,r))},t.prototype.cloneChildNodes=function(e,n,r){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(Nw(s)&&Qde(s)&&typeof s.assignedNodes=="function"){var l=s.assignedNodes();l.length&&l.forEach(function(c){return i.appendChildNode(n,c,r)})}else this.appendChildNode(n,s,r)},t.prototype.cloneNode=function(e,n){if(zde(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&Nw(e)&&(UD(e)||zT(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=r.getComputedStyle(e),l=r.getComputedStyle(e,":before"),c=r.getComputedStyle(e,":after");this.referenceElement===e&&UD(i)&&(this.clonedReferenceElement=i),Uz(i)&&H_t(i);var a=this.counters.parse(new EZ(this.context,s)),f=this.resolvePseudoContent(e,i,l,VC.BEFORE);VZ(e)&&(n=!0),zZ(e)||this.cloneChildNodes(e,i,n),f&&i.insertBefore(f,i.firstChild);var p=this.resolvePseudoContent(e,i,c,VC.AFTER);return p&&i.appendChild(p),this.counters.pop(a),(s&&(this.options.copyStyles||zT(e))&&!Hde(e)||n)&&KP(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(oB(e)||lB(e))&&(oB(i)||lB(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,n,r,i){var s=this;if(r){var l=r.content,c=n.ownerDocument;if(!(!c||!l||l==="none"||l==="-moz-alt-content"||r.display==="none")){this.counters.parse(new EZ(this.context,r));var a=new E1t(this.context,r),f=c.createElement("html2canvaspseudoelement");KP(r,f),a.content.forEach(function(m){if(m.type===0)f.appendChild(c.createTextNode(m.value));else if(m.type===22){var v=c.createElement("img");v.src=m.value,v.style.opacity="1",f.appendChild(v)}else if(m.type===18){if(m.name==="attr"){var y=m.values.filter(io);y.length&&f.appendChild(c.createTextNode(e.getAttribute(y[0].value)||""))}else if(m.name==="counter"){var T=m.values.filter(j2),C=T[0],k=T[1];if(C&&io(C)){var M=s.counters.getCounterValue(C.value),P=k&&io(k)?RD.parse(s.context,k.value):3;f.appendChild(c.createTextNode(Y6(M,P,!1)))}}else if(m.name==="counters"){var R=m.values.filter(j2),C=R[0],N=R[1],k=R[2];if(C&&io(C)){var z=s.counters.getCounterValues(C.value),H=k&&io(k)?RD.parse(s.context,k.value):3,j=N&&N.type===0?N.value:"",Q=z.map(function(q){return Y6(q,H,!1)}).join(j);f.appendChild(c.createTextNode(Q))}}}else if(m.type===20)switch(m.value){case"open-quote":f.appendChild(c.createTextNode(CZ(a.quotes,s.quoteDepth++,!0)));break;case"close-quote":f.appendChild(c.createTextNode(CZ(a.quotes,--s.quoteDepth,!1)));break;default:f.appendChild(c.createTextNode(m.value))}}),f.className=$D+" "+VD;var p=i===VC.BEFORE?" "+$D:" "+VD;return zT(n)?n.className.baseValue+=p:n.className+=p,f}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),VC;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(VC||(VC={}));var P_t=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute(Gde,"true"),t.body.appendChild(n),n},F_t=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},R_t=function(t){return Promise.all([].slice.call(t.images,0).map(F_t))},O_t=function(t){return new Promise(function(e,n){var r=t.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=t.onload=function(){r.onload=t.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(t))},50)}})},D_t=["all","d","content"],KP=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t.item(n);D_t.indexOf(r)===-1&&e.style.setProperty(r,t.getPropertyValue(r))}return e},N_t=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},U_t=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},z_t=function(t){var e=t[0],n=t[1],r=t[2];e.scrollLeft=n,e.scrollTop=r},$_t=":before",V_t=":after",$D="___html2canvas___pseudoelement_before",VD="___html2canvas___pseudoelement_after",qZ=`{
    content: "" !important;
    display: none !important;
}`,H_t=function(t){Q_t(t,"."+$D+$_t+qZ+`
         .`+VD+V_t+qZ)},Q_t=function(t,e){var n=t.ownerDocument;if(n){var r=n.createElement("style");r.textContent=e,t.appendChild(r)}},Kde=function(){function t(){}return t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),j_t=function(){function t(e,n){this.context=e,this._options=n,this._cache={}}return t.prototype.addImage=function(e){var n=Promise.resolve();return this.has(e)||(qP(e)||q_t(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),n},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return ih(this,void 0,void 0,function(){var n,r,i,s,l=this;return Lc(this,function(c){switch(c.label){case 0:return n=Kde.isSameOrigin(e),r=!WP(e)&&this._options.useCORS===!0&&ic.SUPPORT_CORS_IMAGES&&!n,i=!WP(e)&&!n&&!qP(e)&&typeof this._options.proxy=="string"&&ic.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!WP(e)&&!qP(e)&&!i&&!r?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=c.sent(),c.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(a,f){var p=new Image;p.onload=function(){return a(p)},p.onerror=f,(Y_t(s)||r)&&(p.crossOrigin="anonymous"),p.src=s,p.complete===!0&&setTimeout(function(){return a(p)},500),l._options.imageTimeout>0&&setTimeout(function(){return f("Timed out ("+l._options.imageTimeout+"ms) loading image")},l._options.imageTimeout)})];case 3:return[2,c.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,l){var c=ic.SUPPORT_RESPONSE_TYPE?"blob":"text",a=new XMLHttpRequest;a.onload=function(){if(a.status===200)if(c==="text")s(a.response);else{var m=new FileReader;m.addEventListener("load",function(){return s(m.result)},!1),m.addEventListener("error",function(v){return l(v)},!1),m.readAsDataURL(a.response)}else l("Failed to proxy resource "+i+" with status code "+a.status)},a.onerror=l;var f=r.indexOf("?")>-1?"&":"?";if(a.open("GET",""+r+f+"url="+encodeURIComponent(e)+"&responseType="+c),c!=="text"&&a instanceof XMLHttpRequest&&(a.responseType=c),n._options.imageTimeout){var p=n._options.imageTimeout;a.timeout=p,a.ontimeout=function(){return l("Timed out ("+p+"ms) proxying "+i)}}a.send()})},t}(),G_t=/^data:image\/svg\+xml/i,K_t=/^data:image\/.*;base64,/i,W_t=/^data:image\/.*/i,q_t=function(t){return ic.SUPPORT_SVG_DRAWING||!X_t(t)},WP=function(t){return W_t.test(t)},Y_t=function(t){return K_t.test(t)},qP=function(t){return t.substr(0,4)==="blob"},X_t=function(t){return t.substr(-3).toLowerCase()==="svg"||G_t.test(t)},ii=function(){function t(e,n){this.type=0,this.x=e,this.y=n}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t}(),rw=function(t,e,n){return new ii(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},_3=function(){function t(e,n,r,i){this.type=1,this.start=e,this.startControl=n,this.endControl=r,this.end=i}return t.prototype.subdivide=function(e,n){var r=rw(this.start,this.startControl,e),i=rw(this.startControl,this.endControl,e),s=rw(this.endControl,this.end,e),l=rw(r,i,e),c=rw(i,s,e),a=rw(l,c,e);return n?new t(this.start,r,l,a):new t(a,c,s,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),yf=function(t){return t.type===1},Z_t=function(){function t(e){var n=e.styles,r=e.bounds,i=eC(n.borderTopLeftRadius,r.width,r.height),s=i[0],l=i[1],c=eC(n.borderTopRightRadius,r.width,r.height),a=c[0],f=c[1],p=eC(n.borderBottomRightRadius,r.width,r.height),m=p[0],v=p[1],y=eC(n.borderBottomLeftRadius,r.width,r.height),T=y[0],C=y[1],k=[];k.push((s+a)/r.width),k.push((T+m)/r.width),k.push((l+C)/r.height),k.push((f+v)/r.height);var M=Math.max.apply(Math,k);M>1&&(s/=M,l/=M,a/=M,f/=M,m/=M,v/=M,T/=M,C/=M);var P=r.width-a,R=r.height-v,N=r.width-m,z=r.height-C,H=n.borderTopWidth,j=n.borderRightWidth,Q=n.borderBottomWidth,G=n.borderLeftWidth,ie=Co(n.paddingTop,e.bounds.width),q=Co(n.paddingRight,e.bounds.width),W=Co(n.paddingBottom,e.bounds.width),ee=Co(n.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||l>0?Ho(r.left+G/3,r.top+H/3,s-G/3,l-H/3,Os.TOP_LEFT):new ii(r.left+G/3,r.top+H/3),this.topRightBorderDoubleOuterBox=s>0||l>0?Ho(r.left+P,r.top+H/3,a-j/3,f-H/3,Os.TOP_RIGHT):new ii(r.left+r.width-j/3,r.top+H/3),this.bottomRightBorderDoubleOuterBox=m>0||v>0?Ho(r.left+N,r.top+R,m-j/3,v-Q/3,Os.BOTTOM_RIGHT):new ii(r.left+r.width-j/3,r.top+r.height-Q/3),this.bottomLeftBorderDoubleOuterBox=T>0||C>0?Ho(r.left+G/3,r.top+z,T-G/3,C-Q/3,Os.BOTTOM_LEFT):new ii(r.left+G/3,r.top+r.height-Q/3),this.topLeftBorderDoubleInnerBox=s>0||l>0?Ho(r.left+G*2/3,r.top+H*2/3,s-G*2/3,l-H*2/3,Os.TOP_LEFT):new ii(r.left+G*2/3,r.top+H*2/3),this.topRightBorderDoubleInnerBox=s>0||l>0?Ho(r.left+P,r.top+H*2/3,a-j*2/3,f-H*2/3,Os.TOP_RIGHT):new ii(r.left+r.width-j*2/3,r.top+H*2/3),this.bottomRightBorderDoubleInnerBox=m>0||v>0?Ho(r.left+N,r.top+R,m-j*2/3,v-Q*2/3,Os.BOTTOM_RIGHT):new ii(r.left+r.width-j*2/3,r.top+r.height-Q*2/3),this.bottomLeftBorderDoubleInnerBox=T>0||C>0?Ho(r.left+G*2/3,r.top+z,T-G*2/3,C-Q*2/3,Os.BOTTOM_LEFT):new ii(r.left+G*2/3,r.top+r.height-Q*2/3),this.topLeftBorderStroke=s>0||l>0?Ho(r.left+G/2,r.top+H/2,s-G/2,l-H/2,Os.TOP_LEFT):new ii(r.left+G/2,r.top+H/2),this.topRightBorderStroke=s>0||l>0?Ho(r.left+P,r.top+H/2,a-j/2,f-H/2,Os.TOP_RIGHT):new ii(r.left+r.width-j/2,r.top+H/2),this.bottomRightBorderStroke=m>0||v>0?Ho(r.left+N,r.top+R,m-j/2,v-Q/2,Os.BOTTOM_RIGHT):new ii(r.left+r.width-j/2,r.top+r.height-Q/2),this.bottomLeftBorderStroke=T>0||C>0?Ho(r.left+G/2,r.top+z,T-G/2,C-Q/2,Os.BOTTOM_LEFT):new ii(r.left+G/2,r.top+r.height-Q/2),this.topLeftBorderBox=s>0||l>0?Ho(r.left,r.top,s,l,Os.TOP_LEFT):new ii(r.left,r.top),this.topRightBorderBox=a>0||f>0?Ho(r.left+P,r.top,a,f,Os.TOP_RIGHT):new ii(r.left+r.width,r.top),this.bottomRightBorderBox=m>0||v>0?Ho(r.left+N,r.top+R,m,v,Os.BOTTOM_RIGHT):new ii(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=T>0||C>0?Ho(r.left,r.top+z,T,C,Os.BOTTOM_LEFT):new ii(r.left,r.top+r.height),this.topLeftPaddingBox=s>0||l>0?Ho(r.left+G,r.top+H,Math.max(0,s-G),Math.max(0,l-H),Os.TOP_LEFT):new ii(r.left+G,r.top+H),this.topRightPaddingBox=a>0||f>0?Ho(r.left+Math.min(P,r.width-j),r.top+H,P>r.width+j?0:Math.max(0,a-j),Math.max(0,f-H),Os.TOP_RIGHT):new ii(r.left+r.width-j,r.top+H),this.bottomRightPaddingBox=m>0||v>0?Ho(r.left+Math.min(N,r.width-G),r.top+Math.min(R,r.height-Q),Math.max(0,m-j),Math.max(0,v-Q),Os.BOTTOM_RIGHT):new ii(r.left+r.width-j,r.top+r.height-Q),this.bottomLeftPaddingBox=T>0||C>0?Ho(r.left+G,r.top+Math.min(z,r.height-Q),Math.max(0,T-G),Math.max(0,C-Q),Os.BOTTOM_LEFT):new ii(r.left+G,r.top+r.height-Q),this.topLeftContentBox=s>0||l>0?Ho(r.left+G+ee,r.top+H+ie,Math.max(0,s-(G+ee)),Math.max(0,l-(H+ie)),Os.TOP_LEFT):new ii(r.left+G+ee,r.top+H+ie),this.topRightContentBox=a>0||f>0?Ho(r.left+Math.min(P,r.width+G+ee),r.top+H+ie,P>r.width+G+ee?0:a-G+ee,f-(H+ie),Os.TOP_RIGHT):new ii(r.left+r.width-(j+q),r.top+H+ie),this.bottomRightContentBox=m>0||v>0?Ho(r.left+Math.min(N,r.width-(G+ee)),r.top+Math.min(R,r.height+H+ie),Math.max(0,m-(j+q)),v-(Q+W),Os.BOTTOM_RIGHT):new ii(r.left+r.width-(j+q),r.top+r.height-(Q+W)),this.bottomLeftContentBox=T>0||C>0?Ho(r.left+G+ee,r.top+z,Math.max(0,T-(G+ee)),C-(Q+W),Os.BOTTOM_LEFT):new ii(r.left+G+ee,r.top+r.height-(Q+W))}return t}(),Os;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Os||(Os={}));var Ho=function(t,e,n,r,i){var s=4*((Math.sqrt(2)-1)/3),l=n*s,c=r*s,a=t+n,f=e+r;switch(i){case Os.TOP_LEFT:return new _3(new ii(t,f),new ii(t,f-c),new ii(a-l,e),new ii(a,e));case Os.TOP_RIGHT:return new _3(new ii(t,e),new ii(t+l,e),new ii(a,f-c),new ii(a,f));case Os.BOTTOM_RIGHT:return new _3(new ii(a,e),new ii(a,e+c),new ii(t+l,f),new ii(t,f));case Os.BOTTOM_LEFT:default:return new _3(new ii(a,f),new ii(a-l,f),new ii(t,e+c),new ii(t,e))}},uB=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},J_t=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},cB=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},eyt=function(){function t(e,n,r){this.offsetX=e,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return t}(),y3=function(){function t(e,n){this.path=e,this.target=n,this.type=1}return t}(),tyt=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),nyt=function(t){return t.type===0},Wde=function(t){return t.type===1},ryt=function(t){return t.type===2},YZ=function(t,e){return t.length===e.length?t.some(function(n,r){return n===e[r]}):!1},iyt=function(t,e,n,r,i){return t.map(function(s,l){switch(l){case 0:return s.add(e,n);case 1:return s.add(e+r,n);case 2:return s.add(e+r,n+i);case 3:return s.add(e,n+i)}return s})},qde=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),Yde=function(){function t(e,n){if(this.container=e,this.parent=n,this.effects=[],this.curves=new Z_t(this.container),this.container.styles.opacity<1&&this.effects.push(new tyt(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new eyt(r,i,s))}if(this.container.styles.overflowX!==0){var l=uB(this.curves),c=cB(this.curves);YZ(l,c)?this.effects.push(new y3(l,6)):(this.effects.push(new y3(l,2)),this.effects.push(new y3(c,4)))}}return t.prototype.getEffects=function(e){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,i=this.effects.slice(0);r;){var s=r.effects.filter(function(a){return!Wde(a)});if(n||r.container.styles.position!==0||!r.parent){if(i.unshift.apply(i,s),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var l=uB(r.curves),c=cB(r.curves);YZ(l,c)||i.unshift(new y3(c,6))}}else i.unshift.apply(i,s);r=r.parent}return i.filter(function(a){return _u(a.target,e)})},t}(),HD=function(t,e,n,r){t.container.elements.forEach(function(i){var s=_u(i.flags,4),l=_u(i.flags,2),c=new Yde(i,t);_u(i.styles.display,2048)&&r.push(c);var a=_u(i.flags,8)?[]:r;if(s||l){var f=s||i.styles.isPositioned()?n:e,p=new qde(c);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var m=i.styles.zIndex.order;if(m<0){var v=0;f.negativeZIndex.some(function(T,C){return m>T.element.container.styles.zIndex.order?(v=C,!1):v>0}),f.negativeZIndex.splice(v,0,p)}else if(m>0){var y=0;f.positiveZIndex.some(function(T,C){return m>=T.element.container.styles.zIndex.order?(y=C+1,!1):y>0}),f.positiveZIndex.splice(y,0,p)}else f.zeroOrAutoZIndexOrTransformedOrOpacity.push(p)}else i.styles.isFloating()?f.nonPositionedFloats.push(p):f.nonPositionedInlineLevel.push(p);HD(c,p,s?p:n,a)}else i.styles.isInlineLevel()?e.inlineLevel.push(c):e.nonInlineLevel.push(c),HD(c,e,n,a);_u(i.flags,8)&&Xde(i,a)})},Xde=function(t,e){for(var n=t instanceof ND?t.start:1,r=t instanceof ND?t.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof Fde&&typeof s.container.value=="number"&&s.container.value!==0&&(n=s.container.value),s.listValue=Y6(n,s.container.styles.listStyleType,!0),n+=r?-1:1}},ayt=function(t){var e=new Yde(t,null),n=new qde(e),r=[];return HD(e,n,n,r),Xde(e.container,r),n},XZ=function(t,e){switch(e){case 0:return Mf(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Mf(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Mf(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Mf(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},syt=function(t,e){switch(e){case 0:return Mf(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Mf(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Mf(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Mf(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},oyt=function(t,e){switch(e){case 0:return Mf(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Mf(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Mf(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Mf(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},lyt=function(t,e){switch(e){case 0:return b3(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return b3(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return b3(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return b3(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},b3=function(t,e){var n=[];return yf(t)?n.push(t.subdivide(.5,!1)):n.push(t),yf(e)?n.push(e.subdivide(.5,!0)):n.push(e),n},Mf=function(t,e,n,r){var i=[];return yf(t)?i.push(t.subdivide(.5,!1)):i.push(t),yf(n)?i.push(n.subdivide(.5,!0)):i.push(n),yf(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),yf(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},Zde=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},hB=function(t){var e=t.styles,n=t.bounds,r=Co(e.paddingLeft,n.width),i=Co(e.paddingRight,n.width),s=Co(e.paddingTop,n.width),l=Co(e.paddingBottom,n.width);return n.add(r+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+i),-(e.borderTopWidth+e.borderBottomWidth+s+l))},uyt=function(t,e){return t===0?e.bounds:t===2?hB(e):Zde(e)},cyt=function(t,e){return t===0?e.bounds:t===2?hB(e):Zde(e)},YP=function(t,e,n){var r=uyt(Cw(t.styles.backgroundOrigin,e),t),i=cyt(Cw(t.styles.backgroundClip,e),t),s=hyt(Cw(t.styles.backgroundSize,e),n,r),l=s[0],c=s[1],a=eC(Cw(t.styles.backgroundPosition,e),r.width-l,r.height-c),f=dyt(Cw(t.styles.backgroundRepeat,e),a,s,r,i),p=Math.round(r.left+a[0]),m=Math.round(r.top+a[1]);return[f,p,m,l,c]},iw=function(t){return io(t)&&t.value===u2.AUTO},w3=function(t){return typeof t=="number"},hyt=function(t,e,n){var r=e[0],i=e[1],s=e[2],l=t[0],c=t[1];if(!l)return[0,0];if(au(l)&&c&&au(c))return[Co(l,n.width),Co(c,n.height)];var a=w3(s);if(io(l)&&(l.value===u2.CONTAIN||l.value===u2.COVER)){if(w3(s)){var f=n.width/n.height;return f<s!=(l.value===u2.COVER)?[n.width,n.width/s]:[n.height*s,n.height]}return[n.width,n.height]}var p=w3(r),m=w3(i),v=p||m;if(iw(l)&&(!c||iw(c))){if(p&&m)return[r,i];if(!a&&!v)return[n.width,n.height];if(v&&a){var y=p?r:i*s,T=m?i:r/s;return[y,T]}var C=p?r:n.width,k=m?i:n.height;return[C,k]}if(a){var M=0,P=0;return au(l)?M=Co(l,n.width):au(c)&&(P=Co(c,n.height)),iw(l)?M=P*s:(!c||iw(c))&&(P=M/s),[M,P]}var R=null,N=null;if(au(l)?R=Co(l,n.width):c&&au(c)&&(N=Co(c,n.height)),R!==null&&(!c||iw(c))&&(N=p&&m?R/r*i:n.height),N!==null&&iw(l)&&(R=p&&m?N/i*r:n.width),R!==null&&N!==null)return[R,N];throw new Error("Unable to calculate background-size for element")},Cw=function(t,e){var n=t[e];return typeof n>"u"?t[0]:n},dyt=function(t,e,n,r,i){var s=e[0],l=e[1],c=n[0],a=n[1];switch(t){case 2:return[new ii(Math.round(r.left),Math.round(r.top+l)),new ii(Math.round(r.left+r.width),Math.round(r.top+l)),new ii(Math.round(r.left+r.width),Math.round(a+r.top+l)),new ii(Math.round(r.left),Math.round(a+r.top+l))];case 3:return[new ii(Math.round(r.left+s),Math.round(r.top)),new ii(Math.round(r.left+s+c),Math.round(r.top)),new ii(Math.round(r.left+s+c),Math.round(r.height+r.top)),new ii(Math.round(r.left+s),Math.round(r.height+r.top))];case 1:return[new ii(Math.round(r.left+s),Math.round(r.top+l)),new ii(Math.round(r.left+s+c),Math.round(r.top+l)),new ii(Math.round(r.left+s+c),Math.round(r.top+l+a)),new ii(Math.round(r.left+s),Math.round(r.top+l+a))];default:return[new ii(Math.round(i.left),Math.round(i.top)),new ii(Math.round(i.left+i.width),Math.round(i.top)),new ii(Math.round(i.left+i.width),Math.round(i.height+i.top)),new ii(Math.round(i.left),Math.round(i.height+i.top))]}},fyt="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",ZZ="Hidden Text",pyt=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,n){var r=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),l=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",l.appendChild(r),i.src=fyt,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=n,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(ZZ)),r.appendChild(s),r.appendChild(i);var c=i.offsetTop-s.offsetTop+2;r.removeChild(s),r.appendChild(this._document.createTextNode(ZZ)),r.style.lineHeight="normal",i.style.verticalAlign="super";var a=i.offsetTop-r.offsetTop+2;return l.removeChild(r),{baseline:c,middle:a}},t.prototype.getMetrics=function(e,n){var r=e+" "+n;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(e,n)),this._data[r]},t}(),Jde=function(){function t(e,n){this.context=e,this.options=n}return t}(),Ayt=1e4,myt=function(t){AA(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i._activeEffects=[],i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),r.canvas||(i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px"),i.fontMetrics=new pyt(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),i}return e.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(i){return r.applyEffect(i)})},e.prototype.applyEffect=function(n){this.ctx.save(),ryt(n)&&(this.ctx.globalAlpha=n.opacity),nyt(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),Wde(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(n){return ih(this,void 0,void 0,function(){var r;return Lc(this,function(i){switch(i.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(n){return ih(this,void 0,void 0,function(){return Lc(this,function(r){switch(r.label){case 0:if(_u(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(n,r,i){var s=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+i);else{var l=Dz(n.text);l.reduce(function(c,a){return s.ctx.fillText(a,c,n.bounds.top+i),c+s.ctx.measureText(a).width},n.bounds.left)}},e.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(l){return l==="normal"||l==="small-caps"}).join(""),i=byt(n.fontFamily).join(", "),s=Q5(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(n,r){return ih(this,void 0,void 0,function(){var i,s,l,c,a,f,p,m,v=this;return Lc(this,function(y){return i=this.createFontStyle(r),s=i[0],l=i[1],c=i[2],this.ctx.font=s,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",a=this.fontMetrics.getMetrics(l,c),f=a.baseline,p=a.middle,m=r.paintOrder,n.textBounds.forEach(function(T){m.forEach(function(C){switch(C){case 0:v.ctx.fillStyle=zu(r.color),v.renderTextWithLetterSpacing(T,r.letterSpacing,f);var k=r.textShadow;k.length&&T.text.trim().length&&(k.slice(0).reverse().forEach(function(M){v.ctx.shadowColor=zu(M.color),v.ctx.shadowOffsetX=M.offsetX.number*v.options.scale,v.ctx.shadowOffsetY=M.offsetY.number*v.options.scale,v.ctx.shadowBlur=M.blur.number,v.renderTextWithLetterSpacing(T,r.letterSpacing,f)}),v.ctx.shadowColor="",v.ctx.shadowOffsetX=0,v.ctx.shadowOffsetY=0,v.ctx.shadowBlur=0),r.textDecorationLine.length&&(v.ctx.fillStyle=zu(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(M){switch(M){case 1:v.ctx.fillRect(T.bounds.left,Math.round(T.bounds.top+f),T.bounds.width,1);break;case 2:v.ctx.fillRect(T.bounds.left,Math.round(T.bounds.top),T.bounds.width,1);break;case 3:v.ctx.fillRect(T.bounds.left,Math.ceil(T.bounds.top+p),T.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&T.text.trim().length&&(v.ctx.strokeStyle=zu(r.webkitTextStrokeColor),v.ctx.lineWidth=r.webkitTextStrokeWidth,v.ctx.lineJoin=window.chrome?"miter":"round",v.ctx.strokeText(T.text,T.bounds.left,T.bounds.top+f)),v.ctx.strokeStyle="",v.ctx.lineWidth=0,v.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(n,r,i){if(i&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var s=hB(n),l=cB(r);this.path(l),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,n.intrinsicWidth,n.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(n){return ih(this,void 0,void 0,function(){var r,i,s,l,c,a,P,P,f,p,m,v,N,y,T,z,C,k,M,P,R,N,z;return Lc(this,function(H){switch(H.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,i=n.curves,s=r.styles,l=0,c=r.textNodes,H.label=1;case 1:return l<c.length?(a=c[l],[4,this.renderTextNode(a,s)]):[3,4];case 2:H.sent(),H.label=3;case 3:return l++,[3,1];case 4:if(!(r instanceof Lde))return[3,8];H.label=5;case 5:return H.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return P=H.sent(),this.renderReplacedElement(r,i,P),[3,8];case 7:return H.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof kde&&this.renderReplacedElement(r,i,r.canvas),!(r instanceof Pde))return[3,12];H.label=9;case 9:return H.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return P=H.sent(),this.renderReplacedElement(r,i,P),[3,12];case 11:return H.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof Dde&&r.tree?(f=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,f.render(r.tree)]):[3,14];case 13:p=H.sent(),r.width&&r.height&&this.ctx.drawImage(p,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),H.label=14;case 14:if(r instanceof Nz&&(m=Math.min(r.bounds.width,r.bounds.height),r.type===aB?r.checked&&(this.ctx.save(),this.path([new ii(r.bounds.left+m*.39363,r.bounds.top+m*.79),new ii(r.bounds.left+m*.16,r.bounds.top+m*.5549),new ii(r.bounds.left+m*.27347,r.bounds.top+m*.44071),new ii(r.bounds.left+m*.39694,r.bounds.top+m*.5649),new ii(r.bounds.left+m*.72983,r.bounds.top+m*.23),new ii(r.bounds.left+m*.84,r.bounds.top+m*.34085),new ii(r.bounds.left+m*.39363,r.bounds.top+m*.79)]),this.ctx.fillStyle=zu(UZ),this.ctx.fill(),this.ctx.restore()):r.type===sB&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+m/2,r.bounds.top+m/2,m/4,0,Math.PI*2,!0),this.ctx.fillStyle=zu(UZ),this.ctx.fill(),this.ctx.restore())),gyt(r)&&r.value.length){switch(v=this.createFontStyle(s),N=v[0],y=v[1],T=this.fontMetrics.getMetrics(N,y).baseline,this.ctx.font=N,this.ctx.fillStyle=zu(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=_yt(r.styles.textAlign),z=hB(r),C=0,r.styles.textAlign){case 1:C+=z.width/2;break;case 2:C+=z.width;break}k=z.add(C,0,0,-z.height/2+1),this.ctx.save(),this.path([new ii(z.left,z.top),new ii(z.left+z.width,z.top),new ii(z.left+z.width,z.top+z.height),new ii(z.left,z.top+z.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new $C(r.value,k),s.letterSpacing,T),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!_u(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(M=r.styles.listStyleImage,M.type!==0)return[3,18];P=void 0,R=M.url,H.label=15;case 15:return H.trys.push([15,17,,18]),[4,this.context.cache.match(R)];case 16:return P=H.sent(),this.ctx.drawImage(P,r.bounds.left-(P.width+10),r.bounds.top),[3,18];case 17:return H.sent(),this.context.logger.error("Error loading list-style-image "+R),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(N=this.createFontStyle(s)[0],this.ctx.font=N,this.ctx.fillStyle=zu(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",z=new h0(r.bounds.left,r.bounds.top+Co(r.styles.paddingTop,r.bounds.width),r.bounds.width,wZ(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new $C(n.listValue,z),s.letterSpacing,wZ(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),H.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(n){return ih(this,void 0,void 0,function(){var r,i,M,s,l,M,c,a,M,f,p,M,m,v,M,y,T,M,C,k,M;return Lc(this,function(P){switch(P.label){case 0:if(_u(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:P.sent(),r=0,i=n.negativeZIndex,P.label=2;case 2:return r<i.length?(M=i[r],[4,this.renderStack(M)]):[3,5];case 3:P.sent(),P.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:P.sent(),s=0,l=n.nonInlineLevel,P.label=7;case 7:return s<l.length?(M=l[s],[4,this.renderNode(M)]):[3,10];case 8:P.sent(),P.label=9;case 9:return s++,[3,7];case 10:c=0,a=n.nonPositionedFloats,P.label=11;case 11:return c<a.length?(M=a[c],[4,this.renderStack(M)]):[3,14];case 12:P.sent(),P.label=13;case 13:return c++,[3,11];case 14:f=0,p=n.nonPositionedInlineLevel,P.label=15;case 15:return f<p.length?(M=p[f],[4,this.renderStack(M)]):[3,18];case 16:P.sent(),P.label=17;case 17:return f++,[3,15];case 18:m=0,v=n.inlineLevel,P.label=19;case 19:return m<v.length?(M=v[m],[4,this.renderNode(M)]):[3,22];case 20:P.sent(),P.label=21;case 21:return m++,[3,19];case 22:y=0,T=n.zeroOrAutoZIndexOrTransformedOrOpacity,P.label=23;case 23:return y<T.length?(M=T[y],[4,this.renderStack(M)]):[3,26];case 24:P.sent(),P.label=25;case 25:return y++,[3,23];case 26:C=0,k=n.positiveZIndex,P.label=27;case 27:return C<k.length?(M=k[C],[4,this.renderStack(M)]):[3,30];case 28:P.sent(),P.label=29;case 29:return C++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},e.prototype.formatPath=function(n){var r=this;n.forEach(function(i,s){var l=yf(i)?i.start:i;s===0?r.ctx.moveTo(l.x,l.y):r.ctx.lineTo(l.x,l.y),yf(i)&&r.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(n,r,i,s){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(n,r,i){var s;if(n.width===r&&n.height===i)return n;var l=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,c=l.createElement("canvas");c.width=Math.max(1,r),c.height=Math.max(1,i);var a=c.getContext("2d");return a.drawImage(n,0,0,n.width,n.height,0,0,r,i),c},e.prototype.renderBackgroundImage=function(n){return ih(this,void 0,void 0,function(){var r,i,s,l,c,a;return Lc(this,function(f){switch(f.label){case 0:r=n.styles.backgroundImage.length-1,i=function(p){var m,v,y,ie,te,ne,ee,he,Q,T,ie,te,ne,ee,he,C,k,M,P,R,N,z,H,j,Q,G,ie,q,W,ee,he,J,te,ne,ce,ue,ye,Ee,se,oe,_e,Ue;return Lc(this,function(Le){switch(Le.label){case 0:if(p.type!==0)return[3,5];m=void 0,v=p.url,Le.label=1;case 1:return Le.trys.push([1,3,,4]),[4,s.context.cache.match(v)];case 2:return m=Le.sent(),[3,4];case 3:return Le.sent(),s.context.logger.error("Error loading background-image "+v),[3,4];case 4:return m&&(y=YP(n,r,[m.width,m.height,m.width/m.height]),ie=y[0],te=y[1],ne=y[2],ee=y[3],he=y[4],Q=s.ctx.createPattern(s.resizeImage(m,ee,he),"repeat"),s.renderRepeat(ie,Q,te,ne)),[3,6];case 5:nvt(p)?(T=YP(n,r,[null,null,null]),ie=T[0],te=T[1],ne=T[2],ee=T[3],he=T[4],C=X0t(p.angle,ee,he),k=C[0],M=C[1],P=C[2],R=C[3],N=C[4],z=document.createElement("canvas"),z.width=ee,z.height=he,H=z.getContext("2d"),j=H.createLinearGradient(M,R,P,N),yZ(p.stops,k).forEach(function(be){return j.addColorStop(be.stop,zu(be.color))}),H.fillStyle=j,H.fillRect(0,0,ee,he),ee>0&&he>0&&(Q=s.ctx.createPattern(z,"repeat"),s.renderRepeat(ie,Q,te,ne))):rvt(p)&&(G=YP(n,r,[null,null,null]),ie=G[0],q=G[1],W=G[2],ee=G[3],he=G[4],J=p.position.length===0?[Fz]:p.position,te=Co(J[0],ee),ne=Co(J[J.length-1],he),ce=Z0t(p,te,ne,ee,he),ue=ce[0],ye=ce[1],ue>0&&ye>0&&(Ee=s.ctx.createRadialGradient(q+te,W+ne,0,q+te,W+ne,ue),yZ(p.stops,ue*2).forEach(function(be){return Ee.addColorStop(be.stop,zu(be.color))}),s.path(ie),s.ctx.fillStyle=Ee,ue!==ye?(se=n.bounds.left+.5*n.bounds.width,oe=n.bounds.top+.5*n.bounds.height,_e=ye/ue,Ue=1/_e,s.ctx.save(),s.ctx.translate(se,oe),s.ctx.transform(1,0,0,_e,0,0),s.ctx.translate(-se,-oe),s.ctx.fillRect(q,Ue*(W-oe)+oe,ee,he*Ue),s.ctx.restore()):s.ctx.fill())),Le.label=6;case 6:return r--,[2]}})},s=this,l=0,c=n.styles.backgroundImage.slice(0).reverse(),f.label=1;case 1:return l<c.length?(a=c[l],[5,i(a)]):[3,4];case 2:f.sent(),f.label=3;case 3:return l++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(n,r,i){return ih(this,void 0,void 0,function(){return Lc(this,function(s){return this.path(XZ(i,r)),this.ctx.fillStyle=zu(n),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(n,r,i,s){return ih(this,void 0,void 0,function(){var l,c;return Lc(this,function(a){switch(a.label){case 0:return r<3?[4,this.renderSolidBorder(n,i,s)]:[3,2];case 1:return a.sent(),[2];case 2:return l=syt(s,i),this.path(l),this.ctx.fillStyle=zu(n),this.ctx.fill(),c=oyt(s,i),this.path(c),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(n){return ih(this,void 0,void 0,function(){var r,i,s,l,c,a,f,p,m=this;return Lc(this,function(v){switch(v.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,i=!l1(r.backgroundColor)||r.backgroundImage.length,s=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],l=vyt(Cw(r.backgroundClip,0),n.curves),i||r.boxShadow.length?(this.ctx.save(),this.path(l),this.ctx.clip(),l1(r.backgroundColor)||(this.ctx.fillStyle=zu(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:v.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(y){m.ctx.save();var T=uB(n.curves),C=y.inset?0:Ayt,k=iyt(T,-C+(y.inset?1:-1)*y.spread.number,(y.inset?1:-1)*y.spread.number,y.spread.number*(y.inset?-2:2),y.spread.number*(y.inset?-2:2));y.inset?(m.path(T),m.ctx.clip(),m.mask(k)):(m.mask(T),m.ctx.clip(),m.path(k)),m.ctx.shadowOffsetX=y.offsetX.number+C,m.ctx.shadowOffsetY=y.offsetY.number,m.ctx.shadowColor=zu(y.color),m.ctx.shadowBlur=y.blur.number,m.ctx.fillStyle=y.inset?zu(y.color):"rgba(0,0,0,1)",m.ctx.fill(),m.ctx.restore()}),v.label=2;case 2:c=0,a=0,f=s,v.label=3;case 3:return a<f.length?(p=f[a],p.style!==0&&!l1(p.color)&&p.width>0?p.style!==2?[3,5]:[4,this.renderDashedDottedBorder(p.color,p.width,c,n.curves,2)]:[3,11]):[3,13];case 4:return v.sent(),[3,11];case 5:return p.style!==3?[3,7]:[4,this.renderDashedDottedBorder(p.color,p.width,c,n.curves,3)];case 6:return v.sent(),[3,11];case 7:return p.style!==4?[3,9]:[4,this.renderDoubleBorder(p.color,p.width,c,n.curves)];case 8:return v.sent(),[3,11];case 9:return[4,this.renderSolidBorder(p.color,c,n.curves)];case 10:v.sent(),v.label=11;case 11:c++,v.label=12;case 12:return a++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(n,r,i,s,l){return ih(this,void 0,void 0,function(){var c,a,f,p,m,v,y,T,C,k,M,P,R,N,z,H,z,H;return Lc(this,function(j){return this.ctx.save(),c=lyt(s,i),a=XZ(s,i),l===2&&(this.path(a),this.ctx.clip()),yf(a[0])?(f=a[0].start.x,p=a[0].start.y):(f=a[0].x,p=a[0].y),yf(a[1])?(m=a[1].end.x,v=a[1].end.y):(m=a[1].x,v=a[1].y),i===0||i===2?y=Math.abs(f-m):y=Math.abs(p-v),this.ctx.beginPath(),l===3?this.formatPath(c):this.formatPath(a.slice(0,2)),T=r<3?r*3:r*2,C=r<3?r*2:r,l===3&&(T=r,C=r),k=!0,y<=T*2?k=!1:y<=T*2+C?(M=y/(2*T+C),T*=M,C*=M):(P=Math.floor((y+C)/(T+C)),R=(y-P*T)/(P-1),N=(y-(P+1)*T)/P,C=N<=0||Math.abs(C-R)<Math.abs(C-N)?R:N),k&&(l===3?this.ctx.setLineDash([0,T+C]):this.ctx.setLineDash([T,C])),l===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=zu(n),this.ctx.stroke(),this.ctx.setLineDash([]),l===2&&(yf(a[0])&&(z=a[3],H=a[0],this.ctx.beginPath(),this.formatPath([new ii(z.end.x,z.end.y),new ii(H.start.x,H.start.y)]),this.ctx.stroke()),yf(a[1])&&(z=a[1],H=a[2],this.ctx.beginPath(),this.formatPath([new ii(z.end.x,z.end.y),new ii(H.start.x,H.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(n){return ih(this,void 0,void 0,function(){var r;return Lc(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=zu(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=ayt(n),[4,this.renderStack(r)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(Jde),gyt=function(t){return t instanceof Ode||t instanceof Rde?!0:t instanceof Nz&&t.type!==sB&&t.type!==aB},vyt=function(t,e){switch(t){case 0:return uB(e);case 2:return J_t(e);case 1:default:return cB(e)}},_yt=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},yyt=["-apple-system","system-ui"],byt=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return yyt.indexOf(e)===-1}):t},wyt=function(t){AA(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=r,i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),i}return e.prototype.render=function(n){return ih(this,void 0,void 0,function(){var r,i;return Lc(this,function(s){switch(s.label){case 0:return r=DD(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,xyt(r)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=zu(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(Jde),xyt=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Cyt=function(){function t(e){var n=e.id,r=e.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,e3([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,e3([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,e3([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,e3([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),Eyt=function(){function t(e,n){var r;this.windowBounds=n,this.instanceName="#"+t.instanceCount++,this.logger=new Cyt({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new j_t(this,e)}return t.instanceCount=1,t}(),Syt=function(t,e){return e===void 0&&(e={}),Tyt(t,e)};typeof window<"u"&&Kde.setContext(window);var Tyt=function(t,e){return ih(void 0,void 0,void 0,function(){var n,r,i,s,l,c,a,f,p,m,v,y,T,C,k,M,P,R,N,z,j,H,j,Q,G,ie,q,W,ee,he,J,te,ne,ce,ue,ye,Ee,se,oe,_e;return Lc(this,function(Ue){switch(Ue.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=t.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return i={allowTaint:(Q=e.allowTaint)!==null&&Q!==void 0?Q:!1,imageTimeout:(G=e.imageTimeout)!==null&&G!==void 0?G:15e3,proxy:e.proxy,useCORS:(ie=e.useCORS)!==null&&ie!==void 0?ie:!1},s=wD({logging:(q=e.logging)!==null&&q!==void 0?q:!0,cache:e.cache},i),l={windowWidth:(W=e.windowWidth)!==null&&W!==void 0?W:r.innerWidth,windowHeight:(ee=e.windowHeight)!==null&&ee!==void 0?ee:r.innerHeight,scrollX:(he=e.scrollX)!==null&&he!==void 0?he:r.pageXOffset,scrollY:(J=e.scrollY)!==null&&J!==void 0?J:r.pageYOffset},c=new h0(l.scrollX,l.scrollY,l.windowWidth,l.windowHeight),a=new Eyt(s,c),f=(te=e.foreignObjectRendering)!==null&&te!==void 0?te:!1,p={allowTaint:(ne=e.allowTaint)!==null&&ne!==void 0?ne:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:f,copyStyles:f},a.logger.debug("Starting document clone with size "+c.width+"x"+c.height+" scrolled to "+-c.left+","+-c.top),m=new WZ(a,t,p),v=m.clonedReferenceElement,v?[4,m.toIFrame(n,c)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return y=Ue.sent(),T=Uz(v)||B_t(v)?igt(v.ownerDocument):YM(a,v),C=T.width,k=T.height,M=T.left,P=T.top,R=Byt(a,v,e.backgroundColor),N={canvas:e.canvas,backgroundColor:R,scale:(ue=(ce=e.scale)!==null&&ce!==void 0?ce:r.devicePixelRatio)!==null&&ue!==void 0?ue:1,x:((ye=e.x)!==null&&ye!==void 0?ye:0)+M,y:((Ee=e.y)!==null&&Ee!==void 0?Ee:0)+P,width:(se=e.width)!==null&&se!==void 0?se:Math.ceil(C),height:(oe=e.height)!==null&&oe!==void 0?oe:Math.ceil(k)},f?(a.logger.debug("Document cloned, using foreign object rendering"),j=new wyt(a,N),[4,j.render(v)]):[3,3];case 2:return z=Ue.sent(),[3,5];case 3:return a.logger.debug("Document cloned, element located at "+M+","+P+" with size "+C+"x"+k+" using computed rendering"),a.logger.debug("Starting DOM parsing"),H=Ude(a,v),R===H.styles.backgroundColor&&(H.styles.backgroundColor=t0.TRANSPARENT),a.logger.debug("Starting renderer for element at "+N.x+","+N.y+" with size "+N.width+"x"+N.height),j=new myt(a,N),[4,j.render(H)];case 4:z=Ue.sent(),Ue.label=5;case 5:return(!((_e=e.removeContainer)!==null&&_e!==void 0)||_e)&&(WZ.destroy(y)||a.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),a.logger.debug("Finished rendering"),[2,z]}})})},Byt=function(t,e,n){var r=e.ownerDocument,i=r.documentElement?UC(t,getComputedStyle(r.documentElement).backgroundColor):t0.TRANSPARENT,s=r.body?UC(t,getComputedStyle(r.body).backgroundColor):t0.TRANSPARENT,l=typeof n=="string"?UC(t,n):n===null?t0.TRANSPARENT:4294967295;return e===r.documentElement?l1(i)?l1(s)?l:s:i:l};const Myt=Object.freeze(Object.defineProperty({__proto__:null,default:Syt},Symbol.toStringTag,{value:"Module"}));/*! @license DOMPurify 2.4.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.7/LICENSE */function zv(t){"@babel/helpers - typeof";return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zv(t)}function QD(t,e){return QD=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},QD(t,e)}function Iyt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $T(t,e,n){return Iyt()?$T=Reflect.construct:$T=function(i,s,l){var c=[null];c.push.apply(c,s);var a=Function.bind.apply(i,c),f=new a;return l&&QD(f,l.prototype),f},$T.apply(null,arguments)}function Up(t){return Lyt(t)||kyt(t)||Pyt(t)||Fyt()}function Lyt(t){if(Array.isArray(t))return jD(t)}function kyt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pyt(t,e){if(t){if(typeof t=="string")return jD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jD(t,e)}}function jD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fyt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ryt=Object.hasOwnProperty,JZ=Object.setPrototypeOf,Oyt=Object.isFrozen,Dyt=Object.getPrototypeOf,Nyt=Object.getOwnPropertyDescriptor,dh=Object.freeze,sA=Object.seal,Uyt=Object.create,efe=typeof Reflect<"u"&&Reflect,dB=efe.apply,GD=efe.construct;dB||(dB=function(e,n,r){return e.apply(n,r)});dh||(dh=function(e){return e});sA||(sA=function(e){return e});GD||(GD=function(e,n){return $T(e,Up(n))});var zyt=Vf(Array.prototype.forEach),eJ=Vf(Array.prototype.pop),k4=Vf(Array.prototype.push),VT=Vf(String.prototype.toLowerCase),XP=Vf(String.prototype.toString),$yt=Vf(String.prototype.match),Fp=Vf(String.prototype.replace),Vyt=Vf(String.prototype.indexOf),Hyt=Vf(String.prototype.trim),th=Vf(RegExp.prototype.test),ZP=Qyt(TypeError);function Vf(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return dB(t,e,r)}}function Qyt(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return GD(t,n)}}function $a(t,e,n){var r;n=(r=n)!==null&&r!==void 0?r:VT,JZ&&JZ(t,null);for(var i=e.length;i--;){var s=e[i];if(typeof s=="string"){var l=n(s);l!==s&&(Oyt(e)||(e[i]=l),s=l)}t[s]=!0}return t}function E_(t){var e=Uyt(null),n;for(n in t)dB(Ryt,t,[n])===!0&&(e[n]=t[n]);return e}function x3(t,e){for(;t!==null;){var n=Nyt(t,e);if(n){if(n.get)return Vf(n.get);if(typeof n.value=="function")return Vf(n.value)}t=Dyt(t)}function r(i){return console.warn("fallback value for",i),null}return r}var tJ=dh(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),JP=dh(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),eF=dh(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),jyt=dh(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),tF=dh(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Gyt=dh(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),nJ=dh(["#text"]),rJ=dh(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),nF=dh(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),iJ=dh(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),C3=dh(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Kyt=sA(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Wyt=sA(/<%[\w\W]*|[\w\W]*%>/gm),qyt=sA(/\${[\w\W]*}/gm),Yyt=sA(/^data-[\-\w.\u00B7-\uFFFF]/),Xyt=sA(/^aria-[\-\w]+$/),Zyt=sA(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Jyt=sA(/^(?:\w+script|data):/i),ebt=sA(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),tbt=sA(/^html$/i),nbt=function(){return typeof window>"u"?null:window},rbt=function(e,n){if(zv(e)!=="object"||typeof e.createPolicy!="function")return null;var r=null,i="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(i)&&(r=n.currentScript.getAttribute(i));var s="dompurify"+(r?"#"+r:"");try{return e.createPolicy(s,{createHTML:function(c){return c},createScriptURL:function(c){return c}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}};function tfe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:nbt(),e=function(Kt){return tfe(Kt)};if(e.version="2.4.7",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;var n=t.document,r=t.document,i=t.DocumentFragment,s=t.HTMLTemplateElement,l=t.Node,c=t.Element,a=t.NodeFilter,f=t.NamedNodeMap,p=f===void 0?t.NamedNodeMap||t.MozNamedAttrMap:f,m=t.HTMLFormElement,v=t.DOMParser,y=t.trustedTypes,T=c.prototype,C=x3(T,"cloneNode"),k=x3(T,"nextSibling"),M=x3(T,"childNodes"),P=x3(T,"parentNode");if(typeof s=="function"){var R=r.createElement("template");R.content&&R.content.ownerDocument&&(r=R.content.ownerDocument)}var N=rbt(y,n),z=N?N.createHTML(""):"",H=r,j=H.implementation,Q=H.createNodeIterator,G=H.createDocumentFragment,ie=H.getElementsByTagName,q=n.importNode,W={};try{W=E_(r).documentMode?r.documentMode:{}}catch{}var ee={};e.isSupported=typeof P=="function"&&j&&j.createHTMLDocument!==void 0&&W!==9;var he=Kyt,J=Wyt,te=qyt,ne=Yyt,ce=Xyt,ue=Jyt,ye=ebt,Ee=Zyt,se=null,oe=$a({},[].concat(Up(tJ),Up(JP),Up(eF),Up(tF),Up(nJ))),_e=null,Ue=$a({},[].concat(Up(rJ),Up(nF),Up(iJ),Up(C3))),Le=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),be=null,Re=null,Qe=!0,Je=!0,nt=!1,Ve=!0,ke=!1,Ge=!1,Ne=!1,je=!1,Ye=!1,vt=!1,Lt=!1,Et=!0,Vt=!1,_t="user-content-",qt=!0,tn=!1,Nt={},wt=null,De=$a({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),We=null,ut=$a({},["audio","video","img","source","image","track"]),It=null,Xe=$a({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),kt="http://www.w3.org/1998/Math/MathML",Bt="http://www.w3.org/2000/svg",it="http://www.w3.org/1999/xhtml",Mt=it,at=!1,et=null,St=$a({},[kt,Bt,it],XP),sn,bn=["application/xhtml+xml","text/html"],gr="text/html",tr,Nn=null,lr=r.createElement("form"),Qr=function(Kt){return Kt instanceof RegExp||Kt instanceof Function},Ci=function(Kt){Nn&&Nn===Kt||((!Kt||zv(Kt)!=="object")&&(Kt={}),Kt=E_(Kt),sn=bn.indexOf(Kt.PARSER_MEDIA_TYPE)===-1?sn=gr:sn=Kt.PARSER_MEDIA_TYPE,tr=sn==="application/xhtml+xml"?XP:VT,se="ALLOWED_TAGS"in Kt?$a({},Kt.ALLOWED_TAGS,tr):oe,_e="ALLOWED_ATTR"in Kt?$a({},Kt.ALLOWED_ATTR,tr):Ue,et="ALLOWED_NAMESPACES"in Kt?$a({},Kt.ALLOWED_NAMESPACES,XP):St,It="ADD_URI_SAFE_ATTR"in Kt?$a(E_(Xe),Kt.ADD_URI_SAFE_ATTR,tr):Xe,We="ADD_DATA_URI_TAGS"in Kt?$a(E_(ut),Kt.ADD_DATA_URI_TAGS,tr):ut,wt="FORBID_CONTENTS"in Kt?$a({},Kt.FORBID_CONTENTS,tr):De,be="FORBID_TAGS"in Kt?$a({},Kt.FORBID_TAGS,tr):{},Re="FORBID_ATTR"in Kt?$a({},Kt.FORBID_ATTR,tr):{},Nt="USE_PROFILES"in Kt?Kt.USE_PROFILES:!1,Qe=Kt.ALLOW_ARIA_ATTR!==!1,Je=Kt.ALLOW_DATA_ATTR!==!1,nt=Kt.ALLOW_UNKNOWN_PROTOCOLS||!1,Ve=Kt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ke=Kt.SAFE_FOR_TEMPLATES||!1,Ge=Kt.WHOLE_DOCUMENT||!1,Ye=Kt.RETURN_DOM||!1,vt=Kt.RETURN_DOM_FRAGMENT||!1,Lt=Kt.RETURN_TRUSTED_TYPE||!1,je=Kt.FORCE_BODY||!1,Et=Kt.SANITIZE_DOM!==!1,Vt=Kt.SANITIZE_NAMED_PROPS||!1,qt=Kt.KEEP_CONTENT!==!1,tn=Kt.IN_PLACE||!1,Ee=Kt.ALLOWED_URI_REGEXP||Ee,Mt=Kt.NAMESPACE||it,Le=Kt.CUSTOM_ELEMENT_HANDLING||{},Kt.CUSTOM_ELEMENT_HANDLING&&Qr(Kt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Le.tagNameCheck=Kt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Kt.CUSTOM_ELEMENT_HANDLING&&Qr(Kt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Le.attributeNameCheck=Kt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Kt.CUSTOM_ELEMENT_HANDLING&&typeof Kt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Le.allowCustomizedBuiltInElements=Kt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ke&&(Je=!1),vt&&(Ye=!0),Nt&&(se=$a({},Up(nJ)),_e=[],Nt.html===!0&&($a(se,tJ),$a(_e,rJ)),Nt.svg===!0&&($a(se,JP),$a(_e,nF),$a(_e,C3)),Nt.svgFilters===!0&&($a(se,eF),$a(_e,nF),$a(_e,C3)),Nt.mathMl===!0&&($a(se,tF),$a(_e,iJ),$a(_e,C3))),Kt.ADD_TAGS&&(se===oe&&(se=E_(se)),$a(se,Kt.ADD_TAGS,tr)),Kt.ADD_ATTR&&(_e===Ue&&(_e=E_(_e)),$a(_e,Kt.ADD_ATTR,tr)),Kt.ADD_URI_SAFE_ATTR&&$a(It,Kt.ADD_URI_SAFE_ATTR,tr),Kt.FORBID_CONTENTS&&(wt===De&&(wt=E_(wt)),$a(wt,Kt.FORBID_CONTENTS,tr)),qt&&(se["#text"]=!0),Ge&&$a(se,["html","head","body"]),se.table&&($a(se,["tbody"]),delete be.tbody),dh&&dh(Kt),Nn=Kt)},ai=$a({},["mi","mo","mn","ms","mtext"]),Vi=$a({},["foreignobject","desc","title","annotation-xml"]),va=$a({},["title","style","font","a","script"]),Rr=$a({},JP);$a(Rr,eF),$a(Rr,jyt);var qi=$a({},tF);$a(qi,Gyt);var Hi=function(Kt){var Zn=P(Kt);(!Zn||!Zn.tagName)&&(Zn={namespaceURI:Mt,tagName:"template"});var jt=VT(Kt.tagName),Xn=VT(Zn.tagName);return et[Kt.namespaceURI]?Kt.namespaceURI===Bt?Zn.namespaceURI===it?jt==="svg":Zn.namespaceURI===kt?jt==="svg"&&(Xn==="annotation-xml"||ai[Xn]):!!Rr[jt]:Kt.namespaceURI===kt?Zn.namespaceURI===it?jt==="math":Zn.namespaceURI===Bt?jt==="math"&&Vi[Xn]:!!qi[jt]:Kt.namespaceURI===it?Zn.namespaceURI===Bt&&!Vi[Xn]||Zn.namespaceURI===kt&&!ai[Xn]?!1:!qi[jt]&&(va[jt]||!Rr[jt]):!!(sn==="application/xhtml+xml"&&et[Kt.namespaceURI]):!1},Jt=function(Kt){k4(e.removed,{element:Kt});try{Kt.parentNode.removeChild(Kt)}catch{try{Kt.outerHTML=z}catch{Kt.remove()}}},hn=function(Kt,Zn){try{k4(e.removed,{attribute:Zn.getAttributeNode(Kt),from:Zn})}catch{k4(e.removed,{attribute:null,from:Zn})}if(Zn.removeAttribute(Kt),Kt==="is"&&!_e[Kt])if(Ye||vt)try{Jt(Zn)}catch{}else try{Zn.setAttribute(Kt,"")}catch{}},En=function(Kt){var Zn,jt;if(je)Kt="<remove></remove>"+Kt;else{var Xn=$yt(Kt,/^[\r\n\t ]+/);jt=Xn&&Xn[0]}sn==="application/xhtml+xml"&&Mt===it&&(Kt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Kt+"</body></html>");var kr=N?N.createHTML(Kt):Kt;if(Mt===it)try{Zn=new v().parseFromString(kr,sn)}catch{}if(!Zn||!Zn.documentElement){Zn=j.createDocument(Mt,"template",null);try{Zn.documentElement.innerHTML=at?z:kr}catch{}}var _r=Zn.body||Zn.documentElement;return Kt&&jt&&_r.insertBefore(r.createTextNode(jt),_r.childNodes[0]||null),Mt===it?ie.call(Zn,Ge?"html":"body")[0]:Ge?Zn.documentElement:_r},Hn=function(Kt){return Q.call(Kt.ownerDocument||Kt,Kt,a.SHOW_ELEMENT|a.SHOW_COMMENT|a.SHOW_TEXT,null,!1)},Ht=function(Kt){return Kt instanceof m&&(typeof Kt.nodeName!="string"||typeof Kt.textContent!="string"||typeof Kt.removeChild!="function"||!(Kt.attributes instanceof p)||typeof Kt.removeAttribute!="function"||typeof Kt.setAttribute!="function"||typeof Kt.namespaceURI!="string"||typeof Kt.insertBefore!="function"||typeof Kt.hasChildNodes!="function")},an=function(Kt){return zv(l)==="object"?Kt instanceof l:Kt&&zv(Kt)==="object"&&typeof Kt.nodeType=="number"&&typeof Kt.nodeName=="string"},In=function(Kt,Zn,jt){ee[Kt]&&zyt(ee[Kt],function(Xn){Xn.call(e,Zn,jt,Nn)})},kn=function(Kt){var Zn;if(In("beforeSanitizeElements",Kt,null),Ht(Kt)||th(/[\u0080-\uFFFF]/,Kt.nodeName))return Jt(Kt),!0;var jt=tr(Kt.nodeName);if(In("uponSanitizeElement",Kt,{tagName:jt,allowedTags:se}),Kt.hasChildNodes()&&!an(Kt.firstElementChild)&&(!an(Kt.content)||!an(Kt.content.firstElementChild))&&th(/<[/\w]/g,Kt.innerHTML)&&th(/<[/\w]/g,Kt.textContent)||jt==="select"&&th(/<template/i,Kt.innerHTML))return Jt(Kt),!0;if(!se[jt]||be[jt]){if(!be[jt]&&Gn(jt)&&(Le.tagNameCheck instanceof RegExp&&th(Le.tagNameCheck,jt)||Le.tagNameCheck instanceof Function&&Le.tagNameCheck(jt)))return!1;if(qt&&!wt[jt]){var Xn=P(Kt)||Kt.parentNode,kr=M(Kt)||Kt.childNodes;if(kr&&Xn)for(var _r=kr.length,fa=_r-1;fa>=0;--fa)Xn.insertBefore(C(kr[fa],!0),k(Kt))}return Jt(Kt),!0}return Kt instanceof c&&!Hi(Kt)||(jt==="noscript"||jt==="noembed"||jt==="noframes")&&th(/<\/no(script|embed|frames)/i,Kt.innerHTML)?(Jt(Kt),!0):(ke&&Kt.nodeType===3&&(Zn=Kt.textContent,Zn=Fp(Zn,he," "),Zn=Fp(Zn,J," "),Zn=Fp(Zn,te," "),Kt.textContent!==Zn&&(k4(e.removed,{element:Kt.cloneNode()}),Kt.textContent=Zn)),In("afterSanitizeElements",Kt,null),!1)},er=function(Kt,Zn,jt){if(Et&&(Zn==="id"||Zn==="name")&&(jt in r||jt in lr))return!1;if(!(Je&&!Re[Zn]&&th(ne,Zn))){if(!(Qe&&th(ce,Zn))){if(!_e[Zn]||Re[Zn]){if(!(Gn(Kt)&&(Le.tagNameCheck instanceof RegExp&&th(Le.tagNameCheck,Kt)||Le.tagNameCheck instanceof Function&&Le.tagNameCheck(Kt))&&(Le.attributeNameCheck instanceof RegExp&&th(Le.attributeNameCheck,Zn)||Le.attributeNameCheck instanceof Function&&Le.attributeNameCheck(Zn))||Zn==="is"&&Le.allowCustomizedBuiltInElements&&(Le.tagNameCheck instanceof RegExp&&th(Le.tagNameCheck,jt)||Le.tagNameCheck instanceof Function&&Le.tagNameCheck(jt))))return!1}else if(!It[Zn]){if(!th(Ee,Fp(jt,ye,""))){if(!((Zn==="src"||Zn==="xlink:href"||Zn==="href")&&Kt!=="script"&&Vyt(jt,"data:")===0&&We[Kt])){if(!(nt&&!th(ue,Fp(jt,ye,"")))){if(jt)return!1}}}}}}return!0},Gn=function(Kt){return Kt.indexOf("-")>0},Mr=function(Kt){var Zn,jt,Xn,kr;In("beforeSanitizeAttributes",Kt,null);var _r=Kt.attributes;if(_r){var fa={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:_e};for(kr=_r.length;kr--;){Zn=_r[kr];var ss=Zn,Sa=ss.name,Gc=ss.namespaceURI;if(jt=Sa==="value"?Zn.value:Hyt(Zn.value),Xn=tr(Sa),fa.attrName=Xn,fa.attrValue=jt,fa.keepAttr=!0,fa.forceKeepAttr=void 0,In("uponSanitizeAttribute",Kt,fa),jt=fa.attrValue,!fa.forceKeepAttr&&(hn(Sa,Kt),!!fa.keepAttr)){if(!Ve&&th(/\/>/i,jt)){hn(Sa,Kt);continue}ke&&(jt=Fp(jt,he," "),jt=Fp(jt,J," "),jt=Fp(jt,te," "));var uu=tr(Kt.nodeName);if(er(uu,Xn,jt)){if(Vt&&(Xn==="id"||Xn==="name")&&(hn(Sa,Kt),jt=_t+jt),N&&zv(y)==="object"&&typeof y.getAttributeType=="function"&&!Gc)switch(y.getAttributeType(uu,Xn)){case"TrustedHTML":{jt=N.createHTML(jt);break}case"TrustedScriptURL":{jt=N.createScriptURL(jt);break}}try{Gc?Kt.setAttributeNS(Gc,Sa,jt):Kt.setAttribute(Sa,jt),eJ(e.removed)}catch{}}}}In("afterSanitizeAttributes",Kt,null)}},ti=function Tn(Kt){var Zn,jt=Hn(Kt);for(In("beforeSanitizeShadowDOM",Kt,null);Zn=jt.nextNode();)In("uponSanitizeShadowNode",Zn,null),!kn(Zn)&&(Zn.content instanceof i&&Tn(Zn.content),Mr(Zn));In("afterSanitizeShadowDOM",Kt,null)};return e.sanitize=function(Tn){var Kt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Zn,jt,Xn,kr,_r;if(at=!Tn,at&&(Tn="<!-->"),typeof Tn!="string"&&!an(Tn))if(typeof Tn.toString=="function"){if(Tn=Tn.toString(),typeof Tn!="string")throw ZP("dirty is not a string, aborting")}else throw ZP("toString is not a function");if(!e.isSupported){if(zv(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof Tn=="string")return t.toStaticHTML(Tn);if(an(Tn))return t.toStaticHTML(Tn.outerHTML)}return Tn}if(Ne||Ci(Kt),e.removed=[],typeof Tn=="string"&&(tn=!1),tn){if(Tn.nodeName){var fa=tr(Tn.nodeName);if(!se[fa]||be[fa])throw ZP("root node is forbidden and cannot be sanitized in-place")}}else if(Tn instanceof l)Zn=En("<!---->"),jt=Zn.ownerDocument.importNode(Tn,!0),jt.nodeType===1&&jt.nodeName==="BODY"||jt.nodeName==="HTML"?Zn=jt:Zn.appendChild(jt);else{if(!Ye&&!ke&&!Ge&&Tn.indexOf("<")===-1)return N&&Lt?N.createHTML(Tn):Tn;if(Zn=En(Tn),!Zn)return Ye?null:Lt?z:""}Zn&&je&&Jt(Zn.firstChild);for(var ss=Hn(tn?Tn:Zn);Xn=ss.nextNode();)Xn.nodeType===3&&Xn===kr||kn(Xn)||(Xn.content instanceof i&&ti(Xn.content),Mr(Xn),kr=Xn);if(kr=null,tn)return Tn;if(Ye){if(vt)for(_r=G.call(Zn.ownerDocument);Zn.firstChild;)_r.appendChild(Zn.firstChild);else _r=Zn;return(_e.shadowroot||_e.shadowrootmod)&&(_r=q.call(n,_r,!0)),_r}var Sa=Ge?Zn.outerHTML:Zn.innerHTML;return Ge&&se["!doctype"]&&Zn.ownerDocument&&Zn.ownerDocument.doctype&&Zn.ownerDocument.doctype.name&&th(tbt,Zn.ownerDocument.doctype.name)&&(Sa="<!DOCTYPE "+Zn.ownerDocument.doctype.name+`>
`+Sa),ke&&(Sa=Fp(Sa,he," "),Sa=Fp(Sa,J," "),Sa=Fp(Sa,te," ")),N&&Lt?N.createHTML(Sa):Sa},e.setConfig=function(Tn){Ci(Tn),Ne=!0},e.clearConfig=function(){Nn=null,Ne=!1},e.isValidAttribute=function(Tn,Kt,Zn){Nn||Ci({});var jt=tr(Tn),Xn=tr(Kt);return er(jt,Xn,Zn)},e.addHook=function(Tn,Kt){typeof Kt=="function"&&(ee[Tn]=ee[Tn]||[],k4(ee[Tn],Kt))},e.removeHook=function(Tn){if(ee[Tn])return eJ(ee[Tn])},e.removeHooks=function(Tn){ee[Tn]&&(ee[Tn]=[])},e.removeAllHooks=function(){ee={}},e}var ibt=tfe();const abt=Object.freeze(Object.defineProperty({__proto__:null,default:ibt},Symbol.toStringTag,{value:"Module"}));var P4=function(t){return t&&t.Math===Math&&t},zl=P4(typeof globalThis=="object"&&globalThis)||P4(typeof window=="object"&&window)||P4(typeof self=="object"&&self)||P4(typeof xf=="object"&&xf)||P4(typeof xf=="object"&&xf)||function(){return this}()||Function("return this")(),j5={},$l=function(t){try{return!!t()}catch{return!0}},sbt=$l,mA=!sbt(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),obt=$l,sI=!obt(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),lbt=sI,E3=Function.prototype.call,fc=lbt?E3.bind(E3):function(){return E3.apply(E3,arguments)},nfe={},rfe={}.propertyIsEnumerable,ife=Object.getOwnPropertyDescriptor,ubt=ife&&!rfe.call({1:2},1);nfe.f=ubt?function(e){var n=ife(this,e);return!!n&&n.enumerable}:rfe;var zz=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},afe=sI,sfe=Function.prototype,KD=sfe.call,cbt=afe&&sfe.bind.bind(KD,KD),Vl=afe?cbt:function(t){return function(){return KD.apply(t,arguments)}},ofe=Vl,hbt=ofe({}.toString),dbt=ofe("".slice),qy=function(t){return dbt(hbt(t),8,-1)},fbt=Vl,pbt=$l,Abt=qy,rF=Object,mbt=fbt("".split),lfe=pbt(function(){return!rF("z").propertyIsEnumerable(0)})?function(t){return Abt(t)==="String"?mbt(t,""):rF(t)}:rF,Yy=function(t){return t==null},gbt=Yy,vbt=TypeError,$m=function(t){if(gbt(t))throw new vbt("Can't call method on "+t);return t},_bt=lfe,ybt=$m,G5=function(t){return _bt(ybt(t))},iF=typeof document=="object"&&document.all,Hl=typeof iF>"u"&&iF!==void 0?function(t){return typeof t=="function"||t===iF}:function(t){return typeof t=="function"},bbt=Hl,Vm=function(t){return typeof t=="object"?t!==null:bbt(t)},aF=zl,wbt=Hl,xbt=function(t){return wbt(t)?t:void 0},Xy=function(t,e){return arguments.length<2?xbt(aF[t]):aF[t]&&aF[t][e]},Cbt=Vl,oI=Cbt({}.isPrototypeOf),lI=typeof navigator<"u"&&String(navigator.userAgent)||"",ufe=zl,sF=lI,aJ=ufe.process,sJ=ufe.Deno,oJ=aJ&&aJ.versions||sJ&&sJ.version,lJ=oJ&&oJ.v8,Qp,fB;lJ&&(Qp=lJ.split("."),fB=Qp[0]>0&&Qp[0]<4?1:+(Qp[0]+Qp[1]));!fB&&sF&&(Qp=sF.match(/Edge\/(\d+)/),(!Qp||Qp[1]>=74)&&(Qp=sF.match(/Chrome\/(\d+)/),Qp&&(fB=+Qp[1])));var $z=fB,uJ=$z,Ebt=$l,Sbt=zl,Tbt=Sbt.String,cfe=!!Object.getOwnPropertySymbols&&!Ebt(function(){var t=Symbol("symbol detection");return!Tbt(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&uJ&&uJ<41}),Bbt=cfe,hfe=Bbt&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Mbt=Xy,Ibt=Hl,Lbt=oI,kbt=hfe,Pbt=Object,dfe=kbt?function(t){return typeof t=="symbol"}:function(t){var e=Mbt("Symbol");return Ibt(e)&&Lbt(e.prototype,Pbt(t))},Fbt=String,uI=function(t){try{return Fbt(t)}catch{return"Object"}},Rbt=Hl,Obt=uI,Dbt=TypeError,I0=function(t){if(Rbt(t))return t;throw new Dbt(Obt(t)+" is not a function")},Nbt=I0,Ubt=Yy,yx=function(t,e){var n=t[e];return Ubt(n)?void 0:Nbt(n)},oF=fc,lF=Hl,uF=Vm,zbt=TypeError,$bt=function(t,e){var n,r;if(e==="string"&&lF(n=t.toString)&&!uF(r=oF(n,t))||lF(n=t.valueOf)&&!uF(r=oF(n,t))||e!=="string"&&lF(n=t.toString)&&!uF(r=oF(n,t)))return r;throw new zbt("Can't convert object to primitive value")},ffe={exports:{}},cJ=zl,Vbt=Object.defineProperty,Vz=function(t,e){try{Vbt(cJ,t,{value:e,configurable:!0,writable:!0})}catch{cJ[t]=e}return e},Hbt=zl,Qbt=Vz,hJ="__core-js_shared__",dJ=ffe.exports=Hbt[hJ]||Qbt(hJ,{});(dJ.versions||(dJ.versions=[])).push({version:"3.36.0",mode:"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.36.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Hz=ffe.exports,fJ=Hz,Qz=function(t,e){return fJ[t]||(fJ[t]=e||{})},jbt=$m,Gbt=Object,cI=function(t){return Gbt(jbt(t))},Kbt=Vl,Wbt=cI,qbt=Kbt({}.hasOwnProperty),gA=Object.hasOwn||function(e,n){return qbt(Wbt(e),n)},Ybt=Vl,Xbt=0,Zbt=Math.random(),Jbt=Ybt(1 .toString),pfe=function(t){return"Symbol("+(t===void 0?"":t)+")_"+Jbt(++Xbt+Zbt,36)},ewt=zl,twt=Qz,pJ=gA,nwt=pfe,rwt=cfe,iwt=hfe,Uw=ewt.Symbol,cF=twt("wks"),awt=iwt?Uw.for||Uw:Uw&&Uw.withoutSetter||nwt,qu=function(t){return pJ(cF,t)||(cF[t]=rwt&&pJ(Uw,t)?Uw[t]:awt("Symbol."+t)),cF[t]},swt=fc,AJ=Vm,mJ=dfe,owt=yx,lwt=$bt,uwt=qu,cwt=TypeError,hwt=uwt("toPrimitive"),dwt=function(t,e){if(!AJ(t)||mJ(t))return t;var n=owt(t,hwt),r;if(n){if(e===void 0&&(e="default"),r=swt(n,t,e),!AJ(r)||mJ(r))return r;throw new cwt("Can't convert object to primitive value")}return e===void 0&&(e="number"),lwt(t,e)},fwt=dwt,pwt=dfe,Afe=function(t){var e=fwt(t,"string");return pwt(e)?e:e+""},Awt=zl,gJ=Vm,WD=Awt.document,mwt=gJ(WD)&&gJ(WD.createElement),hI=function(t){return mwt?WD.createElement(t):{}},gwt=mA,vwt=$l,_wt=hI,mfe=!gwt&&!vwt(function(){return Object.defineProperty(_wt("div"),"a",{get:function(){return 7}}).a!==7}),ywt=mA,bwt=fc,wwt=nfe,xwt=zz,Cwt=G5,Ewt=Afe,Swt=gA,Twt=mfe,vJ=Object.getOwnPropertyDescriptor;j5.f=ywt?vJ:function(e,n){if(e=Cwt(e),n=Ewt(n),Twt)try{return vJ(e,n)}catch{}if(Swt(e,n))return xwt(!bwt(wwt.f,e,n),e[n])};var L0={},Bwt=mA,Mwt=$l,gfe=Bwt&&Mwt(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Iwt=Vm,Lwt=String,kwt=TypeError,jc=function(t){if(Iwt(t))return t;throw new kwt(Lwt(t)+" is not an object")},Pwt=mA,Fwt=mfe,Rwt=gfe,S3=jc,_J=Afe,Owt=TypeError,hF=Object.defineProperty,Dwt=Object.getOwnPropertyDescriptor,dF="enumerable",fF="configurable",pF="writable";L0.f=Pwt?Rwt?function(e,n,r){if(S3(e),n=_J(n),S3(r),typeof e=="function"&&n==="prototype"&&"value"in r&&pF in r&&!r[pF]){var i=Dwt(e,n);i&&i[pF]&&(e[n]=r.value,r={configurable:fF in r?r[fF]:i[fF],enumerable:dF in r?r[dF]:i[dF],writable:!1})}return hF(e,n,r)}:hF:function(e,n,r){if(S3(e),n=_J(n),S3(r),Fwt)try{return hF(e,n,r)}catch{}if("get"in r||"set"in r)throw new Owt("Accessors not supported");return"value"in r&&(e[n]=r.value),e};var Nwt=mA,Uwt=L0,zwt=zz,K5=Nwt?function(t,e,n){return Uwt.f(t,e,zwt(1,n))}:function(t,e,n){return t[e]=n,t},vfe={exports:{}},qD=mA,$wt=gA,_fe=Function.prototype,Vwt=qD&&Object.getOwnPropertyDescriptor,jz=$wt(_fe,"name"),Hwt=jz&&(function(){}).name==="something",Qwt=jz&&(!qD||qD&&Vwt(_fe,"name").configurable),dI={EXISTS:jz,PROPER:Hwt,CONFIGURABLE:Qwt},jwt=Vl,Gwt=Hl,YD=Hz,Kwt=jwt(Function.toString);Gwt(YD.inspectSource)||(YD.inspectSource=function(t){return Kwt(t)});var Gz=YD.inspectSource,Wwt=zl,qwt=Hl,yJ=Wwt.WeakMap,Ywt=qwt(yJ)&&/native code/.test(String(yJ)),Xwt=Qz,Zwt=pfe,bJ=Xwt("keys"),Kz=function(t){return bJ[t]||(bJ[t]=Zwt(t))},Wz={},Jwt=Ywt,yfe=zl,e2t=Vm,t2t=K5,AF=gA,mF=Hz,n2t=Kz,r2t=Wz,wJ="Object already initialized",XD=yfe.TypeError,i2t=yfe.WeakMap,pB,X6,AB,a2t=function(t){return AB(t)?X6(t):pB(t,{})},s2t=function(t){return function(e){var n;if(!e2t(e)||(n=X6(e)).type!==t)throw new XD("Incompatible receiver, "+t+" required");return n}};if(Jwt||mF.state){var qA=mF.state||(mF.state=new i2t);qA.get=qA.get,qA.has=qA.has,qA.set=qA.set,pB=function(t,e){if(qA.has(t))throw new XD(wJ);return e.facade=t,qA.set(t,e),e},X6=function(t){return qA.get(t)||{}},AB=function(t){return qA.has(t)}}else{var aw=n2t("state");r2t[aw]=!0,pB=function(t,e){if(AF(t,aw))throw new XD(wJ);return e.facade=t,t2t(t,aw,e),e},X6=function(t){return AF(t,aw)?t[aw]:{}},AB=function(t){return AF(t,aw)}}var fI={set:pB,get:X6,has:AB,enforce:a2t,getterFor:s2t},qz=Vl,o2t=$l,l2t=Hl,T3=gA,ZD=mA,u2t=dI.CONFIGURABLE,c2t=Gz,bfe=fI,h2t=bfe.enforce,d2t=bfe.get,xJ=String,HT=Object.defineProperty,f2t=qz("".slice),p2t=qz("".replace),A2t=qz([].join),m2t=ZD&&!o2t(function(){return HT(function(){},"length",{value:8}).length!==8}),g2t=String(String).split("String"),v2t=vfe.exports=function(t,e,n){f2t(xJ(e),0,7)==="Symbol("&&(e="["+p2t(xJ(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!T3(t,"name")||u2t&&t.name!==e)&&(ZD?HT(t,"name",{value:e,configurable:!0}):t.name=e),m2t&&n&&T3(n,"arity")&&t.length!==n.arity&&HT(t,"length",{value:n.arity});try{n&&T3(n,"constructor")&&n.constructor?ZD&&HT(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch{}var r=h2t(t);return T3(r,"source")||(r.source=A2t(g2t,typeof e=="string"?e:"")),t};Function.prototype.toString=v2t(function(){return l2t(this)&&d2t(this).source||c2t(this)},"toString");var wfe=vfe.exports,_2t=Hl,y2t=L0,b2t=wfe,w2t=Vz,Zy=function(t,e,n,r){r||(r={});var i=r.enumerable,s=r.name!==void 0?r.name:e;if(_2t(n)&&b2t(n,s,r),r.global)i?t[e]=n:w2t(e,n);else{try{r.unsafe?t[e]&&(i=!0):delete t[e]}catch{}i?t[e]=n:y2t.f(t,e,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return t},xfe={},x2t=Math.ceil,C2t=Math.floor,E2t=Math.trunc||function(e){var n=+e;return(n>0?C2t:x2t)(n)},S2t=E2t,pI=function(t){var e=+t;return e!==e||e===0?0:S2t(e)},T2t=pI,B2t=Math.max,M2t=Math.min,I2t=function(t,e){var n=T2t(t);return n<0?B2t(n+e,0):M2t(n,e)},L2t=pI,k2t=Math.min,bx=function(t){var e=L2t(t);return e>0?k2t(e,9007199254740991):0},P2t=bx,Yz=function(t){return P2t(t.length)},F2t=G5,R2t=I2t,O2t=Yz,CJ=function(t){return function(e,n,r){var i=F2t(e),s=O2t(i);if(s===0)return!t&&-1;var l=R2t(r,s),c;if(t&&n!==n){for(;s>l;)if(c=i[l++],c!==c)return!0}else for(;s>l;l++)if((t||l in i)&&i[l]===n)return t||l||0;return!t&&-1}},Cfe={includes:CJ(!0),indexOf:CJ(!1)},D2t=Vl,gF=gA,N2t=G5,U2t=Cfe.indexOf,z2t=Wz,EJ=D2t([].push),Efe=function(t,e){var n=N2t(t),r=0,i=[],s;for(s in n)!gF(z2t,s)&&gF(n,s)&&EJ(i,s);for(;e.length>r;)gF(n,s=e[r++])&&(~U2t(i,s)||EJ(i,s));return i},Xz=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],$2t=Efe,V2t=Xz,H2t=V2t.concat("length","prototype");xfe.f=Object.getOwnPropertyNames||function(e){return $2t(e,H2t)};var Sfe={};Sfe.f=Object.getOwnPropertySymbols;var Q2t=Xy,j2t=Vl,G2t=xfe,K2t=Sfe,W2t=jc,q2t=j2t([].concat),Y2t=Q2t("Reflect","ownKeys")||function(e){var n=G2t.f(W2t(e)),r=K2t.f;return r?q2t(n,r(e)):n},SJ=gA,X2t=Y2t,Z2t=j5,J2t=L0,ext=function(t,e,n){for(var r=X2t(e),i=J2t.f,s=Z2t.f,l=0;l<r.length;l++){var c=r[l];!SJ(t,c)&&!(n&&SJ(n,c))&&i(t,c,s(e,c))}},txt=$l,nxt=Hl,rxt=/#|\.prototype\./,W5=function(t,e){var n=axt[ixt(t)];return n===oxt?!0:n===sxt?!1:nxt(e)?txt(e):!!e},ixt=W5.normalize=function(t){return String(t).replace(rxt,".").toLowerCase()},axt=W5.data={},sxt=W5.NATIVE="N",oxt=W5.POLYFILL="P",Tfe=W5,B3=zl,lxt=j5.f,uxt=K5,cxt=Zy,hxt=Vz,dxt=ext,fxt=Tfe,ph=function(t,e){var n=t.target,r=t.global,i=t.stat,s,l,c,a,f,p;if(r?l=B3:i?l=B3[n]||hxt(n,{}):l=B3[n]&&B3[n].prototype,l)for(c in e){if(f=e[c],t.dontCallGetSet?(p=lxt(l,c),a=p&&p.value):a=l[c],s=fxt(r?c:n+(i?".":"#")+c,t.forced),!s&&a!==void 0){if(typeof f==typeof a)continue;dxt(f,a)}(t.sham||a&&a.sham)&&uxt(f,"sham",!0),cxt(l,c,f,t)}},pxt=zl,Axt=qy,q5=Axt(pxt.process)==="process",mxt=Vl,gxt=I0,vxt=function(t,e,n){try{return mxt(gxt(Object.getOwnPropertyDescriptor(t,e)[n]))}catch{}},_xt=Vm,yxt=function(t){return _xt(t)||t===null},bxt=yxt,wxt=String,xxt=TypeError,Cxt=function(t){if(bxt(t))return t;throw new xxt("Can't set "+wxt(t)+" as a prototype")},Ext=vxt,Sxt=jc,Txt=Cxt,Bfe=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,e={},n;try{n=Ext(Object.prototype,"__proto__","set"),n(e,[]),t=e instanceof Array}catch{}return function(i,s){return Sxt(i),Txt(s),t?n(i,s):i.__proto__=s,i}}():void 0),Bxt=L0.f,Mxt=gA,Ixt=qu,TJ=Ixt("toStringTag"),AI=function(t,e,n){t&&!n&&(t=t.prototype),t&&!Mxt(t,TJ)&&Bxt(t,TJ,{configurable:!0,value:e})},BJ=wfe,Lxt=L0,kxt=function(t,e,n){return n.get&&BJ(n.get,e,{getter:!0}),n.set&&BJ(n.set,e,{setter:!0}),Lxt.f(t,e,n)},Pxt=Xy,Fxt=kxt,Rxt=qu,Oxt=mA,MJ=Rxt("species"),Dxt=function(t){var e=Pxt(t);Oxt&&e&&!e[MJ]&&Fxt(e,MJ,{configurable:!0,get:function(){return this}})},Nxt=oI,Uxt=TypeError,zxt=function(t,e){if(Nxt(e,t))return t;throw new Uxt("Incorrect invocation")},$xt=qu,Vxt=$xt("toStringTag"),Mfe={};Mfe[Vxt]="z";var Hxt=String(Mfe)==="[object z]",Qxt=Hxt,jxt=Hl,QT=qy,Gxt=qu,Kxt=Gxt("toStringTag"),Wxt=Object,qxt=QT(function(){return arguments}())==="Arguments",Yxt=function(t,e){try{return t[e]}catch{}},Zz=Qxt?QT:function(t){var e,n,r;return t===void 0?"Undefined":t===null?"Null":typeof(n=Yxt(e=Wxt(t),Kxt))=="string"?n:qxt?QT(e):(r=QT(e))==="Object"&&jxt(e.callee)?"Arguments":r},Xxt=Vl,Zxt=$l,Ife=Hl,Jxt=Zz,e4t=Xy,t4t=Gz,Lfe=function(){},kfe=e4t("Reflect","construct"),Jz=/^\s*(?:class|function)\b/,n4t=Xxt(Jz.exec),r4t=!Jz.test(Lfe),F4=function(e){if(!Ife(e))return!1;try{return kfe(Lfe,[],e),!0}catch{return!1}},Pfe=function(e){if(!Ife(e))return!1;switch(Jxt(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return r4t||!!n4t(Jz,t4t(e))}catch{return!0}};Pfe.sham=!0;var i4t=!kfe||Zxt(function(){var t;return F4(F4.call)||!F4(Object)||!F4(function(){t=!0})||t})?Pfe:F4,a4t=i4t,s4t=uI,o4t=TypeError,l4t=function(t){if(a4t(t))return t;throw new o4t(s4t(t)+" is not a constructor")},IJ=jc,u4t=l4t,c4t=Yy,h4t=qu,d4t=h4t("species"),Ffe=function(t,e){var n=IJ(t).constructor,r;return n===void 0||c4t(r=IJ(n)[d4t])?e:u4t(r)},f4t=sI,Rfe=Function.prototype,LJ=Rfe.apply,kJ=Rfe.call,Ofe=typeof Reflect=="object"&&Reflect.apply||(f4t?kJ.bind(LJ):function(){return kJ.apply(LJ,arguments)}),p4t=qy,A4t=Vl,mI=function(t){if(p4t(t)==="Function")return A4t(t)},PJ=mI,m4t=I0,g4t=sI,v4t=PJ(PJ.bind),e$=function(t,e){return m4t(t),e===void 0?t:g4t?v4t(t,e):function(){return t.apply(e,arguments)}},_4t=Xy,Dfe=_4t("document","documentElement"),y4t=Vl,b4t=y4t([].slice),w4t=TypeError,x4t=function(t,e){if(t<e)throw new w4t("Not enough arguments");return t},C4t=lI,Nfe=/(?:ipad|iphone|ipod).*applewebkit/i.test(C4t),Vd=zl,E4t=Ofe,S4t=e$,FJ=Hl,T4t=gA,Ufe=$l,RJ=Dfe,B4t=b4t,OJ=hI,M4t=x4t,I4t=Nfe,L4t=q5,JD=Vd.setImmediate,eN=Vd.clearImmediate,k4t=Vd.process,vF=Vd.Dispatch,P4t=Vd.Function,DJ=Vd.MessageChannel,F4t=Vd.String,_F=0,HC={},NJ="onreadystatechange",Z6,S_,yF,bF;Ufe(function(){Z6=Vd.location});var t$=function(t){if(T4t(HC,t)){var e=HC[t];delete HC[t],e()}},wF=function(t){return function(){t$(t)}},UJ=function(t){t$(t.data)},zJ=function(t){Vd.postMessage(F4t(t),Z6.protocol+"//"+Z6.host)};(!JD||!eN)&&(JD=function(e){M4t(arguments.length,1);var n=FJ(e)?e:P4t(e),r=B4t(arguments,1);return HC[++_F]=function(){E4t(n,void 0,r)},S_(_F),_F},eN=function(e){delete HC[e]},L4t?S_=function(t){k4t.nextTick(wF(t))}:vF&&vF.now?S_=function(t){vF.now(wF(t))}:DJ&&!I4t?(yF=new DJ,bF=yF.port2,yF.port1.onmessage=UJ,S_=S4t(bF.postMessage,bF)):Vd.addEventListener&&FJ(Vd.postMessage)&&!Vd.importScripts&&Z6&&Z6.protocol!=="file:"&&!Ufe(zJ)?(S_=zJ,Vd.addEventListener("message",UJ,!1)):NJ in OJ("script")?S_=function(t){RJ.appendChild(OJ("script"))[NJ]=function(){RJ.removeChild(this),t$(t)}}:S_=function(t){setTimeout(wF(t),0)});var zfe={set:JD,clear:eN},$J=zl,R4t=mA,O4t=Object.getOwnPropertyDescriptor,D4t=function(t){if(!R4t)return $J[t];var e=O4t($J,t);return e&&e.value},$fe=function(){this.head=null,this.tail=null};$fe.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t){var e=this.head=t.next;return e===null&&(this.tail=null),t.item}}};var Vfe=$fe,N4t=lI,U4t=/ipad|iphone|ipod/i.test(N4t)&&typeof Pebble<"u",z4t=lI,$4t=/web0s(?!.*chrome)/i.test(z4t),G2=zl,V4t=D4t,VJ=e$,xF=zfe.set,H4t=Vfe,Q4t=Nfe,j4t=U4t,G4t=$4t,CF=q5,HJ=G2.MutationObserver||G2.WebKitMutationObserver,QJ=G2.document,jJ=G2.process,M3=G2.Promise,tN=V4t("queueMicrotask"),sw,EF,SF,I3,GJ;if(!tN){var L3=new H4t,k3=function(){var t,e;for(CF&&(t=jJ.domain)&&t.exit();e=L3.get();)try{e()}catch(n){throw L3.head&&sw(),n}t&&t.enter()};!Q4t&&!CF&&!G4t&&HJ&&QJ?(EF=!0,SF=QJ.createTextNode(""),new HJ(k3).observe(SF,{characterData:!0}),sw=function(){SF.data=EF=!EF}):!j4t&&M3&&M3.resolve?(I3=M3.resolve(void 0),I3.constructor=M3,GJ=VJ(I3.then,I3),sw=function(){GJ(k3)}):CF?sw=function(){jJ.nextTick(k3)}:(xF=VJ(xF,G2),sw=function(){xF(k3)}),tN=function(t){L3.head||sw(),L3.add(t)}}var K4t=tN,W4t=function(t,e){try{arguments.length===1?console.error(t):console.error(t,e)}catch{}},n$=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}},q4t=zl,gI=q4t.Promise,Hfe=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",Y4t=Hfe,X4t=q5,Z4t=!Y4t&&!X4t&&typeof window=="object"&&typeof document=="object",J4t=zl,QC=gI,eCt=Hl,tCt=Tfe,nCt=Gz,rCt=qu,iCt=Z4t,aCt=Hfe,TF=$z;QC&&QC.prototype;var sCt=rCt("species"),nN=!1,Qfe=eCt(J4t.PromiseRejectionEvent),oCt=tCt("Promise",function(){var t=nCt(QC),e=t!==String(QC);if(!e&&TF===66)return!0;if(!TF||TF<51||!/native code/.test(t)){var n=new QC(function(s){s(1)}),r=function(s){s(function(){},function(){})},i=n.constructor={};if(i[sCt]=r,nN=n.then(function(){})instanceof r,!nN)return!0}return!e&&(iCt||aCt)&&!Qfe}),Y5={CONSTRUCTOR:oCt,REJECTION_EVENT:Qfe,SUBCLASSING:nN},wx={},KJ=I0,lCt=TypeError,uCt=function(t){var e,n;this.promise=new t(function(r,i){if(e!==void 0||n!==void 0)throw new lCt("Bad Promise constructor");e=r,n=i}),this.resolve=KJ(e),this.reject=KJ(n)};wx.f=function(t){return new uCt(t)};var cCt=ph,mB=q5,E1=zl,K2=fc,WJ=Zy,qJ=Bfe,hCt=AI,dCt=Dxt,fCt=I0,jT=Hl,pCt=Vm,ACt=zxt,mCt=Ffe,jfe=zfe.set,r$=K4t,gCt=W4t,vCt=n$,_Ct=Vfe,Gfe=fI,gB=gI,i$=Y5,Kfe=wx,vI="Promise",Wfe=i$.CONSTRUCTOR,yCt=i$.REJECTION_EVENT,bCt=i$.SUBCLASSING,BF=Gfe.getterFor(vI),wCt=Gfe.set,Ew=gB&&gB.prototype,z_=gB,P3=Ew,qfe=E1.TypeError,rN=E1.document,a$=E1.process,iN=Kfe.f,xCt=iN,CCt=!!(rN&&rN.createEvent&&E1.dispatchEvent),Yfe="unhandledrejection",ECt="rejectionhandled",YJ=0,Xfe=1,SCt=2,s$=1,Zfe=2,F3,XJ,TCt,ZJ,Jfe=function(t){var e;return pCt(t)&&jT(e=t.then)?e:!1},epe=function(t,e){var n=e.value,r=e.state===Xfe,i=r?t.ok:t.fail,s=t.resolve,l=t.reject,c=t.domain,a,f,p;try{i?(r||(e.rejection===Zfe&&MCt(e),e.rejection=s$),i===!0?a=n:(c&&c.enter(),a=i(n),c&&(c.exit(),p=!0)),a===t.promise?l(new qfe("Promise-chain cycle")):(f=Jfe(a))?K2(f,a,s,l):s(a)):l(n)}catch(m){c&&!p&&c.exit(),l(m)}},tpe=function(t,e){t.notified||(t.notified=!0,r$(function(){for(var n=t.reactions,r;r=n.get();)epe(r,t);t.notified=!1,e&&!t.rejection&&BCt(t)}))},npe=function(t,e,n){var r,i;CCt?(r=rN.createEvent("Event"),r.promise=e,r.reason=n,r.initEvent(t,!1,!0),E1.dispatchEvent(r)):r={promise:e,reason:n},!yCt&&(i=E1["on"+t])?i(r):t===Yfe&&gCt("Unhandled promise rejection",n)},BCt=function(t){K2(jfe,E1,function(){var e=t.facade,n=t.value,r=JJ(t),i;if(r&&(i=vCt(function(){mB?a$.emit("unhandledRejection",n,e):npe(Yfe,e,n)}),t.rejection=mB||JJ(t)?Zfe:s$,i.error))throw i.value})},JJ=function(t){return t.rejection!==s$&&!t.parent},MCt=function(t){K2(jfe,E1,function(){var e=t.facade;mB?a$.emit("rejectionHandled",e):npe(ECt,e,t.value)})},zw=function(t,e,n){return function(r){t(e,r,n)}},c2=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=SCt,tpe(t,!0))},aN=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw new qfe("Promise can't be resolved itself");var r=Jfe(e);r?r$(function(){var i={done:!1};try{K2(r,e,zw(aN,i,t),zw(c2,i,t))}catch(s){c2(i,s,t)}}):(t.value=e,t.state=Xfe,tpe(t,!1))}catch(i){c2({done:!1},i,t)}}};if(Wfe&&(z_=function(e){ACt(this,P3),fCt(e),K2(F3,this);var n=BF(this);try{e(zw(aN,n),zw(c2,n))}catch(r){c2(n,r)}},P3=z_.prototype,F3=function(e){wCt(this,{type:vI,done:!1,notified:!1,parent:!1,reactions:new _Ct,rejection:!1,state:YJ,value:void 0})},F3.prototype=WJ(P3,"then",function(e,n){var r=BF(this),i=iN(mCt(this,z_));return r.parent=!0,i.ok=jT(e)?e:!0,i.fail=jT(n)&&n,i.domain=mB?a$.domain:void 0,r.state===YJ?r.reactions.add(i):r$(function(){epe(i,r)}),i.promise}),XJ=function(){var t=new F3,e=BF(t);this.promise=t,this.resolve=zw(aN,e),this.reject=zw(c2,e)},Kfe.f=iN=function(t){return t===z_||t===TCt?new XJ(t):xCt(t)},jT(gB)&&Ew!==Object.prototype)){ZJ=Ew.then,bCt||WJ(Ew,"then",function(e,n){var r=this;return new z_(function(i,s){K2(ZJ,r,i,s)}).then(e,n)},{unsafe:!0});try{delete Ew.constructor}catch{}qJ&&qJ(Ew,P3)}cCt({global:!0,constructor:!0,wrap:!0,forced:Wfe},{Promise:z_});hCt(z_,vI,!1);dCt(vI);var X5={},ICt=qu,LCt=X5,kCt=ICt("iterator"),PCt=Array.prototype,FCt=function(t){return t!==void 0&&(LCt.Array===t||PCt[kCt]===t)},RCt=Zz,eee=yx,OCt=Yy,DCt=X5,NCt=qu,UCt=NCt("iterator"),rpe=function(t){if(!OCt(t))return eee(t,UCt)||eee(t,"@@iterator")||DCt[RCt(t)]},zCt=fc,$Ct=I0,VCt=jc,HCt=uI,QCt=rpe,jCt=TypeError,GCt=function(t,e){var n=arguments.length<2?QCt(t):e;if($Ct(n))return VCt(zCt(n,t));throw new jCt(HCt(t)+" is not iterable")},KCt=fc,tee=jc,WCt=yx,qCt=function(t,e,n){var r,i;tee(t);try{if(r=WCt(t,"return"),!r){if(e==="throw")throw n;return n}r=KCt(r,t)}catch(s){i=!0,r=s}if(e==="throw")throw n;if(i)throw r;return tee(r),n},YCt=e$,XCt=fc,ZCt=jc,JCt=uI,e6t=FCt,t6t=Yz,nee=oI,n6t=GCt,r6t=rpe,ree=qCt,i6t=TypeError,GT=function(t,e){this.stopped=t,this.result=e},iee=GT.prototype,ipe=function(t,e,n){var r=n&&n.that,i=!!(n&&n.AS_ENTRIES),s=!!(n&&n.IS_RECORD),l=!!(n&&n.IS_ITERATOR),c=!!(n&&n.INTERRUPTED),a=YCt(e,r),f,p,m,v,y,T,C,k=function(P){return f&&ree(f,"normal",P),new GT(!0,P)},M=function(P){return i?(ZCt(P),c?a(P[0],P[1],k):a(P[0],P[1])):c?a(P,k):a(P)};if(s)f=t.iterator;else if(l)f=t;else{if(p=r6t(t),!p)throw new i6t(JCt(t)+" is not iterable");if(e6t(p)){for(m=0,v=t6t(t);v>m;m++)if(y=M(t[m]),y&&nee(iee,y))return y;return new GT(!1)}f=n6t(t,p)}for(T=s?t.next:f.next;!(C=XCt(T,f)).done;){try{y=M(C.value)}catch(P){ree(f,"throw",P)}if(typeof y=="object"&&y&&nee(iee,y))return y}return new GT(!1)},a6t=qu,ape=a6t("iterator"),spe=!1;try{var s6t=0,aee={next:function(){return{done:!!s6t++}},return:function(){spe=!0}};aee[ape]=function(){return this},Array.from(aee,function(){throw 2})}catch{}var o6t=function(t,e){try{if(!e&&!spe)return!1}catch{return!1}var n=!1;try{var r={};r[ape]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch{}return n},l6t=gI,u6t=o6t,c6t=Y5.CONSTRUCTOR,ope=c6t||!u6t(function(t){l6t.all(t).then(void 0,function(){})}),h6t=ph,d6t=fc,f6t=I0,p6t=wx,A6t=n$,m6t=ipe,g6t=ope;h6t({target:"Promise",stat:!0,forced:g6t},{all:function(e){var n=this,r=p6t.f(n),i=r.resolve,s=r.reject,l=A6t(function(){var c=f6t(n.resolve),a=[],f=0,p=1;m6t(e,function(m){var v=f++,y=!1;p++,d6t(c,n,m).then(function(T){y||(y=!0,a[v]=T,--p||i(a))},s)}),--p||i(a)});return l.error&&s(l.value),r.promise}});var v6t=ph,_6t=Y5.CONSTRUCTOR,sN=gI,y6t=Xy,b6t=Hl,w6t=Zy,see=sN&&sN.prototype;v6t({target:"Promise",proto:!0,forced:_6t,real:!0},{catch:function(t){return this.then(void 0,t)}});if(b6t(sN)){var oee=y6t("Promise").prototype.catch;see.catch!==oee&&w6t(see,"catch",oee,{unsafe:!0})}var x6t=ph,C6t=fc,E6t=I0,S6t=wx,T6t=n$,B6t=ipe,M6t=ope;x6t({target:"Promise",stat:!0,forced:M6t},{race:function(e){var n=this,r=S6t.f(n),i=r.reject,s=T6t(function(){var l=E6t(n.resolve);B6t(e,function(c){C6t(l,n,c).then(r.resolve,i)})});return s.error&&i(s.value),r.promise}});var I6t=ph,L6t=wx,k6t=Y5.CONSTRUCTOR;I6t({target:"Promise",stat:!0,forced:k6t},{reject:function(e){var n=L6t.f(this),r=n.reject;return r(e),n.promise}});var P6t=jc,F6t=Vm,R6t=wx,O6t=function(t,e){if(P6t(t),F6t(e)&&e.constructor===t)return e;var n=R6t.f(t),r=n.resolve;return r(e),n.promise},D6t=ph,N6t=Xy,U6t=Y5.CONSTRUCTOR,z6t=O6t;N6t("Promise");D6t({target:"Promise",stat:!0,forced:U6t},{resolve:function(e){return z6t(this,e)}});function lee(t,e,n,r,i,s,l){try{var c=t[s](l),a=c.value}catch(f){n(f);return}c.done?e(a):Promise.resolve(a).then(r,i)}function d0(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function l(a){lee(s,r,i,l,c,"next",a)}function c(a){lee(s,r,i,l,c,"throw",a)}l(void 0)})}}var $6t=Zz,V6t=String,Hm=function(t){if($6t(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return V6t(t)},H6t=jc,lpe=function(){var t=H6t(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},o$=$l,Q6t=zl,l$=Q6t.RegExp,u$=o$(function(){var t=l$("a","y");return t.lastIndex=2,t.exec("abcd")!==null}),j6t=u$||o$(function(){return!l$("a","y").sticky}),G6t=u$||o$(function(){var t=l$("^r","gy");return t.lastIndex=2,t.exec("str")!==null}),upe={BROKEN_CARET:G6t,MISSED_STICKY:j6t,UNSUPPORTED_Y:u$},cpe={},K6t=Efe,W6t=Xz,q6t=Object.keys||function(e){return K6t(e,W6t)},Y6t=mA,X6t=gfe,Z6t=L0,J6t=jc,e5t=G5,t5t=q6t;cpe.f=Y6t&&!X6t?Object.defineProperties:function(e,n){J6t(e);for(var r=e5t(n),i=t5t(n),s=i.length,l=0,c;s>l;)Z6t.f(e,c=i[l++],r[c]);return e};var n5t=jc,r5t=cpe,uee=Xz,i5t=Wz,a5t=Dfe,s5t=hI,o5t=Kz,cee=">",hee="<",oN="prototype",lN="script",hpe=o5t("IE_PROTO"),MF=function(){},dpe=function(t){return hee+lN+cee+t+hee+"/"+lN+cee},dee=function(t){t.write(dpe("")),t.close();var e=t.parentWindow.Object;return t=null,e},l5t=function(){var t=s5t("iframe"),e="java"+lN+":",n;return t.style.display="none",a5t.appendChild(t),t.src=String(e),n=t.contentWindow.document,n.open(),n.write(dpe("document.F=Object")),n.close(),n.F},R3,KT=function(){try{R3=new ActiveXObject("htmlfile")}catch{}KT=typeof document<"u"?document.domain&&R3?dee(R3):l5t():dee(R3);for(var t=uee.length;t--;)delete KT[oN][uee[t]];return KT()};i5t[hpe]=!0;var c$=Object.create||function(e,n){var r;return e!==null?(MF[oN]=n5t(e),r=new MF,MF[oN]=null,r[hpe]=e):r=KT(),n===void 0?r:r5t.f(r,n)},u5t=$l,c5t=zl,h5t=c5t.RegExp,d5t=u5t(function(){var t=h5t(".","s");return!(t.dotAll&&t.test(`
`)&&t.flags==="s")}),f5t=$l,p5t=zl,A5t=p5t.RegExp,m5t=f5t(function(){var t=A5t("(?<a>b)","g");return t.exec("b").groups.a!=="b"||"b".replace(t,"$<a>c")!=="bc"}),$w=fc,_I=Vl,g5t=Hm,v5t=lpe,_5t=upe,y5t=Qz,b5t=c$,w5t=fI.get,x5t=d5t,C5t=m5t,E5t=y5t("native-string-replace",String.prototype.replace),vB=RegExp.prototype.exec,uN=vB,S5t=_I("".charAt),T5t=_I("".indexOf),B5t=_I("".replace),IF=_I("".slice),cN=function(){var t=/a/,e=/b*/g;return $w(vB,t,"a"),$w(vB,e,"a"),t.lastIndex!==0||e.lastIndex!==0}(),fpe=_5t.BROKEN_CARET,hN=/()??/.exec("")[1]!==void 0,M5t=cN||hN||fpe||x5t||C5t;M5t&&(uN=function(e){var n=this,r=w5t(n),i=g5t(e),s=r.raw,l,c,a,f,p,m,v;if(s)return s.lastIndex=n.lastIndex,l=$w(uN,s,i),n.lastIndex=s.lastIndex,l;var y=r.groups,T=fpe&&n.sticky,C=$w(v5t,n),k=n.source,M=0,P=i;if(T&&(C=B5t(C,"y",""),T5t(C,"g")===-1&&(C+="g"),P=IF(i,n.lastIndex),n.lastIndex>0&&(!n.multiline||n.multiline&&S5t(i,n.lastIndex-1)!==`
`)&&(k="(?: "+k+")",P=" "+P,M++),c=new RegExp("^(?:"+k+")",C)),hN&&(c=new RegExp("^"+k+"$(?!\\s)",C)),cN&&(a=n.lastIndex),f=$w(vB,T?c:n,P),T?f?(f.input=IF(f.input,M),f[0]=IF(f[0],M),f.index=n.lastIndex,n.lastIndex+=f[0].length):n.lastIndex=0:cN&&f&&(n.lastIndex=n.global?f.index+f[0].length:a),hN&&f&&f.length>1&&$w(E5t,f[0],c,function(){for(p=1;p<arguments.length-2;p++)arguments[p]===void 0&&(f[p]=void 0)}),f&&y)for(f.groups=m=b5t(null),p=0;p<y.length;p++)v=y[p],m[v[0]]=f[v[1]];return f});var h$=uN,I5t=ph,fee=h$;I5t({target:"RegExp",proto:!0,forced:/./.exec!==fee},{exec:fee});var pee=fc,Aee=Zy,L5t=h$,mee=$l,ppe=qu,k5t=K5,P5t=ppe("species"),LF=RegExp.prototype,d$=function(t,e,n,r){var i=ppe(t),s=!mee(function(){var f={};return f[i]=function(){return 7},""[t](f)!==7}),l=s&&!mee(function(){var f=!1,p=/a/;return t==="split"&&(p={},p.constructor={},p.constructor[P5t]=function(){return p},p.flags="",p[i]=/./[i]),p.exec=function(){return f=!0,null},p[i](""),!f});if(!s||!l||n){var c=/./[i],a=e(i,""[t],function(f,p,m,v,y){var T=p.exec;return T===L5t||T===LF.exec?s&&!y?{done:!0,value:pee(c,p,m,v)}:{done:!0,value:pee(f,m,p,v)}:{done:!1}});Aee(String.prototype,t,a[0]),Aee(LF,i,a[1])}r&&k5t(LF[i],"sham",!0)},f$=Vl,F5t=pI,R5t=Hm,O5t=$m,D5t=f$("".charAt),gee=f$("".charCodeAt),N5t=f$("".slice),vee=function(t){return function(e,n){var r=R5t(O5t(e)),i=F5t(n),s=r.length,l,c;return i<0||i>=s?t?"":void 0:(l=gee(r,i),l<55296||l>56319||i+1===s||(c=gee(r,i+1))<56320||c>57343?t?D5t(r,i):l:t?N5t(r,i,i+2):(l-55296<<10)+(c-56320)+65536)}},U5t={codeAt:vee(!1),charAt:vee(!0)},z5t=U5t.charAt,p$=function(t,e,n){return e+(n?z5t(t,e).length:1)},_ee=fc,$5t=jc,V5t=Hl,H5t=qy,Q5t=h$,j5t=TypeError,A$=function(t,e){var n=t.exec;if(V5t(n)){var r=_ee(n,t,e);return r!==null&&$5t(r),r}if(H5t(t)==="RegExp")return _ee(Q5t,t,e);throw new j5t("RegExp#exec called on incompatible receiver")},G5t=fc,K5t=d$,W5t=jc,q5t=Yy,Y5t=bx,kF=Hm,X5t=$m,Z5t=yx,J5t=p$,yee=A$;K5t("match",function(t,e,n){return[function(i){var s=X5t(this),l=q5t(i)?void 0:Z5t(i,t);return l?G5t(l,i,s):new RegExp(i)[t](kF(s))},function(r){var i=W5t(this),s=kF(r),l=n(e,i,s);if(l.done)return l.value;if(!i.global)return yee(i,s);var c=i.unicode;i.lastIndex=0;for(var a=[],f=0,p;(p=yee(i,s))!==null;){var m=kF(p[0]);a[f]=m,m===""&&(i.lastIndex=J5t(s,Y5t(i.lastIndex),c)),f++}return f===0?null:a}]});var m$=Vl,eEt=cI,tEt=Math.floor,PF=m$("".charAt),nEt=m$("".replace),FF=m$("".slice),rEt=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,iEt=/\$([$&'`]|\d{1,2})/g,aEt=function(t,e,n,r,i,s){var l=n+t.length,c=r.length,a=iEt;return i!==void 0&&(i=eEt(i),a=rEt),nEt(s,a,function(f,p){var m;switch(PF(p,0)){case"$":return"$";case"&":return t;case"`":return FF(e,0,n);case"'":return FF(e,l);case"<":m=i[FF(p,1,-1)];break;default:var v=+p;if(v===0)return f;if(v>c){var y=tEt(v/10);return y===0?f:y<=c?r[y-1]===void 0?PF(p,1):r[y-1]+PF(p,1):f}m=r[v-1]}return m===void 0?"":m})},sEt=Ofe,bee=fc,yI=Vl,oEt=d$,lEt=$l,uEt=jc,cEt=Hl,hEt=Yy,dEt=pI,fEt=bx,ow=Hm,pEt=$m,AEt=p$,mEt=yx,gEt=aEt,vEt=A$,_Et=qu,dN=_Et("replace"),yEt=Math.max,bEt=Math.min,wEt=yI([].concat),RF=yI([].push),wee=yI("".indexOf),xee=yI("".slice),xEt=function(t){return t===void 0?t:String(t)},CEt=function(){return"a".replace(/./,"$0")==="$0"}(),Cee=function(){return/./[dN]?/./[dN]("a","$0")==="":!1}(),EEt=!lEt(function(){var t=/./;return t.exec=function(){var e=[];return e.groups={a:"7"},e},"".replace(t,"$<a>")!=="7"});oEt("replace",function(t,e,n){var r=Cee?"$":"$0";return[function(s,l){var c=pEt(this),a=hEt(s)?void 0:mEt(s,dN);return a?bee(a,s,c,l):bee(e,ow(c),s,l)},function(i,s){var l=uEt(this),c=ow(i);if(typeof s=="string"&&wee(s,r)===-1&&wee(s,"$<")===-1){var a=n(e,l,c,s);if(a.done)return a.value}var f=cEt(s);f||(s=ow(s));var p=l.global,m;p&&(m=l.unicode,l.lastIndex=0);for(var v=[],y;y=vEt(l,c),!(y===null||(RF(v,y),!p));){var T=ow(y[0]);T===""&&(l.lastIndex=AEt(c,fEt(l.lastIndex),m))}for(var C="",k=0,M=0;M<v.length;M++){y=v[M];for(var P=ow(y[0]),R=yEt(bEt(dEt(y.index),c.length),0),N=[],z,H=1;H<y.length;H++)RF(N,xEt(y[H]));var j=y.groups;if(f){var Q=wEt([P],N,R,c);j!==void 0&&RF(Q,j),z=ow(sEt(s,void 0,Q))}else z=gEt(P,c,R,N,j,s);R>=k&&(C+=xee(c,k,R)+z,k=R+P.length)}return C+xee(c,k)}]},!EEt||!CEt||Cee);var SEt=Vm,TEt=qy,BEt=qu,MEt=BEt("match"),IEt=function(t){var e;return SEt(t)&&((e=t[MEt])!==void 0?!!e:TEt(t)==="RegExp")},LEt=IEt,kEt=TypeError,g$=function(t){if(LEt(t))throw new kEt("The method doesn't accept regular expressions");return t},PEt=qu,FEt=PEt("match"),v$=function(t){var e=/./;try{"/./"[t](e)}catch{try{return e[FEt]=!1,"/./"[t](e)}catch{}}return!1},REt=ph,OEt=mI,DEt=j5.f,NEt=bx,Eee=Hm,UEt=g$,zEt=$m,$Et=v$,VEt=OEt("".slice),HEt=Math.min,Ape=$Et("startsWith"),QEt=!Ape&&!!function(){var t=DEt(String.prototype,"startsWith");return t&&!t.writable}();REt({target:"String",proto:!0,forced:!QEt&&!Ape},{startsWith:function(e){var n=Eee(zEt(this));UEt(e);var r=NEt(HEt(arguments.length>1?arguments[1]:void 0,n.length)),i=Eee(e);return VEt(n,r,r+i.length)===i}});var jEt=qu,GEt=c$,KEt=L0.f,fN=jEt("unscopables"),pN=Array.prototype;pN[fN]===void 0&&KEt(pN,fN,{configurable:!0,value:GEt(null)});var WEt=function(t){pN[fN][t]=!0},qEt=$l,YEt=!qEt(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),XEt=gA,ZEt=Hl,JEt=cI,eSt=Kz,tSt=YEt,See=eSt("IE_PROTO"),AN=Object,nSt=AN.prototype,mpe=tSt?AN.getPrototypeOf:function(t){var e=JEt(t);if(XEt(e,See))return e[See];var n=e.constructor;return ZEt(n)&&e instanceof n?n.prototype:e instanceof AN?nSt:null},rSt=$l,iSt=Hl,aSt=Vm,Tee=mpe,sSt=Zy,oSt=qu,mN=oSt("iterator"),gpe=!1,Fy,OF,DF;[].keys&&(DF=[].keys(),"next"in DF?(OF=Tee(Tee(DF)),OF!==Object.prototype&&(Fy=OF)):gpe=!0);var lSt=!aSt(Fy)||rSt(function(){var t={};return Fy[mN].call(t)!==t});lSt&&(Fy={});iSt(Fy[mN])||sSt(Fy,mN,function(){return this});var vpe={IteratorPrototype:Fy,BUGGY_SAFARI_ITERATORS:gpe},uSt=vpe.IteratorPrototype,cSt=c$,hSt=zz,dSt=AI,fSt=X5,pSt=function(){return this},ASt=function(t,e,n,r){var i=e+" Iterator";return t.prototype=cSt(uSt,{next:hSt(+!r,n)}),dSt(t,i,!1),fSt[i]=pSt,t},mSt=ph,gSt=fc,_pe=dI,vSt=Hl,_St=ASt,Bee=mpe,Mee=Bfe,ySt=AI,bSt=K5,NF=Zy,wSt=qu,xSt=X5,ype=vpe,CSt=_pe.PROPER,ESt=_pe.CONFIGURABLE,Iee=ype.IteratorPrototype,O3=ype.BUGGY_SAFARI_ITERATORS,R4=wSt("iterator"),Lee="keys",O4="values",kee="entries",SSt=function(){return this},TSt=function(t,e,n,r,i,s,l){_St(n,e,r);var c=function(M){if(M===i&&v)return v;if(!O3&&M&&M in p)return p[M];switch(M){case Lee:return function(){return new n(this,M)};case O4:return function(){return new n(this,M)};case kee:return function(){return new n(this,M)}}return function(){return new n(this)}},a=e+" Iterator",f=!1,p=t.prototype,m=p[R4]||p["@@iterator"]||i&&p[i],v=!O3&&m||c(i),y=e==="Array"&&p.entries||m,T,C,k;if(y&&(T=Bee(y.call(new t)),T!==Object.prototype&&T.next&&(Bee(T)!==Iee&&(Mee?Mee(T,Iee):vSt(T[R4])||NF(T,R4,SSt)),ySt(T,a,!0))),CSt&&i===O4&&m&&m.name!==O4&&(ESt?bSt(p,"name",O4):(f=!0,v=function(){return gSt(m,this)})),i)if(C={values:c(O4),keys:s?v:c(Lee),entries:c(kee)},l)for(k in C)(O3||f||!(k in p))&&NF(p,k,C[k]);else mSt({target:e,proto:!0,forced:O3||f},C);return p[R4]!==v&&NF(p,R4,v,{name:i}),xSt[e]=v,C},BSt=function(t,e){return{value:t,done:e}},MSt=G5,_$=WEt,Pee=X5,bpe=fI,ISt=L0.f,LSt=TSt,D3=BSt,kSt=mA,wpe="Array Iterator",PSt=bpe.set,FSt=bpe.getterFor(wpe),RSt=LSt(Array,"Array",function(t,e){PSt(this,{type:wpe,target:MSt(t),index:0,kind:e})},function(){var t=FSt(this),e=t.target,n=t.index++;if(!e||n>=e.length)return t.target=void 0,D3(void 0,!0);switch(t.kind){case"keys":return D3(n,!1);case"values":return D3(e[n],!1)}return D3([n,e[n]],!1)},"values"),Fee=Pee.Arguments=Pee.Array;_$("keys");_$("values");_$("entries");if(kSt&&Fee.name!=="values")try{ISt(Fee,"name",{value:"values"})}catch{}var OSt={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},DSt=hI,UF=DSt("span").classList,Ree=UF&&UF.constructor&&UF.constructor.prototype,NSt=Ree===Object.prototype?void 0:Ree,Oee=zl,xpe=OSt,USt=NSt,rC=RSt,Dee=K5,zSt=AI,$St=qu,zF=$St("iterator"),$F=rC.values,Cpe=function(t,e){if(t){if(t[zF]!==$F)try{Dee(t,zF,$F)}catch{t[zF]=$F}if(zSt(t,e,!0),xpe[e]){for(var n in rC)if(t[n]!==rC[n])try{Dee(t,n,rC[n])}catch{t[n]=rC[n]}}}};for(var VF in xpe)Cpe(Oee[VF]&&Oee[VF].prototype,VF);Cpe(USt,"DOMTokenList");function VSt(t,e){if(ys(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ys(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HSt(t){var e=VSt(t,"string");return ys(e)=="symbol"?e:String(e)}function y$(t,e,n){return e=HSt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var QSt=I0,jSt=cI,GSt=lfe,KSt=Yz,Nee=TypeError,Uee="Reduce of empty array with no initial value",zee=function(t){return function(e,n,r,i){var s=jSt(e),l=GSt(s),c=KSt(s);if(QSt(n),c===0&&r<2)throw new Nee(Uee);var a=t?c-1:0,f=t?-1:1;if(r<2)for(;;){if(a in l){i=l[a],a+=f;break}if(a+=f,t?a<0:c<=a)throw new Nee(Uee)}for(;t?a>=0:c>a;a+=f)a in l&&(i=n(i,l[a],a,s));return i}},WSt={left:zee(!1),right:zee(!0)},qSt=$l,Epe=function(t,e){var n=[][t];return!!n&&qSt(function(){n.call(null,e||function(){return 1},1)})},YSt=ph,XSt=WSt.left,ZSt=Epe,$ee=$z,JSt=q5,e3t=!JSt&&$ee>79&&$ee<83,t3t=e3t||!ZSt("reduce");YSt({target:"Array",proto:!0,forced:t3t},{reduce:function(e){var n=arguments.length;return XSt(this,e,n,n>1?arguments[1]:void 0)}});var n3t=ph,r3t=mI,i3t=j5.f,a3t=bx,Vee=Hm,s3t=g$,o3t=$m,l3t=v$,u3t=r3t("".slice),c3t=Math.min,Spe=l3t("endsWith"),h3t=!Spe&&!!function(){var t=i3t(String.prototype,"endsWith");return t&&!t.writable}();n3t({target:"String",proto:!0,forced:!h3t&&!Spe},{endsWith:function(e){var n=Vee(o3t(this));s3t(e);var r=arguments.length>1?arguments[1]:void 0,i=n.length,s=r===void 0?i:c3t(a3t(r),i),l=Vee(e);return u3t(n,s-l.length,s)===l}});var HF=fc,Tpe=Vl,d3t=d$,f3t=jc,p3t=Yy,A3t=$m,m3t=Ffe,g3t=p$,v3t=bx,Hee=Hm,_3t=yx,Qee=A$,y3t=upe,b3t=$l,lw=y3t.UNSUPPORTED_Y,w3t=4294967295,x3t=Math.min,QF=Tpe([].push),jF=Tpe("".slice),C3t=!b3t(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return n.length!==2||n[0]!=="a"||n[1]!=="b"}),jee="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;d3t("split",function(t,e,n){var r="0".split(void 0,0).length?function(i,s){return i===void 0&&s===0?[]:HF(e,this,i,s)}:e;return[function(s,l){var c=A3t(this),a=p3t(s)?void 0:_3t(s,t);return a?HF(a,s,c,l):HF(r,Hee(c),s,l)},function(i,s){var l=f3t(this),c=Hee(i);if(!jee){var a=n(r,l,c,s,r!==e);if(a.done)return a.value}var f=m3t(l,RegExp),p=l.unicode,m=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(lw?"g":"y"),v=new f(lw?"^(?:"+l.source+")":l,m),y=s===void 0?w3t:s>>>0;if(y===0)return[];if(c.length===0)return Qee(v,c)===null?[c]:[];for(var T=0,C=0,k=[];C<c.length;){v.lastIndex=lw?0:C;var M=Qee(v,lw?jF(c,C):c),P;if(M===null||(P=x3t(v3t(v.lastIndex+(lw?C:0)),c.length))===T)C=g3t(c,C,p);else{if(QF(k,jF(c,T,C)),k.length===y)return k;for(var R=1;R<=M.length-1;R++)if(QF(k,M[R]),k.length===y)return k;C=T=P}}return QF(k,jF(c,T)),k}]},jee||!C3t,lw);var bI={exports:{}},iC={exports:{}};(function(){var t,e,n,r,i,s;typeof performance<"u"&&performance!==null&&performance.now?iC.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(iC.exports=function(){return(t()-i)/1e6},e=process.hrtime,t=function(){var l;return l=e(),l[0]*1e9+l[1]},r=t(),s=process.uptime()*1e9,i=r-s):Date.now?(iC.exports=function(){return Date.now()-n},n=Date.now()):(iC.exports=function(){return new Date().getTime()-n},n=new Date().getTime())}).call(xf);var E3t=iC.exports,S3t=E3t,n0=typeof window>"u"?xf:window,N3=["moz","webkit"],h2="AnimationFrame",W2=n0["request"+h2],J6=n0["cancel"+h2]||n0["cancelRequest"+h2];for(var D4=0;!W2&&D4<N3.length;D4++)W2=n0[N3[D4]+"Request"+h2],J6=n0[N3[D4]+"Cancel"+h2]||n0[N3[D4]+"CancelRequest"+h2];if(!W2||!J6){var GF=0,Gee=0,T_=[],T3t=1e3/60;W2=function(t){if(T_.length===0){var e=S3t(),n=Math.max(0,T3t-(e-GF));GF=n+e,setTimeout(function(){var r=T_.slice(0);T_.length=0;for(var i=0;i<r.length;i++)if(!r[i].cancelled)try{r[i].callback(GF)}catch(s){setTimeout(function(){throw s},0)}},Math.round(n))}return T_.push({handle:++Gee,callback:t,cancelled:!1}),Gee},J6=function(t){for(var e=0;e<T_.length;e++)T_[e].handle===t&&(T_[e].cancelled=!0)}}bI.exports=function(t){return W2.call(n0,t)};bI.exports.cancel=function(){J6.apply(n0,arguments)};bI.exports.polyfill=function(t){t||(t=n0),t.requestAnimationFrame=W2,t.cancelAnimationFrame=J6};var B3t=bI.exports;const KF=Phe(B3t);var Bpe=`	
\v\f\r                　\u2028\u2029\uFEFF`,M3t=Vl,I3t=$m,L3t=Hm,gN=Bpe,Kee=M3t("".replace),k3t=RegExp("^["+gN+"]+"),P3t=RegExp("(^|[^"+gN+"])["+gN+"]+$"),WF=function(t){return function(e){var n=L3t(I3t(e));return t&1&&(n=Kee(n,k3t,"")),t&2&&(n=Kee(n,P3t,"$1")),n}},F3t={start:WF(1),end:WF(2),trim:WF(3)},R3t=dI.PROPER,O3t=$l,Wee=Bpe,qee="​᠎",D3t=function(t){return O3t(function(){return!!Wee[t]()||qee[t]()!==qee||R3t&&Wee[t].name!==t})},N3t=ph,U3t=F3t.trim,z3t=D3t;N3t({target:"String",proto:!0,forced:z3t("trim")},{trim:function(){return U3t(this)}});var $3t=function(t){this.ok=!1,this.alpha=1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t=t.replace(/ /g,""),t=t.toLowerCase();var e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};t=e[t]||t;for(var n=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3]),parseFloat(a[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,l=i.exec(t);if(l){var c=s(l);this.r=c[0],this.g=c[1],this.b=c[2],c.length>3&&(this.alpha=c[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var a=this.r.toString(16),f=this.g.toString(16),p=this.b.toString(16);return a.length==1&&(a="0"+a),f.length==1&&(f="0"+f),p.length==1&&(p="0"+p),"#"+a+f+p},this.getHelpXML=function(){for(var a=new Array,f=0;f<n.length;f++)for(var p=n[f].example,m=0;m<p.length;m++)a[a.length]=p[m];for(var v in e)a[a.length]=v;var y=document.createElement("ul");y.setAttribute("id","rgbcolor-examples");for(var f=0;f<a.length;f++)try{var T=document.createElement("li"),C=new RGBColor(a[f]),k=document.createElement("div");k.style.cssText="margin: 3px; border: 1px solid black; background:"+C.toHex()+"; color:"+C.toHex(),k.appendChild(document.createTextNode("test"));var M=document.createTextNode(" "+a[f]+" -> "+C.toRGB()+" -> "+C.toHex());T.appendChild(k),T.appendChild(M),y.appendChild(T)}catch{}return y}};const vN=Phe($3t);var V3t=ph,H3t=mI,Q3t=Cfe.indexOf,j3t=Epe,_N=H3t([].indexOf),Mpe=!!_N&&1/_N([1],1,-0)<0,G3t=Mpe||!j3t("indexOf");V3t({target:"Array",proto:!0,forced:G3t},{indexOf:function(e){var n=arguments.length>1?arguments[1]:void 0;return Mpe?_N(this,e,n)||0:Q3t(this,e,n)}});var K3t=ph,W3t=Vl,q3t=g$,Y3t=$m,Yee=Hm,X3t=v$,Z3t=W3t("".indexOf);K3t({target:"String",proto:!0,forced:!X3t("includes")},{includes:function(e){return!!~Z3t(Yee(Y3t(this)),Yee(q3t(e)),arguments.length>1?arguments[1]:void 0)}});var J3t=qy,eTt=Array.isArray||function(e){return J3t(e)==="Array"},tTt=ph,nTt=Vl,rTt=eTt,iTt=nTt([].reverse),Xee=[1,2];tTt({target:"Array",proto:!0,forced:String(Xee)===String(Xee.reverse())},{reverse:function(){return rTt(this)&&(this.length=this.length),iTt(this)}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ipe=function(t,e){return(Ipe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])})(t,e)};function Lpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Ipe(t,e),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function aTt(t){var e="";Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++){var r=t[n];if(r.type===br.CLOSE_PATH)e+="z";else if(r.type===br.HORIZ_LINE_TO)e+=(r.relative?"h":"H")+r.x;else if(r.type===br.VERT_LINE_TO)e+=(r.relative?"v":"V")+r.y;else if(r.type===br.MOVE_TO)e+=(r.relative?"m":"M")+r.x+" "+r.y;else if(r.type===br.LINE_TO)e+=(r.relative?"l":"L")+r.x+" "+r.y;else if(r.type===br.CURVE_TO)e+=(r.relative?"c":"C")+r.x1+" "+r.y1+" "+r.x2+" "+r.y2+" "+r.x+" "+r.y;else if(r.type===br.SMOOTH_CURVE_TO)e+=(r.relative?"s":"S")+r.x2+" "+r.y2+" "+r.x+" "+r.y;else if(r.type===br.QUAD_TO)e+=(r.relative?"q":"Q")+r.x1+" "+r.y1+" "+r.x+" "+r.y;else if(r.type===br.SMOOTH_QUAD_TO)e+=(r.relative?"t":"T")+r.x+" "+r.y;else{if(r.type!==br.ARC)throw new Error('Unexpected command type "'+r.type+'" at index '+n+".");e+=(r.relative?"a":"A")+r.rX+" "+r.rY+" "+r.xRot+" "+ +r.lArcFlag+" "+ +r.sweepFlag+" "+r.x+" "+r.y}}return e}function yN(t,e){var n=t[0],r=t[1];return[n*Math.cos(e)-r*Math.sin(e),n*Math.sin(e)+r*Math.cos(e)]}function zp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;n++)if(typeof t[n]!="number")throw new Error("assertNumbers arguments["+n+"] is not a number. "+typeof t[n]+" == typeof "+t[n]);return!0}var Dv=Math.PI;function qF(t,e,n){t.lArcFlag=t.lArcFlag===0?0:1,t.sweepFlag=t.sweepFlag===0?0:1;var r=t.rX,i=t.rY,s=t.x,l=t.y;r=Math.abs(t.rX),i=Math.abs(t.rY);var c=yN([(e-s)/2,(n-l)/2],-t.xRot/180*Dv),a=c[0],f=c[1],p=Math.pow(a,2)/Math.pow(r,2)+Math.pow(f,2)/Math.pow(i,2);1<p&&(r*=Math.sqrt(p),i*=Math.sqrt(p)),t.rX=r,t.rY=i;var m=Math.pow(r,2)*Math.pow(f,2)+Math.pow(i,2)*Math.pow(a,2),v=(t.lArcFlag!==t.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(r,2)*Math.pow(i,2)-m)/m)),y=r*f/i*v,T=-i*a/r*v,C=yN([y,T],t.xRot/180*Dv);t.cX=C[0]+(e+s)/2,t.cY=C[1]+(n+l)/2,t.phi1=Math.atan2((f-T)/i,(a-y)/r),t.phi2=Math.atan2((-f-T)/i,(-a-y)/r),t.sweepFlag===0&&t.phi2>t.phi1&&(t.phi2-=2*Dv),t.sweepFlag===1&&t.phi2<t.phi1&&(t.phi2+=2*Dv),t.phi1*=180/Dv,t.phi2*=180/Dv}function Zee(t,e,n){zp(t,e,n);var r=t*t+e*e-n*n;if(0>r)return[];if(r===0)return[[t*n/(t*t+e*e),e*n/(t*t+e*e)]];var i=Math.sqrt(r);return[[(t*n+e*i)/(t*t+e*e),(e*n-t*i)/(t*t+e*e)],[(t*n-e*i)/(t*t+e*e),(e*n+t*i)/(t*t+e*e)]]}var ru,Ng=Math.PI/180;function Jee(t,e,n){return(1-n)*t+n*e}function ete(t,e,n,r){return t+Math.cos(r/180*Dv)*e+Math.sin(r/180*Dv)*n}function tte(t,e,n,r){var i=1e-6,s=e-t,l=n-e,c=3*s+3*(r-n)-6*l,a=6*(l-s),f=3*s;return Math.abs(c)<i?[-f/a]:function(p,m,v){var y=p*p/4-m;if(y<-v)return[];if(y<=v)return[-p/2];var T=Math.sqrt(y);return[-p/2-T,-p/2+T]}(a/c,f/c,i)}function nte(t,e,n,r,i){var s=1-i;return t*(s*s*s)+e*(3*s*s*i)+n*(3*s*i*i)+r*(i*i*i)}(function(t){function e(){return i(function(c,a,f){return c.relative&&(c.x1!==void 0&&(c.x1+=a),c.y1!==void 0&&(c.y1+=f),c.x2!==void 0&&(c.x2+=a),c.y2!==void 0&&(c.y2+=f),c.x!==void 0&&(c.x+=a),c.y!==void 0&&(c.y+=f),c.relative=!1),c})}function n(){var c=NaN,a=NaN,f=NaN,p=NaN;return i(function(m,v,y){return m.type&br.SMOOTH_CURVE_TO&&(m.type=br.CURVE_TO,c=isNaN(c)?v:c,a=isNaN(a)?y:a,m.x1=m.relative?v-c:2*v-c,m.y1=m.relative?y-a:2*y-a),m.type&br.CURVE_TO?(c=m.relative?v+m.x2:m.x2,a=m.relative?y+m.y2:m.y2):(c=NaN,a=NaN),m.type&br.SMOOTH_QUAD_TO&&(m.type=br.QUAD_TO,f=isNaN(f)?v:f,p=isNaN(p)?y:p,m.x1=m.relative?v-f:2*v-f,m.y1=m.relative?y-p:2*y-p),m.type&br.QUAD_TO?(f=m.relative?v+m.x1:m.x1,p=m.relative?y+m.y1:m.y1):(f=NaN,p=NaN),m})}function r(){var c=NaN,a=NaN;return i(function(f,p,m){if(f.type&br.SMOOTH_QUAD_TO&&(f.type=br.QUAD_TO,c=isNaN(c)?p:c,a=isNaN(a)?m:a,f.x1=f.relative?p-c:2*p-c,f.y1=f.relative?m-a:2*m-a),f.type&br.QUAD_TO){c=f.relative?p+f.x1:f.x1,a=f.relative?m+f.y1:f.y1;var v=f.x1,y=f.y1;f.type=br.CURVE_TO,f.x1=((f.relative?0:p)+2*v)/3,f.y1=((f.relative?0:m)+2*y)/3,f.x2=(f.x+2*v)/3,f.y2=(f.y+2*y)/3}else c=NaN,a=NaN;return f})}function i(c){var a=0,f=0,p=NaN,m=NaN;return function(v){if(isNaN(p)&&!(v.type&br.MOVE_TO))throw new Error("path must start with moveto");var y=c(v,a,f,p,m);return v.type&br.CLOSE_PATH&&(a=p,f=m),v.x!==void 0&&(a=v.relative?a+v.x:v.x),v.y!==void 0&&(f=v.relative?f+v.y:v.y),v.type&br.MOVE_TO&&(p=a,m=f),y}}function s(c,a,f,p,m,v){return zp(c,a,f,p,m,v),i(function(y,T,C,k){var M=y.x1,P=y.x2,R=y.relative&&!isNaN(k),N=y.x!==void 0?y.x:R?0:T,z=y.y!==void 0?y.y:R?0:C;function H(se){return se*se}y.type&br.HORIZ_LINE_TO&&a!==0&&(y.type=br.LINE_TO,y.y=y.relative?0:C),y.type&br.VERT_LINE_TO&&f!==0&&(y.type=br.LINE_TO,y.x=y.relative?0:T),y.x!==void 0&&(y.x=y.x*c+z*f+(R?0:m)),y.y!==void 0&&(y.y=N*a+y.y*p+(R?0:v)),y.x1!==void 0&&(y.x1=y.x1*c+y.y1*f+(R?0:m)),y.y1!==void 0&&(y.y1=M*a+y.y1*p+(R?0:v)),y.x2!==void 0&&(y.x2=y.x2*c+y.y2*f+(R?0:m)),y.y2!==void 0&&(y.y2=P*a+y.y2*p+(R?0:v));var j=c*p-a*f;if(y.xRot!==void 0&&(c!==1||a!==0||f!==0||p!==1))if(j===0)delete y.rX,delete y.rY,delete y.xRot,delete y.lArcFlag,delete y.sweepFlag,y.type=br.LINE_TO;else{var Q=y.xRot*Math.PI/180,G=Math.sin(Q),ie=Math.cos(Q),q=1/H(y.rX),W=1/H(y.rY),ee=H(ie)*q+H(G)*W,he=2*G*ie*(q-W),J=H(G)*q+H(ie)*W,te=ee*p*p-he*a*p+J*a*a,ne=he*(c*p+a*f)-2*(ee*f*p+J*c*a),ce=ee*f*f-he*c*f+J*c*c,ue=(Math.atan2(ne,te-ce)+Math.PI)%Math.PI/2,ye=Math.sin(ue),Ee=Math.cos(ue);y.rX=Math.abs(j)/Math.sqrt(te*H(Ee)+ne*ye*Ee+ce*H(ye)),y.rY=Math.abs(j)/Math.sqrt(te*H(ye)-ne*ye*Ee+ce*H(Ee)),y.xRot=180*ue/Math.PI}return y.sweepFlag!==void 0&&0>j&&(y.sweepFlag=+!y.sweepFlag),y})}function l(){return function(c){var a={};for(var f in c)a[f]=c[f];return a}}t.ROUND=function(c){function a(f){return Math.round(f*c)/c}return c===void 0&&(c=1e13),zp(c),function(f){return f.x1!==void 0&&(f.x1=a(f.x1)),f.y1!==void 0&&(f.y1=a(f.y1)),f.x2!==void 0&&(f.x2=a(f.x2)),f.y2!==void 0&&(f.y2=a(f.y2)),f.x!==void 0&&(f.x=a(f.x)),f.y!==void 0&&(f.y=a(f.y)),f.rX!==void 0&&(f.rX=a(f.rX)),f.rY!==void 0&&(f.rY=a(f.rY)),f}},t.TO_ABS=e,t.TO_REL=function(){return i(function(c,a,f){return c.relative||(c.x1!==void 0&&(c.x1-=a),c.y1!==void 0&&(c.y1-=f),c.x2!==void 0&&(c.x2-=a),c.y2!==void 0&&(c.y2-=f),c.x!==void 0&&(c.x-=a),c.y!==void 0&&(c.y-=f),c.relative=!0),c})},t.NORMALIZE_HVZ=function(c,a,f){return c===void 0&&(c=!0),a===void 0&&(a=!0),f===void 0&&(f=!0),i(function(p,m,v,y,T){if(isNaN(y)&&!(p.type&br.MOVE_TO))throw new Error("path must start with moveto");return a&&p.type&br.HORIZ_LINE_TO&&(p.type=br.LINE_TO,p.y=p.relative?0:v),f&&p.type&br.VERT_LINE_TO&&(p.type=br.LINE_TO,p.x=p.relative?0:m),c&&p.type&br.CLOSE_PATH&&(p.type=br.LINE_TO,p.x=p.relative?y-m:y,p.y=p.relative?T-v:T),p.type&br.ARC&&(p.rX===0||p.rY===0)&&(p.type=br.LINE_TO,delete p.rX,delete p.rY,delete p.xRot,delete p.lArcFlag,delete p.sweepFlag),p})},t.NORMALIZE_ST=n,t.QT_TO_C=r,t.INFO=i,t.SANITIZE=function(c){c===void 0&&(c=0),zp(c);var a=NaN,f=NaN,p=NaN,m=NaN;return i(function(v,y,T,C,k){var M=Math.abs,P=!1,R=0,N=0;if(v.type&br.SMOOTH_CURVE_TO&&(R=isNaN(a)?0:y-a,N=isNaN(f)?0:T-f),v.type&(br.CURVE_TO|br.SMOOTH_CURVE_TO)?(a=v.relative?y+v.x2:v.x2,f=v.relative?T+v.y2:v.y2):(a=NaN,f=NaN),v.type&br.SMOOTH_QUAD_TO?(p=isNaN(p)?y:2*y-p,m=isNaN(m)?T:2*T-m):v.type&br.QUAD_TO?(p=v.relative?y+v.x1:v.x1,m=v.relative?T+v.y1:v.y2):(p=NaN,m=NaN),v.type&br.LINE_COMMANDS||v.type&br.ARC&&(v.rX===0||v.rY===0||!v.lArcFlag)||v.type&br.CURVE_TO||v.type&br.SMOOTH_CURVE_TO||v.type&br.QUAD_TO||v.type&br.SMOOTH_QUAD_TO){var z=v.x===void 0?0:v.relative?v.x:v.x-y,H=v.y===void 0?0:v.relative?v.y:v.y-T;R=isNaN(p)?v.x1===void 0?R:v.relative?v.x:v.x1-y:p-y,N=isNaN(m)?v.y1===void 0?N:v.relative?v.y:v.y1-T:m-T;var j=v.x2===void 0?0:v.relative?v.x:v.x2-y,Q=v.y2===void 0?0:v.relative?v.y:v.y2-T;M(z)<=c&&M(H)<=c&&M(R)<=c&&M(N)<=c&&M(j)<=c&&M(Q)<=c&&(P=!0)}return v.type&br.CLOSE_PATH&&M(y-C)<=c&&M(T-k)<=c&&(P=!0),P?[]:v})},t.MATRIX=s,t.ROTATE=function(c,a,f){a===void 0&&(a=0),f===void 0&&(f=0),zp(c,a,f);var p=Math.sin(c),m=Math.cos(c);return s(m,p,-p,m,a-a*m+f*p,f-a*p-f*m)},t.TRANSLATE=function(c,a){return a===void 0&&(a=0),zp(c,a),s(1,0,0,1,c,a)},t.SCALE=function(c,a){return a===void 0&&(a=c),zp(c,a),s(c,0,0,a,0,0)},t.SKEW_X=function(c){return zp(c),s(1,0,Math.atan(c),1,0,0)},t.SKEW_Y=function(c){return zp(c),s(1,Math.atan(c),0,1,0,0)},t.X_AXIS_SYMMETRY=function(c){return c===void 0&&(c=0),zp(c),s(-1,0,0,1,c,0)},t.Y_AXIS_SYMMETRY=function(c){return c===void 0&&(c=0),zp(c),s(1,0,0,-1,0,c)},t.A_TO_C=function(){return i(function(c,a,f){return br.ARC===c.type?function(p,m,v){var y,T,C,k;p.cX||qF(p,m,v);for(var M=Math.min(p.phi1,p.phi2),P=Math.max(p.phi1,p.phi2)-M,R=Math.ceil(P/90),N=new Array(R),z=m,H=v,j=0;j<R;j++){var Q=Jee(p.phi1,p.phi2,j/R),G=Jee(p.phi1,p.phi2,(j+1)/R),ie=G-Q,q=4/3*Math.tan(ie*Ng/4),W=[Math.cos(Q*Ng)-q*Math.sin(Q*Ng),Math.sin(Q*Ng)+q*Math.cos(Q*Ng)],ee=W[0],he=W[1],J=[Math.cos(G*Ng),Math.sin(G*Ng)],te=J[0],ne=J[1],ce=[te+q*Math.sin(G*Ng),ne-q*Math.cos(G*Ng)],ue=ce[0],ye=ce[1];N[j]={relative:p.relative,type:br.CURVE_TO};var Ee=function(se,oe){var _e=yN([se*p.rX,oe*p.rY],p.xRot),Ue=_e[0],Le=_e[1];return[p.cX+Ue,p.cY+Le]};y=Ee(ee,he),N[j].x1=y[0],N[j].y1=y[1],T=Ee(ue,ye),N[j].x2=T[0],N[j].y2=T[1],C=Ee(te,ne),N[j].x=C[0],N[j].y=C[1],p.relative&&(N[j].x1-=z,N[j].y1-=H,N[j].x2-=z,N[j].y2-=H,N[j].x-=z,N[j].y-=H),z=(k=[N[j].x,N[j].y])[0],H=k[1]}return N}(c,c.relative?0:a,c.relative?0:f):c})},t.ANNOTATE_ARCS=function(){return i(function(c,a,f){return c.relative&&(a=0,f=0),br.ARC===c.type&&qF(c,a,f),c})},t.CLONE=l,t.CALCULATE_BOUNDS=function(){var c=function(v){var y={};for(var T in v)y[T]=v[T];return y},a=e(),f=r(),p=n(),m=i(function(v,y,T){var C=p(f(a(c(v))));function k(ye){ye>m.maxX&&(m.maxX=ye),ye<m.minX&&(m.minX=ye)}function M(ye){ye>m.maxY&&(m.maxY=ye),ye<m.minY&&(m.minY=ye)}if(C.type&br.DRAWING_COMMANDS&&(k(y),M(T)),C.type&br.HORIZ_LINE_TO&&k(C.x),C.type&br.VERT_LINE_TO&&M(C.y),C.type&br.LINE_TO&&(k(C.x),M(C.y)),C.type&br.CURVE_TO){k(C.x),M(C.y);for(var P=0,R=tte(y,C.x1,C.x2,C.x);P<R.length;P++)0<(ue=R[P])&&1>ue&&k(nte(y,C.x1,C.x2,C.x,ue));for(var N=0,z=tte(T,C.y1,C.y2,C.y);N<z.length;N++)0<(ue=z[N])&&1>ue&&M(nte(T,C.y1,C.y2,C.y,ue))}if(C.type&br.ARC){k(C.x),M(C.y),qF(C,y,T);for(var H=C.xRot/180*Math.PI,j=Math.cos(H)*C.rX,Q=Math.sin(H)*C.rX,G=-Math.sin(H)*C.rY,ie=Math.cos(H)*C.rY,q=C.phi1<C.phi2?[C.phi1,C.phi2]:-180>C.phi2?[C.phi2+360,C.phi1+360]:[C.phi2,C.phi1],W=q[0],ee=q[1],he=function(ye){var Ee=ye[0],se=ye[1],oe=180*Math.atan2(se,Ee)/Math.PI;return oe<W?oe+360:oe},J=0,te=Zee(G,-j,0).map(he);J<te.length;J++)(ue=te[J])>W&&ue<ee&&k(ete(C.cX,j,G,ue));for(var ne=0,ce=Zee(ie,-Q,0).map(he);ne<ce.length;ne++){var ue;(ue=ce[ne])>W&&ue<ee&&M(ete(C.cY,Q,ie,ue))}}return v});return m.minX=1/0,m.maxX=-1/0,m.minY=1/0,m.maxY=-1/0,m}})(ru||(ru={}));var Rp,kpe=function(){function t(){}return t.prototype.round=function(e){return this.transform(ru.ROUND(e))},t.prototype.toAbs=function(){return this.transform(ru.TO_ABS())},t.prototype.toRel=function(){return this.transform(ru.TO_REL())},t.prototype.normalizeHVZ=function(e,n,r){return this.transform(ru.NORMALIZE_HVZ(e,n,r))},t.prototype.normalizeST=function(){return this.transform(ru.NORMALIZE_ST())},t.prototype.qtToC=function(){return this.transform(ru.QT_TO_C())},t.prototype.aToC=function(){return this.transform(ru.A_TO_C())},t.prototype.sanitize=function(e){return this.transform(ru.SANITIZE(e))},t.prototype.translate=function(e,n){return this.transform(ru.TRANSLATE(e,n))},t.prototype.scale=function(e,n){return this.transform(ru.SCALE(e,n))},t.prototype.rotate=function(e,n,r){return this.transform(ru.ROTATE(e,n,r))},t.prototype.matrix=function(e,n,r,i,s,l){return this.transform(ru.MATRIX(e,n,r,i,s,l))},t.prototype.skewX=function(e){return this.transform(ru.SKEW_X(e))},t.prototype.skewY=function(e){return this.transform(ru.SKEW_Y(e))},t.prototype.xSymmetry=function(e){return this.transform(ru.X_AXIS_SYMMETRY(e))},t.prototype.ySymmetry=function(e){return this.transform(ru.Y_AXIS_SYMMETRY(e))},t.prototype.annotateArcs=function(){return this.transform(ru.ANNOTATE_ARCS())},t}(),sTt=function(t){return t===" "||t==="	"||t==="\r"||t===`
`},rte=function(t){return 48<=t.charCodeAt(0)&&t.charCodeAt(0)<=57},oTt=function(t){function e(){var n=t.call(this)||this;return n.curNumber="",n.curCommandType=-1,n.curCommandRelative=!1,n.canParseCommandOrComma=!0,n.curNumberHasExp=!1,n.curNumberHasExpDigits=!1,n.curNumberHasDecimal=!1,n.curArgs=[],n}return Lpe(e,t),e.prototype.finish=function(n){if(n===void 0&&(n=[]),this.parse(" ",n),this.curArgs.length!==0||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return n},e.prototype.parse=function(n,r){var i=this;r===void 0&&(r=[]);for(var s=function(m){r.push(m),i.curArgs.length=0,i.canParseCommandOrComma=!0},l=0;l<n.length;l++){var c=n[l],a=!(this.curCommandType!==br.ARC||this.curArgs.length!==3&&this.curArgs.length!==4||this.curNumber.length!==1||this.curNumber!=="0"&&this.curNumber!=="1"),f=rte(c)&&(this.curNumber==="0"&&c==="0"||a);if(!rte(c)||f)if(c!=="e"&&c!=="E")if(c!=="-"&&c!=="+"||!this.curNumberHasExp||this.curNumberHasExpDigits)if(c!=="."||this.curNumberHasExp||this.curNumberHasDecimal||a){if(this.curNumber&&this.curCommandType!==-1){var p=Number(this.curNumber);if(isNaN(p))throw new SyntaxError("Invalid number ending at "+l);if(this.curCommandType===br.ARC){if(this.curArgs.length===0||this.curArgs.length===1){if(0>p)throw new SyntaxError('Expected positive number, got "'+p+'" at index "'+l+'"')}else if((this.curArgs.length===3||this.curArgs.length===4)&&this.curNumber!=="0"&&this.curNumber!=="1")throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+l+'"')}this.curArgs.push(p),this.curArgs.length===lTt[this.curCommandType]&&(br.HORIZ_LINE_TO===this.curCommandType?s({type:br.HORIZ_LINE_TO,relative:this.curCommandRelative,x:p}):br.VERT_LINE_TO===this.curCommandType?s({type:br.VERT_LINE_TO,relative:this.curCommandRelative,y:p}):this.curCommandType===br.MOVE_TO||this.curCommandType===br.LINE_TO||this.curCommandType===br.SMOOTH_QUAD_TO?(s({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),br.MOVE_TO===this.curCommandType&&(this.curCommandType=br.LINE_TO)):this.curCommandType===br.CURVE_TO?s({type:br.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===br.SMOOTH_CURVE_TO?s({type:br.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===br.QUAD_TO?s({type:br.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===br.ARC&&s({type:br.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!sTt(c))if(c===","&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if(c!=="+"&&c!=="-"&&c!==".")if(f)this.curNumber=c,this.curNumberHasDecimal=!1;else{if(this.curArgs.length!==0)throw new SyntaxError("Unterminated command at index "+l+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+c+'" at index '+l+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,c!=="z"&&c!=="Z")if(c==="h"||c==="H")this.curCommandType=br.HORIZ_LINE_TO,this.curCommandRelative=c==="h";else if(c==="v"||c==="V")this.curCommandType=br.VERT_LINE_TO,this.curCommandRelative=c==="v";else if(c==="m"||c==="M")this.curCommandType=br.MOVE_TO,this.curCommandRelative=c==="m";else if(c==="l"||c==="L")this.curCommandType=br.LINE_TO,this.curCommandRelative=c==="l";else if(c==="c"||c==="C")this.curCommandType=br.CURVE_TO,this.curCommandRelative=c==="c";else if(c==="s"||c==="S")this.curCommandType=br.SMOOTH_CURVE_TO,this.curCommandRelative=c==="s";else if(c==="q"||c==="Q")this.curCommandType=br.QUAD_TO,this.curCommandRelative=c==="q";else if(c==="t"||c==="T")this.curCommandType=br.SMOOTH_QUAD_TO,this.curCommandRelative=c==="t";else{if(c!=="a"&&c!=="A")throw new SyntaxError('Unexpected character "'+c+'" at index '+l+".");this.curCommandType=br.ARC,this.curCommandRelative=c==="a"}else r.push({type:br.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=c,this.curNumberHasDecimal=c==="."}else this.curNumber+=c,this.curNumberHasDecimal=!0;else this.curNumber+=c;else this.curNumber+=c,this.curNumberHasExp=!0;else this.curNumber+=c,this.curNumberHasExpDigits=this.curNumberHasExp}return r},e.prototype.transform=function(n){return Object.create(this,{parse:{value:function(r,i){i===void 0&&(i=[]);for(var s=0,l=Object.getPrototypeOf(this).parse.call(this,r);s<l.length;s++){var c=l[s],a=n(c);Array.isArray(a)?i.push.apply(i,a):i.push(a)}return i}}})},e}(kpe),br=function(t){function e(n){var r=t.call(this)||this;return r.commands=typeof n=="string"?e.parse(n):n,r}return Lpe(e,t),e.prototype.encode=function(){return e.encode(this.commands)},e.prototype.getBounds=function(){var n=ru.CALCULATE_BOUNDS();return this.transform(n),n},e.prototype.transform=function(n){for(var r=[],i=0,s=this.commands;i<s.length;i++){var l=n(s[i]);Array.isArray(l)?r.push.apply(r,l):r.push(l)}return this.commands=r,this},e.encode=function(n){return aTt(n)},e.parse=function(n){var r=new oTt,i=[];return r.parse(n,i),r.finish(i),i},e.CLOSE_PATH=1,e.MOVE_TO=2,e.HORIZ_LINE_TO=4,e.VERT_LINE_TO=8,e.LINE_TO=16,e.CURVE_TO=32,e.SMOOTH_CURVE_TO=64,e.QUAD_TO=128,e.SMOOTH_QUAD_TO=256,e.ARC=512,e.LINE_COMMANDS=e.LINE_TO|e.HORIZ_LINE_TO|e.VERT_LINE_TO,e.DRAWING_COMMANDS=e.HORIZ_LINE_TO|e.VERT_LINE_TO|e.LINE_TO|e.CURVE_TO|e.SMOOTH_CURVE_TO|e.QUAD_TO|e.SMOOTH_QUAD_TO|e.ARC,e}(kpe),lTt=((Rp={})[br.MOVE_TO]=2,Rp[br.LINE_TO]=2,Rp[br.HORIZ_LINE_TO]=1,Rp[br.VERT_LINE_TO]=1,Rp[br.CLOSE_PATH]=0,Rp[br.QUAD_TO]=4,Rp[br.SMOOTH_QUAD_TO]=2,Rp[br.CURVE_TO]=6,Rp[br.SMOOTH_CURVE_TO]=4,Rp[br.ARC]=7,Rp),uTt=fc,cTt=gA,hTt=oI,dTt=lpe,ite=RegExp.prototype,fTt=function(t){var e=t.flags;return e===void 0&&!("flags"in ite)&&!cTt(t,"flags")&&hTt(ite,t)?uTt(dTt,t):e},pTt=dI.PROPER,ATt=Zy,mTt=jc,ate=Hm,gTt=$l,vTt=fTt,b$="toString",Ppe=RegExp.prototype,Fpe=Ppe[b$],_Tt=gTt(function(){return Fpe.call({source:"a",flags:"b"})!=="/a/b"}),yTt=pTt&&Fpe.name!==b$;(_Tt||yTt)&&ATt(Ppe,b$,function(){var e=mTt(this),n=ate(e.source),r=ate(vTt(e));return"/"+n+"/"+r},{unsafe:!0});function WT(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?WT=function(e){return typeof e}:WT=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WT(t)}function bTt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var wTt=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],xTt=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function CTt(t,e,n,r,i){if(typeof t=="string"&&(t=document.getElementById(t)),!t||WT(t)!=="object"||!("getContext"in t))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var s=t.getContext("2d");try{return s.getImageData(e,n,r,i)}catch(l){throw new Error("unable to access image data: "+l)}}function ETt(t,e,n,r,i,s){if(!(isNaN(s)||s<1)){s|=0;var l=CTt(t,e,n,r,i);l=STt(l,e,n,r,i,s),t.getContext("2d").putImageData(l,e,n)}}function STt(t,e,n,r,i,s){for(var l=t.data,c=2*s+1,a=r-1,f=i-1,p=s+1,m=p*(p+1)/2,v=new ste,y=v,T,C=1;C<c;C++)y=y.next=new ste,C===p&&(T=y);y.next=v;for(var k=null,M=null,P=0,R=0,N=wTt[s],z=xTt[s],H=0;H<i;H++){y=v;for(var j=l[R],Q=l[R+1],G=l[R+2],ie=l[R+3],q=0;q<p;q++)y.r=j,y.g=Q,y.b=G,y.a=ie,y=y.next;for(var W=0,ee=0,he=0,J=0,te=p*j,ne=p*Q,ce=p*G,ue=p*ie,ye=m*j,Ee=m*Q,se=m*G,oe=m*ie,_e=1;_e<p;_e++){var Ue=R+((a<_e?a:_e)<<2),Le=l[Ue],be=l[Ue+1],Re=l[Ue+2],Qe=l[Ue+3],Je=p-_e;ye+=(y.r=Le)*Je,Ee+=(y.g=be)*Je,se+=(y.b=Re)*Je,oe+=(y.a=Qe)*Je,W+=Le,ee+=be,he+=Re,J+=Qe,y=y.next}k=v,M=T;for(var nt=0;nt<r;nt++){var Ve=oe*N>>>z;if(l[R+3]=Ve,Ve!==0){var ke=255/Ve;l[R]=(ye*N>>>z)*ke,l[R+1]=(Ee*N>>>z)*ke,l[R+2]=(se*N>>>z)*ke}else l[R]=l[R+1]=l[R+2]=0;ye-=te,Ee-=ne,se-=ce,oe-=ue,te-=k.r,ne-=k.g,ce-=k.b,ue-=k.a;var Ge=nt+s+1;Ge=P+(Ge<a?Ge:a)<<2,W+=k.r=l[Ge],ee+=k.g=l[Ge+1],he+=k.b=l[Ge+2],J+=k.a=l[Ge+3],ye+=W,Ee+=ee,se+=he,oe+=J,k=k.next;var Ne=M,je=Ne.r,Ye=Ne.g,vt=Ne.b,Lt=Ne.a;te+=je,ne+=Ye,ce+=vt,ue+=Lt,W-=je,ee-=Ye,he-=vt,J-=Lt,M=M.next,R+=4}P+=r}for(var Et=0;Et<r;Et++){R=Et<<2;var Vt=l[R],_t=l[R+1],qt=l[R+2],tn=l[R+3],Nt=p*Vt,wt=p*_t,De=p*qt,We=p*tn,ut=m*Vt,It=m*_t,Xe=m*qt,kt=m*tn;y=v;for(var Bt=0;Bt<p;Bt++)y.r=Vt,y.g=_t,y.b=qt,y.a=tn,y=y.next;for(var it=r,Mt=0,at=0,et=0,St=0,sn=1;sn<=s;sn++){R=it+Et<<2;var bn=p-sn;ut+=(y.r=Vt=l[R])*bn,It+=(y.g=_t=l[R+1])*bn,Xe+=(y.b=qt=l[R+2])*bn,kt+=(y.a=tn=l[R+3])*bn,St+=Vt,Mt+=_t,at+=qt,et+=tn,y=y.next,sn<f&&(it+=r)}R=Et,k=v,M=T;for(var gr=0;gr<i;gr++){var tr=R<<2;l[tr+3]=tn=kt*N>>>z,tn>0?(tn=255/tn,l[tr]=(ut*N>>>z)*tn,l[tr+1]=(It*N>>>z)*tn,l[tr+2]=(Xe*N>>>z)*tn):l[tr]=l[tr+1]=l[tr+2]=0,ut-=Nt,It-=wt,Xe-=De,kt-=We,Nt-=k.r,wt-=k.g,De-=k.b,We-=k.a,tr=Et+((tr=gr+p)<f?tr:f)*r<<2,ut+=St+=k.r=l[tr],It+=Mt+=k.g=l[tr+1],Xe+=at+=k.b=l[tr+2],kt+=et+=k.a=l[tr+3],k=k.next,Nt+=Vt=M.r,wt+=_t=M.g,De+=qt=M.b,We+=tn=M.a,St-=Vt,Mt-=_t,at-=qt,et-=tn,M=M.next,R+=r}}return t}var ste=function t(){bTt(this,t),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null};function TTt(){var{DOMParser:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:t,createCanvas(n,r){return new OffscreenCanvas(n,r)},createImage(n){return d0(function*(){var r=yield fetch(n),i=yield r.blob(),s=yield createImageBitmap(i);return s})()}};return(typeof DOMParser<"u"||typeof t>"u")&&Reflect.deleteProperty(e,"DOMParser"),e}function BTt(t){var{DOMParser:e,canvas:n,fetch:r}=t;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:e,fetch:r,createCanvas:n.createCanvas,createImage:n.loadImage}}var MTt=Object.freeze({__proto__:null,offscreen:TTt,node:BTt});function Jy(t){return t.replace(/(?!\u3000)\s+/gm," ")}function Rpe(t){return t.replace(/^[\n \t]+/,"")}function Ope(t){return t.replace(/[\n \t]+$/,"")}function Gh(t){var e=(t||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[];return e.map(parseFloat)}var ITt=/^[A-Z-]+$/;function Dpe(t){return ITt.test(t)?t.toLowerCase():t}function w$(t){var e=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(t)||[];return e[2]||e[3]||e[4]}function Npe(t){if(!t.startsWith("rgb"))return t;var e=3,n=t.replace(/\d+(\.\d+)?/g,(r,i)=>e--&&i?String(Math.round(parseFloat(r))):r);return n}var LTt=/(\[[^\]]+\])/g,kTt=/(#[^\s+>~.[:]+)/g,PTt=/(\.[^\s+>~.[:]+)/g,FTt=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,RTt=/(:[\w-]+\([^)]*\))/gi,OTt=/(:[^\s+>~.[:]+)/g,DTt=/([^\s+>~.[:]+)/g;function B_(t,e){var n=e.exec(t);return n?[t.replace(e," "),n.length]:[t,0]}function Upe(t){var e=[0,0,0],n=t.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),r=0;return[n,r]=B_(n,LTt),e[1]+=r,[n,r]=B_(n,kTt),e[0]+=r,[n,r]=B_(n,PTt),e[1]+=r,[n,r]=B_(n,FTt),e[2]+=r,[n,r]=B_(n,RTt),e[1]+=r,[n,r]=B_(n,OTt),e[1]+=r,n=n.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[n,r]=B_(n,DTt),e[2]+=r,e.join("")}var vy=1e-8;function bN(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))}function _B(t,e){return(t[0]*e[0]+t[1]*e[1])/(bN(t)*bN(e))}function wN(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(_B(t,e))}function xN(t){return t*t*t}function CN(t){return 3*t*t*(1-t)}function EN(t){return 3*t*(1-t)*(1-t)}function SN(t){return(1-t)*(1-t)*(1-t)}function TN(t){return t*t}function BN(t){return 2*t*(1-t)}function MN(t){return(1-t)*(1-t)}class ji{constructor(e,n,r){this.document=e,this.name=n,this.value=r,this.isNormalizedColor=!1}static empty(e){return new ji(e,"EMPTY","")}split(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:" ",{document:n,name:r}=this;return Jy(this.getString()).trim().split(e).map(i=>new ji(n,r,i))}hasValue(e){var{value:n}=this;return n!==null&&n!==""&&(e||n!==0)&&typeof n<"u"}isString(e){var{value:n}=this,r=typeof n=="string";return!r||!e?r:e.test(n)}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;var e=this.getString();switch(!0){case e.endsWith("px"):case/^[0-9]+$/.test(e):return!0;default:return!1}}setValue(e){return this.value=e,this}getValue(e){return typeof e>"u"||this.hasValue()?this.value:e}getNumber(e){if(!this.hasValue())return typeof e>"u"?0:parseFloat(e);var{value:n}=this,r=parseFloat(n);return this.isString(/%$/)&&(r/=100),r}getString(e){return typeof e>"u"||this.hasValue()?typeof this.value>"u"?"":String(this.value):String(e)}getColor(e){var n=this.getString(e);return this.isNormalizedColor||(this.isNormalizedColor=!0,n=Npe(n),this.value=n),n}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.hasValue())return 0;var[r,i]=typeof e=="boolean"?[void 0,e]:[e],{viewPort:s}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(s.computeSize("x"),s.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(s.computeSize("x"),s.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*s.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*s.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return this.getNumber()*15;case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case(this.isString(/%$/)&&i):return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*s.computeSize(r);default:{var l=this.getNumber();return n&&l<1?l*s.computeSize(r):l}}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():this.getNumber()*1e3:0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){var e=this.getString(),n=/#([^)'"]+)/.exec(e);return n&&(n=n[1]),n||(n=e),this.document.definitions[n]}getFillStyleDefinition(e,n){var r=this.getDefinition();if(!r)return null;if(typeof r.createGradient=="function")return r.createGradient(this.document.ctx,e,n);if(typeof r.createPattern=="function"){if(r.getHrefAttribute().hasValue()){var i=r.getAttribute("patternTransform");r=r.getHrefAttribute().getDefinition(),i.hasValue()&&r.getAttribute("patternTransform",!0).setValue(i.value)}return r.createPattern(this.document.ctx,e,n)}return null}getTextBaseline(){return this.hasValue()?ji.textBaselineMapping[this.getString()]:null}addOpacity(e){for(var n=this.getColor(),r=n.length,i=0,s=0;s<r&&(n[s]===","&&i++,i!==3);s++);if(e.hasValue()&&this.isString()&&i!==3){var l=new vN(n);l.ok&&(l.alpha=e.getNumber(),n=l.toRGBA())}return new ji(this.document,this.name,n)}}ji.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class zpe{constructor(){this.viewPorts=[]}clear(){this.viewPorts=[]}setCurrent(e,n){this.viewPorts.push({width:e,height:n})}removeCurrent(){this.viewPorts.pop()}getCurrent(){var{viewPorts:e}=this;return e[e.length-1]}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(e){return typeof e=="number"?e:e==="x"?this.width:e==="y"?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}}class pl{constructor(e,n){this.x=e,this.y=n}static parse(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,[r=n,i=n]=Gh(e);return new pl(r,i)}static parseScale(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,[r=n,i=r]=Gh(e);return new pl(r,i)}static parsePath(e){for(var n=Gh(e),r=n.length,i=[],s=0;s<r;s+=2)i.push(new pl(n[s],n[s+1]));return i}angleTo(e){return Math.atan2(e.y-this.y,e.x-this.x)}applyTransform(e){var{x:n,y:r}=this,i=n*e[0]+r*e[2]+e[4],s=n*e[1]+r*e[3]+e[5];this.x=i,this.y=s}}class $pe{constructor(e){this.screen=e,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}isWorking(){return this.working}start(){if(!this.working){var{screen:e,onClick:n,onMouseMove:r}=this,i=e.ctx.canvas;i.onclick=n,i.onmousemove=r,this.working=!0}}stop(){if(this.working){var e=this.screen.ctx.canvas;this.working=!1,e.onclick=null,e.onmousemove=null}}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(this.working){var{screen:e,events:n,eventElements:r}=this,{style:i}=e.ctx.canvas;i&&(i.cursor=""),n.forEach((s,l)=>{for(var{run:c}=s,a=r[l];a;)c(a),a=a.parent}),this.events=[],this.eventElements=[]}}checkPath(e,n){if(!(!this.working||!n)){var{events:r,eventElements:i}=this;r.forEach((s,l)=>{var{x:c,y:a}=s;!i[l]&&n.isPointInPath&&n.isPointInPath(c,a)&&(i[l]=e)})}}checkBoundingBox(e,n){if(!(!this.working||!n)){var{events:r,eventElements:i}=this;r.forEach((s,l)=>{var{x:c,y:a}=s;!i[l]&&n.isPointInBox(c,a)&&(i[l]=e)})}}mapXY(e,n){for(var{window:r,ctx:i}=this.screen,s=new pl(e,n),l=i.canvas;l;)s.x-=l.offsetLeft,s.y-=l.offsetTop,l=l.offsetParent;return r.scrollX&&(s.x+=r.scrollX),r.scrollY&&(s.y+=r.scrollY),s}onClick(e){var{x:n,y:r}=this.mapXY(e.clientX,e.clientY);this.events.push({type:"onclick",x:n,y:r,run(i){i.onClick&&i.onClick()}})}onMouseMove(e){var{x:n,y:r}=this.mapXY(e.clientX,e.clientY);this.events.push({type:"onmousemove",x:n,y:r,run(i){i.onMouseMove&&i.onMouseMove()}})}}var Vpe=typeof window<"u"?window:null,Hpe=typeof fetch<"u"?fetch.bind(void 0):null;class Z5{constructor(e){var{fetch:n=Hpe,window:r=Vpe}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.ctx=e,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new zpe,this.mouse=new $pe(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=r,this.fetch=n}wait(e){this.waits.push(e)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;var e=this.waits.every(n=>n());return e&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=e,e}setDefaults(e){e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4}setViewBox(e){var{document:n,ctx:r,aspectRatio:i,width:s,desiredWidth:l,height:c,desiredHeight:a,minX:f=0,minY:p=0,refX:m,refY:v,clip:y=!1,clipX:T=0,clipY:C=0}=e,k=Jy(i).replace(/^defer\s/,""),[M,P]=k.split(" "),R=M||"xMidYMid",N=P||"meet",z=s/l,H=c/a,j=Math.min(z,H),Q=Math.max(z,H),G=l,ie=a;N==="meet"&&(G*=j,ie*=j),N==="slice"&&(G*=Q,ie*=Q);var q=new ji(n,"refX",m),W=new ji(n,"refY",v),ee=q.hasValue()&&W.hasValue();if(ee&&r.translate(-j*q.getPixels("x"),-j*W.getPixels("y")),y){var he=j*T,J=j*C;r.beginPath(),r.moveTo(he,J),r.lineTo(s,J),r.lineTo(s,c),r.lineTo(he,c),r.closePath(),r.clip()}if(!ee){var te=N==="meet"&&j===H,ne=N==="slice"&&Q===H,ce=N==="meet"&&j===z,ue=N==="slice"&&Q===z;R.startsWith("xMid")&&(te||ne)&&r.translate(s/2-G/2,0),R.endsWith("YMid")&&(ce||ue)&&r.translate(0,c/2-ie/2),R.startsWith("xMax")&&(te||ne)&&r.translate(s-G,0),R.endsWith("YMax")&&(ce||ue)&&r.translate(0,c-ie)}switch(!0){case R==="none":r.scale(z,H);break;case N==="meet":r.scale(j,j);break;case N==="slice":r.scale(Q,Q);break}r.translate(-f,-p)}start(e){var{enableRedraw:n=!1,ignoreMouse:r=!1,ignoreAnimation:i=!1,ignoreDimensions:s=!1,ignoreClear:l=!1,forceRedraw:c,scaleWidth:a,scaleHeight:f,offsetX:p,offsetY:m}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{FRAMERATE:v,mouse:y}=this,T=1e3/v;if(this.frameDuration=T,this.readyPromise=new Promise(R=>{this.resolveReady=R}),this.isReady()&&this.render(e,s,l,a,f,p,m),!!n){var C=Date.now(),k=C,M=0,P=()=>{C=Date.now(),M=C-k,M>=T&&(k=C-M%T,this.shouldUpdate(i,c)&&(this.render(e,s,l,a,f,p,m),y.runEvents())),this.intervalId=KF(P)};r||y.start(),this.intervalId=KF(P)}}stop(){this.intervalId&&(KF.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(e,n){if(!e){var{frameDuration:r}=this,i=this.animations.reduce((s,l)=>l.update(r)||s,!1);if(i)return!0}return!!(typeof n=="function"&&n()||!this.isReadyLock&&this.isReady()||this.mouse.hasEvents())}render(e,n,r,i,s,l,c){var{CLIENT_WIDTH:a,CLIENT_HEIGHT:f,viewPort:p,ctx:m,isFirstRender:v}=this,y=m.canvas;p.clear(),y.width&&y.height?p.setCurrent(y.width,y.height):p.setCurrent(a,f);var T=e.getStyle("width"),C=e.getStyle("height");!n&&(v||typeof i!="number"&&typeof s!="number")&&(T.hasValue()&&(y.width=T.getPixels("x"),y.style&&(y.style.width="".concat(y.width,"px"))),C.hasValue()&&(y.height=C.getPixels("y"),y.style&&(y.style.height="".concat(y.height,"px"))));var k=y.clientWidth||y.width,M=y.clientHeight||y.height;if(n&&T.hasValue()&&C.hasValue()&&(k=T.getPixels("x"),M=C.getPixels("y")),p.setCurrent(k,M),typeof l=="number"&&e.getAttribute("x",!0).setValue(l),typeof c=="number"&&e.getAttribute("y",!0).setValue(c),typeof i=="number"||typeof s=="number"){var P=Gh(e.getAttribute("viewBox").getString()),R=0,N=0;if(typeof i=="number"){var z=e.getStyle("width");z.hasValue()?R=z.getPixels("x")/i:isNaN(P[2])||(R=P[2]/i)}if(typeof s=="number"){var H=e.getStyle("height");H.hasValue()?N=H.getPixels("y")/s:isNaN(P[3])||(N=P[3]/s)}R||(R=N),N||(N=R),e.getAttribute("width",!0).setValue(i),e.getAttribute("height",!0).setValue(s);var j=e.getStyle("transform",!0,!0);j.setValue("".concat(j.getString()," scale(").concat(1/R,", ").concat(1/N,")"))}r||m.clearRect(0,0,k,M),e.render(m),v&&(this.isFirstRender=!1)}}Z5.defaultWindow=Vpe;Z5.defaultFetch=Hpe;var{defaultFetch:NTt}=Z5,UTt=typeof DOMParser<"u"?DOMParser:null;class qT{constructor(){var{fetch:e=NTt,DOMParser:n=UTt}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fetch=e,this.DOMParser=n}parse(e){var n=this;return d0(function*(){return e.startsWith("<")?n.parseFromString(e):n.load(e)})()}parseFromString(e){var n=new this.DOMParser;try{return this.checkDocument(n.parseFromString(e,"image/svg+xml"))}catch{return this.checkDocument(n.parseFromString(e,"text/xml"))}}checkDocument(e){var n=e.getElementsByTagName("parsererror")[0];if(n)throw new Error(n.textContent);return e}load(e){var n=this;return d0(function*(){var r=yield n.fetch(e),i=yield r.text();return n.parseFromString(i)})()}}class Qpe{constructor(e,n){this.type="translate",this.point=null,this.point=pl.parse(n)}apply(e){var{x:n,y:r}=this.point;e.translate(n||0,r||0)}unapply(e){var{x:n,y:r}=this.point;e.translate(-1*n||0,-1*r||0)}applyToPoint(e){var{x:n,y:r}=this.point;e.applyTransform([1,0,0,1,n||0,r||0])}}class jpe{constructor(e,n,r){this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var i=Gh(n);this.angle=new ji(e,"angle",i[0]),this.originX=r[0],this.originY=r[1],this.cx=i[1]||0,this.cy=i[2]||0}apply(e){var{cx:n,cy:r,originX:i,originY:s,angle:l}=this,c=n+i.getPixels("x"),a=r+s.getPixels("y");e.translate(c,a),e.rotate(l.getRadians()),e.translate(-c,-a)}unapply(e){var{cx:n,cy:r,originX:i,originY:s,angle:l}=this,c=n+i.getPixels("x"),a=r+s.getPixels("y");e.translate(c,a),e.rotate(-1*l.getRadians()),e.translate(-c,-a)}applyToPoint(e){var{cx:n,cy:r,angle:i}=this,s=i.getRadians();e.applyTransform([1,0,0,1,n||0,r||0]),e.applyTransform([Math.cos(s),Math.sin(s),-Math.sin(s),Math.cos(s),0,0]),e.applyTransform([1,0,0,1,-n||0,-r||0])}}class Gpe{constructor(e,n,r){this.type="scale",this.scale=null,this.originX=null,this.originY=null;var i=pl.parseScale(n);(i.x===0||i.y===0)&&(i.x=vy,i.y=vy),this.scale=i,this.originX=r[0],this.originY=r[1]}apply(e){var{scale:{x:n,y:r},originX:i,originY:s}=this,l=i.getPixels("x"),c=s.getPixels("y");e.translate(l,c),e.scale(n,r||n),e.translate(-l,-c)}unapply(e){var{scale:{x:n,y:r},originX:i,originY:s}=this,l=i.getPixels("x"),c=s.getPixels("y");e.translate(l,c),e.scale(1/n,1/r||n),e.translate(-l,-c)}applyToPoint(e){var{x:n,y:r}=this.scale;e.applyTransform([n||0,0,0,r||0,0,0])}}class x${constructor(e,n,r){this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=Gh(n),this.originX=r[0],this.originY=r[1]}apply(e){var{originX:n,originY:r,matrix:i}=this,s=n.getPixels("x"),l=r.getPixels("y");e.translate(s,l),e.transform(i[0],i[1],i[2],i[3],i[4],i[5]),e.translate(-s,-l)}unapply(e){var{originX:n,originY:r,matrix:i}=this,s=i[0],l=i[2],c=i[4],a=i[1],f=i[3],p=i[5],m=0,v=0,y=1,T=1/(s*(f*y-p*v)-l*(a*y-p*m)+c*(a*v-f*m)),C=n.getPixels("x"),k=r.getPixels("y");e.translate(C,k),e.transform(T*(f*y-p*v),T*(p*m-a*y),T*(c*v-l*y),T*(s*y-c*m),T*(l*p-c*f),T*(c*a-s*p)),e.translate(-C,-k)}applyToPoint(e){e.applyTransform(this.matrix)}}class C$ extends x${constructor(e,n,r){super(e,n,r),this.type="skew",this.angle=null,this.angle=new ji(e,"angle",n)}}class Kpe extends C${constructor(e,n,r){super(e,n,r),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class Wpe extends C${constructor(e,n,r){super(e,n,r),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}function zTt(t){return Jy(t).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function $Tt(t){var[e,n]=t.split("(");return[e.trim(),n.trim().replace(")","")]}class S1{constructor(e,n,r){this.document=e,this.transforms=[];var i=zTt(n);i.forEach(s=>{if(s!=="none"){var[l,c]=$Tt(s),a=S1.transformTypes[l];typeof a<"u"&&this.transforms.push(new a(this.document,c,r))}})}static fromElement(e,n){var r=n.getStyle("transform",!1,!0),[i,s=i]=n.getStyle("transform-origin",!1,!0).split(),l=[i,s];return r.hasValue()?new S1(e,r.getString(),l):null}apply(e){for(var{transforms:n}=this,r=n.length,i=0;i<r;i++)n[i].apply(e)}unapply(e){for(var{transforms:n}=this,r=n.length,i=r-1;i>=0;i--)n[i].unapply(e)}applyToPoint(e){for(var{transforms:n}=this,r=n.length,i=0;i<r;i++)n[i].applyToPoint(e)}}S1.transformTypes={translate:Qpe,rotate:jpe,scale:Gpe,matrix:x$,skewX:Kpe,skewY:Wpe};let tl=class IN{constructor(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.document=e,this.node=n,this.captureTextNodes=r,this.attributes={},this.styles={},this.stylesSpecificity={},this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!(!n||n.nodeType!==1)){if(Array.from(n.attributes).forEach(c=>{var a=Dpe(c.nodeName);this.attributes[a]=new ji(e,a,c.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()){var i=this.getAttribute("style").getString().split(";").map(c=>c.trim());i.forEach(c=>{if(c){var[a,f]=c.split(":").map(p=>p.trim());this.styles[a]=new ji(e,a,f)}})}var{definitions:s}=e,l=this.getAttribute("id");l.hasValue()&&(s[l.getString()]||(s[l.getString()]=this)),Array.from(n.childNodes).forEach(c=>{if(c.nodeType===1)this.addChild(c);else if(r&&(c.nodeType===3||c.nodeType===4)){var a=e.createTextNode(c);a.getText().length>0&&this.addChild(a)}})}}getAttribute(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=this.attributes[e];if(!r&&n){var i=new ji(this.document,e,"");return this.attributes[e]=i,i}return r||ji.empty(this.document)}getHrefAttribute(){for(var e in this.attributes)if(e==="href"||e.endsWith(":href"))return this.attributes[e];return ji.empty(this.document)}getStyle(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=this.styles[e];if(i)return i;var s=this.getAttribute(e);if(s!=null&&s.hasValue())return this.styles[e]=s,s;if(!r){var{parent:l}=this;if(l){var c=l.getStyle(e);if(c!=null&&c.hasValue())return c}}if(n){var a=new ji(this.document,e,"");return this.styles[e]=a,a}return i||ji.empty(this.document)}render(e){if(!(this.getStyle("display").getString()==="none"||this.getStyle("visibility").getString()==="hidden")){if(e.save(),this.getStyle("mask").hasValue()){var n=this.getStyle("mask").getDefinition();n&&(this.applyEffects(e),n.apply(e,this))}else if(this.getStyle("filter").getValue("none")!=="none"){var r=this.getStyle("filter").getDefinition();r&&(this.applyEffects(e),r.apply(e,this))}else this.setContext(e),this.renderChildren(e),this.clearContext(e);e.restore()}}setContext(e){}applyEffects(e){var n=S1.fromElement(this.document,this);n&&n.apply(e);var r=this.getStyle("clip-path",!1,!0);if(r.hasValue()){var i=r.getDefinition();i&&i.apply(e)}}clearContext(e){}renderChildren(e){this.children.forEach(n=>{n.render(e)})}addChild(e){var n=e instanceof IN?e:this.document.createElement(e);n.parent=this,IN.ignoreChildTypes.includes(n.type)||this.children.push(n)}matchesSelector(e){var n,{node:r}=this;if(typeof r.matches=="function")return r.matches(e);var i=(n=r.getAttribute)===null||n===void 0?void 0:n.call(r,"class");return!i||i===""?!1:i.split(" ").some(s=>".".concat(s)===e)}addStylesFromStyleDefinition(){var{styles:e,stylesSpecificity:n}=this.document;for(var r in e)if(!r.startsWith("@")&&this.matchesSelector(r)){var i=e[r],s=n[r];if(i)for(var l in i){var c=this.stylesSpecificity[l];typeof c>"u"&&(c="000"),s>=c&&(this.styles[l]=i[l],this.stylesSpecificity[l]=s)}}}removeStyles(e,n){var r=n.reduce((i,s)=>{var l=e.getStyle(s);if(!l.hasValue())return i;var c=l.getString();return l.setValue(""),[...i,[s,c]]},[]);return r}restoreStyles(e,n){n.forEach(r=>{var[i,s]=r;e.getStyle(i,!0).setValue(s)})}isFirstChild(){var e;return((e=this.parent)===null||e===void 0?void 0:e.children.indexOf(this))===0}};tl.ignoreChildTypes=["title"];class qpe extends tl{constructor(e,n,r){super(e,n,r)}}function VTt(t){var e=t.trim();return/^('|")/.test(e)?e:'"'.concat(e,'"')}function HTt(t){return typeof process>"u"?t:t.trim().split(",").map(VTt).join(",")}function QTt(t){if(!t)return"";var e=t.trim().toLowerCase();switch(e){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return e;default:return/^oblique\s+(-|)\d+deg$/.test(e)?e:""}}function jTt(t){if(!t)return"";var e=t.trim().toLowerCase();switch(e){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return e;default:return/^[\d.]+$/.test(e)?e:""}}class Oc{constructor(e,n,r,i,s,l){var c=l?typeof l=="string"?Oc.parse(l):l:{};this.fontFamily=s||c.fontFamily,this.fontSize=i||c.fontSize,this.fontStyle=e||c.fontStyle,this.fontWeight=r||c.fontWeight,this.fontVariant=n||c.fontVariant}static parse(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r="",i="",s="",l="",c="",a=Jy(e).trim().split(" "),f={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return a.forEach(p=>{switch(!0){case(!f.fontStyle&&Oc.styles.includes(p)):p!=="inherit"&&(r=p),f.fontStyle=!0;break;case(!f.fontVariant&&Oc.variants.includes(p)):p!=="inherit"&&(i=p),f.fontStyle=!0,f.fontVariant=!0;break;case(!f.fontWeight&&Oc.weights.includes(p)):p!=="inherit"&&(s=p),f.fontStyle=!0,f.fontVariant=!0,f.fontWeight=!0;break;case!f.fontSize:p!=="inherit"&&([l]=p.split("/")),f.fontStyle=!0,f.fontVariant=!0,f.fontWeight=!0,f.fontSize=!0;break;default:p!=="inherit"&&(c+=p)}}),new Oc(r,i,s,l,c,n)}toString(){return[QTt(this.fontStyle),this.fontVariant,jTt(this.fontWeight),this.fontSize,HTt(this.fontFamily)].join(" ").trim()}}Oc.styles="normal|italic|oblique|inherit";Oc.variants="normal|small-caps|inherit";Oc.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class Gf{constructor(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Number.NaN,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.NaN,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Number.NaN,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Number.NaN;this.x1=e,this.y1=n,this.x2=r,this.y2=i,this.addPoint(e,n),this.addPoint(r,i)}get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(e,n){typeof e<"u"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),typeof n<"u"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=n,this.y2=n),n<this.y1&&(this.y1=n),n>this.y2&&(this.y2=n))}addX(e){this.addPoint(e,null)}addY(e){this.addPoint(null,e)}addBoundingBox(e){if(e){var{x1:n,y1:r,x2:i,y2:s}=e;this.addPoint(n,r),this.addPoint(i,s)}}sumCubic(e,n,r,i,s){return Math.pow(1-e,3)*n+3*Math.pow(1-e,2)*e*r+3*(1-e)*Math.pow(e,2)*i+Math.pow(e,3)*s}bezierCurveAdd(e,n,r,i,s){var l=6*n-12*r+6*i,c=-3*n+9*r-9*i+3*s,a=3*r-3*n;if(c===0){if(l===0)return;var f=-a/l;0<f&&f<1&&(e?this.addX(this.sumCubic(f,n,r,i,s)):this.addY(this.sumCubic(f,n,r,i,s)));return}var p=Math.pow(l,2)-4*a*c;if(!(p<0)){var m=(-l+Math.sqrt(p))/(2*c);0<m&&m<1&&(e?this.addX(this.sumCubic(m,n,r,i,s)):this.addY(this.sumCubic(m,n,r,i,s)));var v=(-l-Math.sqrt(p))/(2*c);0<v&&v<1&&(e?this.addX(this.sumCubic(v,n,r,i,s)):this.addY(this.sumCubic(v,n,r,i,s)))}}addBezierCurve(e,n,r,i,s,l,c,a){this.addPoint(e,n),this.addPoint(c,a),this.bezierCurveAdd(!0,e,r,s,c),this.bezierCurveAdd(!1,n,i,l,a)}addQuadraticCurve(e,n,r,i,s,l){var c=e+.6666666666666666*(r-e),a=n+2/3*(i-n),f=c+1/3*(s-e),p=a+1/3*(l-n);this.addBezierCurve(e,n,c,f,a,p,s,l)}isPointInBox(e,n){var{x1:r,y1:i,x2:s,y2:l}=this;return r<=e&&e<=s&&i<=n&&n<=l}}class Pa extends br{constructor(e){super(e.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=null,this.start=null,this.current=null,this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new pl(0,0),this.control=new pl(0,0),this.current=new pl(0,0),this.points=[],this.angles=[]}isEnd(){var{i:e,commands:n}=this;return e>=n.length-1}next(){var e=this.commands[++this.i];return this.previousCommand=this.command,this.command=e,e}getPoint(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"x",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"y",r=new pl(this.command[e],this.command[n]);return this.makeAbsolute(r)}getAsControlPoint(e,n){var r=this.getPoint(e,n);return this.control=r,r}getAsCurrentPoint(e,n){var r=this.getPoint(e,n);return this.current=r,r}getReflectedControlPoint(){var e=this.previousCommand.type;if(e!==br.CURVE_TO&&e!==br.SMOOTH_CURVE_TO&&e!==br.QUAD_TO&&e!==br.SMOOTH_QUAD_TO)return this.current;var{current:{x:n,y:r},control:{x:i,y:s}}=this,l=new pl(2*n-i,2*r-s);return l}makeAbsolute(e){if(this.command.relative){var{x:n,y:r}=this.current;e.x+=n,e.y+=r}return e}addMarker(e,n,r){var{points:i,angles:s}=this;r&&s.length>0&&!s[s.length-1]&&(s[s.length-1]=i[i.length-1].angleTo(r)),this.addMarkerAngle(e,n?n.angleTo(e):null)}addMarkerAngle(e,n){this.points.push(e),this.angles.push(n)}getMarkerPoints(){return this.points}getMarkerAngles(){for(var{angles:e}=this,n=e.length,r=0;r<n;r++)if(!e[r]){for(var i=r+1;i<n;i++)if(e[i]){e[r]=e[i];break}}return e}}class N1 extends tl{constructor(){super(...arguments),this.modifiedEmSizeStack=!1}calculateOpacity(){for(var e=1,n=this;n;){var r=n.getStyle("opacity",!1,!0);r.hasValue(!0)&&(e*=r.getNumber()),n=n.parent}return e}setContext(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!n){var r=this.getStyle("fill"),i=this.getStyle("fill-opacity"),s=this.getStyle("stroke"),l=this.getStyle("stroke-opacity");if(r.isUrlDefinition()){var c=r.getFillStyleDefinition(this,i);c&&(e.fillStyle=c)}else if(r.hasValue()){r.getString()==="currentColor"&&r.setValue(this.getStyle("color").getColor());var a=r.getColor();a!=="inherit"&&(e.fillStyle=a==="none"?"rgba(0,0,0,0)":a)}if(i.hasValue()){var f=new ji(this.document,"fill",e.fillStyle).addOpacity(i).getColor();e.fillStyle=f}if(s.isUrlDefinition()){var p=s.getFillStyleDefinition(this,l);p&&(e.strokeStyle=p)}else if(s.hasValue()){s.getString()==="currentColor"&&s.setValue(this.getStyle("color").getColor());var m=s.getString();m!=="inherit"&&(e.strokeStyle=m==="none"?"rgba(0,0,0,0)":m)}if(l.hasValue()){var v=new ji(this.document,"stroke",e.strokeStyle).addOpacity(l).getString();e.strokeStyle=v}var y=this.getStyle("stroke-width");if(y.hasValue()){var T=y.getPixels();e.lineWidth=T||vy}var C=this.getStyle("stroke-linecap"),k=this.getStyle("stroke-linejoin"),M=this.getStyle("stroke-miterlimit"),P=this.getStyle("stroke-dasharray"),R=this.getStyle("stroke-dashoffset");if(C.hasValue()&&(e.lineCap=C.getString()),k.hasValue()&&(e.lineJoin=k.getString()),M.hasValue()&&(e.miterLimit=M.getNumber()),P.hasValue()&&P.getString()!=="none"){var N=Gh(P.getString());typeof e.setLineDash<"u"?e.setLineDash(N):typeof e.webkitLineDash<"u"?e.webkitLineDash=N:typeof e.mozDash<"u"&&!(N.length===1&&N[0]===0)&&(e.mozDash=N);var z=R.getPixels();typeof e.lineDashOffset<"u"?e.lineDashOffset=z:typeof e.webkitLineDashOffset<"u"?e.webkitLineDashOffset=z:typeof e.mozDashOffset<"u"&&(e.mozDashOffset=z)}}if(this.modifiedEmSizeStack=!1,typeof e.font<"u"){var H=this.getStyle("font"),j=this.getStyle("font-style"),Q=this.getStyle("font-variant"),G=this.getStyle("font-weight"),ie=this.getStyle("font-size"),q=this.getStyle("font-family"),W=new Oc(j.getString(),Q.getString(),G.getString(),ie.hasValue()?"".concat(ie.getPixels(!0),"px"):"",q.getString(),Oc.parse(H.getString(),e.font));j.setValue(W.fontStyle),Q.setValue(W.fontVariant),G.setValue(W.fontWeight),ie.setValue(W.fontSize),q.setValue(W.fontFamily),e.font=W.toString(),ie.isPixels()&&(this.document.emSize=ie.getPixels(),this.modifiedEmSizeStack=!0)}n||(this.applyEffects(e),e.globalAlpha=this.calculateOpacity())}clearContext(e){super.clearContext(e),this.modifiedEmSizeStack&&this.document.popEmSize()}}class Us extends N1{constructor(e,n,r){super(e,n,r),this.type="path",this.pathParser=null,this.pathParser=new Pa(this.getAttribute("d").getString())}path(e){var{pathParser:n}=this,r=new Gf;for(n.reset(),e&&e.beginPath();!n.isEnd();)switch(n.next().type){case Pa.MOVE_TO:this.pathM(e,r);break;case Pa.LINE_TO:this.pathL(e,r);break;case Pa.HORIZ_LINE_TO:this.pathH(e,r);break;case Pa.VERT_LINE_TO:this.pathV(e,r);break;case Pa.CURVE_TO:this.pathC(e,r);break;case Pa.SMOOTH_CURVE_TO:this.pathS(e,r);break;case Pa.QUAD_TO:this.pathQ(e,r);break;case Pa.SMOOTH_QUAD_TO:this.pathT(e,r);break;case Pa.ARC:this.pathA(e,r);break;case Pa.CLOSE_PATH:this.pathZ(e,r);break}return r}getBoundingBox(e){return this.path()}getMarkers(){var{pathParser:e}=this,n=e.getMarkerPoints(),r=e.getMarkerAngles(),i=n.map((s,l)=>[s,r[l]]);return i}renderChildren(e){this.path(e),this.document.screen.mouse.checkPath(this,e);var n=this.getStyle("fill-rule");e.fillStyle!==""&&(n.getString("inherit")!=="inherit"?e.fill(n.getString()):e.fill()),e.strokeStyle!==""&&(this.getAttribute("vector-effect").getString()==="non-scaling-stroke"?(e.save(),e.setTransform(1,0,0,1,0,0),e.stroke(),e.restore()):e.stroke());var r=this.getMarkers();if(r){var i=r.length-1,s=this.getStyle("marker-start"),l=this.getStyle("marker-mid"),c=this.getStyle("marker-end");if(s.isUrlDefinition()){var a=s.getDefinition(),[f,p]=r[0];a.render(e,f,p)}if(l.isUrlDefinition())for(var m=l.getDefinition(),v=1;v<i;v++){var[y,T]=r[v];m.render(e,y,T)}if(c.isUrlDefinition()){var C=c.getDefinition(),[k,M]=r[i];C.render(e,k,M)}}}static pathM(e){var n=e.getAsCurrentPoint();return e.start=e.current,{point:n}}pathM(e,n){var{pathParser:r}=this,{point:i}=Us.pathM(r),{x:s,y:l}=i;r.addMarker(i),n.addPoint(s,l),e&&e.moveTo(s,l)}static pathL(e){var{current:n}=e,r=e.getAsCurrentPoint();return{current:n,point:r}}pathL(e,n){var{pathParser:r}=this,{current:i,point:s}=Us.pathL(r),{x:l,y:c}=s;r.addMarker(s,i),n.addPoint(l,c),e&&e.lineTo(l,c)}static pathH(e){var{current:n,command:r}=e,i=new pl((r.relative?n.x:0)+r.x,n.y);return e.current=i,{current:n,point:i}}pathH(e,n){var{pathParser:r}=this,{current:i,point:s}=Us.pathH(r),{x:l,y:c}=s;r.addMarker(s,i),n.addPoint(l,c),e&&e.lineTo(l,c)}static pathV(e){var{current:n,command:r}=e,i=new pl(n.x,(r.relative?n.y:0)+r.y);return e.current=i,{current:n,point:i}}pathV(e,n){var{pathParser:r}=this,{current:i,point:s}=Us.pathV(r),{x:l,y:c}=s;r.addMarker(s,i),n.addPoint(l,c),e&&e.lineTo(l,c)}static pathC(e){var{current:n}=e,r=e.getPoint("x1","y1"),i=e.getAsControlPoint("x2","y2"),s=e.getAsCurrentPoint();return{current:n,point:r,controlPoint:i,currentPoint:s}}pathC(e,n){var{pathParser:r}=this,{current:i,point:s,controlPoint:l,currentPoint:c}=Us.pathC(r);r.addMarker(c,l,s),n.addBezierCurve(i.x,i.y,s.x,s.y,l.x,l.y,c.x,c.y),e&&e.bezierCurveTo(s.x,s.y,l.x,l.y,c.x,c.y)}static pathS(e){var{current:n}=e,r=e.getReflectedControlPoint(),i=e.getAsControlPoint("x2","y2"),s=e.getAsCurrentPoint();return{current:n,point:r,controlPoint:i,currentPoint:s}}pathS(e,n){var{pathParser:r}=this,{current:i,point:s,controlPoint:l,currentPoint:c}=Us.pathS(r);r.addMarker(c,l,s),n.addBezierCurve(i.x,i.y,s.x,s.y,l.x,l.y,c.x,c.y),e&&e.bezierCurveTo(s.x,s.y,l.x,l.y,c.x,c.y)}static pathQ(e){var{current:n}=e,r=e.getAsControlPoint("x1","y1"),i=e.getAsCurrentPoint();return{current:n,controlPoint:r,currentPoint:i}}pathQ(e,n){var{pathParser:r}=this,{current:i,controlPoint:s,currentPoint:l}=Us.pathQ(r);r.addMarker(l,s,s),n.addQuadraticCurve(i.x,i.y,s.x,s.y,l.x,l.y),e&&e.quadraticCurveTo(s.x,s.y,l.x,l.y)}static pathT(e){var{current:n}=e,r=e.getReflectedControlPoint();e.control=r;var i=e.getAsCurrentPoint();return{current:n,controlPoint:r,currentPoint:i}}pathT(e,n){var{pathParser:r}=this,{current:i,controlPoint:s,currentPoint:l}=Us.pathT(r);r.addMarker(l,s,s),n.addQuadraticCurve(i.x,i.y,s.x,s.y,l.x,l.y),e&&e.quadraticCurveTo(s.x,s.y,l.x,l.y)}static pathA(e){var{current:n,command:r}=e,{rX:i,rY:s,xRot:l,lArcFlag:c,sweepFlag:a}=r,f=l*(Math.PI/180),p=e.getAsCurrentPoint(),m=new pl(Math.cos(f)*(n.x-p.x)/2+Math.sin(f)*(n.y-p.y)/2,-Math.sin(f)*(n.x-p.x)/2+Math.cos(f)*(n.y-p.y)/2),v=Math.pow(m.x,2)/Math.pow(i,2)+Math.pow(m.y,2)/Math.pow(s,2);v>1&&(i*=Math.sqrt(v),s*=Math.sqrt(v));var y=(c===a?-1:1)*Math.sqrt((Math.pow(i,2)*Math.pow(s,2)-Math.pow(i,2)*Math.pow(m.y,2)-Math.pow(s,2)*Math.pow(m.x,2))/(Math.pow(i,2)*Math.pow(m.y,2)+Math.pow(s,2)*Math.pow(m.x,2)));isNaN(y)&&(y=0);var T=new pl(y*i*m.y/s,y*-s*m.x/i),C=new pl((n.x+p.x)/2+Math.cos(f)*T.x-Math.sin(f)*T.y,(n.y+p.y)/2+Math.sin(f)*T.x+Math.cos(f)*T.y),k=wN([1,0],[(m.x-T.x)/i,(m.y-T.y)/s]),M=[(m.x-T.x)/i,(m.y-T.y)/s],P=[(-m.x-T.x)/i,(-m.y-T.y)/s],R=wN(M,P);return _B(M,P)<=-1&&(R=Math.PI),_B(M,P)>=1&&(R=0),{currentPoint:p,rX:i,rY:s,sweepFlag:a,xAxisRotation:f,centp:C,a1:k,ad:R}}pathA(e,n){var{pathParser:r}=this,{currentPoint:i,rX:s,rY:l,sweepFlag:c,xAxisRotation:a,centp:f,a1:p,ad:m}=Us.pathA(r),v=1-c?1:-1,y=p+v*(m/2),T=new pl(f.x+s*Math.cos(y),f.y+l*Math.sin(y));if(r.addMarkerAngle(T,y-v*Math.PI/2),r.addMarkerAngle(i,y-v*Math.PI),n.addPoint(i.x,i.y),e&&!isNaN(p)&&!isNaN(m)){var C=s>l?s:l,k=s>l?1:s/l,M=s>l?l/s:1;e.translate(f.x,f.y),e.rotate(a),e.scale(k,M),e.arc(0,0,C,p,p+m,!!(1-c)),e.scale(1/k,1/M),e.rotate(-a),e.translate(-f.x,-f.y)}}static pathZ(e){e.current=e.start}pathZ(e,n){Us.pathZ(this.pathParser),e&&n.x1!==n.x2&&n.y1!==n.y2&&e.closePath()}}class E$ extends Us{constructor(e,n,r){super(e,n,r),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class f0 extends N1{constructor(e,n,r){super(e,n,new.target===f0?!0:r),this.type="text",this.x=0,this.y=0,this.measureCache=-1}setContext(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.setContext(e,n);var r=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();r&&(e.textBaseline=r)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(e){if(this.type!=="text")return this.getTElementBoundingBox(e);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(e);var n=null;return this.children.forEach((r,i)=>{var s=this.getChildBoundingBox(e,this,this,i);n?n.addBoundingBox(s):n=s}),n}getFontSize(){var{document:e,parent:n}=this,r=Oc.parse(e.ctx.font).fontSize,i=n.getStyle("font-size").getNumber(r);return i}getTElementBoundingBox(e){var n=this.getFontSize();return new Gf(this.x,this.y-n,this.x+this.measureText(e),this.y)}getGlyph(e,n,r){var i=n[r],s=null;if(e.isArabic){var l=n.length,c=n[r-1],a=n[r+1],f="isolated";if((r===0||c===" ")&&r<l-1&&a!==" "&&(f="terminal"),r>0&&c!==" "&&r<l-1&&a!==" "&&(f="medial"),r>0&&c!==" "&&(r===l-1||a===" ")&&(f="initial"),typeof e.glyphs[i]<"u"){var p=e.glyphs[i];s=p instanceof E$?p:p[f]}}else s=e.glyphs[i];return s||(s=e.missingGlyph),s}getText(){return""}getTextFromNode(e){var n=e||this.node,r=Array.from(n.parentNode.childNodes),i=r.indexOf(n),s=r.length-1,l=Jy(n.textContent||"");return i===0&&(l=Rpe(l)),i===s&&(l=Ope(l)),l}renderChildren(e){if(this.type!=="text"){this.renderTElementChildren(e);return}this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(e),this.children.forEach((r,i)=>{this.renderChild(e,this,this,i)});var{mouse:n}=this.document.screen;n.isWorking()&&n.checkBoundingBox(this,this.getBoundingBox(e))}renderTElementChildren(e){var{document:n,parent:r}=this,i=this.getText(),s=r.getStyle("font-family").getDefinition();if(s){for(var{unitsPerEm:l}=s.fontFace,c=Oc.parse(n.ctx.font),a=r.getStyle("font-size").getNumber(c.fontSize),f=r.getStyle("font-style").getString(c.fontStyle),p=a/l,m=s.isRTL?i.split("").reverse().join(""):i,v=Gh(r.getAttribute("dx").getString()),y=m.length,T=0;T<y;T++){var C=this.getGlyph(s,m,T);e.translate(this.x,this.y),e.scale(p,-p);var k=e.lineWidth;e.lineWidth=e.lineWidth*l/a,f==="italic"&&e.transform(1,0,.4,1,0,0),C.render(e),f==="italic"&&e.transform(1,0,-.4,1,0,0),e.lineWidth=k,e.scale(1/p,-1/p),e.translate(-this.x,-this.y),this.x+=a*(C.horizAdvX||s.horizAdvX)/l,typeof v[T]<"u"&&!isNaN(v[T])&&(this.x+=v[T])}return}var{x:M,y:P}=this;e.fillStyle&&e.fillText(i,M,P),e.strokeStyle&&e.strokeText(i,M,P)}applyAnchoring(){if(!(this.textChunkStart>=this.leafTexts.length)){var e=this.leafTexts[this.textChunkStart],n=e.getStyle("text-anchor").getString("start"),r=!1,i=0;n==="start"&&!r||n==="end"&&r?i=e.x-this.minX:n==="end"&&!r||n==="start"&&r?i=e.x-this.maxX:i=e.x-(this.minX+this.maxX)/2;for(var s=this.textChunkStart;s<this.leafTexts.length;s++)this.leafTexts[s].x+=i;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}adjustChildCoordinatesRecursive(e){this.children.forEach((n,r)=>{this.adjustChildCoordinatesRecursiveCore(e,this,this,r)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(e,n,r,i){var s=r.children[i];s.children.length>0?s.children.forEach((l,c)=>{n.adjustChildCoordinatesRecursiveCore(e,n,s,c)}):this.adjustChildCoordinates(e,n,r,i)}adjustChildCoordinates(e,n,r,i){var s=r.children[i];if(typeof s.measureText!="function")return s;e.save(),s.setContext(e,!0);var l=s.getAttribute("x"),c=s.getAttribute("y"),a=s.getAttribute("dx"),f=s.getAttribute("dy"),p=s.getStyle("font-family").getDefinition(),m=!!p&&p.isRTL;i===0&&(l.hasValue()||l.setValue(s.getInheritedAttribute("x")),c.hasValue()||c.setValue(s.getInheritedAttribute("y")),a.hasValue()||a.setValue(s.getInheritedAttribute("dx")),f.hasValue()||f.setValue(s.getInheritedAttribute("dy")));var v=s.measureText(e);return m&&(n.x-=v),l.hasValue()?(n.applyAnchoring(),s.x=l.getPixels("x"),a.hasValue()&&(s.x+=a.getPixels("x"))):(a.hasValue()&&(n.x+=a.getPixels("x")),s.x=n.x),n.x=s.x,m||(n.x+=v),c.hasValue()?(s.y=c.getPixels("y"),f.hasValue()&&(s.y+=f.getPixels("y"))):(f.hasValue()&&(n.y+=f.getPixels("y")),s.y=n.y),n.y=s.y,n.leafTexts.push(s),n.minX=Math.min(n.minX,s.x,s.x+v),n.maxX=Math.max(n.maxX,s.x,s.x+v),s.clearContext(e),e.restore(),s}getChildBoundingBox(e,n,r,i){var s=r.children[i];if(typeof s.getBoundingBox!="function")return null;var l=s.getBoundingBox(e);return l?(s.children.forEach((c,a)=>{var f=n.getChildBoundingBox(e,n,s,a);l.addBoundingBox(f)}),l):null}renderChild(e,n,r,i){var s=r.children[i];s.render(e),s.children.forEach((l,c)=>{n.renderChild(e,n,s,c)})}measureText(e){var{measureCache:n}=this;if(~n)return n;var r=this.getText(),i=this.measureTargetText(e,r);return this.measureCache=i,i}measureTargetText(e,n){if(!n.length)return 0;var{parent:r}=this,i=r.getStyle("font-family").getDefinition();if(i){for(var s=this.getFontSize(),l=i.isRTL?n.split("").reverse().join(""):n,c=Gh(r.getAttribute("dx").getString()),a=l.length,f=0,p=0;p<a;p++){var m=this.getGlyph(i,l,p);f+=(m.horizAdvX||i.horizAdvX)*s/i.fontFace.unitsPerEm,typeof c[p]<"u"&&!isNaN(c[p])&&(f+=c[p])}return f}if(!e.measureText)return n.length*10;e.save(),this.setContext(e,!0);var{width:v}=e.measureText(n);return this.clearContext(e),e.restore(),v}getInheritedAttribute(e){for(var n=this;n instanceof f0&&n.isFirstChild();){var r=n.parent.getAttribute(e);if(r.hasValue(!0))return r.getValue("0");n=n.parent}return null}}class J5 extends f0{constructor(e,n,r){super(e,n,new.target===J5?!0:r),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}getText(){return this.text}}class GTt extends J5{constructor(){super(...arguments),this.type="textNode"}}let xx=class extends N1{constructor(){super(...arguments),this.type="svg",this.root=!1}setContext(e){var n,{document:r}=this,{screen:i,window:s}=r,l=e.canvas;if(i.setDefaults(e),l.style&&typeof e.font<"u"&&s&&typeof s.getComputedStyle<"u"){e.font=s.getComputedStyle(l).getPropertyValue("font");var c=new ji(r,"fontSize",Oc.parse(e.font).fontSize);c.hasValue()&&(r.rootEmSize=c.getPixels("y"),r.emSize=r.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var{width:a,height:f}=i.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var p=this.getAttribute("refX"),m=this.getAttribute("refY"),v=this.getAttribute("viewBox"),y=v.hasValue()?Gh(v.getString()):null,T=!this.root&&this.getStyle("overflow").getValue("hidden")!=="visible",C=0,k=0,M=0,P=0;y&&(C=y[0],k=y[1]),this.root||(a=this.getStyle("width").getPixels("x"),f=this.getStyle("height").getPixels("y"),this.type==="marker"&&(M=C,P=k,C=0,k=0)),i.viewPort.setCurrent(a,f),this.node&&(!this.parent||((n=this.node.parentNode)===null||n===void 0?void 0:n.nodeName)==="foreignObject")&&this.getStyle("transform",!1,!0).hasValue()&&!this.getStyle("transform-origin",!1,!0).hasValue()&&this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(e),e.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),y&&(a=y[2],f=y[3]),r.setViewBox({ctx:e,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:i.viewPort.width,desiredWidth:a,height:i.viewPort.height,desiredHeight:f,minX:C,minY:k,refX:p.getValue(),refY:m.getValue(),clip:T,clipX:M,clipY:P}),y&&(i.viewPort.removeCurrent(),i.viewPort.setCurrent(a,f))}clearContext(e){super.clearContext(e),this.document.screen.viewPort.removeCurrent()}resize(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=this.getAttribute("width",!0),s=this.getAttribute("height",!0),l=this.getAttribute("viewBox"),c=this.getAttribute("style"),a=i.getNumber(0),f=s.getNumber(0);if(r)if(typeof r=="string")this.getAttribute("preserveAspectRatio",!0).setValue(r);else{var p=this.getAttribute("preserveAspectRatio");p.hasValue()&&p.setValue(p.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(i.setValue(e),s.setValue(n),l.hasValue()||l.setValue("0 0 ".concat(a||e," ").concat(f||n)),c.hasValue()){var m=this.getStyle("width"),v=this.getStyle("height");m.hasValue()&&m.setValue("".concat(e,"px")),v.hasValue()&&v.setValue("".concat(n,"px"))}}};class S$ extends Us{constructor(){super(...arguments),this.type="rect"}path(e){var n=this.getAttribute("x").getPixels("x"),r=this.getAttribute("y").getPixels("y"),i=this.getStyle("width",!1,!0).getPixels("x"),s=this.getStyle("height",!1,!0).getPixels("y"),l=this.getAttribute("rx"),c=this.getAttribute("ry"),a=l.getPixels("x"),f=c.getPixels("y");if(l.hasValue()&&!c.hasValue()&&(f=a),c.hasValue()&&!l.hasValue()&&(a=f),a=Math.min(a,i/2),f=Math.min(f,s/2),e){var p=4*((Math.sqrt(2)-1)/3);e.beginPath(),s>0&&i>0&&(e.moveTo(n+a,r),e.lineTo(n+i-a,r),e.bezierCurveTo(n+i-a+p*a,r,n+i,r+f-p*f,n+i,r+f),e.lineTo(n+i,r+s-f),e.bezierCurveTo(n+i,r+s-f+p*f,n+i-a+p*a,r+s,n+i-a,r+s),e.lineTo(n+a,r+s),e.bezierCurveTo(n+a-p*a,r+s,n,r+s-f+p*f,n,r+s-f),e.lineTo(n,r+f),e.bezierCurveTo(n,r+f-p*f,n+a-p*a,r,n+a,r),e.closePath())}return new Gf(n,r,n+i,r+s)}getMarkers(){return null}}class Ype extends Us{constructor(){super(...arguments),this.type="circle"}path(e){var n=this.getAttribute("cx").getPixels("x"),r=this.getAttribute("cy").getPixels("y"),i=this.getAttribute("r").getPixels();return e&&i>0&&(e.beginPath(),e.arc(n,r,i,0,Math.PI*2,!1),e.closePath()),new Gf(n-i,r-i,n+i,r+i)}getMarkers(){return null}}class Xpe extends Us{constructor(){super(...arguments),this.type="ellipse"}path(e){var n=4*((Math.sqrt(2)-1)/3),r=this.getAttribute("rx").getPixels("x"),i=this.getAttribute("ry").getPixels("y"),s=this.getAttribute("cx").getPixels("x"),l=this.getAttribute("cy").getPixels("y");return e&&r>0&&i>0&&(e.beginPath(),e.moveTo(s+r,l),e.bezierCurveTo(s+r,l+n*i,s+n*r,l+i,s,l+i),e.bezierCurveTo(s-n*r,l+i,s-r,l+n*i,s-r,l),e.bezierCurveTo(s-r,l-n*i,s-n*r,l-i,s,l-i),e.bezierCurveTo(s+n*r,l-i,s+r,l-n*i,s+r,l),e.closePath()),new Gf(s-r,l-i,s+r,l+i)}getMarkers(){return null}}class Zpe extends Us{constructor(){super(...arguments),this.type="line"}getPoints(){return[new pl(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new pl(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(e){var[{x:n,y:r},{x:i,y:s}]=this.getPoints();return e&&(e.beginPath(),e.moveTo(n,r),e.lineTo(i,s)),new Gf(n,r,i,s)}getMarkers(){var[e,n]=this.getPoints(),r=e.angleTo(n);return[[e,r],[n,r]]}}class T$ extends Us{constructor(e,n,r){super(e,n,r),this.type="polyline",this.points=[],this.points=pl.parsePath(this.getAttribute("points").getString())}path(e){var{points:n}=this,[{x:r,y:i}]=n,s=new Gf(r,i);return e&&(e.beginPath(),e.moveTo(r,i)),n.forEach(l=>{var{x:c,y:a}=l;s.addPoint(c,a),e&&e.lineTo(c,a)}),s}getMarkers(){var{points:e}=this,n=e.length-1,r=[];return e.forEach((i,s)=>{s!==n&&r.push([i,i.angleTo(e[s+1])])}),r.length>0&&r.push([e[e.length-1],r[r.length-1][1]]),r}}class Jpe extends T${constructor(){super(...arguments),this.type="polygon"}path(e){var n=super.path(e),[{x:r,y:i}]=this.points;return e&&(e.lineTo(r,i),e.closePath()),n}}class eAe extends tl{constructor(){super(...arguments),this.type="pattern"}createPattern(e,n,r){var i=this.getStyle("width").getPixels("x",!0),s=this.getStyle("height").getPixels("y",!0),l=new xx(this.document,null);l.attributes.viewBox=new ji(this.document,"viewBox",this.getAttribute("viewBox").getValue()),l.attributes.width=new ji(this.document,"width","".concat(i,"px")),l.attributes.height=new ji(this.document,"height","".concat(s,"px")),l.attributes.transform=new ji(this.document,"transform",this.getAttribute("patternTransform").getValue()),l.children=this.children;var c=this.document.createCanvas(i,s),a=c.getContext("2d"),f=this.getAttribute("x"),p=this.getAttribute("y");f.hasValue()&&p.hasValue()&&a.translate(f.getPixels("x",!0),p.getPixels("y",!0)),r.hasValue()?this.styles["fill-opacity"]=r:Reflect.deleteProperty(this.styles,"fill-opacity");for(var m=-1;m<=1;m++)for(var v=-1;v<=1;v++)a.save(),l.attributes.x=new ji(this.document,"x",m*c.width),l.attributes.y=new ji(this.document,"y",v*c.height),l.render(a),a.restore();var y=e.createPattern(c,"repeat");return y}}class tAe extends tl{constructor(){super(...arguments),this.type="marker"}render(e,n,r){if(n){var{x:i,y:s}=n,l=this.getAttribute("orient").getString("auto"),c=this.getAttribute("markerUnits").getString("strokeWidth");e.translate(i,s),l==="auto"&&e.rotate(r),c==="strokeWidth"&&e.scale(e.lineWidth,e.lineWidth),e.save();var a=new xx(this.document,null);a.type=this.type,a.attributes.viewBox=new ji(this.document,"viewBox",this.getAttribute("viewBox").getValue()),a.attributes.refX=new ji(this.document,"refX",this.getAttribute("refX").getValue()),a.attributes.refY=new ji(this.document,"refY",this.getAttribute("refY").getValue()),a.attributes.width=new ji(this.document,"width",this.getAttribute("markerWidth").getValue()),a.attributes.height=new ji(this.document,"height",this.getAttribute("markerHeight").getValue()),a.attributes.overflow=new ji(this.document,"overflow",this.getAttribute("overflow").getValue()),a.attributes.fill=new ji(this.document,"fill",this.getAttribute("fill").getColor("black")),a.attributes.stroke=new ji(this.document,"stroke",this.getAttribute("stroke").getValue("none")),a.children=this.children,a.render(e),e.restore(),c==="strokeWidth"&&e.scale(1/e.lineWidth,1/e.lineWidth),l==="auto"&&e.rotate(-r),e.translate(-i,-s)}}}class nAe extends tl{constructor(){super(...arguments),this.type="defs"}render(){}}class wI extends N1{constructor(){super(...arguments),this.type="g"}getBoundingBox(e){var n=new Gf;return this.children.forEach(r=>{n.addBoundingBox(r.getBoundingBox(e))}),n}}class B$ extends tl{constructor(e,n,r){super(e,n,r),this.attributesToInherit=["gradientUnits"],this.stops=[];var{stops:i,children:s}=this;s.forEach(l=>{l.type==="stop"&&i.push(l)})}getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(e,n,r){var i=this;this.getHrefAttribute().hasValue()&&(i=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(i));var{stops:s}=i,l=this.getGradient(e,n);if(!l)return this.addParentOpacity(r,s[s.length-1].color);if(s.forEach(k=>{l.addColorStop(k.offset,this.addParentOpacity(r,k.color))}),this.getAttribute("gradientTransform").hasValue()){var{document:c}=this,{MAX_VIRTUAL_PIXELS:a,viewPort:f}=c.screen,[p]=f.viewPorts,m=new S$(c,null);m.attributes.x=new ji(c,"x",-a/3),m.attributes.y=new ji(c,"y",-a/3),m.attributes.width=new ji(c,"width",a),m.attributes.height=new ji(c,"height",a);var v=new wI(c,null);v.attributes.transform=new ji(c,"transform",this.getAttribute("gradientTransform").getValue()),v.children=[m];var y=new xx(c,null);y.attributes.x=new ji(c,"x",0),y.attributes.y=new ji(c,"y",0),y.attributes.width=new ji(c,"width",p.width),y.attributes.height=new ji(c,"height",p.height),y.children=[v];var T=c.createCanvas(p.width,p.height),C=T.getContext("2d");return C.fillStyle=l,y.render(C),C.createPattern(T,"no-repeat")}return l}inheritStopContainer(e){this.attributesToInherit.forEach(n=>{!this.getAttribute(n).hasValue()&&e.getAttribute(n).hasValue()&&this.getAttribute(n,!0).setValue(e.getAttribute(n).getValue())})}addParentOpacity(e,n){if(e.hasValue()){var r=new ji(this.document,"color",n);return r.addOpacity(e).getColor()}return n}}class rAe extends B${constructor(e,n,r){super(e,n,r),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}getGradient(e,n){var r=this.getGradientUnits()==="objectBoundingBox",i=r?n.getBoundingBox(e):null;if(r&&!i)return null;!this.getAttribute("x1").hasValue()&&!this.getAttribute("y1").hasValue()&&!this.getAttribute("x2").hasValue()&&!this.getAttribute("y2").hasValue()&&(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var s=r?i.x+i.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),l=r?i.y+i.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),c=r?i.x+i.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),a=r?i.y+i.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return s===c&&l===a?null:e.createLinearGradient(s,l,c,a)}}class iAe extends B${constructor(e,n,r){super(e,n,r),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}getGradient(e,n){var r=this.getGradientUnits()==="objectBoundingBox",i=n.getBoundingBox(e);if(r&&!i)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var s=r?i.x+i.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),l=r?i.y+i.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),c=s,a=l;this.getAttribute("fx").hasValue()&&(c=r?i.x+i.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(a=r?i.y+i.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var f=r?(i.width+i.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),p=this.getAttribute("fr").getPixels();return e.createRadialGradient(c,a,p,s,l,f)}}class aAe extends tl{constructor(e,n,r){super(e,n,r),this.type="stop";var i=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),s=this.getStyle("stop-opacity"),l=this.getStyle("stop-color",!0);l.getString()===""&&l.setValue("#000"),s.hasValue()&&(l=l.addOpacity(s)),this.offset=i,this.color=l.getColor()}}class xI extends tl{constructor(e,n,r){super(e,n,r),this.type="animate",this.duration=0,this.initialValue=null,this.initialUnits="",this.removed=!1,this.frozen=!1,e.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new ji(e,"values",null);var i=this.getAttribute("values");i.hasValue()&&this.values.setValue(i.getString().split(";"))}getProperty(){var e=this.getAttribute("attributeType").getString(),n=this.getAttribute("attributeName").getString();return e==="CSS"?this.parent.getStyle(n,!0):this.parent.getAttribute(n,!0)}calcValue(){var{initialUnits:e}=this,{progress:n,from:r,to:i}=this.getProgress(),s=r.getNumber()+(i.getNumber()-r.getNumber())*n;return e==="%"&&(s*=100),"".concat(s).concat(e)}update(e){var{parent:n}=this,r=this.getProperty();if(this.initialValue||(this.initialValue=r.getString(),this.initialUnits=r.getUnits()),this.duration>this.maxDuration){var i=this.getAttribute("fill").getString("remove");if(this.getAttribute("repeatCount").getString()==="indefinite"||this.getAttribute("repeatDur").getString()==="indefinite")this.duration=0;else if(i==="freeze"&&!this.frozen)this.frozen=!0,n.animationFrozen=!0,n.animationFrozenValue=r.getString();else if(i==="remove"&&!this.removed)return this.removed=!0,r.setValue(n.animationFrozen?n.animationFrozenValue:this.initialValue),!0;return!1}this.duration+=e;var s=!1;if(this.begin<this.duration){var l=this.calcValue(),c=this.getAttribute("type");if(c.hasValue()){var a=c.getString();l="".concat(a,"(").concat(l,")")}r.setValue(l),s=!0}return s}getProgress(){var{document:e,values:n}=this,r={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(n.hasValue()){var i=r.progress*(n.getValue().length-1),s=Math.floor(i),l=Math.ceil(i);r.from=new ji(e,"from",parseFloat(n.getValue()[s])),r.to=new ji(e,"to",parseFloat(n.getValue()[l])),r.progress=(i-s)/(l-s)}else r.from=this.from,r.to=this.to;return r}}class sAe extends xI{constructor(){super(...arguments),this.type="animateColor"}calcValue(){var{progress:e,from:n,to:r}=this.getProgress(),i=new vN(n.getColor()),s=new vN(r.getColor());if(i.ok&&s.ok){var l=i.r+(s.r-i.r)*e,c=i.g+(s.g-i.g)*e,a=i.b+(s.b-i.b)*e;return"rgb(".concat(Math.floor(l),", ").concat(Math.floor(c),", ").concat(Math.floor(a),")")}return this.getAttribute("from").getColor()}}class oAe extends xI{constructor(){super(...arguments),this.type="animateTransform"}calcValue(){var{progress:e,from:n,to:r}=this.getProgress(),i=Gh(n.getString()),s=Gh(r.getString()),l=i.map((c,a)=>{var f=s[a];return c+(f-c)*e}).join(" ");return l}}class lAe extends tl{constructor(e,n,r){super(e,n,r),this.type="font",this.glyphs={},this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();var{definitions:i}=e,{children:s}=this;for(var l of s)switch(l.type){case"font-face":{this.fontFace=l;var c=l.getStyle("font-family");c.hasValue()&&(i[c.getString()]=this);break}case"missing-glyph":this.missingGlyph=l;break;case"glyph":{var a=l;a.arabicForm?(this.isRTL=!0,this.isArabic=!0,typeof this.glyphs[a.unicode]>"u"&&(this.glyphs[a.unicode]={}),this.glyphs[a.unicode][a.arabicForm]=a):this.glyphs[a.unicode]=a;break}}}render(){}}class uAe extends tl{constructor(e,n,r){super(e,n,r),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class cAe extends Us{constructor(){super(...arguments),this.type="missing-glyph",this.horizAdvX=0}}class hAe extends f0{constructor(){super(...arguments),this.type="tref"}getText(){var e=this.getHrefAttribute().getDefinition();if(e){var n=e.children[0];if(n)return n.getText()}return""}}class dAe extends f0{constructor(e,n,r){super(e,n,r),this.type="a";var{childNodes:i}=n,s=i[0],l=i.length>0&&Array.from(i).every(c=>c.nodeType===3);this.hasText=l,this.text=l?this.getTextFromNode(s):""}getText(){return this.text}renderChildren(e){if(this.hasText){super.renderChildren(e);var{document:n,x:r,y:i}=this,{mouse:s}=n.screen,l=new ji(n,"fontSize",Oc.parse(n.ctx.font).fontSize);s.isWorking()&&s.checkBoundingBox(this,new Gf(r,i-l.getPixels("y"),r+this.measureText(e),i))}else if(this.children.length>0){var c=new wI(this.document,null);c.children=this.children,c.parent=this,c.render(e)}}onClick(){var{window:e}=this.document;e&&e.open(this.getHrefAttribute().getString())}onMouseMove(){var e=this.document.ctx;e.canvas.style.cursor="pointer"}}function ote(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ote(Object(n),!0).forEach(function(r){y$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ote(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}class fAe extends f0{constructor(e,n,r){super(e,n,r),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);var i=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(i)}getText(){return this.text}path(e){var{dataArray:n}=this;e&&e.beginPath(),n.forEach(r=>{var{type:i,points:s}=r;switch(i){case Pa.LINE_TO:e&&e.lineTo(s[0],s[1]);break;case Pa.MOVE_TO:e&&e.moveTo(s[0],s[1]);break;case Pa.CURVE_TO:e&&e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case Pa.QUAD_TO:e&&e.quadraticCurveTo(s[0],s[1],s[2],s[3]);break;case Pa.ARC:{var[l,c,a,f,p,m,v,y]=s,T=a>f?a:f,C=a>f?1:a/f,k=a>f?f/a:1;e&&(e.translate(l,c),e.rotate(v),e.scale(C,k),e.arc(0,0,T,p,p+m,!!(1-y)),e.scale(1/C,1/k),e.rotate(-v),e.translate(-l,-c));break}case Pa.CLOSE_PATH:e&&e.closePath();break}})}renderChildren(e){this.setTextData(e),e.save();var n=this.parent.getStyle("text-decoration").getString(),r=this.getFontSize(),{glyphInfo:i}=this,s=e.fillStyle;n==="underline"&&e.beginPath(),i.forEach((l,c)=>{var{p0:a,p1:f,rotation:p,text:m}=l;e.save(),e.translate(a.x,a.y),e.rotate(p),e.fillStyle&&e.fillText(m,0,0),e.strokeStyle&&e.strokeText(m,0,0),e.restore(),n==="underline"&&(c===0&&e.moveTo(a.x,a.y+r/8),e.lineTo(f.x,f.y+r/5))}),n==="underline"&&(e.lineWidth=r/20,e.strokeStyle=s,e.stroke(),e.closePath()),e.restore()}getLetterSpacingAt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.letterSpacingCache[e]||0}findSegmentToFitChar(e,n,r,i,s,l,c,a,f){var p=l,m=this.measureText(e,a);a===" "&&n==="justify"&&r<i&&(m+=(i-r)/s),f>-1&&(p+=this.getLetterSpacingAt(f));var v=this.textHeight/20,y=this.getEquidistantPointOnPath(p,v,0),T=this.getEquidistantPointOnPath(p+m,v,0),C={p0:y,p1:T},k=y&&T?Math.atan2(T.y-y.y,T.x-y.x):0;if(c){var M=Math.cos(Math.PI/2+k)*c,P=Math.cos(-k)*c;C.p0=U3(U3({},y),{},{x:y.x+M,y:y.y+P}),C.p1=U3(U3({},T),{},{x:T.x+M,y:T.y+P})}return p+=m,{offset:p,segment:C,rotation:k}}measureText(e,n){var{measuresCache:r}=this,i=n||this.getText();if(r.has(i))return r.get(i);var s=this.measureTargetText(e,i);return r.set(i,s),s}setTextData(e){if(!this.glyphInfo){var n=this.getText(),r=n.split(""),i=n.split(" ").length-1,s=this.parent.getAttribute("dx").split().map(N=>N.getPixels("x")),l=this.parent.getAttribute("dy").getPixels("y"),c=this.parent.getStyle("text-anchor").getString("start"),a=this.getStyle("letter-spacing"),f=this.parent.getStyle("letter-spacing"),p=0;!a.hasValue()||a.getValue()==="inherit"?p=f.getPixels():a.hasValue()&&a.getValue()!=="initial"&&a.getValue()!=="unset"&&(p=a.getPixels());var m=[],v=n.length;this.letterSpacingCache=m;for(var y=0;y<v;y++)m.push(typeof s[y]<"u"?s[y]:p);var T=m.reduce((N,z,H)=>H===0?0:N+z||0,0),C=this.measureText(e),k=Math.max(C+T,0);this.textWidth=C,this.textHeight=this.getFontSize(),this.glyphInfo=[];var M=this.getPathLength(),P=this.getStyle("startOffset").getNumber(0)*M,R=0;(c==="middle"||c==="center")&&(R=-k/2),(c==="end"||c==="right")&&(R=-k),R+=P,r.forEach((N,z)=>{var{offset:H,segment:j,rotation:Q}=this.findSegmentToFitChar(e,c,k,M,i,R,l,N,z);R=H,!(!j.p0||!j.p1)&&this.glyphInfo.push({text:r[z],p0:j.p0,p1:j.p1,rotation:Q})})}}parsePathData(e){if(this.pathLength=-1,!e)return[];var n=[],{pathParser:r}=e;for(r.reset();!r.isEnd();){var{current:i}=r,s=i?i.x:0,l=i?i.y:0,c=r.next(),a=c.type,f=[];switch(c.type){case Pa.MOVE_TO:this.pathM(r,f);break;case Pa.LINE_TO:a=this.pathL(r,f);break;case Pa.HORIZ_LINE_TO:a=this.pathH(r,f);break;case Pa.VERT_LINE_TO:a=this.pathV(r,f);break;case Pa.CURVE_TO:this.pathC(r,f);break;case Pa.SMOOTH_CURVE_TO:a=this.pathS(r,f);break;case Pa.QUAD_TO:this.pathQ(r,f);break;case Pa.SMOOTH_QUAD_TO:a=this.pathT(r,f);break;case Pa.ARC:f=this.pathA(r);break;case Pa.CLOSE_PATH:Us.pathZ(r);break}c.type!==Pa.CLOSE_PATH?n.push({type:a,points:f,start:{x:s,y:l},pathLength:this.calcLength(s,l,a,f)}):n.push({type:Pa.CLOSE_PATH,points:[],pathLength:0})}return n}pathM(e,n){var{x:r,y:i}=Us.pathM(e).point;n.push(r,i)}pathL(e,n){var{x:r,y:i}=Us.pathL(e).point;return n.push(r,i),Pa.LINE_TO}pathH(e,n){var{x:r,y:i}=Us.pathH(e).point;return n.push(r,i),Pa.LINE_TO}pathV(e,n){var{x:r,y:i}=Us.pathV(e).point;return n.push(r,i),Pa.LINE_TO}pathC(e,n){var{point:r,controlPoint:i,currentPoint:s}=Us.pathC(e);n.push(r.x,r.y,i.x,i.y,s.x,s.y)}pathS(e,n){var{point:r,controlPoint:i,currentPoint:s}=Us.pathS(e);return n.push(r.x,r.y,i.x,i.y,s.x,s.y),Pa.CURVE_TO}pathQ(e,n){var{controlPoint:r,currentPoint:i}=Us.pathQ(e);n.push(r.x,r.y,i.x,i.y)}pathT(e,n){var{controlPoint:r,currentPoint:i}=Us.pathT(e);return n.push(r.x,r.y,i.x,i.y),Pa.QUAD_TO}pathA(e){var{rX:n,rY:r,sweepFlag:i,xAxisRotation:s,centp:l,a1:c,ad:a}=Us.pathA(e);return i===0&&a>0&&(a-=2*Math.PI),i===1&&a<0&&(a+=2*Math.PI),[l.x,l.y,n,r,c,a,s,i]}calcLength(e,n,r,i){var s=0,l=null,c=null,a=0;switch(r){case Pa.LINE_TO:return this.getLineLength(e,n,i[0],i[1]);case Pa.CURVE_TO:for(s=0,l=this.getPointOnCubicBezier(0,e,n,i[0],i[1],i[2],i[3],i[4],i[5]),a=.01;a<=1;a+=.01)c=this.getPointOnCubicBezier(a,e,n,i[0],i[1],i[2],i[3],i[4],i[5]),s+=this.getLineLength(l.x,l.y,c.x,c.y),l=c;return s;case Pa.QUAD_TO:for(s=0,l=this.getPointOnQuadraticBezier(0,e,n,i[0],i[1],i[2],i[3]),a=.01;a<=1;a+=.01)c=this.getPointOnQuadraticBezier(a,e,n,i[0],i[1],i[2],i[3]),s+=this.getLineLength(l.x,l.y,c.x,c.y),l=c;return s;case Pa.ARC:{s=0;var f=i[4],p=i[5],m=i[4]+p,v=Math.PI/180;if(Math.abs(f-m)<v&&(v=Math.abs(f-m)),l=this.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],f,0),p<0)for(a=f-v;a>m;a-=v)c=this.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],a,0),s+=this.getLineLength(l.x,l.y,c.x,c.y),l=c;else for(a=f+v;a<m;a+=v)c=this.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],a,0),s+=this.getLineLength(l.x,l.y,c.x,c.y),l=c;return c=this.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],m,0),s+=this.getLineLength(l.x,l.y,c.x,c.y),s}}return 0}getPointOnLine(e,n,r,i,s){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:n,c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:r,a=(s-r)/(i-n+vy),f=Math.sqrt(e*e/(1+a*a));i<n&&(f*=-1);var p=a*f,m=null;if(i===n)m={x:l,y:c+p};else if((c-r)/(l-n+vy)===a)m={x:l+f,y:c+p};else{var v=0,y=0,T=this.getLineLength(n,r,i,s);if(T<vy)return null;var C=(l-n)*(i-n)+(c-r)*(s-r);C/=T*T,v=n+C*(i-n),y=r+C*(s-r);var k=this.getLineLength(l,c,v,y),M=Math.sqrt(e*e-k*k);f=Math.sqrt(M*M/(1+a*a)),i<n&&(f*=-1),p=a*f,m={x:v+f,y:y+p}}return m}getPointOnPath(e){var n=this.getPathLength(),r=0,i=null;if(e<-5e-5||e-5e-5>n)return null;var{dataArray:s}=this;for(var l of s){if(l&&(l.pathLength<5e-5||r+l.pathLength+5e-5<e)){r+=l.pathLength;continue}var c=e-r,a=0;switch(l.type){case Pa.LINE_TO:i=this.getPointOnLine(c,l.start.x,l.start.y,l.points[0],l.points[1],l.start.x,l.start.y);break;case Pa.ARC:{var f=l.points[4],p=l.points[5],m=l.points[4]+p;if(a=f+c/l.pathLength*p,p<0&&a<m||p>=0&&a>m)break;i=this.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],a,l.points[6]);break}case Pa.CURVE_TO:a=c/l.pathLength,a>1&&(a=1),i=this.getPointOnCubicBezier(a,l.start.x,l.start.y,l.points[0],l.points[1],l.points[2],l.points[3],l.points[4],l.points[5]);break;case Pa.QUAD_TO:a=c/l.pathLength,a>1&&(a=1),i=this.getPointOnQuadraticBezier(a,l.start.x,l.start.y,l.points[0],l.points[1],l.points[2],l.points[3]);break}if(i)return i;break}return null}getLineLength(e,n,r,i){return Math.sqrt((r-e)*(r-e)+(i-n)*(i-n))}getPathLength(){return this.pathLength===-1&&(this.pathLength=this.dataArray.reduce((e,n)=>n.pathLength>0?e+n.pathLength:e,0)),this.pathLength}getPointOnCubicBezier(e,n,r,i,s,l,c,a,f){var p=a*xN(e)+l*CN(e)+i*EN(e)+n*SN(e),m=f*xN(e)+c*CN(e)+s*EN(e)+r*SN(e);return{x:p,y:m}}getPointOnQuadraticBezier(e,n,r,i,s,l,c){var a=l*TN(e)+i*BN(e)+n*MN(e),f=c*TN(e)+s*BN(e)+r*MN(e);return{x:a,y:f}}getPointOnEllipticalArc(e,n,r,i,s,l){var c=Math.cos(l),a=Math.sin(l),f={x:r*Math.cos(s),y:i*Math.sin(s)};return{x:e+(f.x*c-f.y*a),y:n+(f.x*a+f.y*c)}}buildEquidistantCache(e,n){var r=this.getPathLength(),i=n||.25,s=e||r/100;if(!this.equidistantCache||this.equidistantCache.step!==s||this.equidistantCache.precision!==i){this.equidistantCache={step:s,precision:i,points:[]};for(var l=0,c=0;c<=r;c+=i){var a=this.getPointOnPath(c),f=this.getPointOnPath(c+i);!a||!f||(l+=this.getLineLength(a.x,a.y,f.x,f.y),l>=s&&(this.equidistantCache.points.push({x:a.x,y:a.y,distance:c}),l-=s))}}}getEquidistantPointOnPath(e,n,r){if(this.buildEquidistantCache(n,r),e<0||e-this.getPathLength()>5e-5)return null;var i=Math.round(e/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[i]||null}}var KTt=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class pAe extends N1{constructor(e,n,r){super(e,n,r),this.type="image",this.loaded=!1;var i=this.getHrefAttribute().getString();if(i){var s=i.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(i);e.images.push(this),s?this.loadSvg(i):this.loadImage(i),this.isSvg=s}}loadImage(e){var n=this;return d0(function*(){try{var r=yield n.document.createImage(e);n.image=r}catch(i){console.error('Error while loading image "'.concat(e,'":'),i)}n.loaded=!0})()}loadSvg(e){var n=this;return d0(function*(){var r=KTt.exec(e);if(r){var i=r[5];r[4]==="base64"?n.image=atob(i):n.image=decodeURIComponent(i)}else try{var s=yield n.document.fetch(e),l=yield s.text();n.image=l}catch(c){console.error('Error while loading image "'.concat(e,'":'),c)}n.loaded=!0})()}renderChildren(e){var{document:n,image:r,loaded:i}=this,s=this.getAttribute("x").getPixels("x"),l=this.getAttribute("y").getPixels("y"),c=this.getStyle("width").getPixels("x"),a=this.getStyle("height").getPixels("y");if(!(!i||!r||!c||!a)){if(e.save(),e.translate(s,l),this.isSvg){var f=n.canvg.forkString(e,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:c,scaleHeight:a});f.document.documentElement.parent=this,f.render()}else{var p=this.image;n.setViewBox({ctx:e,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:c,desiredWidth:p.width,height:a,desiredHeight:p.height}),this.loaded&&(typeof p.complete>"u"||p.complete)&&e.drawImage(p,0,0)}e.restore()}}getBoundingBox(){var e=this.getAttribute("x").getPixels("x"),n=this.getAttribute("y").getPixels("y"),r=this.getStyle("width").getPixels("x"),i=this.getStyle("height").getPixels("y");return new Gf(e,n,e+r,n+i)}}class AAe extends N1{constructor(){super(...arguments),this.type="symbol"}render(e){}}class mAe{constructor(e){this.document=e,this.loaded=!1,e.fonts.push(this)}load(e,n){var r=this;return d0(function*(){try{var{document:i}=r,s=yield i.canvg.parser.load(n),l=s.getElementsByTagName("font");Array.from(l).forEach(c=>{var a=i.createElement(c);i.definitions[e]=a})}catch(c){console.error('Error while loading font "'.concat(n,'":'),c)}r.loaded=!0})()}}class M$ extends tl{constructor(e,n,r){super(e,n,r),this.type="style";var i=Jy(Array.from(n.childNodes).map(l=>l.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")),s=i.split("}");s.forEach(l=>{var c=l.trim();if(c){var a=c.split("{"),f=a[0].split(","),p=a[1].split(";");f.forEach(m=>{var v=m.trim();if(v){var y=e.styles[v]||{};if(p.forEach(k=>{var M=k.indexOf(":"),P=k.substr(0,M).trim(),R=k.substr(M+1,k.length-M).trim();P&&R&&(y[P]=new ji(e,P,R))}),e.styles[v]=y,e.stylesSpecificity[v]=Upe(v),v==="@font-face"){var T=y["font-family"].getString().replace(/"|'/g,""),C=y.src.getString().split(",");C.forEach(k=>{if(k.indexOf('format("svg")')>0){var M=w$(k);M&&new mAe(e).load(T,M)}})}}})}})}}M$.parseExternalUrl=w$;class gAe extends N1{constructor(){super(...arguments),this.type="use"}setContext(e){super.setContext(e);var n=this.getAttribute("x"),r=this.getAttribute("y");n.hasValue()&&e.translate(n.getPixels("x"),0),r.hasValue()&&e.translate(0,r.getPixels("y"))}path(e){var{element:n}=this;n&&n.path(e)}renderChildren(e){var{document:n,element:r}=this;if(r){var i=r;if(r.type==="symbol"&&(i=new xx(n,null),i.attributes.viewBox=new ji(n,"viewBox",r.getAttribute("viewBox").getString()),i.attributes.preserveAspectRatio=new ji(n,"preserveAspectRatio",r.getAttribute("preserveAspectRatio").getString()),i.attributes.overflow=new ji(n,"overflow",r.getAttribute("overflow").getString()),i.children=r.children,r.styles.opacity=new ji(n,"opacity",this.calculateOpacity())),i.type==="svg"){var s=this.getStyle("width",!1,!0),l=this.getStyle("height",!1,!0);s.hasValue()&&(i.attributes.width=new ji(n,"width",s.getString())),l.hasValue()&&(i.attributes.height=new ji(n,"height",l.getString()))}var c=i.parent;i.parent=this,i.render(e),i.parent=c}}getBoundingBox(e){var{element:n}=this;return n?n.getBoundingBox(e):null}elementTransform(){var{document:e,element:n}=this;return S1.fromElement(e,n)}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}}function z3(t,e,n,r,i,s){return t[n*r*4+e*4+s]}function $3(t,e,n,r,i,s,l){t[n*r*4+e*4+s]=l}function nu(t,e,n){var r=t[e];return r*n}function Ug(t,e,n,r){return e+Math.cos(t)*n+Math.sin(t)*r}class I$ extends tl{constructor(e,n,r){super(e,n,r),this.type="feColorMatrix";var i=Gh(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":{var s=i[0];i=[.213+.787*s,.715-.715*s,.072-.072*s,0,0,.213-.213*s,.715+.285*s,.072-.072*s,0,0,.213-.213*s,.715-.715*s,.072+.928*s,0,0,0,0,0,1,0,0,0,0,0,1];break}case"hueRotate":{var l=i[0]*Math.PI/180;i=[Ug(l,.213,.787,-.213),Ug(l,.715,-.715,-.715),Ug(l,.072,-.072,.928),0,0,Ug(l,.213,-.213,.143),Ug(l,.715,.285,.14),Ug(l,.072,-.072,-.283),0,0,Ug(l,.213,-.213,-.787),Ug(l,.715,-.715,.715),Ug(l,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break}case"luminanceToAlpha":i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1];break}this.matrix=i,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}apply(e,n,r,i,s){for(var{includeOpacity:l,matrix:c}=this,a=e.getImageData(0,0,i,s),f=0;f<s;f++)for(var p=0;p<i;p++){var m=z3(a.data,p,f,i,s,0),v=z3(a.data,p,f,i,s,1),y=z3(a.data,p,f,i,s,2),T=z3(a.data,p,f,i,s,3),C=nu(c,0,m)+nu(c,1,v)+nu(c,2,y)+nu(c,3,T)+nu(c,4,1),k=nu(c,5,m)+nu(c,6,v)+nu(c,7,y)+nu(c,8,T)+nu(c,9,1),M=nu(c,10,m)+nu(c,11,v)+nu(c,12,y)+nu(c,13,T)+nu(c,14,1),P=nu(c,15,m)+nu(c,16,v)+nu(c,17,y)+nu(c,18,T)+nu(c,19,1);l&&(C=0,k=0,M=0,P*=T/255),$3(a.data,p,f,i,s,0,C),$3(a.data,p,f,i,s,1,k),$3(a.data,p,f,i,s,2,M),$3(a.data,p,f,i,s,3,P)}e.clearRect(0,0,i,s),e.putImageData(a,0,0)}}class eE extends tl{constructor(){super(...arguments),this.type="mask"}apply(e,n){var{document:r}=this,i=this.getAttribute("x").getPixels("x"),s=this.getAttribute("y").getPixels("y"),l=this.getStyle("width").getPixels("x"),c=this.getStyle("height").getPixels("y");if(!l&&!c){var a=new Gf;this.children.forEach(T=>{a.addBoundingBox(T.getBoundingBox(e))}),i=Math.floor(a.x1),s=Math.floor(a.y1),l=Math.floor(a.width),c=Math.floor(a.height)}var f=this.removeStyles(n,eE.ignoreStyles),p=r.createCanvas(i+l,s+c),m=p.getContext("2d");r.screen.setDefaults(m),this.renderChildren(m),new I$(r,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(m,0,0,i+l,s+c);var v=r.createCanvas(i+l,s+c),y=v.getContext("2d");r.screen.setDefaults(y),n.render(y),y.globalCompositeOperation="destination-in",y.fillStyle=m.createPattern(p,"no-repeat"),y.fillRect(0,0,i+l,s+c),e.fillStyle=y.createPattern(v,"no-repeat"),e.fillRect(0,0,i+l,s+c),this.restoreStyles(n,f)}render(e){}}eE.ignoreStyles=["mask","transform","clip-path"];var lte=()=>{};class vAe extends tl{constructor(){super(...arguments),this.type="clipPath"}apply(e){var{document:n}=this,r=Reflect.getPrototypeOf(e),{beginPath:i,closePath:s}=e;r&&(r.beginPath=lte,r.closePath=lte),Reflect.apply(i,e,[]),this.children.forEach(l=>{if(!(typeof l.path>"u")){var c=typeof l.elementTransform<"u"?l.elementTransform():null;c||(c=S1.fromElement(n,l)),c&&c.apply(e),l.path(e),r&&(r.closePath=s),c&&c.unapply(e)}}),Reflect.apply(s,e,[]),e.clip(),r&&(r.beginPath=i,r.closePath=s)}render(e){}}class tE extends tl{constructor(){super(...arguments),this.type="filter"}apply(e,n){var{document:r,children:i}=this,s=n.getBoundingBox(e);if(s){var l=0,c=0;i.forEach(M=>{var P=M.extraFilterDistance||0;l=Math.max(l,P),c=Math.max(c,P)});var a=Math.floor(s.width),f=Math.floor(s.height),p=a+2*l,m=f+2*c;if(!(p<1||m<1)){var v=Math.floor(s.x),y=Math.floor(s.y),T=this.removeStyles(n,tE.ignoreStyles),C=r.createCanvas(p,m),k=C.getContext("2d");r.screen.setDefaults(k),k.translate(-v+l,-y+c),n.render(k),i.forEach(M=>{typeof M.apply=="function"&&M.apply(k,0,0,p,m)}),e.drawImage(C,0,0,p,m,v-l,y-c,p,m),this.restoreStyles(n,T)}}}render(e){}}tE.ignoreStyles=["filter","transform","clip-path"];class _Ae extends tl{constructor(e,n,r){super(e,n,r),this.type="feDropShadow",this.addStylesFromStyleDefinition()}apply(e,n,r,i,s){}}class yAe extends tl{constructor(){super(...arguments),this.type="feMorphology"}apply(e,n,r,i,s){}}class bAe extends tl{constructor(){super(...arguments),this.type="feComposite"}apply(e,n,r,i,s){}}class wAe extends tl{constructor(e,n,r){super(e,n,r),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}apply(e,n,r,i,s){var{document:l,blurRadius:c}=this,a=l.window?l.window.document.body:null,f=e.canvas;f.id=l.getUniqueId(),a&&(f.style.display="none",a.appendChild(f)),ETt(f,n,r,i,s,c),a&&a.removeChild(f)}}class xAe extends tl{constructor(){super(...arguments),this.type="title"}}class CAe extends tl{constructor(){super(...arguments),this.type="desc"}}var WTt={svg:xx,rect:S$,circle:Ype,ellipse:Xpe,line:Zpe,polyline:T$,polygon:Jpe,path:Us,pattern:eAe,marker:tAe,defs:nAe,linearGradient:rAe,radialGradient:iAe,stop:aAe,animate:xI,animateColor:sAe,animateTransform:oAe,font:lAe,"font-face":uAe,"missing-glyph":cAe,glyph:E$,text:f0,tspan:J5,tref:hAe,a:dAe,textPath:fAe,image:pAe,g:wI,symbol:AAe,style:M$,use:gAe,mask:eE,clipPath:vAe,filter:tE,feDropShadow:_Ae,feMorphology:yAe,feComposite:bAe,feColorMatrix:I$,feGaussianBlur:wAe,title:xAe,desc:CAe};function ute(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qTt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ute(Object(n),!0).forEach(function(r){y$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ute(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YTt(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,n}function XTt(t){return LN.apply(this,arguments)}function LN(){return LN=d0(function*(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=document.createElement("img");return e&&(n.crossOrigin="Anonymous"),new Promise((r,i)=>{n.onload=()=>{r(n)},n.onerror=(s,l,c,a,f)=>{i(f)},n.src=t})}),LN.apply(this,arguments)}class r0{constructor(e){var{rootEmSize:n=12,emSize:r=12,createCanvas:i=r0.createCanvas,createImage:s=r0.createImage,anonymousCrossOrigin:l}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.canvg=e,this.definitions={},this.styles={},this.stylesSpecificity={},this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=e.screen,this.rootEmSize=n,this.emSize=r,this.createCanvas=i,this.createImage=this.bindCreateImage(s,l),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}bindCreateImage(e,n){return typeof n=="boolean"?(r,i)=>e(r,typeof i=="boolean"?i:n):e}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){var{emSizeStack:e}=this;return e[e.length-1]}set emSize(e){var{emSizeStack:n}=this;n.push(e)}popEmSize(){var{emSizeStack:e}=this;e.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(e=>e.loaded)}isFontsLoaded(){return this.fonts.every(e=>e.loaded)}createDocumentElement(e){var n=this.createElement(e.documentElement);return n.root=!0,n.addStylesFromStyleDefinition(),this.documentElement=n,n}createElement(e){var n=e.nodeName.replace(/^[^:]+:/,""),r=r0.elementTypes[n];return typeof r<"u"?new r(this,e):new qpe(this,e)}createTextNode(e){return new GTt(this,e)}setViewBox(e){this.screen.setViewBox(qTt({document:this},e))}}r0.createCanvas=YTt;r0.createImage=XTt;r0.elementTypes=WTt;function cte(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function M_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cte(Object(n),!0).forEach(function(r){y$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cte(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}class J_{constructor(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.parser=new qT(r),this.screen=new Z5(e,r),this.options=r;var i=new r0(this,r),s=i.createDocumentElement(n);this.document=i,this.documentElement=s}static from(e,n){var r=arguments;return d0(function*(){var i=r.length>2&&r[2]!==void 0?r[2]:{},s=new qT(i),l=yield s.parse(n);return new J_(e,l,i)})()}static fromString(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=new qT(r),s=i.parseFromString(n);return new J_(e,s,r)}fork(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return J_.from(e,n,M_(M_({},this.options),r))}forkString(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return J_.fromString(e,n,M_(M_({},this.options),r))}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}render(){var e=arguments,n=this;return d0(function*(){var r=e.length>0&&e[0]!==void 0?e[0]:{};n.start(M_({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},r)),yield n.ready(),n.stop()})()}start(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{documentElement:n,screen:r,options:i}=this;r.start(n,M_(M_({enableRedraw:!0},i),e))}stop(){this.screen.stop()}resize(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.documentElement.resize(e,n,r)}}const ZTt=Object.freeze(Object.defineProperty({__proto__:null,AElement:dAe,AnimateColorElement:sAe,AnimateElement:xI,AnimateTransformElement:oAe,BoundingBox:Gf,CB1:xN,CB2:CN,CB3:EN,CB4:SN,Canvg:J_,CircleElement:Ype,ClipPathElement:vAe,DefsElement:nAe,DescElement:CAe,Document:r0,Element:tl,EllipseElement:Xpe,FeColorMatrixElement:I$,FeCompositeElement:bAe,FeDropShadowElement:_Ae,FeGaussianBlurElement:wAe,FeMorphologyElement:yAe,FilterElement:tE,Font:Oc,FontElement:lAe,FontFaceElement:uAe,GElement:wI,GlyphElement:E$,GradientElement:B$,ImageElement:pAe,LineElement:Zpe,LinearGradientElement:rAe,MarkerElement:tAe,MaskElement:eE,Matrix:x$,MissingGlyphElement:cAe,Mouse:$pe,PSEUDO_ZERO:vy,Parser:qT,PathElement:Us,PathParser:Pa,PatternElement:eAe,Point:pl,PolygonElement:Jpe,PolylineElement:T$,Property:ji,QB1:TN,QB2:BN,QB3:MN,RadialGradientElement:iAe,RectElement:S$,RenderedElement:N1,Rotate:jpe,SVGElement:xx,SVGFontLoader:mAe,Scale:Gpe,Screen:Z5,Skew:C$,SkewX:Kpe,SkewY:Wpe,StopElement:aAe,StyleElement:M$,SymbolElement:AAe,TRefElement:hAe,TSpanElement:J5,TextElement:f0,TextPathElement:fAe,TitleElement:xAe,Transform:S1,Translate:Qpe,UnknownElement:qpe,UseElement:gAe,ViewPort:zpe,compressSpaces:Jy,default:J_,getSelectorSpecificity:Upe,normalizeAttributeName:Dpe,normalizeColor:Npe,parseExternalUrl:w$,presets:MTt,toNumbers:Gh,trimLeft:Rpe,trimRight:Ope,vectorMagnitude:bN,vectorsAngle:wN,vectorsRatio:_B},Symbol.toStringTag,{value:"Module"}));function hte(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function di(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hte(Object(n),!0).forEach(function(r){Bu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hte(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yB(t){"@babel/helpers - typeof";return yB=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yB(t)}function JTt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e8t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function t8t(t,e,n){return e&&e8t(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L$(t,e){return r8t(t)||a8t(t,e)||EAe(t,e)||o8t()}function nE(t){return n8t(t)||i8t(t)||EAe(t)||s8t()}function n8t(t){if(Array.isArray(t))return kN(t)}function r8t(t){if(Array.isArray(t))return t}function i8t(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function a8t(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,l,c;try{for(n=n.call(t);!(i=(l=n.next()).done)&&(r.push(l.value),!(e&&r.length===e));i=!0);}catch(a){s=!0,c=a}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw c}}return r}}function EAe(t,e){if(t){if(typeof t=="string")return kN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kN(t,e)}}function kN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s8t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o8t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var dte=function(){},k$={},SAe={},TAe=null,BAe={mark:dte,measure:dte};try{typeof window<"u"&&(k$=window),typeof document<"u"&&(SAe=document),typeof MutationObserver<"u"&&(TAe=MutationObserver),typeof performance<"u"&&(BAe=performance)}catch{}var l8t=k$.navigator||{},fte=l8t.userAgent,pte=fte===void 0?"":fte,T1=k$,No=SAe,Ate=TAe,V3=BAe;T1.document;var k0=!!No.documentElement&&!!No.head&&typeof No.addEventListener=="function"&&typeof No.createElement=="function",MAe=~pte.indexOf("MSIE")||~pte.indexOf("Trident/"),H3,Q3,j3,G3,K3,p0="___FONT_AWESOME___",PN=16,IAe="fa",LAe="svg-inline--fa",Ry="data-fa-i2svg",FN="data-fa-pseudo-element",u8t="data-fa-pseudo-element-pending",P$="data-prefix",F$="data-icon",mte="fontawesome-i2svg",c8t="async",h8t=["HTML","HEAD","STYLE","SCRIPT"],kAe=function(){try{return!0}catch{return!1}}(),Ro="classic",fl="sharp",R$=[Ro,fl];function rE(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[Ro]}})}var e5=rE((H3={},Bu(H3,Ro,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit",fakd:"kit","fa-kit":"kit","fa-kit-duotone":"kit"}),Bu(H3,fl,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"}),H3)),t5=rE((Q3={},Bu(Q3,Ro,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Bu(Q3,fl,{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"}),Q3)),n5=rE((j3={},Bu(j3,Ro,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Bu(j3,fl,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"}),j3)),d8t=rE((G3={},Bu(G3,Ro,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Bu(G3,fl,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"}),G3)),f8t=/fa(s|r|l|t|d|b|k|ss|sr|sl|st)?[\-\ ]/,PAe="fa-layers-text",p8t=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,A8t=rE((K3={},Bu(K3,Ro,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Bu(K3,fl,{900:"fass",400:"fasr",300:"fasl",100:"fast"}),K3)),FAe=[1,2,3,4,5,6,7,8,9,10],m8t=FAe.concat([11,12,13,14,15,16,17,18,19,20]),g8t=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],ey={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},r5=new Set;Object.keys(t5[Ro]).map(r5.add.bind(r5));Object.keys(t5[fl]).map(r5.add.bind(r5));var v8t=[].concat(R$,nE(r5),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",ey.GROUP,ey.SWAP_OPACITY,ey.PRIMARY,ey.SECONDARY]).concat(FAe.map(function(t){return"".concat(t,"x")})).concat(m8t.map(function(t){return"w-".concat(t)})),jC=T1.FontAwesomeConfig||{};function _8t(t){var e=No.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function y8t(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}if(No&&typeof No.querySelector=="function"){var b8t=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];b8t.forEach(function(t){var e=L$(t,2),n=e[0],r=e[1],i=y8t(_8t(n));i!=null&&(jC[r]=i)})}var RAe={styleDefault:"solid",familyDefault:"classic",cssPrefix:IAe,replacementClass:LAe,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};jC.familyPrefix&&(jC.cssPrefix=jC.familyPrefix);var q2=di(di({},RAe),jC);q2.autoReplaceSvg||(q2.observeMutations=!1);var Li={};Object.keys(RAe).forEach(function(t){Object.defineProperty(Li,t,{enumerable:!0,set:function(n){q2[t]=n,GC.forEach(function(r){return r(Li)})},get:function(){return q2[t]}})});Object.defineProperty(Li,"familyPrefix",{enumerable:!0,set:function(e){q2.cssPrefix=e,GC.forEach(function(n){return n(Li)})},get:function(){return q2.cssPrefix}});T1.FontAwesomeConfig=Li;var GC=[];function w8t(t){return GC.push(t),function(){GC.splice(GC.indexOf(t),1)}}var bv=PN,fm={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function x8t(t){if(!(!t||!k0)){var e=No.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=No.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],l=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(l)>-1&&(r=s)}return No.head.insertBefore(e,r),t}}var C8t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function i5(){for(var t=12,e="";t-- >0;)e+=C8t[Math.random()*62|0];return e}function Cx(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function O$(t){return t.classList?Cx(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function OAe(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function E8t(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(OAe(t[n]),'" ')},"").trim()}function CI(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function D$(t){return t.size!==fm.size||t.x!==fm.x||t.y!==fm.y||t.rotate!==fm.rotate||t.flipX||t.flipY}function S8t(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth,i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),l="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),c="rotate(".concat(e.rotate," 0 0)"),a={transform:"".concat(s," ").concat(l," ").concat(c)},f={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:a,path:f}}function T8t(t){var e=t.transform,n=t.width,r=n===void 0?PN:n,i=t.height,s=i===void 0?PN:i,l=t.startCentered,c=l===void 0?!1:l,a="";return c&&MAe?a+="translate(".concat(e.x/bv-r/2,"em, ").concat(e.y/bv-s/2,"em) "):c?a+="translate(calc(-50% + ".concat(e.x/bv,"em), calc(-50% + ").concat(e.y/bv,"em)) "):a+="translate(".concat(e.x/bv,"em, ").concat(e.y/bv,"em) "),a+="scale(".concat(e.size/bv*(e.flipX?-1:1),", ").concat(e.size/bv*(e.flipY?-1:1),") "),a+="rotate(".concat(e.rotate,"deg) "),a}var B8t=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, 0));
          transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function DAe(){var t=IAe,e=LAe,n=Li.cssPrefix,r=Li.replacementClass,i=B8t;if(n!==t||r!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),l=new RegExp("\\--".concat(t,"\\-"),"g"),c=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(l,"--".concat(n,"-")).replace(c,".".concat(r))}return i}var gte=!1;function YF(){Li.autoAddCss&&!gte&&(x8t(DAe()),gte=!0)}var M8t={mixout:function(){return{dom:{css:DAe,insertCss:YF}}},hooks:function(){return{beforeDOMElementCreation:function(){YF()},beforeI2svg:function(){YF()}}}},A0=T1||{};A0[p0]||(A0[p0]={});A0[p0].styles||(A0[p0].styles={});A0[p0].hooks||(A0[p0].hooks={});A0[p0].shims||(A0[p0].shims=[]);var qp=A0[p0],NAe=[],I8t=function t(){No.removeEventListener("DOMContentLoaded",t),bB=1,NAe.map(function(e){return e()})},bB=!1;k0&&(bB=(No.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(No.readyState),bB||No.addEventListener("DOMContentLoaded",I8t));function L8t(t){k0&&(bB?setTimeout(t,0):NAe.push(t))}function iE(t){var e=t.tag,n=t.attributes,r=n===void 0?{}:n,i=t.children,s=i===void 0?[]:i;return typeof t=="string"?OAe(t):"<".concat(e," ").concat(E8t(r),">").concat(s.map(iE).join(""),"</").concat(e,">")}function vte(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var XF=function(e,n,r,i){var s=Object.keys(e),l=s.length,c=n,a,f,p;for(r===void 0?(a=1,p=e[s[0]]):(a=0,p=r);a<l;a++)f=s[a],p=c(p,e[f],f,e);return p};function k8t(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function RN(t){var e=k8t(t);return e.length===1?e[0].toString(16):null}function P8t(t,e){var n=t.length,r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function _te(t){return Object.keys(t).reduce(function(e,n){var r=t[n],i=!!r.icon;return i?e[r.iconName]=r.icon:e[n]=r,e},{})}function ON(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipHooks,i=r===void 0?!1:r,s=_te(e);typeof qp.hooks.addPack=="function"&&!i?qp.hooks.addPack(t,_te(e)):qp.styles[t]=di(di({},qp.styles[t]||{}),s),t==="fas"&&ON("fa",e)}var W3,q3,Y3,Vw=qp.styles,F8t=qp.shims,R8t=(W3={},Bu(W3,Ro,Object.values(n5[Ro])),Bu(W3,fl,Object.values(n5[fl])),W3),N$=null,UAe={},zAe={},$Ae={},VAe={},HAe={},O8t=(q3={},Bu(q3,Ro,Object.keys(e5[Ro])),Bu(q3,fl,Object.keys(e5[fl])),q3);function D8t(t){return~v8t.indexOf(t)}function N8t(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r===t&&i!==""&&!D8t(i)?i:null}var QAe=function(){var e=function(s){return XF(Vw,function(l,c,a){return l[a]=XF(c,s,{}),l},{})};UAe=e(function(i,s,l){if(s[3]&&(i[s[3]]=l),s[2]){var c=s[2].filter(function(a){return typeof a=="number"});c.forEach(function(a){i[a.toString(16)]=l})}return i}),zAe=e(function(i,s,l){if(i[l]=l,s[2]){var c=s[2].filter(function(a){return typeof a=="string"});c.forEach(function(a){i[a]=l})}return i}),HAe=e(function(i,s,l){var c=s[2];return i[l]=l,c.forEach(function(a){i[a]=l}),i});var n="far"in Vw||Li.autoFetchSvg,r=XF(F8t,function(i,s){var l=s[0],c=s[1],a=s[2];return c==="far"&&!n&&(c="fas"),typeof l=="string"&&(i.names[l]={prefix:c,iconName:a}),typeof l=="number"&&(i.unicodes[l.toString(16)]={prefix:c,iconName:a}),i},{names:{},unicodes:{}});$Ae=r.names,VAe=r.unicodes,N$=EI(Li.styleDefault,{family:Li.familyDefault})};w8t(function(t){N$=EI(t.styleDefault,{family:Li.familyDefault})});QAe();function U$(t,e){return(UAe[t]||{})[e]}function U8t(t,e){return(zAe[t]||{})[e]}function ty(t,e){return(HAe[t]||{})[e]}function jAe(t){return $Ae[t]||{prefix:null,iconName:null}}function z8t(t){var e=VAe[t],n=U$("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function B1(){return N$}var z$=function(){return{prefix:null,iconName:null,rest:[]}};function EI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.family,r=n===void 0?Ro:n,i=e5[r][t],s=t5[r][t]||t5[r][i],l=t in qp.styles?t:null;return s||l||null}var yte=(Y3={},Bu(Y3,Ro,Object.keys(n5[Ro])),Bu(Y3,fl,Object.keys(n5[fl])),Y3);function SI(t){var e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.skipLookups,i=r===void 0?!1:r,s=(e={},Bu(e,Ro,"".concat(Li.cssPrefix,"-").concat(Ro)),Bu(e,fl,"".concat(Li.cssPrefix,"-").concat(fl)),e),l=null,c=Ro;(t.includes(s[Ro])||t.some(function(f){return yte[Ro].includes(f)}))&&(c=Ro),(t.includes(s[fl])||t.some(function(f){return yte[fl].includes(f)}))&&(c=fl);var a=t.reduce(function(f,p){var m=N8t(Li.cssPrefix,p);if(Vw[p]?(p=R8t[c].includes(p)?d8t[c][p]:p,l=p,f.prefix=p):O8t[c].indexOf(p)>-1?(l=p,f.prefix=EI(p,{family:c})):m?f.iconName=m:p!==Li.replacementClass&&p!==s[Ro]&&p!==s[fl]&&f.rest.push(p),!i&&f.prefix&&f.iconName){var v=l==="fa"?jAe(f.iconName):{},y=ty(f.prefix,f.iconName);v.prefix&&(l=null),f.iconName=v.iconName||y||f.iconName,f.prefix=v.prefix||f.prefix,f.prefix==="far"&&!Vw.far&&Vw.fas&&!Li.autoFetchSvg&&(f.prefix="fas")}return f},z$());return(t.includes("fa-brands")||t.includes("fab"))&&(a.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(a.prefix="fad"),!a.prefix&&c===fl&&(Vw.fass||Li.autoFetchSvg)&&(a.prefix="fass",a.iconName=ty(a.prefix,a.iconName)||a.iconName),(a.prefix==="fa"||l==="fa")&&(a.prefix=B1()||"fas"),a}var $8t=function(){function t(){JTt(this,t),this.definitions={}}return t8t(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var l=i.reduce(this._pullDefinitions,{});Object.keys(l).forEach(function(c){n.definitions[c]=di(di({},n.definitions[c]||{}),l[c]),ON(c,l[c]);var a=n5[Ro][c];a&&ON(a,l[c]),QAe()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var l=i[s],c=l.prefix,a=l.iconName,f=l.icon,p=f[2];n[c]||(n[c]={}),p.length>0&&p.forEach(function(m){typeof m=="string"&&(n[c][m]=f)}),n[c][a]=f}),n}}]),t}(),bte=[],Hw={},d2={},V8t=Object.keys(d2);function H8t(t,e){var n=e.mixoutsTo;return bte=t,Hw={},Object.keys(d2).forEach(function(r){V8t.indexOf(r)===-1&&delete d2[r]}),bte.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(l){typeof i[l]=="function"&&(n[l]=i[l]),yB(i[l])==="object"&&Object.keys(i[l]).forEach(function(c){n[l]||(n[l]={}),n[l][c]=i[l][c]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(l){Hw[l]||(Hw[l]=[]),Hw[l].push(s[l])})}r.provides&&r.provides(d2)}),n}function DN(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=Hw[t]||[];return s.forEach(function(l){e=l.apply(null,[e].concat(r))}),e}function Oy(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=Hw[t]||[];i.forEach(function(s){s.apply(null,n)})}function m0(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return d2[t]?d2[t].apply(null,e):void 0}function NN(t){t.prefix==="fa"&&(t.prefix="fas");var e=t.iconName,n=t.prefix||B1();if(e)return e=ty(n,e)||e,vte(GAe.definitions,n,e)||vte(qp.styles,n,e)}var GAe=new $8t,Q8t=function(){Li.autoReplaceSvg=!1,Li.observeMutations=!1,Oy("noAuto")},j8t={i2svg:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return k0?(Oy("beforeI2svg",e),m0("pseudoElements2svg",e),m0("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot;Li.autoReplaceSvg===!1&&(Li.autoReplaceSvg=!0),Li.observeMutations=!0,L8t(function(){K8t({autoReplaceSvgRoot:n}),Oy("watch",e)})}},G8t={icon:function(e){if(e===null)return null;if(yB(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:ty(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var n=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],r=EI(e[0]);return{prefix:r,iconName:ty(r,n)||n}}if(typeof e=="string"&&(e.indexOf("".concat(Li.cssPrefix,"-"))>-1||e.match(f8t))){var i=SI(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||B1(),iconName:ty(i.prefix,i.iconName)||i.iconName}}if(typeof e=="string"){var s=B1();return{prefix:s,iconName:ty(s,e)||e}}}},Wd={noAuto:Q8t,config:Li,dom:j8t,parse:G8t,library:GAe,findIconDefinition:NN,toHtml:iE},K8t=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot,r=n===void 0?No:n;(Object.keys(qp.styles).length>0||Li.autoFetchSvg)&&k0&&Li.autoReplaceSvg&&Wd.dom.i2svg({node:r})};function TI(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return iE(r)})}}),Object.defineProperty(t,"node",{get:function(){if(k0){var r=No.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function W8t(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,l=t.transform;if(D$(l)&&n.found&&!r.found){var c=n.width,a=n.height,f={x:c/a/2,y:.5};i.style=CI(di(di({},s),{},{"transform-origin":"".concat(f.x+l.x/16,"em ").concat(f.y+l.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function q8t(t){var e=t.prefix,n=t.iconName,r=t.children,i=t.attributes,s=t.symbol,l=s===!0?"".concat(e,"-").concat(Li.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:di(di({},i),{},{id:l}),children:r}]}]}function $$(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,l=t.transform,c=t.symbol,a=t.title,f=t.maskId,p=t.titleId,m=t.extra,v=t.watchable,y=v===void 0?!1:v,T=r.found?r:n,C=T.width,k=T.height,M=i==="fak",P=[Li.replacementClass,s?"".concat(Li.cssPrefix,"-").concat(s):""].filter(function(G){return m.classes.indexOf(G)===-1}).filter(function(G){return G!==""||!!G}).concat(m.classes).join(" "),R={children:[],attributes:di(di({},m.attributes),{},{"data-prefix":i,"data-icon":s,class:P,role:m.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(C," ").concat(k)})},N=M&&!~m.classes.indexOf("fa-fw")?{width:"".concat(C/k*16*.0625,"em")}:{};y&&(R.attributes[Ry]=""),a&&(R.children.push({tag:"title",attributes:{id:R.attributes["aria-labelledby"]||"title-".concat(p||i5())},children:[a]}),delete R.attributes.title);var z=di(di({},R),{},{prefix:i,iconName:s,main:n,mask:r,maskId:f,transform:l,symbol:c,styles:di(di({},N),m.styles)}),H=r.found&&n.found?m0("generateAbstractMask",z)||{children:[],attributes:{}}:m0("generateAbstractIcon",z)||{children:[],attributes:{}},j=H.children,Q=H.attributes;return z.children=j,z.attributes=Q,c?q8t(z):W8t(z)}function wte(t){var e=t.content,n=t.width,r=t.height,i=t.transform,s=t.title,l=t.extra,c=t.watchable,a=c===void 0?!1:c,f=di(di(di({},l.attributes),s?{title:s}:{}),{},{class:l.classes.join(" ")});a&&(f[Ry]="");var p=di({},l.styles);D$(i)&&(p.transform=T8t({transform:i,startCentered:!0,width:n,height:r}),p["-webkit-transform"]=p.transform);var m=CI(p);m.length>0&&(f.style=m);var v=[];return v.push({tag:"span",attributes:f,children:[e]}),s&&v.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),v}function Y8t(t){var e=t.content,n=t.title,r=t.extra,i=di(di(di({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=CI(r.styles);s.length>0&&(i.style=s);var l=[];return l.push({tag:"span",attributes:i,children:[e]}),n&&l.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),l}var ZF=qp.styles;function UN(t){var e=t[0],n=t[1],r=t.slice(4),i=L$(r,1),s=i[0],l=null;return Array.isArray(s)?l={tag:"g",attributes:{class:"".concat(Li.cssPrefix,"-").concat(ey.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Li.cssPrefix,"-").concat(ey.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(Li.cssPrefix,"-").concat(ey.PRIMARY),fill:"currentColor",d:s[1]}}]}:l={tag:"path",attributes:{fill:"currentColor",d:s}},{found:!0,width:e,height:n,icon:l}}var X8t={found:!1,width:512,height:512};function Z8t(t,e){!kAe&&!Li.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function zN(t,e){var n=e;return e==="fa"&&Li.styleDefault!==null&&(e=B1()),new Promise(function(r,i){if(m0("missingIconAbstract"),n==="fa"){var s=jAe(t)||{};t=s.iconName||t,e=s.prefix||e}if(t&&e&&ZF[e]&&ZF[e][t]){var l=ZF[e][t];return r(UN(l))}Z8t(t,e),r(di(di({},X8t),{},{icon:Li.showMissingIcons&&t?m0("missingIconAbstract")||{}:{}}))})}var xte=function(){},$N=Li.measurePerformance&&V3&&V3.mark&&V3.measure?V3:{mark:xte,measure:xte},aC='FA "6.5.2"',J8t=function(e){return $N.mark("".concat(aC," ").concat(e," begins")),function(){return KAe(e)}},KAe=function(e){$N.mark("".concat(aC," ").concat(e," ends")),$N.measure("".concat(aC," ").concat(e),"".concat(aC," ").concat(e," begins"),"".concat(aC," ").concat(e," ends"))},V$={begin:J8t,end:KAe},YT=function(){};function Cte(t){var e=t.getAttribute?t.getAttribute(Ry):null;return typeof e=="string"}function eBt(t){var e=t.getAttribute?t.getAttribute(P$):null,n=t.getAttribute?t.getAttribute(F$):null;return e&&n}function tBt(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Li.replacementClass)}function nBt(){if(Li.autoReplaceSvg===!0)return XT.replace;var t=XT[Li.autoReplaceSvg];return t||XT.replace}function rBt(t){return No.createElementNS("http://www.w3.org/2000/svg",t)}function iBt(t){return No.createElement(t)}function WAe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.ceFn,r=n===void 0?t.tag==="svg"?rBt:iBt:n;if(typeof t=="string")return No.createTextNode(t);var i=r(t.tag);Object.keys(t.attributes||[]).forEach(function(l){i.setAttribute(l,t.attributes[l])});var s=t.children||[];return s.forEach(function(l){i.appendChild(WAe(l,{ceFn:r}))}),i}function aBt(t){var e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var XT={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(WAe(i),n)}),n.getAttribute(Ry)===null&&Li.keepOriginalSource){var r=No.createComment(aBt(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~O$(n).indexOf(Li.replacementClass))return XT.replace(e);var i=new RegExp("".concat(Li.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(c,a){return a===Li.replacementClass||a.match(i)?c.toSvg.push(a):c.toNode.push(a),c},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",s.toNode.join(" "))}var l=r.map(function(c){return iE(c)}).join(`
`);n.setAttribute(Ry,""),n.innerHTML=l}};function Ete(t){t()}function qAe(t,e){var n=typeof e=="function"?e:YT;if(t.length===0)n();else{var r=Ete;Li.mutateApproach===c8t&&(r=T1.requestAnimationFrame||Ete),r(function(){var i=nBt(),s=V$.begin("mutate");t.map(i),s(),n()})}}var H$=!1;function YAe(){H$=!0}function VN(){H$=!1}var wB=null;function Ste(t){if(Ate&&Li.observeMutations){var e=t.treeCallback,n=e===void 0?YT:e,r=t.nodeCallback,i=r===void 0?YT:r,s=t.pseudoElementsCallback,l=s===void 0?YT:s,c=t.observeMutationsRoot,a=c===void 0?No:c;wB=new Ate(function(f){if(!H$){var p=B1();Cx(f).forEach(function(m){if(m.type==="childList"&&m.addedNodes.length>0&&!Cte(m.addedNodes[0])&&(Li.searchPseudoElements&&l(m.target),n(m.target)),m.type==="attributes"&&m.target.parentNode&&Li.searchPseudoElements&&l(m.target.parentNode),m.type==="attributes"&&Cte(m.target)&&~g8t.indexOf(m.attributeName))if(m.attributeName==="class"&&eBt(m.target)){var v=SI(O$(m.target)),y=v.prefix,T=v.iconName;m.target.setAttribute(P$,y||p),T&&m.target.setAttribute(F$,T)}else tBt(m.target)&&i(m.target)})}}),k0&&wB.observe(a,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function sBt(){wB&&wB.disconnect()}function oBt(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var s=i.split(":"),l=s[0],c=s.slice(1);return l&&c.length>0&&(r[l]=c.join(":").trim()),r},{})),n}function lBt(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"",i=SI(O$(t));return i.prefix||(i.prefix=B1()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=U8t(i.prefix,t.innerText)||U$(i.prefix,RN(t.innerText))),!i.iconName&&Li.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function uBt(t){var e=Cx(t.attributes).reduce(function(i,s){return i.name!=="class"&&i.name!=="style"&&(i[s.name]=s.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return Li.autoA11y&&(n?e["aria-labelledby"]="".concat(Li.replacementClass,"-title-").concat(r||i5()):(e["aria-hidden"]="true",e.focusable="false")),e}function cBt(){return{iconName:null,title:null,titleId:null,prefix:null,transform:fm,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function Tte(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=lBt(t),r=n.iconName,i=n.prefix,s=n.rest,l=uBt(t),c=DN("parseNodeAttributes",{},t),a=e.styleParser?oBt(t):[];return di({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:fm,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:a,attributes:l}},c)}var hBt=qp.styles;function XAe(t){var e=Li.autoReplaceSvg==="nest"?Tte(t,{styleParser:!1}):Tte(t);return~e.extra.classes.indexOf(PAe)?m0("generateLayersText",t,e):m0("generateSvgReplacementMutation",t,e)}var M1=new Set;R$.map(function(t){M1.add("fa-".concat(t))});Object.keys(e5[Ro]).map(M1.add.bind(M1));Object.keys(e5[fl]).map(M1.add.bind(M1));M1=nE(M1);function Bte(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!k0)return Promise.resolve();var n=No.documentElement.classList,r=function(m){return n.add("".concat(mte,"-").concat(m))},i=function(m){return n.remove("".concat(mte,"-").concat(m))},s=Li.autoFetchSvg?M1:R$.map(function(p){return"fa-".concat(p)}).concat(Object.keys(hBt));s.includes("fa")||s.push("fa");var l=[".".concat(PAe,":not([").concat(Ry,"])")].concat(s.map(function(p){return".".concat(p,":not([").concat(Ry,"])")})).join(", ");if(l.length===0)return Promise.resolve();var c=[];try{c=Cx(t.querySelectorAll(l))}catch{}if(c.length>0)r("pending"),i("complete");else return Promise.resolve();var a=V$.begin("onTree"),f=c.reduce(function(p,m){try{var v=XAe(m);v&&p.push(v)}catch(y){kAe||y.name==="MissingIcon"&&console.error(y)}return p},[]);return new Promise(function(p,m){Promise.all(f).then(function(v){qAe(v,function(){r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),a(),p()})}).catch(function(v){a(),m(v)})})}function dBt(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;XAe(t).then(function(n){n&&qAe([n],e)})}function fBt(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(e||{}).icon?e:NN(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:NN(i||{})),t(r,di(di({},n),{},{mask:i}))}}var pBt=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.transform,i=r===void 0?fm:r,s=n.symbol,l=s===void 0?!1:s,c=n.mask,a=c===void 0?null:c,f=n.maskId,p=f===void 0?null:f,m=n.title,v=m===void 0?null:m,y=n.titleId,T=y===void 0?null:y,C=n.classes,k=C===void 0?[]:C,M=n.attributes,P=M===void 0?{}:M,R=n.styles,N=R===void 0?{}:R;if(e){var z=e.prefix,H=e.iconName,j=e.icon;return TI(di({type:"icon"},e),function(){return Oy("beforeDOMElementCreation",{iconDefinition:e,params:n}),Li.autoA11y&&(v?P["aria-labelledby"]="".concat(Li.replacementClass,"-title-").concat(T||i5()):(P["aria-hidden"]="true",P.focusable="false")),$$({icons:{main:UN(j),mask:a?UN(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:z,iconName:H,transform:di(di({},fm),i),symbol:l,title:v,maskId:p,titleId:T,extra:{attributes:P,styles:N,classes:k}})})}},ABt={mixout:function(){return{icon:fBt(pBt)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=Bte,n.nodeCallback=dBt,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,i=r===void 0?No:r,s=n.callback,l=s===void 0?function(){}:s;return Bte(i,l)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,s=r.title,l=r.titleId,c=r.prefix,a=r.transform,f=r.symbol,p=r.mask,m=r.maskId,v=r.extra;return new Promise(function(y,T){Promise.all([zN(i,c),p.iconName?zN(p.iconName,p.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(C){var k=L$(C,2),M=k[0],P=k[1];y([n,$$({icons:{main:M,mask:P},prefix:c,iconName:i,transform:a,symbol:f,maskId:m,title:s,titleId:l,extra:v,watchable:!0})])}).catch(T)})},e.generateAbstractIcon=function(n){var r=n.children,i=n.attributes,s=n.main,l=n.transform,c=n.styles,a=CI(c);a.length>0&&(i.style=a);var f;return D$(l)&&(f=m0("generateAbstractTransformGrouping",{main:s,transform:l,containerWidth:s.width,iconWidth:s.width})),r.push(f||s.icon),{children:r,attributes:i}}}},mBt={mixout:function(){return{layer:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.classes,s=i===void 0?[]:i;return TI({type:"layer"},function(){Oy("beforeDOMElementCreation",{assembler:n,params:r});var l=[];return n(function(c){Array.isArray(c)?c.map(function(a){l=l.concat(a.abstract)}):l=l.concat(c.abstract)}),[{tag:"span",attributes:{class:["".concat(Li.cssPrefix,"-layers")].concat(nE(s)).join(" ")},children:l}]})}}}},gBt={mixout:function(){return{counter:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.title,s=i===void 0?null:i,l=r.classes,c=l===void 0?[]:l,a=r.attributes,f=a===void 0?{}:a,p=r.styles,m=p===void 0?{}:p;return TI({type:"counter",content:n},function(){return Oy("beforeDOMElementCreation",{content:n,params:r}),Y8t({content:n.toString(),title:s,extra:{attributes:f,styles:m,classes:["".concat(Li.cssPrefix,"-layers-counter")].concat(nE(c))}})})}}}},vBt={mixout:function(){return{text:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.transform,s=i===void 0?fm:i,l=r.title,c=l===void 0?null:l,a=r.classes,f=a===void 0?[]:a,p=r.attributes,m=p===void 0?{}:p,v=r.styles,y=v===void 0?{}:v;return TI({type:"text",content:n},function(){return Oy("beforeDOMElementCreation",{content:n,params:r}),wte({content:n,transform:di(di({},fm),s),title:c,extra:{attributes:m,styles:y,classes:["".concat(Li.cssPrefix,"-layers-text")].concat(nE(f))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,s=r.transform,l=r.extra,c=null,a=null;if(MAe){var f=parseInt(getComputedStyle(n).fontSize,10),p=n.getBoundingClientRect();c=p.width/f,a=p.height/f}return Li.autoA11y&&!i&&(l.attributes["aria-hidden"]="true"),Promise.resolve([n,wte({content:n.innerHTML,width:c,height:a,transform:s,title:i,extra:l,watchable:!0})])}}},_Bt=new RegExp('"',"ug"),Mte=[1105920,1112319];function yBt(t){var e=t.replace(_Bt,""),n=P8t(e,0),r=n>=Mte[0]&&n<=Mte[1],i=e.length===2?e[0]===e[1]:!1;return{value:RN(i?e[0]:e),isSecondary:r||i}}function Ite(t,e){var n="".concat(u8t).concat(e.replace(":","-"));return new Promise(function(r,i){if(t.getAttribute(n)!==null)return r();var s=Cx(t.children),l=s.filter(function(j){return j.getAttribute(FN)===e})[0],c=T1.getComputedStyle(t,e),a=c.getPropertyValue("font-family").match(p8t),f=c.getPropertyValue("font-weight"),p=c.getPropertyValue("content");if(l&&!a)return t.removeChild(l),r();if(a&&p!=="none"&&p!==""){var m=c.getPropertyValue("content"),v=~["Sharp"].indexOf(a[2])?fl:Ro,y=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(a[2])?t5[v][a[2].toLowerCase()]:A8t[v][f],T=yBt(m),C=T.value,k=T.isSecondary,M=a[0].startsWith("FontAwesome"),P=U$(y,C),R=P;if(M){var N=z8t(C);N.iconName&&N.prefix&&(P=N.iconName,y=N.prefix)}if(P&&!k&&(!l||l.getAttribute(P$)!==y||l.getAttribute(F$)!==R)){t.setAttribute(n,R),l&&t.removeChild(l);var z=cBt(),H=z.extra;H.attributes[FN]=e,zN(P,y).then(function(j){var Q=$$(di(di({},z),{},{icons:{main:j,mask:z$()},prefix:y,iconName:R,extra:H,watchable:!0})),G=No.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(G,t.firstChild):t.appendChild(G),G.outerHTML=Q.map(function(ie){return iE(ie)}).join(`
`),t.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function bBt(t){return Promise.all([Ite(t,"::before"),Ite(t,"::after")])}function wBt(t){return t.parentNode!==document.head&&!~h8t.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(FN)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function Lte(t){if(k0)return new Promise(function(e,n){var r=Cx(t.querySelectorAll("*")).filter(wBt).map(bBt),i=V$.begin("searchPseudoElements");YAe(),Promise.all(r).then(function(){i(),VN(),e()}).catch(function(){i(),VN(),n()})})}var xBt={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=Lte,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node,i=r===void 0?No:r;Li.searchPseudoElements&&Lte(i)}}},kte=!1,CBt={mixout:function(){return{dom:{unwatch:function(){YAe(),kte=!0}}}},hooks:function(){return{bootstrap:function(){Ste(DN("mutationObserverCallbacks",{}))},noAuto:function(){sBt()},watch:function(n){var r=n.observeMutationsRoot;kte?VN():Ste(DN("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},Pte=function(e){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),l=s[0],c=s.slice(1).join("-");if(l&&c==="h")return r.flipX=!0,r;if(l&&c==="v")return r.flipY=!0,r;if(c=parseFloat(c),isNaN(c))return r;switch(l){case"grow":r.size=r.size+c;break;case"shrink":r.size=r.size-c;break;case"left":r.x=r.x-c;break;case"right":r.x=r.x+c;break;case"up":r.y=r.y-c;break;case"down":r.y=r.y+c;break;case"rotate":r.rotate=r.rotate+c;break}return r},n)},EBt={mixout:function(){return{parse:{transform:function(n){return Pte(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=Pte(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,s=n.containerWidth,l=n.iconWidth,c={transform:"translate(".concat(s/2," 256)")},a="translate(".concat(i.x*32,", ").concat(i.y*32,") "),f="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),p="rotate(".concat(i.rotate," 0 0)"),m={transform:"".concat(a," ").concat(f," ").concat(p)},v={transform:"translate(".concat(l/2*-1," -256)")},y={outer:c,inner:m,path:v};return{tag:"g",attributes:di({},y.outer),children:[{tag:"g",attributes:di({},y.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:di(di({},r.icon.attributes),y.path)}]}]}}}},JF={x:0,y:0,width:"100%",height:"100%"};function Fte(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function SBt(t){return t.tag==="g"?t.children:[t]}var TBt={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),s=i?SI(i.split(" ").map(function(l){return l.trim()})):z$();return s.prefix||(s.prefix=B1()),n.mask=s,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,s=n.main,l=n.mask,c=n.maskId,a=n.transform,f=s.width,p=s.icon,m=l.width,v=l.icon,y=S8t({transform:a,containerWidth:m,iconWidth:f}),T={tag:"rect",attributes:di(di({},JF),{},{fill:"white"})},C=p.children?{children:p.children.map(Fte)}:{},k={tag:"g",attributes:di({},y.inner),children:[Fte(di({tag:p.tag,attributes:di(di({},p.attributes),y.path)},C))]},M={tag:"g",attributes:di({},y.outer),children:[k]},P="mask-".concat(c||i5()),R="clip-".concat(c||i5()),N={tag:"mask",attributes:di(di({},JF),{},{id:P,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[T,M]},z={tag:"defs",children:[{tag:"clipPath",attributes:{id:R},children:SBt(v)},N]};return r.push(z,{tag:"rect",attributes:di({fill:"currentColor","clip-path":"url(#".concat(R,")"),mask:"url(#".concat(P,")")},JF)}),{children:r,attributes:i}}}},BBt={provides:function(e){var n=!1;T1.matchMedia&&(n=T1.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:di(di({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var l=di(di({},s),{},{attributeName:"opacity"}),c={tag:"circle",attributes:di(di({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||c.children.push({tag:"animate",attributes:di(di({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:di(di({},l),{},{values:"1;0;1;1;0;1;"})}),r.push(c),r.push({tag:"path",attributes:di(di({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:di(di({},l),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:di(di({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:di(di({},l),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},MBt={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol"),s=i===null?!1:i===""?!0:i;return n.symbol=s,n}}}},IBt=[M8t,ABt,mBt,gBt,vBt,xBt,CBt,EBt,TBt,BBt,MBt];H8t(IBt,{mixoutsTo:Wd});Wd.noAuto;Wd.config;var LBt=Wd.library;Wd.dom;var HN=Wd.parse;Wd.findIconDefinition;Wd.toHtml;var kBt=Wd.icon;Wd.layer;Wd.text;Wd.counter;var PBt={prefix:"fas",iconName:"tag",icon:[448,512,[127991],"f02b","M0 80V229.5c0 17 6.7 33.3 18.7 45.3l176 176c25 25 65.5 25 90.5 0L418.7 317.3c25-25 25-65.5 0-90.5l-176-176c-12-12-28.3-18.7-45.3-18.7H48C21.5 32 0 53.5 0 80zm112 32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]};function Rte(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rte(Object(n),!0).forEach(function(r){Fh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rte(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xB(t){"@babel/helpers - typeof";return xB=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xB(t)}function Fh(t,e,n){return e=DBt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FBt(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function RBt(t,e){if(t==null)return{};var n=FBt(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OBt(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DBt(t){var e=OBt(t,"string");return typeof e=="symbol"?e:String(e)}var NBt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ZAe={exports:{}};(function(t){(function(e){var n=function(M,P,R){if(!f(P)||m(P)||v(P)||y(P)||a(P))return P;var N,z=0,H=0;if(p(P))for(N=[],H=P.length;z<H;z++)N.push(n(M,P[z],R));else{N={};for(var j in P)Object.prototype.hasOwnProperty.call(P,j)&&(N[M(j,R)]=n(M,P[j],R))}return N},r=function(M,P){P=P||{};var R=P.separator||"_",N=P.split||/(?=[A-Z])/;return M.split(N).join(R)},i=function(M){return T(M)?M:(M=M.replace(/[\-_\s]+(.)?/g,function(P,R){return R?R.toUpperCase():""}),M.substr(0,1).toLowerCase()+M.substr(1))},s=function(M){var P=i(M);return P.substr(0,1).toUpperCase()+P.substr(1)},l=function(M,P){return r(M,P).toLowerCase()},c=Object.prototype.toString,a=function(M){return typeof M=="function"},f=function(M){return M===Object(M)},p=function(M){return c.call(M)=="[object Array]"},m=function(M){return c.call(M)=="[object Date]"},v=function(M){return c.call(M)=="[object RegExp]"},y=function(M){return c.call(M)=="[object Boolean]"},T=function(M){return M=M-0,M===M},C=function(M,P){var R=P&&"process"in P?P.process:P;return typeof R!="function"?M:function(N,z){return R(N,M,z)}},k={camelize:i,decamelize:l,pascalize:s,depascalize:l,camelizeKeys:function(M,P){return n(C(i,P),M)},decamelizeKeys:function(M,P){return n(C(l,P),M,P)},pascalizeKeys:function(M,P){return n(C(s,P),M)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};t.exports?t.exports=k:e.humps=k})(NBt)})(ZAe);var UBt=ZAe.exports,zBt=["class","style"];function $Bt(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),i=UBt.camelize(n.slice(0,r)),s=n.slice(r+1).trim();return e[i]=s,e},{})}function VBt(t){return t.split(/\s+/).reduce(function(e,n){return e[n]=!0,e},{})}function JAe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var r=(t.children||[]).map(function(a){return JAe(a)}),i=Object.keys(t.attributes||{}).reduce(function(a,f){var p=t.attributes[f];switch(f){case"class":a.class=VBt(p);break;case"style":a.style=$Bt(p);break;default:a.attrs[f]=p}return a},{attrs:{},class:{},style:{}});n.class;var s=n.style,l=s===void 0?{}:s,c=RBt(n,zBt);return wr(t.tag,Wg(Wg(Wg({},e),{},{class:i.class,style:Wg(Wg({},i.style),l)},i.attrs),c),r)}var eme=!1;try{eme=!0}catch{}function HBt(){if(!eme&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function eR(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?Fh({},t,e):{}}function QBt(t){var e,n=(e={"fa-spin":t.spin,"fa-pulse":t.pulse,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-li":t.listItem,"fa-inverse":t.inverse,"fa-flip":t.flip===!0,"fa-flip-horizontal":t.flip==="horizontal"||t.flip==="both","fa-flip-vertical":t.flip==="vertical"||t.flip==="both"},Fh(e,"fa-".concat(t.size),t.size!==null),Fh(e,"fa-rotate-".concat(t.rotation),t.rotation!==null),Fh(e,"fa-pull-".concat(t.pull),t.pull!==null),Fh(e,"fa-swap-opacity",t.swapOpacity),Fh(e,"fa-bounce",t.bounce),Fh(e,"fa-shake",t.shake),Fh(e,"fa-beat",t.beat),Fh(e,"fa-fade",t.fade),Fh(e,"fa-beat-fade",t.beatFade),Fh(e,"fa-flash",t.flash),Fh(e,"fa-spin-pulse",t.spinPulse),Fh(e,"fa-spin-reverse",t.spinReverse),e);return Object.keys(n).map(function(r){return n[r]?r:null}).filter(function(r){return r})}function Ote(t){if(t&&xB(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(HN.icon)return HN.icon(t);if(t===null)return null;if(xB(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}var jBt=Be({name:"FontAwesomeIcon",props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:[Boolean,String],default:!1,validator:function(e){return[!0,!1,"horizontal","vertical","both"].indexOf(e)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},maskId:{type:String,default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(e){return["right","left"].indexOf(e)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(e){return[90,180,270].indexOf(Number.parseInt(e,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(e){return["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(e)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},titleId:{type:String,default:null},inverse:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},shake:{type:Boolean,default:!1},beat:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},beatFade:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},spinPulse:{type:Boolean,default:!1},spinReverse:{type:Boolean,default:!1}},setup:function(e,n){var r=n.attrs,i=le(function(){return Ote(e.icon)}),s=le(function(){return eR("classes",QBt(e))}),l=le(function(){return eR("transform",typeof e.transform=="string"?HN.transform(e.transform):e.transform)}),c=le(function(){return eR("mask",Ote(e.mask))}),a=le(function(){return kBt(i.value,Wg(Wg(Wg(Wg({},s.value),l.value),c.value),{},{symbol:e.symbol,title:e.title,titleId:e.titleId,maskId:e.maskId}))});ln(a,function(p){if(!p)return HBt("Could not find one or more icon(s)",i.value,c.value)},{immediate:!0});var f=le(function(){return a.value?JAe(a.value.abstract[0],{},r):null});return function(){return f.value}}});LBt.add(PBt);const BI=Jne($xe);BI.component("font-awesome-icon",jBt);for(const[t,e]of Object.entries(hOe))BI.component(t,e);BI.use(Kat);BI.mount("#app")});export default GBt();
